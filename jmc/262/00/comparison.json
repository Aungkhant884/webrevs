{"files":[{"patch":"@@ -40,0 +40,1 @@\n+import static org.openjdk.jmc.common.unit.UnitLookup.FREQUENCY;\n@@ -1157,1 +1158,13 @@\n-\tpublic static IAttribute<IQuantity> OS_SWITCH_RATE;\n+\tprivate static final IAttribute<IQuantity> OS_SWITCH_RATE_FREQUENCY = attr(\"switchRate\", \/\/$NON-NLS-1$\n+\t\t\tMessages.getString(Messages.ATTR_OS_SWITCH_RATE), FREQUENCY);\n+\tprivate static final IAttribute<IQuantity> OS_SWITCH_RATE_NUMBER = attr(\"switchRate\", \/\/$NON-NLS-1$\n+\t\t\tMessages.getString(Messages.ATTR_OS_SWITCH_RATE), NUMBER);\n+\tpublic static final IAttribute<IQuantity> OS_SWITCH_RATE = Attribute.canonicalize(new Attribute<IQuantity>(\n+\t\t\t\"oldObjectClass\", Messages.getString(Messages.ATTR_OS_SWITCH_RATE), \"\", FREQUENCY) { \/\/$NON-NLS-1$ \/\/$NON-NLS-2$\n+\t\t@Override\n+\t\tpublic <U> IMemberAccessor<IQuantity, U> customAccessor(IType<U> type) {\n+\t\t\tfinal IMemberAccessor<IQuantity, U> rateNumberAccessor = OS_SWITCH_RATE_NUMBER.getAccessor(type);\n+\t\t\tfinal IMemberAccessor<IQuantity, U> rateFrequencyAccessor = OS_SWITCH_RATE_FREQUENCY.getAccessor(type);\n+\t\t\treturn rateNumberAccessor == null ? rateFrequencyAccessor : rateNumberAccessor;\n+\t\t}\n+\t});\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/jdk\/JdkAttributes.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -51,1 +51,0 @@\n-\tpublic static final String SyntheticAttributeExtension_ATTR_OS_SWITCH_RATE = \"SyntheticAttributeExtension_ATTR_OS_SWITCH_RATE\"; \/\/$NON-NLS-1$\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/parser\/synthetic\/Messages.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-\tfinal static String CONTEXT_SWITCH_RATE = JVM_EVENT_ID_ROOT + \"os\/processor\/context_switch_rate\";\n+\tprivate final static String CONTEXT_SWITCH_RATE = JVM_EVENT_ID_ROOT + \"os\/processor\/context_switch_rate\";\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/parser\/synthetic\/OracleJdkTypeIDsPre11.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -75,1 +75,0 @@\n-\tprivate static final String SWITCH_RATE = \"switchRate\";\n@@ -191,11 +190,0 @@\n-\t\t} else if (SWITCH_RATE.equals(fieldId)) {\n-\t\t\tif (eventTypeId.equalsIgnoreCase(\"jdk.ThreadContextSwitchRate\")) {\n-\t\t\t\tJdkAttributes.OS_SWITCH_RATE = attr(\"switchRate\", \/\/$NON-NLS-1$\n-\t\t\t\t\t\tMessages.getString(Messages.SyntheticAttributeExtension_ATTR_OS_SWITCH_RATE),\n-\t\t\t\t\t\tUnitLookup.FREQUENCY);\n-\n-\t\t\t} else if (OracleJdkTypeIDsPre11.CONTEXT_SWITCH_RATE.equals(eventTypeId)) {\n-\t\t\t\tJdkAttributes.OS_SWITCH_RATE = attr(\"switchRate\", \/\/$NON-NLS-1$\n-\t\t\t\t\t\tMessages.getString(Messages.SyntheticAttributeExtension_ATTR_OS_SWITCH_RATE),\n-\t\t\t\t\t\tUnitLookup.NUMBER);\n-\t\t\t}\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/parser\/synthetic\/SyntheticAttributeExtension.java","additions":0,"deletions":12,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -41,1 +41,0 @@\n-SyntheticAttributeExtension_ATTR_OS_SWITCH_RATE=Context Switch Rate\n","filename":"core\/org.openjdk.jmc.flightrecorder\/src\/main\/resources\/org\/openjdk\/jmc\/flightrecorder\/parser\/synthetic\/messages.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}