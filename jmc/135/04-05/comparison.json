{"files":[{"patch":"@@ -58,1 +58,0 @@\n-import java.util.ArrayList;\n@@ -60,1 +59,0 @@\n-import java.util.List;\n@@ -171,3 +169,1 @@\n-\tprivate int activeModelRebuildThread;\n-\tprivate List<ModelRebuildRunable> modelRebuildRunnableList = new ArrayList<ModelRebuildRunable>(\n-\t\t\tMODEL_EXECUTOR_THREADS_NUMBER);\n+\tprivate ModelRebuildRunnable modelRebuildRunnable;\n@@ -283,1 +279,1 @@\n-\tprivate static class ModelRebuildRunable implements Runnable {\n+\tprivate static class ModelRebuildRunnable implements Runnable {\n@@ -289,1 +285,1 @@\n-\t\tprivate ModelRebuildRunable(FlameGraphView view, IItemCollection items) {\n+\t\tprivate ModelRebuildRunnable(FlameGraphView view, IItemCollection items) {\n@@ -390,3 +386,2 @@\n-\t\tif (!modelRebuildRunnableList.isEmpty()) {\n-\t\t\tmodelRebuildRunnableList.get(activeModelRebuildThread).setInvalid();\n-\t\t\tactiveModelRebuildThread = (activeModelRebuildThread + 1) % MODEL_EXECUTOR_THREADS_NUMBER;\n+\t\tif (modelRebuildRunnable != null) {\n+\t\t\tmodelRebuildRunnable.setInvalid();\n@@ -397,3 +392,3 @@\n-\t\tmodelRebuildRunnableList.add(activeModelRebuildThread, new ModelRebuildRunable(this, items));\n-\t\tif (!modelRebuildRunnableList.get(activeModelRebuildThread).isInvalid) {\n-\t\t\tMODEL_EXECUTOR.execute(modelRebuildRunnableList.get(activeModelRebuildThread));\n+\t\tmodelRebuildRunnable = new ModelRebuildRunnable(this, items);\n+\t\tif (!modelRebuildRunnable.isInvalid) {\n+\t\t\tMODEL_EXECUTOR.execute(modelRebuildRunnable);\n@@ -499,1 +494,1 @@\n-\tprivate StringBuilder toJSonModel(TraceNode root, ModelRebuildRunable rebuildCallable) {\n+\tprivate StringBuilder toJSonModel(TraceNode root, ModelRebuildRunnable rebuildCallable) {\n@@ -508,1 +503,1 @@\n-\tprivate static void render(StringBuilder builder, TraceNode node, ModelRebuildRunable rebuildCallable) {\n+\tprivate static void render(StringBuilder builder, TraceNode node, ModelRebuildRunnable rebuildCallable) {\n@@ -516,1 +511,1 @@\n-\tprivate static void renderChildren(StringBuilder builder, TraceNode node, ModelRebuildRunable rebuildCallable) {\n+\tprivate static void renderChildren(StringBuilder builder, TraceNode node, ModelRebuildRunnable rebuildCallable) {\n","filename":"application\/org.openjdk.jmc.flightrecorder.flameview\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/flameview\/views\/FlameGraphView.java","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"}]}