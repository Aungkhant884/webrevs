{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -126,6 +126,13 @@\n-\n-\t\tString url_open = OAUTH_AUTHORIZE_URL + \"?oauth_token=\" + oauth_token;\n-\t\ttry {\n-\t\t\tjava.awt.Desktop.getDesktop().browse(java.net.URI.create(url_open));\n-\t\t} catch (IOException e) {\n-\t\t\tLOGGER.log(Level.SEVERE, Messages.TriggerActionTwitterAuthorization_Exception, e);\n+\t\tif (oauth_token != null) {\n+\t\t\ttry {\n+\t\t\t\tbyte[] data = Base64.getUrlDecoder().decode(oauth_token);\n+\t\t\t\toauth_token = Base64.getUrlEncoder().withoutPadding().encodeToString(data);\n+\t\t\t\tString url_open = OAUTH_AUTHORIZE_URL + \"?oauth_token=\" + oauth_token;\n+\t\t\t\tjava.awt.Desktop.getDesktop().browse(new URI(url_open));\n+\t\t\t} catch (IOException e) {\n+\t\t\t\tLOGGER.log(Level.SEVERE, Messages.TriggerActionTwitterAuthorization_Exception, e);\n+\t\t\t} catch (URISyntaxException e) {\n+\t\t\t\tLOGGER.log(Level.SEVERE, Messages.TriggerActionTwitterAuthorization_Exception, e);\n+\t\t\t} catch (IllegalArgumentException e) {\n+\t\t\t\tLOGGER.log(Level.SEVERE, Messages.TriggerActionTwitterInvalidToken_Exception, e);\n+\t\t\t}\n","filename":"application\/org.openjdk.jmc.console.twitter\/src\/main\/java\/org\/openjdk\/jmc\/console\/twitter\/TwitterOAuthAuthenticator.java","additions":14,"deletions":7,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-import java.util.Random;\n+import java.util.UUID;\n@@ -63,1 +63,0 @@\n-\tfinal static Random RANDOM = new Random();\n@@ -184,9 +183,1 @@\n-\t\tint leftLimit = 48; \/\/ numeral '0'\n-\t\tint rightLimit = 122; \/\/ letter 'z'\n-\t\tint targetStringLength = 10;\n-\n-\t\tsynchronized (RANDOM) {\n-\t\t\treturn RANDOM.ints(leftLimit, rightLimit + 1).filter(i -> (i <= 57 || i >= 65) && (i <= 90 || i >= 97))\n-\t\t\t\t\t.limit(targetStringLength)\n-\t\t\t\t\t.collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\n-\t\t}\n+\t\treturn UUID.randomUUID().toString().replaceAll(\"-\", \"\");\n","filename":"application\/org.openjdk.jmc.console.twitter\/src\/main\/java\/org\/openjdk\/jmc\/console\/twitter\/TwitterOAuthHeaderGenerator.java","additions":3,"deletions":12,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -57,0 +57,1 @@\n+\tpublic static String TriggerActionTwitterInvalidToken_Exception;\n","filename":"application\/org.openjdk.jmc.rjmx\/src\/main\/java\/org\/openjdk\/jmc\/rjmx\/triggers\/actions\/internal\/Messages.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-#  Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+#  Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,1 @@\n+TriggerActionTwitterInvalidToken_Exception=Invalid token.\n","filename":"application\/org.openjdk.jmc.rjmx\/src\/main\/resources\/org\/openjdk\/jmc\/rjmx\/triggers\/actions\/internal\/messages.properties","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}