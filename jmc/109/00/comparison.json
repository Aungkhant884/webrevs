{"files":[{"patch":"@@ -41,0 +41,1 @@\n+import org.eclipse.swt.graphics.ImageData;\n@@ -116,14 +117,16 @@\n-\t\tint size = THUMBNAIL_SIZE;\n-\t\tImage i = new Image(Display.getDefault(), size, size);\n-\t\tGC gc = new GC(i);\n-\t\tgc.setBackground(getColor(BG_COLOR));\n-\t\tgc.fillRectangle(0, 0, size - 1, size - 1);\n-\t\tgc.setForeground(getColor(start));\n-\t\tgc.setBackground(getColor(end));\n-\t\tgc.fillGradientRectangle(1, 1, size - 3, size - 3, vertical);\n-\t\tgc.setForeground(getColor(BORDER_COLOR));\n-\t\tgc.drawRectangle(1, 1, size - 3, size - 3);\n-\t\tgc.dispose();\n-\t\tImageDescriptor id = ImageDescriptor.createFromImageDataProvider((zoom) -> i.getImageData(zoom));\n-\t\ti.dispose();\n-\t\treturn id;\n+\t\treturn ImageDescriptor.createFromImageDataProvider(zoom -> {\n+\t\t\tint size = THUMBNAIL_SIZE;\n+\t\t\tImage i = new Image(Display.getDefault(), size, size);\n+\t\t\tGC gc = new GC(i);\n+\t\t\tgc.setBackground(getColor(BG_COLOR));\n+\t\t\tgc.fillRectangle(0, 0, size - 1, size - 1);\n+\t\t\tgc.setForeground(getColor(start));\n+\t\t\tgc.setBackground(getColor(end));\n+\t\t\tgc.fillGradientRectangle(1, 1, size - 3, size - 3, vertical);\n+\t\t\tgc.setForeground(getColor(BORDER_COLOR));\n+\t\t\tgc.drawRectangle(1, 1, size - 3, size - 3);\n+\t\t\tgc.dispose();\n+\t\t\tImageData imageData = i.getImageData(zoom);\n+\t\t\ti.dispose();\n+\t\t\treturn imageData;\n+\t\t});\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/misc\/SWTColorToolkit.java","additions":17,"deletions":14,"binary":false,"changes":31,"status":"modified"}]}