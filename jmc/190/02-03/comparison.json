{"files":[{"patch":"@@ -3,0 +3,1 @@\n+START_YEAR=2018\n@@ -4,0 +5,1 @@\n+PREVIOUS_YEAR=$(date +%Y | awk -F '\/' '{$NF--}1')\n@@ -6,0 +8,2 @@\n+echo \"START_YEAR : $START_YEAR\"\n+echo \"PREVIOUS_YEAR : $PREVIOUS_YEAR\"\n@@ -7,1 +11,0 @@\n-# Modified\n@@ -17,2 +20,11 @@\n-   \tsed -i ''  \"\/Copyright (c)\/s\/2020\/$CURRENT_YEAR\/\" $filesToUpdate\n-    \tsed -i ''  \"\/Copyright (c)\/s\/2018, Oracle\/2018, $CURRENT_YEAR, Oracle\/\" $filesToUpdate\n+      if [ \"$(uname)\" == \"Darwin\" ]; then\n+        # For Mac OS sed inplace doesn't work without these\n+        sed -i '' '\/Copyright (c)\/s\/$PREVIOUS_YEAR\/$CURRENT_YEAR\/' $filesToUpdate\n+        sed -i '' '\/Copyright (c)\/s\/$START_YEAR, Oracle\/$START_YEAR, $CURRENT_YEAR, Oracle\/' $filesToUpdate\n+        sed -i '' \"\/^copyright=\/s\/$PREVIOUS_YEAR\/$CURRENT_YEAR\/\" $filesToUpdate\n+      else\n+        echo \"Non Mac\"\n+        sed -i \"\/Copyright (c)\/s\/$PREVIOUS_YEAR\/$CURRENT_YEAR\/\" $filesToUpdate\n+        sed -i \"\/Copyright (c)\/s\/$START_YEAR, Oracle\/$START_YEAR, $CURRENT_YEAR, Oracle\/\" $filesToUpdate\n+        sed -i \"\/copyright=\/s\/$PREVIOUS_YEAR\/$CURRENT_YEAR\/\" $fileToupdate\n+      fi\n","filename":"scripts\/updatecopyrightyear.sh","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"}]}