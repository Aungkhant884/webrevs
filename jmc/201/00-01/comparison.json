{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -143,2 +143,2 @@\n-\t\tDateFormat df = new SimpleDateFormat(\"MM\/dd\/yyyy h:mm:ss:SSS a\");\n-\t\tDATE_TIME_FORMATTER_HOLDER = new FormatThreadLocal<>(patchYear(df));\n+\t\tDateFormat df = patchYear(DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.MEDIUM));\n+\t\tDATE_TIME_FORMATTER_HOLDER = new FormatThreadLocal<>(df);\n@@ -186,3 +186,2 @@\n-\t\t\n-\t\tDateFormat dateFormat = new SimpleDateFormat(\"h:mm:ss:SSS a\");\n-\t\tFormatThreadLocal<DateFormat> timeHolder = new FormatThreadLocal<>(dateFormat);\n+\t\tFormatThreadLocal<DateFormat> timeHolder = new FormatThreadLocal<>(\n+\t\t\t\tDateFormat.getTimeInstance(DateFormat.MEDIUM));\n","filename":"core\/org.openjdk.jmc.common\/src\/main\/java\/org\/openjdk\/jmc\/common\/unit\/TimestampKind.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -515,0 +515,10 @@\n+\t\n+\tprivate static DateFormat patchTimestamp(DateFormat df) {\n+\t\tif (df instanceof SimpleDateFormat) {\n+\t\t\tSimpleDateFormat sdf = (SimpleDateFormat) df;\n+\t\t\tString pattern = sdf.toPattern();\n+\t\t\tString newPattern = pattern.replaceFirst(\"s{2,4}\", \"ss:SSS\"); \/\/$NON-NLS-1$ \/\/$NON-NLS-2$\n+\t\t\tsdf.applyPattern(newPattern);\n+\t\t}\n+\t\treturn df;\n+\t}\n@@ -525,1 +535,1 @@\n-\t\t\t\t\t\t\tDateFormat df = new SimpleDateFormat(\"MM\/dd\/yyyy h:mm:ss:SSS a\");\n+\t\t\t\t\t\t\tDateFormat df = patchTimestamp(DateFormat.getDateTimeInstance(DateFormat.SHORT, DateFormat.MEDIUM));\n","filename":"core\/org.openjdk.jmc.common\/src\/main\/java\/org\/openjdk\/jmc\/common\/unit\/UnitLookup.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}