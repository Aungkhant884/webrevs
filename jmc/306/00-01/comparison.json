{"files":[{"patch":"@@ -155,1 +155,1 @@\n-         id=\"javax.servlet-api\"\n+         id=\"org.apache.aries.spifly.dynamic.bundle\"\n@@ -168,0 +168,7 @@\n+   <plugin\n+         id=\"org.eclipse.jetty.websocket.servlet\"\n+         download-size=\"0\"\n+         install-size=\"0\"\n+         version=\"0.0.0\"\n+         unpack=\"false\"\/>\n+\n@@ -176,1 +183,1 @@\n-         id=\"org.eclipse.jetty.websocket.servlet\"\n+         id=\"org.eclipse.jetty.websocket.javax.server\"\n","filename":"application\/org.openjdk.jmc.feature.flightrecorder\/feature.xml","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -10,0 +10,1 @@\n+ org.apache.aries.spifly.dynamic.bundle,\n@@ -19,4 +20,4 @@\n- javax.servlet-api,\n- org.eclipse.jetty.http,\n- org.eclipse.jetty.server;bundle-version=\"[9.4.43,10)\",\n- org.eclipse.jetty.servlet;bundle-version=\"[9.4.43,10)\",\n+ org.eclipse.jetty.io,\n+ org.eclipse.jetty.server,\n+ org.eclipse.jetty.servlet,\n+ org.eclipse.jetty.servlet-api,\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/META-INF\/MANIFEST.MF","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -17,2 +17,2 @@\n-import org.eclipse.jetty.websocket.server.NativeWebSocketServletContainerInitializer;\n-import org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter;\n+import org.eclipse.jetty.websocket.servlet.WebSocketUpgradeFilter;\n+import org.eclipse.jetty.websocket.server.config.JettyWebSocketServletContainerInitializer;\n@@ -46,1 +46,1 @@\n-\t\tNativeWebSocketServletContainerInitializer.configure(context, (servletContext, configuration) -> {\n+\t\tJettyWebSocketServletContainerInitializer.configure(context, (servletContext, configuration) -> {\n@@ -49,1 +49,1 @@\n-\t\t\tconfiguration.getPolicy().setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\n+\t\t\t\/\/ configuration.getPolicy().setMaxTextMessageBufferSize(MAX_MESSAGE_SIZE);\n@@ -65,1 +65,1 @@\n-\t\t\tWebSocketUpgradeFilter.configure(context);\n+\t\t\tWebSocketUpgradeFilter.ensureFilter(context.getServletContext());\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/websocket\/WebsocketServer.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -49,3 +49,7 @@\n-            <unit id=\"javax.servlet-api\" version=\"3.1.0\"\/>\n-            <unit id=\"javax.websocket-api\" version=\"1.1.0\"\/>\n-            <unit id=\"org.eclipse.jetty.websocket.server\" version=\"9.4.43.v20210629\"\/>\n+            <unit id=\"org.eclipse.jetty.servlet-api\" version=\"4.0.6\"\/>\n+            <unit id=\"org.eclipse.jetty.websocket.api\" version=\"10.0.5\"\/>\n+            <unit id=\"org.eclipse.jetty.websocket.server\" version=\"10.0.5\"\/>\n+            <unit id=\"org.eclipse.jetty.websocket.servlet\" version=\"10.0.5\"\/>\n+            <unit id=\"org.eclipse.jetty.websocket.javax.server\" version=\"10.0.5\"\/>\n+            <unit id=\"org.apache.aries.spifly.dynamic.bundle\" version=\"1.3.4\"\/>\n+            .servlet-api_4.0.6.jar\n","filename":"releng\/platform-definitions\/platform-definition-2021-06\/platform-definition-2021-06.target","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-\t\t<jetty.version>9.4.43.v20210629<\/jetty.version>\n+\t\t<jetty.version>10.0.5<\/jetty.version>\n@@ -116,1 +116,1 @@\n-\t\t\t\t\t\t\t\t\t<id>javax.websocket:javax.websocket-api:${javax.websocket.version}<\/id>\n+\t\t\t\t\t\t\t\t\t<id>org.eclipse.jetty.websocket:websocket-jetty-server:${jetty.version}<\/id>\n@@ -119,1 +119,7 @@\n-\t\t\t\t\t\t\t\t\t<id>org.eclipse.jetty.websocket:javax-websocket-server-impl:${jetty.version}<\/id>\n+\t\t\t\t\t\t\t\t\t<id>org.eclipse.jetty.websocket:websocket-javax-server:${jetty.version}<\/id>\n+\t\t\t\t\t\t\t\t<\/artifact>\n+\t\t\t\t\t\t\t\t<artifact>\n+\t\t\t\t\t\t\t\t\t<id>org.eclipse.jetty.websocket:websocket-jetty-api:${jetty.version}<\/id>\n+\t\t\t\t\t\t\t\t<\/artifact>\n+\t\t\t\t\t\t\t\t<artifact>\n+\t\t\t\t\t\t\t\t\t<id>org.apache.aries.spifly:org.apache.aries.spifly.dynamic.bundle:1.3.4<\/id>\n","filename":"releng\/third-party\/pom.xml","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}