{"files":[{"patch":"@@ -3,2 +3,1 @@\n-   Copyright (c) 2018, 2020, 2021 Oracle and\/or its affiliates. All rights reserved.\n-   Copyright (c) 2021, Datadog, Inc. All rights reserved.\n+   Copyright (c) 2018, 2021 Oracle and\/or its affiliates. All rights reserved.\n","filename":"application\/org.openjdk.jmc.feature.flightrecorder\/feature.xml","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n- * Copyright (c) 2021, Datadog, Inc. All rights reserved.\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/FlightRecorderUI.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -130,2 +130,2 @@\n-\t\t\tlong websocketServerPort = FlightRecorderUI.getDefault().getWebsocketPort();\n-\t\t\twebsocketServer = new WebsocketServer((int) websocketServerPort);\n+\t\t\tint websocketServerPort = FlightRecorderUI.getDefault().getWebsocketPort();\n+\t\t\twebsocketServer = new WebsocketServer(websocketServerPort);\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/JfrEditor.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n- * Copyright (c) 2021, Datadog, Inc. All rights reserved.\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/messages\/internal\/Messages.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n- * Copyright (c) 2021, Datadog, Inc. All rights reserved.\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/preferences\/GeneralPage.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n- * Copyright (c) 2021, Datadog, Inc. All rights reserved.\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/preferences\/PreferenceKeys.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,33 @@\n+\/*\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Datadog, Inc. All rights reserved.\n+ *\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * The contents of this file are subject to the terms of either the Universal Permissive License\n+ * v 1.0 as shown at http:\/\/oss.oracle.com\/licenses\/upl\n+ *\n+ * or the following license:\n+ *\n+ * Redistribution and use in source and binary forms, with or without modification, are permitted\n+ * provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this list of conditions\n+ * and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright notice, this list of\n+ * conditions and the following disclaimer in the documentation and\/or other materials provided with\n+ * the distribution.\n+ *\n+ * 3. Neither the name of the copyright holder nor the names of its contributors may be used to\n+ * endorse or promote products derived from this software without specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR\n+ * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n+ * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR\n+ * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n+ * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\n+ * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ *\/\n@@ -5,1 +38,0 @@\n-import java.util.ArrayList;\n@@ -8,0 +40,1 @@\n+import java.util.concurrent.CopyOnWriteArrayList;\n@@ -39,3 +72,3 @@\n-\tprivate List<WebsocketConnectionHandler> handlers = new ArrayList<>();\n-\tprivate List<WebsocketConnectionHandler> treeHandlers = new ArrayList<>();\n-\tprivate List<WebsocketConnectionHandler> graphHandlers = new ArrayList<>();\n+\tprivate List<WebsocketConnectionHandler> handlers = new CopyOnWriteArrayList<>();\n+\tprivate List<WebsocketConnectionHandler> treeHandlers = new CopyOnWriteArrayList<>();\n+\tprivate List<WebsocketConnectionHandler> graphHandlers = new CopyOnWriteArrayList<>();\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/websocket\/WebsocketServer.java","additions":37,"deletions":4,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -3,1 +3,0 @@\n-#  Copyright (c) 2021, Datadog, Inc. All rights reserved.\n@@ -7,1 +6,1 @@\n-#  The contents of this file are subject to the terms of either the Universal Permissive License \n+#  The contents of this file are subject to the terms of either the Universal Permissive License\n@@ -9,1 +8,1 @@\n-#   \n+#\n@@ -11,1 +10,1 @@\n-#   \n+#\n@@ -14,1 +13,1 @@\n-#   \n+#\n@@ -17,1 +16,1 @@\n-#   \n+#\n@@ -21,1 +20,1 @@\n-#   \n+#\n@@ -666,1 +665,1 @@\n-MethodProfilingPage_PREDECESSORS_DESCRIPTION=Predecessors\n\\ No newline at end of file\n+MethodProfilingPage_PREDECESSORS_DESCRIPTION=Predecessors\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/resources\/org\/openjdk\/jmc\/flightrecorder\/ui\/messages\/internal\/messages.properties","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1,70 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n-<!--\n-   Copyright (c) 2019, 2021 Oracle and\/or its affiliates. All rights reserved.\n-   Copyright (c) 2019, 2021 Datadog, Inc. All rights reserved.\n-\n-   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-\n-   The contents of this file are subject to the terms of either the Universal Permissive License\n-   v 1.0 as shown at http:\/\/oss.oracle.com\/licenses\/upl\n-\n-   or the following license:\n-\n-   Redistribution and use in source and binary forms, with or without modification, are permitted\n-   provided that the following conditions are met:\n-\n-   1. Redistributions of source code must retain the above copyright notice, this list of conditions\n-   and the following disclaimer.\n-\n-   2. Redistributions in binary form must reproduce the above copyright notice, this list of\n-   conditions and the following disclaimer in the documentation and\/or other materials provided with\n-   the distribution.\n-\n-   3. Neither the name of the copyright holder nor the names of its contributors may be used to\n-   endorse or promote products derived from this software without specific prior written permission.\n-\n-   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR\n-   IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n-   FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR\n-   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n-   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n-   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n-   WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\n-   WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n--->\n-<?pde version=\"3.8\"?>\n-<target name=\"jmc-target-2019-12\" sequenceNumber=\"47\">\n-    <locations>\n-        <location includeAllPlatforms=\"false\" includeConfigurePhase=\"true\" includeMode=\"planner\" includeSource=\"true\" type=\"InstallableUnit\">\n-            <unit id=\"com.sun.mail.jakarta.mail\" version=\"1.6.5\"\/>\n-            <unit id=\"com.sun.activation.jakarta.activation\" version=\"1.2.1\"\/>\n-            <unit id=\"org.owasp.encoder\" version=\"1.2.2\"\/>\n-            <unit id=\"org.lz4.lz4-java\" version=\"1.7.1\"\/>\n-            <unit id=\"org.twitter4j.core\" version=\"4.0.7\"\/>\n-            <unit id=\"org.hdrhistogram.HdrHistogram\" version=\"2.1.12\"\/>\n-            <unit id=\"org.adoptopenjdk.jemmy-awt-input\" version=\"2.0.0\"\/>\n-            <unit id=\"org.adoptopenjdk.jemmy-browser\" version=\"2.0.0\"\/>\n-            <unit id=\"org.adoptopenjdk.jemmy-core\" version=\"2.0.0\"\/>\n-            <unit id=\"org.adoptopenjdk.jemmy-swt\" version=\"2.0.0\"\/>\n-            <unit id=\"org.eclipse.jetty.servlet-api\" version=\"4.0.6\"\/>\n-            <unit id=\"org.eclipse.jetty.websocket.api\" version=\"10.0.5\"\/>\n-            <unit id=\"org.eclipse.jetty.websocket.server\" version=\"10.0.5\"\/>\n-            <unit id=\"org.eclipse.jetty.websocket.servlet\" version=\"10.0.5\"\/>\n-            <unit id=\"org.eclipse.jetty.websocket.javax.server\" version=\"10.0.5\"\/>\n-            <unit id=\"org.apache.aries.spifly.dynamic.bundle\" version=\"1.3.4\"\/>\n-            <repository location=\"http:\/\/localhost:8080\/site\"\/>\n-        <\/location>\n-        <location includeAllPlatforms=\"false\" includeConfigurePhase=\"true\" includeMode=\"planner\" includeSource=\"true\" type=\"InstallableUnit\">\n-            <unit id=\"org.eclipse.equinox.executable.feature.group\" version=\"3.8.600.v20191014-2025\"\/>\n-            <unit id=\"org.eclipse.pde.feature.group\" version=\"3.14.200.v20191210-0610\"\/>\n-            <unit id=\"org.eclipse.platform.sdk\" version=\"4.14.0.I20191210-0610\"\/>\n-            <repository location=\"http:\/\/download.eclipse.org\/releases\/2019-12\/\"\/>\n-        <\/location>\n-        <location includeAllPlatforms=\"false\" includeConfigurePhase=\"true\" includeMode=\"planner\" includeSource=\"true\" type=\"InstallableUnit\">\n-            <unit id=\"org.eclipse.babel.nls_eclipse_ja.feature.group\" version=\"4.14.0.v20200113020001\"\/>\n-            <unit id=\"org.eclipse.babel.nls_eclipse_zh.feature.group\" version=\"4.14.0.v20200113020001\"\/>\n-            <repository location=\"https:\/\/archive.eclipse.org\/technology\/babel\/update-site\/R0.17.1\/2019-12\/\"\/>\n-        <\/location>\n-    <\/locations>\n-    <targetJRE path=\"org.eclipse.jdt.launching.JRE_CONTAINER\/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType\/JavaSE-1.8\"\/>\n-<\/target>\n","filename":"releng\/platform-definitions\/platform-definition-2019-12\/platform-definition-2019-12.target","additions":0,"deletions":70,"binary":false,"changes":70,"status":"deleted"},{"patch":"@@ -3,2 +3,1 @@\n-   Copyright (c) 2018, 2019, 2021 Oracle and\/or its affiliates. All rights reserved.\n-\t Copyright (c) 2021, Datadog, Inc. All rights reserved.\n+   Copyright (c) 2018, 2021 Oracle and\/or its affiliates. All rights reserved.\n","filename":"releng\/third-party\/pom.xml","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}