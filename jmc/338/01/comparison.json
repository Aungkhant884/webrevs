{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import org.eclipse.ui.NavigationLocation;\n@@ -38,5 +39,3 @@\n-class JfrNavigationLocation implements INavigationLocation {\n-\n-\tprivate final JfrEditor m_editor;\n-\tprivate final DataPageDescriptor m_page;\n-\n+class JfrNavigationLocation extends NavigationLocation {\n+\tprivate JfrEditor jfrEditor;\n+\tprivate DataPageDescriptor page;\n@@ -46,3 +45,3 @@\n-\t\tm_editor = editor;\n-\t\tm_page = page;\n-\t}\n+\t\tsuper(editor);\n+\t\tthis.jfrEditor = editor;\n+\t\tthis.page = page;\n@@ -50,3 +49,0 @@\n-\t@Override\n-\tpublic void dispose() {\n-\t\tm_disposed = true;\n@@ -56,1 +52,1 @@\n-\tpublic void releaseState() {\n+\tpublic void saveState(IMemento memento) {\n@@ -60,1 +56,2 @@\n-\tpublic void saveState(IMemento memento) {\n+\tpublic void restoreState(IMemento memento) {\n+\n@@ -64,1 +61,4 @@\n-\tpublic void restoreState(IMemento memento) {\n+\tpublic void releaseState() {\n+\t\tsuper.releaseState();\n+\t\tjfrEditor = null;\n+\t\tpage = null;\n@@ -71,1 +71,1 @@\n-\t\t\tm_editor.navigateTo(m_page);\n+\t\t\tjfrEditor.navigateTo(page);\n@@ -82,1 +82,1 @@\n-\t\t\treturn that.m_editor == m_editor && that.m_page == m_page;\n+\t\t\treturn that.getInput() == this.getInput() && that.page == page;\n@@ -88,19 +88,0 @@\n-\t@Override\n-\tpublic Object getInput() {\n-\t\treturn null;\n-\t}\n-\n-\t@Override\n-\tpublic String getText() {\n-\t\treturn m_page.getName() + \" [\" + m_editor.getPartName() + \"]\"; \/\/$NON-NLS-1$ \/\/$NON-NLS-2$\n-\t}\n-\n-\t@Override\n-\tpublic String toString() {\n-\t\treturn super.toString() + '[' + getText() + ']';\n-\t}\n-\n-\t@Override\n-\tpublic void setInput(Object input) {\n-\t}\n-\n@@ -110,1 +91,0 @@\n-\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/JfrNavigationLocation.java","additions":17,"deletions":37,"binary":false,"changes":54,"status":"modified"}]}