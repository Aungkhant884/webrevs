{"files":[{"patch":"@@ -410,1 +410,1 @@\n-\t\treturn new JfrNavigationLocation(this, null);\n+\t\treturn new JfrNavigationLocation(this);\n@@ -418,1 +418,1 @@\n-\t\treturn new JfrNavigationLocation(this, currentPage);\n+\t\treturn new JfrNavigationLocation(this);\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/JfrEditor.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import org.eclipse.ui.NavigationLocation;\n@@ -38,5 +39,1 @@\n-class JfrNavigationLocation implements INavigationLocation {\n-\n-\tprivate final JfrEditor m_editor;\n-\tprivate final DataPageDescriptor m_page;\n-\n+class JfrNavigationLocation extends NavigationLocation {\n@@ -45,3 +42,2 @@\n-\tpublic JfrNavigationLocation(JfrEditor editor, DataPageDescriptor page) {\n-\t\tm_editor = editor;\n-\t\tm_page = page;\n+\tpublic JfrNavigationLocation(JfrEditor editor) {\n+\t\tsuper(editor);\n@@ -51,2 +47,1 @@\n-\tpublic void dispose() {\n-\t\tm_disposed = true;\n+\tpublic void saveState(IMemento memento) {\n@@ -56,2 +51,1 @@\n-\tpublic void releaseState() {\n-\t}\n+\tpublic void restoreState(IMemento memento) {\n@@ -59,2 +53,0 @@\n-\t@Override\n-\tpublic void saveState(IMemento memento) {\n@@ -64,1 +56,2 @@\n-\tpublic void restoreState(IMemento memento) {\n+\tpublic void releaseState() {\n+\t\tsuper.releaseState();\n@@ -70,3 +63,0 @@\n-\t\tif (!m_disposed) {\n-\t\t\tm_editor.navigateTo(m_page);\n-\t\t}\n@@ -82,1 +72,1 @@\n-\t\t\treturn that.m_editor == m_editor && that.m_page == m_page;\n+\t\t\treturn that.getInput() == this.getInput();\n@@ -88,19 +78,0 @@\n-\t@Override\n-\tpublic Object getInput() {\n-\t\treturn null;\n-\t}\n-\n-\t@Override\n-\tpublic String getText() {\n-\t\treturn m_page.getName() + \" [\" + m_editor.getPartName() + \"]\"; \/\/$NON-NLS-1$ \/\/$NON-NLS-2$\n-\t}\n-\n-\t@Override\n-\tpublic String toString() {\n-\t\treturn super.toString() + '[' + getText() + ']';\n-\t}\n-\n-\t@Override\n-\tpublic void setInput(Object input) {\n-\t}\n-\n@@ -110,1 +81,0 @@\n-\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/JfrNavigationLocation.java","additions":10,"deletions":40,"binary":false,"changes":50,"status":"modified"}]}