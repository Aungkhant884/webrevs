{"files":[{"patch":"@@ -55,1 +55,1 @@\n-\tprivate static final String ATTRIBUTE_EVENT_NAME = \"name\"; \/\/$NON-NLS-1$\n+\tprivate static final String ATTRIBUTE_EVENT_LABEL = \"label\"; \/\/$NON-NLS-1$\n@@ -64,1 +64,1 @@\n-\tprivate final String eventName;\n+\tprivate final String eventLabel;\n@@ -81,1 +81,1 @@\n-\t\teventName = initializeEventName();\n+\t\teventLabel = initializeEventLabel();\n@@ -127,2 +127,2 @@\n-\tpublic String getEventName() {\n-\t\treturn eventName;\n+\tpublic String getEventLabel() {\n+\t\treturn eventLabel;\n@@ -171,4 +171,4 @@\n-\tprivate String initializeEventName() {\n-\t\tString eventName = getTransformationAttribute(ATTRIBUTE_EVENT_NAME);\n-\t\tif (eventName == null || eventName.length() == 0) {\n-\t\t\teventName = getMethod().getName();\n+\tprivate String initializeEventLabel() {\n+\t\tString eventLabel = getTransformationAttribute(ATTRIBUTE_EVENT_LABEL);\n+\t\tif (eventLabel == null || eventLabel.length() == 0) {\n+\t\t\teventLabel = getMethod().getName();\n@@ -176,1 +176,1 @@\n-\t\t\t\t\t\"Could not find an event name, generated one: \" + eventName); \/\/$NON-NLS-1$\n+\t\t\t\t\t\"Could not find an event name, generated one: \" + eventLabel); \/\/$NON-NLS-1$\n@@ -178,1 +178,1 @@\n-\t\treturn eventName;\n+\t\treturn eventLabel;\n@@ -192,1 +192,1 @@\n-\t\t\t\t+ TypeUtils.deriveIdentifierPart(getEventName());\n+\t\t\t\t+ TypeUtils.deriveIdentifierPart(getEventLabel());\n@@ -210,1 +210,1 @@\n-\t\t\t\t\t\t\t+ \" was not set for the event \" + eventName + \". Assuming \" + defaultValue + \".\"); \/\/$NON-NLS-1$ \/\/$NON-NLS-2$ \/\/$NON-NLS-3$\n+\t\t\t\t\t\t\t+ \" was not set for the event \" + eventLabel + \". Assuming \" + defaultValue + \".\"); \/\/$NON-NLS-1$ \/\/$NON-NLS-2$ \/\/$NON-NLS-3$\n@@ -219,1 +219,1 @@\n-\t\t\t\teventName, parameters.size());\n+\t\t\t\teventLabel, parameters.size());\n","filename":"agent\/src\/main\/java\/org\/openjdk\/jmc\/agent\/jfr\/JFRTransformDescriptor.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -255,1 +255,1 @@\n-\t\tav.visit(\"value\", td.getEventName());\n+\t\tav.visit(\"value\", td.getEventLabel());\n","filename":"agent\/src\/main\/java\/org\/openjdk\/jmc\/agent\/jfr\/impl\/JFREventClassGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -204,1 +204,1 @@\n-\t\tav0.visit(\"name\", td.getEventName()); \/\/$NON-NLS-1$\n+\t\tav0.visit(\"name\", td.getEventLabel()); \/\/$NON-NLS-1$\n","filename":"agent\/src\/main\/java\/org\/openjdk\/jmc\/agent\/jfrlegacy\/impl\/JFRLegacyEventClassGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-\t\t\t<xs:element type=\"xs:string\" name=\"name\" \/>\n+\t\t\t<xs:element type=\"xs:string\" name=\"label\" \/>\n","filename":"agent\/src\/main\/resources\/org\/openjdk\/jmc\/agent\/impl\/jfrprobes_schema.xsd","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -20,1 +20,1 @@\n-\t\t\t+ \"<name>Test Compressed Frame Transformation<\/name>\" \/\/\n+\t\t\t+ \"<label>Test Compressed Frame Transformation<\/label>\" \/\/\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestCompressedFrameTransformation.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-\t\t\t+ \"<name>JFR Hello World Event 1 %TEST_NAME% <\/name>\"\n+\t\t\t+ \"<label>JFR Hello World Event 1 %TEST_NAME% <\/label>\"\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestDefaultTransformRegistry.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-\tprivate static final String EVENT_NAME = \"JFR Hello World Event 6 %TEST_NAME%\";\n+\tprivate static final String EVENT_LABEL = \"JFR Hello World Event 6 %TEST_NAME%\";\n@@ -79,1 +79,1 @@\n-\t\t\t+ \"<name>\" + EVENT_NAME + \"<\/name>\" + \"<description>\" + EVENT_DESCRIPTION + \"<\/description>\" + \"<path>\"\n+\t\t\t+ \"<label>\" + EVENT_LABEL + \"<\/label>\" + \"<description>\" + EVENT_DESCRIPTION + \"<\/description>\" + \"<path>\"\n@@ -119,1 +119,1 @@\n-\t\tattributes.put(\"name\", EVENT_NAME);\n+\t\tattributes.put(\"label\", EVENT_LABEL);\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestDefineEventProbes.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-\tprivate static final String EVENT_NAME = \"JFR Emit on Exception Event %TEST_NAME%\";\n+\tprivate static final String EVENT_LABEL = \"JFR Emit on Exception Event %TEST_NAME%\";\n@@ -66,1 +66,1 @@\n-\t\t\t+ \"<\/config>\" + \"<events>\" + \"<event id=\\\"\" + EVENT_ID + \"\\\">\" + \"<name>\" + EVENT_NAME + \"<\/name>\"\n+\t\t\t+ \"<\/config>\" + \"<events>\" + \"<event id=\\\"\" + EVENT_ID + \"\\\">\" + \"<label>\" + EVENT_LABEL + \"<\/label>\"\n@@ -70,5 +70,5 @@\n-\t\t\t+ \"<location>WRAP<\/location>\" + \"<\/event>\" + \"<event id=\\\"\" + EVENT_ID + \"2\" + \"\\\">\" + \"<name>\" + EVENT_NAME\n-\t\t\t+ \"2\" + \"<\/name>\" + \"<description>\" + EVENT_DESCRIPTION + \"2\" + \"<\/description>\" + \"<path>\" + EVENT_PATH\n-\t\t\t+ \"<\/path>\" + \"<stacktrace>true<\/stacktrace>\" + \"<class>\" + EVENT_CLASS_NAME + \"<\/class>\" + \"<method>\"\n-\t\t\t+ \"<name>\" + METHOD_NAME_2 + \"<\/name>\" + \"<descriptor>\" + METHOD_DESCRIPTOR + \"<\/descriptor>\" + \"<\/method>\"\n-\t\t\t+ \"<location>WRAP<\/location>\" + \"<\/event>\" + \"<\/events>\" + \"<\/jfragent>\";\n+\t\t\t+ \"<location>WRAP<\/location>\" + \"<\/event>\" + \"<event id=\\\"\" + EVENT_ID + \"2\" + \"\\\">\" + \"<label>\"\n+\t\t\t+ EVENT_LABEL + \"2\" + \"<\/label>\" + \"<description>\" + EVENT_DESCRIPTION + \"2\" + \"<\/description>\" + \"<path>\"\n+\t\t\t+ EVENT_PATH + \"<\/path>\" + \"<stacktrace>true<\/stacktrace>\" + \"<class>\" + EVENT_CLASS_NAME + \"<\/class>\"\n+\t\t\t+ \"<method>\" + \"<name>\" + METHOD_NAME_2 + \"<\/name>\" + \"<descriptor>\" + METHOD_DESCRIPTOR + \"<\/descriptor>\"\n+\t\t\t+ \"<\/method>\" + \"<location>WRAP<\/location>\" + \"<\/event>\" + \"<\/events>\" + \"<\/jfragent>\";\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestEmitOnlyOnException.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -57,2 +57,2 @@\n-\tprivate static final String CORRECT_EVENT_NAME = \"JFR Hello World Event 6 %TEST_NAME%\";\n-\tprivate static final String INCORRECT_EVENT_NAME = \"JFR Hello World Event 6 Incorrect %TEST_NAME%\";\n+\tprivate static final String CORRECT_EVENT_LABEL = \"JFR Hello World Event 6 %TEST_NAME%\";\n+\tprivate static final String INCORRECT_EVENT_LABEL = \"JFR Hello World Event 6 Incorrect %TEST_NAME%\";\n@@ -67,1 +67,1 @@\n-\t\t\t+ \"<name>{0}<\/name>\" + \"<description>\" + EVENT_DESCRIPTION + \"<\/description>\" + \"<path>\" + EVENT_PATH\n+\t\t\t+ \"<label>{0}<\/label>\" + \"<description>\" + EVENT_DESCRIPTION + \"<\/description>\" + \"<path>\" + EVENT_PATH\n@@ -74,1 +74,1 @@\n-\t\tString xmlDescription = MessageFormat.format(XML_DESCRIPTION, CORRECT_EVENT_NAME, CORRECT_METHOD_DESCRIPTOR);\n+\t\tString xmlDescription = MessageFormat.format(XML_DESCRIPTION, CORRECT_EVENT_LABEL, CORRECT_METHOD_DESCRIPTOR);\n@@ -92,1 +92,1 @@\n-\t\tString xmlDescription = MessageFormat.format(XML_DESCRIPTION, INCORRECT_EVENT_NAME,\n+\t\tString xmlDescription = MessageFormat.format(XML_DESCRIPTION, INCORRECT_EVENT_LABEL,\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestIncorrectMethodDescriptor.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -0,0 +1,33 @@\n+\/*\n+ * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, Red Hat Inc. All rights reserved.\n+ *\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * The contents of this file are subject to the terms of either the Universal Permissive License\n+ * v 1.0 as shown at http:\/\/oss.oracle.com\/licenses\/upl\n+ *\n+ * or the following license:\n+ *\n+ * Redistribution and use in source and binary forms, with or without modification, are permitted\n+ * provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this list of conditions\n+ * and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright notice, this list of\n+ * conditions and the following disclaimer in the documentation and\/or other materials provided with\n+ * the distribution.\n+ *\n+ * 3. Neither the name of the copyright holder nor the names of its contributors may be used to\n+ * endorse or promote products derived from this software without specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR\n+ * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n+ * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR\n+ * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n+ * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n+ * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\n+ * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ *\/\n@@ -18,1 +51,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -32,1 +65,1 @@\n-\t\tString probe = \"<event id=\\\"demo.event1\\\">\\n\" + \"            <name>Event 1<\/name>\\n\"\n+\t\tString probe = \"<event id=\\\"demo.event1\\\">\\n\" + \"            <label>Event 1<\/label>\\n\"\n@@ -75,1 +108,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -93,1 +126,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -106,1 +139,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -120,1 +153,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -140,1 +173,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -153,1 +186,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n@@ -167,1 +200,1 @@\n-\t\t\t\t+ \"    <name>Event 2<\/name>\\n\" \/\/\n+\t\t\t\t+ \"    <label>Event 2<\/label>\\n\" \/\/\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestProbeDefinitionValidation.java","additions":42,"deletions":9,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-\t\t\t+ \"<name>JFR Hello World Event 1 <\/name>\"\n+\t\t\t+ \"<label>JFR Hello World Event 1 <\/label>\"\n","filename":"agent\/src\/test\/java\/org\/openjdk\/jmc\/agent\/test\/TestRetrieveEventProbes.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-\t\t\t<name>ConverterEventString<\/name>\n+\t\t\t<label>ConverterEventString<\/label>\n@@ -77,1 +77,1 @@\n-\t\t\t<name>ConverterEventInt<\/name>\n+\t\t\t<label>ConverterEventInt<\/label>\n@@ -103,1 +103,1 @@\n-\t\t\t<name>ConverterEventLong<\/name>\n+\t\t\t<label>ConverterEventLong<\/label>\n@@ -129,1 +129,1 @@\n-\t\t\t<name>ConverterEventFloat<\/name>\n+\t\t\t<label>ConverterEventFloat<\/label>\n@@ -154,1 +154,1 @@\n-\t\t\t<name>ConverterEventDouble<\/name>\n+\t\t\t<label>ConverterEventDouble<\/label>\n@@ -180,1 +180,1 @@\n-\t\t\t<name>ConverterEventFile<\/name>\n+\t\t\t<label>ConverterEventFile<\/label>\n@@ -205,1 +205,1 @@\n-\t\t\t<name>ConverterEventUri<\/name>\n+\t\t\t<label>ConverterEventUri<\/label>\n@@ -229,1 +229,1 @@\n-\t\t\t<name>ConverterEventNumber<\/name>\n+\t\t\t<label>ConverterEventNumber<\/label>\n@@ -256,1 +256,1 @@\n-\t\t\t<name>ConverterEventMultiCustomInt<\/name>\n+\t\t\t<label>ConverterEventMultiCustomInt<\/label>\n@@ -279,1 +279,1 @@\n-\t\t\t<name>ConverterEventMultiCustomDouble<\/name>\n+\t\t\t<label>ConverterEventMultiCustomDouble<\/label>\n@@ -302,1 +302,1 @@\n-\t\t\t<name>ConverterEventMultiDefaultLong<\/name>\n+\t\t\t<label>ConverterEventMultiDefaultLong<\/label>\n@@ -325,1 +325,1 @@\n-\t\t\t<name>ConverterEventMultiDefaultDouble<\/name>\n+\t\t\t<label>ConverterEventMultiDefaultDouble<\/label>\n","filename":"agent\/src\/test\/resources\/org\/openjdk\/jmc\/agent\/converters\/test\/jfrprobes_template.xml","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-\t\t\t<name>JFR Hello World Event 1 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 1 %TEST_NAME%<\/label>\n","filename":"agent\/src\/test\/resources\/org\/openjdk\/jmc\/agent\/test\/jfrprobes_simple.xml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-\t\t\t<name>JFR Hello World Event 1 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 1 %TEST_NAME%<\/label>\n","filename":"agent\/src\/test\/resources\/org\/openjdk\/jmc\/agent\/test\/jfrprobes_simple_2.xml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-\t\t\t<name>JFR Hello World Event 1 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 1 %TEST_NAME%<\/label>\n@@ -64,1 +64,1 @@\n-\t\t\t<name>JFR Hello World Event 2 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 2 %TEST_NAME%<\/label>\n@@ -97,1 +97,1 @@\n-\t\t\t<name>JFR Hello World Event 11 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 11 %TEST_NAME%<\/label>\n@@ -135,1 +135,1 @@\n-\t\t\t<name>JFR Hello World Event 12 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 12 %TEST_NAME%<\/label>\n@@ -164,1 +164,1 @@\n-\t\t\t<name>JFR Hello World Event 13 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Event 13 %TEST_NAME%<\/label>\n@@ -193,1 +193,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 1 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 1 %TEST_NAME%<\/label>\n@@ -207,1 +207,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 2 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 2 %TEST_NAME%<\/label>\n@@ -236,1 +236,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 3 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 3 %TEST_NAME%<\/label>\n@@ -257,1 +257,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 4 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 4 %TEST_NAME%<\/label>\n@@ -278,1 +278,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 5 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 5 %TEST_NAME%<\/label>\n@@ -299,1 +299,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 6 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 6 %TEST_NAME%<\/label>\n@@ -317,1 +317,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 7 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 7 %TEST_NAME%<\/label>\n@@ -331,1 +331,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 8 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 8 %TEST_NAME%<\/label>\n@@ -345,1 +345,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 9 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 9 %TEST_NAME%<\/label>\n@@ -358,1 +358,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 10 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 10 %TEST_NAME%<\/label>\n@@ -375,1 +375,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 11 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 11 %TEST_NAME%<\/label>\n@@ -411,1 +411,1 @@\n-\t\t\t<name>JFR Hello World Instance Event 12 %TEST_NAME%<\/name>\n+\t\t\t<label>JFR Hello World Instance Event 12 %TEST_NAME%<\/label>\n","filename":"agent\/src\/test\/resources\/org\/openjdk\/jmc\/agent\/test\/jfrprobes_template.xml","additions":17,"deletions":17,"binary":false,"changes":34,"status":"modified"}]}