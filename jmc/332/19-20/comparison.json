{"files":[{"patch":"@@ -81,1 +81,3 @@\n- * I test that JMX connections done with JmcJolokiaJmxConnectionProvider are functional\n+ * I test that JMX connections done with JmcKubernetesJmxConnectionProvider are functional.\n+ * In order to be able to test this in a contained environment, the kubernetes API is mocked\n+ * with wiremock. \n@@ -88,1 +90,1 @@\n-\t\t    .extensions(new ResponseTemplateTransformer(true)).port(0));\n+\t\t    .extensions(new ResponseTemplateTransformer(false)).port(0));\n@@ -92,4 +94,0 @@\n-\tprivate static Set<String> unsafeAttributes = new HashSet<>(\n-\t\t\tArrays.asList(\"BootClassPath\", \"UsageThreshold\", \"UsageThresholdExceeded\", \"UsageThresholdCount\",\n-\t\t\t\t\t\"CollectionUsageThreshold\", \"CollectionUsageThresholdExceeded\", \"CollectionUsageThresholdCount\"));\n-\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/java\/org\/openjdk\/jmc\/kubernetes\/JmcKubernetesTest.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1,15 +0,0 @@\n-{\n-\t\"request\": {\n-\t\t\"method\": \"POST\",\n-\t\t\"urlPath\": \"\/kubernetes\/api\/v1\/namespaces\/ns1\/pods\/pod-abcdef:8778\/proxy\/jolokia\/\",\n-\t\t\"bodyPatterns\": [\n-\t\t\t{\n-\t\t\t\t\"equalToJson\": \"{\\\"type\\\":\\\"version\\\"}\"\n-\t\t\t}\n-\t\t]\n-\t},\n-\t\"response\": {\n-\t\t\"status\": 200,\n-\t\t\"bodyFileName\": \"jolokia-version.json\"\n-\t}\n-}\n\\ No newline at end of file\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/jolokia-probe-port.json","additions":0,"deletions":15,"binary":false,"changes":15,"status":"deleted"},{"patch":"@@ -7,1 +7,1 @@\n-\t\t\t\t\"equalToJson\": \"[{\\\"attribute\\\":\\\"Pid\\\",\\\"mbean\\\":\\\"java.lang:type=Runtime\\\",\\\"type\\\":\\\"READ\\\"},{\\\"attribute\\\":\\\"Name\\\",\\\"mbean\\\":\\\"java.lang:type=Runtime\\\",\\\"type\\\":\\\"READ\\\"},{\\\"attribute\\\":\\\"InputArguments\\\",\\\"mbean\\\":\\\"java.lang:type=Runtime\\\",\\\"type\\\":\\\"READ\\\"},{\\\"attribute\\\":\\\"SystemProperties\\\",\\\"mbean\\\":\\\"java.lang:type=Runtime\\\",\\\"type\\\":\\\"READ\\\"}]\"\n+\t\t\t\t\"equalToJson\": \"{\\\"type\\\":\\\"version\\\"}\"\n@@ -13,1 +13,1 @@\n-\t\t\"bodyFileName\": \"system-attributes.json\"\n+\t\t\"bodyFileName\": \"jolokia-version.json\"\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/jolokia-probe.json","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,15 +0,0 @@\n-{\n-\t\"request\": {\n-\t\t\"method\": \"POST\",\n-\t\t\"urlPath\": \"\/kubernetes\/api\/v1\/namespaces\/ns1\/pods\/pod-abcdef:8778\/proxy\/jolokia\/\",\n-\t\t\"bodyPatterns\": [\n-\t\t\t{\n-\t\t\t\t\"equalToJson\": \"{\\\"type\\\":\\\"VERSION\\\"}\"\n-\t\t\t}\n-\t\t]\n-\t},\n-\t\"response\": {\n-\t\t\"status\": 200,\n-\t\t\"bodyFileName\": \"jolokia-version.json\"\n-\t}\n-}\n\\ No newline at end of file\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/jolokia-probe2-port.json","additions":0,"deletions":15,"binary":false,"changes":15,"status":"deleted"},{"patch":"@@ -8,4 +8,1 @@\n-\t\t\"bodyFileName\": \"pod.json\",\n-\t\t\"transformers\": [\n-\t\t\t\"response-template\"\n-\t\t]\n+\t\t\"bodyFileName\": \"pod.json\"\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/pod.json","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -8,4 +8,1 @@\n-\t\t\"bodyFileName\": \"pods.json\",\n-\t\t\"transformers\": [\n-\t\t\t\"response-template\"\n-\t\t]\n+\t\t\"bodyFileName\": \"pods.json\"\n","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/pods.json","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"","filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/system-attributes.json","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"application\/tests\/org.openjdk.jmc.kubernetes.test\/src\/test\/resources\/mappings\/jolokia-probe.json","status":"copied"}]}