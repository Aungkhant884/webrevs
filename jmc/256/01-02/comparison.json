{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -142,9 +142,1 @@\n-\t\tint maxLength = Math.max(versionNumbers.length, otherVersion.versionNumbers.length);\n-\t\tfor (int i = 0; i < maxLength; i++) {\n-\t\t\tint thisNumber = versionNumbers.length > i ? versionNumbers[i] : 0;\n-\t\t\tint otherNumber = otherVersion.versionNumbers.length > i ? otherVersion.versionNumbers[i] : 0;\n-\t\t\tif (thisNumber != otherNumber) {\n-\t\t\t\treturn thisNumber > otherNumber;\n-\t\t\t}\n-\t\t}\n-\t\treturn !this.isEarlyAccess || otherVersion.isEarlyAccess;\n+\t\treturn isGreaterOrEqualThan(otherVersion, true);\n@@ -161,0 +153,4 @@\n+\t\treturn isGreaterOrEqualThan(otherVersion, false);\n+\t}\n+\n+\tprivate boolean isGreaterOrEqualThan(JavaVersion otherVersion, boolean compareEa) {\n@@ -169,1 +165,2 @@\n-\t\treturn true;\n+\n+\t\treturn !compareEa || !this.isEarlyAccess || otherVersion.isEarlyAccess;\n","filename":"core\/org.openjdk.jmc.common\/src\/main\/java\/org\/openjdk\/jmc\/common\/version\/JavaVersion.java","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -106,2 +106,2 @@\n-\t\t\t\t\t.setSummary(Messages.getString(Messages.JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_SHORT))\n-\t\t\t\t\t.setExplanation(Messages.getString(Messages.JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_LONG))\n+\t\t\t\t\t.setSummary(Messages.getString(Messages.JfrPeriodicEventsFixRule_TEXT_WARN_SHORT))\n+\t\t\t\t\t.setExplanation(Messages.getString(Messages.JfrPeriodicEventsFixRule_TEXT_WARN_LONG))\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules.jdk\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/rules\/jdk\/general\/JfrPeriodicEventsFixRule.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -399,2 +399,2 @@\n-\tpublic static final String JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_LONG = \"JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_LONG\"; \/\/$NON-NLS-1$\n-\tpublic static final String JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_SHORT = \"JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_SHORT\"; \/\/$NON-NLS-1$\n+\tpublic static final String JfrPeriodicEventsFixRule_TEXT_WARN_LONG = \"JfrPeriodicEventsFixRule_TEXT_WARN_LONG\"; \/\/$NON-NLS-1$\n+\tpublic static final String JfrPeriodicEventsFixRule_TEXT_WARN_SHORT = \"JfrPeriodicEventsFixRule_TEXT_WARN_SHORT\"; \/\/$NON-NLS-1$\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules.jdk\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/rules\/jdk\/messages\/internal\/Messages.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -289,1 +289,1 @@\n-JfrPeriodicEventsFixRule_TEXT_OK=The version of OpenJDK you are running is not affected by a perfomance issue related to periodic events.\n+JfrPeriodicEventsFixRule_TEXT_OK=The version of Java ({jdkVersion}) you are running is not affected by a performance issue related to periodic events.\n@@ -291,2 +291,2 @@\n-JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_SHORT=The version of OpenJDK 8 you are running is lacking an important performance fix.\n-JfrPeriodicEventsFixRule_UNSUPPORTED_TEXT_WARN_LONG=The version of OpenJDK 8 you are running is lacking an important performance fix. Upgrading to version 8u302 or later can, in some cases, improve your performance quite radically. See JDK-8266723 for more information. An alternative can be to disable any periodic events not needed, such as the NativeExecutionSample event.\n+JfrPeriodicEventsFixRule_TEXT_WARN_SHORT=The version of OpenJDK 8 you are running is lacking an important performance fix.\n+JfrPeriodicEventsFixRule_TEXT_WARN_LONG=The version of OpenJDK 8 you are running is lacking an important performance fix. Upgrading to version 8u302 or later can, in some cases, improve your performance quite radically. See JDK-8266723 for more information. An alternative can be to disable any periodic events not needed, such as the NativeExecutionSample event.\n","filename":"core\/org.openjdk.jmc.flightrecorder.rules.jdk\/src\/main\/resources\/org\/openjdk\/jmc\/flightrecorder\/rules\/jdk\/messages\/internal\/messages.properties","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}