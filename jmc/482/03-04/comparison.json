{"files":[{"patch":"@@ -56,1 +56,1 @@\n-      MAVENPARAMS: --no-transfer-progress\n+      MAVENPARAMS: --batch-mode --no-transfer-progress\n@@ -66,0 +66,1 @@\n+        mvn-toolchain-id: 'JavaSE-17'\n","filename":".github\/workflows\/validate.yml","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -7,1 +7,1 @@\n-For more information on Mission Control, see http:\/\/www.oracle.com\/missioncontrol.\n+For more information on Mission Control, see https:\/\/www.oracle.com\/missioncontrol.\n@@ -216,1 +216,1 @@\n-1. Install JDK 11, and make sure it is the JDK in use (java -version)\n+1. Install a JDK 17 distribution and make sure it is declared in the local maven toolchain `~\/.m2\/toolchains.xml`\n@@ -220,1 +220,1 @@\n-On Linux or macOS you can use the build.sh script to build JMC:\n+On Linux or macOS you can use the `build.sh` script to build JMC:\n@@ -232,1 +232,1 @@\n-First get third party dependencies into a local p2 repo and make it available on localhost:\n+First get third party dependencies into a local _p2_ repo and make it available on localhost:\n@@ -235,4 +235,2 @@\n-cd missioncontrolfolder [where you just cloned the sources]\n-cd releng\/third-party\n-mvn p2:site\n-mvn jetty:run\n+cd missioncontrol-folder # where you just cloned the sources\n+mvn p2:site --file releng\/third-party\/pom.xml; mvn jetty:run --file releng\/third-party\/pom.xml\n@@ -244,4 +242,2 @@\n-cd core\n-mvn clean install\n-cd ..\n-mvn package\n+mvn clean install --file core\/pom.xml # Install JMC's flight recorder libraries\n+mvn package # Package JMC\n@@ -249,1 +245,52 @@\n-Note that you may need to define proxy settings if you happen to be behind a firewall. In your ~\/.m2\/settings.xml file (if you have none, simply create one), add:\n+\n+If maven reports a toolchain error, e.g. :\n+\n+```\n+[ERROR] Failed to execute goal org.apache.maven.plugins:maven-toolchains-plugin:3.0.0:toolchain (default) on project missioncontrol: Cannot find matching toolchain definitions for the following toolchain types:\n+[ERROR] jdk [ version='17' ]\n+[ERROR] Please make sure you define the required toolchains in your ~\/.m2\/toolchains.xml file.\n+```\n+\n+Create or amend the local maven toolchain file by pointing to the right JDK (here any JDK 17).\n+\n+<details><summary><code>~\/.m2\/toolchains.xml<\/code><\/summary>\n+\n+```xml\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<toolchains>\n+  <!-- JDK toolchains -->\n+  <toolchain>\n+    <type>jdk<\/type>\n+    <provides>\n+      <id>JavaSE-11<\/id>\n+      <version>11<\/version>\n+      <vendor>amazon<\/vendor>\n+    <\/provides>\n+    <configuration>\n+\t    <jdkHome>\/Library\/Java\/JavaVirtualMachines\/corretto-11.jdk\/Contents\/Home<\/jdkHome>\n+    <\/configuration>\n+  <\/toolchain>\n+\n+  <!-- \n+    Declare the JDK 17 toolchain installed on the local machine, \n+    make sure the id is : JavaSE-17\n+\n+    Tycho needs this to find the right _execution environment_.\n+  -->\n+  <toolchain>\n+    <type>jdk<\/type>\n+    <provides>\n+      <id>JavaSE-17<\/id>\n+      <version>17<\/version>\n+      <vendor>amazon<\/vendor>\n+    <\/provides>\n+    <configuration>\n+      <jdkHome>\/Users\/brice.dutheil\/.asdf\/installs\/java\/corretto-17.0.7.7.1<\/jdkHome>\n+    <\/configuration>\n+  <\/toolchain>\n+<\/toolchains>\n+```\n+\n+<\/details>\n+\n+Note that you may need to define proxy settings if you happen to be behind a firewall. In your `~\/.m2\/settings.xml` file (if you have none, simply create one), add:\n@@ -272,1 +319,0 @@\n-\n@@ -314,1 +360,1 @@\n-The above will not run StacktraceModelTest, as that is also matched by \"test.excludes\".\n+The above will not run `StacktraceModelTest`, as that is also matched by `test.excludes`.\n@@ -316,1 +362,1 @@\n-Note that if UI-tests are supposed to be part of the filtered run the \"uitests\" profile needs to be specified as well. Otherwise the UI won't start up and so the tests fail.\n+Note that if UI-tests are supposed to be part of the filtered run the `uitests` profile needs to be specified as well. Otherwise the UI won't start up and so the tests fail.\n@@ -330,1 +376,1 @@\n-to use when launching, add -vm and the path to a directory where a JDK java launcher is located, for example -vm $JAVA_HOME\/bin.\n+to use when launching, add `-vm` and the path to a directory where a JDK java launcher is located, for example `-vm $JAVA_HOME\/bin`.\n@@ -379,1 +425,1 @@\n-For help with frequently asked questions, see the [JMC FAQ](https:\/\/wiki.openjdk.java.net\/display\/jmc\/JMC+FAQ) on the JMC Wiki.\n+For help with frequently asked questions, see the [JMC FAQ](https:\/\/wiki.openjdk.org\/display\/jmc\/JMC+FAQ) on the JMC Wiki.\n@@ -385,1 +431,1 @@\n-Mission Control is an open source project of the [OpenJDK](http:\/\/openjdk.java.net\/).\n+Mission Control is an open source project of the [OpenJDK](https:\/\/openjdk.org\/).\n","filename":"README.md","additions":65,"deletions":19,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -143,0 +143,19 @@\n+\t\t\t\t<plugin>\n+\t\t\t\t\t<groupId>org.apache.maven.plugins<\/groupId>\n+\t\t\t\t\t<artifactId>maven-toolchains-plugin<\/artifactId>\n+\t\t\t\t\t<version>3.0.0<\/version>\n+\t\t\t\t\t<executions>\n+\t\t\t\t\t\t<execution>\n+\t\t\t\t\t\t\t<goals>\n+\t\t\t\t\t\t\t\t<goal>toolchain<\/goal>\n+\t\t\t\t\t\t\t<\/goals>\n+\t\t\t\t\t\t<\/execution>\n+\t\t\t\t\t<\/executions>\n+\t\t\t\t\t<configuration>\n+\t\t\t\t\t\t<toolchains>\n+\t\t\t\t\t\t\t<jdk>\n+\t\t\t\t\t\t\t\t<version>17<\/version>\n+\t\t\t\t\t\t\t<\/jdk>\n+\t\t\t\t\t\t<\/toolchains>\n+\t\t\t\t\t<\/configuration>\n+\t\t\t\t<\/plugin>\n","filename":"core\/pom.xml","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -392,0 +392,20 @@\n+\t\t\t<plugin>\n+\t\t\t\t<groupId>org.apache.maven.plugins<\/groupId>\n+\t\t\t\t<artifactId>maven-toolchains-plugin<\/artifactId>\n+\t\t\t\t<version>3.0.0<\/version>\n+\t\t\t\t<executions>\n+\t\t\t\t\t<execution>\n+\t\t\t\t\t\t<goals>\n+\t\t\t\t\t\t\t<goal>toolchain<\/goal>\n+\t\t\t\t\t\t<\/goals>\n+\t\t\t\t\t<\/execution>\n+\t\t\t\t<\/executions>\n+\t\t\t\t<configuration>\n+\t\t\t\t\t<toolchains>\n+\t\t\t\t\t\t<jdk>\n+\t\t\t\t\t\t\t<id>JavaSE-17<\/id>\n+\t\t\t\t\t\t\t<version>17<\/version>\n+\t\t\t\t\t\t<\/jdk>\n+\t\t\t\t\t<\/toolchains>\n+\t\t\t\t<\/configuration>\n+\t\t\t<\/plugin>\n","filename":"pom.xml","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"}]}