{"files":[{"patch":"@@ -161,1 +161,1 @@\n-\t\t\tsetChecked(DependencyChartType.EDGE_BUNDLING.equals(type));\n+\t\t\tsetChecked(DependencyChartType.CHORD.equals(type));\n@@ -204,2 +204,2 @@\n-\t\t\t\tnew ChangeChartTypeAction(DependencyChartType.EDGE_BUNDLING),\n-\t\t\t\tnew ChangeChartTypeAction(DependencyChartType.CHORD)\n+\t\t\t\tnew ChangeChartTypeAction(DependencyChartType.CHORD),\n+\t\t\t\tnew ChangeChartTypeAction(DependencyChartType.EDGE_BUNDLING)\n","filename":"application\/org.openjdk.jmc.flightrecorder.hierarchical-edge\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/hierarchical\/views\/HierarchicalEdgeView.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -5,0 +5,20 @@\n+\t\t<style>\n+\t\t#debug {\n+\t\t\twidth: 100%%;\n+\t\t\ttext-align: left;\n+\t\t\tdisplay: none;\n+\t\t}\n+\n+\t\t#banner {\n+\t\t\tposition: absolute;\n+\t\t\ttop: 0px;\n+\t\t\tright: 30px;\n+\t\t\tfont-family: sans-serif;\n+\t\t\tfont-size: 12px;\n+\t\t}\n+\n+\t\t#hierarchical {\n+\t\t\twidth: 100%%;\n+\t\t\ttext-align: center;\n+\t\t}\n+\t\t<\/style>\n@@ -10,2 +30,4 @@\n-\t\t<div id=\"debug\" width=\"100%%\" style=\"text-align: left; display:none;\"><\/div>\n-\t\t<div id=\"hierarchical\" width=\"100%%\" style=\"text-align: center\"><\/div>\n+\t\t<div id=\"debug\"><\/div>\n+\t\t<div id=\"banner\"><\/div>\n+\t\t<div id=\"hierarchical\"><\/div>\n+\n","filename":"application\/org.openjdk.jmc.flightrecorder.hierarchical-edge\/src\/main\/resources\/page.template","additions":24,"deletions":2,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -64,2 +64,0 @@\n-const maxPackages = 500;\n-\n@@ -72,0 +70,3 @@\n+\t\/\/ the number of edges rendered on the chart\n+\t\/\/ if the dataset contains more, we show the largest weights\n+\tconst numEdges = Math.min(500, Math.round(Math.min(width, height) \/ 5));\n@@ -83,0 +84,8 @@\n+\n+\tconst totalEdges = Object.keys(calls).length;\n+\tif (numEdges < totalEdges) {\n+\t\tdisplayWarning(numEdges, totalEdges);\n+\t} else {\n+\t\tclearWarning();\n+\t}\n+\n@@ -85,1 +94,1 @@\n-\t\t.slice(0, maxPackages)\n+\t\t.slice(0, numEdges)\n@@ -93,0 +102,12 @@\n+function displayWarning(shown, total) {\n+\tlet message = `Showing ${shown}\/${total} edges<br \/>`;\n+\tmessage += \"Resize to see more\";\n+\n+\tconst banner = document.getElementById(\"banner\");\n+\tbanner.innerHTML = message;\n+}\n+\n+function clearWarning() {\n+\tbanner.innerHTML = \"\";\n+}\n+\n","filename":"application\/org.openjdk.jmc.flightrecorder.hierarchical-edge\/src\/main\/resources\/utils.js","additions":24,"deletions":3,"binary":false,"changes":27,"status":"modified"}]}