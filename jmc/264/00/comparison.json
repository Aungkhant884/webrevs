{"files":[{"patch":"@@ -35,0 +35,1 @@\n+import java.lang.reflect.Modifier;\n@@ -57,0 +58,1 @@\n+import org.openjdk.jmc.common.IMCMethod;\n@@ -70,0 +72,1 @@\n+import org.openjdk.jmc.ui.CoreImages;\n@@ -219,1 +222,6 @@\n-\t\t\tColumnLabelProvider keyLp = new DelegatingLabelProvider(new KeyLabelProvider(keyType), keyAccessor);\n+\t\t\tColumnLabelProvider keyLp = null;\n+\t\t\tif (keyType.getIdentifier().equals(\"method\")) {\n+\t\t\t\tkeyLp = new DelegatingLabelProvider(new MethodLabelProvider(), keyAccessor);\n+\t\t\t} else {\n+\t\t\t\tkeyLp = new DelegatingLabelProvider(new KeyLabelProvider(keyType), keyAccessor);\n+\t\t\t}\n@@ -349,0 +357,56 @@\n+\tstatic class MethodLabelProvider extends ColumnLabelProvider {\n+\n+\t\t\/\/ The default fallback image\n+\t\tprivate final Image nonoptimizedMethodImage;\n+\t\t\/\/ Images for various modifiers\n+\t\tprivate final Image defaultMethodImage;\n+\t\tprivate final Image publicMethodImage;\n+\t\tprivate final Image protectedMethodImage;\n+\t\tprivate final Image privateMethodImage;\n+\n+\t\tMethodLabelProvider() {\n+\t\t\tdefaultMethodImage = CoreImages.METHOD_DEFAULT.createImage();\n+\t\t\tnonoptimizedMethodImage = CoreImages.METHOD_NON_OPTIMIZED.createImage();\n+\t\t\tpublicMethodImage = CoreImages.METHOD_PUBLIC.createImage();\n+\t\t\tprotectedMethodImage = CoreImages.METHOD_PROTECTED.createImage();\n+\t\t\tprivateMethodImage = CoreImages.METHOD_PRIVATE.createImage();\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic Font getFont(Object key) {\n+\t\t\treturn JFaceResources.getFontRegistry().getBold(JFaceResources.DEFAULT_FONT);\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic Image getImage(Object key) {\n+\t\t\tif (key instanceof IMCMethod) {\n+\t\t\t\tIMCMethod method = (IMCMethod) key;\n+\t\t\t\tif ((method.getModifier() & Modifier.PUBLIC) > 0) {\n+\t\t\t\t\treturn publicMethodImage;\n+\t\t\t\t} else if ((method.getModifier() & Modifier.PROTECTED) > 0) {\n+\t\t\t\t\treturn protectedMethodImage;\n+\t\t\t\t} else if ((method.getModifier() & Modifier.PRIVATE) > 0) {\n+\t\t\t\t\treturn privateMethodImage;\n+\t\t\t\t}\n+\t\t\t\treturn defaultMethodImage;\n+\t\t\t}\n+\t\t\treturn nonoptimizedMethodImage;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String getText(Object key) {\n+\t\t\tif (key instanceof IDisplayable) {\n+\t\t\t\treturn ((IDisplayable) key).displayUsing(IDisplayable.EXACT);\n+\t\t\t}\n+\t\t\treturn TypeHandling.getValueString(key);\n+\t\t};\n+\n+\t\t@Override\n+\t\tpublic String getToolTipText(Object key) {\n+\t\t\tif (key instanceof IDisplayable) {\n+\t\t\t\treturn ((IDisplayable) key).displayUsing(IDisplayable.VERBOSE);\n+\t\t\t}\n+\t\t\treturn null;\n+\t\t}\n+\t};\n+\n","filename":"application\/org.openjdk.jmc.flightrecorder.ui\/src\/main\/java\/org\/openjdk\/jmc\/flightrecorder\/ui\/common\/ItemHistogram.java","additions":65,"deletions":1,"binary":false,"changes":66,"status":"modified"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/methdef_obj.gif","binary":true,"status":"deleted"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-default.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-default@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-non-optimized.png","binary":true,"previous_filename":"application\/org.openjdk.jmc.flightrecorder.graphview\/icons\/graph.png","status":"copied"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-non-optimized@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-optimized.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-optimized@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-private.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-private@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-protected.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-protected@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-public.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/method-public@2x.png","binary":true,"status":"added"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/methpri_obj.gif","binary":true,"status":"deleted"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/methpro_obj.gif","binary":true,"status":"deleted"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/methpub_obj.gif","binary":true,"status":"deleted"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/non-optimized-method-16.png","binary":true,"status":"deleted"},{"filename":"application\/org.openjdk.jmc.ui\/icons\/optimized-method-16.png","binary":true,"status":"deleted"},{"patch":"@@ -55,1 +55,1 @@\n-\t\tAPPEARANCE.put(UnitLookup.METHOD.getIdentifier(), CoreImages.METHOD_DEFAULT);\n+\t\tAPPEARANCE.put(UnitLookup.METHOD.getIdentifier(), CoreImages.METHOD_NON_OPTIMIZED);\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/TypeAppearance.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,6 +113,6 @@\n-\tpublic static final String ICON_METHOD_DEFAULT = \"methdef_obj.gif\"; \/\/$NON-NLS-1$\n-\tpublic static final String ICON_METHOD_PRIVATE = \"methpri_obj.gif\"; \/\/$NON-NLS-1$\n-\tpublic static final String ICON_METHOD_PUBLIC = \"methpub_obj.gif\"; \/\/$NON-NLS-1$\n-\tpublic static final String ICON_METHOD_PROTECTED = \"methpro_obj.gif\"; \/\/$NON-NLS-1$\n-\tpublic static final String ICON_METHOD_NON_OPTIMIZED = \"non-optimized-method-16.png\"; \/\/$NON-NLS-1$\n-\tpublic static final String ICON_METHOD_OPTIMZED = \"optimized-method-16.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_DEFAULT = \"method-default.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_PRIVATE = \"method-private.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_PUBLIC = \"method-public.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_PROTECTED = \"method-protected.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_NON_OPTIMIZED = \"method-non-optimized.png\"; \/\/$NON-NLS-1$\n+\tpublic static final String ICON_METHOD_OPTIMZED = \"method-optimized.png\"; \/\/$NON-NLS-1$\n","filename":"application\/org.openjdk.jmc.ui\/src\/main\/java\/org\/openjdk\/jmc\/ui\/UIPlugin.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}