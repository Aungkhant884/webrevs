{"files":[{"patch":"@@ -333,1 +333,1 @@\n-\/\/ all mapping is based on rfp addressing, except for simple leaf methods where we access\n+\/\/ all mapping is based on fp addressing, except for simple leaf methods where we access\n@@ -354,1 +354,1 @@\n-\/\/   |  args    |  <- RFP\n+\/\/   |  args    |  <- FP\n","filename":"src\/hotspot\/cpu\/riscv\/c1_FrameMap_riscv.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n-  if (_cb != NULL ) {\n+  if (_cb != NULL) {\n@@ -133,1 +133,1 @@\n-      sender_pc = (address) this->fp()[return_addr_offset];\n+      sender_pc = (address)this->fp()[return_addr_offset];\n@@ -140,1 +140,0 @@\n-\n@@ -156,3 +155,2 @@\n-      sender_pc = (address) *(sender_sp-1);\n-      \/\/ Note: frame::sender_sp_offset is only valid for compiled frame\n-      saved_fp = (intptr_t*) *(sender_sp - frame::sender_sp_offset);\n+      sender_pc = (address) *(sender_sp + frame::return_addr_offset);\n+      saved_fp = (intptr_t*) *(sender_sp + frame::link_offset);\n@@ -168,1 +166,0 @@\n-\n@@ -174,1 +171,0 @@\n-\n@@ -178,1 +174,0 @@\n-\n@@ -183,1 +178,1 @@\n-    if (sender_pc == NULL ||  sender_blob == NULL) {\n+    if (sender_pc == NULL || sender_blob == NULL) {\n@@ -209,1 +204,0 @@\n-\n@@ -230,1 +224,0 @@\n-\n@@ -240,1 +233,0 @@\n-\n@@ -256,1 +248,0 @@\n-\n@@ -262,2 +253,1 @@\n-\n-  if ((address) this->fp()[return_addr_offset] == NULL) { return false; }\n+  if ((address)this->fp()[return_addr_offset] == NULL) { return false; }\n","filename":"src\/hotspot\/cpu\/riscv\/frame_riscv.cpp","additions":6,"deletions":16,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -390,1 +390,1 @@\n-    Address senderPC = senderSP.getAddressAt(-1 * VM.getVM().getAddressSize());\n+    Address senderPC = senderSP.getAddressAt(RETURN_ADDR_OFFSET * VM.getVM().getAddressSize());\n@@ -394,1 +394,1 @@\n-    Address savedFPAddr = senderSP.addOffsetTo(- SENDER_SP_OFFSET * VM.getVM().getAddressSize());\n+    Address savedFPAddr = senderSP.addOffsetTo(LINK_OFFSET * VM.getVM().getAddressSize());\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/riscv64\/RISCV64Frame.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}