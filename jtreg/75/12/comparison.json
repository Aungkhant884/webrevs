{"files":[{"patch":"@@ -0,0 +1,27 @@\n+name: build\n+description: Set up JDK and run build\n+runs:\n+  using: \"composite\"\n+  steps:\n+    - name: 'Check out repository'\n+      uses: actions\/checkout@v3\n+      with:\n+        fetch-depth: 1\n+    - name: 'Set up JDK'\n+      uses: actions\/setup-java@v3\n+      with:\n+       distribution: 'temurin'\n+       java-version: 11\n+    - name: 'Build JTReg'\n+      run: bash make\/build.sh --jdk ${JAVA_HOME}\n+    - name: 'Run initial self-tests (goal: quick-test)'\n+      env:\n+        MAKE_ARGS: quick-test\n+        HEADLESS: 1\n+      run: bash make\/build.sh --jdk ${JAVA_HOME} --skip-download\n+    - name: 'Run all self-tests (goal: test)'\n+      if: false\n+      env:\n+        MAKE_ARGS: test\n+        HEADLESS: 1\n+      run: bash make\/build.sh --jdk ${JAVA_HOME} --skip-download\n","filename":".github\/actions\/build.yml","additions":27,"deletions":0,"binary":false,"changes":27,"status":"added"},{"patch":"@@ -13,2 +13,9 @@\n-  linux-x64:\n-    runs-on: ubuntu-latest\n+  test:\n+    name: \"Test ${{ matrix.os }}\"\n+    strategy:\n+      fail-fast: false\n+      max-parallel: 3\n+      matrix:\n+        os: [ ubuntu-latest, macos-latest, windows-latest ]\n+\n+    runs-on: ${{ matrix.os }}\n@@ -17,0 +24,11 @@\n+    - name: '[Windows] Install Cygwin'\n+      if: runner.os == 'Windows'\n+      uses: cygwin\/cygwin-install-action@v2\n+      with:\n+        packages: >-\n+          rsync\n+          wget\n+    - name: '[Windows] Configure Git'\n+      if: runner.os == 'Windows'\n+      run: git config --global core.autocrlf input\n+\n@@ -18,1 +36,1 @@\n-      uses: actions\/checkout@v2\n+      uses: actions\/checkout@v3\n@@ -22,0 +40,6 @@\n+    - name: 'Set up JDK 11'\n+      uses: actions\/setup-java@v3\n+      with:\n+       distribution: 'temurin'\n+       java-version: 11\n+      \n@@ -24,3 +48,1 @@\n-      run: |\n-        java --version\n-        bash make\/build.sh --jdk ${JAVA_HOME_11_X64}\n+      run: bash make\/build.sh --jdk ${JAVA_HOME}\n@@ -33,2 +55,1 @@\n-      run: |\n-        bash make\/build.sh --jdk ${JAVA_HOME_11_X64} --skip-download\n+      run: bash make\/build.sh --jdk ${JAVA_HOME} --skip-download\n@@ -37,0 +58,1 @@\n+      if: false\n@@ -41,2 +63,1 @@\n-      run: |\n-        bash make\/build.sh --jdk ${JAVA_HOME_11_X64} --skip-download\n+      run: bash make\/build.sh --jdk ${JAVA_HOME} --skip-download\n","filename":".github\/workflows\/test.yml","additions":31,"deletions":10,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -36,0 +36,2 @@\n+        \/\/ The os.version property may be more detailed than the expected value determined in the makefiles.\n+        \/\/ For example, \"11.6.5\" is a valid match for an expected \"11.6\" version.\n@@ -37,1 +39,1 @@\n-        if (!osVersion.equals(expectVersion)) {\n+        if (!osVersion.startsWith(expectVersion)) {\n@@ -46,1 +48,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"make\/CheckJavaOSVersion.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}