{"files":[{"patch":"@@ -40,0 +40,2 @@\n+import javax.lang.model.SourceVersion;\n+\n@@ -89,4 +91,10 @@\n-        for (String currArg : args) {\n-            if ((currArg.indexOf(File.separatorChar) != -1)\n-                    || (currArg.indexOf('\/') != -1))\n-                throw new ParseException(CLEAN_BAD_CLASSNAME + currArg);\n+        for (String arg : args) {\n+            \/\/ allow \"clean default package\" marker\n+            if (\"*\".equals(arg))\n+                continue;\n+            \/\/ allow qualified class name with optional \"clean any package\" pattern\n+            String name = arg.endsWith(\".*\") ? arg.substring(0, arg.length() - 2) : arg;\n+            if (SourceVersion.isName(name))\n+                continue;\n+            \/\/ detected a syntactically invalid class name\n+            throw new ParseException(CLEAN_BAD_CLASSNAME + arg);\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/CleanAction.java","additions":12,"deletions":4,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-\t$(GREP) -s 'Test results: passed: 155; error: 83' $(@:%.ok=%\/log)  > \/dev\/null\n+\t$(GREP) -s 'Test results: passed: 156; error: 84' $(@:%.ok=%\/log)  > \/dev\/null\n","filename":"test\/basic\/Basic.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,0 +48,5 @@\n+\n+\/* @test\n+ * @summary Error: Parse Exception: Bad classname provided for `clean': JARandom.class\n+ * @run clean JARandom.class\n+ *\/\n","filename":"test\/share\/basic\/clean\/BadTag.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -36,1 +36,6 @@\n- * @run clean JARandom.class\n+ * @run clean JARandom\n+ *\/\n+\n+\/* @test\n+ * @summary Passed: Clean Successful\n+ * @run clean abc.def.JARandom\n","filename":"test\/share\/basic\/clean\/Pass.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}