{"files":[{"patch":"@@ -53,0 +53,1 @@\n+import java.io.IOException;\n@@ -54,0 +55,3 @@\n+import java.nio.file.DirectoryStream;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n@@ -156,5 +160,6 @@\n-        javaParameters.getClassPath().add(jtregSettings.getJTRegDir() + \"\/lib\/jtreg.jar\");\n-        javaParameters.getClassPath().add(jtregSettings.getJTRegDir() + \"\/lib\/javatest.jar\");\n-        javaParameters.getClassPath().add(jtregSettings.getJTRegDir() + \"\/lib\/testng.jar\");\n-        javaParameters.getClassPath().add(jtregSettings.getJTRegDir() + \"\/lib\/junit.jar\");\n-        javaParameters.getClassPath().add(jtregSettings.getJTRegDir() + \"\/lib\/asmtools.jar\");\n+        Path jtregLibDir = Path.of(jtregSettings.getJTRegDir(), \"lib\");\n+        try (DirectoryStream<Path> libs = Files.newDirectoryStream(jtregLibDir, \"*.jar\")) {\n+            libs.forEach(lib -> javaParameters.getClassPath().add(lib.toString()));\n+        } catch (IOException ex) {\n+            throw new IllegalStateException(ex);\n+        }\n","filename":"plugins\/idea\/src\/main\/java\/com\/oracle\/plugin\/jtreg\/configuration\/JTRegConfigurationRunnableState.java","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"}]}