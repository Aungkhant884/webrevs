{"files":[{"patch":"@@ -641,1 +641,1 @@\n-    private String  manual   = \"unset\";\n+    private String  manual   = \"unset\"; \/\/ or \"novalue\", \"done\", \"yesno\"\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/AppletAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -790,1 +790,1 @@\n-    private String  manual  = \"unset\";\n+    private String  manual  = \"unset\"; \/\/ or \"novalue\"\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/MainAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -495,1 +495,1 @@\n-     * tests is on a per action basis rather than on a per test basis, this\n+     * tests is on a per-action basis rather than on a per-test basis, this\n@@ -507,6 +507,1 @@\n-     * Get the timeout to be used for an action.  The timeout will be scaled by\n-     * the timeoutFactor as necessary.  The default timeout for any action as\n-     * per the tag-spec is 120 seconds scaled by a value found in the\n-     * environment (\"javatestTimeoutFactor\").\n-     * The timeout factor is available as both an integer (for backward\n-     * compatibility) and a floating point number\n+     * Returns the timeout to be used for an action.\n@@ -514,4 +509,8 @@\n-     * @param time The initial timeout which may need to be scaled according\n-     *             to the provided timeoutFactor.  If the initial timeout is\n-     *             less than zero, then the default timeout will be returned.\n-     * @return     The timeout in seconds.\n+     * If no debug options have been set, the result will be the given value,\n+     * or a default value if the given value is negative, scaled by the timeout factor.\n+     *\n+     * If debug options have been set, the result will be 0, meaning \"no timeout\".\n+     *\n+     * @param time the value of the timeout specified in the action,\n+     *             or -1 if no value was specified\n+     * @return     the timeout, in seconds\n@@ -520,3 +519,4 @@\n-        if (time < 0)\n-            time = 120;\n-        return (int) (time * getTimeoutFactor());\n+        final int DEFAULT_ACTION_TIMEOUT = 120; \/\/ seconds\n+        return isTimeoutsEnabled()\n+                ? (int) ((time < 0 ? DEFAULT_ACTION_TIMEOUT : time) * getTimeoutFactor())\n+                : 0;\n@@ -530,1 +530,3 @@\n-                \/\/ use [1] to get the floating point timeout factor\n+                \/\/ The timeout factor is available as both an integer (for backward compatibility)\n+                \/\/ and a floating point number.\n+                \/\/ Use [1] to get the floating point timeout factor\n@@ -544,0 +546,10 @@\n+    \/**\n+     * Returns whether timeouts are (generally) enabled.\n+     *\n+     * @return {@code true} if timeouts are enabled, and {@code false} otherwise\n+     *\/\n+    protected boolean isTimeoutsEnabled() {\n+        \/\/ for now, timeouts are always enabled, unless debug options have been specified for the test\n+        return getTestDebugOptions().isEmpty();\n+    }\n+\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/RegressionScript.java","additions":27,"deletions":15,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -419,1 +419,1 @@\n-    private String  manual  = \"unset\";\n+    private String  manual  = \"unset\"; \/\/ or \"novalue\"\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/exec\/ShellAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}