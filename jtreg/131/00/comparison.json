{"files":[{"patch":"@@ -506,1 +506,2 @@\n-     * Returns the set of tests to be run in a given test suite.\n+     * Returns the set of tests to be run in a given test suite,\n+     * or {@code null} meaning \"all tests\".\n@@ -513,1 +514,1 @@\n-     * @return the list of tests\n+     * @return the list of tests, or {@code null} for all tests\n@@ -518,1 +519,1 @@\n-        if (e == null)\n+        if (e == null) {\n@@ -520,2 +521,4 @@\n-        if (e.all)\n-            return null;\n+        }\n+        if (e.all) {\n+            return null; \/\/ all tests\n+        }\n@@ -534,1 +537,3 @@\n-            if (validatePath(wd, test))\n+            if (test.isEmpty()) {\n+                return null; \/\/ all tests\n+            } else if (validatePath(wd, test)) {\n@@ -536,0 +541,1 @@\n+            }\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/config\/TestManager.java","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -1617,0 +1617,1 @@\n+            \/\/ 'null' means \"all tests\"\n","filename":"src\/share\/classes\/com\/sun\/javatest\/regtest\/tool\/Tool.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -43,2 +43,2 @@\n-            status=$$? ; echo status=$$status ; \\\n-            case \"$(@:$(BUILDTESTDIR)\/GroupTest.%.ok=%)\" in \\\n+\tstatus=$$? ; echo status=$$status ; \\\n+\tcase \"$(@:$(BUILDTESTDIR)\/GroupTest.%.ok=%)\" in \\\n@@ -47,3 +47,3 @@\n-                * ) expect=0 ;; \\\n-            esac ; \\\n-            if [ \"$$status\" != \"$$expect\" ]; then echo \"unexpected exit: $$status\" ; exit 1; fi\n+\t\t* ) expect=0 ;; \\\n+\tesac ; \\\n+\tif [ \"$$status\" != \"$$expect\" ]; then echo \"unexpected exit: $$status\" ; exit 1; fi\n","filename":"test\/groups\/GroupTest.gmk","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -0,0 +1,60 @@\n+#\n+# Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+#----------------------------------------------------------------------\n+\n+Group2Test.GROUPS = all indirectAll allWithExtra\n+\n+$(BUILDTESTDIR)\/Group2Test.ok: \\\n+\t\t$(Group2Test.GROUPS:%=$(BUILDTESTDIR)\/Group2Test.%.ok) \\\n+\t\t$(Group2Test.GROUPS:%=$(BUILDTESTDIR)\/Group2Test.report-files.%.ok)\n+\techo $@ passed at `date` > $@\n+\n+$(Group2Test.GROUPS:%=$(BUILDTESTDIR)\/Group2Test.%.ok): \\\n+\t$(JTREG_IMAGEDIR)\/lib\/jtreg.jar \\\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg\n+\t$(MKDIR) -p $(@:%.ok=%)\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg $(JTREG_OPTS) \\\n+\t\t-w:$(@:%.ok=%)\/work -r:$(@:%.ok=%)\/report \\\n+\t\t-jdk:$(JDKHOME) \\\n+\t\t$(TESTDIR)\/groups2:$(@:$(BUILDTESTDIR)\/Group2Test.%.ok=%) \\\n+\t\t1>$(@:%.ok=%)\/jt.log 2>&1\n+\t$(GREP) '^Test results: passed: 3$$' $(@:%.ok=%)\/jt.log\n+\techo $@ passed at `date` > $@\n+\n+$(Group2Test.GROUPS:%=$(BUILDTESTDIR)\/Group2Test.report-files.%.ok): \\\n+\t$(JTREG_IMAGEDIR)\/lib\/jtreg.jar \\\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg\n+\t$(MKDIR) -p $(@:%.ok=%)\n+\t$(JTREG_IMAGEDIR)\/bin\/jtreg $(JTREG_OPTS) \\\n+\t\t-w:$(@:%.ok=%)\/work -r:$(@:%.ok=%)\/report \\\n+\t\t-jdk:$(JDKHOME) \\\n+\t\t-report:files \\\n+\t\t$(TESTDIR)\/groups2:$(@:$(BUILDTESTDIR)\/Group2Test.report-files.%.ok=%) \\\n+\t\t1>$(@:%.ok=%)\/jt.log 2>&1\n+\t$(GREP) '^Test results: passed: 3$$' $(@:%.ok=%)\/jt.log\n+\techo $@ passed at `date` > $@\n+\n+TESTS.jtreg += $(BUILDTESTDIR)\/Group2Test.ok\n","filename":"test\/groups2\/Group2Test.gmk","additions":60,"deletions":0,"binary":false,"changes":60,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+groups = TEST.groups\n\\ No newline at end of file\n","filename":"test\/groups2\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,5 @@\n+all = .\n+\n+indirectAll = :all\n+\n+allWithExtra = Test1.java Test2.java :all\n\\ No newline at end of file\n","filename":"test\/groups2\/TEST.groups","additions":5,"deletions":0,"binary":false,"changes":5,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-public class Test {\n+public class Test1 {\n","filename":"test\/groups2\/Test1.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"test\/groups\/d1\/d11\/Test.java","status":"copied"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-public class Test {\n+public class Test2 {\n","filename":"test\/groups2\/Test2.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"test\/groups\/d1\/d13\/Test.java","status":"copied"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-public class Test {\n+public class Test3 {\n","filename":"test\/groups2\/Test3.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"test\/groups\/d1\/d12\/Test.java","status":"copied"}]}