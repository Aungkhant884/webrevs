{"files":[{"patch":"@@ -2024,2 +2024,3 @@\n-            (Error INVALID_THREAD \"The thread is null, not a valid thread, the thread \"\n-                                  \"is not alive, or the thread is a virtual thread \"\n+            (Error INVALID_THREAD \"The thread is null, not a valid thread, or the thread \"\n+                                  \"is not alive.\")\n+            (Error NOT_IMPLEMENTED \"The thread is a virtual thread \"\n","filename":"src\/java.se\/share\/data\/jdwp\/jdwp.spec","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -128,3 +128,4 @@\n-     * @throws IllegalThreadStateException if the thread has terminated,\n-     * or the thread is a virtual thread that cannot be stopped with an\n-     * asynchronous exception at this time\n+     * @throws IllegalThreadStateException if the thread has terminated\n+     * @throws java.lang.UnsupportedOperationException if the thread is a\n+     * virtual thread that cannot be stopped with an asynchronous exception\n+     * at this time\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/jdi\/ThreadReference.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -723,0 +723,2 @@\n+            } catch (UnsupportedOperationException uoe) {\n+                MessageOutput.println(\"Operation is not supported on the target VM\");\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/tools\/example\/debug\/tty\/Commands.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -178,0 +178,2 @@\n+        CASE_RETURN_TEXT(JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_ATTRIBUTE_CHANGED)\n+        CASE_RETURN_TEXT(JVMTI_ERROR_UNSUPPORTED_OPERATION)\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/error_messages.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -2279,0 +2279,2 @@\n+        case JVMTI_ERROR_UNSUPPORTED_OPERATION:\n+            return JDWP_ERROR(NOT_IMPLEMENTED);\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/util.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,2 +27,0 @@\n-vmTestbase\/nsk\/jdb\/kill\/kill001\/kill001.java                00000000 generic-all\n-\n","filename":"test\/hotspot\/jtreg\/ProblemList-svc-vthread.txt","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-            String msg = (vthreadMode ? \"Illegal thread state\" : \"killed\");\n+            String msg = (vthreadMode ? \"Operation is not supported\" : \"killed\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdb\/kill\/kill001\/kill001.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}