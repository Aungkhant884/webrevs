{"files":[{"patch":"@@ -666,1 +666,7 @@\n-            lock.unlock();\n+            \/\/ Unlike synchronized\/wait, the Condition.await() method does not\n+            \/\/ necessarily reacquire the lock on exit, for example if the thread\n+            \/\/ is stopped or if CTRL+C is caused in jshell. In that case we\n+            \/\/ would enter the finally block without the lock held and unlocking\n+            \/\/ would cause an IllegalMonitorStateException\n+            if (lock.isHeldByCurrentThread())\n+                lock.unlock();\n","filename":"src\/java.base\/share\/classes\/java\/lang\/VirtualThread.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}