{"files":[{"patch":"@@ -153,1 +153,1 @@\n-        \/\/ check 'threads', searching for java.lang.Thread main or old-m-a-i-n\n+        \/\/ check 'threads', searching for \"java.lang.Thread\" followed by the main thread name.\n@@ -156,1 +156,1 @@\n-            v.add(\"old-m-a-i-n\");\n+            v.add(nsk.share.MainWrapper.OLD_MAIN_THREAD_NAME);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdb\/monitor\/monitor001\/monitor001.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -187,1 +187,1 @@\n-        \/\/ check 'threads', searching for java.lang.Thread main or old-m-a-i-n\n+        \/\/ check 'threads', searching for \"java.lang.Thread\" followed by the main thread name.\n@@ -190,1 +190,1 @@\n-            v.add(\"old-m-a-i-n\");\n+            v.add(nsk.share.MainWrapper.OLD_MAIN_THREAD_NAME);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdb\/unmonitor\/unmonitor001\/unmonitor001.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -250,4 +250,4 @@\n-                 * With the added wrapper support, it will also contain \"old-m-a-i-n\". However,\n-                 * when run with vthread wrapper, it will only have \"Thread2\" since \"main\" and\n-                 * \"old-m-a-i-n\" will be vthreads, which are always considered to be in the\n-                 * \"VirtualThreads\" ThreadGroup, and threfore do not show up in group1.\n+                 * With the added wrapper support, it will also contain the original main thread.\n+                 * However, when run with vthread wrapper, it will only have \"Thread2\" since \"main\"\n+                 * and original main thread will be vthreads, which are always considered to be in\n+                 * the \"VirtualThreads\" ThreadGroup, and threfore do not show up in group1.\n@@ -275,1 +275,1 @@\n-                    if (s1.equals(\"old-m-a-i-n\"))\n+                    if (s1.equals(nsk.share.MainWrapper.OLD_MAIN_THREAD_NAME))\n@@ -286,1 +286,2 @@\n-                        log3(\"ERROR: # of 'old-m-a-i-n' threads != 1  : \" + nOldMain);\n+                        log3(\"ERROR: # of '\" + nsk.share.MainWrapper.OLD_MAIN_THREAD_NAME +\n+                             \"' threads != 1  : \" + nOldMain);\n@@ -291,1 +292,2 @@\n-                        log3(\"ERROR: # of 'old-m-a-i-n' threads != 0  : \" + nOldMain);\n+                        log3(\"ERROR: # of '\" + nsk.share.MainWrapper.OLD_MAIN_THREAD_NAME +\n+                             \"n' threads != 0  : \" + nOldMain);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadGroupReference\/threads\/threads001.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -249,3 +249,3 @@\n-                                      \/\/ When using the jtreg wrapper, the main thread is renamed to old-m-a-i-n,\n-                                      \/\/ and a new \"main\" vthread is created. However, the rename happens after\n-                                      \/\/ the debug agent has already generated the THREAD_START event for the\n+                                      \/\/ When using the jtreg wrapper, the main thread is renamed, and a new\n+                                      \/\/ \"main\" vthread is created. However, the rename happens after the\n+                                      \/\/ debug agent has already generated the THREAD_START event for the\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadStartEvent\/thread\/thread001.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+    public static final String OLD_MAIN_THREAD_NAME = \"old-m-a-i-n\";\n@@ -71,1 +72,1 @@\n-        Thread.currentThread().setName(\"old-m-a-i-n\");\n+        Thread.currentThread().setName(OLD_MAIN_THREAD_NAME);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/MainWrapper.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}