{"files":[{"patch":"@@ -3474,2 +3474,6 @@\n-  return _gvn.transform(LoadNode::make(_gvn, NULL, immutable_memory(), p, p->bottom_type()->is_ptr(),\n-        TypeRawPtr::NOTNULL, T_ADDRESS, MemNode::unordered));\n+  \/\/ We cannot use immutable_memory() because we might flip onto a\n+  \/\/ different carrier thread, at which point we'll need to use that\n+  \/\/ carrier thread's cache.\n+  \/\/ return _gvn.transform(LoadNode::make(_gvn, NULL, immutable_memory(), p, p->bottom_type()->is_ptr(),\n+  \/\/       TypeRawPtr::NOTNULL, T_ADDRESS, MemNode::unordered));\n+  return make_load(NULL, p, p->bottom_type()->is_ptr(), T_ADDRESS, MemNode::unordered);\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}