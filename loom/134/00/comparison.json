{"files":[{"patch":"@@ -2000,1 +2000,1 @@\n-        HandshakeClosure(\"GetStackTraceClosure\"), _java_thread(java_thread), _depth(0) {\n+        HandshakeClosure(\"GetStackTraceClosure\"), _java_thread(java_thread), _depth(0), _retry_handshake(false) {\n@@ -2007,1 +2007,7 @@\n-    bool retry() { return _retry_handshake; }\n+    bool read_reset_retry() {\n+      bool ret = _retry_handshake;\n+      \/\/ If we re-execute the handshake this method need to return false\n+      \/\/ when the handshake cannot be performed. (E.g. thread terminating)\n+      _retry_handshake = false;\n+      return ret;\n+    }\n@@ -2014,1 +2020,0 @@\n-      _retry_handshake = false;\n@@ -2061,1 +2066,1 @@\n-  } while (gstc.retry());\n+  } while (gstc.read_reset_retry());\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}