{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -164,0 +164,9 @@\n+\n+        if (argumentHandler.isLaunchingConnector()) {\n+            \/* Need --enable-preview on the debuggee in order to support virtual threads. *\/\n+            boolean vthreadMode = \"Virtual\".equals(System.getProperty(\"main.wrapper\"));\n+            if (vthreadMode) {\n+                args.add(\"-R--enable-preview\");\n+            }\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdb\/Launcher.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -755,0 +755,5 @@\n+        \/* Need --enable-preview on the debuggee in order to support virtual threads. *\/\n+        boolean vthreadMode = \"Virtual\".equals(System.getProperty(\"main.wrapper\"));\n+        if (vthreadMode) {\n+            vmArgs += \" --enable-preview\";\n+        }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdi\/Binder.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -316,0 +316,6 @@\n+        \/* Need --enable-preview on the debuggee in order to support virtual threads. *\/\n+        boolean vthreadMode = \"Virtual\".equals(System.getProperty(\"main.wrapper\"));\n+        if (vthreadMode) {\n+            args.add(\"--enable-preview\");\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jpda\/DebugeeBinder.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}