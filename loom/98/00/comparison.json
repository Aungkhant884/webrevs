{"files":[{"patch":"@@ -184,0 +184,1 @@\n+static void print_frames(JavaThread* thread, outputStream* st = tty);\n@@ -189,1 +190,0 @@\n-static void print_frames(JavaThread* thread, outputStream* st = tty);\n@@ -2923,0 +2923,24 @@\n+\n+static void print_frames(JavaThread* thread, outputStream* st) {\n+  st->print_cr(\"------- frames ---------\");\n+  if (!thread->has_last_Java_frame()) st->print_cr(\"NO ANCHOR!\");\n+\n+  RegisterMap map(thread, true, true, false);\n+  map.set_include_argument_oops(false);\n+\n+  if (false) {\n+    for (frame f = thread->last_frame(); !f.is_entry_frame(); f = f.sender(&map)) f.print_on(st);\n+  } else {\n+    map.set_skip_missing(true);\n+    ResetNoHandleMark rnhm;\n+    ResourceMark rm;\n+    HandleMark hm(Thread::current());\n+    FrameValues values;\n+\n+    int i = 0;\n+    for (frame f = thread->last_frame(); !f.is_entry_frame(); f = f.sender(&map)) f.describe(values, i++, &map);\n+    values.print_on(thread, st);\n+  }\n+\n+  st->print_cr(\"======= end frames =========\");\n+}\n@@ -3005,24 +3029,0 @@\n-\n-static void print_frames(JavaThread* thread, outputStream* st) {\n-  st->print_cr(\"------- frames ---------\");\n-  if (!thread->has_last_Java_frame()) st->print_cr(\"NO ANCHOR!\");\n-\n-  RegisterMap map(thread, true, true, false);\n-  map.set_include_argument_oops(false);\n-\n-  if (false) {\n-    for (frame f = thread->last_frame(); !f.is_entry_frame(); f = f.sender(&map)) f.print_on(st);\n-  } else {\n-    map.set_skip_missing(true);\n-    ResetNoHandleMark rnhm;\n-    ResourceMark rm;\n-    HandleMark hm(Thread::current());\n-    FrameValues values;\n-\n-    int i = 0;\n-    for (frame f = thread->last_frame(); !f.is_entry_frame(); f = f.sender(&map)) f.describe(values, i++, &map);\n-    values.print_on(thread, st);\n-  }\n-\n-  st->print_cr(\"======= end frames =========\");\n-}\n","filename":"src\/hotspot\/share\/runtime\/continuation.cpp","additions":25,"deletions":25,"binary":false,"changes":50,"status":"modified"}]}