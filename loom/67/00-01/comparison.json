{"files":[{"patch":"@@ -3893,0 +3893,2 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n@@ -3897,1 +3899,0 @@\n-  assert(thread->is_in_VTMT(), \"VTMT sanity check\");\n@@ -3899,0 +3900,1 @@\n+  assert(thread->is_in_VTMT(), \"VTMT sanity check\");\n@@ -3919,0 +3921,2 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n@@ -3946,0 +3950,2 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n@@ -3950,1 +3956,0 @@\n-  assert(thread->is_in_VTMT(), \"VTMT sanity check\");\n@@ -3952,0 +3957,1 @@\n+  assert(thread->is_in_VTMT(), \"VTMT sanity check\");\n@@ -3953,0 +3959,2 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -85,0 +85,1 @@\n+#if INCLUDE_JVMTI\n@@ -87,0 +88,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -622,1 +622,1 @@\n-    assert(!_handshakee->is_in_VTMT(), \"no suspend allowed in VTMT transition\");\n+    JVMTI_ONLY(assert(!_handshakee->is_in_VTMT(), \"no suspend allowed in VTMT transition\");)\n@@ -709,1 +709,1 @@\n-  assert(!_handshakee->is_in_VTMT(), \"no suspend allowed in VTMT transition\");\n+  JVMTI_ONLY(assert(!_handshakee->is_in_VTMT(), \"no suspend allowed in VTMT transition\");)\n","filename":"src\/hotspot\/share\/runtime\/handshake.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1025,0 +1025,1 @@\n+#if INCLUDE_JVMTI\n@@ -1027,0 +1028,1 @@\n+#endif\n@@ -1778,0 +1780,1 @@\n+#if INCLUDE_JVMTI\n@@ -1780,1 +1783,0 @@\n-#if INCLUDE_JVMTI\n@@ -1782,1 +1784,0 @@\n-#endif\n@@ -1784,0 +1785,3 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n+#endif\n@@ -1787,1 +1791,0 @@\n-  _is_VTMT_disabler = val;\n@@ -1789,0 +1792,1 @@\n+  _is_VTMT_disabler = val;\n@@ -1790,0 +1794,2 @@\n+#else\n+  fatal(\"Should only be called with JVMTI enabled\");\n@@ -1793,0 +1799,1 @@\n+\n@@ -2368,0 +2375,1 @@\n+#if INCLUDE_JVMTI\n@@ -2370,1 +2378,0 @@\n-#if INCLUDE_JVMTI\n@@ -2380,4 +2387,0 @@\n-#else\n-  ShouldNotReachHere();\n-  return NULL;\n-#endif\n@@ -2385,0 +2388,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -929,0 +929,1 @@\n+#if INCLUDE_JVMTI\n@@ -931,0 +932,1 @@\n+#endif\n@@ -1250,2 +1252,17 @@\n-  bool is_VTMT_disabler() const                  { return _is_VTMT_disabler; }\n-  bool is_in_VTMT() const                        { return _is_in_VTMT; }\n+  bool is_VTMT_disabler() const {\n+#if INCLUDE_JVMTI\n+    return _is_VTMT_disabler;\n+#else\n+    fatal(\"Should only be called with JVMTI enabled\");\n+    return false;\n+#endif\n+  }\n+\n+  bool is_in_VTMT() const {\n+#if INCLUDE_JVMTI\n+    return _is_in_VTMT;\n+#else\n+    fatal(\"Should only be called with JVMTI enabled\");\n+    return false;\n+#endif\n+  }\n@@ -1593,0 +1610,1 @@\n+#if INCLUDE_JVMTI\n@@ -1595,0 +1613,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/thread.hpp","additions":21,"deletions":2,"binary":false,"changes":23,"status":"modified"}]}