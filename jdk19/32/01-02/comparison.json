{"files":[{"patch":"@@ -150,2 +150,6 @@\n-    guarantee(JavaThread::current()->is_oop_safe(),\n-              \"JavaThread cannot touch oops after its GC barrier is detached.\");\n+    Thread* current = Thread::current();\n+    \/\/ Can get here from the VMThread via install_async_exception() bail out.\n+    if (current->is_Java_thread()) {\n+      guarantee(JavaThread::cast(current)->is_oop_safe(),\n+                \"JavaThread cannot touch oops after its GC barrier is detached.\");\n+    }\n","filename":"src\/hotspot\/share\/runtime\/thread.inline.hpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}