{"files":[{"patch":"@@ -68,0 +68,4 @@\n+\/\/ Next define should exactly match to the amount\n+\/\/ of MTLVC_ADD_VERTEX in MTLVC_ADD_TRIANGLES\n+#define VERTS_FOR_A_QUAD 6\n+\n@@ -222,1 +226,5 @@\n-    if (maskCacheIndex >= MTLVC_MASK_CACHE_MAX_INDEX)\n+    \/\/ MTLVC_ADD_TRIANGLES at the end of this function\n+    \/\/ will place VERTS_FOR_A_QUAD vertexes to the vertex cache\n+    \/\/ check free space and flush if needed.\n+    if ((maskCacheIndex >= MTLVC_MASK_CACHE_MAX_INDEX) ||\n+         ((vertexCacheIndex + VERTS_FOR_A_QUAD) >= MTLVC_MAX_INDEX))\n@@ -308,1 +316,3 @@\n-    if (vertexCacheIndex >= MTLVC_MAX_INDEX)\n+    \/\/ MTLVC_ADD_TRIANGLES adds VERTS_FOR_A_QUAD vertexes into Cache\n+    \/\/ so need to check space for VERTS_FOR_A_QUAD elements\n+    if ((vertexCacheIndex + VERTS_FOR_A_QUAD) >= MTLVC_MAX_INDEX)\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLVertexCache.m","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"}]}