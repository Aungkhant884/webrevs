{"files":[{"patch":"@@ -37,3 +37,1 @@\n-ifeq ($(call isTargetOs, android ios), false)\n-  include lib\/Awt2dLibraries.gmk\n-endif\n+include lib\/Awt2dLibraries.gmk\n","filename":"make\/modules\/java.desktop\/Lib.gmk","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -128,0 +128,11 @@\n+ifeq ($(ENABLE_HEADLESS_ONLY), true)\n+  LIBAWT_CFLAGS += -DHEADLESS\n+endif\n+ifeq ($(call isTargetOs, ios), android)\n+  LIBAWT_EXCLUDES += $(TOPDIR)\/src\/$(MODULE)\/unix\/native\/common\/java2d\/x11\n+endif\n+ifeq ($(call isTargetOs, ios), true)\n+  LIBAWT_EXCLUDES += $(TOPDIR)\/src\/$(MODULE)\/unix\n+endif\n+\n+\n@@ -137,0 +148,2 @@\n+LIBAWT_CFLAGS += $(CUPS_CFLAGS)\n+\n@@ -365,0 +378,7 @@\n+  ifeq ($(call isTargetOs, android), true)\n+    LIBAWT_HEADLESS_EXCLUDES += $(TOPDIR)\/src\/$(MODULE)\/unix\/native\/common\/java2d\/x11\n+  endif\n+\n+  ifeq ($(call isTargetOs, ios), true)\n+    LIBAWT_HEADLESS_EXCLUDES += $(TOPDIR)\/src\/$(MODULE)\/unix\n+  endif\n@@ -536,1 +556,1 @@\n-else ifeq ($(call isTargetOs, macosx), true)\n+else ifeq ($(call isTargetOs, macosx ios), true)\n@@ -691,1 +711,3 @@\n-TARGETS += $(BUILD_LIBJAWT)\n+ifeq ($(call isTargetOs, ios), false)\n+  TARGETS += $(BUILD_LIBJAWT)\n+endif\n","filename":"make\/modules\/java.desktop\/lib\/Awt2dLibraries.gmk","additions":24,"deletions":2,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -431,0 +431,1 @@\n+#ifndef HEADLESS\n@@ -1335,0 +1336,1 @@\n+#endif\n","filename":"src\/java.desktop\/unix\/native\/common\/awt\/fontpath.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-#ifndef MACOSX\n+#if !defined(MACOSX) && !defined(HEADLESS)\n","filename":"src\/java.desktop\/unix\/native\/common\/awt\/utility\/rect.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#ifndef HEADLESS\n@@ -38,1 +39,0 @@\n-#ifndef HEADLESS\n@@ -610,1 +610,2 @@\n-    return CAPS_EMPTY;\n+    return 0;\n+    \/\/ return CAPS_EMPTY;\n","filename":"src\/java.desktop\/unix\/native\/common\/java2d\/opengl\/GLXGraphicsConfig.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#ifndef HEADLESS\n@@ -41,1 +42,0 @@\n-#ifndef HEADLESS\n","filename":"src\/java.desktop\/unix\/native\/common\/java2d\/opengl\/GLXSurfaceData.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}