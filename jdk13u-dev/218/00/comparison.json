{"files":[{"patch":"@@ -1,1 +1,1 @@\n-File-Date: 2020-03-16\n+File-Date: 2020-04-01\n@@ -1533,1 +1533,1 @@\n-Description: Adabe\n+Description: Atauran\n@@ -2710,0 +2710,1 @@\n+Deprecated: 2020-03-28\n@@ -3773,0 +3774,1 @@\n+Deprecated: 2020-03-28\n@@ -4088,0 +4090,1 @@\n+Deprecated: 2020-03-28\n@@ -5758,0 +5761,1 @@\n+Deprecated: 2020-03-28\n@@ -6014,1 +6018,1 @@\n-Description: Bera\n+Description: Bira\n@@ -7377,0 +7381,1 @@\n+Deprecated: 2020-03-28\n@@ -7483,0 +7488,1 @@\n+Deprecated: 2020-03-28\n@@ -7878,0 +7884,5 @@\n+Subtag: ckm\n+Description: Chakavian\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -8124,0 +8135,7 @@\n+Subtag: cnp\n+Description: Northern Ping Chinese\n+Description: Northern Pinghua\n+Added: 2020-03-28\n+Macrolanguage: zh\n+%%\n+Type: language\n@@ -8567,0 +8585,7 @@\n+Subtag: csp\n+Description: Southern Ping Chinese\n+Description: Southern Pinghua\n+Added: 2020-03-28\n+Macrolanguage: zh\n+%%\n+Type: language\n@@ -9321,0 +9346,1 @@\n+Description: Tłı̨chǫ\n@@ -9337,0 +9363,1 @@\n+Deprecated: 2020-03-28\n@@ -9723,0 +9750,5 @@\n+Subtag: dmf\n+Description: Medefaidrin\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -10044,0 +10076,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: kzk\n@@ -10333,0 +10367,5 @@\n+Subtag: dwk\n+Description: Dawik Kui\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -10458,0 +10497,5 @@\n+Subtag: ebc\n+Description: Beginci\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -10579,0 +10623,1 @@\n+Deprecated: 2020-03-28\n@@ -11884,0 +11929,1 @@\n+Description: Gajirrabeng\n@@ -11973,0 +12019,5 @@\n+Subtag: gef\n+Description: Gerai\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -12384,0 +12435,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: kzk\n@@ -12484,0 +12537,6 @@\n+Subtag: gmr\n+Description: Mirning\n+Description: Mirniny\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -13158,0 +13217,1 @@\n+Description: Gawri\n@@ -13862,0 +13922,5 @@\n+Subtag: hng\n+Description: Hungu\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -14143,0 +14208,1 @@\n+Description: ǂʼAmkhoe\n@@ -15913,0 +15979,1 @@\n+Description: Karakalpak\n@@ -17070,1 +17137,1 @@\n-Description: Khalaj\n+Description: Khalaj [Indo-Iranian]\n@@ -17072,0 +17139,1 @@\n+Deprecated: 2020-03-28\n@@ -17251,1 +17319,1 @@\n-Description: Kaiku\n+Description: Kaeku\n@@ -17347,1 +17415,1 @@\n-Description: Turkic Khalaj\n+Description: Khalaj\n@@ -18500,0 +18568,1 @@\n+Description: Kalapalo\n@@ -18911,0 +18980,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: kru\n@@ -18956,0 +19027,2 @@\n+Deprecated: 2020-03-28\n+Comments: see dwk, uki\n@@ -20340,0 +20413,1 @@\n+Deprecated: 2020-03-28\n@@ -22791,0 +22865,1 @@\n+Description: Innu\n@@ -26202,0 +26277,5 @@\n+Subtag: nsb\n+Description: Lower Nossob\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -26670,0 +26750,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: bpp\n@@ -28169,1 +28251,1 @@\n-Description: Peere\n+Description: Pere\n@@ -28575,0 +28657,1 @@\n+Deprecated: 2020-03-28\n@@ -31135,0 +31218,2 @@\n+Deprecated: 2020-03-28\n+Comments: see ebc, gef, sdq\n@@ -31153,0 +31238,5 @@\n+Subtag: sdq\n+Description: Semandang\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -33505,0 +33595,1 @@\n+Deprecated: 2020-03-28\n@@ -36243,0 +36334,5 @@\n+Subtag: uki\n+Description: Kui (India)\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -36274,0 +36370,5 @@\n+Subtag: ukv\n+Description: Kuku\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -37763,0 +37864,5 @@\n+Subtag: wlh\n+Description: Welaun\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39235,0 +39341,5 @@\n+Subtag: xnm\n+Description: Ngumbarl\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39337,0 +39448,6 @@\n+Subtag: xpb\n+Description: Northeastern Tasmanian\n+Description: Pyemmairrener\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39342,0 +39459,5 @@\n+Subtag: xpd\n+Description: Oyster Bay Tasmanian\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39348,0 +39470,6 @@\n+Subtag: xpf\n+Description: Southeast Tasmanian\n+Description: Nuenonne\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39353,0 +39481,6 @@\n+Subtag: xph\n+Description: North Midlands Tasmanian\n+Description: Tyerrenoterpanner\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39368,0 +39502,5 @@\n+Subtag: xpl\n+Description: Port Sorell Tasmanian\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39413,0 +39552,18 @@\n+Subtag: xpv\n+Description: Northern Tasmanian\n+Description: Tommeginne\n+Added: 2020-03-28\n+%%\n+Type: language\n+Subtag: xpw\n+Description: Northwestern Tasmanian\n+Description: Peerapper\n+Added: 2020-03-28\n+%%\n+Type: language\n+Subtag: xpx\n+Description: Southwestern Tasmanian\n+Description: Toogee\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39418,0 +39575,5 @@\n+Subtag: xpz\n+Description: Bruny Island Tasmanian\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -39471,0 +39633,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: dmw\n@@ -39703,0 +39867,2 @@\n+Deprecated: 2020-03-28\n+Comments: see xpb, xpd, xpf, xph, xpl, xpv, xpw, xpx, xpz\n@@ -39732,0 +39898,1 @@\n+Description: Nunukul\n@@ -41324,0 +41491,5 @@\n+Subtag: zba\n+Description: Balaibalan\n+Added: 2020-03-28\n+%%\n+Type: language\n@@ -41489,0 +41661,2 @@\n+Deprecated: 2020-03-28\n+Preferred-Value: scv\n@@ -42466,0 +42640,1 @@\n+Deprecated: 2020-03-28\n@@ -42583,0 +42758,9 @@\n+Subtag: cnp\n+Description: Northern Ping Chinese\n+Description: Northern Pinghua\n+Added: 2020-03-28\n+Preferred-Value: cnp\n+Prefix: zh\n+Macrolanguage: zh\n+%%\n+Type: extlang\n@@ -42650,0 +42834,9 @@\n+Subtag: csp\n+Description: Southern Ping Chinese\n+Description: Southern Pinghua\n+Added: 2020-03-28\n+Preferred-Value: csp\n+Prefix: zh\n+Macrolanguage: zh\n+%%\n+Type: extlang\n@@ -46633,0 +46826,6 @@\n+Subtag: akuapem\n+Description: Akuapem Twi\n+Added: 2017-06-05\n+Prefix: tw\n+%%\n+Type: variant\n@@ -46651,6 +46850,0 @@\n-Subtag: akuapem\n-Description: Akuapem Twi\n-Added: 2017-06-05\n-Prefix: tw\n-%%\n-Type: variant\n","filename":"make\/data\/lsrdata\/language-subtag-registry.txt","additions":206,"deletions":13,"binary":false,"changes":219,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import java.util.Arrays;\n@@ -40,0 +41,1 @@\n+import java.util.stream.Collectors;\n@@ -78,0 +80,1 @@\n+        String prefix = null;\n@@ -82,1 +85,1 @@\n-            int index = line.indexOf(' ')+1;\n+            int index = line.indexOf(' ') + 1;\n@@ -89,2 +92,1 @@\n-            } else if (line.startsWith(\"preferred-value:\")\n-                       && !type.equals(\"extlang\")) {\n+            } else if (line.startsWith(\"preferred-value:\")) {\n@@ -92,1 +94,2 @@\n-                processDeprecatedData(type, tag, preferred);\n+            } else if (line.startsWith(\"prefix:\")) {\n+                prefix = line.substring(index);\n@@ -94,0 +97,1 @@\n+                processDeprecatedData(type, tag, preferred, prefix);\n@@ -96,0 +100,2 @@\n+                preferred = null;\n+                prefix = null;\n@@ -98,0 +104,3 @@\n+\n+        \/\/ Last entry\n+        processDeprecatedData(type, tag, preferred, prefix);\n@@ -102,1 +111,2 @@\n-                                              String preferred) {\n+                                              String preferred,\n+                                              String prefix) {\n@@ -104,0 +114,9 @@\n+\n+        if (type == null || tag == null || preferred == null) {\n+            return;\n+        }\n+\n+        if (type.equals(\"extlang\") && prefix != null) {\n+            tag = prefix + \"-\" + tag;\n+        }\n+\n@@ -116,1 +135,1 @@\n-        } else { \/\/ language, grandfahered, and redundant\n+        } else { \/\/ language, extlang, grandfathered, and redundant\n@@ -134,1 +153,6 @@\n-            subtags = initialLanguageMap.get(preferred).toString().split(\",\");\n+            \/\/ There are cases where the same tag may appear in two entries, e.g.,\n+            \/\/ \"yue\" is defined both as extlang and redundant. Remove the dup.\n+            subtags = Arrays.stream(initialLanguageMap.get(preferred).toString().split(\",\"))\n+                    .distinct()\n+                    .collect(Collectors.toList())\n+                    .toArray(new String[0]);\n","filename":"make\/jdk\/src\/classes\/build\/tools\/generatelsrequivmaps\/EquivMapsGenerator.java","additions":31,"deletions":7,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 7069824 8042360 8032842 8175539 8210443\n+ * @bug 7069824 8042360 8032842 8175539 8210443 8242010\n@@ -121,0 +121,1 @@\n+                                new LanguageRange(\"zh-hak-CN\", 0.8),\n@@ -122,2 +123,2 @@\n-                                new LanguageRange(\"zh-cmn-CN\", 0.1),\n-                                new LanguageRange(\"zh-guoyu-CN\", 0.1))},\n+                                new LanguageRange(\"zh-guoyu-CN\", 0.1),\n+                                new LanguageRange(\"zh-cmn-CN\", 0.1))},\n","filename":"test\/jdk\/java\/util\/Locale\/Bug7069824.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8040211 8191404 8203872 8222980 8225435 8241082\n+ * @bug 8040211 8191404 8203872 8222980 8225435 8241082 8242010\n@@ -28,1 +28,1 @@\n- *          (LSR Revision: 2020-03-16) with Locale and Locale.LanguageRange\n+ *          (LSR Revision: 2020-04-01) with Locale and Locale.LanguageRange\n@@ -46,3 +46,3 @@\n-        \"Accept-Language: aam, adp, aog, aue, bcg, cey, cqu, dif, ema,\"\n-        + \" en-gb-oed, gti, kdz, koj, kwq, kxe, lii, lmm, lsn, lsv, lvi, mtm,\"\n-        + \" ngv, nns, oyb, phr, pnd, pub, snz, suj, szy,taj, tjj, tjp, tvx,\"\n+        \"Accept-Language: aam, adp, aog, aue, bcg, bpp, cey, cnp, cqu, csp, dif, dmw, ema,\"\n+        + \" en-gb-oed, gti, kdz, koj, kru, kwq, kxe, kzk, lii, lmm, lsn, lsv, lvi, mtm,\"\n+        + \" ngv, nns, oyb, phr, pnd, pub, scv, snz, suj, szy, taj, tjj, tjp, tvx,\"\n@@ -61,0 +61,2 @@\n+            new LanguageRange(\"bpp\", 1.0),\n+            new LanguageRange(\"nxu\", 1.0),\n@@ -62,0 +64,2 @@\n+            new LanguageRange(\"cnp\", 1.0),\n+            new LanguageRange(\"zh-cnp\", 1.0),\n@@ -64,0 +68,2 @@\n+            new LanguageRange(\"csp\", 1.0),\n+            new LanguageRange(\"zh-csp\", 1.0),\n@@ -66,0 +72,2 @@\n+            new LanguageRange(\"dmw\", 1.0),\n+            new LanguageRange(\"xrq\", 1.0),\n@@ -76,0 +84,2 @@\n+            new LanguageRange(\"kru\", 1.0),\n+            new LanguageRange(\"kxl\", 1.0),\n@@ -80,0 +90,3 @@\n+            new LanguageRange(\"kzk\", 1.0),\n+            new LanguageRange(\"gli\", 1.0),\n+            new LanguageRange(\"drr\", 1.0),\n@@ -85,0 +98,1 @@\n+            new LanguageRange(\"sgn-lsn\", 1.0),\n@@ -86,0 +100,1 @@\n+            new LanguageRange(\"sgn-lsv\", 1.0),\n@@ -102,0 +117,2 @@\n+            new LanguageRange(\"scv\", 1.0),\n+            new LanguageRange(\"zir\", 1.0),\n","filename":"test\/jdk\/java\/util\/Locale\/Bug8040211.java","additions":22,"deletions":5,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8204938\n+ * @bug 8204938 8242010\n@@ -103,1 +103,2 @@\n-        String preferred;\n+        String preferred = null;\n+        String prefix = null;\n@@ -112,1 +113,1 @@\n-            } else if (line.startsWith(\"preferred-value:\") && !type.equals(\"extlang\")) {\n+            } else if (line.startsWith(\"preferred-value:\")) {\n@@ -114,1 +115,2 @@\n-                processDataAndGenerateMaps(type, tag, preferred);\n+            } else if (line.startsWith(\"prefix:\")) {\n+                prefix = line.substring(index);\n@@ -116,0 +118,1 @@\n+                processDataAndGenerateMaps(type, tag, preferred, prefix);\n@@ -118,0 +121,2 @@\n+                preferred = null;\n+                prefix = null;\n@@ -120,0 +125,3 @@\n+\n+        \/\/ Last entry\n+        processDataAndGenerateMaps(type, tag, preferred, prefix);\n@@ -124,2 +132,11 @@\n-            String preferred) {\n-        StringBuilder sb;\n+            String preferred,\n+            String prefix) {\n+\n+        if (type == null || tag == null || preferred == null) {\n+            return;\n+        }\n+\n+        if (type.equals(\"extlang\") && prefix != null) {\n+            tag = prefix + \"-\" + tag;\n+        }\n+\n@@ -137,1 +154,1 @@\n-        } else { \/\/ language, grandfathered, and redundant\n+        } else { \/\/ language, extlang, grandfathered, and redundant\n","filename":"test\/jdk\/java\/util\/Locale\/LSRDataTest.java","additions":25,"deletions":8,"binary":false,"changes":33,"status":"modified"}]}