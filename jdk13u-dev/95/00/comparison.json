{"files":[{"patch":"@@ -128,1 +128,7 @@\n-    st->print_cr(\" exception pending %s \",\n+    oop message = java_lang_Throwable::message(PENDING_EXCEPTION);\n+    if (message != NULL) {\n+      char* ex_msg = java_lang_String::as_utf8_string(message);\n+      st->print_cr(\" exception pending '%s %s'\",\n+                 PENDING_EXCEPTION->klass()->external_name(), ex_msg);\n+    } else {\n+      st->print_cr(\" exception pending %s \",\n@@ -130,0 +136,1 @@\n+    }\n","filename":"src\/hotspot\/share\/classfile\/verifier.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1213,1 +1213,9 @@\n-        log_info(redefine, class, load, exceptions)(\"link_class exception: '%s'\", ex_name->as_C_string());\n+        oop message = java_lang_Throwable::message(PENDING_EXCEPTION);\n+        if (message != NULL) {\n+          char* ex_msg = java_lang_String::as_utf8_string(message);\n+          log_info(redefine, class, load, exceptions)(\"link_class exception: '%s %s'\",\n+                   ex_name->as_C_string(), ex_msg);\n+        } else {\n+          log_info(redefine, class, load, exceptions)(\"link_class exception: '%s'\",\n+                   ex_name->as_C_string());\n+        }\n@@ -1217,0 +1225,2 @@\n+        } else if (ex_name == vmSymbols::java_lang_NoClassDefFoundError()) {\n+          return JVMTI_ERROR_INVALID_CLASS;\n","filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}