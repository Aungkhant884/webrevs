{"files":[{"patch":"@@ -253,0 +253,1 @@\n+        \/\/ Check if it is a supported named group.\n@@ -255,0 +256,10 @@\n+\n+        \/\/ HACK CODE\n+        \/\/\n+        \/\/ An EC provider, for example the SunEC provider, may support\n+        \/\/ AlgorithmParameters but not KeyPairGenerator or KeyAgreement.\n+        if (mediator && (namedGroupSpec == NamedGroupSpec.NAMED_GROUP_ECDHE)) {\n+            mediator = JsseJce.isEcAvailable();\n+        }\n+\n+        \/\/ Check the specific algorithm parameters.\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/NamedGroup.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -275,11 +275,22 @@\n-        if (signAlgParams != null) {\n-            mediator = signAlgParams.isAvailable;\n-        } else {\n-            try {\n-                Signature.getInstance(algorithm);\n-            } catch (Exception e) {\n-                mediator = false;\n-                if (SSLLogger.isOn && SSLLogger.isOn(\"ssl,handshake\")) {\n-                    SSLLogger.warning(\n-                        \"Signature algorithm, \" + algorithm +\n-                        \", is not supported by the underlying providers\");\n+        \/\/ HACK CODE\n+        \/\/\n+        \/\/ An EC provider, for example the SunEC provider, may support\n+        \/\/ AlgorithmParameters but not KeyPairGenerator or Signature.\n+        if (\"EC\".equals(keyAlgorithm)) {\n+            mediator = JsseJce.isEcAvailable();\n+        }\n+\n+        \/\/ Check the specific algorithm and parameters.\n+        if (mediator) {\n+            if (signAlgParams != null) {\n+                mediator = signAlgParams.isAvailable;\n+            } else {\n+                try {\n+                    Signature.getInstance(algorithm);\n+                } catch (Exception e) {\n+                    mediator = false;\n+                    if (SSLLogger.isOn && SSLLogger.isOn(\"ssl,handshake\")) {\n+                        SSLLogger.warning(\n+                            \"Signature algorithm, \" + algorithm +\n+                            \", is not supported by the underlying providers\");\n+                    }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SignatureScheme.java","additions":22,"deletions":11,"binary":false,"changes":33,"status":"modified"}]}