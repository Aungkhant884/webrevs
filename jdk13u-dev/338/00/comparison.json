{"files":[{"patch":"@@ -30,1 +30,1 @@\n-\tfile_extensions=.saveme,.dump,.hqx,.arc,.o,.a,.bin,.exe,.z,.gz\n+\tfile_extensions=.saveme,.dump,.hqx,.arc,.o,.a,.bin,.exe,.z\n@@ -256,0 +256,8 @@\n+image\/webp: \\\n+\tdescription=WEBP image;\\\n+\tfile_extensions=.webp;\n+\n+text\/css: \\\n+    description=CSS File;\\\n+    file_extensions=.css;\n+\n@@ -261,0 +269,4 @@\n+text\/javascript: \\\n+    description=JavaScript File;\\\n+    file_extensions=.js;\n+\n@@ -263,1 +275,1 @@\n-\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el;\\\n+\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el,.php,.adoc,.py;\\\n@@ -275,0 +287,8 @@\n+text\/csv: \\\n+\tdescription=CSV File;\\\n+\tfile_extensions=.csv;\n+\n+text\/markdown: \\\n+    description=Markdown File;\\\n+    file_extensions=.md,.markdown\n+\n@@ -314,0 +334,64 @@\n+\n+application\/rtf: \\\n+\tdescription=WordPad Document;\\\n+\tfile_extensions=.rtf;\n+\n+application\/gzip: \\\n+\tdescription=GZip File;\\\n+\tfile_extensions=.gz;\n+\n+application\/vnd.oasis.opendocument.presentation: \\\n+\tdescription=OpenDocument presentation document;\\\n+\tfile_extensions=.odp;\n+\n+application\/vnd.oasis.opendocument.spreadsheet: \\\n+\tdescription=OpenDocument spreadsheet document;\\\n+\tfile_extensions=.ods;\n+\n+application\/vnd.oasis.opendocument.text: \\\n+\tdescription=OpenDocument text document;\\\n+\tfile_extensions=.odt;\n+\n+application\/vnd.ms-excel: \\\n+    description=Microsoft Excel File;\\\n+\tfile_extensions=.xls;\n+\n+application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet: \\\n+\tdescription=XLSX File;\\\n+\tfile_extensions=.xlsx;\n+\n+application\/vnd.openxmlformats-officedocument.presentationml.presentation: \\\n+\tdescription=PPTX File;\\\n+\tfile_extensions=.pptx;\n+\n+application\/vnd.ms-powerpoint: \\\n+\tdescription=Microsoft PowerPoint File;\\\n+\tfile_extensions=.ppt;\n+\n+application\/x-7z-compressed: \\\n+\tdescription=7-Zip File;\\\n+\tfile_extensions=.7z;\n+\n+application\/msword: \\\n+\tdescription=Microsoft Word File;\\\n+\tfile_extensions=.doc;\n+\n+application\/vnd.openxmlformats-officedocument.wordprocessingml.document: \\\n+\tdescription=DOCX File;\\\n+\tfile_extensions=.docx;\n+\n+application\/vnd.rar: \\\n+\tdescription=RAR File;\\\n+\tfile_extensions=.rar;\n+\n+application\/json: \\\n+\tdescription=JSON File;\\\n+\tfile_extensions=.json;\n+\n+application\/bz2: \\\n+\tdescription=BZ2 File;\\\n+\tfile_extensions=.bz2;\n+\n+application\/java-archive: \\\n+\tdescription=JAR File;\\\n+\tfile_extensions=.jar;\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/www\/content-types.properties","additions":86,"deletions":2,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-\tfile_extensions=.saveme,.dump,.hqx,.arc,.obj,.lib,.bin,.exe,.zip,.gz\n+\tfile_extensions=.saveme,.dump,.hqx,.arc,.obj,.lib,.bin,.exe\n@@ -46,1 +46,1 @@\n-\tdescription=Wordpad Document;\\\n+\tdescription=WordPad Document;\\\n@@ -51,0 +51,4 @@\n+application\/gzip: \\\n+\tdescription=GZip File;\\\n+\tfile_extensions=.gz;\n+\n@@ -253,0 +257,8 @@\n+image\/webp: \\\n+\tdescription=WEBP image;\\\n+\tfile_extensions=.webp;\n+\n+text\/css: \\\n+    description=CSS File;\\\n+    file_extensions=.css;\n+\n@@ -258,0 +270,4 @@\n+text\/javascript: \\\n+    description=JavaScript File;\\\n+    file_extensions=.js;\n+\n@@ -260,1 +276,1 @@\n-\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el;\\\n+\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el,.php,.adoc,.py;\\\n@@ -272,0 +288,8 @@\n+text\/csv: \\\n+\tdescription=CSV File;\\\n+\tfile_extensions=.csv;\n+\n+text\/markdown: \\\n+    description=Markdown File;\\\n+    file_extensions=.md,.markdown\n+\n@@ -311,0 +335,56 @@\n+\n+application\/vnd.oasis.opendocument.presentation: \\\n+\tdescription=OpenDocument presentation document;\\\n+\tfile_extensions=.odp;\n+\n+application\/vnd.oasis.opendocument.spreadsheet: \\\n+\tdescription=OpenDocument spreadsheet document;\\\n+\tfile_extensions=.ods;\n+\n+application\/vnd.oasis.opendocument.text: \\\n+\tdescription=OpenDocument text document;\\\n+\tfile_extensions=.odt;\n+\n+application\/vnd.ms-excel: \\\n+\tdescription=Microsoft Excel File;\\\n+\tfile_extensions=.xls;\n+\n+application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet: \\\n+\tdescription=XLSX File;\\\n+\tfile_extensions=.xlsx;\n+\n+application\/vnd.openxmlformats-officedocument.presentationml.presentation: \\\n+\tdescription=PPTX File;\\\n+\tfile_extensions=.pptx;\n+\n+application\/vnd.ms-powerpoint: \\\n+\tdescription=Microsoft PowerPoint File;\\\n+\tfile_extensions=.ppt;\n+\n+application\/x-7z-compressed: \\\n+\tdescription=7-Zip File;\\\n+\tfile_extensions=.7z;\n+\n+application\/msword: \\\n+\tdescription=Microsoft Word File;\\\n+\tfile_extensions=.doc;\n+\n+application\/vnd.openxmlformats-officedocument.wordprocessingml.document: \\\n+\tdescription=DOCX File;\\\n+\tfile_extensions=.docx;\n+\n+application\/vnd.rar: \\\n+\tdescription=RAR File;\\\n+\tfile_extensions=.rar;\n+\n+application\/json: \\\n+\tdescription=JSON File;\\\n+\tfile_extensions=.json;\n+\n+application\/bz2: \\\n+\tdescription=BZ2 File;\\\n+\tfile_extensions=.bz2;\n+\n+application\/java-archive: \\\n+\tdescription=JAR File;\\\n+    file_extensions=.jar;\n","filename":"src\/java.base\/windows\/classes\/sun\/net\/www\/content-types.properties","additions":83,"deletions":3,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n- * @bug 4313887 8129632 8129633 8162624 8146215 8162745\n+ * @bug 4313887 8129632 8129633 8162624 8146215 8162745 8273655\n@@ -34,0 +34,1 @@\n+import java.util.List;\n@@ -98,1 +99,1 @@\n-    static int checkContentTypes(String[] extensions, String[] expectedTypes)\n+    static int checkContentTypes(ExType[] exTypes)\n@@ -100,5 +101,0 @@\n-        if (extensions.length != expectedTypes.length) {\n-            System.err.println(\"Parameter array lengths differ\");\n-            return 1;\n-        }\n-\n@@ -106,2 +102,3 @@\n-        for (int i = 0; i < extensions.length; i++) {\n-            String extension = extensions[i];\n+        for (int i = 0; i < exTypes.length; i++) {\n+            String extension = exTypes[i].extension();\n+            List<String> expectedTypes = exTypes[i].expectedTypes();\n@@ -115,1 +112,1 @@\n-                } else if (!type.equals(expectedTypes[i])) {\n+                } else if (!expectedTypes.contains(type)) {\n@@ -117,1 +114,1 @@\n-                        type, expectedTypes[i]);\n+                        type, expectedTypes);\n@@ -158,8 +155,33 @@\n-        \/\/ Verify that certain media extensions are mapped to the correct type.\n-        String[] extensions = new String[]{\n-            \"jpg\",\n-            \"mp3\",\n-            \"mp4\",\n-            \"pdf\",\n-            \"png\",\n-            \"webm\"\n+        \/\/ Verify that certain extensions are mapped to the correct type.\n+        var exTypes = new ExType[] {\n+                new ExType(\"adoc\", List.of(\"text\/plain\")),\n+                new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\")),\n+                new ExType(\"css\", List.of(\"text\/css\")),\n+                new ExType(\"csv\", List.of(\"text\/csv\")),\n+                new ExType(\"doc\", List.of(\"application\/msword\")),\n+                new ExType(\"docx\", List.of(\"application\/vnd.openxmlformats-officedocument.wordprocessingml.document\")),\n+                new ExType(\"gz\", List.of(\"application\/gzip\", \"application\/x-gzip\")),\n+                new ExType(\"jar\", List.of(\"application\/java-archive\", \"application\/x-java-archive\")),\n+                new ExType(\"jpg\", List.of(\"image\/jpeg\")),\n+                new ExType(\"js\", List.of(\"text\/javascript\", \"application\/javascript\")),\n+                new ExType(\"json\", List.of(\"application\/json\")),\n+                new ExType(\"markdown\", List.of(\"text\/markdown\")),\n+                new ExType(\"md\", List.of(\"text\/markdown\")),\n+                new ExType(\"mp3\", List.of(\"audio\/mpeg\")),\n+                new ExType(\"mp4\", List.of(\"video\/mp4\")),\n+                new ExType(\"odp\", List.of(\"application\/vnd.oasis.opendocument.presentation\")),\n+                new ExType(\"ods\", List.of(\"application\/vnd.oasis.opendocument.spreadsheet\")),\n+                new ExType(\"odt\", List.of(\"application\/vnd.oasis.opendocument.text\")),\n+                new ExType(\"pdf\", List.of(\"application\/pdf\")),\n+                new ExType(\"php\", List.of(\"text\/plain\", \"text\/php\")),\n+                new ExType(\"png\", List.of(\"image\/png\")),\n+                new ExType(\"ppt\", List.of(\"application\/vnd.ms-powerpoint\")),\n+                new ExType(\"pptx\",List.of(\"application\/vnd.openxmlformats-officedocument.presentationml.presentation\")),\n+                new ExType(\"py\", List.of(\"text\/plain\", \"text\/x-python-script\")),\n+                new ExType(\"rar\", List.of(\"application\/vnd.rar\")),\n+                new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\")),\n+                new ExType(\"webm\", List.of(\"video\/webm\")),\n+                new ExType(\"webp\", List.of(\"image\/webp\")),\n+                new ExType(\"xls\", List.of(\"application\/vnd.ms-excel\")),\n+                new ExType(\"xlsx\", List.of(\"application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet\")),\n+                new ExType(\"7z\", List.of(\"application\/x-7z-compressed\")),\n@@ -167,9 +189,1 @@\n-        String[] expectedTypes = new String[] {\n-            \"image\/jpeg\",\n-            \"audio\/mpeg\",\n-            \"video\/mp4\",\n-            \"application\/pdf\",\n-            \"image\/png\",\n-            \"video\/webm\"\n-        };\n-        failures += checkContentTypes(extensions, expectedTypes);\n+        failures += checkContentTypes(exTypes);\n@@ -181,0 +195,2 @@\n+\n+    record ExType(String extension, List<String> expectedTypes) { }\n","filename":"test\/jdk\/java\/nio\/file\/Files\/probeContentType\/Basic.java","additions":45,"deletions":29,"binary":false,"changes":74,"status":"modified"}]}