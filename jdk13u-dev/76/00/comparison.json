{"files":[{"patch":"@@ -399,0 +399,13 @@\n+static HRESULT WaitForEvent(IDebugControl *ptrIDebugControl) {\n+  HRESULT hr = ptrIDebugControl->WaitForEvent(DEBUG_WAIT_DEFAULT, INFINITE);\n+  \/\/ see JDK-8204994: sometimes WaitForEvent fails with E_ACCESSDENIED,\n+  \/\/ but succeeds on 2nd call.\n+  \/\/ To minimize possible noise retry 3 times.\n+  for (int i = 0; hr == E_ACCESSDENIED && i < 3; i++) {\n+    \/\/ yield current thread use of a processor (short delay).\n+    SwitchToThread();\n+    hr = ptrIDebugControl->WaitForEvent(DEBUG_WAIT_DEFAULT, INFINITE);\n+  }\n+  return hr;\n+}\n+\n@@ -414,1 +427,1 @@\n-  COM_VERIFY_OK_(ptrIDebugControl->WaitForEvent(DEBUG_WAIT_DEFAULT, INFINITE),\n+  COM_VERIFY_OK_(WaitForEvent(ptrIDebugControl),\n@@ -451,1 +464,1 @@\n-  COM_VERIFY_OK_(ptrIDebugControl->WaitForEvent(DEBUG_WAIT_DEFAULT, INFINITE),\n+  COM_VERIFY_OK_(WaitForEvent(ptrIDebugControl),\n","filename":"src\/jdk.hotspot.agent\/windows\/native\/libsaproc\/sawindbg.cpp","additions":15,"deletions":2,"binary":false,"changes":17,"status":"modified"}]}