{"files":[{"patch":"@@ -73,0 +73,2 @@\n+    private volatile static boolean portInUse;\n+\n@@ -87,12 +89,3 @@\n-\n-        Throwable t = thread.getUncaught();\n-        if (t != null) {\n-            if (t.getMessage().contains(\n-                    \"java.rmi.server.ExportException: Port already in use\")) {\n-                System.out.println(\"Port already in use. Trying to restart with a new one...\");\n-                Thread.sleep(100);\n-                return null;\n-            } else {\n-                \/\/ Something unexpected has happened\n-                throw new Throwable(t);\n-            }\n+        if (portInUse) {\n+            System.out.println(\"Port already in use. Trying to restart with a new one...\");\n+            return null;\n@@ -100,1 +93,0 @@\n-\n@@ -277,0 +269,1 @@\n+        portInUse = false;\n@@ -299,0 +292,4 @@\n+        if (line.contains(\"Port already in use\")) {\n+            portInUse = true;\n+            return true;\n+        }\n","filename":"test\/jdk\/sun\/tools\/jstatd\/JstatdTest.java","additions":10,"deletions":13,"binary":false,"changes":23,"status":"modified"}]}