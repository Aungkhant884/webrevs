{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -175,1 +175,1 @@\n-                case 0:         \/\/ Class0ForCheck - 0 interfaces\n+                case 0:         \/\/ Class0ForCheck - 1 injected interface (java.lang.IdentityObject)\n@@ -184,2 +184,2 @@\n-                        if (iface0list.size() != 0) {\n-                            log3(\"ERROR : iface0list.size() != 0 in case: Class0ForCheck\");\n+                        if (iface0list.size() != 1) {\n+                            log3(\"ERROR : iface0list.size() != 1 in case: Class0ForCheck\");\n@@ -192,1 +192,1 @@\n-                case 1:         \/\/ Class1forCheck - 1 direct and 1 indirect interfaces\n+                case 1:         \/\/ Class1forCheck - 1 direct, 1 indirect, and 1 injected (java.lang.IdentityObject) interfaces\n@@ -201,2 +201,2 @@\n-                        if (iface1list.size() != 2) {\n-                            log3(\"ERROR : iface1list.size() != 2 in case: Class1forCheck   :\"  + iface1list.size());\n+                        if (iface1list.size() != 3) {\n+                            log3(\"ERROR : iface1list.size() != 3 in case: Class1forCheck   :\"  + iface1list.size());\n@@ -211,1 +211,1 @@\n-                                log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2') in Class1forCheck\");\n+                                log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2') in Class1forCheck, name: \" + name);\n@@ -220,3 +220,5 @@\n-                                log3(\"ERROR :name2: !name.equals('.Iface1' or '.Iface2') in Class1forCheck\");\n-                                expresult = 1;\n-                                break;\n+                                if (!name.equals(\"java.lang.IdentityObject\")) {\n+                                    log3(\"ERROR :name2: !name.equals('.Iface1' or '.Iface2 or 'java.lang.IdentityObject') in Class1forCheck, name: \" + name);\n+                                    expresult = 1;\n+                                    break;\n+                                }\n@@ -227,1 +229,1 @@\n-                case 2:         \/\/ Class2ForCheck - 1 direct and 2 indirect interfaces\n+                case 2:         \/\/ Class2ForCheck - 1 direct, 2 indirect, and 1 injected (java.lang.IdentityObject) interfaces\n@@ -236,2 +238,2 @@\n-                        if (iface2list.size() != 3) {\n-                            log3(\"ERROR : iface2list.size() != 3 in case: Class2forCheck\");\n+                        if (iface2list.size() != 4) {\n+                            log3(\"ERROR : iface2list.size() != 4 in case: Class2forCheck\");\n@@ -247,1 +249,1 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class2forCheck\");\n+                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2' or 'Iface3) in Class2forCheck, name: \" + name);\n@@ -258,3 +260,5 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class2forCheck\");\n-                                    expresult = 1;\n-                                    break;\n+                                    if (!name.equals(\"java.lang.IdentityObject\")) {\n+                                        log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2' or 'Iface3' or 'java.lang.IdentityObject') in Class2forCheck, name: \" + name);\n+                                        expresult = 1;\n+                                        break;\n+                                    }\n@@ -269,1 +273,1 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class2forCheck\");\n+                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class2forCheck, name: \" + name);\n@@ -277,1 +281,1 @@\n-                case 3:         \/\/ Class3ForCheck - 1 direct and 2 indirect interfaces\n+                case 3:         \/\/ Class3ForCheck - 1 direct, 2 indirect, and 1 injected (java.lang.IdentityObject) interfaces\n@@ -286,2 +290,2 @@\n-                        if (iface3list.size() != 3) {\n-                            log3(\"ERROR : iface3list.size() != 3 in case: Class3forCheck\");\n+                        if (iface3list.size() != 4) {\n+                            log3(\"ERROR : iface3list.size() != 4 in case: Class3forCheck\");\n@@ -297,1 +301,1 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class3forCheck\");\n+                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2' or 'Iface3) in Class3forCheck, name: \" + name);\n@@ -308,3 +312,5 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class3forCheck\");\n-                                    expresult = 1;\n-                                    break;\n+                                    if (!name.equals(\"java.lang.IdentityObject\")) {\n+                                        log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3' or 'java.lang.IdentityObject') in Class3forCheck, name: \" + name);\n+                                        expresult = 1;\n+                                        break;\n+                                    }\n@@ -319,1 +325,1 @@\n-                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface3' or 'Iface3) in Class3forCheck\");\n+                                    log3(\"ERROR : name1: !name.equals('.Iface1' or '.Iface2' or 'Iface3) in Class3forCheck, name: \" + name);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/allInterfaces\/allinterfaces001.java","additions":33,"deletions":27,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -170,1 +170,1 @@\n-                case 0:         \/\/ Class0ForCheck - 0 interfaces\n+                case 0:         \/\/ Class0ForCheck - 1 interface (injected java.lang.IdentityObject)\n@@ -179,2 +179,2 @@\n-                        if (iface0list.size() != 0) {\n-                            log3(\"ERROR : iface0list.size() != 0 in case: Class0ForCheck\");\n+                        if (iface0list.size() != 1) {\n+                            log3(\"ERROR : iface0list.size() != 1 in case: Class0ForCheck\");\n@@ -187,1 +187,1 @@\n-                case 1:         \/\/ Class1forCheck - 1 interface\n+                case 1:         \/\/ Class1forCheck - 2 interfaces (includes injected java.lang.IdentityObject)\n@@ -196,2 +196,2 @@\n-                        if (iface1list.size() != 1) {\n-                            log3(\"ERROR : iface1list.size() != 1 in case: Class1forCheck\");\n+                        if (iface1list.size() != 2) {\n+                            log3(\"ERROR : iface1list.size() != 2 in case: Class1forCheck\");\n@@ -212,1 +212,1 @@\n-                case 2:         \/\/ Class2ForCheck - 2 interfaces\n+                case 2:         \/\/ Class2ForCheck - 3 interfaces (includes injected java.lang.IdentityObject)\n@@ -221,2 +221,2 @@\n-                        if (iface2list.size() != 2) {\n-                            log3(\"ERROR : iface1list.size() != 2 in case: Class2forCheck\");\n+                        if (iface2list.size() != 3) {\n+                            log3(\"ERROR : iface1list.size() != 3 in case: Class2forCheck\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ClassType\/interfaces\/interfaces001.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -181,2 +181,2 @@\n-                        if (iface0list.size() != 1) {\n-                            log3(\"ERROR : iface0list.size() != 1  in case: Iface1\");\n+                        if (iface0list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface0list.size() != 2  in case: Iface1\");\n@@ -225,2 +225,2 @@\n-                        if (iface1list.size() != 1) {\n-                            log3(\"ERROR : iface1list.size() != 1  in case: Iface2\");\n+                        if (iface1list.size() != 2) {\n+                            log3(\"ERROR : iface1list.size() != 2  in case: Iface2\");\n@@ -258,2 +258,2 @@\n-                        if (iface3list.size() != 1) {\n-                            log3(\"ERROR : iface3list.size() != 1  in case: Iface3\");\n+                        if (iface3list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface3list.size() != 2  in case: Iface3\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/InterfaceType\/implementors\/implementors001.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -180,2 +180,2 @@\n-                        if (iface0list.size() != 1) {\n-                            log3(\"ERROR : iface0list.size() != 1  in case: Iface3\");\n+                        if (iface0list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface0list.size() != 2  in case: Iface3\");\n@@ -204,2 +204,2 @@\n-                        if (iface1list.size() != 1) {\n-                            log3(\"ERROR : iface1list.size() != 1  in case: Iface2\");\n+                        if (iface1list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface1list.size() != 2  in case: Iface2\");\n@@ -237,2 +237,2 @@\n-                        if (iface3list.size() != 1) {\n-                            log3(\"ERROR : iface3list.size() != 1  in case: Iface1\");\n+                        if (iface3list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface3list.size() != 2  in case: Iface1\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/InterfaceType\/subinterfaces\/subinterfaces001.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -183,2 +183,2 @@\n-                        if (iface0list.size() != 1) {\n-                            log3(\"ERROR : iface0list.size() != 1  in case: Iface1\");\n+                        if (iface0list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface0list.size() != 2  in case: Iface1\");\n@@ -207,2 +207,2 @@\n-                        if (iface1list.size() != 1) {\n-                            log3(\"ERROR : iface1list.size() != 1  in case: Iface2\");\n+                        if (iface1list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface1list.size() != 2  in case: Iface2\");\n@@ -240,2 +240,2 @@\n-                        if (iface3list.size() != 1) {\n-                            log3(\"ERROR : iface3list.size() != 1  in case: Iface3\");\n+                        if (iface3list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface3list.size() != 2  in case: Iface3\");\n@@ -265,2 +265,2 @@\n-                        if (iface4list.size() != 1) {\n-                            log3(\"ERROR : iface4list.size() != 1  in case: Iface4\");\n+                        if (iface4list.size() != 2) { \/\/ includes injected java.lang.IdentityObject\n+                            log3(\"ERROR : iface4list.size() != 2  in case: Iface4\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/InterfaceType\/superinterfaces\/superinterfaces001.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -49,1 +49,2 @@\n-                    { DEBUGEE_CLASS_NAME + \"$\" + \"TestedClassInterface2\", \"\" }\n+                    { DEBUGEE_CLASS_NAME + \"$\" + \"TestedClassInterface2\", \"\" },\n+                    { \"java.lang.IdentityObject\", \"\"}\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdwp\/ReferenceType\/Interfaces\/interfaces001.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-    { \"Lnsk\/jvmti\/ClassPrepare\/classprep001$TestClass;\", EXP_STATUS, 3, 2, 1 }\n+    { \"Lnsk\/jvmti\/ClassPrepare\/classprep001$TestClass;\", EXP_STATUS, 3, 2, 2 }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassPrepare\/classprep001\/classprep001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -70,0 +70,4 @@\n+static iface_info jlio[] = {\n+    { \"Ljava\/lang\/IdentityObject;\" }\n+};\n+\n@@ -71,1 +75,1 @@\n-    { \"InnerClass1\", 0, NULL },\n+    { \"InnerClass1\", 1, jlio },\n@@ -74,2 +78,2 @@\n-    { \"InnerClass2\", 1, i3 },\n-    { \"OuterClass1\", 0, NULL },\n+    { \"InnerClass2\", 2, i3 },\n+    { \"OuterClass1\", 1, jlio },\n@@ -78,1 +82,1 @@\n-    { \"OuterClass3\", 1, i7 },\n+    { \"OuterClass3\", 2, i7 },\n@@ -158,3 +162,5 @@\n-                    printf(\"(%d:%d) wrong interface: \\\"%s\\\"\", i, j, sig);\n-                    printf(\", expected: \\\"%s\\\"\\n\", classes[i].ifaces[j].sig);\n-                    result = STATUS_FAILED;\n+                    if (strcmp(sig, \"Ljava\/lang\/IdentityObject;\") != 0) {\n+                        printf(\"(%d:%d) wrong interface: \\\"%s\\\"\", i, j, sig);\n+                        printf(\", expected: \\\"%s\\\"\\n\", classes[i].ifaces[j].sig);\n+                        result = STATUS_FAILED;\n+                    }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetImplementedInterfaces\/getintrf007\/getintrf007.cpp","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"}]}