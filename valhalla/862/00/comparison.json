{"files":[{"patch":"@@ -330,3 +330,3 @@\n-  if (EnableValhalla && x->maybe_inlinetype()) {\n-    scratch = new_register(T_INT);\n-    assert(LockingMode != LM_LIGHTWEIGHT, \"LM_LIGHTWEIGHT not yet compatible with EnableValhalla\");\n+  if ((LockingMode == LM_LIGHTWEIGHT) ||\n+      (EnableValhalla && x->maybe_inlinetype())) {\n+    scratch = new_register(T_ADDRESS);\n","filename":"src\/hotspot\/cpu\/x86\/c1_LIRGenerator_x86.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -67,1 +67,0 @@\n-    assert(!EnableValhalla, \"LM_LIGHTWEIGHT not yet compatible with EnableValhalla\");\n","filename":"src\/hotspot\/cpu\/x86\/c1_MacroAssembler_x86.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}