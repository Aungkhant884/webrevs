{"files":[{"patch":"@@ -1823,1 +1823,1 @@\n-  const int offset = !needs_patching ? field->offset() : -1;\n+  int offset = !needs_patching ? field->offset() : -1;\n@@ -1910,1 +1910,0 @@\n-          LoadField* load;\n@@ -1913,3 +1912,3 @@\n-            load = new LoadField(pending_field_access()->obj(),\n-                                 pending_field_access()->offset() + offset - field->holder()->as_inline_klass()->first_field_offset(),\n-                                 field, false, state_before, needs_patching);\n+            obj = pending_field_access()->obj();\n+            offset += pending_field_access()->offset() - field->holder()->as_inline_klass()->first_field_offset();\n+            field = pending_field_access()->field()->holder()->get_field_by_offset(offset, false);\n@@ -1925,2 +1924,0 @@\n-          } else {\n-            load = new LoadField(obj, offset, field, false, state_before, needs_patching);\n@@ -1928,0 +1925,1 @@\n+          LoadField* load = new LoadField(obj, offset, field, false, state_before, needs_patching);\n","filename":"src\/hotspot\/share\/c1\/c1_GraphBuilder.cpp","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8260034 8260225\n+ * @bug 8260034 8260225 8260283\n@@ -81,0 +81,11 @@\n+    long f3;\n+    MyValue1 f4 = new MyValue1();\n+\n+    void test6() {\n+        f3 = 123L;\n+        int res = f4.x;\n+        if (res != 42) {\n+            throw new RuntimeException(\"test6 failed\");\n+        }\n+    }\n+\n@@ -93,0 +104,1 @@\n+            t.test6();\n","filename":"test\/hotspot\/jtreg\/compiler\/valhalla\/inlinetypes\/TestGenerated.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"}]}