{"files":[{"patch":"@@ -5423,3 +5423,3 @@\n-      jint lh = vk->layout_helper();\n-      assert(lh != Klass::_lh_neutral_value, \"inline class in return type must have been resolved\");\n-      movl(r14, lh);\n+      jint obj_size = vk->layout_helper();\n+      assert(obj_size != Klass::_lh_neutral_value, \"inline class in return type must have been resolved\");\n+      tlab_allocate(r15_thread, r13, noreg, obj_size, r15_thread, r14, slow_case);\n@@ -5431,0 +5431,1 @@\n+      tlab_allocate(r15_thread, r13, r14, 0, r15_thread, r14, slow_case);\n@@ -5432,6 +5433,0 @@\n-\n-    movptr(r13, Address(r15_thread, in_bytes(JavaThread::tlab_top_offset())));\n-    lea(r14, Address(r13, r14, Address::times_1));\n-    cmpptr(r14, Address(r15_thread, in_bytes(JavaThread::tlab_end_offset())));\n-    jcc(Assembler::above, slow_case);\n-    movptr(Address(r15_thread, in_bytes(JavaThread::tlab_top_offset())), r14);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"}]}