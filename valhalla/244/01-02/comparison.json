{"files":[{"patch":"@@ -1418,1 +1418,1 @@\n-    if (EnableValhalla && !top_src->is_flat()) {\n+    if (!top_src->is_flat()) {\n@@ -1423,3 +1423,5 @@\n-      \/\/ No validation. The subtype check emitted at macro expansion time will not go to the slow\n-      \/\/ path but call checkcast_arraycopy which can not handle flat\/null-free inline type arrays.\n-      generate_null_free_array_guard(&ctrl, dest, slow_region);\n+      if (EnableValhalla) {\n+        \/\/ No validation. The subtype check emitted at macro expansion time will not go to the slow\n+        \/\/ path but call checkcast_arraycopy which can not handle flat\/null-free inline type arrays.\n+        generate_null_free_array_guard(&ctrl, dest, slow_region);\n+      }\n","filename":"src\/hotspot\/share\/opto\/macroArrayCopy.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}