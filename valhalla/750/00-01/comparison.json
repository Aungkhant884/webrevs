{"files":[{"patch":"@@ -67,1 +67,7 @@\n-  if (this_class->access_flags().is_primitive_class()) return false;\n+  \/\/ Need to do this check when called from CDS.\n+  if (this_class->access_flags().is_primitive_class()) {\n+    Klass* from_class = SystemDictionary::resolve_or_fail(\n+      from_name, Handle(THREAD, klass->class_loader()),\n+      Handle(THREAD, klass->protection_domain()), true, CHECK_false);\n+    return from_class == this_class;\n+  }\n","filename":"src\/hotspot\/share\/classfile\/verificationType.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}