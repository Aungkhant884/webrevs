{"files":[{"patch":"@@ -7524,1 +7524,1 @@\n-    \"mov  $dst, $con\\t# ptr\\n\\t\"\n+    \"mov  $dst, $con\\t# ptr\"\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,2 +114,2 @@\n-        protected static final String ALLOC_G  = \"(.*call,static  wrapper for: _new_instance_Java\" + END;\n-        protected static final String ALLOCA_G = \"(.*call,static  wrapper for: _new_array_Java\" + END;\n+        protected static final String ALLOC_G  = \"(.*call,static.*wrapper for: _new_instance_Java\" + END;\n+        protected static final String ALLOCA_G = \"(.*call,static.*wrapper for: _new_array_Java\" + END;\n@@ -117,2 +117,3 @@\n-        protected static final String ALLOC  = \"(.*precise klass compiler\/valhalla\/inlinetypes\/MyValue.*\\\\R(.*(movl|xorl|nop|spill).*\\\\R)*.*_new_instance_Java\" + END;\n-        protected static final String ALLOCA = \"(.*precise klass \\\\[(L|Q)compiler\/valhalla\/inlinetypes\/MyValue.*\\\\R(.*(movl|xorl|nop|spill).*\\\\R)*.*_new_array_Java\" + END;\n+        protected static final String MYVALUE_ARRAY_KLASS = \"precise klass \\\\[(L|Q)compiler\/valhalla\/inlinetypes\/MyValue\";\n+        protected static final String ALLOC  = \"(.*precise klass compiler\/valhalla\/inlinetypes\/MyValue.*\\\\R(.*(?i:mov|xorl|nop|spill).*\\\\R)*.*_new_instance_Java\" + END;\n+        protected static final String ALLOCA = \"(.*\" + MYVALUE_ARRAY_KLASS + \".*\\\\R(.*(?i:mov|xorl|nop|spill).*\\\\R)*.*_new_array_Java\" + END;\n@@ -129,0 +130,2 @@\n+        protected static final String CALL_LEAF = \"(CALL, runtime leaf|call_leaf,runtime)\";\n+        protected static final String CALL_LEAF_NOFP = \"(CALL, runtime leaf nofp|call_leaf_nofp,runtime)\";\n@@ -131,4 +134,4 @@\n-        protected static final String LOAD_UNKNOWN_INLINE = \"(.*call_leaf,runtime  load_unknown_inline.*\" + END;\n-        protected static final String STORE_UNKNOWN_INLINE = \"(.*call_leaf,runtime  store_unknown_inline.*\" + END;\n-        protected static final String INLINE_ARRAY_NULL_GUARD = \"(.*call,static  wrapper for: uncommon_trap.*reason='null_check' action='none'.*\" + END;\n-        protected static final String INTRINSIC_SLOW_PATH = \"(.*call,static  wrapper for: uncommon_trap.*reason='intrinsic_or_type_checked_inlining'.*\" + END;\n+        protected static final String LOAD_UNKNOWN_INLINE = \"(.*\" + CALL_LEAF + \".*load_unknown_inline.*\" + END;\n+        protected static final String STORE_UNKNOWN_INLINE = \"(.*\" + CALL_LEAF + \".*store_unknown_inline.*\" + END;\n+        protected static final String INLINE_ARRAY_NULL_GUARD = \"(.*call,static.*wrapper for: uncommon_trap.*reason='null_check' action='none'.*\" + END;\n+        protected static final String INTRINSIC_SLOW_PATH = \"(.*call,static.*wrapper for: uncommon_trap.*reason='intrinsic_or_type_checked_inlining'.*\" + END;\n@@ -143,3 +146,3 @@\n-        protected static final String CHECKCAST_ARRAY = \"(cmp.*precise klass \\\\[(L|Q)compiler\/valhalla\/inlinetypes\/MyValue.*\" + END;\n-        protected static final String CHECKCAST_ARRAYCOPY = \"(.*call_leaf_nofp,runtime  checkcast_arraycopy.*\" + END;\n-        protected static final String JLONG_ARRAYCOPY = \"(.*call_leaf_nofp,runtime  jlong_disjoint_arraycopy.*\" + END;\n+        protected static final String CHECKCAST_ARRAY = \"(((?i:cmp|CLFI|CLR).*\" + MYVALUE_ARRAY_KLASS + \".*;:|.*(?i:mov|or).*\" + MYVALUE_ARRAY_KLASS + \".*;:.*\\\\R.*(cmp|CMP|CLR))\" + END;\n+        protected static final String CHECKCAST_ARRAYCOPY = \"(.*\" + CALL_LEAF_NOFP + \".*checkcast_arraycopy.*\" + END;\n+        protected static final String JLONG_ARRAYCOPY = \"(.*\" + CALL_LEAF_NOFP + \".*jlong_disjoint_arraycopy.*\" + END;\n","filename":"test\/hotspot\/jtreg\/compiler\/valhalla\/inlinetypes\/InlineTypes.java","additions":14,"deletions":11,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * @requires os.simpleArch == \"x64\"\n+ * @requires (os.simpleArch == \"x64\" | os.simpleArch == \"aarch64\")\n","filename":"test\/hotspot\/jtreg\/compiler\/valhalla\/inlinetypes\/TestUnloadedInlineTypeField.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}