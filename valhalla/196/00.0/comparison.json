{"files":[{"patch":"@@ -1008,19 +1008,9 @@\n-  for (int peel = 1; peel >= 0; peel--) {\n-    ldr(method_result, Address(scan_temp, itableOffsetEntry::interface_offset_in_bytes()));\n-    cmp(intf_klass, method_result);\n-\n-    if (peel) {\n-      br(Assembler::EQ, found_method);\n-    } else {\n-      br(Assembler::NE, search);\n-      \/\/ (invert the test to fall through to found_method...)\n-    }\n-\n-    if (!peel)  break;\n-\n-    bind(search);\n-\n-    \/\/ Check that the previous entry is non-null.  A null entry means that\n-    \/\/ the receiver class doesn't implement the interface, and wasn't the\n-    \/\/ same as when the caller was compiled.\n-    cbz(method_result, L_no_such_interface);\n+  ldr(method_result, Address(scan_temp, itableOffsetEntry::interface_offset_in_bytes()));\n+  cmp(intf_klass, method_result);\n+  br(Assembler::EQ, found_method);\n+  bind(search);\n+  \/\/ Check that the previous entry is non-null.  A null entry means that\n+  \/\/ the receiver class doesn't implement the interface, and wasn't the\n+  \/\/ same as when the caller was compiled.\n+  cbz(method_result, L_no_such_interface);\n+  if (itableOffsetEntry::interface_offset_in_bytes() != 0) {\n@@ -1028,0 +1018,3 @@\n+    ldr(method_result, Address(scan_temp, itableOffsetEntry::interface_offset_in_bytes()));\n+  } else {\n+    ldr(method_result, Address(pre(scan_temp, scan_step)));\n@@ -1029,0 +1022,2 @@\n+  cmp(intf_klass, method_result);\n+  br(Assembler::NE, search);\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":14,"deletions":19,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -576,2 +576,0 @@\n-  assert(!HAS_PENDING_EXCEPTION, \"Should not have any exceptions pending\");\n-  assert(!HAS_PENDING_EXCEPTION, \"Event handler should not throw any exceptions\");\n@@ -1543,0 +1541,1 @@\n+      \/\/ Only metaspace OOM is expected. No Java code executed.\n","filename":"src\/hotspot\/share\/c1\/c1_Runtime1.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n","filename":"src\/hotspot\/share\/ci\/ciReplay.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -4888,0 +4888,21 @@\n+\/\/ java_lang_InternalError\n+int java_lang_InternalError::_during_unsafe_access_offset;\n+\n+void java_lang_InternalError::set_during_unsafe_access(oop internal_error) {\n+  internal_error->bool_field_put(_during_unsafe_access_offset, true);\n+}\n+\n+jboolean java_lang_InternalError::during_unsafe_access(oop internal_error) {\n+  return internal_error->bool_field(_during_unsafe_access_offset);\n+}\n+\n+void java_lang_InternalError::compute_offsets() {\n+  INTERNALERROR_INJECTED_FIELDS(INJECTED_FIELD_COMPUTE_OFFSET);\n+}\n+\n+#if INCLUDE_CDS\n+void java_lang_InternalError::serialize_offsets(SerializeClosure* f) {\n+  INTERNALERROR_INJECTED_FIELDS(INJECTED_FIELD_SERIALIZE_OFFSET);\n+}\n+#endif\n+\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+  f(java_lang_InternalError) \\\n@@ -1656,0 +1657,15 @@\n+\/\/ Interface to java.lang.InternalError objects\n+\n+#define INTERNALERROR_INJECTED_FIELDS(macro)                      \\\n+  macro(java_lang_InternalError, during_unsafe_access, bool_signature, false)\n+\n+class java_lang_InternalError : AllStatic {\n+ private:\n+  static int _during_unsafe_access_offset;\n+ public:\n+  static jboolean during_unsafe_access(oop internal_error);\n+  static void set_during_unsafe_access(oop internal_error);\n+  static void compute_offsets();\n+  static void serialize_offsets(SerializeClosure* f) NOT_CDS_RETURN;\n+};\n+\n@@ -1680,0 +1696,1 @@\n+\n@@ -1719,1 +1736,3 @@\n-  MODULE_INJECTED_FIELDS(macro)\n+  MODULE_INJECTED_FIELDS(macro)             \\\n+  INTERNALERROR_INJECTED_FIELDS(macro)\n+\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.hpp","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -131,0 +131,1 @@\n+  do_klass(InternalError_klass,                         java_lang_InternalError                               ) \\\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,857 @@\n+\/*\n+ * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#include \"precompiled.hpp\"\n+#include \"classfile\/vmIntrinsics.hpp\"\n+#include \"classfile\/vmSymbols.hpp\"\n+#include \"compiler\/compilerDirectives.hpp\"\n+#include \"utilities\/xmlstream.hpp\"\n+\n+\/\/ These are flag-matching functions:\n+inline bool match_F_R(jshort flags) {\n+  const int req = 0;\n+  const int neg = JVM_ACC_STATIC | JVM_ACC_SYNCHRONIZED;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+inline bool match_F_Y(jshort flags) {\n+  const int req = JVM_ACC_SYNCHRONIZED;\n+  const int neg = JVM_ACC_STATIC;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+inline bool match_F_RN(jshort flags) {\n+  const int req = JVM_ACC_NATIVE;\n+  const int neg = JVM_ACC_STATIC | JVM_ACC_SYNCHRONIZED;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+inline bool match_F_S(jshort flags) {\n+  const int req = JVM_ACC_STATIC;\n+  const int neg = JVM_ACC_SYNCHRONIZED;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+inline bool match_F_SN(jshort flags) {\n+  const int req = JVM_ACC_STATIC | JVM_ACC_NATIVE;\n+  const int neg = JVM_ACC_SYNCHRONIZED;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+inline bool match_F_RNY(jshort flags) {\n+  const int req = JVM_ACC_NATIVE | JVM_ACC_SYNCHRONIZED;\n+  const int neg = JVM_ACC_STATIC;\n+  return (flags & (req | neg)) == req;\n+}\n+\n+static vmIntrinsics::ID wrapper_intrinsic(BasicType type, bool unboxing) {\n+#define TYPE2(type, unboxing) ((int)(type)*2 + ((unboxing) ? 1 : 0))\n+  switch (TYPE2(type, unboxing)) {\n+#define BASIC_TYPE_CASE(type, box, unbox) \\\n+    case TYPE2(type, false):  return vmIntrinsics::box; \\\n+    case TYPE2(type, true):   return vmIntrinsics::unbox\n+    BASIC_TYPE_CASE(T_BOOLEAN, _Boolean_valueOf,   _booleanValue);\n+    BASIC_TYPE_CASE(T_BYTE,    _Byte_valueOf,      _byteValue);\n+    BASIC_TYPE_CASE(T_CHAR,    _Character_valueOf, _charValue);\n+    BASIC_TYPE_CASE(T_SHORT,   _Short_valueOf,     _shortValue);\n+    BASIC_TYPE_CASE(T_INT,     _Integer_valueOf,   _intValue);\n+    BASIC_TYPE_CASE(T_LONG,    _Long_valueOf,      _longValue);\n+    BASIC_TYPE_CASE(T_FLOAT,   _Float_valueOf,     _floatValue);\n+    BASIC_TYPE_CASE(T_DOUBLE,  _Double_valueOf,    _doubleValue);\n+#undef BASIC_TYPE_CASE\n+  }\n+#undef TYPE2\n+  return vmIntrinsics::_none;\n+}\n+\n+vmIntrinsics::ID vmIntrinsics::for_boxing(BasicType type) {\n+  return wrapper_intrinsic(type, false);\n+}\n+vmIntrinsics::ID vmIntrinsics::for_unboxing(BasicType type) {\n+  return wrapper_intrinsic(type, true);\n+}\n+\n+vmIntrinsics::ID vmIntrinsics::for_raw_conversion(BasicType src, BasicType dest) {\n+#define SRC_DEST(s,d) (((int)(s) << 4) + (int)(d))\n+  switch (SRC_DEST(src, dest)) {\n+  case SRC_DEST(T_INT, T_FLOAT):   return vmIntrinsics::_intBitsToFloat;\n+  case SRC_DEST(T_FLOAT, T_INT):   return vmIntrinsics::_floatToRawIntBits;\n+\n+  case SRC_DEST(T_LONG, T_DOUBLE): return vmIntrinsics::_longBitsToDouble;\n+  case SRC_DEST(T_DOUBLE, T_LONG): return vmIntrinsics::_doubleToRawLongBits;\n+  }\n+#undef SRC_DEST\n+\n+  return vmIntrinsics::_none;\n+}\n+\n+bool vmIntrinsics::preserves_state(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+  switch(id) {\n+#ifdef JFR_HAVE_INTRINSICS\n+  case vmIntrinsics::_counterTime:\n+#endif\n+  case vmIntrinsics::_currentTimeMillis:\n+  case vmIntrinsics::_nanoTime:\n+  case vmIntrinsics::_floatToRawIntBits:\n+  case vmIntrinsics::_intBitsToFloat:\n+  case vmIntrinsics::_doubleToRawLongBits:\n+  case vmIntrinsics::_longBitsToDouble:\n+  case vmIntrinsics::_getClass:\n+  case vmIntrinsics::_isInstance:\n+  case vmIntrinsics::_currentThread:\n+  case vmIntrinsics::_dabs:\n+  case vmIntrinsics::_fabs:\n+  case vmIntrinsics::_iabs:\n+  case vmIntrinsics::_labs:\n+  case vmIntrinsics::_dsqrt:\n+  case vmIntrinsics::_dsin:\n+  case vmIntrinsics::_dcos:\n+  case vmIntrinsics::_dtan:\n+  case vmIntrinsics::_dlog:\n+  case vmIntrinsics::_dlog10:\n+  case vmIntrinsics::_dexp:\n+  case vmIntrinsics::_dpow:\n+  case vmIntrinsics::_checkIndex:\n+  case vmIntrinsics::_Reference_get:\n+  case vmIntrinsics::_updateCRC32:\n+  case vmIntrinsics::_updateBytesCRC32:\n+  case vmIntrinsics::_updateByteBufferCRC32:\n+  case vmIntrinsics::_vectorizedMismatch:\n+  case vmIntrinsics::_fmaD:\n+  case vmIntrinsics::_fmaF:\n+  case vmIntrinsics::_isDigit:\n+  case vmIntrinsics::_isLowerCase:\n+  case vmIntrinsics::_isUpperCase:\n+  case vmIntrinsics::_isWhitespace:\n+    return true;\n+  default:\n+    return false;\n+  }\n+}\n+\n+bool vmIntrinsics::can_trap(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+  switch(id) {\n+#ifdef JFR_HAVE_INTRINSICS\n+  case vmIntrinsics::_counterTime:\n+  case vmIntrinsics::_getClassId:\n+#endif\n+  case vmIntrinsics::_currentTimeMillis:\n+  case vmIntrinsics::_nanoTime:\n+  case vmIntrinsics::_floatToRawIntBits:\n+  case vmIntrinsics::_intBitsToFloat:\n+  case vmIntrinsics::_doubleToRawLongBits:\n+  case vmIntrinsics::_longBitsToDouble:\n+  case vmIntrinsics::_currentThread:\n+  case vmIntrinsics::_dabs:\n+  case vmIntrinsics::_fabs:\n+  case vmIntrinsics::_iabs:\n+  case vmIntrinsics::_labs:\n+  case vmIntrinsics::_dsqrt:\n+  case vmIntrinsics::_dsin:\n+  case vmIntrinsics::_dcos:\n+  case vmIntrinsics::_dtan:\n+  case vmIntrinsics::_dlog:\n+  case vmIntrinsics::_dlog10:\n+  case vmIntrinsics::_dexp:\n+  case vmIntrinsics::_dpow:\n+  case vmIntrinsics::_updateCRC32:\n+  case vmIntrinsics::_updateBytesCRC32:\n+  case vmIntrinsics::_updateByteBufferCRC32:\n+  case vmIntrinsics::_vectorizedMismatch:\n+  case vmIntrinsics::_fmaD:\n+  case vmIntrinsics::_fmaF:\n+    return false;\n+  default:\n+    return true;\n+  }\n+}\n+\n+\/\/ Some intrinsics produce different results if they are not pinned\n+bool vmIntrinsics::should_be_pinned(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+  switch(id) {\n+#ifdef JFR_HAVE_INTRINSICS\n+  case vmIntrinsics::_counterTime:\n+#endif\n+  case vmIntrinsics::_currentTimeMillis:\n+  case vmIntrinsics::_nanoTime:\n+    return true;\n+  default:\n+    return false;\n+  }\n+}\n+\n+bool vmIntrinsics::does_virtual_dispatch(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+  switch(id) {\n+  case vmIntrinsics::_hashCode:\n+  case vmIntrinsics::_clone:\n+    return true;\n+    break;\n+  default:\n+    return false;\n+  }\n+}\n+\n+int vmIntrinsics::predicates_needed(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+  switch (id) {\n+  case vmIntrinsics::_cipherBlockChaining_encryptAESCrypt:\n+  case vmIntrinsics::_cipherBlockChaining_decryptAESCrypt:\n+  case vmIntrinsics::_electronicCodeBook_encryptAESCrypt:\n+  case vmIntrinsics::_electronicCodeBook_decryptAESCrypt:\n+  case vmIntrinsics::_counterMode_AESCrypt:\n+    return 1;\n+  case vmIntrinsics::_digestBase_implCompressMB:\n+    return 4;\n+  default:\n+    return 0;\n+  }\n+}\n+\n+bool vmIntrinsics::disabled_by_jvm_flags(vmIntrinsics::ID id) {\n+  assert(id != vmIntrinsics::_none, \"must be a VM intrinsic\");\n+\n+  \/\/ -XX:-InlineNatives disables nearly all intrinsics except the ones listed in\n+  \/\/ the following switch statement.\n+  if (!InlineNatives) {\n+    switch (id) {\n+    case vmIntrinsics::_indexOfL:\n+    case vmIntrinsics::_indexOfU:\n+    case vmIntrinsics::_indexOfUL:\n+    case vmIntrinsics::_indexOfIL:\n+    case vmIntrinsics::_indexOfIU:\n+    case vmIntrinsics::_indexOfIUL:\n+    case vmIntrinsics::_indexOfU_char:\n+    case vmIntrinsics::_compareToL:\n+    case vmIntrinsics::_compareToU:\n+    case vmIntrinsics::_compareToLU:\n+    case vmIntrinsics::_compareToUL:\n+    case vmIntrinsics::_equalsL:\n+    case vmIntrinsics::_equalsU:\n+    case vmIntrinsics::_equalsC:\n+    case vmIntrinsics::_getCharStringU:\n+    case vmIntrinsics::_putCharStringU:\n+    case vmIntrinsics::_compressStringC:\n+    case vmIntrinsics::_compressStringB:\n+    case vmIntrinsics::_inflateStringC:\n+    case vmIntrinsics::_inflateStringB:\n+    case vmIntrinsics::_getAndAddInt:\n+    case vmIntrinsics::_getAndAddLong:\n+    case vmIntrinsics::_getAndSetInt:\n+    case vmIntrinsics::_getAndSetLong:\n+    case vmIntrinsics::_getAndSetReference:\n+    case vmIntrinsics::_loadFence:\n+    case vmIntrinsics::_storeFence:\n+    case vmIntrinsics::_fullFence:\n+    case vmIntrinsics::_hasNegatives:\n+    case vmIntrinsics::_Reference_get:\n+      break;\n+    default:\n+      return true;\n+    }\n+  }\n+\n+  switch (id) {\n+  case vmIntrinsics::_isInstance:\n+  case vmIntrinsics::_isAssignableFrom:\n+  case vmIntrinsics::_getModifiers:\n+  case vmIntrinsics::_isInterface:\n+  case vmIntrinsics::_isArray:\n+  case vmIntrinsics::_isPrimitive:\n+  case vmIntrinsics::_isHidden:\n+  case vmIntrinsics::_getSuperclass:\n+  case vmIntrinsics::_Class_cast:\n+  case vmIntrinsics::_getLength:\n+  case vmIntrinsics::_newArray:\n+  case vmIntrinsics::_getClass:\n+    if (!InlineClassNatives) return true;\n+    break;\n+  case vmIntrinsics::_currentThread:\n+    if (!InlineThreadNatives) return true;\n+    break;\n+  case vmIntrinsics::_floatToRawIntBits:\n+  case vmIntrinsics::_intBitsToFloat:\n+  case vmIntrinsics::_doubleToRawLongBits:\n+  case vmIntrinsics::_longBitsToDouble:\n+  case vmIntrinsics::_ceil:\n+  case vmIntrinsics::_floor:\n+  case vmIntrinsics::_rint:\n+  case vmIntrinsics::_dabs:\n+  case vmIntrinsics::_fabs:\n+  case vmIntrinsics::_iabs:\n+  case vmIntrinsics::_labs:\n+  case vmIntrinsics::_dsqrt:\n+  case vmIntrinsics::_dsin:\n+  case vmIntrinsics::_dcos:\n+  case vmIntrinsics::_dtan:\n+  case vmIntrinsics::_dlog:\n+  case vmIntrinsics::_dexp:\n+  case vmIntrinsics::_dpow:\n+  case vmIntrinsics::_dlog10:\n+  case vmIntrinsics::_datan2:\n+  case vmIntrinsics::_min:\n+  case vmIntrinsics::_max:\n+  case vmIntrinsics::_floatToIntBits:\n+  case vmIntrinsics::_doubleToLongBits:\n+  case vmIntrinsics::_maxF:\n+  case vmIntrinsics::_minF:\n+  case vmIntrinsics::_maxD:\n+  case vmIntrinsics::_minD:\n+    if (!InlineMathNatives) return true;\n+    break;\n+  case vmIntrinsics::_fmaD:\n+  case vmIntrinsics::_fmaF:\n+    if (!InlineMathNatives || !UseFMA) return true;\n+    break;\n+  case vmIntrinsics::_arraycopy:\n+    if (!InlineArrayCopy) return true;\n+    break;\n+  case vmIntrinsics::_updateCRC32:\n+  case vmIntrinsics::_updateBytesCRC32:\n+  case vmIntrinsics::_updateByteBufferCRC32:\n+    if (!UseCRC32Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_makePrivateBuffer:\n+  case vmIntrinsics::_finishPrivateBuffer:\n+  case vmIntrinsics::_getReference:\n+  case vmIntrinsics::_getBoolean:\n+  case vmIntrinsics::_getByte:\n+  case vmIntrinsics::_getShort:\n+  case vmIntrinsics::_getChar:\n+  case vmIntrinsics::_getInt:\n+  case vmIntrinsics::_getLong:\n+  case vmIntrinsics::_getFloat:\n+  case vmIntrinsics::_getDouble:\n+  case vmIntrinsics::_getValue:\n+  case vmIntrinsics::_putReference:\n+  case vmIntrinsics::_putBoolean:\n+  case vmIntrinsics::_putByte:\n+  case vmIntrinsics::_putShort:\n+  case vmIntrinsics::_putChar:\n+  case vmIntrinsics::_putInt:\n+  case vmIntrinsics::_putLong:\n+  case vmIntrinsics::_putFloat:\n+  case vmIntrinsics::_putDouble:\n+  case vmIntrinsics::_putValue:\n+  case vmIntrinsics::_getReferenceVolatile:\n+  case vmIntrinsics::_getBooleanVolatile:\n+  case vmIntrinsics::_getByteVolatile:\n+  case vmIntrinsics::_getShortVolatile:\n+  case vmIntrinsics::_getCharVolatile:\n+  case vmIntrinsics::_getIntVolatile:\n+  case vmIntrinsics::_getLongVolatile:\n+  case vmIntrinsics::_getFloatVolatile:\n+  case vmIntrinsics::_getDoubleVolatile:\n+  case vmIntrinsics::_putReferenceVolatile:\n+  case vmIntrinsics::_putBooleanVolatile:\n+  case vmIntrinsics::_putByteVolatile:\n+  case vmIntrinsics::_putShortVolatile:\n+  case vmIntrinsics::_putCharVolatile:\n+  case vmIntrinsics::_putIntVolatile:\n+  case vmIntrinsics::_putLongVolatile:\n+  case vmIntrinsics::_putFloatVolatile:\n+  case vmIntrinsics::_putDoubleVolatile:\n+  case vmIntrinsics::_getReferenceAcquire:\n+  case vmIntrinsics::_getBooleanAcquire:\n+  case vmIntrinsics::_getByteAcquire:\n+  case vmIntrinsics::_getShortAcquire:\n+  case vmIntrinsics::_getCharAcquire:\n+  case vmIntrinsics::_getIntAcquire:\n+  case vmIntrinsics::_getLongAcquire:\n+  case vmIntrinsics::_getFloatAcquire:\n+  case vmIntrinsics::_getDoubleAcquire:\n+  case vmIntrinsics::_putReferenceRelease:\n+  case vmIntrinsics::_putBooleanRelease:\n+  case vmIntrinsics::_putByteRelease:\n+  case vmIntrinsics::_putShortRelease:\n+  case vmIntrinsics::_putCharRelease:\n+  case vmIntrinsics::_putIntRelease:\n+  case vmIntrinsics::_putLongRelease:\n+  case vmIntrinsics::_putFloatRelease:\n+  case vmIntrinsics::_putDoubleRelease:\n+  case vmIntrinsics::_getReferenceOpaque:\n+  case vmIntrinsics::_getBooleanOpaque:\n+  case vmIntrinsics::_getByteOpaque:\n+  case vmIntrinsics::_getShortOpaque:\n+  case vmIntrinsics::_getCharOpaque:\n+  case vmIntrinsics::_getIntOpaque:\n+  case vmIntrinsics::_getLongOpaque:\n+  case vmIntrinsics::_getFloatOpaque:\n+  case vmIntrinsics::_getDoubleOpaque:\n+  case vmIntrinsics::_putReferenceOpaque:\n+  case vmIntrinsics::_putBooleanOpaque:\n+  case vmIntrinsics::_putByteOpaque:\n+  case vmIntrinsics::_putShortOpaque:\n+  case vmIntrinsics::_putCharOpaque:\n+  case vmIntrinsics::_putIntOpaque:\n+  case vmIntrinsics::_putLongOpaque:\n+  case vmIntrinsics::_putFloatOpaque:\n+  case vmIntrinsics::_putDoubleOpaque:\n+  case vmIntrinsics::_getAndAddInt:\n+  case vmIntrinsics::_getAndAddLong:\n+  case vmIntrinsics::_getAndSetInt:\n+  case vmIntrinsics::_getAndSetLong:\n+  case vmIntrinsics::_getAndSetReference:\n+  case vmIntrinsics::_loadFence:\n+  case vmIntrinsics::_storeFence:\n+  case vmIntrinsics::_fullFence:\n+  case vmIntrinsics::_compareAndSetLong:\n+  case vmIntrinsics::_weakCompareAndSetLong:\n+  case vmIntrinsics::_weakCompareAndSetLongPlain:\n+  case vmIntrinsics::_weakCompareAndSetLongAcquire:\n+  case vmIntrinsics::_weakCompareAndSetLongRelease:\n+  case vmIntrinsics::_compareAndSetInt:\n+  case vmIntrinsics::_weakCompareAndSetInt:\n+  case vmIntrinsics::_weakCompareAndSetIntPlain:\n+  case vmIntrinsics::_weakCompareAndSetIntAcquire:\n+  case vmIntrinsics::_weakCompareAndSetIntRelease:\n+  case vmIntrinsics::_compareAndSetReference:\n+  case vmIntrinsics::_weakCompareAndSetReference:\n+  case vmIntrinsics::_weakCompareAndSetReferencePlain:\n+  case vmIntrinsics::_weakCompareAndSetReferenceAcquire:\n+  case vmIntrinsics::_weakCompareAndSetReferenceRelease:\n+  case vmIntrinsics::_compareAndExchangeInt:\n+  case vmIntrinsics::_compareAndExchangeIntAcquire:\n+  case vmIntrinsics::_compareAndExchangeIntRelease:\n+  case vmIntrinsics::_compareAndExchangeLong:\n+  case vmIntrinsics::_compareAndExchangeLongAcquire:\n+  case vmIntrinsics::_compareAndExchangeLongRelease:\n+  case vmIntrinsics::_compareAndExchangeReference:\n+  case vmIntrinsics::_compareAndExchangeReferenceAcquire:\n+  case vmIntrinsics::_compareAndExchangeReferenceRelease:\n+    if (!InlineUnsafeOps) return true;\n+    break;\n+  case vmIntrinsics::_getShortUnaligned:\n+  case vmIntrinsics::_getCharUnaligned:\n+  case vmIntrinsics::_getIntUnaligned:\n+  case vmIntrinsics::_getLongUnaligned:\n+  case vmIntrinsics::_putShortUnaligned:\n+  case vmIntrinsics::_putCharUnaligned:\n+  case vmIntrinsics::_putIntUnaligned:\n+  case vmIntrinsics::_putLongUnaligned:\n+  case vmIntrinsics::_allocateInstance:\n+    if (!InlineUnsafeOps || !UseUnalignedAccesses) return true;\n+    break;\n+  case vmIntrinsics::_hashCode:\n+    if (!InlineObjectHash) return true;\n+    break;\n+  case vmIntrinsics::_aescrypt_encryptBlock:\n+  case vmIntrinsics::_aescrypt_decryptBlock:\n+    if (!UseAESIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_cipherBlockChaining_encryptAESCrypt:\n+  case vmIntrinsics::_cipherBlockChaining_decryptAESCrypt:\n+    if (!UseAESIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_electronicCodeBook_encryptAESCrypt:\n+  case vmIntrinsics::_electronicCodeBook_decryptAESCrypt:\n+    if (!UseAESIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_counterMode_AESCrypt:\n+    if (!UseAESCTRIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_md5_implCompress:\n+    if (!UseMD5Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_sha_implCompress:\n+    if (!UseSHA1Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_sha2_implCompress:\n+    if (!UseSHA256Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_sha5_implCompress:\n+    if (!UseSHA512Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_digestBase_implCompressMB:\n+    if (!(UseMD5Intrinsics || UseSHA1Intrinsics || UseSHA256Intrinsics || UseSHA512Intrinsics)) return true;\n+    break;\n+  case vmIntrinsics::_ghash_processBlocks:\n+    if (!UseGHASHIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_base64_encodeBlock:\n+    if (!UseBASE64Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_updateBytesCRC32C:\n+  case vmIntrinsics::_updateDirectByteBufferCRC32C:\n+    if (!UseCRC32CIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_vectorizedMismatch:\n+    if (!UseVectorizedMismatchIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_updateBytesAdler32:\n+  case vmIntrinsics::_updateByteBufferAdler32:\n+    if (!UseAdler32Intrinsics) return true;\n+    break;\n+  case vmIntrinsics::_copyMemory:\n+    if (!InlineArrayCopy || !InlineUnsafeOps) return true;\n+    break;\n+#ifdef COMPILER1\n+  case vmIntrinsics::_checkIndex:\n+    if (!InlineNIOCheckIndex) return true;\n+    break;\n+#endif \/\/ COMPILER1\n+#ifdef COMPILER2\n+  case vmIntrinsics::_clone:\n+  case vmIntrinsics::_copyOf:\n+  case vmIntrinsics::_copyOfRange:\n+    \/\/ These intrinsics use both the objectcopy and the arraycopy\n+    \/\/ intrinsic mechanism.\n+    if (!InlineObjectCopy || !InlineArrayCopy) return true;\n+    break;\n+  case vmIntrinsics::_compareToL:\n+  case vmIntrinsics::_compareToU:\n+  case vmIntrinsics::_compareToLU:\n+  case vmIntrinsics::_compareToUL:\n+    if (!SpecialStringCompareTo) return true;\n+    break;\n+  case vmIntrinsics::_indexOfL:\n+  case vmIntrinsics::_indexOfU:\n+  case vmIntrinsics::_indexOfUL:\n+  case vmIntrinsics::_indexOfIL:\n+  case vmIntrinsics::_indexOfIU:\n+  case vmIntrinsics::_indexOfIUL:\n+  case vmIntrinsics::_indexOfU_char:\n+    if (!SpecialStringIndexOf) return true;\n+    break;\n+  case vmIntrinsics::_equalsL:\n+  case vmIntrinsics::_equalsU:\n+    if (!SpecialStringEquals) return true;\n+    break;\n+  case vmIntrinsics::_equalsB:\n+  case vmIntrinsics::_equalsC:\n+    if (!SpecialArraysEquals) return true;\n+    break;\n+  case vmIntrinsics::_encodeISOArray:\n+  case vmIntrinsics::_encodeByteISOArray:\n+    if (!SpecialEncodeISOArray) return true;\n+    break;\n+  case vmIntrinsics::_getCallerClass:\n+    if (!InlineReflectionGetCallerClass) return true;\n+    break;\n+  case vmIntrinsics::_multiplyToLen:\n+    if (!UseMultiplyToLenIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_squareToLen:\n+    if (!UseSquareToLenIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_mulAdd:\n+    if (!UseMulAddIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_montgomeryMultiply:\n+    if (!UseMontgomeryMultiplyIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_montgomerySquare:\n+    if (!UseMontgomerySquareIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_bigIntegerRightShiftWorker:\n+  case vmIntrinsics::_bigIntegerLeftShiftWorker:\n+    break;\n+  case vmIntrinsics::_addExactI:\n+  case vmIntrinsics::_addExactL:\n+  case vmIntrinsics::_decrementExactI:\n+  case vmIntrinsics::_decrementExactL:\n+  case vmIntrinsics::_incrementExactI:\n+  case vmIntrinsics::_incrementExactL:\n+  case vmIntrinsics::_multiplyExactI:\n+  case vmIntrinsics::_multiplyExactL:\n+  case vmIntrinsics::_negateExactI:\n+  case vmIntrinsics::_negateExactL:\n+  case vmIntrinsics::_subtractExactI:\n+  case vmIntrinsics::_subtractExactL:\n+    if (!UseMathExactIntrinsics || !InlineMathNatives) return true;\n+    break;\n+  case vmIntrinsics::_isDigit:\n+  case vmIntrinsics::_isLowerCase:\n+  case vmIntrinsics::_isUpperCase:\n+  case vmIntrinsics::_isWhitespace:\n+    if (!UseCharacterCompareIntrinsics) return true;\n+    break;\n+  case vmIntrinsics::_dcopySign:\n+  case vmIntrinsics::_fcopySign:\n+    if (!InlineMathNatives || !UseCopySignIntrinsic) return true;\n+    break;\n+  case vmIntrinsics::_dsignum:\n+  case vmIntrinsics::_fsignum:\n+    if (!InlineMathNatives || !UseSignumIntrinsic) return true;\n+    break;\n+#endif \/\/ COMPILER2\n+  default:\n+    return false;\n+  }\n+\n+  return false;\n+}\n+\n+#define VM_INTRINSIC_INITIALIZE(id, klass, name, sig, flags) #id \"\\0\"\n+static const char* vm_intrinsic_name_bodies =\n+  VM_INTRINSICS_DO(VM_INTRINSIC_INITIALIZE,\n+                   VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE);\n+\n+static const char* vm_intrinsic_name_table[vmIntrinsics::ID_LIMIT];\n+static TriBoolArray<vmIntrinsics::ID_LIMIT, int> vm_intrinsic_control_words;\n+\n+static void init_vm_intrinsic_name_table() {\n+  const char** nt = &vm_intrinsic_name_table[0];\n+  char* string = (char*) &vm_intrinsic_name_bodies[0];\n+  for (int index = vmIntrinsics::FIRST_ID; index < vmIntrinsics::ID_LIMIT; index++) {\n+    nt[index] = string;\n+    string += strlen(string); \/\/ skip string body\n+    string += 1;              \/\/ skip trailing null\n+  }\n+  assert(!strcmp(nt[vmIntrinsics::_hashCode], \"_hashCode\"), \"lined up\");\n+  nt[vmIntrinsics::_none] = \"_none\";\n+}\n+\n+const char* vmIntrinsics::name_at(vmIntrinsics::ID id) {\n+  const char** nt = &vm_intrinsic_name_table[0];\n+  if (nt[_none] == NULL) {\n+    init_vm_intrinsic_name_table();\n+  }\n+\n+  if ((uint)id < (uint)ID_LIMIT)\n+    return vm_intrinsic_name_table[(uint)id];\n+  else\n+    return \"(unknown intrinsic)\";\n+}\n+\n+vmIntrinsics::ID vmIntrinsics::find_id(const char* name) {\n+  const char** nt = &vm_intrinsic_name_table[0];\n+  if (nt[_none] == NULL) {\n+    init_vm_intrinsic_name_table();\n+  }\n+\n+  for (int index = FIRST_ID; index < ID_LIMIT; ++index) {\n+    if (0 == strcmp(name, nt[index])) {\n+      return ID_from(index);\n+    }\n+  }\n+\n+  return _none;\n+}\n+\n+bool vmIntrinsics::is_disabled_by_flags(const methodHandle& method) {\n+  vmIntrinsics::ID id = method->intrinsic_id();\n+  return is_disabled_by_flags(id);\n+}\n+\n+bool vmIntrinsics::is_disabled_by_flags(vmIntrinsics::ID id) {\n+  assert(id > _none && id < ID_LIMIT, \"must be a VM intrinsic\");\n+\n+  \/\/ not initialized yet, process Control\/DisableIntrinsic\n+  if (vm_intrinsic_control_words[_none].is_default()) {\n+    for (ControlIntrinsicIter iter(ControlIntrinsic); *iter != NULL; ++iter) {\n+      vmIntrinsics::ID id = vmIntrinsics::find_id(*iter);\n+\n+      if (id != vmIntrinsics::_none) {\n+        vm_intrinsic_control_words[id] = iter.is_enabled() && !disabled_by_jvm_flags(id);\n+      }\n+    }\n+\n+    \/\/ Order matters, DisableIntrinsic can overwrite ControlIntrinsic\n+    for (ControlIntrinsicIter iter(DisableIntrinsic, true\/*disable_all*\/); *iter != NULL; ++iter) {\n+      vmIntrinsics::ID id = vmIntrinsics::find_id(*iter);\n+\n+      if (id != vmIntrinsics::_none) {\n+        vm_intrinsic_control_words[id] = false;\n+      }\n+    }\n+\n+    vm_intrinsic_control_words[_none] = true;\n+  }\n+\n+  TriBool b = vm_intrinsic_control_words[id];\n+  if (b.is_default()) {\n+    \/\/ unknown yet, query and cache it\n+    b = vm_intrinsic_control_words[id] = !disabled_by_jvm_flags(id);\n+  }\n+\n+  return !b;\n+}\n+\n+\/\/ These are for forming case labels:\n+#define ID3(x, y, z) (( jlong)(z) +                                  \\\n+                      ((jlong)(y) <<    vmSymbols::log2_SID_LIMIT) + \\\n+                      ((jlong)(x) << (2*vmSymbols::log2_SID_LIMIT))  )\n+#define SID_ENUM(n) vmSymbols::VM_SYMBOL_ENUM_NAME(n)\n+\n+vmIntrinsics::ID vmIntrinsics::find_id_impl(vmSymbols::SID holder,\n+                                            vmSymbols::SID name,\n+                                            vmSymbols::SID sig,\n+                                            jshort flags) {\n+  assert((int)vmSymbols::SID_LIMIT <= (1<<vmSymbols::log2_SID_LIMIT), \"must fit\");\n+\n+  \/\/ Let the C compiler build the decision tree.\n+\n+#define VM_INTRINSIC_CASE(id, klass, name, sig, fcode) \\\n+  case ID3(SID_ENUM(klass), SID_ENUM(name), SID_ENUM(sig)): \\\n+    if (!match_##fcode(flags))  break; \\\n+    return id;\n+\n+  switch (ID3(holder, name, sig)) {\n+    VM_INTRINSICS_DO(VM_INTRINSIC_CASE,\n+                     VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE);\n+  }\n+  return vmIntrinsics::_none;\n+\n+#undef VM_INTRINSIC_CASE\n+}\n+\n+\n+const char* vmIntrinsics::short_name_as_C_string(vmIntrinsics::ID id, char* buf, int buflen) {\n+  const char* str = name_at(id);\n+#ifndef PRODUCT\n+  const char* kname = vmSymbols::name_for(class_for(id));\n+  const char* mname = vmSymbols::name_for(name_for(id));\n+  const char* sname = vmSymbols::name_for(signature_for(id));\n+  const char* fname = \"\";\n+  switch (flags_for(id)) {\n+  case F_Y:  fname = \"synchronized \";  break;\n+  case F_RN: fname = \"native \";        break;\n+  case F_SN: fname = \"native static \"; break;\n+  case F_S:  fname = \"static \";        break;\n+  case F_RNY:fname = \"native synchronized \"; break;\n+  default:   break;\n+  }\n+  const char* kptr = strrchr(kname, JVM_SIGNATURE_SLASH);\n+  if (kptr != NULL)  kname = kptr + 1;\n+  int len = jio_snprintf(buf, buflen, \"%s: %s%s.%s%s\",\n+                         str, fname, kname, mname, sname);\n+  if (len < buflen)\n+    str = buf;\n+#endif \/\/PRODUCT\n+  return str;\n+}\n+\n+\n+\/\/ These are to get information about intrinsics.\n+\n+#define ID4(x, y, z, f) ((ID3(x, y, z) << vmIntrinsics::log2_FLAG_LIMIT) | (jlong) (f))\n+\n+static const jlong intrinsic_info_array[vmIntrinsics::ID_LIMIT+1] = {\n+#define VM_INTRINSIC_INFO(ignore_id, klass, name, sig, fcode) \\\n+  ID4(SID_ENUM(klass), SID_ENUM(name), SID_ENUM(sig), vmIntrinsics::fcode),\n+\n+  0, VM_INTRINSICS_DO(VM_INTRINSIC_INFO,\n+                     VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE)\n+    0\n+#undef VM_INTRINSIC_INFO\n+};\n+\n+inline jlong intrinsic_info(vmIntrinsics::ID id) {\n+  return intrinsic_info_array[vmIntrinsics::ID_from((int)id)];\n+}\n+\n+vmSymbols::SID vmIntrinsics::class_for(vmIntrinsics::ID id) {\n+  jlong info = intrinsic_info(id);\n+  int shift = 2*vmSymbols::log2_SID_LIMIT + log2_FLAG_LIMIT, mask = right_n_bits(vmSymbols::log2_SID_LIMIT);\n+  assert(((ID4(1021,1022,1023,15) >> shift) & mask) == 1021, \"\");\n+  return vmSymbols::SID( (info >> shift) & mask );\n+}\n+\n+vmSymbols::SID vmIntrinsics::name_for(vmIntrinsics::ID id) {\n+  jlong info = intrinsic_info(id);\n+  int shift = vmSymbols::log2_SID_LIMIT + log2_FLAG_LIMIT, mask = right_n_bits(vmSymbols::log2_SID_LIMIT);\n+  assert(((ID4(1021,1022,1023,15) >> shift) & mask) == 1022, \"\");\n+  return vmSymbols::SID( (info >> shift) & mask );\n+}\n+\n+vmSymbols::SID vmIntrinsics::signature_for(vmIntrinsics::ID id) {\n+  jlong info = intrinsic_info(id);\n+  int shift = log2_FLAG_LIMIT, mask = right_n_bits(vmSymbols::log2_SID_LIMIT);\n+  assert(((ID4(1021,1022,1023,15) >> shift) & mask) == 1023, \"\");\n+  return vmSymbols::SID( (info >> shift) & mask );\n+}\n+\n+vmIntrinsics::Flags vmIntrinsics::flags_for(vmIntrinsics::ID id) {\n+  jlong info = intrinsic_info(id);\n+  int shift = 0, mask = right_n_bits(log2_FLAG_LIMIT);\n+  assert(((ID4(1021,1022,1023,15) >> shift) & mask) == 15, \"\");\n+  return Flags( (info >> shift) & mask );\n+}\n+\n+\n+#ifndef PRODUCT\n+\/\/ verify_method performs an extra check on a matched intrinsic method\n+\n+static bool match_method(Method* m, Symbol* n, Symbol* s) {\n+  return (m->name() == n &&\n+          m->signature() == s);\n+}\n+\n+static vmIntrinsics::ID match_method_with_klass(Method* m, Symbol* mk) {\n+#define VM_INTRINSIC_MATCH(id, klassname, namepart, sigpart, flags) \\\n+  { Symbol* k = vmSymbols::klassname(); \\\n+    if (mk == k) { \\\n+      Symbol* n = vmSymbols::namepart(); \\\n+      Symbol* s = vmSymbols::sigpart(); \\\n+      if (match_method(m, n, s)) \\\n+        return vmIntrinsics::id; \\\n+    } }\n+  VM_INTRINSICS_DO(VM_INTRINSIC_MATCH,\n+                   VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_SYMBOL_IGNORE, VM_ALIAS_IGNORE);\n+  return vmIntrinsics::_none;\n+#undef VM_INTRINSIC_MATCH\n+}\n+\n+void vmIntrinsics::verify_method(ID actual_id, Method* m) {\n+  Symbol* mk = m->method_holder()->name();\n+  ID declared_id = match_method_with_klass(m, mk);\n+\n+  if (declared_id == actual_id)  return; \/\/ success\n+\n+  if (declared_id == _none && actual_id != _none && mk == vmSymbols::java_lang_StrictMath()) {\n+    \/\/ Here are a few special cases in StrictMath not declared in vmSymbols.hpp.\n+    switch (actual_id) {\n+    case _min:\n+    case _max:\n+    case _dsqrt:\n+      declared_id = match_method_with_klass(m, vmSymbols::java_lang_Math());\n+      if (declared_id == actual_id)  return; \/\/ acceptable alias\n+      break;\n+    default:\n+        break;\n+    }\n+  }\n+\n+  const char* declared_name = name_at(declared_id);\n+  const char* actual_name   = name_at(actual_id);\n+  m = NULL;\n+  ttyLocker ttyl;\n+  if (xtty != NULL) {\n+    xtty->begin_elem(\"intrinsic_misdeclared actual='%s' declared='%s'\",\n+                     actual_name, declared_name);\n+    xtty->method(m);\n+    xtty->end_elem(\"%s\", \"\");\n+  }\n+  if (PrintMiscellaneous && (WizardMode || Verbose)) {\n+    tty->print_cr(\"*** misidentified method; %s(%d) should be %s(%d):\",\n+                  declared_name, declared_id, actual_name, actual_id);\n+    m->print_short_name(tty);\n+    tty->cr();\n+  }\n+}\n+#endif \/\/PRODUCT\n","filename":"src\/hotspot\/share\/classfile\/vmIntrinsics.cpp","additions":857,"deletions":0,"binary":false,"changes":857,"status":"added"},{"patch":"@@ -0,0 +1,883 @@\n+\/*\n+ * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#ifndef SHARE_CLASSFILE_VMINTRINSICS_HPP\n+#define SHARE_CLASSFILE_VMINTRINSICS_HPP\n+\n+\/\/ Here are all the intrinsics known to the runtime and the CI.\n+\/\/ Each intrinsic consists of a public enum name (like _hashCode),\n+\/\/ followed by a specification of its klass, name, and signature:\n+\/\/    template(<id>,  <klass>,  <name>, <sig>, <FCODE>)\n+\/\/\n+\/\/ If you add an intrinsic here, you must also define its name\n+\/\/ and signature as members of the VM symbols.  The VM symbols for\n+\/\/ the intrinsic name and signature may be defined above.\n+\/\/\n+\/\/ Because the VM_SYMBOLS_DO macro makes reference to VM_INTRINSICS_DO,\n+\/\/ you can also define an intrinsic's name and\/or signature locally to the\n+\/\/ intrinsic, if this makes sense.  (It often does make sense.)\n+\/\/\n+\/\/ For example:\n+\/\/    do_intrinsic(_foo,  java_lang_Object,  foo_name, foo_signature, F_xx)\n+\/\/     do_name(     foo_name, \"foo\")\n+\/\/     do_signature(foo_signature, \"()F\")\n+\/\/ klass      = vmSymbols::java_lang_Object()\n+\/\/ name       = vmSymbols::foo_name()\n+\/\/ signature  = vmSymbols::foo_signature()\n+\/\/\n+\/\/ The name and\/or signature might be a \"well known\" symbol\n+\/\/ like \"equal\" or \"()I\", in which case there will be no local\n+\/\/ re-definition of the symbol.\n+\/\/\n+\/\/ The do_class, do_name, and do_signature calls are all used for the\n+\/\/ same purpose:  Define yet another VM symbol.  They could all be merged\n+\/\/ into a common 'do_symbol' call, but it seems useful to record our\n+\/\/ intentions here about kinds of symbols (class vs. name vs. signature).\n+\/\/\n+\/\/ The F_xx is one of the Flags enum; see below.\n+\/\/\n+\/\/ for Emacs: (let ((c-backslash-column 120) (c-backslash-max-column 120)) (c-backslash-region (point) (point-max) nil t))\n+\/\/\n+\/\/\n+\/\/ There are two types of intrinsic methods: (1) Library intrinsics and (2) bytecode intrinsics.\n+\/\/\n+\/\/ (1) A library intrinsic method may be replaced with hand-crafted assembly code,\n+\/\/ with hand-crafted compiler IR, or with a combination of the two. The semantics\n+\/\/ of the replacement code may differ from the semantics of the replaced code.\n+\/\/\n+\/\/ (2) Bytecode intrinsic methods are not replaced by special code, but they are\n+\/\/ treated in some other special way by the compiler. For example, the compiler\n+\/\/ may delay inlining for some String-related intrinsic methods (e.g., some methods\n+\/\/ defined in the StringBuilder and StringBuffer classes, see\n+\/\/ Compile::should_delay_string_inlining() for more details).\n+\/\/\n+\/\/ Due to the difference between the semantics of an intrinsic method as defined\n+\/\/ in the (Java) source code and the semantics of the method as defined\n+\/\/ by the code in the VM, intrinsic methods must be explicitly marked.\n+\/\/\n+\/\/ Intrinsic methods are marked by the jdk.internal.HotSpotIntrinsicCandidate\n+\/\/ annotation. If CheckIntrinsics is enabled, the VM performs the following\n+\/\/ checks when a class C is loaded: (1) all intrinsics defined by the VM for\n+\/\/ class C are present in the loaded class file and are marked;\n+\/\/ (2) an intrinsic is defined by the VM for all marked methods of class C;\n+\/\/ (3) check for orphan methods in class C (i.e., methods for which the VM\n+\/\/ declares an intrinsic but that are not declared for the loaded class C.\n+\/\/ Check (3) is available only in debug builds.\n+\/\/\n+\/\/ If a mismatch is detected for a method, the VM behaves differently depending\n+\/\/ on the type of build. A fastdebug build exits and reports an error on a mismatch.\n+\/\/ A product build will not replace an unmarked library intrinsic method with\n+\/\/ hand-crafted code, that is, unmarked library intrinsics are treated as ordinary\n+\/\/ methods in a product build. The special treatment of a bytecode intrinsic method\n+\/\/ persists even if the method not marked.\n+\/\/\n+\/\/ When adding an intrinsic for a method, please make sure to appropriately\n+\/\/ annotate the method in the source code. The list below contains all\n+\/\/ library intrinsics followed by bytecode intrinsics. Please also make sure to\n+\/\/ add the declaration of the intrinsic to the approriate section of the list.\n+#define VM_INTRINSICS_DO(do_intrinsic, do_class, do_name, do_signature, do_alias)                                       \\\n+  \/* (1) Library intrinsics                                                                        *\/                   \\\n+  do_intrinsic(_hashCode,                 java_lang_Object,       hashCode_name, void_int_signature,             F_R)   \\\n+   do_name(     hashCode_name,                                   \"hashCode\")                                            \\\n+  do_intrinsic(_getClass,                 java_lang_Object,       getClass_name, void_class_signature,           F_R)   \\\n+   do_name(     getClass_name,                                   \"getClass\")                                            \\\n+  do_intrinsic(_clone,                    java_lang_Object,       clone_name, void_object_signature,             F_R)   \\\n+   do_name(     clone_name,                                      \"clone\")                                               \\\n+  do_intrinsic(_notify,                   java_lang_Object,       notify_name, void_method_signature,            F_R)   \\\n+   do_name(     notify_name,                                     \"notify\")                                              \\\n+  do_intrinsic(_notifyAll,                java_lang_Object,       notifyAll_name, void_method_signature,         F_R)   \\\n+   do_name(     notifyAll_name,                                  \"notifyAll\")                                           \\\n+                                                                                                                        \\\n+  \/* Math & StrictMath intrinsics are defined in terms of just a few signatures: *\/                                     \\\n+  do_class(java_lang_Math,                \"java\/lang\/Math\")                                                             \\\n+  do_class(java_lang_StrictMath,          \"java\/lang\/StrictMath\")                                                       \\\n+  do_signature(double2_double_signature,  \"(DD)D\")                                                                      \\\n+  do_signature(double3_double_signature,  \"(DDD)D\")                                                                     \\\n+  do_signature(float2_float_signature,    \"(FF)F\")                                                                      \\\n+  do_signature(float3_float_signature,    \"(FFF)F\")                                                                     \\\n+  do_signature(int2_int_signature,        \"(II)I\")                                                                      \\\n+  do_signature(long2_long_signature,      \"(JJ)J\")                                                                      \\\n+                                                                                                                        \\\n+  \/* here are the math names, all together: *\/                                                                          \\\n+  do_name(abs_name,\"abs\")       do_name(sin_name,\"sin\")         do_name(cos_name,\"cos\")                                 \\\n+  do_name(tan_name,\"tan\")       do_name(atan2_name,\"atan2\")     do_name(sqrt_name,\"sqrt\")                               \\\n+  do_name(log_name,\"log\")       do_name(log10_name,\"log10\")     do_name(pow_name,\"pow\")                                 \\\n+  do_name(exp_name,\"exp\")       do_name(min_name,\"min\")         do_name(max_name,\"max\")                                 \\\n+  do_name(floor_name, \"floor\")  do_name(ceil_name, \"ceil\")      do_name(rint_name, \"rint\")                              \\\n+                                                                                                                        \\\n+  do_name(addExact_name,\"addExact\")                                                                                     \\\n+  do_name(decrementExact_name,\"decrementExact\")                                                                         \\\n+  do_name(incrementExact_name,\"incrementExact\")                                                                         \\\n+  do_name(multiplyExact_name,\"multiplyExact\")                                                                           \\\n+  do_name(multiplyHigh_name,\"multiplyHigh\")                                                                             \\\n+  do_name(negateExact_name,\"negateExact\")                                                                               \\\n+  do_name(subtractExact_name,\"subtractExact\")                                                                           \\\n+  do_name(fma_name, \"fma\")                                                                                              \\\n+  do_name(copySign_name, \"copySign\")                                                                                    \\\n+  do_name(signum_name,\"signum\")                                                                                         \\\n+                                                                                                                        \\\n+  do_intrinsic(_dabs,                     java_lang_Math,         abs_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_fabs,                     java_lang_Math,         abs_name,   float_float_signature,           F_S)   \\\n+  do_intrinsic(_iabs,                     java_lang_Math,         abs_name,   int_int_signature,           F_S)   \\\n+  do_intrinsic(_labs,                     java_lang_Math,         abs_name,   long_long_signature,           F_S)   \\\n+  do_intrinsic(_dsin,                     java_lang_Math,         sin_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_floor,                    java_lang_Math,         floor_name, double_double_signature,           F_S)   \\\n+  do_intrinsic(_ceil,                     java_lang_Math,         ceil_name,  double_double_signature,           F_S)   \\\n+  do_intrinsic(_rint,                     java_lang_Math,         rint_name,  double_double_signature,           F_S)   \\\n+  do_intrinsic(_dcos,                     java_lang_Math,         cos_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_dtan,                     java_lang_Math,         tan_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_datan2,                   java_lang_Math,         atan2_name, double2_double_signature,          F_S)   \\\n+  do_intrinsic(_dsqrt,                    java_lang_Math,         sqrt_name,  double_double_signature,           F_S)   \\\n+  do_intrinsic(_dlog,                     java_lang_Math,         log_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_dlog10,                   java_lang_Math,         log10_name, double_double_signature,           F_S)   \\\n+  do_intrinsic(_dpow,                     java_lang_Math,         pow_name,   double2_double_signature,          F_S)   \\\n+  do_intrinsic(_dexp,                     java_lang_Math,         exp_name,   double_double_signature,           F_S)   \\\n+  do_intrinsic(_min,                      java_lang_Math,         min_name,   int2_int_signature,                F_S)   \\\n+  do_intrinsic(_max,                      java_lang_Math,         max_name,   int2_int_signature,                F_S)   \\\n+  do_intrinsic(_addExactI,                java_lang_Math,         addExact_name, int2_int_signature,             F_S)   \\\n+  do_intrinsic(_addExactL,                java_lang_Math,         addExact_name, long2_long_signature,           F_S)   \\\n+  do_intrinsic(_decrementExactI,          java_lang_Math,         decrementExact_name, int_int_signature,        F_S)   \\\n+  do_intrinsic(_decrementExactL,          java_lang_Math,         decrementExact_name, long_long_signature,      F_S)   \\\n+  do_intrinsic(_incrementExactI,          java_lang_Math,         incrementExact_name, int_int_signature,        F_S)   \\\n+  do_intrinsic(_incrementExactL,          java_lang_Math,         incrementExact_name, long_long_signature,      F_S)   \\\n+  do_intrinsic(_multiplyExactI,           java_lang_Math,         multiplyExact_name, int2_int_signature,        F_S)   \\\n+  do_intrinsic(_multiplyExactL,           java_lang_Math,         multiplyExact_name, long2_long_signature,      F_S)   \\\n+  do_intrinsic(_multiplyHigh,             java_lang_Math,         multiplyHigh_name, long2_long_signature,       F_S)   \\\n+  do_intrinsic(_negateExactI,             java_lang_Math,         negateExact_name, int_int_signature,           F_S)   \\\n+  do_intrinsic(_negateExactL,             java_lang_Math,         negateExact_name, long_long_signature,         F_S)   \\\n+  do_intrinsic(_subtractExactI,           java_lang_Math,         subtractExact_name, int2_int_signature,        F_S)   \\\n+  do_intrinsic(_subtractExactL,           java_lang_Math,         subtractExact_name, long2_long_signature,      F_S)   \\\n+  do_intrinsic(_fmaD,                     java_lang_Math,         fma_name,           double3_double_signature,  F_S)   \\\n+  do_intrinsic(_fmaF,                     java_lang_Math,         fma_name,           float3_float_signature,    F_S)   \\\n+  do_intrinsic(_maxF,                     java_lang_Math,         max_name,           float2_float_signature,    F_S)   \\\n+  do_intrinsic(_minF,                     java_lang_Math,         min_name,           float2_float_signature,    F_S)   \\\n+  do_intrinsic(_maxD,                     java_lang_Math,         max_name,           double2_double_signature,  F_S)   \\\n+  do_intrinsic(_minD,                     java_lang_Math,         min_name,           double2_double_signature,  F_S)   \\\n+  do_intrinsic(_dcopySign,                java_lang_Math,         copySign_name,      double2_double_signature,  F_S)   \\\n+  do_intrinsic(_fcopySign,                java_lang_Math,         copySign_name,      float2_float_signature,    F_S)   \\\n+  do_intrinsic(_dsignum,                  java_lang_Math,         signum_name,        double_double_signature,   F_S)   \\\n+  do_intrinsic(_fsignum,                  java_lang_Math,         signum_name,        float_float_signature,     F_S)   \\\n+                                                                                                                        \\\n+  do_intrinsic(_floatToRawIntBits,        java_lang_Float,        floatToRawIntBits_name,   float_int_signature, F_S)   \\\n+   do_name(     floatToRawIntBits_name,                          \"floatToRawIntBits\")                                   \\\n+  do_intrinsic(_floatToIntBits,           java_lang_Float,        floatToIntBits_name,      float_int_signature, F_S)   \\\n+   do_name(     floatToIntBits_name,                             \"floatToIntBits\")                                      \\\n+  do_intrinsic(_intBitsToFloat,           java_lang_Float,        intBitsToFloat_name,      int_float_signature, F_S)   \\\n+   do_name(     intBitsToFloat_name,                             \"intBitsToFloat\")                                      \\\n+  do_intrinsic(_doubleToRawLongBits,      java_lang_Double,       doubleToRawLongBits_name, double_long_signature, F_S) \\\n+   do_name(     doubleToRawLongBits_name,                        \"doubleToRawLongBits\")                                 \\\n+  do_intrinsic(_doubleToLongBits,         java_lang_Double,       doubleToLongBits_name,    double_long_signature, F_S) \\\n+   do_name(     doubleToLongBits_name,                           \"doubleToLongBits\")                                    \\\n+  do_intrinsic(_longBitsToDouble,         java_lang_Double,       longBitsToDouble_name,    long_double_signature, F_S) \\\n+   do_name(     longBitsToDouble_name,                           \"longBitsToDouble\")                                    \\\n+                                                                                                                        \\\n+  do_intrinsic(_numberOfLeadingZeros_i,   java_lang_Integer,      numberOfLeadingZeros_name,int_int_signature,   F_S)   \\\n+  do_intrinsic(_numberOfLeadingZeros_l,   java_lang_Long,         numberOfLeadingZeros_name,long_int_signature,  F_S)   \\\n+                                                                                                                        \\\n+  do_intrinsic(_numberOfTrailingZeros_i,  java_lang_Integer,      numberOfTrailingZeros_name,int_int_signature,  F_S)   \\\n+  do_intrinsic(_numberOfTrailingZeros_l,  java_lang_Long,         numberOfTrailingZeros_name,long_int_signature, F_S)   \\\n+                                                                                                                        \\\n+  do_intrinsic(_bitCount_i,               java_lang_Integer,      bitCount_name,            int_int_signature,   F_S)   \\\n+  do_intrinsic(_bitCount_l,               java_lang_Long,         bitCount_name,            long_int_signature,  F_S)   \\\n+                                                                                                                        \\\n+  do_intrinsic(_reverseBytes_i,           java_lang_Integer,      reverseBytes_name,        int_int_signature,   F_S)   \\\n+   do_name(     reverseBytes_name,                               \"reverseBytes\")                                        \\\n+  do_intrinsic(_reverseBytes_l,           java_lang_Long,         reverseBytes_name,        long_long_signature, F_S)   \\\n+    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n+  do_intrinsic(_reverseBytes_c,           java_lang_Character,    reverseBytes_name,        char_char_signature, F_S)   \\\n+    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n+  do_intrinsic(_reverseBytes_s,           java_lang_Short,        reverseBytes_name,        short_short_signature, F_S) \\\n+    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n+                                                                                                                        \\\n+  do_intrinsic(_identityHashCode,         java_lang_System,       identityHashCode_name, object_int_signature,   F_S)   \\\n+   do_name(     identityHashCode_name,                           \"identityHashCode\")                                    \\\n+  do_intrinsic(_currentTimeMillis,        java_lang_System,       currentTimeMillis_name, void_long_signature,   F_S)   \\\n+                                                                                                                        \\\n+   do_name(     currentTimeMillis_name,                          \"currentTimeMillis\")                                   \\\n+  do_intrinsic(_nanoTime,                 java_lang_System,       nanoTime_name,          void_long_signature,   F_S)   \\\n+   do_name(     nanoTime_name,                                   \"nanoTime\")                                            \\\n+                                                                                                                        \\\n+  JFR_INTRINSICS(do_intrinsic, do_class, do_name, do_signature, do_alias)                                               \\\n+                                                                                                                        \\\n+  do_intrinsic(_arraycopy,                java_lang_System,       arraycopy_name, arraycopy_signature,           F_S)   \\\n+   do_name(     arraycopy_name,                                  \"arraycopy\")                                           \\\n+   do_signature(arraycopy_signature,                             \"(Ljava\/lang\/Object;ILjava\/lang\/Object;II)V\")          \\\n+  do_intrinsic(_currentThread,            java_lang_Thread,       currentThread_name, currentThread_signature,   F_S)   \\\n+   do_name(     currentThread_name,                              \"currentThread\")                                       \\\n+   do_signature(currentThread_signature,                         \"()Ljava\/lang\/Thread;\")                                \\\n+                                                                                                                        \\\n+  \/* reflective intrinsics, for java\/lang\/Class, etc. *\/                                                                \\\n+  do_intrinsic(_isAssignableFrom,         java_lang_Class,        isAssignableFrom_name, class_boolean_signature, F_RN) \\\n+   do_name(     isAssignableFrom_name,                           \"isAssignableFrom\")                                    \\\n+  do_intrinsic(_isInstance,               java_lang_Class,        isInstance_name, object_boolean_signature,     F_RN)  \\\n+   do_name(     isInstance_name,                                 \"isInstance\")                                          \\\n+  do_intrinsic(_getModifiers,             java_lang_Class,        getModifiers_name, void_int_signature,         F_RN)  \\\n+   do_name(     getModifiers_name,                               \"getModifiers\")                                        \\\n+  do_intrinsic(_isInterface,              java_lang_Class,        isInterface_name, void_boolean_signature,      F_RN)  \\\n+   do_name(     isInterface_name,                                \"isInterface\")                                         \\\n+  do_intrinsic(_isArray,                  java_lang_Class,        isArray_name, void_boolean_signature,          F_RN)  \\\n+   do_name(     isArray_name,                                    \"isArray\")                                             \\\n+  do_intrinsic(_isPrimitive,              java_lang_Class,        isPrimitive_name, void_boolean_signature,      F_RN)  \\\n+   do_name(     isPrimitive_name,                                \"isPrimitive\")                                         \\\n+  do_intrinsic(_isHidden,                 java_lang_Class,        isHidden_name, void_boolean_signature,         F_RN)  \\\n+   do_name(     isHidden_name,                                   \"isHidden\")                                            \\\n+  do_intrinsic(_getSuperclass,            java_lang_Class,        getSuperclass_name, void_class_signature,      F_RN)  \\\n+   do_name(     getSuperclass_name,                              \"getSuperclass\")                                       \\\n+  do_intrinsic(_Class_cast,               java_lang_Class,        Class_cast_name, object_object_signature,      F_R)   \\\n+   do_name(     Class_cast_name,                                 \"cast\")                                                \\\n+                                                                                                                        \\\n+  do_intrinsic(_getClassAccessFlags,      reflect_Reflection,     getClassAccessFlags_name, class_int_signature, F_SN)  \\\n+   do_name(     getClassAccessFlags_name,                        \"getClassAccessFlags\")                                 \\\n+  do_intrinsic(_getLength,                java_lang_reflect_Array, getLength_name, object_int_signature,         F_SN)  \\\n+   do_name(     getLength_name,                                   \"getLength\")                                          \\\n+                                                                                                                        \\\n+  do_intrinsic(_getCallerClass,           reflect_Reflection,     getCallerClass_name, void_class_signature,     F_SN)  \\\n+   do_name(     getCallerClass_name,                             \"getCallerClass\")                                      \\\n+                                                                                                                        \\\n+  do_intrinsic(_newArray,                 java_lang_reflect_Array, newArray_name, newArray_signature,            F_SN)  \\\n+   do_name(     newArray_name,                                    \"newArray\")                                           \\\n+   do_signature(newArray_signature,                               \"(Ljava\/lang\/Class;I)Ljava\/lang\/Object;\")             \\\n+                                                                                                                        \\\n+  do_intrinsic(_onSpinWait,               java_lang_Thread,       onSpinWait_name, onSpinWait_signature,         F_S)   \\\n+   do_name(     onSpinWait_name,                                  \"onSpinWait\")                                         \\\n+   do_alias(    onSpinWait_signature,                             void_method_signature)                                \\\n+                                                                                                                        \\\n+  do_intrinsic(_copyOf,                   java_util_Arrays,       copyOf_name, copyOf_signature,                 F_S)   \\\n+   do_name(     copyOf_name,                                     \"copyOf\")                                              \\\n+   do_signature(copyOf_signature,             \"([Ljava\/lang\/Object;ILjava\/lang\/Class;)[Ljava\/lang\/Object;\")             \\\n+                                                                                                                        \\\n+  do_intrinsic(_copyOfRange,              java_util_Arrays,       copyOfRange_name, copyOfRange_signature,       F_S)   \\\n+   do_name(     copyOfRange_name,                                \"copyOfRange\")                                         \\\n+   do_signature(copyOfRange_signature,        \"([Ljava\/lang\/Object;IILjava\/lang\/Class;)[Ljava\/lang\/Object;\")            \\\n+                                                                                                                        \\\n+  do_intrinsic(_equalsC,                  java_util_Arrays,       equals_name,    equalsC_signature,             F_S)   \\\n+   do_signature(equalsC_signature,                               \"([C[C)Z\")                                             \\\n+  do_intrinsic(_equalsB,                  java_util_Arrays,       equals_name,    equalsB_signature,             F_S)   \\\n+   do_signature(equalsB_signature,                               \"([B[B)Z\")                                             \\\n+                                                                                                                        \\\n+  do_intrinsic(_compressStringC,          java_lang_StringUTF16,  compress_name, encodeISOArray_signature,       F_S)   \\\n+   do_name(     compress_name,                                   \"compress\")                                            \\\n+  do_intrinsic(_compressStringB,          java_lang_StringUTF16,  compress_name, indexOfI_signature,             F_S)   \\\n+  do_intrinsic(_inflateStringC,           java_lang_StringLatin1, inflate_name, inflateC_signature,              F_S)   \\\n+   do_name(     inflate_name,                                    \"inflate\")                                             \\\n+   do_signature(inflateC_signature,                              \"([BI[CII)V\")                                          \\\n+  do_intrinsic(_inflateStringB,           java_lang_StringLatin1, inflate_name, inflateB_signature,              F_S)   \\\n+   do_signature(inflateB_signature,                              \"([BI[BII)V\")                                          \\\n+  do_intrinsic(_toBytesStringU,           java_lang_StringUTF16, toBytes_name, toBytesU_signature,               F_S)   \\\n+   do_name(     toBytes_name,                                    \"toBytes\")                                             \\\n+   do_signature(toBytesU_signature,                              \"([CII)[B\")                                            \\\n+  do_intrinsic(_getCharsStringU,          java_lang_StringUTF16, getCharsU_name, getCharsU_signature,            F_S)   \\\n+   do_name(     getCharsU_name,                                  \"getChars\")                                            \\\n+   do_signature(getCharsU_signature,                             \"([BII[CI)V\")                                          \\\n+  do_intrinsic(_getCharStringU,           java_lang_StringUTF16, getChar_name, getCharStringU_signature,         F_S)   \\\n+   do_signature(getCharStringU_signature,                        \"([BI)C\")                                              \\\n+  do_intrinsic(_putCharStringU,           java_lang_StringUTF16, putChar_name, putCharStringU_signature,         F_S)   \\\n+   do_signature(putCharStringU_signature,                        \"([BII)V\")                                             \\\n+  do_intrinsic(_compareToL,               java_lang_StringLatin1,compareTo_name, compareTo_indexOf_signature,    F_S)   \\\n+  do_intrinsic(_compareToU,               java_lang_StringUTF16, compareTo_name, compareTo_indexOf_signature,    F_S)   \\\n+  do_intrinsic(_compareToLU,              java_lang_StringLatin1,compareToLU_name, compareTo_indexOf_signature,  F_S)   \\\n+  do_intrinsic(_compareToUL,              java_lang_StringUTF16, compareToUL_name, compareTo_indexOf_signature,  F_S)   \\\n+   do_signature(compareTo_indexOf_signature,                     \"([B[B)I\")                                             \\\n+   do_name(     compareTo_name,                                  \"compareTo\")                                           \\\n+   do_name(     compareToLU_name,                                \"compareToUTF16\")                                      \\\n+   do_name(     compareToUL_name,                                \"compareToLatin1\")                                     \\\n+  do_intrinsic(_indexOfL,                 java_lang_StringLatin1,indexOf_name, compareTo_indexOf_signature,      F_S)   \\\n+  do_intrinsic(_indexOfU,                 java_lang_StringUTF16, indexOf_name, compareTo_indexOf_signature,      F_S)   \\\n+  do_intrinsic(_indexOfUL,                java_lang_StringUTF16, indexOfUL_name, compareTo_indexOf_signature,    F_S)   \\\n+  do_intrinsic(_indexOfIL,                java_lang_StringLatin1,indexOf_name, indexOfI_signature,               F_S)   \\\n+  do_intrinsic(_indexOfIU,                java_lang_StringUTF16, indexOf_name, indexOfI_signature,               F_S)   \\\n+  do_intrinsic(_indexOfIUL,               java_lang_StringUTF16, indexOfUL_name, indexOfI_signature,             F_S)   \\\n+  do_intrinsic(_indexOfU_char,            java_lang_StringUTF16, indexOfChar_name, indexOfChar_signature,        F_S)   \\\n+   do_name(     indexOf_name,                                    \"indexOf\")                                             \\\n+   do_name(     indexOfChar_name,                                \"indexOfChar\")                                         \\\n+   do_name(     indexOfUL_name,                                  \"indexOfLatin1\")                                       \\\n+   do_signature(indexOfI_signature,                              \"([BI[BII)I\")                                          \\\n+   do_signature(indexOfChar_signature,                           \"([BIII)I\")                                            \\\n+  do_intrinsic(_equalsL,                  java_lang_StringLatin1,equals_name, equalsB_signature,                 F_S)   \\\n+  do_intrinsic(_equalsU,                  java_lang_StringUTF16, equals_name, equalsB_signature,                 F_S)   \\\n+                                                                                                                        \\\n+  do_intrinsic(_isDigit,                  java_lang_CharacterDataLatin1, isDigit_name,      int_bool_signature,  F_R)   \\\n+   do_name(     isDigit_name,                                           \"isDigit\")                                      \\\n+  do_intrinsic(_isLowerCase,              java_lang_CharacterDataLatin1, isLowerCase_name,  int_bool_signature,  F_R)   \\\n+   do_name(     isLowerCase_name,                                       \"isLowerCase\")                                  \\\n+  do_intrinsic(_isUpperCase,              java_lang_CharacterDataLatin1, isUpperCase_name,  int_bool_signature,  F_R)   \\\n+   do_name(     isUpperCase_name,                                       \"isUpperCase\")                                  \\\n+  do_intrinsic(_isWhitespace,             java_lang_CharacterDataLatin1, isWhitespace_name, int_bool_signature,  F_R)   \\\n+   do_name(     isWhitespace_name,                                      \"isWhitespace\")                                 \\\n+                                                                                                                        \\\n+  do_intrinsic(_Preconditions_checkIndex, jdk_internal_util_Preconditions, checkIndex_name, Preconditions_checkIndex_signature, F_S)   \\\n+   do_signature(Preconditions_checkIndex_signature,              \"(IILjava\/util\/function\/BiFunction;)I\")                \\\n+                                                                                                                        \\\n+  do_class(java_nio_Buffer,               \"java\/nio\/Buffer\")                                                            \\\n+  do_intrinsic(_checkIndex,               java_nio_Buffer,        checkIndex_name, int_int_signature,            F_R)   \\\n+   do_name(     checkIndex_name,                                 \"checkIndex\")                                          \\\n+                                                                                                                        \\\n+  do_class(java_lang_StringCoding,        \"java\/lang\/StringCoding\")                                                     \\\n+  do_intrinsic(_hasNegatives,             java_lang_StringCoding, hasNegatives_name, hasNegatives_signature,     F_S)   \\\n+   do_name(     hasNegatives_name,                               \"hasNegatives\")                                        \\\n+   do_signature(hasNegatives_signature,                          \"([BII)Z\")                                             \\\n+                                                                                                                        \\\n+  do_class(sun_nio_cs_iso8859_1_Encoder,  \"sun\/nio\/cs\/ISO_8859_1$Encoder\")                                              \\\n+  do_intrinsic(_encodeISOArray,     sun_nio_cs_iso8859_1_Encoder, encodeISOArray_name, encodeISOArray_signature, F_S)   \\\n+   do_name(     encodeISOArray_name,                             \"implEncodeISOArray\")                                  \\\n+   do_signature(encodeISOArray_signature,                        \"([CI[BII)I\")                                          \\\n+                                                                                                                        \\\n+  do_intrinsic(_encodeByteISOArray,     java_lang_StringCoding, encodeISOArray_name, indexOfI_signature,         F_S)   \\\n+                                                                                                                        \\\n+  do_class(java_math_BigInteger,                      \"java\/math\/BigInteger\")                                           \\\n+  do_intrinsic(_multiplyToLen,      java_math_BigInteger, multiplyToLen_name, multiplyToLen_signature, F_S)             \\\n+   do_name(     multiplyToLen_name,                             \"implMultiplyToLen\")                                    \\\n+   do_signature(multiplyToLen_signature,                        \"([II[II[I)[I\")                                         \\\n+                                                                                                                        \\\n+  do_intrinsic(_squareToLen, java_math_BigInteger, squareToLen_name, squareToLen_signature, F_S)                        \\\n+   do_name(     squareToLen_name,                             \"implSquareToLen\")                                        \\\n+   do_signature(squareToLen_signature,                        \"([II[II)[I\")                                             \\\n+                                                                                                                        \\\n+  do_intrinsic(_mulAdd, java_math_BigInteger, mulAdd_name, mulAdd_signature, F_S)                                       \\\n+   do_name(     mulAdd_name,                                  \"implMulAdd\")                                             \\\n+   do_signature(mulAdd_signature,                             \"([I[IIII)I\")                                             \\\n+                                                                                                                        \\\n+  do_intrinsic(_montgomeryMultiply,      java_math_BigInteger, montgomeryMultiply_name, montgomeryMultiply_signature, F_S) \\\n+   do_name(     montgomeryMultiply_name,                             \"implMontgomeryMultiply\")                          \\\n+   do_signature(montgomeryMultiply_signature,                        \"([I[I[IIJ[I)[I\")                                  \\\n+                                                                                                                        \\\n+  do_intrinsic(_montgomerySquare,      java_math_BigInteger, montgomerySquare_name, montgomerySquare_signature, F_S)    \\\n+   do_name(     montgomerySquare_name,                             \"implMontgomerySquare\")                              \\\n+   do_signature(montgomerySquare_signature,                        \"([I[IIJ[I)[I\")                                      \\\n+                                                                                                                        \\\n+  do_intrinsic(_bigIntegerRightShiftWorker, java_math_BigInteger, rightShift_name, big_integer_shift_worker_signature, F_S) \\\n+   do_name(     rightShift_name,                                 \"shiftRightImplWorker\")                                \\\n+                                                                                                                        \\\n+  do_intrinsic(_bigIntegerLeftShiftWorker, java_math_BigInteger, leftShift_name, big_integer_shift_worker_signature, F_S) \\\n+   do_name(     leftShift_name,                                 \"shiftLeftImplWorker\")                                  \\\n+                                                                                                                        \\\n+  do_class(jdk_internal_util_ArraysSupport, \"jdk\/internal\/util\/ArraysSupport\")                                                          \\\n+  do_intrinsic(_vectorizedMismatch, jdk_internal_util_ArraysSupport, vectorizedMismatch_name, vectorizedMismatch_signature, F_S)\\\n+   do_name(vectorizedMismatch_name, \"vectorizedMismatch\")                                                               \\\n+   do_signature(vectorizedMismatch_signature, \"(Ljava\/lang\/Object;JLjava\/lang\/Object;JII)I\")                            \\\n+                                                                                                                        \\\n+  \/* java\/lang\/ref\/Reference *\/                                                                                         \\\n+  do_intrinsic(_Reference_get,            java_lang_ref_Reference, get_name,    void_object_signature, F_R)             \\\n+                                                                                                                        \\\n+  \/* support for com.sun.crypto.provider.AESCrypt and some of its callers *\/                                            \\\n+  do_class(com_sun_crypto_provider_aescrypt,      \"com\/sun\/crypto\/provider\/AESCrypt\")                                   \\\n+  do_intrinsic(_aescrypt_encryptBlock, com_sun_crypto_provider_aescrypt, encryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \\\n+  do_intrinsic(_aescrypt_decryptBlock, com_sun_crypto_provider_aescrypt, decryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \\\n+   do_name(     encryptBlock_name,                                 \"implEncryptBlock\")                                  \\\n+   do_name(     decryptBlock_name,                                 \"implDecryptBlock\")                                  \\\n+   do_signature(byteArray_int_byteArray_int_signature,             \"([BI[BI)V\")                                         \\\n+                                                                                                                        \\\n+  do_class(com_sun_crypto_provider_cipherBlockChaining,            \"com\/sun\/crypto\/provider\/CipherBlockChaining\")       \\\n+   do_intrinsic(_cipherBlockChaining_encryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, encrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n+   do_intrinsic(_cipherBlockChaining_decryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, decrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n+   do_name(     encrypt_name,                                      \"implEncrypt\")                                       \\\n+   do_name(     decrypt_name,                                      \"implDecrypt\")                                       \\\n+   do_signature(byteArray_int_int_byteArray_int_signature,         \"([BII[BI)I\")                                        \\\n+                                                                                                                        \\\n+  do_class(com_sun_crypto_provider_electronicCodeBook, \"com\/sun\/crypto\/provider\/ElectronicCodeBook\")                    \\\n+   do_intrinsic(_electronicCodeBook_encryptAESCrypt, com_sun_crypto_provider_electronicCodeBook, ecb_encrypt_name, byteArray_int_int_byteArray_int_signature, F_R)  \\\n+   do_intrinsic(_electronicCodeBook_decryptAESCrypt, com_sun_crypto_provider_electronicCodeBook, ecb_decrypt_name, byteArray_int_int_byteArray_int_signature, F_R)  \\\n+   do_name(ecb_encrypt_name, \"implECBEncrypt\")                                                                          \\\n+   do_name(ecb_decrypt_name, \"implECBDecrypt\")                                                                          \\\n+                                                                                                                        \\\n+  do_class(com_sun_crypto_provider_counterMode,      \"com\/sun\/crypto\/provider\/CounterMode\")                             \\\n+   do_intrinsic(_counterMode_AESCrypt, com_sun_crypto_provider_counterMode, crypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n+   do_name(     crypt_name,                                 \"implCrypt\")                                                    \\\n+                                                                                                                        \\\n+  \/* support for sun.security.provider.MD5 *\/                                                                           \\\n+  do_class(sun_security_provider_md5,                              \"sun\/security\/provider\/MD5\")                         \\\n+  do_intrinsic(_md5_implCompress, sun_security_provider_md5, implCompress_name, implCompress_signature, F_R)            \\\n+   do_name(     implCompress_name,                                 \"implCompress0\")                                     \\\n+   do_signature(implCompress_signature,                            \"([BI)V\")                                            \\\n+                                                                                                                        \\\n+  \/* support for sun.security.provider.SHA *\/                                                                           \\\n+  do_class(sun_security_provider_sha,                              \"sun\/security\/provider\/SHA\")                         \\\n+  do_intrinsic(_sha_implCompress, sun_security_provider_sha, implCompress_name, implCompress_signature, F_R)            \\\n+                                                                                                                        \\\n+  \/* support for sun.security.provider.SHA2 *\/                                                                          \\\n+  do_class(sun_security_provider_sha2,                             \"sun\/security\/provider\/SHA2\")                        \\\n+  do_intrinsic(_sha2_implCompress, sun_security_provider_sha2, implCompress_name, implCompress_signature, F_R)          \\\n+                                                                                                                        \\\n+  \/* support for sun.security.provider.SHA5 *\/                                                                          \\\n+  do_class(sun_security_provider_sha5,                             \"sun\/security\/provider\/SHA5\")                        \\\n+  do_intrinsic(_sha5_implCompress, sun_security_provider_sha5, implCompress_name, implCompress_signature, F_R)          \\\n+                                                                                                                        \\\n+  \/* support for sun.security.provider.DigestBase *\/                                                                    \\\n+  do_class(sun_security_provider_digestbase,                       \"sun\/security\/provider\/DigestBase\")                  \\\n+  do_intrinsic(_digestBase_implCompressMB, sun_security_provider_digestbase, implCompressMB_name, implCompressMB_signature, F_R)   \\\n+   do_name(     implCompressMB_name,                               \"implCompressMultiBlock0\")                           \\\n+   do_signature(implCompressMB_signature,                          \"([BII)I\")                                           \\\n+                                                                                                                        \\\n+   \/* support for java.util.Base64.Encoder*\/                                                                            \\\n+  do_class(java_util_Base64_Encoder, \"java\/util\/Base64$Encoder\")                                                        \\\n+  do_intrinsic(_base64_encodeBlock, java_util_Base64_Encoder, encodeBlock_name, encodeBlock_signature, F_R)             \\\n+  do_name(encodeBlock_name, \"encodeBlock\")                                                                              \\\n+  do_signature(encodeBlock_signature, \"([BII[BIZ)V\")                                                                    \\\n+                                                                                                                        \\\n+  \/* support for com.sun.crypto.provider.GHASH *\/                                                                       \\\n+  do_class(com_sun_crypto_provider_ghash, \"com\/sun\/crypto\/provider\/GHASH\")                                              \\\n+  do_intrinsic(_ghash_processBlocks, com_sun_crypto_provider_ghash, processBlocks_name, ghash_processBlocks_signature, F_S) \\\n+   do_name(processBlocks_name, \"processBlocks\")                                                                         \\\n+   do_signature(ghash_processBlocks_signature, \"([BII[J[J)V\")                                                           \\\n+                                                                                                                        \\\n+  \/* support for java.util.zip *\/                                                                                       \\\n+  do_class(java_util_zip_CRC32,           \"java\/util\/zip\/CRC32\")                                                        \\\n+  do_intrinsic(_updateCRC32,               java_util_zip_CRC32,   update_name, int2_int_signature,               F_SN)  \\\n+   do_name(     update_name,                                      \"update\")                                             \\\n+  do_intrinsic(_updateBytesCRC32,          java_util_zip_CRC32,   updateBytes_name, updateBytes_signature,       F_SN)  \\\n+   do_name(     updateBytes_name,                                \"updateBytes0\")                                        \\\n+   do_signature(updateBytes_signature,                           \"(I[BII)I\")                                            \\\n+  do_intrinsic(_updateByteBufferCRC32,     java_util_zip_CRC32,   updateByteBuffer_name, updateByteBuffer_signature, F_SN) \\\n+   do_name(     updateByteBuffer_name,                           \"updateByteBuffer0\")                                   \\\n+   do_signature(updateByteBuffer_signature,                      \"(IJII)I\")                                             \\\n+                                                                                                                        \\\n+  \/* support for java.util.zip.CRC32C *\/                                                                                \\\n+  do_class(java_util_zip_CRC32C,          \"java\/util\/zip\/CRC32C\")                                                       \\\n+  do_intrinsic(_updateBytesCRC32C,         java_util_zip_CRC32C,  updateBytes_C_name, updateBytes_signature,       F_S) \\\n+   do_name(     updateBytes_C_name,                               \"updateBytes\")                                        \\\n+  do_intrinsic(_updateDirectByteBufferCRC32C, java_util_zip_CRC32C, updateDirectByteBuffer_C_name, updateByteBuffer_signature, F_S) \\\n+   do_name(    updateDirectByteBuffer_C_name,                     \"updateDirectByteBuffer\")                             \\\n+                                                                                                                        \\\n+   \/* support for java.util.zip.Adler32 *\/                                                                              \\\n+  do_class(java_util_zip_Adler32,        \"java\/util\/zip\/Adler32\")                                                       \\\n+  do_intrinsic(_updateBytesAdler32,       java_util_zip_Adler32,  updateBytes_C_name,  updateBytes_signature,  F_SN)    \\\n+  do_intrinsic(_updateByteBufferAdler32,  java_util_zip_Adler32,  updateByteBuffer_A_name,  updateByteBuffer_signature,  F_SN) \\\n+   do_name(     updateByteBuffer_A_name,                          \"updateByteBuffer\")                                   \\\n+                                                                                                                        \\\n+  \/* support for UnsafeConstants *\/                                                                                     \\\n+  do_class(jdk_internal_misc_UnsafeConstants,      \"jdk\/internal\/misc\/UnsafeConstants\")                                 \\\n+                                                                                                                        \\\n+  \/* support for Unsafe *\/                                                                                              \\\n+  do_class(jdk_internal_misc_Unsafe,               \"jdk\/internal\/misc\/Unsafe\")                                          \\\n+  do_class(sun_misc_Unsafe,                        \"sun\/misc\/Unsafe\")                                                   \\\n+                                                                                                                        \\\n+  do_intrinsic(_writeback0,               jdk_internal_misc_Unsafe,     writeback0_name, long_void_signature , F_RN)             \\\n+   do_name(     writeback0_name,                                        \"writeback0\")                                            \\\n+  do_intrinsic(_writebackPreSync0,        jdk_internal_misc_Unsafe,     writebackPreSync0_name, void_method_signature , F_RN)    \\\n+   do_name(     writebackPreSync0_name,                                 \"writebackPreSync0\")                                     \\\n+  do_intrinsic(_writebackPostSync0,       jdk_internal_misc_Unsafe,    writebackPostSync0_name, void_method_signature , F_RN)    \\\n+   do_name(     writebackPostSync0_name,                                \"writebackPostSync0\")                                    \\\n+  do_intrinsic(_allocateInstance,         jdk_internal_misc_Unsafe,     allocateInstance_name, allocateInstance_signature, F_RN) \\\n+   do_name(     allocateInstance_name,                                  \"allocateInstance\")                                      \\\n+   do_signature(allocateInstance_signature,                             \"(Ljava\/lang\/Class;)Ljava\/lang\/Object;\")                 \\\n+  do_intrinsic(_allocateUninitializedArray, jdk_internal_misc_Unsafe,   allocateUninitializedArray_name, newArray_signature,  F_R) \\\n+   do_name(     allocateUninitializedArray_name,                        \"allocateUninitializedArray0\")                           \\\n+  do_intrinsic(_copyMemory,               jdk_internal_misc_Unsafe,     copyMemory_name, copyMemory_signature,         F_RN)     \\\n+   do_name(     copyMemory_name,                                        \"copyMemory0\")                                           \\\n+   do_signature(copyMemory_signature,                                   \"(Ljava\/lang\/Object;JLjava\/lang\/Object;JJ)V\")            \\\n+  do_intrinsic(_loadFence,                jdk_internal_misc_Unsafe,     loadFence_name, loadFence_signature,           F_RN)     \\\n+   do_name(     loadFence_name,                                         \"loadFence\")                                             \\\n+   do_alias(    loadFence_signature,                                    void_method_signature)                                   \\\n+  do_intrinsic(_storeFence,               jdk_internal_misc_Unsafe,     storeFence_name, storeFence_signature,         F_RN)     \\\n+   do_name(     storeFence_name,                                        \"storeFence\")                                            \\\n+   do_alias(    storeFence_signature,                                   void_method_signature)                                   \\\n+  do_intrinsic(_fullFence,                jdk_internal_misc_Unsafe,     fullFence_name, fullFence_signature,           F_RN)     \\\n+   do_name(     fullFence_name,                                         \"fullFence\")                                             \\\n+   do_alias(    fullFence_signature,                                    void_method_signature)                                   \\\n+                                                                                                                        \\\n+  \/* Custom branch frequencies profiling support for JSR292 *\/                                                          \\\n+  do_class(java_lang_invoke_MethodHandleImpl,               \"java\/lang\/invoke\/MethodHandleImpl\")                        \\\n+  do_intrinsic(_profileBoolean, java_lang_invoke_MethodHandleImpl, profileBoolean_name, profileBoolean_signature, F_S)  \\\n+   do_name(     profileBoolean_name,                             \"profileBoolean\")                                      \\\n+   do_signature(profileBoolean_signature,                        \"(Z[I)Z\")                                              \\\n+  do_intrinsic(_isCompileConstant, java_lang_invoke_MethodHandleImpl, isCompileConstant_name, isCompileConstant_signature, F_S) \\\n+   do_name(     isCompileConstant_name,                          \"isCompileConstant\")                                   \\\n+   do_alias(    isCompileConstant_signature,                      object_boolean_signature)                             \\\n+                                                                                                                        \\\n+  \/* unsafe memory references (there are a lot of them...) *\/                                                           \\\n+  do_signature(getReference_signature,    \"(Ljava\/lang\/Object;J)Ljava\/lang\/Object;\")                                    \\\n+  do_signature(putReference_signature,    \"(Ljava\/lang\/Object;JLjava\/lang\/Object;)V\")                                   \\\n+  do_signature(getBoolean_signature,      \"(Ljava\/lang\/Object;J)Z\")                                                     \\\n+  do_signature(putBoolean_signature,      \"(Ljava\/lang\/Object;JZ)V\")                                                    \\\n+  do_signature(getByte_signature,         \"(Ljava\/lang\/Object;J)B\")                                                     \\\n+  do_signature(putByte_signature,         \"(Ljava\/lang\/Object;JB)V\")                                                    \\\n+  do_signature(getShort_signature,        \"(Ljava\/lang\/Object;J)S\")                                                     \\\n+  do_signature(putShort_signature,        \"(Ljava\/lang\/Object;JS)V\")                                                    \\\n+  do_signature(getChar_signature,         \"(Ljava\/lang\/Object;J)C\")                                                     \\\n+  do_signature(putChar_signature,         \"(Ljava\/lang\/Object;JC)V\")                                                    \\\n+  do_signature(getInt_signature,          \"(Ljava\/lang\/Object;J)I\")                                                     \\\n+  do_signature(putInt_signature,          \"(Ljava\/lang\/Object;JI)V\")                                                    \\\n+  do_signature(getLong_signature,         \"(Ljava\/lang\/Object;J)J\")                                                     \\\n+  do_signature(putLong_signature,         \"(Ljava\/lang\/Object;JJ)V\")                                                    \\\n+  do_signature(getFloat_signature,        \"(Ljava\/lang\/Object;J)F\")                                                     \\\n+  do_signature(putFloat_signature,        \"(Ljava\/lang\/Object;JF)V\")                                                    \\\n+  do_signature(getDouble_signature,       \"(Ljava\/lang\/Object;J)D\")                                                     \\\n+  do_signature(putDouble_signature,       \"(Ljava\/lang\/Object;JD)V\")                                                    \\\n+  do_signature(getValue_signature,        \"(Ljava\/lang\/Object;JLjava\/lang\/Class;)Ljava\/lang\/Object;\")                   \\\n+  do_signature(putValue_signature,        \"(Ljava\/lang\/Object;JLjava\/lang\/Class;Ljava\/lang\/Object;)V\")                  \\\n+                                                                                                                        \\\n+  do_name(getReference_name,\"getReference\")     do_name(putReference_name,\"putReference\")                               \\\n+  do_name(getBoolean_name,\"getBoolean\")         do_name(putBoolean_name,\"putBoolean\")                                   \\\n+  do_name(getByte_name,\"getByte\")               do_name(putByte_name,\"putByte\")                                         \\\n+  do_name(getShort_name,\"getShort\")             do_name(putShort_name,\"putShort\")                                       \\\n+  do_name(getChar_name,\"getChar\")               do_name(putChar_name,\"putChar\")                                         \\\n+  do_name(getInt_name,\"getInt\")                 do_name(putInt_name,\"putInt\")                                           \\\n+  do_name(getLong_name,\"getLong\")               do_name(putLong_name,\"putLong\")                                         \\\n+  do_name(getFloat_name,\"getFloat\")             do_name(putFloat_name,\"putFloat\")                                       \\\n+  do_name(getDouble_name,\"getDouble\")           do_name(putDouble_name,\"putDouble\")                                     \\\n+  do_name(getValue_name,\"getValue\")             do_name(putValue_name,\"putValue\")                                       \\\n+  do_name(makePrivateBuffer_name,\"makePrivateBuffer\")                                                                   \\\n+  do_name(finishPrivateBuffer_name,\"finishPrivateBuffer\")                                                               \\\n+                                                                                                                        \\\n+  do_intrinsic(_getReference,       jdk_internal_misc_Unsafe,     getReference_name, getReference_signature,     F_RN)  \\\n+  do_intrinsic(_getBoolean,         jdk_internal_misc_Unsafe,     getBoolean_name, getBoolean_signature,         F_RN)  \\\n+  do_intrinsic(_getByte,            jdk_internal_misc_Unsafe,     getByte_name, getByte_signature,               F_RN)  \\\n+  do_intrinsic(_getShort,           jdk_internal_misc_Unsafe,     getShort_name, getShort_signature,             F_RN)  \\\n+  do_intrinsic(_getChar,            jdk_internal_misc_Unsafe,     getChar_name, getChar_signature,               F_RN)  \\\n+  do_intrinsic(_getInt,             jdk_internal_misc_Unsafe,     getInt_name, getInt_signature,                 F_RN)  \\\n+  do_intrinsic(_getLong,            jdk_internal_misc_Unsafe,     getLong_name, getLong_signature,               F_RN)  \\\n+  do_intrinsic(_getFloat,           jdk_internal_misc_Unsafe,     getFloat_name, getFloat_signature,             F_RN)  \\\n+  do_intrinsic(_getDouble,          jdk_internal_misc_Unsafe,     getDouble_name, getDouble_signature,           F_RN)  \\\n+  do_intrinsic(_getValue,           jdk_internal_misc_Unsafe,     getValue_name, getValue_signature,             F_RN)  \\\n+  do_intrinsic(_putReference,       jdk_internal_misc_Unsafe,     putReference_name, putReference_signature,     F_RN)  \\\n+  do_intrinsic(_putBoolean,         jdk_internal_misc_Unsafe,     putBoolean_name, putBoolean_signature,         F_RN)  \\\n+  do_intrinsic(_putByte,            jdk_internal_misc_Unsafe,     putByte_name, putByte_signature,               F_RN)  \\\n+  do_intrinsic(_putShort,           jdk_internal_misc_Unsafe,     putShort_name, putShort_signature,             F_RN)  \\\n+  do_intrinsic(_putChar,            jdk_internal_misc_Unsafe,     putChar_name, putChar_signature,               F_RN)  \\\n+  do_intrinsic(_putInt,             jdk_internal_misc_Unsafe,     putInt_name, putInt_signature,                 F_RN)  \\\n+  do_intrinsic(_putLong,            jdk_internal_misc_Unsafe,     putLong_name, putLong_signature,               F_RN)  \\\n+  do_intrinsic(_putFloat,           jdk_internal_misc_Unsafe,     putFloat_name, putFloat_signature,             F_RN)  \\\n+  do_intrinsic(_putDouble,          jdk_internal_misc_Unsafe,     putDouble_name, putDouble_signature,           F_RN)  \\\n+  do_intrinsic(_putValue,           jdk_internal_misc_Unsafe,     putValue_name, putValue_signature,             F_RN)  \\\n+                                                                                                                        \\\n+  do_intrinsic(_makePrivateBuffer,  jdk_internal_misc_Unsafe,     makePrivateBuffer_name, object_object_signature, F_RN)   \\\n+  do_intrinsic(_finishPrivateBuffer,  jdk_internal_misc_Unsafe,   finishPrivateBuffer_name, object_object_signature, F_RN) \\\n+                                                                                                                        \\\n+  do_name(getReferenceVolatile_name,\"getReferenceVolatile\")   do_name(putReferenceVolatile_name,\"putReferenceVolatile\") \\\n+  do_name(getBooleanVolatile_name,\"getBooleanVolatile\")       do_name(putBooleanVolatile_name,\"putBooleanVolatile\")     \\\n+  do_name(getByteVolatile_name,\"getByteVolatile\")             do_name(putByteVolatile_name,\"putByteVolatile\")           \\\n+  do_name(getShortVolatile_name,\"getShortVolatile\")           do_name(putShortVolatile_name,\"putShortVolatile\")         \\\n+  do_name(getCharVolatile_name,\"getCharVolatile\")             do_name(putCharVolatile_name,\"putCharVolatile\")           \\\n+  do_name(getIntVolatile_name,\"getIntVolatile\")               do_name(putIntVolatile_name,\"putIntVolatile\")             \\\n+  do_name(getLongVolatile_name,\"getLongVolatile\")             do_name(putLongVolatile_name,\"putLongVolatile\")           \\\n+  do_name(getFloatVolatile_name,\"getFloatVolatile\")           do_name(putFloatVolatile_name,\"putFloatVolatile\")         \\\n+  do_name(getDoubleVolatile_name,\"getDoubleVolatile\")         do_name(putDoubleVolatile_name,\"putDoubleVolatile\")       \\\n+                                                                                                                        \\\n+  do_intrinsic(_getReferenceVolatile,     jdk_internal_misc_Unsafe,     getReferenceVolatile_name, getReference_signature, F_RN)  \\\n+  do_intrinsic(_getBooleanVolatile,       jdk_internal_misc_Unsafe,     getBooleanVolatile_name, getBoolean_signature,     F_RN)  \\\n+  do_intrinsic(_getByteVolatile,          jdk_internal_misc_Unsafe,     getByteVolatile_name, getByte_signature,           F_RN)  \\\n+  do_intrinsic(_getShortVolatile,         jdk_internal_misc_Unsafe,     getShortVolatile_name, getShort_signature,         F_RN)  \\\n+  do_intrinsic(_getCharVolatile,          jdk_internal_misc_Unsafe,     getCharVolatile_name, getChar_signature,           F_RN)  \\\n+  do_intrinsic(_getIntVolatile,           jdk_internal_misc_Unsafe,     getIntVolatile_name, getInt_signature,             F_RN)  \\\n+  do_intrinsic(_getLongVolatile,          jdk_internal_misc_Unsafe,     getLongVolatile_name, getLong_signature,           F_RN)  \\\n+  do_intrinsic(_getFloatVolatile,         jdk_internal_misc_Unsafe,     getFloatVolatile_name, getFloat_signature,         F_RN)  \\\n+  do_intrinsic(_getDoubleVolatile,        jdk_internal_misc_Unsafe,     getDoubleVolatile_name, getDouble_signature,       F_RN)  \\\n+  do_intrinsic(_putReferenceVolatile,     jdk_internal_misc_Unsafe,     putReferenceVolatile_name, putReference_signature, F_RN)  \\\n+  do_intrinsic(_putBooleanVolatile,       jdk_internal_misc_Unsafe,     putBooleanVolatile_name, putBoolean_signature,     F_RN)  \\\n+  do_intrinsic(_putByteVolatile,          jdk_internal_misc_Unsafe,     putByteVolatile_name, putByte_signature,           F_RN)  \\\n+  do_intrinsic(_putShortVolatile,         jdk_internal_misc_Unsafe,     putShortVolatile_name, putShort_signature,         F_RN)  \\\n+  do_intrinsic(_putCharVolatile,          jdk_internal_misc_Unsafe,     putCharVolatile_name, putChar_signature,           F_RN)  \\\n+  do_intrinsic(_putIntVolatile,           jdk_internal_misc_Unsafe,     putIntVolatile_name, putInt_signature,             F_RN)  \\\n+  do_intrinsic(_putLongVolatile,          jdk_internal_misc_Unsafe,     putLongVolatile_name, putLong_signature,           F_RN)  \\\n+  do_intrinsic(_putFloatVolatile,         jdk_internal_misc_Unsafe,     putFloatVolatile_name, putFloat_signature,         F_RN)  \\\n+  do_intrinsic(_putDoubleVolatile,        jdk_internal_misc_Unsafe,     putDoubleVolatile_name, putDouble_signature,       F_RN)  \\\n+                                                                                                                        \\\n+  do_name(getReferenceOpaque_name,\"getReferenceOpaque\") do_name(putReferenceOpaque_name,\"putReferenceOpaque\")           \\\n+  do_name(getBooleanOpaque_name,\"getBooleanOpaque\")     do_name(putBooleanOpaque_name,\"putBooleanOpaque\")               \\\n+  do_name(getByteOpaque_name,\"getByteOpaque\")           do_name(putByteOpaque_name,\"putByteOpaque\")                     \\\n+  do_name(getShortOpaque_name,\"getShortOpaque\")         do_name(putShortOpaque_name,\"putShortOpaque\")                   \\\n+  do_name(getCharOpaque_name,\"getCharOpaque\")           do_name(putCharOpaque_name,\"putCharOpaque\")                     \\\n+  do_name(getIntOpaque_name,\"getIntOpaque\")             do_name(putIntOpaque_name,\"putIntOpaque\")                       \\\n+  do_name(getLongOpaque_name,\"getLongOpaque\")           do_name(putLongOpaque_name,\"putLongOpaque\")                     \\\n+  do_name(getFloatOpaque_name,\"getFloatOpaque\")         do_name(putFloatOpaque_name,\"putFloatOpaque\")                   \\\n+  do_name(getDoubleOpaque_name,\"getDoubleOpaque\")       do_name(putDoubleOpaque_name,\"putDoubleOpaque\")                 \\\n+                                                                                                                        \\\n+  do_intrinsic(_getReferenceOpaque,       jdk_internal_misc_Unsafe,        getReferenceOpaque_name, getReference_signature, F_R)  \\\n+  do_intrinsic(_getBooleanOpaque,         jdk_internal_misc_Unsafe,        getBooleanOpaque_name, getBoolean_signature,     F_R)  \\\n+  do_intrinsic(_getByteOpaque,            jdk_internal_misc_Unsafe,        getByteOpaque_name, getByte_signature,           F_R)  \\\n+  do_intrinsic(_getShortOpaque,           jdk_internal_misc_Unsafe,        getShortOpaque_name, getShort_signature,         F_R)  \\\n+  do_intrinsic(_getCharOpaque,            jdk_internal_misc_Unsafe,        getCharOpaque_name, getChar_signature,           F_R)  \\\n+  do_intrinsic(_getIntOpaque,             jdk_internal_misc_Unsafe,        getIntOpaque_name, getInt_signature,             F_R)  \\\n+  do_intrinsic(_getLongOpaque,            jdk_internal_misc_Unsafe,        getLongOpaque_name, getLong_signature,           F_R)  \\\n+  do_intrinsic(_getFloatOpaque,           jdk_internal_misc_Unsafe,        getFloatOpaque_name, getFloat_signature,         F_R)  \\\n+  do_intrinsic(_getDoubleOpaque,          jdk_internal_misc_Unsafe,        getDoubleOpaque_name, getDouble_signature,       F_R)  \\\n+  do_intrinsic(_putReferenceOpaque,       jdk_internal_misc_Unsafe,        putReferenceOpaque_name, putReference_signature, F_R)  \\\n+  do_intrinsic(_putBooleanOpaque,         jdk_internal_misc_Unsafe,        putBooleanOpaque_name, putBoolean_signature,     F_R)  \\\n+  do_intrinsic(_putByteOpaque,            jdk_internal_misc_Unsafe,        putByteOpaque_name, putByte_signature,           F_R)  \\\n+  do_intrinsic(_putShortOpaque,           jdk_internal_misc_Unsafe,        putShortOpaque_name, putShort_signature,         F_R)  \\\n+  do_intrinsic(_putCharOpaque,            jdk_internal_misc_Unsafe,        putCharOpaque_name, putChar_signature,           F_R)  \\\n+  do_intrinsic(_putIntOpaque,             jdk_internal_misc_Unsafe,        putIntOpaque_name, putInt_signature,             F_R)  \\\n+  do_intrinsic(_putLongOpaque,            jdk_internal_misc_Unsafe,        putLongOpaque_name, putLong_signature,           F_R)  \\\n+  do_intrinsic(_putFloatOpaque,           jdk_internal_misc_Unsafe,        putFloatOpaque_name, putFloat_signature,         F_R)  \\\n+  do_intrinsic(_putDoubleOpaque,          jdk_internal_misc_Unsafe,        putDoubleOpaque_name, putDouble_signature,       F_R)  \\\n+                                                                                                                        \\\n+  do_name(getReferenceAcquire_name,  \"getReferenceAcquire\") do_name(putReferenceRelease_name,  \"putReferenceRelease\")   \\\n+  do_name(getBooleanAcquire_name, \"getBooleanAcquire\")      do_name(putBooleanRelease_name, \"putBooleanRelease\")        \\\n+  do_name(getByteAcquire_name,    \"getByteAcquire\")         do_name(putByteRelease_name,    \"putByteRelease\")           \\\n+  do_name(getShortAcquire_name,   \"getShortAcquire\")        do_name(putShortRelease_name,   \"putShortRelease\")          \\\n+  do_name(getCharAcquire_name,    \"getCharAcquire\")         do_name(putCharRelease_name,    \"putCharRelease\")           \\\n+  do_name(getIntAcquire_name,     \"getIntAcquire\")          do_name(putIntRelease_name,     \"putIntRelease\")            \\\n+  do_name(getLongAcquire_name,    \"getLongAcquire\")         do_name(putLongRelease_name,    \"putLongRelease\")           \\\n+  do_name(getFloatAcquire_name,   \"getFloatAcquire\")        do_name(putFloatRelease_name,   \"putFloatRelease\")          \\\n+  do_name(getDoubleAcquire_name,  \"getDoubleAcquire\")       do_name(putDoubleRelease_name,  \"putDoubleRelease\")         \\\n+                                                                                                                        \\\n+  do_intrinsic(_getReferenceAcquire,     jdk_internal_misc_Unsafe,        getReferenceAcquire_name, getReference_signature, F_R)  \\\n+  do_intrinsic(_getBooleanAcquire,       jdk_internal_misc_Unsafe,        getBooleanAcquire_name, getBoolean_signature,     F_R)  \\\n+  do_intrinsic(_getByteAcquire,          jdk_internal_misc_Unsafe,        getByteAcquire_name, getByte_signature,           F_R)  \\\n+  do_intrinsic(_getShortAcquire,         jdk_internal_misc_Unsafe,        getShortAcquire_name, getShort_signature,         F_R)  \\\n+  do_intrinsic(_getCharAcquire,          jdk_internal_misc_Unsafe,        getCharAcquire_name, getChar_signature,           F_R)  \\\n+  do_intrinsic(_getIntAcquire,           jdk_internal_misc_Unsafe,        getIntAcquire_name, getInt_signature,             F_R)  \\\n+  do_intrinsic(_getLongAcquire,          jdk_internal_misc_Unsafe,        getLongAcquire_name, getLong_signature,           F_R)  \\\n+  do_intrinsic(_getFloatAcquire,         jdk_internal_misc_Unsafe,        getFloatAcquire_name, getFloat_signature,         F_R)  \\\n+  do_intrinsic(_getDoubleAcquire,        jdk_internal_misc_Unsafe,        getDoubleAcquire_name, getDouble_signature,       F_R)  \\\n+  do_intrinsic(_putReferenceRelease,     jdk_internal_misc_Unsafe,        putReferenceRelease_name, putReference_signature, F_R)  \\\n+  do_intrinsic(_putBooleanRelease,       jdk_internal_misc_Unsafe,        putBooleanRelease_name, putBoolean_signature,     F_R)  \\\n+  do_intrinsic(_putByteRelease,          jdk_internal_misc_Unsafe,        putByteRelease_name, putByte_signature,           F_R)  \\\n+  do_intrinsic(_putShortRelease,         jdk_internal_misc_Unsafe,        putShortRelease_name, putShort_signature,         F_R)  \\\n+  do_intrinsic(_putCharRelease,          jdk_internal_misc_Unsafe,        putCharRelease_name, putChar_signature,           F_R)  \\\n+  do_intrinsic(_putIntRelease,           jdk_internal_misc_Unsafe,        putIntRelease_name, putInt_signature,             F_R)  \\\n+  do_intrinsic(_putLongRelease,          jdk_internal_misc_Unsafe,        putLongRelease_name, putLong_signature,           F_R)  \\\n+  do_intrinsic(_putFloatRelease,         jdk_internal_misc_Unsafe,        putFloatRelease_name, putFloat_signature,         F_R)  \\\n+  do_intrinsic(_putDoubleRelease,        jdk_internal_misc_Unsafe,        putDoubleRelease_name, putDouble_signature,       F_R)  \\\n+                                                                                                                        \\\n+  do_name(getShortUnaligned_name,\"getShortUnaligned\")     do_name(putShortUnaligned_name,\"putShortUnaligned\")           \\\n+  do_name(getCharUnaligned_name,\"getCharUnaligned\")       do_name(putCharUnaligned_name,\"putCharUnaligned\")             \\\n+  do_name(getIntUnaligned_name,\"getIntUnaligned\")         do_name(putIntUnaligned_name,\"putIntUnaligned\")               \\\n+  do_name(getLongUnaligned_name,\"getLongUnaligned\")       do_name(putLongUnaligned_name,\"putLongUnaligned\")             \\\n+                                                                                                                        \\\n+  do_intrinsic(_getShortUnaligned,         jdk_internal_misc_Unsafe,    getShortUnaligned_name, getShort_signature,     F_R)  \\\n+  do_intrinsic(_getCharUnaligned,          jdk_internal_misc_Unsafe,    getCharUnaligned_name, getChar_signature,       F_R)  \\\n+  do_intrinsic(_getIntUnaligned,           jdk_internal_misc_Unsafe,    getIntUnaligned_name, getInt_signature,         F_R)  \\\n+  do_intrinsic(_getLongUnaligned,          jdk_internal_misc_Unsafe,    getLongUnaligned_name, getLong_signature,       F_R)  \\\n+  do_intrinsic(_putShortUnaligned,         jdk_internal_misc_Unsafe,    putShortUnaligned_name, putShort_signature,     F_R)  \\\n+  do_intrinsic(_putCharUnaligned,          jdk_internal_misc_Unsafe,    putCharUnaligned_name, putChar_signature,       F_R)  \\\n+  do_intrinsic(_putIntUnaligned,           jdk_internal_misc_Unsafe,    putIntUnaligned_name, putInt_signature,         F_R)  \\\n+  do_intrinsic(_putLongUnaligned,          jdk_internal_misc_Unsafe,    putLongUnaligned_name, putLong_signature,       F_R)  \\\n+                                                                                                                        \\\n+  do_signature(compareAndSetReference_signature,      \"(Ljava\/lang\/Object;JLjava\/lang\/Object;Ljava\/lang\/Object;)Z\")        \\\n+  do_signature(compareAndExchangeReference_signature, \"(Ljava\/lang\/Object;JLjava\/lang\/Object;Ljava\/lang\/Object;)Ljava\/lang\/Object;\") \\\n+  do_signature(compareAndSetLong_signature,        \"(Ljava\/lang\/Object;JJJ)Z\")                                          \\\n+  do_signature(compareAndExchangeLong_signature,   \"(Ljava\/lang\/Object;JJJ)J\")                                          \\\n+  do_signature(compareAndSetInt_signature,         \"(Ljava\/lang\/Object;JII)Z\")                                          \\\n+  do_signature(compareAndExchangeInt_signature,    \"(Ljava\/lang\/Object;JII)I\")                                          \\\n+  do_signature(compareAndSetByte_signature,        \"(Ljava\/lang\/Object;JBB)Z\")                                          \\\n+  do_signature(compareAndExchangeByte_signature,   \"(Ljava\/lang\/Object;JBB)B\")                                          \\\n+  do_signature(compareAndSetShort_signature,       \"(Ljava\/lang\/Object;JSS)Z\")                                          \\\n+  do_signature(compareAndExchangeShort_signature,  \"(Ljava\/lang\/Object;JSS)S\")                                          \\\n+                                                                                                                        \\\n+  do_name(compareAndSetReference_name,              \"compareAndSetReference\")                                           \\\n+  do_name(compareAndExchangeReference_name,         \"compareAndExchangeReference\")                                      \\\n+  do_name(compareAndExchangeReferenceAcquire_name,  \"compareAndExchangeReferenceAcquire\")                               \\\n+  do_name(compareAndExchangeReferenceRelease_name,  \"compareAndExchangeReferenceRelease\")                               \\\n+  do_name(compareAndSetLong_name,                   \"compareAndSetLong\")                                                \\\n+  do_name(compareAndExchangeLong_name,              \"compareAndExchangeLong\")                                           \\\n+  do_name(compareAndExchangeLongAcquire_name,       \"compareAndExchangeLongAcquire\")                                    \\\n+  do_name(compareAndExchangeLongRelease_name,       \"compareAndExchangeLongRelease\")                                    \\\n+  do_name(compareAndSetInt_name,                    \"compareAndSetInt\")                                                 \\\n+  do_name(compareAndExchangeInt_name,               \"compareAndExchangeInt\")                                            \\\n+  do_name(compareAndExchangeIntAcquire_name,        \"compareAndExchangeIntAcquire\")                                     \\\n+  do_name(compareAndExchangeIntRelease_name,        \"compareAndExchangeIntRelease\")                                     \\\n+  do_name(compareAndSetByte_name,                   \"compareAndSetByte\")                                                \\\n+  do_name(compareAndExchangeByte_name,              \"compareAndExchangeByte\")                                           \\\n+  do_name(compareAndExchangeByteAcquire_name,       \"compareAndExchangeByteAcquire\")                                    \\\n+  do_name(compareAndExchangeByteRelease_name,       \"compareAndExchangeByteRelease\")                                    \\\n+  do_name(compareAndSetShort_name,                  \"compareAndSetShort\")                                               \\\n+  do_name(compareAndExchangeShort_name,             \"compareAndExchangeShort\")                                          \\\n+  do_name(compareAndExchangeShortAcquire_name,      \"compareAndExchangeShortAcquire\")                                   \\\n+  do_name(compareAndExchangeShortRelease_name,      \"compareAndExchangeShortRelease\")                                   \\\n+                                                                                                                        \\\n+  do_name(weakCompareAndSetReferencePlain_name,     \"weakCompareAndSetReferencePlain\")                                  \\\n+  do_name(weakCompareAndSetReferenceAcquire_name,   \"weakCompareAndSetReferenceAcquire\")                                \\\n+  do_name(weakCompareAndSetReferenceRelease_name,   \"weakCompareAndSetReferenceRelease\")                                \\\n+  do_name(weakCompareAndSetReference_name,          \"weakCompareAndSetReference\")                                       \\\n+  do_name(weakCompareAndSetLongPlain_name,          \"weakCompareAndSetLongPlain\")                                       \\\n+  do_name(weakCompareAndSetLongAcquire_name,        \"weakCompareAndSetLongAcquire\")                                     \\\n+  do_name(weakCompareAndSetLongRelease_name,        \"weakCompareAndSetLongRelease\")                                     \\\n+  do_name(weakCompareAndSetLong_name,               \"weakCompareAndSetLong\")                                            \\\n+  do_name(weakCompareAndSetIntPlain_name,           \"weakCompareAndSetIntPlain\")                                        \\\n+  do_name(weakCompareAndSetIntAcquire_name,         \"weakCompareAndSetIntAcquire\")                                      \\\n+  do_name(weakCompareAndSetIntRelease_name,         \"weakCompareAndSetIntRelease\")                                      \\\n+  do_name(weakCompareAndSetInt_name,                \"weakCompareAndSetInt\")                                             \\\n+  do_name(weakCompareAndSetBytePlain_name,          \"weakCompareAndSetBytePlain\")                                       \\\n+  do_name(weakCompareAndSetByteAcquire_name,        \"weakCompareAndSetByteAcquire\")                                     \\\n+  do_name(weakCompareAndSetByteRelease_name,        \"weakCompareAndSetByteRelease\")                                     \\\n+  do_name(weakCompareAndSetByte_name,               \"weakCompareAndSetByte\")                                            \\\n+  do_name(weakCompareAndSetShortPlain_name,         \"weakCompareAndSetShortPlain\")                                      \\\n+  do_name(weakCompareAndSetShortAcquire_name,       \"weakCompareAndSetShortAcquire\")                                    \\\n+  do_name(weakCompareAndSetShortRelease_name,       \"weakCompareAndSetShortRelease\")                                    \\\n+  do_name(weakCompareAndSetShort_name,              \"weakCompareAndSetShort\")                                           \\\n+                                                                                                                        \\\n+  do_intrinsic(_compareAndSetReference,              jdk_internal_misc_Unsafe,  compareAndSetReference_name,              compareAndSetReference_signature,      F_RN) \\\n+  do_intrinsic(_compareAndExchangeReference,         jdk_internal_misc_Unsafe,  compareAndExchangeReference_name,         compareAndExchangeReference_signature, F_RN) \\\n+  do_intrinsic(_compareAndExchangeReferenceAcquire,  jdk_internal_misc_Unsafe,  compareAndExchangeReferenceAcquire_name,  compareAndExchangeReference_signature, F_R)  \\\n+  do_intrinsic(_compareAndExchangeReferenceRelease,  jdk_internal_misc_Unsafe,  compareAndExchangeReferenceRelease_name,  compareAndExchangeReference_signature, F_R)  \\\n+  do_intrinsic(_compareAndSetLong,                jdk_internal_misc_Unsafe,  compareAndSetLong_name,                compareAndSetLong_signature,        F_RN) \\\n+  do_intrinsic(_compareAndExchangeLong,           jdk_internal_misc_Unsafe,  compareAndExchangeLong_name,           compareAndExchangeLong_signature,   F_RN) \\\n+  do_intrinsic(_compareAndExchangeLongAcquire,    jdk_internal_misc_Unsafe,  compareAndExchangeLongAcquire_name,    compareAndExchangeLong_signature,   F_R)  \\\n+  do_intrinsic(_compareAndExchangeLongRelease,    jdk_internal_misc_Unsafe,  compareAndExchangeLongRelease_name,    compareAndExchangeLong_signature,   F_R)  \\\n+  do_intrinsic(_compareAndSetInt,                 jdk_internal_misc_Unsafe,  compareAndSetInt_name,                 compareAndSetInt_signature,         F_RN) \\\n+  do_intrinsic(_compareAndExchangeInt,            jdk_internal_misc_Unsafe,  compareAndExchangeInt_name,            compareAndExchangeInt_signature,    F_RN) \\\n+  do_intrinsic(_compareAndExchangeIntAcquire,     jdk_internal_misc_Unsafe,  compareAndExchangeIntAcquire_name,     compareAndExchangeInt_signature,    F_R)  \\\n+  do_intrinsic(_compareAndExchangeIntRelease,     jdk_internal_misc_Unsafe,  compareAndExchangeIntRelease_name,     compareAndExchangeInt_signature,    F_R)  \\\n+  do_intrinsic(_compareAndSetByte,                jdk_internal_misc_Unsafe,  compareAndSetByte_name,                compareAndSetByte_signature,        F_R)  \\\n+  do_intrinsic(_compareAndExchangeByte,           jdk_internal_misc_Unsafe,  compareAndExchangeByte_name,           compareAndExchangeByte_signature,   F_R)  \\\n+  do_intrinsic(_compareAndExchangeByteAcquire,    jdk_internal_misc_Unsafe,  compareAndExchangeByteAcquire_name,    compareAndExchangeByte_signature,   F_R)  \\\n+  do_intrinsic(_compareAndExchangeByteRelease,    jdk_internal_misc_Unsafe,  compareAndExchangeByteRelease_name,    compareAndExchangeByte_signature,   F_R)  \\\n+  do_intrinsic(_compareAndSetShort,               jdk_internal_misc_Unsafe,  compareAndSetShort_name,               compareAndSetShort_signature,       F_R)  \\\n+  do_intrinsic(_compareAndExchangeShort,          jdk_internal_misc_Unsafe,  compareAndExchangeShort_name,          compareAndExchangeShort_signature,  F_R)  \\\n+  do_intrinsic(_compareAndExchangeShortAcquire,   jdk_internal_misc_Unsafe,  compareAndExchangeShortAcquire_name,   compareAndExchangeShort_signature,  F_R)  \\\n+  do_intrinsic(_compareAndExchangeShortRelease,   jdk_internal_misc_Unsafe,  compareAndExchangeShortRelease_name,   compareAndExchangeShort_signature,  F_R)  \\\n+                                                                                                                                                             \\\n+  do_intrinsic(_weakCompareAndSetReferencePlain,  jdk_internal_misc_Unsafe,  weakCompareAndSetReferencePlain_name,     compareAndSetReference_signature,      F_R) \\\n+  do_intrinsic(_weakCompareAndSetReferenceAcquire,jdk_internal_misc_Unsafe,  weakCompareAndSetReferenceAcquire_name,   compareAndSetReference_signature,      F_R) \\\n+  do_intrinsic(_weakCompareAndSetReferenceRelease,jdk_internal_misc_Unsafe,  weakCompareAndSetReferenceRelease_name,   compareAndSetReference_signature,      F_R) \\\n+  do_intrinsic(_weakCompareAndSetReference,       jdk_internal_misc_Unsafe,  weakCompareAndSetReference_name,          compareAndSetReference_signature,      F_R) \\\n+  do_intrinsic(_weakCompareAndSetLongPlain,       jdk_internal_misc_Unsafe,  weakCompareAndSetLongPlain_name,       compareAndSetLong_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetLongAcquire,     jdk_internal_misc_Unsafe,  weakCompareAndSetLongAcquire_name,     compareAndSetLong_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetLongRelease,     jdk_internal_misc_Unsafe,  weakCompareAndSetLongRelease_name,     compareAndSetLong_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetLong,            jdk_internal_misc_Unsafe,  weakCompareAndSetLong_name,            compareAndSetLong_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetIntPlain,        jdk_internal_misc_Unsafe,  weakCompareAndSetIntPlain_name,        compareAndSetInt_signature,         F_R) \\\n+  do_intrinsic(_weakCompareAndSetIntAcquire,      jdk_internal_misc_Unsafe,  weakCompareAndSetIntAcquire_name,      compareAndSetInt_signature,         F_R) \\\n+  do_intrinsic(_weakCompareAndSetIntRelease,      jdk_internal_misc_Unsafe,  weakCompareAndSetIntRelease_name,      compareAndSetInt_signature,         F_R) \\\n+  do_intrinsic(_weakCompareAndSetInt,             jdk_internal_misc_Unsafe,  weakCompareAndSetInt_name,             compareAndSetInt_signature,         F_R) \\\n+  do_intrinsic(_weakCompareAndSetBytePlain,       jdk_internal_misc_Unsafe,  weakCompareAndSetBytePlain_name,       compareAndSetByte_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetByteAcquire,     jdk_internal_misc_Unsafe,  weakCompareAndSetByteAcquire_name,     compareAndSetByte_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetByteRelease,     jdk_internal_misc_Unsafe,  weakCompareAndSetByteRelease_name,     compareAndSetByte_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetByte,            jdk_internal_misc_Unsafe,  weakCompareAndSetByte_name,            compareAndSetByte_signature,        F_R) \\\n+  do_intrinsic(_weakCompareAndSetShortPlain,      jdk_internal_misc_Unsafe,  weakCompareAndSetShortPlain_name,      compareAndSetShort_signature,       F_R) \\\n+  do_intrinsic(_weakCompareAndSetShortAcquire,    jdk_internal_misc_Unsafe,  weakCompareAndSetShortAcquire_name,    compareAndSetShort_signature,       F_R) \\\n+  do_intrinsic(_weakCompareAndSetShortRelease,    jdk_internal_misc_Unsafe,  weakCompareAndSetShortRelease_name,    compareAndSetShort_signature,       F_R) \\\n+  do_intrinsic(_weakCompareAndSetShort,           jdk_internal_misc_Unsafe,  weakCompareAndSetShort_name,           compareAndSetShort_signature,       F_R) \\\n+                           \\\n+  do_intrinsic(_getAndAddInt,             jdk_internal_misc_Unsafe,     getAndAddInt_name, getAndAddInt_signature, F_R)       \\\n+   do_name(     getAndAddInt_name,                                      \"getAndAddInt\")                                       \\\n+   do_signature(getAndAddInt_signature,                                 \"(Ljava\/lang\/Object;JI)I\" )                           \\\n+  do_intrinsic(_getAndAddLong,            jdk_internal_misc_Unsafe,     getAndAddLong_name, getAndAddLong_signature, F_R)     \\\n+   do_name(     getAndAddLong_name,                                     \"getAndAddLong\")                                      \\\n+   do_signature(getAndAddLong_signature,                                \"(Ljava\/lang\/Object;JJ)J\" )                           \\\n+  do_intrinsic(_getAndAddByte,            jdk_internal_misc_Unsafe,     getAndAddByte_name, getAndAddByte_signature, F_R)     \\\n+   do_name(     getAndAddByte_name,                                     \"getAndAddByte\")                                      \\\n+   do_signature(getAndAddByte_signature,                                \"(Ljava\/lang\/Object;JB)B\" )                           \\\n+  do_intrinsic(_getAndAddShort,           jdk_internal_misc_Unsafe,     getAndAddShort_name, getAndAddShort_signature, F_R)   \\\n+   do_name(     getAndAddShort_name,                                    \"getAndAddShort\")                                     \\\n+   do_signature(getAndAddShort_signature,                               \"(Ljava\/lang\/Object;JS)S\" )                           \\\n+  do_intrinsic(_getAndSetInt,             jdk_internal_misc_Unsafe,     getAndSetInt_name, getAndSetInt_signature, F_R)       \\\n+   do_name(     getAndSetInt_name,                                      \"getAndSetInt\")                                       \\\n+   do_alias(    getAndSetInt_signature,                                 \/*\"(Ljava\/lang\/Object;JI)I\"*\/ getAndAddInt_signature)   \\\n+  do_intrinsic(_getAndSetLong,            jdk_internal_misc_Unsafe,     getAndSetLong_name, getAndSetLong_signature, F_R)     \\\n+   do_name(     getAndSetLong_name,                                     \"getAndSetLong\")                                      \\\n+   do_alias(    getAndSetLong_signature,                                \/*\"(Ljava\/lang\/Object;JJ)J\"*\/ getAndAddLong_signature)  \\\n+  do_intrinsic(_getAndSetByte,            jdk_internal_misc_Unsafe,     getAndSetByte_name, getAndSetByte_signature, F_R)     \\\n+   do_name(     getAndSetByte_name,                                     \"getAndSetByte\")                                      \\\n+   do_alias(    getAndSetByte_signature,                                \/*\"(Ljava\/lang\/Object;JB)B\"*\/ getAndAddByte_signature)  \\\n+  do_intrinsic(_getAndSetShort,           jdk_internal_misc_Unsafe,     getAndSetShort_name, getAndSetShort_signature, F_R)   \\\n+   do_name(     getAndSetShort_name,                                    \"getAndSetShort\")                                     \\\n+   do_alias(    getAndSetShort_signature,                               \/*\"(Ljava\/lang\/Object;JS)S\"*\/ getAndAddShort_signature) \\\n+  do_intrinsic(_getAndSetReference,       jdk_internal_misc_Unsafe,     getAndSetReference_name, getAndSetReference_signature, F_R) \\\n+   do_name(     getAndSetReference_name,                                \"getAndSetReference\")                                  \\\n+   do_signature(getAndSetReference_signature,                           \"(Ljava\/lang\/Object;JLjava\/lang\/Object;)Ljava\/lang\/Object;\" ) \\\n+                                                                                                                               \\\n+   \/* (2) Bytecode intrinsics                                                                        *\/                        \\\n+                                                                                                                               \\\n+  do_intrinsic(_park,                     jdk_internal_misc_Unsafe,     park_name, park_signature,                     F_R)    \\\n+   do_name(     park_name,                                              \"park\")                                                \\\n+   do_signature(park_signature,                                         \"(ZJ)V\")                                               \\\n+  do_intrinsic(_unpark,                   jdk_internal_misc_Unsafe,     unpark_name, unpark_signature,                 F_R)    \\\n+   do_name(     unpark_name,                                            \"unpark\")                                              \\\n+   do_alias(    unpark_signature,                                       \/*(LObject;)V*\/ object_void_signature)                 \\\n+                                                                                                                               \\\n+  do_intrinsic(_StringBuilder_void,   java_lang_StringBuilder, object_initializer_name, void_method_signature,     F_R)   \\\n+  do_intrinsic(_StringBuilder_int,    java_lang_StringBuilder, object_initializer_name, int_void_signature,        F_R)   \\\n+  do_intrinsic(_StringBuilder_String, java_lang_StringBuilder, object_initializer_name, string_void_signature,     F_R)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_StringBuilder_append_char,   java_lang_StringBuilder, append_name, char_StringBuilder_signature,   F_R)   \\\n+  do_intrinsic(_StringBuilder_append_int,    java_lang_StringBuilder, append_name, int_StringBuilder_signature,    F_R)   \\\n+  do_intrinsic(_StringBuilder_append_String, java_lang_StringBuilder, append_name, String_StringBuilder_signature, F_R)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_StringBuilder_toString, java_lang_StringBuilder, toString_name, void_string_signature,             F_R)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_StringBuffer_void,   java_lang_StringBuffer, object_initializer_name, void_method_signature,       F_R)   \\\n+  do_intrinsic(_StringBuffer_int,    java_lang_StringBuffer, object_initializer_name, int_void_signature,          F_R)   \\\n+  do_intrinsic(_StringBuffer_String, java_lang_StringBuffer, object_initializer_name, string_void_signature,       F_R)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_StringBuffer_append_char,   java_lang_StringBuffer, append_name, char_StringBuffer_signature,      F_Y)   \\\n+  do_intrinsic(_StringBuffer_append_int,    java_lang_StringBuffer, append_name, int_StringBuffer_signature,       F_Y)   \\\n+  do_intrinsic(_StringBuffer_append_String, java_lang_StringBuffer, append_name, String_StringBuffer_signature,    F_Y)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_StringBuffer_toString,  java_lang_StringBuffer, toString_name, void_string_signature,              F_Y)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_Integer_toString,      java_lang_Integer, toString_name, int_String_signature,                     F_S)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_String_String, java_lang_String, object_initializer_name, string_void_signature,                   F_R)   \\\n+                                                                                                                          \\\n+  do_intrinsic(_Object_init,              java_lang_Object, object_initializer_name, void_method_signature,        F_R)   \\\n+  \/*    (symbol object_initializer_name defined above) *\/                                                                 \\\n+                                                                                                                          \\\n+  do_intrinsic(_invoke,                   java_lang_reflect_Method, invoke_name, object_object_array_object_signature, F_R) \\\n+  \/*   (symbols invoke_name and invoke_signature defined above) *\/                                                      \\\n+  \/* the polymorphic MH intrinsics must be in compact order, with _invokeGeneric first and _linkToInterface last *\/     \\\n+  do_intrinsic(_invokeGeneric,            java_lang_invoke_MethodHandle, invoke_name,           star_name, F_RN)        \\\n+  do_intrinsic(_invokeBasic,              java_lang_invoke_MethodHandle, invokeBasic_name,      star_name, F_RN)        \\\n+  do_intrinsic(_linkToVirtual,            java_lang_invoke_MethodHandle, linkToVirtual_name,    star_name, F_SN)        \\\n+  do_intrinsic(_linkToStatic,             java_lang_invoke_MethodHandle, linkToStatic_name,     star_name, F_SN)        \\\n+  do_intrinsic(_linkToSpecial,            java_lang_invoke_MethodHandle, linkToSpecial_name,    star_name, F_SN)        \\\n+  do_intrinsic(_linkToInterface,          java_lang_invoke_MethodHandle, linkToInterface_name,  star_name, F_SN)        \\\n+  \/* special marker for bytecode generated for the JVM from a LambdaForm: *\/                                            \\\n+  do_intrinsic(_compiledLambdaForm,       java_lang_invoke_MethodHandle, compiledLambdaForm_name, star_name, F_RN)      \\\n+                                                                                                                        \\\n+  \/* unboxing methods: *\/                                                                                               \\\n+  do_intrinsic(_booleanValue,             java_lang_Boolean,      booleanValue_name, void_boolean_signature, F_R)       \\\n+   do_name(     booleanValue_name,       \"booleanValue\")                                                                \\\n+  do_intrinsic(_byteValue,                java_lang_Byte,         byteValue_name, void_byte_signature, F_R)             \\\n+   do_name(     byteValue_name,          \"byteValue\")                                                                   \\\n+  do_intrinsic(_charValue,                java_lang_Character,    charValue_name, void_char_signature, F_R)             \\\n+   do_name(     charValue_name,          \"charValue\")                                                                   \\\n+  do_intrinsic(_shortValue,               java_lang_Short,        shortValue_name, void_short_signature, F_R)           \\\n+   do_name(     shortValue_name,         \"shortValue\")                                                                  \\\n+  do_intrinsic(_intValue,                 java_lang_Integer,      intValue_name, void_int_signature, F_R)               \\\n+   do_name(     intValue_name,           \"intValue\")                                                                    \\\n+  do_intrinsic(_longValue,                java_lang_Long,         longValue_name, void_long_signature, F_R)             \\\n+   do_name(     longValue_name,          \"longValue\")                                                                   \\\n+  do_intrinsic(_floatValue,               java_lang_Float,        floatValue_name, void_float_signature, F_R)           \\\n+   do_name(     floatValue_name,         \"floatValue\")                                                                  \\\n+  do_intrinsic(_doubleValue,              java_lang_Double,       doubleValue_name, void_double_signature, F_R)         \\\n+   do_name(     doubleValue_name,        \"doubleValue\")                                                                 \\\n+                                                                                                                        \\\n+  \/* boxing methods: *\/                                                                                                 \\\n+   do_name(    valueOf_name,              \"valueOf\")                                                                    \\\n+  do_intrinsic(_Boolean_valueOf,          java_lang_Boolean,      valueOf_name, Boolean_valueOf_signature, F_S)         \\\n+   do_name(     Boolean_valueOf_signature,                       \"(Z)Ljava\/lang\/Boolean;\")                              \\\n+  do_intrinsic(_Byte_valueOf,             java_lang_Byte,         valueOf_name, Byte_valueOf_signature, F_S)            \\\n+   do_name(     Byte_valueOf_signature,                          \"(B)Ljava\/lang\/Byte;\")                                 \\\n+  do_intrinsic(_Character_valueOf,        java_lang_Character,    valueOf_name, Character_valueOf_signature, F_S)       \\\n+   do_name(     Character_valueOf_signature,                     \"(C)Ljava\/lang\/Character;\")                            \\\n+  do_intrinsic(_Short_valueOf,            java_lang_Short,        valueOf_name, Short_valueOf_signature, F_S)           \\\n+   do_name(     Short_valueOf_signature,                         \"(S)Ljava\/lang\/Short;\")                                \\\n+  do_intrinsic(_Integer_valueOf,          java_lang_Integer,      valueOf_name, Integer_valueOf_signature, F_S)         \\\n+   do_name(     Integer_valueOf_signature,                       \"(I)Ljava\/lang\/Integer;\")                              \\\n+  do_intrinsic(_Long_valueOf,             java_lang_Long,         valueOf_name, Long_valueOf_signature, F_S)            \\\n+   do_name(     Long_valueOf_signature,                          \"(J)Ljava\/lang\/Long;\")                                 \\\n+  do_intrinsic(_Float_valueOf,            java_lang_Float,        valueOf_name, Float_valueOf_signature, F_S)           \\\n+   do_name(     Float_valueOf_signature,                         \"(F)Ljava\/lang\/Float;\")                                \\\n+  do_intrinsic(_Double_valueOf,           java_lang_Double,       valueOf_name, Double_valueOf_signature, F_S)          \\\n+   do_name(     Double_valueOf_signature,                        \"(D)Ljava\/lang\/Double;\")                               \\\n+                                                                                                                        \\\n+  \/* forEachRemaining *\/                                                                             \\\n+  do_intrinsic(_forEachRemaining, java_util_stream_StreamsRangeIntSpliterator, forEachRemaining_name, forEachRemaining_signature, F_R) \\\n+   do_name(     forEachRemaining_name,    \"forEachRemaining\")                                                           \\\n+   do_name(     forEachRemaining_signature,                      \"(Ljava\/util\/function\/IntConsumer;)V\")                 \\\n+\n+    \/*end*\/\n+\n+#endif \/\/ SHARE_CLASSFILE_VMINTRINSICS_HPP\n","filename":"src\/hotspot\/share\/classfile\/vmIntrinsics.hpp","additions":883,"deletions":0,"binary":false,"changes":883,"status":"added"},{"patch":"@@ -33,0 +33,1 @@\n+#include \"vmIntrinsics.hpp\"\n@@ -335,3 +336,2 @@\n-                                                                                                  \\\n-                                                                                                  \\\n-  \/* Support for JVMCI *\/                                                                         \\\n+                                                                                                                                      \\\n+  \/* Support for JVMCI *\/                                                                                                             \\\n@@ -468,0 +468,1 @@\n+  template(during_unsafe_access_name,                 \"during_unsafe_access\")                     \\\n@@ -687,856 +688,0 @@\n-\/\/ Here are all the intrinsics known to the runtime and the CI.\n-\/\/ Each intrinsic consists of a public enum name (like _hashCode),\n-\/\/ followed by a specification of its klass, name, and signature:\n-\/\/    template(<id>,  <klass>,  <name>, <sig>, <FCODE>)\n-\/\/\n-\/\/ If you add an intrinsic here, you must also define its name\n-\/\/ and signature as members of the VM symbols.  The VM symbols for\n-\/\/ the intrinsic name and signature may be defined above.\n-\/\/\n-\/\/ Because the VM_SYMBOLS_DO macro makes reference to VM_INTRINSICS_DO,\n-\/\/ you can also define an intrinsic's name and\/or signature locally to the\n-\/\/ intrinsic, if this makes sense.  (It often does make sense.)\n-\/\/\n-\/\/ For example:\n-\/\/    do_intrinsic(_foo,  java_lang_Object,  foo_name, foo_signature, F_xx)\n-\/\/     do_name(     foo_name, \"foo\")\n-\/\/     do_signature(foo_signature, \"()F\")\n-\/\/ klass      = vmSymbols::java_lang_Object()\n-\/\/ name       = vmSymbols::foo_name()\n-\/\/ signature  = vmSymbols::foo_signature()\n-\/\/\n-\/\/ The name and\/or signature might be a \"well known\" symbol\n-\/\/ like \"equal\" or \"()I\", in which case there will be no local\n-\/\/ re-definition of the symbol.\n-\/\/\n-\/\/ The do_class, do_name, and do_signature calls are all used for the\n-\/\/ same purpose:  Define yet another VM symbol.  They could all be merged\n-\/\/ into a common 'do_symbol' call, but it seems useful to record our\n-\/\/ intentions here about kinds of symbols (class vs. name vs. signature).\n-\/\/\n-\/\/ The F_xx is one of the Flags enum; see below.\n-\/\/\n-\/\/ for Emacs: (let ((c-backslash-column 120) (c-backslash-max-column 120)) (c-backslash-region (point) (point-max) nil t))\n-\/\/\n-\/\/\n-\/\/ There are two types of intrinsic methods: (1) Library intrinsics and (2) bytecode intrinsics.\n-\/\/\n-\/\/ (1) A library intrinsic method may be replaced with hand-crafted assembly code,\n-\/\/ with hand-crafted compiler IR, or with a combination of the two. The semantics\n-\/\/ of the replacement code may differ from the semantics of the replaced code.\n-\/\/\n-\/\/ (2) Bytecode intrinsic methods are not replaced by special code, but they are\n-\/\/ treated in some other special way by the compiler. For example, the compiler\n-\/\/ may delay inlining for some String-related intrinsic methods (e.g., some methods\n-\/\/ defined in the StringBuilder and StringBuffer classes, see\n-\/\/ Compile::should_delay_string_inlining() for more details).\n-\/\/\n-\/\/ Due to the difference between the semantics of an intrinsic method as defined\n-\/\/ in the (Java) source code and the semantics of the method as defined\n-\/\/ by the code in the VM, intrinsic methods must be explicitly marked.\n-\/\/\n-\/\/ Intrinsic methods are marked by the jdk.internal.HotSpotIntrinsicCandidate\n-\/\/ annotation. If CheckIntrinsics is enabled, the VM performs the following\n-\/\/ checks when a class C is loaded: (1) all intrinsics defined by the VM for\n-\/\/ class C are present in the loaded class file and are marked;\n-\/\/ (2) an intrinsic is defined by the VM for all marked methods of class C;\n-\/\/ (3) check for orphan methods in class C (i.e., methods for which the VM\n-\/\/ declares an intrinsic but that are not declared for the loaded class C.\n-\/\/ Check (3) is available only in debug builds.\n-\/\/\n-\/\/ If a mismatch is detected for a method, the VM behaves differently depending\n-\/\/ on the type of build. A fastdebug build exits and reports an error on a mismatch.\n-\/\/ A product build will not replace an unmarked library intrinsic method with\n-\/\/ hand-crafted code, that is, unmarked library intrinsics are treated as ordinary\n-\/\/ methods in a product build. The special treatment of a bytecode intrinsic method\n-\/\/ persists even if the method not marked.\n-\/\/\n-\/\/ When adding an intrinsic for a method, please make sure to appropriately\n-\/\/ annotate the method in the source code. The list below contains all\n-\/\/ library intrinsics followed by bytecode intrinsics. Please also make sure to\n-\/\/ add the declaration of the intrinsic to the approriate section of the list.\n-#define VM_INTRINSICS_DO(do_intrinsic, do_class, do_name, do_signature, do_alias)                                       \\\n-  \/* (1) Library intrinsics                                                                        *\/                   \\\n-  do_intrinsic(_hashCode,                 java_lang_Object,       hashCode_name, void_int_signature,             F_R)   \\\n-   do_name(     hashCode_name,                                   \"hashCode\")                                            \\\n-  do_intrinsic(_getClass,                 java_lang_Object,       getClass_name, void_class_signature,           F_R)   \\\n-   do_name(     getClass_name,                                   \"getClass\")                                            \\\n-  do_intrinsic(_clone,                    java_lang_Object,       clone_name, void_object_signature,             F_R)   \\\n-   do_name(     clone_name,                                      \"clone\")                                               \\\n-  do_intrinsic(_notify,                   java_lang_Object,       notify_name, void_method_signature,            F_R)   \\\n-   do_name(     notify_name,                                     \"notify\")                                              \\\n-  do_intrinsic(_notifyAll,                java_lang_Object,       notifyAll_name, void_method_signature,         F_R)   \\\n-   do_name(     notifyAll_name,                                  \"notifyAll\")                                           \\\n-                                                                                                                        \\\n-  \/* Math & StrictMath intrinsics are defined in terms of just a few signatures: *\/                                     \\\n-  do_class(java_lang_Math,                \"java\/lang\/Math\")                                                             \\\n-  do_class(java_lang_StrictMath,          \"java\/lang\/StrictMath\")                                                       \\\n-  do_signature(double2_double_signature,  \"(DD)D\")                                                                      \\\n-  do_signature(double3_double_signature,  \"(DDD)D\")                                                                     \\\n-  do_signature(float2_float_signature,    \"(FF)F\")                                                                      \\\n-  do_signature(float3_float_signature,    \"(FFF)F\")                                                                     \\\n-  do_signature(int2_int_signature,        \"(II)I\")                                                                      \\\n-  do_signature(long2_long_signature,      \"(JJ)J\")                                                                      \\\n-                                                                                                                        \\\n-  \/* here are the math names, all together: *\/                                                                          \\\n-  do_name(abs_name,\"abs\")       do_name(sin_name,\"sin\")         do_name(cos_name,\"cos\")                                 \\\n-  do_name(tan_name,\"tan\")       do_name(atan2_name,\"atan2\")     do_name(sqrt_name,\"sqrt\")                               \\\n-  do_name(log_name,\"log\")       do_name(log10_name,\"log10\")     do_name(pow_name,\"pow\")                                 \\\n-  do_name(exp_name,\"exp\")       do_name(min_name,\"min\")         do_name(max_name,\"max\")                                 \\\n-  do_name(floor_name, \"floor\")  do_name(ceil_name, \"ceil\")      do_name(rint_name, \"rint\")                              \\\n-                                                                                                                        \\\n-  do_name(addExact_name,\"addExact\")                                                                                     \\\n-  do_name(decrementExact_name,\"decrementExact\")                                                                         \\\n-  do_name(incrementExact_name,\"incrementExact\")                                                                         \\\n-  do_name(multiplyExact_name,\"multiplyExact\")                                                                           \\\n-  do_name(multiplyHigh_name,\"multiplyHigh\")                                                                             \\\n-  do_name(negateExact_name,\"negateExact\")                                                                               \\\n-  do_name(subtractExact_name,\"subtractExact\")                                                                           \\\n-  do_name(fma_name, \"fma\")                                                                                              \\\n-  do_name(copySign_name, \"copySign\")                                                                                    \\\n-  do_name(signum_name,\"signum\")                                                                                         \\\n-                                                                                                                        \\\n-  do_intrinsic(_dabs,                     java_lang_Math,         abs_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_fabs,                     java_lang_Math,         abs_name,   float_float_signature,           F_S)   \\\n-  do_intrinsic(_iabs,                     java_lang_Math,         abs_name,   int_int_signature,           F_S)   \\\n-  do_intrinsic(_labs,                     java_lang_Math,         abs_name,   long_long_signature,           F_S)   \\\n-  do_intrinsic(_dsin,                     java_lang_Math,         sin_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_floor,                    java_lang_Math,         floor_name, double_double_signature,           F_S)   \\\n-  do_intrinsic(_ceil,                     java_lang_Math,         ceil_name,  double_double_signature,           F_S)   \\\n-  do_intrinsic(_rint,                     java_lang_Math,         rint_name,  double_double_signature,           F_S)   \\\n-  do_intrinsic(_dcos,                     java_lang_Math,         cos_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_dtan,                     java_lang_Math,         tan_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_datan2,                   java_lang_Math,         atan2_name, double2_double_signature,          F_S)   \\\n-  do_intrinsic(_dsqrt,                    java_lang_Math,         sqrt_name,  double_double_signature,           F_S)   \\\n-  do_intrinsic(_dlog,                     java_lang_Math,         log_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_dlog10,                   java_lang_Math,         log10_name, double_double_signature,           F_S)   \\\n-  do_intrinsic(_dpow,                     java_lang_Math,         pow_name,   double2_double_signature,          F_S)   \\\n-  do_intrinsic(_dexp,                     java_lang_Math,         exp_name,   double_double_signature,           F_S)   \\\n-  do_intrinsic(_min,                      java_lang_Math,         min_name,   int2_int_signature,                F_S)   \\\n-  do_intrinsic(_max,                      java_lang_Math,         max_name,   int2_int_signature,                F_S)   \\\n-  do_intrinsic(_addExactI,                java_lang_Math,         addExact_name, int2_int_signature,             F_S)   \\\n-  do_intrinsic(_addExactL,                java_lang_Math,         addExact_name, long2_long_signature,           F_S)   \\\n-  do_intrinsic(_decrementExactI,          java_lang_Math,         decrementExact_name, int_int_signature,        F_S)   \\\n-  do_intrinsic(_decrementExactL,          java_lang_Math,         decrementExact_name, long_long_signature,      F_S)   \\\n-  do_intrinsic(_incrementExactI,          java_lang_Math,         incrementExact_name, int_int_signature,        F_S)   \\\n-  do_intrinsic(_incrementExactL,          java_lang_Math,         incrementExact_name, long_long_signature,      F_S)   \\\n-  do_intrinsic(_multiplyExactI,           java_lang_Math,         multiplyExact_name, int2_int_signature,        F_S)   \\\n-  do_intrinsic(_multiplyExactL,           java_lang_Math,         multiplyExact_name, long2_long_signature,      F_S)   \\\n-  do_intrinsic(_multiplyHigh,             java_lang_Math,         multiplyHigh_name, long2_long_signature,       F_S)   \\\n-  do_intrinsic(_negateExactI,             java_lang_Math,         negateExact_name, int_int_signature,           F_S)   \\\n-  do_intrinsic(_negateExactL,             java_lang_Math,         negateExact_name, long_long_signature,         F_S)   \\\n-  do_intrinsic(_subtractExactI,           java_lang_Math,         subtractExact_name, int2_int_signature,        F_S)   \\\n-  do_intrinsic(_subtractExactL,           java_lang_Math,         subtractExact_name, long2_long_signature,      F_S)   \\\n-  do_intrinsic(_fmaD,                     java_lang_Math,         fma_name,           double3_double_signature,  F_S)   \\\n-  do_intrinsic(_fmaF,                     java_lang_Math,         fma_name,           float3_float_signature,    F_S)   \\\n-  do_intrinsic(_maxF,                     java_lang_Math,         max_name,           float2_float_signature,    F_S)   \\\n-  do_intrinsic(_minF,                     java_lang_Math,         min_name,           float2_float_signature,    F_S)   \\\n-  do_intrinsic(_maxD,                     java_lang_Math,         max_name,           double2_double_signature,  F_S)   \\\n-  do_intrinsic(_minD,                     java_lang_Math,         min_name,           double2_double_signature,  F_S)   \\\n-  do_intrinsic(_dcopySign,                java_lang_Math,         copySign_name,      double2_double_signature,  F_S)   \\\n-  do_intrinsic(_fcopySign,                java_lang_Math,         copySign_name,      float2_float_signature,    F_S)   \\\n-  do_intrinsic(_dsignum,                  java_lang_Math,         signum_name,        double_double_signature,   F_S)   \\\n-  do_intrinsic(_fsignum,                  java_lang_Math,         signum_name,        float_float_signature,     F_S)   \\\n-                                                                                                                        \\\n-  do_intrinsic(_floatToRawIntBits,        java_lang_Float,        floatToRawIntBits_name,   float_int_signature, F_S)   \\\n-   do_name(     floatToRawIntBits_name,                          \"floatToRawIntBits\")                                   \\\n-  do_intrinsic(_floatToIntBits,           java_lang_Float,        floatToIntBits_name,      float_int_signature, F_S)   \\\n-   do_name(     floatToIntBits_name,                             \"floatToIntBits\")                                      \\\n-  do_intrinsic(_intBitsToFloat,           java_lang_Float,        intBitsToFloat_name,      int_float_signature, F_S)   \\\n-   do_name(     intBitsToFloat_name,                             \"intBitsToFloat\")                                      \\\n-  do_intrinsic(_doubleToRawLongBits,      java_lang_Double,       doubleToRawLongBits_name, double_long_signature, F_S) \\\n-   do_name(     doubleToRawLongBits_name,                        \"doubleToRawLongBits\")                                 \\\n-  do_intrinsic(_doubleToLongBits,         java_lang_Double,       doubleToLongBits_name,    double_long_signature, F_S) \\\n-   do_name(     doubleToLongBits_name,                           \"doubleToLongBits\")                                    \\\n-  do_intrinsic(_longBitsToDouble,         java_lang_Double,       longBitsToDouble_name,    long_double_signature, F_S) \\\n-   do_name(     longBitsToDouble_name,                           \"longBitsToDouble\")                                    \\\n-                                                                                                                        \\\n-  do_intrinsic(_numberOfLeadingZeros_i,   java_lang_Integer,      numberOfLeadingZeros_name,int_int_signature,   F_S)   \\\n-  do_intrinsic(_numberOfLeadingZeros_l,   java_lang_Long,         numberOfLeadingZeros_name,long_int_signature,  F_S)   \\\n-                                                                                                                        \\\n-  do_intrinsic(_numberOfTrailingZeros_i,  java_lang_Integer,      numberOfTrailingZeros_name,int_int_signature,  F_S)   \\\n-  do_intrinsic(_numberOfTrailingZeros_l,  java_lang_Long,         numberOfTrailingZeros_name,long_int_signature, F_S)   \\\n-                                                                                                                        \\\n-  do_intrinsic(_bitCount_i,               java_lang_Integer,      bitCount_name,            int_int_signature,   F_S)   \\\n-  do_intrinsic(_bitCount_l,               java_lang_Long,         bitCount_name,            long_int_signature,  F_S)   \\\n-                                                                                                                        \\\n-  do_intrinsic(_reverseBytes_i,           java_lang_Integer,      reverseBytes_name,        int_int_signature,   F_S)   \\\n-   do_name(     reverseBytes_name,                               \"reverseBytes\")                                        \\\n-  do_intrinsic(_reverseBytes_l,           java_lang_Long,         reverseBytes_name,        long_long_signature, F_S)   \\\n-    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n-  do_intrinsic(_reverseBytes_c,           java_lang_Character,    reverseBytes_name,        char_char_signature, F_S)   \\\n-    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n-  do_intrinsic(_reverseBytes_s,           java_lang_Short,        reverseBytes_name,        short_short_signature, F_S) \\\n-    \/*  (symbol reverseBytes_name defined above) *\/                                                                     \\\n-                                                                                                                        \\\n-  do_intrinsic(_identityHashCode,         java_lang_System,       identityHashCode_name, object_int_signature,   F_S)   \\\n-   do_name(     identityHashCode_name,                           \"identityHashCode\")                                    \\\n-  do_intrinsic(_currentTimeMillis,        java_lang_System,       currentTimeMillis_name, void_long_signature,   F_S)   \\\n-                                                                                                                        \\\n-   do_name(     currentTimeMillis_name,                          \"currentTimeMillis\")                                   \\\n-  do_intrinsic(_nanoTime,                 java_lang_System,       nanoTime_name,          void_long_signature,   F_S)   \\\n-   do_name(     nanoTime_name,                                   \"nanoTime\")                                            \\\n-                                                                                                                        \\\n-  JFR_INTRINSICS(do_intrinsic, do_class, do_name, do_signature, do_alias)                                               \\\n-                                                                                                                        \\\n-  do_intrinsic(_arraycopy,                java_lang_System,       arraycopy_name, arraycopy_signature,           F_S)   \\\n-   do_name(     arraycopy_name,                                  \"arraycopy\")                                           \\\n-   do_signature(arraycopy_signature,                             \"(Ljava\/lang\/Object;ILjava\/lang\/Object;II)V\")          \\\n-  do_intrinsic(_currentThread,            java_lang_Thread,       currentThread_name, currentThread_signature,   F_S)   \\\n-   do_name(     currentThread_name,                              \"currentThread\")                                       \\\n-   do_signature(currentThread_signature,                         \"()Ljava\/lang\/Thread;\")                                \\\n-                                                                                                                        \\\n-  \/* reflective intrinsics, for java\/lang\/Class, etc. *\/                                                                \\\n-  do_intrinsic(_isAssignableFrom,         java_lang_Class,        isAssignableFrom_name, class_boolean_signature, F_RN) \\\n-   do_name(     isAssignableFrom_name,                           \"isAssignableFrom\")                                    \\\n-  do_intrinsic(_isInstance,               java_lang_Class,        isInstance_name, object_boolean_signature,     F_RN)  \\\n-   do_name(     isInstance_name,                                 \"isInstance\")                                          \\\n-  do_intrinsic(_getModifiers,             java_lang_Class,        getModifiers_name, void_int_signature,         F_RN)  \\\n-   do_name(     getModifiers_name,                               \"getModifiers\")                                        \\\n-  do_intrinsic(_isInterface,              java_lang_Class,        isInterface_name, void_boolean_signature,      F_RN)  \\\n-   do_name(     isInterface_name,                                \"isInterface\")                                         \\\n-  do_intrinsic(_isArray,                  java_lang_Class,        isArray_name, void_boolean_signature,          F_RN)  \\\n-   do_name(     isArray_name,                                    \"isArray\")                                             \\\n-  do_intrinsic(_isPrimitive,              java_lang_Class,        isPrimitive_name, void_boolean_signature,      F_RN)  \\\n-   do_name(     isPrimitive_name,                                \"isPrimitive\")                                         \\\n-  do_intrinsic(_isHidden,                 java_lang_Class,        isHidden_name, void_boolean_signature,         F_RN)  \\\n-   do_name(     isHidden_name,                                   \"isHidden\")                                            \\\n-  do_intrinsic(_getSuperclass,            java_lang_Class,        getSuperclass_name, void_class_signature,      F_RN)  \\\n-   do_name(     getSuperclass_name,                              \"getSuperclass\")                                       \\\n-  do_intrinsic(_Class_cast,               java_lang_Class,        Class_cast_name, object_object_signature,      F_R)   \\\n-   do_name(     Class_cast_name,                                 \"cast\")                                                \\\n-                                                                                                                        \\\n-  do_intrinsic(_getClassAccessFlags,      reflect_Reflection,     getClassAccessFlags_name, class_int_signature, F_SN)  \\\n-   do_name(     getClassAccessFlags_name,                        \"getClassAccessFlags\")                                 \\\n-  do_intrinsic(_getLength,                java_lang_reflect_Array, getLength_name, object_int_signature,         F_SN)  \\\n-   do_name(     getLength_name,                                   \"getLength\")                                          \\\n-                                                                                                                        \\\n-  do_intrinsic(_getCallerClass,           reflect_Reflection,     getCallerClass_name, void_class_signature,     F_SN)  \\\n-   do_name(     getCallerClass_name,                             \"getCallerClass\")                                      \\\n-                                                                                                                        \\\n-  do_intrinsic(_newArray,                 java_lang_reflect_Array, newArray_name, newArray_signature,            F_SN)  \\\n-   do_name(     newArray_name,                                    \"newArray\")                                           \\\n-   do_signature(newArray_signature,                               \"(Ljava\/lang\/Class;I)Ljava\/lang\/Object;\")             \\\n-                                                                                                                        \\\n-  do_intrinsic(_onSpinWait,               java_lang_Thread,       onSpinWait_name, onSpinWait_signature,         F_S)   \\\n-   do_name(     onSpinWait_name,                                  \"onSpinWait\")                                         \\\n-   do_alias(    onSpinWait_signature,                             void_method_signature)                                \\\n-                                                                                                                        \\\n-  do_intrinsic(_copyOf,                   java_util_Arrays,       copyOf_name, copyOf_signature,                 F_S)   \\\n-   do_name(     copyOf_name,                                     \"copyOf\")                                              \\\n-   do_signature(copyOf_signature,             \"([Ljava\/lang\/Object;ILjava\/lang\/Class;)[Ljava\/lang\/Object;\")             \\\n-                                                                                                                        \\\n-  do_intrinsic(_copyOfRange,              java_util_Arrays,       copyOfRange_name, copyOfRange_signature,       F_S)   \\\n-   do_name(     copyOfRange_name,                                \"copyOfRange\")                                         \\\n-   do_signature(copyOfRange_signature,        \"([Ljava\/lang\/Object;IILjava\/lang\/Class;)[Ljava\/lang\/Object;\")            \\\n-                                                                                                                        \\\n-  do_intrinsic(_equalsC,                  java_util_Arrays,       equals_name,    equalsC_signature,             F_S)   \\\n-   do_signature(equalsC_signature,                               \"([C[C)Z\")                                             \\\n-  do_intrinsic(_equalsB,                  java_util_Arrays,       equals_name,    equalsB_signature,             F_S)   \\\n-   do_signature(equalsB_signature,                               \"([B[B)Z\")                                             \\\n-                                                                                                                        \\\n-  do_intrinsic(_compressStringC,          java_lang_StringUTF16,  compress_name, encodeISOArray_signature,       F_S)   \\\n-   do_name(     compress_name,                                   \"compress\")                                            \\\n-  do_intrinsic(_compressStringB,          java_lang_StringUTF16,  compress_name, indexOfI_signature,             F_S)   \\\n-  do_intrinsic(_inflateStringC,           java_lang_StringLatin1, inflate_name, inflateC_signature,              F_S)   \\\n-   do_name(     inflate_name,                                    \"inflate\")                                             \\\n-   do_signature(inflateC_signature,                              \"([BI[CII)V\")                                          \\\n-  do_intrinsic(_inflateStringB,           java_lang_StringLatin1, inflate_name, inflateB_signature,              F_S)   \\\n-   do_signature(inflateB_signature,                              \"([BI[BII)V\")                                          \\\n-  do_intrinsic(_toBytesStringU,           java_lang_StringUTF16, toBytes_name, toBytesU_signature,               F_S)   \\\n-   do_name(     toBytes_name,                                    \"toBytes\")                                             \\\n-   do_signature(toBytesU_signature,                              \"([CII)[B\")                                            \\\n-  do_intrinsic(_getCharsStringU,          java_lang_StringUTF16, getCharsU_name, getCharsU_signature,            F_S)   \\\n-   do_name(     getCharsU_name,                                  \"getChars\")                                            \\\n-   do_signature(getCharsU_signature,                             \"([BII[CI)V\")                                          \\\n-  do_intrinsic(_getCharStringU,           java_lang_StringUTF16, getChar_name, getCharStringU_signature,         F_S)   \\\n-   do_signature(getCharStringU_signature,                        \"([BI)C\")                                              \\\n-  do_intrinsic(_putCharStringU,           java_lang_StringUTF16, putChar_name, putCharStringU_signature,         F_S)   \\\n-   do_signature(putCharStringU_signature,                        \"([BII)V\")                                             \\\n-  do_intrinsic(_compareToL,               java_lang_StringLatin1,compareTo_name, compareTo_indexOf_signature,    F_S)   \\\n-  do_intrinsic(_compareToU,               java_lang_StringUTF16, compareTo_name, compareTo_indexOf_signature,    F_S)   \\\n-  do_intrinsic(_compareToLU,              java_lang_StringLatin1,compareToLU_name, compareTo_indexOf_signature,  F_S)   \\\n-  do_intrinsic(_compareToUL,              java_lang_StringUTF16, compareToUL_name, compareTo_indexOf_signature,  F_S)   \\\n-   do_signature(compareTo_indexOf_signature,                     \"([B[B)I\")                                             \\\n-   do_name(     compareTo_name,                                  \"compareTo\")                                           \\\n-   do_name(     compareToLU_name,                                \"compareToUTF16\")                                      \\\n-   do_name(     compareToUL_name,                                \"compareToLatin1\")                                     \\\n-  do_intrinsic(_indexOfL,                 java_lang_StringLatin1,indexOf_name, compareTo_indexOf_signature,      F_S)   \\\n-  do_intrinsic(_indexOfU,                 java_lang_StringUTF16, indexOf_name, compareTo_indexOf_signature,      F_S)   \\\n-  do_intrinsic(_indexOfUL,                java_lang_StringUTF16, indexOfUL_name, compareTo_indexOf_signature,    F_S)   \\\n-  do_intrinsic(_indexOfIL,                java_lang_StringLatin1,indexOf_name, indexOfI_signature,               F_S)   \\\n-  do_intrinsic(_indexOfIU,                java_lang_StringUTF16, indexOf_name, indexOfI_signature,               F_S)   \\\n-  do_intrinsic(_indexOfIUL,               java_lang_StringUTF16, indexOfUL_name, indexOfI_signature,             F_S)   \\\n-  do_intrinsic(_indexOfU_char,            java_lang_StringUTF16, indexOfChar_name, indexOfChar_signature,        F_S)   \\\n-   do_name(     indexOf_name,                                    \"indexOf\")                                             \\\n-   do_name(     indexOfChar_name,                                \"indexOfChar\")                                         \\\n-   do_name(     indexOfUL_name,                                  \"indexOfLatin1\")                                       \\\n-   do_signature(indexOfI_signature,                              \"([BI[BII)I\")                                          \\\n-   do_signature(indexOfChar_signature,                           \"([BIII)I\")                                            \\\n-  do_intrinsic(_equalsL,                  java_lang_StringLatin1,equals_name, equalsB_signature,                 F_S)   \\\n-  do_intrinsic(_equalsU,                  java_lang_StringUTF16, equals_name, equalsB_signature,                 F_S)   \\\n-                                                                                                                        \\\n-  do_intrinsic(_isDigit,                  java_lang_CharacterDataLatin1, isDigit_name,      int_bool_signature,  F_R)   \\\n-   do_name(     isDigit_name,                                           \"isDigit\")                                      \\\n-  do_intrinsic(_isLowerCase,              java_lang_CharacterDataLatin1, isLowerCase_name,  int_bool_signature,  F_R)   \\\n-   do_name(     isLowerCase_name,                                       \"isLowerCase\")                                  \\\n-  do_intrinsic(_isUpperCase,              java_lang_CharacterDataLatin1, isUpperCase_name,  int_bool_signature,  F_R)   \\\n-   do_name(     isUpperCase_name,                                       \"isUpperCase\")                                  \\\n-  do_intrinsic(_isWhitespace,             java_lang_CharacterDataLatin1, isWhitespace_name, int_bool_signature,  F_R)   \\\n-   do_name(     isWhitespace_name,                                      \"isWhitespace\")                                 \\\n-                                                                                                                        \\\n-  do_intrinsic(_Preconditions_checkIndex, jdk_internal_util_Preconditions, checkIndex_name, Preconditions_checkIndex_signature, F_S)   \\\n-   do_signature(Preconditions_checkIndex_signature,              \"(IILjava\/util\/function\/BiFunction;)I\")                \\\n-                                                                                                                        \\\n-  do_class(java_nio_Buffer,               \"java\/nio\/Buffer\")                                                            \\\n-  do_intrinsic(_checkIndex,               java_nio_Buffer,        checkIndex_name, int_int_signature,            F_R)   \\\n-   do_name(     checkIndex_name,                                 \"checkIndex\")                                          \\\n-                                                                                                                        \\\n-  do_class(java_lang_StringCoding,        \"java\/lang\/StringCoding\")                                                     \\\n-  do_intrinsic(_hasNegatives,             java_lang_StringCoding, hasNegatives_name, hasNegatives_signature,     F_S)   \\\n-   do_name(     hasNegatives_name,                               \"hasNegatives\")                                        \\\n-   do_signature(hasNegatives_signature,                          \"([BII)Z\")                                             \\\n-                                                                                                                        \\\n-  do_class(sun_nio_cs_iso8859_1_Encoder,  \"sun\/nio\/cs\/ISO_8859_1$Encoder\")                                              \\\n-  do_intrinsic(_encodeISOArray,     sun_nio_cs_iso8859_1_Encoder, encodeISOArray_name, encodeISOArray_signature, F_S)   \\\n-   do_name(     encodeISOArray_name,                             \"implEncodeISOArray\")                                  \\\n-   do_signature(encodeISOArray_signature,                        \"([CI[BII)I\")                                          \\\n-                                                                                                                        \\\n-  do_intrinsic(_encodeByteISOArray,     java_lang_StringCoding, encodeISOArray_name, indexOfI_signature,         F_S)   \\\n-                                                                                                                        \\\n-  do_class(java_math_BigInteger,                      \"java\/math\/BigInteger\")                                           \\\n-  do_intrinsic(_multiplyToLen,      java_math_BigInteger, multiplyToLen_name, multiplyToLen_signature, F_S)             \\\n-   do_name(     multiplyToLen_name,                             \"implMultiplyToLen\")                                    \\\n-   do_signature(multiplyToLen_signature,                        \"([II[II[I)[I\")                                         \\\n-                                                                                                                        \\\n-  do_intrinsic(_squareToLen, java_math_BigInteger, squareToLen_name, squareToLen_signature, F_S)                        \\\n-   do_name(     squareToLen_name,                             \"implSquareToLen\")                                        \\\n-   do_signature(squareToLen_signature,                        \"([II[II)[I\")                                             \\\n-                                                                                                                        \\\n-  do_intrinsic(_mulAdd, java_math_BigInteger, mulAdd_name, mulAdd_signature, F_S)                                       \\\n-   do_name(     mulAdd_name,                                  \"implMulAdd\")                                             \\\n-   do_signature(mulAdd_signature,                             \"([I[IIII)I\")                                             \\\n-                                                                                                                        \\\n-  do_intrinsic(_montgomeryMultiply,      java_math_BigInteger, montgomeryMultiply_name, montgomeryMultiply_signature, F_S) \\\n-   do_name(     montgomeryMultiply_name,                             \"implMontgomeryMultiply\")                          \\\n-   do_signature(montgomeryMultiply_signature,                        \"([I[I[IIJ[I)[I\")                                  \\\n-                                                                                                                        \\\n-  do_intrinsic(_montgomerySquare,      java_math_BigInteger, montgomerySquare_name, montgomerySquare_signature, F_S)    \\\n-   do_name(     montgomerySquare_name,                             \"implMontgomerySquare\")                              \\\n-   do_signature(montgomerySquare_signature,                        \"([I[IIJ[I)[I\")                                      \\\n-                                                                                                                        \\\n-  do_intrinsic(_bigIntegerRightShiftWorker, java_math_BigInteger, rightShift_name, big_integer_shift_worker_signature, F_S) \\\n-   do_name(     rightShift_name,                                 \"shiftRightImplWorker\")                                \\\n-                                                                                                                        \\\n-  do_intrinsic(_bigIntegerLeftShiftWorker, java_math_BigInteger, leftShift_name, big_integer_shift_worker_signature, F_S) \\\n-   do_name(     leftShift_name,                                 \"shiftLeftImplWorker\")                                  \\\n-                                                                                                                        \\\n-  do_class(jdk_internal_util_ArraysSupport, \"jdk\/internal\/util\/ArraysSupport\")                                                          \\\n-  do_intrinsic(_vectorizedMismatch, jdk_internal_util_ArraysSupport, vectorizedMismatch_name, vectorizedMismatch_signature, F_S)\\\n-   do_name(vectorizedMismatch_name, \"vectorizedMismatch\")                                                               \\\n-   do_signature(vectorizedMismatch_signature, \"(Ljava\/lang\/Object;JLjava\/lang\/Object;JII)I\")                            \\\n-                                                                                                                        \\\n-  \/* java\/lang\/ref\/Reference *\/                                                                                         \\\n-  do_intrinsic(_Reference_get,            java_lang_ref_Reference, get_name,    void_object_signature, F_R)             \\\n-                                                                                                                        \\\n-  \/* support for com.sun.crypto.provider.AESCrypt and some of its callers *\/                                            \\\n-  do_class(com_sun_crypto_provider_aescrypt,      \"com\/sun\/crypto\/provider\/AESCrypt\")                                   \\\n-  do_intrinsic(_aescrypt_encryptBlock, com_sun_crypto_provider_aescrypt, encryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \\\n-  do_intrinsic(_aescrypt_decryptBlock, com_sun_crypto_provider_aescrypt, decryptBlock_name, byteArray_int_byteArray_int_signature, F_R)   \\\n-   do_name(     encryptBlock_name,                                 \"implEncryptBlock\")                                  \\\n-   do_name(     decryptBlock_name,                                 \"implDecryptBlock\")                                  \\\n-   do_signature(byteArray_int_byteArray_int_signature,             \"([BI[BI)V\")                                         \\\n-                                                                                                                        \\\n-  do_class(com_sun_crypto_provider_cipherBlockChaining,            \"com\/sun\/crypto\/provider\/CipherBlockChaining\")       \\\n-   do_intrinsic(_cipherBlockChaining_encryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, encrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n-   do_intrinsic(_cipherBlockChaining_decryptAESCrypt, com_sun_crypto_provider_cipherBlockChaining, decrypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n-   do_name(     encrypt_name,                                      \"implEncrypt\")                                       \\\n-   do_name(     decrypt_name,                                      \"implDecrypt\")                                       \\\n-   do_signature(byteArray_int_int_byteArray_int_signature,         \"([BII[BI)I\")                                        \\\n-                                                                                                                        \\\n-  do_class(com_sun_crypto_provider_electronicCodeBook, \"com\/sun\/crypto\/provider\/ElectronicCodeBook\")                    \\\n-   do_intrinsic(_electronicCodeBook_encryptAESCrypt, com_sun_crypto_provider_electronicCodeBook, ecb_encrypt_name, byteArray_int_int_byteArray_int_signature, F_R)  \\\n-   do_intrinsic(_electronicCodeBook_decryptAESCrypt, com_sun_crypto_provider_electronicCodeBook, ecb_decrypt_name, byteArray_int_int_byteArray_int_signature, F_R)  \\\n-   do_name(ecb_encrypt_name, \"implECBEncrypt\")                                                                          \\\n-   do_name(ecb_decrypt_name, \"implECBDecrypt\")                                                                          \\\n-                                                                                                                        \\\n-  do_class(com_sun_crypto_provider_counterMode,      \"com\/sun\/crypto\/provider\/CounterMode\")                             \\\n-   do_intrinsic(_counterMode_AESCrypt, com_sun_crypto_provider_counterMode, crypt_name, byteArray_int_int_byteArray_int_signature, F_R)   \\\n-   do_name(     crypt_name,                                 \"implCrypt\")                                                    \\\n-                                                                                                                        \\\n-  \/* support for sun.security.provider.MD5 *\/                                                                           \\\n-  do_class(sun_security_provider_md5,                              \"sun\/security\/provider\/MD5\")                         \\\n-  do_intrinsic(_md5_implCompress, sun_security_provider_md5, implCompress_name, implCompress_signature, F_R)            \\\n-   do_name(     implCompress_name,                                 \"implCompress0\")                                     \\\n-   do_signature(implCompress_signature,                            \"([BI)V\")                                            \\\n-                                                                                                                        \\\n-  \/* support for sun.security.provider.SHA *\/                                                                           \\\n-  do_class(sun_security_provider_sha,                              \"sun\/security\/provider\/SHA\")                         \\\n-  do_intrinsic(_sha_implCompress, sun_security_provider_sha, implCompress_name, implCompress_signature, F_R)            \\\n-                                                                                                                        \\\n-  \/* support for sun.security.provider.SHA2 *\/                                                                          \\\n-  do_class(sun_security_provider_sha2,                             \"sun\/security\/provider\/SHA2\")                        \\\n-  do_intrinsic(_sha2_implCompress, sun_security_provider_sha2, implCompress_name, implCompress_signature, F_R)          \\\n-                                                                                                                        \\\n-  \/* support for sun.security.provider.SHA5 *\/                                                                          \\\n-  do_class(sun_security_provider_sha5,                             \"sun\/security\/provider\/SHA5\")                        \\\n-  do_intrinsic(_sha5_implCompress, sun_security_provider_sha5, implCompress_name, implCompress_signature, F_R)          \\\n-                                                                                                                        \\\n-  \/* support for sun.security.provider.DigestBase *\/                                                                    \\\n-  do_class(sun_security_provider_digestbase,                       \"sun\/security\/provider\/DigestBase\")                  \\\n-  do_intrinsic(_digestBase_implCompressMB, sun_security_provider_digestbase, implCompressMB_name, implCompressMB_signature, F_R)   \\\n-   do_name(     implCompressMB_name,                               \"implCompressMultiBlock0\")                           \\\n-   do_signature(implCompressMB_signature,                          \"([BII)I\")                                           \\\n-                                                                                                                        \\\n-   \/* support for java.util.Base64.Encoder*\/                                                                            \\\n-  do_class(java_util_Base64_Encoder, \"java\/util\/Base64$Encoder\")                                                        \\\n-  do_intrinsic(_base64_encodeBlock, java_util_Base64_Encoder, encodeBlock_name, encodeBlock_signature, F_R)             \\\n-  do_name(encodeBlock_name, \"encodeBlock\")                                                                              \\\n-  do_signature(encodeBlock_signature, \"([BII[BIZ)V\")                                                                    \\\n-                                                                                                                        \\\n-  \/* support for com.sun.crypto.provider.GHASH *\/                                                                       \\\n-  do_class(com_sun_crypto_provider_ghash, \"com\/sun\/crypto\/provider\/GHASH\")                                              \\\n-  do_intrinsic(_ghash_processBlocks, com_sun_crypto_provider_ghash, processBlocks_name, ghash_processBlocks_signature, F_S) \\\n-   do_name(processBlocks_name, \"processBlocks\")                                                                         \\\n-   do_signature(ghash_processBlocks_signature, \"([BII[J[J)V\")                                                           \\\n-                                                                                                                        \\\n-  \/* support for java.util.zip *\/                                                                                       \\\n-  do_class(java_util_zip_CRC32,           \"java\/util\/zip\/CRC32\")                                                        \\\n-  do_intrinsic(_updateCRC32,               java_util_zip_CRC32,   update_name, int2_int_signature,               F_SN)  \\\n-   do_name(     update_name,                                      \"update\")                                             \\\n-  do_intrinsic(_updateBytesCRC32,          java_util_zip_CRC32,   updateBytes_name, updateBytes_signature,       F_SN)  \\\n-   do_name(     updateBytes_name,                                \"updateBytes0\")                                        \\\n-   do_signature(updateBytes_signature,                           \"(I[BII)I\")                                            \\\n-  do_intrinsic(_updateByteBufferCRC32,     java_util_zip_CRC32,   updateByteBuffer_name, updateByteBuffer_signature, F_SN) \\\n-   do_name(     updateByteBuffer_name,                           \"updateByteBuffer0\")                                   \\\n-   do_signature(updateByteBuffer_signature,                      \"(IJII)I\")                                             \\\n-                                                                                                                        \\\n-  \/* support for java.util.zip.CRC32C *\/                                                                                \\\n-  do_class(java_util_zip_CRC32C,          \"java\/util\/zip\/CRC32C\")                                                       \\\n-  do_intrinsic(_updateBytesCRC32C,         java_util_zip_CRC32C,  updateBytes_C_name, updateBytes_signature,       F_S) \\\n-   do_name(     updateBytes_C_name,                               \"updateBytes\")                                        \\\n-  do_intrinsic(_updateDirectByteBufferCRC32C, java_util_zip_CRC32C, updateDirectByteBuffer_C_name, updateByteBuffer_signature, F_S) \\\n-   do_name(    updateDirectByteBuffer_C_name,                     \"updateDirectByteBuffer\")                             \\\n-                                                                                                                        \\\n-   \/* support for java.util.zip.Adler32 *\/                                                                              \\\n-  do_class(java_util_zip_Adler32,        \"java\/util\/zip\/Adler32\")                                                       \\\n-  do_intrinsic(_updateBytesAdler32,       java_util_zip_Adler32,  updateBytes_C_name,  updateBytes_signature,  F_SN)    \\\n-  do_intrinsic(_updateByteBufferAdler32,  java_util_zip_Adler32,  updateByteBuffer_A_name,  updateByteBuffer_signature,  F_SN) \\\n-   do_name(     updateByteBuffer_A_name,                          \"updateByteBuffer\")                                   \\\n-                                                                                                                        \\\n-  \/* support for UnsafeConstants *\/                                                                                     \\\n-  do_class(jdk_internal_misc_UnsafeConstants,      \"jdk\/internal\/misc\/UnsafeConstants\")                                 \\\n-                                                                                                                        \\\n-  \/* support for Unsafe *\/                                                                                              \\\n-  do_class(jdk_internal_misc_Unsafe,               \"jdk\/internal\/misc\/Unsafe\")                                          \\\n-  do_class(sun_misc_Unsafe,                        \"sun\/misc\/Unsafe\")                                                   \\\n-                                                                                                                        \\\n-  do_intrinsic(_writeback0,               jdk_internal_misc_Unsafe,     writeback0_name, long_void_signature , F_RN)             \\\n-   do_name(     writeback0_name,                                        \"writeback0\")                                            \\\n-  do_intrinsic(_writebackPreSync0,        jdk_internal_misc_Unsafe,     writebackPreSync0_name, void_method_signature , F_RN)    \\\n-   do_name(     writebackPreSync0_name,                                 \"writebackPreSync0\")                                     \\\n-  do_intrinsic(_writebackPostSync0,       jdk_internal_misc_Unsafe,    writebackPostSync0_name, void_method_signature , F_RN)    \\\n-   do_name(     writebackPostSync0_name,                                \"writebackPostSync0\")                                    \\\n-  do_intrinsic(_allocateInstance,         jdk_internal_misc_Unsafe,     allocateInstance_name, allocateInstance_signature, F_RN) \\\n-   do_name(     allocateInstance_name,                                  \"allocateInstance\")                                      \\\n-   do_signature(allocateInstance_signature,                             \"(Ljava\/lang\/Class;)Ljava\/lang\/Object;\")                 \\\n-  do_intrinsic(_allocateUninitializedArray, jdk_internal_misc_Unsafe,   allocateUninitializedArray_name, newArray_signature,  F_R) \\\n-   do_name(     allocateUninitializedArray_name,                        \"allocateUninitializedArray0\")                           \\\n-  do_intrinsic(_copyMemory,               jdk_internal_misc_Unsafe,     copyMemory_name, copyMemory_signature,         F_RN)     \\\n-   do_name(     copyMemory_name,                                        \"copyMemory0\")                                           \\\n-   do_signature(copyMemory_signature,                                   \"(Ljava\/lang\/Object;JLjava\/lang\/Object;JJ)V\")            \\\n-  do_intrinsic(_loadFence,                jdk_internal_misc_Unsafe,     loadFence_name, loadFence_signature,           F_RN)     \\\n-   do_name(     loadFence_name,                                         \"loadFence\")                                             \\\n-   do_alias(    loadFence_signature,                                    void_method_signature)                                   \\\n-  do_intrinsic(_storeFence,               jdk_internal_misc_Unsafe,     storeFence_name, storeFence_signature,         F_RN)     \\\n-   do_name(     storeFence_name,                                        \"storeFence\")                                            \\\n-   do_alias(    storeFence_signature,                                   void_method_signature)                                   \\\n-  do_intrinsic(_fullFence,                jdk_internal_misc_Unsafe,     fullFence_name, fullFence_signature,           F_RN)     \\\n-   do_name(     fullFence_name,                                         \"fullFence\")                                             \\\n-   do_alias(    fullFence_signature,                                    void_method_signature)                                   \\\n-                                                                                                                        \\\n-  \/* Custom branch frequencies profiling support for JSR292 *\/                                                          \\\n-  do_class(java_lang_invoke_MethodHandleImpl,               \"java\/lang\/invoke\/MethodHandleImpl\")                        \\\n-  do_intrinsic(_profileBoolean, java_lang_invoke_MethodHandleImpl, profileBoolean_name, profileBoolean_signature, F_S)  \\\n-   do_name(     profileBoolean_name,                             \"profileBoolean\")                                      \\\n-   do_signature(profileBoolean_signature,                        \"(Z[I)Z\")                                              \\\n-  do_intrinsic(_isCompileConstant, java_lang_invoke_MethodHandleImpl, isCompileConstant_name, isCompileConstant_signature, F_S) \\\n-   do_name(     isCompileConstant_name,                          \"isCompileConstant\")                                   \\\n-   do_alias(    isCompileConstant_signature,                      object_boolean_signature)                             \\\n-                                                                                                                        \\\n-  \/* unsafe memory references (there are a lot of them...) *\/                                                           \\\n-  do_signature(getReference_signature,    \"(Ljava\/lang\/Object;J)Ljava\/lang\/Object;\")                                    \\\n-  do_signature(putReference_signature,    \"(Ljava\/lang\/Object;JLjava\/lang\/Object;)V\")                                   \\\n-  do_signature(getBoolean_signature,      \"(Ljava\/lang\/Object;J)Z\")                                                     \\\n-  do_signature(putBoolean_signature,      \"(Ljava\/lang\/Object;JZ)V\")                                                    \\\n-  do_signature(getByte_signature,         \"(Ljava\/lang\/Object;J)B\")                                                     \\\n-  do_signature(putByte_signature,         \"(Ljava\/lang\/Object;JB)V\")                                                    \\\n-  do_signature(getShort_signature,        \"(Ljava\/lang\/Object;J)S\")                                                     \\\n-  do_signature(putShort_signature,        \"(Ljava\/lang\/Object;JS)V\")                                                    \\\n-  do_signature(getChar_signature,         \"(Ljava\/lang\/Object;J)C\")                                                     \\\n-  do_signature(putChar_signature,         \"(Ljava\/lang\/Object;JC)V\")                                                    \\\n-  do_signature(getInt_signature,          \"(Ljava\/lang\/Object;J)I\")                                                     \\\n-  do_signature(putInt_signature,          \"(Ljava\/lang\/Object;JI)V\")                                                    \\\n-  do_signature(getLong_signature,         \"(Ljava\/lang\/Object;J)J\")                                                     \\\n-  do_signature(putLong_signature,         \"(Ljava\/lang\/Object;JJ)V\")                                                    \\\n-  do_signature(getFloat_signature,        \"(Ljava\/lang\/Object;J)F\")                                                     \\\n-  do_signature(putFloat_signature,        \"(Ljava\/lang\/Object;JF)V\")                                                    \\\n-  do_signature(getDouble_signature,       \"(Ljava\/lang\/Object;J)D\")                                                     \\\n-  do_signature(putDouble_signature,       \"(Ljava\/lang\/Object;JD)V\")                                                    \\\n-  do_signature(getValue_signature,        \"(Ljava\/lang\/Object;JLjava\/lang\/Class;)Ljava\/lang\/Object;\")                   \\\n-  do_signature(putValue_signature,        \"(Ljava\/lang\/Object;JLjava\/lang\/Class;Ljava\/lang\/Object;)V\")                  \\\n-                                                                                                                        \\\n-  do_name(getReference_name,\"getReference\")     do_name(putReference_name,\"putReference\")                               \\\n-  do_name(getBoolean_name,\"getBoolean\")         do_name(putBoolean_name,\"putBoolean\")                                   \\\n-  do_name(getByte_name,\"getByte\")               do_name(putByte_name,\"putByte\")                                         \\\n-  do_name(getShort_name,\"getShort\")             do_name(putShort_name,\"putShort\")                                       \\\n-  do_name(getChar_name,\"getChar\")               do_name(putChar_name,\"putChar\")                                         \\\n-  do_name(getInt_name,\"getInt\")                 do_name(putInt_name,\"putInt\")                                           \\\n-  do_name(getLong_name,\"getLong\")               do_name(putLong_name,\"putLong\")                                         \\\n-  do_name(getFloat_name,\"getFloat\")             do_name(putFloat_name,\"putFloat\")                                       \\\n-  do_name(getDouble_name,\"getDouble\")           do_name(putDouble_name,\"putDouble\")                                     \\\n-  do_name(getValue_name,\"getValue\")             do_name(putValue_name,\"putValue\")                                       \\\n-  do_name(makePrivateBuffer_name,\"makePrivateBuffer\")                                                                   \\\n-  do_name(finishPrivateBuffer_name,\"finishPrivateBuffer\")                                                               \\\n-                                                                                                                        \\\n-  do_intrinsic(_getReference,       jdk_internal_misc_Unsafe,     getReference_name, getReference_signature,     F_RN)  \\\n-  do_intrinsic(_getBoolean,         jdk_internal_misc_Unsafe,     getBoolean_name, getBoolean_signature,         F_RN)  \\\n-  do_intrinsic(_getByte,            jdk_internal_misc_Unsafe,     getByte_name, getByte_signature,               F_RN)  \\\n-  do_intrinsic(_getShort,           jdk_internal_misc_Unsafe,     getShort_name, getShort_signature,             F_RN)  \\\n-  do_intrinsic(_getChar,            jdk_internal_misc_Unsafe,     getChar_name, getChar_signature,               F_RN)  \\\n-  do_intrinsic(_getInt,             jdk_internal_misc_Unsafe,     getInt_name, getInt_signature,                 F_RN)  \\\n-  do_intrinsic(_getLong,            jdk_internal_misc_Unsafe,     getLong_name, getLong_signature,               F_RN)  \\\n-  do_intrinsic(_getFloat,           jdk_internal_misc_Unsafe,     getFloat_name, getFloat_signature,             F_RN)  \\\n-  do_intrinsic(_getDouble,          jdk_internal_misc_Unsafe,     getDouble_name, getDouble_signature,           F_RN)  \\\n-  do_intrinsic(_getValue,           jdk_internal_misc_Unsafe,     getValue_name, getValue_signature,             F_RN)  \\\n-  do_intrinsic(_putReference,       jdk_internal_misc_Unsafe,     putReference_name, putReference_signature,     F_RN)  \\\n-  do_intrinsic(_putBoolean,         jdk_internal_misc_Unsafe,     putBoolean_name, putBoolean_signature,         F_RN)  \\\n-  do_intrinsic(_putByte,            jdk_internal_misc_Unsafe,     putByte_name, putByte_signature,               F_RN)  \\\n-  do_intrinsic(_putShort,           jdk_internal_misc_Unsafe,     putShort_name, putShort_signature,             F_RN)  \\\n-  do_intrinsic(_putChar,            jdk_internal_misc_Unsafe,     putChar_name, putChar_signature,               F_RN)  \\\n-  do_intrinsic(_putInt,             jdk_internal_misc_Unsafe,     putInt_name, putInt_signature,                 F_RN)  \\\n-  do_intrinsic(_putLong,            jdk_internal_misc_Unsafe,     putLong_name, putLong_signature,               F_RN)  \\\n-  do_intrinsic(_putFloat,           jdk_internal_misc_Unsafe,     putFloat_name, putFloat_signature,             F_RN)  \\\n-  do_intrinsic(_putDouble,          jdk_internal_misc_Unsafe,     putDouble_name, putDouble_signature,           F_RN)  \\\n-  do_intrinsic(_putValue,           jdk_internal_misc_Unsafe,     putValue_name, putValue_signature,             F_RN)  \\\n-                                                                                                                        \\\n-  do_intrinsic(_makePrivateBuffer,  jdk_internal_misc_Unsafe,     makePrivateBuffer_name, object_object_signature, F_RN)   \\\n-  do_intrinsic(_finishPrivateBuffer,  jdk_internal_misc_Unsafe,   finishPrivateBuffer_name, object_object_signature, F_RN) \\\n-                                                                                                                        \\\n-  do_name(getReferenceVolatile_name,\"getReferenceVolatile\")   do_name(putReferenceVolatile_name,\"putReferenceVolatile\") \\\n-  do_name(getBooleanVolatile_name,\"getBooleanVolatile\")       do_name(putBooleanVolatile_name,\"putBooleanVolatile\")     \\\n-  do_name(getByteVolatile_name,\"getByteVolatile\")             do_name(putByteVolatile_name,\"putByteVolatile\")           \\\n-  do_name(getShortVolatile_name,\"getShortVolatile\")           do_name(putShortVolatile_name,\"putShortVolatile\")         \\\n-  do_name(getCharVolatile_name,\"getCharVolatile\")             do_name(putCharVolatile_name,\"putCharVolatile\")           \\\n-  do_name(getIntVolatile_name,\"getIntVolatile\")               do_name(putIntVolatile_name,\"putIntVolatile\")             \\\n-  do_name(getLongVolatile_name,\"getLongVolatile\")             do_name(putLongVolatile_name,\"putLongVolatile\")           \\\n-  do_name(getFloatVolatile_name,\"getFloatVolatile\")           do_name(putFloatVolatile_name,\"putFloatVolatile\")         \\\n-  do_name(getDoubleVolatile_name,\"getDoubleVolatile\")         do_name(putDoubleVolatile_name,\"putDoubleVolatile\")       \\\n-                                                                                                                        \\\n-  do_intrinsic(_getReferenceVolatile,     jdk_internal_misc_Unsafe,     getReferenceVolatile_name, getReference_signature, F_RN)  \\\n-  do_intrinsic(_getBooleanVolatile,       jdk_internal_misc_Unsafe,     getBooleanVolatile_name, getBoolean_signature,     F_RN)  \\\n-  do_intrinsic(_getByteVolatile,          jdk_internal_misc_Unsafe,     getByteVolatile_name, getByte_signature,           F_RN)  \\\n-  do_intrinsic(_getShortVolatile,         jdk_internal_misc_Unsafe,     getShortVolatile_name, getShort_signature,         F_RN)  \\\n-  do_intrinsic(_getCharVolatile,          jdk_internal_misc_Unsafe,     getCharVolatile_name, getChar_signature,           F_RN)  \\\n-  do_intrinsic(_getIntVolatile,           jdk_internal_misc_Unsafe,     getIntVolatile_name, getInt_signature,             F_RN)  \\\n-  do_intrinsic(_getLongVolatile,          jdk_internal_misc_Unsafe,     getLongVolatile_name, getLong_signature,           F_RN)  \\\n-  do_intrinsic(_getFloatVolatile,         jdk_internal_misc_Unsafe,     getFloatVolatile_name, getFloat_signature,         F_RN)  \\\n-  do_intrinsic(_getDoubleVolatile,        jdk_internal_misc_Unsafe,     getDoubleVolatile_name, getDouble_signature,       F_RN)  \\\n-  do_intrinsic(_putReferenceVolatile,     jdk_internal_misc_Unsafe,     putReferenceVolatile_name, putReference_signature, F_RN)  \\\n-  do_intrinsic(_putBooleanVolatile,       jdk_internal_misc_Unsafe,     putBooleanVolatile_name, putBoolean_signature,     F_RN)  \\\n-  do_intrinsic(_putByteVolatile,          jdk_internal_misc_Unsafe,     putByteVolatile_name, putByte_signature,           F_RN)  \\\n-  do_intrinsic(_putShortVolatile,         jdk_internal_misc_Unsafe,     putShortVolatile_name, putShort_signature,         F_RN)  \\\n-  do_intrinsic(_putCharVolatile,          jdk_internal_misc_Unsafe,     putCharVolatile_name, putChar_signature,           F_RN)  \\\n-  do_intrinsic(_putIntVolatile,           jdk_internal_misc_Unsafe,     putIntVolatile_name, putInt_signature,             F_RN)  \\\n-  do_intrinsic(_putLongVolatile,          jdk_internal_misc_Unsafe,     putLongVolatile_name, putLong_signature,           F_RN)  \\\n-  do_intrinsic(_putFloatVolatile,         jdk_internal_misc_Unsafe,     putFloatVolatile_name, putFloat_signature,         F_RN)  \\\n-  do_intrinsic(_putDoubleVolatile,        jdk_internal_misc_Unsafe,     putDoubleVolatile_name, putDouble_signature,       F_RN)  \\\n-                                                                                                                        \\\n-  do_name(getReferenceOpaque_name,\"getReferenceOpaque\") do_name(putReferenceOpaque_name,\"putReferenceOpaque\")           \\\n-  do_name(getBooleanOpaque_name,\"getBooleanOpaque\")     do_name(putBooleanOpaque_name,\"putBooleanOpaque\")               \\\n-  do_name(getByteOpaque_name,\"getByteOpaque\")           do_name(putByteOpaque_name,\"putByteOpaque\")                     \\\n-  do_name(getShortOpaque_name,\"getShortOpaque\")         do_name(putShortOpaque_name,\"putShortOpaque\")                   \\\n-  do_name(getCharOpaque_name,\"getCharOpaque\")           do_name(putCharOpaque_name,\"putCharOpaque\")                     \\\n-  do_name(getIntOpaque_name,\"getIntOpaque\")             do_name(putIntOpaque_name,\"putIntOpaque\")                       \\\n-  do_name(getLongOpaque_name,\"getLongOpaque\")           do_name(putLongOpaque_name,\"putLongOpaque\")                     \\\n-  do_name(getFloatOpaque_name,\"getFloatOpaque\")         do_name(putFloatOpaque_name,\"putFloatOpaque\")                   \\\n-  do_name(getDoubleOpaque_name,\"getDoubleOpaque\")       do_name(putDoubleOpaque_name,\"putDoubleOpaque\")                 \\\n-                                                                                                                        \\\n-  do_intrinsic(_getReferenceOpaque,       jdk_internal_misc_Unsafe,        getReferenceOpaque_name, getReference_signature, F_R)  \\\n-  do_intrinsic(_getBooleanOpaque,         jdk_internal_misc_Unsafe,        getBooleanOpaque_name, getBoolean_signature,     F_R)  \\\n-  do_intrinsic(_getByteOpaque,            jdk_internal_misc_Unsafe,        getByteOpaque_name, getByte_signature,           F_R)  \\\n-  do_intrinsic(_getShortOpaque,           jdk_internal_misc_Unsafe,        getShortOpaque_name, getShort_signature,         F_R)  \\\n-  do_intrinsic(_getCharOpaque,            jdk_internal_misc_Unsafe,        getCharOpaque_name, getChar_signature,           F_R)  \\\n-  do_intrinsic(_getIntOpaque,             jdk_internal_misc_Unsafe,        getIntOpaque_name, getInt_signature,             F_R)  \\\n-  do_intrinsic(_getLongOpaque,            jdk_internal_misc_Unsafe,        getLongOpaque_name, getLong_signature,           F_R)  \\\n-  do_intrinsic(_getFloatOpaque,           jdk_internal_misc_Unsafe,        getFloatOpaque_name, getFloat_signature,         F_R)  \\\n-  do_intrinsic(_getDoubleOpaque,          jdk_internal_misc_Unsafe,        getDoubleOpaque_name, getDouble_signature,       F_R)  \\\n-  do_intrinsic(_putReferenceOpaque,       jdk_internal_misc_Unsafe,        putReferenceOpaque_name, putReference_signature, F_R)  \\\n-  do_intrinsic(_putBooleanOpaque,         jdk_internal_misc_Unsafe,        putBooleanOpaque_name, putBoolean_signature,     F_R)  \\\n-  do_intrinsic(_putByteOpaque,            jdk_internal_misc_Unsafe,        putByteOpaque_name, putByte_signature,           F_R)  \\\n-  do_intrinsic(_putShortOpaque,           jdk_internal_misc_Unsafe,        putShortOpaque_name, putShort_signature,         F_R)  \\\n-  do_intrinsic(_putCharOpaque,            jdk_internal_misc_Unsafe,        putCharOpaque_name, putChar_signature,           F_R)  \\\n-  do_intrinsic(_putIntOpaque,             jdk_internal_misc_Unsafe,        putIntOpaque_name, putInt_signature,             F_R)  \\\n-  do_intrinsic(_putLongOpaque,            jdk_internal_misc_Unsafe,        putLongOpaque_name, putLong_signature,           F_R)  \\\n-  do_intrinsic(_putFloatOpaque,           jdk_internal_misc_Unsafe,        putFloatOpaque_name, putFloat_signature,         F_R)  \\\n-  do_intrinsic(_putDoubleOpaque,          jdk_internal_misc_Unsafe,        putDoubleOpaque_name, putDouble_signature,       F_R)  \\\n-                                                                                                                        \\\n-  do_name(getReferenceAcquire_name,  \"getReferenceAcquire\") do_name(putReferenceRelease_name,  \"putReferenceRelease\")   \\\n-  do_name(getBooleanAcquire_name, \"getBooleanAcquire\")      do_name(putBooleanRelease_name, \"putBooleanRelease\")        \\\n-  do_name(getByteAcquire_name,    \"getByteAcquire\")         do_name(putByteRelease_name,    \"putByteRelease\")           \\\n-  do_name(getShortAcquire_name,   \"getShortAcquire\")        do_name(putShortRelease_name,   \"putShortRelease\")          \\\n-  do_name(getCharAcquire_name,    \"getCharAcquire\")         do_name(putCharRelease_name,    \"putCharRelease\")           \\\n-  do_name(getIntAcquire_name,     \"getIntAcquire\")          do_name(putIntRelease_name,     \"putIntRelease\")            \\\n-  do_name(getLongAcquire_name,    \"getLongAcquire\")         do_name(putLongRelease_name,    \"putLongRelease\")           \\\n-  do_name(getFloatAcquire_name,   \"getFloatAcquire\")        do_name(putFloatRelease_name,   \"putFloatRelease\")          \\\n-  do_name(getDoubleAcquire_name,  \"getDoubleAcquire\")       do_name(putDoubleRelease_name,  \"putDoubleRelease\")         \\\n-                                                                                                                        \\\n-  do_intrinsic(_getReferenceAcquire,     jdk_internal_misc_Unsafe,        getReferenceAcquire_name, getReference_signature, F_R)  \\\n-  do_intrinsic(_getBooleanAcquire,       jdk_internal_misc_Unsafe,        getBooleanAcquire_name, getBoolean_signature,     F_R)  \\\n-  do_intrinsic(_getByteAcquire,          jdk_internal_misc_Unsafe,        getByteAcquire_name, getByte_signature,           F_R)  \\\n-  do_intrinsic(_getShortAcquire,         jdk_internal_misc_Unsafe,        getShortAcquire_name, getShort_signature,         F_R)  \\\n-  do_intrinsic(_getCharAcquire,          jdk_internal_misc_Unsafe,        getCharAcquire_name, getChar_signature,           F_R)  \\\n-  do_intrinsic(_getIntAcquire,           jdk_internal_misc_Unsafe,        getIntAcquire_name, getInt_signature,             F_R)  \\\n-  do_intrinsic(_getLongAcquire,          jdk_internal_misc_Unsafe,        getLongAcquire_name, getLong_signature,           F_R)  \\\n-  do_intrinsic(_getFloatAcquire,         jdk_internal_misc_Unsafe,        getFloatAcquire_name, getFloat_signature,         F_R)  \\\n-  do_intrinsic(_getDoubleAcquire,        jdk_internal_misc_Unsafe,        getDoubleAcquire_name, getDouble_signature,       F_R)  \\\n-  do_intrinsic(_putReferenceRelease,     jdk_internal_misc_Unsafe,        putReferenceRelease_name, putReference_signature, F_R)  \\\n-  do_intrinsic(_putBooleanRelease,       jdk_internal_misc_Unsafe,        putBooleanRelease_name, putBoolean_signature,     F_R)  \\\n-  do_intrinsic(_putByteRelease,          jdk_internal_misc_Unsafe,        putByteRelease_name, putByte_signature,           F_R)  \\\n-  do_intrinsic(_putShortRelease,         jdk_internal_misc_Unsafe,        putShortRelease_name, putShort_signature,         F_R)  \\\n-  do_intrinsic(_putCharRelease,          jdk_internal_misc_Unsafe,        putCharRelease_name, putChar_signature,           F_R)  \\\n-  do_intrinsic(_putIntRelease,           jdk_internal_misc_Unsafe,        putIntRelease_name, putInt_signature,             F_R)  \\\n-  do_intrinsic(_putLongRelease,          jdk_internal_misc_Unsafe,        putLongRelease_name, putLong_signature,           F_R)  \\\n-  do_intrinsic(_putFloatRelease,         jdk_internal_misc_Unsafe,        putFloatRelease_name, putFloat_signature,         F_R)  \\\n-  do_intrinsic(_putDoubleRelease,        jdk_internal_misc_Unsafe,        putDoubleRelease_name, putDouble_signature,       F_R)  \\\n-                                                                                                                        \\\n-  do_name(getShortUnaligned_name,\"getShortUnaligned\")     do_name(putShortUnaligned_name,\"putShortUnaligned\")           \\\n-  do_name(getCharUnaligned_name,\"getCharUnaligned\")       do_name(putCharUnaligned_name,\"putCharUnaligned\")             \\\n-  do_name(getIntUnaligned_name,\"getIntUnaligned\")         do_name(putIntUnaligned_name,\"putIntUnaligned\")               \\\n-  do_name(getLongUnaligned_name,\"getLongUnaligned\")       do_name(putLongUnaligned_name,\"putLongUnaligned\")             \\\n-                                                                                                                        \\\n-  do_intrinsic(_getShortUnaligned,         jdk_internal_misc_Unsafe,    getShortUnaligned_name, getShort_signature,     F_R)  \\\n-  do_intrinsic(_getCharUnaligned,          jdk_internal_misc_Unsafe,    getCharUnaligned_name, getChar_signature,       F_R)  \\\n-  do_intrinsic(_getIntUnaligned,           jdk_internal_misc_Unsafe,    getIntUnaligned_name, getInt_signature,         F_R)  \\\n-  do_intrinsic(_getLongUnaligned,          jdk_internal_misc_Unsafe,    getLongUnaligned_name, getLong_signature,       F_R)  \\\n-  do_intrinsic(_putShortUnaligned,         jdk_internal_misc_Unsafe,    putShortUnaligned_name, putShort_signature,     F_R)  \\\n-  do_intrinsic(_putCharUnaligned,          jdk_internal_misc_Unsafe,    putCharUnaligned_name, putChar_signature,       F_R)  \\\n-  do_intrinsic(_putIntUnaligned,           jdk_internal_misc_Unsafe,    putIntUnaligned_name, putInt_signature,         F_R)  \\\n-  do_intrinsic(_putLongUnaligned,          jdk_internal_misc_Unsafe,    putLongUnaligned_name, putLong_signature,       F_R)  \\\n-                                                                                                                        \\\n-  do_signature(compareAndSetReference_signature,      \"(Ljava\/lang\/Object;JLjava\/lang\/Object;Ljava\/lang\/Object;)Z\")        \\\n-  do_signature(compareAndExchangeReference_signature, \"(Ljava\/lang\/Object;JLjava\/lang\/Object;Ljava\/lang\/Object;)Ljava\/lang\/Object;\") \\\n-  do_signature(compareAndSetLong_signature,        \"(Ljava\/lang\/Object;JJJ)Z\")                                          \\\n-  do_signature(compareAndExchangeLong_signature,   \"(Ljava\/lang\/Object;JJJ)J\")                                          \\\n-  do_signature(compareAndSetInt_signature,         \"(Ljava\/lang\/Object;JII)Z\")                                          \\\n-  do_signature(compareAndExchangeInt_signature,    \"(Ljava\/lang\/Object;JII)I\")                                          \\\n-  do_signature(compareAndSetByte_signature,        \"(Ljava\/lang\/Object;JBB)Z\")                                          \\\n-  do_signature(compareAndExchangeByte_signature,   \"(Ljava\/lang\/Object;JBB)B\")                                          \\\n-  do_signature(compareAndSetShort_signature,       \"(Ljava\/lang\/Object;JSS)Z\")                                          \\\n-  do_signature(compareAndExchangeShort_signature,  \"(Ljava\/lang\/Object;JSS)S\")                                          \\\n-                                                                                                                        \\\n-  do_name(compareAndSetReference_name,              \"compareAndSetReference\")                                           \\\n-  do_name(compareAndExchangeReference_name,         \"compareAndExchangeReference\")                                      \\\n-  do_name(compareAndExchangeReferenceAcquire_name,  \"compareAndExchangeReferenceAcquire\")                               \\\n-  do_name(compareAndExchangeReferenceRelease_name,  \"compareAndExchangeReferenceRelease\")                               \\\n-  do_name(compareAndSetLong_name,                   \"compareAndSetLong\")                                                \\\n-  do_name(compareAndExchangeLong_name,              \"compareAndExchangeLong\")                                           \\\n-  do_name(compareAndExchangeLongAcquire_name,       \"compareAndExchangeLongAcquire\")                                    \\\n-  do_name(compareAndExchangeLongRelease_name,       \"compareAndExchangeLongRelease\")                                    \\\n-  do_name(compareAndSetInt_name,                    \"compareAndSetInt\")                                                 \\\n-  do_name(compareAndExchangeInt_name,               \"compareAndExchangeInt\")                                            \\\n-  do_name(compareAndExchangeIntAcquire_name,        \"compareAndExchangeIntAcquire\")                                     \\\n-  do_name(compareAndExchangeIntRelease_name,        \"compareAndExchangeIntRelease\")                                     \\\n-  do_name(compareAndSetByte_name,                   \"compareAndSetByte\")                                                \\\n-  do_name(compareAndExchangeByte_name,              \"compareAndExchangeByte\")                                           \\\n-  do_name(compareAndExchangeByteAcquire_name,       \"compareAndExchangeByteAcquire\")                                    \\\n-  do_name(compareAndExchangeByteRelease_name,       \"compareAndExchangeByteRelease\")                                    \\\n-  do_name(compareAndSetShort_name,                  \"compareAndSetShort\")                                               \\\n-  do_name(compareAndExchangeShort_name,             \"compareAndExchangeShort\")                                          \\\n-  do_name(compareAndExchangeShortAcquire_name,      \"compareAndExchangeShortAcquire\")                                   \\\n-  do_name(compareAndExchangeShortRelease_name,      \"compareAndExchangeShortRelease\")                                   \\\n-                                                                                                                        \\\n-  do_name(weakCompareAndSetReferencePlain_name,     \"weakCompareAndSetReferencePlain\")                                  \\\n-  do_name(weakCompareAndSetReferenceAcquire_name,   \"weakCompareAndSetReferenceAcquire\")                                \\\n-  do_name(weakCompareAndSetReferenceRelease_name,   \"weakCompareAndSetReferenceRelease\")                                \\\n-  do_name(weakCompareAndSetReference_name,          \"weakCompareAndSetReference\")                                       \\\n-  do_name(weakCompareAndSetLongPlain_name,          \"weakCompareAndSetLongPlain\")                                       \\\n-  do_name(weakCompareAndSetLongAcquire_name,        \"weakCompareAndSetLongAcquire\")                                     \\\n-  do_name(weakCompareAndSetLongRelease_name,        \"weakCompareAndSetLongRelease\")                                     \\\n-  do_name(weakCompareAndSetLong_name,               \"weakCompareAndSetLong\")                                            \\\n-  do_name(weakCompareAndSetIntPlain_name,           \"weakCompareAndSetIntPlain\")                                        \\\n-  do_name(weakCompareAndSetIntAcquire_name,         \"weakCompareAndSetIntAcquire\")                                      \\\n-  do_name(weakCompareAndSetIntRelease_name,         \"weakCompareAndSetIntRelease\")                                      \\\n-  do_name(weakCompareAndSetInt_name,                \"weakCompareAndSetInt\")                                             \\\n-  do_name(weakCompareAndSetBytePlain_name,          \"weakCompareAndSetBytePlain\")                                       \\\n-  do_name(weakCompareAndSetByteAcquire_name,        \"weakCompareAndSetByteAcquire\")                                     \\\n-  do_name(weakCompareAndSetByteRelease_name,        \"weakCompareAndSetByteRelease\")                                     \\\n-  do_name(weakCompareAndSetByte_name,               \"weakCompareAndSetByte\")                                            \\\n-  do_name(weakCompareAndSetShortPlain_name,         \"weakCompareAndSetShortPlain\")                                      \\\n-  do_name(weakCompareAndSetShortAcquire_name,       \"weakCompareAndSetShortAcquire\")                                    \\\n-  do_name(weakCompareAndSetShortRelease_name,       \"weakCompareAndSetShortRelease\")                                    \\\n-  do_name(weakCompareAndSetShort_name,              \"weakCompareAndSetShort\")                                           \\\n-                                                                                                                        \\\n-  do_intrinsic(_compareAndSetReference,              jdk_internal_misc_Unsafe,  compareAndSetReference_name,              compareAndSetReference_signature,      F_RN) \\\n-  do_intrinsic(_compareAndExchangeReference,         jdk_internal_misc_Unsafe,  compareAndExchangeReference_name,         compareAndExchangeReference_signature, F_RN) \\\n-  do_intrinsic(_compareAndExchangeReferenceAcquire,  jdk_internal_misc_Unsafe,  compareAndExchangeReferenceAcquire_name,  compareAndExchangeReference_signature, F_R)  \\\n-  do_intrinsic(_compareAndExchangeReferenceRelease,  jdk_internal_misc_Unsafe,  compareAndExchangeReferenceRelease_name,  compareAndExchangeReference_signature, F_R)  \\\n-  do_intrinsic(_compareAndSetLong,                jdk_internal_misc_Unsafe,  compareAndSetLong_name,                compareAndSetLong_signature,        F_RN) \\\n-  do_intrinsic(_compareAndExchangeLong,           jdk_internal_misc_Unsafe,  compareAndExchangeLong_name,           compareAndExchangeLong_signature,   F_RN) \\\n-  do_intrinsic(_compareAndExchangeLongAcquire,    jdk_internal_misc_Unsafe,  compareAndExchangeLongAcquire_name,    compareAndExchangeLong_signature,   F_R)  \\\n-  do_intrinsic(_compareAndExchangeLongRelease,    jdk_internal_misc_Unsafe,  compareAndExchangeLongRelease_name,    compareAndExchangeLong_signature,   F_R)  \\\n-  do_intrinsic(_compareAndSetInt,                 jdk_internal_misc_Unsafe,  compareAndSetInt_name,                 compareAndSetInt_signature,         F_RN) \\\n-  do_intrinsic(_compareAndExchangeInt,            jdk_internal_misc_Unsafe,  compareAndExchangeInt_name,            compareAndExchangeInt_signature,    F_RN) \\\n-  do_intrinsic(_compareAndExchangeIntAcquire,     jdk_internal_misc_Unsafe,  compareAndExchangeIntAcquire_name,     compareAndExchangeInt_signature,    F_R)  \\\n-  do_intrinsic(_compareAndExchangeIntRelease,     jdk_internal_misc_Unsafe,  compareAndExchangeIntRelease_name,     compareAndExchangeInt_signature,    F_R)  \\\n-  do_intrinsic(_compareAndSetByte,                jdk_internal_misc_Unsafe,  compareAndSetByte_name,                compareAndSetByte_signature,        F_R)  \\\n-  do_intrinsic(_compareAndExchangeByte,           jdk_internal_misc_Unsafe,  compareAndExchangeByte_name,           compareAndExchangeByte_signature,   F_R)  \\\n-  do_intrinsic(_compareAndExchangeByteAcquire,    jdk_internal_misc_Unsafe,  compareAndExchangeByteAcquire_name,    compareAndExchangeByte_signature,   F_R)  \\\n-  do_intrinsic(_compareAndExchangeByteRelease,    jdk_internal_misc_Unsafe,  compareAndExchangeByteRelease_name,    compareAndExchangeByte_signature,   F_R)  \\\n-  do_intrinsic(_compareAndSetShort,               jdk_internal_misc_Unsafe,  compareAndSetShort_name,               compareAndSetShort_signature,       F_R)  \\\n-  do_intrinsic(_compareAndExchangeShort,          jdk_internal_misc_Unsafe,  compareAndExchangeShort_name,          compareAndExchangeShort_signature,  F_R)  \\\n-  do_intrinsic(_compareAndExchangeShortAcquire,   jdk_internal_misc_Unsafe,  compareAndExchangeShortAcquire_name,   compareAndExchangeShort_signature,  F_R)  \\\n-  do_intrinsic(_compareAndExchangeShortRelease,   jdk_internal_misc_Unsafe,  compareAndExchangeShortRelease_name,   compareAndExchangeShort_signature,  F_R)  \\\n-                                                                                                                                                             \\\n-  do_intrinsic(_weakCompareAndSetReferencePlain,  jdk_internal_misc_Unsafe,  weakCompareAndSetReferencePlain_name,     compareAndSetReference_signature,      F_R) \\\n-  do_intrinsic(_weakCompareAndSetReferenceAcquire,jdk_internal_misc_Unsafe,  weakCompareAndSetReferenceAcquire_name,   compareAndSetReference_signature,      F_R) \\\n-  do_intrinsic(_weakCompareAndSetReferenceRelease,jdk_internal_misc_Unsafe,  weakCompareAndSetReferenceRelease_name,   compareAndSetReference_signature,      F_R) \\\n-  do_intrinsic(_weakCompareAndSetReference,       jdk_internal_misc_Unsafe,  weakCompareAndSetReference_name,          compareAndSetReference_signature,      F_R) \\\n-  do_intrinsic(_weakCompareAndSetLongPlain,       jdk_internal_misc_Unsafe,  weakCompareAndSetLongPlain_name,       compareAndSetLong_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetLongAcquire,     jdk_internal_misc_Unsafe,  weakCompareAndSetLongAcquire_name,     compareAndSetLong_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetLongRelease,     jdk_internal_misc_Unsafe,  weakCompareAndSetLongRelease_name,     compareAndSetLong_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetLong,            jdk_internal_misc_Unsafe,  weakCompareAndSetLong_name,            compareAndSetLong_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetIntPlain,        jdk_internal_misc_Unsafe,  weakCompareAndSetIntPlain_name,        compareAndSetInt_signature,         F_R) \\\n-  do_intrinsic(_weakCompareAndSetIntAcquire,      jdk_internal_misc_Unsafe,  weakCompareAndSetIntAcquire_name,      compareAndSetInt_signature,         F_R) \\\n-  do_intrinsic(_weakCompareAndSetIntRelease,      jdk_internal_misc_Unsafe,  weakCompareAndSetIntRelease_name,      compareAndSetInt_signature,         F_R) \\\n-  do_intrinsic(_weakCompareAndSetInt,             jdk_internal_misc_Unsafe,  weakCompareAndSetInt_name,             compareAndSetInt_signature,         F_R) \\\n-  do_intrinsic(_weakCompareAndSetBytePlain,       jdk_internal_misc_Unsafe,  weakCompareAndSetBytePlain_name,       compareAndSetByte_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetByteAcquire,     jdk_internal_misc_Unsafe,  weakCompareAndSetByteAcquire_name,     compareAndSetByte_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetByteRelease,     jdk_internal_misc_Unsafe,  weakCompareAndSetByteRelease_name,     compareAndSetByte_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetByte,            jdk_internal_misc_Unsafe,  weakCompareAndSetByte_name,            compareAndSetByte_signature,        F_R) \\\n-  do_intrinsic(_weakCompareAndSetShortPlain,      jdk_internal_misc_Unsafe,  weakCompareAndSetShortPlain_name,      compareAndSetShort_signature,       F_R) \\\n-  do_intrinsic(_weakCompareAndSetShortAcquire,    jdk_internal_misc_Unsafe,  weakCompareAndSetShortAcquire_name,    compareAndSetShort_signature,       F_R) \\\n-  do_intrinsic(_weakCompareAndSetShortRelease,    jdk_internal_misc_Unsafe,  weakCompareAndSetShortRelease_name,    compareAndSetShort_signature,       F_R) \\\n-  do_intrinsic(_weakCompareAndSetShort,           jdk_internal_misc_Unsafe,  weakCompareAndSetShort_name,           compareAndSetShort_signature,       F_R) \\\n-                           \\\n-  do_intrinsic(_getAndAddInt,             jdk_internal_misc_Unsafe,     getAndAddInt_name, getAndAddInt_signature, F_R)       \\\n-   do_name(     getAndAddInt_name,                                      \"getAndAddInt\")                                       \\\n-   do_signature(getAndAddInt_signature,                                 \"(Ljava\/lang\/Object;JI)I\" )                           \\\n-  do_intrinsic(_getAndAddLong,            jdk_internal_misc_Unsafe,     getAndAddLong_name, getAndAddLong_signature, F_R)     \\\n-   do_name(     getAndAddLong_name,                                     \"getAndAddLong\")                                      \\\n-   do_signature(getAndAddLong_signature,                                \"(Ljava\/lang\/Object;JJ)J\" )                           \\\n-  do_intrinsic(_getAndAddByte,            jdk_internal_misc_Unsafe,     getAndAddByte_name, getAndAddByte_signature, F_R)     \\\n-   do_name(     getAndAddByte_name,                                     \"getAndAddByte\")                                      \\\n-   do_signature(getAndAddByte_signature,                                \"(Ljava\/lang\/Object;JB)B\" )                           \\\n-  do_intrinsic(_getAndAddShort,           jdk_internal_misc_Unsafe,     getAndAddShort_name, getAndAddShort_signature, F_R)   \\\n-   do_name(     getAndAddShort_name,                                    \"getAndAddShort\")                                     \\\n-   do_signature(getAndAddShort_signature,                               \"(Ljava\/lang\/Object;JS)S\" )                           \\\n-  do_intrinsic(_getAndSetInt,             jdk_internal_misc_Unsafe,     getAndSetInt_name, getAndSetInt_signature, F_R)       \\\n-   do_name(     getAndSetInt_name,                                      \"getAndSetInt\")                                       \\\n-   do_alias(    getAndSetInt_signature,                                 \/*\"(Ljava\/lang\/Object;JI)I\"*\/ getAndAddInt_signature)   \\\n-  do_intrinsic(_getAndSetLong,            jdk_internal_misc_Unsafe,     getAndSetLong_name, getAndSetLong_signature, F_R)     \\\n-   do_name(     getAndSetLong_name,                                     \"getAndSetLong\")                                      \\\n-   do_alias(    getAndSetLong_signature,                                \/*\"(Ljava\/lang\/Object;JJ)J\"*\/ getAndAddLong_signature)  \\\n-  do_intrinsic(_getAndSetByte,            jdk_internal_misc_Unsafe,     getAndSetByte_name, getAndSetByte_signature, F_R)     \\\n-   do_name(     getAndSetByte_name,                                     \"getAndSetByte\")                                      \\\n-   do_alias(    getAndSetByte_signature,                                \/*\"(Ljava\/lang\/Object;JB)B\"*\/ getAndAddByte_signature)  \\\n-  do_intrinsic(_getAndSetShort,           jdk_internal_misc_Unsafe,     getAndSetShort_name, getAndSetShort_signature, F_R)   \\\n-   do_name(     getAndSetShort_name,                                    \"getAndSetShort\")                                     \\\n-   do_alias(    getAndSetShort_signature,                               \/*\"(Ljava\/lang\/Object;JS)S\"*\/ getAndAddShort_signature) \\\n-  do_intrinsic(_getAndSetReference,       jdk_internal_misc_Unsafe,     getAndSetReference_name, getAndSetReference_signature, F_R) \\\n-   do_name(     getAndSetReference_name,                                \"getAndSetReference\")                                  \\\n-   do_signature(getAndSetReference_signature,                           \"(Ljava\/lang\/Object;JLjava\/lang\/Object;)Ljava\/lang\/Object;\" ) \\\n-                                                                                                                               \\\n-   \/* (2) Bytecode intrinsics                                                                        *\/                        \\\n-                                                                                                                               \\\n-  do_intrinsic(_park,                     jdk_internal_misc_Unsafe,     park_name, park_signature,                     F_R)    \\\n-   do_name(     park_name,                                              \"park\")                                                \\\n-   do_signature(park_signature,                                         \"(ZJ)V\")                                               \\\n-  do_intrinsic(_unpark,                   jdk_internal_misc_Unsafe,     unpark_name, unpark_signature,                 F_R)    \\\n-   do_name(     unpark_name,                                            \"unpark\")                                              \\\n-   do_alias(    unpark_signature,                                       \/*(LObject;)V*\/ object_void_signature)                 \\\n-                                                                                                                               \\\n-  do_intrinsic(_StringBuilder_void,   java_lang_StringBuilder, object_initializer_name, void_method_signature,     F_R)   \\\n-  do_intrinsic(_StringBuilder_int,    java_lang_StringBuilder, object_initializer_name, int_void_signature,        F_R)   \\\n-  do_intrinsic(_StringBuilder_String, java_lang_StringBuilder, object_initializer_name, string_void_signature,     F_R)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_StringBuilder_append_char,   java_lang_StringBuilder, append_name, char_StringBuilder_signature,   F_R)   \\\n-  do_intrinsic(_StringBuilder_append_int,    java_lang_StringBuilder, append_name, int_StringBuilder_signature,    F_R)   \\\n-  do_intrinsic(_StringBuilder_append_String, java_lang_StringBuilder, append_name, String_StringBuilder_signature, F_R)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_StringBuilder_toString, java_lang_StringBuilder, toString_name, void_string_signature,             F_R)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_StringBuffer_void,   java_lang_StringBuffer, object_initializer_name, void_method_signature,       F_R)   \\\n-  do_intrinsic(_StringBuffer_int,    java_lang_StringBuffer, object_initializer_name, int_void_signature,          F_R)   \\\n-  do_intrinsic(_StringBuffer_String, java_lang_StringBuffer, object_initializer_name, string_void_signature,       F_R)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_StringBuffer_append_char,   java_lang_StringBuffer, append_name, char_StringBuffer_signature,      F_Y)   \\\n-  do_intrinsic(_StringBuffer_append_int,    java_lang_StringBuffer, append_name, int_StringBuffer_signature,       F_Y)   \\\n-  do_intrinsic(_StringBuffer_append_String, java_lang_StringBuffer, append_name, String_StringBuffer_signature,    F_Y)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_StringBuffer_toString,  java_lang_StringBuffer, toString_name, void_string_signature,              F_Y)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_Integer_toString,      java_lang_Integer, toString_name, int_String_signature,                     F_S)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_String_String, java_lang_String, object_initializer_name, string_void_signature,                   F_R)   \\\n-                                                                                                                          \\\n-  do_intrinsic(_Object_init,              java_lang_Object, object_initializer_name, void_method_signature,        F_R)   \\\n-  \/*    (symbol object_initializer_name defined above) *\/                                                                 \\\n-                                                                                                                          \\\n-  do_intrinsic(_invoke,                   java_lang_reflect_Method, invoke_name, object_object_array_object_signature, F_R) \\\n-  \/*   (symbols invoke_name and invoke_signature defined above) *\/                                                      \\\n-  \/* the polymorphic MH intrinsics must be in compact order, with _invokeGeneric first and _linkToInterface last *\/     \\\n-  do_intrinsic(_invokeGeneric,            java_lang_invoke_MethodHandle, invoke_name,           star_name, F_RN)        \\\n-  do_intrinsic(_invokeBasic,              java_lang_invoke_MethodHandle, invokeBasic_name,      star_name, F_RN)        \\\n-  do_intrinsic(_linkToVirtual,            java_lang_invoke_MethodHandle, linkToVirtual_name,    star_name, F_SN)        \\\n-  do_intrinsic(_linkToStatic,             java_lang_invoke_MethodHandle, linkToStatic_name,     star_name, F_SN)        \\\n-  do_intrinsic(_linkToSpecial,            java_lang_invoke_MethodHandle, linkToSpecial_name,    star_name, F_SN)        \\\n-  do_intrinsic(_linkToInterface,          java_lang_invoke_MethodHandle, linkToInterface_name,  star_name, F_SN)        \\\n-  \/* special marker for bytecode generated for the JVM from a LambdaForm: *\/                                            \\\n-  do_intrinsic(_compiledLambdaForm,       java_lang_invoke_MethodHandle, compiledLambdaForm_name, star_name, F_RN)      \\\n-                                                                                                                        \\\n-  \/* unboxing methods: *\/                                                                                               \\\n-  do_intrinsic(_booleanValue,             java_lang_Boolean,      booleanValue_name, void_boolean_signature, F_R)       \\\n-   do_name(     booleanValue_name,       \"booleanValue\")                                                                \\\n-  do_intrinsic(_byteValue,                java_lang_Byte,         byteValue_name, void_byte_signature, F_R)             \\\n-   do_name(     byteValue_name,          \"byteValue\")                                                                   \\\n-  do_intrinsic(_charValue,                java_lang_Character,    charValue_name, void_char_signature, F_R)             \\\n-   do_name(     charValue_name,          \"charValue\")                                                                   \\\n-  do_intrinsic(_shortValue,               java_lang_Short,        shortValue_name, void_short_signature, F_R)           \\\n-   do_name(     shortValue_name,         \"shortValue\")                                                                  \\\n-  do_intrinsic(_intValue,                 java_lang_Integer,      intValue_name, void_int_signature, F_R)               \\\n-   do_name(     intValue_name,           \"intValue\")                                                                    \\\n-  do_intrinsic(_longValue,                java_lang_Long,         longValue_name, void_long_signature, F_R)             \\\n-   do_name(     longValue_name,          \"longValue\")                                                                   \\\n-  do_intrinsic(_floatValue,               java_lang_Float,        floatValue_name, void_float_signature, F_R)           \\\n-   do_name(     floatValue_name,         \"floatValue\")                                                                  \\\n-  do_intrinsic(_doubleValue,              java_lang_Double,       doubleValue_name, void_double_signature, F_R)         \\\n-   do_name(     doubleValue_name,        \"doubleValue\")                                                                 \\\n-                                                                                                                        \\\n-  \/* boxing methods: *\/                                                                                                 \\\n-   do_name(    valueOf_name,              \"valueOf\")                                                                    \\\n-  do_intrinsic(_Boolean_valueOf,          java_lang_Boolean,      valueOf_name, Boolean_valueOf_signature, F_S)         \\\n-   do_name(     Boolean_valueOf_signature,                       \"(Z)Ljava\/lang\/Boolean;\")                              \\\n-  do_intrinsic(_Byte_valueOf,             java_lang_Byte,         valueOf_name, Byte_valueOf_signature, F_S)            \\\n-   do_name(     Byte_valueOf_signature,                          \"(B)Ljava\/lang\/Byte;\")                                 \\\n-  do_intrinsic(_Character_valueOf,        java_lang_Character,    valueOf_name, Character_valueOf_signature, F_S)       \\\n-   do_name(     Character_valueOf_signature,                     \"(C)Ljava\/lang\/Character;\")                            \\\n-  do_intrinsic(_Short_valueOf,            java_lang_Short,        valueOf_name, Short_valueOf_signature, F_S)           \\\n-   do_name(     Short_valueOf_signature,                         \"(S)Ljava\/lang\/Short;\")                                \\\n-  do_intrinsic(_Integer_valueOf,          java_lang_Integer,      valueOf_name, Integer_valueOf_signature, F_S)         \\\n-   do_name(     Integer_valueOf_signature,                       \"(I)Ljava\/lang\/Integer;\")                              \\\n-  do_intrinsic(_Long_valueOf,             java_lang_Long,         valueOf_name, Long_valueOf_signature, F_S)            \\\n-   do_name(     Long_valueOf_signature,                          \"(J)Ljava\/lang\/Long;\")                                 \\\n-  do_intrinsic(_Float_valueOf,            java_lang_Float,        valueOf_name, Float_valueOf_signature, F_S)           \\\n-   do_name(     Float_valueOf_signature,                         \"(F)Ljava\/lang\/Float;\")                                \\\n-  do_intrinsic(_Double_valueOf,           java_lang_Double,       valueOf_name, Double_valueOf_signature, F_S)          \\\n-   do_name(     Double_valueOf_signature,                        \"(D)Ljava\/lang\/Double;\")                               \\\n-                                                                                                                        \\\n-  \/* forEachRemaining *\/                                                                             \\\n-  do_intrinsic(_forEachRemaining, java_util_stream_StreamsRangeIntSpliterator, forEachRemaining_name, forEachRemaining_signature, F_R) \\\n-   do_name(     forEachRemaining_name,    \"forEachRemaining\")                                                           \\\n-   do_name(     forEachRemaining_signature,                      \"(Ljava\/util\/function\/IntConsumer;)V\")                 \\\n-\n-    \/*end*\/\n-\n-\n","filename":"src\/hotspot\/share\/classfile\/vmSymbols.hpp","additions":4,"deletions":859,"binary":false,"changes":863,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n","filename":"src\/hotspot\/share\/code\/debugInfoRec.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -53,0 +53,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n@@ -1258,1 +1259,1 @@\n-                                       Thread* THREAD) {\n+                                       TRAPS) {\n@@ -1268,0 +1269,1 @@\n+  \/\/ CompileBroker::compile_method can trap and can have pending aysnc exception.\n@@ -1278,1 +1280,1 @@\n-                                         Thread* THREAD) {\n+                                         TRAPS) {\n@@ -1331,1 +1333,1 @@\n-    method->constants()->resolve_string_constants(CHECK_AND_CLEAR_NULL);\n+    method->constants()->resolve_string_constants(CHECK_AND_CLEAR_NONASYNC_NULL);\n@@ -1334,1 +1336,1 @@\n-    Method::load_signature_classes(method, CHECK_AND_CLEAR_NULL);\n+    Method::load_signature_classes(method, CHECK_AND_CLEAR_NONASYNC_NULL);\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+#include \"gc\/shared\/partialArrayTaskStepper.inline.hpp\"\n@@ -38,0 +39,1 @@\n+#include \"runtime\/atomic.hpp\"\n@@ -39,0 +41,10 @@\n+#include \"utilities\/globalDefinitions.hpp\"\n+#include \"utilities\/macros.hpp\"\n+\n+\/\/ In fastdebug builds the code size can get out of hand, potentially\n+\/\/ tripping over compiler limits (which may be bugs, but nevertheless\n+\/\/ need to be taken into consideration).  A side benefit of limiting\n+\/\/ inlining is that we get more call frames that might aid debugging.\n+\/\/ And the fastdebug compile time for this file is much reduced.\n+\/\/ Explicit NOINLINE to block ATTRIBUTE_FLATTENing.\n+#define MAYBE_INLINE_EVACUATION NOT_DEBUG(inline) DEBUG_ONLY(NOINLINE)\n@@ -43,0 +55,1 @@\n+                                           uint n_workers,\n@@ -63,0 +76,2 @@\n+    _partial_objarray_chunk_size(ParGCArrayScanChunk),\n+    _partial_array_stepper(n_workers),\n@@ -158,1 +173,3 @@\n-template <class T> void G1ParScanThreadState::do_oop_evac(T* p) {\n+template <class T>\n+MAYBE_INLINE_EVACUATION\n+void G1ParScanThreadState::do_oop_evac(T* p) {\n@@ -197,0 +214,1 @@\n+MAYBE_INLINE_EVACUATION\n@@ -202,5 +220,2 @@\n-  objArrayOop from_obj_array = objArrayOop(from_obj);\n-  \/\/ The from-space object contains the real length.\n-  int length                 = from_obj_array->length();\n-\n-  oop to_obj                 = from_obj->forwardee();\n+\n+  oop to_obj = from_obj->forwardee();\n@@ -209,16 +224,8 @@\n-  objArrayOop to_obj_array   = objArrayOop(to_obj);\n-  \/\/ We keep track of the next start index in the length field of the\n-  \/\/ to-space object.\n-  int next_index             = to_obj_array->length();\n-  assert(0 <= next_index && next_index < length,\n-         \"invariant, next index: %d, length: %d\", next_index, length);\n-\n-  int start                  = next_index;\n-  int end                    = length;\n-  int remainder              = end - start;\n-  \/\/ We'll try not to push a range that's smaller than ParGCArrayScanChunk.\n-  if (remainder > 2 * ParGCArrayScanChunk) {\n-    end = start + ParGCArrayScanChunk;\n-    to_obj_array->set_length(end);\n-    \/\/ Push the remainder before we process the range in case another\n-    \/\/ worker has run out of things to do and can steal it.\n+  assert(to_obj->is_objArray(), \"must be obj array\");\n+  objArrayOop to_array = objArrayOop(to_obj);\n+\n+  PartialArrayTaskStepper::Step step\n+    = _partial_array_stepper.next(objArrayOop(from_obj),\n+                                  to_array,\n+                                  _partial_objarray_chunk_size);\n+  for (uint i = 0; i < step._ncreate; ++i) {\n@@ -226,5 +233,0 @@\n-  } else {\n-    assert(length == end, \"sanity\");\n-    \/\/ We'll process the final range for this object. Restore the length\n-    \/\/ so that the heap remains parsable in case of evacuation failure.\n-    to_obj_array->set_length(end);\n@@ -233,1 +235,1 @@\n-  HeapRegion* hr = _g1h->heap_region_containing(to_obj);\n+  HeapRegion* hr = _g1h->heap_region_containing(to_array);\n@@ -235,9 +237,37 @@\n-  \/\/ Process indexes [start,end). It will also process the header\n-  \/\/ along with the first chunk (i.e., the chunk with start == 0).\n-  \/\/ Note that at this point the length field of to_obj_array is not\n-  \/\/ correct given that we are using it to keep track of the next\n-  \/\/ start index. oop_iterate_range() (thankfully!) ignores the length\n-  \/\/ field and only relies on the start \/ end parameters.  It does\n-  \/\/ however return the size of the object which will be incorrect. So\n-  \/\/ we have to ignore it even if we wanted to use it.\n-  to_obj_array->oop_iterate_range(&_scanner, start, end);\n+  \/\/ Process claimed task.  The length of to_array is not correct, but\n+  \/\/ fortunately the iteration ignores the length field and just relies\n+  \/\/ on start\/end.\n+  to_array->oop_iterate_range(&_scanner,\n+                              step._index,\n+                              step._index + _partial_objarray_chunk_size);\n+}\n+\n+MAYBE_INLINE_EVACUATION\n+void G1ParScanThreadState::start_partial_objarray(G1HeapRegionAttr dest_attr,\n+                                                  oop from_obj,\n+                                                  oop to_obj) {\n+  assert(from_obj->is_objArray(), \"precondition\");\n+  assert(from_obj->is_forwarded(), \"precondition\");\n+  assert(from_obj->forwardee() == to_obj, \"precondition\");\n+  assert(from_obj != to_obj, \"should not be scanning self-forwarded objects\");\n+  assert(to_obj->is_objArray(), \"precondition\");\n+\n+  objArrayOop to_array = objArrayOop(to_obj);\n+\n+  PartialArrayTaskStepper::Step step\n+    = _partial_array_stepper.start(objArrayOop(from_obj),\n+                                   to_array,\n+                                   _partial_objarray_chunk_size);\n+\n+  \/\/ Push any needed partial scan tasks.  Pushed before processing the\n+  \/\/ intitial chunk to allow other workers to steal while we're processing.\n+  for (uint i = 0; i < step._ncreate; ++i) {\n+    push_on_queue(ScannerTask(PartialArrayScanTask(from_obj)));\n+  }\n+\n+  G1ScanInYoungSetter x(&_scanner, dest_attr.is_young());\n+  \/\/ Process the initial chunk.  No need to process the type in the\n+  \/\/ klass, as it will already be handled by processing the built-in\n+  \/\/ module. The length of to_array is not correct, but fortunately\n+  \/\/ the iteration ignores that length field and relies on start\/end.\n+  to_array->oop_iterate_range(&_scanner, 0, step._index);\n@@ -246,0 +276,1 @@\n+MAYBE_INLINE_EVACUATION\n@@ -391,0 +422,1 @@\n+MAYBE_INLINE_EVACUATION\n@@ -397,1 +429,4 @@\n-  const size_t word_sz = old->size();\n+  \/\/ Get the klass once.  We'll need it again later, and this avoids\n+  \/\/ re-decoding when it's compressed.\n+  Klass* klass = old->klass();\n+  const size_t word_sz = old->size_given_klass(klass);\n@@ -464,0 +499,15 @@\n+    \/\/ Most objects are not arrays, so do one array check rather than\n+    \/\/ checking for each array category for each object.\n+    \/\/ CMH: Valhalla flat arrays can split this work up, but for now, doesn't\n+    if (klass->is_array_klass() && !klass->is_flatArray_klass()) {\n+      if (klass->is_objArray_klass()) {\n+        start_partial_objarray(dest_attr, old, obj);\n+      } else {\n+        \/\/ Nothing needs to be done for typeArrays.  Body doesn't contain\n+        \/\/ any oops to scan, and the type in the klass will already be handled\n+        \/\/ by processing the built-in module.\n+        assert(klass->is_typeArray_klass(), \"invariant\");\n+      }\n+      return obj;\n+    }\n+\n@@ -477,10 +527,2 @@\n-    if (obj->is_objArray() && arrayOop(obj)->length() >= ParGCArrayScanChunk) {\n-      \/\/ We keep track of the next start index in the length field of\n-      \/\/ the to-space object. The actual length can be found in the\n-      \/\/ length field of the from-space object.\n-      arrayOop(obj)->set_length(0);\n-      do_partial_array(PartialArrayScanTask(old));\n-    } else {\n-      G1ScanInYoungSetter x(&_scanner, dest_attr.is_young());\n-      obj->oop_iterate_backwards(&_scanner);\n-    }\n+    G1ScanInYoungSetter x(&_scanner, dest_attr.is_young());\n+    obj->oop_iterate_backwards(&_scanner);\n@@ -488,0 +530,1 @@\n+\n@@ -506,1 +549,3 @@\n-      new G1ParScanThreadState(_g1h, _rdcqs, worker_id, _young_cset_length, _optional_cset_length);\n+      new G1ParScanThreadState(_g1h, _rdcqs,\n+                               worker_id, _n_workers,\n+                               _young_cset_length, _optional_cset_length);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.cpp","additions":94,"deletions":49,"binary":false,"changes":143,"status":"modified"},{"patch":"@@ -2014,4 +2014,0 @@\n-    case ParallelRootType::object_synchronizer:\n-      ObjectSynchronizer::oops_do(&mark_and_push_closure);\n-      break;\n-\n@@ -2228,1 +2224,0 @@\n-  ObjectSynchronizer::oops_do(&oop_closure);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -548,0 +548,1 @@\n+        \/\/ Only metaspace OOM is expected. No Java code executed.\n@@ -1224,0 +1225,1 @@\n+  \/\/ frequency_counter_overflow_inner can throw async exception.\n@@ -1265,3 +1267,0 @@\n-  if (HAS_PENDING_EXCEPTION) {\n-    return NULL;\n-  }\n@@ -1278,2 +1277,1 @@\n-  nmethod* osr_nm = CompilationPolicy::policy()->event(method, method, branch_bci, bci, CompLevel_none, NULL, thread);\n-  assert(!HAS_PENDING_EXCEPTION, \"Event handler should not throw any exceptions\");\n+  nmethod* osr_nm = CompilationPolicy::policy()->event(method, method, branch_bci, bci, CompLevel_none, NULL, THREAD);\n@@ -1320,3 +1318,0 @@\n-  if (HAS_PENDING_EXCEPTION) {\n-    return;\n-  }\n@@ -1333,0 +1328,1 @@\n+    \/\/ Only metaspace OOM is expected. No Java code executed.\n@@ -1392,0 +1388,1 @@\n+    \/\/ Only metaspace OOM is expected. No Java code executed.\n","filename":"src\/hotspot\/share\/interpreter\/interpreterRuntime.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-      CompileBroker::compile_method(mh, InvocationEntryBci, CompLevel_full_optimization, mh, hot_count, CompileTask::Reason_Bootstrap, THREAD);\n+      CompileBroker::compile_method(mh, InvocationEntryBci, CompLevel_full_optimization, mh, hot_count, CompileTask::Reason_Bootstrap, CHECK);\n","filename":"src\/hotspot\/share\/jvmci\/jvmciCompiler.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,0 +51,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n@@ -239,1 +240,1 @@\n-    JVMCI_ERROR_NULL(\"VM flag %s has unsupported type %s\", flag->_name, flag->_type);\n+    JVMCI_ERROR_NULL(\"VM flag %s has unsupported type %s\", flag->name(), flag->type_string());\n","filename":"src\/hotspot\/share\/jvmci\/jvmciCompilerToVM.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -30,1 +30,2 @@\n-\/\/ List of available logging tags. New tags should be added here.\n+\/\/ List of available logging tags. New tags should be added here, in\n+\/\/ alphabetical order.\n@@ -37,1 +38,1 @@\n-  LOG_TAG(aot) \\\n+  LOG_TAG(aot) \\\n@@ -56,1 +57,1 @@\n-  LOG_TAG(constraints) \\\n+  LOG_TAG(constraints) \\\n@@ -104,1 +105,0 @@\n-  LOG_TAG(methodcomparator) \\\n@@ -107,0 +107,1 @@\n+  LOG_TAG(methodcomparator) \\\n@@ -108,0 +109,1 @@\n+  LOG_TAG(mirror) \\\n@@ -126,0 +128,1 @@\n+  LOG_TAG(parser) \\\n@@ -132,0 +135,1 @@\n+  LOG_TAG(preorder)  \/* Trace all classes loaded in order referenced (not loaded) *\/ \\\n@@ -135,2 +139,3 @@\n-  LOG_TAG(preorder) \/* Trace all classes loaded in order referenced (not loaded) *\/ \\\n-  LOG_TAG(ref) \\\n+  LOG_TAG(ptrqueue) \\\n+  LOG_TAG(purge) \\\n+  LOG_TAG(record) \\\n@@ -139,0 +144,1 @@\n+  LOG_TAG(ref) \\\n@@ -143,4 +149,0 @@\n-  LOG_TAG(parser) \\\n-  LOG_TAG(ptrqueue) \\\n-  LOG_TAG(purge) \\\n-  LOG_TAG(record) \\\n@@ -154,0 +156,1 @@\n+  LOG_TAG(stackmap) \\\n@@ -163,2 +166,0 @@\n-  LOG_TAG(symboltable) \\\n-  LOG_TAG(stackmap) \\\n@@ -168,0 +169,1 @@\n+  LOG_TAG(symboltable) \\\n@@ -173,1 +175,0 @@\n-  LOG_TAG(tlab) \\\n@@ -176,0 +177,1 @@\n+  LOG_TAG(tlab) \\\n@@ -177,1 +179,0 @@\n-  LOG_TAG(update) \\\n@@ -180,1 +181,1 @@\n-  LOG_TAG(mirror) \\\n+  LOG_TAG(update) \\\n@@ -231,1 +232,1 @@\n-  static const char* _name[];\n+  static const char* const _name[];\n","filename":"src\/hotspot\/share\/logging\/logTag.hpp","additions":17,"deletions":16,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -1493,0 +1493,2 @@\n+\n+          disable_full_module_graph(); \/\/ Disabled temporarily for JDK-8253081\n","filename":"src\/hotspot\/share\/memory\/metaspaceShared.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-#include \"runtime\/flags\/jvmFlagConstraintList.hpp\"\n+#include \"runtime\/flags\/jvmFlagLimit.hpp\"\n@@ -778,1 +778,1 @@\n-  if (!JVMFlagConstraintList::check_constraints(JVMFlagConstraint::AfterMemoryInit)) {\n+  if (!JVMFlagLimit::check_all_constraints(JVMFlagConstraintPhase::AfterMemoryInit)) {\n","filename":"src\/hotspot\/share\/memory\/universe.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,0 +64,6 @@\n+  \/\/ Returns the address of the length \"field\".  See length_offset_in_bytes().\n+  static int* length_addr_impl(void* obj_ptr) {\n+    char* ptr = static_cast<char*>(obj_ptr);\n+    return reinterpret_cast<int*>(ptr + length_offset_in_bytes());\n+  }\n+\n@@ -105,7 +111,7 @@\n-  \/\/ Accessors for instance variable which is not a C++ declared nonstatic\n-  \/\/ field.\n-  int length() const {\n-    return *(int*)(((intptr_t)this) + length_offset_in_bytes());\n-  }\n-  void set_length(int length) {\n-    set_length((HeapWord*)this, length);\n+  \/\/ Accessors for array length.  There's not a member variable for\n+  \/\/ it; see length_offset_in_bytes().\n+  int length() const { return *length_addr_impl(const_cast<arrayOopDesc*>(this)); }\n+  void set_length(int length) { *length_addr_impl(this) = length; }\n+\n+  int* length_addr() {\n+    return length_addr_impl(this);\n@@ -113,0 +119,1 @@\n+\n@@ -114,1 +121,1 @@\n-    *(int*)(((char*)mem) + length_offset_in_bytes()) = length;\n+    *length_addr_impl(mem) = length;\n","filename":"src\/hotspot\/share\/oops\/arrayOop.hpp","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-    narrowKlass narrow_klass = *(obj->compressed_klass_addr());\n+    narrowKlass narrow_klass = obj->_metadata._compressed_klass;\n@@ -154,1 +154,1 @@\n-    return *(void**)(obj->klass_addr());\n+    return obj->_metadata._klass;\n","filename":"src\/hotspot\/share\/oops\/oop.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -91,4 +91,0 @@\n-  static inline Klass** klass_addr(HeapWord* mem);\n-  static inline narrowKlass* compressed_klass_addr(HeapWord* mem);\n-  inline Klass** klass_addr();\n-  inline narrowKlass* compressed_klass_addr();\n@@ -97,1 +93,1 @@\n-  static inline void release_set_klass(HeapWord* mem, Klass* klass);\n+  static inline void release_set_klass(HeapWord* mem, Klass* k);\n@@ -288,3 +284,0 @@\n-  \/\/ mark-sweep support\n-  void follow_body(int begin, int end);\n-\n","filename":"src\/hotspot\/share\/oops\/oop.hpp","additions":1,"deletions":8,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -116,29 +116,1 @@\n-Klass** oopDesc::klass_addr(HeapWord* mem) {\n-  \/\/ Only used internally and with CMS and will not work with\n-  \/\/ UseCompressedOops\n-  assert(!UseCompressedClassPointers, \"only supported with uncompressed klass pointers\");\n-  ByteSize offset = byte_offset_of(oopDesc, _metadata._klass);\n-  return (Klass**) (((char*)mem) + in_bytes(offset));\n-}\n-\n-narrowKlass* oopDesc::compressed_klass_addr(HeapWord* mem) {\n-  assert(UseCompressedClassPointers, \"only called by compressed klass pointers\");\n-  ByteSize offset = byte_offset_of(oopDesc, _metadata._compressed_klass);\n-  return (narrowKlass*) (((char*)mem) + in_bytes(offset));\n-}\n-\n-Klass** oopDesc::klass_addr() {\n-  return klass_addr((HeapWord*)this);\n-}\n-\n-narrowKlass* oopDesc::compressed_klass_addr() {\n-  return compressed_klass_addr((HeapWord*)this);\n-}\n-\n-#define CHECK_SET_KLASS(k)                                                \\\n-  do {                                                                    \\\n-    assert(Universe::is_bootstrapping() || k != NULL, \"NULL Klass\");      \\\n-    assert(Universe::is_bootstrapping() || k->is_klass(), \"not a Klass\"); \\\n-  } while (0)\n-\n-  CHECK_SET_KLASS(k);\n+  assert(Universe::is_bootstrapping() || (k != NULL && k->is_klass()), \"incorrect Klass\");\n@@ -147,1 +119,1 @@\n-    *compressed_klass_addr() = CompressedKlassPointers::encode_not_null(k);\n+    _metadata._compressed_klass = CompressedKlassPointers::encode_not_null(k);\n@@ -149,1 +121,1 @@\n-    *klass_addr() = k;\n+    _metadata._klass = k;\n@@ -153,2 +125,3 @@\n-void oopDesc::release_set_klass(HeapWord* mem, Klass* klass) {\n-  CHECK_SET_KLASS(klass);\n+void oopDesc::release_set_klass(HeapWord* mem, Klass* k) {\n+  assert(Universe::is_bootstrapping() || (k != NULL && k->is_klass()), \"incorrect Klass\");\n+  char* raw_mem = ((char*)mem + klass_offset_in_bytes());\n@@ -156,2 +129,2 @@\n-    Atomic::release_store(compressed_klass_addr(mem),\n-                          CompressedKlassPointers::encode_not_null(klass));\n+    Atomic::release_store((narrowKlass*)raw_mem,\n+                          CompressedKlassPointers::encode_not_null(k));\n@@ -159,1 +132,1 @@\n-    Atomic::release_store(klass_addr(mem), klass);\n+    Atomic::release_store((Klass**)raw_mem, k);\n@@ -161,1 +134,0 @@\n-  assert(((oopDesc*)mem)->klass() == klass, \"failed oopDesc::klass() encode\/decode\");\n@@ -164,2 +136,0 @@\n-#undef CHECK_SET_KLASS\n-\n","filename":"src\/hotspot\/share\/oops\/oop.inline.hpp","additions":9,"deletions":39,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+#include \"runtime\/mutexLocker.hpp\"\n@@ -66,7 +67,8 @@\n-    \/\/ To get deterministic output from -Xshare:dump, we ensure that Symbols are allocated in\n-    \/\/ increasing addresses. When the symbols are copied into the archive, we preserve their\n-    \/\/ relative address order (see SortedSymbolClosure in metaspaceShared.cpp)\n-    \/\/\n-    \/\/ We cannot use arena because arena chunks are allocated by the OS. As a result, for example,\n-    \/\/ the archived symbol of \"java\/lang\/Object\" may sometimes be lower than \"java\/lang\/String\", and\n-    \/\/ sometimes be higher. This would cause non-deterministic contents in the archive.\n+   MutexLocker ml(DumpRegion_lock, Mutex::_no_safepoint_check_flag);\n+   \/\/ To get deterministic output from -Xshare:dump, we ensure that Symbols are allocated in\n+   \/\/ increasing addresses. When the symbols are copied into the archive, we preserve their\n+   \/\/ relative address order (sorted, see ArchiveBuilder::gather_klasses_and_symbols).\n+   \/\/\n+   \/\/ We cannot use arena because arena chunks are allocated by the OS. As a result, for example,\n+   \/\/ the archived symbol of \"java\/lang\/Object\" may sometimes be lower than \"java\/lang\/String\", and\n+   \/\/ sometimes be higher. This would cause non-deterministic contents in the archive.\n","filename":"src\/hotspot\/share\/oops\/symbol.cpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -758,1 +758,22 @@\n-Node *OrINode::Ideal(PhaseGVN *phase, bool can_reshape) {\n+\/\/ Find shift value for Integer or Long OR.\n+Node* rotate_shift(PhaseGVN* phase, Node* lshift, Node* rshift, int mask) {\n+  \/\/ val << norm_con_shift | val >> ({32|64} - norm_con_shift) => rotate_left val, norm_con_shift\n+  const TypeInt* lshift_t = phase->type(lshift)->isa_int();\n+  const TypeInt* rshift_t = phase->type(rshift)->isa_int();\n+  if (lshift_t != NULL && lshift_t->is_con() &&\n+      rshift_t != NULL && rshift_t->is_con() &&\n+      ((lshift_t->get_con() & mask) == ((mask + 1) - (rshift_t->get_con() & mask)))) {\n+    return phase->intcon(lshift_t->get_con() & mask);\n+  }\n+  \/\/ val << var_shift | val >> ({0|32|64} - var_shift) => rotate_left val, var_shift\n+  if (rshift->Opcode() == Op_SubI && rshift->in(2) == lshift && rshift->in(1)->is_Con()){\n+    const TypeInt* shift_t = phase->type(rshift->in(1))->isa_int();\n+    if (shift_t != NULL && shift_t->is_con() &&\n+        (shift_t->get_con() == 0 || shift_t->get_con() == (mask + 1))) {\n+      return lshift;\n+    }\n+  }\n+  return NULL;\n+}\n+\n+Node* OrINode::Ideal(PhaseGVN* phase, bool can_reshape) {\n@@ -763,13 +784,5 @@\n-     Node *lshift = in(1)->in(2);\n-     Node *rshift = in(2)->in(2);\n-     \/\/ val << norm_con_shift | val >> (32 - norm_con_shift) => rotate_left val , norm_con_shift\n-     if (lshift->is_Con() && rshift->is_Con() &&\n-         ((lshift->get_int() & 0x1F) == (32 - (rshift->get_int() & 0x1F)))) {\n-       return  new RotateLeftNode(in(1)->in(1),\n-                 phase->intcon(lshift->get_int() & 0x1F), TypeInt::INT);\n-     }\n-     \/\/ val << var_shift | val >> (0\/32 - var_shift) => rotate_left val , var_shift\n-     if (rshift->Opcode() == Op_SubI && rshift->in(2) == lshift &&\n-         rshift->in(1)->is_Con() &&\n-         (rshift->in(1)->get_int() == 0 || rshift->in(1)->get_int() == 32)) {\n-       return  new RotateLeftNode(in(1)->in(1), lshift, TypeInt::INT);\n+     Node* lshift = in(1)->in(2);\n+     Node* rshift = in(2)->in(2);\n+     Node* shift = rotate_shift(phase, lshift, rshift, 0x1F);\n+     if (shift != NULL) {\n+       return new RotateLeftNode(in(1)->in(1), shift, TypeInt::INT);\n@@ -777,0 +790,1 @@\n+     return NULL;\n@@ -782,11 +796,3 @@\n-     \/\/ val >> norm_con_shift | val << (32 - norm_con_shift) => rotate_right val , norm_con_shift\n-     if (rshift->is_Con() && lshift->is_Con() &&\n-         ((rshift->get_int() & 0x1F) == (32 - (lshift->get_int() & 0x1F)))) {\n-       return  new RotateRightNode(in(1)->in(1),\n-                 phase->intcon(rshift->get_int() & 0x1F), TypeInt::INT);\n-     }\n-     \/\/ val >> var_shift | val << (0\/32 - var_shift) => rotate_right val , var_shift\n-     if (lshift->Opcode() == Op_SubI && lshift->in(2) == rshift &&\n-         lshift->in(1)->is_Con() &&\n-         (lshift->in(1)->get_int() == 0 || lshift->in(1)->get_int() == 32)) {\n-       return  new RotateRightNode(in(1)->in(1), rshift, TypeInt::INT);\n+     Node* shift = rotate_shift(phase, rshift, lshift, 0x1F);\n+     if (shift != NULL) {\n+       return new RotateRightNode(in(1)->in(1), shift, TypeInt::INT);\n@@ -839,1 +845,1 @@\n-Node *OrLNode::Ideal(PhaseGVN *phase, bool can_reshape) {\n+Node* OrLNode::Ideal(PhaseGVN* phase, bool can_reshape) {\n@@ -844,14 +850,7 @@\n-     Node *lshift = in(1)->in(2);\n-     Node *rshift = in(2)->in(2);\n-     \/\/ val << norm_con_shift | val >> (64 - norm_con_shift) => rotate_left val , norm_con_shift\n-     if (lshift->is_Con() && rshift->is_Con() &&\n-         ((lshift->get_int() & 0x3F) == (64 - (rshift->get_int() & 0x3F)))) {\n-       return  new RotateLeftNode(in(1)->in(1),\n-                 phase->intcon(lshift->get_int() & 0x3F), TypeLong::LONG);\n-     }\n-     \/\/ val << var_shift | val >> (0\/64 - var_shift) => rotate_left val , var_shift\n-     if (rshift->Opcode() == Op_SubI && rshift->in(2) == lshift &&\n-         rshift->in(1)->is_Con() &&\n-         (rshift->in(1)->get_int() == 0 || rshift->in(1)->get_int() == 64)) {\n-       return  new RotateLeftNode(in(1)->in(1), lshift, TypeLong::LONG);\n-     }\n+    Node* lshift = in(1)->in(2);\n+    Node* rshift = in(2)->in(2);\n+    Node* shift = rotate_shift(phase, lshift, rshift, 0x3F);\n+    if (shift != NULL) {\n+      return new RotateLeftNode(in(1)->in(1), shift, TypeLong::LONG);\n+    }\n+    return NULL;\n@@ -861,14 +860,6 @@\n-     Node *rshift = in(1)->in(2);\n-     Node *lshift = in(2)->in(2);\n-     \/\/ val >> norm_con_shift | val << (64 - norm_con_shift) => rotate_right val , norm_con_shift\n-     if (rshift->is_Con() && lshift->is_Con() &&\n-         ((rshift->get_int() & 0x3F) == (64 - (lshift->get_int() & 0x3F)))) {\n-       return  new RotateRightNode(in(1)->in(1),\n-                 phase->intcon(rshift->get_int() & 0x3F), TypeLong::LONG);\n-     }\n-     \/\/ val >> var_shift | val << (0\/64 - var_shift) => rotate_right val , var_shift\n-     if (lshift->Opcode() == Op_SubI && lshift->in(2) == rshift &&\n-         lshift->in(1)->is_Con() &&\n-         (lshift->in(1)->get_int() == 0 || lshift->in(1)->get_int() == 64)) {\n-       return  new RotateRightNode(in(1)->in(1), rshift, TypeLong::LONG);\n-     }\n+    Node* rshift = in(1)->in(2);\n+    Node* lshift = in(2)->in(2);\n+    Node* shift = rotate_shift(phase, rshift, lshift, 0x3F);\n+    if (shift != NULL) {\n+      return new RotateRightNode(in(1)->in(1), shift, TypeLong::LONG);\n+    }\n","filename":"src\/hotspot\/share\/opto\/addnode.cpp","additions":45,"deletions":54,"binary":false,"changes":99,"status":"modified"},{"patch":"@@ -73,1 +73,0 @@\n-class PhaseCCP_DCE;\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -359,1 +359,1 @@\n-  Node* iffast_pred = clone_loop_predicates(entry, iffast, !counted_loop, false, idx_before_clone, old_new);\n+  Node* iffast_pred = clone_predicates_to_unswitched_loop(entry, iffast, !counted_loop, false, idx_before_clone, old_new);\n@@ -362,1 +362,1 @@\n-  Node* ifslow_pred = clone_loop_predicates(entry, ifslow, !counted_loop, true, idx_before_clone, old_new);\n+  Node* ifslow_pred = clone_predicates_to_unswitched_loop(entry, ifslow, !counted_loop, true, idx_before_clone, old_new);\n","filename":"src\/hotspot\/share\/opto\/loopUnswitch.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1438,1 +1438,1 @@\n-  Node* clone_loop_predicates(Node* old_entry, Node* new_entry, bool clone_limit_check, bool is_slow_loop,\n+  Node* clone_predicates_to_unswitched_loop(Node* old_entry, Node* new_entry, bool clone_limit_check, bool is_slow_loop,\n@@ -1440,1 +1440,1 @@\n-  ProjNode* clone_loop_predicate(ProjNode* predicate_proj, Node* new_entry, Deoptimization::DeoptReason reason,\n+  ProjNode* clone_predicate_to_unswitched_loop(ProjNode* predicate_proj, Node* new_entry, Deoptimization::DeoptReason reason,\n@@ -1442,1 +1442,1 @@\n-  void clone_concrete_loop_predicates(Deoptimization::DeoptReason reason, ProjNode* old_predicate_proj,\n+  void clone_skeleton_predicates_to_unswitched_loop(Deoptimization::DeoptReason reason, ProjNode* old_predicate_proj,\n","filename":"src\/hotspot\/share\/opto\/loopnode.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+#include \"runtime\/globals_extension.hpp\"\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -99,0 +99,3 @@\n+  JvmtiThreadState *state = JvmtiThreadState::state_for(JavaThread::current());\n+  GrowableArray<Klass*>* redef_classes = state->get_classes_being_redefined();\n+\n@@ -100,0 +103,6 @@\n+\n+  if (redef_classes == NULL) {\n+    redef_classes = new(ResourceObj::C_HEAP, mtClass) GrowableArray<Klass*>(1, mtClass);\n+    state->set_classes_being_redefined(redef_classes);\n+  }\n+\n@@ -103,1 +112,4 @@\n-    \/\/ Go through classes each time until none are being redefined.\n+    \/\/ Go through classes each time until none are being redefined. Skip\n+    \/\/ the ones that are being redefined by this thread currently. Class file\n+    \/\/ load hook event may trigger new class redefine when we are redefining\n+    \/\/ a class (after lock_classes()).\n@@ -105,4 +117,10 @@\n-      if (get_ik(_class_defs[i].klass)->is_being_redefined()) {\n-        ml.wait();\n-        has_redefined = true;\n-        break;  \/\/ for loop\n+      InstanceKlass* ik = get_ik(_class_defs[i].klass);\n+      \/\/ Check if we are currently redefining the class in this thread already.\n+      if (redef_classes->contains(ik)) {\n+        assert(ik->is_being_redefined(), \"sanity\");\n+      } else {\n+        if (ik->is_being_redefined()) {\n+          ml.wait();\n+          has_redefined = true;\n+          break;  \/\/ for loop\n+        }\n@@ -112,0 +130,1 @@\n+\n@@ -113,1 +132,3 @@\n-    get_ik(_class_defs[i].klass)->set_is_being_redefined(true);\n+    InstanceKlass* ik = get_ik(_class_defs[i].klass);\n+    redef_classes->push(ik); \/\/ Add to the _classes_being_redefined list\n+    ik->set_is_being_redefined(true);\n@@ -119,0 +140,4 @@\n+  JvmtiThreadState *state = JvmtiThreadState::state_for(JavaThread::current());\n+  GrowableArray<Klass*>* redef_classes = state->get_classes_being_redefined();\n+  assert(redef_classes != NULL, \"_classes_being_redefined is not allocated\");\n+\n@@ -120,2 +145,9 @@\n-  for (int i = 0; i < _class_count; i++) {\n-    assert(get_ik(_class_defs[i].klass)->is_being_redefined(),\n+\n+  for (int i = _class_count - 1; i >= 0; i--) {\n+    InstanceKlass* def_ik = get_ik(_class_defs[i].klass);\n+    if (redef_classes->length() > 0) {\n+      \/\/ Remove the class from _classes_being_redefined list\n+      Klass* k = redef_classes->pop();\n+      assert(def_ik == k, \"unlocking wrong class\");\n+    }\n+    assert(def_ik->is_being_redefined(),\n@@ -123,1 +155,7 @@\n-    get_ik(_class_defs[i].klass)->set_is_being_redefined(false);\n+\n+    \/\/ Unlock after we finish all redefines for this class within\n+    \/\/ the thread. Same class can be pushed to the list multiple\n+    \/\/ times (not more than once by each recursive redefinition).\n+    if (!redef_classes->contains(def_ik)) {\n+      def_ik->set_is_being_redefined(false);\n+    }\n","filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp","additions":47,"deletions":9,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+#include \"runtime\/flags\/jvmFlagAccess.hpp\"\n@@ -1058,1 +1059,1 @@\n-  nmethod* nm = CompileBroker::compile_method(mh, bci, comp_level, mh, mh->invocation_count(), CompileTask::Reason_Whitebox, THREAD);\n+  nmethod* nm = CompileBroker::compile_method(mh, bci, comp_level, mh, mh->invocation_count(), CompileTask::Reason_Whitebox, CHECK_false);\n@@ -1210,2 +1211,2 @@\n-template <typename T>\n-static bool GetVMFlag(JavaThread* thread, JNIEnv* env, jstring name, T* value, JVMFlag::Error (*TAt)(const JVMFlag*, T*)) {\n+template <typename T, int type_enum>\n+static bool GetVMFlag(JavaThread* thread, JNIEnv* env, jstring name, T* value) {\n@@ -1219,1 +1220,1 @@\n-  JVMFlag::Error result = (*TAt)(flag, value);\n+  JVMFlag::Error result = JVMFlagAccess::get<T, type_enum>(flag, value);\n@@ -1224,2 +1225,2 @@\n-template <typename T>\n-static bool SetVMFlag(JavaThread* thread, JNIEnv* env, jstring name, T* value, JVMFlag::Error (*TAtPut)(JVMFlag* flag, T*, JVMFlag::Flags)) {\n+template <typename T, int type_enum>\n+static bool SetVMFlag(JavaThread* thread, JNIEnv* env, jstring name, T* value) {\n@@ -1233,1 +1234,1 @@\n-  JVMFlag::Error result = (*TAtPut)(flag, value, JVMFlag::INTERNAL);\n+  JVMFlag::Error result = JVMFlagAccess::set<T, type_enum>(flag, value, JVMFlag::INTERNAL);\n@@ -1289,1 +1290,1 @@\n-  if (GetVMFlag <bool> (thread, env, name, &result, &JVMFlag::boolAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(bool)> (thread, env, name, &result)) {\n@@ -1298,1 +1299,1 @@\n-  if (GetVMFlag <int> (thread, env, name, &result, &JVMFlag::intAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(int)> (thread, env, name, &result)) {\n@@ -1307,1 +1308,1 @@\n-  if (GetVMFlag <uint> (thread, env, name, &result, &JVMFlag::uintAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(uint)> (thread, env, name, &result)) {\n@@ -1316,1 +1317,1 @@\n-  if (GetVMFlag <intx> (thread, env, name, &result, &JVMFlag::intxAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(intx)> (thread, env, name, &result)) {\n@@ -1325,1 +1326,1 @@\n-  if (GetVMFlag <uintx> (thread, env, name, &result, &JVMFlag::uintxAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(uintx)> (thread, env, name, &result)) {\n@@ -1334,1 +1335,1 @@\n-  if (GetVMFlag <uint64_t> (thread, env, name, &result, &JVMFlag::uint64_tAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(uint64_t)> (thread, env, name, &result)) {\n@@ -1343,1 +1344,1 @@\n-  if (GetVMFlag <size_t> (thread, env, name, &result, &JVMFlag::size_tAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(size_t)> (thread, env, name, &result)) {\n@@ -1352,1 +1353,1 @@\n-  if (GetVMFlag <double> (thread, env, name, &result, &JVMFlag::doubleAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(double)> (thread, env, name, &result)) {\n@@ -1361,1 +1362,1 @@\n-  if (GetVMFlag <ccstr> (thread, env, name, &ccstrResult, &JVMFlag::ccstrAt)) {\n+  if (GetVMFlag <JVM_FLAG_TYPE(ccstr)> (thread, env, name, &ccstrResult)) {\n@@ -1372,1 +1373,1 @@\n-  SetVMFlag <bool> (thread, env, name, &result, &JVMFlag::boolAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(bool)> (thread, env, name, &result);\n@@ -1377,1 +1378,1 @@\n-  SetVMFlag <int> (thread, env, name, &result, &JVMFlag::intAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(int)> (thread, env, name, &result);\n@@ -1382,1 +1383,1 @@\n-  SetVMFlag <uint> (thread, env, name, &result, &JVMFlag::uintAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(uint)> (thread, env, name, &result);\n@@ -1387,1 +1388,1 @@\n-  SetVMFlag <intx> (thread, env, name, &result, &JVMFlag::intxAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(intx)> (thread, env, name, &result);\n@@ -1392,1 +1393,1 @@\n-  SetVMFlag <uintx> (thread, env, name, &result, &JVMFlag::uintxAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(uintx)> (thread, env, name, &result);\n@@ -1397,1 +1398,1 @@\n-  SetVMFlag <uint64_t> (thread, env, name, &result, &JVMFlag::uint64_tAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(uint64_t)> (thread, env, name, &result);\n@@ -1402,1 +1403,1 @@\n-  SetVMFlag <size_t> (thread, env, name, &result, &JVMFlag::size_tAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(size_t)> (thread, env, name, &result);\n@@ -1407,1 +1408,1 @@\n-  SetVMFlag <double> (thread, env, name, &result, &JVMFlag::doubleAtPut);\n+  SetVMFlag <JVM_FLAG_TYPE(double)> (thread, env, name, &result);\n@@ -1424,1 +1425,1 @@\n-    needFree = SetVMFlag <ccstr> (thread, env, name, &ccstrResult, &JVMFlag::ccstrAtPut);\n+    needFree = SetVMFlag <JVM_FLAG_TYPE(ccstr)> (thread, env, name, &ccstrResult);\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":26,"deletions":25,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -44,2 +44,1 @@\n-#include \"runtime\/flags\/jvmFlagConstraintList.hpp\"\n-#include \"runtime\/flags\/jvmFlagRangeList.hpp\"\n+#include \"runtime\/flags\/jvmFlagAccess.hpp\"\n@@ -880,1 +879,1 @@\n-  if (JVMFlag::boolAtPut(flag, &value, origin) == JVMFlag::SUCCESS) {\n+  if (JVMFlagAccess::boolAtPut(flag, &value, origin) == JVMFlag::SUCCESS) {\n@@ -895,1 +894,1 @@\n-  if (JVMFlag::doubleAtPut(flag, &v, origin) == JVMFlag::SUCCESS) {\n+  if (JVMFlagAccess::doubleAtPut(flag, &v, origin) == JVMFlag::SUCCESS) {\n@@ -927,1 +926,1 @@\n-    return JVMFlag::intAtPut(flag, &int_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::intAtPut(flag, &int_v, origin) == JVMFlag::SUCCESS;\n@@ -930,1 +929,1 @@\n-    return JVMFlag::uintAtPut(flag, &uint_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::uintAtPut(flag, &uint_v, origin) == JVMFlag::SUCCESS;\n@@ -936,1 +935,1 @@\n-    return JVMFlag::intxAtPut(flag, &intx_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::intxAtPut(flag, &intx_v, origin) == JVMFlag::SUCCESS;\n@@ -939,1 +938,1 @@\n-    return JVMFlag::uintxAtPut(flag, &uintx_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::uintxAtPut(flag, &uintx_v, origin) == JVMFlag::SUCCESS;\n@@ -942,1 +941,1 @@\n-    return JVMFlag::uint64_tAtPut(flag, &uint64_t_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::uint64_tAtPut(flag, &uint64_t_v, origin) == JVMFlag::SUCCESS;\n@@ -945,1 +944,1 @@\n-    return JVMFlag::size_tAtPut(flag, &size_t_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::size_tAtPut(flag, &size_t_v, origin) == JVMFlag::SUCCESS;\n@@ -948,1 +947,1 @@\n-    return JVMFlag::doubleAtPut(flag, &double_v, origin) == JVMFlag::SUCCESS;\n+    return JVMFlagAccess::doubleAtPut(flag, &double_v, origin) == JVMFlag::SUCCESS;\n@@ -955,1 +954,1 @@\n-  if (JVMFlag::ccstrAtPut(flag, &value, origin) != JVMFlag::SUCCESS) return false;\n+  if (JVMFlagAccess::ccstrAtPut(flag, &value, origin) != JVMFlag::SUCCESS) return false;\n@@ -963,1 +962,1 @@\n-  if (JVMFlag::ccstrAt(flag, &old_value) != JVMFlag::SUCCESS) return false;\n+  if (JVMFlagAccess::ccstrAt(flag, &old_value) != JVMFlag::SUCCESS) return false;\n@@ -980,1 +979,1 @@\n-  (void) JVMFlag::ccstrAtPut(flag, &value, origin);\n+  (void) JVMFlagAccess::ccstrAtPut(flag, &value, origin);\n@@ -1358,1 +1357,1 @@\n-                  fuzzy_matched->_name,\n+                  fuzzy_matched->name(),\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -1747,0 +1747,1 @@\n+      \/\/ Only metaspace OOM is expected. No Java code executed.\n@@ -1765,1 +1766,17 @@\n-    Klass* tk = constant_pool->klass_at_ignore_error(index, CHECK);\n+    Klass* tk = constant_pool->klass_at_ignore_error(index, THREAD);\n+    if (HAS_PENDING_EXCEPTION) {\n+      \/\/ Exception happened during classloading. We ignore the exception here, since it\n+      \/\/ is going to be rethrown since the current activation is going to be deoptimized and\n+      \/\/ the interpreter will re-execute the bytecode.\n+      \/\/ Do not clear probable Async Exceptions.\n+      CLEAR_PENDING_NONASYNC_EXCEPTION;\n+      \/\/ Class loading called java code which may have caused a stack\n+      \/\/ overflow. If the exception was thrown right before the return\n+      \/\/ to the runtime the stack is no longer guarded. Reguard the\n+      \/\/ stack otherwise if we return to the uncommon trap blob and the\n+      \/\/ stack bang causes a stack overflow we crash.\n+      JavaThread* jt = THREAD->as_Java_thread();\n+      bool guard_pages_enabled = jt->stack_guards_enabled();\n+      if (!guard_pages_enabled) guard_pages_enabled = jt->reguard_stack();\n+      assert(guard_pages_enabled, \"stack banging in uncommon trap blob may cause crash\");\n+    }\n@@ -1773,21 +1790,0 @@\n-\n-void Deoptimization::load_class_by_index(const constantPoolHandle& constant_pool, int index) {\n-  EXCEPTION_MARK;\n-  load_class_by_index(constant_pool, index, THREAD);\n-  if (HAS_PENDING_EXCEPTION) {\n-    \/\/ Exception happened during classloading. We ignore the exception here, since it\n-    \/\/ is going to be rethrown since the current activation is going to be deoptimized and\n-    \/\/ the interpreter will re-execute the bytecode.\n-    CLEAR_PENDING_EXCEPTION;\n-    \/\/ Class loading called java code which may have caused a stack\n-    \/\/ overflow. If the exception was thrown right before the return\n-    \/\/ to the runtime the stack is no longer guarded. Reguard the\n-    \/\/ stack otherwise if we return to the uncommon trap blob and the\n-    \/\/ stack bang causes a stack overflow we crash.\n-    JavaThread* thread = THREAD->as_Java_thread();\n-    bool guard_pages_enabled = thread->stack_guards_enabled();\n-    if (!guard_pages_enabled) guard_pages_enabled = thread->reguard_stack();\n-    assert(guard_pages_enabled, \"stack banging in uncommon trap blob may cause crash\");\n-  }\n-}\n-\n@@ -2055,1 +2051,1 @@\n-      load_class_by_index(constants, unloaded_class_index);\n+      load_class_by_index(constants, unloaded_class_index, THREAD);\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.cpp","additions":19,"deletions":23,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -459,1 +459,0 @@\n-  static void load_class_by_index(const constantPoolHandle& constant_pool, int index);\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-\/\/    checking code if provided - see jvmFlagRangeList.hpp\n+\/\/    checking code if provided - see jvmFlagLimit.hpp\n@@ -107,1 +107,1 @@\n-\/\/    for constraint checking if provided - see jvmFlagConstraintList.hpp\n+\/\/    for constraint checking if provided - see jvmFlagLimit.hpp\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -112,4 +112,0 @@\n-\n-  if (_anchor.last_Java_sp() == NULL) {\n-    _thread->record_base_of_stack_pointer();\n-  }\n@@ -130,5 +126,0 @@\n-  if (_anchor.last_Java_sp() == NULL) {\n-    _thread->set_base_of_stack_pointer(NULL);\n-  }\n-\n-\n","filename":"src\/hotspot\/share\/runtime\/javaCalls.cpp","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -271,1 +271,0 @@\n-  static address native_method_throw_unsupported_operation_exception_entry();\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -174,4 +174,0 @@\n-\n-#define CHAINMARKER (cast_to_oop<intptr_t>(-1))\n-\n-\n@@ -528,2 +524,2 @@\n-    \/\/ An async deflation can race us before we manage to make the\n-    \/\/ ObjectMonitor busy by setting the owner below. If we detect\n+    \/\/ An async deflation or GC can race us before we manage to make\n+    \/\/ the ObjectMonitor busy by setting the owner below. If we detect\n@@ -531,1 +527,1 @@\n-    if (m->object() == NULL) {\n+    if (m->object_peek() == NULL) {\n@@ -1346,1 +1342,1 @@\n-    assert(block->object() == CHAINMARKER, \"must be a block header\");\n+    assert(block->is_chainmarker(), \"must be a block header\");\n@@ -1349,1 +1345,1 @@\n-      if (mid->object() != NULL) {\n+      if (mid->object_peek() != NULL) {\n@@ -1434,28 +1430,0 @@\n-void ObjectSynchronizer::oops_do(OopClosure* f) {\n-  \/\/ We only scan the global used list here (for moribund threads), and\n-  \/\/ the thread-local monitors in Thread::oops_do().\n-  global_used_oops_do(f);\n-}\n-\n-void ObjectSynchronizer::global_used_oops_do(OopClosure* f) {\n-  assert(SafepointSynchronize::is_at_safepoint(), \"must be at safepoint\");\n-  \/\/ Acquire semantics not needed since we're at a safepoint.\n-  list_oops_do(Atomic::load(&om_list_globals._in_use_list), f);\n-}\n-\n-void ObjectSynchronizer::thread_local_used_oops_do(Thread* thread, OopClosure* f) {\n-  assert(SafepointSynchronize::is_at_safepoint(), \"must be at safepoint\");\n-  list_oops_do(thread->om_in_use_list, f);\n-}\n-\n-void ObjectSynchronizer::list_oops_do(ObjectMonitor* list, OopClosure* f) {\n-  assert(SafepointSynchronize::is_at_safepoint(), \"must be at safepoint\");\n-  \/\/ The oops_do() phase does not overlap with monitor deflation\n-  \/\/ so no need to lock ObjectMonitors for the list traversal.\n-  for (ObjectMonitor* mid = list; mid != NULL; mid = unmarked_next(mid)) {\n-    if (mid->object() != NULL) {\n-      f->do_oop(mid->object_addr());\n-    }\n-  }\n-}\n-\n@@ -1499,1 +1467,1 @@\n-      guarantee(m->object() == NULL, \"invariant\");\n+      guarantee(m->object_peek() == NULL, \"invariant\");\n@@ -1520,1 +1488,1 @@\n-        guarantee(take->object() == NULL, \"invariant\");\n+        guarantee(take->object_peek() == NULL, \"invariant\");\n@@ -1582,1 +1550,1 @@\n-    temp[0].set_object(CHAINMARKER);\n+    temp[0].set_allocation_state(ObjectMonitor::ChainMarker);\n@@ -1607,1 +1575,1 @@\n-  guarantee(m->object() == NULL, \"invariant\");\n+  guarantee(m->object_peek() == NULL, \"invariant\");\n@@ -1718,4 +1686,1 @@\n-\/\/ mutator. In particular, this ensures that the thread's in-use\n-\/\/ monitors are scanned by a GC safepoint, either via Thread::oops_do()\n-\/\/ (before om_flush() is called) or via ObjectSynchronizer::oops_do()\n-\/\/ (after om_flush() is called).\n+\/\/ mutator.\n@@ -1765,2 +1730,3 @@\n-      if (cur_om->object() == NULL) {\n-        \/\/ cur_om was deflated and the object ref was cleared while it\n+      if (cur_om->object_peek() == NULL) {\n+        \/\/ Two reasons for object() to be NULL here:\n+        \/\/ 1) cur_om was deflated and the object ref was cleared while it\n@@ -1768,4 +1734,14 @@\n-        \/\/ (and added to the free list). Refetch the possibly changed\n-        \/\/ next field and try again.\n-        cur_om = unmarked_next(in_use_tail);\n-        continue;\n+        \/\/ (and added to the free list).\n+        \/\/ 2) The object has been GC'ed so the association with object is\n+        \/\/ already broken, but we don't want to do the deflation work now.\n+\n+        \/\/ Refetch the possibly changed next field:\n+        ObjectMonitor* in_use_next = unmarked_next(in_use_tail);\n+        if (cur_om != in_use_next) {\n+          \/\/ The NULL is because of async deflation so try again:\n+          cur_om = in_use_next;\n+          continue;\n+        }\n+        \/\/ Implied else: The NULL is because of GC, but we leave the\n+        \/\/ node on the in-use list to be deflated after it has been\n+        \/\/ moved to the global in-use list.\n@@ -1817,1 +1793,1 @@\n-      guarantee(s->object() == NULL, \"invariant\");\n+      guarantee(s->object_peek() == NULL, \"invariant\");\n@@ -2137,8 +2113,1 @@\n-  \/\/ Set a NULL owner to DEFLATER_MARKER to force any contending thread\n-  \/\/ through the slow path. This is just the first part of the async\n-  \/\/ deflation dance.\n-  if (mid->try_set_owner_from(NULL, DEFLATER_MARKER) != NULL) {\n-    \/\/ The owner field is no longer NULL so we lost the race since the\n-    \/\/ ObjectMonitor is now busy.\n-    return false;\n-  }\n+  const oop obj = mid->object_peek();\n@@ -2146,8 +2115,13 @@\n-  if (mid->contentions() > 0 || mid->_waiters != 0) {\n-    \/\/ Another thread has raced to enter the ObjectMonitor after\n-    \/\/ mid->is_busy() above or has already entered and waited on\n-    \/\/ it which makes it busy so no deflation. Restore owner to\n-    \/\/ NULL if it is still DEFLATER_MARKER.\n-    if (mid->try_set_owner_from(DEFLATER_MARKER, NULL) != DEFLATER_MARKER) {\n-      \/\/ Deferred decrement for the JT EnterI() that cancelled the async deflation.\n-      mid->add_to_contentions(-1);\n+  if (obj == NULL) {\n+    \/\/ If the object died, we can recycle the monitor without racing with\n+    \/\/ Java threads. The GC already broke the association with the object.\n+    mid->set_owner_from(NULL, DEFLATER_MARKER);\n+    mid->_contentions = -max_jint;\n+  } else {\n+    \/\/ Set a NULL owner to DEFLATER_MARKER to force any contending thread\n+    \/\/ through the slow path. This is just the first part of the async\n+    \/\/ deflation dance.\n+    if (mid->try_set_owner_from(NULL, DEFLATER_MARKER) != NULL) {\n+      \/\/ The owner field is no longer NULL so we lost the race since the\n+      \/\/ ObjectMonitor is now busy.\n+      return false;\n@@ -2155,11 +2129,23 @@\n-    return false;\n-  }\n-  \/\/ Make a zero contentions field negative to force any contending threads\n-  \/\/ to retry. This is the second part of the async deflation dance.\n-  if (Atomic::cmpxchg(&mid->_contentions, (jint)0, -max_jint) != 0) {\n-    \/\/ Contentions was no longer 0 so we lost the race since the\n-    \/\/ ObjectMonitor is now busy. Restore owner to NULL if it is\n-    \/\/ still DEFLATER_MARKER:\n-    if (mid->try_set_owner_from(DEFLATER_MARKER, NULL) != DEFLATER_MARKER) {\n-      \/\/ Deferred decrement for the JT EnterI() that cancelled the async deflation.\n-      mid->add_to_contentions(-1);\n+    if (mid->contentions() > 0 || mid->_waiters != 0) {\n+      \/\/ Another thread has raced to enter the ObjectMonitor after\n+      \/\/ mid->is_busy() above or has already entered and waited on\n+      \/\/ it which makes it busy so no deflation. Restore owner to\n+      \/\/ NULL if it is still DEFLATER_MARKER.\n+      if (mid->try_set_owner_from(DEFLATER_MARKER, NULL) != DEFLATER_MARKER) {\n+        \/\/ Deferred decrement for the JT EnterI() that cancelled the async deflation.\n+        mid->add_to_contentions(-1);\n+      }\n+      return false;\n+    }\n+\n+    \/\/ Make a zero contentions field negative to force any contending threads\n+    \/\/ to retry. This is the second part of the async deflation dance.\n+    if (Atomic::cmpxchg(&mid->_contentions, (jint)0, -max_jint) != 0) {\n+      \/\/ Contentions was no longer 0 so we lost the race since the\n+      \/\/ ObjectMonitor is now busy. Restore owner to NULL if it is\n+      \/\/ still DEFLATER_MARKER:\n+      if (mid->try_set_owner_from(DEFLATER_MARKER, NULL) != DEFLATER_MARKER) {\n+        \/\/ Deferred decrement for the JT EnterI() that cancelled the async deflation.\n+        mid->add_to_contentions(-1);\n+      }\n+      return false;\n@@ -2168,1 +2154,0 @@\n-    return false;\n@@ -2182,9 +2167,9 @@\n-  const oop obj = mid->object();\n-  if (log_is_enabled(Trace, monitorinflation)) {\n-    ResourceMark rm;\n-    log_trace(monitorinflation)(\"deflate_monitor_using_JT: \"\n-                                \"object=\" INTPTR_FORMAT \", mark=\"\n-                                INTPTR_FORMAT \", type='%s'\",\n-                                p2i(obj), obj->mark().value(),\n-                                obj->klass()->external_name());\n-  }\n+  if (obj != NULL) {\n+    if (log_is_enabled(Trace, monitorinflation)) {\n+      ResourceMark rm;\n+      log_trace(monitorinflation)(\"deflate_monitor_using_JT: \"\n+                                  \"object=\" INTPTR_FORMAT \", mark=\"\n+                                  INTPTR_FORMAT \", type='%s'\",\n+                                  p2i(obj), obj->mark().value(),\n+                                  obj->klass()->external_name());\n+    }\n@@ -2192,2 +2177,3 @@\n-  \/\/ Install the old mark word if nobody else has already done it.\n-  mid->install_displaced_markword_in_object(obj);\n+    \/\/ Install the old mark word if nobody else has already done it.\n+    mid->install_displaced_markword_in_object(obj);\n+  }\n@@ -2196,2 +2182,2 @@\n-  assert(mid->object() == NULL, \"must be NULL: object=\" INTPTR_FORMAT,\n-         p2i(mid->object()));\n+  assert(mid->object_peek() == NULL, \"must be NULL: object=\" INTPTR_FORMAT,\n+         p2i(mid->object_peek()));\n@@ -2292,4 +2278,3 @@\n-    \/\/ Only try to deflate if there is an associated Java object and if\n-    \/\/ mid is old (is not newly allocated and is not newly freed).\n-    if (mid->object() != NULL && mid->is_old() &&\n-        deflate_monitor_using_JT(mid, free_head_p, free_tail_p)) {\n+    \/\/ Only try to deflate if mid is old (is not newly allocated and\n+    \/\/ is not newly freed).\n+    if (mid->is_old() && deflate_monitor_using_JT(mid, free_head_p, free_tail_p)) {\n@@ -2326,3 +2311,2 @@\n-      \/\/ mid is considered in-use if it does not have an associated\n-      \/\/ Java object or mid is not old or deflation did not succeed.\n-      \/\/ A mid->is_new() node can be seen here when it is freshly\n+      \/\/ mid is considered in-use if mid is not old or deflation did not\n+      \/\/ succeed. A mid->is_new() node can be seen here when it is freshly\n@@ -2753,1 +2737,1 @@\n-  if (n->object() != NULL) {\n+  if (n->object_peek() != NULL) {\n@@ -2758,1 +2742,1 @@\n-                    p2i(n->object()));\n+                    p2i(n->object_peek()));\n@@ -2762,1 +2746,1 @@\n-                    p2i(n), p2i(n->object()));\n+                    p2i(n), p2i(n->object_peek()));\n@@ -2892,24 +2876,16 @@\n-  if (n->object() == NULL) {\n-    if (jt != NULL) {\n-      out->print_cr(\"ERROR: jt=\" INTPTR_FORMAT \", monitor=\" INTPTR_FORMAT\n-                    \": in-use per-thread monitor must have non-NULL _object \"\n-                    \"field.\", p2i(jt), p2i(n));\n-    } else {\n-      out->print_cr(\"ERROR: monitor=\" INTPTR_FORMAT \": in-use global monitor \"\n-                    \"must have non-NULL _object field.\", p2i(n));\n-    }\n-    *error_cnt_p = *error_cnt_p + 1;\n-  }\n-  const oop obj = n->object();\n-  const markWord mark = obj->mark();\n-  if (!mark.has_monitor()) {\n-    if (jt != NULL) {\n-      out->print_cr(\"ERROR: jt=\" INTPTR_FORMAT \", monitor=\" INTPTR_FORMAT\n-                    \": in-use per-thread monitor's object does not think \"\n-                    \"it has a monitor: obj=\" INTPTR_FORMAT \", mark=\"\n-                    INTPTR_FORMAT,  p2i(jt), p2i(n), p2i(obj), mark.value());\n-    } else {\n-      out->print_cr(\"ERROR: monitor=\" INTPTR_FORMAT \": in-use global \"\n-                    \"monitor's object does not think it has a monitor: obj=\"\n-                    INTPTR_FORMAT \", mark=\" INTPTR_FORMAT, p2i(n),\n-                    p2i(obj), mark.value());\n+  const oop obj = n->object_peek();\n+  if (obj != NULL) {\n+    const markWord mark = obj->mark();\n+    if (!mark.has_monitor()) {\n+      if (jt != NULL) {\n+        out->print_cr(\"ERROR: jt=\" INTPTR_FORMAT \", monitor=\" INTPTR_FORMAT\n+                      \": in-use per-thread monitor's object does not think \"\n+                      \"it has a monitor: obj=\" INTPTR_FORMAT \", mark=\"\n+                      INTPTR_FORMAT,  p2i(jt), p2i(n), p2i(obj), mark.value());\n+      } else {\n+        out->print_cr(\"ERROR: monitor=\" INTPTR_FORMAT \": in-use global \"\n+                      \"monitor's object does not think it has a monitor: obj=\"\n+                      INTPTR_FORMAT \", mark=\" INTPTR_FORMAT, p2i(n),\n+                      p2i(obj), mark.value());\n+      }\n+      *error_cnt_p = *error_cnt_p + 1;\n@@ -2917,15 +2893,15 @@\n-    *error_cnt_p = *error_cnt_p + 1;\n-  }\n-  ObjectMonitor* const obj_mon = mark.monitor();\n-  if (n != obj_mon) {\n-    if (jt != NULL) {\n-      out->print_cr(\"ERROR: jt=\" INTPTR_FORMAT \", monitor=\" INTPTR_FORMAT\n-                    \": in-use per-thread monitor's object does not refer \"\n-                    \"to the same monitor: obj=\" INTPTR_FORMAT \", mark=\"\n-                    INTPTR_FORMAT \", obj_mon=\" INTPTR_FORMAT, p2i(jt),\n-                    p2i(n), p2i(obj), mark.value(), p2i(obj_mon));\n-    } else {\n-      out->print_cr(\"ERROR: monitor=\" INTPTR_FORMAT \": in-use global \"\n-                    \"monitor's object does not refer to the same monitor: obj=\"\n-                    INTPTR_FORMAT \", mark=\" INTPTR_FORMAT \", obj_mon=\"\n-                    INTPTR_FORMAT, p2i(n), p2i(obj), mark.value(), p2i(obj_mon));\n+    ObjectMonitor* const obj_mon = mark.monitor();\n+    if (n != obj_mon) {\n+      if (jt != NULL) {\n+        out->print_cr(\"ERROR: jt=\" INTPTR_FORMAT \", monitor=\" INTPTR_FORMAT\n+                      \": in-use per-thread monitor's object does not refer \"\n+                      \"to the same monitor: obj=\" INTPTR_FORMAT \", mark=\"\n+                      INTPTR_FORMAT \", obj_mon=\" INTPTR_FORMAT, p2i(jt),\n+                      p2i(n), p2i(obj), mark.value(), p2i(obj_mon));\n+      } else {\n+        out->print_cr(\"ERROR: monitor=\" INTPTR_FORMAT \": in-use global \"\n+                      \"monitor's object does not refer to the same monitor: obj=\"\n+                      INTPTR_FORMAT \", mark=\" INTPTR_FORMAT \", obj_mon=\"\n+                      INTPTR_FORMAT, p2i(n), p2i(obj), mark.value(), p2i(obj_mon));\n+      }\n+      *error_cnt_p = *error_cnt_p + 1;\n@@ -2933,1 +2909,0 @@\n-    *error_cnt_p = *error_cnt_p + 1;\n@@ -3013,1 +2988,1 @@\n-        const oop obj = cur->object();\n+        const oop obj = cur->object_peek();\n@@ -3018,1 +2993,1 @@\n-                   p2i(obj), obj->klass()->external_name());\n+                   p2i(obj), obj == NULL ? \"\" : obj->klass()->external_name());\n@@ -3043,1 +3018,1 @@\n-        const oop obj = cur->object();\n+        const oop obj = cur->object_peek();\n@@ -3049,1 +3024,1 @@\n-                   obj->klass()->external_name());\n+                   obj == NULL ? \"\" : obj->klass()->external_name());\n@@ -3105,1 +3080,1 @@\n-    assert(block->object() == CHAINMARKER, \"must be a block header\");\n+    assert(block->is_chainmarker(), \"must be a block header\");\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":123,"deletions":148,"binary":false,"changes":271,"status":"modified"},{"patch":"@@ -153,3 +153,0 @@\n-  static void oops_do(OopClosure* f);\n-  \/\/ Process oops in thread local used monitors\n-  static void thread_local_used_oops_do(Thread* thread, OopClosure* f);\n@@ -193,5 +190,0 @@\n-  \/\/ Process oops in all global used monitors (i.e. moribund thread's monitors)\n-  static void global_used_oops_do(OopClosure* f);\n-  \/\/ Process oops in monitors on the given list\n-  static void list_oops_do(ObjectMonitor* list, OopClosure* f);\n-\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.hpp","additions":0,"deletions":8,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -72,2 +72,1 @@\n-#include \"runtime\/flags\/jvmFlagConstraintList.hpp\"\n-#include \"runtime\/flags\/jvmFlagRangeList.hpp\"\n+#include \"runtime\/flags\/jvmFlagLimit.hpp\"\n@@ -368,0 +367,4 @@\n+\n+void Thread::unregister_thread_stack_with_NMT() {\n+  MemTracker::release_thread_stack(stack_end(), stack_size());\n+}\n@@ -433,13 +436,0 @@\n-  \/\/ stack_base can be NULL if the thread is never started or exited before\n-  \/\/ record_stack_base_and_size called. Although, we would like to ensure\n-  \/\/ that all started threads do call record_stack_base_and_size(), there is\n-  \/\/ not proper way to enforce that.\n-#if INCLUDE_NMT\n-  if (_stack_base != NULL) {\n-    MemTracker::release_thread_stack(stack_end(), stack_size());\n-#ifdef ASSERT\n-    set_stack_base(NULL);\n-#endif\n-  }\n-#endif \/\/ INCLUDE_NMT\n-\n@@ -893,4 +883,0 @@\n-\n-  \/\/ We scan thread local monitor lists here, and the remaining global\n-  \/\/ monitors in ObjectSynchronizer::oops_do().\n-  ObjectSynchronizer::thread_local_used_oops_do(this, f);\n@@ -1349,0 +1335,1 @@\n+  unregister_thread_stack_with_NMT();\n@@ -1825,7 +1812,0 @@\n-  if (register_stack_overflow()) {\n-    \/\/ For those architectures which have separate register and\n-    \/\/ memory stacks, we must check the register stack to see if\n-    \/\/ it has overflowed.\n-    return false;\n-  }\n-\n@@ -1960,7 +1940,0 @@\n-  \/\/ Used to test validity of stack trace backs.\n-  \/\/ This can't be moved into pre_run() else we invalidate\n-  \/\/ the requirement that thread_main_inner is lower on\n-  \/\/ the stack. Consequently all the initialization logic\n-  \/\/ stays here in run() rather than pre_run().\n-  this->record_base_of_stack_pointer();\n-\n@@ -2023,0 +1996,1 @@\n+  this->unregister_thread_stack_with_NMT();\n@@ -2222,5 +2196,0 @@\n-  \/\/ We must flush any deferred card marks and other various GC barrier\n-  \/\/ related buffers (e.g. G1 SATB buffer and G1 dirty card queue buffer)\n-  \/\/ before removing a thread from the list of active threads.\n-  BarrierSet::barrier_set()->on_thread_detach(this);\n-\n@@ -2274,2 +2243,0 @@\n-  BarrierSet::barrier_set()->on_thread_detach(this);\n-\n@@ -2332,2 +2299,0 @@\n-  \/\/ May be we are at method entry and requires to save do not unlock flag.\n-  UnlockFlagSaver fs(this);\n@@ -2396,0 +2361,2 @@\n+    \/\/ We may be at method entry which requires we save the do-not-unlock flag.\n+    UnlockFlagSaver fs(this);\n@@ -2400,1 +2367,2 @@\n-      THROW_MSG(vmSymbols::java_lang_InternalError(), \"a fault occurred in an unsafe memory access operation\");\n+      Exceptions::throw_unsafe_access_internal_error(THREAD, __FILE__, __LINE__, \"a fault occurred in an unsafe memory access operation\");\n+      return;\n@@ -2405,1 +2373,2 @@\n-      THROW_MSG(vmSymbols::java_lang_InternalError(), \"a fault occurred in an unsafe memory access operation\");\n+      Exceptions::throw_unsafe_access_internal_error(THREAD, __FILE__, __LINE__, \"a fault occurred in an unsafe memory access operation\");\n+      return;\n@@ -2410,1 +2379,2 @@\n-      THROW_MSG(vmSymbols::java_lang_InternalError(), \"a fault occurred in a recent unsafe memory access operation in compiled Java code\");\n+      Exceptions::throw_unsafe_access_internal_error(THREAD, __FILE__, __LINE__, \"a fault occurred in a recent unsafe memory access operation in compiled Java code\");\n+      return;\n@@ -2598,5 +2568,5 @@\n-\/\/ Because this thread is external suspended the safepoint code will count it as at\n-\/\/ a safepoint, regardless of what its actual current thread-state is. But\n-\/\/ is_ext_suspend_completed() may be waiting to see a thread transition from\n-\/\/ _thread_in_native_trans to _thread_blocked. So we set the thread state directly\n-\/\/ to _thread_blocked. The problem with setting thread state directly is that a\n+\/\/ We have to set the thread state directly to _thread_blocked so that it will\n+\/\/ be seen to be safepoint\/handshake safe whilst suspended. This is also\n+\/\/ necessary to allow a thread in is_ext_suspend_completed, that observed the\n+\/\/ _thread_in_native_trans state, to proceed.\n+\/\/ The problem with setting thread state directly is that a\n@@ -2607,1 +2577,1 @@\n-\/\/ should never be blocking at a safepoint whilst in those states. Of these 'bad' states\n+\/\/ should never be blocking at a safepoint whilst in those states(*). Of these 'bad' states\n@@ -2612,0 +2582,2 @@\n+\/\/ (*) See switch statement in SafepointSynchronize::block() for thread states that are\n+\/\/ allowed when performing a safepoint check.\n@@ -2815,1 +2787,0 @@\n-  enable_register_stack_guard();\n@@ -2833,1 +2804,0 @@\n-  disable_register_stack_guard();\n@@ -2852,1 +2822,0 @@\n-  enable_register_stack_guard();\n@@ -2871,1 +2840,0 @@\n-  disable_register_stack_guard();\n@@ -3844,1 +3812,1 @@\n-  if (!JVMFlagRangeList::check_ranges()) {\n+  if (!JVMFlagLimit::check_all_ranges()) {\n@@ -3849,1 +3817,1 @@\n-  bool constraint_result = JVMFlagConstraintList::check_constraints(JVMFlagConstraint::AfterErgo);\n+  bool constraint_result = JVMFlagLimit::check_all_constraints(JVMFlagConstraintPhase::AfterErgo);\n@@ -4603,0 +4571,7 @@\n+  \/\/ We must flush any deferred card marks and other various GC barrier\n+  \/\/ related buffers (e.g. G1 SATB buffer and G1 dirty card queue buffer)\n+  \/\/ before removing a thread from the list of active threads.\n+  \/\/ This must be done after ObjectSynchronizer::om_flush(), as GC barriers\n+  \/\/ are used in om_flush().\n+  BarrierSet::barrier_set()->on_thread_detach(p);\n+\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":32,"deletions":57,"binary":false,"changes":89,"status":"modified"},{"patch":"@@ -770,0 +770,1 @@\n+  void    unregister_thread_stack_with_NMT() NOT_NMT_RETURN;\n","filename":"src\/hotspot\/share\/runtime\/thread.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1011,1 +1011,1 @@\n-  nonstatic_field(JVMFlag,                     _type,                                         const char*)                           \\\n+  nonstatic_field(JVMFlag,                     _type,                                         int)                                   \\\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1382,21 +1382,0 @@\n-\n-\/\/ Support class used to generate HPROF_GC_ROOT_MONITOR_USED records\n-\n-class MonitorUsedDumper : public OopClosure {\n- private:\n-  DumpWriter* _writer;\n-  DumpWriter* writer() const                { return _writer; }\n- public:\n-  MonitorUsedDumper(DumpWriter* writer) {\n-    _writer = writer;\n-  }\n-  void do_oop(oop* obj_p) {\n-    u4 size = 1 + sizeof(address);\n-    writer()->start_sub_record(HPROF_GC_ROOT_MONITOR_USED, size);\n-    writer()->write_objectID(*obj_p);\n-    writer()->end_sub_record();\n-  }\n-  void do_oop(narrowOop* obj_p) { ShouldNotReachHere(); }\n-};\n-\n-\n@@ -1855,4 +1834,0 @@\n-  \/\/ HPROF_GC_ROOT_MONITOR_USED\n-  MonitorUsedDumper mon_dumper(writer());\n-  ObjectSynchronizer::oops_do(&mon_dumper);\n-\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":0,"deletions":25,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -94,0 +94,3 @@\n+  \/\/ use CLEAR_PENDING_NONASYNC_EXCEPTION to clear probable nonasync exception.\n+  void clear_pending_nonasync_exception();\n+\n@@ -173,0 +176,2 @@\n+  static void throw_unsafe_access_internal_error(Thread* thread, const char* file, int line, const char* message);\n+\n@@ -229,0 +234,1 @@\n+\/\/ CAUTION: These macros clears all exceptions including async exceptions, use it with caution.\n@@ -236,0 +242,10 @@\n+\/\/ CAUTION: These macros clears all exceptions except probable async exceptions j.l.InternalError and j.l.ThreadDeath.\n+\/\/ So use it with caution.\n+#define CLEAR_PENDING_NONASYNC_EXCEPTION        (((ThreadShadow*)THREAD)->clear_pending_nonasync_exception())\n+#define CHECK_AND_CLEAR_NONASYNC                THREAD); if (HAS_PENDING_EXCEPTION) { CLEAR_PENDING_NONASYNC_EXCEPTION; return; } (void)(0\n+#define CHECK_AND_CLEAR_NONASYNC_(result)       THREAD); if (HAS_PENDING_EXCEPTION) { CLEAR_PENDING_NONASYNC_EXCEPTION; return result; } (void)(0\n+#define CHECK_AND_CLEAR_NONASYNC_0              CHECK_AND_CLEAR_NONASYNC_(0)\n+#define CHECK_AND_CLEAR_NONASYNC_NH             CHECK_AND_CLEAR_NONASYNC_(Handle())\n+#define CHECK_AND_CLEAR_NONASYNC_NULL           CHECK_AND_CLEAR_NONASYNC_(NULL)\n+#define CHECK_AND_CLEAR_NONASYNC_false          CHECK_AND_CLEAR_NONASYNC_(false)\n+\n","filename":"src\/hotspot\/share\/utilities\/exceptions.hpp","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -37,0 +37,6 @@\n+template <typename T, ENABLE_IF(std::is_integral<T>::value)>\n+constexpr T max_power_of_2() {\n+  T max_val = std::numeric_limits<T>::max();\n+  return max_val - (max_val >> 1);\n+}\n+\n@@ -84,2 +90,1 @@\n-  const T max_value = std::numeric_limits<T>::max();\n-  assert(value <= (max_value - (max_value >> 1)), \"Overflow\");\n+  assert(value <= max_power_of_2<T>(), \"Overflow\");\n","filename":"src\/hotspot\/share\/utilities\/powerOfTwo.hpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -80,0 +80,1 @@\n+    private HotSpotResolvedJavaType componentType;\n@@ -160,1 +161,8 @@\n-        return runtime().compilerToVm.getComponentType(this);\n+        if (componentType == null) {\n+            if (isArray()) {\n+                componentType = runtime().compilerToVm.getComponentType(this);\n+            } else {\n+                componentType = this;\n+            }\n+        }\n+        return this.equals(componentType) ? null : componentType;\n@@ -302,3 +310,3 @@\n-        if (isArray()) {\n-            ResolvedJavaType componentType = getComponentType();\n-            if (componentType.equals(getJavaLangObject()) || componentType.isPrimitive()) {\n+        ResolvedJavaType component = getComponentType();\n+        if (component != null) {\n+            if (component.equals(getJavaLangObject()) || component.isPrimitive()) {\n@@ -307,1 +315,1 @@\n-            HotSpotResolvedObjectTypeImpl supertype = ((HotSpotResolvedObjectTypeImpl) componentType).getSupertype();\n+            HotSpotResolvedObjectTypeImpl supertype = ((HotSpotResolvedObjectTypeImpl) component).getSupertype();\n","filename":"src\/jdk.internal.vm.ci\/share\/classes\/jdk.vm.ci.hotspot\/src\/jdk\/vm\/ci\/hotspot\/HotSpotResolvedObjectTypeImpl.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -162,0 +162,2 @@\n+runtime\/cds\/DeterministicDump.java 8253495 generic-all\n+runtime\/cds\/serviceability\/ReplaceCriticalClassesForSubgraphs.java 8253081 generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}