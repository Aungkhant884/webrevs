{"files":[{"patch":"@@ -867,1 +867,1 @@\n-    \/** Check that type is an identity type, i.e. not a primitive type\n+    \/** Check that type is an identity type, i.e. not a primitive\/value type\n@@ -876,1 +876,1 @@\n-        if (t.isPrimitive() || t.isValueClass() || t.isReferenceProjection())\n+        if (t.isPrimitive() || t.isValueClass() || t.isValueInterface() || t.isReferenceProjection())\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,14 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8287770\n+ * @summary [lw4] Javac tolerates synchronizing on an instance of a value interface\n+ * @compile\/fail\/ref=SynchronizeOnValueInterfaceInstance.out -XDrawDiagnostics -XDdev SynchronizeOnValueInterfaceInstance.java\n+ *\/\n+\n+public value interface SynchronizeOnValueInterfaceInstance {\n+\n+    default void foo(SynchronizeOnValueInterfaceInstance sovii) {\n+        synchronized (sovii) {} \/\/ Error\n+    }\n+\n+}\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/SynchronizeOnValueInterfaceInstance.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"added"},{"patch":"@@ -0,0 +1,2 @@\n+SynchronizeOnValueInterfaceInstance.java:11:9: compiler.err.type.found.req: SynchronizeOnValueInterfaceInstance, (compiler.misc.type.req.identity)\n+1 error\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/SynchronizeOnValueInterfaceInstance.out","additions":2,"deletions":0,"binary":false,"changes":2,"status":"added"}]}