{"files":[{"patch":"@@ -4534,2 +4534,3 @@\n-                case IDENTIFIER: \/\/ primitive record R || new primitive Comparable() {}\n-                    if (next.name() == names.record || (mode & EXPR) != 0)\n+                case IDENTIFIER: \/\/ primitive record R || primitive primitive || primitive value || new primitive Comparable() {}\n+                    if (next.name() == names.record || next.name() == names.primitive\n+                            || next.name() == names.value || (mode & EXPR) != 0)\n@@ -4559,2 +4560,3 @@\n-                case IDENTIFIER: \/\/ value record R || new value Comparable() {} ??\n-                    if (next.name() == names.record || (mode & EXPR) != 0)\n+                case IDENTIFIER: \/\/ value record R || value value || value primitive || new value Comparable() {} ??\n+                    if (next.name() == names.record || next.name() == names.value\n+                            || next.name() == names.primitive || (mode & EXPR) != 0)\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -0,0 +1,22 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8279840\n+ * @summary [lworld] Inconsistent treatment of repeated modifiers.\n+ * @compile\/fail\/ref=ModifiersTest.out -XDrawDiagnostics -XDdev ModifiersTest.java\n+ *\/\n+\n+public class ModifiersTest {\n+\n+    static static class StaticTest {\n+    }\n+\n+    native native class NativeTest {\n+    }\n+\n+    value value primitive class ValueTest {\n+    }\n+\n+    primitive primitive value class PrimitiveTest {\n+    }\n+\n+}\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/ModifiersTest.java","additions":22,"deletions":0,"binary":false,"changes":22,"status":"added"},{"patch":"@@ -0,0 +1,5 @@\n+ModifiersTest.java:10:12: compiler.err.repeated.modifier\n+ModifiersTest.java:13:12: compiler.err.repeated.modifier\n+ModifiersTest.java:16:11: compiler.err.repeated.modifier\n+ModifiersTest.java:19:15: compiler.err.repeated.modifier\n+4 errors\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/ModifiersTest.out","additions":5,"deletions":0,"binary":false,"changes":5,"status":"added"}]}