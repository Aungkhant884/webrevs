{"files":[{"patch":"@@ -1171,13 +1171,1 @@\n-                switch (t.getTag()) {\n-                    case BYTE:\n-                    case CHAR:\n-                    case SHORT: case INT: case LONG:\n-                    case FLOAT: case DOUBLE:\n-                    case BOOLEAN: case VOID:\n-                    case BOT: case NONE:\n-                        return t.hasTag(s.getTag());\n-                    case WILDCARD: \/\/we shouldn't be here - avoids crash (see 7034495)\n-                        return false;\n-                    default:\n-                        throw new AssertionError(\"isSubtype \" + t.getTag());\n-                }\n+                return t.hasTag(s.getTag());\n@@ -1190,4 +1178,0 @@\n-\n-                if (s.isPartial())\n-                    return visit(s, t);\n-\n@@ -1201,1 +1185,1 @@\n-                if (!t.hasTag(CLASS)) return visit(t, s);\n+                if (!t.hasTag(CLASS)) return false;\n@@ -1217,1 +1201,1 @@\n-                return isSameType(t, s);\n+                return false;\n@@ -1409,2 +1393,7 @@\n-        public abstract static class ParameterizedTypeRelation<P> extends TypeRelation {\n-            P param;\n+        SubtypingRelation isSubtypeRelation = new SubtypingRelation();\n+        class SubtypingRelation extends TypeRelation {\n+            SubtypingRelationKind param;\n+\n+            public boolean allowRefValSubtyping() {\n+                return param == SubtypingRelationKind.REF_VAL_ALLOWED;\n+            }\n@@ -1412,2 +1401,2 @@\n-            public final Boolean visit(Type t, Type s, P param) {\n-                P prevParam = this.param;\n+            public final Boolean visit(Type t, Type s, SubtypingRelationKind param) {\n+                SubtypingRelationKind prevParam = this.param;\n@@ -1416,1 +1405,1 @@\n-                    return visit(t, s);\n+                    return super.visit(t, s);\n@@ -1421,7 +1410,0 @@\n-        }\n-\n-        SubtypingRelation isSubtypeRelation = new SubtypingRelation();\n-        class SubtypingRelation extends ParameterizedTypeRelation<SubtypingRelationKind> {\n-            public boolean allowRefValSubtyping() {\n-                return param == SubtypingRelationKind.REF_VAL_ALLOWED;\n-            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Types.java","additions":13,"deletions":31,"binary":false,"changes":44,"status":"modified"}]}