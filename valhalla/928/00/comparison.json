{"files":[{"patch":"@@ -974,1 +974,1 @@\n-        if (sym.kind == VAR && sym.type.isNonNullable()) {\n+        if (sym.kind == VAR && sym.type.isNonNullable() && !sym.type.hasTag(ARRAY)) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/jvm\/ClassWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1014,0 +1014,8 @@\n+    private void checkAttributeNotPresent(Attributes attributes, Class<? extends Attribute> attrClass) {\n+        for (Attribute attribute : attributes) {\n+            if (attribute.getClass() == attrClass) {\n+                throw new AssertionError(\"attribute found\");\n+            }\n+        }\n+    }\n+\n@@ -1024,0 +1032,1 @@\n+                    V0[]! f3;\n@@ -1046,0 +1055,2 @@\n+        Field field3 = classFile.fields[2];\n+        checkAttributeNotPresent(field3.attributes, NullRestricted_attribute.class);\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/ValueObjectCompilationTests.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"}]}