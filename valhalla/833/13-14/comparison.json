{"files":[{"patch":"@@ -192,1 +192,0 @@\n-\n","filename":"src\/hotspot\/share\/ci\/ciField.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -196,24 +196,24 @@\n-  do_klass(vector_VectorPayloadMF64B_klass,              jdk_internal_vm_vector_VectorPayloadMF64B              ) \\\n-  do_klass(vector_VectorPayloadMF128B_klass,             jdk_internal_vm_vector_VectorPayloadMF128B             ) \\\n-  do_klass(vector_VectorPayloadMF256B_klass,             jdk_internal_vm_vector_VectorPayloadMF256B             ) \\\n-  do_klass(vector_VectorPayloadMF512B_klass,             jdk_internal_vm_vector_VectorPayloadMF512B             ) \\\n-  do_klass(vector_VectorPayloadMF64S_klass,              jdk_internal_vm_vector_VectorPayloadMF64S              ) \\\n-  do_klass(vector_VectorPayloadMF128S_klass,             jdk_internal_vm_vector_VectorPayloadMF128S             ) \\\n-  do_klass(vector_VectorPayloadMF256S_klass,             jdk_internal_vm_vector_VectorPayloadMF256S             ) \\\n-  do_klass(vector_VectorPayloadMF512S_klass,             jdk_internal_vm_vector_VectorPayloadMF512S             ) \\\n-  do_klass(vector_VectorPayloadMF64I_klass,              jdk_internal_vm_vector_VectorPayloadMF64I              ) \\\n-  do_klass(vector_VectorPayloadMF128I_klass,             jdk_internal_vm_vector_VectorPayloadMF128I             ) \\\n-  do_klass(vector_VectorPayloadMF256I_klass,             jdk_internal_vm_vector_VectorPayloadMF256I             ) \\\n-  do_klass(vector_VectorPayloadMF512I_klass,             jdk_internal_vm_vector_VectorPayloadMF512I             ) \\\n-  do_klass(vector_VectorPayloadMF64L_klass,              jdk_internal_vm_vector_VectorPayloadMF64L              ) \\\n-  do_klass(vector_VectorPayloadMF128L_klass,             jdk_internal_vm_vector_VectorPayloadMF128L             ) \\\n-  do_klass(vector_VectorPayloadMF256L_klass,             jdk_internal_vm_vector_VectorPayloadMF256L             ) \\\n-  do_klass(vector_VectorPayloadMF512L_klass,             jdk_internal_vm_vector_VectorPayloadMF512L             ) \\\n-  do_klass(vector_VectorPayloadMF64F_klass,              jdk_internal_vm_vector_VectorPayloadMF64F              ) \\\n-  do_klass(vector_VectorPayloadMF128F_klass,             jdk_internal_vm_vector_VectorPayloadMF128F             ) \\\n-  do_klass(vector_VectorPayloadMF256F_klass,             jdk_internal_vm_vector_VectorPayloadMF256F             ) \\\n-  do_klass(vector_VectorPayloadMF512F_klass,             jdk_internal_vm_vector_VectorPayloadMF512F             ) \\\n-  do_klass(vector_VectorPayloadMF64D_klass,              jdk_internal_vm_vector_VectorPayloadMF64D              ) \\\n-  do_klass(vector_VectorPayloadMF128D_klass,             jdk_internal_vm_vector_VectorPayloadMF128D             ) \\\n-  do_klass(vector_VectorPayloadMF256D_klass,             jdk_internal_vm_vector_VectorPayloadMF256D             ) \\\n-  do_klass(vector_VectorPayloadMF512D_klass,             jdk_internal_vm_vector_VectorPayloadMF512D             ) \\\n+  do_klass(vector_VectorPayloadMF64B_klass,             jdk_internal_vm_vector_VectorPayloadMF64B             ) \\\n+  do_klass(vector_VectorPayloadMF128B_klass,            jdk_internal_vm_vector_VectorPayloadMF128B            ) \\\n+  do_klass(vector_VectorPayloadMF256B_klass,            jdk_internal_vm_vector_VectorPayloadMF256B            ) \\\n+  do_klass(vector_VectorPayloadMF512B_klass,            jdk_internal_vm_vector_VectorPayloadMF512B            ) \\\n+  do_klass(vector_VectorPayloadMF64S_klass,             jdk_internal_vm_vector_VectorPayloadMF64S             ) \\\n+  do_klass(vector_VectorPayloadMF128S_klass,            jdk_internal_vm_vector_VectorPayloadMF128S            ) \\\n+  do_klass(vector_VectorPayloadMF256S_klass,            jdk_internal_vm_vector_VectorPayloadMF256S            ) \\\n+  do_klass(vector_VectorPayloadMF512S_klass,            jdk_internal_vm_vector_VectorPayloadMF512S            ) \\\n+  do_klass(vector_VectorPayloadMF64I_klass,             jdk_internal_vm_vector_VectorPayloadMF64I             ) \\\n+  do_klass(vector_VectorPayloadMF128I_klass,            jdk_internal_vm_vector_VectorPayloadMF128I            ) \\\n+  do_klass(vector_VectorPayloadMF256I_klass,            jdk_internal_vm_vector_VectorPayloadMF256I            ) \\\n+  do_klass(vector_VectorPayloadMF512I_klass,            jdk_internal_vm_vector_VectorPayloadMF512I            ) \\\n+  do_klass(vector_VectorPayloadMF64L_klass,             jdk_internal_vm_vector_VectorPayloadMF64L             ) \\\n+  do_klass(vector_VectorPayloadMF128L_klass,            jdk_internal_vm_vector_VectorPayloadMF128L            ) \\\n+  do_klass(vector_VectorPayloadMF256L_klass,            jdk_internal_vm_vector_VectorPayloadMF256L            ) \\\n+  do_klass(vector_VectorPayloadMF512L_klass,            jdk_internal_vm_vector_VectorPayloadMF512L            ) \\\n+  do_klass(vector_VectorPayloadMF64F_klass,             jdk_internal_vm_vector_VectorPayloadMF64F             ) \\\n+  do_klass(vector_VectorPayloadMF128F_klass,            jdk_internal_vm_vector_VectorPayloadMF128F            ) \\\n+  do_klass(vector_VectorPayloadMF256F_klass,            jdk_internal_vm_vector_VectorPayloadMF256F            ) \\\n+  do_klass(vector_VectorPayloadMF512F_klass,            jdk_internal_vm_vector_VectorPayloadMF512F            ) \\\n+  do_klass(vector_VectorPayloadMF64D_klass,             jdk_internal_vm_vector_VectorPayloadMF64D             ) \\\n+  do_klass(vector_VectorPayloadMF128D_klass,            jdk_internal_vm_vector_VectorPayloadMF128D            ) \\\n+  do_klass(vector_VectorPayloadMF256D_klass,            jdk_internal_vm_vector_VectorPayloadMF256D            ) \\\n+  do_klass(vector_VectorPayloadMF512D_klass,            jdk_internal_vm_vector_VectorPayloadMF512D            ) \\\n","filename":"src\/hotspot\/share\/classfile\/vmClassMacros.hpp","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -121,4 +121,4 @@\n-  template(payload_name,                              \"payload\")                                  \\\n-  template(mfield_name,                               \"mfield\")                                   \\\n-  template(ETYPE_name,                                \"ETYPE\")                                    \\\n-  template(VLENGTH_name,                              \"VLENGTH\")                                  \\\n+  template(payload_name,                               \"payload\")                                 \\\n+  template(mfield_name,                                \"mfield\")                                  \\\n+  template(ETYPE_name,                                 \"ETYPE\")                                   \\\n+  template(VLENGTH_name,                               \"VLENGTH\")                                 \\\n@@ -296,24 +296,24 @@\n-  template(vector_VectorPayloadMF64B_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64B;\")  \\\n-  template(vector_VectorPayloadMF128B_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128B;\") \\\n-  template(vector_VectorPayloadMF256B_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256B;\") \\\n-  template(vector_VectorPayloadMF512B_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512B;\") \\\n-  template(vector_VectorPayloadMF64S_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64S;\")  \\\n-  template(vector_VectorPayloadMF128S_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128S;\") \\\n-  template(vector_VectorPayloadMF256S_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256S;\") \\\n-  template(vector_VectorPayloadMF512S_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512S;\") \\\n-  template(vector_VectorPayloadMF64I_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64I;\")  \\\n-  template(vector_VectorPayloadMF128I_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128I;\") \\\n-  template(vector_VectorPayloadMF256I_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256I;\") \\\n-  template(vector_VectorPayloadMF512I_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512I;\") \\\n-  template(vector_VectorPayloadMF64L_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64L;\")  \\\n-  template(vector_VectorPayloadMF128L_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128L;\") \\\n-  template(vector_VectorPayloadMF256L_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256L;\") \\\n-  template(vector_VectorPayloadMF512L_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512L;\") \\\n-  template(vector_VectorPayloadMF64F_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64F;\")  \\\n-  template(vector_VectorPayloadMF128F_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128F;\") \\\n-  template(vector_VectorPayloadMF256F_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256F;\") \\\n-  template(vector_VectorPayloadMF512F_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512F;\") \\\n-  template(vector_VectorPayloadMF64D_signature,        \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64D;\")  \\\n-  template(vector_VectorPayloadMF128D_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128D;\") \\\n-  template(vector_VectorPayloadMF256D_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256D;\") \\\n-  template(vector_VectorPayloadMF512D_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512D;\") \\\n+  template(vector_VectorPayloadMF64B_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64B;\")  \\\n+  template(vector_VectorPayloadMF128B_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128B;\") \\\n+  template(vector_VectorPayloadMF256B_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256B;\") \\\n+  template(vector_VectorPayloadMF512B_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512B;\") \\\n+  template(vector_VectorPayloadMF64S_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64S;\")  \\\n+  template(vector_VectorPayloadMF128S_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128S;\") \\\n+  template(vector_VectorPayloadMF256S_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256S;\") \\\n+  template(vector_VectorPayloadMF512S_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512S;\") \\\n+  template(vector_VectorPayloadMF64I_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64I;\")  \\\n+  template(vector_VectorPayloadMF128I_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128I;\") \\\n+  template(vector_VectorPayloadMF256I_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256I;\") \\\n+  template(vector_VectorPayloadMF512I_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512I;\") \\\n+  template(vector_VectorPayloadMF64L_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64L;\")  \\\n+  template(vector_VectorPayloadMF128L_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128L;\") \\\n+  template(vector_VectorPayloadMF256L_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256L;\") \\\n+  template(vector_VectorPayloadMF512L_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512L;\") \\\n+  template(vector_VectorPayloadMF64F_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64F;\")  \\\n+  template(vector_VectorPayloadMF128F_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128F;\") \\\n+  template(vector_VectorPayloadMF256F_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256F;\") \\\n+  template(vector_VectorPayloadMF512F_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512F;\") \\\n+  template(vector_VectorPayloadMF64D_signature,       \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF64D;\")  \\\n+  template(vector_VectorPayloadMF128D_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF128D;\") \\\n+  template(vector_VectorPayloadMF256D_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF256D;\") \\\n+  template(vector_VectorPayloadMF512D_signature,      \"Qjdk\/internal\/vm\/vector\/VectorSupport$VectorPayloadMF512D;\") \\\n","filename":"src\/hotspot\/share\/classfile\/vmSymbols.hpp","additions":28,"deletions":28,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -2704,1 +2704,0 @@\n-  Node* payload_oop = payload->is_initialized() ? InlineTypeNode::default_oop(*igvn, payload) : igvn->zerocon(T_PRIMITIVE_OBJECT);\n","filename":"src\/hotspot\/share\/opto\/cfgnode.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-\n","filename":"src\/hotspot\/share\/opto\/inlinetypenode.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n-#include \"opto\/node.hpp\"\n@@ -32,0 +31,1 @@\n+#include \"opto\/node.hpp\"\n@@ -61,2 +61,0 @@\n-\n-\n@@ -127,1 +125,0 @@\n-  bool          is_multifield() const;\n","filename":"src\/hotspot\/share\/opto\/inlinetypenode.hpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-#include \"utilities\/macros.hpp\"\n@@ -35,0 +34,1 @@\n+#include \"utilities\/macros.hpp\"\n","filename":"src\/hotspot\/share\/opto\/vector.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"ci\/ciKlass.hpp\"\n@@ -32,1 +33,0 @@\n-#include \"ci\/ciKlass.hpp\"\n","filename":"src\/hotspot\/share\/opto\/vector.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"opto\/inlinetypenode.hpp\"\n@@ -31,1 +32,0 @@\n-#include \"opto\/inlinetypenode.hpp\"\n","filename":"src\/hotspot\/share\/opto\/vectornode.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-#include \"classfile\/vmSymbols.hpp\"\n@@ -30,0 +29,1 @@\n+#include \"classfile\/vmSymbols.hpp\"\n","filename":"src\/hotspot\/share\/prims\/vectorSupport.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -99,1 +99,0 @@\n-\n","filename":"src\/hotspot\/share\/runtime\/fieldDescriptor.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -191,1 +191,0 @@\n-            VectorPayloadMF obj = null;\n@@ -194,4 +193,4 @@\n-                    case  8: obj = new VectorPayloadMF64B(); break;\n-                    case 16: obj = new VectorPayloadMF128B(); break;\n-                    case 32: obj = new VectorPayloadMF256B(); break;\n-                    case 64: obj = new VectorPayloadMF512B(); break;\n+                    case  8: return new VectorPayloadMF64B();\n+                    case 16: return new VectorPayloadMF128B();\n+                    case 32: return new VectorPayloadMF256B();\n+                    case 64: return new VectorPayloadMF512B();\n@@ -202,4 +201,4 @@\n-                    case  4: obj = new VectorPayloadMF64S(); break;\n-                    case  8: obj = new VectorPayloadMF128S(); break;\n-                    case 16: obj = new VectorPayloadMF256S(); break;\n-                    case 32: obj = new VectorPayloadMF512S(); break;\n+                    case  4: return new VectorPayloadMF64S();\n+                    case  8: return new VectorPayloadMF128S();\n+                    case 16: return new VectorPayloadMF256S();\n+                    case 32: return new VectorPayloadMF512S();\n@@ -210,4 +209,4 @@\n-                    case  2: obj = new VectorPayloadMF64I(); break;\n-                    case  4: obj = new VectorPayloadMF128I(); break;\n-                    case  8: obj = new VectorPayloadMF256I(); break;\n-                    case 16: obj = new VectorPayloadMF512I(); break;\n+                    case  2: return new VectorPayloadMF64I();\n+                    case  4: return new VectorPayloadMF128I();\n+                    case  8: return new VectorPayloadMF256I();\n+                    case 16: return new VectorPayloadMF512I();\n@@ -218,4 +217,4 @@\n-                    case  1: obj = new VectorPayloadMF64L(); break;\n-                    case  2: obj = new VectorPayloadMF128L(); break;\n-                    case  4: obj = new VectorPayloadMF256L(); break;\n-                    case  8: obj = new VectorPayloadMF512L(); break;\n+                    case  1: return new VectorPayloadMF64L();\n+                    case  2: return new VectorPayloadMF128L();\n+                    case  4: return new VectorPayloadMF256L();\n+                    case  8: return new VectorPayloadMF512L();\n@@ -226,4 +225,4 @@\n-                    case  2: obj = new VectorPayloadMF64F(); break;\n-                    case  4: obj = new VectorPayloadMF128F(); break;\n-                    case  8: obj = new VectorPayloadMF256F(); break;\n-                    case 16: obj = new VectorPayloadMF512F(); break;\n+                    case  2: return new VectorPayloadMF64F();\n+                    case  4: return new VectorPayloadMF128F();\n+                    case  8: return new VectorPayloadMF256F();\n+                    case 16: return new VectorPayloadMF512F();\n@@ -232,1 +231,2 @@\n-            } else if (elemType == double.class) {\n+            } else {\n+                assert elemType == double.class;\n@@ -234,4 +234,4 @@\n-                    case  1: obj = new VectorPayloadMF64D(); break;\n-                    case  2: obj = new VectorPayloadMF128D(); break;\n-                    case  4: obj = new VectorPayloadMF256D(); break;\n-                    case  8: obj = new VectorPayloadMF512D(); break;\n+                    case  1: return new VectorPayloadMF64D();\n+                    case  2: return new VectorPayloadMF128D();\n+                    case  4: return new VectorPayloadMF256D();\n+                    case  8: return new VectorPayloadMF512D();\n@@ -241,1 +241,1 @@\n-            return obj;\n+            return null;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/vm\/vector\/VectorSupport.java","additions":27,"deletions":27,"binary":false,"changes":54,"status":"modified"}]}