{"files":[{"patch":"@@ -61,1 +61,1 @@\n-        setPrefix(\"class Anonymous {} {new Anonymous() {\");\n+        setPrefix(\"class Anonymous { int f; } {new Anonymous() {\"); \/\/ impose identity to make testing predictable.\n@@ -80,1 +80,1 @@\n-        class2Flags.put(\"1\", new HashSet<>() {});\n+        class2Flags.put(\"1\", new HashSet<>(Arrays.asList(\"ACC_IDENTITY\")));\n","filename":"test\/langtools\/tools\/javac\/classfiles\/attributes\/innerclasses\/InnerClassesInAnonymousClassTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-            sb.append(\"class Local {\");\n+            sb.append(\"class Local { int f; \"); \/\/ impose identity to make testing predictable.\n@@ -153,0 +153,1 @@\n+        set.add(\"ACC_IDENTITY\");\n","filename":"test\/langtools\/tools\/javac\/classfiles\/attributes\/innerclasses\/InnerClassesInLocalClassTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -283,0 +283,2 @@\n+            if (outerClassType == ClassType.CLASS && outerMod.contains(Modifier.ABSTRACT))\n+                sb.append(\"int f;\\n\"); \/\/ impose identity to make testing predicatable\n@@ -293,0 +295,2 @@\n+                String instField = innerClassType == ClassType.CLASS && innerMod.contains(Modifier.ABSTRACT) ?\n+                                                \"int f; \" : \"\"; \/\/ impose identity to make testing predicatable\n@@ -294,1 +298,1 @@\n-                sb.append(String.format(\"%s A%d {%s}\\n\", innerClassType, count, privateConstructor));\n+                sb.append(String.format(\"%s A%d { %s %s}\\n\", innerClassType, count, instField, privateConstructor));\n@@ -380,0 +384,1 @@\n+                flags.add(\"ACC_IDENTITY\");\n@@ -417,0 +422,1 @@\n+                flags.add(\"ACC_IDENTITY\");\n@@ -422,0 +428,1 @@\n+                flags.add(\"ACC_IDENTITY\");\n","filename":"test\/langtools\/tools\/javac\/classfiles\/attributes\/innerclasses\/InnerClassesTestBase.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}