[{"commit":{"message":"8265184: [lworld] [AArch64] Broken fast class init barrier for static calls in c2i adapter\n\nThe tier1 test runtime\/clinit\/ClassInitBarrier.java fails on the lworld\nbranch on AArch64.  The particular case that fails is calling a static\nnative method `A.staticN()` which should block in the c2i adapter until\nclass A's initialisation is complete but doesn't.\n\nThe check for a static method is backwards: the class initialisation\nbarrier code is executed when the method is *not* static (ANDS will set\nthe EQ flag if the result is zero).  I'm not sure why it's like this but\nfast class initialisation for AArch64 was added after the original\nlworld port which also touches generate_i2c2i_adapters so maybe\nsomething got messed up in the merge.\n\nFix by making the code the same as mainline."},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/sharedRuntime_aarch64.cpp"}],"sha":"d4b763dabf1df017d794504e4506c476c6030217"}]