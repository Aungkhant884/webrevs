{"files":[{"patch":"@@ -613,0 +613,1 @@\n+                if (!success) weakDelay();\n@@ -619,0 +620,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+            Point x = (Point) vh.get(recv);\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+        }\n+\n@@ -623,0 +631,1 @@\n+                if (!success) weakDelay();\n@@ -629,0 +638,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+            Point x = (Point) vh.get(recv);\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+        }\n+\n@@ -633,0 +649,1 @@\n+                if (!success) weakDelay();\n@@ -639,0 +656,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease Point\");\n+            Point x = (Point) vh.get(recv);\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetRelease Point value\");\n+        }\n+\n@@ -643,0 +667,1 @@\n+                if (!success) weakDelay();\n@@ -649,0 +674,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+            Point x = (Point) vh.get(recv);\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSet Point value\");\n+        }\n+\n@@ -825,0 +857,1 @@\n+                if (!success) weakDelay();\n@@ -831,0 +864,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+            Point x = (Point) vh.get();\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+        }\n+\n@@ -835,0 +875,1 @@\n+                if (!success) weakDelay();\n@@ -841,0 +882,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+            Point x = (Point) vh.get();\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+        }\n+\n@@ -845,0 +893,1 @@\n+                if (!success) weakDelay();\n@@ -851,0 +900,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease Point\");\n+            Point x = (Point) vh.get();\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetRelease Point value\");\n+        }\n+\n@@ -855,0 +911,1 @@\n+                if (!success) weakDelay();\n@@ -861,0 +918,7 @@\n+        {\n+            boolean success = vh.weakCompareAndSet(Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+            Point x = (Point) vh.get();\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSet Point value\");\n+        }\n+\n@@ -1040,0 +1104,1 @@\n+                    if (!success) weakDelay();\n@@ -1046,0 +1111,7 @@\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, Point.getInstance(1,1), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+                Point x = (Point) vh.get(array, i);\n+                assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+            }\n+\n@@ -1050,0 +1122,1 @@\n+                    if (!success) weakDelay();\n@@ -1056,0 +1129,7 @@\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, Point.getInstance(2,2), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+                Point x = (Point) vh.get(array, i);\n+                assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+            }\n+\n@@ -1060,0 +1140,1 @@\n+                    if (!success) weakDelay();\n@@ -1066,0 +1147,7 @@\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, Point.getInstance(1,1), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease Point\");\n+                Point x = (Point) vh.get(array, i);\n+                assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetRelease Point value\");\n+            }\n+\n@@ -1070,0 +1158,1 @@\n+                    if (!success) weakDelay();\n@@ -1076,0 +1165,7 @@\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, Point.getInstance(2,2), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+                Point x = (Point) vh.get(array, i);\n+                assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSet Point value\");\n+            }\n+\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessPoint.java","additions":96,"deletions":0,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -232,0 +232,1 @@\n+                if (!success) weakDelay();\n@@ -238,0 +239,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+        }\n+\n@@ -243,0 +251,1 @@\n+                if (!success) weakDelay();\n@@ -249,0 +258,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+        }\n+\n@@ -254,0 +270,1 @@\n+                if (!success) weakDelay();\n@@ -260,0 +277,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetRelease Point value\");\n+        }\n+\n@@ -265,0 +289,1 @@\n+                if (!success) weakDelay();\n@@ -271,0 +296,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSet Point value\");\n+        }\n+\n@@ -420,0 +452,1 @@\n+                if (!success) weakDelay();\n@@ -426,0 +459,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+        }\n+\n@@ -431,0 +471,1 @@\n+                if (!success) weakDelay();\n@@ -437,0 +478,8 @@\n+        {\n+            MethodHandle mh = hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE);\n+            boolean success = (boolean) mh.invokeExact(Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+        }\n+\n@@ -442,0 +491,1 @@\n+                if (!success) weakDelay();\n@@ -448,0 +498,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(Point.getInstance(1,1), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetRelease Point value\");\n+        }\n+\n@@ -453,0 +510,1 @@\n+                if (!success) weakDelay();\n@@ -459,0 +517,7 @@\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(Point.getInstance(2,2), Point.getInstance(3,3));\n+            assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+            Point x = (Point) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetRe Point value\");\n+        }\n+\n@@ -605,0 +670,1 @@\n+                    if (!success) weakDelay();\n@@ -611,0 +677,7 @@\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, Point.getInstance(1,1), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain Point\");\n+                Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetPlain Point value\");\n+            }\n+\n@@ -616,0 +689,1 @@\n+                    if (!success) weakDelay();\n@@ -622,0 +696,7 @@\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, Point.getInstance(2,2), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+                Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSetAcquire Point value\");\n+            }\n+\n@@ -627,0 +708,1 @@\n+                    if (!success) weakDelay();\n@@ -633,0 +715,7 @@\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, Point.getInstance(1,1), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire Point\");\n+                Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, Point.getInstance(2,2), \"failing weakCompareAndSetAcquire Point value\");\n+            }\n+\n@@ -638,0 +727,1 @@\n+                    if (!success) weakDelay();\n@@ -644,0 +734,7 @@\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, Point.getInstance(2,2), Point.getInstance(3,3));\n+                assertEquals(success, false, \"failing weakCompareAndSet Point\");\n+                Point x = (Point) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, Point.getInstance(1,1), \"failing weakCompareAndSet Point value\");\n+            }\n+\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessPoint.java","additions":97,"deletions":0,"binary":false,"changes":97,"status":"modified"},{"patch":"@@ -770,1 +770,0 @@\n-#if[!PrimitiveClass]\n@@ -772,1 +771,0 @@\n-#end[PrimitiveClass]\n@@ -779,1 +777,0 @@\n-#if[!PrimitiveClass]\n@@ -787,1 +784,0 @@\n-#end[PrimitiveClass]\n@@ -792,1 +788,0 @@\n-#if[!PrimitiveClass]\n@@ -794,1 +789,0 @@\n-#end[PrimitiveClass]\n@@ -801,1 +795,0 @@\n-#if[!PrimitiveClass]\n@@ -809,1 +802,0 @@\n-#end[PrimitiveClass]\n@@ -814,1 +806,0 @@\n-#if[!PrimitiveClass]\n@@ -816,1 +807,0 @@\n-#end[PrimitiveClass]\n@@ -823,1 +813,0 @@\n-#if[!PrimitiveClass]\n@@ -831,1 +820,0 @@\n-#end[PrimitiveClass]\n@@ -836,1 +824,0 @@\n-#if[!PrimitiveClass]\n@@ -838,1 +825,0 @@\n-#end[PrimitiveClass]\n@@ -845,1 +831,0 @@\n-#if[!PrimitiveClass]\n@@ -853,1 +838,0 @@\n-#end[PrimitiveClass]\n@@ -1195,1 +1179,0 @@\n-#if[!PrimitiveClass]\n@@ -1197,1 +1180,0 @@\n-#end[PrimitiveClass]\n@@ -1204,1 +1186,0 @@\n-#if[!PrimitiveClass]\n@@ -1212,1 +1193,0 @@\n-#end[PrimitiveClass]\n@@ -1217,1 +1197,0 @@\n-#if[!PrimitiveClass]\n@@ -1219,1 +1198,0 @@\n-#end[PrimitiveClass]\n@@ -1226,1 +1204,0 @@\n-#if[!PrimitiveClass]\n@@ -1234,1 +1211,0 @@\n-#end[PrimitiveClass]\n@@ -1239,1 +1215,0 @@\n-#if[!PrimitiveClass]\n@@ -1241,1 +1216,0 @@\n-#end[PrimitiveClass]\n@@ -1248,1 +1222,0 @@\n-#if[!PrimitiveClass]\n@@ -1256,1 +1229,0 @@\n-#end[PrimitiveClass]\n@@ -1261,1 +1233,0 @@\n-#if[!PrimitiveClass]\n@@ -1263,1 +1234,0 @@\n-#end[PrimitiveClass]\n@@ -1270,1 +1240,0 @@\n-#if[!PrimitiveClass]\n@@ -1278,1 +1247,0 @@\n-#end[PrimitiveClass]\n@@ -1623,1 +1591,0 @@\n-#if[!PrimitiveClass]\n@@ -1625,1 +1592,0 @@\n-#end[PrimitiveClass]\n@@ -1632,1 +1598,0 @@\n-#if[!PrimitiveClass]\n@@ -1640,1 +1605,0 @@\n-#end[PrimitiveClass]\n@@ -1645,1 +1609,0 @@\n-#if[!PrimitiveClass]\n@@ -1647,1 +1610,0 @@\n-#end[PrimitiveClass]\n@@ -1654,1 +1616,0 @@\n-#if[!PrimitiveClass]\n@@ -1662,1 +1623,0 @@\n-#end[PrimitiveClass]\n@@ -1667,1 +1627,0 @@\n-#if[!PrimitiveClass]\n@@ -1669,1 +1628,0 @@\n-#end[PrimitiveClass]\n@@ -1676,1 +1634,0 @@\n-#if[!PrimitiveClass]\n@@ -1684,1 +1641,0 @@\n-#end[PrimitiveClass]\n@@ -1689,1 +1645,0 @@\n-#if[!PrimitiveClass]\n@@ -1691,1 +1646,0 @@\n-#end[PrimitiveClass]\n@@ -1698,1 +1652,0 @@\n-#if[!PrimitiveClass]\n@@ -1706,1 +1659,0 @@\n-#end[PrimitiveClass]\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/X-VarHandleTestAccess.java.template","additions":0,"deletions":48,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -249,1 +249,0 @@\n-#if[!PrimitiveClass]\n@@ -251,1 +250,0 @@\n-#end[PrimitiveClass]\n@@ -258,1 +256,0 @@\n-#if[!PrimitiveClass]\n@@ -266,1 +263,0 @@\n-#end[PrimitiveClass]\n@@ -272,1 +268,0 @@\n-#if[!PrimitiveClass]\n@@ -274,1 +269,0 @@\n-#end[PrimitiveClass]\n@@ -281,1 +275,0 @@\n-#if[!PrimitiveClass]\n@@ -289,1 +282,0 @@\n-#end[PrimitiveClass]\n@@ -295,1 +287,0 @@\n-#if[!PrimitiveClass]\n@@ -297,1 +288,0 @@\n-#end[PrimitiveClass]\n@@ -304,1 +294,0 @@\n-#if[!PrimitiveClass]\n@@ -312,1 +301,0 @@\n-#end[PrimitiveClass]\n@@ -318,1 +306,0 @@\n-#if[!PrimitiveClass]\n@@ -320,1 +307,0 @@\n-#end[PrimitiveClass]\n@@ -327,1 +313,0 @@\n-#if[!PrimitiveClass]\n@@ -335,1 +320,0 @@\n-#end[PrimitiveClass]\n@@ -649,1 +633,0 @@\n-#if[!PrimitiveClass]\n@@ -651,1 +634,0 @@\n-#end[PrimitiveClass]\n@@ -658,1 +640,0 @@\n-#if[!PrimitiveClass]\n@@ -666,1 +647,0 @@\n-#end[PrimitiveClass]\n@@ -672,1 +652,0 @@\n-#if[!PrimitiveClass]\n@@ -674,1 +653,0 @@\n-#end[PrimitiveClass]\n@@ -681,1 +659,0 @@\n-#if[!PrimitiveClass]\n@@ -690,1 +667,0 @@\n-#end[PrimitiveClass]\n@@ -696,1 +672,0 @@\n-#if[!PrimitiveClass]\n@@ -698,1 +673,0 @@\n-#end[PrimitiveClass]\n@@ -705,1 +679,0 @@\n-#if[!PrimitiveClass]\n@@ -713,1 +686,0 @@\n-#end[PrimitiveClass]\n@@ -719,1 +691,0 @@\n-#if[!PrimitiveClass]\n@@ -721,1 +692,0 @@\n-#end[PrimitiveClass]\n@@ -728,1 +698,0 @@\n-#if[!PrimitiveClass]\n@@ -736,1 +705,0 @@\n-#end[PrimitiveClass]\n@@ -1022,1 +990,0 @@\n-#if[!PrimitiveClass]\n@@ -1024,1 +991,0 @@\n-#end[PrimitiveClass]\n@@ -1031,1 +997,0 @@\n-#if[!PrimitiveClass]\n@@ -1039,1 +1004,0 @@\n-#end[PrimitiveClass]\n@@ -1045,1 +1009,0 @@\n-#if[!PrimitiveClass]\n@@ -1047,1 +1010,0 @@\n-#end[PrimitiveClass]\n@@ -1054,1 +1016,0 @@\n-#if[!PrimitiveClass]\n@@ -1062,1 +1023,0 @@\n-#end[PrimitiveClass]\n@@ -1068,1 +1028,0 @@\n-#if[!PrimitiveClass]\n@@ -1070,1 +1029,0 @@\n-#end[PrimitiveClass]\n@@ -1077,1 +1035,0 @@\n-#if[!PrimitiveClass]\n@@ -1085,1 +1042,0 @@\n-#end[PrimitiveClass]\n@@ -1091,1 +1047,0 @@\n-#if[!PrimitiveClass]\n@@ -1093,1 +1048,0 @@\n-#end[PrimitiveClass]\n@@ -1100,1 +1054,0 @@\n-#if[!PrimitiveClass]\n@@ -1108,1 +1061,0 @@\n-#end[PrimitiveClass]\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/X-VarHandleTestMethodHandleAccess.java.template","additions":0,"deletions":48,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -44,6 +44,0 @@\n-  case $type in\n-    Point)\n-      args=\"$args -KPrimitiveClass\"\n-      ;;\n-  esac\n-\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/generate-vh-tests.sh","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"}]}