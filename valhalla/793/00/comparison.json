{"files":[{"patch":"@@ -98,0 +98,2 @@\n+    private final boolean allowPrimitiveClasses;\n+\n@@ -283,1 +285,1 @@\n-                    if (type.isPrimitiveClass()) {\n+                    if (allowPrimitiveClasses && type.isPrimitiveClass()) {\n@@ -668,1 +670,2 @@\n-\n+        Options options = Options.instance(context);\n+        allowPrimitiveClasses = Feature.PRIMITIVE_CLASSES.allowedInSource(source) && options.isSet(\"enablePrimitiveClasses\");\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Symtab.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -4660,1 +4660,3 @@\n-                    Assert.check(owntype.getFlavor() != Flavor.X_Typeof_X);\n+                    if (allowPrimitiveClasses) {\n+                        Assert.check(owntype.getFlavor() != Flavor.X_Typeof_X);\n+                    }\n@@ -4667,1 +4669,1 @@\n-                    if (owntype.isPrimitiveClass() && tree.hasTag(SELECT) && ((JCFieldAccess) tree).name == names.ref) {\n+                    if (allowPrimitiveClasses && owntype.isPrimitiveClass() && tree.hasTag(SELECT) && ((JCFieldAccess) tree).name == names.ref) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}