{"files":[{"patch":"@@ -4891,1 +4891,1 @@\n-        Type site = attribTree(tree.clazz, env, new ResultInfo(KindSelector.TYP, Type.noType));\n+        Type site = attribTree(tree.clazz, env, new ResultInfo(KindSelector.TYP_PCK, Type.noType));\n@@ -4896,1 +4896,6 @@\n-                case PACKAGE, WILDCARD -> throw new AssertionError(tree);\n+                case WILDCARD -> throw new AssertionError(tree);\n+                case PACKAGE -> {\n+                    log.error(tree.pos, Errors.CantResolveLocation(Kinds.KindName.CLASS, site.tsym.getQualifiedName(), null, null,\n+                            Fragments.Location(Kinds.typeKindName(env.enclClass.type), env.enclClass.type, null)));\n+                    yield syms.errSymbol;\n+                }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -0,0 +1,14 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8264216\n+ * @summary [lworld] unknown.Class.default gives misleading compilation error\n+ * @compile\/fail\/ref=UnknownTypeDefault.out -Xlint:all -Werror -XDrawDiagnostics -XDdev UnknownTypeDefault.java\n+ *\/\n+\n+public class UnknownTypeDefault {\n+\n+    public static void main(String [] args) {\n+        Object d1 = Y.default;\n+        Object d2 = y.Z.default;\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/valhalla\/lworld-values\/UnknownTypeDefault.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+UnknownTypeDefault.java:11:22: compiler.err.cant.resolve.location: kindname.class, Y, null, null, (compiler.misc.location: kindname.class, UnknownTypeDefault, null)\n+UnknownTypeDefault.java:12:24: compiler.err.cant.resolve.location: kindname.class, y.Z, null, null, (compiler.misc.location: kindname.class, UnknownTypeDefault, null)\n+2 errors\n","filename":"test\/langtools\/tools\/javac\/valhalla\/lworld-values\/UnknownTypeDefault.out","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"}]}