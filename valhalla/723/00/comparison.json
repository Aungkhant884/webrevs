{"files":[{"patch":"@@ -1529,1 +1529,7 @@\n-                                ANNOTATION)) {\n+                                ANNOTATION)\n+                 && checkDisjoint(pos, flags,\n+                                IDENTITY_TYPE,\n+                                ANNOTATION)\n+                && checkDisjoint(pos, flags,\n+                                VALUE_CLASS,\n+                                ANNOTATION) ) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-        setInnerOtherModifiers(Modifier.EMPTY, Modifier.ABSTRACT, Modifier.STATIC, Modifier.IDENTITY);\n+        setInnerOtherModifiers(Modifier.EMPTY, Modifier.ABSTRACT, Modifier.STATIC);\n","filename":"test\/langtools\/tools\/javac\/classfiles\/attributes\/innerclasses\/InnerAnnotationsInInnerClassTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,13 @@\n+\/*\n+ * @test\n+ * @bug 8292630\n+ * @summary [lworld] javac is accepting annotation interface declarations with modifiers: identity and value\n+ * @compile\/fail\/ref=AnnotationsConstraints.out -XDrawDiagnostics AnnotationsConstraints.java\n+ *\/\n+\n+public class AnnotationsConstraints {\n+    \/\/ annotations can't have the `identity`\n+    identity @interface IA {}\n+    \/\/ nor the `value` modifiers\n+    value @interface VA {}\n+}\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/AnnotationsConstraints.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+AnnotationsConstraints.java:10:15: compiler.err.illegal.combination.of.modifiers: identity, annotation\n+AnnotationsConstraints.java:12:12: compiler.err.illegal.combination.of.modifiers: value, annotation\n+2 errors\n","filename":"test\/langtools\/tools\/javac\/valhalla\/value-objects\/AnnotationsConstraints.out","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"}]}