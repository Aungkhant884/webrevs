{"files":[{"patch":"@@ -373,1 +373,1 @@\n-  if (!_pool_holder->is_linked() && _pool_holder->is_shared_old_klass()) {\n+  if (!_pool_holder->is_linked() && !_pool_holder->verified_at_dump_time()) {\n","filename":"src\/hotspot\/share\/oops\/constantPool.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2406,2 +2406,2 @@\n-    \/\/ Set the old class bit.\n-    set_is_shared_old_klass();\n+    \/\/ Clear the _verified_at_dump_time bit.\n+    clear_verified_at_dump_time();\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -208,0 +208,2 @@\n+  \/\/ Most classes can be verified during dump time except for the ones with major version < 50.\n+  CDS_ONLY(_shared_class_flags |= _verified_at_dump_time;)\n","filename":"src\/hotspot\/share\/oops\/klass.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-    _is_shared_old_klass = 8\n+    _verified_at_dump_time = 8\n@@ -337,2 +337,2 @@\n-  void set_is_shared_old_klass() {\n-    CDS_ONLY(_shared_class_flags |= _is_shared_old_klass;)\n+  void clear_verified_at_dump_time() {\n+    CDS_ONLY(_shared_class_flags &= ~_verified_at_dump_time;)\n@@ -340,2 +340,2 @@\n-  bool is_shared_old_klass() const {\n-    CDS_ONLY(return (_shared_class_flags & _is_shared_old_klass) != 0;)\n+  bool verified_at_dump_time() const {\n+    CDS_ONLY(return (_shared_class_flags & _verified_at_dump_time) != 0;)\n","filename":"src\/hotspot\/share\/oops\/klass.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-  return _klass->is_shared() && !MetaspaceShared::remapped_readwrite() && !_klass->is_shared_old_klass();\n+  return _klass->is_shared() && !MetaspaceShared::remapped_readwrite() && _klass->verified_at_dump_time();\n@@ -1097,2 +1097,2 @@\n-     m->method_holder()->can_be_verified_at_dumptime() &&\n-     klass->can_be_verified_at_dumptime()) {\n+     m->method_holder()->verified_at_dump_time() &&\n+     klass->verified_at_dump_time()) {\n","filename":"src\/hotspot\/share\/oops\/klassVtable.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -412,1 +412,1 @@\n-  if (is_shared() && !MetaspaceShared::remapped_readwrite() && !method_holder()->is_shared_old_klass()) {\n+  if (is_shared() && !MetaspaceShared::remapped_readwrite() && method_holder()->verified_at_dump_time()) {\n@@ -423,1 +423,1 @@\n-  if (is_shared() && !MetaspaceShared::remapped_readwrite() && !method_holder()->is_shared_old_klass()) {\n+  if (is_shared() && !MetaspaceShared::remapped_readwrite() && method_holder()->verified_at_dump_time()) {\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}