{"files":[{"patch":"@@ -64,1 +64,6 @@\n-$(SUPPORT_OUTPUTDIR)\/javadoc-symbols\/symbols: \\\n+GENERATE_SYMBOLS_FROM_JDK_VERSION := 11\n+JDK_JAVADOC_DIR := $(JDK_OUTPUTDIR)\/modules\/jdk.javadoc\n+ELEMENT_LISTS_PKG := jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/releases\n+ELEMENT_LISTS_DIR := $(JDK_JAVADOC_DIR)\/$(ELEMENT_LISTS_PKG)\n+\n+$(JDK_JAVADOC_DIR)\/_element_lists.marker: \\\n@@ -68,18 +73,24 @@\n-\t$(RM) -r $(@D)\n-\t$(MKDIR) -p $(@D)\n-\t$(ECHO) Creating javadoc element list\n-\t$(JAVA_SMALL) $(INTERIM_LANGTOOLS_ARGS) \\\n-\t    $(COMPILECREATESYMBOLS_ADD_EXPORTS) \\\n-\t    -classpath $(BUILDTOOLS_OUTPUTDIR)\/create_symbols_javadoc \\\n-\t    build.tools.symbolgenerator.CreateSymbols \\\n-\t    build-javadoc-data \\\n-\t    $(CT_DATA_DESCRIPTION) \\\n-\t    $(JDK_OUTPUTDIR)\/modules\/jdk.javadoc\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/releases \\\n-\t    11\n-\t$(JAVA_SMALL) $(INTERIM_LANGTOOLS_ARGS) \\\n-\t    $(COMPILECREATESYMBOLS_ADD_EXPORTS) \\\n-\t    -classpath $(BUILDTOOLS_OUTPUTDIR)\/create_symbols_javadoc \\\n-\t    build.tools.symbolgenerator.JavadocElementList \\\n-\t    $(JDK_OUTPUTDIR)\/modules\/jdk.javadoc\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/releases\/element-list-$(JDK_SOURCE_TARGET_VERSION).txt \\\n-\t    $(JAVADOC_MODULESOURCEPATH) \\\n-\t    $(JAVADOC_MODULES)\n+\t$(call MakeTargetDir)\n+\t$(call LogInfo, Creating javadoc element lists)\n+\t$(RM) -r $(ELEMENT_LISTS_DIR)\n+        # Generate element-list files for JDK 11 to current-1\n+\t$(call ExecuteWithLog, $@_historic, \\\n+\t    $(JAVA_SMALL) $(INTERIM_LANGTOOLS_ARGS) \\\n+\t        $(COMPILECREATESYMBOLS_ADD_EXPORTS) \\\n+\t        -classpath $(BUILDTOOLS_OUTPUTDIR)\/create_symbols_javadoc \\\n+\t        build.tools.symbolgenerator.CreateSymbols \\\n+\t        build-javadoc-data \\\n+\t        $(CT_DATA_DESCRIPTION) \\\n+\t        $(ELEMENT_LISTS_DIR) \\\n+\t        $(GENERATE_SYMBOLS_FROM_JDK_VERSION) \\\n+\t)\n+        # Generate element-list file for the current JDK version\n+\t$(call ExecuteWithLog, $@_current, \\\n+\t    $(JAVA_SMALL) $(INTERIM_LANGTOOLS_ARGS) \\\n+\t        $(COMPILECREATESYMBOLS_ADD_EXPORTS) \\\n+\t        -classpath $(BUILDTOOLS_OUTPUTDIR)\/create_symbols_javadoc \\\n+\t        build.tools.symbolgenerator.JavadocElementList \\\n+\t        $(ELEMENT_LISTS_DIR)\/element-list-$(JDK_SOURCE_TARGET_VERSION).txt \\\n+\t        $(JAVADOC_MODULESOURCEPATH) \\\n+\t        $(JAVADOC_MODULES) \\\n+\t)\n@@ -88,5 +99,2 @@\n-# Copy ct.sym to the modules libs dir\n-$(eval $(call SetupCopyFiles, COPY_TO_LIBS, \\\n-    FILES := $(SUPPORT_OUTPUTDIR)\/javadoc-symbols\/*.txt, \\\n-    DEST := $(JDK_OUTPUTDIR)\/modules\/jdk.javadoc\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/releases, \\\n-))\n+################################################################################\n+# Copy element-lists to interim langtools\n@@ -94,1 +102,8 @@\n-TARGETS += $(SUPPORT_OUTPUTDIR)\/javadoc-symbols\/symbols\n+INTERIM_JDK_JAVADOC_DIR := $(BUILDTOOLS_OUTPUTDIR)\/interim_langtools_modules\/jdk.javadoc.interim\n+INTERIM_ELEMENT_LISTS_DIR := $(INTERIM_JDK_JAVADOC_DIR)\/$(ELEMENT_LISTS_PKG)\n+\n+$(INTERIM_JDK_JAVADOC_DIR)\/_element_lists.marker: $(JDK_JAVADOC_DIR)\/_element_lists.marker\n+\t$(call MakeDir, $(INTERIM_ELEMENT_LISTS_DIR))\n+\t$(RM) -r $(INTERIM_ELEMENT_LISTS_DIR)\/*\n+\t$(CP) -R $(ELEMENT_LISTS_DIR)\/* $(INTERIM_ELEMENT_LISTS_DIR)\/\n+\t$(TOUCH) $@\n@@ -97,0 +112,3 @@\n+\n+TARGETS += $(JDK_JAVADOC_DIR)\/_element_lists.marker \\\n+    $(INTERIM_JDK_JAVADOC_DIR)\/_element_lists.marker\n","filename":"make\/modules\/jdk.javadoc\/Gendata.gmk","additions":43,"deletions":25,"binary":false,"changes":68,"status":"modified"}]}