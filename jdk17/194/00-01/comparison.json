{"files":[{"patch":"@@ -1716,1 +1716,1 @@\n-                            } else if (wasPattern && !wasTypePattern) {\n+                            } else if (wasPattern && !wasTypePattern && !wasNonEmptyFallThrough) {\n@@ -1767,1 +1767,1 @@\n-                            if (wasPattern) {\n+                            if (wasPattern && !wasNonEmptyFallThrough) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,0 +65,2 @@\n+        runFallThrough(this::testFallThrough2Statement);\n+        runFallThrough(this::testFallThrough2Expression);\n@@ -343,0 +345,27 @@\n+    Integer testFallThrough2Statement(Integer i) {\n+        int r = 0;\n+\n+        switch (i) {\n+            case Integer o && o != null:\n+                r = 1;\n+            case -1: r = 1;\n+            case null, default:\n+                r = 2;\n+        }\n+\n+        return r;\n+    }\n+\n+    Integer testFallThrough2Expression(Integer i) {\n+        int r = switch (i) {\n+            case Integer o && o != null:\n+                r = 1;\n+            case -1: r = 1;\n+            case null, default:\n+                r = 2;\n+                yield r;\n+        };\n+\n+        return r;\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/patterns\/Switches.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"modified"}]}