{"files":[{"patch":"@@ -110,1 +110,0 @@\n-    SystemDictionaryShared::check_excluded_classes();\n@@ -112,0 +111,1 @@\n+    \/\/ Block concurrent class unloading from changing the _dumptime_table\n@@ -113,0 +113,2 @@\n+    SystemDictionaryShared::check_excluded_classes();\n+\n","filename":"src\/hotspot\/share\/cds\/dynamicArchive.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -487,3 +487,2 @@\n-  \/\/ At this point, many classes have been loaded.\n-  \/\/ Gather systemDictionary classes in a global array and do everything to\n-  \/\/ that so we don't have to walk the SystemDictionary again.\n+  \/\/ Block concurrent class unloading from changing the _dumptime_table\n+  MutexLocker ml(DumpTimeTable_lock, Mutex::_no_safepoint_check_flag);\n@@ -492,1 +491,0 @@\n-  MutexLocker ml(DumpTimeTable_lock, Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1488,0 +1488,2 @@\n+  assert(no_class_loading_should_happen(), \"sanity\");\n+  assert_lock_strong(DumpTimeTable_lock);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}