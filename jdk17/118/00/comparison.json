{"files":[{"patch":"@@ -197,2 +197,6 @@\n-    if (access.decorators() & ON_WEAK_OOP_REF) {\n-      access.set_barrier_data(ZLoadBarrierWeak);\n+    uint8_t barrier_data = 0;\n+\n+    if (access.decorators() & ON_PHANTOM_OOP_REF) {\n+      barrier_data |= ZLoadBarrierPhantom;\n+    } else if (access.decorators() & ON_WEAK_OOP_REF) {\n+      barrier_data |= ZLoadBarrierWeak;\n@@ -200,1 +204,5 @@\n-      access.set_barrier_data(ZLoadBarrierStrong);\n+      barrier_data |= ZLoadBarrierStrong;\n+    }\n+\n+    if (access.decorators() & AS_NO_KEEPALIVE) {\n+      barrier_data |= ZLoadBarrierNoKeepalive;\n@@ -202,0 +210,2 @@\n+\n+    access.set_barrier_data(barrier_data);\n","filename":"src\/hotspot\/share\/gc\/z\/c2\/zBarrierSetC2.cpp","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"}]}