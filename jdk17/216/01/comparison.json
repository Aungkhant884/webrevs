{"files":[{"patch":"@@ -112,1 +112,1 @@\n-void AsyncLogWriter::write() {\n+int AsyncLogWriter::write() {\n@@ -120,0 +120,1 @@\n+  int dequeued  = 0;\n@@ -125,0 +126,1 @@\n+    dequeued = static_cast<int>(logs.size());\n@@ -151,0 +153,1 @@\n+  return dequeued;\n@@ -158,1 +161,7 @@\n-    write();\n+\n+    int n = write();\n+    \/\/ correct the value of _sem.\n+    \/\/ pre-decrement as we already performed the first wait\n+    while (--n > 0) {\n+      _sem.wait();\n+    }\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.cpp","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-  void write();\n+  int write();\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}