{"files":[{"patch":"@@ -797,6 +797,0 @@\n-Specifically, it validates the parameters passed to the JNI function and\n-the runtime environment data before processing the JNI request.\n-It also checks for pending exceptions between JNI calls.\n-Any invalid data encountered indicates a problem in the native code, and\n-the JVM terminates with an irrecoverable error in such cases.\n-Expect a performance degradation when this option is used.\n@@ -804,0 +798,62 @@\n+.PP\n+The following checks are considered indicative of significant problems\n+with the native code, and the JVM terminates with an irrecoverable error\n+in such cases:\n+.IP \\[bu] 2\n+The thread doing the call is not attached to the JVM.\n+.IP \\[bu] 2\n+The thread doing the call is using the \\f[CB]JNIEnv\\f[R] belonging to\n+another thread.\n+.IP \\[bu] 2\n+A parameter validation check fails:\n+.RS 2\n+.IP \\[bu] 2\n+A \\f[CB]jFieldID\\f[R], or \\f[CB]jMethodID\\f[R], is detected as being\n+invalid.\n+For example:\n+.RS 2\n+.IP \\[bu] 2\n+Of the wrong type\n+.IP \\[bu] 2\n+Associated with the wrong class\n+.RE\n+.IP \\[bu] 2\n+A parameter of the wrong type is detected.\n+.IP \\[bu] 2\n+An invalid parameter value is detected.\n+For example:\n+.RS 2\n+.IP \\[bu] 2\n+NULL where not permitted\n+.IP \\[bu] 2\n+An out\\-of\\-bounds array index, or frame capacity\n+.IP \\[bu] 2\n+A non\\-UTF\\-8 string\n+.IP \\[bu] 2\n+An invalid JNI reference\n+.IP \\[bu] 2\n+An attempt to use a \\f[CB]ReleaseXXX\\f[R] function on a parameter not\n+produced by the corresponding \\f[CB]GetXXX\\f[R] function\n+.RE\n+.RE\n+.PP\n+The following checks only result in warnings being printed:\n+.IP \\[bu] 2\n+A JNI call was made without checking for a pending exception from a\n+previous JNI call, and the current call is not safe when an exception\n+may be pending.\n+.IP \\[bu] 2\n+The number of JNI local references existing when a JNI function\n+terminates exceeds the number guaranteed to be available.\n+See the \\f[CB]EnsureLocalcapacity\\f[R] function.\n+.IP \\[bu] 2\n+A class descriptor is in decorated format (\\f[CB]Lname;\\f[R]) when it\n+should not be.\n+.IP \\[bu] 2\n+A \\f[CB]NULL\\f[R] parameter is allowed, but its use is questionable.\n+.IP \\[bu] 2\n+Calling other JNI functions in the scope of\n+\\f[CB]Get\/ReleasePrimitiveArrayCritical\\f[R] or\n+\\f[CB]Get\/ReleaseStringCritical\\f[R]\n+.PP\n+Expect a performance degradation when this option is used.\n","filename":"src\/java.base\/share\/man\/java.1","additions":62,"deletions":6,"binary":false,"changes":68,"status":"modified"}]}