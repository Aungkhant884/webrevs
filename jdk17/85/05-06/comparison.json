{"files":[{"patch":"@@ -594,1 +594,0 @@\n-         * - jdk.serialFilter is set and jdk.serialFilterFactory is unset, the builtin can not be replaced\n","filename":"src\/java.base\/share\/classes\/java\/io\/ObjectInputFilter.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -197,1 +197,1 @@\n-     * @return the {@code user.name} system property\n+     * @return the {@code jdk.serialFilterFactory} system property\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/StaticProperty.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -602,2 +602,3 @@\n-             * Apply the predicate to the class being deserialized, if the class is non-null\n-             * and if it returns {@code true}, return the requested status. Otherwise, return UNDECIDED.\n+             * Returns a filter that returns {@code ifTrueStatus} or the {@code ifFalseStatus}\n+             * based on the predicate of the {@code non-null} class and {@code UNDECIDED}\n+             * if the class is {@code null}.\n@@ -606,1 +607,3 @@\n-             * @return the status of applying the predicate, otherwise {@code UNDECIDED}\n+             * @return a filter that returns {@code ifTrueStatus} or the {@code ifFalseStatus}\n+             *          based on the predicate of the {@code non-null} class and {@code UNDECIDED}\n+             *          if the class is {@code null}\n@@ -610,1 +613,3 @@\n-                return (clazz != null && predicate.test(clazz)) ? ifTrueStatus : ifFalseStatus;\n+                Status status = (clazz == null) ? UNDECIDED\n+                        : (predicate.test(clazz)) ? ifTrueStatus : ifFalseStatus;\n+                return status;\n@@ -613,0 +618,4 @@\n+            \/**\n+             * Return a String describing the filter, its predicate, and true and false status values.\n+             * @return a String describing the filter, its predicate, and true and false status values.\n+             *\/\n@@ -614,1 +623,1 @@\n-                return \"predicate(\" + predicate + \")\";\n+                return \"predicate(\" + predicate + \", ifTrue: \" + ifTrueStatus + \", ifFalse:\" + ifFalseStatus+ \")\";\n","filename":"test\/jdk\/java\/io\/Serializable\/serialFilter\/SerialFactoryExample.java","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -46,6 +46,0 @@\n-    static {\n-        \/\/ Enable logging\n-        System.setProperty(\"java.util.logging.config.file\",\n-                System.getProperty(\"test.src\", \".\") + \"\/logging.properties\");\n-    }\n-\n","filename":"test\/jdk\/java\/io\/Serializable\/serialFilter\/SerialFilterFunctionTest.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"}]}