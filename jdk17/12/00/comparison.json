{"files":[{"patch":"@@ -37,0 +37,7 @@\n+\/\/ =================== Attention ===================\n+\/\/ This test calls a native method implemented in libTestDynamicStore.m\n+\/\/ to modify system-level Kerberos 5 settings stored in the dynamic store.\n+\/\/ It must be launched by a user with enough privilege or with \"sudo\".\n+\/\/ If launched with sudo, remember to remove the report and working\n+\/\/ directories with sudo as well after executing the test.\n+\n@@ -62,1 +69,4 @@\n-            action('a', 'a');\n+            if (action('a', 'a') == 0) {\n+                throw new Exception(\"Cannot write native Kerberos settings. \" +\n+                        \"Please make sure the test runs with enough privilege.\");\n+            }\n","filename":"test\/jdk\/sun\/security\/krb5\/config\/native\/TestDynamicStore.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -65,1 +65,3 @@\n-    fprintf(stderr, \"%d\\n\", SCDynamicStoreSetValue(store, (CFStringRef) KERBEROS_DEFAULT_REALMS, keys));\n+    Boolean b = SCDynamicStoreSetValue(store, (CFStringRef) KERBEROS_DEFAULT_REALMS, keys);\n+    fprintf(stderr, \"%d\\n\", b);\n+    if (!b) return 0;\n","filename":"test\/jdk\/sun\/security\/krb5\/config\/native\/libTestDynamicStore.m","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}