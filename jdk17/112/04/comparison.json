{"files":[{"patch":"@@ -28,0 +28,2 @@\n+import java.util.Objects;\n+\n@@ -42,0 +44,1 @@\n+     * @see Objects#newIdentity()\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Object.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -489,0 +489,13 @@\n+\n+    \/**\n+     * {@return a new instance of an unspecified class}\n+     * The object has a unique identity; no other references to it exist.\n+     * It can be used for synchronization, or where a placeholder Object is needed.\n+     * The class does not override any of the methods of {@code java.lang.Object}.\n+     * Use this method to avoid relying on the {@linkplain Object#Object() Object constructor}.\n+     *\n+     * @since 17\n+     *\/\n+    public static Object newIdentity() {\n+        return new Object() {};\n+    }\n","filename":"src\/java.base\/share\/classes\/java\/util\/Objects.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,0 +48,1 @@\n+        errors += testNewIdentity();\n@@ -278,0 +279,27 @@\n+\n+    \/\/ Shared counter for testNewIdentity\n+    private static int counter;\n+\n+    private static int testNewIdentity() {\n+        int errors = 0;\n+\n+        Object o1 = Objects.newIdentity();\n+        Object o2 = Objects.newIdentity();\n+\n+        if (o1 == null || o2 == null)\n+            errors += 1;\n+\n+        if (o1 == o2)\n+            errors += 1;\n+\n+        try {\n+            synchronized(o1) {\n+                counter++;\n+            }\n+        } catch (RuntimeException rex) {\n+            rex.printStackTrace();\n+            errors += 1;\n+        }\n+\n+        return errors;\n+    }\n","filename":"test\/jdk\/java\/util\/Objects\/BasicObjectsTest.java","additions":29,"deletions":1,"binary":false,"changes":30,"status":"modified"}]}