{"files":[{"patch":"@@ -262,0 +262,2 @@\n+        var comments = !arguments.contains(\"no-comments\");\n+\n@@ -452,0 +454,1 @@\n+                  .comments(comments)\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/GitWebrev.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -128,5 +128,7 @@\n-            w.write(\"  <pre>\\n\");\n-            w.write(commits.stream()\n-                           .map(formatter::format)\n-                           .collect(Collectors.joining(\"\\n\")));\n-            w.write(\"  <\/pre>\\n\");\n+            if (!commits.isEmpty()) {\n+                w.write(\"  <pre>\\n\");\n+                w.write(commits.stream()\n+                        .map(formatter::format)\n+                        .collect(Collectors.joining(\"\\n\")));\n+                w.write(\"  <\/pre>\\n\");\n+            }\n","filename":"webrev\/src\/main\/java\/org\/openjdk\/skara\/webrev\/AddedFileView.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -195,5 +195,7 @@\n-            w.write(\"  <pre>\\n\");\n-            w.write(commits.stream()\n-                           .map(formatter::format)\n-                           .collect(Collectors.joining(\"\\n\")));\n-            w.write(\"  <\/pre>\\n\");\n+            if (!commits.isEmpty()) {\n+                w.write(\"  <pre>\\n\");\n+                w.write(commits.stream()\n+                        .map(formatter::format)\n+                        .collect(Collectors.joining(\"\\n\")));\n+                w.write(\"  <\/pre>\\n\");\n+            }\n","filename":"webrev\/src\/main\/java\/org\/openjdk\/skara\/webrev\/ModifiedFileView.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -105,5 +105,7 @@\n-            w.write(\"  <pre>\\n\");\n-            w.write(commits.stream()\n-                           .map(formatter::format)\n-                           .collect(Collectors.joining(\"\\n\")));\n-            w.write(\"  <\/pre>\\n\");\n+            if (!commits.isEmpty()) {\n+                w.write(\"  <pre>\\n\");\n+                w.write(commits.stream()\n+                        .map(formatter::format)\n+                        .collect(Collectors.joining(\"\\n\")));\n+                w.write(\"  <\/pre>\\n\");\n+            }\n","filename":"webrev\/src\/main\/java\/org\/openjdk\/skara\/webrev\/RemovedFileView.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -87,0 +87,1 @@\n+        private boolean comments;\n@@ -165,0 +166,5 @@\n+        public Builder comments(boolean comments) {\n+            this.comments = comments;\n+            return this;\n+        }\n+\n@@ -387,1 +393,1 @@\n-                var commits = repository.commitMetadata(tailEnd, headHash, List.of(path));\n+                var commits = comments ? repository.commitMetadata(tailEnd, headHash, List.of(path)) : Collections.<CommitMetadata>emptyList();\n","filename":"webrev\/src\/main\/java\/org\/openjdk\/skara\/webrev\/Webrev.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}