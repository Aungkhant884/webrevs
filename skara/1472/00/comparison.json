{"files":[{"patch":"@@ -637,1 +637,1 @@\n-        return json.get(\"work_in_progress\").asBoolean();\n+        return json.get(\"draft\").asBoolean();\n@@ -778,1 +778,1 @@\n-        var draftPrefix = \"WIP:\";\n+        var draftPrefix = \"Draft:\";\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-                        .body(\"title\", draft ? \"WIP: \" : \"\" + title)\n+                        .body(\"title\", (draft ? \"Draft: \" : \"\") + title)\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRepository.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import java.util.List;\n@@ -39,2 +40,1 @@\n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertTrue;\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -221,0 +221,21 @@\n+\n+    @Test\n+    void testDraftMR() throws IOException {\n+        var settings = ManualTestSettings.loadManualTestSettings();\n+        var username = settings.getProperty(\"gitlab.user\");\n+        var token = settings.getProperty(\"gitlab.pat\");\n+        var credential = new Credential(username, token);\n+        var uri = URIBuilder.base(settings.getProperty(\"gitlab.uri\")).build();\n+        var gitLabHost = new GitLabHost(\"gitlab\", uri, false, credential, Set.of());\n+        var gitLabRepo = gitLabHost.repository(settings.getProperty(\"gitlab.repository\")).orElseThrow();\n+\n+        var gitLabMergeRequest = gitLabRepo.createPullRequest(gitLabRepo, settings.getProperty(\"gitlab.targetRef\"),\n+                settings.getProperty(\"gitlab.sourceRef\"), \"Test\", List.of(\"test\"), true);\n+        assertTrue(gitLabMergeRequest.isDraft());\n+        assertEquals(\"Draft: Test\", gitLabMergeRequest.title());\n+\n+        gitLabMergeRequest.makeNotDraft();\n+        gitLabMergeRequest = gitLabRepo.pullRequest(gitLabMergeRequest.id());\n+        assertFalse(gitLabMergeRequest.isDraft());\n+        assertEquals(\"Test\", gitLabMergeRequest.title());\n+    }\n","filename":"forge\/src\/test\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRestApiTest.java","additions":23,"deletions":2,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -442,1 +442,1 @@\n-                \"\\\"work_in_progress\\\":false,\" +\n+                \"\\\"draft\\\":false,\" +\n","filename":"json\/src\/test\/java\/org\/openjdk\/skara\/json\/JSONParserTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}