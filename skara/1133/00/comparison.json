{"files":[{"patch":"@@ -30,1 +30,1 @@\n-import java.net.URI;\n+import java.net.*;\n@@ -34,1 +34,1 @@\n-import java.util.logging.Logger;\n+import java.util.logging.*;\n@@ -391,10 +391,13 @@\n-        var linkBuilder = Link.create(URI.create(urlMatcher.group(1)), titleMatcher.group(1));\n-        for (int i = 2; i < lines.size(); ++i) {\n-            var line = lines.get(i);\n-            var summaryMatcher = summaryPattern.matcher(line);\n-            if (summaryMatcher.matches()) {\n-                linkBuilder.summary(summaryMatcher.group(1));\n-            }\n-            var relationshipMatcher = relationshipPattern.matcher(line);\n-            if (relationshipMatcher.matches()) {\n-                linkBuilder.relationship(relationshipMatcher.group(1));\n+        try {\n+            var uri = URI.create(urlMatcher.group(1));\n+            var linkBuilder = Link.create(uri, titleMatcher.group(1));\n+            for (int i = 2; i < lines.size(); ++i) {\n+                var line = lines.get(i);\n+                var summaryMatcher = summaryPattern.matcher(line);\n+                if (summaryMatcher.matches()) {\n+                    linkBuilder.summary(summaryMatcher.group(1));\n+                }\n+                var relationshipMatcher = relationshipPattern.matcher(line);\n+                if (relationshipMatcher.matches()) {\n+                    linkBuilder.relationship(relationshipMatcher.group(1));\n+                }\n@@ -402,0 +405,5 @@\n+            return Optional.of(linkBuilder.build());\n+\n+        } catch (IllegalArgumentException e) {\n+            log.log(Level.WARNING, \"Invalid link in web link comment: \" + urlMatcher.group(1), e);\n+            return Optional.empty();\n@@ -403,1 +411,0 @@\n-        return Optional.of(linkBuilder.build());\n","filename":"issuetracker\/src\/main\/java\/org\/openjdk\/skara\/issuetracker\/jira\/JiraIssue.java","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"}]}