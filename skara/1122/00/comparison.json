{"files":[{"patch":"@@ -26,0 +26,2 @@\n+import org.openjdk.skara.census.Census;\n+import org.openjdk.skara.jcheck.JCheckConfiguration;\n@@ -94,2 +96,19 @@\n-        if (committer.email() == null || !committer.email().endsWith(\"@openjdk.org\")) {\n-            die(\"committer is not an OpenJDK committer\");\n+        String username = null;\n+        if (committer.email().endsWith(\"@openjdk.org\")) {\n+            username = committer.email().split(\"@\")[0];\n+        } else {\n+            var jcheckConf = JCheckConfiguration.from(repo.get(), repo.get().head());\n+            if (jcheckConf.isEmpty()) {\n+                die(\"No .jcheck\/conf file found\");\n+            }\n+            var censusURI = jcheckConf.get().census().url();\n+            var census = Census.from(censusURI);\n+            var namespace = census.namespace(\"openjdk.org\");\n+            if (namespace == null) {\n+                die(\"No namespace found for openjdk.org\");\n+            }\n+            var localUsername = committer.email().split(\"@\")[0];\n+            username = namespace.get(localUsername).username();\n+            if (username == null) {\n+                die(\"No census name found for \" + localUsername);\n+            }\n@@ -97,1 +116,0 @@\n-        var username = committer.email().split(\"@\")[0];\n","filename":"cli\/src\/main\/java\/org\/openjdk\/skara\/cli\/GitHgExport.java","additions":21,"deletions":3,"binary":false,"changes":24,"status":"modified"}]}