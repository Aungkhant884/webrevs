{"files":[{"patch":"@@ -163,0 +163,4 @@\n+    @Override\n+    public void updateCommitComment(String id, String body) {\n+    }\n+\n","filename":"bots\/tester\/src\/test\/java\/org\/openjdk\/skara\/bots\/tester\/InMemoryHostedRepository.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -69,0 +69,4 @@\n+    @Override\n+    public void updateReview(int id, String body) {\n+    }\n+\n","filename":"bots\/tester\/src\/test\/java\/org\/openjdk\/skara\/bots\/tester\/InMemoryPullRequest.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -73,0 +73,1 @@\n+    void updateCommitComment(String id, String body);\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/HostedRepository.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -47,0 +47,5 @@\n+    \/**\n+     * Updates the comment body of a review.\n+     *\/\n+    void updateReview(int id, String body);\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/PullRequest.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -182,0 +182,7 @@\n+    @Override\n+    public void updateReview(int id, String body) {\n+        request.put(\"pulls\/\" + json.get(\"number\").toString() + \"\/reviews\/\" + id)\n+               .body(\"body\", body)\n+               .execute();\n+    }\n+\n@@ -361,2 +368,14 @@\n-                .body(\"body\", body)\n-                .execute();\n+                             .body(\"body\", body)\n+                             .onError(r -> {\n+                                 if (r.statusCode() == 404) {\n+                                     return Optional.of(JSON.object().put(\"NOT_FOUND\", true));\n+                                 }\n+                                 throw new RuntimeException(\"Invalid response\");\n+                             })\n+                             .execute();\n+        if (comment.contains(\"NOT_FOUND\")) {\n+            var reviewComment = request.patch(\"pulls\/comments\/\" + id)\n+                                       .body(\"body\", body)\n+                                       .execute();\n+            return parseReviewComment(null, reviewComment.asObject());\n+        }\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubPullRequest.java","additions":21,"deletions":2,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -370,0 +370,8 @@\n+    @Override\n+    public void updateCommitComment(String id, String body) {\n+        var query = JSON.object().put(\"body\", body);\n+        request.patch(\"comments\/\" + id)\n+               .body(query)\n+               .execute();\n+    }\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubRepository.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -174,0 +174,5 @@\n+    @Override\n+    public void updateReview(int id, String body) {\n+        throw new RuntimeException(\"not implemented yet\");\n+    }\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -391,0 +391,5 @@\n+    @Override\n+    public void updateCommitComment(String id, String body) {\n+        throw new RuntimeException(\"not implemented yet\");\n+    }\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -235,0 +235,5 @@\n+    @Override\n+    public void updateCommitComment(String id, String body) {\n+        throw new RuntimeException(\"not implemented yet\");\n+    }\n+\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestHostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -109,0 +109,5 @@\n+    @Override\n+    public void updateReview(int id, String body) {\n+        throw new RuntimeException(\"not implemented yet\");\n+    }\n+\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestPullRequest.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}