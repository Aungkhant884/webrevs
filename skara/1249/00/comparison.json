{"files":[{"patch":"@@ -547,1 +547,2 @@\n-                                if (!pr.labelNames().contains(\"backport\")) {\n+                                if (!pr.labelNames().contains(\"backport\") &&\n+                                        (issueType == null || !\"CSR\".equals(issueType.asString()))) {\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import org.openjdk.skara.issuetracker.Issue;\n@@ -1174,0 +1175,14 @@\n+\n+            \/\/ Set the state of the csr issue to `closed`\n+            csrIssue.setState(Issue.State.CLOSED);\n+            \/\/ Push a commit to trigger the check which can update the PR body.\n+            var newHash = CheckableRepository.appendAndCommit(localRepo);\n+            localRepo.push(newHash, author.url(), \"edit\", false);\n+\n+            \/\/ PR should have two issues\n+            TestBotRunner.runPeriodicItems(checkBot);\n+            assertTrue(pr.body().contains(\"### Issues\"));\n+            assertTrue(pr.body().contains(\"The main issue\"));\n+            assertTrue(pr.body().contains(\"The csr issue (**CSR**)\"));\n+            \/\/ The csr issue state don't need to be `open`.\n+            assertFalse(pr.body().contains(\"Issue is not open\"));\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/CheckTests.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"}]}