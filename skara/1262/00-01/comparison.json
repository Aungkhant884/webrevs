{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -135,2 +135,2 @@\n-        reply.print(\"The total number of required reviews for this PR, \" +\n-                \"which is combined by the configuration and the command, is now set to \" + totalRequired);\n+        reply.print(\"The total number of required reviews for this PR (including the jcheck configuration \" +\n+                    \"and the last \/reviewers command) is now set to \" + totalRequired);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/ReviewersCommand.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -63,0 +63,2 @@\n+                \/\/ The new value cannot be lower than the value in '.jcheck\/conf',\n+                \/\/ because the '.jcheck\/conf' file means the minimal reviewer requirement.\n@@ -66,2 +68,0 @@\n-                    \/\/ The new number of the reviewers should larger or equal than the requirement of the '.jcheck\/conf' file.\n-                    \/\/ Because the '.jcheck\/conf' file means the minimal reviewer requirement.\n@@ -86,1 +86,1 @@\n-                remainingRemovals -= (originalVal - updatedLimits.get(r));\n+                remainingRemovals -= (originalVal - removed);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/ReviewersTracker.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,3 @@\n+    private static final String reviewersCommandFinallyOutput = \"The total number of required reviews for this PR \" +\n+            \"(including the jcheck configuration and the last \/reviewers command) is now set to \";\n+\n@@ -103,2 +106,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -111,2 +113,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role committers).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role committers).\");\n@@ -119,2 +120,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 2 of role reviewers).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"2 (with 2 of role reviewers).\");\n@@ -144,2 +144,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 1 (with 1 of role lead).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"1 (with 1 of role lead).\");\n@@ -155,2 +154,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 1 (with 1 of role reviewers).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"1 (with 1 of role reviewers).\");\n@@ -196,2 +194,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -262,2 +259,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -311,2 +307,1 @@\n-            assertLastCommentContains(authorPR,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(authorPR, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -348,2 +343,1 @@\n-            assertLastCommentContains(authorPR,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(authorPR, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -359,2 +353,1 @@\n-            assertLastCommentContains(reviewerPr,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 1 (with 1 of role reviewers).\");\n+            assertLastCommentContains(reviewerPr, reviewersCommandFinallyOutput + \"1 (with 1 of role reviewers).\");\n@@ -390,2 +383,1 @@\n-            assertLastCommentContains(authorPR,\"The total number of required reviews for this PR, \" +\n-                    \"which is combined by the configuration and the command, is now set to 2 (with 1 of role reviewers, 1 of role authors).\");\n+            assertLastCommentContains(authorPR, reviewersCommandFinallyOutput + \"2 (with 1 of role reviewers, 1 of role authors).\");\n@@ -491,2 +483,1 @@\n-        builder.append(\"The total number of required reviews for this PR, \" +\n-                \"which is combined by the configuration and the command, is now set to \");\n+        builder.append(reviewersCommandFinallyOutput);\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/ReviewersTests.java","additions":16,"deletions":25,"binary":false,"changes":41,"status":"modified"}]}