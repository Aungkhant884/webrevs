{"files":[{"patch":"@@ -60,3 +60,3 @@\n-                The project prefix of the issue ID (`JDK-` in the above examples) is optional.\n-                But the `JEP-` or `jep-` prefix is required when you provide a JEP ID.\n-                And the issue type must be `JEP`.\n+                The project prefix (`JDK-` in the above examples) is optional if you use an issue ID.\n+                The issue type in that case must be `JEP`.\n+                The `JEP-` or `jep-` prefix is required if you instead provide a JEP ID.\n@@ -68,1 +68,1 @@\n-        if (args.startsWith(\"jep-\") || args.startsWith(\"JEP-\")) {\n+        if (args.startsWith(\"jep-\") || args.startsWith(\"JEP-\") || args.startsWith(\"Jep-\")) {\n@@ -98,2 +98,1 @@\n-            reply.println(\"determined that the [JEP](https:\/\/openjdk.java.net\/jeps) request \" +\n-                    \"is not needed for this pull request.\");\n+            reply.println(\"determined that the JEP request is not needed for this pull request.\");\n@@ -150,1 +149,1 @@\n-        return \"require a JDK Enhancement Proposal for this pull request\";\n+        return \"require a JDK Enhancement Proposal (JEP) for this pull request\";\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/JEPCommand.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -96,2 +96,1 @@\n-            assertLastCommentContains(pr, \"determined that the [JEP](https:\/\/openjdk.java.net\/jeps) \" +\n-                    \"request is not needed for this pull request.\");\n+            assertLastCommentContains(pr, \"determined that the JEP request is not needed for this pull request.\");\n@@ -116,2 +115,20 @@\n-            assertLastCommentContains(pr, \"determined that the [JEP](https:\/\/openjdk.java.net\/jeps) \" +\n-                    \"request is not needed for this pull request.\");\n+            assertLastCommentContains(pr, \"determined that the JEP request is not needed for this pull request.\");\n+            assertFalse(pr.body().contains(\"Change requires a JEP request to be targeted\"));\n+\n+            \/\/ Require jep by using `Jep-<id>`\n+            pr.addComment(\"\/jep Jep-123\");\n+\n+            \/\/ Verify the behavior\n+            TestBotRunner.runPeriodicItems(prBot);\n+            assertTrue(pr.labelNames().contains(JEPCommand.JEP_LABEL));\n+            assertLastCommentContains(pr, \"this pull request will not be integrated until the [JEP-\");\n+            assertLastCommentContains(pr, \"has been targeted.\");\n+            assertTrue(pr.body().contains(\"- [ ] Change requires a JEP request to be targeted\"));\n+\n+            \/\/ Not require jep\n+            prAsReviewer.addComment(\"\/jep unneeded\");\n+\n+            \/\/ Verify the behavior\n+            TestBotRunner.runPeriodicItems(prBot);\n+            assertFalse(pr.labelNames().contains(JEPCommand.JEP_LABEL));\n+            assertLastCommentContains(pr, \"determined that the JEP request is not needed for this pull request.\");\n@@ -136,2 +153,1 @@\n-            assertLastCommentContains(pr, \"determined that the [JEP](https:\/\/openjdk.java.net\/jeps) \" +\n-                    \"request is not needed for this pull request.\");\n+            assertLastCommentContains(pr, \"determined that the JEP request is not needed for this pull request.\");\n@@ -234,1 +250,1 @@\n-            assertLastCommentContains(pr, \"determined that the [JEP](https:\/\/openjdk.java.net\/jeps) request is not needed for this pull request.\");\n+            assertLastCommentContains(pr, \"determined that the JEP request is not needed for this pull request.\");\n@@ -293,1 +309,1 @@\n-            pr.addComment(\"\/jep Jep-123\");\n+            pr.addComment(\"\/jep je-123\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/JEPCommandTests.java","additions":24,"deletions":8,"binary":false,"changes":32,"status":"modified"}]}