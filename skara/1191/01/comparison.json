{"files":[{"patch":"@@ -552,1 +552,1 @@\n-        var diffUrl = pr.repository().webUrl() + \"\/pull\/\" + pr.id() + \".diff\";\n+        var diffUrl = pr.repository().diffUrl(pr.id());\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -111,0 +111,5 @@\n+    @Override\n+    public URI diffUrl(String prId) {\n+        return webUrl();\n+    }\n+\n","filename":"bots\/tester\/src\/test\/java\/org\/openjdk\/skara\/bots\/tester\/InMemoryHostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+    URI diffUrl(String prId);\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/HostedRepository.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -221,0 +221,6 @@\n+    @Override\n+    public URI diffUrl(String prId) {\n+        var endpoint = \"\/\" + repository + \"\/pull\/\" + prId + \".diff\";\n+        return gitHubHost.getWebURI(endpoint);\n+    }\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubRepository.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -213,0 +213,9 @@\n+    @Override\n+    public URI diffUrl(String prId) {\n+        \/\/ GitLab is too smart for it's own best and mangles URLs that contain a\n+        \/\/ partial hit with the base MR, hence the double slash.\n+        return URIBuilder.base(gitLabHost.getUri())\n+                .setPath(\"\/\" + projectName + \"\/-\/merge_requests\/\/\" + prId + \".diff\")\n+                .build();\n+    }\n+\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRepository.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -148,0 +148,5 @@\n+\n+    @Override\n+    public URI diffUrl(String prId) {\n+        return webUrl();\n+    }\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestHostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}