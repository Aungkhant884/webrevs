{"files":[{"patch":"@@ -102,2 +102,12 @@\n-            var targetRepoName = parts[1];\n-            var targetBranchName = parts.length == 3 ? parts[2] : \"master\";\n+            var targetRepo = getTargetRepo(bot, parts[1], reply);\n+            if (targetRepo == null) {\n+                return;\n+            }\n+            var targetRepoName = targetRepo.name();\n+\n+            var targetBranch = getTargetBranch(parts.length == 3 ? parts[2] : \"master\", targetRepo, reply);\n+            if (targetBranch == null) {\n+                return;\n+            }\n+            var targetBranchName = targetBranch.name();\n+\n@@ -113,1 +123,1 @@\n-            var targetRepo = getTargetRepo(bot, parts, reply);\n+            var targetRepo = getTargetRepo(bot, parts[0], reply);\n@@ -120,1 +130,1 @@\n-            var targetBranch = getTargetBranch(parts, targetRepo, reply);\n+            var targetBranch = getTargetBranch(parts.length == 2 ? parts[1] : \"master\", targetRepo, reply);\n@@ -149,1 +159,1 @@\n-    private HostedRepository getTargetRepo(PullRequestBot bot, String[] parts, PrintWriter reply) {\n+    private HostedRepository getTargetRepo(PullRequestBot bot, String repoName, PrintWriter reply) {\n@@ -151,1 +161,1 @@\n-        var repoNameArg = parts[0].replace(\"http:\/\/\", \"\")\n+        var repoNameArg = repoName.replace(\"http:\/\/\", \"\")\n@@ -175,2 +185,1 @@\n-    private Branch getTargetBranch(String[] parts, HostedRepository targetRepo, PrintWriter reply) {\n-        var targetBranchName = parts.length == 2 ? parts[1] : \"master\";\n+    private Branch getTargetBranch(String targetBranchName, HostedRepository targetRepo, PrintWriter reply) {\n@@ -187,1 +196,1 @@\n-            ScratchArea scratchArea, CommandInvocation command, List<Comment> allComments, PrintWriter reply) {\n+                       ScratchArea scratchArea, CommandInvocation command, List<Comment> allComments, PrintWriter reply) {\n@@ -206,1 +215,1 @@\n-        var targetRepo = getTargetRepo(bot, parts, reply);\n+        var targetRepo = getTargetRepo(bot, parts[0], reply);\n@@ -214,1 +223,1 @@\n-        var targetBranch = getTargetBranch(parts, targetRepo, reply);\n+        var targetBranch = getTargetBranch(parts.length == 2 ? parts[1] : \"master\", targetRepo, reply);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/BackportCommand.java","additions":20,"deletions":11,"binary":false,"changes":31,"status":"modified"}]}