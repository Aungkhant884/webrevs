{"files":[{"patch":"@@ -128,0 +128,9 @@\n+                for (var namespace : census.namespaces()) {\n+                    file.println(\"<namespace name=\\\"\" + namespace.name() + \"\\\">\");\n+                    for (var entry : namespace.entries()) {\n+                        var id = entry.getKey();\n+                        var contributor = entry.getValue();\n+                        file.println(\"  <user id=\\\"\" + id + \"\\\" census=\\\"\" + contributor.username() + \"\\\" \/>\");\n+                    }\n+                    file.println(\"<\/namespace>\");\n+                }\n","filename":"bots\/censussync\/src\/main\/java\/org\/openjdk\/skara\/bots\/censussync\/CensusSyncUnifyBot.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -176,1 +176,6 @@\n-        return new Census(contributors, groups, projects, List.of(), version);\n+        var namespaces = new ArrayList<Namespace>();\n+        for (var ele : XML.children(census, \"namespace\")) {\n+            namespaces.add(Namespace.parse(ele, contributors));\n+        }\n+\n+        return new Census(contributors, groups, projects, namespaces, version);\n","filename":"census\/src\/main\/java\/org\/openjdk\/skara\/census\/Census.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import org.w3c.dom.Element;\n@@ -54,3 +55,3 @@\n-    static Namespace parse(Path p, Map<String, Contributor> contributors) throws IOException {\n-        var mapping = new HashMap<String, Contributor>();\n-        var reverse = new HashMap<Contributor, String>();\n+    public Set<Map.Entry<String, Contributor>> entries() {\n+        return mapping.entrySet();\n+    }\n@@ -58,0 +59,1 @@\n+    static Namespace parse(Path p, Map<String, Contributor> contributors) throws IOException {\n@@ -60,1 +62,7 @@\n-        var name = XML.attribute(namespace, \"name\");\n+        return parse(namespace, contributors);\n+    }\n+\n+    static Namespace parse(Element ele, Map<String, Contributor> contributors) throws IOException {\n+        var mapping = new HashMap<String, Contributor>();\n+        var reverse = new HashMap<Contributor, String>();\n+        var name = XML.attribute(ele, \"name\");\n@@ -62,1 +70,1 @@\n-        for (var user : XML.children(namespace, \"user\")) {\n+        for (var user : XML.children(ele, \"user\")) {\n","filename":"census\/src\/main\/java\/org\/openjdk\/skara\/census\/Namespace.java","additions":13,"deletions":5,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -147,0 +147,4 @@\n+            \"  <namespace name=\\\"reverse\\\" >\",\n+            \"    <user id=\\\"1resu\\\" census=\\\"user1\\\" \/>\",\n+            \"    <user id=\\\"2resu\\\" census=\\\"user2\\\" \/>\",\n+            \"  <\/namespace>\",\n@@ -167,0 +171,4 @@\n+        assertEquals(1, census.namespaces().size());\n+        assertEquals(2, census.namespace(\"reverse\").entries().size());\n+        assertEquals(\"user1\", census.namespace(\"reverse\").get(\"1resu\").username());\n+        assertEquals(\"user2\", census.namespace(\"reverse\").get(\"2resu\").username());\n","filename":"census\/src\/test\/java\/org\/openjdk\/skara\/census\/CensusTests.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}