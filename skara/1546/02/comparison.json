{"files":[{"patch":"@@ -58,0 +58,1 @@\n+            return;\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/ApproveCommand.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1322,12 +1322,0 @@\n-            var readyForIntegration = readyForReview &&\n-                                      visitor.messages().isEmpty() &&\n-                                      !additionalProgresses.containsValue(false) &&\n-                                      integrationBlockers.isEmpty() &&\n-                                      !statusMessage.contains(TEMPORARY_ISSUE_FAILURE_MARKER);\n-            if (!reviewNeeded) {\n-                \/\/ Reviews are not needed for clean backports unless this repo is configured with reviewCleanBackport enabled\n-                readyForIntegration = readyForReview &&\n-                                      !additionalProgresses.containsValue(false) &&\n-                                      integrationBlockers.isEmpty() &&\n-                                      !statusMessage.contains(TEMPORARY_ISSUE_FAILURE_MARKER);\n-            }\n@@ -1335,2 +1323,9 @@\n-            if (approvalNeeded()) {\n-                var readyButMaintainerApproval = true;\n+            var readyToPostApprovalNeededComment = readyForReview &&\n+                    (!reviewNeeded || visitor.messages().isEmpty()) &&\n+                    integrationBlockers.isEmpty() &&\n+                    !statusMessage.contains(TEMPORARY_ISSUE_FAILURE_MARKER);\n+\n+            var readyForIntegration = readyToPostApprovalNeededComment &&\n+                    !additionalProgresses.containsValue(false);\n+\n+            if (approvalNeeded() && readyToPostApprovalNeededComment) {\n@@ -1339,1 +1334,1 @@\n-                        readyButMaintainerApproval = false;\n+                        readyToPostApprovalNeededComment = false;\n@@ -1343,1 +1338,1 @@\n-                if (readyButMaintainerApproval) {\n+                if (readyToPostApprovalNeededComment) {\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -135,0 +135,1 @@\n+            assertLastCommentContains(pr, \" This change is now ready for you to apply for maintainer\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/ApprovalAndApproveCommandTests.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -407,0 +407,1 @@\n+            reviewerPr.addReview(Review.Verdict.APPROVED, \"Looks good\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/IssueBotTests.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}