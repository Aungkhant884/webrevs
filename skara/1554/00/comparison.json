{"files":[{"patch":"@@ -109,1 +109,1 @@\n-                .map(pr -> new CheckWorkItem(bot.getPRBot(pr.repository().name()), pr.id(), errorHandler, csrIssue.updatedAt(), true, true))\n+                .map(pr -> new CheckWorkItem(bot.getPRBot(pr.repository().name()), pr.id(), errorHandler, csrIssue.updatedAt(), true, true, false, false))\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CSRIssueWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+    private final boolean initialRun;\n@@ -72,8 +73,1 @@\n-                  boolean needsReadyCheck, boolean forceUpdate) {\n-        super(bot, prId, errorHandler, triggerUpdatedAt, needsReadyCheck);\n-        this.forceUpdate = forceUpdate;\n-        this.spawnedFromIssueBot = false;\n-    }\n-\n-    CheckWorkItem(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt,\n-                  boolean needsReadyCheck, boolean forceUpdate, boolean spawnedFromIssueBot) {\n+                  boolean needsReadyCheck, boolean forceUpdate, boolean spawnedFromIssueBot, boolean initialRun) {\n@@ -83,7 +77,1 @@\n-    }\n-\n-    CheckWorkItem(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt,\n-                  boolean needsReadyCheck) {\n-        super(bot, prId, errorHandler, triggerUpdatedAt, needsReadyCheck);\n-        this.forceUpdate = false;\n-        this.spawnedFromIssueBot = false;\n+        this.initialRun = initialRun;\n@@ -226,2 +214,2 @@\n-                \/\/ triggered by issue update\n-                if (spawnedFromIssueBot) {\n+                \/\/ triggered by issue update or initial run when bot restarts\n+                if (initialRun || spawnedFromIssueBot) {\n@@ -232,1 +220,0 @@\n-                            return true;\n@@ -235,0 +222,1 @@\n+                            return false;\n@@ -239,1 +227,0 @@\n-                            return true;\n@@ -242,0 +229,1 @@\n+                            return false;\n@@ -245,1 +233,2 @@\n-                } else {\n+                }\n+                if (!spawnedFromIssueBot) {\n@@ -251,1 +240,0 @@\n-                            return true;\n@@ -254,0 +242,1 @@\n+                            return false;\n@@ -258,1 +247,0 @@\n-                            return true;\n@@ -261,0 +249,1 @@\n+                            return false;\n@@ -266,0 +255,1 @@\n+                return false;\n@@ -267,0 +257,2 @@\n+        } else {\n+            return false;\n@@ -269,1 +261,1 @@\n-        return false;\n+        return true;\n@@ -521,1 +513,1 @@\n-                    return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false));\n+                    return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n@@ -560,1 +552,1 @@\n-                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false));\n+                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n@@ -567,1 +559,1 @@\n-                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false));\n+                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckWorkItem.java","additions":18,"deletions":26,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-                            e -> poller.retryIssue(issue), issue.updatedAt(), true, false, true))\n+                            e -> poller.retryIssue(issue), issue.updatedAt(), true, false, true, false))\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IssueBot.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -81,0 +81,1 @@\n+    private boolean initialRun = true;\n@@ -153,1 +154,1 @@\n-                ret.add(new CheckWorkItem(this, pr.id(), e -> poller.retryPullRequest(pr), pr.updatedAt(), true));\n+                ret.add(new CheckWorkItem(this, pr.id(), e -> poller.retryPullRequest(pr), pr.updatedAt(), true, false, false, initialRun));\n@@ -160,0 +161,2 @@\n+        initialRun = false;\n+\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestBot.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -218,1 +218,1 @@\n-            return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false));\n+            return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestCommandWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}