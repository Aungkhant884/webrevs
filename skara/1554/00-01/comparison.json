{"files":[{"patch":"@@ -109,1 +109,1 @@\n-                .map(pr -> new CheckWorkItem(bot.getPRBot(pr.repository().name()), pr.id(), errorHandler, csrIssue.updatedAt(), true, true, false, false))\n+                .map(pr -> CheckWorkItem.fromCSRIssue(bot.getPRBot(pr.repository().name()), pr.id(), errorHandler, csrIssue.updatedAt()))\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CSRIssueWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -72,2 +72,2 @@\n-    CheckWorkItem(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt,\n-                  boolean needsReadyCheck, boolean forceUpdate, boolean spawnedFromIssueBot, boolean initialRun) {\n+    private CheckWorkItem(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt,\n+                          boolean needsReadyCheck, boolean forceUpdate, boolean spawnedFromIssueBot, boolean initialRun) {\n@@ -80,0 +80,35 @@\n+    \/**\n+     * Create CheckWorkItem spawned from CSRIssueWorkItem\n+     *\/\n+    public static CheckWorkItem fromCSRIssue(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt) {\n+        return new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, true, true, false, false);\n+    }\n+\n+    \/**\n+     * Create CheckWorkItem spawned from initial run of PullRequestBot\n+     *\/\n+    public static CheckWorkItem fromInitialRunOfPRBot(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt) {\n+        return new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, true, false, false, true);\n+    }\n+\n+    \/**\n+     * Create CheckWorkItem spawned from PullRequestBot\n+     *\/\n+    public static CheckWorkItem fromPRBot(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt) {\n+        return new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, true, false, false, false);\n+    }\n+\n+    \/**\n+     * Create CheckWorkItem spawned from IssueBot\n+     *\/\n+    public static CheckWorkItem fromIssueBot(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt) {\n+        return new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, true, false, true, false);\n+    }\n+\n+    \/**\n+     * Create Normal CheckWorkItem\n+     *\/\n+    public static CheckWorkItem normal(PullRequestBot bot, String prId, Consumer<RuntimeException> errorHandler, ZonedDateTime triggerUpdatedAt) {\n+        return new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false);\n+    }\n+\n@@ -232,1 +267,0 @@\n-                    \/\/ triggered by pr updates\n@@ -234,0 +268,1 @@\n+                \/\/ triggered by pr updates\n@@ -513,1 +548,1 @@\n-                    return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n+                    return List.of(CheckWorkItem.normal(bot, prId, errorHandler, triggerUpdatedAt));\n@@ -552,1 +587,1 @@\n-                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n+                return List.of(CheckWorkItem.normal(bot, prId, errorHandler, triggerUpdatedAt));\n@@ -559,1 +594,1 @@\n-                return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n+                return List.of(CheckWorkItem.normal(bot, prId, errorHandler, triggerUpdatedAt));\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckWorkItem.java","additions":41,"deletions":6,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -98,2 +98,2 @@\n-                    .map(pr -> new CheckWorkItem(pullRequestBotMap.get(pr.repository().name()), pr.id(),\n-                            e -> poller.retryIssue(issue), issue.updatedAt(), true, false, true, false))\n+                    .map(pr -> CheckWorkItem.fromIssueBot(pullRequestBotMap.get(pr.repository().name()), pr.id(),\n+                            e -> poller.retryIssue(issue), issue.updatedAt()))\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IssueBot.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -154,1 +154,5 @@\n-                ret.add(new CheckWorkItem(this, pr.id(), e -> poller.retryPullRequest(pr), pr.updatedAt(), true, false, false, initialRun));\n+                if (initialRun) {\n+                    ret.add(CheckWorkItem.fromInitialRunOfPRBot(this, pr.id(), e -> poller.retryPullRequest(pr), pr.updatedAt()));\n+                } else {\n+                    ret.add(CheckWorkItem.fromPRBot(this, pr.id(), e -> poller.retryPullRequest(pr), pr.updatedAt()));\n+                }\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestBot.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -218,1 +218,1 @@\n-            return List.of(new CheckWorkItem(bot, prId, errorHandler, triggerUpdatedAt, false, false, false, false));\n+            return List.of(CheckWorkItem.normal(bot, prId, errorHandler, triggerUpdatedAt));\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestCommandWorkItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}