{"files":[{"patch":"@@ -48,0 +48,1 @@\n+    implementation project(':network')\n","filename":"bots\/pr\/build.gradle","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+    requires org.openjdk.skara.network;\n","filename":"bots\/pr\/src\/main\/java\/module-info.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -10,0 +10,1 @@\n+import java.util.NoSuchElementException;\n@@ -18,0 +19,1 @@\n+import org.openjdk.skara.network.UncheckedRestException;\n@@ -71,1 +73,1 @@\n-        Optional<List<String>> conf;\n+        Optional<List<String>> conf = Optional.empty();\n@@ -74,5 +76,5 @@\n-        } catch (RuntimeException e) {\n-            if (e.getMessage().contains(\"Request returned bad status:\")) {\n-                if (!e.getMessage().contains(\"404\")) {\n-                    throw e;\n-                }\n+        } catch (NoSuchElementException ignored) {\n+            \/\/ NoSuchElementException will only work for tests\n+        } catch (UncheckedRestException e) {\n+            if (e.getStatusCode() != 404) {\n+                throw e;\n@@ -80,1 +82,0 @@\n-            conf = Optional.empty();\n@@ -98,0 +99,2 @@\n+        } catch (UncheckedRestException e) {\n+            throw e;\n@@ -99,3 +102,0 @@\n-            if (e.getMessage().contains(\"Request returned bad status:\")) {\n-                throw e;\n-            }\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/LimitedCensusInstance.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -2311,1 +2311,1 @@\n-                output.append(\"\\n6r4tt32etdffyufv\");\n+                output.append(\"\\nRandomCharacters\");\n@@ -2442,1 +2442,1 @@\n-                output.append(\"\\n6r4tt32etdffyufv\");\n+                output.append(\"\\nRandomCharacters\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/CheckTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -377,1 +377,1 @@\n-            throw new UncheckedRestException(\"Request returned bad status: \" + response.statusCode());\n+            throw new UncheckedRestException(\"Request returned bad status: \" + response.statusCode(), response.statusCode());\n","filename":"network\/src\/main\/java\/org\/openjdk\/skara\/network\/RestRequest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -9,0 +9,1 @@\n+    int statusCode;\n@@ -10,1 +11,1 @@\n-    public UncheckedRestException(String message) {\n+    public UncheckedRestException(String message, int statusCode) {\n@@ -12,0 +13,5 @@\n+        this.statusCode = statusCode;\n+    }\n+\n+    public int getStatusCode() {\n+        return statusCode;\n","filename":"network\/src\/main\/java\/org\/openjdk\/skara\/network\/UncheckedRestException.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}