{"files":[{"patch":"@@ -1082,1 +1082,1 @@\n-                checkablePullRequest.executeChecks(localHash, censusInstance, visitor, additionalConfiguration, true);\n+                checkablePullRequest.executeChecks(localHash, censusInstance, visitor, additionalConfiguration, checkablePullRequest.targetHash());\n@@ -1084,1 +1084,1 @@\n-                if (workItem.bot.confOverrideRepository().isEmpty() && localRepo.isFileUpdated(\".jcheck\/conf\", localHash)) {\n+                if (workItem.bot.confOverrideRepository().isEmpty() && isFileUpdated(\".jcheck\/conf\", localHash)) {\n@@ -1088,1 +1088,1 @@\n-                        checkablePullRequest.executeChecks(localHash, censusInstance, visitor2, additionalConfiguration, false);\n+                        checkablePullRequest.executeChecks(localHash, censusInstance, visitor2, additionalConfiguration, pr.headHash());\n@@ -1200,0 +1200,7 @@\n+\n+    private boolean isFileUpdated(String filename, Hash hash) throws IOException {\n+        return localRepo.commits(hash.hex()).asList().stream()\n+                .anyMatch(commit -> commit.parentDiffs().stream()\n+                        .anyMatch(diff -> diff.patches().stream()\n+                                .anyMatch(patch -> patch.toString().contains(filename))));\n+    }\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -209,1 +209,1 @@\n-                       List<String> additionalConfiguration, boolean useTargetConf) throws IOException {\n+                       List<String> additionalConfiguration, Hash hash) throws IOException {\n@@ -214,1 +214,1 @@\n-            conf = JCheck.parseConfiguration(localRepo, useTargetConf ? targetHash() : pr.headHash(), additionalConfiguration);\n+            conf = JCheck.parseConfiguration(localRepo, hash, additionalConfiguration);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckablePullRequest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -264,1 +264,1 @@\n-        checkablePr.executeChecks(localHash, censusInstance, issues, additionalConfiguration, true);\n+        checkablePr.executeChecks(localHash, censusInstance, issues, additionalConfiguration, checkablePr.targetHash());\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IntegrateCommand.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -365,5 +365,0 @@\n-\n-    @Override\n-    public boolean isFileUpdated(String filename, Hash h) throws IOException {\n-        return false;\n-    }\n","filename":"jcheck\/src\/test\/java\/org\/openjdk\/skara\/jcheck\/TestRepository.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -183,5 +183,0 @@\n-\n-    \/**\n-     * Returns whether the file has been updated in the last commit.\n-     *\/\n-    boolean isFileUpdated(String filename, Hash h) throws IOException;\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/ReadOnlyRepository.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1723,9 +1723,0 @@\n-\n-    @Override\n-    public boolean isFileUpdated(String filename, Hash h) throws IOException {\n-        return commits().asList().stream()\n-                .filter(commit -> commit.hash().equals(h))\n-                .anyMatch(commit -> commit.parentDiffs().stream()\n-                        .anyMatch(diff -> diff.patches().stream()\n-                                .anyMatch(patch -> patch.toString().contains(filename))));\n-    }\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/git\/GitRepository.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1526,5 +1526,0 @@\n-\n-    @Override\n-    public boolean isFileUpdated(String filename, Hash h) throws IOException {\n-        return false;\n-    }\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/hg\/HgRepository.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"}]}