{"files":[{"patch":"@@ -325,0 +325,8 @@\n+            } else {\n+                \/\/ It's not possible to add branch level push protection unless the user\n+                \/\/ already has push permissions in the repository. If we try to restrict\n+                \/\/ it anyway, nobody can push to the branch. At least this way, if the\n+                \/\/ user already has push permissions, the branch will be protected,\n+                \/\/ otherwise anyone with push permissions in the repository will be able\n+                \/\/ to push to the branch.\n+                fork.restrictPushAccess(new Branch(backportBranchName), realUser);\n@@ -326,1 +334,0 @@\n-            fork.restrictPushAccess(new Branch(backportBranchName), realUser);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/BackportCommand.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -271,0 +271,8 @@\n+\n+    @Test\n+    void restrictPushAccess() {\n+        var gitHubRepo = githubHost.repository(settings.getProperty(\"github.repository\")).orElseThrow();\n+        var branch = new Branch(settings.getProperty(\"github.repository.branch\"));\n+        var user = githubHost.user(settings.getProperty(\"github.user2\")).orElseThrow();\n+        gitHubRepo.restrictPushAccess(branch, user);\n+    }\n","filename":"forge\/src\/test\/java\/org\/openjdk\/skara\/forge\/github\/GitHubRestApiTests.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}