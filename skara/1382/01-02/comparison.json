{"files":[{"patch":"@@ -195,10 +195,6 @@\n-                if (issue.state() != Issue.State.OPEN) {\n-                    log.info(\"Resolving issue which status is not open, the status is \" + issue.state());\n-                } else {\n-                    log.info(\"Resolving issue \" + issue.id());\n-                    if (issue.assignees().isEmpty()) {\n-                        var username = findIssueUsername(commit, scratchPath);\n-                        if (username.isPresent()) {\n-                            var assignee = issueProject.issueTracker().user(username.get());\n-                            assignee.ifPresent(hostUser -> issue.setAssignees(List.of(hostUser)));\n-                        }\n+                log.info(\"Resolving issue \" + issue.id() + \" from state \" + issue.state());\n+                if (issue.assignees().isEmpty()) {\n+                    var username = findIssueUsername(commit, scratchPath);\n+                    if (username.isPresent()) {\n+                        var assignee = issueProject.issueTracker().user(username.get());\n+                        assignee.ifPresent(hostUser -> issue.setAssignees(List.of(hostUser)));\n@@ -207,0 +203,1 @@\n+\n@@ -210,1 +207,1 @@\n-                    log.info(\"The issue has been already resolved\");\n+                    log.info(\"The issue was already resolved\");\n@@ -320,15 +317,11 @@\n-                if (issue.state() != Issue.State.OPEN) {\n-                    log.info(\"Resolving issue which status is not open, the status is \" + issue.state());\n-                } else {\n-                    log.info(\"Resolving issue \" + issue.id());\n-                    var assignees = issue.assignees();\n-                    \/\/ Due to a bug in the backport plugin, certain users can't be assigned directly.\n-                    \/\/ Work around this by overwriting the assignee afterwards if the current assignee\n-                    \/\/ is the bot user.\n-                    if (assignees.isEmpty() || (assignees.size() == 1 && assignees.get(0).equals(issueProject.issueTracker().currentUser()))) {\n-                        if (username.isPresent()) {\n-                            var assignee = issueProject.issueTracker().user(username.get());\n-                            if (assignee.isPresent()) {\n-                                log.info(\"Setting assignee for issue \" + issue.id() + \" to \" + assignee.get());\n-                                issue.setAssignees(List.of(assignee.get()));\n-                            }\n+                log.info(\"Resolving issue \" + issue.id() + \" from state \" + issue.state());\n+                var assignees = issue.assignees();\n+                \/\/ Due to a bug in the backport plugin, certain users can't be assigned directly.\n+                \/\/ Work around this by overwriting the assignee afterwards if the current assignee\n+                \/\/ is the bot user.\n+                if (assignees.isEmpty() || (assignees.size() == 1 && assignees.get(0).equals(issueProject.issueTracker().currentUser()))) {\n+                    if (username.isPresent()) {\n+                        var assignee = issueProject.issueTracker().user(username.get());\n+                        if (assignee.isPresent()) {\n+                            log.info(\"Setting assignee for issue \" + issue.id() + \" to \" + assignee.get());\n+                            issue.setAssignees(List.of(assignee.get()));\n@@ -341,1 +334,1 @@\n-                    log.info(\"The issue has been already resolved\");\n+                    log.info(\"The issue was already resolved\");\n","filename":"bots\/notify\/src\/main\/java\/org\/openjdk\/skara\/bots\/notify\/issue\/IssueNotifier.java","additions":20,"deletions":27,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -1781,1 +1781,1 @@\n-            assertEquals(List.of(), updatedIssue.assignees());\n+            assertEquals(List.of(issueProject.issueTracker().currentUser()), updatedIssue.assignees());\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/issue\/IssueNotifierTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}