{"files":[{"patch":"@@ -188,3 +188,3 @@\n-    private ReviewComment parseReviewComment(ReviewComment parent, JSONObject json) {\n-        var author = host.parseUserField(json);\n-        var threadId = parent == null ? json.get(\"id\").toString() : parent.threadId();\n+    private ReviewComment parseReviewComment(ReviewComment parent, JSONObject reviewJson) {\n+        var author = host.parseUserField(reviewJson);\n+        var threadId = parent == null ? reviewJson.get(\"id\").toString() : parent.threadId();\n@@ -192,3 +192,3 @@\n-        int line = json.get(\"original_line\").asInt();\n-        var hash = new Hash(json.get(\"original_commit_id\").asString());\n-        var path = json.get(\"path\").asString();\n+        int line = reviewJson.get(\"original_line\").asInt();\n+        var hash = new Hash(reviewJson.get(\"original_commit_id\").asString());\n+        var path = reviewJson.get(\"path\").asString();\n@@ -196,1 +196,1 @@\n-        if (json.get(\"side\").asString().equals(\"LEFT\")) {\n+        if (reviewJson.get(\"side\").asString().equals(\"LEFT\")) {\n@@ -199,0 +199,8 @@\n+            \/\/ If line is present, it indicates the line in the merge-base commit\n+            if (!reviewJson.get(\"line\").isNull()) {\n+                hash = new Hash(json.get(\"base\").get(\"sha\").asString());\n+                line = reviewJson.get(\"line\").asInt();\n+            } else {\n+                hash = new Hash(commitInfo.get(\"parents\").asArray().get(0).get(\"sha\").asString());\n+            }\n+\n@@ -201,1 +209,0 @@\n-            hash = new Hash(commitInfo.get(\"parents\").asArray().get(0).get(\"sha\").asString());\n@@ -217,2 +224,2 @@\n-                                        json.get(\"id\").toString(),\n-                                        json.get(\"body\").asString(),\n+                                        reviewJson.get(\"id\").toString(),\n+                                        reviewJson.get(\"body\").asString(),\n@@ -220,2 +227,2 @@\n-                                        ZonedDateTime.parse(json.get(\"created_at\").asString()),\n-                                        ZonedDateTime.parse(json.get(\"updated_at\").asString()));\n+                                        ZonedDateTime.parse(reviewJson.get(\"created_at\").asString()),\n+                                        ZonedDateTime.parse(reviewJson.get(\"updated_at\").asString()));\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubPullRequest.java","additions":19,"deletions":12,"binary":false,"changes":31,"status":"modified"}]}