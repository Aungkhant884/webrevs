{"files":[{"patch":"@@ -61,1 +61,1 @@\n-        cmd.addAll(List.of(\"git\", \"log\", \"--format=\" + format,\n+        cmd.addAll(List.of(\"git\", \"-c\", \"core.quotePath=false\", \"log\", \"--format=\" + format,\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/git\/GitCommits.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,0 +44,1 @@\n+    private static final Hash EMPTY_TREE = new Hash(\"4b825dc642cb6eb9a060e54bf8d69288fbee4904\");\n@@ -207,0 +208,1 @@\n+                                   \"--topo-order\",\n@@ -866,1 +868,1 @@\n-        try (var p = Process.capture(\"git\", \"ls-tree\", hash.hex(), path.toString())\n+        try (var p = Process.capture(\"git\", \"-c\", \"core.quotePath=false\", \"ls-tree\", hash.hex(), path.toString())\n@@ -882,1 +884,1 @@\n-        cmd.addAll(List.of(\"git\", \"ls-tree\", \"-r\"));\n+        cmd.addAll(List.of(\"git\", \"-c\", \"core.quotePath=false\", \"ls-tree\", \"-r\"));\n@@ -973,1 +975,1 @@\n-        cmd.addAll(List.of(\"git\", \"diff\", \"--raw\",\n+        cmd.addAll(List.of(\"git\", \"-c\", \"core.quotePath=false\", \"diff\", \"--raw\",\n@@ -980,1 +982,5 @@\n-            cmd.add(from.hex());\n+            if (from.equals(Hash.zero())) {\n+                cmd.add(EMPTY_TREE.hex());\n+            } else {\n+                cmd.add(from.hex());\n+            }\n@@ -1020,1 +1026,1 @@\n-        var cmd = new ArrayList<>(List.of(\"git\", \"diff\", \"--patch\",\n+        var cmd = new ArrayList<>(List.of(\"git\", \"-c\", \"core.quotePath=false\", \"diff\", \"--patch\",\n","filename":"vcs\/src\/main\/java\/org\/openjdk\/skara\/vcs\/git\/GitRepository.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import hashlib\n@@ -322,1 +323,0 @@\n-    nullHash = b'0' * 40\n@@ -330,1 +330,7 @@\n-        write(nullHash)\n+        data = fctx.data()\n+        m = hashlib.sha1()\n+        m.update(b\"blob \")\n+        m.update(str(len(data)).encode())\n+        m.update(b\"\\x00\")\n+        m.update(data)\n+        write(m.hexdigest())\n","filename":"vcs\/src\/main\/resources\/ext.py","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1772,0 +1772,24 @@\n+    @ParameterizedTest\n+    @EnumSource(VCS.class)\n+    void testStatusWithUnicodeFiles(VCS vcs) throws IOException {\n+        try (var dir = new TemporaryDirectory()) {\n+            var r = Repository.init(dir.path(), vcs);\n+            assertTrue(r.isClean());\n+\n+            var f = dir.path().resolve(\"REÁDME.md\");\n+            Files.writeString(f, \"Hello\\n\");\n+            r.add(f);\n+            var first = r.commit(\"Add readme\", \"duke\", \"duke@openjdk.org\");\n+\n+            Files.writeString(f, \"Hello\\nWorld\\n\");\n+            r.add(f);\n+            var second = r.commit(\"Update readme\", \"duke\", \"duke@openjdk.org\");\n+\n+            var entries = r.status(first, second);\n+            assertEquals(1, entries.size());\n+            var entry = entries.get(0);\n+            assertTrue(entry.status().isModified());\n+            assertEquals(Path.of(\"REÁDME.md\"), entry.target().path().get());\n+        }\n+    }\n+\n","filename":"vcs\/src\/test\/java\/org\/openjdk\/skara\/vcs\/RepositoryTests.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"}]}