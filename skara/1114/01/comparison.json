{"files":[{"patch":"@@ -47,1 +47,1 @@\n-    private final Map<Integer, ThreadLogs> threadLogs;\n+    private final Map<Long, ThreadLogs> threadLogs;\n@@ -68,1 +68,1 @@\n-        var threadEntry = threadLogs.putIfAbsent(record.getThreadID(), newEntry);\n+        var threadEntry = threadLogs.putIfAbsent(record.getLongThreadID(), newEntry);\n","filename":"bot\/src\/main\/java\/org\/openjdk\/skara\/bot\/BotTaskAggregationHandler.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -158,1 +158,1 @@\n-               .forEach(record -> assertEquals(Integer.toString(record.getThreadID()), record.getMessage()));\n+               .forEach(record -> assertEquals(Long.toString(record.getLongThreadID()), record.getMessage()));\n@@ -160,1 +160,1 @@\n-               .forEach(record -> assertEquals(Integer.toString(record.getThreadID()), record.getMessage()));\n+               .forEach(record -> assertEquals(Long.toString(record.getLongThreadID()), record.getMessage()));\n","filename":"bot\/src\/test\/java\/org\/openjdk\/skara\/bot\/BotTaskAggregationHandlerTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -98,2 +98,2 @@\n-            url = 'https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_linux-x64_bin.tar.gz'\n-            sha256 = '91ac6fc353b6bf39d995572b700e37a20e119a87034eeb939a6f24356fbcd207'\n+            url = 'https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_linux-x64_bin.tar.gz'\n+            sha256 = 'e952958f16797ad7dc7cd8b724edd69ec7e0e0434537d80d6b5165193e33b931'\n","filename":"bots\/cli\/build.gradle","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-        System.out.println(\"[\" + dateTimeFormatter.format(record.getInstant().truncatedTo(ChronoUnit.SECONDS)) + \"][\" + record.getThreadID() + \"][\" +\n+        System.out.println(\"[\" + dateTimeFormatter.format(record.getInstant().truncatedTo(ChronoUnit.SECONDS)) + \"][\" + record.getLongThreadID() + \"][\" +\n","filename":"bots\/cli\/src\/main\/java\/org\/openjdk\/skara\/bots\/cli\/BotConsoleHandler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -83,2 +83,2 @@\n-            url = 'https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_windows-x64_bin.zip'\n-            sha256 = 'ecbe7f32bc6bff2b6c8e9b68f19cbf4ddf54a492c918ba471f32d645cf1c5cf4'\n+            url = 'https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_windows-x64_bin.zip'\n+            sha256 = 'a78bdeaad186297601edac6772d931224d7af6f682a43372e693c37020bd37d6'\n@@ -94,2 +94,2 @@\n-            url = 'https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_linux-x64_bin.tar.gz'\n-            sha256 = '91ac6fc353b6bf39d995572b700e37a20e119a87034eeb939a6f24356fbcd207'\n+            url = 'https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_linux-x64_bin.tar.gz'\n+            sha256 = 'e952958f16797ad7dc7cd8b724edd69ec7e0e0434537d80d6b5165193e33b931'\n@@ -105,2 +105,2 @@\n-            url = 'https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_osx-x64_bin.tar.gz'\n-            sha256 = '578b17748f5a7d111474bc4c9b5a8a06b4a4aa1ba4a4bc3fef014e079ece7c74'\n+            url = 'https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_osx-x64_bin.tar.gz'\n+            sha256 = '16f3e39a31e86f3f51b0b4035a37494a47ed3c4ead760eafc6afd7afdf2ad9f2'\n","filename":"cli\/build.gradle","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -1,2 +1,2 @@\n-JDK_LINUX_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_linux-x64_bin.tar.gz\"\n-JDK_LINUX_X64_SHA256=\"91ac6fc353b6bf39d995572b700e37a20e119a87034eeb939a6f24356fbcd207\"\n+JDK_LINUX_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_linux-x64_bin.tar.gz\"\n+JDK_LINUX_X64_SHA256=\"e952958f16797ad7dc7cd8b724edd69ec7e0e0434537d80d6b5165193e33b931\"\n@@ -4,2 +4,2 @@\n-JDK_MACOS_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_osx-x64_bin.tar.gz\"\n-JDK_MACOS_X64_SHA256=\"578b17748f5a7d111474bc4c9b5a8a06b4a4aa1ba4a4bc3fef014e079ece7c74\"\n+JDK_MACOS_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_osx-x64_bin.tar.gz\"\n+JDK_MACOS_X64_SHA256=\"16f3e39a31e86f3f51b0b4035a37494a47ed3c4ead760eafc6afd7afdf2ad9f2\"\n@@ -7,2 +7,2 @@\n-JDK_WINDOWS_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk15.0.2\/0d1cfde4252546c6931946de8db48ee2\/7\/GPL\/openjdk-15.0.2_windows-x64_bin.zip\"\n-JDK_WINDOWS_X64_SHA256=\"ecbe7f32bc6bff2b6c8e9b68f19cbf4ddf54a492c918ba471f32d645cf1c5cf4\"\n+JDK_WINDOWS_X64_URL=\"https:\/\/download.java.net\/java\/GA\/jdk16\/7863447f0ab643c585b9bdebf67c69db\/36\/GPL\/openjdk-16_windows-x64_bin.zip\"\n+JDK_WINDOWS_X64_SHA256=\"a78bdeaad186297601edac6772d931224d7af6f682a43372e693c37020bd37d6\"\n@@ -10,2 +10,2 @@\n-GRADLE_URL=\"https:\/\/services.gradle.org\/distributions\/gradle-6.8.3-bin.zip\"\n-GRADLE_SHA256=\"7faa7198769f872826c8ef4f1450f839ec27f0b4d5d1e51bade63667cbccd205\"\n+GRADLE_URL=\"https:\/\/services.gradle.org\/distributions\/gradle-7.0-bin.zip\"\n+GRADLE_SHA256=\"eb8b89184261025b0430f5b2233701ff1377f96da1ef5e278af6ae8bac5cc305\"\n","filename":"deps.env","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -135,1 +135,2 @@\n-                    task.getToDir().set(buildDir.resolve(\"images\"));\n+                    var toDir = isLocal ? \"local\" : os + \"-\" + cpu;\n+                    task.getToDir().set(buildDir.resolve(\"images\").resolve(toDir));\n@@ -137,1 +138,0 @@\n-                    task.getCPU().set(cpu);\n@@ -146,1 +146,0 @@\n-                    task.getToDir().set(buildDir.resolve(\"launchers\"));\n@@ -148,1 +147,2 @@\n-                    task.getCPU().set(cpu);\n+                    var toDir = isLocal ? \"local\" : os + \"-\" + cpu;\n+                    task.getToDir().set(buildDir.resolve(\"launchers\").resolve(toDir));\n@@ -169,1 +169,1 @@\n-                    var subdir = os + \"-\" + cpu;\n+                    var subdir = isLocal ? \"local\" : os + \"-\" + cpu;\n@@ -197,1 +197,1 @@\n-                    var subdir = os + \"-\" + cpu;\n+                    var subdir = isLocal ? \"local\" : os + \"-\" + cpu;\n","filename":"gradle\/plugins\/skara-images\/src\/main\/java\/org\/openjdk\/skara\/gradle\/images\/ImagesPlugin.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+    private final Property<String> os;\n@@ -39,2 +40,0 @@\n-    private Property<String> os;\n-    private Property<String> cpu;\n@@ -46,1 +45,0 @@\n-        toDir = factory.property(Path.class);\n@@ -48,1 +46,1 @@\n-        cpu = factory.property(String.class);\n+        toDir = factory.property(Path.class);\n@@ -68,5 +66,0 @@\n-    @Input\n-    Property<String> getCPU() {\n-        return cpu;\n-    }\n-\n@@ -87,1 +80,1 @@\n-        var dest = toDir.get().resolve(os.get() + \"-\" + cpu.get());\n+        var dest = toDir.get();\n","filename":"gradle\/plugins\/skara-images\/src\/main\/java\/org\/openjdk\/skara\/gradle\/images\/LaunchersTask.java","additions":3,"deletions":10,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-    private final Property<String> cpu;\n@@ -55,1 +54,0 @@\n-        cpu = factory.property(String.class);\n@@ -74,5 +72,0 @@\n-    @Input\n-    Property<String> getCPU() {\n-        return cpu;\n-    }\n-\n@@ -157,2 +150,1 @@\n-        Files.createDirectories(toDir.get());\n-        var dest = toDir.get().resolve(os.get() + \"-\" + cpu.get());\n+        var dest = toDir.get();\n@@ -161,0 +153,2 @@\n+        } else {\n+            Files.createDirectories(dest);\n@@ -185,1 +179,1 @@\n-                throw new GradleException(\"Multiple or no java launchers generated for \" + os.get() + \"-\" + cpu.get() + \" image\");\n+                throw new GradleException(\"Multiple or no java launchers generated for \" + os.get());\n","filename":"gradle\/plugins\/skara-images\/src\/main\/java\/org\/openjdk\/skara\/gradle\/images\/LinkTask.java","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -121,2 +121,1 @@\n-                                    \"--patch-module\", moduleName + \"=\" + outputDir,\n-                                    \"--illegal-access=deny\"\n+                                    \"--patch-module\", moduleName + \"=\" + outputDir\n","filename":"gradle\/plugins\/skara-module\/src\/main\/java\/org\/openjdk\/skara\/gradle\/module\/ModulePlugin.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}