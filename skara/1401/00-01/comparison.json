{"files":[{"patch":"@@ -1077,0 +1077,1 @@\n+                var additionalConfiguration = AdditionalConfiguration.get(localRepo, localHash, pr.repository().forge().currentUser(), comments);\n@@ -1078,1 +1079,0 @@\n-                    var additionalConfiguration = AdditionalConfiguration.get(localRepo, localHash, pr.repository().forge().currentUser(), comments);\n@@ -1080,4 +1080,2 @@\n-                    additionalErrors = botSpecificChecks(isCleanBackport);\n-                    additionalProgresses = botSpecificProgresses();\n-                } catch (Exception exception) {\n-                    integrationBlockers.add(exception.getMessage());\n+                } catch (BadCommitMessageException badCommitMessageException) {\n+                    integrationBlockers.add(badCommitMessageException.getMessage());\n@@ -1085,0 +1083,2 @@\n+                additionalErrors = botSpecificChecks(isCleanBackport);\n+                additionalProgresses = botSpecificProgresses();\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckRun.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -34,0 +34,6 @@\n+class BadCommitMessageException extends RuntimeException {\n+    BadCommitMessageException(String msg) {\n+        super(msg);\n+    }\n+}\n+\n@@ -152,1 +158,1 @@\n-        throw new IllegalStateException(\"Invalid reviewers \" + invalid);\n+        throw new BadCommitMessageException(\"Invalid reviewers \" + invalid);\n@@ -239,1 +245,1 @@\n-        throw new IllegalStateException(\"Incorrectly formatted commit message: \" + message);\n+        throw new BadCommitMessageException(\"Incorrectly formatted commit message: \" + message);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/PullRequestCheckIssueVisitor.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -56,3 +56,6 @@\n-                reply.println(\"\\\"\" + summary + \"\\\" is invalid, summary should not contain \\\"<BugId>:\\\", \\\"Co-authored-by:\\\", \\\"Reviewed-by:\\\" and \\\"Backport-of:\\\".\\n\" +\n-                        \"This Summary will be removed.\");\n-                reply.println(Summary.setSummaryMarker(\"\"));\n+                reply.println(\"Invalid summary:\\n\" +\n+                        \"\\n\" +\n+                        \"```\\n\" +\n+                        summary +\n+                        \"\\n```\\n\" +\n+                        \"A summary line cannot start with any of the following: `<issue-id>:`, `Co-authored-by:`, `Reviewed-by:`, `Backport-of:`. See [JEP](https:\/\/openjdk.org\/jeps\/357) for details.\");\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/SummaryCommand.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -416,1 +416,1 @@\n-            assertLastCommentContains(pr, \"summary should not contain\");\n+            assertLastCommentContains(pr, \"Invalid summary\");\n@@ -420,1 +420,1 @@\n-            assertLastCommentContains(pr, \"summary should not contain\");\n+            assertLastCommentContains(pr, \"Invalid summary\");\n@@ -424,1 +424,5 @@\n-            assertLastCommentContains(pr, \"summary should not contain\");\n+            assertLastCommentContains(pr, \"Invalid summary\");\n+\n+            pr.addComment(\"\/summary 1642: TITLE\");\n+            TestBotRunner.runPeriodicItems(prBot);\n+            assertLastCommentContains(pr, \"Invalid summary\");\n@@ -429,0 +433,2 @@\n+\n+            System.out.println(pr.store().comments());\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/SummaryTests.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}