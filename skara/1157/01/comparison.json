{"files":[{"patch":"@@ -214,0 +214,1 @@\n+    private final Duration watchdogWarnTimeout;\n@@ -232,1 +233,2 @@\n-        botWatchdog = new BotWatchdog(Duration.ofMinutes(10));\n+        botWatchdog = new BotWatchdog(config.watchdogTimeout());\n+        watchdogWarnTimeout = config.watchdogWarnTimeout();\n@@ -266,1 +268,1 @@\n-                if (activeDuration.compareTo(config.watchdogTimeout()) > 0) {\n+                if (activeDuration.compareTo(watchdogWarnTimeout) > 0) {\n@@ -274,0 +276,1 @@\n+            log.fine(\"Pinging Watchdog\");\n","filename":"bot\/src\/main\/java\/org\/openjdk\/skara\/bot\/BotRunner.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -418,1 +418,1 @@\n-            return Duration.ofHours(1);\n+            return Duration.ofMinutes(30);\n@@ -423,0 +423,9 @@\n+\n+    Duration watchdogWarnTimeout() {\n+        if (!config.contains(\"runner\") || !config.get(\"runner\").contains(\"watchdog_warn\")) {\n+            log.info(\"No WorkItem watchdog_warn timeout defined, using watchdog value\");\n+            return watchdogTimeout();\n+        } else {\n+            return Duration.parse(config.get(\"runner\").get(\"watchdog_warn\").asString());\n+        }\n+    }\n","filename":"bot\/src\/main\/java\/org\/openjdk\/skara\/bot\/BotRunnerConfiguration.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+    private final Duration maxWait;\n@@ -37,1 +38,1 @@\n-                    System.out.println(\"No watchdog ping detected - exiting...\");\n+                    System.out.println(\"No watchdog ping detected for \" + maxWait + \" - exiting...\");\n@@ -47,0 +48,1 @@\n+        this.maxWait = maxWait;\n","filename":"bot\/src\/main\/java\/org\/openjdk\/skara\/bot\/BotWatchdog.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -316,1 +316,1 @@\n-        var runner = new BotRunner(config(\"{ \\\"runner\\\": { \\\"watchdog\\\": \\\"PT0.01S\\\", \\\"interval\\\": \\\"PT0.001S\\\" } }\"), List.of(bot));\n+        var runner = new BotRunner(config(\"{ \\\"runner\\\": { \\\"watchdog_warn\\\": \\\"PT0.01S\\\", \\\"interval\\\": \\\"PT0.001S\\\" } }\"), List.of(bot));\n","filename":"bot\/src\/test\/java\/org\/openjdk\/skara\/bot\/BotRunnerTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -166,0 +166,1 @@\n+        log.info(\"Starting BotLauncher\");\n@@ -171,0 +172,3 @@\n+            log.severe(\"Failed to parse configuration file: \" + jsonFile\n+                    + \" error message: \" + configurationError.getMessage());\n+            \/\/ Also print directly as logging may not be setup\n@@ -179,0 +183,2 @@\n+            log.severe(\"Error: no bot factories found. Make sure the module path is correct. Exiting...\");\n+            \/\/ Also print directly as logging may not be setup\n","filename":"bots\/cli\/src\/main\/java\/org\/openjdk\/skara\/bots\/cli\/BotLauncher.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}