{"files":[{"patch":"@@ -117,6 +117,4 @@\n-                \/\/ The csr link exists but the csr issue doesn't exist.\n-                \/\/ We should remind the user to remove the link firstly.\n-                reply.println(\"the issue for this pull request, [\" + jbsIssue.get().id() + \"](\" + jbsIssue.get().webUrl()\n-                        + \"), has a invalid CSR link.\");\n-                reply.println(\"So you can't directly indicate that a CSR request is not needed for this pull request. \");\n-                reply.println(\"Please firstly remove the CSR link and then use the command `\/csr unneeded` again.\");\n+                \/\/ The csr link exists but the csr issue doesn't exist, the bot should just remove the csr label.\n+                pr.removeLabel(CSR_LABEL);\n+                reply.println(\"determined that a [CSR](https:\/\/wiki.openjdk.java.net\/display\/csr\/Main) request \" +\n+                        \"is not needed for this pull request.\");\n@@ -132,5 +130,3 @@\n-                reply.println(\"the issue for this pull request, [\" + jbsIssue.get().id() + \"](\" + jbsIssue.get().webUrl() + \"), has \" +\n-                        \"a non-withdrawn CSR request: [\" + csrIssue.id() + \"](\" + csrIssue.webUrl() + \"). \");\n-                reply.println(\"So you can't directly indicate that a CSR request is not needed for this pull request. \");\n-                reply.println(\"Please firstly withdraw the CSR request: [\" + csrIssue.id() + \"](\" + csrIssue.webUrl() + \"), \"\n-                        + \"and then use the command `\/csr unneeded` again.\");\n+                reply.println(\"The CSR requirement cannot be removed as there is already a CSR associated with the main issue\" +\n+                              \" of this pull request. Please withdraw the CSR [\" + csrIssue.id() + \"](\" + csrIssue.webUrl() +\n+                              \") and then use the command `\/csr unneeded` again.\");\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CSRCommand.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -424,5 +424,3 @@\n-            assertLastCommentContains(pr, \"the issue for this pull request\");\n-            assertLastCommentContains(pr, \"a non-withdrawn CSR request\");\n-            assertLastCommentContains(pr, \"So you can't directly indicate that a CSR request is not needed for this pull request\");\n-            assertLastCommentContains(pr, \"Please firstly withdraw the CSR request\");\n-            assertLastCommentContains(pr, \"and then use the command `\/csr unneeded` again\");\n+            assertLastCommentContains(pr, \"The CSR requirement cannot be removed as there is already a CSR associated \" +\n+                                      \"with the main issue of this pull request. Please withdraw the CSR\");\n+            assertLastCommentContains(pr, \"and then use the command `\/csr unneeded` again.\");\n@@ -492,5 +490,3 @@\n-            assertLastCommentContains(pr, \"the issue for this pull request\");\n-            assertLastCommentContains(pr, \"a non-withdrawn CSR request\");\n-            assertLastCommentContains(pr, \"So you can't directly indicate that a CSR request is not needed for this pull request\");\n-            assertLastCommentContains(pr, \"Please firstly withdraw the CSR request\");\n-            assertLastCommentContains(pr, \"and then use the command `\/csr unneeded` again\");\n+            assertLastCommentContains(pr, \"The CSR requirement cannot be removed as there is already a CSR associated \" +\n+                    \"with the main issue of this pull request. Please withdraw the CSR\");\n+            assertLastCommentContains(pr, \"and then use the command `\/csr unneeded` again.\");\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/CSRTests.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"}]}