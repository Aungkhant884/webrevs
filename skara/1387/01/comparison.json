{"files":[{"patch":"@@ -48,0 +48,2 @@\n+    private List<Label> labels;\n+\n@@ -52,1 +54,3 @@\n-\n+        this.labels = json.get(\"fields\").get(\"labels\").stream()\n+                .map(s -> new Label(s.asString()))\n+                .collect(Collectors.toList());\n@@ -263,0 +267,1 @@\n+        labels = null;\n@@ -272,0 +277,1 @@\n+        labels = null;\n@@ -290,0 +296,1 @@\n+        this.labels = labels.stream().map(Label::new).collect(Collectors.toList());\n@@ -294,3 +301,6 @@\n-        return json.get(\"fields\").get(\"labels\").stream()\n-                   .map(s -> new Label(s.asString()))\n-                   .collect(Collectors.toList());\n+        if (labels == null) {\n+            labels = request.get(\"\").execute().get(\"fields\").get(\"labels\").stream()\n+                    .map(s -> new Label(s.asString()))\n+                    .collect(Collectors.toList());\n+        }\n+        return labels;\n","filename":"issuetracker\/src\/main\/java\/org\/openjdk\/skara\/issuetracker\/jira\/JiraIssue.java","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -50,2 +50,2 @@\n-    \/\/ Mimic JiraIssue where labels are part of the main JSON object\n-    private final List<Label> labels;\n+    \/\/ Labels are cached but still kept up to date\n+    private List<Label> labels;\n@@ -185,0 +185,1 @@\n+        labels = null;\n@@ -192,0 +193,1 @@\n+        labels = null;\n@@ -204,0 +206,1 @@\n+        this.labels = labels.stream().map(Label::new).collect(Collectors.toList());\n@@ -208,0 +211,3 @@\n+        if (labels == null) {\n+            labels = store.labels().keySet().stream().map(Label::new).collect(Collectors.toList());\n+        }\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestIssue.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"}]}