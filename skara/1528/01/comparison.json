{"files":[{"patch":"@@ -55,0 +55,1 @@\n+    private static final String DRAFT_PREFIX = \"Draft:\";\n@@ -344,0 +345,3 @@\n+    \/**\n+     * In GitLab, if the pull request is in draft mode, the title will include the draft prefix\n+     *\/\n@@ -346,1 +350,3 @@\n-        return json.get(\"title\").asString().strip();\n+        var title = json.get(\"title\").asString().strip();\n+        String pattern = \"(?i)^draft:?\\\\s*\";\n+        return title.replaceAll(pattern, \"\").strip();\n@@ -349,0 +355,5 @@\n+    \/**\n+     * In GitLab, when the bot attempts to update the pull request title,\n+     * it should check if the pull request is in draft mode.\n+     * If it is, the bot should add the draft prefix.\n+     *\/\n@@ -351,0 +362,12 @@\n+        if (isDraft()) {\n+            title = DRAFT_PREFIX + \" \" + title;\n+        }\n+        request.put(\"\")\n+               .body(\"title\", title)\n+               .execute();\n+    }\n+\n+    \/**\n+     * This method sets the title without checking if the pull request is in draft mode.\n+     *\/\n+    private void setTitleWithoutDraftPrefix(String title) {\n@@ -786,4 +809,2 @@\n-        var title = title();\n-        var draftPrefix = \"Draft:\";\n-        if (title.startsWith(draftPrefix)) {\n-            setTitle(title.substring(draftPrefix.length()).stripLeading());\n+        if (isDraft()) {\n+            setTitleWithoutDraftPrefix(title());\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":26,"deletions":5,"binary":false,"changes":31,"status":"modified"}]}