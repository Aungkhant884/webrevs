{"files":[{"patch":"@@ -72,0 +72,2 @@\n+    private static final String REPO_ACCESS_WARNING = \"The backport can not be created because you don't have access to the target repository.\";\n+\n@@ -124,1 +126,2 @@\n-            if (!verifyGroupMembership(targetRepo, command.user(), reply)) {\n+            if (!targetRepo.hasRepoAccess(command.user())) {\n+                reply.println(REPO_ACCESS_WARNING);\n@@ -240,1 +243,2 @@\n-        if (!verifyGroupMembership(targetRepo, realUser, reply)) {\n+        if (!targetRepo.hasRepoAccess(realUser)) {\n+            reply.println(REPO_ACCESS_WARNING);\n@@ -392,12 +396,0 @@\n-\n-    private boolean verifyGroupMembership(HostedRepository targetRepo, HostUser user, PrintWriter reply) {\n-        \/\/ Only check in GitLab\n-        boolean hasGroupMembership = true;\n-        if (!targetRepo.forge().name().equals(\"GitHub\") && !targetRepo.forge().name().equals(\"Test\")) {\n-            hasGroupMembership = targetRepo.canPush(user);\n-        }\n-        if (!hasGroupMembership) {\n-            reply.println(\"The backport can not be created because you don't have access to the target repository.\");\n-        }\n-        return hasGroupMembership;\n-    }\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/BackportCommand.java","additions":6,"deletions":14,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -277,0 +277,5 @@\n+\n+    @Override\n+    public boolean hasRepoAccess(HostUser user) {\n+        return false;\n+    }\n","filename":"bots\/tester\/src\/test\/java\/org\/openjdk\/skara\/bots\/tester\/InMemoryHostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -217,0 +217,5 @@\n+\n+    \/**\n+     * Check whether the user has access to this repository\n+     *\/\n+    boolean hasRepoAccess(HostUser user);\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/HostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -744,0 +744,5 @@\n+\n+    @Override\n+    public boolean hasRepoAccess(HostUser user) {\n+        return true;\n+    }\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -846,0 +846,5 @@\n+\n+    @Override\n+    public boolean hasRepoAccess(HostUser user) {\n+        return canPush(user);\n+    }\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -456,0 +456,5 @@\n+\n+    @Override\n+    public boolean hasRepoAccess(HostUser user) {\n+        return true;\n+    }\n","filename":"test\/src\/main\/java\/org\/openjdk\/skara\/test\/TestHostedRepository.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}