{"files":[{"patch":"@@ -448,1 +448,1 @@\n-                    \"<!-- \" + jobId + \" -->\",\n+                    \"<!-- \" + job.id() + \" -->\",\n@@ -450,1 +450,1 @@\n-                    \"A test job has been started with id: \" + jobId\n+                    \"A test job has been started with id: \" + job.id()\n","filename":"bots\/tester\/src\/main\/java\/org\/openjdk\/skara\/bots\/tester\/TestWorkItem.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -556,1 +556,2 @@\n-            var expectedJobId = \"null-1337-17-0\";\n+            var expectedSubmissionId = \"null-1337-17-0\";\n+            var expectedId = \"0-17-1337-null\";\n@@ -558,0 +559,1 @@\n+            expectedJob.id = expectedId;\n@@ -559,1 +561,2 @@\n-            ci.jobs.put(expectedJobId, expectedJob);\n+            ci.jobs.put(expectedId, expectedJob);\n+            ci.jobs.put(expectedSubmissionId, expectedJob);\n@@ -572,1 +575,1 @@\n-            assertEquals(\"<!-- \" + expectedJobId + \" -->\", lines[1]);\n+            assertEquals(\"<!-- \" + expectedId + \" -->\", lines[1]);\n@@ -574,1 +577,1 @@\n-            assertEquals(\"A test job has been started with id: \" + expectedJobId, lines[3]);\n+            assertEquals(\"A test job has been started with id: \" + expectedId, lines[3]);\n@@ -580,1 +583,1 @@\n-            assertEquals(expectedJobId, submission.id);\n+            assertEquals(expectedSubmissionId, submission.id);\n@@ -665,1 +668,2 @@\n-            var expectedJobId = \"null-1337-17-0\";\n+            var expectedSubmissionId = \"null-1337-17-0\";\n+            var expectedId = \"0-17-1337-null\";\n@@ -668,1 +672,3 @@\n-            ci.jobs.put(expectedJobId, expectedJob);\n+            expectedJob.id = expectedId;\n+            ci.jobs.put(expectedId, expectedJob);\n+            ci.jobs.put(expectedSubmissionId, expectedJob);\n@@ -681,1 +687,1 @@\n-            assertEquals(\"<!-- \" + expectedJobId + \" -->\", lines[1]);\n+            assertEquals(\"<!-- \" + expectedId + \" -->\", lines[1]);\n@@ -683,1 +689,1 @@\n-            assertEquals(\"A test job has been started with id: \" + expectedJobId, lines[3]);\n+            assertEquals(\"A test job has been started with id: \" + expectedId, lines[3]);\n@@ -689,1 +695,1 @@\n-            assertEquals(expectedJobId, submission.id);\n+            assertEquals(expectedSubmissionId, submission.id);\n@@ -714,1 +720,1 @@\n-            assertEquals(expectedJobId, ci.cancelled.get(0));\n+            assertEquals(expectedId, ci.cancelled.get(0));\n@@ -880,1 +886,2 @@\n-            var expectedJobId = \"null-1337-17-0\";\n+            var expectedSubmissionId = \"null-1337-17-0\";\n+            var expectedId = \"0-17-1337-null\";\n@@ -883,1 +890,3 @@\n-            ci.jobs.put(expectedJobId, expectedJob);\n+            expectedJob.id = expectedId;\n+            ci.jobs.put(expectedId, expectedJob);\n+            ci.jobs.put(expectedSubmissionId, expectedJob);\n@@ -896,1 +905,1 @@\n-            assertEquals(\"<!-- \" + expectedJobId + \" -->\", lines[1]);\n+            assertEquals(\"<!-- \" + expectedId + \" -->\", lines[1]);\n@@ -898,1 +907,1 @@\n-            assertEquals(\"A test job has been started with id: \" + expectedJobId, lines[3]);\n+            assertEquals(\"A test job has been started with id: \" + expectedId, lines[3]);\n@@ -904,1 +913,1 @@\n-            assertEquals(expectedJobId, submission.id);\n+            assertEquals(expectedSubmissionId, submission.id);\n@@ -915,1 +924,1 @@\n-            var job = ci.jobs.get(expectedJobId);\n+            var job = ci.jobs.get(expectedId);\n@@ -934,1 +943,1 @@\n-            assertEquals(\"<!-- \" + expectedJobId +\" -->\", lines[1]);\n+            assertEquals(\"<!-- \" + expectedId +\" -->\", lines[1]);\n@@ -936,1 +945,1 @@\n-            assertEquals(\"@duke your test job with id \" + expectedJobId + \" for commits up until \" +\n+            assertEquals(\"@duke your test job with id \" + expectedId + \" for commits up until \" +\n@@ -1005,1 +1014,2 @@\n-            var expectedJobId = \"null-1337-17-0\";\n+            var expectedSubmissionId = \"null-1337-17-0\";\n+            var expectedId = \"0-17-1337-null\";\n@@ -1008,1 +1018,3 @@\n-            ci.jobs.put(expectedJobId, expectedJob);\n+            expectedJob.id = expectedId;\n+            ci.jobs.put(expectedId, expectedJob);\n+            ci.jobs.put(expectedSubmissionId, expectedJob);\n@@ -1020,1 +1032,1 @@\n-            assertEquals(\"<!-- \" + expectedJobId + \" -->\", lines[1]);\n+            assertEquals(\"<!-- \" + expectedId + \" -->\", lines[1]);\n@@ -1022,1 +1034,1 @@\n-            assertEquals(\"A test job has been started with id: \" + expectedJobId, lines[3]);\n+            assertEquals(\"A test job has been started with id: \" + expectedId, lines[3]);\n@@ -1028,1 +1040,1 @@\n-            assertEquals(expectedJobId, submission.id);\n+            assertEquals(expectedSubmissionId, submission.id);\n","filename":"bots\/tester\/src\/test\/java\/org\/openjdk\/skara\/bots\/tester\/TestWorkItemTests.java","additions":36,"deletions":24,"binary":false,"changes":60,"status":"modified"}]}