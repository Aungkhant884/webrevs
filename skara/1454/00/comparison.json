{"files":[{"patch":"@@ -156,1 +156,1 @@\n-        boolean allCSRApproved = true;\n+        boolean notExistingUnresolvedCSR = true;\n@@ -159,1 +159,1 @@\n-        boolean withdrawnCSRWhenCSRNeeded = false;\n+        boolean existingApprovedCSR = false;\n@@ -165,1 +165,1 @@\n-                allCSRApproved = false;\n+                notExistingUnresolvedCSR = false;\n@@ -190,1 +190,1 @@\n-                allCSRApproved = false;\n+                notExistingUnresolvedCSR = false;\n@@ -202,1 +202,1 @@\n-                allCSRApproved = false;\n+                notExistingUnresolvedCSR = false;\n@@ -213,1 +213,1 @@\n-                allCSRApproved = false;\n+                notExistingUnresolvedCSR = false;\n@@ -230,3 +230,0 @@\n-                    if (isCSRNeeded(pr.comments())) {\n-                        withdrawnCSRWhenCSRNeeded = true;\n-                    }\n@@ -235,1 +232,1 @@\n-                    allCSRApproved = false;\n+                    notExistingUnresolvedCSR = false;\n@@ -239,1 +236,1 @@\n-                    allCSRApproved = false;\n+                    notExistingUnresolvedCSR = false;\n@@ -243,0 +240,2 @@\n+            } else {\n+                existingApprovedCSR = true;\n@@ -256,1 +255,1 @@\n-        if (allCSRApproved && existingCSR && !withdrawnCSRWhenCSRNeeded && pr.labelNames().contains(CSR_LABEL)) {\n+        if (notExistingUnresolvedCSR && existingCSR && (!isCSRNeeded(pr.comments()) || existingApprovedCSR) && pr.labelNames().contains(CSR_LABEL)) {\n","filename":"bots\/csr\/src\/main\/java\/org\/openjdk\/skara\/bots\/csr\/PullRequestWorkItem.java","additions":11,"deletions":12,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -616,1 +616,1 @@\n-            \/\/ PR should not contain csr label because CSR label is not added via '\/csr needed'\n+            \/\/ PR should not contain csr label\n","filename":"bots\/csr\/src\/test\/java\/org\/openjdk\/skara\/bots\/csr\/CSRBotTests.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}