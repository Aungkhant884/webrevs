{"files":[{"patch":"@@ -255,10 +255,0 @@\n-        \/\/ If merge pr is not allowed, reply warning to the user and return\n-        var mergeDisabledText = \"<!-- merge error -->\\n\" +\n-                \":warning: @\" + pr.author().username() + \" Merge-style pull requests are not allowed in this repository.\" +\n-                \" If it was unintentional, please modify the title of this PR.\";\n-        if (!bot.enableMerge() && PullRequestUtils.isMerge(pr)) {\n-            addErrorComment(mergeDisabledText, comments);\n-            return List.of();\n-        }\n-        removeErrorComment(mergeDisabledText, comments);\n-\n@@ -304,0 +294,9 @@\n+            \/\/ If merge pr is not allowed, reply warning to the user and return\n+            if (!bot.enableMerge() && PullRequestUtils.isMerge(pr)) {\n+                var mergeDisabledText = \"<!-- merge error -->\\n\" +\n+                        \":warning: @\" + pr.author().username() + \" Merge-style pull requests are not allowed in this repository.\" +\n+                        \" If it was unintentional, please modify the title of this PR.\";\n+                addErrorComment(mergeDisabledText, comments);\n+                return List.of();\n+            }\n+\n@@ -484,9 +483,0 @@\n-    private void removeErrorComment(String text, List<Comment> comments) {\n-        var botUser = pr.repository().forge().currentUser();\n-        var existing = comments.stream()\n-                .filter(c -> c.author().equals(botUser))\n-                .filter(c -> c.body().equals(text))\n-                .findFirst();\n-        existing.ifPresent(comment -> pr.removeComment(comment));\n-    }\n-\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/CheckWorkItem.java","additions":9,"deletions":19,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -2878,1 +2878,1 @@\n-            assertTrue(comment.body().contains(\"merge PR is not allowed in this repository\"));\n+            assertTrue(comment.body().contains(\"Merge-style pull requests are not allowed in this repository\"));\n@@ -2884,1 +2884,1 @@\n-            assertTrue(comment.body().contains(\"merge PR is not allowed in this repository\"));\n+            assertTrue(comment.body().contains(\"Merge-style pull requests are not allowed in this repository\"));\n@@ -2888,1 +2888,1 @@\n-            assertEquals(0, pr.store().comments().size());\n+            assertEquals(1, pr.store().comments().size());\n","filename":"bots\/pr\/src\/test\/java\/org\/openjdk\/skara\/bots\/pr\/CheckTests.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}