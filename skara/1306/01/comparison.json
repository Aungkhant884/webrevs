{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -153,1 +153,1 @@\n-        var email = o.get(\"email\").asString();\n+        var email = o.get(\"email\") != null ? o.get(\"email\").asString() : \"\";\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabHost.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-        var commits = request.get(\"commits\").execute().stream()\n+        var commits = request.get(\"versions\").execute().stream()\n@@ -94,1 +94,1 @@\n-                                 ret.hash = new Hash(obj.get(\"id\").asString());\n+                                 ret.hash = new Hash(obj.get(\"head_commit_sha\").asString());\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,0 +43,16 @@\n+    @Test\n+    void testReviews() throws IOException {\n+        var settings = ManualTestSettings.loadManualTestSettings();\n+        var username = settings.getProperty(\"gitlab.user\");\n+        var token = settings.getProperty(\"gitlab.pat\");\n+        var credential = new Credential(username, token);\n+        var uri = URIBuilder.base(settings.getProperty(\"gitlab.uri\")).build();\n+        var gitLabHost = new GitLabHost(\"gitlab\", uri, false, credential, Set.of());\n+        var gitLabRepo = gitLabHost.repository(settings.getProperty(\"gitlab.repository\")).orElseThrow();\n+        var gitLabMergeRequest = gitLabRepo.pullRequest(settings.getProperty(\"gitlab.merge.request.id\"));\n+\n+        var reviewList = gitLabMergeRequest.reviews();\n+        var actualHash = reviewList.get(0).hash().orElse(new Hash(\"\"));\n+        assertEquals(settings.getProperty(\"gitlab.review.hash\"), actualHash.hex());\n+    }\n+\n","filename":"forge\/src\/test\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabRestApiTest.java","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"}]}