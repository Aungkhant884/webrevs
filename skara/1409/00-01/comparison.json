{"files":[{"patch":"@@ -346,0 +346,1 @@\n+        final String ref = pr.targetRef();\n@@ -357,0 +358,1 @@\n+        pr.setTargetRef(ref);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IntegrateCommand.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,14 +48,0 @@\n-        String targetRef = pr.targetRef();\n-\n-        \/\/ This Pull Request has had its target branch set to its own pre-integration\n-        \/\/ branch, likely for the purpose of marking it as merged. Find the branch it\n-        \/\/ was actually tracking before proceeding.\n-        if (targetRef.equals(dependentRef)) {\n-            int i = pr.targetRefChanges().size() - 1;\n-            ReferenceChange change = pr.targetRefChanges().get(i);\n-            if (change.to().equals(dependentRef)) {\n-                targetRef = change.from();\n-            } else {\n-                throw new IllegalStateException(\"Change of target ref to own pre-integration branch is not the final one!\");\n-            }\n-        }\n@@ -66,1 +52,1 @@\n-                candidate.setTargetRef(targetRef);\n+                candidate.setTargetRef(pr.targetRef());\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/PreIntegrations.java","additions":1,"deletions":15,"binary":false,"changes":16,"status":"modified"}]}