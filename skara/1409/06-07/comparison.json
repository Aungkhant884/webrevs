{"files":[{"patch":"@@ -439,4 +439,3 @@\n-        if (json.get(\"state\").asString().equals(\"opened\")) {\n-            return State.OPEN;\n-        }\n-        return State.CLOSED;\n+        final String state = json.get(\"state\").asString();\n+        return state.equals(\"merged\") ? State.RESOLVED :\n+            (state.equals(\"opened\") ? State.OPEN : State.CLOSED);\n@@ -447,3 +446,7 @@\n-        request.put(\"\")\n-               .body(\"state_event\", state != State.OPEN ? \"close\" : \"reopen\")\n-               .execute();\n+        if (state == State.RESOLVED) {\n+            request.put(\"merge\").execute();\n+        } else {\n+            request.put(\"\")\n+                   .body(\"state_event\", state == State.OPEN ? \"reopen\" : \"close\")\n+                   .execute();\n+        }\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"}]}