{"files":[{"patch":"@@ -165,1 +165,1 @@\n-            markIntegratedAndMerged(bot.seedStorage().orElse(scratchPath.resolve(\"seeds\")), pr, prepushHash.get(), reply);\n+            markIntegratedAndMerged(bot, scratchPath, pr, prepushHash.get(), reply);\n@@ -244,1 +244,1 @@\n-                markIntegratedAndMerged(bot.seedStorage().orElse(scratchPath.resolve(\"seeds\")), pr, amendedHash, reply);\n+                markIntegratedAndMerged(bot, scratchPath, pr, amendedHash, reply);\n@@ -328,1 +328,1 @@\n-    static void markIntegratedAndMerged(Path path, PullRequest pr, Hash hash, PrintWriter reply) {\n+    static void markIntegratedAndMerged(PullRequestBot bot, Path scratchPath, PullRequest pr, Hash hash, PrintWriter reply) {\n@@ -333,1 +333,1 @@\n-            Repository repository = new HostedRepositoryPool(path).seedRepository(pr.repository(), false);\n+            Repository repository = new HostedRepositoryPool(bot.seedStorage().orElse(scratchPath.resolve(\"seeds\"))).seedRepository(pr.repository(), false);\n@@ -335,1 +335,1 @@\n-            repository.push(tip, pr.repository().url(), \"integrated\/\" + branch, true);\n+            repository.push(tip, pr.repository().url(), \"integrated\/\" + pr.id(), true);\n@@ -339,1 +339,1 @@\n-        pr.setTargetRef(\"integrated\/\" + branch);\n+        pr.setTargetRef(\"integrated\/\" + pr.id());\n@@ -355,1 +355,1 @@\n-        pr.repository().deleteBranch(\"integrated\/\" + branch);\n+        pr.repository().deleteBranch(\"integrated\/\" + pr.id());\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IntegrateCommand.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-            IntegrateCommand.markIntegratedAndMerged(bot.seedStorage().orElse(scratchPath.resolve(\"seeds\")), pr, prePushHash.get(), reply);\n+            IntegrateCommand.markIntegratedAndMerged(bot, scratchPath, pr, prePushHash.get(), reply);\n@@ -134,1 +134,1 @@\n-                IntegrateCommand.markIntegratedAndMerged(bot.seedStorage().orElse(scratchPath.resolve(\"seeds\")), pr, amendedHash, reply);\n+                IntegrateCommand.markIntegratedAndMerged(bot, scratchPath, pr, amendedHash, reply);\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/SponsorCommand.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}