{"files":[{"patch":"@@ -328,0 +328,4 @@\n+    public static String mergeBranch(PullRequest pull) {\n+        return \"merged\/\" + pull.id();\n+    }\n+\n@@ -331,0 +335,1 @@\n+\tfinal String ref = pr.targetRef();\n@@ -334,4 +339,0 @@\n-\n-            \/\/ Waste not, want not, the pre-integration branch is marked for destruction anyway\n-            \/\/ once integrated, reset it back to the state it was in before the pull request\n-            \/\/ was made so we can merge into it to trick version control to marking it as merged\n@@ -339,1 +340,0 @@\n-\n@@ -342,1 +342,1 @@\n-                    PreIntegrations.preIntegrateBranch(pr), true);\n+                    mergeBranch(pr), true);\n@@ -346,2 +346,0 @@\n-        final String ref = pr.targetRef();\n-        pr.setTargetRef(PreIntegrations.preIntegrateBranch(pr));\n@@ -349,0 +347,1 @@\n+        pr.setTargetRef(mergeBranch(pr));\n@@ -350,0 +349,2 @@\n+        pr.repository().deleteBranch(mergeBranch(pr));\n+        pr.setTargetRef(ref);\n@@ -358,1 +359,0 @@\n-        pr.setTargetRef(ref);\n@@ -361,1 +361,2 @@\n-        reply.println(\":bulb: You may see a message that your pull request was closed with unmerged commits or merged into a different branch. This can be safely ignored.\");\n+        reply.println(\":bulb: You may see a message that your pull request was closed with unmerged commits, or that it was merged into a different branch. This can be safely ignored.\");\n+        reply.println(\"Your pull request was correctly integrated into the \" + ref + \" branch.\");\n","filename":"bots\/pr\/src\/main\/java\/org\/openjdk\/skara\/bots\/pr\/IntegrateCommand.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"}]}