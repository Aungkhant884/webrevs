{"files":[{"patch":"@@ -47,1 +47,3 @@\n-    private List<Label> labels;\n+    \/\/ Only cache the label names as those are most commonly used and converting to\n+    \/\/ Label objects is expensive. This list is always sorted.\n+    private List<String> labels;\n@@ -55,3 +57,2 @@\n-        labels = json.get(\"labels\")\n-                     .stream()\n-                     .map(s -> labelNameToLabel(s.asString()))\n+        labels = json.get(\"labels\").stream()\n+                     .map(JSONValue::asString)\n@@ -625,1 +626,0 @@\n-        labels = null;\n@@ -630,2 +630,2 @@\n-                .map(JSONValue::asString),\n-                List.of(label).stream())\n+                                .map(JSONValue::asString),\n+                        Stream.of(label))\n@@ -636,0 +636,1 @@\n+        this.labels = labels.stream().sorted().toList();\n@@ -640,1 +641,0 @@\n-        labels = null;\n@@ -649,0 +649,1 @@\n+        this.labels = labels.stream().sorted().toList();\n@@ -656,1 +657,1 @@\n-        this.labels = labels.stream().map(this::labelNameToLabel).collect(Collectors.toList());\n+        this.labels = labels.stream().sorted().toList();\n@@ -661,10 +662,9 @@\n-        if (labels == null) {\n-            var currentJson = request.get(\"\").execute().asObject();\n-            labels = currentJson.get(\"labels\")\n-                                .stream()\n-                                .map(s -> labelNameToLabel(s.asString()))\n-                                \/\/ Avoid throwing NPE for unknown labels\n-                                .filter(Objects::nonNull)\n-                                .sorted()\n-                                .collect(Collectors.toList());\n-        }\n+        return labels.stream()\n+                .map(this::labelNameToLabel)\n+                \/\/ Avoid throwing NPE for unknown labels\n+                .filter(Objects::nonNull)\n+                .toList();\n+    }\n+\n+    @Override\n+    public List<String> labelNames() {\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"}]}