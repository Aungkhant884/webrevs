{"files":[{"patch":"@@ -220,0 +220,8 @@\n+            } finally {\n+                \/\/ Invalidate any related GET caches\n+                var postUriString = unauthenticatedRequest.uri().toString();\n+                for (var cachedResponse : cachedResponses.keySet()) {\n+                    if (cachedResponse.unauthenticatedRequest.uri().toString().startsWith(postUriString)) {\n+                        cachedUpdated.put(cachedResponse, Instant.now().minus(Duration.ofDays(1)));\n+                    }\n+                }\n","filename":"network\/src\/main\/java\/org\/openjdk\/skara\/network\/RestRequestCache.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -271,0 +271,32 @@\n+    @Test\n+    void cacheFlush() throws IOException {\n+        try (var receiver = new RestReceiver()) {\n+            var request = new RestRequest(receiver.getEndpoint());\n+            request.get(\"\/test\").execute();\n+            assertFalse(receiver.usedCached());\n+            request.post(\"\/test\").execute();\n+            request.get(\"\/test\").execute();\n+            assertFalse(receiver.usedCached());\n+            var anotherRequest = new RestRequest(receiver.getEndpoint());\n+            request.post(\"\/test\").execute();\n+            anotherRequest.get(\"\/test\").execute();\n+            assertFalse(receiver.usedCached());\n+        }\n+    }\n+\n+    @Test\n+    void cacheFlushPartial() throws IOException {\n+        try (var receiver = new RestReceiver()) {\n+            var request = new RestRequest(receiver.getEndpoint());\n+            request.get(\"\/test?1\").execute();\n+            assertFalse(receiver.usedCached());\n+            request.get(\"\/test?1\").execute();\n+            assertTrue(receiver.usedCached());\n+            request.post(\"\/test\").execute();\n+            request.get(\"\/test?1\").execute();\n+            assertFalse(receiver.usedCached());\n+            request.get(\"\/test?1\").execute();\n+            assertTrue(receiver.usedCached());\n+        }\n+    }\n+\n","filename":"network\/src\/test\/java\/org\/openjdk\/skara\/network\/RestRequestTests.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"modified"}]}