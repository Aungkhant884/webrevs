{"files":[{"patch":"@@ -194,0 +194,1 @@\n+        }\n@@ -195,6 +196,5 @@\n-            var alreadyPostedComment = realIssue.get().comments().stream()\n-                    .filter(comment -> comment.author().equals(issueProject.issueTracker().currentUser()))\n-                    .anyMatch(comment -> comment.body().contains(pullRequestTip) && comment.body().contains(pr.webUrl().toString()));\n-            if (!alreadyPostedComment) {\n-                realIssue.get().addComment(pullRequestToTextBrief(pr));\n-            }\n+        var alreadyPostedComment = realIssue.get().comments().stream()\n+                .filter(comment -> comment.author().equals(issueProject.issueTracker().currentUser()))\n+                .anyMatch(comment -> comment.body().contains(pullRequestTip) && comment.body().contains(pr.webUrl().toString()));\n+        if (!alreadyPostedComment) {\n+            realIssue.get().addComment(pullRequestToTextBrief(pr));\n","filename":"bots\/notify\/src\/main\/java\/org\/openjdk\/skara\/bots\/notify\/issue\/IssueNotifier.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -341,1 +341,3 @@\n-            assertEquals(0, comments.size());\n+            assertEquals(1, comments.size());\n+            assertTrue(comments.get(0).body().contains(pullRequestTip));\n+            assertTrue(comments.get(0).body().contains(pr.webUrl().toString()));\n","filename":"bots\/notify\/src\/test\/java\/org\/openjdk\/skara\/bots\/notify\/issue\/IssueNotifierTests.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -369,3 +369,1 @@\n-        request.delete(\"issues\/comments\/\" + comment.id())\n-               .onError(e -> e.statusCode() == 404 ? Optional.of(JSON.object().put(\"already_deleted\", true)) : Optional.empty())\n-               .execute();\n+        throw new RuntimeException(\"not implemented yet\");\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/github\/GitHubPullRequest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -408,5 +408,1 @@\n-        log.fine(\"Removing a existing comment \" + comment.id());\n-        request.delete(\"notes\/\" + comment.id())\n-               .onError(e -> e.statusCode() == 404 ? Optional.of(JSON.object().put(\"already_deleted\", true)) : Optional.empty())\n-               .execute();\n-        log.fine(\"Id of removed comment: \" + comment.id());\n+        throw new RuntimeException(\"not implemented yet\");\n","filename":"forge\/src\/main\/java\/org\/openjdk\/skara\/forge\/gitlab\/GitLabMergeRequest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"}]}