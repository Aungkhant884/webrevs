{"files":[{"patch":"@@ -368,2 +368,1 @@\n-    UNUSED_PARAM(length);\n-    m_data.append(*data->data());\n+    m_data.append(data->data(), (size_t)length);\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/WebCore\/platform\/network\/java\/URLLoader.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -434,0 +434,37 @@\n+\n+    \/\/ JDK-8311097 Synchronous XMLHttpRequest not receiving data\n+    @Test public void testSynchronousDataRequest() {\n+        final String TEXT = \"pass\";\n+        final String FILE = \"src\/test\/resources\/test\/html\/sync-request.html\";\n+        load(new File(FILE));\n+        final WebEngine web = getEngine();\n+\n+        assertTrue(\"Load task completed successfully\", getLoadState() == SUCCEEDED);\n+\n+        \/\/ DOM access should happen on FX thread\n+        submit(() -> {\n+            Document doc = web.getDocument();\n+            assertNotNull(\"Document should not be null\", doc);\n+\n+            var body = doc.getDocumentElement().getLastChild();\n+            String text = getTargetText(body);\n+            assertEquals(\"Found expected text\",\n+                    TEXT, text);\n+        });\n+    }\n+\n+    private String getId(Node n) {\n+        if (Node.ELEMENT_NODE == n.getNodeType()) {\n+            return ((Element)n).getAttribute(\"id\");\n+        }\n+        return \"\";\n+    }\n+\n+    private String getTargetText(Node body) {\n+        Node c = body.getFirstChild();\n+        while (!\"target\".equals(getId(c))) {\n+            c = c.getNextSibling();\n+        }\n+        assertNotNull(\"Found target element\", c);\n+        return c.getTextContent();\n+    }\n","filename":"modules\/javafx.web\/src\/test\/java\/test\/javafx\/scene\/web\/LoadTest.java","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -0,0 +1,1 @@\n+pass\n\\ No newline at end of file\n","filename":"modules\/javafx.web\/src\/test\/resources\/test\/html\/data.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,12 @@\n+<!DOCTYPE html>\n+<html>\n+<body>\n+    <h2 id=\"target\">fail<\/h2>\n+    <script>\n+        var xhttp = new XMLHttpRequest();\n+        xhttp.open(\"GET\", \"data.xml\", false);\n+        xhttp.send();\n+        document.getElementById(\"target\").innerHTML = xhttp.responseText;\n+    <\/script>\n+<\/body>\n+<\/html>\n","filename":"modules\/javafx.web\/src\/test\/resources\/test\/html\/sync-request.html","additions":12,"deletions":0,"binary":false,"changes":12,"status":"added"}]}