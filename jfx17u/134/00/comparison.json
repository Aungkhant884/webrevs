{"files":[{"patch":"@@ -0,0 +1,98 @@\n+\/*\n+ * Copyright (C) 2023 Sony Interactive Entertainment Inc. All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in the\n+ *    documentation and\/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n+ * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+ * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n+ * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+ * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+ * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+ * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n+ * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n+ * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ *\/\n+\n+#pragma once\n+\n+#include \"FontPlatformData.h\"\n+#include <wtf\/Forward.h>\n+#include <wtf\/Noncopyable.h>\n+\n+#if PLATFORM(WIN)\n+#include <wtf\/text\/WTFString.h>\n+#elif USE(CORE_TEXT)\n+#include <CoreFoundation\/CFBase.h>\n+#include <wtf\/RetainPtr.h>\n+\n+typedef struct CGFont* CGFontRef;\n+typedef const struct __CTFontDescriptor* CTFontDescriptorRef;\n+#elif PLATFORM(JAVA)\n+#include \"TextFlags.h\"\n+#include \"RenderStyleConstants.h\"\n+#include <wtf\/java\/JavaRef.h> \/\/ todo tav remove when building w\/ pch\n+#else\n+#include \"RefPtrCairo.h\"\n+\n+typedef struct FT_FaceRec_*  FT_Face;\n+#endif\n+\n+namespace WebCore {\n+\n+class SharedBuffer;\n+class FontDescription;\n+class FontCreationContext;\n+class FragmentedSharedBuffer;\n+\n+template <typename T> class FontTaggedSettings;\n+typedef FontTaggedSettings<int> FontFeatureSettings;\n+\n+struct FontCustomPlatformData {\n+    WTF_MAKE_FAST_ALLOCATED;\n+    WTF_MAKE_NONCOPYABLE(FontCustomPlatformData);\n+public:\n+#if PLATFORM(WIN)\n+    FontCustomPlatformData(const String& name, FontPlatformData::CreationData&&);\n+#elif USE(CORE_TEXT)\n+    FontCustomPlatformData(CTFontDescriptorRef fontDescriptor, FontPlatformData::CreationData&& creationData)\n+        : fontDescriptor(fontDescriptor)\n+        , creationData(WTFMove(creationData))\n+    {\n+    }\n+#elif PLATFORM(JAVA)\n+    FontCustomPlatformData(const JLObject& data);\n+#else\n+    FontCustomPlatformData(FT_Face, FragmentedSharedBuffer&);\n+#endif\n+    WEBCORE_EXPORT ~FontCustomPlatformData();\n+\n+    FontPlatformData fontPlatformData(const FontDescription&, bool bold, bool italic, const FontCreationContext&);\n+\n+    static bool supportsFormat(const String&);\n+\n+#if PLATFORM(WIN)\n+    String name;\n+    FontPlatformData::CreationData creationData;\n+#elif USE(CORE_TEXT)\n+    RetainPtr<CTFontDescriptorRef> fontDescriptor;\n+    FontPlatformData::CreationData creationData;\n+#elif PLATFORM(JAVA)\n+        JGObject m_data;\n+#else\n+    RefPtr<cairo_font_face_t> m_fontFace;\n+#endif\n+};\n+\n+WEBCORE_EXPORT std::unique_ptr<FontCustomPlatformData> createFontCustomPlatformData(SharedBuffer&, const String&);\n+\n+} \/\/ namespace WebCore\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/WebCore\/platform\/graphics\/FontCustomPlatformData.h","additions":98,"deletions":0,"binary":false,"changes":98,"status":"added"},{"patch":"@@ -1,58 +0,0 @@\n-\/*\n- * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-#pragma once\n-\n-#include \"TextFlags.h\"\n-#include \"RenderStyleConstants.h\"\n-#include <wtf\/Forward.h>\n-#include <wtf\/Noncopyable.h>\n-\n-#include <wtf\/java\/JavaRef.h> \/\/ todo tav remove when building w\/ pch\n-\n-namespace WebCore {\n-\n-class FontDescription;\n-class FontPlatformData;\n-class SharedBuffer;\n-class FontCreationContext;\n-\n-struct FontCustomPlatformData {\n-    WTF_MAKE_NONCOPYABLE(FontCustomPlatformData);\n-public:\n-    FontCustomPlatformData(const JLObject& data);\n-    ~FontCustomPlatformData();\n-\n-    FontPlatformData fontPlatformData(const FontDescription&, bool bold, bool italic, const FontCreationContext&);\n-\n-    static bool supportsFormat(const String&);\n-\n-private:\n-    JGObject m_data;\n-};\n-\n-std::unique_ptr<FontCustomPlatformData> createFontCustomPlatformData(SharedBuffer&, const String&);\n-\n-} \/\/ namespace WebCore\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/WebCore\/platform\/graphics\/java\/FontCustomPlatformData.h","additions":0,"deletions":58,"binary":false,"changes":58,"status":"deleted"}]}