{"files":[{"patch":"@@ -1584,1 +1584,1 @@\n-        if (index >= getCellCount() - 1) {\n+        if (index > getCellCount() - 1) {\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/VirtualFlow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1864,1 +1864,1 @@\n-        assertEquals(7, selectedIndicesCount);\n+        assertEquals(8, selectedIndicesCount);\n@@ -1867,2 +1867,2 @@\n-        assertEquals(99 - diff * 2, sm.getSelectedIndex());\n-        assertEquals(selectedIndicesCount * 2 - 1, sm.getSelectedIndices().size());\n+        assertEquals(99 - diff * 2 + 1, sm.getSelectedIndex());\n+        assertEquals(selectedIndicesCount * 2 - 2, sm.getSelectedIndices().size());\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ListViewKeyInputTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -3663,1 +3663,1 @@\n-        assertEquals(cellCountAtStart + 13, rt36452_instanceCount);\n+        assertEquals(cellCountAtStart + 14, rt36452_instanceCount);\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TreeTableViewTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1146,0 +1146,37 @@\n+    @Test\n+    public void testScrollToTopOfLastLargeCell() {\n+        double flowHeight = 150;\n+        int cellCount = 2;\n+\n+        flow = new VirtualFlowShim<>();\n+        flow.setCellFactory(p -> new CellStub(flow) {\n+            @Override\n+            protected double computePrefHeight(double width) {\n+                return getIndex() == cellCount -1 ? 200 : 100;\n+            }\n+\n+            @Override\n+            protected double computeMinHeight(double width) {\n+                return computePrefHeight(width);\n+            }\n+\n+            @Override\n+            protected double computeMaxHeight(double width) {\n+                return computePrefHeight(width);\n+            }\n+        });\n+        flow.setVertical(true);\n+\n+        flow.resize(50,flowHeight);\n+        flow.setCellCount(cellCount);\n+        pulse();\n+\n+        flow.scrollToTop(cellCount - 1);\n+        pulse();\n+\n+        IndexedCell<?> cell = flow.getCell(cellCount - 1);\n+        double cellPosition = flow.getCellPosition(cell);\n+\n+        assertEquals(\"Last cell must be aligned to top of the viewport\", 0, cellPosition, 0.1);\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/VirtualFlowTest.java","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"}]}