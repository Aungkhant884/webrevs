{"files":[{"patch":"@@ -1,1 +1,1 @@\n-## GNU Glib v2.66.7\n+## GNU Glib v2.72.0\n@@ -6,1 +6,1 @@\n-You are receiving a copy of GNU Glib, Version: 2.66.7 in either source or\n+You are receiving a copy of GNU Glib, Version: 2.72.0 in either source or\n@@ -8,1 +8,1 @@\n-Oracle license do NOT apply to the GNU Glib, Version: 2.66.7; it is\n+Oracle license do NOT apply to the GNU Glib, Version: 2.72.0; it is\n","filename":"modules\/javafx.media\/src\/main\/legal\/glib.md","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-## GStreamer v1.18.4\n+## GStreamer v1.20.1\n@@ -6,1 +6,1 @@\n-You are receiving a copy of GStreamer, Version: 1.18.4 in either source or\n+You are receiving a copy of GStreamer, Version: 1.20.1 in either source or\n@@ -8,1 +8,1 @@\n-Oracle license do NOT apply to the GStreamer, Version: 1.18.4; it is\n+Oracle license do NOT apply to the GStreamer, Version: 1.20.1; it is\n","filename":"modules\/javafx.media\/src\/main\/legal\/gstreamer.md","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-#define GLIB_BINARY_AGE 6607\n+#define GLIB_BINARY_AGE 7200\n@@ -54,1 +54,1 @@\n-#define GLIB_MICRO_VERSION 7\n+#define GLIB_MICRO_VERSION 0\n@@ -57,1 +57,1 @@\n-#define GLIB_MINOR_VERSION 66\n+#define GLIB_MINOR_VERSION 72\n@@ -708,1 +708,1 @@\n-#define PACKAGE_STRING \"glib 2.66.7\"\n+#define PACKAGE_STRING \"glib 2.72.0\"\n@@ -717,1 +717,1 @@\n-#define PACKAGE_VERSION \"2.66.7\"\n+#define PACKAGE_VERSION \"2.72.0\"\n@@ -869,1 +869,1 @@\n-#endif \/\/ GSTREAMER_LITE\n+#endif \/\/ GSTREAMER_LITE\n\\ No newline at end of file\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/config.h","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -23,0 +23,2 @@\n+\/* #undef G_INTL_STATIC_COMPILATION *\/\n+\/* #undef FFI_STATIC_BUILD *\/\n@@ -26,13 +28,13 @@\n-#define G_MINFLOAT  FLT_MIN\n-#define G_MAXFLOAT  FLT_MAX\n-#define G_MINDOUBLE DBL_MIN\n-#define G_MAXDOUBLE DBL_MAX\n-#define G_MINSHORT  SHRT_MIN\n-#define G_MAXSHORT  SHRT_MAX\n-#define G_MAXUSHORT USHRT_MAX\n-#define G_MININT    INT_MIN\n-#define G_MAXINT    INT_MAX\n-#define G_MAXUINT   UINT_MAX\n-#define G_MINLONG   LONG_MIN\n-#define G_MAXLONG   LONG_MAX\n-#define G_MAXULONG  ULONG_MAX\n+#define G_MINFLOAT      FLT_MIN\n+#define G_MAXFLOAT      FLT_MAX\n+#define G_MINDOUBLE     DBL_MIN\n+#define G_MAXDOUBLE     DBL_MAX\n+#define G_MINSHORT      SHRT_MIN\n+#define G_MAXSHORT      SHRT_MAX\n+#define G_MAXUSHORT     USHRT_MAX\n+#define G_MININT        INT_MIN\n+#define G_MAXINT        INT_MAX\n+#define G_MAXUINT       UINT_MAX\n+#define G_MINLONG       LONG_MIN\n+#define G_MAXLONG       LONG_MAX\n+#define G_MAXULONG      ULONG_MAX\n@@ -84,3 +86,3 @@\n-#define G_MAXSIZE   G_MAXULONG\n-#define G_MINSSIZE  G_MINLONG\n-#define G_MAXSSIZE  G_MAXLONG\n+#define G_MAXSIZE       G_MAXULONG\n+#define G_MINSSIZE      G_MINLONG\n+#define G_MAXSSIZE      G_MAXLONG\n@@ -89,2 +91,2 @@\n-#define G_MINOFFSET G_MININT64\n-#define G_MAXOFFSET G_MAXINT64\n+#define G_MINOFFSET     G_MININT64\n+#define G_MAXOFFSET     G_MAXINT64\n@@ -98,2 +100,2 @@\n-#define GPOINTER_TO_INT(p)  ((gint)  (glong) (p))\n-#define GPOINTER_TO_UINT(p) ((guint) (gulong) (p))\n+#define GPOINTER_TO_INT(p)      ((gint)  (glong) (p))\n+#define GPOINTER_TO_UINT(p)     ((guint) (gulong) (p))\n@@ -101,2 +103,2 @@\n-#define GINT_TO_POINTER(i)  ((gpointer) (glong) (i))\n-#define GUINT_TO_POINTER(u) ((gpointer) (gulong) (u))\n+#define GINT_TO_POINTER(i)      ((gpointer) (glong) (i))\n+#define GUINT_TO_POINTER(u)     ((gpointer) (gulong) (u))\n@@ -112,2 +114,2 @@\n-#define GLIB_MINOR_VERSION 66\n-#define GLIB_MICRO_VERSION 7\n+#define GLIB_MINOR_VERSION 72\n+#define GLIB_MICRO_VERSION 0\n@@ -159,27 +161,27 @@\n-#define GINT16_TO_LE(val)   ((gint16) (val))\n-#define GUINT16_TO_LE(val)  ((guint16) (val))\n-#define GINT16_TO_BE(val)   ((gint16) GUINT16_SWAP_LE_BE (val))\n-#define GUINT16_TO_BE(val)  (GUINT16_SWAP_LE_BE (val))\n-\n-#define GINT32_TO_LE(val)   ((gint32) (val))\n-#define GUINT32_TO_LE(val)  ((guint32) (val))\n-#define GINT32_TO_BE(val)   ((gint32) GUINT32_SWAP_LE_BE (val))\n-#define GUINT32_TO_BE(val)  (GUINT32_SWAP_LE_BE (val))\n-\n-#define GINT64_TO_LE(val)   ((gint64) (val))\n-#define GUINT64_TO_LE(val)  ((guint64) (val))\n-#define GINT64_TO_BE(val)   ((gint64) GUINT64_SWAP_LE_BE (val))\n-#define GUINT64_TO_BE(val)  (GUINT64_SWAP_LE_BE (val))\n-\n-#define GLONG_TO_LE(val)    ((glong) GINT64_TO_LE (val))\n-#define GULONG_TO_LE(val)   ((gulong) GUINT64_TO_LE (val))\n-#define GLONG_TO_BE(val)    ((glong) GINT64_TO_BE (val))\n-#define GULONG_TO_BE(val)   ((gulong) GUINT64_TO_BE (val))\n-#define GINT_TO_LE(val)     ((gint) GINT32_TO_LE (val))\n-#define GUINT_TO_LE(val)    ((guint) GUINT32_TO_LE (val))\n-#define GINT_TO_BE(val)     ((gint) GINT32_TO_BE (val))\n-#define GUINT_TO_BE(val)    ((guint) GUINT32_TO_BE (val))\n-#define GSIZE_TO_LE(val)    ((gsize) GUINT64_TO_LE (val))\n-#define GSSIZE_TO_LE(val)   ((gssize) GINT64_TO_LE (val))\n-#define GSIZE_TO_BE(val)    ((gsize) GUINT64_TO_BE (val))\n-#define GSSIZE_TO_BE(val)   ((gssize) GINT64_TO_BE (val))\n+#define GINT16_TO_LE(val)       ((gint16) (val))\n+#define GUINT16_TO_LE(val)      ((guint16) (val))\n+#define GINT16_TO_BE(val)       ((gint16) GUINT16_SWAP_LE_BE (val))\n+#define GUINT16_TO_BE(val)      (GUINT16_SWAP_LE_BE (val))\n+\n+#define GINT32_TO_LE(val)       ((gint32) (val))\n+#define GUINT32_TO_LE(val)      ((guint32) (val))\n+#define GINT32_TO_BE(val)       ((gint32) GUINT32_SWAP_LE_BE (val))\n+#define GUINT32_TO_BE(val)      (GUINT32_SWAP_LE_BE (val))\n+\n+#define GINT64_TO_LE(val)       ((gint64) (val))\n+#define GUINT64_TO_LE(val)      ((guint64) (val))\n+#define GINT64_TO_BE(val)       ((gint64) GUINT64_SWAP_LE_BE (val))\n+#define GUINT64_TO_BE(val)      (GUINT64_SWAP_LE_BE (val))\n+\n+#define GLONG_TO_LE(val)        ((glong) GINT64_TO_LE (val))\n+#define GULONG_TO_LE(val)       ((gulong) GUINT64_TO_LE (val))\n+#define GLONG_TO_BE(val)        ((glong) GINT64_TO_BE (val))\n+#define GULONG_TO_BE(val)       ((gulong) GUINT64_TO_BE (val))\n+#define GINT_TO_LE(val)         ((gint) GINT32_TO_LE (val))\n+#define GUINT_TO_LE(val)        ((guint) GUINT32_TO_LE (val))\n+#define GINT_TO_BE(val)         ((gint) GINT32_TO_BE (val))\n+#define GUINT_TO_BE(val)        ((guint) GUINT32_TO_BE (val))\n+#define GSIZE_TO_LE(val)        ((gsize) GUINT64_TO_LE (val))\n+#define GSSIZE_TO_LE(val)       ((gssize) GINT64_TO_LE (val))\n+#define GSIZE_TO_BE(val)        ((gsize) GUINT64_TO_BE (val))\n+#define GSSIZE_TO_BE(val)       ((gssize) GINT64_TO_BE (val))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/glibconfig.h","additions":53,"deletions":51,"binary":false,"changes":104,"status":"modified"},{"patch":"@@ -26,4 +26,4 @@\n-#define G_MODULE_IMPL_NONE  0\n-#define G_MODULE_IMPL_DL    1\n-#define G_MODULE_IMPL_WIN32 3\n-#define G_MODULE_IMPL_AR    7\n+#define G_MODULE_IMPL_NONE      0\n+#define G_MODULE_IMPL_DL        1\n+#define G_MODULE_IMPL_WIN32     3\n+#define G_MODULE_IMPL_AR        7\n@@ -31,1 +31,1 @@\n-#define G_MODULE_IMPL       G_MODULE_IMPL_DL\n+#define G_MODULE_IMPL           G_MODULE_IMPL_DL\n@@ -33,1 +33,1 @@\n-#if (1)\n+#if     (1)\n@@ -36,1 +36,1 @@\n-#if (0)\n+#if     (0)\n@@ -39,1 +39,1 @@\n-#if (0)\n+#if     (0)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/osx\/gmoduleconf.h","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -31,8 +31,8 @@\n-#define _tdirent  _wdirent\n-#define _TDIR     _WDIR\n-#define _topendir _wopendir\n-#define _tclosedir  _wclosedir\n-#define _treaddir _wreaddir\n-#define _trewinddir _wrewinddir\n-#define _ttelldir _wtelldir\n-#define _tseekdir _wseekdir\n+#define _tdirent        _wdirent\n+#define _TDIR           _WDIR\n+#define _topendir       _wopendir\n+#define _tclosedir      _wclosedir\n+#define _treaddir       _wreaddir\n+#define _trewinddir     _wrewinddir\n+#define _ttelldir       _wtelldir\n+#define _tseekdir       _wseekdir\n@@ -40,8 +40,8 @@\n-#define _tdirent  dirent\n-#define _TDIR     DIR\n-#define _topendir opendir\n-#define _tclosedir  closedir\n-#define _treaddir readdir\n-#define _trewinddir rewinddir\n-#define _ttelldir telldir\n-#define _tseekdir seekdir\n+#define _tdirent        dirent\n+#define _TDIR           DIR\n+#define _topendir       opendir\n+#define _tclosedir      closedir\n+#define _treaddir       readdir\n+#define _trewinddir     rewinddir\n+#define _ttelldir       telldir\n+#define _tseekdir       seekdir\n@@ -51,1 +51,1 @@\n-#define SLASH _T(\"\\\\\")\n+#define SLASH   _T(\"\\\\\")\n@@ -102,1 +102,1 @@\n-       _tcslen(SUFFIX) + 1) * sizeof(_TCHAR));\n+                         _tcslen(SUFFIX) + 1) * sizeof(_TCHAR));\n@@ -138,1 +138,1 @@\n-  memset (nd->dd_dir.d_name, 0, FILENAME_MAX);\n+  memset (nd->dd_dir.d_name, 0, sizeof (nd->dd_dir.d_name));\n@@ -174,6 +174,6 @@\n-      if (dirp->dd_handle == -1)\n-  {\n-    \/* Whoops! Seems there are no files in that\n-     * directory. *\/\n-    dirp->dd_stat = -1;\n-  }\n+          if (dirp->dd_handle == -1)\n+        {\n+          \/* Whoops! Seems there are no files in that\n+           * directory. *\/\n+          dirp->dd_stat = -1;\n+        }\n@@ -181,3 +181,3 @@\n-  {\n-    dirp->dd_stat = 1;\n-  }\n+        {\n+          dirp->dd_stat = 1;\n+        }\n@@ -189,11 +189,11 @@\n-  {\n-    \/* We are off the end or otherwise error.\n-       _findnext sets errno to ENOENT if no more file\n-       Undo this. *\/\n-    DWORD winerr = GetLastError();\n-    if (winerr == ERROR_NO_MORE_FILES)\n-      errno = 0;\n-    _findclose (dirp->dd_handle);\n-    dirp->dd_handle = -1;\n-    dirp->dd_stat = -1;\n-  }\n+        {\n+          \/* We are off the end or otherwise error.\n+             _findnext sets errno to ENOENT if no more file\n+             Undo this. *\/\n+          DWORD winerr = GetLastError();\n+          if (winerr == ERROR_NO_MORE_FILES)\n+            errno = 0;\n+          _findclose (dirp->dd_handle);\n+          dirp->dd_handle = -1;\n+          dirp->dd_stat = -1;\n+        }\n@@ -201,5 +201,5 @@\n-  {\n-    \/* Update the status to indicate the correct\n-     * number. *\/\n-    dirp->dd_stat++;\n-  }\n+        {\n+          \/* Update the status to indicate the correct\n+           * number. *\/\n+          dirp->dd_stat++;\n+        }\n@@ -327,3 +327,3 @@\n-  {\n-    _findclose (dirp->dd_handle);\n-  }\n+        {\n+          _findclose (dirp->dd_handle);\n+        }\n@@ -339,1 +339,1 @@\n-  ;\n+        ;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/dirent\/dirent.c","additions":48,"deletions":48,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -22,4 +22,4 @@\n-  long    d_ino;    \/* Always zero. *\/\n-  unsigned short  d_reclen; \/* Always zero. *\/\n-  unsigned short  d_namlen; \/* Length of name in d_name. *\/\n-  char    d_name[FILENAME_MAX]; \/* File name. *\/\n+        long            d_ino;          \/* Always zero. *\/\n+        unsigned short  d_reclen;       \/* Always zero. *\/\n+        unsigned short  d_namlen;       \/* Length of name in d_name. *\/\n+        char            d_name[FILENAME_MAX+1]; \/* File name plus nul delimiter. *\/\n@@ -41,2 +41,2 @@\n-  \/* disk transfer area for this dir *\/\n-  struct _finddata_t  dd_dta;\n+        \/* disk transfer area for this dir *\/\n+        struct _finddata_t      dd_dta;\n@@ -44,4 +44,4 @@\n-  \/* dirent struct to return from dir (NOTE: this makes this thread\n-   * safe as long as only one thread uses a particular DIR struct at\n-   * a time) *\/\n-  struct dirent   dd_dir;\n+        \/* dirent struct to return from dir (NOTE: this makes this thread\n+         * safe as long as only one thread uses a particular DIR struct at\n+         * a time) *\/\n+        struct dirent           dd_dir;\n@@ -49,2 +49,2 @@\n-  \/* _findnext handle *\/\n-  INTPTR      dd_handle;\n+        \/* _findnext handle *\/\n+        INTPTR                  dd_handle;\n@@ -52,1 +52,1 @@\n-  \/*\n+        \/*\n@@ -54,8 +54,8 @@\n-   *   0 = not started yet (next entry to read is first entry)\n-   *  -1 = off the end\n-   *   positive = 0 based index of next entry\n-   *\/\n-  int     dd_stat;\n-\n-  \/* given path for dir with search pattern (struct is extended) *\/\n-  char      dd_name[1];\n+         *   0 = not started yet (next entry to read is first entry)\n+         *  -1 = off the end\n+         *   positive = 0 based index of next entry\n+         *\/\n+        int                     dd_stat;\n+\n+        \/* given path for dir with search pattern (struct is extended) *\/\n+        char                    dd_name[1];\n@@ -76,4 +76,4 @@\n-  long    d_ino;    \/* Always zero. *\/\n-  unsigned short  d_reclen; \/* Always zero. *\/\n-  unsigned short  d_namlen; \/* Length of name in d_name. *\/\n-  wchar_t   d_name[FILENAME_MAX]; \/* File name. *\/\n+        long            d_ino;          \/* Always zero. *\/\n+        unsigned short  d_reclen;       \/* Always zero. *\/\n+        unsigned short  d_namlen;       \/* Length of name in d_name. *\/\n+        wchar_t         d_name[FILENAME_MAX+1]; \/* File name plus nul delimiter. *\/\n@@ -88,2 +88,2 @@\n-  \/* disk transfer area for this dir *\/\n-  struct _wfinddata_t dd_dta;\n+        \/* disk transfer area for this dir *\/\n+        struct _wfinddata_t     dd_dta;\n@@ -91,4 +91,4 @@\n-  \/* dirent struct to return from dir (NOTE: this makes this thread\n-   * safe as long as only one thread uses a particular DIR struct at\n-   * a time) *\/\n-  struct _wdirent   dd_dir;\n+        \/* dirent struct to return from dir (NOTE: this makes this thread\n+         * safe as long as only one thread uses a particular DIR struct at\n+         * a time) *\/\n+        struct _wdirent         dd_dir;\n@@ -96,2 +96,2 @@\n-  \/* _findnext handle *\/\n-  INTPTR      dd_handle;\n+        \/* _findnext handle *\/\n+        INTPTR                  dd_handle;\n@@ -99,1 +99,1 @@\n-  \/*\n+        \/*\n@@ -101,8 +101,8 @@\n-   *   0 = not started yet (next entry to read is first entry)\n-   *  -1 = off the end\n-   *   positive = 0 based index of next entry\n-   *\/\n-  int     dd_stat;\n-\n-  \/* given path for dir with search pattern (struct is extended) *\/\n-  wchar_t     dd_name[1];\n+         *   0 = not started yet (next entry to read is first entry)\n+         *  -1 = off the end\n+         *   positive = 0 based index of next entry\n+         *\/\n+        int                     dd_stat;\n+\n+        \/* given path for dir with search pattern (struct is extended) *\/\n+        wchar_t                 dd_name[1];\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/dirent\/dirent.h","additions":42,"deletions":42,"binary":false,"changes":84,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-#define GLIB_BINARY_AGE 6202\n+#define GLIB_BINARY_AGE 7200\n@@ -53,1 +53,1 @@\n-#define GLIB_MICRO_VERSION 2\n+#define GLIB_MICRO_VERSION 0\n@@ -56,1 +56,1 @@\n-#define GLIB_MINOR_VERSION 62\n+#define GLIB_MINOR_VERSION 72\n@@ -296,0 +296,2 @@\n+#define HAVE__ALIGNED_MALLOC 1\n+\n@@ -693,1 +695,1 @@\n-#define PACKAGE_STRING \"glib 2.62.2\"\n+#define PACKAGE_STRING \"glib 2.72.0\"\n@@ -702,1 +704,1 @@\n-#define PACKAGE_VERSION \"2.62.2\"\n+#define PACKAGE_VERSION \"2.72.0\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/config.h","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -125,394 +125,402 @@\n-g_hash_table_get_keys\t@124\tNONAME\n-g_hash_table_get_values\t@125\tNONAME\n-g_hash_table_insert\t@126\tNONAME\n-g_hash_table_iter_init\t@127\tNONAME\n-g_hash_table_iter_next\t@128\tNONAME\n-g_hash_table_lookup\t@129\tNONAME\n-g_hash_table_new\t@130\tNONAME\n-g_hash_table_new_full\t@131\tNONAME\n-g_hash_table_ref\t@132\tNONAME\n-g_hash_table_remove\t@133\tNONAME\n-g_hash_table_replace\t@134\tNONAME\n-g_hash_table_size\t@135\tNONAME\n-g_hash_table_unref\t@136\tNONAME\n-g_hook_alloc\t@137\tNONAME\n-g_hook_destroy_link\t@138\tNONAME\n-g_hook_get\t@139\tNONAME\n-g_hook_insert_before\t@140\tNONAME\n-g_hook_list_clear\t@141\tNONAME\n-g_hook_list_init\t@142\tNONAME\n-g_hook_list_marshal\t@143\tNONAME\n-g_initially_unowned_get_type\t@144\tNONAME\n-g_int_equal\t@145\tNONAME\n-g_int_hash\t@146\tNONAME\n-g_intern_static_string\t@147\tNONAME\n-g_intern_string\t@148\tNONAME\n-g_key_file_free\t@149\tNONAME\n-g_key_file_get_comment\t@150\tNONAME\n-g_key_file_get_groups\t@151\tNONAME\n-g_key_file_get_keys\t@152\tNONAME\n-g_key_file_get_value\t@153\tNONAME\n-g_key_file_has_group\t@154\tNONAME\n-g_key_file_load_from_file\t@155\tNONAME\n-g_key_file_new\t@156\tNONAME\n-g_key_file_remove_group\t@157\tNONAME\n-g_key_file_remove_key\t@158\tNONAME\n-g_key_file_set_comment\t@159\tNONAME\n-g_key_file_set_string\t@160\tNONAME\n-g_key_file_set_value\t@161\tNONAME\n-g_key_file_to_data\t@162\tNONAME\n-g_list_alloc\t@163\tNONAME\n-g_list_append\t@164\tNONAME\n-g_list_concat\t@165\tNONAME\n-g_list_copy\t@166\tNONAME\n-g_list_copy_deep\t@167\tNONAME\n-g_list_delete_link\t@168\tNONAME\n-g_list_find\t@169\tNONAME\n-g_list_find_custom\t@170\tNONAME\n-g_list_foreach\t@171\tNONAME\n-g_list_free\t@172\tNONAME\n-g_list_free_full\t@173\tNONAME\n-g_list_index\t@174\tNONAME\n-g_list_insert\t@175\tNONAME\n-g_list_insert_before\t@176\tNONAME\n-g_list_insert_sorted\t@177\tNONAME\n-g_list_last\t@178\tNONAME\n-g_list_length\t@179\tNONAME\n-g_list_nth_data\t@180\tNONAME\n-g_list_position\t@181\tNONAME\n-g_list_prepend\t@182\tNONAME\n-g_list_remove\t@183\tNONAME\n-g_list_remove_link\t@184\tNONAME\n-g_list_reverse\t@185\tNONAME\n-g_list_sort\t@186\tNONAME\n-g_locale_to_utf8\t@187\tNONAME\n-g_log\t@188\tNONAME\n-g_log_default_handler\t@189\tNONAME\n-g_log_set_default_handler\t@190\tNONAME\n-g_log_set_handler\t@191\tNONAME\n-g_main_context_get_thread_default\t@192\tNONAME\n-g_main_context_new\t@193\tNONAME\n-g_main_context_unref\t@194\tNONAME\n-g_main_loop_is_running\t@195\tNONAME\n-g_main_loop_new\t@196\tNONAME\n-g_main_loop_quit\t@197\tNONAME\n-g_main_loop_run\t@198\tNONAME\n-g_main_loop_unref\t@199\tNONAME\n-g_malloc\t@200\tNONAME\n-g_malloc0\t@201\tNONAME\n-g_malloc0_n\t@202\tNONAME\n-g_malloc_n\t@203\tNONAME\n-g_memdup\t@204\tNONAME\n-g_mkdir_with_parents\t@205\tNONAME\n-g_module_close\t@206\tNONAME\n-g_module_error\t@207\tNONAME\n-g_module_make_resident\t@208\tNONAME\n-g_module_open\t@209\tNONAME\n-g_module_supported\t@210\tNONAME\n-g_module_symbol\t@211\tNONAME\n-g_mutex_clear\t@212\tNONAME\n-g_mutex_init\t@213\tNONAME\n-g_mutex_lock\t@214\tNONAME\n-g_mutex_unlock\t@215\tNONAME\n-g_node_children_foreach\t@216\tNONAME\n-g_node_destroy\t@217\tNONAME\n-g_node_insert_before\t@218\tNONAME\n-g_node_new\t@219\tNONAME\n-g_node_nth_child\t@220\tNONAME\n-g_object_add_weak_pointer\t@221\tNONAME\n-g_object_class_find_property\t@222\tNONAME\n-g_object_class_install_properties\t@223\tNONAME\n-g_object_class_install_property\t@224\tNONAME\n-g_object_class_list_properties\t@225\tNONAME\n-g_object_force_floating\t@226\tNONAME\n-g_object_freeze_notify\t@227\tNONAME\n-g_object_get\t@228\tNONAME\n-g_object_get_property\t@229\tNONAME\n-g_object_interface_install_property\t@230\tNONAME\n-g_object_is_floating\t@231\tNONAME\n-g_object_new\t@232\tNONAME\n-g_object_notify\t@233\tNONAME\n-g_object_notify_by_pspec\t@234\tNONAME\n-g_object_ref\t@235\tNONAME\n-g_object_ref_sink\t@236\tNONAME\n-g_object_remove_weak_pointer\t@237\tNONAME\n-g_object_set\t@238\tNONAME\n-g_object_set_property\t@239\tNONAME\n-g_object_thaw_notify\t@240\tNONAME\n-g_object_unref\t@241\tNONAME\n-g_once_impl\t@242\tNONAME\n-g_once_init_enter\t@243\tNONAME\n-g_once_init_leave\t@244\tNONAME\n-g_param_spec_boolean\t@245\tNONAME\n-g_param_spec_boxed\t@246\tNONAME\n-g_param_spec_double\t@247\tNONAME\n-g_param_spec_enum\t@248\tNONAME\n-g_param_spec_flags\t@249\tNONAME\n-g_param_spec_float\t@250\tNONAME\n-g_param_spec_gtype\t@251\tNONAME\n-g_param_spec_int\t@252\tNONAME\n-g_param_spec_int64\t@253\tNONAME\n-g_param_spec_internal\t@254\tNONAME\n-g_param_spec_object\t@255\tNONAME\n-g_param_spec_ref\t@256\tNONAME\n-g_param_spec_sink\t@257\tNONAME\n-g_param_spec_string\t@258\tNONAME\n-g_param_spec_uint\t@259\tNONAME\n-g_param_spec_uint64\t@260\tNONAME\n-g_param_spec_unref\t@261\tNONAME\n-g_param_type_register_static\t@262\tNONAME\n-g_param_value_set_default\t@263\tNONAME\n-g_param_value_validate\t@264\tNONAME\n-g_param_values_cmp\t@265\tNONAME\n-g_path_get_basename\t@266\tNONAME\n-g_path_get_dirname\t@267\tNONAME\n-g_path_is_absolute\t@268\tNONAME\n-g_pointer_type_register_static\t@269\tNONAME\n-g_print\t@270\tNONAME\n-g_printerr\t@271\tNONAME\n-g_private_get\t@272\tNONAME\n-g_private_set\t@273\tNONAME\n-g_propagate_error\t@274\tNONAME\n-g_ptr_array_add\t@275\tNONAME\n-g_ptr_array_find_with_equal_func\t@276\tNONAME\n-g_ptr_array_foreach\t@277\tNONAME\n-g_ptr_array_free\t@278\tNONAME\n-g_ptr_array_new_full\t@279\tNONAME\n-g_ptr_array_new_with_free_func\t@280\tNONAME\n-g_ptr_array_remove_fast\t@281\tNONAME\n-g_ptr_array_remove_index\t@282\tNONAME\n-g_ptr_array_set_size\t@283\tNONAME\n-g_ptr_array_sort\t@284\tNONAME\n-g_qsort_with_data\t@285\tNONAME\n-g_quark_from_static_string\t@286\tNONAME\n-g_quark_from_string\t@287\tNONAME\n-g_quark_to_string\t@288\tNONAME\n-g_quark_try_string\t@289\tNONAME\n-g_queue_clear\t@290\tNONAME\n-g_queue_delete_link\t@291\tNONAME\n-g_queue_find\t@292\tNONAME\n-g_queue_find_custom\t@293\tNONAME\n-g_queue_foreach\t@294\tNONAME\n-g_queue_free\t@295\tNONAME\n-g_queue_get_length\t@296\tNONAME\n-g_queue_init\t@297\tNONAME\n-g_queue_is_empty\t@298\tNONAME\n-g_queue_new\t@299\tNONAME\n-g_queue_peek_nth\t@300\tNONAME\n-g_queue_pop_head\t@301\tNONAME\n-g_queue_push_head\t@302\tNONAME\n-g_queue_push_tail\t@303\tNONAME\n-g_queue_remove\t@304\tNONAME\n-g_queue_sort\t@305\tNONAME\n-g_random_int\t@306\tNONAME\n-g_realloc\t@307\tNONAME\n-g_realloc_n\t@308\tNONAME\n-g_rec_mutex_clear\t@309\tNONAME\n-g_rec_mutex_init\t@310\tNONAME\n-g_rec_mutex_lock\t@311\tNONAME\n-g_rec_mutex_unlock\t@312\tNONAME\n-g_rename\t@313\tNONAME\n-g_rw_lock_init\t@314\tNONAME\n-g_rw_lock_reader_lock\t@315\tNONAME\n-g_rw_lock_reader_unlock\t@316\tNONAME\n-g_rw_lock_writer_lock\t@317\tNONAME\n-g_rw_lock_writer_unlock\t@318\tNONAME\n-g_set_error\t@319\tNONAME\n-g_set_error_literal\t@320\tNONAME\n-g_signal_connect_data\t@321\tNONAME\n-g_signal_emit\t@322\tNONAME\n-g_signal_handler_disconnect\t@323\tNONAME\n-g_signal_handlers_destroy\t@324\tNONAME\n-g_signal_handlers_disconnect_matched\t@325\tNONAME\n-g_signal_new\t@326\tNONAME\n-g_slice_alloc\t@327\tNONAME\n-g_slice_alloc0\t@328\tNONAME\n-g_slice_copy\t@329\tNONAME\n-g_slice_free1\t@330\tNONAME\n-g_slist_append\t@331\tNONAME\n-g_slist_concat\t@332\tNONAME\n-g_slist_delete_link\t@333\tNONAME\n-g_slist_foreach\t@334\tNONAME\n-g_slist_free\t@335\tNONAME\n-g_slist_insert_before\t@336\tNONAME\n-g_slist_prepend\t@337\tNONAME\n-g_slist_remove\t@338\tNONAME\n-g_slist_reverse\t@339\tNONAME\n-g_snprintf\t@340\tNONAME\n-g_source_add_poll\t@341\tNONAME\n-g_source_attach\t@342\tNONAME\n-g_source_destroy\t@343\tNONAME\n-g_source_new\t@344\tNONAME\n-g_source_ref\t@345\tNONAME\n-g_source_remove\t@346\tNONAME\n-g_source_set_callback\t@347\tNONAME\n-g_source_set_name\t@348\tNONAME\n-g_source_set_priority\t@349\tNONAME\n-g_source_unref\t@350\tNONAME\n-g_spawn_close_pid\t@351\tNONAME\n-g_stat\t@352\tNONAME\n-g_str_equal\t@353\tNONAME\n-g_str_has_prefix\t@354\tNONAME\n-g_str_has_suffix\t@355\tNONAME\n-g_str_hash\t@356\tNONAME\n-g_strchomp\t@357\tNONAME\n-g_strchug\t@358\tNONAME\n-g_strcmp0\t@359\tNONAME\n-g_strconcat\t@360\tNONAME\n-g_strdelimit\t@361\tNONAME\n-g_strdup\t@362\tNONAME\n-g_strdup_printf\t@363\tNONAME\n-g_strdup_value_contents\t@364\tNONAME\n-g_strdup_vprintf\t@365\tNONAME\n-g_strdupv\t@366\tNONAME\n-g_strerror\t@367\tNONAME\n-g_strfreev\t@368\tNONAME\n-g_string_append\t@369\tNONAME\n-g_string_append_len\t@370\tNONAME\n-g_string_append_printf\t@371\tNONAME\n-g_string_free\t@372\tNONAME\n-g_string_insert_c\t@373\tNONAME\n-g_string_new\t@374\tNONAME\n-g_string_set_size\t@375\tNONAME\n-g_string_sized_new\t@376\tNONAME\n-g_string_truncate\t@377\tNONAME\n-g_strjoin\t@378\tNONAME\n-g_strlcpy\t@379\tNONAME\n-g_strndup\t@380\tNONAME\n-g_strrstr\t@381\tNONAME\n-g_strsplit\t@382\tNONAME\n-g_strsplit_set\t@383\tNONAME\n-g_strstr_len\t@384\tNONAME\n-g_strtod\t@385\tNONAME\n-g_strv_get_type\t@386\tNONAME\n-g_strv_length\t@387\tNONAME\n-g_thread_get_type\t@388\tNONAME\n-g_thread_join\t@389\tNONAME\n-g_thread_new\t@390\tNONAME\n-g_thread_pool_free\t@391\tNONAME\n-g_thread_pool_new\t@392\tNONAME\n-g_thread_pool_push\t@393\tNONAME\n-g_thread_pool_set_max_unused_threads\t@394\tNONAME\n-g_thread_self\t@395\tNONAME\n-g_thread_try_new\t@396\tNONAME\n-g_thread_yield\t@397\tNONAME\n-g_time_zone_new\t@398\tNONAME\n-g_time_zone_unref\t@399\tNONAME\n-g_timeout_add_full\t@400\tNONAME\n-g_timer_destroy\t@401\tNONAME\n-g_timer_elapsed\t@402\tNONAME\n-g_timer_new\t@403\tNONAME\n-g_timer_start\t@404\tNONAME\n-g_tree_destroy\t@405\tNONAME\n-g_tree_insert\t@406\tNONAME\n-g_tree_new_with_data\t@407\tNONAME\n-g_tree_search\t@408\tNONAME\n-g_try_malloc\t@409\tNONAME\n-g_try_malloc0_n\t@410\tNONAME\n-g_try_malloc_n\t@411\tNONAME\n-g_try_realloc\t@412\tNONAME\n-g_try_realloc_n\t@413\tNONAME\n-g_type_add_class_private\t@414\tNONAME\n-g_type_add_instance_private\t@415\tNONAME\n-g_type_add_interface_static\t@416\tNONAME\n-g_type_check_class_cast\t@417\tNONAME\n-g_type_check_instance_cast\t@418\tNONAME\n-g_type_check_instance_is_a\t@419\tNONAME\n-g_type_check_instance_is_fundamentally_a\t@420\tNONAME\n-g_type_check_value\t@421\tNONAME\n-g_type_check_value_holds\t@422\tNONAME\n-g_type_class_add_private\t@423\tNONAME\n-g_type_class_adjust_private_offset\t@424\tNONAME\n-g_type_class_get_private\t@425\tNONAME\n-g_type_class_peek\t@426\tNONAME\n-g_type_class_peek_parent\t@427\tNONAME\n-g_type_class_ref\t@428\tNONAME\n-g_type_class_unref\t@429\tNONAME\n-g_type_from_name\t@430\tNONAME\n-g_type_fundamental\t@431\tNONAME\n-g_type_fundamental_next\t@432\tNONAME\n-g_type_get_qdata\t@433\tNONAME\n-g_type_init\t@434\tNONAME\n-g_type_instance_get_private\t@435\tNONAME\n-g_type_interface_add_prerequisite\t@436\tNONAME\n-g_type_interface_peek\t@437\tNONAME\n-g_type_interfaces\t@438\tNONAME\n-g_type_is_a\t@439\tNONAME\n-g_type_name\t@440\tNONAME\n-g_type_parent\t@441\tNONAME\n-g_type_qname\t@442\tNONAME\n-g_type_register_fundamental\t@443\tNONAME\n-g_type_register_static\t@444\tNONAME\n-g_type_register_static_simple\t@445\tNONAME\n-g_type_set_qdata\t@446\tNONAME\n-g_type_value_table_peek\t@447\tNONAME\n-g_unlink\t@448\tNONAME\n-g_uri_escape_string\t@449\tNONAME\n-g_uri_unescape_segment\t@450\tNONAME\n-g_uri_unescape_string\t@451\tNONAME\n-g_utf16_to_utf8\t@452\tNONAME\n-g_utf8_strchr\t@453\tNONAME\n-g_utf8_to_utf16\t@454\tNONAME\n-g_utf8_validate\t@455\tNONAME\n-g_value_array_append\t@456\tNONAME\n-g_value_array_get_nth\t@457\tNONAME\n-g_value_array_get_type\t@458\tNONAME\n-g_value_array_new\t@459\tNONAME\n-g_value_copy\t@460\tNONAME\n-g_value_dup_boxed\t@461\tNONAME\n-g_value_dup_object\t@462\tNONAME\n-g_value_dup_string\t@463\tNONAME\n-g_value_get_boolean\t@464\tNONAME\n-g_value_get_boxed\t@465\tNONAME\n-g_value_get_double\t@466\tNONAME\n-g_value_get_enum\t@467\tNONAME\n-g_value_get_flags\t@468\tNONAME\n-g_value_get_float\t@469\tNONAME\n-g_value_get_gtype\t@470\tNONAME\n-g_value_get_int\t@471\tNONAME\n-g_value_get_int64\t@472\tNONAME\n-g_value_get_long\t@473\tNONAME\n-g_value_get_object\t@474\tNONAME\n-g_value_get_pointer\t@475\tNONAME\n-g_value_get_string\t@476\tNONAME\n-g_value_get_uchar\t@477\tNONAME\n-g_value_get_uint\t@478\tNONAME\n-g_value_get_uint64\t@479\tNONAME\n-g_value_get_ulong\t@480\tNONAME\n-g_value_init\t@481\tNONAME\n-g_value_peek_pointer\t@482\tNONAME\n-g_value_register_transform_func\t@483\tNONAME\n-g_value_reset\t@484\tNONAME\n-g_value_set_boolean\t@485\tNONAME\n-g_value_set_boxed\t@486\tNONAME\n-g_value_set_double\t@487\tNONAME\n-g_value_set_enum\t@488\tNONAME\n-g_value_set_flags\t@489\tNONAME\n-g_value_set_float\t@490\tNONAME\n-g_value_set_gtype\t@491\tNONAME\n-g_value_set_int\t@492\tNONAME\n-g_value_set_int64\t@493\tNONAME\n-g_value_set_long\t@494\tNONAME\n-g_value_set_object\t@495\tNONAME\n-g_value_set_pointer\t@496\tNONAME\n-g_value_set_static_boxed\t@497\tNONAME\n-g_value_set_static_string\t@498\tNONAME\n-g_value_set_string\t@499\tNONAME\n-g_value_set_uchar\t@500\tNONAME\n-g_value_set_uint\t@501\tNONAME\n-g_value_set_uint64\t@502\tNONAME\n-g_value_set_ulong\t@503\tNONAME\n-g_value_take_boxed\t@504\tNONAME\n-g_value_take_object\t@505\tNONAME\n-g_value_take_string\t@506\tNONAME\n-g_value_transform\t@507\tNONAME\n-g_value_type_compatible\t@508\tNONAME\n-g_value_unset\t@509\tNONAME\n-g_vasprintf\t@510\tNONAME\n-g_warn_message\t@511\tNONAME\n-g_weak_ref_clear\t@512\tNONAME\n-g_weak_ref_get\t@513\tNONAME\n-g_weak_ref_init\t@514\tNONAME\n-g_weak_ref_set\t@515\tNONAME\n-g_win32_error_message\t@516\tNONAME\n-g_win32_get_package_installation_directory_of_module\t@517\tNONAME\n+g_hash_table_foreach_remove\t@124\tNONAME\n+g_hash_table_get_keys\t@125\tNONAME\n+g_hash_table_get_values\t@126\tNONAME\n+g_hash_table_insert\t@127\tNONAME\n+g_hash_table_iter_init\t@128\tNONAME\n+g_hash_table_iter_next\t@129\tNONAME\n+g_hash_table_lookup\t@130\tNONAME\n+g_hash_table_new\t@131\tNONAME\n+g_hash_table_new_full\t@132\tNONAME\n+g_hash_table_ref\t@133\tNONAME\n+g_hash_table_remove\t@134\tNONAME\n+g_hash_table_replace\t@135\tNONAME\n+g_hash_table_size\t@136\tNONAME\n+g_hash_table_unref\t@137\tNONAME\n+g_hook_alloc\t@138\tNONAME\n+g_hook_destroy_link\t@139\tNONAME\n+g_hook_get\t@140\tNONAME\n+g_hook_insert_before\t@141\tNONAME\n+g_hook_list_clear\t@142\tNONAME\n+g_hook_list_init\t@143\tNONAME\n+g_hook_list_marshal\t@144\tNONAME\n+g_hook_ref\t@145\tNONAME\n+g_hook_unref\t@146\tNONAME\n+g_initially_unowned_get_type\t@147\tNONAME\n+g_int_equal\t@148\tNONAME\n+g_int_hash\t@149\tNONAME\n+g_intern_static_string\t@150\tNONAME\n+g_intern_string\t@151\tNONAME\n+g_key_file_free\t@152\tNONAME\n+g_key_file_get_comment\t@153\tNONAME\n+g_key_file_get_groups\t@154\tNONAME\n+g_key_file_get_keys\t@155\tNONAME\n+g_key_file_get_value\t@156\tNONAME\n+g_key_file_has_group\t@157\tNONAME\n+g_key_file_load_from_file\t@158\tNONAME\n+g_key_file_new\t@159\tNONAME\n+g_key_file_remove_group\t@160\tNONAME\n+g_key_file_remove_key\t@161\tNONAME\n+g_key_file_set_comment\t@162\tNONAME\n+g_key_file_set_string\t@163\tNONAME\n+g_key_file_set_value\t@164\tNONAME\n+g_key_file_to_data\t@165\tNONAME\n+g_list_alloc\t@166\tNONAME\n+g_list_append\t@167\tNONAME\n+g_list_concat\t@168\tNONAME\n+g_list_copy\t@169\tNONAME\n+g_list_copy_deep\t@170\tNONAME\n+g_list_delete_link\t@171\tNONAME\n+g_list_find\t@172\tNONAME\n+g_list_find_custom\t@173\tNONAME\n+g_list_foreach\t@174\tNONAME\n+g_list_free\t@175\tNONAME\n+g_list_free_full\t@176\tNONAME\n+g_list_index\t@177\tNONAME\n+g_list_insert\t@178\tNONAME\n+g_list_insert_before\t@179\tNONAME\n+g_list_insert_sorted\t@180\tNONAME\n+g_list_last\t@181\tNONAME\n+g_list_length\t@182\tNONAME\n+g_list_nth_data\t@183\tNONAME\n+g_list_position\t@184\tNONAME\n+g_list_prepend\t@185\tNONAME\n+g_list_remove\t@186\tNONAME\n+g_list_remove_link\t@187\tNONAME\n+g_list_reverse\t@188\tNONAME\n+g_list_sort\t@189\tNONAME\n+g_locale_to_utf8\t@190\tNONAME\n+g_log\t@191\tNONAME\n+g_log_default_handler\t@192\tNONAME\n+g_log_set_default_handler\t@193\tNONAME\n+g_log_set_handler\t@194\tNONAME\n+g_main_context_get_thread_default\t@195\tNONAME\n+g_main_context_new\t@196\tNONAME\n+g_main_context_unref\t@197\tNONAME\n+g_main_loop_is_running\t@198\tNONAME\n+g_main_loop_new\t@199\tNONAME\n+g_main_loop_quit\t@200\tNONAME\n+g_main_loop_run\t@201\tNONAME\n+g_main_loop_unref\t@202\tNONAME\n+g_malloc\t@203\tNONAME\n+g_malloc0\t@204\tNONAME\n+g_malloc0_n\t@205\tNONAME\n+g_malloc_n\t@206\tNONAME\n+g_memdup\t@207\tNONAME\n+g_memdup2\t@208\tNONAME\n+g_mkdir_with_parents\t@209\tNONAME\n+g_module_close\t@210\tNONAME\n+g_module_error\t@211\tNONAME\n+g_module_make_resident\t@212\tNONAME\n+g_module_open\t@213\tNONAME\n+g_module_supported\t@214\tNONAME\n+g_module_symbol\t@215\tNONAME\n+g_mutex_clear\t@216\tNONAME\n+g_mutex_init\t@217\tNONAME\n+g_mutex_lock\t@218\tNONAME\n+g_mutex_unlock\t@219\tNONAME\n+g_node_children_foreach\t@220\tNONAME\n+g_node_destroy\t@221\tNONAME\n+g_node_insert_before\t@222\tNONAME\n+g_node_new\t@223\tNONAME\n+g_node_nth_child\t@224\tNONAME\n+g_object_add_weak_pointer\t@225\tNONAME\n+g_object_class_find_property\t@226\tNONAME\n+g_object_class_install_properties\t@227\tNONAME\n+g_object_class_install_property\t@228\tNONAME\n+g_object_class_list_properties\t@229\tNONAME\n+g_object_force_floating\t@230\tNONAME\n+g_object_freeze_notify\t@231\tNONAME\n+g_object_get\t@232\tNONAME\n+g_object_get_property\t@233\tNONAME\n+g_object_interface_install_property\t@234\tNONAME\n+g_object_is_floating\t@235\tNONAME\n+g_object_new\t@236\tNONAME\n+g_object_new_with_properties\t@237\tNONAME\n+g_object_notify\t@238\tNONAME\n+g_object_notify_by_pspec\t@239\tNONAME\n+g_object_ref\t@240\tNONAME\n+g_object_ref_sink\t@241\tNONAME\n+g_object_remove_weak_pointer\t@242\tNONAME\n+g_object_set\t@243\tNONAME\n+g_object_set_property\t@244\tNONAME\n+g_object_thaw_notify\t@245\tNONAME\n+g_object_unref\t@246\tNONAME\n+g_once_impl\t@247\tNONAME\n+g_once_init_enter\t@248\tNONAME\n+g_once_init_leave\t@249\tNONAME\n+g_param_spec_boolean\t@250\tNONAME\n+g_param_spec_boxed\t@251\tNONAME\n+g_param_spec_double\t@252\tNONAME\n+g_param_spec_enum\t@253\tNONAME\n+g_param_spec_flags\t@254\tNONAME\n+g_param_spec_float\t@255\tNONAME\n+g_param_spec_gtype\t@256\tNONAME\n+g_param_spec_int\t@257\tNONAME\n+g_param_spec_int64\t@258\tNONAME\n+g_param_spec_internal\t@259\tNONAME\n+g_param_spec_object\t@260\tNONAME\n+g_param_spec_ref\t@261\tNONAME\n+g_param_spec_sink\t@262\tNONAME\n+g_param_spec_string\t@263\tNONAME\n+g_param_spec_uint\t@264\tNONAME\n+g_param_spec_uint64\t@265\tNONAME\n+g_param_spec_unref\t@266\tNONAME\n+g_param_type_register_static\t@267\tNONAME\n+g_param_value_set_default\t@268\tNONAME\n+g_param_value_validate\t@269\tNONAME\n+g_param_values_cmp\t@270\tNONAME\n+g_path_get_basename\t@271\tNONAME\n+g_path_get_dirname\t@272\tNONAME\n+g_path_is_absolute\t@273\tNONAME\n+g_pointer_type_register_static\t@274\tNONAME\n+g_print\t@275\tNONAME\n+g_printerr\t@276\tNONAME\n+g_private_get\t@277\tNONAME\n+g_private_set\t@278\tNONAME\n+g_propagate_error\t@279\tNONAME\n+g_ptr_array_add\t@280\tNONAME\n+g_ptr_array_find_with_equal_func\t@281\tNONAME\n+g_ptr_array_foreach\t@282\tNONAME\n+g_ptr_array_free\t@283\tNONAME\n+g_ptr_array_new_full\t@284\tNONAME\n+g_ptr_array_new_with_free_func\t@285\tNONAME\n+g_ptr_array_remove_fast\t@286\tNONAME\n+g_ptr_array_remove_index\t@287\tNONAME\n+g_ptr_array_set_size\t@288\tNONAME\n+g_ptr_array_sort\t@289\tNONAME\n+g_qsort_with_data\t@290\tNONAME\n+g_quark_from_static_string\t@291\tNONAME\n+g_quark_from_string\t@292\tNONAME\n+g_quark_to_string\t@293\tNONAME\n+g_quark_try_string\t@294\tNONAME\n+g_queue_clear\t@295\tNONAME\n+g_queue_delete_link\t@296\tNONAME\n+g_queue_find\t@297\tNONAME\n+g_queue_find_custom\t@298\tNONAME\n+g_queue_foreach\t@299\tNONAME\n+g_queue_free\t@300\tNONAME\n+g_queue_get_length\t@301\tNONAME\n+g_queue_init\t@302\tNONAME\n+g_queue_is_empty\t@303\tNONAME\n+g_queue_new\t@304\tNONAME\n+g_queue_peek_nth\t@305\tNONAME\n+g_queue_pop_head\t@306\tNONAME\n+g_queue_push_head\t@307\tNONAME\n+g_queue_push_tail\t@308\tNONAME\n+g_queue_remove\t@309\tNONAME\n+g_queue_sort\t@310\tNONAME\n+g_random_int\t@311\tNONAME\n+g_realloc\t@312\tNONAME\n+g_realloc_n\t@313\tNONAME\n+g_rec_mutex_clear\t@314\tNONAME\n+g_rec_mutex_init\t@315\tNONAME\n+g_rec_mutex_lock\t@316\tNONAME\n+g_rec_mutex_unlock\t@317\tNONAME\n+g_rename\t@318\tNONAME\n+g_rw_lock_init\t@319\tNONAME\n+g_rw_lock_reader_lock\t@320\tNONAME\n+g_rw_lock_reader_unlock\t@321\tNONAME\n+g_rw_lock_writer_lock\t@322\tNONAME\n+g_rw_lock_writer_unlock\t@323\tNONAME\n+g_set_error\t@324\tNONAME\n+g_set_error_literal\t@325\tNONAME\n+g_signal_connect_data\t@326\tNONAME\n+g_signal_emit\t@327\tNONAME\n+g_signal_handler_disconnect\t@328\tNONAME\n+g_signal_handlers_destroy\t@329\tNONAME\n+g_signal_handlers_disconnect_matched\t@330\tNONAME\n+g_signal_new\t@331\tNONAME\n+g_slice_alloc\t@332\tNONAME\n+g_slice_alloc0\t@333\tNONAME\n+g_slice_copy\t@334\tNONAME\n+g_slice_free1\t@335\tNONAME\n+g_slist_append\t@336\tNONAME\n+g_slist_concat\t@337\tNONAME\n+g_slist_delete_link\t@338\tNONAME\n+g_slist_foreach\t@339\tNONAME\n+g_slist_free\t@340\tNONAME\n+g_slist_insert_before\t@341\tNONAME\n+g_slist_prepend\t@342\tNONAME\n+g_slist_remove\t@343\tNONAME\n+g_slist_reverse\t@344\tNONAME\n+g_snprintf\t@345\tNONAME\n+g_source_add_poll\t@346\tNONAME\n+g_source_attach\t@347\tNONAME\n+g_source_destroy\t@348\tNONAME\n+g_source_new\t@349\tNONAME\n+g_source_ref\t@350\tNONAME\n+g_source_remove\t@351\tNONAME\n+g_source_set_callback\t@352\tNONAME\n+g_source_set_dispose_function\t@353\tNONAME\n+g_source_set_name\t@354\tNONAME\n+g_source_set_priority\t@355\tNONAME\n+g_source_unref\t@356\tNONAME\n+g_spawn_close_pid\t@357\tNONAME\n+g_stat\t@358\tNONAME\n+g_str_equal\t@359\tNONAME\n+g_str_has_prefix\t@360\tNONAME\n+g_str_has_suffix\t@361\tNONAME\n+g_str_hash\t@362\tNONAME\n+g_strchomp\t@363\tNONAME\n+g_strchug\t@364\tNONAME\n+g_strcmp0\t@365\tNONAME\n+g_strconcat\t@366\tNONAME\n+g_strdelimit\t@367\tNONAME\n+g_strdup\t@368\tNONAME\n+g_strdup_printf\t@369\tNONAME\n+g_strdup_value_contents\t@370\tNONAME\n+g_strdup_vprintf\t@371\tNONAME\n+g_strdupv\t@372\tNONAME\n+g_strerror\t@373\tNONAME\n+g_strfreev\t@374\tNONAME\n+g_string_append\t@375\tNONAME\n+g_string_append_len\t@376\tNONAME\n+g_string_append_printf\t@377\tNONAME\n+g_string_free\t@378\tNONAME\n+g_string_insert_c\t@379\tNONAME\n+g_string_new\t@380\tNONAME\n+g_string_set_size\t@381\tNONAME\n+g_string_sized_new\t@382\tNONAME\n+g_string_truncate\t@383\tNONAME\n+g_strjoin\t@384\tNONAME\n+g_strlcpy\t@385\tNONAME\n+g_strndup\t@386\tNONAME\n+g_strrstr\t@387\tNONAME\n+g_strsplit\t@388\tNONAME\n+g_strsplit_set\t@389\tNONAME\n+g_strstr_len\t@390\tNONAME\n+g_strtod\t@391\tNONAME\n+g_strv_get_type\t@392\tNONAME\n+g_strv_length\t@393\tNONAME\n+g_thread_get_type\t@394\tNONAME\n+g_thread_join\t@395\tNONAME\n+g_thread_new\t@396\tNONAME\n+g_thread_pool_free\t@397\tNONAME\n+g_thread_pool_new\t@398\tNONAME\n+g_thread_pool_push\t@399\tNONAME\n+g_thread_pool_set_max_threads\t@400\tNONAME\n+g_thread_pool_set_max_unused_threads\t@401\tNONAME\n+g_thread_self\t@402\tNONAME\n+g_thread_try_new\t@403\tNONAME\n+g_thread_yield\t@404\tNONAME\n+g_time_zone_new\t@405\tNONAME\n+g_time_zone_new_identifier\t@406\tNONAME\n+g_time_zone_unref\t@407\tNONAME\n+g_timeout_add_full\t@408\tNONAME\n+g_timer_destroy\t@409\tNONAME\n+g_timer_elapsed\t@410\tNONAME\n+g_timer_new\t@411\tNONAME\n+g_timer_start\t@412\tNONAME\n+g_tree_destroy\t@413\tNONAME\n+g_tree_insert\t@414\tNONAME\n+g_tree_new_with_data\t@415\tNONAME\n+g_tree_search\t@416\tNONAME\n+g_try_malloc\t@417\tNONAME\n+g_try_malloc0_n\t@418\tNONAME\n+g_try_malloc_n\t@419\tNONAME\n+g_try_realloc\t@420\tNONAME\n+g_try_realloc_n\t@421\tNONAME\n+g_type_add_class_private\t@422\tNONAME\n+g_type_add_instance_private\t@423\tNONAME\n+g_type_add_interface_static\t@424\tNONAME\n+g_type_check_class_cast\t@425\tNONAME\n+g_type_check_instance_cast\t@426\tNONAME\n+g_type_check_instance_is_a\t@427\tNONAME\n+g_type_check_instance_is_fundamentally_a\t@428\tNONAME\n+g_type_check_value\t@429\tNONAME\n+g_type_check_value_holds\t@430\tNONAME\n+g_type_class_add_private\t@431\tNONAME\n+g_type_class_adjust_private_offset\t@432\tNONAME\n+g_type_class_get_private\t@433\tNONAME\n+g_type_class_peek\t@434\tNONAME\n+g_type_class_peek_parent\t@435\tNONAME\n+g_type_class_ref\t@436\tNONAME\n+g_type_class_unref\t@437\tNONAME\n+g_type_from_name\t@438\tNONAME\n+g_type_fundamental\t@439\tNONAME\n+g_type_fundamental_next\t@440\tNONAME\n+g_type_get_qdata\t@441\tNONAME\n+g_type_init\t@442\tNONAME\n+g_type_instance_get_private\t@443\tNONAME\n+g_type_interface_add_prerequisite\t@444\tNONAME\n+g_type_interface_peek\t@445\tNONAME\n+g_type_interfaces\t@446\tNONAME\n+g_type_is_a\t@447\tNONAME\n+g_type_name\t@448\tNONAME\n+g_type_parent\t@449\tNONAME\n+g_type_qname\t@450\tNONAME\n+g_type_register_fundamental\t@451\tNONAME\n+g_type_register_static\t@452\tNONAME\n+g_type_register_static_simple\t@453\tNONAME\n+g_type_set_qdata\t@454\tNONAME\n+g_type_value_table_peek\t@455\tNONAME\n+g_unlink\t@456\tNONAME\n+g_uri_escape_string\t@457\tNONAME\n+g_uri_unescape_segment\t@458\tNONAME\n+g_uri_unescape_string\t@459\tNONAME\n+g_utf16_to_utf8\t@460\tNONAME\n+g_utf8_strchr\t@461\tNONAME\n+g_utf8_to_utf16\t@462\tNONAME\n+g_utf8_validate\t@463\tNONAME\n+g_value_array_append\t@464\tNONAME\n+g_value_array_get_nth\t@465\tNONAME\n+g_value_array_get_type\t@466\tNONAME\n+g_value_array_new\t@467\tNONAME\n+g_value_copy\t@468\tNONAME\n+g_value_dup_boxed\t@469\tNONAME\n+g_value_dup_object\t@470\tNONAME\n+g_value_dup_string\t@471\tNONAME\n+g_value_get_boolean\t@472\tNONAME\n+g_value_get_boxed\t@473\tNONAME\n+g_value_get_double\t@474\tNONAME\n+g_value_get_enum\t@475\tNONAME\n+g_value_get_flags\t@476\tNONAME\n+g_value_get_float\t@477\tNONAME\n+g_value_get_gtype\t@478\tNONAME\n+g_value_get_int\t@479\tNONAME\n+g_value_get_int64\t@480\tNONAME\n+g_value_get_long\t@481\tNONAME\n+g_value_get_object\t@482\tNONAME\n+g_value_get_pointer\t@483\tNONAME\n+g_value_get_string\t@484\tNONAME\n+g_value_get_uchar\t@485\tNONAME\n+g_value_get_uint\t@486\tNONAME\n+g_value_get_uint64\t@487\tNONAME\n+g_value_get_ulong\t@488\tNONAME\n+g_value_init\t@489\tNONAME\n+g_value_peek_pointer\t@490\tNONAME\n+g_value_register_transform_func\t@491\tNONAME\n+g_value_reset\t@492\tNONAME\n+g_value_set_boolean\t@493\tNONAME\n+g_value_set_boxed\t@494\tNONAME\n+g_value_set_double\t@495\tNONAME\n+g_value_set_enum\t@496\tNONAME\n+g_value_set_flags\t@497\tNONAME\n+g_value_set_float\t@498\tNONAME\n+g_value_set_gtype\t@499\tNONAME\n+g_value_set_int\t@500\tNONAME\n+g_value_set_int64\t@501\tNONAME\n+g_value_set_long\t@502\tNONAME\n+g_value_set_object\t@503\tNONAME\n+g_value_set_pointer\t@504\tNONAME\n+g_value_set_static_boxed\t@505\tNONAME\n+g_value_set_static_string\t@506\tNONAME\n+g_value_set_string\t@507\tNONAME\n+g_value_set_uchar\t@508\tNONAME\n+g_value_set_uint\t@509\tNONAME\n+g_value_set_uint64\t@510\tNONAME\n+g_value_set_ulong\t@511\tNONAME\n+g_value_take_boxed\t@512\tNONAME\n+g_value_take_object\t@513\tNONAME\n+g_value_take_string\t@514\tNONAME\n+g_value_transform\t@515\tNONAME\n+g_value_type_compatible\t@516\tNONAME\n+g_value_unset\t@517\tNONAME\n+g_vasprintf\t@518\tNONAME\n+g_warn_message\t@519\tNONAME\n+g_weak_ref_clear\t@520\tNONAME\n+g_weak_ref_get\t@521\tNONAME\n+g_weak_ref_init\t@522\tNONAME\n+g_weak_ref_set\t@523\tNONAME\n+g_win32_error_message\t@524\tNONAME\n+g_win32_get_package_installation_directory_of_module\t@525\tNONAME\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/glib-lite.def","additions":402,"deletions":394,"binary":false,"changes":796,"status":"modified"},{"patch":"@@ -23,0 +23,2 @@\n+\/* #undef G_INTL_STATIC_COMPILATION *\/\n+\/* #undef FFI_STATIC_BUILD *\/\n@@ -26,13 +28,13 @@\n-#define G_MINFLOAT  FLT_MIN\n-#define G_MAXFLOAT  FLT_MAX\n-#define G_MINDOUBLE DBL_MIN\n-#define G_MAXDOUBLE DBL_MAX\n-#define G_MINSHORT  SHRT_MIN\n-#define G_MAXSHORT  SHRT_MAX\n-#define G_MAXUSHORT USHRT_MAX\n-#define G_MININT  INT_MIN\n-#define G_MAXINT  INT_MAX\n-#define G_MAXUINT UINT_MAX\n-#define G_MINLONG LONG_MIN\n-#define G_MAXLONG LONG_MAX\n-#define G_MAXULONG  ULONG_MAX\n+#define G_MINFLOAT      FLT_MIN\n+#define G_MAXFLOAT      FLT_MAX\n+#define G_MINDOUBLE     DBL_MIN\n+#define G_MAXDOUBLE     DBL_MAX\n+#define G_MINSHORT      SHRT_MIN\n+#define G_MAXSHORT      SHRT_MAX\n+#define G_MAXUSHORT     USHRT_MAX\n+#define G_MININT        INT_MIN\n+#define G_MAXINT        INT_MAX\n+#define G_MAXUINT       UINT_MAX\n+#define G_MINLONG       LONG_MIN\n+#define G_MAXLONG       LONG_MAX\n+#define G_MAXULONG      ULONG_MAX\n@@ -42,0 +44,1 @@\n+\n@@ -44,0 +47,1 @@\n+\n@@ -47,0 +51,2 @@\n+\n+\n@@ -49,0 +55,1 @@\n+\n@@ -52,0 +59,2 @@\n+\n+\n@@ -68,0 +77,1 @@\n+#define GLIB_SIZEOF_SSIZE_T 8\n@@ -85,0 +95,1 @@\n+#define GLIB_SIZEOF_SSIZE_T 4\n@@ -146,2 +157,2 @@\n-#define GLIB_MINOR_VERSION 62\n-#define GLIB_MICRO_VERSION 2\n+#define GLIB_MINOR_VERSION 72\n+#define GLIB_MICRO_VERSION 0\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/glibconfig.h","additions":26,"deletions":15,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n-#define G_MODULE_IMPL_DL  1\n+#define G_MODULE_IMPL_DL    1\n@@ -30,1 +30,1 @@\n-#define G_MODULE_IMPL_AR  7\n+#define G_MODULE_IMPL_AR    7\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/gmoduleconf.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -134,0 +134,3 @@\n+#ifndef G_OS_WIN32\n+#define G_STATIC_MUTEX_INIT { NULL, PTHREAD_MUTEX_INITIALIZER } GLIB_DEPRECATED_MACRO_IN_2_32_FOR(g_mutex_init)\n+#else\n@@ -135,0 +138,1 @@\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/deprecated\/gthread.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include <string.h>\n@@ -84,0 +85,5 @@\n+ * - Allowing @size to be specified by an untrusted party would allow for them\n+ *   to trigger a segmentation fault by specifying a large size, leading to a\n+ *   denial of service vulnerability. @size must always be entirely under the\n+ *   control of the program.\n+ *\n@@ -91,1 +97,17 @@\n-#define g_alloca(size)     alloca (size)\n+#define g_alloca(size)           alloca (size)\n+\n+\/**\n+ * g_alloca0:\n+ * @size: number of bytes to allocate.\n+ *\n+ * Wraps g_alloca() and initializes allocated memory to zeroes.\n+ * If @size is '0' it returns %NULL.\n+ *\n+ * Note that the @size argument will be evaluated multiple times.\n+ *\n+ * Returns: (nullable) (transfer full): space for @size bytes, allocated on the stack\n+ *\n+ * Since: 2.72\n+ *\/\n+#define g_alloca0(size)  ((size) == 0 ? NULL : memset (g_alloca (size), 0, (size)))\n+\n@@ -99,0 +121,6 @@\n+ * As mentioned in the documentation for g_alloca(), @n_structs must always be\n+ * entirely under the control of the program, or you may introduce a denial of\n+ * service vulnerability. In addition, the multiplication of @struct_type by\n+ * @n_structs is not checked, so an overflow may lead to a remote code execution\n+ * vulnerability.\n+ *\n@@ -103,0 +131,14 @@\n+\/**\n+ * g_newa0:\n+ * @struct_type: the type of the elements to allocate.\n+ * @n_structs: the number of elements to allocate.\n+ *\n+ * Wraps g_alloca0() in a more typesafe manner.\n+ *\n+ * Returns: (nullable) (transfer full): Pointer to stack space for @n_structs\n+ *   chunks of type @struct_type\n+ *\n+ * Since: 2.72\n+ *\/\n+#define g_newa0(struct_type, n_structs)  ((struct_type*) g_alloca0 (sizeof (struct_type) * (gsize) (n_structs)))\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/galloca.h","additions":43,"deletions":1,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+#include \"gutilsprivate.h\"\n@@ -110,1 +111,1 @@\n-  guint   alloc;\n+  guint   elt_capacity;\n@@ -153,1 +154,1 @@\n-#define g_array_elt_len(array,i) ((array)->elt_size * (i))\n+#define g_array_elt_len(array,i) ((gsize)(array)->elt_size * (i))\n@@ -162,1 +163,0 @@\n-static guint g_nearest_pow        (guint       num) G_GNUC_CONST;\n@@ -184,0 +184,3 @@\n+#if (UINT_WIDTH \/ 8) >= GLIB_SIZEOF_SIZE_T\n+  g_return_val_if_fail (elt_size <= G_MAXSIZE \/ 2 - 1, NULL);\n+#endif\n@@ -191,1 +194,1 @@\n- * @len: (optional) (out caller-allocates): pointer to retrieve the number of\n+ * @len: (optional) (out): pointer to retrieve the number of\n@@ -235,1 +238,1 @@\n-  rarray->alloc = 0;\n+  rarray->elt_capacity = 0;\n@@ -264,0 +267,3 @@\n+#if (UINT_WIDTH \/ 8) >= GLIB_SIZEOF_SIZE_T\n+  g_return_val_if_fail (elt_size <= G_MAXSIZE \/ 2 - 1, NULL);\n+#endif\n@@ -274,1 +280,1 @@\n-  array->alloc           = 0;\n+  array->elt_capacity = 0;\n@@ -307,0 +313,21 @@\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct\n+ * {\n+ *   gchar *str;\n+ *   GObject *obj;\n+ * } ArrayElement;\n+ *\n+ * static void\n+ * array_element_clear (ArrayElement *element)\n+ * {\n+ *   g_clear_pointer (&element->str, g_free);\n+ *   g_clear_object (&element->obj);\n+ * }\n+ *\n+ * \/\/ main code\n+ * GArray *garray = g_array_new (FALSE, FALSE, sizeof (ArrayElement));\n+ * g_array_set_clear_func (garray, (GDestroyNotify) array_element_clear);\n+ * \/\/ assign data to the structure\n+ * g_array_free (garray, TRUE);\n+ * ]|\n+ *\n@@ -458,1 +485,1 @@\n-      array->alloc           = 0;\n+      array->elt_capacity = 0;\n@@ -875,1 +902,1 @@\n- * @out_match_index: (optional) (out caller-allocates): return location\n+ * @out_match_index: (optional) (out): return location\n@@ -917,1 +944,1 @@\n-  guint left, middle, right;\n+  guint left, middle = 0, right;\n@@ -953,22 +980,0 @@\n-\/* Returns the smallest power of 2 greater than n, or n if\n- * such power does not fit in a guint\n- *\/\n-static guint\n-g_nearest_pow (guint num)\n-{\n-  guint n = num - 1;\n-\n-  g_assert (num > 0);\n-\n-  n |= n >> 1;\n-  n |= n >> 2;\n-  n |= n >> 4;\n-  n |= n >> 8;\n-  n |= n >> 16;\n-#if SIZEOF_INT == 8\n-  n |= n >> 32;\n-#endif\n-\n-  return n + 1;\n-}\n-\n@@ -979,1 +984,8 @@\n-  guint want_alloc;\n+  guint max_len, want_len;\n+\n+  \/* The maximum array length is derived from following constraints:\n+   * - The number of bytes must fit into a gsize \/ 2.\n+   * - The number of elements must fit into guint.\n+   * - zero terminated arrays must leave space for the terminating element\n+   *\/\n+  max_len = MIN (G_MAXSIZE \/ 2 \/ array->elt_size, G_MAXUINT) - array->zero_terminated;\n@@ -982,1 +994,1 @@\n-  if G_UNLIKELY ((G_MAXUINT - array->len) < len)\n+  if G_UNLIKELY ((max_len - array->len) < len)\n@@ -985,4 +997,2 @@\n-  want_alloc = g_array_elt_len (array, array->len + len +\n-                                array->zero_terminated);\n-\n-  if (want_alloc > array->alloc)\n+  want_len = array->len + len + array->zero_terminated;\n+  if (want_len > array->elt_capacity)\n@@ -990,1 +1000,1 @@\n-      want_alloc = g_nearest_pow (want_alloc);\n+      gsize want_alloc = g_nearest_pow (g_array_elt_len (array, want_len));\n@@ -996,1 +1006,2 @@\n-        memset (array->data + array->alloc, 0, want_alloc - array->alloc);\n+        memset (g_array_elt_pos (array, array->elt_capacity), 0,\n+                g_array_elt_len (array, want_len - array->elt_capacity));\n@@ -998,1 +1009,1 @@\n-      array->alloc = want_alloc;\n+      array->elt_capacity = MIN (want_alloc \/ array->elt_size, G_MAXUINT);\n@@ -1127,1 +1138,1 @@\n- * @len: (optional) (out caller-allocates): pointer to retrieve the number of\n+ * @len: (optional) (out): pointer to retrieve the number of\n@@ -1289,1 +1300,1 @@\n-                                      rarray->elt_size, rarray->alloc \/ rarray->elt_size);\n+                                      rarray->elt_size, rarray->elt_capacity);\n@@ -1438,2 +1449,2 @@\n- * Returns: the pointer array if @free_seg is %FALSE, otherwise %NULL.\n- *     The pointer array should be freed using g_free().\n+ * Returns: (transfer full) (nullable): the pointer array if @free_seg is\n+ *     %FALSE, otherwise %NULL. The pointer array should be freed using g_free().\n@@ -1509,0 +1520,8 @@\n+  guint max_len;\n+\n+  \/* The maximum array length is derived from following constraints:\n+   * - The number of bytes must fit into a gsize \/ 2.\n+   * - The number of elements must fit into guint.\n+   *\/\n+  max_len = MIN (G_MAXSIZE \/ 2 \/ sizeof (gpointer), G_MAXUINT);\n+\n@@ -1510,1 +1529,1 @@\n-  if G_UNLIKELY ((G_MAXUINT - array->len) < len)\n+  if G_UNLIKELY ((max_len - array->len) < len)\n@@ -1516,3 +1535,4 @@\n-      array->alloc = g_nearest_pow (array->len + len);\n-      array->alloc = MAX (array->alloc, MIN_ARRAY_SIZE);\n-      array->pdata = g_realloc (array->pdata, sizeof (gpointer) * array->alloc);\n+      gsize want_alloc = g_nearest_pow (sizeof (gpointer) * (array->len + len));\n+      want_alloc = MAX (want_alloc, MIN_ARRAY_SIZE);\n+      array->alloc = MIN (want_alloc \/ sizeof (gpointer), G_MAXUINT);\n+      array->pdata = g_realloc (array->pdata, want_alloc);\n@@ -2116,1 +2136,1 @@\n- * @index_: (optional) (out caller-allocates): return location for the index of\n+ * @index_: (optional) (out): return location for the index of\n@@ -2145,1 +2165,1 @@\n- * @index_: (optional) (out caller-allocates): return location for the index of\n+ * @index_: (optional) (out): return location for the index of\n@@ -2251,1 +2271,1 @@\n- * @len: (optional) (out caller-allocates): pointer to retrieve the number of\n+ * @len: (optional) (out): pointer to retrieve the number of\n@@ -2294,1 +2314,0 @@\n-\n@@ -2306,1 +2325,1 @@\n-  real->alloc = len;\n+  real->elt_capacity = len;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/garray.c","additions":72,"deletions":53,"binary":false,"changes":125,"status":"modified"},{"patch":"@@ -91,3 +91,3 @@\n- * The GAsyncQueue struct is an opaque data structure which represents\n- * an asynchronous queue. It should only be accessed through the\n- * g_async_queue_* functions.\n+ * An opaque data structure which represents an asynchronous queue.\n+ *\n+ * It should only be accessed through the `g_async_queue_*` functions.\n@@ -126,1 +126,1 @@\n- * @item_free_func: function to free queue elements\n+ * @item_free_func: (nullable): function to free queue elements\n@@ -485,1 +485,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n@@ -511,1 +511,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n@@ -532,1 +532,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n@@ -563,1 +563,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n@@ -590,1 +590,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n@@ -636,1 +636,1 @@\n- * Returns: data from the queue or %NULL, when no data is\n+ * Returns: (nullable): data from the queue or %NULL, when no data is\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gasyncqueue.c","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -108,0 +108,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -128,0 +131,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -147,0 +153,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -166,0 +175,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -192,0 +204,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -219,0 +234,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -243,0 +261,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -267,0 +288,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -291,0 +315,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -312,0 +339,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -319,1 +349,1 @@\n-  return g_atomic_pointer_get ((const volatile gpointer *) atomic);\n+  return g_atomic_pointer_get ((gpointer *) atomic);\n@@ -332,0 +362,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -338,1 +371,1 @@\n-  g_atomic_pointer_set ((volatile gpointer *) atomic, newval);\n+  g_atomic_pointer_set ((gpointer *) atomic, newval);\n@@ -357,0 +390,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -366,1 +402,1 @@\n-  return g_atomic_pointer_compare_and_exchange ((volatile gpointer *) atomic,\n+  return g_atomic_pointer_compare_and_exchange ((gpointer *) atomic,\n@@ -382,0 +418,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -390,1 +429,1 @@\n-  return g_atomic_pointer_add ((volatile gpointer *) atomic, val);\n+  return g_atomic_pointer_add ((gpointer *) atomic, val);\n@@ -406,0 +445,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -414,1 +456,1 @@\n-  return g_atomic_pointer_and ((volatile gpointer *) atomic, val);\n+  return g_atomic_pointer_and ((gpointer *) atomic, val);\n@@ -430,0 +472,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -438,1 +483,1 @@\n-  return g_atomic_pointer_or ((volatile gpointer *) atomic, val);\n+  return g_atomic_pointer_or ((gpointer *) atomic, val);\n@@ -454,0 +499,3 @@\n+ * While @atomic has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -462,1 +510,1 @@\n-  return g_atomic_pointer_xor ((volatile gpointer *) atomic, val);\n+  return g_atomic_pointer_xor ((gpointer *) atomic, val);\n@@ -594,1 +642,1 @@\n-  const volatile gpointer *ptr = atomic;\n+  const gpointer *ptr = atomic;\n@@ -604,1 +652,1 @@\n-  volatile gpointer *ptr = atomic;\n+  gpointer *ptr = atomic;\n@@ -812,1 +860,1 @@\n-  const volatile gpointer *ptr = atomic;\n+  const gpointer *ptr = atomic;\n@@ -826,1 +874,1 @@\n-  volatile gpointer *ptr = atomic;\n+  gpointer *ptr = atomic;\n@@ -838,1 +886,1 @@\n-  volatile gpointer *ptr = atomic;\n+  gpointer *ptr = atomic;\n@@ -855,1 +903,1 @@\n-  volatile gssize *ptr = atomic;\n+  gssize *ptr = atomic;\n@@ -870,1 +918,1 @@\n-  volatile gsize *ptr = atomic;\n+  gsize *ptr = atomic;\n@@ -885,1 +933,1 @@\n-  volatile gsize *ptr = atomic;\n+  gsize *ptr = atomic;\n@@ -900,1 +948,1 @@\n-  volatile gsize *ptr = atomic;\n+  gsize *ptr = atomic;\n@@ -930,1 +978,1 @@\n-  return (g_atomic_int_add) (atomic, val);\n+  return (g_atomic_int_add) ((gint *) atomic, val);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gatomic.c","additions":65,"deletions":17,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include <glib\/glib-typeof.h>\n@@ -106,18 +107,18 @@\n-#if defined(g_has_typeof)\n-#define g_atomic_pointer_get(atomic) \\\n-  (G_GNUC_EXTENSION ({                                                       \\\n-    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n-    __typeof__(*(atomic)) gapg_temp_newval;                                  \\\n-    __typeof__((atomic)) gapg_temp_atomic = (atomic);                        \\\n-    __atomic_load (gapg_temp_atomic, &gapg_temp_newval, __ATOMIC_SEQ_CST);   \\\n-    gapg_temp_newval;                                                        \\\n-  }))\n-#define g_atomic_pointer_set(atomic, newval) \\\n-  (G_GNUC_EXTENSION ({                                                       \\\n-    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n-    __typeof__((atomic)) gaps_temp_atomic = (atomic);                        \\\n-    __typeof__(*(atomic)) gaps_temp_newval = (newval);                       \\\n-    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n-    __atomic_store (gaps_temp_atomic, &gaps_temp_newval, __ATOMIC_SEQ_CST);  \\\n-  }))\n-#else  \/* if !defined(g_has_typeof) *\/\n+#if defined(glib_typeof)\n+#define g_atomic_pointer_get(atomic)                                       \\\n+  (G_GNUC_EXTENSION ({                                                     \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));               \\\n+    glib_typeof (*(atomic)) gapg_temp_newval;                              \\\n+    glib_typeof ((atomic)) gapg_temp_atomic = (atomic);                    \\\n+    __atomic_load (gapg_temp_atomic, &gapg_temp_newval, __ATOMIC_SEQ_CST); \\\n+    gapg_temp_newval;                                                      \\\n+  }))\n+#define g_atomic_pointer_set(atomic, newval)                                \\\n+  (G_GNUC_EXTENSION ({                                                      \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                \\\n+    glib_typeof ((atomic)) gaps_temp_atomic = (atomic);                     \\\n+    glib_typeof (*(atomic)) gaps_temp_newval = (newval);                    \\\n+    (void) (0 ? (gpointer) * (atomic) : NULL);                              \\\n+    __atomic_store (gaps_temp_atomic, &gaps_temp_newval, __ATOMIC_SEQ_CST); \\\n+  }))\n+#else \/* if !(defined(glib_typeof) *\/\n@@ -140,1 +141,1 @@\n-#endif  \/* !defined(g_has_typeof) *\/\n+#endif \/* if defined(glib_typeof) *\/\n@@ -159,1 +160,1 @@\n-    __atomic_compare_exchange_n ((atomic), &gaicae_oldval, (newval), FALSE, __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST) ? TRUE : FALSE; \\\n+    __atomic_compare_exchange_n ((atomic), (void *) (&(gaicae_oldval)), (newval), FALSE, __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST) ? TRUE : FALSE; \\\n@@ -186,0 +187,9 @@\n+#if defined(glib_typeof) && defined(__cplusplus) && __cplusplus >= 201103L\n+\/* This is typesafe because we check we can assign oldval to the type of\n+ * (*atomic). Unfortunately it can only be done in C++ because gcc\/clang warn\n+ * when atomic is volatile and not oldval, or when atomic is gsize* and oldval\n+ * is NULL. Note that clang++ force us to be typesafe because it is an error if the 2nd\n+ * argument of __atomic_compare_exchange_n() has a different type than the\n+ * first.\n+ * https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/merge_requests\/1919\n+ * https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/merge_requests\/1715#note_1024120. *\/\n@@ -189,1 +199,1 @@\n-    __typeof__ ((oldval)) gapcae_oldval = (oldval);                          \\\n+    glib_typeof (*(atomic)) gapcae_oldval = (oldval);                        \\\n@@ -194,0 +204,10 @@\n+#else \/* if !(defined(glib_typeof) && defined(__cplusplus) && __cplusplus >= 201103L) *\/\n+#define g_atomic_pointer_compare_and_exchange(atomic, oldval, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof (oldval) == sizeof (gpointer));                  \\\n+    gpointer gapcae_oldval = (gpointer)(oldval);                             \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n+    __atomic_compare_exchange_n ((atomic), (void *) (&(gapcae_oldval)), (newval), FALSE, __ATOMIC_SEQ_CST, __ATOMIC_SEQ_CST) ? TRUE : FALSE; \\\n+  }))\n+#endif \/* defined(glib_typeof) *\/\n@@ -203,1 +223,1 @@\n-    volatile gsize *gapa_atomic = (volatile gsize *) (atomic);               \\\n+    gsize *gapa_atomic = (gsize *) (atomic);                                 \\\n@@ -212,1 +232,1 @@\n-    volatile gsize *gapo_atomic = (volatile gsize *) (atomic);               \\\n+    gsize *gapo_atomic = (gsize *) (atomic);                                 \\\n@@ -221,1 +241,1 @@\n-    volatile gsize *gapx_atomic = (volatile gsize *) (atomic);               \\\n+    gsize *gapx_atomic = (gsize *) (atomic);                                 \\\n@@ -286,0 +306,10 @@\n+#if defined(glib_typeof)\n+#define g_atomic_pointer_set(atomic, newval) \\\n+  (G_GNUC_EXTENSION ({                                                       \\\n+    G_STATIC_ASSERT (sizeof *(atomic) == sizeof (gpointer));                 \\\n+    (void) (0 ? (gpointer) *(atomic) : NULL);                                \\\n+    __sync_synchronize ();                                                   \\\n+    __asm__ __volatile__ (\"\" : : : \"memory\");                                \\\n+    *(atomic) = (glib_typeof (*(atomic))) (gsize) (newval);                  \\\n+  }))\n+#else \/* if !(defined(glib_typeof) *\/\n@@ -292,1 +322,1 @@\n-    *(atomic) = (__typeof__ (*(atomic))) (gsize) (newval);                   \\\n+    *(atomic) = (gpointer) (gsize) (newval);                                         \\\n@@ -294,0 +324,1 @@\n+#endif \/* if defined(glib_typeof) *\/\n@@ -396,0 +427,11 @@\n+#if defined(glib_typeof)\n+  \/* The (void *) cast in the middle *looks* redundant, because\n+   * g_atomic_pointer_get returns void * already, but it's to silence\n+   * -Werror=bad-function-cast when we're doing something like:\n+   * guintptr a, b; ...; a = g_atomic_pointer_get (&b);\n+   * which would otherwise be assigning the void * result of\n+   * g_atomic_pointer_get directly to the pointer-sized but\n+   * non-pointer-typed result. *\/\n+#define g_atomic_pointer_get(atomic)                                       \\\n+  (glib_typeof (*(atomic))) (void *) ((g_atomic_pointer_get) ((void *) atomic))\n+#else \/* !(defined(glib_typeof) *\/\n@@ -398,0 +440,2 @@\n+#endif\n+\n@@ -400,0 +444,1 @@\n+\n@@ -411,1 +456,1 @@\n-#endif \/* defined(__GNUC__) && defined(G_ATOMIC_OP_USE_GCC_BUILTINS) *\/\n+#endif \/* defined(G_ATOMIC_LOCK_FREE) && defined(__GCC_HAVE_SYNC_COMPARE_AND_SWAP_4) *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gatomic.h","additions":71,"deletions":26,"binary":false,"changes":97,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+#include \"gunicode.h\"\n@@ -209,3 +210,14 @@\n-  MessageBox (NULL, \"g_on_error_query called, program terminating\",\n-              (prg_name && *prg_name) ? prg_name : NULL,\n-              MB_OK|MB_ICONERROR);\n+  {\n+    WCHAR *caption = NULL;\n+\n+    if (prg_name && *prg_name)\n+      {\n+        caption = g_utf8_to_utf16 (prg_name, -1, NULL, NULL, NULL);\n+      }\n+\n+    MessageBoxW (NULL, L\"g_on_error_query called, program terminating\",\n+                 caption,\n+                 MB_OK|MB_ICONERROR);\n+\n+    g_free (caption);\n+  }\n@@ -321,1 +333,4 @@\n-  int sel, idx, state, line_idx;\n+  int sel, idx, state;\n+#ifdef USE_LLDB\n+  int line_idx;\n+#endif\n@@ -340,1 +355,5 @@\n-        fcntl (old_err, F_SETFD, fcntl (old_err, F_GETFD) | FD_CLOEXEC);\n+        {\n+          int getfd = fcntl (old_err, F_GETFD);\n+          if (getfd != -1)\n+            (void) fcntl (old_err, F_SETFD, getfd | FD_CLOEXEC);\n+        }\n@@ -378,0 +397,1 @@\n+#ifdef USE_LLDB\n@@ -379,0 +399,1 @@\n+#endif\n@@ -395,0 +416,1 @@\n+#ifdef USE_LLDB\n@@ -396,0 +418,2 @@\n+#endif\n+\n@@ -419,0 +443,1 @@\n+#ifdef USE_LLDB\n@@ -420,0 +445,1 @@\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbacktrace.c","additions":31,"deletions":5,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#include <glib\/gmacros.h>\n@@ -78,2 +79,2 @@\n-g_futex_wait (const volatile gint *address,\n-              gint                 value)\n+g_futex_wait (const gint *address,\n+              gint        value)\n@@ -96,1 +97,1 @@\n-g_futex_wake (const volatile gint *address)\n+g_futex_wake (const gint *address)\n@@ -106,3 +107,3 @@\n-  const volatile gint *address;\n-  gint                 ref_count;\n-  GCond                wait_queue;\n+  const gint *address;\n+  gint ref_count;\n+  GCond wait_queue;\n@@ -112,1 +113,1 @@\n-g_futex_find_address (const volatile gint *address)\n+g_futex_find_address (const gint *address)\n@@ -128,2 +129,2 @@\n-g_futex_wait (const volatile gint *address,\n-              gint                 value)\n+g_futex_wait (const gint *address,\n+              gint        value)\n@@ -167,1 +168,1 @@\n-g_futex_wake (const volatile gint *address)\n+g_futex_wake (const gint *address)\n@@ -185,1 +186,1 @@\n-static volatile gint g_bit_lock_contended[CONTENTION_CLASSES];\n+static gint g_bit_lock_contended[CONTENTION_CLASSES];  \/* (atomic) *\/\n@@ -188,1 +189,1 @@\n-  #if __GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5)\n+  #if G_GNUC_CHECK_VERSION(4, 5)\n@@ -210,1 +211,2 @@\n- * reliably.\n+ * reliably. While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n@@ -218,0 +220,2 @@\n+  gint *address_nonvolatile = (gint *) address;\n+\n@@ -233,1 +237,1 @@\n-    v = (guint) g_atomic_int_get (address);\n+    v = (guint) g_atomic_int_get (address_nonvolatile);\n@@ -236,1 +240,1 @@\n-        guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+        guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -239,1 +243,1 @@\n-        g_futex_wait (address, v);\n+        g_futex_wait (address_nonvolatile, v);\n@@ -249,1 +253,1 @@\n-  v = g_atomic_int_or (address, mask);\n+  v = g_atomic_int_or (address_nonvolatile, mask);\n@@ -253,1 +257,1 @@\n-      guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+      guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -256,1 +260,1 @@\n-      g_futex_wait (address, v);\n+      g_futex_wait (address_nonvolatile, v);\n@@ -280,1 +284,2 @@\n- * reliably.\n+ * reliably. While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n@@ -302,0 +307,1 @@\n+  gint *address_nonvolatile = (gint *) address;\n@@ -305,1 +311,1 @@\n-  v = g_atomic_int_or (address, mask);\n+  v = g_atomic_int_or (address_nonvolatile, mask);\n@@ -322,1 +328,2 @@\n- * reliably.\n+ * reliably. While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n@@ -330,0 +337,2 @@\n+  gint *address_nonvolatile = (gint *) address;\n+\n@@ -331,4 +340,4 @@\n-  asm volatile (\"lock btr %1, (%0)\"\n-                : \/* no output *\/\n-                : \"r\" (address), \"r\" (lock_bit)\n-                : \"cc\", \"memory\");\n+  __asm__ volatile (\"lock btr %1, (%0)\"\n+                    : \/* no output *\/\n+                    : \"r\" (address), \"r\" (lock_bit)\n+                    : \"cc\", \"memory\");\n@@ -338,1 +347,1 @@\n-  g_atomic_int_and (address, ~mask);\n+  g_atomic_int_and (address_nonvolatile, ~mask);\n@@ -342,1 +351,1 @@\n-    guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+    guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -345,1 +354,1 @@\n-      g_futex_wake (address);\n+      g_futex_wake (address_nonvolatile);\n@@ -374,2 +383,2 @@\n-static const volatile gint *\n-g_futex_int_address (const volatile void *address)\n+static const gint *\n+g_futex_int_address (const void *address)\n@@ -377,1 +386,1 @@\n-  const volatile gint *int_address = address;\n+  const gint *int_address = address;\n@@ -403,0 +412,3 @@\n+ * While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n+ *\n@@ -409,0 +421,2 @@\n+  void *address_nonvolatile = (void *) address;\n+\n@@ -414,6 +428,6 @@\n-    asm volatile goto (\"lock bts %1, (%0)\\n\"\n-                       \"jc %l[contended]\"\n-                       : \/* no output *\/\n-                       : \"r\" (address), \"r\" ((gsize) lock_bit)\n-                       : \"cc\", \"memory\"\n-                       : contended);\n+    __asm__ volatile goto (\"lock bts %1, (%0)\\n\"\n+                           \"jc %l[contended]\"\n+                           : \/* no output *\/\n+                           : \"r\" (address), \"r\" ((gsize) lock_bit)\n+                           : \"cc\", \"memory\"\n+                           : contended);\n@@ -424,1 +438,1 @@\n-      volatile gsize *pointer_address = address;\n+      gsize *pointer_address = address_nonvolatile;\n@@ -431,1 +445,1 @@\n-          guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+          guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -434,1 +448,1 @@\n-          g_futex_wait (g_futex_int_address (address), v);\n+          g_futex_wait (g_futex_int_address (address_nonvolatile), v);\n@@ -440,1 +454,1 @@\n-  volatile gsize *pointer_address = address;\n+  gsize *pointer_address = address_nonvolatile;\n@@ -449,1 +463,1 @@\n-      guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+      guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -452,1 +466,1 @@\n-      g_futex_wait (g_futex_int_address (address), (guint) v);\n+      g_futex_wait (g_futex_int_address (address_nonvolatile), (guint) v);\n@@ -466,1 +480,1 @@\n- * This is equivalent to g_bit_trylock, but working on pointers (or\n+ * This is equivalent to g_bit_trylock(), but working on pointers (or\n@@ -472,0 +486,3 @@\n+ * While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n+ *\n@@ -486,6 +503,6 @@\n-    asm volatile (\"lock bts %2, (%1)\\n\"\n-                  \"setnc %%al\\n\"\n-                  \"movzx %%al, %0\"\n-                  : \"=r\" (result)\n-                  : \"r\" (address), \"r\" ((gsize) lock_bit)\n-                  : \"cc\", \"memory\");\n+    __asm__ volatile (\"lock bts %2, (%1)\\n\"\n+                      \"setnc %%al\\n\"\n+                      \"movzx %%al, %0\"\n+                      : \"=r\" (result)\n+                      : \"r\" (address), \"r\" ((gsize) lock_bit)\n+                      : \"cc\", \"memory\");\n@@ -495,1 +512,2 @@\n-    volatile gsize *pointer_address = address;\n+    void *address_nonvolatile = (void *) address;\n+    gsize *pointer_address = address_nonvolatile;\n@@ -519,0 +537,3 @@\n+ * While @address has a `volatile` qualifier, this is a historical\n+ * artifact and the argument passed to it should not be `volatile`.\n+ *\n@@ -525,0 +546,2 @@\n+  void *address_nonvolatile = (void *) address;\n+\n@@ -529,4 +552,4 @@\n-    asm volatile (\"lock btr %1, (%0)\"\n-                  : \/* no output *\/\n-                  : \"r\" (address), \"r\" ((gsize) lock_bit)\n-                  : \"cc\", \"memory\");\n+    __asm__ volatile (\"lock btr %1, (%0)\"\n+                      : \/* no output *\/\n+                      : \"r\" (address), \"r\" ((gsize) lock_bit)\n+                      : \"cc\", \"memory\");\n@@ -534,1 +557,1 @@\n-    volatile gsize *pointer_address = address;\n+    gsize *pointer_address = address_nonvolatile;\n@@ -541,1 +564,1 @@\n-      guint class = ((gsize) address) % G_N_ELEMENTS (g_bit_lock_contended);\n+      guint class = ((gsize) address_nonvolatile) % G_N_ELEMENTS (g_bit_lock_contended);\n@@ -543,1 +566,1 @@\n-        g_futex_wake (g_futex_int_address (address));\n+        g_futex_wake (g_futex_int_address (address_nonvolatile));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbitlock.c","additions":82,"deletions":59,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n- * [bookmarks.xbel](https:\/\/git.gnome.org\/browse\/glib\/tree\/glib\/tests\/bookmarks.xbel)\n+ * [bookmarks.xbel](https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/blob\/HEAD\/glib\/tests\/bookmarks.xbel)\n@@ -99,3 +99,3 @@\n-#define XBEL_VERSION        \"1.0\"\n-#define XBEL_DTD_NICK       \"xbel\"\n-#define XBEL_DTD_SYSTEM     \"+\/\/IDN python.org\/\/DTD XML Bookmark \" \\\n+#define XBEL_VERSION            \"1.0\"\n+#define XBEL_DTD_NICK           \"xbel\"\n+#define XBEL_DTD_SYSTEM         \"+\/\/IDN python.org\/\/DTD XML Bookmark \" \\\n@@ -104,1 +104,1 @@\n-#define XBEL_DTD_URI        \"http:\/\/www.python.org\/topics\/xml\/dtds\/xbel-1.0.dtd\"\n+#define XBEL_DTD_URI            \"http:\/\/www.python.org\/topics\/xml\/dtds\/xbel-1.0.dtd\"\n@@ -106,2 +106,2 @@\n-#define XBEL_ROOT_ELEMENT   \"xbel\"\n-#define XBEL_FOLDER_ELEMENT \"folder\"    \/* unused *\/\n+#define XBEL_ROOT_ELEMENT       \"xbel\"\n+#define XBEL_FOLDER_ELEMENT     \"folder\"        \/* unused *\/\n@@ -109,1 +109,1 @@\n-#define XBEL_ALIAS_ELEMENT  \"alias\"     \/* unused *\/\n+#define XBEL_ALIAS_ELEMENT      \"alias\"         \/* unused *\/\n@@ -111,3 +111,3 @@\n-#define XBEL_TITLE_ELEMENT  \"title\"\n-#define XBEL_DESC_ELEMENT   \"desc\"\n-#define XBEL_INFO_ELEMENT   \"info\"\n+#define XBEL_TITLE_ELEMENT      \"title\"\n+#define XBEL_DESC_ELEMENT       \"desc\"\n+#define XBEL_INFO_ELEMENT       \"info\"\n@@ -117,1 +117,1 @@\n-#define XBEL_FOLDED_ATTRIBUTE   \"folded\"    \/* unused *\/\n+#define XBEL_FOLDED_ATTRIBUTE   \"folded\"        \/* unused *\/\n@@ -122,3 +122,3 @@\n-#define XBEL_ID_ATTRIBUTE   \"id\"\n-#define XBEL_HREF_ATTRIBUTE \"href\"\n-#define XBEL_REF_ATTRIBUTE  \"ref\"       \/* unused *\/\n+#define XBEL_ID_ATTRIBUTE       \"id\"\n+#define XBEL_HREF_ATTRIBUTE     \"href\"\n+#define XBEL_REF_ATTRIBUTE      \"ref\"           \/* unused *\/\n@@ -126,2 +126,2 @@\n-#define XBEL_YES_VALUE      \"yes\"\n-#define XBEL_NO_VALUE       \"no\"\n+#define XBEL_YES_VALUE          \"yes\"\n+#define XBEL_NO_VALUE           \"no\"\n@@ -130,1 +130,1 @@\n-#define BOOKMARK_METADATA_OWNER     \"http:\/\/freedesktop.org\"\n+#define BOOKMARK_METADATA_OWNER         \"http:\/\/freedesktop.org\"\n@@ -132,2 +132,2 @@\n-#define BOOKMARK_NAMESPACE_NAME     \"bookmark\"\n-#define BOOKMARK_NAMESPACE_URI      \"http:\/\/www.freedesktop.org\/standards\/desktop-bookmarks\"\n+#define BOOKMARK_NAMESPACE_NAME         \"bookmark\"\n+#define BOOKMARK_NAMESPACE_URI          \"http:\/\/www.freedesktop.org\/standards\/desktop-bookmarks\"\n@@ -135,2 +135,2 @@\n-#define BOOKMARK_GROUPS_ELEMENT     \"groups\"\n-#define BOOKMARK_GROUP_ELEMENT      \"group\"\n+#define BOOKMARK_GROUPS_ELEMENT         \"groups\"\n+#define BOOKMARK_GROUP_ELEMENT          \"group\"\n@@ -139,2 +139,2 @@\n-#define BOOKMARK_ICON_ELEMENT       \"icon\"\n-#define BOOKMARK_PRIVATE_ELEMENT    \"private\"\n+#define BOOKMARK_ICON_ELEMENT           \"icon\"\n+#define BOOKMARK_PRIVATE_ELEMENT        \"private\"\n@@ -142,3 +142,3 @@\n-#define BOOKMARK_NAME_ATTRIBUTE     \"name\"\n-#define BOOKMARK_EXEC_ATTRIBUTE     \"exec\"\n-#define BOOKMARK_COUNT_ATTRIBUTE    \"count\"\n+#define BOOKMARK_NAME_ATTRIBUTE         \"name\"\n+#define BOOKMARK_EXEC_ATTRIBUTE         \"exec\"\n+#define BOOKMARK_COUNT_ATTRIBUTE        \"count\"\n@@ -147,2 +147,2 @@\n-#define BOOKMARK_HREF_ATTRIBUTE     \"href\"\n-#define BOOKMARK_TYPE_ATTRIBUTE     \"type\"\n+#define BOOKMARK_HREF_ATTRIBUTE         \"href\"\n+#define BOOKMARK_TYPE_ATTRIBUTE         \"type\"\n@@ -151,4 +151,4 @@\n-#define MIME_NAMESPACE_NAME         \"mime\"\n-#define MIME_NAMESPACE_URI      \"http:\/\/www.freedesktop.org\/standards\/shared-mime-info\"\n-#define MIME_TYPE_ELEMENT       \"mime-type\"\n-#define MIME_TYPE_ATTRIBUTE         \"type\"\n+#define MIME_NAMESPACE_NAME             \"mime\"\n+#define MIME_NAMESPACE_URI              \"http:\/\/www.freedesktop.org\/standards\/shared-mime-info\"\n+#define MIME_TYPE_ELEMENT               \"mime-type\"\n+#define MIME_TYPE_ATTRIBUTE             \"type\"\n@@ -571,1 +571,0 @@\n-  gchar *added, *visited, *modified;\n@@ -573,1 +572,0 @@\n-  gchar *buffer;\n@@ -586,3 +584,1 @@\n-  added = g_date_time_format_iso8601 (item->added);\n-  modified = g_date_time_format_iso8601 (item->modified);\n-  visited = g_date_time_format_iso8601 (item->visited);\n+  g_string_append (retval, \"  <\" XBEL_BOOKMARK_ELEMENT \" \");\n@@ -592,10 +588,3 @@\n-  buffer = g_strconcat (\"  <\"\n-                        XBEL_BOOKMARK_ELEMENT\n-                        \" \"\n-                        XBEL_HREF_ATTRIBUTE \"=\\\"\", escaped_uri, \"\\\" \"\n-                        XBEL_ADDED_ATTRIBUTE \"=\\\"\", added, \"\\\" \"\n-                        XBEL_MODIFIED_ATTRIBUTE \"=\\\"\", modified, \"\\\" \"\n-                        XBEL_VISITED_ATTRIBUTE \"=\\\"\", visited, \"\\\">\\n\",\n-                        NULL);\n-\n-  g_string_append (retval, buffer);\n+  g_string_append (retval, XBEL_HREF_ATTRIBUTE \"=\\\"\");\n+  g_string_append (retval, escaped_uri);\n+  g_string_append (retval , \"\\\" \");\n@@ -604,4 +593,37 @@\n-  g_free (visited);\n-  g_free (modified);\n-  g_free (added);\n-  g_free (buffer);\n+\n+  if (item->added)\n+    {\n+      char *added;\n+\n+      added = g_date_time_format_iso8601 (item->added);\n+      g_string_append (retval, XBEL_ADDED_ATTRIBUTE \"=\\\"\");\n+      g_string_append (retval, added);\n+      g_string_append (retval, \"\\\" \");\n+      g_free (added);\n+    }\n+\n+  if (item->modified)\n+    {\n+      char *modified;\n+\n+      modified = g_date_time_format_iso8601 (item->modified);\n+      g_string_append (retval, XBEL_MODIFIED_ATTRIBUTE \"=\\\"\");\n+      g_string_append (retval, modified);\n+      g_string_append (retval, \"\\\" \");\n+      g_free (modified);\n+    }\n+\n+  if (item->visited)\n+    {\n+      char *visited;\n+\n+      visited = g_date_time_format_iso8601 (item->visited);\n+      g_string_append (retval, XBEL_VISITED_ATTRIBUTE \"=\\\"\");\n+      g_string_append (retval, visited);\n+      g_string_append (retval, \"\\\" \");\n+      g_free (visited);\n+    }\n+\n+  if (retval->str[retval->len - 1] == ' ')\n+    g_string_truncate (retval, retval->len - 1);\n+  g_string_append (retval, \">\\n\");\n@@ -614,6 +636,3 @@\n-      buffer = g_strconcat (\"    \"\n-                            \"<\" XBEL_TITLE_ELEMENT \">\",\n-                            escaped_title,\n-                            \"<\/\" XBEL_TITLE_ELEMENT \">\\n\",\n-                            NULL);\n-      g_string_append (retval, buffer);\n+      g_string_append (retval, \"    \" \"<\" XBEL_TITLE_ELEMENT \">\");\n+      g_string_append (retval, escaped_title);\n+      g_string_append (retval, \"<\/\" XBEL_TITLE_ELEMENT \">\\n\");\n@@ -622,1 +641,0 @@\n-      g_free (buffer);\n@@ -630,6 +648,3 @@\n-      buffer = g_strconcat (\"    \"\n-                            \"<\" XBEL_DESC_ELEMENT \">\",\n-                            escaped_desc,\n-                            \"<\/\" XBEL_DESC_ELEMENT \">\\n\",\n-                            NULL);\n-      g_string_append (retval, buffer);\n+      g_string_append (retval, \"    \" \"<\" XBEL_DESC_ELEMENT \">\");\n+      g_string_append (retval, escaped_desc);\n+      g_string_append (retval, \"<\/\" XBEL_DESC_ELEMENT \">\\n\");\n@@ -638,1 +653,0 @@\n-      g_free (buffer);\n@@ -648,11 +662,6 @@\n-          buffer = g_strconcat (\"    \"\n-                                \"<\" XBEL_INFO_ELEMENT \">\\n\",\n-                                metadata,\n-                                \"    \"\n-        \"<\/\" XBEL_INFO_ELEMENT \">\\n\",\n-                                NULL);\n-          retval = g_string_append (retval, buffer);\n-\n-          g_free (buffer);\n-    g_free (metadata);\n-  }\n+          g_string_append (retval, \"    \" \"<\" XBEL_INFO_ELEMENT \">\\n\");\n+          g_string_append (retval, metadata);\n+          g_string_append (retval, \"    \" \"<\/\" XBEL_INFO_ELEMENT \">\\n\");\n+\n+          g_free (metadata);\n+        }\n@@ -747,1 +756,1 @@\n-#define IS_ATTRIBUTE(s,a)   ((0 == strcmp ((s), (a))))\n+#define IS_ATTRIBUTE(s,a)       ((0 == strcmp ((s), (a))))\n@@ -783,4 +792,4 @@\n-           G_MARKUP_ERROR_UNKNOWN_ATTRIBUTE,\n-                   _(\"Unexpected attribute '%s' for element '%s'\"),\n-                   attr,\n-                   XBEL_BOOKMARK_ELEMENT);\n+                       G_MARKUP_ERROR_UNKNOWN_ATTRIBUTE,\n+                       _(\"Unexpected attribute '%s' for element '%s'\"),\n+                       attr,\n+                       XBEL_BOOKMARK_ELEMENT);\n@@ -794,4 +803,4 @@\n-             G_MARKUP_ERROR_INVALID_CONTENT,\n-             _(\"Attribute '%s' of element '%s' not found\"),\n-             XBEL_HREF_ATTRIBUTE,\n-             XBEL_BOOKMARK_ELEMENT);\n+                   G_MARKUP_ERROR_INVALID_CONTENT,\n+                   _(\"Attribute '%s' of element '%s' not found\"),\n+                   XBEL_HREF_ATTRIBUTE,\n+                   XBEL_BOOKMARK_ELEMENT);\n@@ -879,4 +888,4 @@\n-             G_MARKUP_ERROR_INVALID_CONTENT,\n-             _(\"Attribute '%s' of element '%s' not found\"),\n-             BOOKMARK_NAME_ATTRIBUTE,\n-             BOOKMARK_APPLICATION_ELEMENT);\n+                   G_MARKUP_ERROR_INVALID_CONTENT,\n+                   _(\"Attribute '%s' of element '%s' not found\"),\n+                   BOOKMARK_NAME_ATTRIBUTE,\n+                   BOOKMARK_APPLICATION_ELEMENT);\n@@ -889,4 +898,4 @@\n-             G_MARKUP_ERROR_INVALID_CONTENT,\n-             _(\"Attribute '%s' of element '%s' not found\"),\n-             BOOKMARK_EXEC_ATTRIBUTE,\n-             BOOKMARK_APPLICATION_ELEMENT);\n+                   G_MARKUP_ERROR_INVALID_CONTENT,\n+                   _(\"Attribute '%s' of element '%s' not found\"),\n+                   BOOKMARK_EXEC_ATTRIBUTE,\n+                   BOOKMARK_APPLICATION_ELEMENT);\n@@ -1010,4 +1019,4 @@\n-             G_MARKUP_ERROR_INVALID_CONTENT,\n-             _(\"Attribute '%s' of element '%s' not found\"),\n-             BOOKMARK_HREF_ATTRIBUTE,\n-             BOOKMARK_ICON_ELEMENT);\n+                   G_MARKUP_ERROR_INVALID_CONTENT,\n+                   _(\"Attribute '%s' of element '%s' not found\"),\n+                   BOOKMARK_HREF_ATTRIBUTE,\n+                   BOOKMARK_ICON_ELEMENT);\n@@ -1048,1 +1057,1 @@\n-           const gchar **attribute_values)\n+                       const gchar **attribute_values)\n@@ -1143,1 +1152,1 @@\n-#define IS_ELEMENT(p,s,e)   (is_element_full ((p), (s), NULL, (e), '\\0'))\n+#define IS_ELEMENT(p,s,e)       (is_element_full ((p), (s), NULL, (e), '\\0'))\n@@ -1219,3 +1228,3 @@\n-         G_MARKUP_ERROR_INVALID_CONTENT,\n-                 _(\"Unexpected tag '%s', tag '%s' expected\"),\n-                 element_name, XBEL_ROOT_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n+                     element_name, XBEL_ROOT_ELEMENT);\n@@ -1244,4 +1253,4 @@\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-               _(\"Unexpected tag '%s' inside '%s'\"),\n-               element_name,\n-               XBEL_ROOT_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s' inside '%s'\"),\n+                     element_name,\n+                     XBEL_ROOT_ELEMENT);\n@@ -1258,4 +1267,4 @@\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-                 _(\"Unexpected tag '%s' inside '%s'\"),\n-                 element_name,\n-                 XBEL_BOOKMARK_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s' inside '%s'\"),\n+                     element_name,\n+                     XBEL_BOOKMARK_ELEMENT);\n@@ -1284,4 +1293,4 @@\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-               _(\"Unexpected tag '%s', tag '%s' expected\"),\n-               element_name,\n-               XBEL_METADATA_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n+                     element_name,\n+                     XBEL_METADATA_ELEMENT);\n@@ -1303,4 +1312,4 @@\n-                    parse_data,\n-                    attribute_names,\n-                    attribute_values,\n-                    &inner_error);\n+                              parse_data,\n+                              attribute_names,\n+                              attribute_values,\n+                              &inner_error);\n@@ -1326,4 +1335,4 @@\n-               G_MARKUP_ERROR_UNKNOWN_ELEMENT,\n-               _(\"Unexpected tag '%s' inside '%s'\"),\n-               element_name,\n-               XBEL_METADATA_ELEMENT);\n+                     G_MARKUP_ERROR_UNKNOWN_ELEMENT,\n+                     _(\"Unexpected tag '%s' inside '%s'\"),\n+                     element_name,\n+                     XBEL_METADATA_ELEMENT);\n@@ -1348,4 +1357,4 @@\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-               _(\"Unexpected tag '%s', tag '%s' expected\"),\n-               element_name,\n-               BOOKMARK_APPLICATION_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n+                     element_name,\n+                     BOOKMARK_APPLICATION_ELEMENT);\n@@ -1358,4 +1367,4 @@\n-               G_MARKUP_ERROR_INVALID_CONTENT,\n-               _(\"Unexpected tag '%s', tag '%s' expected\"),\n-               element_name,\n-               BOOKMARK_GROUP_ELEMENT);\n+                     G_MARKUP_ERROR_INVALID_CONTENT,\n+                     _(\"Unexpected tag '%s', tag '%s' expected\"),\n+                     element_name,\n+                     BOOKMARK_GROUP_ELEMENT);\n@@ -1955,1 +1964,1 @@\n- * Returns: (array length=length) (element-type guint8):\n+ * Returns: (transfer full) (array length=length) (element-type guint8):\n@@ -2062,3 +2071,3 @@\n-       G_BOOKMARK_FILE_ERROR_INVALID_URI,\n-       _(\"A bookmark for URI '%s' already exists\"),\n-       item->uri);\n+                   G_BOOKMARK_FILE_ERROR_INVALID_URI,\n+                   _(\"A bookmark for URI '%s' already exists\"),\n+                   item->uri);\n@@ -2111,3 +2120,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2246,1 +2255,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2248,1 +2257,1 @@\n- * Returns: a newly allocated string or %NULL if the specified\n+ * Returns: (transfer full): a newly allocated string or %NULL if the specified\n@@ -2269,3 +2278,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2331,1 +2340,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2333,1 +2342,1 @@\n- * Returns: a newly allocated string or %NULL if the specified\n+ * Returns: (transfer full): a newly allocated string or %NULL if the specified\n@@ -2354,3 +2363,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2411,1 +2420,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n@@ -2413,1 +2422,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n@@ -2415,1 +2424,1 @@\n- * Returns: a newly allocated string or %NULL if the specified\n+ * Returns: (transfer full): a newly allocated string or %NULL if the specified\n@@ -2434,3 +2443,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2443,3 +2452,3 @@\n-       G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-       _(\"No MIME type defined in the bookmark for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n+                   _(\"No MIME type defined in the bookmark for URI '%s'\"),\n+                   uri);\n@@ -2497,1 +2506,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n@@ -2499,1 +2508,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n@@ -2519,3 +2528,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2528,3 +2537,3 @@\n-       G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n-       _(\"No private flag has been defined in bookmark for URI '%s'\"),\n-        uri);\n+                   G_BOOKMARK_FILE_ERROR_INVALID_VALUE,\n+                   _(\"No private flag has been defined in bookmark for URI '%s'\"),\n+                   uri);\n@@ -2606,1 +2615,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2632,1 +2641,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2653,3 +2662,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2739,1 +2748,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2765,1 +2774,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2786,3 +2795,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2874,1 +2883,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2900,1 +2909,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2921,3 +2930,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -2941,1 +2950,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -2963,3 +2972,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3036,1 +3045,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3038,1 +3047,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_INVALID_VALUE.\n@@ -3060,3 +3069,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3153,1 +3162,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3181,3 +3190,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3303,1 +3312,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3306,1 +3315,1 @@\n- * #G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.\n+ * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.\n@@ -3353,1 +3362,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3375,3 +3384,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3417,1 +3426,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n@@ -3420,1 +3429,1 @@\n- * #G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n+ * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n@@ -3480,1 +3489,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND; similarly,\n@@ -3483,1 +3492,1 @@\n- * #G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n+ * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED.  Otherwise, if no bookmark\n@@ -3516,3 +3525,3 @@\n-           G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-           _(\"No bookmark found for URI '%s'\"),\n-           uri);\n+                       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                       _(\"No bookmark found for URI '%s'\"),\n+                       uri);\n@@ -3537,4 +3546,4 @@\n-           G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n-           _(\"No application with name '%s' registered a bookmark for '%s'\"),\n-           name,\n-           uri);\n+                       G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n+                       _(\"No application with name '%s' registered a bookmark for '%s'\"),\n+                       name,\n+                       uri);\n@@ -3656,1 +3665,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n@@ -3659,2 +3668,2 @@\n- * #G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n- * the command line fails, an error of the #G_SHELL_ERROR domain is\n+ * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n+ * the command line fails, an error of the %G_SHELL_ERROR domain is\n@@ -3708,1 +3717,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.  In the\n@@ -3711,2 +3720,2 @@\n- * #G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n- * the command line fails, an error of the #G_SHELL_ERROR domain is\n+ * %G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED. In the event that unquoting\n+ * the command line fails, an error of the %G_SHELL_ERROR domain is\n@@ -3740,3 +3749,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3750,4 +3759,4 @@\n-       G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n-       _(\"No application with name '%s' registered a bookmark for '%s'\"),\n-       name,\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_APP_NOT_REGISTERED,\n+                   _(\"No application with name '%s' registered a bookmark for '%s'\"),\n+                   name,\n+                   uri);\n@@ -3773,3 +3782,3 @@\n-           G_BOOKMARK_FILE_ERROR_INVALID_URI,\n-           _(\"Failed to expand exec line '%s' with URI '%s'\"),\n-         ai->exec, uri);\n+                       G_BOOKMARK_FILE_ERROR_INVALID_URI,\n+                       _(\"Failed to expand exec line '%s' with URI '%s'\"),\n+                       ai->exec, uri);\n@@ -3804,1 +3813,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3829,3 +3838,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n@@ -3897,1 +3906,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -3918,3 +3927,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       old_uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   old_uri);\n@@ -4014,1 +4023,1 @@\n- * @error is set to #G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n+ * @error is set to %G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND.\n@@ -4037,3 +4046,3 @@\n-       G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n-       _(\"No bookmark found for URI '%s'\"),\n-       uri);\n+                   G_BOOKMARK_FILE_ERROR_URI_NOT_FOUND,\n+                   _(\"No bookmark found for URI '%s'\"),\n+                   uri);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbookmarkfile.c","additions":247,"deletions":238,"binary":false,"changes":485,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+ *\n@@ -75,2 +76,1 @@\n- * The `GBookmarkFile` structure contains only\n- * private data and should not be directly accessed.\n+ * An opaque data structure representing a set of bookmarks.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbookmarkfile.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,2 +37,0 @@\n-#include \"gstrfuncsprivate.h\"\n-\n@@ -543,0 +541,72 @@\n+\n+\/**\n+ * g_bytes_get_region:\n+ * @bytes: a #GBytes\n+ * @element_size: a non-zero element size\n+ * @offset: an offset to the start of the region within the @bytes\n+ * @n_elements: the number of elements in the region\n+ *\n+ * Gets a pointer to a region in @bytes.\n+ *\n+ * The region starts at @offset many bytes from the start of the data\n+ * and contains @n_elements many elements of @element_size size.\n+ *\n+ * @n_elements may be zero, but @element_size must always be non-zero.\n+ * Ideally, @element_size is a static constant (eg: sizeof a struct).\n+ *\n+ * This function does careful bounds checking (including checking for\n+ * arithmetic overflows) and returns a non-%NULL pointer if the\n+ * specified region lies entirely within the @bytes. If the region is\n+ * in some way out of range, or if an overflow has occurred, then %NULL\n+ * is returned.\n+ *\n+ * Note: it is possible to have a valid zero-size region. In this case,\n+ * the returned pointer will be equal to the base pointer of the data of\n+ * @bytes, plus @offset.  This will be non-%NULL except for the case\n+ * where @bytes itself was a zero-sized region.  Since it is unlikely\n+ * that you will be using this function to check for a zero-sized region\n+ * in a zero-sized @bytes, %NULL effectively always means \"error\".\n+ *\n+ * Returns: (nullable): the requested region, or %NULL in case of an error\n+ *\n+ * Since: 2.70\n+ *\/\n+gconstpointer\n+g_bytes_get_region (GBytes *bytes,\n+                    gsize   element_size,\n+                    gsize   offset,\n+                    gsize   n_elements)\n+{\n+  gsize total_size;\n+  gsize end_offset;\n+\n+  g_return_val_if_fail (element_size > 0, NULL);\n+\n+  \/* No other assertion checks here.  If something is wrong then we will\n+   * simply crash (via NULL dereference or divide-by-zero).\n+   *\/\n+\n+  if (!g_size_checked_mul (&total_size, element_size, n_elements))\n+    return NULL;\n+\n+  if (!g_size_checked_add (&end_offset, offset, total_size))\n+    return NULL;\n+\n+  \/* We now have:\n+   *\n+   *   0 <= offset <= end_offset\n+   *\n+   * So we need only check that end_offset is within the range of the\n+   * size of @bytes and we're good to go.\n+   *\/\n+\n+  if (end_offset > bytes->size)\n+    return NULL;\n+\n+  \/* We now have:\n+   *\n+   *   0 <= offset <= end_offset <= bytes->size\n+   *\/\n+\n+  return ((guchar *) bytes->data) + offset;\n+}\n\\ No newline at end of file\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbytes.c","additions":72,"deletions":2,"binary":false,"changes":74,"status":"modified"},{"patch":"@@ -88,0 +88,7 @@\n+GLIB_AVAILABLE_IN_2_70\n+gconstpointer   g_bytes_get_region              (GBytes         *bytes,\n+                                                 gsize           element_size,\n+                                                 gsize           offset,\n+                                                 gsize           n_elements);\n+\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gbytes.h","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -39,0 +39,6 @@\n+\n+#if (HAVE_LANGINFO_TIME_CODESET || HAVE_LANGINFO_CODESET)\n+#include <langinfo.h>\n+#endif\n+\n+#include <locale.h>\n@@ -106,0 +112,6 @@\n+  \/* Allow CHARSET to override the charset of any locale category. Users should\n+   * probably never be setting this — instead, just add the charset after a `.`\n+   * in `LANGUAGE`\/`LC_ALL`\/`LC_*`\/`LANG`. I can’t find any reference (in\n+   * `git log`, code comments, or man pages) to this environment variable being\n+   * standardised or documented or even used anywhere outside GLib. Perhaps it\n+   * should eventually be removed. *\/\n@@ -218,0 +230,81 @@\n+\/*\n+ * Do the same as g_get_charset() but it temporarily set locale (LC_ALL to\n+ * LC_TIME) to correctly check for charset about time conversion relatives.\n+ *\n+ * Returns: %TRUE if the returned charset is UTF-8\n+ *\/\n+gboolean\n+_g_get_time_charset (const char **charset)\n+{\n+  static GPrivate cache_private = G_PRIVATE_INIT (charset_cache_free);\n+  GCharsetCache *cache = g_private_get (&cache_private);\n+  const gchar *raw;\n+\n+  if (!cache)\n+    cache = g_private_set_alloc0 (&cache_private, sizeof (GCharsetCache));\n+\n+#ifdef HAVE_LANGINFO_TIME_CODESET\n+  raw = nl_langinfo (_NL_TIME_CODESET);\n+#else\n+  G_LOCK (aliases);\n+  raw = _g_locale_charset_raw ();\n+  G_UNLOCK (aliases);\n+#endif\n+\n+  if (cache->raw == NULL || strcmp (cache->raw, raw) != 0)\n+    {\n+      const gchar *new_charset;\n+\n+      g_free (cache->raw);\n+      g_free (cache->charset);\n+      cache->raw = g_strdup (raw);\n+      cache->is_utf8 = g_utf8_get_charset_internal (raw, &new_charset);\n+      cache->charset = g_strdup (new_charset);\n+    }\n+\n+  if (charset)\n+    *charset = cache->charset;\n+\n+  return cache->is_utf8;\n+}\n+\/*\n+ * Do the same as g_get_charset() but it temporarily set locale (LC_ALL to\n+ * LC_CTYPE) to correctly check for charset about CTYPE conversion relatives.\n+ *\n+ * Returns: %TRUE if the returned charset is UTF-8\n+ *\/\n+gboolean\n+_g_get_ctype_charset (const char **charset)\n+{\n+  static GPrivate cache_private = G_PRIVATE_INIT (charset_cache_free);\n+  GCharsetCache *cache = g_private_get (&cache_private);\n+  const gchar *raw;\n+\n+  if (!cache)\n+    cache = g_private_set_alloc0 (&cache_private, sizeof (GCharsetCache));\n+\n+#ifdef HAVE_LANGINFO_CODESET\n+  raw = nl_langinfo (CODESET);\n+#else\n+  G_LOCK (aliases);\n+  raw = _g_locale_charset_raw ();\n+  G_UNLOCK (aliases);\n+#endif\n+\n+  if (cache->raw == NULL || strcmp (cache->raw, raw) != 0)\n+    {\n+      const gchar *new_charset;\n+\n+      g_free (cache->raw);\n+      g_free (cache->charset);\n+      cache->raw = g_strdup (raw);\n+      cache->is_utf8 = g_utf8_get_charset_internal (raw, &new_charset);\n+      cache->charset = g_strdup (new_charset);\n+    }\n+\n+  if (charset)\n+    *charset = cache->charset;\n+\n+  return cache->is_utf8;\n+}\n+\n@@ -293,1 +386,1 @@\n-          else if (modifier - dot < sizeof (buf))\n+          else if ((gsize) (modifier - dot) < sizeof (buf))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gcharset.c","additions":94,"deletions":1,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -28,0 +28,4 @@\n+gboolean      _g_get_time_charset    (const char **charset);\n+\n+gboolean      _g_get_ctype_charset   (const char **charset);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gcharsetprivate.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1464,1 +1464,1 @@\n- * Returns: (transfer full): the newly created #GChecksum, or %NULL.\n+ * Returns: (transfer full) (nullable): the newly created #GChecksum, or %NULL.\n@@ -1532,2 +1532,2 @@\n- * Returns: the copy of the passed #GChecksum. Use g_checksum_free()\n- *   when finished using it.\n+ * Returns: (transfer full): the copy of the passed #GChecksum. Use\n+ *   g_checksum_free() when finished using it.\n@@ -1783,2 +1783,4 @@\n- * Returns: the digest of the binary data as a string in hexadecimal.\n- *   The returned string should be freed with g_free() when done using it.\n+ * Returns: (transfer full) (nullable): the digest of the binary data as a\n+ *   string in hexadecimal, or %NULL if g_checksum_new() fails for\n+ *   @checksum_type. The returned string should be freed with g_free() when\n+ *   done using it.\n@@ -1796,1 +1798,0 @@\n-  g_return_val_if_fail (IS_VALID_TYPE (checksum_type), NULL);\n@@ -1820,1 +1821,2 @@\n- * Returns: the checksum as a hexadecimal string. The returned string\n+ * Returns: (transfer full) (nullable): the checksum as a hexadecimal string,\n+ *   or %NULL if g_checksum_new() fails for @checksum_type. The returned string\n@@ -1830,1 +1832,0 @@\n-  g_return_val_if_fail (IS_VALID_TYPE (checksum_type), NULL);\n@@ -1850,2 +1851,4 @@\n- * Returns: the digest of the binary data as a string in hexadecimal.\n- *   The returned string should be freed with g_free() when done using it.\n+ * Returns: (transfer full) (nullable): the digest of the binary data as a\n+ *   string in hexadecimal, or %NULL if g_checksum_new() fails for\n+ *   @checksum_type. The returned string should be freed with g_free() when\n+ *   done using it.\n@@ -1862,1 +1865,0 @@\n-  g_return_val_if_fail (IS_VALID_TYPE (checksum_type), NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gchecksum.c","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -59,0 +59,1 @@\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gchecksum.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,27 @@\n+\/* GLIB - Library of useful routines for C programming\n+ * Copyright (C) 1995-1997  Peter Mattis, Spencer Kimball and Josh MacDonald\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2.1 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n+ *\/\n+\n+\/*\n+ * Modified by the GLib Team and others 1997-2000.  See the AUTHORS\n+ * file for a list of people on the GLib Team.  See the ChangeLog\n+ * files for a list of changes.  These files are distributed with\n+ * GLib at ftp:\/\/ftp.gtk.org\/pub\/gtk\/.\n+ *\/\n+\n+#ifndef __G_CONSTRUCTOR_H__\n+#define __G_CONSTRUCTOR_H__\n+\n@@ -31,0 +58,9 @@\n+\/*\n+ * Only try to include gslist.h if not already included via glib.h,\n+ * so that items using gconstructor.h outside of GLib (such as\n+ * GResources) continue to build properly.\n+ *\/\n+#ifndef __G_LIB_H__\n+#include \"gslist.h\"\n+#endif\n+\n@@ -123,0 +159,1 @@\n+#endif \/* __G_CONSTRUCTOR_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconstructor.h","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+#include \"gconvertprivate.h\"\n@@ -144,1 +145,1 @@\n- *    environment variable even though he has files whose names are\n+ *    environment variable even though they have files whose names are\n@@ -356,1 +357,1 @@\n- *                 #G_CONVERT_ERROR_ILLEGAL_SEQUENCE occurs, the value\n+ *                 %G_CONVERT_ERROR_ILLEGAL_SEQUENCE occurs, the value\n@@ -527,1 +528,1 @@\n- *                 #G_CONVERT_ERROR_ILLEGAL_SEQUENCE occurs, the value\n+ *                 %G_CONVERT_ERROR_ILLEGAL_SEQUENCE occurs, the value\n@@ -1018,0 +1019,46 @@\n+\/*\n+ * Do the exact same as g_locale_to_utf8 except that the charset would\n+ * be retrieved from _g_get_time_charset (which uses LC_TIME)\n+ *\n+ * Returns: The converted string, or %NULL on an error.\n+ *\/\n+gchar *\n+_g_time_locale_to_utf8 (const gchar *opsysstring,\n+                        gssize       len,\n+                        gsize       *bytes_read,\n+                        gsize       *bytes_written,\n+                        GError     **error)\n+{\n+  const char *charset;\n+\n+  if (_g_get_time_charset (&charset))\n+    return strdup_len (opsysstring, len, bytes_read, bytes_written, error);\n+  else\n+    return convert_checked (opsysstring, len, \"UTF-8\", charset,\n+                            CONVERT_CHECK_NO_NULS_IN_OUTPUT,\n+                            bytes_read, bytes_written, error);\n+}\n+\n+\/*\n+ * Do the exact same as g_locale_to_utf8 except that the charset would\n+ * be retrieved from _g_get_ctype_charset (which uses LC_CTYPE)\n+ *\n+ * Returns: The converted string, or %NULL on an error.\n+ *\/\n+gchar *\n+_g_ctype_locale_to_utf8 (const gchar *opsysstring,\n+                         gssize       len,\n+                         gsize       *bytes_read,\n+                         gsize       *bytes_written,\n+                         GError     **error)\n+{\n+  const char *charset;\n+\n+  if (_g_get_ctype_charset (&charset))\n+    return strdup_len (opsysstring, len, bytes_read, bytes_written, error);\n+  else\n+    return convert_checked (opsysstring, len, \"UTF-8\", charset,\n+                            CONVERT_CHECK_NO_NULS_IN_OUTPUT,\n+                            bytes_read, bytes_written, error);\n+}\n+\n@@ -1376,1 +1423,1 @@\n-static const gchar hex[16] = \"0123456789ABCDEF\";\n+static const gchar hex[] = \"0123456789ABCDEF\";\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconvert.c","additions":51,"deletions":4,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -0,0 +1,40 @@\n+\/* gconvertprivate.h - Private GLib gconvert functions\n+ *\n+ * Copyright 2020 Frederic Martinsons\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2.1 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public License\n+ * along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n+ *\/\n+\n+#ifndef __G_CONVERTPRIVATE_H__\n+#define __G_CONVERTPRIVATE_H__\n+\n+G_BEGIN_DECLS\n+\n+#include \"glib.h\"\n+\n+gchar *_g_time_locale_to_utf8 (const gchar *opsysstring,\n+                               gssize len,\n+                               gsize *bytes_read,\n+                               gsize *bytes_written,\n+                               GError **error) G_GNUC_MALLOC;\n+\n+gchar *_g_ctype_locale_to_utf8 (const gchar *opsysstring,\n+                                gssize len,\n+                                gsize *bytes_read,\n+                                gsize *bytes_written,\n+                                GError **error) G_GNUC_MALLOC;\n+\n+G_END_DECLS\n+\n+#endif \/* __G_CONVERTPRIVATE_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gconvertprivate.h","additions":40,"deletions":0,"binary":false,"changes":40,"status":"added"},{"patch":"@@ -124,3 +124,3 @@\n- * The #GData struct is an opaque data structure to represent a\n- * [Keyed Data List][glib-Keyed-Data-Lists]. It should only be\n- * accessed via the following functions.\n+ * An opaque data structure that represents a keyed data list.\n+ *\n+ * See also: [Keyed data lists][glib-Keyed-Data-Lists].\n@@ -910,1 +910,1 @@\n- * Its up to the caller to free this as he wishes, which may\n+ * Its up to the caller to free this as they wish, which may\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdataset.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-\/* #define DEBUG_MSG(args)  g_message args ; *\/\n+\/* #define DEBUG_MSG(args)      g_message args ; *\/\n@@ -118,1 +118,2 @@\n- * Similar to the struct timeval returned by the gettimeofday()\n+ *\n+ * Similar to the struct timeval returned by the `gettimeofday()`\n@@ -136,1 +137,1 @@\n- *     as a number between 1 and 31\n+ *   as a number between 1 and 31\n@@ -138,1 +139,1 @@\n- *     as a number between 1 and 12\n+ *   as a number between 1 and 12\n@@ -144,1 +145,1 @@\n- * If the #GDate-struct is obtained from g_date_new(), it will be safe\n+ * If the `GDate` is obtained from g_date_new(), it will be safe\n@@ -159,1 +160,3 @@\n- * with a 64-bit `time_t`. Unrelated to #GTimer.\n+ * with a 64-bit `time_t`.\n+ *\n+ * Unrelated to #GTimer.\n@@ -168,0 +171,1 @@\n+ *\n@@ -194,1 +198,2 @@\n- * #G_DATE_BAD_DAY represents an invalid day of the month.\n+ *\n+ * The %G_DATE_BAD_DAY value represents an invalid day of the month.\n@@ -213,2 +218,2 @@\n- * Enumeration representing a month; values are #G_DATE_JANUARY,\n- * #G_DATE_FEBRUARY, etc. #G_DATE_BAD_MONTH is the invalid value.\n+ * Enumeration representing a month; values are %G_DATE_JANUARY,\n+ * %G_DATE_FEBRUARY, etc. %G_DATE_BAD_MONTH is the invalid value.\n@@ -220,3 +225,7 @@\n- * Integer representing a year; #G_DATE_BAD_YEAR is the invalid\n- * value. The year must be 1 or higher; negative (BC) years are not\n- * allowed. The year is represented with four digits.\n+ * Integer type representing a year.\n+ *\n+ * The %G_DATE_BAD_YEAR value is the invalid value. The year\n+ * must be 1 or higher; negative ([BCE](https:\/\/en.wikipedia.org\/wiki\/Common_Era))\n+ * years are not allowed.\n+ *\n+ * The year is represented with four digits.\n@@ -236,2 +245,2 @@\n- * Enumeration representing a day of the week; #G_DATE_MONDAY,\n- * #G_DATE_TUESDAY, etc. #G_DATE_BAD_WEEKDAY is an invalid weekday.\n+ * Enumeration representing a day of the week; %G_DATE_MONDAY,\n+ * %G_DATE_TUESDAY, etc. %G_DATE_BAD_WEEKDAY is an invalid weekday.\n@@ -282,3 +291,5 @@\n- * Like g_date_new(), but also sets the value of the date. Assuming the\n- * day-month-year triplet you pass in represents an existing day, the\n- * returned date will be valid.\n+ * Create a new #GDate representing the given day-month-year triplet.\n+ *\n+ * The triplet you pass in must represent a valid date. Use g_date_valid_dmy()\n+ * if needed to validate it. The returned #GDate is guaranteed to be non-%NULL\n+ * and valid.\n@@ -286,1 +297,2 @@\n- * Returns: a newly-allocated #GDate initialized with @day, @month, and @year\n+ * Returns: (transfer full) (not nullable): a newly-allocated #GDate\n+ *   initialized with @day, @month, and @year\n@@ -314,3 +326,1 @@\n- * Like g_date_new(), but also sets the value of the date. Assuming the\n- * Julian day number you pass in is valid (greater than 0, less than an\n- * unreasonably large number), the returned date will be valid.\n+ * Create a new #GDate representing the given Julian date.\n@@ -318,1 +328,6 @@\n- * Returns: a newly-allocated #GDate initialized with @julian_day\n+ * The @julian_day you pass in must be valid. Use g_date_valid_julian() if\n+ * needed to validate it. The returned #GDate is guaranteed to be non-%NULL and\n+ * valid.\n+ *\n+ * Returns: (transfer full) (not nullable): a newly-allocated #GDate initialized\n+ *   with @julian_day\n@@ -1209,0 +1224,16 @@\n+static guint\n+convert_twodigit_year (guint y)\n+{\n+  if (using_twodigit_years && y < 100)\n+    {\n+      guint two     =  twodigit_start_year % 100;\n+      guint century = (twodigit_start_year \/ 100) * 100;\n+\n+      if (y < two)\n+        century += 100;\n+\n+      y += century;\n+    }\n+  return y;\n+}\n+\n@@ -1303,1 +1334,1 @@\n-      y += locale_era_adjust;\n+             y += locale_era_adjust;\n@@ -1305,7 +1336,0 @@\n-        else if (using_twodigit_years && y < 100)\n-    {\n-      guint two     =  twodigit_start_year % 100;\n-      guint century = (twodigit_start_year \/ 100) * 100;\n-\n-      if (y < two)\n-        century += 100;\n@@ -1313,3 +1337,2 @@\n-      y += century;\n-    }\n-      }\n+          y = convert_twodigit_year (y);\n+       }\n@@ -1359,11 +1382,1 @@\n-          \/* FIXME move this into a separate function *\/\n-          if (using_twodigit_years && y < 100)\n-            {\n-              guint two     =  twodigit_start_year % 100;\n-              guint century = (twodigit_start_year \/ 100) * 100;\n-\n-              if (y < two)\n-                century += 100;\n-\n-              y += century;\n-            }\n+          y   = convert_twodigit_year (y);\n@@ -2230,1 +2243,1 @@\n-               gsize            slen)\n+                       gsize            slen)\n@@ -2584,1 +2597,2 @@\n-  if (slen <= convlen)\n+  g_assert (convlen >= 0);\n+  if ((gsize) convlen >= slen)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdate.c","additions":60,"deletions":46,"binary":false,"changes":106,"status":"modified"},{"patch":"@@ -63,3 +63,0 @@\n-#include \"gdatetime.h\"\n-\n-#include \"gslice.h\"\n@@ -68,0 +65,1 @@\n+#include \"gcharsetprivate.h\"\n@@ -69,0 +67,2 @@\n+#include \"gconvertprivate.h\"\n+#include \"gdatetime.h\"\n@@ -71,0 +71,1 @@\n+#include \"glibintl.h\"\n@@ -73,0 +74,1 @@\n+#include \"gslice.h\"\n@@ -78,2 +80,0 @@\n-#include \"glibintl.h\"\n-\n@@ -135,1 +135,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -625,1 +625,1 @@\n-  gint a, b, c, d, e, f, g, n, s, month, day, year;\n+  gint a, b, c, d, e, f, g, n, s, month = -1, day = -1, year = -1;\n@@ -896,2 +896,3 @@\n-  if ((gint64) tv->tv_sec > G_MAXINT64 - 1 ||\n-      !UNIX_TO_INSTANT_IS_VALID ((gint64) tv->tv_sec + 1))\n+  gint64 tv_sec = tv->tv_sec;\n+\n+  if (tv_sec > G_MAXINT64 - 1 || !UNIX_TO_INSTANT_IS_VALID (tv_sec + 1))\n@@ -1394,1 +1395,1 @@\n-  tz = g_time_zone_new (text + i);\n+  tz = g_time_zone_new_identifier (text + i);\n@@ -1400,1 +1401,1 @@\n-  if (g_time_zone_get_offset (tz, 0) != offset_sign * (offset_hours * 3600 + offset_minutes * 60))\n+  if (tz == NULL || g_time_zone_get_offset (tz, 0) != offset_sign * (offset_hours * 3600 + offset_minutes * 60))\n@@ -1402,1 +1403,1 @@\n-      g_time_zone_unref (tz);\n+      g_clear_pointer (&tz, g_time_zone_unref);\n@@ -2030,2 +2031,2 @@\n- * @dt1: (not nullable): first #GDateTime to compare\n- * @dt2: (not nullable): second #GDateTime to compare\n+ * @dt1: (type GDateTime) (not nullable): first #GDateTime to compare\n+ * @dt2: (type GDateTime) (not nullable): second #GDateTime to compare\n@@ -2086,1 +2087,1 @@\n- * @datetime: (not nullable): a #GDateTime\n+ * @datetime: (type GDateTime) (not nullable): a #GDateTime\n@@ -2104,2 +2105,2 @@\n- * @dt1: (not nullable): a #GDateTime\n- * @dt2: (not nullable): a #GDateTime\n+ * @dt1: (type GDateTime) (not nullable): a #GDateTime\n+ * @dt2: (type GDateTime) (not nullable): a #GDateTime\n@@ -2349,1 +2350,1 @@\n-  gint year, month, day, weekday;\n+  gint year = -1, month = -1, day = -1, weekday;\n@@ -2879,1 +2880,1 @@\n-      digit = g_locale_to_utf8 (locale_digit, -1, NULL, &digit_len, NULL);\n+      digit = _g_ctype_locale_to_utf8 (locale_digit, -1, NULL, &digit_len, NULL);\n@@ -3003,1 +3004,1 @@\n-  utf8_format = g_locale_to_utf8 (locale_format, -1, NULL, NULL, NULL);\n+  utf8_format = _g_time_locale_to_utf8 (locale_format, -1, NULL, NULL, NULL);\n@@ -3027,1 +3028,1 @@\n-      utf8 = g_locale_to_utf8 (s, -1, NULL, &utf8_len, NULL);\n+      utf8 = _g_time_locale_to_utf8 (s, -1, NULL, &utf8_len, NULL);\n@@ -3453,1 +3454,2 @@\n-  \/* Avoid conversions from locale charset to UTF-8 if charset is compatible\n+  \/* Avoid conversions from locale (for LC_TIME and not for LC_MESSAGES unless\n+   * specified otherwise) charset to UTF-8 if charset is compatible\n@@ -3456,1 +3458,1 @@\n-  gboolean locale_is_utf8_compatible = g_get_charset (&charset) ||\n+  gboolean time_is_utf8_compatible = _g_get_time_charset (&charset) ||\n@@ -3467,1 +3469,1 @@\n-                                locale_is_utf8_compatible))\n+                                time_is_utf8_compatible))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdatetime.c","additions":26,"deletions":24,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -92,2 +92,1 @@\n- * `GDateTime` is an opaque structure whose members\n- * cannot be accessed directly.\n+ * An opaque structure that represents a date and time, including a time zone.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdatetime.h","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -70,1 +69,3 @@\n-  gchar utf8_buf[FILENAME_MAX*4];\n+  \/* maximum encoding of FILENAME_MAX UTF-8 characters, plus a nul terminator\n+   * (FILENAME_MAX is not guaranteed to include one) *\/\n+  gchar utf8_buf[FILENAME_MAX*4 + 1];\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gdir.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n- * Returns: (type filename): the value of the environment variable, or %NULL if\n+ * Returns: (type filename) (nullable): the value of the environment variable, or %NULL if\n@@ -245,1 +245,1 @@\n- * Returns: (type filename): the value of the environment variable, or %NULL if\n+ * Returns: (type filename) (nullable): the value of the environment variable, or %NULL if\n@@ -457,1 +457,1 @@\n-  int len;\n+  DWORD len;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/genviron.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -117,0 +117,6 @@\n+ * Since error messages may be displayed to the user, they need to be valid\n+ * UTF-8 (all GTK widgets expect text to be UTF-8). Keep this in mind in\n+ * particular when formatting error messages with filenames, which are in\n+ * the 'filename encoding', and need to be turned into UTF-8 using\n+ * g_filename_to_utf8(), g_filename_display_name() or g_utf8_make_valid().\n+ *\n@@ -319,3 +325,3 @@\n- *   be a location where a #GError can be placed (i.e. \"#GError** error\").\n- *   If #GError is used with varargs, the #GError** should be the last\n- *   argument before the \"...\".\n+ *   be a location where a #GError can be placed (i.e. `GError **error`).\n+ *   If #GError is used with varargs, the `GError**` should be the last\n+ *   argument before the `...`.\n@@ -323,1 +329,1 @@\n- * - The caller may pass %NULL for the #GError** if they are not interested\n+ * - The caller may pass %NULL for the `GError**` if they are not interested\n@@ -326,1 +332,1 @@\n- * - If %NULL is passed for the #GError** argument, then errors should\n+ * - If %NULL is passed for the `GError**` argument, then errors should\n@@ -340,1 +346,1 @@\n- * - A #GError* must be initialized to %NULL before passing its address\n+ * - A `GError*` must be initialized to %NULL before passing its address\n@@ -343,0 +349,2 @@\n+ * - #GError structs must not be stack-allocated.\n+ *\n@@ -344,1 +352,1 @@\n- *   new #GError to a #GError* that is non-%NULL, thus overwriting\n+ *   new #GError to a `GError*` that is non-%NULL, thus overwriting\n@@ -352,1 +360,1 @@\n- *   functions which have a boolean return value and a GError parameter,\n+ *   functions which have a boolean return value and a #GError parameter,\n@@ -354,2 +362,2 @@\n- *   GError is set.  Among other problems, it requires C callers to allocate\n- *   a temporary error.  Instead, provide a \"gboolean *\" out parameter.\n+ *   #GError is set.  Among other problems, it requires C callers to allocate\n+ *   a temporary error.  Instead, provide a `gboolean *` out parameter.\n@@ -357,1 +365,1 @@\n- *   are deprecated because of this. If %FALSE is returned, the error must\n+ *   are hard to use because of this. If %FALSE is returned, the error must\n@@ -375,0 +383,115 @@\n+ *\n+ * ## Extended #GError Domains # {#gerror-extended-domains}\n+ *\n+ * Since GLib 2.68 it is possible to extend the #GError type. This is\n+ * done with the G_DEFINE_EXTENDED_ERROR() macro. To create an\n+ * extended #GError type do something like this in the header file:\n+ * |[<!-- language=\"C\" -->\n+ * typedef enum\n+ * {\n+ *   MY_ERROR_BAD_REQUEST,\n+ * } MyError;\n+ * #define MY_ERROR (my_error_quark ())\n+ * GQuark my_error_quark (void);\n+ * int\n+ * my_error_get_parse_error_id (GError *error);\n+ * const char *\n+ * my_error_get_bad_request_details (GError *error);\n+ * ]|\n+ * and in implementation:\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct\n+ * {\n+ *   int parse_error_id;\n+ *   char *bad_request_details;\n+ * } MyErrorPrivate;\n+ *\n+ * static void\n+ * my_error_private_init (MyErrorPrivate *priv)\n+ * {\n+ *   priv->parse_error_id = -1;\n+ *   \/\/ No need to set priv->bad_request_details to NULL,\n+ *   \/\/ the struct is initialized with zeros.\n+ * }\n+ *\n+ * static void\n+ * my_error_private_copy (const MyErrorPrivate *src_priv, MyErrorPrivate *dest_priv)\n+ * {\n+ *   dest_priv->parse_error_id = src_priv->parse_error_id;\n+ *   dest_priv->bad_request_details = g_strdup (src_priv->bad_request_details);\n+ * }\n+ *\n+ * static void\n+ * my_error_private_clear (MyErrorPrivate *priv)\n+ * {\n+ *   g_free (priv->bad_request_details);\n+ * }\n+ *\n+ * \/\/ This defines the my_error_get_private and my_error_quark functions.\n+ * G_DEFINE_EXTENDED_ERROR (MyError, my_error)\n+ *\n+ * int\n+ * my_error_get_parse_error_id (GError *error)\n+ * {\n+ *   MyErrorPrivate *priv = my_error_get_private (error);\n+ *   g_return_val_if_fail (priv != NULL, -1);\n+ *   return priv->parse_error_id;\n+ * }\n+ *\n+ * const char *\n+ * my_error_get_bad_request_details (GError *error)\n+ * {\n+ *   MyErrorPrivate *priv = my_error_get_private (error);\n+ *   g_return_val_if_fail (priv != NULL, NULL);\n+ *   g_return_val_if_fail (error->code != MY_ERROR_BAD_REQUEST, NULL);\n+ *   return priv->bad_request_details;\n+ * }\n+ *\n+ * static void\n+ * my_error_set_bad_request (GError     **error,\n+ *                           const char  *reason,\n+ *                           int          error_id,\n+ *                           const char  *details)\n+ * {\n+ *   MyErrorPrivate *priv;\n+ *   g_set_error (error, MY_ERROR, MY_ERROR_BAD_REQUEST, \"Invalid request: %s\", reason);\n+ *   if (error != NULL && *error != NULL)\n+ *     {\n+ *       priv = my_error_get_private (error);\n+ *       g_return_val_if_fail (priv != NULL, NULL);\n+ *       priv->parse_error_id = error_id;\n+ *       priv->bad_request_details = g_strdup (details);\n+ *     }\n+ * }\n+ * ]|\n+ * An example of use of the error could be:\n+ * |[<!-- language=\"C\" -->\n+ * gboolean\n+ * send_request (GBytes *request, GError **error)\n+ * {\n+ *   ParseFailedStatus *failure = validate_request (request);\n+ *   if (failure != NULL)\n+ *     {\n+ *       my_error_set_bad_request (error, failure->reason, failure->error_id, failure->details);\n+ *       parse_failed_status_free (failure);\n+ *       return FALSE;\n+ *     }\n+ *\n+ *   return send_one (request, error);\n+ * }\n+ * ]|\n+ *\n+ * Please note that if you are a library author and your library\n+ * exposes an existing error domain, then you can't make this error\n+ * domain an extended one without breaking ABI. This is because\n+ * earlier it was possible to create an error with this error domain\n+ * on the stack and then copy it with g_error_copy(). If the new\n+ * version of your library makes the error domain an extended one,\n+ * then g_error_copy() called by code that allocated the error on the\n+ * stack will try to copy more data than it used to, which will lead\n+ * to undefined behavior. You must not stack-allocate errors with an\n+ * extended error domain, and it is bad practice to stack-allocate any\n+ * other #GErrors.\n+ *\n+ * Extended error domains in unloadable plugins\/modules are not\n+ * supported.\n@@ -379,0 +502,3 @@\n+#include \"gvalgrind.h\"\n+#include <string.h>\n+\n@@ -381,0 +507,2 @@\n+#include \"ghash.h\"\n+#include \"glib-init.h\"\n@@ -384,0 +512,223 @@\n+#include \"gthread.h\"\n+\n+static GRWLock error_domain_global;\n+\/* error_domain_ht must be accessed with error_domain_global\n+ * locked.\n+ *\/\n+static GHashTable *error_domain_ht = NULL;\n+\n+void\n+g_error_init (void)\n+{\n+  error_domain_ht = g_hash_table_new (NULL, NULL);\n+}\n+\n+typedef struct\n+{\n+  \/* private_size is already aligned. *\/\n+  gsize private_size;\n+  GErrorInitFunc init;\n+  GErrorCopyFunc copy;\n+  GErrorClearFunc clear;\n+} ErrorDomainInfo;\n+\n+\/* Must be called with error_domain_global locked.\n+ *\/\n+static inline ErrorDomainInfo *\n+error_domain_lookup (GQuark domain)\n+{\n+  return g_hash_table_lookup (error_domain_ht,\n+                              GUINT_TO_POINTER (domain));\n+}\n+\n+\/* Copied from gtype.c. *\/\n+#define STRUCT_ALIGNMENT (2 * sizeof (gsize))\n+#define ALIGN_STRUCT(offset) \\\n+      ((offset + (STRUCT_ALIGNMENT - 1)) & -STRUCT_ALIGNMENT)\n+\n+static void\n+error_domain_register (GQuark            error_quark,\n+                       gsize             error_type_private_size,\n+                       GErrorInitFunc    error_type_init,\n+                       GErrorCopyFunc    error_type_copy,\n+                       GErrorClearFunc   error_type_clear)\n+{\n+  g_rw_lock_writer_lock (&error_domain_global);\n+  if (error_domain_lookup (error_quark) == NULL)\n+    {\n+      ErrorDomainInfo *info = g_new (ErrorDomainInfo, 1);\n+      info->private_size = ALIGN_STRUCT (error_type_private_size);\n+      info->init = error_type_init;\n+      info->copy = error_type_copy;\n+      info->clear = error_type_clear;\n+\n+      g_hash_table_insert (error_domain_ht,\n+                           GUINT_TO_POINTER (error_quark),\n+                           info);\n+    }\n+  else\n+    {\n+      const char *name = g_quark_to_string (error_quark);\n+\n+      g_critical (\"Attempted to register an extended error domain for %s more than once\", name);\n+    }\n+  g_rw_lock_writer_unlock (&error_domain_global);\n+}\n+\n+\/**\n+ * g_error_domain_register_static:\n+ * @error_type_name: static string to create a #GQuark from\n+ * @error_type_private_size: size of the private error data in bytes\n+ * @error_type_init: function initializing fields of the private error data\n+ * @error_type_copy: function copying fields of the private error data\n+ * @error_type_clear: function freeing fields of the private error data\n+ *\n+ * This function registers an extended #GError domain.\n+ *\n+ * @error_type_name should not be freed. @error_type_private_size must\n+ * be greater than 0.\n+ *\n+ * @error_type_init receives an initialized #GError and should then initialize\n+ * the private data.\n+ *\n+ * @error_type_copy is a function that receives both original and a copy\n+ * #GError and should copy the fields of the private error data. The standard\n+ * #GError fields are already handled.\n+ *\n+ * @error_type_clear receives the pointer to the error, and it should free the\n+ * fields of the private error data. It should not free the struct itself though.\n+ *\n+ * Normally, it is better to use G_DEFINE_EXTENDED_ERROR(), as it\n+ * already takes care of passing valid information to this function.\n+ *\n+ * Returns: #GQuark representing the error domain\n+ * Since: 2.68\n+ *\/\n+GQuark\n+g_error_domain_register_static (const char        *error_type_name,\n+                                gsize              error_type_private_size,\n+                                GErrorInitFunc     error_type_init,\n+                                GErrorCopyFunc     error_type_copy,\n+                                GErrorClearFunc    error_type_clear)\n+{\n+  GQuark error_quark;\n+\n+  g_return_val_if_fail (error_type_name != NULL, 0);\n+  g_return_val_if_fail (error_type_private_size > 0, 0);\n+  g_return_val_if_fail (error_type_init != NULL, 0);\n+  g_return_val_if_fail (error_type_copy != NULL, 0);\n+  g_return_val_if_fail (error_type_clear != NULL, 0);\n+\n+  error_quark = g_quark_from_static_string (error_type_name);\n+  error_domain_register (error_quark,\n+                         error_type_private_size,\n+                         error_type_init,\n+                         error_type_copy,\n+                         error_type_clear);\n+  return error_quark;\n+}\n+\n+\/**\n+ * g_error_domain_register:\n+ * @error_type_name: string to create a #GQuark from\n+ * @error_type_private_size: size of the private error data in bytes\n+ * @error_type_init: function initializing fields of the private error data\n+ * @error_type_copy: function copying fields of the private error data\n+ * @error_type_clear: function freeing fields of the private error data\n+ *\n+ * This function registers an extended #GError domain.\n+ * @error_type_name will be duplicated. Otherwise does the same as\n+ * g_error_domain_register_static().\n+ *\n+ * Returns: #GQuark representing the error domain\n+ * Since: 2.68\n+ *\/\n+GQuark\n+g_error_domain_register (const char        *error_type_name,\n+                         gsize              error_type_private_size,\n+                         GErrorInitFunc     error_type_init,\n+                         GErrorCopyFunc     error_type_copy,\n+                         GErrorClearFunc    error_type_clear)\n+{\n+  GQuark error_quark;\n+\n+  g_return_val_if_fail (error_type_name != NULL, 0);\n+  g_return_val_if_fail (error_type_private_size > 0, 0);\n+  g_return_val_if_fail (error_type_init != NULL, 0);\n+  g_return_val_if_fail (error_type_copy != NULL, 0);\n+  g_return_val_if_fail (error_type_clear != NULL, 0);\n+\n+  error_quark = g_quark_from_string (error_type_name);\n+  error_domain_register (error_quark,\n+                         error_type_private_size,\n+                         error_type_init,\n+                         error_type_copy,\n+                         error_type_clear);\n+  return error_quark;\n+}\n+\n+static GError *\n+g_error_allocate (GQuark domain, ErrorDomainInfo *out_info)\n+{\n+  guint8 *allocated;\n+  GError *error;\n+  ErrorDomainInfo *info;\n+  gsize private_size;\n+\n+  g_rw_lock_reader_lock (&error_domain_global);\n+  info = error_domain_lookup (domain);\n+  if (info != NULL)\n+    {\n+      if (out_info != NULL)\n+        *out_info = *info;\n+      private_size = info->private_size;\n+      g_rw_lock_reader_unlock (&error_domain_global);\n+    }\n+  else\n+    {\n+      g_rw_lock_reader_unlock (&error_domain_global);\n+      if (out_info != NULL)\n+        memset (out_info, 0, sizeof (*out_info));\n+      private_size = 0;\n+    }\n+  \/* See comments in g_type_create_instance in gtype.c to see what\n+   * this magic is about.\n+   *\/\n+#ifdef ENABLE_VALGRIND\n+  if (private_size > 0 && RUNNING_ON_VALGRIND)\n+    {\n+      private_size += ALIGN_STRUCT (1);\n+      allocated = g_slice_alloc0 (private_size + sizeof (GError) + sizeof (gpointer));\n+      *(gpointer *) (allocated + private_size + sizeof (GError)) = allocated + ALIGN_STRUCT (1);\n+      VALGRIND_MALLOCLIKE_BLOCK (allocated + private_size, sizeof (GError) + sizeof (gpointer), 0, TRUE);\n+      VALGRIND_MALLOCLIKE_BLOCK (allocated + ALIGN_STRUCT (1), private_size - ALIGN_STRUCT (1), 0, TRUE);\n+    }\n+  else\n+#endif\n+    allocated = g_slice_alloc0 (private_size + sizeof (GError));\n+\n+  error = (GError *) (allocated + private_size);\n+  return error;\n+}\n+\n+\/* This function takes ownership of @message. *\/\n+static GError *\n+g_error_new_steal (GQuark           domain,\n+                   gint             code,\n+                   gchar           *message,\n+                   ErrorDomainInfo *out_info)\n+{\n+  ErrorDomainInfo info;\n+  GError *error = g_error_allocate (domain, &info);\n+\n+  error->domain = domain;\n+  error->code = code;\n+  error->message = message;\n+\n+  if (info.init != NULL)\n+    info.init (error);\n+  if (out_info != NULL)\n+    *out_info = info;\n+\n+  return error;\n+}\n@@ -405,2 +756,0 @@\n-  GError *error;\n-\n@@ -415,12 +764,1 @@\n-  error = g_slice_new (GError);\n-#ifdef GSTREAMER_LITE\n-  if (error == NULL) {\n-    return NULL;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  error->domain = domain;\n-  error->code = code;\n-  error->message = g_strdup_vprintf (format, args);\n-\n-  return error;\n+  return g_error_new_steal (domain, code, g_strdup_vprintf (format, args), NULL);\n@@ -478,2 +816,0 @@\n-  GError* err;\n-\n@@ -483,12 +819,1 @@\n-  err = g_slice_new (GError);\n-#ifdef GSTREAMER_LITE\n-  if (err == NULL) {\n-    return NULL;\n-  }\n-#endif \/\/ GSTREAMER_LITE\n-\n-  err->domain = domain;\n-  err->code = code;\n-  err->message = g_strdup (message);\n-\n-  return err;\n+  return g_error_new_steal (domain, code, g_strdup (message), NULL);\n@@ -506,0 +831,4 @@\n+  gsize private_size;\n+  ErrorDomainInfo *info;\n+  guint8 *allocated;\n+\n@@ -508,1 +837,5 @@\n-  g_free (error->message);\n+  g_rw_lock_reader_lock (&error_domain_global);\n+  info = error_domain_lookup (error->domain);\n+  if (info != NULL)\n+    {\n+      GErrorClearFunc clear = info->clear;\n@@ -510,1 +843,28 @@\n-  g_slice_free (GError, error);\n+      private_size = info->private_size;\n+      g_rw_lock_reader_unlock (&error_domain_global);\n+      clear (error);\n+    }\n+  else\n+    {\n+      g_rw_lock_reader_unlock (&error_domain_global);\n+      private_size = 0;\n+    }\n+\n+  g_free (error->message);\n+  allocated = ((guint8 *) error) - private_size;\n+  \/* See comments in g_type_free_instance in gtype.c to see what this\n+   * magic is about.\n+   *\/\n+#ifdef ENABLE_VALGRIND\n+  if (private_size > 0 && RUNNING_ON_VALGRIND)\n+    {\n+      private_size += ALIGN_STRUCT (1);\n+      allocated -= ALIGN_STRUCT (1);\n+      *(gpointer *) (allocated + private_size + sizeof (GError)) = NULL;\n+      g_slice_free1 (private_size + sizeof (GError) + sizeof (gpointer), allocated);\n+      VALGRIND_FREELIKE_BLOCK (allocated + ALIGN_STRUCT (1), 0);\n+      VALGRIND_FREELIKE_BLOCK (error, 0);\n+    }\n+  else\n+#endif\n+  g_slice_free1 (private_size + sizeof (GError), allocated);\n@@ -525,0 +885,1 @@\n+  ErrorDomainInfo info;\n@@ -531,1 +892,4 @@\n-  copy = g_slice_new (GError);\n+  copy = g_error_new_steal (error->domain,\n+                            error->code,\n+                            g_strdup (error->message),\n+                            &info);\n@@ -538,3 +902,2 @@\n-  *copy = *error;\n-\n-  copy->message = g_strdup (error->message);\n+  if (info.copy != NULL)\n+    info.copy (error, copy);\n@@ -668,2 +1031,1 @@\n-      if (src)\n-        g_error_free (src);\n+      g_error_free (src);\n@@ -747,0 +1109,24 @@\n+\/**\n+ * g_prefix_error_literal:\n+ * @err: (allow-none): a return location for a #GError, or %NULL\n+ * @prefix: string to prefix @err with\n+ *\n+ * Prefixes @prefix to an existing error message. If @err or *@err is\n+ * %NULL (i.e.: no error variable) then do nothing.\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_prefix_error_literal (GError      **err,\n+                        const gchar  *prefix)\n+{\n+  if (err && *err)\n+    {\n+      gchar *oldstring;\n+\n+      oldstring = (*err)->message;\n+      (*err)->message = g_strconcat (prefix, oldstring, NULL);\n+      g_free (oldstring);\n+    }\n+}\n+\n@@ -768,1 +1154,1 @@\n-  if (dest && *dest)\n+  if (dest)\n@@ -772,0 +1158,1 @@\n+      g_assert (*dest != NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gerror.c","additions":435,"deletions":48,"binary":false,"changes":483,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n- * @domain: error domain, e.g. #G_FILE_ERROR\n+ * @domain: error domain, e.g. %G_FILE_ERROR\n@@ -50,0 +50,139 @@\n+\/**\n+ * G_DEFINE_EXTENDED_ERROR:\n+ * @ErrorType: name to return a #GQuark for\n+ * @error_type: prefix for the function name\n+ *\n+ * A convenience macro which defines two functions. First, returning\n+ * the #GQuark for the extended error type @ErrorType; it is called\n+ * `error_type_quark()`. Second, returning the private data from a\n+ * passed #GError; it is called `error_type_get_private()`.\n+ *\n+ * For this macro to work, a type named `ErrorTypePrivate` should be\n+ * defined, `error_type_private_init()`, `error_type_private_copy()`\n+ * and `error_type_private_clear()` functions need to be either\n+ * declared or defined. The functions should be similar to\n+ * #GErrorInitFunc, #GErrorCopyFunc and #GErrorClearFunc,\n+ * respectively, but they should receive the private data type instead\n+ * of #GError.\n+ *\n+ * See [Extended #GError Domains][gerror-extended-domains] for an example.\n+ *\n+ * Since: 2.68\n+ *\/\n+#define G_DEFINE_EXTENDED_ERROR(ErrorType, error_type)                  \\\n+static inline ErrorType ## Private *                                    \\\n+error_type ## _get_private (const GError *error)                        \\\n+{                                                                       \\\n+  \/* Copied from gtype.c (STRUCT_ALIGNMENT and ALIGN_STRUCT macros). *\/ \\\n+  const gsize sa = 2 * sizeof (gsize);                                  \\\n+  const gsize as = (sizeof (ErrorType ## Private) + (sa - 1)) & -sa;    \\\n+  g_return_val_if_fail (error != NULL, NULL);                           \\\n+  g_return_val_if_fail (error->domain == error_type ## _quark (), NULL); \\\n+  return (ErrorType ## Private *) (((guint8 *)error) - as); \\\n+}                                                                       \\\n+                                                                        \\\n+static void                                                             \\\n+g_error_with_ ## error_type ## _private_init (GError *error)            \\\n+{                                                                       \\\n+  ErrorType ## Private *priv = error_type ## _get_private (error);      \\\n+  error_type ## _private_init (priv);                                   \\\n+}                                                                       \\\n+                                                                        \\\n+static void                                                             \\\n+g_error_with_ ## error_type ## _private_copy (const GError *src_error,  \\\n+                                              GError       *dest_error) \\\n+{                                                                       \\\n+  const ErrorType ## Private *src_priv = error_type ## _get_private (src_error);  \\\n+  ErrorType ## Private *dest_priv = error_type ## _get_private (dest_error); \\\n+  error_type ## _private_copy (src_priv, dest_priv);                    \\\n+}                                                                       \\\n+                                                                        \\\n+static void                                                             \\\n+g_error_with_ ## error_type ## _private_clear (GError *error)           \\\n+{                                                                       \\\n+  ErrorType ## Private *priv = error_type ## _get_private (error);      \\\n+  error_type ## _private_clear (priv);                                  \\\n+}                                                                       \\\n+                                                                        \\\n+GQuark                                                                  \\\n+error_type ## _quark (void)                                             \\\n+{                                                                       \\\n+  static GQuark q;                                                      \\\n+  static gsize initialized = 0;                                         \\\n+                                                                        \\\n+  if (g_once_init_enter (&initialized))                                 \\\n+    {                                                                   \\\n+      q = g_error_domain_register_static (#ErrorType,                   \\\n+                                          sizeof (ErrorType ## Private), \\\n+                                          g_error_with_ ## error_type ## _private_init, \\\n+                                          g_error_with_ ## error_type ## _private_copy, \\\n+                                          g_error_with_ ## error_type ## _private_clear); \\\n+      g_once_init_leave (&initialized, 1);                              \\\n+    }                                                                   \\\n+                                                                        \\\n+  return q;                                                             \\\n+}\n+\n+\/**\n+ * GErrorInitFunc:\n+ * @error: extended error\n+ *\n+ * Specifies the type of function which is called just after an\n+ * extended error instance is created and its fields filled. It should\n+ * only initialize the fields in the private data, which can be\n+ * received with the generated `*_get_private()` function.\n+ *\n+ * Normally, it is better to use G_DEFINE_EXTENDED_ERROR(), as it\n+ * already takes care of getting the private data from @error.\n+ *\n+ * Since: 2.68\n+ *\/\n+typedef void (*GErrorInitFunc) (GError *error);\n+\n+\/**\n+ * GErrorCopyFunc:\n+ * @src_error: source extended error\n+ * @dest_error: destination extended error\n+ *\n+ * Specifies the type of function which is called when an extended\n+ * error instance is copied. It is passed the pointer to the\n+ * destination error and source error, and should copy only the fields\n+ * of the private data from @src_error to @dest_error.\n+ *\n+ * Normally, it is better to use G_DEFINE_EXTENDED_ERROR(), as it\n+ * already takes care of getting the private data from @src_error and\n+ * @dest_error.\n+ *\n+ * Since: 2.68\n+ *\/\n+typedef void (*GErrorCopyFunc) (const GError *src_error, GError *dest_error);\n+\n+\/**\n+ * GErrorClearFunc:\n+ * @error: extended error to clear\n+ *\n+ * Specifies the type of function which is called when an extended\n+ * error instance is freed. It is passed the error pointer about to be\n+ * freed, and should free the error's private data fields.\n+ *\n+ * Normally, it is better to use G_DEFINE_EXTENDED_ERROR(), as it\n+ * already takes care of getting the private data from @error.\n+ *\n+ * Since: 2.68\n+ *\/\n+typedef void (*GErrorClearFunc) (GError *error);\n+\n+GLIB_AVAILABLE_IN_2_68\n+GQuark   g_error_domain_register_static (const char        *error_type_name,\n+                                         gsize              error_type_private_size,\n+                                         GErrorInitFunc     error_type_init,\n+                                         GErrorCopyFunc     error_type_copy,\n+                                         GErrorClearFunc    error_type_clear);\n+\n+GLIB_AVAILABLE_IN_2_68\n+GQuark   g_error_domain_register (const char        *error_type_name,\n+                                  gsize              error_type_private_size,\n+                                  GErrorInitFunc     error_type_init,\n+                                  GErrorCopyFunc     error_type_copy,\n+                                  GErrorClearFunc    error_type_clear);\n+\n@@ -108,0 +247,5 @@\n+\/* if (err) prefix the string to the ->message *\/\n+GLIB_AVAILABLE_IN_2_70\n+void     g_prefix_error_literal       (GError       **err,\n+                                       const gchar   *prefix);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gerror.h","additions":145,"deletions":1,"binary":false,"changes":146,"status":"modified"},{"patch":"@@ -59,5 +59,0 @@\n-#ifdef HAVE_LINUX_MAGIC_H \/* for btrfs check *\/\n-#include <linux\/magic.h>\n-#include <sys\/vfs.h>\n-#endif\n-\n@@ -352,1 +347,1 @@\n-  int attributes;\n+  DWORD attributes;\n@@ -505,0 +500,1 @@\n+ *\n@@ -506,1 +502,1 @@\n- * #G_FILE_ERROR_EXIST. Unlike `errno` values, you can portably\n+ * %G_FILE_ERROR_EXIST. Unlike `errno` values, you can portably\n@@ -513,1 +509,1 @@\n- * Returns: #GFileError corresponding to the given @errno\n+ * Returns: #GFileError corresponding to the given @err_no\n@@ -913,4 +909,6 @@\n-      set_file_error (error,\n-                      filename,\n-                      _(\"Failed to open file '%s': %s\"),\n-                      saved_errno);\n+\n+      if (error)\n+        set_file_error (error,\n+                        filename,\n+                        _(\"Failed to open file '%s': %s\"),\n+                        saved_errno);\n@@ -925,4 +923,5 @@\n-      set_file_error (error,\n-                      filename,\n-                      _(\"Failed to get attributes of file '%s': fstat() failed: %s\"),\n-                      saved_errno);\n+      if (error)\n+        set_file_error (error,\n+                        filename,\n+                        _(\"Failed to get attributes of file '%s': fstat() failed: %s\"),\n+                        saved_errno);\n@@ -955,4 +954,5 @@\n-          set_file_error (error,\n-                          filename,\n-                          _(\"Failed to open file '%s': fdopen() failed: %s\"),\n-                          saved_errno);\n+          if (error)\n+            set_file_error (error,\n+                            filename,\n+                            _(\"Failed to open file '%s': fdopen() failed: %s\"),\n+                            saved_errno);\n@@ -985,4 +985,5 @@\n-      set_file_error (error,\n-                      filename,\n-                      _(\"Failed to open file '%s': %s\"),\n-                      saved_errno);\n+      if (error)\n+        set_file_error (error,\n+                        filename,\n+                        _(\"Failed to open file '%s': %s\"),\n+                        saved_errno);\n@@ -1015,1 +1016,1 @@\n- * %FALSE and sets @error. The error domain is #G_FILE_ERROR. Possible error\n+ * %FALSE and sets @error. The error domain is %G_FILE_ERROR. Possible error\n@@ -1055,6 +1056,6 @@\n-       G_FILE_ERROR,\n-       g_file_error_from_errno (save_errno),\n-       _(\"Failed to rename file '%s' to '%s': g_rename() failed: %s\"),\n-       display_old_name,\n-       display_new_name,\n-       g_strerror (save_errno));\n+                   G_FILE_ERROR,\n+                   g_file_error_from_errno (save_errno),\n+                   _(\"Failed to rename file '%s' to '%s': g_rename() failed: %s\"),\n+                   display_old_name,\n+                   display_new_name,\n+                   g_strerror (save_errno));\n@@ -1101,17 +1102,0 @@\n-#ifdef BTRFS_SUPER_MAGIC\n-  {\n-    struct statfs buf;\n-\n-    \/* On Linux, on btrfs, skip the fsync since rename-over-existing is\n-     * guaranteed to be atomic and this is the only case in which we\n-     * would fsync() anyway.\n-     *\n-     * See https:\/\/btrfs.wiki.kernel.org\/index.php\/FAQ#What_are_the_crash_guarantees_of_overwrite-by-rename.3F\n-     *\/\n-\n-    if ((flags & G_FILE_SET_CONTENTS_CONSISTENT) &&\n-        fstatfs (fd, &buf) == 0 && buf.f_type == BTRFS_SUPER_MAGIC)\n-      return FALSE;\n-  }\n-#endif  \/* BTRFS_SUPER_MAGIC *\/\n-\n@@ -1181,3 +1165,4 @@\n-          set_file_error (err,\n-                          dest_file, _(\"Failed to write file '%s': write() failed: %s\"),\n-                          saved_errno);\n+          if (err)\n+            set_file_error (err,\n+                            dest_file, _(\"Failed to write file '%s': write() failed: %s\"),\n+                            saved_errno);\n@@ -1201,3 +1186,4 @@\n-        set_file_error (err,\n-                        dest_file, _(\"Failed to write file '%s': fsync() failed: %s\"),\n-                        saved_errno);\n+        if (err)\n+          set_file_error (err,\n+                          dest_file, _(\"Failed to write file '%s': fsync() failed: %s\"),\n+                          saved_errno);\n@@ -1217,8 +1203,0 @@\n-static inline int\n-steal_fd (int *fd_ptr)\n-{\n-  int fd = *fd_ptr;\n-  *fd_ptr = -1;\n-  return fd;\n-}\n-\n@@ -1234,1 +1212,1 @@\n- * wrapper around calling g_file_set_contents() with `flags` set to\n+ * wrapper around calling g_file_set_contents_full() with `flags` set to\n@@ -1309,1 +1287,1 @@\n- * it returns %FALSE and sets @error. The error domain is #G_FILE_ERROR.\n+ * it returns %FALSE and sets @error. The error domain is %G_FILE_ERROR.\n@@ -1369,3 +1347,4 @@\n-          set_file_error (error,\n-                          tmp_filename, _(\"Failed to create file '%s': %s\"),\n-                          saved_errno);\n+          if (error)\n+            set_file_error (error,\n+                            tmp_filename, _(\"Failed to create file '%s': %s\"),\n+                            saved_errno);\n@@ -1377,1 +1356,1 @@\n-      if (!write_to_file (contents, length, steal_fd (&fd), tmp_filename, do_fsync, error))\n+      if (!write_to_file (contents, length, g_steal_fd (&fd), tmp_filename, do_fsync, error))\n@@ -1410,5 +1389,6 @@\n-  {\n-          int saved_errno = errno;\n-          set_file_error (error,\n-                          filename,\n-              _(\"Existing file '%s' could not be removed: g_unlink() failed: %s\"),\n+       {\n+         int saved_errno = errno;\n+         if (error)\n+         set_file_error (error,\n+                         filename,\n+                         _(\"Existing file '%s' could not be removed: g_unlink() failed: %s\"),\n@@ -1478,3 +1458,4 @@\n-          set_file_error (error,\n-                          filename, _(\"Failed to open file '%s': %s\"),\n-                          saved_errno);\n+          if (error)\n+            set_file_error (error,\n+                            filename, _(\"Failed to open file '%s': %s\"),\n+                            saved_errno);\n@@ -1485,1 +1466,1 @@\n-      if (!write_to_file (contents, length, steal_fd (&direct_fd), filename,\n+      if (!write_to_file (contents, length, g_steal_fd (&direct_fd), filename,\n@@ -1780,4 +1761,5 @@\n-      set_file_error (error,\n-                      fulltemplate,\n-                      _(\"Failed to create file '%s': %s\"),\n-                      saved_errno);\n+      if (error)\n+        set_file_error (error,\n+                        fulltemplate,\n+                        _(\"Failed to create file '%s': %s\"),\n+                        saved_errno);\n@@ -1867,1 +1849,1 @@\n- * Returns: (type filename): The actual name used. This string\n+ * Returns: (type filename) (transfer full): The actual name used. This string\n@@ -2001,2 +1983,2 @@\n- * Returns: (type filename): a newly-allocated string that must be freed\n- *     with g_free().\n+ * Returns: (type filename) (transfer full): a newly-allocated string that\n+ *     must be freed with g_free().\n@@ -2050,2 +2032,2 @@\n- * Returns: (type filename): a newly-allocated string that must be freed with\n- *     g_free().\n+ * Returns: (type filename) (transfer full): a newly-allocated string that\n+ *     must be freed with g_free().\n@@ -2210,2 +2192,2 @@\n- * Returns: (type filename): a newly-allocated string that must be freed\n- *     with g_free().\n+ * Returns: (type filename) (transfer full): a newly-allocated string that\n+ *     must be freed with g_free().\n@@ -2233,2 +2215,2 @@\n- * Returns: (type filename): a newly-allocated string that must be freed\n- *     with g_free().\n+ * Returns: (type filename) (transfer full): a newly-allocated string that\n+ *     must be freed with g_free().\n@@ -2265,2 +2247,2 @@\n- * Returns: (type filename): a newly-allocated string that must be freed with\n- *     g_free().\n+ * Returns: (type filename) (transfer full): a newly-allocated string that\n+ *     must be freed with g_free().\n@@ -2291,2 +2273,2 @@\n- * Returns: (type filename): A newly-allocated string with the contents of\n- *     the symbolic link, or %NULL if an error occurred.\n+ * Returns: (type filename) (transfer full): A newly-allocated string with\n+ *     the contents of the symbolic link, or %NULL if an error occurred.\n@@ -2317,4 +2299,5 @@\n-          set_file_error (error,\n-                          filename,\n-                          _(\"Failed to read the symbolic link '%s': %s\"),\n-                          saved_errno);\n+          if (error)\n+            set_file_error (error,\n+                            filename,\n+                            _(\"Failed to read the symbolic link '%s': %s\"),\n+                            saved_errno);\n@@ -2345,4 +2328,5 @@\n-      set_file_error (error,\n-                      filename,\n-                      _(\"Failed to read the symbolic link '%s': %s\"),\n-                      saved_errno);\n+      if (error)\n+        set_file_error (error,\n+                        filename,\n+                        _(\"Failed to read the symbolic link '%s': %s\"),\n+                        saved_errno);\n@@ -2544,2 +2528,2 @@\n- * Returns: (type filename): a newly allocated string containing the last\n- *    component of the filename\n+ * Returns: (type filename) (transfer full): a newly allocated string\n+ *    containing the last component of the filename\n@@ -2605,1 +2589,1 @@\n- * Returns: (type filename): the directory components of the file\n+ * Returns: (type filename) (transfer full): the directory components of the file\n@@ -2621,1 +2605,1 @@\n- * Returns: (type filename): the directory components of the file\n+ * Returns: (type filename) (transfer full): the directory components of the file\n@@ -2746,2 +2730,1 @@\n-  gchar *canon, *start, *p, *q;\n-  guint i;\n+  gchar *canon, *input, *output, *after_root, *output_start;\n@@ -2769,1 +2752,1 @@\n-  start = (char *)g_path_skip_root (canon);\n+  after_root = (char *)g_path_skip_root (canon);\n@@ -2771,1 +2754,1 @@\n-  if (start == NULL)\n+  if (after_root == NULL)\n@@ -2780,3 +2763,16 @@\n-  \/* POSIX allows double slashes at the start to\n-   * mean something special (as does windows too).\n-   * So, \"\/\/\" != \"\/\", but more than two slashes\n+  \/* Find the first dir separator and use the canonical dir separator. *\/\n+  for (output = after_root - 1;\n+       (output >= canon) && G_IS_DIR_SEPARATOR (*output);\n+       output--)\n+    *output = G_DIR_SEPARATOR;\n+\n+  \/* 1 to re-increment after the final decrement above (so that output >= canon),\n+   * and 1 to skip the first `\/`. There might not be a first `\/` if\n+   * the @canon is a Windows `\/\/server\/share` style path with no\n+   * trailing directories. @after_root will be '\\0' in that case. *\/\n+  output++;\n+  if (*output == G_DIR_SEPARATOR)\n+    output++;\n+\n+  \/* POSIX allows double slashes at the start to mean something special\n+   * (as does windows too). So, \"\/\/\" != \"\/\", but more than two slashes\n@@ -2785,12 +2781,2 @@\n-  i = 0;\n-  for (p = start - 1;\n-       (p >= canon) &&\n-         G_IS_DIR_SEPARATOR (*p);\n-       p--)\n-    i++;\n-  if (i > 2)\n-    {\n-      i -= 1;\n-      start -= i;\n-      memmove (start, start+i, strlen (start+i) + 1);\n-    }\n+  if (after_root - output == 1)\n+    output++;\n@@ -2798,7 +2784,3 @@\n-  \/* Make sure we're using the canonical dir separator *\/\n-  p++;\n-  while (p < start && G_IS_DIR_SEPARATOR (*p))\n-    *p++ = G_DIR_SEPARATOR;\n-\n-  p = start;\n-  while (*p != 0)\n+  input = after_root;\n+  output_start = output;\n+  while (*input)\n@@ -2806,1 +2788,12 @@\n-      if (p[0] == '.' && (p[1] == 0 || G_IS_DIR_SEPARATOR (p[1])))\n+      \/* input points to the next non-separator to be processed. *\/\n+      \/* output points to the next location to write to. *\/\n+      g_assert (input > canon && G_IS_DIR_SEPARATOR (input[-1]));\n+      g_assert (output > canon && G_IS_DIR_SEPARATOR (output[-1]));\n+      g_assert (input >= output);\n+\n+      \/* Ignore repeated dir separators. *\/\n+      while (G_IS_DIR_SEPARATOR (input[0]))\n+       input++;\n+\n+      \/* Ignore single dot directory components. *\/\n+      if (input[0] == '.' && (input[1] == 0 || G_IS_DIR_SEPARATOR (input[1])))\n@@ -2808,1 +2801,3 @@\n-          memmove (p, p+1, strlen (p+1)+1);\n+           if (input[1] == 0)\n+             break;\n+           input += 2;\n@@ -2810,1 +2805,4 @@\n-      else if (p[0] == '.' && p[1] == '.' && (p[2] == 0 || G_IS_DIR_SEPARATOR (p[2])))\n+      \/* Remove double-dot directory components along with the preceding\n+       * path component. *\/\n+      else if (input[0] == '.' && input[1] == '.' &&\n+               (input[2] == 0 || G_IS_DIR_SEPARATOR (input[2])))\n@@ -2812,10 +2810,11 @@\n-          q = p + 2;\n-          \/* Skip previous separator *\/\n-          p = p - 2;\n-          if (p < start)\n-            p = start;\n-          while (p > start && !G_IS_DIR_SEPARATOR (*p))\n-            p--;\n-          if (G_IS_DIR_SEPARATOR (*p))\n-            *p++ = G_DIR_SEPARATOR;\n-          memmove (p, q, strlen (q)+1);\n+          if (output > output_start)\n+            {\n+              do\n+                {\n+                  output--;\n+                }\n+              while (!G_IS_DIR_SEPARATOR (output[-1]) && output > output_start);\n+            }\n+          if (input[2] == 0)\n+            break;\n+          input += 3;\n@@ -2823,0 +2822,2 @@\n+      \/* Copy the input to the output until the next separator,\n+       * while converting it to canonical separator *\/\n@@ -2825,9 +2826,6 @@\n-          \/* Skip until next separator *\/\n-          while (*p != 0 && !G_IS_DIR_SEPARATOR (*p))\n-            p++;\n-\n-          if (*p != 0)\n-            {\n-              \/* Canonicalize one separator *\/\n-              *p++ = G_DIR_SEPARATOR;\n-            }\n+          while (*input && !G_IS_DIR_SEPARATOR (*input))\n+            *output++ = *input++;\n+          if (input[0] == 0)\n+            break;\n+          input++;\n+          *output++ = G_DIR_SEPARATOR;\n@@ -2835,8 +2833,0 @@\n-\n-      \/* Remove additional separators *\/\n-      q = p;\n-      while (*q && G_IS_DIR_SEPARATOR (*q))\n-        q++;\n-\n-      if (p != q)\n-        memmove (p, q, strlen (q) + 1);\n@@ -2845,3 +2835,5 @@\n-  \/* Remove trailing slashes *\/\n-  if (p > start && G_IS_DIR_SEPARATOR (*(p-1)))\n-    *(p-1) = 0;\n+  \/* Remove a potentially trailing dir separator *\/\n+  if (output > output_start && G_IS_DIR_SEPARATOR (output[-1]))\n+    output--;\n+\n+  *output = '\\0';\n@@ -2876,1 +2868,1 @@\n- * Returns: (type filename): the current directory\n+ * Returns: (type filename) (transfer full): the current directory\n@@ -2885,1 +2877,1 @@\n-  int len;\n+  DWORD len;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gfileutils.c","additions":159,"deletions":167,"binary":false,"changes":326,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n- *    The most dangerous setting, which is slightly faster than other settings.\n+ *   The most dangerous setting, which is slightly faster than other settings.\n@@ -80,4 +80,4 @@\n- *    either the old version of the file or the new version of the file will be\n- *    available, but not a mixture. On Unix systems this equates to an `fsync()`\n- *    on the file and use of an atomic `rename()` of the new version of the file\n- *    over the old.\n+ *   either the old version of the file or the new version of the file will be\n+ *   available, but not a mixture. On Unix systems this equates to an `fsync()`\n+ *   on the file and use of an atomic `rename()` of the new version of the file\n+ *   over the old.\n@@ -85,4 +85,4 @@\n- *    new version of the file will be available. On Unix systems this equates to\n- *    an `fsync()` on the file (if %G_FILE_SET_CONTENTS_CONSISTENT is unset), or\n- *    the effects of %G_FILE_SET_CONTENTS_CONSISTENT plus an `fsync()` on the\n- *    directory containing the file after calling `rename()`.\n+ *   new version of the file will be available. On Unix systems this equates to\n+ *   an `fsync()` on the file (if %G_FILE_SET_CONTENTS_CONSISTENT is unset), or\n+ *   the effects of %G_FILE_SET_CONTENTS_CONSISTENT plus an `fsync()` on the\n+ *   directory containing the file after calling `rename()`.\n@@ -90,3 +90,3 @@\n- *    guarantees if the file already exists. This may speed up file operations\n- *    if the file doesn’t currently exist, but may result in a corrupted version\n- *    of the new file if the system crashes while writing it.\n+ *   guarantees if the file already exists. This may speed up file operations\n+ *   if the file doesn’t currently exist, but may result in a corrupted version\n+ *   of the new file if the system crashes while writing it.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gfileutils.h","additions":12,"deletions":12,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -569,1 +568,1 @@\n-  gboolean small;\n+  gboolean small = FALSE;\n@@ -575,1 +574,0 @@\n-  small = FALSE;\n@@ -1095,0 +1093,27 @@\n+\/**\n+ * g_hash_table_new_similar:\n+ * @other_hash_table: (not nullable) (transfer none): Another #GHashTable\n+ *\n+ * Creates a new #GHashTable like g_hash_table_new_full() with a reference\n+ * count of 1.\n+ *\n+ * It inherits the hash function, the key equal function, the key destroy function,\n+ * as well as the value destroy function, from @other_hash_table.\n+ *\n+ * The returned hash table will be empty; it will not contain the keys\n+ * or values from @other_hash_table.\n+ *\n+ * Returns: (transfer full) (not nullable): a new #GHashTable\n+ * Since: 2.72\n+ *\/\n+GHashTable *\n+g_hash_table_new_similar (GHashTable *other_hash_table)\n+{\n+  g_return_val_if_fail (other_hash_table, NULL);\n+\n+  return g_hash_table_new_full (other_hash_table->hash_func,\n+                                other_hash_table->key_equal_func,\n+                                other_hash_table->key_destroy_func,\n+                                other_hash_table->value_destroy_func);\n+}\n+\n@@ -2201,1 +2226,1 @@\n- * @length: (out): the length of the returned array\n+ * @length: (out) (optional): the length of the returned array\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghash.c","additions":29,"deletions":4,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -64,0 +64,2 @@\n+GLIB_AVAILABLE_IN_2_72\n+GHashTable *g_hash_table_new_similar       (GHashTable     *other_hash_table);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghash.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-  buffer = g_alloca (block_size);\n+  buffer = g_alloca0 (block_size);\n@@ -133,2 +133,0 @@\n-  memset (buffer, 0, block_size);\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghmac.c","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -21,0 +21,1 @@\n+#include \"glibconfig.h\"\n@@ -24,0 +25,4 @@\n+#ifdef G_OS_UNIX\n+#include <unistd.h>\n+#endif\n+\n@@ -32,0 +37,4 @@\n+#ifdef G_PLATFORM_WIN32\n+#include <windows.h>\n+#endif\n+\n@@ -122,1 +131,2 @@\n-  glong input_length;\n+  glong written_chars;\n+  gsize input_length;\n@@ -127,1 +137,1 @@\n-        &input_length, NULL);\n+                          &written_chars, NULL);\n@@ -131,0 +141,2 @@\n+  input_length = (gsize) (written_chars > 0 ? written_chars : 0);\n+\n@@ -408,0 +420,39 @@\n+static gsize\n+get_hostname_max_length_bytes (void)\n+{\n+#if defined(G_OS_WIN32)\n+  wchar_t tmp[MAX_COMPUTERNAME_LENGTH];\n+  return sizeof (tmp) \/ sizeof (tmp[0]);\n+#elif defined(_SC_HOST_NAME_MAX)\n+  glong max = sysconf (_SC_HOST_NAME_MAX);\n+  if (max > 0)\n+    return (gsize) max;\n+\n+#ifdef HOST_NAME_MAX\n+  return HOST_NAME_MAX;\n+#else\n+  return _POSIX_HOST_NAME_MAX;\n+#endif \/* HOST_NAME_MAX *\/\n+#else\n+  \/* Fallback to some reasonable value\n+   * See https:\/\/stackoverflow.com\/questions\/8724954\/what-is-the-maximum-number-of-characters-for-a-host-name-in-unix\/28918017#28918017 *\/\n+  return 255;\n+#endif\n+}\n+\n+\/* Returns %TRUE if `strlen (str) > comparison_length`, but without actually\n+ * running `strlen(str)`, as that would take a very long time for long\n+ * (untrusted) input strings. *\/\n+static gboolean\n+strlen_greater_than (const gchar *str,\n+                     gsize        comparison_length)\n+{\n+  gsize i;\n+\n+  for (i = 0; str[i] != '\\0'; i++)\n+    if (i > comparison_length)\n+      return TRUE;\n+\n+  return FALSE;\n+}\n+\n@@ -416,2 +467,2 @@\n- * Returns: an ASCII hostname, which must be freed, or %NULL if\n- * @hostname is in some way invalid.\n+ * Returns: (nullable) (transfer full): an ASCII hostname, which must be freed,\n+ *    or %NULL if @hostname is in some way invalid.\n@@ -428,0 +479,26 @@\n+  gsize hostname_max_length_bytes = get_hostname_max_length_bytes ();\n+\n+  \/* Do an initial check on the hostname length, as overlong hostnames take a\n+   * long time in the IDN cleanup algorithm in nameprep(). The ultimate\n+   * restriction is that the IDN-decoded (i.e. pure ASCII) hostname cannot be\n+   * longer than 255 bytes. That’s the least restrictive limit on hostname\n+   * length of all the ways hostnames can be interpreted. Typically, the\n+   * hostname will be an FQDN, which is limited to 253 bytes long. POSIX\n+   * hostnames are limited to `get_hostname_max_length_bytes()` (typically 255\n+   * bytes).\n+   *\n+   * See https:\/\/stackoverflow.com\/a\/28918017\/2931197\n+   *\n+   * It’s possible for a hostname to be %-encoded, in which case its decoded\n+   * length will be as much as 3× shorter.\n+   *\n+   * It’s also possible for a hostname to use overlong UTF-8 encodings, in which\n+   * case its decoded length will be as much as 4× shorter.\n+   *\n+   * Note: This check is not intended as an absolute guarantee that a hostname\n+   * is the right length and will be accepted by other systems. It’s intended to\n+   * stop wildly-invalid hostnames from taking forever in nameprep().\n+   *\/\n+  if (hostname_max_length_bytes <= G_MAXSIZE \/ 4 &&\n+      strlen_greater_than (hostname, 4 * MAX (255, hostname_max_length_bytes)))\n+    return NULL;\n@@ -597,2 +674,2 @@\n- * Returns: a UTF-8 hostname, which must be freed, or %NULL if\n- * @hostname is in some way invalid.\n+ * Returns: (nullable) (transfer full): a UTF-8 hostname, which must be freed,\n+ *    or %NULL if @hostname is in some way invalid.\n@@ -607,0 +684,6 @@\n+  gsize hostname_max_length_bytes = get_hostname_max_length_bytes ();\n+\n+  \/* See the comment at the top of g_hostname_to_ascii(). *\/\n+  if (hostname_max_length_bytes <= G_MAXSIZE \/ 4 &&\n+      strlen_greater_than (hostname, 4 * MAX (255, hostname_max_length_bytes)))\n+    return NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/ghostutils.c","additions":89,"deletions":6,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -597,1 +596,1 @@\n- * given @channel. For example, if condition is #G_IO_IN, the source will\n+ * given @channel. For example, if condition is %G_IO_IN, the source will\n@@ -1184,2 +1183,2 @@\n- *   #G_IO_STATUS_NORMAL, #G_IO_STATUS_AGAIN, or\n- *   #G_IO_STATUS_ERROR.\n+ *   %G_IO_STATUS_NORMAL, %G_IO_STATUS_AGAIN, or\n+ *   %G_IO_STATUS_ERROR.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giochannel.c","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -351,1 +351,1 @@\n-  g_source_set_name (source, \"GIOChannel (Unix)\");\n+  g_source_set_static_name (source, \"GIOChannel (Unix)\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giounix.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -818,1 +818,1 @@\n-  WSANETWORKEVENTS events;\n+  WSANETWORKEVENTS events = { 0 };\n@@ -1026,1 +1026,3 @@\n-  g_io_win32_finalize\n+  g_io_win32_finalize,\n+  NULL,\n+  NULL\n@@ -1173,1 +1175,1 @@\n-  g_source_set_name (source, \"GIOChannel (Win32)\");\n+  g_source_set_static_name (source, \"GIOChannel (Win32)\");\n@@ -1292,2 +1294,1 @@\n-  off_t tmp_offset;\n-  off_t result;\n+  gint64 result;\n@@ -1312,10 +1313,1 @@\n-  tmp_offset = offset;\n-  if (tmp_offset != offset)\n-    {\n-      g_set_error_literal (err, G_IO_CHANNEL_ERROR,\n-                           g_io_channel_error_from_errno (EINVAL),\n-                           g_strerror (EINVAL));\n-      return G_IO_STATUS_ERROR;\n-    }\n-\n-  result = lseek (win32_channel->fd, tmp_offset, whence);\n+  result = _lseeki64 (win32_channel->fd, offset, whence);\n@@ -1463,1 +1455,1 @@\n-  int winsock_error;\n+  int winsock_error = 0;\n@@ -1524,1 +1516,1 @@\n-  int winsock_error;\n+  int winsock_error = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/giowin32.c","additions":9,"deletions":17,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -221,1 +221,1 @@\n- *     an unknown encoding\n+ *   an unknown encoding\n@@ -235,3 +235,3 @@\n- *     (possibly modified) contents of the key file back to a file;\n- *     otherwise all comments will be lost when the key file is\n- *     written back.\n+ *   (possibly modified) contents of the key file back to a file;\n+ *   otherwise all comments will be lost when the key file is\n+ *   written back.\n@@ -239,3 +239,3 @@\n- *     (possibly modified) contents of the key file back to a file;\n- *     otherwise only the translations for the current language will be\n- *     written back.\n+ *   (possibly modified) contents of the key file back to a file;\n+ *   otherwise only the translations for the current language will be\n+ *   written back.\n@@ -260,5 +260,6 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n- * giving the type of the desktop entry. Usually\n- * #G_KEY_FILE_DESKTOP_TYPE_APPLICATION,\n- * #G_KEY_FILE_DESKTOP_TYPE_LINK, or\n- * #G_KEY_FILE_DESKTOP_TYPE_DIRECTORY.\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+ * giving the type of the desktop entry.\n+ *\n+ * Usually %G_KEY_FILE_DESKTOP_TYPE_APPLICATION,\n+ * %G_KEY_FILE_DESKTOP_TYPE_LINK, or\n+ * %G_KEY_FILE_DESKTOP_TYPE_DIRECTORY.\n@@ -272,1 +273,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n@@ -282,1 +283,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n@@ -291,1 +292,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n@@ -300,1 +301,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n@@ -309,1 +310,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n@@ -318,1 +319,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a localized\n@@ -328,1 +329,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n@@ -337,1 +338,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a list of\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a list of\n@@ -347,1 +348,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a list of\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a list of\n@@ -357,1 +358,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n@@ -368,1 +369,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n@@ -378,1 +379,1 @@\n-  * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+  * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n@@ -388,1 +389,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n@@ -390,2 +391,2 @@\n- * It is only valid for desktop entries with the\n- * `Application` type.\n+ *\n+ * It is only valid for desktop entries with the `Application` type.\n@@ -399,1 +400,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a list\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a list\n@@ -408,1 +409,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a list\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a list\n@@ -418,1 +419,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n@@ -428,1 +429,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is string\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is string\n@@ -439,1 +440,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string\n@@ -449,2 +450,2 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean set to true\n- * if the application is D-Bus activatable.\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a boolean\n+ * set to true if the application is D-Bus activatable.\n@@ -458,1 +459,1 @@\n- * A key under #G_KEY_FILE_DESKTOP_GROUP, whose value is a string list\n+ * A key under %G_KEY_FILE_DESKTOP_GROUP, whose value is a string list\n@@ -467,1 +468,1 @@\n- * The value of the #G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n+ * The value of the %G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n@@ -476,1 +477,1 @@\n- * The value of the #G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n+ * The value of the %G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n@@ -485,1 +486,1 @@\n- * The value of the #G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n+ * The value of the %G_KEY_FILE_DESKTOP_KEY_TYPE, key for desktop\n@@ -513,1 +514,2 @@\n-  gchar **locales;\n+  gboolean checked_locales;  \/* TRUE if @locales has been initialised *\/\n+  gchar **locales;  \/* (nullable) *\/\n@@ -515,1 +517,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -576,1 +578,2 @@\n-static gboolean              g_key_file_is_key_name            (const gchar *name);\n+static gboolean              g_key_file_is_key_name            (const gchar *name,\n+                                                                gsize        len);\n@@ -599,1 +602,1 @@\n-static gchar                *g_key_file_parse_boolean_as_value (GKeyFile               *key_file,\n+static const gchar          *g_key_file_parse_boolean_as_value (GKeyFile               *key_file,\n@@ -618,1 +621,2 @@\n-static gchar                *key_get_locale                    (const gchar            *key);\n+static const gchar          *key_get_locale                    (const gchar            *key,\n+                                                                gsize                  *len_out);\n@@ -633,1 +637,1 @@\n-  key_file->group_hash = g_hash_table_new (g_str_hash, g_str_equal);\n+  key_file->group_hash = NULL;\n@@ -635,1 +639,1 @@\n-  key_file->parse_buffer = g_string_sized_new (128);\n+  key_file->parse_buffer = NULL;\n@@ -638,1 +642,0 @@\n-  key_file->locales = g_strdupv ((gchar **)g_get_language_names ());\n@@ -651,0 +654,1 @@\n+  key_file->checked_locales = FALSE;\n@@ -746,1 +750,2 @@\n-      gchar *candidate_file, *sub_dir;\n+      const gchar *candidate_file;\n+      gchar *sub_dir;\n@@ -748,1 +753,1 @@\n-      candidate_file = (gchar *) file;\n+      candidate_file = file;\n@@ -1228,1 +1233,2 @@\n-          const gchar *locale)\n+                                  const gchar *locale,\n+                                  gsize        locale_len)\n@@ -1235,0 +1241,7 @@\n+  if (!key_file->checked_locales)\n+    {\n+      g_assert (key_file->locales == NULL);\n+      key_file->locales = g_strdupv ((gchar **)g_get_language_names ());\n+      key_file->checked_locales = TRUE;\n+    }\n+\n@@ -1237,2 +1250,3 @@\n-      if (g_ascii_strcasecmp (key_file->locales[i], locale) == 0)\n-  return TRUE;\n+      if (g_ascii_strncasecmp (key_file->locales[i], locale, locale_len) == 0 &&\n+          key_file->locales[i][locale_len] == '\\0')\n+        return TRUE;\n@@ -1251,1 +1265,1 @@\n-  gchar *line_start;\n+  const gchar *line_start;\n@@ -1256,1 +1270,1 @@\n-  line_start = (gchar *) line;\n+  line_start = line;\n@@ -1353,1 +1367,3 @@\n-  gchar *key, *value, *key_end, *value_start, *locale;\n+  gchar *key, *key_end, *value_start;\n+  const gchar *locale;\n+  gsize locale_len;\n@@ -1380,3 +1396,1 @@\n-  key = g_strndup (line, key_len - 1);\n-\n-  if (!g_key_file_is_key_name (key))\n+  if (!g_key_file_is_key_name (line, key_len - 1))\n@@ -1386,2 +1400,1 @@\n-                   _(\"Invalid key name: %s\"), key);\n-      g_free (key);\n+                   _(\"Invalid key name: %.*s\"), (int) key_len - 1, line);\n@@ -1391,0 +1404,2 @@\n+  key = g_strndup (line, key_len - 1);\n+\n@@ -1396,3 +1411,1 @@\n-  value_len = line + length - value_start + 1;\n-\n-  value = g_strndup (value_start, value_len);\n+  value_len = line + length - value_start;\n@@ -1402,4 +1415,5 @@\n-  if (key_file->current_group\n-      && key_file->current_group->name\n-      && strcmp (key_file->start_group->name,\n-                 key_file->current_group->name) == 0\n+  \/* Checked on entry to this function *\/\n+  g_assert (key_file->current_group != NULL);\n+  g_assert (key_file->current_group->name != NULL);\n+\n+  if (key_file->start_group == key_file->current_group\n@@ -1408,1 +1422,2 @@\n-      if (g_ascii_strcasecmp (value, \"UTF-8\") != 0)\n+      if (value_len != strlen (\"UTF-8\") ||\n+          g_ascii_strncasecmp (value_start, \"UTF-8\", value_len) != 0)\n@@ -1410,1 +1425,1 @@\n-    gchar *value_utf8 = g_utf8_make_valid (value, value_len);\n+          gchar *value_utf8 = g_utf8_make_valid (value_start, value_len);\n@@ -1414,2 +1429,2 @@\n-       \"encoding '%s'\"), value_utf8);\n-    g_free (value_utf8);\n+                       \"encoding '%s'\"), value_utf8);\n+          g_free (value_utf8);\n@@ -1418,1 +1433,0 @@\n-          g_free (value);\n@@ -1425,1 +1439,1 @@\n-  locale = key_get_locale (key);\n+  locale = key_get_locale (key, &locale_len);\n@@ -1427,1 +1441,1 @@\n-  if (locale == NULL || g_key_file_locale_is_interesting (key_file, locale))\n+  if (locale == NULL || g_key_file_locale_is_interesting (key_file, locale, locale_len))\n@@ -1440,2 +1454,2 @@\n-      pair->key = key;\n-      pair->value = value;\n+      pair->key = g_steal_pointer (&key);\n+      pair->value = g_strndup (value_start, value_len);\n@@ -1445,2 +1459,1 @@\n-  else\n-    {\n+\n@@ -1448,1 +1461,0 @@\n-      g_free (value);\n@@ -1451,5 +1463,3 @@\n-  g_free (locale);\n-}\n-\n-static gchar *\n-key_get_locale (const gchar *key)\n+static const gchar *\n+key_get_locale (const gchar *key,\n+                gsize       *len_out)\n@@ -1457,1 +1467,2 @@\n-  gchar *locale;\n+  const gchar *locale;\n+  gsize locale_len;\n@@ -1460,0 +1471,4 @@\n+  if (locale != NULL)\n+    locale_len = strlen (locale);\n+  else\n+    locale_len = 0;\n@@ -1461,1 +1476,7 @@\n-  if (locale && strlen (locale) <= 2)\n+  if (locale_len > 2)\n+    {\n+      locale++;  \/* skip `[` *\/\n+      locale_len -= 2;  \/* drop `[` and `]` *\/\n+    }\n+  else\n+    {\n@@ -1463,0 +1484,2 @@\n+      locale_len = 0;\n+    }\n@@ -1464,3 +1487,1 @@\n-  if (locale)\n-    locale = g_strndup (locale + 1, strlen (locale) - 2);\n-\n+  *len_out = locale_len;\n@@ -1484,0 +1505,3 @@\n+  if (!key_file->parse_buffer)\n+    key_file->parse_buffer = g_string_sized_new (128);\n+\n@@ -1540,0 +1564,3 @@\n+  if (!key_file->parse_buffer)\n+    return;\n+\n@@ -1637,1 +1664,1 @@\n- * #G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n+ * %G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n@@ -1811,1 +1838,1 @@\n- * @error is set to #G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n+ * @error is set to %G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n@@ -1813,1 +1840,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n+ * and @error is set to %G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n@@ -1886,2 +1913,2 @@\n-  g_return_if_fail (g_key_file_is_group_name (group_name));\n-  g_return_if_fail (g_key_file_is_key_name (key));\n+  g_return_if_fail (group_name != NULL && g_key_file_is_group_name (group_name));\n+  g_return_if_fail (key != NULL && g_key_file_is_key_name (key, strlen (key)));\n@@ -1925,1 +1952,1 @@\n- * @error is set to #G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n+ * @error is set to %G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n@@ -1927,1 +1954,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n+ * and @error is set to %G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n@@ -2036,1 +2063,1 @@\n- * @error is set to #G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n+ * @error is set to %G_KEY_FILE_ERROR_KEY_NOT_FOUND.  In the\n@@ -2038,1 +2065,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n+ * and @error is set to %G_KEY_FILE_ERROR_GROUP_NOT_FOUND.\n@@ -2223,1 +2250,1 @@\n- * to #G_KEY_FILE_ERROR_KEY_NOT_FOUND. If the value associated\n+ * to %G_KEY_FILE_ERROR_KEY_NOT_FOUND. If the value associated\n@@ -2269,2 +2296,2 @@\n-            group_name,\n-            candidate_key, NULL);\n+                                                group_name,\n+                                                candidate_key, NULL);\n@@ -2274,4 +2301,1 @@\n-  break;\n-\n-      g_free (translated_value);\n-      translated_value = NULL;\n+        break;\n@@ -2380,1 +2404,1 @@\n- * to #G_KEY_FILE_ERROR_KEY_NOT_FOUND. If the values associated\n+ * to %G_KEY_FILE_ERROR_KEY_NOT_FOUND. If the values associated\n@@ -2507,1 +2531,1 @@\n- * to #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value\n+ * to %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value\n@@ -2509,1 +2533,1 @@\n- * is returned and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * is returned and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -2580,1 +2604,1 @@\n-  gchar *result;\n+  const gchar *result;\n@@ -2586,1 +2610,0 @@\n-  g_free (result);\n@@ -2601,1 +2624,1 @@\n- * #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n+ * %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n@@ -2603,1 +2626,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -2702,1 +2725,1 @@\n-      gchar *value;\n+      const gchar *value;\n@@ -2708,2 +2731,0 @@\n-\n-      g_free (value);\n@@ -2727,1 +2748,1 @@\n- * #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value associated\n+ * %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value associated\n@@ -2730,1 +2751,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -2978,1 +2999,1 @@\n- * #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n+ * %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n@@ -2981,1 +3002,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -3102,1 +3123,1 @@\n- * #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value associated\n+ * %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the value associated\n@@ -3104,1 +3125,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -3197,1 +3218,1 @@\n- * #G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n+ * %G_KEY_FILE_ERROR_KEY_NOT_FOUND. Likewise, if the values associated\n@@ -3199,1 +3220,1 @@\n- * and @error is set to #G_KEY_FILE_ERROR_INVALID_VALUE.\n+ * and @error is set to %G_KEY_FILE_ERROR_INVALID_VALUE.\n@@ -3385,1 +3406,1 @@\n-  g_return_val_if_fail (g_key_file_is_group_name (group_name), FALSE);\n+  g_return_val_if_fail (group_name != NULL && g_key_file_is_group_name (group_name), FALSE);\n@@ -3525,1 +3546,1 @@\n-  g_return_val_if_fail (g_key_file_is_group_name (group_name), NULL);\n+  g_return_val_if_fail (group_name != NULL && g_key_file_is_group_name (group_name), NULL);\n@@ -3701,1 +3722,1 @@\n- * @key: a key\n+ * @key: (nullable): a key\n@@ -3876,1 +3897,1 @@\n-  g_return_if_fail (g_key_file_is_group_name (group_name));\n+  g_return_if_fail (group_name != NULL && g_key_file_is_group_name (group_name));\n@@ -3894,0 +3915,3 @@\n+  if (!key_file->group_hash)\n+    key_file->group_hash = g_hash_table_new (g_str_hash, g_str_equal);\n+\n@@ -3946,1 +3970,4 @@\n-    g_hash_table_remove (key_file->group_hash, group->name);\n+    {\n+      g_assert (key_file->group_hash);\n+      g_hash_table_remove (key_file->group_hash, group->name);\n+    }\n@@ -4042,3 +4069,3 @@\n-       G_KEY_FILE_ERROR_GROUP_NOT_FOUND,\n-       _(\"Key file does not have group '%s'\"),\n-       group_name);\n+                   G_KEY_FILE_ERROR_GROUP_NOT_FOUND,\n+                   _(\"Key file does not have group '%s'\"),\n+                   group_name);\n@@ -4144,1 +4171,0 @@\n-  GList *tmp;\n@@ -4146,7 +4172,3 @@\n-  for (tmp = key_file->groups; tmp != NULL; tmp = tmp->next)\n-    {\n-      group = (GKeyFileGroup *) tmp->data;\n-\n-      if (group && group->name && strcmp (group->name, group_name) == 0)\n-        break;\n-    }\n+  group = g_key_file_lookup_group (key_file, group_name);\n+  if (group == NULL)\n+    return NULL;\n@@ -4154,1 +4176,1 @@\n-  return tmp;\n+  return g_list_find (key_file->groups, group);\n@@ -4161,0 +4183,3 @@\n+  if (!key_file->group_hash)\n+    return NULL;\n+\n@@ -4207,1 +4232,1 @@\n-  gchar *p, *q;\n+  const gchar *p, *q;\n@@ -4209,2 +4234,1 @@\n-  if (name == NULL)\n-    return FALSE;\n+  g_assert (name != NULL);\n@@ -4212,1 +4236,1 @@\n-  p = q = (gchar *) name;\n+  p = q = name;\n@@ -4223,1 +4247,2 @@\n-g_key_file_is_key_name (const gchar *name)\n+g_key_file_is_key_name (const gchar *name,\n+                        gsize        len)\n@@ -4225,1 +4250,1 @@\n-  gchar *p, *q;\n+  const gchar *p, *q, *end;\n@@ -4227,2 +4252,4 @@\n-  if (name == NULL)\n-    return FALSE;\n+  g_assert (name != NULL);\n+\n+  p = q = name;\n+  end = name + len;\n@@ -4230,1 +4257,0 @@\n-  p = q = (gchar *) name;\n@@ -4234,2 +4260,6 @@\n-  while (*q && *q != '=' && *q != '[' && *q != ']')\n-    q = g_utf8_find_next_char (q, NULL);\n+  while (q < end && *q && *q != '=' && *q != '[' && *q != ']')\n+    {\n+      q = g_utf8_find_next_char (q, end);\n+      if (q == NULL)\n+        q = end;\n+    }\n@@ -4252,2 +4282,11 @@\n-      while (*q && (g_unichar_isalnum (g_utf8_get_char_validated (q, -1)) || *q == '-' || *q == '_' || *q == '.' || *q == '@'))\n-        q = g_utf8_find_next_char (q, NULL);\n+      while (q < end &&\n+             *q != '\\0' &&\n+             (g_unichar_isalnum (g_utf8_get_char_validated (q, end - q)) || *q == '-' || *q == '_' || *q == '.' || *q == '@'))\n+        {\n+          q = g_utf8_find_next_char (q, end);\n+          if (q == NULL)\n+            {\n+              q = end;\n+              break;\n+            }\n+        }\n@@ -4261,1 +4300,1 @@\n-  if (*q != '\\0')\n+  if (q < end)\n@@ -4273,1 +4312,1 @@\n-  gchar *p;\n+  const gchar *p;\n@@ -4275,1 +4314,1 @@\n-  p = (gchar *) line;\n+  p = line;\n@@ -4301,1 +4340,1 @@\n-  gchar *p;\n+  const gchar *p;\n@@ -4303,1 +4342,1 @@\n-  p = (gchar *) g_utf8_strchr (line, -1, '=');\n+  p = g_utf8_strchr (line, -1, '=');\n@@ -4322,1 +4361,2 @@\n-  gchar *string_value, *p, *q0, *q;\n+  gchar *string_value, *q0, *q;\n+  const gchar *p;\n@@ -4326,1 +4366,1 @@\n-  p = (gchar *) value;\n+  p = value;\n@@ -4363,7 +4403,7 @@\n-            default:\n-        if (pieces && *p == key_file->list_separator)\n-    *q = key_file->list_separator;\n-        else\n-    {\n-      *q++ = '\\\\';\n-      *q = *p;\n+      default:\n+              if (pieces && *p == key_file->list_separator)\n+                *q = key_file->list_separator;\n+              else\n+                {\n+                  *q++ = '\\\\';\n+                  *q = *p;\n@@ -4371,3 +4411,3 @@\n-      if (*error == NULL)\n-        {\n-          gchar sequence[3];\n+                  if (*error == NULL)\n+                    {\n+                      gchar sequence[3];\n@@ -4375,3 +4415,3 @@\n-          sequence[0] = '\\\\';\n-          sequence[1] = *p;\n-          sequence[2] = '\\0';\n+                      sequence[0] = '\\\\';\n+                      sequence[1] = *p;\n+                      sequence[2] = '\\0';\n@@ -4379,6 +4419,6 @@\n-          g_set_error (error, G_KEY_FILE_ERROR,\n-                       G_KEY_FILE_ERROR_INVALID_VALUE,\n-                       _(\"Key file contains invalid escape \"\n-                       \"sequence '%s'\"), sequence);\n-        }\n-    }\n+                      g_set_error (error, G_KEY_FILE_ERROR,\n+                                   G_KEY_FILE_ERROR_INVALID_VALUE,\n+                                   _(\"Key file contains invalid escape \"\n+                                   \"sequence '%s'\"), sequence);\n+                    }\n+                }\n@@ -4389,8 +4429,8 @@\n-  {\n-    *q = *p;\n-    if (pieces && (*p == key_file->list_separator))\n-      {\n-        *pieces = g_slist_prepend (*pieces, g_strndup (q0, q - q0));\n-        q0 = q + 1;\n-      }\n-  }\n+        {\n+          *q = *p;\n+          if (pieces && (*p == key_file->list_separator))\n+            {\n+              *pieces = g_slist_prepend (*pieces, g_strndup (q0, q - q0));\n+              q0 = q + 1;\n+            }\n+        }\n@@ -4399,1 +4439,1 @@\n-  break;\n+        break;\n@@ -4421,1 +4461,2 @@\n-  gchar *value, *p, *q;\n+  gchar *value, *q;\n+  const gchar *p;\n@@ -4432,1 +4473,1 @@\n-  p = (gchar *) string;\n+  p = string;\n@@ -4612,1 +4653,1 @@\n-     \"as a boolean.\"), value_utf8);\n+               \"as a boolean.\"), value_utf8);\n@@ -4618,1 +4659,1 @@\n-static gchar *\n+static const gchar *\n@@ -4623,1 +4664,1 @@\n-    return g_strdup (\"true\");\n+    return \"true\";\n@@ -4625,1 +4666,1 @@\n-    return g_strdup (\"false\");\n+    return \"false\";\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gkeyfile.c","additions":234,"deletions":193,"binary":false,"changes":427,"status":"modified"},{"patch":"@@ -83,0 +83,3 @@\n+#ifndef GSTREAMER_LITE\n+G_DEFINE_AUTOPTR_CLEANUP_FUNC(GStrvBuilder, g_strv_builder_unref)\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-autocleanups.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,0 +34,5 @@\n+\/* Deliberately not checking HAVE_STDINT_H here: we officially require a\n+ * C99 toolchain, which implies <stdint.h>, int8_t and so on. If your\n+ * toolchain does not have this, now would be a good time to upgrade. *\/\n+#include <stdint.h>\n+\n@@ -70,0 +75,65 @@\n+G_STATIC_ASSERT (sizeof (gchar) == 1);\n+G_STATIC_ASSERT (sizeof (guchar) == 1);\n+G_STATIC_ASSERT (sizeof (gint8) * CHAR_BIT == 8);\n+G_STATIC_ASSERT (sizeof (guint8) * CHAR_BIT == 8);\n+G_STATIC_ASSERT (sizeof (gint16) * CHAR_BIT == 16);\n+G_STATIC_ASSERT (sizeof (guint16) * CHAR_BIT == 16);\n+G_STATIC_ASSERT (sizeof (gint32) * CHAR_BIT == 32);\n+G_STATIC_ASSERT (sizeof (guint32) * CHAR_BIT == 32);\n+G_STATIC_ASSERT (sizeof (gint64) * CHAR_BIT == 64);\n+G_STATIC_ASSERT (sizeof (guint64) * CHAR_BIT == 64);\n+\n+G_STATIC_ASSERT (sizeof (void *) == GLIB_SIZEOF_VOID_P);\n+G_STATIC_ASSERT (sizeof (gintptr) == sizeof (void *));\n+G_STATIC_ASSERT (sizeof (guintptr) == sizeof (void *));\n+\n+G_STATIC_ASSERT (sizeof (long) == GLIB_SIZEOF_LONG);\n+\n+G_STATIC_ASSERT (G_HAVE_GINT64 == 1);\n+\n+G_STATIC_ASSERT (sizeof (size_t) == GLIB_SIZEOF_SIZE_T);\n+\/* Not a typo: ssize_t is POSIX, not Standard C, but if it exists then\n+ * it's the same size as size_t. *\/\n+G_STATIC_ASSERT (sizeof (size_t) == GLIB_SIZEOF_SSIZE_T);\n+G_STATIC_ASSERT (sizeof (gsize) == GLIB_SIZEOF_SSIZE_T);\n+G_STATIC_ASSERT (sizeof (gsize) == sizeof (size_t));\n+\/* Again this is size_t not ssize_t, because ssize_t is POSIX, not C99 *\/\n+G_STATIC_ASSERT (sizeof (gssize) == sizeof (size_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gsize) == G_ALIGNOF (size_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gssize) == G_ALIGNOF (size_t));\n+\n+\/* goffset is always 64-bit, even if off_t is only 32-bit\n+ * (compiling without large-file-support on 32-bit) *\/\n+G_STATIC_ASSERT (sizeof (goffset) == sizeof (gint64));\n+G_STATIC_ASSERT (G_ALIGNOF (goffset) == G_ALIGNOF (gint64));\n+\n+G_STATIC_ASSERT (sizeof (gfloat) == sizeof (float));\n+G_STATIC_ASSERT (G_ALIGNOF (gfloat) == G_ALIGNOF (float));\n+G_STATIC_ASSERT (sizeof (gdouble) == sizeof (double));\n+G_STATIC_ASSERT (G_ALIGNOF (gdouble) == G_ALIGNOF (double));\n+\n+G_STATIC_ASSERT (sizeof (gintptr) == sizeof (intptr_t));\n+G_STATIC_ASSERT (sizeof (guintptr) == sizeof (uintptr_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gintptr) == G_ALIGNOF (intptr_t));\n+G_STATIC_ASSERT (G_ALIGNOF (guintptr) == G_ALIGNOF (uintptr_t));\n+\n+G_STATIC_ASSERT (sizeof (gint8) == sizeof (int8_t));\n+G_STATIC_ASSERT (sizeof (guint8) == sizeof (uint8_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gint8) == G_ALIGNOF (int8_t));\n+G_STATIC_ASSERT (G_ALIGNOF (guint8) == G_ALIGNOF (uint8_t));\n+\n+G_STATIC_ASSERT (sizeof (gint16) == sizeof (int16_t));\n+G_STATIC_ASSERT (sizeof (guint16) == sizeof (uint16_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gint16) == G_ALIGNOF (int16_t));\n+G_STATIC_ASSERT (G_ALIGNOF (guint16) == G_ALIGNOF (uint16_t));\n+\n+G_STATIC_ASSERT (sizeof (gint32) == sizeof (int32_t));\n+G_STATIC_ASSERT (sizeof (guint32) == sizeof (uint32_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gint32) == G_ALIGNOF (int32_t));\n+G_STATIC_ASSERT (G_ALIGNOF (guint32) == G_ALIGNOF (uint32_t));\n+\n+G_STATIC_ASSERT (sizeof (gint64) == sizeof (int64_t));\n+G_STATIC_ASSERT (sizeof (guint64) == sizeof (uint64_t));\n+G_STATIC_ASSERT (G_ALIGNOF (gint64) == G_ALIGNOF (int64_t));\n+G_STATIC_ASSERT (G_ALIGNOF (guint64) == G_ALIGNOF (uint64_t));\n+\n@@ -270,0 +340,41 @@\n+  g_error_init ();\n+}\n+\n+#ifdef G_PLATFORM_WIN32\n+\n+HMODULE glib_dll = NULL;\n+void glib_win32_init (void);\n+\n+void\n+glib_win32_init (void)\n+{\n+  \/* May be called more than once in static compilation mode *\/\n+  static gboolean win32_already_init = FALSE;\n+  if (!win32_already_init)\n+    {\n+      win32_already_init = TRUE;\n+\n+#ifndef GSTREAMER_LITE\n+      g_crash_handler_win32_init ();\n+#endif \/\/ GSTREAMER_LITE\n+#ifdef THREADS_WIN32\n+      g_thread_win32_init ();\n+#endif\n+\n+      g_clock_win32_init ();\n+      glib_init ();\n+      \/* must go after glib_init *\/\n+      g_console_win32_init ();\n+    }\n+}\n+\n+static void\n+glib_win32_deinit (gboolean detach_thread)\n+{\n+#ifdef THREADS_WIN32\n+  if (detach_thread)\n+    g_thread_win32_process_detach ();\n+#endif\n+#ifndef GSTREAMER_LITE\n+  g_crash_handler_win32_deinit ();\n+#endif \/\/ GSTREAMER_LITE\n@@ -272,1 +383,1 @@\n-#if defined (G_OS_WIN32)\n+#ifndef GLIB_STATIC_COMPILATION\n@@ -278,2 +389,0 @@\n-HMODULE glib_dll;\n-\n@@ -289,10 +398,1 @@\n-#ifndef GSTREAMER_LITE\n-      g_crash_handler_win32_init ();\n-#endif \/\/ GSTREAMER_LITE\n-      g_clock_win32_init ();\n-#ifdef THREADS_WIN32\n-      g_thread_win32_init ();\n-#endif\n-      glib_init ();\n-      \/* must go after glib_init *\/\n-      g_console_win32_init ();\n+      glib_win32_init ();\n@@ -308,7 +408,1 @@\n-#ifdef THREADS_WIN32\n-      if (lpvReserved == NULL)\n-        g_thread_win32_process_detach ();\n-#endif\n-#ifndef GSTREAMER_LITE\n-      g_crash_handler_win32_deinit ();\n-#endif \/\/ GSTREAMER_LITE\n+      glib_win32_deinit (lpvReserved == NULL);\n@@ -325,1 +419,29 @@\n-#elif defined (G_HAS_CONSTRUCTORS)\n+#elif defined(G_HAS_CONSTRUCTORS) \/* && G_PLATFORM_WIN32 && GLIB_STATIC_COMPILATION *\/\n+#ifdef G_DEFINE_CONSTRUCTOR_NEEDS_PRAGMA\n+#pragma G_DEFINE_CONSTRUCTOR_PRAGMA_ARGS(glib_init_ctor)\n+#endif\n+#ifdef G_DEFINE_DESTRUCTOR_NEEDS_PRAGMA\n+#pragma G_DEFINE_DESTRUCTOR_PRAGMA_ARGS(glib_init_dtor)\n+#endif\n+\n+G_DEFINE_CONSTRUCTOR (glib_init_ctor)\n+\n+static void\n+glib_init_ctor (void)\n+{\n+  glib_win32_init ();\n+}\n+\n+G_DEFINE_DESTRUCTOR (glib_init_dtor)\n+\n+static void\n+glib_init_dtor (void)\n+{\n+  glib_win32_deinit (FALSE);\n+}\n+\n+#else \/* G_PLATFORM_WIN32 && GLIB_STATIC_COMPILATION && !G_HAS_CONSTRUCTORS *\/\n+#error Your platform\/compiler is missing constructor support\n+#endif \/* GLIB_STATIC_COMPILATION *\/\n+\n+#elif defined(G_HAS_CONSTRUCTORS) \/* && !G_PLATFORM_WIN32 *\/\n@@ -338,1 +460,1 @@\n-#else\n+#else \/* !G_PLATFORM_WIN32 && !G_HAS_CONSTRUCTORS *\/\n@@ -340,1 +462,1 @@\n-#endif\n+#endif \/* G_PLATFORM_WIN32 *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-init.c","additions":145,"deletions":23,"binary":false,"changes":168,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+void g_error_init (void);\n@@ -43,0 +44,1 @@\n+gboolean _g_win32_call_rtl_version (OSVERSIONINFOEXW *info);\n@@ -44,0 +46,1 @@\n+gchar *g_win32_find_helper_executable_path (const gchar *process_name, void *dll_handle);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-init.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -23,0 +23,3 @@\n+#ifndef GSTREAMER_LITE\n+#include <gobject\/gbindinggroup.h>\n+#endif \/\/ GSTREAMER_LITE\n@@ -30,0 +33,3 @@\n+#ifndef GSTREAMER_LITE\n+#include <gobject\/gsignalgroup.h>\n+#endif \/\/ GSTREAMER_LITE\n@@ -37,3 +43,0 @@\n-#ifndef GSTREAMER_LITE\n-#include <gobject\/glib-enumtypes.h>\n-#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-object.h","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+    g_win32_find_helper_executable_path,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-private.c","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -25,0 +25,93 @@\n+\/* gcc defines __SANITIZE_ADDRESS__, clang sets the address_sanitizer\n+ * feature flag.\n+ *\n+ * MSVC defines __SANITIZE_ADDRESS__ as well when AddressSanitizer\n+ * is enabled but __lsan_ignore_object() equivalent method is not supported\n+ * See also\n+ * https:\/\/docs.microsoft.com\/en-us\/cpp\/sanitizers\/asan-building?view=msvc-160\n+ *\/\n+#if !defined(_MSC_VER) && (defined(__SANITIZE_ADDRESS__) || g_macro__has_feature(address_sanitizer))\n+\n+\/*\n+ * %_GLIB_ADDRESS_SANITIZER:\n+ *\n+ * Private macro defined if the AddressSanitizer is in use.\n+ *\/\n+#define _GLIB_ADDRESS_SANITIZER\n+\n+#include <sanitizer\/lsan_interface.h>\n+\n+#endif\n+\n+\/*\n+ * g_ignore_leak:\n+ * @p: any pointer\n+ *\n+ * Tell AddressSanitizer and similar tools that if the object pointed to\n+ * by @p is leaked, it is not a problem. Use this to suppress memory leak\n+ * reports when a potentially unreachable pointer is deliberately not\n+ * going to be deallocated.\n+ *\/\n+static inline void\n+g_ignore_leak (gconstpointer p)\n+{\n+#ifdef _GLIB_ADDRESS_SANITIZER\n+  if (p != NULL)\n+    __lsan_ignore_object (p);\n+#endif\n+}\n+\n+\/*\n+ * g_ignore_strv_leak:\n+ * @strv: (nullable) (array zero-terminated=1): an array of strings\n+ *\n+ * The same as g_ignore_leak(), but for the memory pointed to by @strv,\n+ * and for each element of @strv.\n+ *\/\n+static inline void\n+g_ignore_strv_leak (GStrv strv)\n+{\n+#ifdef _GLIB_ADDRESS_SANITIZER\n+  gchar **item;\n+\n+  if (strv)\n+    {\n+      g_ignore_leak (strv);\n+\n+      for (item = strv; *item != NULL; item++)\n+        g_ignore_leak (*item);\n+    }\n+#endif\n+}\n+\n+\/*\n+ * g_begin_ignore_leaks:\n+ *\n+ * Tell AddressSanitizer and similar tools to ignore all leaks from this point\n+ * onwards, until g_end_ignore_leaks() is called.\n+ *\n+ * Try to use g_ignore_leak() where possible to target deliberate leaks more\n+ * specifically.\n+ *\/\n+static inline void\n+g_begin_ignore_leaks (void)\n+{\n+#ifdef _GLIB_ADDRESS_SANITIZER\n+  __lsan_disable ();\n+#endif\n+}\n+\n+\/*\n+ * g_end_ignore_leaks:\n+ *\n+ * Start ignoring leaks again; this must be paired with a previous call to\n+ * g_begin_ignore_leaks().\n+ *\/\n+static inline void\n+g_end_ignore_leaks (void)\n+{\n+#ifdef _GLIB_ADDRESS_SANITIZER\n+  __lsan_enable ();\n+#endif\n+}\n+\n@@ -30,1 +123,0 @@\n-gchar *_glib_get_dll_directory (void);\n@@ -78,0 +170,4 @@\n+\n+  \/* See gwin32.c *\/\n+  gchar *(*g_win32_find_helper_executable_path) (const gchar *process_name,\n+                                                 void *dll_handle);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-private.h","additions":97,"deletions":1,"binary":false,"changes":98,"status":"modified"},{"patch":"@@ -0,0 +1,43 @@\n+\/* GLIB - Library of useful routines for C programming\n+ * Copyright (C) 2021  Iain Lane, Xavier Claessens\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2.1 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n+ *\/\n+\n+#ifndef __GLIB_TYPEOF_H__\n+#define __GLIB_TYPEOF_H__\n+\n+#if !defined (__GLIB_H_INSIDE__) && !defined (GLIB_COMPILATION)\n+#error \"Only <glib.h> can be included directly.\"\n+#endif\n+\n+#include <glib\/gversionmacros.h>\n+\n+\/*\n+ * We can only use __typeof__ on GCC >= 4.8, and not when compiling C++. Since\n+ * __typeof__ is used in a few places in GLib, provide a pre-processor symbol\n+ * to factor the check out from callers.\n+ *\n+ * This symbol is private.\n+ *\/\n+#undef glib_typeof\n+#if !defined(__cplusplus) && (G_GNUC_CHECK_VERSION(4, 8) || defined(__clang__))\n+#define glib_typeof(t) __typeof__ (t)\n+#elif defined(__cplusplus) && __cplusplus >= 201103L && GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+\/* C++11 decltype() is close enough for our usage *\/\n+#include <type_traits>\n+#define glib_typeof(t) typename std::remove_reference<decltype (t)>::type\n+#endif\n+\n+#endif \/* __GLIB_TYPEOF_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-typeof.h","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -36,0 +36,6 @@\n+G_STATIC_ASSERT (sizeof (ssize_t) == GLIB_SIZEOF_SSIZE_T);\n+G_STATIC_ASSERT (G_ALIGNOF (gssize) == G_ALIGNOF (ssize_t));\n+\n+G_STATIC_ASSERT (sizeof (GPid) == sizeof (pid_t));\n+G_STATIC_ASSERT (G_ALIGNOF (GPid) == G_ALIGNOF (pid_t));\n+\n@@ -45,1 +51,1 @@\n- * conditionally compiled if the platform matches G_OS_UNIX.\n+ * conditionally compiled if the platform matches %G_OS_UNIX.\n@@ -230,1 +236,1 @@\n- *            the range between #G_PRIORITY_DEFAULT and #G_PRIORITY_HIGH.\n+ *            the range between %G_PRIORITY_DEFAULT and %G_PRIORITY_HIGH.\n@@ -460,1 +466,0 @@\n-  int errsv = 0;\n@@ -490,1 +495,0 @@\n-      errno = 0;\n@@ -493,1 +497,0 @@\n-      errsv = errno;\n@@ -505,2 +508,2 @@\n-          errsv == ENOENT || errsv == ESRCH ||\n-          errsv == EBADF || errsv == EPERM)\n+          retval == ENOENT || retval == ESRCH ||\n+          retval == EBADF || retval == EPERM)\n@@ -509,1 +512,1 @@\n-          g_unix_set_error_from_errno (&local_error, errsv);\n+          g_unix_set_error_from_errno (&local_error, retval);\n@@ -512,1 +515,1 @@\n-      else if (errsv == ERANGE)\n+      else if (retval == ERANGE)\n@@ -517,1 +520,1 @@\n-              g_unix_set_error_from_errno (&local_error, errsv);\n+              g_unix_set_error_from_errno (&local_error, retval);\n@@ -526,1 +529,1 @@\n-          g_unix_set_error_from_errno (&local_error, errsv);\n+          g_unix_set_error_from_errno (&local_error, retval);\n@@ -540,1 +543,0 @@\n-      errno = errsv;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-unix.c","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n- * %errno is relevant. The code for all #G_UNIX_ERROR is always 0, and the\n+ * %errno is relevant. The code for all %G_UNIX_ERROR is always 0, and the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib-unix.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -87,0 +87,3 @@\n+#ifndef GSTREAMER_LITE\n+#include <glib\/gstrvbuilder.h>\n+#endif \/\/ GSTREAMER_LITE\n@@ -120,0 +123,1 @@\n+#include <glib\/glib-typeof.h>\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/glib.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,0 +40,6 @@\n+\/*\n+ * Note: Clang (but not clang-cl) defines __GNUC__ and __GNUC_MINOR__.\n+ * Both Clang 11.1 on current Arch Linux and Apple's Clang 12.0 define\n+ * __GNUC__ = 4 and __GNUC_MINOR__ = 2. So G_GNUC_CHECK_VERSION(4, 2) on\n+ * current Clang will be 1.\n+ *\/\n@@ -53,1 +59,1 @@\n-#if     __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 8)\n+#if G_GNUC_CHECK_VERSION(2, 8)\n@@ -109,0 +115,34 @@\n+\/*\n+ * Attribute support detection. Works on clang and GCC >= 5\n+ * https:\/\/clang.llvm.org\/docs\/LanguageExtensions.html#has-attribute\n+ * https:\/\/gcc.gnu.org\/onlinedocs\/cpp\/_005f_005fhas_005fattribute.html\n+ *\/\n+\n+#ifdef __has_attribute\n+#define g_macro__has_attribute __has_attribute\n+#else\n+\n+\/*\n+ * Fallback for GCC < 5 and other compilers not supporting __has_attribute.\n+ *\/\n+#define g_macro__has_attribute(x) g_macro__has_attribute_##x\n+\n+#define g_macro__has_attribute___pure__ G_GNUC_CHECK_VERSION (2, 96)\n+#define g_macro__has_attribute___malloc__ G_GNUC_CHECK_VERSION (2, 96)\n+#define g_macro__has_attribute___noinline__ G_GNUC_CHECK_VERSION (2, 96)\n+#define g_macro__has_attribute___sentinel__ G_GNUC_CHECK_VERSION (4, 0)\n+#define g_macro__has_attribute___alloc_size__ G_GNUC_CHECK_VERSION (4, 3)\n+#define g_macro__has_attribute___format__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___format_arg__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___noreturn__ (G_GNUC_CHECK_VERSION (2, 8) || (0x5110 <= __SUNPRO_C))\n+#define g_macro__has_attribute___const__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___unused__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute___no_instrument_function__ G_GNUC_CHECK_VERSION (2, 4)\n+#define g_macro__has_attribute_fallthrough G_GNUC_CHECK_VERSION (6, 0)\n+#define g_macro__has_attribute___deprecated__ G_GNUC_CHECK_VERSION (3, 1)\n+#define g_macro__has_attribute_may_alias G_GNUC_CHECK_VERSION (3, 3)\n+#define g_macro__has_attribute_warn_unused_result G_GNUC_CHECK_VERSION (3, 4)\n+#define g_macro__has_attribute_cleanup G_GNUC_CHECK_VERSION (3, 3)\n+\n+#endif\n+\n@@ -191,0 +231,5 @@\n+\/* Note: We can’t annotate this with GLIB_AVAILABLE_MACRO_IN_2_58 because it’s\n+ * used within the GLib headers in function declarations which are always\n+ * evaluated when a header is included. This results in warnings in third party\n+ * code which includes glib.h, even if the third party code doesn’t use the new\n+ * macro itself. *\/\n@@ -192,1 +237,1 @@\n-#if    __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 96)\n+#if g_macro__has_attribute(__pure__)\n@@ -194,2 +239,0 @@\n-#define G_GNUC_MALLOC __attribute__((__malloc__))\n-#define G_GNUC_NO_INLINE __attribute__((noinline))\n@@ -198,0 +241,5 @@\n+#endif\n+\n+#if g_macro__has_attribute(__malloc__)\n+#define G_GNUC_MALLOC __attribute__ ((__malloc__))\n+#else\n@@ -199,0 +247,5 @@\n+#endif\n+\n+#if g_macro__has_attribute(__noinline__)\n+#define G_GNUC_NO_INLINE __attribute__ ((__noinline__))\n+#else\n@@ -221,1 +274,1 @@\n-#if     __GNUC__ >= 4\n+#if g_macro__has_attribute(__sentinel__)\n@@ -227,12 +280,0 @@\n-\/*\n- * We can only use __typeof__ on GCC >= 4.8, and not when compiling C++. Since\n- * __typeof__ is used in a few places in GLib, provide a pre-processor symbol\n- * to factor the check out from callers.\n- *\n- * This symbol is private.\n- *\/\n-#undef g_has_typeof\n-#if defined(__GNUC__) && (__GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)) && !defined(__cplusplus)\n-#define g_has_typeof\n-#endif\n-\n@@ -249,6 +290,0 @@\n-#ifdef __has_attribute\n-#define g_macro__has_attribute __has_attribute\n-#else\n-#define g_macro__has_attribute(x) 0\n-#endif\n-\n@@ -267,0 +302,6 @@\n+#ifdef __has_extension\n+#define g_macro__has_extension __has_extension\n+#else\n+#define g_macro__has_extension(x) 0\n+#endif\n+\n@@ -310,2 +351,1 @@\n-#if     (!defined(__clang__) && ((__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 3))) || \\\n-        (defined(__clang__) && g_macro__has_attribute(__alloc_size__))\n+#if g_macro__has_attribute(__alloc_size__)\n@@ -424,0 +464,6 @@\n+ * Since 2.68, it is recommended that code uses %G_NORETURN instead of\n+ * %G_GNUC_NORETURN, as that works on more platforms and compilers (in\n+ * particular, MSVC and C++11) than %G_GNUC_NORETURN, which works with GCC and\n+ * Clang only. %G_GNUC_NORETURN continues to work, so has not been deprecated\n+ * yet.\n+ *\n@@ -491,1 +537,2 @@\n-#if     __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ > 4)\n+#if g_macro__has_attribute(__format__)\n+\n@@ -498,1 +545,2 @@\n-  __attribute__((__format__ (gnu_strftime, format_idx, 0)))\n+  __attribute__((__format__ (gnu_strftime, format_idx, 0))) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n@@ -505,1 +553,2 @@\n-  __attribute__((__format__ (__strftime__, format_idx, 0)))\n+  __attribute__((__format__ (__strftime__, format_idx, 0))) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n@@ -507,11 +556,3 @@\n-#define G_GNUC_FORMAT( arg_idx )                \\\n-  __attribute__((__format_arg__ (arg_idx)))\n-#define G_GNUC_NORETURN                         \\\n-  __attribute__((__noreturn__))\n-#define G_GNUC_CONST                            \\\n-  __attribute__((__const__))\n-#define G_GNUC_UNUSED                           \\\n-  __attribute__((__unused__))\n-#define G_GNUC_NO_INSTRUMENT      \\\n-  __attribute__((__no_instrument_function__))\n-#else   \/* !__GNUC__ *\/\n+\n+#else\n+\n@@ -520,1 +561,9 @@\n-#define G_GNUC_STRFTIME( format_idx )\n+#define G_GNUC_STRFTIME( format_idx ) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n+\n+#endif\n+\n+#if g_macro__has_attribute(__format_arg__)\n+#define G_GNUC_FORMAT(arg_idx) \\\n+  __attribute__ ((__format_arg__ (arg_idx)))\n+#else\n@@ -522,0 +571,6 @@\n+#endif\n+\n+#if g_macro__has_attribute(__noreturn__)\n+#define G_GNUC_NORETURN \\\n+  __attribute__ ((__noreturn__))\n+#else\n@@ -527,0 +582,6 @@\n+#endif\n+\n+#if g_macro__has_attribute(__const__)\n+#define G_GNUC_CONST \\\n+  __attribute__ ((__const__))\n+#else\n@@ -528,0 +589,6 @@\n+#endif\n+\n+#if g_macro__has_attribute(__unused__)\n+#define G_GNUC_UNUSED \\\n+  __attribute__ ((__unused__))\n+#else\n@@ -529,0 +596,6 @@\n+#endif\n+\n+#if g_macro__has_attribute(__no_instrument_function__)\n+#define G_GNUC_NO_INSTRUMENT \\\n+  __attribute__ ((__no_instrument_function__))\n+#else\n@@ -530,1 +603,1 @@\n-#endif  \/* !__GNUC__ *\/\n+#endif\n@@ -560,4 +633,3 @@\n-#if    __GNUC__ > 6\n-#define G_GNUC_FALLTHROUGH __attribute__((fallthrough))\n-#elif g_macro__has_attribute (fallthrough)\n-#define G_GNUC_FALLTHROUGH __attribute__((fallthrough))\n+#if g_macro__has_attribute(fallthrough)\n+#define G_GNUC_FALLTHROUGH __attribute__((fallthrough)) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n@@ -565,2 +637,3 @@\n-#define G_GNUC_FALLTHROUGH\n-#endif \/* __GNUC__ *\/\n+#define G_GNUC_FALLTHROUGH \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n+#endif\n@@ -586,1 +659,1 @@\n-#if    __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 1) || defined (__clang__)\n+#if g_macro__has_attribute(__deprecated__)\n@@ -615,1 +688,1 @@\n-#if    __GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5) || defined (__clang__)\n+#if G_GNUC_CHECK_VERSION(4, 5) || defined(__clang__)\n@@ -617,1 +690,2 @@\n-  __attribute__((deprecated(\"Use \" #f \" instead\")))\n+  __attribute__((deprecated(\"Use \" #f \" instead\")))     \\\n+  GLIB_AVAILABLE_MACRO_IN_2_26\n@@ -619,1 +693,2 @@\n-#define G_GNUC_DEPRECATED_FOR(f)        G_GNUC_DEPRECATED\n+#define G_GNUC_DEPRECATED_FOR(f)      G_GNUC_DEPRECATED \\\n+  GLIB_AVAILABLE_MACRO_IN_2_26\n@@ -626,1 +701,1 @@\n-#define G_GNUC_END_IGNORE_DEPRECATIONS      \\\n+#define G_GNUC_END_IGNORE_DEPRECATIONS                  \\\n@@ -628,3 +703,3 @@\n-#elif    __GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 6)\n-#define G_GNUC_BEGIN_IGNORE_DEPRECATIONS    \\\n-  _Pragma (\"GCC diagnostic push\")     \\\n+#elif G_GNUC_CHECK_VERSION(4, 6)\n+#define G_GNUC_BEGIN_IGNORE_DEPRECATIONS                \\\n+  _Pragma (\"GCC diagnostic push\")                       \\\n@@ -632,1 +707,1 @@\n-#define G_GNUC_END_IGNORE_DEPRECATIONS      \\\n+#define G_GNUC_END_IGNORE_DEPRECATIONS                  \\\n@@ -635,1 +710,1 @@\n-#define G_GNUC_BEGIN_IGNORE_DEPRECATIONS    \\\n+#define G_GNUC_BEGIN_IGNORE_DEPRECATIONS                \\\n@@ -638,1 +713,1 @@\n-#define G_GNUC_END_IGNORE_DEPRECATIONS      \\\n+#define G_GNUC_END_IGNORE_DEPRECATIONS                  \\\n@@ -649,0 +724,1 @@\n+#define GLIB_CANNOT_IGNORE_DEPRECATIONS\n@@ -662,1 +738,1 @@\n-#if     __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 3)\n+#if g_macro__has_attribute(may_alias)\n@@ -686,1 +762,1 @@\n-#if    __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)\n+#if g_macro__has_attribute(warn_unused_result)\n@@ -728,0 +804,3 @@\n+#elif defined(__COVERITY__)\n+#define G_ANALYZER_ANALYZING 1\n+#define G_ANALYZER_NORETURN __attribute__((noreturn))\n@@ -733,2 +812,2 @@\n-#define G_STRINGIFY(macro_or_string)  G_STRINGIFY_ARG (macro_or_string)\n-#define G_STRINGIFY_ARG(contents) #contents\n+#define G_STRINGIFY(macro_or_string)    G_STRINGIFY_ARG (macro_or_string)\n+#define G_STRINGIFY_ARG(contents)       #contents\n@@ -739,1 +818,2 @@\n-#if !defined(__cplusplus) && defined(__STDC_VERSION__) && __STDC_VERSION__ >= 201112L\n+#if !defined(__cplusplus) && defined(__STDC_VERSION__) && \\\n+    (__STDC_VERSION__ >= 201112L || g_macro__has_feature(c_static_assert) || g_macro__has_extension(c_static_assert))\n@@ -757,1 +837,1 @@\n-#define G_STRLOC  __FILE__ \":\" G_STRINGIFY (__LINE__) \":\" __PRETTY_FUNCTION__ \"()\"\n+#define G_STRLOC        __FILE__ \":\" G_STRINGIFY (__LINE__) \":\" __PRETTY_FUNCTION__ \"()\"\n@@ -759,1 +839,1 @@\n-#define G_STRLOC  __FILE__ \":\" G_STRINGIFY (__LINE__)\n+#define G_STRLOC        __FILE__ \":\" G_STRINGIFY (__LINE__)\n@@ -796,1 +876,1 @@\n-#define FALSE (0)\n+#define FALSE   (0)\n@@ -800,1 +880,1 @@\n-#define TRUE  (!FALSE)\n+#define TRUE    (!FALSE)\n@@ -822,1 +902,1 @@\n-#define G_N_ELEMENTS(arr)   (sizeof (arr) \/ sizeof ((arr)[0]))\n+#define G_N_ELEMENTS(arr)               (sizeof (arr) \/ sizeof ((arr)[0]))\n@@ -826,2 +906,2 @@\n-#define GPOINTER_TO_SIZE(p) ((gsize) (p))\n-#define GSIZE_TO_POINTER(s) ((gpointer) (gsize) (s))\n+#define GPOINTER_TO_SIZE(p)     ((gsize) (p))\n+#define GSIZE_TO_POINTER(s)     ((gpointer) (gsize) (s))\n@@ -833,1 +913,1 @@\n-#if (defined(__GNUC__)  && __GNUC__ >= 4) || defined (_MSC_VER)\n+#if G_GNUC_CHECK_VERSION(4, 0) || defined(_MSC_VER)\n@@ -837,1 +917,1 @@\n-#define G_STRUCT_OFFSET(struct_type, member)  \\\n+#define G_STRUCT_OFFSET(struct_type, member)    \\\n@@ -892,1 +972,2 @@\n-#define G_ALIGNOF(type) _Alignof (type)\n+#define G_ALIGNOF(type) _Alignof (type) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n@@ -894,1 +975,2 @@\n-#define G_ALIGNOF(type) (G_STRUCT_OFFSET (struct { char a; type b; }, b))\n+#define G_ALIGNOF(type) (G_STRUCT_OFFSET (struct { char a; type b; }, b)) \\\n+  GLIB_AVAILABLE_MACRO_IN_2_60\n@@ -918,0 +1000,70 @@\n+\/**\n+ * G_NORETURN:\n+ *\n+ * Expands to the GNU C or MSVC `noreturn` function attribute depending on\n+ * the compiler. It is used for declaring functions which never return.\n+ * Enables optimization of the function, and avoids possible compiler warnings.\n+ *\n+ * Note that %G_NORETURN supersedes the previous %G_GNUC_NORETURN macro, which\n+ * will eventually be deprecated. %G_NORETURN supports more platforms.\n+ *\n+ * Place the attribute before the function declaration as follows:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_NORETURN void g_abort (void);\n+ * ]|\n+ *\n+ * Since: 2.68\n+ *\/\n+\/* Note: We can’t annotate this with GLIB_AVAILABLE_MACRO_IN_2_68 because it’s\n+ * used within the GLib headers in function declarations which are always\n+ * evaluated when a header is included. This results in warnings in third party\n+ * code which includes glib.h, even if the third party code doesn’t use the new\n+ * macro itself. *\/\n+#if g_macro__has_attribute(__noreturn__)\n+  \/* For compatibility with G_NORETURN_FUNCPTR on clang, use\n+     __attribute__((__noreturn__)), not _Noreturn.  *\/\n+# define G_NORETURN __attribute__ ((__noreturn__))\n+#elif defined (_MSC_VER) && (1200 <= _MSC_VER)\n+  \/* Use MSVC specific syntax.  *\/\n+# define G_NORETURN __declspec (noreturn)\n+  \/* Use ISO C++11 syntax when the compiler supports it.  *\/\n+#elif defined (__cplusplus) && __cplusplus >= 201103\n+# define G_NORETURN [[noreturn]]\n+  \/* Use ISO C11 syntax when the compiler supports it.  *\/\n+#elif defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112\n+# define G_NORETURN _Noreturn\n+#else\n+# define G_NORETURN \/* empty *\/\n+#endif\n+\n+\/**\n+ * G_NORETURN_FUNCPTR:\n+ *\n+ * Expands to the GNU C or MSVC `noreturn` function attribute depending on\n+ * the compiler. It is used for declaring function pointers which never return.\n+ * Enables optimization of the function, and avoids possible compiler warnings.\n+ *\n+ * Place the attribute before the function declaration as follows:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_NORETURN_FUNCPTR void (*funcptr) (void);\n+ * ]|\n+ *\n+ * Note that if the function is not a function pointer, you can simply use\n+ * the %G_NORETURN macro as follows:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_NORETURN void g_abort (void);\n+ * ]|\n+ *\n+ * Since: 2.68\n+ *\/\n+#if g_macro__has_attribute(__noreturn__)\n+# define G_NORETURN_FUNCPTR __attribute__ ((__noreturn__))      \\\n+  GLIB_AVAILABLE_MACRO_IN_2_68\n+#else\n+# define G_NORETURN_FUNCPTR \/* empty *\/         \\\n+  GLIB_AVAILABLE_MACRO_IN_2_68\n+#endif\n+\n@@ -926,1 +1078,1 @@\n-#if defined(__GNUC__) && (__GNUC__ > 2) && defined(__OPTIMIZE__)\n+#if G_GNUC_CHECK_VERSION(2, 0) && defined(__OPTIMIZE__)\n@@ -943,1 +1095,8 @@\n-#if    __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 1) || defined (__clang__)\n+\/* GLIB_CANNOT_IGNORE_DEPRECATIONS is defined above for compilers that do not\n+ * have a way to temporarily suppress deprecation warnings. In these cases,\n+ * suppress the deprecated attribute altogether (otherwise a simple #include\n+ * <glib.h> will emit a barrage of warnings).\n+ *\/\n+#if defined(GLIB_CANNOT_IGNORE_DEPRECATIONS)\n+#define G_DEPRECATED\n+#elif G_GNUC_CHECK_VERSION(3, 1) || defined(__clang__)\n@@ -951,1 +1110,3 @@\n-#if    __GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5) || defined (__clang__)\n+#if defined(GLIB_CANNOT_IGNORE_DEPRECATIONS)\n+#define G_DEPRECATED_FOR(f) G_DEPRECATED\n+#elif G_GNUC_CHECK_VERSION(4, 5) || defined(__clang__)\n@@ -959,1 +1120,1 @@\n-#if    __GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5) || defined (__clang__)\n+#if G_GNUC_CHECK_VERSION(4, 5) || defined(__clang__)\n@@ -990,1 +1151,1 @@\n-    (__GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 6) || \\\n+    (G_GNUC_CHECK_VERSION(4, 6) ||                 \\\n@@ -994,2 +1155,4 @@\n-#define GLIB_DEPRECATED_MACRO_FOR(f) _GLIB_GNUC_DO_PRAGMA(GCC warning \"Deprecated pre-processor symbol, replace with \" #f)\n-#define GLIB_UNAVAILABLE_MACRO(maj,min) _GLIB_GNUC_DO_PRAGMA(GCC warning \"Not available before \" #maj \".\" #min)\n+#define GLIB_DEPRECATED_MACRO_FOR(f) \\\n+  _GLIB_GNUC_DO_PRAGMA(GCC warning G_STRINGIFY (Deprecated pre-processor symbol: replace with #f))\n+#define GLIB_UNAVAILABLE_MACRO(maj,min) \\\n+  _GLIB_GNUC_DO_PRAGMA(GCC warning G_STRINGIFY (Not available before maj.min))\n@@ -1003,1 +1166,1 @@\n-    ((defined (__GNUC__) && (__GNUC__ > 6 || (__GNUC__ == 6 && __GNUC_MINOR__ >= 1))) || \\\n+    (G_GNUC_CHECK_VERSION(6, 1) ||                 \\\n@@ -1015,1 +1178,1 @@\n-    ((defined (__GNUC__) && (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 1))) || \\\n+    (G_GNUC_CHECK_VERSION(3, 1) ||                 \\\n@@ -1028,1 +1191,1 @@\n-#if defined (__GNUC__) || defined (__clang__)\n+#if g_macro__has_attribute(cleanup)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmacros.h","additions":247,"deletions":84,"binary":false,"changes":331,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n- * #G_PRIORITY_DEFAULT, is 0. Values less than 0 denote higher priorities.\n+ * %G_PRIORITY_DEFAULT, is 0. Values less than 0 denote higher priorities.\n@@ -127,1 +127,5 @@\n- * sources are always processed before events from lower priority sources.\n+ * sources are always processed before events from lower priority sources: if\n+ * several sources are ready to dispatch, the ones with equal-highest priority\n+ * will be dispatched on the current #GMainContext iteration, and the rest wait\n+ * until a subsequent #GMainContext iteration when they have the highest\n+ * priority of the sources which are ready for dispatch.\n@@ -130,1 +134,1 @@\n- * be run whenever no events with a higher priority are ready to be processed.\n+ * be run whenever no events with a higher priority are ready to be dispatched.\n@@ -180,0 +184,9 @@\n+ * If the event loop thread releases #GMainContext ownership until the results\n+ * required by g_main_context_check() are ready you must create a context with\n+ * the flag %G_MAIN_CONTEXT_FLAGS_OWNERLESS_POLLING or else you'll lose\n+ * g_source_attach() notifications. This happens for instance when you integrate\n+ * the GLib event loop into implementations that follow the proactor pattern\n+ * (i.e. in these contexts the `poll()` implementation will reclaim the thread for\n+ * other tasks until the results are ready). One example of the proactor pattern\n+ * is the Boost.Asio library.\n+ *\n@@ -273,0 +286,1 @@\n+  GMainContextFlags flags;\n@@ -275,1 +289,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -280,1 +294,1 @@\n-  gint timeout;         \/* Timeout for current iteration *\/\n+  gint timeout;                 \/* Timeout for current iteration *\/\n@@ -306,1 +320,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -316,1 +330,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -367,0 +381,2 @@\n+\n+  gboolean static_name;\n@@ -659,0 +675,17 @@\n+{\n+  return g_main_context_new_with_flags (G_MAIN_CONTEXT_FLAGS_NONE);\n+}\n+\n+\/**\n+ * g_main_context_new_with_flags:\n+ * @flags: a bitwise-OR combination of #GMainContextFlags flags that can only be\n+ *         set at creation time.\n+ *\n+ * Creates a new #GMainContext structure.\n+ *\n+ * Returns: (transfer full): the new #GMainContext\n+ *\n+ * Since: 2.72\n+ *\/\n+GMainContext *\n+g_main_context_new_with_flags (GMainContextFlags flags)\n@@ -682,0 +715,1 @@\n+  context->flags = flags;\n@@ -1264,2 +1298,6 @@\n-  if (do_wakeup && context->owner && context->owner != G_THREAD_SELF)\n-    g_wakeup_signal (context->wakeup);\n+  if (do_wakeup &&\n+      (context->flags & G_MAIN_CONTEXT_FLAGS_OWNERLESS_POLLING ||\n+       (context->owner && context->owner != G_THREAD_SELF)))\n+    {\n+      g_wakeup_signal (context->wakeup);\n+    }\n@@ -1394,0 +1432,4 @@\n+ *\n+ * If the source is currently attached to a #GMainContext, destroying it\n+ * will effectively unset the callback similar to calling g_source_set_callback().\n+ * This can mean, that the data's #GDestroyNotify gets called right away.\n@@ -1790,0 +1832,3 @@\n+ *\n+ * Note that g_source_destroy() for a currently attached source has the effect\n+ * of also unsetting the callback.\n@@ -2103,0 +2148,35 @@\n+static void\n+g_source_set_name_full (GSource    *source,\n+                        const char *name,\n+                        gboolean    is_static)\n+{\n+  GMainContext *context;\n+\n+  g_return_if_fail (source != NULL);\n+  g_return_if_fail (g_atomic_int_get (&source->ref_count) > 0);\n+\n+  context = source->context;\n+\n+  if (context)\n+    LOCK_CONTEXT (context);\n+\n+  TRACE (GLIB_SOURCE_SET_NAME (source, name));\n+\n+  \/* setting back to NULL is allowed, just because it's\n+   * weird if get_name can return NULL but you can't\n+   * set that.\n+   *\/\n+\n+  if (!source->priv->static_name)\n+    g_free (source->name);\n+\n+  if (is_static)\n+    source->name = (char *)name;\n+  else\n+    source->name = g_strdup (name);\n+\n+  source->priv->static_name = is_static;\n+\n+  if (context)\n+    UNLOCK_CONTEXT (context);\n+}\n@@ -2126,0 +2206,2 @@\n+ * Also see g_source_set_static_name().\n+ *\n@@ -2132,19 +2214,2 @@\n-  GMainContext *context;\n-\n-  g_return_if_fail (source != NULL);\n-  g_return_if_fail (g_atomic_int_get (&source->ref_count) > 0);\n-\n-  context = source->context;\n-\n-  if (context)\n-    LOCK_CONTEXT (context);\n-\n-  TRACE (GLIB_SOURCE_SET_NAME (source, name));\n-\n-  \/* setting back to NULL is allowed, just because it's\n-   * weird if get_name can return NULL but you can't\n-   * set that.\n-   *\/\n-\n-  g_free (source->name);\n-  source->name = g_strdup (name);\n+  g_source_set_name_full (source, name, FALSE);\n+}\n@@ -2152,2 +2217,16 @@\n-  if (context)\n-    UNLOCK_CONTEXT (context);\n+\/**\n+ * g_source_set_static_name:\n+ * @source: a #GSource\n+ * @name: debug name for the source\n+ *\n+ * A variant of g_source_set_name() that does not\n+ * duplicate the @name, and can only be used with\n+ * string literals.\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_source_set_static_name (GSource    *source,\n+                          const char *name)\n+{\n+  g_source_set_name_full (source, name, TRUE);\n@@ -2328,1 +2407,2 @@\n-      g_free (source->name);\n+      if (!source->priv->static_name)\n+        g_free (source->name);\n@@ -2538,1 +2618,1 @@\n- * Returns: For historical reasons, this function always returns %TRUE\n+ * Returns: %TRUE if the source was found and removed.\n@@ -3180,1 +3260,1 @@\n- *   GDK_THREADS_ENTER ();\n+ *   g_mutex_lock (&self->idle_id_mutex);\n@@ -3183,1 +3263,1 @@\n- *   GDK_THREADS_LEAVE ();\n+ *   g_mutex_unlock (&self->idle_id_mutex);\n@@ -3191,0 +3271,1 @@\n+ *   g_mutex_lock (&self->idle_id_mutex);\n@@ -3192,0 +3273,9 @@\n+ *   g_mutex_unlock (&self->idle_id_mutex);\n+ * }\n+ *\n+ * static void\n+ * some_widget_init (SomeWidget *self)\n+ * {\n+ *   g_mutex_init (&self->idle_id_mutex);\n+ *\n+ *   \/\/ ...\n@@ -3202,0 +3292,2 @@\n+ *   g_mutex_clear (&self->idle_id_mutex);\n+ *\n@@ -3218,1 +3310,1 @@\n- *   GDK_THREADS_ENTER ();\n+ *   g_mutex_lock (&self->idle_id_mutex);\n@@ -3223,1 +3315,1 @@\n- *   GDK_THREADS_LEAVE ();\n+ *   g_mutex_unlock (&self->idle_id_mutex);\n@@ -4335,0 +4427,3 @@\n+  \/* Hold a reference in case the loop is unreffed from a callback function *\/\n+  g_atomic_int_inc (&loop->ref_count);\n+\n@@ -4342,1 +4437,0 @@\n-      g_atomic_int_inc (&loop->ref_count);\n@@ -4368,0 +4462,1 @@\n+      g_main_loop_unref (loop);\n@@ -4371,1 +4466,0 @@\n-  g_atomic_int_inc (&loop->ref_count);\n@@ -4814,1 +4908,1 @@\n- *   static volatile gint tasks_remaining = NUM_TASKS;\n+ *   static gint tasks_remaining = NUM_TASKS;  \/\/ (atomic)\n@@ -5020,1 +5114,1 @@\n- *            the range between #G_PRIORITY_DEFAULT and #G_PRIORITY_HIGH.\n+ *   the range between %G_PRIORITY_DEFAULT and %G_PRIORITY_HIGH.\n@@ -5022,1 +5116,1 @@\n- *             (1\/1000ths of a second)\n+ *   (1\/1000ths of a second)\n@@ -5024,1 +5118,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5088,1 +5182,1 @@\n- *             (1\/1000ths of a second)\n+ *    (1\/1000ths of a second)\n@@ -5090,1 +5184,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5093,4 +5187,6 @@\n- * priority, #G_PRIORITY_DEFAULT.  The function is called repeatedly\n- * until it returns %FALSE, at which point the timeout is automatically\n- * destroyed and the function will not be called again.  The first call\n- * to the function will be at the end of the first @interval.\n+ * priority, %G_PRIORITY_DEFAULT.\n+ *\n+ * The given @function is called repeatedly until it returns %G_SOURCE_REMOVE\n+ * or %FALSE, at which point the timeout is automatically destroyed and the\n+ * function will not be called again. The first call to the function will be\n+ * at the end of the first @interval.\n@@ -5138,1 +5234,1 @@\n- *            the range between #G_PRIORITY_DEFAULT and #G_PRIORITY_HIGH.\n+ *   the range between %G_PRIORITY_DEFAULT and %G_PRIORITY_HIGH.\n@@ -5141,1 +5237,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5145,3 +5241,4 @@\n- * The function is called repeatedly until it returns %FALSE, at which\n- * point the timeout is automatically destroyed and the function will\n- * not be called again.\n+ *\n+ * The function is called repeatedly until it returns %G_SOURCE_REMOVE\n+ * or %FALSE, at which point the timeout is automatically destroyed and\n+ * the function will not be called again.\n@@ -5152,4 +5249,4 @@\n- * they fire all at the same time.\n- * To allow this grouping, the @interval to the first timer is rounded\n- * and can deviate up to one second from the specified interval.\n- * Subsequent timer iterations will generally run at the specified interval.\n+ * they fire all at the same time. To allow this grouping, the @interval to the\n+ * first timer is rounded and can deviate up to one second from the specified\n+ * interval. Subsequent timer iterations will generally run at the specified\n+ * interval.\n@@ -5218,2 +5315,4 @@\n- * priority, #G_PRIORITY_DEFAULT. The function is called repeatedly until\n- * it returns %FALSE, at which point the timeout is automatically destroyed\n+ * priority, %G_PRIORITY_DEFAULT.\n+ *\n+ * The function is called repeatedly until it returns %G_SOURCE_REMOVE\n+ * or %FALSE, at which point the timeout is automatically destroyed\n@@ -5613,1 +5712,1 @@\n-  g_source_set_name (source, signum_to_string (signum));\n+  g_source_set_static_name (source, signum_to_string (signum));\n@@ -5723,1 +5822,1 @@\n- * * the application must not ignore SIGCHILD\n+ * * the application must not ignore `SIGCHLD`\n@@ -5754,1 +5853,1 @@\n-  g_source_set_name (source, \"GChildWatchSource\");\n+  g_source_set_static_name (source, \"GChildWatchSource\");\n@@ -5778,2 +5877,2 @@\n- *            range between #G_PRIORITY_DEFAULT_IDLE and #G_PRIORITY_HIGH_IDLE.\n- * @pid:      process to watch. On POSIX the positive pid of a child process. On\n+ *   range between %G_PRIORITY_DEFAULT_IDLE and %G_PRIORITY_HIGH_IDLE.\n+ * @pid: process to watch. On POSIX the positive pid of a child process. On\n@@ -5782,1 +5881,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5789,1 +5888,1 @@\n- * you will need to pass #G_SPAWN_DO_NOT_REAP_CHILD as flag to\n+ * you will need to pass %G_SPAWN_DO_NOT_REAP_CHILD as flag to\n@@ -5792,1 +5891,1 @@\n- * In many programs, you will want to call g_spawn_check_exit_status()\n+ * In many programs, you will want to call g_spawn_check_wait_status()\n@@ -5843,3 +5942,3 @@\n- * @pid:      process id to watch. On POSIX the positive pid of a child\n- * process. On Windows a handle for a process (which doesn't have to be\n- * a child).\n+ * @pid: process id to watch. On POSIX the positive pid of a child\n+ *   process. On Windows a handle for a process (which doesn't have\n+ *   to be a child).\n@@ -5847,1 +5946,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5850,1 +5949,1 @@\n- * exits, at a default priority, #G_PRIORITY_DEFAULT.\n+ * exits, at a default priority, %G_PRIORITY_DEFAULT.\n@@ -5853,1 +5952,1 @@\n- * you will need to pass #G_SPAWN_DO_NOT_REAP_CHILD as flag to\n+ * you will need to pass %G_SPAWN_DO_NOT_REAP_CHILD as flag to\n@@ -5943,1 +6042,1 @@\n-  g_source_set_name (source, \"GIdleSource\");\n+  g_source_set_static_name (source, \"GIdleSource\");\n@@ -5951,1 +6050,1 @@\n- *            range between #G_PRIORITY_DEFAULT_IDLE and #G_PRIORITY_HIGH_IDLE.\n+ *   range between %G_PRIORITY_DEFAULT_IDLE and %G_PRIORITY_HIGH_IDLE.\n@@ -5953,1 +6052,1 @@\n- * @data:     data to pass to @function\n+ * @data: data to pass to @function\n@@ -5957,1 +6056,3 @@\n- * events pending.  If the function returns %FALSE it is automatically\n+ * events pending.\n+ *\n+ * If the function returns %G_SOURCE_REMOVE or %FALSE it is automatically\n@@ -6004,1 +6105,1 @@\n- * default idle priority, #G_PRIORITY_DEFAULT_IDLE.  If the function\n+ * default idle priority, %G_PRIORITY_DEFAULT_IDLE.  If the function\n@@ -6060,1 +6161,1 @@\n- * thread).  The idle source is attached with #G_PRIORITY_DEFAULT\n+ * thread).  The idle source is attached with %G_PRIORITY_DEFAULT\n@@ -6191,0 +6292,20 @@\n+\n+\/**\n+ * g_steal_fd:\n+ * @fd_ptr: (not optional) (inout): A pointer to a file descriptor\n+ *\n+ * Sets @fd_ptr to `-1`, returning the value that was there before.\n+ *\n+ * Conceptually, this transfers the ownership of the file descriptor\n+ * from the referenced variable to the caller of the function (i.e.\n+ * ‘steals’ the reference). This is very similar to g_steal_pointer(),\n+ * but for file descriptors.\n+ *\n+ * On POSIX platforms, this function is async-signal safe\n+ * (see [`signal(7)`](man:signal(7)) and\n+ * [`signal-safety(7)`](man:signal-safety(7))), making it safe to call from a\n+ * signal handler or a #GSpawnChildSetupFunc.\n+ *\n+ * Returns: the value that @fd_ptr previously had\n+ * Since: 2.70\n+ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmain.c","additions":200,"deletions":79,"binary":false,"changes":279,"status":"modified"},{"patch":"@@ -41,0 +41,20 @@\n+\/**\n+ * GMainContextFlags:\n+ * @G_MAIN_CONTEXT_FLAGS_NONE: Default behaviour.\n+ * @G_MAIN_CONTEXT_FLAGS_OWNERLESS_POLLING: Assume that polling for events will\n+ * free the thread to process other jobs. That's useful if you're using\n+ * `g_main_context_{prepare,query,check,dispatch}` to integrate GMainContext in\n+ * other event loops.\n+ *\n+ * Flags to pass to g_main_context_new_with_flags() which affect the behaviour\n+ * of a #GMainContext.\n+ *\n+ * Since: 2.72\n+ *\/\n+GLIB_AVAILABLE_TYPE_IN_2_72\n+typedef enum \/*< flags >*\/\n+{\n+  G_MAIN_CONTEXT_FLAGS_NONE = 0,\n+  G_MAIN_CONTEXT_FLAGS_OWNERLESS_POLLING = 1\n+} GMainContextFlags;\n+\n@@ -105,2 +125,2 @@\n- *     return value of the @dispatch function should be #G_SOURCE_REMOVE if the\n- *     source should be removed or #G_SOURCE_CONTINUE to keep it.\n+ *     return value of the @dispatch function should be %G_SOURCE_REMOVE if the\n+ *     source should be removed or %G_SOURCE_CONTINUE to keep it.\n@@ -170,2 +190,2 @@\n- * Returns: %FALSE if the source should be removed. #G_SOURCE_CONTINUE and\n- * #G_SOURCE_REMOVE are more memorable names for the return value.\n+ * Returns: %FALSE if the source should be removed. %G_SOURCE_CONTINUE and\n+ * %G_SOURCE_REMOVE are more memorable names for the return value.\n@@ -196,2 +216,2 @@\n- * @status: Status information about the child process, encoded\n- *     in a platform-specific manner\n+ * @wait_status: Status information about the child process, encoded\n+ *               in a platform-specific manner\n@@ -201,2 +221,6 @@\n- * process has exited.  To interpret @status, see the documentation\n- * for g_spawn_check_exit_status().\n+ * process has exited.\n+ *\n+ * To interpret @wait_status, see the documentation\n+ * for g_spawn_check_wait_status(). In particular,\n+ * on Unix platforms, note that it is usually not equal\n+ * to the integer passed to `exit()` or returned from `main()`.\n@@ -205,1 +229,1 @@\n-                                       gint     status,\n+                                       gint     wait_status,\n@@ -267,2 +291,2 @@\n-                        gint       *timeout_);\n-  gboolean (*check)    (GSource    *source);\n+                        gint       *timeout_);\/* Can be NULL *\/\n+  gboolean (*check)    (GSource    *source);\/* Can be NULL *\/\n@@ -307,2 +331,2 @@\n- * GTK+ uses #G_PRIORITY_HIGH_IDLE + 10 for resizing operations,\n- * and #G_PRIORITY_HIGH_IDLE + 20 for redrawing operations. (This is\n+ * GTK+ uses %G_PRIORITY_HIGH_IDLE + 10 for resizing operations,\n+ * and %G_PRIORITY_HIGH_IDLE + 20 for redrawing operations. (This is\n@@ -357,0 +381,4 @@\n+G_GNUC_BEGIN_IGNORE_DEPRECATIONS\n+GLIB_AVAILABLE_IN_2_72\n+GMainContext *g_main_context_new_with_flags (GMainContextFlags flags);\n+G_GNUC_END_IGNORE_DEPRECATIONS\n@@ -604,0 +632,3 @@\n+GLIB_AVAILABLE_IN_2_70\n+void                 g_source_set_static_name (GSource        *source,\n+                                               const char     *name);\n@@ -788,0 +819,9 @@\n+GLIB_AVAILABLE_STATIC_INLINE_IN_2_70\n+static inline int\n+g_steal_fd (int *fd_ptr)\n+{\n+  int fd = *fd_ptr;\n+  *fd_ptr = -1;\n+  return fd;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmain.h","additions":53,"deletions":13,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -235,1 +235,1 @@\n- * to the #GFileError value #G_FILE_ERROR_INVAL.\n+ * to the #GFileError value %G_FILE_ERROR_INVAL.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmappedfile.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;  \/* (atomic) *\/\n@@ -1035,1 +1035,1 @@\n-      static const GMarkupParser ignore_parser;\n+      static const GMarkupParser ignore_parser = { 0 };\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmarkup.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,0 +33,19 @@\n+#if defined(HAVE_POSIX_MEMALIGN) && !defined(_XOPEN_SOURCE)\n+# define _XOPEN_SOURCE 600\n+#endif\n+\n+#if defined(HAVE_MEMALIGN) || defined(HAVE__ALIGNED_MALLOC)\n+\/* Required for _aligned_malloc() and _aligned_free() on Windows *\/\n+#include <malloc.h>\n+#endif\n+\n+#ifdef HAVE__ALIGNED_MALLOC\n+\/* _aligned_malloc() takes parameters of aligned_malloc() in reverse order *\/\n+# define aligned_alloc(alignment, size) _aligned_malloc (size, alignment)\n+\n+\/* _aligned_malloc()'ed memory must be freed by _align_free() on MSVC *\/\n+# define aligned_free(x) _aligned_free (x)\n+#else\n+# define aligned_free(x) free (x)\n+#endif\n+\n@@ -525,0 +544,138 @@\n+\n+\/**\n+ * g_aligned_alloc:\n+ * @n_blocks: the number of blocks to allocate\n+ * @n_block_bytes: the size of each block in bytes\n+ * @alignment: the alignment to be enforced, which must be a positive power of 2\n+ *   and a multiple of `sizeof(void*)`\n+ *\n+ * This function is similar to g_malloc(), allocating (@n_blocks * @n_block_bytes)\n+ * bytes, but care is taken to align the allocated memory to with the given\n+ * alignment value. Additionally, it will detect possible overflow during\n+ * multiplication.\n+ *\n+ * Aligned memory allocations returned by this function can only be\n+ * freed using g_aligned_free().\n+ *\n+ * Returns: (transfer full): the allocated memory\n+ *\n+ * Since: 2.72\n+ *\/\n+gpointer\n+g_aligned_alloc (gsize n_blocks,\n+                 gsize n_block_bytes,\n+                 gsize alignment)\n+{\n+  gpointer res = NULL;\n+  gsize real_size;\n+\n+  if (G_UNLIKELY ((alignment == 0) || (alignment & (alignment - 1)) != 0))\n+    {\n+      g_error (\"%s: alignment %\"G_GSIZE_FORMAT\" must be a positive power of two\",\n+               G_STRLOC, alignment);\n+    }\n+\n+  if (G_UNLIKELY ((alignment % sizeof (void *)) != 0))\n+    {\n+      g_error (\"%s: alignment %\"G_GSIZE_FORMAT\" must be a multiple of %\"G_GSIZE_FORMAT,\n+               G_STRLOC, alignment, sizeof (void *));\n+    }\n+\n+  if (SIZE_OVERFLOWS (n_blocks, n_block_bytes))\n+    {\n+      g_error (\"%s: overflow allocating %\"G_GSIZE_FORMAT\"*%\"G_GSIZE_FORMAT\" bytes\",\n+               G_STRLOC, n_blocks, n_block_bytes);\n+    }\n+\n+  real_size = n_blocks * n_block_bytes;\n+\n+  if (G_UNLIKELY (real_size == 0))\n+    {\n+      TRACE(GLIB_MEM_ALLOC((void*) NULL, (int) real_size, 0, 0));\n+      return NULL;\n+    }\n+\n+  \/* We need to clear errno because posix_memalign() will use its return\n+   * value in the same way memalign() and aligned_alloc() will set errno.\n+   * Additionally, posix_memalign() will warn if its return value is left\n+   * unassigned.\n+   *\n+   * We handle all possible return values (ENOMEM and EINVAL) with either\n+   * precondition or postcondition checking.\n+   *\/\n+  errno = 0;\n+\n+#if defined(HAVE_POSIX_MEMALIGN)\n+  errno = posix_memalign (&res, alignment, real_size);\n+#elif defined(HAVE_ALIGNED_ALLOC) || defined(HAVE__ALIGNED_MALLOC)\n+  \/* real_size must be a multiple of alignment *\/\n+  if (real_size % alignment != 0)\n+    {\n+      gsize offset = real_size % alignment;\n+\n+      if (G_MAXSIZE - real_size < (alignment - offset))\n+        {\n+          g_error (\"%s: overflow allocating %\"G_GSIZE_FORMAT\"+%\"G_GSIZE_FORMAT\" bytes\",\n+                   G_STRLOC, real_size, (alignment - offset));\n+        }\n+\n+      real_size += (alignment - offset);\n+    }\n+\n+  res = aligned_alloc (alignment, real_size);\n+#elif defined(HAVE_MEMALIGN)\n+  res = memalign (alignment, real_size);\n+#else\n+# error \"This platform does not have an aligned memory allocator.\"\n+#endif\n+\n+  TRACE (GLIB_MEM_ALLOC((void*) res, (unsigned int) real_size, 0, 0));\n+  if (res)\n+    return res;\n+\n+  g_error (\"%s: failed to allocate %\"G_GSIZE_FORMAT\" bytes\",\n+           G_STRLOC, real_size);\n+\n+  return NULL;\n+}\n+\n+\/**\n+ * g_aligned_alloc0:\n+ * @n_blocks: the number of blocks to allocate\n+ * @n_block_bytes: the size of each block in bytes\n+ * @alignment: the alignment to be enforced, which must be a positive power of 2\n+ *   and a multiple of `sizeof(void*)`\n+ *\n+ * This function is similar to g_aligned_alloc(), but it will\n+ * also clear the allocated memory before returning it.\n+ *\n+ * Returns: (transfer full): the allocated, cleared memory\n+ *\n+ * Since: 2.72\n+ *\/\n+gpointer\n+g_aligned_alloc0 (gsize n_blocks,\n+                  gsize n_block_bytes,\n+                  gsize alignment)\n+{\n+  gpointer res = g_aligned_alloc (n_blocks, n_block_bytes, alignment);\n+\n+  if (G_LIKELY (res != NULL))\n+    memset (res, 0, n_blocks * n_block_bytes);\n+\n+  return res;\n+}\n+\n+\/**\n+ * g_aligned_free:\n+ * @mem: (nullable): the memory to deallocate\n+ *\n+ * Frees the memory allocated by g_aligned_alloc().\n+ *\n+ * Since: 2.72\n+ *\/\n+void\n+g_aligned_free (gpointer mem)\n+{\n+  aligned_free (mem);\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmem.c","additions":157,"deletions":0,"binary":false,"changes":157,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include <glib\/glib-typeof.h>\n@@ -61,3 +62,3 @@\n-#  define G_MEM_ALIGN GLIB_SIZEOF_VOID_P\n-#else \/* GLIB_SIZEOF_VOID_P <= GLIB_SIZEOF_LONG *\/\n-#  define G_MEM_ALIGN GLIB_SIZEOF_LONG\n+#  define G_MEM_ALIGN   GLIB_SIZEOF_VOID_P\n+#else   \/* GLIB_SIZEOF_VOID_P <= GLIB_SIZEOF_LONG *\/\n+#  define G_MEM_ALIGN   GLIB_SIZEOF_LONG\n@@ -71,1 +72,1 @@\n-void   g_free           (gpointer  mem);\n+void     g_free           (gpointer      mem);\n@@ -78,1 +79,1 @@\n-gpointer g_malloc         (gsize   n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n+gpointer g_malloc         (gsize         n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n@@ -80,1 +81,1 @@\n-gpointer g_malloc0        (gsize   n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n+gpointer g_malloc0        (gsize         n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n@@ -82,2 +83,2 @@\n-gpointer g_realloc        (gpointer  mem,\n-         gsize   n_bytes) G_GNUC_WARN_UNUSED_RESULT;\n+gpointer g_realloc        (gpointer      mem,\n+                           gsize         n_bytes) G_GNUC_WARN_UNUSED_RESULT;\n@@ -85,1 +86,1 @@\n-gpointer g_try_malloc     (gsize   n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n+gpointer g_try_malloc     (gsize         n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n@@ -87,1 +88,1 @@\n-gpointer g_try_malloc0    (gsize   n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n+gpointer g_try_malloc0    (gsize         n_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE(1);\n@@ -89,2 +90,2 @@\n-gpointer g_try_realloc    (gpointer  mem,\n-         gsize   n_bytes) G_GNUC_WARN_UNUSED_RESULT;\n+gpointer g_try_realloc    (gpointer      mem,\n+                           gsize         n_bytes) G_GNUC_WARN_UNUSED_RESULT;\n@@ -93,2 +94,2 @@\n-gpointer g_malloc_n       (gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n+gpointer g_malloc_n       (gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n@@ -96,2 +97,2 @@\n-gpointer g_malloc0_n      (gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n+gpointer g_malloc0_n      (gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n@@ -99,3 +100,3 @@\n-gpointer g_realloc_n      (gpointer  mem,\n-         gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_WARN_UNUSED_RESULT;\n+gpointer g_realloc_n      (gpointer      mem,\n+                           gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_WARN_UNUSED_RESULT;\n@@ -103,2 +104,2 @@\n-gpointer g_try_malloc_n   (gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n+gpointer g_try_malloc_n   (gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n@@ -106,2 +107,2 @@\n-gpointer g_try_malloc0_n  (gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n+gpointer g_try_malloc0_n  (gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_MALLOC G_GNUC_ALLOC_SIZE2(1,2);\n@@ -109,3 +110,3 @@\n-gpointer g_try_realloc_n  (gpointer  mem,\n-         gsize   n_blocks,\n-         gsize   n_block_bytes) G_GNUC_WARN_UNUSED_RESULT;\n+gpointer g_try_realloc_n  (gpointer      mem,\n+                           gsize         n_blocks,\n+                           gsize         n_block_bytes) G_GNUC_WARN_UNUSED_RESULT;\n@@ -113,10 +114,23 @@\n-#if defined(g_has_typeof) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_58\n-#define g_clear_pointer(pp, destroy)                                           \\\n-  G_STMT_START {                                                               \\\n-    G_STATIC_ASSERT (sizeof *(pp) == sizeof (gpointer));                       \\\n-    __typeof__((pp)) _pp = (pp);                                               \\\n-    __typeof__(*(pp)) _ptr = *_pp;                                             \\\n-    *_pp = NULL;                                                               \\\n-    if (_ptr)                                                                  \\\n-      (destroy) (_ptr);                                                        \\\n-  } G_STMT_END                                                                 \\\n+GLIB_AVAILABLE_IN_2_72\n+gpointer g_aligned_alloc  (gsize         n_blocks,\n+                           gsize         n_block_bytes,\n+                           gsize         alignment) G_GNUC_WARN_UNUSED_RESULT G_GNUC_ALLOC_SIZE2(1,2);\n+GLIB_AVAILABLE_IN_2_72\n+gpointer g_aligned_alloc0 (gsize         n_blocks,\n+                           gsize         n_block_bytes,\n+                           gsize         alignment) G_GNUC_WARN_UNUSED_RESULT G_GNUC_ALLOC_SIZE2(1,2);\n+GLIB_AVAILABLE_IN_2_72\n+void     g_aligned_free   (gpointer      mem);\n+\n+#if defined(glib_typeof) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_58\n+#define g_clear_pointer(pp, destroy)                     \\\n+  G_STMT_START                                           \\\n+  {                                                      \\\n+    G_STATIC_ASSERT (sizeof *(pp) == sizeof (gpointer)); \\\n+    glib_typeof ((pp)) _pp = (pp);                       \\\n+    glib_typeof (*(pp)) _ptr = *_pp;                     \\\n+    *_pp = NULL;                                         \\\n+    if (_ptr)                                            \\\n+      (destroy) (_ptr);                                  \\\n+  }                                                      \\\n+  G_STMT_END                                             \\\n@@ -136,2 +150,2 @@\n-    if (_p)                        \\\n-      {                        \\\n+    if (_p)                                                                    \\\n+      {                                                                        \\\n@@ -214,2 +228,2 @@\n-#if defined(__GNUC__) && (__GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)) && !defined(__cplusplus) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_58\n-#define g_steal_pointer(pp) ((__typeof__(*pp)) (g_steal_pointer) (pp))\n+#if defined(glib_typeof) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_58\n+#define g_steal_pointer(pp) ((glib_typeof (*pp)) (g_steal_pointer) (pp))\n@@ -228,12 +242,12 @@\n-  (struct_type *) (G_GNUC_EXTENSION ({      \\\n-    gsize __n = (gsize) (n_structs);      \\\n-    gsize __s = sizeof (struct_type);     \\\n-    gpointer __p;           \\\n-    if (__s == 1)           \\\n-      __p = g_##func (__n);       \\\n-    else if (__builtin_constant_p (__n) &&    \\\n-             (__s == 0 || __n <= G_MAXSIZE \/ __s))  \\\n-      __p = g_##func (__n * __s);       \\\n-    else              \\\n-      __p = g_##func##_n (__n, __s);      \\\n-    __p;              \\\n+        (struct_type *) (G_GNUC_EXTENSION ({                    \\\n+          gsize __n = (gsize) (n_structs);                      \\\n+          gsize __s = sizeof (struct_type);                     \\\n+          gpointer __p;                                         \\\n+          if (__s == 1)                                         \\\n+            __p = g_##func (__n);                               \\\n+          else if (__builtin_constant_p (__n) &&                \\\n+                   (__s == 0 || __n <= G_MAXSIZE \/ __s))        \\\n+            __p = g_##func (__n * __s);                         \\\n+          else                                                  \\\n+            __p = g_##func##_n (__n, __s);                      \\\n+          __p;                                                  \\\n@@ -242,12 +256,12 @@\n-  (struct_type *) (G_GNUC_EXTENSION ({      \\\n-    gsize __n = (gsize) (n_structs);      \\\n-    gsize __s = sizeof (struct_type);     \\\n-    gpointer __p = (gpointer) (mem);      \\\n-    if (__s == 1)           \\\n-      __p = g_##func (__p, __n);        \\\n-    else if (__builtin_constant_p (__n) &&    \\\n-             (__s == 0 || __n <= G_MAXSIZE \/ __s))  \\\n-      __p = g_##func (__p, __n * __s);      \\\n-    else              \\\n-      __p = g_##func##_n (__p, __n, __s);     \\\n-    __p;              \\\n+        (struct_type *) (G_GNUC_EXTENSION ({                    \\\n+          gsize __n = (gsize) (n_structs);                      \\\n+          gsize __s = sizeof (struct_type);                     \\\n+          gpointer __p = (gpointer) (mem);                      \\\n+          if (__s == 1)                                         \\\n+            __p = g_##func (__p, __n);                          \\\n+          else if (__builtin_constant_p (__n) &&                \\\n+                   (__s == 0 || __n <= G_MAXSIZE \/ __s))        \\\n+            __p = g_##func (__p, __n * __s);                    \\\n+          else                                                  \\\n+            __p = g_##func##_n (__p, __n, __s);                 \\\n+          __p;                                                  \\\n@@ -283,1 +297,1 @@\n-#define g_new(struct_type, n_structs)     _G_NEW (struct_type, n_structs, malloc)\n+#define g_new(struct_type, n_structs)                   _G_NEW (struct_type, n_structs, malloc)\n@@ -300,1 +314,1 @@\n-#define g_new0(struct_type, n_structs)      _G_NEW (struct_type, n_structs, malloc0)\n+#define g_new0(struct_type, n_structs)                  _G_NEW (struct_type, n_structs, malloc0)\n@@ -314,1 +328,1 @@\n-#define g_renew(struct_type, mem, n_structs)    _G_RENEW (struct_type, mem, n_structs, realloc)\n+#define g_renew(struct_type, mem, n_structs)            _G_RENEW (struct_type, mem, n_structs, realloc)\n@@ -328,1 +342,1 @@\n-#define g_try_new(struct_type, n_structs)   _G_NEW (struct_type, n_structs, try_malloc)\n+#define g_try_new(struct_type, n_structs)               _G_NEW (struct_type, n_structs, try_malloc)\n@@ -343,1 +357,1 @@\n-#define g_try_new0(struct_type, n_structs)    _G_NEW (struct_type, n_structs, try_malloc0)\n+#define g_try_new0(struct_type, n_structs)              _G_NEW (struct_type, n_structs, try_malloc0)\n@@ -359,1 +373,1 @@\n-#define g_try_renew(struct_type, mem, n_structs)  _G_RENEW (struct_type, mem, n_structs, try_realloc)\n+#define g_try_renew(struct_type, mem, n_structs)        _G_RENEW (struct_type, mem, n_structs, try_realloc)\n@@ -379,1 +393,1 @@\n-void   g_mem_set_vtable (GMemVTable *vtable);\n+void     g_mem_set_vtable (GMemVTable   *vtable);\n@@ -387,1 +401,1 @@\n-GLIB_VAR GMemVTable *glib_mem_profiler_table;\n+GLIB_VAR GMemVTable     *glib_mem_profiler_table;\n@@ -389,1 +403,1 @@\n-void  g_mem_profile (void);\n+void    g_mem_profile   (void);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmem.h","additions":87,"deletions":73,"binary":false,"changes":160,"status":"modified"},{"patch":"@@ -130,1 +130,2 @@\n- * projects.\n+ * projects. Since GLib 2.68, this can be implemented by dropping messages\n+ * for which g_log_writer_default_would_drop() returns %TRUE.\n@@ -200,0 +201,1 @@\n+#include \"gthreadprivate.h\"\n@@ -384,1 +386,1 @@\n- * Logs a \"critical warning\" (#G_LOG_LEVEL_CRITICAL).\n+ * Logs a \"critical warning\" (%G_LOG_LEVEL_CRITICAL).\n@@ -526,0 +528,1 @@\n+static gboolean       g_log_debug_enabled = FALSE;  \/* (atomic) *\/\n@@ -795,1 +798,1 @@\n- *     application domain\n+ *    application domain\n@@ -797,3 +800,3 @@\n- *     To handle fatal and recursive messages as well, combine\n- *     the log levels with the #G_LOG_FLAG_FATAL and\n- *     #G_LOG_FLAG_RECURSION bit flags.\n+ *    To handle fatal and recursive messages as well, combine\n+ *    the log levels with the %G_LOG_FLAG_FATAL and\n+ *    %G_LOG_FLAG_RECURSION bit flags.\n@@ -804,0 +807,1 @@\n+ *\n@@ -805,1 +809,1 @@\n- * must be combined with the #G_LOG_FLAG_FATAL and #G_LOG_FLAG_RECURSION\n+ * must be combined with the %G_LOG_FLAG_FATAL and %G_LOG_FLAG_RECURSION\n@@ -808,1 +812,1 @@\n- * Note that since the #G_LOG_LEVEL_ERROR log level is always fatal, if\n+ * Note that since the %G_LOG_LEVEL_ERROR log level is always fatal, if\n@@ -810,1 +814,1 @@\n- * #G_LOG_FLAG_FATAL.\n+ * %G_LOG_FLAG_FATAL.\n@@ -817,0 +821,1 @@\n+ *\n@@ -823,0 +828,1 @@\n+ *\n@@ -829,0 +835,1 @@\n+ *\n@@ -848,1 +855,1 @@\n- *     application domain\n+ *   application domain\n@@ -850,3 +857,3 @@\n- *     To handle fatal and recursive messages as well, combine\n- *     the log levels with the #G_LOG_FLAG_FATAL and\n- *     #G_LOG_FLAG_RECURSION bit flags.\n+ *   To handle fatal and recursive messages as well, combine\n+ *   the log levels with the %G_LOG_FLAG_FATAL and\n+ *   %G_LOG_FLAG_RECURSION bit flags.\n@@ -1163,0 +1170,30 @@\n+static gboolean gmessages_use_stderr = FALSE;\n+\n+\/**\n+ * g_log_writer_default_set_use_stderr:\n+ * @use_stderr: If %TRUE, use `stderr` for log messages that would\n+ *  normally have appeared on `stdout`\n+ *\n+ * Configure whether the built-in log functions\n+ * (g_log_default_handler() for the old-style API, and both\n+ * g_log_writer_default() and g_log_writer_standard_streams() for the\n+ * structured API) will output all log messages to `stderr`.\n+ *\n+ * By default, log messages of levels %G_LOG_LEVEL_INFO and\n+ * %G_LOG_LEVEL_DEBUG are sent to `stdout`, and other log messages are\n+ * sent to `stderr`. This is problematic for applications that intend\n+ * to reserve `stdout` for structured output such as JSON or XML.\n+ *\n+ * This function sets global state. It is not thread-aware, and should be\n+ * called at the very start of a program, before creating any other threads\n+ * or creating objects that could create worker threads of their own.\n+ *\n+ * Since: 2.68\n+ *\/\n+void\n+g_log_writer_default_set_use_stderr (gboolean use_stderr)\n+{\n+  g_return_if_fail (g_thread_n_created () == 0);\n+  gmessages_use_stderr = use_stderr;\n+}\n+\n@@ -1168,1 +1205,1 @@\n-  gboolean to_stdout = TRUE;\n+  gboolean to_stdout = !gmessages_use_stderr;\n@@ -1366,1 +1403,1 @@\n-                  gchar *locale_msg = g_locale_from_utf8 (fatal_msg_buf, -1, NULL, NULL, NULL);\n+                  WCHAR *wide_msg;\n@@ -1368,2 +1405,6 @@\n-                  MessageBox (NULL, locale_msg, NULL,\n-                              MB_ICONERROR|MB_SETFOREGROUND);\n+                  wide_msg = g_utf8_to_utf16 (fatal_msg_buf, -1, NULL, NULL, NULL);\n+\n+                  MessageBoxW (NULL, wide_msg, NULL,\n+                               MB_ICONERROR | MB_SETFOREGROUND);\n+\n+                  g_free (wide_msg);\n@@ -1386,2 +1427,2 @@\n- * @log_domain: (nullable): the log domain, usually #G_LOG_DOMAIN, or %NULL\n- * for the default\n+ * @log_domain: (nullable): the log domain, usually %G_LOG_DOMAIN, or %NULL\n+ *   for the default\n@@ -1389,2 +1430,2 @@\n- *     or a user-defined level\n- * @format: the message format. See the printf() documentation\n+ *   or a user-defined level\n+ * @format: the message format. See the `printf()` documentation\n@@ -1445,0 +1486,3 @@\n+  if (gmessages_use_stderr)\n+    return stderr;\n+\n@@ -1575,4 +1619,6 @@\n- * Log a message with structured data. The message will be passed through to\n- * the log writer set by the application using g_log_set_writer_func(). If the\n- * message is fatal (i.e. its log level is %G_LOG_LEVEL_ERROR), the program will\n- * be aborted by calling G_BREAKPOINT() at the end of this function. If the log writer returns\n+ * Log a message with structured data.\n+ *\n+ * The message will be passed through to the log writer set by the application\n+ * using g_log_set_writer_func(). If the message is fatal (i.e. its log level\n+ * is %G_LOG_LEVEL_ERROR), the program will be aborted by calling\n+ * G_BREAKPOINT() at the end of this function. If the log writer returns\n@@ -1612,1 +1658,1 @@\n- * glib.h.\n+ * `glib.h`.\n@@ -1615,0 +1661,1 @@\n+ *\n@@ -1635,0 +1682,1 @@\n+ *\n@@ -1775,1 +1823,1 @@\n- * (#G_VARIANT_TYPE_STRING). Array of bytes (#G_VARIANT_TYPE_BYTESTRING) is also\n+ * (%G_VARIANT_TYPE_STRING). Array of bytes (%G_VARIANT_TYPE_BYTESTRING) is also\n@@ -2181,0 +2229,3 @@\n+  \/* Namespaced journals start with `\/run\/systemd\/journal.${name}\/` (see\n+   * `RuntimeDirectory=systemd\/journal.%i` in `systemd-journald@.service`. The\n+   * default journal starts with `\/run\/systemd\/journal\/`. *\/\n@@ -2184,1 +2235,2 @@\n-    return g_str_has_prefix (addr.un.sun_path, \"\/run\/systemd\/journal\/\");\n+    return (g_str_has_prefix (addr.un.sun_path, \"\/run\/systemd\/journal\/\") ||\n+            g_str_has_prefix (addr.un.sun_path, \"\/run\/systemd\/journal.\"));\n@@ -2277,1 +2329,4 @@\n-  strftime (time_buf, sizeof (time_buf), \"%H:%M:%S\", now_tm);\n+  if (G_LIKELY (now_tm != NULL))\n+    strftime (time_buf, sizeof (time_buf), \"%H:%M:%S\", now_tm);\n+  else\n+    strcpy (time_buf, \"(error)\");\n@@ -2527,1 +2582,3 @@\n- * are sent to `stdout`; all other log levels are sent to `stderr`. Only fields\n+ * are sent to `stdout`, or to `stderr` if requested by\n+ * g_log_writer_default_set_use_stderr();\n+ * all other log levels are sent to `stderr`. Only fields\n@@ -2584,0 +2641,91 @@\n+\/*\n+ * Internal version of g_log_writer_default_would_drop(), which can\n+ * read from either a log_domain or an array of fields. This avoids\n+ * having to iterate through the fields if the @log_level is sufficient\n+ * to make the decision.\n+ *\/\n+static gboolean\n+should_drop_message (GLogLevelFlags   log_level,\n+                     const char      *log_domain,\n+                     const GLogField *fields,\n+                     gsize            n_fields)\n+{\n+  \/* Disable debug message output unless specified in G_MESSAGES_DEBUG. *\/\n+  if (!(log_level & DEFAULT_LEVELS) &&\n+      !(log_level >> G_LOG_LEVEL_USER_SHIFT) &&\n+      !g_log_get_debug_enabled ())\n+    {\n+      const gchar *domains;\n+      gsize i;\n+\n+      domains = g_getenv (\"G_MESSAGES_DEBUG\");\n+\n+      if ((log_level & INFO_LEVELS) == 0 ||\n+          domains == NULL)\n+        return TRUE;\n+\n+      if (log_domain == NULL)\n+        {\n+          for (i = 0; i < n_fields; i++)\n+            {\n+              if (g_strcmp0 (fields[i].key, \"GLIB_DOMAIN\") == 0)\n+                {\n+                  log_domain = fields[i].value;\n+                  break;\n+                }\n+            }\n+        }\n+\n+      if (strcmp (domains, \"all\") != 0 &&\n+          (log_domain == NULL || !strstr (domains, log_domain)))\n+        return TRUE;\n+    }\n+\n+  return FALSE;\n+}\n+\n+\/**\n+ * g_log_writer_default_would_drop:\n+ * @log_domain: (nullable): log domain\n+ * @log_level: log level, either from #GLogLevelFlags, or a user-defined\n+ *    level\n+ *\n+ * Check whether g_log_writer_default() and g_log_default_handler() would\n+ * ignore a message with the given domain and level.\n+ *\n+ * As with g_log_default_handler(), this function drops debug and informational\n+ * messages unless their log domain (or `all`) is listed in the space-separated\n+ * `G_MESSAGES_DEBUG` environment variable.\n+ *\n+ * This can be used when implementing log writers with the same filtering\n+ * behaviour as the default, but a different destination or output format:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ *   if (g_log_writer_default_would_drop (log_level, log_domain))\n+ *     return G_LOG_WRITER_HANDLED;\n+ * ]|\n+ *\n+ * or to skip an expensive computation if it is only needed for a debugging\n+ * message, and `G_MESSAGES_DEBUG` is not set:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ *   if (!g_log_writer_default_would_drop (G_LOG_LEVEL_DEBUG, G_LOG_DOMAIN))\n+ *     {\n+ *       gchar *result = expensive_computation (my_object);\n+ *\n+ *       g_debug (\"my_object result: %s\", result);\n+ *       g_free (result);\n+ *     }\n+ * ]|\n+ *\n+ * Returns: %TRUE if the log message would be dropped by GLib's\n+ *  default log handlers\n+ * Since: 2.68\n+ *\/\n+gboolean\n+g_log_writer_default_would_drop (GLogLevelFlags  log_level,\n+                                 const char     *log_domain)\n+{\n+  return should_drop_message (log_level, log_domain, NULL, 0);\n+}\n+\n@@ -2609,0 +2757,4 @@\n+ * g_log_writer_default() uses the mask set by g_log_set_always_fatal() to\n+ * determine which messages are fatal. When using a custom writer func instead it is\n+ * up to the writer function to determine which log messages are fatal.\n+ *\n@@ -2624,25 +2776,2 @@\n-  \/* Disable debug message output unless specified in G_MESSAGES_DEBUG. *\/\n-  if (!(log_level & DEFAULT_LEVELS) && !(log_level >> G_LOG_LEVEL_USER_SHIFT))\n-    {\n-      const gchar *domains, *log_domain = NULL;\n-      gsize i;\n-\n-      domains = g_getenv (\"G_MESSAGES_DEBUG\");\n-\n-      if ((log_level & INFO_LEVELS) == 0 ||\n-          domains == NULL)\n-        return G_LOG_WRITER_HANDLED;\n-\n-      for (i = 0; i < n_fields; i++)\n-        {\n-          if (g_strcmp0 (fields[i].key, \"GLIB_DOMAIN\") == 0)\n-            {\n-              log_domain = fields[i].value;\n-              break;\n-            }\n-        }\n-\n-      if (strcmp (domains, \"all\") != 0 &&\n-          (log_domain == NULL || !strstr (domains, log_domain)))\n-        return G_LOG_WRITER_HANDLED;\n-    }\n+  if (should_drop_message (log_level, NULL, fields, n_fields))\n+    return G_LOG_WRITER_HANDLED;\n@@ -2685,1 +2814,3 @@\n-          gchar *locale_msg = NULL;\n+          WCHAR *wide_msg;\n+\n+          wide_msg = g_utf8_to_utf16 (fatal_msg_buf, -1, NULL, NULL, NULL);\n@@ -2687,4 +2818,3 @@\n-          locale_msg = g_locale_from_utf8 (fatal_msg_buf, -1, NULL, NULL, NULL);\n-          MessageBox (NULL, locale_msg, NULL,\n-                      MB_ICONERROR | MB_SETFOREGROUND);\n-          g_free (locale_msg);\n+          MessageBoxW (NULL, wide_msg, NULL, MB_ICONERROR | MB_SETFOREGROUND);\n+\n+          g_free (wide_msg);\n@@ -2757,0 +2887,41 @@\n+\/**\n+ * g_log_get_debug_enabled:\n+ *\n+ * Return whether debug output from the GLib logging system is enabled.\n+ *\n+ * Note that this should not be used to conditionalise calls to g_debug() or\n+ * other logging functions; it should only be used from %GLogWriterFunc\n+ * implementations.\n+ *\n+ * Note also that the value of this does not depend on `G_MESSAGES_DEBUG`; see\n+ * the docs for g_log_set_debug_enabled().\n+ *\n+ * Returns: %TRUE if debug output is enabled, %FALSE otherwise\n+ *\n+ * Since: 2.72\n+ *\/\n+gboolean\n+g_log_get_debug_enabled (void)\n+{\n+  return g_atomic_int_get (&g_log_debug_enabled);\n+}\n+\n+\/**\n+ * g_log_set_debug_enabled:\n+ * @enabled: %TRUE to enable debug output, %FALSE otherwise\n+ *\n+ * Enable or disable debug output from the GLib logging system for all domains.\n+ * This value interacts disjunctively with `G_MESSAGES_DEBUG` — if either of\n+ * them would allow a debug message to be outputted, it will be.\n+ *\n+ * Note that this should not be used from within library code to enable debug\n+ * output — it is intended for external use.\n+ *\n+ * Since: 2.72\n+ *\/\n+void\n+g_log_set_debug_enabled (gboolean enabled)\n+{\n+  g_atomic_int_set (&g_log_debug_enabled, enabled);\n+}\n+\n@@ -3074,1 +3245,2 @@\n- * the rest.\n+ * the rest, unless stderr was requested by\n+ * g_log_writer_default_set_use_stderr().\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmessages.c","additions":233,"deletions":61,"binary":false,"changes":294,"status":"modified"},{"patch":"@@ -43,2 +43,2 @@\n-gsize g_printf_string_upper_bound (const gchar* format,\n-             va_list    args) G_GNUC_PRINTF(1, 0);\n+gsize   g_printf_string_upper_bound (const gchar* format,\n+                                     va_list      args) G_GNUC_PRINTF(1, 0);\n@@ -191,1 +191,2 @@\n- *    %G_LOG_WRITER_UNHANDLED otherwise\n+ *   %G_LOG_WRITER_UNHANDLED otherwise\n+ *\n@@ -245,0 +246,12 @@\n+GLIB_AVAILABLE_IN_2_68\n+void            g_log_writer_default_set_use_stderr (gboolean use_stderr);\n+GLIB_AVAILABLE_IN_2_68\n+gboolean        g_log_writer_default_would_drop (GLogLevelFlags  log_level,\n+                                                 const char     *log_domain);\n+\n+\/* G_MESSAGES_DEBUG enablement *\/\n+GLIB_AVAILABLE_IN_2_72\n+gboolean         g_log_get_debug_enabled       (void);\n+GLIB_AVAILABLE_IN_2_72\n+void             g_log_set_debug_enabled       (gboolean         enabled);\n+\n@@ -263,1 +276,1 @@\n-void  _g_log_fallback_handler (const gchar   *log_domain,\n+void    _g_log_fallback_handler (const gchar   *log_domain,\n@@ -280,0 +293,1 @@\n+G_NORETURN\n@@ -281,4 +295,4 @@\n-             const char *file,\n-             const int   line,\n-                   const char *pretty_function,\n-                   const char *expression) G_GNUC_NORETURN;\n+                               const char *file,\n+                               const int   line,\n+                               const char *pretty_function,\n+                               const char *expression);\n@@ -396,1 +410,1 @@\n-static void g_error (const gchar *format, ...) G_GNUC_NORETURN G_ANALYZER_NORETURN;\n+static G_NORETURN void g_error (const gchar *format, ...) G_ANALYZER_NORETURN;\n@@ -475,1 +489,1 @@\n-    static volatile int G_PASTE (_GWarningOnceBoolean, __LINE__) = 0; \\\n+    static int G_PASTE (_GWarningOnceBoolean, __LINE__) = 0;  \/* (atomic) *\/ \\\n@@ -484,1 +498,1 @@\n-    static volatile int G_PASTE (_GWarningOnceBoolean, __LINE__) = 0; \\\n+    static int G_PASTE (_GWarningOnceBoolean, __LINE__) = 0;  \/* (atomic) *\/ \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmessages.h","additions":25,"deletions":11,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -15,1 +15,1 @@\n-  required memory: 1008\n+  required memory: 1116\n@@ -18,1 +18,1 @@\n-  different table entries: 1 14 56 38\n+  different table entries: 1 15 57 49\n@@ -23,1 +23,1 @@\n-static const gint16 MirLev3[4*38] = {\n+static const gint16 MirLev3[4*49] = {\n@@ -52,1 +52,7 @@\n-#define MirLev3_2240 0x38\n+#define MirLev3_221C 0x38\n+  0,0,0,2527,\n+#define MirLev3_2220 0x3C\n+  1923,1914,1918,0,\n+#define MirLev3_2224 0x40\n+  2250,0,0,0,\n+#define MirLev3_2240 0x44\n@@ -54,1 +60,5 @@\n-#define MirLev3_2264 0x3C\n+#define MirLev3_2244 0x48\n+  0,7,0,0,\n+#define MirLev3_224C 0x4C\n+  -7,0,0,0,\n+#define MirLev3_2264 0x50\n@@ -56,1 +66,1 @@\n-#define MirLev3_2290 0x40\n+#define MirLev3_2290 0x54\n@@ -58,1 +68,1 @@\n-#define MirLev3_2298 0x44\n+#define MirLev3_2298 0x58\n@@ -60,1 +70,1 @@\n-#define MirLev3_22A4 0x48\n+#define MirLev3_22A4 0x5C\n@@ -62,1 +72,1 @@\n-#define MirLev3_22A8 0x4C\n+#define MirLev3_22A8 0x60\n@@ -64,1 +74,3 @@\n-#define MirLev3_22C8 0x50\n+#define MirLev3_22B8 0x64\n+  1316,0,0,0,\n+#define MirLev3_22C8 0x68\n@@ -66,1 +78,1 @@\n-#define MirLev3_22CC 0x54\n+#define MirLev3_22CC 0x6C\n@@ -68,1 +80,1 @@\n-#define MirLev3_22F0 0x58\n+#define MirLev3_22F0 0x70\n@@ -70,1 +82,1 @@\n-#define MirLev3_22F4 0x5C\n+#define MirLev3_22F4 0x74\n@@ -72,1 +84,1 @@\n-#define MirLev3_22F8 0x60\n+#define MirLev3_22F8 0x78\n@@ -74,1 +86,1 @@\n-#define MirLev3_22FC 0x64\n+#define MirLev3_22FC 0x7C\n@@ -76,1 +88,5 @@\n-#define MirLev3_2984 0x68\n+#define MirLev3_27C8 0x80\n+  1,-1,0,2,\n+#define MirLev3_27DC 0x84\n+  -1316,1,-1,0,\n+#define MirLev3_2984 0x88\n@@ -78,1 +94,1 @@\n-#define MirLev3_298C 0x6C\n+#define MirLev3_298C 0x8C\n@@ -80,1 +96,1 @@\n-#define MirLev3_2990 0x70\n+#define MirLev3_2990 0x90\n@@ -82,1 +98,5 @@\n-#define MirLev3_29B8 0x74\n+#define MirLev3_2998 0x94\n+  -1,0,0,-1914,\n+#define MirLev3_29A0 0x98\n+  -1918,0,0,-1923,\n+#define MirLev3_29B8 0x9C\n@@ -84,1 +104,1 @@\n-#define MirLev3_29F4 0x78\n+#define MirLev3_29F4 0xA0\n@@ -86,1 +106,1 @@\n-#define MirLev3_2AAC 0x7C\n+#define MirLev3_2AAC 0xA4\n@@ -88,3 +108,1 @@\n-#define MirLev3_2AB0 0x80\n-  -1,0,0,1,\n-#define MirLev3_2ADC 0x84\n+#define MirLev3_2ADC 0xA8\n@@ -92,1 +110,1 @@\n-#define MirLev3_2AE0 0x88\n+#define MirLev3_2AE0 0xAC\n@@ -94,1 +112,1 @@\n-#define MirLev3_2AE4 0x8C\n+#define MirLev3_2AE4 0xB0\n@@ -96,1 +114,5 @@\n-#define MirLev3_FF5C 0x90\n+#define MirLev3_2AEC 0xB4\n+  1,-1,-2250,0,\n+#define MirLev3_2BFC 0xB8\n+  0,0,-2527,0,\n+#define MirLev3_FF5C 0xBC\n@@ -98,1 +120,1 @@\n-#define MirLev3_FF60 0x94\n+#define MirLev3_FF60 0xC0\n@@ -102,1 +124,1 @@\n-static const PACKTAB_UINT8 MirLev2[4*56] = {\n+static const PACKTAB_UINT8 MirLev2[4*57] = {\n@@ -167,2 +189,7 @@\n-  MirLev3_0000,  \/* 221C..221F *\/\n-#define MirLev2_2230 0x34\n+  MirLev3_221C,  \/* 221C..221F *\/\n+#define MirLev2_2220 0x34\n+  MirLev3_2220,  \/* 2220..2223 *\/\n+  MirLev3_2224,  \/* 2224..2227 *\/\n+  MirLev3_0000,  \/* 2228..222B *\/\n+  MirLev3_0000,  \/* 222C..222F *\/\n+#define MirLev2_2230 0x38\n@@ -173,1 +200,1 @@\n-#define MirLev2_2240 0x38\n+#define MirLev2_2240 0x3C\n@@ -175,1 +202,1 @@\n-  MirLev3_0000,  \/* 2244..2247 *\/\n+  MirLev3_2244,  \/* 2244..2247 *\/\n@@ -177,2 +204,2 @@\n-  MirLev3_0000,  \/* 224C..224F *\/\n-#define MirLev2_2250 0x3C\n+  MirLev3_224C,  \/* 224C..224F *\/\n+#define MirLev2_2250 0x40\n@@ -183,1 +210,1 @@\n-#define MirLev2_2260 0x40\n+#define MirLev2_2260 0x44\n@@ -188,1 +215,1 @@\n-#define MirLev2_2270 0x44\n+#define MirLev2_2270 0x48\n@@ -193,1 +220,1 @@\n-#define MirLev2_2280 0x48\n+#define MirLev2_2280 0x4C\n@@ -198,1 +225,1 @@\n-#define MirLev2_2290 0x4C\n+#define MirLev2_2290 0x50\n@@ -203,1 +230,1 @@\n-#define MirLev2_22A0 0x50\n+#define MirLev2_22A0 0x54\n@@ -208,1 +235,1 @@\n-#define MirLev2_22B0 0x54\n+#define MirLev2_22B0 0x58\n@@ -211,1 +238,1 @@\n-  MirLev3_0000,  \/* 22B8..22BB *\/\n+  MirLev3_22B8,  \/* 22B8..22BB *\/\n@@ -213,1 +240,1 @@\n-#define MirLev2_22C0 0x58\n+#define MirLev2_22C0 0x5C\n@@ -218,1 +245,1 @@\n-#define MirLev2_22D0 0x5C\n+#define MirLev2_22D0 0x60\n@@ -223,1 +250,1 @@\n-#define MirLev2_22E0 0x60\n+#define MirLev2_22E0 0x64\n@@ -228,1 +255,1 @@\n-#define MirLev2_22F0 0x64\n+#define MirLev2_22F0 0x68\n@@ -233,1 +260,1 @@\n-#define MirLev2_2300 0x68\n+#define MirLev2_2300 0x6C\n@@ -238,1 +265,1 @@\n-#define MirLev2_2760 0x6C\n+#define MirLev2_2760 0x70\n@@ -243,1 +270,1 @@\n-#define MirLev2_2770 0x70\n+#define MirLev2_2770 0x74\n@@ -248,1 +275,1 @@\n-#define MirLev2_27C0 0x74\n+#define MirLev2_27C0 0x78\n@@ -251,3 +278,3 @@\n-  MirLev3_0028,  \/* 27C8..27CB *\/\n-  MirLev3_0000,  \/* 27CC..27CF *\/\n-#define MirLev2_27D0 0x78\n+  MirLev3_27C8,  \/* 27C8..27CB *\/\n+  MirLev3_005C,  \/* 27CC..27CF *\/\n+#define MirLev2_27D0 0x7C\n@@ -257,2 +284,2 @@\n-  MirLev3_2038,  \/* 27DC..27DF *\/\n-#define MirLev2_27E0 0x7C\n+  MirLev3_27DC,  \/* 27DC..27DF *\/\n+#define MirLev2_27E0 0x80\n@@ -263,1 +290,1 @@\n-#define MirLev2_2980 0x80\n+#define MirLev2_2980 0x84\n@@ -268,1 +295,1 @@\n-#define MirLev2_2990 0x84\n+#define MirLev2_2990 0x88\n@@ -271,1 +298,1 @@\n-  MirLev3_169C,  \/* 2998..299B *\/\n+  MirLev3_2998,  \/* 2998..299B *\/\n@@ -273,1 +300,6 @@\n-#define MirLev2_29B0 0x88\n+#define MirLev2_29A0 0x8C\n+  MirLev3_29A0,  \/* 29A0..29A3 *\/\n+  MirLev3_0028,  \/* 29A4..29A7 *\/\n+  MirLev3_2264,  \/* 29A8..29AB *\/\n+  MirLev3_2264,  \/* 29AC..29AF *\/\n+#define MirLev2_29B0 0x90\n@@ -278,1 +310,1 @@\n-#define MirLev2_29C0 0x8C\n+#define MirLev2_29C0 0x94\n@@ -283,1 +315,1 @@\n-#define MirLev2_29D0 0x90\n+#define MirLev2_29D0 0x98\n@@ -288,1 +320,1 @@\n-#define MirLev2_29F0 0x94\n+#define MirLev2_29F0 0x9C\n@@ -293,1 +325,1 @@\n-#define MirLev2_2A20 0x98\n+#define MirLev2_2A20 0xA0\n@@ -298,1 +330,1 @@\n-#define MirLev2_2A30 0x9C\n+#define MirLev2_2A30 0xA4\n@@ -303,1 +335,1 @@\n-#define MirLev2_2A60 0xA0\n+#define MirLev2_2A60 0xA8\n@@ -308,1 +340,1 @@\n-#define MirLev2_2A70 0xA4\n+#define MirLev2_2A70 0xAC\n@@ -311,3 +343,3 @@\n-  MirLev3_2038,  \/* 2A78..2A7B *\/\n-  MirLev3_22C8,  \/* 2A7C..2A7F *\/\n-#define MirLev2_2A80 0xA8\n+  MirLev3_22C8,  \/* 2A78..2A7B *\/\n+  MirLev3_2984,  \/* 2A7C..2A7F *\/\n+#define MirLev2_2A80 0xB0\n@@ -315,10 +347,5 @@\n-  MirLev3_169C,  \/* 2A84..2A87 *\/\n-  MirLev3_1698,  \/* 2A88..2A8B *\/\n-  MirLev3_169C,  \/* 2A8C..2A8F *\/\n-#define MirLev2_2A90 0xAC\n-  MirLev3_22C8,  \/* 2A90..2A93 *\/\n-  MirLev3_2984,  \/* 2A94..2A97 *\/\n-  MirLev3_2984,  \/* 2A98..2A9B *\/\n-  MirLev3_169C,  \/* 2A9C..2A9F *\/\n-#define MirLev2_2AA0 0xB0\n-  MirLev3_2038,  \/* 2AA0..2AA3 *\/\n+  MirLev3_2984,  \/* 2A84..2A87 *\/\n+  MirLev3_2984,  \/* 2A88..2A8B *\/\n+  MirLev3_2984,  \/* 2A8C..2A8F *\/\n+#define MirLev2_2AA0 0xB4\n+  MirLev3_2290,  \/* 2AA0..2AA3 *\/\n@@ -328,11 +355,1 @@\n-#define MirLev2_2AB0 0xB4\n-  MirLev3_2AB0,  \/* 2AB0..2AB3 *\/\n-  MirLev3_169C,  \/* 2AB4..2AB7 *\/\n-  MirLev3_1698,  \/* 2AB8..2ABB *\/\n-  MirLev3_2984,  \/* 2ABC..2ABF *\/\n-#define MirLev2_2AC0 0xB8\n-  MirLev3_2984,  \/* 2AC0..2AC3 *\/\n-  MirLev3_2290,  \/* 2AC4..2AC7 *\/\n-  MirLev3_0000,  \/* 2AC8..2ACB *\/\n-  MirLev3_22C8,  \/* 2ACC..2ACF *\/\n-#define MirLev2_2AD0 0xBC\n+#define MirLev2_2AD0 0xB8\n@@ -343,1 +360,1 @@\n-#define MirLev2_2AE0 0xC0\n+#define MirLev2_2AE0 0xBC\n@@ -347,2 +364,2 @@\n-  MirLev3_0028,  \/* 2AEC..2AEF *\/\n-#define MirLev2_2AF0 0xC4\n+  MirLev3_2AEC,  \/* 2AEC..2AEF *\/\n+#define MirLev2_2AF0 0xC0\n@@ -353,0 +370,5 @@\n+#define MirLev2_2BF0 0xC4\n+  MirLev3_0000,  \/* 2BF0..2BF3 *\/\n+  MirLev3_0000,  \/* 2BF4..2BF7 *\/\n+  MirLev3_0000,  \/* 2BF8..2BFB *\/\n+  MirLev3_2BFC,  \/* 2BFC..2BFF *\/\n@@ -363,1 +385,6 @@\n-#define MirLev2_3010 0xD0\n+#define MirLev2_2E50 0xD0\n+  MirLev3_0000,  \/* 2E50..2E53 *\/\n+  MirLev3_22C8,  \/* 2E54..2E57 *\/\n+  MirLev3_2984,  \/* 2E58..2E5B *\/\n+  MirLev3_169C,  \/* 2E5C..2E5F *\/\n+#define MirLev2_3010 0xD4\n@@ -368,1 +395,1 @@\n-#define MirLev2_FE50 0xD4\n+#define MirLev2_FE50 0xD8\n@@ -373,1 +400,1 @@\n-#define MirLev2_FF50 0xD8\n+#define MirLev2_FF50 0xDC\n@@ -378,1 +405,1 @@\n-#define MirLev2_FF60 0xDC\n+#define MirLev2_FF60 0xE0\n@@ -385,1 +412,1 @@\n-static const PACKTAB_UINT8 MirLev1[16*14] = {\n+static const PACKTAB_UINT8 MirLev1[16*15] = {\n@@ -474,1 +501,1 @@\n-  MirLev2_0000,  \/* 2220..222F *\/\n+  MirLev2_2220,  \/* 2220..222F *\/\n@@ -533,1 +560,1 @@\n-  MirLev2_0000,  \/* 29A0..29AF *\/\n+  MirLev2_29A0,  \/* 29A0..29AF *\/\n@@ -537,1 +564,1 @@\n-  MirLev2_0000,  \/* 29E0..29EF *\/\n+  MirLev2_0020,  \/* 29E0..29EF *\/\n@@ -549,1 +576,1 @@\n-  MirLev2_2A90,  \/* 2A90..2A9F *\/\n+  MirLev2_2A80,  \/* 2A90..2A9F *\/\n@@ -551,2 +578,2 @@\n-  MirLev2_2AB0,  \/* 2AB0..2ABF *\/\n-  MirLev2_2AC0,  \/* 2AC0..2ACF *\/\n+  MirLev2_2A80,  \/* 2AB0..2ABF *\/\n+  MirLev2_2A80,  \/* 2AC0..2ACF *\/\n@@ -556,1 +583,18 @@\n-#define MirLev1_2E00 0xA0\n+#define MirLev1_2B00 0xA0\n+  MirLev2_0000,  \/* 2B00..2B0F *\/\n+  MirLev2_0000,  \/* 2B10..2B1F *\/\n+  MirLev2_0000,  \/* 2B20..2B2F *\/\n+  MirLev2_0000,  \/* 2B30..2B3F *\/\n+  MirLev2_0000,  \/* 2B40..2B4F *\/\n+  MirLev2_0000,  \/* 2B50..2B5F *\/\n+  MirLev2_0000,  \/* 2B60..2B6F *\/\n+  MirLev2_0000,  \/* 2B70..2B7F *\/\n+  MirLev2_0000,  \/* 2B80..2B8F *\/\n+  MirLev2_0000,  \/* 2B90..2B9F *\/\n+  MirLev2_0000,  \/* 2BA0..2BAF *\/\n+  MirLev2_0000,  \/* 2BB0..2BBF *\/\n+  MirLev2_0000,  \/* 2BC0..2BCF *\/\n+  MirLev2_0000,  \/* 2BD0..2BDF *\/\n+  MirLev2_0000,  \/* 2BE0..2BEF *\/\n+  MirLev2_2BF0,  \/* 2BF0..2BFF *\/\n+#define MirLev1_2E00 0xB0\n@@ -562,1 +606,1 @@\n-  MirLev2_0000,  \/* 2E50..2E5F *\/\n+  MirLev2_2E50,  \/* 2E50..2E5F *\/\n@@ -573,1 +617,1 @@\n-#define MirLev1_3000 0xB0\n+#define MirLev1_3000 0xC0\n@@ -590,1 +634,1 @@\n-#define MirLev1_FE00 0xC0\n+#define MirLev1_FE00 0xD0\n@@ -607,1 +651,1 @@\n-#define MirLev1_FF00 0xD0\n+#define MirLev1_FF00 0xE0\n@@ -671,1 +715,1 @@\n-  MirLev1_0100,  \/* 2B00..2BFF *\/\n+  MirLev1_2B00,  \/* 2B00..2BFF *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gmirroringtable.h","additions":154,"deletions":110,"binary":false,"changes":264,"status":"modified"},{"patch":"@@ -105,1 +105,1 @@\n- *   { NULL }\n+ *   G_OPTION_ENTRY_NULL\n@@ -339,1 +339,1 @@\n- * \"FILE1 FILE2...\". If you are using #G_OPTION_REMAINING for\n+ * \"FILE1 FILE2...\". If you are using %G_OPTION_REMAINING for\n@@ -1094,1 +1094,1 @@\n-G_GNUC_NORETURN\n+G_NORETURN\n@@ -1546,1 +1546,3 @@\n-                  if (!OPTIONAL_ARG (&group->entries[j]))\n+                  if (OPTIONAL_ARG (&group->entries[j]) && ((*argv)[idx + 1][0] == '-'))\n+                    value = NULL;\n+                  else\n@@ -1552,11 +1554,0 @@\n-                  else\n-                    {\n-                      if ((*argv)[idx + 1][0] == '-')\n-                        value = NULL;\n-                      else\n-                        {\n-                          value = (*argv)[idx + 1];\n-                          add_pending_null (context, &((*argv)[idx + 1]), NULL);\n-                          *new_idx = idx + 1;\n-                        }\n-                    }\n@@ -2125,2 +2116,1 @@\n-                  nulled_out = g_newa (gboolean, arg_length);\n-                  memset (nulled_out, 0, arg_length * sizeof (gboolean));\n+                  nulled_out = g_newa0 (gboolean, arg_length);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/goption.c","additions":7,"deletions":17,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -281,1 +281,1 @@\n- * Using #G_OPTION_REMAINING instead of simply scanning `argv`\n+ * Using %G_OPTION_REMAINING instead of simply scanning `argv`\n@@ -289,0 +289,18 @@\n+\/**\n+ * G_OPTION_ENTRY_NULL:\n+ *\n+ * A #GOptionEntry array requires a %NULL terminator, this macro can\n+ * be used as terminator instead of an explicit `{ 0 }` but it cannot\n+ * be assigned to a variable.\n+ *\n+ * |[\n+ *   GOptionEntry option[] = { G_OPTION_ENTRY_NULL };\n+ * ]|\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_OPTION_ENTRY_NULL    \\\n+  GLIB_AVAILABLE_MACRO_IN_2_70 \\\n+  { NULL, 0, 0, 0, NULL, NULL, NULL }\n+\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/goption.h","additions":19,"deletions":1,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -25,1 +25,0 @@\n-#include \"gmessages.h\"\n@@ -27,0 +26,2 @@\n+#include \"gmessages.h\"\n+#include \"gstrfuncs.h\"\n@@ -160,1 +161,1 @@\n- * g_pattern_match:\n+ * g_pattern_spec_match:\n@@ -186,0 +187,2 @@\n+ *\n+ * Since: 2.70\n@@ -188,4 +191,4 @@\n-g_pattern_match (GPatternSpec *pspec,\n-     guint         string_length,\n-     const gchar  *string,\n-     const gchar  *string_reversed)\n+g_pattern_spec_match (GPatternSpec *pspec,\n+                      gsize string_length,\n+                      const gchar *string,\n+                      const gchar *string_reversed)\n@@ -240,0 +243,38 @@\n+\/**\n+ * g_pattern_match: (skip)\n+ * @pspec: a #GPatternSpec\n+ * @string_length: the length of @string (in bytes, i.e. strlen(),\n+ *     not g_utf8_strlen())\n+ * @string: the UTF-8 encoded string to match\n+ * @string_reversed: (nullable): the reverse of @string or %NULL\n+ *\n+ * Matches a string against a compiled pattern. Passing the correct\n+ * length of the string given is mandatory. The reversed string can be\n+ * omitted by passing %NULL, this is more efficient if the reversed\n+ * version of the string to be matched is not at hand, as\n+ * g_pattern_match() will only construct it if the compiled pattern\n+ * requires reverse matches.\n+ *\n+ * Note that, if the user code will (possibly) match a string against a\n+ * multitude of patterns containing wildcards, chances are high that\n+ * some patterns will require a reversed string. In this case, it's\n+ * more efficient to provide the reversed string to avoid multiple\n+ * constructions thereof in the various calls to g_pattern_match().\n+ *\n+ * Note also that the reverse of a UTF-8 encoded string can in general\n+ * not be obtained by g_strreverse(). This works only if the string\n+ * does not contain any multibyte characters. GLib offers the\n+ * g_utf8_strreverse() function to reverse UTF-8 encoded strings.\n+ *\n+ * Returns: %TRUE if @string matches @pspec\n+ * Deprecated: 2.70: Use g_pattern_spec_match() instead\n+ **\/\n+gboolean\n+g_pattern_match (GPatternSpec *pspec,\n+                 guint string_length,\n+                 const gchar *string,\n+                 const gchar *string_reversed)\n+{\n+  return g_pattern_spec_match (pspec, string_length, string, string_reversed);\n+}\n+\n@@ -272,29 +313,29 @@\n-  {\n-  case '*':\n-      if (follows_wildcard) \/* compress multiple wildcards *\/\n-      {\n-        pspec->pattern_length--;\n-        continue;\n-      }\n-    follows_wildcard = TRUE;\n-    if (hw_pos < 0)\n-      hw_pos = i;\n-    tw_pos = i;\n-    break;\n-  case '?':\n-    pending_jokers++;\n-    pspec->min_length++;\n-    pspec->max_length += 4; \/* maximum UTF-8 character length *\/\n-    continue;\n-  default:\n-    for (; pending_jokers; pending_jokers--, i++) {\n-      *d++ = '?';\n-        if (hj_pos < 0)\n-       hj_pos = i;\n-      tj_pos = i;\n-    }\n-    follows_wildcard = FALSE;\n-    pspec->min_length++;\n-    pspec->max_length++;\n-    break;\n-  }\n+        {\n+        case '*':\n+          if (follows_wildcard) \/* compress multiple wildcards *\/\n+            {\n+              pspec->pattern_length--;\n+              continue;\n+            }\n+          follows_wildcard = TRUE;\n+          if (hw_pos < 0)\n+            hw_pos = i;\n+          tw_pos = i;\n+          break;\n+        case '?':\n+          pending_jokers++;\n+          pspec->min_length++;\n+          pspec->max_length += 4; \/* maximum UTF-8 character length *\/\n+          continue;\n+        default:\n+          for (; pending_jokers; pending_jokers--, i++) {\n+            *d++ = '?';\n+            if (hj_pos < 0)\n+             hj_pos = i;\n+            tj_pos = i;\n+          }\n+          follows_wildcard = FALSE;\n+          pspec->min_length++;\n+          pspec->max_length++;\n+          break;\n+        }\n@@ -321,2 +362,2 @@\n-  {\n-    pspec->match_type = G_MATCH_TAIL;\n+        {\n+          pspec->match_type = G_MATCH_TAIL;\n@@ -324,3 +365,3 @@\n-    pspec->pattern[pspec->pattern_length] = 0;\n-    return pspec;\n-  }\n+          pspec->pattern[pspec->pattern_length] = 0;\n+          return pspec;\n+        }\n@@ -328,6 +369,6 @@\n-    pspec->pattern[pspec->pattern_length - 1] == '*')\n-  {\n-    pspec->match_type = G_MATCH_HEAD;\n-    pspec->pattern[--pspec->pattern_length] = 0;\n-    return pspec;\n-  }\n+          pspec->pattern[pspec->pattern_length - 1] == '*')\n+        {\n+          pspec->match_type = G_MATCH_HEAD;\n+          pspec->pattern[--pspec->pattern_length] = 0;\n+          return pspec;\n+        }\n@@ -335,4 +376,4 @@\n-  {\n-    pspec->match_type = G_MATCH_EXACT;\n-    return pspec;\n-  }\n+        {\n+          pspec->match_type = G_MATCH_EXACT;\n+          return pspec;\n+        }\n@@ -356,0 +397,24 @@\n+\/**\n+ * g_pattern_spec_copy:\n+ * @pspec: a #GPatternSpec\n+ *\n+ * Copies @pspec in a new #GPatternSpec.\n+ *\n+ * Returns: (transfer full): a copy of @pspec.\n+ *\n+ * Since: 2.70\n+ **\/\n+GPatternSpec *\n+g_pattern_spec_copy (GPatternSpec *pspec)\n+{\n+  GPatternSpec *pspec_copy;\n+\n+  g_return_val_if_fail (pspec != NULL, NULL);\n+\n+  pspec_copy = g_new (GPatternSpec, 1);\n+  *pspec_copy = *pspec;\n+  pspec_copy->pattern = g_strndup (pspec->pattern, pspec->pattern_length);\n+\n+  return pspec_copy;\n+}\n+\n@@ -394,1 +459,1 @@\n- * g_pattern_match_string:\n+ * g_pattern_spec_match_string:\n@@ -403,0 +468,2 @@\n+ *\n+ * Since: 2.70\n@@ -405,2 +472,2 @@\n-g_pattern_match_string (GPatternSpec *pspec,\n-      const gchar  *string)\n+g_pattern_spec_match_string (GPatternSpec *pspec,\n+                             const gchar *string)\n@@ -411,1 +478,20 @@\n-  return g_pattern_match (pspec, strlen (string), string, NULL);\n+  return g_pattern_spec_match (pspec, strlen (string), string, NULL);\n+}\n+\n+\/**\n+ * g_pattern_match_string: (skip)\n+ * @pspec: a #GPatternSpec\n+ * @string: the UTF-8 encoded string to match\n+ *\n+ * Matches a string against a compiled pattern. If the string is to be\n+ * matched against more than one pattern, consider using\n+ * g_pattern_match() instead while supplying the reversed string.\n+ *\n+ * Returns: %TRUE if @string matches @pspec\n+ * Deprecated: 2.70: Use g_pattern_spec_match_string() instead\n+ **\/\n+gboolean\n+g_pattern_match_string (GPatternSpec *pspec,\n+                        const gchar *string)\n+{\n+  return g_pattern_spec_match_string (pspec, string);\n@@ -437,1 +523,1 @@\n-  ergo = g_pattern_match (pspec, strlen (string), string, NULL);\n+  ergo = g_pattern_spec_match (pspec, strlen (string), string, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpattern.c","additions":141,"deletions":55,"binary":false,"changes":196,"status":"modified"},{"patch":"@@ -36,0 +36,2 @@\n+GLIB_AVAILABLE_IN_2_70\n+GPatternSpec *g_pattern_spec_copy (GPatternSpec *pspec);\n@@ -39,1 +41,9 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_AVAILABLE_IN_2_70\n+gboolean g_pattern_spec_match (GPatternSpec *pspec,\n+                               gsize string_length,\n+                               const gchar *string,\n+                               const gchar *string_reversed);\n+GLIB_AVAILABLE_IN_2_70\n+gboolean g_pattern_spec_match_string (GPatternSpec *pspec,\n+                                      const gchar *string);\n+GLIB_DEPRECATED_IN_2_70_FOR (g_pattern_spec_match)\n@@ -44,1 +54,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_DEPRECATED_IN_2_70_FOR (g_pattern_spec_match_string)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpattern.h","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -128,1 +128,1 @@\n-#else \/* !HAVE_POLL *\/\n+#else   \/* !HAVE_POLL *\/\n@@ -138,1 +138,1 @@\n-           gint     timeout_ms)\n+           DWORD    timeout_ms)\n@@ -150,1 +150,1 @@\n-  g_print (\"  MsgWaitForMultipleObjectsEx(%d, %d)\\n\", nhandles, timeout_ms);\n+        g_print (\"  MsgWaitForMultipleObjectsEx(%d, %lu)\\n\", nhandles, timeout_ms);\n@@ -180,1 +180,1 @@\n-  g_print (\"  WaitForMultipleObjectsEx(%d, %d)\\n\", nhandles, timeout_ms);\n+        g_print (\"  WaitForMultipleObjectsEx(%d, %lu)\\n\", nhandles, timeout_ms);\n@@ -219,1 +219,1 @@\n-  else if (ready >= WAIT_OBJECT_0 && ready < WAIT_OBJECT_0 + nhandles)\n+  else if (ready < WAIT_OBJECT_0 + nhandles)\n@@ -261,1 +261,1 @@\n-  gint timeout_ms;\n+  DWORD    timeout_ms;\n@@ -298,1 +298,1 @@\n-                       gint                  timeout_ms,\n+                       DWORD                 timeout_ms,\n@@ -477,1 +477,1 @@\n-        retval = retval == -1 ? -1 : thread_retval == -1 ? -1 : retval + thread_retval;\n+        retval = (retval == -1) ? -1 : ((thread_retval == (DWORD) -1) ? -1 : (int) (retval + thread_retval));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gpoll.c","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -260,1 +260,1 @@\n- *          string precision pitfalls][string-precision]\n+ *          [string precision pitfalls][string-precision]\n@@ -298,1 +298,2 @@\n- * @string: (not optional) (nullable): the return location for the newly-allocated string.\n+ * @string: (not optional) (nullable): the return location for the newly-allocated string,\n+ *   which will be %NULL if (and only if) this function fails\n@@ -315,1 +316,1 @@\n- * Returns: the number of bytes printed.\n+ * Returns: the number of bytes printed, or `-1` on failure\n@@ -359,0 +360,6 @@\n+\n+    if (len < 0)\n+      {\n+        g_free (*string);\n+        *string = NULL;\n+      }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gprintf.c","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n- * To initialize a statically-allocated GQueue, use #G_QUEUE_INIT or\n+ * To initialize a statically-allocated GQueue, use %G_QUEUE_INIT or\n@@ -121,1 +121,1 @@\n- * #G_QUEUE_INIT. It is not necessary to initialize queues created with\n+ * %G_QUEUE_INIT. It is not necessary to initialize queues created with\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gqueue.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -269,1 +269,1 @@\n-  gint i;\n+  gsize i;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grand.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+#include <glib\/glib-typeof.h>\n@@ -74,1 +75,1 @@\n-#ifdef g_has_typeof\n+#if defined(glib_typeof)\n@@ -76,4 +77,4 @@\n-# define g_rc_box_acquire(mem_block) \\\n-  ((__typeof__(mem_block)) (g_rc_box_acquire) (mem_block))\n-# define g_atomic_rc_box_acquire(mem_block) \\\n-  ((__typeof__(mem_block)) (g_atomic_rc_box_acquire) (mem_block))\n+#define g_rc_box_acquire(mem_block) \\\n+  ((glib_typeof (mem_block)) (g_rc_box_acquire) (mem_block))\n+#define g_atomic_rc_box_acquire(mem_block) \\\n+  ((glib_typeof (mem_block)) (g_atomic_rc_box_acquire) (mem_block))\n@@ -82,4 +83,4 @@\n-# define g_rc_box_dup(block_size,mem_block) \\\n-  ((__typeof__(mem_block)) (g_rc_box_dup) (block_size,mem_block))\n-# define g_atomic_rc_box_dup(block_size,mem_block) \\\n-  ((__typeof__(mem_block)) (g_atomic_rc_box_dup) (block_size,mem_block))\n+#define g_rc_box_dup(block_size, mem_block) \\\n+  ((glib_typeof (mem_block)) (g_rc_box_dup) (block_size, mem_block))\n+#define g_atomic_rc_box_dup(block_size, mem_block) \\\n+  ((glib_typeof (mem_block)) (g_atomic_rc_box_dup) (block_size, mem_block))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grcbox.h","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n- * Initializes a reference count variable.\n+ * Initializes a reference count variable to 1.\n@@ -145,0 +145,4 @@\n+ * If %TRUE is returned, the reference count reached 0. After this point, @rc\n+ * is an undefined state and must be reinitialized with\n+ * g_ref_count_init() to be used again.\n+ *\n@@ -202,1 +206,1 @@\n- * Initializes a reference count variable.\n+ * Initializes a reference count variable to 1.\n@@ -234,2 +238,1 @@\n-  g_return_if_fail (arc != NULL);\n-  g_return_if_fail (g_atomic_int_get (arc) > 0);\n+  gint old_value;\n@@ -237,5 +240,3 @@\n-  if (g_atomic_int_get (arc) == G_MAXINT)\n-    {\n-      g_critical (\"Reference count has reached saturation\");\n-      return;\n-    }\n+  g_return_if_fail (arc != NULL);\n+  old_value = g_atomic_int_add (arc, 1);\n+  g_return_if_fail (old_value > 0);\n@@ -243,1 +244,2 @@\n-  g_atomic_int_inc (arc);\n+  if (old_value == G_MAXINT)\n+    g_critical (\"Reference count has reached saturation\");\n@@ -252,0 +254,4 @@\n+ * If %TRUE is returned, the reference count reached 0. After this point, @arc\n+ * is an undefined state and must be reinitialized with\n+ * g_atomic_ref_count_init() to be used again.\n+ *\n@@ -259,0 +265,2 @@\n+  gint old_value;\n+\n@@ -260,1 +268,2 @@\n-  g_return_val_if_fail (g_atomic_int_get (arc) > 0, FALSE);\n+  old_value = g_atomic_int_add (arc, -1);\n+  g_return_val_if_fail (old_value > 0, FALSE);\n@@ -262,1 +271,1 @@\n-  return g_atomic_int_dec_and_test (arc);\n+  return old_value == 1;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/grefcount.c","additions":21,"deletions":12,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -219,1 +219,1 @@\n- *     identifiers (the default is #G_CSET_a_2_z, \"_\", and #G_CSET_A_2_Z).\n+ *     identifiers (the default is %G_CSET_a_2_z, \"_\", and %G_CSET_A_2_Z).\n@@ -222,2 +222,2 @@\n- *     #G_CSET_a_2_z, \"_0123456789\", #G_CSET_A_2_Z, #G_CSET_LATINS,\n- *     #G_CSET_LATINC).\n+ *     %G_CSET_a_2_z, \"_0123456789\", %G_CSET_A_2_Z, %G_CSET_LATINS,\n+ *     %G_CSET_LATINC).\n@@ -259,1 +259,1 @@\n- *     are reported as #G_TOKEN_INT (the default is %TRUE).\n+ *     are reported as %G_TOKEN_INT (the default is %TRUE).\n@@ -278,7 +278,7 @@\n-#define to_lower(c)             ( \\\n-    (guchar) (                          \\\n-      ( (((guchar)(c))>='A' && ((guchar)(c))<='Z') * ('a'-'A') ) |  \\\n-      ( (((guchar)(c))>=192 && ((guchar)(c))<=214) * (224-192) ) |  \\\n-      ( (((guchar)(c))>=216 && ((guchar)(c))<=222) * (248-216) ) |  \\\n-      ((guchar)(c))                         \\\n-    )                               \\\n+#define to_lower(c)                             ( \\\n+        (guchar) (                                                      \\\n+          ( (((guchar)(c))>='A' && ((guchar)(c))<='Z') * ('a'-'A') ) |  \\\n+          ( (((guchar)(c))>=192 && ((guchar)(c))<=214) * (224-192) ) |  \\\n+          ( (((guchar)(c))>=216 && ((guchar)(c))<=222) * (248-216) ) |  \\\n+          ((guchar)(c))                                                 \\\n+        )                                                               \\\n@@ -286,1 +286,1 @@\n-#define READ_BUFFER_SIZE    (4000)\n+#define READ_BUFFER_SIZE        (4000)\n@@ -294,3 +294,3 @@\n-  guint      scope_id;\n-  gchar     *symbol;\n-  gpointer   value;\n+  guint          scope_id;\n+  gchar         *symbol;\n+  gpointer       value;\n@@ -305,1 +305,1 @@\n-   )            \/* cset_skip_characters *\/,\n+   )                    \/* cset_skip_characters *\/,\n@@ -310,1 +310,1 @@\n-   )            \/* cset_identifier_first *\/,\n+   )                    \/* cset_identifier_first *\/,\n@@ -318,27 +318,27 @@\n-   )            \/* cset_identifier_nth *\/,\n-  ( \"#\\n\" )     \/* cpair_comment_single *\/,\n-\n-  FALSE         \/* case_sensitive *\/,\n-\n-  TRUE          \/* skip_comment_multi *\/,\n-  TRUE          \/* skip_comment_single *\/,\n-  TRUE          \/* scan_comment_multi *\/,\n-  TRUE          \/* scan_identifier *\/,\n-  FALSE         \/* scan_identifier_1char *\/,\n-  FALSE         \/* scan_identifier_NULL *\/,\n-  TRUE          \/* scan_symbols *\/,\n-  FALSE         \/* scan_binary *\/,\n-  TRUE          \/* scan_octal *\/,\n-  TRUE          \/* scan_float *\/,\n-  TRUE          \/* scan_hex *\/,\n-  FALSE         \/* scan_hex_dollar *\/,\n-  TRUE          \/* scan_string_sq *\/,\n-  TRUE          \/* scan_string_dq *\/,\n-  TRUE          \/* numbers_2_int *\/,\n-  FALSE         \/* int_2_float *\/,\n-  FALSE         \/* identifier_2_string *\/,\n-  TRUE          \/* char_2_token *\/,\n-  FALSE         \/* symbol_2_token *\/,\n-  FALSE         \/* scope_0_fallback *\/,\n-  FALSE         \/* store_int64 *\/,\n-  0             \/* padding_dummy *\/\n+   )                    \/* cset_identifier_nth *\/,\n+  ( \"#\\n\" )             \/* cpair_comment_single *\/,\n+\n+  FALSE                 \/* case_sensitive *\/,\n+\n+  TRUE                  \/* skip_comment_multi *\/,\n+  TRUE                  \/* skip_comment_single *\/,\n+  TRUE                  \/* scan_comment_multi *\/,\n+  TRUE                  \/* scan_identifier *\/,\n+  FALSE                 \/* scan_identifier_1char *\/,\n+  FALSE                 \/* scan_identifier_NULL *\/,\n+  TRUE                  \/* scan_symbols *\/,\n+  FALSE                 \/* scan_binary *\/,\n+  TRUE                  \/* scan_octal *\/,\n+  TRUE                  \/* scan_float *\/,\n+  TRUE                  \/* scan_hex *\/,\n+  FALSE                 \/* scan_hex_dollar *\/,\n+  TRUE                  \/* scan_string_sq *\/,\n+  TRUE                  \/* scan_string_dq *\/,\n+  TRUE                  \/* numbers_2_int *\/,\n+  FALSE                 \/* int_2_float *\/,\n+  FALSE                 \/* identifier_2_string *\/,\n+  TRUE                  \/* char_2_token *\/,\n+  FALSE                 \/* symbol_2_token *\/,\n+  FALSE                 \/* scope_0_fallback *\/,\n+  FALSE                 \/* store_int64 *\/,\n+  0                     \/* padding_dummy *\/\n@@ -350,4 +350,4 @@\n-GScannerKey*    g_scanner_lookup_internal (GScanner *scanner,\n-                       guint     scope_id,\n-                       const gchar  *symbol);\n-static gboolean g_scanner_key_equal   (gconstpointer v1,\n+GScannerKey*    g_scanner_lookup_internal (GScanner     *scanner,\n+                                           guint         scope_id,\n+                                           const gchar  *symbol);\n+static gboolean g_scanner_key_equal       (gconstpointer v1,\n@@ -355,19 +355,19 @@\n-static guint    g_scanner_key_hash    (gconstpointer v);\n-static void g_scanner_get_token_ll    (GScanner *scanner,\n-                       GTokenType   *token_p,\n-                       GTokenValue  *value_p,\n-                       guint    *line_p,\n-                       guint    *position_p);\n-static void g_scanner_get_token_i     (GScanner *scanner,\n-                       GTokenType   *token_p,\n-                       GTokenValue  *value_p,\n-                       guint    *line_p,\n-                       guint    *position_p);\n-\n-static guchar   g_scanner_peek_next_char  (GScanner *scanner);\n-static guchar   g_scanner_get_char    (GScanner *scanner,\n-                       guint    *line_p,\n-                       guint    *position_p);\n-static void g_scanner_msg_handler     (GScanner *scanner,\n-                       gchar    *message,\n-                       gboolean  is_error);\n+static guint    g_scanner_key_hash        (gconstpointer v);\n+static void     g_scanner_get_token_ll    (GScanner     *scanner,\n+                                           GTokenType   *token_p,\n+                                           GTokenValue  *value_p,\n+                                           guint        *line_p,\n+                                           guint        *position_p);\n+static void     g_scanner_get_token_i     (GScanner     *scanner,\n+                                           GTokenType   *token_p,\n+                                           GTokenValue  *value_p,\n+                                           guint        *line_p,\n+                                           guint        *position_p);\n+\n+static guchar   g_scanner_peek_next_char  (GScanner     *scanner);\n+static guchar   g_scanner_get_char        (GScanner     *scanner,\n+                                           guint        *line_p,\n+                                           guint        *position_p);\n+static void     g_scanner_msg_handler     (GScanner     *scanner,\n+                                           gchar        *message,\n+                                           gboolean      is_error);\n@@ -379,1 +379,1 @@\n-              guchar    base)\n+                      guchar    base)\n@@ -427,1 +427,1 @@\n-  scanner->config->case_sensitive    = config_templ->case_sensitive;\n+  scanner->config->case_sensitive        = config_templ->case_sensitive;\n@@ -437,1 +437,1 @@\n-  scanner->config->scan_identifier   = config_templ->scan_identifier;\n+  scanner->config->scan_identifier       = config_templ->scan_identifier;\n@@ -440,10 +440,10 @@\n-  scanner->config->scan_symbols      = config_templ->scan_symbols;\n-  scanner->config->scan_binary       = config_templ->scan_binary;\n-  scanner->config->scan_octal        = config_templ->scan_octal;\n-  scanner->config->scan_float        = config_templ->scan_float;\n-  scanner->config->scan_hex      = config_templ->scan_hex;\n-  scanner->config->scan_hex_dollar   = config_templ->scan_hex_dollar;\n-  scanner->config->scan_string_sq    = config_templ->scan_string_sq;\n-  scanner->config->scan_string_dq    = config_templ->scan_string_dq;\n-  scanner->config->numbers_2_int     = config_templ->numbers_2_int;\n-  scanner->config->int_2_float       = config_templ->int_2_float;\n+  scanner->config->scan_symbols          = config_templ->scan_symbols;\n+  scanner->config->scan_binary           = config_templ->scan_binary;\n+  scanner->config->scan_octal            = config_templ->scan_octal;\n+  scanner->config->scan_float            = config_templ->scan_float;\n+  scanner->config->scan_hex              = config_templ->scan_hex;\n+  scanner->config->scan_hex_dollar       = config_templ->scan_hex_dollar;\n+  scanner->config->scan_string_sq        = config_templ->scan_string_sq;\n+  scanner->config->scan_string_dq        = config_templ->scan_string_dq;\n+  scanner->config->numbers_2_int         = config_templ->numbers_2_int;\n+  scanner->config->int_2_float           = config_templ->int_2_float;\n@@ -451,4 +451,4 @@\n-  scanner->config->char_2_token      = config_templ->char_2_token;\n-  scanner->config->symbol_2_token    = config_templ->symbol_2_token;\n-  scanner->config->scope_0_fallback  = config_templ->scope_0_fallback;\n-  scanner->config->store_int64       = config_templ->store_int64;\n+  scanner->config->char_2_token          = config_templ->char_2_token;\n+  scanner->config->symbol_2_token        = config_templ->symbol_2_token;\n+  scanner->config->scope_0_fallback      = config_templ->scope_0_fallback;\n+  scanner->config->store_int64           = config_templ->store_int64;\n@@ -533,3 +533,3 @@\n-g_scanner_msg_handler (GScanner     *scanner,\n-               gchar        *message,\n-               gboolean     is_error)\n+g_scanner_msg_handler (GScanner         *scanner,\n+                       gchar            *message,\n+                       gboolean         is_error)\n@@ -556,2 +556,2 @@\n-g_scanner_error (GScanner   *scanner,\n-         const gchar    *format,\n+g_scanner_error (GScanner       *scanner,\n+                 const gchar    *format,\n@@ -636,3 +636,3 @@\n-g_scanner_lookup_internal (GScanner *scanner,\n-               guint     scope_id,\n-               const gchar  *symbol)\n+g_scanner_lookup_internal (GScanner     *scanner,\n+                           guint         scope_id,\n+                           const gchar  *symbol)\n@@ -688,3 +688,3 @@\n-                guint    scope_id,\n-                const gchar *symbol,\n-                gpointer     value)\n+                            guint        scope_id,\n+                            const gchar *symbol,\n+                            gpointer     value)\n@@ -742,1 +742,1 @@\n-                   guint        scope_id,\n+                               guint        scope_id,\n@@ -791,2 +791,2 @@\n-g_scanner_lookup_symbol (GScanner   *scanner,\n-             const gchar    *symbol)\n+g_scanner_lookup_symbol (GScanner       *scanner,\n+                         const gchar    *symbol)\n@@ -828,1 +828,1 @@\n-                   guint           scope_id,\n+                               guint           scope_id,\n@@ -857,1 +857,1 @@\n-             guint       scope_id)\n+                     guint           scope_id)\n@@ -915,3 +915,3 @@\n-                guint       scope_id,\n-                GHFunc      func,\n-                gpointer    user_data)\n+                                guint           scope_id,\n+                                GHFunc          func,\n+                                gpointer        user_data)\n@@ -949,1 +949,1 @@\n-g_scanner_peek_next_token (GScanner *scanner)\n+g_scanner_peek_next_token (GScanner     *scanner)\n@@ -979,1 +979,1 @@\n-g_scanner_get_next_token (GScanner  *scanner)\n+g_scanner_get_next_token (GScanner      *scanner)\n@@ -1108,1 +1108,1 @@\n-              gint  input_fd)\n+                      gint      input_fd)\n@@ -1141,1 +1141,1 @@\n-              guint    text_len)\n+                      guint        text_len)\n@@ -1244,2 +1244,2 @@\n-            guint   *line_p,\n-            guint   *position_p)\n+                    guint       *line_p,\n+                    guint       *position_p)\n@@ -1325,7 +1325,7 @@\n-g_scanner_unexp_token (GScanner     *scanner,\n-               GTokenType    expected_token,\n-               const gchar  *identifier_spec,\n-               const gchar  *symbol_spec,\n-               const gchar  *symbol_name,\n-               const gchar  *message,\n-               gint      is_error)\n+g_scanner_unexp_token (GScanner         *scanner,\n+                       GTokenType        expected_token,\n+                       const gchar      *identifier_spec,\n+                       const gchar      *symbol_spec,\n+                       const gchar      *symbol_name,\n+                       const gchar      *message,\n+                       gint              is_error)\n@@ -1653,4 +1653,4 @@\n-               GTokenType   *token_p,\n-               GTokenValue  *value_p,\n-               guint        *line_p,\n-               guint        *position_p)\n+                       GTokenType       *token_p,\n+                       GTokenValue      *value_p,\n+                       guint            *line_p,\n+                       guint            *position_p)\n@@ -1676,1 +1676,1 @@\n-  *token_p = G_TOKEN_STRING;\n+        *token_p = G_TOKEN_STRING;\n@@ -1681,1 +1681,1 @@\n-  *token_p = (GTokenType) value_p->v_symbol;\n+        *token_p = (GTokenType) ((size_t) value_p->v_symbol);\n@@ -1688,1 +1688,1 @@\n-  *token_p = G_TOKEN_INT;\n+        *token_p = G_TOKEN_INT;\n@@ -1695,1 +1695,1 @@\n-  if (*token_p == G_TOKEN_INT &&\n+if (*token_p == G_TOKEN_INT &&\n@@ -1699,0 +1699,3 @@\n+\n+      \/* Have to assign through a temporary variable to avoid undefined behaviour\n+       * by copying between potentially-overlapping union members. *\/\n@@ -1701,1 +1704,2 @@\n-          value_p->v_float = value_p->v_int64;\n+          gint64 temp = value_p->v_int64;\n+          value_p->v_float = temp;\n@@ -1704,1 +1708,4 @@\n-  value_p->v_float = value_p->v_int;\n+        {\n+          gint temp = value_p->v_int;\n+          value_p->v_float = temp;\n+        }\n@@ -1711,5 +1718,5 @@\n-g_scanner_get_token_ll  (GScanner   *scanner,\n-             GTokenType *token_p,\n-             GTokenValue    *value_p,\n-             guint      *line_p,\n-             guint      *position_p)\n+g_scanner_get_token_ll  (GScanner       *scanner,\n+                         GTokenType     *token_p,\n+                         GTokenValue    *value_p,\n+                         guint          *line_p,\n+                         guint          *position_p)\n@@ -1719,5 +1726,5 @@\n-  gboolean     in_comment_multi;\n-  gboolean     in_comment_single;\n-  gboolean     in_string_sq;\n-  gboolean     in_string_dq;\n-  GString     *gstring;\n+  gboolean         in_comment_multi;\n+  gboolean         in_comment_single;\n+  gboolean         in_string_sq;\n+  gboolean         in_string_dq;\n+  GString         *gstring;\n@@ -1725,1 +1732,1 @@\n-  guchar       ch;\n+  guchar           ch;\n@@ -1829,2 +1836,2 @@\n-              guint i;\n-              guint fchar;\n+                          guint i;\n+                          guint fchar;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gscanner.c","additions":146,"deletions":139,"binary":false,"changes":285,"status":"modified"},{"patch":"@@ -532,1 +532,1 @@\n-  G_UNICODE_SCRIPT_COMMON, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_COMMON, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n@@ -731,16 +731,0 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -754,0 +738,6 @@\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -760,4 +750,14 @@\n-  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n+  G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC, G_UNICODE_SCRIPT_ARABIC,\n@@ -1055,1 +1055,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_TELUGU, G_UNICODE_SCRIPT_TELUGU,\n+  G_UNICODE_SCRIPT_TELUGU, G_UNICODE_SCRIPT_TELUGU, G_UNICODE_SCRIPT_TELUGU,\n@@ -1066,1 +1066,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_TELUGU, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -1108,1 +1108,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_KANNADA,\n@@ -1978,1 +1978,0 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG,\n@@ -1980,1 +1979,2 @@\n-  G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG,\n+  G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_TAGALOG,\n@@ -1984,1 +1984,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_HANUNOO, G_UNICODE_SCRIPT_HANUNOO,\n+  G_UNICODE_SCRIPT_TAGALOG, G_UNICODE_SCRIPT_HANUNOO, G_UNICODE_SCRIPT_HANUNOO,\n@@ -2064,1 +2064,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_MONGOLIAN, G_UNICODE_SCRIPT_MONGOLIAN,\n+  G_UNICODE_SCRIPT_MONGOLIAN, G_UNICODE_SCRIPT_MONGOLIAN, G_UNICODE_SCRIPT_MONGOLIAN,\n@@ -2294,5 +2294,5 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -2340,1 +2340,1 @@\n-  G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN,\n+  G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_UNKNOWN,\n@@ -2356,2 +2356,2 @@\n-  G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_UNKNOWN,\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_SUNDANESE,\n+  G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_BALINESE,\n+  G_UNICODE_SCRIPT_BALINESE, G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_SUNDANESE,\n@@ -2569,1 +2569,1 @@\n-  G_UNICODE_SCRIPT_UNKNOWN, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n+  G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED, G_UNICODE_SCRIPT_INHERITED,\n@@ -2758,1 +2758,1 @@\n- { 0x20a0,    32, G_UNICODE_SCRIPT_COMMON },\n+ { 0x20a0,    33, G_UNICODE_SCRIPT_COMMON },\n@@ -2778,2 +2778,1 @@\n- { 0x2c00,    47, G_UNICODE_SCRIPT_GLAGOLITIC },\n- { 0x2c30,    47, G_UNICODE_SCRIPT_GLAGOLITIC },\n+ { 0x2c00,    96, G_UNICODE_SCRIPT_GLAGOLITIC },\n@@ -2799,1 +2798,1 @@\n- { 0x2e00,    83, G_UNICODE_SCRIPT_COMMON },\n+ { 0x2e00,    94, G_UNICODE_SCRIPT_COMMON },\n@@ -2839,1 +2838,1 @@\n- { 0x4e00, 20989, G_UNICODE_SCRIPT_HAN },\n+ { 0x4e00, 20992, G_UNICODE_SCRIPT_HAN },\n@@ -2849,3 +2848,5 @@\n- { 0xa78b,    53, G_UNICODE_SCRIPT_LATIN },\n- { 0xa7c2,     9, G_UNICODE_SCRIPT_LATIN },\n- { 0xa7f5,    11, G_UNICODE_SCRIPT_LATIN },\n+ { 0xa78b,    64, G_UNICODE_SCRIPT_LATIN },\n+ { 0xa7d0,     2, G_UNICODE_SCRIPT_LATIN },\n+ { 0xa7d3,     1, G_UNICODE_SCRIPT_LATIN },\n+ { 0xa7d5,     5, G_UNICODE_SCRIPT_LATIN },\n+ { 0xa7f2,    14, G_UNICODE_SCRIPT_LATIN },\n@@ -2904,1 +2905,1 @@\n- { 0xfb50,   114, G_UNICODE_SCRIPT_ARABIC },\n+ { 0xfb50,   115, G_UNICODE_SCRIPT_ARABIC },\n@@ -2907,1 +2908,1 @@\n- { 0xfd50,    64, G_UNICODE_SCRIPT_ARABIC },\n+ { 0xfd40,    80, G_UNICODE_SCRIPT_ARABIC },\n@@ -2909,1 +2910,2 @@\n- { 0xfdf0,    14, G_UNICODE_SCRIPT_ARABIC },\n+ { 0xfdcf,     1, G_UNICODE_SCRIPT_ARABIC },\n+ { 0xfdf0,    16, G_UNICODE_SCRIPT_ARABIC },\n@@ -2973,0 +2975,8 @@\n+ { 0x10570,    11, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x1057c,    15, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x1058c,     7, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x10594,     2, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x10597,    11, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x105a3,    15, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x105b3,     7, G_UNICODE_SCRIPT_VITHKUQI },\n+ { 0x105bb,     2, G_UNICODE_SCRIPT_VITHKUQI },\n@@ -2976,0 +2986,3 @@\n+ { 0x10780,     6, G_UNICODE_SCRIPT_LATIN },\n+ { 0x10787,    42, G_UNICODE_SCRIPT_LATIN },\n+ { 0x107b2,     9, G_UNICODE_SCRIPT_LATIN },\n@@ -3031,0 +3044,1 @@\n+ { 0x10f70,    26, G_UNICODE_SCRIPT_OLD_UYGHUR },\n@@ -3034,1 +3048,1 @@\n- { 0x11052,    30, G_UNICODE_SCRIPT_BRAHMI },\n+ { 0x11052,    36, G_UNICODE_SCRIPT_BRAHMI },\n@@ -3036,1 +3050,1 @@\n- { 0x11080,    66, G_UNICODE_SCRIPT_KAITHI },\n+ { 0x11080,    67, G_UNICODE_SCRIPT_KAITHI },\n@@ -3079,1 +3093,1 @@\n- { 0x11680,    57, G_UNICODE_SCRIPT_TAKRI },\n+ { 0x11680,    58, G_UNICODE_SCRIPT_TAKRI },\n@@ -3083,1 +3097,1 @@\n- { 0x11730,    16, G_UNICODE_SCRIPT_AHOM },\n+ { 0x11730,    23, G_UNICODE_SCRIPT_AHOM },\n@@ -3100,0 +3114,1 @@\n+ { 0x11ab0,    16, G_UNICODE_SCRIPT_CANADIAN_ABORIGINAL },\n@@ -3129,0 +3144,1 @@\n+ { 0x12f90,    99, G_UNICODE_SCRIPT_CYPRO_MINOAN },\n@@ -3136,0 +3152,2 @@\n+ { 0x16a70,    79, G_UNICODE_SCRIPT_TANGSA },\n+ { 0x16ac0,    10, G_UNICODE_SCRIPT_TANGSA },\n@@ -3149,1 +3167,1 @@\n- { 0x16fe2,     2, G_UNICODE_SCRIPT_COMMON },\n+ { 0x16fe2,     2, G_UNICODE_SCRIPT_HAN },\n@@ -3156,0 +3174,3 @@\n+ { 0x1aff0,     4, G_UNICODE_SCRIPT_KATAKANA },\n+ { 0x1aff5,     7, G_UNICODE_SCRIPT_KATAKANA },\n+ { 0x1affd,     2, G_UNICODE_SCRIPT_KATAKANA },\n@@ -3157,1 +3178,2 @@\n- { 0x1b001,   286, G_UNICODE_SCRIPT_HIRAGANA },\n+ { 0x1b001,   287, G_UNICODE_SCRIPT_HIRAGANA },\n+ { 0x1b120,     3, G_UNICODE_SCRIPT_KATAKANA },\n@@ -3167,0 +3189,3 @@\n+ { 0x1cf00,    46, G_UNICODE_SCRIPT_INHERITED },\n+ { 0x1cf30,    23, G_UNICODE_SCRIPT_INHERITED },\n+ { 0x1cf50,   116, G_UNICODE_SCRIPT_COMMON },\n@@ -3177,1 +3202,1 @@\n- { 0x1d1ae,    59, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1d1ae,    61, G_UNICODE_SCRIPT_COMMON },\n@@ -3206,0 +3231,1 @@\n+ { 0x1df00,    31, G_UNICODE_SCRIPT_LATIN },\n@@ -3215,0 +3241,1 @@\n+ { 0x1e290,    31, G_UNICODE_SCRIPT_TOTO },\n@@ -3217,0 +3244,4 @@\n+ { 0x1e7e0,     7, G_UNICODE_SCRIPT_ETHIOPIC },\n+ { 0x1e7e8,     4, G_UNICODE_SCRIPT_ETHIOPIC },\n+ { 0x1e7ed,     2, G_UNICODE_SCRIPT_ETHIOPIC },\n+ { 0x1e7f0,    15, G_UNICODE_SCRIPT_ETHIOPIC },\n@@ -3273,1 +3304,1 @@\n- { 0x1f6e0,    13, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1f6dd,    16, G_UNICODE_SCRIPT_COMMON },\n@@ -3278,0 +3309,1 @@\n+ { 0x1f7f0,     1, G_UNICODE_SCRIPT_COMMON },\n@@ -3284,3 +3316,1 @@\n- { 0x1f900,   121, G_UNICODE_SCRIPT_COMMON },\n- { 0x1f97a,    82, G_UNICODE_SCRIPT_COMMON },\n- { 0x1f9cd,   135, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1f900,   340, G_UNICODE_SCRIPT_COMMON },\n@@ -3289,1 +3319,1 @@\n- { 0x1fa78,     3, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fa78,     5, G_UNICODE_SCRIPT_COMMON },\n@@ -3291,4 +3321,6 @@\n- { 0x1fa90,    25, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fab0,     7, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fac0,     3, G_UNICODE_SCRIPT_COMMON },\n- { 0x1fad0,     7, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fa90,    29, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fab0,    11, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fac0,     6, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fad0,    10, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1fae0,     8, G_UNICODE_SCRIPT_COMMON },\n+ { 0x1faf0,     7, G_UNICODE_SCRIPT_COMMON },\n@@ -3298,2 +3330,2 @@\n- { 0x20000, 42718, G_UNICODE_SCRIPT_HAN },\n- { 0x2a700,  4149, G_UNICODE_SCRIPT_HAN },\n+ { 0x20000, 42720, G_UNICODE_SCRIPT_HAN },\n+ { 0x2a700,  4153, G_UNICODE_SCRIPT_HAN },\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gscripttable.h","additions":98,"deletions":66,"binary":false,"changes":164,"status":"modified"},{"patch":"@@ -123,0 +123,1 @@\n+  guint32               priority;\n@@ -610,1 +611,1 @@\n-  GSequence *src_seq, *end_seq, *dest_seq;\n+  GSequence *src_seq, *end_seq, *dest_seq = NULL;\n@@ -1258,3 +1259,3 @@\n- * Returns the length of @seq. Note that this method is O(h) where `h' is the\n- * height of the tree. It is thus more efficient to use g_sequence_is_empty()\n- * when comparing the length to zero.\n+ * Returns the positive length (>= 0) of @seq. Note that this method is\n+ * O(h) where `h' is the height of the tree. It is thus more efficient\n+ * to use g_sequence_is_empty() when comparing the length to zero.\n@@ -1575,2 +1576,2 @@\n-static guint\n-get_priority (GSequenceNode *node)\n+static guint32\n+hash_uint32 (guint32 key)\n@@ -1578,2 +1579,0 @@\n-  guint key = GPOINTER_TO_UINT (node);\n-\n@@ -1593,0 +1592,14 @@\n+  return key;\n+}\n+\n+static inline guint\n+get_priority (GSequenceNode *node)\n+{\n+  return node->priority;\n+}\n+\n+static guint\n+make_priority (guint32 key)\n+{\n+  key = hash_uint32 (key);\n+\n@@ -1611,0 +1624,32 @@\n+  \/*\n+   * Make a random number quickly. Some binary magic is used to avoid\n+   * the costs of proper RNG, such as locking around global GRand.\n+   *\n+   * Using just the node pointer alone is not enough, because in this\n+   * case freeing and re-allocating sequence causes node's priorities\n+   * to no longer be random. This happens for two reasons:\n+   * 1) Nodes are freed from the root and the treap's property is that\n+   *    node's priority is >= than its children's priorities.\n+   * 2) g_slice_new0() will reuse freed nodes in the order similar to\n+   *    the order of freeing.\n+   * As a result, there are severe problems where building the treap is\n+   * much slower (100x and more after a few sequence new\/free\n+   * iterations) and treap becomes more like a list (tree height\n+   * approaches tree's number of elements), which increases costs of\n+   * using the built treap.\n+   *\n+   * Note that for performance reasons, counter completely ignores\n+   * multi-threading issues. This is fine because it's merely a source\n+   * of additional randomness. Even if it fails to ++ sometimes, this\n+   * won't really matter for its goal.\n+   *\n+   * Note that 64-bit counter is used to avoid undefined behavior on\n+   * overflow.\n+   *\n+   * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2468\n+   *\/\n+  static guint64 counter = 0;\n+  guint32 hash_key = (guint32) GPOINTER_TO_UINT (node);\n+  hash_key ^= (guint32) counter;\n+  counter++;\n+\n@@ -1612,0 +1657,1 @@\n+  node->priority = make_priority (hash_key);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gsequence.c","additions":54,"deletions":8,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -51,3 +51,5 @@\n- * Error domain for shell functions. Errors in this domain will be from\n- * the #GShellError enumeration. See #GError for information on error\n- * domains.\n+ * Error domain for shell functions.\n+ *\n+ * Errors in this domain will be from the #GShellError enumeration.\n+ *\n+ * See #GError for information on error domains.\n@@ -194,4 +196,8 @@\n- * quoted string to mean @unquoted_string. If you pass a filename to\n- * the shell, for example, you should first quote it with this\n- * function.  The return value must be freed with g_free(). The\n- * quoting style used is undefined (single or double quotes may be\n+ * quoted string to mean @unquoted_string.\n+ *\n+ * If you pass a filename to the shell, for example, you should first\n+ * quote it with this function.\n+ *\n+ * The return value must be freed with g_free().\n+ *\n+ * The quoting style used is undefined (single or double quotes may be\n@@ -200,1 +206,1 @@\n- * Returns: (type filename): quoted string\n+ * Returns: (type filename) (transfer full): quoted string\n@@ -244,7 +250,9 @@\n- * Unquotes a string as the shell (\/bin\/sh) would. Only handles\n- * quotes; if a string contains file globs, arithmetic operators,\n- * variables, backticks, redirections, or other special-to-the-shell\n- * features, the result will be different from the result a real shell\n- * would produce (the variables, backticks, etc. will be passed\n- * through literally instead of being expanded). This function is\n- * guaranteed to succeed if applied to the result of\n+ * Unquotes a string as the shell (\/bin\/sh) would.\n+ *\n+ * This function only handles quotes; if a string contains file globs,\n+ * arithmetic operators, variables, backticks, redirections, or other\n+ * special-to-the-shell features, the result will be different from the\n+ * result a real shell would produce (the variables, backticks, etc.\n+ * will be passed through literally instead of being expanded).\n+ *\n+ * This function is guaranteed to succeed if applied to the result of\n@@ -252,6 +260,10 @@\n- * error. The @quoted_string need not actually contain quoted or\n- * escaped text; g_shell_unquote() simply goes through the string and\n- * unquotes\/unescapes anything that the shell would. Both single and\n- * double quotes are handled, as are escapes including escaped\n- * newlines. The return value must be freed with g_free(). Possible\n- * errors are in the #G_SHELL_ERROR domain.\n+ * error.\n+ *\n+ * The @quoted_string need not actually contain quoted or escaped text;\n+ * g_shell_unquote() simply goes through the string and unquotes\/unescapes\n+ * anything that the shell would. Both single and double quotes are\n+ * handled, as are escapes including escaped newlines.\n+ *\n+ * The return value must be freed with g_free().\n+ *\n+ * Possible errors are in the %G_SHELL_ERROR domain.\n@@ -261,4 +273,4 @@\n- * \\' - if you want a ' in the quoted text, you have to do something\n- * like 'foo'\\''bar'.  Double quotes allow $, `, \", \\, and newline to\n- * be escaped with backslash. Otherwise double quotes preserve things\n- * literally.\n+ * `\\'` - if you want a `'` in the quoted text, you have to do something\n+ * like `'foo'\\''bar'`. Double quotes allow `$`, ```, `\"`, `\\`, and\n+ * newline to be escaped with backslash. Otherwise double quotes\n+ * preserve things literally.\n@@ -628,6 +640,15 @@\n- * etc. are not supported). The results are defined to be the same as\n- * those you would get from a UNIX98 \/bin\/sh, as long as the input\n- * contains none of the unsupported shell expansions. If the input\n- * does contain such expansions, they are passed through\n- * literally. Possible errors are those from the #G_SHELL_ERROR\n- * domain. Free the returned vector with g_strfreev().\n+ * etc. are not supported).\n+ *\n+ * The results are defined to be the same as those you would get from\n+ * a UNIX98 `\/bin\/sh`, as long as the input contains none of the\n+ * unsupported shell expansions. If the input does contain such expansions,\n+ * they are passed through literally.\n+ *\n+ * Possible errors are those from the %G_SHELL_ERROR domain.\n+ *\n+ * In particular, if @command_line is an empty string (or a string containing\n+ * only whitespace), %G_SHELL_ERROR_EMPTY_STRING will be returned. It’s\n+ * guaranteed that @argvp will be a non-empty array if this function returns\n+ * successfully.\n+ *\n+ * Free the returned vector with g_strfreev().\n@@ -690,0 +711,3 @@\n+  g_assert (argc > 0);\n+  g_assert (argv != NULL && argv[0] != NULL);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gshell.c","additions":55,"deletions":31,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -385,1 +384,1 @@\n-  int len;\n+  gsize len;\n@@ -623,2 +622,2 @@\n-allocator_get_magazine_threshold (Allocator *allocator,\n-                                  guint      ix)\n+allocator_get_magazine_threshold (Allocator *local_allocator,\n+                                  guint ix)\n@@ -635,3 +634,3 @@\n-  gsize chunk_size = SLAB_CHUNK_SIZE (allocator, ix);\n-  guint threshold = MAX (MIN_MAGAZINE_SIZE, allocator->max_page_size \/ MAX (5 * chunk_size, 5 * 32));\n-  guint contention_counter = allocator->contention_counters[ix];\n+  gsize chunk_size = SLAB_CHUNK_SIZE (local_allocator, ix);\n+  guint threshold = MAX (MIN_MAGAZINE_SIZE, local_allocator->max_page_size \/ MAX (5 * chunk_size, 5 * 32));\n+  guint contention_counter = local_allocator->contention_counters[ix];\n@@ -689,3 +688,3 @@\n-magazine_cache_trim (Allocator *allocator,\n-                     guint      ix,\n-                     guint      stamp)\n+magazine_cache_trim (Allocator *local_allocator,\n+                     guint ix,\n+                     guint stamp)\n@@ -693,1 +692,1 @@\n-  \/* g_mutex_lock (allocator->mutex); done by caller *\/\n+  \/* g_mutex_lock (local_allocator->mutex); done by caller *\/\n@@ -695,1 +694,1 @@\n-  ChunkLink *current = magazine_chain_prev (allocator->magazines[ix]);\n+  ChunkLink *current = magazine_chain_prev (local_allocator->magazines[ix]);\n@@ -697,2 +696,2 @@\n-  while (!G_APPROX_VALUE(stamp, magazine_chain_uint_stamp (current),\n-                         allocator->config.working_set_msecs))\n+  while (!G_APPROX_VALUE (stamp, magazine_chain_uint_stamp (current),\n+                          local_allocator->config.working_set_msecs))\n@@ -712,1 +711,1 @@\n-      if (current == allocator->magazines[ix])\n+      if (current == local_allocator->magazines[ix])\n@@ -714,1 +713,1 @@\n-          allocator->magazines[ix] = NULL;\n+          local_allocator->magazines[ix] = NULL;\n@@ -719,1 +718,1 @@\n-  g_mutex_unlock (&allocator->magazine_mutex);\n+  g_mutex_unlock (&local_allocator->magazine_mutex);\n@@ -723,2 +722,2 @@\n-      const gsize chunk_size = SLAB_CHUNK_SIZE (allocator, ix);\n-      g_mutex_lock (&allocator->slab_mutex);\n+      const gsize chunk_size = SLAB_CHUNK_SIZE (local_allocator, ix);\n+      g_mutex_lock (&local_allocator->slab_mutex);\n@@ -736,1 +735,1 @@\n-      g_mutex_unlock (&allocator->slab_mutex);\n+      g_mutex_unlock (&local_allocator->slab_mutex);\n@@ -1011,0 +1010,1 @@\n+ *\n@@ -1029,0 +1029,1 @@\n+ *\n@@ -1030,4 +1031,5 @@\n- * to at least 1 * sizeof (void*),\n- * though in general slices are 2 * sizeof (void*) bytes aligned,\n- * if a malloc() fallback implementation is used instead,\n- * the alignment may be reduced in a libc dependent fashion.\n+ * to at least `1 * sizeof (void*)`, though in general slices\n+ * are `2 * sizeof (void*)` bytes aligned; if a `malloc()`\n+ * fallback implementation is used instead, the alignment may\n+ * be reduced in a libc dependent fashion.\n+ *\n@@ -1038,2 +1040,2 @@\n- * Returns: a pointer to the allocated memory block, which will be %NULL if and\n- *    only if @mem_size is 0\n+ * Returns: a pointer to the allocated memory block, which will\n+ *   be %NULL if and only if @mem_size is 0\n@@ -1304,3 +1306,3 @@\n-allocator_slab_stack_push (Allocator *allocator,\n-                           guint      ix,\n-                           SlabInfo  *sinfo)\n+allocator_slab_stack_push (Allocator *local_allocator,\n+                           guint ix,\n+                           SlabInfo *sinfo)\n@@ -1309,1 +1311,1 @@\n-  if (!allocator->slab_stack[ix])\n+  if (!local_allocator->slab_stack[ix])\n@@ -1316,1 +1318,1 @@\n-      SlabInfo *next = allocator->slab_stack[ix], *prev = next->prev;\n+      SlabInfo *next = local_allocator->slab_stack[ix], *prev = next->prev;\n@@ -1322,1 +1324,1 @@\n-  allocator->slab_stack[ix] = sinfo;\n+  local_allocator->slab_stack[ix] = sinfo;\n@@ -1326,2 +1328,2 @@\n-allocator_aligned_page_size (Allocator *allocator,\n-                             gsize      n_bytes)\n+allocator_aligned_page_size (Allocator *local_allocator,\n+                             gsize n_bytes)\n@@ -1329,2 +1331,2 @@\n-  gsize val = 1 << g_bit_storage (n_bytes - 1);\n-  val = MAX (val, allocator->min_page_size);\n+  gsize val = (gsize) 1 << g_bit_storage (n_bytes - 1);\n+  val = MAX (val, local_allocator->min_page_size);\n@@ -1335,3 +1337,3 @@\n-allocator_add_slab (Allocator *allocator,\n-                    guint      ix,\n-                    gsize      chunk_size)\n+allocator_add_slab (Allocator *local_allocator,\n+                    guint ix,\n+                    gsize chunk_size)\n@@ -1348,1 +1350,1 @@\n-  page_size = allocator_aligned_page_size (allocator, SLAB_BPAGE_SIZE (allocator, chunk_size));\n+  page_size = allocator_aligned_page_size (local_allocator, SLAB_BPAGE_SIZE (local_allocator, chunk_size));\n@@ -1373,2 +1375,2 @@\n-      color = (allocator->color_accu * P2ALIGNMENT) % padding;\n-      allocator->color_accu += allocator->config.color_increment;\n+      color = (local_allocator->color_accu * P2ALIGNMENT) % padding;\n+      local_allocator->color_accu += local_allocator->config.color_increment;\n@@ -1386,1 +1388,1 @@\n-  allocator_slab_stack_push (allocator, ix, sinfo);\n+  allocator_slab_stack_push (local_allocator, ix, sinfo);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gslice.c","additions":45,"deletions":43,"binary":false,"changes":88,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-#include \"gspawn-win32.c\"   \/* For shared definitions *\/\n+#include \"gspawn-win32.c\"       \/* For shared definitions *\/\n@@ -156,0 +156,12 @@\n+static int\n+checked_dup2 (int oldfd, int newfd, int report_fd)\n+{\n+  if (oldfd == newfd)\n+    return newfd;\n+\n+  if (dup2 (oldfd, newfd) == -1)\n+    write_err_and_exit (report_fd, CHILD_DUP_FAILED);\n+\n+  return newfd;\n+}\n+\n@@ -191,0 +203,1 @@\n+  GHashTable *fds;  \/* (element-type int int) *\/\n@@ -197,0 +210,1 @@\n+  int maxfd = 2;\n@@ -232,0 +246,1 @@\n+  maxfd = MAX (child_err_report_fd, maxfd);\n@@ -247,0 +262,1 @@\n+  maxfd = MAX (helper_sync_fd, maxfd);\n@@ -258,4 +274,1 @@\n-      if (fd != 0)\n-  {\n-    dup2 (fd, 0);\n-    close (fd);\n+      checked_dup2 (fd, 0, child_err_report_fd);\n@@ -263,1 +276,0 @@\n-    }\n@@ -267,4 +279,1 @@\n-      if (fd != 0)\n-  {\n-    dup2 (fd, 0);\n-    close (fd);\n+      checked_dup2 (fd, 0, child_err_report_fd);\n@@ -272,1 +281,0 @@\n-    }\n@@ -279,4 +287,1 @@\n-      if (fd != 1)\n-  {\n-    dup2 (fd, 1);\n-    close (fd);\n+      checked_dup2 (fd, 1, child_err_report_fd);\n@@ -284,1 +289,0 @@\n-    }\n@@ -288,4 +292,1 @@\n-      if (fd != 1)\n-  {\n-    dup2 (fd, 1);\n-    close (fd);\n+      checked_dup2 (fd, 1, child_err_report_fd);\n@@ -293,1 +294,0 @@\n-    }\n@@ -296,0 +296,4 @@\n+  if (saved_stderr_fd == -1)\n+    write_err_and_exit (child_err_report_fd, CHILD_DUP_FAILED);\n+\n+  maxfd = MAX (saved_stderr_fd, maxfd);\n@@ -301,5 +305,1 @@\n-      if (fd != 2)\n-  {\n-    dup2 (fd, 2);\n-    close (fd);\n-  }\n+      checked_dup2 (fd, 2, child_err_report_fd);\n@@ -310,5 +310,1 @@\n-      if (fd != 2)\n-  {\n-    dup2 (fd, 2);\n-    close (fd);\n-  }\n+      checked_dup2 (fd, 2, child_err_report_fd);\n@@ -326,0 +322,64 @@\n+  fds = g_hash_table_new (NULL, NULL);\n+  if (argv[ARG_FDS][0] != '-')\n+    {\n+      gchar **fdsv = g_strsplit (argv[ARG_FDS], \",\", -1);\n+      gsize i;\n+\n+      for (i = 0; fdsv[i]; i++)\n+        {\n+          char *endptr = NULL;\n+          int sourcefd, targetfd;\n+          gint64 val;\n+\n+          val = g_ascii_strtoll (fdsv[i], &endptr, 10);\n+          g_assert (val <= G_MAXINT32);\n+          sourcefd = val;\n+          g_assert (endptr != fdsv[i]);\n+          g_assert (*endptr == ':');\n+          val = g_ascii_strtoll (endptr + 1, &endptr, 10);\n+          targetfd = val;\n+          g_assert (val <= G_MAXINT32);\n+          g_assert (*endptr == '\\0');\n+\n+          maxfd = MAX (maxfd, sourcefd);\n+          maxfd = MAX (maxfd, targetfd);\n+\n+          g_hash_table_insert (fds, GINT_TO_POINTER (targetfd), GINT_TO_POINTER (sourcefd));\n+        }\n+\n+      g_strfreev (fdsv);\n+    }\n+\n+  maxfd++;\n+  child_err_report_fd = checked_dup2 (child_err_report_fd, maxfd, child_err_report_fd);\n+  maxfd++;\n+  helper_sync_fd = checked_dup2 (helper_sync_fd, maxfd, child_err_report_fd);\n+  maxfd++;\n+  saved_stderr_fd = checked_dup2 (saved_stderr_fd, maxfd, child_err_report_fd);\n+\n+  {\n+    GHashTableIter iter;\n+    gpointer sourcefd, targetfd;\n+\n+    g_hash_table_iter_init (&iter, fds);\n+    while (g_hash_table_iter_next (&iter, &targetfd, &sourcefd))\n+      {\n+        \/* If we're doing remapping fd assignments, we need to handle\n+         * the case where the user has specified e.g. 5 -> 4, 4 -> 6.\n+         * We do this by duping all source fds, taking care to ensure the new\n+         * fds are larger than any target fd to avoid introducing new conflicts.\n+         *\/\n+        maxfd++;\n+        checked_dup2 (GPOINTER_TO_INT (sourcefd), maxfd, child_err_report_fd);\n+        g_hash_table_iter_replace (&iter, GINT_TO_POINTER (maxfd));\n+      }\n+\n+    g_hash_table_iter_init (&iter, fds);\n+    while (g_hash_table_iter_next (&iter, &targetfd, &sourcefd))\n+      checked_dup2 (GPOINTER_TO_INT (sourcefd), GPOINTER_TO_INT (targetfd), child_err_report_fd);\n+  }\n+\n+  g_hash_table_add (fds, GINT_TO_POINTER (child_err_report_fd));\n+  g_hash_table_add (fds, GINT_TO_POINTER (helper_sync_fd));\n+  g_hash_table_add (fds, GINT_TO_POINTER (saved_stderr_fd));\n+\n@@ -331,1 +391,1 @@\n-      if (i != child_err_report_fd && i != helper_sync_fd && i != saved_stderr_fd)\n+      if (!g_hash_table_contains (fds, GINT_TO_POINTER (i)))\n@@ -340,0 +400,2 @@\n+  if (helper_sync_fd == -1)\n+    write_err_and_exit (child_err_report_fd, CHILD_DUP_FAILED);\n@@ -387,0 +449,1 @@\n+  g_hash_table_unref (fds);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn-win32-helper.c","additions":95,"deletions":32,"binary":false,"changes":127,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-#include \"glib.h\"\n+#include \"glib-init.h\"\n@@ -47,1 +47,1 @@\n-#include \"gprintfint.h\"\n+#include \"glib.h\"\n@@ -49,0 +49,1 @@\n+#include \"gprintfint.h\"\n@@ -70,11 +71,11 @@\n-  #define SETUP_DEBUG()                 \\\n-    G_STMT_START                    \\\n-      {                         \\\n-    if (debug == -1)                \\\n-      {                     \\\n-        if (g_getenv (\"G_SPAWN_WIN32_DEBUG\") != NULL)   \\\n-          debug = 1;                \\\n-        else                    \\\n-          debug = 0;                \\\n-      }                     \\\n-      }                         \\\n+  #define SETUP_DEBUG()                                 \\\n+    G_STMT_START                                        \\\n+      {                                                 \\\n+        if (debug == -1)                                \\\n+          {                                             \\\n+            if (g_getenv (\"G_SPAWN_WIN32_DEBUG\") != NULL)       \\\n+              debug = 1;                                \\\n+            else                                        \\\n+              debug = 0;                                \\\n+          }                                             \\\n+      }                                                 \\\n@@ -91,0 +92,1 @@\n+  CHILD_DUP_FAILED,\n@@ -103,0 +105,1 @@\n+  ARG_FDS,\n@@ -194,2 +197,2 @@\n-protect_argv (gchar  **argv,\n-        gchar ***new_argv)\n+protect_argv (const gchar * const   *argv,\n+              gchar               ***new_argv)\n@@ -233,1 +236,1 @@\n-               GPid                 *child_handle,\n+               GPid                 *child_pid,\n@@ -236,1 +239,1 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n+  g_return_val_if_fail (argv != NULL && argv[0] != NULL, FALSE);\n@@ -243,1 +246,1 @@\n-                                   child_handle,\n+                                   child_pid,\n@@ -327,1 +330,1 @@\n-  gint bytes = 0;\n+  gsize bytes = 0;\n@@ -381,3 +384,3 @@\n-       _(\"Failed to change to directory '%s' (%s)\"),\n-       working_directory,\n-       g_strerror (report[1]));\n+                   _(\"Failed to change to directory “%s” (%s)\"),\n+                   working_directory,\n+                   g_strerror (report[1]));\n@@ -387,2 +390,2 @@\n-       _(\"Failed to execute child process (%s)\"),\n-       g_strerror (report[1]));\n+                   _(\"Failed to execute child process (%s)\"),\n+                   g_strerror (report[1]));\n@@ -395,0 +398,5 @@\n+    case CHILD_DUP_FAILED:\n+      g_set_error (error, G_SPAWN_ERROR, G_SPAWN_ERROR_FAILED,\n+                   _(\"Failed to dup() in child process (%s)\"),\n+                   g_strerror (report[1]));\n+      break;\n@@ -401,4 +409,4 @@\n-utf8_charv_to_wcharv (char     **utf8_charv,\n-          wchar_t ***wcharv,\n-          int       *error_index,\n-          GError   **error)\n+utf8_charv_to_wcharv (const gchar * const   *utf8_charv,\n+                      wchar_t             ***wcharv,\n+                      int                   *error_index,\n+                      GError               **error)\n@@ -414,1 +422,1 @@\n-  n++;\n+        n++;\n@@ -418,12 +426,12 @@\n-  {\n-    retval[i] = g_utf8_to_utf16 (utf8_charv[i], -1, NULL, NULL, error);\n-    if (retval[i] == NULL)\n-      {\n-        if (error_index)\n-    *error_index = i;\n-        while (i)\n-    g_free (retval[--i]);\n-        g_free (retval);\n-        return FALSE;\n-      }\n-  }\n+        {\n+          retval[i] = g_utf8_to_utf16 (utf8_charv[i], -1, NULL, NULL, error);\n+          if (retval[i] == NULL)\n+            {\n+              if (error_index)\n+                *error_index = i;\n+              while (i)\n+                g_free (retval[--i]);\n+              g_free (retval);\n+              return FALSE;\n+            }\n+        }\n@@ -439,1 +447,1 @@\n-           gboolean      do_return_handle,\n+                   gboolean              do_return_handle,\n@@ -441,4 +449,4 @@\n-                   gchar               **argv,\n-                   char                **envp,\n-                   char                **protected_argv,\n-                   GPid                 *child_handle,\n+                   const gchar * const  *argv,\n+                   const gchar * const  *envp,\n+                   const gchar * const  *protected_argv,\n+                   GPid                 *child_pid,\n@@ -448,1 +456,1 @@\n-  char **new_argv;\n+  const gchar * const *new_argv;\n@@ -455,0 +463,2 @@\n+  g_assert (argv != NULL && argv[0] != NULL);\n+\n@@ -518,2 +528,2 @@\n-      if (child_handle && do_return_handle)\n-  *child_handle = (GPid) rc;\n+      if (child_pid && do_return_handle)\n+        *child_pid = (GPid) rc;\n@@ -521,5 +531,5 @@\n-  {\n-    CloseHandle ((HANDLE) rc);\n-    if (child_handle)\n-      *child_handle = 0;\n-  }\n+        {\n+          CloseHandle ((HANDLE) rc);\n+          if (child_pid)\n+            *child_pid = 0;\n+        }\n@@ -534,13 +544,42 @@\n-do_spawn_with_fds (gint                 *exit_status,\n-           gboolean        do_return_handle,\n-                   const gchar          *working_directory,\n-                   gchar               **argv,\n-                   char                **envp,\n-                   GSpawnFlags           flags,\n-                   GSpawnChildSetupFunc  child_setup,\n-                   GPid                 *child_handle,\n-                   gint                  stdin_fd,\n-                   gint                  stdout_fd,\n-                   gint                  stderr_fd,\n-           gint       *err_report,\n-                   GError              **error)\n+might_be_console_process (void)\n+{\n+  \/\/ we should always fail to attach ourself to a console (because we're\n+  \/\/ either already attached, or we do not have a console)\n+  gboolean attached_to_self = AttachConsole (GetCurrentProcessId ());\n+  g_return_val_if_fail (!attached_to_self, TRUE);\n+\n+  switch (GetLastError ())\n+    {\n+    \/\/ current process is already attached to a console\n+    case ERROR_ACCESS_DENIED:\n+      return TRUE;\n+    \/\/ current process does not have a console\n+    case ERROR_INVALID_HANDLE:\n+      return FALSE;\n+    \/\/ we should not get ERROR_INVALID_PARAMETER\n+    }\n+\n+  g_return_val_if_reached (FALSE);\n+}\n+\n+static gboolean\n+fork_exec (gint                  *exit_status,\n+           gboolean               do_return_handle,\n+           const gchar           *working_directory,\n+           const gchar * const   *argv,\n+           const gchar * const   *envp,\n+           GSpawnFlags            flags,\n+           GSpawnChildSetupFunc   child_setup,\n+           gpointer               user_data,\n+           GPid                  *child_pid,\n+           gint                  *stdin_pipe_out,\n+           gint                  *stdout_pipe_out,\n+           gint                  *stderr_pipe_out,\n+           gint                   stdin_fd,\n+           gint                   stdout_fd,\n+           gint                   stderr_fd,\n+           const gint            *source_fds,\n+           const gint            *target_fds,\n+           gsize                  n_fds,\n+           gint                  *err_report,\n+           GError               **error)\n@@ -563,1 +602,8 @@\n-  gchar *glib_dll_directory;\n+  int stdin_pipe[2] = { -1, -1 };\n+  int stdout_pipe[2] = { -1, -1 };\n+  int stderr_pipe[2] = { -1, -1 };\n+\n+  g_assert (argv != NULL && argv[0] != NULL);\n+  g_assert (stdin_pipe_out == NULL || stdin_fd < 0);\n+  g_assert (stdout_pipe_out == NULL || stdout_fd < 0);\n+  g_assert (stderr_pipe_out == NULL || stderr_fd < 0);\n@@ -571,0 +617,21 @@\n+  if (stdin_pipe_out != NULL)\n+    {\n+      if (!make_pipe (stdin_pipe, error))\n+        goto cleanup_and_fail;\n+      stdin_fd = stdin_pipe[0];\n+    }\n+\n+  if (stdout_pipe_out != NULL)\n+    {\n+      if (!make_pipe (stdout_pipe, error))\n+        goto cleanup_and_fail;\n+      stdout_fd = stdout_pipe[1];\n+    }\n+\n+  if (stderr_pipe_out != NULL)\n+    {\n+      if (!make_pipe (stderr_pipe, error))\n+        goto cleanup_and_fail;\n+      stderr_fd = stderr_pipe[1];\n+    }\n+\n@@ -573,0 +640,7 @@\n+  \/*\n+   * FIXME: Workaround broken spawnvpe functions that SEGV when \"=X:=\"\n+   * environment variables are missing. Calling chdir() will set the magic\n+   * environment variable again.\n+   *\/\n+  _chdir (\".\");\n+\n@@ -578,1 +652,2 @@\n-      (flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN))\n+      (flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN) &&\n+      n_fds == 0)\n@@ -582,3 +657,3 @@\n-  do_spawn_directly (exit_status, do_return_handle, flags,\n-         argv, envp, protected_argv,\n-         child_handle, error);\n+        do_spawn_directly (exit_status, do_return_handle, flags,\n+                           argv, envp, (const gchar * const *) protected_argv,\n+                           child_pid, error);\n@@ -596,1 +671,1 @@\n-  if (GetConsoleWindow () != NULL)\n+  if (might_be_console_process ())\n@@ -601,9 +676,1 @@\n-  glib_dll_directory = _glib_get_dll_directory ();\n-  if (glib_dll_directory != NULL)\n-    {\n-      helper_process = g_build_filename (glib_dll_directory, helper_process, NULL);\n-      g_free (glib_dll_directory);\n-    }\n-  else\n-    helper_process = g_strdup (helper_process);\n-\n+  helper_process = g_win32_find_helper_executable_path (helper_process, glib_dll);\n@@ -705,0 +772,15 @@\n+  if (n_fds == 0)\n+    new_argv[ARG_FDS] = g_strdup (\"-\");\n+  else\n+    {\n+      GString *fds = g_string_new (\"\");\n+      gsize n;\n+\n+      for (n = 0; n < n_fds; n++)\n+        g_string_append_printf (fds, \"%d:%d,\", source_fds[n], target_fds[n]);\n+\n+      \/* remove the trailing , *\/\n+      g_string_truncate (fds, fds->len - 1);\n+      new_argv[ARG_FDS] = g_string_free (fds, FALSE);\n+    }\n+\n@@ -714,1 +796,1 @@\n-  g_print (\"argv[%d]: %s\\n\", i, (new_argv[i] ? new_argv[i] : \"NULL\"));\n+        g_print (\"argv[%d]: %s\\n\", i, (new_argv[i] ? new_argv[i] : \"NULL\"));\n@@ -717,1 +799,1 @@\n-  if (!utf8_charv_to_wcharv (new_argv, &wargv, &conv_error_index, &conv_error))\n+  if (!utf8_charv_to_wcharv ((const gchar * const *) new_argv, &wargv, &conv_error_index, &conv_error))\n@@ -720,3 +802,3 @@\n-  g_set_error (error, G_SPAWN_ERROR, G_SPAWN_ERROR_CHDIR,\n-         _(\"Invalid working directory: %s\"),\n-         conv_error->message);\n+        g_set_error (error, G_SPAWN_ERROR, G_SPAWN_ERROR_CHDIR,\n+                     _(\"Invalid working directory: %s\"),\n+                     conv_error->message);\n@@ -724,3 +806,3 @@\n-  g_set_error (error, G_SPAWN_ERROR, G_SPAWN_ERROR_FAILED,\n-         _(\"Invalid string in argument vector at %d: %s\"),\n-         conv_error_index - ARG_PROGRAM, conv_error->message);\n+        g_set_error (error, G_SPAWN_ERROR, G_SPAWN_ERROR_FAILED,\n+                     _(\"Invalid string in argument vector at %d: %s\"),\n+                     conv_error_index - ARG_PROGRAM, conv_error->message);\n@@ -731,0 +813,1 @@\n+      g_free (new_argv[ARG_FDS]);\n@@ -740,2 +823,2 @@\n-       _(\"Invalid string in environment: %s\"),\n-       conv_error->message);\n+                   _(\"Invalid string in environment: %s\"),\n+                   conv_error->message);\n@@ -746,0 +829,1 @@\n+      g_free (new_argv[ARG_FDS]);\n@@ -777,0 +861,1 @@\n+  g_free (new_argv[ARG_FDS]);\n@@ -783,2 +868,2 @@\n-       _(\"Failed to execute helper program (%s)\"),\n-       g_strerror (errsv));\n+                   _(\"Failed to execute helper program (%s)\"),\n+                   g_strerror (errsv));\n@@ -807,30 +892,30 @@\n-      switch (helper_report[0])\n-  {\n-  case CHILD_NO_ERROR:\n-    if (child_handle && do_return_handle)\n-      {\n-        \/* rc is our HANDLE for gspawn-win32-helper. It has\n-         * told us the HANDLE of its child. Duplicate that into\n-         * a HANDLE valid in this process.\n-         *\/\n-        if (!DuplicateHandle ((HANDLE) rc, (HANDLE) helper_report[1],\n-            GetCurrentProcess (), (LPHANDLE) child_handle,\n-            0, TRUE, DUPLICATE_SAME_ACCESS))\n-    {\n-      char *emsg = g_win32_error_message (GetLastError ());\n-      g_print(\"%s\\n\", emsg);\n-      *child_handle = 0;\n-    }\n-      }\n-    else if (child_handle)\n-      *child_handle = 0;\n-    write (helper_sync_pipe[1], \" \", 1);\n-    close_and_invalidate (&helper_sync_pipe[1]);\n-    break;\n-\n-  default:\n-    write (helper_sync_pipe[1], \" \", 1);\n-    close_and_invalidate (&helper_sync_pipe[1]);\n-    set_child_error (helper_report, working_directory, error);\n-    goto cleanup_and_fail;\n-  }\n+switch (helper_report[0])\n+        {\n+        case CHILD_NO_ERROR:\n+          if (child_pid && do_return_handle)\n+            {\n+              \/* rc is our HANDLE for gspawn-win32-helper. It has\n+               * told us the HANDLE of its child. Duplicate that into\n+               * a HANDLE valid in this process.\n+               *\/\n+              if (!DuplicateHandle ((HANDLE) rc, (HANDLE) helper_report[1],\n+                                    GetCurrentProcess (), (LPHANDLE) child_pid,\n+                                    0, TRUE, DUPLICATE_SAME_ACCESS))\n+                {\n+                  char *emsg = g_win32_error_message (GetLastError ());\n+                  g_print(\"%s\\n\", emsg);\n+                  *child_pid = 0;\n+                }\n+            }\n+          else if (child_pid)\n+            *child_pid = 0;\n+          write (helper_sync_pipe[1], \" \", 1);\n+          close_and_invalidate (&helper_sync_pipe[1]);\n+          break;\n+\n+        default:\n+          write (helper_sync_pipe[1], \" \", 1);\n+          close_and_invalidate (&helper_sync_pipe[1]);\n+          set_child_error (helper_report, working_directory, error);\n+          goto cleanup_and_fail;\n+        }\n@@ -844,0 +929,14 @@\n+  \/* Close the other process's ends of the pipes in this process,\n+   * otherwise the reader will never get EOF.\n+   *\/\n+  close_and_invalidate (&stdin_pipe[0]);\n+  close_and_invalidate (&stdout_pipe[1]);\n+  close_and_invalidate (&stderr_pipe[1]);\n+\n+  if (stdin_pipe_out != NULL)\n+    *stdin_pipe_out = stdin_pipe[1];\n+  if (stdout_pipe_out != NULL)\n+    *stdout_pipe_out = stdout_pipe[0];\n+  if (stderr_pipe_out != NULL)\n+    *stderr_pipe_out = stderr_pipe[0];\n+\n@@ -859,64 +958,0 @@\n-  return FALSE;\n-}\n-\n-static gboolean\n-do_spawn_with_pipes (gint                 *exit_status,\n-             gboolean          do_return_handle,\n-                     const gchar          *working_directory,\n-                     gchar               **argv,\n-                     char                **envp,\n-                     GSpawnFlags           flags,\n-                     GSpawnChildSetupFunc  child_setup,\n-                     GPid                 *child_handle,\n-                     gint                 *standard_input,\n-                     gint                 *standard_output,\n-                     gint                 *standard_error,\n-             gint         *err_report,\n-                     GError              **error)\n-{\n-  int stdin_pipe[2] = { -1, -1 };\n-  int stdout_pipe[2] = { -1, -1 };\n-  int stderr_pipe[2] = { -1, -1 };\n-\n-  if (standard_input && !make_pipe (stdin_pipe, error))\n-    goto cleanup_and_fail;\n-\n-  if (standard_output && !make_pipe (stdout_pipe, error))\n-    goto cleanup_and_fail;\n-\n-  if (standard_error && !make_pipe (stderr_pipe, error))\n-    goto cleanup_and_fail;\n-\n-  if (!do_spawn_with_fds (exit_status,\n-        do_return_handle,\n-        working_directory,\n-        argv,\n-        envp,\n-        flags,\n-        child_setup,\n-        child_handle,\n-        stdin_pipe[0],\n-        stdout_pipe[1],\n-        stderr_pipe[1],\n-        err_report,\n-        error))\n-    goto cleanup_and_fail;\n-\n-  \/* Close the other process's ends of the pipes in this process,\n-   * otherwise the reader will never get EOF.\n-   *\/\n-  close_and_invalidate (&stdin_pipe[0]);\n-  close_and_invalidate (&stdout_pipe[1]);\n-  close_and_invalidate (&stderr_pipe[1]);\n-\n-  if (standard_input)\n-    *standard_input = stdin_pipe[1];\n-  if (standard_output)\n-    *standard_output = stdout_pipe[0];\n-  if (standard_error)\n-    *standard_error = stderr_pipe[0];\n-\n-  return TRUE;\n-\n- cleanup_and_fail:\n-\n@@ -948,1 +983,1 @@\n-              gint                 *exit_status,\n+              gint                 *wait_status,\n@@ -956,1 +991,1 @@\n-  GPollFD outfd, errfd;\n+  GPollFD outfd = { -1, 0, 0 }, errfd = { -1, 0, 0 };\n@@ -967,1 +1002,1 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n+  g_return_val_if_fail (argv != NULL && argv[0] != NULL, FALSE);\n@@ -983,13 +1018,18 @@\n-  if (!do_spawn_with_pipes (&status,\n-          FALSE,\n-          working_directory,\n-          argv,\n-          envp,\n-          flags,\n-          child_setup,\n-          NULL,\n-          NULL,\n-          standard_output ? &outpipe : NULL,\n-          standard_error ? &errpipe : NULL,\n-          &reportpipe,\n-          error))\n+  if (!fork_exec (&status,\n+                  FALSE,\n+                  working_directory,\n+                  (const gchar * const *) argv,\n+                  (const gchar * const *) envp,\n+                  flags,\n+                  child_setup,\n+                  user_data,\n+                  NULL,\n+                  NULL,\n+                  standard_output ? &outpipe : NULL,\n+                  standard_error ? &errpipe : NULL,\n+                  -1,\n+                  -1,\n+                  -1,\n+                  NULL, NULL, 0,\n+                  &reportpipe,\n+                  error))\n@@ -1012,1 +1052,1 @@\n-  g_print (\"outfd=%p\\n\", (HANDLE) outfd.fd);\n+        g_print (\"outfd=%p\\n\", (HANDLE) outfd.fd);\n@@ -1025,1 +1065,1 @@\n-  g_print (\"errfd=%p\\n\", (HANDLE) errfd.fd);\n+        g_print (\"errfd=%p\\n\", (HANDLE) errfd.fd);\n@@ -1119,2 +1159,2 @@\n-      if (exit_status)\n-        *exit_status = status;\n+      if (wait_status)\n+        *wait_status = status;\n@@ -1130,11 +1170,0 @@\n-  failed = TRUE;\n-      else\n-  {\n-    switch (helper_report[0])\n-      {\n-      case CHILD_NO_ERROR:\n-        if (exit_status)\n-    *exit_status = helper_report[1];\n-        break;\n-      default:\n-        set_child_error (helper_report, working_directory, error);\n@@ -1142,3 +1171,14 @@\n-        break;\n-      }\n-  }\n+      else\n+        {\n+          switch (helper_report[0])\n+            {\n+            case CHILD_NO_ERROR:\n+              if (wait_status)\n+                *wait_status = helper_report[1];\n+              break;\n+            default:\n+              set_child_error (helper_report, working_directory, error);\n+              failed = TRUE;\n+              break;\n+            }\n+        }\n@@ -1188,1 +1228,1 @@\n-                          GPid                 *child_handle,\n+                          GPid                 *child_pid,\n@@ -1194,1 +1234,1 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n+  g_return_val_if_fail (argv != NULL && argv[0] != NULL, FALSE);\n@@ -1203,13 +1243,18 @@\n-  return do_spawn_with_pipes (NULL,\n-            (flags & G_SPAWN_DO_NOT_REAP_CHILD),\n-            working_directory,\n-            argv,\n-            envp,\n-            flags,\n-            child_setup,\n-            child_handle,\n-            standard_input,\n-            standard_output,\n-            standard_error,\n-            NULL,\n-            error);\n+  return fork_exec (NULL,\n+                    (flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    (const gchar * const *) argv,\n+                    (const gchar * const *) envp,\n+                    flags,\n+                    child_setup,\n+                    user_data,\n+                    child_pid,\n+                    standard_input,\n+                    standard_output,\n+                    standard_error,\n+                    -1,\n+                    -1,\n+                    -1,\n+                    NULL, NULL, 0,\n+                    NULL,\n+                    error);\n@@ -1225,1 +1270,1 @@\n-                        GPid                 *child_handle,\n+                        GPid                 *child_pid,\n@@ -1231,1 +1276,1 @@\n-  g_return_val_if_fail (argv != NULL, FALSE);\n+  g_return_val_if_fail (argv != NULL && argv[0] != NULL, FALSE);\n@@ -1240,13 +1285,73 @@\n-  return do_spawn_with_fds (NULL,\n-          (flags & G_SPAWN_DO_NOT_REAP_CHILD),\n-          working_directory,\n-          argv,\n-          envp,\n-          flags,\n-          child_setup,\n-          child_handle,\n-          stdin_fd,\n-          stdout_fd,\n-          stderr_fd,\n-          NULL,\n-          error);\n+  return fork_exec (NULL,\n+                    (flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    (const gchar * const *) argv,\n+                    (const gchar * const *) envp,\n+                    flags,\n+                    child_setup,\n+                    user_data,\n+                    child_pid,\n+                    NULL,\n+                    NULL,\n+                    NULL,\n+                    stdin_fd,\n+                    stdout_fd,\n+                    stderr_fd,\n+                    NULL, NULL, 0,\n+                    NULL,\n+                    error);\n+\n+}\n+\n+gboolean\n+g_spawn_async_with_pipes_and_fds (const gchar           *working_directory,\n+                                  const gchar * const   *argv,\n+                                  const gchar * const   *envp,\n+                                  GSpawnFlags            flags,\n+                                  GSpawnChildSetupFunc   child_setup,\n+                                  gpointer               user_data,\n+                                  gint                   stdin_fd,\n+                                  gint                   stdout_fd,\n+                                  gint                   stderr_fd,\n+                                  const gint            *source_fds,\n+                                  const gint            *target_fds,\n+                                  gsize                  n_fds,\n+                                  GPid                  *child_pid_out,\n+                                  gint                  *stdin_pipe_out,\n+                                  gint                  *stdout_pipe_out,\n+                                  gint                  *stderr_pipe_out,\n+                                  GError               **error)\n+{\n+  g_return_val_if_fail (argv != NULL && argv[0] != NULL, FALSE);\n+  g_return_val_if_fail (stdout_pipe_out == NULL ||\n+                        !(flags & G_SPAWN_STDOUT_TO_DEV_NULL), FALSE);\n+  g_return_val_if_fail (stderr_pipe_out == NULL ||\n+                        !(flags & G_SPAWN_STDERR_TO_DEV_NULL), FALSE);\n+  \/* can't inherit stdin if we have an input pipe. *\/\n+  g_return_val_if_fail (stdin_pipe_out == NULL ||\n+                        !(flags & G_SPAWN_CHILD_INHERITS_STDIN), FALSE);\n+  \/* can’t use pipes and stdin\/stdout\/stderr FDs *\/\n+  g_return_val_if_fail (stdin_pipe_out == NULL || stdin_fd < 0, FALSE);\n+  g_return_val_if_fail (stdout_pipe_out == NULL || stdout_fd < 0, FALSE);\n+  g_return_val_if_fail (stderr_pipe_out == NULL || stderr_fd < 0, FALSE);\n+\n+  return fork_exec (NULL,\n+                    (flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    argv,\n+                    envp,\n+                    flags,\n+                    child_setup,\n+                    user_data,\n+                    child_pid_out,\n+                    stdin_pipe_out,\n+                    stdout_pipe_out,\n+                    stderr_pipe_out,\n+                    stdin_fd,\n+                    stdout_fd,\n+                    stderr_fd,\n+                    source_fds,\n+                    target_fds,\n+                    n_fds,\n+                    NULL,\n+                    error);\n@@ -1259,1 +1364,1 @@\n-                           gint         *exit_status,\n+                           gint         *wait_status,\n@@ -1267,0 +1372,1 @@\n+  \/* This will return a runtime error if @command_line is the empty string. *\/\n@@ -1280,1 +1386,1 @@\n-                         exit_status,\n+                         wait_status,\n@@ -1296,0 +1402,1 @@\n+  \/* This will return a runtime error if @command_line is the empty string. *\/\n@@ -1321,1 +1428,1 @@\n-g_spawn_check_exit_status (gint      exit_status,\n+g_spawn_check_wait_status (gint      wait_status,\n@@ -1326,1 +1433,1 @@\n-  if (exit_status != 0)\n+  if (wait_status != 0)\n@@ -1328,3 +1435,5 @@\n-      g_set_error (error, G_SPAWN_EXIT_ERROR, exit_status,\n-       _(\"Child process exited with code %ld\"),\n-       (long) exit_status);\n+      \/* On Windows, the wait status is just the exit status: the\n+       * difference between the two that exists on Unix is not relevant *\/\n+      g_set_error (error, G_SPAWN_EXIT_ERROR, wait_status,\n+                   _(\"Child process exited with code %ld\"),\n+                   (long) wait_status);\n@@ -1339,0 +1448,7 @@\n+gboolean\n+g_spawn_check_exit_status (gint      wait_status,\n+                           GError  **error)\n+{\n+  return g_spawn_check_wait_status (wait_status, error);\n+}\n+\n@@ -1371,1 +1487,1 @@\n-                                                       gint                  *exit_status,\n+                                                       gint                  *wait_status,\n@@ -1376,1 +1492,1 @@\n-                                                       gint                  *exit_status,\n+                                                       gint                  *wait_status,\n@@ -1388,1 +1504,1 @@\n-                    GPid                 *child_handle,\n+                    GPid                 *child_pid,\n@@ -1397,1 +1513,1 @@\n-                        child_handle,\n+                        child_pid,\n@@ -1408,1 +1524,1 @@\n-                               GPid                 *child_handle,\n+                               GPid                 *child_pid,\n@@ -1420,1 +1536,1 @@\n-                                   child_handle,\n+                                   child_pid,\n@@ -1436,1 +1552,1 @@\n-                   gint                 *exit_status,\n+                   gint                 *wait_status,\n@@ -1447,1 +1563,1 @@\n-                       exit_status,\n+                       wait_status,\n@@ -1455,1 +1571,1 @@\n-                                gint         *exit_status,\n+                                gint         *wait_status,\n@@ -1461,1 +1577,1 @@\n-                                    exit_status,\n+                                    wait_status,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn-win32.c","additions":385,"deletions":269,"binary":false,"changes":654,"status":"modified"},{"patch":"@@ -144,1 +144,1 @@\n- *              g_spawn_check_exit_status (status, NULL) ? \"normally\" : \"abnormally\");\n+ *              g_spawn_check_wait_status (status, NULL) ? \"normally\" : \"abnormally\");\n@@ -170,40 +170,25 @@\n-static gboolean fork_exec_with_pipes (gboolean              intermediate_child,\n-                                      const gchar          *working_directory,\n-                                      gchar               **argv,\n-                                      gchar               **envp,\n-                                      gboolean              close_descriptors,\n-                                      gboolean              search_path,\n-                                      gboolean              search_path_from_envp,\n-                                      gboolean              stdout_to_null,\n-                                      gboolean              stderr_to_null,\n-                                      gboolean              child_inherits_stdin,\n-                                      gboolean              file_and_argv_zero,\n-                                      gboolean              cloexec_pipes,\n-                                      GSpawnChildSetupFunc  child_setup,\n-                                      gpointer              user_data,\n-                                      GPid                 *child_pid,\n-                                      gint                 *standard_input,\n-                                      gint                 *standard_output,\n-                                      gint                 *standard_error,\n-                                      GError              **error);\n-\n-static gboolean fork_exec_with_fds (gboolean              intermediate_child,\n-                                    const gchar          *working_directory,\n-                                    gchar               **argv,\n-                                    gchar               **envp,\n-                                    gboolean              close_descriptors,\n-                                    gboolean              search_path,\n-                                    gboolean              search_path_from_envp,\n-                                    gboolean              stdout_to_null,\n-                                    gboolean              stderr_to_null,\n-                                    gboolean              child_inherits_stdin,\n-                                    gboolean              file_and_argv_zero,\n-                                    gboolean              cloexec_pipes,\n-                                    GSpawnChildSetupFunc  child_setup,\n-                                    gpointer              user_data,\n-                                    GPid                 *child_pid,\n-                                    gint                 *child_close_fds,\n-                                    gint                  stdin_fd,\n-                                    gint                  stdout_fd,\n-                                    gint                  stderr_fd,\n-                                    GError              **error);\n+static gboolean fork_exec (gboolean              intermediate_child,\n+                           const gchar          *working_directory,\n+                           const gchar * const  *argv,\n+                           const gchar * const  *envp,\n+                           gboolean              close_descriptors,\n+                           gboolean              search_path,\n+                           gboolean              search_path_from_envp,\n+                           gboolean              stdout_to_null,\n+                           gboolean              stderr_to_null,\n+                           gboolean              child_inherits_stdin,\n+                           gboolean              file_and_argv_zero,\n+                           gboolean              cloexec_pipes,\n+                           GSpawnChildSetupFunc  child_setup,\n+                           gpointer              user_data,\n+                           GPid                 *child_pid,\n+                           gint                 *stdin_pipe_out,\n+                           gint                 *stdout_pipe_out,\n+                           gint                 *stderr_pipe_out,\n+                           gint                  stdin_fd,\n+                           gint                  stdout_fd,\n+                           gint                  stderr_fd,\n+                           const gint           *source_fds,\n+                           const gint           *target_fds,\n+                           gsize                 n_fds,\n+                           GError              **error);\n@@ -228,0 +213,2 @@\n+ * Executes a child program asynchronously.\n+ *\n@@ -234,1 +221,1 @@\n- * If you are writing a GTK+ application, and the program you are spawning is a\n+ * If you are writing a GTK application, and the program you are spawning is a\n@@ -335,1 +322,1 @@\n- *     child's argument vector\n+ *     child's argument vector, which must be non-empty and %NULL-terminated\n@@ -343,1 +330,1 @@\n- * @exit_status: (out) (optional): return location for child exit status, as returned by waitpid(), or %NULL\n+ * @wait_status: (out) (optional): return location for child wait status, as returned by waitpid(), or %NULL\n@@ -347,0 +334,1 @@\n+ *\n@@ -352,1 +340,1 @@\n- * If @exit_status is non-%NULL, the platform-specific exit status of\n+ * If @wait_status is non-%NULL, the platform-specific status of\n@@ -354,1 +342,4 @@\n- * g_spawn_check_exit_status() for how to use and interpret this.\n+ * g_spawn_check_wait_status() for how to use and interpret this.\n+ * On Unix platforms, note that it is usually not equal\n+ * to the integer passed to `exit()` or returned from `main()`.\n+ *\n@@ -360,1 +351,1 @@\n- * @standard_error, or @exit_status.\n+ * @standard_error, or @wait_status.\n@@ -377,1 +368,1 @@\n-              gint                 *exit_status,\n+              gint                 *wait_status,\n@@ -390,0 +381,1 @@\n+  g_return_val_if_fail (argv[0] != NULL, FALSE);\n@@ -405,19 +397,21 @@\n-  if (!fork_exec_with_pipes (FALSE,\n-                             working_directory,\n-                             argv,\n-                             envp,\n-                             !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n-                             (flags & G_SPAWN_SEARCH_PATH) != 0,\n-                             (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n-                             (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n-                             (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n-                             (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n-                             (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n-                             (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n-                             child_setup,\n-                             user_data,\n-                             &pid,\n-                             NULL,\n-                             standard_output ? &outpipe : NULL,\n-                             standard_error ? &errpipe : NULL,\n-                             error))\n+  if (!fork_exec (FALSE,\n+                  working_directory,\n+                  (const gchar * const *) argv,\n+                  (const gchar * const *) envp,\n+                  !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n+                  (flags & G_SPAWN_SEARCH_PATH) != 0,\n+                  (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n+                  (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n+                  (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n+                  (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n+                  (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n+                  (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n+                  child_setup,\n+                  user_data,\n+                  &pid,\n+                  NULL,\n+                  standard_output ? &outpipe : NULL,\n+                  standard_error ? &errpipe : NULL,\n+                  -1, -1, -1,\n+                  NULL, NULL, 0,\n+                  error))\n@@ -533,1 +527,1 @@\n-          if (exit_status)\n+          if (wait_status)\n@@ -535,1 +529,1 @@\n-              g_warning (\"In call to g_spawn_sync(), exit status of a child process was requested but ECHILD was received by waitpid(). See the documentation of g_child_watch_source_new() for possible causes.\");\n+              g_warning (\"In call to g_spawn_sync(), wait status of a child process was requested but ECHILD was received by waitpid(). See the documentation of g_child_watch_source_new() for possible causes.\");\n@@ -539,1 +533,1 @@\n-              \/* We don't need the exit status. *\/\n+              \/* We don't need the wait status. *\/\n@@ -570,2 +564,2 @@\n-      if (exit_status)\n-        *exit_status = status;\n+      if (wait_status)\n+        *wait_status = status;\n@@ -588,1 +582,1 @@\n- *     vector, in the GLib file name encoding\n+ *     vector, in the GLib file name encoding; it must be non-empty and %NULL-terminated\n@@ -601,0 +595,77 @@\n+ * Identical to g_spawn_async_with_pipes_and_fds() but with `n_fds` set to zero,\n+ * so no FD assignments are used.\n+ *\n+ * Returns: %TRUE on success, %FALSE if an error was set\n+ *\/\n+gboolean\n+g_spawn_async_with_pipes (const gchar          *working_directory,\n+                          gchar               **argv,\n+                          gchar               **envp,\n+                          GSpawnFlags           flags,\n+                          GSpawnChildSetupFunc  child_setup,\n+                          gpointer              user_data,\n+                          GPid                 *child_pid,\n+                          gint                 *standard_input,\n+                          gint                 *standard_output,\n+                          gint                 *standard_error,\n+                          GError              **error)\n+{\n+  g_return_val_if_fail (argv != NULL, FALSE);\n+  g_return_val_if_fail (argv[0] != NULL, FALSE);\n+  g_return_val_if_fail (standard_output == NULL ||\n+                        !(flags & G_SPAWN_STDOUT_TO_DEV_NULL), FALSE);\n+  g_return_val_if_fail (standard_error == NULL ||\n+                        !(flags & G_SPAWN_STDERR_TO_DEV_NULL), FALSE);\n+  \/* can't inherit stdin if we have an input pipe. *\/\n+  g_return_val_if_fail (standard_input == NULL ||\n+                        !(flags & G_SPAWN_CHILD_INHERITS_STDIN), FALSE);\n+\n+  return fork_exec (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    (const gchar * const *) argv,\n+                    (const gchar * const *) envp,\n+                    !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n+                    (flags & G_SPAWN_SEARCH_PATH) != 0,\n+                    (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n+                    (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n+                    (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n+                    (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n+                    child_setup,\n+                    user_data,\n+                    child_pid,\n+                    standard_input,\n+                    standard_output,\n+                    standard_error,\n+                    -1, -1, -1,\n+                    NULL, NULL, 0,\n+                    error);\n+}\n+\n+\/**\n+ * g_spawn_async_with_pipes_and_fds:\n+ * @working_directory: (type filename) (nullable): child's current working\n+ *     directory, or %NULL to inherit parent's, in the GLib file name encoding\n+ * @argv: (array zero-terminated=1) (element-type filename): child's argument\n+ *     vector, in the GLib file name encoding; it must be non-empty and %NULL-terminated\n+ * @envp: (array zero-terminated=1) (element-type filename) (nullable):\n+ *     child's environment, or %NULL to inherit parent's, in the GLib file\n+ *     name encoding\n+ * @flags: flags from #GSpawnFlags\n+ * @child_setup: (scope async) (nullable): function to run in the child just before `exec()`\n+ * @user_data: (closure): user data for @child_setup\n+ * @stdin_fd: file descriptor to use for child's stdin, or `-1`\n+ * @stdout_fd: file descriptor to use for child's stdout, or `-1`\n+ * @stderr_fd: file descriptor to use for child's stderr, or `-1`\n+ * @source_fds: (array length=n_fds) (nullable): array of FDs from the parent\n+ *    process to make available in the child process\n+ * @target_fds: (array length=n_fds) (nullable): array of FDs to remap\n+ *    @source_fds to in the child process\n+ * @n_fds: number of FDs in @source_fds and @target_fds\n+ * @child_pid_out: (out) (optional): return location for child process ID, or %NULL\n+ * @stdin_pipe_out: (out) (optional): return location for file descriptor to write to child's stdin, or %NULL\n+ * @stdout_pipe_out: (out) (optional): return location for file descriptor to read child's stdout, or %NULL\n+ * @stderr_pipe_out: (out) (optional): return location for file descriptor to read child's stderr, or %NULL\n+ * @error: return location for error\n+ *\n@@ -602,17 +673,18 @@\n- * block waiting for the child to exit). The child program is\n- * specified by the only argument that must be provided, @argv.\n- * @argv should be a %NULL-terminated array of strings, to be passed\n- * as the argument vector for the child. The first string in @argv\n- * is of course the name of the program to execute. By default, the\n- * name of the program must be a full path. If @flags contains the\n- * %G_SPAWN_SEARCH_PATH flag, the `PATH` environment variable is\n- * used to search for the executable. If @flags contains the\n- * %G_SPAWN_SEARCH_PATH_FROM_ENVP flag, the `PATH` variable from\n- * @envp is used to search for the executable. If both the\n- * %G_SPAWN_SEARCH_PATH and %G_SPAWN_SEARCH_PATH_FROM_ENVP flags\n- * are set, the `PATH` variable from @envp takes precedence over\n- * the environment variable.\n- *\n- * If the program name is not a full path and %G_SPAWN_SEARCH_PATH flag is not\n- * used, then the program will be run from the current directory (or\n- * @working_directory, if specified); this might be unexpected or even\n+ * block waiting for the child to exit).\n+ *\n+ * The child program is specified by the only argument that must be\n+ * provided, @argv. @argv should be a %NULL-terminated array of strings,\n+ * to be passed as the argument vector for the child. The first string\n+ * in @argv is of course the name of the program to execute. By default,\n+ * the name of the program must be a full path. If @flags contains the\n+ * %G_SPAWN_SEARCH_PATH flag, the `PATH` environment variable is used to\n+ * search for the executable. If @flags contains the\n+ * %G_SPAWN_SEARCH_PATH_FROM_ENVP flag, the `PATH` variable from @envp\n+ * is used to search for the executable. If both the\n+ * %G_SPAWN_SEARCH_PATH and %G_SPAWN_SEARCH_PATH_FROM_ENVP flags are\n+ * set, the `PATH` variable from @envp takes precedence over the\n+ * environment variable.\n+ *\n+ * If the program name is not a full path and %G_SPAWN_SEARCH_PATH flag\n+ * is not used, then the program will be run from the current directory\n+ * (or @working_directory, if specified); this might be unexpected or even\n@@ -622,1 +694,1 @@\n- * this function and the other g_spawn*() functions are in UTF-8, the\n+ * this function and the other `g_spawn*()` functions are in UTF-8, the\n@@ -627,2 +699,2 @@\n- * tools it is enough to make the program have a wmain() instead of\n- * main(). wmain() has a wide character argument vector as parameter.\n+ * tools it is enough to make the program have a `wmain()` instead of\n+ * `main()`. `wmain()` has a wide character argument vector as parameter.\n@@ -630,1 +702,1 @@\n- * At least currently, mingw doesn't support wmain(), so if you use\n+ * At least currently, mingw doesn't support `wmain()`, so if you use\n@@ -634,1 +706,1 @@\n- * On Windows the low-level child process creation API CreateProcess()\n+ * On Windows the low-level child process creation API `CreateProcess()`\n@@ -636,1 +708,1 @@\n- * library's spawn*() family of functions (which g_spawn_async_with_pipes()\n+ * library's `spawn*()` family of functions (which g_spawn_async_with_pipes()\n@@ -640,1 +712,1 @@\n- * passed to main(). Complications arise when you have argument vector\n+ * passed to `main()`. Complications arise when you have argument vector\n@@ -647,1 +719,1 @@\n- * spawn() function.\n+ * `spawn()` function.\n@@ -665,2 +737,2 @@\n- * the %SIGCHLD signal manually. On Windows, calling g_spawn_close_pid()\n- * is equivalent to calling CloseHandle() on the process handle returned\n+ * the `SIGCHLD` signal manually. On Windows, calling g_spawn_close_pid()\n+ * is equivalent to calling `CloseHandle()` on the process handle returned\n@@ -672,1 +744,1 @@\n- * descriptors except stdin\/stdout\/stderr will be closed before calling exec()\n+ * descriptors except stdin\/stdout\/stderr will be closed before calling `exec()`\n@@ -679,0 +751,1 @@\n+ *\n@@ -681,1 +754,2 @@\n- * standard output. If you use this flag, @standard_output must be %NULL.\n+ * standard output. If you use this flag, @stdout_pipe_out must be %NULL.\n+ *\n@@ -684,1 +758,2 @@\n- * standard error. If you use this flag, @standard_error must be %NULL.\n+ * standard error. If you use this flag, @stderr_pipe_out must be %NULL.\n+ *\n@@ -687,1 +762,17 @@\n- * `\/dev\/null`). If you use this flag, @standard_input must be %NULL.\n+ * `\/dev\/null`). If you use this flag, @stdin_pipe_out must be %NULL.\n+ *\n+ * It is valid to pass the same FD in multiple parameters (e.g. you can pass\n+ * a single FD for both @stdout_fd and @stderr_fd, and include it in\n+ * @source_fds too).\n+ *\n+ * @source_fds and @target_fds allow zero or more FDs from this process to be\n+ * remapped to different FDs in the spawned process. If @n_fds is greater than\n+ * zero, @source_fds and @target_fds must both be non-%NULL and the same length.\n+ * Each FD in @source_fds is remapped to the FD number at the same index in\n+ * @target_fds. The source and target FD may be equal to simply propagate an FD\n+ * to the spawned process. FD remappings are processed after standard FDs, so\n+ * any target FDs which equal @stdin_fd, @stdout_fd or @stderr_fd will overwrite\n+ * them in the spawned process.\n+ *\n+ * @source_fds is supported on Windows since 2.72.\n+ *\n@@ -696,2 +787,2 @@\n- * pipes, closing file descriptors, etc.) but before calling exec().\n- * That is, @child_setup is called just before calling exec() in the\n+ * pipes, closing file descriptors, etc.) but before calling `exec()`.\n+ * That is, @child_setup is called just before calling `exec()` in the\n@@ -701,1 +792,1 @@\n- * On Windows, there is no separate fork() and exec() functionality.\n+ * On Windows, there is no separate `fork()` and `exec()` functionality.\n@@ -703,1 +794,1 @@\n- * CreateProcess(). There is no sensible thing @child_setup\n+ * `CreateProcess()`. There is no sensible thing @child_setup\n@@ -708,1 +799,1 @@\n- * or to use g_child_watch_add() (or waitpid()) if you specified the\n+ * or to use g_child_watch_add() (or `waitpid()`) if you specified the\n@@ -713,2 +804,2 @@\n- * with the WaitFor*() functions, or examine its exit code with\n- * GetExitCodeProcess(). You should close the handle with CloseHandle()\n+ * with the `WaitFor*()` functions, or examine its exit code with\n+ * `GetExitCodeProcess()`. You should close the handle with `CloseHandle()`\n@@ -717,1 +808,1 @@\n- * If non-%NULL, the @standard_input, @standard_output, @standard_error\n+ * If non-%NULL, the @stdin_pipe_out, @stdout_pipe_out, @stderr_pipe_out\n@@ -724,1 +815,1 @@\n- * If @standard_input is %NULL, the child's standard input is attached to\n+ * If @stdin_pipe_out is %NULL, the child's standard input is attached to\n@@ -727,1 +818,1 @@\n- * If @standard_error is NULL, the child's standard error goes to the same\n+ * If @stderr_pipe_out is NULL, the child's standard error goes to the same\n@@ -731,1 +822,1 @@\n- * If @standard_output is NULL, the child's standard output goes to the same\n+ * If @stdout_pipe_out is NULL, the child's standard output goes to the same\n@@ -738,1 +829,1 @@\n- * @argv[0] is not found). Typically the `message` field of returned\n+ * `@argv[0]` is not found). Typically the `message` field of returned\n@@ -740,1 +831,1 @@\n- * the #G_SPAWN_ERROR domain.\n+ * the %G_SPAWN_ERROR domain.\n@@ -742,2 +833,2 @@\n- * If an error occurs, @child_pid, @standard_input, @standard_output,\n- * and @standard_error will not be filled with valid values.\n+ * If an error occurs, @child_pid, @stdin_pipe_out, @stdout_pipe_out,\n+ * and @stderr_pipe_out will not be filled with valid values.\n@@ -749,1 +840,1 @@\n- * codepath driven internally by posix_spawn(). This has the advantage of\n+ * codepath driven internally by `posix_spawn()`. This has the advantage of\n@@ -761,1 +852,3 @@\n- * 6. The program is of a recognised binary format, or has a shebang. Otherwise, GLib will have to execute the program through the shell, which is not done using the optimized codepath.\n+ * 6. The program is of a recognised binary format, or has a shebang.\n+ *    Otherwise, GLib will have to execute the program through the\n+ *    shell, which is not done using the optimized codepath.\n@@ -763,1 +856,1 @@\n- * If you are writing a GTK+ application, and the program you are spawning is a\n+ * If you are writing a GTK application, and the program you are spawning is a\n@@ -766,1 +859,1 @@\n- * #GAppLaunchContext, or set the %DISPLAY environment variable.\n+ * #GAppLaunchContext, or set the `DISPLAY` environment variable.\n@@ -769,0 +862,2 @@\n+ *\n+ * Since: 2.68\n@@ -771,11 +866,17 @@\n-g_spawn_async_with_pipes (const gchar          *working_directory,\n-                          gchar               **argv,\n-                          gchar               **envp,\n-                          GSpawnFlags           flags,\n-                          GSpawnChildSetupFunc  child_setup,\n-                          gpointer              user_data,\n-                          GPid                 *child_pid,\n-                          gint                 *standard_input,\n-                          gint                 *standard_output,\n-                          gint                 *standard_error,\n-                          GError              **error)\n+g_spawn_async_with_pipes_and_fds (const gchar           *working_directory,\n+                                  const gchar * const   *argv,\n+                                  const gchar * const   *envp,\n+                                  GSpawnFlags            flags,\n+                                  GSpawnChildSetupFunc   child_setup,\n+                                  gpointer               user_data,\n+                                  gint                   stdin_fd,\n+                                  gint                   stdout_fd,\n+                                  gint                   stderr_fd,\n+                                  const gint            *source_fds,\n+                                  const gint            *target_fds,\n+                                  gsize                  n_fds,\n+                                  GPid                  *child_pid_out,\n+                                  gint                  *stdin_pipe_out,\n+                                  gint                  *stdout_pipe_out,\n+                                  gint                  *stderr_pipe_out,\n+                                  GError               **error)\n@@ -784,1 +885,2 @@\n-  g_return_val_if_fail (standard_output == NULL ||\n+  g_return_val_if_fail (argv[0] != NULL, FALSE);\n+  g_return_val_if_fail (stdout_pipe_out == NULL ||\n@@ -786,1 +888,1 @@\n-  g_return_val_if_fail (standard_error == NULL ||\n+  g_return_val_if_fail (stderr_pipe_out == NULL ||\n@@ -789,1 +891,1 @@\n-  g_return_val_if_fail (standard_input == NULL ||\n+  g_return_val_if_fail (stdin_pipe_out == NULL ||\n@@ -791,20 +893,30 @@\n-\n-  return fork_exec_with_pipes (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n-                               working_directory,\n-                               argv,\n-                               envp,\n-                               !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n-                               (flags & G_SPAWN_SEARCH_PATH) != 0,\n-                               (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n-                               (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n-                               (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n-                               (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n-                               (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n-                               (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n-                               child_setup,\n-                               user_data,\n-                               child_pid,\n-                               standard_input,\n-                               standard_output,\n-                               standard_error,\n-                               error);\n+  \/* can’t use pipes and stdin\/stdout\/stderr FDs *\/\n+  g_return_val_if_fail (stdin_pipe_out == NULL || stdin_fd < 0, FALSE);\n+  g_return_val_if_fail (stdout_pipe_out == NULL || stdout_fd < 0, FALSE);\n+  g_return_val_if_fail (stderr_pipe_out == NULL || stderr_fd < 0, FALSE);\n+\n+  return fork_exec (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    (const gchar * const *) argv,\n+                    (const gchar * const *) envp,\n+                    !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n+                    (flags & G_SPAWN_SEARCH_PATH) != 0,\n+                    (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n+                    (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n+                    (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n+                    (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n+                    child_setup,\n+                    user_data,\n+                    child_pid_out,\n+                    stdin_pipe_out,\n+                    stdout_pipe_out,\n+                    stderr_pipe_out,\n+                    stdin_fd,\n+                    stdout_fd,\n+                    stderr_fd,\n+                    source_fds,\n+                    target_fds,\n+                    n_fds,\n+                    error);\n@@ -816,1 +928,2 @@\n- * @argv: (array zero-terminated=1): child's argument vector, in the GLib file name encoding\n+ * @argv: (array zero-terminated=1): child's argument vector, in the GLib file name encoding;\n+ *   it must be non-empty and %NULL-terminated\n@@ -822,3 +935,3 @@\n- * @stdin_fd: file descriptor to use for child's stdin, or -1\n- * @stdout_fd: file descriptor to use for child's stdout, or -1\n- * @stderr_fd: file descriptor to use for child's stderr, or -1\n+ * @stdin_fd: file descriptor to use for child's stdin, or `-1`\n+ * @stdout_fd: file descriptor to use for child's stdout, or `-1`\n+ * @stderr_fd: file descriptor to use for child's stderr, or `-1`\n@@ -827,5 +940,1 @@\n- * Identical to g_spawn_async_with_pipes() but instead of\n- * creating pipes for the stdin\/stdout\/stderr, you can pass existing\n- * file descriptors into this function through the @stdin_fd,\n- * @stdout_fd and @stderr_fd parameters. The following @flags\n- * also have their behaviour slightly tweaked as a result:\n+ * Executes a child program asynchronously.\n@@ -833,12 +942,2 @@\n- * %G_SPAWN_STDOUT_TO_DEV_NULL means that the child's standard output\n- * will be discarded, instead of going to the same location as the parent's\n- * standard output. If you use this flag, @standard_output must be -1.\n- * %G_SPAWN_STDERR_TO_DEV_NULL means that the child's standard error\n- * will be discarded, instead of going to the same location as the parent's\n- * standard error. If you use this flag, @standard_error must be -1.\n- * %G_SPAWN_CHILD_INHERITS_STDIN means that the child will inherit the parent's\n- * standard input (by default, the child's standard input is attached to\n- * \/dev\/null). If you use this flag, @standard_input must be -1.\n- *\n- * It is valid to pass the same fd in multiple parameters (e.g. you can pass\n- * a single fd for both stdout and stderr).\n+ * Identical to g_spawn_async_with_pipes_and_fds() but with `n_fds` set to zero,\n+ * so no FD assignments are used.\n@@ -864,0 +963,1 @@\n+  g_return_val_if_fail (argv[0] != NULL, FALSE);\n@@ -872,20 +972,21 @@\n-  return fork_exec_with_fds (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n-                               working_directory,\n-                               argv,\n-                               envp,\n-                               !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n-                               (flags & G_SPAWN_SEARCH_PATH) != 0,\n-                               (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n-                               (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n-                               (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n-                               (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n-                               (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n-                               (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n-                               child_setup,\n-                               user_data,\n-                               child_pid,\n-                               NULL,\n-                               stdin_fd,\n-                               stdout_fd,\n-                               stderr_fd,\n-                               error);\n+  return fork_exec (!(flags & G_SPAWN_DO_NOT_REAP_CHILD),\n+                    working_directory,\n+                    (const gchar * const *) argv,\n+                    (const gchar * const *) envp,\n+                    !(flags & G_SPAWN_LEAVE_DESCRIPTORS_OPEN),\n+                    (flags & G_SPAWN_SEARCH_PATH) != 0,\n+                    (flags & G_SPAWN_SEARCH_PATH_FROM_ENVP) != 0,\n+                    (flags & G_SPAWN_STDOUT_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_STDERR_TO_DEV_NULL) != 0,\n+                    (flags & G_SPAWN_CHILD_INHERITS_STDIN) != 0,\n+                    (flags & G_SPAWN_FILE_AND_ARGV_ZERO) != 0,\n+                    (flags & G_SPAWN_CLOEXEC_PIPES) != 0,\n+                    child_setup,\n+                    user_data,\n+                    child_pid,\n+                    NULL, NULL, NULL,\n+                    stdin_fd,\n+                    stdout_fd,\n+                    stderr_fd,\n+                    NULL, NULL, 0,\n+                    error);\n@@ -899,1 +1000,1 @@\n- * @exit_status: (out) (optional): return location for child exit status, as returned by waitpid()\n+ * @wait_status: (out) (optional): return location for child wait status, as returned by waitpid()\n@@ -903,6 +1004,11 @@\n- * removed, taking a command line instead of an argument vector.  See\n- * g_spawn_sync() for full details. @command_line will be parsed by\n- * g_shell_parse_argv(). Unlike g_spawn_sync(), the %G_SPAWN_SEARCH_PATH flag\n- * is enabled. Note that %G_SPAWN_SEARCH_PATH can have security\n- * implications, so consider using g_spawn_sync() directly if\n- * appropriate. Possible errors are those from g_spawn_sync() and those\n+ * removed, taking a command line instead of an argument vector.\n+ *\n+ * See g_spawn_sync() for full details.\n+ *\n+ * The @command_line argument will be parsed by g_shell_parse_argv().\n+ *\n+ * Unlike g_spawn_sync(), the %G_SPAWN_SEARCH_PATH flag is enabled.\n+ * Note that %G_SPAWN_SEARCH_PATH can have security implications, so\n+ * consider using g_spawn_sync() directly if appropriate.\n+ *\n+ * Possible errors are those from g_spawn_sync() and those\n@@ -911,1 +1017,1 @@\n- * If @exit_status is non-%NULL, the platform-specific exit status of\n+ * If @wait_status is non-%NULL, the platform-specific status of\n@@ -913,1 +1019,3 @@\n- * g_spawn_check_exit_status() for how to use and interpret this.\n+ * g_spawn_check_wait_status() for how to use and interpret this.\n+ * On Unix platforms, note that it is usually not equal\n+ * to the integer passed to `exit()` or returned from `main()`.\n@@ -931,1 +1039,1 @@\n-                           gint         *exit_status,\n+                           gint         *wait_status,\n@@ -939,0 +1047,1 @@\n+  \/* This will return a runtime error if @command_line is the empty string. *\/\n@@ -952,1 +1061,1 @@\n-                         exit_status,\n+                         wait_status,\n@@ -965,2 +1074,3 @@\n- * g_shell_parse_argv() and passes it to g_spawn_async(). Runs a\n- * command line in the background. Unlike g_spawn_async(), the\n+ * g_shell_parse_argv() and passes it to g_spawn_async().\n+ *\n+ * Runs a command line in the background. Unlike g_spawn_async(), the\n@@ -985,0 +1095,1 @@\n+  \/* This will return a runtime error if @command_line is the empty string. *\/\n@@ -1004,2 +1115,2 @@\n- * g_spawn_check_exit_status:\n- * @exit_status: An exit code as returned from g_spawn_sync()\n+ * g_spawn_check_wait_status:\n+ * @wait_status: A platform-specific wait status as returned from g_spawn_sync()\n@@ -1008,1 +1119,1 @@\n- * Set @error if @exit_status indicates the child exited abnormally\n+ * Set @error if @wait_status indicates the child exited abnormally\n@@ -1011,2 +1122,2 @@\n- * The g_spawn_sync() and g_child_watch_add() family of APIs return an\n- * exit status for subprocesses encoded in a platform-specific way.\n+ * The g_spawn_sync() and g_child_watch_add() family of APIs return the\n+ * status of subprocesses encoded in a platform-specific way.\n@@ -1017,1 +1128,1 @@\n- * @exit_status required use of platform-specific APIs, which is problematic\n+ * @wait_status required use of platform-specific APIs, which is problematic\n@@ -1024,1 +1135,1 @@\n- * human-readable information about the exit status.\n+ * human-readable information about the wait status.\n@@ -1029,1 +1140,1 @@\n- * @exit_status. On Windows, it is always the case.\n+ * @wait_status. On Windows, it is always the case.\n@@ -1036,2 +1147,2 @@\n- * status, the domain will be %G_SPAWN_ERROR, and the code will be\n- * %G_SPAWN_ERROR_FAILED.\n+ * status (for example if it was killed by a signal), the domain will be\n+ * %G_SPAWN_ERROR and the code will be %G_SPAWN_ERROR_FAILED.\n@@ -1041,1 +1152,1 @@\n- * WIFEXITED() and WEXITSTATUS() on @exit_status directly. Do not attempt\n+ * WIFEXITED() and WEXITSTATUS() on @wait_status directly. Do not attempt\n@@ -1045,0 +1156,3 @@\n+ * Prior to version 2.70, g_spawn_check_exit_status() provides the same\n+ * functionality, although under a misleading name.\n+ *\n@@ -1046,1 +1160,1 @@\n- *     @error will be set)\n+ *   @error will be set)\n@@ -1048,1 +1162,1 @@\n- * Since: 2.34\n+ * Since: 2.70\n@@ -1051,2 +1165,2 @@\n-g_spawn_check_exit_status (gint      exit_status,\n-         GError  **error)\n+g_spawn_check_wait_status (gint      wait_status,\n+                           GError  **error)\n@@ -1056,1 +1170,1 @@\n-  if (WIFEXITED (exit_status))\n+  if (WIFEXITED (wait_status))\n@@ -1058,7 +1172,7 @@\n-      if (WEXITSTATUS (exit_status) != 0)\n-  {\n-    g_set_error (error, G_SPAWN_EXIT_ERROR, WEXITSTATUS (exit_status),\n-           _(\"Child process exited with code %ld\"),\n-           (long) WEXITSTATUS (exit_status));\n-    goto out;\n-  }\n+      if (WEXITSTATUS (wait_status) != 0)\n+        {\n+          g_set_error (error, G_SPAWN_EXIT_ERROR, WEXITSTATUS (wait_status),\n+                       _(\"Child process exited with code %ld\"),\n+                       (long) WEXITSTATUS (wait_status));\n+          goto out;\n+        }\n@@ -1066,1 +1180,1 @@\n-  else if (WIFSIGNALED (exit_status))\n+  else if (WIFSIGNALED (wait_status))\n@@ -1069,2 +1183,2 @@\n-       _(\"Child process killed by signal %ld\"),\n-       (long) WTERMSIG (exit_status));\n+                   _(\"Child process killed by signal %ld\"),\n+                   (long) WTERMSIG (wait_status));\n@@ -1073,1 +1187,1 @@\n-  else if (WIFSTOPPED (exit_status))\n+  else if (WIFSTOPPED (wait_status))\n@@ -1076,2 +1190,2 @@\n-       _(\"Child process stopped by signal %ld\"),\n-       (long) WSTOPSIG (exit_status));\n+                   _(\"Child process stopped by signal %ld\"),\n+                   (long) WSTOPSIG (wait_status));\n@@ -1083,1 +1197,1 @@\n-       _(\"Child process exited abnormally\"));\n+                   _(\"Child process exited abnormally\"));\n@@ -1092,0 +1206,28 @@\n+\/**\n+ * g_spawn_check_exit_status:\n+ * @wait_status: A status as returned from g_spawn_sync()\n+ * @error: a #GError\n+ *\n+ * An old name for g_spawn_check_wait_status(), deprecated because its\n+ * name is misleading.\n+ *\n+ * Despite the name of the function, @wait_status must be the wait status\n+ * as returned by g_spawn_sync(), g_subprocess_get_status(), `waitpid()`,\n+ * etc. On Unix platforms, it is incorrect for it to be the exit status\n+ * as passed to `exit()` or returned by g_subprocess_get_exit_status() or\n+ * `WEXITSTATUS()`.\n+ *\n+ * Returns: %TRUE if child exited successfully, %FALSE otherwise (and\n+ *     @error will be set)\n+ *\n+ * Since: 2.34\n+ *\n+ * Deprecated: 2.70: Use g_spawn_check_wait_status() instead, and check whether your code is conflating wait and exit statuses.\n+ *\/\n+gboolean\n+g_spawn_check_exit_status (gint      wait_status,\n+                           GError  **error)\n+{\n+  return g_spawn_check_wait_status (wait_status, error);\n+}\n+\n@@ -1119,1 +1261,1 @@\n-G_GNUC_NORETURN\n+G_NORETURN\n@@ -1142,0 +1284,62 @@\n+\/* This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)). *\/\n+static void\n+unset_cloexec (int fd)\n+{\n+  int flags;\n+  int result;\n+\n+  flags = fcntl (fd, F_GETFD, 0);\n+\n+  if (flags != -1)\n+    {\n+      int errsv;\n+      flags &= (~FD_CLOEXEC);\n+      do\n+        {\n+          result = fcntl (fd, F_SETFD, flags);\n+          errsv = errno;\n+        }\n+      while (result == -1 && errsv == EINTR);\n+    }\n+}\n+\n+\/* This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)). *\/\n+static int\n+dupfd_cloexec (int old_fd, int new_fd_min)\n+{\n+  int fd, errsv;\n+#ifdef F_DUPFD_CLOEXEC\n+  do\n+    {\n+      fd = fcntl (old_fd, F_DUPFD_CLOEXEC, new_fd_min);\n+      errsv = errno;\n+    }\n+  while (fd == -1 && errsv == EINTR);\n+#else\n+  \/* OS X Snow Lion and earlier don't have F_DUPFD_CLOEXEC:\n+   * https:\/\/bugzilla.gnome.org\/show_bug.cgi?id=710962\n+   *\/\n+  int result, flags;\n+  do\n+    {\n+      fd = fcntl (old_fd, F_DUPFD, new_fd_min);\n+      errsv = errno;\n+    }\n+  while (fd == -1 && errsv == EINTR);\n+  flags = fcntl (fd, F_GETFD, 0);\n+  if (flags != -1)\n+    {\n+      flags |= FD_CLOEXEC;\n+      do\n+        {\n+          result = fcntl (fd, F_SETFD, flags);\n+          errsv = errno;\n+        }\n+      while (result == -1 && errsv == EINTR);\n+    }\n+#endif\n+  return fd;\n+}\n+\n@@ -1266,0 +1470,21 @@\n+#if defined(__sun__) && defined(F_PREVFD) && defined(F_NEXTFD)\n+\/*\n+ * Solaris 11.4 has a signal-safe way which allows\n+ * us to find all file descriptors in a process.\n+ *\n+ * fcntl(fd, F_NEXTFD, maxfd)\n+ * - returns the first allocated file descriptor <= maxfd  > fd.\n+ *\n+ * fcntl(fd, F_PREVFD)\n+ * - return highest allocated file descriptor < fd.\n+ *\/\n+\n+  open_max = fcntl (INT_MAX, F_PREVFD); \/* find the maximum fd *\/\n+  if (open_max < 0) \/* No open files *\/\n+    return 0;\n+\n+  for (fd = -1; (fd = fcntl (fd, F_NEXTFD, open_max)) != -1; )\n+    if ((res = cb (data, fd)) != 0 || fd == open_max)\n+      break;\n+#else\n+\n@@ -1276,1 +1501,1 @@\n-#if defined(__FreeBSD__) || defined(__OpenBSD__)\n+#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__APPLE__)\n@@ -1285,0 +1510,3 @@\n+   *\n+   * Apple: sysconf() is included in the list of async-signal safe functions\n+   * found in https:\/\/opensource.apple.com\/source\/xnu\/xnu-517.12.7\/bsd\/man\/man2\/sigaction.2\n@@ -1296,0 +1524,1 @@\n+#endif\n@@ -1303,1 +1532,26 @@\n-static void\n+static int\n+safe_fdwalk_set_cloexec (int lowfd)\n+{\n+#if defined(HAVE_CLOSE_RANGE) && defined(CLOSE_RANGE_CLOEXEC)\n+  \/* close_range() is available in Linux since kernel 5.9, and on FreeBSD at\n+   * around the same time. It was designed for use in async-signal-safe\n+   * situations: https:\/\/bugs.python.org\/issue38061\n+   *\n+   * The `CLOSE_RANGE_CLOEXEC` flag was added in Linux 5.11, and is not yet\n+   * present in FreeBSD.\n+   *\n+   * Handle ENOSYS in case it’s supported in libc but not the kernel; if so,\n+   * fall back to safe_fdwalk(). Handle EINVAL in case `CLOSE_RANGE_CLOEXEC`\n+   * is not supported. *\/\n+  int ret = close_range (lowfd, G_MAXUINT, CLOSE_RANGE_CLOEXEC);\n+  if (ret == 0 || !(errno == ENOSYS || errno == EINVAL))\n+    return ret;\n+#endif  \/* HAVE_CLOSE_RANGE *\/\n+  return safe_fdwalk (set_cloexec, GINT_TO_POINTER (lowfd));\n+}\n+\n+\/* This function is called between fork() and exec() and hence must be\n+ * async-signal-safe (see signal-safety(7)).\n+ *\n+ * On failure, `-1` will be returned and errno will be set. *\/\n+static int\n@@ -1306,1 +1560,2 @@\n-#if defined(__FreeBSD__) || defined(__OpenBSD__)\n+#if defined(__FreeBSD__) || defined(__OpenBSD__) || \\\n+  (defined(__sun__) && defined(F_CLOSEFROM))\n@@ -1315,0 +1570,3 @@\n+   *\n+   * In Solaris as of 11.3 SRU 31, closefrom() is also a direct system call.\n+   * On such systems, F_CLOSEFROM is defined.\n@@ -1317,0 +1575,1 @@\n+  return 0;\n@@ -1324,0 +1583,1 @@\n+  return 0;\n@@ -1329,1 +1589,1 @@\n-  (void) fcntl (lowfd, F_CLOSEM);\n+  return fcntl (lowfd, F_CLOSEM);\n@@ -1331,1 +1591,13 @@\n-  (void) safe_fdwalk (close_func, GINT_TO_POINTER (lowfd));\n+\n+#if defined(HAVE_CLOSE_RANGE)\n+  \/* close_range() is available in Linux since kernel 5.9, and on FreeBSD at\n+   * around the same time. It was designed for use in async-signal-safe\n+   * situations: https:\/\/bugs.python.org\/issue38061\n+   *\n+   * Handle ENOSYS in case it’s supported in libc but not the kernel; if so,\n+   * fall back to safe_fdwalk(). *\/\n+  int ret = close_range (lowfd, G_MAXUINT, 0);\n+  if (ret == 0 || errno != ENOSYS)\n+    return ret;\n+#endif  \/* HAVE_CLOSE_RANGE *\/\n+  return safe_fdwalk (close_func, GINT_TO_POINTER (lowfd));\n@@ -1367,0 +1639,1 @@\n+  CHILD_OPEN_FAILED,\n@@ -1368,1 +1641,2 @@\n-  CHILD_FORK_FAILED\n+  CHILD_FORK_FAILED,\n+  CHILD_CLOSE_FAILED,\n@@ -1372,1 +1646,3 @@\n- * async-signal-safe (see signal-safety(7)) until it calls exec(). *\/\n+ * async-signal-safe (see signal-safety(7)) until it calls exec().\n+ *\n+ * All callers must guarantee that @argv and @argv[0] are non-NULL. *\/\n@@ -1378,0 +1654,3 @@\n+         gint                 *source_fds,\n+         const gint           *target_fds,\n+         gsize                 n_fds,\n@@ -1379,1 +1658,1 @@\n-         gchar               **argv,\n+         const gchar * const  *argv,\n@@ -1382,1 +1661,1 @@\n-         gchar               **envp,\n+         const gchar * const  *envp,\n@@ -1394,0 +1673,3 @@\n+  gsize i;\n+  gint max_target_fd = 0;\n+\n@@ -1399,1 +1681,0 @@\n-\n@@ -1402,2 +1683,0 @@\n-      \/* dup2 can't actually fail here I don't think *\/\n-\n@@ -1408,1 +1687,3 @@\n-      set_cloexec (GINT_TO_POINTER(0), stdin_fd);\n+      if (!((stdout_fd >= 0 || stdout_to_null) && stdin_fd == 1) &&\n+          !((stderr_fd >= 0 || stderr_to_null) && stdin_fd == 2))\n+        set_cloexec (GINT_TO_POINTER(0), stdin_fd);\n@@ -1415,0 +1696,3 @@\n+        write_err_and_exit (child_err_report_fd,\n+                            CHILD_OPEN_FAILED);\n+      if (safe_dup2 (read_null, 0) < 0)\n@@ -1417,1 +1701,0 @@\n-      safe_dup2 (read_null, 0);\n@@ -1423,2 +1706,0 @@\n-      \/* dup2 can't actually fail here I don't think *\/\n-\n@@ -1429,1 +1710,3 @@\n-      set_cloexec (GINT_TO_POINTER(0), stdout_fd);\n+      if (!((stdin_fd >= 0 || !child_inherits_stdin) && stdout_fd == 0) &&\n+          !((stderr_fd >= 0 || stderr_to_null) && stdout_fd == 2))\n+        set_cloexec (GINT_TO_POINTER(0), stdout_fd);\n@@ -1435,0 +1718,3 @@\n+        write_err_and_exit (child_err_report_fd,\n+                            CHILD_OPEN_FAILED);\n+      if (safe_dup2 (write_null, 1) < 0)\n@@ -1437,1 +1723,0 @@\n-      safe_dup2 (write_null, 1);\n@@ -1443,2 +1728,0 @@\n-      \/* dup2 can't actually fail here I don't think *\/\n-\n@@ -1449,1 +1732,3 @@\n-      set_cloexec (GINT_TO_POINTER(0), stderr_fd);\n+      if (!((stdin_fd >= 0 || !child_inherits_stdin) && stderr_fd == 0) &&\n+          !((stdout_fd >= 0 || stdout_to_null) && stderr_fd == 1))\n+        set_cloexec (GINT_TO_POINTER(0), stderr_fd);\n@@ -1454,1 +1739,6 @@\n-      safe_dup2 (write_null, 2);\n+      if (write_null < 0)\n+        write_err_and_exit (child_err_report_fd,\n+                            CHILD_OPEN_FAILED);\n+      if (safe_dup2 (write_null, 2) < 0)\n+        write_err_and_exit (child_err_report_fd,\n+                            CHILD_DUP2_FAILED);\n@@ -1458,1 +1748,1 @@\n-  \/* Close all file descriptors but stdin, stdout and stderr\n+  \/* Close all file descriptors but stdin, stdout and stderr, and any of source_fds,\n@@ -1465,1 +1755,1 @@\n-      if (child_setup == NULL)\n+      if (child_setup == NULL && n_fds == 0)\n@@ -1467,1 +1757,2 @@\n-          safe_dup2 (child_err_report_fd, 3);\n+          if (safe_dup2 (child_err_report_fd, 3) < 0)\n+            write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n@@ -1469,1 +1760,2 @@\n-          safe_closefrom (4);\n+          if (safe_closefrom (4) < 0)\n+            write_err_and_exit (child_err_report_fd, CHILD_CLOSE_FAILED);\n@@ -1474,1 +1766,2 @@\n-          safe_fdwalk (set_cloexec, GINT_TO_POINTER (3));\n+          if (safe_fdwalk_set_cloexec (3) < 0)\n+            write_err_and_exit (child_err_report_fd, CHILD_CLOSE_FAILED);\n@@ -1483,0 +1776,65 @@\n+  \/*\n+   * Work through the @source_fds and @target_fds mapping.\n+   *\n+   * Based on code originally derived from\n+   * gnome-terminal:src\/terminal-screen.c:terminal_screen_child_setup(),\n+   * used under the LGPLv2+ with permission from author. (The code has\n+   * since migrated to vte:src\/spawn.cc:SpawnContext::exec and is no longer\n+   * terribly similar to what we have here.)\n+   *\/\n+\n+  if (n_fds > 0)\n+    {\n+      for (i = 0; i < n_fds; i++)\n+        max_target_fd = MAX (max_target_fd, target_fds[i]);\n+\n+      if (max_target_fd == G_MAXINT)\n+        {\n+          errno = EINVAL;\n+          write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+        }\n+\n+      \/* If we're doing remapping fd assignments, we need to handle\n+       * the case where the user has specified e.g. 5 -> 4, 4 -> 6.\n+       * We do this by duping all source fds, taking care to ensure the new\n+       * fds are larger than any target fd to avoid introducing new conflicts.\n+       *\/\n+      for (i = 0; i < n_fds; i++)\n+        {\n+          if (source_fds[i] != target_fds[i])\n+            {\n+              source_fds[i] = dupfd_cloexec (source_fds[i], max_target_fd + 1);\n+              if (source_fds[i] < 0)\n+                write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+            }\n+        }\n+\n+      for (i = 0; i < n_fds; i++)\n+        {\n+          \/* For basic fd assignments (where source == target), we can just\n+           * unset FD_CLOEXEC.\n+           *\/\n+          if (source_fds[i] == target_fds[i])\n+            {\n+              unset_cloexec (source_fds[i]);\n+            }\n+          else\n+            {\n+              \/* If any of the @target_fds conflict with @child_err_report_fd,\n+               * dup it so it doesn’t get conflated.\n+               *\/\n+              if (target_fds[i] == child_err_report_fd)\n+                {\n+                  child_err_report_fd = dupfd_cloexec (child_err_report_fd, max_target_fd + 1);\n+                  if (child_err_report_fd < 0)\n+                    write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+                }\n+\n+              if (safe_dup2 (source_fds[i], target_fds[i]) < 0)\n+                write_err_and_exit (child_err_report_fd, CHILD_DUP2_FAILED);\n+\n+              close_and_invalidate (&source_fds[i]);\n+            }\n+        }\n+    }\n+\n@@ -1490,1 +1848,1 @@\n-             file_and_argv_zero ? argv + 1 : argv,\n+             (gchar **) (file_and_argv_zero ? argv + 1 : argv),\n@@ -1492,1 +1850,1 @@\n-             envp, search_path, search_path_buffer, search_path_buffer_len);\n+             (gchar **) envp, search_path, search_path_buffer, search_path_buffer_len);\n@@ -1550,2 +1908,2 @@\n-do_posix_spawn (gchar     **argv,\n-                gchar     **envp,\n+do_posix_spawn (const gchar * const *argv,\n+                const gchar * const *envp,\n@@ -1561,1 +1919,4 @@\n-                gint        stderr_fd)\n+                gint        stderr_fd,\n+                const gint *source_fds,\n+                const gint *target_fds,\n+                gsize       n_fds)\n@@ -1564,1 +1925,3 @@\n-  gchar **argv_pass;\n+  gint *duped_source_fds = NULL;\n+  gint max_target_fd = 0;\n+  const gchar * const *argv_pass;\n@@ -1568,1 +1931,1 @@\n-  gint num_parent_close_fds = 0;\n+  gsize num_parent_close_fds = 0;\n@@ -1572,1 +1935,4 @@\n-  int i, r;\n+  gsize i;\n+  int r;\n+\n+  g_assert (argv != NULL && argv[0] != NULL);\n@@ -1686,0 +2052,44 @@\n+  \/* If source_fds[i] != target_fds[i], we need to handle the case\n+   * where the user has specified, e.g., 5 -> 4, 4 -> 6. We do this\n+   * by duping the source fds, taking care to ensure the new fds are\n+   * larger than any target fd to avoid introducing new conflicts.\n+   *\n+   * If source_fds[i] == target_fds[i], then we just need to leak\n+   * the fd into the child process, which we *could* do by temporarily\n+   * unsetting CLOEXEC and then setting it again after we spawn if\n+   * it was originally set. POSIX requires that the addup2 action unset\n+   * CLOEXEC if source and target are identical, so you'd think doing it\n+   * manually wouldn't be needed, but unfortunately as of 2021 many\n+   * libcs still don't do so. Example nonconforming libcs:\n+   *  Bionic: https:\/\/android.googlesource.com\/platform\/bionic\/+\/f6e5b582604715729b09db3e36a7aeb8c24b36a4\/libc\/bionic\/spawn.cpp#71\n+   *  uclibc-ng: https:\/\/cgit.uclibc-ng.org\/cgi\/cgit\/uclibc-ng.git\/tree\/librt\/spawn.c?id=7c36bcae09d66bbaa35cbb02253ae0556f42677e#n88\n+   *\n+   * Anyway, unsetting CLOEXEC ourselves would open a small race window\n+   * where the fd could be inherited into a child process if another\n+   * thread spawns something at the same time, because we have not\n+   * called fork() and are multithreaded here. This race is avoidable by\n+   * using dupfd_cloexec, which we already have to do to handle the\n+   * source_fds[i] != target_fds[i] case. So let's always do it!\n+   *\/\n+\n+  for (i = 0; i < n_fds; i++)\n+    max_target_fd = MAX (max_target_fd, target_fds[i]);\n+\n+  if (max_target_fd == G_MAXINT)\n+    goto out_close_fds;\n+\n+  duped_source_fds = g_new (gint, n_fds);\n+  for (i = 0; i < n_fds; i++)\n+    {\n+      duped_source_fds[i] = dupfd_cloexec (source_fds[i], max_target_fd + 1);\n+      if (duped_source_fds[i] < 0)\n+        goto out_close_fds;\n+    }\n+\n+  for (i = 0; i < n_fds; i++)\n+    {\n+      r = posix_spawn_file_actions_adddup2 (&file_actions, duped_source_fds[i], target_fds[i]);\n+      if (r != 0)\n+        goto out_close_fds;\n+    }\n+\n@@ -1703,1 +2113,1 @@\n-    envp = environ;\n+    envp = (const gchar * const *) environ;\n@@ -1707,1 +2117,1 @@\n-    r = posix_spawn (&pid, argv[0], &file_actions, &attr, argv_pass, envp);\n+    r = posix_spawn (&pid, argv[0], &file_actions, &attr, (char * const *) argv_pass, (char * const *) envp);\n@@ -1709,1 +2119,1 @@\n-    r = posix_spawnp (&pid, argv[0], &file_actions, &attr, argv_pass, envp);\n+    r = posix_spawnp (&pid, argv[0], &file_actions, &attr, (char * const *) argv_pass, (char * const *) envp);\n@@ -1718,0 +2128,7 @@\n+  if (duped_source_fds != NULL)\n+    {\n+      for (i = 0; i < n_fds; i++)\n+        close_and_invalidate (&duped_source_fds[i]);\n+      g_free (duped_source_fds);\n+    }\n+\n@@ -1728,20 +2145,25 @@\n-fork_exec_with_fds (gboolean              intermediate_child,\n-                    const gchar          *working_directory,\n-                    gchar               **argv,\n-                    gchar               **envp,\n-                    gboolean              close_descriptors,\n-                    gboolean              search_path,\n-                    gboolean              search_path_from_envp,\n-                    gboolean              stdout_to_null,\n-                    gboolean              stderr_to_null,\n-                    gboolean              child_inherits_stdin,\n-                    gboolean              file_and_argv_zero,\n-                    gboolean              cloexec_pipes,\n-                    GSpawnChildSetupFunc  child_setup,\n-                    gpointer              user_data,\n-                    GPid                 *child_pid,\n-                    gint                 *child_close_fds,\n-                    gint                  stdin_fd,\n-                    gint                  stdout_fd,\n-                    gint                  stderr_fd,\n-                    GError              **error)\n+fork_exec (gboolean              intermediate_child,\n+           const gchar          *working_directory,\n+           const gchar * const  *argv,\n+           const gchar * const  *envp,\n+           gboolean              close_descriptors,\n+           gboolean              search_path,\n+           gboolean              search_path_from_envp,\n+           gboolean              stdout_to_null,\n+           gboolean              stderr_to_null,\n+           gboolean              child_inherits_stdin,\n+           gboolean              file_and_argv_zero,\n+           gboolean              cloexec_pipes,\n+           GSpawnChildSetupFunc  child_setup,\n+           gpointer              user_data,\n+           GPid                 *child_pid,\n+           gint                 *stdin_pipe_out,\n+           gint                 *stdout_pipe_out,\n+           gint                 *stderr_pipe_out,\n+           gint                  stdin_fd,\n+           gint                  stdout_fd,\n+           gint                  stderr_fd,\n+           const gint           *source_fds,\n+           const gint           *target_fds,\n+           gsize                 n_fds,\n+           GError              **error)\n@@ -1761,0 +2183,38 @@\n+  gint stdin_pipe[2] = { -1, -1 };\n+  gint stdout_pipe[2] = { -1, -1 };\n+  gint stderr_pipe[2] = { -1, -1 };\n+  gint child_close_fds[4] = { -1, -1, -1, -1 };\n+  gint n_child_close_fds = 0;\n+  gint *source_fds_copy = NULL;\n+\n+  g_assert (argv != NULL && argv[0] != NULL);\n+  g_assert (stdin_pipe_out == NULL || stdin_fd < 0);\n+  g_assert (stdout_pipe_out == NULL || stdout_fd < 0);\n+  g_assert (stderr_pipe_out == NULL || stderr_fd < 0);\n+\n+  \/* If pipes have been requested, open them *\/\n+  if (stdin_pipe_out != NULL)\n+    {\n+      if (!g_unix_open_pipe (stdin_pipe, pipe_flags, error))\n+        goto cleanup_and_fail;\n+      child_close_fds[n_child_close_fds++] = stdin_pipe[1];\n+      stdin_fd = stdin_pipe[0];\n+    }\n+\n+  if (stdout_pipe_out != NULL)\n+    {\n+      if (!g_unix_open_pipe (stdout_pipe, pipe_flags, error))\n+        goto cleanup_and_fail;\n+      child_close_fds[n_child_close_fds++] = stdout_pipe[0];\n+      stdout_fd = stdout_pipe[1];\n+    }\n+\n+  if (stderr_pipe_out != NULL)\n+    {\n+      if (!g_unix_open_pipe (stderr_pipe, pipe_flags, error))\n+        goto cleanup_and_fail;\n+      child_close_fds[n_child_close_fds++] = stderr_pipe[0];\n+      stderr_fd = stderr_pipe[1];\n+    }\n+\n+  child_close_fds[n_child_close_fds++] = -1;\n@@ -1781,1 +2241,4 @@\n-                               stderr_fd);\n+                               stderr_fd,\n+                               source_fds,\n+                               target_fds,\n+                               n_fds);\n@@ -1783,1 +2246,1 @@\n-        return TRUE;\n+        goto success;\n@@ -1793,1 +2256,1 @@\n-          return FALSE;\n+          goto cleanup_and_fail;\n@@ -1820,1 +2283,1 @@\n-    chosen_search_path = g_environ_getenv (envp, \"PATH\");\n+    chosen_search_path = g_environ_getenv ((gchar **) envp, \"PATH\");\n@@ -1874,1 +2337,1 @@\n-  argv_buffer_len = g_strv_length (argv) + 2;\n+  argv_buffer_len = g_strv_length ((gchar **) argv) + 2;\n@@ -1887,0 +2350,5 @@\n+  \/* And one to hold a copy of @source_fds for later manipulation in do_exec(). *\/\n+  source_fds_copy = g_new (int, n_fds);\n+  if (n_fds > 0)\n+    memcpy (source_fds_copy, source_fds, sizeof (*source_fds) * n_fds);\n+\n@@ -1888,5 +2356,1 @@\n-    {\n-      g_free (search_path_buffer_heap);\n-      g_free (argv_buffer_heap);\n-      return FALSE;\n-    }\n+    goto cleanup_and_fail;\n@@ -1934,1 +2398,1 @@\n-      if (child_close_fds != NULL)\n+      if (child_close_fds[0] != -1)\n@@ -1968,0 +2432,3 @@\n+                       source_fds_copy,\n+                       target_fds,\n+                       n_fds,\n@@ -2001,0 +2468,3 @@\n+                   source_fds_copy,\n+                   target_fds,\n+                   n_fds,\n@@ -2040,2 +2510,1 @@\n-                g_warning (\"waitpid() should not fail in \"\n-         \"'fork_exec_with_pipes'\");\n+                g_warning (\"waitpid() should not fail in 'fork_exec'\");\n@@ -2077,0 +2546,8 @@\n+            case CHILD_OPEN_FAILED:\n+              g_set_error (error,\n+                           G_SPAWN_ERROR,\n+                           G_SPAWN_ERROR_FAILED,\n+                           _(\"Failed to open file to remap file descriptor (%s)\"),\n+                           g_strerror (buf[1]));\n+              break;\n+\n@@ -2081,1 +2558,1 @@\n-                           _(\"Failed to redirect output or input of child process (%s)\"),\n+                           _(\"Failed to duplicate file descriptor for child process (%s)\"),\n@@ -2094,0 +2571,8 @@\n+            case CHILD_CLOSE_FAILED:\n+              g_set_error (error,\n+                           G_SPAWN_ERROR,\n+                           G_SPAWN_ERROR_FAILED,\n+                           _(\"Failed to close file descriptor for child process (%s)\"),\n+                           g_strerror (buf[1]));\n+              break;\n+\n@@ -2139,0 +2624,1 @@\n+      g_free (source_fds_copy);\n@@ -2143,1 +2629,1 @@\n-      return TRUE;\n+      goto success;\n@@ -2146,0 +2632,17 @@\n+success:\n+  \/* Close the uncared-about ends of the pipes *\/\n+  close_and_invalidate (&stdin_pipe[0]);\n+  close_and_invalidate (&stdout_pipe[1]);\n+  close_and_invalidate (&stderr_pipe[1]);\n+\n+  if (stdin_pipe_out != NULL)\n+    *stdin_pipe_out = g_steal_fd (&stdin_pipe[1]);\n+\n+  if (stdout_pipe_out != NULL)\n+    *stdout_pipe_out = g_steal_fd (&stdout_pipe[0]);\n+\n+  if (stderr_pipe_out != NULL)\n+    *stderr_pipe_out = g_steal_fd (&stderr_pipe[0]);\n+\n+  return TRUE;\n+\n@@ -2162,2 +2665,1 @@\n-            g_warning (\"waitpid() should not fail in \"\n-                       \"'fork_exec_with_pipes'\");\n+            g_warning (\"waitpid() should not fail in 'fork_exec'\");\n@@ -2167,93 +2669,0 @@\n-  close_and_invalidate (&child_err_report_pipe[0]);\n-  close_and_invalidate (&child_err_report_pipe[1]);\n-  close_and_invalidate (&child_pid_report_pipe[0]);\n-  close_and_invalidate (&child_pid_report_pipe[1]);\n-\n-  g_free (search_path_buffer_heap);\n-  g_free (argv_buffer_heap);\n-\n-  return FALSE;\n-}\n-\n-static gboolean\n-fork_exec_with_pipes (gboolean              intermediate_child,\n-                      const gchar          *working_directory,\n-                      gchar               **argv,\n-                      gchar               **envp,\n-                      gboolean              close_descriptors,\n-                      gboolean              search_path,\n-                      gboolean              search_path_from_envp,\n-                      gboolean              stdout_to_null,\n-                      gboolean              stderr_to_null,\n-                      gboolean              child_inherits_stdin,\n-                      gboolean              file_and_argv_zero,\n-                      gboolean              cloexec_pipes,\n-                      GSpawnChildSetupFunc  child_setup,\n-                      gpointer              user_data,\n-                      GPid                 *child_pid,\n-                      gint                 *standard_input,\n-                      gint                 *standard_output,\n-                      gint                 *standard_error,\n-                      GError              **error)\n-{\n-  guint pipe_flags = cloexec_pipes ? FD_CLOEXEC : 0;\n-  gint stdin_pipe[2] = { -1, -1 };\n-  gint stdout_pipe[2] = { -1, -1 };\n-  gint stderr_pipe[2] = { -1, -1 };\n-  gint child_close_fds[4];\n-  gboolean ret;\n-\n-  if (standard_input && !g_unix_open_pipe (stdin_pipe, pipe_flags, error))\n-    goto cleanup_and_fail;\n-\n-  if (standard_output && !g_unix_open_pipe (stdout_pipe, pipe_flags, error))\n-    goto cleanup_and_fail;\n-\n-  if (standard_error && !g_unix_open_pipe (stderr_pipe, FD_CLOEXEC, error))\n-    goto cleanup_and_fail;\n-\n-  child_close_fds[0] = stdin_pipe[1];\n-  child_close_fds[1] = stdout_pipe[0];\n-  child_close_fds[2] = stderr_pipe[0];\n-  child_close_fds[3] = -1;\n-\n-  ret = fork_exec_with_fds (intermediate_child,\n-                            working_directory,\n-                            argv,\n-                            envp,\n-                            close_descriptors,\n-                            search_path,\n-                            search_path_from_envp,\n-                            stdout_to_null,\n-                            stderr_to_null,\n-                            child_inherits_stdin,\n-                            file_and_argv_zero,\n-                            pipe_flags,\n-                            child_setup,\n-                            user_data,\n-                            child_pid,\n-                            child_close_fds,\n-                            stdin_pipe[0],\n-                            stdout_pipe[1],\n-                            stderr_pipe[1],\n-                            error);\n-  if (!ret)\n-    goto cleanup_and_fail;\n-\n-  \/* Close the uncared-about ends of the pipes *\/\n-  close_and_invalidate (&stdin_pipe[0]);\n-  close_and_invalidate (&stdout_pipe[1]);\n-  close_and_invalidate (&stderr_pipe[1]);\n-\n-  if (standard_input)\n-    *standard_input = stdin_pipe[1];\n-\n-  if (standard_output)\n-    *standard_output = stdout_pipe[0];\n-\n-  if (standard_error)\n-    *standard_error = stderr_pipe[0];\n-\n-  return TRUE;\n-\n-cleanup_and_fail:\n@@ -2267,0 +2676,9 @@\n+  close_and_invalidate (&child_err_report_pipe[0]);\n+  close_and_invalidate (&child_err_report_pipe[1]);\n+  close_and_invalidate (&child_pid_report_pipe[0]);\n+  close_and_invalidate (&child_pid_report_pipe[1]);\n+\n+  g_clear_pointer (&search_path_buffer_heap, g_free);\n+  g_clear_pointer (&argv_buffer_heap, g_free);\n+  g_clear_pointer (&source_fds_copy, g_free);\n+\n@@ -2331,1 +2749,1 @@\n-  if (*file == '\\0')\n+  if (file == NULL || *file == '\\0')\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn.c","additions":829,"deletions":411,"binary":false,"changes":1240,"status":"modified"},{"patch":"@@ -98,1 +98,1 @@\n- * Error domain used by g_spawn_check_exit_status().  The code\n+ * Error domain used by g_spawn_check_wait_status().  The code\n@@ -216,0 +216,19 @@\n+GLIB_AVAILABLE_IN_2_68\n+gboolean g_spawn_async_with_pipes_and_fds (const gchar          *working_directory,\n+                                           const gchar * const  *argv,\n+                                           const gchar * const  *envp,\n+                                           GSpawnFlags           flags,\n+                                           GSpawnChildSetupFunc  child_setup,\n+                                           gpointer              user_data,\n+                                           gint                  stdin_fd,\n+                                           gint                  stdout_fd,\n+                                           gint                  stderr_fd,\n+                                           const gint           *source_fds,\n+                                           const gint           *target_fds,\n+                                           gsize                 n_fds,\n+                                           GPid                 *child_pid_out,\n+                                           gint                 *stdin_pipe_out,\n+                                           gint                 *stdout_pipe_out,\n+                                           gint                 *stderr_pipe_out,\n+                                           GError              **error);\n+\n@@ -243,1 +262,1 @@\n-                               gint                 *exit_status,\n+                               gint                 *wait_status,\n@@ -250,1 +269,1 @@\n-                                     gint                 *exit_status,\n+                                     gint                 *wait_status,\n@@ -256,2 +275,2 @@\n-GLIB_AVAILABLE_IN_2_34\n-gboolean g_spawn_check_exit_status (gint      exit_status,\n+GLIB_AVAILABLE_IN_2_70\n+gboolean g_spawn_check_wait_status (gint      wait_status,\n@@ -260,0 +279,4 @@\n+GLIB_DEPRECATED_IN_2_70_FOR(g_spawn_check_wait_status)\n+gboolean g_spawn_check_exit_status (gint      wait_status,\n+                                    GError  **error);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gspawn.h","additions":28,"deletions":5,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -375,1 +375,1 @@\n-  BYTE *data;\n+  BYTE *data = NULL;\n@@ -763,1 +763,1 @@\n-      (g_path_is_absolute (filename) && len <= g_path_skip_root (filename) - filename))\n+      (g_path_is_absolute (filename) && len <= (gsize) (g_path_skip_root (filename) - filename)))\n@@ -896,1 +896,1 @@\n-  if (tmp_len > buf_size)\n+  if ((gsize) tmp_len > buf_size)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdio.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n- * #G_STDIO_WRAP_ON_UNIX is not public API and its behaviour is not guaranteed\n+ * G_STDIO_WRAP_ON_UNIX is not public API and its behaviour is not guaranteed\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstdio.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -320,5 +320,2 @@\n-#if defined (HAVE_NEWLOCALE) && \\\n-    defined (HAVE_USELOCALE) && \\\n-    defined (HAVE_STRTOD_L) && \\\n-    defined (HAVE_STRTOULL_L) && \\\n-    defined (HAVE_STRTOLL_L)\n+#if defined(HAVE_NEWLOCALE) && \\\n+    defined(HAVE_USELOCALE)\n@@ -383,0 +380,3 @@\n+ * Deprecated: 2.68: Use g_memdup2() instead, as it accepts a #gsize argument\n+ *     for @byte_size, avoiding the possibility of overflow in a #gsize → #guint\n+ *     conversion\n@@ -401,0 +401,32 @@\n+\/**\n+ * g_memdup2:\n+ * @mem: (nullable): the memory to copy.\n+ * @byte_size: the number of bytes to copy.\n+ *\n+ * Allocates @byte_size bytes of memory, and copies @byte_size bytes into it\n+ * from @mem. If @mem is %NULL it returns %NULL.\n+ *\n+ * This replaces g_memdup(), which was prone to integer overflows when\n+ * converting the argument from a #gsize to a #guint.\n+ *\n+ * Returns: (nullable): a pointer to the newly-allocated copy of the memory,\n+ *    or %NULL if @mem is %NULL.\n+ * Since: 2.68\n+ *\/\n+gpointer\n+g_memdup2 (gconstpointer mem,\n+           gsize         byte_size)\n+{\n+  gpointer new_mem;\n+\n+  if (mem && byte_size != 0)\n+    {\n+      new_mem = g_malloc (byte_size);\n+      memcpy (new_mem, mem, byte_size);\n+    }\n+  else\n+    new_mem = NULL;\n+\n+  return new_mem;\n+}\n+\n@@ -699,1 +731,1 @@\n-#ifdef USE_XLOCALE\n+#if defined(USE_XLOCALE) && defined(HAVE_STRTOD_L)\n@@ -885,1 +917,1 @@\n- * be larger than @G_ASCII_DTOSTR_BUF_SIZE bytes, including the terminating\n+ * be larger than %G_ASCII_DTOSTR_BUF_SIZE bytes, including the terminating\n@@ -913,1 +945,1 @@\n- *          code to use for converting.\n+ *   code to use for converting\n@@ -921,0 +953,3 @@\n+ * The @format must just be a single format specifier\n+ * starting with `%`, expecting a #gdouble argument.\n+ *\n@@ -937,0 +972,4 @@\n+  g_return_val_if_fail (buffer != NULL, NULL);\n+  g_return_val_if_fail (format[0] == '%', NULL);\n+  g_return_val_if_fail (strpbrk (format + 1, \"'l%\") == NULL, NULL);\n+\n@@ -1034,1 +1073,1 @@\n-#ifndef USE_XLOCALE\n+#if !defined(USE_XLOCALE) || !defined(HAVE_STRTOULL_L) || !defined(HAVE_STRTOLL_L)\n@@ -1159,1 +1198,1 @@\n-#endif \/* !USE_XLOCALE *\/\n+#endif \/* !defined(USE_XLOCALE) || !defined(HAVE_STRTOULL_L) || !defined(HAVE_STRTOLL_L) *\/\n@@ -1200,1 +1239,1 @@\n-#ifdef USE_XLOCALE\n+#if defined(USE_XLOCALE) && defined(HAVE_STRTOULL_L)\n@@ -1247,1 +1286,1 @@\n-#ifdef USE_XLOCALE\n+#if defined(USE_XLOCALE) && defined(HAVE_STRTOLL_L)\n@@ -1864,1 +1903,3 @@\n- * characters after the first @n in each string.\n+ * characters after the first @n in each string. If either string is\n+ * less than @n bytes long, comparison will stop at the first nul byte\n+ * encountered.\n@@ -2014,1 +2055,1 @@\n- *     or %NULL to use the standard delimiters defined in #G_STR_DELIMITERS\n+ *     or %NULL to use the standard delimiters defined in %G_STR_DELIMITERS\n@@ -2018,0 +2059,1 @@\n+ *\n@@ -2020,2 +2062,4 @@\n- * and returns @string itself, not a copy. The return value is to\n- * allow nesting such as\n+ * and returns @string itself, not a copy.\n+ *\n+ * The return value is to allow nesting such as:\n+ *\n@@ -2026,1 +2070,2 @@\n- * In order to modify a copy, you may use `g_strdup()`:\n+ * In order to modify a copy, you may use g_strdup():\n+ *\n@@ -2033,1 +2078,1 @@\n- * Returns: @string\n+ * Returns: the modified @string\n@@ -2063,3 +2108,5 @@\n- * replaces the character with @substitutor. Modifies @string in place,\n- * and return @string itself, not a copy. The return value is to allow\n- * nesting such as\n+ * replaces the character with @substitutor.\n+ *\n+ * Modifies @string in place, and return @string itself, not a copy. The\n+ * return value is to allow nesting such as:\n+ *\n@@ -2070,1 +2117,2 @@\n- * In order to modify a copy, you may use `g_strdup()`:\n+ * In order to modify a copy, you may use g_strdup():\n+ *\n@@ -2077,1 +2125,1 @@\n- * Returns: @string\n+ * Returns: the modified @string\n@@ -2714,4 +2762,3 @@\n- * @haystack: a string\n- * @haystack_len: the maximum length of @haystack. Note that -1 is\n- *     a valid length, if @haystack is nul-terminated, meaning it will\n- *     search through the whole string.\n+ * @haystack: a nul-terminated string\n+ * @haystack_len: the maximum length of @haystack in bytes. A length of -1\n+ *     can be used to mean \"search the entire string\", like `strstr()`.\n@@ -2821,1 +2868,2 @@\n- * @haystack_len: the maximum length of @haystack\n+ * @haystack_len: the maximum length of @haystack in bytes. A length of -1\n+ *     can be used to mean \"search the entire string\", like g_strrstr().\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstrfuncs.c","additions":76,"deletions":28,"binary":false,"changes":104,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-#define  G_STR_DELIMITERS \"_-|> <.\"\n+#define  G_STR_DELIMITERS       \"_-|> <.\"\n@@ -104,3 +104,3 @@\n-gchar*                g_strdelimit     (gchar      *string,\n-          const gchar  *delimiters,\n-          gchar       new_delimiter);\n+gchar*                g_strdelimit     (gchar        *string,\n+                                        const gchar  *delimiters,\n+                                        gchar         new_delimiter);\n@@ -109,2 +109,2 @@\n-          const gchar  *valid_chars,\n-          gchar         substitutor);\n+                                        const gchar  *valid_chars,\n+                                        gchar         substitutor);\n@@ -112,1 +112,1 @@\n-const gchar *         g_strerror       (gint        errnum) G_GNUC_CONST;\n+const gchar *         g_strerror       (gint          errnum) G_GNUC_CONST;\n@@ -114,1 +114,1 @@\n-const gchar *         g_strsignal      (gint        signum) G_GNUC_CONST;\n+const gchar *         g_strsignal      (gint          signum) G_GNUC_CONST;\n@@ -116,1 +116,1 @@\n-gchar *               g_strreverse     (gchar      *string);\n+gchar *               g_strreverse     (gchar        *string);\n@@ -118,3 +118,3 @@\n-gsize               g_strlcpy        (gchar      *dest,\n-          const gchar  *src,\n-          gsize         dest_size);\n+gsize                 g_strlcpy        (gchar        *dest,\n+                                        const gchar  *src,\n+                                        gsize         dest_size);\n@@ -122,3 +122,3 @@\n-gsize               g_strlcat        (gchar      *dest,\n-          const gchar  *src,\n-          gsize         dest_size);\n+gsize                 g_strlcat        (gchar        *dest,\n+                                        const gchar  *src,\n+                                        gsize         dest_size);\n@@ -127,2 +127,2 @@\n-          gssize        haystack_len,\n-          const gchar  *needle);\n+                                        gssize        haystack_len,\n+                                        const gchar  *needle);\n@@ -131,1 +131,1 @@\n-          const gchar  *needle);\n+                                        const gchar  *needle);\n@@ -134,2 +134,2 @@\n-          gssize        haystack_len,\n-          const gchar  *needle);\n+                                        gssize        haystack_len,\n+                                        const gchar  *needle);\n@@ -139,1 +139,1 @@\n-          const gchar  *suffix);\n+                                        const gchar  *suffix);\n@@ -142,1 +142,1 @@\n-          const gchar  *prefix);\n+                                        const gchar  *prefix);\n@@ -148,1 +148,1 @@\n-          gchar     **endptr);\n+                                        gchar       **endptr);\n@@ -151,1 +151,1 @@\n-          gchar     **endptr);\n+                                        gchar       **endptr);\n@@ -153,3 +153,3 @@\n-guint64         g_ascii_strtoull (const gchar *nptr,\n-          gchar      **endptr,\n-          guint        base);\n+guint64               g_ascii_strtoull (const gchar *nptr,\n+                                        gchar      **endptr,\n+                                        guint        base);\n@@ -157,3 +157,3 @@\n-gint64          g_ascii_strtoll  (const gchar *nptr,\n-          gchar      **endptr,\n-          guint        base);\n+gint64                g_ascii_strtoll  (const gchar *nptr,\n+                                        gchar      **endptr,\n+                                        guint        base);\n@@ -166,2 +166,2 @@\n-          gint          buf_len,\n-          gdouble       d);\n+                                        gint          buf_len,\n+                                        gdouble       d);\n@@ -170,3 +170,3 @@\n-          gint          buf_len,\n-          const gchar  *format,\n-          gdouble       d);\n+                                        gint          buf_len,\n+                                        const gchar  *format,\n+                                        gdouble       d);\n@@ -181,1 +181,1 @@\n-#define g_strstrip( string )  g_strchomp (g_strchug (string))\n+#define g_strstrip( string )    g_strchomp (g_strchug (string))\n@@ -185,1 +185,1 @@\n-             const gchar *s2);\n+                                           const gchar *s2);\n@@ -188,2 +188,2 @@\n-             const gchar *s2,\n-             gsize        n);\n+                                           const gchar *s2,\n+                                           gsize        n);\n@@ -192,1 +192,1 @@\n-             gssize       len) G_GNUC_MALLOC;\n+                                           gssize       len) G_GNUC_MALLOC;\n@@ -195,1 +195,1 @@\n-             gssize       len) G_GNUC_MALLOC;\n+                                           gssize       len) G_GNUC_MALLOC;\n@@ -220,1 +220,1 @@\n-          ...) G_GNUC_PRINTF (1, 2) G_GNUC_MALLOC;\n+                                        ...) G_GNUC_PRINTF (1, 2) G_GNUC_MALLOC;\n@@ -223,1 +223,1 @@\n-          va_list      args) G_GNUC_PRINTF(1, 0) G_GNUC_MALLOC;\n+                                        va_list      args) G_GNUC_PRINTF(1, 0) G_GNUC_MALLOC;\n@@ -226,1 +226,1 @@\n-          gsize        n) G_GNUC_MALLOC;\n+                                        gsize        n) G_GNUC_MALLOC;\n@@ -229,1 +229,1 @@\n-          gchar        fill_char) G_GNUC_MALLOC;\n+                                        gchar        fill_char) G_GNUC_MALLOC;\n@@ -232,1 +232,1 @@\n-          ...) G_GNUC_MALLOC G_GNUC_NULL_TERMINATED;\n+                                        ...) G_GNUC_MALLOC G_GNUC_NULL_TERMINATED;\n@@ -235,1 +235,1 @@\n-          ...) G_GNUC_MALLOC G_GNUC_NULL_TERMINATED;\n+                                        ...) G_GNUC_MALLOC G_GNUC_NULL_TERMINATED;\n@@ -256,1 +256,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_DEPRECATED_IN_2_68_FOR (g_memdup2)\n@@ -258,1 +258,5 @@\n-          guint        byte_size) G_GNUC_ALLOC_SIZE(2);\n+                                        guint         byte_size) G_GNUC_ALLOC_SIZE(2);\n+\n+GLIB_AVAILABLE_IN_2_68\n+gpointer              g_memdup2        (gconstpointer mem,\n+                                        gsize         byte_size) G_GNUC_ALLOC_SIZE(2);\n@@ -272,2 +276,2 @@\n-          const gchar  *delimiter,\n-          gint          max_tokens);\n+                                        const gchar  *delimiter,\n+                                        gint          max_tokens);\n@@ -275,3 +279,3 @@\n-gchar **        g_strsplit_set   (const gchar *string,\n-          const gchar *delimiters,\n-          gint         max_tokens);\n+gchar **              g_strsplit_set   (const gchar *string,\n+                                        const gchar *delimiters,\n+                                        gint         max_tokens);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstrfuncs.h","additions":58,"deletions":54,"binary":false,"changes":112,"status":"modified"},{"patch":"@@ -1,55 +0,0 @@\n-\/* GLIB - Library of useful routines for C programming\n- * Copyright (C) 1995-1997  Peter Mattis, Spencer Kimball and Josh MacDonald\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Lesser General Public\n- * License as published by the Free Software Foundation; either\n- * version 2.1 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Lesser General Public License for more details.\n- *\n- * You should have received a copy of the GNU Lesser General Public\n- * License along with this library; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n- *\/\n-\n-#include <glib.h>\n-#include <string.h>\n-\n-\/*\n- * g_memdup2:\n- * @mem: (nullable): the memory to copy.\n- * @byte_size: the number of bytes to copy.\n- *\n- * Allocates @byte_size bytes of memory, and copies @byte_size bytes into it\n- * from @mem. If @mem is %NULL it returns %NULL.\n- *\n- * This replaces g_memdup(), which was prone to integer overflows when\n- * converting the argument from a #gsize to a #guint.\n- *\n- * This static inline version is a backport of the new public API from\n- * GLib 2.68, kept internal to GLib for backport to older stable releases.\n- * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2319.\n- *\n- * Returns: (nullable): a pointer to the newly-allocated copy of the memory,\n- *    or %NULL if @mem is %NULL.\n- * Since: 2.68\n- *\/\n-static inline gpointer\n-g_memdup2 (gconstpointer mem,\n-           gsize         byte_size)\n-{\n-  gpointer new_mem;\n-\n-  if (mem && byte_size != 0)\n-    {\n-      new_mem = g_malloc (byte_size);\n-      memcpy (new_mem, mem, byte_size);\n-    }\n-  else\n-    new_mem = NULL;\n-\n-  return new_mem;\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstrfuncsprivate.h","additions":0,"deletions":55,"binary":false,"changes":55,"status":"deleted"},{"patch":"@@ -40,0 +40,1 @@\n+#include \"gutilsprivate.h\"\n@@ -74,21 +75,0 @@\n-\n-#define MY_MAXSIZE ((gsize)-1)\n-\n-static inline gsize\n-nearest_power (gsize base, gsize num)\n-{\n-  if (num > MY_MAXSIZE \/ 2)\n-    {\n-      return MY_MAXSIZE;\n-    }\n-  else\n-    {\n-      gsize n = base;\n-\n-      while (n < num)\n-        n <<= 1;\n-\n-      return n;\n-    }\n-}\n-\n@@ -99,0 +79,4 @@\n+  \/* Detect potential overflow *\/\n+  if G_UNLIKELY ((G_MAXSIZE - string->len - 1) < len)\n+    g_error (\"adding %\" G_GSIZE_FORMAT \" to string would overflow\", len);\n+\n@@ -101,1 +85,5 @@\n-      string->allocated_len = nearest_power (1, string->len + len + 1);\n+      string->allocated_len = g_nearest_pow (string->len + len + 1);\n+      \/* If the new size is bigger than G_MAXSIZE \/ 2, only allocate enough\n+       * memory for this string and don't over-allocate. *\/\n+      if (string->allocated_len == 0)\n+        string->allocated_len = string->len + len + 1;\n@@ -107,3 +95,2 @@\n- * g_string_sized_new:\n- * @dfl_size: the default size of the space allocated to\n- *     hold the string\n+ * g_string_sized_new: (constructor)\n+ * @dfl_size: the default size of the space allocated to hold the string\n@@ -116,1 +103,1 @@\n- * Returns: the new #GString\n+ * Returns: (transfer full): the new #GString\n@@ -132,1 +119,1 @@\n-  g_string_maybe_expand (string, MAX (dfl_size, 2));\n+  g_string_maybe_expand (string, MAX (dfl_size, 64));\n@@ -139,1 +126,1 @@\n- * g_string_new:\n+ * g_string_new: (constructor)\n@@ -141,1 +128,1 @@\n- * start with an empty string\n+ *   start with an empty string\n@@ -145,1 +132,1 @@\n- * Returns: the new #GString\n+ * Returns: (transfer full): the new #GString\n@@ -168,1 +155,1 @@\n- * g_string_new_len:\n+ * g_string_new_len: (constructor)\n@@ -180,1 +167,1 @@\n- * Returns: a new #GString\n+ * Returns: (transfer full): a new #GString\n@@ -961,0 +948,63 @@\n+\/**\n+ * g_string_replace:\n+ * @string: a #GString\n+ * @find: the string to find in @string\n+ * @replace: the string to insert in place of @find\n+ * @limit: the maximum instances of @find to replace with @replace, or `0` for\n+ * no limit\n+ *\n+ * Replaces the string @find with the string @replace in a #GString up to\n+ * @limit times. If the number of instances of @find in the #GString is\n+ * less than @limit, all instances are replaced. If @limit is `0`,\n+ * all instances of @find are replaced.\n+ *\n+ * If @find is the empty string, since versions 2.69.1 and 2.68.4 the\n+ * replacement will be inserted no more than once per possible position\n+ * (beginning of string, end of string and between characters). This did\n+ * not work correctly in earlier versions.\n+ *\n+ * Returns: the number of find and replace operations performed.\n+ *\n+ * Since: 2.68\n+ *\/\n+guint\n+g_string_replace (GString     *string,\n+                  const gchar *find,\n+                  const gchar *replace,\n+                  guint        limit)\n+{\n+  gsize f_len, r_len, pos;\n+  gchar *cur, *next;\n+  guint n = 0;\n+\n+  g_return_val_if_fail (string != NULL, 0);\n+  g_return_val_if_fail (find != NULL, 0);\n+  g_return_val_if_fail (replace != NULL, 0);\n+\n+  f_len = strlen (find);\n+  r_len = strlen (replace);\n+  cur = string->str;\n+\n+  while ((next = strstr (cur, find)) != NULL)\n+    {\n+      pos = next - string->str;\n+      g_string_erase (string, pos, f_len);\n+      g_string_insert (string, pos, replace);\n+      cur = string->str + pos + r_len;\n+      n++;\n+      \/* Only match the empty string once at any given position, to\n+       * avoid infinite loops *\/\n+      if (f_len == 0)\n+        {\n+          if (cur[0] == '\\0')\n+            break;\n+          else\n+            cur++;\n+        }\n+      if (n == limit)\n+        break;\n+    }\n+\n+  return n;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstring.c","additions":82,"deletions":32,"binary":false,"changes":114,"status":"modified"},{"patch":"@@ -130,0 +130,5 @@\n+GLIB_AVAILABLE_IN_2_68\n+guint         g_string_replace          (GString         *string,\n+                                         const gchar     *find,\n+                                         const gchar     *replace,\n+                                         guint            limit);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstring.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+#include \"gutilsprivate.h\"\n@@ -85,21 +86,0 @@\n-#define MY_MAXSIZE ((gsize)-1)\n-\n-static inline gsize\n-nearest_power (gsize base,\n-               gsize num)\n-{\n-  if (num > MY_MAXSIZE \/ 2)\n-    {\n-      return MY_MAXSIZE;\n-    }\n-  else\n-    {\n-      gsize n = base;\n-\n-      while (n < num)\n-        n <<= 1;\n-\n-      return n;\n-    }\n-}\n-\n@@ -123,1 +103,1 @@\n-  actual_size = nearest_power (1, size);\n+  actual_size = g_nearest_pow (MAX (1, size));\n@@ -283,1 +263,1 @@\n-  gssize size;\n+  gsize size;\n@@ -291,1 +271,1 @@\n-    size = len;\n+    size = (gsize) len;\n@@ -293,1 +273,1 @@\n-  if ((chunk->storage_next + size + 1) > chunk->this_size)\n+  if ((G_MAXSIZE - chunk->storage_next < size + 1) || (chunk->storage_next + size + 1) > chunk->this_size)\n@@ -295,1 +275,6 @@\n-      gsize new_size = nearest_power (chunk->default_size, size + 1);\n+      gsize new_size = g_nearest_pow (MAX (chunk->default_size, size + 1));\n+\n+      \/* If size is bigger than G_MAXSIZE \/ 2 then store it in its own\n+       * allocation instead of failing here *\/\n+      if (new_size == 0)\n+        new_size = size + 1;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gstringchunk.c","additions":11,"deletions":26,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+#include <crtdbg.h>\n@@ -52,1 +53,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -313,2 +313,6 @@\n- * those tests, while `-m undefined` explicitly enables them (the default\n- * behaviour).\n+ * those tests, while `-m undefined` explicitly enables them (normally\n+ * the default behaviour).\n+ *\n+ * Since GLib 2.68, if GLib was compiled with gcc or clang and\n+ * [AddressSanitizer](https:\/\/github.com\/google\/sanitizers\/wiki\/AddressSanitizer)\n+ * is enabled, the default changes to not exercising undefined behaviour.\n@@ -580,0 +584,24 @@\n+\/**\n+ * g_assert_cmpstrv:\n+ * @strv1: (nullable): a string array (may be %NULL)\n+ * @strv2: (nullable): another string array (may be %NULL)\n+ *\n+ * Debugging macro to check if two %NULL-terminated string arrays (i.e. 2\n+ * #GStrv) are equal. If they are not equal, an error message is logged and the\n+ * application is either terminated or the testcase marked as failed.\n+ * If both arrays are %NULL, the check passes. If one array is %NULL but the\n+ * other is not, an error message is logged.\n+ *\n+ * The effect of `g_assert_cmpstrv (strv1, strv2)` is the same as\n+ * `g_assert_true (g_strv_equal (strv1, strv2))` (if both arrays are not\n+ * %NULL). The advantage of this macro is that it can produce a message that\n+ * includes how @strv1 and @strv2 are different.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ *   const char *expected[] = { \"one\", \"two\", \"three\", NULL };\n+ *   g_assert_cmpstrv (mystrv, expected);\n+ * ]|\n+ *\n+ * Since: 2.68\n+ *\/\n+\n@@ -808,0 +836,1 @@\n+static void     test_cleanup                    (void);\n@@ -848,0 +877,2 @@\n+static gboolean    test_prefix = FALSE;\n+static gboolean    test_prefix_extended = FALSE;\n@@ -849,0 +880,2 @@\n+static gboolean    test_prefix_skipped = FALSE;\n+static gboolean    test_prefix_extended_skipped = FALSE;\n@@ -860,4 +893,4 @@\n-static char       *test_argv0 = NULL;\n-static char       *test_argv0_dirname;\n-static const char *test_disted_files_dir;\n-static const char *test_built_files_dir;\n+static const char *test_argv0 = NULL;           \/* (nullable), points into global argv *\/\n+static char       *test_argv0_dirname = NULL;   \/* owned by GLib *\/\n+static const char *test_disted_files_dir;       \/* points into test_argv0_dirname or an environment variable *\/\n+static const char *test_built_files_dir;        \/* points into test_argv0_dirname or an environment variable *\/\n@@ -1010,0 +1043,2 @@\n+          else if (result == G_TEST_RUN_FAILURE && string2 != NULL)\n+            g_print (\" - %s\\n\", string2);\n@@ -1044,1 +1079,14 @@\n-        g_print (\"# %s\\n\", string1);\n+        {\n+          if (strstr (string1, \"\\n\") == NULL)\n+            g_print (\"# %s\\n\", string1);\n+          else\n+            {\n+              char **lines = g_strsplit (string1, \"\\n\", -1);\n+              gsize i;\n+\n+              for (i = 0; lines[i] != NULL; i++)\n+                g_print (\"# %s\\n\", lines[i]);\n+\n+              g_strfreev (lines);\n+            }\n+        }\n@@ -1093,1 +1141,1 @@\n-  test_argv0 = argv[0];\n+  test_argv0 = argv[0];  \/* will be NULL iff argc == 0 *\/\n@@ -1179,0 +1227,25 @@\n+          if (test_prefix_extended) {\n+            printf (\"do not mix [-r | --run-prefix] with '-p'\\n\");\n+            exit (1);\n+          }\n+          test_prefix = TRUE;\n+        }\n+      else if (strcmp (\"-r\", argv[i]) == 0 ||\n+               strncmp (\"-r=\", argv[i], 3) == 0 ||\n+               strcmp (\"--run-prefix\", argv[i]) == 0 ||\n+               strncmp (\"--run-prefix=\", argv[i], 13) == 0)\n+        {\n+            gchar *equal = argv[i] + 2;\n+            if (*equal == '=')\n+              test_paths = g_slist_prepend (test_paths, equal + 1);\n+            else if (i + 1 < argc)\n+              {\n+                argv[i++] = NULL;\n+                test_paths = g_slist_prepend (test_paths, argv[i]);\n+              }\n+            argv[i] = NULL;\n+            if (test_prefix) {\n+              printf (\"do not mix [-r | --run-prefix] with '-p'\\n\");\n+              exit (1);\n+            }\n+            test_prefix_extended = TRUE;\n@@ -1191,0 +1264,25 @@\n+          if (test_prefix_extended_skipped) {\n+            printf (\"do not mix [-x | --skip-prefix] with '-s'\\n\");\n+            exit (1);\n+          }\n+          test_prefix_skipped = TRUE;\n+        }\n+      else if (strcmp (\"-x\", argv[i]) == 0 ||\n+               strncmp (\"-x=\", argv[i], 3) == 0 ||\n+               strcmp (\"--skip-prefix\", argv[i]) == 0 ||\n+               strncmp (\"--skip-prefix=\", argv[i], 14) == 0)\n+        {\n+          gchar *equal = argv[i] + 2;\n+          if (*equal == '=')\n+            test_paths_skipped = g_slist_prepend (test_paths_skipped, equal + 1);\n+          else if (i + 1 < argc)\n+            {\n+              argv[i++] = NULL;\n+              test_paths_skipped = g_slist_prepend (test_paths_skipped, argv[i]);\n+            }\n+          argv[i] = NULL;\n+          if (test_prefix_skipped) {\n+            printf (\"do not mix [-x | --skip-prefix] with '-s'\\n\");\n+            exit (1);\n+          }\n+          test_prefix_extended_skipped = TRUE;\n@@ -1266,0 +1364,7 @@\n+                  \"  [-r | --run-prefix] PREFIX     Only start test cases (or suites) matching PREFIX (incompatible with -p).\\n\"\n+                  \"                                 Unlike the -p option (which only goes one level deep), this option would \\n\"\n+                  \"                                 run all tests path that have PREFIX at the beginning of their name.\\n\"\n+                  \"                                 Note that the prefix used should be a valid test path (and not a simple prefix).\\n\"\n+                  \"  [-x | --skip-prefix] PREFIX    Skip all tests matching PREFIX (incompatible with -s)\\n\"\n+                  \"                                 Unlike the -s option (which only skips the exact TESTPATH), this option will \\n\"\n+                  \"                                 skip all the tests that begins with PREFIX).\\n\"\n@@ -1280,2 +1385,2 @@\n-  e = 1;\n-  for (i = 1; i < argc; i++)\n+  e = 0;\n+  for (i = 0; i < argc; i++)\n@@ -1301,2 +1406,2 @@\n-      \/* Assume it's a file. *\/\n-      g_remove (path);\n+      \/* Assume it’s a file. Ignore failure. *\/\n+      (void) g_remove (path);\n@@ -1332,1 +1437,1 @@\n-  gchar *data_dir = NULL, *runtime_dir = NULL;\n+  gchar *state_dir = NULL, *data_dir = NULL, *runtime_dir = NULL;\n@@ -1369,0 +1474,1 @@\n+  state_dir = g_build_filename (subdir, \"state\", NULL);\n@@ -1386,0 +1492,1 @@\n+                   \"XDG_STATE_HOME\", state_dir,\n@@ -1390,0 +1497,1 @@\n+  g_free (state_dir);\n@@ -1492,0 +1600,23 @@\n+#ifdef _GLIB_ADDRESS_SANITIZER\n+  mutable_test_config_vars.test_undefined = FALSE;\n+#endif\n+\n+#ifdef G_OS_WIN32\n+  \/\/ don't open a window for errors (like the \"abort() was called one\")\n+  _CrtSetReportMode (_CRT_ERROR, _CRTDBG_MODE_FILE);\n+  _CrtSetReportFile (_CRT_ERROR, _CRTDBG_FILE_STDERR);\n+  \/\/ while gtest tests tend to use g_assert and friends\n+  \/\/ if they do use the C standard assert macro we want to\n+  \/\/ output a message to stderr, not open a popup window\n+  _CrtSetReportMode (_CRT_ASSERT, _CRTDBG_MODE_FILE);\n+  _CrtSetReportFile (_CRT_ASSERT, _CRTDBG_FILE_STDERR);\n+  \/\/ in release mode abort() will pop up a windows error\n+  \/\/ reporting dialog, let's prevent that. Only msvcrxx and\n+  \/\/ the UCRT have this function, but there's no great way to\n+  \/\/ detect msvcrxx (that I know of) so only call this when using\n+  \/\/ the UCRT\n+#ifdef _UCRT\n+  _set_abort_behavior (0, _CALL_REPORTFAULT);\n+#endif\n+#endif\n+\n@@ -1604,1 +1735,1 @@\n-  test_argv0_dirname = g_path_get_dirname (test_argv0);\n+  test_argv0_dirname = (test_argv0 != NULL) ? g_path_get_dirname (test_argv0) : g_strdup (\".\");\n@@ -1624,0 +1755,12 @@\n+static void\n+test_cleanup (void)\n+{\n+  \/* Free statically allocated variables *\/\n+\n+  g_clear_pointer (&test_run_rand, g_rand_free);\n+\n+  g_clear_pointer (&test_argv0_dirname, g_free);\n+\n+  g_clear_pointer (&test_initial_cwd, g_free);\n+}\n+\n@@ -1783,1 +1926,2 @@\n- * Get the time since the last start of the timer with g_test_timer_start().\n+ * Get the number of seconds since the last start of the timer with\n+ * g_test_timer_start().\n@@ -1785,1 +1929,1 @@\n- * Returns: the time since the last start of the timer, as a double\n+ * Returns: the time since the last start of the timer in seconds, as a double\n@@ -1911,1 +2055,1 @@\n- * '\\%s' within @uri_pattern if that is present.\n+ * `%s` within @uri_pattern if that is present.\n@@ -1927,1 +2071,1 @@\n- * @bug_uri_snippet: Bug specific bug tracker URI portion.\n+ * @bug_uri_snippet: Bug specific bug tracker URI or URI portion.\n@@ -1931,0 +2075,1 @@\n+ *\n@@ -1936,0 +2081,3 @@\n+ * Since GLib 2.70, the base URI is not prepended to @bug_uri_snippet if it\n+ * is already a valid URI.\n+ *\n@@ -1946,0 +2094,7 @@\n+  if (g_str_has_prefix (bug_uri_snippet, \"http:\") ||\n+      g_str_has_prefix (bug_uri_snippet, \"https:\"))\n+    {\n+      g_test_message (\"Bug Reference: %s\", bug_uri_snippet);\n+      return;\n+    }\n+\n@@ -2064,2 +2219,16 @@\n-  if (g_test_run_suite (g_test_get_root()) != 0)\n-    return 1;\n+  int ret;\n+  GTestSuite *suite;\n+\n+  if (atexit (test_cleanup) != 0)\n+    {\n+      int errsv = errno;\n+      g_error (\"Unable to register test cleanup to be run at exit: %s\",\n+               g_strerror (errsv));\n+    }\n+\n+  suite = g_test_get_root ();\n+  if (g_test_run_suite (suite) != 0)\n+    {\n+      ret = 1;\n+      goto out;\n+    }\n@@ -2078,1 +2247,4 @@\n-    return 0;\n+    {\n+      ret = 0;\n+      goto out;\n+    }\n@@ -2081,1 +2253,4 @@\n-    return 77;\n+    {\n+      ret = 77;\n+      goto out;\n+    }\n@@ -2083,1 +2258,8 @@\n-    return 0;\n+    {\n+      ret = 0;\n+      goto out;\n+    }\n+\n+out:\n+  g_test_suite_free (suite);\n+  return ret;\n@@ -2253,0 +2435,6 @@\n+ * Note that unlike g_test_skip() and g_test_incomplete(), this\n+ * function does not log a message alongside the test failure.\n+ * If details of the test failure are available, either log them with\n+ * g_test_message() before g_test_fail(), or use g_test_fail_printf()\n+ * instead.\n+ *\n@@ -2259,0 +2447,24 @@\n+  g_clear_pointer (&test_run_msg, g_free);\n+}\n+\n+\/**\n+ * g_test_fail_printf:\n+ * @format: the format string\n+ * @...:    printf-like arguments to @format\n+ *\n+ * Equivalent to g_test_fail(), but also record a message like\n+ * g_test_skip_printf().\n+ *\n+ * Since: 2.70\n+ **\/\n+void\n+g_test_fail_printf (const char *format,\n+                    ...)\n+{\n+  va_list args;\n+\n+  test_run_success = G_TEST_RUN_FAILURE;\n+  va_start (args, format);\n+  g_free (test_run_msg);\n+  test_run_msg = g_strdup_vprintf (format, args);\n+  va_end (args);\n@@ -2286,0 +2498,23 @@\n+\/**\n+ * g_test_incomplete_printf:\n+ * @format: the format string\n+ * @...:    printf-like arguments to @format\n+ *\n+ * Equivalent to g_test_incomplete(), but the explanation is formatted\n+ * as if by g_strdup_printf().\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_test_incomplete_printf (const char *format,\n+                          ...)\n+{\n+  va_list args;\n+\n+  test_run_success = G_TEST_RUN_INCOMPLETE;\n+  va_start (args, format);\n+  g_free (test_run_msg);\n+  test_run_msg = g_strdup_vprintf (format, args);\n+  va_end (args);\n+}\n+\n@@ -2309,0 +2544,23 @@\n+\/**\n+ * g_test_skip_printf:\n+ * @format: the format string\n+ * @...:    printf-like arguments to @format\n+ *\n+ * Equivalent to g_test_skip(), but the explanation is formatted\n+ * as if by g_strdup_printf().\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_test_skip_printf (const char *format,\n+                    ...)\n+{\n+  va_list args;\n+\n+  test_run_success = G_TEST_RUN_SKIPPED;\n+  va_start (args, format);\n+  g_free (test_run_msg);\n+  test_run_msg = g_strdup_vprintf (format, args);\n+  va_end (args);\n+}\n+\n@@ -2609,0 +2867,16 @@\n+static gint\n+test_has_prefix (gconstpointer a,\n+                 gconstpointer b)\n+{\n+    const gchar *test_path_skipped_local = (const gchar *)a;\n+    const gchar* test_run_name_local = (const gchar*)b;\n+    if (test_prefix_extended_skipped)\n+      {\n+        \/* If both are null, we consider that it doesn't match *\/\n+        if (!test_path_skipped_local || !test_run_name_local)\n+          return FALSE;\n+        return strncmp (test_run_name_local, test_path_skipped_local, strlen (test_path_skipped_local));\n+      }\n+    return g_strcmp0 (test_run_name_local, test_path_skipped_local);\n+}\n+\n@@ -2636,1 +2910,1 @@\n-      if (test_paths_skipped && g_slist_find_custom (test_paths_skipped, test_run_name, (GCompareFunc)g_strcmp0))\n+      if (test_paths_skipped && g_slist_find_custom (test_paths_skipped, test_run_name, (GCompareFunc)test_has_prefix))\n@@ -2754,1 +3028,6 @@\n-      if (!path || path_has_prefix (path, test_run_name))\n+      if (test_prefix_extended) {\n+        if (!path || path_has_prefix (test_run_name, path))\n+          n_bad += g_test_run_suite_internal (ts, test_run_name);\n+        else if (!path || path_has_prefix (path, test_run_name))\n+          n_bad += g_test_run_suite_internal (ts, path);\n+      } else if (!path || path_has_prefix (path, test_run_name)) {\n@@ -2756,0 +3035,2 @@\n+      }\n+\n@@ -2838,0 +3119,35 @@\n+\/**\n+ * g_test_case_free:\n+ * @test_case: a #GTestCase\n+ *\n+ * Free the @test_case.\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_test_case_free (GTestCase *test_case)\n+{\n+  g_free (test_case->name);\n+  g_slice_free (GTestCase, test_case);\n+}\n+\n+\/**\n+ * g_test_suite_free:\n+ * @suite: a #GTestSuite\n+ *\n+ * Free the @suite and all nested #GTestSuites.\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n+g_test_suite_free (GTestSuite *suite)\n+{\n+  g_slist_free_full (suite->cases, (GDestroyNotify)g_test_case_free);\n+\n+  g_free (suite->name);\n+\n+  g_slist_free_full (suite->suites, (GDestroyNotify)g_test_suite_free);\n+\n+  g_slice_free (GTestSuite, suite);\n+}\n+\n@@ -3021,0 +3337,25 @@\n+void\n+g_assertion_message_cmpstrv (const char         *domain,\n+                             const char         *file,\n+                             int                 line,\n+                             const char         *func,\n+                             const char         *expr,\n+                             const char * const *arg1,\n+                             const char * const *arg2,\n+                             gsize               first_wrong_idx)\n+{\n+  const char *s1 = arg1[first_wrong_idx], *s2 = arg2[first_wrong_idx];\n+  char *a1, *a2, *s, *t1 = NULL, *t2 = NULL;\n+\n+  a1 = g_strconcat (\"\\\"\", t1 = g_strescape (s1, NULL), \"\\\"\", NULL);\n+  a2 = g_strconcat (\"\\\"\", t2 = g_strescape (s2, NULL), \"\\\"\", NULL);\n+  g_free (t1);\n+  g_free (t2);\n+  s = g_strdup_printf (\"assertion failed (%s): first differing element at index %\" G_GSIZE_FORMAT \": %s does not equal %s\",\n+                       expr, first_wrong_idx, a1, a2);\n+  g_free (a1);\n+  g_free (a2);\n+  g_assertion_message (domain, file, line, func, s);\n+  g_free (s);\n+}\n+\n@@ -3489,0 +3830,3 @@\n+  if (test_argv0 == NULL)\n+    g_error (\"g_test_trap_subprocess() requires argv0 to be passed to g_test_init()\");\n+\n@@ -3490,1 +3834,1 @@\n-  g_ptr_array_add (argv, test_argv0);\n+  g_ptr_array_add (argv, (char *) test_argv0);\n@@ -4064,1 +4408,1 @@\n- * The first difference is that must only use this function from within\n+ * The first difference is that you must only use this function from within\n@@ -4066,1 +4410,1 @@\n- * the return value -- it will be automatically freed when the testcase\n+ * the return value — it will be automatically freed when the testcase\n@@ -4102,0 +4446,20 @@\n+\n+\/**\n+ * g_test_get_path:\n+ *\n+ * Gets the test path for the test currently being run.\n+ *\n+ * In essence, it will be the same string passed as the first argument to\n+ * e.g. g_test_add() when the test was added.\n+ *\n+ * This function returns a valid string only within a test function.\n+ *\n+ * Returns: the test path for the test currently being run\n+ *\n+ * Since: 2.68\n+ **\/\n+const char *\n+g_test_get_path (void)\n+{\n+  return test_run_name;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtestutils.c","additions":393,"deletions":29,"binary":false,"changes":422,"status":"modified"},{"patch":"@@ -114,0 +114,45 @@\n+#define g_assert_cmpstrv(strv1, strv2) \\\n+  G_STMT_START \\\n+  { \\\n+    const char * const *__strv1 = (const char * const *) (strv1); \\\n+    const char * const *__strv2 = (const char * const *) (strv2); \\\n+    if (!__strv1 || !__strv2) \\\n+      { \\\n+        if (__strv1) \\\n+          { \\\n+            g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                 \"assertion failed (\" #strv1 \" == \" #strv2 \"): \" #strv2 \" is NULL, but \" #strv1 \" is not\"); \\\n+          } \\\n+        else if (__strv2) \\\n+          { \\\n+            g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                 \"assertion failed (\" #strv1 \" == \" #strv2 \"): \" #strv1 \" is NULL, but \" #strv2 \" is not\"); \\\n+          } \\\n+      } \\\n+    else \\\n+      { \\\n+        guint __l1 = g_strv_length ((char **) __strv1); \\\n+        guint __l2 = g_strv_length ((char **) __strv2); \\\n+        if (__l1 != __l2) \\\n+          { \\\n+            char *__msg; \\\n+            __msg = g_strdup_printf (\"assertion failed (\" #strv1 \" == \" #strv2 \"): length %u does not equal length %u\", __l1, __l2); \\\n+            g_assertion_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, __msg); \\\n+            g_free (__msg); \\\n+          } \\\n+        else \\\n+          { \\\n+            guint __i; \\\n+            for (__i = 0; __i < __l1; __i++) \\\n+              { \\\n+                if (g_strcmp0 (__strv1[__i], __strv2[__i]) != 0) \\\n+                  { \\\n+                    g_assertion_message_cmpstrv (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, \\\n+                                                 #strv1 \" == \" #strv2, \\\n+                                                 __strv1, __strv2, __i); \\\n+                  } \\\n+              } \\\n+          } \\\n+      } \\\n+  } \\\n+  G_STMT_END\n@@ -177,0 +222,2 @@\n+#elif defined (_MSC_VER)\n+#define g_assert_not_reached()          G_STMT_START { (void) 0; __assume (0); } G_STMT_END\n@@ -231,0 +278,1 @@\n+ *  - g_get_user_state_dir()\n@@ -294,0 +342,4 @@\n+\/* tell about currently run test *\/\n+GLIB_AVAILABLE_IN_2_68\n+const char * g_test_get_path            (void);\n+\n@@ -297,0 +349,3 @@\n+GLIB_AVAILABLE_IN_2_70\n+void    g_test_fail_printf              (const char *format,\n+                                         ...) G_GNUC_PRINTF (1, 2);\n@@ -299,0 +354,3 @@\n+GLIB_AVAILABLE_IN_2_70\n+void    g_test_incomplete_printf        (const char *format,\n+                                         ...) G_GNUC_PRINTF (1, 2);\n@@ -301,0 +359,3 @@\n+GLIB_AVAILABLE_IN_2_70\n+void    g_test_skip_printf              (const char *format,\n+                                         ...) G_GNUC_PRINTF (1, 2);\n@@ -458,0 +519,6 @@\n+GLIB_AVAILABLE_IN_2_70\n+void          g_test_case_free          (GTestCase *test_case);\n+\n+GLIB_AVAILABLE_IN_2_70\n+void          g_test_suite_free         (GTestSuite     *suite);\n+\n@@ -472,0 +539,1 @@\n+G_NORETURN\n@@ -476,1 +544,1 @@\n-                                         const char     *expr) G_GNUC_NORETURN;\n+                                         const char     *expr);\n@@ -486,0 +554,10 @@\n+\n+GLIB_AVAILABLE_IN_2_68\n+void    g_assertion_message_cmpstrv     (const char         *domain,\n+                                         const char         *file,\n+                                         int                 line,\n+                                         const char         *func,\n+                                         const char         *expr,\n+                                         const char * const *arg1,\n+                                         const char * const *arg2,\n+                                         gsize               first_wrong_idx) G_ANALYZER_NORETURN;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtestutils.h","additions":79,"deletions":1,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -75,2 +75,2 @@\n-\/* clang defines __ATOMIC_SEQ_CST but doesn't support the GCC extension *\/\n-#if defined(HAVE_FUTEX) && defined(__ATOMIC_SEQ_CST) && !defined(__clang__)\n+#if defined(HAVE_FUTEX) && \\\n+    (defined(HAVE_STDATOMIC_H) || defined(__ATOMIC_SEQ_CST))\n@@ -540,1 +540,1 @@\n- * Obtain a write lock on @rw_lock. If any thread already holds\n+ * Obtain a write lock on @rw_lock. If another thread currently holds\n@@ -544,0 +544,3 @@\n+ * Calling g_rw_lock_writer_lock() while the current thread already\n+ * owns a read or write lock on @rw_lock leads to undefined behaviour.\n+ *\n@@ -559,2 +562,3 @@\n- * Tries to obtain a write lock on @rw_lock. If any other thread holds\n- * a read or write lock on @rw_lock, it immediately returns %FALSE.\n+ * Tries to obtain a write lock on @rw_lock. If another thread\n+ * currently holds a read or write lock on @rw_lock, it immediately\n+ * returns %FALSE.\n@@ -598,3 +602,4 @@\n- * the write lock on @rw_lock, the current thread will block. If another thread\n- * does not hold the write lock, but is waiting for it, it is implementation\n- * defined whether the reader or writer will block. Read locks can be taken\n+ * the write lock on @rw_lock, the current thread will block until the\n+ * write lock was (held and) released. If another thread does not hold\n+ * the write lock, but is waiting for it, it is implementation defined\n+ * whether the reader or writer will block. Read locks can be taken\n@@ -603,2 +608,7 @@\n- * It is implementation-defined how many threads are allowed to\n- * hold read locks on the same lock simultaneously. If the limit is hit,\n+ * Calling g_rw_lock_reader_lock() while the current thread already\n+ * owns a write lock leads to undefined behaviour. Read locks however\n+ * can be taken recursively, in which case you need to make sure to\n+ * call g_rw_lock_reader_unlock() the same amount of times.\n+ *\n+ * It is implementation-defined how many read locks are allowed to be\n+ * held on the same lock simultaneously. If the limit is hit,\n@@ -1324,0 +1334,1 @@\n+      g_free (thread->thread.name);\n@@ -1404,0 +1415,17 @@\n+#ifdef HAVE_STDATOMIC_H\n+\n+#include <stdatomic.h>\n+\n+#define exchange_acquire(ptr, new) \\\n+  atomic_exchange_explicit((atomic_uint *) (ptr), (new), __ATOMIC_ACQUIRE)\n+#define compare_exchange_acquire(ptr, old, new) \\\n+  atomic_compare_exchange_strong_explicit((atomic_uint *) (ptr), (old), (new), \\\n+                                          __ATOMIC_ACQUIRE, __ATOMIC_RELAXED)\n+\n+#define exchange_release(ptr, new) \\\n+  atomic_exchange_explicit((atomic_uint *) (ptr), (new), __ATOMIC_RELEASE)\n+#define store_release(ptr, new) \\\n+  atomic_store_explicit((atomic_uint *) (ptr), (new), __ATOMIC_RELEASE)\n+\n+#else\n+\n@@ -1414,0 +1442,2 @@\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread-posix.c","additions":40,"deletions":10,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -304,1 +304,1 @@\n-static GPrivateDestructor * volatile g_private_destructors;\n+static GPrivateDestructor *g_private_destructors;  \/* (atomic) prepend-only *\/\n@@ -310,1 +310,1 @@\n-  DWORD impl = (DWORD) key->p;\n+  DWORD impl = (DWORD) GPOINTER_TO_UINT(key->p);\n@@ -315,1 +315,1 @@\n-      impl = (DWORD) key->p;\n+      impl = (UINT_PTR) key->p;\n@@ -322,1 +322,11 @@\n-          if (impl == TLS_OUT_OF_INDEXES)\n+          if G_UNLIKELY (impl == 0)\n+            {\n+              \/* Ignore TLS index 0 temporarily (as 0 is the indicator that we\n+               * haven't allocated TLS yet) and alloc again;\n+               * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2058 *\/\n+              DWORD impl2 = TlsAlloc ();\n+              TlsFree (impl);\n+              impl = impl2;\n+            }\n+\n+          if (impl == TLS_OUT_OF_INDEXES || impl == 0)\n@@ -332,1 +342,1 @@\n-              destructor->next = g_private_destructors;\n+              destructor->next = g_atomic_pointer_get (&g_private_destructors);\n@@ -340,2 +350,3 @@\n-              if (InterlockedCompareExchangePointer (&g_private_destructors, destructor,\n-                                                     destructor->next) != destructor->next)\n+              if (!g_atomic_pointer_compare_and_exchange (&g_private_destructors,\n+                                                          destructor->next,\n+                                                          destructor))\n@@ -346,1 +357,1 @@\n-          if (InterlockedCompareExchangePointer (&key->p, impl, NULL) != NULL)\n+          if (!g_atomic_pointer_compare_and_exchange (&key->p, NULL, impl))\n@@ -414,0 +425,22 @@\n+  \/* In static compilation, DllMain doesn't exist and so DLL_THREAD_DETACH\n+   * case is never called and thread destroy notifications are not triggered.\n+   * To ensure that notifications are correctly triggered in static\n+   * compilation mode, we call directly the \"detach\" function here right\n+   * before terminating the thread.\n+   * As all win32 threads initialized through the glib API are run through\n+   * the same proxy function g_thread_win32_proxy() which calls systematically\n+   * g_system_thread_exit() when finishing, we obtain the same behavior as\n+   * with dynamic compilation.\n+   *\n+   * WARNING: unfortunately this mechanism cannot work with threads created\n+   * directly from the Windows API using CreateThread() or _beginthread\/ex().\n+   * It only works with threads created by using the glib API with\n+   * g_system_thread_new(). If users need absolutely to use a thread NOT\n+   * created with glib API under Windows and in static compilation mode, they\n+   * should not use glib functions within their thread or they may encounter\n+   * memory leaks when the thread finishes.\n+   *\/\n+#ifdef GLIB_STATIC_COMPILATION\n+  g_thread_win32_thread_detach ();\n+#endif\n+\n@@ -506,1 +539,1 @@\n-  if (ResumeThread (thread->handle) == -1)\n+  if (ResumeThread (thread->handle) == (DWORD) -1)\n@@ -582,1 +615,2 @@\n-       RaiseException (EXCEPTION_SET_THREAD_NAME, 0, infosize, (DWORD *) &info);\n+       RaiseException (EXCEPTION_SET_THREAD_NAME, 0, infosize,\n+                       (const ULONG_PTR *) &info);\n@@ -594,1 +628,28 @@\n-   RaiseException (EXCEPTION_SET_THREAD_NAME, 0, infosize, (DWORD *) &info);\n+   RaiseException (EXCEPTION_SET_THREAD_NAME, 0, infosize, (const ULONG_PTR *) &info);\n+#endif\n+}\n+\n+typedef HRESULT (WINAPI *pSetThreadDescription) (HANDLE hThread,\n+                                                 PCWSTR lpThreadDescription);\n+static pSetThreadDescription SetThreadDescriptionFunc = NULL;\n+static HMODULE kernel32_module = NULL;\n+\n+static gboolean\n+g_thread_win32_load_library (void)\n+{\n+  \/* FIXME: Add support for UWP app *\/\n+#if !defined(G_WINAPI_ONLY_APP)\n+  static gsize _init_once = 0;\n+  if (g_once_init_enter (&_init_once))\n+    {\n+      kernel32_module = LoadLibraryW (L\"kernel32.dll\");\n+      if (kernel32_module)\n+        {\n+          SetThreadDescriptionFunc =\n+              (pSetThreadDescription) GetProcAddress (kernel32_module,\n+                                                      \"SetThreadDescription\");\n+          if (!SetThreadDescriptionFunc)\n+            FreeLibrary (kernel32_module);\n+        }\n+      g_once_init_leave (&_init_once, 1);\n+    }\n@@ -596,0 +657,21 @@\n+\n+  return !!SetThreadDescriptionFunc;\n+}\n+\n+static gboolean\n+g_thread_win32_set_thread_desc (const gchar *name)\n+{\n+  HRESULT hr;\n+  wchar_t *namew;\n+\n+  if (!g_thread_win32_load_library () || !name)\n+    return FALSE;\n+\n+  namew = g_utf8_to_utf16 (name, -1, NULL, NULL, NULL);\n+  if (!namew)\n+    return FALSE;\n+\n+  hr = SetThreadDescriptionFunc (GetCurrentThread (), namew);\n+\n+  g_free (namew);\n+  return SUCCEEDED (hr);\n@@ -601,1 +683,5 @@\n-  SetThreadName ((DWORD) -1, name);\n+  \/* Prefer SetThreadDescription over exception based way if available,\n+   * since thread description set by SetThreadDescription will be preserved\n+   * in dump file *\/\n+  if (!g_thread_win32_set_thread_desc (name))\n+    SetThreadName ((DWORD) -1, name);\n@@ -638,1 +724,1 @@\n-      for (dtor = g_private_destructors; dtor; dtor = dtor->next)\n+      for (dtor = g_atomic_pointer_get (&g_private_destructors); dtor; dtor = dtor->next)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread-win32.c","additions":99,"deletions":13,"binary":false,"changes":112,"status":"modified"},{"patch":"@@ -167,2 +167,2 @@\n- * The #G_LOCK_ macros provide a convenient interface to #GMutex.\n- * #G_LOCK_DEFINE defines a lock. It can appear in any place where\n+ * The `G_LOCK_` macros provide a convenient interface to #GMutex.\n+ * %G_LOCK_DEFINE defines a lock. It can appear in any place where\n@@ -174,1 +174,3 @@\n- * give_me_next_number() example using the #G_LOCK macros:\n+ * give_me_next_number() example using the `G_LOCK` macros:\n+ *\n+ * Here is an example for using the `G_LOCK` convenience macros:\n@@ -176,1 +178,0 @@\n- * Here is an example for using the #G_LOCK convenience macros:\n@@ -199,1 +200,1 @@\n- * This works like #G_LOCK_DEFINE, but it creates a static object.\n+ * This works like %G_LOCK_DEFINE, but it creates a static object.\n@@ -206,1 +207,1 @@\n- * This declares a lock, that is defined with #G_LOCK_DEFINE in another\n+ * This declares a lock, that is defined with %G_LOCK_DEFINE in another\n@@ -215,1 +216,1 @@\n- * #G_LOCK_DEFINE.\n+ * %G_LOCK_DEFINE.\n@@ -223,1 +224,1 @@\n- * #G_LOCK_DEFINE.\n+ * %G_LOCK_DEFINE.\n@@ -233,1 +234,1 @@\n- * #G_LOCK_DEFINE.\n+ * %G_LOCK_DEFINE.\n@@ -516,1 +517,1 @@\n-static volatile guint g_thread_n_created_counter = 0;\n+static guint g_thread_n_created_counter = 0;  \/* (atomic) *\/\n@@ -689,0 +690,3 @@\n+ * While @location has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -697,1 +701,1 @@\n-  volatile gsize *value_location = location;\n+  gsize *value_location = (gsize *) location;\n@@ -728,0 +732,3 @@\n+ * While @location has a `volatile` qualifier, this is a historical artifact and\n+ * the pointer passed to it should not be `volatile`.\n+ *\n@@ -734,1 +741,1 @@\n-  volatile gsize *value_location = location;\n+  gsize *value_location = (gsize *) location;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthread.c","additions":19,"deletions":12,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -561,0 +561,32 @@\n+{\n+  return g_thread_pool_new_full (func, user_data, NULL, max_threads, exclusive, error);\n+}\n+\n+\/**\n+ * g_thread_pool_new_full:\n+ * @func: a function to execute in the threads of the new thread pool\n+ * @user_data: user data that is handed over to @func every time it\n+ *     is called\n+ * @item_free_func: (nullable): used to pass as a free function to\n+ *     g_async_queue_new_full()\n+ * @max_threads: the maximal number of threads to execute concurrently\n+ *     in the new thread pool, `-1` means no limit\n+ * @exclusive: should this thread pool be exclusive?\n+ * @error: return location for error, or %NULL\n+ *\n+ * This function creates a new thread pool similar to g_thread_pool_new()\n+ * but allowing @item_free_func to be specified to free the data passed\n+ * to g_thread_pool_push() in the case that the #GThreadPool is stopped\n+ * and freed before all tasks have been executed.\n+ *\n+ * Returns: (transfer full): the new #GThreadPool\n+ *\n+ * Since: 2.70\n+ *\/\n+GThreadPool *\n+g_thread_pool_new_full (GFunc           func,\n+                        gpointer        user_data,\n+                        GDestroyNotify  item_free_func,\n+                        gint            max_threads,\n+                        gboolean        exclusive,\n+                        GError        **error)\n@@ -574,1 +606,1 @@\n-  retval->queue = g_async_queue_new ();\n+  retval->queue = g_async_queue_new_full (item_free_func);\n@@ -935,0 +967,5 @@\n+  \/* Ensure the dummy item pushed on by g_thread_pool_wakeup_and_stop_all() is\n+   * removed, before it’s potentially passed to the user-provided\n+   * @item_free_func. *\/\n+  g_async_queue_remove (pool->queue, GUINT_TO_POINTER (1));\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthreadpool.c","additions":38,"deletions":1,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -54,0 +54,7 @@\n+GLIB_AVAILABLE_IN_2_70\n+GThreadPool *   g_thread_pool_new_full          (GFunc            func,\n+                                                 gpointer         user_data,\n+                                                 GDestroyNotify   item_free_func,\n+                                                 gint             max_threads,\n+                                                 gboolean         exclusive,\n+                                                 GError         **error);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gthreadpool.h","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -263,1 +263,1 @@\n- * #G_USEC_PER_SEC macro). g_usleep() may have limited precision,\n+ * %G_USEC_PER_SEC macro). g_usleep() may have limited precision,\n@@ -297,1 +297,3 @@\n-  g_return_if_fail (time_->tv_usec >= 0 && time_->tv_usec < G_USEC_PER_SEC);\n+  g_return_if_fail (time_ != NULL &&\n+                    time_->tv_usec >= 0 &&\n+                    time_->tv_usec < G_USEC_PER_SEC);\n@@ -606,1 +608,3 @@\n-  g_return_val_if_fail (time_->tv_usec >= 0 && time_->tv_usec < G_USEC_PER_SEC, NULL);\n+  g_return_val_if_fail (time_ != NULL &&\n+                        time_->tv_usec >= 0 &&\n+                        time_->tv_usec < G_USEC_PER_SEC, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimer.c","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -160,1 +160,1 @@\n-  gint         start_year;\n+  guint        start_year;\n@@ -443,0 +443,82 @@\n+\n+#if defined(__sun) && defined(__SVR4)\n+\/*\n+ * only used by Illumos distros or Solaris < 11: parse the \/etc\/default\/init\n+ * text file looking for TZ= followed by the timezone, possibly quoted\n+ *\n+ *\/\n+static gchar *\n+zone_identifier_illumos (void)\n+{\n+  gchar *resolved_identifier = NULL;\n+  gchar *contents = NULL;\n+  const gchar *line_start = NULL;\n+  gsize tz_len = 0;\n+\n+  if (!g_file_get_contents (\"\/etc\/default\/init\", &contents, NULL, NULL) )\n+    return NULL;\n+\n+  \/* is TZ= the first\/only line in the file? *\/\n+  if (strncmp (contents, \"TZ=\", 3) == 0)\n+    {\n+      \/* found TZ= on the first line, skip over the TZ= *\/\n+      line_start = contents + 3;\n+    }\n+  else\n+    {\n+      \/* find a newline followed by TZ= *\/\n+      line_start = strstr (contents, \"\\nTZ=\");\n+      if (line_start != NULL)\n+        line_start = line_start + 4; \/* skip past the \\nTZ= *\/\n+    }\n+\n+  \/*\n+   * line_start is NULL if we didn't find TZ= at the start of any line,\n+   * otherwise it points to what is after the '=' (possibly '\\0')\n+   *\/\n+  if (line_start == NULL || *line_start == '\\0')\n+    return NULL;\n+\n+  \/* skip past a possible opening \" or ' *\/\n+  if (*line_start == '\"' || *line_start == '\\'')\n+    line_start++;\n+\n+  \/*\n+   * loop over the next few characters, building up the length of\n+   * the timezone identifier, ending with end of string, newline or\n+   * a \" or ' character\n+   *\/\n+  while (*(line_start + tz_len) != '\\0' &&\n+         *(line_start + tz_len) != '\\n' &&\n+         *(line_start + tz_len) != '\"'  &&\n+         *(line_start + tz_len) != '\\'')\n+    tz_len++;\n+\n+  if (tz_len > 0)\n+    {\n+      \/* found it *\/\n+      resolved_identifier = g_strndup (line_start, tz_len);\n+      g_strchomp (resolved_identifier);\n+      g_free (contents);\n+      return g_steal_pointer (&resolved_identifier);\n+    }\n+  else\n+    return NULL;\n+}\n+#endif \/* defined(__sun) && defined(__SRVR) *\/\n+\n+\/*\n+ * returns the path to the top of the Olson zoneinfo timezone hierarchy.\n+ *\/\n+static const gchar *\n+zone_info_base_dir (void)\n+{\n+  if (g_file_test (\"\/usr\/share\/zoneinfo\", G_FILE_TEST_IS_DIR))\n+    return \"\/usr\/share\/zoneinfo\";     \/* Most distros *\/\n+  else if (g_file_test (\"\/usr\/share\/lib\/zoneinfo\", G_FILE_TEST_IS_DIR))\n+    return \"\/usr\/share\/lib\/zoneinfo\"; \/* Illumos distros *\/\n+\n+  \/* need a better fallback case *\/\n+  return \"\/usr\/share\/zoneinfo\";\n+}\n+\n@@ -461,5 +543,9 @@\n-      \/* Fallback to the content of \/var\/db\/zoneinfo or \/etc\/timezone\n-       * if \/etc\/localtime is not a symlink. \/var\/db\/zoneinfo is\n-       * where 'tzsetup' program on FreeBSD and DragonflyBSD stores\n-       * the timezone chosen by the user. \/etc\/timezone is where user\n-       * choice is expressed on Gentoo OpenRC and others. *\/\n+      \/* if \/etc\/localtime is not a symlink, try:\n+       *  - \/var\/db\/zoneinfo : 'tzsetup' program on FreeBSD and\n+       *    DragonflyBSD stores the timezone chosen by the user there.\n+       *  - \/etc\/timezone : Gentoo, OpenRC, and others store\n+       *    the user choice there.\n+       *  - call zone_identifier_illumos iff __sun and __SVR4 are defined,\n+       *    as a last-ditch effort to parse the TZ= setting from within\n+       *    \/etc\/default\/init\n+       *\/\n@@ -471,1 +557,6 @@\n-                                                 NULL, NULL)))\n+                                                 NULL, NULL)\n+#if defined(__sun) && defined(__SVR4)\n+                                                             ||\n+                            (resolved_identifier = zone_identifier_illumos ())\n+#endif\n+                                                             ))\n@@ -490,1 +581,1 @@\n-    tzdir = \"\/usr\/share\/zoneinfo\";\n+    tzdir = zone_info_base_dir ();\n@@ -523,1 +614,1 @@\n-    tzdir = \"\/usr\/share\/zoneinfo\";\n+    tzdir = zone_info_base_dir ();\n@@ -843,1 +934,1 @@\n-  RegTZI regtzi, regtzi_prev;\n+  RegTZI regtzi = { 0 }, regtzi_prev;\n@@ -909,2 +1000,1 @@\n-      DWORD first, last;\n-      int year, i;\n+      DWORD i, first, last, year;\n@@ -1044,1 +1134,1 @@\n-      if (first_wday > wday)\n+      if ((guint) first_wday > wday)\n@@ -1465,0 +1555,2 @@\n+  g_assert (size != 0);\n+\n@@ -1486,1 +1578,1 @@\n-  len = *pos - name_pos > size - 1 ? size - 1 : *pos - name_pos;\n+  len = (guint) (*pos - name_pos) > size - 1 ? size - 1 : (guint) (*pos - name_pos);\n@@ -1549,2 +1641,1 @@\n-      int i;\n-      guint rules_num = 0;\n+      guint i, rules_num = 0;\n@@ -1611,1 +1702,33 @@\n- * Creates a #GTimeZone corresponding to @identifier.\n+ * A version of g_time_zone_new_identifier() which returns the UTC time zone\n+ * if @identifier could not be parsed or loaded.\n+ *\n+ * If you need to check whether @identifier was loaded successfully, use\n+ * g_time_zone_new_identifier().\n+ *\n+ * Returns: (transfer full) (not nullable): the requested timezone\n+ * Deprecated: 2.68: Use g_time_zone_new_identifier() instead, as it provides\n+ *     error reporting. Change your code to handle a potentially %NULL return\n+ *     value.\n+ *\n+ * Since: 2.26\n+ **\/\n+GTimeZone *\n+g_time_zone_new (const gchar *identifier)\n+{\n+  GTimeZone *tz = g_time_zone_new_identifier (identifier);\n+\n+  \/* Always fall back to UTC. *\/\n+  if (tz == NULL)\n+    tz = g_time_zone_new_utc ();\n+\n+  g_assert (tz != NULL);\n+\n+  return g_steal_pointer (&tz);\n+}\n+\n+\/**\n+ * g_time_zone_new_identifier:\n+ * @identifier: (nullable): a timezone identifier\n+ *\n+ * Creates a #GTimeZone corresponding to @identifier. If @identifier cannot be\n+ * parsed or loaded, %NULL is returned.\n@@ -1675,4 +1798,4 @@\n- * Returns: the requested timezone\n- *\n- * Since: 2.26\n- **\/\n+ * Returns: (transfer full) (nullable): the requested timezone, or %NULL on\n+ *     failure\n+ * Since: 2.68\n+ *\/\n@@ -1680,1 +1803,1 @@\n-g_time_zone_new (const gchar *identifier)\n+g_time_zone_new_identifier (const gchar *identifier)\n@@ -1794,1 +1917,1 @@\n-  \/* Always fall back to UTC. *\/\n+  \/* Failed to load the timezone. *\/\n@@ -1796,1 +1919,10 @@\n-    zone_for_constant_offset (tz, \"UTC\");\n+    {\n+      g_slice_free (GTimeZone, tz);\n+\n+      if (identifier)\n+        G_UNLOCK (time_zones);\n+      else\n+        G_UNLOCK (tz_default);\n+\n+      return NULL;\n+    }\n@@ -1801,1 +1933,3 @@\n-  if (tz->t_info != NULL)\n+  if (identifier)\n+    g_hash_table_insert (time_zones, tz->name, tz);\n+  else if (tz->name)\n@@ -1803,8 +1937,3 @@\n-      if (identifier)\n-        g_hash_table_insert (time_zones, tz->name, tz);\n-      else if (tz->name)\n-        {\n-          \/* Caching reference *\/\n-          g_atomic_int_inc (&tz->ref_count);\n-          tz_default = tz;\n-        }\n+      \/* Caching reference *\/\n+      g_atomic_int_inc (&tz->ref_count);\n+      tz_default = tz;\n@@ -1812,0 +1941,1 @@\n+\n@@ -1845,1 +1975,2 @@\n-      utc = g_time_zone_new (\"UTC\");\n+      utc = g_time_zone_new_identifier (\"UTC\");\n+      g_assert (utc != NULL);\n@@ -1882,1 +2013,3 @@\n-    tz_local = g_time_zone_new (tzenv);\n+    tz_local = g_time_zone_new_identifier (tzenv);\n+  if (tz_local == NULL)\n+    tz_local = g_time_zone_new_utc ();\n@@ -1901,1 +2034,7 @@\n- * Returns: (transfer full): a timezone at the given offset from UTC\n+ * It is possible for this function to fail if @seconds is too big (greater than\n+ * 24 hours), in which case this function will return the UTC timezone for\n+ * backwards compatibility. To detect failures like this, use\n+ * g_time_zone_new_identifier() directly.\n+ *\n+ * Returns: (transfer full): a timezone at the given offset from UTC, or UTC on\n+ *   failure\n@@ -1913,1 +2052,2 @@\n-   * string anyway, so we might as well reuse its code. *\/\n+   * string anyway, so we might as well reuse its code.\n+   * g_time_zone_new_identifier() should never fail in this situation. *\/\n@@ -1919,2 +2059,6 @@\n-  tz = g_time_zone_new (identifier);\n-  g_free (identifier);\n+  tz = g_time_zone_new_identifier (identifier);\n+\n+  if (tz == NULL)\n+    tz = g_time_zone_new_utc ();\n+  else\n+    g_assert (g_time_zone_get_offset (tz, 0) == seconds);\n@@ -1922,1 +2066,2 @@\n-  g_assert (g_time_zone_get_offset (tz, 0) == seconds);\n+  g_assert (tz != NULL);\n+  g_free (identifier);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimezone.c","additions":185,"deletions":40,"binary":false,"changes":225,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include <glib\/gerror.h>\n@@ -55,1 +56,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_DEPRECATED_IN_2_68_FOR (g_time_zone_new_identifier)\n@@ -57,0 +58,2 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTimeZone *             g_time_zone_new_identifier                      (const gchar *identifier);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtimezone.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,2 +26,1 @@\n-#include \"gmem.h\"\n-#include \"gmacros.h\"\n+#include \"glib.h\"\n@@ -70,0 +69,11 @@\n+guint   (g_trace_define_int64_counter) (const char *group,\n+                                        const char *name,\n+                                        const char *description);\n+void    (g_trace_set_int64_counter)    (guint       id,\n+                                        gint64      value);\n+\n+#ifndef HAVE_SYSPROF\n+#define g_trace_define_int64_counter(g, n, d) ((guint) -1)\n+#define g_trace_set_int64_counter(i,v)\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtrace-private.h","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -69,2 +69,0 @@\n-#undef G_TREE_DEBUG\n-\n@@ -73,2 +71,0 @@\n-typedef struct _GTreeNode  GTreeNode;\n-\n@@ -107,4 +103,4 @@\n-static void       g_tree_insert_internal            (GTree         *tree,\n-                                                     gpointer       key,\n-                                                     gpointer       value,\n-                                                     gboolean       replace);\n+static GTreeNode *g_tree_insert_internal (GTree *tree,\n+                                          gpointer key,\n+                                          gpointer value,\n+                                          gboolean replace);\n@@ -126,3 +122,3 @@\n-static gpointer   g_tree_node_search                (GTreeNode     *node,\n-                                                     GCompareFunc   search_func,\n-                                                     gconstpointer  data);\n+static GTreeNode *g_tree_node_search (GTreeNode *node,\n+                                      GCompareFunc search_func,\n+                                      gconstpointer data);\n@@ -243,2 +239,13 @@\n-static inline GTreeNode *\n-g_tree_first_node (GTree *tree)\n+\/**\n+ * g_tree_node_first:\n+ * @tree: a #GTree\n+ *\n+ * Returns the first in-order node of the tree, or %NULL\n+ * for an empty tree.\n+ *\n+ * Returns: (nullable) (transfer none): the first node in the tree\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_node_first (GTree *tree)\n@@ -248,0 +255,2 @@\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n@@ -259,1 +268,41 @@\n-static inline GTreeNode *\n+\/**\n+ * g_tree_node_last:\n+ * @tree: a #GTree\n+ *\n+ * Returns the last in-order node of the tree, or %NULL\n+ * for an empty tree.\n+ *\n+ * Returns: (nullable) (transfer none): the last node in the tree\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_node_last (GTree *tree)\n+{\n+  GTreeNode *tmp;\n+\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  if (!tree->root)\n+    return NULL;\n+\n+  tmp = tree->root;\n+\n+  while (tmp->right_child)\n+    tmp = tmp->right;\n+\n+  return tmp;\n+}\n+\n+\/**\n+ * g_tree_node_previous\n+ * @node: a #GTree node\n+ *\n+ * Returns the previous in-order node of the tree, or %NULL\n+ * if the passed node was already the first one.\n+ *\n+ * Returns: (nullable) (transfer none): the previous node in the tree\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n@@ -264,0 +313,2 @@\n+  g_return_val_if_fail (node != NULL, NULL);\n+\n@@ -273,1 +324,12 @@\n-static inline GTreeNode *\n+\/**\n+ * g_tree_node_next\n+ * @node: a #GTree node\n+ *\n+ * Returns the next in-order node of the tree, or %NULL\n+ * if the passed node was already the last one.\n+ *\n+ * Returns: (nullable) (transfer none): the next node in the tree\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n@@ -278,0 +340,2 @@\n+  g_return_val_if_fail (node != NULL, NULL);\n+\n@@ -287,1 +351,10 @@\n-static void\n+\/**\n+ * g_tree_remove_all:\n+ * @tree: a #GTree\n+ *\n+ * Removes all nodes from a #GTree and destroys their keys and values,\n+ * then resets the #GTree’s root to %NULL.\n+ *\n+ * Since: 2.70\n+ *\/\n+void\n@@ -295,1 +368,1 @@\n-  node = g_tree_first_node (tree);\n+  node = g_tree_node_first (tree);\n@@ -307,0 +380,5 @@\n+#ifdef G_TREE_DEBUG\n+      g_assert (tree->nnodes > 0);\n+      tree->nnodes--;\n+#endif\n+\n@@ -310,0 +388,4 @@\n+#ifdef G_TREE_DEBUG\n+  g_assert (tree->nnodes == 0);\n+#endif\n+\n@@ -311,0 +393,1 @@\n+#ifndef G_TREE_DEBUG\n@@ -312,0 +395,1 @@\n+#endif\n@@ -382,1 +466,1 @@\n- * g_tree_insert:\n+ * g_tree_insert_node:\n@@ -400,0 +484,4 @@\n+ *\n+ * Returns: (transfer none): the inserted (or set) node.\n+ *\n+ * Since: 2.68\n@@ -401,4 +489,4 @@\n-void\n-g_tree_insert (GTree    *tree,\n-               gpointer  key,\n-               gpointer  value)\n+GTreeNode *\n+g_tree_insert_node (GTree    *tree,\n+                    gpointer  key,\n+                    gpointer  value)\n@@ -406,1 +494,1 @@\n-  g_return_if_fail (tree != NULL);\n+  GTreeNode *node;\n@@ -408,1 +496,3 @@\n-  g_tree_insert_internal (tree, key, value, FALSE);\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  node = g_tree_insert_internal (tree, key, value, FALSE);\n@@ -413,0 +503,2 @@\n+\n+  return node;\n@@ -416,1 +508,20 @@\n- * g_tree_replace:\n+ * g_tree_insert:\n+ * @tree: a #GTree\n+ * @key: the key to insert\n+ * @value: the value corresponding to the key\n+ *\n+ * Inserts a key\/value pair into a #GTree.\n+ *\n+ * Inserts a new key and value into a #GTree as g_tree_insert_node() does,\n+ * only this function does not return the inserted or set node.\n+ *\/\n+void\n+g_tree_insert (GTree    *tree,\n+               gpointer  key,\n+               gpointer  value)\n+{\n+  g_tree_insert_node (tree, key, value);\n+}\n+\n+\/**\n+ * g_tree_replace_node:\n@@ -421,1 +532,1 @@\n- * Inserts a new key and value into a #GTree similar to g_tree_insert().\n+ * Inserts a new key and value into a #GTree similar to g_tree_insert_node().\n@@ -430,0 +541,4 @@\n+ *\n+ * Returns: (transfer none): the inserted (or set) node.\n+ *\n+ * Since: 2.68\n@@ -431,4 +546,4 @@\n-void\n-g_tree_replace (GTree    *tree,\n-                gpointer  key,\n-                gpointer  value)\n+GTreeNode *\n+g_tree_replace_node (GTree    *tree,\n+                     gpointer  key,\n+                     gpointer  value)\n@@ -436,1 +551,1 @@\n-  g_return_if_fail (tree != NULL);\n+  GTreeNode *node;\n@@ -438,1 +553,3 @@\n-  g_tree_insert_internal (tree, key, value, TRUE);\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  node = g_tree_insert_internal (tree, key, value, TRUE);\n@@ -443,0 +560,19 @@\n+\n+  return node;\n+}\n+\n+\/**\n+ * g_tree_replace:\n+ * @tree: a #GTree\n+ * @key: the key to insert\n+ * @value: the value corresponding to the key\n+ *\n+ * Inserts a new key and value into a #GTree as g_tree_replace_node() does,\n+ * only this function does not return the inserted or set node.\n+ *\/\n+void\n+g_tree_replace (GTree    *tree,\n+                gpointer  key,\n+                gpointer  value)\n+{\n+  g_tree_replace_node (tree, key, value);\n@@ -446,1 +582,1 @@\n-static void\n+static GTreeNode *\n@@ -452,1 +588,1 @@\n-  GTreeNode *node;\n+  GTreeNode *node, *retnode;\n@@ -456,1 +592,1 @@\n-  g_return_if_fail (tree != NULL);\n+  g_return_val_if_fail (tree != NULL, NULL);\n@@ -462,1 +598,1 @@\n-      return;\n+      return tree->root;\n@@ -494,1 +630,1 @@\n-          return;\n+          return node;\n@@ -508,1 +644,1 @@\n-                return;\n+                return NULL;\n@@ -520,0 +656,1 @@\n+              retnode = child;\n@@ -535,1 +672,1 @@\n-                return;\n+                return NULL;\n@@ -547,0 +684,1 @@\n+              retnode = child;\n@@ -583,0 +721,2 @@\n+\n+  return retnode;\n@@ -858,0 +998,59 @@\n+\/**\n+ * g_tree_node_key:\n+ * @node: a #GTree node\n+ *\n+ * Gets the key stored at a particular tree node.\n+ *\n+ * Returns: (nullable) (transfer none): the key at the node.\n+ *\n+ * Since: 2.68\n+ *\/\n+gpointer\n+g_tree_node_key (GTreeNode *node)\n+{\n+  g_return_val_if_fail (node != NULL, NULL);\n+\n+  return node->key;\n+}\n+\n+\/**\n+ * g_tree_node_value:\n+ * @node: a #GTree node\n+ *\n+ * Gets the value stored at a particular tree node.\n+ *\n+ * Returns: (nullable) (transfer none): the value at the node.\n+ *\n+ * Since: 2.68\n+ *\/\n+gpointer\n+g_tree_node_value (GTreeNode *node)\n+{\n+  g_return_val_if_fail (node != NULL, NULL);\n+\n+  return node->value;\n+}\n+\n+\/**\n+ * g_tree_lookup_node:\n+ * @tree: a #GTree\n+ * @key: the key to look up\n+ *\n+ * Gets the tree node corresponding to the given key. Since a #GTree is\n+ * automatically balanced as key\/value pairs are added, key lookup\n+ * is O(log n) (where n is the number of key\/value pairs in the tree).\n+ *\n+ * Returns: (nullable) (transfer none): the tree node corresponding to\n+ *          the key, or %NULL if the key was not found\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_lookup_node (GTree         *tree,\n+                    gconstpointer  key)\n+{\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  return g_tree_find_node (tree, key);\n+}\n+\n@@ -876,3 +1075,1 @@\n-  g_return_val_if_fail (tree != NULL, NULL);\n-\n-  node = g_tree_find_node (tree, key);\n+  node = g_tree_lookup_node (tree, key);\n@@ -949,1 +1146,1 @@\n-  node = g_tree_first_node (tree);\n+  node = g_tree_node_first (tree);\n@@ -960,0 +1157,41 @@\n+\/**\n+ * g_tree_foreach_node:\n+ * @tree: a #GTree\n+ * @func: the function to call for each node visited.\n+ *     If this function returns %TRUE, the traversal is stopped.\n+ * @user_data: user data to pass to the function\n+ *\n+ * Calls the given function for each of the nodes in the #GTree.\n+ * The function is passed the pointer to the particular node, and the given\n+ * @data parameter. The tree traversal happens in-order.\n+ *\n+ * The tree may not be modified while iterating over it (you can't\n+ * add\/remove items). To remove all items matching a predicate, you need\n+ * to add each item to a list in your #GTraverseFunc as you walk over\n+ * the tree, then walk the list and remove each item.\n+ *\n+ * Since: 2.68\n+ *\/\n+void\n+g_tree_foreach_node (GTree             *tree,\n+                     GTraverseNodeFunc  func,\n+                     gpointer           user_data)\n+{\n+  GTreeNode *node;\n+\n+  g_return_if_fail (tree != NULL);\n+\n+  if (!tree->root)\n+    return;\n+\n+  node = g_tree_node_first (tree);\n+\n+  while (node)\n+    {\n+      if ((*func) (node, user_data))\n+        break;\n+\n+      node = g_tree_node_next (node);\n+    }\n+}\n+\n@@ -1020,0 +1258,34 @@\n+\/**\n+ * g_tree_search_node:\n+ * @tree: a #GTree\n+ * @search_func: a function used to search the #GTree\n+ * @user_data: the data passed as the second argument to @search_func\n+ *\n+ * Searches a #GTree using @search_func.\n+ *\n+ * The @search_func is called with a pointer to the key of a key\/value\n+ * pair in the tree, and the passed in @user_data. If @search_func returns\n+ * 0 for a key\/value pair, then the corresponding node is returned as\n+ * the result of g_tree_search(). If @search_func returns -1, searching\n+ * will proceed among the key\/value pairs that have a smaller key; if\n+ * @search_func returns 1, searching will proceed among the key\/value\n+ * pairs that have a larger key.\n+ *\n+ * Returns: (nullable) (transfer none): the node corresponding to the\n+ *          found key, or %NULL if the key was not found\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_search_node (GTree         *tree,\n+                    GCompareFunc   search_func,\n+                    gconstpointer  user_data)\n+{\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  if (!tree->root)\n+    return NULL;\n+\n+  return g_tree_node_search (tree->root, search_func, user_data);\n+}\n+\n@@ -1044,0 +1316,32 @@\n+  GTreeNode *node;\n+\n+  node = g_tree_search_node (tree, search_func, user_data);\n+\n+  return node ? node->value : NULL;\n+}\n+\n+\/**\n+ * g_tree_lower_bound:\n+ * @tree: a #GTree\n+ * @key: the key to calculate the lower bound for\n+ *\n+ * Gets the lower bound node corresponding to the given key,\n+ * or %NULL if the tree is empty or all the nodes in the tree\n+ * have keys that are strictly lower than the searched key.\n+ *\n+ * The lower bound is the first node that has its key greater\n+ * than or equal to the searched key.\n+ *\n+ * Returns: (nullable) (transfer none): the tree node corresponding to\n+ *          the lower bound, or %NULL if the tree is empty or has only\n+ *          keys strictly lower than the searched key.\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_lower_bound (GTree         *tree,\n+                    gconstpointer  key)\n+{\n+  GTreeNode *node, *result;\n+  gint cmp;\n+\n@@ -1046,3 +1350,56 @@\n-  if (tree->root)\n-    return g_tree_node_search (tree->root, search_func, user_data);\n-  else\n+  node = tree->root;\n+  if (!node)\n+    return NULL;\n+\n+  result = NULL;\n+  while (1)\n+    {\n+      cmp = tree->key_compare (key, node->key, tree->key_compare_data);\n+      if (cmp <= 0)\n+        {\n+          result = node;\n+\n+          if (!node->left_child)\n+            return result;\n+\n+          node = node->left;\n+        }\n+      else\n+        {\n+          if (!node->right_child)\n+            return result;\n+\n+          node = node->right;\n+        }\n+    }\n+}\n+\n+\/**\n+ * g_tree_upper_bound:\n+ * @tree: a #GTree\n+ * @key: the key to calculate the upper bound for\n+ *\n+ * Gets the upper bound node corresponding to the given key,\n+ * or %NULL if the tree is empty or all the nodes in the tree\n+ * have keys that are lower than or equal to the searched key.\n+ *\n+ * The upper bound is the first node that has its key strictly greater\n+ * than the searched key.\n+ *\n+ * Returns: (nullable) (transfer none): the tree node corresponding to the\n+ *          upper bound, or %NULL if the tree is empty or has only keys\n+ *          lower than or equal to the searched key.\n+ *\n+ * Since: 2.68\n+ *\/\n+GTreeNode *\n+g_tree_upper_bound (GTree         *tree,\n+                    gconstpointer  key)\n+{\n+  GTreeNode *node, *result;\n+  gint cmp;\n+\n+  g_return_val_if_fail (tree != NULL, NULL);\n+\n+  node = tree->root;\n+  if (!node)\n@@ -1050,0 +1407,22 @@\n+\n+  result = NULL;\n+  while (1)\n+    {\n+      cmp = tree->key_compare (key, node->key, tree->key_compare_data);\n+      if (cmp < 0)\n+        {\n+          result = node;\n+\n+          if (!node->left_child)\n+            return result;\n+\n+          node = node->left;\n+        }\n+      else\n+        {\n+          if (!node->right_child)\n+            return result;\n+\n+          node = node->right;\n+        }\n+    }\n@@ -1226,1 +1605,1 @@\n-static gpointer\n+static GTreeNode *\n@@ -1240,1 +1619,1 @@\n-        return node->value;\n+        return node;\n@@ -1411,1 +1790,4 @@\n-    g_tree_node_dump (node->left, indent + 2);\n+    {\n+      g_print (\"%*sLEFT\\n\", indent, \"\");\n+      g_tree_node_dump (node->left, indent + 2);\n+    }\n@@ -1416,1 +1798,4 @@\n-    g_tree_node_dump (node->right, indent + 2);\n+    {\n+      g_print (\"%*sRIGHT\\n\", indent, \"\");\n+      g_tree_node_dump (node->right, indent + 2);\n+    }\n@@ -1421,1 +1806,0 @@\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtree.c","additions":435,"deletions":51,"binary":false,"changes":486,"status":"modified"},{"patch":"@@ -36,0 +36,2 @@\n+#undef G_TREE_DEBUG\n+\n@@ -38,0 +40,9 @@\n+\/**\n+ * GTreeNode:\n+ *\n+ * An opaque type which identifies a specific node in a #GTree.\n+ *\n+ * Since: 2.68\n+ *\/\n+typedef struct _GTreeNode GTreeNode;\n+\n@@ -42,0 +53,16 @@\n+\/**\n+ * GTraverseNodeFunc:\n+ * @node: a #GTreeNode\n+ * @data: user data passed to g_tree_foreach_node()\n+ *\n+ * Specifies the type of function passed to g_tree_foreach_node(). It is\n+ * passed each node, together with the @user_data parameter passed to\n+ * g_tree_foreach_node(). If the function returns %TRUE, the traversal is\n+ * stopped.\n+ *\n+ * Returns: %TRUE to stop the traversal\n+ * Since: 2.68\n+ *\/\n+typedef gboolean (*GTraverseNodeFunc) (GTreeNode *node,\n+                                       gpointer   data);\n+\n@@ -54,0 +81,8 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_node_first (GTree *tree);\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_node_last (GTree *tree);\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_node_previous (GTreeNode *node);\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_node_next (GTreeNode *node);\n@@ -60,0 +95,4 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_insert_node (GTree *tree,\n+                               gpointer key,\n+                               gpointer value);\n@@ -64,0 +103,4 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_replace_node (GTree *tree,\n+                                gpointer key,\n+                                gpointer value);\n@@ -71,0 +114,4 @@\n+\n+GLIB_AVAILABLE_IN_2_70\n+void     g_tree_remove_all      (GTree            *tree);\n+\n@@ -74,0 +121,7 @@\n+GLIB_AVAILABLE_IN_2_68\n+gpointer g_tree_node_key (GTreeNode *node);\n+GLIB_AVAILABLE_IN_2_68\n+gpointer g_tree_node_value (GTreeNode *node);\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_lookup_node (GTree *tree,\n+                               gconstpointer key);\n@@ -85,1 +139,5 @@\n-                                 gpointer    user_data);\n+                                 gpointer          user_data);\n+GLIB_AVAILABLE_IN_2_68\n+void g_tree_foreach_node (GTree *tree,\n+                          GTraverseNodeFunc func,\n+                          gpointer user_data);\n@@ -93,0 +151,4 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_search_node (GTree *tree,\n+                               GCompareFunc search_func,\n+                               gconstpointer user_data);\n@@ -97,0 +159,6 @@\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_lower_bound (GTree *tree,\n+                               gconstpointer key);\n+GLIB_AVAILABLE_IN_2_68\n+GTreeNode *g_tree_upper_bound (GTree *tree,\n+                               gconstpointer key);\n@@ -102,0 +170,7 @@\n+#ifdef G_TREE_DEBUG\n+\/*< private >*\/\n+#ifndef __GTK_DOC_IGNORE__\n+void g_tree_dump (GTree *tree);\n+#endif  \/* !__GTK_DOC_IGNORE__ *\/\n+#endif  \/* G_TREE_DEBUG *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtree.h","additions":76,"deletions":1,"binary":false,"changes":77,"status":"modified"},{"patch":"@@ -427,1 +427,1 @@\n-#elif g_macro__has_builtin(__builtin_uadd_overflow)\n+#elif g_macro__has_builtin(__builtin_add_overflow)\n@@ -432,0 +432,2 @@\n+#ifdef _GLIB_HAVE_BUILTIN_OVERFLOW_CHECKS\n+\n@@ -433,1 +435,1 @@\n-    _GLIB_CHECKED_ADD_U32(dest, a, b)\n+    (!__builtin_add_overflow(a, b, dest))\n@@ -435,1 +437,1 @@\n-    _GLIB_CHECKED_MUL_U32(dest, a, b)\n+    (!__builtin_mul_overflow(a, b, dest))\n@@ -438,1 +440,1 @@\n-    _GLIB_CHECKED_ADD_U64(dest, a, b)\n+    (!__builtin_add_overflow(a, b, dest))\n@@ -440,1 +442,1 @@\n-    _GLIB_CHECKED_MUL_U64(dest, a, b)\n+    (!__builtin_mul_overflow(a, b, dest))\n@@ -442,1 +444,0 @@\n-#if GLIB_SIZEOF_SIZE_T == 8\n@@ -444,1 +445,1 @@\n-    _GLIB_CHECKED_ADD_U64(dest, a, b)\n+    (!__builtin_add_overflow(a, b, dest))\n@@ -446,7 +447,3 @@\n-    _GLIB_CHECKED_MUL_U64(dest, a, b)\n-#else\n-#define g_size_checked_add(dest, a, b) \\\n-    _GLIB_CHECKED_ADD_U32(dest, a, b)\n-#define g_size_checked_mul(dest, a, b) \\\n-    _GLIB_CHECKED_MUL_U32(dest, a, b)\n-#endif\n+    (!__builtin_mul_overflow(a, b, dest))\n+\n+#else  \/* !_GLIB_HAVE_BUILTIN_OVERFLOW_CHECKS *\/\n@@ -457,12 +454,1 @@\n-#ifdef _GLIB_HAVE_BUILTIN_OVERFLOW_CHECKS\n-static inline gboolean _GLIB_CHECKED_ADD_U32 (guint32 *dest, guint32 a, guint32 b) {\n-  return !__builtin_uadd_overflow(a, b, dest); }\n-static inline gboolean _GLIB_CHECKED_MUL_U32 (guint32 *dest, guint32 a, guint32 b) {\n-  return !__builtin_umul_overflow(a, b, dest); }\n-static inline gboolean _GLIB_CHECKED_ADD_U64 (guint64 *dest, guint64 a, guint64 b) {\n-  G_STATIC_ASSERT(sizeof (unsigned long long) == sizeof (guint64));\n-  return !__builtin_uaddll_overflow(a, b, (unsigned long long *) dest); }\n-static inline gboolean _GLIB_CHECKED_MUL_U64 (guint64 *dest, guint64 a, guint64 b) {\n-  return !__builtin_umulll_overflow(a, b, (unsigned long long *) dest); }\n-#else\n-static inline gboolean _GLIB_CHECKED_ADD_U32 (guint32 *dest, guint32 a, guint32 b) {\n+static inline gboolean _GLIB_CHECKED_ADD_UINT (guint *dest, guint a, guint b) {\n@@ -470,1 +456,1 @@\n-static inline gboolean _GLIB_CHECKED_MUL_U32 (guint32 *dest, guint32 a, guint32 b) {\n+static inline gboolean _GLIB_CHECKED_MUL_UINT (guint *dest, guint a, guint b) {\n@@ -472,1 +458,1 @@\n-static inline gboolean _GLIB_CHECKED_ADD_U64 (guint64 *dest, guint64 a, guint64 b) {\n+static inline gboolean _GLIB_CHECKED_ADD_UINT64 (guint64 *dest, guint64 a, guint64 b) {\n@@ -474,1 +460,1 @@\n-static inline gboolean _GLIB_CHECKED_MUL_U64 (guint64 *dest, guint64 a, guint64 b) {\n+static inline gboolean _GLIB_CHECKED_MUL_UINT64 (guint64 *dest, guint64 a, guint64 b) {\n@@ -476,1 +462,21 @@\n-#endif\n+static inline gboolean _GLIB_CHECKED_ADD_SIZE (gsize *dest, gsize a, gsize b) {\n+  *dest = a + b; return *dest >= a; }\n+static inline gboolean _GLIB_CHECKED_MUL_SIZE (gsize *dest, gsize a, gsize b) {\n+  *dest = a * b; return !a || *dest \/ a == b; }\n+\n+#define g_uint_checked_add(dest, a, b) \\\n+    _GLIB_CHECKED_ADD_UINT(dest, a, b)\n+#define g_uint_checked_mul(dest, a, b) \\\n+    _GLIB_CHECKED_MUL_UINT(dest, a, b)\n+\n+#define g_uint64_checked_add(dest, a, b) \\\n+    _GLIB_CHECKED_ADD_UINT64(dest, a, b)\n+#define g_uint64_checked_mul(dest, a, b) \\\n+    _GLIB_CHECKED_MUL_UINT64(dest, a, b)\n+\n+#define g_size_checked_add(dest, a, b) \\\n+    _GLIB_CHECKED_ADD_SIZE(dest, a, b)\n+#define g_size_checked_mul(dest, a, b) \\\n+    _GLIB_CHECKED_MUL_SIZE(dest, a, b)\n+\n+#endif  \/* !_GLIB_HAVE_BUILTIN_OVERFLOW_CHECKS *\/\n@@ -553,2 +559,2 @@\n-typedef gint            grefcount;\n-typedef volatile gint   gatomicrefcount;\n+typedef gint grefcount;\n+typedef gint gatomicrefcount;  \/* should be accessed only using atomics *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gtypes.h","additions":38,"deletions":32,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -10,1 +10,1 @@\n-#define G_UNICODE_DATA_VERSION \"13.0.0\"\n+#define G_UNICODE_DATA_VERSION \"14\"\n@@ -41,1 +41,1 @@\n-    G_UNICODE_BREAK_OPEN_PUNCTUATION, G_UNICODE_BREAK_CLOSE_PARANTHESIS,\n+    G_UNICODE_BREAK_OPEN_PUNCTUATION, G_UNICODE_BREAK_CLOSE_PARENTHESIS,\n@@ -67,1 +67,1 @@\n-    G_UNICODE_BREAK_PREFIX, G_UNICODE_BREAK_CLOSE_PARANTHESIS,\n+    G_UNICODE_BREAK_PREFIX, G_UNICODE_BREAK_CLOSE_PARENTHESIS,\n@@ -685,1 +685,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_EXCLAMATION,\n@@ -987,0 +987,17 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -990,21 +1007,4 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1021,1 +1021,0 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -1031,6 +1030,7 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -1481,1 +1481,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n@@ -1497,1 +1497,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -1561,1 +1561,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2754,1 +2754,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2758,2 +2758,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -2764,0 +2763,1 @@\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -2885,1 +2885,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_NUMERIC,\n@@ -3234,0 +3234,7 @@\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3258,7 +3265,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -3306,1 +3306,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -3329,2 +3329,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_UNKNOWN,\n@@ -3332,0 +3331,1 @@\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3346,1 +3346,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3353,2 +3353,2 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n@@ -3359,1 +3359,0 @@\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -3381,1 +3380,2 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3388,1 +3388,0 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n@@ -3392,1 +3391,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -3394,1 +3393,1 @@\n-    G_UNICODE_BREAK_ALPHABETIC\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC\n@@ -3651,1 +3650,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -3873,1 +3872,1 @@\n-    G_UNICODE_BREAK_PREFIX, G_UNICODE_BREAK_PREFIX, G_UNICODE_BREAK_PREFIX,\n+    G_UNICODE_BREAK_PREFIX, G_UNICODE_BREAK_POSTFIX, G_UNICODE_BREAK_PREFIX,\n@@ -5098,1 +5097,0 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -5122,1 +5120,2 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -5370,6 +5369,6 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_EXCLAMATION,\n+    G_UNICODE_BREAK_EXCLAMATION, G_UNICODE_BREAK_OPEN_PUNCTUATION,\n+    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_OPEN_PUNCTUATION,\n+    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_OPEN_PUNCTUATION,\n+    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_OPEN_PUNCTUATION,\n+    G_UNICODE_BREAK_CLOSE_PUNCTUATION, G_UNICODE_BREAK_AFTER,\n@@ -6623,1 +6622,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -6631,0 +6630,5 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -6643,7 +6647,2 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -12992,1 +12991,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -13057,8 +13056,8 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13128,1 +13127,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -13152,1 +13151,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC\n@@ -14126,39 +14125,39 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -14264,30 +14263,30 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -15293,13 +15292,13 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15423,3 +15422,3 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15463,1 +15462,1 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -15468,1 +15467,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15470,0 +15468,2 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n@@ -15482,1 +15482,0 @@\n-    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -15486,0 +15485,1 @@\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_NUMERIC,\n@@ -15490,1 +15490,1 @@\n-    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -15493,1 +15493,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+    G_UNICODE_BREAK_UNKNOWN\n@@ -16230,1 +16230,1 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n@@ -16299,4 +16299,4 @@\n-    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n+    G_UNICODE_BREAK_COMPLEX_CONTEXT, G_UNICODE_BREAK_COMPLEX_CONTEXT,\n@@ -16743,8 +16743,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -16780,0 +16772,8 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -17693,1 +17693,131 @@\n-  { \/* page 306, index 136 *\/\n+  { \/* page 303, index 136 *\/\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 306, index 137 *\/\n@@ -17823,1 +17953,1 @@\n-  { \/* page 307, index 137 *\/\n+  { \/* page 307, index 138 *\/\n@@ -17953,1 +18083,1 @@\n-  { \/* page 308, index 138 *\/\n+  { \/* page 308, index 139 *\/\n@@ -18083,1 +18213,1 @@\n-  { \/* page 325, index 139 *\/\n+  { \/* page 325, index 140 *\/\n@@ -18213,1 +18343,1 @@\n-  { \/* page 326, index 140 *\/\n+  { \/* page 326, index 141 *\/\n@@ -18343,1 +18473,1 @@\n-  { \/* page 362, index 141 *\/\n+  { \/* page 362, index 142 *\/\n@@ -18399,48 +18529,18 @@\n-    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -18462,0 +18562,14 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_NUMERIC,\n+    G_UNICODE_BREAK_NUMERIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -18463,0 +18577,17 @@\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n@@ -18465,2 +18596,1 @@\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_AFTER,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_AFTER, G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -18472,1 +18602,1 @@\n-  { \/* page 363, index 142 *\/\n+  { \/* page 363, index 143 *\/\n@@ -18602,1 +18732,1 @@\n-  { \/* page 366, index 143 *\/\n+  { \/* page 366, index 144 *\/\n@@ -18732,1 +18862,1 @@\n-  { \/* page 367, index 144 *\/\n+  { \/* page 367, index 145 *\/\n@@ -18862,1 +18992,1 @@\n-  { \/* page 391, index 145 *\/\n+  { \/* page 391, index 146 *\/\n@@ -18992,1 +19122,1 @@\n-  { \/* page 396, index 146 *\/\n+  { \/* page 396, index 147 *\/\n@@ -19122,1 +19252,1 @@\n-  { \/* page 397, index 147 *\/\n+  { \/* page 397, index 148 *\/\n@@ -19252,1 +19382,133 @@\n-  { \/* page 433, index 148 *\/\n+  { \/* page 431, index 149 *\/\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 433, index 150 *\/\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -19291,2 +19553,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -19385,1 +19645,1 @@\n-  { \/* page 434, index 149 *\/\n+  { \/* page 434, index 151 *\/\n@@ -19515,1 +19775,1 @@\n-  { \/* page 444, index 150 *\/\n+  { \/* page 444, index 152 *\/\n@@ -19645,1 +19905,131 @@\n-  { \/* page 464, index 151 *\/\n+  { \/* page 463, index 153 *\/\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 464, index 154 *\/\n@@ -19775,1 +20165,1 @@\n-  { \/* page 465, index 152 *\/\n+  { \/* page 465, index 155 *\/\n@@ -19892,0 +20282,1 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n@@ -19902,1 +20293,0 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -19905,1 +20295,1 @@\n-  { \/* page 466, index 153 *\/\n+  { \/* page 466, index 156 *\/\n@@ -20035,1 +20425,1 @@\n-  { \/* page 467, index 154 *\/\n+  { \/* page 467, index 157 *\/\n@@ -20165,1 +20555,1 @@\n-  { \/* page 468, index 155 *\/\n+  { \/* page 468, index 158 *\/\n@@ -20295,1 +20685,1 @@\n-  { \/* page 469, index 156 *\/\n+  { \/* page 469, index 159 *\/\n@@ -20425,1 +20815,1 @@\n-  { \/* page 470, index 157 *\/\n+  { \/* page 470, index 160 *\/\n@@ -20555,1 +20945,1 @@\n-  { \/* page 471, index 158 *\/\n+  { \/* page 471, index 161 *\/\n@@ -20685,1 +21075,1 @@\n-  { \/* page 474, index 159 *\/\n+  { \/* page 474, index 162 *\/\n@@ -20762,11 +21152,141 @@\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n-    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_COMBINING_MARK,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 479, index 163 *\/\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n@@ -20814,1 +21334,1 @@\n-  { \/* page 480, index 160 *\/\n+  { \/* page 480, index 164 *\/\n@@ -20944,1 +21464,1 @@\n-  { \/* page 481, index 161 *\/\n+  { \/* page 481, index 165 *\/\n@@ -21074,17 +21594,1 @@\n-  { \/* page 482, index 162 *\/\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n-    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+  { \/* page 482, index 166 *\/\n@@ -21163,0 +21667,16 @@\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_COMBINING_MARK, G_UNICODE_BREAK_UNKNOWN,\n@@ -21204,1 +21724,131 @@\n-  { \/* page 488, index 163 *\/\n+  { \/* page 487, index 167 *\/\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_UNKNOWN, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_ALPHABETIC,\n+    G_UNICODE_BREAK_ALPHABETIC, G_UNICODE_BREAK_UNKNOWN\n+  },\n+  { \/* page 488, index 168 *\/\n@@ -21334,1 +21984,1 @@\n-  { \/* page 489, index 164 *\/\n+  { \/* page 489, index 169 *\/\n@@ -21464,1 +22114,1 @@\n-  { \/* page 492, index 165 *\/\n+  { \/* page 492, index 170 *\/\n@@ -21594,1 +22244,1 @@\n-  { \/* page 493, index 166 *\/\n+  { \/* page 493, index 171 *\/\n@@ -21724,1 +22374,1 @@\n-  { \/* page 494, index 167 *\/\n+  { \/* page 494, index 172 *\/\n@@ -21854,1 +22504,1 @@\n-  { \/* page 497, index 168 *\/\n+  { \/* page 497, index 173 *\/\n@@ -21984,1 +22634,1 @@\n-  { \/* page 499, index 169 *\/\n+  { \/* page 499, index 174 *\/\n@@ -22114,1 +22764,1 @@\n-  { \/* page 500, index 170 *\/\n+  { \/* page 500, index 175 *\/\n@@ -22244,1 +22894,1 @@\n-  { \/* page 501, index 171 *\/\n+  { \/* page 501, index 176 *\/\n@@ -22374,1 +23024,1 @@\n-  { \/* page 502, index 172 *\/\n+  { \/* page 502, index 177 *\/\n@@ -22504,1 +23154,1 @@\n-  { \/* page 503, index 173 *\/\n+  { \/* page 503, index 178 *\/\n@@ -22634,1 +23284,1 @@\n-  { \/* page 504, index 174 *\/\n+  { \/* page 504, index 179 *\/\n@@ -22764,1 +23414,1 @@\n-  { \/* page 505, index 175 *\/\n+  { \/* page 505, index 180 *\/\n@@ -22894,1 +23544,1 @@\n-  { \/* page 506, index 176 *\/\n+  { \/* page 506, index 181 *\/\n@@ -22992,0 +23642,2 @@\n+    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_EMOJI_BASE,\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_EMOJI_BASE,\n@@ -23013,6 +23665,4 @@\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n-    G_UNICODE_BREAK_IDEOGRAPHIC, G_UNICODE_BREAK_IDEOGRAPHIC,\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_EMOJI_BASE,\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_EMOJI_BASE,\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_EMOJI_BASE,\n+    G_UNICODE_BREAK_EMOJI_BASE, G_UNICODE_BREAK_IDEOGRAPHIC,\n@@ -23024,1 +23674,1 @@\n-  { \/* page 507, index 177 *\/\n+  { \/* page 507, index 182 *\/\n@@ -23154,1 +23804,1 @@\n-  { \/* page 511, index 178 *\/\n+  { \/* page 511, index 183 *\/\n@@ -23284,1 +23934,1 @@\n-  { \/* page 767, index 179 *\/\n+  { \/* page 767, index 184 *\/\n@@ -23414,1 +24064,1 @@\n-  { \/* page 1023, index 180 *\/\n+  { \/* page 1023, index 185 *\/\n@@ -23544,1 +24194,1 @@\n-  { \/* page 3584, index 181 *\/\n+  { \/* page 3584, index 186 *\/\n@@ -23674,1 +24324,1 @@\n-  { \/* page 3585, index 182 *\/\n+  { \/* page 3585, index 187 *\/\n@@ -24111,1 +24761,1 @@\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n+  136 \/* page 303 *\/,\n@@ -24114,3 +24764,3 @@\n-  136 \/* page 306 *\/,\n-  137 \/* page 307 *\/,\n-  138 \/* page 308 *\/,\n+  137 \/* page 306 *\/,\n+  138 \/* page 307 *\/,\n+  139 \/* page 308 *\/,\n@@ -24133,2 +24783,2 @@\n-  139 \/* page 325 *\/,\n-  140 \/* page 326 *\/,\n+  140 \/* page 325 *\/,\n+  141 \/* page 326 *\/,\n@@ -24170,2 +24820,2 @@\n-  141 \/* page 362 *\/,\n-  142 \/* page 363 *\/,\n+  142 \/* page 362 *\/,\n+  143 \/* page 363 *\/,\n@@ -24174,2 +24824,2 @@\n-  143 \/* page 366 *\/,\n-  144 \/* page 367 *\/,\n+  144 \/* page 366 *\/,\n+  145 \/* page 367 *\/,\n@@ -24199,1 +24849,1 @@\n-  145 \/* page 391 *\/,\n+  146 \/* page 391 *\/,\n@@ -24204,3 +24854,2 @@\n-  146 \/* page 396 *\/,\n-  147 \/* page 397 *\/,\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n+  147 \/* page 396 *\/,\n+  148 \/* page 397 *\/,\n@@ -24240,0 +24889,1 @@\n+  149 \/* page 431 *\/,\n@@ -24241,3 +24891,2 @@\n-  148 \/* page 433 *\/,\n-  149 \/* page 434 *\/,\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n+  150 \/* page 433 *\/,\n+  151 \/* page 434 *\/,\n@@ -24252,1 +24901,0 @@\n-  150 \/* page 444 *\/,\n@@ -24254,0 +24902,1 @@\n+  152 \/* page 444 *\/,\n@@ -24272,8 +24921,9 @@\n-  151 \/* page 464 *\/,\n-  152 \/* page 465 *\/,\n-  153 \/* page 466 *\/,\n-  154 \/* page 467 *\/,\n-  155 \/* page 468 *\/,\n-  156 \/* page 469 *\/,\n-  157 \/* page 470 *\/,\n-  158 \/* page 471 *\/,\n+  153 \/* page 463 *\/,\n+  154 \/* page 464 *\/,\n+  155 \/* page 465 *\/,\n+  156 \/* page 466 *\/,\n+  157 \/* page 467 *\/,\n+  158 \/* page 468 *\/,\n+  159 \/* page 469 *\/,\n+  160 \/* page 470 *\/,\n+  161 \/* page 471 *\/,\n@@ -24282,3 +24932,1 @@\n-  159 \/* page 474 *\/,\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n-  G_UNICODE_BREAK_UNKNOWN + G_UNICODE_MAX_TABLE_INDEX,\n+  162 \/* page 474 *\/,\n@@ -24288,3 +24936,0 @@\n-  160 \/* page 480 *\/,\n-  161 \/* page 481 *\/,\n-  162 \/* page 482 *\/,\n@@ -24292,0 +24937,4 @@\n+  163 \/* page 479 *\/,\n+  164 \/* page 480 *\/,\n+  165 \/* page 481 *\/,\n+  166 \/* page 482 *\/,\n@@ -24296,2 +24945,3 @@\n-  163 \/* page 488 *\/,\n-  164 \/* page 489 *\/,\n+  167 \/* page 487 *\/,\n+  168 \/* page 488 *\/,\n+  169 \/* page 489 *\/,\n@@ -24300,3 +24950,3 @@\n-  165 \/* page 492 *\/,\n-  166 \/* page 493 *\/,\n-  167 \/* page 494 *\/,\n+  170 \/* page 492 *\/,\n+  171 \/* page 493 *\/,\n+  172 \/* page 494 *\/,\n@@ -24305,1 +24955,1 @@\n-  168 \/* page 497 *\/,\n+  173 \/* page 497 *\/,\n@@ -24307,9 +24957,9 @@\n-  169 \/* page 499 *\/,\n-  170 \/* page 500 *\/,\n-  171 \/* page 501 *\/,\n-  172 \/* page 502 *\/,\n-  173 \/* page 503 *\/,\n-  174 \/* page 504 *\/,\n-  175 \/* page 505 *\/,\n-  176 \/* page 506 *\/,\n-  177 \/* page 507 *\/,\n+  174 \/* page 499 *\/,\n+  175 \/* page 500 *\/,\n+  176 \/* page 501 *\/,\n+  177 \/* page 502 *\/,\n+  178 \/* page 503 *\/,\n+  179 \/* page 504 *\/,\n+  180 \/* page 505 *\/,\n+  181 \/* page 506 *\/,\n+  182 \/* page 507 *\/,\n@@ -24319,1 +24969,1 @@\n-  178 \/* page 511 *\/,\n+  183 \/* page 511 *\/,\n@@ -24575,1 +25225,1 @@\n-  179 \/* page 767 *\/,\n+  184 \/* page 767 *\/,\n@@ -24600,2 +25250,2 @@\n-  181 \/* page 3584 *\/,\n-  182 \/* page 3585 *\/,\n+  186 \/* page 3584 *\/,\n+  187 \/* page 3585 *\/,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunibreak.h","additions":1023,"deletions":373,"binary":false,"changes":1396,"status":"modified"},{"patch":"@@ -7,1 +7,1 @@\n-#define G_UNICODE_DATA_VERSION \"13.0.0\"\n+#define G_UNICODE_DATA_VERSION \"14\"\n@@ -787,1 +787,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_FORMAT,\n@@ -789,0 +789,1 @@\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_LETTER,\n@@ -799,2 +800,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_MODIFIER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_MODIFIER_LETTER,\n@@ -804,0 +804,1 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n@@ -814,1 +815,0 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_DECIMAL_NUMBER,\n@@ -819,1 +819,1 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n@@ -821,3 +821,3 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n@@ -856,0 +856,1 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1024,16 +1025,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -1047,0 +1032,4 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_MODIFIER_SYMBOL, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -1048,0 +1037,7 @@\n+    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n@@ -1054,4 +1050,13 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -1391,1 +1396,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n@@ -1393,0 +1398,1 @@\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK,\n@@ -1394,1 +1400,1 @@\n-    G_UNICODE_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n@@ -1403,1 +1409,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -1449,1 +1455,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2253,1 +2259,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2256,2 +2262,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_SPACING_MARK, G_UNICODE_UNASSIGNED,\n@@ -2260,0 +2265,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -2267,1 +2273,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_SPACING_MARK, G_UNICODE_OTHER_PUNCTUATION,\n@@ -2352,1 +2358,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_DECIMAL_NUMBER,\n@@ -2356,1 +2362,2 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -2358,1 +2365,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2370,1 +2377,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2388,2 +2395,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -2391,0 +2397,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -2392,2 +2399,2 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n@@ -2405,2 +2412,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -2408,0 +2414,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -2430,2 +2437,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -2434,1 +2440,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -2609,0 +2615,7 @@\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -2625,6 +2638,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -2661,1 +2669,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -2681,2 +2689,3 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n@@ -2970,1 +2979,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -3316,1 +3325,2 @@\n-    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_CURRENCY_SYMBOL,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -3321,1 +3331,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n@@ -3328,2 +3337,0 @@\n-    G_UNICODE_ENCLOSING_MARK, G_UNICODE_ENCLOSING_MARK,\n-    G_UNICODE_ENCLOSING_MARK, G_UNICODE_ENCLOSING_MARK,\n@@ -3332,0 +3339,3 @@\n+    G_UNICODE_ENCLOSING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_ENCLOSING_MARK, G_UNICODE_ENCLOSING_MARK,\n+    G_UNICODE_ENCLOSING_MARK, G_UNICODE_NON_SPACING_MARK,\n@@ -3337,1 +3347,1 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -3342,1 +3352,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED\n@@ -4099,1 +4109,2 @@\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -4123,1 +4134,0 @@\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED,\n@@ -4346,4 +4356,6 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OPEN_PUNCTUATION,\n+    G_UNICODE_CLOSE_PUNCTUATION, G_UNICODE_OPEN_PUNCTUATION,\n+    G_UNICODE_CLOSE_PUNCTUATION, G_UNICODE_OPEN_PUNCTUATION,\n+    G_UNICODE_CLOSE_PUNCTUATION, G_UNICODE_OPEN_PUNCTUATION,\n+    G_UNICODE_CLOSE_PUNCTUATION, G_UNICODE_DASH_PUNCTUATION,\n@@ -4857,89 +4869,1 @@\n-  { \/* page 159, index 47 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED\n-  },\n-  { \/* page 160, index 48 *\/\n+  { \/* page 160, index 47 *\/\n@@ -5033,1 +4957,1 @@\n-  { \/* page 164, index 49 *\/\n+  { \/* page 164, index 48 *\/\n@@ -5122,1 +5046,1 @@\n-  { \/* page 166, index 50 *\/\n+  { \/* page 166, index 49 *\/\n@@ -5231,1 +5155,1 @@\n-  { \/* page 167, index 51 *\/\n+  { \/* page 167, index 50 *\/\n@@ -5328,3 +5252,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UPPERCASE_LETTER,\n-    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n-    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n@@ -5333,0 +5254,4 @@\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -5334,0 +5259,5 @@\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -5341,6 +5271,2 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n@@ -5353,1 +5279,1 @@\n-  { \/* page 168, index 52 *\/\n+  { \/* page 168, index 51 *\/\n@@ -5450,1 +5376,1 @@\n-  { \/* page 169, index 53 *\/\n+  { \/* page 169, index 52 *\/\n@@ -5553,1 +5479,1 @@\n-  { \/* page 170, index 54 *\/\n+  { \/* page 170, index 53 *\/\n@@ -5652,1 +5578,1 @@\n-  { \/* page 171, index 55 *\/\n+  { \/* page 171, index 54 *\/\n@@ -5766,1 +5692,1 @@\n-  { \/* page 215, index 56 *\/\n+  { \/* page 215, index 55 *\/\n@@ -5854,1 +5780,1 @@\n-  { \/* page 250, index 57 *\/\n+  { \/* page 250, index 56 *\/\n@@ -5942,1 +5868,1 @@\n-  { \/* page 251, index 58 *\/\n+  { \/* page 251, index 57 *\/\n@@ -6013,1 +5939,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_MODIFIER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -6035,1 +5961,1 @@\n-  { \/* page 253, index 59 *\/\n+  { \/* page 253, index 58 *\/\n@@ -6058,6 +5984,6 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -6105,1 +6031,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n@@ -6121,2 +6047,2 @@\n-    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED\n+    G_UNICODE_CURRENCY_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL\n@@ -6124,1 +6050,1 @@\n-  { \/* page 254, index 60 *\/\n+  { \/* page 254, index 59 *\/\n@@ -6228,1 +6154,1 @@\n-  { \/* page 255, index 61 *\/\n+  { \/* page 255, index 60 *\/\n@@ -6335,1 +6261,1 @@\n-  { \/* page 256, index 62 *\/\n+  { \/* page 256, index 61 *\/\n@@ -6423,1 +6349,1 @@\n-  { \/* page 257, index 63 *\/\n+  { \/* page 257, index 62 *\/\n@@ -6519,1 +6445,1 @@\n-  { \/* page 258, index 64 *\/\n+  { \/* page 258, index 63 *\/\n@@ -6607,1 +6533,1 @@\n-  { \/* page 259, index 65 *\/\n+  { \/* page 259, index 64 *\/\n@@ -6697,1 +6623,1 @@\n-  { \/* page 260, index 66 *\/\n+  { \/* page 260, index 65 *\/\n@@ -6811,1 +6737,1 @@\n-  { \/* page 261, index 67 *\/\n+  { \/* page 261, index 66 *\/\n@@ -6849,26 +6775,39 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UPPERCASE_LETTER,\n+    G_UNICODE_UPPERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n@@ -6899,1 +6838,1 @@\n-  { \/* page 263, index 68 *\/\n+  { \/* page 263, index 67 *\/\n@@ -6942,0 +6881,30 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n@@ -6964,22 +6933,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -6987,1 +6935,1 @@\n-  { \/* page 264, index 69 *\/\n+  { \/* page 264, index 68 *\/\n@@ -7075,1 +7023,1 @@\n-  { \/* page 265, index 70 *\/\n+  { \/* page 265, index 69 *\/\n@@ -7163,1 +7111,1 @@\n-  { \/* page 266, index 71 *\/\n+  { \/* page 266, index 70 *\/\n@@ -7256,1 +7204,1 @@\n-  { \/* page 267, index 72 *\/\n+  { \/* page 267, index 71 *\/\n@@ -7346,1 +7294,1 @@\n-  { \/* page 268, index 73 *\/\n+  { \/* page 268, index 72 *\/\n@@ -7451,1 +7399,1 @@\n-  { \/* page 269, index 74 *\/\n+  { \/* page 269, index 73 *\/\n@@ -7541,1 +7489,1 @@\n-  { \/* page 270, index 75 *\/\n+  { \/* page 270, index 74 *\/\n@@ -7629,1 +7577,1 @@\n-  { \/* page 271, index 76 *\/\n+  { \/* page 271, index 75 *\/\n@@ -7670,0 +7618,11 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7682,10 +7641,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -7698,1 +7647,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_NUMBER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -7701,0 +7650,1 @@\n+    G_UNICODE_OTHER_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7707,1 +7657,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -7715,1 +7664,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -7718,1 +7667,1 @@\n-    G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -7720,1 +7669,1 @@\n-  { \/* page 272, index 77 *\/\n+  { \/* page 272, index 76 *\/\n@@ -7763,3 +7712,4 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -7794,1 +7744,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -7817,1 +7767,1 @@\n-  { \/* page 273, index 78 *\/\n+  { \/* page 273, index 77 *\/\n@@ -7918,1 +7868,1 @@\n-  { \/* page 274, index 79 *\/\n+  { \/* page 274, index 78 *\/\n@@ -8013,1 +7963,1 @@\n-  { \/* page 275, index 80 *\/\n+  { \/* page 275, index 79 *\/\n@@ -8104,1 +8054,1 @@\n-  { \/* page 276, index 81 *\/\n+  { \/* page 276, index 80 *\/\n@@ -8202,1 +8152,1 @@\n-  { \/* page 277, index 82 *\/\n+  { \/* page 277, index 81 *\/\n@@ -8296,1 +8246,1 @@\n-  { \/* page 278, index 83 *\/\n+  { \/* page 278, index 82 *\/\n@@ -8367,2 +8317,2 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -8370,1 +8320,1 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n@@ -8394,1 +8344,1 @@\n-  { \/* page 279, index 84 *\/\n+  { \/* page 279, index 83 *\/\n@@ -8421,3 +8371,3 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -8486,1 +8436,1 @@\n-  { \/* page 280, index 85 *\/\n+  { \/* page 280, index 84 *\/\n@@ -8588,1 +8538,1 @@\n-  { \/* page 281, index 86 *\/\n+  { \/* page 281, index 85 *\/\n@@ -8680,1 +8630,1 @@\n-  { \/* page 282, index 87 *\/\n+  { \/* page 282, index 86 *\/\n@@ -8751,6 +8701,6 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -8779,1 +8729,1 @@\n-  { \/* page 284, index 88 *\/\n+  { \/* page 284, index 87 *\/\n@@ -8878,1 +8828,1 @@\n-  { \/* page 285, index 89 *\/\n+  { \/* page 285, index 88 *\/\n@@ -8971,1 +8921,1 @@\n-  { \/* page 286, index 90 *\/\n+  { \/* page 286, index 89 *\/\n@@ -9060,1 +9010,1 @@\n-  { \/* page 287, index 91 *\/\n+  { \/* page 287, index 90 *\/\n@@ -9149,1 +9099,1 @@\n-  { \/* page 291, index 92 *\/\n+  { \/* page 291, index 91 *\/\n@@ -9237,1 +9187,1 @@\n-  { \/* page 292, index 93 *\/\n+  { \/* page 292, index 92 *\/\n@@ -9344,1 +9294,1 @@\n-  { \/* page 293, index 94 *\/\n+  { \/* page 293, index 93 *\/\n@@ -9432,26 +9382,1 @@\n-  { \/* page 308, index 95 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n-    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n-    G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+  { \/* page 303, index 94 *\/\n@@ -9506,14 +9431,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n-  },\n-  { \/* page 326, index 96 *\/\n@@ -9543,7 +9454,11 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9553,0 +9468,22 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 308, index 95 *\/\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n+    G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT, G_UNICODE_FORMAT,\n+    G_UNICODE_FORMAT, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9605,1 +9542,14 @@\n-    G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n@@ -9607,6 +9557,1 @@\n-  { \/* page 362, index 97 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+  { \/* page 326, index 96 *\/\n@@ -9627,3 +9572,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -9640,5 +9582,0 @@\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n@@ -9646,1 +9583,0 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n@@ -9679,0 +9615,31 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 362, index 97 *\/\n@@ -9689,1 +9656,73 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_OTHER_PUNCTUATION,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -9692,1 +9731,1 @@\n-    G_UNICODE_OTHER_PUNCTUATION, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_OTHER_PUNCTUATION,\n@@ -9695,1 +9734,2 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED\n@@ -10243,1 +10283,91 @@\n-  { \/* page 433, index 104 *\/\n+  { \/* page 431, index 104 *\/\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 433, index 105 *\/\n@@ -10254,2 +10384,2 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -10331,1 +10461,1 @@\n-  { \/* page 434, index 105 *\/\n+  { \/* page 434, index 106 *\/\n@@ -10419,1 +10549,1 @@\n-  { \/* page 444, index 106 *\/\n+  { \/* page 444, index 107 *\/\n@@ -10507,1 +10637,100 @@\n-  { \/* page 464, index 107 *\/\n+  { \/* page 463, index 108 *\/\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 464, index 109 *\/\n@@ -10595,1 +10824,1 @@\n-  { \/* page 465, index 108 *\/\n+  { \/* page 465, index 110 *\/\n@@ -10677,2 +10906,2 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -10687,1 +10916,1 @@\n-  { \/* page 466, index 109 *\/\n+  { \/* page 466, index 111 *\/\n@@ -10775,1 +11004,1 @@\n-  { \/* page 467, index 110 *\/\n+  { \/* page 467, index 112 *\/\n@@ -10863,1 +11092,1 @@\n-  { \/* page 468, index 111 *\/\n+  { \/* page 468, index 113 *\/\n@@ -10992,1 +11221,1 @@\n-  { \/* page 469, index 112 *\/\n+  { \/* page 469, index 114 *\/\n@@ -11121,1 +11350,1 @@\n-  { \/* page 470, index 113 *\/\n+  { \/* page 470, index 115 *\/\n@@ -11251,1 +11480,1 @@\n-  { \/* page 471, index 114 *\/\n+  { \/* page 471, index 116 *\/\n@@ -11381,1 +11610,1 @@\n-  { \/* page 474, index 115 *\/\n+  { \/* page 474, index 117 *\/\n@@ -11492,1 +11721,94 @@\n-  { \/* page 480, index 116 *\/\n+  { \/* page 479, index 118 *\/\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_LOWERCASE_LETTER,\n+    G_UNICODE_LOWERCASE_LETTER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 480, index 119 *\/\n@@ -11584,18 +11906,100 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n-  },\n-  { \/* page 481, index 117 *\/\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 481, index 120 *\/\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n+  },\n+  { \/* page 482, index 121 *\/\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -11603,15 +12007,0 @@\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_MODIFIER_LETTER,\n-    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n-    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n-    G_UNICODE_MODIFIER_LETTER, G_UNICODE_MODIFIER_LETTER,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -11659,0 +12048,11 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -11664,0 +12064,22 @@\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n+    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n@@ -11665,0 +12087,3 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_CURRENCY_SYMBOL\n+  },\n+  { \/* page 487, index 122 *\/\n@@ -11675,3 +12100,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED\n-  },\n-  { \/* page 482, index 118 *\/\n@@ -11742,0 +12164,1 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER,\n@@ -11744,0 +12167,3 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -11749,17 +12175,1 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_NON_SPACING_MARK, G_UNICODE_NON_SPACING_MARK,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER,\n-    G_UNICODE_DECIMAL_NUMBER, G_UNICODE_DECIMAL_NUMBER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_CURRENCY_SYMBOL\n+    G_UNICODE_UNASSIGNED\n@@ -11767,1 +12177,1 @@\n-  { \/* page 488, index 119 *\/\n+  { \/* page 488, index 123 *\/\n@@ -11856,1 +12266,1 @@\n-  { \/* page 489, index 120 *\/\n+  { \/* page 489, index 124 *\/\n@@ -11958,1 +12368,1 @@\n-  { \/* page 492, index 121 *\/\n+  { \/* page 492, index 125 *\/\n@@ -12046,1 +12456,1 @@\n-  { \/* page 493, index 122 *\/\n+  { \/* page 493, index 126 *\/\n@@ -12134,1 +12544,1 @@\n-  { \/* page 494, index 123 *\/\n+  { \/* page 494, index 127 *\/\n@@ -12222,1 +12632,1 @@\n-  { \/* page 496, index 124 *\/\n+  { \/* page 496, index 128 *\/\n@@ -12310,1 +12720,1 @@\n-  { \/* page 497, index 125 *\/\n+  { \/* page 497, index 129 *\/\n@@ -12398,1 +12808,1 @@\n-  { \/* page 498, index 126 *\/\n+  { \/* page 498, index 130 *\/\n@@ -12486,1 +12896,1 @@\n-  { \/* page 499, index 127 *\/\n+  { \/* page 499, index 131 *\/\n@@ -12575,1 +12985,1 @@\n-  { \/* page 502, index 128 *\/\n+  { \/* page 502, index 132 *\/\n@@ -12649,1 +13059,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12655,0 +13064,1 @@\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -12663,1 +13073,1 @@\n-  { \/* page 503, index 129 *\/\n+  { \/* page 503, index 133 *\/\n@@ -12744,1 +13154,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12751,1 +13161,1 @@\n-  { \/* page 504, index 130 *\/\n+  { \/* page 504, index 134 *\/\n@@ -12839,89 +13249,1 @@\n-  { \/* page 505, index 131 *\/\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n-    G_UNICODE_OTHER_SYMBOL\n-  },\n-  { \/* page 506, index 132 *\/\n+  { \/* page 506, index 135 *\/\n@@ -12969,1 +13291,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n@@ -12984,2 +13306,2 @@\n-    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED,\n@@ -12989,3 +13311,0 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12993,0 +13312,1 @@\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -12994,0 +13314,2 @@\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -12999,0 +13321,1 @@\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n@@ -13001,0 +13324,4 @@\n+    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13003,8 +13330,3 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL, G_UNICODE_OTHER_SYMBOL,\n+    G_UNICODE_OTHER_SYMBOL, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13015,1 +13337,1 @@\n-  { \/* page 507, index 133 *\/\n+  { \/* page 507, index 136 *\/\n@@ -13104,1 +13426,1 @@\n-  { \/* page 678, index 134 *\/\n+  { \/* page 678, index 137 *\/\n@@ -13179,1 +13501,1 @@\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n@@ -13192,1 +13514,3 @@\n-  { \/* page 695, index 135 *\/\n+  { \/* page 695, index 138 *\/\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n+    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER,\n@@ -13210,2 +13534,0 @@\n-    G_UNICODE_OTHER_LETTER, G_UNICODE_OTHER_LETTER, G_UNICODE_UNASSIGNED,\n-    G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED, G_UNICODE_UNASSIGNED,\n@@ -13280,1 +13602,1 @@\n-  { \/* page 696, index 136 *\/\n+  { \/* page 696, index 139 *\/\n@@ -13368,1 +13690,1 @@\n-  { \/* page 718, index 137 *\/\n+  { \/* page 718, index 140 *\/\n@@ -13456,1 +13778,1 @@\n-  { \/* page 747, index 138 *\/\n+  { \/* page 747, index 141 *\/\n@@ -13544,1 +13866,1 @@\n-  { \/* page 762, index 139 *\/\n+  { \/* page 762, index 142 *\/\n@@ -13632,1 +13954,1 @@\n-  { \/* page 787, index 140 *\/\n+  { \/* page 787, index 143 *\/\n@@ -13720,1 +14042,1 @@\n-  { \/* page 3584, index 141 *\/\n+  { \/* page 3584, index 144 *\/\n@@ -13800,1 +14122,1 @@\n-  { \/* page 3585, index 142 *\/\n+  { \/* page 3585, index 145 *\/\n@@ -13928,1 +14250,1 @@\n-  { \/* page 4095, index 143 *\/\n+  { \/* page 4095, index 146 *\/\n@@ -14016,1 +14338,1 @@\n-  { \/* page 4351, index 144 *\/\n+  { \/* page 4351, index 147 *\/\n@@ -14267,2 +14589,0 @@\n-  47 \/* page 159 *\/,\n-  48 \/* page 160 *\/,\n@@ -14270,0 +14590,1 @@\n+  47 \/* page 160 *\/,\n@@ -14272,1 +14593,0 @@\n-  49 \/* page 164 *\/,\n@@ -14274,6 +14594,1 @@\n-  50 \/* page 166 *\/,\n-  51 \/* page 167 *\/,\n-  52 \/* page 168 *\/,\n-  53 \/* page 169 *\/,\n-  54 \/* page 170 *\/,\n-  55 \/* page 171 *\/,\n+  48 \/* page 164 *\/,\n@@ -14281,0 +14596,6 @@\n+  49 \/* page 166 *\/,\n+  50 \/* page 167 *\/,\n+  51 \/* page 168 *\/,\n+  52 \/* page 169 *\/,\n+  53 \/* page 170 *\/,\n+  54 \/* page 171 *\/,\n@@ -14323,1 +14644,2 @@\n-  56 \/* page 215 *\/,\n+  G_UNICODE_OTHER_LETTER + G_UNICODE_MAX_TABLE_INDEX,\n+  55 \/* page 215 *\/,\n@@ -14358,2 +14680,2 @@\n-  57 \/* page 250 *\/,\n-  58 \/* page 251 *\/,\n+  56 \/* page 250 *\/,\n+  57 \/* page 251 *\/,\n@@ -14361,9 +14683,9 @@\n-  59 \/* page 253 *\/,\n-  60 \/* page 254 *\/,\n-  61 \/* page 255 *\/,\n-  62 \/* page 256 *\/,\n-  63 \/* page 257 *\/,\n-  64 \/* page 258 *\/,\n-  65 \/* page 259 *\/,\n-  66 \/* page 260 *\/,\n-  67 \/* page 261 *\/,\n+  58 \/* page 253 *\/,\n+  59 \/* page 254 *\/,\n+  60 \/* page 255 *\/,\n+  61 \/* page 256 *\/,\n+  62 \/* page 257 *\/,\n+  63 \/* page 258 *\/,\n+  64 \/* page 259 *\/,\n+  65 \/* page 260 *\/,\n+  66 \/* page 261 *\/,\n@@ -14371,20 +14693,20 @@\n-  68 \/* page 263 *\/,\n-  69 \/* page 264 *\/,\n-  70 \/* page 265 *\/,\n-  71 \/* page 266 *\/,\n-  72 \/* page 267 *\/,\n-  73 \/* page 268 *\/,\n-  74 \/* page 269 *\/,\n-  75 \/* page 270 *\/,\n-  76 \/* page 271 *\/,\n-  77 \/* page 272 *\/,\n-  78 \/* page 273 *\/,\n-  79 \/* page 274 *\/,\n-  80 \/* page 275 *\/,\n-  81 \/* page 276 *\/,\n-  82 \/* page 277 *\/,\n-  83 \/* page 278 *\/,\n-  84 \/* page 279 *\/,\n-  85 \/* page 280 *\/,\n-  86 \/* page 281 *\/,\n-  87 \/* page 282 *\/,\n+  67 \/* page 263 *\/,\n+  68 \/* page 264 *\/,\n+  69 \/* page 265 *\/,\n+  70 \/* page 266 *\/,\n+  71 \/* page 267 *\/,\n+  72 \/* page 268 *\/,\n+  73 \/* page 269 *\/,\n+  74 \/* page 270 *\/,\n+  75 \/* page 271 *\/,\n+  76 \/* page 272 *\/,\n+  77 \/* page 273 *\/,\n+  78 \/* page 274 *\/,\n+  79 \/* page 275 *\/,\n+  80 \/* page 276 *\/,\n+  81 \/* page 277 *\/,\n+  82 \/* page 278 *\/,\n+  83 \/* page 279 *\/,\n+  84 \/* page 280 *\/,\n+  85 \/* page 281 *\/,\n+  86 \/* page 282 *\/,\n@@ -14392,4 +14714,4 @@\n-  88 \/* page 284 *\/,\n-  89 \/* page 285 *\/,\n-  90 \/* page 286 *\/,\n-  91 \/* page 287 *\/,\n+  87 \/* page 284 *\/,\n+  88 \/* page 285 *\/,\n+  89 \/* page 286 *\/,\n+  90 \/* page 287 *\/,\n@@ -14399,4 +14721,3 @@\n-  92 \/* page 291 *\/,\n-  93 \/* page 292 *\/,\n-  94 \/* page 293 *\/,\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n+  91 \/* page 291 *\/,\n+  92 \/* page 292 *\/,\n+  93 \/* page 293 *\/,\n@@ -14412,0 +14733,1 @@\n+  94 \/* page 303 *\/,\n@@ -14539,1 +14861,1 @@\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n+  104 \/* page 431 *\/,\n@@ -14541,3 +14863,2 @@\n-  104 \/* page 433 *\/,\n-  105 \/* page 434 *\/,\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n+  105 \/* page 433 *\/,\n+  106 \/* page 434 *\/,\n@@ -14552,1 +14873,0 @@\n-  106 \/* page 444 *\/,\n@@ -14554,0 +14874,1 @@\n+  107 \/* page 444 *\/,\n@@ -14572,8 +14893,9 @@\n-  107 \/* page 464 *\/,\n-  108 \/* page 465 *\/,\n-  109 \/* page 466 *\/,\n-  110 \/* page 467 *\/,\n-  111 \/* page 468 *\/,\n-  112 \/* page 469 *\/,\n-  113 \/* page 470 *\/,\n-  114 \/* page 471 *\/,\n+  108 \/* page 463 *\/,\n+  109 \/* page 464 *\/,\n+  110 \/* page 465 *\/,\n+  111 \/* page 466 *\/,\n+  112 \/* page 467 *\/,\n+  113 \/* page 468 *\/,\n+  114 \/* page 469 *\/,\n+  115 \/* page 470 *\/,\n+  116 \/* page 471 *\/,\n@@ -14582,3 +14904,1 @@\n-  115 \/* page 474 *\/,\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n-  G_UNICODE_UNASSIGNED + G_UNICODE_MAX_TABLE_INDEX,\n+  117 \/* page 474 *\/,\n@@ -14588,3 +14908,0 @@\n-  116 \/* page 480 *\/,\n-  117 \/* page 481 *\/,\n-  118 \/* page 482 *\/,\n@@ -14592,0 +14909,4 @@\n+  118 \/* page 479 *\/,\n+  119 \/* page 480 *\/,\n+  120 \/* page 481 *\/,\n+  121 \/* page 482 *\/,\n@@ -14596,2 +14917,3 @@\n-  119 \/* page 488 *\/,\n-  120 \/* page 489 *\/,\n+  122 \/* page 487 *\/,\n+  123 \/* page 488 *\/,\n+  124 \/* page 489 *\/,\n@@ -14600,3 +14922,3 @@\n-  121 \/* page 492 *\/,\n-  122 \/* page 493 *\/,\n-  123 \/* page 494 *\/,\n+  125 \/* page 492 *\/,\n+  126 \/* page 493 *\/,\n+  127 \/* page 494 *\/,\n@@ -14604,4 +14926,4 @@\n-  124 \/* page 496 *\/,\n-  125 \/* page 497 *\/,\n-  126 \/* page 498 *\/,\n-  127 \/* page 499 *\/,\n+  128 \/* page 496 *\/,\n+  129 \/* page 497 *\/,\n+  130 \/* page 498 *\/,\n+  131 \/* page 499 *\/,\n@@ -14610,6 +14932,6 @@\n-  128 \/* page 502 *\/,\n-  129 \/* page 503 *\/,\n-  130 \/* page 504 *\/,\n-  131 \/* page 505 *\/,\n-  132 \/* page 506 *\/,\n-  133 \/* page 507 *\/,\n+  132 \/* page 502 *\/,\n+  133 \/* page 503 *\/,\n+  134 \/* page 504 *\/,\n+  G_UNICODE_OTHER_SYMBOL + G_UNICODE_MAX_TABLE_INDEX,\n+  135 \/* page 506 *\/,\n+  136 \/* page 507 *\/,\n@@ -14786,1 +15108,1 @@\n-  134 \/* page 678 *\/,\n+  137 \/* page 678 *\/,\n@@ -14803,2 +15125,2 @@\n-  135 \/* page 695 *\/,\n-  136 \/* page 696 *\/,\n+  138 \/* page 695 *\/,\n+  139 \/* page 696 *\/,\n@@ -14826,1 +15148,1 @@\n-  137 \/* page 718 *\/,\n+  140 \/* page 718 *\/,\n@@ -14855,1 +15177,1 @@\n-  138 \/* page 747 *\/,\n+  141 \/* page 747 *\/,\n@@ -14870,1 +15192,1 @@\n-  139 \/* page 762 *\/,\n+  142 \/* page 762 *\/,\n@@ -14895,1 +15217,1 @@\n-  140 \/* page 787 *\/\n+  143 \/* page 787 *\/\n@@ -14900,2 +15222,2 @@\n-  141 \/* page 3584 *\/,\n-  142 \/* page 3585 *\/,\n+  144 \/* page 3584 *\/,\n+  145 \/* page 3585 *\/,\n@@ -15411,1 +15733,1 @@\n-  143 \/* page 4095 *\/,\n+  146 \/* page 4095 *\/,\n@@ -15667,1 +15989,1 @@\n-  144 \/* page 4351 *\/\n+  147 \/* page 4351 *\/\n@@ -16518,1 +16840,1 @@\n-    0x2c5d, 0x2c5e, 0x0000, 0x2c00, 0x2c01, 0x2c02, 0x2c03, 0x2c04, 0x2c05,\n+    0x2c5d, 0x2c5e, 0x2c5f, 0x2c00, 0x2c01, 0x2c02, 0x2c03, 0x2c04, 0x2c05,\n@@ -16523,1 +16845,1 @@\n-    0x2c2a, 0x2c2b, 0x2c2c, 0x2c2d, 0x2c2e, 0x0000, 0x2c61, 0x2c60, 0x026b,\n+    0x2c2a, 0x2c2b, 0x2c2c, 0x2c2d, 0x2c2e, 0x2c2f, 0x2c61, 0x2c60, 0x026b,\n@@ -16627,1 +16949,1 @@\n-    0xa7bc, 0xa7bf, 0xa7be, 0x0000, 0x0000, 0xa7c3, 0xa7c2, 0xa794, 0x0282,\n+    0xa7bc, 0xa7bf, 0xa7be, 0xa7c1, 0xa7c0, 0xa7c3, 0xa7c2, 0xa794, 0x0282,\n@@ -16629,2 +16951,2 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0xa7d1, 0xa7d0, 0x0000, 0x0000, 0x0000, 0x0000, 0xa7d7, 0xa7d6,\n+    0xa7d9, 0xa7d8, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -16856,1 +17178,33 @@\n-  { \/* page 268, index 38 *\/\n+  { \/* page 261, index 38 *\/\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x10597, 0x10598, 0x10599, 0x1059a,\n+    0x1059b, 0x1059c, 0x1059d, 0x1059e, 0x1059f, 0x105a0, 0x105a1, 0x0000,\n+    0x105a3, 0x105a4, 0x105a5, 0x105a6, 0x105a7, 0x105a8, 0x105a9, 0x105aa,\n+    0x105ab, 0x105ac, 0x105ad, 0x105ae, 0x105af, 0x105b0, 0x105b1, 0x0000,\n+    0x105b3, 0x105b4, 0x105b5, 0x105b6, 0x105b7, 0x105b8, 0x105b9, 0x0000,\n+    0x105bb, 0x105bc, 0x0000, 0x10570, 0x10571, 0x10572, 0x10573, 0x10574,\n+    0x10575, 0x10576, 0x10577, 0x10578, 0x10579, 0x1057a, 0x0000, 0x1057c,\n+    0x1057d, 0x1057e, 0x1057f, 0x10580, 0x10581, 0x10582, 0x10583, 0x10584,\n+    0x10585, 0x10586, 0x10587, 0x10588, 0x10589, 0x1058a, 0x0000, 0x1058c,\n+    0x1058d, 0x1058e, 0x1058f, 0x10590, 0x10591, 0x10592, 0x0000, 0x10594,\n+    0x10595, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0000\n+  },\n+  { \/* page 268, index 39 *\/\n@@ -16888,1 +17242,1 @@\n-  { \/* page 269, index 39 *\/\n+  { \/* page 269, index 40 *\/\n@@ -16919,1 +17273,1 @@\n-  { \/* page 272, index 40 *\/\n+  { \/* page 272, index 41 *\/\n@@ -16950,1 +17304,1 @@\n-  { \/* page 273, index 41 *\/\n+  { \/* page 273, index 42 *\/\n@@ -16981,1 +17335,1 @@\n-  { \/* page 274, index 42 *\/\n+  { \/* page 274, index 43 *\/\n@@ -17012,1 +17366,1 @@\n-  { \/* page 276, index 43 *\/\n+  { \/* page 276, index 44 *\/\n@@ -17043,1 +17397,1 @@\n-  { \/* page 278, index 44 *\/\n+  { \/* page 278, index 45 *\/\n@@ -17074,1 +17428,1 @@\n-  { \/* page 279, index 45 *\/\n+  { \/* page 279, index 46 *\/\n@@ -17105,1 +17459,1 @@\n-  { \/* page 280, index 46 *\/\n+  { \/* page 280, index 47 *\/\n@@ -17137,1 +17491,1 @@\n-  { \/* page 281, index 47 *\/\n+  { \/* page 281, index 48 *\/\n@@ -17168,1 +17522,1 @@\n-  { \/* page 284, index 48 *\/\n+  { \/* page 284, index 49 *\/\n@@ -17199,1 +17553,1 @@\n-  { \/* page 285, index 49 *\/\n+  { \/* page 285, index 50 *\/\n@@ -17230,1 +17584,1 @@\n-  { \/* page 362, index 50 *\/\n+  { \/* page 362, index 51 *\/\n@@ -17252,2 +17606,2 @@\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n-    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n+    0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005,\n+    0x0006, 0x0007, 0x0008, 0x0009, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n@@ -17261,1 +17615,1 @@\n-  { \/* page 363, index 51 *\/\n+  { \/* page 363, index 52 *\/\n@@ -17292,1 +17646,1 @@\n-  { \/* page 366, index 52 *\/\n+  { \/* page 366, index 53 *\/\n@@ -17324,1 +17678,1 @@\n-  { \/* page 471, index 53 *\/\n+  { \/* page 471, index 54 *\/\n@@ -17355,1 +17709,1 @@\n-  { \/* page 481, index 54 *\/\n+  { \/* page 481, index 55 *\/\n@@ -17386,1 +17740,1 @@\n-  { \/* page 482, index 55 *\/\n+  { \/* page 482, index 56 *\/\n@@ -17417,1 +17771,1 @@\n-  { \/* page 489, index 56 *\/\n+  { \/* page 489, index 57 *\/\n@@ -17449,1 +17803,1 @@\n-  { \/* page 507, index 57 *\/\n+  { \/* page 507, index 58 *\/\n@@ -17745,0 +18099,1 @@\n+  38 \/* page 261 *\/,\n@@ -17751,3 +18106,2 @@\n-  0x0000 + G_UNICODE_MAX_TABLE_INDEX,\n-  38 \/* page 268 *\/,\n-  39 \/* page 269 *\/,\n+  39 \/* page 268 *\/,\n+  40 \/* page 269 *\/,\n@@ -17756,3 +18110,3 @@\n-  40 \/* page 272 *\/,\n-  41 \/* page 273 *\/,\n-  42 \/* page 274 *\/,\n+  41 \/* page 272 *\/,\n+  42 \/* page 273 *\/,\n+  43 \/* page 274 *\/,\n@@ -17760,1 +18114,1 @@\n-  43 \/* page 276 *\/,\n+  44 \/* page 276 *\/,\n@@ -17762,4 +18116,4 @@\n-  44 \/* page 278 *\/,\n-  45 \/* page 279 *\/,\n-  46 \/* page 280 *\/,\n-  47 \/* page 281 *\/,\n+  45 \/* page 278 *\/,\n+  46 \/* page 279 *\/,\n+  47 \/* page 280 *\/,\n+  48 \/* page 281 *\/,\n@@ -17768,2 +18122,2 @@\n-  48 \/* page 284 *\/,\n-  49 \/* page 285 *\/,\n+  49 \/* page 284 *\/,\n+  50 \/* page 285 *\/,\n@@ -17846,2 +18200,2 @@\n-  50 \/* page 362 *\/,\n-  51 \/* page 363 *\/,\n+  51 \/* page 362 *\/,\n+  52 \/* page 363 *\/,\n@@ -17850,1 +18204,1 @@\n-  52 \/* page 366 *\/,\n+  53 \/* page 366 *\/,\n@@ -17955,1 +18309,1 @@\n-  53 \/* page 471 *\/,\n+  54 \/* page 471 *\/,\n@@ -17965,2 +18319,2 @@\n-  54 \/* page 481 *\/,\n-  55 \/* page 482 *\/,\n+  55 \/* page 481 *\/,\n+  56 \/* page 482 *\/,\n@@ -17973,1 +18327,1 @@\n-  56 \/* page 489 *\/,\n+  57 \/* page 489 *\/,\n@@ -17991,1 +18345,1 @@\n-  57 \/* page 507 *\/,\n+  58 \/* page 507 *\/,\n@@ -19527,1 +19881,4 @@\n-{0x1B000, 0x1B11E},\n+{0x1AFF0, 0x1AFF3},\n+{0x1AFF5, 0x1AFFB},\n+{0x1AFFD, 0x1AFFE},\n+{0x1B000, 0x1B122},\n@@ -19562,0 +19919,1 @@\n+{0x1F6DD, 0x1F6DF},\n@@ -19565,0 +19923,1 @@\n+{0x1F7F0, 0x1F7F0},\n@@ -19567,3 +19926,1 @@\n-{0x1F947, 0x1F978},\n-{0x1F97A, 0x1F9CB},\n-{0x1F9CD, 0x1F9FF},\n+{0x1F947, 0x1F9FF},\n@@ -19571,1 +19928,1 @@\n-{0x1FA78, 0x1FA7A},\n+{0x1FA78, 0x1FA7C},\n@@ -19573,4 +19930,6 @@\n-{0x1FA90, 0x1FAA8},\n-{0x1FAB0, 0x1FAB6},\n-{0x1FAC0, 0x1FAC2},\n-{0x1FAD0, 0x1FAD6},\n+{0x1FA90, 0x1FAAC},\n+{0x1FAB0, 0x1FABA},\n+{0x1FAC0, 0x1FAC5},\n+{0x1FAD0, 0x1FAD9},\n+{0x1FAE0, 0x1FAE7},\n+{0x1FAF0, 0x1FAF6},\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunichartables.h","additions":1082,"deletions":723,"binary":false,"changes":1805,"status":"modified"},{"patch":"@@ -197,1 +197,2 @@\n- * @G_UNICODE_BREAK_CLOSE_PARANTHESIS: Closing Parenthesis (CP). Since 2.28\n+ * @G_UNICODE_BREAK_CLOSE_PARANTHESIS: Closing Parenthesis (CP). Since 2.28. Deprecated: 2.70: Use %G_UNICODE_BREAK_CLOSE_PARENTHESIS instead.\n+ * @G_UNICODE_BREAK_CLOSE_PARENTHESIS: Closing Parenthesis (CP). Since 2.70\n@@ -251,0 +252,1 @@\n+  G_UNICODE_BREAK_CLOSE_PARENTHESIS GLIB_AVAILABLE_ENUMERATOR_IN_2_70 = G_UNICODE_BREAK_CLOSE_PARANTHESIS,\n@@ -431,0 +433,6 @@\n+ * @G_UNICODE_SCRIPT_CYPRO_MINOAN:         Cypro-Minoan. Since: 2.72\n+ * @G_UNICODE_SCRIPT_OLD_UYGHUR:           Old Uyghur. Since: 2.72\n+ * @G_UNICODE_SCRIPT_TANGSA:               Tangsa. Since: 2.72\n+ * @G_UNICODE_SCRIPT_TOTO:                 Toto. Since: 2.72\n+ * @G_UNICODE_SCRIPT_VITHKUQI:             Vithkuqi. Since: 2.72\n+ * @G_UNICODE_SCRIPT_MATH:                 Mathematical notation. Since: 2.72\n@@ -628,1 +636,11 @@\n-  G_UNICODE_SCRIPT_YEZIDI                  \/* Yezi *\/\n+  G_UNICODE_SCRIPT_YEZIDI,                 \/* Yezi *\/\n+\n+  \/* Unicode 14.0 additions *\/\n+  G_UNICODE_SCRIPT_CYPRO_MINOAN,           \/* Cpmn *\/\n+  G_UNICODE_SCRIPT_OLD_UYGHUR,             \/* Ougr *\/\n+  G_UNICODE_SCRIPT_TANGSA,                 \/* Tnsa *\/\n+  G_UNICODE_SCRIPT_TOTO,                   \/* Toto *\/\n+  G_UNICODE_SCRIPT_VITHKUQI,               \/* Vith *\/\n+\n+  \/* not really a Unicode script, but part of ISO 15924 *\/\n+  G_UNICODE_SCRIPT_MATH,                   \/* Zmth *\/\n@@ -761,4 +779,9 @@\n- * Skips to the next character in a UTF-8 string. The string must be\n- * valid; this macro is as fast as possible, and has no error-checking.\n- * You would use this macro to iterate over a string character by\n- * character. The macro returns the start of the next UTF-8 character.\n+ * Skips to the next character in a UTF-8 string.\n+ *\n+ * The string must be valid; this macro is as fast as possible, and has\n+ * no error-checking.\n+ *\n+ * You would use this macro to iterate over a string character by character.\n+ *\n+ * The macro returns the start of the next UTF-8 character.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicode.h","additions":29,"deletions":6,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -74,0 +74,4 @@\n+ * If the two strings are not comparable due to being in different collation\n+ * sequences, the result is undefined. This can happen if the strings are in\n+ * different language scripts, for example.\n+ *\n@@ -418,1 +422,1 @@\n-  gsize xfrm_len;\n+  gsize xfrm_len = 0;\n@@ -442,8 +446,8 @@\n-  {\n-    xfrm_len = strxfrm (NULL, str_locale, 0);\n-    if (xfrm_len < 0 || xfrm_len >= G_MAXINT - 2)\n-      {\n-        g_free (str_locale);\n-        str_locale = NULL;\n-      }\n-  }\n+        {\n+          xfrm_len = strxfrm (NULL, str_locale, 0);\n+          if (xfrm_len >= G_MAXINT - 2)\n+            {\n+              g_free (str_locale);\n+              str_locale = NULL;\n+            }\n+        }\n@@ -451,4 +455,4 @@\n-  {\n-    result = g_malloc (xfrm_len + 2);\n-    result[0] = 'A';\n-    strxfrm (result + 1, str_locale, xfrm_len + 1);\n+        {\n+          result = g_malloc (xfrm_len + 2);\n+          result[0] = 'A';\n+          strxfrm (result + 1, str_locale, xfrm_len + 1);\n@@ -456,2 +460,2 @@\n-    g_free (str_locale);\n-  }\n+          g_free (str_locale);\n+        }\n@@ -651,4 +655,4 @@\n-      {\n-        g_string_append_c (append, (char)leading_zeros);\n-        prev += leading_zeros;\n-      }\n+            {\n+              g_string_append_c (append, (char)leading_zeros);\n+              prev += leading_zeros;\n+            }\n@@ -656,2 +660,2 @@\n-    \/* write the number itself *\/\n-    g_string_append_len (result, prev, p - prev);\n+          \/* write the number itself *\/\n+          g_string_append_len (result, prev, p - prev);\n@@ -659,3 +663,3 @@\n-    prev = p;\n-    --p;    \/* go one step back to avoid disturbing outer loop *\/\n-    break;\n+          prev = p;\n+          --p;    \/* go one step back to avoid disturbing outer loop *\/\n+          break;\n@@ -663,4 +667,4 @@\n-  default:\n-    \/* other characters just accumulate *\/\n-    break;\n-  }\n+        default:\n+          \/* other characters just accumulate *\/\n+          break;\n+        }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunicollate.c","additions":32,"deletions":28,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -96,0 +96,1 @@\n+    230, 220, 220, 220, 230, 230, 230, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -97,5 +98,4 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 220, 230, 230, 230, 230, 230, 230, 230,\n-    230, 230, 230, 230, 230, 230, 230, 0, 220, 230, 230, 220, 230, 230, 220,\n-    230, 230, 230, 220, 220, 220, 27, 28, 29, 230, 230, 230, 220, 230, 230,\n-    220, 220, 230, 230, 230, 230, 230\n+    0, 0, 0, 0, 0, 0, 0, 230, 230, 230, 230, 230, 220, 220, 220, 220, 220,\n+    230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 230, 0,\n+    220, 230, 230, 220, 230, 230, 220, 230, 230, 230, 220, 220, 220, 27, 28,\n+    29, 230, 230, 230, 220, 230, 230, 220, 220, 230, 230, 230, 230, 230\n@@ -145,1 +145,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -222,1 +222,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 0, 0,\n@@ -269,2 +269,2 @@\n-    220, 220, 220, 220, 230, 230, 220, 0, 220, 220, 0, 0, 0, 0, 0, 0, 0, 0,\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    220, 220, 220, 220, 230, 230, 220, 0, 220, 220, 230, 230, 220, 220, 230,\n+    230, 230, 230, 230, 220, 230, 230, 230, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -272,1 +272,1 @@\n-    0, 0, 0, 0, 0, 0, 0\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n@@ -314,1 +314,1 @@\n-    228, 220, 0, 230, 233, 220, 230, 220\n+    228, 220, 218, 230, 233, 220, 230, 220\n@@ -548,0 +548,1 @@\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 230, 220, 230, 220, 0,\n@@ -553,1 +554,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n+    0\n@@ -560,1 +561,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0,\n@@ -838,1 +839,1 @@\n-    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n+    0, 0, 0, 0, 0, 0, 230, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -4781,0 +4782,3 @@\n+  { 0xa7f2, G_UNICODE_NOT_PRESENT_OFFSET, 5292 },\n+  { 0xa7f3, G_UNICODE_NOT_PRESENT_OFFSET, 5336 },\n+  { 0xa7f4, G_UNICODE_NOT_PRESENT_OFFSET, 5319 },\n@@ -6327,26 +6331,82 @@\n-  { 0x1109a, 15007, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1109c, 15016, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x110ab, 15025, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1112e, 15034, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1112f, 15043, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1134b, 15052, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1134c, 15061, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x114bb, 15070, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x114bc, 15079, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x114be, 15088, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x115ba, 15097, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x115bb, 15106, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x11938, 15115, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d15e, 15124, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d15f, 15133, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d160, 15142, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d161, 15155, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d162, 15168, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d163, 15181, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d164, 15194, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1bb, 15207, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1bc, 15216, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1bd, 15225, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1be, 15238, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1bf, 15251, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x1d1c0, 15264, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x10781, G_UNICODE_NOT_PRESENT_OFFSET, 15007 },\n+  { 0x10782, G_UNICODE_NOT_PRESENT_OFFSET, 15010 },\n+  { 0x10783, G_UNICODE_NOT_PRESENT_OFFSET, 15013 },\n+  { 0x10784, G_UNICODE_NOT_PRESENT_OFFSET, 15016 },\n+  { 0x10785, G_UNICODE_NOT_PRESENT_OFFSET, 15019 },\n+  { 0x10787, G_UNICODE_NOT_PRESENT_OFFSET, 15022 },\n+  { 0x10788, G_UNICODE_NOT_PRESENT_OFFSET, 15025 },\n+  { 0x10789, G_UNICODE_NOT_PRESENT_OFFSET, 15029 },\n+  { 0x1078a, G_UNICODE_NOT_PRESENT_OFFSET, 15032 },\n+  { 0x1078b, G_UNICODE_NOT_PRESENT_OFFSET, 15035 },\n+  { 0x1078c, G_UNICODE_NOT_PRESENT_OFFSET, 15038 },\n+  { 0x1078d, G_UNICODE_NOT_PRESENT_OFFSET, 15041 },\n+  { 0x1078e, G_UNICODE_NOT_PRESENT_OFFSET, 15045 },\n+  { 0x1078f, G_UNICODE_NOT_PRESENT_OFFSET, 15048 },\n+  { 0x10790, G_UNICODE_NOT_PRESENT_OFFSET, 15051 },\n+  { 0x10791, G_UNICODE_NOT_PRESENT_OFFSET, 15054 },\n+  { 0x10792, G_UNICODE_NOT_PRESENT_OFFSET, 15057 },\n+  { 0x10793, G_UNICODE_NOT_PRESENT_OFFSET, 15060 },\n+  { 0x10794, G_UNICODE_NOT_PRESENT_OFFSET, 15063 },\n+  { 0x10795, G_UNICODE_NOT_PRESENT_OFFSET, 5313 },\n+  { 0x10796, G_UNICODE_NOT_PRESENT_OFFSET, 15066 },\n+  { 0x10797, G_UNICODE_NOT_PRESENT_OFFSET, 15069 },\n+  { 0x10798, G_UNICODE_NOT_PRESENT_OFFSET, 15072 },\n+  { 0x10799, G_UNICODE_NOT_PRESENT_OFFSET, 15075 },\n+  { 0x1079a, G_UNICODE_NOT_PRESENT_OFFSET, 15078 },\n+  { 0x1079b, G_UNICODE_NOT_PRESENT_OFFSET, 15081 },\n+  { 0x1079c, G_UNICODE_NOT_PRESENT_OFFSET, 15084 },\n+  { 0x1079d, G_UNICODE_NOT_PRESENT_OFFSET, 15089 },\n+  { 0x1079e, G_UNICODE_NOT_PRESENT_OFFSET, 15093 },\n+  { 0x1079f, G_UNICODE_NOT_PRESENT_OFFSET, 15096 },\n+  { 0x107a0, G_UNICODE_NOT_PRESENT_OFFSET, 15101 },\n+  { 0x107a1, G_UNICODE_NOT_PRESENT_OFFSET, 15104 },\n+  { 0x107a2, G_UNICODE_NOT_PRESENT_OFFSET, 15109 },\n+  { 0x107a3, G_UNICODE_NOT_PRESENT_OFFSET, 15112 },\n+  { 0x107a4, G_UNICODE_NOT_PRESENT_OFFSET, 15115 },\n+  { 0x107a5, G_UNICODE_NOT_PRESENT_OFFSET, 6137 },\n+  { 0x107a6, G_UNICODE_NOT_PRESENT_OFFSET, 15118 },\n+  { 0x107a7, G_UNICODE_NOT_PRESENT_OFFSET, 15121 },\n+  { 0x107a8, G_UNICODE_NOT_PRESENT_OFFSET, 15126 },\n+  { 0x107a9, G_UNICODE_NOT_PRESENT_OFFSET, 15129 },\n+  { 0x107aa, G_UNICODE_NOT_PRESENT_OFFSET, 15132 },\n+  { 0x107ab, G_UNICODE_NOT_PRESENT_OFFSET, 15135 },\n+  { 0x107ac, G_UNICODE_NOT_PRESENT_OFFSET, 15138 },\n+  { 0x107ad, G_UNICODE_NOT_PRESENT_OFFSET, 15141 },\n+  { 0x107ae, G_UNICODE_NOT_PRESENT_OFFSET, 15145 },\n+  { 0x107af, G_UNICODE_NOT_PRESENT_OFFSET, 15148 },\n+  { 0x107b0, G_UNICODE_NOT_PRESENT_OFFSET, 15151 },\n+  { 0x107b2, G_UNICODE_NOT_PRESENT_OFFSET, 15155 },\n+  { 0x107b3, G_UNICODE_NOT_PRESENT_OFFSET, 15158 },\n+  { 0x107b4, G_UNICODE_NOT_PRESENT_OFFSET, 15161 },\n+  { 0x107b5, G_UNICODE_NOT_PRESENT_OFFSET, 15164 },\n+  { 0x107b6, G_UNICODE_NOT_PRESENT_OFFSET, 15167 },\n+  { 0x107b7, G_UNICODE_NOT_PRESENT_OFFSET, 15170 },\n+  { 0x107b8, G_UNICODE_NOT_PRESENT_OFFSET, 15173 },\n+  { 0x107b9, G_UNICODE_NOT_PRESENT_OFFSET, 15176 },\n+  { 0x107ba, G_UNICODE_NOT_PRESENT_OFFSET, 15181 },\n+  { 0x1109a, 15186, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1109c, 15195, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x110ab, 15204, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1112e, 15213, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1112f, 15222, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1134b, 15231, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1134c, 15240, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x114bb, 15249, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x114bc, 15258, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x114be, 15267, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x115ba, 15276, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x115bb, 15285, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x11938, 15294, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d15e, 15303, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d15f, 15312, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d160, 15321, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d161, 15334, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d162, 15347, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d163, 15360, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d164, 15373, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1bb, 15386, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1bc, 15395, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1bd, 15404, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1be, 15417, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1bf, 15430, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x1d1c0, 15443, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7005,4 +7065,4 @@\n-  { 0x1d6a4, G_UNICODE_NOT_PRESENT_OFFSET, 15277 },\n-  { 0x1d6a5, G_UNICODE_NOT_PRESENT_OFFSET, 15280 },\n-  { 0x1d6a8, G_UNICODE_NOT_PRESENT_OFFSET, 15283 },\n-  { 0x1d6a9, G_UNICODE_NOT_PRESENT_OFFSET, 15286 },\n+  { 0x1d6a4, G_UNICODE_NOT_PRESENT_OFFSET, 15456 },\n+  { 0x1d6a5, G_UNICODE_NOT_PRESENT_OFFSET, 15459 },\n+  { 0x1d6a8, G_UNICODE_NOT_PRESENT_OFFSET, 15462 },\n+  { 0x1d6a9, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n@@ -7010,4 +7070,4 @@\n-  { 0x1d6ab, G_UNICODE_NOT_PRESENT_OFFSET, 15289 },\n-  { 0x1d6ac, G_UNICODE_NOT_PRESENT_OFFSET, 15292 },\n-  { 0x1d6ad, G_UNICODE_NOT_PRESENT_OFFSET, 15295 },\n-  { 0x1d6ae, G_UNICODE_NOT_PRESENT_OFFSET, 15298 },\n+  { 0x1d6ab, G_UNICODE_NOT_PRESENT_OFFSET, 15468 },\n+  { 0x1d6ac, G_UNICODE_NOT_PRESENT_OFFSET, 15471 },\n+  { 0x1d6ad, G_UNICODE_NOT_PRESENT_OFFSET, 15474 },\n+  { 0x1d6ae, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n@@ -7015,7 +7075,7 @@\n-  { 0x1d6b0, G_UNICODE_NOT_PRESENT_OFFSET, 15301 },\n-  { 0x1d6b1, G_UNICODE_NOT_PRESENT_OFFSET, 15304 },\n-  { 0x1d6b2, G_UNICODE_NOT_PRESENT_OFFSET, 15307 },\n-  { 0x1d6b3, G_UNICODE_NOT_PRESENT_OFFSET, 15310 },\n-  { 0x1d6b4, G_UNICODE_NOT_PRESENT_OFFSET, 15313 },\n-  { 0x1d6b5, G_UNICODE_NOT_PRESENT_OFFSET, 15316 },\n-  { 0x1d6b6, G_UNICODE_NOT_PRESENT_OFFSET, 15319 },\n+  { 0x1d6b0, G_UNICODE_NOT_PRESENT_OFFSET, 15480 },\n+  { 0x1d6b1, G_UNICODE_NOT_PRESENT_OFFSET, 15483 },\n+  { 0x1d6b2, G_UNICODE_NOT_PRESENT_OFFSET, 15486 },\n+  { 0x1d6b3, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n+  { 0x1d6b4, G_UNICODE_NOT_PRESENT_OFFSET, 15492 },\n+  { 0x1d6b5, G_UNICODE_NOT_PRESENT_OFFSET, 15495 },\n+  { 0x1d6b6, G_UNICODE_NOT_PRESENT_OFFSET, 15498 },\n@@ -7023,1 +7083,1 @@\n-  { 0x1d6b8, G_UNICODE_NOT_PRESENT_OFFSET, 15322 },\n+  { 0x1d6b8, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n@@ -7026,1 +7086,1 @@\n-  { 0x1d6bb, G_UNICODE_NOT_PRESENT_OFFSET, 15325 },\n+  { 0x1d6bb, G_UNICODE_NOT_PRESENT_OFFSET, 15504 },\n@@ -7028,3 +7088,3 @@\n-  { 0x1d6bd, G_UNICODE_NOT_PRESENT_OFFSET, 15328 },\n-  { 0x1d6be, G_UNICODE_NOT_PRESENT_OFFSET, 15331 },\n-  { 0x1d6bf, G_UNICODE_NOT_PRESENT_OFFSET, 15334 },\n+  { 0x1d6bd, G_UNICODE_NOT_PRESENT_OFFSET, 15507 },\n+  { 0x1d6be, G_UNICODE_NOT_PRESENT_OFFSET, 15510 },\n+  { 0x1d6bf, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n@@ -7032,2 +7092,2 @@\n-  { 0x1d6c1, G_UNICODE_NOT_PRESENT_OFFSET, 15337 },\n-  { 0x1d6c2, G_UNICODE_NOT_PRESENT_OFFSET, 15341 },\n+  { 0x1d6c1, G_UNICODE_NOT_PRESENT_OFFSET, 15516 },\n+  { 0x1d6c2, G_UNICODE_NOT_PRESENT_OFFSET, 15520 },\n@@ -7038,2 +7098,2 @@\n-  { 0x1d6c7, G_UNICODE_NOT_PRESENT_OFFSET, 15344 },\n-  { 0x1d6c8, G_UNICODE_NOT_PRESENT_OFFSET, 15347 },\n+  { 0x1d6c7, G_UNICODE_NOT_PRESENT_OFFSET, 15523 },\n+  { 0x1d6c8, G_UNICODE_NOT_PRESENT_OFFSET, 15526 },\n@@ -7043,1 +7103,1 @@\n-  { 0x1d6cc, G_UNICODE_NOT_PRESENT_OFFSET, 15350 },\n+  { 0x1d6cc, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n@@ -7045,3 +7105,3 @@\n-  { 0x1d6ce, G_UNICODE_NOT_PRESENT_OFFSET, 15353 },\n-  { 0x1d6cf, G_UNICODE_NOT_PRESENT_OFFSET, 15356 },\n-  { 0x1d6d0, G_UNICODE_NOT_PRESENT_OFFSET, 15359 },\n+  { 0x1d6ce, G_UNICODE_NOT_PRESENT_OFFSET, 15532 },\n+  { 0x1d6cf, G_UNICODE_NOT_PRESENT_OFFSET, 15535 },\n+  { 0x1d6d0, G_UNICODE_NOT_PRESENT_OFFSET, 15538 },\n@@ -7051,3 +7111,3 @@\n-  { 0x1d6d4, G_UNICODE_NOT_PRESENT_OFFSET, 15362 },\n-  { 0x1d6d5, G_UNICODE_NOT_PRESENT_OFFSET, 15365 },\n-  { 0x1d6d6, G_UNICODE_NOT_PRESENT_OFFSET, 15368 },\n+  { 0x1d6d4, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n+  { 0x1d6d5, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1d6d6, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n@@ -7056,3 +7116,3 @@\n-  { 0x1d6d9, G_UNICODE_NOT_PRESENT_OFFSET, 15371 },\n-  { 0x1d6da, G_UNICODE_NOT_PRESENT_OFFSET, 15374 },\n-  { 0x1d6db, G_UNICODE_NOT_PRESENT_OFFSET, 15377 },\n+  { 0x1d6d9, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n+  { 0x1d6da, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n+  { 0x1d6db, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n@@ -7065,2 +7125,2 @@\n-  { 0x1d6e2, G_UNICODE_NOT_PRESENT_OFFSET, 15283 },\n-  { 0x1d6e3, G_UNICODE_NOT_PRESENT_OFFSET, 15286 },\n+  { 0x1d6e2, G_UNICODE_NOT_PRESENT_OFFSET, 15462 },\n+  { 0x1d6e3, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n@@ -7068,4 +7128,4 @@\n-  { 0x1d6e5, G_UNICODE_NOT_PRESENT_OFFSET, 15289 },\n-  { 0x1d6e6, G_UNICODE_NOT_PRESENT_OFFSET, 15292 },\n-  { 0x1d6e7, G_UNICODE_NOT_PRESENT_OFFSET, 15295 },\n-  { 0x1d6e8, G_UNICODE_NOT_PRESENT_OFFSET, 15298 },\n+  { 0x1d6e5, G_UNICODE_NOT_PRESENT_OFFSET, 15468 },\n+  { 0x1d6e6, G_UNICODE_NOT_PRESENT_OFFSET, 15471 },\n+  { 0x1d6e7, G_UNICODE_NOT_PRESENT_OFFSET, 15474 },\n+  { 0x1d6e8, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n@@ -7073,7 +7133,7 @@\n-  { 0x1d6ea, G_UNICODE_NOT_PRESENT_OFFSET, 15301 },\n-  { 0x1d6eb, G_UNICODE_NOT_PRESENT_OFFSET, 15304 },\n-  { 0x1d6ec, G_UNICODE_NOT_PRESENT_OFFSET, 15307 },\n-  { 0x1d6ed, G_UNICODE_NOT_PRESENT_OFFSET, 15310 },\n-  { 0x1d6ee, G_UNICODE_NOT_PRESENT_OFFSET, 15313 },\n-  { 0x1d6ef, G_UNICODE_NOT_PRESENT_OFFSET, 15316 },\n-  { 0x1d6f0, G_UNICODE_NOT_PRESENT_OFFSET, 15319 },\n+  { 0x1d6ea, G_UNICODE_NOT_PRESENT_OFFSET, 15480 },\n+  { 0x1d6eb, G_UNICODE_NOT_PRESENT_OFFSET, 15483 },\n+  { 0x1d6ec, G_UNICODE_NOT_PRESENT_OFFSET, 15486 },\n+  { 0x1d6ed, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n+  { 0x1d6ee, G_UNICODE_NOT_PRESENT_OFFSET, 15492 },\n+  { 0x1d6ef, G_UNICODE_NOT_PRESENT_OFFSET, 15495 },\n+  { 0x1d6f0, G_UNICODE_NOT_PRESENT_OFFSET, 15498 },\n@@ -7081,1 +7141,1 @@\n-  { 0x1d6f2, G_UNICODE_NOT_PRESENT_OFFSET, 15322 },\n+  { 0x1d6f2, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n@@ -7084,1 +7144,1 @@\n-  { 0x1d6f5, G_UNICODE_NOT_PRESENT_OFFSET, 15325 },\n+  { 0x1d6f5, G_UNICODE_NOT_PRESENT_OFFSET, 15504 },\n@@ -7086,3 +7146,3 @@\n-  { 0x1d6f7, G_UNICODE_NOT_PRESENT_OFFSET, 15328 },\n-  { 0x1d6f8, G_UNICODE_NOT_PRESENT_OFFSET, 15331 },\n-  { 0x1d6f9, G_UNICODE_NOT_PRESENT_OFFSET, 15334 },\n+  { 0x1d6f7, G_UNICODE_NOT_PRESENT_OFFSET, 15507 },\n+  { 0x1d6f8, G_UNICODE_NOT_PRESENT_OFFSET, 15510 },\n+  { 0x1d6f9, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n@@ -7090,2 +7150,2 @@\n-  { 0x1d6fb, G_UNICODE_NOT_PRESENT_OFFSET, 15337 },\n-  { 0x1d6fc, G_UNICODE_NOT_PRESENT_OFFSET, 15341 },\n+  { 0x1d6fb, G_UNICODE_NOT_PRESENT_OFFSET, 15516 },\n+  { 0x1d6fc, G_UNICODE_NOT_PRESENT_OFFSET, 15520 },\n@@ -7096,2 +7156,2 @@\n-  { 0x1d701, G_UNICODE_NOT_PRESENT_OFFSET, 15344 },\n-  { 0x1d702, G_UNICODE_NOT_PRESENT_OFFSET, 15347 },\n+  { 0x1d701, G_UNICODE_NOT_PRESENT_OFFSET, 15523 },\n+  { 0x1d702, G_UNICODE_NOT_PRESENT_OFFSET, 15526 },\n@@ -7101,1 +7161,1 @@\n-  { 0x1d706, G_UNICODE_NOT_PRESENT_OFFSET, 15350 },\n+  { 0x1d706, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n@@ -7103,3 +7163,3 @@\n-  { 0x1d708, G_UNICODE_NOT_PRESENT_OFFSET, 15353 },\n-  { 0x1d709, G_UNICODE_NOT_PRESENT_OFFSET, 15356 },\n-  { 0x1d70a, G_UNICODE_NOT_PRESENT_OFFSET, 15359 },\n+  { 0x1d708, G_UNICODE_NOT_PRESENT_OFFSET, 15532 },\n+  { 0x1d709, G_UNICODE_NOT_PRESENT_OFFSET, 15535 },\n+  { 0x1d70a, G_UNICODE_NOT_PRESENT_OFFSET, 15538 },\n@@ -7109,3 +7169,3 @@\n-  { 0x1d70e, G_UNICODE_NOT_PRESENT_OFFSET, 15362 },\n-  { 0x1d70f, G_UNICODE_NOT_PRESENT_OFFSET, 15365 },\n-  { 0x1d710, G_UNICODE_NOT_PRESENT_OFFSET, 15368 },\n+  { 0x1d70e, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n+  { 0x1d70f, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1d710, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n@@ -7114,3 +7174,3 @@\n-  { 0x1d713, G_UNICODE_NOT_PRESENT_OFFSET, 15371 },\n-  { 0x1d714, G_UNICODE_NOT_PRESENT_OFFSET, 15374 },\n-  { 0x1d715, G_UNICODE_NOT_PRESENT_OFFSET, 15377 },\n+  { 0x1d713, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n+  { 0x1d714, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n+  { 0x1d715, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n@@ -7123,2 +7183,2 @@\n-  { 0x1d71c, G_UNICODE_NOT_PRESENT_OFFSET, 15283 },\n-  { 0x1d71d, G_UNICODE_NOT_PRESENT_OFFSET, 15286 },\n+  { 0x1d71c, G_UNICODE_NOT_PRESENT_OFFSET, 15462 },\n+  { 0x1d71d, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n@@ -7126,4 +7186,4 @@\n-  { 0x1d71f, G_UNICODE_NOT_PRESENT_OFFSET, 15289 },\n-  { 0x1d720, G_UNICODE_NOT_PRESENT_OFFSET, 15292 },\n-  { 0x1d721, G_UNICODE_NOT_PRESENT_OFFSET, 15295 },\n-  { 0x1d722, G_UNICODE_NOT_PRESENT_OFFSET, 15298 },\n+  { 0x1d71f, G_UNICODE_NOT_PRESENT_OFFSET, 15468 },\n+  { 0x1d720, G_UNICODE_NOT_PRESENT_OFFSET, 15471 },\n+  { 0x1d721, G_UNICODE_NOT_PRESENT_OFFSET, 15474 },\n+  { 0x1d722, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n@@ -7131,7 +7191,7 @@\n-  { 0x1d724, G_UNICODE_NOT_PRESENT_OFFSET, 15301 },\n-  { 0x1d725, G_UNICODE_NOT_PRESENT_OFFSET, 15304 },\n-  { 0x1d726, G_UNICODE_NOT_PRESENT_OFFSET, 15307 },\n-  { 0x1d727, G_UNICODE_NOT_PRESENT_OFFSET, 15310 },\n-  { 0x1d728, G_UNICODE_NOT_PRESENT_OFFSET, 15313 },\n-  { 0x1d729, G_UNICODE_NOT_PRESENT_OFFSET, 15316 },\n-  { 0x1d72a, G_UNICODE_NOT_PRESENT_OFFSET, 15319 },\n+  { 0x1d724, G_UNICODE_NOT_PRESENT_OFFSET, 15480 },\n+  { 0x1d725, G_UNICODE_NOT_PRESENT_OFFSET, 15483 },\n+  { 0x1d726, G_UNICODE_NOT_PRESENT_OFFSET, 15486 },\n+  { 0x1d727, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n+  { 0x1d728, G_UNICODE_NOT_PRESENT_OFFSET, 15492 },\n+  { 0x1d729, G_UNICODE_NOT_PRESENT_OFFSET, 15495 },\n+  { 0x1d72a, G_UNICODE_NOT_PRESENT_OFFSET, 15498 },\n@@ -7139,1 +7199,1 @@\n-  { 0x1d72c, G_UNICODE_NOT_PRESENT_OFFSET, 15322 },\n+  { 0x1d72c, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n@@ -7142,1 +7202,1 @@\n-  { 0x1d72f, G_UNICODE_NOT_PRESENT_OFFSET, 15325 },\n+  { 0x1d72f, G_UNICODE_NOT_PRESENT_OFFSET, 15504 },\n@@ -7144,3 +7204,3 @@\n-  { 0x1d731, G_UNICODE_NOT_PRESENT_OFFSET, 15328 },\n-  { 0x1d732, G_UNICODE_NOT_PRESENT_OFFSET, 15331 },\n-  { 0x1d733, G_UNICODE_NOT_PRESENT_OFFSET, 15334 },\n+  { 0x1d731, G_UNICODE_NOT_PRESENT_OFFSET, 15507 },\n+  { 0x1d732, G_UNICODE_NOT_PRESENT_OFFSET, 15510 },\n+  { 0x1d733, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n@@ -7148,2 +7208,2 @@\n-  { 0x1d735, G_UNICODE_NOT_PRESENT_OFFSET, 15337 },\n-  { 0x1d736, G_UNICODE_NOT_PRESENT_OFFSET, 15341 },\n+  { 0x1d735, G_UNICODE_NOT_PRESENT_OFFSET, 15516 },\n+  { 0x1d736, G_UNICODE_NOT_PRESENT_OFFSET, 15520 },\n@@ -7154,2 +7214,2 @@\n-  { 0x1d73b, G_UNICODE_NOT_PRESENT_OFFSET, 15344 },\n-  { 0x1d73c, G_UNICODE_NOT_PRESENT_OFFSET, 15347 },\n+  { 0x1d73b, G_UNICODE_NOT_PRESENT_OFFSET, 15523 },\n+  { 0x1d73c, G_UNICODE_NOT_PRESENT_OFFSET, 15526 },\n@@ -7159,1 +7219,1 @@\n-  { 0x1d740, G_UNICODE_NOT_PRESENT_OFFSET, 15350 },\n+  { 0x1d740, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n@@ -7161,3 +7221,3 @@\n-  { 0x1d742, G_UNICODE_NOT_PRESENT_OFFSET, 15353 },\n-  { 0x1d743, G_UNICODE_NOT_PRESENT_OFFSET, 15356 },\n-  { 0x1d744, G_UNICODE_NOT_PRESENT_OFFSET, 15359 },\n+  { 0x1d742, G_UNICODE_NOT_PRESENT_OFFSET, 15532 },\n+  { 0x1d743, G_UNICODE_NOT_PRESENT_OFFSET, 15535 },\n+  { 0x1d744, G_UNICODE_NOT_PRESENT_OFFSET, 15538 },\n@@ -7167,3 +7227,3 @@\n-  { 0x1d748, G_UNICODE_NOT_PRESENT_OFFSET, 15362 },\n-  { 0x1d749, G_UNICODE_NOT_PRESENT_OFFSET, 15365 },\n-  { 0x1d74a, G_UNICODE_NOT_PRESENT_OFFSET, 15368 },\n+  { 0x1d748, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n+  { 0x1d749, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1d74a, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n@@ -7172,3 +7232,3 @@\n-  { 0x1d74d, G_UNICODE_NOT_PRESENT_OFFSET, 15371 },\n-  { 0x1d74e, G_UNICODE_NOT_PRESENT_OFFSET, 15374 },\n-  { 0x1d74f, G_UNICODE_NOT_PRESENT_OFFSET, 15377 },\n+  { 0x1d74d, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n+  { 0x1d74e, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n+  { 0x1d74f, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n@@ -7181,2 +7241,2 @@\n-  { 0x1d756, G_UNICODE_NOT_PRESENT_OFFSET, 15283 },\n-  { 0x1d757, G_UNICODE_NOT_PRESENT_OFFSET, 15286 },\n+  { 0x1d756, G_UNICODE_NOT_PRESENT_OFFSET, 15462 },\n+  { 0x1d757, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n@@ -7184,4 +7244,4 @@\n-  { 0x1d759, G_UNICODE_NOT_PRESENT_OFFSET, 15289 },\n-  { 0x1d75a, G_UNICODE_NOT_PRESENT_OFFSET, 15292 },\n-  { 0x1d75b, G_UNICODE_NOT_PRESENT_OFFSET, 15295 },\n-  { 0x1d75c, G_UNICODE_NOT_PRESENT_OFFSET, 15298 },\n+  { 0x1d759, G_UNICODE_NOT_PRESENT_OFFSET, 15468 },\n+  { 0x1d75a, G_UNICODE_NOT_PRESENT_OFFSET, 15471 },\n+  { 0x1d75b, G_UNICODE_NOT_PRESENT_OFFSET, 15474 },\n+  { 0x1d75c, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n@@ -7189,7 +7249,7 @@\n-  { 0x1d75e, G_UNICODE_NOT_PRESENT_OFFSET, 15301 },\n-  { 0x1d75f, G_UNICODE_NOT_PRESENT_OFFSET, 15304 },\n-  { 0x1d760, G_UNICODE_NOT_PRESENT_OFFSET, 15307 },\n-  { 0x1d761, G_UNICODE_NOT_PRESENT_OFFSET, 15310 },\n-  { 0x1d762, G_UNICODE_NOT_PRESENT_OFFSET, 15313 },\n-  { 0x1d763, G_UNICODE_NOT_PRESENT_OFFSET, 15316 },\n-  { 0x1d764, G_UNICODE_NOT_PRESENT_OFFSET, 15319 },\n+  { 0x1d75e, G_UNICODE_NOT_PRESENT_OFFSET, 15480 },\n+  { 0x1d75f, G_UNICODE_NOT_PRESENT_OFFSET, 15483 },\n+  { 0x1d760, G_UNICODE_NOT_PRESENT_OFFSET, 15486 },\n+  { 0x1d761, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n+  { 0x1d762, G_UNICODE_NOT_PRESENT_OFFSET, 15492 },\n+  { 0x1d763, G_UNICODE_NOT_PRESENT_OFFSET, 15495 },\n+  { 0x1d764, G_UNICODE_NOT_PRESENT_OFFSET, 15498 },\n@@ -7197,1 +7257,1 @@\n-  { 0x1d766, G_UNICODE_NOT_PRESENT_OFFSET, 15322 },\n+  { 0x1d766, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n@@ -7200,1 +7260,1 @@\n-  { 0x1d769, G_UNICODE_NOT_PRESENT_OFFSET, 15325 },\n+  { 0x1d769, G_UNICODE_NOT_PRESENT_OFFSET, 15504 },\n@@ -7202,3 +7262,3 @@\n-  { 0x1d76b, G_UNICODE_NOT_PRESENT_OFFSET, 15328 },\n-  { 0x1d76c, G_UNICODE_NOT_PRESENT_OFFSET, 15331 },\n-  { 0x1d76d, G_UNICODE_NOT_PRESENT_OFFSET, 15334 },\n+  { 0x1d76b, G_UNICODE_NOT_PRESENT_OFFSET, 15507 },\n+  { 0x1d76c, G_UNICODE_NOT_PRESENT_OFFSET, 15510 },\n+  { 0x1d76d, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n@@ -7206,2 +7266,2 @@\n-  { 0x1d76f, G_UNICODE_NOT_PRESENT_OFFSET, 15337 },\n-  { 0x1d770, G_UNICODE_NOT_PRESENT_OFFSET, 15341 },\n+  { 0x1d76f, G_UNICODE_NOT_PRESENT_OFFSET, 15516 },\n+  { 0x1d770, G_UNICODE_NOT_PRESENT_OFFSET, 15520 },\n@@ -7212,2 +7272,2 @@\n-  { 0x1d775, G_UNICODE_NOT_PRESENT_OFFSET, 15344 },\n-  { 0x1d776, G_UNICODE_NOT_PRESENT_OFFSET, 15347 },\n+  { 0x1d775, G_UNICODE_NOT_PRESENT_OFFSET, 15523 },\n+  { 0x1d776, G_UNICODE_NOT_PRESENT_OFFSET, 15526 },\n@@ -7217,1 +7277,1 @@\n-  { 0x1d77a, G_UNICODE_NOT_PRESENT_OFFSET, 15350 },\n+  { 0x1d77a, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n@@ -7219,3 +7279,3 @@\n-  { 0x1d77c, G_UNICODE_NOT_PRESENT_OFFSET, 15353 },\n-  { 0x1d77d, G_UNICODE_NOT_PRESENT_OFFSET, 15356 },\n-  { 0x1d77e, G_UNICODE_NOT_PRESENT_OFFSET, 15359 },\n+  { 0x1d77c, G_UNICODE_NOT_PRESENT_OFFSET, 15532 },\n+  { 0x1d77d, G_UNICODE_NOT_PRESENT_OFFSET, 15535 },\n+  { 0x1d77e, G_UNICODE_NOT_PRESENT_OFFSET, 15538 },\n@@ -7225,3 +7285,3 @@\n-  { 0x1d782, G_UNICODE_NOT_PRESENT_OFFSET, 15362 },\n-  { 0x1d783, G_UNICODE_NOT_PRESENT_OFFSET, 15365 },\n-  { 0x1d784, G_UNICODE_NOT_PRESENT_OFFSET, 15368 },\n+  { 0x1d782, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n+  { 0x1d783, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1d784, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n@@ -7230,3 +7290,3 @@\n-  { 0x1d787, G_UNICODE_NOT_PRESENT_OFFSET, 15371 },\n-  { 0x1d788, G_UNICODE_NOT_PRESENT_OFFSET, 15374 },\n-  { 0x1d789, G_UNICODE_NOT_PRESENT_OFFSET, 15377 },\n+  { 0x1d787, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n+  { 0x1d788, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n+  { 0x1d789, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n@@ -7239,2 +7299,2 @@\n-  { 0x1d790, G_UNICODE_NOT_PRESENT_OFFSET, 15283 },\n-  { 0x1d791, G_UNICODE_NOT_PRESENT_OFFSET, 15286 },\n+  { 0x1d790, G_UNICODE_NOT_PRESENT_OFFSET, 15462 },\n+  { 0x1d791, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n@@ -7242,4 +7302,4 @@\n-  { 0x1d793, G_UNICODE_NOT_PRESENT_OFFSET, 15289 },\n-  { 0x1d794, G_UNICODE_NOT_PRESENT_OFFSET, 15292 },\n-  { 0x1d795, G_UNICODE_NOT_PRESENT_OFFSET, 15295 },\n-  { 0x1d796, G_UNICODE_NOT_PRESENT_OFFSET, 15298 },\n+  { 0x1d793, G_UNICODE_NOT_PRESENT_OFFSET, 15468 },\n+  { 0x1d794, G_UNICODE_NOT_PRESENT_OFFSET, 15471 },\n+  { 0x1d795, G_UNICODE_NOT_PRESENT_OFFSET, 15474 },\n+  { 0x1d796, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n@@ -7247,7 +7307,7 @@\n-  { 0x1d798, G_UNICODE_NOT_PRESENT_OFFSET, 15301 },\n-  { 0x1d799, G_UNICODE_NOT_PRESENT_OFFSET, 15304 },\n-  { 0x1d79a, G_UNICODE_NOT_PRESENT_OFFSET, 15307 },\n-  { 0x1d79b, G_UNICODE_NOT_PRESENT_OFFSET, 15310 },\n-  { 0x1d79c, G_UNICODE_NOT_PRESENT_OFFSET, 15313 },\n-  { 0x1d79d, G_UNICODE_NOT_PRESENT_OFFSET, 15316 },\n-  { 0x1d79e, G_UNICODE_NOT_PRESENT_OFFSET, 15319 },\n+  { 0x1d798, G_UNICODE_NOT_PRESENT_OFFSET, 15480 },\n+  { 0x1d799, G_UNICODE_NOT_PRESENT_OFFSET, 15483 },\n+  { 0x1d79a, G_UNICODE_NOT_PRESENT_OFFSET, 15486 },\n+  { 0x1d79b, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n+  { 0x1d79c, G_UNICODE_NOT_PRESENT_OFFSET, 15492 },\n+  { 0x1d79d, G_UNICODE_NOT_PRESENT_OFFSET, 15495 },\n+  { 0x1d79e, G_UNICODE_NOT_PRESENT_OFFSET, 15498 },\n@@ -7255,1 +7315,1 @@\n-  { 0x1d7a0, G_UNICODE_NOT_PRESENT_OFFSET, 15322 },\n+  { 0x1d7a0, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n@@ -7258,1 +7318,1 @@\n-  { 0x1d7a3, G_UNICODE_NOT_PRESENT_OFFSET, 15325 },\n+  { 0x1d7a3, G_UNICODE_NOT_PRESENT_OFFSET, 15504 },\n@@ -7260,3 +7320,3 @@\n-  { 0x1d7a5, G_UNICODE_NOT_PRESENT_OFFSET, 15328 },\n-  { 0x1d7a6, G_UNICODE_NOT_PRESENT_OFFSET, 15331 },\n-  { 0x1d7a7, G_UNICODE_NOT_PRESENT_OFFSET, 15334 },\n+  { 0x1d7a5, G_UNICODE_NOT_PRESENT_OFFSET, 15507 },\n+  { 0x1d7a6, G_UNICODE_NOT_PRESENT_OFFSET, 15510 },\n+  { 0x1d7a7, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n@@ -7264,2 +7324,2 @@\n-  { 0x1d7a9, G_UNICODE_NOT_PRESENT_OFFSET, 15337 },\n-  { 0x1d7aa, G_UNICODE_NOT_PRESENT_OFFSET, 15341 },\n+  { 0x1d7a9, G_UNICODE_NOT_PRESENT_OFFSET, 15516 },\n+  { 0x1d7aa, G_UNICODE_NOT_PRESENT_OFFSET, 15520 },\n@@ -7270,2 +7330,2 @@\n-  { 0x1d7af, G_UNICODE_NOT_PRESENT_OFFSET, 15344 },\n-  { 0x1d7b0, G_UNICODE_NOT_PRESENT_OFFSET, 15347 },\n+  { 0x1d7af, G_UNICODE_NOT_PRESENT_OFFSET, 15523 },\n+  { 0x1d7b0, G_UNICODE_NOT_PRESENT_OFFSET, 15526 },\n@@ -7275,1 +7335,1 @@\n-  { 0x1d7b4, G_UNICODE_NOT_PRESENT_OFFSET, 15350 },\n+  { 0x1d7b4, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n@@ -7277,3 +7337,3 @@\n-  { 0x1d7b6, G_UNICODE_NOT_PRESENT_OFFSET, 15353 },\n-  { 0x1d7b7, G_UNICODE_NOT_PRESENT_OFFSET, 15356 },\n-  { 0x1d7b8, G_UNICODE_NOT_PRESENT_OFFSET, 15359 },\n+  { 0x1d7b6, G_UNICODE_NOT_PRESENT_OFFSET, 15532 },\n+  { 0x1d7b7, G_UNICODE_NOT_PRESENT_OFFSET, 15535 },\n+  { 0x1d7b8, G_UNICODE_NOT_PRESENT_OFFSET, 15538 },\n@@ -7283,3 +7343,3 @@\n-  { 0x1d7bc, G_UNICODE_NOT_PRESENT_OFFSET, 15362 },\n-  { 0x1d7bd, G_UNICODE_NOT_PRESENT_OFFSET, 15365 },\n-  { 0x1d7be, G_UNICODE_NOT_PRESENT_OFFSET, 15368 },\n+  { 0x1d7bc, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n+  { 0x1d7bd, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1d7be, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n@@ -7288,3 +7348,3 @@\n-  { 0x1d7c1, G_UNICODE_NOT_PRESENT_OFFSET, 15371 },\n-  { 0x1d7c2, G_UNICODE_NOT_PRESENT_OFFSET, 15374 },\n-  { 0x1d7c3, G_UNICODE_NOT_PRESENT_OFFSET, 15377 },\n+  { 0x1d7c1, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n+  { 0x1d7c2, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n+  { 0x1d7c3, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n@@ -7297,2 +7357,2 @@\n-  { 0x1d7ca, G_UNICODE_NOT_PRESENT_OFFSET, 15381 },\n-  { 0x1d7cb, G_UNICODE_NOT_PRESENT_OFFSET, 15384 },\n+  { 0x1d7ca, G_UNICODE_NOT_PRESENT_OFFSET, 15560 },\n+  { 0x1d7cb, G_UNICODE_NOT_PRESENT_OFFSET, 15563 },\n@@ -7376,1 +7436,1 @@\n-  { 0x1ee1c, G_UNICODE_NOT_PRESENT_OFFSET, 15387 },\n+  { 0x1ee1c, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n@@ -7378,2 +7438,2 @@\n-  { 0x1ee1e, G_UNICODE_NOT_PRESENT_OFFSET, 15390 },\n-  { 0x1ee1f, G_UNICODE_NOT_PRESENT_OFFSET, 15393 },\n+  { 0x1ee1e, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n+  { 0x1ee1f, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n@@ -7414,1 +7474,1 @@\n-  { 0x1ee5f, G_UNICODE_NOT_PRESENT_OFFSET, 15393 },\n+  { 0x1ee5f, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n@@ -7436,2 +7496,2 @@\n-  { 0x1ee7c, G_UNICODE_NOT_PRESENT_OFFSET, 15387 },\n-  { 0x1ee7e, G_UNICODE_NOT_PRESENT_OFFSET, 15390 },\n+  { 0x1ee7c, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n+  { 0x1ee7e, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n@@ -7490,38 +7550,38 @@\n-  { 0x1f100, G_UNICODE_NOT_PRESENT_OFFSET, 15396 },\n-  { 0x1f101, G_UNICODE_NOT_PRESENT_OFFSET, 15399 },\n-  { 0x1f102, G_UNICODE_NOT_PRESENT_OFFSET, 15402 },\n-  { 0x1f103, G_UNICODE_NOT_PRESENT_OFFSET, 15405 },\n-  { 0x1f104, G_UNICODE_NOT_PRESENT_OFFSET, 15408 },\n-  { 0x1f105, G_UNICODE_NOT_PRESENT_OFFSET, 15411 },\n-  { 0x1f106, G_UNICODE_NOT_PRESENT_OFFSET, 15414 },\n-  { 0x1f107, G_UNICODE_NOT_PRESENT_OFFSET, 15417 },\n-  { 0x1f108, G_UNICODE_NOT_PRESENT_OFFSET, 15420 },\n-  { 0x1f109, G_UNICODE_NOT_PRESENT_OFFSET, 15423 },\n-  { 0x1f10a, G_UNICODE_NOT_PRESENT_OFFSET, 15426 },\n-  { 0x1f110, G_UNICODE_NOT_PRESENT_OFFSET, 15429 },\n-  { 0x1f111, G_UNICODE_NOT_PRESENT_OFFSET, 15433 },\n-  { 0x1f112, G_UNICODE_NOT_PRESENT_OFFSET, 15437 },\n-  { 0x1f113, G_UNICODE_NOT_PRESENT_OFFSET, 15441 },\n-  { 0x1f114, G_UNICODE_NOT_PRESENT_OFFSET, 15445 },\n-  { 0x1f115, G_UNICODE_NOT_PRESENT_OFFSET, 15449 },\n-  { 0x1f116, G_UNICODE_NOT_PRESENT_OFFSET, 15453 },\n-  { 0x1f117, G_UNICODE_NOT_PRESENT_OFFSET, 15457 },\n-  { 0x1f118, G_UNICODE_NOT_PRESENT_OFFSET, 15461 },\n-  { 0x1f119, G_UNICODE_NOT_PRESENT_OFFSET, 15465 },\n-  { 0x1f11a, G_UNICODE_NOT_PRESENT_OFFSET, 15469 },\n-  { 0x1f11b, G_UNICODE_NOT_PRESENT_OFFSET, 15473 },\n-  { 0x1f11c, G_UNICODE_NOT_PRESENT_OFFSET, 15477 },\n-  { 0x1f11d, G_UNICODE_NOT_PRESENT_OFFSET, 15481 },\n-  { 0x1f11e, G_UNICODE_NOT_PRESENT_OFFSET, 15485 },\n-  { 0x1f11f, G_UNICODE_NOT_PRESENT_OFFSET, 15489 },\n-  { 0x1f120, G_UNICODE_NOT_PRESENT_OFFSET, 15493 },\n-  { 0x1f121, G_UNICODE_NOT_PRESENT_OFFSET, 15497 },\n-  { 0x1f122, G_UNICODE_NOT_PRESENT_OFFSET, 15501 },\n-  { 0x1f123, G_UNICODE_NOT_PRESENT_OFFSET, 15505 },\n-  { 0x1f124, G_UNICODE_NOT_PRESENT_OFFSET, 15509 },\n-  { 0x1f125, G_UNICODE_NOT_PRESENT_OFFSET, 15513 },\n-  { 0x1f126, G_UNICODE_NOT_PRESENT_OFFSET, 15517 },\n-  { 0x1f127, G_UNICODE_NOT_PRESENT_OFFSET, 15521 },\n-  { 0x1f128, G_UNICODE_NOT_PRESENT_OFFSET, 15525 },\n-  { 0x1f129, G_UNICODE_NOT_PRESENT_OFFSET, 15529 },\n-  { 0x1f12a, G_UNICODE_NOT_PRESENT_OFFSET, 15533 },\n+  { 0x1f100, G_UNICODE_NOT_PRESENT_OFFSET, 15575 },\n+  { 0x1f101, G_UNICODE_NOT_PRESENT_OFFSET, 15578 },\n+  { 0x1f102, G_UNICODE_NOT_PRESENT_OFFSET, 15581 },\n+  { 0x1f103, G_UNICODE_NOT_PRESENT_OFFSET, 15584 },\n+  { 0x1f104, G_UNICODE_NOT_PRESENT_OFFSET, 15587 },\n+  { 0x1f105, G_UNICODE_NOT_PRESENT_OFFSET, 15590 },\n+  { 0x1f106, G_UNICODE_NOT_PRESENT_OFFSET, 15593 },\n+  { 0x1f107, G_UNICODE_NOT_PRESENT_OFFSET, 15596 },\n+  { 0x1f108, G_UNICODE_NOT_PRESENT_OFFSET, 15599 },\n+  { 0x1f109, G_UNICODE_NOT_PRESENT_OFFSET, 15602 },\n+  { 0x1f10a, G_UNICODE_NOT_PRESENT_OFFSET, 15605 },\n+  { 0x1f110, G_UNICODE_NOT_PRESENT_OFFSET, 15608 },\n+  { 0x1f111, G_UNICODE_NOT_PRESENT_OFFSET, 15612 },\n+  { 0x1f112, G_UNICODE_NOT_PRESENT_OFFSET, 15616 },\n+  { 0x1f113, G_UNICODE_NOT_PRESENT_OFFSET, 15620 },\n+  { 0x1f114, G_UNICODE_NOT_PRESENT_OFFSET, 15624 },\n+  { 0x1f115, G_UNICODE_NOT_PRESENT_OFFSET, 15628 },\n+  { 0x1f116, G_UNICODE_NOT_PRESENT_OFFSET, 15632 },\n+  { 0x1f117, G_UNICODE_NOT_PRESENT_OFFSET, 15636 },\n+  { 0x1f118, G_UNICODE_NOT_PRESENT_OFFSET, 15640 },\n+  { 0x1f119, G_UNICODE_NOT_PRESENT_OFFSET, 15644 },\n+  { 0x1f11a, G_UNICODE_NOT_PRESENT_OFFSET, 15648 },\n+  { 0x1f11b, G_UNICODE_NOT_PRESENT_OFFSET, 15652 },\n+  { 0x1f11c, G_UNICODE_NOT_PRESENT_OFFSET, 15656 },\n+  { 0x1f11d, G_UNICODE_NOT_PRESENT_OFFSET, 15660 },\n+  { 0x1f11e, G_UNICODE_NOT_PRESENT_OFFSET, 15664 },\n+  { 0x1f11f, G_UNICODE_NOT_PRESENT_OFFSET, 15668 },\n+  { 0x1f120, G_UNICODE_NOT_PRESENT_OFFSET, 15672 },\n+  { 0x1f121, G_UNICODE_NOT_PRESENT_OFFSET, 15676 },\n+  { 0x1f122, G_UNICODE_NOT_PRESENT_OFFSET, 15680 },\n+  { 0x1f123, G_UNICODE_NOT_PRESENT_OFFSET, 15684 },\n+  { 0x1f124, G_UNICODE_NOT_PRESENT_OFFSET, 15688 },\n+  { 0x1f125, G_UNICODE_NOT_PRESENT_OFFSET, 15692 },\n+  { 0x1f126, G_UNICODE_NOT_PRESENT_OFFSET, 15696 },\n+  { 0x1f127, G_UNICODE_NOT_PRESENT_OFFSET, 15700 },\n+  { 0x1f128, G_UNICODE_NOT_PRESENT_OFFSET, 15704 },\n+  { 0x1f129, G_UNICODE_NOT_PRESENT_OFFSET, 15708 },\n+  { 0x1f12a, G_UNICODE_NOT_PRESENT_OFFSET, 15712 },\n@@ -7530,2 +7590,2 @@\n-  { 0x1f12d, G_UNICODE_NOT_PRESENT_OFFSET, 15541 },\n-  { 0x1f12e, G_UNICODE_NOT_PRESENT_OFFSET, 15544 },\n+  { 0x1f12d, G_UNICODE_NOT_PRESENT_OFFSET, 15720 },\n+  { 0x1f12e, G_UNICODE_NOT_PRESENT_OFFSET, 15723 },\n@@ -7558,1 +7618,1 @@\n-  { 0x1f14a, G_UNICODE_NOT_PRESENT_OFFSET, 15547 },\n+  { 0x1f14a, G_UNICODE_NOT_PRESENT_OFFSET, 15726 },\n@@ -7560,10 +7620,10 @@\n-  { 0x1f14c, G_UNICODE_NOT_PRESENT_OFFSET, 15550 },\n-  { 0x1f14d, G_UNICODE_NOT_PRESENT_OFFSET, 15553 },\n-  { 0x1f14e, G_UNICODE_NOT_PRESENT_OFFSET, 15556 },\n-  { 0x1f14f, G_UNICODE_NOT_PRESENT_OFFSET, 15560 },\n-  { 0x1f16a, G_UNICODE_NOT_PRESENT_OFFSET, 15563 },\n-  { 0x1f16b, G_UNICODE_NOT_PRESENT_OFFSET, 15566 },\n-  { 0x1f16c, G_UNICODE_NOT_PRESENT_OFFSET, 15569 },\n-  { 0x1f190, G_UNICODE_NOT_PRESENT_OFFSET, 15572 },\n-  { 0x1f200, G_UNICODE_NOT_PRESENT_OFFSET, 15575 },\n-  { 0x1f201, G_UNICODE_NOT_PRESENT_OFFSET, 15582 },\n+  { 0x1f14c, G_UNICODE_NOT_PRESENT_OFFSET, 15729 },\n+  { 0x1f14d, G_UNICODE_NOT_PRESENT_OFFSET, 15732 },\n+  { 0x1f14e, G_UNICODE_NOT_PRESENT_OFFSET, 15735 },\n+  { 0x1f14f, G_UNICODE_NOT_PRESENT_OFFSET, 15739 },\n+  { 0x1f16a, G_UNICODE_NOT_PRESENT_OFFSET, 15742 },\n+  { 0x1f16b, G_UNICODE_NOT_PRESENT_OFFSET, 15745 },\n+  { 0x1f16c, G_UNICODE_NOT_PRESENT_OFFSET, 15748 },\n+  { 0x1f190, G_UNICODE_NOT_PRESENT_OFFSET, 15751 },\n+  { 0x1f200, G_UNICODE_NOT_PRESENT_OFFSET, 15754 },\n+  { 0x1f201, G_UNICODE_NOT_PRESENT_OFFSET, 15761 },\n@@ -7572,2 +7632,2 @@\n-  { 0x1f211, G_UNICODE_NOT_PRESENT_OFFSET, 15589 },\n-  { 0x1f212, G_UNICODE_NOT_PRESENT_OFFSET, 15593 },\n+  { 0x1f211, G_UNICODE_NOT_PRESENT_OFFSET, 15768 },\n+  { 0x1f212, G_UNICODE_NOT_PRESENT_OFFSET, 15772 },\n@@ -7576,2 +7636,2 @@\n-  { 0x1f215, G_UNICODE_NOT_PRESENT_OFFSET, 15597 },\n-  { 0x1f216, G_UNICODE_NOT_PRESENT_OFFSET, 15601 },\n+  { 0x1f215, G_UNICODE_NOT_PRESENT_OFFSET, 15776 },\n+  { 0x1f216, G_UNICODE_NOT_PRESENT_OFFSET, 15780 },\n@@ -7579,3 +7639,3 @@\n-  { 0x1f218, G_UNICODE_NOT_PRESENT_OFFSET, 15605 },\n-  { 0x1f219, G_UNICODE_NOT_PRESENT_OFFSET, 15609 },\n-  { 0x1f21a, G_UNICODE_NOT_PRESENT_OFFSET, 15613 },\n+  { 0x1f218, G_UNICODE_NOT_PRESENT_OFFSET, 15784 },\n+  { 0x1f219, G_UNICODE_NOT_PRESENT_OFFSET, 15788 },\n+  { 0x1f21a, G_UNICODE_NOT_PRESENT_OFFSET, 15792 },\n@@ -7583,6 +7643,6 @@\n-  { 0x1f21c, G_UNICODE_NOT_PRESENT_OFFSET, 15617 },\n-  { 0x1f21d, G_UNICODE_NOT_PRESENT_OFFSET, 15621 },\n-  { 0x1f21e, G_UNICODE_NOT_PRESENT_OFFSET, 15625 },\n-  { 0x1f21f, G_UNICODE_NOT_PRESENT_OFFSET, 15629 },\n-  { 0x1f220, G_UNICODE_NOT_PRESENT_OFFSET, 15633 },\n-  { 0x1f221, G_UNICODE_NOT_PRESENT_OFFSET, 15637 },\n+  { 0x1f21c, G_UNICODE_NOT_PRESENT_OFFSET, 15796 },\n+  { 0x1f21d, G_UNICODE_NOT_PRESENT_OFFSET, 15800 },\n+  { 0x1f21e, G_UNICODE_NOT_PRESENT_OFFSET, 15804 },\n+  { 0x1f21f, G_UNICODE_NOT_PRESENT_OFFSET, 15808 },\n+  { 0x1f220, G_UNICODE_NOT_PRESENT_OFFSET, 15812 },\n+  { 0x1f221, G_UNICODE_NOT_PRESENT_OFFSET, 15816 },\n@@ -7590,6 +7650,6 @@\n-  { 0x1f223, G_UNICODE_NOT_PRESENT_OFFSET, 15641 },\n-  { 0x1f224, G_UNICODE_NOT_PRESENT_OFFSET, 15645 },\n-  { 0x1f225, G_UNICODE_NOT_PRESENT_OFFSET, 15649 },\n-  { 0x1f226, G_UNICODE_NOT_PRESENT_OFFSET, 15653 },\n-  { 0x1f227, G_UNICODE_NOT_PRESENT_OFFSET, 15657 },\n-  { 0x1f228, G_UNICODE_NOT_PRESENT_OFFSET, 15661 },\n+  { 0x1f223, G_UNICODE_NOT_PRESENT_OFFSET, 15820 },\n+  { 0x1f224, G_UNICODE_NOT_PRESENT_OFFSET, 15824 },\n+  { 0x1f225, G_UNICODE_NOT_PRESENT_OFFSET, 15828 },\n+  { 0x1f226, G_UNICODE_NOT_PRESENT_OFFSET, 15832 },\n+  { 0x1f227, G_UNICODE_NOT_PRESENT_OFFSET, 15836 },\n+  { 0x1f228, G_UNICODE_NOT_PRESENT_OFFSET, 15840 },\n@@ -7598,1 +7658,1 @@\n-  { 0x1f22b, G_UNICODE_NOT_PRESENT_OFFSET, 15665 },\n+  { 0x1f22b, G_UNICODE_NOT_PRESENT_OFFSET, 15844 },\n@@ -7602,1 +7662,1 @@\n-  { 0x1f22f, G_UNICODE_NOT_PRESENT_OFFSET, 15669 },\n+  { 0x1f22f, G_UNICODE_NOT_PRESENT_OFFSET, 15848 },\n@@ -7604,5 +7664,5 @@\n-  { 0x1f231, G_UNICODE_NOT_PRESENT_OFFSET, 15673 },\n-  { 0x1f232, G_UNICODE_NOT_PRESENT_OFFSET, 15677 },\n-  { 0x1f233, G_UNICODE_NOT_PRESENT_OFFSET, 15681 },\n-  { 0x1f234, G_UNICODE_NOT_PRESENT_OFFSET, 15685 },\n-  { 0x1f235, G_UNICODE_NOT_PRESENT_OFFSET, 15689 },\n+  { 0x1f231, G_UNICODE_NOT_PRESENT_OFFSET, 15852 },\n+  { 0x1f232, G_UNICODE_NOT_PRESENT_OFFSET, 15856 },\n+  { 0x1f233, G_UNICODE_NOT_PRESENT_OFFSET, 15860 },\n+  { 0x1f234, G_UNICODE_NOT_PRESENT_OFFSET, 15864 },\n+  { 0x1f235, G_UNICODE_NOT_PRESENT_OFFSET, 15868 },\n@@ -7611,15 +7671,15 @@\n-  { 0x1f238, G_UNICODE_NOT_PRESENT_OFFSET, 15693 },\n-  { 0x1f239, G_UNICODE_NOT_PRESENT_OFFSET, 15697 },\n-  { 0x1f23a, G_UNICODE_NOT_PRESENT_OFFSET, 15701 },\n-  { 0x1f23b, G_UNICODE_NOT_PRESENT_OFFSET, 15705 },\n-  { 0x1f240, G_UNICODE_NOT_PRESENT_OFFSET, 15709 },\n-  { 0x1f241, G_UNICODE_NOT_PRESENT_OFFSET, 15719 },\n-  { 0x1f242, G_UNICODE_NOT_PRESENT_OFFSET, 15729 },\n-  { 0x1f243, G_UNICODE_NOT_PRESENT_OFFSET, 15739 },\n-  { 0x1f244, G_UNICODE_NOT_PRESENT_OFFSET, 15749 },\n-  { 0x1f245, G_UNICODE_NOT_PRESENT_OFFSET, 15759 },\n-  { 0x1f246, G_UNICODE_NOT_PRESENT_OFFSET, 15769 },\n-  { 0x1f247, G_UNICODE_NOT_PRESENT_OFFSET, 15779 },\n-  { 0x1f248, G_UNICODE_NOT_PRESENT_OFFSET, 15789 },\n-  { 0x1f250, G_UNICODE_NOT_PRESENT_OFFSET, 15799 },\n-  { 0x1f251, G_UNICODE_NOT_PRESENT_OFFSET, 15803 },\n+  { 0x1f238, G_UNICODE_NOT_PRESENT_OFFSET, 15872 },\n+  { 0x1f239, G_UNICODE_NOT_PRESENT_OFFSET, 15876 },\n+  { 0x1f23a, G_UNICODE_NOT_PRESENT_OFFSET, 15880 },\n+  { 0x1f23b, G_UNICODE_NOT_PRESENT_OFFSET, 15884 },\n+  { 0x1f240, G_UNICODE_NOT_PRESENT_OFFSET, 15888 },\n+  { 0x1f241, G_UNICODE_NOT_PRESENT_OFFSET, 15898 },\n+  { 0x1f242, G_UNICODE_NOT_PRESENT_OFFSET, 15908 },\n+  { 0x1f243, G_UNICODE_NOT_PRESENT_OFFSET, 15918 },\n+  { 0x1f244, G_UNICODE_NOT_PRESENT_OFFSET, 15928 },\n+  { 0x1f245, G_UNICODE_NOT_PRESENT_OFFSET, 15938 },\n+  { 0x1f246, G_UNICODE_NOT_PRESENT_OFFSET, 15948 },\n+  { 0x1f247, G_UNICODE_NOT_PRESENT_OFFSET, 15958 },\n+  { 0x1f248, G_UNICODE_NOT_PRESENT_OFFSET, 15968 },\n+  { 0x1f250, G_UNICODE_NOT_PRESENT_OFFSET, 15978 },\n+  { 0x1f251, G_UNICODE_NOT_PRESENT_OFFSET, 15982 },\n@@ -7636,5 +7696,5 @@\n-  { 0x2f800, 15807, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f801, 15811, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f802, 15815, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f803, 15819, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f804, 15824, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f800, 15986, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f801, 15990, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f802, 15994, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f803, 15998, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f804, 16003, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7642,4 +7702,4 @@\n-  { 0x2f806, 15828, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f807, 15832, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f808, 15836, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f809, 15840, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f806, 16007, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f807, 16011, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f808, 16015, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f809, 16019, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7647,3 +7707,3 @@\n-  { 0x2f80b, 15844, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f80c, 15848, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f80d, 15852, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80b, 16023, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80c, 16027, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80d, 16031, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7651,12 +7711,12 @@\n-  { 0x2f80f, 15857, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f810, 15861, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f811, 15865, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f812, 15869, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f813, 15874, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f814, 15878, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f815, 15625, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f816, 15882, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f817, 15887, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f818, 15891, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f819, 15895, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f81a, 15899, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f80f, 16036, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f810, 16040, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f811, 16044, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f812, 16048, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f813, 16053, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f814, 16057, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f815, 15804, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f816, 16061, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f817, 16066, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f818, 16070, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f819, 16074, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81a, 16078, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7664,1 +7724,1 @@\n-  { 0x2f81c, 15903, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81c, 16082, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7666,7 +7726,7 @@\n-  { 0x2f81e, 15908, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f81f, 15912, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f820, 15916, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f821, 15920, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f822, 15697, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f823, 15924, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f824, 15928, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81e, 16087, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f81f, 16091, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f820, 16095, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f821, 16099, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f822, 15876, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f823, 16103, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f824, 16107, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7677,2 +7737,2 @@\n-  { 0x2f829, 15932, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f82a, 15936, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f829, 16111, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82a, 16115, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7680,1 +7740,1 @@\n-  { 0x2f82c, 15940, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82c, 16119, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7682,25 +7742,25 @@\n-  { 0x2f82e, 15944, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f82f, 15948, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f830, 15952, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f831, 15956, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f832, 15956, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f833, 15956, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f834, 15960, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f835, 15965, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f836, 15969, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f837, 15973, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f838, 15977, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f839, 15982, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83a, 15986, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83b, 15990, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83c, 15994, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83d, 15998, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83e, 16002, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f83f, 16006, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f840, 16010, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f841, 16014, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f842, 16018, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f843, 16022, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f844, 16026, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f845, 16030, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f846, 16030, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82e, 16123, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f82f, 16127, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f830, 16131, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f831, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f832, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f833, 16135, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f834, 16139, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f835, 16144, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f836, 16148, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f837, 16152, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f838, 16156, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f839, 16161, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83a, 16165, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83b, 16169, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83c, 16173, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83d, 16177, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83e, 16181, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f83f, 16185, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f840, 16189, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f841, 16193, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f842, 16197, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f843, 16201, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f844, 16205, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f845, 16209, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f846, 16209, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7708,4 +7768,4 @@\n-  { 0x2f848, 16034, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f849, 16038, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84a, 16042, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84b, 16046, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f848, 16213, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f849, 16217, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84a, 16221, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84b, 16225, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7713,3 +7773,3 @@\n-  { 0x2f84d, 16050, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84e, 16054, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f84f, 16058, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84d, 16229, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84e, 16233, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f84f, 16237, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7717,30 +7777,30 @@\n-  { 0x2f851, 16062, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f852, 16066, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f853, 16070, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f854, 16074, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f855, 16078, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f856, 16082, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f857, 16086, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f858, 16090, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f859, 16094, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85a, 16099, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85b, 16103, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85c, 16107, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85d, 15597, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85e, 16111, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f85f, 16115, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f860, 16119, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f861, 16124, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f862, 16129, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f863, 16133, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f864, 16137, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f865, 16141, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f866, 16145, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f867, 16149, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f868, 16153, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f869, 16157, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86a, 16161, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86b, 16161, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86c, 16165, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86d, 16170, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f86e, 16174, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f851, 16241, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f852, 16245, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f853, 16249, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f854, 16253, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f855, 16257, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f856, 16261, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f857, 16265, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f858, 16269, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f859, 16273, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85a, 16278, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85b, 16282, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85c, 16286, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85d, 15776, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85e, 16290, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f85f, 16294, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f860, 16298, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f861, 16303, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f862, 16308, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f863, 16312, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f864, 16316, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f865, 16320, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f866, 16324, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f867, 16328, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f868, 16332, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f869, 16336, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86a, 16340, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86b, 16340, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86c, 16344, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86d, 16349, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f86e, 16353, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7748,5 +7808,5 @@\n-  { 0x2f870, 16178, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f871, 16182, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f872, 16187, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f873, 16191, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f874, 16195, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f870, 16357, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f871, 16361, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f872, 16366, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f873, 16370, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f874, 16374, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7754,2 +7814,2 @@\n-  { 0x2f876, 16199, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f877, 16203, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f876, 16378, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f877, 16382, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7757,21 +7817,21 @@\n-  { 0x2f879, 16207, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87a, 16211, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87b, 16215, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87c, 16220, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87d, 16224, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87e, 16229, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f87f, 16233, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f880, 16237, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f881, 16241, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f882, 16245, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f883, 16249, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f884, 16253, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f885, 16257, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f886, 16261, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f887, 16265, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f888, 16269, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f889, 16273, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88a, 16278, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88b, 16282, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88c, 16286, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f88d, 16290, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f879, 16386, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87a, 16390, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87b, 16394, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87c, 16399, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87d, 16403, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87e, 16408, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f87f, 16412, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f880, 16416, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f881, 16420, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f882, 16424, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f883, 16428, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f884, 16432, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f885, 16436, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f886, 16440, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f887, 16444, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f888, 16448, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f889, 16452, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88a, 16457, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88b, 16461, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88c, 16465, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88d, 16469, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7779,1 +7839,1 @@\n-  { 0x2f88f, 16294, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f88f, 16473, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7781,18 +7841,18 @@\n-  { 0x2f891, 16299, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f892, 16299, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f893, 16304, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f894, 16308, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f895, 16308, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f896, 16312, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f897, 16316, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f898, 16321, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f899, 16326, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89a, 16330, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89b, 16334, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89c, 16338, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89d, 16342, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89e, 16346, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f89f, 16350, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a0, 16354, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a1, 16358, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a2, 16362, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f891, 16478, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f892, 16478, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f893, 16483, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f894, 16487, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f895, 16487, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f896, 16491, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f897, 16495, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f898, 16500, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f899, 16505, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89a, 16509, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89b, 16513, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89c, 16517, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89d, 16521, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89e, 16525, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f89f, 16529, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a0, 16533, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a1, 16537, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a2, 16541, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7800,4 +7860,4 @@\n-  { 0x2f8a4, 16366, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a5, 16371, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a6, 16375, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8a7, 16379, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a4, 16545, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a5, 16550, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a6, 16554, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a7, 16558, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7805,2 +7865,2 @@\n-  { 0x2f8a9, 16379, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8aa, 16383, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8a9, 16558, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8aa, 16562, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7808,4 +7868,4 @@\n-  { 0x2f8ac, 16387, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ad, 16391, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ae, 16395, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8af, 16399, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ac, 16566, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ad, 16570, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ae, 16574, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8af, 16578, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7814,22 +7874,22 @@\n-  { 0x2f8b2, 16403, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b3, 16407, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b4, 16411, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b5, 16415, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b6, 16419, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b7, 16423, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b8, 16427, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8b9, 16432, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ba, 16436, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bb, 16440, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bc, 16444, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bd, 16448, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8be, 16452, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8bf, 16457, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c0, 16461, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c1, 16465, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c2, 16469, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c3, 16473, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c4, 16477, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c5, 16481, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c6, 16485, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8c7, 16489, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b2, 16582, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b3, 16586, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b4, 16590, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b5, 16594, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b6, 16598, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b7, 16602, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b8, 16606, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8b9, 16611, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ba, 16615, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bb, 16619, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bc, 16623, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bd, 16627, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8be, 16631, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8bf, 16636, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c0, 16640, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c1, 16644, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c2, 16648, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c3, 16652, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c4, 16656, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c5, 16660, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c6, 16664, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c7, 16668, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7837,6 +7897,6 @@\n-  { 0x2f8c9, 16493, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ca, 16497, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cb, 16502, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cc, 16506, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8cd, 16510, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ce, 16514, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8c9, 16672, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ca, 16676, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cb, 16681, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cc, 16685, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8cd, 16689, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ce, 16693, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7844,8 +7904,8 @@\n-  { 0x2f8d0, 16518, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d1, 16522, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d2, 16526, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d3, 16530, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d4, 16534, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d5, 16538, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d6, 16542, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8d7, 16546, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d0, 16697, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d1, 16701, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d2, 16705, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d3, 16709, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d4, 16713, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d5, 16717, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d6, 16721, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8d7, 16725, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7854,8 +7914,8 @@\n-  { 0x2f8da, 16550, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8db, 16554, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8dc, 16558, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8dd, 16562, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8de, 16567, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8df, 16571, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e0, 16575, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e1, 16579, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8da, 16729, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8db, 16733, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8dc, 16737, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8dd, 16741, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8de, 16746, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8df, 16750, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e0, 16754, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e1, 16758, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7863,4 +7923,4 @@\n-  { 0x2f8e3, 16583, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e4, 16588, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e5, 16592, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e6, 16596, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e3, 16762, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e4, 16767, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e5, 16771, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e6, 16775, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7868,13 +7928,13 @@\n-  { 0x2f8e8, 16600, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8e9, 16604, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ea, 16608, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8eb, 16612, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ec, 16616, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ed, 16621, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ee, 16625, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ef, 16629, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f0, 16633, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f1, 16638, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f2, 16642, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f3, 16646, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f4, 16650, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e8, 16779, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8e9, 16783, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ea, 16787, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8eb, 16791, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ec, 16795, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ed, 16800, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ee, 16804, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ef, 16808, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f0, 16812, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f1, 16817, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f2, 16821, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f3, 16825, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f4, 16829, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7882,11 +7942,11 @@\n-  { 0x2f8f6, 16654, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f7, 16658, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f8, 16663, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8f9, 16668, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fa, 16673, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fb, 16677, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fc, 16682, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fd, 16686, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8fe, 16690, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f8ff, 16694, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f900, 16698, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f6, 16833, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f7, 16837, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f8, 16842, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8f9, 16847, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fa, 16852, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fb, 16856, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fc, 16861, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fd, 16865, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8fe, 16869, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f8ff, 16873, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f900, 16877, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7895,8 +7955,8 @@\n-  { 0x2f903, 16702, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f904, 16706, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f905, 16710, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f906, 16714, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f907, 16719, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f908, 16723, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f909, 16727, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90a, 16731, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f903, 16881, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f904, 16885, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f905, 16889, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f906, 16893, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f907, 16898, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f908, 16902, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f909, 16906, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90a, 16910, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7904,8 +7964,8 @@\n-  { 0x2f90c, 16735, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90d, 16739, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90e, 16744, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f90f, 16748, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f910, 16752, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f911, 16757, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f912, 16762, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f913, 16766, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90c, 16914, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90d, 16918, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90e, 16923, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f90f, 16927, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f910, 16931, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f911, 16936, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f912, 16941, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f913, 16945, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7913,12 +7973,12 @@\n-  { 0x2f915, 16770, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f916, 16774, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f917, 16778, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f918, 16782, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f919, 16786, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91a, 16790, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91b, 16794, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91c, 16799, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91d, 16803, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91e, 16808, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f91f, 16812, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f920, 16817, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f915, 16949, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f916, 16953, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f917, 16957, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f918, 16961, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f919, 16965, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91a, 16969, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91b, 16973, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91c, 16978, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91d, 16982, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91e, 16987, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f91f, 16991, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f920, 16996, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7926,14 +7986,14 @@\n-  { 0x2f922, 16821, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f923, 16825, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f924, 16830, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f925, 16834, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f926, 16838, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f927, 16843, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f928, 16848, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f929, 16852, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92a, 16856, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92b, 16860, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92c, 16864, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92d, 16864, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92e, 16868, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f92f, 16872, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f922, 17000, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f923, 17004, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f924, 17009, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f925, 17013, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f926, 17017, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f927, 17022, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f928, 17027, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f929, 17031, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92a, 17035, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92b, 17039, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92c, 17043, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92d, 17043, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92e, 17047, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f92f, 17051, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7941,7 +8001,7 @@\n-  { 0x2f931, 16876, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f932, 16880, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f933, 16884, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f934, 16888, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f935, 16892, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f936, 16897, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f937, 16901, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f931, 17055, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f932, 17059, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f933, 17063, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f934, 17067, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f935, 17071, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f936, 17076, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f937, 17080, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7949,7 +8009,7 @@\n-  { 0x2f939, 16906, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93a, 16911, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93b, 16915, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93c, 16920, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93d, 16925, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93e, 16930, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f93f, 16934, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f939, 17085, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93a, 17090, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93b, 17094, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93c, 17099, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93d, 17104, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93e, 17109, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f93f, 17113, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7957,7 +8017,7 @@\n-  { 0x2f941, 16938, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f942, 16943, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f943, 16948, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f944, 16953, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f945, 16958, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f946, 16962, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f947, 16962, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f941, 17117, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f942, 17122, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f943, 17127, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f944, 17132, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f945, 17137, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f946, 17141, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f947, 17141, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7966,5 +8026,5 @@\n-  { 0x2f94a, 16966, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94b, 16970, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94c, 16974, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94d, 16978, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f94e, 16983, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94a, 17145, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94b, 17149, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94c, 17153, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94d, 17157, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f94e, 17162, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7973,2 +8033,2 @@\n-  { 0x2f951, 16987, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f952, 16991, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f951, 17166, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f952, 17170, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7976,2 +8036,2 @@\n-  { 0x2f954, 16996, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f955, 17001, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f954, 17175, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f955, 17180, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7979,2 +8039,2 @@\n-  { 0x2f957, 17006, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f958, 17010, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f957, 17185, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f958, 17189, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -7982,32 +8042,32 @@\n-  { 0x2f95a, 17014, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95b, 17018, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95c, 17022, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95d, 17027, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95e, 17027, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f95f, 17032, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f960, 17036, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f961, 17040, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f962, 17045, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f963, 17049, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f964, 17053, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f965, 17057, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f966, 17062, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f967, 17066, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f968, 17070, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f969, 17074, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96a, 17078, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96b, 17082, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96c, 17087, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96d, 17091, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96e, 17095, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f96f, 17099, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f970, 17103, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f971, 17107, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f972, 17111, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f973, 17116, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f974, 17121, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f975, 17125, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f976, 17130, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f977, 17134, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f978, 17139, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f979, 17143, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95a, 17193, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95b, 17197, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95c, 17201, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95d, 17206, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95e, 17206, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f95f, 17211, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f960, 17215, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f961, 17219, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f962, 17224, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f963, 17228, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f964, 17232, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f965, 17236, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f966, 17241, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f967, 17245, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f968, 17249, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f969, 17253, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96a, 17257, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96b, 17261, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96c, 17266, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96d, 17270, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96e, 17274, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f96f, 17278, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f970, 17282, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f971, 17286, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f972, 17290, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f973, 17295, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f974, 17300, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f975, 17304, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f976, 17309, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f977, 17313, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f978, 17318, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f979, 17322, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8015,29 +8075,29 @@\n-  { 0x2f97b, 17147, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97c, 17152, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97d, 17157, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97e, 17161, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f97f, 17166, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f980, 17170, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f981, 17175, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f982, 17179, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f983, 17183, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f984, 17187, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f985, 17191, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f986, 17195, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f987, 17199, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f988, 17204, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f989, 17209, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98a, 17214, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98b, 16304, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98c, 17219, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98d, 17223, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98e, 17227, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f98f, 17231, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f990, 17235, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f991, 17239, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f992, 17243, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f993, 17247, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f994, 17251, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f995, 17255, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f996, 17259, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f997, 17263, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97b, 17326, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97c, 17331, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97d, 17336, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97e, 17340, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f97f, 17345, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f980, 17349, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f981, 17354, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f982, 17358, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f983, 17362, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f984, 17366, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f985, 17370, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f986, 17374, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f987, 17378, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f988, 17383, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f989, 17388, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98a, 17393, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98b, 16483, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98c, 17398, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98d, 17402, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98e, 17406, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f98f, 17410, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f990, 17414, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f991, 17418, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f992, 17422, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f993, 17426, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f994, 17430, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f995, 17434, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f996, 17438, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f997, 17442, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8045,6 +8105,6 @@\n-  { 0x2f999, 17268, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99a, 17272, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99b, 17276, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99c, 17280, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99d, 17284, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f99e, 17288, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f999, 17447, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99a, 17451, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99b, 17455, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99c, 17459, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99d, 17463, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f99e, 17467, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8052,20 +8112,20 @@\n-  { 0x2f9a0, 17292, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a1, 17296, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a2, 17300, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a3, 17304, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a4, 17308, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a5, 17313, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a6, 17318, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a7, 17323, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a8, 17327, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9a9, 17331, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9aa, 17335, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ab, 17339, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ac, 17344, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ad, 17348, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ae, 17353, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9af, 17357, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b0, 17361, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b1, 17366, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b2, 17371, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b3, 17375, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a0, 17471, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a1, 17475, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a2, 17479, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a3, 17483, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a4, 17487, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a5, 17492, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a6, 17497, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a7, 17502, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a8, 17506, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9a9, 17510, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9aa, 17514, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ab, 17518, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ac, 17523, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ad, 17527, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ae, 17532, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9af, 17536, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b0, 17540, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b1, 17545, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b2, 17550, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b3, 17554, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8073,6 +8133,6 @@\n-  { 0x2f9b5, 17379, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b6, 17383, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b7, 17387, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b8, 17391, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9b9, 17395, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ba, 17399, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b5, 17558, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b6, 17562, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b7, 17566, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b8, 17570, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9b9, 17574, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ba, 17578, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8080,8 +8140,8 @@\n-  { 0x2f9bc, 17403, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9bd, 17407, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9be, 17411, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9bf, 17415, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c0, 17419, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c1, 17423, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c2, 17427, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c3, 17431, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bc, 17582, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bd, 17586, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9be, 17590, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9bf, 17594, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c0, 17598, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c1, 17602, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c2, 17606, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c3, 17610, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8089,11 +8149,11 @@\n-  { 0x2f9c5, 17435, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c6, 17440, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c7, 17444, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c8, 17448, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9c9, 17452, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ca, 17456, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cb, 17460, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cc, 17465, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cd, 17470, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ce, 17474, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9cf, 17478, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c5, 17614, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c6, 17619, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c7, 17623, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c8, 17627, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9c9, 17631, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ca, 17635, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cb, 17639, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cc, 17644, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cd, 17649, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ce, 17653, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9cf, 17657, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8103,12 +8163,12 @@\n-  { 0x2f9d3, 17482, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d4, 17487, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d5, 17491, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d6, 17495, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d7, 17499, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d8, 17503, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9d9, 17508, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9da, 17513, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9db, 17517, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9dc, 17521, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9dd, 17525, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9de, 17530, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d3, 17661, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d4, 17666, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d5, 17670, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d6, 17674, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d7, 17678, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d8, 17682, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9d9, 17687, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9da, 17692, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9db, 17696, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9dc, 17700, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9dd, 17704, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9de, 17709, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8116,30 +8176,30 @@\n-  { 0x2f9e0, 17534, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e1, 17539, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e2, 17544, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e3, 17548, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e4, 17552, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e5, 17556, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e6, 17561, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e7, 17565, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e8, 17569, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9e9, 17573, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ea, 17577, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9eb, 17581, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ec, 17585, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ed, 17589, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ee, 17594, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9ef, 17598, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f0, 17602, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f1, 17606, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f2, 17611, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f3, 17615, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f4, 17619, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f5, 17623, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f6, 17627, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f7, 17632, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f8, 17637, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9f9, 17641, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fa, 17645, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fb, 17649, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fc, 17654, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2f9fd, 17658, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e0, 17713, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e1, 17718, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e2, 17723, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e3, 17727, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e4, 17731, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e5, 17735, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e6, 17740, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e7, 17744, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e8, 17748, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9e9, 17752, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ea, 17756, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9eb, 17760, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ec, 17764, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ed, 17768, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ee, 17773, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9ef, 17777, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f0, 17781, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f1, 17785, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f2, 17790, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f3, 17794, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f4, 17798, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f5, 17802, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f6, 17806, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f7, 17811, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f8, 17816, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9f9, 17820, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fa, 17824, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fb, 17828, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fc, 17833, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2f9fd, 17837, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8148,10 +8208,10 @@\n-  { 0x2fa00, 17663, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa01, 17667, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa02, 17672, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa03, 17676, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa04, 17680, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa05, 17684, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa06, 17688, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa07, 17692, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa08, 17696, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa09, 17700, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa00, 17842, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa01, 17846, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa02, 17851, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa03, 17855, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa04, 17859, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa05, 17863, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa06, 17867, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa07, 17871, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa08, 17875, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa09, 17879, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8159,10 +8219,10 @@\n-  { 0x2fa0b, 17705, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0c, 17709, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0d, 17713, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0e, 17717, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa0f, 17721, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa10, 17725, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa11, 17730, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa12, 17734, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa13, 17739, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa14, 17744, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0b, 17884, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0c, 17888, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0d, 17892, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0e, 17896, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa0f, 17900, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa10, 17904, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa11, 17909, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa12, 17913, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa13, 17918, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa14, 17923, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8170,1 +8230,1 @@\n-  { 0x2fa16, 17749, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa16, 17928, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8172,4 +8232,4 @@\n-  { 0x2fa18, 17753, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa19, 17757, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa1a, 17761, G_UNICODE_NOT_PRESENT_OFFSET },\n-  { 0x2fa1b, 17765, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa18, 17932, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa19, 17936, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa1a, 17940, G_UNICODE_NOT_PRESENT_OFFSET },\n+  { 0x2fa1b, 17944, G_UNICODE_NOT_PRESENT_OFFSET },\n@@ -8177,1 +8237,1 @@\n-  { 0x2fa1d, 17769, G_UNICODE_NOT_PRESENT_OFFSET }\n+  { 0x2fa1d, 17948, G_UNICODE_NOT_PRESENT_OFFSET }\n@@ -11212,623 +11272,677 @@\n-  \"\\xf0\\x91\\x82\\x99\\xf0\\x91\\x82\\xba\\0\" \/* offset 15007 *\/\n-  \"\\xf0\\x91\\x82\\x9b\\xf0\\x91\\x82\\xba\\0\" \/* offset 15016 *\/\n-  \"\\xf0\\x91\\x82\\xa5\\xf0\\x91\\x82\\xba\\0\" \/* offset 15025 *\/\n-  \"\\xf0\\x91\\x84\\xb1\\xf0\\x91\\x84\\xa7\\0\" \/* offset 15034 *\/\n-  \"\\xf0\\x91\\x84\\xb2\\xf0\\x91\\x84\\xa7\\0\" \/* offset 15043 *\/\n-  \"\\xf0\\x91\\x8d\\x87\\xf0\\x91\\x8c\\xbe\\0\" \/* offset 15052 *\/\n-  \"\\xf0\\x91\\x8d\\x87\\xf0\\x91\\x8d\\x97\\0\" \/* offset 15061 *\/\n-  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xba\\0\" \/* offset 15070 *\/\n-  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xb0\\0\" \/* offset 15079 *\/\n-  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xbd\\0\" \/* offset 15088 *\/\n-  \"\\xf0\\x91\\x96\\xb8\\xf0\\x91\\x96\\xaf\\0\" \/* offset 15097 *\/\n-  \"\\xf0\\x91\\x96\\xb9\\xf0\\x91\\x96\\xaf\\0\" \/* offset 15106 *\/\n-  \"\\xf0\\x91\\xa4\\xb5\\xf0\\x91\\xa4\\xb0\\0\" \/* offset 15115 *\/\n-  \"\\xf0\\x9d\\x85\\x97\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15124 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15133 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15142 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15155 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb0\\0\" \/* offset 15168 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb1\\0\" \/* offset 15181 *\/\n-  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb2\\0\" \/* offset 15194 *\/\n-  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15207 *\/\n-  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15216 *\/\n-  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15225 *\/\n-  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15238 *\/\n-  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15251 *\/\n-  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15264 *\/\n-  \"\\xc4\\xb1\\0\" \/* offset 15277 *\/\n-  \"\\xc8\\xb7\\0\" \/* offset 15280 *\/\n-  \"\\xce\\x91\\0\" \/* offset 15283 *\/\n-  \"\\xce\\x92\\0\" \/* offset 15286 *\/\n-  \"\\xce\\x94\\0\" \/* offset 15289 *\/\n-  \"\\xce\\x95\\0\" \/* offset 15292 *\/\n-  \"\\xce\\x96\\0\" \/* offset 15295 *\/\n-  \"\\xce\\x97\\0\" \/* offset 15298 *\/\n-  \"\\xce\\x99\\0\" \/* offset 15301 *\/\n-  \"\\xce\\x9a\\0\" \/* offset 15304 *\/\n-  \"\\xce\\x9b\\0\" \/* offset 15307 *\/\n-  \"\\xce\\x9c\\0\" \/* offset 15310 *\/\n-  \"\\xce\\x9d\\0\" \/* offset 15313 *\/\n-  \"\\xce\\x9e\\0\" \/* offset 15316 *\/\n-  \"\\xce\\x9f\\0\" \/* offset 15319 *\/\n-  \"\\xce\\xa1\\0\" \/* offset 15322 *\/\n-  \"\\xce\\xa4\\0\" \/* offset 15325 *\/\n-  \"\\xce\\xa6\\0\" \/* offset 15328 *\/\n-  \"\\xce\\xa7\\0\" \/* offset 15331 *\/\n-  \"\\xce\\xa8\\0\" \/* offset 15334 *\/\n-  \"\\xe2\\x88\\x87\\0\" \/* offset 15337 *\/\n-  \"\\xce\\xb1\\0\" \/* offset 15341 *\/\n-  \"\\xce\\xb6\\0\" \/* offset 15344 *\/\n-  \"\\xce\\xb7\\0\" \/* offset 15347 *\/\n-  \"\\xce\\xbb\\0\" \/* offset 15350 *\/\n-  \"\\xce\\xbd\\0\" \/* offset 15353 *\/\n-  \"\\xce\\xbe\\0\" \/* offset 15356 *\/\n-  \"\\xce\\xbf\\0\" \/* offset 15359 *\/\n-  \"\\xcf\\x83\\0\" \/* offset 15362 *\/\n-  \"\\xcf\\x84\\0\" \/* offset 15365 *\/\n-  \"\\xcf\\x85\\0\" \/* offset 15368 *\/\n-  \"\\xcf\\x88\\0\" \/* offset 15371 *\/\n-  \"\\xcf\\x89\\0\" \/* offset 15374 *\/\n-  \"\\xe2\\x88\\x82\\0\" \/* offset 15377 *\/\n-  \"\\xcf\\x9c\\0\" \/* offset 15381 *\/\n-  \"\\xcf\\x9d\\0\" \/* offset 15384 *\/\n-  \"\\xd9\\xae\\0\" \/* offset 15387 *\/\n-  \"\\xda\\xa1\\0\" \/* offset 15390 *\/\n-  \"\\xd9\\xaf\\0\" \/* offset 15393 *\/\n-  \"\\x30\\x2e\\0\" \/* offset 15396 *\/\n-  \"\\x30\\x2c\\0\" \/* offset 15399 *\/\n-  \"\\x31\\x2c\\0\" \/* offset 15402 *\/\n-  \"\\x32\\x2c\\0\" \/* offset 15405 *\/\n-  \"\\x33\\x2c\\0\" \/* offset 15408 *\/\n-  \"\\x34\\x2c\\0\" \/* offset 15411 *\/\n-  \"\\x35\\x2c\\0\" \/* offset 15414 *\/\n-  \"\\x36\\x2c\\0\" \/* offset 15417 *\/\n-  \"\\x37\\x2c\\0\" \/* offset 15420 *\/\n-  \"\\x38\\x2c\\0\" \/* offset 15423 *\/\n-  \"\\x39\\x2c\\0\" \/* offset 15426 *\/\n-  \"\\x28\\x41\\x29\\0\" \/* offset 15429 *\/\n-  \"\\x28\\x42\\x29\\0\" \/* offset 15433 *\/\n-  \"\\x28\\x43\\x29\\0\" \/* offset 15437 *\/\n-  \"\\x28\\x44\\x29\\0\" \/* offset 15441 *\/\n-  \"\\x28\\x45\\x29\\0\" \/* offset 15445 *\/\n-  \"\\x28\\x46\\x29\\0\" \/* offset 15449 *\/\n-  \"\\x28\\x47\\x29\\0\" \/* offset 15453 *\/\n-  \"\\x28\\x48\\x29\\0\" \/* offset 15457 *\/\n-  \"\\x28\\x49\\x29\\0\" \/* offset 15461 *\/\n-  \"\\x28\\x4a\\x29\\0\" \/* offset 15465 *\/\n-  \"\\x28\\x4b\\x29\\0\" \/* offset 15469 *\/\n-  \"\\x28\\x4c\\x29\\0\" \/* offset 15473 *\/\n-  \"\\x28\\x4d\\x29\\0\" \/* offset 15477 *\/\n-  \"\\x28\\x4e\\x29\\0\" \/* offset 15481 *\/\n-  \"\\x28\\x4f\\x29\\0\" \/* offset 15485 *\/\n-  \"\\x28\\x50\\x29\\0\" \/* offset 15489 *\/\n-  \"\\x28\\x51\\x29\\0\" \/* offset 15493 *\/\n-  \"\\x28\\x52\\x29\\0\" \/* offset 15497 *\/\n-  \"\\x28\\x53\\x29\\0\" \/* offset 15501 *\/\n-  \"\\x28\\x54\\x29\\0\" \/* offset 15505 *\/\n-  \"\\x28\\x55\\x29\\0\" \/* offset 15509 *\/\n-  \"\\x28\\x56\\x29\\0\" \/* offset 15513 *\/\n-  \"\\x28\\x57\\x29\\0\" \/* offset 15517 *\/\n-  \"\\x28\\x58\\x29\\0\" \/* offset 15521 *\/\n-  \"\\x28\\x59\\x29\\0\" \/* offset 15525 *\/\n-  \"\\x28\\x5a\\x29\\0\" \/* offset 15529 *\/\n-  \"\\xe3\\x80\\x94\\x53\\xe3\\x80\\x95\\0\" \/* offset 15533 *\/\n-  \"\\x43\\x44\\0\" \/* offset 15541 *\/\n-  \"\\x57\\x5a\\0\" \/* offset 15544 *\/\n-  \"\\x48\\x56\\0\" \/* offset 15547 *\/\n-  \"\\x53\\x44\\0\" \/* offset 15550 *\/\n-  \"\\x53\\x53\\0\" \/* offset 15553 *\/\n-  \"\\x50\\x50\\x56\\0\" \/* offset 15556 *\/\n-  \"\\x57\\x43\\0\" \/* offset 15560 *\/\n-  \"\\x4d\\x43\\0\" \/* offset 15563 *\/\n-  \"\\x4d\\x44\\0\" \/* offset 15566 *\/\n-  \"\\x4d\\x52\\0\" \/* offset 15569 *\/\n-  \"\\x44\\x4a\\0\" \/* offset 15572 *\/\n-  \"\\xe3\\x81\\xbb\\xe3\\x81\\x8b\\0\" \/* offset 15575 *\/\n-  \"\\xe3\\x82\\xb3\\xe3\\x82\\xb3\\0\" \/* offset 15582 *\/\n-  \"\\xe5\\xad\\x97\\0\" \/* offset 15589 *\/\n-  \"\\xe5\\x8f\\x8c\\0\" \/* offset 15593 *\/\n-  \"\\xe5\\xa4\\x9a\\0\" \/* offset 15597 *\/\n-  \"\\xe8\\xa7\\xa3\\0\" \/* offset 15601 *\/\n-  \"\\xe4\\xba\\xa4\\0\" \/* offset 15605 *\/\n-  \"\\xe6\\x98\\xa0\\0\" \/* offset 15609 *\/\n-  \"\\xe7\\x84\\xa1\\0\" \/* offset 15613 *\/\n-  \"\\xe5\\x89\\x8d\\0\" \/* offset 15617 *\/\n-  \"\\xe5\\xbe\\x8c\\0\" \/* offset 15621 *\/\n-  \"\\xe5\\x86\\x8d\\0\" \/* offset 15625 *\/\n-  \"\\xe6\\x96\\xb0\\0\" \/* offset 15629 *\/\n-  \"\\xe5\\x88\\x9d\\0\" \/* offset 15633 *\/\n-  \"\\xe7\\xb5\\x82\\0\" \/* offset 15637 *\/\n-  \"\\xe8\\xb2\\xa9\\0\" \/* offset 15641 *\/\n-  \"\\xe5\\xa3\\xb0\\0\" \/* offset 15645 *\/\n-  \"\\xe5\\x90\\xb9\\0\" \/* offset 15649 *\/\n-  \"\\xe6\\xbc\\x94\\0\" \/* offset 15653 *\/\n-  \"\\xe6\\x8a\\x95\\0\" \/* offset 15657 *\/\n-  \"\\xe6\\x8d\\x95\\0\" \/* offset 15661 *\/\n-  \"\\xe9\\x81\\x8a\\0\" \/* offset 15665 *\/\n-  \"\\xe6\\x8c\\x87\\0\" \/* offset 15669 *\/\n-  \"\\xe6\\x89\\x93\\0\" \/* offset 15673 *\/\n-  \"\\xe7\\xa6\\x81\\0\" \/* offset 15677 *\/\n-  \"\\xe7\\xa9\\xba\\0\" \/* offset 15681 *\/\n-  \"\\xe5\\x90\\x88\\0\" \/* offset 15685 *\/\n-  \"\\xe6\\xba\\x80\\0\" \/* offset 15689 *\/\n-  \"\\xe7\\x94\\xb3\\0\" \/* offset 15693 *\/\n-  \"\\xe5\\x89\\xb2\\0\" \/* offset 15697 *\/\n-  \"\\xe5\\x96\\xb6\\0\" \/* offset 15701 *\/\n-  \"\\xe9\\x85\\x8d\\0\" \/* offset 15705 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x9c\\xac\\xe3\\x80\\x95\\0\" \/* offset 15709 *\/\n-  \"\\xe3\\x80\\x94\\xe4\\xb8\\x89\\xe3\\x80\\x95\\0\" \/* offset 15719 *\/\n-  \"\\xe3\\x80\\x94\\xe4\\xba\\x8c\\xe3\\x80\\x95\\0\" \/* offset 15729 *\/\n-  \"\\xe3\\x80\\x94\\xe5\\xae\\x89\\xe3\\x80\\x95\\0\" \/* offset 15739 *\/\n-  \"\\xe3\\x80\\x94\\xe7\\x82\\xb9\\xe3\\x80\\x95\\0\" \/* offset 15749 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x89\\x93\\xe3\\x80\\x95\\0\" \/* offset 15759 *\/\n-  \"\\xe3\\x80\\x94\\xe7\\x9b\\x97\\xe3\\x80\\x95\\0\" \/* offset 15769 *\/\n-  \"\\xe3\\x80\\x94\\xe5\\x8b\\x9d\\xe3\\x80\\x95\\0\" \/* offset 15779 *\/\n-  \"\\xe3\\x80\\x94\\xe6\\x95\\x97\\xe3\\x80\\x95\\0\" \/* offset 15789 *\/\n-  \"\\xe5\\xbe\\x97\\0\" \/* offset 15799 *\/\n-  \"\\xe5\\x8f\\xaf\\0\" \/* offset 15803 *\/\n-  \"\\xe4\\xb8\\xbd\\0\" \/* offset 15807 *\/\n-  \"\\xe4\\xb8\\xb8\\0\" \/* offset 15811 *\/\n-  \"\\xe4\\xb9\\x81\\0\" \/* offset 15815 *\/\n-  \"\\xf0\\xa0\\x84\\xa2\\0\" \/* offset 15819 *\/\n-  \"\\xe4\\xbd\\xa0\\0\" \/* offset 15824 *\/\n-  \"\\xe4\\xbe\\xbb\\0\" \/* offset 15828 *\/\n-  \"\\xe5\\x80\\x82\\0\" \/* offset 15832 *\/\n-  \"\\xe5\\x81\\xba\\0\" \/* offset 15836 *\/\n-  \"\\xe5\\x82\\x99\\0\" \/* offset 15840 *\/\n-  \"\\xe5\\x83\\x8f\\0\" \/* offset 15844 *\/\n-  \"\\xe3\\x92\\x9e\\0\" \/* offset 15848 *\/\n-  \"\\xf0\\xa0\\x98\\xba\\0\" \/* offset 15852 *\/\n-  \"\\xe5\\x85\\x94\\0\" \/* offset 15857 *\/\n-  \"\\xe5\\x85\\xa4\\0\" \/* offset 15861 *\/\n-  \"\\xe5\\x85\\xb7\\0\" \/* offset 15865 *\/\n-  \"\\xf0\\xa0\\x94\\x9c\\0\" \/* offset 15869 *\/\n-  \"\\xe3\\x92\\xb9\\0\" \/* offset 15874 *\/\n-  \"\\xe5\\x85\\xa7\\0\" \/* offset 15878 *\/\n-  \"\\xf0\\xa0\\x95\\x8b\\0\" \/* offset 15882 *\/\n-  \"\\xe5\\x86\\x97\\0\" \/* offset 15887 *\/\n-  \"\\xe5\\x86\\xa4\\0\" \/* offset 15891 *\/\n-  \"\\xe4\\xbb\\x8c\\0\" \/* offset 15895 *\/\n-  \"\\xe5\\x86\\xac\\0\" \/* offset 15899 *\/\n-  \"\\xf0\\xa9\\x87\\x9f\\0\" \/* offset 15903 *\/\n-  \"\\xe5\\x88\\x83\\0\" \/* offset 15908 *\/\n-  \"\\xe3\\x93\\x9f\\0\" \/* offset 15912 *\/\n-  \"\\xe5\\x88\\xbb\\0\" \/* offset 15916 *\/\n-  \"\\xe5\\x89\\x86\\0\" \/* offset 15920 *\/\n-  \"\\xe5\\x89\\xb7\\0\" \/* offset 15924 *\/\n-  \"\\xe3\\x94\\x95\\0\" \/* offset 15928 *\/\n-  \"\\xe5\\x8c\\x85\\0\" \/* offset 15932 *\/\n-  \"\\xe5\\x8c\\x86\\0\" \/* offset 15936 *\/\n-  \"\\xe5\\x8d\\x89\\0\" \/* offset 15940 *\/\n-  \"\\xe5\\x8d\\x9a\\0\" \/* offset 15944 *\/\n-  \"\\xe5\\x8d\\xb3\\0\" \/* offset 15948 *\/\n-  \"\\xe5\\x8d\\xbd\\0\" \/* offset 15952 *\/\n-  \"\\xe5\\x8d\\xbf\\0\" \/* offset 15956 *\/\n-  \"\\xf0\\xa0\\xa8\\xac\\0\" \/* offset 15960 *\/\n-  \"\\xe7\\x81\\xb0\\0\" \/* offset 15965 *\/\n-  \"\\xe5\\x8f\\x8a\\0\" \/* offset 15969 *\/\n-  \"\\xe5\\x8f\\x9f\\0\" \/* offset 15973 *\/\n-  \"\\xf0\\xa0\\xad\\xa3\\0\" \/* offset 15977 *\/\n-  \"\\xe5\\x8f\\xab\\0\" \/* offset 15982 *\/\n-  \"\\xe5\\x8f\\xb1\\0\" \/* offset 15986 *\/\n-  \"\\xe5\\x90\\x86\\0\" \/* offset 15990 *\/\n-  \"\\xe5\\x92\\x9e\\0\" \/* offset 15994 *\/\n-  \"\\xe5\\x90\\xb8\\0\" \/* offset 15998 *\/\n-  \"\\xe5\\x91\\x88\\0\" \/* offset 16002 *\/\n-  \"\\xe5\\x91\\xa8\\0\" \/* offset 16006 *\/\n-  \"\\xe5\\x92\\xa2\\0\" \/* offset 16010 *\/\n-  \"\\xe5\\x93\\xb6\\0\" \/* offset 16014 *\/\n-  \"\\xe5\\x94\\x90\\0\" \/* offset 16018 *\/\n-  \"\\xe5\\x95\\x93\\0\" \/* offset 16022 *\/\n-  \"\\xe5\\x95\\xa3\\0\" \/* offset 16026 *\/\n-  \"\\xe5\\x96\\x84\\0\" \/* offset 16030 *\/\n-  \"\\xe5\\x96\\xab\\0\" \/* offset 16034 *\/\n-  \"\\xe5\\x96\\xb3\\0\" \/* offset 16038 *\/\n-  \"\\xe5\\x97\\x82\\0\" \/* offset 16042 *\/\n-  \"\\xe5\\x9c\\x96\\0\" \/* offset 16046 *\/\n-  \"\\xe5\\x9c\\x97\\0\" \/* offset 16050 *\/\n-  \"\\xe5\\x99\\x91\\0\" \/* offset 16054 *\/\n-  \"\\xe5\\x99\\xb4\\0\" \/* offset 16058 *\/\n-  \"\\xe5\\xa3\\xae\\0\" \/* offset 16062 *\/\n-  \"\\xe5\\x9f\\x8e\\0\" \/* offset 16066 *\/\n-  \"\\xe5\\x9f\\xb4\\0\" \/* offset 16070 *\/\n-  \"\\xe5\\xa0\\x8d\\0\" \/* offset 16074 *\/\n-  \"\\xe5\\x9e\\x8b\\0\" \/* offset 16078 *\/\n-  \"\\xe5\\xa0\\xb2\\0\" \/* offset 16082 *\/\n-  \"\\xe5\\xa0\\xb1\\0\" \/* offset 16086 *\/\n-  \"\\xe5\\xa2\\xac\\0\" \/* offset 16090 *\/\n-  \"\\xf0\\xa1\\x93\\xa4\\0\" \/* offset 16094 *\/\n-  \"\\xe5\\xa3\\xb2\\0\" \/* offset 16099 *\/\n-  \"\\xe5\\xa3\\xb7\\0\" \/* offset 16103 *\/\n-  \"\\xe5\\xa4\\x86\\0\" \/* offset 16107 *\/\n-  \"\\xe5\\xa4\\xa2\\0\" \/* offset 16111 *\/\n-  \"\\xe5\\xa5\\xa2\\0\" \/* offset 16115 *\/\n-  \"\\xf0\\xa1\\x9a\\xa8\\0\" \/* offset 16119 *\/\n-  \"\\xf0\\xa1\\x9b\\xaa\\0\" \/* offset 16124 *\/\n-  \"\\xe5\\xa7\\xac\\0\" \/* offset 16129 *\/\n-  \"\\xe5\\xa8\\x9b\\0\" \/* offset 16133 *\/\n-  \"\\xe5\\xa8\\xa7\\0\" \/* offset 16137 *\/\n-  \"\\xe5\\xa7\\x98\\0\" \/* offset 16141 *\/\n-  \"\\xe5\\xa9\\xa6\\0\" \/* offset 16145 *\/\n-  \"\\xe3\\x9b\\xae\\0\" \/* offset 16149 *\/\n-  \"\\xe3\\x9b\\xbc\\0\" \/* offset 16153 *\/\n-  \"\\xe5\\xac\\x88\\0\" \/* offset 16157 *\/\n-  \"\\xe5\\xac\\xbe\\0\" \/* offset 16161 *\/\n-  \"\\xf0\\xa1\\xa7\\x88\\0\" \/* offset 16165 *\/\n-  \"\\xe5\\xaf\\x83\\0\" \/* offset 16170 *\/\n-  \"\\xe5\\xaf\\x98\\0\" \/* offset 16174 *\/\n-  \"\\xe5\\xaf\\xb3\\0\" \/* offset 16178 *\/\n-  \"\\xf0\\xa1\\xac\\x98\\0\" \/* offset 16182 *\/\n-  \"\\xe5\\xaf\\xbf\\0\" \/* offset 16187 *\/\n-  \"\\xe5\\xb0\\x86\\0\" \/* offset 16191 *\/\n-  \"\\xe5\\xbd\\x93\\0\" \/* offset 16195 *\/\n-  \"\\xe3\\x9e\\x81\\0\" \/* offset 16199 *\/\n-  \"\\xe5\\xb1\\xa0\\0\" \/* offset 16203 *\/\n-  \"\\xe5\\xb3\\x80\\0\" \/* offset 16207 *\/\n-  \"\\xe5\\xb2\\x8d\\0\" \/* offset 16211 *\/\n-  \"\\xf0\\xa1\\xb7\\xa4\\0\" \/* offset 16215 *\/\n-  \"\\xe5\\xb5\\x83\\0\" \/* offset 16220 *\/\n-  \"\\xf0\\xa1\\xb7\\xa6\\0\" \/* offset 16224 *\/\n-  \"\\xe5\\xb5\\xae\\0\" \/* offset 16229 *\/\n-  \"\\xe5\\xb5\\xab\\0\" \/* offset 16233 *\/\n-  \"\\xe5\\xb5\\xbc\\0\" \/* offset 16237 *\/\n-  \"\\xe5\\xb7\\xa1\\0\" \/* offset 16241 *\/\n-  \"\\xe5\\xb7\\xa2\\0\" \/* offset 16245 *\/\n-  \"\\xe3\\xa0\\xaf\\0\" \/* offset 16249 *\/\n-  \"\\xe5\\xb7\\xbd\\0\" \/* offset 16253 *\/\n-  \"\\xe5\\xb8\\xa8\\0\" \/* offset 16257 *\/\n-  \"\\xe5\\xb8\\xbd\\0\" \/* offset 16261 *\/\n-  \"\\xe5\\xb9\\xa9\\0\" \/* offset 16265 *\/\n-  \"\\xe3\\xa1\\xa2\\0\" \/* offset 16269 *\/\n-  \"\\xf0\\xa2\\x86\\x83\\0\" \/* offset 16273 *\/\n-  \"\\xe3\\xa1\\xbc\\0\" \/* offset 16278 *\/\n-  \"\\xe5\\xba\\xb0\\0\" \/* offset 16282 *\/\n-  \"\\xe5\\xba\\xb3\\0\" \/* offset 16286 *\/\n-  \"\\xe5\\xba\\xb6\\0\" \/* offset 16290 *\/\n-  \"\\xf0\\xaa\\x8e\\x92\\0\" \/* offset 16294 *\/\n-  \"\\xf0\\xa2\\x8c\\xb1\\0\" \/* offset 16299 *\/\n-  \"\\xe8\\x88\\x81\\0\" \/* offset 16304 *\/\n-  \"\\xe5\\xbc\\xa2\\0\" \/* offset 16308 *\/\n-  \"\\xe3\\xa3\\x87\\0\" \/* offset 16312 *\/\n-  \"\\xf0\\xa3\\x8a\\xb8\\0\" \/* offset 16316 *\/\n-  \"\\xf0\\xa6\\x87\\x9a\\0\" \/* offset 16321 *\/\n-  \"\\xe5\\xbd\\xa2\\0\" \/* offset 16326 *\/\n-  \"\\xe5\\xbd\\xab\\0\" \/* offset 16330 *\/\n-  \"\\xe3\\xa3\\xa3\\0\" \/* offset 16334 *\/\n-  \"\\xe5\\xbe\\x9a\\0\" \/* offset 16338 *\/\n-  \"\\xe5\\xbf\\x8d\\0\" \/* offset 16342 *\/\n-  \"\\xe5\\xbf\\x97\\0\" \/* offset 16346 *\/\n-  \"\\xe5\\xbf\\xb9\\0\" \/* offset 16350 *\/\n-  \"\\xe6\\x82\\x81\\0\" \/* offset 16354 *\/\n-  \"\\xe3\\xa4\\xba\\0\" \/* offset 16358 *\/\n-  \"\\xe3\\xa4\\x9c\\0\" \/* offset 16362 *\/\n-  \"\\xf0\\xa2\\x9b\\x94\\0\" \/* offset 16366 *\/\n-  \"\\xe6\\x83\\x87\\0\" \/* offset 16371 *\/\n-  \"\\xe6\\x85\\x88\\0\" \/* offset 16375 *\/\n-  \"\\xe6\\x85\\x8c\\0\" \/* offset 16379 *\/\n-  \"\\xe6\\x85\\xba\\0\" \/* offset 16383 *\/\n-  \"\\xe6\\x86\\xb2\\0\" \/* offset 16387 *\/\n-  \"\\xe6\\x86\\xa4\\0\" \/* offset 16391 *\/\n-  \"\\xe6\\x86\\xaf\\0\" \/* offset 16395 *\/\n-  \"\\xe6\\x87\\x9e\\0\" \/* offset 16399 *\/\n-  \"\\xe6\\x88\\x90\\0\" \/* offset 16403 *\/\n-  \"\\xe6\\x88\\x9b\\0\" \/* offset 16407 *\/\n-  \"\\xe6\\x89\\x9d\\0\" \/* offset 16411 *\/\n-  \"\\xe6\\x8a\\xb1\\0\" \/* offset 16415 *\/\n-  \"\\xe6\\x8b\\x94\\0\" \/* offset 16419 *\/\n-  \"\\xe6\\x8d\\x90\\0\" \/* offset 16423 *\/\n-  \"\\xf0\\xa2\\xac\\x8c\\0\" \/* offset 16427 *\/\n-  \"\\xe6\\x8c\\xbd\\0\" \/* offset 16432 *\/\n-  \"\\xe6\\x8b\\xbc\\0\" \/* offset 16436 *\/\n-  \"\\xe6\\x8d\\xa8\\0\" \/* offset 16440 *\/\n-  \"\\xe6\\x8e\\x83\\0\" \/* offset 16444 *\/\n-  \"\\xe6\\x8f\\xa4\\0\" \/* offset 16448 *\/\n-  \"\\xf0\\xa2\\xaf\\xb1\\0\" \/* offset 16452 *\/\n-  \"\\xe6\\x90\\xa2\\0\" \/* offset 16457 *\/\n-  \"\\xe6\\x8f\\x85\\0\" \/* offset 16461 *\/\n-  \"\\xe6\\x8e\\xa9\\0\" \/* offset 16465 *\/\n-  \"\\xe3\\xa8\\xae\\0\" \/* offset 16469 *\/\n-  \"\\xe6\\x91\\xa9\\0\" \/* offset 16473 *\/\n-  \"\\xe6\\x91\\xbe\\0\" \/* offset 16477 *\/\n-  \"\\xe6\\x92\\x9d\\0\" \/* offset 16481 *\/\n-  \"\\xe6\\x91\\xb7\\0\" \/* offset 16485 *\/\n-  \"\\xe3\\xa9\\xac\\0\" \/* offset 16489 *\/\n-  \"\\xe6\\x95\\xac\\0\" \/* offset 16493 *\/\n-  \"\\xf0\\xa3\\x80\\x8a\\0\" \/* offset 16497 *\/\n-  \"\\xe6\\x97\\xa3\\0\" \/* offset 16502 *\/\n-  \"\\xe6\\x9b\\xb8\\0\" \/* offset 16506 *\/\n-  \"\\xe6\\x99\\x89\\0\" \/* offset 16510 *\/\n-  \"\\xe3\\xac\\x99\\0\" \/* offset 16514 *\/\n-  \"\\xe3\\xac\\x88\\0\" \/* offset 16518 *\/\n-  \"\\xe3\\xab\\xa4\\0\" \/* offset 16522 *\/\n-  \"\\xe5\\x86\\x92\\0\" \/* offset 16526 *\/\n-  \"\\xe5\\x86\\x95\\0\" \/* offset 16530 *\/\n-  \"\\xe6\\x9c\\x80\\0\" \/* offset 16534 *\/\n-  \"\\xe6\\x9a\\x9c\\0\" \/* offset 16538 *\/\n-  \"\\xe8\\x82\\xad\\0\" \/* offset 16542 *\/\n-  \"\\xe4\\x8f\\x99\\0\" \/* offset 16546 *\/\n-  \"\\xe6\\x9c\\xa1\\0\" \/* offset 16550 *\/\n-  \"\\xe6\\x9d\\x9e\\0\" \/* offset 16554 *\/\n-  \"\\xe6\\x9d\\x93\\0\" \/* offset 16558 *\/\n-  \"\\xf0\\xa3\\x8f\\x83\\0\" \/* offset 16562 *\/\n-  \"\\xe3\\xad\\x89\\0\" \/* offset 16567 *\/\n-  \"\\xe6\\x9f\\xba\\0\" \/* offset 16571 *\/\n-  \"\\xe6\\x9e\\x85\\0\" \/* offset 16575 *\/\n-  \"\\xe6\\xa1\\x92\\0\" \/* offset 16579 *\/\n-  \"\\xf0\\xa3\\x91\\xad\\0\" \/* offset 16583 *\/\n-  \"\\xe6\\xa2\\x8e\\0\" \/* offset 16588 *\/\n-  \"\\xe6\\xa0\\x9f\\0\" \/* offset 16592 *\/\n-  \"\\xe6\\xa4\\x94\\0\" \/* offset 16596 *\/\n-  \"\\xe6\\xa5\\x82\\0\" \/* offset 16600 *\/\n-  \"\\xe6\\xa6\\xa3\\0\" \/* offset 16604 *\/\n-  \"\\xe6\\xa7\\xaa\\0\" \/* offset 16608 *\/\n-  \"\\xe6\\xaa\\xa8\\0\" \/* offset 16612 *\/\n-  \"\\xf0\\xa3\\x9a\\xa3\\0\" \/* offset 16616 *\/\n-  \"\\xe6\\xab\\x9b\\0\" \/* offset 16621 *\/\n-  \"\\xe3\\xb0\\x98\\0\" \/* offset 16625 *\/\n-  \"\\xe6\\xac\\xa1\\0\" \/* offset 16629 *\/\n-  \"\\xf0\\xa3\\xa2\\xa7\\0\" \/* offset 16633 *\/\n-  \"\\xe6\\xad\\x94\\0\" \/* offset 16638 *\/\n-  \"\\xe3\\xb1\\x8e\\0\" \/* offset 16642 *\/\n-  \"\\xe6\\xad\\xb2\\0\" \/* offset 16646 *\/\n-  \"\\xe6\\xae\\x9f\\0\" \/* offset 16650 *\/\n-  \"\\xe6\\xae\\xbb\\0\" \/* offset 16654 *\/\n-  \"\\xf0\\xa3\\xaa\\x8d\\0\" \/* offset 16658 *\/\n-  \"\\xf0\\xa1\\xb4\\x8b\\0\" \/* offset 16663 *\/\n-  \"\\xf0\\xa3\\xab\\xba\\0\" \/* offset 16668 *\/\n-  \"\\xe6\\xb1\\x8e\\0\" \/* offset 16673 *\/\n-  \"\\xf0\\xa3\\xb2\\xbc\\0\" \/* offset 16677 *\/\n-  \"\\xe6\\xb2\\xbf\\0\" \/* offset 16682 *\/\n-  \"\\xe6\\xb3\\x8d\\0\" \/* offset 16686 *\/\n-  \"\\xe6\\xb1\\xa7\\0\" \/* offset 16690 *\/\n-  \"\\xe6\\xb4\\x96\\0\" \/* offset 16694 *\/\n-  \"\\xe6\\xb4\\xbe\\0\" \/* offset 16698 *\/\n-  \"\\xe6\\xb5\\xa9\\0\" \/* offset 16702 *\/\n-  \"\\xe6\\xb5\\xb8\\0\" \/* offset 16706 *\/\n-  \"\\xe6\\xb6\\x85\\0\" \/* offset 16710 *\/\n-  \"\\xf0\\xa3\\xb4\\x9e\\0\" \/* offset 16714 *\/\n-  \"\\xe6\\xb4\\xb4\\0\" \/* offset 16719 *\/\n-  \"\\xe6\\xb8\\xaf\\0\" \/* offset 16723 *\/\n-  \"\\xe6\\xb9\\xae\\0\" \/* offset 16727 *\/\n-  \"\\xe3\\xb4\\xb3\\0\" \/* offset 16731 *\/\n-  \"\\xe6\\xbb\\x87\\0\" \/* offset 16735 *\/\n-  \"\\xf0\\xa3\\xbb\\x91\\0\" \/* offset 16739 *\/\n-  \"\\xe6\\xb7\\xb9\\0\" \/* offset 16744 *\/\n-  \"\\xe6\\xbd\\xae\\0\" \/* offset 16748 *\/\n-  \"\\xf0\\xa3\\xbd\\x9e\\0\" \/* offset 16752 *\/\n-  \"\\xf0\\xa3\\xbe\\x8e\\0\" \/* offset 16757 *\/\n-  \"\\xe6\\xbf\\x86\\0\" \/* offset 16762 *\/\n-  \"\\xe7\\x80\\xb9\\0\" \/* offset 16766 *\/\n-  \"\\xe7\\x80\\x9b\\0\" \/* offset 16770 *\/\n-  \"\\xe3\\xb6\\x96\\0\" \/* offset 16774 *\/\n-  \"\\xe7\\x81\\x8a\\0\" \/* offset 16778 *\/\n-  \"\\xe7\\x81\\xbd\\0\" \/* offset 16782 *\/\n-  \"\\xe7\\x81\\xb7\\0\" \/* offset 16786 *\/\n-  \"\\xe7\\x82\\xad\\0\" \/* offset 16790 *\/\n-  \"\\xf0\\xa0\\x94\\xa5\\0\" \/* offset 16794 *\/\n-  \"\\xe7\\x85\\x85\\0\" \/* offset 16799 *\/\n-  \"\\xf0\\xa4\\x89\\xa3\\0\" \/* offset 16803 *\/\n-  \"\\xe7\\x86\\x9c\\0\" \/* offset 16808 *\/\n-  \"\\xf0\\xa4\\x8e\\xab\\0\" \/* offset 16812 *\/\n-  \"\\xe7\\x88\\xa8\\0\" \/* offset 16817 *\/\n-  \"\\xe7\\x89\\x90\\0\" \/* offset 16821 *\/\n-  \"\\xf0\\xa4\\x98\\x88\\0\" \/* offset 16825 *\/\n-  \"\\xe7\\x8a\\x80\\0\" \/* offset 16830 *\/\n-  \"\\xe7\\x8a\\x95\\0\" \/* offset 16834 *\/\n-  \"\\xf0\\xa4\\x9c\\xb5\\0\" \/* offset 16838 *\/\n-  \"\\xf0\\xa4\\xa0\\x94\\0\" \/* offset 16843 *\/\n-  \"\\xe7\\x8d\\xba\\0\" \/* offset 16848 *\/\n-  \"\\xe7\\x8e\\x8b\\0\" \/* offset 16852 *\/\n-  \"\\xe3\\xba\\xac\\0\" \/* offset 16856 *\/\n-  \"\\xe7\\x8e\\xa5\\0\" \/* offset 16860 *\/\n-  \"\\xe3\\xba\\xb8\\0\" \/* offset 16864 *\/\n-  \"\\xe7\\x91\\x87\\0\" \/* offset 16868 *\/\n-  \"\\xe7\\x91\\x9c\\0\" \/* offset 16872 *\/\n-  \"\\xe7\\x92\\x85\\0\" \/* offset 16876 *\/\n-  \"\\xe7\\x93\\x8a\\0\" \/* offset 16880 *\/\n-  \"\\xe3\\xbc\\x9b\\0\" \/* offset 16884 *\/\n-  \"\\xe7\\x94\\xa4\\0\" \/* offset 16888 *\/\n-  \"\\xf0\\xa4\\xb0\\xb6\\0\" \/* offset 16892 *\/\n-  \"\\xe7\\x94\\xbe\\0\" \/* offset 16897 *\/\n-  \"\\xf0\\xa4\\xb2\\x92\\0\" \/* offset 16901 *\/\n-  \"\\xf0\\xa2\\x86\\x9f\\0\" \/* offset 16906 *\/\n-  \"\\xe7\\x98\\x90\\0\" \/* offset 16911 *\/\n-  \"\\xf0\\xa4\\xbe\\xa1\\0\" \/* offset 16915 *\/\n-  \"\\xf0\\xa4\\xbe\\xb8\\0\" \/* offset 16920 *\/\n-  \"\\xf0\\xa5\\x81\\x84\\0\" \/* offset 16925 *\/\n-  \"\\xe3\\xbf\\xbc\\0\" \/* offset 16930 *\/\n-  \"\\xe4\\x80\\x88\\0\" \/* offset 16934 *\/\n-  \"\\xf0\\xa5\\x83\\xb3\\0\" \/* offset 16938 *\/\n-  \"\\xf0\\xa5\\x83\\xb2\\0\" \/* offset 16943 *\/\n-  \"\\xf0\\xa5\\x84\\x99\\0\" \/* offset 16948 *\/\n-  \"\\xf0\\xa5\\x84\\xb3\\0\" \/* offset 16953 *\/\n-  \"\\xe7\\x9c\\x9e\\0\" \/* offset 16958 *\/\n-  \"\\xe7\\x9c\\x9f\\0\" \/* offset 16962 *\/\n-  \"\\xe7\\x9e\\x8b\\0\" \/* offset 16966 *\/\n-  \"\\xe4\\x81\\x86\\0\" \/* offset 16970 *\/\n-  \"\\xe4\\x82\\x96\\0\" \/* offset 16974 *\/\n-  \"\\xf0\\xa5\\x90\\x9d\\0\" \/* offset 16978 *\/\n-  \"\\xe7\\xa1\\x8e\\0\" \/* offset 16983 *\/\n-  \"\\xe4\\x83\\xa3\\0\" \/* offset 16987 *\/\n-  \"\\xf0\\xa5\\x98\\xa6\\0\" \/* offset 16991 *\/\n-  \"\\xf0\\xa5\\x9a\\x9a\\0\" \/* offset 16996 *\/\n-  \"\\xf0\\xa5\\x9b\\x85\\0\" \/* offset 17001 *\/\n-  \"\\xe7\\xa7\\xab\\0\" \/* offset 17006 *\/\n-  \"\\xe4\\x84\\xaf\\0\" \/* offset 17010 *\/\n-  \"\\xe7\\xa9\\x8a\\0\" \/* offset 17014 *\/\n-  \"\\xe7\\xa9\\x8f\\0\" \/* offset 17018 *\/\n-  \"\\xf0\\xa5\\xa5\\xbc\\0\" \/* offset 17022 *\/\n-  \"\\xf0\\xa5\\xaa\\xa7\\0\" \/* offset 17027 *\/\n-  \"\\xe7\\xab\\xae\\0\" \/* offset 17032 *\/\n-  \"\\xe4\\x88\\x82\\0\" \/* offset 17036 *\/\n-  \"\\xf0\\xa5\\xae\\xab\\0\" \/* offset 17040 *\/\n-  \"\\xe7\\xaf\\x86\\0\" \/* offset 17045 *\/\n-  \"\\xe7\\xaf\\x89\\0\" \/* offset 17049 *\/\n-  \"\\xe4\\x88\\xa7\\0\" \/* offset 17053 *\/\n-  \"\\xf0\\xa5\\xb2\\x80\\0\" \/* offset 17057 *\/\n-  \"\\xe7\\xb3\\x92\\0\" \/* offset 17062 *\/\n-  \"\\xe4\\x8a\\xa0\\0\" \/* offset 17066 *\/\n-  \"\\xe7\\xb3\\xa8\\0\" \/* offset 17070 *\/\n-  \"\\xe7\\xb3\\xa3\\0\" \/* offset 17074 *\/\n-  \"\\xe7\\xb4\\x80\\0\" \/* offset 17078 *\/\n-  \"\\xf0\\xa5\\xbe\\x86\\0\" \/* offset 17082 *\/\n-  \"\\xe7\\xb5\\xa3\\0\" \/* offset 17087 *\/\n-  \"\\xe4\\x8c\\x81\\0\" \/* offset 17091 *\/\n-  \"\\xe7\\xb7\\x87\\0\" \/* offset 17095 *\/\n-  \"\\xe7\\xb8\\x82\\0\" \/* offset 17099 *\/\n-  \"\\xe7\\xb9\\x85\\0\" \/* offset 17103 *\/\n-  \"\\xe4\\x8c\\xb4\\0\" \/* offset 17107 *\/\n-  \"\\xf0\\xa6\\x88\\xa8\\0\" \/* offset 17111 *\/\n-  \"\\xf0\\xa6\\x89\\x87\\0\" \/* offset 17116 *\/\n-  \"\\xe4\\x8d\\x99\\0\" \/* offset 17121 *\/\n-  \"\\xf0\\xa6\\x8b\\x99\\0\" \/* offset 17125 *\/\n-  \"\\xe7\\xbd\\xba\\0\" \/* offset 17130 *\/\n-  \"\\xf0\\xa6\\x8c\\xbe\\0\" \/* offset 17134 *\/\n-  \"\\xe7\\xbe\\x95\\0\" \/* offset 17139 *\/\n-  \"\\xe7\\xbf\\xba\\0\" \/* offset 17143 *\/\n-  \"\\xf0\\xa6\\x93\\x9a\\0\" \/* offset 17147 *\/\n-  \"\\xf0\\xa6\\x94\\xa3\\0\" \/* offset 17152 *\/\n-  \"\\xe8\\x81\\xa0\\0\" \/* offset 17157 *\/\n-  \"\\xf0\\xa6\\x96\\xa8\\0\" \/* offset 17161 *\/\n-  \"\\xe8\\x81\\xb0\\0\" \/* offset 17166 *\/\n-  \"\\xf0\\xa3\\x8d\\x9f\\0\" \/* offset 17170 *\/\n-  \"\\xe4\\x8f\\x95\\0\" \/* offset 17175 *\/\n-  \"\\xe8\\x82\\xb2\\0\" \/* offset 17179 *\/\n-  \"\\xe8\\x84\\x83\\0\" \/* offset 17183 *\/\n-  \"\\xe4\\x90\\x8b\\0\" \/* offset 17187 *\/\n-  \"\\xe8\\x84\\xbe\\0\" \/* offset 17191 *\/\n-  \"\\xe5\\xaa\\xb5\\0\" \/* offset 17195 *\/\n-  \"\\xf0\\xa6\\x9e\\xa7\\0\" \/* offset 17199 *\/\n-  \"\\xf0\\xa6\\x9e\\xb5\\0\" \/* offset 17204 *\/\n-  \"\\xf0\\xa3\\x8e\\x93\\0\" \/* offset 17209 *\/\n-  \"\\xf0\\xa3\\x8e\\x9c\\0\" \/* offset 17214 *\/\n-  \"\\xe8\\x88\\x84\\0\" \/* offset 17219 *\/\n-  \"\\xe8\\xbe\\x9e\\0\" \/* offset 17223 *\/\n-  \"\\xe4\\x91\\xab\\0\" \/* offset 17227 *\/\n-  \"\\xe8\\x8a\\x91\\0\" \/* offset 17231 *\/\n-  \"\\xe8\\x8a\\x8b\\0\" \/* offset 17235 *\/\n-  \"\\xe8\\x8a\\x9d\\0\" \/* offset 17239 *\/\n-  \"\\xe5\\x8a\\xb3\\0\" \/* offset 17243 *\/\n-  \"\\xe8\\x8a\\xb1\\0\" \/* offset 17247 *\/\n-  \"\\xe8\\x8a\\xb3\\0\" \/* offset 17251 *\/\n-  \"\\xe8\\x8a\\xbd\\0\" \/* offset 17255 *\/\n-  \"\\xe8\\x8b\\xa6\\0\" \/* offset 17259 *\/\n-  \"\\xf0\\xa6\\xac\\xbc\\0\" \/* offset 17263 *\/\n-  \"\\xe8\\x8c\\x9d\\0\" \/* offset 17268 *\/\n-  \"\\xe8\\x8d\\xa3\\0\" \/* offset 17272 *\/\n-  \"\\xe8\\x8e\\xad\\0\" \/* offset 17276 *\/\n-  \"\\xe8\\x8c\\xa3\\0\" \/* offset 17280 *\/\n-  \"\\xe8\\x8e\\xbd\\0\" \/* offset 17284 *\/\n-  \"\\xe8\\x8f\\xa7\\0\" \/* offset 17288 *\/\n-  \"\\xe8\\x8d\\x93\\0\" \/* offset 17292 *\/\n-  \"\\xe8\\x8f\\x8a\\0\" \/* offset 17296 *\/\n-  \"\\xe8\\x8f\\x8c\\0\" \/* offset 17300 *\/\n-  \"\\xe8\\x8f\\x9c\\0\" \/* offset 17304 *\/\n-  \"\\xf0\\xa6\\xb0\\xb6\\0\" \/* offset 17308 *\/\n-  \"\\xf0\\xa6\\xb5\\xab\\0\" \/* offset 17313 *\/\n-  \"\\xf0\\xa6\\xb3\\x95\\0\" \/* offset 17318 *\/\n-  \"\\xe4\\x94\\xab\\0\" \/* offset 17323 *\/\n-  \"\\xe8\\x93\\xb1\\0\" \/* offset 17327 *\/\n-  \"\\xe8\\x93\\xb3\\0\" \/* offset 17331 *\/\n-  \"\\xe8\\x94\\x96\\0\" \/* offset 17335 *\/\n-  \"\\xf0\\xa7\\x8f\\x8a\\0\" \/* offset 17339 *\/\n-  \"\\xe8\\x95\\xa4\\0\" \/* offset 17344 *\/\n-  \"\\xf0\\xa6\\xbc\\xac\\0\" \/* offset 17348 *\/\n-  \"\\xe4\\x95\\x9d\\0\" \/* offset 17353 *\/\n-  \"\\xe4\\x95\\xa1\\0\" \/* offset 17357 *\/\n-  \"\\xf0\\xa6\\xbe\\xb1\\0\" \/* offset 17361 *\/\n-  \"\\xf0\\xa7\\x83\\x92\\0\" \/* offset 17366 *\/\n-  \"\\xe4\\x95\\xab\\0\" \/* offset 17371 *\/\n-  \"\\xe8\\x99\\x90\\0\" \/* offset 17375 *\/\n-  \"\\xe8\\x99\\xa7\\0\" \/* offset 17379 *\/\n-  \"\\xe8\\x99\\xa9\\0\" \/* offset 17383 *\/\n-  \"\\xe8\\x9a\\xa9\\0\" \/* offset 17387 *\/\n-  \"\\xe8\\x9a\\x88\\0\" \/* offset 17391 *\/\n-  \"\\xe8\\x9c\\x8e\\0\" \/* offset 17395 *\/\n-  \"\\xe8\\x9b\\xa2\\0\" \/* offset 17399 *\/\n-  \"\\xe8\\x9c\\xa8\\0\" \/* offset 17403 *\/\n-  \"\\xe8\\x9d\\xab\\0\" \/* offset 17407 *\/\n-  \"\\xe8\\x9e\\x86\\0\" \/* offset 17411 *\/\n-  \"\\xe4\\x97\\x97\\0\" \/* offset 17415 *\/\n-  \"\\xe8\\x9f\\xa1\\0\" \/* offset 17419 *\/\n-  \"\\xe8\\xa0\\x81\\0\" \/* offset 17423 *\/\n-  \"\\xe4\\x97\\xb9\\0\" \/* offset 17427 *\/\n-  \"\\xe8\\xa1\\xa0\\0\" \/* offset 17431 *\/\n-  \"\\xf0\\xa7\\x99\\xa7\\0\" \/* offset 17435 *\/\n-  \"\\xe8\\xa3\\x97\\0\" \/* offset 17440 *\/\n-  \"\\xe8\\xa3\\x9e\\0\" \/* offset 17444 *\/\n-  \"\\xe4\\x98\\xb5\\0\" \/* offset 17448 *\/\n-  \"\\xe8\\xa3\\xba\\0\" \/* offset 17452 *\/\n-  \"\\xe3\\x92\\xbb\\0\" \/* offset 17456 *\/\n-  \"\\xf0\\xa7\\xa2\\xae\\0\" \/* offset 17460 *\/\n-  \"\\xf0\\xa7\\xa5\\xa6\\0\" \/* offset 17465 *\/\n-  \"\\xe4\\x9a\\xbe\\0\" \/* offset 17470 *\/\n-  \"\\xe4\\x9b\\x87\\0\" \/* offset 17474 *\/\n-  \"\\xe8\\xaa\\xa0\\0\" \/* offset 17478 *\/\n-  \"\\xf0\\xa7\\xb2\\xa8\\0\" \/* offset 17482 *\/\n-  \"\\xe8\\xb2\\xab\\0\" \/* offset 17487 *\/\n-  \"\\xe8\\xb3\\x81\\0\" \/* offset 17491 *\/\n-  \"\\xe8\\xb4\\x9b\\0\" \/* offset 17495 *\/\n-  \"\\xe8\\xb5\\xb7\\0\" \/* offset 17499 *\/\n-  \"\\xf0\\xa7\\xbc\\xaf\\0\" \/* offset 17503 *\/\n-  \"\\xf0\\xa0\\xa0\\x84\\0\" \/* offset 17508 *\/\n-  \"\\xe8\\xb7\\x8b\\0\" \/* offset 17513 *\/\n-  \"\\xe8\\xb6\\xbc\\0\" \/* offset 17517 *\/\n-  \"\\xe8\\xb7\\xb0\\0\" \/* offset 17521 *\/\n-  \"\\xf0\\xa0\\xa3\\x9e\\0\" \/* offset 17525 *\/\n-  \"\\xe8\\xbb\\x94\\0\" \/* offset 17530 *\/\n-  \"\\xf0\\xa8\\x97\\x92\\0\" \/* offset 17534 *\/\n-  \"\\xf0\\xa8\\x97\\xad\\0\" \/* offset 17539 *\/\n-  \"\\xe9\\x82\\x94\\0\" \/* offset 17544 *\/\n-  \"\\xe9\\x83\\xb1\\0\" \/* offset 17548 *\/\n-  \"\\xe9\\x84\\x91\\0\" \/* offset 17552 *\/\n-  \"\\xf0\\xa8\\x9c\\xae\\0\" \/* offset 17556 *\/\n-  \"\\xe9\\x84\\x9b\\0\" \/* offset 17561 *\/\n-  \"\\xe9\\x88\\xb8\\0\" \/* offset 17565 *\/\n-  \"\\xe9\\x8b\\x97\\0\" \/* offset 17569 *\/\n-  \"\\xe9\\x8b\\x98\\0\" \/* offset 17573 *\/\n-  \"\\xe9\\x89\\xbc\\0\" \/* offset 17577 *\/\n-  \"\\xe9\\x8f\\xb9\\0\" \/* offset 17581 *\/\n-  \"\\xe9\\x90\\x95\\0\" \/* offset 17585 *\/\n-  \"\\xf0\\xa8\\xaf\\xba\\0\" \/* offset 17589 *\/\n-  \"\\xe9\\x96\\x8b\\0\" \/* offset 17594 *\/\n-  \"\\xe4\\xa6\\x95\\0\" \/* offset 17598 *\/\n-  \"\\xe9\\x96\\xb7\\0\" \/* offset 17602 *\/\n-  \"\\xf0\\xa8\\xb5\\xb7\\0\" \/* offset 17606 *\/\n-  \"\\xe4\\xa7\\xa6\\0\" \/* offset 17611 *\/\n-  \"\\xe9\\x9b\\x83\\0\" \/* offset 17615 *\/\n-  \"\\xe5\\xb6\\xb2\\0\" \/* offset 17619 *\/\n-  \"\\xe9\\x9c\\xa3\\0\" \/* offset 17623 *\/\n-  \"\\xf0\\xa9\\x85\\x85\\0\" \/* offset 17627 *\/\n-  \"\\xf0\\xa9\\x88\\x9a\\0\" \/* offset 17632 *\/\n-  \"\\xe4\\xa9\\xae\\0\" \/* offset 17637 *\/\n-  \"\\xe4\\xa9\\xb6\\0\" \/* offset 17641 *\/\n-  \"\\xe9\\x9f\\xa0\\0\" \/* offset 17645 *\/\n-  \"\\xf0\\xa9\\x90\\x8a\\0\" \/* offset 17649 *\/\n-  \"\\xe4\\xaa\\xb2\\0\" \/* offset 17654 *\/\n-  \"\\xf0\\xa9\\x92\\x96\\0\" \/* offset 17658 *\/\n-  \"\\xe9\\xa0\\xa9\\0\" \/* offset 17663 *\/\n-  \"\\xf0\\xa9\\x96\\xb6\\0\" \/* offset 17667 *\/\n-  \"\\xe9\\xa3\\xa2\\0\" \/* offset 17672 *\/\n-  \"\\xe4\\xac\\xb3\\0\" \/* offset 17676 *\/\n-  \"\\xe9\\xa4\\xa9\\0\" \/* offset 17680 *\/\n-  \"\\xe9\\xa6\\xa7\\0\" \/* offset 17684 *\/\n-  \"\\xe9\\xa7\\x82\\0\" \/* offset 17688 *\/\n-  \"\\xe9\\xa7\\xbe\\0\" \/* offset 17692 *\/\n-  \"\\xe4\\xaf\\x8e\\0\" \/* offset 17696 *\/\n-  \"\\xf0\\xa9\\xac\\xb0\\0\" \/* offset 17700 *\/\n-  \"\\xe9\\xb1\\x80\\0\" \/* offset 17705 *\/\n-  \"\\xe9\\xb3\\xbd\\0\" \/* offset 17709 *\/\n-  \"\\xe4\\xb3\\x8e\\0\" \/* offset 17713 *\/\n-  \"\\xe4\\xb3\\xad\\0\" \/* offset 17717 *\/\n-  \"\\xe9\\xb5\\xa7\\0\" \/* offset 17721 *\/\n-  \"\\xf0\\xaa\\x83\\x8e\\0\" \/* offset 17725 *\/\n-  \"\\xe4\\xb3\\xb8\\0\" \/* offset 17730 *\/\n-  \"\\xf0\\xaa\\x84\\x85\\0\" \/* offset 17734 *\/\n-  \"\\xf0\\xaa\\x88\\x8e\\0\" \/* offset 17739 *\/\n-  \"\\xf0\\xaa\\x8a\\x91\\0\" \/* offset 17744 *\/\n-  \"\\xe4\\xb5\\x96\\0\" \/* offset 17749 *\/\n-  \"\\xe9\\xbb\\xbe\\0\" \/* offset 17753 *\/\n-  \"\\xe9\\xbc\\x85\\0\" \/* offset 17757 *\/\n-  \"\\xe9\\xbc\\x8f\\0\" \/* offset 17761 *\/\n-  \"\\xe9\\xbc\\x96\\0\" \/* offset 17765 *\/\n-  \"\\xf0\\xaa\\x98\\x80\\0\" \/* offset 17769 *\/;\n+  \"\\xcb\\x90\\0\" \/* offset 15007 *\/\n+  \"\\xcb\\x91\\0\" \/* offset 15010 *\/\n+  \"\\xc3\\xa6\\0\" \/* offset 15013 *\/\n+  \"\\xca\\x99\\0\" \/* offset 15016 *\/\n+  \"\\xc9\\x93\\0\" \/* offset 15019 *\/\n+  \"\\xca\\xa3\\0\" \/* offset 15022 *\/\n+  \"\\xea\\xad\\xa6\\0\" \/* offset 15025 *\/\n+  \"\\xca\\xa5\\0\" \/* offset 15029 *\/\n+  \"\\xca\\xa4\\0\" \/* offset 15032 *\/\n+  \"\\xc9\\x96\\0\" \/* offset 15035 *\/\n+  \"\\xc9\\x97\\0\" \/* offset 15038 *\/\n+  \"\\xe1\\xb6\\x91\\0\" \/* offset 15041 *\/\n+  \"\\xc9\\x98\\0\" \/* offset 15045 *\/\n+  \"\\xc9\\x9e\\0\" \/* offset 15048 *\/\n+  \"\\xca\\xa9\\0\" \/* offset 15051 *\/\n+  \"\\xc9\\xa4\\0\" \/* offset 15054 *\/\n+  \"\\xc9\\xa2\\0\" \/* offset 15057 *\/\n+  \"\\xc9\\xa0\\0\" \/* offset 15060 *\/\n+  \"\\xca\\x9b\\0\" \/* offset 15063 *\/\n+  \"\\xca\\x9c\\0\" \/* offset 15066 *\/\n+  \"\\xc9\\xa7\\0\" \/* offset 15069 *\/\n+  \"\\xca\\x84\\0\" \/* offset 15072 *\/\n+  \"\\xca\\xaa\\0\" \/* offset 15075 *\/\n+  \"\\xca\\xab\\0\" \/* offset 15078 *\/\n+  \"\\xc9\\xac\\0\" \/* offset 15081 *\/\n+  \"\\xf0\\x9d\\xbc\\x84\\0\" \/* offset 15084 *\/\n+  \"\\xea\\x9e\\x8e\\0\" \/* offset 15089 *\/\n+  \"\\xc9\\xae\\0\" \/* offset 15093 *\/\n+  \"\\xf0\\x9d\\xbc\\x85\\0\" \/* offset 15096 *\/\n+  \"\\xca\\x8e\\0\" \/* offset 15101 *\/\n+  \"\\xf0\\x9d\\xbc\\x86\\0\" \/* offset 15104 *\/\n+  \"\\xc3\\xb8\\0\" \/* offset 15109 *\/\n+  \"\\xc9\\xb6\\0\" \/* offset 15112 *\/\n+  \"\\xc9\\xb7\\0\" \/* offset 15115 *\/\n+  \"\\xc9\\xba\\0\" \/* offset 15118 *\/\n+  \"\\xf0\\x9d\\xbc\\x88\\0\" \/* offset 15121 *\/\n+  \"\\xc9\\xbd\\0\" \/* offset 15126 *\/\n+  \"\\xc9\\xbe\\0\" \/* offset 15129 *\/\n+  \"\\xca\\x80\\0\" \/* offset 15132 *\/\n+  \"\\xca\\xa8\\0\" \/* offset 15135 *\/\n+  \"\\xca\\xa6\\0\" \/* offset 15138 *\/\n+  \"\\xea\\xad\\xa7\\0\" \/* offset 15141 *\/\n+  \"\\xca\\xa7\\0\" \/* offset 15145 *\/\n+  \"\\xca\\x88\\0\" \/* offset 15148 *\/\n+  \"\\xe2\\xb1\\xb1\\0\" \/* offset 15151 *\/\n+  \"\\xca\\x8f\\0\" \/* offset 15155 *\/\n+  \"\\xca\\xa1\\0\" \/* offset 15158 *\/\n+  \"\\xca\\xa2\\0\" \/* offset 15161 *\/\n+  \"\\xca\\x98\\0\" \/* offset 15164 *\/\n+  \"\\xc7\\x80\\0\" \/* offset 15167 *\/\n+  \"\\xc7\\x81\\0\" \/* offset 15170 *\/\n+  \"\\xc7\\x82\\0\" \/* offset 15173 *\/\n+  \"\\xf0\\x9d\\xbc\\x8a\\0\" \/* offset 15176 *\/\n+  \"\\xf0\\x9d\\xbc\\x9e\\0\" \/* offset 15181 *\/\n+  \"\\xf0\\x91\\x82\\x99\\xf0\\x91\\x82\\xba\\0\" \/* offset 15186 *\/\n+  \"\\xf0\\x91\\x82\\x9b\\xf0\\x91\\x82\\xba\\0\" \/* offset 15195 *\/\n+  \"\\xf0\\x91\\x82\\xa5\\xf0\\x91\\x82\\xba\\0\" \/* offset 15204 *\/\n+  \"\\xf0\\x91\\x84\\xb1\\xf0\\x91\\x84\\xa7\\0\" \/* offset 15213 *\/\n+  \"\\xf0\\x91\\x84\\xb2\\xf0\\x91\\x84\\xa7\\0\" \/* offset 15222 *\/\n+  \"\\xf0\\x91\\x8d\\x87\\xf0\\x91\\x8c\\xbe\\0\" \/* offset 15231 *\/\n+  \"\\xf0\\x91\\x8d\\x87\\xf0\\x91\\x8d\\x97\\0\" \/* offset 15240 *\/\n+  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xba\\0\" \/* offset 15249 *\/\n+  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xb0\\0\" \/* offset 15258 *\/\n+  \"\\xf0\\x91\\x92\\xb9\\xf0\\x91\\x92\\xbd\\0\" \/* offset 15267 *\/\n+  \"\\xf0\\x91\\x96\\xb8\\xf0\\x91\\x96\\xaf\\0\" \/* offset 15276 *\/\n+  \"\\xf0\\x91\\x96\\xb9\\xf0\\x91\\x96\\xaf\\0\" \/* offset 15285 *\/\n+  \"\\xf0\\x91\\xa4\\xb5\\xf0\\x91\\xa4\\xb0\\0\" \/* offset 15294 *\/\n+  \"\\xf0\\x9d\\x85\\x97\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15303 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15312 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15321 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15334 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb0\\0\" \/* offset 15347 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb1\\0\" \/* offset 15360 *\/\n+  \"\\xf0\\x9d\\x85\\x98\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xb2\\0\" \/* offset 15373 *\/\n+  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15386 *\/\n+  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\0\" \/* offset 15395 *\/\n+  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15404 *\/\n+  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xae\\0\" \/* offset 15417 *\/\n+  \"\\xf0\\x9d\\x86\\xb9\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15430 *\/\n+  \"\\xf0\\x9d\\x86\\xba\\xf0\\x9d\\x85\\xa5\\xf0\\x9d\\x85\\xaf\\0\" \/* offset 15443 *\/\n+  \"\\xc4\\xb1\\0\" \/* offset 15456 *\/\n+  \"\\xc8\\xb7\\0\" \/* offset 15459 *\/\n+  \"\\xce\\x91\\0\" \/* offset 15462 *\/\n+  \"\\xce\\x92\\0\" \/* offset 15465 *\/\n+  \"\\xce\\x94\\0\" \/* offset 15468 *\/\n+  \"\\xce\\x95\\0\" \/* offset 15471 *\/\n+  \"\\xce\\x96\\0\" \/* offset 15474 *\/\n+  \"\\xce\\x97\\0\" \/* offset 15477 *\/\n+  \"\\xce\\x99\\0\" \/* offset 15480 *\/\n+  \"\\xce\\x9a\\0\" \/* offset 15483 *\/\n+  \"\\xce\\x9b\\0\" \/* offset 15486 *\/\n+  \"\\xce\\x9c\\0\" \/* offset 15489 *\/\n+  \"\\xce\\x9d\\0\" \/* offset 15492 *\/\n+  \"\\xce\\x9e\\0\" \/* offset 15495 *\/\n+  \"\\xce\\x9f\\0\" \/* offset 15498 *\/\n+  \"\\xce\\xa1\\0\" \/* offset 15501 *\/\n+  \"\\xce\\xa4\\0\" \/* offset 15504 *\/\n+  \"\\xce\\xa6\\0\" \/* offset 15507 *\/\n+  \"\\xce\\xa7\\0\" \/* offset 15510 *\/\n+  \"\\xce\\xa8\\0\" \/* offset 15513 *\/\n+  \"\\xe2\\x88\\x87\\0\" \/* offset 15516 *\/\n+  \"\\xce\\xb1\\0\" \/* offset 15520 *\/\n+  \"\\xce\\xb6\\0\" \/* offset 15523 *\/\n+  \"\\xce\\xb7\\0\" \/* offset 15526 *\/\n+  \"\\xce\\xbb\\0\" \/* offset 15529 *\/\n+  \"\\xce\\xbd\\0\" \/* offset 15532 *\/\n+  \"\\xce\\xbe\\0\" \/* offset 15535 *\/\n+  \"\\xce\\xbf\\0\" \/* offset 15538 *\/\n+  \"\\xcf\\x83\\0\" \/* offset 15541 *\/\n+  \"\\xcf\\x84\\0\" \/* offset 15544 *\/\n+  \"\\xcf\\x85\\0\" \/* offset 15547 *\/\n+  \"\\xcf\\x88\\0\" \/* offset 15550 *\/\n+  \"\\xcf\\x89\\0\" \/* offset 15553 *\/\n+  \"\\xe2\\x88\\x82\\0\" \/* offset 15556 *\/\n+  \"\\xcf\\x9c\\0\" \/* offset 15560 *\/\n+  \"\\xcf\\x9d\\0\" \/* offset 15563 *\/\n+  \"\\xd9\\xae\\0\" \/* offset 15566 *\/\n+  \"\\xda\\xa1\\0\" \/* offset 15569 *\/\n+  \"\\xd9\\xaf\\0\" \/* offset 15572 *\/\n+  \"\\x30\\x2e\\0\" \/* offset 15575 *\/\n+  \"\\x30\\x2c\\0\" \/* offset 15578 *\/\n+  \"\\x31\\x2c\\0\" \/* offset 15581 *\/\n+  \"\\x32\\x2c\\0\" \/* offset 15584 *\/\n+  \"\\x33\\x2c\\0\" \/* offset 15587 *\/\n+  \"\\x34\\x2c\\0\" \/* offset 15590 *\/\n+  \"\\x35\\x2c\\0\" \/* offset 15593 *\/\n+  \"\\x36\\x2c\\0\" \/* offset 15596 *\/\n+  \"\\x37\\x2c\\0\" \/* offset 15599 *\/\n+  \"\\x38\\x2c\\0\" \/* offset 15602 *\/\n+  \"\\x39\\x2c\\0\" \/* offset 15605 *\/\n+  \"\\x28\\x41\\x29\\0\" \/* offset 15608 *\/\n+  \"\\x28\\x42\\x29\\0\" \/* offset 15612 *\/\n+  \"\\x28\\x43\\x29\\0\" \/* offset 15616 *\/\n+  \"\\x28\\x44\\x29\\0\" \/* offset 15620 *\/\n+  \"\\x28\\x45\\x29\\0\" \/* offset 15624 *\/\n+  \"\\x28\\x46\\x29\\0\" \/* offset 15628 *\/\n+  \"\\x28\\x47\\x29\\0\" \/* offset 15632 *\/\n+  \"\\x28\\x48\\x29\\0\" \/* offset 15636 *\/\n+  \"\\x28\\x49\\x29\\0\" \/* offset 15640 *\/\n+  \"\\x28\\x4a\\x29\\0\" \/* offset 15644 *\/\n+  \"\\x28\\x4b\\x29\\0\" \/* offset 15648 *\/\n+  \"\\x28\\x4c\\x29\\0\" \/* offset 15652 *\/\n+  \"\\x28\\x4d\\x29\\0\" \/* offset 15656 *\/\n+  \"\\x28\\x4e\\x29\\0\" \/* offset 15660 *\/\n+  \"\\x28\\x4f\\x29\\0\" \/* offset 15664 *\/\n+  \"\\x28\\x50\\x29\\0\" \/* offset 15668 *\/\n+  \"\\x28\\x51\\x29\\0\" \/* offset 15672 *\/\n+  \"\\x28\\x52\\x29\\0\" \/* offset 15676 *\/\n+  \"\\x28\\x53\\x29\\0\" \/* offset 15680 *\/\n+  \"\\x28\\x54\\x29\\0\" \/* offset 15684 *\/\n+  \"\\x28\\x55\\x29\\0\" \/* offset 15688 *\/\n+  \"\\x28\\x56\\x29\\0\" \/* offset 15692 *\/\n+  \"\\x28\\x57\\x29\\0\" \/* offset 15696 *\/\n+  \"\\x28\\x58\\x29\\0\" \/* offset 15700 *\/\n+  \"\\x28\\x59\\x29\\0\" \/* offset 15704 *\/\n+  \"\\x28\\x5a\\x29\\0\" \/* offset 15708 *\/\n+  \"\\xe3\\x80\\x94\\x53\\xe3\\x80\\x95\\0\" \/* offset 15712 *\/\n+  \"\\x43\\x44\\0\" \/* offset 15720 *\/\n+  \"\\x57\\x5a\\0\" \/* offset 15723 *\/\n+  \"\\x48\\x56\\0\" \/* offset 15726 *\/\n+  \"\\x53\\x44\\0\" \/* offset 15729 *\/\n+  \"\\x53\\x53\\0\" \/* offset 15732 *\/\n+  \"\\x50\\x50\\x56\\0\" \/* offset 15735 *\/\n+  \"\\x57\\x43\\0\" \/* offset 15739 *\/\n+  \"\\x4d\\x43\\0\" \/* offset 15742 *\/\n+  \"\\x4d\\x44\\0\" \/* offset 15745 *\/\n+  \"\\x4d\\x52\\0\" \/* offset 15748 *\/\n+  \"\\x44\\x4a\\0\" \/* offset 15751 *\/\n+  \"\\xe3\\x81\\xbb\\xe3\\x81\\x8b\\0\" \/* offset 15754 *\/\n+  \"\\xe3\\x82\\xb3\\xe3\\x82\\xb3\\0\" \/* offset 15761 *\/\n+  \"\\xe5\\xad\\x97\\0\" \/* offset 15768 *\/\n+  \"\\xe5\\x8f\\x8c\\0\" \/* offset 15772 *\/\n+  \"\\xe5\\xa4\\x9a\\0\" \/* offset 15776 *\/\n+  \"\\xe8\\xa7\\xa3\\0\" \/* offset 15780 *\/\n+  \"\\xe4\\xba\\xa4\\0\" \/* offset 15784 *\/\n+  \"\\xe6\\x98\\xa0\\0\" \/* offset 15788 *\/\n+  \"\\xe7\\x84\\xa1\\0\" \/* offset 15792 *\/\n+  \"\\xe5\\x89\\x8d\\0\" \/* offset 15796 *\/\n+  \"\\xe5\\xbe\\x8c\\0\" \/* offset 15800 *\/\n+  \"\\xe5\\x86\\x8d\\0\" \/* offset 15804 *\/\n+  \"\\xe6\\x96\\xb0\\0\" \/* offset 15808 *\/\n+  \"\\xe5\\x88\\x9d\\0\" \/* offset 15812 *\/\n+  \"\\xe7\\xb5\\x82\\0\" \/* offset 15816 *\/\n+  \"\\xe8\\xb2\\xa9\\0\" \/* offset 15820 *\/\n+  \"\\xe5\\xa3\\xb0\\0\" \/* offset 15824 *\/\n+  \"\\xe5\\x90\\xb9\\0\" \/* offset 15828 *\/\n+  \"\\xe6\\xbc\\x94\\0\" \/* offset 15832 *\/\n+  \"\\xe6\\x8a\\x95\\0\" \/* offset 15836 *\/\n+  \"\\xe6\\x8d\\x95\\0\" \/* offset 15840 *\/\n+  \"\\xe9\\x81\\x8a\\0\" \/* offset 15844 *\/\n+  \"\\xe6\\x8c\\x87\\0\" \/* offset 15848 *\/\n+  \"\\xe6\\x89\\x93\\0\" \/* offset 15852 *\/\n+  \"\\xe7\\xa6\\x81\\0\" \/* offset 15856 *\/\n+  \"\\xe7\\xa9\\xba\\0\" \/* offset 15860 *\/\n+  \"\\xe5\\x90\\x88\\0\" \/* offset 15864 *\/\n+  \"\\xe6\\xba\\x80\\0\" \/* offset 15868 *\/\n+  \"\\xe7\\x94\\xb3\\0\" \/* offset 15872 *\/\n+  \"\\xe5\\x89\\xb2\\0\" \/* offset 15876 *\/\n+  \"\\xe5\\x96\\xb6\\0\" \/* offset 15880 *\/\n+  \"\\xe9\\x85\\x8d\\0\" \/* offset 15884 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x9c\\xac\\xe3\\x80\\x95\\0\" \/* offset 15888 *\/\n+  \"\\xe3\\x80\\x94\\xe4\\xb8\\x89\\xe3\\x80\\x95\\0\" \/* offset 15898 *\/\n+  \"\\xe3\\x80\\x94\\xe4\\xba\\x8c\\xe3\\x80\\x95\\0\" \/* offset 15908 *\/\n+  \"\\xe3\\x80\\x94\\xe5\\xae\\x89\\xe3\\x80\\x95\\0\" \/* offset 15918 *\/\n+  \"\\xe3\\x80\\x94\\xe7\\x82\\xb9\\xe3\\x80\\x95\\0\" \/* offset 15928 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x89\\x93\\xe3\\x80\\x95\\0\" \/* offset 15938 *\/\n+  \"\\xe3\\x80\\x94\\xe7\\x9b\\x97\\xe3\\x80\\x95\\0\" \/* offset 15948 *\/\n+  \"\\xe3\\x80\\x94\\xe5\\x8b\\x9d\\xe3\\x80\\x95\\0\" \/* offset 15958 *\/\n+  \"\\xe3\\x80\\x94\\xe6\\x95\\x97\\xe3\\x80\\x95\\0\" \/* offset 15968 *\/\n+  \"\\xe5\\xbe\\x97\\0\" \/* offset 15978 *\/\n+  \"\\xe5\\x8f\\xaf\\0\" \/* offset 15982 *\/\n+  \"\\xe4\\xb8\\xbd\\0\" \/* offset 15986 *\/\n+  \"\\xe4\\xb8\\xb8\\0\" \/* offset 15990 *\/\n+  \"\\xe4\\xb9\\x81\\0\" \/* offset 15994 *\/\n+  \"\\xf0\\xa0\\x84\\xa2\\0\" \/* offset 15998 *\/\n+  \"\\xe4\\xbd\\xa0\\0\" \/* offset 16003 *\/\n+  \"\\xe4\\xbe\\xbb\\0\" \/* offset 16007 *\/\n+  \"\\xe5\\x80\\x82\\0\" \/* offset 16011 *\/\n+  \"\\xe5\\x81\\xba\\0\" \/* offset 16015 *\/\n+  \"\\xe5\\x82\\x99\\0\" \/* offset 16019 *\/\n+  \"\\xe5\\x83\\x8f\\0\" \/* offset 16023 *\/\n+  \"\\xe3\\x92\\x9e\\0\" \/* offset 16027 *\/\n+  \"\\xf0\\xa0\\x98\\xba\\0\" \/* offset 16031 *\/\n+  \"\\xe5\\x85\\x94\\0\" \/* offset 16036 *\/\n+  \"\\xe5\\x85\\xa4\\0\" \/* offset 16040 *\/\n+  \"\\xe5\\x85\\xb7\\0\" \/* offset 16044 *\/\n+  \"\\xf0\\xa0\\x94\\x9c\\0\" \/* offset 16048 *\/\n+  \"\\xe3\\x92\\xb9\\0\" \/* offset 16053 *\/\n+  \"\\xe5\\x85\\xa7\\0\" \/* offset 16057 *\/\n+  \"\\xf0\\xa0\\x95\\x8b\\0\" \/* offset 16061 *\/\n+  \"\\xe5\\x86\\x97\\0\" \/* offset 16066 *\/\n+  \"\\xe5\\x86\\xa4\\0\" \/* offset 16070 *\/\n+  \"\\xe4\\xbb\\x8c\\0\" \/* offset 16074 *\/\n+  \"\\xe5\\x86\\xac\\0\" \/* offset 16078 *\/\n+  \"\\xf0\\xa9\\x87\\x9f\\0\" \/* offset 16082 *\/\n+  \"\\xe5\\x88\\x83\\0\" \/* offset 16087 *\/\n+  \"\\xe3\\x93\\x9f\\0\" \/* offset 16091 *\/\n+  \"\\xe5\\x88\\xbb\\0\" \/* offset 16095 *\/\n+  \"\\xe5\\x89\\x86\\0\" \/* offset 16099 *\/\n+  \"\\xe5\\x89\\xb7\\0\" \/* offset 16103 *\/\n+  \"\\xe3\\x94\\x95\\0\" \/* offset 16107 *\/\n+  \"\\xe5\\x8c\\x85\\0\" \/* offset 16111 *\/\n+  \"\\xe5\\x8c\\x86\\0\" \/* offset 16115 *\/\n+  \"\\xe5\\x8d\\x89\\0\" \/* offset 16119 *\/\n+  \"\\xe5\\x8d\\x9a\\0\" \/* offset 16123 *\/\n+  \"\\xe5\\x8d\\xb3\\0\" \/* offset 16127 *\/\n+  \"\\xe5\\x8d\\xbd\\0\" \/* offset 16131 *\/\n+  \"\\xe5\\x8d\\xbf\\0\" \/* offset 16135 *\/\n+  \"\\xf0\\xa0\\xa8\\xac\\0\" \/* offset 16139 *\/\n+  \"\\xe7\\x81\\xb0\\0\" \/* offset 16144 *\/\n+  \"\\xe5\\x8f\\x8a\\0\" \/* offset 16148 *\/\n+  \"\\xe5\\x8f\\x9f\\0\" \/* offset 16152 *\/\n+  \"\\xf0\\xa0\\xad\\xa3\\0\" \/* offset 16156 *\/\n+  \"\\xe5\\x8f\\xab\\0\" \/* offset 16161 *\/\n+  \"\\xe5\\x8f\\xb1\\0\" \/* offset 16165 *\/\n+  \"\\xe5\\x90\\x86\\0\" \/* offset 16169 *\/\n+  \"\\xe5\\x92\\x9e\\0\" \/* offset 16173 *\/\n+  \"\\xe5\\x90\\xb8\\0\" \/* offset 16177 *\/\n+  \"\\xe5\\x91\\x88\\0\" \/* offset 16181 *\/\n+  \"\\xe5\\x91\\xa8\\0\" \/* offset 16185 *\/\n+  \"\\xe5\\x92\\xa2\\0\" \/* offset 16189 *\/\n+  \"\\xe5\\x93\\xb6\\0\" \/* offset 16193 *\/\n+  \"\\xe5\\x94\\x90\\0\" \/* offset 16197 *\/\n+  \"\\xe5\\x95\\x93\\0\" \/* offset 16201 *\/\n+  \"\\xe5\\x95\\xa3\\0\" \/* offset 16205 *\/\n+  \"\\xe5\\x96\\x84\\0\" \/* offset 16209 *\/\n+  \"\\xe5\\x96\\xab\\0\" \/* offset 16213 *\/\n+  \"\\xe5\\x96\\xb3\\0\" \/* offset 16217 *\/\n+  \"\\xe5\\x97\\x82\\0\" \/* offset 16221 *\/\n+  \"\\xe5\\x9c\\x96\\0\" \/* offset 16225 *\/\n+  \"\\xe5\\x9c\\x97\\0\" \/* offset 16229 *\/\n+  \"\\xe5\\x99\\x91\\0\" \/* offset 16233 *\/\n+  \"\\xe5\\x99\\xb4\\0\" \/* offset 16237 *\/\n+  \"\\xe5\\xa3\\xae\\0\" \/* offset 16241 *\/\n+  \"\\xe5\\x9f\\x8e\\0\" \/* offset 16245 *\/\n+  \"\\xe5\\x9f\\xb4\\0\" \/* offset 16249 *\/\n+  \"\\xe5\\xa0\\x8d\\0\" \/* offset 16253 *\/\n+  \"\\xe5\\x9e\\x8b\\0\" \/* offset 16257 *\/\n+  \"\\xe5\\xa0\\xb2\\0\" \/* offset 16261 *\/\n+  \"\\xe5\\xa0\\xb1\\0\" \/* offset 16265 *\/\n+  \"\\xe5\\xa2\\xac\\0\" \/* offset 16269 *\/\n+  \"\\xf0\\xa1\\x93\\xa4\\0\" \/* offset 16273 *\/\n+  \"\\xe5\\xa3\\xb2\\0\" \/* offset 16278 *\/\n+  \"\\xe5\\xa3\\xb7\\0\" \/* offset 16282 *\/\n+  \"\\xe5\\xa4\\x86\\0\" \/* offset 16286 *\/\n+  \"\\xe5\\xa4\\xa2\\0\" \/* offset 16290 *\/\n+  \"\\xe5\\xa5\\xa2\\0\" \/* offset 16294 *\/\n+  \"\\xf0\\xa1\\x9a\\xa8\\0\" \/* offset 16298 *\/\n+  \"\\xf0\\xa1\\x9b\\xaa\\0\" \/* offset 16303 *\/\n+  \"\\xe5\\xa7\\xac\\0\" \/* offset 16308 *\/\n+  \"\\xe5\\xa8\\x9b\\0\" \/* offset 16312 *\/\n+  \"\\xe5\\xa8\\xa7\\0\" \/* offset 16316 *\/\n+  \"\\xe5\\xa7\\x98\\0\" \/* offset 16320 *\/\n+  \"\\xe5\\xa9\\xa6\\0\" \/* offset 16324 *\/\n+  \"\\xe3\\x9b\\xae\\0\" \/* offset 16328 *\/\n+  \"\\xe3\\x9b\\xbc\\0\" \/* offset 16332 *\/\n+  \"\\xe5\\xac\\x88\\0\" \/* offset 16336 *\/\n+  \"\\xe5\\xac\\xbe\\0\" \/* offset 16340 *\/\n+  \"\\xf0\\xa1\\xa7\\x88\\0\" \/* offset 16344 *\/\n+  \"\\xe5\\xaf\\x83\\0\" \/* offset 16349 *\/\n+  \"\\xe5\\xaf\\x98\\0\" \/* offset 16353 *\/\n+  \"\\xe5\\xaf\\xb3\\0\" \/* offset 16357 *\/\n+  \"\\xf0\\xa1\\xac\\x98\\0\" \/* offset 16361 *\/\n+  \"\\xe5\\xaf\\xbf\\0\" \/* offset 16366 *\/\n+  \"\\xe5\\xb0\\x86\\0\" \/* offset 16370 *\/\n+  \"\\xe5\\xbd\\x93\\0\" \/* offset 16374 *\/\n+  \"\\xe3\\x9e\\x81\\0\" \/* offset 16378 *\/\n+  \"\\xe5\\xb1\\xa0\\0\" \/* offset 16382 *\/\n+  \"\\xe5\\xb3\\x80\\0\" \/* offset 16386 *\/\n+  \"\\xe5\\xb2\\x8d\\0\" \/* offset 16390 *\/\n+  \"\\xf0\\xa1\\xb7\\xa4\\0\" \/* offset 16394 *\/\n+  \"\\xe5\\xb5\\x83\\0\" \/* offset 16399 *\/\n+  \"\\xf0\\xa1\\xb7\\xa6\\0\" \/* offset 16403 *\/\n+  \"\\xe5\\xb5\\xae\\0\" \/* offset 16408 *\/\n+  \"\\xe5\\xb5\\xab\\0\" \/* offset 16412 *\/\n+  \"\\xe5\\xb5\\xbc\\0\" \/* offset 16416 *\/\n+  \"\\xe5\\xb7\\xa1\\0\" \/* offset 16420 *\/\n+  \"\\xe5\\xb7\\xa2\\0\" \/* offset 16424 *\/\n+  \"\\xe3\\xa0\\xaf\\0\" \/* offset 16428 *\/\n+  \"\\xe5\\xb7\\xbd\\0\" \/* offset 16432 *\/\n+  \"\\xe5\\xb8\\xa8\\0\" \/* offset 16436 *\/\n+  \"\\xe5\\xb8\\xbd\\0\" \/* offset 16440 *\/\n+  \"\\xe5\\xb9\\xa9\\0\" \/* offset 16444 *\/\n+  \"\\xe3\\xa1\\xa2\\0\" \/* offset 16448 *\/\n+  \"\\xf0\\xa2\\x86\\x83\\0\" \/* offset 16452 *\/\n+  \"\\xe3\\xa1\\xbc\\0\" \/* offset 16457 *\/\n+  \"\\xe5\\xba\\xb0\\0\" \/* offset 16461 *\/\n+  \"\\xe5\\xba\\xb3\\0\" \/* offset 16465 *\/\n+  \"\\xe5\\xba\\xb6\\0\" \/* offset 16469 *\/\n+  \"\\xf0\\xaa\\x8e\\x92\\0\" \/* offset 16473 *\/\n+  \"\\xf0\\xa2\\x8c\\xb1\\0\" \/* offset 16478 *\/\n+  \"\\xe8\\x88\\x81\\0\" \/* offset 16483 *\/\n+  \"\\xe5\\xbc\\xa2\\0\" \/* offset 16487 *\/\n+  \"\\xe3\\xa3\\x87\\0\" \/* offset 16491 *\/\n+  \"\\xf0\\xa3\\x8a\\xb8\\0\" \/* offset 16495 *\/\n+  \"\\xf0\\xa6\\x87\\x9a\\0\" \/* offset 16500 *\/\n+  \"\\xe5\\xbd\\xa2\\0\" \/* offset 16505 *\/\n+  \"\\xe5\\xbd\\xab\\0\" \/* offset 16509 *\/\n+  \"\\xe3\\xa3\\xa3\\0\" \/* offset 16513 *\/\n+  \"\\xe5\\xbe\\x9a\\0\" \/* offset 16517 *\/\n+  \"\\xe5\\xbf\\x8d\\0\" \/* offset 16521 *\/\n+  \"\\xe5\\xbf\\x97\\0\" \/* offset 16525 *\/\n+  \"\\xe5\\xbf\\xb9\\0\" \/* offset 16529 *\/\n+  \"\\xe6\\x82\\x81\\0\" \/* offset 16533 *\/\n+  \"\\xe3\\xa4\\xba\\0\" \/* offset 16537 *\/\n+  \"\\xe3\\xa4\\x9c\\0\" \/* offset 16541 *\/\n+  \"\\xf0\\xa2\\x9b\\x94\\0\" \/* offset 16545 *\/\n+  \"\\xe6\\x83\\x87\\0\" \/* offset 16550 *\/\n+  \"\\xe6\\x85\\x88\\0\" \/* offset 16554 *\/\n+  \"\\xe6\\x85\\x8c\\0\" \/* offset 16558 *\/\n+  \"\\xe6\\x85\\xba\\0\" \/* offset 16562 *\/\n+  \"\\xe6\\x86\\xb2\\0\" \/* offset 16566 *\/\n+  \"\\xe6\\x86\\xa4\\0\" \/* offset 16570 *\/\n+  \"\\xe6\\x86\\xaf\\0\" \/* offset 16574 *\/\n+  \"\\xe6\\x87\\x9e\\0\" \/* offset 16578 *\/\n+  \"\\xe6\\x88\\x90\\0\" \/* offset 16582 *\/\n+  \"\\xe6\\x88\\x9b\\0\" \/* offset 16586 *\/\n+  \"\\xe6\\x89\\x9d\\0\" \/* offset 16590 *\/\n+  \"\\xe6\\x8a\\xb1\\0\" \/* offset 16594 *\/\n+  \"\\xe6\\x8b\\x94\\0\" \/* offset 16598 *\/\n+  \"\\xe6\\x8d\\x90\\0\" \/* offset 16602 *\/\n+  \"\\xf0\\xa2\\xac\\x8c\\0\" \/* offset 16606 *\/\n+  \"\\xe6\\x8c\\xbd\\0\" \/* offset 16611 *\/\n+  \"\\xe6\\x8b\\xbc\\0\" \/* offset 16615 *\/\n+  \"\\xe6\\x8d\\xa8\\0\" \/* offset 16619 *\/\n+  \"\\xe6\\x8e\\x83\\0\" \/* offset 16623 *\/\n+  \"\\xe6\\x8f\\xa4\\0\" \/* offset 16627 *\/\n+  \"\\xf0\\xa2\\xaf\\xb1\\0\" \/* offset 16631 *\/\n+  \"\\xe6\\x90\\xa2\\0\" \/* offset 16636 *\/\n+  \"\\xe6\\x8f\\x85\\0\" \/* offset 16640 *\/\n+  \"\\xe6\\x8e\\xa9\\0\" \/* offset 16644 *\/\n+  \"\\xe3\\xa8\\xae\\0\" \/* offset 16648 *\/\n+  \"\\xe6\\x91\\xa9\\0\" \/* offset 16652 *\/\n+  \"\\xe6\\x91\\xbe\\0\" \/* offset 16656 *\/\n+  \"\\xe6\\x92\\x9d\\0\" \/* offset 16660 *\/\n+  \"\\xe6\\x91\\xb7\\0\" \/* offset 16664 *\/\n+  \"\\xe3\\xa9\\xac\\0\" \/* offset 16668 *\/\n+  \"\\xe6\\x95\\xac\\0\" \/* offset 16672 *\/\n+  \"\\xf0\\xa3\\x80\\x8a\\0\" \/* offset 16676 *\/\n+  \"\\xe6\\x97\\xa3\\0\" \/* offset 16681 *\/\n+  \"\\xe6\\x9b\\xb8\\0\" \/* offset 16685 *\/\n+  \"\\xe6\\x99\\x89\\0\" \/* offset 16689 *\/\n+  \"\\xe3\\xac\\x99\\0\" \/* offset 16693 *\/\n+  \"\\xe3\\xac\\x88\\0\" \/* offset 16697 *\/\n+  \"\\xe3\\xab\\xa4\\0\" \/* offset 16701 *\/\n+  \"\\xe5\\x86\\x92\\0\" \/* offset 16705 *\/\n+  \"\\xe5\\x86\\x95\\0\" \/* offset 16709 *\/\n+  \"\\xe6\\x9c\\x80\\0\" \/* offset 16713 *\/\n+  \"\\xe6\\x9a\\x9c\\0\" \/* offset 16717 *\/\n+  \"\\xe8\\x82\\xad\\0\" \/* offset 16721 *\/\n+  \"\\xe4\\x8f\\x99\\0\" \/* offset 16725 *\/\n+  \"\\xe6\\x9c\\xa1\\0\" \/* offset 16729 *\/\n+  \"\\xe6\\x9d\\x9e\\0\" \/* offset 16733 *\/\n+  \"\\xe6\\x9d\\x93\\0\" \/* offset 16737 *\/\n+  \"\\xf0\\xa3\\x8f\\x83\\0\" \/* offset 16741 *\/\n+  \"\\xe3\\xad\\x89\\0\" \/* offset 16746 *\/\n+  \"\\xe6\\x9f\\xba\\0\" \/* offset 16750 *\/\n+  \"\\xe6\\x9e\\x85\\0\" \/* offset 16754 *\/\n+  \"\\xe6\\xa1\\x92\\0\" \/* offset 16758 *\/\n+  \"\\xf0\\xa3\\x91\\xad\\0\" \/* offset 16762 *\/\n+  \"\\xe6\\xa2\\x8e\\0\" \/* offset 16767 *\/\n+  \"\\xe6\\xa0\\x9f\\0\" \/* offset 16771 *\/\n+  \"\\xe6\\xa4\\x94\\0\" \/* offset 16775 *\/\n+  \"\\xe6\\xa5\\x82\\0\" \/* offset 16779 *\/\n+  \"\\xe6\\xa6\\xa3\\0\" \/* offset 16783 *\/\n+  \"\\xe6\\xa7\\xaa\\0\" \/* offset 16787 *\/\n+  \"\\xe6\\xaa\\xa8\\0\" \/* offset 16791 *\/\n+  \"\\xf0\\xa3\\x9a\\xa3\\0\" \/* offset 16795 *\/\n+  \"\\xe6\\xab\\x9b\\0\" \/* offset 16800 *\/\n+  \"\\xe3\\xb0\\x98\\0\" \/* offset 16804 *\/\n+  \"\\xe6\\xac\\xa1\\0\" \/* offset 16808 *\/\n+  \"\\xf0\\xa3\\xa2\\xa7\\0\" \/* offset 16812 *\/\n+  \"\\xe6\\xad\\x94\\0\" \/* offset 16817 *\/\n+  \"\\xe3\\xb1\\x8e\\0\" \/* offset 16821 *\/\n+  \"\\xe6\\xad\\xb2\\0\" \/* offset 16825 *\/\n+  \"\\xe6\\xae\\x9f\\0\" \/* offset 16829 *\/\n+  \"\\xe6\\xae\\xbb\\0\" \/* offset 16833 *\/\n+  \"\\xf0\\xa3\\xaa\\x8d\\0\" \/* offset 16837 *\/\n+  \"\\xf0\\xa1\\xb4\\x8b\\0\" \/* offset 16842 *\/\n+  \"\\xf0\\xa3\\xab\\xba\\0\" \/* offset 16847 *\/\n+  \"\\xe6\\xb1\\x8e\\0\" \/* offset 16852 *\/\n+  \"\\xf0\\xa3\\xb2\\xbc\\0\" \/* offset 16856 *\/\n+  \"\\xe6\\xb2\\xbf\\0\" \/* offset 16861 *\/\n+  \"\\xe6\\xb3\\x8d\\0\" \/* offset 16865 *\/\n+  \"\\xe6\\xb1\\xa7\\0\" \/* offset 16869 *\/\n+  \"\\xe6\\xb4\\x96\\0\" \/* offset 16873 *\/\n+  \"\\xe6\\xb4\\xbe\\0\" \/* offset 16877 *\/\n+  \"\\xe6\\xb5\\xa9\\0\" \/* offset 16881 *\/\n+  \"\\xe6\\xb5\\xb8\\0\" \/* offset 16885 *\/\n+  \"\\xe6\\xb6\\x85\\0\" \/* offset 16889 *\/\n+  \"\\xf0\\xa3\\xb4\\x9e\\0\" \/* offset 16893 *\/\n+  \"\\xe6\\xb4\\xb4\\0\" \/* offset 16898 *\/\n+  \"\\xe6\\xb8\\xaf\\0\" \/* offset 16902 *\/\n+  \"\\xe6\\xb9\\xae\\0\" \/* offset 16906 *\/\n+  \"\\xe3\\xb4\\xb3\\0\" \/* offset 16910 *\/\n+  \"\\xe6\\xbb\\x87\\0\" \/* offset 16914 *\/\n+  \"\\xf0\\xa3\\xbb\\x91\\0\" \/* offset 16918 *\/\n+  \"\\xe6\\xb7\\xb9\\0\" \/* offset 16923 *\/\n+  \"\\xe6\\xbd\\xae\\0\" \/* offset 16927 *\/\n+  \"\\xf0\\xa3\\xbd\\x9e\\0\" \/* offset 16931 *\/\n+  \"\\xf0\\xa3\\xbe\\x8e\\0\" \/* offset 16936 *\/\n+  \"\\xe6\\xbf\\x86\\0\" \/* offset 16941 *\/\n+  \"\\xe7\\x80\\xb9\\0\" \/* offset 16945 *\/\n+  \"\\xe7\\x80\\x9b\\0\" \/* offset 16949 *\/\n+  \"\\xe3\\xb6\\x96\\0\" \/* offset 16953 *\/\n+  \"\\xe7\\x81\\x8a\\0\" \/* offset 16957 *\/\n+  \"\\xe7\\x81\\xbd\\0\" \/* offset 16961 *\/\n+  \"\\xe7\\x81\\xb7\\0\" \/* offset 16965 *\/\n+  \"\\xe7\\x82\\xad\\0\" \/* offset 16969 *\/\n+  \"\\xf0\\xa0\\x94\\xa5\\0\" \/* offset 16973 *\/\n+  \"\\xe7\\x85\\x85\\0\" \/* offset 16978 *\/\n+  \"\\xf0\\xa4\\x89\\xa3\\0\" \/* offset 16982 *\/\n+  \"\\xe7\\x86\\x9c\\0\" \/* offset 16987 *\/\n+  \"\\xf0\\xa4\\x8e\\xab\\0\" \/* offset 16991 *\/\n+  \"\\xe7\\x88\\xa8\\0\" \/* offset 16996 *\/\n+  \"\\xe7\\x89\\x90\\0\" \/* offset 17000 *\/\n+  \"\\xf0\\xa4\\x98\\x88\\0\" \/* offset 17004 *\/\n+  \"\\xe7\\x8a\\x80\\0\" \/* offset 17009 *\/\n+  \"\\xe7\\x8a\\x95\\0\" \/* offset 17013 *\/\n+  \"\\xf0\\xa4\\x9c\\xb5\\0\" \/* offset 17017 *\/\n+  \"\\xf0\\xa4\\xa0\\x94\\0\" \/* offset 17022 *\/\n+  \"\\xe7\\x8d\\xba\\0\" \/* offset 17027 *\/\n+  \"\\xe7\\x8e\\x8b\\0\" \/* offset 17031 *\/\n+  \"\\xe3\\xba\\xac\\0\" \/* offset 17035 *\/\n+  \"\\xe7\\x8e\\xa5\\0\" \/* offset 17039 *\/\n+  \"\\xe3\\xba\\xb8\\0\" \/* offset 17043 *\/\n+  \"\\xe7\\x91\\x87\\0\" \/* offset 17047 *\/\n+  \"\\xe7\\x91\\x9c\\0\" \/* offset 17051 *\/\n+  \"\\xe7\\x92\\x85\\0\" \/* offset 17055 *\/\n+  \"\\xe7\\x93\\x8a\\0\" \/* offset 17059 *\/\n+  \"\\xe3\\xbc\\x9b\\0\" \/* offset 17063 *\/\n+  \"\\xe7\\x94\\xa4\\0\" \/* offset 17067 *\/\n+  \"\\xf0\\xa4\\xb0\\xb6\\0\" \/* offset 17071 *\/\n+  \"\\xe7\\x94\\xbe\\0\" \/* offset 17076 *\/\n+  \"\\xf0\\xa4\\xb2\\x92\\0\" \/* offset 17080 *\/\n+  \"\\xf0\\xa2\\x86\\x9f\\0\" \/* offset 17085 *\/\n+  \"\\xe7\\x98\\x90\\0\" \/* offset 17090 *\/\n+  \"\\xf0\\xa4\\xbe\\xa1\\0\" \/* offset 17094 *\/\n+  \"\\xf0\\xa4\\xbe\\xb8\\0\" \/* offset 17099 *\/\n+  \"\\xf0\\xa5\\x81\\x84\\0\" \/* offset 17104 *\/\n+  \"\\xe3\\xbf\\xbc\\0\" \/* offset 17109 *\/\n+  \"\\xe4\\x80\\x88\\0\" \/* offset 17113 *\/\n+  \"\\xf0\\xa5\\x83\\xb3\\0\" \/* offset 17117 *\/\n+  \"\\xf0\\xa5\\x83\\xb2\\0\" \/* offset 17122 *\/\n+  \"\\xf0\\xa5\\x84\\x99\\0\" \/* offset 17127 *\/\n+  \"\\xf0\\xa5\\x84\\xb3\\0\" \/* offset 17132 *\/\n+  \"\\xe7\\x9c\\x9e\\0\" \/* offset 17137 *\/\n+  \"\\xe7\\x9c\\x9f\\0\" \/* offset 17141 *\/\n+  \"\\xe7\\x9e\\x8b\\0\" \/* offset 17145 *\/\n+  \"\\xe4\\x81\\x86\\0\" \/* offset 17149 *\/\n+  \"\\xe4\\x82\\x96\\0\" \/* offset 17153 *\/\n+  \"\\xf0\\xa5\\x90\\x9d\\0\" \/* offset 17157 *\/\n+  \"\\xe7\\xa1\\x8e\\0\" \/* offset 17162 *\/\n+  \"\\xe4\\x83\\xa3\\0\" \/* offset 17166 *\/\n+  \"\\xf0\\xa5\\x98\\xa6\\0\" \/* offset 17170 *\/\n+  \"\\xf0\\xa5\\x9a\\x9a\\0\" \/* offset 17175 *\/\n+  \"\\xf0\\xa5\\x9b\\x85\\0\" \/* offset 17180 *\/\n+  \"\\xe7\\xa7\\xab\\0\" \/* offset 17185 *\/\n+  \"\\xe4\\x84\\xaf\\0\" \/* offset 17189 *\/\n+  \"\\xe7\\xa9\\x8a\\0\" \/* offset 17193 *\/\n+  \"\\xe7\\xa9\\x8f\\0\" \/* offset 17197 *\/\n+  \"\\xf0\\xa5\\xa5\\xbc\\0\" \/* offset 17201 *\/\n+  \"\\xf0\\xa5\\xaa\\xa7\\0\" \/* offset 17206 *\/\n+  \"\\xe7\\xab\\xae\\0\" \/* offset 17211 *\/\n+  \"\\xe4\\x88\\x82\\0\" \/* offset 17215 *\/\n+  \"\\xf0\\xa5\\xae\\xab\\0\" \/* offset 17219 *\/\n+  \"\\xe7\\xaf\\x86\\0\" \/* offset 17224 *\/\n+  \"\\xe7\\xaf\\x89\\0\" \/* offset 17228 *\/\n+  \"\\xe4\\x88\\xa7\\0\" \/* offset 17232 *\/\n+  \"\\xf0\\xa5\\xb2\\x80\\0\" \/* offset 17236 *\/\n+  \"\\xe7\\xb3\\x92\\0\" \/* offset 17241 *\/\n+  \"\\xe4\\x8a\\xa0\\0\" \/* offset 17245 *\/\n+  \"\\xe7\\xb3\\xa8\\0\" \/* offset 17249 *\/\n+  \"\\xe7\\xb3\\xa3\\0\" \/* offset 17253 *\/\n+  \"\\xe7\\xb4\\x80\\0\" \/* offset 17257 *\/\n+  \"\\xf0\\xa5\\xbe\\x86\\0\" \/* offset 17261 *\/\n+  \"\\xe7\\xb5\\xa3\\0\" \/* offset 17266 *\/\n+  \"\\xe4\\x8c\\x81\\0\" \/* offset 17270 *\/\n+  \"\\xe7\\xb7\\x87\\0\" \/* offset 17274 *\/\n+  \"\\xe7\\xb8\\x82\\0\" \/* offset 17278 *\/\n+  \"\\xe7\\xb9\\x85\\0\" \/* offset 17282 *\/\n+  \"\\xe4\\x8c\\xb4\\0\" \/* offset 17286 *\/\n+  \"\\xf0\\xa6\\x88\\xa8\\0\" \/* offset 17290 *\/\n+  \"\\xf0\\xa6\\x89\\x87\\0\" \/* offset 17295 *\/\n+  \"\\xe4\\x8d\\x99\\0\" \/* offset 17300 *\/\n+  \"\\xf0\\xa6\\x8b\\x99\\0\" \/* offset 17304 *\/\n+  \"\\xe7\\xbd\\xba\\0\" \/* offset 17309 *\/\n+  \"\\xf0\\xa6\\x8c\\xbe\\0\" \/* offset 17313 *\/\n+  \"\\xe7\\xbe\\x95\\0\" \/* offset 17318 *\/\n+  \"\\xe7\\xbf\\xba\\0\" \/* offset 17322 *\/\n+  \"\\xf0\\xa6\\x93\\x9a\\0\" \/* offset 17326 *\/\n+  \"\\xf0\\xa6\\x94\\xa3\\0\" \/* offset 17331 *\/\n+  \"\\xe8\\x81\\xa0\\0\" \/* offset 17336 *\/\n+  \"\\xf0\\xa6\\x96\\xa8\\0\" \/* offset 17340 *\/\n+  \"\\xe8\\x81\\xb0\\0\" \/* offset 17345 *\/\n+  \"\\xf0\\xa3\\x8d\\x9f\\0\" \/* offset 17349 *\/\n+  \"\\xe4\\x8f\\x95\\0\" \/* offset 17354 *\/\n+  \"\\xe8\\x82\\xb2\\0\" \/* offset 17358 *\/\n+  \"\\xe8\\x84\\x83\\0\" \/* offset 17362 *\/\n+  \"\\xe4\\x90\\x8b\\0\" \/* offset 17366 *\/\n+  \"\\xe8\\x84\\xbe\\0\" \/* offset 17370 *\/\n+  \"\\xe5\\xaa\\xb5\\0\" \/* offset 17374 *\/\n+  \"\\xf0\\xa6\\x9e\\xa7\\0\" \/* offset 17378 *\/\n+  \"\\xf0\\xa6\\x9e\\xb5\\0\" \/* offset 17383 *\/\n+  \"\\xf0\\xa3\\x8e\\x93\\0\" \/* offset 17388 *\/\n+  \"\\xf0\\xa3\\x8e\\x9c\\0\" \/* offset 17393 *\/\n+  \"\\xe8\\x88\\x84\\0\" \/* offset 17398 *\/\n+  \"\\xe8\\xbe\\x9e\\0\" \/* offset 17402 *\/\n+  \"\\xe4\\x91\\xab\\0\" \/* offset 17406 *\/\n+  \"\\xe8\\x8a\\x91\\0\" \/* offset 17410 *\/\n+  \"\\xe8\\x8a\\x8b\\0\" \/* offset 17414 *\/\n+  \"\\xe8\\x8a\\x9d\\0\" \/* offset 17418 *\/\n+  \"\\xe5\\x8a\\xb3\\0\" \/* offset 17422 *\/\n+  \"\\xe8\\x8a\\xb1\\0\" \/* offset 17426 *\/\n+  \"\\xe8\\x8a\\xb3\\0\" \/* offset 17430 *\/\n+  \"\\xe8\\x8a\\xbd\\0\" \/* offset 17434 *\/\n+  \"\\xe8\\x8b\\xa6\\0\" \/* offset 17438 *\/\n+  \"\\xf0\\xa6\\xac\\xbc\\0\" \/* offset 17442 *\/\n+  \"\\xe8\\x8c\\x9d\\0\" \/* offset 17447 *\/\n+  \"\\xe8\\x8d\\xa3\\0\" \/* offset 17451 *\/\n+  \"\\xe8\\x8e\\xad\\0\" \/* offset 17455 *\/\n+  \"\\xe8\\x8c\\xa3\\0\" \/* offset 17459 *\/\n+  \"\\xe8\\x8e\\xbd\\0\" \/* offset 17463 *\/\n+  \"\\xe8\\x8f\\xa7\\0\" \/* offset 17467 *\/\n+  \"\\xe8\\x8d\\x93\\0\" \/* offset 17471 *\/\n+  \"\\xe8\\x8f\\x8a\\0\" \/* offset 17475 *\/\n+  \"\\xe8\\x8f\\x8c\\0\" \/* offset 17479 *\/\n+  \"\\xe8\\x8f\\x9c\\0\" \/* offset 17483 *\/\n+  \"\\xf0\\xa6\\xb0\\xb6\\0\" \/* offset 17487 *\/\n+  \"\\xf0\\xa6\\xb5\\xab\\0\" \/* offset 17492 *\/\n+  \"\\xf0\\xa6\\xb3\\x95\\0\" \/* offset 17497 *\/\n+  \"\\xe4\\x94\\xab\\0\" \/* offset 17502 *\/\n+  \"\\xe8\\x93\\xb1\\0\" \/* offset 17506 *\/\n+  \"\\xe8\\x93\\xb3\\0\" \/* offset 17510 *\/\n+  \"\\xe8\\x94\\x96\\0\" \/* offset 17514 *\/\n+  \"\\xf0\\xa7\\x8f\\x8a\\0\" \/* offset 17518 *\/\n+  \"\\xe8\\x95\\xa4\\0\" \/* offset 17523 *\/\n+  \"\\xf0\\xa6\\xbc\\xac\\0\" \/* offset 17527 *\/\n+  \"\\xe4\\x95\\x9d\\0\" \/* offset 17532 *\/\n+  \"\\xe4\\x95\\xa1\\0\" \/* offset 17536 *\/\n+  \"\\xf0\\xa6\\xbe\\xb1\\0\" \/* offset 17540 *\/\n+  \"\\xf0\\xa7\\x83\\x92\\0\" \/* offset 17545 *\/\n+  \"\\xe4\\x95\\xab\\0\" \/* offset 17550 *\/\n+  \"\\xe8\\x99\\x90\\0\" \/* offset 17554 *\/\n+  \"\\xe8\\x99\\xa7\\0\" \/* offset 17558 *\/\n+  \"\\xe8\\x99\\xa9\\0\" \/* offset 17562 *\/\n+  \"\\xe8\\x9a\\xa9\\0\" \/* offset 17566 *\/\n+  \"\\xe8\\x9a\\x88\\0\" \/* offset 17570 *\/\n+  \"\\xe8\\x9c\\x8e\\0\" \/* offset 17574 *\/\n+  \"\\xe8\\x9b\\xa2\\0\" \/* offset 17578 *\/\n+  \"\\xe8\\x9c\\xa8\\0\" \/* offset 17582 *\/\n+  \"\\xe8\\x9d\\xab\\0\" \/* offset 17586 *\/\n+  \"\\xe8\\x9e\\x86\\0\" \/* offset 17590 *\/\n+  \"\\xe4\\x97\\x97\\0\" \/* offset 17594 *\/\n+  \"\\xe8\\x9f\\xa1\\0\" \/* offset 17598 *\/\n+  \"\\xe8\\xa0\\x81\\0\" \/* offset 17602 *\/\n+  \"\\xe4\\x97\\xb9\\0\" \/* offset 17606 *\/\n+  \"\\xe8\\xa1\\xa0\\0\" \/* offset 17610 *\/\n+  \"\\xf0\\xa7\\x99\\xa7\\0\" \/* offset 17614 *\/\n+  \"\\xe8\\xa3\\x97\\0\" \/* offset 17619 *\/\n+  \"\\xe8\\xa3\\x9e\\0\" \/* offset 17623 *\/\n+  \"\\xe4\\x98\\xb5\\0\" \/* offset 17627 *\/\n+  \"\\xe8\\xa3\\xba\\0\" \/* offset 17631 *\/\n+  \"\\xe3\\x92\\xbb\\0\" \/* offset 17635 *\/\n+  \"\\xf0\\xa7\\xa2\\xae\\0\" \/* offset 17639 *\/\n+  \"\\xf0\\xa7\\xa5\\xa6\\0\" \/* offset 17644 *\/\n+  \"\\xe4\\x9a\\xbe\\0\" \/* offset 17649 *\/\n+  \"\\xe4\\x9b\\x87\\0\" \/* offset 17653 *\/\n+  \"\\xe8\\xaa\\xa0\\0\" \/* offset 17657 *\/\n+  \"\\xf0\\xa7\\xb2\\xa8\\0\" \/* offset 17661 *\/\n+  \"\\xe8\\xb2\\xab\\0\" \/* offset 17666 *\/\n+  \"\\xe8\\xb3\\x81\\0\" \/* offset 17670 *\/\n+  \"\\xe8\\xb4\\x9b\\0\" \/* offset 17674 *\/\n+  \"\\xe8\\xb5\\xb7\\0\" \/* offset 17678 *\/\n+  \"\\xf0\\xa7\\xbc\\xaf\\0\" \/* offset 17682 *\/\n+  \"\\xf0\\xa0\\xa0\\x84\\0\" \/* offset 17687 *\/\n+  \"\\xe8\\xb7\\x8b\\0\" \/* offset 17692 *\/\n+  \"\\xe8\\xb6\\xbc\\0\" \/* offset 17696 *\/\n+  \"\\xe8\\xb7\\xb0\\0\" \/* offset 17700 *\/\n+  \"\\xf0\\xa0\\xa3\\x9e\\0\" \/* offset 17704 *\/\n+  \"\\xe8\\xbb\\x94\\0\" \/* offset 17709 *\/\n+  \"\\xf0\\xa8\\x97\\x92\\0\" \/* offset 17713 *\/\n+  \"\\xf0\\xa8\\x97\\xad\\0\" \/* offset 17718 *\/\n+  \"\\xe9\\x82\\x94\\0\" \/* offset 17723 *\/\n+  \"\\xe9\\x83\\xb1\\0\" \/* offset 17727 *\/\n+  \"\\xe9\\x84\\x91\\0\" \/* offset 17731 *\/\n+  \"\\xf0\\xa8\\x9c\\xae\\0\" \/* offset 17735 *\/\n+  \"\\xe9\\x84\\x9b\\0\" \/* offset 17740 *\/\n+  \"\\xe9\\x88\\xb8\\0\" \/* offset 17744 *\/\n+  \"\\xe9\\x8b\\x97\\0\" \/* offset 17748 *\/\n+  \"\\xe9\\x8b\\x98\\0\" \/* offset 17752 *\/\n+  \"\\xe9\\x89\\xbc\\0\" \/* offset 17756 *\/\n+  \"\\xe9\\x8f\\xb9\\0\" \/* offset 17760 *\/\n+  \"\\xe9\\x90\\x95\\0\" \/* offset 17764 *\/\n+  \"\\xf0\\xa8\\xaf\\xba\\0\" \/* offset 17768 *\/\n+  \"\\xe9\\x96\\x8b\\0\" \/* offset 17773 *\/\n+  \"\\xe4\\xa6\\x95\\0\" \/* offset 17777 *\/\n+  \"\\xe9\\x96\\xb7\\0\" \/* offset 17781 *\/\n+  \"\\xf0\\xa8\\xb5\\xb7\\0\" \/* offset 17785 *\/\n+  \"\\xe4\\xa7\\xa6\\0\" \/* offset 17790 *\/\n+  \"\\xe9\\x9b\\x83\\0\" \/* offset 17794 *\/\n+  \"\\xe5\\xb6\\xb2\\0\" \/* offset 17798 *\/\n+  \"\\xe9\\x9c\\xa3\\0\" \/* offset 17802 *\/\n+  \"\\xf0\\xa9\\x85\\x85\\0\" \/* offset 17806 *\/\n+  \"\\xf0\\xa9\\x88\\x9a\\0\" \/* offset 17811 *\/\n+  \"\\xe4\\xa9\\xae\\0\" \/* offset 17816 *\/\n+  \"\\xe4\\xa9\\xb6\\0\" \/* offset 17820 *\/\n+  \"\\xe9\\x9f\\xa0\\0\" \/* offset 17824 *\/\n+  \"\\xf0\\xa9\\x90\\x8a\\0\" \/* offset 17828 *\/\n+  \"\\xe4\\xaa\\xb2\\0\" \/* offset 17833 *\/\n+  \"\\xf0\\xa9\\x92\\x96\\0\" \/* offset 17837 *\/\n+  \"\\xe9\\xa0\\xa9\\0\" \/* offset 17842 *\/\n+  \"\\xf0\\xa9\\x96\\xb6\\0\" \/* offset 17846 *\/\n+  \"\\xe9\\xa3\\xa2\\0\" \/* offset 17851 *\/\n+  \"\\xe4\\xac\\xb3\\0\" \/* offset 17855 *\/\n+  \"\\xe9\\xa4\\xa9\\0\" \/* offset 17859 *\/\n+  \"\\xe9\\xa6\\xa7\\0\" \/* offset 17863 *\/\n+  \"\\xe9\\xa7\\x82\\0\" \/* offset 17867 *\/\n+  \"\\xe9\\xa7\\xbe\\0\" \/* offset 17871 *\/\n+  \"\\xe4\\xaf\\x8e\\0\" \/* offset 17875 *\/\n+  \"\\xf0\\xa9\\xac\\xb0\\0\" \/* offset 17879 *\/\n+  \"\\xe9\\xb1\\x80\\0\" \/* offset 17884 *\/\n+  \"\\xe9\\xb3\\xbd\\0\" \/* offset 17888 *\/\n+  \"\\xe4\\xb3\\x8e\\0\" \/* offset 17892 *\/\n+  \"\\xe4\\xb3\\xad\\0\" \/* offset 17896 *\/\n+  \"\\xe9\\xb5\\xa7\\0\" \/* offset 17900 *\/\n+  \"\\xf0\\xaa\\x83\\x8e\\0\" \/* offset 17904 *\/\n+  \"\\xe4\\xb3\\xb8\\0\" \/* offset 17909 *\/\n+  \"\\xf0\\xaa\\x84\\x85\\0\" \/* offset 17913 *\/\n+  \"\\xf0\\xaa\\x88\\x8e\\0\" \/* offset 17918 *\/\n+  \"\\xf0\\xaa\\x8a\\x91\\0\" \/* offset 17923 *\/\n+  \"\\xe4\\xb5\\x96\\0\" \/* offset 17928 *\/\n+  \"\\xe9\\xbb\\xbe\\0\" \/* offset 17932 *\/\n+  \"\\xe9\\xbc\\x85\\0\" \/* offset 17936 *\/\n+  \"\\xe9\\xbc\\x8f\\0\" \/* offset 17940 *\/\n+  \"\\xe9\\xbc\\x96\\0\" \/* offset 17944 *\/\n+  \"\\xf0\\xaa\\x98\\x80\\0\" \/* offset 17948 *\/;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gunidecomp.h","additions":1519,"deletions":1405,"binary":false,"changes":2924,"status":"modified"},{"patch":"@@ -77,26 +77,26 @@\n-#define ISALPHA(Type)   IS ((Type),             \\\n-                OR (G_UNICODE_LOWERCASE_LETTER, \\\n-                OR (G_UNICODE_UPPERCASE_LETTER, \\\n-                OR (G_UNICODE_TITLECASE_LETTER, \\\n-                OR (G_UNICODE_MODIFIER_LETTER,  \\\n-                OR (G_UNICODE_OTHER_LETTER,     0))))))\n-\n-#define ISALDIGIT(Type) IS ((Type),             \\\n-                OR (G_UNICODE_DECIMAL_NUMBER,   \\\n-                OR (G_UNICODE_LETTER_NUMBER,    \\\n-                OR (G_UNICODE_OTHER_NUMBER,     \\\n-                OR (G_UNICODE_LOWERCASE_LETTER, \\\n-                OR (G_UNICODE_UPPERCASE_LETTER, \\\n-                OR (G_UNICODE_TITLECASE_LETTER, \\\n-                OR (G_UNICODE_MODIFIER_LETTER,  \\\n-                OR (G_UNICODE_OTHER_LETTER,     0)))))))))\n-\n-#define ISMARK(Type)    IS ((Type),             \\\n-                OR (G_UNICODE_NON_SPACING_MARK, \\\n-                OR (G_UNICODE_SPACING_MARK, \\\n-                OR (G_UNICODE_ENCLOSING_MARK,   0))))\n-\n-#define ISZEROWIDTHTYPE(Type)   IS ((Type),         \\\n-                OR (G_UNICODE_NON_SPACING_MARK, \\\n-                OR (G_UNICODE_ENCLOSING_MARK,   \\\n-                OR (G_UNICODE_FORMAT,       0))))\n+#define ISALPHA(Type)   IS ((Type),                             \\\n+                            OR (G_UNICODE_LOWERCASE_LETTER,     \\\n+                            OR (G_UNICODE_UPPERCASE_LETTER,     \\\n+                            OR (G_UNICODE_TITLECASE_LETTER,     \\\n+                            OR (G_UNICODE_MODIFIER_LETTER,      \\\n+                            OR (G_UNICODE_OTHER_LETTER,         0))))))\n+\n+#define ISALDIGIT(Type) IS ((Type),                             \\\n+                            OR (G_UNICODE_DECIMAL_NUMBER,       \\\n+                            OR (G_UNICODE_LETTER_NUMBER,        \\\n+                            OR (G_UNICODE_OTHER_NUMBER,         \\\n+                            OR (G_UNICODE_LOWERCASE_LETTER,     \\\n+                            OR (G_UNICODE_UPPERCASE_LETTER,     \\\n+                            OR (G_UNICODE_TITLECASE_LETTER,     \\\n+                            OR (G_UNICODE_MODIFIER_LETTER,      \\\n+                            OR (G_UNICODE_OTHER_LETTER,         0)))))))))\n+\n+#define ISMARK(Type)    IS ((Type),                             \\\n+                            OR (G_UNICODE_NON_SPACING_MARK,     \\\n+                            OR (G_UNICODE_SPACING_MARK, \\\n+                            OR (G_UNICODE_ENCLOSING_MARK,       0))))\n+\n+#define ISZEROWIDTHTYPE(Type)   IS ((Type),                     \\\n+                            OR (G_UNICODE_NON_SPACING_MARK,     \\\n+                            OR (G_UNICODE_ENCLOSING_MARK,       \\\n+                            OR (G_UNICODE_FORMAT,               0))))\n@@ -424,0 +424,6 @@\n+  \/* A few additional codepoints are zero-width:\n+   *  - Part of the Hangul Jamo block covering medial\/vowels\/jungseong and\n+   *    final\/trailing_consonants\/jongseong Jamo\n+   *  - Jungseong and jongseong for Old Korean\n+   *  - Zero-width space (U+200B)\n+   *\/\n@@ -425,1 +431,2 @@\n-      c == 0x200B))\n+                  (c >= 0xD7B0 && c < 0xD800) ||\n+                  c == 0x200B))\n@@ -854,1 +861,1 @@\n-      else if (c == 0x0345) \/* COMBINING GREEK YPOGEGRAMMENI *\/\n+      else if (c == 0x0345)     \/* COMBINING GREEK YPOGEGRAMMENI *\/\n@@ -1003,1 +1010,1 @@\n-      if (locale_type == LOCALE_TURKIC && (c == 'I' ||\n+      if (locale_type == LOCALE_TURKIC && (c == 'I' || c == 0x130 ||\n@@ -1006,1 +1013,3 @@\n-          if (g_utf8_get_char (p) == 0x0307)\n+          gboolean combining_dot = (c == 'I' || c == G_UNICHAR_FULLWIDTH_I) &&\n+                                   g_utf8_get_char (p) == 0x0307;\n+          if (combining_dot || c == 0x130)\n@@ -1008,1 +1017,2 @@\n-              \/* I + COMBINING DOT ABOVE => i (U+0069) *\/\n+              \/* I + COMBINING DOT ABOVE => i (U+0069)\n+               * LATIN CAPITAL LETTER I WITH DOT ABOVE => i (U+0069) *\/\n@@ -1010,1 +1020,2 @@\n-              p = g_utf8_next_char (p);\n+              if (combining_dot)\n+                p = g_utf8_next_char (p);\n@@ -1047,1 +1058,1 @@\n-      else if (c == 0x03A3) \/* GREEK CAPITAL LETTER SIGMA *\/\n+      else if (c == 0x03A3)     \/* GREEK CAPITAL LETTER SIGMA *\/\n@@ -1061,1 +1072,1 @@\n-        val = 0x3c3;    \/* GREEK SMALL SIGMA *\/\n+                val = 0x3c3;    \/* GREEK SMALL SIGMA *\/\n@@ -1063,1 +1074,1 @@\n-        val = 0x3c2;    \/* GREEK SMALL FINAL SIGMA *\/\n+                val = 0x3c2;    \/* GREEK SMALL FINAL SIGMA *\/\n@@ -1066,1 +1077,1 @@\n-        val = 0x3c2;    \/* GREEK SMALL FINAL SIGMA *\/\n+            val = 0x3c2;        \/* GREEK SMALL FINAL SIGMA *\/\n@@ -1502,0 +1513,11 @@\n+\n+  \/* Unicode 14.0 additions *\/\n+    PACK ('C', 'p', 'm', 'n'), \/* G_UNICODE_SCRIPT_CYPRO_MINOAN *\/\n+    PACK ('O', 'u', 'g', 'r'), \/* G_UNICODE_SCRIPT_OLD_UYHUR *\/\n+    PACK ('T', 'n', 's', 'a'), \/* G_UNICODE_SCRIPT_TANGSA *\/\n+    PACK ('T', 'o', 't', 'o'), \/* G_UNICODE_SCRIPT_TOTO *\/\n+    PACK ('V', 'i', 't', 'h'), \/* G_UNICODE_SCRIPT_VITHKUQI *\/\n+\n+  \/* not really a Unicode script, but part of ISO 15924 *\/\n+    PACK ('Z', 'm', 't', 'h'), \/* G_UNICODE_SCRIPT_MATH *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guniprop.c","additions":58,"deletions":36,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -135,5 +135,6 @@\n- * not have. For example, `http:\/\/example.com\/` and\n- * `http:\/\/EXAMPLE.COM:80` have exactly the same meaning according\n- * to the HTTP specification, and `data:,foo` and\n- * `data:;base64,Zm9v` resolve to the same thing according to the\n- * `data:` URI specification.\n+ * not have. #GUri can help with normalization if you use the various\n+ * encoded #GUriFlags as well as %G_URI_FLAGS_SCHEME_NORMALIZE however\n+ * it is not comprehensive.\n+ * For example, `data:,foo` and `data:;base64,Zm9v` resolve to the same\n+ * thing according to the `data:` URI specification which GLib does not\n+ * handle.\n@@ -292,1 +293,2 @@\n-  gchar *decoded, *d, c;\n+  gchar c;\n+  GString *decoded;\n@@ -299,2 +301,2 @@\n-  decoded = g_malloc (length + 1);\n-  for (s = start, end = s + length, d = decoded; s < end; s++)\n+  decoded = g_string_sized_new (length + 1);\n+  for (s = start, end = s + length; s < end; s++)\n@@ -314,1 +316,1 @@\n-                  g_free (decoded);\n+                  g_string_free (decoded, TRUE);\n@@ -322,1 +324,1 @@\n-              *d++ = *s;\n+              g_string_append_c (decoded, *s);\n@@ -331,1 +333,1 @@\n-              g_free (decoded);\n+              g_string_free (decoded, TRUE);\n@@ -336,2 +338,5 @@\n-              \/* Leave the % sequence there. *\/\n-              *d++ = *s;\n+              \/* Leave the % sequence there but normalize it. *\/\n+              g_string_append_c (decoded, *s);\n+              g_string_append_c (decoded, g_ascii_toupper (s[1]));\n+              g_string_append_c (decoded, g_ascii_toupper (s[2]));\n+              s += 2;\n@@ -341,1 +346,1 @@\n-              *d++ = c;\n+              g_string_append_c (decoded, c);\n@@ -346,1 +351,4 @@\n-        *d++ = ' ';\n+        g_string_append_c (decoded, ' ');\n+      \/* Normalize any illegal characters. *\/\n+      else if (just_normalize && (!g_ascii_isgraph (*s)))\n+        g_string_append_printf (decoded, \"%%%02X\", (guchar)*s);\n@@ -348,1 +356,1 @@\n-        *d++ = *s;\n+        g_string_append_c (decoded, *s);\n@@ -350,1 +358,0 @@\n-  *d = '\\0';\n@@ -352,1 +359,1 @@\n-  len = d - decoded;\n+  len = decoded->len;\n@@ -356,1 +363,1 @@\n-      !g_utf8_validate (decoded, len, &invalid))\n+      !g_utf8_validate (decoded->str, len, &invalid))\n@@ -360,1 +367,1 @@\n-      g_free (decoded);\n+      g_string_free (decoded, TRUE);\n@@ -365,1 +372,3 @@\n-    *out = g_steal_pointer (&decoded);\n+    *out = g_string_free (decoded, FALSE);\n+  else\n+    g_string_free (decoded, TRUE);\n@@ -367,1 +376,0 @@\n-  g_free (decoded);\n@@ -417,1 +425,1 @@\n-  static const gchar hex[16] = \"0123456789ABCDEF\";\n+  static const gchar hex[] = \"0123456789ABCDEF\";\n@@ -599,1 +607,11 @@\n-    host = g_hostname_to_ascii (decoded);\n+    {\n+      host = g_hostname_to_ascii (decoded);\n+      if (host == NULL)\n+        {\n+          g_free (decoded);\n+          g_set_error (error, G_URI_ERROR, G_URI_ERROR_BAD_HOST,\n+                       _(\"Illegal internationalized hostname ‘%.*s’ in URI\"),\n+                       (gint) length, start);\n+          return FALSE;\n+        }\n+    }\n@@ -601,1 +619,3 @@\n-    host = g_steal_pointer (&decoded);\n+    {\n+      host = g_steal_pointer (&decoded);\n+    }\n@@ -743,0 +763,61 @@\n+static gboolean\n+should_normalize_empty_path (const char *scheme)\n+{\n+  const char * const schemes[] = { \"https\", \"http\", \"wss\", \"ws\" };\n+  gsize i;\n+  for (i = 0; i < G_N_ELEMENTS (schemes); ++i)\n+    {\n+      if (!strcmp (schemes[i], scheme))\n+        return TRUE;\n+    }\n+  return FALSE;\n+}\n+\n+static int\n+normalize_port (const char *scheme,\n+                int         port)\n+{\n+  const char *default_schemes[3] = { NULL };\n+  int i;\n+\n+  switch (port)\n+    {\n+    case 21:\n+      default_schemes[0] = \"ftp\";\n+      break;\n+    case 80:\n+      default_schemes[0] = \"http\";\n+      default_schemes[1] = \"ws\";\n+      break;\n+    case 443:\n+      default_schemes[0] = \"https\";\n+      default_schemes[1] = \"wss\";\n+      break;\n+    default:\n+      break;\n+    }\n+\n+  for (i = 0; default_schemes[i]; ++i)\n+    {\n+      if (!strcmp (scheme, default_schemes[i]))\n+        return -1;\n+    }\n+\n+  return port;\n+}\n+\n+static int\n+default_scheme_port (const char *scheme)\n+{\n+  if (strcmp (scheme, \"http\") == 0 || strcmp (scheme, \"ws\") == 0)\n+    return 80;\n+\n+  if (strcmp (scheme, \"https\") == 0 || strcmp (scheme, \"wss\") == 0)\n+    return 443;\n+\n+  if (strcmp (scheme, \"ftp\") == 0)\n+    return 21;\n+\n+  return -1;\n+}\n+\n@@ -761,0 +842,1 @@\n+  gchar *normalized_scheme = NULL;\n@@ -798,0 +880,1 @@\n+      normalized_scheme = g_ascii_strdown (uri_string, p - uri_string);\n@@ -799,1 +882,1 @@\n-        *scheme = g_ascii_strdown (uri_string, p - uri_string);\n+        *scheme = g_steal_pointer (&normalized_scheme);\n@@ -925,0 +1008,16 @@\n+  \/* Scheme-based normalization *\/\n+  if (flags & G_URI_FLAGS_SCHEME_NORMALIZE && ((scheme && *scheme) || normalized_scheme))\n+    {\n+      const char *scheme_str = scheme && *scheme ? *scheme : normalized_scheme;\n+\n+      if (should_normalize_empty_path (scheme_str) && path && !**path)\n+        {\n+          g_free (*path);\n+          *path = g_strdup (\"\/\");\n+        }\n+\n+      if (port && *port == -1)\n+        *port = default_scheme_port (scheme_str);\n+    }\n+\n+  g_free (normalized_scheme);\n@@ -944,0 +1043,1 @@\n+  g_free (normalized_scheme);\n@@ -1199,2 +1299,2 @@\n-\/* This does the \"Remove Dot Segments\" algorithm from section 5.2.4 of\n- * RFC 3986, except that @path is modified in place.\n+\/* Implements the \"Remove Dot Segments\" algorithm from section 5.2.4 of\n+ * RFC 3986.\n@@ -1207,1 +1307,6 @@\n-  gchar *p, *q;\n+  \/* The output can be written to the same buffer that the input\n+   * is read from, as the output pointer is only ever increased\n+   * when the input pointer is increased as well, and the input\n+   * pointer is never decreased. *\/\n+  gchar *input = path;\n+  gchar *output = path;\n@@ -1212,2 +1317,1 @@\n-  \/* Remove \".\/\" where \".\" is a complete segment. *\/\n-  for (p = path + 1; *p; )\n+  while (*input)\n@@ -1215,15 +1319,24 @@\n-      if (*(p - 1) == '\/' &&\n-          *p == '.' && *(p + 1) == '\/')\n-        memmove (p, p + 2, strlen (p + 2) + 1);\n-      else\n-        p++;\n-    }\n-  \/* Remove \".\" at end. *\/\n-  if (p > path + 2 &&\n-      *(p - 1) == '.' && *(p - 2) == '\/')\n-    *(p - 1) = '\\0';\n-\n-  \/* Remove \"<segment>\/..\/\" where <segment> != \"..\" *\/\n-  for (p = path + 1; *p; )\n-    {\n-      if (!strncmp (p, \"..\/\", 3))\n+      \/*  A.  If the input buffer begins with a prefix of \"..\/\" or \".\/\",\n+       *      then remove that prefix from the input buffer; otherwise,\n+       *\/\n+      if (strncmp (input, \"..\/\", 3) == 0)\n+        input += 3;\n+      else if (strncmp (input, \".\/\", 2) == 0)\n+        input += 2;\n+\n+      \/*  B.  if the input buffer begins with a prefix of \"\/.\/\" or \"\/.\",\n+       *      where \".\" is a complete path segment, then replace that\n+       *      prefix with \"\/\" in the input buffer; otherwise,\n+       *\/\n+      else if (strncmp (input, \"\/.\/\", 3) == 0)\n+        input += 2;\n+      else if (strcmp (input, \"\/.\") == 0)\n+        input[1] = '\\0';\n+\n+      \/*  C.  if the input buffer begins with a prefix of \"\/..\/\" or \"\/..\",\n+       *      where \"..\" is a complete path segment, then replace that\n+       *      prefix with \"\/\" in the input buffer and remove the last\n+       *      segment and its preceding \"\/\" (if any) from the output\n+       *      buffer; otherwise,\n+       *\/\n+      else if (strncmp (input, \"\/..\/\", 4) == 0)\n@@ -1231,2 +1344,9 @@\n-          p += 3;\n-          continue;\n+          input += 3;\n+          if (output > path)\n+            {\n+              do\n+                {\n+                  output--;\n+                }\n+              while (*output != '\/' && output > path);\n+            }\n@@ -1234,4 +1354,1 @@\n-      q = strchr (p + 1, '\/');\n-      if (!q)\n-        break;\n-      if (strncmp (q, \"\/..\/\", 4) != 0)\n+      else if (strcmp (input, \"\/..\") == 0)\n@@ -1239,2 +1356,9 @@\n-          p = q + 1;\n-          continue;\n+          input[1] = '\\0';\n+          if (output > path)\n+            {\n+              do\n+                 {\n+                   output--;\n+                 }\n+              while (*output != '\/' && output > path);\n+            }\n@@ -1242,13 +1366,0 @@\n-      memmove (p, q + 4, strlen (q + 4) + 1);\n-      p = path + 1;\n-    }\n-  \/* Remove \"<segment>\/..\" at end where <segment> != \"..\" *\/\n-  q = strrchr (path, '\/');\n-  if (q && q != path && !strcmp (q, \"\/..\"))\n-    {\n-      p = q - 1;\n-      while (p > path && *p != '\/')\n-        p--;\n-      if (strncmp (p, \"\/..\/\", 4) != 0)\n-        *(p + 1) = 0;\n-    }\n@@ -1256,5 +1367,19 @@\n-  \/* Remove extraneous initial \"\/..\"s *\/\n-  while (!strncmp (path, \"\/..\/\", 4))\n-    memmove (path, path + 3, strlen (path) - 2);\n-  if (!strcmp (path, \"\/..\"))\n-    path[1] = '\\0';\n+      \/*  D.  if the input buffer consists only of \".\" or \"..\", then remove\n+       *      that from the input buffer; otherwise,\n+       *\/\n+      else if (strcmp (input, \"..\") == 0 || strcmp (input, \".\") == 0)\n+        input[0] = '\\0';\n+\n+      \/*  E.  move the first path segment in the input buffer to the end of\n+       *      the output buffer, including the initial \"\/\" character (if\n+       *      any) and any subsequent characters up to, but not including,\n+       *      the next \"\/\" character or the end of the input buffer.\n+       *\/\n+      else\n+        {\n+          *output++ = *input++;\n+          while (*input && *input != '\/')\n+            *output++ = *input++;\n+        }\n+    }\n+  *output = '\\0';\n@@ -1397,0 +1522,17 @@\n+\n+      \/* Scheme normalization couldn't have been done earlier\n+       * as the relative URI may not have had a scheme *\/\n+      if (flags & G_URI_FLAGS_SCHEME_NORMALIZE)\n+        {\n+          if (should_normalize_empty_path (uri->scheme) && !*uri->path)\n+            {\n+              g_free (uri->path);\n+              uri->path = g_strdup (\"\/\");\n+            }\n+\n+          uri->port = normalize_port (uri->scheme, uri->port);\n+        }\n+    }\n+  else\n+    {\n+      remove_dot_segments (uri->path);\n@@ -1485,0 +1627,1 @@\n+  char *normalized_scheme = NULL;\n@@ -1497,0 +1640,3 @@\n+  if (flags & G_URI_FLAGS_SCHEME_NORMALIZE && scheme && ((host && port != -1) || path[0] == '\\0'))\n+    normalized_scheme = g_ascii_strdown (scheme, -1);\n+\n@@ -1557,1 +1703,1 @@\n-      if (port != -1)\n+      if (port != -1 && (!normalized_scheme || normalize_port (normalized_scheme, port) != -1))\n@@ -1561,1 +1707,3 @@\n-  if (encoded || flags & G_URI_FLAGS_ENCODED_PATH)\n+  if (path[0] == '\\0' && normalized_scheme && should_normalize_empty_path (normalized_scheme))\n+    g_string_append (str, \"\/\");\n+  else if (encoded || flags & G_URI_FLAGS_ENCODED_PATH)\n@@ -1566,0 +1714,2 @@\n+  g_free (normalized_scheme);\n+\n@@ -2322,1 +2472,1 @@\n- * Return value: (not nullable): @uri's host.\n+ * Return value: (nullable): @uri's host.\n@@ -2349,0 +2499,3 @@\n+  if (uri->port == -1 && uri->flags & G_URI_FLAGS_SCHEME_NORMALIZE)\n+    return default_scheme_port (uri->scheme);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guri.c","additions":228,"deletions":75,"binary":false,"changes":303,"status":"modified"},{"patch":"@@ -65,0 +65,4 @@\n+ * @G_URI_FLAGS_SCHEME_NORMALIZE: A scheme-based normalization will be applied.\n+ *     For example, when parsing an HTTP URI changing omitted path to `\/` and\n+ *     omitted port to `80`; and when building a URI, changing empty path to `\/`\n+ *     and default port `80`). This only supports a subset of known schemes. (Since: 2.68)\n@@ -86,0 +90,1 @@\n+  G_URI_FLAGS_SCHEME_NORMALIZE GLIB_AVAILABLE_ENUMERATOR_IN_2_68 = 1 << 8,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/guri.h","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -43,32 +43,32 @@\n-#define UTF8_COMPUTE(Char, Mask, Len)                         \\\n-  if (Char < 128)                                 \\\n-    {                                         \\\n-      Len = 1;                                    \\\n-      Mask = 0x7f;                                \\\n-    }                                         \\\n-  else if ((Char & 0xe0) == 0xc0)                         \\\n-    {                                         \\\n-      Len = 2;                                    \\\n-      Mask = 0x1f;                                \\\n-    }                                         \\\n-  else if ((Char & 0xf0) == 0xe0)                         \\\n-    {                                         \\\n-      Len = 3;                                    \\\n-      Mask = 0x0f;                                \\\n-    }                                         \\\n-  else if ((Char & 0xf8) == 0xf0)                         \\\n-    {                                         \\\n-      Len = 4;                                    \\\n-      Mask = 0x07;                                \\\n-    }                                         \\\n-  else if ((Char & 0xfc) == 0xf8)                         \\\n-    {                                         \\\n-      Len = 5;                                    \\\n-      Mask = 0x03;                                \\\n-    }                                         \\\n-  else if ((Char & 0xfe) == 0xfc)                         \\\n-    {                                         \\\n-      Len = 6;                                    \\\n-      Mask = 0x01;                                \\\n-    }                                         \\\n-  else                                        \\\n+#define UTF8_COMPUTE(Char, Mask, Len)                                         \\\n+  if (Char < 128)                                                             \\\n+    {                                                                         \\\n+      Len = 1;                                                                \\\n+      Mask = 0x7f;                                                            \\\n+    }                                                                         \\\n+  else if ((Char & 0xe0) == 0xc0)                                             \\\n+    {                                                                         \\\n+      Len = 2;                                                                \\\n+      Mask = 0x1f;                                                            \\\n+    }                                                                         \\\n+  else if ((Char & 0xf0) == 0xe0)                                             \\\n+    {                                                                         \\\n+      Len = 3;                                                                \\\n+      Mask = 0x0f;                                                            \\\n+    }                                                                         \\\n+  else if ((Char & 0xf8) == 0xf0)                                             \\\n+    {                                                                         \\\n+      Len = 4;                                                                \\\n+      Mask = 0x07;                                                            \\\n+    }                                                                         \\\n+  else if ((Char & 0xfc) == 0xf8)                                             \\\n+    {                                                                         \\\n+      Len = 5;                                                                \\\n+      Mask = 0x03;                                                            \\\n+    }                                                                         \\\n+  else if ((Char & 0xfe) == 0xfc)                                             \\\n+    {                                                                         \\\n+      Len = 6;                                                                \\\n+      Mask = 0x01;                                                            \\\n+    }                                                                         \\\n+  else                                                                        \\\n@@ -85,11 +85,11 @@\n-#define UTF8_GET(Result, Chars, Count, Mask, Len)                 \\\n-  (Result) = (Chars)[0] & (Mask);                         \\\n-  for ((Count) = 1; (Count) < (Len); ++(Count))                   \\\n-    {                                         \\\n-      if (((Chars)[(Count)] & 0xc0) != 0x80)                      \\\n-    {                                     \\\n-      (Result) = -1;                              \\\n-      break;                                  \\\n-    }                                     \\\n-      (Result) <<= 6;                                 \\\n-      (Result) |= ((Chars)[(Count)] & 0x3f);                      \\\n+#define UTF8_GET(Result, Chars, Count, Mask, Len)                             \\\n+  (Result) = (Chars)[0] & (Mask);                                             \\\n+  for ((Count) = 1; (Count) < (Len); ++(Count))                               \\\n+    {                                                                         \\\n+      if (((Chars)[(Count)] & 0xc0) != 0x80)                                  \\\n+        {                                                                     \\\n+          (Result) = -1;                                                      \\\n+          break;                                                              \\\n+        }                                                                     \\\n+      (Result) <<= 6;                                                         \\\n+      (Result) |= ((Chars)[(Count)] & 0x3f);                                  \\\n@@ -274,1 +274,2 @@\n- * @end_pos: another character offset within @str\n+ * @end_pos: another character offset within @str,\n+ *   or `-1` to indicate the end of the string\n@@ -279,0 +280,3 @@\n+ * Since GLib 2.72, `-1` can be passed to @end_pos to indicate the\n+ * end of the string.\n+ *\n@@ -291,0 +295,2 @@\n+  g_return_val_if_fail (end_pos >= start_pos || end_pos == -1, NULL);\n+\n@@ -292,1 +298,10 @@\n-  end = g_utf8_offset_to_pointer (start, end_pos - start_pos);\n+\n+  if (end_pos == -1)\n+    {\n+      glong length = g_utf8_strlen (start, -1);\n+      end = g_utf8_offset_to_pointer (start, length);\n+    }\n+  else\n+    {\n+      end = g_utf8_offset_to_pointer (start, end_pos - start_pos);\n+    }\n@@ -577,1 +592,1 @@\n-  guint i, len;\n+  gsize i, len;\n@@ -626,1 +641,1 @@\n-  if (G_UNLIKELY (max_len >= 0 && len > max_len))\n+  if (G_UNLIKELY (max_len >= 0 && len > (gsize) max_len))\n@@ -628,5 +643,5 @@\n-      for (i = 1; i < max_len; i++)\n-  {\n-    if ((((guchar *)p)[i] & 0xc0) != 0x80)\n-      return malformed_sequence;\n-  }\n+      for (i = 1; i < (gsize) max_len; i++)\n+        {\n+          if ((((guchar *)p)[i] & 0xc0) != 0x80)\n+            return malformed_sequence;\n+        }\n@@ -709,1 +724,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store the\n+ * @items_written: (out) (optional): location to store the\n@@ -826,1 +841,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -832,1 +847,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ * @items_written: (out) (optional): location to store number\n@@ -912,1 +927,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -914,1 +929,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ * @items_written: (out) (optional): location to store number\n@@ -986,1 +1001,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -990,1 +1005,2 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ *     It’s guaranteed to be non-negative.\n+ * @items_written: (out) (optional): location to store number\n@@ -992,1 +1008,1 @@\n- *     trailing 0 byte.\n+ *     trailing 0 byte. It’s guaranteed to be non-negative.\n@@ -1141,1 +1157,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -1145,1 +1161,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ * @items_written: (out) (optional): location to store number\n@@ -1279,1 +1295,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -1283,1 +1299,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ * @items_written: (out) (optional): location to store number\n@@ -1396,1 +1412,1 @@\n- * @items_read: (out caller-allocates) (optional): location to store number of\n+ * @items_read: (out) (optional): location to store number of\n@@ -1399,1 +1415,1 @@\n- * @items_written: (out caller-allocates) (optional): location to store number\n+ * @items_written: (out) (optional): location to store number\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutf8.c","additions":82,"deletions":66,"binary":false,"changes":148,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-#include <ctype.h>      \/* For tolower() *\/\n+#include <ctype.h>              \/* For tolower() *\/\n@@ -72,0 +72,1 @@\n+#include \"gquark.h\"\n@@ -93,1 +94,1 @@\n-#  include <lmcons.h>       \/* For UNLEN *\/\n+#  include <lmcons.h>           \/* For UNLEN *\/\n@@ -106,41 +107,0 @@\n-#ifdef G_PLATFORM_WIN32\n-\n-gchar *\n-_glib_get_dll_directory (void)\n-{\n-  gchar *retval;\n-  gchar *p;\n-  wchar_t wc_fn[MAX_PATH];\n-\n-#ifdef DLL_EXPORT\n-  if (glib_dll == NULL)\n-    return NULL;\n-#endif\n-\n-  \/* This code is different from that in\n-   * g_win32_get_package_installation_directory_of_module() in that\n-   * here we return the actual folder where the GLib DLL is. We don't\n-   * do the check for it being in a \"bin\" or \"lib\" subfolder and then\n-   * returning the parent of that.\n-   *\n-   * In a statically built GLib, glib_dll will be NULL and we will\n-   * thus look up the application's .exe file's location.\n-   *\/\n-  if (!GetModuleFileNameW (glib_dll, wc_fn, MAX_PATH))\n-    return NULL;\n-\n-  retval = g_utf16_to_utf8 (wc_fn, -1, NULL, NULL, NULL);\n-\n-  p = strrchr (retval, G_DIR_SEPARATOR);\n-  if (p == NULL)\n-    {\n-      \/* Wtf? *\/\n-      return NULL;\n-    }\n-  *p = '\\0';\n-\n-  return retval;\n-}\n-\n-#endif\n-\n@@ -346,2 +306,12 @@\n-    !g_file_test (program, G_FILE_TEST_IS_DIR))\n-        return g_strdup (program);\n+          !g_file_test (program, G_FILE_TEST_IS_DIR))\n+        {\n+          gchar *out = NULL, *cwd = NULL;\n+\n+          if (g_path_is_absolute (program))\n+            return g_strdup (program);\n+\n+          cwd = g_get_current_dir ();\n+          out = g_build_filename (cwd, program, NULL);\n+          g_free (cwd);\n+          return g_steal_pointer (&out);\n+        }\n@@ -456,1 +426,8 @@\n-          ret = g_strdup (startp);\n+          if (g_path_is_absolute (startp)) {\n+            ret = g_strdup (startp);\n+          } else {\n+            gchar *cwd = NULL;\n+            cwd = g_get_current_dir ();\n+            ret = g_build_filename (cwd, startp, NULL);\n+            g_free (cwd);\n+          }\n@@ -549,0 +526,1 @@\n+static  gchar   *g_user_state_dir = NULL;\n@@ -559,1 +537,1 @@\n-get_special_folder (int csidl)\n+get_special_folder (REFKNOWNFOLDERID known_folder_guid_ptr)\n@@ -561,1 +539,2 @@\n-  wchar_t path[MAX_PATH+1];\n+  wchar_t *wcp = NULL;\n+  gchar *result = NULL;\n@@ -563,3 +542,0 @@\n-  LPITEMIDLIST pidl = NULL;\n-  BOOL b;\n-  gchar *retval = NULL;\n@@ -567,9 +543,8 @@\n-  hr = SHGetSpecialFolderLocation (NULL, csidl, &pidl);\n-  if (hr == S_OK)\n-    {\n-      b = SHGetPathFromIDListW (pidl, path);\n-      if (b)\n-  retval = g_utf16_to_utf8 (path, -1, NULL, NULL, NULL);\n-      CoTaskMemFree (pidl);\n-    }\n-  return retval;\n+  hr = SHGetKnownFolderPath (known_folder_guid_ptr, 0, NULL, &wcp);\n+\n+  if (SUCCEEDED (hr))\n+    result = g_utf16_to_utf8 (wcp, -1, NULL, NULL, NULL);\n+\n+  CoTaskMemFree (wcp);\n+\n+  return result;\n@@ -596,1 +571,1 @@\n-  p--;\n+        p--;\n@@ -696,0 +671,1 @@\n+                gchar *uppercase_pw_name;\n@@ -700,2 +676,3 @@\n-                pw->pw_name[0] = g_ascii_toupper (pw->pw_name[0]);\n-                e.real_name = g_strjoinv (pw->pw_name, name_parts);\n+                uppercase_pw_name = g_strdup (pw->pw_name);\n+                uppercase_pw_name[0] = g_ascii_toupper (uppercase_pw_name[0]);\n+                e.real_name = g_strjoinv (uppercase_pw_name, name_parts);\n@@ -704,0 +681,1 @@\n+                g_free (uppercase_pw_name);\n@@ -825,1 +803,1 @@\n-    home_dir = get_special_folder (CSIDL_PROFILE);\n+    home_dir = get_special_folder (&FOLDERID_Profile);\n@@ -990,1 +968,1 @@\n-      gchar *utmp;\n+      gchar *utmp = NULL;\n@@ -1051,1 +1029,1 @@\n-static gchar *g_prgname = NULL;\n+static const gchar *g_prgname = NULL; \/* always a quark *\/\n@@ -1072,1 +1050,1 @@\n-  gchar* retval;\n+  const gchar* retval;\n@@ -1094,1 +1072,3 @@\n- * Note that for thread-safety reasons this function can only be called once.\n+ * Since GLib 2.72, this function can be called multiple times\n+ * and is fully thread safe. Prior to GLib 2.72, this function\n+ * could only be called once per process.\n@@ -1099,0 +1079,1 @@\n+  GQuark qprgname = g_quark_from_string (prgname);\n@@ -1100,2 +1081,1 @@\n-  g_free (g_prgname);\n-  g_prgname = g_strdup (prgname);\n+  g_prgname = g_quark_to_string (qprgname);\n@@ -1295,0 +1275,1 @@\n+  gboolean is_win_server = FALSE;\n@@ -1299,0 +1280,5 @@\n+      gboolean is_win11 = FALSE;\n+      OSVERSIONINFOEXW osinfo;\n+\n+      \/* Are we on Windows 2016\/2019\/2022 Server? *\/\n+      is_win_server = g_win32_check_windows_version (10, 0, 0, G_WIN32_OS_SERVER);\n@@ -1300,1 +1286,32 @@\n-      g_string_append (version, \"10\");\n+      \/*\n+       * This always succeeds if we get here, since the\n+       * g_win32_check_windows_version() already did this!\n+       * We want the OSVERSIONINFOEXW here for more even\n+       * fine-grained versioning items\n+       *\/\n+      _g_win32_call_rtl_version (&osinfo);\n+\n+      if (!is_win_server)\n+        {\n+          \/*\n+           * Windows 11 is actually Windows 10.0.22000+,\n+           * so look at the build number\n+           *\/\n+          is_win11 = (osinfo.dwBuildNumber >= 22000);\n+        }\n+      else\n+        {\n+          \/*\n+           * Windows 2022 Server is actually Windows 10.0.20348+,\n+           * Windows 2019 Server is actually Windows 10.0.17763+,\n+           * Windows 2016 Server is actually Windows 10.0.14393+,\n+           * so look at the build number\n+           *\/\n+          g_string_append (version, \"Server\");\n+          if (osinfo.dwBuildNumber >= 20348)\n+            g_string_append (version, \" 2022\");\n+          else if (osinfo.dwBuildNumber >= 17763)\n+            g_string_append (version, \" 2019\");\n+          else\n+            g_string_append (version, \" 2016\");\n+        }\n@@ -1302,2 +1319,4 @@\n-      if (!g_win32_check_windows_version (10, 0, 0, G_WIN32_OS_WORKSTATION))\n-        g_string_append (version, \" Server\");\n+      if (is_win11)\n+        g_string_append (version, \"11\");\n+      else if (!is_win_server)\n+        g_string_append (version, \"10\");\n@@ -1305,2 +1324,3 @@\n-      \/* Windows 10 is identified by its release number, such as\n-       * 1511, 1607, 1703, 1709, 1803, 1809 or 1903.\n+      \/* Windows 10\/Server 2016+ is identified by its ReleaseId or\n+       * DisplayVersion (since 20H2), such as\n+       * 1511, 1607, 1703, 1709, 1803, 1809 or 1903 etc.\n@@ -1317,1 +1337,20 @@\n-        g_string_append_printf (version, \" %s\", win10_release);\n+        {\n+          if (g_strcmp0 (win10_release, \"2009\") != 0)\n+            g_string_append_printf (version, \" %s\", win10_release);\n+          else\n+            {\n+              g_free (win10_release);\n+\n+              win10_release = get_registry_str (HKEY_LOCAL_MACHINE,\n+                                                L\"SOFTWARE\"\n+                                                L\"\\\\Microsoft\"\n+                                                L\"\\\\Windows NT\"\n+                                                L\"\\\\CurrentVersion\",\n+                                                L\"DisplayVersion\");\n+\n+              if (win10_release != NULL)\n+                g_string_append_printf (version, \" %s\", win10_release);\n+              else\n+                g_string_append_printf (version, \" 2009\");\n+            }\n+        }\n@@ -1325,4 +1364,4 @@\n-      g_string_append (version, \"8.1\");\n-\n-      if (!g_win32_check_windows_version (6, 3, 0, G_WIN32_OS_WORKSTATION))\n-        g_string_append (version, \" Server\");\n+      if (g_win32_check_windows_version (6, 3, 0, G_WIN32_OS_WORKSTATION))\n+        g_string_append (version, \"8.1\");\n+      else\n+        g_string_append (version, \"Server 2012 R2\");\n@@ -1348,2 +1387,17 @@\n-          if (!g_win32_check_windows_version (versions[i].major, versions[i].minor, versions[i].sp, G_WIN32_OS_WORKSTATION))\n-            g_string_append (version, \" Server\");\n+          if (g_win32_check_windows_version (versions[i].major, versions[i].minor, versions[i].sp, G_WIN32_OS_SERVER))\n+            {\n+              \/*\n+               * This condition should now always hold, since Windows\n+               * 7+\/Server 2008 R2+ is now required\n+               *\/\n+              if (versions[i].major == 6)\n+                {\n+                  g_string_append (version, \"Server\");\n+                  if (versions[i].minor == 2)\n+                    g_string_append (version, \" 2012\");\n+                  else if (versions[i].minor == 1)\n+                    g_string_append (version, \" 2008 R2\");\n+                  else\n+                    g_string_append (version, \" 2008\");\n+                }\n+            }\n@@ -1369,1 +1423,1 @@\n-#ifdef G_OS_UNIX\n+#if defined (G_OS_UNIX) && !defined (__APPLE__)\n@@ -1498,1 +1552,1 @@\n-#endif\n+#endif  \/* defined (G_OS_UNIX) && !defined (__APPLE__) *\/\n@@ -1612,0 +1666,1 @@\n+      g_ignore_leak (*global_str);\n@@ -1630,0 +1685,1 @@\n+      g_ignore_strv_leak (*global_strv);\n@@ -1692,0 +1748,2 @@\n+      else if (g_str_equal (dir_type, \"XDG_STATE_HOME\"))\n+        set_str_if_different (&g_user_state_dir, dir_type, dir_value);\n@@ -1713,1 +1771,1 @@\n-    data_dir = get_special_folder (CSIDL_LOCAL_APPDATA);\n+    data_dir = get_special_folder (&FOLDERID_LocalAppData);\n@@ -1739,1 +1797,1 @@\n- * [documentation for `CSIDL_LOCAL_APPDATA`](https:\/\/msdn.microsoft.com\/en-us\/library\/windows\/desktop\/bb762494%28v=vs.85%29.aspx#csidl_local_appdata).\n+ * [documentation for `FOLDERID_LocalAppData`](https:\/\/docs.microsoft.com\/en-us\/windows\/win32\/shell\/knownfolderid).\n@@ -1743,0 +1801,3 @@\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n@@ -1774,1 +1835,1 @@\n-    config_dir = get_special_folder (CSIDL_LOCAL_APPDATA);\n+    config_dir = get_special_folder (&FOLDERID_LocalAppData);\n@@ -1800,1 +1861,1 @@\n- * [documentation for `CSIDL_LOCAL_APPDATA`](https:\/\/msdn.microsoft.com\/en-us\/library\/windows\/desktop\/bb762494%28v=vs.85%29.aspx#csidl_local_appdata).\n+ * [documentation for `FOLDERID_LocalAppData`](https:\/\/docs.microsoft.com\/en-us\/windows\/win32\/shell\/knownfolderid).\n@@ -1804,0 +1865,3 @@\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n@@ -1834,1 +1898,1 @@\n-    cache_dir = get_special_folder (CSIDL_INTERNET_CACHE);\n+    cache_dir = get_special_folder (&FOLDERID_InternetCache);\n@@ -1861,1 +1925,4 @@\n- * See the [documentation for `CSIDL_INTERNET_CACHE`](https:\/\/msdn.microsoft.com\/en-us\/library\/windows\/desktop\/bb762494%28v=vs.85%29.aspx#csidl_internet_cache).\n+ * See the [documentation for `FOLDERID_InternetCache`](https:\/\/docs.microsoft.com\/en-us\/windows\/win32\/shell\/knownfolderid).\n+ *\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n@@ -1883,0 +1950,64 @@\n+static gchar *\n+g_build_user_state_dir (void)\n+{\n+  gchar *state_dir = NULL;\n+  const gchar *state_dir_env = g_getenv (\"XDG_STATE_HOME\");\n+\n+  if (state_dir_env && state_dir_env[0])\n+    state_dir = g_strdup (state_dir_env);\n+#ifdef G_OS_WIN32\n+  else\n+    state_dir = get_special_folder (&FOLDERID_LocalAppData);\n+#endif\n+  if (!state_dir || !state_dir[0])\n+    {\n+      gchar *home_dir = g_build_home_dir ();\n+      state_dir = g_build_filename (home_dir, \".local\/state\", NULL);\n+      g_free (home_dir);\n+    }\n+\n+  return g_steal_pointer (&state_dir);\n+}\n+\n+\/**\n+ * g_get_user_state_dir:\n+ *\n+ * Returns a base directory in which to store state files specific to\n+ * particular user.\n+ *\n+ * On UNIX platforms this is determined using the mechanisms described\n+ * in the\n+ * [XDG Base Directory Specification](http:\/\/www.freedesktop.org\/Standards\/basedir-spec).\n+ * In this case the directory retrieved will be `XDG_STATE_HOME`.\n+ *\n+ * On Windows it follows XDG Base Directory Specification if `XDG_STATE_HOME` is defined.\n+ * If `XDG_STATE_HOME` is undefined, the folder to use for local (as opposed\n+ * to roaming) application data is used instead. See the\n+ * [documentation for `FOLDERID_LocalAppData`](https:\/\/docs.microsoft.com\/en-us\/windows\/win32\/shell\/knownfolderid).\n+ * Note that in this case on Windows it will be the same\n+ * as what g_get_user_data_dir() returns.\n+ *\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n+ * Returns: (type filename) (transfer none): a string owned by GLib that\n+ *   must not be modified or freed.\n+ *\n+ * Since: 2.72\n+ **\/\n+const gchar *\n+g_get_user_state_dir (void)\n+{\n+  const gchar *user_state_dir;\n+\n+  G_LOCK (g_utils_global);\n+\n+  if (g_user_state_dir == NULL)\n+    g_user_state_dir = g_build_user_state_dir ();\n+  user_state_dir = g_user_state_dir;\n+\n+  G_UNLOCK (g_utils_global);\n+\n+  return user_state_dir;\n+}\n+\n@@ -1890,1 +2021,8 @@\n-    runtime_dir = g_strdup (runtime_dir_env);\n+    {\n+      runtime_dir = g_strdup (runtime_dir_env);\n+\n+      \/* If the XDG_RUNTIME_DIR environment variable is set, we are being told by\n+       * the OS that this directory exists and is appropriately configured\n+       * already.\n+       *\/\n+    }\n@@ -1895,1 +2033,3 @@\n-      \/* The user should be able to rely on the directory existing\n+      \/* Fallback case: the directory may not yet exist.\n+       *\n+       * The user should be able to rely on the directory existing\n@@ -1925,0 +2065,3 @@\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n@@ -1962,10 +2105,2 @@\n-  typedef HRESULT (WINAPI *t_SHGetKnownFolderPath) (const GUID *rfid,\n-                DWORD dwFlags,\n-                HANDLE hToken,\n-                PWSTR *ppszPath);\n-  t_SHGetKnownFolderPath p_SHGetKnownFolderPath;\n-\n-  static const GUID FOLDERID_Downloads =\n-    { 0x374de290, 0x123f, 0x4565, { 0x91, 0x64, 0x39, 0xc4, 0x92, 0x5e, 0x46, 0x7b } };\n-  static const GUID FOLDERID_Public =\n-    { 0xDFDF76A2, 0xC82A, 0x4D63, { 0x90, 0x6A, 0x56, 0x44, 0xAC, 0x45, 0x73, 0x85 } };\n+  g_user_special_dirs[G_USER_DIRECTORY_DESKTOP] = get_special_folder (&FOLDERID_Desktop);\n+  g_user_special_dirs[G_USER_DIRECTORY_DOCUMENTS] = get_special_folder (&FOLDERID_Documents);\n@@ -1973,1 +2108,3 @@\n-  wchar_t *wcp;\n+  g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = get_special_folder (&FOLDERID_Downloads);\n+  if (g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] == NULL)\n+    g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = get_special_folder (&FOLDERID_Desktop);\n@@ -1975,2 +2112,2 @@\n-  p_SHGetKnownFolderPath = (t_SHGetKnownFolderPath) GetProcAddress (GetModuleHandle (\"shell32.dll\"),\n-                    \"SHGetKnownFolderPath\");\n+  g_user_special_dirs[G_USER_DIRECTORY_MUSIC] = get_special_folder (&FOLDERID_Music);\n+  g_user_special_dirs[G_USER_DIRECTORY_PICTURES] = get_special_folder (&FOLDERID_Pictures);\n@@ -1978,2 +2115,3 @@\n-  g_user_special_dirs[G_USER_DIRECTORY_DESKTOP] = get_special_folder (CSIDL_DESKTOPDIRECTORY);\n-  g_user_special_dirs[G_USER_DIRECTORY_DOCUMENTS] = get_special_folder (CSIDL_PERSONAL);\n+  g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = get_special_folder (&FOLDERID_Public);\n+  if (g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] == NULL)\n+    g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = get_special_folder (&FOLDERID_PublicDocuments);\n@@ -1981,44 +2119,2 @@\n-  if (p_SHGetKnownFolderPath == NULL)\n-    {\n-      g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = get_special_folder (CSIDL_DESKTOPDIRECTORY);\n-    }\n-  else\n-    {\n-      wcp = NULL;\n-      (*p_SHGetKnownFolderPath) (&FOLDERID_Downloads, 0, NULL, &wcp);\n-      if (wcp)\n-        {\n-          g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = g_utf16_to_utf8 (wcp, -1, NULL, NULL, NULL);\n-          if (g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] == NULL)\n-              g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = get_special_folder (CSIDL_DESKTOPDIRECTORY);\n-          CoTaskMemFree (wcp);\n-        }\n-      else\n-          g_user_special_dirs[G_USER_DIRECTORY_DOWNLOAD] = get_special_folder (CSIDL_DESKTOPDIRECTORY);\n-    }\n-\n-  g_user_special_dirs[G_USER_DIRECTORY_MUSIC] = get_special_folder (CSIDL_MYMUSIC);\n-  g_user_special_dirs[G_USER_DIRECTORY_PICTURES] = get_special_folder (CSIDL_MYPICTURES);\n-\n-  if (p_SHGetKnownFolderPath == NULL)\n-    {\n-      \/* XXX *\/\n-      g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = get_special_folder (CSIDL_COMMON_DOCUMENTS);\n-    }\n-  else\n-    {\n-      wcp = NULL;\n-      (*p_SHGetKnownFolderPath) (&FOLDERID_Public, 0, NULL, &wcp);\n-      if (wcp)\n-        {\n-          g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = g_utf16_to_utf8 (wcp, -1, NULL, NULL, NULL);\n-          if (g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] == NULL)\n-              g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = get_special_folder (CSIDL_COMMON_DOCUMENTS);\n-          CoTaskMemFree (wcp);\n-        }\n-      else\n-          g_user_special_dirs[G_USER_DIRECTORY_PUBLIC_SHARE] = get_special_folder (CSIDL_COMMON_DOCUMENTS);\n-    }\n-\n-  g_user_special_dirs[G_USER_DIRECTORY_TEMPLATES] = get_special_folder (CSIDL_TEMPLATES);\n-  g_user_special_dirs[G_USER_DIRECTORY_VIDEOS] = get_special_folder (CSIDL_MYVIDEO);\n+  g_user_special_dirs[G_USER_DIRECTORY_TEMPLATES] = get_special_folder (&FOLDERID_Templates);\n+  g_user_special_dirs[G_USER_DIRECTORY_VIDEOS] = get_special_folder (&FOLDERID_Videos);\n@@ -2089,1 +2185,1 @@\n-  buffer[len - 1] = 0;\n+        buffer[len - 1] = 0;\n@@ -2093,1 +2189,1 @@\n-  p++;\n+        p++;\n@@ -2136,1 +2232,1 @@\n-  continue;\n+        continue;\n@@ -2139,1 +2235,1 @@\n-  p++;\n+        p++;\n@@ -2142,1 +2238,1 @@\n-  continue;\n+        continue;\n@@ -2146,1 +2242,1 @@\n-  p++;\n+        p++;\n@@ -2149,1 +2245,1 @@\n-  continue;\n+        continue;\n@@ -2153,4 +2249,4 @@\n-  {\n-    p += 5;\n-    is_relative = TRUE;\n-  }\n+        {\n+          p += 5;\n+          is_relative = TRUE;\n+        }\n@@ -2158,1 +2254,1 @@\n-  continue;\n+        continue;\n@@ -2179,1 +2275,1 @@\n-  g_user_special_dirs[directory] = g_strdup (d);\n+        g_user_special_dirs[directory] = g_strdup (d);\n@@ -2260,3 +2356,3 @@\n- * Returns: (type filename): the path to the specified special directory, or\n- *   %NULL if the logical id was not found. The returned string is owned by\n- *   GLib and should not be modified or freed.\n+ * Returns: (type filename) (nullable): the path to the specified special\n+ *   directory, or %NULL if the logical id was not found. The returned string is\n+ *   owned by GLib and should not be modified or freed.\n@@ -2306,3 +2402,0 @@\n-  static gboolean beenhere = FALSE;\n-  typedef BOOL (WINAPI *t_GetModuleHandleExA) (DWORD, LPCTSTR, HMODULE *);\n-  static t_GetModuleHandleExA p_GetModuleHandleExA = NULL;\n@@ -2314,12 +2407,3 @@\n-  if (!beenhere)\n-    {\n-      p_GetModuleHandleExA =\n-  (t_GetModuleHandleExA) GetProcAddress (GetModuleHandle (\"kernel32.dll\"),\n-                 \"GetModuleHandleExA\");\n-      beenhere = TRUE;\n-    }\n-\n-  if (p_GetModuleHandleExA == NULL ||\n-      !(*p_GetModuleHandleExA) (GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT |\n-        GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS,\n-        address, &hmodule))\n+  if (!GetModuleHandleExW (GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT |\n+                           GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS,\n+                           address, &hmodule))\n@@ -2369,6 +2453,6 @@\n-  {\n-    if (per_module_data_dirs == NULL)\n-      per_module_data_dirs = g_hash_table_new (NULL, NULL);\n-    else\n-      {\n-        retval = g_hash_table_lookup (per_module_data_dirs, hmodule);\n+        {\n+          if (per_module_data_dirs == NULL)\n+            per_module_data_dirs = g_hash_table_new (NULL, NULL);\n+          else\n+            {\n+              retval = g_hash_table_lookup (per_module_data_dirs, hmodule);\n@@ -2376,7 +2460,7 @@\n-        if (retval != NULL)\n-    {\n-      G_UNLOCK (g_utils_global);\n-      return (const gchar * const *) retval;\n-    }\n-      }\n-  }\n+              if (retval != NULL)\n+                {\n+                  G_UNLOCK (g_utils_global);\n+                  return (const gchar * const *) retval;\n+                }\n+            }\n+        }\n@@ -2388,1 +2472,1 @@\n-  p = get_special_folder (CSIDL_COMMON_APPDATA);\n+  p = get_special_folder (&FOLDERID_ProgramData);\n@@ -2393,1 +2477,1 @@\n-  p = get_special_folder (CSIDL_COMMON_DOCUMENTS);\n+  p = get_special_folder (&FOLDERID_PublicDocuments);\n@@ -2428,1 +2512,1 @@\n-  g_array_append_val (data_dirs, p);\n+        g_array_append_val (data_dirs, p);\n@@ -2443,1 +2527,1 @@\n-  g_hash_table_insert (per_module_data_dirs, hmodule, retval);\n+        g_hash_table_insert (per_module_data_dirs, hmodule, retval);\n@@ -2540,2 +2624,2 @@\n- * Windows versions.) See documentation for CSIDL_COMMON_APPDATA and\n- * CSIDL_COMMON_DOCUMENTS.\n+ * Windows versions.) See documentation for FOLDERID_ProgramData and\n+ * FOLDERID_PublicDocuments.\n@@ -2559,0 +2643,3 @@\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n@@ -2593,1 +2680,1 @@\n-      gchar *special_conf_dirs = get_special_folder (CSIDL_COMMON_APPDATA);\n+      gchar *special_conf_dirs = get_special_folder (&FOLDERID_ProgramData);\n@@ -2631,1 +2718,1 @@\n- * CSIDL_COMMON_APPDATA folder. This information will not roam and is available\n+ * FOLDERID_ProgramData folder. This information will not roam and is available\n@@ -2634,0 +2721,3 @@\n+ * The return value is cached and modifying it at runtime is not supported, as\n+ * it’s not thread-safe to modify environment variables at runtime.\n+ *\n@@ -3127,2 +3217,7 @@\n-  \/* One call to break the debugger *\/\n-  DebugBreak ();\n+  \/* One call to break the debugger\n+   * We check if a debugger is actually attached to\n+   * avoid a windows error reporting popup window\n+   * when run in a test harness \/ on CI\n+   *\/\n+  if (IsDebuggerPresent ())\n+    DebugBreak ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutils.c","additions":300,"deletions":205,"binary":false,"changes":505,"status":"modified"},{"patch":"@@ -200,0 +200,2 @@\n+GLIB_AVAILABLE_IN_2_72\n+const gchar *         g_get_user_state_dir     (void);\n@@ -437,1 +439,1 @@\n-void g_abort (void) G_GNUC_NORETURN G_ANALYZER_NORETURN;\n+G_NORETURN void g_abort (void) G_ANALYZER_NORETURN;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutils.h","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -23,0 +23,1 @@\n+#include \"glibconfig.h\"\n@@ -24,0 +25,1 @@\n+#include \"gtestutils.h\"\n@@ -31,0 +33,22 @@\n+\/* Returns the smallest power of 2 greater than or equal to n,\n+ * or 0 if such power does not fit in a gsize\n+ *\/\n+static inline gsize\n+g_nearest_pow (gsize num)\n+{\n+  gsize n = num - 1;\n+\n+  g_assert (num > 0 && num <= G_MAXSIZE \/ 2);\n+\n+  n |= n >> 1;\n+  n |= n >> 2;\n+  n |= n >> 4;\n+  n |= n >> 8;\n+  n |= n >> 16;\n+#if GLIB_SIZEOF_SIZE_T == 8\n+  n |= n >> 32;\n+#endif\n+\n+  return n + 1;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gutilsprivate.h","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n- * There are two primary forms of GVariant instances: \"serialised form\"\n+ * There are two primary forms of GVariant instances: \"serialized form\"\n@@ -87,2 +87,2 @@\n- * \"serialised form\": A serialised GVariant instance stores its value in\n- *                    the GVariant serialisation format.  All\n+ * \"serialized form\": A serialized GVariant instance stores its value in\n+ *                    the GVariant serialization format.  All\n@@ -90,1 +90,1 @@\n- *                    serialised format, as are some containers.\n+ *                    serialized format, as are some containers.\n@@ -93,1 +93,1 @@\n- *              instead of containing the serialised data for the\n+ *              instead of containing the serialized data for the\n@@ -98,2 +98,2 @@\n- * serialised form.  This happens, implicitly, if the serialised data is\n- * requested (eg: via g_variant_get_data()).  Serialised form instances\n+ * serialized form.  This happens, implicitly, if the serialized data is\n+ * requested (eg: via g_variant_get_data()).  Serialized form instances\n@@ -112,2 +112,2 @@\n- * size: this is the size of the serialised form for the instance, if it\n- *       is known.  If the instance is in serialised form then it is, by\n+ * size: this is the size of the serialized form for the instance, if it\n+ *       is known.  If the instance is in serialized form then it is, by\n@@ -129,1 +129,1 @@\n- *           holding a value in serialised form or holding a value in\n+ *           holding a value in serialized form or holding a value in\n@@ -132,1 +132,1 @@\n- *   .serialised: Only valid when the instance is in serialised form.\n+ *   .serialised: Only valid when the instance is in serialized form.\n@@ -135,1 +135,1 @@\n- *                serialised form, once these fields are set, they will\n+ *                serialized form, once these fields are set, they will\n@@ -141,1 +141,1 @@\n- *              the instance was deserialised from another instance,\n+ *              the instance was deserialized from another instance,\n@@ -146,1 +146,1 @@\n- *     .data: the serialised data (of size 'size') of the instance.\n+ *     .data: the serialized data (of size 'size') of the instance.\n@@ -152,1 +152,1 @@\n- *              - if the serialised size of the instance is 0\n+ *              - if the serialized size of the instance is 0\n@@ -155,1 +155,1 @@\n- *                deserialised out of a corrupted container such that\n+ *                deserialized out of a corrupted container such that\n@@ -168,1 +168,1 @@\n- *          conversion of the instance from tree form to serialised form\n+ *          conversion of the instance from tree form to serialized form\n@@ -173,1 +173,1 @@\n- *                When the instance is freed (or converted to serialised\n+ *                When the instance is freed (or converted to serialized\n@@ -186,1 +186,1 @@\n- *    STATE_SERIALISED: the instance is in serialised form.  If this\n+ *    STATE_SERIALISED: the instance is in serialized form.  If this\n@@ -190,2 +190,2 @@\n- *    STATE_TRUSTED: for serialised form instances, this means that the\n- *                   serialised data is known to be in normal form (ie:\n+ *    STATE_TRUSTED: for serialized form instances, this means that the\n+ *                   serialized data is known to be in normal form (ie:\n@@ -197,1 +197,1 @@\n- *                   serialised then the resulting data will be in\n+ *                   serialized then the resulting data will be in\n@@ -212,1 +212,1 @@\n- *        stack when handling deeply nested untrusted serialised GVariants.\n+ *        stack when handling deeply nested untrusted serialized GVariants.\n@@ -252,1 +252,1 @@\n- * serialised form.\n+ * serialized form.\n@@ -270,1 +270,1 @@\n-\/* This begins the main body of the recursive serialiser.\n+\/* This begins the main body of the recursive serializer.\n@@ -272,1 +272,1 @@\n- * There are 3 functions here that work as a team with the serialiser to\n+ * There are 3 functions here that work as a team with the serializer to\n@@ -276,3 +276,3 @@\n- * Note that \"serialisation\" of an instance does not mean that the\n- * instance is converted to serialised form -- it means that the\n- * serialised form of an instance is written to an external buffer.\n+ * Note that \"serialization\" of an instance does not mean that the\n+ * instance is converted to serialized form -- it means that the\n+ * serialized form of an instance is written to an external buffer.\n@@ -281,1 +281,1 @@\n- * instance to serialised form.\n+ * instance to serialized form.\n@@ -284,2 +284,2 @@\n- * instances are always in serialised form.  For these instances,\n- * storing their serialised form merely involves a memcpy().\n+ * instances are always in serialized form.  For these instances,\n+ * storing their serialized form merely involves a memcpy().\n@@ -287,2 +287,2 @@\n- * Serialisation is a two-step process.  First, the size of the\n- * serialised data must be calculated so that an appropriately-sized\n+ * Serialization is a two-step process.  First, the size of the\n+ * serialized data must be calculated so that an appropriately-sized\n@@ -295,1 +295,1 @@\n- *   serialiser code to determine the size.  The serialiser is passed\n+ *   serializer code to determine the size.  The serializer is passed\n@@ -298,1 +298,1 @@\n- *   g_variant_fill_gvs() is called by the serialiser on each child of\n+ *   g_variant_fill_gvs() is called by the serializer on each child of\n@@ -302,1 +302,1 @@\n- *   The serialiser uses the size information from the children to\n+ *   The serializer uses the size information from the children to\n@@ -307,2 +307,2 @@\n- *   called on the container.  This invokes the serialiser code to write\n- *   the bytes to the container.  The serialiser is, again, passed\n+ *   called on the container.  This invokes the serializer code to write\n+ *   the bytes to the container.  The serializer is, again, passed\n@@ -314,2 +314,2 @@\n- *   g_variant_store().  In the event that the instance is in serialised\n- *   form this means a memcpy() of the serialised data into the\n+ *   g_variant_store().  In the event that the instance is in serialized\n+ *   form this means a memcpy() of the serialized data into the\n@@ -329,1 +329,1 @@\n- * must be done as a precursor to any serialisation of the value in\n+ * must be done as a precursor to any serialization of the value in\n@@ -357,1 +357,1 @@\n- * Serialises @value into @data.  @value must be in tree form.\n+ * Serializes @value into @data.  @value must be in tree form.\n@@ -392,1 +392,1 @@\n- * to the serialiser.  This callback gets called on each child of the\n+ * to the serializer.  This callback gets called on each child of the\n@@ -398,1 +398,1 @@\n- *  - reporting its serialised size (requires knowing the size first)\n+ *  - reporting its serialized size (requires knowing the size first)\n@@ -400,1 +400,1 @@\n- *  - possibly storing its serialised form into the provided buffer\n+ *  - possibly storing its serialized form into the provided buffer\n@@ -428,1 +428,1 @@\n-\/* this ends the main body of the recursive serialiser *\/\n+\/* this ends the main body of the recursive serializer *\/\n@@ -434,1 +434,1 @@\n- * Ensures that @value is in serialised form.\n+ * Ensures that @value is in serialized form.\n@@ -437,3 +437,3 @@\n- * serialised size is known and then allocates a buffer of that size and\n- * serialises the instance into the buffer.  The 'children' array is\n- * then released and the instance is set to serialised form based on the\n+ * serialized size is known and then allocates a buffer of that size and\n+ * serializes the instance into the buffer.  The 'children' array is\n+ * then released and the instance is set to serialized form based on the\n@@ -509,2 +509,2 @@\n- * Constructs a new serialised-mode #GVariant instance.  This is the\n- * inner interface for creation of new serialised values that gets\n+ * Constructs a new serialized-mode #GVariant instance.  This is the\n+ * inner interface for creation of new serialized values that gets\n@@ -618,1 +618,1 @@\n- * interface for creation of new serialised values that gets called from\n+ * interface for creation of new serialized values that gets called from\n@@ -890,1 +890,1 @@\n- * In the case that @value is already in serialised form or the size has\n+ * In the case that @value is already in serialized form or the size has\n@@ -896,1 +896,1 @@\n- * Returns: the serialised size of @value\n+ * Returns: the serialized size of @value\n@@ -914,1 +914,1 @@\n- * Returns a pointer to the serialised form of a #GVariant instance.\n+ * Returns a pointer to the serialized form of a #GVariant instance.\n@@ -919,2 +919,2 @@\n- * If @value is a fixed-sized value that was deserialised from a\n- * corrupted serialised container then %NULL may be returned.  In this\n+ * If @value is a fixed-sized value that was deserialized from a\n+ * corrupted serialized container then %NULL may be returned.  In this\n@@ -925,3 +925,3 @@\n- * In the case that @value is already in serialised form, this function\n- * is O(1).  If the value is not already in serialised form,\n- * serialisation occurs implicitly and is approximately O(n) in the size\n+ * In the case that @value is already in serialized form, this function\n+ * is O(1).  If the value is not already in serialized form,\n+ * serialization occurs implicitly and is approximately O(n) in the size\n@@ -930,2 +930,2 @@\n- * To deserialise the data returned by this function, in addition to the\n- * serialised data, you must know the type of the #GVariant, and (if the\n+ * To deserialize the data returned by this function, in addition to the\n+ * serialized data, you must know the type of the #GVariant, and (if the\n@@ -934,1 +934,1 @@\n- * serialised #GVariants must include this information either\n+ * serialized #GVariants must include this information either\n@@ -938,1 +938,1 @@\n- * serialised data).\n+ * serialized data).\n@@ -940,1 +940,1 @@\n- * Returns: (transfer none): the serialised form of @value, or %NULL\n+ * Returns: (transfer none): the serialized form of @value, or %NULL\n@@ -958,1 +958,1 @@\n- * Returns a pointer to the serialised form of a #GVariant instance.\n+ * Returns a pointer to the serialized form of a #GVariant instance.\n@@ -1067,1 +1067,1 @@\n- * to @value, if @value has not been serialised at the time this function is\n+ * to @value, if @value has not been serialized at the time this function is\n@@ -1116,2 +1116,2 @@\n-    \/* get the serialiser to extract the serialised data for the child\n-     * from the serialised data for the container\n+    \/* get the serializer to extract the serialized data for the child\n+     * from the serialized data for the container\n@@ -1135,1 +1135,1 @@\n-    \/* create a new serialised instance out of it *\/\n+    \/* create a new serialized instance out of it *\/\n@@ -1159,1 +1159,1 @@\n- * @data: (not nullable): the location to store the serialised data at\n+ * @data: (not nullable): the location to store the serialized data at\n@@ -1161,1 +1161,1 @@\n- * Stores the serialised form of @value at @data.  @data should be\n+ * Stores the serialized form of @value at @data.  @data should be\n@@ -1168,2 +1168,2 @@\n- * As with g_variant_get_data(), to be able to deserialise the\n- * serialised variant successfully, its type and (if the destination\n+ * As with g_variant_get_data(), to be able to deserialize the\n+ * serialized variant successfully, its type and (if the destination\n@@ -1202,1 +1202,1 @@\n- * serialised data is in normal form: load the data into a #GVariant\n+ * serialized data is in normal form: load the data into a #GVariant\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-core.c","additions":77,"deletions":77,"binary":false,"changes":154,"status":"modified"},{"patch":"@@ -1567,1 +1567,1 @@\n-  gchar *end;\n+  gchar *end = NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-parser.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- *    - determines (according to serialised data) how many child values\n+ *    - determines (according to serialized data) how many child values\n@@ -51,1 +51,1 @@\n- *    - gets the type of and the serialised data corresponding to a\n+ *    - gets the type of and the serialized data corresponding to a\n@@ -55,1 +55,1 @@\n- *    - determines how much space would be required to serialise a\n+ *    - determines how much space would be required to serialize a\n@@ -57,1 +57,1 @@\n- *      buffers can be preallocated before serialising.\n+ *      buffers can be preallocated before serializing.\n@@ -60,1 +60,1 @@\n- *    - write the serialised data for a container of this type,\n+ *    - write the serialized data for a container of this type,\n@@ -66,1 +66,1 @@\n- *      the serialised data of a container.  Other forms are possible\n+ *      the serialized data of a container.  Other forms are possible\n@@ -75,1 +75,1 @@\n- * The second part also contains a routine to byteswap serialised\n+ * The second part also contains a routine to byteswap serialized\n@@ -93,1 +93,1 @@\n- * @data: (nullable): the serialised data of this value, or %NULL\n+ * @data: (nullable): the serialized data of this value, or %NULL\n@@ -96,1 +96,1 @@\n- * A structure representing a GVariant in serialised form.  This\n+ * A structure representing a GVariant in serialized form.  This\n@@ -98,1 +98,1 @@\n- * primary interface to the serialiser.  See #GVariantSerialisedFiller\n+ * primary interface to the serializer.  See #GVariantSerialisedFiller\n@@ -101,1 +101,1 @@\n- * When used with the serialiser API functions, the following invariants\n+ * When used with the serializer API functions, the following invariants\n@@ -103,1 +103,1 @@\n- * returned from the serialiser.\n+ * returned from the serializer.\n@@ -120,1 +120,1 @@\n- * @depth has no restrictions; the depth of a top-level serialised #GVariant is\n+ * @depth has no restrictions; the depth of a top-level serialized #GVariant is\n@@ -188,1 +188,1 @@\n- * that was passed to the serialiser in the @children array.  It\n+ * that was passed to the serializer in the @children array.  It\n@@ -190,1 +190,1 @@\n- * serialised.  The information filled in to @serialised is the\n+ * serialized.  The information filled in to @serialised is the\n@@ -200,1 +200,1 @@\n- * required amount of space to store the serialised form of the child.\n+ * required amount of space to store the serialized form of the child.\n@@ -205,2 +205,2 @@\n- * aligned for and large enough to store the serialised data of the\n- * child.  The callback must store the serialised form of the child at\n+ * aligned for and large enough to store the serialized data of the\n+ * child.  The callback must store the serialized form of the child at\n@@ -210,1 +210,1 @@\n- * recurse back into the serialiser by calling\n+ * recurse back into the serializer by calling\n@@ -217,1 +217,1 @@\n- * This section contains the serialiser implementation functions for\n+ * This section contains the serializer implementation functions for\n@@ -238,1 +238,1 @@\n- * serialised data of the child value forms the entire serialised data\n+ * serialized data of the child value forms the entire serialized data\n@@ -334,2 +334,2 @@\n- * the \"Just\" case; in that case, the serialised data of the child value\n- * forms the first part of the serialised data of the maybe value and is\n+ * the \"Just\" case; in that case, the serialized data of the child value\n+ * forms the first part of the serialized data of the maybe value and is\n@@ -338,1 +338,1 @@\n- * serialised ata of the child value.\n+ * serialized ata of the child value.\n@@ -427,2 +427,2 @@\n- * For fixed sized arrays, the serialised data is simply a concatenation\n- * of the serialised data of each element, in order.  Since fixed-sized\n+ * For fixed sized arrays, the serialized data is simply a concatenation\n+ * of the serialized data of each element, in order.  Since fixed-sized\n@@ -538,1 +538,1 @@\n- * boundary between two bytes.  In 4 bytes of serialised data, there\n+ * boundary between two bytes.  In 4 bytes of serialized data, there\n@@ -543,1 +543,1 @@\n- * to the start of the serialised data of the array.  Offsets are always\n+ * to the start of the serialized data of the array.  Offsets are always\n@@ -545,1 +545,1 @@\n- * need to be.  For example, in 255 bytes of serialised data, there are\n+ * need to be.  For example, in 255 bytes of serialized data, there are\n@@ -547,1 +547,1 @@\n- * integer.  In 256 bytes of serialised data, however, there are 257\n+ * integer.  In 256 bytes of serialized data, however, there are 257\n@@ -551,1 +551,1 @@\n- * The offsets are stored at the end of the serialised data of the\n+ * The offsets are stored at the end of the serialized data of the\n@@ -554,1 +554,1 @@\n- * serialised data for purposes of determining the size of the offsets.\n+ * serialized data for purposes of determining the size of the offsets.\n@@ -556,1 +556,1 @@\n- * value of array could have two different serialised forms.\n+ * value of array could have two different serialized forms.\n@@ -561,1 +561,1 @@\n- * the array's serialised data to 255 -- which means that the use of an\n+ * the array's serialized data to 255 -- which means that the use of an\n@@ -565,2 +565,2 @@\n- * deserialiser, only the smaller of the two is considered to be in\n- * normal form and that is the one that the serialiser must produce.\n+ * deserializer, only the smaller of the two is considered to be in\n+ * normal form and that is the one that the serializer must produce.\n@@ -843,1 +843,1 @@\n- * they are, in terms of serialisation, a hybrid of variable-sized and\n+ * they are, in terms of serialization, a hybrid of variable-sized and\n@@ -848,1 +848,1 @@\n- * know exactly how many offsets to expect in the serialised data (and\n+ * know exactly how many offsets to expect in the serialized data (and\n@@ -850,1 +850,1 @@\n- * means that we know where the end of the serialised data for the last\n+ * means that we know where the end of the serialized data for the last\n@@ -856,1 +856,1 @@\n- * iterator-based deserialisers to be more efficient.\n+ * iterator-based deserializers to be more efficient.\n@@ -1161,1 +1161,1 @@\n- * Variants are stored by storing the serialised data of the child,\n+ * Variants are stored by storing the serialized data of the child,\n@@ -1290,1 +1290,1 @@\n-\/* PART 2: Serialiser API {{{1\n+\/* PART 2: Serializer API {{{1\n@@ -1292,1 +1292,1 @@\n- * This is the implementation of the API of the serialiser as advertised\n+ * This is the implementation of the API of the serializer as advertised\n@@ -1341,1 +1341,1 @@\n-\/* Serialiser entry points {{{2\n+\/* Serializer entry points {{{2\n@@ -1343,1 +1343,1 @@\n- * These are the functions that are called in order for the serialiser\n+ * These are the functions that are called in order for the serializer\n@@ -1351,1 +1351,1 @@\n- * For serialised data that represents a container value (maybes,\n+ * For serialized data that represents a container value (maybes,\n@@ -1375,1 +1375,1 @@\n- * Extracts a child from a serialised data representing a container\n+ * Extracts a child from a serialized data representing a container\n@@ -1424,1 +1424,1 @@\n- * Writes data in serialised form.\n+ * Writes data in serialized form.\n@@ -1427,1 +1427,1 @@\n- * the type that we are serialising.\n+ * the type that we are serializing.\n@@ -1433,1 +1433,1 @@\n- * memory region large enough to serialise into (ie: at least as big as\n+ * memory region large enough to serialize into (ie: at least as big as\n@@ -1436,1 +1436,1 @@\n- * This function is only resonsible for serialising the top-level\n+ * This function is only resonsible for serializing the top-level\n@@ -1460,1 +1460,1 @@\n- * @type_info: the type to serialise for\n+ * @type_info: the type to serialize for\n@@ -1465,1 +1465,1 @@\n- * Determines how much memory would be needed to serialise this value.\n+ * Determines how much memory would be needed to serialize this value.\n@@ -1492,1 +1492,1 @@\n- * Byte-swap serialised data.  The result of this function is only\n+ * Byte-swap serialized data.  The result of this function is only\n@@ -1580,1 +1580,1 @@\n- * precisely one normal form of serialised data for each possible value.\n+ * precisely one normal form of serialized data for each possible value.\n@@ -1582,1 +1582,1 @@\n- * It is possible that multiple byte sequences form the serialised data\n+ * It is possible that multiple byte sequences form the serialized data\n@@ -1590,0 +1590,3 @@\n+  if (serialised.depth >= G_VARIANT_MAX_RECURSION_DEPTH)\n+    return FALSE;\n+\n@@ -1598,2 +1601,0 @@\n-  if (serialised.depth >= G_VARIANT_MAX_RECURSION_DEPTH)\n-    return FALSE;\n@@ -1669,1 +1670,1 @@\n- * Also, ensures that @data is a valid DBus object path, as per the D-Bus\n+ * Also, ensures that @data is a valid D-Bus object path, as per the D-Bus\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-serialiser.c","additions":60,"deletions":59,"binary":false,"changes":119,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-\/* deserialisation *\/\n+\/* deserialization *\/\n@@ -41,1 +41,1 @@\n-\/* serialisation *\/\n+\/* serialization *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant-serialiser.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,1 +36,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -53,1 +52,1 @@\n- * sending method parameters in DBus, or when saving settings using GSettings.\n+ * sending method parameters in D-Bus, or when saving settings using GSettings.\n@@ -88,1 +87,1 @@\n- * #GVariant is heavily optimised for dealing with data in serialised\n+ * #GVariant is heavily optimised for dealing with data in serialized\n@@ -90,1 +89,1 @@\n- * files.  It can perform nearly all deserialisation operations in a\n+ * files.  It can perform nearly all deserialization operations in a\n@@ -92,1 +91,1 @@\n- * Serialised #GVariant data can also be sent over the network.\n+ * Serialized #GVariant data can also be sent over the network.\n@@ -96,2 +95,2 @@\n- * exceptions.  (However, #GVariant's serialisation format is not the same\n- * as the serialisation format of a D-Bus message body: use #GDBusMessage,\n+ * exceptions.  (However, #GVariant's serialization format is not the same\n+ * as the serialization format of a D-Bus message body: use #GDBusMessage,\n@@ -100,1 +99,1 @@\n- * For space-efficiency, the #GVariant serialisation format does not\n+ * For space-efficiency, the #GVariant serialization format does not\n@@ -130,1 +129,1 @@\n- * purposes: memory for serialised data, memory for the type\n+ * purposes: memory for serialized data, memory for the type\n@@ -134,1 +133,1 @@\n- * ## Serialised Data Memory\n+ * ## Serialized Data Memory\n@@ -137,1 +136,1 @@\n- * serialised form.  This is what would be sent over the network or\n+ * serialized form.  This is what would be sent over the network or\n@@ -171,1 +170,1 @@\n- * the serialisation.\n+ * the serialization.\n@@ -197,1 +196,1 @@\n- * type information structure is required for rapid deserialisation.\n+ * type information structure is required for rapid deserialization.\n@@ -242,1 +241,1 @@\n- * with the various different possible sources of serialised data\n+ * with the various different possible sources of serialized data\n@@ -249,1 +248,1 @@\n- * serialised data.  The size of the buffer management structure\n+ * serialized data.  The size of the buffer management structure\n@@ -259,1 +258,1 @@\n- * serialised data for the example given above (with the dictionary)\n+ * serialized data for the example given above (with the dictionary)\n@@ -269,2 +268,2 @@\n- * type information is shared.  The serialised data and the buffer\n- * management structure for that serialised data is shared by the\n+ * type information is shared.  The serialized data and the buffer\n+ * management structure for that serialized data is shared by the\n@@ -278,1 +277,1 @@\n- * for the serialised data, 16 bytes for buffer management and 24\n+ * for the serialized data, 16 bytes for buffer management and 24\n@@ -283,1 +282,1 @@\n- * would use more memory for the serialised data and buffer\n+ * would use more memory for the serialized data and buffer\n@@ -804,1 +803,7 @@\n-      TYPE_CHECK (children[i], child_type, NULL);\n+      if G_UNLIKELY (!g_variant_is_of_type (children[i], child_type))\n+        {\n+          while (i != 0)\n+            g_variant_unref (my_children[--i]);\n+          g_free (my_children);\n+          g_return_val_if_fail (g_variant_is_of_type (children[i], child_type), NULL);\n+        }\n@@ -1099,1 +1104,1 @@\n- * Provides access to the serialised data for an array of fixed-sized\n+ * Provides access to the serialized data for an array of fixed-sized\n@@ -1107,1 +1112,1 @@\n- * [serialized data memory][gvariant-serialised-data-memory].\n+ * [serialized data memory][gvariant-serialized-data-memory].\n@@ -1120,1 +1125,1 @@\n- * of a double-check that the form of the serialised data matches the caller's\n+ * of a double-check that the form of the serialized data matches the caller's\n@@ -1195,1 +1200,1 @@\n- * of a double-check that the form of the serialised data matches the caller's\n+ * of a double-check that the form of the serialized data matches the caller's\n@@ -2749,2 +2754,2 @@\n-  \/* if both values are trusted to be in their canonical serialised form\n-   * then a simple memcmp() of their serialised data will answer the\n+  \/* if both values are trusted to be in their canonical serialized form\n+   * then a simple memcmp() of their serialized data will answer the\n@@ -3207,2 +3212,1 @@\n-#define is_valid_builder(b)      (b != NULL && \\\n-                                  GVSB(b)->magic == GVSB_MAGIC)\n+#define is_valid_builder(b)      (GVSB(b)->magic == GVSB_MAGIC)\n@@ -3218,1 +3222,3 @@\n-  if (is_valid_builder (builder))\n+  if (builder == NULL)\n+    return FALSE;\n+  else if (is_valid_builder (builder))\n@@ -3235,0 +3241,18 @@\n+\/* return_if_invalid_builder (b) is like\n+ * g_return_if_fail (ensure_valid_builder (b)), except that\n+ * the side effects of ensure_valid_builder are evaluated\n+ * regardless of whether G_DISABLE_CHECKS is defined or not. *\/\n+#define return_if_invalid_builder(b) G_STMT_START {                \\\n+  gboolean valid_builder G_GNUC_UNUSED = ensure_valid_builder (b); \\\n+  g_return_if_fail (valid_builder);                                \\\n+} G_STMT_END\n+\n+\/* return_val_if_invalid_builder (b, val) is like\n+ * g_return_val_if_fail (ensure_valid_builder (b), val), except that\n+ * the side effects of ensure_valid_builder are evaluated\n+ * regardless of whether G_DISABLE_CHECKS is defined or not. *\/\n+#define return_val_if_invalid_builder(b, val) G_STMT_START {       \\\n+  gboolean valid_builder G_GNUC_UNUSED = ensure_valid_builder (b); \\\n+  g_return_val_if_fail (valid_builder, val);                       \\\n+} G_STMT_END\n+\n@@ -3352,1 +3376,1 @@\n-  g_return_if_fail (ensure_valid_builder (builder));\n+  return_if_invalid_builder (builder);\n@@ -3515,1 +3539,1 @@\n-  g_return_if_fail (ensure_valid_builder (builder));\n+  return_if_invalid_builder (builder);\n@@ -3596,1 +3620,1 @@\n-  g_return_if_fail (ensure_valid_builder (builder));\n+  return_if_invalid_builder (builder);\n@@ -3642,1 +3666,1 @@\n-  g_return_if_fail (ensure_valid_builder (builder));\n+  return_if_invalid_builder (builder);\n@@ -3710,1 +3734,1 @@\n-  g_return_val_if_fail (ensure_valid_builder (builder), NULL);\n+  return_val_if_invalid_builder (builder, NULL);\n@@ -3869,2 +3893,1 @@\n-#define is_valid_dict(d)        (d != NULL && \\\n-                                 GVSD(d)->magic == GVSD_MAGIC)\n+#define is_valid_dict(d)        (GVSD(d)->magic == GVSD_MAGIC)\n@@ -3880,1 +3903,3 @@\n-  if (is_valid_dict (dict))\n+  if (dict == NULL)\n+    return FALSE;\n+  else if (is_valid_dict (dict))\n@@ -3897,0 +3922,18 @@\n+\/* return_if_invalid_dict (d) is like\n+ * g_return_if_fail (ensure_valid_dict (d)), except that\n+ * the side effects of ensure_valid_dict are evaluated\n+ * regardless of whether G_DISABLE_CHECKS is defined or not. *\/\n+#define return_if_invalid_dict(d) G_STMT_START {                \\\n+  gboolean valid_dict G_GNUC_UNUSED = ensure_valid_dict (d);    \\\n+  g_return_if_fail (valid_dict);                                \\\n+} G_STMT_END\n+\n+\/* return_val_if_invalid_dict (d, val) is like\n+ * g_return_val_if_fail (ensure_valid_dict (d), val), except that\n+ * the side effects of ensure_valid_dict are evaluated\n+ * regardless of whether G_DISABLE_CHECKS is defined or not. *\/\n+#define return_val_if_invalid_dict(d, val) G_STMT_START {       \\\n+  gboolean valid_dict G_GNUC_UNUSED = ensure_valid_dict (d);    \\\n+  g_return_val_if_fail (valid_dict, val);                       \\\n+} G_STMT_END\n+\n@@ -4004,1 +4047,1 @@\n-  g_return_val_if_fail (ensure_valid_dict (dict), FALSE);\n+  return_val_if_invalid_dict (dict, FALSE);\n@@ -4049,1 +4092,1 @@\n-  g_return_val_if_fail (ensure_valid_dict (dict), NULL);\n+  return_val_if_invalid_dict (dict, NULL);\n@@ -4075,1 +4118,1 @@\n-  g_return_val_if_fail (ensure_valid_dict (dict), FALSE);\n+  return_val_if_invalid_dict (dict, FALSE);\n@@ -4103,1 +4146,1 @@\n-  g_return_if_fail (ensure_valid_dict (dict));\n+  return_if_invalid_dict (dict);\n@@ -4129,1 +4172,1 @@\n-  g_return_if_fail (ensure_valid_dict (dict));\n+  return_if_invalid_dict (dict);\n@@ -4151,1 +4194,1 @@\n-  g_return_val_if_fail (ensure_valid_dict (dict), FALSE);\n+  return_val_if_invalid_dict (dict, FALSE);\n@@ -4185,1 +4228,1 @@\n-  g_return_if_fail (ensure_valid_dict (dict));\n+  return_if_invalid_dict (dict);\n@@ -4216,1 +4259,1 @@\n-  g_return_val_if_fail (ensure_valid_dict (dict), NULL);\n+  return_val_if_invalid_dict (dict, NULL);\n@@ -4311,1 +4354,1 @@\n-#define next_char() (string == limit ? '\\0' : *string++)\n+#define next_char() (string == limit ? '\\0' : *(string++))\n@@ -5815,1 +5858,1 @@\n-\/* Serialised data {{{1 *\/\n+\/* Serialized data {{{1 *\/\n@@ -5904,1 +5947,1 @@\n- * data from untrusted sources and you want to ensure your serialised\n+ * data from untrusted sources and you want to ensure your serialized\n@@ -5999,1 +6042,1 @@\n- * @data: (array length=size) (element-type guint8): the serialised data\n+ * @data: (array length=size) (element-type guint8): the serialized data\n@@ -6005,1 +6048,1 @@\n- * Creates a new #GVariant instance from serialised data.\n+ * Creates a new #GVariant instance from serialized data.\n@@ -6015,2 +6058,2 @@\n- * If @data is trusted to be serialised data in normal form then\n- * @trusted should be %TRUE.  This applies to serialised data created\n+ * If @data is trusted to be serialized data in normal form then\n+ * @trusted should be %TRUE.  This applies to serialized data created\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant.c","additions":96,"deletions":53,"binary":false,"changes":149,"status":"modified"},{"patch":"@@ -350,1 +350,3 @@\n- * builder.  This macro can be used as initializer instead of an\n+ * builder.\n+ *\n+ * This macro can be used as initializer instead of an\n@@ -359,1 +361,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -365,1 +367,8 @@\n-#define G_VARIANT_BUILDER_INIT(variant_type) { { { 2942751021u, variant_type, { 0, } } } }\n+#define G_VARIANT_BUILDER_INIT(variant_type)                                          \\\n+  {                                                                                   \\\n+    {                                                                                 \\\n+      {                                                                               \\\n+        2942751021u \/* == GVSB_MAGIC_PARTIAL, see gvariant.c *\/, variant_type, { 0, } \\\n+      }                                                                               \\\n+    }                                                                                 \\\n+  }\n@@ -460,0 +469,1 @@\n+ *\n@@ -473,1 +483,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -480,1 +490,8 @@\n-#define G_VARIANT_DICT_INIT(asv) { { { asv, 3488698669u, { 0, } } } }\n+#define G_VARIANT_DICT_INIT(asv)                                             \\\n+  {                                                                          \\\n+    {                                                                        \\\n+      {                                                                      \\\n+        asv, 3488698669u \/* == GVSD_MAGIC_PARTIAL, see gvariant.c *\/, { 0, } \\\n+      }                                                                      \\\n+    }                                                                        \\\n+  }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvariant.h","additions":22,"deletions":5,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -66,1 +65,1 @@\n- * are of the same form as those found in DBus.  Note, however: D-Bus\n+ * are of the same form as those found in D-Bus.  Note, however: D-Bus\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttype.c","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n- * serialisation and fast deserialisation of a given type of GVariant\n+ * serialization and fast deserialization of a given type of GVariant\n@@ -96,1 +96,1 @@\n- * each member -- its type and how to find it inside the serialised data\n+ * each member -- its type and how to find it inside the serialized data\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttypeinfo.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n- * serialised data within the container's serialised data to be found\n+ * serialized data within the container's serialized data to be found\n@@ -46,1 +46,1 @@\n- * Since dictionary entries are serialised as if they were tuples of 2\n+ * Since dictionary entries are serialized as if they were tuples of 2\n@@ -51,1 +51,1 @@\n- *   The serialised data for a tuple contains an array of \"offsets\" at\n+ *   The serialized data for a tuple contains an array of \"offsets\" at\n@@ -54,1 +54,1 @@\n- *   offset points to the end point of that item's serialised data.  The\n+ *   offset points to the end point of that item's serialized data.  The\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gvarianttypeinfo.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -154,6 +154,7 @@\n- * given version. Generally you would pass in the constants\n- * #GLIB_MAJOR_VERSION, #GLIB_MINOR_VERSION, #GLIB_MICRO_VERSION\n- * as the three arguments to this function; that produces\n- * a check that the library in use is compatible with\n- * the version of GLib the application or module was compiled\n- * against.\n+ * given version.\n+ *\n+ * Generally you would pass in the constants %GLIB_MAJOR_VERSION,\n+ * %GLIB_MINOR_VERSION, %GLIB_MICRO_VERSION as the three arguments\n+ * to this function; that produces a check that the library in use\n+ * is compatible with the version of GLib the application or module\n+ * was compiled against.\n@@ -163,1 +164,1 @@\n- * @required_major.required_minor.@required_micro. Second\n+ * `@required_major.required_minor.@required_micro`. Second\n@@ -165,1 +166,1 @@\n- * version @required_major.required_minor.@required_micro\n+ * version `@required_major.@required_minor.@required_micro`\n@@ -168,4 +169,4 @@\n- * Returns: %NULL if the GLib library is compatible with the\n- *     given version, or a string describing the version mismatch.\n- *     The returned string is owned by GLib and must not be modified\n- *     or freed.\n+ * Returns: (transfer none) (nullable): %NULL if the GLib library is\n+ *   compatible with the given version, or a string describing the\n+ *   version mismatch. The returned string is owned by GLib and must\n+ *   not be modified or freed.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gversion.c","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -248,2 +248,40 @@\n-\/* evaluates to the current stable version; for development cycles,\n- * this means the next stable target\n+\/**\n+ * GLIB_VERSION_2_68:\n+ *\n+ * A macro that evaluates to the 2.68 version of GLib, in a format\n+ * that can be used by the C pre-processor.\n+ *\n+ * Since: 2.68\n+ *\/\n+#define GLIB_VERSION_2_68       (G_ENCODE_VERSION (2, 68))\n+\n+\/**\n+ * GLIB_VERSION_2_70:\n+ *\n+ * A macro that evaluates to the 2.70 version of GLib, in a format\n+ * that can be used by the C pre-processor.\n+ *\n+ * Since: 2.70\n+ *\/\n+#define GLIB_VERSION_2_70       (G_ENCODE_VERSION (2, 70))\n+\n+\/**\n+ * GLIB_VERSION_2_72:\n+ *\n+ * A macro that evaluates to the 2.72 version of GLib, in a format\n+ * that can be used by the C pre-processor.\n+ *\n+ * Since: 2.72\n+ *\/\n+#define GLIB_VERSION_2_72       (G_ENCODE_VERSION (2, 72))\n+\n+\/**\n+ * GLIB_VERSION_CUR_STABLE:\n+ *\n+ * A macro that evaluates to the current stable version of GLib, in a format\n+ * that can be used by the C pre-processor.\n+ *\n+ * During an unstable development cycle, this evaluates to the next stable\n+ * (unreleased) version which will be the result of the development cycle.\n+ *\n+ * Since: 2.32\n@@ -257,1 +295,11 @@\n-\/* evaluates to the previous stable version *\/\n+\/**\n+ * GLIB_VERSION_PREV_STABLE:\n+ *\n+ * A macro that evaluates to the previous stable version of GLib, in a format\n+ * that can be used by the C pre-processor.\n+ *\n+ * During an unstable development cycle, this evaluates to the most recent\n+ * released stable release, which preceded this development cycle.\n+ *\n+ * Since: 2.32\n+ *\/\n@@ -1017,0 +1065,102 @@\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_68\n+# define GLIB_DEPRECATED_IN_2_68                GLIB_DEPRECATED\n+# define GLIB_DEPRECATED_IN_2_68_FOR(f)         GLIB_DEPRECATED_FOR(f)\n+# define GLIB_DEPRECATED_MACRO_IN_2_68          GLIB_DEPRECATED_MACRO\n+# define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68          GLIB_DEPRECATED_ENUMERATOR\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_68           GLIB_DEPRECATED_TYPE\n+# define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n+#else\n+# define GLIB_DEPRECATED_IN_2_68                _GLIB_EXTERN\n+# define GLIB_DEPRECATED_IN_2_68_FOR(f)         _GLIB_EXTERN\n+# define GLIB_DEPRECATED_MACRO_IN_2_68\n+# define GLIB_DEPRECATED_MACRO_IN_2_68_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_68_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_68\n+# define GLIB_DEPRECATED_TYPE_IN_2_68_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_68\n+# define GLIB_AVAILABLE_IN_2_68                 GLIB_UNAVAILABLE(2, 68)\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68   GLIB_UNAVAILABLE_STATIC_INLINE(2, 68)\n+# define GLIB_AVAILABLE_MACRO_IN_2_68           GLIB_UNAVAILABLE_MACRO(2, 68)\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_68      GLIB_UNAVAILABLE_ENUMERATOR(2, 68)\n+# define GLIB_AVAILABLE_TYPE_IN_2_68            GLIB_UNAVAILABLE_TYPE(2, 68)\n+#else\n+# define GLIB_AVAILABLE_IN_2_68                 _GLIB_EXTERN\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_68\n+# define GLIB_AVAILABLE_MACRO_IN_2_68\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_68\n+# define GLIB_AVAILABLE_TYPE_IN_2_68\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_70\n+# define GLIB_DEPRECATED_IN_2_70                GLIB_DEPRECATED\n+# define GLIB_DEPRECATED_IN_2_70_FOR(f)         GLIB_DEPRECATED_FOR(f)\n+# define GLIB_DEPRECATED_MACRO_IN_2_70          GLIB_DEPRECATED_MACRO\n+# define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70          GLIB_DEPRECATED_ENUMERATOR\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_70           GLIB_DEPRECATED_TYPE\n+# define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n+#else\n+# define GLIB_DEPRECATED_IN_2_70                _GLIB_EXTERN\n+# define GLIB_DEPRECATED_IN_2_70_FOR(f)         _GLIB_EXTERN\n+# define GLIB_DEPRECATED_MACRO_IN_2_70\n+# define GLIB_DEPRECATED_MACRO_IN_2_70_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_70_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_70\n+# define GLIB_DEPRECATED_TYPE_IN_2_70_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_70\n+# define GLIB_AVAILABLE_IN_2_70                 GLIB_UNAVAILABLE(2, 70)\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70   GLIB_UNAVAILABLE_STATIC_INLINE(2, 70)\n+# define GLIB_AVAILABLE_MACRO_IN_2_70           GLIB_UNAVAILABLE_MACRO(2, 70)\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_70      GLIB_UNAVAILABLE_ENUMERATOR(2, 70)\n+# define GLIB_AVAILABLE_TYPE_IN_2_70            GLIB_UNAVAILABLE_TYPE(2, 70)\n+#else\n+# define GLIB_AVAILABLE_IN_2_70                 _GLIB_EXTERN\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_70\n+# define GLIB_AVAILABLE_MACRO_IN_2_70\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_70\n+# define GLIB_AVAILABLE_TYPE_IN_2_70\n+#endif\n+\n+#if GLIB_VERSION_MIN_REQUIRED >= GLIB_VERSION_2_72\n+# define GLIB_DEPRECATED_IN_2_72                GLIB_DEPRECATED\n+# define GLIB_DEPRECATED_IN_2_72_FOR(f)         GLIB_DEPRECATED_FOR(f)\n+# define GLIB_DEPRECATED_MACRO_IN_2_72          GLIB_DEPRECATED_MACRO\n+# define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f)   GLIB_DEPRECATED_MACRO_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72          GLIB_DEPRECATED_ENUMERATOR\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)   GLIB_DEPRECATED_ENUMERATOR_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_72           GLIB_DEPRECATED_TYPE\n+# define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f)    GLIB_DEPRECATED_TYPE_FOR(f)\n+#else\n+# define GLIB_DEPRECATED_IN_2_72                _GLIB_EXTERN\n+# define GLIB_DEPRECATED_IN_2_72_FOR(f)         _GLIB_EXTERN\n+# define GLIB_DEPRECATED_MACRO_IN_2_72\n+# define GLIB_DEPRECATED_MACRO_IN_2_72_FOR(f)\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72\n+# define GLIB_DEPRECATED_ENUMERATOR_IN_2_72_FOR(f)\n+# define GLIB_DEPRECATED_TYPE_IN_2_72\n+# define GLIB_DEPRECATED_TYPE_IN_2_72_FOR(f)\n+#endif\n+\n+#if GLIB_VERSION_MAX_ALLOWED < GLIB_VERSION_2_72\n+# define GLIB_AVAILABLE_IN_2_72                 GLIB_UNAVAILABLE(2, 72)\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72   GLIB_UNAVAILABLE_STATIC_INLINE(2, 72)\n+# define GLIB_AVAILABLE_MACRO_IN_2_72           GLIB_UNAVAILABLE_MACRO(2, 72)\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_72      GLIB_UNAVAILABLE_ENUMERATOR(2, 72)\n+# define GLIB_AVAILABLE_TYPE_IN_2_72            GLIB_UNAVAILABLE_TYPE(2, 72)\n+#else\n+# define GLIB_AVAILABLE_IN_2_72                 _GLIB_EXTERN\n+# define GLIB_AVAILABLE_STATIC_INLINE_IN_2_72\n+# define GLIB_AVAILABLE_MACRO_IN_2_72\n+# define GLIB_AVAILABLE_ENUMERATOR_IN_2_72\n+# define GLIB_AVAILABLE_TYPE_IN_2_72\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gversionmacros.h","additions":153,"deletions":3,"binary":false,"changes":156,"status":"modified"},{"patch":"@@ -21,1 +21,1 @@\n- * If @debugger_size (in bytes) is overflowed, return %FALSE.\n+ * If @debugger_size (in wchar_ts) is overflowed, return %FALSE.\n@@ -26,5 +26,5 @@\n-_g_win32_subst_pid_and_event (char       *debugger,\n-                              gsize       debugger_size,\n-                              const char *cmdline,\n-                              DWORD       pid,\n-                              guintptr    event)\n+_g_win32_subst_pid_and_event_w (wchar_t       *local_debugger,\n+                                gsize          debugger_size,\n+                                const wchar_t *cmdline,\n+                                DWORD          pid,\n+                                guintptr       event)\n@@ -38,1 +38,1 @@\n-  char pid_str[STR_BUFFER_SIZE] = {0};\n+  wchar_t pid_str[STR_BUFFER_SIZE] = {0};\n@@ -40,1 +40,1 @@\n-  char event_str[STR_BUFFER_SIZE] = {0};\n+  wchar_t event_str[STR_BUFFER_SIZE] = {0};\n@@ -43,1 +43,1 @@\n-  _snprintf_s (pid_str, STR_BUFFER_SIZE, G_N_ELEMENTS (pid_str), \"%lu\", pid);\n+  _snwprintf_s (pid_str, STR_BUFFER_SIZE, G_N_ELEMENTS (pid_str), L\"%lu\", pid);\n@@ -45,2 +45,2 @@\n-  pid_str_len = strlen (pid_str);\n-  _snprintf_s (event_str, STR_BUFFER_SIZE, G_N_ELEMENTS (pid_str), \"%Iu\", event);\n+  pid_str_len = wcslen (pid_str);\n+  _snwprintf_s (event_str, STR_BUFFER_SIZE, G_N_ELEMENTS (pid_str), L\"%Iu\", event);\n@@ -48,1 +48,1 @@\n-  event_str_len = strlen (event_str);\n+  event_str_len = wcslen (event_str);\n@@ -53,3 +53,3 @@\n-      if (cmdline[i] != '%')\n-        debugger[dbg_i++] = cmdline[i++];\n-      else if (cmdline[i + 1] == 'p')\n+      if (cmdline[i] != L'%')\n+        local_debugger[dbg_i++] = cmdline[i++];\n+      else if (cmdline[i + 1] == L'p')\n@@ -59,1 +59,1 @@\n-            debugger[dbg_i++] = pid_str[j++];\n+            local_debugger[dbg_i++] = pid_str[j++];\n@@ -62,1 +62,1 @@\n-      else if (cmdline[i + 1] == 'e')\n+      else if (cmdline[i + 1] == L'e')\n@@ -66,1 +66,1 @@\n-            debugger[dbg_i++] = event_str[j++];\n+            local_debugger[dbg_i++] = event_str[j++];\n@@ -73,1 +73,1 @@\n-    debugger[dbg_i] = 0;\n+    local_debugger[dbg_i] = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwin32-private.c","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -110,0 +110,1 @@\n+  gchar *result;\n@@ -114,2 +115,4 @@\n-  char iso639[10];\n-  char iso3166[10];\n+  WCHAR iso639[10];\n+  gchar *iso639_utf8;\n+  WCHAR iso3166[10];\n+  gchar *iso3166_utf8;\n@@ -130,2 +133,2 @@\n-  if (!GetLocaleInfo (lcid, LOCALE_SISO639LANGNAME, iso639, sizeof (iso639)) ||\n-      !GetLocaleInfo (lcid, LOCALE_SISO3166CTRYNAME, iso3166, sizeof (iso3166)))\n+  if (!GetLocaleInfoW (lcid, LOCALE_SISO639LANGNAME, iso639, sizeof (iso639)) ||\n+      !GetLocaleInfoW (lcid, LOCALE_SISO3166CTRYNAME, iso3166, sizeof (iso3166)))\n@@ -176,1 +179,10 @@\n-  return g_strconcat (iso639, \"_\", iso3166, script, NULL);\n+\n+  iso639_utf8 = g_utf16_to_utf8 (iso639, -1, NULL, NULL, NULL);\n+  iso3166_utf8 = g_utf16_to_utf8 (iso3166, -1, NULL, NULL, NULL);\n+\n+  result = g_strconcat (iso639_utf8, \"_\", iso3166_utf8, script, NULL);\n+\n+  g_free (iso3166_utf8);\n+  g_free (iso639_utf8);\n+\n+  return result;\n@@ -482,0 +494,42 @@\n+\/*\n+ * private API to call Windows's RtlGetVersion(), which may need to be called\n+ * via GetProcAddress()\n+ *\/\n+gboolean\n+_g_win32_call_rtl_version (OSVERSIONINFOEXW *info)\n+{\n+  static OSVERSIONINFOEXW result;\n+  static gsize inited = 0;\n+\n+  g_return_val_if_fail (info != NULL, FALSE);\n+\n+  if (g_once_init_enter (&inited))\n+    {\n+#if WINAPI_FAMILY != MODERN_API_FAMILY\n+      \/* For non-modern UI Apps, use the LoadLibraryW()\/GetProcAddress() thing *\/\n+      typedef NTSTATUS (WINAPI fRtlGetVersion) (PRTL_OSVERSIONINFOEXW);\n+\n+      fRtlGetVersion *RtlGetVersion;\n+      HMODULE hmodule = LoadLibraryW (L\"ntdll.dll\");\n+      g_return_val_if_fail (hmodule != NULL, FALSE);\n+\n+      RtlGetVersion = (fRtlGetVersion *) GetProcAddress (hmodule, \"RtlGetVersion\");\n+      g_return_val_if_fail (RtlGetVersion != NULL, FALSE);\n+#endif\n+\n+      memset (&result, 0, sizeof (OSVERSIONINFOEXW));\n+      result.dwOSVersionInfoSize = sizeof (OSVERSIONINFOEXW);\n+\n+      RtlGetVersion (&result);\n+\n+#if WINAPI_FAMILY != MODERN_API_FAMILY\n+      FreeLibrary (hmodule);\n+#endif\n+      g_once_init_leave (&inited, TRUE);\n+    }\n+\n+  *info = result;\n+\n+  return TRUE;\n+}\n+\n@@ -517,7 +571,0 @@\n-#if WINAPI_FAMILY != MODERN_API_FAMILY\n-  \/* For non-modern UI Apps, use the LoadLibraryW()\/GetProcAddress() thing *\/\n-  typedef NTSTATUS (WINAPI fRtlGetVersion) (PRTL_OSVERSIONINFOEXW);\n-\n-  fRtlGetVersion *RtlGetVersion;\n-  HMODULE hmodule;\n-#endif\n@@ -525,1 +572,1 @@\n-  g_return_val_if_fail (major >= 5 && (major <=6 || major == 10), FALSE);\n+  g_return_val_if_fail (major >= 5 && (major <= 6 || major == 10), FALSE);\n@@ -530,12 +577,1 @@\n-\n-#if WINAPI_FAMILY != MODERN_API_FAMILY\n-  hmodule = LoadLibraryW (L\"ntdll.dll\");\n-  g_return_val_if_fail (hmodule != NULL, FALSE);\n-\n-  RtlGetVersion = (fRtlGetVersion *) GetProcAddress (hmodule, \"RtlGetVersion\");\n-  g_return_val_if_fail (RtlGetVersion != NULL, FALSE);\n-#endif\n-\n-  memset (&osverinfo, 0, sizeof (OSVERSIONINFOEXW));\n-  osverinfo.dwOSVersionInfoSize = sizeof (OSVERSIONINFOEXW);\n-  RtlGetVersion (&osverinfo);\n+  g_return_val_if_fail (_g_win32_call_rtl_version (&osverinfo), FALSE);\n@@ -544,1 +580,1 @@\n-  if (osverinfo.dwMajorVersion > major)\n+  if (osverinfo.dwMajorVersion > (DWORD) major)\n@@ -546,1 +582,1 @@\n-  else if (osverinfo.dwMajorVersion == major)\n+  else if (osverinfo.dwMajorVersion == (DWORD) major)\n@@ -548,1 +584,1 @@\n-      if (osverinfo.dwMinorVersion > minor)\n+      if (osverinfo.dwMinorVersion > (DWORD) minor)\n@@ -550,2 +586,2 @@\n-      else if (osverinfo.dwMinorVersion == minor)\n-        if (osverinfo.wServicePackMajor >= spver)\n+      else if (osverinfo.dwMinorVersion == (DWORD) minor)\n+        if (osverinfo.wServicePackMajor >= (DWORD) spver)\n@@ -579,4 +615,0 @@\n-#if WINAPI_FAMILY != MODERN_API_FAMILY\n-  FreeLibrary (hmodule);\n-#endif\n-\n@@ -1027,1 +1059,11 @@\n-static void *WinVEH_handle = NULL;\n+static void        *WinVEH_handle = NULL;\n+\n+#define             DEBUGGER_BUFFER_SIZE (MAX_PATH + 1)\n+\/* This is the debugger that we'll run on crash *\/\n+static wchar_t      debugger[DEBUGGER_BUFFER_SIZE];\n+\n+static gsize        number_of_exceptions_to_catch = 0;\n+static DWORD       *exceptions_to_catch = NULL;\n+\n+static HANDLE       debugger_wakeup_event = 0;\n+static DWORD        debugger_spawn_flags = 0;\n@@ -1031,0 +1073,12 @@\n+static char *\n+copy_chars (char       *buffer,\n+            gsize      *buffer_size,\n+            const char *to_copy)\n+{\n+  gsize copy_count = MIN (strlen (to_copy), *buffer_size - 1);\n+  memset (buffer, 0x20, copy_count);\n+  strncpy_s (buffer, *buffer_size, to_copy, _TRUNCATE);\n+  *buffer_size -= copy_count;\n+  return &buffer[copy_count];\n+}\n+\n@@ -1060,0 +1114,6 @@\n+ * This is done on purpose. This function can be called when the program\n+ * is in a bad state (crashing). It can also be called very early, as soon\n+ * as the handler is installed. Therefore, it's imperative that\n+ * it does as little as possible. Preferably, all the work that can be\n+ * done in advance (when the program is not crashing yet) should be done\n+ * in advance.\n@@ -1065,5 +1125,2 @@\n-  char                 debugger[MAX_PATH + 1];\n-  const char          *debugger_env = NULL;\n-  const char          *catch_list;\n-  gboolean             catch = FALSE;\n-  STARTUPINFO          si;\n+  gsize                i;\n+  STARTUPINFOW         si;\n@@ -1071,2 +1128,6 @@\n-  HANDLE               event;\n-  SECURITY_ATTRIBUTES  sa;\n+#define ITOA_BUFFER_SIZE 100\n+  char                 itoa_buffer[ITOA_BUFFER_SIZE];\n+#define DEBUG_STRING_SIZE 1024\n+  gsize                dbgs = DEBUG_STRING_SIZE;\n+  char                 debug_string[DEBUG_STRING_SIZE];\n+  char                *dbgp;\n@@ -1076,1 +1137,2 @@\n-      IsDebuggerPresent ())\n+      IsDebuggerPresent () ||\n+      debugger[0] == 0)\n@@ -1088,18 +1150,3 @@\n-      catch_list = g_getenv (\"G_VEH_CATCH\");\n-\n-      while (!catch &&\n-             catch_list != NULL &&\n-             catch_list[0] != 0)\n-        {\n-          unsigned long  catch_code;\n-          char          *end;\n-          errno = 0;\n-          catch_code = strtoul (catch_list, &end, 16);\n-          if (errno != NO_ERROR)\n-            break;\n-          catch_list = end;\n-          if (catch_list != NULL && catch_list[0] == ',')\n-            catch_list++;\n-          if (catch_code == er->ExceptionCode)\n-            catch = TRUE;\n-        }\n+      for (i = 0; i < number_of_exceptions_to_catch; i++)\n+        if (exceptions_to_catch[i] == er->ExceptionCode)\n+          break;\n@@ -1107,2 +1154,2 @@\n-      if (catch)\n-        break;\n+      if (i == number_of_exceptions_to_catch)\n+        return EXCEPTION_CONTINUE_SEARCH;\n@@ -1110,32 +1157,0 @@\n-      return EXCEPTION_CONTINUE_SEARCH;\n-    }\n-\n-  fprintf_s (stderr,\n-             \"Exception code=0x%lx flags=0x%lx at 0x%p\",\n-             er->ExceptionCode,\n-             er->ExceptionFlags,\n-             er->ExceptionAddress);\n-\n-  switch (er->ExceptionCode)\n-    {\n-    case EXCEPTION_ACCESS_VIOLATION:\n-      fprintf_s (stderr,\n-                 \". Access violation - attempting to %s at address 0x%p\\n\",\n-                 er->ExceptionInformation[0] == 0 ? \"read data\" :\n-                 er->ExceptionInformation[0] == 1 ? \"write data\" :\n-                 er->ExceptionInformation[0] == 8 ? \"execute data\" :\n-                 \"do something bad\",\n-                 (void *) er->ExceptionInformation[1]);\n-      break;\n-    case EXCEPTION_IN_PAGE_ERROR:\n-      fprintf_s (stderr,\n-                 \". Page access violation - attempting to %s at address 0x%p with status %Ix\\n\",\n-                 er->ExceptionInformation[0] == 0 ? \"read from an inaccessible page\" :\n-                 er->ExceptionInformation[0] == 1 ? \"write to an inaccessible page\" :\n-                 er->ExceptionInformation[0] == 8 ? \"execute data in page\" :\n-                 \"do something bad with a page\",\n-                 (void *) er->ExceptionInformation[1],\n-                 er->ExceptionInformation[2]);\n-      break;\n-    default:\n-      fprintf_s (stderr, \"\\n\");\n@@ -1145,8 +1160,0 @@\n-  fflush (stderr);\n-\n-  debugger_env = g_getenv (\"G_DEBUGGER\");\n-\n-  if (debugger_env == NULL)\n-    return EXCEPTION_CONTINUE_SEARCH;\n-\n-  \/* Create an inheritable event *\/\n@@ -1155,1 +1162,0 @@\n-  memset (&sa, 0, sizeof (sa));\n@@ -1157,12 +1163,0 @@\n-  sa.nLength = sizeof (sa);\n-  sa.bInheritHandle = TRUE;\n-  event = CreateEvent (&sa, FALSE, FALSE, NULL);\n-\n-  \/* Put process ID and event handle into debugger commandline *\/\n-  if (!_g_win32_subst_pid_and_event (debugger, G_N_ELEMENTS (debugger),\n-                                     debugger_env, GetCurrentProcessId (),\n-                                     (guintptr) event))\n-    {\n-      CloseHandle (event);\n-      return EXCEPTION_CONTINUE_SEARCH;\n-    }\n@@ -1171,11 +1165,1 @@\n-  debugger[MAX_PATH] = '\\0';\n-  if (0 != CreateProcessA (NULL,\n-                           debugger,\n-                           NULL,\n-                           NULL,\n-                           TRUE,\n-                           g_getenv (\"G_DEBUGGER_OLD_CONSOLE\") != NULL ? 0 : CREATE_NEW_CONSOLE,\n-                           NULL,\n-                           NULL,\n-                           &si,\n-                           &pi))\n+  if (0 != CreateProcessW (NULL, debugger, NULL, NULL, TRUE, debugger_spawn_flags, NULL, NULL, &si, &pi))\n@@ -1191,2 +1175,56 @@\n-      WaitForSingleObject (event, 60000);\n-    }\n+      WaitForSingleObject (debugger_wakeup_event, 60000);\n+\n+      dbgp = &debug_string[0];\n+\n+      dbgp = copy_chars (dbgp, &dbgs, \"Exception code=0x\");\n+      itoa_buffer[0] = 0;\n+      _ui64toa_s (er->ExceptionCode, itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+      dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+      dbgp = copy_chars (dbgp, &dbgs, \" flags=0x\");\n+      itoa_buffer[0] = 0;\n+      _ui64toa_s (er->ExceptionFlags, itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+      dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+      dbgp = copy_chars (dbgp, &dbgs, \" at 0x\");\n+      itoa_buffer[0] = 0;\n+      _ui64toa_s ((guintptr) er->ExceptionAddress, itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+      dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+\n+      switch (er->ExceptionCode)\n+        {\n+        case EXCEPTION_ACCESS_VIOLATION:\n+          dbgp = copy_chars (dbgp, &dbgs, \". Access violation - attempting to \");\n+          if (er->ExceptionInformation[0] == 0)\n+            dbgp = copy_chars (dbgp, &dbgs, \"read data\");\n+          else if (er->ExceptionInformation[0] == 1)\n+            dbgp = copy_chars (dbgp, &dbgs, \"write data\");\n+          else if (er->ExceptionInformation[0] == 8)\n+            dbgp = copy_chars (dbgp, &dbgs, \"execute data\");\n+          else\n+            dbgp = copy_chars (dbgp, &dbgs, \"do something bad\");\n+          dbgp = copy_chars (dbgp, &dbgs, \" at address 0x\");\n+          itoa_buffer[0] = 0;\n+          _ui64toa_s (er->ExceptionInformation[1], itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+          dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+          break;\n+        case EXCEPTION_IN_PAGE_ERROR:\n+          dbgp = copy_chars (dbgp, &dbgs, \". Page access violation - attempting to \");\n+          if (er->ExceptionInformation[0] == 0)\n+            dbgp = copy_chars (dbgp, &dbgs, \"read from an inaccessible page\");\n+          else if (er->ExceptionInformation[0] == 1)\n+            dbgp = copy_chars (dbgp, &dbgs, \"write to an inaccessible page\");\n+          else if (er->ExceptionInformation[0] == 8)\n+            dbgp = copy_chars (dbgp, &dbgs, \"execute data in page\");\n+          else\n+            dbgp = copy_chars (dbgp, &dbgs, \"do something bad with a page\");\n+          dbgp = copy_chars (dbgp, &dbgs, \" at address 0x\");\n+          itoa_buffer[0] = 0;\n+          _ui64toa_s (er->ExceptionInformation[1], itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+          dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+          dbgp = copy_chars (dbgp, &dbgs, \" with status \");\n+          itoa_buffer[0] = 0;\n+          _ui64toa_s (er->ExceptionInformation[2], itoa_buffer, ITOA_BUFFER_SIZE, 16);\n+          dbgp = copy_chars (dbgp, &dbgs, itoa_buffer);\n+          break;\n+        default:\n+          break;\n+        }\n@@ -1194,1 +1232,3 @@\n-  CloseHandle (event);\n+      dbgp = copy_chars (dbgp, &dbgs, \"\\n\");\n+      OutputDebugStringA (debug_string);\n+    }\n@@ -1206,0 +1246,28 @@\n+static gsize\n+parse_catch_list (const wchar_t *catch_buffer,\n+                  DWORD         *exceptions,\n+                  gsize          num_exceptions)\n+{\n+  const wchar_t *catch_list = catch_buffer;\n+  gsize          result = 0;\n+  gsize          i = 0;\n+\n+  while (catch_list != NULL &&\n+         catch_list[0] != 0)\n+    {\n+      unsigned long  catch_code;\n+      wchar_t       *end;\n+      errno = 0;\n+      catch_code = wcstoul (catch_list, &end, 16);\n+      if (errno != NO_ERROR)\n+        break;\n+      catch_list = end;\n+      if (catch_list != NULL && catch_list[0] == L',')\n+        catch_list++;\n+      if (exceptions && i < num_exceptions)\n+        exceptions[i++] = catch_code;\n+    }\n+\n+  return result;\n+}\n+\n@@ -1209,0 +1277,5 @@\n+  wchar_t      debugger_env[DEBUGGER_BUFFER_SIZE];\n+#define CATCH_BUFFER_SIZE 1024\n+  wchar_t      catch_buffer[CATCH_BUFFER_SIZE];\n+  SECURITY_ATTRIBUTES  sa;\n+\n@@ -1215,1 +1288,1 @@\n-   * code. See: https:\/\/blogs.msdn.microsoft.com\/jmstall\/2006\/05\/24\/beware-of-the-vectored-exception-handler-and-managed-code\/\n+   * code. See: http:\/\/www.windows-tech.info\/13\/785f590867bd6316.php\n@@ -1217,1 +1290,2 @@\n-  if (g_getenv (\"G_DEBUGGER\") == NULL && g_getenv(\"G_VEH_CATCH\") == NULL)\n+  debugger_env[0] = 0;\n+  if (!GetEnvironmentVariableW (L\"G_DEBUGGER\", debugger_env, DEBUGGER_BUFFER_SIZE))\n@@ -1220,0 +1294,34 @@\n+  \/* Create an inheritable event *\/\n+  memset (&sa, 0, sizeof (sa));\n+  sa.nLength = sizeof (sa);\n+  sa.bInheritHandle = TRUE;\n+  debugger_wakeup_event = CreateEvent (&sa, FALSE, FALSE, NULL);\n+\n+  \/* Put process ID and event handle into debugger commandline *\/\n+  if (!_g_win32_subst_pid_and_event_w (debugger, G_N_ELEMENTS (debugger),\n+                                       debugger_env, GetCurrentProcessId (),\n+                                       (guintptr) debugger_wakeup_event))\n+    {\n+      CloseHandle (debugger_wakeup_event);\n+      debugger_wakeup_event = 0;\n+      debugger[0] = 0;\n+      return;\n+    }\n+  debugger[MAX_PATH] = L'\\0';\n+\n+  catch_buffer[0] = 0;\n+  if (GetEnvironmentVariableW (L\"G_VEH_CATCH\", catch_buffer, CATCH_BUFFER_SIZE))\n+    {\n+      number_of_exceptions_to_catch = parse_catch_list (catch_buffer, NULL, 0);\n+      if (number_of_exceptions_to_catch > 0)\n+        {\n+          exceptions_to_catch = g_new0 (DWORD, number_of_exceptions_to_catch);\n+          parse_catch_list (catch_buffer, exceptions_to_catch, number_of_exceptions_to_catch);\n+        }\n+    }\n+\n+  if (GetEnvironmentVariableW (L\"G_DEBUGGER_OLD_CONSOLE\", (wchar_t *) &debugger_spawn_flags, 1))\n+    debugger_spawn_flags = 0;\n+  else\n+    debugger_spawn_flags = CREATE_NEW_CONSOLE;\n+\n@@ -1233,0 +1341,119 @@\n+\/**\n+ * g_win32_find_helper_executable_path:\n+ * @executable_name: (transfer none): name of the helper executable to find\n+ * (something like gspawn-win64-helper.exe or gdbus.exe for example).\n+ * @dll_handle: handle of the DLL to use as searching base path. Pass NULL\n+ * to take current process executable as searching base path.\n+ *\n+ * Find an external executable path and name starting in the same folder\n+ * as a specified DLL or current process executable path. Helper executables\n+ * (like gspawn-win64-helper.exe, gspawn-win64-helper-console.exe or\n+ * gdbus.exe for example) are generally installed in the same folder as the\n+ * corresponding DLL file.\n+ *\n+ * So, if package has been correctly installed, with a dynamic build of GLib,\n+ * the helper executable should be in the same directory as the corresponding\n+ * DLL file and searching should be straightforward.\n+ *\n+ * But if built statically, DLL handle is not available and we have to start\n+ * searching from the directory holding current executable. It may be very\n+ * different from the directory containing the helper program. In order to\n+ * find the right helper program automatically in all common situations, we\n+ * use this pattern:\n+ *\n+ * current directory\n+ *             |-- ???\n+ *             |-- bin\n+ *             |    |-- ???\n+ *             |-- lib\n+ *             |    |-- ???\n+ *             |-- glib\n+ *             |    |-- ???\n+ *             |-- gio\n+ *                  |-- ???\n+ *\n+ * starting at base searching path (DLL or current executable directory) and\n+ * getting up until the root path. If we cannot still find the helper program,\n+ * we'll rely on PATH as the last resort.\n+ *\n+ * Returns: (transfer full) (type filename) (nullable): the helper executable\n+ * path and name in the GLib filename encoding or NULL in case of error. It\n+ * should be deallocated with g_free().\n+ *\/\n+gchar *\n+g_win32_find_helper_executable_path (const gchar *executable_name, void *dll_handle)\n+{\n+  static const gchar *const subdirs[] = { \"\", \"bin\", \"lib\", \"glib\", \"gio\" };\n+  static const gsize nb_subdirs = G_N_ELEMENTS (subdirs);\n+\n+  DWORD module_path_len;\n+  wchar_t module_path[MAX_PATH + 2] = { 0 };\n+  gchar *base_searching_path;\n+  gchar *p;\n+  gchar *executable_path;\n+  gsize i;\n+\n+  g_return_val_if_fail (executable_name && *executable_name, NULL);\n+\n+  module_path_len = GetModuleFileNameW (dll_handle, module_path, MAX_PATH + 1);\n+  \/* The > MAX_PATH check prevents truncated module path usage *\/\n+  if (module_path_len == 0 || module_path_len > MAX_PATH)\n+    return NULL;\n+\n+  base_searching_path = g_utf16_to_utf8 (module_path, -1, NULL, NULL, NULL);\n+  if (base_searching_path == NULL)\n+    return NULL;\n+\n+  p = strrchr (base_searching_path, G_DIR_SEPARATOR);\n+  if (p == NULL)\n+    {\n+      g_free (base_searching_path);\n+      return NULL;\n+    }\n+  *p = '\\0';\n+\n+  for (;;)\n+    {\n+      \/* Search in subdirectories *\/\n+      for (i = 0; i < nb_subdirs; ++i)\n+        {\n+          \/* As this function is exclusively used on Windows, the\n+           * executable_path is always an absolute path. At worse, when\n+           * reaching the root of the filesystem, base_searching_path may\n+           * equal something like \"[Drive letter]:\" but never \"\/\" like on\n+           * Linux or Mac.\n+           * For the peace of mind we still assert this, just in case that\n+           * one day someone tries to use this function on Linux or Mac.\n+           *\/\n+          executable_path = g_build_filename (base_searching_path, subdirs[i], executable_name, NULL);\n+          g_assert (g_path_is_absolute (executable_path));\n+          if (g_file_test (executable_path, G_FILE_TEST_IS_REGULAR))\n+            break;\n+\n+          g_free (executable_path);\n+          executable_path = NULL;\n+        }\n+\n+      if (executable_path != NULL)\n+        break;\n+\n+      \/* Let's get one directory level up *\/\n+      p = strrchr (base_searching_path, G_DIR_SEPARATOR);\n+      if (p == NULL)\n+        break;\n+\n+      *p = '\\0';\n+    }\n+  g_free (base_searching_path);\n+\n+  if (executable_path == NULL)\n+    {\n+      \/* Search in system PATH *\/\n+      executable_path = g_find_program_in_path (executable_name);\n+      if (executable_path == NULL)\n+        executable_path = g_strdup (executable_name);\n+    }\n+\n+  return executable_path;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/gwin32.c","additions":359,"deletions":132,"binary":false,"changes":491,"status":"modified"},{"patch":"@@ -120,5 +120,1 @@\n-      \/* Make it possible to override the charset.alias location.  This is\n-   necessary for running the testsuite before \"make install\".  *\/\n-      dir = getenv (\"CHARSETALIASDIR\");\n-      if (dir == NULL || dir[0] == '\\0')\n-  dir = relocate (GLIB_CHARSETALIAS_DIR);\n+      dir = relocate (GLIB_CHARSETALIAS_DIR);\n@@ -128,11 +124,11 @@\n-  size_t dir_len = strlen (dir);\n-  size_t base_len = strlen (base);\n-  int add_slash = (dir_len > 0 && !ISSLASH (dir[dir_len - 1]));\n-  file_name = (char *) malloc (dir_len + add_slash + base_len + 1);\n-  if (file_name != NULL)\n-    {\n-      memcpy (file_name, dir, dir_len);\n-      if (add_slash)\n-        file_name[dir_len] = DIRECTORY_SEPARATOR;\n-      memcpy (file_name + dir_len + add_slash, base, base_len + 1);\n-    }\n+        size_t dir_len = strlen (dir);\n+        size_t base_len = strlen (base);\n+        int add_slash = (dir_len > 0 && !ISSLASH (dir[dir_len - 1]));\n+        file_name = (char *) malloc (dir_len + add_slash + base_len + 1);\n+        if (file_name != NULL)\n+          {\n+            memcpy (file_name, dir, dir_len);\n+            if (add_slash)\n+              file_name[dir_len] = DIRECTORY_SEPARATOR;\n+            memcpy (file_name + dir_len + add_slash, base, base_len + 1);\n+          }\n@@ -142,2 +138,2 @@\n-  \/* Out of memory or file not found, treat it as empty.  *\/\n-  cp = \"\";\n+        \/* Out of memory or file not found, treat it as empty.  *\/\n+        cp = \"\";\n@@ -145,64 +141,64 @@\n-  {\n-    \/* Parse the file's contents.  *\/\n-    char *res_ptr = NULL;\n-    size_t res_size = 0;\n-\n-    for (;;)\n-      {\n-        int c;\n-        char buf1[50+1];\n-        char buf2[50+1];\n-        size_t l1, l2;\n-        char *old_res_ptr;\n-\n-        c = getc (fp);\n-        if (c == EOF)\n-    break;\n-        if (c == '\\n' || c == ' ' || c == '\\t')\n-    continue;\n-        if (c == '#')\n-    {\n-      \/* Skip comment, to end of line.  *\/\n-      do\n-        c = getc (fp);\n-      while (!(c == EOF || c == '\\n'));\n-      if (c == EOF)\n-        break;\n-      continue;\n-    }\n-        ungetc (c, fp);\n-        if (fscanf (fp, \"%50s %50s\", buf1, buf2) < 2)\n-    break;\n-        l1 = strlen (buf1);\n-        l2 = strlen (buf2);\n-        old_res_ptr = res_ptr;\n-        if (res_size == 0)\n-    {\n-      res_size = l1 + 1 + l2 + 1;\n-      res_ptr = (char *) malloc (res_size + 1);\n-    }\n-        else\n-    {\n-      res_size += l1 + 1 + l2 + 1;\n-      res_ptr = (char *) realloc (res_ptr, res_size + 1);\n-    }\n-        if (res_ptr == NULL)\n-    {\n-      \/* Out of memory. *\/\n-      res_size = 0;\n-      if (old_res_ptr != NULL)\n-        free (old_res_ptr);\n-      break;\n-    }\n-        strcpy (res_ptr + res_size - (l2 + 1) - (l1 + 1), buf1);\n-        strcpy (res_ptr + res_size - (l2 + 1), buf2);\n-      }\n-    fclose (fp);\n-    if (res_size == 0)\n-      cp = \"\";\n-    else\n-      {\n-        *(res_ptr + res_size) = '\\0';\n-        cp = res_ptr;\n-      }\n-  }\n+        {\n+          \/* Parse the file's contents.  *\/\n+          char *res_ptr = NULL;\n+          size_t res_size = 0;\n+\n+          for (;;)\n+            {\n+              int c;\n+              char buf1[50+1];\n+              char buf2[50+1];\n+              size_t l1, l2;\n+              char *old_res_ptr;\n+\n+              c = getc (fp);\n+              if (c == EOF)\n+                break;\n+              if (c == '\\n' || c == ' ' || c == '\\t')\n+                continue;\n+              if (c == '#')\n+                {\n+                  \/* Skip comment, to end of line.  *\/\n+                  do\n+                    c = getc (fp);\n+                  while (!(c == EOF || c == '\\n'));\n+                  if (c == EOF)\n+                    break;\n+                  continue;\n+                }\n+              ungetc (c, fp);\n+              if (fscanf (fp, \"%50s %50s\", buf1, buf2) < 2)\n+                break;\n+              l1 = strlen (buf1);\n+              l2 = strlen (buf2);\n+              old_res_ptr = res_ptr;\n+              if (res_size == 0)\n+                {\n+                  res_size = l1 + 1 + l2 + 1;\n+                  res_ptr = (char *) malloc (res_size + 1);\n+                }\n+              else\n+                {\n+                  res_size += l1 + 1 + l2 + 1;\n+                  res_ptr = (char *) realloc (res_ptr, res_size + 1);\n+                }\n+              if (res_ptr == NULL)\n+                {\n+                  \/* Out of memory. *\/\n+                  res_size = 0;\n+                  if (old_res_ptr != NULL)\n+                    free (old_res_ptr);\n+                  break;\n+                }\n+              strcpy (res_ptr + res_size - (l2 + 1) - (l1 + 1), buf1);\n+              strcpy (res_ptr + res_size - (l2 + 1), buf2);\n+            }\n+          fclose (fp);\n+          if (res_size == 0)\n+            cp = \"\";\n+          else\n+            {\n+              *(res_ptr + res_size) = '\\0';\n+              cp = res_ptr;\n+            }\n+        }\n@@ -211,1 +207,1 @@\n-  free (file_name);\n+        free (file_name);\n@@ -217,1 +213,1 @@\n-   sources of many GNU packages, simply inline the aliases here.  *\/\n+         sources of many GNU packages, simply inline the aliases here.  *\/\n@@ -219,2 +215,2 @@\n-   \"Compaq C Run-Time Library Reference Manual for OpenVMS systems\"\n-   section 10.7 \"Handling Different Character Sets\".  *\/\n+         \"Compaq C Run-Time Library Reference Manual for OpenVMS systems\"\n+         section 10.7 \"Handling Different Character Sets\".  *\/\n@@ -222,16 +218,16 @@\n-     \"ISO8859-2\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n-     \"ISO8859-5\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n-     \"ISO8859-7\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n-     \"ISO8859-8\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n-     \"ISO8859-9\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n-     \/* Japanese *\/\n-     \"eucJP\" \"\\0\" \"EUC-JP\" \"\\0\"\n-     \"SJIS\" \"\\0\" \"SHIFT_JIS\" \"\\0\"\n-     \"DECKANJI\" \"\\0\" \"DEC-KANJI\" \"\\0\"\n-     \"SDECKANJI\" \"\\0\" \"EUC-JP\" \"\\0\"\n-     \/* Chinese *\/\n-     \"eucTW\" \"\\0\" \"EUC-TW\" \"\\0\"\n-     \"DECHANYU\" \"\\0\" \"DEC-HANYU\" \"\\0\"\n-     \"DECHANZI\" \"\\0\" \"GB2312\" \"\\0\"\n-     \/* Korean *\/\n-     \"DECKOREAN\" \"\\0\" \"EUC-KR\" \"\\0\";\n+           \"ISO8859-2\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n+           \"ISO8859-5\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n+           \"ISO8859-7\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n+           \"ISO8859-8\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n+           \"ISO8859-9\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n+           \/* Japanese *\/\n+           \"eucJP\" \"\\0\" \"EUC-JP\" \"\\0\"\n+           \"SJIS\" \"\\0\" \"SHIFT_JIS\" \"\\0\"\n+           \"DECKANJI\" \"\\0\" \"DEC-KANJI\" \"\\0\"\n+           \"SDECKANJI\" \"\\0\" \"EUC-JP\" \"\\0\"\n+           \/* Chinese *\/\n+           \"eucTW\" \"\\0\" \"EUC-TW\" \"\\0\"\n+           \"DECHANYU\" \"\\0\" \"DEC-HANYU\" \"\\0\"\n+           \"DECHANZI\" \"\\0\" \"GB2312\" \"\\0\"\n+           \/* Korean *\/\n+           \"DECKOREAN\" \"\\0\" \"EUC-KR\" \"\\0\";\n@@ -242,2 +238,2 @@\n-   directory as the DLL and of retrieving the DLL's directory at\n-   runtime, simply inline the aliases here.  *\/\n+         directory as the DLL and of retrieving the DLL's directory at\n+         runtime, simply inline the aliases here.  *\/\n@@ -246,22 +242,22 @@\n-     \"CP1361\" \"\\0\" \"JOHAB\" \"\\0\"\n-     \"CP20127\" \"\\0\" \"ASCII\" \"\\0\"\n-     \"CP20866\" \"\\0\" \"KOI8-R\" \"\\0\"\n-     \"CP20936\" \"\\0\" \"GB2312\" \"\\0\"\n-     \"CP21866\" \"\\0\" \"KOI8-RU\" \"\\0\"\n-     \"CP28591\" \"\\0\" \"ISO-8859-1\" \"\\0\"\n-     \"CP28592\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n-     \"CP28593\" \"\\0\" \"ISO-8859-3\" \"\\0\"\n-     \"CP28594\" \"\\0\" \"ISO-8859-4\" \"\\0\"\n-     \"CP28595\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n-     \"CP28596\" \"\\0\" \"ISO-8859-6\" \"\\0\"\n-     \"CP28597\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n-     \"CP28598\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n-     \"CP28599\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n-     \"CP28605\" \"\\0\" \"ISO-8859-15\" \"\\0\"\n-     \"CP38598\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n-     \"CP51932\" \"\\0\" \"EUC-JP\" \"\\0\"\n-     \"CP51936\" \"\\0\" \"GB2312\" \"\\0\"\n-     \"CP51949\" \"\\0\" \"EUC-KR\" \"\\0\"\n-     \"CP51950\" \"\\0\" \"EUC-TW\" \"\\0\"\n-     \"CP54936\" \"\\0\" \"GB18030\" \"\\0\"\n-     \"CP65001\" \"\\0\" \"UTF-8\" \"\\0\";\n+           \"CP1361\" \"\\0\" \"JOHAB\" \"\\0\"\n+           \"CP20127\" \"\\0\" \"ASCII\" \"\\0\"\n+           \"CP20866\" \"\\0\" \"KOI8-R\" \"\\0\"\n+           \"CP20936\" \"\\0\" \"GB2312\" \"\\0\"\n+           \"CP21866\" \"\\0\" \"KOI8-RU\" \"\\0\"\n+           \"CP28591\" \"\\0\" \"ISO-8859-1\" \"\\0\"\n+           \"CP28592\" \"\\0\" \"ISO-8859-2\" \"\\0\"\n+           \"CP28593\" \"\\0\" \"ISO-8859-3\" \"\\0\"\n+           \"CP28594\" \"\\0\" \"ISO-8859-4\" \"\\0\"\n+           \"CP28595\" \"\\0\" \"ISO-8859-5\" \"\\0\"\n+           \"CP28596\" \"\\0\" \"ISO-8859-6\" \"\\0\"\n+           \"CP28597\" \"\\0\" \"ISO-8859-7\" \"\\0\"\n+           \"CP28598\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n+           \"CP28599\" \"\\0\" \"ISO-8859-9\" \"\\0\"\n+           \"CP28605\" \"\\0\" \"ISO-8859-15\" \"\\0\"\n+           \"CP38598\" \"\\0\" \"ISO-8859-8\" \"\\0\"\n+           \"CP51932\" \"\\0\" \"EUC-JP\" \"\\0\"\n+           \"CP51936\" \"\\0\" \"GB2312\" \"\\0\"\n+           \"CP51949\" \"\\0\" \"EUC-KR\" \"\\0\"\n+           \"CP51950\" \"\\0\" \"EUC-TW\" \"\\0\"\n+           \"CP54936\" \"\\0\" \"GB18030\" \"\\0\"\n+           \"CP65001\" \"\\0\" \"UTF-8\" \"\\0\";\n@@ -307,5 +303,5 @@\n-  {\n-    locale = getenv (\"LC_CTYPE\");\n-    if (locale == NULL || locale[0] == '\\0')\n-      locale = getenv (\"LANG\");\n-  }\n+        {\n+          locale = getenv (\"LC_CTYPE\");\n+          if (locale == NULL || locale[0] == '\\0')\n+            locale = getenv (\"LANG\");\n+        }\n@@ -313,22 +309,22 @@\n-  {\n-    \/* If the locale name contains an encoding after the dot, return\n-       it.  *\/\n-    const char *dot = strchr (locale, '.');\n-\n-    if (dot != NULL)\n-      {\n-        const char *modifier;\n-\n-        dot++;\n-        \/* Look for the possible @... trailer and remove it, if any.  *\/\n-        modifier = strchr (dot, '@');\n-        if (modifier == NULL)\n-    return dot;\n-        if (modifier - dot < sizeof (buf))\n-    {\n-      memcpy (buf, dot, modifier - dot);\n-      buf [modifier - dot] = '\\0';\n-      return buf;\n-    }\n-      }\n-  }\n+        {\n+          \/* If the locale name contains an encoding after the dot, return\n+             it.  *\/\n+          const char *dot = strchr (locale, '.');\n+\n+          if (dot != NULL)\n+            {\n+              const char *modifier;\n+\n+              dot++;\n+              \/* Look for the possible @... trailer and remove it, if any.  *\/\n+              modifier = strchr (dot, '@');\n+              if (modifier == NULL)\n+                return dot;\n+              if (modifier - dot < sizeof (buf))\n+                {\n+                  memcpy (buf, dot, modifier - dot);\n+                  buf [modifier - dot] = '\\0';\n+                  return buf;\n+                }\n+            }\n+        }\n@@ -358,5 +354,5 @@\n-  {\n-    locale = getenv (\"LC_CTYPE\");\n-    if (locale == NULL || locale[0] == '\\0')\n-      locale = getenv (\"LANG\");\n-  }\n+        {\n+          locale = getenv (\"LC_CTYPE\");\n+          if (locale == NULL || locale[0] == '\\0')\n+            locale = getenv (\"LANG\");\n+        }\n@@ -394,1 +390,1 @@\n-  locale = getenv (\"LANG\");\n+        locale = getenv (\"LANG\");\n@@ -402,15 +398,15 @@\n-  {\n-    const char *modifier;\n-\n-    dot++;\n-    \/* Look for the possible @... trailer and remove it, if any.  *\/\n-    modifier = strchr (dot, '@');\n-    if (modifier == NULL)\n-      return dot;\n-    if (modifier - dot < sizeof (buf))\n-      {\n-        memcpy (buf, dot, modifier - dot);\n-        buf [modifier - dot] = '\\0';\n-        return buf;\n-      }\n-  }\n+        {\n+          const char *modifier;\n+\n+          dot++;\n+          \/* Look for the possible @... trailer and remove it, if any.  *\/\n+          modifier = strchr (dot, '@');\n+          if (modifier == NULL)\n+            return dot;\n+          if (modifier - dot < sizeof (buf))\n+            {\n+              memcpy (buf, dot, modifier - dot);\n+              buf [modifier - dot] = '\\0';\n+              return buf;\n+            }\n+        }\n@@ -425,1 +421,1 @@\n-  codeset = \"\";\n+        codeset = \"\";\n@@ -427,4 +423,4 @@\n-  {\n-    sprintf (buf, \"CP%u\", cp[0]);\n-    codeset = buf;\n-  }\n+        {\n+          sprintf (buf, \"CP%u\", cp[0]);\n+          codeset = buf;\n+        }\n@@ -452,1 +448,1 @@\n-  || (aliases[0] == '*' && aliases[1] == '\\0'))\n+        || (aliases[0] == '*' && aliases[1] == '\\0'))\n@@ -454,2 +450,2 @@\n-  codeset = aliases + strlen (aliases) + 1;\n-  break;\n+        codeset = aliases + strlen (aliases) + 1;\n+        break;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/libcharset\/localcharset.c","additions":178,"deletions":182,"binary":false,"changes":360,"status":"modified"},{"patch":"@@ -1683,1 +1683,1 @@\n-#define ISO2022_MODE(cs, shift) (((cs) << 8) | (shift))\n+#define ISO2022_MODE(cs, shift) ((((DWORD) cs) << 8) | (shift))\n@@ -2037,1 +2037,2 @@\n-        printf(\"usage: %s [-c] -f from-enc -t to-enc [file]\\n\", argv[0]);\n+        printf(\"usage: %s [-c] -f from-enc -t to-enc [file]\\n\",\n+               (argc > 0) ? argv[0] : \"win_iconv\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/glib\/win_iconv.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include <glib.h>\n@@ -53,1 +54,1 @@\n- *       is executed.\n+ *               is executed.\n@@ -55,1 +56,1 @@\n- *       if this cannot be done.\n+ *               if this cannot be done.\n@@ -58,1 +59,1 @@\n- *       available to subsequently loaded libraries.\n+ *               available to subsequently loaded libraries.\n@@ -61,1 +62,1 @@\n-#define RTLD_LAZY   1\n+#define RTLD_LAZY       1\n@@ -64,1 +65,1 @@\n-#define RTLD_NOW    0\n+#define RTLD_NOW        0\n@@ -72,1 +73,1 @@\n-#define RTLD_GLOBAL 0\n+#define RTLD_GLOBAL     0\n@@ -76,2 +77,37 @@\n-\/* --- functions --- *\/\n-static gchar*\n+\/* According to POSIX.1-2001, dlerror() is not necessarily thread-safe\n+ * (see https:\/\/pubs.opengroup.org\/onlinepubs\/009695399\/), and so must be\n+ * called within the same locked section as the dlopen()\/dlsym() call which\n+ * may have caused an error.\n+ *\n+ * However, some libc implementations, such as glibc, implement dlerror() using\n+ * thread-local storage, so are thread-safe. As of early 2021:\n+ *  - glibc is thread-safe: https:\/\/github.com\/bminor\/glibc\/blob\/HEAD\/dlfcn\/libc_dlerror_result.c\n+ *  - uclibc-ng is not thread-safe: https:\/\/cgit.uclibc-ng.org\/cgi\/cgit\/uclibc-ng.git\/tree\/ldso\/libdl\/libdl.c?id=132decd2a043d0ccf799f42bf89f3ae0c11e95d5#n1075\n+ *  - Other libc implementations have not been checked, and no problems have\n+ *    been reported with them in 10 years, so default to assuming that they\n+ *    don’t need additional thread-safety from GLib\n+ *\/\n+#if defined(__UCLIBC__)\n+G_LOCK_DEFINE_STATIC (errors);\n+#else\n+#define DLERROR_IS_THREADSAFE 1\n+#endif\n+\n+static void\n+lock_dlerror (void)\n+{\n+#ifndef DLERROR_IS_THREADSAFE\n+  G_LOCK (errors);\n+#endif\n+}\n+\n+static void\n+unlock_dlerror (void)\n+{\n+#ifndef DLERROR_IS_THREADSAFE\n+  G_UNLOCK (errors);\n+#endif\n+}\n+\n+\/* This should be called with lock_dlerror() held *\/\n+static const gchar *\n@@ -80,1 +116,1 @@\n-  gchar *msg = dlerror ();\n+  const gchar *msg = dlerror ();\n@@ -93,2 +129,3 @@\n-    gboolean     bind_lazy,\n-    gboolean     bind_local)\n+                gboolean     bind_lazy,\n+                gboolean     bind_local,\n+                GError     **error)\n@@ -98,0 +135,1 @@\n+  lock_dlerror ();\n@@ -101,1 +139,8 @@\n-    g_module_set_error (fetch_dlerror (TRUE));\n+    {\n+      const gchar *message = fetch_dlerror (TRUE);\n+\n+      g_module_set_error (message);\n+      g_set_error_literal (error, G_MODULE_ERROR, G_MODULE_ERROR_FAILED, message);\n+    }\n+\n+  unlock_dlerror ();\n@@ -122,0 +167,1 @@\n+  lock_dlerror ();\n@@ -129,0 +175,1 @@\n+  unlock_dlerror ();\n@@ -140,0 +187,1 @@\n+      lock_dlerror ();\n@@ -142,0 +190,1 @@\n+      unlock_dlerror ();\n@@ -150,1 +199,1 @@\n-  gchar *msg;\n+  const gchar *msg;\n@@ -152,0 +201,1 @@\n+  lock_dlerror ();\n@@ -157,0 +207,1 @@\n+  unlock_dlerror ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-dl.c","additions":64,"deletions":13,"binary":false,"changes":77,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include <glib.h>\n@@ -42,2 +43,3 @@\n-static void G_GNUC_PRINTF (1, 2)\n-set_error (const gchar *format,\n+static void G_GNUC_PRINTF (2, 3)\n+set_error (GError      **error,\n+           const gchar  *format,\n@@ -46,1 +48,1 @@\n-  gchar *error;\n+  gchar *win32_error;\n@@ -51,1 +53,1 @@\n-  error = g_win32_error_message (GetLastError ());\n+  win32_error = g_win32_error_message (GetLastError ());\n@@ -57,1 +59,1 @@\n-  message = g_strconcat (detail, error, NULL);\n+  message = g_strconcat (detail, win32_error, NULL);\n@@ -60,0 +62,2 @@\n+  g_set_error_literal (error, G_MODULE_ERROR, G_MODULE_ERROR_FAILED, message);\n+\n@@ -62,1 +66,1 @@\n-  g_free (error);\n+  g_free (win32_error);\n@@ -68,2 +72,3 @@\n-    gboolean     bind_lazy,\n-    gboolean     bind_local)\n+                gboolean     bind_lazy,\n+                gboolean     bind_local,\n+                GError     **error)\n@@ -86,1 +91,1 @@\n-    set_error (\"\");\n+    set_error (error, \"\");\n@@ -101,1 +106,1 @@\n-    set_error (\"'%s': \", file_name);\n+    set_error (error, \"'%s': \", file_name);\n@@ -120,1 +125,1 @@\n-      set_error (\"\");\n+      set_error (NULL, \"\");\n@@ -192,1 +197,1 @@\n-    set_error (\"\");\n+    set_error (NULL, \"\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule-win32.c","additions":17,"deletions":12,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-#include <io.h>   \/* For open() and close() prototypes. *\/\n+#include <io.h>         \/* For open() and close() prototypes. *\/\n@@ -207,11 +207,12 @@\n-static gpointer     _g_module_open      (const gchar    *file_name,\n-                         gboolean    bind_lazy,\n-                         gboolean    bind_local);\n-static void     _g_module_close     (gpointer    handle);\n-static gpointer     _g_module_self      (void);\n-static gpointer     _g_module_symbol    (gpointer    handle,\n-                         const gchar    *symbol_name);\n-static gchar*       _g_module_build_path    (const gchar    *directory,\n-                         const gchar    *module_name);\n-static inline void  g_module_set_error  (const gchar    *error);\n-static inline GModule*  g_module_find_by_handle (gpointer    handle);\n+static gpointer _g_module_open (const gchar  *file_name,\n+                                gboolean      bind_lazy,\n+                                gboolean      bind_local,\n+                                GError      **error);\n+static void             _g_module_close         (gpointer        handle);\n+static gpointer         _g_module_self          (void);\n+static gpointer         _g_module_symbol        (gpointer        handle,\n+                                                 const gchar    *symbol_name);\n+static gchar*           _g_module_build_path    (const gchar    *directory,\n+                                                 const gchar    *module_name);\n+static inline void      g_module_set_error      (const gchar    *error);\n+static inline GModule*  g_module_find_by_handle (gpointer        handle);\n@@ -281,1 +282,1 @@\n-#if (G_MODULE_IMPL == G_MODULE_IMPL_DL)\n+#if     (G_MODULE_IMPL == G_MODULE_IMPL_DL)\n@@ -292,3 +293,4 @@\n-_g_module_open (const gchar *file_name,\n-        gboolean     bind_lazy,\n-        gboolean     bind_local)\n+_g_module_open (const gchar  *file_name,\n+                gboolean      bind_lazy,\n+                gboolean      bind_local,\n+                GError      **error)\n@@ -296,0 +298,1 @@\n+  g_module_set_error (NULL);\n@@ -308,2 +311,2 @@\n-_g_module_symbol (gpointer   handle,\n-          const gchar   *symbol_name)\n+_g_module_symbol (gpointer       handle,\n+                  const gchar   *symbol_name)\n@@ -321,0 +324,9 @@\n+\/**\n+ * G_MODULE_ERROR:\n+ *\n+ * The error domain of the #GModule API.\n+ *\n+ * Since: 2.70\n+ *\/\n+G_DEFINE_QUARK (g-module-error-quark, g_module_error)\n+\n@@ -373,35 +385,35 @@\n-    token == TOKEN_LIBDIR)\n-  {\n-    if (g_scanner_get_next_token (scanner) != '=' ||\n-        g_scanner_get_next_token (scanner) !=\n-        (token == TOKEN_INSTALLED ?\n-         G_TOKEN_IDENTIFIER : G_TOKEN_STRING))\n-      {\n-        gchar *display_libtool_name = g_filename_display_name (libtool_name);\n-        g_module_set_error_unduped (g_strdup_printf (\"unable to parse libtool archive \\\"%s\\\"\", display_libtool_name));\n-        g_free (display_libtool_name);\n-\n-        g_free (lt_dlname);\n-        g_free (lt_libdir);\n-        g_scanner_destroy (scanner);\n-        close (fd);\n-\n-        return NULL;\n-      }\n-    else\n-      {\n-        if (token == TOKEN_DLNAME)\n-    {\n-      g_free (lt_dlname);\n-      lt_dlname = g_strdup (scanner->value.v_string);\n-    }\n-        else if (token == TOKEN_INSTALLED)\n-    lt_installed =\n-      strcmp (scanner->value.v_identifier, \"yes\") == 0;\n-        else \/* token == TOKEN_LIBDIR *\/\n-    {\n-      g_free (lt_libdir);\n-      lt_libdir = g_strdup (scanner->value.v_string);\n-    }\n-      }\n-  }\n+          token == TOKEN_LIBDIR)\n+        {\n+          if (g_scanner_get_next_token (scanner) != '=' ||\n+              g_scanner_get_next_token (scanner) !=\n+              (token == TOKEN_INSTALLED ?\n+               G_TOKEN_IDENTIFIER : G_TOKEN_STRING))\n+            {\n+              gchar *display_libtool_name = g_filename_display_name (libtool_name);\n+              g_module_set_error_unduped (g_strdup_printf (\"unable to parse libtool archive \\\"%s\\\"\", display_libtool_name));\n+              g_free (display_libtool_name);\n+\n+              g_free (lt_dlname);\n+              g_free (lt_libdir);\n+              g_scanner_destroy (scanner);\n+              close (fd);\n+\n+              return NULL;\n+            }\n+          else\n+            {\n+              if (token == TOKEN_DLNAME)\n+                {\n+                  g_free (lt_dlname);\n+                  lt_dlname = g_strdup (scanner->value.v_string);\n+                }\n+              else if (token == TOKEN_INSTALLED)\n+                lt_installed =\n+                  strcmp (scanner->value.v_identifier, \"yes\") == 0;\n+              else \/* token == TOKEN_LIBDIR *\/\n+                {\n+                  g_free (lt_libdir);\n+                  lt_libdir = g_strdup (scanner->value.v_string);\n+                }\n+            }\n+        }\n@@ -428,11 +440,0 @@\n-static inline gboolean\n-str_check_suffix (const gchar* string,\n-      const gchar* suffix)\n-{\n-  gsize string_len = strlen (string);\n-  gsize suffix_len = strlen (suffix);\n-\n-  return string_len >= suffix_len &&\n-    strcmp (string + string_len - suffix_len, suffix) == 0;\n-}\n-\n@@ -465,1 +466,1 @@\n- * g_module_open:\n+ * g_module_open_full:\n@@ -470,0 +471,1 @@\n+ * @error: #GError.\n@@ -474,1 +476,1 @@\n- * First of all g_module_open() tries to open @file_name as a module.\n+ * First of all g_module_open_full() tries to open @file_name as a module.\n@@ -478,1 +480,1 @@\n- * (#G_MODULE_SUFFIX), this suffix will be appended and the corresponding\n+ * (%G_MODULE_SUFFIX), this suffix will be appended and the corresponding\n@@ -480,1 +482,1 @@\n- * \".la\"-suffix, this suffix is appended and g_module_open() tries to open\n+ * \".la\"-suffix, this suffix is appended and g_module_open_full() tries to open\n@@ -485,0 +487,2 @@\n+ *\n+ * Since: 2.70\n@@ -487,2 +491,3 @@\n-g_module_open (const gchar    *file_name,\n-         GModuleFlags    flags)\n+g_module_open_full (const gchar   *file_name,\n+                    GModuleFlags   flags,\n+                    GError       **error)\n@@ -496,0 +501,2 @@\n+  g_return_val_if_fail (error == NULL || *error == NULL, NULL);\n+\n@@ -549,4 +556,4 @@\n-  {\n-    g_free (name);\n-    name = NULL;\n-  }\n+        {\n+          g_free (name);\n+          name = NULL;\n+        }\n@@ -559,4 +566,4 @@\n-  {\n-    g_free (name);\n-    name = NULL;\n-  }\n+        {\n+          g_free (name);\n+          name = NULL;\n+        }\n@@ -574,1 +581,1 @@\n-  name = g_strconcat (file_name, \".\" G_MODULE_SUFFIX, NULL);\n+        name = g_strconcat (file_name, \".\" G_MODULE_SUFFIX, NULL);\n@@ -576,1 +583,1 @@\n-  name = g_strdup (file_name);\n+        name = g_strdup (file_name);\n@@ -580,2 +587,2 @@\n-  if (name)\n-    {\n+  g_assert (name != NULL);\n+\n@@ -583,1 +590,1 @@\n-      if (str_check_suffix (name, \".la\")) \/* libtool archive? *\/\n+  if (g_str_has_suffix (name, \".la\")) \/* libtool archive? *\/\n@@ -594,1 +601,1 @@\n-      if (name)\n+\n@@ -596,8 +603,1 @@\n-      (flags & G_MODULE_BIND_LOCAL) != 0);\n-    }\n-  else\n-    {\n-      gchar *display_file_name = g_filename_display_name (file_name);\n-      g_module_set_error_unduped (g_strdup_printf (\"unable to access file \\\"%s\\\"\", display_file_name));\n-      g_free (display_file_name);\n-    }\n+                           (flags & G_MODULE_BIND_LOCAL) != 0, error);\n@@ -645,2 +645,2 @@\n-  {\n-    gchar *error;\n+        {\n+          gchar *temp_error;\n@@ -648,1 +648,1 @@\n-    error = g_strconcat (\"GModule (\", file_name, \") \",\n+          temp_error = g_strconcat (\"GModule (\", file_name, \") \",\n@@ -651,5 +651,6 @@\n-    g_module_close (module);\n-    module = NULL;\n-    g_module_set_error (error);\n-    g_free (error);\n-  }\n+          g_module_close (module);\n+          module = NULL;\n+          g_module_set_error (temp_error);\n+          g_set_error_literal (error, G_MODULE_ERROR, G_MODULE_ERROR_CHECK_FAILED, temp_error);\n+          g_free (temp_error);\n+        }\n@@ -657,1 +658,1 @@\n-  g_module_set_error (saved_error);\n+        g_module_set_error (saved_error);\n@@ -670,0 +671,18 @@\n+\/**\n+ * g_module_open:\n+ * @file_name: (nullable): the name of the file containing the module, or %NULL\n+ *     to obtain a #GModule representing the main program itself\n+ * @flags: the flags used for opening the module. This can be the\n+ *     logical OR of any of the #GModuleFlags.\n+ *\n+ * A thin wrapper function around g_module_open_full()\n+ *\n+ * Returns: a #GModule on success, or %NULL on failure\n+ *\/\n+GModule *\n+g_module_open (const gchar  *file_name,\n+               GModuleFlags  flags)\n+{\n+  return g_module_open_full (file_name, flags, NULL);\n+}\n+\n@@ -766,1 +785,1 @@\n- * by #G_MODULE_EXPORT. Note that a valid symbol can be %NULL.\n+ * by %G_MODULE_EXPORT. Note that a valid symbol can be %NULL.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule.c","additions":121,"deletions":102,"binary":false,"changes":223,"status":"modified"},{"patch":"@@ -69,0 +69,20 @@\n+#define G_MODULE_ERROR g_module_error_quark () GLIB_AVAILABLE_MACRO_IN_2_70\n+GLIB_AVAILABLE_IN_2_70\n+GQuark g_module_error_quark (void);\n+\n+\/**\n+ * GModuleError:\n+ * @G_MODULE_ERROR_FAILED: there was an error loading or opening a module file\n+ * @G_MODULE_ERROR_CHECK_FAILED: a module returned an error from its `g_module_check_init()` function\n+ *\n+ * Errors returned by g_module_open_full().\n+ *\n+ * Since: 2.70\n+ *\/\n+typedef enum\n+{\n+  G_MODULE_ERROR_FAILED,\n+  G_MODULE_ERROR_CHECK_FAILED,\n+} GModuleError\n+GLIB_AVAILABLE_ENUMERATOR_IN_2_70;\n+\n@@ -78,0 +98,5 @@\n+GLIB_AVAILABLE_IN_2_70\n+GModule              *g_module_open_full     (const gchar   *file_name,\n+                                              GModuleFlags   flags,\n+                                              GError       **error);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gmodule\/gmodule.h","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -20,0 +20,1 @@\n+#include \"..\/glib\/gvalgrind.h\"\n@@ -85,0 +86,5 @@\n+\n+#if ENABLE_VALGRIND\n+  VALGRIND_MALLOCLIKE_BLOCK (mem, real_size - sizeof (gsize), FALSE, FALSE);\n+#endif\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gatomicarray.c","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-  volatile gpointer data;               \/* elements - atomic *\/\n+  gpointer data;  \/* elements - atomic *\/\n@@ -44,3 +44,3 @@\n-#define G_ATOMIC_ARRAY_DO_TRANSACTION(_array, _type, _C_) G_STMT_START {  \\\n-    volatile gpointer *_datap  = &(_array)->data;       \\\n-    _type *transaction_data, *__check;            \\\n+#define G_ATOMIC_ARRAY_DO_TRANSACTION(_array, _type, _C_) G_STMT_START {        \\\n+    gpointer *_datap  = &(_array)->data;                                \\\n+    _type *transaction_data, *__check;                                          \\\n@@ -48,6 +48,6 @@\n-    __check = g_atomic_pointer_get (_datap);          \\\n-    do {                  \\\n-      transaction_data = __check;           \\\n-      {_C_;}                  \\\n-      __check = g_atomic_pointer_get (_datap);          \\\n-    } while (transaction_data != __check);          \\\n+    __check = g_atomic_pointer_get (_datap);                                    \\\n+    do {                                                                        \\\n+      transaction_data = __check;                                               \\\n+      {_C_;}                                                                    \\\n+      __check = g_atomic_pointer_get (_datap);                                  \\\n+    } while (transaction_data != __check);                                      \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gatomicarray.h","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -28,3 +28,4 @@\n- * instance (or target). Whenever the source property changes, the same\n- * value is applied to the target property; for instance, the following\n- * binding:\n+ * instance (or target).\n+ *\n+ * Whenever the source property changes, the same value is applied to the\n+ * target property; for instance, the following binding:\n@@ -123,1 +124,1 @@\n-  static volatile gsize g_define_type_id__volatile = 0;\n+  static gsize static_g_define_type_id = 0;\n@@ -125,1 +126,1 @@\n-  if (g_once_init_enter (&g_define_type_id__volatile))\n+  if (g_once_init_enter (&static_g_define_type_id))\n@@ -136,1 +137,1 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id);\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id);\n@@ -139,1 +140,89 @@\n-  return g_define_type_id__volatile;\n+  return static_g_define_type_id;\n+}\n+\n+\/* Reference counted helper struct that is passed to all callbacks to ensure\n+ * that they never work with already freed objects without having to store\n+ * strong references for them.\n+ *\n+ * Using strong references anywhere is not possible because of the API\n+ * requirements of GBinding, specifically that the initial reference of the\n+ * GBinding is owned by the source\/target and the caller and can be released\n+ * either by the source\/target being finalized or calling g_binding_unbind().\n+ *\n+ * As such, the only strong reference has to be owned by both weak notifies of\n+ * the source and target and the first to be called has to release it.\n+ *\/\n+typedef struct {\n+  GWeakRef binding;\n+  GWeakRef source;\n+  GWeakRef target;\n+  gboolean binding_removed;\n+} BindingContext;\n+\n+static BindingContext *\n+binding_context_ref (BindingContext *context)\n+{\n+  return g_atomic_rc_box_acquire (context);\n+}\n+\n+static void\n+binding_context_clear (BindingContext *context)\n+{\n+  g_weak_ref_clear (&context->binding);\n+  g_weak_ref_clear (&context->source);\n+  g_weak_ref_clear (&context->target);\n+}\n+\n+static void\n+binding_context_unref (BindingContext *context)\n+{\n+  g_atomic_rc_box_release_full (context, (GDestroyNotify) binding_context_clear);\n+}\n+\n+\/* Reference counting for the transform functions to ensure that they're always\n+ * valid while making use of them in the property notify callbacks.\n+ *\n+ * The transform functions are released when unbinding but unbinding can happen\n+ * while the transform functions are currently in use inside the notify callbacks.\n+ *\/\n+typedef struct {\n+  GBindingTransformFunc transform_s2t;\n+  GBindingTransformFunc transform_t2s;\n+\n+  gpointer transform_data;\n+  GDestroyNotify destroy_notify;\n+} TransformFunc;\n+\n+static TransformFunc *\n+transform_func_new (GBindingTransformFunc transform_s2t,\n+                    GBindingTransformFunc transform_t2s,\n+                    gpointer              transform_data,\n+                    GDestroyNotify        destroy_notify)\n+{\n+  TransformFunc *func = g_atomic_rc_box_new0 (TransformFunc);\n+\n+  func->transform_s2t = transform_s2t;\n+  func->transform_t2s = transform_t2s;\n+  func->transform_data = transform_data;\n+  func->destroy_notify = destroy_notify;\n+\n+  return func;\n+}\n+\n+static TransformFunc *\n+transform_func_ref (TransformFunc *func)\n+{\n+  return g_atomic_rc_box_acquire (func);\n+}\n+\n+static void\n+transform_func_clear (TransformFunc *func)\n+{\n+  if (func->destroy_notify)\n+    func->destroy_notify (func->transform_data);\n+}\n+\n+static void\n+transform_func_unref (TransformFunc *func)\n+{\n+  g_atomic_rc_box_release_full (func, (GDestroyNotify) transform_func_clear);\n@@ -153,2 +242,8 @@\n-  GObject *source;\n-  GObject *target;\n+  BindingContext *context;\n+\n+  \/* protects transform_func, source, target property notify and\n+   * target_weak_notify_installed for unbinding *\/\n+  GMutex unbind_lock;\n+\n+  \/* transform functions, only NULL after unbinding *\/\n+  TransformFunc *transform_func; \/* LOCK: unbind_lock *\/\n@@ -163,3 +258,0 @@\n-  GBindingTransformFunc transform_s2t;\n-  GBindingTransformFunc transform_t2s;\n-\n@@ -168,5 +260,3 @@\n-  guint source_notify;\n-  guint target_notify;\n-\n-  gpointer transform_data;\n-  GDestroyNotify notify;\n+  guint source_notify; \/* LOCK: unbind_lock *\/\n+  guint target_notify; \/* LOCK: unbind_lock *\/\n+  gboolean target_weak_notify_installed; \/* LOCK: unbind_lock *\/\n@@ -198,0 +288,74 @@\n+static void weak_unbind (gpointer user_data, GObject *where_the_object_was);\n+\n+\/* Must be called with the unbind lock held, context\/binding != NULL and strong\n+ * references to source\/target or NULL.\n+ * Return TRUE if the binding was actually removed and FALSE if it was already\n+ * removed before. *\/\n+static gboolean\n+unbind_internal_locked (BindingContext *context, GBinding *binding, GObject *source, GObject *target)\n+{\n+  gboolean binding_was_removed = FALSE;\n+\n+  g_assert (context != NULL);\n+  g_assert (binding != NULL);\n+\n+  \/* If the target went away we still have a strong reference to the source\n+   * here and can clear it from the binding. Otherwise if the source went away\n+   * we can clear the target from the binding. Finalizing an object clears its\n+   * signal handlers and all weak references pointing to it before calling\n+   * weak notify callbacks.\n+   *\n+   * If both still exist we clean up everything set up by the binding.\n+   *\/\n+  if (source)\n+    {\n+      \/* We always add\/remove the source property notify and the weak notify\n+       * of the source at the same time, and should only ever do that once. *\/\n+      if (binding->source_notify != 0)\n+        {\n+          g_signal_handler_disconnect (source, binding->source_notify);\n+\n+          g_object_weak_unref (source, weak_unbind, context);\n+          binding_context_unref (context);\n+\n+          binding->source_notify = 0;\n+        }\n+      g_weak_ref_set (&context->source, NULL);\n+    }\n+\n+  \/* As above, but with the target. If source==target then no weak notify was\n+   * installed for the target, which is why that is stored as a separate\n+   * boolean inside the binding. *\/\n+  if (target)\n+    {\n+      \/* There might be a target property notify without a weak notify on the\n+       * target or the other way around, so these have to be handled\n+       * independently here unlike for the source. *\/\n+      if (binding->target_notify != 0)\n+        {\n+          g_signal_handler_disconnect (target, binding->target_notify);\n+\n+          binding->target_notify = 0;\n+        }\n+      g_weak_ref_set (&context->target, NULL);\n+\n+      \/* Remove the weak notify from the target, at most once *\/\n+      if (binding->target_weak_notify_installed)\n+        {\n+          g_object_weak_unref (target, weak_unbind, context);\n+          binding_context_unref (context);\n+          binding->target_weak_notify_installed = FALSE;\n+        }\n+    }\n+\n+  \/* Make sure to remove the binding only once and return to the caller that\n+   * this was the call that actually removed it. *\/\n+  if (!context->binding_removed)\n+    {\n+      context->binding_removed = TRUE;\n+      binding_was_removed = TRUE;\n+    }\n+\n+  return binding_was_removed;\n+}\n+\n@@ -200,2 +364,2 @@\n- * be reaped as well\n- *\/\n+ * be reaped as well. Each weak notify owns a strong reference to the\n+ * binding that should be dropped here. *\/\n@@ -206,1 +370,5 @@\n-  GBinding *binding = user_data;\n+  BindingContext *context = user_data;\n+  GBinding *binding;\n+  GObject *source, *target;\n+  gboolean binding_was_removed = FALSE;\n+  TransformFunc *transform_func;\n@@ -208,7 +376,2 @@\n-  \/* if what went away was the source, unset it so that GBinding::finalize\n-   * does not try to access it; otherwise, disconnect everything and remove\n-   * the GBinding instance from the object's qdata\n-   *\/\n-  if (binding->source == where_the_object_was)\n-    binding->source = NULL;\n-  else\n+  binding = g_weak_ref_get (&context->binding);\n+  if (!binding)\n@@ -216,2 +379,8 @@\n-      if (binding->source_notify != 0)\n-        g_signal_handler_disconnect (binding->source, binding->source_notify);\n+      \/* The binding was already destroyed before so there's nothing to do *\/\n+      binding_context_unref (context);\n+      return;\n+    }\n+\n+  g_mutex_lock (&binding->unbind_lock);\n+\n+  transform_func = g_steal_pointer (&binding->transform_func);\n@@ -219,1 +388,16 @@\n-      g_object_weak_unref (binding->source, weak_unbind, user_data);\n+  source = g_weak_ref_get (&context->source);\n+  target = g_weak_ref_get (&context->target);\n+\n+  \/* If this is called then either the source or target or both must be in the\n+   * process of being disposed. If this happens as part of g_object_unref()\n+   * then the weak references are actually cleared, otherwise if disposing\n+   * happens as part of g_object_run_dispose() then they would still point to\n+   * the disposed object.\n+   *\n+   * If the object this is being called for is either the source or the target\n+   * and we actually got a strong reference to it nonetheless (see above),\n+   * then signal handlers and weak notifies for it are already disconnected\n+   * and they must not be disconnected a second time. Instead simply clear the\n+   * weak reference and be done with it.\n+   *\n+   * See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/2266 *\/\n@@ -221,2 +405,4 @@\n-      binding->source_notify = 0;\n-      binding->source = NULL;\n+  if (source == where_the_object_was)\n+    {\n+      g_weak_ref_set (&context->source, NULL);\n+      g_clear_object (&source);\n@@ -225,4 +411,1 @@\n-  \/* as above, but with the target *\/\n-  if (binding->target == where_the_object_was)\n-    binding->target = NULL;\n-  else\n+  if (target == where_the_object_was)\n@@ -230,2 +413,3 @@\n-      if (binding->target_notify != 0)\n-        g_signal_handler_disconnect (binding->target, binding->target_notify);\n+      g_weak_ref_set (&context->target, NULL);\n+      g_clear_object (&target);\n+    }\n@@ -233,1 +417,1 @@\n-      g_object_weak_unref (binding->target, weak_unbind, user_data);\n+  binding_was_removed = unbind_internal_locked (context, binding, source, target);\n@@ -235,3 +419,8 @@\n-      binding->target_notify = 0;\n-      binding->target = NULL;\n-    }\n+  g_mutex_unlock (&binding->unbind_lock);\n+\n+  \/* Unref source, target and transform_func after the mutex is unlocked as it\n+   * might release the last reference, which then accesses the mutex again *\/\n+  g_clear_object (&target);\n+  g_clear_object (&source);\n+\n+  g_clear_pointer (&transform_func, transform_func_unref);\n@@ -239,1 +428,1 @@\n-  \/* this will take care of the binding itself *\/\n+  \/* This releases the strong reference we got from the weak ref above *\/\n@@ -241,0 +430,7 @@\n+\n+  \/* This will take care of the binding itself. *\/\n+  if (binding_was_removed)\n+    g_object_unref (binding);\n+\n+  \/* Each weak notify owns a reference to the binding context. *\/\n+  binding_context_unref (context);\n@@ -302,3 +498,3 @@\n-on_source_notify (GObject    *gobject,\n-                  GParamSpec *pspec,\n-                  GBinding   *binding)\n+on_source_notify (GObject          *source,\n+                  GParamSpec       *pspec,\n+                  BindingContext   *context)\n@@ -306,0 +502,3 @@\n+  GBinding *binding;\n+  GObject *target;\n+  TransformFunc *transform_func;\n@@ -310,1 +509,2 @@\n-  if (binding->is_frozen)\n+  binding = g_weak_ref_get (&context->binding);\n+  if (!binding)\n@@ -313,0 +513,24 @@\n+  if (binding->is_frozen)\n+    {\n+      g_object_unref (binding);\n+      return;\n+    }\n+\n+  target = g_weak_ref_get (&context->target);\n+  if (!target)\n+    {\n+      g_object_unref (binding);\n+      return;\n+    }\n+\n+  \/* Get the transform function safely *\/\n+  g_mutex_lock (&binding->unbind_lock);\n+  if (!binding->transform_func)\n+    {\n+      \/* it was released already during unbinding, nothing to do here *\/\n+      g_mutex_unlock (&binding->unbind_lock);\n+      return;\n+    }\n+  transform_func = transform_func_ref (binding->transform_func);\n+  g_mutex_unlock (&binding->unbind_lock);\n+\n@@ -316,1 +540,8 @@\n-  g_object_get_property (binding->source, binding->source_pspec->name, &from_value);\n+  g_object_get_property (source, binding->source_pspec->name, &from_value);\n+\n+  res = transform_func->transform_s2t (binding,\n+                                       &from_value,\n+                                       &to_value,\n+                                       transform_func->transform_data);\n+\n+  transform_func_unref (transform_func);\n@@ -318,4 +549,0 @@\n-  res = binding->transform_s2t (binding,\n-                                &from_value,\n-                                &to_value,\n-                                binding->transform_data);\n@@ -327,1 +554,1 @@\n-      g_object_set_property (binding->target, binding->target_pspec->name, &to_value);\n+      g_object_set_property (target, binding->target_pspec->name, &to_value);\n@@ -334,0 +561,3 @@\n+\n+  g_object_unref (target);\n+  g_object_unref (binding);\n@@ -337,3 +567,3 @@\n-on_target_notify (GObject    *gobject,\n-                  GParamSpec *pspec,\n-                  GBinding   *binding)\n+on_target_notify (GObject          *target,\n+                  GParamSpec       *pspec,\n+                  BindingContext   *context)\n@@ -341,0 +571,3 @@\n+  GBinding *binding;\n+  GObject *source;\n+  TransformFunc *transform_func;\n@@ -345,1 +578,2 @@\n-  if (binding->is_frozen)\n+  binding = g_weak_ref_get (&context->binding);\n+  if (!binding)\n@@ -348,0 +582,24 @@\n+  if (binding->is_frozen)\n+    {\n+      g_object_unref (binding);\n+      return;\n+    }\n+\n+  source = g_weak_ref_get (&context->source);\n+  if (!source)\n+    {\n+      g_object_unref (binding);\n+      return;\n+    }\n+\n+  \/* Get the transform function safely *\/\n+  g_mutex_lock (&binding->unbind_lock);\n+  if (!binding->transform_func)\n+    {\n+      \/* it was released already during unbinding, nothing to do here *\/\n+      g_mutex_unlock (&binding->unbind_lock);\n+      return;\n+    }\n+  transform_func = transform_func_ref (binding->transform_func);\n+  g_mutex_unlock (&binding->unbind_lock);\n+\n@@ -351,1 +609,7 @@\n-  g_object_get_property (binding->target, binding->target_pspec->name, &from_value);\n+  g_object_get_property (target, binding->target_pspec->name, &from_value);\n+\n+  res = transform_func->transform_t2s (binding,\n+                                       &from_value,\n+                                       &to_value,\n+                                       transform_func->transform_data);\n+  transform_func_unref (transform_func);\n@@ -353,4 +617,0 @@\n-  res = binding->transform_t2s (binding,\n-                                &from_value,\n-                                &to_value,\n-                                binding->transform_data);\n@@ -362,1 +622,1 @@\n-      g_object_set_property (binding->source, binding->source_pspec->name, &to_value);\n+      g_object_set_property (source, binding->source_pspec->name, &to_value);\n@@ -369,0 +629,3 @@\n+\n+  g_object_unref (source);\n+  g_object_unref (binding);\n@@ -375,1 +638,2 @@\n-  gboolean source_is_target = binding->source == binding->target;\n+  BindingContext *context = binding->context;\n+  GObject *source, *target;\n@@ -377,0 +641,1 @@\n+  TransformFunc *transform_func;\n@@ -378,4 +643,1 @@\n-  \/* dispose of the transformation data *\/\n-  if (binding->notify != NULL)\n-    {\n-      binding->notify (binding->transform_data);\n+  g_mutex_lock (&binding->unbind_lock);\n@@ -383,3 +645,1 @@\n-      binding->transform_data = NULL;\n-      binding->notify = NULL;\n-    }\n+  transform_func = g_steal_pointer (&binding->transform_func);\n@@ -387,4 +647,2 @@\n-  if (binding->source != NULL)\n-    {\n-      if (binding->source_notify != 0)\n-        g_signal_handler_disconnect (binding->source, binding->source_notify);\n+  source = g_weak_ref_get (&context->source);\n+  target = g_weak_ref_get (&context->target);\n@@ -392,1 +650,1 @@\n-      g_object_weak_unref (binding->source, weak_unbind, binding);\n+  binding_was_removed = unbind_internal_locked (context, binding, source, target);\n@@ -394,4 +652,1 @@\n-      binding->source_notify = 0;\n-      binding->source = NULL;\n-      binding_was_removed = TRUE;\n-    }\n+  g_mutex_unlock (&binding->unbind_lock);\n@@ -399,4 +654,4 @@\n-  if (binding->target != NULL)\n-    {\n-      if (binding->target_notify != 0)\n-        g_signal_handler_disconnect (binding->target, binding->target_notify);\n+  \/* Unref source, target and transform_func after the mutex is unlocked as it\n+   * might release the last reference, which then accesses the mutex again *\/\n+  g_clear_object (&target);\n+  g_clear_object (&source);\n@@ -404,7 +659,1 @@\n-      if (!source_is_target)\n-        g_object_weak_unref (binding->target, weak_unbind, binding);\n-\n-      binding->target_notify = 0;\n-      binding->target = NULL;\n-      binding_was_removed = TRUE;\n-    }\n+  g_clear_pointer (&transform_func, transform_func_unref);\n@@ -423,0 +672,4 @@\n+  binding_context_unref (binding->context);\n+\n+  g_mutex_clear (&binding->unbind_lock);\n+\n@@ -484,1 +737,1 @@\n-      binding->source = g_value_get_object (value);\n+      g_weak_ref_set (&binding->context->source, g_value_get_object (value));\n@@ -488,1 +741,1 @@\n-      binding->target = g_value_get_object (value);\n+      g_weak_ref_set (&binding->context->target, g_value_get_object (value));\n@@ -538,1 +791,1 @@\n-      g_value_set_object (value, binding->source);\n+      g_value_take_object (value, g_weak_ref_get (&binding->context->source));\n@@ -547,1 +800,1 @@\n-      g_value_set_object (value, binding->target);\n+      g_value_take_object (value, g_weak_ref_get (&binding->context->target));\n@@ -570,0 +823,1 @@\n+  GObject *source, *target;\n@@ -574,2 +828,4 @@\n-  g_assert (binding->source != NULL);\n-  g_assert (binding->target != NULL);\n+  source = g_weak_ref_get (&binding->context->source);\n+  target = g_weak_ref_get (&binding->context->target);\n+  g_assert (source != NULL);\n+  g_assert (target != NULL);\n@@ -583,2 +839,2 @@\n-  binding->source_pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (binding->source), binding->source_property);\n-  binding->target_pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (binding->target), binding->target_property);\n+  binding->source_pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (source), binding->source_property);\n+  binding->target_pspec = g_object_class_find_property (G_OBJECT_GET_CLASS (target), binding->target_property);\n@@ -593,5 +849,1 @@\n-  binding->transform_s2t = transform_func;\n-  binding->transform_t2s = transform_func;\n-\n-  binding->transform_data = NULL;\n-  binding->notify = NULL;\n+  binding->transform_func = transform_func_new (transform_func, transform_func, NULL, NULL);\n@@ -601,2 +853,3 @@\n-                                          binding, NULL);\n-  binding->source_notify = g_signal_connect_closure_by_id (binding->source,\n+                                          binding_context_ref (binding->context),\n+                                          (GClosureNotify) binding_context_unref);\n+  binding->source_notify = g_signal_connect_closure_by_id (source,\n@@ -608,1 +861,1 @@\n-  g_object_weak_ref (binding->source, weak_unbind, binding);\n+  g_object_weak_ref (source, weak_unbind, binding_context_ref (binding->context));\n@@ -617,2 +870,3 @@\n-                                              binding, NULL);\n-      binding->target_notify = g_signal_connect_closure_by_id (binding->target,\n+                                              binding_context_ref (binding->context),\n+                                              (GClosureNotify) binding_context_unref);\n+      binding->target_notify = g_signal_connect_closure_by_id (target,\n@@ -625,2 +879,12 @@\n-  if (binding->target != binding->source)\n-    g_object_weak_ref (binding->target, weak_unbind, binding);\n+  if (target != source)\n+    {\n+      g_object_weak_ref (target, weak_unbind, binding_context_ref (binding->context));\n+\n+      \/* Need to remember separately if a target weak notify was installed as\n+       * unlike for the source it can exist independently of the property\n+       * notification callback *\/\n+      binding->target_weak_notify_installed = TRUE;\n+    }\n+\n+  g_object_unref (source);\n+  g_object_unref (target);\n@@ -731,0 +995,6 @@\n+  g_mutex_init (&binding->unbind_lock);\n+\n+  binding->context = g_atomic_rc_box_new0 (BindingContext);\n+  g_weak_ref_init (&binding->context->binding, binding);\n+  g_weak_ref_init (&binding->context->source, NULL);\n+  g_weak_ref_init (&binding->context->target, NULL);\n@@ -761,0 +1031,4 @@\n+ * Use g_binding_dup_source() if the source or binding are used from different\n+ * threads as otherwise the pointer returned from this function might become\n+ * invalid if the source is finalized from another thread in the meantime.\n+ *\n@@ -764,0 +1038,3 @@\n+ * Deprecated: 2.68: Use g_binding_dup_source() for a safer version of this\n+ * function.\n+ *\n@@ -769,0 +1046,2 @@\n+  GObject *source;\n+\n@@ -771,1 +1050,30 @@\n-  return binding->source;\n+  source = g_weak_ref_get (&binding->context->source);\n+  \/* Unref here, this API is not thread-safe\n+   * FIXME: Remove this API when we next break API *\/\n+  if (source)\n+    g_object_unref (source);\n+\n+  return source;\n+}\n+\n+\/**\n+ * g_binding_dup_source:\n+ * @binding: a #GBinding\n+ *\n+ * Retrieves the #GObject instance used as the source of the binding.\n+ *\n+ * A #GBinding can outlive the source #GObject as the binding does not hold a\n+ * strong reference to the source. If the source is destroyed before the\n+ * binding then this function will return %NULL.\n+ *\n+ * Returns: (transfer full) (nullable): the source #GObject, or %NULL if the\n+ *     source does not exist any more.\n+ *\n+ * Since: 2.68\n+ *\/\n+GObject *\n+g_binding_dup_source (GBinding *binding)\n+{\n+  g_return_val_if_fail (G_IS_BINDING (binding), NULL);\n+\n+  return g_weak_ref_get (&binding->context->source);\n@@ -784,0 +1092,4 @@\n+ * Use g_binding_dup_target() if the target or binding are used from different\n+ * threads as otherwise the pointer returned from this function might become\n+ * invalid if the target is finalized from another thread in the meantime.\n+ *\n@@ -787,0 +1099,3 @@\n+ * Deprecated: 2.68: Use g_binding_dup_target() for a safer version of this\n+ * function.\n+ *\n@@ -791,0 +1106,31 @@\n+{\n+  GObject *target;\n+\n+  g_return_val_if_fail (G_IS_BINDING (binding), NULL);\n+\n+  target = g_weak_ref_get (&binding->context->target);\n+  \/* Unref here, this API is not thread-safe\n+   * FIXME: Remove this API when we next break API *\/\n+  if (target)\n+    g_object_unref (target);\n+\n+  return target;\n+}\n+\n+\/**\n+ * g_binding_dup_target:\n+ * @binding: a #GBinding\n+ *\n+ * Retrieves the #GObject instance used as the target of the binding.\n+ *\n+ * A #GBinding can outlive the target #GObject as the binding does not hold a\n+ * strong reference to the target. If the target is destroyed before the\n+ * binding then this function will return %NULL.\n+ *\n+ * Returns: (transfer full) (nullable): the target #GObject, or %NULL if the\n+ *     target does not exist any more.\n+ *\n+ * Since: 2.68\n+ *\/\n+GObject *\n+g_binding_dup_target (GBinding *binding)\n@@ -794,1 +1140,1 @@\n-  return binding->target;\n+  return g_weak_ref_get (&binding->context->target);\n@@ -843,3 +1189,7 @@\n- * the @binding instance; if you want to hold on to the #GBinding instance\n- * after calling g_binding_unbind(), you will need to hold a reference\n- * to it.\n+ * the @binding instance if the binding is still bound; if you want to hold on\n+ * to the #GBinding instance after calling g_binding_unbind(), you will need\n+ * to hold a reference to it.\n+ *\n+ * Note however that this function does not take ownership of @binding, it\n+ * only unrefs the reference that was initially created by\n+ * g_object_bind_property() and is owned by the binding.\n@@ -1031,2 +1381,5 @@\n-  if (transform_to != NULL)\n-    binding->transform_s2t = transform_to;\n+  g_assert (binding->transform_func != NULL);\n+\n+  \/* Use default functions if not provided here *\/\n+  if (transform_to == NULL)\n+    transform_to = binding->transform_func->transform_s2t;\n@@ -1034,2 +1387,2 @@\n-  if (transform_from != NULL)\n-    binding->transform_t2s = transform_from;\n+  if (transform_from == NULL)\n+    transform_from = binding->transform_func->transform_t2s;\n@@ -1037,2 +1390,2 @@\n-  binding->transform_data = user_data;\n-  binding->notify = notify;\n+  g_clear_pointer (&binding->transform_func, transform_func_unref);\n+  binding->transform_func = transform_func_new (transform_to, transform_from, user_data, notify);\n@@ -1046,1 +1399,1 @@\n-    on_source_notify (binding->source, binding->source_pspec, binding);\n+    on_source_notify (source, binding->source_pspec, binding->context);\n@@ -1060,1 +1413,3 @@\n- * on @target. Whenever the @source_property is changed the @target_property is\n+ * on @target.\n+ *\n+ * Whenever the @source_property is changed the @target_property is\n@@ -1063,1 +1418,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -1080,0 +1435,7 @@\n+ * Removing the binding by calling g_object_unref() on it must only be done if\n+ * the binding, @source and @target are only used from a single thread and it\n+ * is clear that both @source and @target outlive the binding. Especially it\n+ * is not safe to rely on this if the binding, @source or @target can be\n+ * finalized from different threads. Keep another reference to the binding and\n+ * use g_binding_unbind() instead to be on the safe side.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gbinding.c","additions":487,"deletions":125,"binary":false,"changes":612,"status":"modified"},{"patch":"@@ -56,2 +56,3 @@\n- * A function to be called to transform @from_value to @to_value. If\n- * this is the @transform_to function of a binding, then @from_value\n+ * A function to be called to transform @from_value to @to_value.\n+ *\n+ * If this is the @transform_to function of a binding, then @from_value\n@@ -111,1 +112,1 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_DEPRECATED_IN_2_68_FOR(g_binding_dup_source)\n@@ -113,1 +114,3 @@\n-GLIB_AVAILABLE_IN_ALL\n+GLIB_AVAILABLE_IN_2_68\n+GObject *             g_binding_dup_source          (GBinding *binding);\n+GLIB_DEPRECATED_IN_2_68_FOR(g_binding_dup_target)\n@@ -115,0 +118,2 @@\n+GLIB_AVAILABLE_IN_2_68\n+GObject *             g_binding_dup_target          (GBinding *binding);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gbinding.h","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -42,4 +42,5 @@\n- * #GBoxed is a generic wrapper mechanism for arbitrary C structures. The only\n- * thing the type system needs to know about the structures is how to copy them\n- * (a #GBoxedCopyFunc) and how to free them (a #GBoxedFreeFunc) - beyond that\n- * they are treated as opaque chunks of memory.\n+ * #GBoxed is a generic wrapper mechanism for arbitrary C structures.\n+ *\n+ * The only thing the type system needs to know about the structures is how to\n+ * copy them (a #GBoxedCopyFunc) and how to free them (a #GBoxedFreeFunc);\n+ * beyond that, they are treated as opaque chunks of memory.\n@@ -148,0 +149,1 @@\n+G_DEFINE_BOXED_TYPE (GTree, g_tree, g_tree_ref, g_tree_unref)\n@@ -179,0 +181,1 @@\n+G_DEFINE_BOXED_TYPE (GPatternSpec, g_pattern_spec, g_pattern_spec_copy, g_pattern_spec_free);\n@@ -184,1 +187,1 @@\n-  static volatile gsize g_define_type_id__volatile = 0;\n+  static gsize static_g_define_type_id = 0;\n@@ -186,1 +189,1 @@\n-  if (g_once_init_enter (&g_define_type_id__volatile))\n+  if (g_once_init_enter (&static_g_define_type_id))\n@@ -193,1 +196,1 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id);\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id);\n@@ -196,1 +199,1 @@\n-  return g_define_type_id__volatile;\n+  return static_g_define_type_id;\n@@ -283,2 +286,8 @@\n- * boxed type with name @name. Boxed type handling functions have to be\n- * provided to copy and free opaque boxed structures of this type.\n+ * boxed type with name @name.\n+ *\n+ * Boxed type handling functions have to be provided to copy and free\n+ * opaque boxed structures of this type.\n+ *\n+ * For the general case, it is recommended to use G_DEFINE_BOXED_TYPE()\n+ * instead of calling g_boxed_type_register_static() directly. The macro\n+ * will create the appropriate `*_get_type()` function for the boxed type.\n@@ -304,10 +313,10 @@\n-    0,          \/* class_size *\/\n-    NULL,       \/* base_init *\/\n-    NULL,       \/* base_finalize *\/\n-    NULL,       \/* class_init *\/\n-    NULL,       \/* class_finalize *\/\n-    NULL,       \/* class_data *\/\n-    0,          \/* instance_size *\/\n-    0,          \/* n_preallocs *\/\n-    NULL,       \/* instance_init *\/\n-    &vtable,        \/* value_table *\/\n+    0,                  \/* class_size *\/\n+    NULL,               \/* base_init *\/\n+    NULL,               \/* base_finalize *\/\n+    NULL,               \/* class_init *\/\n+    NULL,               \/* class_finalize *\/\n+    NULL,               \/* class_data *\/\n+    0,                  \/* instance_size *\/\n+    0,                  \/* n_preallocs *\/\n+    NULL,               \/* instance_init *\/\n+    &vtable,            \/* value_table *\/\n@@ -383,2 +392,2 @@\n-  g_warning (\"the copy_value() implementation of type '%s' seems to make use of reserved GValue fields\",\n-       g_type_name (boxed_type));\n+        g_warning (\"the copy_value() implementation of type '%s' seems to make use of reserved GValue fields\",\n+                   g_type_name (boxed_type));\n@@ -495,1 +504,1 @@\n-       gconstpointer boxed)\n+                   gconstpointer boxed)\n@@ -509,0 +518,1 @@\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gboxed.c","additions":33,"deletions":23,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -44,2 +44,3 @@\n- * A #GClosure represents a callback supplied by the programmer. It\n- * will generally comprise a function of some kind and a marshaller\n+ * A #GClosure represents a callback supplied by the programmer.\n+ *\n+ * It will generally comprise a function of some kind and a marshaller\n@@ -101,1 +102,1 @@\n-  volatile gint vint;\n+  gint vint;\n@@ -153,2 +154,3 @@\n- * part as a #GClosure. This function is mainly useful when\n- * implementing new types of closures.\n+ * part as a #GClosure.\n+ *\n+ * This function is mainly useful when implementing new types of closures:\n@@ -338,3 +340,6 @@\n- * Sets the meta marshaller of @closure.  A meta marshaller wraps\n- * @closure->marshal and modifies the way it is called in some\n- * fashion. The most common use of this facility is for C callbacks.\n+ * Sets the meta marshaller of @closure.\n+ *\n+ * A meta marshaller wraps the @closure's marshal and modifies the way\n+ * it is called in some fashion. The most common use of this facility\n+ * is for C callbacks.\n+ *\n@@ -343,1 +348,1 @@\n- * differs. In most cases we want to use @closure->callback, but in\n+ * differs. In most cases we want to use the @closure's callback, but in\n@@ -384,3 +389,5 @@\n- * closure callback, respectively. This is typically used to protect\n- * the extra arguments for the duration of the callback. See\n- * g_object_watch_closure() for an example of marshal guards.\n+ * closure callback, respectively.\n+ *\n+ * This is typically used to protect the extra arguments for the\n+ * duration of the callback. See g_object_watch_closure() for an\n+ * example of marshal guards.\n@@ -439,5 +446,6 @@\n- * reference count of @closure goes down to 0. Multiple finalization\n- * notifiers on a single closure are invoked in unspecified order. If\n- * a single call to g_closure_unref() results in the closure being\n- * both invalidated and finalized, then the invalidate notifiers will\n- * be run before the finalize notifiers.\n+ * reference count of @closure goes down to 0.\n+ *\n+ * Multiple finalization notifiers on a single closure are invoked in\n+ * unspecified order. If a single call to g_closure_unref() results in\n+ * the closure being both invalidated and finalized, then the invalidate\n+ * notifiers will be run before the finalize notifiers.\n@@ -475,3 +483,4 @@\n- * @closure is invalidated with g_closure_invalidate(). Invalidation\n- * notifiers are invoked before finalization notifiers, in an\n- * unspecified order.\n+ * @closure is invalidated with g_closure_invalidate().\n+ *\n+ * Invalidation notifiers are invoked before finalization notifiers,\n+ * in an unspecified order.\n@@ -572,1 +581,3 @@\n- * ignored. Also, invalidation notifiers installed on the closure will\n+ * ignored.\n+ *\n+ * Also, invalidation notifiers installed on the closure will\n@@ -605,2 +616,4 @@\n- * incremented by the same caller. If no other callers are using the\n- * closure, then the closure will be destroyed and freed.\n+ * incremented by the same caller.\n+ *\n+ * If no other callers are using the closure, then the closure will be\n+ * destroyed and freed.\n@@ -651,8 +664,12 @@\n- * Takes over the initial ownership of a closure.  Each closure is\n- * initially created in a \"floating\" state, which means that the initial\n- * reference count is not owned by any caller. g_closure_sink() checks\n- * to see if the object is still floating, and if so, unsets the\n- * floating state and decreases the reference count. If the closure\n- * is not floating, g_closure_sink() does nothing. The reason for the\n- * existence of the floating state is to prevent cumbersome code\n- * sequences like:\n+ * Takes over the initial ownership of a closure.\n+ *\n+ * Each closure is initially created in a \"floating\" state, which means\n+ * that the initial reference count is not owned by any caller.\n+ *\n+ * This function checks to see if the object is still floating, and if so,\n+ * unsets the floating state and decreases the reference count. If the\n+ * closure is not floating, g_closure_sink() does nothing.\n+ *\n+ * The reason for the existence of the floating state is to prevent\n+ * cumbersome code sequences like:\n+ *\n@@ -664,0 +681,1 @@\n+ *\n@@ -666,0 +684,1 @@\n+ *\n@@ -672,0 +691,1 @@\n+ *\n@@ -899,4 +919,6 @@\n- * Sets the marshaller of @closure. The `marshal_data`\n- * of @marshal provides a way for a meta marshaller to provide additional\n- * information to the marshaller. (See g_closure_set_meta_marshal().) For\n- * GObject's C predefined marshallers (the g_cclosure_marshal_*()\n+ * Sets the marshaller of @closure.\n+ *\n+ * The `marshal_data` of @marshal provides a way for a meta marshaller to\n+ * provide additional information to the marshaller.\n+ *\n+ * For GObject's C predefined marshallers (the `g_cclosure_marshal_*()`\n@@ -905,0 +927,2 @@\n+ *\n+ * See also: g_closure_set_meta_marshal()\n@@ -1277,0 +1301,1 @@\n+  GType type;\n@@ -1278,1 +1303,4 @@\n-  switch (g_type_fundamental (G_VALUE_TYPE (gvalue)))\n+  type = G_VALUE_TYPE (gvalue);\n+\n+restart:\n+  switch (g_type_fundamental (type))\n@@ -1337,0 +1365,5 @@\n+    case G_TYPE_INTERFACE:\n+      type = g_type_interface_instantiatable_prerequisite (type);\n+      if (type)\n+        goto restart;\n+      G_GNUC_FALLTHROUGH;\n@@ -1338,2 +1371,3 @@\n-      g_warning (\"value_from_ffi_type: Unsupported fundamental type: %s\",\n-                g_type_name (g_type_fundamental (G_VALUE_TYPE (gvalue))));\n+      g_warning (\"value_from_ffi_type: Unsupported fundamental type %s for type %s\",\n+                 g_type_name (g_type_fundamental (G_VALUE_TYPE (gvalue))),\n+                 g_type_name (G_VALUE_TYPE (gvalue)));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gclosure.c","additions":72,"deletions":38,"binary":false,"changes":110,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+ *\n@@ -52,1 +53,1 @@\n-#define G_CLOSURE_N_NOTIFIERS(cl)  (((cl)->n_guards << 1L) + \\\n+#define G_CLOSURE_N_NOTIFIERS(cl)        (((cl)->n_guards << 1L) + \\\n@@ -70,1 +71,1 @@\n-#define G_CALLBACK(f)      ((GCallback) (f))\n+#define G_CALLBACK(f)                    ((GCallback) (f))\n@@ -74,2 +75,2 @@\n-typedef struct _GClosure     GClosure;\n-typedef struct _GClosureNotifyData   GClosureNotifyData;\n+typedef struct _GClosure                 GClosure;\n+typedef struct _GClosureNotifyData       GClosureNotifyData;\n@@ -81,4 +82,7 @@\n- * signatures. This doesn't mean that all callback functions must take no\n- * parameters and return void. The required signature of a callback function\n- * is determined by the context in which is used (e.g. the signal to which it\n- * is connected). Use G_CALLBACK() to cast the callback function to a #GCallback.\n+ * signatures.\n+ *\n+ * This doesn't mean that all callback functions must take no  parameters and\n+ * return void. The required signature of a callback function is determined by\n+ * the context in which is used (e.g. the signal to which it is connected).\n+ *\n+ * Use G_CALLBACK() to cast the callback function to a #GCallback.\n@@ -95,2 +99,2 @@\n-typedef void  (*GClosureNotify)   (gpointer  data,\n-           GClosure *closure);\n+typedef void  (*GClosureNotify)         (gpointer        data,\n+                                         GClosure       *closure);\n@@ -115,6 +119,6 @@\n-typedef void  (*GClosureMarshal)  (GClosure *closure,\n-           GValue         *return_value,\n-           guint           n_param_values,\n-           const GValue   *param_values,\n-           gpointer        invocation_hint,\n-           gpointer  marshal_data);\n+typedef void  (*GClosureMarshal)        (GClosure       *closure,\n+                                         GValue         *return_value,\n+                                         guint           n_param_values,\n+                                         const GValue   *param_values,\n+                                         gpointer        invocation_hint,\n+                                         gpointer        marshal_data);\n@@ -143,6 +147,6 @@\n-            GValue   *return_value,\n-            gpointer  instance,\n-            va_list   args,\n-            gpointer  marshal_data,\n-            int       n_params,\n-            GType    *param_types);\n+                                    GValue   *return_value,\n+                                    gpointer  instance,\n+                                    va_list   args,\n+                                    gpointer  marshal_data,\n+                                    int       n_params,\n+                                    GType    *param_types);\n@@ -157,1 +161,1 @@\n-typedef struct _GCClosure    GCClosure;\n+typedef struct _GCClosure                GCClosure;\n@@ -178,1 +182,1 @@\n-  volatile        guint  ref_count : 15;\n+  guint ref_count : 15;  \/* (atomic) *\/\n@@ -181,6 +185,6 @@\n-  volatile        guint  meta_marshal_nouse : 1;\n-  volatile        guint  n_guards : 1;\n-  volatile        guint  n_fnotifiers : 2;  \/* finalization notifiers *\/\n-  volatile        guint  n_inotifiers : 8;  \/* invalidation notifiers *\/\n-  volatile        guint  in_inotify : 1;\n-  volatile        guint  floating : 1;\n+  guint meta_marshal_nouse : 1;  \/* (atomic) *\/\n+  guint n_guards : 1;  \/* (atomic) *\/\n+  guint n_fnotifiers : 2;  \/* finalization notifiers (atomic) *\/\n+  guint n_inotifiers : 8;  \/* invalidation notifiers (atomic) *\/\n+  guint in_inotify : 1;  \/* (atomic) *\/\n+  guint floating : 1;  \/* (atomic) *\/\n@@ -188,1 +192,1 @@\n-  volatile          guint  derivative_flag : 1;\n+  guint derivative_flag : 1;  \/* (atomic) *\/\n@@ -190,2 +194,2 @@\n-  volatile        guint  in_marshal : 1;\n-  volatile        guint  is_invalid : 1;\n+  guint in_marshal : 1;  \/* (atomic) *\/\n+  guint is_invalid : 1;  \/* (atomic) *\/\n@@ -193,7 +197,7 @@\n-  \/*< private >*\/ void   (*marshal)  (GClosure       *closure,\n-              GValue \/*out*\/ *return_value,\n-              guint           n_param_values,\n-              const GValue   *param_values,\n-              gpointer        invocation_hint,\n-              gpointer      marshal_data);\n-  \/*< protected >*\/ gpointer data;\n+  \/*< private >*\/       void   (*marshal)  (GClosure       *closure,\n+                                            GValue \/*out*\/ *return_value,\n+                                            guint           n_param_values,\n+                                            const GValue   *param_values,\n+                                            gpointer        invocation_hint,\n+                                            gpointer        marshal_data);\n+  \/*< protected >*\/     gpointer data;\n@@ -201,1 +205,1 @@\n-  \/*< private >*\/ GClosureNotifyData *notifiers;\n+  \/*< private >*\/       GClosureNotifyData *notifiers;\n@@ -218,2 +222,2 @@\n-  GClosure  closure;\n-  gpointer  callback;\n+  GClosure      closure;\n+  gpointer      callback;\n@@ -225,3 +229,3 @@\n-GClosure* g_cclosure_new      (GCallback  callback_func,\n-             gpointer user_data,\n-             GClosureNotify destroy_data);\n+GClosure* g_cclosure_new                        (GCallback      callback_func,\n+                                                 gpointer       user_data,\n+                                                 GClosureNotify destroy_data);\n@@ -229,3 +233,3 @@\n-GClosure* g_cclosure_new_swap     (GCallback  callback_func,\n-             gpointer user_data,\n-             GClosureNotify destroy_data);\n+GClosure* g_cclosure_new_swap                   (GCallback      callback_func,\n+                                                 gpointer       user_data,\n+                                                 GClosureNotify destroy_data);\n@@ -233,2 +237,2 @@\n-GClosure* g_signal_type_cclosure_new    (GType          itype,\n-             guint          struct_offset);\n+GClosure* g_signal_type_cclosure_new            (GType          itype,\n+                                                 guint          struct_offset);\n@@ -239,1 +243,1 @@\n-GClosure* g_closure_ref       (GClosure *closure);\n+GClosure* g_closure_ref                         (GClosure       *closure);\n@@ -241,1 +245,1 @@\n-void    g_closure_sink      (GClosure *closure);\n+void      g_closure_sink                        (GClosure       *closure);\n@@ -243,1 +247,1 @@\n-void    g_closure_unref     (GClosure *closure);\n+void      g_closure_unref                       (GClosure       *closure);\n@@ -246,2 +250,2 @@\n-GClosure* g_closure_new_simple      (guint     sizeof_closure,\n-             gpointer  data);\n+GClosure* g_closure_new_simple                  (guint           sizeof_closure,\n+                                                 gpointer        data);\n@@ -249,3 +253,3 @@\n-void    g_closure_add_finalize_notifier (GClosure       *closure,\n-             gpointer  notify_data,\n-             GClosureNotify  notify_func);\n+void      g_closure_add_finalize_notifier       (GClosure       *closure,\n+                                                 gpointer        notify_data,\n+                                                 GClosureNotify  notify_func);\n@@ -253,3 +257,3 @@\n-void    g_closure_remove_finalize_notifier  (GClosure       *closure,\n-             gpointer  notify_data,\n-             GClosureNotify  notify_func);\n+void      g_closure_remove_finalize_notifier    (GClosure       *closure,\n+                                                 gpointer        notify_data,\n+                                                 GClosureNotify  notify_func);\n@@ -257,3 +261,3 @@\n-void    g_closure_add_invalidate_notifier (GClosure       *closure,\n-             gpointer  notify_data,\n-             GClosureNotify  notify_func);\n+void      g_closure_add_invalidate_notifier     (GClosure       *closure,\n+                                                 gpointer        notify_data,\n+                                                 GClosureNotify  notify_func);\n@@ -261,3 +265,3 @@\n-void    g_closure_remove_invalidate_notifier  (GClosure       *closure,\n-             gpointer  notify_data,\n-             GClosureNotify  notify_func);\n+void      g_closure_remove_invalidate_notifier  (GClosure       *closure,\n+                                                 gpointer        notify_data,\n+                                                 GClosureNotify  notify_func);\n@@ -265,5 +269,5 @@\n-void    g_closure_add_marshal_guards    (GClosure *closure,\n-             gpointer        pre_marshal_data,\n-             GClosureNotify  pre_marshal_notify,\n-             gpointer        post_marshal_data,\n-             GClosureNotify  post_marshal_notify);\n+void      g_closure_add_marshal_guards          (GClosure       *closure,\n+                                                 gpointer        pre_marshal_data,\n+                                                 GClosureNotify  pre_marshal_notify,\n+                                                 gpointer        post_marshal_data,\n+                                                 GClosureNotify  post_marshal_notify);\n@@ -271,2 +275,2 @@\n-void    g_closure_set_marshal     (GClosure *closure,\n-             GClosureMarshal marshal);\n+void      g_closure_set_marshal                 (GClosure       *closure,\n+                                                 GClosureMarshal marshal);\n@@ -274,3 +278,3 @@\n-void    g_closure_set_meta_marshal    (GClosure       *closure,\n-             gpointer  marshal_data,\n-             GClosureMarshal meta_marshal);\n+void      g_closure_set_meta_marshal            (GClosure       *closure,\n+                                                 gpointer        marshal_data,\n+                                                 GClosureMarshal meta_marshal);\n@@ -278,1 +282,1 @@\n-void    g_closure_invalidate      (GClosure *closure);\n+void      g_closure_invalidate                  (GClosure       *closure);\n@@ -280,5 +284,5 @@\n-void    g_closure_invoke      (GClosure   *closure,\n-             GValue \/*out*\/ *return_value,\n-             guint     n_param_values,\n-             const GValue *param_values,\n-             gpointer  invocation_hint);\n+void      g_closure_invoke                      (GClosure       *closure,\n+                                                 GValue \/*out*\/ *return_value,\n+                                                 guint           n_param_values,\n+                                                 const GValue   *param_values,\n+                                                 gpointer        invocation_hint);\n@@ -287,4 +291,4 @@\n-   OK:  data_object::destroy    -> closure_invalidate();\n-   MIS: closure_invalidate()    -> disconnect(closure);\n-   MIS: disconnect(closure)   -> (unlink) closure_unref();\n-   OK:  closure_finalize()    -> g_free (data_string);\n+   OK:  data_object::destroy            -> closure_invalidate();\n+   MIS: closure_invalidate()            -> disconnect(closure);\n+   MIS: disconnect(closure)             -> (unlink) closure_unref();\n+   OK:  closure_finalize()              -> g_free (data_string);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gclosure.h","additions":92,"deletions":88,"binary":false,"changes":180,"status":"modified"},{"patch":"@@ -395,1 +395,1 @@\n- * Returns: (transfer none): the #GEnumValue with name @name,\n+ * Returns: (transfer none) (nullable): the #GEnumValue with name @name,\n@@ -425,1 +425,1 @@\n- * Returns: (transfer none): the #GFlagsValue with name @name,\n+ * Returns: (transfer none) (nullable): the #GFlagsValue with name @name,\n@@ -454,1 +454,1 @@\n- * Returns: (transfer none): the #GEnumValue with nickname @nick,\n+ * Returns: (transfer none) (nullable): the #GEnumValue with nickname @nick,\n@@ -484,1 +484,1 @@\n- * Returns: (transfer none): the #GFlagsValue with nickname @nick,\n+ * Returns: (transfer none) (nullable): the #GFlagsValue with nickname @nick,\n@@ -513,1 +513,1 @@\n- * Returns: (transfer none): the #GEnumValue for @value, or %NULL\n+ * Returns: (transfer none) (nullable): the #GEnumValue for @value, or %NULL\n@@ -541,1 +541,1 @@\n- * Returns: (transfer none): the first #GFlagsValue which is set in\n+ * Returns: (transfer none) (nullable): the first #GFlagsValue which is set in\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/genums.c","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- * type #G_TYPE_STRV with g_object_class_install_property(), g_object_set()\n+ * type %G_TYPE_STRV with g_object_class_install_property(), g_object_set()\n@@ -309,0 +309,18 @@\n+\/**\n+ * G_TYPE_TREE:\n+ *\n+ * The #GType for #GTree.\n+ *\n+ * Since: 2.68\n+ *\/\n+#define G_TYPE_TREE (g_tree_get_type ())\n+\n+\/**\n+ * G_TYPE_PATTERN_SPEC:\n+ *\n+ * The #GType for #GPatternSpec.\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_TYPE_PATTERN_SPEC (g_pattern_spec_get_type ())\n+\n@@ -369,0 +387,4 @@\n+GLIB_AVAILABLE_IN_2_68\n+GType   g_tree_get_type            (void) G_GNUC_CONST;\n+GLIB_AVAILABLE_IN_2_70\n+GType g_pattern_spec_get_type (void) G_GNUC_CONST;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/glib-types.h","additions":23,"deletions":1,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"..\/glib\/glib-private.h\"\n+\n@@ -51,2 +53,2 @@\n- * For the high-level concepts behind GObject, read [Instantiable classed types:\n- * Objects][gtype-instantiable-classed].\n+ * For the high-level concepts behind GObject, read [Instantiatable classed types:\n+ * Objects][gtype-instantiatable-classed].\n@@ -69,0 +71,1 @@\n+ *\n@@ -73,0 +76,1 @@\n+ *\n@@ -78,0 +82,1 @@\n+ *\n@@ -85,0 +90,1 @@\n+ *\n@@ -133,2 +139,2 @@\n-#define PARAM_SPEC_PARAM_ID(pspec)      ((pspec)->param_id)\n-#define PARAM_SPEC_SET_PARAM_ID(pspec, id)  ((pspec)->param_id = (id))\n+#define PARAM_SPEC_PARAM_ID(pspec)              ((pspec)->param_id)\n+#define PARAM_SPEC_SET_PARAM_ID(pspec, id)      ((pspec)->param_id = (id))\n@@ -177,1 +183,1 @@\n-  volatile guint ref_count;\n+  guint          ref_count;  \/* (atomic) *\/\n@@ -179,1 +185,1 @@\n-  volatile guint optional_flags;\n+  guint          optional_flags;  \/* (atomic) *\/\n@@ -190,8 +196,8 @@\n-static void g_object_base_class_init        (GObjectClass   *class);\n-static void g_object_base_class_finalize        (GObjectClass   *class);\n-static void g_object_do_class_init          (GObjectClass   *class);\n-static void g_object_init               (GObject    *object,\n-                             GObjectClass   *class);\n-static GObject* g_object_constructor            (GType                  type,\n-               guint                  n_construct_properties,\n-               GObjectConstructParam *construct_params);\n+static void     g_object_base_class_init                (GObjectClass   *class);\n+static void     g_object_base_class_finalize            (GObjectClass   *class);\n+static void     g_object_do_class_init                  (GObjectClass   *class);\n+static void     g_object_init                           (GObject        *object,\n+                                                         GObjectClass   *class);\n+static GObject* g_object_constructor                    (GType                  type,\n+                                                         guint                  n_construct_properties,\n+                                                         GObjectConstructParam *construct_params);\n@@ -199,16 +205,16 @@\n-static void g_object_real_dispose           (GObject    *object);\n-static void g_object_finalize           (GObject    *object);\n-static void g_object_do_set_property        (GObject        *object,\n-               guint           property_id,\n-               const GValue   *value,\n-               GParamSpec     *pspec);\n-static void g_object_do_get_property        (GObject        *object,\n-               guint           property_id,\n-               GValue         *value,\n-               GParamSpec     *pspec);\n-static void g_value_object_init         (GValue     *value);\n-static void g_value_object_free_value       (GValue     *value);\n-static void g_value_object_copy_value       (const GValue   *src_value,\n-                             GValue     *dest_value);\n-static void g_value_object_transform_value      (const GValue   *src_value,\n-                             GValue     *dest_value);\n+static void     g_object_real_dispose                   (GObject        *object);\n+static void     g_object_finalize                       (GObject        *object);\n+static void     g_object_do_set_property                (GObject        *object,\n+                                                         guint           property_id,\n+                                                         const GValue   *value,\n+                                                         GParamSpec     *pspec);\n+static void     g_object_do_get_property                (GObject        *object,\n+                                                         guint           property_id,\n+                                                         GValue         *value,\n+                                                         GParamSpec     *pspec);\n+static void     g_value_object_init                     (GValue         *value);\n+static void     g_value_object_free_value               (GValue         *value);\n+static void     g_value_object_copy_value               (const GValue   *src_value,\n+                                                         GValue         *dest_value);\n+static void     g_value_object_transform_value          (const GValue   *src_value,\n+                                                         GValue         *dest_value);\n@@ -216,11 +222,11 @@\n-static gchar*   g_value_object_collect_value        (GValue     *value,\n-               guint           n_collect_values,\n-               GTypeCValue    *collect_values,\n-               guint           collect_flags);\n-static gchar*   g_value_object_lcopy_value      (const GValue   *value,\n-               guint           n_collect_values,\n-               GTypeCValue    *collect_values,\n-               guint           collect_flags);\n-static void g_object_dispatch_properties_changed    (GObject    *object,\n-                             guint       n_pspecs,\n-               GParamSpec    **pspecs);\n+static gchar*   g_value_object_collect_value            (GValue         *value,\n+                                                         guint           n_collect_values,\n+                                                         GTypeCValue    *collect_values,\n+                                                         guint           collect_flags);\n+static gchar*   g_value_object_lcopy_value              (const GValue   *value,\n+                                                         guint           n_collect_values,\n+                                                         GTypeCValue    *collect_values,\n+                                                         guint           collect_flags);\n+static void     g_object_dispatch_properties_changed    (GObject        *object,\n+                                                         guint           n_pspecs,\n+                                                         GParamSpec    **pspecs);\n@@ -231,1 +237,2 @@\n-               gpointer        g_iface);\n+                                                         gpointer        g_iface);\n+static void                weak_locations_free_unlocked (GSList **weak_locations);\n@@ -299,0 +306,1 @@\n+\n@@ -365,2 +373,2 @@\n-static guint         debug_objects_count = 0;\n-static GHashTable   *debug_objects_ht = NULL;\n+static guint             debug_objects_count = 0;\n+static GHashTable       *debug_objects_ht = NULL;\n@@ -413,2 +421,2 @@\n-    NULL    \/* class_destroy *\/,\n-    NULL    \/* class_data *\/,\n+    NULL        \/* class_destroy *\/,\n+    NULL        \/* class_data *\/,\n@@ -416,1 +424,1 @@\n-    0       \/* n_preallocs *\/,\n+    0           \/* n_preallocs *\/,\n@@ -418,1 +426,1 @@\n-    NULL,   \/* value_table *\/\n+    NULL,       \/* value_table *\/\n@@ -421,1 +429,1 @@\n-    g_value_object_init,      \/* value_init *\/\n+    g_value_object_init,          \/* value_init *\/\n@@ -425,1 +433,1 @@\n-    \"p\",              \/* collect_format *\/\n+    \"p\",                          \/* collect_format *\/\n@@ -427,1 +435,1 @@\n-    \"p\",              \/* lcopy_format *\/\n+    \"p\",                          \/* lcopy_format *\/\n@@ -540,0 +548,1 @@\n+   *\n@@ -545,0 +554,1 @@\n+   *\n@@ -588,1 +598,1 @@\n-  g_return_val_if_fail (PARAM_SPEC_PARAM_ID (pspec) == 0, FALSE);   \/* paranoid *\/\n+  g_return_val_if_fail (PARAM_SPEC_PARAM_ID (pspec) == 0, FALSE);       \/* paranoid *\/\n@@ -654,1 +664,1 @@\n-                 guint         property_id,\n+                                 guint         property_id,\n@@ -752,1 +762,1 @@\n-  gint i;\n+  guint i;\n@@ -947,6 +957,6 @@\n-  {\n-    overridden = g_param_spec_pool_lookup (pspec_pool,\n-             name,\n-             ifaces[n_ifaces],\n-             FALSE);\n-  }\n+        {\n+          overridden = g_param_spec_pool_lookup (pspec_pool,\n+                                                 name,\n+                                                 ifaces[n_ifaces],\n+                                                 FALSE);\n+        }\n@@ -1114,2 +1124,2 @@\n-g_object_init (GObject      *object,\n-           GObjectClass *class)\n+g_object_init (GObject          *object,\n+               GObjectClass     *class)\n@@ -1175,0 +1185,20 @@\n+  g_datalist_id_set_data (&object->qdata, quark_weak_locations, NULL);\n+}\n+\n+#ifdef G_ENABLE_DEBUG\n+static gboolean\n+floating_check (GObject *object)\n+{\n+  static const char *g_enable_diagnostic = NULL;\n+\n+  if (G_UNLIKELY (g_enable_diagnostic == NULL))\n+    {\n+      g_enable_diagnostic = g_getenv (\"G_ENABLE_DIAGNOSTIC\");\n+      if (g_enable_diagnostic == NULL)\n+        g_enable_diagnostic = \"0\";\n+    }\n+\n+  if (g_enable_diagnostic[0] == '1')\n+    return g_object_is_floating (object);\n+\n+  return FALSE;\n@@ -1176,0 +1206,1 @@\n+#endif\n@@ -1186,0 +1217,11 @@\n+#ifdef G_ENABLE_DEBUG\n+ if (floating_check (object))\n+   {\n+      g_critical (\"A floating object %s %p was finalized. This means that someone\\n\"\n+                  \"called g_object_unref() on an object that had only a floating\\n\"\n+                  \"reference; the initial floating reference is not owned by anyone\\n\"\n+                  \"and must be removed with g_object_ref_sink().\",\n+                  G_OBJECT_TYPE_NAME (object), object);\n+   }\n+#endif\n+\n@@ -1567,9 +1609,3 @@\n-      if (~pspec->flags & G_PARAM_EXPLICIT_NOTIFY)\n-        {\n-          GParamSpec *notify_pspec;\n-\n-          notify_pspec = get_notify_pspec (pspec);\n-\n-          if (notify_pspec != NULL)\n-            g_object_notify_queue_add (object, nqueue, notify_pspec);\n-        }\n+      if (~pspec->flags & G_PARAM_EXPLICIT_NOTIFY &&\n+          pspec->flags & G_PARAM_READABLE)\n+        g_object_notify_queue_add (object, nqueue, pspec);\n@@ -1747,1 +1783,1 @@\n- * Construction parameters (see #G_PARAM_CONSTRUCT, #G_PARAM_CONSTRUCT_ONLY)\n+ * Construction parameters (see %G_PARAM_CONSTRUCT, %G_PARAM_CONSTRUCT_ONLY)\n@@ -1766,0 +1802,6 @@\n+ * Since GLib 2.72, all #GObjects are guaranteed to be aligned to at least the\n+ * alignment of the largest basic GLib type (typically this is #guint64 or\n+ * #gdouble). If you need larger alignment for an element in a #GObject, you\n+ * should allocate it on the heap (aligned), or arrange for your #GObject to be\n+ * appropriately padded.\n+ *\n@@ -1770,1 +1812,1 @@\n-g_object_new (GType    object_type,\n+g_object_new (GType        object_type,\n@@ -1788,0 +1830,20 @@\n+\/* Check alignment. (See https:\/\/gitlab.gnome.org\/GNOME\/glib\/-\/issues\/1231.)\n+ * This should never fail, since g_type_create_instance() uses g_slice_alloc0().\n+ * The GSlice allocator always aligns to the next power of 2 greater than the\n+ * allocation size. The allocation size for a GObject is\n+ *   sizeof(GTypeInstance) + sizeof(guint) + sizeof(GData*)\n+ * which is 12B on 32-bit platforms, and larger on 64-bit systems. In both\n+ * cases, that’s larger than the 8B needed for a guint64 or gdouble.\n+ *\n+ * If GSlice falls back to malloc(), it’s documented to return something\n+ * suitably aligned for any basic type. *\/\n+static inline gboolean\n+g_object_is_aligned (GObject *object)\n+{\n+  return ((((guintptr) (void *) object) %\n+             MAX (G_ALIGNOF (gdouble),\n+                  MAX (G_ALIGNOF (guint64),\n+                       MAX (G_ALIGNOF (gint),\n+                            G_ALIGNOF (glong))))) == 0);\n+}\n+\n@@ -1801,1 +1863,1 @@\n-  gint i;\n+  guint i;\n@@ -1831,1 +1893,1 @@\n-      gint j;\n+      guint j;\n@@ -1875,0 +1937,10 @@\n+  if (!g_object_is_aligned (object))\n+    {\n+      g_critical (\"Custom constructor for class %s returned a non-aligned \"\n+                  \"GObject (which is invalid since GLib 2.72). Assuming any \"\n+                  \"code using this object doesn’t require it to be aligned. \"\n+                  \"Please fix your constructor to align to the largest GLib \"\n+                  \"basic type (typically gdouble or guint64).\",\n+                  G_OBJECT_CLASS_NAME (class));\n+    }\n+\n@@ -1941,0 +2013,2 @@\n+  g_assert (g_object_is_aligned (object));\n+\n@@ -1957,1 +2031,1 @@\n-          gint j;\n+          guint j;\n@@ -1983,1 +2057,1 @@\n-      gint i;\n+      guint i;\n@@ -2008,1 +2082,1 @@\n-                                int                    n_params)\n+                                guint                  n_params)\n@@ -2010,1 +2084,2 @@\n-  gint i;\n+  guint i;\n+\n@@ -2094,2 +2169,1 @@\n-          params[count].value = g_newa (GValue, 1);\n-          memset (params[count].value, 0, sizeof (GValue));\n+          params[count].value = g_newa0 (GValue, 1);\n@@ -2123,1 +2197,1 @@\n- * Construction parameters (see #G_PARAM_CONSTRUCT, #G_PARAM_CONSTRUCT_ONLY)\n+ * Construction parameters (see %G_PARAM_CONSTRUCT, %G_PARAM_CONSTRUCT_ONLY)\n@@ -2195,1 +2269,1 @@\n- * Construction parameters (see #G_PARAM_CONSTRUCT, #G_PARAM_CONSTRUCT_ONLY)\n+ * Construction parameters (see %G_PARAM_CONSTRUCT, %G_PARAM_CONSTRUCT_ONLY)\n@@ -2220,2 +2294,2 @@\n-      GObjectConstructParam stack_params[16];\n-      GObjectConstructParam *params;\n+      GObjectConstructParam params_stack[16];\n+      GValue values_stack[G_N_ELEMENTS (params_stack)];\n@@ -2223,1 +2297,4 @@\n-      gint n_params = 0;\n+      GObjectConstructParam *params = params_stack;\n+      GValue *values = values_stack;\n+      guint n_params = 0;\n+      guint n_params_alloc = G_N_ELEMENTS (params_stack);\n@@ -2226,1 +2303,0 @@\n-      params = stack_params;\n@@ -2238,1 +2314,1 @@\n-          if (n_params == 16)\n+          if (G_UNLIKELY (n_params == n_params_alloc))\n@@ -2240,2 +2316,19 @@\n-              params = g_new (GObjectConstructParam, n_params + 1);\n-              memcpy (params, stack_params, sizeof stack_params);\n+              guint i;\n+\n+              if (n_params_alloc == G_N_ELEMENTS (params_stack))\n+                {\n+                  n_params_alloc = G_N_ELEMENTS (params_stack) * 2u;\n+                  params = g_new (GObjectConstructParam, n_params_alloc);\n+                  values = g_new (GValue, n_params_alloc);\n+                  memcpy (params, params_stack, sizeof (GObjectConstructParam) * n_params);\n+                  memcpy (values, values_stack, sizeof (GValue) * n_params);\n+                }\n+              else\n+                {\n+                  n_params_alloc *= 2u;\n+                  params = g_realloc (params, sizeof (GObjectConstructParam) * n_params_alloc);\n+                  values = g_realloc (values, sizeof (GValue) * n_params_alloc);\n+                }\n+\n+              for (i = 0; i < n_params; i++)\n+                params[i].value = &values[i];\n@@ -2243,2 +2336,0 @@\n-          else if (n_params > 16)\n-            params = g_renew (GObjectConstructParam, params, n_params + 1);\n@@ -2247,2 +2338,2 @@\n-          params[n_params].value = g_newa (GValue, 1);\n-          memset (params[n_params].value, 0, sizeof (GValue));\n+          params[n_params].value = &values[n_params];\n+          memset (&values[n_params], 0, sizeof (GValue));\n@@ -2250,1 +2341,1 @@\n-          G_VALUE_COLLECT_INIT (params[n_params].value, pspec->value_type, var_args, 0, &error);\n+          G_VALUE_COLLECT_INIT (&values[n_params], pspec->value_type, var_args, 0, &error);\n@@ -2255,1 +2346,1 @@\n-              g_value_unset (params[n_params].value);\n+              g_value_unset (&values[n_params]);\n@@ -2269,2 +2360,5 @@\n-      if (params != stack_params)\n-        g_free (params);\n+      if (G_UNLIKELY (n_params_alloc != G_N_ELEMENTS (params_stack)))\n+        {\n+          g_free (params);\n+          g_free (values);\n+        }\n@@ -2408,1 +2502,1 @@\n-             va_list      var_args)\n+                     va_list      var_args)\n@@ -2436,3 +2530,3 @@\n-  {\n-    g_warning (\"%s: %s\", G_STRFUNC, error);\n-    g_free (error);\n+        {\n+          g_warning (\"%s: %s\", G_STRFUNC, error);\n+          g_free (error);\n@@ -2440,2 +2534,2 @@\n-    break;\n-  }\n+          break;\n+        }\n@@ -2505,0 +2599,2 @@\n+  memset (values, 0, n_properties * sizeof (GValue));\n+\n@@ -2508,4 +2604,1 @@\n-      pspec = g_param_spec_pool_lookup (pspec_pool,\n-                names[i],\n-                obj_type,\n-                TRUE);\n+      pspec = g_param_spec_pool_lookup (pspec_pool, names[i], obj_type, TRUE);\n@@ -2514,2 +2607,0 @@\n-\n-      memset (&values[i], 0, sizeof (GValue));\n@@ -2540,1 +2631,1 @@\n-             va_list      var_args)\n+                     va_list      var_args)\n@@ -2709,1 +2800,1 @@\n-               GValue      *value)\n+                       GValue      *value)\n@@ -2788,7 +2879,7 @@\n- *                         \"type\", GTK_WINDOW_POPUP,\n- *                         \"child\", menu,\n- *                         NULL),\n- *                   \"signal::event\", gtk_menu_window_event, menu,\n- *                   \"signal::size_request\", gtk_menu_window_size_request, menu,\n- *                   \"signal::destroy\", gtk_widget_destroyed, &menu->toplevel,\n- *                   NULL);\n+ *                                                 \"type\", GTK_WINDOW_POPUP,\n+ *                                                 \"child\", menu,\n+ *                                                 NULL),\n+ *                                   \"signal::event\", gtk_menu_window_event, menu,\n+ *                                   \"signal::size_request\", gtk_menu_window_size_request, menu,\n+ *                                   \"signal::destroy\", gtk_widget_destroyed, &menu->toplevel,\n+ *                                   NULL);\n@@ -2957,1 +3048,1 @@\n- * used for notification when an object is finalized. They are called\n+ * used for notification when an object is disposed. They are called\n@@ -3167,0 +3258,56 @@\n+\/**\n+ * g_object_take_ref: (skip)\n+ * @object: (type GObject.Object): a #GObject\n+ *\n+ * If @object is floating, sink it.  Otherwise, do nothing.\n+ *\n+ * In other words, this function will convert a floating reference (if\n+ * present) into a full reference.\n+ *\n+ * Typically you want to use g_object_ref_sink() in order to\n+ * automatically do the correct thing with respect to floating or\n+ * non-floating references, but there is one specific scenario where\n+ * this function is helpful.\n+ *\n+ * The situation where this function is helpful is when creating an API\n+ * that allows the user to provide a callback function that returns a\n+ * GObject. We certainly want to allow the user the flexibility to\n+ * return a non-floating reference from this callback (for the case\n+ * where the object that is being returned already exists).\n+ *\n+ * At the same time, the API style of some popular GObject-based\n+ * libraries (such as Gtk) make it likely that for newly-created GObject\n+ * instances, the user can be saved some typing if they are allowed to\n+ * return a floating reference.\n+ *\n+ * Using this function on the return value of the user's callback allows\n+ * the user to do whichever is more convenient for them. The caller will\n+ * alway receives exactly one full reference to the value: either the\n+ * one that was returned in the first place, or a floating reference\n+ * that has been converted to a full reference.\n+ *\n+ * This function has an odd interaction when combined with\n+ * g_object_ref_sink() running at the same time in another thread on\n+ * the same #GObject instance. If g_object_ref_sink() runs first then\n+ * the result will be that the floating reference is converted to a hard\n+ * reference. If g_object_take_ref() runs first then the result will be\n+ * that the floating reference is converted to a hard reference and an\n+ * additional reference on top of that one is added. It is best to avoid\n+ * this situation.\n+ *\n+ * Since: 2.70\n+ *\n+ * Returns: (type GObject.Object) (transfer full): @object\n+ *\/\n+gpointer\n+g_object_take_ref (gpointer _object)\n+{\n+  GObject *object = _object;\n+  g_return_val_if_fail (G_IS_OBJECT (object), object);\n+  g_return_val_if_fail (g_atomic_int_get (&object->ref_count) >= 1, object);\n+\n+  floating_flag_handler (object, -1);\n+\n+  return object;\n+}\n+\n@@ -3203,0 +3350,10 @@\n+  \/* If another thread removed the toggle reference on the object, while\n+   * we were waiting here, there's nothing to notify.\n+   * So let's check again if the object has toggle reference and in case return.\n+   *\/\n+  if (!OBJECT_HAS_TOGGLE_REF (object))\n+    {\n+      G_UNLOCK (toggle_refs_mutex);\n+      return;\n+    }\n+\n@@ -3301,1 +3458,2 @@\n- * @data: data to pass to @notify\n+ * @data: (nullable): data to pass to @notify, or %NULL to\n+ *  match any toggle refs with the @notify argument.\n@@ -3321,1 +3479,1 @@\n-  if (tstack)\n+   if (tstack)\n@@ -3326,7 +3484,7 @@\n-  if (tstack->toggle_refs[i].notify == notify &&\n-      tstack->toggle_refs[i].data == data)\n-    {\n-      found_one = TRUE;\n-      tstack->n_toggle_refs -= 1;\n-      if (i != tstack->n_toggle_refs)\n-        tstack->toggle_refs[i] = tstack->toggle_refs[tstack->n_toggle_refs];\n+        if (tstack->toggle_refs[i].notify == notify &&\n+            (tstack->toggle_refs[i].data == data || data == NULL))\n+          {\n+            found_one = TRUE;\n+            tstack->n_toggle_refs -= 1;\n+            if (i != tstack->n_toggle_refs)\n+              tstack->toggle_refs[i] = tstack->toggle_refs[tstack->n_toggle_refs];\n@@ -3334,2 +3492,2 @@\n-      if (tstack->n_toggle_refs == 0)\n-        g_datalist_unset_flags (&object->qdata, OBJECT_HAS_TOGGLE_REF_FLAG);\n+            if (tstack->n_toggle_refs == 0)\n+              g_datalist_unset_flags (&object->qdata, OBJECT_HAS_TOGGLE_REF_FLAG);\n@@ -3337,2 +3495,2 @@\n-      break;\n-    }\n+            break;\n+          }\n@@ -3411,1 +3569,1 @@\n-  goto retry_atomic_decrement1;\n+        goto retry_atomic_decrement1;\n@@ -3417,1 +3575,1 @@\n-  toggle_refs_notify (object, TRUE);\n+        toggle_refs_notify (object, TRUE);\n@@ -3422,0 +3580,1 @@\n+      GObjectNotifyQueue *nqueue;\n@@ -3431,0 +3590,4 @@\n+       *\n+       * Other GWeakRef's (weak locations) instead may still be added\n+       * before the object is finalized, but in such case we'll unset\n+       * them as part of the qdata removal.\n@@ -3450,1 +3613,1 @@\n-           * now. Clear out all the weak references.\n+           * now. Clear out all the weak references, if they're still set.\n@@ -3452,7 +3615,3 @@\n-          while (*weak_locations)\n-            {\n-              GWeakRef *weak_ref_location = (*weak_locations)->data;\n-\n-              weak_ref_location->priv.p = NULL;\n-              *weak_locations = g_slist_delete_link (*weak_locations, *weak_locations);\n-            }\n+          weak_locations = g_datalist_id_remove_no_notify (&object->qdata,\n+                                                           quark_weak_locations);\n+          g_clear_pointer (&weak_locations, weak_locations_free_unlocked);\n@@ -3463,0 +3622,12 @@\n+      \/* freeze the notification queue, so we don't accidentally emit\n+       * notifications during dispose() and finalize().\n+       *\n+       * The notification queue stays frozen unless the instance acquires\n+       * a reference during dispose(), in which case we thaw it and\n+       * dispatch all the notifications. If the instance gets through\n+       * to finalize(), the notification queue gets automatically\n+       * drained when g_object_finalize() is reached and\n+       * the qdata is cleared.\n+       *\/\n+      nqueue = g_object_notify_queue_freeze (object, FALSE);\n+\n@@ -3477,1 +3648,1 @@\n-      goto retry_atomic_decrement2;\n+            goto retry_atomic_decrement2;\n@@ -3479,1 +3650,4 @@\n-    TRACE (GOBJECT_OBJECT_UNREF(object,G_TYPE_FROM_INSTANCE(object),old_ref));\n+          \/* emit all notifications that have been queued during dispose() *\/\n+          g_object_notify_queue_thaw (object, nqueue);\n+\n+          TRACE (GOBJECT_OBJECT_UNREF(object,G_TYPE_FROM_INSTANCE(object),old_ref));\n@@ -3483,1 +3657,1 @@\n-      toggle_refs_notify (object, TRUE);\n+            toggle_refs_notify (object, TRUE);\n@@ -3485,2 +3659,2 @@\n-    return;\n-  }\n+          return;\n+        }\n@@ -3492,0 +3666,1 @@\n+      g_datalist_id_set_data (&object->qdata, quark_weak_locations, NULL);\n@@ -3504,1 +3679,0 @@\n-\n@@ -3508,1 +3682,1 @@\n-      {\n+            {\n@@ -3519,1 +3693,1 @@\n-      });\n+            });\n@@ -3521,1 +3695,7 @@\n-  }\n+        }\n+      else\n+        {\n+          \/* The instance acquired a reference between dispose() and\n+           * finalize(), so we need to thaw the notification queue\n+           *\/\n+          g_object_notify_queue_thaw (object, nqueue);\n@@ -3524,0 +3704,1 @@\n+}\n@@ -3695,2 +3876,2 @@\n-             GQuark     quark,\n-             gpointer   data,\n+                         GQuark         quark,\n+                         gpointer       data,\n@@ -3751,1 +3932,1 @@\n-          GQuark   quark)\n+                      GQuark   quark)\n@@ -3964,1 +4145,1 @@\n-               GValue   *dest_value)\n+                           GValue       *dest_value)\n@@ -3999,4 +4180,4 @@\n-  return g_strconcat (\"invalid unclassed object pointer for value type '\",\n-          G_VALUE_TYPE_NAME (value),\n-          \"'\",\n-          NULL);\n+        return g_strconcat (\"invalid unclassed object pointer for value type '\",\n+                            G_VALUE_TYPE_NAME (value),\n+                            \"'\",\n+                            NULL);\n@@ -4004,6 +4185,6 @@\n-  return g_strconcat (\"invalid object type '\",\n-          G_OBJECT_TYPE_NAME (object),\n-          \"' for value type '\",\n-          G_VALUE_TYPE_NAME (value),\n-          \"'\",\n-          NULL);\n+        return g_strconcat (\"invalid object type '\",\n+                            G_OBJECT_TYPE_NAME (object),\n+                            \"' for value type '\",\n+                            G_VALUE_TYPE_NAME (value),\n+                            \"'\",\n+                            NULL);\n@@ -4021,3 +4202,3 @@\n-          guint        n_collect_values,\n-          GTypeCValue *collect_values,\n-          guint        collect_flags)\n+                            guint        n_collect_values,\n+                            GTypeCValue *collect_values,\n+                            guint        collect_flags)\n@@ -4058,1 +4239,1 @@\n-        gpointer  v_object)\n+                    gpointer  v_object)\n@@ -4092,1 +4273,1 @@\n-           gpointer v_object)\n+                                   gpointer v_object)\n@@ -4114,1 +4295,1 @@\n-         gpointer v_object)\n+                     gpointer v_object)\n@@ -4190,4 +4371,4 @@\n-       const gchar  *detailed_signal,\n-       GCallback     c_handler,\n-       gpointer      gobject,\n-       GConnectFlags connect_flags)\n+                         const gchar  *detailed_signal,\n+                         GCallback     c_handler,\n+                         gpointer      gobject,\n+                         GConnectFlags connect_flags)\n@@ -4239,1 +4420,1 @@\n-           GClosure *closure)\n+                       GClosure *closure)\n@@ -4343,1 +4524,1 @@\n- * Returns: (transfer full): a newly allocated #GClosure\n+ * Returns: (transfer floating): a newly allocated #GClosure\n@@ -4345,1 +4526,1 @@\n-GClosure*\n+GClosure *\n@@ -4347,1 +4528,1 @@\n-          GObject *object)\n+                      GObject *object)\n@@ -4371,1 +4552,1 @@\n- * Returns: a new #GCClosure\n+ * Returns: (transfer floating): a new #GCClosure\n@@ -4373,1 +4554,1 @@\n-GClosure*\n+GClosure *\n@@ -4375,1 +4556,1 @@\n-           GObject  *object)\n+                       GObject  *object)\n@@ -4400,1 +4581,1 @@\n- * Returns: a new #GCClosure\n+ * Returns: (transfer floating): a new #GCClosure\n@@ -4402,1 +4583,1 @@\n-GClosure*\n+GClosure *\n@@ -4404,1 +4585,1 @@\n-          GObject  *object)\n+                            GObject  *object)\n@@ -4455,5 +4636,6 @@\n- * A structure containing a weak reference to a #GObject.  It can either\n- * be empty (i.e. point to %NULL), or point to an object for as long as\n- * at least one \"strong\" reference to that object exists. Before the\n- * object's #GObjectClass.dispose method is called, every #GWeakRef\n- * associated with becomes empty (i.e. points to %NULL).\n+ * A structure containing a weak reference to a #GObject.\n+ *\n+ * A `GWeakRef` can either be empty (i.e. point to %NULL), or point to an\n+ * object for as long as at least one \"strong\" reference to that object\n+ * exists. Before the object's #GObjectClass.dispose method is called,\n+ * every #GWeakRef associated with becomes empty (i.e. points to %NULL).\n@@ -4470,4 +4652,4 @@\n- * references to the object being held, any #GWeakRefs taken\n- * before it was disposed will continue to point to %NULL.  If\n- * #GWeakRefs are taken after the object is disposed and\n- * re-referenced, they will continue to point to it until its refcount\n+ * references to the object being held (‘re-referencing’), any #GWeakRefs taken\n+ * before it was disposed will continue to point to %NULL.  Any #GWeakRefs taken\n+ * during disposal and after re-referencing, or after disposal has returned due\n+ * to the re-referencing, will continue to point to the object until its refcount\n@@ -4475,0 +4657,3 @@\n+ *\n+ * It is invalid to take a #GWeakRef on an object during #GObjectClass.dispose\n+ * without first having or creating a strong reference to the object.\n@@ -4564,0 +4749,29 @@\n+static void\n+weak_locations_free_unlocked (GSList **weak_locations)\n+{\n+  if (*weak_locations)\n+    {\n+      GSList *weak_location;\n+\n+      for (weak_location = *weak_locations; weak_location;)\n+        {\n+          GWeakRef *weak_ref_location = weak_location->data;\n+\n+          weak_ref_location->priv.p = NULL;\n+          weak_location = g_slist_delete_link (weak_location, weak_location);\n+        }\n+    }\n+\n+  g_free (weak_locations);\n+}\n+\n+static void\n+weak_locations_free (gpointer data)\n+{\n+  GSList **weak_locations = data;\n+\n+  g_rw_lock_writer_lock (&weak_locations_lock);\n+  weak_locations_free_unlocked (weak_locations);\n+  g_rw_lock_writer_unlock (&weak_locations_lock);\n+}\n+\n@@ -4620,0 +4834,6 @@\n+\n+          if (!*weak_locations)\n+            {\n+              weak_locations_free_unlocked (weak_locations);\n+              g_datalist_id_remove_no_notify (&old_object->qdata, quark_weak_locations);\n+            }\n@@ -4630,1 +4850,2 @@\n-              g_datalist_id_set_data_full (&new_object->qdata, quark_weak_locations, weak_locations, g_free);\n+              g_datalist_id_set_data_full (&new_object->qdata, quark_weak_locations,\n+                                           weak_locations, weak_locations_free);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject.c","additions":417,"deletions":196,"binary":false,"changes":613,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+ *\n@@ -141,1 +142,1 @@\n-#define G_TYPE_INITIALLY_UNOWNED          (g_initially_unowned_get_type())\n+#define G_TYPE_INITIALLY_UNOWNED              (g_initially_unowned_get_type())\n@@ -147,1 +148,3 @@\n- * pointer. Depending on the current debugging level, this function may invoke\n+ * pointer.\n+ *\n+ * Depending on the current debugging level, this function may invoke\n@@ -230,1 +233,1 @@\n- * @where_the_object_was: the object being finalized\n+ * @where_the_object_was: the object being disposed\n@@ -233,3 +236,10 @@\n- * triggered when the object is finalized. Since the object is already being\n- * finalized when the #GWeakNotify is called, there's not much you could do\n- * with the object, apart from e.g. using its address as hash-index or the like.\n+ * triggered when the object is finalized.\n+ *\n+ * Since the object is already being disposed when the #GWeakNotify is called,\n+ * there's not much you could do with the object, apart from e.g. using its\n+ * address as hash-index or the like.\n+ *\n+ * In particular, this means it's invalid to call g_object_ref(),\n+ * g_weak_ref_init(), g_weak_ref_set(), g_object_add_toggle_ref(),\n+ * g_object_weak_ref(), g_object_add_weak_pointer() or any function which calls\n+ * them on the object from this callback.\n@@ -237,1 +247,1 @@\n-typedef void (*GWeakNotify)     (gpointer      data,\n+typedef void (*GWeakNotify)             (gpointer      data,\n@@ -242,2 +252,12 @@\n- * All the fields in the GObject structure are private\n- * to the #GObject implementation and should never be accessed directly.\n+ * The base object type.\n+ *\n+ * All the fields in the 'GObject' structure are private to the implementation\n+ * and should never be accessed directly.\n+ *\n+ * Since GLib 2.72, all #GObjects are guaranteed to be aligned to at least the\n+ * alignment of the largest basic GLib type (typically this is #guint64 or\n+ * #gdouble). If you need larger alignment for an element in a #GObject, you\n+ * should allocate it on the heap (aligned), or arrange for your #GObject to be\n+ * appropriately padded. This guarantee applies to the #GObject (or derived)\n+ * struct, the #GObjectClass (or derived) struct, and any private data allocated\n+ * by G_ADD_PRIVATE().\n@@ -250,1 +270,1 @@\n-  volatile guint ref_count;\n+  guint          ref_count;  \/* (atomic) *\/\n@@ -328,1 +348,1 @@\n-  void       (*set_property)        (GObject        *object,\n+  void       (*set_property)            (GObject        *object,\n@@ -332,1 +352,1 @@\n-  void       (*get_property)        (GObject        *object,\n+  void       (*get_property)            (GObject        *object,\n@@ -336,2 +356,2 @@\n-  void       (*dispose)         (GObject        *object);\n-  void       (*finalize)        (GObject        *object);\n+  void       (*dispose)                 (GObject        *object);\n+  void       (*finalize)                (GObject        *object);\n@@ -340,1 +360,1 @@\n-                         guint     n_pspecs,\n+                                             guint         n_pspecs,\n@@ -343,2 +363,2 @@\n-  void       (*notify)          (GObject    *object,\n-                     GParamSpec *pspec);\n+  void       (*notify)                  (GObject        *object,\n+                                         GParamSpec     *pspec);\n@@ -347,1 +367,1 @@\n-  void       (*constructed)     (GObject    *object);\n+  void       (*constructed)             (GObject        *object);\n@@ -350,1 +370,1 @@\n-  gsize     flags;\n+  gsize         flags;\n@@ -353,1 +373,1 @@\n-  gpointer  pdummy[6];\n+  gpointer      pdummy[6];\n@@ -355,0 +375,1 @@\n+\n@@ -360,3 +381,2 @@\n- * The GObjectConstructParam struct is an auxiliary\n- * structure used to hand #GParamSpec\/#GValue pairs to the @constructor of\n- * a #GObjectClass.\n+ * The GObjectConstructParam struct is an auxiliary structure used to hand\n+ * #GParamSpec\/#GValue pairs to the @constructor of a #GObjectClass.\n@@ -373,3 +393,4 @@\n- * All the fields in the GInitiallyUnowned structure\n- * are private to the #GInitiallyUnowned implementation and should never be\n- * accessed directly.\n+ * A type for objects that have an initially floating reference.\n+ *\n+ * All the fields in the `GInitiallyUnowned` structure are private to the\n+ * implementation and should never be accessed directly.\n@@ -389,2 +410,2 @@\n-                 guint           property_id,\n-                 GParamSpec     *pspec);\n+                                               guint           property_id,\n+                                               GParamSpec     *pspec);\n@@ -393,1 +414,1 @@\n-                 const gchar    *property_name);\n+                                               const gchar    *property_name);\n@@ -396,1 +417,1 @@\n-                           guint          *n_properties);\n+                                               guint          *n_properties);\n@@ -408,1 +429,1 @@\n-             GParamSpec  *pspec);\n+                                                 GParamSpec  *pspec);\n@@ -411,1 +432,1 @@\n-             const gchar *property_name);\n+                                                 const gchar *property_name);\n@@ -414,1 +435,1 @@\n-             guint       *n_properties_p);\n+                                                 guint       *n_properties_p);\n@@ -431,2 +452,2 @@\n-gpointer    g_object_newv             (GType           object_type,\n-                           guint           n_parameters,\n+gpointer    g_object_newv                     (GType           object_type,\n+                                               guint           n_parameters,\n@@ -464,2 +485,2 @@\n-                 const gchar    *first_property_name,\n-                 va_list         var_args);\n+                                               const gchar    *first_property_name,\n+                                               va_list         var_args);\n@@ -473,2 +494,2 @@\n-                 const gchar    *first_property_name,\n-                 va_list         var_args);\n+                                               const gchar    *first_property_name,\n+                                               va_list         var_args);\n@@ -477,2 +498,2 @@\n-                 const gchar    *property_name,\n-                 const GValue   *value);\n+                                               const gchar    *property_name,\n+                                               const GValue   *value);\n@@ -481,2 +502,2 @@\n-                 const gchar    *property_name,\n-                 GValue         *value);\n+                                               const gchar    *property_name,\n+                                               GValue         *value);\n@@ -487,1 +508,1 @@\n-                 const gchar    *property_name);\n+                                               const gchar    *property_name);\n@@ -497,0 +518,2 @@\n+GLIB_AVAILABLE_IN_2_70\n+gpointer    g_object_take_ref                 (gpointer        object);\n@@ -502,1 +525,1 @@\n-void        g_object_weak_ref             (GObject        *object,\n+void        g_object_weak_ref                 (GObject        *object,\n@@ -504,1 +527,1 @@\n-                           gpointer        data);\n+                                               gpointer        data);\n@@ -506,1 +529,1 @@\n-void        g_object_weak_unref           (GObject        *object,\n+void        g_object_weak_unref               (GObject        *object,\n@@ -508,1 +531,1 @@\n-                           gpointer        data);\n+                                               gpointer        data);\n@@ -516,1 +539,1 @@\n-#if defined(g_has_typeof) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_56\n+#if defined(glib_typeof) && GLIB_VERSION_MAX_ALLOWED >= GLIB_VERSION_2_56\n@@ -518,2 +541,2 @@\n-#define g_object_ref(Obj)      ((__typeof__(Obj)) (g_object_ref) (Obj))\n-#define g_object_ref_sink(Obj) ((__typeof__(Obj)) (g_object_ref_sink) (Obj))\n+#define g_object_ref(Obj) ((glib_typeof (Obj)) (g_object_ref) (Obj))\n+#define g_object_ref_sink(Obj) ((glib_typeof (Obj)) (g_object_ref_sink) (Obj))\n@@ -532,1 +555,3 @@\n- * of a toggle reference changes. See g_object_add_toggle_ref().\n+ * of a toggle reference changes.\n+ *\n+ * See also: g_object_add_toggle_ref()\n@@ -574,1 +599,1 @@\n-                 GDestroyNotify *old_destroy);\n+                                               GDestroyNotify *old_destroy);\n@@ -578,1 +603,1 @@\n-                 const gchar    *key);\n+                                               const gchar    *key);\n@@ -581,2 +606,2 @@\n-                 const gchar    *key,\n-                 gpointer        data);\n+                                               const gchar    *key,\n+                                               gpointer        data);\n@@ -585,3 +610,3 @@\n-                 const gchar    *key,\n-                 gpointer        data,\n-                 GDestroyNotify  destroy);\n+                                               const gchar    *key,\n+                                               gpointer        data,\n+                                               GDestroyNotify  destroy);\n@@ -590,1 +615,1 @@\n-                 const gchar    *key);\n+                                               const gchar    *key);\n@@ -596,1 +621,1 @@\n-                 gpointer         user_data);\n+                                               gpointer         user_data);\n@@ -603,1 +628,1 @@\n-                 GDestroyNotify *old_destroy);\n+                                               GDestroyNotify *old_destroy);\n@@ -608,1 +633,1 @@\n-                 GClosure       *closure);\n+                                               GClosure       *closure);\n@@ -611,1 +636,1 @@\n-                           GObject        *object);\n+                                               GObject        *object);\n@@ -614,1 +639,1 @@\n-                           GObject        *object);\n+                                               GObject        *object);\n@@ -629,1 +654,1 @@\n-                           gpointer        gobject,\n+                                               gpointer        gobject,\n@@ -636,1 +661,1 @@\n-void        g_object_run_dispose          (GObject        *object);\n+void        g_object_run_dispose              (GObject        *object);\n@@ -641,1 +666,1 @@\n-                 gpointer        v_object);\n+                                               gpointer        v_object);\n@@ -647,2 +672,2 @@\n-gsize       g_object_compat_control       (gsize           what,\n-                           gpointer        data);\n+gsize       g_object_compat_control           (gsize           what,\n+                                               gpointer        data);\n@@ -682,1 +707,1 @@\n- * @object_ptr: a pointer to a #GObject reference\n+ * @object_ptr: (inout) (not optional) (nullable): a pointer to a #GObject reference\n@@ -684,1 +709,3 @@\n- *   assign to it, or %NULL to clear the pointer\n+ *   assign to @object_ptr, or %NULL to clear the pointer\n+ *\n+ * Updates a #GObject pointer to refer to @new_object.\n@@ -686,4 +713,3 @@\n- * Updates a #GObject pointer to refer to @new_object. It increments the\n- * reference count of @new_object (if non-%NULL), decrements the reference\n- * count of the current value of @object_ptr (if non-%NULL), and assigns\n- * @new_object to @object_ptr. The assignment is not atomic.\n+ * It increments the reference count of @new_object (if non-%NULL), decrements\n+ * the reference count of the current value of @object_ptr (if non-%NULL), and\n+ * assigns @new_object to @object_ptr. The assignment is not atomic.\n@@ -691,1 +717,1 @@\n- * @object_ptr must not be %NULL.\n+ * @object_ptr must not be %NULL, but can point to a %NULL value.\n@@ -839,5 +865,1 @@\n- * Updates a pointer to weakly refer to @new_object. It assigns @new_object\n- * to @weak_pointer_location and ensures that @weak_pointer_location will\n- * automatically be set to %NULL if @new_object gets destroyed. The assignment\n- * is not atomic. The weak reference is not thread-safe, see\n- * g_object_add_weak_pointer() for details.\n+ * Updates a pointer to weakly refer to @new_object.\n@@ -845,1 +867,7 @@\n- * @weak_pointer_location must not be %NULL.\n+ * It assigns @new_object to @weak_pointer_location and ensures\n+ * that @weak_pointer_location will automatically be set to %NULL\n+ * if @new_object gets destroyed. The assignment is not atomic.\n+ * The weak reference is not thread-safe, see g_object_add_weak_pointer()\n+ * for details.\n+ *\n+ * The @weak_pointer_location argument must not be %NULL.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gobject.h","additions":111,"deletions":83,"binary":false,"changes":194,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-#define G_PARAM_USER_MASK           (~0U << G_PARAM_USER_SHIFT)\n+#define G_PARAM_USER_MASK                       (~0U << G_PARAM_USER_SHIFT)\n@@ -61,15 +61,15 @@\n-static void g_param_spec_class_base_init     (GParamSpecClass   *class);\n-static void g_param_spec_class_base_finalize (GParamSpecClass   *class);\n-static void g_param_spec_class_init      (GParamSpecClass   *class,\n-              gpointer               class_data);\n-static void g_param_spec_init        (GParamSpec        *pspec,\n-                          GParamSpecClass   *class);\n-static void g_param_spec_finalize        (GParamSpec        *pspec);\n-static void value_param_init        (GValue     *value);\n-static void value_param_free_value      (GValue     *value);\n-static void value_param_copy_value      (const GValue   *src_value,\n-                         GValue     *dest_value);\n-static void value_param_transform_value (const GValue   *src_value,\n-                         GValue     *dest_value);\n-static gpointer value_param_peek_pointer    (const GValue   *value);\n-static gchar*   value_param_collect_value   (GValue     *value,\n+static void     g_param_spec_class_base_init     (GParamSpecClass       *class);\n+static void     g_param_spec_class_base_finalize (GParamSpecClass       *class);\n+static void     g_param_spec_class_init          (GParamSpecClass       *class,\n+                                                  gpointer               class_data);\n+static void     g_param_spec_init                (GParamSpec            *pspec,\n+                                                  GParamSpecClass       *class);\n+static void     g_param_spec_finalize            (GParamSpec            *pspec);\n+static void     value_param_init                (GValue         *value);\n+static void     value_param_free_value          (GValue         *value);\n+static void     value_param_copy_value          (const GValue   *src_value,\n+                                                 GValue         *dest_value);\n+static void     value_param_transform_value     (const GValue   *src_value,\n+                                                 GValue         *dest_value);\n+static gpointer value_param_peek_pointer        (const GValue   *value);\n+static gchar*   value_param_collect_value       (GValue         *value,\n@@ -79,1 +79,1 @@\n-static gchar*   value_param_lcopy_value     (const GValue   *value,\n+static gchar*   value_param_lcopy_value         (const GValue   *value,\n@@ -113,1 +113,1 @@\n-    \"p\",            \/* collect_format *\/\n+    \"p\",                        \/* collect_format *\/\n@@ -115,1 +115,1 @@\n-    \"p\",            \/* lcopy_format *\/\n+    \"p\",                        \/* lcopy_format *\/\n@@ -125,1 +125,1 @@\n-    NULL,   \/* class_data *\/\n+    NULL,       \/* class_data *\/\n@@ -128,1 +128,1 @@\n-    0,      \/* n_preallocs *\/\n+    0,          \/* n_preallocs *\/\n@@ -158,1 +158,1 @@\n-       gpointer         class_data)\n+                         gpointer         class_data)\n@@ -171,1 +171,1 @@\n-       GParamSpecClass *class)\n+                   GParamSpecClass *class)\n@@ -206,1 +206,1 @@\n- * @pspec: a valid #GParamSpec\n+ * @pspec: (transfer none) (not nullable): a valid #GParamSpec\n@@ -210,1 +210,1 @@\n- * Returns: the #GParamSpec that was passed into this function\n+ * Returns: (transfer full) (not nullable): the #GParamSpec that was passed into this function\n@@ -273,1 +273,1 @@\n- * Returns: the #GParamSpec that was passed into this function\n+ * Returns: (transfer full) (not nullable): the #GParamSpec that was passed into this function\n@@ -340,1 +340,1 @@\n- * Returns: the short description of @pspec.\n+ * Returns: (nullable): the short description of @pspec.\n@@ -424,1 +424,1 @@\n- * @param_type: the #GType for the property; must be derived from #G_TYPE_PARAM\n+ * @param_type: the #GType for the property; must be derived from %G_TYPE_PARAM\n@@ -442,1 +442,2 @@\n- * Returns: (type GObject.ParamSpec): a newly allocated #GParamSpec instance\n+ * Returns: (type GObject.ParamSpec): (transfer floating): a newly allocated\n+ *     #GParamSpec instance, which is initially floating\n@@ -510,1 +511,1 @@\n- * Returns: (transfer none): the user data pointer set, or %NULL\n+ * Returns: (transfer none) (nullable): the user data pointer set, or %NULL\n@@ -514,1 +515,1 @@\n-      GQuark      quark)\n+                        GQuark      quark)\n@@ -525,1 +526,1 @@\n- * @data: an opaque user data pointer\n+ * @data: (nullable): an opaque user data pointer\n@@ -536,2 +537,2 @@\n-      GQuark      quark,\n-      gpointer    data)\n+                        GQuark      quark,\n+                        gpointer    data)\n@@ -549,2 +550,2 @@\n- * @data: an opaque user data pointer\n- * @destroy: function to invoke with @data as argument, when @data needs to\n+ * @data: (nullable): an opaque user data pointer\n+ * @destroy: (nullable): function to invoke with @data as argument, when @data needs to\n@@ -581,1 +582,1 @@\n- * Returns: (transfer none): the user data pointer set, or %NULL\n+ * Returns: (transfer none) (nullable): the user data pointer set, or %NULL\n@@ -607,1 +608,1 @@\n- * Returns: (transfer none): paramspec to which requests on this\n+ * Returns: (transfer none) (nullable): paramspec to which requests on this\n@@ -734,1 +735,1 @@\n-               gboolean      strict_validation)\n+                       gboolean      strict_validation)\n@@ -778,2 +779,2 @@\n-        const GValue *value1,\n-        const GValue *value2)\n+                    const GValue *value1,\n+                    const GValue *value2)\n@@ -851,4 +852,4 @@\n-  return g_strconcat (\"invalid unclassed param spec pointer for value type '\",\n-          G_VALUE_TYPE_NAME (value),\n-          \"'\",\n-          NULL);\n+        return g_strconcat (\"invalid unclassed param spec pointer for value type '\",\n+                            G_VALUE_TYPE_NAME (value),\n+                            \"'\",\n+                            NULL);\n@@ -856,6 +857,6 @@\n-  return g_strconcat (\"invalid param spec type '\",\n-          G_PARAM_SPEC_TYPE_NAME (param),\n-          \"' for value type '\",\n-          G_VALUE_TYPE_NAME (value),\n-          \"'\",\n-          NULL);\n+        return g_strconcat (\"invalid param spec type '\",\n+                            G_PARAM_SPEC_TYPE_NAME (param),\n+                            \"' for value type '\",\n+                            G_VALUE_TYPE_NAME (value),\n+                            \"'\",\n+                            NULL);\n@@ -872,3 +873,3 @@\n-       guint         n_collect_values,\n-       GTypeCValue  *collect_values,\n-       guint         collect_flags)\n+                         guint         n_collect_values,\n+                         GTypeCValue  *collect_values,\n+                         guint         collect_flags)\n@@ -896,3 +897,4 @@\n- * quickly accessed by owner and name. The implementation of the #GObject property\n- * system uses such a pool to store the #GParamSpecs of the properties all object\n- * types.\n+ * quickly accessed by owner and name.\n+ *\n+ * The implementation of the #GObject property system uses such a pool to\n+ * store the #GParamSpecs of the properties all object types.\n@@ -922,1 +924,1 @@\n-      gconstpointer key_spec_2)\n+                        gconstpointer key_spec_2)\n@@ -928,1 +930,1 @@\n-    strcmp (key1->name, key2->name) == 0);\n+          strcmp (key1->name, key2->name) == 0);\n@@ -942,1 +944,1 @@\n- * Returns: (transfer none): a newly allocated #GParamSpecPool.\n+ * Returns: (transfer full): a newly allocated #GParamSpecPool.\n@@ -960,1 +962,1 @@\n- * @pspec: the #GParamSpec to insert\n+ * @pspec: (transfer none) (not nullable): the #GParamSpec to insert\n@@ -967,2 +969,2 @@\n-        GParamSpec     *pspec,\n-        GType           owner_type)\n+                          GParamSpec     *pspec,\n+                          GType           owner_type)\n@@ -975,7 +977,7 @@\n-  {\n-    if (!strchr (G_CSET_A_2_Z G_CSET_a_2_z G_CSET_DIGITS \"-_\", *p))\n-      {\n-        g_warning (G_STRLOC \": pspec name \\\"%s\\\" contains invalid characters\", pspec->name);\n-        return;\n-      }\n-  }\n+        {\n+          if (!strchr (G_CSET_A_2_Z G_CSET_a_2_z G_CSET_DIGITS \"-_\", *p))\n+            {\n+              g_warning (G_STRLOC \": pspec name \\\"%s\\\" contains invalid characters\", pspec->name);\n+              return;\n+            }\n+        }\n@@ -1000,1 +1002,1 @@\n- * @pspec: the #GParamSpec to remove\n+ * @pspec: (transfer none) (not nullable): the #GParamSpec to remove\n@@ -1012,1 +1014,1 @@\n-  g_param_spec_unref (pspec);\n+        g_param_spec_unref (pspec);\n@@ -1014,1 +1016,1 @@\n-  g_warning (G_STRLOC \": attempt to remove unknown pspec '%s' from pool\", pspec->name);\n+        g_warning (G_STRLOC \": attempt to remove unknown pspec '%s' from pool\", pspec->name);\n@@ -1026,3 +1028,3 @@\n-          const gchar *param_name,\n-          GType        owner_type,\n-          gboolean     walk_ancestors)\n+                      const gchar *param_name,\n+                      GType        owner_type,\n+                      gboolean     walk_ancestors)\n@@ -1037,4 +1039,4 @@\n-  pspec = g_hash_table_lookup (hash_table, &key);\n-  if (pspec)\n-    return pspec;\n-  key.owner_type = g_type_parent (key.owner_type);\n+        pspec = g_hash_table_lookup (hash_table, &key);\n+        if (pspec)\n+          return pspec;\n+        key.owner_type = g_type_parent (key.owner_type);\n@@ -1088,1 +1090,1 @@\n- * Returns: (transfer none): The found #GParamSpec, or %NULL if no\n+ * Returns: (transfer none) (nullable): The found #GParamSpec, or %NULL if no\n@@ -1093,3 +1095,3 @@\n-        const gchar    *param_name,\n-        GType           owner_type,\n-        gboolean        walk_ancestors)\n+                          const gchar    *param_name,\n+                          GType           owner_type,\n+                          gboolean        walk_ancestors)\n@@ -1127,17 +1129,17 @@\n-  g_free (buffer);\n-      if (type)     \/* type==0 isn't a valid type pefix *\/\n-  {\n-    \/* sanity check, these cases don't make a whole lot of sense *\/\n-    if ((!walk_ancestors && type != owner_type) || !g_type_is_a (owner_type, type))\n-      {\n-        g_mutex_unlock (&pool->mutex);\n-\n-        return NULL;\n-      }\n-    owner_type = type;\n-    param_name += l + 2;\n-    pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n-    g_mutex_unlock (&pool->mutex);\n-\n-    return pspec;\n-  }\n+        g_free (buffer);\n+      if (type)         \/* type==0 isn't a valid type pefix *\/\n+        {\n+          \/* sanity check, these cases don't make a whole lot of sense *\/\n+          if ((!walk_ancestors && type != owner_type) || !g_type_is_a (owner_type, type))\n+            {\n+              g_mutex_unlock (&pool->mutex);\n+\n+              return NULL;\n+            }\n+          owner_type = type;\n+          param_name += l + 2;\n+          pspec = param_spec_ht_lookup (pool->hash_table, param_name, owner_type, walk_ancestors);\n+          g_mutex_unlock (&pool->mutex);\n+\n+          return pspec;\n+        }\n@@ -1179,1 +1181,1 @@\n-            GType           owner_type)\n+                              GType           owner_type)\n@@ -1210,5 +1212,4 @@\n-static inline GSList*\n-pspec_list_remove_overridden_and_redirected (GSList     *plist,\n-               GHashTable *ht,\n-               GType       owner_type,\n-               guint      *n_p)\n+static inline gboolean\n+should_list_pspec (GParamSpec *pspec,\n+                   GType      owner_type,\n+                   GHashTable *ht)\n@@ -1216,1 +1217,1 @@\n-  GSList *rlist = NULL;\n+  GParamSpec *found;\n@@ -1218,24 +1219,7 @@\n-  while (plist)\n-    {\n-      GSList *tmp = plist->next;\n-      GParamSpec *pspec = plist->data;\n-      GParamSpec *found;\n-      gboolean remove = FALSE;\n-\n-      \/* Remove paramspecs that are redirected, and also paramspecs\n-       * that have are overridden by non-redirected properties.\n-       * The idea is to get the single paramspec for each name that\n-       * best corresponds to what the application sees.\n-       *\/\n-      if (g_param_spec_get_redirect_target (pspec))\n-  remove = TRUE;\n-      else\n-  {\n-    found = param_spec_ht_lookup (ht, pspec->name, owner_type, TRUE);\n-    if (found != pspec)\n-      {\n-        GParamSpec *redirect = g_param_spec_get_redirect_target (found);\n-        if (redirect != pspec)\n-    remove = TRUE;\n-      }\n-  }\n+  \/* Remove paramspecs that are redirected, and also paramspecs\n+   * that have are overridden by non-redirected properties.\n+   * The idea is to get the single paramspec for each name that\n+   * best corresponds to what the application sees.\n+   *\/\n+  if (g_param_spec_get_redirect_target (pspec))\n+    return FALSE;\n@@ -1243,11 +1227,6 @@\n-      if (remove)\n-  {\n-    g_slist_free_1 (plist);\n-  }\n-      else\n-  {\n-    plist->next = rlist;\n-    rlist = plist;\n-    *n_p += 1;\n-  }\n-      plist = tmp;\n+  found = param_spec_ht_lookup (ht, pspec->name, owner_type, TRUE);\n+  if (found != pspec)\n+    {\n+      GParamSpec *redirect = g_param_spec_get_redirect_target (found);\n+      if (redirect != pspec)\n+        return FALSE;\n@@ -1255,1 +1234,2 @@\n-  return rlist;\n+\n+  return TRUE;\n@@ -1267,0 +1247,2 @@\n+  GHashTable *ht = data[2];\n+  int *count = data[3];\n@@ -1268,1 +1250,2 @@\n-  if (g_type_is_a (owner_type, pspec->owner_type))\n+  if (g_type_is_a (owner_type, pspec->owner_type) &&\n+      should_list_pspec (pspec, owner_type, ht))\n@@ -1271,3 +1254,4 @@\n-  {\n-    slists[0] = g_slist_prepend (slists[0], pspec);\n-  }\n+        {\n+          slists[0] = g_slist_prepend (slists[0], pspec);\n+          *count = *count + 1;\n+        }\n@@ -1275,2 +1259,2 @@\n-  {\n-    guint d = g_type_depth (pspec->owner_type);\n+        {\n+          guint d = g_type_depth (pspec->owner_type);\n@@ -1278,2 +1262,3 @@\n-    slists[d - 1] = g_slist_prepend (slists[d - 1], pspec);\n-  }\n+          slists[d - 1] = g_slist_prepend (slists[d - 1], pspec);\n+          *count = *count + 1;\n+        }\n@@ -1301,0 +1286,2 @@\n+  GHashTable *ht = data[2];\n+  int *count = data[3];\n@@ -1302,2 +1289,6 @@\n-  if (pspec->owner_type == owner_type)\n-    slists[0] = g_slist_prepend (slists[0], pspec);\n+  if (pspec->owner_type == owner_type &&\n+      should_list_pspec (pspec, owner_type, ht))\n+    {\n+      slists[0] = g_slist_prepend (slists[0], pspec);\n+      *count = *count + 1;\n+    }\n@@ -1321,2 +1312,2 @@\n-      GType           owner_type,\n-      guint          *n_pspecs_p)\n+                        GType           owner_type,\n+                        guint          *n_pspecs_p)\n@@ -1326,1 +1317,1 @@\n-  gpointer data[2];\n+  gpointer data[4];\n@@ -1328,0 +1319,1 @@\n+  int n_pspecs = 0;\n@@ -1334,1 +1326,0 @@\n-  *n_pspecs_p = 0;\n@@ -1339,0 +1330,2 @@\n+  data[2] = pool->hash_table;\n+  data[3] = &n_pspecs;\n@@ -1346,3 +1339,1 @@\n-  for (i = 0; i < d; i++)\n-    slists[i] = pspec_list_remove_overridden_and_redirected (slists[i], pool->hash_table, owner_type, n_pspecs_p);\n-  pspecs = g_new (GParamSpec*, *n_pspecs_p + 1);\n+  pspecs = g_new (GParamSpec*, n_pspecs + 1);\n@@ -1361,0 +1352,2 @@\n+  *n_pspecs_p = n_pspecs;\n+\n@@ -1364,1 +1357,0 @@\n-\n@@ -1389,1 +1381,1 @@\n-    class->finalize = info->finalize;           \/* optional *\/\n+    class->finalize = info->finalize;                   \/* optional *\/\n@@ -1392,1 +1384,1 @@\n-    class->value_validate = info->value_validate;   \/* optional *\/\n+    class->value_validate = info->value_validate;       \/* optional *\/\n@@ -1417,4 +1409,6 @@\n- * Registers @name as the name of a new static type derived from\n- * #G_TYPE_PARAM. The type system uses the information contained in\n- * the #GParamSpecTypeInfo structure pointed to by @info to manage the\n- * #GParamSpec type and its instances.\n+ * Registers @name as the name of a new static type derived\n+ * from %G_TYPE_PARAM.\n+ *\n+ * The type system uses the information contained in the #GParamSpecTypeInfo\n+ * structure pointed to by @info to manage the #GParamSpec type and its\n+ * instances.\n@@ -1438,0 +1432,1 @@\n+    NULL,                          \/* value_table *\/\n@@ -1549,2 +1544,2 @@\n- * Returns: #GParamSpec content of @value, should be unreferenced when\n- *          no longer needed.\n+ * Returns: (transfer full): #GParamSpec content of @value, should be\n+ *     unreferenced when no longer needed.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparam.c","additions":165,"deletions":170,"binary":false,"changes":335,"status":"modified"},{"patch":"@@ -148,1 +148,3 @@\n- * can be configured. See also #G_PARAM_STATIC_STRINGS.\n+ * can be configured.\n+ *\n+ * See also: %G_PARAM_STATIC_STRINGS\n@@ -197,1 +199,1 @@\n- * GParamSpec: (ref-func g_param_spec_ref_sink) (unref-func g_param_spec_uref) (set-value-func g_value_set_param) (get-value-func g_value_get_param)\n+ * GParamSpec: (ref-func g_param_spec_ref_sink) (unref-func g_param_spec_unref) (set-value-func g_value_set_param) (get-value-func g_value_get_param)\n@@ -371,0 +373,1 @@\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparam.h","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -55,0 +55,3 @@\n+ *\n+ * See also #GValue for more information.\n+ *\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparamspecs.c","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -926,5 +926,8 @@\n- * This is a type of #GParamSpec type that simply redirects operations to\n- * another paramspec.  All operations other than getting or\n- * setting the value are redirected, including accessing the nick and\n- * blurb, validating a value, and so forth. See\n- * g_param_spec_get_redirect_target() for retrieving the overridden\n+ * A #GParamSpec derived structure that redirects operations to\n+ * other types of #GParamSpec.\n+ *\n+ * All operations other than getting or setting the value are redirected,\n+ * including accessing the nick and blurb, validating a value, and so\n+ * forth.\n+ *\n+ * See g_param_spec_get_redirect_target() for retrieving the overridden\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gparamspecs.h","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -155,6 +154,6 @@\n-static        void      signal_destroy_R    (SignalNode  *signal_node);\n-static inline HandlerList*  handler_list_ensure (guint        signal_id,\n-                             gpointer     instance);\n-static inline HandlerList*  handler_list_lookup (guint        signal_id,\n-                             gpointer     instance);\n-static inline Handler*      handler_new     (guint            signal_id,\n+static        void              signal_destroy_R        (SignalNode      *signal_node);\n+static inline HandlerList*      handler_list_ensure     (guint            signal_id,\n+                                                         gpointer         instance);\n+static inline HandlerList*      handler_list_lookup     (guint            signal_id,\n+                                                         gpointer         instance);\n+static inline Handler*          handler_new             (guint            signal_id,\n@@ -162,6 +161,6 @@\n-                                                         gboolean     after);\n-static        void      handler_insert      (guint        signal_id,\n-                             gpointer     instance,\n-                             Handler     *handler);\n-static        Handler*      handler_lookup      (gpointer     instance,\n-                             gulong       handler_id,\n+                                                         gboolean         after);\n+static        void              handler_insert          (guint            signal_id,\n+                                                         gpointer         instance,\n+                                                         Handler         *handler);\n+static        Handler*          handler_lookup          (gpointer         instance,\n+                                                         gulong           handler_id,\n@@ -169,7 +168,7 @@\n-                             guint       *signal_id_p);\n-static inline HandlerMatch* handler_match_prepend   (HandlerMatch    *list,\n-                             Handler     *handler,\n-                             guint        signal_id);\n-static inline HandlerMatch* handler_match_free1_R   (HandlerMatch    *node,\n-                             gpointer     instance);\n-static        HandlerMatch* handlers_find       (gpointer     instance,\n+                                                         guint           *signal_id_p);\n+static inline HandlerMatch*     handler_match_prepend   (HandlerMatch    *list,\n+                                                         Handler         *handler,\n+                                                         guint            signal_id);\n+static inline HandlerMatch*     handler_match_free1_R   (HandlerMatch    *node,\n+                                                         gpointer         instance);\n+static        HandlerMatch*     handlers_find           (gpointer         instance,\n@@ -177,26 +176,26 @@\n-                             guint        signal_id,\n-                             GQuark       detail,\n-                             GClosure    *closure,\n-                             gpointer     func,\n-                             gpointer     data,\n-                             gboolean     one_and_only);\n-static inline void      handler_ref     (Handler     *handler);\n-static inline void      handler_unref_R     (guint        signal_id,\n-                             gpointer     instance,\n-                             Handler     *handler);\n-static gint         handler_lists_cmp   (gconstpointer    node1,\n-                             gconstpointer    node2);\n-static inline void      emission_push       (Emission    *emission);\n-static inline void      emission_pop        (Emission    *emission);\n-static inline Emission*     emission_find       (guint        signal_id,\n-                             GQuark       detail,\n-                             gpointer     instance);\n-static gint         class_closures_cmp  (gconstpointer    node1,\n-                             gconstpointer    node2);\n-static gint         signal_key_cmp      (gconstpointer    node1,\n-                             gconstpointer    node2);\n-static        gboolean      signal_emit_unlocked_R  (SignalNode  *node,\n-                             GQuark       detail,\n-                             gpointer     instance,\n-                             GValue      *return_value,\n-                             const GValue    *instance_and_params);\n+                                                         guint            signal_id,\n+                                                         GQuark           detail,\n+                                                         GClosure        *closure,\n+                                                         gpointer         func,\n+                                                         gpointer         data,\n+                                                         gboolean         one_and_only);\n+static inline void              handler_ref             (Handler         *handler);\n+static inline void              handler_unref_R         (guint            signal_id,\n+                                                         gpointer         instance,\n+                                                         Handler         *handler);\n+static gint                     handler_lists_cmp       (gconstpointer    node1,\n+                                                         gconstpointer    node2);\n+static inline void              emission_push           (Emission        *emission);\n+static inline void              emission_pop            (Emission        *emission);\n+static inline Emission*         emission_find           (guint            signal_id,\n+                                                         GQuark           detail,\n+                                                         gpointer         instance);\n+static gint                     class_closures_cmp      (gconstpointer    node1,\n+                                                         gconstpointer    node2);\n+static gint                     signal_key_cmp          (gconstpointer    node1,\n+                                                         gconstpointer    node2);\n+static        gboolean          signal_emit_unlocked_R  (SignalNode      *node,\n+                                                         GQuark           detail,\n+                                                         gpointer         instance,\n+                                                         GValue          *return_value,\n+                                                         const GValue    *instance_and_params);\n@@ -225,1 +224,1 @@\n-#define SIGNAL_HOOK(hook)   ((SignalHook*) (hook))\n+#define SIGNAL_HOOK(hook)       ((SignalHook*) (hook))\n@@ -240,2 +239,2 @@\n-  GType         *param_types; \/* mangled with G_SIGNAL_TYPE_STATIC_SCOPE flag *\/\n-  GType          return_type; \/* mangled with G_SIGNAL_TYPE_STATIC_SCOPE flag *\/\n+  GType             *param_types; \/* mangled with G_SIGNAL_TYPE_STATIC_SCOPE flag *\/\n+  GType              return_type; \/* mangled with G_SIGNAL_TYPE_STATIC_SCOPE flag *\/\n@@ -251,1 +250,1 @@\n-#define SINGLE_VA_CLOSURE_EMPTY_MAGIC GINT_TO_POINTER(1)    \/* indicates single_va_closure is valid but empty *\/\n+#define SINGLE_VA_CLOSURE_EMPTY_MAGIC GINT_TO_POINTER(1)        \/* indicates single_va_closure is valid but empty *\/\n@@ -266,1 +265,1 @@\n-  GType         chain_type;\n+  GType                 chain_type;\n@@ -282,1 +281,1 @@\n-  GQuark    detail;\n+  GQuark        detail;\n@@ -329,2 +328,2 @@\n-#define SIGNAL_LOCK()       G_LOCK (g_signal_mutex)\n-#define SIGNAL_UNLOCK()     G_UNLOCK (g_signal_mutex)\n+#define SIGNAL_LOCK()           G_LOCK (g_signal_mutex)\n+#define SIGNAL_UNLOCK()         G_UNLOCK (g_signal_mutex)\n@@ -576,1 +575,1 @@\n-               guint         signal_id)\n+                       guint         signal_id)\n@@ -658,1 +657,1 @@\n-        SignalNode *node = NULL;\n+              SignalNode *node = NULL;\n@@ -661,3 +660,3 @@\n-        if (!(mask & G_SIGNAL_MATCH_FUNC))\n-    {\n-      node = LOOKUP_SIGNAL_NODE (hlist->signal_id);\n+              if (!(mask & G_SIGNAL_MATCH_FUNC))\n+                {\n+                  node = LOOKUP_SIGNAL_NODE (hlist->signal_id);\n@@ -665,1 +664,1 @@\n-      if (!node->c_marshaller)\n+                  if (!node->c_marshaller)\n@@ -667,1 +666,1 @@\n-          if (!node || !node->c_marshaller)\n+                  if (!node || !node->c_marshaller)\n@@ -669,2 +668,2 @@\n-        continue;\n-    }\n+                    continue;\n+                }\n@@ -673,2 +672,2 @@\n-    if (handler->sequential_number &&\n-        ((mask & G_SIGNAL_MATCH_DETAIL) || handler->detail == detail) &&\n+                if (handler->sequential_number &&\n+                    ((mask & G_SIGNAL_MATCH_DETAIL) || handler->detail == detail) &&\n@@ -677,9 +676,9 @@\n-        ((mask & G_SIGNAL_MATCH_UNBLOCKED) || handler->block_count == 0) &&\n-        ((mask & G_SIGNAL_MATCH_FUNC) || (handler->closure->marshal == node->c_marshaller &&\n-                  G_REAL_CLOSURE (handler->closure)->meta_marshal == NULL &&\n-                  ((GCClosure*) handler->closure)->callback == func)))\n-      {\n-        mlist = handler_match_prepend (mlist, handler, hlist->signal_id);\n-        if (one_and_only)\n-          return mlist;\n-      }\n+                    ((mask & G_SIGNAL_MATCH_UNBLOCKED) || handler->block_count == 0) &&\n+                    ((mask & G_SIGNAL_MATCH_FUNC) || (handler->closure->marshal == node->c_marshaller &&\n+                                                      G_REAL_CLOSURE (handler->closure)->meta_marshal == NULL &&\n+                                                      ((GCClosure*) handler->closure)->callback == func)))\n+                  {\n+                    mlist = handler_match_prepend (mlist, handler, hlist->signal_id);\n+                    if (one_and_only)\n+                      return mlist;\n+                  }\n@@ -1048,3 +1047,3 @@\n- * @hook_func: a #GSignalEmissionHook function.\n- * @hook_data: user data for @hook_func.\n- * @data_destroy: a #GDestroyNotify for @hook_data.\n+ * @hook_func: (not nullable): a #GSignalEmissionHook function.\n+ * @hook_data: (nullable) (closure hook_func): user data for @hook_func.\n+ * @data_destroy: (nullable) (destroy hook_data): a #GDestroyNotify for @hook_data.\n@@ -1054,1 +1053,1 @@\n- * for signals which don't have #G_SIGNAL_NO_HOOKS flag set.\n+ * for signals which don't have %G_SIGNAL_NO_HOOKS flag set.\n@@ -1164,1 +1163,1 @@\n-  *detail_p = 0;\n+        *detail_p = 0;\n@@ -1178,1 +1177,1 @@\n-      signal_id = signal_id_lookup (buffer, itype);\n+          signal_id = signal_id_lookup (buffer, itype);\n@@ -1186,1 +1185,1 @@\n-      signal_id = signal_id_lookup (signal, itype);\n+          signal_id = signal_id_lookup (signal, itype);\n@@ -1216,1 +1215,1 @@\n-             gboolean     force_detail_quark)\n+                     gboolean     force_detail_quark)\n@@ -1276,2 +1275,2 @@\n-  {\n-    Emission *emission = emission_find (signal_id, detail, instance);\n+        {\n+          Emission *emission = emission_find (signal_id, detail, instance);\n@@ -1279,12 +1278,12 @@\n-    if (emission)\n-      {\n-        if (emission->state == EMISSION_HOOK)\n-    g_warning (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n-         node->name, instance);\n-        else if (emission->state == EMISSION_RUN)\n-    emission->state = EMISSION_STOP;\n-      }\n-    else\n-      g_warning (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n-           node->name, instance);\n-  }\n+          if (emission)\n+            {\n+              if (emission->state == EMISSION_HOOK)\n+                g_warning (G_STRLOC \": emission of signal \\\"%s\\\" for instance '%p' cannot be stopped from emission hook\",\n+                           node->name, instance);\n+              else if (emission->state == EMISSION_RUN)\n+                emission->state = EMISSION_STOP;\n+            }\n+          else\n+            g_warning (G_STRLOC \": no emission of signal \\\"%s\\\" to stop for instance '%p'\",\n+                       node->name, instance);\n+        }\n@@ -1387,2 +1386,2 @@\n-  g_warning (G_STRLOC \": unable to list signals for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n-       itype);\n+        g_warning (G_STRLOC \": unable to list signals for invalid type id '%\"G_GSIZE_FORMAT\"'\",\n+                   itype);\n@@ -1390,2 +1389,2 @@\n-  g_warning (G_STRLOC \": unable to list signals of non instantiatable type '%s'\",\n-       g_type_name (itype));\n+         g_warning (G_STRLOC \": unable to list signals of non instantiatable type '%s'\",\n+                    g_type_name (itype));\n@@ -1393,2 +1392,2 @@\n-  g_warning (G_STRLOC \": unable to list signals of unloaded type '%s'\",\n-       g_type_name (itype));\n+        g_warning (G_STRLOC \": unable to list signals of unloaded type '%s'\",\n+                   g_type_name (itype));\n@@ -1408,1 +1407,1 @@\n- * Returns: the signal name, or %NULL if the signal number was invalid.\n+ * Returns: (nullable): the signal name, or %NULL if the signal number was invalid.\n@@ -1427,1 +1426,1 @@\n- * @query: (out caller-allocates): A user provided structure that is\n+ * @query: (out caller-allocates) (not optional): A user provided structure that is\n@@ -1473,2 +1472,2 @@\n- * @accumulator: the accumulator for this signal; may be %NULL.\n- * @accu_data: user data for the @accumulator.\n+ * @accumulator: (nullable): the accumulator for this signal; may be %NULL.\n+ * @accu_data: (nullable) (closure accumulator): user data for the @accumulator.\n@@ -1477,1 +1476,1 @@\n- * @return_type: the type of return value, or #G_TYPE_NONE for a signal\n+ * @return_type: the type of return value, or %G_TYPE_NONE for a signal\n@@ -1510,3 +1509,3 @@\n-g_signal_new (const gchar    *signal_name,\n-          GType       itype,\n-          GSignalFlags    signal_flags,\n+g_signal_new (const gchar        *signal_name,\n+              GType               itype,\n+              GSignalFlags        signal_flags,\n@@ -1515,1 +1514,1 @@\n-          gpointer        accu_data,\n+              gpointer            accu_data,\n@@ -1517,2 +1516,2 @@\n-          GType       return_type,\n-          guint       n_params,\n+              GType               return_type,\n+              guint               n_params,\n@@ -1530,1 +1529,1 @@\n-           accumulator, accu_data, c_marshaller,\n+                                   accumulator, accu_data, c_marshaller,\n@@ -1546,1 +1545,1 @@\n- * @class_handler: a #GCallback which acts as class implementation of\n+ * @class_handler: (nullable): a #GCallback which acts as class implementation of\n@@ -1549,2 +1548,2 @@\n- * @accumulator: the accumulator for this signal; may be %NULL.\n- * @accu_data: user data for the @accumulator.\n+ * @accumulator: (nullable): the accumulator for this signal; may be %NULL.\n+ * @accu_data: (nullable) (closure accumulator): user data for the @accumulator.\n@@ -1553,1 +1552,1 @@\n- * @return_type: the type of return value, or #G_TYPE_NONE for a signal\n+ * @return_type: the type of return value, or %G_TYPE_NONE for a signal\n@@ -1631,4 +1630,4 @@\n-  {\n-    key.instance_type = g_type_parent (key.instance_type);\n-    cc = g_bsearch_array_lookup (bsa, &g_class_closure_bconfig, &key);\n-  }\n+        {\n+          key.instance_type = g_type_parent (key.instance_type);\n+          cc = g_bsearch_array_lookup (bsa, &g_class_closure_bconfig, &key);\n+        }\n@@ -1665,2 +1664,2 @@\n-                &g_class_closure_bconfig,\n-                &key);\n+                                                    &g_class_closure_bconfig,\n+                                                    &key);\n@@ -1672,1 +1671,1 @@\n-  _g_closure_set_va_marshal (closure, node->va_marshaller);\n+        _g_closure_set_va_marshal (closure, node->va_marshaller);\n@@ -1687,1 +1686,1 @@\n- * @accu_data: user data for the @accumulator\n+ * @accu_data: (nullable) (closure accumulator): user data for the @accumulator\n@@ -1691,1 +1690,1 @@\n- * @return_type: the type of return value, or #G_TYPE_NONE for a signal\n+ * @return_type: the type of return value, or %G_TYPE_NONE for a signal\n@@ -1694,2 +1693,2 @@\n- * @param_types: (array length=n_params): an array of types, one for\n- *     each parameter\n+ * @param_types: (array length=n_params) (nullable): an array of types, one for\n+ *     each parameter (may be %NULL if @n_params is zero)\n@@ -1712,1 +1711,1 @@\n-           gpointer       accu_data,\n+               gpointer           accu_data,\n@@ -1714,1 +1713,1 @@\n-               GType          return_type,\n+               GType              return_type,\n@@ -1716,1 +1715,1 @@\n-               GType         *param_types)\n+               GType             *param_types)\n@@ -1736,0 +1735,1 @@\n+  g_return_val_if_fail ((signal_flags & G_SIGNAL_ACCUMULATOR_FIRST_RUN) == 0, 0);\n@@ -1789,9 +1789,0 @@\n-  if (return_type != G_TYPE_NONE &&\n-      (signal_flags & (G_SIGNAL_RUN_FIRST | G_SIGNAL_RUN_LAST | G_SIGNAL_RUN_CLEANUP)) == G_SIGNAL_RUN_FIRST)\n-    {\n-      g_warning (G_STRLOC \": signal \\\"%s::%s\\\" has return type '%s' and is only G_SIGNAL_RUN_FIRST\",\n-                 type_debug_name (itype), name, type_debug_name (return_type));\n-      g_free (signal_name_copy);\n-      SIGNAL_UNLOCK ();\n-      return 0;\n-    }\n@@ -1954,3 +1945,3 @@\n- * @class_closure: The closure to invoke on signal emission; may be %NULL.\n- * @accumulator: the accumulator for this signal; may be %NULL.\n- * @accu_data: user data for the @accumulator.\n+ * @class_closure: (nullable): The closure to invoke on signal emission; may be %NULL.\n+ * @accumulator: (nullable): the accumulator for this signal; may be %NULL.\n+ * @accu_data: (nullable) (closure accumulator): user data for the @accumulator.\n@@ -1959,1 +1950,1 @@\n- * @return_type: the type of return value, or #G_TYPE_NONE for a signal\n+ * @return_type: the type of return value, or %G_TYPE_NONE for a signal\n@@ -1979,1 +1970,1 @@\n-             gpointer       accu_data,\n+                     gpointer           accu_data,\n@@ -1985,0 +1976,5 @@\n+  \/* Somewhat arbitrarily reserve 200 bytes. That should cover the majority\n+   * of cases where n_params is small and still be small enough for what we\n+   * want to put on the stack. *\/\n+  GType param_types_stack[200 \/ sizeof (GType)];\n+  GType *param_types_heap = NULL;\n@@ -1989,0 +1985,1 @@\n+  param_types = param_types_stack;\n@@ -1991,1 +1988,5 @@\n-      param_types = g_new (GType, n_params);\n+      if (G_UNLIKELY (n_params > G_N_ELEMENTS (param_types_stack)))\n+        {\n+          param_types_heap = g_new (GType, n_params);\n+          param_types = param_types_heap;\n+        }\n@@ -1994,1 +1995,1 @@\n-  param_types[i] = va_arg (args, GType);\n+        param_types[i] = va_arg (args, GType);\n@@ -1996,2 +1997,0 @@\n-  else\n-    param_types = NULL;\n@@ -2000,3 +1999,3 @@\n-           class_closure, accumulator, accu_data, c_marshaller,\n-           return_type, n_params, param_types);\n-  g_free (param_types);\n+                             class_closure, accumulator, accu_data, c_marshaller,\n+                             return_type, n_params, param_types);\n+  g_free (param_types_heap);\n@@ -2046,2 +2045,2 @@\n-  {\n-    ClassClosure *cc = g_bsearch_array_get_nth (node.class_closure_bsa, &g_class_closure_bconfig, i);\n+        {\n+          ClassClosure *cc = g_bsearch_array_get_nth (node.class_closure_bsa, &g_class_closure_bconfig, i);\n@@ -2049,2 +2048,2 @@\n-    g_closure_unref (cc->closure);\n-  }\n+          g_closure_unref (cc->closure);\n+        }\n@@ -2101,1 +2100,1 @@\n-  g_warning (\"%s: type '%s' is already overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n+        g_warning (\"%s: type '%s' is already overridden for signal id '%u'\", G_STRLOC, type_debug_name (instance_type), signal_id);\n@@ -2103,1 +2102,1 @@\n-  signal_add_class_closure (node, instance_type, class_closure);\n+        signal_add_class_closure (node, instance_type, class_closure);\n@@ -2128,2 +2127,2 @@\n-         GType        instance_type,\n-         GCallback    class_handler)\n+                                 GType        instance_type,\n+                                 GCallback    class_handler)\n@@ -2188,1 +2187,1 @@\n-      g_assert (cc != NULL);    \/* closure currently in call stack *\/\n+          g_assert (cc != NULL);        \/* closure currently in call stack *\/\n@@ -2226,1 +2225,1 @@\n- *  is #G_TYPE_NONE, the return value location can be omitted.\n+ *  is %G_TYPE_NONE, the return value location can be omitted.\n@@ -2242,1 +2241,1 @@\n-  SignalNode *node;\n+  SignalNode *node = NULL;\n@@ -2261,1 +2260,1 @@\n-      g_assert (cc != NULL);    \/* closure currently in call stack *\/\n+          g_assert (cc != NULL);        \/* closure currently in call stack *\/\n@@ -2289,2 +2288,1 @@\n-      instance_and_params = g_alloca (sizeof (GValue) * (n_params + 1));\n-      memset (instance_and_params, 0, sizeof (GValue) * (n_params + 1));\n+      instance_and_params = g_newa0 (GValue, n_params + 1);\n@@ -2389,1 +2387,2 @@\n- * Returns: (transfer none): the invocation hint of the innermost signal  emission.\n+ * Returns: (transfer none) (nullable): the invocation hint of the innermost\n+ *     signal emission, or %NULL if not found.\n@@ -2410,1 +2409,1 @@\n- * @closure: the closure to connect.\n+ * @closure: (not nullable): the closure to connect.\n@@ -2472,1 +2471,1 @@\n- * @closure: the closure to connect.\n+ * @closure: (not nullable): the closure to connect.\n@@ -2563,3 +2562,3 @@\n- * @c_handler: the #GCallback to connect.\n- * @data: data to pass to @c_handler calls.\n- * @destroy_data: a #GClosureNotify for @data.\n+ * @c_handler: (not nullable): the #GCallback to connect.\n+ * @data: (nullable) (closure c_handler): data to pass to @c_handler calls.\n+ * @destroy_data: (nullable) (destroy data): a #GClosureNotify for @data.\n@@ -2842,1 +2841,1 @@\n- * @data: The closure data of the handler's closure.\n+ * @data: (nullable) (closure closure): The closure data of the handler's closure.\n@@ -2856,1 +2855,1 @@\n-               GQuark       detail,\n+                       GQuark           detail,\n@@ -2873,4 +2872,4 @@\n-  {\n-    handler_seq_no = mlist->handler->sequential_number;\n-    handler_match_free1_R (mlist, instance);\n-  }\n+        {\n+          handler_seq_no = mlist->handler->sequential_number;\n+          handler_match_free1_R (mlist, instance);\n+        }\n@@ -2891,1 +2890,1 @@\n-                   void       (*callback) (gpointer instance,\n+                                   void           (*callback) (gpointer instance,\n@@ -2902,5 +2901,5 @@\n-  {\n-    SIGNAL_UNLOCK ();\n-    callback (instance, mlist->handler->sequential_number);\n-    SIGNAL_LOCK ();\n-  }\n+        {\n+          SIGNAL_UNLOCK ();\n+          callback (instance, mlist->handler->sequential_number);\n+          SIGNAL_LOCK ();\n+        }\n@@ -2922,1 +2921,1 @@\n- * @data: The closure data of the handlers' closures.\n+ * @data: (nullable) (closure closure): The closure data of the handlers' closures.\n@@ -2936,6 +2935,6 @@\n-         GSignalMatchType mask,\n-         guint            signal_id,\n-         GQuark           detail,\n-         GClosure        *closure,\n-         gpointer         func,\n-         gpointer         data)\n+                                 GSignalMatchType mask,\n+                                 guint            signal_id,\n+                                 GQuark           detail,\n+                                 GClosure        *closure,\n+                                 gpointer         func,\n+                                 gpointer         data)\n@@ -2952,2 +2951,2 @@\n-                  closure, func, data,\n-                  g_signal_handler_block);\n+                                                      closure, func, data,\n+                                                      g_signal_handler_block);\n@@ -2969,1 +2968,1 @@\n- * @data: The closure data of the handlers' closures.\n+ * @data: (nullable) (closure closure): The closure data of the handlers' closures.\n@@ -2984,6 +2983,6 @@\n-           GSignalMatchType mask,\n-           guint            signal_id,\n-           GQuark           detail,\n-           GClosure        *closure,\n-           gpointer         func,\n-           gpointer         data)\n+                                   GSignalMatchType mask,\n+                                   guint            signal_id,\n+                                   GQuark           detail,\n+                                   GClosure        *closure,\n+                                   gpointer         func,\n+                                   gpointer         data)\n@@ -3000,2 +2999,2 @@\n-                  closure, func, data,\n-                  g_signal_handler_unblock);\n+                                                      closure, func, data,\n+                                                      g_signal_handler_unblock);\n@@ -3017,1 +3016,1 @@\n- * @data: The closure data of the handlers' closures.\n+ * @data: (nullable) (closure closure): The closure data of the handlers' closures.\n@@ -3032,6 +3031,6 @@\n-              GSignalMatchType mask,\n-              guint            signal_id,\n-              GQuark           detail,\n-              GClosure        *closure,\n-              gpointer         func,\n-              gpointer         data)\n+                                      GSignalMatchType mask,\n+                                      guint            signal_id,\n+                                      GQuark           detail,\n+                                      GClosure        *closure,\n+                                      gpointer         func,\n+                                      gpointer         data)\n@@ -3106,5 +3105,5 @@\n-  {\n-    g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n-    SIGNAL_UNLOCK ();\n-    return FALSE;\n-  }\n+        {\n+          g_warning (\"%s: signal id '%u' does not support detail (%u)\", G_STRLOC, signal_id, detail);\n+          SIGNAL_UNLOCK ();\n+          return FALSE;\n+        }\n@@ -3113,2 +3112,2 @@\n-       (G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | (may_be_blocked ? 0 : G_SIGNAL_MATCH_UNBLOCKED)),\n-       signal_id, detail, NULL, NULL, NULL, TRUE);\n+                         (G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | (may_be_blocked ? 0 : G_SIGNAL_MATCH_UNBLOCKED)),\n+                         signal_id, detail, NULL, NULL, NULL, TRUE);\n@@ -3144,1 +3143,2 @@\n- * Emits a signal.\n+ * Emits a signal. Signal emission is done synchronously.\n+ * The method will only return control after all handlers are called or signal emission was stopped.\n@@ -3152,1 +3152,1 @@\n-        GQuark        detail,\n+                GQuark        detail,\n@@ -3256,1 +3256,1 @@\n-        GValue            *handler_return,\n+            GValue                *handler_return,\n@@ -3267,0 +3267,2 @@\n+  ihint->run_type &= ~G_SIGNAL_ACCUMULATOR_FIRST_RUN;\n+\n@@ -3278,1 +3280,1 @@\n- *  is #G_TYPE_NONE, the return value location can be omitted.\n+ *  is %G_TYPE_NONE, the return value location can be omitted.\n@@ -3280,1 +3282,2 @@\n- * Emits a signal.\n+ * Emits a signal. Signal emission is done synchronously.\n+ * The method will only return control after all handlers are called or signal emission was stopped.\n@@ -3388,1 +3391,0 @@\n-    guint signal_id;\n@@ -3406,1 +3408,1 @@\n-    emission.ihint.run_type = run_type;\n+    emission.ihint.run_type = run_type | G_SIGNAL_ACCUMULATOR_FIRST_RUN;\n@@ -3411,2 +3413,2 @@\n-          if (fastpath_handler)\n-            handler_ref (fastpath_handler);\n+    if (fastpath_handler)\n+      handler_ref (fastpath_handler);\n@@ -3441,2 +3443,2 @@\n-          if (fastpath_handler)\n-            handler_unref_R (signal_id, instance, fastpath_handler);\n+    if (fastpath_handler)\n+      handler_unref_R (signal_id, instance, fastpath_handler);\n@@ -3486,2 +3488,1 @@\n-  instance_and_params = g_alloca (sizeof (GValue) * (n_params + 1));\n-  memset (instance_and_params, 0, sizeof (GValue) * (n_params + 1));\n+  instance_and_params = g_newa0 (GValue, n_params + 1);\n@@ -3558,1 +3559,1 @@\n- *  is #G_TYPE_NONE, the return value location can be omitted.\n+ *  is %G_TYPE_NONE, the return value location can be omitted.\n@@ -3560,1 +3561,2 @@\n- * Emits a signal.\n+ * Emits a signal. Signal emission is done synchronously.\n+ * The method will only return control after all handlers are called or signal emission was stopped.\n@@ -3584,1 +3586,2 @@\n- *  is #G_TYPE_NONE, the return value location can be omitted.\n+ *  is %G_TYPE_NONE, the return value location can be omitted. The\n+ *  number of parameters to pass to this function is defined when creating the signal.\n@@ -3586,1 +3589,2 @@\n- * Emits a signal.\n+ * Emits a signal. Signal emission is done synchronously.\n+ * The method will only return control after all handlers are called or signal emission was stopped.\n@@ -3624,1 +3628,1 @@\n-            GQuark        detail,\n+                        GQuark        detail,\n@@ -3626,1 +3630,1 @@\n-            GValue       *emission_return,\n+                        GValue       *emission_return,\n@@ -3646,1 +3650,1 @@\n-      Emission *node = emission_find (signal_id, detail, instance);\n+      Emission *emission_node = emission_find (signal_id, detail, instance);\n@@ -3648,6 +3652,6 @@\n-      if (node)\n-  {\n-    node->state = EMISSION_RESTART;\n-    SIGNAL_UNLOCK ();\n-    return return_value_altered;\n-  }\n+      if (emission_node)\n+        {\n+          emission_node->state = EMISSION_RESTART;\n+          SIGNAL_UNLOCK ();\n+          return return_value_altered;\n+        }\n@@ -3684,1 +3688,1 @@\n-  emission.ihint.run_type = G_SIGNAL_RUN_FIRST;\n+  emission.ihint.run_type = G_SIGNAL_RUN_FIRST | G_SIGNAL_ACCUMULATOR_FIRST_RUN;\n@@ -3698,2 +3702,2 @@\n-    emission.state == EMISSION_RUN)\n-  emission.state = EMISSION_STOP;\n+          emission.state == EMISSION_RUN)\n+        emission.state = EMISSION_STOP;\n@@ -3792,1 +3796,2 @@\n-  emission.ihint.run_type = G_SIGNAL_RUN_LAST;\n+  emission.ihint.run_type &= ~G_SIGNAL_RUN_FIRST;\n+  emission.ihint.run_type |= G_SIGNAL_RUN_LAST;\n@@ -3863,1 +3868,2 @@\n-  emission.ihint.run_type = G_SIGNAL_RUN_CLEANUP;\n+  emission.ihint.run_type &= ~G_SIGNAL_RUN_LAST;\n+  emission.ihint.run_type |= G_SIGNAL_RUN_CLEANUP;\n@@ -4038,0 +4044,1 @@\n+ *   This pointer may be %NULL or invalid, if the handler ID is zero.\n@@ -4045,2 +4052,2 @@\n- * A macro is also included that allows this function to be used without\n- * pointer casts.\n+ * There is also a macro version of this function so that the code\n+ * will be inlined.\n@@ -4050,1 +4057,0 @@\n-#undef g_clear_signal_handler\n@@ -4052,2 +4058,2 @@\n-g_clear_signal_handler (gulong   *handler_id_ptr,\n-                        gpointer  instance)\n+(g_clear_signal_handler) (gulong   *handler_id_ptr,\n+                          gpointer  instance)\n@@ -4057,5 +4063,5 @@\n-  if (*handler_id_ptr != 0)\n-    {\n-      g_signal_handler_disconnect (instance, *handler_id_ptr);\n-      *handler_id_ptr = 0;\n-    }\n+#ifndef g_clear_signal_handler\n+#error g_clear_signal_handler() macro is not defined\n+#endif\n+\n+  g_clear_signal_handler (handler_id_ptr, instance);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsignal.c","additions":264,"deletions":258,"binary":false,"changes":522,"status":"modified"},{"patch":"@@ -39,3 +39,5 @@\n- * invocations. It is merely an alias to #GClosureMarshal since the #GClosure\n- * mechanism takes over responsibility of actual function invocation for the\n- * signal system.\n+ * invocations.\n+ *\n+ * It is merely an alias to #GClosureMarshal since the #GClosure mechanism\n+ * takes over responsibility of actual function invocation for the signal\n+ * system.\n@@ -61,3 +63,4 @@\n- * A simple function pointer to get invoked when the signal is emitted. This\n- * allows you to tie a hook to the signal type, so that it will trap all\n- * emissions of that signal, from any object.\n+ * A simple function pointer to get invoked when the signal is emitted.\n+ *\n+ * Emission hooks allow you to tie a hook to the signal type, so that it will\n+ * trap all emissions of that signal, from any object.\n@@ -65,1 +68,1 @@\n- * You may not attach these to signals created with the #G_SIGNAL_NO_HOOKS flag.\n+ * You may not attach these to signals created with the %G_SIGNAL_NO_HOOKS flag.\n@@ -84,4 +87,6 @@\n- * during a signal emission. The signal accumulator is specified at signal\n- * creation time, if it is left %NULL, no accumulation of callback return\n- * values is performed. The return value of signal emissions is then the\n- * value returned by the last callback.\n+ * during a signal emission.\n+ *\n+ * The signal accumulator is specified at signal creation time, if it is\n+ * left %NULL, no accumulation of callback return values is performed.\n+ * The return value of signal emissions is then the value returned by the\n+ * last callback.\n@@ -90,2 +95,5 @@\n- *  should be aborted. Returning %FALSE means to abort the\n- *  current emission and %TRUE is returned for continuation.\n+ *  should be aborted. Returning %TRUE will continue with\n+ *  the signal emission. Returning %FALSE will abort the current emission.\n+ *  Since 2.62, returning %FALSE will skip to the CLEANUP stage. In this case,\n+ *  emission will occur as normal in the CLEANUP stage and the handler's\n+ *  return value will be accumulated.\n@@ -122,0 +130,3 @@\n+ * @G_SIGNAL_ACCUMULATOR_FIRST_RUN: Only used in #GSignalAccumulator accumulator\n+ *   functions for the #GSignalInvocationHint::run_type field to mark the first\n+ *   call to the accumulator function for a signal emission.  Since 2.68.\n@@ -123,3 +134,1 @@\n- * The signal flags are used to specify a signal's behaviour, the overall\n- * signal description outlines how especially the RUN flags control the\n- * stages of a signal emission.\n+ * The signal flags are used to specify a signal's behaviour.\n@@ -137,1 +146,3 @@\n-  G_SIGNAL_DEPRECATED   = 1 << 8\n+  G_SIGNAL_DEPRECATED   = 1 << 8,\n+  \/* normal signal flags until 1 << 16 *\/\n+  G_SIGNAL_ACCUMULATOR_FIRST_RUN    = 1 << 17,\n@@ -218,1 +229,3 @@\n- *  %G_SIGNAL_RUN_LAST or %G_SIGNAL_RUN_CLEANUP.\n+ *  %G_SIGNAL_RUN_LAST or %G_SIGNAL_RUN_CLEANUP and %G_SIGNAL_ACCUMULATOR_FIRST_RUN.\n+ *  %G_SIGNAL_ACCUMULATOR_FIRST_RUN is only set for the first run of the accumulator\n+ *  function for a signal emission.\n@@ -246,2 +259,3 @@\n- * A structure holding in-depth information for a specific signal. It is\n- * filled in by the g_signal_query() function.\n+ * A structure holding in-depth information for a specific signal.\n+ *\n+ * See also: g_signal_query()\n@@ -447,2 +461,3 @@\n-    G_STATIC_ASSERT (sizeof *(handler_id_ptr) == sizeof (gulong));  \\\n-    gulong _handler_id = *(handler_id_ptr);                         \\\n+    gpointer const _instance      = (instance);                     \\\n+    gulong *const _handler_id_ptr = (handler_id_ptr);               \\\n+    const gulong _handler_id      = *_handler_id_ptr;               \\\n@@ -452,2 +467,2 @@\n-        g_signal_handler_disconnect ((instance), _handler_id);      \\\n-        *(handler_id_ptr) = 0;                                      \\\n+        *_handler_id_ptr = 0;                                       \\\n+        g_signal_handler_disconnect (_instance, _handler_id);       \\\n@@ -485,1 +500,1 @@\n- * The handler will be called before the default handler of the signal.\n+ * The handler will be called synchronously, before the default handler of the signal. g_signal_emit() will not return control until all handlers are called.\n@@ -503,1 +518,1 @@\n- * The handler will be called after the default handler of the signal.\n+ * The handler will be called synchronously, after the default handler of the signal.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsignal.h","additions":41,"deletions":26,"binary":false,"changes":67,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-  static volatile GType etype = 0;\n+  static GType etype = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gsourceclosure.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -52,1 +51,1 @@\n- * The GType API is the foundation of the GObject system.  It provides the\n+ * The GType API is the foundation of the GObject system. It provides the\n@@ -147,1 +146,1 @@\n-#define TYPE_FLAG_MASK         (G_TYPE_FLAG_ABSTRACT | G_TYPE_FLAG_VALUE_ABSTRACT)\n+#define TYPE_FLAG_MASK             (G_TYPE_FLAG_ABSTRACT | G_TYPE_FLAG_VALUE_ABSTRACT | G_TYPE_FLAG_FINAL)\n@@ -179,18 +178,18 @@\n-static inline GTypeFundamentalInfo* type_node_fundamental_info_I    (TypeNode       *node);\n-static        void          type_add_flags_W        (TypeNode       *node,\n-                                     GTypeFlags      flags);\n-static        void          type_data_make_W        (TypeNode       *node,\n-                                     const GTypeInfo    *info,\n-                                     const GTypeValueTable  *value_table);\n-static inline void          type_data_ref_Wm        (TypeNode       *node);\n-static inline void          type_data_unref_U               (TypeNode       *node,\n-                                     gboolean        uncached);\n-static void             type_data_last_unref_Wm     (TypeNode *              node,\n-                                     gboolean        uncached);\n-static inline gpointer          type_get_qdata_L        (TypeNode       *node,\n-                                     GQuark          quark);\n-static inline void          type_set_qdata_W        (TypeNode       *node,\n-                                     GQuark          quark,\n-                                     gpointer        data);\n-static IFaceHolder*         type_iface_peek_holder_L    (TypeNode       *iface,\n-                                     GType           instance_type);\n+static inline GTypeFundamentalInfo*     type_node_fundamental_info_I    (TypeNode               *node);\n+static        void                      type_add_flags_W                (TypeNode               *node,\n+                                                                         GTypeFlags              flags);\n+static        void                      type_data_make_W                (TypeNode               *node,\n+                                                                         const GTypeInfo        *info,\n+                                                                         const GTypeValueTable  *value_table);\n+static inline void                      type_data_ref_Wm                (TypeNode               *node);\n+static inline void                      type_data_unref_U               (TypeNode               *node,\n+                                                                         gboolean                uncached);\n+static void                             type_data_last_unref_Wm         (TypeNode *              node,\n+                                                                         gboolean                uncached);\n+static inline gpointer                  type_get_qdata_L                (TypeNode               *node,\n+                                                                         GQuark                  quark);\n+static inline void                      type_set_qdata_W                (TypeNode               *node,\n+                                                                         GQuark                  quark,\n+                                                                         gpointer                data);\n+static IFaceHolder*                     type_iface_peek_holder_L        (TypeNode               *iface,\n+                                                                         GType                   instance_type);\n@@ -201,2 +200,2 @@\n-static gboolean             type_node_is_a_L        (TypeNode       *node,\n-                                     TypeNode       *iface_node);\n+static gboolean                         type_node_is_a_L                (TypeNode               *node,\n+                                                                         TypeNode               *iface_node);\n@@ -225,1 +224,1 @@\n-  guint volatile ref_count;\n+  guint        ref_count;  \/* (atomic) *\/\n@@ -227,1 +226,1 @@\n-  guint volatile instance_count;\n+  guint        instance_count;  \/* (atomic) *\/\n@@ -235,1 +234,1 @@\n-  guint        mutatable_check_cache : 1;   \/* combines some common path checks *\/\n+  guint        mutatable_check_cache : 1;       \/* combines some common path checks *\/\n@@ -237,1 +236,1 @@\n-  TypeData * volatile data;\n+  TypeData    *data;\n@@ -241,1 +240,1 @@\n-    GAtomicArray iface_entries;     \/* for !iface types *\/\n+    GAtomicArray iface_entries;         \/* for !iface types *\/\n@@ -248,9 +247,9 @@\n-#define SIZEOF_BASE_TYPE_NODE()         (G_STRUCT_OFFSET (TypeNode, supers))\n-#define MAX_N_SUPERS                (255)\n-#define MAX_N_CHILDREN              (G_MAXUINT)\n-#define MAX_N_INTERFACES            (255) \/* Limited by offsets being 8 bits *\/\n-#define MAX_N_PREREQUISITES         (511)\n-#define NODE_TYPE(node)             (node->supers[0])\n-#define NODE_PARENT_TYPE(node)          (node->supers[1])\n-#define NODE_FUNDAMENTAL_TYPE(node)     (node->supers[node->n_supers])\n-#define NODE_NAME(node)             (g_quark_to_string (node->qname))\n+#define SIZEOF_BASE_TYPE_NODE()                 (G_STRUCT_OFFSET (TypeNode, supers))\n+#define MAX_N_SUPERS                            (255)\n+#define MAX_N_CHILDREN                          (G_MAXUINT)\n+#define MAX_N_INTERFACES                        (255) \/* Limited by offsets being 8 bits *\/\n+#define MAX_N_PREREQUISITES                     (511)\n+#define NODE_TYPE(node)                         (node->supers[0])\n+#define NODE_PARENT_TYPE(node)                  (node->supers[1])\n+#define NODE_FUNDAMENTAL_TYPE(node)             (node->supers[node->n_supers])\n+#define NODE_NAME(node)                         (g_quark_to_string (node->qname))\n@@ -258,3 +257,3 @@\n-#define NODE_IS_BOXED(node)         (NODE_FUNDAMENTAL_TYPE (node) == G_TYPE_BOXED)\n-#define NODE_IS_IFACE(node)         (NODE_FUNDAMENTAL_TYPE (node) == G_TYPE_INTERFACE)\n-#define CLASSED_NODE_IFACES_ENTRIES(node)   (&(node)->_prot.iface_entries)\n+#define NODE_IS_BOXED(node)                     (NODE_FUNDAMENTAL_TYPE (node) == G_TYPE_BOXED)\n+#define NODE_IS_IFACE(node)                     (NODE_FUNDAMENTAL_TYPE (node) == G_TYPE_INTERFACE)\n+#define CLASSED_NODE_IFACES_ENTRIES(node)       (&(node)->_prot.iface_entries)\n@@ -262,3 +261,3 @@\n-#define IFACE_NODE_N_PREREQUISITES(node)    ((node)->n_prerequisites)\n-#define IFACE_NODE_PREREQUISITES(node)      ((node)->prerequisites)\n-#define iface_node_get_holders_L(node)      ((IFaceHolder*) type_get_qdata_L ((node), static_quark_iface_holder))\n+#define IFACE_NODE_N_PREREQUISITES(node)        ((node)->n_prerequisites)\n+#define IFACE_NODE_PREREQUISITES(node)          ((node)->prerequisites)\n+#define iface_node_get_holders_L(node)          ((IFaceHolder*) type_get_qdata_L ((node), static_quark_iface_holder))\n@@ -268,1 +267,1 @@\n-#define TYPE_ID_MASK                ((GType) ((1 << G_TYPE_FUNDAMENTAL_SHIFT) - 1))\n+#define TYPE_ID_MASK                            ((GType) ((1 << G_TYPE_FUNDAMENTAL_SHIFT) - 1))\n@@ -290,1 +289,1 @@\n-  guint offset_index;\n+  gsize offset_index;\n@@ -326,1 +325,1 @@\n-  int volatile       init_state; \/* atomic - g_type_class_ref reads it unlocked *\/\n+  int                init_state;  \/* (atomic) - g_type_class_ref reads it unlocked *\/\n@@ -340,1 +339,1 @@\n-  int volatile       init_state; \/* atomic - g_type_class_ref reads it unlocked *\/\n+  int                init_state;  \/* (atomic) - g_type_class_ref reads it unlocked *\/\n@@ -391,2 +390,2 @@\n-static TypeNode     *static_fundamental_type_nodes[(G_TYPE_FUNDAMENTAL_MAX >> G_TYPE_FUNDAMENTAL_SHIFT) + 1] = { NULL, };\n-static GType         static_fundamental_next = G_TYPE_RESERVED_USER_FIRST;\n+static TypeNode         *static_fundamental_type_nodes[(G_TYPE_FUNDAMENTAL_MAX >> G_TYPE_FUNDAMENTAL_SHIFT) + 1] = { NULL, };\n+static GType             static_fundamental_next = G_TYPE_RESERVED_USER_FIRST;\n@@ -437,2 +436,2 @@\n-    node_size += SIZEOF_FUNDAMENTAL_INFO;         \/* fundamental type info *\/\n-  node_size += SIZEOF_BASE_TYPE_NODE ();          \/* TypeNode structure *\/\n+    node_size += SIZEOF_FUNDAMENTAL_INFO;             \/* fundamental type info *\/\n+  node_size += SIZEOF_BASE_TYPE_NODE ();              \/* TypeNode structure *\/\n@@ -441,1 +440,1 @@\n-  if (!pnode)                         \/* offset fundamental types *\/\n+  if (!pnode)                                         \/* offset fundamental types *\/\n@@ -446,0 +445,4 @@\n+\n+#if ENABLE_VALGRIND\n+      VALGRIND_MALLOCLIKE_BLOCK (node, node_size - SIZEOF_FUNDAMENTAL_INFO, FALSE, TRUE);\n+#endif\n@@ -573,2 +576,2 @@\n-lookup_iface_entry_I (volatile IFaceEntries *entries,\n-          TypeNode *iface_node)\n+lookup_iface_entry_I (IFaceEntries *entries,\n+                      TypeNode     *iface_node)\n@@ -577,1 +580,1 @@\n-  guint offset_index;\n+  gsize offset_index;\n@@ -579,1 +582,1 @@\n-  int index;\n+  gsize index;\n@@ -804,0 +807,7 @@\n+  if ((G_TYPE_FLAG_FINAL & GPOINTER_TO_UINT (type_get_qdata_L (pnode, static_quark_type_flags))) == G_TYPE_FLAG_FINAL)\n+    {\n+      g_warning (\"cannot derive '%s' from final parent type '%s'\",\n+                 type_name,\n+                 NODE_NAME (pnode));\n+      return FALSE;\n+    }\n@@ -1100,1 +1110,2 @@\n-    static const GTypeValueTable zero_vtable = { NULL, };\n+          static const GTypeValueTable zero_vtable =\n+            { NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };\n@@ -1284,2 +1295,2 @@\n-           int offset,\n-           int for_index)\n+                                   gsize offset,\n+                                   int for_index)\n@@ -1303,1 +1314,1 @@\n-static int\n+static gsize\n@@ -1308,1 +1319,1 @@\n-  int offset;\n+  gsize offset;\n@@ -1313,1 +1324,1 @@\n-  offset = -1;\n+  offset = 0;\n@@ -1316,1 +1327,0 @@\n-      offset++;\n@@ -1318,3 +1328,3 @@\n-  {\n-    entry = &entries->entry[i];\n-    iface_node = lookup_type_node_I (entry->iface_type);\n+        {\n+          entry = &entries->entry[i];\n+          iface_node = lookup_type_node_I (entry->iface_type);\n@@ -1322,3 +1332,6 @@\n-    if (!iface_node_has_available_offset_L (iface_node, offset, i))\n-      break;\n-  }\n+          if (!iface_node_has_available_offset_L (iface_node, offset, i))\n+            {\n+              offset++;\n+              break;\n+            }\n+        }\n@@ -1333,2 +1346,2 @@\n-       int offset,\n-       int index)\n+                         gsize offset,\n+                         int index)\n@@ -1337,2 +1350,2 @@\n-  int new_size, old_size;\n-  int i;\n+  gsize new_size, old_size;\n+  gsize i;\n@@ -1373,1 +1386,1 @@\n-  int num_entries;\n+  guint num_entries;\n@@ -1423,1 +1436,1 @@\n-      if (node->data && node->data->class.init_state >= BASE_IFACE_INIT)\n+      if (node->data && g_atomic_int_get (&node->data->class.init_state) >= BASE_IFACE_INIT)\n@@ -1489,1 +1502,1 @@\n-      InitState class_state = node->data->class.init_state;\n+      InitState class_state = g_atomic_int_get (&node->data->class.init_state);\n@@ -1519,1 +1532,1 @@\n-      return;           \/* we already have that prerequisiste *\/\n+      return;                   \/* we already have that prerequisiste *\/\n@@ -1568,1 +1581,1 @@\n-  g_return_if_fail (G_TYPE_IS_INTERFACE (interface_type));  \/* G_TYPE_IS_INTERFACE() is an external call: _U *\/\n+  g_return_if_fail (G_TYPE_IS_INTERFACE (interface_type));      \/* G_TYPE_IS_INTERFACE() is an external call: _U *\/\n@@ -1612,2 +1625,2 @@\n-      for (i = 0; i < prerequisite_node->n_supers + 1; i++)\n-  type_iface_add_prerequisite_W (iface, lookup_type_node_I (prerequisite_node->supers[i]));\n+      for (i = 0; i < prerequisite_node->n_supers + 1u; i++)\n+        type_iface_add_prerequisite_W (iface, lookup_type_node_I (prerequisite_node->supers[i]));\n@@ -1697,0 +1710,48 @@\n+\/**\n+ * g_type_interface_instantiatable_prerequisite:\n+ * @interface_type: an interface type\n+ *\n+ * Returns the most specific instantiatable prerequisite of an\n+ * interface type. If the interface type has no instantiatable\n+ * prerequisite, %G_TYPE_INVALID is returned.\n+ *\n+ * See g_type_interface_add_prerequisite() for more information\n+ * about prerequisites.\n+ *\n+ * Returns: the instantiatable prerequisite type or %G_TYPE_INVALID if none\n+ *\n+ * Since: 2.68\n+ **\/\n+GType\n+g_type_interface_instantiatable_prerequisite (GType interface_type)\n+{\n+  TypeNode *inode = NULL;\n+  TypeNode *iface;\n+  guint i;\n+\n+  g_return_val_if_fail (G_TYPE_IS_INTERFACE (interface_type), G_TYPE_INVALID);\n+\n+  iface = lookup_type_node_I (interface_type);\n+  if (iface == NULL)\n+    return G_TYPE_INVALID;\n+\n+  G_READ_LOCK (&type_rw_lock);\n+\n+  for (i = 0; i < IFACE_NODE_N_PREREQUISITES (iface); i++)\n+    {\n+      GType prerequisite = IFACE_NODE_PREREQUISITES (iface)[i];\n+      TypeNode *node = lookup_type_node_I (prerequisite);\n+      if (node->is_instantiatable)\n+        {\n+          if (!inode || type_node_is_a_L (node, inode))\n+            inode = node;\n+        }\n+    }\n+\n+  G_READ_UNLOCK (&type_rw_lock);\n+\n+  if (inode)\n+    return NODE_TYPE (inode);\n+  else\n+    return G_TYPE_INVALID;\n+}\n@@ -1742,1 +1803,1 @@\n-  return iholder;   \/* we don't modify write lock upon returning NULL *\/\n+  return iholder;       \/* we don't modify write lock upon returning NULL *\/\n@@ -2017,1 +2078,1 @@\n-    return FALSE;   \/* we don't modify write lock upon FALSE *\/\n+    return FALSE;       \/* we don't modify write lock upon FALSE *\/\n@@ -2111,1 +2172,1 @@\n-    return FALSE;   \/* we don't modify write lock upon FALSE *\/\n+    return FALSE;       \/* we don't modify write lock upon FALSE *\/\n@@ -2146,1 +2207,1 @@\n-  \/* Accessing data->class will work for instantiable types\n+  \/* Accessing data->class will work for instantiatable types\n@@ -2150,3 +2211,3 @@\n-      node->data->class.class_size &&\n-      !node->data->class.class &&\n-      node->data->class.init_state == UNINITIALIZED);\n+            node->data->class.class_size &&\n+            !node->data->class.class &&\n+            g_atomic_int_get (&node->data->class.init_state) == UNINITIALIZED);\n@@ -2162,1 +2223,1 @@\n-      TypeNode *pnode = lookup_type_node_I (pclass->g_type);\n+      pnode = lookup_type_node_I (pclass->g_type);\n@@ -2168,7 +2229,7 @@\n-  {\n-    \/* We need to initialize the private_size here rather than in\n-     * type_data_make_W() since the class init for the parent\n-     * class may have changed pnode->data->instance.private_size.\n-     *\/\n-    node->data->instance.private_size = pnode->data->instance.private_size;\n-  }\n+        {\n+          \/* We need to initialize the private_size here rather than in\n+           * type_data_make_W() since the class init for the parent\n+           * class may have changed pnode->data->instance.private_size.\n+           *\/\n+          node->data->instance.private_size = pnode->data->instance.private_size;\n+        }\n@@ -2209,5 +2270,5 @@\n-       entry->init_state == IFACE_INIT)\n-  {\n-    entry++;\n-    i++;\n-  }\n+             entry->init_state == IFACE_INIT)\n+        {\n+          entry++;\n+          i++;\n+        }\n@@ -2216,1 +2277,1 @@\n-  break;\n+        break;\n@@ -2219,11 +2280,0 @@\n-  {\n-    guint j;\n-    IFaceEntries *pentries = CLASSED_NODE_IFACES_ENTRIES_LOCKED (pnode);\n-\n-    \/* need to get this interface from parent, type_iface_vtable_base_init_Wm()\n-     * doesn't modify write lock upon FALSE, so entry is still valid;\n-     *\/\n-    g_assert (pnode != NULL);\n-\n-    if (pentries)\n-      for (j = 0; j < IFACE_ENTRIES_N_ENTRIES (pentries); j++)\n@@ -2231,1 +2281,2 @@\n-    IFaceEntry *pentry = &pentries->entry[j];\n+          guint j;\n+          IFaceEntries *pentries = CLASSED_NODE_IFACES_ENTRIES_LOCKED (pnode);\n@@ -2233,6 +2284,18 @@\n-    if (pentry->iface_type == entry->iface_type)\n-      {\n-        entry->vtable = pentry->vtable;\n-        entry->init_state = INITIALIZED;\n-        break;\n-      }\n+          \/* need to get this interface from parent, type_iface_vtable_base_init_Wm()\n+           * doesn't modify write lock upon FALSE, so entry is still valid;\n+           *\/\n+          g_assert (pnode != NULL);\n+\n+          if (pentries)\n+            for (j = 0; j < IFACE_ENTRIES_N_ENTRIES (pentries); j++)\n+              {\n+                IFaceEntry *pentry = &pentries->entry[j];\n+\n+                if (pentry->iface_type == entry->iface_type)\n+                  {\n+                    entry->vtable = pentry->vtable;\n+                    entry->init_state = INITIALIZED;\n+                    break;\n+                  }\n+              }\n+          g_assert (entry->vtable != NULL);\n@@ -2240,2 +2303,0 @@\n-    g_assert (entry->vtable != NULL);\n-  }\n@@ -2267,1 +2328,1 @@\n-   * an anchestor type.\n+   * an ancestor type.\n@@ -2281,1 +2342,1 @@\n-  break;\n+        break;\n@@ -2308,2 +2369,2 @@\n-      if (entry->vtable)\n-  {\n+       if (entry->vtable)\n+        {\n@@ -2323,1 +2384,1 @@\n-  }\n+        }\n@@ -2647,1 +2708,1 @@\n-                 GTypeFlags          flags)\n+                             GTypeFlags                  flags)\n@@ -2720,1 +2781,1 @@\n-                   GTypeFlags    flags)\n+                               GTypeFlags        flags)\n@@ -2763,1 +2824,1 @@\n-            GTypeFlags   flags)\n+                        GTypeFlags       flags)\n@@ -2812,1 +2873,1 @@\n- * Returns: the new type identifier or #G_TYPE_INVALID if registration failed\n+ * Returns: the new type identifier or %G_TYPE_INVALID if registration failed\n@@ -2845,1 +2906,1 @@\n- * @instance_type: #GType value of an instantiable type\n+ * @instance_type: #GType value of an instantiatable type\n@@ -2850,1 +2911,1 @@\n- * Adds @interface_type to the static @instantiable_type.\n+ * Adds @interface_type to the static @instance_type.\n@@ -2882,1 +2943,1 @@\n- * @instance_type: #GType value of an instantiable type\n+ * @instance_type: #GType value of an instantiatable type\n@@ -2886,1 +2947,1 @@\n- * Adds @interface_type to the dynamic @instantiable_type. The information\n+ * Adds @interface_type to the dynamic @instance_type. The information\n@@ -3122,0 +3183,3 @@\n+\n+  g_return_val_if_fail (node != NULL, NULL);\n+\n@@ -3126,1 +3190,1 @@\n-  if (node && node->is_classed && node->data && NODE_PARENT_TYPE (node))\n+  if (node->is_classed && node->data && NODE_PARENT_TYPE (node))\n@@ -3432,1 +3496,1 @@\n- * anchestry, return the type that @root_type is the immediate parent\n+ * ancestry, return the type that @root_type is the immediate parent\n@@ -3439,1 +3503,1 @@\n- * Returns: immediate child of @root_type and anchestor of @leaf_type\n+ * Returns: immediate child of @root_type and ancestor of @leaf_type\n@@ -3485,4 +3549,4 @@\n-  {\n-    if (type_lookup_iface_entry_L (node, iface_node))\n-      match = TRUE;\n-  }\n+        {\n+          if (type_lookup_iface_entry_L (node, iface_node))\n+            match = TRUE;\n+        }\n@@ -3490,4 +3554,4 @@\n-  {\n-    if (type_lookup_iface_vtable_I (node, iface_node, NULL))\n-      match = TRUE;\n-  }\n+        {\n+          if (type_lookup_iface_vtable_I (node, iface_node, NULL))\n+            match = TRUE;\n+        }\n@@ -3499,1 +3563,1 @@\n-  G_READ_LOCK (&type_rw_lock);\n+        G_READ_LOCK (&type_rw_lock);\n@@ -3501,1 +3565,1 @@\n-  match = TRUE;\n+        match = TRUE;\n@@ -3503,1 +3567,1 @@\n-  G_READ_UNLOCK (&type_rw_lock);\n+        G_READ_UNLOCK (&type_rw_lock);\n@@ -3526,2 +3590,2 @@\n- * @type: type to check anchestry for\n- * @is_a_type: possible anchestor of @type or interface that @type\n+ * @type: type to check ancestry for\n+ * @is_a_type: possible ancestor of @type or interface that @type\n@@ -3576,1 +3640,1 @@\n-      G_READ_LOCK (&type_rw_lock);  \/* ->children is relocatable *\/\n+      G_READ_LOCK (&type_rw_lock);      \/* ->children is relocatable *\/\n@@ -3583,1 +3647,1 @@\n-  *n_children = node->n_children;\n+        *n_children = node->n_children;\n@@ -3591,1 +3655,1 @@\n-  *n_children = 0;\n+        *n_children = 0;\n@@ -3625,5 +3689,5 @@\n-  {\n-    ifaces = g_new (GType, IFACE_ENTRIES_N_ENTRIES (entries) + 1);\n-    for (i = 0; i < IFACE_ENTRIES_N_ENTRIES (entries); i++)\n-      ifaces[i] = entries->entry[i].iface_type;\n-  }\n+        {\n+          ifaces = g_new (GType, IFACE_ENTRIES_N_ENTRIES (entries) + 1);\n+          for (i = 0; i < IFACE_ENTRIES_N_ENTRIES (entries); i++)\n+            ifaces[i] = entries->entry[i].iface_type;\n+        }\n@@ -3631,4 +3695,4 @@\n-  {\n-    ifaces = g_new (GType, 1);\n-    i = 0;\n-  }\n+        {\n+          ifaces = g_new (GType, 1);\n+          i = 0;\n+        }\n@@ -3638,1 +3702,1 @@\n-  *n_interfaces = i;\n+        *n_interfaces = i;\n@@ -3646,1 +3710,1 @@\n-  *n_interfaces = 0;\n+        *n_interfaces = 0;\n@@ -3675,17 +3739,17 @@\n-      do\n-  {\n-    guint i;\n-    QData *check;\n-\n-    i = (n_qdatas + 1) \/ 2;\n-    check = qdatas + i;\n-    if (quark == check->quark)\n-      return check->data;\n-    else if (quark > check->quark)\n-      {\n-        n_qdatas -= i;\n-        qdatas = check;\n-      }\n-    else \/* if (quark < check->quark) *\/\n-      n_qdatas = i - 1;\n-  }\n+    do\n+        {\n+          guint i;\n+          QData *check;\n+\n+          i = (n_qdatas + 1) \/ 2;\n+          check = qdatas + i;\n+          if (quark == check->quark)\n+            return check->data;\n+          else if (quark > check->quark)\n+            {\n+              n_qdatas -= i;\n+              qdatas = check;\n+            }\n+          else \/* if (quark < check->quark) *\/\n+            n_qdatas = i - 1;\n+        }\n@@ -3713,1 +3777,1 @@\n-      GQuark quark)\n+                  GQuark quark)\n@@ -3735,2 +3799,2 @@\n-      GQuark    quark,\n-      gpointer  data)\n+                  GQuark    quark,\n+                  gpointer  data)\n@@ -3752,2 +3816,2 @@\n-  qdata[i].data = data;\n-  return;\n+        qdata[i].data = data;\n+        return;\n@@ -3778,2 +3842,2 @@\n-      GQuark   quark,\n-      gpointer data)\n+                  GQuark   quark,\n+                  gpointer data)\n@@ -3798,1 +3862,1 @@\n-      GTypeFlags flags)\n+                  GTypeFlags flags)\n@@ -3841,6 +3905,6 @@\n-  {\n-    query->type = NODE_TYPE (node);\n-    query->type_name = NODE_NAME (node);\n-    query->class_size = node->data->class.class_size;\n-    query->instance_size = node->is_instantiatable ? node->data->instance.instance_size : 0;\n-  }\n+        {\n+          query->type = NODE_TYPE (node);\n+          query->type_name = NODE_NAME (node);\n+          query->class_size = node->data->class.class_size;\n+          query->instance_size = node->is_instantiatable ? node->data->instance.instance_size : 0;\n+        }\n@@ -3895,2 +3959,2 @@\n-  {\n-    GTypeFundamentalInfo *finfo = type_node_fundamental_info_I (node);\n+        {\n+          GTypeFundamentalInfo *finfo = type_node_fundamental_info_I (node);\n@@ -3898,2 +3962,2 @@\n-    fflags = (finfo->type_flags & fflags) == fflags;\n-  }\n+          fflags = (finfo->type_flags & fflags) == fflags;\n+        }\n@@ -3901,1 +3965,1 @@\n-  fflags = TRUE;\n+        fflags = TRUE;\n@@ -3904,5 +3968,5 @@\n-  {\n-    G_READ_LOCK (&type_rw_lock);\n-    tflags = (tflags & GPOINTER_TO_UINT (type_get_qdata_L (node, static_quark_type_flags))) == tflags;\n-    G_READ_UNLOCK (&type_rw_lock);\n-  }\n+        {\n+          G_READ_LOCK (&type_rw_lock);\n+          tflags = (tflags & GPOINTER_TO_UINT (type_get_qdata_L (node, static_quark_type_flags))) == tflags;\n+          G_READ_UNLOCK (&type_rw_lock);\n+        }\n@@ -3910,1 +3974,1 @@\n-  tflags = TRUE;\n+        tflags = TRUE;\n@@ -3970,1 +4034,1 @@\n-  iholder = iholder->next;\n+        iholder = iholder->next;\n@@ -4056,1 +4120,1 @@\n-       GType       is_a_type)\n+                         GType       is_a_type)\n@@ -4073,1 +4137,1 @@\n-          GType          iface_type)\n+                            GType          iface_type)\n@@ -4078,20 +4142,20 @@\n-  {\n-    TypeNode *node, *iface;\n-    gboolean is_instantiatable, check;\n-\n-    node = lookup_type_node_I (type_instance->g_class->g_type);\n-    is_instantiatable = node && node->is_instantiatable;\n-    iface = lookup_type_node_I (iface_type);\n-    check = is_instantiatable && iface && type_node_conforms_to_U (node, iface, TRUE, FALSE);\n-    if (check)\n-      return type_instance;\n-\n-    if (is_instantiatable)\n-      g_warning (\"invalid cast from '%s' to '%s'\",\n-           type_descriptive_name_I (type_instance->g_class->g_type),\n-           type_descriptive_name_I (iface_type));\n-    else\n-      g_warning (\"invalid uninstantiatable type '%s' in cast to '%s'\",\n-           type_descriptive_name_I (type_instance->g_class->g_type),\n-           type_descriptive_name_I (iface_type));\n-  }\n+        {\n+          TypeNode *node, *iface;\n+          gboolean is_instantiatable, check;\n+\n+          node = lookup_type_node_I (type_instance->g_class->g_type);\n+          is_instantiatable = node && node->is_instantiatable;\n+          iface = lookup_type_node_I (iface_type);\n+          check = is_instantiatable && iface && type_node_conforms_to_U (node, iface, TRUE, FALSE);\n+          if (check)\n+            return type_instance;\n+\n+          if (is_instantiatable)\n+            g_warning (\"invalid cast from '%s' to '%s'\",\n+                       type_descriptive_name_I (type_instance->g_class->g_type),\n+                       type_descriptive_name_I (iface_type));\n+          else\n+            g_warning (\"invalid uninstantiatable type '%s' in cast to '%s'\",\n+                       type_descriptive_name_I (type_instance->g_class->g_type),\n+                       type_descriptive_name_I (iface_type));\n+        }\n@@ -4099,2 +4163,2 @@\n-  g_warning (\"invalid unclassed pointer in cast to '%s'\",\n-       type_descriptive_name_I (iface_type));\n+        g_warning (\"invalid unclassed pointer in cast to '%s'\",\n+                   type_descriptive_name_I (iface_type));\n@@ -4120,1 +4184,1 @@\n-  return type_class;\n+        return type_class;\n@@ -4123,3 +4187,3 @@\n-  g_warning (\"invalid class cast from '%s' to '%s'\",\n-       type_descriptive_name_I (type_class->g_type),\n-       type_descriptive_name_I (is_a_type));\n+        g_warning (\"invalid class cast from '%s' to '%s'\",\n+                   type_descriptive_name_I (type_class->g_type),\n+                   type_descriptive_name_I (is_a_type));\n@@ -4127,3 +4191,3 @@\n-  g_warning (\"invalid unclassed type '%s' in class cast to '%s'\",\n-       type_descriptive_name_I (type_class->g_type),\n-       type_descriptive_name_I (is_a_type));\n+        g_warning (\"invalid unclassed type '%s' in class cast to '%s'\",\n+                   type_descriptive_name_I (type_class->g_type),\n+                   type_descriptive_name_I (is_a_type));\n@@ -4133,1 +4197,1 @@\n-         type_descriptive_name_I (is_a_type));\n+               type_descriptive_name_I (is_a_type));\n@@ -4155,2 +4219,2 @@\n-  {\n-    TypeNode *node = lookup_type_node_I (type_instance->g_class->g_type);\n+        {\n+          TypeNode *node = lookup_type_node_I (type_instance->g_class->g_type);\n@@ -4158,2 +4222,2 @@\n-    if (node && node->is_instantiatable)\n-      return TRUE;\n+          if (node && node->is_instantiatable)\n+            return TRUE;\n@@ -4161,3 +4225,3 @@\n-    g_warning (\"instance of invalid non-instantiatable type '%s'\",\n-         type_descriptive_name_I (type_instance->g_class->g_type));\n-  }\n+          g_warning (\"instance of invalid non-instantiatable type '%s'\",\n+                     type_descriptive_name_I (type_instance->g_class->g_type));\n+        }\n@@ -4165,1 +4229,1 @@\n-  g_warning (\"instance with invalid (NULL) class pointer\");\n+        g_warning (\"instance with invalid (NULL) class pointer\");\n@@ -4189,2 +4253,2 @@\n-    node->data->common.value_table->value_init)\n-  tflags = GPOINTER_TO_UINT (type_get_qdata_L (node, static_quark_type_flags));\n+          node->data->common.value_table->value_init)\n+        tflags = GPOINTER_TO_UINT (type_get_qdata_L (node, static_quark_type_flags));\n@@ -4192,7 +4256,2 @@\n-  {\n-    guint i;\n-\n-    for (i = 0; i < IFACE_NODE_N_PREREQUISITES (node); i++)\n-      {\n-        GType prtype = IFACE_NODE_PREREQUISITES (node)[i];\n-        TypeNode *prnode = lookup_type_node_I (prtype);\n+        {\n+          guint i;\n@@ -4200,8 +4259,13 @@\n-        if (prnode->is_instantiatable)\n-    {\n-      type = prtype;\n-      node = lookup_type_node_I (type);\n-      goto restart_check;\n-    }\n-      }\n-  }\n+          for (i = 0; i < IFACE_NODE_N_PREREQUISITES (node); i++)\n+            {\n+              GType prtype = IFACE_NODE_PREREQUISITES (node)[i];\n+              TypeNode *prnode = lookup_type_node_I (prtype);\n+\n+              if (prnode->is_instantiatable)\n+                {\n+                  type = prtype;\n+                  node = lookup_type_node_I (type);\n+                  goto restart_check;\n+                }\n+            }\n+        }\n@@ -4264,1 +4328,1 @@\n-  vtable = node->data->common.value_table;\n+        vtable = node->data->common.value_table;\n@@ -4266,7 +4330,2 @@\n-  {\n-    guint i;\n-\n-    for (i = 0; i < IFACE_NODE_N_PREREQUISITES (node); i++)\n-      {\n-        GType prtype = IFACE_NODE_PREREQUISITES (node)[i];\n-        TypeNode *prnode = lookup_type_node_I (prtype);\n+        {\n+          guint i;\n@@ -4274,8 +4333,13 @@\n-        if (prnode->is_instantiatable)\n-    {\n-      type = prtype;\n-      node = lookup_type_node_I (type);\n-      goto restart_table_peek;\n-    }\n-      }\n-  }\n+          for (i = 0; i < IFACE_NODE_N_PREREQUISITES (node); i++)\n+            {\n+              GType prtype = IFACE_NODE_PREREQUISITES (node)[i];\n+              TypeNode *prnode = lookup_type_node_I (prtype);\n+\n+              if (prnode->is_instantiatable)\n+                {\n+                  type = prtype;\n+                  node = lookup_type_node_I (type);\n+                  goto restart_table_peek;\n+                }\n+            }\n+        }\n@@ -4293,1 +4357,1 @@\n-         type_descriptive_name_I (type));\n+               type_descriptive_name_I (type));\n@@ -4389,1 +4453,1 @@\n-\/\/ We cannot due static initialization, since it will crash due to\n+\/\/ We cannot do static initialization, since it will crash due to\n@@ -4494,1 +4558,17 @@\n-#if defined (G_OS_WIN32)\n+#ifdef G_PLATFORM_WIN32\n+\n+void gobject_win32_init (void);\n+\n+void\n+gobject_win32_init (void)\n+{\n+  \/* May be called more than once in static compilation mode *\/\n+  static gboolean win32_already_init = FALSE;\n+  if (!win32_already_init)\n+    {\n+      win32_already_init = TRUE;\n+      gobject_init ();\n+    }\n+}\n+\n+#ifndef GLIB_STATIC_COMPILATION\n@@ -4509,1 +4589,1 @@\n-      gobject_init ();\n+      gobject_win32_init ();\n@@ -4521,1 +4601,3 @@\n-#elif defined (G_HAS_CONSTRUCTORS)\n+#elif defined(G_HAS_CONSTRUCTORS) \/* && G_PLATFORM_WIN32 && GLIB_STATIC_COMPILATION *\/\n+extern void glib_win32_init (void);\n+\n@@ -4525,0 +4607,1 @@\n+\n@@ -4530,1 +4613,14 @@\n-  gobject_init ();\n+  \/* When built dynamically, module initialization is done through DllMain\n+   * function which is called when the dynamic library is loaded by the glib\n+   * module. So, in dynamic configuration glib is always initialized BEFORE\n+   * gobject.\n+   *\n+   * When built statically, initialization mechanism relies on hooking\n+   * functions to the CRT section directly at compilation time. As we don't\n+   * control how each compilation unit will be built and in which order, we\n+   * obtain the same kind of issue as the \"static initialization order fiasco\".\n+   * In this case, we must ensure explicitly that glib is always well\n+   * initialized BEFORE gobject.\n+   *\/\n+  glib_win32_init ();\n+  gobject_win32_init ();\n@@ -4533,1 +4629,1 @@\n-#else\n+#else \/* G_PLATFORM_WIN32 && GLIB_STATIC_COMPILATION && !G_HAS_CONSTRUCTORS *\/\n@@ -4535,0 +4631,6 @@\n+#endif \/* GLIB_STATIC_COMPILATION *\/\n+\n+#elif defined(G_HAS_CONSTRUCTORS) \/* && !G_PLATFORM_WIN32 *\/\n+\n+#ifdef G_DEFINE_CONSTRUCTOR_NEEDS_PRAGMA\n+#pragma G_DEFINE_CONSTRUCTOR_PRAGMA_ARGS(gobject_init_ctor)\n@@ -4537,0 +4639,12 @@\n+G_DEFINE_CONSTRUCTOR (gobject_init_ctor)\n+\n+static void\n+gobject_init_ctor (void)\n+{\n+  gobject_init ();\n+}\n+\n+#else \/* !G_PLATFORM_WIN32 && !G_HAS_CONSTRUCTORS *\/\n+#error Your platform\/compiler is missing constructor support\n+#endif \/* G_PLATFORM_WIN32 *\/\n+\n@@ -4631,4 +4745,4 @@\n-  {\n-    g_warning (\"g_type_class_add_private() called multiple times for the same type\");\n-    return;\n-  }\n+        {\n+          g_warning (\"g_type_class_add_private() called multiple times for the same type\");\n+          return;\n+        }\n@@ -4659,1 +4773,1 @@\n-     type_descriptive_name_I (class_gtype));\n+                 type_descriptive_name_I (class_gtype));\n@@ -4684,1 +4798,1 @@\n-   * the G_DEFINE_TYPE_EXTENDED macro. the G_DEFINE_TYPE_EXTENDED macro will\n+   * the G_DEFINE_TYPE_EXTENDED() macro. the G_DEFINE_TYPE_EXTENDED() macro will\n@@ -4726,1 +4840,1 @@\n-     type_descriptive_name_I (class_gtype));\n+                 type_descriptive_name_I (class_gtype));\n@@ -4731,1 +4845,1 @@\n-  if (NODE_PARENT_TYPE (node))\n+ if (NODE_PARENT_TYPE (node))\n@@ -4735,2 +4849,2 @@\n-  {\n-    g_warning (\"g_type_add_instance_private() called multiple times for the same type\");\n+        {\n+          g_warning (\"g_type_add_instance_private() called multiple times for the same type\");\n@@ -4738,2 +4852,2 @@\n-    return;\n-  }\n+          return;\n+        }\n@@ -4854,1 +4968,1 @@\n-  if (NODE_PARENT_TYPE (node))\n+ if (NODE_PARENT_TYPE (node))\n@@ -4858,4 +4972,4 @@\n-  {\n-    g_warning (\"g_type_add_class_private() called multiple times for the same type\");\n-    return;\n-  }\n+        {\n+          g_warning (\"g_type_add_class_private() called multiple times for the same type\");\n+          return;\n+        }\n@@ -4907,4 +5021,4 @@\n-  {\n-    g_warning (\"g_type_instance_get_class_private() requires a prior call to g_type_add_class_private()\");\n-    return NULL;\n-  }\n+        {\n+          g_warning (\"g_type_instance_get_class_private() requires a prior call to g_type_add_class_private()\");\n+          return NULL;\n+        }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtype.c","additions":422,"deletions":308,"binary":false,"changes":730,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+ *\n@@ -38,1 +39,1 @@\n-#define G_TYPE_FUNDAMENTAL(type)  (g_type_fundamental (type))\n+#define G_TYPE_FUNDAMENTAL(type)        (g_type_fundamental (type))\n@@ -45,1 +46,1 @@\n-#define G_TYPE_FUNDAMENTAL_MAX    (255 << G_TYPE_FUNDAMENTAL_SHIFT)\n+#define G_TYPE_FUNDAMENTAL_MAX          (255 << G_TYPE_FUNDAMENTAL_SHIFT)\n@@ -55,1 +56,1 @@\n-#define G_TYPE_INVALID      G_TYPE_MAKE_FUNDAMENTAL (0)\n+#define G_TYPE_INVALID                  G_TYPE_MAKE_FUNDAMENTAL (0)\n@@ -62,1 +63,1 @@\n-#define G_TYPE_NONE     G_TYPE_MAKE_FUNDAMENTAL (1)\n+#define G_TYPE_NONE                     G_TYPE_MAKE_FUNDAMENTAL (1)\n@@ -68,1 +69,1 @@\n-#define G_TYPE_INTERFACE    G_TYPE_MAKE_FUNDAMENTAL (2)\n+#define G_TYPE_INTERFACE                G_TYPE_MAKE_FUNDAMENTAL (2)\n@@ -73,1 +74,2 @@\n- * The type designated by G_TYPE_CHAR is unconditionally an 8-bit signed integer.\n+ *\n+ * The type designated by %G_TYPE_CHAR is unconditionally an 8-bit signed integer.\n@@ -76,1 +78,1 @@\n-#define G_TYPE_CHAR     G_TYPE_MAKE_FUNDAMENTAL (3)\n+#define G_TYPE_CHAR                     G_TYPE_MAKE_FUNDAMENTAL (3)\n@@ -82,1 +84,1 @@\n-#define G_TYPE_UCHAR      G_TYPE_MAKE_FUNDAMENTAL (4)\n+#define G_TYPE_UCHAR                    G_TYPE_MAKE_FUNDAMENTAL (4)\n@@ -88,1 +90,1 @@\n-#define G_TYPE_BOOLEAN      G_TYPE_MAKE_FUNDAMENTAL (5)\n+#define G_TYPE_BOOLEAN                  G_TYPE_MAKE_FUNDAMENTAL (5)\n@@ -94,1 +96,1 @@\n-#define G_TYPE_INT      G_TYPE_MAKE_FUNDAMENTAL (6)\n+#define G_TYPE_INT                      G_TYPE_MAKE_FUNDAMENTAL (6)\n@@ -100,1 +102,1 @@\n-#define G_TYPE_UINT     G_TYPE_MAKE_FUNDAMENTAL (7)\n+#define G_TYPE_UINT                     G_TYPE_MAKE_FUNDAMENTAL (7)\n@@ -106,1 +108,1 @@\n-#define G_TYPE_LONG     G_TYPE_MAKE_FUNDAMENTAL (8)\n+#define G_TYPE_LONG                     G_TYPE_MAKE_FUNDAMENTAL (8)\n@@ -112,1 +114,1 @@\n-#define G_TYPE_ULONG      G_TYPE_MAKE_FUNDAMENTAL (9)\n+#define G_TYPE_ULONG                    G_TYPE_MAKE_FUNDAMENTAL (9)\n@@ -118,1 +120,1 @@\n-#define G_TYPE_INT64      G_TYPE_MAKE_FUNDAMENTAL (10)\n+#define G_TYPE_INT64                    G_TYPE_MAKE_FUNDAMENTAL (10)\n@@ -124,1 +126,1 @@\n-#define G_TYPE_UINT64     G_TYPE_MAKE_FUNDAMENTAL (11)\n+#define G_TYPE_UINT64                   G_TYPE_MAKE_FUNDAMENTAL (11)\n@@ -130,1 +132,1 @@\n-#define G_TYPE_ENUM     G_TYPE_MAKE_FUNDAMENTAL (12)\n+#define G_TYPE_ENUM                     G_TYPE_MAKE_FUNDAMENTAL (12)\n@@ -136,1 +138,1 @@\n-#define G_TYPE_FLAGS      G_TYPE_MAKE_FUNDAMENTAL (13)\n+#define G_TYPE_FLAGS                    G_TYPE_MAKE_FUNDAMENTAL (13)\n@@ -142,1 +144,1 @@\n-#define G_TYPE_FLOAT      G_TYPE_MAKE_FUNDAMENTAL (14)\n+#define G_TYPE_FLOAT                    G_TYPE_MAKE_FUNDAMENTAL (14)\n@@ -148,1 +150,1 @@\n-#define G_TYPE_DOUBLE     G_TYPE_MAKE_FUNDAMENTAL (15)\n+#define G_TYPE_DOUBLE                   G_TYPE_MAKE_FUNDAMENTAL (15)\n@@ -154,1 +156,1 @@\n-#define G_TYPE_STRING     G_TYPE_MAKE_FUNDAMENTAL (16)\n+#define G_TYPE_STRING                   G_TYPE_MAKE_FUNDAMENTAL (16)\n@@ -160,1 +162,1 @@\n-#define G_TYPE_POINTER      G_TYPE_MAKE_FUNDAMENTAL (17)\n+#define G_TYPE_POINTER                  G_TYPE_MAKE_FUNDAMENTAL (17)\n@@ -166,1 +168,1 @@\n-#define G_TYPE_BOXED      G_TYPE_MAKE_FUNDAMENTAL (18)\n+#define G_TYPE_BOXED                    G_TYPE_MAKE_FUNDAMENTAL (18)\n@@ -172,1 +174,1 @@\n-#define G_TYPE_PARAM      G_TYPE_MAKE_FUNDAMENTAL (19)\n+#define G_TYPE_PARAM                    G_TYPE_MAKE_FUNDAMENTAL (19)\n@@ -178,1 +180,1 @@\n-#define G_TYPE_OBJECT     G_TYPE_MAKE_FUNDAMENTAL (20)\n+#define G_TYPE_OBJECT                   G_TYPE_MAKE_FUNDAMENTAL (20)\n@@ -210,1 +212,1 @@\n-#define G_TYPE_FUNDAMENTAL_SHIFT  (2)\n+#define G_TYPE_FUNDAMENTAL_SHIFT        (2)\n@@ -216,0 +218,1 @@\n+ *\n@@ -221,1 +224,1 @@\n-#define G_TYPE_MAKE_FUNDAMENTAL(x)  ((GType) ((x) << G_TYPE_FUNDAMENTAL_SHIFT))\n+#define G_TYPE_MAKE_FUNDAMENTAL(x)      ((GType) ((x) << G_TYPE_FUNDAMENTAL_SHIFT))\n@@ -228,1 +231,1 @@\n-#define G_TYPE_RESERVED_GLIB_FIRST  (22)\n+#define G_TYPE_RESERVED_GLIB_FIRST      (22)\n@@ -234,1 +237,1 @@\n-#define G_TYPE_RESERVED_GLIB_LAST (31)\n+#define G_TYPE_RESERVED_GLIB_LAST       (31)\n@@ -241,1 +244,1 @@\n-#define G_TYPE_RESERVED_BSE_FIRST (32)\n+#define G_TYPE_RESERVED_BSE_FIRST       (32)\n@@ -247,1 +250,1 @@\n-#define G_TYPE_RESERVED_BSE_LAST  (48)\n+#define G_TYPE_RESERVED_BSE_LAST        (48)\n@@ -254,1 +257,1 @@\n-#define G_TYPE_RESERVED_USER_FIRST  (49)\n+#define G_TYPE_RESERVED_USER_FIRST      (49)\n@@ -284,0 +287,1 @@\n+ *\n@@ -373,0 +377,12 @@\n+\/**\n+ * G_TYPE_IS_FINAL:\n+ * @type: a #GType value\n+ *\n+ * Checks if @type is a final type. A final type cannot be derived any\n+ * further.\n+ *\n+ * Returns: %TRUE on success\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_TYPE_IS_FINAL(type)                   (g_type_test_flags ((type), G_TYPE_FLAG_FINAL)) GLIB_AVAILABLE_MACRO_IN_2_70\n@@ -398,1 +414,1 @@\n-typedef struct _GTypeQuery    GTypeQuery;\n+typedef struct _GTypeQuery              GTypeQuery;\n@@ -442,1 +458,2 @@\n- * It is filled in by the g_type_query() function.\n+ *\n+ * See also: g_type_query()\n@@ -446,1 +463,1 @@\n-  GType   type;\n+  GType         type;\n@@ -448,2 +465,2 @@\n-  guint   class_size;\n-  guint   instance_size;\n+  guint         class_size;\n+  guint         instance_size;\n@@ -469,1 +486,1 @@\n-#define G_TYPE_CHECK_INSTANCE(instance)       (_G_TYPE_CHI ((GTypeInstance*) (instance)))\n+#define G_TYPE_CHECK_INSTANCE(instance)                         (_G_TYPE_CHI ((GTypeInstance*) (instance)))\n@@ -578,1 +595,1 @@\n-#define G_TYPE_CHECK_VALUE(value)       (_G_TYPE_CHV ((value)))\n+#define G_TYPE_CHECK_VALUE(value)                               (_G_TYPE_CHV ((value)))\n@@ -591,1 +608,1 @@\n-#define G_TYPE_CHECK_VALUE_TYPE(value, g_type)      (_G_TYPE_CVH ((value), (g_type)))\n+#define G_TYPE_CHECK_VALUE_TYPE(value, g_type)                  (_G_TYPE_CVH ((value), (g_type)))\n@@ -633,0 +650,1 @@\n+ *\n@@ -639,1 +657,1 @@\n- * Deprecated: 2.58: Use %G_ADD_PRIVATE and the generated\n+ * Deprecated: 2.58: Use G_ADD_PRIVATE() and the generated\n@@ -652,0 +670,1 @@\n+ *\n@@ -678,1 +697,1 @@\n-typedef enum  \/*< skip >*\/\n+typedef enum    \/*< skip >*\/\n@@ -680,1 +699,1 @@\n-  G_TYPE_DEBUG_NONE = 0,\n+  G_TYPE_DEBUG_NONE     = 0,\n@@ -684,1 +703,1 @@\n-  G_TYPE_DEBUG_MASK = 0x07\n+  G_TYPE_DEBUG_MASK     = 0x07\n@@ -708,1 +727,1 @@\n-                  GType            root_type);\n+                                                      GType            root_type);\n@@ -711,1 +730,1 @@\n-                  GType            is_a_type);\n+                                                      GType            is_a_type);\n@@ -724,1 +743,1 @@\n-                  GType            iface_type);\n+                                                      GType            iface_type);\n@@ -738,1 +757,1 @@\n-                  guint           *n_children);\n+                                                      guint           *n_children);\n@@ -741,1 +760,1 @@\n-                  guint           *n_interfaces);\n+                                                      guint           *n_interfaces);\n@@ -746,2 +765,2 @@\n-                  GQuark           quark,\n-                  gpointer         data);\n+                                                      GQuark           quark,\n+                                                      gpointer         data);\n@@ -750,1 +769,1 @@\n-                  GQuark           quark);\n+                                                      GQuark           quark);\n@@ -752,2 +771,2 @@\n-void          g_type_query         (GType        type,\n-                  GTypeQuery      *query);\n+void                  g_type_query                   (GType            type,\n+                                                      GTypeQuery      *query);\n@@ -764,3 +783,6 @@\n- * of the class structures of derived types. It is called as part of the\n- * initialization process of all derived classes and should reallocate\n- * or reset all dynamic class members copied over from the parent class.\n+ * of the class structures of derived types.\n+ *\n+ * This function is called as part of the initialization process of all derived\n+ * classes and should reallocate or reset all dynamic class members copied over\n+ * from the parent class.\n+ *\n@@ -779,2 +801,5 @@\n- * GBaseInitFunc() function. Class finalization basically works the inverse\n- * way in which class initialization is performed.\n+ * GBaseInitFunc() function.\n+ *\n+ * Class finalization basically works the inverse way in which class\n+ * initialization is performed.\n+ *\n@@ -790,2 +815,3 @@\n- * of a specific type. This function should initialize all static class\n- * members.\n+ * of a specific type.\n+ *\n+ * This function should initialize all static class members.\n@@ -860,0 +886,1 @@\n+ *\n@@ -886,1 +913,1 @@\n-                gpointer         class_data);\n+                                              gpointer         class_data);\n@@ -893,0 +920,1 @@\n+ *\n@@ -895,0 +923,1 @@\n+ *\n@@ -901,1 +930,1 @@\n-                gpointer         class_data);\n+                                              gpointer         class_data);\n@@ -909,2 +938,4 @@\n- * instance of a type. This function initializes all instance members and\n- * allocates any resources required by it.\n+ * instance of a type.\n+ *\n+ * This function initializes all instance members and allocates any resources\n+ * required by it.\n@@ -921,1 +952,1 @@\n-                gpointer         g_class);\n+                                              gpointer         g_class);\n@@ -928,2 +959,4 @@\n- * interface.  This function should initialize all internal data and\n- * allocate any resources required by the interface.\n+ * interface.\n+ *\n+ * This function should initialize all internal data and* allocate any\n+ * resources required by the interface.\n@@ -935,1 +968,1 @@\n-                gpointer         iface_data);\n+                                              gpointer         iface_data);\n@@ -942,0 +975,1 @@\n+ *\n@@ -946,1 +980,1 @@\n-                gpointer         iface_data);\n+                                              gpointer         iface_data);\n@@ -954,4 +988,5 @@\n- * drops to zero. It may use g_type_class_ref() to prevent the class from\n- * being freed. You should not call g_type_class_unref() from a\n- * #GTypeClassCacheFunc function to prevent infinite recursion, use\n- * g_type_class_unref_uncached() instead.\n+ * drops to zero.\n+ *\n+ * It may use g_type_class_ref() to prevent the class from being freed. You\n+ * should not call g_type_class_unref() from a #GTypeClassCacheFunc function\n+ * to prevent infinite recursion, use g_type_class_unref_uncached() instead.\n@@ -967,1 +1002,1 @@\n-                GTypeClass      *g_class);\n+                                              GTypeClass      *g_class);\n@@ -975,0 +1010,1 @@\n+ *\n@@ -980,1 +1016,1 @@\n-                gpointer         g_iface);\n+                                              gpointer         g_iface);\n@@ -984,1 +1020,1 @@\n- * @G_TYPE_FLAG_INSTANTIATABLE: Indicates an instantiable type (implies classed)\n+ * @G_TYPE_FLAG_INSTANTIATABLE: Indicates an instantiatable type (implies classed)\n@@ -1005,0 +1041,2 @@\n+ * @G_TYPE_FLAG_FINAL: Indicates a final type. A final type is a non-derivable\n+ *  leaf node in a deep derivable type hierarchy tree. Since: 2.70\n@@ -1010,2 +1048,3 @@\n-  G_TYPE_FLAG_ABSTRACT    = (1 << 4),\n-  G_TYPE_FLAG_VALUE_ABSTRACT  = (1 << 5)\n+  G_TYPE_FLAG_ABSTRACT = (1 << 4),\n+  G_TYPE_FLAG_VALUE_ABSTRACT = (1 << 5),\n+  G_TYPE_FLAG_FINAL GLIB_AVAILABLE_ENUMERATOR_IN_2_70 = (1 << 6)\n@@ -1174,1 +1213,1 @@\n- *  #G_VALUE_NOCOPY_CONTENTS hint for reference counted types. Due to\n+ *  %G_VALUE_NOCOPY_CONTENTS hint for reference counted types. Due to\n@@ -1250,1 +1289,1 @@\n-          GValue       *dest_value);\n+                                  GValue       *dest_value);\n@@ -1255,3 +1294,3 @@\n-          guint         n_collect_values,\n-          GTypeCValue  *collect_values,\n-          guint   collect_flags);\n+                                  guint         n_collect_values,\n+                                  GTypeCValue  *collect_values,\n+                                  guint         collect_flags);\n@@ -1260,3 +1299,3 @@\n-          guint         n_collect_values,\n-          GTypeCValue  *collect_values,\n-          guint   collect_flags);\n+                                  guint         n_collect_values,\n+                                  GTypeCValue  *collect_values,\n+                                  guint         collect_flags);\n@@ -1265,4 +1304,4 @@\n-GType g_type_register_static    (GType           parent_type,\n-           const gchar        *type_name,\n-           const GTypeInfo      *info,\n-           GTypeFlags        flags);\n+GType g_type_register_static            (GType                       parent_type,\n+                                         const gchar                *type_name,\n+                                         const GTypeInfo            *info,\n+                                         GTypeFlags                  flags);\n@@ -1271,6 +1310,6 @@\n-           const gchar                *type_name,\n-           guint                       class_size,\n-           GClassInitFunc              class_init,\n-           guint                       instance_size,\n-           GInstanceInitFunc           instance_init,\n-           GTypeFlags              flags);\n+                                         const gchar                *type_name,\n+                                         guint                       class_size,\n+                                         GClassInitFunc              class_init,\n+                                         guint                       instance_size,\n+                                         GInstanceInitFunc           instance_init,\n+                                         GTypeFlags                  flags);\n@@ -1279,4 +1318,4 @@\n-GType g_type_register_dynamic   (GType           parent_type,\n-           const gchar        *type_name,\n-           GTypePlugin        *plugin,\n-           GTypeFlags        flags);\n+GType g_type_register_dynamic           (GType                       parent_type,\n+                                         const gchar                *type_name,\n+                                         GTypePlugin                *plugin,\n+                                         GTypeFlags                  flags);\n@@ -1284,5 +1323,5 @@\n-GType g_type_register_fundamental (GType           type_id,\n-           const gchar        *type_name,\n-           const GTypeInfo      *info,\n-           const GTypeFundamentalInfo *finfo,\n-           GTypeFlags        flags);\n+GType g_type_register_fundamental       (GType                       type_id,\n+                                         const gchar                *type_name,\n+                                         const GTypeInfo            *info,\n+                                         const GTypeFundamentalInfo *finfo,\n+                                         GTypeFlags                  flags);\n@@ -1290,3 +1329,3 @@\n-void  g_type_add_interface_static (GType           instance_type,\n-           GType           interface_type,\n-           const GInterfaceInfo     *info);\n+void  g_type_add_interface_static       (GType                       instance_type,\n+                                         GType                       interface_type,\n+                                         const GInterfaceInfo       *info);\n@@ -1294,3 +1333,3 @@\n-void  g_type_add_interface_dynamic  (GType           instance_type,\n-           GType           interface_type,\n-           GTypePlugin        *plugin);\n+void  g_type_add_interface_dynamic      (GType                       instance_type,\n+                                         GType                       interface_type,\n+                                         GTypePlugin                *plugin);\n@@ -1298,2 +1337,2 @@\n-void  g_type_interface_add_prerequisite (GType           interface_type,\n-           GType           prerequisite_type);\n+void  g_type_interface_add_prerequisite (GType                       interface_type,\n+                                         GType                       prerequisite_type);\n@@ -1302,1 +1341,4 @@\n-           guint                      *n_prerequisites);\n+                                         guint                      *n_prerequisites);\n+GLIB_AVAILABLE_IN_2_68\n+GType g_type_interface_instantiatable_prerequisite\n+                                        (GType                       interface_type);\n@@ -1317,2 +1359,2 @@\n-void      g_type_add_class_private      (GType             class_type,\n-           gsize             private_size);\n+void      g_type_add_class_private      (GType                       class_type,\n+                                         gsize                       private_size);\n@@ -1320,2 +1362,2 @@\n-gpointer  g_type_class_get_private      (GTypeClass         *klass,\n-           GType           private_type);\n+gpointer  g_type_class_get_private      (GTypeClass                 *klass,\n+                                         GType                       private_type);\n@@ -1334,1 +1376,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like GtkWidget)\n+ * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n@@ -1336,4 +1378,4 @@\n- *  separated by '_' (like 'gtk_widget')\n- * @MODULE: The name of the module, in all caps (like 'GTK')\n- * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n- * @ParentName: the name of the parent type, in camel case (like GtkWidget)\n+ *  separated by `_` (like `gtk_widget`)\n+ * @MODULE: The name of the module, in all caps (like `GTK`)\n+ * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n+ * @ParentName: the name of the parent type, in camel case (like `GtkWidget`)\n@@ -1341,2 +1383,2 @@\n- * A convenience macro for emitting the usual declarations in the header file for a type which is not (at the\n- * present time) intended to be subclassed.\n+ * A convenience macro for emitting the usual declarations in the header file\n+ * for a type which is not (at the present time) intended to be subclassed.\n@@ -1346,1 +1388,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -1362,0 +1404,11 @@\n+ * And use it as follow in your C file:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * struct _MyAppWindow\n+ * {\n+ *  GtkWindow parent;\n+ *  ...\n+ * };\n+ * G_DEFINE_TYPE (MyAppWindow, my_app_window, GTK_TYPE_WINDOW)\n+ * ]|\n+ *\n@@ -1364,1 +1417,1 @@\n- * - the usual my_app_window_get_type() function is declared with a return type of #GType\n+ * - the usual `my_app_window_get_type()` function is declared with a return type of #GType\n@@ -1366,1 +1419,1 @@\n- * - the MyAppWindow types is defined as a typedef of struct _MyAppWindow.  The struct itself is not\n+ * - the `MyAppWindow` type is defined as a `typedef` of `struct _MyAppWindow`.  The struct itself is not\n@@ -1369,1 +1422,1 @@\n- * - the MY_APP_WINDOW() cast is emitted as static inline function along with the MY_APP_IS_WINDOW() type\n+ * - the `MY_APP_WINDOW()` cast is emitted as `static inline` function along with the `MY_APP_IS_WINDOW()` type\n@@ -1372,1 +1425,1 @@\n- * - the MyAppWindowClass type is defined as a struct containing GtkWindowClass.  This is done for the\n+ * - the `MyAppWindowClass` type is defined as a struct containing `GtkWindowClass`.  This is done for the\n@@ -1382,1 +1435,1 @@\n- * Because the type macro (MY_APP_TYPE_WINDOW in the above example) is not a callable, you must continue to\n+ * Because the type macro (`MY_APP_TYPE_WINDOW` in the above example) is not a callable, you must continue to\n@@ -1385,1 +1438,1 @@\n- * The declaration of the _get_type() function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n@@ -1415,1 +1468,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like GtkWidget)\n+ * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n@@ -1417,4 +1470,4 @@\n- *  separated by '_' (like 'gtk_widget')\n- * @MODULE: The name of the module, in all caps (like 'GTK')\n- * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n- * @ParentName: the name of the parent type, in camel case (like GtkWidget)\n+ *  separated by `_` (like `gtk_widget`)\n+ * @MODULE: The name of the module, in all caps (like `GTK`)\n+ * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n+ * @ParentName: the name of the parent type, in camel case (like `GtkWidget`)\n@@ -1427,1 +1480,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -1452,0 +1505,12 @@\n+ * Since the instance structure is public it is often needed to declare a\n+ * private struct as follow in your C file:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct _GtkFrobberPrivate GtkFrobberPrivate;\n+ * struct _GtkFrobberPrivate\n+ * {\n+ *   ...\n+ * };\n+ * G_DEFINE_TYPE_WITH_PRIVATE (GtkFrobber, gtk_frobber, GTK_TYPE_WIDGET)\n+ * ]|\n+ *\n@@ -1454,1 +1519,1 @@\n- * - the usual gtk_frobber_get_type() function is declared with a return type of #GType\n+ * - the usual `gtk_frobber_get_type()` function is declared with a return type of #GType\n@@ -1456,1 +1521,1 @@\n- * - the GtkFrobber struct is created with GtkWidget as the first and only item.  You are expected to use\n+ * - the `GtkFrobber` struct is created with `GtkWidget` as the first and only item.  You are expected to use\n@@ -1459,1 +1524,1 @@\n- * - the GtkFrobberClass type is defined as a typedef to struct _GtkFrobberClass, which is left undefined.\n+ * - the `GtkFrobberClass` type is defined as a typedef to `struct _GtkFrobberClass`, which is left undefined.\n@@ -1462,2 +1527,2 @@\n- * - the GTK_FROBBER() and GTK_FROBBER_CLASS() casts are emitted as static inline functions along with\n- *   the GTK_IS_FROBBER() and GTK_IS_FROBBER_CLASS() type checking functions and GTK_FROBBER_GET_CLASS()\n+ * - the `GTK_FROBBER()` and `GTK_FROBBER_CLASS()` casts are emitted as `static inline` functions along with\n+ *   the `GTK_IS_FROBBER()` and `GTK_IS_FROBBER_CLASS()` type checking functions and `GTK_FROBBER_GET_CLASS()`\n@@ -1470,1 +1535,1 @@\n- * Because the type macro (GTK_TYPE_FROBBER in the above example) is not a callable, you must continue to\n+ * Because the type macro (`GTK_TYPE_FROBBER` in the above example) is not a callable, you must continue to\n@@ -1473,1 +1538,1 @@\n- * The declaration of the _get_type() function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n@@ -1513,1 +1578,1 @@\n- * @ModuleObjName: The name of the new type, in camel case (like GtkWidget)\n+ * @ModuleObjName: The name of the new type, in camel case (like `GtkWidget`)\n@@ -1515,4 +1580,4 @@\n- *  separated by '_' (like 'gtk_widget')\n- * @MODULE: The name of the module, in all caps (like 'GTK')\n- * @OBJ_NAME: The bare name of the type, in all caps (like 'WIDGET')\n- * @PrerequisiteName: the name of the prerequisite type, in camel case (like GtkWidget)\n+ *  separated by `_` (like `gtk_widget`)\n+ * @MODULE: The name of the module, in all caps (like `GTK`)\n+ * @OBJ_NAME: The bare name of the type, in all caps (like `WIDGET`)\n+ * @PrerequisiteName: the name of the prerequisite type, in camel case (like `GtkWidget`)\n@@ -1520,1 +1585,1 @@\n- * A convenience macro for emitting the usual declarations in the header file for a GInterface type.\n+ * A convenience macro for emitting the usual declarations in the header file for a #GInterface type.\n@@ -1524,1 +1589,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -1546,0 +1611,12 @@\n+ * And use it as follow in your C file:\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_DEFINE_INTERFACE (MyModel, my_model, G_TYPE_OBJECT);\n+ *\n+ * static void\n+ * my_model_default_init (MyModelInterface *iface)\n+ * {\n+ *   ...\n+ * }\n+ * ]|\n+ *\n@@ -1548,1 +1625,1 @@\n- * - the usual my_model_get_type() function is declared with a return type of #GType\n+ * - the usual `my_model_get_type()` function is declared with a return type of #GType\n@@ -1550,1 +1627,1 @@\n- * - the MyModelInterface type is defined as a typedef to struct _MyModelInterface,\n+ * - the `MyModelInterface` type is defined as a typedef to `struct _MyModelInterface`,\n@@ -1554,2 +1631,2 @@\n- * - the MY_MODEL() cast is emitted as static inline functions along with\n- *   the MY_IS_MODEL() type checking function and MY_MODEL_GET_IFACE() function.\n+ * - the `MY_MODEL()` cast is emitted as `static inline` functions along with\n+ *   the `MY_IS_MODEL()` type checking function and `MY_MODEL_GET_IFACE()` function.\n@@ -1561,1 +1638,1 @@\n- * Because the type macro (MY_TYPE_MODEL in the above example) is not a callable, you must continue to\n+ * Because the type macro (`MY_TYPE_MODEL` in the above example) is not a callable, you must continue to\n@@ -1564,1 +1641,1 @@\n- * The declaration of the _get_type() function is the first thing emitted by the macro.  This allows this macro\n+ * The declaration of the `_get_type()` function is the first thing emitted by the macro.  This allows this macro\n@@ -1589,1 +1666,1 @@\n- *  separated by '_'.\n+ *  separated by `_`.\n@@ -1595,1 +1672,1 @@\n- * pointing to the parent class. Furthermore, it defines  a *_get_type() function.\n+ * pointing to the parent class. Furthermore, it defines a `*_get_type()` function.\n@@ -1600,1 +1677,1 @@\n-#define G_DEFINE_TYPE(TN, t_n, T_P)         G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, 0, {})\n+#define G_DEFINE_TYPE(TN, t_n, T_P)                         G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, 0, {})\n@@ -1604,1 +1681,1 @@\n- * @t_n: The name of the new type in lowercase, with words separated by '_'.\n+ * @t_n: The name of the new type in lowercase, with words separated by `_`.\n@@ -1606,1 +1683,1 @@\n- * @_C_: Custom code that gets inserted in the *_get_type() function.\n+ * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n@@ -1609,0 +1686,1 @@\n+ *\n@@ -1610,1 +1688,1 @@\n- * *_get_type() function, e.g. interface implementations via G_IMPLEMENT_INTERFACE().\n+ * `*_get_type()` function, e.g. interface implementations via G_IMPLEMENT_INTERFACE().\n@@ -1615,1 +1693,1 @@\n-#define G_DEFINE_TYPE_WITH_CODE(TN, t_n, T_P, _C_)      _G_DEFINE_TYPE_EXTENDED_BEGIN (TN, t_n, T_P, 0) {_C_;} _G_DEFINE_TYPE_EXTENDED_END()\n+#define G_DEFINE_TYPE_WITH_CODE(TN, t_n, T_P, _C_)          _G_DEFINE_TYPE_EXTENDED_BEGIN (TN, t_n, T_P, 0) {_C_;} _G_DEFINE_TYPE_EXTENDED_END()\n@@ -1620,1 +1698,1 @@\n- *  separated by '_'.\n+ *  separated by `_`.\n@@ -1627,1 +1705,2 @@\n- * Furthermore, it defines a *_get_type() function. See G_DEFINE_TYPE_EXTENDED()\n+ *\n+ * Furthermore, it defines a `*_get_type()` function. See G_DEFINE_TYPE_EXTENDED()\n@@ -1631,1 +1710,1 @@\n- * name of the form @TN Private.\n+ * name of the form `TN ## Private`.\n@@ -1645,1 +1724,1 @@\n- *  separated by '_'.\n+ *  separated by `_`.\n@@ -1649,0 +1728,1 @@\n+ *\n@@ -1654,1 +1734,1 @@\n-#define G_DEFINE_ABSTRACT_TYPE(TN, t_n, T_P)        G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_ABSTRACT, {})\n+#define G_DEFINE_ABSTRACT_TYPE(TN, t_n, T_P)                G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_ABSTRACT, {})\n@@ -1659,1 +1739,1 @@\n- *  separated by '_'.\n+ *  separated by `_`.\n@@ -1661,1 +1741,1 @@\n- * @_C_: Custom code that gets inserted in the @type_name_get_type() function.\n+ * @_C_: Custom code that gets inserted in the `type_name_get_type()` function.\n@@ -1664,0 +1744,1 @@\n+ *\n@@ -1665,2 +1746,3 @@\n- * allows you to insert custom code into the *_get_type() function, e.g.\n- * interface implementations  via G_IMPLEMENT_INTERFACE().\n+ * allows you to insert custom code into the `*_get_type()` function, e.g.\n+ * interface implementations via G_IMPLEMENT_INTERFACE().\n+ *\n@@ -1676,1 +1758,1 @@\n- *  separated by '_'.\n+ *  separated by `_`.\n@@ -1680,0 +1762,1 @@\n+ *\n@@ -1685,0 +1768,51 @@\n+\/**\n+ * G_DEFINE_FINAL_TYPE:\n+ * @TN: the name of the new type, in Camel case\n+ * @t_n: the name of the new type, in lower case, with words\n+ *   separated by `_` (snake case)\n+ * @T_P: the #GType of the parent type\n+ *\n+ * A convenience macro for type implementations.\n+ *\n+ * Similar to G_DEFINE_TYPE(), but defines a final type.\n+ *\n+ * See G_DEFINE_TYPE_EXTENDED() for an example.\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_DEFINE_FINAL_TYPE(TN, t_n, T_P)                      G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, {}) GLIB_AVAILABLE_MACRO_IN_2_70\n+\/**\n+ * G_DEFINE_FINAL_TYPE_WITH_CODE:\n+ * @TN: the name of the new type, in Camel case\n+ * @t_n: the name of the new type, in lower case, with words\n+ *   separated by `_` (snake case)\n+ * @T_P: the #GType of the parent type\n+ * @_C_: Custom code that gets inserted in the `type_name_get_type()` function.\n+ *\n+ * A convenience macro for type implementations.\n+ *\n+ * Similar to G_DEFINE_TYPE_WITH_CODE(), but defines a final type and\n+ * allows you to insert custom code into the `*_get_type()` function, e.g.\n+ * interface implementations via G_IMPLEMENT_INTERFACE().\n+ *\n+ * See G_DEFINE_TYPE_EXTENDED() for an example.\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_DEFINE_FINAL_TYPE_WITH_CODE(TN, t_n, T_P, _C_)       _G_DEFINE_TYPE_EXTENDED_BEGIN (TN, t_n, T_P, G_TYPE_FLAG_FINAL) {_C_;} _G_DEFINE_TYPE_EXTENDED_END() GLIB_AVAILABLE_MACRO_IN_2_70\n+\/**\n+ * G_DEFINE_FINAL_TYPE_WITH_PRIVATE:\n+ * @TN: the name of the new type, in Camel case\n+ * @t_n: the name of the new type, in lower case, with words\n+ *   separated by `_` (snake case)\n+ * @T_P: the #GType of the parent type\n+ *\n+ * A convenience macro for type implementations.\n+ *\n+ * Similar to G_DEFINE_TYPE_WITH_PRIVATE(), but defines a final type.\n+ *\n+ * See G_DEFINE_TYPE_EXTENDED() for an example.\n+ *\n+ * Since: 2.70\n+ *\/\n+#define G_DEFINE_FINAL_TYPE_WITH_PRIVATE(TN, t_n, T_P)         G_DEFINE_TYPE_EXTENDED (TN, t_n, T_P, G_TYPE_FLAG_FINAL, G_ADD_PRIVATE (TN)) GLIB_AVAILABLE_MACRO_IN_2_70\n@@ -1689,1 +1823,1 @@\n- *    separated by '_'.\n+ *    separated by `_`.\n@@ -1692,1 +1826,1 @@\n- * @_C_: Custom code that gets inserted in the *_get_type() function.\n+ * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n@@ -1706,0 +1840,1 @@\n+ *\n@@ -1707,0 +1842,1 @@\n+ *\n@@ -1727,2 +1863,2 @@\n- *   static volatile gsize g_define_type_id__volatile = 0;\n- *   if (g_once_init_enter (&g_define_type_id__volatile))\n+ *   static gsize static_g_define_type_id = 0;\n+ *   if (g_once_init_enter (&static_g_define_type_id))\n@@ -1748,1 +1884,1 @@\n- *       g_once_init_leave (&g_define_type_id__volatile, g_define_type_id);\n+ *       g_once_init_leave (&static_g_define_type_id, g_define_type_id);\n@@ -1750,1 +1886,1 @@\n- *   return g_define_type_id__volatile;\n+ *   return static_g_define_type_id;\n@@ -1753,0 +1889,1 @@\n+ *\n@@ -1764,3 +1901,3 @@\n- * @t_n: The name of the new type, in lowercase, with words separated by '_'.\n- * @T_P: The #GType of the prerequisite type for the interface, or 0\n- * (%G_TYPE_INVALID) for no prerequisite type.\n+ * @t_n: The name of the new type, in lowercase, with words separated by `_`.\n+ * @T_P: The #GType of the prerequisite type for the interface, or %G_TYPE_INVALID\n+ * for no prerequisite type.\n@@ -1769,1 +1906,1 @@\n- * a default vtable initialization function and defines a *_get_type()\n+ * a default vtable initialization function and defines a `*_get_type()`\n@@ -1784,1 +1921,1 @@\n-#define G_DEFINE_INTERFACE(TN, t_n, T_P)        G_DEFINE_INTERFACE_WITH_CODE(TN, t_n, T_P, ;)\n+#define G_DEFINE_INTERFACE(TN, t_n, T_P)                    G_DEFINE_INTERFACE_WITH_CODE(TN, t_n, T_P, ;)\n@@ -1789,10 +1926,12 @@\n- * @t_n: The name of the new type, in lowercase, with words separated by '_'.\n- * @T_P: The #GType of the prerequisite type for the interface, or 0\n- * (%G_TYPE_INVALID) for no prerequisite type.\n- * @_C_: Custom code that gets inserted in the *_get_type() function.\n- *\n- * A convenience macro for #GTypeInterface definitions. Similar to\n- * G_DEFINE_INTERFACE(), but allows you to insert custom code into the\n- * *_get_type() function, e.g. additional interface implementations\n- * via G_IMPLEMENT_INTERFACE(), or additional prerequisite types. See\n- * G_DEFINE_TYPE_EXTENDED() for a similar example using\n+ * @t_n: The name of the new type, in lowercase, with words separated by `_`.\n+ * @T_P: The #GType of the prerequisite type for the interface, or %G_TYPE_INVALID\n+ * for no prerequisite type.\n+ * @_C_: Custom code that gets inserted in the `*_get_type()` function.\n+ *\n+ * A convenience macro for #GTypeInterface definitions.\n+ *\n+ * Similar to G_DEFINE_INTERFACE(), but allows you to insert custom code\n+ * into the `*_get_type()` function, e.g. additional interface implementations\n+ * via G_IMPLEMENT_INTERFACE(), or additional prerequisite types.\n+ *\n+ * See G_DEFINE_TYPE_EXTENDED() for a similar example using\n@@ -1814,1 +1953,1 @@\n- * Note that this macro can only be used together with the G_DEFINE_TYPE_*\n+ * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n@@ -1849,2 +1988,2 @@\n- * Will add MyObjectPrivate as the private data to any instance of the MyObject\n- * type.\n+ * Will add `MyObjectPrivate` as the private data to any instance of the\n+ * `MyObject` type.\n@@ -1852,1 +1991,1 @@\n- * G_DEFINE_TYPE_* macros will automatically create a private function\n+ * `G_DEFINE_TYPE_*` macros will automatically create a private function\n@@ -1880,1 +2019,7 @@\n- * Note that this macro can only be used together with the G_DEFINE_TYPE_*\n+ * Since GLib 2.72, the returned `MyObjectPrivate` pointer is guaranteed to be\n+ * aligned to at least the alignment of the largest basic GLib type (typically\n+ * this is #guint64 or #gdouble). If you need larger alignment for an element in\n+ * the struct, you should allocate it on the heap (aligned), or arrange for your\n+ * `MyObjectPrivate` struct to be appropriately padded.\n+ *\n+ * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n@@ -1905,1 +2050,1 @@\n- * Note that this macro can only be used together with the G_DEFINE_TYPE_*\n+ * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n@@ -1923,1 +2068,1 @@\n- * Note that this macro can only be used together with the G_DEFINE_TYPE_*\n+ * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n@@ -1942,1 +2087,1 @@\n- * Note that this macro can only be used together with the G_DEFINE_TYPE_*\n+ * Note that this macro can only be used together with the `G_DEFINE_TYPE_*`\n@@ -1995,1 +2140,1 @@\n-  static volatile gsize g_define_type_id__volatile = 0;\n+  static gsize static_g_define_type_id = 0;\n@@ -2000,1 +2145,1 @@\n-  if (g_once_init_enter (&g_define_type_id__volatile))  \\\n+  if (g_once_init_enter (&static_g_define_type_id)) \\\n@@ -2003,3 +2148,3 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id); \\\n-    }         \\\n-  return g_define_type_id__volatile;  \\\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id); \\\n+    }                                   \\\n+  return static_g_define_type_id; \\\n@@ -2021,3 +2166,3 @@\n-#define _G_DEFINE_TYPE_EXTENDED_END() \\\n-      \/* following custom code *\/ \\\n-    }         \\\n+#define _G_DEFINE_TYPE_EXTENDED_END()   \\\n+      \/* following custom code *\/       \\\n+    }                                   \\\n@@ -2041,2 +2186,2 @@\n-  static volatile gsize g_define_type_id__volatile = 0; \\\n-  if (g_once_init_enter (&g_define_type_id__volatile))  \\\n+  static gsize static_g_define_type_id = 0; \\\n+  if (g_once_init_enter (&static_g_define_type_id)) \\\n@@ -2055,6 +2200,6 @@\n-#define _G_DEFINE_INTERFACE_EXTENDED_END()  \\\n-        \/* following custom code *\/   \\\n-      }           \\\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id); \\\n-    }           \\\n-  return g_define_type_id__volatile;      \\\n+#define _G_DEFINE_INTERFACE_EXTENDED_END()      \\\n+        \/* following custom code *\/             \\\n+      }                                         \\\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id); \\\n+    }                                           \\\n+  return static_g_define_type_id; \\\n@@ -2071,2 +2216,17 @@\n- * A convenience macro for boxed type implementations, which defines a\n- * type_name_get_type() function registering the boxed type.\n+ * A convenience macro for defining a new custom boxed type.\n+ *\n+ * Using this macro is the recommended way of defining new custom boxed\n+ * types, over calling g_boxed_type_register_static() directly. It defines\n+ * a 'type_name_get_type()' function which will return the newly defined\n+ * #GType, enabling lazy instantiation.\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * G_DEFINE_BOXED_TYPE (MyStruct, my_struct, my_struct_copy, my_struct_free)\n+ *\n+ * void\n+ * foo ()\n+ * {\n+ *   GType type = my_struct_get_type ();\n+ *   \/\/ ... your code ...\n+ * }\n+ * ]|\n@@ -2081,1 +2241,1 @@\n- *  separated by '_'\n+ *  separated by `_`\n@@ -2084,1 +2244,1 @@\n- * @_C_: Custom code that gets inserted in the *_get_type() function\n+ * @_C_: Custom code that gets inserted in the `*_get_type()` function\n@@ -2087,0 +2247,1 @@\n+ *\n@@ -2088,1 +2249,1 @@\n- * type_name_get_type() function, e.g. to register value transformations with\n+ * `type_name_get_type()` function, e.g. to register value transformations with\n@@ -2098,1 +2259,1 @@\n- * Similarly to the %G_DEFINE_TYPE family of macros, the #GType of the newly\n+ * Similarly to the `G_DEFINE_TYPE_*` family of macros, the #GType of the newly\n@@ -2108,1 +2269,1 @@\n-#if !defined (__cplusplus) && (__GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 7)) && !(defined (__APPLE__) && defined (__ppc64__))\n+#if !defined (__cplusplus) && (G_GNUC_CHECK_VERSION(2, 7)) && !(defined (__APPLE__) && defined (__ppc64__))\n@@ -2115,2 +2276,2 @@\n-  static volatile gsize g_define_type_id__volatile = 0; \\\n-  if (g_once_init_enter (&g_define_type_id__volatile))  \\\n+  static gsize static_g_define_type_id = 0; \\\n+  if (g_once_init_enter (&static_g_define_type_id)) \\\n@@ -2119,1 +2280,1 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id); \\\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id); \\\n@@ -2121,1 +2282,1 @@\n-  return g_define_type_id__volatile; \\\n+  return static_g_define_type_id; \\\n@@ -2152,2 +2313,2 @@\n-  static volatile gsize g_define_type_id__volatile = 0; \\\n-  if (g_once_init_enter (&g_define_type_id__volatile))  \\\n+  static gsize static_g_define_type_id = 0; \\\n+  if (g_once_init_enter (&static_g_define_type_id)) \\\n@@ -2156,1 +2317,1 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id); \\\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id); \\\n@@ -2158,1 +2319,1 @@\n-  return g_define_type_id__volatile; \\\n+  return static_g_define_type_id; \\\n@@ -2176,1 +2337,1 @@\n- *  separated by '_'\n+ *  separated by `_`\n@@ -2179,1 +2340,1 @@\n- * type_name_get_type() function registering the pointer type.\n+ * `type_name_get_type()` function registering the pointer type.\n@@ -2188,2 +2349,2 @@\n- *  separated by '_'\n- * @_C_: Custom code that gets inserted in the *_get_type() function\n+ *  separated by `_`\n+ * @_C_: Custom code that gets inserted in the `*_get_type()` function\n@@ -2193,1 +2354,1 @@\n- * custom code into the type_name_get_type() function.\n+ * custom code into the `type_name_get_type()` function.\n@@ -2205,2 +2366,2 @@\n-  static volatile gsize g_define_type_id__volatile = 0; \\\n-  if (g_once_init_enter (&g_define_type_id__volatile))  \\\n+  static gsize static_g_define_type_id = 0; \\\n+  if (g_once_init_enter (&static_g_define_type_id)) \\\n@@ -2209,1 +2370,1 @@\n-      g_once_init_leave (&g_define_type_id__volatile, g_define_type_id); \\\n+      g_once_init_leave (&static_g_define_type_id, g_define_type_id); \\\n@@ -2211,1 +2372,1 @@\n-  return g_define_type_id__volatile; \\\n+  return static_g_define_type_id; \\\n@@ -2224,1 +2385,1 @@\n-GTypePlugin*   g_type_get_plugin    (GType         type);\n+GTypePlugin*     g_type_get_plugin              (GType               type);\n@@ -2226,2 +2387,2 @@\n-GTypePlugin*   g_type_interface_get_plugin  (GType         instance_type,\n-             GType               interface_type);\n+GTypePlugin*     g_type_interface_get_plugin    (GType               instance_type,\n+                                                 GType               interface_type);\n@@ -2229,1 +2390,1 @@\n-GType    g_type_fundamental_next  (void);\n+GType            g_type_fundamental_next        (void);\n@@ -2231,1 +2392,1 @@\n-GType    g_type_fundamental   (GType         type_id);\n+GType            g_type_fundamental             (GType               type_id);\n@@ -2238,2 +2399,2 @@\n-void     g_type_add_class_cache_func    (gpointer      cache_data,\n-             GTypeClassCacheFunc cache_func);\n+void             g_type_add_class_cache_func    (gpointer            cache_data,\n+                                                 GTypeClassCacheFunc cache_func);\n@@ -2241,2 +2402,2 @@\n-void     g_type_remove_class_cache_func (gpointer      cache_data,\n-             GTypeClassCacheFunc cache_func);\n+void             g_type_remove_class_cache_func (gpointer            cache_data,\n+                                                 GTypeClassCacheFunc cache_func);\n@@ -2247,2 +2408,2 @@\n-void             g_type_add_interface_check     (gpointer          check_data,\n-             GTypeInterfaceCheckFunc check_func);\n+void             g_type_add_interface_check     (gpointer                check_data,\n+                                                 GTypeInterfaceCheckFunc check_func);\n@@ -2250,2 +2411,2 @@\n-void             g_type_remove_interface_check  (gpointer          check_data,\n-             GTypeInterfaceCheckFunc check_func);\n+void             g_type_remove_interface_check  (gpointer                check_data,\n+                                                 GTypeInterfaceCheckFunc check_func);\n@@ -2254,1 +2415,1 @@\n-GTypeValueTable* g_type_value_table_peek        (GType         type);\n+GTypeValueTable* g_type_value_table_peek        (GType               type);\n@@ -2259,1 +2420,1 @@\n-gboolean   g_type_check_instance          (GTypeInstance      *instance) G_GNUC_PURE;\n+gboolean         g_type_check_instance          (GTypeInstance      *instance) G_GNUC_PURE;\n@@ -2262,1 +2423,1 @@\n-             GType               iface_type);\n+                                                 GType               iface_type);\n@@ -2264,2 +2425,2 @@\n-gboolean         g_type_check_instance_is_a (GTypeInstance      *instance,\n-             GType               iface_type) G_GNUC_PURE;\n+gboolean         g_type_check_instance_is_a     (GTypeInstance      *instance,\n+                                                 GType               iface_type) G_GNUC_PURE;\n@@ -2271,1 +2432,1 @@\n-             GType               is_a_type);\n+                                                 GType               is_a_type);\n@@ -2274,1 +2435,1 @@\n-             GType               is_a_type) G_GNUC_PURE;\n+                                                 GType               is_a_type) G_GNUC_PURE;\n@@ -2276,1 +2437,1 @@\n-gboolean   g_type_check_is_value_type     (GType         type) G_GNUC_CONST;\n+gboolean         g_type_check_is_value_type     (GType               type) G_GNUC_CONST;\n@@ -2278,1 +2439,1 @@\n-gboolean   g_type_check_value             (const GValue       *value) G_GNUC_PURE;\n+gboolean         g_type_check_value             (const GValue       *value) G_GNUC_PURE;\n@@ -2280,2 +2441,2 @@\n-gboolean   g_type_check_value_holds (const GValue     *value,\n-             GType         type) G_GNUC_PURE;\n+gboolean         g_type_check_value_holds       (const GValue       *value,\n+                                                 GType               type) G_GNUC_PURE;\n@@ -2284,1 +2445,1 @@\n-             guint               flags) G_GNUC_CONST;\n+                                                 guint               flags) G_GNUC_CONST;\n@@ -2291,1 +2452,1 @@\n-const gchar *    g_type_name_from_class         (GTypeClass *g_class);\n+const gchar *    g_type_name_from_class         (GTypeClass     *g_class);\n@@ -2297,1 +2458,1 @@\n-    ((ct*) g_type_check_instance_cast ((GTypeInstance*) ip, gt))\n+    ((ct*) (void *) g_type_check_instance_cast ((GTypeInstance*) ip, gt))\n@@ -2299,1 +2460,1 @@\n-    ((ct*) g_type_check_class_cast ((GTypeClass*) cp, gt))\n+    ((ct*) (void *) g_type_check_class_cast ((GTypeClass*) cp, gt))\n@@ -2304,2 +2465,2 @@\n-#define _G_TYPE_CHI(ip)     (g_type_check_instance ((GTypeInstance*) ip))\n-#define _G_TYPE_CHV(vl)     (g_type_check_value ((GValue*) vl))\n+#define _G_TYPE_CHI(ip)                 (g_type_check_instance ((GTypeInstance*) ip))\n+#define _G_TYPE_CHV(vl)                 (g_type_check_value ((GValue*) vl))\n@@ -2334,1 +2495,1 @@\n-  else if (__val->g_type == __t)    \\\n+  else if (__val->g_type == __t)                \\\n@@ -2350,1 +2511,1 @@\n-#define G_TYPE_FLAG_RESERVED_ID_BIT ((GType) (1 << 0))\n+#define G_TYPE_FLAG_RESERVED_ID_BIT     ((GType) (1 << 0))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtype.h","additions":437,"deletions":276,"binary":false,"changes":713,"status":"modified"},{"patch":"@@ -22,1 +22,0 @@\n-#include \"gstrfuncsprivate.h\"\n@@ -34,2 +33,5 @@\n- * interface. The model of #GTypeModule is a dynamically loaded module\n- * which implements some number of types and interface implementations.\n+ * interface.\n+ *\n+ * The model of #GTypeModule is a dynamically loaded module which\n+ * implements some number of types and interface implementations.\n+ *\n@@ -42,2 +44,3 @@\n- * unref cannot happen in module code, since that would lead to the\n- * caller's code being unloaded before g_object_unref() returns to it.\n+ * reference cannot be released from within the module code, since that\n+ * would lead to the caller's code being unloaded before g_object_unref()\n+ * returns to it.\n@@ -61,1 +64,0 @@\n-\n@@ -155,0 +157,1 @@\n+        NULL,           \/* value_table *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypemodule.c","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -96,3 +96,4 @@\n- * `t_n`_parent_class pointing to the parent class. Furthermore,\n- * it defines a `*_get_type()` and a static `*_register_type()` functions\n- * for use in your `module_init()`.\n+ * `t_n`_parent_class pointing to the parent class.\n+ *\n+ * Furthermore, it defines a `*_get_type()` and a static `*_register_type()`\n+ * functions for use in your `module_init()`.\n@@ -117,1 +118,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n@@ -125,0 +126,1 @@\n+ *\n@@ -126,1 +128,2 @@\n- * |[\n+ *\n+ * |[<!-- language=\"C\" -->\n@@ -230,2 +233,3 @@\n- * of G_DEFINE_DYNAMIC_TYPE_EXTENDED(). See G_DEFINE_DYNAMIC_TYPE_EXTENDED()\n- * for an example.\n+ * of G_DEFINE_DYNAMIC_TYPE_EXTENDED().\n+ *\n+ * See G_DEFINE_DYNAMIC_TYPE_EXTENDED() for an example.\n@@ -251,2 +255,3 @@\n- * type in the @_C_ section of G_DEFINE_DYNAMIC_TYPE_EXTENDED(). See\n- * G_ADD_PRIVATE() for details, it is similar but for static types.\n+ * type in the @_C_ section of G_DEFINE_DYNAMIC_TYPE_EXTENDED().\n+ *\n+ * See G_ADD_PRIVATE() for details, it is similar but for static types.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypemodule.h","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -29,0 +29,2 @@\n+ * An interface that handles the lifecycle of dynamically loaded types.\n+ *\n@@ -30,2 +32,1 @@\n- * The #GTypePlugin interface is used to handle the lifecycle\n- * of dynamically loaded types. It goes as follows:\n+ * It goes as follows:\n@@ -88,3 +89,10 @@\n-  sizeof (GTypePluginClass),\n-  NULL,           \/* base_init *\/\n-  NULL,           \/* base_finalize *\/\n+        sizeof (GTypePluginClass),\n+        NULL,           \/* base_init *\/\n+        NULL,           \/* base_finalize *\/\n+        0,              \/* class_init *\/\n+        NULL,           \/* class_destroy *\/\n+        NULL,           \/* class_data *\/\n+        0,              \/* instance_size *\/\n+        0,              \/* n_preallocs *\/\n+        NULL,           \/* instance_init *\/\n+        NULL,           \/* value_table *\/\n@@ -170,1 +178,1 @@\n- * @instance_type: the #GType of an instantiable type to which the interface\n+ * @instance_type: the #GType of an instantiatable type to which the interface\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypeplugin.c","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n- * @instance_type: the #GType of an instantiable type to which the interface\n+ * @instance_type: the #GType of an instantiatable type to which the interface\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gtypeplugin.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+ *\n@@ -47,0 +48,1 @@\n+ *\n@@ -49,1 +51,4 @@\n- * function. A #GValue cannot be used until it is initialized.\n+ * function. A #GValue cannot be used until it is initialized. Before\n+ * destruction you must always use g_value_unset() to make sure allocated\n+ * memory is freed.\n+ *\n@@ -112,0 +117,28 @@\n+ *\n+ * See also [gobject-Standard-Parameter-and-Value-Types] for more information on\n+ * validation of #GValue.\n+ *\n+ * For letting a #GValue own (and memory manage) arbitrary types or pointers,\n+ * they need to become a [boxed type][gboxed]. The example below shows how\n+ * the pointer `mystruct` of type `MyStruct` is used as a [boxed type][gboxed].\n+ *\n+ * |[<!-- language=\"C\" -->\n+ * typedef struct { ... } MyStruct;\n+ * G_DEFINE_BOXED_TYPE (MyStruct, my_struct, my_struct_copy, my_struct_free)\n+ *\n+ * \/\/ These two lines normally go in a public header. By GObject convention,\n+ * \/\/ the naming scheme is NAMESPACE_TYPE_NAME:\n+ * #define MY_TYPE_STRUCT (my_struct_get_type ())\n+ * GType my_struct_get_type (void);\n+ *\n+ * void\n+ * foo ()\n+ * {\n+ *   GValue *value = g_new0 (GValue, 1);\n+ *   g_value_init (value, MY_TYPE_STRUCT);\n+ *   g_value_set_boxed (value, mystruct);\n+ *   \/\/ [... your code ....]\n+ *   g_value_unset (value);\n+ *   g_value_free (value);\n+ * }\n+ * ]|\n@@ -124,2 +157,2 @@\n-static gint transform_entries_cmp (gconstpointer bsearch_node1,\n-           gconstpointer bsearch_node2);\n+static gint     transform_entries_cmp   (gconstpointer bsearch_node1,\n+                                         gconstpointer bsearch_node2);\n@@ -144,1 +177,1 @@\n-static inline void    \/* keep this function in sync with gvaluecollector.h and gboxed.c *\/\n+static inline void              \/* keep this function in sync with gvaluecollector.h and gboxed.c *\/\n@@ -146,1 +179,1 @@\n-         GType   value_type)\n+               GType   value_type)\n@@ -166,1 +199,1 @@\n-  \/* g_return_val_if_fail (G_TYPE_IS_VALUE (g_type), NULL); be more elaborate below *\/\n+  \/* g_return_val_if_fail (G_TYPE_IS_VALUE (g_type), NULL);     be more elaborate below *\/\n@@ -168,1 +201,1 @@\n-  \/* g_return_val_if_fail (G_VALUE_TYPE (value) == 0, NULL);  be more elaborate below *\/\n+  \/* g_return_val_if_fail (G_VALUE_TYPE (value) == 0, NULL);    be more elaborate below *\/\n@@ -180,3 +213,3 @@\n-         G_STRLOC,\n-         g_type_name (g_type),\n-         g_type_name (G_VALUE_TYPE (value)));\n+               G_STRLOC,\n+               g_type_name (g_type),\n+               g_type_name (G_VALUE_TYPE (value)));\n@@ -200,1 +233,1 @@\n-        GValue       *dest_value)\n+              GValue       *dest_value)\n@@ -215,1 +248,1 @@\n-  value_table->value_free (dest_value);\n+        value_table->value_free (dest_value);\n@@ -451,0 +484,9 @@\n+static GType\n+transform_lookup_get_parent_type (GType type)\n+{\n+  if (g_type_fundamental (type) == G_TYPE_INTERFACE)\n+    return g_type_interface_instantiatable_prerequisite (type);\n+\n+  return g_type_parent (type);\n+}\n+\n@@ -462,13 +504,13 @@\n-  {\n-    TransformEntry *e;\n-\n-    e = g_bsearch_array_lookup (transform_array, &transform_bconfig, &entry);\n-    if (e)\n-      {\n-        \/* need to check that there hasn't been a change in value handling *\/\n-        if (g_type_value_table_peek (entry.dest_type) == g_type_value_table_peek (dest_type) &&\n-      g_type_value_table_peek (entry.src_type) == g_type_value_table_peek (src_type))\n-    return e->func;\n-      }\n-    entry.dest_type = g_type_parent (entry.dest_type);\n-  }\n+        {\n+          TransformEntry *e;\n+\n+          e = g_bsearch_array_lookup (transform_array, &transform_bconfig, &entry);\n+          if (e)\n+            {\n+              \/* need to check that there hasn't been a change in value handling *\/\n+              if (g_type_value_table_peek (entry.dest_type) == g_type_value_table_peek (dest_type) &&\n+                  g_type_value_table_peek (entry.src_type) == g_type_value_table_peek (src_type))\n+                return e->func;\n+            }\n+          entry.dest_type = transform_lookup_get_parent_type (entry.dest_type);\n+        }\n@@ -477,1 +519,1 @@\n-      entry.src_type = g_type_parent (entry.src_type);\n+      entry.src_type = transform_lookup_get_parent_type (entry.src_type);\n@@ -557,1 +599,1 @@\n-    transform_func_lookup (src_type, dest_type) != NULL);\n+          transform_func_lookup (src_type, dest_type) != NULL);\n@@ -622,2 +664,2 @@\n-  {\n-    g_value_unset (dest_value);\n+        {\n+          g_value_unset (dest_value);\n@@ -625,3 +667,3 @@\n-    \/* setup and transform *\/\n-    value_meminit (dest_value, dest_type);\n-    transform (src_value, dest_value);\n+          \/* setup and transform *\/\n+          value_meminit (dest_value, dest_type);\n+          transform (src_value, dest_value);\n@@ -629,2 +671,2 @@\n-    return TRUE;\n-  }\n+          return TRUE;\n+        }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvalue.c","additions":76,"deletions":34,"binary":false,"changes":110,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+ *\n@@ -100,0 +101,1 @@\n+ *\n@@ -104,0 +106,1 @@\n+ *\n@@ -196,1 +199,1 @@\n- * |[\n+ * |[<!-- language=\"C\" -->\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvalue.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ *\n@@ -43,2 +44,2 @@\n-  G_VALUE_COLLECT_INT       = 'i',\n-  G_VALUE_COLLECT_LONG      = 'l',\n+  G_VALUE_COLLECT_INT           = 'i',\n+  G_VALUE_COLLECT_LONG          = 'l',\n@@ -46,2 +47,2 @@\n-  G_VALUE_COLLECT_DOUBLE    = 'd',\n-  G_VALUE_COLLECT_POINTER   = 'p'\n+  G_VALUE_COLLECT_DOUBLE        = 'd',\n+  G_VALUE_COLLECT_POINTER       = 'p'\n@@ -82,3 +83,4 @@\n- * Collects a variable argument value from a va_list. We have to\n- * implement the varargs collection as a macro, because on some systems\n- * va_list variables cannot be passed by reference.\n+ * Collects a variable argument value from a `va_list`.\n+ *\n+ * We have to implement the varargs collection as a macro, because on some\n+ * systems `va_list` variables cannot be passed by reference.\n@@ -89,8 +91,8 @@\n-#define G_VALUE_COLLECT_INIT(value, _value_type, var_args, flags, __error)      \\\n-G_STMT_START {                                      \\\n-  GValue *g_vci_val = (value);                              \\\n-  guint g_vci_flags = (flags);                              \\\n-  GTypeValueTable *g_vci_vtab = g_type_value_table_peek (_value_type);          \\\n-  const gchar *g_vci_collect_format = g_vci_vtab->collect_format;                   \\\n-  GTypeCValue g_vci_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };       \\\n-  guint g_vci_n_values = 0;                                 \\\n+#define G_VALUE_COLLECT_INIT(value, _value_type, var_args, flags, __error)              \\\n+G_STMT_START {                                                                          \\\n+  GValue *g_vci_val = (value);                                                          \\\n+  guint g_vci_flags = (flags);                                                          \\\n+  GTypeValueTable *g_vci_vtab = g_type_value_table_peek (_value_type);                  \\\n+  const gchar *g_vci_collect_format = g_vci_vtab->collect_format;                                       \\\n+  GTypeCValue g_vci_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };           \\\n+  guint g_vci_n_values = 0;                                                                     \\\n@@ -98,4 +100,4 @@\n-  g_vci_val->g_type = _value_type;      \/* value_meminit() from gvalue.c *\/     \\\n-  while (*g_vci_collect_format)                             \\\n-    {                                           \\\n-      GTypeCValue *g_vci_cvalue = g_vci_cvalues + g_vci_n_values++;                 \\\n+  g_vci_val->g_type = _value_type;              \/* value_meminit() from gvalue.c *\/             \\\n+  while (*g_vci_collect_format)                                                         \\\n+    {                                                                                   \\\n+      GTypeCValue *g_vci_cvalue = g_vci_cvalues + g_vci_n_values++;                                     \\\n@@ -103,25 +105,25 @@\n-      switch (*g_vci_collect_format++)                          \\\n-    {                                       \\\n-    case G_VALUE_COLLECT_INT:                           \\\n-      g_vci_cvalue->v_int = va_arg ((var_args), gint);                  \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_LONG:                          \\\n-      g_vci_cvalue->v_long = va_arg ((var_args), glong);                    \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_INT64:                         \\\n-      g_vci_cvalue->v_int64 = va_arg ((var_args), gint64);              \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_DOUBLE:                            \\\n-      g_vci_cvalue->v_double = va_arg ((var_args), gdouble);                \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_POINTER:                           \\\n-      g_vci_cvalue->v_pointer = va_arg ((var_args), gpointer);              \\\n-      break;                                    \\\n-    default:                                    \\\n-      g_assert_not_reached ();                          \\\n-    }                                       \\\n-    }                                           \\\n-  *(__error) = g_vci_vtab->collect_value (g_vci_val,                        \\\n-                       g_vci_n_values,                  \\\n-                       g_vci_cvalues,                   \\\n-                       g_vci_flags);                        \\\n+      switch (*g_vci_collect_format++)                                                  \\\n+        {                                                                               \\\n+        case G_VALUE_COLLECT_INT:                                                       \\\n+          g_vci_cvalue->v_int = va_arg ((var_args), gint);                                      \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_LONG:                                                      \\\n+          g_vci_cvalue->v_long = va_arg ((var_args), glong);                                    \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_INT64:                                                     \\\n+          g_vci_cvalue->v_int64 = va_arg ((var_args), gint64);                          \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_DOUBLE:                                                    \\\n+          g_vci_cvalue->v_double = va_arg ((var_args), gdouble);                                \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_POINTER:                                                   \\\n+          g_vci_cvalue->v_pointer = va_arg ((var_args), gpointer);                              \\\n+          break;                                                                        \\\n+        default:                                                                        \\\n+          g_assert_not_reached ();                                                      \\\n+        }                                                                               \\\n+    }                                                                                   \\\n+  *(__error) = g_vci_vtab->collect_value (g_vci_val,                                            \\\n+                                       g_vci_n_values,                                  \\\n+                                       g_vci_cvalues,                                   \\\n+                                       g_vci_flags);                                            \\\n@@ -189,3 +191,4 @@\n- * Collects a variable argument value from a va_list. We have to\n- * implement the varargs collection as a macro, because on some systems\n- * va_list variables cannot be passed by reference.\n+ * Collects a variable argument value from a `va_list`.\n+ *\n+ * We have to implement the varargs collection as a macro, because on some systems\n+ * `va_list` variables cannot be passed by reference.\n@@ -194,2 +197,2 @@\n- * you should use the #G_VALUE_COLLECT_INIT variant and pass the uninitialized\n- * #GValue. That variant is faster than #G_VALUE_COLLECT.\n+ * you should use the G_VALUE_COLLECT_INIT() variant and pass the uninitialized\n+ * #GValue. That variant is faster than G_VALUE_COLLECT().\n@@ -197,4 +200,4 @@\n-#define G_VALUE_COLLECT(value, var_args, flags, __error) G_STMT_START {         \\\n-  GValue *g_vc_value = (value);                             \\\n-  GType g_vc_value_type = G_VALUE_TYPE (g_vc_value);                        \\\n-  GTypeValueTable *g_vc_vtable = g_type_value_table_peek (g_vc_value_type);         \\\n+#define G_VALUE_COLLECT(value, var_args, flags, __error) G_STMT_START {                 \\\n+  GValue *g_vc_value = (value);                                                         \\\n+  GType g_vc_value_type = G_VALUE_TYPE (g_vc_value);                                            \\\n+  GTypeValueTable *g_vc_vtable = g_type_value_table_peek (g_vc_value_type);                     \\\n@@ -202,3 +205,3 @@\n-  if (g_vc_vtable->value_free)                              \\\n-    g_vc_vtable->value_free (g_vc_value);                           \\\n-  memset (g_vc_value->data, 0, sizeof (g_vc_value->data));                  \\\n+  if (g_vc_vtable->value_free)                                                          \\\n+    g_vc_vtable->value_free (g_vc_value);                                                       \\\n+  memset (g_vc_value->data, 0, sizeof (g_vc_value->data));                                      \\\n@@ -206,1 +209,1 @@\n-  G_VALUE_COLLECT_INIT(value, g_vc_value_type, var_args, flags, __error);           \\\n+  G_VALUE_COLLECT_INIT(value, g_vc_value_type, var_args, flags, __error);                       \\\n@@ -216,4 +219,4 @@\n-#define G_VALUE_COLLECT_SKIP(_value_type, var_args)                 \\\n-G_STMT_START {                                      \\\n-  GTypeValueTable *g_vcs_vtable = g_type_value_table_peek (_value_type);            \\\n-  const gchar *g_vcs_collect_format = g_vcs_vtable->collect_format;             \\\n+#define G_VALUE_COLLECT_SKIP(_value_type, var_args)                                     \\\n+G_STMT_START {                                                                          \\\n+  GTypeValueTable *g_vcs_vtable = g_type_value_table_peek (_value_type);                        \\\n+  const gchar *g_vcs_collect_format = g_vcs_vtable->collect_format;                             \\\n@@ -221,23 +224,23 @@\n-  while (*g_vcs_collect_format)                             \\\n-    {                                           \\\n-      switch (*g_vcs_collect_format++)                          \\\n-    {                                       \\\n-    case G_VALUE_COLLECT_INT:                           \\\n-      va_arg ((var_args), gint);                            \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_LONG:                          \\\n-      va_arg ((var_args), glong);                           \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_INT64:                         \\\n-      va_arg ((var_args), gint64);                          \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_DOUBLE:                            \\\n-      va_arg ((var_args), gdouble);                         \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_POINTER:                           \\\n-      va_arg ((var_args), gpointer);                        \\\n-      break;                                    \\\n-    default:                                    \\\n-      g_assert_not_reached ();                          \\\n-    }                                       \\\n-    }                                           \\\n+  while (*g_vcs_collect_format)                                                         \\\n+    {                                                                                   \\\n+      switch (*g_vcs_collect_format++)                                                  \\\n+        {                                                                               \\\n+        case G_VALUE_COLLECT_INT:                                                       \\\n+          va_arg ((var_args), gint);                                                    \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_LONG:                                                      \\\n+          va_arg ((var_args), glong);                                                   \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_INT64:                                                     \\\n+          va_arg ((var_args), gint64);                                                  \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_DOUBLE:                                                    \\\n+          va_arg ((var_args), gdouble);                                                 \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_POINTER:                                                   \\\n+          va_arg ((var_args), gpointer);                                                \\\n+          break;                                                                        \\\n+        default:                                                                        \\\n+          g_assert_not_reached ();                                                      \\\n+        }                                                                               \\\n+    }                                                                                   \\\n@@ -260,13 +263,9 @@\n-#define G_VALUE_LCOPY(value, var_args, flags, __error)                  \\\n-G_STMT_START {                                      \\\n-  const GValue *g_vl_value = (value);                           \\\n-  guint g_vl_flags = (flags);                               \\\n-  GType g_vl_value_type = G_VALUE_TYPE (g_vl_value);                        \\\n-  GTypeValueTable *g_vl_vtable = g_type_value_table_peek (g_vl_value_type);         \\\n-  const gchar *g_vl_lcopy_format = g_vl_vtable->lcopy_format;                   \\\n-  GTypeCValue g_vl_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };        \\\n-  guint g_vl_n_values = 0;                                  \\\n-                                             \\\n-  while (*g_vl_lcopy_format)                                \\\n-    {                                           \\\n-      GTypeCValue *g_vl_cvalue = g_vl_cvalues + g_vl_n_values++;                    \\\n+#define G_VALUE_LCOPY(value, var_args, flags, __error)                                  \\\n+G_STMT_START {                                                                          \\\n+  const GValue *g_vl_value = (value);                                                   \\\n+  guint g_vl_flags = (flags);                                                           \\\n+  GType g_vl_value_type = G_VALUE_TYPE (g_vl_value);                                            \\\n+  GTypeValueTable *g_vl_vtable = g_type_value_table_peek (g_vl_value_type);                     \\\n+  const gchar *g_vl_lcopy_format = g_vl_vtable->lcopy_format;                                   \\\n+  GTypeCValue g_vl_cvalues[G_VALUE_COLLECT_FORMAT_MAX_LENGTH] = { { 0, }, };            \\\n+  guint g_vl_n_values = 0;                                                                      \\\n@@ -274,25 +273,29 @@\n-      switch (*g_vl_lcopy_format++)                             \\\n-    {                                       \\\n-    case G_VALUE_COLLECT_INT:                           \\\n-      g_vl_cvalue->v_int = va_arg ((var_args), gint);                   \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_LONG:                          \\\n-      g_vl_cvalue->v_long = va_arg ((var_args), glong);                 \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_INT64:                         \\\n-      g_vl_cvalue->v_int64 = va_arg ((var_args), gint64);               \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_DOUBLE:                            \\\n-      g_vl_cvalue->v_double = va_arg ((var_args), gdouble);             \\\n-      break;                                    \\\n-    case G_VALUE_COLLECT_POINTER:                           \\\n-      g_vl_cvalue->v_pointer = va_arg ((var_args), gpointer);               \\\n-      break;                                    \\\n-    default:                                    \\\n-      g_assert_not_reached ();                          \\\n-    }                                       \\\n-    }                                           \\\n-  *(__error) = g_vl_vtable->lcopy_value (g_vl_value,                        \\\n-                     g_vl_n_values,                     \\\n-                     g_vl_cvalues,                      \\\n-                     g_vl_flags);                       \\\n+  while (*g_vl_lcopy_format)                                                            \\\n+    {                                                                                   \\\n+      GTypeCValue *g_vl_cvalue = g_vl_cvalues + g_vl_n_values++;                                        \\\n+                                                                                        \\\n+      switch (*g_vl_lcopy_format++)                                                             \\\n+        {                                                                               \\\n+        case G_VALUE_COLLECT_INT:                                                       \\\n+          g_vl_cvalue->v_int = va_arg ((var_args), gint);                                       \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_LONG:                                                      \\\n+          g_vl_cvalue->v_long = va_arg ((var_args), glong);                                     \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_INT64:                                                     \\\n+          g_vl_cvalue->v_int64 = va_arg ((var_args), gint64);                           \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_DOUBLE:                                                    \\\n+          g_vl_cvalue->v_double = va_arg ((var_args), gdouble);                         \\\n+          break;                                                                        \\\n+        case G_VALUE_COLLECT_POINTER:                                                   \\\n+          g_vl_cvalue->v_pointer = va_arg ((var_args), gpointer);                               \\\n+          break;                                                                        \\\n+        default:                                                                        \\\n+          g_assert_not_reached ();                                                      \\\n+        }                                                                               \\\n+    }                                                                                   \\\n+  *(__error) = g_vl_vtable->lcopy_value (g_vl_value,                                            \\\n+                                     g_vl_n_values,                                             \\\n+                                     g_vl_cvalues,                                              \\\n+                                     g_vl_flags);                                               \\\n@@ -358,1 +361,1 @@\n-#define G_VALUE_COLLECT_FORMAT_MAX_LENGTH   (8)\n+#define G_VALUE_COLLECT_FORMAT_MAX_LENGTH       (8)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluecollector.h","additions":126,"deletions":123,"binary":false,"changes":249,"status":"modified"},{"patch":"@@ -1027,1 +1027,1 @@\n- * Set the contents of a %G_TYPE_STRING #GValue to @v_string.\n+ * Set the contents of a %G_TYPE_STRING #GValue to a copy of @v_string.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluetypes.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -309,1 +309,1 @@\n- * A C representable type name for #G_TYPE_STRING.\n+ * A C representable type name for %G_TYPE_STRING.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/gobject\/gvaluetypes.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,14 +25,1 @@\n-#include <gst\/tag\/tag.h>\n-\n-#include <gst\/gst-i18n-plugin.h>\n-\n-#include \"aiffparse.h\"\n-#ifndef GSTREAMER_LITE\n-#include \"aiffmux.h\"\n-#endif\n-\n-GST_DEBUG_CATEGORY_STATIC (aiff_debug);\n-#define GST_CAT_DEFAULT (aiff_debug)\n-\n-GST_DEBUG_CATEGORY_EXTERN (aiffparse_debug);\n-GST_DEBUG_CATEGORY_EXTERN (aiffmux_debug);\n+#include \"aiffelements.h\"\n@@ -48,1 +35,1 @@\n-  gboolean ret;\n+  gboolean ret = FALSE;\n@@ -50,17 +37,1 @@\n-#ifdef GSTREAMER_LITE\n-  GST_DEBUG_CATEGORY_INIT (aiffparse_debug, \"aiffparse\", 0, \"AIFF parser\");\n-#else\n-  GST_DEBUG_CATEGORY_INIT (aiff_debug, \"aiff\", 0, \"AIFF plugin\");\n-  GST_DEBUG_CATEGORY_INIT (aiffparse_debug, \"aiffparse\", 0, \"AIFF parser\");\n-  GST_DEBUG_CATEGORY_INIT (aiffmux_debug, \"aiffmux\", 0, \"AIFF muxer\");\n-#endif\n-\n-#ifdef ENABLE_NLS\n-  GST_DEBUG (\"binding text domain %s to locale dir %s\", GETTEXT_PACKAGE,\n-      LOCALEDIR);\n-  bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n-  bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n-#endif\n-\n-  ret = gst_element_register (plugin, \"aiffparse\", GST_RANK_PRIMARY,\n-      GST_TYPE_AIFF_PARSE);\n+  ret |= GST_ELEMENT_REGISTER (aiffparse, plugin);\n@@ -68,2 +39,1 @@\n-  ret &= gst_element_register (plugin, \"aiffmux\", GST_RANK_PRIMARY,\n-      GST_TYPE_AIFF_MUX);\n+  ret |= GST_ELEMENT_REGISTER (aiffmux, plugin);\n@@ -72,2 +42,0 @@\n-  gst_tag_register_musicbrainz_tags ();\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/aiff.c","additions":4,"deletions":36,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -0,0 +1,37 @@\n+\/* GStreamer\n+ * Copyright (C) <2020> The GStreamer Contributors.\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+\n+#ifndef __GST_AIFF_ELEMENTS_H__\n+#define __GST_AIFF_ELEMENTS_H__\n+\n+#ifdef HAVE_CONFIG_H\n+#include <config.h>\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+G_GNUC_INTERNAL void aiff_element_init (GstPlugin * plugin);\n+\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (aiffmux);\n+#endif \/\/ GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (aiffparse);\n+\n+#endif \/* __GST_AIFF_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/aiffelements.h","additions":37,"deletions":0,"binary":false,"changes":37,"status":"added"},{"patch":"@@ -55,0 +55,1 @@\n+#include \"aiffelements.h\"\n@@ -107,1 +108,4 @@\n-G_DEFINE_TYPE (GstAiffParse, gst_aiff_parse, GST_TYPE_ELEMENT);\n+G_DEFINE_TYPE_WITH_CODE (GstAiffParse, gst_aiff_parse, GST_TYPE_ELEMENT,\n+    GST_DEBUG_CATEGORY_INIT (aiffparse_debug, \"aiffparse\", 0, \"AIFF parser\"));\n+GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (aiffparse, \"aiffparse\", GST_RANK_PRIMARY,\n+    GST_TYPE_AIFF_PARSE, aiff_element_init (plugin));\n@@ -835,1 +839,1 @@\n-  guint64 channel_mask;\n+  guint64 channel_mask = 0;\n@@ -873,31 +877,27 @@\n-  if (aiff->channels > 2) {\n-    GST_FIXME_OBJECT (aiff, \"using fallback channel layout for %d channels\",\n-        aiff->channels);\n-\n-    \/* based on AIFF-1.3.pdf *\/\n-    switch (aiff->channels) {\n-      case 1:\n-        channel_mask = 0;\n-        break;\n-      case 2:\n-        channel_mask = _P (FRONT_LEFT) | _P (FRONT_RIGHT);\n-        break;\n-      case 3:\n-        channel_mask = _P (FRONT_LEFT) | _P (FRONT_RIGHT) | _P (FRONT_CENTER);\n-        break;\n-      case 4:\n-        \/* lists both this and 'quad' but doesn't say how to distinguish the two *\/\n-        channel_mask =\n-            _P (FRONT_LEFT) | _P (FRONT_RIGHT) | _P (REAR_LEFT) |\n-            _P (REAR_RIGHT);\n-        break;\n-      case 6:\n-        channel_mask =\n-            _P (FRONT_LEFT) | _P (FRONT_LEFT_OF_CENTER) | _P (FRONT_CENTER) |\n-            _P (FRONT_RIGHT) | _P (FRONT_RIGHT_OF_CENTER) | _P (LFE1);\n-        break;\n-      default:\n-        channel_mask = gst_audio_channel_get_fallback_mask (aiff->channels);\n-        break;\n-    }\n-\n+  \/* based on AIFF-1.3.pdf *\/\n+  switch (aiff->channels) {\n+    case 1:\n+      channel_mask = 0;\n+      break;\n+    case 2:\n+      channel_mask = _P (FRONT_LEFT) | _P (FRONT_RIGHT);\n+      break;\n+    case 3:\n+      channel_mask = _P (FRONT_LEFT) | _P (FRONT_RIGHT) | _P (FRONT_CENTER);\n+      break;\n+    case 4:\n+      \/* lists both this and 'quad' but doesn't say how to distinguish the two *\/\n+      channel_mask =\n+          _P (FRONT_LEFT) | _P (FRONT_RIGHT) | _P (REAR_LEFT) | _P (REAR_RIGHT);\n+      break;\n+    case 6:\n+      channel_mask =\n+          _P (FRONT_LEFT) | _P (FRONT_LEFT_OF_CENTER) | _P (FRONT_CENTER) |\n+          _P (FRONT_RIGHT) | _P (FRONT_RIGHT_OF_CENTER) | _P (LFE1);\n+      break;\n+    default:\n+      GST_FIXME_OBJECT (aiff, \"using fallback channel layout for %d channels\",\n+          aiff->channels);\n+      channel_mask = gst_audio_channel_get_fallback_mask (aiff->channels);\n+      break;\n+  }\n@@ -905,4 +905,3 @@\n-    if (channel_mask != 0) {\n-      gst_caps_set_simple (caps, \"channel-mask\", GST_TYPE_BITMASK, channel_mask,\n-          NULL);\n-    }\n+  if (channel_mask != 0) {\n+    gst_caps_set_simple (caps, \"channel-mask\", GST_TYPE_BITMASK, channel_mask,\n+        NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/aiffparse.c","additions":36,"deletions":37,"binary":false,"changes":73,"status":"modified"},{"patch":"@@ -0,0 +1,50 @@\n+\/* -*- Mode: C; tab-width: 2; indent-tabs-mode: t; c-basic-offset: 2 -*- *\/\n+\/* GStreamer AIFF plugin initialisation\n+ * Copyright (C) <2008> Pioneers of the Inevitable <songbird@songbirdnest.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/tag\/tag.h>\n+\n+#include <gst\/gst-i18n-plugin.h>\n+\n+#include \"aiffelements.h\"\n+\n+\n+GST_DEBUG_CATEGORY_STATIC (aiff_debug);\n+#define GST_CAT_DEFAULT (aiff_debug)\n+\n+void\n+aiff_element_init (GstPlugin * plugin)\n+{\n+  static gsize res = FALSE;\n+  if (g_once_init_enter (&res)) {\n+    GST_DEBUG_CATEGORY_INIT (aiff_debug, \"aiff\", 0, \"AIFF plugin\");\n+#ifdef ENABLE_NLS\n+    GST_DEBUG (\"binding text domain %s to locale dir %s\", GETTEXT_PACKAGE,\n+        LOCALEDIR);\n+    bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n+    bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n+#endif\n+    gst_tag_register_musicbrainz_tags ();\n+    g_once_init_leave (&res, TRUE);\n+  }\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-bad\/gst\/aiff\/gstaiffelement.c","additions":50,"deletions":0,"binary":false,"changes":50,"status":"added"},{"patch":"@@ -1,2 +1,2 @@\n-\t\t  GNU LIBRARY GENERAL PUBLIC LICENSE\n-\t\t       Version 2, June 1991\n+\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n+\t\t       Version 2.1, February 1999\n@@ -4,2 +4,2 @@\n- Copyright (C) 1991 Free Software Foundation, Inc.\n-                    51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA\n+ Copyright (C) 1991, 1999 Free Software Foundation, Inc.\n+     51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n@@ -9,2 +9,3 @@\n-[This is the first released version of the library GPL.  It is\n- numbered 2 because it goes with version 2 of the ordinary GPL.]\n+[This is the first released version of the Lesser GPL.  It also counts\n+ as the successor of the GNU Library Public License, version 2, hence\n+ the version number 2.1.]\n@@ -19,11 +20,14 @@\n-  This license, the Library General Public License, applies to some\n-specially designated Free Software Foundation software, and to any\n-other libraries whose authors decide to use it.  You can use it for\n-your libraries, too.\n-\n-  When we speak of free software, we are referring to freedom, not\n-price.  Our General Public Licenses are designed to make sure that you\n-have the freedom to distribute copies of free software (and charge for\n-this service if you wish), that you receive source code or can get it\n-if you want it, that you can change the software or use pieces of it\n-in new free programs; and that you know you can do these things.\n+  This license, the Lesser General Public License, applies to some\n+specially designated software packages--typically libraries--of the\n+Free Software Foundation and other authors who decide to use it.  You\n+can use it too, but we suggest you first think carefully about whether\n+this license or the ordinary General Public License is the better\n+strategy to use in any particular case, based on the explanations below.\n+\n+  When we speak of free software, we are referring to freedom of use,\n+not price.  Our General Public Licenses are designed to make sure that\n+you have the freedom to distribute copies of free software (and charge\n+for this service if you wish); that you receive source code or can get\n+it if you want it; that you can change the software and use pieces of\n+it in new free programs; and that you are informed that you can do\n+these things.\n@@ -32,3 +36,3 @@\n-anyone to deny you these rights or to ask you to surrender the rights.\n-These restrictions translate to certain responsibilities for you if\n-you distribute copies of the library, or if you modify it.\n+distributors to deny you these rights or to ask you to surrender these\n+rights.  These restrictions translate to certain responsibilities for\n+you if you distribute copies of the library or if you modify it.\n@@ -39,3 +43,3 @@\n-code.  If you link a program with the library, you must provide\n-complete object files to the recipients so that they can relink them\n-with the library, after making changes to the library and recompiling\n+code.  If you link other code with the library, you must provide\n+complete object files to the recipients, so that they can relink them\n+with the library after making changes to the library and recompiling\n@@ -44,2 +48,2 @@\n-  Our method of protecting your rights has two steps: (1) copyright\n-the library, and (2) offer you this license which gives you legal\n+  We protect your rights with a two-step method: (1) we copyright the\n+library, and (2) we offer you this license, which gives you legal\n@@ -48,6 +52,6 @@\n-  Also, for each distributor's protection, we want to make certain\n-that everyone understands that there is no warranty for this free\n-library.  If the library is modified by someone else and passed on, we\n-want its recipients to know that what they have is not the original\n-version, so that any problems introduced by others will not reflect on\n-the original authors' reputations.\n+  To protect each distributor, we want to make it very clear that\n+there is no warranty for the free library.  Also, if the library is\n+modified by someone else and passed on, the recipients should know\n+that what they have is not the original version, so that the original\n+author's reputation will not be affected by problems that might be\n+introduced by others.\n@@ -55,37 +59,49 @@\n-  Finally, any free program is threatened constantly by software\n-patents.  We wish to avoid the danger that companies distributing free\n-software will individually obtain patent licenses, thus in effect\n-transforming the program into proprietary software.  To prevent this,\n-we have made it clear that any patent must be licensed for everyone's\n-free use or not licensed at all.\n-\n-  Most GNU software, including some libraries, is covered by the ordinary\n-GNU General Public License, which was designed for utility programs.  This\n-license, the GNU Library General Public License, applies to certain\n-designated libraries.  This license is quite different from the ordinary\n-one; be sure to read it in full, and don't assume that anything in it is\n-the same as in the ordinary license.\n-\n-  The reason we have a separate public license for some libraries is that\n-they blur the distinction we usually make between modifying or adding to a\n-program and simply using it.  Linking a program with a library, without\n-changing the library, is in some sense simply using the library, and is\n-analogous to running a utility program or application program.  However, in\n-a textual and legal sense, the linked executable is a combined work, a\n-derivative of the original library, and the ordinary General Public License\n-treats it as such.\n-\n-  Because of this blurred distinction, using the ordinary General\n-Public License for libraries did not effectively promote software\n-sharing, because most developers did not use the libraries.  We\n-concluded that weaker conditions might promote sharing better.\n-\n-  However, unrestricted linking of non-free programs would deprive the\n-users of those programs of all benefit from the free status of the\n-libraries themselves.  This Library General Public License is intended to\n-permit developers of non-free programs to use free libraries, while\n-preserving your freedom as a user of such programs to change the free\n-libraries that are incorporated in them.  (We have not seen how to achieve\n-this as regards changes in header files, but we have achieved it as regards\n-changes in the actual functions of the Library.)  The hope is that this\n-will lead to faster development of free libraries.\n+  Finally, software patents pose a constant threat to the existence of\n+any free program.  We wish to make sure that a company cannot\n+effectively restrict the users of a free program by obtaining a\n+restrictive license from a patent holder.  Therefore, we insist that\n+any patent license obtained for a version of the library must be\n+consistent with the full freedom of use specified in this license.\n+\n+  Most GNU software, including some libraries, is covered by the\n+ordinary GNU General Public License.  This license, the GNU Lesser\n+General Public License, applies to certain designated libraries, and\n+is quite different from the ordinary General Public License.  We use\n+this license for certain libraries in order to permit linking those\n+libraries into non-free programs.\n+\n+  When a program is linked with a library, whether statically or using\n+a shared library, the combination of the two is legally speaking a\n+combined work, a derivative of the original library.  The ordinary\n+General Public License therefore permits such linking only if the\n+entire combination fits its criteria of freedom.  The Lesser General\n+Public License permits more lax criteria for linking other code with\n+the library.\n+\n+  We call this license the \"Lesser\" General Public License because it\n+does Less to protect the user's freedom than the ordinary General\n+Public License.  It also provides other free software developers Less\n+of an advantage over competing non-free programs.  These disadvantages\n+are the reason we use the ordinary General Public License for many\n+libraries.  However, the Lesser license provides advantages in certain\n+special circumstances.\n+\n+  For example, on rare occasions, there may be a special need to\n+encourage the widest possible use of a certain library, so that it becomes\n+a de-facto standard.  To achieve this, non-free programs must be\n+allowed to use the library.  A more frequent case is that a free\n+library does the same job as widely used non-free libraries.  In this\n+case, there is little to gain by limiting the free library to free\n+software only, so we use the Lesser General Public License.\n+\n+  In other cases, permission to use a particular library in non-free\n+programs enables a greater number of people to use a large body of\n+free software.  For example, permission to use the GNU C Library in\n+non-free programs enables many more people to use the whole GNU\n+operating system, as well as its variant, the GNU\/Linux operating\n+system.\n+\n+  Although the Lesser General Public License is Less protective of the\n+users' freedom, it does ensure that the user of a program that is\n+linked with the Library has the freedom and the wherewithal to run\n+that program using a modified version of the Library.\n@@ -96,5 +112,2 @@\n-former contains code derived from the library, while the latter only\n-works together with the library.\n-\n-  Note that it is possible for a library to be covered by the ordinary\n-General Public License rather than by this special one.\n+former contains code derived from the library, whereas the latter must\n+be combined with the library in order to run.\n@@ -102,1 +115,1 @@\n-\t\t  GNU LIBRARY GENERAL PUBLIC LICENSE\n+\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n@@ -105,5 +118,5 @@\n-  0. This License Agreement applies to any software library which\n-contains a notice placed by the copyright holder or other authorized\n-party saying it may be distributed under the terms of this Library\n-General Public License (also called \"this License\").  Each licensee is\n-addressed as \"you\".\n+  0. This License Agreement applies to any software library or other\n+program which contains a notice placed by the copyright holder or\n+other authorized party saying it may be distributed under the terms of\n+this Lesser General Public License (also called \"this License\").\n+Each licensee is addressed as \"you\".\n@@ -136,1 +149,1 @@\n-  \n+\n@@ -258,1 +271,1 @@\n-  6. As an exception to the Sections above, you may also compile or\n+  6. As an exception to the Sections above, you may also combine or\n@@ -285,1 +298,9 @@\n-    b) Accompany the work with a written offer, valid for at\n+    b) Use a suitable shared library mechanism for linking with the\n+    Library.  A suitable mechanism is one that (1) uses at run time a\n+    copy of the library already present on the user's computer system,\n+    rather than copying library functions into the executable, and (2)\n+    will operate properly with a modified version of the library, if\n+    the user installs one, as long as the modified version is\n+    interface-compatible with the version that the work was made with.\n+\n+    c) Accompany the work with a written offer, valid for at\n@@ -290,1 +311,1 @@\n-    c) If distribution of the work is made by offering access to copy\n+    d) If distribution of the work is made by offering access to copy\n@@ -294,1 +315,1 @@\n-    d) Verify that the user has already received a copy of these\n+    e) Verify that the user has already received a copy of these\n@@ -300,2 +321,2 @@\n-the source code distributed need not include anything that is normally\n-distributed (in either source or binary form) with the major\n+the materials to be distributed need not include anything that is\n+normally distributed (in either source or binary form) with the major\n@@ -350,1 +371,1 @@\n-You are not responsible for enforcing compliance by third parties to\n+You are not responsible for enforcing compliance by third parties with\n@@ -393,1 +414,1 @@\n-versions of the Library General Public License from time to time.\n+versions of the Lesser General Public License from time to time.\n@@ -439,1 +460,1 @@\n-     Appendix: How to Apply These Terms to Your New Libraries\n+           How to Apply These Terms to Your New Libraries\n@@ -456,1 +477,1 @@\n-    modify it under the terms of the GNU Library General Public\n+    modify it under the terms of the GNU Lesser General Public\n@@ -458,1 +479,1 @@\n-    version 2 of the License, or (at your option) any later version.\n+    version 2.1 of the License, or (at your option) any later version.\n@@ -463,1 +484,1 @@\n-    Library General Public License for more details.\n+    Lesser General Public License for more details.\n@@ -465,3 +486,3 @@\n-    You should have received a copy of the GNU Library General Public\n-    License along with this library; if not, write to the Free\n-    Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+    You should have received a copy of the GNU Lesser General Public\n+    License along with this library; if not, write to the Free Software\n+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n@@ -482,0 +503,1 @@\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/COPYING","additions":117,"deletions":95,"binary":false,"changes":212,"status":"modified"},{"patch":"@@ -0,0 +1,85 @@\n+\/*\n+ * Copyright (C) 2001 CodeFactory AB\n+ * Copyright (C) 2001 Thomas Nyberg <thomas@codefactory.se>\n+ * Copyright (C) 2001-2002 Andy Wingo <apwingo@eos.ncsu.edu>\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include \"gstalsaelements.h\"\n+#ifdef GSTREAMER_LITE\n+#include \"gstalsa.h\"\n+#else \/\/ GSTREAMER_LITE\n+#include \"gstalsadeviceprovider.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n+#include <gst\/gst-i18n-plugin.h>\n+\n+GST_DEBUG_CATEGORY (alsa_debug);\n+\n+\/* ALSA debugging wrapper *\/\n+\/* *INDENT-OFF* *\/\n+G_GNUC_PRINTF (5, 6)\n+\/* *INDENT-ON* *\/\n+static void\n+gst_alsa_error_wrapper (const char *file, int line, const char *function,\n+    int err, const char *fmt, ...)\n+{\n+#ifndef GST_DISABLE_GST_DEBUG\n+  va_list args;\n+  gchar *str;\n+\n+  va_start (args, fmt);\n+  str = g_strdup_vprintf (fmt, args);\n+  va_end (args);\n+  \/* FIXME: use GST_LEVEL_ERROR here? Currently warning is used because we're\n+   * able to catch enough of the errors that would be printed otherwise\n+   *\/\n+  gst_debug_log (alsa_debug, GST_LEVEL_WARNING, file, function, line, NULL,\n+      \"alsalib error: %s%s%s\", str, err ? \": \" : \"\",\n+      err ? snd_strerror (err) : \"\");\n+  g_free (str);\n+#endif\n+}\n+\n+#ifndef GSTREAMER_LITE\n+GST_DEVICE_PROVIDER_REGISTER_DEFINE (alsadeviceprovider, \"alsadeviceprovider\",\n+    GST_RANK_SECONDARY, GST_TYPE_ALSA_DEVICE_PROVIDER);\n+#endif \/\/ GSTREAMER_LITE\n+\n+void\n+alsa_element_init (GstPlugin * plugin)\n+{\n+  static gsize res = FALSE;\n+\n+  if (g_once_init_enter (&res)) {\n+    GST_DEBUG_CATEGORY_INIT (alsa_debug, \"alsa\", 0, \"alsa plugins\");\n+#ifdef ENABLE_NLS\n+    GST_DEBUG (\"binding text domain %s to locale dir %s\", GETTEXT_PACKAGE,\n+        LOCALEDIR);\n+    bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n+    bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n+#endif\n+    if (snd_lib_error_set_handler (gst_alsa_error_wrapper) != 0)\n+      GST_WARNING (\"failed to set alsa error handler\");\n+    g_once_init_leave (&res, TRUE);\n+  }\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsaelement.c","additions":85,"deletions":0,"binary":false,"changes":85,"status":"added"},{"patch":"@@ -0,0 +1,41 @@\n+\/*\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Julian Bouzas <julian.bouzas@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_ALSA_ELEMENTS_H__\n+#define __GST_ALSA_ELEMENTS_H__\n+\n+#include <gst\/gst.h>\n+\n+G_BEGIN_DECLS\n+\n+G_GNUC_INTERNAL void alsa_element_init (GstPlugin * plugin);\n+\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (alsasrc);\n+#endif \/\/ GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (alsasink);\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (alsamidisrc);\n+\n+GST_DEVICE_PROVIDER_REGISTER_DECLARE(alsadeviceprovider);\n+#endif \/\/ GSTREAMER_LITE\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_ALSA_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsaelements.h","additions":41,"deletions":0,"binary":false,"changes":41,"status":"added"},{"patch":"@@ -26,1 +26,1 @@\n-#include \"gstalsasink.h\"\n+#include \"gstalsaelements.h\"\n@@ -28,2 +28,0 @@\n-#include \"gstalsasrc.h\"\n-#include \"gstalsamidisrc.h\"\n@@ -35,27 +33,0 @@\n-GST_DEBUG_CATEGORY (alsa_debug);\n-\n-\/* ALSA debugging wrapper *\/\n-\/* *INDENT-OFF* *\/\n-G_GNUC_PRINTF (5, 6)\n-\/* *INDENT-ON* *\/\n-static void\n-gst_alsa_error_wrapper (const char *file, int line, const char *function,\n-    int err, const char *fmt, ...)\n-{\n-#ifndef GST_DISABLE_GST_DEBUG\n-  va_list args;\n-  gchar *str;\n-\n-  va_start (args, fmt);\n-  str = g_strdup_vprintf (fmt, args);\n-  va_end (args);\n-  \/* FIXME: use GST_LEVEL_ERROR here? Currently warning is used because we're\n-   * able to catch enough of the errors that would be printed otherwise\n-   *\/\n-  gst_debug_log (alsa_debug, GST_LEVEL_WARNING, file, function, line, NULL,\n-      \"alsalib error: %s%s%s\", str, err ? \": \" : \"\",\n-      err ? snd_strerror (err) : \"\");\n-  g_free (str);\n-#endif\n-}\n-\n@@ -70,1 +41,1 @@\n-  int err;\n+  gboolean ret = FALSE;\n@@ -73,3 +44,3 @@\n-  if (!gst_element_register (plugin, \"alsasrc\", GST_RANK_PRIMARY,\n-          GST_TYPE_ALSA_SRC))\n-    return FALSE;\n+  ret |= GST_DEVICE_PROVIDER_REGISTER (alsadeviceprovider, plugin);\n+\n+  ret |= GST_ELEMENT_REGISTER (alsasrc, plugin);\n@@ -77,3 +48,1 @@\n-  if (!gst_element_register (plugin, \"alsasink\", GST_RANK_PRIMARY,\n-          GST_TYPE_ALSA_SINK))\n-    return FALSE;\n+  ret |= GST_ELEMENT_REGISTER (alsasink, plugin);\n@@ -81,6 +50,1 @@\n-  if (!gst_element_register (plugin, \"alsamidisrc\", GST_RANK_PRIMARY,\n-          GST_TYPE_ALSA_MIDI_SRC))\n-    return FALSE;\n-  if (!gst_device_provider_register (plugin, \"alsadeviceprovider\",\n-          GST_RANK_SECONDARY, GST_TYPE_ALSA_DEVICE_PROVIDER))\n-    return FALSE;\n+  ret |= GST_ELEMENT_REGISTER (alsamidisrc, plugin);\n@@ -89,13 +53,0 @@\n-  GST_DEBUG_CATEGORY_INIT (alsa_debug, \"alsa\", 0, \"alsa plugins\");\n-\n-#ifdef ENABLE_NLS\n-  GST_DEBUG (\"binding text domain %s to locale dir %s\", GETTEXT_PACKAGE,\n-      LOCALEDIR);\n-  bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n-  bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n-#endif\n-\n-  err = snd_lib_error_set_handler (gst_alsa_error_wrapper);\n-  if (err != 0)\n-    GST_WARNING (\"failed to set alsa error handler\");\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsaplugin.c","additions":7,"deletions":56,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+#include \"gstalsaelements.h\"\n@@ -75,1 +76,0 @@\n-static void gst_alsasink_init_interfaces (GType type);\n@@ -77,2 +77,3 @@\n-G_DEFINE_TYPE_WITH_CODE (GstAlsaSink, gst_alsasink,\n-    GST_TYPE_AUDIO_SINK, gst_alsasink_init_interfaces (g_define_type_id));\n+G_DEFINE_TYPE (GstAlsaSink, gst_alsasink, GST_TYPE_AUDIO_SINK);\n+GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (alsasink, \"alsasink\", GST_RANK_PRIMARY,\n+    GST_TYPE_ALSA_SINK, alsa_element_init (plugin));\n@@ -139,8 +140,0 @@\n-static void\n-gst_alsasink_init_interfaces (GType type)\n-{\n-#if 0\n-  gst_alsa_type_add_device_property_probe_interface (type);\n-#endif\n-}\n-\n@@ -435,3 +428,2 @@\n-  gint err;\n-  snd_pcm_hw_params_t *params;\n-  guint period_time, buffer_time;\n+  gint err = 0;\n+  snd_pcm_hw_params_t *params, *params_copy;\n@@ -440,0 +432,1 @@\n+  snd_pcm_hw_params_malloc (&params_copy);\n@@ -445,6 +438,0 @@\n-  \/* start with requested values, if we cannot configure alsa for those values,\n-   * we set these values to -1, which will leave the default alsa values *\/\n-  buffer_time = alsa->buffer_time;\n-  period_time = alsa->period_time;\n-\n-retry:\n@@ -476,1 +463,0 @@\n-\n@@ -500,13 +486,30 @@\n-\n-  \/* now try to configure the buffer time and period time, if one\n-   * of those fail, we fall back to the defaults and emit a warning. *\/\n-  if (buffer_time != -1 && !alsa->iec958) {\n-    \/* set the buffer time *\/\n-    if ((err = snd_pcm_hw_params_set_buffer_time_near (alsa->handle, params,\n-                &buffer_time, NULL)) < 0) {\n-      GST_ELEMENT_WARNING (alsa, RESOURCE, SETTINGS, (NULL),\n-          (\"Unable to set buffer time %i for playback: %s\",\n-              buffer_time, snd_strerror (err)));\n-      \/* disable buffer_time the next round *\/\n-      buffer_time = -1;\n-      goto retry;\n+  \/* Keep a copy of initial params struct that can be used later *\/\n+  snd_pcm_hw_params_copy (params_copy, params);\n+  if (!alsa->iec958) {\n+    \/* Following pulseaudio's approach in\n+     * https:\/\/gitlab.freedesktop.org\/pulseaudio\/pulseaudio\/-\/commit\/557c4295107dc7374c850b0bd5331dd35e8fdd0f\n+     * we'll try various configuration to set the period time and buffer time as some\n+     * driver can be picky on the order of the calls.\n+     *\/\n+    if (alsa->buffer_time != -1 && alsa->period_time != -1) {\n+      if (((err = snd_pcm_hw_params_set_period_time_near (alsa->handle,\n+                      params, &alsa->period_time, NULL)) >= 0)\n+          && ((err =\n+                  snd_pcm_hw_params_set_buffer_time_near (alsa->handle,\n+                      params, &alsa->buffer_time, NULL)) >= 0)) {\n+        GST_DEBUG_OBJECT (alsa, \"period time %u buffer time %u set correctly\",\n+            alsa->period_time, alsa->buffer_time);\n+        goto success;\n+      }\n+      \/* Try the new order with previous params struct as current one might\n+         have partial settings from the order that was tried unsuccessfully *\/\n+      snd_pcm_hw_params_copy (params, params_copy);\n+      if (((err = snd_pcm_hw_params_set_buffer_time_near (alsa->handle,\n+                      params, &alsa->buffer_time, NULL)) >= 0)\n+          && ((err =\n+                  snd_pcm_hw_params_set_period_time_near (alsa->handle,\n+                      params, &alsa->period_time, NULL)) >= 0)) {\n+        GST_DEBUG_OBJECT (alsa, \"buffer time %u period time %u set correctly\",\n+            alsa->buffer_time, alsa->period_time);\n+        goto success;\n+      }\n@@ -514,13 +517,15 @@\n-    GST_DEBUG_OBJECT (alsa, \"buffer time %u\", buffer_time);\n-    alsa->buffer_time = buffer_time;\n-  }\n-  if (period_time != -1 && !alsa->iec958) {\n-    \/* set the period time *\/\n-    if ((err = snd_pcm_hw_params_set_period_time_near (alsa->handle, params,\n-                &period_time, NULL)) < 0) {\n-      GST_ELEMENT_WARNING (alsa, RESOURCE, SETTINGS, (NULL),\n-          (\"Unable to set period time %i for playback: %s\",\n-              period_time, snd_strerror (err)));\n-      \/* disable period_time the next round *\/\n-      period_time = -1;\n-      goto retry;\n+    \/* now try to configure the period time and buffer time exclusively\n+     * if both fail  we fall back to the defaults *\/\n+    if (alsa->period_time != -1) {\n+      snd_pcm_hw_params_copy (params, params_copy);\n+      \/* set the period time *\/\n+      if ((err =\n+              snd_pcm_hw_params_set_period_time_near (alsa->handle, params,\n+                  &alsa->period_time, NULL)) < 0) {\n+        GST_DEBUG_OBJECT (alsa, \"Unable to set period time %i for playback: %s\",\n+            alsa->period_time, snd_strerror (err));\n+      } else {\n+        GST_DEBUG_OBJECT (alsa, \"period time %u set correctly\",\n+            alsa->period_time);\n+        goto success;\n+      }\n@@ -528,6 +533,16 @@\n-    GST_DEBUG_OBJECT (alsa, \"period time %u\", period_time);\n-    alsa->period_time = period_time;\n-  }\n-\n-  \/* Set buffer size and period size manually for SPDIF *\/\n-  if (G_UNLIKELY (alsa->iec958)) {\n+    if (alsa->buffer_time != -1) {\n+      snd_pcm_hw_params_copy (params, params_copy);\n+      \/* set the buffer time *\/\n+      if ((err =\n+              snd_pcm_hw_params_set_buffer_time_near (alsa->handle, params,\n+                  &alsa->buffer_time, NULL)) < 0) {\n+        GST_DEBUG_OBJECT (alsa, \"Unable to set buffer time %i for playback: %s\",\n+            alsa->buffer_time, snd_strerror (err));\n+      } else {\n+        GST_DEBUG_OBJECT (alsa, \"buffer time %u set correctly\",\n+            alsa->buffer_time);\n+        goto success;\n+      }\n+    }\n+  } else {\n+    \/* Set buffer size and period size manually for SPDIF *\/\n@@ -541,0 +556,1 @@\n+    goto success;\n@@ -542,0 +558,3 @@\n+  \/* Set nothing if all above failed *\/\n+  snd_pcm_hw_params_copy (params, params_copy);\n+  GST_DEBUG_OBJECT (alsa, \"Not setting period time and buffer time\");\n@@ -543,0 +562,1 @@\n+success:\n@@ -545,1 +565,0 @@\n-\n@@ -549,2 +568,2 @@\n-  CHECK (snd_pcm_hw_params_get_period_size (params, &alsa->period_size, NULL),\n-      period_size);\n+  CHECK (snd_pcm_hw_params_get_period_size (params, &alsa->period_size,\n+          NULL), period_size);\n@@ -560,3 +579,1 @@\n-  snd_pcm_hw_params_free (params);\n-  return 0;\n-\n+  goto exit;\n@@ -569,2 +586,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -576,2 +592,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -583,2 +598,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -602,2 +616,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -610,1 +623,1 @@\n-    return err;\n+    goto exit;\n@@ -616,2 +629,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -623,2 +635,1 @@\n-    snd_pcm_hw_params_free (params);\n-    return err;\n+    goto exit;\n@@ -630,0 +641,3 @@\n+  }\n+exit:\n+  {\n@@ -631,0 +645,1 @@\n+    snd_pcm_hw_params_free (params_copy);\n@@ -1060,1 +1075,0 @@\n-    GST_DEBUG_OBJECT (asink, \"written %d frames out of %d\", err, cptr);\n@@ -1062,1 +1076,1 @@\n-      GST_DEBUG_OBJECT (asink, \"Write error: %s\", snd_strerror (err));\n+      GST_DEBUG_OBJECT (asink, \"Write error: %s (%d)\", snd_strerror (err), err);\n@@ -1064,1 +1078,1 @@\n-        continue;\n+        \/* will continue out of the if\/else group *\/\n@@ -1070,0 +1084,6 @@\n+\n+      \/* Unlock so that _reset() can run and break an otherwise infinit loop\n+       * here *\/\n+      GST_ALSA_SINK_UNLOCK (asink);\n+      g_thread_yield ();\n+      GST_ALSA_SINK_LOCK (asink);\n@@ -1071,0 +1091,4 @@\n+    } else if (err == 0 && alsa->hw_support_pause) {\n+      \/* We might be already paused, if so, just bail *\/\n+      if (snd_pcm_state (alsa->handle) == SND_PCM_STATE_PAUSED)\n+        break;\n@@ -1073,0 +1097,1 @@\n+    GST_DEBUG_OBJECT (asink, \"written %d frames out of %d\", err, cptr);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/ext\/alsa\/gstalsasink.c","additions":100,"deletions":75,"binary":false,"changes":175,"status":"modified"},{"patch":"@@ -116,0 +116,1 @@\n+  guint num_events;\n@@ -149,0 +150,1 @@\n+  SIGNAL_NEW_SERIALIZED_EVENT,\n@@ -155,0 +157,1 @@\n+  SIGNAL_TRY_PULL_OBJECT,\n@@ -335,0 +338,28 @@\n+  \/**\n+   * GstAppSink::new-serialized-event:\n+   * @appsink: the appsink element that emitted the signal\n+   *\n+   * Signal that a new downstream serialized event is available.\n+   *\n+   * This signal is emitted from the streaming thread and only when the\n+   * \"emit-signals\" property is %TRUE.\n+   *\n+   * The new event can be retrieved with the \"try-pull-object\" action\n+   * signal or gst_app_sink_pull_object() either from this signal callback\n+   * or from any other thread.\n+   *\n+   * EOS will not be notified using this signal, use #GstAppSink::eos instead.\n+   * EOS cannot be pulled either, use gst_app_sink_is_eos() to check for it.\n+   *\n+   * Note that this signal is only emitted when the \"emit-signals\" property is\n+   * set to %TRUE, which it is not by default for performance reasons.\n+   *\n+   * The callback should return %TRUE if the event has been handled, which will\n+   * skip basesink handling of the event, %FALSE otherwise.\n+   *\n+   * Since: 1.20\n+   *\/\n+  gst_app_sink_signals[SIGNAL_NEW_SERIALIZED_EVENT] =\n+      g_signal_new (\"new-serialized-event\", G_TYPE_FROM_CLASS (klass),\n+      G_SIGNAL_RUN_LAST, 0, NULL, NULL, NULL, G_TYPE_BOOLEAN, 0, G_TYPE_NONE);\n+\n@@ -389,0 +420,1 @@\n+\n@@ -454,0 +486,38 @@\n+  \/**\n+   * GstAppSink::try-pull-object:\n+   * @appsink: the appsink element to emit this signal on\n+   * @timeout: the maximum amount of time to wait for a sample\n+   *\n+   * This function blocks until a sample or an event becomes available or the appsink\n+   * element is set to the READY\/NULL state or the timeout expires.\n+   *\n+   * This function will only return samples when the appsink is in the PLAYING\n+   * state. All rendered samples and events will be put in a queue so that the application\n+   * can pull them at its own rate.\n+   * Events can be pulled when the appsink is in the READY, PAUSED or PLAYING state.\n+   *\n+   * Note that when the application does not pull samples fast enough, the\n+   * queued samples could consume a lot of memory, especially when dealing with\n+   * raw video frames. It's possible to control the behaviour of the queue with\n+   * the \"drop\" and \"max-buffers\" properties.\n+   *\n+   * This function will only pull serialized events, excluding\n+   * the EOS event for which this functions returns\n+   * %NULL. Use gst_app_sink_is_eos() to check for the EOS condition.\n+   *\n+   * This signal is a variant of #GstAppSink::try-pull-sample: that can be used\n+   * to handle incoming events as well as samples.\n+   *\n+   * Note that future releases may extend this API to return other object types\n+   * so make sure that your code is checking for the actual type it is handling.\n+   *\n+   * Returns: (transfer full): a #GstSample or a #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n+   *\n+   * Since: 1.20\n+   *\/\n+  gst_app_sink_signals[SIGNAL_TRY_PULL_OBJECT] =\n+      g_signal_new (\"try-pull-object\", G_TYPE_FROM_CLASS (klass),\n+      G_SIGNAL_RUN_LAST | G_SIGNAL_ACTION,\n+      G_STRUCT_OFFSET (GstAppSinkClass, try_pull_object), NULL, NULL, NULL,\n+      GST_TYPE_MINI_OBJECT, 1, GST_TYPE_CLOCK_TIME);\n+\n@@ -477,0 +547,1 @@\n+  klass->try_pull_object = gst_app_sink_try_pull_object;\n@@ -683,0 +754,1 @@\n+  priv->num_events = 0;\n@@ -740,0 +812,1 @@\n+  priv->num_events++;\n@@ -753,0 +826,2 @@\n+  GST_DEBUG_OBJECT (appsink, \"%\" GST_PTR_FORMAT, event);\n+\n@@ -757,1 +832,0 @@\n-      gst_queue_array_push_tail (priv->queue, gst_event_ref (event));\n@@ -829,0 +903,34 @@\n+\n+  if (GST_EVENT_TYPE (event) != GST_EVENT_EOS\n+      && GST_EVENT_IS_SERIALIZED (event)) {\n+    gboolean emit;\n+    Callbacks *callbacks = NULL;\n+    gboolean ret;\n+\n+    g_mutex_lock (&priv->mutex);\n+\n+    emit = priv->emit_signals;\n+    if (priv->callbacks)\n+      callbacks = callbacks_ref (priv->callbacks);\n+\n+    gst_queue_array_push_tail (priv->queue, gst_event_ref (event));\n+    priv->num_events++;\n+\n+    g_mutex_unlock (&priv->mutex);\n+\n+    if (callbacks && callbacks->callbacks.new_event) {\n+      ret = callbacks->callbacks.new_event (appsink, callbacks->user_data);\n+    } else {\n+      ret = FALSE;\n+      if (emit)\n+        g_signal_emit (appsink,\n+            gst_app_sink_signals[SIGNAL_NEW_SERIALIZED_EVENT], 0, &ret);\n+    }\n+    g_clear_pointer (&callbacks, callbacks_unref);\n+\n+    if (ret) {\n+      gst_event_unref (event);\n+      return TRUE;\n+    }\n+  }\n+\n@@ -878,1 +986,1 @@\n-dequeue_buffer (GstAppSink * appsink)\n+dequeue_object (GstAppSink * appsink)\n@@ -883,0 +991,42 @@\n+  obj = gst_queue_array_pop_head (priv->queue);\n+\n+  if (GST_IS_BUFFER (obj) || GST_IS_BUFFER_LIST (obj)) {\n+    GST_DEBUG_OBJECT (appsink, \"dequeued buffer\/list %p\", obj);\n+    priv->num_buffers--;\n+  } else if (GST_IS_EVENT (obj)) {\n+    GstEvent *event = GST_EVENT_CAST (obj);\n+\n+    priv->num_events--;\n+\n+    switch (GST_EVENT_TYPE (obj)) {\n+      case GST_EVENT_CAPS:\n+      {\n+        GstCaps *caps;\n+\n+        gst_event_parse_caps (event, &caps);\n+        GST_DEBUG_OBJECT (appsink, \"activating caps %\" GST_PTR_FORMAT, caps);\n+        gst_caps_replace (&priv->last_caps, caps);\n+        priv->sample = gst_sample_make_writable (priv->sample);\n+        gst_sample_set_caps (priv->sample, priv->last_caps);\n+        break;\n+      }\n+      case GST_EVENT_SEGMENT:\n+        gst_event_copy_segment (event, &priv->last_segment);\n+        priv->sample = gst_sample_make_writable (priv->sample);\n+        gst_sample_set_segment (priv->sample, &priv->last_segment);\n+        GST_DEBUG_OBJECT (appsink, \"activated segment %\" GST_SEGMENT_FORMAT,\n+            &priv->last_segment);\n+        break;\n+      default:\n+        break;\n+    }\n+  }\n+\n+  return obj;\n+}\n+\n+static GstMiniObject *\n+dequeue_buffer (GstAppSink * appsink)\n+{\n+  GstMiniObject *obj;\n+\n@@ -884,1 +1034,1 @@\n-    obj = gst_queue_array_pop_head (priv->queue);\n+    obj = dequeue_object (appsink);\n@@ -887,2 +1037,0 @@\n-      GST_DEBUG_OBJECT (appsink, \"dequeued buffer\/list %p\", obj);\n-      priv->num_buffers--;\n@@ -890,26 +1038,0 @@\n-    } else if (GST_IS_EVENT (obj)) {\n-      GstEvent *event = GST_EVENT_CAST (obj);\n-\n-      switch (GST_EVENT_TYPE (obj)) {\n-        case GST_EVENT_CAPS:\n-        {\n-          GstCaps *caps;\n-\n-          gst_event_parse_caps (event, &caps);\n-          GST_DEBUG_OBJECT (appsink, \"activating caps %\" GST_PTR_FORMAT, caps);\n-          gst_caps_replace (&priv->last_caps, caps);\n-          priv->sample = gst_sample_make_writable (priv->sample);\n-          gst_sample_set_caps (priv->sample, priv->last_caps);\n-          break;\n-        }\n-        case GST_EVENT_SEGMENT:\n-          gst_event_copy_segment (event, &priv->last_segment);\n-          priv->sample = gst_sample_make_writable (priv->sample);\n-          gst_sample_set_segment (priv->sample, &priv->last_segment);\n-          GST_DEBUG_OBJECT (appsink, \"activated segment %\" GST_SEGMENT_FORMAT,\n-              &priv->last_segment);\n-          break;\n-        default:\n-          break;\n-      }\n-      gst_mini_object_unref (obj);\n@@ -917,0 +1039,2 @@\n+\n+    gst_mini_object_unref (obj);\n@@ -1523,1 +1647,1 @@\n- * Returns: (transfer full): a #GstSample or NULL when the appsink is stopped or EOS.\n+ * Returns: (transfer full) (nullable): a #GstSample or NULL when the appsink is stopped or EOS.\n@@ -1548,1 +1672,1 @@\n- * Returns: (transfer full): a #GstSample or NULL when the appsink is stopped or EOS.\n+ * Returns: (transfer full) (nullable): a #GstSample or NULL when the appsink is stopped or EOS.\n@@ -1557,0 +1681,35 @@\n+\/**\n+ * gst_app_sink_pull_object: (skip)\n+ * @appsink: a #GstAppSink\n+ *\n+ * This function blocks until a sample or an event becomes available or the appsink\n+ * element is set to the READY\/NULL state.\n+ *\n+ * This function will only return samples when the appsink is in the PLAYING\n+ * state. All rendered buffers and events will be put in a queue so that the application\n+ * can pull them at its own rate. Note that when the application does not\n+ * pull samples fast enough, the queued buffers could consume a lot of memory,\n+ * especially when dealing with raw video frames.\n+ * Events can be pulled when the appsink is in the READY, PAUSED or PLAYING state.\n+ *\n+ * This function will only pull serialized events, excluding\n+ * the EOS event for which this functions returns\n+ * %NULL. Use gst_app_sink_is_eos() to check for the EOS condition.\n+ *\n+ * This method is a variant of gst_app_sink_pull_sample() that can be used\n+ * to handle incoming events events as well as samples.\n+ *\n+ * Note that future releases may extend this API to return other object types\n+ * so make sure that your code is checking for the actual type it is handling.\n+ *\n+ * Returns: (transfer full): a #GstSample, or a #GstEvent or NULL when the appsink is stopped or EOS.\n+ *          Call gst_mini_object_unref() after usage.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstMiniObject *\n+gst_app_sink_pull_object (GstAppSink * appsink)\n+{\n+  return gst_app_sink_try_pull_object (appsink, GST_CLOCK_TIME_NONE);\n+}\n+\n@@ -1582,1 +1741,1 @@\n- * Returns: (transfer full): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n+ * Returns: (transfer full) (nullable): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n@@ -1678,2 +1837,2 @@\n- * Returns: (transfer full): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n- * Call gst_sample_unref() after usage.\n+ * Returns: (transfer full) (nullable): a #GstSample or NULL when the appsink is stopped or EOS or the timeout expires.\n+ *          Call gst_sample_unref() after usage.\n@@ -1685,0 +1844,48 @@\n+{\n+  while (TRUE) {\n+    GstMiniObject *obj;\n+\n+    obj = gst_app_sink_try_pull_object (appsink, timeout);\n+\n+    if (!obj) {\n+      return NULL;\n+    } else if (GST_IS_SAMPLE (obj)) {\n+      return GST_SAMPLE_CAST (obj);\n+    } else {\n+      gst_mini_object_unref (obj);\n+    }\n+  }\n+}\n+\n+\/**\n+ * gst_app_sink_try_pull_object: (skip)\n+ * @appsink: a #GstAppSink\n+ * @timeout: the maximum amount of time to wait for a sample\n+ *\n+ * This function blocks until a sample or an event or EOS becomes available or the appsink\n+ * element is set to the READY\/NULL state or the timeout expires.\n+ *\n+ * This function will only return samples when the appsink is in the PLAYING\n+ * state. All rendered buffers and events will be put in a queue so that the application\n+ * can pull them at its own rate. Note that when the application does not\n+ * pull samples fast enough, the queued buffers could consume a lot of memory,\n+ * especially when dealing with raw video frames.\n+ * Events can be pulled when the appsink is in the READY, PAUSED or PLAYING state.\n+ *\n+ * This function will only pull serialized events, excluding\n+ * the EOS event for which this functions returns\n+ * %NULL. Use gst_app_sink_is_eos() to check for the EOS condition.\n+ *\n+ * This method is a variant of gst_app_sink_try_pull_sample() that can be used\n+ * to handle incoming events events as well as samples.\n+ *\n+ * Note that future releases may extend this API to return other object types\n+ * so make sure that your code is checking for the actual type it is handling.\n+ *\n+ * Returns: (transfer full): a #GstSample, or #GstEvent or NULL when the appsink is stopped or EOS or the timeout expires.\n+ * Call gst_mini_object_unref() after usage.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstMiniObject *\n+gst_app_sink_try_pull_object (GstAppSink * appsink, GstClockTime timeout)\n@@ -1687,2 +1894,1 @@\n-  GstSample *sample = NULL;\n-  GstMiniObject *obj;\n+  GstMiniObject *obj = NULL, *ret;\n@@ -1706,1 +1912,1 @@\n-    GST_DEBUG_OBJECT (appsink, \"trying to grab a buffer\");\n+    GST_DEBUG_OBJECT (appsink, \"trying to grab an object\");\n@@ -1710,1 +1916,1 @@\n-    if (priv->num_buffers > 0)\n+    if (priv->num_buffers > 0 || priv->num_events > 0)\n@@ -1717,1 +1923,1 @@\n-    GST_DEBUG_OBJECT (appsink, \"waiting for a buffer\");\n+    GST_DEBUG_OBJECT (appsink, \"waiting for an object\");\n@@ -1728,1 +1934,3 @@\n-  obj = dequeue_buffer (appsink);\n+  obj = dequeue_object (appsink);\n+\n+  \/* convert buffer and buffer list to sample *\/\n@@ -1734,2 +1942,3 @@\n-    sample = gst_sample_ref (priv->sample);\n-  } else {\n+    ret = GST_MINI_OBJECT_CAST (gst_sample_ref (priv->sample));\n+    gst_mini_object_unref (obj);\n+  } else if (GST_IS_BUFFER_LIST (obj)) {\n@@ -1740,1 +1949,4 @@\n-    sample = gst_sample_ref (priv->sample);\n+    ret = GST_MINI_OBJECT_CAST (gst_sample_ref (priv->sample));\n+    gst_mini_object_unref (obj);\n+  } else {\n+    ret = obj;\n@@ -1742,1 +1954,0 @@\n-  gst_mini_object_unref (obj);\n@@ -1749,1 +1960,1 @@\n-  return sample;\n+  return ret;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/app\/gstappsink.c","additions":258,"deletions":47,"binary":false,"changes":305,"status":"modified"},{"patch":"@@ -62,0 +62,8 @@\n+ * @new_event: Called when a new event is available.\n+ *       This callback is called from the streaming thread.\n+ *       The new event can be retrieved with\n+ *       gst_app_sink_pull_event() either from this callback\n+ *       or from any other thread.\n+ *       The callback should return %TRUE if the event has been handled,\n+ *       %FALSE otherwise.\n+ *       Since: 1.20\n@@ -70,0 +78,1 @@\n+  gboolean      (*new_event)        (GstAppSink *appsink, gpointer user_data);\n@@ -72,1 +81,1 @@\n-  gpointer     _gst_reserved[GST_PADDING];\n+  gpointer     _gst_reserved[GST_PADDING - 1];\n@@ -94,0 +103,1 @@\n+  \/* new_event is missing as we ran out padding *\/\n@@ -100,0 +110,8 @@\n+ \/**\n+   * GstAppSinkClass::try_pull_object:\n+   *\n+   * See #GstAppSink::try-pull-object: signal.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GstMiniObject * (*try_pull_object) (GstAppSink *appsink, GstClockTime timeout);\n@@ -102,1 +120,1 @@\n-  gpointer     _gst_reserved[GST_PADDING - 2];\n+  gpointer     _gst_reserved[GST_PADDING - 3];\n@@ -153,0 +171,3 @@\n+GST_APP_API\n+GstMiniObject * gst_app_sink_pull_object      (GstAppSink *appsink);\n+\n@@ -159,0 +180,3 @@\n+GST_APP_API\n+GstMiniObject * gst_app_sink_try_pull_object    (GstAppSink *appsink, GstClockTime timeout);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/app\/gstappsink.h","additions":26,"deletions":2,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -1,2332 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2007 David Schleef <ds@schleef.org>\n- *           (C) 2008 Wim Taymans <wim.taymans@gmail.com>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\/**\n- * SECTION:gstappsrc\n- * @title: GstAppSrc\n- * @short_description: Easy way for applications to inject buffers into a\n- *     pipeline\n- * @see_also: #GstBaseSrc, appsink\n- *\n- * The appsrc element can be used by applications to insert data into a\n- * GStreamer pipeline. Unlike most GStreamer elements, appsrc provides\n- * external API functions.\n- *\n- * appsrc can be used by linking with the libgstapp library to access the\n- * methods directly or by using the appsrc action signals.\n- *\n- * Before operating appsrc, the caps property must be set to fixed caps\n- * describing the format of the data that will be pushed with appsrc. An\n- * exception to this is when pushing buffers with unknown caps, in which case no\n- * caps should be set. This is typically true of file-like sources that push raw\n- * byte buffers. If you don't want to explicitly set the caps, you can use\n- * gst_app_src_push_sample. This method gets the caps associated with the\n- * sample and sets them on the appsrc replacing any previously set caps (if\n- * different from sample's caps).\n- *\n- * The main way of handing data to the appsrc element is by calling the\n- * gst_app_src_push_buffer() method or by emitting the push-buffer action signal.\n- * This will put the buffer onto a queue from which appsrc will read from in its\n- * streaming thread. It is important to note that data transport will not happen\n- * from the thread that performed the push-buffer call.\n- *\n- * The \"max-bytes\" property controls how much data can be queued in appsrc\n- * before appsrc considers the queue full. A filled internal queue will always\n- * signal the \"enough-data\" signal, which signals the application that it should\n- * stop pushing data into appsrc. The \"block\" property will cause appsrc to\n- * block the push-buffer method until free data becomes available again.\n- *\n- * When the internal queue is running out of data, the \"need-data\" signal is\n- * emitted, which signals the application that it should start pushing more data\n- * into appsrc.\n- *\n- * In addition to the \"need-data\" and \"enough-data\" signals, appsrc can emit the\n- * \"seek-data\" signal when the \"stream-mode\" property is set to \"seekable\" or\n- * \"random-access\". The signal argument will contain the new desired position in\n- * the stream expressed in the unit set with the \"format\" property. After\n- * receiving the seek-data signal, the application should push-buffers from the\n- * new position.\n- *\n- * These signals allow the application to operate the appsrc in two different\n- * ways:\n- *\n- * The push mode, in which the application repeatedly calls the push-buffer\/push-sample\n- * method with a new buffer\/sample. Optionally, the queue size in the appsrc\n- * can be controlled with the enough-data and need-data signals by respectively\n- * stopping\/starting the push-buffer\/push-sample calls. This is a typical\n- * mode of operation for the stream-type \"stream\" and \"seekable\". Use this\n- * mode when implementing various network protocols or hardware devices.\n- *\n- * The pull mode, in which the need-data signal triggers the next push-buffer call.\n- * This mode is typically used in the \"random-access\" stream-type. Use this\n- * mode for file access or other randomly accessible sources. In this mode, a\n- * buffer of exactly the amount of bytes given by the need-data signal should be\n- * pushed into appsrc.\n- *\n- * In all modes, the size property on appsrc should contain the total stream\n- * size in bytes. Setting this property is mandatory in the random-access mode.\n- * For the stream and seekable modes, setting this property is optional but\n- * recommended.\n- *\n- * When the application has finished pushing data into appsrc, it should call\n- * gst_app_src_end_of_stream() or emit the end-of-stream action signal. After\n- * this call, no more buffers can be pushed into appsrc until a flushing seek\n- * occurs or the state of the appsrc has gone through READY.\n- *\/\n-\n-#ifdef HAVE_CONFIG_H\n-#include \"config.h\"\n-#endif\n-\n-#include <gst\/gst.h>\n-#include <gst\/base\/base.h>\n-\n-#include <string.h>\n-\n-#include \"gstappsrc.h\"\n-\n-typedef enum\n-{\n-  NOONE_WAITING = 0,\n-  STREAM_WAITING = 1 << 0,      \/* streaming thread is waiting for application thread *\/\n-  APP_WAITING = 1 << 1,         \/* application thread is waiting for streaming thread *\/\n-} GstAppSrcWaitStatus;\n-\n-typedef struct\n-{\n-  GstAppSrcCallbacks callbacks;\n-  gpointer user_data;\n-  GDestroyNotify destroy_notify;\n-  gint ref_count;\n-} Callbacks;\n-\n-static Callbacks *\n-callbacks_ref (Callbacks * callbacks)\n-{\n-  g_atomic_int_inc (&callbacks->ref_count);\n-\n-  return callbacks;\n-}\n-\n-static void\n-callbacks_unref (Callbacks * callbacks)\n-{\n-  if (!g_atomic_int_dec_and_test (&callbacks->ref_count))\n-    return;\n-\n-  if (callbacks->destroy_notify)\n-    callbacks->destroy_notify (callbacks->user_data);\n-\n-  g_free (callbacks);\n-}\n-\n-\n-struct _GstAppSrcPrivate\n-{\n-  GCond cond;\n-  GMutex mutex;\n-  GstQueueArray *queue;\n-  GstAppSrcWaitStatus wait_status;\n-\n-  GstCaps *last_caps;\n-  GstCaps *current_caps;\n-  GstSegment last_segment;\n-  GstSegment current_segment;\n-  gboolean pending_custom_segment;\n-\n-  gint64 size;\n-  GstClockTime duration;\n-  GstAppStreamType stream_type;\n-  guint64 max_bytes;\n-  GstFormat format;\n-  gboolean block;\n-  gchar *uri;\n-\n-  gboolean flushing;\n-  gboolean started;\n-  gboolean is_eos;\n-  guint64 queued_bytes;\n-  guint64 offset;\n-  GstAppStreamType current_type;\n-\n-  guint64 min_latency;\n-  guint64 max_latency;\n-  gboolean emit_signals;\n-  guint min_percent;\n-  gboolean handle_segment_change;\n-\n-  Callbacks *callbacks;\n-};\n-\n-GST_DEBUG_CATEGORY_STATIC (app_src_debug);\n-#define GST_CAT_DEFAULT app_src_debug\n-\n-enum\n-{\n-  \/* signals *\/\n-  SIGNAL_NEED_DATA,\n-  SIGNAL_ENOUGH_DATA,\n-  SIGNAL_SEEK_DATA,\n-\n-  \/* actions *\/\n-  SIGNAL_PUSH_BUFFER,\n-  SIGNAL_END_OF_STREAM,\n-  SIGNAL_PUSH_SAMPLE,\n-  SIGNAL_PUSH_BUFFER_LIST,\n-\n-  LAST_SIGNAL\n-};\n-\n-#define DEFAULT_PROP_SIZE          -1\n-#define DEFAULT_PROP_STREAM_TYPE   GST_APP_STREAM_TYPE_STREAM\n-#define DEFAULT_PROP_MAX_BYTES     200000\n-#define DEFAULT_PROP_FORMAT        GST_FORMAT_BYTES\n-#define DEFAULT_PROP_BLOCK         FALSE\n-#define DEFAULT_PROP_IS_LIVE       FALSE\n-#define DEFAULT_PROP_MIN_LATENCY   -1\n-#define DEFAULT_PROP_MAX_LATENCY   -1\n-#define DEFAULT_PROP_EMIT_SIGNALS  TRUE\n-#define DEFAULT_PROP_MIN_PERCENT   0\n-#define DEFAULT_PROP_CURRENT_LEVEL_BYTES   0\n-#define DEFAULT_PROP_DURATION      GST_CLOCK_TIME_NONE\n-#define DEFAULT_PROP_HANDLE_SEGMENT_CHANGE FALSE\n-\n-enum\n-{\n-  PROP_0,\n-  PROP_CAPS,\n-  PROP_SIZE,\n-  PROP_STREAM_TYPE,\n-  PROP_MAX_BYTES,\n-  PROP_FORMAT,\n-  PROP_BLOCK,\n-  PROP_IS_LIVE,\n-  PROP_MIN_LATENCY,\n-  PROP_MAX_LATENCY,\n-  PROP_EMIT_SIGNALS,\n-  PROP_MIN_PERCENT,\n-  PROP_CURRENT_LEVEL_BYTES,\n-  PROP_DURATION,\n-  PROP_HANDLE_SEGMENT_CHANGE,\n-  PROP_LAST\n-};\n-\n-static GstStaticPadTemplate gst_app_src_template =\n-GST_STATIC_PAD_TEMPLATE (\"src\",\n-    GST_PAD_SRC,\n-    GST_PAD_ALWAYS,\n-    GST_STATIC_CAPS_ANY);\n-\n-static void gst_app_src_uri_handler_init (gpointer g_iface,\n-    gpointer iface_data);\n-\n-static void gst_app_src_dispose (GObject * object);\n-static void gst_app_src_finalize (GObject * object);\n-\n-static void gst_app_src_set_property (GObject * object, guint prop_id,\n-    const GValue * value, GParamSpec * pspec);\n-static void gst_app_src_get_property (GObject * object, guint prop_id,\n-    GValue * value, GParamSpec * pspec);\n-\n-static gboolean gst_app_src_send_event (GstElement * element, GstEvent * event);\n-\n-static void gst_app_src_set_latencies (GstAppSrc * appsrc,\n-    gboolean do_min, guint64 min, gboolean do_max, guint64 max);\n-\n-static gboolean gst_app_src_negotiate (GstBaseSrc * basesrc);\n-static GstCaps *gst_app_src_internal_get_caps (GstBaseSrc * bsrc,\n-    GstCaps * filter);\n-static GstFlowReturn gst_app_src_create (GstBaseSrc * bsrc, guint64 offset,\n-    guint size, GstBuffer ** buf);\n-static gboolean gst_app_src_start (GstBaseSrc * bsrc);\n-static gboolean gst_app_src_stop (GstBaseSrc * bsrc);\n-static gboolean gst_app_src_unlock (GstBaseSrc * bsrc);\n-static gboolean gst_app_src_unlock_stop (GstBaseSrc * bsrc);\n-static gboolean gst_app_src_do_seek (GstBaseSrc * src, GstSegment * segment);\n-static gboolean gst_app_src_is_seekable (GstBaseSrc * src);\n-static gboolean gst_app_src_do_get_size (GstBaseSrc * src, guint64 * size);\n-static gboolean gst_app_src_query (GstBaseSrc * src, GstQuery * query);\n-static gboolean gst_app_src_event (GstBaseSrc * src, GstEvent * event);\n-\n-static GstFlowReturn gst_app_src_push_buffer_action (GstAppSrc * appsrc,\n-    GstBuffer * buffer);\n-static GstFlowReturn gst_app_src_push_buffer_list_action (GstAppSrc * appsrc,\n-    GstBufferList * buffer_list);\n-static GstFlowReturn gst_app_src_push_sample_action (GstAppSrc * appsrc,\n-    GstSample * sample);\n-\n-static guint gst_app_src_signals[LAST_SIGNAL] = { 0 };\n-\n-#define gst_app_src_parent_class parent_class\n-G_DEFINE_TYPE_WITH_CODE (GstAppSrc, gst_app_src, GST_TYPE_BASE_SRC,\n-    G_ADD_PRIVATE (GstAppSrc)\n-    G_IMPLEMENT_INTERFACE (GST_TYPE_URI_HANDLER, gst_app_src_uri_handler_init));\n-\n-static void\n-gst_app_src_class_init (GstAppSrcClass * klass)\n-{\n-  GObjectClass *gobject_class = (GObjectClass *) klass;\n-  GstElementClass *element_class = (GstElementClass *) klass;\n-  GstBaseSrcClass *basesrc_class = (GstBaseSrcClass *) klass;\n-\n-  GST_DEBUG_CATEGORY_INIT (app_src_debug, \"appsrc\", 0, \"appsrc element\");\n-\n-  gobject_class->dispose = gst_app_src_dispose;\n-  gobject_class->finalize = gst_app_src_finalize;\n-\n-  gobject_class->set_property = gst_app_src_set_property;\n-  gobject_class->get_property = gst_app_src_get_property;\n-\n-  \/**\n-   * GstAppSrc:caps:\n-   *\n-   * The GstCaps that will negotiated downstream and will be put\n-   * on outgoing buffers.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_CAPS,\n-      g_param_spec_boxed (\"caps\", \"Caps\",\n-          \"The allowed caps for the src pad\", GST_TYPE_CAPS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:format:\n-   *\n-   * The format to use for segment events. When the source is producing\n-   * timestamped buffers this property should be set to GST_FORMAT_TIME.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_FORMAT,\n-      g_param_spec_enum (\"format\", \"Format\",\n-          \"The format of the segment events and seek\", GST_TYPE_FORMAT,\n-          DEFAULT_PROP_FORMAT, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:size:\n-   *\n-   * The total size in bytes of the data stream. If the total size is known, it\n-   * is recommended to configure it with this property.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_SIZE,\n-      g_param_spec_int64 (\"size\", \"Size\",\n-          \"The size of the data stream in bytes (-1 if unknown)\",\n-          -1, G_MAXINT64, DEFAULT_PROP_SIZE,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:stream-type:\n-   *\n-   * The type of stream that this source is producing.  For seekable streams the\n-   * application should connect to the seek-data signal.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_STREAM_TYPE,\n-      g_param_spec_enum (\"stream-type\", \"Stream Type\",\n-          \"the type of the stream\", GST_TYPE_APP_STREAM_TYPE,\n-          DEFAULT_PROP_STREAM_TYPE,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:max-bytes:\n-   *\n-   * The maximum amount of bytes that can be queued internally.\n-   * After the maximum amount of bytes are queued, appsrc will emit the\n-   * \"enough-data\" signal.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_MAX_BYTES,\n-      g_param_spec_uint64 (\"max-bytes\", \"Max bytes\",\n-          \"The maximum number of bytes to queue internally (0 = unlimited)\",\n-          0, G_MAXUINT64, DEFAULT_PROP_MAX_BYTES,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:block:\n-   *\n-   * When max-bytes are queued and after the enough-data signal has been emitted,\n-   * block any further push-buffer calls until the amount of queued bytes drops\n-   * below the max-bytes limit.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_BLOCK,\n-      g_param_spec_boolean (\"block\", \"Block\",\n-          \"Block push-buffer when max-bytes are queued\",\n-          DEFAULT_PROP_BLOCK, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:is-live:\n-   *\n-   * Instruct the source to behave like a live source. This includes that it\n-   * will only push out buffers in the PLAYING state.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_IS_LIVE,\n-      g_param_spec_boolean (\"is-live\", \"Is Live\",\n-          \"Whether to act as a live source\",\n-          DEFAULT_PROP_IS_LIVE, G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc:min-latency:\n-   *\n-   * The minimum latency of the source. A value of -1 will use the default\n-   * latency calculations of #GstBaseSrc.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_MIN_LATENCY,\n-      g_param_spec_int64 (\"min-latency\", \"Min Latency\",\n-          \"The minimum latency (-1 = default)\",\n-          -1, G_MAXINT64, DEFAULT_PROP_MIN_LATENCY,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-  \/**\n-   * GstAppSrc::max-latency:\n-   *\n-   * The maximum latency of the source. A value of -1 means an unlimited amount\n-   * of latency.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_MAX_LATENCY,\n-      g_param_spec_int64 (\"max-latency\", \"Max Latency\",\n-          \"The maximum latency (-1 = unlimited)\",\n-          -1, G_MAXINT64, DEFAULT_PROP_MAX_LATENCY,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:emit-signals:\n-   *\n-   * Make appsrc emit the \"need-data\", \"enough-data\" and \"seek-data\" signals.\n-   * This option is by default enabled for backwards compatibility reasons but\n-   * can disabled when needed because signal emission is expensive.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_EMIT_SIGNALS,\n-      g_param_spec_boolean (\"emit-signals\", \"Emit signals\",\n-          \"Emit need-data, enough-data and seek-data signals\",\n-          DEFAULT_PROP_EMIT_SIGNALS,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:min-percent:\n-   *\n-   * Make appsrc emit the \"need-data\" signal when the amount of bytes in the\n-   * queue drops below this percentage of max-bytes.\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_MIN_PERCENT,\n-      g_param_spec_uint (\"min-percent\", \"Min Percent\",\n-          \"Emit need-data when queued bytes drops below this percent of max-bytes\",\n-          0, 100, DEFAULT_PROP_MIN_PERCENT,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:current-level-bytes:\n-   *\n-   * The number of currently queued bytes inside appsrc.\n-   *\n-   * Since: 1.2\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_CURRENT_LEVEL_BYTES,\n-      g_param_spec_uint64 (\"current-level-bytes\", \"Current Level Bytes\",\n-          \"The number of currently queued bytes\",\n-          0, G_MAXUINT64, DEFAULT_PROP_CURRENT_LEVEL_BYTES,\n-          G_PARAM_READABLE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:duration:\n-   *\n-   * The total duration in nanoseconds of the data stream. If the total duration is known, it\n-   * is recommended to configure it with this property.\n-   *\n-   * Since: 1.10\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_DURATION,\n-      g_param_spec_uint64 (\"duration\", \"Duration\",\n-          \"The duration of the data stream in nanoseconds (GST_CLOCK_TIME_NONE if unknown)\",\n-          0, G_MAXUINT64, DEFAULT_PROP_DURATION,\n-          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc:handle-segment-change:\n-   *\n-   * When enabled, appsrc will check GstSegment in GstSample which was\n-   * pushed via gst_app_src_push_sample() or \"push-sample\" signal action.\n-   * If a GstSegment is changed, corresponding segment event will be followed\n-   * by next data flow.\n-   *\n-   * FIXME: currently only GST_FORMAT_TIME format is supported and therefore\n-   * GstAppSrc::format should be time. However, possibly #GstAppSrc can support\n-   * other formats.\n-   *\n-   * Since: 1.18\n-   *\/\n-  g_object_class_install_property (gobject_class, PROP_HANDLE_SEGMENT_CHANGE,\n-      g_param_spec_boolean (\"handle-segment-change\", \"Handle Segment Change\",\n-          \"Whether to detect and handle changed time format GstSegment in \"\n-          \"GstSample. User should set valid GstSegment in GstSample. \"\n-          \"Must set format property as \\\"time\\\" to enable this property\",\n-          DEFAULT_PROP_HANDLE_SEGMENT_CHANGE,\n-          G_PARAM_READWRITE | GST_PARAM_MUTABLE_READY |\n-          G_PARAM_STATIC_STRINGS));\n-\n-  \/**\n-   * GstAppSrc::need-data:\n-   * @appsrc: the appsrc element that emitted the signal\n-   * @length: the amount of bytes needed.\n-   *\n-   * Signal that the source needs more data. In the callback or from another\n-   * thread you should call push-buffer or end-of-stream.\n-   *\n-   * @length is just a hint and when it is set to -1, any number of bytes can be\n-   * pushed into @appsrc.\n-   *\n-   * You can call push-buffer multiple times until the enough-data signal is\n-   * fired.\n-   *\/\n-  gst_app_src_signals[SIGNAL_NEED_DATA] =\n-      g_signal_new (\"need-data\", G_TYPE_FROM_CLASS (klass), G_SIGNAL_RUN_LAST,\n-      G_STRUCT_OFFSET (GstAppSrcClass, need_data),\n-      NULL, NULL, NULL, G_TYPE_NONE, 1, G_TYPE_UINT);\n-\n-  \/**\n-   * GstAppSrc::enough-data:\n-   * @appsrc: the appsrc element that emitted the signal\n-   *\n-   * Signal that the source has enough data. It is recommended that the\n-   * application stops calling push-buffer until the need-data signal is\n-   * emitted again to avoid excessive buffer queueing.\n-   *\/\n-  gst_app_src_signals[SIGNAL_ENOUGH_DATA] =\n-      g_signal_new (\"enough-data\", G_TYPE_FROM_CLASS (klass), G_SIGNAL_RUN_LAST,\n-      G_STRUCT_OFFSET (GstAppSrcClass, enough_data),\n-      NULL, NULL, NULL, G_TYPE_NONE, 0, G_TYPE_NONE);\n-\n-  \/**\n-   * GstAppSrc::seek-data:\n-   * @appsrc: the appsrc element that emitted the signal\n-   * @offset: the offset to seek to\n-   *\n-   * Seek to the given offset. The next push-buffer should produce buffers from\n-   * the new @offset.\n-   * This callback is only called for seekable stream types.\n-   *\n-   * Returns: %TRUE if the seek succeeded.\n-   *\/\n-  gst_app_src_signals[SIGNAL_SEEK_DATA] =\n-      g_signal_new (\"seek-data\", G_TYPE_FROM_CLASS (klass), G_SIGNAL_RUN_LAST,\n-      G_STRUCT_OFFSET (GstAppSrcClass, seek_data),\n-      NULL, NULL, NULL, G_TYPE_BOOLEAN, 1, G_TYPE_UINT64);\n-\n-   \/**\n-    * GstAppSrc::push-buffer:\n-    * @appsrc: the appsrc\n-    * @buffer: a buffer to push\n-    *\n-    * Adds a buffer to the queue of buffers that the appsrc element will\n-    * push to its source pad. This function does not take ownership of the\n-    * buffer so the buffer needs to be unreffed after calling this function.\n-    *\n-    * When the block property is TRUE, this function can block until free space\n-    * becomes available in the queue.\n-    *\/\n-  gst_app_src_signals[SIGNAL_PUSH_BUFFER] =\n-      g_signal_new (\"push-buffer\", G_TYPE_FROM_CLASS (klass),\n-      G_SIGNAL_RUN_LAST | G_SIGNAL_ACTION, G_STRUCT_OFFSET (GstAppSrcClass,\n-          push_buffer), NULL, NULL, NULL,\n-      GST_TYPE_FLOW_RETURN, 1, GST_TYPE_BUFFER);\n-\n-   \/**\n-    * GstAppSrc::push-buffer-list:\n-    * @appsrc: the appsrc\n-    * @buffer_list: a buffer list to push\n-    *\n-    * Adds a buffer list to the queue of buffers and buffer lists that the\n-    * appsrc element will push to its source pad. This function does not take\n-    * ownership of the buffer list so the buffer list needs to be unreffed\n-    * after calling this function.\n-    *\n-    * When the block property is TRUE, this function can block until free space\n-    * becomes available in the queue.\n-    *\n-    * Since: 1.14\n-    *\/\n-  gst_app_src_signals[SIGNAL_PUSH_BUFFER_LIST] =\n-      g_signal_new (\"push-buffer-list\", G_TYPE_FROM_CLASS (klass),\n-      G_SIGNAL_RUN_LAST | G_SIGNAL_ACTION, G_STRUCT_OFFSET (GstAppSrcClass,\n-          push_buffer_list), NULL, NULL, NULL,\n-      GST_TYPE_FLOW_RETURN, 1, GST_TYPE_BUFFER_LIST);\n-\n-  \/**\n-    * GstAppSrc::push-sample:\n-    * @appsrc: the appsrc\n-    * @sample: a sample from which extract buffer to push\n-    *\n-    * Extract a buffer from the provided sample and adds the extracted buffer\n-    * to the queue of buffers that the appsrc element will\n-    * push to its source pad. This function set the appsrc caps based on the caps\n-    * in the sample and reset the caps if they change.\n-    * Only the caps and the buffer of the provided sample are used and not\n-    * for example the segment in the sample.\n-    * This function does not take ownership of the\n-    * sample so the sample needs to be unreffed after calling this function.\n-    *\n-    * When the block property is TRUE, this function can block until free space\n-    * becomes available in the queue.\n-    *\n-    * Since: 1.6\n-    *\/\n-  gst_app_src_signals[SIGNAL_PUSH_SAMPLE] =\n-      g_signal_new (\"push-sample\", G_TYPE_FROM_CLASS (klass),\n-      G_SIGNAL_RUN_LAST | G_SIGNAL_ACTION, G_STRUCT_OFFSET (GstAppSrcClass,\n-          push_sample), NULL, NULL, NULL,\n-      GST_TYPE_FLOW_RETURN, 1, GST_TYPE_SAMPLE);\n-\n-\n-   \/**\n-    * GstAppSrc::end-of-stream:\n-    * @appsrc: the appsrc\n-    *\n-    * Notify @appsrc that no more buffer are available.\n-    *\/\n-  gst_app_src_signals[SIGNAL_END_OF_STREAM] =\n-      g_signal_new (\"end-of-stream\", G_TYPE_FROM_CLASS (klass),\n-      G_SIGNAL_RUN_LAST | G_SIGNAL_ACTION, G_STRUCT_OFFSET (GstAppSrcClass,\n-          end_of_stream), NULL, NULL, NULL,\n-      GST_TYPE_FLOW_RETURN, 0, G_TYPE_NONE);\n-\n-  gst_element_class_set_static_metadata (element_class, \"AppSrc\",\n-      \"Generic\/Source\", \"Allow the application to feed buffers to a pipeline\",\n-      \"David Schleef <ds@schleef.org>, Wim Taymans <wim.taymans@gmail.com>\");\n-\n-  gst_element_class_add_static_pad_template (element_class,\n-      &gst_app_src_template);\n-\n-  element_class->send_event = gst_app_src_send_event;\n-\n-  basesrc_class->negotiate = gst_app_src_negotiate;\n-  basesrc_class->get_caps = gst_app_src_internal_get_caps;\n-  basesrc_class->create = gst_app_src_create;\n-  basesrc_class->start = gst_app_src_start;\n-  basesrc_class->stop = gst_app_src_stop;\n-  basesrc_class->unlock = gst_app_src_unlock;\n-  basesrc_class->unlock_stop = gst_app_src_unlock_stop;\n-  basesrc_class->do_seek = gst_app_src_do_seek;\n-  basesrc_class->is_seekable = gst_app_src_is_seekable;\n-  basesrc_class->get_size = gst_app_src_do_get_size;\n-  basesrc_class->query = gst_app_src_query;\n-  basesrc_class->event = gst_app_src_event;\n-\n-  klass->push_buffer = gst_app_src_push_buffer_action;\n-  klass->push_buffer_list = gst_app_src_push_buffer_list_action;\n-  klass->push_sample = gst_app_src_push_sample_action;\n-  klass->end_of_stream = gst_app_src_end_of_stream;\n-}\n-\n-static void\n-gst_app_src_init (GstAppSrc * appsrc)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  priv = appsrc->priv = gst_app_src_get_instance_private (appsrc);\n-\n-  g_mutex_init (&priv->mutex);\n-  g_cond_init (&priv->cond);\n-  priv->queue = gst_queue_array_new (16);\n-  priv->wait_status = NOONE_WAITING;\n-\n-  priv->size = DEFAULT_PROP_SIZE;\n-  priv->duration = DEFAULT_PROP_DURATION;\n-  priv->stream_type = DEFAULT_PROP_STREAM_TYPE;\n-  priv->max_bytes = DEFAULT_PROP_MAX_BYTES;\n-  priv->format = DEFAULT_PROP_FORMAT;\n-  priv->block = DEFAULT_PROP_BLOCK;\n-  priv->min_latency = DEFAULT_PROP_MIN_LATENCY;\n-  priv->max_latency = DEFAULT_PROP_MAX_LATENCY;\n-  priv->emit_signals = DEFAULT_PROP_EMIT_SIGNALS;\n-  priv->min_percent = DEFAULT_PROP_MIN_PERCENT;\n-  priv->handle_segment_change = DEFAULT_PROP_HANDLE_SEGMENT_CHANGE;\n-\n-  gst_base_src_set_live (GST_BASE_SRC (appsrc), DEFAULT_PROP_IS_LIVE);\n-}\n-\n-\/* Must be called with priv->mutex *\/\n-static void\n-gst_app_src_flush_queued (GstAppSrc * src, gboolean retain_last_caps)\n-{\n-  GstMiniObject *obj;\n-  GstAppSrcPrivate *priv = src->priv;\n-  GstCaps *requeue_caps = NULL;\n-\n-  while (!gst_queue_array_is_empty (priv->queue)) {\n-    obj = gst_queue_array_pop_head (priv->queue);\n-    if (obj) {\n-      if (GST_IS_CAPS (obj) && retain_last_caps) {\n-        gst_caps_replace (&requeue_caps, GST_CAPS_CAST (obj));\n-      }\n-      gst_mini_object_unref (obj);\n-    }\n-  }\n-\n-  if (requeue_caps) {\n-    gst_queue_array_push_tail (priv->queue, requeue_caps);\n-  }\n-\n-  priv->queued_bytes = 0;\n-}\n-\n-static void\n-gst_app_src_dispose (GObject * obj)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (obj);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  Callbacks *callbacks = NULL;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  if (priv->current_caps) {\n-    gst_caps_unref (priv->current_caps);\n-    priv->current_caps = NULL;\n-  }\n-  if (priv->last_caps) {\n-    gst_caps_unref (priv->last_caps);\n-    priv->last_caps = NULL;\n-  }\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  g_mutex_lock (&priv->mutex);\n-  if (priv->callbacks)\n-    callbacks = g_steal_pointer (&priv->callbacks);\n-  gst_app_src_flush_queued (appsrc, FALSE);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  g_clear_pointer (&callbacks, callbacks_unref);\n-\n-  G_OBJECT_CLASS (parent_class)->dispose (obj);\n-}\n-\n-static void\n-gst_app_src_finalize (GObject * obj)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (obj);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  g_mutex_clear (&priv->mutex);\n-  g_cond_clear (&priv->cond);\n-  gst_queue_array_free (priv->queue);\n-\n-  g_free (priv->uri);\n-\n-  G_OBJECT_CLASS (parent_class)->finalize (obj);\n-}\n-\n-static GstCaps *\n-gst_app_src_internal_get_caps (GstBaseSrc * bsrc, GstCaps * filter)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC (bsrc);\n-  GstCaps *caps;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  if ((caps = appsrc->priv->current_caps))\n-    gst_caps_ref (caps);\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  if (filter) {\n-    if (caps) {\n-      GstCaps *intersection =\n-          gst_caps_intersect_full (filter, caps, GST_CAPS_INTERSECT_FIRST);\n-      gst_caps_unref (caps);\n-      caps = intersection;\n-    } else {\n-      caps = gst_caps_ref (filter);\n-    }\n-  }\n-\n-  GST_DEBUG_OBJECT (appsrc, \"caps: %\" GST_PTR_FORMAT, caps);\n-  return caps;\n-}\n-\n-static void\n-gst_app_src_set_property (GObject * object, guint prop_id,\n-    const GValue * value, GParamSpec * pspec)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (object);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  switch (prop_id) {\n-    case PROP_CAPS:\n-      gst_app_src_set_caps (appsrc, gst_value_get_caps (value));\n-      break;\n-    case PROP_SIZE:\n-      gst_app_src_set_size (appsrc, g_value_get_int64 (value));\n-      break;\n-    case PROP_STREAM_TYPE:\n-      gst_app_src_set_stream_type (appsrc, g_value_get_enum (value));\n-      break;\n-    case PROP_MAX_BYTES:\n-      gst_app_src_set_max_bytes (appsrc, g_value_get_uint64 (value));\n-      break;\n-    case PROP_FORMAT:\n-      priv->format = g_value_get_enum (value);\n-      break;\n-    case PROP_BLOCK:\n-      priv->block = g_value_get_boolean (value);\n-      break;\n-    case PROP_IS_LIVE:\n-      gst_base_src_set_live (GST_BASE_SRC (appsrc),\n-          g_value_get_boolean (value));\n-      break;\n-    case PROP_MIN_LATENCY:\n-      gst_app_src_set_latencies (appsrc, TRUE, g_value_get_int64 (value),\n-          FALSE, -1);\n-      break;\n-    case PROP_MAX_LATENCY:\n-      gst_app_src_set_latencies (appsrc, FALSE, -1, TRUE,\n-          g_value_get_int64 (value));\n-      break;\n-    case PROP_EMIT_SIGNALS:\n-      gst_app_src_set_emit_signals (appsrc, g_value_get_boolean (value));\n-      break;\n-    case PROP_MIN_PERCENT:\n-      priv->min_percent = g_value_get_uint (value);\n-      break;\n-    case PROP_DURATION:\n-      gst_app_src_set_duration (appsrc, g_value_get_uint64 (value));\n-      break;\n-    case PROP_HANDLE_SEGMENT_CHANGE:\n-      priv->handle_segment_change = g_value_get_boolean (value);\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);\n-      break;\n-  }\n-}\n-\n-static void\n-gst_app_src_get_property (GObject * object, guint prop_id, GValue * value,\n-    GParamSpec * pspec)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (object);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  switch (prop_id) {\n-    case PROP_CAPS:\n-      g_value_take_boxed (value, gst_app_src_get_caps (appsrc));\n-      break;\n-    case PROP_SIZE:\n-      g_value_set_int64 (value, gst_app_src_get_size (appsrc));\n-      break;\n-    case PROP_STREAM_TYPE:\n-      g_value_set_enum (value, gst_app_src_get_stream_type (appsrc));\n-      break;\n-    case PROP_MAX_BYTES:\n-      g_value_set_uint64 (value, gst_app_src_get_max_bytes (appsrc));\n-      break;\n-    case PROP_FORMAT:\n-      g_value_set_enum (value, priv->format);\n-      break;\n-    case PROP_BLOCK:\n-      g_value_set_boolean (value, priv->block);\n-      break;\n-    case PROP_IS_LIVE:\n-      g_value_set_boolean (value, gst_base_src_is_live (GST_BASE_SRC (appsrc)));\n-      break;\n-    case PROP_MIN_LATENCY:\n-    {\n-      guint64 min = 0;\n-\n-      gst_app_src_get_latency (appsrc, &min, NULL);\n-      g_value_set_int64 (value, min);\n-      break;\n-    }\n-    case PROP_MAX_LATENCY:\n-    {\n-      guint64 max = 0;\n-\n-      gst_app_src_get_latency (appsrc, NULL, &max);\n-      g_value_set_int64 (value, max);\n-      break;\n-    }\n-    case PROP_EMIT_SIGNALS:\n-      g_value_set_boolean (value, gst_app_src_get_emit_signals (appsrc));\n-      break;\n-    case PROP_MIN_PERCENT:\n-      g_value_set_uint (value, priv->min_percent);\n-      break;\n-    case PROP_CURRENT_LEVEL_BYTES:\n-      g_value_set_uint64 (value, gst_app_src_get_current_level_bytes (appsrc));\n-      break;\n-    case PROP_DURATION:\n-      g_value_set_uint64 (value, gst_app_src_get_duration (appsrc));\n-      break;\n-    case PROP_HANDLE_SEGMENT_CHANGE:\n-      g_value_set_boolean (value, priv->handle_segment_change);\n-      break;\n-    default:\n-      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);\n-      break;\n-  }\n-}\n-\n-static gboolean\n-gst_app_src_send_event (GstElement * element, GstEvent * event)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (element);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_FLUSH_STOP:\n-      g_mutex_lock (&priv->mutex);\n-      gst_app_src_flush_queued (appsrc, TRUE);\n-      g_mutex_unlock (&priv->mutex);\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  return GST_CALL_PARENT_WITH_DEFAULT (GST_ELEMENT_CLASS, send_event, (element,\n-          event), FALSE);\n-}\n-\n-static gboolean\n-gst_app_src_unlock (GstBaseSrc * bsrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (bsrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  GST_DEBUG_OBJECT (appsrc, \"unlock start\");\n-  priv->flushing = TRUE;\n-  g_cond_broadcast (&priv->cond);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_app_src_unlock_stop (GstBaseSrc * bsrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (bsrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  GST_DEBUG_OBJECT (appsrc, \"unlock stop\");\n-  priv->flushing = FALSE;\n-  g_cond_broadcast (&priv->cond);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_app_src_start (GstBaseSrc * bsrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (bsrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  GST_DEBUG_OBJECT (appsrc, \"starting\");\n-  priv->started = TRUE;\n-  \/* set the offset to -1 so that we always do a first seek. This is only used\n-   * in random-access mode. *\/\n-  priv->offset = -1;\n-  priv->flushing = FALSE;\n-  g_mutex_unlock (&priv->mutex);\n-\n-  gst_base_src_set_format (bsrc, priv->format);\n-  gst_segment_init (&priv->last_segment, priv->format);\n-  gst_segment_init (&priv->current_segment, priv->format);\n-  priv->pending_custom_segment = FALSE;\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_app_src_stop (GstBaseSrc * bsrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (bsrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  GST_DEBUG_OBJECT (appsrc, \"stopping\");\n-  priv->is_eos = FALSE;\n-  priv->flushing = TRUE;\n-  priv->started = FALSE;\n-  gst_app_src_flush_queued (appsrc, TRUE);\n-  g_cond_broadcast (&priv->cond);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_app_src_is_seekable (GstBaseSrc * src)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (src);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gboolean res = FALSE;\n-\n-  switch (priv->stream_type) {\n-    case GST_APP_STREAM_TYPE_STREAM:\n-      break;\n-    case GST_APP_STREAM_TYPE_SEEKABLE:\n-    case GST_APP_STREAM_TYPE_RANDOM_ACCESS:\n-      res = TRUE;\n-      break;\n-  }\n-  return res;\n-}\n-\n-static gboolean\n-gst_app_src_do_get_size (GstBaseSrc * src, guint64 * size)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (src);\n-\n-  *size = gst_app_src_get_size (appsrc);\n-\n-  return TRUE;\n-}\n-\n-static gboolean\n-gst_app_src_query (GstBaseSrc * src, GstQuery * query)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (src);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gboolean res;\n-\n-  switch (GST_QUERY_TYPE (query)) {\n-    case GST_QUERY_LATENCY:\n-    {\n-      GstClockTime min, max;\n-      gboolean live;\n-\n-      \/* Query the parent class for the defaults *\/\n-      res = gst_base_src_query_latency (src, &live, &min, &max);\n-\n-      \/* overwrite with our values when we need to *\/\n-      g_mutex_lock (&priv->mutex);\n-      if (priv->min_latency != -1) {\n-        min = priv->min_latency;\n-        max = priv->max_latency;\n-      }\n-      g_mutex_unlock (&priv->mutex);\n-\n-      gst_query_set_latency (query, live, min, max);\n-      break;\n-    }\n-    case GST_QUERY_SCHEDULING:\n-    {\n-      gst_query_set_scheduling (query, GST_SCHEDULING_FLAG_SEEKABLE, 1, -1, 0);\n-      gst_query_add_scheduling_mode (query, GST_PAD_MODE_PUSH);\n-\n-      switch (priv->stream_type) {\n-        case GST_APP_STREAM_TYPE_STREAM:\n-        case GST_APP_STREAM_TYPE_SEEKABLE:\n-          break;\n-        case GST_APP_STREAM_TYPE_RANDOM_ACCESS:\n-          gst_query_add_scheduling_mode (query, GST_PAD_MODE_PULL);\n-          break;\n-      }\n-      res = TRUE;\n-      break;\n-    }\n-    case GST_QUERY_DURATION:\n-    {\n-      GstFormat format;\n-      gst_query_parse_duration (query, &format, NULL);\n-      if (format == GST_FORMAT_BYTES) {\n-        gst_query_set_duration (query, format, priv->size);\n-        res = TRUE;\n-      } else if (format == GST_FORMAT_TIME) {\n-        if (priv->duration != GST_CLOCK_TIME_NONE) {\n-          gst_query_set_duration (query, format, priv->duration);\n-          res = TRUE;\n-        } else {\n-          res = FALSE;\n-        }\n-      } else {\n-        res = FALSE;\n-      }\n-      break;\n-    }\n-    default:\n-      res = GST_BASE_SRC_CLASS (parent_class)->query (src, query);\n-      break;\n-  }\n-\n-  return res;\n-}\n-\n-\/* will be called in push mode *\/\n-static gboolean\n-gst_app_src_do_seek (GstBaseSrc * src, GstSegment * segment)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (src);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gint64 desired_position;\n-  gboolean res = FALSE;\n-  gboolean emit;\n-  Callbacks *callbacks = NULL;\n-\n-  desired_position = segment->position;\n-\n-  \/* no need to try to seek in streaming mode *\/\n-  if (priv->stream_type == GST_APP_STREAM_TYPE_STREAM)\n-    return TRUE;\n-\n-  GST_DEBUG_OBJECT (appsrc, \"seeking to %\" G_GINT64_FORMAT \", format %s\",\n-      desired_position, gst_format_get_name (segment->format));\n-\n-  g_mutex_lock (&priv->mutex);\n-  emit = priv->emit_signals;\n-  if (priv->callbacks)\n-    callbacks = callbacks_ref (priv->callbacks);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  if (callbacks && callbacks->callbacks.seek_data) {\n-    res =\n-        callbacks->callbacks.seek_data (appsrc, desired_position,\n-        callbacks->user_data);\n-  } else if (emit) {\n-    g_signal_emit (appsrc, gst_app_src_signals[SIGNAL_SEEK_DATA], 0,\n-        desired_position, &res);\n-  }\n-\n-  g_clear_pointer (&callbacks, callbacks_unref);\n-\n-  if (res) {\n-    GST_DEBUG_OBJECT (appsrc, \"flushing queue\");\n-    g_mutex_lock (&priv->mutex);\n-    gst_app_src_flush_queued (appsrc, TRUE);\n-    gst_segment_copy_into (segment, &priv->last_segment);\n-    gst_segment_copy_into (segment, &priv->current_segment);\n-    priv->pending_custom_segment = FALSE;\n-    g_mutex_unlock (&priv->mutex);\n-    priv->is_eos = FALSE;\n-  } else {\n-    GST_WARNING_OBJECT (appsrc, \"seek failed\");\n-  }\n-\n-  return res;\n-}\n-\n-\/* must be called with the appsrc mutex *\/\n-static gboolean\n-gst_app_src_emit_seek (GstAppSrc * appsrc, guint64 offset)\n-{\n-  gboolean res = FALSE;\n-  gboolean emit;\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  Callbacks *callbacks = NULL;\n-\n-  emit = priv->emit_signals;\n-  if (priv->callbacks)\n-    callbacks = callbacks_ref (priv->callbacks);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  GST_DEBUG_OBJECT (appsrc,\n-      \"we are at %\" G_GINT64_FORMAT \", seek to %\" G_GINT64_FORMAT,\n-      priv->offset, offset);\n-\n-  if (callbacks && callbacks->callbacks.seek_data)\n-    res = callbacks->callbacks.seek_data (appsrc, offset, callbacks->user_data);\n-  else if (emit)\n-    g_signal_emit (appsrc, gst_app_src_signals[SIGNAL_SEEK_DATA], 0,\n-        offset, &res);\n-\n-  g_clear_pointer (&callbacks, callbacks_unref);\n-\n-  g_mutex_lock (&priv->mutex);\n-\n-  return res;\n-}\n-\n-\/* must be called with the appsrc mutex. After this call things can be\n- * flushing *\/\n-static void\n-gst_app_src_emit_need_data (GstAppSrc * appsrc, guint size)\n-{\n-  gboolean emit;\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  Callbacks *callbacks = NULL;\n-\n-  emit = priv->emit_signals;\n-  if (priv->callbacks)\n-    callbacks = callbacks_ref (priv->callbacks);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  \/* we have no data, we need some. We fire the signal with the size hint. *\/\n-  if (callbacks && callbacks->callbacks.need_data)\n-    callbacks->callbacks.need_data (appsrc, size, callbacks->user_data);\n-  else if (emit)\n-    g_signal_emit (appsrc, gst_app_src_signals[SIGNAL_NEED_DATA], 0, size,\n-        NULL);\n-\n-  g_clear_pointer (&callbacks, callbacks_unref);\n-\n-  g_mutex_lock (&priv->mutex);\n-  \/* we can be flushing now because we released the lock *\/\n-}\n-\n-\/* must be called with the appsrc mutex *\/\n-static gboolean\n-gst_app_src_do_negotiate (GstBaseSrc * basesrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (basesrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gboolean result;\n-  GstCaps *caps;\n-\n-  GST_OBJECT_LOCK (basesrc);\n-  caps = priv->current_caps ? gst_caps_ref (priv->current_caps) : NULL;\n-  GST_OBJECT_UNLOCK (basesrc);\n-\n-  \/* Avoid deadlock by unlocking mutex\n-   * otherwise we get deadlock between this and stream lock *\/\n-  g_mutex_unlock (&priv->mutex);\n-  if (caps) {\n-    result = gst_base_src_set_caps (basesrc, caps);\n-    gst_caps_unref (caps);\n-  } else {\n-    result = GST_BASE_SRC_CLASS (parent_class)->negotiate (basesrc);\n-  }\n-  g_mutex_lock (&priv->mutex);\n-\n-  return result;\n-}\n-\n-static gboolean\n-gst_app_src_negotiate (GstBaseSrc * basesrc)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (basesrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gboolean result;\n-\n-  g_mutex_lock (&priv->mutex);\n-  result = gst_app_src_do_negotiate (basesrc);\n-  g_mutex_unlock (&priv->mutex);\n-  return result;\n-}\n-\n-static GstFlowReturn\n-gst_app_src_create (GstBaseSrc * bsrc, guint64 offset, guint size,\n-    GstBuffer ** buf)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (bsrc);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  GstFlowReturn ret;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  if (G_UNLIKELY (priv->size != bsrc->segment.duration &&\n-          bsrc->segment.format == GST_FORMAT_BYTES)) {\n-    GST_DEBUG_OBJECT (appsrc,\n-        \"Size changed from %\" G_GINT64_FORMAT \" to %\" G_GINT64_FORMAT,\n-        bsrc->segment.duration, priv->size);\n-    bsrc->segment.duration = priv->size;\n-    GST_OBJECT_UNLOCK (appsrc);\n-\n-    gst_element_post_message (GST_ELEMENT (appsrc),\n-        gst_message_new_duration_changed (GST_OBJECT (appsrc)));\n-  } else if (G_UNLIKELY (priv->duration != bsrc->segment.duration &&\n-          bsrc->segment.format == GST_FORMAT_TIME)) {\n-    GST_DEBUG_OBJECT (appsrc,\n-        \"Duration changed from %\" GST_TIME_FORMAT \" to %\" GST_TIME_FORMAT,\n-        GST_TIME_ARGS (bsrc->segment.duration), GST_TIME_ARGS (priv->duration));\n-    bsrc->segment.duration = priv->duration;\n-    GST_OBJECT_UNLOCK (appsrc);\n-\n-    gst_element_post_message (GST_ELEMENT (appsrc),\n-        gst_message_new_duration_changed (GST_OBJECT (appsrc)));\n-  } else {\n-    GST_OBJECT_UNLOCK (appsrc);\n-  }\n-\n-  g_mutex_lock (&priv->mutex);\n-  \/* check flushing first *\/\n-  if (G_UNLIKELY (priv->flushing))\n-    goto flushing;\n-\n-  if (priv->stream_type == GST_APP_STREAM_TYPE_RANDOM_ACCESS) {\n-    \/* if we are dealing with a random-access stream, issue a seek if the offset\n-     * changed. *\/\n-    if (G_UNLIKELY (priv->offset != offset)) {\n-      gboolean res;\n-\n-      \/* do the seek *\/\n-      res = gst_app_src_emit_seek (appsrc, offset);\n-\n-      if (G_UNLIKELY (!res))\n-        \/* failing to seek is fatal *\/\n-        goto seek_error;\n-\n-      priv->offset = offset;\n-      priv->is_eos = FALSE;\n-    }\n-  }\n-\n-  while (TRUE) {\n-    \/* return data as long as we have some *\/\n-    if (!gst_queue_array_is_empty (priv->queue)) {\n-      guint buf_size;\n-      GstMiniObject *obj = gst_queue_array_pop_head (priv->queue);\n-\n-      if (GST_IS_CAPS (obj)) {\n-        GstCaps *next_caps = GST_CAPS (obj);\n-        gboolean caps_changed = TRUE;\n-\n-        if (next_caps && priv->current_caps)\n-          caps_changed = !gst_caps_is_equal (next_caps, priv->current_caps);\n-        else\n-          caps_changed = (next_caps != priv->current_caps);\n-\n-        gst_caps_replace (&priv->current_caps, next_caps);\n-\n-        if (next_caps) {\n-          gst_caps_unref (next_caps);\n-        }\n-\n-        if (caps_changed)\n-          gst_app_src_do_negotiate (bsrc);\n-\n-        \/* Lock has released so now may need\n-         *- flushing\n-         *- new caps change\n-         *- check queue has data *\/\n-        if (G_UNLIKELY (priv->flushing))\n-          goto flushing;\n-\n-        \/* Continue checks caps and queue *\/\n-        continue;\n-      }\n-\n-      if (GST_IS_BUFFER (obj)) {\n-        *buf = GST_BUFFER (obj);\n-        buf_size = gst_buffer_get_size (*buf);\n-        GST_LOG_OBJECT (appsrc, \"have buffer %p of size %u\", *buf, buf_size);\n-      } else if (GST_IS_BUFFER_LIST (obj)) {\n-        GstBufferList *buffer_list;\n-\n-        buffer_list = GST_BUFFER_LIST (obj);\n-\n-        buf_size = gst_buffer_list_calculate_size (buffer_list);\n-\n-        GST_LOG_OBJECT (appsrc, \"have buffer list %p of size %u, %u buffers\",\n-            buffer_list, buf_size, gst_buffer_list_length (buffer_list));\n-\n-        gst_base_src_submit_buffer_list (bsrc, buffer_list);\n-        *buf = NULL;\n-      } else if (GST_IS_EVENT (obj)) {\n-        GstEvent *event = GST_EVENT (obj);\n-        const GstSegment *segment = NULL;\n-\n-        gst_event_parse_segment (event, &segment);\n-        g_assert (segment != NULL);\n-\n-        if (!gst_segment_is_equal (&priv->current_segment, segment)) {\n-          GST_DEBUG_OBJECT (appsrc,\n-              \"Update new segment %\" GST_PTR_FORMAT, event);\n-          if (!gst_base_src_new_segment (bsrc, segment)) {\n-            GST_ERROR_OBJECT (appsrc,\n-                \"Couldn't set new segment %\" GST_PTR_FORMAT, event);\n-            gst_event_unref (event);\n-            goto invalid_segment;\n-          }\n-          gst_segment_copy_into (segment, &priv->current_segment);\n-        }\n-\n-        gst_event_unref (event);\n-        continue;\n-      } else {\n-        g_assert_not_reached ();\n-      }\n-\n-      priv->queued_bytes -= buf_size;\n-\n-      \/* only update the offset when in random_access mode *\/\n-      if (priv->stream_type == GST_APP_STREAM_TYPE_RANDOM_ACCESS)\n-        priv->offset += buf_size;\n-\n-      \/* signal that we removed an item *\/\n-      if ((priv->wait_status & APP_WAITING))\n-        g_cond_broadcast (&priv->cond);\n-\n-      \/* see if we go lower than the min-percent *\/\n-      if (priv->min_percent && priv->max_bytes) {\n-        if (priv->queued_bytes * 100 \/ priv->max_bytes <= priv->min_percent)\n-          \/* ignore flushing state, we got a buffer and we will return it now.\n-           * Errors will be handled in the next round *\/\n-          gst_app_src_emit_need_data (appsrc, size);\n-      }\n-      ret = GST_FLOW_OK;\n-      break;\n-    } else {\n-      gst_app_src_emit_need_data (appsrc, size);\n-\n-      \/* we can be flushing now because we released the lock above *\/\n-      if (G_UNLIKELY (priv->flushing))\n-        goto flushing;\n-\n-      \/* if we have a buffer now, continue the loop and try to return it. In\n-       * random-access mode (where a buffer is normally pushed in the above\n-       * signal) we can still be empty because the pushed buffer got flushed or\n-       * when the application pushes the requested buffer later, we support both\n-       * possibilities. *\/\n-      if (!gst_queue_array_is_empty (priv->queue))\n-        continue;\n-\n-      \/* no buffer yet, maybe we are EOS, if not, block for more data. *\/\n-    }\n-\n-    \/* check EOS *\/\n-    if (G_UNLIKELY (priv->is_eos))\n-      goto eos;\n-\n-    \/* nothing to return, wait a while for new data or flushing. *\/\n-    priv->wait_status |= STREAM_WAITING;\n-    g_cond_wait (&priv->cond, &priv->mutex);\n-    priv->wait_status &= ~STREAM_WAITING;\n-  }\n-  g_mutex_unlock (&priv->mutex);\n-  return ret;\n-\n-  \/* ERRORS *\/\n-flushing:\n-  {\n-    GST_DEBUG_OBJECT (appsrc, \"we are flushing\");\n-    g_mutex_unlock (&priv->mutex);\n-    return GST_FLOW_FLUSHING;\n-  }\n-eos:\n-  {\n-    GST_DEBUG_OBJECT (appsrc, \"we are EOS\");\n-    g_mutex_unlock (&priv->mutex);\n-    return GST_FLOW_EOS;\n-  }\n-seek_error:\n-  {\n-    g_mutex_unlock (&priv->mutex);\n-    GST_ELEMENT_ERROR (appsrc, RESOURCE, READ, (\"failed to seek\"),\n-        GST_ERROR_SYSTEM);\n-    return GST_FLOW_ERROR;\n-  }\n-\n-invalid_segment:\n-  {\n-    g_mutex_unlock (&priv->mutex);\n-    GST_ELEMENT_ERROR (appsrc, LIBRARY, SETTINGS,\n-        (NULL), (\"Failed to configure the provided input segment.\"));\n-    return GST_FLOW_ERROR;\n-  }\n-}\n-\n-\/* external API *\/\n-\n-\/**\n- * gst_app_src_set_caps:\n- * @appsrc: a #GstAppSrc\n- * @caps: (nullable): caps to set\n- *\n- * Set the capabilities on the appsrc element.  This function takes\n- * a copy of the caps structure. After calling this method, the source will\n- * only produce caps that match @caps. @caps must be fixed and the caps on the\n- * buffers must match the caps or left NULL.\n- *\/\n-void\n-gst_app_src_set_caps (GstAppSrc * appsrc, const GstCaps * caps)\n-{\n-  GstAppSrcPrivate *priv;\n-  gboolean caps_changed;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  if (caps && priv->last_caps)\n-    caps_changed = !gst_caps_is_equal (caps, priv->last_caps);\n-  else\n-    caps_changed = (caps != priv->last_caps);\n-\n-  if (caps_changed) {\n-    GstCaps *new_caps;\n-    gpointer t;\n-\n-    new_caps = caps ? gst_caps_copy (caps) : NULL;\n-    GST_DEBUG_OBJECT (appsrc, \"setting caps to %\" GST_PTR_FORMAT, caps);\n-\n-    while ((t = gst_queue_array_peek_tail (priv->queue)) && GST_IS_CAPS (t)) {\n-      gst_caps_unref (gst_queue_array_pop_tail (priv->queue));\n-    }\n-    gst_queue_array_push_tail (priv->queue, new_caps);\n-    gst_caps_replace (&priv->last_caps, new_caps);\n-\n-    if ((priv->wait_status & STREAM_WAITING))\n-      g_cond_broadcast (&priv->cond);\n-  }\n-\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  g_mutex_unlock (&priv->mutex);\n-}\n-\n-\/**\n- * gst_app_src_get_caps:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the configured caps on @appsrc.\n- *\n- * Returns: the #GstCaps produced by the source. gst_caps_unref() after usage.\n- *\/\n-GstCaps *\n-gst_app_src_get_caps (GstAppSrc * appsrc)\n-{\n-\n-  GstCaps *caps;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), NULL);\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  if ((caps = appsrc->priv->last_caps))\n-    gst_caps_ref (caps);\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  return caps;\n-\n-}\n-\n-\/**\n- * gst_app_src_set_size:\n- * @appsrc: a #GstAppSrc\n- * @size: the size to set\n- *\n- * Set the size of the stream in bytes. A value of -1 means that the size is\n- * not known.\n- *\/\n-void\n-gst_app_src_set_size (GstAppSrc * appsrc, gint64 size)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  GST_DEBUG_OBJECT (appsrc, \"setting size of %\" G_GINT64_FORMAT, size);\n-  priv->size = size;\n-  GST_OBJECT_UNLOCK (appsrc);\n-}\n-\n-\/**\n- * gst_app_src_get_size:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the size of the stream in bytes. A value of -1 means that the size is\n- * not known.\n- *\n- * Returns: the size of the stream previously set with gst_app_src_set_size();\n- *\/\n-gint64\n-gst_app_src_get_size (GstAppSrc * appsrc)\n-{\n-  gint64 size;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), -1);\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  size = priv->size;\n-  GST_DEBUG_OBJECT (appsrc, \"getting size of %\" G_GINT64_FORMAT, size);\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  return size;\n-}\n-\n-\/**\n- * gst_app_src_set_duration:\n- * @appsrc: a #GstAppSrc\n- * @duration: the duration to set\n- *\n- * Set the duration of the stream in nanoseconds. A value of GST_CLOCK_TIME_NONE means that the duration is\n- * not known.\n- *\n- * Since: 1.10\n- *\/\n-void\n-gst_app_src_set_duration (GstAppSrc * appsrc, GstClockTime duration)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  GST_DEBUG_OBJECT (appsrc, \"setting duration of %\" GST_TIME_FORMAT,\n-      GST_TIME_ARGS (duration));\n-  priv->duration = duration;\n-  GST_OBJECT_UNLOCK (appsrc);\n-}\n-\n-\/**\n- * gst_app_src_get_duration:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the duration of the stream in nanoseconds. A value of GST_CLOCK_TIME_NONE means that the duration is\n- * not known.\n- *\n- * Returns: the duration of the stream previously set with gst_app_src_set_duration();\n- *\n- * Since: 1.10\n- *\/\n-GstClockTime\n-gst_app_src_get_duration (GstAppSrc * appsrc)\n-{\n-  GstClockTime duration;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), GST_CLOCK_TIME_NONE);\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  duration = priv->duration;\n-  GST_DEBUG_OBJECT (appsrc, \"getting duration of %\" GST_TIME_FORMAT,\n-      GST_TIME_ARGS (duration));\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  return duration;\n-}\n-\n-\/**\n- * gst_app_src_set_stream_type:\n- * @appsrc: a #GstAppSrc\n- * @type: the new state\n- *\n- * Set the stream type on @appsrc. For seekable streams, the \"seek\" signal must\n- * be connected to.\n- *\n- * A stream_type stream\n- *\/\n-void\n-gst_app_src_set_stream_type (GstAppSrc * appsrc, GstAppStreamType type)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  GST_DEBUG_OBJECT (appsrc, \"setting stream_type of %d\", type);\n-  priv->stream_type = type;\n-  GST_OBJECT_UNLOCK (appsrc);\n-}\n-\n-\/**\n- * gst_app_src_get_stream_type:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the stream type. Control the stream type of @appsrc\n- * with gst_app_src_set_stream_type().\n- *\n- * Returns: the stream type.\n- *\/\n-GstAppStreamType\n-gst_app_src_get_stream_type (GstAppSrc * appsrc)\n-{\n-  gboolean stream_type;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), FALSE);\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  stream_type = priv->stream_type;\n-  GST_DEBUG_OBJECT (appsrc, \"getting stream_type of %d\", stream_type);\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  return stream_type;\n-}\n-\n-\/**\n- * gst_app_src_set_max_bytes:\n- * @appsrc: a #GstAppSrc\n- * @max: the maximum number of bytes to queue\n- *\n- * Set the maximum amount of bytes that can be queued in @appsrc.\n- * After the maximum amount of bytes are queued, @appsrc will emit the\n- * \"enough-data\" signal.\n- *\/\n-void\n-gst_app_src_set_max_bytes (GstAppSrc * appsrc, guint64 max)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  if (max != priv->max_bytes) {\n-    GST_DEBUG_OBJECT (appsrc, \"setting max-bytes to %\" G_GUINT64_FORMAT, max);\n-    priv->max_bytes = max;\n-    \/* signal the change *\/\n-    g_cond_broadcast (&priv->cond);\n-  }\n-  g_mutex_unlock (&priv->mutex);\n-}\n-\n-\/**\n- * gst_app_src_get_max_bytes:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the maximum amount of bytes that can be queued in @appsrc.\n- *\n- * Returns: The maximum amount of bytes that can be queued.\n- *\/\n-guint64\n-gst_app_src_get_max_bytes (GstAppSrc * appsrc)\n-{\n-  guint64 result;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), 0);\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  result = priv->max_bytes;\n-  GST_DEBUG_OBJECT (appsrc, \"getting max-bytes of %\" G_GUINT64_FORMAT, result);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return result;\n-}\n-\n-\/**\n- * gst_app_src_get_current_level_bytes:\n- * @appsrc: a #GstAppSrc\n- *\n- * Get the number of currently queued bytes inside @appsrc.\n- *\n- * Returns: The number of currently queued bytes.\n- *\n- * Since: 1.2\n- *\/\n-guint64\n-gst_app_src_get_current_level_bytes (GstAppSrc * appsrc)\n-{\n-  gint64 queued;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), -1);\n-\n-  priv = appsrc->priv;\n-\n-  GST_OBJECT_LOCK (appsrc);\n-  queued = priv->queued_bytes;\n-  GST_DEBUG_OBJECT (appsrc, \"current level bytes is %\" G_GUINT64_FORMAT,\n-      queued);\n-  GST_OBJECT_UNLOCK (appsrc);\n-\n-  return queued;\n-}\n-\n-static void\n-gst_app_src_set_latencies (GstAppSrc * appsrc, gboolean do_min, guint64 min,\n-    gboolean do_max, guint64 max)\n-{\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  gboolean changed = FALSE;\n-\n-  g_mutex_lock (&priv->mutex);\n-  if (do_min && priv->min_latency != min) {\n-    priv->min_latency = min;\n-    changed = TRUE;\n-  }\n-  if (do_max && priv->max_latency != max) {\n-    priv->max_latency = max;\n-    changed = TRUE;\n-  }\n-  g_mutex_unlock (&priv->mutex);\n-\n-  if (changed) {\n-    GST_DEBUG_OBJECT (appsrc, \"posting latency changed\");\n-    gst_element_post_message (GST_ELEMENT_CAST (appsrc),\n-        gst_message_new_latency (GST_OBJECT_CAST (appsrc)));\n-  }\n-}\n-\n-\/**\n- * gst_app_src_set_latency:\n- * @appsrc: a #GstAppSrc\n- * @min: the min latency\n- * @max: the max latency\n- *\n- * Configure the @min and @max latency in @src. If @min is set to -1, the\n- * default latency calculations for pseudo-live sources will be used.\n- *\/\n-void\n-gst_app_src_set_latency (GstAppSrc * appsrc, guint64 min, guint64 max)\n-{\n-  gst_app_src_set_latencies (appsrc, TRUE, min, TRUE, max);\n-}\n-\n-\/**\n- * gst_app_src_get_latency:\n- * @appsrc: a #GstAppSrc\n- * @min: (out): the min latency\n- * @max: (out): the max latency\n- *\n- * Retrieve the min and max latencies in @min and @max respectively.\n- *\/\n-void\n-gst_app_src_get_latency (GstAppSrc * appsrc, guint64 * min, guint64 * max)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  if (min)\n-    *min = priv->min_latency;\n-  if (max)\n-    *max = priv->max_latency;\n-  g_mutex_unlock (&priv->mutex);\n-}\n-\n-\/**\n- * gst_app_src_set_emit_signals:\n- * @appsrc: a #GstAppSrc\n- * @emit: the new state\n- *\n- * Make appsrc emit the \"new-preroll\" and \"new-buffer\" signals. This option is\n- * by default disabled because signal emission is expensive and unneeded when\n- * the application prefers to operate in pull mode.\n- *\/\n-void\n-gst_app_src_set_emit_signals (GstAppSrc * appsrc, gboolean emit)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  priv->emit_signals = emit;\n-  g_mutex_unlock (&priv->mutex);\n-}\n-\n-\/**\n- * gst_app_src_get_emit_signals:\n- * @appsrc: a #GstAppSrc\n- *\n- * Check if appsrc will emit the \"new-preroll\" and \"new-buffer\" signals.\n- *\n- * Returns: %TRUE if @appsrc is emitting the \"new-preroll\" and \"new-buffer\"\n- * signals.\n- *\/\n-gboolean\n-gst_app_src_get_emit_signals (GstAppSrc * appsrc)\n-{\n-  gboolean result;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), FALSE);\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  result = priv->emit_signals;\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return result;\n-}\n-\n-static GstFlowReturn\n-gst_app_src_push_internal (GstAppSrc * appsrc, GstBuffer * buffer,\n-    GstBufferList * buflist, gboolean steal_ref)\n-{\n-  gboolean first = TRUE;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), GST_FLOW_ERROR);\n-\n-  priv = appsrc->priv;\n-\n-  if (buffer != NULL)\n-    g_return_val_if_fail (GST_IS_BUFFER (buffer), GST_FLOW_ERROR);\n-  else\n-    g_return_val_if_fail (GST_IS_BUFFER_LIST (buflist), GST_FLOW_ERROR);\n-\n-  if (buflist != NULL) {\n-    if (gst_buffer_list_length (buflist) == 0)\n-      return GST_FLOW_OK;\n-\n-    buffer = gst_buffer_list_get (buflist, 0);\n-  }\n-\n-  if (GST_BUFFER_DTS (buffer) == GST_CLOCK_TIME_NONE &&\n-      GST_BUFFER_PTS (buffer) == GST_CLOCK_TIME_NONE &&\n-      gst_base_src_get_do_timestamp (GST_BASE_SRC_CAST (appsrc))) {\n-    GstClock *clock;\n-\n-    clock = gst_element_get_clock (GST_ELEMENT_CAST (appsrc));\n-    if (clock) {\n-      GstClockTime now;\n-      GstClockTime base_time =\n-          gst_element_get_base_time (GST_ELEMENT_CAST (appsrc));\n-\n-      now = gst_clock_get_time (clock);\n-      if (now > base_time)\n-        now -= base_time;\n-      else\n-        now = 0;\n-      gst_object_unref (clock);\n-\n-      if (buflist == NULL) {\n-        if (!steal_ref) {\n-          buffer = gst_buffer_copy (buffer);\n-          steal_ref = TRUE;\n-        } else {\n-          buffer = gst_buffer_make_writable (buffer);\n-        }\n-      } else {\n-        if (!steal_ref) {\n-          buflist = gst_buffer_list_copy (buflist);\n-          steal_ref = TRUE;\n-        } else {\n-          buflist = gst_buffer_list_make_writable (buflist);\n-        }\n-        buffer = gst_buffer_list_get_writable (buflist, 0);\n-      }\n-\n-      GST_BUFFER_PTS (buffer) = now;\n-      GST_BUFFER_DTS (buffer) = now;\n-    } else {\n-      GST_WARNING_OBJECT (appsrc,\n-          \"do-timestamp=TRUE but buffers are provided before \"\n-          \"reaching the PLAYING state and having a clock. Timestamps will \"\n-          \"not be accurate!\");\n-    }\n-  }\n-\n-  g_mutex_lock (&priv->mutex);\n-\n-  while (TRUE) {\n-    \/* can't accept buffers when we are flushing or EOS *\/\n-    if (priv->flushing)\n-      goto flushing;\n-\n-    if (priv->is_eos)\n-      goto eos;\n-\n-    if (priv->max_bytes && priv->queued_bytes >= priv->max_bytes) {\n-      GST_DEBUG_OBJECT (appsrc,\n-          \"queue filled (%\" G_GUINT64_FORMAT \" >= %\" G_GUINT64_FORMAT \")\",\n-          priv->queued_bytes, priv->max_bytes);\n-\n-      if (first) {\n-        Callbacks *callbacks = NULL;\n-        gboolean emit;\n-\n-        emit = priv->emit_signals;\n-        if (priv->callbacks)\n-          callbacks = callbacks_ref (priv->callbacks);\n-        \/* only signal on the first push *\/\n-        g_mutex_unlock (&priv->mutex);\n-\n-        if (callbacks && callbacks->callbacks.enough_data)\n-          callbacks->callbacks.enough_data (appsrc, callbacks->user_data);\n-        else if (emit)\n-          g_signal_emit (appsrc, gst_app_src_signals[SIGNAL_ENOUGH_DATA], 0,\n-              NULL);\n-\n-        g_clear_pointer (&callbacks, callbacks_unref);\n-\n-        g_mutex_lock (&priv->mutex);\n-        \/* continue to check for flushing\/eos after releasing the lock *\/\n-        first = FALSE;\n-        continue;\n-      }\n-      if (priv->block) {\n-        GST_DEBUG_OBJECT (appsrc, \"waiting for free space\");\n-        \/* we are filled, wait until a buffer gets popped or when we\n-         * flush. *\/\n-        priv->wait_status |= APP_WAITING;\n-        g_cond_wait (&priv->cond, &priv->mutex);\n-        priv->wait_status &= ~APP_WAITING;\n-      } else {\n-        \/* no need to wait for free space, we just pump more data into the\n-         * queue hoping that the caller reacts to the enough-data signal and\n-         * stops pushing buffers. *\/\n-        break;\n-      }\n-    } else\n-      break;\n-  }\n-\n-  if (priv->pending_custom_segment) {\n-    GstEvent *event = gst_event_new_segment (&priv->last_segment);\n-\n-    GST_DEBUG_OBJECT (appsrc, \"enqueue new segment %\" GST_PTR_FORMAT, event);\n-    gst_queue_array_push_tail (priv->queue, event);\n-    priv->pending_custom_segment = FALSE;\n-  }\n-\n-  if (buflist != NULL) {\n-    GST_DEBUG_OBJECT (appsrc, \"queueing buffer list %p\", buflist);\n-    if (!steal_ref)\n-      gst_buffer_list_ref (buflist);\n-    gst_queue_array_push_tail (priv->queue, buflist);\n-    priv->queued_bytes += gst_buffer_list_calculate_size (buflist);\n-  } else {\n-    GST_DEBUG_OBJECT (appsrc, \"queueing buffer %p\", buffer);\n-    if (!steal_ref)\n-      gst_buffer_ref (buffer);\n-    gst_queue_array_push_tail (priv->queue, buffer);\n-    priv->queued_bytes += gst_buffer_get_size (buffer);\n-  }\n-\n-  if ((priv->wait_status & STREAM_WAITING))\n-    g_cond_broadcast (&priv->cond);\n-\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return GST_FLOW_OK;\n-\n-  \/* ERRORS *\/\n-flushing:\n-  {\n-    GST_DEBUG_OBJECT (appsrc, \"refuse buffer %p, we are flushing\", buffer);\n-    if (steal_ref)\n-      gst_buffer_unref (buffer);\n-    g_mutex_unlock (&priv->mutex);\n-    return GST_FLOW_FLUSHING;\n-  }\n-eos:\n-  {\n-    GST_DEBUG_OBJECT (appsrc, \"refuse buffer %p, we are EOS\", buffer);\n-    if (steal_ref)\n-      gst_buffer_unref (buffer);\n-    g_mutex_unlock (&priv->mutex);\n-    return GST_FLOW_EOS;\n-  }\n-}\n-\n-static GstFlowReturn\n-gst_app_src_push_buffer_full (GstAppSrc * appsrc, GstBuffer * buffer,\n-    gboolean steal_ref)\n-{\n-  return gst_app_src_push_internal (appsrc, buffer, NULL, steal_ref);\n-}\n-\n-static GstFlowReturn\n-gst_app_src_push_sample_internal (GstAppSrc * appsrc, GstSample * sample)\n-{\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-  GstBufferList *buffer_list;\n-  GstBuffer *buffer;\n-  GstCaps *caps;\n-\n-  g_return_val_if_fail (GST_IS_SAMPLE (sample), GST_FLOW_ERROR);\n-\n-  caps = gst_sample_get_caps (sample);\n-  if (caps != NULL) {\n-    gst_app_src_set_caps (appsrc, caps);\n-  } else {\n-    GST_WARNING_OBJECT (appsrc, \"received sample without caps\");\n-  }\n-\n-  if (priv->handle_segment_change && priv->format == GST_FORMAT_TIME) {\n-    GstSegment *segment = gst_sample_get_segment (sample);\n-\n-    if (segment->format != GST_FORMAT_TIME) {\n-      GST_LOG_OBJECT (appsrc, \"format %s is not supported\",\n-          gst_format_get_name (segment->format));\n-      goto handle_buffer;\n-    }\n-\n-    g_mutex_lock (&priv->mutex);\n-    if (gst_segment_is_equal (&priv->last_segment, segment)) {\n-      GST_LOG_OBJECT (appsrc, \"segment wasn't changed\");\n-      g_mutex_unlock (&priv->mutex);\n-      goto handle_buffer;\n-    }\n-\n-    \/* will be pushed to queue with next buffer\/buffer-list *\/\n-    gst_segment_copy_into (segment, &priv->last_segment);\n-    priv->pending_custom_segment = TRUE;\n-    g_mutex_unlock (&priv->mutex);\n-  }\n-\n-handle_buffer:\n-\n-  buffer = gst_sample_get_buffer (sample);\n-  if (buffer != NULL)\n-    return gst_app_src_push_buffer_full (appsrc, buffer, FALSE);\n-\n-  buffer_list = gst_sample_get_buffer_list (sample);\n-  if (buffer_list != NULL)\n-    return gst_app_src_push_internal (appsrc, NULL, buffer_list, FALSE);\n-\n-  GST_WARNING_OBJECT (appsrc, \"received sample without buffer or buffer list\");\n-  return GST_FLOW_OK;\n-}\n-\n-\/**\n- * gst_app_src_push_buffer:\n- * @appsrc: a #GstAppSrc\n- * @buffer: (transfer full): a #GstBuffer to push\n- *\n- * Adds a buffer to the queue of buffers that the appsrc element will\n- * push to its source pad.  This function takes ownership of the buffer.\n- *\n- * When the block property is TRUE, this function can block until free\n- * space becomes available in the queue.\n- *\n- * Returns: #GST_FLOW_OK when the buffer was successfully queued.\n- * #GST_FLOW_FLUSHING when @appsrc is not PAUSED or PLAYING.\n- * #GST_FLOW_EOS when EOS occurred.\n- *\/\n-GstFlowReturn\n-gst_app_src_push_buffer (GstAppSrc * appsrc, GstBuffer * buffer)\n-{\n-  return gst_app_src_push_buffer_full (appsrc, buffer, TRUE);\n-}\n-\n-\/**\n- * gst_app_src_push_buffer_list:\n- * @appsrc: a #GstAppSrc\n- * @buffer_list: (transfer full): a #GstBufferList to push\n- *\n- * Adds a buffer list to the queue of buffers and buffer lists that the\n- * appsrc element will push to its source pad.  This function takes ownership\n- * of @buffer_list.\n- *\n- * When the block property is TRUE, this function can block until free\n- * space becomes available in the queue.\n- *\n- * Returns: #GST_FLOW_OK when the buffer list was successfully queued.\n- * #GST_FLOW_FLUSHING when @appsrc is not PAUSED or PLAYING.\n- * #GST_FLOW_EOS when EOS occurred.\n- *\n- * Since: 1.14\n- *\/\n-GstFlowReturn\n-gst_app_src_push_buffer_list (GstAppSrc * appsrc, GstBufferList * buffer_list)\n-{\n-  return gst_app_src_push_internal (appsrc, NULL, buffer_list, TRUE);\n-}\n-\n-\/**\n- * gst_app_src_push_sample:\n- * @appsrc: a #GstAppSrc\n- * @sample: (transfer none): a #GstSample from which buffer and caps may be\n- * extracted\n- *\n- * Extract a buffer from the provided sample and adds it to the queue of\n- * buffers that the appsrc element will push to its source pad. Any\n- * previous caps that were set on appsrc will be replaced by the caps\n- * associated with the sample if not equal.\n- *\n- * This function does not take ownership of the\n- * sample so the sample needs to be unreffed after calling this function.\n- *\n- * When the block property is TRUE, this function can block until free\n- * space becomes available in the queue.\n- *\n- * Returns: #GST_FLOW_OK when the buffer was successfully queued.\n- * #GST_FLOW_FLUSHING when @appsrc is not PAUSED or PLAYING.\n- * #GST_FLOW_EOS when EOS occurred.\n- *\n- * Since: 1.6\n- *\n- *\/\n-GstFlowReturn\n-gst_app_src_push_sample (GstAppSrc * appsrc, GstSample * sample)\n-{\n-  return gst_app_src_push_sample_internal (appsrc, sample);\n-}\n-\n-\/* push a buffer without stealing the ref of the buffer. This is used for the\n- * action signal. *\/\n-static GstFlowReturn\n-gst_app_src_push_buffer_action (GstAppSrc * appsrc, GstBuffer * buffer)\n-{\n-  return gst_app_src_push_buffer_full (appsrc, buffer, FALSE);\n-}\n-\n-\/* push a buffer list without stealing the ref of the buffer list. This is\n- * used for the action signal. *\/\n-static GstFlowReturn\n-gst_app_src_push_buffer_list_action (GstAppSrc * appsrc,\n-    GstBufferList * buffer_list)\n-{\n-  return gst_app_src_push_internal (appsrc, NULL, buffer_list, FALSE);\n-}\n-\n-\/* push a sample without stealing the ref. This is used for the\n- * action signal. *\/\n-static GstFlowReturn\n-gst_app_src_push_sample_action (GstAppSrc * appsrc, GstSample * sample)\n-{\n-  return gst_app_src_push_sample_internal (appsrc, sample);\n-}\n-\n-\/**\n- * gst_app_src_end_of_stream:\n- * @appsrc: a #GstAppSrc\n- *\n- * Indicates to the appsrc element that the last buffer queued in the\n- * element is the last buffer of the stream.\n- *\n- * Returns: #GST_FLOW_OK when the EOS was successfully queued.\n- * #GST_FLOW_FLUSHING when @appsrc is not PAUSED or PLAYING.\n- *\/\n-GstFlowReturn\n-gst_app_src_end_of_stream (GstAppSrc * appsrc)\n-{\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_val_if_fail (GST_IS_APP_SRC (appsrc), GST_FLOW_ERROR);\n-\n-  priv = appsrc->priv;\n-\n-  g_mutex_lock (&priv->mutex);\n-  \/* can't accept buffers when we are flushing. We can accept them when we are\n-   * EOS although it will not do anything. *\/\n-  if (priv->flushing)\n-    goto flushing;\n-\n-  GST_DEBUG_OBJECT (appsrc, \"sending EOS\");\n-  priv->is_eos = TRUE;\n-  g_cond_broadcast (&priv->cond);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  return GST_FLOW_OK;\n-\n-  \/* ERRORS *\/\n-flushing:\n-  {\n-    g_mutex_unlock (&priv->mutex);\n-    GST_DEBUG_OBJECT (appsrc, \"refuse EOS, we are flushing\");\n-    return GST_FLOW_FLUSHING;\n-  }\n-}\n-\n-\/**\n- * gst_app_src_set_callbacks: (skip)\n- * @appsrc: a #GstAppSrc\n- * @callbacks: the callbacks\n- * @user_data: a user_data argument for the callbacks\n- * @notify: a destroy notify function\n- *\n- * Set callbacks which will be executed when data is needed, enough data has\n- * been collected or when a seek should be performed.\n- * This is an alternative to using the signals, it has lower overhead and is thus\n- * less expensive, but also less flexible.\n- *\n- * If callbacks are installed, no signals will be emitted for performance\n- * reasons.\n- *\n- * Before 1.16.3 it was not possible to change the callbacks in a thread-safe\n- * way.\n- *\/\n-void\n-gst_app_src_set_callbacks (GstAppSrc * appsrc,\n-    GstAppSrcCallbacks * callbacks, gpointer user_data, GDestroyNotify notify)\n-{\n-  Callbacks *old_callbacks, *new_callbacks = NULL;\n-  GstAppSrcPrivate *priv;\n-\n-  g_return_if_fail (GST_IS_APP_SRC (appsrc));\n-  g_return_if_fail (callbacks != NULL);\n-\n-  priv = appsrc->priv;\n-\n-  if (callbacks) {\n-    new_callbacks = g_new0 (Callbacks, 1);\n-    new_callbacks->callbacks = *callbacks;\n-    new_callbacks->user_data = user_data;\n-    new_callbacks->destroy_notify = notify;\n-    new_callbacks->ref_count = 1;\n-  }\n-\n-  g_mutex_lock (&priv->mutex);\n-  old_callbacks = g_steal_pointer (&priv->callbacks);\n-  priv->callbacks = g_steal_pointer (&new_callbacks);\n-  g_mutex_unlock (&priv->mutex);\n-\n-  g_clear_pointer (&old_callbacks, callbacks_unref);\n-}\n-\n-\/*** GSTURIHANDLER INTERFACE *************************************************\/\n-\n-static GstURIType\n-gst_app_src_uri_get_type (GType type)\n-{\n-  return GST_URI_SRC;\n-}\n-\n-static const gchar *const *\n-gst_app_src_uri_get_protocols (GType type)\n-{\n-  static const gchar *protocols[] = { \"appsrc\", NULL };\n-\n-  return protocols;\n-}\n-\n-static gchar *\n-gst_app_src_uri_get_uri (GstURIHandler * handler)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC (handler);\n-\n-  return appsrc->priv->uri ? g_strdup (appsrc->priv->uri) : NULL;\n-}\n-\n-static gboolean\n-gst_app_src_uri_set_uri (GstURIHandler * handler, const gchar * uri,\n-    GError ** error)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC (handler);\n-\n-  g_free (appsrc->priv->uri);\n-  appsrc->priv->uri = uri ? g_strdup (uri) : NULL;\n-\n-  return TRUE;\n-}\n-\n-static void\n-gst_app_src_uri_handler_init (gpointer g_iface, gpointer iface_data)\n-{\n-  GstURIHandlerInterface *iface = (GstURIHandlerInterface *) g_iface;\n-\n-  iface->get_type = gst_app_src_uri_get_type;\n-  iface->get_protocols = gst_app_src_uri_get_protocols;\n-  iface->get_uri = gst_app_src_uri_get_uri;\n-  iface->set_uri = gst_app_src_uri_set_uri;\n-}\n-\n-static gboolean\n-gst_app_src_event (GstBaseSrc * src, GstEvent * event)\n-{\n-  GstAppSrc *appsrc = GST_APP_SRC_CAST (src);\n-  GstAppSrcPrivate *priv = appsrc->priv;\n-\n-  switch (GST_EVENT_TYPE (event)) {\n-    case GST_EVENT_FLUSH_STOP:\n-      g_mutex_lock (&priv->mutex);\n-      priv->is_eos = FALSE;\n-      g_mutex_unlock (&priv->mutex);\n-      break;\n-    default:\n-      break;\n-  }\n-\n-  return GST_BASE_SRC_CLASS (parent_class)->event (src, event);\n-}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/app\/gstappsrc.c","additions":0,"deletions":2332,"binary":false,"changes":2332,"status":"deleted"},{"patch":"@@ -1,191 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 2007 David Schleef <ds@schleef.org>\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\n-#ifndef _GST_APP_SRC_H_\n-#define _GST_APP_SRC_H_\n-\n-#include <gst\/gst.h>\n-#include <gst\/base\/gstpushsrc.h>\n-#include <gst\/app\/app-prelude.h>\n-#include <gst\/app\/app-enumtypes.h>\n-\n-G_BEGIN_DECLS\n-\n-#define GST_TYPE_APP_SRC \\\n-  (gst_app_src_get_type())\n-#define GST_APP_SRC(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_CAST((obj),GST_TYPE_APP_SRC,GstAppSrc))\n-#define GST_APP_SRC_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_CAST((klass),GST_TYPE_APP_SRC,GstAppSrcClass))\n-#define GST_IS_APP_SRC(obj) \\\n-  (G_TYPE_CHECK_INSTANCE_TYPE((obj),GST_TYPE_APP_SRC))\n-#define GST_IS_APP_SRC_CLASS(klass) \\\n-  (G_TYPE_CHECK_CLASS_TYPE((klass),GST_TYPE_APP_SRC))\n-#define GST_APP_SRC_CAST(obj) \\\n-  ((GstAppSrc*)(obj))\n-\n-typedef struct _GstAppSrc GstAppSrc;\n-typedef struct _GstAppSrcClass GstAppSrcClass;\n-typedef struct _GstAppSrcPrivate GstAppSrcPrivate;\n-\n-\/* FIXME 2.0: Make the instance\/class struct private *\/\n-\n-\/**\n- * GstAppSrcCallbacks: (skip)\n- * @need_data: Called when the appsrc needs more data. A buffer or EOS should be\n- *    pushed to appsrc from this thread or another thread. @length is just a hint\n- *    and when it is set to -1, any number of bytes can be pushed into @appsrc.\n- * @enough_data: Called when appsrc has enough data. It is recommended that the\n- *    application stops calling push-buffer until the need_data callback is\n- *    emitted again to avoid excessive buffer queueing.\n- * @seek_data: Called when a seek should be performed to the offset.\n- *    The next push-buffer should produce buffers from the new @offset.\n- *    This callback is only called for seekable stream types.\n- *\n- * A set of callbacks that can be installed on the appsrc with\n- * gst_app_src_set_callbacks().\n- *\/\n-typedef struct {\n-  void      (*need_data)    (GstAppSrc *src, guint length, gpointer user_data);\n-  void      (*enough_data)  (GstAppSrc *src, gpointer user_data);\n-  gboolean  (*seek_data)    (GstAppSrc *src, guint64 offset, gpointer user_data);\n-\n-  \/*< private >*\/\n-  gpointer     _gst_reserved[GST_PADDING];\n-} GstAppSrcCallbacks;\n-\n-\/**\n- * GstAppStreamType:\n- * @GST_APP_STREAM_TYPE_STREAM: No seeking is supported in the stream, such as a\n- * live stream.\n- * @GST_APP_STREAM_TYPE_SEEKABLE: The stream is seekable but seeking might not\n- * be very fast, such as data from a webserver.\n- * @GST_APP_STREAM_TYPE_RANDOM_ACCESS: The stream is seekable and seeking is fast,\n- * such as in a local file.\n- *\n- * The stream type.\n- *\/\n-typedef enum\n-{\n-  GST_APP_STREAM_TYPE_STREAM,\n-  GST_APP_STREAM_TYPE_SEEKABLE,\n-  GST_APP_STREAM_TYPE_RANDOM_ACCESS\n-} GstAppStreamType;\n-\n-struct _GstAppSrc\n-{\n-  GstBaseSrc basesrc;\n-\n-  \/*< private >*\/\n-  GstAppSrcPrivate *priv;\n-\n-  \/*< private >*\/\n-  gpointer     _gst_reserved[GST_PADDING];\n-};\n-\n-struct _GstAppSrcClass\n-{\n-  GstBaseSrcClass basesrc_class;\n-\n-  \/* signals *\/\n-  void          (*need_data)       (GstAppSrc *appsrc, guint length);\n-  void          (*enough_data)     (GstAppSrc *appsrc);\n-  gboolean      (*seek_data)       (GstAppSrc *appsrc, guint64 offset);\n-\n-  \/* actions *\/\n-  GstFlowReturn (*push_buffer)     (GstAppSrc *appsrc, GstBuffer *buffer);\n-  GstFlowReturn (*end_of_stream)   (GstAppSrc *appsrc);\n-  GstFlowReturn (*push_sample)     (GstAppSrc *appsrc, GstSample *sample);\n-  GstFlowReturn (*push_buffer_list) (GstAppSrc *appsrc, GstBufferList *buffer_list);\n-\n-  \/*< private >*\/\n-  gpointer     _gst_reserved[GST_PADDING-2];\n-};\n-\n-GST_APP_API\n-GType            gst_app_src_get_type                (void);\n-\n-GST_APP_API\n-void             gst_app_src_set_caps                (GstAppSrc *appsrc, const GstCaps *caps);\n-\n-GST_APP_API\n-GstCaps*         gst_app_src_get_caps                (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-void             gst_app_src_set_size                (GstAppSrc *appsrc, gint64 size);\n-\n-GST_APP_API\n-gint64           gst_app_src_get_size                (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-void             gst_app_src_set_duration            (GstAppSrc *appsrc, GstClockTime duration);\n-\n-GST_APP_API\n-GstClockTime     gst_app_src_get_duration            (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-void             gst_app_src_set_stream_type         (GstAppSrc *appsrc, GstAppStreamType type);\n-\n-GST_APP_API\n-GstAppStreamType gst_app_src_get_stream_type         (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-void             gst_app_src_set_max_bytes           (GstAppSrc *appsrc, guint64 max);\n-\n-GST_APP_API\n-guint64          gst_app_src_get_max_bytes           (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-guint64          gst_app_src_get_current_level_bytes (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-void             gst_app_src_set_latency             (GstAppSrc *appsrc, guint64 min, guint64 max);\n-\n-GST_APP_API\n-void             gst_app_src_get_latency             (GstAppSrc *appsrc, guint64 *min, guint64 *max);\n-\n-GST_APP_API\n-void             gst_app_src_set_emit_signals        (GstAppSrc *appsrc, gboolean emit);\n-\n-GST_APP_API\n-gboolean         gst_app_src_get_emit_signals        (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-GstFlowReturn    gst_app_src_push_buffer             (GstAppSrc *appsrc, GstBuffer *buffer);\n-\n-GST_APP_API\n-GstFlowReturn    gst_app_src_push_buffer_list        (GstAppSrc * appsrc, GstBufferList * buffer_list);\n-\n-GST_APP_API\n-GstFlowReturn    gst_app_src_end_of_stream           (GstAppSrc *appsrc);\n-\n-GST_APP_API\n-GstFlowReturn    gst_app_src_push_sample             (GstAppSrc *appsrc, GstSample *sample);\n-\n-GST_APP_API\n-void             gst_app_src_set_callbacks           (GstAppSrc * appsrc,\n-                                                      GstAppSrcCallbacks *callbacks,\n-                                                      gpointer user_data,\n-                                                      GDestroyNotify notify);\n-\n-G_DEFINE_AUTOPTR_CLEANUP_FUNC(GstAppSrc, gst_object_unref)\n-\n-G_END_DECLS\n-\n-#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/app\/gstappsrc.h","additions":0,"deletions":191,"binary":false,"changes":191,"status":"deleted"},{"patch":"@@ -62,1 +62,1 @@\n- * @buffer: pointer to a #GstAudioBuffer\n+ * @buffer: (out caller-allocates): pointer to a #GstAudioBuffer\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-buffer.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -256,1 +256,1 @@\n-  while (!chain->samples)\n+  if (!chain->samples)\n@@ -481,1 +481,1 @@\n-        gst_audio_format_fill_silence (chain->finfo, tmp[i],\n+        gst_audio_format_info_fill_silence (chain->finfo, tmp[i],\n@@ -585,1 +585,2 @@\n-  gst_audio_quantize_samples (convert->quant, in, out, num_samples);\n+  if (in && out)\n+    gst_audio_quantize_samples (convert->quant, in, out, num_samples);\n@@ -1105,1 +1106,1 @@\n-      gst_audio_format_fill_silence (convert->in.finfo, out[i], samples);\n+      gst_audio_format_info_fill_silence (convert->in.finfo, out[i], samples);\n@@ -1251,1 +1252,1 @@\n-      gst_audio_format_fill_silence (convert->in.finfo, out[i], samples);\n+      gst_audio_format_info_fill_silence (convert->in.finfo, out[i], samples);\n@@ -1277,1 +1278,1 @@\n-  if (!convert->out_default) {\n+  if (!convert->out_default && tmp && out) {\n@@ -1437,0 +1438,1 @@\n+    g_clear_pointer (&config, gst_structure_free);\n@@ -1443,0 +1445,1 @@\n+    g_clear_pointer (&config, gst_structure_free);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-converter.c","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -466,0 +466,2 @@\n+ *\n+ * Deprecated: 1.20: Use gst_audio_format_info_fill_silence() instead.\n@@ -470,0 +472,18 @@\n+{\n+  gst_audio_format_info_fill_silence (info, dest, length);\n+}\n+\n+\/**\n+ * gst_audio_format_info_fill_silence:\n+ * @info: a #GstAudioFormatInfo\n+ * @dest: (array length=length) (element-type guint8): a destination\n+ *   to fill\n+ * @length: the length to fill\n+ *\n+ * Fill @length bytes in @dest with silence samples for @info.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_audio_format_info_fill_silence (const GstAudioFormatInfo * info,\n+    gpointer dest, gsize length)\n@@ -537,0 +557,1 @@\n+  gboolean res G_GNUC_UNUSED;\n@@ -543,1 +564,2 @@\n-  g_assert (gst_value_deserialize (&list, tmp));\n+  res = gst_value_deserialize (&list, tmp);\n+  g_assert (res);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-format.c","additions":23,"deletions":1,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -289,2 +289,5 @@\n-void           gst_audio_format_fill_silence     (const GstAudioFormatInfo *info,\n-                                                  gpointer dest, gsize length);\n+void           gst_audio_format_info_fill_silence (const GstAudioFormatInfo *info,\n+                                                   gpointer dest, gsize length);\n+GST_AUDIO_API G_DEPRECATED_FOR(gst_audio_format_info_fill_silence)\n+void           gst_audio_format_fill_silence      (const GstAudioFormatInfo *info,\n+                                                   gpointer dest, gsize length);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-format.h","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n- * @info: a #GstAudioInfo\n+ * @info: (out caller-allocates): a #GstAudioInfo\n@@ -184,1 +184,1 @@\n- * @info: a #GstAudioInfo\n+ * @info: (out caller-allocates): a #GstAudioInfo\n@@ -323,0 +323,22 @@\n+\/**\n+ * gst_audio_info_new_from_caps:\n+ * @caps: a #GstCaps\n+ *\n+ * Parse @caps to generate a #GstAudioInfo.\n+ *\n+ * Returns: A #GstAudioInfo, or %NULL if @caps couldn't be parsed\n+ * Since: 1.20\n+ *\/\n+GstAudioInfo *\n+gst_audio_info_new_from_caps (const GstCaps * caps)\n+{\n+  GstAudioInfo *ret = gst_audio_info_new ();\n+\n+  if (gst_audio_info_from_caps (ret, caps)) {\n+    return ret;\n+  } else {\n+    gst_audio_info_free (ret);\n+    return NULL;\n+  }\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-info.c","additions":24,"deletions":2,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-#define GST_AUDIO_INFO_IS_UNPOSITIONED(info) ((info)->flags & GST_AUDIO_FLAG_UNPOSITIONED)\n+#define GST_AUDIO_INFO_IS_UNPOSITIONED(info) (((info)->flags & GST_AUDIO_FLAG_UNPOSITIONED) != 0)\n@@ -107,0 +107,3 @@\n+GST_AUDIO_API\n+GstAudioInfo * gst_audio_info_new_from_caps (const GstCaps * caps);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-info.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1665,1 +1665,2 @@\n-  if (avail < need)\n+  if (avail < need) {\n+    GST_LOG (\"avail %d < need %d\", (int) avail, (int) need);\n@@ -1667,0 +1668,1 @@\n+  }\n@@ -1669,1 +1671,2 @@\n-  if (out < resampler->samp_phase)\n+  if (out < resampler->samp_phase) {\n+    GST_LOG (\"out %d < samp_phase %d\", (int) out, (int) resampler->samp_phase);\n@@ -1671,0 +1674,1 @@\n+  }\n@@ -1778,1 +1782,4 @@\n-  if (G_UNLIKELY (samples_avail < need)) {\n+  if (G_UNLIKELY (samples_avail < need || out_frames == 0)) {\n+    GST_LOG (\"not enough samples to start: need %\" G_GSIZE_FORMAT \", avail %\"\n+        G_GSIZE_FORMAT \", out %\" G_GSIZE_FORMAT, need, samples_avail,\n+        out_frames);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio-resampler.c","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-  if (!GST_BUFFER_TIMESTAMP_IS_VALID (buffer))\n+  if (!GST_BUFFER_PTS_IS_VALID (buffer))\n@@ -112,1 +112,1 @@\n-  timestamp = GST_BUFFER_TIMESTAMP (buffer);\n+  timestamp = GST_BUFFER_PTS (buffer);\n@@ -217,1 +217,1 @@\n-    if (GST_BUFFER_TIMESTAMP (ret) != timestamp) {\n+    if (GST_BUFFER_PTS (ret) != timestamp) {\n@@ -219,1 +219,1 @@\n-      GST_BUFFER_TIMESTAMP (ret) = timestamp;\n+      GST_BUFFER_PTS (ret) = timestamp;\n@@ -232,1 +232,1 @@\n-      GST_BUFFER_TIMESTAMP (ret) = timestamp;\n+      GST_BUFFER_PTS (ret) = timestamp;\n@@ -261,0 +261,6 @@\n+ * This function does not know the audio rate, therefore the caller is\n+ * responsible for re-setting the correct timestamp and duration to the\n+ * buffer. However, timestamp will be preserved if trim == 0, and duration\n+ * will also be preserved if there is no trimming to be done. Offset and\n+ * offset end will be preserved \/ updated.\n+ *\n@@ -277,0 +283,1 @@\n+  GstClockTime orig_ts, orig_offset;\n@@ -282,0 +289,2 @@\n+  orig_ts = GST_BUFFER_PTS (buffer);\n+  orig_offset = GST_BUFFER_OFFSET (buffer);\n@@ -315,0 +324,17 @@\n+  GST_BUFFER_DTS (ret) = GST_CLOCK_TIME_NONE;\n+  if (GST_CLOCK_TIME_IS_VALID (orig_ts) && trim == 0) {\n+    GST_BUFFER_PTS (ret) = orig_ts;\n+  } else {\n+    GST_BUFFER_PTS (ret) = GST_CLOCK_TIME_NONE;\n+  }\n+  \/* If duration was the same, it would have meant there's no trimming to be\n+   * done, so we have an early return further up *\/\n+  GST_BUFFER_DURATION (ret) = GST_CLOCK_TIME_NONE;\n+  if (orig_offset != GST_BUFFER_OFFSET_NONE) {\n+    GST_BUFFER_OFFSET (ret) = orig_offset + trim;\n+    GST_BUFFER_OFFSET_END (ret) = GST_BUFFER_OFFSET (ret) + samples;\n+  } else {\n+    GST_BUFFER_OFFSET (ret) = GST_BUFFER_OFFSET_NONE;\n+    GST_BUFFER_OFFSET_END (ret) = GST_BUFFER_OFFSET_NONE;\n+  }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio.c","additions":31,"deletions":5,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -702,0 +702,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (alignment_threshold));\n@@ -742,0 +743,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (discont_wait));\n@@ -1881,1 +1883,1 @@\n-  time = GST_BUFFER_TIMESTAMP (buf);\n+  time = GST_BUFFER_PTS (buf);\n@@ -2375,0 +2377,1 @@\n+    return;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesink.c","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n- * @GST_AUDIO_BASE_SINK_DISCONT_REASON_DEVICE_FAILURE: Audio output device experienced and recovered from an error but introduced latency in the process (see also @gst_audio_base_sink_report_device_failure())\n+ * @GST_AUDIO_BASE_SINK_DISCONT_REASON_DEVICE_FAILURE: Audio output device experienced and recovered from an error but introduced latency in the process (see also gst_audio_base_sink_report_device_failure())\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesink.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -308,0 +308,6 @@\n+  GstAudioRingBuffer *ringbuffer;\n+  gint rate;\n+\n+  ringbuffer = src->ringbuffer;\n+  if (!ringbuffer)\n+    return GST_CLOCK_TIME_NONE;\n@@ -309,2 +315,2 @@\n-  if (G_UNLIKELY (src->ringbuffer == NULL\n-          || src->ringbuffer->spec.info.rate == 0))\n+  rate = ringbuffer->spec.info.rate;\n+  if (rate == 0)\n@@ -313,1 +319,1 @@\n-  raw = samples = gst_audio_ring_buffer_samples_done (src->ringbuffer);\n+  raw = samples = gst_audio_ring_buffer_samples_done (ringbuffer);\n@@ -317,1 +323,1 @@\n-  delay = gst_audio_ring_buffer_delay (src->ringbuffer);\n+  delay = gst_audio_ring_buffer_delay (ringbuffer);\n@@ -321,2 +327,1 @@\n-  result = gst_util_uint64_scale_int (samples, GST_SECOND,\n-      src->ringbuffer->spec.info.rate);\n+  result = gst_util_uint64_scale_int (samples, GST_SECOND, rate);\n@@ -516,1 +521,2 @@\n-  if (G_UNLIKELY (spec->caps && gst_caps_is_equal (spec->caps, caps))) {\n+  if (G_UNLIKELY (gst_audio_ring_buffer_is_acquired (src->ringbuffer)\n+          && gst_caps_is_equal (spec->caps, caps))) {\n@@ -1029,1 +1035,1 @@\n-  GST_BUFFER_TIMESTAMP (buf) = timestamp;\n+  GST_BUFFER_PTS (buf) = timestamp;\n@@ -1037,1 +1043,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)));\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buf)));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiobasesrc.c","additions":15,"deletions":9,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -341,1 +341,1 @@\n-  static volatile gsize audio_decoder_type = 0;\n+  static gsize audio_decoder_type = 0;\n@@ -981,1 +981,1 @@\n-  ts = GST_BUFFER_TIMESTAMP (buf);\n+  ts = GST_BUFFER_PTS (buf);\n@@ -986,1 +986,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -1015,1 +1015,1 @@\n-  if (G_LIKELY (GST_BUFFER_TIMESTAMP_IS_VALID (buf))) {\n+  if (G_LIKELY (GST_BUFFER_PTS_IS_VALID (buf))) {\n@@ -1019,1 +1019,1 @@\n-        GST_BUFFER_TIMESTAMP (buf) + GST_BUFFER_DURATION (buf);\n+        GST_BUFFER_PTS (buf) + GST_BUFFER_DURATION (buf);\n@@ -1037,1 +1037,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -1064,1 +1064,1 @@\n-        GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+        GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -1082,1 +1082,1 @@\n-    } else if (av && (!GST_BUFFER_TIMESTAMP_IS_VALID (buf) ||\n+    } else if (av && (!GST_BUFFER_PTS_IS_VALID (buf) ||\n@@ -1084,1 +1084,1 @@\n-            ((diff = GST_CLOCK_DIFF (GST_BUFFER_TIMESTAMP (buf),\n+            ((diff = GST_CLOCK_DIFF (GST_BUFFER_PTS (buf),\n@@ -1093,1 +1093,1 @@\n-        priv->out_ts = GST_BUFFER_TIMESTAMP (buf);\n+        priv->out_ts = GST_BUFFER_PTS (buf);\n@@ -1108,1 +1108,1 @@\n-      GST_BUFFER_TIMESTAMP (buf) = priv->out_ts;\n+      GST_BUFFER_PTS (buf) = priv->out_ts;\n@@ -1423,1 +1423,1 @@\n-    ts = GST_BUFFER_TIMESTAMP (priv->frames.head->data);\n+    ts = GST_BUFFER_PTS (priv->frames.head->data);\n@@ -1502,1 +1502,1 @@\n-    GST_BUFFER_TIMESTAMP (buf) =\n+    GST_BUFFER_PTS (buf) =\n@@ -1507,1 +1507,1 @@\n-        GST_BUFFER_TIMESTAMP (buf);\n+        GST_BUFFER_PTS (buf);\n@@ -1509,1 +1509,1 @@\n-    GST_BUFFER_TIMESTAMP (buf) = GST_CLOCK_TIME_NONE;\n+    GST_BUFFER_PTS (buf) = GST_CLOCK_TIME_NONE;\n@@ -1627,1 +1627,1 @@\n-        GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buffer)));\n+        GST_TIME_ARGS (GST_BUFFER_PTS (buffer)));\n@@ -1721,1 +1721,1 @@\n-      GST_BUFFER_TIMESTAMP (buffer) = ts;\n+      GST_BUFFER_PTS (buffer) = ts;\n@@ -1955,1 +1955,1 @@\n-        buf, GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)));\n+        buf, GST_TIME_ARGS (GST_BUFFER_PTS (buf)));\n@@ -1996,1 +1996,1 @@\n-    if (!GST_BUFFER_TIMESTAMP_IS_VALID (buf)) {\n+    if (!GST_BUFFER_PTS_IS_VALID (buf)) {\n@@ -1999,1 +1999,1 @@\n-      GST_BUFFER_TIMESTAMP (buf) = timestamp;\n+      GST_BUFFER_PTS (buf) = timestamp;\n@@ -2002,1 +2002,1 @@\n-      timestamp = GST_BUFFER_TIMESTAMP (buf);\n+      timestamp = GST_BUFFER_PTS (buf);\n@@ -2010,1 +2010,1 @@\n-          gst_buffer_get_size (buf), GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+          gst_buffer_get_size (buf), GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -2053,1 +2053,1 @@\n-        gst_buffer_get_size (buf), GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+        gst_buffer_get_size (buf), GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -2074,1 +2074,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buffer)),\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buffer)),\n@@ -2099,2 +2099,1 @@\n-    if (dec->input_segment.rate > 0.0\n-        && !GST_BUFFER_TIMESTAMP_IS_VALID (buffer)) {\n+    if (dec->input_segment.rate > 0.0 && !GST_BUFFER_PTS_IS_VALID (buffer)) {\n@@ -2296,1 +2295,1 @@\n-    GST_BUFFER_TIMESTAMP (buf) = timestamp;\n+    GST_BUFFER_PTS (buf) = timestamp;\n@@ -3274,1 +3273,1 @@\n- * Returns: a #GstAudioInfo describing the input audio format\n+ * Returns: (transfer none): a #GstAudioInfo describing the input audio format\n@@ -3537,0 +3536,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (num));\n@@ -3580,0 +3580,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (tolerance));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiodecoder.c","additions":29,"deletions":28,"binary":false,"changes":57,"status":"modified"},{"patch":"@@ -944,1 +944,1 @@\n-      GST_BUFFER_TIMESTAMP (buf) = priv->base_ts +\n+      GST_BUFFER_PTS (buf) = priv->base_ts +\n@@ -947,1 +947,1 @@\n-      GST_BUFFER_DTS (buf) = GST_BUFFER_TIMESTAMP (buf);\n+      GST_BUFFER_DTS (buf) = GST_BUFFER_PTS (buf);\n@@ -953,1 +953,1 @@\n-            ctx->info.rate) - GST_BUFFER_TIMESTAMP (buf);\n+            ctx->info.rate) - GST_BUFFER_PTS (buf);\n@@ -1015,1 +1015,1 @@\n-        GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buf)),\n+        GST_TIME_ARGS (GST_BUFFER_PTS (buf)),\n@@ -1243,1 +1243,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buffer)),\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buffer)),\n@@ -1289,1 +1289,1 @@\n-      GST_TIME_ARGS (GST_BUFFER_TIMESTAMP (buffer)),\n+      GST_TIME_ARGS (GST_BUFFER_PTS (buffer)),\n@@ -1293,1 +1293,1 @@\n-    priv->base_ts = GST_BUFFER_TIMESTAMP (buffer);\n+    priv->base_ts = GST_BUFFER_PTS (buffer);\n@@ -1305,1 +1305,1 @@\n-    if (GST_BUFFER_TIMESTAMP_IS_VALID (buffer) &&\n+    if (GST_BUFFER_PTS_IS_VALID (buffer) &&\n@@ -1317,1 +1317,1 @@\n-      diff = GST_CLOCK_DIFF (next_ts, GST_BUFFER_TIMESTAMP (buffer));\n+      diff = GST_CLOCK_DIFF (next_ts, GST_BUFFER_PTS (buffer));\n@@ -1346,1 +1346,1 @@\n-        GST_BUFFER_TIMESTAMP (buffer) += diff;\n+        GST_BUFFER_PTS (buffer) += diff;\n@@ -1359,1 +1359,1 @@\n-      if (G_UNLIKELY (shift > GST_BUFFER_TIMESTAMP (buffer))) {\n+      if (G_UNLIKELY (shift > GST_BUFFER_PTS (buffer))) {\n@@ -1365,1 +1365,1 @@\n-      priv->base_ts = GST_BUFFER_TIMESTAMP (buffer) - shift;\n+      priv->base_ts = GST_BUFFER_PTS (buffer) - shift;\n@@ -2157,1 +2157,1 @@\n- * Returns: a #GstAudioInfo describing the input audio format\n+ * Returns: (transfer none): a #GstAudioInfo describing the input audio format\n@@ -2551,0 +2551,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (tolerance));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioencoder.c","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -180,1 +180,1 @@\n-  static volatile GType type;\n+  static GType type;\n@@ -283,1 +283,1 @@\n-  static volatile GType type;\n+  static GType type;\n@@ -466,1 +466,1 @@\n-  static volatile GType type;\n+  static GType type;\n@@ -495,0 +495,128 @@\n+\n+\/**\n+ * gst_audio_level_meta_api_get_type:\n+ *\n+ * Return the #GType associated with #GstAudioLevelMeta.\n+ *\n+ * Returns: a #GType\n+ *\n+ * Since: 1.20\n+ *\/\n+GType\n+gst_audio_level_meta_api_get_type (void)\n+{\n+  static GType type = 0;\n+  static const gchar *tags[] = { NULL };\n+\n+  if (g_once_init_enter (&type)) {\n+    GType _type = gst_meta_api_type_register (\"GstAudioLevelMetaAPI\", tags);\n+    g_once_init_leave (&type, _type);\n+  }\n+  return type;\n+}\n+\n+static gboolean\n+gst_audio_level_meta_init (GstMeta * meta, gpointer params, GstBuffer * buffer)\n+{\n+  GstAudioLevelMeta *dmeta = (GstAudioLevelMeta *) meta;\n+\n+  dmeta->level = 127;\n+  dmeta->voice_activity = FALSE;\n+\n+  return TRUE;\n+}\n+\n+static gboolean\n+gst_audio_level_meta_transform (GstBuffer * dst, GstMeta * meta,\n+    GstBuffer * src, GQuark type, gpointer data)\n+{\n+  if (GST_META_TRANSFORM_IS_COPY (type)) {\n+    GstAudioLevelMeta *smeta = (GstAudioLevelMeta *) meta;\n+    GstAudioLevelMeta *dmeta;\n+\n+    dmeta = gst_buffer_add_audio_level_meta (dst, smeta->level,\n+        smeta->voice_activity);\n+    if (dmeta == NULL)\n+      return FALSE;\n+  } else {\n+    \/* return FALSE, if transform type is not supported *\/\n+    return FALSE;\n+  }\n+\n+  return TRUE;\n+}\n+\n+\/**\n+ * gst_audio_level_meta_get_info:\n+ *\n+ * Return the #GstMetaInfo associated with #GstAudioLevelMeta.\n+ *\n+ * Returns: (transfer none): a #GstMetaInfo\n+ *\n+ * Since: 1.20\n+ *\/\n+const GstMetaInfo *\n+gst_audio_level_meta_get_info (void)\n+{\n+  static const GstMetaInfo *audio_level_meta_info = NULL;\n+\n+  if (g_once_init_enter (&audio_level_meta_info)) {\n+    const GstMetaInfo *meta = gst_meta_register (GST_AUDIO_LEVEL_META_API_TYPE,\n+        \"GstAudioLevelMeta\",\n+        sizeof (GstAudioLevelMeta),\n+        gst_audio_level_meta_init,\n+        (GstMetaFreeFunction) NULL,\n+        gst_audio_level_meta_transform);\n+    g_once_init_leave (&audio_level_meta_info, meta);\n+  }\n+  return audio_level_meta_info;\n+}\n+\n+\/**\n+ * gst_buffer_add_audio_level_meta:\n+ * @buffer: a #GstBuffer\n+ * @level: the -dBov from 0-127 (127 is silence).\n+ * @voice_activity: whether the buffer contains voice activity.\n+ *\n+ * Attaches audio level information to @buffer. (RFC 6464)\n+ *\n+ * Returns: (transfer none) (nullable): the #GstAudioLevelMeta on @buffer.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstAudioLevelMeta *\n+gst_buffer_add_audio_level_meta (GstBuffer * buffer, guint8 level,\n+    gboolean voice_activity)\n+{\n+  GstAudioLevelMeta *meta;\n+\n+  g_return_val_if_fail (buffer != NULL, NULL);\n+\n+  meta = (GstAudioLevelMeta *) gst_buffer_add_meta (buffer,\n+      GST_AUDIO_LEVEL_META_INFO, NULL);\n+  if (!meta)\n+    return NULL;\n+\n+  meta->level = level;\n+  meta->voice_activity = voice_activity;\n+\n+  return meta;\n+}\n+\n+\/**\n+ * gst_buffer_get_audio_level_meta:\n+ * @buffer: a #GstBuffer\n+ *\n+ * Find the #GstAudioLevelMeta on @buffer.\n+ *\n+ * Returns: (transfer none) (nullable): the #GstAudioLevelMeta or %NULL when\n+ * there is no such metadata on @buffer.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstAudioLevelMeta *\n+gst_buffer_get_audio_level_meta (GstBuffer * buffer)\n+{\n+  return (GstAudioLevelMeta *) gst_buffer_get_meta (buffer,\n+      gst_audio_level_meta_api_get_type ());\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiometa.c","additions":131,"deletions":3,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -201,0 +201,49 @@\n+\/**\n+ * GST_AUDIO_LEVEL_META_API_TYPE:\n+ *\n+ * The #GType associated with #GstAudioLevelMeta.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_AUDIO_LEVEL_META_API_TYPE  (gst_audio_level_meta_api_get_type())\n+\/**\n+ * GST_AUDIO_LEVEL_META_INFO:\n+ *\n+ * The #GstMetaInfo associated with #GstAudioLevelMeta.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_AUDIO_LEVEL_META_INFO  (gst_audio_level_meta_get_info())\n+typedef struct _GstAudioLevelMeta GstAudioLevelMeta;\n+\n+\/**\n+ * GstAudioLevelMeta:\n+ * @meta: parent #GstMeta\n+ * @level: the -dBov from 0-127 (127 is silence).\n+ * @voice_activity: whether the buffer contains voice activity\n+ *\n+ * Meta containing Audio Level Indication: https:\/\/tools.ietf.org\/html\/rfc6464\n+ *\n+ * Since: 1.20\n+ *\/\n+struct _GstAudioLevelMeta\n+{\n+  GstMeta meta;\n+\n+  guint8 level;\n+  gboolean voice_activity;\n+};\n+\n+GST_AUDIO_API\n+GType                  gst_audio_level_meta_api_get_type                (void);\n+\n+GST_AUDIO_API\n+const GstMetaInfo *    gst_audio_level_meta_get_info                    (void);\n+\n+GST_AUDIO_API\n+GstAudioLevelMeta * gst_buffer_add_audio_level_meta                     (GstBuffer * buffer,\n+                                                                         guint8 level,\n+                                                                         gboolean voice_activity);\n+GST_AUDIO_API\n+GstAudioLevelMeta * gst_buffer_get_audio_level_meta                     (GstBuffer * buffer);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiometa.h","additions":49,"deletions":0,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -659,1 +659,1 @@\n-    gst_audio_format_fill_silence (buf->spec.info.finfo, buf->empty_seg,\n+    gst_audio_format_info_fill_silence (buf->spec.info.finfo, buf->empty_seg,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudioringbuffer.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -260,0 +260,3 @@\n+        } else if (written == 0 && G_UNLIKELY (g_atomic_int_get (&buf->state) !=\n+                GST_AUDIO_RING_BUFFER_STATE_STARTED)) {\n+          break;\n@@ -430,1 +433,1 @@\n-    gst_audio_format_fill_silence (buf->spec.info.finfo, buf->memory,\n+    gst_audio_format_info_fill_silence (buf->spec.info.finfo, buf->memory,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosink.c","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -387,1 +387,1 @@\n-    gst_audio_format_fill_silence (buf->spec.info.finfo, buf->memory,\n+    gst_audio_format_info_fill_silence (buf->spec.info.finfo, buf->memory,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/gstaudiosrc.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-  static volatile gsize type = 0;\n+  static gsize type = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/streamvolume.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -46,0 +46,21 @@\n+#ifndef GST_DISABLE_GST_DEBUG\n+#define GST_CAT_DEFAULT gst_pb_utils_codec_utils_ensure_debug_category()\n+\n+static GstDebugCategory *\n+gst_pb_utils_codec_utils_ensure_debug_category (void)\n+{\n+  static gsize cat_gonce = 0;\n+\n+  if (g_once_init_enter (&cat_gonce)) {\n+    GstDebugCategory *cat = NULL;\n+\n+    GST_DEBUG_CATEGORY_INIT (cat, \"codec-utils\", 0,\n+        \"GstPbUtils codec helper functions\");\n+\n+    g_once_init_leave (&cat_gonce, (gsize) cat);\n+  }\n+\n+  return (GstDebugCategory *) cat_gonce;\n+}\n+#endif \/* GST_DISABLE_GST_DEBUG *\/\n+\n@@ -259,1 +280,1 @@\n- * Returns: The profile as a const string and %NULL if the profile could not be\n+ * Returns: (nullable): The profile as a const string and %NULL if the profile could not be\n@@ -322,1 +343,1 @@\n- * Returns: The level as a const string and %NULL if the level could not be\n+ * Returns: (nullable): The level as a const string and %NULL if the level could not be\n@@ -451,1 +472,1 @@\n-  num_channels = num_sce + (2 * num_cpe) + num_lfe;\n+  num_channels = num_sce + (2 * num_cpe);\n@@ -567,1 +588,1 @@\n- * Returns: The profile as a const string, or %NULL if there is an error.\n+ * Returns: (nullable): The profile as a const string, or %NULL if there is an error.\n@@ -668,1 +689,1 @@\n- * Returns: The level as a const string, or %NULL if there is an error.\n+ * Returns: (nullable): The level as a const string, or %NULL if there is an error.\n@@ -821,0 +842,53 @@\n+\/**\n+ * gst_codec_utils_h264_get_profile_flags_level:\n+ * @codec_data: (array length=len): H264 AVCC extradata\n+ * @len: length of @codec_data\n+ * @profile: (optional) (out): return location for h264 profile_idc or %NULL\n+ * @flags: (optional) (out): return location for h264 constraint set flags or %NULL\n+ * @level: (optional) (out): return location h264 level_idc or %NULL\n+ *\n+ * Parses profile, flags, and level from a H264 AVCC extradata\/sequence_header.\n+ * These are most commonly retrieved from a video\/x-h264 caps with a codec_data\n+ * buffer.\n+ *\n+ * The format of H264 AVCC extradata\/sequence_header is documented in the\n+ * ITU-T H.264 specification section 7.3.2.1.1 as well as in ISO\/IEC 14496-15\n+ * section 5.3.3.1.2.\n+ *\n+ * Returns: %TRUE on success, %FALSE on failure\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_codec_utils_h264_get_profile_flags_level (const guint8 * codec_data,\n+    guint len, guint8 * profile, guint8 * flags, guint8 * level)\n+{\n+  gboolean ret = FALSE;\n+\n+  g_return_val_if_fail (codec_data != NULL, FALSE);\n+\n+  if (len < 7) {\n+    GST_WARNING (\"avc codec data is too small\");\n+    goto done;\n+  }\n+  if (codec_data[0] != 1) {\n+    GST_WARNING (\"failed to parse avc codec version, must be 1\");\n+    goto done;\n+  }\n+\n+  if (profile) {\n+    *profile = codec_data[1];\n+  }\n+  if (flags) {\n+    *flags = codec_data[2];\n+  }\n+  if (level) {\n+    *level = codec_data[3];\n+  }\n+\n+  ret = TRUE;\n+\n+done:\n+  return ret;\n+}\n+\n@@ -1130,1 +1204,1 @@\n- * Returns: The profile as a const string, or %NULL if there is an error.\n+ * Returns: (nullable): The profile as a const string, or %NULL if there is an error.\n@@ -1296,1 +1370,1 @@\n- * Returns: The tier as a const string, or %NULL if there is an error.\n+ * Returns: (nullable): The tier as a const string, or %NULL if there is an error.\n@@ -1333,1 +1407,1 @@\n- * Returns: The level as a const string, or %NULL if there is an error.\n+ * Returns: (nullable): The level as a const string, or %NULL if there is an error.\n@@ -1483,1 +1557,1 @@\n- * Returns: The profile as a const string, or NULL if there is an error.\n+ * Returns: (nullable): The profile as a const string, or NULL if there is an error.\n@@ -1556,1 +1630,1 @@\n- * Returns: The level as a const string, or NULL if there is an error.\n+ * Returns: (nullable): The level as a const string, or NULL if there is an error.\n@@ -1681,6 +1755,6 @@\n- * @rate: (out): the sample rate\n- * @channels: (out): the number of channels\n- * @channel_mapping_family: (out): the channel mapping family\n- * @stream_count: (out): the number of independent streams\n- * @coupled_count: (out): the number of stereo streams\n- * @channel_mapping: (out) (array fixed-size=256): the mapping between the streams\n+ * @rate: (optional) (out): the sample rate\n+ * @channels: (optional) (out): the number of channels\n+ * @channel_mapping_family: (optional) (out): the channel mapping family\n+ * @stream_count: (optional) (out): the number of independent streams\n+ * @coupled_count: (optional) (out): the number of stereo streams\n+ * @channel_mapping: (optional) (out) (array fixed-size=256): the mapping between the streams\n@@ -1802,1 +1876,1 @@\n- * @channel_mapping: (allow-none) (array): the mapping between the streams\n+ * @channel_mapping: (nullable) (array): the mapping between the streams\n@@ -1967,1 +2041,1 @@\n- * @comments: (allow-none): Comment header or NULL\n+ * @comments: (nullable): Comment header or NULL\n@@ -2026,1 +2100,1 @@\n- * @channel_mapping: (allow-none) (array): the mapping between the streams\n+ * @channel_mapping: (nullable) (array): the mapping between the streams\n@@ -2103,8 +2177,8 @@\n- * @rate: (out): the sample rate\n- * @channels: (out): the number of channels\n- * @channel_mapping_family: (out): the channel mapping family\n- * @stream_count: (out): the number of independent streams\n- * @coupled_count: (out): the number of stereo streams\n- * @channel_mapping: (out) (array fixed-size=256): the mapping between the streams\n- * @pre_skip: (out): Pre-skip in 48kHz samples or 0\n- * @output_gain: (out): Output gain or 0\n+ * @rate: (optional) (out): the sample rate\n+ * @channels: (optional) (out): the number of channels\n+ * @channel_mapping_family: (optional) (out): the channel mapping family\n+ * @stream_count: (optional) (out): the number of independent streams\n+ * @coupled_count: (optional) (out): the number of stereo streams\n+ * @channel_mapping: (optional) (out) (array fixed-size=256): the mapping between the streams\n+ * @pre_skip: (optional) (out): Pre-skip in 48kHz samples or 0\n+ * @output_gain: (optional) (out): Output gain or 0\n@@ -2209,0 +2283,277 @@\n+\n+static gboolean\n+h264_caps_structure_get_profile_flags_level (GstStructure * caps_st,\n+    guint8 * profile, guint8 * flags, guint8 * level)\n+{\n+  const GValue *codec_data_value = NULL;\n+  GstBuffer *codec_data = NULL;\n+  GstMapInfo map;\n+  gboolean ret = FALSE;\n+  guint8 *data = NULL;\n+  gsize size;\n+\n+  codec_data_value = gst_structure_get_value (caps_st, \"codec_data\");\n+  if (!codec_data_value) {\n+    GST_DEBUG\n+        (\"video\/x-h264 caps did not have codec_data set, cannot parse profile, flags and level\");\n+    return FALSE;\n+  }\n+\n+  codec_data = gst_value_get_buffer (codec_data_value);\n+  if (!gst_buffer_map (codec_data, &map, GST_MAP_READ)) {\n+    return FALSE;\n+  }\n+  data = map.data;\n+  size = map.size;\n+\n+  if (!gst_codec_utils_h264_get_profile_flags_level (data, (guint) size,\n+          profile, flags, level)) {\n+    GST_WARNING\n+        (\"Failed to parse profile, flags and level from h264 codec data\");\n+    goto done;\n+  }\n+\n+  ret = TRUE;\n+\n+done:\n+  gst_buffer_unmap (codec_data, &map);\n+\n+  return ret;\n+}\n+\n+static gboolean\n+aac_caps_structure_get_audio_object_type (GstStructure * caps_st,\n+    guint8 * audio_object_type)\n+{\n+  gboolean ret = FALSE;\n+  const GValue *codec_data_value = NULL;\n+  GstBuffer *codec_data = NULL;\n+  GstMapInfo map;\n+  guint8 *data = NULL;\n+  gsize size;\n+  GstBitReader br;\n+\n+  codec_data_value = gst_structure_get_value (caps_st, \"codec_data\");\n+  if (!codec_data_value) {\n+    GST_DEBUG\n+        (\"audio\/mpeg pad did not have codec_data set, cannot parse audio object type\");\n+    return FALSE;\n+  }\n+\n+  codec_data = gst_value_get_buffer (codec_data_value);\n+  if (!gst_buffer_map (codec_data, &map, GST_MAP_READ)) {\n+    return FALSE;\n+  }\n+  data = map.data;\n+  size = map.size;\n+\n+  if (size < 2) {\n+    GST_WARNING (\"aac codec data is too small\");\n+    goto done;\n+  }\n+\n+  gst_bit_reader_init (&br, data, size);\n+  ret = gst_codec_utils_aac_get_audio_object_type (&br, audio_object_type);\n+\n+done:\n+  gst_buffer_unmap (codec_data, &map);\n+\n+  return ret;\n+}\n+\n+static gboolean\n+hevc_caps_get_mime_codec (GstCaps * caps, gchar ** mime_codec)\n+{\n+  GstStructure *caps_st = NULL;\n+  const GValue *codec_data_value = NULL;\n+  GstBuffer *codec_data = NULL;\n+  GstMapInfo map;\n+  gboolean ret = FALSE;\n+  const gchar *stream_format;\n+  guint8 *data = NULL;\n+  gsize size;\n+  guint16 profile_space;\n+  guint8 tier_flag;\n+  guint16 profile_idc;\n+  guint32 compat_flags;\n+  guchar constraint_indicator_flags[6];\n+  guint8 level_idc;\n+  guint32 compat_flag_parameter = 0;\n+  GString *codec_string;\n+  const guint8 *profile_tier_level;\n+  gint last_flag_index;\n+\n+  caps_st = gst_caps_get_structure (caps, 0);\n+  codec_data_value = gst_structure_get_value (caps_st, \"codec_data\");\n+  stream_format = gst_structure_get_string (caps_st, \"stream-format\");\n+  if (!codec_data_value) {\n+    GST_DEBUG (\"video\/x-h265 caps did not have codec_data set, cannot parse\");\n+    return FALSE;\n+  } else if (!stream_format) {\n+    GST_DEBUG\n+        (\"video\/x-h265 caps did not have stream-format set, cannot parse\");\n+    return FALSE;\n+  }\n+\n+  codec_data = gst_value_get_buffer (codec_data_value);\n+  if (!gst_buffer_map (codec_data, &map, GST_MAP_READ)) {\n+    return FALSE;\n+  }\n+  data = map.data;\n+  size = map.size;\n+\n+  \/* HEVCDecoderConfigurationRecord is at a minimum 23 bytes long *\/\n+  if (size < 23) {\n+    GST_DEBUG (\"Incomplete HEVCDecoderConfigurationRecord\");\n+    goto done;\n+  }\n+\n+  if (!g_str_equal (stream_format, \"hev1\")\n+      && !g_str_equal (stream_format, \"hvc1\")) {\n+    GST_DEBUG (\"Unknown stream-format %s\", stream_format);\n+    goto done;\n+  }\n+\n+  profile_tier_level = data + 1;\n+  profile_space = (profile_tier_level[0] & 0x11) >> 6;\n+  tier_flag = (profile_tier_level[0] & 0x001) >> 5;\n+  profile_idc = (profile_tier_level[0] & 0x1f);\n+\n+  compat_flags = GST_READ_UINT32_BE (data + 2);\n+  for (unsigned i = 0; i < 6; ++i)\n+    constraint_indicator_flags[i] = GST_READ_UINT8 (data + 6 + i);\n+\n+  level_idc = data[12];\n+\n+  \/* The 32 bits of the compat_flags, but in reverse bit order *\/\n+  compat_flags =\n+      ((compat_flags & 0xaaaaaaaa) >> 1) | ((compat_flags & 0x55555555) << 1);\n+  compat_flags =\n+      ((compat_flags & 0xcccccccc) >> 2) | ((compat_flags & 0x33333333) << 2);\n+  compat_flags =\n+      ((compat_flags & 0xf0f0f0f0) >> 4) | ((compat_flags & 0x0f0f0f0f) << 4);\n+  compat_flags =\n+      ((compat_flags & 0xff00ff00) >> 8) | ((compat_flags & 0x00ff00ff) << 8);\n+  compat_flag_parameter = (compat_flags >> 16) | (compat_flags << 16);\n+\n+  codec_string = g_string_new (stream_format);\n+  codec_string = g_string_append_c (codec_string, '.');\n+  if (profile_space)\n+    codec_string = g_string_append_c (codec_string, 'A' + profile_space - 1);\n+  g_string_append_printf (codec_string, \"%\" G_GUINT16_FORMAT \".%X.%c%d\",\n+      profile_idc, compat_flag_parameter, tier_flag ? 'H' : 'L', level_idc);\n+\n+  \/* Each of the 6 bytes of the constraint flags, starting from the byte containing the\n+   * progressive_source_flag, each encoded as a hexadecimal number, and the encoding\n+   * of each byte separated by a period; trailing bytes that are zero may be omitted.\n+   *\/\n+  last_flag_index = 5;\n+  while (last_flag_index >= 0\n+      && (int) (constraint_indicator_flags[last_flag_index]) == 0)\n+    --last_flag_index;\n+  for (gint i = 0; i <= last_flag_index; ++i) {\n+    g_string_append_printf (codec_string, \".%02X\",\n+        constraint_indicator_flags[i]);\n+  }\n+\n+  *mime_codec = g_string_free (codec_string, FALSE);\n+\n+  ret = TRUE;\n+\n+done:\n+  gst_buffer_unmap (codec_data, &map);\n+  return ret;\n+}\n+\n+\/**\n+ * gst_codec_utils_caps_get_mime_codec:\n+ * @caps: A #GstCaps to convert to mime codec\n+ *\n+ * Converts @caps to a RFC 6381 compatible codec string if possible.\n+ *\n+ * Useful for providing the 'codecs' field inside the 'Content-Type' HTTP\n+ * header for containerized formats, such as mp4 or matroska.\n+ *\n+ * Registered codecs can be found at http:\/\/mp4ra.org\/#\/codecs\n+ *\n+ * Returns: (transfer full) (nullable): a RFC 6381 compatible codec string or %NULL\n+ *\n+ * Since: 1.20\n+ *\/\n+gchar *\n+gst_codec_utils_caps_get_mime_codec (GstCaps * caps)\n+{\n+  gchar *mime_codec = NULL;\n+  GstStructure *caps_st = NULL;\n+  const gchar *media_type = NULL;\n+\n+  g_return_val_if_fail (caps != NULL, NULL);\n+  g_return_val_if_fail (gst_caps_is_fixed (caps), NULL);\n+\n+  caps_st = gst_caps_get_structure (caps, 0);\n+  if (caps_st == NULL) {\n+    GST_WARNING (\"Failed to get structure from caps\");\n+    goto done;\n+  }\n+\n+  media_type = gst_structure_get_name (caps_st);\n+\n+  if (g_strcmp0 (media_type, \"video\/x-h264\") == 0) {\n+    \/* avc1.AABBCC\n+     *   AA = profile\n+     *   BB = constraint set flags\n+     *   CC = level\n+     *\/\n+    guint8 profile = 0;\n+    guint8 flags = 0;\n+    guint8 level = 0;\n+\n+    if (!h264_caps_structure_get_profile_flags_level (caps_st, &profile, &flags,\n+            &level)) {\n+      GST_DEBUG\n+          (\"h264 caps did not contain 'codec_data', cannot determine detailed codecs info\");\n+      mime_codec = g_strdup (\"avc1\");\n+    } else {\n+      mime_codec = g_strdup_printf (\"avc1.%02X%02X%02X\", profile, flags, level);\n+    }\n+  } else if (g_strcmp0 (media_type, \"video\/x-h265\") == 0) {\n+    if (!hevc_caps_get_mime_codec (caps, &mime_codec)) {\n+      GST_DEBUG (\"h265 caps parsing failed\");\n+      mime_codec = g_strdup (\"hev1\");\n+    }\n+  } else if (g_strcmp0 (media_type, \"video\/x-av1\") == 0) {\n+    \/* TODO: Some browsers won't play the video unless more codec information is\n+     * available in the mime codec for av1. This is documented in\n+     * https:\/\/aomediacodec.github.io\/av1-isobmff\/#codecsparam *\/\n+    mime_codec = g_strdup (\"av01\");\n+  } else if (g_strcmp0 (media_type, \"video\/x-vp8\") == 0) {\n+    \/* TODO: most browsers won't play the video unless more codec information is\n+     * available in the mime codec for vp8. *\/\n+    mime_codec = g_strdup (\"vp08\");\n+  } else if (g_strcmp0 (media_type, \"video\/x-vp9\") == 0) {\n+    \/* TODO: most browsers won't play the video unless more codec information is\n+     * available in the mime codec for vp9. This is documented in\n+     * https:\/\/www.webmproject.org\/vp9\/mp4\/ *\/\n+    mime_codec = g_strdup (\"vp09\");\n+  } else if (g_strcmp0 (media_type, \"image\/jpeg\") == 0) {\n+    mime_codec = g_strdup (\"mjpg\");\n+  } else if (g_strcmp0 (media_type, \"audio\/mpeg\") == 0) {\n+    guint8 audio_object_type = 0;\n+    if (aac_caps_structure_get_audio_object_type (caps_st, &audio_object_type)) {\n+      mime_codec = g_strdup_printf (\"mp4a.40.%u\", audio_object_type);\n+    } else {\n+      mime_codec = g_strdup (\"mp4a.40\");\n+    }\n+  } else if (g_strcmp0 (media_type, \"audio\/x-opus\") == 0) {\n+    mime_codec = g_strdup (\"opus\");\n+  } else if (g_strcmp0 (media_type, \"audio\/x-mulaw\") == 0) {\n+    mime_codec = g_strdup (\"ulaw\");\n+  } else if (g_strcmp0 (media_type, \"audio\/x-adpcm\") == 0) {\n+    if (g_strcmp0 (gst_structure_get_string (caps_st, \"layout\"), \"g726\") == 0) {\n+      mime_codec = g_strdup (\"g726\");\n+    }\n+  }\n+\n+done:\n+  return mime_codec;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.c","additions":378,"deletions":27,"binary":false,"changes":405,"status":"modified"},{"patch":"@@ -71,0 +71,7 @@\n+GST_PBUTILS_API\n+gboolean      gst_codec_utils_h264_get_profile_flags_level (const guint8 * codec_data,\n+                                                            guint len,\n+                                                            guint8 * profile,\n+                                                            guint8 * flags,\n+                                                            guint8 * level);\n+\n@@ -149,0 +156,5 @@\n+\/* General *\/\n+GST_PBUTILS_API\n+gchar * gst_codec_utils_caps_get_mime_codec (GstCaps * caps);\n+\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/codec-utils.h","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -1317,0 +1317,66 @@\n+\/**\n+ * gst_pb_utils_get_file_extension_from_caps:\n+ * @caps: the (fixed) #GstCaps for which a file extension is needed\n+ *\n+ * Returns a possible file extension for the given caps, if known.\n+ *\n+ * Returns: (nullable): a newly-allocated file extension string, or NULL on error. Free\n+ *          string with g_free() when not needed any longer.\n+ *\n+ * Since: 1.20\n+ *\/\n+gchar *\n+gst_pb_utils_get_file_extension_from_caps (const GstCaps * caps)\n+{\n+  return g_strdup (pb_utils_get_file_extension_from_caps (caps));\n+}\n+\n+\/**\n+ * gst_pb_utils_get_caps_description_flags:\n+ * @caps: the (fixed) #GstCaps for which flags are requested\n+ *\n+ * Returns flags that describe the format of the caps if known. No flags are\n+ * set for unknown caps.\n+ *\n+ * Returns: #GstPbUtilsCapsDescriptionFlags that describe @caps, or no flags\n+ *          if the caps are unknown.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstPbUtilsCapsDescriptionFlags\n+gst_pb_utils_get_caps_description_flags (const GstCaps * caps)\n+{\n+  GstCaps *tmp;\n+  const FormatInfo *info;\n+  GstPbUtilsCapsDescriptionFlags flags = 0;\n+\n+  g_return_val_if_fail (caps != NULL, 0);\n+  g_return_val_if_fail (GST_IS_CAPS (caps), 0);\n+  tmp = copy_and_clean_caps (caps);\n+  g_return_val_if_fail (gst_caps_is_fixed (tmp), 0);\n+\n+  info = find_format_info (tmp);\n+  \/* A separate flags type is used because internally more flags are needed\n+   * for filtering purposes, e.g. the SYSTEMSTREAM flag *\/\n+  if (info) {\n+    if ((info->flags | FLAG_CONTAINER))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_CONTAINER;\n+    if ((info->flags | FLAG_AUDIO))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_AUDIO;\n+    if ((info->flags | FLAG_VIDEO))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_VIDEO;\n+    if ((info->flags | FLAG_IMAGE))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_IMAGE;\n+    if ((info->flags | FLAG_SUB))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_SUBTITLE;\n+    if ((info->flags | FLAG_TAG))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_TAG;\n+    if ((info->flags | FLAG_GENERIC))\n+      flags |= GST_PBUTILS_CAPS_DESCRIPTION_FLAG_GENERIC;\n+  }\n+\n+  gst_caps_unref (tmp);\n+\n+  return flags;\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.c","additions":66,"deletions":0,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -29,0 +29,30 @@\n+\/**\n+ * GstPbUtilsCapsDescriptionFlags:\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_CONTAINER: Caps describe a container format.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_AUDIO: Caps describe an audio format, or a\n+ *     container format that can store audio.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_VIDEO: Caps describe an video format, or a\n+ *     container format that can store video.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_IMAGE: Caps describe an image format, or a\n+ *     container format that can store image.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_SUBTITLE: Caps describe an subtitle format, or a\n+ *     container format that can store subtitles.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_TAG: Container format is a tags container.\n+ * @GST_PBUTILS_CAPS_DESCRIPTION_FLAG_GENERIC: Container format can store any kind of\n+ *     stream type.\n+ *\n+ * Flags that are returned by gst_pb_utils_get_caps_description_flags() and\n+ * describe the format of the caps.\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef enum {\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_CONTAINER = 1 << 0,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_AUDIO     = 1 << 1,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_VIDEO     = 1 << 2,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_IMAGE     = 1 << 3,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_SUBTITLE  = 1 << 4,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_TAG       = 1 << 5,\n+  GST_PBUTILS_CAPS_DESCRIPTION_FLAG_GENERIC   = 1 << 6,\n+} GstPbUtilsCapsDescriptionFlags;\n+\n@@ -62,0 +92,5 @@\n+GST_PBUTILS_API\n+GstPbUtilsCapsDescriptionFlags gst_pb_utils_get_caps_description_flags (const GstCaps * caps);\n+\n+GST_PBUTILS_API\n+gchar * gst_pb_utils_get_file_extension_from_caps (const GstCaps *caps);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/descriptions.h","additions":35,"deletions":0,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -339,0 +339,4 @@\n+\n+  \/* rewind one stride *\/\n+  d -= ds;\n+\n@@ -502,1 +506,1 @@\n-  static volatile gsize audio_visualizer_type = 0;\n+  static gsize audio_visualizer_type = 0;\n@@ -847,1 +851,1 @@\n-    GstAllocationParams * params, GstQuery * query)\n+    const GstAllocationParams * params, GstQuery * query)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstaudiovisualizer.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-  \/* Nothing needs initialization *\/\n+  info->stream_number = -1;\n@@ -146,0 +146,2 @@\n+  ret->stream_number = info->stream_number;\n+\n@@ -178,0 +180,3 @@\n+  if (info->tags)\n+    gst_tag_list_unref (info->tags);\n+\n@@ -207,0 +212,3 @@\n+  if (ptr->tags)\n+    ret->tags = gst_tag_list_copy (ptr->tags);\n+\n@@ -715,0 +723,17 @@\n+\/**\n+ * gst_discoverer_stream_info_get_stream_number:\n+ * @info: a #GstDiscovererStreamInfo\n+ *\n+ * Returns: the stream number, -1 if no index could be determined. This property\n+ * acts as a unique identifier as a 'int' for the stream.\n+ *\n+ * Since: 1.20\n+ *\/\n+gint\n+gst_discoverer_stream_info_get_stream_number (GstDiscovererStreamInfo * info)\n+{\n+  g_return_val_if_fail (GST_IS_DISCOVERER_STREAM_INFO (info), -1);\n+\n+  return info->stream_number;\n+}\n+\n@@ -741,0 +766,17 @@\n+\/**\n+ * gst_discoverer_container_info_get_tags:\n+ * @info: a #GstDiscovererStreamInfo\n+ *\n+ * Returns: (transfer none): tags specific to the given container. If you wish to use\n+ * the tags after the life-time of @info, you will need to copy them.\n+ *\n+ * Since: 1.20\n+ *\/\n+const GstTagList *\n+gst_discoverer_container_info_get_tags (const GstDiscovererContainerInfo * info)\n+{\n+  g_return_val_if_fail (GST_IS_DISCOVERER_CONTAINER_INFO (info), NULL);\n+\n+  return info->tags;\n+}\n+\n@@ -1060,1 +1102,0 @@\n-#endif\n@@ -1068,0 +1109,2 @@\n+ *\n+ * Deprecated: 1.20: Use gst_discoverer_{container,stream}_info_get_tags() instead.\n@@ -1071,0 +1114,1 @@\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer-types.c","additions":46,"deletions":2,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -110,0 +110,3 @@\n+  GstTagList *all_tags;\n+  GstTagList *global_tags;\n+\n@@ -360,0 +363,3 @@\n+  dc->priv->all_tags = NULL;\n+  dc->priv->global_tags = NULL;\n+\n@@ -524,0 +530,2 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (timeout));\n+\n@@ -538,22 +546,0 @@\n-    case GST_EVENT_TAG:{\n-      GstTagList *tl = NULL, *tmp;\n-\n-      gst_event_parse_tag (event, &tl);\n-      GST_DEBUG_OBJECT (pad, \"tags %\" GST_PTR_FORMAT, tl);\n-      DISCO_LOCK (ps->dc);\n-      \/* If preroll is complete, drop these tags - the collected information is\n-       * possibly already being processed and adding more tags would be racy *\/\n-      if (G_LIKELY (ps->dc->priv->processing)) {\n-        GST_DEBUG_OBJECT (pad, \"private stream %p old tags %\" GST_PTR_FORMAT,\n-            ps, ps->tags);\n-        tmp = gst_tag_list_merge (ps->tags, tl, GST_TAG_MERGE_APPEND);\n-        if (ps->tags)\n-          gst_tag_list_unref (ps->tags);\n-        ps->tags = tmp;\n-        GST_DEBUG_OBJECT (pad, \"private stream %p new tags %\" GST_PTR_FORMAT,\n-            ps, tmp);\n-      } else\n-        GST_DEBUG_OBJECT (pad, \"Dropping tags since preroll is done\");\n-      DISCO_UNLOCK (ps->dc);\n-      break;\n-    }\n@@ -1301,0 +1287,1 @@\n+      res->stream_number = dc->priv->current_info->stream_count++;\n@@ -1310,1 +1297,0 @@\n-    GstTagList *tags;\n@@ -1331,0 +1317,2 @@\n+    if (dc->priv->global_tags)\n+      cont->tags = gst_tag_list_ref (dc->priv->global_tags);\n@@ -1333,18 +1321,0 @@\n-    if (gst_structure_id_has_field (topology, _TAGS_QUARK)) {\n-      GstTagList *tmp;\n-\n-      gst_structure_id_get (topology, _TAGS_QUARK,\n-          GST_TYPE_TAG_LIST, &tags, NULL);\n-\n-      GST_DEBUG (\"Merge tags %\" GST_PTR_FORMAT, tags);\n-\n-      tmp =\n-          gst_tag_list_merge (cont->parent.tags, (GstTagList *) tags,\n-          GST_TAG_MERGE_APPEND);\n-      gst_tag_list_unref (tags);\n-      if (cont->parent.tags)\n-        gst_tag_list_unref (cont->parent.tags);\n-      cont->parent.tags = tmp;\n-      GST_DEBUG (\"Container info tags %\" GST_PTR_FORMAT, tmp);\n-    }\n-\n@@ -1393,0 +1363,10 @@\n+static GstDiscovererInfo *\n+_ensure_info_tags (GstDiscoverer * dc)\n+{\n+  GstDiscovererInfo *info = dc->priv->current_info;\n+\n+  if (dc->priv->all_tags)\n+    info->tags = dc->priv->all_tags;\n+  dc->priv->all_tags = NULL;\n+  return info;\n+}\n@@ -1397,2 +1377,2 @@\n-  GST_DEBUG_OBJECT (dc, \"Emitting 'discoverered' %s\",\n-      dc->priv->current_info->uri);\n+  GstDiscovererInfo *info = _ensure_info_tags (dc);\n+  GST_DEBUG_OBJECT (dc, \"Emitting 'discoverered' %s\", info->uri);\n@@ -1400,1 +1380,1 @@\n-      dc->priv->current_info, dc->priv->current_error);\n+      info, dc->priv->current_error);\n@@ -1500,1 +1480,2 @@\n-    if (dc->priv->current_topology)\n+    if (dc->priv->current_topology) {\n+      dc->priv->current_info->stream_count = 1;\n@@ -1503,0 +1484,3 @@\n+      if (dc->priv->current_info->stream_info)\n+        dc->priv->current_info->stream_info->stream_number = 0;\n+    }\n@@ -1704,1 +1688,2 @@\n-      GstTagList *tl, *tmp;\n+      GstTagList *tl, *tmp = NULL;\n+      GstTagScope scope;\n@@ -1707,0 +1692,1 @@\n+      scope = gst_tag_list_get_scope (tl);\n@@ -1708,4 +1694,26 @@\n-      \/* Merge with current tags *\/\n-      tmp =\n-          gst_tag_list_merge (dc->priv->current_info->tags, tl,\n-          GST_TAG_MERGE_APPEND);\n+\n+      tmp = gst_tag_list_merge (dc->priv->all_tags, tl, GST_TAG_MERGE_APPEND);\n+      if (dc->priv->all_tags)\n+        gst_tag_list_unref (dc->priv->all_tags);\n+      dc->priv->all_tags = tmp;\n+\n+      if (scope == GST_TAG_SCOPE_STREAM) {\n+        for (GList * curr = dc->priv->streams; curr; curr = curr->next) {\n+          PrivateStream *ps = (PrivateStream *) curr->data;\n+          if (GST_MESSAGE_SRC (msg) == GST_OBJECT_CAST (ps->sink)) {\n+            tmp = gst_tag_list_merge (ps->tags, tl, GST_TAG_MERGE_APPEND);\n+            if (ps->tags)\n+              gst_tag_list_unref (ps->tags);\n+            ps->tags = tmp;\n+            GST_DEBUG_OBJECT (ps->pad, \"tags %\" GST_PTR_FORMAT, ps->tags);\n+            break;\n+          }\n+        }\n+      } else {\n+        tmp =\n+            gst_tag_list_merge (dc->priv->global_tags, tl,\n+            GST_TAG_MERGE_APPEND);\n+        if (dc->priv->global_tags)\n+          gst_tag_list_unref (dc->priv->global_tags);\n+        dc->priv->global_tags = tmp;\n+      }\n@@ -1713,5 +1721,0 @@\n-      if (dc->priv->current_info->tags)\n-        gst_tag_list_unref (dc->priv->current_info->tags);\n-      dc->priv->current_info->tags = tmp;\n-      GST_DEBUG_OBJECT (GST_MESSAGE_SRC (msg), \"Current info %p, tags %\"\n-          GST_PTR_FORMAT, dc->priv->current_info, tmp);\n@@ -1720,1 +1723,0 @@\n-\n@@ -1962,0 +1964,10 @@\n+  if (dc->priv->all_tags) {\n+    gst_tag_list_unref (dc->priv->all_tags);\n+    dc->priv->all_tags = NULL;\n+  }\n+\n+  if (dc->priv->global_tags) {\n+    gst_tag_list_unref (dc->priv->global_tags);\n+    dc->priv->global_tags = NULL;\n+  }\n+\n@@ -2381,1 +2393,1 @@\n-  if (!GST_IS_DISCOVERER_CONTAINER_INFO (sinfo))\n+  if (!GST_IS_DISCOVERER_CONTAINER_INFO (sinfo)) {\n@@ -2383,0 +2395,1 @@\n+  }\n@@ -2394,0 +2407,1 @@\n+    cinfo->tags = sinfo->tags;\n@@ -2609,1 +2623,1 @@\n-  info = discoverer->priv->current_info;\n+  info = _ensure_info_tags (discoverer);\n@@ -2634,0 +2648,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (timeout), NULL);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer.c","additions":74,"deletions":58,"binary":false,"changes":132,"status":"modified"},{"patch":"@@ -87,0 +87,3 @@\n+GST_PBUTILS_API\n+gint                     gst_discoverer_stream_info_get_stream_number(GstDiscovererStreamInfo *info);\n+\n@@ -107,0 +110,3 @@\n+GST_PBUTILS_API\n+const GstTagList* gst_discoverer_container_info_get_tags(const GstDiscovererContainerInfo *info);\n+\n@@ -309,1 +315,1 @@\n-GST_PBUTILS_API\n+GST_PBUTILS_DEPRECATED\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstdiscoverer.h","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * The version macros get defined by including &lt;gst\/pbutils\/pbutils.h&gt;.\n+ * The version macros get defined by including <gst\/pbutils\/pbutils.h>.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/gstpluginsbaseversion.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,0 +66,21 @@\n+#ifndef GST_DISABLE_GST_DEBUG\n+#define GST_CAT_DEFAULT gst_pb_utils_missing_plugins_ensure_debug_category()\n+\n+static GstDebugCategory *\n+gst_pb_utils_missing_plugins_ensure_debug_category (void)\n+{\n+  static gsize cat_gonce = 0;\n+\n+  if (g_once_init_enter (&cat_gonce)) {\n+    GstDebugCategory *cat = NULL;\n+\n+    GST_DEBUG_CATEGORY_INIT (cat, \"missing-plugins\", 0,\n+        \"GstPbUtils missing plugins helper\");\n+\n+    g_once_init_leave (&cat_gonce, (gsize) cat);\n+  }\n+\n+  return (GstDebugCategory *) cat_gonce;\n+}\n+#endif \/* GST_DISABLE_GST_DEBUG *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/missing-plugins.c","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+  gint                  stream_number;\n@@ -40,0 +41,1 @@\n+  GstTagList          *tags;\n@@ -99,0 +101,2 @@\n+  gint stream_count;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils-private.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,0 +64,20 @@\n+#ifndef GST_DISABLE_GST_DEBUG\n+#define GST_CAT_DEFAULT gst_pb_utils_ensure_debug_category()\n+\n+static GstDebugCategory *\n+gst_pb_utils_ensure_debug_category (void)\n+{\n+  static gsize cat_gonce = 0;\n+\n+  if (g_once_init_enter (&cat_gonce)) {\n+    GstDebugCategory *cat = NULL;\n+\n+    GST_DEBUG_CATEGORY_INIT (cat, \"pbutils\", 0, \"GStreamer Plugins Base utils\");\n+\n+    g_once_init_leave (&cat_gonce, (gsize) cat);\n+  }\n+\n+  return (GstDebugCategory *) cat_gonce;\n+}\n+#endif \/* GST_DISABLE_GST_DEBUG *\/\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/pbutils\/pbutils.c","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -30,0 +30,4 @@\n+#ifdef GSTREAMER_LITE\n+#include \"gst\/glib-compat-private.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -296,1 +300,1 @@\n-  strh = g_memdup (info.data, info.size);\n+  strh = g_memdup2 (info.data, info.size);\n@@ -387,1 +391,1 @@\n-  strf = g_memdup (info.data, info.size);\n+  strf = g_memdup2 (info.data, info.size);\n@@ -485,1 +489,1 @@\n-  strf = g_memdup (info.data, info.size);\n+  strf = g_memdup2 (info.data, info.size);\n@@ -577,1 +581,1 @@\n-  strf = g_memdup (info.data, info.size);\n+  strf = g_memdup2 (info.data, info.size);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/riff\/riff-read.c","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -658,3 +658,5 @@\n-      gst_buffer_ref (typefind_buf);\n-      if (!gst_tag_demux_trim_buffer (demux, &typefind_buf, &typefind_size))\n-        return GST_FLOW_EOS;\n+      if (typefind_buf) {\n+        gst_buffer_ref (typefind_buf);\n+        if (!gst_tag_demux_trim_buffer (demux, &typefind_buf, &typefind_size))\n+          return GST_FLOW_EOS;\n+      }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/gsttagdemux.c","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -0,0 +1,155 @@\n+\/* GStreamer\n+ * Copyright (C) 2021 Collabora Ltd.\n+ *   Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include \"gstvideocodecalphameta.h\"\n+\n+\/**\n+ * SECTION:gstvideocodecalphameta\n+ * @title: GstVideoCodecAlphaMeta\n+ * @short_description: GstMeta that can carry an extra buffer holding  an\n+ * encoded a frame whith luma that can be used as an alpha channel.\n+ *\n+ * This meta is primarily for internal use in GStreamer elements to support\n+ * VP8\/VP9 transparent video stored into WebM or Matroska containers, or\n+ * transparent static AV1 images. Nothing prevents you from using this meta\n+ * for custom purposes, but it generally can't be used to easily to add support\n+ * for alpha channels to CODECs or formats that don't support that out of the\n+ * box.\n+ *\n+ * Since: 1.20\n+ *\/\n+\n+\/**\n+ * gst_video_codec_alpha_meta_api_get_type:\n+ *\n+ * Returns: #GType for the #GstVideoCodecAlphaMeta structure.\n+ *\n+ * Since: 1.20\n+ *\/\n+GType\n+gst_video_codec_alpha_meta_api_get_type (void)\n+{\n+  static GType type = 0;\n+  static const gchar *tags[] = { GST_META_TAG_VIDEO_STR, NULL };\n+\n+  if (g_once_init_enter (&type)) {\n+    GType _type =\n+        gst_meta_api_type_register (\"GstVideoCodecAlphaMetaAPI\", tags);\n+    g_once_init_leave (&type, _type);\n+  }\n+  return type;\n+}\n+\n+static gboolean\n+gst_video_codec_alpha_meta_transform (GstBuffer * dest,\n+    GstMeta * meta, GstBuffer * buffer, GQuark type, gpointer data)\n+{\n+  GstVideoCodecAlphaMeta *dmeta, *smeta;\n+\n+  smeta = (GstVideoCodecAlphaMeta *) meta;\n+\n+  if (GST_META_TRANSFORM_IS_COPY (type)) {\n+    dmeta =\n+        (GstVideoCodecAlphaMeta *) gst_buffer_add_meta (dest,\n+        GST_VIDEO_CODEC_ALPHA_META_INFO, NULL);\n+\n+    if (!dmeta)\n+      return FALSE;\n+\n+    dmeta->buffer = gst_buffer_ref (smeta->buffer);\n+  }\n+  return TRUE;\n+}\n+\n+static gboolean\n+gst_video_codec_alpha_meta_init (GstMeta * meta, gpointer params,\n+    GstBuffer * buffer)\n+{\n+  GstVideoCodecAlphaMeta *ca_meta = (GstVideoCodecAlphaMeta *) meta;\n+\n+  \/* the buffer ownership is transfered to the Meta *\/\n+  ca_meta->buffer = (GstBuffer *) params;\n+\n+  return TRUE;\n+}\n+\n+static void\n+gst_video_codec_alpha_meta_free (GstMeta * meta, GstBuffer * buffer)\n+{\n+  GstVideoCodecAlphaMeta *ca_meta = (GstVideoCodecAlphaMeta *) meta;\n+  gst_clear_buffer (&ca_meta->buffer);\n+}\n+\n+\/**\n+ * gst_video_codec_alpha_meta_get_info:\n+ *\n+ * Returns: #GstMetaInfo pointer that describes #GstVideoCodecAlphaMeta.\n+ *\n+ * Since: 1.20\n+ *\/\n+const GstMetaInfo *\n+gst_video_codec_alpha_meta_get_info (void)\n+{\n+  static const GstMetaInfo *info = NULL;\n+\n+  if (g_once_init_enter ((GstMetaInfo **) & info)) {\n+    const GstMetaInfo *meta =\n+        gst_meta_register (GST_VIDEO_CODEC_ALPHA_META_API_TYPE,\n+        \"GstVideoCodecAlphaMeta\",\n+        sizeof (GstVideoCodecAlphaMeta),\n+        gst_video_codec_alpha_meta_init,\n+        gst_video_codec_alpha_meta_free,\n+        gst_video_codec_alpha_meta_transform);\n+    g_once_init_leave ((GstMetaInfo **) & info, (GstMetaInfo *) meta);\n+  }\n+\n+  return info;\n+}\n+\n+\/**\n+ * gst_buffer_add_video_codec_alpha_meta:\n+ * @buffer: (transfer none): a #GstBuffer\n+ * @alpha_buffer: (transfer full): a #GstBuffer\n+ *\n+ * Attaches a #GstVideoCodecAlphaMeta metadata to @buffer with\n+ * the given alpha buffer.\n+ *\n+ * Returns: (transfer none): the #GstVideoCodecAlphaMeta on @buffer.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstVideoCodecAlphaMeta *\n+gst_buffer_add_video_codec_alpha_meta (GstBuffer * buffer,\n+    GstBuffer * alpha_buffer)\n+{\n+  GstVideoCodecAlphaMeta *meta;\n+\n+  g_return_val_if_fail (buffer != NULL, NULL);\n+  g_return_val_if_fail (alpha_buffer != NULL, NULL);\n+\n+  meta =\n+      (GstVideoCodecAlphaMeta *) gst_buffer_add_meta (buffer,\n+      GST_VIDEO_CODEC_ALPHA_META_INFO, alpha_buffer);\n+\n+  return meta;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideocodecalphameta.c","additions":155,"deletions":0,"binary":false,"changes":155,"status":"added"},{"patch":"@@ -0,0 +1,88 @@\n+\/* GStreamer\n+ * Copyright (C) 2021 Collabora Ltd.\n+ *   Author: Nicolas Dufresne <nicolas.dufresne@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_VIDEO_CODEC_ALPHA_META_H__\n+#define __GST_VIDEO_CODEC_ALPHA_META_H__\n+\n+#include <gst\/gst.h>\n+#include <gst\/video\/video.h>\n+\n+G_BEGIN_DECLS\n+\n+\/**\n+ * GST_VIDEO_CODEC_ALPHA_META_API_TYPE:\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_VIDEO_CODEC_ALPHA_META_API_TYPE (gst_video_codec_alpha_meta_api_get_type())\n+\n+\/**\n+ * GST_VIDEO_CODEC_ALPHA_META_INFO:\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_VIDEO_CODEC_ALPHA_META_INFO  (gst_video_codec_alpha_meta_get_info())\n+\n+typedef struct _GstVideoCodecAlphaMeta GstVideoCodecAlphaMeta;\n+\n+\/**\n+ * GstVideoCodecAlphaMeta:\n+ * @meta: parent #GstMeta\n+ * @buffer: the encoded alpha frame\n+ *\n+ * Encapsulate an extra frame containing the encoded alpha channel for the\n+ * currently negotiated CODEC. The streams must be of the same dimention as\n+ * the original one.\n+ *\n+ * Since: 1.20\n+ *\/\n+struct _GstVideoCodecAlphaMeta\n+{\n+  GstMeta meta;\n+\n+  GstBuffer *buffer;\n+};\n+\n+GST_VIDEO_API\n+GType gst_video_codec_alpha_meta_api_get_type          (void);\n+\n+GST_VIDEO_API\n+const GstMetaInfo *gst_video_codec_alpha_meta_get_info (void);\n+\n+\/**\n+ * gst_buffer_get_video_codec_alpha_meta:\n+ * @b: A #GstBuffer pointer, must be writable.\n+ *\n+ * Helper macro to get #GstVideoCodecAlphaMeta from an existing #GstBuffer.\n+ *\n+ * Returns: (nullable): the #GstVideoCodecAlphaMeta pointer, or %NULL if none.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define gst_buffer_get_video_codec_alpha_meta(b) \\\n+    ((GstVideoCodecAlphaMeta *)gst_buffer_get_meta((b),GST_VIDEO_CODEC_ALPHA_META_API_TYPE))\n+\n+GST_VIDEO_API\n+GstVideoCodecAlphaMeta *gst_buffer_add_video_codec_alpha_meta (GstBuffer * buffer,\n+                                                               GstBuffer * alpha_buffer);\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_VIDEO_CODEC_ALPHA_META_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideocodecalphameta.h","additions":88,"deletions":0,"binary":false,"changes":88,"status":"added"},{"patch":"@@ -60,1 +60,11 @@\n- *     The ownership of the frame is given to the @handle_frame callback.\n+ *   * When the subclass enables the subframe mode with `gst_video_decoder_set_subframe_mode`,\n+ *     the base class will provide to the subclass the same input frame with\n+ *     different input buffers to the subclass @handle_frame\n+ *     callback. During this call, the subclass needs to take\n+ *     ownership of the input_buffer as @GstVideoCodecFrame.input_buffer\n+ *     will have been changed before the next subframe buffer is received.\n+ *     The subclass will call `gst_video_decoder_have_last_subframe`\n+ *     when a new input frame can be created by the base class.\n+ *     Every subframe will share the same @GstVideoCodecFrame.output_buffer\n+ *     to write the decoding result. The subclass is responsible to protect\n+ *     its access.\n@@ -63,5 +73,10 @@\n- *     @gst_video_decoder_finish_frame to have decoded data pushed.\n- *     downstream. Otherwise, the subclass must call\n- *     @gst_video_decoder_drop_frame, to allow the base class to do timestamp\n- *     and offset tracking, and possibly to requeue the frame for a later\n- *     attempt in the case of reverse playback.\n+ *     @gst_video_decoder_finish_frame to have decoded data pushed\n+ *     downstream. In subframe mode\n+ *     the subclass should call @gst_video_decoder_finish_subframe until the\n+ *     last subframe where it should call @gst_video_decoder_finish_frame.\n+ *     The subclass can detect the last subframe using GST_VIDEO_BUFFER_FLAG_MARKER\n+ *     on buffers or using its own logic to collect the subframes.\n+ *     In case of decoding failure, the subclass must call\n+ *     @gst_video_decoder_drop_frame or @gst_video_decoder_drop_subframe,\n+ *     to allow the base class to do timestamp and offset tracking, and possibly\n+ *     to requeue the frame for a later attempt in the case of reverse playback.\n@@ -287,0 +302,4 @@\n+#ifdef GSTREAMER_LITE\n+#include \"gst\/glib-compat-private.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -293,0 +312,9 @@\n+#define DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL 0\n+#define DEFAULT_DISCARD_CORRUPTED_FRAMES FALSE\n+#define DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS FALSE\n+#define DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS (GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT | GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT)\n+\n+\/* Used for request_sync_point_frame_number. These are out of range for the\n+ * frame numbers and can be given special meaning *\/\n+#define REQUEST_SYNC_POINT_PENDING G_MAXUINT + 1\n+#define REQUEST_SYNC_POINT_UNSET G_MAXUINT64\n@@ -299,0 +327,4 @@\n+  PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n+  PROP_DISCARD_CORRUPTED_FRAMES,\n+  PROP_AUTOMATIC_REQUEST_SYNC_POINTS,\n+  PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n@@ -322,0 +354,3 @@\n+  \/* whether input is considered as subframes *\/\n+  gboolean subframe_mode;\n+\n@@ -337,1 +372,1 @@\n-   * only available during parsing *\/\n+   * only available during parsing or when doing subframe decoding *\/\n@@ -378,3 +413,14 @@\n-  \/* FIXME : reorder_depth is never set *\/\n-  int reorder_depth;\n-  int distance_from_sync;\n+  \/* Properties *\/\n+  GstClockTime min_force_key_unit_interval;\n+  gboolean discard_corrupted_frames;\n+\n+  \/* Key unit related state *\/\n+  gboolean needs_sync_point;\n+  GstVideoDecoderRequestSyncPointFlags request_sync_point_flags;\n+  guint64 request_sync_point_frame_number;\n+  GstClockTime last_force_key_unit_time;\n+  \/* -1 if we saw no sync point yet *\/\n+  guint64 distance_from_sync;\n+\n+  gboolean automatic_request_sync_points;\n+  GstVideoDecoderRequestSyncPointFlags automatic_request_sync_point_flags;\n@@ -497,0 +543,10 @@\n+static gboolean gst_video_decoder_handle_missing_data_default (GstVideoDecoder *\n+    decoder, GstClockTime timestamp, GstClockTime duration);\n+\n+static void gst_video_decoder_copy_metas (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame, GstBuffer * src_buffer,\n+    GstBuffer * dest_buffer);\n+\n+static void gst_video_decoder_request_sync_point_internal (GstVideoDecoder *\n+    dec, GstClockTime deadline, GstVideoDecoderRequestSyncPointFlags flags);\n+\n@@ -502,1 +558,1 @@\n-  static volatile gsize type = 0;\n+  static gsize type = 0;\n@@ -567,0 +623,1 @@\n+  klass->handle_missing_data = gst_video_decoder_handle_missing_data_default;\n@@ -597,0 +654,69 @@\n+  \/**\n+   * GstVideoDecoder:min-force-key-unit-interval:\n+   *\n+   * Minimum interval between force-key-unit events sent upstream by the\n+   * decoder. Setting this to 0 will cause every event to be handled, setting\n+   * this to %GST_CLOCK_TIME_NONE will cause every event to be ignored.\n+   *\n+   * See gst_video_event_new_upstream_force_key_unit() for more details about\n+   * force-key-unit events.\n+   *\n+   * Since: 1.20\n+   *\/\n+  g_object_class_install_property (gobject_class,\n+      PROP_MIN_FORCE_KEY_UNIT_INTERVAL,\n+      g_param_spec_uint64 (\"min-force-key-unit-interval\",\n+          \"Minimum Force Keyunit Interval\",\n+          \"Minimum interval between force-keyunit requests in nanoseconds\", 0,\n+          G_MAXUINT64, DEFAULT_MIN_FORCE_KEY_UNIT_INTERVAL,\n+          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n+\n+  \/**\n+   * GstVideoDecoder:discard-corrupted-frames:\n+   *\n+   * If set to %TRUE the decoder will discard frames that are marked as\n+   * corrupted instead of outputting them.\n+   *\n+   * Since: 1.20\n+   *\/\n+  g_object_class_install_property (gobject_class, PROP_DISCARD_CORRUPTED_FRAMES,\n+      g_param_spec_boolean (\"discard-corrupted-frames\",\n+          \"Discard Corrupted Frames\",\n+          \"Discard frames marked as corrupted instead of outputting them\",\n+          DEFAULT_DISCARD_CORRUPTED_FRAMES,\n+          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n+\n+  \/**\n+   * GstVideoDecoder:automatic-request-sync-points:\n+   *\n+   * If set to %TRUE the decoder will automatically request sync points when\n+   * it seems like a good idea, e.g. if the first frames are not key frames or\n+   * if packet loss was reported by upstream.\n+   *\n+   * Since: 1.20\n+   *\/\n+  g_object_class_install_property (gobject_class,\n+      PROP_AUTOMATIC_REQUEST_SYNC_POINTS,\n+      g_param_spec_boolean (\"automatic-request-sync-points\",\n+          \"Automatic Request Sync Points\",\n+          \"Automatically request sync points when it would be useful\",\n+          DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS,\n+          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n+\n+  \/**\n+   * GstVideoDecoder:automatic-request-sync-point-flags:\n+   *\n+   * GstVideoDecoderRequestSyncPointFlags to use for the automatically\n+   * requested sync points if `automatic-request-sync-points` is enabled.\n+   *\n+   * Since: 1.20\n+   *\/\n+  g_object_class_install_property (gobject_class,\n+      PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n+      g_param_spec_flags (\"automatic-request-sync-point-flags\",\n+          \"Automatic Request Sync Point Flags\",\n+          \"Flags to use when automatically requesting sync points\",\n+          GST_TYPE_VIDEO_DECODER_REQUEST_SYNC_POINT_FLAGS,\n+          DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS,\n+          G_PARAM_READWRITE | G_PARAM_STATIC_STRINGS));\n+\n@@ -655,0 +781,5 @@\n+  decoder->priv->automatic_request_sync_points =\n+      DEFAULT_AUTOMATIC_REQUEST_SYNC_POINTS;\n+  decoder->priv->automatic_request_sync_point_flags =\n+      DEFAULT_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS;\n+\n@@ -713,12 +844,2 @@\n-    \/* only copy values that are not unknown so that we don't override the\n-     * defaults. subclasses should really fill these in when they know. *\/\n-    if (ref->chroma_site)\n-      tgt->chroma_site = ref->chroma_site;\n-    if (ref->colorimetry.range)\n-      tgt->colorimetry.range = ref->colorimetry.range;\n-    if (ref->colorimetry.matrix)\n-      tgt->colorimetry.matrix = ref->colorimetry.matrix;\n-    if (ref->colorimetry.transfer)\n-      tgt->colorimetry.transfer = ref->colorimetry.transfer;\n-    if (ref->colorimetry.primaries)\n-      tgt->colorimetry.primaries = ref->colorimetry.primaries;\n+    tgt->chroma_site = ref->chroma_site;\n+    tgt->colorimetry = ref->colorimetry;\n@@ -869,0 +990,12 @@\n+    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n+      g_value_set_uint64 (value, priv->min_force_key_unit_interval);\n+      break;\n+    case PROP_DISCARD_CORRUPTED_FRAMES:\n+      g_value_set_boolean (value, priv->discard_corrupted_frames);\n+      break;\n+    case PROP_AUTOMATIC_REQUEST_SYNC_POINTS:\n+      g_value_set_boolean (value, priv->automatic_request_sync_points);\n+      break;\n+    case PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS:\n+      g_value_set_flags (value, priv->automatic_request_sync_point_flags);\n+      break;\n@@ -889,0 +1022,12 @@\n+    case PROP_MIN_FORCE_KEY_UNIT_INTERVAL:\n+      priv->min_force_key_unit_interval = g_value_get_uint64 (value);\n+      break;\n+    case PROP_DISCARD_CORRUPTED_FRAMES:\n+      priv->discard_corrupted_frames = g_value_get_boolean (value);\n+      break;\n+    case PROP_AUTOMATIC_REQUEST_SYNC_POINTS:\n+      priv->automatic_request_sync_points = g_value_get_boolean (value);\n+      break;\n+    case PROP_AUTOMATIC_REQUEST_SYNC_POINT_FLAGS:\n+      priv->automatic_request_sync_point_flags = g_value_get_flags (value);\n+      break;\n@@ -1169,0 +1314,26 @@\n+static gboolean\n+gst_video_decoder_handle_missing_data_default (GstVideoDecoder *\n+    decoder, GstClockTime timestamp, GstClockTime duration)\n+{\n+  GstVideoDecoderPrivate *priv;\n+\n+  priv = decoder->priv;\n+\n+  if (priv->automatic_request_sync_points) {\n+    GstClockTime deadline =\n+        gst_segment_to_running_time (&decoder->input_segment, GST_FORMAT_TIME,\n+        timestamp);\n+\n+    GST_DEBUG_OBJECT (decoder,\n+        \"Requesting sync point for missing data at running time %\"\n+        GST_TIME_FORMAT \" timestamp %\" GST_TIME_FORMAT \" with duration %\"\n+        GST_TIME_FORMAT, GST_TIME_ARGS (deadline), GST_TIME_ARGS (timestamp),\n+        GST_TIME_ARGS (duration));\n+\n+    gst_video_decoder_request_sync_point_internal (decoder, deadline,\n+        priv->automatic_request_sync_point_flags);\n+  }\n+\n+  return TRUE;\n+}\n+\n@@ -1173,0 +1344,1 @@\n+  GstVideoDecoderClass *decoder_class;\n@@ -1177,0 +1349,2 @@\n+  decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n+\n@@ -1219,1 +1393,1 @@\n-      flow_ret = gst_video_decoder_drain_out (decoder, TRUE);\n+      flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n@@ -1264,0 +1438,2 @@\n+      GstClockTime timestamp, duration;\n+      GstGapFlags gap_flags = 0;\n@@ -1269,4 +1445,2 @@\n-      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n-      if (decoder->input_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS)\n-        flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n-      ret = (flow_ret == GST_FLOW_OK);\n+      gst_event_parse_gap (event, &timestamp, &duration);\n+      gst_event_parse_gap_flags (event, &gap_flags);\n@@ -1274,8 +1448,22 @@\n-      \/* Ensure we have caps before forwarding the event *\/\n-      if (!decoder->priv->output_state) {\n-        if (!gst_video_decoder_negotiate_default_caps (decoder)) {\n-          GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n-          GST_ELEMENT_ERROR (decoder, STREAM, FORMAT, (NULL),\n-              (\"Decoder output not negotiated before GAP event.\"));\n-          forward_immediate = TRUE;\n-          break;\n+      GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n+      \/* If this is not missing data, or the subclass does not handle it\n+       * specifically, then drain out the decoder and forward the event\n+       * directly. *\/\n+      if ((gap_flags & GST_GAP_FLAG_MISSING_DATA) == 0\n+          || !decoder_class->handle_missing_data\n+          || decoder_class->handle_missing_data (decoder, timestamp,\n+              duration)) {\n+        if (decoder->input_segment.flags & GST_SEEK_FLAG_TRICKMODE_KEY_UNITS)\n+          flow_ret = gst_video_decoder_drain_out (decoder, FALSE);\n+        ret = (flow_ret == GST_FLOW_OK);\n+\n+        \/* Ensure we have caps before forwarding the event *\/\n+        if (!decoder->priv->output_state) {\n+          if (!gst_video_decoder_negotiate_default_caps (decoder)) {\n+            GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n+            GST_ELEMENT_ERROR (decoder, STREAM, FORMAT, (NULL),\n+                (\"Decoder output not negotiated before GAP event.\"));\n+            forward_immediate = TRUE;\n+            break;\n+          }\n+          needs_reconfigure = TRUE;\n@@ -1283,2 +1471,0 @@\n-        needs_reconfigure = TRUE;\n-      }\n@@ -1286,6 +1472,7 @@\n-      needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad)\n-          || needs_reconfigure;\n-      if (decoder->priv->output_state_changed || needs_reconfigure) {\n-        if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n-          GST_WARNING_OBJECT (decoder, \"Failed to negotiate with downstream\");\n-          gst_pad_mark_reconfigure (decoder->srcpad);\n+        needs_reconfigure = gst_pad_check_reconfigure (decoder->srcpad)\n+            || needs_reconfigure;\n+        if (decoder->priv->output_state_changed || needs_reconfigure) {\n+          if (!gst_video_decoder_negotiate_unlocked (decoder)) {\n+            GST_WARNING_OBJECT (decoder, \"Failed to negotiate with downstream\");\n+            gst_pad_mark_reconfigure (decoder->srcpad);\n+          }\n@@ -1293,1 +1480,0 @@\n-      }\n@@ -1295,6 +1481,6 @@\n-      GST_DEBUG_OBJECT (decoder, \"Pushing all pending serialized events\"\n-          \" before the gap\");\n-      events = decoder->priv->pending_events;\n-      frame_events = decoder->priv->current_frame_events;\n-      decoder->priv->pending_events = NULL;\n-      decoder->priv->current_frame_events = NULL;\n+        GST_DEBUG_OBJECT (decoder, \"Pushing all pending serialized events\"\n+            \" before the gap\");\n+        events = decoder->priv->pending_events;\n+        frame_events = decoder->priv->current_frame_events;\n+        decoder->priv->pending_events = NULL;\n+        decoder->priv->current_frame_events = NULL;\n@@ -1302,1 +1488,1 @@\n-      GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n+        GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n@@ -1304,2 +1490,2 @@\n-      gst_video_decoder_push_event_list (decoder, events);\n-      gst_video_decoder_push_event_list (decoder, frame_events);\n+        gst_video_decoder_push_event_list (decoder, events);\n+        gst_video_decoder_push_event_list (decoder, frame_events);\n@@ -1307,5 +1493,8 @@\n-      \/* Forward GAP immediately. Everything is drained after\n-       * the GAP event and we can forward this event immediately\n-       * now without having buffers out of order.\n-       *\/\n-      forward_immediate = TRUE;\n+        \/* Forward GAP immediately. Everything is drained after\n+         * the GAP event and we can forward this event immediately\n+         * now without having buffers out of order.\n+         *\/\n+        forward_immediate = TRUE;\n+      } else {\n+        gst_clear_event (&event);\n+      }\n@@ -2048,0 +2237,6 @@\n+\n+  if (g_queue_get_length (&priv->timestamps) > 40) {\n+    GST_WARNING_OBJECT (decoder,\n+        \"decoder timestamp list getting long: %d timestamps,\"\n+        \"possible internal leaking?\", g_queue_get_length (&priv->timestamps));\n+  }\n@@ -2161,0 +2356,4 @@\n+\n+    priv->request_sync_point_flags = 0;\n+    priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_UNSET;\n+    priv->last_force_key_unit_time = GST_CLOCK_TIME_NONE;\n@@ -2162,0 +2361,1 @@\n+    priv->distance_from_sync = -1;\n@@ -2260,0 +2460,1 @@\n+    GstVideoCodecFrame *frame;\n@@ -2261,0 +2462,15 @@\n+\n+    frame = priv->current_frame;\n+\n+    frame->abidata.ABI.num_subframes++;\n+    if (gst_video_decoder_get_subframe_mode (decoder)) {\n+      \/* End the frame if the marker flag is set *\/\n+      if (!GST_BUFFER_FLAG_IS_SET (buf, GST_VIDEO_BUFFER_FLAG_MARKER)\n+          && (decoder->input_segment.rate > 0.0))\n+        priv->current_frame = gst_video_codec_frame_ref (frame);\n+      else\n+        priv->current_frame = NULL;\n+    } else {\n+      priv->current_frame = frame;\n+    }\n+\n@@ -2263,2 +2479,2 @@\n-      GST_LOG_OBJECT (decoder, \"Marking current_frame as sync point\");\n-      GST_VIDEO_CODEC_FRAME_SET_SYNC_POINT (priv->current_frame);\n+      GST_DEBUG_OBJECT (decoder, \"Marking current_frame as sync point\");\n+      GST_VIDEO_CODEC_FRAME_SET_SYNC_POINT (frame);\n@@ -2267,1 +2483,5 @@\n-    priv->current_frame->input_buffer = buf;\n+    if (frame->input_buffer) {\n+      gst_video_decoder_copy_metas (decoder, frame, frame->input_buffer, buf);\n+      gst_buffer_unref (frame->input_buffer);\n+    }\n+    frame->input_buffer = buf;\n@@ -2270,2 +2490,2 @@\n-      priv->parse_gather =\n-          g_list_prepend (priv->parse_gather, priv->current_frame);\n+      priv->parse_gather = g_list_prepend (priv->parse_gather, frame);\n+      priv->current_frame = NULL;\n@@ -2273,1 +2493,3 @@\n-      ret = gst_video_decoder_decode_frame (decoder, priv->current_frame);\n+      ret = gst_video_decoder_decode_frame (decoder, frame);\n+      if (!gst_video_decoder_get_subframe_mode (decoder))\n+        priv->current_frame = NULL;\n@@ -2275,1 +2497,0 @@\n-    priv->current_frame = NULL;\n@@ -2304,1 +2525,2 @@\n-\n+  GstVideoCodecFrame *current_frame = NULL;\n+  gboolean last_subframe;\n@@ -2311,0 +2533,23 @@\n+    last_subframe = TRUE;\n+    \/* In subframe mode, we need to get rid of intermediary frames\n+     * created during the buffer gather stage. That's why that we keep a current\n+     * frame as the main frame and drop all the frame afterwhile until the end\n+     * of the subframes batch.\n+     * *\/\n+    if (gst_video_decoder_get_subframe_mode (dec)) {\n+      if (current_frame == NULL) {\n+        current_frame = gst_video_codec_frame_ref (frame);\n+      } else {\n+        if (current_frame->input_buffer) {\n+          gst_video_decoder_copy_metas (dec, current_frame,\n+              current_frame->input_buffer, current_frame->output_buffer);\n+          gst_buffer_unref (current_frame->input_buffer);\n+        }\n+        current_frame->input_buffer = gst_buffer_ref (frame->input_buffer);\n+        gst_video_codec_frame_unref (frame);\n+      }\n+      last_subframe = GST_BUFFER_FLAG_IS_SET (current_frame->input_buffer,\n+          GST_VIDEO_BUFFER_FLAG_MARKER);\n+    } else {\n+      current_frame = frame;\n+    }\n@@ -2322,1 +2567,1 @@\n-    res = gst_video_decoder_decode_frame (dec, frame);\n+    res = gst_video_decoder_decode_frame (dec, current_frame);\n@@ -2325,1 +2570,3 @@\n-\n+    if (!gst_video_decoder_get_subframe_mode (dec)\n+        || last_subframe)\n+      current_frame = NULL;\n@@ -2754,1 +3001,1 @@\n-      \"finish frame %p (#%d) sync:%d PTS:%\" GST_TIME_FORMAT \" DTS:%\"\n+      \"finish frame %p (#%d)(sub=#%d) sync:%d PTS:%\" GST_TIME_FORMAT \" DTS:%\"\n@@ -2756,1 +3003,1 @@\n-      frame, frame->system_frame_number,\n+      frame, frame->system_frame_number, frame->abidata.ABI.num_subframes,\n@@ -2894,1 +3141,6 @@\n-      else if (decoder->output_segment.rate > 0.0)\n+      else if (frame->dts != GST_CLOCK_TIME_NONE) {\n+        frame->pts = frame->dts;\n+        GST_LOG_OBJECT (decoder,\n+            \"Setting DTS as PTS %\" GST_TIME_FORMAT \" for frame...\",\n+            GST_TIME_ARGS (frame->pts));\n+      } else if (decoder->output_segment.rate > 0.0)\n@@ -2896,3 +3148,4 @@\n-      GST_LOG_OBJECT (decoder,\n-          \"Guessing timestamp %\" GST_TIME_FORMAT \" for frame...\",\n-          GST_TIME_ARGS (frame->pts));\n+      GST_INFO_OBJECT (decoder,\n+          \"Guessing PTS=%\" GST_TIME_FORMAT \" for frame... DTS=%\"\n+          GST_TIME_FORMAT, GST_TIME_ARGS (frame->pts),\n+          GST_TIME_ARGS (frame->dts));\n@@ -3014,0 +3267,4 @@\n+  if (gst_video_decoder_get_subframe_mode (dec))\n+    GST_DEBUG_OBJECT (dec, \"Drop subframe %d. Must be the last one.\",\n+        frame->abidata.ABI.num_subframes);\n+\n@@ -3031,0 +3288,32 @@\n+\/**\n+ * gst_video_decoder_drop_subframe:\n+ * @dec: a #GstVideoDecoder\n+ * @frame: (transfer full): the #GstVideoCodecFrame\n+ *\n+ * Drops input data.\n+ * The frame is not considered finished until the whole frame\n+ * is finished or dropped by the subclass.\n+ *\n+ * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstFlowReturn\n+gst_video_decoder_drop_subframe (GstVideoDecoder * dec,\n+    GstVideoCodecFrame * frame)\n+{\n+  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (dec),\n+      GST_FLOW_NOT_SUPPORTED);\n+\n+  GST_LOG_OBJECT (dec, \"drop subframe %p num=%d\", frame->input_buffer,\n+      gst_video_decoder_get_input_subframe_index (dec, frame));\n+\n+  GST_VIDEO_DECODER_STREAM_LOCK (dec);\n+\n+  gst_video_codec_frame_unref (frame);\n+\n+  GST_VIDEO_DECODER_STREAM_UNLOCK (dec);\n+\n+  return GST_FLOW_OK;\n+}\n+\n@@ -3062,0 +3351,1 @@\n+  GstBuffer *buffer;\n@@ -3071,0 +3361,1 @@\n+  GstBuffer *buffer = data->buffer;\n@@ -3091,2 +3382,3 @@\n-    info->transform_func (frame->output_buffer, *meta, inbuf,\n-        _gst_meta_transform_copy, &copy_data);\n+\n+    info->transform_func (buffer, *meta, inbuf, _gst_meta_transform_copy,\n+        &copy_data);\n@@ -3097,0 +3389,21 @@\n+static void\n+gst_video_decoder_copy_metas (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame, GstBuffer * src_buffer, GstBuffer * dest_buffer)\n+{\n+  GstVideoDecoderClass *decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n+\n+  if (decoder_class->transform_meta) {\n+    if (G_LIKELY (frame)) {\n+      CopyMetaData data;\n+\n+      data.decoder = decoder;\n+      data.frame = frame;\n+      data.buffer = dest_buffer;\n+      gst_buffer_foreach_meta (src_buffer, foreach_metadata, &data);\n+    } else {\n+      GST_WARNING_OBJECT (decoder,\n+          \"Can't copy metadata because input frame disappeared\");\n+    }\n+  }\n+}\n+\n@@ -3118,1 +3431,0 @@\n-  GstVideoDecoderClass *decoder_class = GST_VIDEO_DECODER_GET_CLASS (decoder);\n@@ -3156,1 +3468,34 @@\n-    GST_DEBUG_OBJECT (decoder, \"skipping frame %\" GST_TIME_FORMAT,\n+    GST_DEBUG_OBJECT (decoder,\n+        \"skipping frame %\" GST_TIME_FORMAT \" because not output was produced\",\n+        GST_TIME_ARGS (frame->pts));\n+    goto done;\n+  }\n+\n+  \/* Mark output as corrupted if the subclass requested so and we're either\n+   * still before the sync point after the request, or we don't even know the\n+   * frame number of the sync point yet (it is 0) *\/\n+  GST_OBJECT_LOCK (decoder);\n+  if (frame->system_frame_number <= priv->request_sync_point_frame_number\n+      && priv->request_sync_point_frame_number != REQUEST_SYNC_POINT_UNSET) {\n+    if (priv->request_sync_point_flags &\n+        GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT) {\n+      GST_DEBUG_OBJECT (decoder,\n+          \"marking frame %\" GST_TIME_FORMAT\n+          \" as corrupted because it is still before the sync point\",\n+          GST_TIME_ARGS (frame->pts));\n+      GST_VIDEO_CODEC_FRAME_FLAG_SET (frame,\n+          GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED);\n+    }\n+  } else {\n+    \/* Reset to -1 to mark it as unset now that we've reached the frame *\/\n+    priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_UNSET;\n+  }\n+  GST_OBJECT_UNLOCK (decoder);\n+\n+  if (priv->discard_corrupted_frames\n+      && (GST_VIDEO_CODEC_FRAME_FLAG_IS_SET (frame,\n+              GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED)\n+          || GST_BUFFER_FLAG_IS_SET (frame->output_buffer,\n+              GST_BUFFER_FLAG_CORRUPTED))) {\n+    GST_DEBUG_OBJECT (decoder,\n+        \"skipping frame %\" GST_TIME_FORMAT \" because it is corrupted\",\n@@ -3178,11 +3523,6 @@\n-  if (decoder_class->transform_meta) {\n-    if (G_LIKELY (frame->input_buffer)) {\n-      CopyMetaData data;\n-\n-      data.decoder = decoder;\n-      data.frame = frame;\n-      gst_buffer_foreach_meta (frame->input_buffer, foreach_metadata, &data);\n-    } else {\n-      GST_WARNING_OBJECT (decoder,\n-          \"Can't copy metadata because input frame disappeared\");\n-    }\n+  if (GST_VIDEO_CODEC_FRAME_FLAG_IS_SET (frame,\n+          GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED)) {\n+    GST_DEBUG_OBJECT (decoder,\n+        \"marking frame %\" GST_TIME_FORMAT \" as corrupted\",\n+        GST_TIME_ARGS (frame->pts));\n+    GST_BUFFER_FLAG_SET (output_buffer, GST_BUFFER_FLAG_CORRUPTED);\n@@ -3191,0 +3531,3 @@\n+  gst_video_decoder_copy_metas (decoder, frame, frame->input_buffer,\n+      frame->output_buffer);\n+\n@@ -3218,0 +3561,33 @@\n+\/**\n+ * gst_video_decoder_finish_subframe:\n+ * @decoder: a #GstVideoDecoder\n+ * @frame: (transfer full): the #GstVideoCodecFrame\n+ *\n+ * Indicate that a subframe has been finished to be decoded\n+ * by the subclass. This method should be called for all subframes\n+ * except the last subframe where @gst_video_decoder_finish_frame\n+ * should be called instead.\n+ *\n+ * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstFlowReturn\n+gst_video_decoder_finish_subframe (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame)\n+{\n+  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (decoder),\n+      GST_FLOW_NOT_SUPPORTED);\n+\n+  GST_LOG_OBJECT (decoder, \"finish subframe %p num=%d\", frame->input_buffer,\n+      gst_video_decoder_get_input_subframe_index (decoder, frame));\n+\n+  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n+  frame->abidata.ABI.subframes_processed++;\n+  gst_video_codec_frame_unref (frame);\n+\n+  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n+\n+  return GST_FLOW_OK;\n+}\n+\n@@ -3474,0 +3850,5 @@\n+  if (priv->current_frame->input_buffer) {\n+    gst_video_decoder_copy_metas (decoder, priv->current_frame,\n+        priv->current_frame->input_buffer, buffer);\n+    gst_buffer_unref (priv->current_frame->input_buffer);\n+  }\n@@ -3490,1 +3871,1 @@\n-    GST_LOG_OBJECT (decoder, \"Marking as sync point\");\n+    GST_DEBUG_OBJECT (decoder, \"Marking as sync point\");\n@@ -3494,0 +3875,6 @@\n+  if (GST_BUFFER_FLAG_IS_SET (buffer, GST_BUFFER_FLAG_CORRUPTED)) {\n+    GST_DEBUG_OBJECT (decoder, \"Marking as corrupted\");\n+    GST_VIDEO_CODEC_FRAME_FLAG_SET (priv->current_frame,\n+        GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED);\n+  }\n+\n@@ -3498,0 +3885,1 @@\n+    priv->current_frame = NULL;\n@@ -3499,2 +3887,13 @@\n-    \/* Otherwise, decode the frame, which gives away our ref *\/\n-    ret = gst_video_decoder_decode_frame (decoder, priv->current_frame);\n+    GstVideoCodecFrame *frame = priv->current_frame;\n+    frame->abidata.ABI.num_subframes++;\n+    \/* In subframe mode, we keep a ref for ourselves\n+     * as this frame will be kept during the data collection\n+     * in parsed mode. The frame reference will be released by\n+     * finish_(sub)frame or drop_(sub)frame.*\/\n+    if (gst_video_decoder_get_subframe_mode (decoder))\n+      gst_video_codec_frame_ref (priv->current_frame);\n+    else\n+      priv->current_frame = NULL;\n+\n+    \/* Decode the frame, which gives away our ref *\/\n+    ret = gst_video_decoder_decode_frame (decoder, frame);\n@@ -3502,2 +3901,0 @@\n-  \/* Current frame is gone now, either way *\/\n-  priv->current_frame = NULL;\n@@ -3526,0 +3923,1 @@\n+  g_return_val_if_fail (frame != NULL, GST_FLOW_ERROR);\n@@ -3527,2 +3925,0 @@\n-  frame->distance_from_sync = priv->distance_from_sync;\n-  priv->distance_from_sync++;\n@@ -3532,0 +3928,3 @@\n+  frame->deadline =\n+      gst_segment_to_running_time (&decoder->input_segment, GST_FORMAT_TIME,\n+      frame->pts);\n@@ -3538,8 +3937,43 @@\n-  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame) &&\n-      GST_CLOCK_TIME_IS_VALID (frame->pts)\n-      && GST_CLOCK_TIME_IS_VALID (frame->dts)) {\n-    \/* just in case they are not equal as might ideally be,\n-     * e.g. quicktime has a (positive) delta approach *\/\n-    priv->pts_delta = frame->pts - frame->dts;\n-    GST_DEBUG_OBJECT (decoder, \"PTS delta %d ms\",\n-        (gint) (priv->pts_delta \/ GST_MSECOND));\n+  if (GST_VIDEO_CODEC_FRAME_IS_SYNC_POINT (frame)) {\n+    priv->distance_from_sync = 0;\n+\n+    GST_OBJECT_LOCK (decoder);\n+    priv->request_sync_point_flags &=\n+        ~GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT;\n+    if (priv->request_sync_point_frame_number == REQUEST_SYNC_POINT_PENDING)\n+      priv->request_sync_point_frame_number = frame->system_frame_number;\n+    GST_OBJECT_UNLOCK (decoder);\n+\n+    if (GST_CLOCK_TIME_IS_VALID (frame->pts)\n+        && GST_CLOCK_TIME_IS_VALID (frame->dts)) {\n+      \/* just in case they are not equal as might ideally be,\n+       * e.g. quicktime has a (positive) delta approach *\/\n+      priv->pts_delta = frame->pts - frame->dts;\n+      GST_DEBUG_OBJECT (decoder, \"PTS delta %d ms\",\n+          (gint) (priv->pts_delta \/ GST_MSECOND));\n+    }\n+  } else {\n+    if (priv->distance_from_sync == -1 && priv->automatic_request_sync_points) {\n+      GST_DEBUG_OBJECT (decoder,\n+          \"Didn't receive a keyframe yet, requesting sync point\");\n+      gst_video_decoder_request_sync_point (decoder, frame,\n+          priv->automatic_request_sync_point_flags);\n+    }\n+\n+    GST_OBJECT_LOCK (decoder);\n+    if ((priv->needs_sync_point && priv->distance_from_sync == -1)\n+        || (priv->request_sync_point_flags &\n+            GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT)) {\n+      GST_WARNING_OBJECT (decoder,\n+          \"Subclass requires a sync point but we didn't receive one yet, discarding input\");\n+      GST_OBJECT_UNLOCK (decoder);\n+      if (priv->automatic_request_sync_points) {\n+        gst_video_decoder_request_sync_point (decoder, frame,\n+            priv->automatic_request_sync_point_flags);\n+      }\n+      gst_video_decoder_release_frame (decoder, frame);\n+      return GST_FLOW_OK;\n+    }\n+    GST_OBJECT_UNLOCK (decoder);\n+\n+    priv->distance_from_sync++;\n@@ -3548,2 +3982,1 @@\n-  frame->abidata.ABI.ts = frame->dts;\n-  frame->abidata.ABI.ts2 = frame->pts;\n+  frame->distance_from_sync = priv->distance_from_sync;\n@@ -3551,3 +3984,4 @@\n-  GST_LOG_OBJECT (decoder, \"PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT\n-      \", dist %d\", GST_TIME_ARGS (frame->pts), GST_TIME_ARGS (frame->dts),\n-      frame->distance_from_sync);\n+  if (frame->abidata.ABI.num_subframes == 1) {\n+    frame->abidata.ABI.ts = frame->dts;\n+    frame->abidata.ABI.ts2 = frame->pts;\n+  }\n@@ -3555,1 +3989,11 @@\n-  g_queue_push_tail (&priv->frames, gst_video_codec_frame_ref (frame));\n+  GST_LOG_OBJECT (decoder,\n+      \"frame %p PTS %\" GST_TIME_FORMAT \", DTS %\" GST_TIME_FORMAT \", dist %d\",\n+      frame, GST_TIME_ARGS (frame->pts), GST_TIME_ARGS (frame->dts),\n+      frame->distance_from_sync);\n+  \/* FIXME: suboptimal way to add a unique frame to the list, in case of subframe mode. *\/\n+  if (!g_queue_find (&priv->frames, frame)) {\n+    g_queue_push_tail (&priv->frames, gst_video_codec_frame_ref (frame));\n+  } else {\n+    GST_LOG_OBJECT (decoder,\n+        \"Do not add an existing frame used to decode subframes\");\n+  }\n@@ -3562,4 +4006,0 @@\n-  frame->deadline =\n-      gst_segment_to_running_time (&decoder->input_segment, GST_FORMAT_TIME,\n-      frame->pts);\n-\n@@ -4486,0 +4926,117 @@\n+\/**\n+ * gst_video_decoder_have_last_subframe:\n+ * @decoder: a #GstVideoDecoder\n+ * @frame: (transfer none): the #GstVideoCodecFrame to update\n+ *\n+ * Indicates that the last subframe has been processed by the decoder\n+ * in @frame. This will release the current frame in video decoder\n+ * allowing to receive new frames from upstream elements. This method\n+ * must be called in the subclass @handle_frame callback.\n+ *\n+ * Returns: a #GstFlowReturn, usually GST_FLOW_OK.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstFlowReturn\n+gst_video_decoder_have_last_subframe (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame)\n+{\n+  g_return_val_if_fail (gst_video_decoder_get_subframe_mode (decoder),\n+      GST_FLOW_OK);\n+  \/* unref once from the list *\/\n+  GST_VIDEO_DECODER_STREAM_LOCK (decoder);\n+  if (decoder->priv->current_frame == frame) {\n+    gst_video_codec_frame_unref (decoder->priv->current_frame);\n+    decoder->priv->current_frame = NULL;\n+  }\n+  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n+\n+  return GST_FLOW_OK;\n+}\n+\n+\/**\n+ * gst_video_decoder_set_subframe_mode:\n+ * @decoder: a #GstVideoDecoder\n+ * @subframe_mode: whether the input data should be considered as subframes.\n+ *\n+ * If this is set to TRUE, it informs the base class that the subclass\n+ * can receive the data at a granularity lower than one frame.\n+ *\n+ * Note that in this mode, the subclass has two options. It can either\n+ * require the presence of a GST_VIDEO_BUFFER_FLAG_MARKER to mark the\n+ * end of a frame. Or it can operate in such a way that it will decode\n+ * a single frame at a time. In this second case, every buffer that\n+ * arrives to the element is considered part of the same frame until\n+ * gst_video_decoder_finish_frame() is called.\n+ *\n+ * In either case, the same #GstVideoCodecFrame will be passed to the\n+ * GstVideoDecoderClass:handle_frame vmethod repeatedly with a\n+ * different GstVideoCodecFrame:input_buffer every time until the end of the\n+ * frame has been signaled using either method.\n+ * This method must be called during the decoder subclass @set_format call.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_video_decoder_set_subframe_mode (GstVideoDecoder * decoder,\n+    gboolean subframe_mode)\n+{\n+  decoder->priv->subframe_mode = subframe_mode;\n+}\n+\n+\/**\n+ * gst_video_decoder_get_subframe_mode:\n+ * @decoder: a #GstVideoDecoder\n+ *\n+ * Queries whether input data is considered as subframes or not by the\n+ * base class. If FALSE, each input buffer will be considered as a full\n+ * frame.\n+ *\n+ * Returns: TRUE if input data is considered as sub frames.\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_video_decoder_get_subframe_mode (GstVideoDecoder * decoder)\n+{\n+  return decoder->priv->subframe_mode;\n+}\n+\n+\/**\n+ * gst_video_decoder_get_input_subframe_index:\n+ * @decoder: a #GstVideoDecoder\n+ * @frame: (transfer none): the #GstVideoCodecFrame to update\n+ *\n+ * Queries the number of the last subframe received by\n+ * the decoder baseclass in the @frame.\n+ *\n+ * Returns: the current subframe index received in subframe mode, 1 otherwise.\n+ *\n+ * Since: 1.20\n+ *\/\n+guint\n+gst_video_decoder_get_input_subframe_index (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame)\n+{\n+  return frame->abidata.ABI.num_subframes;\n+}\n+\n+\/**\n+ * gst_video_decoder_get_processed_subframe_index:\n+ * @decoder: a #GstVideoDecoder\n+ * @frame: (transfer none): the #GstVideoCodecFrame to update\n+ *\n+ * Queries the number of subframes in the frame processed by\n+ * the decoder baseclass.\n+ *\n+ * Returns: the current subframe processed received in subframe mode.\n+ *\n+ * Since: 1.20\n+ *\/\n+guint\n+gst_video_decoder_get_processed_subframe_index (GstVideoDecoder * decoder,\n+    GstVideoCodecFrame * frame)\n+{\n+  return frame->abidata.ABI.subframes_processed;\n+}\n+\n@@ -4671,0 +5228,131 @@\n+\n+static void\n+gst_video_decoder_request_sync_point_internal (GstVideoDecoder * dec,\n+    GstClockTime deadline, GstVideoDecoderRequestSyncPointFlags flags)\n+{\n+  GstEvent *fku = NULL;\n+  GstVideoDecoderPrivate *priv;\n+\n+  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n+\n+  priv = dec->priv;\n+\n+  GST_OBJECT_LOCK (dec);\n+\n+  \/* Check if we're allowed to send a new force-keyunit event.\n+   * frame->deadline is set to the running time of the PTS. *\/\n+  if (priv->min_force_key_unit_interval == 0 ||\n+      deadline == GST_CLOCK_TIME_NONE ||\n+      (priv->min_force_key_unit_interval != GST_CLOCK_TIME_NONE &&\n+          (priv->last_force_key_unit_time == GST_CLOCK_TIME_NONE\n+              || (priv->last_force_key_unit_time +\n+                  priv->min_force_key_unit_interval <= deadline)))) {\n+    GST_DEBUG_OBJECT (dec,\n+        \"Requesting a new key-unit for frame with deadline %\" GST_TIME_FORMAT,\n+        GST_TIME_ARGS (deadline));\n+    fku =\n+        gst_video_event_new_upstream_force_key_unit (GST_CLOCK_TIME_NONE, FALSE,\n+        0);\n+    priv->last_force_key_unit_time = deadline;\n+  } else {\n+    GST_DEBUG_OBJECT (dec,\n+        \"Can't request a new key-unit for frame with deadline %\"\n+        GST_TIME_FORMAT, GST_TIME_ARGS (deadline));\n+  }\n+  priv->request_sync_point_flags |= flags;\n+  \/* We don't know yet the frame number of the sync point so set it to a\n+   * frame number higher than any allowed frame number *\/\n+  priv->request_sync_point_frame_number = REQUEST_SYNC_POINT_PENDING;\n+  GST_OBJECT_UNLOCK (dec);\n+\n+  if (fku)\n+    gst_pad_push_event (dec->sinkpad, fku);\n+}\n+\n+\/**\n+ * gst_video_decoder_request_sync_point:\n+ * @dec: a #GstVideoDecoder\n+ * @frame: a #GstVideoCodecFrame\n+ * @flags: #GstVideoDecoderRequestSyncPointFlags\n+ *\n+ * Allows the #GstVideoDecoder subclass to request from the base class that\n+ * a new sync should be requested from upstream, and that @frame was the frame\n+ * when the subclass noticed that a new sync point is required. A reason for\n+ * the subclass to do this could be missing reference frames, for example.\n+ *\n+ * The base class will then request a new sync point from upstream as long as\n+ * the time that passed since the last one is exceeding\n+ * #GstVideoDecoder:min-force-key-unit-interval.\n+ *\n+ * The subclass can signal via @flags how the frames until the next sync point\n+ * should be handled:\n+ *\n+ *   * If %GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT is selected then\n+ *     all following input frames until the next sync point are discarded.\n+ *     This can be useful if the lack of a sync point will prevent all further\n+ *     decoding and the decoder implementation is not very robust in handling\n+ *     missing references frames.\n+ *   * If %GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT is selected\n+ *     then all output frames following @frame are marked as corrupted via\n+ *     %GST_BUFFER_FLAG_CORRUPTED. Corrupted frames can be automatically\n+ *     dropped by the base class, see #GstVideoDecoder:discard-corrupted-frames.\n+ *     Subclasses can manually mark frames as corrupted via %GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED\n+ *     before calling gst_video_decoder_finish_frame().\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_video_decoder_request_sync_point (GstVideoDecoder * dec,\n+    GstVideoCodecFrame * frame, GstVideoDecoderRequestSyncPointFlags flags)\n+{\n+  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n+  g_return_if_fail (frame != NULL);\n+\n+  gst_video_decoder_request_sync_point_internal (dec, frame->deadline, flags);\n+}\n+\n+\/**\n+ * gst_video_decoder_set_needs_sync_point:\n+ * @dec: a #GstVideoDecoder\n+ * @enabled: new state\n+ *\n+ * Configures whether the decoder requires a sync point before it starts\n+ * outputting data in the beginning. If enabled, the base class will discard\n+ * all non-sync point frames in the beginning and after a flush and does not\n+ * pass it to the subclass.\n+ *\n+ * If the first frame is not a sync point, the base class will request a sync\n+ * point via the force-key-unit event.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_video_decoder_set_needs_sync_point (GstVideoDecoder * dec, gboolean enabled)\n+{\n+  g_return_if_fail (GST_IS_VIDEO_DECODER (dec));\n+\n+  dec->priv->needs_sync_point = enabled;\n+}\n+\n+\/**\n+ * gst_video_decoder_get_needs_sync_point:\n+ * @dec: a #GstVideoDecoder\n+ *\n+ * Queries if the decoder requires a sync point before it starts outputting\n+ * data in the beginning.\n+ *\n+ * Returns: %TRUE if a sync point is required in the beginning.\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_video_decoder_get_needs_sync_point (GstVideoDecoder * dec)\n+{\n+  gboolean result;\n+\n+  g_return_val_if_fail (GST_IS_VIDEO_DECODER (dec), FALSE);\n+\n+  result = dec->priv->needs_sync_point;\n+\n+  return result;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideodecoder.c","additions":803,"deletions":115,"binary":false,"changes":918,"status":"modified"},{"patch":"@@ -7,1 +7,1 @@\n- *  Author : Edward Hervey <edward@collabora.com>\n+ *      Author : Edward Hervey <edward@collabora.com>\n@@ -217,1 +217,3 @@\n- * @handle_frame:   Provides input data frame to subclass.\n+ * @handle_frame:   Provides input data frame to subclass. In subframe mode, the subclass needs\n+ *                  to take ownership of @GstVideoCodecFrame.input_buffer as it will be modified\n+ *                  by the base class on the next subframe buffer receiving.\n@@ -221,1 +223,1 @@\n- * @drain:      Optional.\n+ * @drain:          Optional.\n@@ -308,0 +310,5 @@\n+  \/**\n+   * GstVideoDecoderClass::handle_frame:\n+   * @decoder: The #GstVideoDecoder\n+   * @frame: (transfer full): The frame to handle\n+   *\/\n@@ -340,0 +347,14 @@\n+  \/**\n+   * GstVideoDecoderClass::handle_missing_data:\n+   * @decoder: The #GstVideoDecoder\n+   * @timestamp: Timestamp of the missing data\n+   * @duration: Duration of the missing data\n+   *\n+   * Returns: %TRUE if the decoder should be drained afterwards.\n+   *\n+   * Since: 1.20\n+   *\/\n+  gboolean      (*handle_missing_data) (GstVideoDecoder *decoder,\n+                                        GstClockTime timestamp,\n+                                        GstClockTime duration);\n+\n@@ -341,1 +362,1 @@\n-  gpointer padding[GST_PADDING_LARGE-6];\n+  gpointer padding[GST_PADDING_LARGE-7];\n@@ -344,0 +365,17 @@\n+\/**\n+ * GstVideoDecoderRequestSyncPointFlags:\n+ * @GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT: discard all following\n+ *     input until the next sync point.\n+ * @GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT: discard all following\n+ *     output until the next sync point.\n+ *\n+ * Flags to be used in combination with gst_video_decoder_request_sync_point().\n+ * See the function documentation for more details.\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef enum {\n+  GST_VIDEO_DECODER_REQUEST_SYNC_POINT_DISCARD_INPUT  = (1<<0),\n+  GST_VIDEO_DECODER_REQUEST_SYNC_POINT_CORRUPT_OUTPUT = (1<<1),\n+} GstVideoDecoderRequestSyncPointFlags;\n+\n@@ -356,0 +394,13 @@\n+GST_VIDEO_API\n+void     gst_video_decoder_set_subframe_mode (GstVideoDecoder * decoder,\n+                                              gboolean subframe_mode);\n+\n+GST_VIDEO_API\n+gboolean gst_video_decoder_get_subframe_mode (GstVideoDecoder * decoder);\n+\n+GST_VIDEO_API\n+guint gst_video_decoder_get_input_subframe_index (GstVideoDecoder * decoder, GstVideoCodecFrame * frame);\n+\n+GST_VIDEO_API\n+guint gst_video_decoder_get_processed_subframe_index (GstVideoDecoder * decoder, GstVideoCodecFrame * frame);\n+\n@@ -377,0 +428,7 @@\n+GST_VIDEO_API\n+void     gst_video_decoder_set_needs_sync_point (GstVideoDecoder * dec,\n+                                                 gboolean enabled);\n+\n+GST_VIDEO_API\n+gboolean gst_video_decoder_get_needs_sync_point (GstVideoDecoder * dec);\n+\n@@ -416,0 +474,4 @@\n+GST_VIDEO_API\n+GstFlowReturn  gst_video_decoder_have_last_subframe (GstVideoDecoder *decoder,\n+                                                     GstVideoCodecFrame * frame);\n+\n@@ -457,0 +519,3 @@\n+GST_VIDEO_API\n+GstFlowReturn    gst_video_decoder_finish_subframe (GstVideoDecoder *decoder,\n+                                                 GstVideoCodecFrame *frame);\n@@ -461,0 +526,8 @@\n+GST_VIDEO_API\n+GstFlowReturn    gst_video_decoder_drop_subframe (GstVideoDecoder *dec,\n+                                               GstVideoCodecFrame *frame);\n+\n+GST_VIDEO_API\n+void             gst_video_decoder_request_sync_point (GstVideoDecoder *dec,\n+                                                       GstVideoCodecFrame *frame,\n+                                                       GstVideoDecoderRequestSyncPointFlags flags);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideodecoder.h","additions":77,"deletions":4,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -110,0 +110,4 @@\n+#ifdef GSTREAMER_LITE\n+#include \"gst\/glib-compat-private.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -294,1 +298,1 @@\n-  static volatile gsize type = 0;\n+  static gsize type = 0;\n@@ -681,0 +685,9 @@\n+\n+    if (reference->mastering_display_info) {\n+      state->mastering_display_info = g_slice_dup (GstVideoMasteringDisplayInfo,\n+          reference->mastering_display_info);\n+    }\n+    if (reference->content_light_level) {\n+      state->content_light_level = g_slice_dup (GstVideoContentLightLevel,\n+          reference->content_light_level);\n+    }\n@@ -690,0 +703,2 @@\n+  GstStructure *c_struct;\n+  const gchar *s;\n@@ -698,0 +713,12 @@\n+  c_struct = gst_caps_get_structure (caps, 0);\n+\n+  if ((s = gst_structure_get_string (c_struct, \"mastering-display-info\"))) {\n+    state->mastering_display_info = g_slice_new (GstVideoMasteringDisplayInfo);\n+    gst_video_mastering_display_info_from_string (state->mastering_display_info,\n+        s);\n+  }\n+  if ((s = gst_structure_get_string (c_struct, \"content-light-level\"))) {\n+    state->content_light_level = g_slice_new (GstVideoContentLightLevel);\n+    gst_video_content_light_level_from_string (state->content_light_level, s);\n+  }\n+\n@@ -1822,1 +1849,1 @@\n-    GstCaps *incaps;\n+    GstStructure *out_struct;\n@@ -1858,3 +1885,12 @@\n-    if (info->chroma_site != GST_VIDEO_CHROMA_SITE_UNKNOWN)\n-      gst_caps_set_simple (state->caps, \"chroma-site\", G_TYPE_STRING,\n-          gst_video_chroma_to_string (info->chroma_site), NULL);\n+    if (info->chroma_site != GST_VIDEO_CHROMA_SITE_UNKNOWN) {\n+      gchar *chroma_site = gst_video_chroma_site_to_string (info->chroma_site);\n+\n+      if (!chroma_site) {\n+        GST_WARNING (\"Couldn't convert chroma-site 0x%x to string\",\n+            info->chroma_site);\n+      } else {\n+        gst_caps_set_simple (state->caps,\n+            \"chroma-site\", G_TYPE_STRING, chroma_site, NULL);\n+        g_free (chroma_site);\n+      }\n+    }\n@@ -1872,16 +1908,1 @@\n-    incaps = gst_pad_get_current_caps (GST_VIDEO_ENCODER_SINK_PAD (encoder));\n-    if (incaps) {\n-      GstStructure *in_struct;\n-      GstStructure *out_struct;\n-      const gchar *s;\n-\n-      in_struct = gst_caps_get_structure (incaps, 0);\n-      out_struct = gst_caps_get_structure (state->caps, 0);\n-\n-      \/* forward upstream mastering display info and content light level\n-       * if subclass didn't set *\/\n-      if ((s = gst_structure_get_string (in_struct, \"mastering-display-info\"))\n-          && !gst_structure_has_field (out_struct, \"mastering-display-info\")) {\n-        gst_caps_set_simple (state->caps, \"mastering-display-info\",\n-            G_TYPE_STRING, s, NULL);\n-      }\n+    out_struct = gst_caps_get_structure (state->caps, 0);\n@@ -1889,5 +1910,7 @@\n-      if ((s = gst_structure_get_string (in_struct, \"content-light-level\")) &&\n-          !gst_structure_has_field (out_struct, \"content-light-level\")) {\n-        gst_caps_set_simple (state->caps,\n-            \"content-light-level\", G_TYPE_STRING, s, NULL);\n-      }\n+    \/* forward upstream mastering display info and content light level\n+     * if subclass didn't set *\/\n+    if (state->mastering_display_info &&\n+        !gst_structure_has_field (out_struct, \"mastering-display-info\")) {\n+      gst_video_mastering_display_info_add_to_caps\n+          (state->mastering_display_info, state->caps);\n+    }\n@@ -1895,1 +1918,4 @@\n-      gst_caps_unref (incaps);\n+    if (state->content_light_level &&\n+        !gst_structure_has_field (out_struct, \"content-light-level\")) {\n+      gst_video_content_light_level_add_to_caps (state->content_light_level,\n+          state->caps);\n@@ -2561,0 +2587,3 @@\n+  \/* We need a writable buffer for the metadata changes below *\/\n+  frame->output_buffer = gst_buffer_make_writable (frame->output_buffer);\n+\n@@ -2707,0 +2736,3 @@\n+  \/* We need a writable buffer for the metadata changes below *\/\n+  subframe_buffer = gst_buffer_make_writable (subframe_buffer);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideoencoder.c","additions":59,"deletions":27,"binary":false,"changes":86,"status":"modified"},{"patch":"@@ -123,1 +123,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -580,1 +580,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -641,1 +641,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -809,1 +809,1 @@\n-  static volatile GType type;\n+  static GType type;\n@@ -1067,1 +1067,1 @@\n-  static volatile GType type;\n+  static GType type;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideometa.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-    GstVideoAlignment * align)\n+    const GstVideoAlignment * align)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideopool.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-void             gst_buffer_pool_config_set_video_alignment  (GstStructure *config, GstVideoAlignment *align);\n+void             gst_buffer_pool_config_set_video_alignment  (GstStructure *config, const GstVideoAlignment *align);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideopool.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+  GstVideoInfo info;\n@@ -81,0 +82,2 @@\n+static GstStateChangeReturn gst_video_sink_change_state (GstElement * element,\n+    GstStateChange transition);\n@@ -85,0 +88,3 @@\n+static gboolean gst_video_sink_set_caps (GstBaseSink * bsink, GstCaps * caps);\n+static void gst_video_sink_get_times (GstBaseSink * bsink, GstBuffer * buffer,\n+    GstClockTime * start, GstClockTime * end);\n@@ -90,1 +96,17 @@\n- * @result: a pointer to a #GstVideoRectangle which will receive the result area\n+ * @result: (out caller-allocates): a pointer to a #GstVideoRectangle which will receive the result area\n+ * @scaling: a #gboolean indicating if scaling should be applied or not\n+ *\n+ * Deprecated: 1.20: Use gst_video_center_rect() instead.\n+ *\/\n+void\n+gst_video_sink_center_rect (GstVideoRectangle src, GstVideoRectangle dst,\n+    GstVideoRectangle * result, gboolean scaling)\n+{\n+  gst_video_center_rect (&src, &dst, result, scaling);\n+}\n+\n+\/**\n+ * gst_video_center_rect:\n+ * @src: a pointer to #GstVideoRectangle describing the source area\n+ * @dst: a pointer to #GstVideoRectangle describing the destination area\n+ * @result: (out caller-allocates): a pointer to a #GstVideoRectangle which will receive the result area\n@@ -96,0 +118,2 @@\n+ *\n+ * Since: 1.20\n@@ -98,2 +122,2 @@\n-gst_video_sink_center_rect (GstVideoRectangle src, GstVideoRectangle dst,\n-    GstVideoRectangle * result, gboolean scaling)\n+gst_video_center_rect (const GstVideoRectangle * src,\n+    const GstVideoRectangle * dst, GstVideoRectangle * result, gboolean scaling)\n@@ -101,0 +125,2 @@\n+  g_return_if_fail (src != NULL);\n+  g_return_if_fail (dst != NULL);\n@@ -104,4 +130,4 @@\n-    result->w = MIN (src.w, dst.w);\n-    result->h = MIN (src.h, dst.h);\n-    result->x = dst.x + (dst.w - result->w) \/ 2;\n-    result->y = dst.y + (dst.h - result->h) \/ 2;\n+    result->w = MIN (src->w, dst->w);\n+    result->h = MIN (src->h, dst->h);\n+    result->x = dst->x + (dst->w - result->w) \/ 2;\n+    result->y = dst->y + (dst->h - result->h) \/ 2;\n@@ -111,2 +137,5 @@\n-    src_ratio = (gdouble) src.w \/ src.h;\n-    dst_ratio = (gdouble) dst.w \/ dst.h;\n+    g_return_if_fail (src->h != 0);\n+    g_return_if_fail (dst->h != 0);\n+\n+    src_ratio = (gdouble) src->w \/ src->h;\n+    dst_ratio = (gdouble) dst->w \/ dst->h;\n@@ -115,4 +144,4 @@\n-      result->w = dst.w;\n-      result->h = dst.w \/ src_ratio;\n-      result->x = dst.x;\n-      result->y = dst.y + (dst.h - result->h) \/ 2;\n+      result->w = dst->w;\n+      result->h = dst->w \/ src_ratio;\n+      result->x = dst->x;\n+      result->y = dst->y + (dst->h - result->h) \/ 2;\n@@ -120,4 +149,4 @@\n-      result->w = dst.h * src_ratio;\n-      result->h = dst.h;\n-      result->x = dst.x + (dst.w - result->w) \/ 2;\n-      result->y = dst.y;\n+      result->w = dst->h * src_ratio;\n+      result->h = dst->h;\n+      result->x = dst->x + (dst->w - result->w) \/ 2;\n+      result->y = dst->y;\n@@ -125,4 +154,4 @@\n-      result->x = dst.x;\n-      result->y = dst.y;\n-      result->w = dst.w;\n-      result->h = dst.h;\n+      result->x = dst->x;\n+      result->y = dst->y;\n+      result->w = dst->w;\n+      result->h = dst->h;\n@@ -133,1 +162,2 @@\n-      src.w, src.h, dst.w, dst.h, result->w, result->h, result->x, result->y);\n+      src->w, src->h, dst->w, dst->h,\n+      result->w, result->h, result->x, result->y);\n@@ -156,0 +186,1 @@\n+  GstElementClass *element_class = (GstElementClass *) klass;\n@@ -176,0 +207,2 @@\n+  element_class->change_state = GST_DEBUG_FUNCPTR (gst_video_sink_change_state);\n+\n@@ -179,0 +212,66 @@\n+  basesink_class->set_caps = GST_DEBUG_FUNCPTR (gst_video_sink_set_caps);\n+  basesink_class->get_times = GST_DEBUG_FUNCPTR (gst_video_sink_get_times);\n+}\n+\n+static GstStateChangeReturn\n+gst_video_sink_change_state (GstElement * element, GstStateChange transition)\n+{\n+  GstVideoSink *vsink;\n+\n+  vsink = GST_VIDEO_SINK_CAST (element);\n+\n+  switch (transition) {\n+    case GST_STATE_CHANGE_READY_TO_PAUSED:\n+      gst_video_info_init (&vsink->priv->info);\n+      break;\n+    default:\n+      break;\n+  }\n+\n+  return GST_ELEMENT_CLASS (parent_class)->change_state (element, transition);\n+}\n+\n+static gboolean\n+gst_video_sink_set_caps (GstBaseSink * bsink, GstCaps * caps)\n+{\n+  GstVideoSink *vsink;\n+  GstVideoSinkClass *klass;\n+  GstVideoInfo info;\n+\n+  vsink = GST_VIDEO_SINK_CAST (bsink);\n+  klass = GST_VIDEO_SINK_GET_CLASS (vsink);\n+\n+  if (!gst_video_info_from_caps (&info, caps)) {\n+    GST_ERROR_OBJECT (bsink, \"Failed to parse caps %\" GST_PTR_FORMAT, caps);\n+    return FALSE;\n+  }\n+\n+  GST_DEBUG_OBJECT (bsink, \"Setting caps %\" GST_PTR_FORMAT, caps);\n+  vsink->priv->info = info;\n+\n+  if (klass->set_info)\n+    return klass->set_info (vsink, caps, &vsink->priv->info);\n+\n+  return TRUE;\n+}\n+\n+static void\n+gst_video_sink_get_times (GstBaseSink * bsink, GstBuffer * buffer,\n+    GstClockTime * start, GstClockTime * end)\n+{\n+  GstVideoSink *vsink;\n+  GstClockTime timestamp;\n+\n+  vsink = GST_VIDEO_SINK_CAST (bsink);\n+\n+  timestamp = GST_BUFFER_DTS_OR_PTS (buffer);\n+  if (GST_CLOCK_TIME_IS_VALID (timestamp)) {\n+    *start = timestamp;\n+    if (GST_BUFFER_DURATION_IS_VALID (buffer)) {\n+      *end = timestamp + GST_BUFFER_DURATION (buffer);\n+    } else if (vsink->priv->info.fps_n > 0) {\n+      *end = timestamp +\n+          gst_util_uint64_scale_int (GST_SECOND, vsink->priv->info.fps_d,\n+          vsink->priv->info.fps_n);\n+    }\n+  }\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideosink.c","additions":121,"deletions":22,"binary":false,"changes":143,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include <gst\/video\/video-info.h>\n@@ -120,0 +121,11 @@\n+  \/**\n+   * GstVideoSinkClass::set_info:\n+   * @caps: A #GstCaps.\n+   * @info: A #GstVideoInfo corresponding to @caps.\n+   *\n+   * Notifies the subclass of changed #GstVideoInfo.\n+   *\n+   * Since: 1.20\n+   *\/\n+  gboolean       (*set_info)   (GstVideoSink *video_sink, GstCaps *caps, const GstVideoInfo *info);\n+\n@@ -121,1 +133,1 @@\n-  gpointer _gst_reserved[GST_PADDING];\n+  gpointer _gst_reserved[GST_PADDING-1];\n@@ -127,1 +139,1 @@\n-GST_VIDEO_API\n+GST_VIDEO_DEPRECATED_FOR(gst_video_center_rect)\n@@ -131,0 +143,6 @@\n+GST_VIDEO_API\n+void gst_video_center_rect      (const GstVideoRectangle * src,\n+                                 const GstVideoRectangle * dst,\n+                                 GstVideoRectangle * result,\n+                                 gboolean scaling);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideosink.h","additions":20,"deletions":2,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -174,0 +174,4 @@\n+  if (state->mastering_display_info)\n+    g_slice_free (GstVideoMasteringDisplayInfo, state->mastering_display_info);\n+  if (state->content_light_level)\n+    g_slice_free (GstVideoContentLightLevel, state->content_light_level);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideoutils.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include <gst\/video\/video-hdr.h>\n@@ -50,0 +51,4 @@\n+ * @mastering_display_info: Mastering display color volume information\n+ *     (HDR metadata) for the stream. Since: 1.20\n+ * @content_light_level: Content light level information for the stream.\n+ *     Since: 1.20\n@@ -58,2 +63,16 @@\n- * @gst_video_decoder_set_output_state() or\n- * @gst_video_encoder_set_output_state() methods.\n+ * gst_video_decoder_set_output_state() or\n+ * gst_video_encoder_set_output_state() methods.\n+ *\/\n+\/**\n+ * GstVideoCodecState.mastering_display_info:\n+ *\n+ * Mastering display color volume information (HDR metadata) for the stream.\n+ *\n+ * Since: 1.20\n+ *\/\n+\/**\n+ * GstVideoCodecState.content_light_level:\n+ *\n+ * Content light level information for the stream.\n+ *\n+ * Since: 1.20\n@@ -75,0 +94,3 @@\n+  GstVideoMasteringDisplayInfo *mastering_display_info;\n+  GstVideoContentLightLevel *content_light_level;\n+\n@@ -76,1 +98,1 @@\n-  gpointer padding[GST_PADDING_LARGE - 1];\n+  gpointer padding[GST_PADDING_LARGE - 3];\n@@ -85,0 +107,1 @@\n+ * @GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED: the buffer data is corrupted (Since: 1.20)\n@@ -93,1 +116,9 @@\n-  GST_VIDEO_CODEC_FRAME_FLAG_FORCE_KEYFRAME_HEADERS = (1<<3)\n+  GST_VIDEO_CODEC_FRAME_FLAG_FORCE_KEYFRAME_HEADERS = (1<<3),\n+  \/**\n+   * GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED:\n+   *\n+   * The buffer data is corrupted.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_CODEC_FRAME_FLAG_CORRUPTED = (1<<4),\n@@ -217,2 +248,2 @@\n- *           @gst_video_decoder_allocate_output_frame() or\n- *           @gst_video_decoder_allocate_output_buffer() methods. The buffer is\n+ *           gst_video_decoder_allocate_output_frame() or\n+ *           gst_video_decoder_allocate_output_buffer() methods. The buffer is\n@@ -263,0 +294,1 @@\n+      \/*< private >*\/\n@@ -266,0 +298,1 @@\n+      guint subframes_processed;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideoutils.h","additions":39,"deletions":6,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -278,0 +278,9 @@\n+\n+  \/**\n+   * GST_NAVIGATION_EVENT_MOUSE_SCROLL:\n+   *\n+   * A mouse scroll event. Use gst_navigation_event_parse_mouse_scroll_event()\n+   * to extract the details from the event.\n+   *\n+   * Since: 1.18\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/navigation.h","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-\n+#include <gst\/video\/video-enumtypes.h>\n@@ -79,1 +79,3 @@\n-  {\"dv\", GST_VIDEO_CHROMA_SITE_DV}\n+  {\"dv\", GST_VIDEO_CHROMA_SITE_DV},\n+  {\"alt-line\", GST_VIDEO_CHROMA_SITE_ALT_LINE},\n+  {\"cosited\", GST_VIDEO_CHROMA_SITE_COSITED},\n@@ -88,0 +90,2 @@\n+ * Deprecated: 1.20: Use gst_video_chroma_site_from_string() instead.\n+ *\n@@ -93,0 +97,17 @@\n+{\n+  return gst_video_chroma_site_from_string (s);\n+}\n+\n+\/**\n+ * gst_video_chroma_site_from_string:\n+ * @s: a chromasite string\n+ *\n+ * Convert @s to a #GstVideoChromaSite\n+ *\n+ * Returns: a #GstVideoChromaSite or %GST_VIDEO_CHROMA_SITE_UNKNOWN when @s does\n+ * not contain a valid chroma-site description.\n+ *\n+ * Since: 1.20\n+ *\/\n+GstVideoChromaSite\n+gst_video_chroma_site_from_string (const gchar * s)\n@@ -95,0 +116,5 @@\n+  gchar **split;\n+  gchar **iter;\n+  GstVideoChromaSite ret = GST_VIDEO_CHROMA_SITE_UNKNOWN;\n+  GFlagsClass *klass;\n+\n@@ -99,1 +125,25 @@\n-  return GST_VIDEO_CHROMA_SITE_UNKNOWN;\n+\n+  klass = (GFlagsClass *) g_type_class_ref (GST_TYPE_VIDEO_CHROMA_SITE);\n+  split = g_strsplit (s, \"+\", 0);\n+  for (iter = split; *iter; iter++) {\n+    GFlagsValue *value;\n+\n+    value = g_flags_get_value_by_nick (klass, *iter);\n+    if (!value) {\n+      ret = GST_VIDEO_CHROMA_SITE_UNKNOWN;\n+      goto out;\n+    }\n+\n+    ret |= value->value;\n+  }\n+\n+out:\n+  g_type_class_unref (klass);\n+  g_strfreev (split);\n+\n+  \/* Doesn't make sense *\/\n+  if ((ret & GST_VIDEO_CHROMA_SITE_NONE) != 0 &&\n+      ret != GST_VIDEO_CHROMA_SITE_NONE)\n+    return GST_VIDEO_CHROMA_SITE_UNKNOWN;\n+\n+  return ret;\n@@ -108,0 +158,2 @@\n+ * Deprecated: 1.20: Use gst_video_chroma_site_to_string() instead.\n+ *\n@@ -121,0 +173,54 @@\n+\/**\n+ * gst_video_chroma_site_to_string:\n+ * @site: a #GstVideoChromaSite\n+ *\n+ * Converts @site to its string representation.\n+ *\n+ * Returns: (transfer full) (nullable): a string representation of @site\n+ *          or %NULL if @site contains undefined value or\n+ *          is equal to %GST_VIDEO_CHROMA_SITE_UNKNOWN\n+ *\n+ * Since: 1.20\n+ *\/\n+gchar *\n+gst_video_chroma_site_to_string (GstVideoChromaSite site)\n+{\n+  gint i;\n+  GString *str;\n+  GFlagsValue *value;\n+  GFlagsClass *klass;\n+\n+  \/* return null string for GST_VIDEO_CHROMA_SITE_UNKNOWN *\/\n+  if (site == 0)\n+    return NULL;\n+\n+  for (i = 0; i < G_N_ELEMENTS (chromasite); i++) {\n+    if (chromasite[i].site == site)\n+      return g_strdup (chromasite[i].name);\n+  }\n+\n+  \/* Doesn't make sense *\/\n+  if ((site & GST_VIDEO_CHROMA_SITE_NONE) != 0 &&\n+      site != GST_VIDEO_CHROMA_SITE_NONE)\n+    return NULL;\n+\n+  \/* Construct new string *\/\n+  klass = (GFlagsClass *) g_type_class_ref (GST_TYPE_VIDEO_CHROMA_SITE);\n+  str = g_string_new (NULL);\n+  while (site != GST_VIDEO_CHROMA_SITE_UNKNOWN &&\n+      (value = g_flags_get_first_value (klass, site))) {\n+    if (str->len > 0)\n+      g_string_append (str, \"+\");\n+\n+    g_string_append (str, value->value_nick);\n+    site &= ~value->value;\n+  }\n+  g_type_class_unref (klass);\n+\n+  \/* This means given chroma-site has unknown value *\/\n+  if (site != 0)\n+    return g_string_free (str, TRUE);\n+\n+  return g_string_free (str, FALSE);\n+}\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-chroma.c","additions":109,"deletions":3,"binary":false,"changes":112,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-GST_VIDEO_API\n+GST_VIDEO_DEPRECATED_FOR(gst_video_chroma_site_from_string)\n@@ -58,1 +58,1 @@\n-GST_VIDEO_API\n+GST_VIDEO_DEPRECATED_FOR(gst_video_chroma_site_to_string)\n@@ -61,0 +61,6 @@\n+GST_VIDEO_API\n+GstVideoChromaSite    gst_video_chroma_site_from_string (const gchar * s);\n+\n+GST_VIDEO_API\n+gchar *               gst_video_chroma_site_to_string   (GstVideoChromaSite site);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-chroma.h","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -402,0 +402,15 @@\n+ * Deprecated: 1.20: Use gst_video_transfer_function_encode() instead.\n+ *\n+ * Since: 1.6\n+ *\/\n+gdouble\n+gst_video_color_transfer_encode (GstVideoTransferFunction func, gdouble val)\n+{\n+  return gst_video_transfer_function_encode (func, val);\n+}\n+\n+\/**\n+ * gst_video_transfer_function_encode:\n+ * @func: a #GstVideoTransferFunction\n+ * @val: a value\n+ *\n@@ -416,1 +431,1 @@\n- * Since: 1.6\n+ * Since: 1.20\n@@ -419,1 +434,1 @@\n-gst_video_color_transfer_encode (GstVideoTransferFunction func, gdouble val)\n+gst_video_transfer_function_encode (GstVideoTransferFunction func, gdouble val)\n@@ -484,6 +499,6 @@\n-      gdouble c1 = 3424.0 \/ 4096.0;     \/* c3 - c2 + 1 *\/\n-      gdouble c2 = 32 * 2413 \/ 4096.0;\n-      gdouble c3 = 32 * 2392 \/ 4096.0;\n-      gdouble m = 128 * 2523 \/ 4096.0;\n-      gdouble n = 0.25 * 2610 \/ 4096.0;\n-      gdouble Ln = pow (val, n);\n+      gdouble c1 = 0.8359375;\n+      gdouble c2 = 18.8515625;\n+      gdouble c3 = 18.6875;\n+      gdouble m1 = 0.1593017578125;\n+      gdouble m2 = 78.84375;\n+      gdouble Ln = pow (val, m1);\n@@ -493,1 +508,1 @@\n-      res = pow ((c1 + c2 * Ln) \/ (1.0 + c3 * Ln), m);\n+      res = pow ((c1 + c2 * Ln) \/ (1.0 + c3 * Ln), m2);\n@@ -519,0 +534,15 @@\n+ * Deprecated: 1.20: Use gst_video_transfer_function_decode() instead.\n+ *\n+ * Since: 1.6\n+ *\/\n+gdouble\n+gst_video_color_transfer_decode (GstVideoTransferFunction func, gdouble val)\n+{\n+  return gst_video_transfer_function_decode (func, val);\n+}\n+\n+\/**\n+ * gst_video_transfer_function_decode:\n+ * @func: a #GstVideoTransferFunction\n+ * @val: a value\n+ *\n@@ -520,1 +550,1 @@\n- * @gst_video_color_transfer_encode().\n+ * gst_video_color_transfer_encode().\n@@ -534,1 +564,1 @@\n- * Since: 1.6\n+ * Since: 1.20\n@@ -537,1 +567,1 @@\n-gst_video_color_transfer_decode (GstVideoTransferFunction func, gdouble val)\n+gst_video_transfer_function_decode (GstVideoTransferFunction func, gdouble val)\n@@ -602,8 +632,9 @@\n-      gdouble c1 = 3424.0 \/ 4096.0;     \/* c3 - c2 + 1 *\/\n-      gdouble c2 = 32 * 2413 \/ 4096.0;\n-      gdouble c3 = 32 * 2392 \/ 4096.0;\n-      gdouble mi = 1 \/ (128 * 2523 \/ 4096.0);\n-      gdouble ni = 1 \/ (0.25 * 2610 \/ 4096.0);\n-      gdouble nm = pow (val, mi);\n-\n-      res = pow ((nm - c1) \/ (c2 - c3 * nm), ni);\n+      gdouble c1 = 0.8359375;\n+      gdouble c2 = 18.8515625;\n+      gdouble c3 = 18.6875;\n+      gdouble m1 = 0.1593017578125;\n+      gdouble m2 = 78.84375;\n+      gdouble tmp = pow (val, 1 \/ m2);\n+      gdouble tmp2 = MAX (tmp - c1, 0.0f);\n+\n+      res = pow (tmp2 \/ (c2 - c3 * tmp), 1 \/ m1);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-color.c","additions":51,"deletions":20,"binary":false,"changes":71,"status":"modified"},{"patch":"@@ -141,0 +141,2 @@\n+GST_VIDEO_DEPRECATED_FOR(gst_video_transfer_function_encode)\n+gdouble      gst_video_color_transfer_encode    (GstVideoTransferFunction func, gdouble val);\n@@ -142,1 +144,1 @@\n-gdouble      gst_video_color_transfer_encode (GstVideoTransferFunction func, gdouble val);\n+gdouble      gst_video_transfer_function_encode (GstVideoTransferFunction func, gdouble val);\n@@ -144,0 +146,2 @@\n+GST_VIDEO_DEPRECATED_FOR(gst_video_transfer_function_decode)\n+gdouble      gst_video_color_transfer_decode    (GstVideoTransferFunction func, gdouble val);\n@@ -145,1 +149,1 @@\n-gdouble      gst_video_color_transfer_decode (GstVideoTransferFunction func, gdouble val);\n+gdouble      gst_video_transfer_function_decode (GstVideoTransferFunction func, gdouble val);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-color.h","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include <gst\/base\/base.h>\n@@ -123,1 +124,1 @@\n-typedef struct _GstParallelizedTaskThread GstParallelizedTaskThread;\n+typedef struct _GstParallelizedWorkItem GstParallelizedWorkItem;\n@@ -125,1 +126,1 @@\n-struct _GstParallelizedTaskThread\n+struct _GstParallelizedWorkItem\n@@ -127,3 +128,3 @@\n-  GstParallelizedTaskRunner *runner;\n-  guint idx;\n-  GThread *thread;\n+  GstParallelizedTaskRunner *self;\n+  GstParallelizedTaskFunc func;\n+  gpointer user_data;\n@@ -134,0 +135,2 @@\n+  GstTaskPool *pool;\n+  gboolean own_pool;\n@@ -136,4 +139,2 @@\n-  GstParallelizedTaskThread *threads;\n-\n-  GstParallelizedTaskFunc func;\n-  gpointer *task_data;\n+  GstQueueArray *tasks;\n+  GstQueueArray *work_items;\n@@ -142,3 +143,2 @@\n-  GCond cond_todo, cond_done;\n-  gint n_todo, n_done;\n-  gboolean quit;\n+\n+  gboolean async_tasks;\n@@ -147,1 +147,1 @@\n-static gpointer\n+static void\n@@ -150,28 +150,2 @@\n-  GstParallelizedTaskThread *self = data;\n-\n-#if 0\n-#ifdef HAVE_PTHREAD\n-  {\n-    pthread_t thread = pthread_self ();\n-    cpu_set_t cpuset;\n-    int r;\n-\n-    CPU_ZERO (&cpuset);\n-    CPU_SET (self->idx, &cpuset);\n-    if ((r = pthread_setaffinity_np (thread, sizeof (cpuset), &cpuset)) != 0)\n-      GST_ERROR (\"Failed to set thread affinity for thread %d: %s\", self->idx,\n-          g_strerror (r));\n-  }\n-#endif\n-#endif\n-\n-  g_mutex_lock (&self->runner->lock);\n-  self->runner->n_done++;\n-  if (self->runner->n_done == self->runner->n_threads - 1)\n-    g_cond_signal (&self->runner->cond_done);\n-\n-  do {\n-    gint idx;\n-\n-    while (self->runner->n_todo == -1 && !self->runner->quit)\n-      g_cond_wait (&self->runner->cond_todo, &self->runner->lock);\n+  GstParallelizedTaskRunner *runner = data;\n+  GstParallelizedWorkItem *work_item;\n@@ -179,6 +153,3 @@\n-    if (self->runner->quit)\n-      break;\n-\n-    idx = self->runner->n_todo--;\n-    g_assert (self->runner->n_todo >= -1);\n-    g_mutex_unlock (&self->runner->lock);\n+  g_mutex_lock (&runner->lock);\n+  work_item = gst_queue_array_pop_head (runner->work_items);\n+  g_mutex_unlock (&runner->lock);\n@@ -186,1 +157,2 @@\n-    g_assert (self->runner->func != NULL);\n+  g_assert (work_item != NULL);\n+  g_assert (work_item->func != NULL);\n@@ -188,1 +160,0 @@\n-    self->runner->func (self->runner->task_data[idx]);\n@@ -190,5 +161,4 @@\n-    g_mutex_lock (&self->runner->lock);\n-    self->runner->n_done++;\n-    if (self->runner->n_done == self->runner->n_threads - 1)\n-      g_cond_signal (&self->runner->cond_done);\n-  } while (TRUE);\n+  work_item->func (work_item->user_data);\n+  if (runner->async_tasks)\n+    g_free (work_item);\n+}\n@@ -196,1 +166,4 @@\n-  g_mutex_unlock (&self->runner->lock);\n+static void\n+gst_parallelized_task_runner_join (GstParallelizedTaskRunner * self)\n+{\n+  gboolean joined = FALSE;\n@@ -198,1 +171,10 @@\n-  return NULL;\n+  while (!joined) {\n+    g_mutex_lock (&self->lock);\n+    if (!(joined = gst_queue_array_is_empty (self->tasks))) {\n+      gpointer task = gst_queue_array_pop_head (self->tasks);\n+      g_mutex_unlock (&self->lock);\n+      gst_task_pool_join (self->pool, task);\n+    } else {\n+      g_mutex_unlock (&self->lock);\n+    }\n+  }\n@@ -204,13 +186,1 @@\n-  guint i;\n-\n-  g_mutex_lock (&self->lock);\n-  self->quit = TRUE;\n-  g_cond_broadcast (&self->cond_todo);\n-  g_mutex_unlock (&self->lock);\n-\n-  for (i = 1; i < self->n_threads; i++) {\n-    if (!self->threads[i].thread)\n-      continue;\n-\n-    g_thread_join (self->threads[i].thread);\n-  }\n+  gst_parallelized_task_runner_join (self);\n@@ -218,0 +188,5 @@\n+  gst_queue_array_free (self->work_items);\n+  gst_queue_array_free (self->tasks);\n+  if (self->own_pool)\n+    gst_task_pool_cleanup (self->pool);\n+  gst_object_unref (self->pool);\n@@ -219,3 +194,0 @@\n-  g_cond_clear (&self->cond_todo);\n-  g_cond_clear (&self->cond_done);\n-  g_free (self->threads);\n@@ -226,1 +198,2 @@\n-gst_parallelized_task_runner_new (guint n_threads)\n+gst_parallelized_task_runner_new (guint n_threads, GstTaskPool * pool,\n+    gboolean async_tasks)\n@@ -229,2 +202,0 @@\n-  guint i;\n-  GError *err = NULL;\n@@ -236,0 +207,22 @@\n+\n+  if (pool) {\n+    self->pool = g_object_ref (pool);\n+    self->own_pool = FALSE;\n+\n+    \/* No reason to split up the work between more threads than the\n+     * pool can spawn *\/\n+    if (GST_IS_SHARED_TASK_POOL (pool))\n+      n_threads =\n+          MIN (n_threads,\n+          gst_shared_task_pool_get_max_threads (GST_SHARED_TASK_POOL (pool)));\n+  } else {\n+    self->pool = gst_shared_task_pool_new ();\n+    self->own_pool = TRUE;\n+    gst_shared_task_pool_set_max_threads (GST_SHARED_TASK_POOL (self->pool),\n+        n_threads);\n+    gst_task_pool_prepare (self->pool, NULL);\n+  }\n+\n+  self->tasks = gst_queue_array_new (n_threads);\n+  self->work_items = gst_queue_array_new (n_threads);\n+\n@@ -237,1 +230,0 @@\n-  self->threads = g_new0 (GstParallelizedTaskThread, n_threads);\n@@ -239,3 +231,0 @@\n-  self->quit = FALSE;\n-  self->n_todo = -1;\n-  self->n_done = 0;\n@@ -243,2 +232,0 @@\n-  g_cond_init (&self->cond_todo);\n-  g_cond_init (&self->cond_done);\n@@ -247,22 +234,1 @@\n-  self->func = NULL;\n-  self->task_data = NULL;\n-\n-  for (i = 0; i < n_threads; i++) {\n-    self->threads[i].runner = self;\n-    self->threads[i].idx = i;\n-\n-    \/* First thread is the one calling run() *\/\n-    if (i > 0) {\n-      self->threads[i].thread =\n-          g_thread_try_new (\"videoconvert\", gst_parallelized_task_thread_func,\n-          &self->threads[i], &err);\n-      if (!self->threads[i].thread)\n-        goto error;\n-    }\n-  }\n-\n-  g_mutex_lock (&self->lock);\n-  while (self->n_done < self->n_threads - 1)\n-    g_cond_wait (&self->cond_done, &self->lock);\n-  self->n_done = 0;\n-  g_mutex_unlock (&self->lock);\n+  self->async_tasks = async_tasks;\n@@ -271,0 +237,1 @@\n+}\n@@ -272,8 +239,4 @@\n-error:\n-  {\n-    GST_ERROR (\"Failed to start thread %u: %s\", i, err->message);\n-    g_clear_error (&err);\n-\n-    gst_parallelized_task_runner_free (self);\n-    return NULL;\n-  }\n+static void\n+gst_parallelized_task_runner_finish (GstParallelizedTaskRunner * self)\n+{\n+  gst_parallelized_task_runner_join (self);\n@@ -288,4 +251,2 @@\n-  self->func = func;\n-  self->task_data = task_data;\n-\n-  if (n_threads > 1) {\n+  if (n_threads > 1 || self->async_tasks) {\n+    guint i = 0;\n@@ -293,5 +254,7 @@\n-    self->n_todo = self->n_threads - 2;\n-    self->n_done = 0;\n-    g_cond_broadcast (&self->cond_todo);\n-    g_mutex_unlock (&self->lock);\n-  }\n+    if (!self->async_tasks) {\n+      \/* if not async, perform one of the functions in the current thread *\/\n+      i = 1;\n+    }\n+    for (; i < n_threads; i++) {\n+      gpointer task;\n+      GstParallelizedWorkItem *work_item;\n@@ -299,1 +262,4 @@\n-  self->func (self->task_data[self->n_threads - 1]);\n+      if (!self->async_tasks)\n+        work_item = g_newa (GstParallelizedWorkItem, 1);\n+      else\n+        work_item = g_new0 (GstParallelizedWorkItem, 1);\n@@ -301,5 +267,13 @@\n-  if (n_threads > 1) {\n-    g_mutex_lock (&self->lock);\n-    while (self->n_done < self->n_threads - 1)\n-      g_cond_wait (&self->cond_done, &self->lock);\n-    self->n_done = 0;\n+      work_item->self = self;\n+      work_item->func = func;\n+      work_item->user_data = task_data[i];\n+      gst_queue_array_push_tail (self->work_items, work_item);\n+\n+      task =\n+          gst_task_pool_push (self->pool, gst_parallelized_task_thread_func,\n+          self, NULL);\n+\n+      \/* The return value of push() is unfortunately nullable, and we can't deal with that *\/\n+      g_assert (task != NULL);\n+      gst_queue_array_push_tail (self->tasks, task);\n+    }\n@@ -309,2 +283,5 @@\n-  self->func = NULL;\n-  self->task_data = NULL;\n+  if (!self->async_tasks) {\n+    func (task_data[0]);\n+\n+    gst_parallelized_task_runner_finish (self);\n+  }\n@@ -507,0 +484,4 @@\n+\n+  \/* for parallel async running *\/\n+  gpointer tasks[4];\n+  gpointer tasks_p[4];\n@@ -621,0 +602,4 @@\n+    \/* We may be able to skip ahead to the earliest line needed *\/\n+    if (cache->lines->len == 0 && cache->first + cache->backlog < in_line)\n+      cache->first = in_line - cache->backlog;\n+\n@@ -816,0 +801,1 @@\n+#define DEFAULT_OPT_ASYNC_TASKS FALSE\n@@ -846,0 +832,2 @@\n+#define GET_OPT_ASYNC_TASKS(c) get_opt_bool(c, \\\n+    GST_VIDEO_CONVERTER_OPT_ASYNC_TASKS, DEFAULT_OPT_ASYNC_TASKS)\n@@ -1531,1 +1519,3 @@\n-  if (convert->current_bits == 8) {\n+  if (convert->gamma_dec.gamma_table) {\n+    GST_DEBUG (\"gamma decode already set up\");\n+  } else if (convert->current_bits == 8) {\n@@ -1537,1 +1527,2 @@\n-      t[i] = rint (gst_video_color_transfer_decode (func, i \/ 255.0) * 65535.0);\n+      t[i] =\n+          rint (gst_video_transfer_function_decode (func, i \/ 255.0) * 65535.0);\n@@ -1545,1 +1536,2 @@\n-          rint (gst_video_color_transfer_decode (func, i \/ 65535.0) * 65535.0);\n+          rint (gst_video_transfer_function_decode (func,\n+              i \/ 65535.0) * 65535.0);\n@@ -1561,1 +1553,3 @@\n-  if (target_bits == 8) {\n+  if (convert->gamma_enc.gamma_table) {\n+    GST_DEBUG (\"gamma encode already set up\");\n+  } else if (target_bits == 8) {\n@@ -1569,1 +1563,2 @@\n-      t[i] = rint (gst_video_color_transfer_encode (func, i \/ 65535.0) * 255.0);\n+      t[i] =\n+          rint (gst_video_transfer_function_encode (func, i \/ 65535.0) * 255.0);\n@@ -1579,1 +1574,2 @@\n-          rint (gst_video_color_transfer_encode (func, i \/ 65535.0) * 65535.0);\n+          rint (gst_video_transfer_function_encode (func,\n+              i \/ 65535.0) * 65535.0);\n@@ -1594,1 +1590,2 @@\n-    if (!convert->unpack_rgb) {\n+    \/* Set up conversion matrices if needed, but only for the first thread *\/\n+    if (idx == 0 && !convert->unpack_rgb) {\n@@ -1667,1 +1664,3 @@\n-  if (GST_VIDEO_INFO_IS_INTERLACED (&convert->in_info)) {\n+  if (GST_VIDEO_INFO_IS_INTERLACED (&convert->in_info)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&convert->in_info) !=\n+          GST_VIDEO_INTERLACE_MODE_ALTERNATE)) {\n@@ -1669,2 +1668,2 @@\n-        gst_video_scaler_new (method, GST_VIDEO_SCALER_FLAG_INTERLACED,\n-        taps, convert->in_height, convert->out_height, convert->config);\n+        gst_video_scaler_new (method, GST_VIDEO_SCALER_FLAG_INTERLACED, taps,\n+        convert->in_height, convert->out_height, convert->config);\n@@ -1846,2 +1845,4 @@\n-      if (!same_matrix || !same_primaries)\n-        prepare_matrix (convert, &convert->convert_matrix);\n+      if (!same_matrix || !same_primaries) {\n+        if (idx == 0)\n+          prepare_matrix (convert, &convert->convert_matrix);\n+      }\n@@ -1861,1 +1862,2 @@\n-      prepare_matrix (convert, &convert->convert_matrix);\n+      if (idx == 0)\n+        prepare_matrix (convert, &convert->convert_matrix);\n@@ -1983,1 +1985,1 @@\n-    if (!convert->pack_rgb) {\n+    if (idx == 0 && !convert->pack_rgb) {\n@@ -1985,1 +1987,0 @@\n-      compute_matrix_to_YUV (convert, &convert->to_YUV_matrix, FALSE);\n@@ -1987,1 +1988,20 @@\n-      \/* matrix is in 0..255 range, scale to pack bits *\/\n+      \/* When gamma remap is enabled, we do\n+       * 1) converts to ARGB64 linear RGB\n+       *   - if input is 8bits, convert to ARGB and scaled to 16bits with gamma\n+       *     decoding at once\n+       *   - otherwise converted ARGB64 and gamma decoded\n+       * 2) scale\/convert etc,\n+       * 3) and gamma encode\n+       *\n+       * So source data to the do_convert_to_YUV_lines() method is always\n+       * ARGB64\n+       *\n+       * Then, if output unpack format is 8bits, setup_gamma_encode() will scale\n+       * ARGB64 down to ARGB as a part of gamma encoding, otherwise it's still\n+       * ARGB64\n+       *\n+       * Finally this to_YUV_matrix is applied. Since compute_matrix_to_YUV()\n+       * expects [0, 1.0] range RGB as an input, scale down identity matrix\n+       * to expected scale here, otherwise offset of the matrix would be\n+       * very wrong\n+       *\/\n@@ -1992,0 +2012,2 @@\n+\n+      compute_matrix_to_YUV (convert, &convert->to_YUV_matrix, FALSE);\n@@ -2288,1 +2310,1 @@\n- * gst_video_converter_new: (skip)\n+ * gst_video_converter_new_with_pool: (skip)\n@@ -2292,0 +2314,1 @@\n+ * @pool: (nullable): a #GstTaskPool to spawn threads from\n@@ -2296,0 +2319,3 @@\n+ * The optional @pool can be used to spawn threads, this is useful when\n+ * creating new converters rapidly, for example when updating cropping.\n+ *\n@@ -2298,1 +2324,1 @@\n- * Since: 1.6\n+ * Since: 1.20\n@@ -2301,2 +2327,2 @@\n-gst_video_converter_new (GstVideoInfo * in_info, GstVideoInfo * out_info,\n-    GstStructure * config)\n+gst_video_converter_new_with_pool (const GstVideoInfo * in_info,\n+    const GstVideoInfo * out_info, GstStructure * config, GstTaskPool * pool)\n@@ -2309,0 +2335,1 @@\n+  gboolean async_tasks;\n@@ -2333,1 +2360,1 @@\n-  convert->in_maxheight = GST_VIDEO_INFO_HEIGHT (in_info);\n+  convert->in_maxheight = GST_VIDEO_INFO_FIELD_HEIGHT (in_info);\n@@ -2335,1 +2362,1 @@\n-  convert->out_maxheight = GST_VIDEO_INFO_HEIGHT (out_info);\n+  convert->out_maxheight = GST_VIDEO_INFO_FIELD_HEIGHT (out_info);\n@@ -2438,1 +2465,3 @@\n-  convert->conversion_runner = gst_parallelized_task_runner_new (n_threads);\n+  async_tasks = GET_OPT_ASYNC_TASKS (convert);\n+  convert->conversion_runner =\n+      gst_parallelized_task_runner_new (n_threads, pool, async_tasks);\n@@ -2527,0 +2556,20 @@\n+\/**\n+ * gst_video_converter_new: (skip)\n+ * @in_info: a #GstVideoInfo\n+ * @out_info: a #GstVideoInfo\n+ * @config: (transfer full): a #GstStructure with configuration options\n+ *\n+ * Create a new converter object to convert between @in_info and @out_info\n+ * with @config.\n+ *\n+ * Returns: a #GstVideoConverter or %NULL if conversion is not possible.\n+ *\n+ * Since: 1.6\n+ *\/\n+GstVideoConverter *\n+gst_video_converter_new (const GstVideoInfo * in_info,\n+    const GstVideoInfo * out_info, GstStructure * config)\n+{\n+  return gst_video_converter_new_with_pool (in_info, out_info, config, NULL);\n+}\n+\n@@ -2640,0 +2689,5 @@\n+  for (i = 0; i < 4; i++) {\n+    g_free (convert->tasks[i]);\n+    g_free (convert->tasks_p[i]);\n+  }\n+\n@@ -2709,0 +2763,4 @@\n+ * If #GST_VIDEO_CONVERTER_OPT_ASYNC_TASKS is %TRUE then this function will\n+ * return immediately and needs to be followed by a call to\n+ * gst_video_converter_frame_finish().\n+ *\n@@ -2725,1 +2783,1 @@\n-          || GST_VIDEO_INFO_HEIGHT (&convert->in_info) >\n+          || GST_VIDEO_INFO_FIELD_HEIGHT (&convert->in_info) >\n@@ -2734,1 +2792,1 @@\n-          || GST_VIDEO_INFO_HEIGHT (&convert->out_info) >\n+          || GST_VIDEO_INFO_FIELD_HEIGHT (&convert->out_info) >\n@@ -2747,0 +2805,19 @@\n+\/**\n+ * gst_video_converter_frame_finish:\n+ * @convert: a #GstVideoConverter\n+ *\n+ * Wait for a previous async conversion performed using\n+ * gst_video_converter_frame() to complete.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_video_converter_frame_finish (GstVideoConverter * convert)\n+{\n+  g_return_if_fail (convert);\n+  g_return_if_fail (convert->conversion_runner);\n+  g_return_if_fail (convert->conversion_runner->async_tasks);\n+\n+  gst_parallelized_task_runner_finish (convert->conversion_runner);\n+}\n+\n@@ -2784,1 +2861,3 @@\n-    if (GST_VIDEO_INFO_IS_INTERLACED (in_info)) {\n+    if (GST_VIDEO_INFO_IS_INTERLACED (in_info)\n+        && GST_VIDEO_INFO_INTERLACE_MODE (in_info) !=\n+        GST_VIDEO_INTERLACE_MODE_ALTERNATE) {\n@@ -3250,2 +3329,4 @@\n-  tasks = g_newa (ConvertTask, n_threads);\n-  tasks_p = g_newa (ConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (ConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (ConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3340,1 +3421,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -3357,2 +3440,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3413,1 +3498,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -3430,2 +3517,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3486,1 +3575,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -3505,2 +3596,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3539,0 +3632,158 @@\n+static void\n+convert_I420_v210_task (FConvertTask * task)\n+{\n+  gint i, j;\n+  gint l1, l2;\n+  const guint8 *s_y1, *s_y2, *s_u, *s_v;\n+  guint8 *d1, *d2;\n+  guint32 a0, a1, a2, a3;\n+  guint8 y0_1, y1_1, y2_1, y3_1, y4_1, y5_1;\n+  guint8 u0_1, u2_1, u4_1;\n+  guint8 v0_1, v2_1, v4_1;\n+  guint8 y0_2, y1_2, y2_2, y3_2, y4_2, y5_2;\n+  guint8 u0_2, u2_2, u4_2;\n+  guint8 v0_2, v2_2, v4_2;\n+\n+  for (i = task->height_0; i < task->height_1; i += 2) {\n+    GET_LINE_OFFSETS (task->interlaced, i, l1, l2);\n+\n+    s_y1 = FRAME_GET_Y_LINE (task->src, l1);\n+    s_y2 = FRAME_GET_Y_LINE (task->src, l2);\n+    s_u = FRAME_GET_U_LINE (task->src, i >> 1);\n+    s_v = FRAME_GET_V_LINE (task->src, i >> 1);\n+\n+    d1 = FRAME_GET_LINE (task->dest, l1);\n+    d2 = FRAME_GET_LINE (task->dest, l2);\n+\n+    for (j = 0; j < task->width; j += 6) {\n+      y1_1 = y2_1 = y3_1 = y4_1 = y5_1 = 0;\n+      u2_1 = u4_1 = v2_1 = v4_1 = 0;\n+      y1_2 = y2_2 = y3_2 = y4_2 = y5_2 = 0;\n+      u2_2 = u4_2 = v2_2 = v4_2 = 0;\n+\n+      y0_1 = s_y1[j];\n+      y0_2 = s_y2[j];\n+\n+      u0_1 = u0_2 = s_u[j \/ 2];\n+      v0_1 = v0_2 = s_v[j \/ 2];\n+\n+      if (j < task->width - 1) {\n+        y1_1 = s_y1[j + 1];\n+        y1_2 = s_y2[j + 1];\n+      }\n+\n+      if (j < task->width - 2) {\n+        y2_1 = s_y1[j + 2];\n+        y2_2 = s_y2[j + 2];\n+\n+        u2_1 = u2_2 = s_u[j \/ 2 + 1];\n+        v2_1 = v2_2 = s_v[j \/ 2 + 1];\n+      }\n+\n+      if (j < task->width - 3) {\n+        y3_1 = s_y1[j + 3];\n+        y3_2 = s_y2[j + 3];\n+      }\n+\n+      if (j < task->width - 4) {\n+        y4_1 = s_y1[j + 4];\n+        y4_2 = s_y2[j + 4];\n+\n+        u4_1 = u4_2 = s_u[j \/ 2 + 2];\n+        v4_1 = v4_2 = s_v[j \/ 2 + 2];\n+      }\n+\n+      if (j < task->width - 5) {\n+        y5_1 = s_y1[j + 5];\n+        y5_2 = s_y2[j + 5];\n+      }\n+\n+      a0 = u0_1 << 2 | (y0_1 << 12) | (v0_1 << 22);\n+      a1 = y1_1 << 2 | (u2_1 << 12) | (y2_1 << 22);\n+      a2 = v2_1 << 2 | (y3_1 << 12) | (u4_1 << 22);\n+      a3 = y4_1 << 2 | (v4_1 << 12) | (y5_1 << 22);\n+\n+      GST_WRITE_UINT32_LE (d1 + (j \/ 6) * 16 + 0, a0);\n+      GST_WRITE_UINT32_LE (d1 + (j \/ 6) * 16 + 4, a1);\n+      GST_WRITE_UINT32_LE (d1 + (j \/ 6) * 16 + 8, a2);\n+      GST_WRITE_UINT32_LE (d1 + (j \/ 6) * 16 + 12, a3);\n+\n+      a0 = u0_2 << 2 | (y0_2 << 12) | (v0_2 << 22);\n+      a1 = y1_2 << 2 | (u2_2 << 12) | (y2_2 << 22);\n+      a2 = v2_2 << 2 | (y3_2 << 12) | (u4_2 << 22);\n+      a3 = y4_2 << 2 | (v4_2 << 12) | (y5_2 << 22);\n+\n+      GST_WRITE_UINT32_LE (d2 + (j \/ 6) * 16 + 0, a0);\n+      GST_WRITE_UINT32_LE (d2 + (j \/ 6) * 16 + 4, a1);\n+      GST_WRITE_UINT32_LE (d2 + (j \/ 6) * 16 + 8, a2);\n+      GST_WRITE_UINT32_LE (d2 + (j \/ 6) * 16 + 12, a3);\n+    }\n+  }\n+}\n+\n+static void\n+convert_I420_v210 (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  int i;\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n+  gint h2;\n+  FConvertTask *tasks;\n+  FConvertTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+  guint8 *tmpline_8;\n+\n+  \/* I420 has half as many chroma lines, as such we have to\n+   * always merge two into one. For non-interlaced these are\n+   * the two next to each other, for interlaced one is skipped\n+   * in between. *\/\n+  if (interlaced)\n+    h2 = GST_ROUND_DOWN_4 (height);\n+  else\n+    h2 = GST_ROUND_DOWN_2 (height);\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = GST_ROUND_UP_2 ((h2 + n_threads - 1) \/ n_threads);\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].src = src;\n+    tasks[i].dest = dest;\n+\n+    tasks[i].interlaced = interlaced;\n+    tasks[i].width = width;\n+\n+    tasks[i].height_0 = i * lines_per_thread;\n+    tasks[i].height_1 = tasks[i].height_0 + lines_per_thread;\n+    tasks[i].height_1 = MIN (h2, tasks[i].height_1);\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_I420_v210_task, (gpointer) tasks_p);\n+\n+  \/* now handle last lines. For interlaced these are up to 3 *\/\n+  if (h2 != height) {\n+    for (i = h2; i < height; i++) {\n+      UNPACK_FRAME (src, convert->tmpline[0], i, convert->in_x, width);\n+\n+      tmpline_8 = (guint8 *) convert->tmpline[0];\n+      for (int j = width * 4 - 1; j >= 0; j--) {\n+        convert->tmpline[0][j] = tmpline_8[j] << 8;\n+      }\n+\n+      PACK_FRAME (dest, convert->tmpline[0], i, width);\n+    }\n+  }\n+}\n+\n@@ -3564,1 +3815,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -3581,2 +3834,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3723,1 +3978,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -3729,0 +3986,1 @@\n+  guint8 *tmpline_8;\n@@ -3740,2 +3998,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -3766,0 +4026,6 @@\n+\n+      tmpline_8 = (guint8 *) convert->tmpline[0];\n+      for (int j = 0; j < width * 4; j++) {\n+        tmpline_8[j] = convert->tmpline[0][j] >> 8;\n+      }\n+\n@@ -3809,2 +4075,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -3836,1 +4104,1 @@\n-convert_YUY2_Y42B_task (FConvertPlaneTask * task)\n+convert_YUY2_v210_task (FConvertPlaneTask * task)\n@@ -3838,3 +4106,55 @@\n-  video_orc_convert_YUY2_Y42B (task->d, task->dstride, task->du,\n-      task->dustride, task->dv, task->dvstride,\n-      task->s, task->sstride, (task->width + 1) \/ 2, task->height);\n+  gint i, j;\n+  guint8 *d;\n+  const guint8 *s;\n+  guint32 a0, a1, a2, a3;\n+  guint8 y0, y1, y2, y3, y4, y5;\n+  guint8 u0, u2, u4;\n+  guint8 v0, v2, v4;\n+\n+  for (i = 0; i < task->height; i++) {\n+    d = task->d + i * task->dstride;\n+    s = task->s + i * task->sstride;\n+\n+    for (j = 0; j < task->width; j += 6) {\n+      y1 = y2 = y3 = y4 = y5 = 0;\n+      u2 = u4 = v2 = v4 = 0;\n+\n+      y0 = s[2 * j];\n+      u0 = s[2 * j + 1];\n+      v0 = s[2 * j + 3];\n+\n+      if (j < task->width - 1) {\n+        y1 = s[2 * j + 2];\n+      }\n+\n+      if (j < task->width - 2) {\n+        y2 = s[2 * j + 4];\n+        u2 = s[2 * j + 5];\n+        v2 = s[2 * j + 7];\n+      }\n+\n+      if (j < task->width - 3) {\n+        y3 = s[2 * j + 6];\n+      }\n+\n+      if (j < task->width - 4) {\n+        y4 = s[2 * j + 8];\n+        u4 = s[2 * j + 9];\n+        v4 = s[2 * j + 11];\n+      }\n+\n+      if (j < task->width - 5) {\n+        y5 = s[2 * j + 10];\n+      }\n+\n+      a0 = u0 << 2 | (y0 << 12) | (v0 << 22);\n+      a1 = y1 << 2 | (u2 << 12) | (y2 << 22);\n+      a2 = v2 << 2 | (y3 << 12) | (u4 << 22);\n+      a3 = y4 << 2 | (v4 << 12) | (y5 << 22);\n+\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 0, a0);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 4, a1);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 8, a2);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 12, a3);\n+    }\n+  }\n@@ -3844,1 +4164,1 @@\n-convert_YUY2_Y42B (GstVideoConverter * convert, const GstVideoFrame * src,\n+convert_YUY2_v210 (GstVideoConverter * convert, const GstVideoFrame * src,\n@@ -3849,1 +4169,1 @@\n-  guint8 *s, *dy, *du, *dv;\n+  guint8 *s, *d;\n@@ -3858,7 +4178,2 @@\n-\n-  dy = FRAME_GET_Y_LINE (dest, convert->out_y);\n-  dy += convert->out_x;\n-  du = FRAME_GET_U_LINE (dest, convert->out_y);\n-  du += convert->out_x >> 1;\n-  dv = FRAME_GET_V_LINE (dest, convert->out_y);\n-  dv += convert->out_x >> 1;\n+  d = FRAME_GET_LINE (dest, convert->out_y);\n+  d += (GST_ROUND_UP_2 (convert->out_x) * 2);\n@@ -3867,2 +4182,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -3873,3 +4190,1 @@\n-    tasks[i].dstride = FRAME_GET_Y_STRIDE (dest);\n-    tasks[i].dustride = FRAME_GET_U_STRIDE (dest);\n-    tasks[i].dvstride = FRAME_GET_V_STRIDE (dest);\n+    tasks[i].dstride = FRAME_GET_STRIDE (dest);\n@@ -3877,3 +4192,1 @@\n-    tasks[i].d = dy + i * lines_per_thread * tasks[i].dstride;\n-    tasks[i].du = du + i * lines_per_thread * tasks[i].dustride;\n-    tasks[i].dv = dv + i * lines_per_thread * tasks[i].dvstride;\n+    tasks[i].d = d + i * lines_per_thread * tasks[i].dstride;\n@@ -3891,1 +4204,64 @@\n-      (GstParallelizedTaskFunc) convert_YUY2_Y42B_task, (gpointer) tasks_p);\n+      (GstParallelizedTaskFunc) convert_YUY2_v210_task, (gpointer) tasks_p);\n+\n+  convert_fill_border (convert, dest);\n+}\n+\n+static void\n+convert_YUY2_Y42B_task (FConvertPlaneTask * task)\n+{\n+  video_orc_convert_YUY2_Y42B (task->d, task->dstride, task->du,\n+      task->dustride, task->dv, task->dvstride,\n+      task->s, task->sstride, (task->width + 1) \/ 2, task->height);\n+}\n+\n+static void\n+convert_YUY2_Y42B (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  guint8 *s, *dy, *du, *dv;\n+  FConvertPlaneTask *tasks;\n+  FConvertPlaneTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+  gint i;\n+\n+  s = FRAME_GET_LINE (src, convert->in_y);\n+  s += (GST_ROUND_UP_2 (convert->in_x) * 2);\n+\n+  dy = FRAME_GET_Y_LINE (dest, convert->out_y);\n+  dy += convert->out_x;\n+  du = FRAME_GET_U_LINE (dest, convert->out_y);\n+  du += convert->out_x >> 1;\n+  dv = FRAME_GET_V_LINE (dest, convert->out_y);\n+  dv += convert->out_x >> 1;\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = (height + n_threads - 1) \/ n_threads;\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].dstride = FRAME_GET_Y_STRIDE (dest);\n+    tasks[i].dustride = FRAME_GET_U_STRIDE (dest);\n+    tasks[i].dvstride = FRAME_GET_V_STRIDE (dest);\n+    tasks[i].sstride = FRAME_GET_STRIDE (src);\n+    tasks[i].d = dy + i * lines_per_thread * tasks[i].dstride;\n+    tasks[i].du = du + i * lines_per_thread * tasks[i].dustride;\n+    tasks[i].dv = dv + i * lines_per_thread * tasks[i].dvstride;\n+    tasks[i].s = s + i * lines_per_thread * tasks[i].sstride;\n+\n+    tasks[i].width = width;\n+    tasks[i].height = (i + 1) * lines_per_thread;\n+    tasks[i].height = MIN (tasks[i].height, height);\n+    tasks[i].height -= i * lines_per_thread;\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_YUY2_Y42B_task, (gpointer) tasks_p);\n@@ -3930,2 +4306,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4052,2 +4430,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4106,1 +4486,3 @@\n-  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src);\n+  gboolean interlaced = GST_VIDEO_FRAME_IS_INTERLACED (src)\n+      && (GST_VIDEO_INFO_INTERLACE_MODE (&src->info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE);\n@@ -4123,2 +4505,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -4181,2 +4565,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4207,0 +4593,106 @@\n+static void\n+convert_UYVY_v210_task (FConvertPlaneTask * task)\n+{\n+  gint i, j;\n+  guint8 *d;\n+  const guint8 *s;\n+  guint32 a0, a1, a2, a3;\n+  guint8 y0, y1, y2, y3, y4, y5;\n+  guint8 u0, u2, u4;\n+  guint8 v0, v2, v4;\n+\n+  for (i = 0; i < task->height; i++) {\n+    d = task->d + i * task->dstride;\n+    s = task->s + i * task->sstride;\n+\n+    for (j = 0; j < task->width; j += 6) {\n+      y1 = y2 = y3 = y4 = y5 = 0;\n+      u2 = u4 = v2 = v4 = 0;\n+\n+      y0 = s[2 * j + 1];\n+      u0 = s[2 * j];\n+      v0 = s[2 * j + 2];\n+\n+      if (j < task->width - 1) {\n+        y1 = s[2 * j + 3];\n+      }\n+\n+      if (j < task->width - 2) {\n+        y2 = s[2 * j + 5];\n+        u2 = s[2 * j + 4];\n+        v2 = s[2 * j + 6];\n+      }\n+\n+      if (j < task->width - 3) {\n+        y3 = s[2 * j + 7];\n+      }\n+\n+      if (j < task->width - 4) {\n+        y4 = s[2 * j + 9];\n+        u4 = s[2 * j + 8];\n+        v4 = s[2 * j + 10];\n+      }\n+\n+      if (j < task->width - 5) {\n+        y5 = s[2 * j + 11];\n+      }\n+\n+      a0 = u0 << 2 | (y0 << 12) | (v0 << 22);\n+      a1 = y1 << 2 | (u2 << 12) | (y2 << 22);\n+      a2 = v2 << 2 | (y3 << 12) | (u4 << 22);\n+      a3 = y4 << 2 | (v4 << 12) | (y5 << 22);\n+\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 0, a0);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 4, a1);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 8, a2);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 12, a3);\n+    }\n+  }\n+}\n+\n+static void\n+convert_UYVY_v210 (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  guint8 *s, *d;\n+  FConvertPlaneTask *tasks;\n+  FConvertPlaneTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+  gint i;\n+\n+  s = FRAME_GET_LINE (src, convert->in_y);\n+  s += (GST_ROUND_UP_2 (convert->in_x) * 2);\n+  d = FRAME_GET_LINE (dest, convert->out_y);\n+  d += (GST_ROUND_UP_2 (convert->out_x) * 2);\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = (height + n_threads - 1) \/ n_threads;\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].dstride = FRAME_GET_STRIDE (dest);\n+    tasks[i].sstride = FRAME_GET_STRIDE (src);\n+    tasks[i].d = d + i * lines_per_thread * tasks[i].dstride;\n+    tasks[i].s = s + i * lines_per_thread * tasks[i].sstride;\n+\n+    tasks[i].width = width;\n+    tasks[i].height = (i + 1) * lines_per_thread;\n+    tasks[i].height = MIN (tasks[i].height, height);\n+    tasks[i].height -= i * lines_per_thread;\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_UYVY_v210_task, (gpointer) tasks_p);\n+\n+  convert_fill_border (convert, dest);\n+}\n+\n@@ -4233,2 +4725,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4344,2 +4838,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4455,2 +4951,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4512,2 +5010,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4575,2 +5075,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4629,2 +5131,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4696,2 +5200,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4754,2 +5260,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4806,2 +5314,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4864,2 +5374,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4925,2 +5437,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -4986,2 +5500,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5048,2 +5564,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5113,2 +5631,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5143,0 +5663,117 @@\n+static void\n+convert_Y42B_v210_task (FConvertPlaneTask * task)\n+{\n+  gint i, j;\n+  guint8 *d;\n+  const guint8 *s_y, *s_u, *s_v;\n+  guint32 a0, a1, a2, a3;\n+  guint8 y0, y1, y2, y3, y4, y5;\n+  guint8 u0, u2, u4;\n+  guint8 v0, v2, v4;\n+\n+  for (i = 0; i < task->height; i++) {\n+    d = task->d + i * task->dstride;\n+    s_y = task->s + i * task->sstride;\n+    s_u = task->su + i * task->sustride;\n+    s_v = task->sv + i * task->svstride;\n+\n+    for (j = 0; j < task->width; j += 6) {\n+      y1 = y2 = y3 = y4 = y5 = 0;\n+      u2 = u4 = v2 = v4 = 0;\n+\n+      y0 = s_y[j];\n+      u0 = s_u[j \/ 2];\n+      v0 = s_v[j \/ 2];\n+\n+      if (j < task->width - 1) {\n+        y1 = s_y[j + 1];\n+      }\n+\n+      if (j < task->width - 2) {\n+        y2 = s_y[j + 2];\n+        u2 = s_u[j \/ 2 + 1];\n+        v2 = s_v[j \/ 2 + 1];\n+      }\n+\n+      if (j < task->width - 3) {\n+        y3 = s_y[j + 3];\n+      }\n+\n+      if (j < task->width - 4) {\n+        y4 = s_y[j + 4];\n+        u4 = s_u[j \/ 2 + 2];\n+        v4 = s_v[j \/ 2 + 2];\n+      }\n+\n+      if (j < task->width - 5) {\n+        y5 = s_y[j + 5];\n+      }\n+\n+      a0 = u0 << 2 | (y0 << 12) | (v0 << 22);\n+      a1 = y1 << 2 | (u2 << 12) | (y2 << 22);\n+      a2 = v2 << 2 | (y3 << 12) | (u4 << 22);\n+      a3 = y4 << 2 | (v4 << 12) | (y5 << 22);\n+\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 0, a0);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 4, a1);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 8, a2);\n+      GST_WRITE_UINT32_LE (d + (j \/ 6) * 16 + 12, a3);\n+    }\n+  }\n+}\n+\n+static void\n+convert_Y42B_v210 (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  guint8 *d, *sy, *su, *sv;\n+  FConvertPlaneTask *tasks;\n+  FConvertPlaneTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+  gint i;\n+\n+  d = FRAME_GET_LINE (dest, convert->out_y);\n+  d += (GST_ROUND_UP_2 (convert->out_x) * 2);\n+\n+  sy = FRAME_GET_Y_LINE (src, convert->in_y);\n+  sy += convert->in_x;\n+  su = FRAME_GET_U_LINE (src, convert->in_y);\n+  su += convert->in_x >> 1;\n+  sv = FRAME_GET_V_LINE (src, convert->in_y);\n+  sv += convert->in_x >> 1;\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = (height + n_threads - 1) \/ n_threads;\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].dstride = FRAME_GET_STRIDE (dest);\n+    tasks[i].sstride = FRAME_GET_Y_STRIDE (src);\n+    tasks[i].sustride = FRAME_GET_U_STRIDE (src);\n+    tasks[i].svstride = FRAME_GET_V_STRIDE (src);\n+    tasks[i].d = d + i * lines_per_thread * tasks[i].dstride;\n+    tasks[i].s = sy + i * lines_per_thread * tasks[i].sstride;\n+    tasks[i].su = su + i * lines_per_thread * tasks[i].sustride;\n+    tasks[i].sv = sv + i * lines_per_thread * tasks[i].svstride;\n+\n+    tasks[i].width = width;\n+    tasks[i].height = (i + 1) * lines_per_thread;\n+    tasks[i].height = MIN (tasks[i].height, height);\n+    tasks[i].height -= i * lines_per_thread;\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_Y42B_v210_task, (gpointer) tasks_p);\n+\n+  convert_fill_border (convert, dest);\n+}\n+\n@@ -5176,2 +5813,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5238,2 +5877,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5302,2 +5943,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5362,2 +6005,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5417,2 +6062,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5472,2 +6119,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5527,2 +6176,4 @@\n-  tasks = g_newa (FConvertPlaneTask, n_threads);\n-  tasks_p = g_newa (FConvertPlaneTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertPlaneTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertPlaneTask *, convert->tasks_p[0], n_threads);\n@@ -5599,2 +6250,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -5673,2 +6326,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -5757,2 +6412,4 @@\n-  tasks = g_newa (FConvertTask, n_threads);\n-  tasks_p = g_newa (FConvertTask *, n_threads);\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n@@ -5788,0 +6445,169 @@\n+static void\n+convert_A420_pack_ARGB_task (FConvertTask * task)\n+{\n+  gint i;\n+  gpointer d[GST_VIDEO_MAX_PLANES];\n+\n+  d[0] = FRAME_GET_LINE (task->dest, 0);\n+  d[0] =\n+      (guint8 *) d[0] +\n+      task->out_x * GST_VIDEO_FORMAT_INFO_PSTRIDE (task->dest->info.finfo, 0);\n+\n+  for (i = task->height_0; i < task->height_1; i++) {\n+    guint8 *sy, *su, *sv, *sa;\n+\n+    sy = FRAME_GET_Y_LINE (task->src, i + task->in_y);\n+    sy += task->in_x;\n+    su = FRAME_GET_U_LINE (task->src, (i + task->in_y) >> 1);\n+    su += (task->in_x >> 1);\n+    sv = FRAME_GET_V_LINE (task->src, (i + task->in_y) >> 1);\n+    sv += (task->in_x >> 1);\n+    sa = FRAME_GET_A_LINE (task->src, i + task->in_y);\n+    sa += task->in_x;\n+\n+#if G_BYTE_ORDER == G_LITTLE_ENDIAN\n+    video_orc_convert_A420_ARGB (task->tmpline, sy, su, sv, sa,\n+        task->data->im[0][0], task->data->im[0][2],\n+        task->data->im[2][1], task->data->im[1][1], task->data->im[1][2],\n+        task->width);\n+#else\n+    video_orc_convert_A420_BGRA (task->tmpline, sy, su, sv, sa,\n+        task->data->im[0][0], task->data->im[0][2],\n+        task->data->im[2][1], task->data->im[1][1], task->data->im[1][2],\n+        task->width);\n+#endif\n+\n+    task->dest->info.finfo->pack_func (task->dest->info.finfo,\n+        (GST_VIDEO_FRAME_IS_INTERLACED (task->dest) ?\n+            GST_VIDEO_PACK_FLAG_INTERLACED :\n+            GST_VIDEO_PACK_FLAG_NONE),\n+        task->tmpline, 0, d, task->dest->info.stride,\n+        task->dest->info.chroma_site, i + task->out_y, task->width);\n+  }\n+}\n+\n+static void\n+convert_A420_pack_ARGB (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  int i;\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  MatrixData *data = &convert->convert_matrix;\n+  FConvertTask *tasks;\n+  FConvertTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = (height + n_threads - 1) \/ n_threads;\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].src = src;\n+    tasks[i].dest = dest;\n+\n+    tasks[i].width = width;\n+    tasks[i].data = data;\n+    tasks[i].in_x = convert->in_x;\n+    tasks[i].in_y = convert->in_y;\n+    tasks[i].out_x = convert->out_x;\n+    tasks[i].out_y = convert->out_y;\n+    tasks[i].tmpline = convert->tmpline[i];\n+\n+    tasks[i].height_0 = i * lines_per_thread;\n+    tasks[i].height_1 = tasks[i].height_0 + lines_per_thread;\n+    tasks[i].height_1 = MIN (height, tasks[i].height_1);\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_A420_pack_ARGB_task,\n+      (gpointer) tasks_p);\n+\n+  convert_fill_border (convert, dest);\n+}\n+\n+static void\n+convert_A420_BGRA_task (FConvertTask * task)\n+{\n+  gint i;\n+\n+  for (i = task->height_0; i < task->height_1; i++) {\n+    guint8 *sy, *su, *sv, *sa, *d;\n+\n+    d = FRAME_GET_LINE (task->dest, i + task->out_y);\n+    d += (task->out_x * 4);\n+    sy = FRAME_GET_Y_LINE (task->src, i + task->in_y);\n+    sy += task->in_x;\n+    su = FRAME_GET_U_LINE (task->src, (i + task->in_y) >> 1);\n+    su += (task->in_x >> 1);\n+    sv = FRAME_GET_V_LINE (task->src, (i + task->in_y) >> 1);\n+    sv += (task->in_x >> 1);\n+    sa = FRAME_GET_A_LINE (task->src, i + task->in_y);\n+    sa += task->in_x;\n+\n+#if G_BYTE_ORDER == G_LITTLE_ENDIAN\n+    video_orc_convert_A420_BGRA (d, sy, su, sv, sa,\n+        task->data->im[0][0], task->data->im[0][2],\n+        task->data->im[2][1], task->data->im[1][1], task->data->im[1][2],\n+        task->width);\n+#else\n+    video_orc_convert_A420_ARGB (d, sy, su, sv, sa,\n+        task->data->im[0][0], task->data->im[0][2],\n+        task->data->im[2][1], task->data->im[1][1], task->data->im[1][2],\n+        task->width);\n+#endif\n+  }\n+}\n+\n+static void\n+convert_A420_BGRA (GstVideoConverter * convert, const GstVideoFrame * src,\n+    GstVideoFrame * dest)\n+{\n+  int i;\n+  gint width = convert->in_width;\n+  gint height = convert->in_height;\n+  MatrixData *data = &convert->convert_matrix;\n+  FConvertTask *tasks;\n+  FConvertTask **tasks_p;\n+  gint n_threads;\n+  gint lines_per_thread;\n+\n+  n_threads = convert->conversion_runner->n_threads;\n+  tasks = convert->tasks[0] =\n+      g_renew (FConvertTask, convert->tasks[0], n_threads);\n+  tasks_p = convert->tasks_p[0] =\n+      g_renew (FConvertTask *, convert->tasks_p[0], n_threads);\n+\n+  lines_per_thread = (height + n_threads - 1) \/ n_threads;\n+\n+  for (i = 0; i < n_threads; i++) {\n+    tasks[i].src = src;\n+    tasks[i].dest = dest;\n+\n+    tasks[i].width = width;\n+    tasks[i].data = data;\n+    tasks[i].in_x = convert->in_x;\n+    tasks[i].in_y = convert->in_y;\n+    tasks[i].out_x = convert->out_x;\n+    tasks[i].out_y = convert->out_y;\n+\n+    tasks[i].height_0 = i * lines_per_thread;\n+    tasks[i].height_1 = tasks[i].height_0 + lines_per_thread;\n+    tasks[i].height_1 = MIN (height, tasks[i].height_1);\n+\n+    tasks_p[i] = &tasks[i];\n+  }\n+\n+  gst_parallelized_task_runner_run (convert->conversion_runner,\n+      (GstParallelizedTaskFunc) convert_A420_BGRA_task, (gpointer) tasks_p);\n+\n+  convert_fill_border (convert, dest);\n+}\n+\n@@ -5846,0 +6672,1 @@\n+    gint comp[GST_VIDEO_MAX_COMPONENTS];\n@@ -5851,10 +6678,12 @@\n-    out_x = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, k, convert->out_x);\n-    out_y = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, k, convert->out_y);\n-    out_width =\n-        GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, k, convert->out_width);\n-    out_height =\n-        GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, k, convert->out_height);\n-    out_maxwidth =\n-        GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, k, convert->out_maxwidth);\n-    out_maxheight =\n-        GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, k,\n+    gst_video_format_info_component (out_finfo, k, comp);\n+    out_x = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, comp[0],\n+        convert->out_x);\n+    out_y = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, comp[0],\n+        convert->out_y);\n+    out_width = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, comp[0],\n+        convert->out_width);\n+    out_height = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, comp[0],\n+        convert->out_height);\n+    out_maxwidth = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, comp[0],\n+        convert->out_maxwidth);\n+    out_maxheight = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, comp[0],\n@@ -5863,1 +6692,1 @@\n-    pstride = GST_VIDEO_FORMAT_INFO_PSTRIDE (out_finfo, k);\n+    pstride = GST_VIDEO_FORMAT_INFO_PSTRIDE (out_finfo, comp[0]);\n@@ -5964,2 +6793,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6010,2 +6841,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6059,2 +6892,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6110,2 +6945,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6167,2 +7004,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6220,2 +7059,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6276,2 +7117,4 @@\n-  tasks = g_newa (FSimpleScaleTask, n_threads);\n-  tasks_p = g_newa (FSimpleScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FSimpleScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FSimpleScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6348,2 +7191,4 @@\n-  tasks = g_newa (FScaleTask, n_threads);\n-  tasks_p = g_newa (FScaleTask *, n_threads);\n+  tasks = convert->tasks[plane] =\n+      g_renew (FScaleTask, convert->tasks[plane], n_threads);\n+  tasks_p = convert->tasks_p[plane] =\n+      g_renew (FScaleTask *, convert->tasks_p[plane], n_threads);\n@@ -6411,0 +7256,2 @@\n+    case GST_VIDEO_FORMAT_RGBP:\n+    case GST_VIDEO_FORMAT_BGRP:\n@@ -6436,0 +7283,8 @@\n+    case GST_VIDEO_FORMAT_ARGB64_LE:\n+    case GST_VIDEO_FORMAT_ARGB64_BE:\n+    case GST_VIDEO_FORMAT_RGBA64_BE:\n+    case GST_VIDEO_FORMAT_RGBA64_LE:\n+    case GST_VIDEO_FORMAT_BGRA64_BE:\n+    case GST_VIDEO_FORMAT_BGRA64_LE:\n+    case GST_VIDEO_FORMAT_ABGR64_BE:\n+    case GST_VIDEO_FORMAT_ABGR64_LE:\n@@ -6452,0 +7307,4 @@\n+    case GST_VIDEO_FORMAT_AV12:\n+      res = (plane == 0\n+          || plane == 2) ? GST_VIDEO_FORMAT_GRAY8 : GST_VIDEO_FORMAT_NV12;\n+      break;\n@@ -6550,1 +7409,3 @@\n-  interlaced = GST_VIDEO_INFO_IS_INTERLACED (&convert->in_info);\n+  interlaced = GST_VIDEO_INFO_IS_INTERLACED (&convert->in_info)\n+      && GST_VIDEO_INFO_INTERLACE_MODE (&convert->in_info) !=\n+      GST_VIDEO_INTERLACE_MODE_ALTERNATE;\n@@ -6664,1 +7525,2 @@\n-      gint comp, n_comp, j, iw, ih, ow, oh, pstride;\n+      gint out_comp[GST_VIDEO_MAX_COMPONENTS];\n+      gint comp, j, iw, ih, ow, oh, pstride;\n@@ -6669,1 +7531,6 @@\n-      n_comp = GST_VIDEO_FORMAT_INFO_N_COMPONENTS (in_finfo);\n+      gst_video_format_info_component (out_finfo, i, out_comp);\n+      ow = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, out_comp[0],\n+          out_width);\n+      oh = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, out_comp[0],\n+          out_height);\n+      pstride = GST_VIDEO_FORMAT_INFO_PSTRIDE (out_finfo, out_comp[0]);\n@@ -6673,6 +7540,16 @@\n-      comp = -1;\n-      for (j = 0; j < n_comp; j++) {\n-        if (GST_VIDEO_FORMAT_INFO_PLANE (out_finfo, j) == i) {\n-          comp = j;\n-          break;\n-        }\n+      if (out_comp[0] < GST_VIDEO_FORMAT_INFO_N_COMPONENTS (in_finfo)) {\n+        comp = out_comp[0];\n+        iw = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (in_finfo, comp, in_width);\n+        ih = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (in_finfo, comp, in_height);\n+        convert->fin_x[i] = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (in_finfo, comp,\n+            convert->in_x);\n+        convert->fin_x[i] *= pstride;\n+        convert->fin_y[i] = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (in_finfo, comp,\n+            convert->in_y);\n+      } else {\n+        \/* we will use a fill instead, setting the parameters to an invalid\n+         * size to reduce confusion *\/\n+        comp = -1;\n+        iw = ih = -1;\n+        convert->fin_x[i] = -1;\n+        convert->fin_y[i] = -1;\n@@ -6681,7 +7558,0 @@\n-      iw = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (in_finfo, i, in_width);\n-      ih = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (in_finfo, i, in_height);\n-      ow = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, i, out_width);\n-      oh = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, i, out_height);\n-\n-      GST_DEBUG (\"plane %d: %dx%d -> %dx%d\", i, iw, ih, ow, oh);\n-\n@@ -6691,8 +7561,2 @@\n-      pstride = GST_VIDEO_FORMAT_INFO_PSTRIDE (out_finfo, i);\n-      convert->fin_x[i] =\n-          GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (in_finfo, i, convert->in_x);\n-      convert->fin_x[i] *= pstride;\n-      convert->fin_y[i] =\n-          GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (in_finfo, i, convert->in_y);\n-      convert->fout_x[i] =\n-          GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo, i, convert->out_x);\n+      convert->fout_x[i] = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (out_finfo,\n+          out_comp[0], convert->out_x);\n@@ -6700,2 +7564,2 @@\n-      convert->fout_y[i] =\n-          GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo, i, convert->out_y);\n+      convert->fout_y[i] = GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (out_finfo,\n+          out_comp[0], convert->out_y);\n@@ -6703,0 +7567,1 @@\n+      GST_DEBUG (\"plane %d: %dx%d -> %dx%d\", i, iw, ih, ow, oh);\n@@ -6846,0 +7711,2 @@\n+  {GST_VIDEO_FORMAT_I420, GST_VIDEO_FORMAT_v210, TRUE, FALSE, TRUE, FALSE,\n+      FALSE, FALSE, FALSE, FALSE, 0, 0, convert_I420_v210},\n@@ -6853,0 +7720,2 @@\n+  {GST_VIDEO_FORMAT_YV12, GST_VIDEO_FORMAT_v210, TRUE, FALSE, TRUE, FALSE,\n+      FALSE, FALSE, FALSE, FALSE, 0, 0, convert_I420_v210},\n@@ -6860,0 +7729,2 @@\n+  {GST_VIDEO_FORMAT_Y42B, GST_VIDEO_FORMAT_v210, TRUE, FALSE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_Y42B_v210},\n@@ -6875,0 +7746,2 @@\n+  {GST_VIDEO_FORMAT_YUY2, GST_VIDEO_FORMAT_v210, TRUE, FALSE, TRUE, FALSE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_YUY2_v210},\n@@ -6882,0 +7755,2 @@\n+  {GST_VIDEO_FORMAT_UYVY, GST_VIDEO_FORMAT_v210, TRUE, FALSE, TRUE, FALSE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_UYVY_v210},\n@@ -7211,0 +8086,22 @@\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_ABGR, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, TRUE, FALSE, FALSE, 0, 0, convert_A420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_RGBA, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, TRUE, FALSE, FALSE, 0, 0, convert_A420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_BGRA, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, TRUE, FALSE, FALSE, 0, 0, convert_A420_BGRA},\n+  \/* A420 to non-alpha RGB formats, reuse I420_* method *\/\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_BGRx, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_BGRA},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_xBGR, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_RGBx, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_RGB, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_BGR, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_RGB15, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+  {GST_VIDEO_FORMAT_A420, GST_VIDEO_FORMAT_BGR16, FALSE, TRUE, TRUE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_I420_pack_ARGB},\n+\n@@ -7216,0 +8113,4 @@\n+  {GST_VIDEO_FORMAT_RGBP, GST_VIDEO_FORMAT_RGBP, TRUE, FALSE, FALSE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_scale_planes},\n+  {GST_VIDEO_FORMAT_BGRP, GST_VIDEO_FORMAT_BGRP, TRUE, FALSE, FALSE, TRUE,\n+      TRUE, FALSE, FALSE, FALSE, 0, 0, convert_scale_planes},\n@@ -7278,1 +8179,1 @@\n-  height = GST_VIDEO_INFO_HEIGHT (&convert->in_info);\n+  height = GST_VIDEO_INFO_FIELD_HEIGHT (&convert->in_info);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-converter.c","additions":1207,"deletions":306,"binary":false,"changes":1513,"status":"modified"},{"patch":"@@ -276,0 +276,12 @@\n+\/**\n+ * GST_VIDEO_CONVERTER_OPT_ASYNC_TASKS:\n+ *\n+ * #G_TYPE_BOOLEAN, whether gst_video_converter_frame() will return immediately\n+ * without waiting for the conversion to complete.  A subsequent\n+ * gst_video_converter_frame_finish() must be performed to ensure completion of the\n+ * conversion before subsequent use.  Default %FALSE\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_VIDEO_CONVERTER_OPT_ASYNC_TASKS   \"GstVideoConverter.async-tasks\"\n+\n@@ -279,2 +291,2 @@\n-GstVideoConverter *  gst_video_converter_new            (GstVideoInfo *in_info,\n-                                                         GstVideoInfo *out_info,\n+GstVideoConverter *  gst_video_converter_new            (const GstVideoInfo *in_info,\n+                                                         const GstVideoInfo *out_info,\n@@ -283,0 +295,6 @@\n+GST_VIDEO_API\n+GstVideoConverter * gst_video_converter_new_with_pool   (const GstVideoInfo * in_info,\n+                                                         const GstVideoInfo * out_info,\n+                                                         GstStructure * config,\n+                                                         GstTaskPool  * pool);\n+\n@@ -295,1 +313,2 @@\n-\n+GST_VIDEO_API\n+void                 gst_video_converter_frame_finish   (GstVideoConverter * convert);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-converter.h","additions":22,"deletions":3,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -575,2 +575,2 @@\n-  \/* FIXME *\/\n-  s += x * 2;\n+  if (x != 0)\n+    GST_FIXME (\"Horizontal offsets are not supported for v210\");\n@@ -668,20 +668,3 @@\n-  for (i = 0; i < width - 5; i += 6) {\n-    y0 = s[4 * (i + 0) + 1] >> 6;\n-    y1 = s[4 * (i + 1) + 1] >> 6;\n-    y2 = s[4 * (i + 2) + 1] >> 6;\n-    y3 = s[4 * (i + 3) + 1] >> 6;\n-    y4 = s[4 * (i + 4) + 1] >> 6;\n-    y5 = s[4 * (i + 5) + 1] >> 6;\n-\n-    u0 = s[4 * (i + 0) + 2] >> 6;\n-    u1 = s[4 * (i + 2) + 2] >> 6;\n-    u2 = s[4 * (i + 4) + 2] >> 6;\n-\n-    v0 = s[4 * (i + 0) + 3] >> 6;\n-    v1 = s[4 * (i + 2) + 3] >> 6;\n-    v2 = s[4 * (i + 4) + 3] >> 6;\n-\n-    a0 = u0 | (y0 << 10) | (v0 << 20);\n-    a1 = y1 | (u1 << 10) | (y2 << 20);\n-    a2 = v1 | (y3 << 10) | (u2 << 20);\n-    a3 = y4 | (v2 << 10) | (y5 << 20);\n+  for (i = 0; i < width; i += 6) {\n+    y1 = y2 = y3 = y4 = y5 = 0;\n+    u1 = u2 = v1 = v2 = 0;\n@@ -689,6 +672,0 @@\n-    GST_WRITE_UINT32_LE (d + (i \/ 6) * 16 + 0, a0);\n-    GST_WRITE_UINT32_LE (d + (i \/ 6) * 16 + 4, a1);\n-    GST_WRITE_UINT32_LE (d + (i \/ 6) * 16 + 8, a2);\n-    GST_WRITE_UINT32_LE (d + (i \/ 6) * 16 + 12, a3);\n-  }\n-  if (i < width) {\n@@ -698,1 +675,2 @@\n-    if (i < width - 1)\n+\n+    if (i < width - 1) {\n@@ -700,2 +678,1 @@\n-    else\n-      y1 = y0;\n+    }\n@@ -706,4 +683,0 @@\n-    } else {\n-      y2 = y1;\n-      u1 = u0;\n-      v1 = v0;\n@@ -711,1 +684,1 @@\n-    if (i < width - 3)\n+    if (i < width - 3) {\n@@ -713,2 +686,1 @@\n-    else\n-      y3 = y2;\n+    }\n@@ -719,4 +691,0 @@\n-    } else {\n-      y4 = y3;\n-      u2 = u1;\n-      v2 = v1;\n@@ -724,1 +692,3 @@\n-    y5 = y4;\n+    if (i < width - 5) {\n+      y5 = s[4 * (i + 5) + 1] >> 6;\n+    }\n@@ -1760,0 +1730,92 @@\n+#define PACK_AV12 GST_VIDEO_FORMAT_AYUV, unpack_AV12, 1, pack_AV12\n+static void\n+unpack_AV12 (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  gint uv = GET_UV_420 (y, flags);\n+  const guint8 *restrict sy = GET_PLANE_LINE (0, y);\n+  const guint8 *restrict suv = GET_PLANE_LINE (1, uv);\n+  const guint8 *restrict sa = GET_PLANE_LINE (2, y);    \/* a is for 'alpha' *\/\n+  guint8 *restrict d = dest;\n+\n+  sy += x;\n+  sa += x;\n+  suv += (x & ~1);\n+\n+  if (x & 1) {\n+    d[0] = *sa++;\n+    d[1] = *sy++;\n+    d[2] = suv[0];\n+    d[3] = suv[1];\n+    width--;\n+    d += 4;\n+    suv += 2;\n+  }\n+\n+  if (IS_ALIGNED (d, 8)) {\n+    video_orc_unpack_AV12 (d, sy, suv, sa, width \/ 2);\n+  } else {\n+    gint i;\n+    for (i = 0; i < width \/ 2; i++) {\n+      d[i * 8 + 0] = sa[i * 2 + 0];\n+      d[i * 8 + 1] = sy[i * 2 + 0];\n+      d[i * 8 + 2] = suv[i * 2 + 0];\n+      d[i * 8 + 3] = suv[i * 2 + 1];\n+      d[i * 8 + 4] = sa[i * 2 + 1];\n+      d[i * 8 + 5] = sy[i * 2 + 1];\n+      d[i * 8 + 6] = suv[i * 2 + 0];\n+      d[i * 8 + 7] = suv[i * 2 + 1];\n+    }\n+  }\n+\n+  if (width & 1) {\n+    gint i = width - 1;\n+\n+    d[i * 4 + 0] = sa[i];\n+    d[i * 4 + 1] = sy[i];\n+    d[i * 4 + 2] = suv[i + 0];\n+    d[i * 4 + 3] = suv[i + 1];\n+  }\n+}\n+\n+static void\n+pack_AV12 (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  gint uv = GET_UV_420 (y, flags);\n+  guint8 *restrict dy = GET_PLANE_LINE (0, y);\n+  guint8 *restrict duv = GET_PLANE_LINE (1, uv);\n+  guint8 *restrict da = GET_PLANE_LINE (2, y);  \/* a is for 'alpha' *\/\n+  const guint8 *restrict s = src;\n+\n+  if (IS_CHROMA_LINE_420 (y, flags)) {\n+    if (IS_ALIGNED (s, 8)) {\n+      video_orc_pack_AV12 (dy, duv, da, s, width \/ 2);\n+    } else {\n+      gint i;\n+      for (i = 0; i < width \/ 2; i++) {\n+        \/* AYUV_AYUV: alpha is on bytes 0 and 4 *\/\n+        da[i * 2 + 0] = s[i * 8 + 0];\n+        da[i * 2 + 1] = s[i * 8 + 4];\n+        dy[i * 2 + 0] = s[i * 8 + 1];\n+        dy[i * 2 + 1] = s[i * 8 + 5];\n+        duv[i * 2 + 0] = s[i * 8 + 2];\n+        duv[i * 2 + 1] = s[i * 8 + 3];\n+      }\n+    }\n+    if (width & 1) {\n+      gint i = width - 1;\n+\n+      da[i] = s[i * 4 + 0];     \/* AYUV: alpha is byte 0 *\/\n+      dy[i] = s[i * 4 + 1];\n+      duv[i + 0] = s[i * 4 + 2];\n+      duv[i + 1] = s[i * 4 + 3];\n+    }\n+  } else {\n+    video_orc_pack_YA (dy, da, s, width);\n+  }\n+}\n+\n@@ -2407,0 +2469,352 @@\n+#if G_BYTE_ORDER == G_LITTLE_ENDIAN\n+#define PACK_ARGB64_LE GST_VIDEO_FORMAT_ARGB64, unpack_copy8, 1, pack_copy8\n+#define PACK_ARGB64_BE GST_VIDEO_FORMAT_ARGB64, unpack_ARGB64_swap, 1, pack_ARGB64_swap\n+#else\n+#define PACK_ARGB64_LE GST_VIDEO_FORMAT_ARGB64, unpack_ARGB64_swap, 1, pack_ARGB64_swap\n+#define PACK_ARGB64_BE GST_VIDEO_FORMAT_ARGB64, unpack_copy8, 1, pack_copy8\n+#endif\n+\n+static void\n+unpack_ARGB64_swap (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    A = GUINT16_SWAP_LE_BE (s[i * 4 + 0]);\n+    R = GUINT16_SWAP_LE_BE (s[i * 4 + 1]);\n+    G = GUINT16_SWAP_LE_BE (s[i * 4 + 2]);\n+    B = GUINT16_SWAP_LE_BE (s[i * 4 + 3]);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_ARGB64_swap (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    d[i * 4 + 0] = GUINT16_SWAP_LE_BE (A);\n+    d[i * 4 + 1] = GUINT16_SWAP_LE_BE (R);\n+    d[i * 4 + 2] = GUINT16_SWAP_LE_BE (G);\n+    d[i * 4 + 3] = GUINT16_SWAP_LE_BE (B);\n+  }\n+}\n+\n+#define PACK_RGBA64_LE GST_VIDEO_FORMAT_ARGB64, unpack_RGBA64_LE, 1, pack_RGBA64_LE\n+static void\n+unpack_RGBA64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    R = GST_READ_UINT16_LE (s + i * 4 + 0);\n+    G = GST_READ_UINT16_LE (s + i * 4 + 1);\n+    B = GST_READ_UINT16_LE (s + i * 4 + 2);\n+    A = GST_READ_UINT16_LE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_RGBA64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_LE (d + i * 4 + 0, R);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 1, G);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 2, B);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 3, A);\n+  }\n+}\n+\n+#define PACK_RGBA64_BE GST_VIDEO_FORMAT_ARGB64, unpack_RGBA64_BE, 1, pack_RGBA64_BE\n+static void\n+unpack_RGBA64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    R = GST_READ_UINT16_BE (s + i * 4 + 0);\n+    G = GST_READ_UINT16_BE (s + i * 4 + 1);\n+    B = GST_READ_UINT16_BE (s + i * 4 + 2);\n+    A = GST_READ_UINT16_BE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_RGBA64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_BE (d + i * 4 + 0, R);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 1, G);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 2, B);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 3, A);\n+  }\n+}\n+\n+#define PACK_BGRA64_LE GST_VIDEO_FORMAT_ARGB64, unpack_BGRA64_LE, 1, pack_BGRA64_LE\n+static void\n+unpack_BGRA64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    B = GST_READ_UINT16_LE (s + i * 4 + 0);\n+    G = GST_READ_UINT16_LE (s + i * 4 + 1);\n+    R = GST_READ_UINT16_LE (s + i * 4 + 2);\n+    A = GST_READ_UINT16_LE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_BGRA64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_LE (d + i * 4 + 0, B);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 1, G);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 2, R);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 3, A);\n+  }\n+}\n+\n+#define PACK_BGRA64_BE GST_VIDEO_FORMAT_ARGB64, unpack_BGRA64_BE, 1, pack_BGRA64_BE\n+static void\n+unpack_BGRA64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    B = GST_READ_UINT16_BE (s + i * 4 + 0);\n+    G = GST_READ_UINT16_BE (s + i * 4 + 1);\n+    R = GST_READ_UINT16_BE (s + i * 4 + 2);\n+    A = GST_READ_UINT16_BE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_BGRA64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_BE (d + i * 4 + 0, B);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 1, G);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 2, R);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 3, A);\n+  }\n+}\n+\n+\n+#define PACK_ABGR64_LE GST_VIDEO_FORMAT_ARGB64, unpack_ABGR64_LE, 1, pack_ABGR64_LE\n+static void\n+unpack_ABGR64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    A = GST_READ_UINT16_LE (s + i * 4 + 0);\n+    B = GST_READ_UINT16_LE (s + i * 4 + 1);\n+    G = GST_READ_UINT16_LE (s + i * 4 + 2);\n+    R = GST_READ_UINT16_LE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_ABGR64_LE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_LE (d + i * 4 + 0, A);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 1, B);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 2, G);\n+    GST_WRITE_UINT16_LE (d + i * 4 + 3, R);\n+  }\n+}\n+\n+#define PACK_ABGR64_BE GST_VIDEO_FORMAT_ARGB64, unpack_ABGR64_BE, 1, pack_ABGR64_BE\n+static void\n+unpack_ABGR64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  int i;\n+  const guint16 *restrict s = GET_LINE (y);\n+  guint16 *restrict d = dest, R, G, B, A;\n+\n+  s += x * 8;\n+\n+  for (i = 0; i < width; i++) {\n+    A = GST_READ_UINT16_BE (s + i * 4 + 0);\n+    B = GST_READ_UINT16_BE (s + i * 4 + 1);\n+    G = GST_READ_UINT16_BE (s + i * 4 + 2);\n+    R = GST_READ_UINT16_BE (s + i * 4 + 3);\n+\n+    d[i * 4 + 0] = A;\n+    d[i * 4 + 1] = R;\n+    d[i * 4 + 2] = G;\n+    d[i * 4 + 3] = B;\n+  }\n+}\n+\n+static void\n+pack_ABGR64_BE (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  int i;\n+  guint16 *restrict d = GET_LINE (y);\n+  guint16 A, R, G, B;\n+  const guint16 *restrict s = src;\n+\n+  for (i = 0; i < width; i++) {\n+    A = s[i * 4 + 0];\n+    R = s[i * 4 + 1];\n+    G = s[i * 4 + 2];\n+    B = s[i * 4 + 3];\n+\n+    GST_WRITE_UINT16_BE (d + i * 4 + 0, A);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 1, B);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 2, G);\n+    GST_WRITE_UINT16_BE (d + i * 4 + 3, R);\n+  }\n+}\n+\n+\n@@ -6286,0 +6700,60 @@\n+#define PACK_RGBP GST_VIDEO_FORMAT_ARGB, unpack_RGBP, 1, pack_RGBP\n+static void\n+unpack_RGBP (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  const guint8 *restrict sr = GET_R_LINE (y);\n+  const guint8 *restrict sg = GET_G_LINE (y);\n+  const guint8 *restrict sb = GET_B_LINE (y);\n+\n+  sr += x;\n+  sg += x;\n+  sb += x;\n+\n+  video_orc_unpack_Y444 (dest, sr, sg, sb, width);\n+}\n+\n+static void\n+pack_RGBP (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  guint8 *restrict dr = GET_R_LINE (y);\n+  guint8 *restrict dg = GET_G_LINE (y);\n+  guint8 *restrict db = GET_B_LINE (y);\n+\n+  video_orc_pack_Y444 (dr, dg, db, src, width);\n+}\n+\n+#define PACK_BGRP GST_VIDEO_FORMAT_ARGB, unpack_BGRP, 1, pack_BGRP\n+static void\n+unpack_BGRP (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    gpointer dest, const gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], gint x, gint y, gint width)\n+{\n+  const guint8 *restrict sr = GET_R_LINE (y);\n+  const guint8 *restrict sg = GET_G_LINE (y);\n+  const guint8 *restrict sb = GET_B_LINE (y);\n+\n+  sr += x;\n+  sg += x;\n+  sb += x;\n+\n+  video_orc_unpack_Y444 (dest, sr, sg, sb, width);\n+}\n+\n+static void\n+pack_BGRP (const GstVideoFormatInfo * info, GstVideoPackFlags flags,\n+    const gpointer src, gint sstride, gpointer data[GST_VIDEO_MAX_PLANES],\n+    const gint stride[GST_VIDEO_MAX_PLANES], GstVideoChromaSite chroma_site,\n+    gint y, gint width)\n+{\n+  guint8 *restrict dr = GET_R_LINE (y);\n+  guint8 *restrict dg = GET_G_LINE (y);\n+  guint8 *restrict db = GET_B_LINE (y);\n+\n+  video_orc_pack_Y444 (dr, dg, db, src, width);\n+}\n+\n@@ -6321,0 +6795,1 @@\n+#define PSTR1221          { 1, 2, 2, 1 }\n@@ -6336,0 +6811,1 @@\n+#define PLANE0112         3, { 0, 1, 1, 2 }\n@@ -6341,0 +6817,1 @@\n+#define PLANE210          3, { 2, 1, 0, 0 }\n@@ -6359,0 +6836,1 @@\n+#define OFFS0246          { 0, 2, 4, 6 }\n@@ -6360,0 +6838,2 @@\n+#define OFFS4206          { 4, 2, 0, 6 }\n+#define OFFS6420          { 6, 4, 2, 0 }\n@@ -6650,0 +7130,22 @@\n+  MAKE_RGB_FORMAT (RGBP, \"raw video\", DPTH888, PSTR111, PLANE012, OFFS0, SUB444,\n+      PACK_RGBP),\n+  MAKE_RGB_FORMAT (BGRP, \"raw video\", DPTH888, PSTR111, PLANE210, OFFS0, SUB444,\n+      PACK_BGRP),\n+  MAKE_YUV_FORMAT (AV12, \"raw video\", GST_MAKE_FOURCC ('A', 'V', '1', '2'),\n+      DPTH8888, PSTR1221, PLANE0112, OFFS001, SUB4204, PACK_AV12),\n+  MAKE_RGBA_LE_FORMAT (ARGB64_LE, \"raw video\", DPTH16_16_16_16, PSTR8888,\n+      PLANE0, OFFS2460, SUB4444, PACK_ARGB64_LE),\n+  MAKE_RGBA_FORMAT (ARGB64_BE, \"raw video\", DPTH16_16_16_16, PSTR8888, PLANE0,\n+      OFFS2460, SUB4444, PACK_ARGB64_BE),\n+  MAKE_RGBA_LE_FORMAT (RGBA64_LE, \"raw video\", DPTH16_16_16_16, PSTR8888,\n+      PLANE0, OFFS0246, SUB4444, PACK_RGBA64_LE),\n+  MAKE_RGBA_FORMAT (RGBA64_BE, \"raw video\", DPTH16_16_16_16, PSTR8888, PLANE0,\n+      OFFS0246, SUB4444, PACK_RGBA64_BE),\n+  MAKE_RGBA_LE_FORMAT (BGRA64_LE, \"raw video\", DPTH16_16_16_16, PSTR8888,\n+      PLANE0, OFFS4206, SUB4444, PACK_BGRA64_LE),\n+  MAKE_RGBA_FORMAT (BGRA64_BE, \"raw video\", DPTH16_16_16_16, PSTR8888, PLANE0,\n+      OFFS4206, SUB4444, PACK_BGRA64_BE),\n+  MAKE_RGBA_LE_FORMAT (ABGR64_LE, \"raw video\", DPTH16_16_16_16, PSTR8888,\n+      PLANE0, OFFS6420, SUB444, PACK_ABGR64_LE),\n+  MAKE_RGBA_FORMAT (ABGR64_BE, \"raw video\", DPTH16_16_16_16, PSTR8888, PLANE0,\n+      OFFS6420, SUB4444, PACK_ABGR64_BE),\n@@ -7063,0 +7565,1 @@\n+  gboolean res G_GNUC_UNUSED;\n@@ -7069,1 +7572,2 @@\n-  g_assert (gst_value_deserialize (&list, tmp));\n+  res = gst_value_deserialize (&list, tmp);\n+  g_assert (res);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-format.c","additions":548,"deletions":44,"binary":false,"changes":592,"status":"modified"},{"patch":"@@ -78,2 +78,2 @@\n- * @GST_VIDEO_FORMAT_ARGB64: rgb with alpha channel first, 16 bits per channel\n- * @GST_VIDEO_FORMAT_AYUV64: packed 4:4:4 YUV with alpha channel, 16 bits per channel (A0-Y0-U0-V0 ...)\n+ * @GST_VIDEO_FORMAT_ARGB64: rgb with alpha channel first, 16 bits (native endianness) per channel\n+ * @GST_VIDEO_FORMAT_AYUV64: packed 4:4:4 YUV with alpha channel, 16 bits (native endianness) per channel (A0-Y0-U0-V0 ...)\n@@ -134,0 +134,11 @@\n+ * @GST_VIDEO_FORMAT_RGBP: planar 4:4:4 RGB, 8 bits per channel (Since: 1.20)\n+ * @GST_VIDEO_FORMAT_BGRP: planar 4:4:4 RGB, 8 bits per channel (Since: 1.20)\n+ * @GST_VIDEO_FORMAT_AV12: Planar 4:2:0 YUV with interleaved UV plane with alpha as 3rd plane (Since: 1.20)\n+ * @GST_VIDEO_FORMAT_ARGB64_LE: RGB with alpha channel first, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_ARGB64_BE: RGB with alpha channel first, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_RGBA64_LE: RGB with alpha channel last, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_RGBA64_BE: RGB with alpha channel last, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_BGRA64_LE: reverse RGB with alpha channel last, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_BGRA64_BE: reverse RGB with alpha channel last, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_ABGR64_LE: reverse RGB with alpha channel first, 16 bits per channel\n+ * @GST_VIDEO_FORMAT_ABGR64_BE: reverse RGB with alpha channel first, 16 bits per channel\n@@ -255,0 +266,107 @@\n+  \/**\n+   * GST_VIDEO_FORMAT_RGBP:\n+   *\n+   * Planar 4:4:4 RGB, R-G-B order\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_RGBP,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_BGRP:\n+   *\n+   * Planar 4:4:4 RGB, B-G-R order\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_BGRP,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_AV12:\n+   *\n+   * Planar 4:2:0 YUV with interleaved UV plane with alpha as\n+   * 3rd plane.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_AV12,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_ARGB64_LE:\n+   *\n+   * RGB with alpha channel first, 16 bits (little endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_ARGB64_LE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_ARGB64_BE:\n+   *\n+   * RGB with alpha channel first, 16 bits (big endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_ARGB64_BE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_RGBA64_LE:\n+   *\n+   * RGB with alpha channel last, 16 bits (little endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_RGBA64_LE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_RGBA64_BE:\n+   *\n+   * RGB with alpha channel last, 16 bits (big endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_RGBA64_BE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_BGRA64_LE:\n+   *\n+   * Reverse RGB with alpha channel last, 16 bits (little endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_BGRA64_LE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_BGRA64_BE:\n+   *\n+   * Reverse RGB with alpha channel last, 16 bits (big endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_BGRA64_BE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_ABGR64_LE:\n+   *\n+   * Reverse RGB with alpha channel first, 16 bits (little endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_ABGR64_LE,\n+\n+  \/**\n+   * GST_VIDEO_FORMAT_ABGR64_BE:\n+   *\n+   * Reverse RGB with alpha channel first, 16 bits (big endian)\n+   * per channel.\n+   *\n+   * Since: 1.20\n+   *\/\n+  GST_VIDEO_FORMAT_ABGR64_BE,\n@@ -479,8 +597,8 @@\n-#define GST_VIDEO_FORMAT_INFO_IS_YUV(info)       ((info)->flags & GST_VIDEO_FORMAT_FLAG_YUV)\n-#define GST_VIDEO_FORMAT_INFO_IS_RGB(info)       ((info)->flags & GST_VIDEO_FORMAT_FLAG_RGB)\n-#define GST_VIDEO_FORMAT_INFO_IS_GRAY(info)      ((info)->flags & GST_VIDEO_FORMAT_FLAG_GRAY)\n-#define GST_VIDEO_FORMAT_INFO_HAS_ALPHA(info)    ((info)->flags & GST_VIDEO_FORMAT_FLAG_ALPHA)\n-#define GST_VIDEO_FORMAT_INFO_IS_LE(info)        ((info)->flags & GST_VIDEO_FORMAT_FLAG_LE)\n-#define GST_VIDEO_FORMAT_INFO_HAS_PALETTE(info)  ((info)->flags & GST_VIDEO_FORMAT_FLAG_PALETTE)\n-#define GST_VIDEO_FORMAT_INFO_IS_COMPLEX(info)   ((info)->flags & GST_VIDEO_FORMAT_FLAG_COMPLEX)\n-#define GST_VIDEO_FORMAT_INFO_IS_TILED(info)     ((info)->flags & GST_VIDEO_FORMAT_FLAG_TILED)\n+#define GST_VIDEO_FORMAT_INFO_IS_YUV(info)       (((info)->flags & GST_VIDEO_FORMAT_FLAG_YUV) != 0)\n+#define GST_VIDEO_FORMAT_INFO_IS_RGB(info)       (((info)->flags & GST_VIDEO_FORMAT_FLAG_RGB) != 0)\n+#define GST_VIDEO_FORMAT_INFO_IS_GRAY(info)      (((info)->flags & GST_VIDEO_FORMAT_FLAG_GRAY) != 0)\n+#define GST_VIDEO_FORMAT_INFO_HAS_ALPHA(info)    (((info)->flags & GST_VIDEO_FORMAT_FLAG_ALPHA) != 0)\n+#define GST_VIDEO_FORMAT_INFO_IS_LE(info)        (((info)->flags & GST_VIDEO_FORMAT_FLAG_LE) != 0)\n+#define GST_VIDEO_FORMAT_INFO_HAS_PALETTE(info)  (((info)->flags & GST_VIDEO_FORMAT_FLAG_PALETTE) != 0)\n+#define GST_VIDEO_FORMAT_INFO_IS_COMPLEX(info)   (((info)->flags & GST_VIDEO_FORMAT_FLAG_COMPLEX) != 0)\n+#define GST_VIDEO_FORMAT_INFO_IS_TILED(info)     (((info)->flags & GST_VIDEO_FORMAT_FLAG_TILED) != 0)\n@@ -620,1 +738,2 @@\n-#define GST_VIDEO_FORMATS_ALL \"{ AYUV64, ARGB64, GBRA_12BE, GBRA_12LE, Y412_BE, \" \\\n+#define GST_VIDEO_FORMATS_ALL \"{ ABGR64_BE, BGRA64_BE, AYUV64, ARGB64_BE, ARGB64, \" \\\n+    \"RGBA64_BE, ABGR64_LE, BGRA64_LE, ARGB64_LE, RGBA64_LE, GBRA_12BE, GBRA_12LE, Y412_BE, \" \\\n@@ -623,1 +742,1 @@\n-    \"AYUV, ARGB, RGBA, A420, Y444_16BE, Y444_16LE, v216, P016_BE, P016_LE, Y444_12BE, \" \\\n+    \"AYUV, ARGB, RGBA, A420, AV12, Y444_16BE, Y444_16LE, v216, P016_BE, P016_LE, Y444_12BE, \" \\\n@@ -627,1 +746,1 @@\n-    \"P010_10BE, P010_10LE, NV12_10LE32, NV12_10LE40, Y444, GBR, NV24, xBGR, BGRx, \" \\\n+    \"P010_10BE, P010_10LE, NV12_10LE32, NV12_10LE40, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n@@ -632,1 +751,2 @@\n-#define GST_VIDEO_FORMATS_ALL \"{ AYUV64, ARGB64, GBRA_12LE, GBRA_12BE, Y412_LE, \" \\\n+#define GST_VIDEO_FORMATS_ALL \"{ ABGR64_LE, BGRA64_LE, AYUV64, ARGB64_LE, ARGB64, \" \\\n+    \"RGBA64_LE, ABGR64_BE, BGRA64_BE, ARGB64_BE, RGBA64_BE, GBRA_12LE, GBRA_12BE, Y412_LE, \" \\\n@@ -635,1 +755,1 @@\n-    \"AYUV, ARGB, RGBA, A420, Y444_16LE, Y444_16BE, v216, P016_LE, P016_BE, Y444_12LE, \" \\\n+    \"AYUV, ARGB, RGBA, A420, AV12, Y444_16LE, Y444_16BE, v216, P016_LE, P016_BE, Y444_12LE, \" \\\n@@ -639,1 +759,1 @@\n-    \"P010_10LE, NV12_10LE32, NV12_10LE40, P010_10BE, Y444, GBR, NV24, xBGR, BGRx, \" \\\n+    \"P010_10LE, NV12_10LE32, NV12_10LE40, P010_10BE, Y444, RGBP, GBR, BGRP, NV24, xBGR, BGRx, \" \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-format.h","additions":136,"deletions":16,"binary":false,"changes":152,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n- * @frame: pointer to #GstVideoFrame\n+ * @frame: (out caller-allocates): pointer to #GstVideoFrame\n@@ -70,1 +70,1 @@\n-gst_video_frame_map_id (GstVideoFrame * frame, GstVideoInfo * info,\n+gst_video_frame_map_id (GstVideoFrame * frame, const GstVideoInfo * info,\n@@ -191,1 +191,1 @@\n- * @frame: pointer to #GstVideoFrame\n+ * @frame: (out caller-allocates): pointer to #GstVideoFrame\n@@ -209,1 +209,1 @@\n- *   if (gst_video_frame_map (&amp;vframe, video_info, video_buffer, GST_MAP_WRITE)) {\n+ *   if (gst_video_frame_map (&vframe, video_info, video_buffer, GST_MAP_WRITE)) {\n@@ -222,1 +222,1 @@\n- *     gst_video_frame_unmap (&amp;vframe);\n+ *     gst_video_frame_unmap (&vframe);\n@@ -243,1 +243,1 @@\n-gst_video_frame_map (GstVideoFrame * frame, GstVideoInfo * info,\n+gst_video_frame_map (GstVideoFrame * frame, const GstVideoInfo * info,\n@@ -301,0 +301,1 @@\n+  gint comp[GST_VIDEO_MAX_COMPONENTS];\n@@ -328,2 +329,1 @@\n-  \/* FIXME: assumes subsampling of component N is the same as plane N, which is\n-   * currently true for all formats we have but it might not be in the future. *\/\n+  gst_video_format_info_component (finfo, plane, comp);\n@@ -331,1 +331,1 @@\n-      plane) * GST_VIDEO_FRAME_COMP_PSTRIDE (dest, plane);\n+      comp[0]) * GST_VIDEO_FRAME_COMP_PSTRIDE (dest, comp[0]);\n@@ -338,1 +338,1 @@\n-  h = GST_VIDEO_FRAME_COMP_HEIGHT (dest, plane);\n+  h = GST_VIDEO_FRAME_COMP_HEIGHT (dest, comp[0]);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-frame.c","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-gboolean    gst_video_frame_map           (GstVideoFrame *frame, GstVideoInfo *info,\n+gboolean    gst_video_frame_map           (GstVideoFrame *frame, const GstVideoInfo *info,\n@@ -101,1 +101,1 @@\n-gboolean    gst_video_frame_map_id        (GstVideoFrame *frame, GstVideoInfo *info,\n+gboolean    gst_video_frame_map_id        (GstVideoFrame *frame, const GstVideoInfo *info,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-frame.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,415 @@\n+\/* GStreamer\n+ * Copyright (C) <2018-2019> Seungha Yang <seungha.yang@navercorp.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#  include \"config.h\"\n+#endif\n+\n+#include <string.h>\n+\n+#include \"video-hdr.h\"\n+\n+#define N_ELEMENT_MASTERING_DISPLAY_INFO 10\n+#define MASTERING_FORMAT \\\n+  \"%d:%d:\" \\\n+  \"%d:%d:\" \\\n+  \"%d:%d:\" \\\n+  \"%d:%d:\" \\\n+  \"%d:%d\"\n+\n+#define MASTERING_PRINTF_ARGS(m) \\\n+  (m)->display_primaries[0].x, (m)->display_primaries[0].y, \\\n+  (m)->display_primaries[1].x, (m)->display_primaries[1].y, \\\n+  (m)->display_primaries[2].x, (m)->display_primaries[2].y, \\\n+  (m)->white_point.x, (m)->white_point.y, \\\n+  (m)->max_display_mastering_luminance, \\\n+  (m)->min_display_mastering_luminance\n+\n+\/**\n+ * gst_video_mastering_display_info_init:\n+ * @minfo: a #GstVideoMasteringDisplayInfo\n+ *\n+ * Initialize @minfo\n+ *\n+ * Since: 1.18\n+ *\/\n+void\n+gst_video_mastering_display_info_init (GstVideoMasteringDisplayInfo * minfo)\n+{\n+  g_return_if_fail (minfo != NULL);\n+\n+  memset (minfo, 0, sizeof (GstVideoMasteringDisplayInfo));\n+}\n+\n+\/**\n+ * gst_video_mastering_display_info_from_string:\n+ * @minfo: (out): a #GstVideoMasteringDisplayInfo\n+ * @mastering: a #GstStructure representing #GstVideoMasteringDisplayInfo\n+ *\n+ * Extract #GstVideoMasteringDisplayInfo from @mastering\n+ *\n+ * Returns: %TRUE if @minfo was filled with @mastering\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_mastering_display_info_from_string (GstVideoMasteringDisplayInfo *\n+    minfo, const gchar * mastering)\n+{\n+  gboolean ret = FALSE;\n+  gchar **split;\n+  gint i;\n+  gint idx = 0;\n+  guint64 val;\n+\n+  g_return_val_if_fail (minfo != NULL, FALSE);\n+  g_return_val_if_fail (mastering != NULL, FALSE);\n+\n+  split = g_strsplit (mastering, \":\", -1);\n+\n+  if (g_strv_length (split) != N_ELEMENT_MASTERING_DISPLAY_INFO)\n+    goto out;\n+\n+  for (i = 0; i < G_N_ELEMENTS (minfo->display_primaries); i++) {\n+    if (!g_ascii_string_to_unsigned (split[idx++],\n+            10, 0, G_MAXUINT16, &val, NULL))\n+      goto out;\n+\n+    minfo->display_primaries[i].x = (guint16) val;\n+\n+    if (!g_ascii_string_to_unsigned (split[idx++],\n+            10, 0, G_MAXUINT16, &val, NULL))\n+      goto out;\n+\n+    minfo->display_primaries[i].y = (guint16) val;\n+  }\n+\n+  if (!g_ascii_string_to_unsigned (split[idx++],\n+          10, 0, G_MAXUINT16, &val, NULL))\n+    goto out;\n+\n+  minfo->white_point.x = (guint16) val;\n+\n+  if (!g_ascii_string_to_unsigned (split[idx++],\n+          10, 0, G_MAXUINT16, &val, NULL))\n+    goto out;\n+\n+  minfo->white_point.y = (guint16) val;\n+\n+  if (!g_ascii_string_to_unsigned (split[idx++],\n+          10, 0, G_MAXUINT32, &val, NULL))\n+    goto out;\n+\n+  minfo->max_display_mastering_luminance = (guint32) val;\n+\n+  if (!g_ascii_string_to_unsigned (split[idx++],\n+          10, 0, G_MAXUINT32, &val, NULL))\n+    goto out;\n+\n+  minfo->min_display_mastering_luminance = (guint32) val;\n+  ret = TRUE;\n+\n+out:\n+  g_strfreev (split);\n+  if (!ret)\n+    gst_video_mastering_display_info_init (minfo);\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_video_mastering_display_info_to_string:\n+ * @minfo: a #GstVideoMasteringDisplayInfo\n+ *\n+ * Convert @minfo to its string representation\n+ *\n+ * Returns: (transfer full): a string representation of @minfo\n+ *\n+ * Since: 1.18\n+ *\/\n+gchar *\n+gst_video_mastering_display_info_to_string (const GstVideoMasteringDisplayInfo *\n+    minfo)\n+{\n+  g_return_val_if_fail (minfo != NULL, NULL);\n+\n+  return g_strdup_printf (MASTERING_FORMAT, MASTERING_PRINTF_ARGS (minfo));\n+}\n+\n+\/**\n+ * gst_video_mastering_display_info_is_equal:\n+ * @minfo: a #GstVideoMasteringDisplayInfo\n+ * @other: a #GstVideoMasteringDisplayInfo\n+ *\n+ * Checks equality between @minfo and @other.\n+ *\n+ * Returns: %TRUE if @minfo and @other are equal.\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_mastering_display_info_is_equal (const GstVideoMasteringDisplayInfo *\n+    minfo, const GstVideoMasteringDisplayInfo * other)\n+{\n+  gint i;\n+\n+  g_return_val_if_fail (minfo != NULL, FALSE);\n+  g_return_val_if_fail (other != NULL, FALSE);\n+\n+  for (i = 0; i < G_N_ELEMENTS (minfo->display_primaries); i++) {\n+    if (minfo->display_primaries[i].x != other->display_primaries[i].x ||\n+        minfo->display_primaries[i].y != other->display_primaries[i].y)\n+      return FALSE;\n+  }\n+\n+  if (minfo->white_point.x != other->white_point.x ||\n+      minfo->white_point.y != other->white_point.y ||\n+      minfo->max_display_mastering_luminance !=\n+      other->max_display_mastering_luminance\n+      || minfo->min_display_mastering_luminance !=\n+      other->min_display_mastering_luminance)\n+    return FALSE;\n+\n+  return TRUE;\n+}\n+\n+\/**\n+ * gst_video_mastering_display_info_from_caps:\n+ * @minfo: a #GstVideoMasteringDisplayInfo\n+ * @caps: a #GstCaps\n+ *\n+ * Parse @caps and update @minfo\n+ *\n+ * Returns: %TRUE if @caps has #GstVideoMasteringDisplayInfo and could be parsed\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_mastering_display_info_from_caps (GstVideoMasteringDisplayInfo *\n+    minfo, const GstCaps * caps)\n+{\n+  GstStructure *structure;\n+  const gchar *s;\n+\n+  g_return_val_if_fail (minfo != NULL, FALSE);\n+  g_return_val_if_fail (GST_IS_CAPS (caps), FALSE);\n+\n+  structure = gst_caps_get_structure (caps, 0);\n+\n+  if ((s = gst_structure_get_string (structure,\n+              \"mastering-display-info\")) == NULL)\n+    return FALSE;\n+\n+  return gst_video_mastering_display_info_from_string (minfo, s);\n+}\n+\n+\/**\n+ * gst_video_mastering_display_info_add_to_caps:\n+ * @minfo: a #GstVideoMasteringDisplayInfo\n+ * @caps: a #GstCaps\n+ *\n+ * Set string representation of @minfo to @caps\n+ *\n+ * Returns: %TRUE if @minfo was successfully set to @caps\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_mastering_display_info_add_to_caps (const GstVideoMasteringDisplayInfo\n+    * minfo, GstCaps * caps)\n+{\n+  gchar *s;\n+\n+  g_return_val_if_fail (minfo != NULL, FALSE);\n+  g_return_val_if_fail (GST_IS_CAPS (caps), FALSE);\n+  g_return_val_if_fail (gst_caps_is_writable (caps), FALSE);\n+\n+  s = gst_video_mastering_display_info_to_string (minfo);\n+  if (!s)\n+    return FALSE;\n+\n+  gst_caps_set_simple (caps, \"mastering-display-info\", G_TYPE_STRING, s, NULL);\n+  g_free (s);\n+\n+  return TRUE;\n+}\n+\n+\/**\n+ * gst_video_content_light_level_init:\n+ * @linfo: a #GstVideoContentLightLevel\n+ *\n+ * Initialize @linfo\n+ *\n+ * Since: 1.18\n+ *\/\n+void\n+gst_video_content_light_level_init (GstVideoContentLightLevel * linfo)\n+{\n+  g_return_if_fail (linfo != NULL);\n+\n+  memset (linfo, 0, sizeof (GstVideoContentLightLevel));\n+}\n+\n+\/**\n+ * gst_video_content_light_level_from_string:\n+ * @linfo: a #GstVideoContentLightLevel\n+ * @level: a content-light-level string from caps\n+ *\n+ * Parse the value of content-light-level caps field and update @minfo\n+ * with the parsed values.\n+ *\n+ * Returns: %TRUE if @linfo points to valid #GstVideoContentLightLevel.\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_content_light_level_from_string (GstVideoContentLightLevel * linfo,\n+    const gchar * level)\n+{\n+  gboolean ret = FALSE;\n+  gchar **split;\n+  guint64 val;\n+\n+  g_return_val_if_fail (linfo != NULL, FALSE);\n+  g_return_val_if_fail (level != NULL, FALSE);\n+\n+  split = g_strsplit (level, \":\", -1);\n+\n+  if (g_strv_length (split) != 2)\n+    goto out;\n+\n+  if (!g_ascii_string_to_unsigned (split[0], 10, 0, G_MAXUINT16, &val, NULL))\n+    goto out;\n+\n+  linfo->max_content_light_level = (guint16) val;\n+\n+  if (!g_ascii_string_to_unsigned (split[1], 10, 0, G_MAXUINT16, &val, NULL))\n+    goto out;\n+\n+  linfo->max_frame_average_light_level = (guint16) val;\n+\n+  ret = TRUE;\n+\n+out:\n+  g_strfreev (split);\n+  if (!ret)\n+    gst_video_content_light_level_init (linfo);\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_video_content_light_level_to_string:\n+ * @linfo: a #GstVideoContentLightLevel\n+ *\n+ * Convert @linfo to its string representation.\n+ *\n+ * Returns: (transfer full): a string representation of @linfo.\n+ *\n+ * Since: 1.18\n+ *\/\n+gchar *\n+gst_video_content_light_level_to_string (const GstVideoContentLightLevel *\n+    linfo)\n+{\n+  g_return_val_if_fail (linfo != NULL, NULL);\n+\n+  return g_strdup_printf (\"%d:%d\",\n+      linfo->max_content_light_level, linfo->max_frame_average_light_level);\n+}\n+\n+\/**\n+ * gst_video_content_light_level_is_equal:\n+ * @linfo: a #GstVideoContentLightLevel\n+ * @other: a #GstVideoContentLightLevel\n+ *\n+ * Checks equality between @linfo and @other.\n+ *\n+ * Returns: %TRUE if @linfo and @other are equal.\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_video_content_light_level_is_equal (const GstVideoContentLightLevel * linfo,\n+    const GstVideoContentLightLevel * other)\n+{\n+  g_return_val_if_fail (linfo != NULL, FALSE);\n+  g_return_val_if_fail (other != NULL, FALSE);\n+\n+  return (linfo->max_content_light_level == other->max_content_light_level &&\n+      linfo->max_frame_average_light_level ==\n+      other->max_frame_average_light_level);\n+}\n+\n+\/**\n+ * gst_video_content_light_level_from_caps:\n+ * @linfo: a #GstVideoContentLightLevel\n+ * @caps: a #GstCaps\n+ *\n+ * Parse @caps and update @linfo\n+ *\n+ * Returns: if @caps has #GstVideoContentLightLevel and could be parsed\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_content_light_level_from_caps (GstVideoContentLightLevel * linfo,\n+    const GstCaps * caps)\n+{\n+  GstStructure *structure;\n+  const gchar *s;\n+\n+  g_return_val_if_fail (linfo != NULL, FALSE);\n+  g_return_val_if_fail (GST_IS_CAPS (caps), FALSE);\n+\n+  structure = gst_caps_get_structure (caps, 0);\n+\n+  if ((s = gst_structure_get_string (structure, \"content-light-level\")) == NULL)\n+    return FALSE;\n+\n+  return gst_video_content_light_level_from_string (linfo, s);\n+}\n+\n+\/**\n+ * gst_video_content_light_level_add_to_caps:\n+ * @linfo: a #GstVideoContentLightLevel\n+ * @caps: a #GstCaps\n+ *\n+ * Parse @caps and update @linfo\n+ *\n+ * Returns: %TRUE if @linfo was successfully set to @caps\n+ *\n+ * Since: 1.18\n+ *\/\n+gboolean\n+gst_video_content_light_level_add_to_caps (const GstVideoContentLightLevel *\n+    linfo, GstCaps * caps)\n+{\n+  gchar *s;\n+\n+  g_return_val_if_fail (linfo != NULL, FALSE);\n+  g_return_val_if_fail (GST_IS_CAPS (caps), FALSE);\n+  g_return_val_if_fail (gst_caps_is_writable (caps), FALSE);\n+\n+  s = gst_video_content_light_level_to_string (linfo);\n+  gst_caps_set_simple (caps, \"content-light-level\", G_TYPE_STRING, s, NULL);\n+  g_free (s);\n+\n+  return TRUE;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-hdr.c","additions":415,"deletions":0,"binary":false,"changes":415,"status":"added"},{"patch":"@@ -0,0 +1,143 @@\n+\/* GStreamer\n+ * Copyright (C) <2018-2019> Seungha Yang <seungha.yang@navercorp.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_VIDEO_HDR_H__\n+#define __GST_VIDEO_HDR_H__\n+\n+#include <gst\/gst.h>\n+#include <gst\/video\/video-prelude.h>\n+\n+G_BEGIN_DECLS\n+\n+typedef struct _GstVideoMasteringDisplayInfoCoordinates GstVideoMasteringDisplayInfoCoordinates;\n+typedef struct _GstVideoMasteringDisplayInfo GstVideoMasteringDisplayInfo;\n+typedef struct _GstVideoContentLightLevel GstVideoContentLightLevel;\n+\n+\/**\n+ * GstVideoMasteringDisplayInfoCoordinates:\n+ * @x: the x coordinate of CIE 1931 color space in unit of 0.00002.\n+ * @y: the y coordinate of CIE 1931 color space in unit of 0.00002.\n+ *\n+ * Used to represent display_primaries and white_point of\n+ * #GstVideoMasteringDisplayInfo struct. See #GstVideoMasteringDisplayInfo\n+ *\n+ * Since: 1.18\n+ *\/\n+struct _GstVideoMasteringDisplayInfoCoordinates\n+{\n+  guint16 x;\n+  guint16 y;\n+};\n+\n+\/**\n+ * GstVideoMasteringDisplayInfo:\n+ * @display_primaries: the xy coordinates of primaries in the CIE 1931 color space.\n+ *   the index 0 contains red, 1 is for green and 2 is for blue.\n+ *   each value is normalized to 50000 (meaning that in unit of 0.00002)\n+ * @white_point: the xy coordinates of white point in the CIE 1931 color space.\n+ *   each value is normalized to 50000 (meaning that in unit of 0.00002)\n+ * @max_display_mastering_luminance: the maximum value of display luminance\n+ *   in unit of 0.0001 candelas per square metre (cd\/m^2 and nit)\n+ * @min_display_mastering_luminance: the minimum value of display luminance\n+ *   in unit of 0.0001 candelas per square metre (cd\/m^2 and nit)\n+ *\n+ * Mastering display color volume information defined by SMPTE ST 2086\n+ * (a.k.a static HDR metadata).\n+ *\n+ * Since: 1.18\n+ *\/\n+struct _GstVideoMasteringDisplayInfo\n+{\n+  GstVideoMasteringDisplayInfoCoordinates display_primaries[3];\n+  GstVideoMasteringDisplayInfoCoordinates white_point;\n+  guint32 max_display_mastering_luminance;\n+  guint32 min_display_mastering_luminance;\n+\n+  \/*< private >*\/\n+  gpointer _gst_reserved[GST_PADDING];\n+};\n+\n+GST_VIDEO_API\n+void      gst_video_mastering_display_info_init         (GstVideoMasteringDisplayInfo * minfo);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_mastering_display_info_from_string  (GstVideoMasteringDisplayInfo * minfo,\n+                                                         const gchar * mastering);\n+\n+GST_VIDEO_API\n+gchar *   gst_video_mastering_display_info_to_string    (const GstVideoMasteringDisplayInfo * minfo);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_mastering_display_info_is_equal     (const GstVideoMasteringDisplayInfo * minfo,\n+                                                         const GstVideoMasteringDisplayInfo * other);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_mastering_display_info_from_caps    (GstVideoMasteringDisplayInfo * minfo,\n+                                                         const GstCaps * caps);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_mastering_display_info_add_to_caps  (const GstVideoMasteringDisplayInfo * minfo,\n+                                                         GstCaps * caps);\n+\n+\/**\n+ * GstVideoContentLightLevel:\n+ * @max_content_light_level: the maximum content light level\n+ *   (abbreviated to MaxCLL) in candelas per square meter (cd\/m^2 and nit)\n+ * @max_frame_average_light_level: the maximum frame average light level\n+ *   (abbreviated to MaxFLL) in candelas per square meter (cd\/m^2 and nit)\n+ *\n+ * Content light level information specified in CEA-861.3, Appendix A.\n+ *\n+ * Since: 1.18\n+ *\/\n+struct _GstVideoContentLightLevel\n+{\n+  guint16 max_content_light_level;\n+  guint16 max_frame_average_light_level;\n+\n+  \/*< private >*\/\n+  gpointer _gst_reserved[GST_PADDING];\n+};\n+\n+GST_VIDEO_API\n+void      gst_video_content_light_level_init         (GstVideoContentLightLevel * linfo);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_content_light_level_from_string  (GstVideoContentLightLevel * linfo,\n+                                                      const gchar * level);\n+\n+GST_VIDEO_API\n+gchar *   gst_video_content_light_level_to_string    (const GstVideoContentLightLevel * linfo);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_content_light_level_is_equal     (const GstVideoContentLightLevel * linfo,\n+                                                      const GstVideoContentLightLevel * other);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_content_light_level_from_caps    (GstVideoContentLightLevel * linfo,\n+                                                      const GstCaps * caps);\n+\n+GST_VIDEO_API\n+gboolean  gst_video_content_light_level_add_to_caps  (const GstVideoContentLightLevel * linfo,\n+                                                      GstCaps * caps);\n+\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_VIDEO_HDR_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-hdr.h","additions":143,"deletions":0,"binary":false,"changes":143,"status":"added"},{"patch":"@@ -120,1 +120,1 @@\n- * @info: a #GstVideoInfo\n+ * @info: (out caller-allocates): a #GstVideoInfo\n@@ -153,1 +153,0 @@\n-#define DEFAULT_YUV_UHD 5\n@@ -161,1 +160,0 @@\n-  MAKE_COLORIMETRY (_16_235, BT2020, BT2020_12, BT2020),\n@@ -170,4 +168,1 @@\n-    if (info->height >= 2160) {\n-      info->chroma_site = GST_VIDEO_CHROMA_SITE_H_COSITED;\n-      info->colorimetry = default_color[DEFAULT_YUV_UHD];\n-    } else if (info->height > 576) {\n+    if (info->height > 576) {\n@@ -388,1 +383,1 @@\n- * @info: a #GstVideoInfo\n+ * @info: (out caller-allocates): #GstVideoInfo\n@@ -511,1 +506,1 @@\n-    info->chroma_site = gst_video_chroma_from_string (s);\n+    info->chroma_site = gst_video_chroma_site_from_string (s);\n@@ -576,0 +571,22 @@\n+\/**\n+ * gst_video_info_new_from_caps:\n+ * @caps: a #GstCaps\n+ *\n+ * Parse @caps to generate a #GstVideoInfo.\n+ *\n+ * Returns: A #GstVideoInfo, or %NULL if @caps couldn't be parsed\n+ * Since: 1.20\n+ *\/\n+GstVideoInfo *\n+gst_video_info_new_from_caps (const GstCaps * caps)\n+{\n+  GstVideoInfo *ret = gst_video_info_new ();\n+\n+  if (gst_video_info_from_caps (ret, caps)) {\n+    return ret;\n+  } else {\n+    gst_video_info_free (ret);\n+    return NULL;\n+  }\n+}\n+\n@@ -726,3 +743,12 @@\n-  if (info->chroma_site != GST_VIDEO_CHROMA_SITE_UNKNOWN)\n-    gst_caps_set_simple (caps, \"chroma-site\", G_TYPE_STRING,\n-        gst_video_chroma_to_string (info->chroma_site), NULL);\n+  if (info->chroma_site != GST_VIDEO_CHROMA_SITE_UNKNOWN) {\n+    gchar *chroma_site = gst_video_chroma_site_to_string (info->chroma_site);\n+\n+    if (!chroma_site) {\n+      GST_WARNING (\"Couldn't convert chroma-site 0x%x to string\",\n+          info->chroma_site);\n+    } else {\n+      gst_caps_set_simple (caps,\n+          \"chroma-site\", G_TYPE_STRING, chroma_site, NULL);\n+      g_free (chroma_site);\n+    }\n+  }\n@@ -864,0 +890,8 @@\n+    case GST_VIDEO_FORMAT_ARGB64_BE:\n+    case GST_VIDEO_FORMAT_ARGB64_LE:\n+    case GST_VIDEO_FORMAT_RGBA64_BE:\n+    case GST_VIDEO_FORMAT_RGBA64_LE:\n+    case GST_VIDEO_FORMAT_BGRA64_BE:\n+    case GST_VIDEO_FORMAT_BGRA64_LE:\n+    case GST_VIDEO_FORMAT_ABGR64_BE:\n+    case GST_VIDEO_FORMAT_ABGR64_LE:\n@@ -906,0 +940,2 @@\n+    case GST_VIDEO_FORMAT_RGBP:\n+    case GST_VIDEO_FORMAT_BGRP:\n@@ -936,0 +972,10 @@\n+    case GST_VIDEO_FORMAT_AV12:\n+      info->stride[0] = GST_ROUND_UP_4 (width);\n+      info->stride[1] = info->stride[0];\n+      info->stride[2] = info->stride[0];\n+      info->offset[0] = 0;\n+      info->offset[1] = info->stride[0] * GST_ROUND_UP_2 (height);\n+      info->offset[2] =\n+          info->offset[1] + (info->stride[1] * GST_ROUND_UP_2 (height) \/ 2);\n+      info->size = info->offset[2] + info->stride[2] * GST_ROUND_UP_2 (height);\n+      break;\n@@ -1168,1 +1214,1 @@\n-        gint comps[GST_VIDEO_MAX_COMPONENTS];\n+        gint comp[GST_VIDEO_MAX_COMPONENTS];\n@@ -1172,1 +1218,1 @@\n-        gst_video_format_info_component (info->finfo, i, comps);\n+        gst_video_format_info_component (info->finfo, i, comp);\n@@ -1174,1 +1220,1 @@\n-            GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (info->finfo, comps[0],\n+            GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (info->finfo, comp[0],\n@@ -1202,1 +1248,1 @@\n-gst_video_info_convert (GstVideoInfo * info,\n+gst_video_info_convert (const GstVideoInfo * info,\n@@ -1318,0 +1364,3 @@\n+ * Extra padding will be added to the right side when stride alignment padding\n+ * is required and @align will be updated with the new padding values.\n+ *\n@@ -1356,0 +1405,1 @@\n+      gint comp[GST_VIDEO_MAX_COMPONENTS];\n@@ -1359,2 +1409,4 @@\n-      hedge = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (vinfo, i, align->padding_left);\n-      hedge *= GST_VIDEO_FORMAT_INFO_PSTRIDE (vinfo, i);\n+      gst_video_format_info_component (vinfo, i, comp);\n+      hedge = GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (vinfo, comp[0],\n+          align->padding_left);\n+      hedge *= GST_VIDEO_FORMAT_INFO_PSTRIDE (vinfo, comp[0]);\n@@ -1408,8 +1460,2 @@\n-    gint vedge, hedge, comp;\n-\n-    \/* Find the component for this plane, FIXME, we assume the plane number and\n-     * component number is the same for now, for scaling the dimensions this is\n-     * currently true for all formats but it might not be when adding new\n-     * formats. We might need to add a plane subsamling in the format info to\n-     * make this more generic or maybe use a plane -> component mapping. *\/\n-    comp = i;\n+    gint comp[GST_VIDEO_MAX_COMPONENTS];\n+    gint vedge, hedge;\n@@ -1417,0 +1463,1 @@\n+    gst_video_format_info_component (info->finfo, i, comp);\n@@ -1418,1 +1465,1 @@\n-        GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (vinfo, comp, align->padding_left);\n+        GST_VIDEO_FORMAT_INFO_SCALE_WIDTH (vinfo, comp[0], align->padding_left);\n@@ -1420,1 +1467,1 @@\n-        GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (vinfo, comp, align->padding_top);\n+        GST_VIDEO_FORMAT_INFO_SCALE_HEIGHT (vinfo, comp[0], align->padding_top);\n@@ -1423,1 +1470,1 @@\n-        comp, hedge, vedge, align->stride_align[i], info->stride[i]);\n+        comp[0], hedge, vedge, align->stride_align[i], info->stride[i]);\n@@ -1426,1 +1473,1 @@\n-        (hedge * GST_VIDEO_FORMAT_INFO_PSTRIDE (vinfo, comp));\n+        (hedge * GST_VIDEO_FORMAT_INFO_PSTRIDE (vinfo, comp[0]));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-info.c","additions":77,"deletions":30,"binary":false,"changes":107,"status":"modified"},{"patch":"@@ -439,0 +439,3 @@\n+GST_VIDEO_API\n+GstVideoInfo * gst_video_info_new_from_caps (const GstCaps * caps);\n+\n@@ -458,1 +461,1 @@\n-gboolean       gst_video_info_convert     (GstVideoInfo *info,\n+gboolean       gst_video_info_convert     (const GstVideoInfo *info,\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-info.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -408,1 +408,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-multiview.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -113,0 +113,2 @@\n+void video_orc_pack_YA (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    const guint8 * ORC_RESTRICT s1, int n);\n@@ -170,0 +172,5 @@\n+void video_orc_unpack_AV12 (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, int n);\n+void video_orc_pack_AV12 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    guint8 * ORC_RESTRICT d3, const guint8 * ORC_RESTRICT s1, int n);\n@@ -360,0 +367,8 @@\n+void video_orc_convert_A420_ARGB (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n);\n+void video_orc_convert_A420_BGRA (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n);\n@@ -1759,0 +1774,157 @@\n+\/* video_orc_pack_YA *\/\n+#ifdef DISABLE_ORC\n+void\n+video_orc_pack_YA (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    const guint8 * ORC_RESTRICT s1, int n)\n+{\n+  int i;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_int8 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n+\n+  ptr0 = (orc_int8 *) d1;\n+  ptr1 = (orc_int8 *) d2;\n+  ptr4 = (orc_union32 *) s1;\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n+    \/* 1: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var33.i;\n+      var36.i = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var34 = _src.x2[1];\n+    }\n+    \/* 3: storeb *\/\n+    ptr0[i] = var34;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var35 = _src.x2[0];\n+    }\n+    \/* 5: storeb *\/\n+    ptr1[i] = var35;\n+  }\n+\n+}\n+\n+#else\n+static void\n+_backup_video_orc_pack_YA (OrcExecutor * ORC_RESTRICT ex)\n+{\n+  int i;\n+  int n = ex->n;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_int8 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n+\n+  ptr0 = (orc_int8 *) ex->arrays[0];\n+  ptr1 = (orc_int8 *) ex->arrays[1];\n+  ptr4 = (orc_union32 *) ex->arrays[4];\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n+    \/* 1: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var33.i;\n+      var36.i = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var34 = _src.x2[1];\n+    }\n+    \/* 3: storeb *\/\n+    ptr0[i] = var34;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var35 = _src.x2[0];\n+    }\n+    \/* 5: storeb *\/\n+    ptr1[i] = var35;\n+  }\n+\n+}\n+\n+void\n+video_orc_pack_YA (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    const guint8 * ORC_RESTRICT s1, int n)\n+{\n+  OrcExecutor _ex, *ex = &_ex;\n+  static volatile int p_inited = 0;\n+  static OrcCode *c = 0;\n+  void (*func) (OrcExecutor *);\n+\n+  if (!p_inited) {\n+    orc_once_mutex_lock ();\n+    if (!p_inited) {\n+      OrcProgram *p;\n+\n+#if 1\n+      static const orc_uint8 bc[] = {\n+        1, 9, 17, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n+        107, 95, 89, 65, 11, 1, 1, 11, 1, 1, 12, 4, 4, 20, 2, 190,\n+        32, 4, 189, 0, 32, 188, 1, 32, 2, 0,\n+      };\n+      p = orc_program_new_from_static_bytecode (bc);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_YA);\n+#else\n+      p = orc_program_new ();\n+      orc_program_set_name (p, \"video_orc_pack_YA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_YA);\n+      orc_program_add_destination (p, 1, \"d1\");\n+      orc_program_add_destination (p, 1, \"d2\");\n+      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_add_temporary (p, 2, \"t1\");\n+\n+      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_T1, ORC_VAR_S1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select1wb\", 0, ORC_VAR_D1, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D2, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+#endif\n+\n+      orc_program_compile (p);\n+      c = orc_program_take_code (p);\n+      orc_program_free (p);\n+    }\n+    p_inited = TRUE;\n+    orc_once_mutex_unlock ();\n+  }\n+  ex->arrays[ORC_VAR_A2] = c;\n+  ex->program = 0;\n+\n+  ex->n = n;\n+  ex->arrays[ORC_VAR_D1] = d1;\n+  ex->arrays[ORC_VAR_D2] = d2;\n+  ex->arrays[ORC_VAR_S1] = (void *) s1;\n+\n+  func = c->exec;\n+  func (ex);\n+}\n+#endif\n+\n+\n@@ -6590,1 +6762,1 @@\n-\/* video_orc_unpack_NV21 *\/\n+\/* video_orc_unpack_AV12 *\/\n@@ -6593,2 +6765,2 @@\n-video_orc_unpack_NV21 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    const guint8 * ORC_RESTRICT s2, int n)\n+video_orc_unpack_AV12 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3, int n)\n@@ -6600,0 +6772,2 @@\n+  const orc_union16 *ORC_RESTRICT ptr6;\n+  orc_union16 var34;\n@@ -6601,3 +6775,0 @@\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var36;\n-#else\n@@ -6605,1 +6776,0 @@\n-#endif\n@@ -6608,1 +6778,1 @@\n-  orc_union16 var39;\n+  orc_union32 var39;\n@@ -6610,1 +6780,0 @@\n-  orc_union32 var41;\n@@ -6615,0 +6784,1 @@\n+  ptr6 = (orc_union16 *) s3;\n@@ -6616,3 +6786,0 @@\n-  \/* 3: loadpb *\/\n-  var36.x2[0] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n-  var36.x2[1] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n@@ -6622,0 +6789,2 @@\n+    var34 = ptr5[i];\n+    \/* 1: loadw *\/\n@@ -6623,2 +6792,0 @@\n-    \/* 1: swapw *\/\n-    var39.i = ORC_SWAP_W (var35.i);\n@@ -6628,3 +6795,3 @@\n-      _dest.x2[0] = var39.i;\n-      _dest.x2[1] = var39.i;\n-      var40.i = _dest.i;\n+      _dest.x2[0] = var34.i;\n+      _dest.x2[1] = var35.i;\n+      var39.i = _dest.i;\n@@ -6632,0 +6799,2 @@\n+    \/* 3: loadw *\/\n+    var36 = ptr6[i];\n@@ -6639,1 +6808,1 @@\n-      var41.x2[0] = _dest.i;\n+      var40.x2[0] = _dest.i;\n@@ -6645,1 +6814,1 @@\n-      var41.x2[1] = _dest.i;\n+      var40.x2[1] = _dest.i;\n@@ -6650,2 +6819,2 @@\n-      _dest.x2[0] = var41.x2[0];\n-      _dest.x2[1] = var40.x2[0];\n+      _dest.x2[0] = var40.x2[0];\n+      _dest.x2[1] = var39.x2[0];\n@@ -6656,2 +6825,2 @@\n-      _dest.x2[0] = var41.x2[1];\n-      _dest.x2[1] = var40.x2[1];\n+      _dest.x2[0] = var40.x2[1];\n+      _dest.x2[1] = var39.x2[1];\n@@ -6668,1 +6837,1 @@\n-_backup_video_orc_unpack_NV21 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_unpack_AV12 (OrcExecutor * ORC_RESTRICT ex)\n@@ -6675,0 +6844,2 @@\n+  const orc_union16 *ORC_RESTRICT ptr6;\n+  orc_union16 var34;\n@@ -6676,3 +6847,0 @@\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var36;\n-#else\n@@ -6680,1 +6848,0 @@\n-#endif\n@@ -6683,1 +6850,1 @@\n-  orc_union16 var39;\n+  orc_union32 var39;\n@@ -6685,1 +6852,0 @@\n-  orc_union32 var41;\n@@ -6690,0 +6856,1 @@\n+  ptr6 = (orc_union16 *) ex->arrays[6];\n@@ -6691,3 +6858,0 @@\n-  \/* 3: loadpb *\/\n-  var36.x2[0] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n-  var36.x2[1] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n@@ -6697,0 +6861,2 @@\n+    var34 = ptr5[i];\n+    \/* 1: loadw *\/\n@@ -6698,2 +6864,0 @@\n-    \/* 1: swapw *\/\n-    var39.i = ORC_SWAP_W (var35.i);\n@@ -6703,3 +6867,3 @@\n-      _dest.x2[0] = var39.i;\n-      _dest.x2[1] = var39.i;\n-      var40.i = _dest.i;\n+      _dest.x2[0] = var34.i;\n+      _dest.x2[1] = var35.i;\n+      var39.i = _dest.i;\n@@ -6707,0 +6871,2 @@\n+    \/* 3: loadw *\/\n+    var36 = ptr6[i];\n@@ -6714,1 +6880,1 @@\n-      var41.x2[0] = _dest.i;\n+      var40.x2[0] = _dest.i;\n@@ -6720,1 +6886,1 @@\n-      var41.x2[1] = _dest.i;\n+      var40.x2[1] = _dest.i;\n@@ -6725,2 +6891,2 @@\n-      _dest.x2[0] = var41.x2[0];\n-      _dest.x2[1] = var40.x2[0];\n+      _dest.x2[0] = var40.x2[0];\n+      _dest.x2[1] = var39.x2[0];\n@@ -6731,2 +6897,2 @@\n-      _dest.x2[0] = var41.x2[1];\n-      _dest.x2[1] = var40.x2[1];\n+      _dest.x2[0] = var40.x2[1];\n+      _dest.x2[1] = var39.x2[1];\n@@ -6742,2 +6908,2 @@\n-video_orc_unpack_NV21 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    const guint8 * ORC_RESTRICT s2, int n)\n+video_orc_unpack_AV12 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3, int n)\n@@ -6758,4 +6924,3 @@\n-        97, 99, 107, 95, 78, 86, 50, 49, 11, 8, 8, 12, 2, 2, 12, 2,\n-        2, 14, 1, 255, 0, 0, 0, 20, 2, 20, 4, 20, 4, 183, 32, 5,\n-        195, 34, 32, 32, 21, 1, 196, 33, 16, 4, 21, 1, 195, 0, 33, 34,\n-        2, 0,\n+        97, 99, 107, 95, 65, 86, 49, 50, 11, 8, 8, 12, 2, 2, 12, 2,\n+        2, 12, 2, 2, 20, 4, 20, 4, 195, 33, 5, 5, 21, 1, 196, 32,\n+        6, 4, 21, 1, 195, 0, 32, 33, 2, 0,\n@@ -6764,1 +6929,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV21);\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_AV12);\n@@ -6767,2 +6932,2 @@\n-      orc_program_set_name (p, \"video_orc_unpack_NV21\");\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV21);\n+      orc_program_set_name (p, \"video_orc_unpack_AV12\");\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_AV12);\n@@ -6772,2 +6937,2 @@\n-      orc_program_add_constant (p, 1, 0x000000ff, \"c1\");\n-      orc_program_add_temporary (p, 2, \"t1\");\n+      orc_program_add_source (p, 2, \"s3\");\n+      orc_program_add_temporary (p, 4, \"t1\");\n@@ -6775,1 +6940,0 @@\n-      orc_program_add_temporary (p, 4, \"t3\");\n@@ -6777,3 +6941,1 @@\n-      orc_program_append_2 (p, \"swapw\", 0, ORC_VAR_T1, ORC_VAR_S2, ORC_VAR_D1,\n-          ORC_VAR_D1);\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T3, ORC_VAR_T1, ORC_VAR_T1,\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T2, ORC_VAR_S2, ORC_VAR_S2,\n@@ -6781,1 +6943,1 @@\n-      orc_program_append_2 (p, \"mergebw\", 1, ORC_VAR_T2, ORC_VAR_C1, ORC_VAR_S1,\n+      orc_program_append_2 (p, \"mergebw\", 1, ORC_VAR_T1, ORC_VAR_S3, ORC_VAR_S1,\n@@ -6783,1 +6945,1 @@\n-      orc_program_append_2 (p, \"mergewl\", 1, ORC_VAR_D1, ORC_VAR_T2, ORC_VAR_T3,\n+      orc_program_append_2 (p, \"mergewl\", 1, ORC_VAR_D1, ORC_VAR_T1, ORC_VAR_T2,\n@@ -6801,0 +6963,1 @@\n+  ex->arrays[ORC_VAR_S3] = (void *) s3;\n@@ -6808,1 +6971,1 @@\n-\/* video_orc_pack_NV21 *\/\n+\/* video_orc_pack_AV12 *\/\n@@ -6811,2 +6974,2 @@\n-video_orc_pack_NV21 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    const guint8 * ORC_RESTRICT s1, int n)\n+video_orc_pack_AV12 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    guint8 * ORC_RESTRICT d3, const guint8 * ORC_RESTRICT s1, int n)\n@@ -6817,0 +6980,1 @@\n+  orc_union16 *ORC_RESTRICT ptr2;\n@@ -6818,1 +6982,2 @@\n-  orc_union64 var35;\n+  orc_union64 var34;\n+  orc_union16 var35;\n@@ -6823,1 +6988,0 @@\n-  orc_union16 var40;\n@@ -6827,0 +6991,1 @@\n+  ptr2 = (orc_union16 *) d3;\n@@ -6832,1 +6997,1 @@\n-    var35 = ptr4[i];\n+    var34 = ptr4[i];\n@@ -6836,1 +7001,1 @@\n-      _src.i = var35.x2[0];\n+      _src.i = var34.x2[0];\n@@ -6842,1 +7007,1 @@\n-      _src.i = var35.x2[1];\n+      _src.i = var34.x2[1];\n@@ -6850,1 +7015,1 @@\n-      var36.x2[0] = _src.x2[1];\n+      var35.x2[0] = _src.x2[1];\n@@ -6855,1 +7020,1 @@\n-      var36.x2[1] = _src.x2[1];\n+      var35.x2[1] = _src.x2[1];\n@@ -6858,2 +7023,15 @@\n-    ptr0[i] = var36;\n-    \/* 4: select0lw *\/\n+    ptr0[i] = var35;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[0];\n+      var36.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[1];\n+      var36.x2[1] = _src.x2[0];\n+    }\n+    \/* 5: storew *\/\n+    ptr2[i] = var36;\n+    \/* 6: select0lw *\/\n@@ -6863,1 +7041,1 @@\n-      var40.i = _src.x2[0];\n+      var37.i = _src.x2[0];\n@@ -6865,3 +7043,1 @@\n-    \/* 5: swapw *\/\n-    var37.i = ORC_SWAP_W (var40.i);\n-    \/* 6: storew *\/\n+    \/* 7: storew *\/\n@@ -6875,1 +7051,1 @@\n-_backup_video_orc_pack_NV21 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_pack_AV12 (OrcExecutor * ORC_RESTRICT ex)\n@@ -6881,0 +7057,1 @@\n+  orc_union16 *ORC_RESTRICT ptr2;\n@@ -6882,1 +7059,2 @@\n-  orc_union64 var35;\n+  orc_union64 var34;\n+  orc_union16 var35;\n@@ -6887,1 +7065,0 @@\n-  orc_union16 var40;\n@@ -6891,0 +7068,1 @@\n+  ptr2 = (orc_union16 *) ex->arrays[2];\n@@ -6896,1 +7074,1 @@\n-    var35 = ptr4[i];\n+    var34 = ptr4[i];\n@@ -6900,1 +7078,1 @@\n-      _src.i = var35.x2[0];\n+      _src.i = var34.x2[0];\n@@ -6906,1 +7084,1 @@\n-      _src.i = var35.x2[1];\n+      _src.i = var34.x2[1];\n@@ -6914,1 +7092,1 @@\n-      var36.x2[0] = _src.x2[1];\n+      var35.x2[0] = _src.x2[1];\n@@ -6919,1 +7097,1 @@\n-      var36.x2[1] = _src.x2[1];\n+      var35.x2[1] = _src.x2[1];\n@@ -6922,2 +7100,15 @@\n-    ptr0[i] = var36;\n-    \/* 4: select0lw *\/\n+    ptr0[i] = var35;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[0];\n+      var36.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[1];\n+      var36.x2[1] = _src.x2[0];\n+    }\n+    \/* 5: storew *\/\n+    ptr2[i] = var36;\n+    \/* 6: select0lw *\/\n@@ -6927,1 +7118,1 @@\n-      var40.i = _src.x2[0];\n+      var37.i = _src.x2[0];\n@@ -6929,3 +7120,1 @@\n-    \/* 5: swapw *\/\n-    var37.i = ORC_SWAP_W (var40.i);\n-    \/* 6: storew *\/\n+    \/* 7: storew *\/\n@@ -6938,2 +7127,2 @@\n-video_orc_pack_NV21 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    const guint8 * ORC_RESTRICT s1, int n)\n+video_orc_pack_AV12 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    guint8 * ORC_RESTRICT d3, const guint8 * ORC_RESTRICT s1, int n)\n@@ -6954,3 +7143,3 @@\n-        107, 95, 78, 86, 50, 49, 11, 2, 2, 11, 2, 2, 12, 8, 8, 20,\n-        4, 20, 4, 20, 2, 21, 1, 198, 33, 32, 4, 21, 1, 189, 0, 32,\n-        190, 34, 33, 183, 1, 34, 2, 0,\n+        107, 95, 65, 86, 49, 50, 11, 2, 2, 11, 2, 2, 11, 2, 2, 12,\n+        8, 8, 20, 4, 20, 4, 21, 1, 198, 33, 32, 4, 21, 1, 189, 0,\n+        32, 21, 1, 188, 2, 32, 190, 1, 33, 2, 0,\n@@ -6959,1 +7148,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_NV21);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_AV12);\n@@ -6962,2 +7151,2 @@\n-      orc_program_set_name (p, \"video_orc_pack_NV21\");\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_NV21);\n+      orc_program_set_name (p, \"video_orc_pack_AV12\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_AV12);\n@@ -6966,0 +7155,1 @@\n+      orc_program_add_destination (p, 2, \"d3\");\n@@ -6969,1 +7159,0 @@\n-      orc_program_add_temporary (p, 2, \"t3\");\n@@ -6975,1 +7164,3 @@\n-      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_T3, ORC_VAR_T2,\n+      orc_program_append_2 (p, \"select0wb\", 1, ORC_VAR_D3, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_D2, ORC_VAR_T2,\n@@ -6977,2 +7168,0 @@\n-      orc_program_append_2 (p, \"swapw\", 0, ORC_VAR_D2, ORC_VAR_T3, ORC_VAR_D1,\n-          ORC_VAR_D1);\n@@ -6994,0 +7183,1 @@\n+  ex->arrays[ORC_VAR_D3] = d3;\n@@ -7002,1 +7192,1 @@\n-\/* video_orc_unpack_NV24 *\/\n+\/* video_orc_unpack_NV21 *\/\n@@ -7005,1 +7195,1 @@\n-video_orc_unpack_NV24 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+video_orc_unpack_NV21 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n@@ -7009,2 +7199,2 @@\n-  orc_union32 *ORC_RESTRICT ptr0;\n-  const orc_int8 *ORC_RESTRICT ptr4;\n+  orc_union64 *ORC_RESTRICT ptr0;\n+  const orc_union16 *ORC_RESTRICT ptr4;\n@@ -7012,0 +7202,1 @@\n+  orc_union16 var35;\n@@ -7013,1 +7204,1 @@\n-  volatile orc_int8 var33;\n+  volatile orc_union16 var36;\n@@ -7015,1 +7206,1 @@\n-  orc_int8 var33;\n+  orc_union16 var36;\n@@ -7017,3 +7208,0 @@\n-  orc_int8 var34;\n-  orc_union16 var35;\n-  orc_union32 var36;\n@@ -7021,0 +7209,4 @@\n+  orc_union64 var38;\n+  orc_union16 var39;\n+  orc_union32 var40;\n+  orc_union32 var41;\n@@ -7022,2 +7214,2 @@\n-  ptr0 = (orc_union32 *) d1;\n-  ptr4 = (orc_int8 *) s1;\n+  ptr0 = (orc_union64 *) d1;\n+  ptr4 = (orc_union16 *) s1;\n@@ -7026,2 +7218,3 @@\n-  \/* 0: loadpb *\/\n-  var33 = 0x000000ff;           \/* 255 or 1.25987e-321f *\/\n+  \/* 3: loadpb *\/\n+  var36.x2[0] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n+  var36.x2[1] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n@@ -7030,3 +7223,14 @@\n-    \/* 1: loadb *\/\n-    var34 = ptr4[i];\n-    \/* 2: mergebw *\/\n+    \/* 0: loadw *\/\n+    var35 = ptr5[i];\n+    \/* 1: swapw *\/\n+    var39.i = ORC_SWAP_W (var35.i);\n+    \/* 2: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var39.i;\n+      _dest.x2[1] = var39.i;\n+      var40.i = _dest.i;\n+    }\n+    \/* 4: loadw *\/\n+    var37 = ptr4[i];\n+    \/* 5: mergebw *\/\n@@ -7035,3 +7239,3 @@\n-      _dest.x2[0] = var33;\n-      _dest.x2[1] = var34;\n-      var37.i = _dest.i;\n+      _dest.x2[0] = var36.x2[0];\n+      _dest.x2[1] = var37.x2[0];\n+      var41.x2[0] = _dest.i;\n@@ -7039,3 +7243,7 @@\n-    \/* 3: loadw *\/\n-    var35 = ptr5[i];\n-    \/* 4: mergewl *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var36.x2[1];\n+      _dest.x2[1] = var37.x2[1];\n+      var41.x2[1] = _dest.i;\n+    }\n+    \/* 6: mergewl *\/\n@@ -7044,3 +7252,3 @@\n-      _dest.x2[0] = var37.i;\n-      _dest.x2[1] = var35.i;\n-      var36.i = _dest.i;\n+      _dest.x2[0] = var41.x2[0];\n+      _dest.x2[1] = var40.x2[0];\n+      var38.x2[0] = _dest.i;\n@@ -7048,2 +7256,8 @@\n-    \/* 5: storel *\/\n-    ptr0[i] = var36;\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var41.x2[1];\n+      _dest.x2[1] = var40.x2[1];\n+      var38.x2[1] = _dest.i;\n+    }\n+    \/* 7: storeq *\/\n+    ptr0[i] = var38;\n@@ -7056,1 +7270,1 @@\n-_backup_video_orc_unpack_NV24 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_unpack_NV21 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7060,2 +7274,2 @@\n-  orc_union32 *ORC_RESTRICT ptr0;\n-  const orc_int8 *ORC_RESTRICT ptr4;\n+  orc_union64 *ORC_RESTRICT ptr0;\n+  const orc_union16 *ORC_RESTRICT ptr4;\n@@ -7063,0 +7277,1 @@\n+  orc_union16 var35;\n@@ -7064,1 +7279,1 @@\n-  volatile orc_int8 var33;\n+  volatile orc_union16 var36;\n@@ -7066,1 +7281,1 @@\n-  orc_int8 var33;\n+  orc_union16 var36;\n@@ -7068,3 +7283,0 @@\n-  orc_int8 var34;\n-  orc_union16 var35;\n-  orc_union32 var36;\n@@ -7072,0 +7284,4 @@\n+  orc_union64 var38;\n+  orc_union16 var39;\n+  orc_union32 var40;\n+  orc_union32 var41;\n@@ -7073,2 +7289,2 @@\n-  ptr0 = (orc_union32 *) ex->arrays[0];\n-  ptr4 = (orc_int8 *) ex->arrays[4];\n+  ptr0 = (orc_union64 *) ex->arrays[0];\n+  ptr4 = (orc_union16 *) ex->arrays[4];\n@@ -7077,2 +7293,3 @@\n-  \/* 0: loadpb *\/\n-  var33 = 0x000000ff;           \/* 255 or 1.25987e-321f *\/\n+  \/* 3: loadpb *\/\n+  var36.x2[0] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n+  var36.x2[1] = 0x000000ff;     \/* 255 or 1.25987e-321f *\/\n@@ -7081,3 +7298,14 @@\n-    \/* 1: loadb *\/\n-    var34 = ptr4[i];\n-    \/* 2: mergebw *\/\n+    \/* 0: loadw *\/\n+    var35 = ptr5[i];\n+    \/* 1: swapw *\/\n+    var39.i = ORC_SWAP_W (var35.i);\n+    \/* 2: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var39.i;\n+      _dest.x2[1] = var39.i;\n+      var40.i = _dest.i;\n+    }\n+    \/* 4: loadw *\/\n+    var37 = ptr4[i];\n+    \/* 5: mergebw *\/\n@@ -7086,3 +7314,3 @@\n-      _dest.x2[0] = var33;\n-      _dest.x2[1] = var34;\n-      var37.i = _dest.i;\n+      _dest.x2[0] = var36.x2[0];\n+      _dest.x2[1] = var37.x2[0];\n+      var41.x2[0] = _dest.i;\n@@ -7090,3 +7318,7 @@\n-    \/* 3: loadw *\/\n-    var35 = ptr5[i];\n-    \/* 4: mergewl *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var36.x2[1];\n+      _dest.x2[1] = var37.x2[1];\n+      var41.x2[1] = _dest.i;\n+    }\n+    \/* 6: mergewl *\/\n@@ -7095,3 +7327,3 @@\n-      _dest.x2[0] = var37.i;\n-      _dest.x2[1] = var35.i;\n-      var36.i = _dest.i;\n+      _dest.x2[0] = var41.x2[0];\n+      _dest.x2[1] = var40.x2[0];\n+      var38.x2[0] = _dest.i;\n@@ -7099,2 +7331,8 @@\n-    \/* 5: storel *\/\n-    ptr0[i] = var36;\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var41.x2[1];\n+      _dest.x2[1] = var40.x2[1];\n+      var38.x2[1] = _dest.i;\n+    }\n+    \/* 7: storeq *\/\n+    ptr0[i] = var38;\n@@ -7106,1 +7344,1 @@\n-video_orc_unpack_NV24 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+video_orc_unpack_NV21 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n@@ -7122,3 +7360,4 @@\n-        97, 99, 107, 95, 78, 86, 50, 52, 11, 4, 4, 12, 1, 1, 12, 2,\n-        2, 14, 1, 255, 0, 0, 0, 20, 2, 196, 32, 16, 4, 195, 0, 32,\n-        5, 2, 0,\n+        97, 99, 107, 95, 78, 86, 50, 49, 11, 8, 8, 12, 2, 2, 12, 2,\n+        2, 14, 1, 255, 0, 0, 0, 20, 2, 20, 4, 20, 4, 183, 32, 5,\n+        195, 34, 32, 32, 21, 1, 196, 33, 16, 4, 21, 1, 195, 0, 33, 34,\n+        2, 0,\n@@ -7127,1 +7366,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV24);\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV21);\n@@ -7130,4 +7369,4 @@\n-      orc_program_set_name (p, \"video_orc_unpack_NV24\");\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV24);\n-      orc_program_add_destination (p, 4, \"d1\");\n-      orc_program_add_source (p, 1, \"s1\");\n+      orc_program_set_name (p, \"video_orc_unpack_NV21\");\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV21);\n+      orc_program_add_destination (p, 8, \"d1\");\n+      orc_program_add_source (p, 2, \"s1\");\n@@ -7137,0 +7376,2 @@\n+      orc_program_add_temporary (p, 4, \"t2\");\n+      orc_program_add_temporary (p, 4, \"t3\");\n@@ -7138,1 +7379,1 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T1, ORC_VAR_C1, ORC_VAR_S1,\n+      orc_program_append_2 (p, \"swapw\", 0, ORC_VAR_T1, ORC_VAR_S2, ORC_VAR_D1,\n@@ -7140,1 +7381,5 @@\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_D1, ORC_VAR_T1, ORC_VAR_S2,\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T3, ORC_VAR_T1, ORC_VAR_T1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 1, ORC_VAR_T2, ORC_VAR_C1, ORC_VAR_S1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergewl\", 1, ORC_VAR_D1, ORC_VAR_T2, ORC_VAR_T3,\n@@ -7165,1 +7410,1 @@\n-\/* video_orc_pack_NV24 *\/\n+\/* video_orc_pack_NV21 *\/\n@@ -7168,1 +7413,1 @@\n-video_orc_pack_NV24 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+video_orc_pack_NV21 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n@@ -7172,1 +7417,1 @@\n-  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_union16 *ORC_RESTRICT ptr0;\n@@ -7174,4 +7419,2 @@\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var33;\n-  orc_union16 var34;\n-  orc_int8 var35;\n+  const orc_union64 *ORC_RESTRICT ptr4;\n+  orc_union64 var35;\n@@ -7179,0 +7422,4 @@\n+  orc_union16 var37;\n+  orc_union32 var38;\n+  orc_union32 var39;\n+  orc_union16 var40;\n@@ -7180,1 +7427,1 @@\n-  ptr0 = (orc_int8 *) d1;\n+  ptr0 = (orc_union16 *) d1;\n@@ -7182,1 +7429,1 @@\n-  ptr4 = (orc_union32 *) s1;\n+  ptr4 = (orc_union64 *) s1;\n@@ -7186,2 +7433,2 @@\n-    \/* 0: loadl *\/\n-    var33 = ptr4[i];\n+    \/* 0: loadq *\/\n+    var35 = ptr4[i];\n@@ -7191,3 +7438,3 @@\n-      _src.i = var33.i;\n-      var34.i = _src.x2[1];\n-      var36.i = _src.x2[0];\n+      _src.i = var35.x2[0];\n+      var38.x2[0] = _src.x2[1];\n+      var39.x2[0] = _src.x2[0];\n@@ -7195,3 +7442,7 @@\n-    \/* 2: storew *\/\n-    ptr1[i] = var34;\n-    \/* 3: select1wb *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var35.x2[1];\n+      var38.x2[1] = _src.x2[1];\n+      var39.x2[1] = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n@@ -7200,2 +7451,2 @@\n-      _src.i = var36.i;\n-      var35 = _src.x2[1];\n+      _src.i = var39.x2[0];\n+      var36.x2[0] = _src.x2[1];\n@@ -7203,2 +7454,17 @@\n-    \/* 4: storeb *\/\n-    ptr0[i] = var35;\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[1];\n+      var36.x2[1] = _src.x2[1];\n+    }\n+    \/* 3: storew *\/\n+    ptr0[i] = var36;\n+    \/* 4: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var38.i;\n+      var40.i = _src.x2[0];\n+    }\n+    \/* 5: swapw *\/\n+    var37.i = ORC_SWAP_W (var40.i);\n+    \/* 6: storew *\/\n+    ptr1[i] = var37;\n@@ -7211,1 +7477,1 @@\n-_backup_video_orc_pack_NV24 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_pack_NV21 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7215,1 +7481,1 @@\n-  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_union16 *ORC_RESTRICT ptr0;\n@@ -7217,4 +7483,2 @@\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var33;\n-  orc_union16 var34;\n-  orc_int8 var35;\n+  const orc_union64 *ORC_RESTRICT ptr4;\n+  orc_union64 var35;\n@@ -7222,0 +7486,4 @@\n+  orc_union16 var37;\n+  orc_union32 var38;\n+  orc_union32 var39;\n+  orc_union16 var40;\n@@ -7223,1 +7491,1 @@\n-  ptr0 = (orc_int8 *) ex->arrays[0];\n+  ptr0 = (orc_union16 *) ex->arrays[0];\n@@ -7225,1 +7493,1 @@\n-  ptr4 = (orc_union32 *) ex->arrays[4];\n+  ptr4 = (orc_union64 *) ex->arrays[4];\n@@ -7229,2 +7497,2 @@\n-    \/* 0: loadl *\/\n-    var33 = ptr4[i];\n+    \/* 0: loadq *\/\n+    var35 = ptr4[i];\n@@ -7234,3 +7502,3 @@\n-      _src.i = var33.i;\n-      var34.i = _src.x2[1];\n-      var36.i = _src.x2[0];\n+      _src.i = var35.x2[0];\n+      var38.x2[0] = _src.x2[1];\n+      var39.x2[0] = _src.x2[0];\n@@ -7238,3 +7506,7 @@\n-    \/* 2: storew *\/\n-    ptr1[i] = var34;\n-    \/* 3: select1wb *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var35.x2[1];\n+      var38.x2[1] = _src.x2[1];\n+      var39.x2[1] = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n@@ -7243,2 +7515,2 @@\n-      _src.i = var36.i;\n-      var35 = _src.x2[1];\n+      _src.i = var39.x2[0];\n+      var36.x2[0] = _src.x2[1];\n@@ -7246,2 +7518,17 @@\n-    \/* 4: storeb *\/\n-    ptr0[i] = var35;\n+    {\n+      orc_union16 _src;\n+      _src.i = var39.x2[1];\n+      var36.x2[1] = _src.x2[1];\n+    }\n+    \/* 3: storew *\/\n+    ptr0[i] = var36;\n+    \/* 4: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var38.i;\n+      var40.i = _src.x2[0];\n+    }\n+    \/* 5: swapw *\/\n+    var37.i = ORC_SWAP_W (var40.i);\n+    \/* 6: storew *\/\n+    ptr1[i] = var37;\n@@ -7253,1 +7540,1 @@\n-video_orc_pack_NV24 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+video_orc_pack_NV21 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n@@ -7269,2 +7556,3 @@\n-        107, 95, 78, 86, 50, 52, 11, 1, 1, 11, 2, 2, 12, 4, 4, 20,\n-        2, 198, 1, 32, 4, 189, 0, 32, 2, 0,\n+        107, 95, 78, 86, 50, 49, 11, 2, 2, 11, 2, 2, 12, 8, 8, 20,\n+        4, 20, 4, 20, 2, 21, 1, 198, 33, 32, 4, 21, 1, 189, 0, 32,\n+        190, 34, 33, 183, 1, 34, 2, 0,\n@@ -7273,1 +7561,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_NV24);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_NV21);\n@@ -7276,3 +7564,3 @@\n-      orc_program_set_name (p, \"video_orc_pack_NV24\");\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_NV24);\n-      orc_program_add_destination (p, 1, \"d1\");\n+      orc_program_set_name (p, \"video_orc_pack_NV21\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_NV21);\n+      orc_program_add_destination (p, 2, \"d1\");\n@@ -7280,2 +7568,4 @@\n-      orc_program_add_source (p, 4, \"s1\");\n-      orc_program_add_temporary (p, 2, \"t1\");\n+      orc_program_add_source (p, 8, \"s1\");\n+      orc_program_add_temporary (p, 4, \"t1\");\n+      orc_program_add_temporary (p, 4, \"t2\");\n+      orc_program_add_temporary (p, 2, \"t3\");\n@@ -7283,1 +7573,1 @@\n-      orc_program_append_2 (p, \"splitlw\", 0, ORC_VAR_D2, ORC_VAR_T1, ORC_VAR_S1,\n+      orc_program_append_2 (p, \"splitlw\", 1, ORC_VAR_T2, ORC_VAR_T1, ORC_VAR_S1,\n@@ -7285,1 +7575,3 @@\n-      orc_program_append_2 (p, \"select1wb\", 0, ORC_VAR_D1, ORC_VAR_T1,\n+      orc_program_append_2 (p, \"select1wb\", 1, ORC_VAR_D1, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_T3, ORC_VAR_T2,\n@@ -7287,0 +7579,2 @@\n+      orc_program_append_2 (p, \"swapw\", 0, ORC_VAR_D2, ORC_VAR_T3, ORC_VAR_D1,\n+          ORC_VAR_D1);\n@@ -7310,1 +7604,1 @@\n-\/* video_orc_unpack_A420 *\/\n+\/* video_orc_unpack_NV24 *\/\n@@ -7313,3 +7607,2 @@\n-video_orc_unpack_A420 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3,\n-    const guint8 * ORC_RESTRICT s4, int n)\n+video_orc_unpack_NV24 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, int n)\n@@ -7320,10 +7613,10 @@\n-  const orc_int8 *ORC_RESTRICT ptr5;\n-  const orc_int8 *ORC_RESTRICT ptr6;\n-  const orc_int8 *ORC_RESTRICT ptr7;\n-  orc_int8 var36;\n-  orc_int8 var37;\n-  orc_union32 var38;\n-  orc_int8 var39;\n-  orc_int8 var40;\n-  orc_union16 var41;\n-  orc_union16 var42;\n+  const orc_union16 *ORC_RESTRICT ptr5;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var33;\n+#else\n+  orc_int8 var33;\n+#endif\n+  orc_int8 var34;\n+  orc_union16 var35;\n+  orc_union32 var36;\n+  orc_union16 var37;\n@@ -7333,3 +7626,1 @@\n-  ptr5 = (orc_int8 *) s2;\n-  ptr6 = (orc_int8 *) s3;\n-  ptr7 = (orc_int8 *) s4;\n+  ptr5 = (orc_union16 *) s2;\n@@ -7337,0 +7628,2 @@\n+  \/* 0: loadpb *\/\n+  var33 = 0x000000ff;           \/* 255 or 1.25987e-321f *\/\n@@ -7339,4 +7632,2 @@\n-    \/* 0: loadupdb *\/\n-    var39 = ptr5[i >> 1];\n-    \/* 1: loadupdb *\/\n-    var40 = ptr6[i >> 1];\n+    \/* 1: loadb *\/\n+    var34 = ptr4[i];\n@@ -7346,14 +7637,3 @@\n-      _dest.x2[0] = var39;\n-      _dest.x2[1] = var40;\n-      var41.i = _dest.i;\n-    }\n-    \/* 3: loadb *\/\n-    var36 = ptr7[i];\n-    \/* 4: loadb *\/\n-    var37 = ptr4[i];\n-    \/* 5: mergebw *\/\n-    {\n-      orc_union16 _dest;\n-      _dest.x2[0] = var36;\n-      _dest.x2[1] = var37;\n-      var42.i = _dest.i;\n+      _dest.x2[0] = var33;\n+      _dest.x2[1] = var34;\n+      var37.i = _dest.i;\n@@ -7361,1 +7641,3 @@\n-    \/* 6: mergewl *\/\n+    \/* 3: loadw *\/\n+    var35 = ptr5[i];\n+    \/* 4: mergewl *\/\n@@ -7364,3 +7646,3 @@\n-      _dest.x2[0] = var42.i;\n-      _dest.x2[1] = var41.i;\n-      var38.i = _dest.i;\n+      _dest.x2[0] = var37.i;\n+      _dest.x2[1] = var35.i;\n+      var36.i = _dest.i;\n@@ -7368,2 +7650,2 @@\n-    \/* 7: storel *\/\n-    ptr0[i] = var38;\n+    \/* 5: storel *\/\n+    ptr0[i] = var36;\n@@ -7376,1 +7658,1 @@\n-_backup_video_orc_unpack_A420 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_unpack_NV24 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7382,16 +7664,14 @@\n-  const orc_int8 *ORC_RESTRICT ptr5;\n-  const orc_int8 *ORC_RESTRICT ptr6;\n-  const orc_int8 *ORC_RESTRICT ptr7;\n-  orc_int8 var36;\n-  orc_int8 var37;\n-  orc_union32 var38;\n-  orc_int8 var39;\n-  orc_int8 var40;\n-  orc_union16 var41;\n-  orc_union16 var42;\n-\n-  ptr0 = (orc_union32 *) ex->arrays[0];\n-  ptr4 = (orc_int8 *) ex->arrays[4];\n-  ptr5 = (orc_int8 *) ex->arrays[5];\n-  ptr6 = (orc_int8 *) ex->arrays[6];\n-  ptr7 = (orc_int8 *) ex->arrays[7];\n+  const orc_union16 *ORC_RESTRICT ptr5;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var33;\n+#else\n+  orc_int8 var33;\n+#endif\n+  orc_int8 var34;\n+  orc_union16 var35;\n+  orc_union32 var36;\n+  orc_union16 var37;\n+\n+  ptr0 = (orc_union32 *) ex->arrays[0];\n+  ptr4 = (orc_int8 *) ex->arrays[4];\n+  ptr5 = (orc_union16 *) ex->arrays[5];\n@@ -7399,0 +7679,2 @@\n+  \/* 0: loadpb *\/\n+  var33 = 0x000000ff;           \/* 255 or 1.25987e-321f *\/\n@@ -7401,4 +7683,2 @@\n-    \/* 0: loadupdb *\/\n-    var39 = ptr5[i >> 1];\n-    \/* 1: loadupdb *\/\n-    var40 = ptr6[i >> 1];\n+    \/* 1: loadb *\/\n+    var34 = ptr4[i];\n@@ -7408,14 +7688,3 @@\n-      _dest.x2[0] = var39;\n-      _dest.x2[1] = var40;\n-      var41.i = _dest.i;\n-    }\n-    \/* 3: loadb *\/\n-    var36 = ptr7[i];\n-    \/* 4: loadb *\/\n-    var37 = ptr4[i];\n-    \/* 5: mergebw *\/\n-    {\n-      orc_union16 _dest;\n-      _dest.x2[0] = var36;\n-      _dest.x2[1] = var37;\n-      var42.i = _dest.i;\n+      _dest.x2[0] = var33;\n+      _dest.x2[1] = var34;\n+      var37.i = _dest.i;\n@@ -7423,1 +7692,3 @@\n-    \/* 6: mergewl *\/\n+    \/* 3: loadw *\/\n+    var35 = ptr5[i];\n+    \/* 4: mergewl *\/\n@@ -7426,3 +7697,3 @@\n-      _dest.x2[0] = var42.i;\n-      _dest.x2[1] = var41.i;\n-      var38.i = _dest.i;\n+      _dest.x2[0] = var37.i;\n+      _dest.x2[1] = var35.i;\n+      var36.i = _dest.i;\n@@ -7430,2 +7701,2 @@\n-    \/* 7: storel *\/\n-    ptr0[i] = var38;\n+    \/* 5: storel *\/\n+    ptr0[i] = var36;\n@@ -7437,3 +7708,2 @@\n-video_orc_unpack_A420 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3,\n-    const guint8 * ORC_RESTRICT s4, int n)\n+video_orc_unpack_NV24 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, int n)\n@@ -7454,4 +7724,3 @@\n-        97, 99, 107, 95, 65, 52, 50, 48, 11, 4, 4, 12, 1, 1, 12, 1,\n-        1, 12, 1, 1, 12, 1, 1, 20, 2, 20, 2, 20, 1, 20, 1, 45,\n-        34, 5, 45, 35, 6, 196, 32, 34, 35, 196, 33, 7, 4, 195, 0, 33,\n-        32, 2, 0,\n+        97, 99, 107, 95, 78, 86, 50, 52, 11, 4, 4, 12, 1, 1, 12, 2,\n+        2, 14, 1, 255, 0, 0, 0, 20, 2, 196, 32, 16, 4, 195, 0, 32,\n+        5, 2, 0,\n@@ -7460,1 +7729,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_A420);\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV24);\n@@ -7463,2 +7732,2 @@\n-      orc_program_set_name (p, \"video_orc_unpack_A420\");\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_A420);\n+      orc_program_set_name (p, \"video_orc_unpack_NV24\");\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_NV24);\n@@ -7467,3 +7736,2 @@\n-      orc_program_add_source (p, 1, \"s2\");\n-      orc_program_add_source (p, 1, \"s3\");\n-      orc_program_add_source (p, 1, \"s4\");\n+      orc_program_add_source (p, 2, \"s2\");\n+      orc_program_add_constant (p, 1, 0x000000ff, \"c1\");\n@@ -7471,3 +7739,0 @@\n-      orc_program_add_temporary (p, 2, \"t2\");\n-      orc_program_add_temporary (p, 1, \"t3\");\n-      orc_program_add_temporary (p, 1, \"t4\");\n@@ -7475,7 +7740,1 @@\n-      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T3, ORC_VAR_S2,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T4, ORC_VAR_S3,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T1, ORC_VAR_T3, ORC_VAR_T4,\n-          ORC_VAR_D1);\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T2, ORC_VAR_S4, ORC_VAR_S1,\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T1, ORC_VAR_C1, ORC_VAR_S1,\n@@ -7483,1 +7742,1 @@\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_D1, ORC_VAR_T2, ORC_VAR_T1,\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_D1, ORC_VAR_T1, ORC_VAR_S2,\n@@ -7501,2 +7760,0 @@\n-  ex->arrays[ORC_VAR_S3] = (void *) s3;\n-  ex->arrays[ORC_VAR_S4] = (void *) s4;\n@@ -7510,1 +7767,1 @@\n-\/* video_orc_pack_A420 *\/\n+\/* video_orc_pack_NV24 *\/\n@@ -7513,2 +7770,1 @@\n-video_orc_pack_A420 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    guint8 * ORC_RESTRICT d3, guint8 * ORC_RESTRICT d4,\n+video_orc_pack_NV24 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n@@ -7518,14 +7774,7 @@\n-  orc_union16 *ORC_RESTRICT ptr0;\n-  orc_int8 *ORC_RESTRICT ptr1;\n-  orc_int8 *ORC_RESTRICT ptr2;\n-  orc_union16 *ORC_RESTRICT ptr3;\n-  const orc_union64 *ORC_RESTRICT ptr4;\n-  orc_union64 var36;\n-  orc_union16 var37;\n-  orc_union16 var38;\n-  orc_int8 var39;\n-  orc_int8 var40;\n-  orc_union32 var41;\n-  orc_union32 var42;\n-  orc_union16 var43;\n-  orc_union16 var44;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_union16 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_union16 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n@@ -7533,5 +7782,3 @@\n-  ptr0 = (orc_union16 *) d1;\n-  ptr1 = (orc_int8 *) d2;\n-  ptr2 = (orc_int8 *) d3;\n-  ptr3 = (orc_union16 *) d4;\n-  ptr4 = (orc_union64 *) s1;\n+  ptr0 = (orc_int8 *) d1;\n+  ptr1 = (orc_union16 *) d2;\n+  ptr4 = (orc_union32 *) s1;\n@@ -7541,2 +7788,2 @@\n-    \/* 0: loadq *\/\n-    var36 = ptr4[i];\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n@@ -7546,54 +7793,3 @@\n-      _src.i = var36.x2[0];\n-      var41.x2[0] = _src.x2[1];\n-      var42.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union32 _src;\n-      _src.i = var36.x2[1];\n-      var41.x2[1] = _src.x2[1];\n-      var42.x2[1] = _src.x2[0];\n-    }\n-    \/* 2: select1wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[0];\n-      var37.x2[0] = _src.x2[1];\n-    }\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[1];\n-      var37.x2[1] = _src.x2[1];\n-    }\n-    \/* 3: storew *\/\n-    ptr0[i] = var37;\n-    \/* 4: select0wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[0];\n-      var38.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[1];\n-      var38.x2[1] = _src.x2[0];\n-    }\n-    \/* 5: storew *\/\n-    ptr3[i] = var38;\n-    \/* 6: splitwb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var41.x2[0];\n-      var43.x2[0] = _src.x2[1];\n-      var44.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union16 _src;\n-      _src.i = var41.x2[1];\n-      var43.x2[1] = _src.x2[1];\n-      var44.x2[1] = _src.x2[0];\n-    }\n-    \/* 7: select0wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var44.i;\n-      var39 = _src.x2[0];\n+      _src.i = var33.i;\n+      var34.i = _src.x2[1];\n+      var36.i = _src.x2[0];\n@@ -7601,3 +7797,3 @@\n-    \/* 8: storeb *\/\n-    ptr1[i] = var39;\n-    \/* 9: select0wb *\/\n+    \/* 2: storew *\/\n+    ptr1[i] = var34;\n+    \/* 3: select1wb *\/\n@@ -7606,2 +7802,2 @@\n-      _src.i = var43.i;\n-      var40 = _src.x2[0];\n+      _src.i = var36.i;\n+      var35 = _src.x2[1];\n@@ -7609,2 +7805,2 @@\n-    \/* 10: storeb *\/\n-    ptr2[i] = var40;\n+    \/* 4: storeb *\/\n+    ptr0[i] = var35;\n@@ -7617,1 +7813,1 @@\n-_backup_video_orc_pack_A420 (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_pack_NV24 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7621,14 +7817,7 @@\n-  orc_union16 *ORC_RESTRICT ptr0;\n-  orc_int8 *ORC_RESTRICT ptr1;\n-  orc_int8 *ORC_RESTRICT ptr2;\n-  orc_union16 *ORC_RESTRICT ptr3;\n-  const orc_union64 *ORC_RESTRICT ptr4;\n-  orc_union64 var36;\n-  orc_union16 var37;\n-  orc_union16 var38;\n-  orc_int8 var39;\n-  orc_int8 var40;\n-  orc_union32 var41;\n-  orc_union32 var42;\n-  orc_union16 var43;\n-  orc_union16 var44;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_union16 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_union16 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n@@ -7636,5 +7825,3 @@\n-  ptr0 = (orc_union16 *) ex->arrays[0];\n-  ptr1 = (orc_int8 *) ex->arrays[1];\n-  ptr2 = (orc_int8 *) ex->arrays[2];\n-  ptr3 = (orc_union16 *) ex->arrays[3];\n-  ptr4 = (orc_union64 *) ex->arrays[4];\n+  ptr0 = (orc_int8 *) ex->arrays[0];\n+  ptr1 = (orc_union16 *) ex->arrays[1];\n+  ptr4 = (orc_union32 *) ex->arrays[4];\n@@ -7644,2 +7831,2 @@\n-    \/* 0: loadq *\/\n-    var36 = ptr4[i];\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n@@ -7649,9 +7836,3 @@\n-      _src.i = var36.x2[0];\n-      var41.x2[0] = _src.x2[1];\n-      var42.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union32 _src;\n-      _src.i = var36.x2[1];\n-      var41.x2[1] = _src.x2[1];\n-      var42.x2[1] = _src.x2[0];\n+      _src.i = var33.i;\n+      var34.i = _src.x2[1];\n+      var36.i = _src.x2[0];\n@@ -7659,1 +7840,3 @@\n-    \/* 2: select1wb *\/\n+    \/* 2: storew *\/\n+    ptr1[i] = var34;\n+    \/* 3: select1wb *\/\n@@ -7662,2 +7845,2 @@\n-      _src.i = var42.x2[0];\n-      var37.x2[0] = _src.x2[1];\n+      _src.i = var36.i;\n+      var35 = _src.x2[1];\n@@ -7665,49 +7848,2 @@\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[1];\n-      var37.x2[1] = _src.x2[1];\n-    }\n-    \/* 3: storew *\/\n-    ptr0[i] = var37;\n-    \/* 4: select0wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[0];\n-      var38.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union16 _src;\n-      _src.i = var42.x2[1];\n-      var38.x2[1] = _src.x2[0];\n-    }\n-    \/* 5: storew *\/\n-    ptr3[i] = var38;\n-    \/* 6: splitwb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var41.x2[0];\n-      var43.x2[0] = _src.x2[1];\n-      var44.x2[0] = _src.x2[0];\n-    }\n-    {\n-      orc_union16 _src;\n-      _src.i = var41.x2[1];\n-      var43.x2[1] = _src.x2[1];\n-      var44.x2[1] = _src.x2[0];\n-    }\n-    \/* 7: select0wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var44.i;\n-      var39 = _src.x2[0];\n-    }\n-    \/* 8: storeb *\/\n-    ptr1[i] = var39;\n-    \/* 9: select0wb *\/\n-    {\n-      orc_union16 _src;\n-      _src.i = var43.i;\n-      var40 = _src.x2[0];\n-    }\n-    \/* 10: storeb *\/\n-    ptr2[i] = var40;\n+    \/* 4: storeb *\/\n+    ptr0[i] = var35;\n@@ -7719,2 +7855,1 @@\n-video_orc_pack_A420 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    guint8 * ORC_RESTRICT d3, guint8 * ORC_RESTRICT d4,\n+video_orc_pack_NV24 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n@@ -7736,4 +7871,2 @@\n-        107, 95, 65, 52, 50, 48, 11, 2, 2, 11, 1, 1, 11, 1, 1, 11,\n-        2, 2, 12, 8, 8, 20, 4, 20, 4, 20, 2, 20, 2, 21, 1, 198,\n-        33, 32, 4, 21, 1, 189, 0, 32, 21, 1, 188, 3, 32, 21, 1, 199,\n-        35, 34, 33, 188, 1, 34, 188, 2, 35, 2, 0,\n+        107, 95, 78, 86, 50, 52, 11, 1, 1, 11, 2, 2, 12, 4, 4, 20,\n+        2, 198, 1, 32, 4, 189, 0, 32, 2, 0,\n@@ -7742,1 +7875,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_A420);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_NV24);\n@@ -7745,11 +7878,6 @@\n-      orc_program_set_name (p, \"video_orc_pack_A420\");\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_A420);\n-      orc_program_add_destination (p, 2, \"d1\");\n-      orc_program_add_destination (p, 1, \"d2\");\n-      orc_program_add_destination (p, 1, \"d3\");\n-      orc_program_add_destination (p, 2, \"d4\");\n-      orc_program_add_source (p, 8, \"s1\");\n-      orc_program_add_temporary (p, 4, \"t1\");\n-      orc_program_add_temporary (p, 4, \"t2\");\n-      orc_program_add_temporary (p, 2, \"t3\");\n-      orc_program_add_temporary (p, 2, \"t4\");\n+      orc_program_set_name (p, \"video_orc_pack_NV24\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_NV24);\n+      orc_program_add_destination (p, 1, \"d1\");\n+      orc_program_add_destination (p, 2, \"d2\");\n+      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_add_temporary (p, 2, \"t1\");\n@@ -7757,7 +7885,1 @@\n-      orc_program_append_2 (p, \"splitlw\", 1, ORC_VAR_T2, ORC_VAR_T1, ORC_VAR_S1,\n-          ORC_VAR_D1);\n-      orc_program_append_2 (p, \"select1wb\", 1, ORC_VAR_D1, ORC_VAR_T1,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"select0wb\", 1, ORC_VAR_D4, ORC_VAR_T1,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"splitwb\", 1, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_T2,\n+      orc_program_append_2 (p, \"splitlw\", 0, ORC_VAR_D2, ORC_VAR_T1, ORC_VAR_S1,\n@@ -7765,3 +7887,1 @@\n-      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D2, ORC_VAR_T3,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D3, ORC_VAR_T4,\n+      orc_program_append_2 (p, \"select1wb\", 0, ORC_VAR_D1, ORC_VAR_T1,\n@@ -7784,2 +7904,0 @@\n-  ex->arrays[ORC_VAR_D3] = d3;\n-  ex->arrays[ORC_VAR_D4] = d4;\n@@ -7794,1 +7912,1 @@\n-\/* video_orc_pack_AY *\/\n+\/* video_orc_unpack_A420 *\/\n@@ -7797,2 +7915,3 @@\n-video_orc_pack_AY (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    const guint8 * ORC_RESTRICT s1, int n)\n+video_orc_unpack_A420 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3,\n+    const guint8 * ORC_RESTRICT s4, int n)\n@@ -7801,7 +7920,12 @@\n-  orc_int8 *ORC_RESTRICT ptr0;\n-  orc_int8 *ORC_RESTRICT ptr1;\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var33;\n-  orc_int8 var34;\n-  orc_int8 var35;\n-  orc_union16 var36;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  const orc_int8 *ORC_RESTRICT ptr7;\n+  orc_int8 var36;\n+  orc_int8 var37;\n+  orc_union32 var38;\n+  orc_int8 var39;\n+  orc_int8 var40;\n+  orc_union16 var41;\n+  orc_union16 var42;\n@@ -7809,3 +7933,5 @@\n-  ptr0 = (orc_int8 *) d1;\n-  ptr1 = (orc_int8 *) d2;\n-  ptr4 = (orc_union32 *) s1;\n+  ptr0 = (orc_union32 *) d1;\n+  ptr4 = (orc_int8 *) s1;\n+  ptr5 = (orc_int8 *) s2;\n+  ptr6 = (orc_int8 *) s3;\n+  ptr7 = (orc_int8 *) s4;\n@@ -7815,3 +7941,5 @@\n-    \/* 0: loadl *\/\n-    var33 = ptr4[i];\n-    \/* 1: select0lw *\/\n+    \/* 0: loadupdb *\/\n+    var39 = ptr5[i >> 1];\n+    \/* 1: loadupdb *\/\n+    var40 = ptr6[i >> 1];\n+    \/* 2: mergebw *\/\n@@ -7819,3 +7947,4 @@\n-      orc_union32 _src;\n-      _src.i = var33.i;\n-      var36.i = _src.x2[0];\n+      orc_union16 _dest;\n+      _dest.x2[0] = var39;\n+      _dest.x2[1] = var40;\n+      var41.i = _dest.i;\n@@ -7823,1 +7952,5 @@\n-    \/* 2: select1wb *\/\n+    \/* 3: loadb *\/\n+    var36 = ptr7[i];\n+    \/* 4: loadb *\/\n+    var37 = ptr4[i];\n+    \/* 5: mergebw *\/\n@@ -7825,3 +7958,4 @@\n-      orc_union16 _src;\n-      _src.i = var36.i;\n-      var34 = _src.x2[1];\n+      orc_union16 _dest;\n+      _dest.x2[0] = var36;\n+      _dest.x2[1] = var37;\n+      var42.i = _dest.i;\n@@ -7829,3 +7963,1 @@\n-    \/* 3: storeb *\/\n-    ptr0[i] = var34;\n-    \/* 4: select0wb *\/\n+    \/* 6: mergewl *\/\n@@ -7833,3 +7965,4 @@\n-      orc_union16 _src;\n-      _src.i = var36.i;\n-      var35 = _src.x2[0];\n+      orc_union32 _dest;\n+      _dest.x2[0] = var42.i;\n+      _dest.x2[1] = var41.i;\n+      var38.i = _dest.i;\n@@ -7837,2 +7970,2 @@\n-    \/* 5: storeb *\/\n-    ptr1[i] = var35;\n+    \/* 7: storel *\/\n+    ptr0[i] = var38;\n@@ -7845,1 +7978,1 @@\n-_backup_video_orc_pack_AY (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_unpack_A420 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7849,7 +7982,12 @@\n-  orc_int8 *ORC_RESTRICT ptr0;\n-  orc_int8 *ORC_RESTRICT ptr1;\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var33;\n-  orc_int8 var34;\n-  orc_int8 var35;\n-  orc_union16 var36;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  const orc_int8 *ORC_RESTRICT ptr7;\n+  orc_int8 var36;\n+  orc_int8 var37;\n+  orc_union32 var38;\n+  orc_int8 var39;\n+  orc_int8 var40;\n+  orc_union16 var41;\n+  orc_union16 var42;\n@@ -7857,3 +7995,5 @@\n-  ptr0 = (orc_int8 *) ex->arrays[0];\n-  ptr1 = (orc_int8 *) ex->arrays[1];\n-  ptr4 = (orc_union32 *) ex->arrays[4];\n+  ptr0 = (orc_union32 *) ex->arrays[0];\n+  ptr4 = (orc_int8 *) ex->arrays[4];\n+  ptr5 = (orc_int8 *) ex->arrays[5];\n+  ptr6 = (orc_int8 *) ex->arrays[6];\n+  ptr7 = (orc_int8 *) ex->arrays[7];\n@@ -7863,3 +8003,5 @@\n-    \/* 0: loadl *\/\n-    var33 = ptr4[i];\n-    \/* 1: select0lw *\/\n+    \/* 0: loadupdb *\/\n+    var39 = ptr5[i >> 1];\n+    \/* 1: loadupdb *\/\n+    var40 = ptr6[i >> 1];\n+    \/* 2: mergebw *\/\n@@ -7867,3 +8009,4 @@\n-      orc_union32 _src;\n-      _src.i = var33.i;\n-      var36.i = _src.x2[0];\n+      orc_union16 _dest;\n+      _dest.x2[0] = var39;\n+      _dest.x2[1] = var40;\n+      var41.i = _dest.i;\n@@ -7871,1 +8014,5 @@\n-    \/* 2: select1wb *\/\n+    \/* 3: loadb *\/\n+    var36 = ptr7[i];\n+    \/* 4: loadb *\/\n+    var37 = ptr4[i];\n+    \/* 5: mergebw *\/\n@@ -7873,3 +8020,4 @@\n-      orc_union16 _src;\n-      _src.i = var36.i;\n-      var34 = _src.x2[1];\n+      orc_union16 _dest;\n+      _dest.x2[0] = var36;\n+      _dest.x2[1] = var37;\n+      var42.i = _dest.i;\n@@ -7877,3 +8025,1 @@\n-    \/* 3: storeb *\/\n-    ptr0[i] = var34;\n-    \/* 4: select0wb *\/\n+    \/* 6: mergewl *\/\n@@ -7881,3 +8027,4 @@\n-      orc_union16 _src;\n-      _src.i = var36.i;\n-      var35 = _src.x2[0];\n+      orc_union32 _dest;\n+      _dest.x2[0] = var42.i;\n+      _dest.x2[1] = var41.i;\n+      var38.i = _dest.i;\n@@ -7885,2 +8032,2 @@\n-    \/* 5: storeb *\/\n-    ptr1[i] = var35;\n+    \/* 7: storel *\/\n+    ptr0[i] = var38;\n@@ -7892,2 +8039,3 @@\n-video_orc_pack_AY (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n-    const guint8 * ORC_RESTRICT s1, int n)\n+video_orc_unpack_A420 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3,\n+    const guint8 * ORC_RESTRICT s4, int n)\n@@ -7907,3 +8055,5 @@\n-        1, 9, 17, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n-        107, 95, 65, 89, 11, 1, 1, 11, 1, 1, 12, 4, 4, 20, 2, 190,\n-        32, 4, 189, 0, 32, 188, 1, 32, 2, 0,\n+        1, 9, 21, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 117, 110, 112,\n+        97, 99, 107, 95, 65, 52, 50, 48, 11, 4, 4, 12, 1, 1, 12, 1,\n+        1, 12, 1, 1, 12, 1, 1, 20, 2, 20, 2, 20, 1, 20, 1, 45,\n+        34, 5, 45, 35, 6, 196, 32, 34, 35, 196, 33, 7, 4, 195, 0, 33,\n+        32, 2, 0,\n@@ -7912,1 +8062,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_AY);\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_A420);\n@@ -7915,5 +8065,7 @@\n-      orc_program_set_name (p, \"video_orc_pack_AY\");\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_AY);\n-      orc_program_add_destination (p, 1, \"d1\");\n-      orc_program_add_destination (p, 1, \"d2\");\n-      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_set_name (p, \"video_orc_unpack_A420\");\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_A420);\n+      orc_program_add_destination (p, 4, \"d1\");\n+      orc_program_add_source (p, 1, \"s1\");\n+      orc_program_add_source (p, 1, \"s2\");\n+      orc_program_add_source (p, 1, \"s3\");\n+      orc_program_add_source (p, 1, \"s4\");\n@@ -7921,0 +8073,3 @@\n+      orc_program_add_temporary (p, 2, \"t2\");\n+      orc_program_add_temporary (p, 1, \"t3\");\n+      orc_program_add_temporary (p, 1, \"t4\");\n@@ -7922,3 +8077,1 @@\n-      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_T1, ORC_VAR_S1,\n-          ORC_VAR_D1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"select1wb\", 0, ORC_VAR_D1, ORC_VAR_T1,\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T3, ORC_VAR_S2,\n@@ -7926,1 +8079,1 @@\n-      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D2, ORC_VAR_T1,\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T4, ORC_VAR_S3,\n@@ -7928,0 +8081,6 @@\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T1, ORC_VAR_T3, ORC_VAR_T4,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T2, ORC_VAR_S4, ORC_VAR_S1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_D1, ORC_VAR_T2, ORC_VAR_T1,\n+          ORC_VAR_D1);\n@@ -7942,1 +8101,0 @@\n-  ex->arrays[ORC_VAR_D2] = d2;\n@@ -7944,0 +8102,3 @@\n+  ex->arrays[ORC_VAR_S2] = (void *) s2;\n+  ex->arrays[ORC_VAR_S3] = (void *) s3;\n+  ex->arrays[ORC_VAR_S4] = (void *) s4;\n@@ -7951,1 +8112,1 @@\n-\/* video_orc_unpack_VUYA *\/\n+\/* video_orc_pack_A420 *\/\n@@ -7954,2 +8115,3 @@\n-video_orc_unpack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    int n)\n+video_orc_pack_A420 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    guint8 * ORC_RESTRICT d3, guint8 * ORC_RESTRICT d4,\n+    const guint8 * ORC_RESTRICT s1, int n)\n@@ -7958,4 +8120,14 @@\n-  orc_union32 *ORC_RESTRICT ptr0;\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var32;\n-  orc_union32 var33;\n+  orc_union16 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  orc_int8 *ORC_RESTRICT ptr2;\n+  orc_union16 *ORC_RESTRICT ptr3;\n+  const orc_union64 *ORC_RESTRICT ptr4;\n+  orc_union64 var36;\n+  orc_union16 var37;\n+  orc_union16 var38;\n+  orc_int8 var39;\n+  orc_int8 var40;\n+  orc_union32 var41;\n+  orc_union32 var42;\n+  orc_union16 var43;\n+  orc_union16 var44;\n@@ -7963,2 +8135,5 @@\n-  ptr0 = (orc_union32 *) d1;\n-  ptr4 = (orc_union32 *) s1;\n+  ptr0 = (orc_union16 *) d1;\n+  ptr1 = (orc_int8 *) d2;\n+  ptr2 = (orc_int8 *) d3;\n+  ptr3 = (orc_union16 *) d4;\n+  ptr4 = (orc_union64 *) s1;\n@@ -7968,6 +8143,70 @@\n-    \/* 0: loadl *\/\n-    var32 = ptr4[i];\n-    \/* 1: swapl *\/\n-    var33.i = ORC_SWAP_L (var32.i);\n-    \/* 2: storel *\/\n-    ptr0[i] = var33;\n+    \/* 0: loadq *\/\n+    var36 = ptr4[i];\n+    \/* 1: splitlw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var36.x2[0];\n+      var41.x2[0] = _src.x2[1];\n+      var42.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union32 _src;\n+      _src.i = var36.x2[1];\n+      var41.x2[1] = _src.x2[1];\n+      var42.x2[1] = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[0];\n+      var37.x2[0] = _src.x2[1];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[1];\n+      var37.x2[1] = _src.x2[1];\n+    }\n+    \/* 3: storew *\/\n+    ptr0[i] = var37;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[0];\n+      var38.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[1];\n+      var38.x2[1] = _src.x2[0];\n+    }\n+    \/* 5: storew *\/\n+    ptr3[i] = var38;\n+    \/* 6: splitwb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var41.x2[0];\n+      var43.x2[0] = _src.x2[1];\n+      var44.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var41.x2[1];\n+      var43.x2[1] = _src.x2[1];\n+      var44.x2[1] = _src.x2[0];\n+    }\n+    \/* 7: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var44.i;\n+      var39 = _src.x2[0];\n+    }\n+    \/* 8: storeb *\/\n+    ptr1[i] = var39;\n+    \/* 9: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var43.i;\n+      var40 = _src.x2[0];\n+    }\n+    \/* 10: storeb *\/\n+    ptr2[i] = var40;\n@@ -7980,1 +8219,1 @@\n-_backup_video_orc_unpack_VUYA (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_pack_A420 (OrcExecutor * ORC_RESTRICT ex)\n@@ -7984,4 +8223,14 @@\n-  orc_union32 *ORC_RESTRICT ptr0;\n-  const orc_union32 *ORC_RESTRICT ptr4;\n-  orc_union32 var32;\n-  orc_union32 var33;\n+  orc_union16 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  orc_int8 *ORC_RESTRICT ptr2;\n+  orc_union16 *ORC_RESTRICT ptr3;\n+  const orc_union64 *ORC_RESTRICT ptr4;\n+  orc_union64 var36;\n+  orc_union16 var37;\n+  orc_union16 var38;\n+  orc_int8 var39;\n+  orc_int8 var40;\n+  orc_union32 var41;\n+  orc_union32 var42;\n+  orc_union16 var43;\n+  orc_union16 var44;\n@@ -7989,2 +8238,5 @@\n-  ptr0 = (orc_union32 *) ex->arrays[0];\n-  ptr4 = (orc_union32 *) ex->arrays[4];\n+  ptr0 = (orc_union16 *) ex->arrays[0];\n+  ptr1 = (orc_int8 *) ex->arrays[1];\n+  ptr2 = (orc_int8 *) ex->arrays[2];\n+  ptr3 = (orc_union16 *) ex->arrays[3];\n+  ptr4 = (orc_union64 *) ex->arrays[4];\n@@ -7994,6 +8246,70 @@\n-    \/* 0: loadl *\/\n-    var32 = ptr4[i];\n-    \/* 1: swapl *\/\n-    var33.i = ORC_SWAP_L (var32.i);\n-    \/* 2: storel *\/\n-    ptr0[i] = var33;\n+    \/* 0: loadq *\/\n+    var36 = ptr4[i];\n+    \/* 1: splitlw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var36.x2[0];\n+      var41.x2[0] = _src.x2[1];\n+      var42.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union32 _src;\n+      _src.i = var36.x2[1];\n+      var41.x2[1] = _src.x2[1];\n+      var42.x2[1] = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[0];\n+      var37.x2[0] = _src.x2[1];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[1];\n+      var37.x2[1] = _src.x2[1];\n+    }\n+    \/* 3: storew *\/\n+    ptr0[i] = var37;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[0];\n+      var38.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var42.x2[1];\n+      var38.x2[1] = _src.x2[0];\n+    }\n+    \/* 5: storew *\/\n+    ptr3[i] = var38;\n+    \/* 6: splitwb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var41.x2[0];\n+      var43.x2[0] = _src.x2[1];\n+      var44.x2[0] = _src.x2[0];\n+    }\n+    {\n+      orc_union16 _src;\n+      _src.i = var41.x2[1];\n+      var43.x2[1] = _src.x2[1];\n+      var44.x2[1] = _src.x2[0];\n+    }\n+    \/* 7: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var44.i;\n+      var39 = _src.x2[0];\n+    }\n+    \/* 8: storeb *\/\n+    ptr1[i] = var39;\n+    \/* 9: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var43.i;\n+      var40 = _src.x2[0];\n+    }\n+    \/* 10: storeb *\/\n+    ptr2[i] = var40;\n@@ -8005,2 +8321,3 @@\n-video_orc_unpack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n-    int n)\n+video_orc_pack_A420 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    guint8 * ORC_RESTRICT d3, guint8 * ORC_RESTRICT d4,\n+    const guint8 * ORC_RESTRICT s1, int n)\n@@ -8020,3 +8337,5 @@\n-        1, 9, 21, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 117, 110, 112,\n-        97, 99, 107, 95, 86, 85, 89, 65, 11, 4, 4, 12, 4, 4, 184, 0,\n-        4, 2, 0,\n+        1, 9, 19, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n+        107, 95, 65, 52, 50, 48, 11, 2, 2, 11, 1, 1, 11, 1, 1, 11,\n+        2, 2, 12, 8, 8, 20, 4, 20, 4, 20, 2, 20, 2, 21, 1, 198,\n+        33, 32, 4, 21, 1, 189, 0, 32, 21, 1, 188, 3, 32, 21, 1, 199,\n+        35, 34, 33, 188, 1, 34, 188, 2, 35, 2, 0,\n@@ -8025,1 +8344,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_VUYA);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_A420);\n@@ -8028,4 +8347,11 @@\n-      orc_program_set_name (p, \"video_orc_unpack_VUYA\");\n-      orc_program_set_backup_function (p, _backup_video_orc_unpack_VUYA);\n-      orc_program_add_destination (p, 4, \"d1\");\n-      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_set_name (p, \"video_orc_pack_A420\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_A420);\n+      orc_program_add_destination (p, 2, \"d1\");\n+      orc_program_add_destination (p, 1, \"d2\");\n+      orc_program_add_destination (p, 1, \"d3\");\n+      orc_program_add_destination (p, 2, \"d4\");\n+      orc_program_add_source (p, 8, \"s1\");\n+      orc_program_add_temporary (p, 4, \"t1\");\n+      orc_program_add_temporary (p, 4, \"t2\");\n+      orc_program_add_temporary (p, 2, \"t3\");\n+      orc_program_add_temporary (p, 2, \"t4\");\n@@ -8033,1 +8359,7 @@\n-      orc_program_append_2 (p, \"swapl\", 0, ORC_VAR_D1, ORC_VAR_S1, ORC_VAR_D1,\n+      orc_program_append_2 (p, \"splitlw\", 1, ORC_VAR_T2, ORC_VAR_T1, ORC_VAR_S1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select1wb\", 1, ORC_VAR_D1, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0wb\", 1, ORC_VAR_D4, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splitwb\", 1, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_T2,\n@@ -8035,0 +8367,4 @@\n+      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D2, ORC_VAR_T3,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D3, ORC_VAR_T4,\n+          ORC_VAR_D1, ORC_VAR_D1);\n@@ -8049,0 +8385,3 @@\n+  ex->arrays[ORC_VAR_D2] = d2;\n+  ex->arrays[ORC_VAR_D3] = d3;\n+  ex->arrays[ORC_VAR_D4] = d4;\n@@ -8057,1 +8396,1 @@\n-\/* video_orc_pack_VUYA *\/\n+\/* video_orc_pack_AY *\/\n@@ -8060,1 +8399,158 @@\n-video_orc_pack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+video_orc_pack_AY (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    const guint8 * ORC_RESTRICT s1, int n)\n+{\n+  int i;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_int8 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n+\n+  ptr0 = (orc_int8 *) d1;\n+  ptr1 = (orc_int8 *) d2;\n+  ptr4 = (orc_union32 *) s1;\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n+    \/* 1: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var33.i;\n+      var36.i = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var34 = _src.x2[1];\n+    }\n+    \/* 3: storeb *\/\n+    ptr0[i] = var34;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var35 = _src.x2[0];\n+    }\n+    \/* 5: storeb *\/\n+    ptr1[i] = var35;\n+  }\n+\n+}\n+\n+#else\n+static void\n+_backup_video_orc_pack_AY (OrcExecutor * ORC_RESTRICT ex)\n+{\n+  int i;\n+  int n = ex->n;\n+  orc_int8 *ORC_RESTRICT ptr0;\n+  orc_int8 *ORC_RESTRICT ptr1;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var33;\n+  orc_int8 var34;\n+  orc_int8 var35;\n+  orc_union16 var36;\n+\n+  ptr0 = (orc_int8 *) ex->arrays[0];\n+  ptr1 = (orc_int8 *) ex->arrays[1];\n+  ptr4 = (orc_union32 *) ex->arrays[4];\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var33 = ptr4[i];\n+    \/* 1: select0lw *\/\n+    {\n+      orc_union32 _src;\n+      _src.i = var33.i;\n+      var36.i = _src.x2[0];\n+    }\n+    \/* 2: select1wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var34 = _src.x2[1];\n+    }\n+    \/* 3: storeb *\/\n+    ptr0[i] = var34;\n+    \/* 4: select0wb *\/\n+    {\n+      orc_union16 _src;\n+      _src.i = var36.i;\n+      var35 = _src.x2[0];\n+    }\n+    \/* 5: storeb *\/\n+    ptr1[i] = var35;\n+  }\n+\n+}\n+\n+void\n+video_orc_pack_AY (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2,\n+    const guint8 * ORC_RESTRICT s1, int n)\n+{\n+  OrcExecutor _ex, *ex = &_ex;\n+  static volatile int p_inited = 0;\n+  static OrcCode *c = 0;\n+  void (*func) (OrcExecutor *);\n+\n+  if (!p_inited) {\n+    orc_once_mutex_lock ();\n+    if (!p_inited) {\n+      OrcProgram *p;\n+\n+#if 1\n+      static const orc_uint8 bc[] = {\n+        1, 9, 17, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n+        107, 95, 65, 89, 11, 1, 1, 11, 1, 1, 12, 4, 4, 20, 2, 190,\n+        32, 4, 189, 0, 32, 188, 1, 32, 2, 0,\n+      };\n+      p = orc_program_new_from_static_bytecode (bc);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_AY);\n+#else\n+      p = orc_program_new ();\n+      orc_program_set_name (p, \"video_orc_pack_AY\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_AY);\n+      orc_program_add_destination (p, 1, \"d1\");\n+      orc_program_add_destination (p, 1, \"d2\");\n+      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_add_temporary (p, 2, \"t1\");\n+\n+      orc_program_append_2 (p, \"select0lw\", 0, ORC_VAR_T1, ORC_VAR_S1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select1wb\", 0, ORC_VAR_D1, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"select0wb\", 0, ORC_VAR_D2, ORC_VAR_T1,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+#endif\n+\n+      orc_program_compile (p);\n+      c = orc_program_take_code (p);\n+      orc_program_free (p);\n+    }\n+    p_inited = TRUE;\n+    orc_once_mutex_unlock ();\n+  }\n+  ex->arrays[ORC_VAR_A2] = c;\n+  ex->program = 0;\n+\n+  ex->n = n;\n+  ex->arrays[ORC_VAR_D1] = d1;\n+  ex->arrays[ORC_VAR_D2] = d2;\n+  ex->arrays[ORC_VAR_S1] = (void *) s1;\n+\n+  func = c->exec;\n+  func (ex);\n+}\n+#endif\n+\n+\n+\/* video_orc_unpack_VUYA *\/\n+#ifdef DISABLE_ORC\n+void\n+video_orc_unpack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n@@ -8086,1 +8582,1 @@\n-_backup_video_orc_pack_VUYA (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_unpack_VUYA (OrcExecutor * ORC_RESTRICT ex)\n@@ -8111,1 +8607,1 @@\n-video_orc_pack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+video_orc_unpack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n@@ -8126,3 +8622,3 @@\n-        1, 9, 19, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n-        107, 95, 86, 85, 89, 65, 11, 4, 4, 12, 4, 4, 184, 0, 4, 2,\n-        0,\n+        1, 9, 21, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 117, 110, 112,\n+        97, 99, 107, 95, 86, 85, 89, 65, 11, 4, 4, 12, 4, 4, 184, 0,\n+        4, 2, 0,\n@@ -8131,1 +8627,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_VUYA);\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_VUYA);\n@@ -8134,2 +8630,2 @@\n-      orc_program_set_name (p, \"video_orc_pack_VUYA\");\n-      orc_program_set_backup_function (p, _backup_video_orc_pack_VUYA);\n+      orc_program_set_name (p, \"video_orc_unpack_VUYA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_unpack_VUYA);\n@@ -8163,1 +8659,1 @@\n-\/* video_orc_unpack_RGB15_le *\/\n+\/* video_orc_pack_VUYA *\/\n@@ -8166,2 +8662,2 @@\n-video_orc_unpack_RGB15_le (guint32 * ORC_RESTRICT d1,\n-    const guint16 * ORC_RESTRICT s1, int n)\n+video_orc_pack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    int n)\n@@ -8171,18 +8667,19 @@\n-  const orc_union16 *ORC_RESTRICT ptr4;\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var38;\n-#else\n-  orc_union16 var38;\n-#endif\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var39;\n-#else\n-  orc_union16 var39;\n-#endif\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var40;\n-#else\n-  orc_union16 var40;\n-#endif\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var41;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var32;\n+  orc_union32 var33;\n+\n+  ptr0 = (orc_union32 *) d1;\n+  ptr4 = (orc_union32 *) s1;\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var32 = ptr4[i];\n+    \/* 1: swapl *\/\n+    var33.i = ORC_SWAP_L (var32.i);\n+    \/* 2: storel *\/\n+    ptr0[i] = var33;\n+  }\n+\n+}\n+\n@@ -8190,4 +8687,109 @@\n-  orc_union16 var41;\n-#endif\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_union16 var42;\n+static void\n+_backup_video_orc_pack_VUYA (OrcExecutor * ORC_RESTRICT ex)\n+{\n+  int i;\n+  int n = ex->n;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_union32 *ORC_RESTRICT ptr4;\n+  orc_union32 var32;\n+  orc_union32 var33;\n+\n+  ptr0 = (orc_union32 *) ex->arrays[0];\n+  ptr4 = (orc_union32 *) ex->arrays[4];\n+\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadl *\/\n+    var32 = ptr4[i];\n+    \/* 1: swapl *\/\n+    var33.i = ORC_SWAP_L (var32.i);\n+    \/* 2: storel *\/\n+    ptr0[i] = var33;\n+  }\n+\n+}\n+\n+void\n+video_orc_pack_VUYA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1,\n+    int n)\n+{\n+  OrcExecutor _ex, *ex = &_ex;\n+  static volatile int p_inited = 0;\n+  static OrcCode *c = 0;\n+  void (*func) (OrcExecutor *);\n+\n+  if (!p_inited) {\n+    orc_once_mutex_lock ();\n+    if (!p_inited) {\n+      OrcProgram *p;\n+\n+#if 1\n+      static const orc_uint8 bc[] = {\n+        1, 9, 19, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 112, 97, 99,\n+        107, 95, 86, 85, 89, 65, 11, 4, 4, 12, 4, 4, 184, 0, 4, 2,\n+        0,\n+      };\n+      p = orc_program_new_from_static_bytecode (bc);\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_VUYA);\n+#else\n+      p = orc_program_new ();\n+      orc_program_set_name (p, \"video_orc_pack_VUYA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_pack_VUYA);\n+      orc_program_add_destination (p, 4, \"d1\");\n+      orc_program_add_source (p, 4, \"s1\");\n+\n+      orc_program_append_2 (p, \"swapl\", 0, ORC_VAR_D1, ORC_VAR_S1, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+#endif\n+\n+      orc_program_compile (p);\n+      c = orc_program_take_code (p);\n+      orc_program_free (p);\n+    }\n+    p_inited = TRUE;\n+    orc_once_mutex_unlock ();\n+  }\n+  ex->arrays[ORC_VAR_A2] = c;\n+  ex->program = 0;\n+\n+  ex->n = n;\n+  ex->arrays[ORC_VAR_D1] = d1;\n+  ex->arrays[ORC_VAR_S1] = (void *) s1;\n+\n+  func = c->exec;\n+  func (ex);\n+}\n+#endif\n+\n+\n+\/* video_orc_unpack_RGB15_le *\/\n+#ifdef DISABLE_ORC\n+void\n+video_orc_unpack_RGB15_le (guint32 * ORC_RESTRICT d1,\n+    const guint16 * ORC_RESTRICT s1, int n)\n+{\n+  int i;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_union16 *ORC_RESTRICT ptr4;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union16 var38;\n+#else\n+  orc_union16 var38;\n+#endif\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union16 var39;\n+#else\n+  orc_union16 var39;\n+#endif\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union16 var40;\n+#else\n+  orc_union16 var40;\n+#endif\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union16 var41;\n+#else\n+  orc_union16 var41;\n+#endif\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union16 var42;\n@@ -22670,3 +23272,906 @@\n-video_orc_convert_AYUV_RGBA (guint8 * ORC_RESTRICT d1, int d1_stride,\n-    const guint8 * ORC_RESTRICT s1, int s1_stride, int p1, int p2, int p3,\n-    int p4, int p5, int n, int m)\n+video_orc_convert_AYUV_RGBA (guint8 * ORC_RESTRICT d1, int d1_stride,\n+    const guint8 * ORC_RESTRICT s1, int s1_stride, int p1, int p2, int p3,\n+    int p4, int p5, int n, int m)\n+{\n+  OrcExecutor _ex, *ex = &_ex;\n+  static volatile int p_inited = 0;\n+  static OrcCode *c = 0;\n+  void (*func) (OrcExecutor *);\n+\n+  if (!p_inited) {\n+    orc_once_mutex_lock ();\n+    if (!p_inited) {\n+      OrcProgram *p;\n+\n+#if 1\n+      static const orc_uint8 bc[] = {\n+        1, 7, 9, 27, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 99, 111,\n+        110, 118, 101, 114, 116, 95, 65, 89, 85, 86, 95, 82, 71, 66, 65, 11,\n+        4, 4, 12, 4, 4, 14, 1, 128, 0, 0, 0, 16, 2, 16, 2, 16,\n+        2, 16, 2, 16, 2, 20, 1, 20, 1, 20, 1, 20, 1, 20, 2, 20,\n+        2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 1, 20, 1, 20, 1, 20,\n+        4, 21, 2, 65, 45, 4, 16, 198, 38, 36, 45, 199, 33, 32, 36, 199,\n+        35, 34, 38, 151, 36, 33, 151, 37, 34, 151, 38, 35, 90, 36, 36, 24,\n+        90, 39, 38, 25, 70, 39, 36, 39, 159, 42, 39, 90, 41, 37, 26, 70,\n+        41, 36, 41, 159, 44, 41, 196, 41, 44, 32, 90, 40, 37, 27, 70, 40,\n+        36, 40, 90, 36, 38, 28, 70, 40, 40, 36, 159, 43, 40, 196, 39, 42,\n+        43, 195, 45, 39, 41, 21, 2, 33, 0, 45, 16, 2, 0,\n+      };\n+      p = orc_program_new_from_static_bytecode (bc);\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_AYUV_RGBA);\n+#else\n+      p = orc_program_new ();\n+      orc_program_set_2d (p);\n+      orc_program_set_name (p, \"video_orc_convert_AYUV_RGBA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_AYUV_RGBA);\n+      orc_program_add_destination (p, 4, \"d1\");\n+      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_add_constant (p, 1, 0x00000080, \"c1\");\n+      orc_program_add_parameter (p, 2, \"p1\");\n+      orc_program_add_parameter (p, 2, \"p2\");\n+      orc_program_add_parameter (p, 2, \"p3\");\n+      orc_program_add_parameter (p, 2, \"p4\");\n+      orc_program_add_parameter (p, 2, \"p5\");\n+      orc_program_add_temporary (p, 1, \"t1\");\n+      orc_program_add_temporary (p, 1, \"t2\");\n+      orc_program_add_temporary (p, 1, \"t3\");\n+      orc_program_add_temporary (p, 1, \"t4\");\n+      orc_program_add_temporary (p, 2, \"t5\");\n+      orc_program_add_temporary (p, 2, \"t6\");\n+      orc_program_add_temporary (p, 2, \"t7\");\n+      orc_program_add_temporary (p, 2, \"t8\");\n+      orc_program_add_temporary (p, 2, \"t9\");\n+      orc_program_add_temporary (p, 2, \"t10\");\n+      orc_program_add_temporary (p, 1, \"t11\");\n+      orc_program_add_temporary (p, 1, \"t12\");\n+      orc_program_add_temporary (p, 1, \"t13\");\n+      orc_program_add_temporary (p, 4, \"t14\");\n+\n+      orc_program_append_2 (p, \"subb\", 2, ORC_VAR_T14, ORC_VAR_S1, ORC_VAR_C1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splitlw\", 0, ORC_VAR_T7, ORC_VAR_T5,\n+          ORC_VAR_T14, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splitwb\", 0, ORC_VAR_T2, ORC_VAR_T1, ORC_VAR_T5,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splitwb\", 0, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_T7,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T5, ORC_VAR_T2, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T6, ORC_VAR_T3, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T7, ORC_VAR_T4, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T5, ORC_VAR_P1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T8, ORC_VAR_T7, ORC_VAR_P2,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T8, ORC_VAR_T5, ORC_VAR_T8,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T11, ORC_VAR_T8,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T10, ORC_VAR_T6, ORC_VAR_P3,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T10, ORC_VAR_T5, ORC_VAR_T10,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T13, ORC_VAR_T10,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T10, ORC_VAR_T13,\n+          ORC_VAR_T1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T9, ORC_VAR_T6, ORC_VAR_P4,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T9, ORC_VAR_T5, ORC_VAR_T9,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T7, ORC_VAR_P5,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T9, ORC_VAR_T9, ORC_VAR_T5,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T12, ORC_VAR_T9,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T8, ORC_VAR_T11,\n+          ORC_VAR_T12, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T14, ORC_VAR_T8,\n+          ORC_VAR_T10, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T14, ORC_VAR_C1,\n+          ORC_VAR_D1);\n+#endif\n+\n+      orc_program_compile (p);\n+      c = orc_program_take_code (p);\n+      orc_program_free (p);\n+    }\n+    p_inited = TRUE;\n+    orc_once_mutex_unlock ();\n+  }\n+  ex->arrays[ORC_VAR_A2] = c;\n+  ex->program = 0;\n+\n+  ex->n = n;\n+  ORC_EXECUTOR_M (ex) = m;\n+  ex->arrays[ORC_VAR_D1] = d1;\n+  ex->params[ORC_VAR_D1] = d1_stride;\n+  ex->arrays[ORC_VAR_S1] = (void *) s1;\n+  ex->params[ORC_VAR_S1] = s1_stride;\n+  ex->params[ORC_VAR_P1] = p1;\n+  ex->params[ORC_VAR_P2] = p2;\n+  ex->params[ORC_VAR_P3] = p3;\n+  ex->params[ORC_VAR_P4] = p4;\n+  ex->params[ORC_VAR_P5] = p5;\n+\n+  func = c->exec;\n+  func (ex);\n+}\n+#endif\n+\n+\n+\/* video_orc_convert_I420_BGRA *\/\n+#ifdef DISABLE_ORC\n+void\n+video_orc_convert_I420_BGRA (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n+    int n)\n+{\n+  int i;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  orc_int8 var42;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var43;\n+#else\n+  orc_int8 var43;\n+#endif\n+  orc_union16 var44;\n+  orc_union16 var45;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var46;\n+#else\n+  orc_int8 var46;\n+#endif\n+  orc_union16 var47;\n+  orc_union16 var48;\n+  orc_union16 var49;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union32 var50;\n+#else\n+  orc_union32 var50;\n+#endif\n+  orc_union32 var51;\n+  orc_int8 var52;\n+  orc_union16 var53;\n+  orc_int8 var54;\n+  orc_int8 var55;\n+  orc_union16 var56;\n+  orc_int8 var57;\n+  orc_int8 var58;\n+  orc_union16 var59;\n+  orc_union16 var60;\n+  orc_union16 var61;\n+  orc_union16 var62;\n+  orc_int8 var63;\n+  orc_union16 var64;\n+  orc_union16 var65;\n+  orc_union16 var66;\n+  orc_int8 var67;\n+  orc_union16 var68;\n+  orc_union16 var69;\n+  orc_union16 var70;\n+  orc_union16 var71;\n+  orc_int8 var72;\n+  orc_union16 var73;\n+  orc_union32 var74;\n+\n+  ptr0 = (orc_union32 *) d1;\n+  ptr4 = (orc_int8 *) s1;\n+  ptr5 = (orc_int8 *) s2;\n+  ptr6 = (orc_int8 *) s3;\n+\n+  \/* 1: loadpb *\/\n+  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n+  \/* 10: loadpw *\/\n+  var44.i = p1;\n+  \/* 12: loadpw *\/\n+  var45.i = p2;\n+  \/* 16: loadpb *\/\n+  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n+  \/* 18: loadpw *\/\n+  var47.i = p3;\n+  \/* 22: loadpw *\/\n+  var48.i = p4;\n+  \/* 25: loadpw *\/\n+  var49.i = p5;\n+  \/* 31: loadpb *\/\n+  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadb *\/\n+    var42 = ptr4[i];\n+    \/* 2: subb *\/\n+    var52 = var42 - var43;\n+    \/* 3: splatbw *\/\n+    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    \/* 4: loadupdb *\/\n+    var54 = ptr5[i >> 1];\n+    \/* 5: subb *\/\n+    var55 = var54 - var43;\n+    \/* 6: splatbw *\/\n+    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    \/* 7: loadupdb *\/\n+    var57 = ptr6[i >> 1];\n+    \/* 8: subb *\/\n+    var58 = var57 - var43;\n+    \/* 9: splatbw *\/\n+    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n+    \/* 11: mulhsw *\/\n+    var60.i = (var53.i * var44.i) >> 16;\n+    \/* 13: mulhsw *\/\n+    var61.i = (var59.i * var45.i) >> 16;\n+    \/* 14: addw *\/\n+    var62.i = var60.i + var61.i;\n+    \/* 15: convssswb *\/\n+    var63 = ORC_CLAMP_SB (var62.i);\n+    \/* 17: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var63;\n+      _dest.x2[1] = var46;\n+      var64.i = _dest.i;\n+    }\n+    \/* 19: mulhsw *\/\n+    var65.i = (var56.i * var47.i) >> 16;\n+    \/* 20: addw *\/\n+    var66.i = var60.i + var65.i;\n+    \/* 21: convssswb *\/\n+    var67 = ORC_CLAMP_SB (var66.i);\n+    \/* 23: mulhsw *\/\n+    var68.i = (var56.i * var48.i) >> 16;\n+    \/* 24: addw *\/\n+    var69.i = var60.i + var68.i;\n+    \/* 26: mulhsw *\/\n+    var70.i = (var59.i * var49.i) >> 16;\n+    \/* 27: addw *\/\n+    var71.i = var69.i + var70.i;\n+    \/* 28: convssswb *\/\n+    var72 = ORC_CLAMP_SB (var71.i);\n+    \/* 29: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var67;\n+      _dest.x2[1] = var72;\n+      var73.i = _dest.i;\n+    }\n+    \/* 30: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var73.i;\n+      _dest.x2[1] = var64.i;\n+      var74.i = _dest.i;\n+    }\n+    \/* 32: addb *\/\n+    var51.x4[0] = var74.x4[0] + var50.x4[0];\n+    var51.x4[1] = var74.x4[1] + var50.x4[1];\n+    var51.x4[2] = var74.x4[2] + var50.x4[2];\n+    var51.x4[3] = var74.x4[3] + var50.x4[3];\n+    \/* 33: storel *\/\n+    ptr0[i] = var51;\n+  }\n+\n+}\n+\n+#else\n+static void\n+_backup_video_orc_convert_I420_BGRA (OrcExecutor * ORC_RESTRICT ex)\n+{\n+  int i;\n+  int n = ex->n;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  orc_int8 var42;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var43;\n+#else\n+  orc_int8 var43;\n+#endif\n+  orc_union16 var44;\n+  orc_union16 var45;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var46;\n+#else\n+  orc_int8 var46;\n+#endif\n+  orc_union16 var47;\n+  orc_union16 var48;\n+  orc_union16 var49;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union32 var50;\n+#else\n+  orc_union32 var50;\n+#endif\n+  orc_union32 var51;\n+  orc_int8 var52;\n+  orc_union16 var53;\n+  orc_int8 var54;\n+  orc_int8 var55;\n+  orc_union16 var56;\n+  orc_int8 var57;\n+  orc_int8 var58;\n+  orc_union16 var59;\n+  orc_union16 var60;\n+  orc_union16 var61;\n+  orc_union16 var62;\n+  orc_int8 var63;\n+  orc_union16 var64;\n+  orc_union16 var65;\n+  orc_union16 var66;\n+  orc_int8 var67;\n+  orc_union16 var68;\n+  orc_union16 var69;\n+  orc_union16 var70;\n+  orc_union16 var71;\n+  orc_int8 var72;\n+  orc_union16 var73;\n+  orc_union32 var74;\n+\n+  ptr0 = (orc_union32 *) ex->arrays[0];\n+  ptr4 = (orc_int8 *) ex->arrays[4];\n+  ptr5 = (orc_int8 *) ex->arrays[5];\n+  ptr6 = (orc_int8 *) ex->arrays[6];\n+\n+  \/* 1: loadpb *\/\n+  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n+  \/* 10: loadpw *\/\n+  var44.i = ex->params[24];\n+  \/* 12: loadpw *\/\n+  var45.i = ex->params[25];\n+  \/* 16: loadpb *\/\n+  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n+  \/* 18: loadpw *\/\n+  var47.i = ex->params[26];\n+  \/* 22: loadpw *\/\n+  var48.i = ex->params[27];\n+  \/* 25: loadpw *\/\n+  var49.i = ex->params[28];\n+  \/* 31: loadpb *\/\n+  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadb *\/\n+    var42 = ptr4[i];\n+    \/* 2: subb *\/\n+    var52 = var42 - var43;\n+    \/* 3: splatbw *\/\n+    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    \/* 4: loadupdb *\/\n+    var54 = ptr5[i >> 1];\n+    \/* 5: subb *\/\n+    var55 = var54 - var43;\n+    \/* 6: splatbw *\/\n+    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    \/* 7: loadupdb *\/\n+    var57 = ptr6[i >> 1];\n+    \/* 8: subb *\/\n+    var58 = var57 - var43;\n+    \/* 9: splatbw *\/\n+    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n+    \/* 11: mulhsw *\/\n+    var60.i = (var53.i * var44.i) >> 16;\n+    \/* 13: mulhsw *\/\n+    var61.i = (var59.i * var45.i) >> 16;\n+    \/* 14: addw *\/\n+    var62.i = var60.i + var61.i;\n+    \/* 15: convssswb *\/\n+    var63 = ORC_CLAMP_SB (var62.i);\n+    \/* 17: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var63;\n+      _dest.x2[1] = var46;\n+      var64.i = _dest.i;\n+    }\n+    \/* 19: mulhsw *\/\n+    var65.i = (var56.i * var47.i) >> 16;\n+    \/* 20: addw *\/\n+    var66.i = var60.i + var65.i;\n+    \/* 21: convssswb *\/\n+    var67 = ORC_CLAMP_SB (var66.i);\n+    \/* 23: mulhsw *\/\n+    var68.i = (var56.i * var48.i) >> 16;\n+    \/* 24: addw *\/\n+    var69.i = var60.i + var68.i;\n+    \/* 26: mulhsw *\/\n+    var70.i = (var59.i * var49.i) >> 16;\n+    \/* 27: addw *\/\n+    var71.i = var69.i + var70.i;\n+    \/* 28: convssswb *\/\n+    var72 = ORC_CLAMP_SB (var71.i);\n+    \/* 29: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var67;\n+      _dest.x2[1] = var72;\n+      var73.i = _dest.i;\n+    }\n+    \/* 30: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var73.i;\n+      _dest.x2[1] = var64.i;\n+      var74.i = _dest.i;\n+    }\n+    \/* 32: addb *\/\n+    var51.x4[0] = var74.x4[0] + var50.x4[0];\n+    var51.x4[1] = var74.x4[1] + var50.x4[1];\n+    var51.x4[2] = var74.x4[2] + var50.x4[2];\n+    var51.x4[3] = var74.x4[3] + var50.x4[3];\n+    \/* 33: storel *\/\n+    ptr0[i] = var51;\n+  }\n+\n+}\n+\n+void\n+video_orc_convert_I420_BGRA (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n+    int n)\n+{\n+  OrcExecutor _ex, *ex = &_ex;\n+  static volatile int p_inited = 0;\n+  static OrcCode *c = 0;\n+  void (*func) (OrcExecutor *);\n+\n+  if (!p_inited) {\n+    orc_once_mutex_lock ();\n+    if (!p_inited) {\n+      OrcProgram *p;\n+\n+#if 1\n+      static const orc_uint8 bc[] = {\n+        1, 9, 27, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 99, 111, 110,\n+        118, 101, 114, 116, 95, 73, 52, 50, 48, 95, 66, 71, 82, 65, 11, 4,\n+        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128, 0, 0, 0,\n+        14, 4, 128, 0, 0, 0, 14, 1, 127, 0, 0, 0, 16, 2, 16, 2,\n+        16, 2, 16, 2, 16, 2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 2,\n+        20, 2, 20, 1, 20, 1, 20, 1, 20, 4, 65, 38, 4, 16, 151, 32,\n+        38, 45, 38, 5, 65, 38, 38, 16, 151, 33, 38, 45, 38, 6, 65, 38,\n+        38, 16, 151, 34, 38, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32,\n+        35, 159, 38, 35, 196, 35, 38, 18, 90, 37, 33, 26, 70, 37, 32, 37,\n+        159, 40, 37, 90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70,\n+        36, 36, 32, 159, 39, 36, 196, 37, 40, 39, 195, 41, 37, 35, 21, 2,\n+        33, 0, 41, 17, 2, 0,\n+      };\n+      p = orc_program_new_from_static_bytecode (bc);\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_BGRA);\n+#else\n+      p = orc_program_new ();\n+      orc_program_set_name (p, \"video_orc_convert_I420_BGRA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_BGRA);\n+      orc_program_add_destination (p, 4, \"d1\");\n+      orc_program_add_source (p, 1, \"s1\");\n+      orc_program_add_source (p, 1, \"s2\");\n+      orc_program_add_source (p, 1, \"s3\");\n+      orc_program_add_constant (p, 1, 0x00000080, \"c1\");\n+      orc_program_add_constant (p, 4, 0x00000080, \"c2\");\n+      orc_program_add_constant (p, 1, 0x0000007f, \"c3\");\n+      orc_program_add_parameter (p, 2, \"p1\");\n+      orc_program_add_parameter (p, 2, \"p2\");\n+      orc_program_add_parameter (p, 2, \"p3\");\n+      orc_program_add_parameter (p, 2, \"p4\");\n+      orc_program_add_parameter (p, 2, \"p5\");\n+      orc_program_add_temporary (p, 2, \"t1\");\n+      orc_program_add_temporary (p, 2, \"t2\");\n+      orc_program_add_temporary (p, 2, \"t3\");\n+      orc_program_add_temporary (p, 2, \"t4\");\n+      orc_program_add_temporary (p, 2, \"t5\");\n+      orc_program_add_temporary (p, 2, \"t6\");\n+      orc_program_add_temporary (p, 1, \"t7\");\n+      orc_program_add_temporary (p, 1, \"t8\");\n+      orc_program_add_temporary (p, 1, \"t9\");\n+      orc_program_add_temporary (p, 4, \"t10\");\n+\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_S1, ORC_VAR_C1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T1, ORC_VAR_T7, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T7, ORC_VAR_S2,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_T7, ORC_VAR_C1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T2, ORC_VAR_T7, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T7, ORC_VAR_S3,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_T7, ORC_VAR_C1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T3, ORC_VAR_T7, ORC_VAR_D1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T1, ORC_VAR_T1, ORC_VAR_P1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_P2,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T4, ORC_VAR_T1, ORC_VAR_T4,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T7, ORC_VAR_T4,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_T7, ORC_VAR_C3,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T6, ORC_VAR_T2, ORC_VAR_P3,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T6, ORC_VAR_T1, ORC_VAR_T6,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T9, ORC_VAR_T6,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T2, ORC_VAR_P4,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T5, ORC_VAR_T1, ORC_VAR_T5,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T1, ORC_VAR_T3, ORC_VAR_P5,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T5, ORC_VAR_T5, ORC_VAR_T1,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T8, ORC_VAR_T5,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T9, ORC_VAR_T8,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T10, ORC_VAR_T6,\n+          ORC_VAR_T4, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T10, ORC_VAR_C2,\n+          ORC_VAR_D1);\n+#endif\n+\n+      orc_program_compile (p);\n+      c = orc_program_take_code (p);\n+      orc_program_free (p);\n+    }\n+    p_inited = TRUE;\n+    orc_once_mutex_unlock ();\n+  }\n+  ex->arrays[ORC_VAR_A2] = c;\n+  ex->program = 0;\n+\n+  ex->n = n;\n+  ex->arrays[ORC_VAR_D1] = d1;\n+  ex->arrays[ORC_VAR_S1] = (void *) s1;\n+  ex->arrays[ORC_VAR_S2] = (void *) s2;\n+  ex->arrays[ORC_VAR_S3] = (void *) s3;\n+  ex->params[ORC_VAR_P1] = p1;\n+  ex->params[ORC_VAR_P2] = p2;\n+  ex->params[ORC_VAR_P3] = p3;\n+  ex->params[ORC_VAR_P4] = p4;\n+  ex->params[ORC_VAR_P5] = p5;\n+\n+  func = c->exec;\n+  func (ex);\n+}\n+#endif\n+\n+\n+\/* video_orc_convert_I420_ARGB *\/\n+#ifdef DISABLE_ORC\n+void\n+video_orc_convert_I420_ARGB (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n+    int n)\n+{\n+  int i;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  orc_int8 var42;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var43;\n+#else\n+  orc_int8 var43;\n+#endif\n+  orc_union16 var44;\n+  orc_union16 var45;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var46;\n+#else\n+  orc_int8 var46;\n+#endif\n+  orc_union16 var47;\n+  orc_union16 var48;\n+  orc_union16 var49;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union32 var50;\n+#else\n+  orc_union32 var50;\n+#endif\n+  orc_union32 var51;\n+  orc_int8 var52;\n+  orc_union16 var53;\n+  orc_int8 var54;\n+  orc_int8 var55;\n+  orc_union16 var56;\n+  orc_int8 var57;\n+  orc_int8 var58;\n+  orc_union16 var59;\n+  orc_union16 var60;\n+  orc_union16 var61;\n+  orc_union16 var62;\n+  orc_int8 var63;\n+  orc_union16 var64;\n+  orc_union16 var65;\n+  orc_union16 var66;\n+  orc_int8 var67;\n+  orc_union16 var68;\n+  orc_union16 var69;\n+  orc_union16 var70;\n+  orc_union16 var71;\n+  orc_int8 var72;\n+  orc_union16 var73;\n+  orc_union32 var74;\n+\n+  ptr0 = (orc_union32 *) d1;\n+  ptr4 = (orc_int8 *) s1;\n+  ptr5 = (orc_int8 *) s2;\n+  ptr6 = (orc_int8 *) s3;\n+\n+  \/* 1: loadpb *\/\n+  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n+  \/* 10: loadpw *\/\n+  var44.i = p1;\n+  \/* 12: loadpw *\/\n+  var45.i = p2;\n+  \/* 16: loadpb *\/\n+  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n+  \/* 18: loadpw *\/\n+  var47.i = p3;\n+  \/* 22: loadpw *\/\n+  var48.i = p4;\n+  \/* 25: loadpw *\/\n+  var49.i = p5;\n+  \/* 31: loadpb *\/\n+  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadb *\/\n+    var42 = ptr4[i];\n+    \/* 2: subb *\/\n+    var52 = var42 - var43;\n+    \/* 3: splatbw *\/\n+    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    \/* 4: loadupdb *\/\n+    var54 = ptr5[i >> 1];\n+    \/* 5: subb *\/\n+    var55 = var54 - var43;\n+    \/* 6: splatbw *\/\n+    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    \/* 7: loadupdb *\/\n+    var57 = ptr6[i >> 1];\n+    \/* 8: subb *\/\n+    var58 = var57 - var43;\n+    \/* 9: splatbw *\/\n+    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n+    \/* 11: mulhsw *\/\n+    var60.i = (var53.i * var44.i) >> 16;\n+    \/* 13: mulhsw *\/\n+    var61.i = (var59.i * var45.i) >> 16;\n+    \/* 14: addw *\/\n+    var62.i = var60.i + var61.i;\n+    \/* 15: convssswb *\/\n+    var63 = ORC_CLAMP_SB (var62.i);\n+    \/* 17: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var46;\n+      _dest.x2[1] = var63;\n+      var64.i = _dest.i;\n+    }\n+    \/* 19: mulhsw *\/\n+    var65.i = (var56.i * var47.i) >> 16;\n+    \/* 20: addw *\/\n+    var66.i = var60.i + var65.i;\n+    \/* 21: convssswb *\/\n+    var67 = ORC_CLAMP_SB (var66.i);\n+    \/* 23: mulhsw *\/\n+    var68.i = (var56.i * var48.i) >> 16;\n+    \/* 24: addw *\/\n+    var69.i = var60.i + var68.i;\n+    \/* 26: mulhsw *\/\n+    var70.i = (var59.i * var49.i) >> 16;\n+    \/* 27: addw *\/\n+    var71.i = var69.i + var70.i;\n+    \/* 28: convssswb *\/\n+    var72 = ORC_CLAMP_SB (var71.i);\n+    \/* 29: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var72;\n+      _dest.x2[1] = var67;\n+      var73.i = _dest.i;\n+    }\n+    \/* 30: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var64.i;\n+      _dest.x2[1] = var73.i;\n+      var74.i = _dest.i;\n+    }\n+    \/* 32: addb *\/\n+    var51.x4[0] = var74.x4[0] + var50.x4[0];\n+    var51.x4[1] = var74.x4[1] + var50.x4[1];\n+    var51.x4[2] = var74.x4[2] + var50.x4[2];\n+    var51.x4[3] = var74.x4[3] + var50.x4[3];\n+    \/* 33: storel *\/\n+    ptr0[i] = var51;\n+  }\n+\n+}\n+\n+#else\n+static void\n+_backup_video_orc_convert_I420_ARGB (OrcExecutor * ORC_RESTRICT ex)\n+{\n+  int i;\n+  int n = ex->n;\n+  orc_union32 *ORC_RESTRICT ptr0;\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  orc_int8 var42;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var43;\n+#else\n+  orc_int8 var43;\n+#endif\n+  orc_union16 var44;\n+  orc_union16 var45;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_int8 var46;\n+#else\n+  orc_int8 var46;\n+#endif\n+  orc_union16 var47;\n+  orc_union16 var48;\n+  orc_union16 var49;\n+#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n+  volatile orc_union32 var50;\n+#else\n+  orc_union32 var50;\n+#endif\n+  orc_union32 var51;\n+  orc_int8 var52;\n+  orc_union16 var53;\n+  orc_int8 var54;\n+  orc_int8 var55;\n+  orc_union16 var56;\n+  orc_int8 var57;\n+  orc_int8 var58;\n+  orc_union16 var59;\n+  orc_union16 var60;\n+  orc_union16 var61;\n+  orc_union16 var62;\n+  orc_int8 var63;\n+  orc_union16 var64;\n+  orc_union16 var65;\n+  orc_union16 var66;\n+  orc_int8 var67;\n+  orc_union16 var68;\n+  orc_union16 var69;\n+  orc_union16 var70;\n+  orc_union16 var71;\n+  orc_int8 var72;\n+  orc_union16 var73;\n+  orc_union32 var74;\n+\n+  ptr0 = (orc_union32 *) ex->arrays[0];\n+  ptr4 = (orc_int8 *) ex->arrays[4];\n+  ptr5 = (orc_int8 *) ex->arrays[5];\n+  ptr6 = (orc_int8 *) ex->arrays[6];\n+\n+  \/* 1: loadpb *\/\n+  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n+  \/* 10: loadpw *\/\n+  var44.i = ex->params[24];\n+  \/* 12: loadpw *\/\n+  var45.i = ex->params[25];\n+  \/* 16: loadpb *\/\n+  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n+  \/* 18: loadpw *\/\n+  var47.i = ex->params[26];\n+  \/* 22: loadpw *\/\n+  var48.i = ex->params[27];\n+  \/* 25: loadpw *\/\n+  var49.i = ex->params[28];\n+  \/* 31: loadpb *\/\n+  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+\n+  for (i = 0; i < n; i++) {\n+    \/* 0: loadb *\/\n+    var42 = ptr4[i];\n+    \/* 2: subb *\/\n+    var52 = var42 - var43;\n+    \/* 3: splatbw *\/\n+    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    \/* 4: loadupdb *\/\n+    var54 = ptr5[i >> 1];\n+    \/* 5: subb *\/\n+    var55 = var54 - var43;\n+    \/* 6: splatbw *\/\n+    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    \/* 7: loadupdb *\/\n+    var57 = ptr6[i >> 1];\n+    \/* 8: subb *\/\n+    var58 = var57 - var43;\n+    \/* 9: splatbw *\/\n+    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n+    \/* 11: mulhsw *\/\n+    var60.i = (var53.i * var44.i) >> 16;\n+    \/* 13: mulhsw *\/\n+    var61.i = (var59.i * var45.i) >> 16;\n+    \/* 14: addw *\/\n+    var62.i = var60.i + var61.i;\n+    \/* 15: convssswb *\/\n+    var63 = ORC_CLAMP_SB (var62.i);\n+    \/* 17: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var46;\n+      _dest.x2[1] = var63;\n+      var64.i = _dest.i;\n+    }\n+    \/* 19: mulhsw *\/\n+    var65.i = (var56.i * var47.i) >> 16;\n+    \/* 20: addw *\/\n+    var66.i = var60.i + var65.i;\n+    \/* 21: convssswb *\/\n+    var67 = ORC_CLAMP_SB (var66.i);\n+    \/* 23: mulhsw *\/\n+    var68.i = (var56.i * var48.i) >> 16;\n+    \/* 24: addw *\/\n+    var69.i = var60.i + var68.i;\n+    \/* 26: mulhsw *\/\n+    var70.i = (var59.i * var49.i) >> 16;\n+    \/* 27: addw *\/\n+    var71.i = var69.i + var70.i;\n+    \/* 28: convssswb *\/\n+    var72 = ORC_CLAMP_SB (var71.i);\n+    \/* 29: mergebw *\/\n+    {\n+      orc_union16 _dest;\n+      _dest.x2[0] = var72;\n+      _dest.x2[1] = var67;\n+      var73.i = _dest.i;\n+    }\n+    \/* 30: mergewl *\/\n+    {\n+      orc_union32 _dest;\n+      _dest.x2[0] = var64.i;\n+      _dest.x2[1] = var73.i;\n+      var74.i = _dest.i;\n+    }\n+    \/* 32: addb *\/\n+    var51.x4[0] = var74.x4[0] + var50.x4[0];\n+    var51.x4[1] = var74.x4[1] + var50.x4[1];\n+    var51.x4[2] = var74.x4[2] + var50.x4[2];\n+    var51.x4[3] = var74.x4[3] + var50.x4[3];\n+    \/* 33: storel *\/\n+    ptr0[i] = var51;\n+  }\n+\n+}\n+\n+void\n+video_orc_convert_I420_ARGB (guint8 * ORC_RESTRICT d1,\n+    const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2,\n+    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n+    int n)\n@@ -22686,11 +24191,12 @@\n-        1, 7, 9, 27, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 99, 111,\n-        110, 118, 101, 114, 116, 95, 65, 89, 85, 86, 95, 82, 71, 66, 65, 11,\n-        4, 4, 12, 4, 4, 14, 1, 128, 0, 0, 0, 16, 2, 16, 2, 16,\n-        2, 16, 2, 16, 2, 20, 1, 20, 1, 20, 1, 20, 1, 20, 2, 20,\n-        2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 1, 20, 1, 20, 1, 20,\n-        4, 21, 2, 65, 45, 4, 16, 198, 38, 36, 45, 199, 33, 32, 36, 199,\n-        35, 34, 38, 151, 36, 33, 151, 37, 34, 151, 38, 35, 90, 36, 36, 24,\n-        90, 39, 38, 25, 70, 39, 36, 39, 159, 42, 39, 90, 41, 37, 26, 70,\n-        41, 36, 41, 159, 44, 41, 196, 41, 44, 32, 90, 40, 37, 27, 70, 40,\n-        36, 40, 90, 36, 38, 28, 70, 40, 40, 36, 159, 43, 40, 196, 39, 42,\n-        43, 195, 45, 39, 41, 21, 2, 33, 0, 45, 16, 2, 0,\n+        1, 9, 27, 118, 105, 100, 101, 111, 95, 111, 114, 99, 95, 99, 111, 110,\n+        118, 101, 114, 116, 95, 73, 52, 50, 48, 95, 65, 82, 71, 66, 11, 4,\n+        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128, 0, 0, 0,\n+        14, 4, 128, 0, 0, 0, 14, 1, 127, 0, 0, 0, 16, 2, 16, 2,\n+        16, 2, 16, 2, 16, 2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 2,\n+        20, 2, 20, 1, 20, 1, 20, 1, 20, 4, 65, 38, 4, 16, 151, 32,\n+        38, 45, 38, 5, 65, 38, 38, 16, 151, 33, 38, 45, 38, 6, 65, 38,\n+        38, 16, 151, 34, 38, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32,\n+        35, 159, 38, 35, 196, 35, 18, 38, 90, 37, 33, 26, 70, 37, 32, 37,\n+        159, 40, 37, 90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70,\n+        36, 36, 32, 159, 39, 36, 196, 37, 39, 40, 195, 41, 35, 37, 21, 2,\n+        33, 0, 41, 17, 2, 0,\n@@ -22699,1 +24205,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_AYUV_RGBA);\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_ARGB);\n@@ -22702,3 +24208,2 @@\n-      orc_program_set_2d (p);\n-      orc_program_set_name (p, \"video_orc_convert_AYUV_RGBA\");\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_AYUV_RGBA);\n+      orc_program_set_name (p, \"video_orc_convert_I420_ARGB\");\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_ARGB);\n@@ -22706,1 +24211,3 @@\n-      orc_program_add_source (p, 4, \"s1\");\n+      orc_program_add_source (p, 1, \"s1\");\n+      orc_program_add_source (p, 1, \"s2\");\n+      orc_program_add_source (p, 1, \"s3\");\n@@ -22708,0 +24215,2 @@\n+      orc_program_add_constant (p, 4, 0x00000080, \"c2\");\n+      orc_program_add_constant (p, 1, 0x0000007f, \"c3\");\n@@ -22713,4 +24222,4 @@\n-      orc_program_add_temporary (p, 1, \"t1\");\n-      orc_program_add_temporary (p, 1, \"t2\");\n-      orc_program_add_temporary (p, 1, \"t3\");\n-      orc_program_add_temporary (p, 1, \"t4\");\n+      orc_program_add_temporary (p, 2, \"t1\");\n+      orc_program_add_temporary (p, 2, \"t2\");\n+      orc_program_add_temporary (p, 2, \"t3\");\n+      orc_program_add_temporary (p, 2, \"t4\");\n@@ -22719,8 +24228,4 @@\n-      orc_program_add_temporary (p, 2, \"t7\");\n-      orc_program_add_temporary (p, 2, \"t8\");\n-      orc_program_add_temporary (p, 2, \"t9\");\n-      orc_program_add_temporary (p, 2, \"t10\");\n-      orc_program_add_temporary (p, 1, \"t11\");\n-      orc_program_add_temporary (p, 1, \"t12\");\n-      orc_program_add_temporary (p, 1, \"t13\");\n-      orc_program_add_temporary (p, 4, \"t14\");\n+      orc_program_add_temporary (p, 1, \"t7\");\n+      orc_program_add_temporary (p, 1, \"t8\");\n+      orc_program_add_temporary (p, 1, \"t9\");\n+      orc_program_add_temporary (p, 4, \"t10\");\n@@ -22728,1 +24233,1 @@\n-      orc_program_append_2 (p, \"subb\", 2, ORC_VAR_T14, ORC_VAR_S1, ORC_VAR_C1,\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_S1, ORC_VAR_C1,\n@@ -22730,3 +24235,1 @@\n-      orc_program_append_2 (p, \"splitlw\", 0, ORC_VAR_T7, ORC_VAR_T5,\n-          ORC_VAR_T14, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"splitwb\", 0, ORC_VAR_T2, ORC_VAR_T1, ORC_VAR_T5,\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T1, ORC_VAR_T7, ORC_VAR_D1,\n@@ -22734,1 +24237,3 @@\n-      orc_program_append_2 (p, \"splitwb\", 0, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_T7,\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T7, ORC_VAR_S2,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_T7, ORC_VAR_C1,\n@@ -22736,1 +24241,1 @@\n-      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T5, ORC_VAR_T2, ORC_VAR_D1,\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T2, ORC_VAR_T7, ORC_VAR_D1,\n@@ -22738,1 +24243,3 @@\n-      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T6, ORC_VAR_T3, ORC_VAR_D1,\n+      orc_program_append_2 (p, \"loadupdb\", 0, ORC_VAR_T7, ORC_VAR_S3,\n+          ORC_VAR_D1, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T7, ORC_VAR_T7, ORC_VAR_C1,\n@@ -22740,1 +24247,1 @@\n-      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T7, ORC_VAR_T4, ORC_VAR_D1,\n+      orc_program_append_2 (p, \"splatbw\", 0, ORC_VAR_T3, ORC_VAR_T7, ORC_VAR_D1,\n@@ -22742,1 +24249,1 @@\n-      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T5, ORC_VAR_P1,\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T1, ORC_VAR_T1, ORC_VAR_P1,\n@@ -22744,1 +24251,1 @@\n-      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T8, ORC_VAR_T7, ORC_VAR_P2,\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T4, ORC_VAR_T3, ORC_VAR_P2,\n@@ -22746,1 +24253,1 @@\n-      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T8, ORC_VAR_T5, ORC_VAR_T8,\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T4, ORC_VAR_T1, ORC_VAR_T4,\n@@ -22748,1 +24255,1 @@\n-      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T11, ORC_VAR_T8,\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T7, ORC_VAR_T4,\n@@ -22750,1 +24257,1 @@\n-      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T10, ORC_VAR_T6, ORC_VAR_P3,\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_C3, ORC_VAR_T7,\n@@ -22752,1 +24259,1 @@\n-      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T10, ORC_VAR_T5, ORC_VAR_T10,\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T6, ORC_VAR_T2, ORC_VAR_P3,\n@@ -22754,1 +24261,3 @@\n-      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T13, ORC_VAR_T10,\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T6, ORC_VAR_T1, ORC_VAR_T6,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T9, ORC_VAR_T6,\n@@ -22756,3 +24265,1 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T10, ORC_VAR_T13,\n-          ORC_VAR_T1, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T9, ORC_VAR_T6, ORC_VAR_P4,\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T2, ORC_VAR_P4,\n@@ -22760,1 +24267,1 @@\n-      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T9, ORC_VAR_T5, ORC_VAR_T9,\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T5, ORC_VAR_T1, ORC_VAR_T5,\n@@ -22762,1 +24269,1 @@\n-      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T5, ORC_VAR_T7, ORC_VAR_P5,\n+      orc_program_append_2 (p, \"mulhsw\", 0, ORC_VAR_T1, ORC_VAR_T3, ORC_VAR_P5,\n@@ -22764,1 +24271,1 @@\n-      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T9, ORC_VAR_T9, ORC_VAR_T5,\n+      orc_program_append_2 (p, \"addw\", 0, ORC_VAR_T5, ORC_VAR_T5, ORC_VAR_T1,\n@@ -22766,1 +24273,1 @@\n-      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T12, ORC_VAR_T9,\n+      orc_program_append_2 (p, \"convssswb\", 0, ORC_VAR_T8, ORC_VAR_T5,\n@@ -22768,5 +24275,5 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T8, ORC_VAR_T11,\n-          ORC_VAR_T12, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T14, ORC_VAR_T8,\n-          ORC_VAR_T10, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T14, ORC_VAR_C1,\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T8, ORC_VAR_T9,\n+          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T10, ORC_VAR_T4,\n+          ORC_VAR_T6, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T10, ORC_VAR_C2,\n@@ -22787,1 +24294,0 @@\n-  ORC_EXECUTOR_M (ex) = m;\n@@ -22789,1 +24295,0 @@\n-  ex->params[ORC_VAR_D1] = d1_stride;\n@@ -22791,1 +24296,2 @@\n-  ex->params[ORC_VAR_S1] = s1_stride;\n+  ex->arrays[ORC_VAR_S2] = (void *) s2;\n+  ex->arrays[ORC_VAR_S3] = (void *) s3;\n@@ -22804,1 +24310,1 @@\n-\/* video_orc_convert_I420_BGRA *\/\n+\/* video_orc_convert_A420_ARGB *\/\n@@ -22807,1 +24313,1 @@\n-video_orc_convert_I420_BGRA (guint8 * ORC_RESTRICT d1,\n+video_orc_convert_A420_ARGB (guint8 * ORC_RESTRICT d1,\n@@ -22809,2 +24315,2 @@\n-    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n-    int n)\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n)\n@@ -22817,4 +24323,1 @@\n-  orc_int8 var42;\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_int8 var43;\n-#else\n+  const orc_int8 *ORC_RESTRICT ptr7;\n@@ -22822,3 +24325,0 @@\n-#endif\n-  orc_union16 var44;\n-  orc_union16 var45;\n@@ -22826,1 +24326,1 @@\n-  volatile orc_int8 var46;\n+  volatile orc_int8 var44;\n@@ -22828,1 +24328,1 @@\n-  orc_int8 var46;\n+  orc_int8 var44;\n@@ -22830,0 +24330,2 @@\n+  orc_int8 var45;\n+  orc_union16 var46;\n@@ -22833,0 +24335,1 @@\n+  orc_union16 var50;\n@@ -22834,1 +24337,1 @@\n-  volatile orc_union32 var50;\n+  volatile orc_union32 var51;\n@@ -22836,2 +24339,0 @@\n-  orc_union32 var50;\n-#endif\n@@ -22839,3 +24340,4 @@\n-  orc_int8 var52;\n-  orc_union16 var53;\n-  orc_int8 var54;\n+#endif\n+  orc_union32 var52;\n+  orc_int8 var53;\n+  orc_union16 var54;\n@@ -22843,2 +24345,2 @@\n-  orc_union16 var56;\n-  orc_int8 var57;\n+  orc_int8 var56;\n+  orc_union16 var57;\n@@ -22846,1 +24348,1 @@\n-  orc_union16 var59;\n+  orc_int8 var59;\n@@ -22848,1 +24350,1 @@\n-  orc_union16 var61;\n+  orc_int8 var61;\n@@ -22850,1 +24352,1 @@\n-  orc_int8 var63;\n+  orc_union16 var63;\n@@ -22852,1 +24354,1 @@\n-  orc_union16 var65;\n+  orc_int8 var65;\n@@ -22854,1 +24356,1 @@\n-  orc_int8 var67;\n+  orc_union16 var67;\n@@ -22856,1 +24358,1 @@\n-  orc_union16 var69;\n+  orc_int8 var69;\n@@ -22859,1 +24361,1 @@\n-  orc_int8 var72;\n+  orc_union16 var72;\n@@ -22861,1 +24363,3 @@\n-  orc_union32 var74;\n+  orc_int8 var74;\n+  orc_union16 var75;\n+  orc_union32 var76;\n@@ -22867,0 +24371,1 @@\n+  ptr7 = (orc_int8 *) s4;\n@@ -22869,3 +24374,1 @@\n-  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n-  \/* 10: loadpw *\/\n-  var44.i = p1;\n+  var44 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n@@ -22873,14 +24376,14 @@\n-  var45.i = p2;\n-  \/* 16: loadpb *\/\n-  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n-  \/* 18: loadpw *\/\n-  var47.i = p3;\n-  \/* 22: loadpw *\/\n-  var48.i = p4;\n-  \/* 25: loadpw *\/\n-  var49.i = p5;\n-  \/* 31: loadpb *\/\n-  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var46.i = p1;\n+  \/* 14: loadpw *\/\n+  var47.i = p2;\n+  \/* 19: loadpw *\/\n+  var48.i = p3;\n+  \/* 23: loadpw *\/\n+  var49.i = p4;\n+  \/* 26: loadpw *\/\n+  var50.i = p5;\n+  \/* 32: loadpb *\/\n+  var51.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n@@ -22890,1 +24393,1 @@\n-    var42 = ptr4[i];\n+    var43 = ptr4[i];\n@@ -22892,1 +24395,1 @@\n-    var52 = var42 - var43;\n+    var53 = var43 - var44;\n@@ -22894,1 +24397,1 @@\n-    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    var54.i = ((var53 & 0xff) << 8) | (var53 & 0xff);\n@@ -22896,1 +24399,1 @@\n-    var54 = ptr5[i >> 1];\n+    var55 = ptr5[i >> 1];\n@@ -22898,1 +24401,1 @@\n-    var55 = var54 - var43;\n+    var56 = var55 - var44;\n@@ -22900,1 +24403,1 @@\n-    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    var57.i = ((var56 & 0xff) << 8) | (var56 & 0xff);\n@@ -22902,1 +24405,1 @@\n-    var57 = ptr6[i >> 1];\n+    var58 = ptr6[i >> 1];\n@@ -22904,1 +24407,1 @@\n-    var58 = var57 - var43;\n+    var59 = var58 - var44;\n@@ -22906,3 +24409,5 @@\n-    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n-    \/* 11: mulhsw *\/\n-    var60.i = (var53.i * var44.i) >> 16;\n+    var60.i = ((var59 & 0xff) << 8) | (var59 & 0xff);\n+    \/* 10: loadb *\/\n+    var45 = ptr7[i];\n+    \/* 11: subb *\/\n+    var61 = var45 - var44;\n@@ -22910,6 +24415,8 @@\n-    var61.i = (var59.i * var45.i) >> 16;\n-    \/* 14: addw *\/\n-    var62.i = var60.i + var61.i;\n-    \/* 15: convssswb *\/\n-    var63 = ORC_CLAMP_SB (var62.i);\n-    \/* 17: mergebw *\/\n+    var62.i = (var54.i * var46.i) >> 16;\n+    \/* 15: mulhsw *\/\n+    var63.i = (var60.i * var47.i) >> 16;\n+    \/* 16: addw *\/\n+    var64.i = var62.i + var63.i;\n+    \/* 17: convssswb *\/\n+    var65 = ORC_CLAMP_SB (var64.i);\n+    \/* 18: mergebw *\/\n@@ -22918,21 +24425,21 @@\n-      _dest.x2[0] = var63;\n-      _dest.x2[1] = var46;\n-      var64.i = _dest.i;\n-    }\n-    \/* 19: mulhsw *\/\n-    var65.i = (var56.i * var47.i) >> 16;\n-    \/* 20: addw *\/\n-    var66.i = var60.i + var65.i;\n-    \/* 21: convssswb *\/\n-    var67 = ORC_CLAMP_SB (var66.i);\n-    \/* 23: mulhsw *\/\n-    var68.i = (var56.i * var48.i) >> 16;\n-    \/* 24: addw *\/\n-    var69.i = var60.i + var68.i;\n-    \/* 26: mulhsw *\/\n-    var70.i = (var59.i * var49.i) >> 16;\n-    \/* 27: addw *\/\n-    var71.i = var69.i + var70.i;\n-    \/* 28: convssswb *\/\n-    var72 = ORC_CLAMP_SB (var71.i);\n-    \/* 29: mergebw *\/\n+      _dest.x2[0] = var61;\n+      _dest.x2[1] = var65;\n+      var66.i = _dest.i;\n+    }\n+    \/* 20: mulhsw *\/\n+    var67.i = (var57.i * var48.i) >> 16;\n+    \/* 21: addw *\/\n+    var68.i = var62.i + var67.i;\n+    \/* 22: convssswb *\/\n+    var69 = ORC_CLAMP_SB (var68.i);\n+    \/* 24: mulhsw *\/\n+    var70.i = (var57.i * var49.i) >> 16;\n+    \/* 25: addw *\/\n+    var71.i = var62.i + var70.i;\n+    \/* 27: mulhsw *\/\n+    var72.i = (var60.i * var50.i) >> 16;\n+    \/* 28: addw *\/\n+    var73.i = var71.i + var72.i;\n+    \/* 29: convssswb *\/\n+    var74 = ORC_CLAMP_SB (var73.i);\n+    \/* 30: mergebw *\/\n@@ -22941,3 +24448,3 @@\n-      _dest.x2[0] = var67;\n-      _dest.x2[1] = var72;\n-      var73.i = _dest.i;\n+      _dest.x2[0] = var74;\n+      _dest.x2[1] = var69;\n+      var75.i = _dest.i;\n@@ -22945,1 +24452,1 @@\n-    \/* 30: mergewl *\/\n+    \/* 31: mergewl *\/\n@@ -22948,3 +24455,3 @@\n-      _dest.x2[0] = var73.i;\n-      _dest.x2[1] = var64.i;\n-      var74.i = _dest.i;\n+      _dest.x2[0] = var66.i;\n+      _dest.x2[1] = var75.i;\n+      var76.i = _dest.i;\n@@ -22952,7 +24459,7 @@\n-    \/* 32: addb *\/\n-    var51.x4[0] = var74.x4[0] + var50.x4[0];\n-    var51.x4[1] = var74.x4[1] + var50.x4[1];\n-    var51.x4[2] = var74.x4[2] + var50.x4[2];\n-    var51.x4[3] = var74.x4[3] + var50.x4[3];\n-    \/* 33: storel *\/\n-    ptr0[i] = var51;\n+    \/* 33: addb *\/\n+    var52.x4[0] = var76.x4[0] + var51.x4[0];\n+    var52.x4[1] = var76.x4[1] + var51.x4[1];\n+    var52.x4[2] = var76.x4[2] + var51.x4[2];\n+    var52.x4[3] = var76.x4[3] + var51.x4[3];\n+    \/* 34: storel *\/\n+    ptr0[i] = var52;\n@@ -22965,1 +24472,1 @@\n-_backup_video_orc_convert_I420_BGRA (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_convert_A420_ARGB (OrcExecutor * ORC_RESTRICT ex)\n@@ -22973,4 +24480,1 @@\n-  orc_int8 var42;\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_int8 var43;\n-#else\n+  const orc_int8 *ORC_RESTRICT ptr7;\n@@ -22978,3 +24482,0 @@\n-#endif\n-  orc_union16 var44;\n-  orc_union16 var45;\n@@ -22982,1 +24483,1 @@\n-  volatile orc_int8 var46;\n+  volatile orc_int8 var44;\n@@ -22984,1 +24485,1 @@\n-  orc_int8 var46;\n+  orc_int8 var44;\n@@ -22986,0 +24487,2 @@\n+  orc_int8 var45;\n+  orc_union16 var46;\n@@ -22989,0 +24492,1 @@\n+  orc_union16 var50;\n@@ -22990,1 +24494,1 @@\n-  volatile orc_union32 var50;\n+  volatile orc_union32 var51;\n@@ -22992,2 +24496,0 @@\n-  orc_union32 var50;\n-#endif\n@@ -22995,3 +24497,4 @@\n-  orc_int8 var52;\n-  orc_union16 var53;\n-  orc_int8 var54;\n+#endif\n+  orc_union32 var52;\n+  orc_int8 var53;\n+  orc_union16 var54;\n@@ -22999,2 +24502,2 @@\n-  orc_union16 var56;\n-  orc_int8 var57;\n+  orc_int8 var56;\n+  orc_union16 var57;\n@@ -23002,1 +24505,1 @@\n-  orc_union16 var59;\n+  orc_int8 var59;\n@@ -23004,1 +24507,1 @@\n-  orc_union16 var61;\n+  orc_int8 var61;\n@@ -23006,1 +24509,1 @@\n-  orc_int8 var63;\n+  orc_union16 var63;\n@@ -23008,1 +24511,1 @@\n-  orc_union16 var65;\n+  orc_int8 var65;\n@@ -23010,1 +24513,1 @@\n-  orc_int8 var67;\n+  orc_union16 var67;\n@@ -23012,1 +24515,1 @@\n-  orc_union16 var69;\n+  orc_int8 var69;\n@@ -23015,1 +24518,1 @@\n-  orc_int8 var72;\n+  orc_union16 var72;\n@@ -23017,1 +24520,3 @@\n-  orc_union32 var74;\n+  orc_int8 var74;\n+  orc_union16 var75;\n+  orc_union32 var76;\n@@ -23023,0 +24528,1 @@\n+  ptr7 = (orc_int8 *) ex->arrays[7];\n@@ -23025,3 +24531,1 @@\n-  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n-  \/* 10: loadpw *\/\n-  var44.i = ex->params[24];\n+  var44 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n@@ -23029,14 +24533,14 @@\n-  var45.i = ex->params[25];\n-  \/* 16: loadpb *\/\n-  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n-  \/* 18: loadpw *\/\n-  var47.i = ex->params[26];\n-  \/* 22: loadpw *\/\n-  var48.i = ex->params[27];\n-  \/* 25: loadpw *\/\n-  var49.i = ex->params[28];\n-  \/* 31: loadpb *\/\n-  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var46.i = ex->params[24];\n+  \/* 14: loadpw *\/\n+  var47.i = ex->params[25];\n+  \/* 19: loadpw *\/\n+  var48.i = ex->params[26];\n+  \/* 23: loadpw *\/\n+  var49.i = ex->params[27];\n+  \/* 26: loadpw *\/\n+  var50.i = ex->params[28];\n+  \/* 32: loadpb *\/\n+  var51.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n@@ -23046,1 +24550,1 @@\n-    var42 = ptr4[i];\n+    var43 = ptr4[i];\n@@ -23048,1 +24552,1 @@\n-    var52 = var42 - var43;\n+    var53 = var43 - var44;\n@@ -23050,1 +24554,1 @@\n-    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    var54.i = ((var53 & 0xff) << 8) | (var53 & 0xff);\n@@ -23052,1 +24556,1 @@\n-    var54 = ptr5[i >> 1];\n+    var55 = ptr5[i >> 1];\n@@ -23054,1 +24558,1 @@\n-    var55 = var54 - var43;\n+    var56 = var55 - var44;\n@@ -23056,1 +24560,1 @@\n-    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    var57.i = ((var56 & 0xff) << 8) | (var56 & 0xff);\n@@ -23058,1 +24562,1 @@\n-    var57 = ptr6[i >> 1];\n+    var58 = ptr6[i >> 1];\n@@ -23060,1 +24564,1 @@\n-    var58 = var57 - var43;\n+    var59 = var58 - var44;\n@@ -23062,3 +24566,5 @@\n-    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n-    \/* 11: mulhsw *\/\n-    var60.i = (var53.i * var44.i) >> 16;\n+    var60.i = ((var59 & 0xff) << 8) | (var59 & 0xff);\n+    \/* 10: loadb *\/\n+    var45 = ptr7[i];\n+    \/* 11: subb *\/\n+    var61 = var45 - var44;\n@@ -23066,6 +24572,8 @@\n-    var61.i = (var59.i * var45.i) >> 16;\n-    \/* 14: addw *\/\n-    var62.i = var60.i + var61.i;\n-    \/* 15: convssswb *\/\n-    var63 = ORC_CLAMP_SB (var62.i);\n-    \/* 17: mergebw *\/\n+    var62.i = (var54.i * var46.i) >> 16;\n+    \/* 15: mulhsw *\/\n+    var63.i = (var60.i * var47.i) >> 16;\n+    \/* 16: addw *\/\n+    var64.i = var62.i + var63.i;\n+    \/* 17: convssswb *\/\n+    var65 = ORC_CLAMP_SB (var64.i);\n+    \/* 18: mergebw *\/\n@@ -23074,21 +24582,21 @@\n-      _dest.x2[0] = var63;\n-      _dest.x2[1] = var46;\n-      var64.i = _dest.i;\n-    }\n-    \/* 19: mulhsw *\/\n-    var65.i = (var56.i * var47.i) >> 16;\n-    \/* 20: addw *\/\n-    var66.i = var60.i + var65.i;\n-    \/* 21: convssswb *\/\n-    var67 = ORC_CLAMP_SB (var66.i);\n-    \/* 23: mulhsw *\/\n-    var68.i = (var56.i * var48.i) >> 16;\n-    \/* 24: addw *\/\n-    var69.i = var60.i + var68.i;\n-    \/* 26: mulhsw *\/\n-    var70.i = (var59.i * var49.i) >> 16;\n-    \/* 27: addw *\/\n-    var71.i = var69.i + var70.i;\n-    \/* 28: convssswb *\/\n-    var72 = ORC_CLAMP_SB (var71.i);\n-    \/* 29: mergebw *\/\n+      _dest.x2[0] = var61;\n+      _dest.x2[1] = var65;\n+      var66.i = _dest.i;\n+    }\n+    \/* 20: mulhsw *\/\n+    var67.i = (var57.i * var48.i) >> 16;\n+    \/* 21: addw *\/\n+    var68.i = var62.i + var67.i;\n+    \/* 22: convssswb *\/\n+    var69 = ORC_CLAMP_SB (var68.i);\n+    \/* 24: mulhsw *\/\n+    var70.i = (var57.i * var49.i) >> 16;\n+    \/* 25: addw *\/\n+    var71.i = var62.i + var70.i;\n+    \/* 27: mulhsw *\/\n+    var72.i = (var60.i * var50.i) >> 16;\n+    \/* 28: addw *\/\n+    var73.i = var71.i + var72.i;\n+    \/* 29: convssswb *\/\n+    var74 = ORC_CLAMP_SB (var73.i);\n+    \/* 30: mergebw *\/\n@@ -23097,3 +24605,3 @@\n-      _dest.x2[0] = var67;\n-      _dest.x2[1] = var72;\n-      var73.i = _dest.i;\n+      _dest.x2[0] = var74;\n+      _dest.x2[1] = var69;\n+      var75.i = _dest.i;\n@@ -23101,1 +24609,1 @@\n-    \/* 30: mergewl *\/\n+    \/* 31: mergewl *\/\n@@ -23104,3 +24612,3 @@\n-      _dest.x2[0] = var73.i;\n-      _dest.x2[1] = var64.i;\n-      var74.i = _dest.i;\n+      _dest.x2[0] = var66.i;\n+      _dest.x2[1] = var75.i;\n+      var76.i = _dest.i;\n@@ -23108,7 +24616,7 @@\n-    \/* 32: addb *\/\n-    var51.x4[0] = var74.x4[0] + var50.x4[0];\n-    var51.x4[1] = var74.x4[1] + var50.x4[1];\n-    var51.x4[2] = var74.x4[2] + var50.x4[2];\n-    var51.x4[3] = var74.x4[3] + var50.x4[3];\n-    \/* 33: storel *\/\n-    ptr0[i] = var51;\n+    \/* 33: addb *\/\n+    var52.x4[0] = var76.x4[0] + var51.x4[0];\n+    var52.x4[1] = var76.x4[1] + var51.x4[1];\n+    var52.x4[2] = var76.x4[2] + var51.x4[2];\n+    var52.x4[3] = var76.x4[3] + var51.x4[3];\n+    \/* 34: storel *\/\n+    ptr0[i] = var52;\n@@ -23120,1 +24628,1 @@\n-video_orc_convert_I420_BGRA (guint8 * ORC_RESTRICT d1,\n+video_orc_convert_A420_ARGB (guint8 * ORC_RESTRICT d1,\n@@ -23122,2 +24630,2 @@\n-    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n-    int n)\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n)\n@@ -23138,11 +24646,11 @@\n-        118, 101, 114, 116, 95, 73, 52, 50, 48, 95, 66, 71, 82, 65, 11, 4,\n-        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128, 0, 0, 0,\n-        14, 4, 128, 0, 0, 0, 14, 1, 127, 0, 0, 0, 16, 2, 16, 2,\n-        16, 2, 16, 2, 16, 2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 2,\n-        20, 2, 20, 1, 20, 1, 20, 1, 20, 4, 65, 38, 4, 16, 151, 32,\n-        38, 45, 38, 5, 65, 38, 38, 16, 151, 33, 38, 45, 38, 6, 65, 38,\n-        38, 16, 151, 34, 38, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32,\n-        35, 159, 38, 35, 196, 35, 38, 18, 90, 37, 33, 26, 70, 37, 32, 37,\n-        159, 40, 37, 90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70,\n-        36, 36, 32, 159, 39, 36, 196, 37, 40, 39, 195, 41, 37, 35, 21, 2,\n-        33, 0, 41, 17, 2, 0,\n+        118, 101, 114, 116, 95, 65, 52, 50, 48, 95, 65, 82, 71, 66, 11, 4,\n+        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128,\n+        0, 0, 0, 16, 2, 16, 2, 16, 2, 16, 2, 16, 2, 20, 2, 20,\n+        2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 1, 20, 1, 20, 1, 20,\n+        1, 20, 4, 65, 38, 4, 16, 151, 32, 38, 45, 38, 5, 65, 38, 38,\n+        16, 151, 33, 38, 45, 38, 6, 65, 38, 38, 16, 151, 34, 38, 65, 41,\n+        7, 16, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32, 35, 159, 38,\n+        35, 196, 35, 41, 38, 90, 37, 33, 26, 70, 37, 32, 37, 159, 40, 37,\n+        90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70, 36, 36, 32,\n+        159, 39, 36, 196, 37, 39, 40, 195, 42, 35, 37, 21, 2, 33, 0, 42,\n+        16, 2, 0,\n@@ -23151,1 +24659,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_BGRA);\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_A420_ARGB);\n@@ -23154,2 +24662,2 @@\n-      orc_program_set_name (p, \"video_orc_convert_I420_BGRA\");\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_BGRA);\n+      orc_program_set_name (p, \"video_orc_convert_A420_ARGB\");\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_A420_ARGB);\n@@ -23160,0 +24668,1 @@\n+      orc_program_add_source (p, 1, \"s4\");\n@@ -23161,2 +24670,0 @@\n-      orc_program_add_constant (p, 4, 0x00000080, \"c2\");\n-      orc_program_add_constant (p, 1, 0x0000007f, \"c3\");\n@@ -23177,1 +24684,2 @@\n-      orc_program_add_temporary (p, 4, \"t10\");\n+      orc_program_add_temporary (p, 1, \"t10\");\n+      orc_program_add_temporary (p, 4, \"t11\");\n@@ -23195,0 +24703,2 @@\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T10, ORC_VAR_S4, ORC_VAR_C1,\n+          ORC_VAR_D1);\n@@ -23203,2 +24713,2 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_T7, ORC_VAR_C3,\n-          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_T10,\n+          ORC_VAR_T7, ORC_VAR_D1);\n@@ -23221,1 +24731,1 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T9, ORC_VAR_T8,\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T8, ORC_VAR_T9,\n@@ -23223,3 +24733,3 @@\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T10, ORC_VAR_T6,\n-          ORC_VAR_T4, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T10, ORC_VAR_C2,\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T11, ORC_VAR_T4,\n+          ORC_VAR_T6, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T11, ORC_VAR_C1,\n@@ -23244,0 +24754,1 @@\n+  ex->arrays[ORC_VAR_S4] = (void *) s4;\n@@ -23256,1 +24767,1 @@\n-\/* video_orc_convert_I420_ARGB *\/\n+\/* video_orc_convert_A420_BGRA *\/\n@@ -23259,1 +24770,1 @@\n-video_orc_convert_I420_ARGB (guint8 * ORC_RESTRICT d1,\n+video_orc_convert_A420_BGRA (guint8 * ORC_RESTRICT d1,\n@@ -23261,2 +24772,2 @@\n-    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n-    int n)\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n)\n@@ -23266,7 +24777,4 @@\n-  const orc_int8 *ORC_RESTRICT ptr4;\n-  const orc_int8 *ORC_RESTRICT ptr5;\n-  const orc_int8 *ORC_RESTRICT ptr6;\n-  orc_int8 var42;\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_int8 var43;\n-#else\n+  const orc_int8 *ORC_RESTRICT ptr4;\n+  const orc_int8 *ORC_RESTRICT ptr5;\n+  const orc_int8 *ORC_RESTRICT ptr6;\n+  const orc_int8 *ORC_RESTRICT ptr7;\n@@ -23274,3 +24782,0 @@\n-#endif\n-  orc_union16 var44;\n-  orc_union16 var45;\n@@ -23278,1 +24783,1 @@\n-  volatile orc_int8 var46;\n+  volatile orc_int8 var44;\n@@ -23280,1 +24785,1 @@\n-  orc_int8 var46;\n+  orc_int8 var44;\n@@ -23282,0 +24787,2 @@\n+  orc_int8 var45;\n+  orc_union16 var46;\n@@ -23285,0 +24792,1 @@\n+  orc_union16 var50;\n@@ -23286,1 +24794,1 @@\n-  volatile orc_union32 var50;\n+  volatile orc_union32 var51;\n@@ -23288,2 +24796,0 @@\n-  orc_union32 var50;\n-#endif\n@@ -23291,3 +24797,4 @@\n-  orc_int8 var52;\n-  orc_union16 var53;\n-  orc_int8 var54;\n+#endif\n+  orc_union32 var52;\n+  orc_int8 var53;\n+  orc_union16 var54;\n@@ -23295,2 +24802,2 @@\n-  orc_union16 var56;\n-  orc_int8 var57;\n+  orc_int8 var56;\n+  orc_union16 var57;\n@@ -23298,1 +24805,1 @@\n-  orc_union16 var59;\n+  orc_int8 var59;\n@@ -23300,1 +24807,1 @@\n-  orc_union16 var61;\n+  orc_int8 var61;\n@@ -23302,1 +24809,1 @@\n-  orc_int8 var63;\n+  orc_union16 var63;\n@@ -23304,1 +24811,1 @@\n-  orc_union16 var65;\n+  orc_int8 var65;\n@@ -23306,1 +24813,1 @@\n-  orc_int8 var67;\n+  orc_union16 var67;\n@@ -23308,1 +24815,1 @@\n-  orc_union16 var69;\n+  orc_int8 var69;\n@@ -23311,1 +24818,1 @@\n-  orc_int8 var72;\n+  orc_union16 var72;\n@@ -23313,1 +24820,3 @@\n-  orc_union32 var74;\n+  orc_int8 var74;\n+  orc_union16 var75;\n+  orc_union32 var76;\n@@ -23319,0 +24828,1 @@\n+  ptr7 = (orc_int8 *) s4;\n@@ -23321,3 +24831,1 @@\n-  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n-  \/* 10: loadpw *\/\n-  var44.i = p1;\n+  var44 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n@@ -23325,14 +24833,14 @@\n-  var45.i = p2;\n-  \/* 16: loadpb *\/\n-  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n-  \/* 18: loadpw *\/\n-  var47.i = p3;\n-  \/* 22: loadpw *\/\n-  var48.i = p4;\n-  \/* 25: loadpw *\/\n-  var49.i = p5;\n-  \/* 31: loadpb *\/\n-  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var46.i = p1;\n+  \/* 14: loadpw *\/\n+  var47.i = p2;\n+  \/* 19: loadpw *\/\n+  var48.i = p3;\n+  \/* 23: loadpw *\/\n+  var49.i = p4;\n+  \/* 26: loadpw *\/\n+  var50.i = p5;\n+  \/* 32: loadpb *\/\n+  var51.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n@@ -23342,1 +24850,1 @@\n-    var42 = ptr4[i];\n+    var43 = ptr4[i];\n@@ -23344,1 +24852,1 @@\n-    var52 = var42 - var43;\n+    var53 = var43 - var44;\n@@ -23346,1 +24854,1 @@\n-    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    var54.i = ((var53 & 0xff) << 8) | (var53 & 0xff);\n@@ -23348,1 +24856,1 @@\n-    var54 = ptr5[i >> 1];\n+    var55 = ptr5[i >> 1];\n@@ -23350,1 +24858,1 @@\n-    var55 = var54 - var43;\n+    var56 = var55 - var44;\n@@ -23352,1 +24860,1 @@\n-    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    var57.i = ((var56 & 0xff) << 8) | (var56 & 0xff);\n@@ -23354,1 +24862,1 @@\n-    var57 = ptr6[i >> 1];\n+    var58 = ptr6[i >> 1];\n@@ -23356,1 +24864,1 @@\n-    var58 = var57 - var43;\n+    var59 = var58 - var44;\n@@ -23358,3 +24866,5 @@\n-    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n-    \/* 11: mulhsw *\/\n-    var60.i = (var53.i * var44.i) >> 16;\n+    var60.i = ((var59 & 0xff) << 8) | (var59 & 0xff);\n+    \/* 10: loadb *\/\n+    var45 = ptr7[i];\n+    \/* 11: subb *\/\n+    var61 = var45 - var44;\n@@ -23362,6 +24872,8 @@\n-    var61.i = (var59.i * var45.i) >> 16;\n-    \/* 14: addw *\/\n-    var62.i = var60.i + var61.i;\n-    \/* 15: convssswb *\/\n-    var63 = ORC_CLAMP_SB (var62.i);\n-    \/* 17: mergebw *\/\n+    var62.i = (var54.i * var46.i) >> 16;\n+    \/* 15: mulhsw *\/\n+    var63.i = (var60.i * var47.i) >> 16;\n+    \/* 16: addw *\/\n+    var64.i = var62.i + var63.i;\n+    \/* 17: convssswb *\/\n+    var65 = ORC_CLAMP_SB (var64.i);\n+    \/* 18: mergebw *\/\n@@ -23370,21 +24882,21 @@\n-      _dest.x2[0] = var46;\n-      _dest.x2[1] = var63;\n-      var64.i = _dest.i;\n-    }\n-    \/* 19: mulhsw *\/\n-    var65.i = (var56.i * var47.i) >> 16;\n-    \/* 20: addw *\/\n-    var66.i = var60.i + var65.i;\n-    \/* 21: convssswb *\/\n-    var67 = ORC_CLAMP_SB (var66.i);\n-    \/* 23: mulhsw *\/\n-    var68.i = (var56.i * var48.i) >> 16;\n-    \/* 24: addw *\/\n-    var69.i = var60.i + var68.i;\n-    \/* 26: mulhsw *\/\n-    var70.i = (var59.i * var49.i) >> 16;\n-    \/* 27: addw *\/\n-    var71.i = var69.i + var70.i;\n-    \/* 28: convssswb *\/\n-    var72 = ORC_CLAMP_SB (var71.i);\n-    \/* 29: mergebw *\/\n+      _dest.x2[0] = var65;\n+      _dest.x2[1] = var61;\n+      var66.i = _dest.i;\n+    }\n+    \/* 20: mulhsw *\/\n+    var67.i = (var57.i * var48.i) >> 16;\n+    \/* 21: addw *\/\n+    var68.i = var62.i + var67.i;\n+    \/* 22: convssswb *\/\n+    var69 = ORC_CLAMP_SB (var68.i);\n+    \/* 24: mulhsw *\/\n+    var70.i = (var57.i * var49.i) >> 16;\n+    \/* 25: addw *\/\n+    var71.i = var62.i + var70.i;\n+    \/* 27: mulhsw *\/\n+    var72.i = (var60.i * var50.i) >> 16;\n+    \/* 28: addw *\/\n+    var73.i = var71.i + var72.i;\n+    \/* 29: convssswb *\/\n+    var74 = ORC_CLAMP_SB (var73.i);\n+    \/* 30: mergebw *\/\n@@ -23393,3 +24905,3 @@\n-      _dest.x2[0] = var72;\n-      _dest.x2[1] = var67;\n-      var73.i = _dest.i;\n+      _dest.x2[0] = var69;\n+      _dest.x2[1] = var74;\n+      var75.i = _dest.i;\n@@ -23397,1 +24909,1 @@\n-    \/* 30: mergewl *\/\n+    \/* 31: mergewl *\/\n@@ -23400,3 +24912,3 @@\n-      _dest.x2[0] = var64.i;\n-      _dest.x2[1] = var73.i;\n-      var74.i = _dest.i;\n+      _dest.x2[0] = var75.i;\n+      _dest.x2[1] = var66.i;\n+      var76.i = _dest.i;\n@@ -23404,7 +24916,7 @@\n-    \/* 32: addb *\/\n-    var51.x4[0] = var74.x4[0] + var50.x4[0];\n-    var51.x4[1] = var74.x4[1] + var50.x4[1];\n-    var51.x4[2] = var74.x4[2] + var50.x4[2];\n-    var51.x4[3] = var74.x4[3] + var50.x4[3];\n-    \/* 33: storel *\/\n-    ptr0[i] = var51;\n+    \/* 33: addb *\/\n+    var52.x4[0] = var76.x4[0] + var51.x4[0];\n+    var52.x4[1] = var76.x4[1] + var51.x4[1];\n+    var52.x4[2] = var76.x4[2] + var51.x4[2];\n+    var52.x4[3] = var76.x4[3] + var51.x4[3];\n+    \/* 34: storel *\/\n+    ptr0[i] = var52;\n@@ -23417,1 +24929,1 @@\n-_backup_video_orc_convert_I420_ARGB (OrcExecutor * ORC_RESTRICT ex)\n+_backup_video_orc_convert_A420_BGRA (OrcExecutor * ORC_RESTRICT ex)\n@@ -23425,4 +24937,1 @@\n-  orc_int8 var42;\n-#if defined(__APPLE__) && __GNUC__ == 4 && __GNUC_MINOR__ == 2 && defined (__i386__)\n-  volatile orc_int8 var43;\n-#else\n+  const orc_int8 *ORC_RESTRICT ptr7;\n@@ -23430,3 +24939,0 @@\n-#endif\n-  orc_union16 var44;\n-  orc_union16 var45;\n@@ -23434,1 +24940,1 @@\n-  volatile orc_int8 var46;\n+  volatile orc_int8 var44;\n@@ -23436,1 +24942,1 @@\n-  orc_int8 var46;\n+  orc_int8 var44;\n@@ -23438,0 +24944,2 @@\n+  orc_int8 var45;\n+  orc_union16 var46;\n@@ -23441,0 +24949,1 @@\n+  orc_union16 var50;\n@@ -23442,1 +24951,1 @@\n-  volatile orc_union32 var50;\n+  volatile orc_union32 var51;\n@@ -23444,2 +24953,0 @@\n-  orc_union32 var50;\n-#endif\n@@ -23447,3 +24954,4 @@\n-  orc_int8 var52;\n-  orc_union16 var53;\n-  orc_int8 var54;\n+#endif\n+  orc_union32 var52;\n+  orc_int8 var53;\n+  orc_union16 var54;\n@@ -23451,2 +24959,2 @@\n-  orc_union16 var56;\n-  orc_int8 var57;\n+  orc_int8 var56;\n+  orc_union16 var57;\n@@ -23454,1 +24962,1 @@\n-  orc_union16 var59;\n+  orc_int8 var59;\n@@ -23456,1 +24964,1 @@\n-  orc_union16 var61;\n+  orc_int8 var61;\n@@ -23458,1 +24966,1 @@\n-  orc_int8 var63;\n+  orc_union16 var63;\n@@ -23460,1 +24968,1 @@\n-  orc_union16 var65;\n+  orc_int8 var65;\n@@ -23462,1 +24970,1 @@\n-  orc_int8 var67;\n+  orc_union16 var67;\n@@ -23464,1 +24972,1 @@\n-  orc_union16 var69;\n+  orc_int8 var69;\n@@ -23467,1 +24975,1 @@\n-  orc_int8 var72;\n+  orc_union16 var72;\n@@ -23469,1 +24977,3 @@\n-  orc_union32 var74;\n+  orc_int8 var74;\n+  orc_union16 var75;\n+  orc_union32 var76;\n@@ -23475,0 +24985,1 @@\n+  ptr7 = (orc_int8 *) ex->arrays[7];\n@@ -23477,3 +24988,1 @@\n-  var43 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n-  \/* 10: loadpw *\/\n-  var44.i = ex->params[24];\n+  var44 = 0x00000080;           \/* 128 or 6.32404e-322f *\/\n@@ -23481,14 +24990,14 @@\n-  var45.i = ex->params[25];\n-  \/* 16: loadpb *\/\n-  var46 = 0x0000007f;           \/* 127 or 6.27463e-322f *\/\n-  \/* 18: loadpw *\/\n-  var47.i = ex->params[26];\n-  \/* 22: loadpw *\/\n-  var48.i = ex->params[27];\n-  \/* 25: loadpw *\/\n-  var49.i = ex->params[28];\n-  \/* 31: loadpb *\/\n-  var50.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n-  var50.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var46.i = ex->params[24];\n+  \/* 14: loadpw *\/\n+  var47.i = ex->params[25];\n+  \/* 19: loadpw *\/\n+  var48.i = ex->params[26];\n+  \/* 23: loadpw *\/\n+  var49.i = ex->params[27];\n+  \/* 26: loadpw *\/\n+  var50.i = ex->params[28];\n+  \/* 32: loadpb *\/\n+  var51.x4[0] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[1] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[2] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n+  var51.x4[3] = 0x00000080;     \/* 128 or 6.32404e-322f *\/\n@@ -23498,1 +25007,1 @@\n-    var42 = ptr4[i];\n+    var43 = ptr4[i];\n@@ -23500,1 +25009,1 @@\n-    var52 = var42 - var43;\n+    var53 = var43 - var44;\n@@ -23502,1 +25011,1 @@\n-    var53.i = ((var52 & 0xff) << 8) | (var52 & 0xff);\n+    var54.i = ((var53 & 0xff) << 8) | (var53 & 0xff);\n@@ -23504,1 +25013,1 @@\n-    var54 = ptr5[i >> 1];\n+    var55 = ptr5[i >> 1];\n@@ -23506,1 +25015,1 @@\n-    var55 = var54 - var43;\n+    var56 = var55 - var44;\n@@ -23508,1 +25017,1 @@\n-    var56.i = ((var55 & 0xff) << 8) | (var55 & 0xff);\n+    var57.i = ((var56 & 0xff) << 8) | (var56 & 0xff);\n@@ -23510,1 +25019,1 @@\n-    var57 = ptr6[i >> 1];\n+    var58 = ptr6[i >> 1];\n@@ -23512,1 +25021,1 @@\n-    var58 = var57 - var43;\n+    var59 = var58 - var44;\n@@ -23514,3 +25023,5 @@\n-    var59.i = ((var58 & 0xff) << 8) | (var58 & 0xff);\n-    \/* 11: mulhsw *\/\n-    var60.i = (var53.i * var44.i) >> 16;\n+    var60.i = ((var59 & 0xff) << 8) | (var59 & 0xff);\n+    \/* 10: loadb *\/\n+    var45 = ptr7[i];\n+    \/* 11: subb *\/\n+    var61 = var45 - var44;\n@@ -23518,6 +25029,8 @@\n-    var61.i = (var59.i * var45.i) >> 16;\n-    \/* 14: addw *\/\n-    var62.i = var60.i + var61.i;\n-    \/* 15: convssswb *\/\n-    var63 = ORC_CLAMP_SB (var62.i);\n-    \/* 17: mergebw *\/\n+    var62.i = (var54.i * var46.i) >> 16;\n+    \/* 15: mulhsw *\/\n+    var63.i = (var60.i * var47.i) >> 16;\n+    \/* 16: addw *\/\n+    var64.i = var62.i + var63.i;\n+    \/* 17: convssswb *\/\n+    var65 = ORC_CLAMP_SB (var64.i);\n+    \/* 18: mergebw *\/\n@@ -23526,21 +25039,21 @@\n-      _dest.x2[0] = var46;\n-      _dest.x2[1] = var63;\n-      var64.i = _dest.i;\n-    }\n-    \/* 19: mulhsw *\/\n-    var65.i = (var56.i * var47.i) >> 16;\n-    \/* 20: addw *\/\n-    var66.i = var60.i + var65.i;\n-    \/* 21: convssswb *\/\n-    var67 = ORC_CLAMP_SB (var66.i);\n-    \/* 23: mulhsw *\/\n-    var68.i = (var56.i * var48.i) >> 16;\n-    \/* 24: addw *\/\n-    var69.i = var60.i + var68.i;\n-    \/* 26: mulhsw *\/\n-    var70.i = (var59.i * var49.i) >> 16;\n-    \/* 27: addw *\/\n-    var71.i = var69.i + var70.i;\n-    \/* 28: convssswb *\/\n-    var72 = ORC_CLAMP_SB (var71.i);\n-    \/* 29: mergebw *\/\n+      _dest.x2[0] = var65;\n+      _dest.x2[1] = var61;\n+      var66.i = _dest.i;\n+    }\n+    \/* 20: mulhsw *\/\n+    var67.i = (var57.i * var48.i) >> 16;\n+    \/* 21: addw *\/\n+    var68.i = var62.i + var67.i;\n+    \/* 22: convssswb *\/\n+    var69 = ORC_CLAMP_SB (var68.i);\n+    \/* 24: mulhsw *\/\n+    var70.i = (var57.i * var49.i) >> 16;\n+    \/* 25: addw *\/\n+    var71.i = var62.i + var70.i;\n+    \/* 27: mulhsw *\/\n+    var72.i = (var60.i * var50.i) >> 16;\n+    \/* 28: addw *\/\n+    var73.i = var71.i + var72.i;\n+    \/* 29: convssswb *\/\n+    var74 = ORC_CLAMP_SB (var73.i);\n+    \/* 30: mergebw *\/\n@@ -23549,3 +25062,3 @@\n-      _dest.x2[0] = var72;\n-      _dest.x2[1] = var67;\n-      var73.i = _dest.i;\n+      _dest.x2[0] = var69;\n+      _dest.x2[1] = var74;\n+      var75.i = _dest.i;\n@@ -23553,1 +25066,1 @@\n-    \/* 30: mergewl *\/\n+    \/* 31: mergewl *\/\n@@ -23556,3 +25069,3 @@\n-      _dest.x2[0] = var64.i;\n-      _dest.x2[1] = var73.i;\n-      var74.i = _dest.i;\n+      _dest.x2[0] = var75.i;\n+      _dest.x2[1] = var66.i;\n+      var76.i = _dest.i;\n@@ -23560,7 +25073,7 @@\n-    \/* 32: addb *\/\n-    var51.x4[0] = var74.x4[0] + var50.x4[0];\n-    var51.x4[1] = var74.x4[1] + var50.x4[1];\n-    var51.x4[2] = var74.x4[2] + var50.x4[2];\n-    var51.x4[3] = var74.x4[3] + var50.x4[3];\n-    \/* 33: storel *\/\n-    ptr0[i] = var51;\n+    \/* 33: addb *\/\n+    var52.x4[0] = var76.x4[0] + var51.x4[0];\n+    var52.x4[1] = var76.x4[1] + var51.x4[1];\n+    var52.x4[2] = var76.x4[2] + var51.x4[2];\n+    var52.x4[3] = var76.x4[3] + var51.x4[3];\n+    \/* 34: storel *\/\n+    ptr0[i] = var52;\n@@ -23572,1 +25085,1 @@\n-video_orc_convert_I420_ARGB (guint8 * ORC_RESTRICT d1,\n+video_orc_convert_A420_BGRA (guint8 * ORC_RESTRICT d1,\n@@ -23574,2 +25087,2 @@\n-    const guint8 * ORC_RESTRICT s3, int p1, int p2, int p3, int p4, int p5,\n-    int n)\n+    const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1,\n+    int p2, int p3, int p4, int p5, int n)\n@@ -23590,11 +25103,11 @@\n-        118, 101, 114, 116, 95, 73, 52, 50, 48, 95, 65, 82, 71, 66, 11, 4,\n-        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128, 0, 0, 0,\n-        14, 4, 128, 0, 0, 0, 14, 1, 127, 0, 0, 0, 16, 2, 16, 2,\n-        16, 2, 16, 2, 16, 2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 2,\n-        20, 2, 20, 1, 20, 1, 20, 1, 20, 4, 65, 38, 4, 16, 151, 32,\n-        38, 45, 38, 5, 65, 38, 38, 16, 151, 33, 38, 45, 38, 6, 65, 38,\n-        38, 16, 151, 34, 38, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32,\n-        35, 159, 38, 35, 196, 35, 18, 38, 90, 37, 33, 26, 70, 37, 32, 37,\n-        159, 40, 37, 90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70,\n-        36, 36, 32, 159, 39, 36, 196, 37, 39, 40, 195, 41, 35, 37, 21, 2,\n-        33, 0, 41, 17, 2, 0,\n+        118, 101, 114, 116, 95, 65, 52, 50, 48, 95, 66, 71, 82, 65, 11, 4,\n+        4, 12, 1, 1, 12, 1, 1, 12, 1, 1, 12, 1, 1, 14, 1, 128,\n+        0, 0, 0, 16, 2, 16, 2, 16, 2, 16, 2, 16, 2, 20, 2, 20,\n+        2, 20, 2, 20, 2, 20, 2, 20, 2, 20, 1, 20, 1, 20, 1, 20,\n+        1, 20, 4, 65, 38, 4, 16, 151, 32, 38, 45, 38, 5, 65, 38, 38,\n+        16, 151, 33, 38, 45, 38, 6, 65, 38, 38, 16, 151, 34, 38, 65, 41,\n+        7, 16, 90, 32, 32, 24, 90, 35, 34, 25, 70, 35, 32, 35, 159, 38,\n+        35, 196, 35, 38, 41, 90, 37, 33, 26, 70, 37, 32, 37, 159, 40, 37,\n+        90, 36, 33, 27, 70, 36, 32, 36, 90, 32, 34, 28, 70, 36, 36, 32,\n+        159, 39, 36, 196, 37, 40, 39, 195, 42, 37, 35, 21, 2, 33, 0, 42,\n+        16, 2, 0,\n@@ -23603,1 +25116,1 @@\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_ARGB);\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_A420_BGRA);\n@@ -23606,2 +25119,2 @@\n-      orc_program_set_name (p, \"video_orc_convert_I420_ARGB\");\n-      orc_program_set_backup_function (p, _backup_video_orc_convert_I420_ARGB);\n+      orc_program_set_name (p, \"video_orc_convert_A420_BGRA\");\n+      orc_program_set_backup_function (p, _backup_video_orc_convert_A420_BGRA);\n@@ -23612,0 +25125,1 @@\n+      orc_program_add_source (p, 1, \"s4\");\n@@ -23613,2 +25127,0 @@\n-      orc_program_add_constant (p, 4, 0x00000080, \"c2\");\n-      orc_program_add_constant (p, 1, 0x0000007f, \"c3\");\n@@ -23629,1 +25141,2 @@\n-      orc_program_add_temporary (p, 4, \"t10\");\n+      orc_program_add_temporary (p, 1, \"t10\");\n+      orc_program_add_temporary (p, 4, \"t11\");\n@@ -23647,0 +25160,2 @@\n+      orc_program_append_2 (p, \"subb\", 0, ORC_VAR_T10, ORC_VAR_S4, ORC_VAR_C1,\n+          ORC_VAR_D1);\n@@ -23655,2 +25170,2 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_C3, ORC_VAR_T7,\n-          ORC_VAR_D1);\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T4, ORC_VAR_T7,\n+          ORC_VAR_T10, ORC_VAR_D1);\n@@ -23673,1 +25188,1 @@\n-      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T8, ORC_VAR_T9,\n+      orc_program_append_2 (p, \"mergebw\", 0, ORC_VAR_T6, ORC_VAR_T9, ORC_VAR_T8,\n@@ -23675,3 +25190,3 @@\n-      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T10, ORC_VAR_T4,\n-          ORC_VAR_T6, ORC_VAR_D1);\n-      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T10, ORC_VAR_C2,\n+      orc_program_append_2 (p, \"mergewl\", 0, ORC_VAR_T11, ORC_VAR_T6,\n+          ORC_VAR_T4, ORC_VAR_D1);\n+      orc_program_append_2 (p, \"addb\", 2, ORC_VAR_D1, ORC_VAR_T11, ORC_VAR_C1,\n@@ -23696,0 +25211,1 @@\n+  ex->arrays[ORC_VAR_S4] = (void *) s4;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-orc-dist.c","additions":2693,"deletions":1177,"binary":false,"changes":3870,"status":"modified"},{"patch":"@@ -4,2 +4,1 @@\n-#ifndef _VIDEO_ORC_H_\n-#define _VIDEO_ORC_H_\n+#pragma once\n@@ -88,0 +87,1 @@\n+void video_orc_pack_YA (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2, const guint8 * ORC_RESTRICT s1, int n);\n@@ -115,0 +115,2 @@\n+void video_orc_unpack_AV12 (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3, int n);\n+void video_orc_pack_AV12 (guint8 * ORC_RESTRICT d1, guint8 * ORC_RESTRICT d2, guint8 * ORC_RESTRICT d3, const guint8 * ORC_RESTRICT s1, int n);\n@@ -189,0 +191,2 @@\n+void video_orc_convert_A420_ARGB (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1, int p2, int p3, int p4, int p5, int n);\n+void video_orc_convert_A420_BGRA (guint8 * ORC_RESTRICT d1, const guint8 * ORC_RESTRICT s1, const guint8 * ORC_RESTRICT s2, const guint8 * ORC_RESTRICT s3, const guint8 * ORC_RESTRICT s4, int p1, int p2, int p3, int p4, int p5, int n);\n@@ -242,2 +246,0 @@\n-#endif\n-\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-orc-dist.h","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -107,0 +107,10 @@\n+.function video_orc_pack_YA\n+.dest 1 y guint8\n+.dest 1 a guint8\n+.source 4 ayuv guint8\n+.temp 2 ay\n+\n+select0lw ay, ayuv\n+select1wb y, ay\n+select0wb a, ay\n+\n@@ -449,0 +459,25 @@\n+.function video_orc_unpack_AV12\n+.dest 8 d guint8\n+.source 2 y guint8\n+.source 2 uv guint8\n+.source 2 a guint8\n+.temp 4 ay\n+.temp 4 uvuv\n+\n+mergewl uvuv, uv, uv\n+x2 mergebw ay, a, y\n+x2 mergewl d, ay, uvuv\n+\n+.function video_orc_pack_AV12\n+.dest 2 y guint8\n+.dest 2 uv guint8\n+.dest 2 a guint8\n+.source 8 ayuv guint8\n+.temp 4 ay\n+.temp 4 uvuv\n+\n+x2 splitlw uvuv, ay, ayuv\n+x2 select1wb y, ay\n+x2 select0wb a, ay\n+select0lw uv, uvuv\n+\n@@ -1844,0 +1879,112 @@\n+.function video_orc_convert_A420_ARGB\n+.dest 4 argb guint8\n+.source 1 y guint8\n+.source 1 u guint8\n+.source 1 v guint8\n+.source 1 a guint8\n+.param 2 p1\n+.param 2 p2\n+.param 2 p3\n+.param 2 p4\n+.param 2 p5\n+.temp 2 wy\n+.temp 2 wu\n+.temp 2 wv\n+.temp 2 wr\n+.temp 2 wg\n+.temp 2 wb\n+.temp 1 r\n+.temp 1 g\n+.temp 1 b\n+.temp 1 da\n+.temp 4 x\n+.const 1 c128 128\n+\n+subb r, y, c128\n+splatbw wy, r\n+loadupdb r, u\n+subb r, r, c128\n+splatbw wu, r\n+loadupdb r, v\n+subb r, r, c128\n+splatbw wv, r\n+subb da, a, c128\n+\n+mulhsw wy, wy, p1\n+\n+mulhsw wr, wv, p2\n+addw wr, wy, wr\n+convssswb r, wr\n+mergebw wr, da, r\n+\n+mulhsw wb, wu, p3\n+addw wb, wy, wb\n+convssswb b, wb\n+\n+mulhsw wg, wu, p4\n+addw wg, wy, wg\n+mulhsw wy, wv, p5\n+addw wg, wg, wy\n+\n+convssswb g, wg\n+\n+mergebw wb, g, b\n+mergewl x, wr, wb\n+x4 addb argb, x, c128\n+\n+.function video_orc_convert_A420_BGRA\n+.dest 4 argb guint8\n+.source 1 y guint8\n+.source 1 u guint8\n+.source 1 v guint8\n+.source 1 a guint8\n+.param 2 p1\n+.param 2 p2\n+.param 2 p3\n+.param 2 p4\n+.param 2 p5\n+.temp 2 wy\n+.temp 2 wu\n+.temp 2 wv\n+.temp 2 wr\n+.temp 2 wg\n+.temp 2 wb\n+.temp 1 r\n+.temp 1 g\n+.temp 1 b\n+.temp 1 da\n+.temp 4 x\n+.const 1 c128 128\n+\n+subb r, y, c128\n+splatbw wy, r\n+loadupdb r, u\n+subb r, r, c128\n+splatbw wu, r\n+loadupdb r, v\n+subb r, r, c128\n+splatbw wv, r\n+subb da, a, c128\n+\n+mulhsw wy, wy, p1\n+\n+mulhsw wr, wv, p2\n+addw wr, wy, wr\n+convssswb r, wr\n+mergebw wr, r, da\n+\n+mulhsw wb, wu, p3\n+addw wb, wy, wb\n+convssswb b, wb\n+\n+mulhsw wg, wu, p4\n+addw wg, wy, wg\n+mulhsw wy, wv, p5\n+addw wg, wg, wy\n+\n+convssswb g, wg\n+\n+mergebw wb, b, g\n+mergewl x, wb, wr\n+x4 addb argb, x, c128\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-orc.orc","additions":147,"deletions":0,"binary":false,"changes":147,"status":"modified"},{"patch":"@@ -239,1 +239,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -330,1 +330,1 @@\n- * @rectangle: (transfer none): a #GstVideoOverlayRectangle to add to the\n+ * @rectangle: (transfer none) (nullable): a #GstVideoOverlayRectangle to add to the\n@@ -336,0 +336,2 @@\n+ * Note that since 1.20 this allows to pass %NULL for @rectangle.\n+ *\n@@ -344,5 +346,2 @@\n-\n-  \/* FIXME: should we allow empty compositions? Could also be expressed as\n-   * buffer without a composition on it. Maybe there are cases where doing\n-   * an empty new + _add() in a loop is easier? *\/\n-  g_return_val_if_fail (GST_IS_VIDEO_OVERLAY_RECTANGLE (rectangle), NULL);\n+  g_return_val_if_fail (GST_IS_VIDEO_OVERLAY_RECTANGLE (rectangle)\n+      || rectangle == NULL, NULL);\n@@ -358,4 +357,0 @@\n-  comp->rectangles[0] = gst_video_overlay_rectangle_ref (rectangle);\n-  gst_mini_object_add_parent (GST_MINI_OBJECT_CAST (rectangle),\n-      GST_MINI_OBJECT_CAST (comp));\n-  comp->num_rectangles = 1;\n@@ -364,0 +359,1 @@\n+  comp->min_seq_num_used = comp->seq_num;\n@@ -365,2 +361,1 @@\n-  \/* since the rectangle was created earlier, its seqnum is smaller than ours *\/\n-  comp->min_seq_num_used = rectangle->seq_num;\n+  GST_LOG (\"new composition %p: seq_num %u\", comp, comp->seq_num);\n@@ -368,2 +363,5 @@\n-  GST_LOG (\"new composition %p: seq_num %u with rectangle %p\", comp,\n-      comp->seq_num, rectangle);\n+  if (rectangle) {\n+    \/* since the rectangle was created earlier, its seqnum is smaller than ours *\/\n+    comp->min_seq_num_used = rectangle->seq_num;\n+    gst_video_overlay_composition_add_rectangle (comp, rectangle);\n+  }\n@@ -1081,2 +1079,3 @@\n-gst_video_overlay_rectangle_convert (GstVideoInfo * src, GstBuffer * src_buffer,\n-    GstVideoFormat dest_format, GstVideoInfo * dest, GstBuffer ** dest_buffer)\n+gst_video_overlay_rectangle_convert (const GstVideoInfo * src,\n+    GstBuffer * src_buffer, GstVideoFormat dest_format, GstVideoInfo * dest,\n+    GstBuffer ** dest_buffer)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-overlay-composition.c","additions":16,"deletions":17,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -215,0 +215,49 @@\n+\n+\/**\n+ * gst_video_orientation_from_tag:\n+ * @taglist: A #GstTagList\n+ * @method: (out): The location where to return the orientation.\n+ *\n+ * Parses the \"image-orientation\" tag and transforms it into the\n+ * #GstVideoOrientationMethod enum.\n+ *\n+ * Returns: TRUE if there was a valid \"image-orientation\" tag in the taglist.\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_video_orientation_from_tag (GstTagList * taglist,\n+    GstVideoOrientationMethod * method)\n+{\n+  gchar *orientation;\n+  gboolean ret = TRUE;\n+\n+  g_return_val_if_fail (GST_IS_TAG_LIST (taglist), FALSE);\n+  g_return_val_if_fail (method != NULL, FALSE);\n+\n+  if (!gst_tag_list_get_string (taglist, \"image-orientation\", &orientation))\n+    return FALSE;\n+\n+  if (!g_strcmp0 (\"rotate-0\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_IDENTITY;\n+  else if (!g_strcmp0 (\"rotate-90\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_90R;\n+  else if (!g_strcmp0 (\"rotate-180\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_180;\n+  else if (!g_strcmp0 (\"rotate-270\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_90L;\n+  else if (!g_strcmp0 (\"flip-rotate-0\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_HORIZ;\n+  else if (!g_strcmp0 (\"flip-rotate-90\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_UR_LL;\n+  else if (!g_strcmp0 (\"flip-rotate-180\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_VERT;\n+  else if (!g_strcmp0 (\"flip-rotate-270\", orientation))\n+    *method = GST_VIDEO_ORIENTATION_UL_LR;\n+  else\n+    ret = FALSE;\n+\n+  g_free (orientation);\n+\n+  return ret;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video.c","additions":49,"deletions":0,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -94,0 +94,6 @@\n+\/**\n+ * GST_TYPE_VIDEO_ORIENTATION_METHOD:\n+ *\n+ * Since: 1.20\n+ *\/\n+\n@@ -166,0 +172,5 @@\n+\n+GST_VIDEO_API\n+gboolean gst_video_orientation_from_tag (GstTagList * taglist,\n+                                         GstVideoOrientationMethod * method);\n+\n@@ -171,0 +182,1 @@\n+#include <gst\/video\/gstvideoaffinetransformationmeta.h>\n@@ -172,0 +184,1 @@\n+#include <gst\/video\/gstvideocodecalphameta.h>\n@@ -179,0 +192,1 @@\n+#include <gst\/video\/gstvideotimecode.h>\n@@ -181,0 +195,3 @@\n+#ifndef GSTREAMER_LITE\n+#include <gst\/video\/video-anc.h>\n+#endif \/\/ GSTREAMER_LITE\n@@ -182,1 +199,0 @@\n-#include <gst\/video\/video-event.h>\n@@ -186,0 +202,2 @@\n+#include <gst\/video\/video-event.h>\n+#include <gst\/video\/video-hdr.h>\n@@ -189,6 +207,0 @@\n-#include <gst\/video\/gstvideotimecode.h>\n-#ifndef GSTREAMER_LITE\n-#include <gst\/video\/gstvideoaffinetransformationmeta.h>\n-#include <gst\/video\/video-anc.h>\n-#include <gst\/video\/video-hdr.h>\n-#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video.h","additions":19,"deletions":7,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -130,2 +130,2 @@\n- * #include &lt;gst\/video\/videooverlay.h&gt;\n- * #include &lt;gtk\/gtk.h&gt;\n+ * #include <gst\/video\/videooverlay.h>\n+ * #include <gtk\/gtk.h>\n@@ -133,1 +133,1 @@\n- * #include &lt;gdk\/gdkx.h&gt;  \/\/ for GDK_WINDOW_XID\n+ * #include <gdk\/gdkx.h>  \/\/ for GDK_WINDOW_XID\n@@ -136,1 +136,1 @@\n- * #include &lt;gdk\/gdkwin32.h&gt;  \/\/ for GDK_WINDOW_HWND\n+ * #include <gdk\/gdkwin32.h>  \/\/ for GDK_WINDOW_HWND\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/videooverlay.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -19,28 +19,0 @@\n-\/**\n- * SECTION:element-appsrc\n- * @title: appsrc\n- *\n- * The appsrc element can be used by applications to insert data into a\n- * GStreamer pipeline. Unlike most GStreamer elements, Appsrc provides\n- * external API functions.\n- *\n- * For the documentation of the API, please see the\n- * <link linkend=\"gst-plugins-base-libs-appsrc\">libgstapp<\/link> section in the\n- * GStreamer Plugins Base Libraries documentation.\n- *\/\n-\/**\n- * SECTION:element-appsink\n- * @title: appsink\n- *\n- * Appsink is a sink plugin that supports many different methods for making\n- * the application get a handle on the GStreamer data in a pipeline. Unlike\n- * most GStreamer elements, Appsink provides external API functions.\n- *\n- * For the documentation of the API, please see the\n- * <link linkend=\"gst-plugins-base-libs-appsink\">libgstapp<\/link> section in\n- * the GStreamer Plugins Base Libraries documentation.\n- *\/\n-\n-#ifdef HAVE_CONFIG_H\n-#include \"config.h\"\n-#endif\n@@ -48,4 +20,1 @@\n-#include <gst\/gst.h>\n-\n-#include <gst\/app\/gstappsrc.h>\n-#include <gst\/app\/gstappsink.h>\n+#include \"gstappelements.h\"\n@@ -61,0 +30,2 @@\n+  gboolean ret = FALSE;\n+\n@@ -62,1 +33,1 @@\n-  gst_element_register (plugin, \"appsrc\", GST_RANK_NONE, GST_TYPE_APP_SRC);\n+  ret |= GST_ELEMENT_REGISTER (appsrc, plugin);\n@@ -64,1 +35,1 @@\n-  gst_element_register (plugin, \"appsink\", GST_RANK_NONE, GST_TYPE_APP_SINK);\n+  ret |= GST_ELEMENT_REGISTER (appsink, plugin);\n@@ -66,1 +37,1 @@\n-  return TRUE;\n+  return ret;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/app\/gstapp.c","additions":6,"deletions":35,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -0,0 +1,40 @@\n+\/* GStreamer\n+ * Copyright (C) 2007 David Schleef <ds@schleef.org>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_APP_ELEMENTS_H__\n+#define __GST_APP_ELEMENTS_H__\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+#ifndef GSTREAMER_LITE\n+#include <gst\/app\/gstappsrc.h>\n+#endif \/\/ GSTREAMER_LITE\n+#include <gst\/app\/gstappsink.h>\n+\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (appsrc);\n+#endif \/\/ GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (appsink);\n+\n+#endif \/* __GST_APP_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/app\/gstappelements.h","additions":40,"deletions":0,"binary":false,"changes":40,"status":"added"},{"patch":"@@ -0,0 +1,35 @@\n+\/* GStreamer\n+ * Copyright (C) 2007 David Schleef <ds@schleef.org>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\/**\n+ * SECTION:element-appsink\n+ * @title: appsink\n+ *\n+ * Appsink is a sink plugin that supports many different methods for making\n+ * the application get a handle on the GStreamer data in a pipeline. Unlike\n+ * most GStreamer elements, Appsink provides external API functions.\n+ *\n+ * For the documentation of the API, please see the\n+ * <link linkend=\"gst-plugins-base-libs-appsink\">libgstapp<\/link> section in\n+ * the GStreamer Plugins Base Libraries documentation.\n+ *\/\n+\n+#include \"gstappelements.h\"\n+\n+GST_ELEMENT_REGISTER_DEFINE (appsink, \"appsink\", GST_RANK_NONE,\n+    GST_TYPE_APP_SINK);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/app\/gstappsink.c","additions":35,"deletions":0,"binary":false,"changes":35,"status":"added"},{"patch":"@@ -73,1 +73,1 @@\n- * gst-launch-1.0 audiotestsrc ! audio\/x-raw, channels=4 ! audioconvert mix-matrix=\"<<(float)1.0, (float)0.0, (float)0.0, (float)0.0>, <(float)0.0, (float)1.0, (float)0.0, (float)0.0>>\" ! audio\/x-raw,channels=2 ! autoaudiosink\n+ * gst-launch-1.0 audiotestsrc ! audio\/x-raw, channels=4 ! audioconvert mix-matrix=\"<<1.0, 0.0, 0.0, 0.0>, <0.0, 1.0, 0.0, 0.0>>\" ! audio\/x-raw,channels=2 ! autoaudiosink\n@@ -168,1 +168,2 @@\n-\n+GST_ELEMENT_REGISTER_DEFINE (audioconvert, \"audioconvert\",\n+    GST_RANK_PRIMARY, GST_TYPE_AUDIO_CONVERT);\n@@ -852,2 +853,2 @@\n-      gst_audio_format_fill_silence (this->out_info.finfo, dstabuf.planes[i],\n-          GST_AUDIO_BUFFER_PLANE_SIZE (&dstabuf));\n+      gst_audio_format_info_fill_silence (this->out_info.finfo,\n+          dstabuf.planes[i], GST_AUDIO_BUFFER_PLANE_SIZE (&dstabuf));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/audioconvert\/gstaudioconvert.c","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-    GST, AUDIO_CONVERT, GstBaseTransform)\n+    GST, AUDIO_CONVERT, GstBaseTransform);\n@@ -53,0 +53,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (audioconvert);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/audioconvert\/gstaudioconvert.h","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,5 +36,1 @@\n-  if (!gst_element_register (plugin, \"audioconvert\",\n-          GST_RANK_PRIMARY, GST_TYPE_AUDIO_CONVERT))\n-    return FALSE;\n-\n-  return TRUE;\n+  return GST_ELEMENT_REGISTER (audioconvert, plugin);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/audioconvert\/plugin.c","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -46,2 +46,1 @@\n-GST_DEBUG_CATEGORY_STATIC (type_find_debug);\n-#define GST_CAT_DEFAULT type_find_debug\n+#include \"gsttypefindfunctionsplugin.h\"\n@@ -2891,1 +2890,6 @@\n-    gst_type_find_suggest (tf, GST_TYPE_FIND_POSSIBLE, H264_VIDEO_CAPS);\n+    GstTypeFindProbability probability = GST_TYPE_FIND_POSSIBLE;\n+\n+    if (seen_pps && seen_sps)\n+      probability = GST_TYPE_FIND_LIKELY;\n+\n+    gst_type_find_suggest (tf, probability, H264_VIDEO_CAPS);\n@@ -2984,1 +2988,6 @@\n-    gst_type_find_suggest (tf, GST_TYPE_FIND_POSSIBLE, H265_VIDEO_CAPS);\n+    GstTypeFindProbability probability = GST_TYPE_FIND_POSSIBLE;\n+\n+    if (seen_pps && seen_sps && seen_vps)\n+      probability = GST_TYPE_FIND_LIKELY;\n+\n+    gst_type_find_suggest (tf, probability, H265_VIDEO_CAPS);\n@@ -3379,1 +3388,13 @@\n-#define STRNCMP(x,y,z) (strncmp ((char*)(x), (char*)(y), z))\n+\n+static gboolean\n+ftyp_brand_is (const guint8 * brand, const gchar * brands[], gsize n_brands)\n+{\n+  gsize i;\n+\n+  for (i = 0; i < n_brands; i++) {\n+    if (memcmp (brand, brands[i], 4) == 0)\n+      return TRUE;\n+  }\n+\n+  return FALSE;\n+}\n@@ -3387,0 +3408,2 @@\n+  guint atoms_in_a_row = 0;\n+  gboolean have_moov = FALSE, have_mdat = FALSE;\n@@ -3390,0 +3413,45 @@\n+  static const gchar *qt_brands[] = { \"qt  \" };\n+  static const gchar *cmaf_brands[] = {\n+    \"cmf2\",\n+    \"cmfc\",\n+    \/* CMAF AVC *\/\n+    \"cfsd\",\n+    \"cfhd\",\n+    \"chdf\",\n+    \/* CMAF AAC *\/\n+    \"caac\",\n+    \"caaa\",\n+    \/* CMAF CEA closed captions *\/\n+    \"ccea\",\n+    \/* CMAF HEVC *\/\n+    \"chhd\",\n+    \"chh1\",\n+    \"cud8\",\n+    \"cud1\",\n+    \"chd1\",\n+    \"clg1\"\n+        \/* TODO: CMAF WebVTT \/ IMSC1 *\/\n+  };\n+  static const gchar *iso_brands[] = {\n+    \"isom\",\n+    \"avc1\",\n+    \"iso3\",\n+    \"iso4\",\n+    \"iso5\",\n+    \"iso6\",\n+    \"iso7\",\n+    \"iso8\",\n+    \"iso9\",\n+    \"isoa\",\n+    \"isob\",\n+    \"mp42\",\n+    \"mp41\"\n+  };\n+  static const gchar *iso_fragmented_brands[] = {\n+    \"isml\",\n+    \"dash\",\n+    \"hlsf\",\n+    \"avc3\"\n+  };\n+  static const gchar *ccff_brands[] = { \"ccff\" };\n+  static const gchar *heif_brands[] = { \"mif1\" };\n@@ -3394,4 +3462,5 @@\n-    if (STRNCMP (&data[4], \"ftypqt  \", 8) == 0) {\n-      tip = GST_TYPE_FIND_MAXIMUM;\n-      break;\n-    }\n+    if (memcmp (&data[4], \"ftyp\", 4) == 0) {\n+      if (ftyp_brand_is (&data[8], qt_brands, G_N_ELEMENTS (qt_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        break;\n+      }\n@@ -3399,7 +3468,5 @@\n-    if (STRNCMP (&data[4], \"ftypisom\", 8) == 0 ||\n-        STRNCMP (&data[4], \"ftypavc1\", 8) == 0 ||\n-        STRNCMP (&data[4], \"ftypmp42\", 8) == 0) {\n-      tip = GST_TYPE_FIND_MAXIMUM;\n-      variant = \"iso\";\n-      break;\n-    }\n+      if (ftyp_brand_is (&data[8], cmaf_brands, G_N_ELEMENTS (cmaf_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        variant = \"cmaf\";\n+        break;\n+      }\n@@ -3407,6 +3474,5 @@\n-    if (STRNCMP (&data[4], \"ftypisml\", 8) == 0 ||\n-        STRNCMP (&data[4], \"ftypavc3\", 8) == 0) {\n-      tip = GST_TYPE_FIND_MAXIMUM;\n-      variant = \"iso-fragmented\";\n-      break;\n-    }\n+      if (ftyp_brand_is (&data[8], iso_brands, G_N_ELEMENTS (iso_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        variant = \"iso\";\n+        break;\n+      }\n@@ -3414,5 +3480,6 @@\n-    if (STRNCMP (&data[4], \"ftypccff\", 8) == 0) {\n-      tip = GST_TYPE_FIND_MAXIMUM;\n-      variant = \"ccff\";\n-      break;\n-    }\n+      if (ftyp_brand_is (&data[8], iso_fragmented_brands,\n+              G_N_ELEMENTS (iso_fragmented_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        variant = \"iso-fragmented\";\n+        break;\n+      }\n@@ -3420,4 +3487,11 @@\n-    if (STRNCMP (&data[4], \"ftypmif1\", 8) == 0) {\n-      tip = GST_TYPE_FIND_MAXIMUM;\n-      variant = \"heif\";\n-      break;\n+      if (ftyp_brand_is (&data[8], ccff_brands, G_N_ELEMENTS (ccff_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        variant = \"ccff\";\n+        break;\n+      }\n+\n+      if (ftyp_brand_is (&data[8], heif_brands, G_N_ELEMENTS (heif_brands))) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        variant = \"heif\";\n+        break;\n+      }\n@@ -3426,8 +3500,17 @@\n-    \/* box\/atom types that are in common with ISO base media file format *\/\n-    if (STRNCMP (&data[4], \"moov\", 4) == 0 ||\n-        STRNCMP (&data[4], \"mdat\", 4) == 0 ||\n-        STRNCMP (&data[4], \"ftyp\", 4) == 0 ||\n-        STRNCMP (&data[4], \"free\", 4) == 0 ||\n-        STRNCMP (&data[4], \"uuid\", 4) == 0 ||\n-        STRNCMP (&data[4], \"moof\", 4) == 0 ||\n-        STRNCMP (&data[4], \"skip\", 4) == 0) {\n+    \/* top-level box\/atom types that are in common with ISO base media file format *\/\n+    if (memcmp (&data[4], \"moov\", 4) == 0 ||\n+        memcmp (&data[4], \"mdat\", 4) == 0 ||\n+        memcmp (&data[4], \"ftyp\", 4) == 0 ||\n+        memcmp (&data[4], \"free\", 4) == 0 ||\n+        memcmp (&data[4], \"uuid\", 4) == 0 ||\n+        memcmp (&data[4], \"udta\", 4) == 0 ||\n+        memcmp (&data[4], \"styp\", 4) == 0 ||\n+        memcmp (&data[4], \"sidx\", 4) == 0 ||\n+        memcmp (&data[4], \"ssix\", 4) == 0 ||\n+        memcmp (&data[4], \"prft\", 4) == 0 ||\n+        memcmp (&data[4], \"emsg\", 4) == 0 ||\n+        memcmp (&data[4], \"moof\", 4) == 0 ||\n+        memcmp (&data[4], \"mfra\", 4) == 0 ||\n+        memcmp (&data[4], \"pdin\", 4) == 0 ||\n+        memcmp (&data[4], \"meta\", 4) == 0 ||\n+        memcmp (&data[4], \"skip\", 4) == 0) {\n@@ -3439,0 +3522,11 @@\n+\n+      if (memcmp (&data[4], \"moov\", 4) == 0)\n+        have_moov = TRUE;\n+      if (memcmp (&data[4], \"mdat\", 4) == 0)\n+        have_mdat = TRUE;\n+\n+      atoms_in_a_row += 1;\n+      if ((have_moov && have_mdat) || atoms_in_a_row >= 5) {\n+        tip = GST_TYPE_FIND_MAXIMUM;\n+        break;\n+      }\n@@ -3441,4 +3535,4 @@\n-    else if (STRNCMP (&data[4], \"pnot\", 4) == 0 ||\n-        STRNCMP (&data[4], \"PICT\", 4) == 0 ||\n-        STRNCMP (&data[4], \"wide\", 4) == 0 ||\n-        STRNCMP (&data[4], \"prfl\", 4) == 0) {\n+    else if (memcmp (&data[4], \"pnot\", 4) == 0 ||\n+        memcmp (&data[4], \"PICT\", 4) == 0 ||\n+        memcmp (&data[4], \"wide\", 4) == 0 ||\n+        memcmp (&data[4], \"prfl\", 4) == 0) {\n@@ -3448,1 +3542,4 @@\n-      tip = 0;\n+      if (atoms_in_a_row >= 3)\n+        tip = GST_TYPE_FIND_LIKELY;\n+      else\n+        tip = 0;\n@@ -3456,1 +3553,1 @@\n-    if ((STRNCMP (&data[4], \"ftyp\", 4) == 0) && (size >= 16)) {\n+    if ((memcmp (&data[4], \"ftyp\", 4) == 0) && (size >= 16)) {\n@@ -3462,6 +3559,9 @@\n-        if (STRNCMP (&data[new_offset], \"isom\", 4) == 0 ||\n-            STRNCMP (&data[new_offset], \"dash\", 4) == 0 ||\n-            STRNCMP (&data[new_offset], \"avc1\", 4) == 0 ||\n-            STRNCMP (&data[new_offset], \"avc3\", 4) == 0 ||\n-            STRNCMP (&data[new_offset], \"mp41\", 4) == 0 ||\n-            STRNCMP (&data[new_offset], \"mp42\", 4) == 0) {\n+        if (ftyp_brand_is (&data[new_offset], cmaf_brands,\n+                G_N_ELEMENTS (cmaf_brands))) {\n+          tip = GST_TYPE_FIND_MAXIMUM;\n+          variant = \"cmaf\";\n+          goto done;\n+        }\n+\n+        if (ftyp_brand_is (&data[new_offset], iso_brands,\n+                G_N_ELEMENTS (iso_brands))) {\n@@ -3471,1 +3571,11 @@\n-        } else if (STRNCMP (&data[new_offset], \"mif1\", 4) == 0) {\n+        }\n+\n+        if (ftyp_brand_is (&data[new_offset], iso_fragmented_brands,\n+                G_N_ELEMENTS (iso_fragmented_brands))) {\n+          tip = GST_TYPE_FIND_MAXIMUM;\n+          variant = \"iso-fragmented\";\n+          goto done;\n+        }\n+\n+        if (ftyp_brand_is (&data[new_offset], heif_brands,\n+                G_N_ELEMENTS (heif_brands))) {\n@@ -3476,0 +3586,1 @@\n+\n@@ -3548,1 +3659,1 @@\n-    if (STRNCMP (data + 4, \"idsc\", 4) == 0)\n+    if (memcmp (data + 4, \"idsc\", 4) == 0)\n@@ -3550,1 +3661,1 @@\n-    if (STRNCMP (data + 4, \"idat\", 4) == 0)\n+    if (memcmp (data + 4, \"idat\", 4) == 0)\n@@ -4298,1 +4409,1 @@\n-    gst_type_find_suggest_simple (tf, GST_TYPE_FIND_LIKELY, media_type, NULL);\n+    gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_LIKELY, media_type);\n@@ -4610,1 +4721,1 @@\n-  gst_type_find_suggest_simple (tf, prob, type_name, NULL);\n+  gst_type_find_suggest_empty_simple (tf, prob, type_name);\n@@ -4804,1 +4915,1 @@\n-  gst_type_find_suggest_simple (tf, GST_TYPE_FIND_MAXIMUM, media_type, NULL);\n+  gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_MAXIMUM, media_type);\n@@ -4893,2 +5004,2 @@\n-    gst_type_find_suggest_simple (tf, GST_TYPE_FIND_MAXIMUM,\n-        \"subtitle\/x-kate\", NULL);\n+    gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_MAXIMUM,\n+        \"subtitle\/x-kate\");\n@@ -4896,2 +5007,2 @@\n-    gst_type_find_suggest_simple (tf, GST_TYPE_FIND_MAXIMUM,\n-        \"application\/x-kate\", NULL);\n+    gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_MAXIMUM,\n+        \"application\/x-kate\");\n@@ -4910,0 +5021,3 @@\n+  static const guint8 webvtt_with_bom[] = {\n+    0xef, 0xbb, 0xbf, 'W', 'E', 'B', 'V', 'T', 'T'\n+  };\n@@ -4911,1 +5025,1 @@\n-  data = gst_type_find_peek (tf, 0, 10);\n+  data = gst_type_find_peek (tf, 0, 7);\n@@ -4916,4 +5030,4 @@\n-  \/* there might be a UTF-8 BOM at the beginning *\/\n-  if (memcmp (data, \"WEBVTT\", 6) != 0 && memcmp (data + 3, \"WEBVTT\", 6) != 0) {\n-    return;\n-  }\n+  if (memcmp (data, \"WEBVTT\", 6) == 0) {\n+    data += 6;\n+  } else {\n+    data = gst_type_find_peek (tf, 0, 10);\n@@ -4921,4 +5035,8 @@\n-  if (data[0] != 'W') {\n-    if (data[0] != 0xef || data[1] != 0xbb || data[2] != 0xbf)\n-      return;                   \/* Not a UTF-8 BOM *\/\n-    data += 3;\n+    if (!data)\n+      return;\n+\n+    \/* there might be a UTF-8 BOM at the beginning *\/\n+    if (memcmp (data, webvtt_with_bom, sizeof (webvtt_with_bom)) != 0)\n+      return;\n+\n+    data += 9;\n@@ -4929,1 +5047,1 @@\n-  if (data[6] != 0x20 && data[6] != 0x9 && data[6] != 0xa && data[6] != 0xd) {\n+  if (data[0] != 0x20 && data[0] != 0x9 && data[0] != 0xa && data[0] != 0xd) {\n@@ -5481,1 +5599,1 @@\n-  gst_type_find_suggest_simple (find, GST_TYPE_FIND_POSSIBLE, mimetype, NULL);\n+  gst_type_find_suggest_empty_simple (find, GST_TYPE_FIND_POSSIBLE, mimetype);\n@@ -5526,2 +5644,2 @@\n-  gst_type_find_suggest_simple (find, GST_TYPE_FIND_NEARLY_CERTAIN,\n-      \"image\/x-icon\", NULL);\n+  gst_type_find_suggest_empty_simple (find, GST_TYPE_FIND_NEARLY_CERTAIN,\n+      \"image\/x-icon\");\n@@ -5581,2 +5699,2 @@\n-    gst_type_find_suggest_simple (find, GST_TYPE_FIND_POSSIBLE - 10,\n-        \"image\/vnd.wap.wbmp\", NULL);\n+    gst_type_find_suggest_empty_simple (find, GST_TYPE_FIND_POSSIBLE - 10,\n+        \"image\/vnd.wap.wbmp\");\n@@ -5607,2 +5725,2 @@\n-      gst_type_find_suggest_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n-          \"image\/x-degas\", NULL);\n+      gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n+          \"image\/x-degas\");\n@@ -5619,2 +5737,2 @@\n-      gst_type_find_suggest_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n-          \"image\/x-degas\", NULL);\n+      gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n+          \"image\/x-degas\");\n@@ -5633,2 +5751,2 @@\n-      gst_type_find_suggest_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n-          \"image\/x-degas\", NULL);\n+      gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_POSSIBLE + 5,\n+          \"image\/x-degas\");\n@@ -5675,2 +5793,2 @@\n-  gst_type_find_suggest_simple (tf, GST_TYPE_FIND_LIKELY,\n-      \"application\/octet-stream\", NULL);\n+  gst_type_find_suggest_empty_simple (tf, GST_TYPE_FIND_LIKELY,\n+      \"application\/octet-stream\");\n@@ -5841,101 +5959,1 @@\n-\/*** generic typefind for streams that have some data at a specific position***\/\n-typedef struct\n-{\n-  const guint8 *data;\n-  guint size;\n-  guint probability;\n-  GstCaps *caps;\n-}\n-GstTypeFindData;\n-\n-static void\n-start_with_type_find (GstTypeFind * tf, gpointer private)\n-{\n-  GstTypeFindData *start_with = (GstTypeFindData *) private;\n-  const guint8 *data;\n-\n-  GST_LOG (\"trying to find mime type %s with the first %u bytes of data\",\n-      gst_structure_get_name (gst_caps_get_structure (start_with->caps, 0)),\n-      start_with->size);\n-  data = gst_type_find_peek (tf, 0, start_with->size);\n-  if (data && memcmp (data, start_with->data, start_with->size) == 0) {\n-    gst_type_find_suggest (tf, start_with->probability, start_with->caps);\n-  }\n-}\n-\n-static void\n-sw_data_destroy (GstTypeFindData * sw_data)\n-{\n-  if (G_LIKELY (sw_data->caps != NULL))\n-    gst_caps_unref (sw_data->caps);\n-  g_slice_free (GstTypeFindData, sw_data);\n-}\n-\n-#define TYPE_FIND_REGISTER_START_WITH(plugin,name,rank,ext,_data,_size,_probability)\\\n-G_BEGIN_DECLS{                                                          \\\n-  GstTypeFindData *sw_data = g_slice_new (GstTypeFindData);             \\\n-  sw_data->data = (const guint8 *)_data;                                \\\n-  sw_data->size = _size;                                                \\\n-  sw_data->probability = _probability;                                  \\\n-  sw_data->caps = gst_caps_new_empty_simple (name);                     \\\n-  if (!gst_type_find_register (plugin, name, rank, start_with_type_find,\\\n-                     ext, sw_data->caps, sw_data,                       \\\n-                     (GDestroyNotify) (sw_data_destroy))) {             \\\n-    sw_data_destroy (sw_data);                                          \\\n-  }                                                                     \\\n-}G_END_DECLS\n-\n-\/*** same for riff types ***\/\n-\n-static void\n-riff_type_find (GstTypeFind * tf, gpointer private)\n-{\n-  GstTypeFindData *riff_data = (GstTypeFindData *) private;\n-  const guint8 *data = gst_type_find_peek (tf, 0, 12);\n-\n-  if (data && (memcmp (data, \"RIFF\", 4) == 0 || memcmp (data, \"AVF0\", 4) == 0)) {\n-    data += 8;\n-    if (memcmp (data, riff_data->data, 4) == 0)\n-      gst_type_find_suggest (tf, riff_data->probability, riff_data->caps);\n-  }\n-}\n-\n-#define TYPE_FIND_REGISTER_RIFF(plugin,name,rank,ext,_data)             \\\n-G_BEGIN_DECLS{                                                          \\\n-  GstTypeFindData *sw_data = g_slice_new (GstTypeFindData);             \\\n-  sw_data->data = (gpointer)_data;                                      \\\n-  sw_data->size = 4;                                                    \\\n-  sw_data->probability = GST_TYPE_FIND_MAXIMUM;                         \\\n-  sw_data->caps = gst_caps_new_empty_simple (name);                     \\\n-  if (!gst_type_find_register (plugin, name, rank, riff_type_find,      \\\n-                      ext, sw_data->caps, sw_data,                      \\\n-                      (GDestroyNotify) (sw_data_destroy))) {            \\\n-    sw_data_destroy (sw_data);                                          \\\n-  }                                                                     \\\n-}G_END_DECLS\n-\n-\n-\/*** plugin initialization ***\/\n-\n-#define TYPE_FIND_REGISTER(plugin,name,rank,func,ext,caps,priv,notify) \\\n-G_BEGIN_DECLS{\\\n-  if (!gst_type_find_register (plugin, name, rank, func, ext, caps, priv, notify))\\\n-    return FALSE; \\\n-}G_END_DECLS\n-\n-\n-#ifdef GSTREAMER_LITE\n-gboolean\n-plugin_init_typefind (GstPlugin * plugin)\n-#else \/\/ GSTREAMER_LITE\n-static gboolean\n-plugin_init (GstPlugin * plugin)\n-#endif \/\/ GSTREAMER_LITE\n-{\n-  \/* can't initialize this via a struct as caps can't be statically initialized *\/\n-\n-  GST_DEBUG_CATEGORY_INIT (type_find_debug, \"typefindfunctions\",\n-      GST_DEBUG_FG_GREEN | GST_DEBUG_BG_RED, \"generic type find functions\");\n-\n-  \/* note: asx\/wax\/wmx are XML files, asf doesn't handle them *\/\n-  \/* must use strings, macros don't accept initializers *\/\n+\/*Type find definition by functions *\/\n@@ -5943,23 +5961,4 @@\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-ms-asf\", GST_RANK_SECONDARY,\n-      \"asf,wm,wma,wmv\",\n-      \"\\060\\046\\262\\165\\216\\146\\317\\021\\246\\331\\000\\252\\000\\142\\316\\154\", 16,\n-      GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-musepack\", GST_RANK_PRIMARY,\n-      musepack_type_find, \"mpc,mpp,mp+\", MUSEPACK_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-au\", GST_RANK_MARGINAL,\n-      au_type_find, \"au,snd\", AU_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"video\/x-msvideo\", GST_RANK_PRIMARY,\n-      \"avi\", \"AVI \");\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"audio\/qcelp\", GST_RANK_PRIMARY,\n-      \"qcp\", \"QLCM\");\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"video\/x-cdxa\", GST_RANK_PRIMARY,\n-      \"dat\", \"CDXA\");\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-vcd\", GST_RANK_PRIMARY,\n-      \"dat\", \"\\000\\377\\377\\377\\377\\377\\377\\377\\377\\377\\377\\000\", 12,\n-      GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-imelody\", GST_RANK_PRIMARY,\n-      \"imy,ime,imelody\", \"BEGIN:IMELODY\", 13, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-scc\", GST_RANK_PRIMARY,\n-      \"scc\", \"Scenarist_SCC V1.0\", 18, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-mcc\", GST_RANK_PRIMARY,\n-      mcc_type_find, \"mcc\", MCC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (musepack, \"audio\/x-musepack\", GST_RANK_PRIMARY,\n+    musepack_type_find, \"mpc,mpp,mp+\", MUSEPACK_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (au, \"audio\/x-au\", GST_RANK_MARGINAL,\n+    au_type_find, \"au,snd\", AU_CAPS, NULL, NULL);\n@@ -5967,0 +5966,2 @@\n+GST_TYPE_FIND_REGISTER_DEFINE (mcc, \"application\/x-mcc\", GST_RANK_PRIMARY,\n+    mcc_type_find, \"mcc\", MCC_CAPS, NULL, NULL);\n@@ -5968,2 +5969,2 @@\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-smoke\", GST_RANK_PRIMARY,\n-      NULL, \"\\x80smoke\\x00\\x01\\x00\", 6, GST_TYPE_FIND_MAXIMUM);\n+GST_TYPE_FIND_REGISTER_START_WITH_DEFINE (smoke, \"video\/x-smoke\",\n+    GST_RANK_PRIMARY, NULL, \"\\x80smoke\\x00\\x01\\x00\", 6, GST_TYPE_FIND_MAXIMUM);\n@@ -5971,282 +5972,194 @@\n-  TYPE_FIND_REGISTER (plugin, \"audio\/midi\", GST_RANK_PRIMARY, mid_type_find,\n-      \"mid,midi\", MID_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"audio\/riff-midi\", GST_RANK_PRIMARY,\n-      \"mid,midi\", \"RMID\");\n-  TYPE_FIND_REGISTER (plugin, \"audio\/mobile-xmf\", GST_RANK_PRIMARY,\n-      mxmf_type_find, \"mxmf\", MXMF_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-fli\", GST_RANK_MARGINAL, flx_type_find,\n-      \"flc,fli\", FLX_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-id3v2\", GST_RANK_PRIMARY + 103,\n-      id3v2_type_find, \"mp3,mp2,mp1,mpga,ogg,flac,tta\", ID3_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-id3v1\", GST_RANK_PRIMARY + 101,\n-      id3v1_type_find, \"mp3,mp2,mp1,mpga,ogg,flac,tta\", ID3_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-apetag\", GST_RANK_PRIMARY + 102,\n-      apetag_type_find, \"mp3,ape,mpc,wv\", APETAG_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-ttafile\", GST_RANK_PRIMARY,\n-      tta_type_find, \"tta\", TTA_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-mod\", GST_RANK_SECONDARY, mod_type_find,\n-      \"669,amf,ams,dbm,digi,dmf,dsm,gdm,far,imf,it,j2b,mdl,med,mod,mt2,mtm,\"\n-      \"okt,psm,ptm,sam,s3m,stm,stx,ult,umx,xm\", MOD_CAPS, NULL, NULL);\n-#endif \/\/ GSTREAMER_LITE\n-  TYPE_FIND_REGISTER (plugin, \"audio\/mpeg\", GST_RANK_PRIMARY, mp3_type_find,\n-      \"mp3,mp2,mp1,mpga\", MP3_CAPS, NULL, NULL);\n-#ifndef GSTREAMER_LITE\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-ac3\", GST_RANK_PRIMARY, ac3_type_find,\n-      \"ac3,eac3\", AC3_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-dts\", GST_RANK_SECONDARY, dts_type_find,\n-      \"dts\", DTS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-gsm\", GST_RANK_PRIMARY, NULL, \"gsm\",\n-      GSM_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/mpeg-sys\", GST_RANK_PRIMARY,\n-      mpeg_sys_type_find, \"mpe,mpeg,mpg\", MPEG_SYS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/mpegts\", GST_RANK_PRIMARY,\n-      mpeg_ts_type_find, \"ts,mts\", MPEGTS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/ogg\", GST_RANK_PRIMARY,\n-      ogganx_type_find, \"ogg,oga,ogv,ogm,ogx,spx,anx,axa,axv\", OGG_CAPS,\n-      NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/mpeg-elementary\", GST_RANK_MARGINAL,\n-      mpeg_video_stream_type_find, \"mpv,mpeg,mpg\", MPEG_VIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/mpeg4\", GST_RANK_PRIMARY,\n-      mpeg4_video_type_find, \"m4v\", MPEG_VIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-h263\", GST_RANK_SECONDARY,\n-      h263_video_type_find, \"h263,263\", H263_VIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-h264\", GST_RANK_PRIMARY,\n-      h264_video_type_find, \"h264,x264,264\", H264_VIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-h265\", GST_RANK_PRIMARY,\n-      h265_video_type_find, \"h265,x265,265\", H265_VIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-nuv\", GST_RANK_SECONDARY, nuv_type_find,\n-      \"nuv\", NUV_CAPS, NULL, NULL);\n-\n-  \/* ISO formats *\/\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-m4a\", GST_RANK_PRIMARY, m4a_type_find,\n-      \"m4a\", M4A_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-3gp\", GST_RANK_PRIMARY,\n-      q3gp_type_find, \"3gp\", Q3GP_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/quicktime\", GST_RANK_PRIMARY,\n-      qt_type_find, \"mov,mp4\", QT_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-quicktime\", GST_RANK_SECONDARY,\n-      qtif_type_find, \"qif,qtif,qti\", QTIF_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/jp2\", GST_RANK_PRIMARY,\n-      jp2_type_find, \"jp2\", JP2_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-jpc\", GST_RANK_PRIMARY,\n-      jpc_type_find, \"jpc,j2k\", JPC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/mj2\", GST_RANK_PRIMARY,\n-      jp2_type_find, \"mj2\", MJ2_CAPS, NULL, NULL);\n-\n-  TYPE_FIND_REGISTER (plugin, \"text\/html\", GST_RANK_SECONDARY, html_type_find,\n-      \"htm,html\", HTML_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/vnd.rn-realmedia\",\n-      GST_RANK_SECONDARY, \"ra,ram,rm,rmvb\", \".RMF\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-pn-realaudio\",\n-      GST_RANK_SECONDARY, \"ra,ram,rm,rmvb\", \".ra\\375\", 4,\n-      GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-shockwave-flash\",\n-      GST_RANK_SECONDARY, swf_type_find, \"swf,swfl\", SWF_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/xges\",\n-      GST_RANK_PRIMARY, xges_type_find, \"xges\", XGES_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/vnd.apple-xmeml+xml\",\n-      GST_RANK_SECONDARY, xmeml_type_find, \"xmeml\", XMEML_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/vnd.apple-fcp+xml\",\n-      GST_RANK_SECONDARY, fcpxml_type_find, \"fcpxml\", FCPXML_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/vnd.pixar.opentimelineio+json\",\n-      GST_RANK_SECONDARY, otio_type_find, \"otio\", OTIO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/dash+xml\",\n-      GST_RANK_PRIMARY, dash_mpd_type_find, \"mpd,MPD\", DASH_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/vnd.ms-sstr+xml\",\n-      GST_RANK_PRIMARY, mss_manifest_type_find, NULL, MSS_MANIFEST_CAPS, NULL,\n-      NULL);\n-#endif \/\/ GSTREAMER_LITE\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-flv\", GST_RANK_SECONDARY,\n-      \"flv\", \"FLV\", 3, GST_TYPE_FIND_MAXIMUM);\n-#ifndef GSTREAMER_LITE\n-  TYPE_FIND_REGISTER (plugin, \"text\/plain\", GST_RANK_MARGINAL, utf8_type_find,\n-      \"txt\", UTF8_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"text\/utf-16\", GST_RANK_MARGINAL, utf16_type_find,\n-      \"txt\", UTF16_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"text\/utf-32\", GST_RANK_MARGINAL, utf32_type_find,\n-      \"txt\", UTF32_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"text\/uri-list\", GST_RANK_MARGINAL, uri_type_find,\n-      \"ram\", URI_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/itc\", GST_RANK_SECONDARY,\n-      itc_type_find, \"itc\", ITC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-hls\", GST_RANK_MARGINAL,\n-      hls_type_find, \"m3u8\", HLS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/sdp\", GST_RANK_SECONDARY,\n-      sdp_type_find, \"sdp\", SDP_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/smil\", GST_RANK_SECONDARY,\n-      smil_type_find, \"smil\", SMIL_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/ttml+xml\", GST_RANK_SECONDARY,\n-      ttml_xml_type_find, \"ttml+xml\", TTML_XML_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/xml\", GST_RANK_MARGINAL,\n-      xml_type_find, \"xml\", GENERIC_XML_CAPS, NULL, NULL);\n-#endif \/\/ GSTREAMER_LITE\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"audio\/x-wav\", GST_RANK_PRIMARY, \"wav\",\n-      \"WAVE\");\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-aiff\", GST_RANK_SECONDARY,\n-      aiff_type_find, \"aiff,aif,aifc\", AIFF_CAPS, NULL, NULL);\n-#ifndef GSTREAMER_LITE\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-svx\", GST_RANK_SECONDARY, svx_type_find,\n-      \"iff,svx\", SVX_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-paris\", GST_RANK_SECONDARY,\n-      paris_type_find, \"paf\", PARIS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-nist\", GST_RANK_SECONDARY,\n-      \"nist\", \"NIST\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-voc\", GST_RANK_SECONDARY,\n-      \"voc\", \"Creative\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-sds\", GST_RANK_SECONDARY, sds_type_find,\n-      \"sds\", SDS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-ircam\", GST_RANK_SECONDARY,\n-      ircam_type_find, \"sf\", IRCAM_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-w64\", GST_RANK_SECONDARY,\n-      \"w64\", \"riff\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-rf64\", GST_RANK_PRIMARY,\n-      \"rf64\", \"RF64\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-shorten\", GST_RANK_SECONDARY,\n-      shn_type_find, \"shn\", SHN_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ape\", GST_RANK_SECONDARY,\n-      ape_type_find, \"ape\", APE_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/jpeg\", GST_RANK_PRIMARY + 15,\n-      jpeg_type_find, \"jpg,jpe,jpeg\", JPEG_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/gif\", GST_RANK_PRIMARY, \"gif\",\n-      \"GIF8\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/png\", GST_RANK_PRIMARY + 14,\n-      \"png\", \"\\211PNG\\015\\012\\032\\012\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"image\/bmp\", GST_RANK_PRIMARY, bmp_type_find,\n-      \"bmp\", BMP_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/tiff\", GST_RANK_PRIMARY, tiff_type_find,\n-      \"tif,tiff\", TIFF_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_RIFF (plugin, \"image\/webp\", GST_RANK_PRIMARY,\n-      \"webp\", \"WEBP\");\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-exr\", GST_RANK_PRIMARY, exr_type_find,\n-      \"exr\", EXR_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-portable-pixmap\", GST_RANK_SECONDARY,\n-      pnm_type_find, \"pnm,ppm,pgm,pbm\", PNM_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-matroska\", GST_RANK_PRIMARY,\n-      matroska_type_find, \"mkv,mka,mk3d,webm\", MATROSKA_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/mxf\", GST_RANK_PRIMARY,\n-      mxf_type_find, \"mxf\", MXF_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-mve\", GST_RANK_SECONDARY,\n-      \"mve\", \"Interplay MVE File\\032\\000\\032\\000\\000\\001\\063\\021\", 26,\n-      GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-dv\", GST_RANK_SECONDARY, dv_type_find,\n-      \"dv,dif\", DV_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-amr-nb-sh\", GST_RANK_PRIMARY,\n-      \"amr\", \"#!AMR\", 5, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-amr-wb-sh\", GST_RANK_PRIMARY,\n-      \"amr\", \"#!AMR-WB\", 7, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/iLBC-sh\", GST_RANK_PRIMARY, ilbc_type_find,\n-      \"ilbc\", ILBC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-sbc\", GST_RANK_MARGINAL, sbc_type_find,\n-      \"sbc\", SBC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-sid\", GST_RANK_MARGINAL,\n-      \"sid\", \"PSID\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/x-xcf\", GST_RANK_SECONDARY,\n-      \"xcf\", \"gimp xcf\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-mng\", GST_RANK_SECONDARY,\n-      \"mng\", \"\\212MNG\\015\\012\\032\\012\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/x-jng\", GST_RANK_SECONDARY,\n-      \"jng\", \"\\213JNG\\015\\012\\032\\012\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/x-xpixmap\", GST_RANK_SECONDARY,\n-      \"xpm\", \"\/* XPM *\/\", 9, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/x-sun-raster\",\n-      GST_RANK_SECONDARY, \"ras\", \"\\131\\246\\152\\225\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-bzip\",\n-      GST_RANK_SECONDARY, \"bz2\", \"BZh\", 3, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-gzip\",\n-      GST_RANK_SECONDARY, \"gz\", \"\\037\\213\", 2, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/zip\", GST_RANK_SECONDARY,\n-      \"zip\", \"PK\\003\\004\", 4, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-compress\",\n-      GST_RANK_SECONDARY, \"Z\", \"\\037\\235\", 2, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER (plugin, \"subtitle\/x-kate\", GST_RANK_MARGINAL,\n-      kate_type_find, NULL, NULL, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-subtitle-vtt\", GST_RANK_MARGINAL,\n-      webvtt_type_find, \"vtt\", WEBVTT_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-flac\", GST_RANK_PRIMARY, flac_type_find,\n-      \"flac\", FLAC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-vorbis\", GST_RANK_PRIMARY,\n-      vorbis_type_find, NULL, VORBIS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-theora\", GST_RANK_PRIMARY,\n-      theora_type_find, NULL, THEORA_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ogm-video\", GST_RANK_PRIMARY,\n-      ogmvideo_type_find, NULL, OGMVIDEO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ogm-audio\", GST_RANK_PRIMARY,\n-      ogmaudio_type_find, NULL, OGMAUDIO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ogm-text\", GST_RANK_PRIMARY,\n-      ogmtext_type_find, NULL, OGMTEXT_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-speex\", GST_RANK_PRIMARY,\n-      speex_type_find, NULL, SPEEX_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-celt\", GST_RANK_PRIMARY, celt_type_find,\n-      NULL, CELT_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ogg-skeleton\", GST_RANK_PRIMARY,\n-      oggskel_type_find, NULL, OGG_SKELETON_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"text\/x-cmml\", GST_RANK_PRIMARY, cmml_type_find,\n-      NULL, CMML_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-executable\",\n-      GST_RANK_MARGINAL, NULL, \"\\177ELF\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/aac\", GST_RANK_SECONDARY, aac_type_find,\n-      \"aac,adts,adif,loas\", AAC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-spc\", GST_RANK_SECONDARY,\n-      \"spc\", \"SNES-SPC700 Sound File Data\", 27, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-wavpack\", GST_RANK_SECONDARY,\n-      wavpack_type_find, \"wv,wvp\", WAVPACK_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-wavpack-correction\", GST_RANK_SECONDARY,\n-      wavpack_type_find, \"wvc\", WAVPACK_CORRECTION_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-caf\", GST_RANK_SECONDARY,\n-      \"caf\", \"caff\\000\\001\", 6, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER (plugin, \"application\/postscript\", GST_RANK_SECONDARY,\n-      postscript_type_find, \"ps\", POSTSCRIPT_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/svg+xml\", GST_RANK_SECONDARY,\n-      svg_type_find, \"svg\", SVG_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/x-rar\",\n-      GST_RANK_SECONDARY, \"rar\", \"Rar!\", 4, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-tar\", GST_RANK_SECONDARY,\n-      tar_type_find, \"tar\", TAR_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ar\", GST_RANK_SECONDARY,\n-      ar_type_find, \"a\", AR_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ms-dos-executable\",\n-      GST_RANK_SECONDARY, msdos_type_find, \"dll,exe,ocx,sys,scr,msstyles,cpl\",\n-      MSDOS_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-dirac\", GST_RANK_PRIMARY,\n-      dirac_type_find, NULL, DIRAC_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"multipart\/x-mixed-replace\", GST_RANK_SECONDARY,\n-      multipart_type_find, NULL, MULTIPART_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-mmsh\", GST_RANK_SECONDARY,\n-      mmsh_type_find, NULL, MMSH_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"video\/vivo\", GST_RANK_SECONDARY, vivo_type_find,\n-      \"viv\", VIVO_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-nsf\", GST_RANK_SECONDARY,\n-      \"nsf\", \"NESM\\x1a\", 5, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-gym\", GST_RANK_SECONDARY,\n-      \"gym\", \"GYMX\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-ay\", GST_RANK_SECONDARY, \"ay\",\n-      \"ZXAYEMUL\", 8, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-gbs\", GST_RANK_SECONDARY,\n-      \"gbs\", \"GBS\\x01\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-vgm\", GST_RANK_SECONDARY,\n-      \"vgm\", \"Vgm\\x20\", 4, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-sap\", GST_RANK_SECONDARY,\n-      \"sap\", \"SAP\\x0d\\x0a\" \"AUTHOR\\x20\", 12, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"video\/x-ivf\", GST_RANK_SECONDARY,\n-      \"ivf\", \"DKIF\", 4, GST_TYPE_FIND_NEARLY_CERTAIN);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-kss\", GST_RANK_SECONDARY,\n-      \"kss\", \"KSSX\\0\", 5, GST_TYPE_FIND_MAXIMUM);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/pdf\", GST_RANK_SECONDARY,\n-      \"pdf\", \"%PDF-\", 5, GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/msword\",\n-      GST_RANK_SECONDARY, \"doc\", \"\\320\\317\\021\\340\\241\\261\\032\\341\", 8,\n-      GST_TYPE_FIND_LIKELY);\n-  \/* Mac OS X .DS_Store files tend to be taken for video\/mpeg *\/\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"application\/octet-stream\",\n-      GST_RANK_SECONDARY, \"DS_Store\", \"\\000\\000\\000\\001Bud1\", 8,\n-      GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"image\/vnd.adobe.photoshop\",\n-      GST_RANK_SECONDARY, \"psd\", \"8BPS\\000\\001\\000\\000\\000\\000\", 10,\n-      GST_TYPE_FIND_LIKELY);\n-  TYPE_FIND_REGISTER (plugin, \"image\/vnd.wap.wbmp\", GST_RANK_MARGINAL,\n-      wbmp_typefind, NULL, NULL, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-yuv4mpeg\", GST_RANK_SECONDARY,\n-      y4m_typefind, NULL, NULL, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-icon\", GST_RANK_MARGINAL,\n-      windows_icon_typefind, NULL, NULL, NULL, NULL);\n-\n+GST_TYPE_FIND_REGISTER_DEFINE (mid, \"audio\/midi\", GST_RANK_PRIMARY,\n+    mid_type_find, \"mid,midi\", MID_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mxmf, \"audio\/mobile-xmf\", GST_RANK_PRIMARY,\n+    mxmf_type_find, \"mxmf\", MXMF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (flx, \"video\/x-fli\", GST_RANK_MARGINAL,\n+    flx_type_find, \"flc,fli\", FLX_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (id3v2, \"application\/x-id3v2\",\n+    GST_RANK_PRIMARY + 103, id3v2_type_find, \"mp3,mp2,mp1,mpga,ogg,flac,tta\",\n+    ID3_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (id3v1, \"application\/x-id3v1\",\n+    GST_RANK_PRIMARY + 101, id3v1_type_find, \"mp3,mp2,mp1,mpga,ogg,flac,tta\",\n+    ID3_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (apetag, \"application\/x-apetag\",\n+    GST_RANK_PRIMARY + 102, apetag_type_find, \"mp3,ape,mpc,wv\", APETAG_CAPS,\n+    NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (tta, \"audio\/x-ttafile\", GST_RANK_PRIMARY,\n+    tta_type_find, \"tta\", TTA_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mod, \"audio\/x-mod\", GST_RANK_SECONDARY,\n+    mod_type_find,\n+    \"669,amf,ams,dbm,digi,dmf,dsm,gdm,far,imf,it,j2b,mdl,med,mod,mt2,mtm,\"\n+    \"okt,psm,ptm,sam,s3m,stm,stx,ult,umx,xm\", MOD_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mp3, \"audio\/mpeg\", GST_RANK_PRIMARY,\n+    mp3_type_find, \"mp3,mp2,mp1,mpga\", MP3_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ac3, \"audio\/x-ac3\", GST_RANK_PRIMARY,\n+    ac3_type_find, \"ac3,eac3\", AC3_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (dts, \"audio\/x-dts\", GST_RANK_SECONDARY,\n+    dts_type_find, \"dts\", DTS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (gsm, \"audio\/x-gsm\", GST_RANK_PRIMARY, NULL,\n+    \"gsm\", GSM_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mpeg_sys, \"video\/mpeg-sys\", GST_RANK_PRIMARY,\n+    mpeg_sys_type_find, \"mpe,mpeg,mpg\", MPEG_SYS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mpeg_ts, \"video\/mpegts\", GST_RANK_PRIMARY,\n+    mpeg_ts_type_find, \"ts,mts\", MPEGTS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ogganx, \"application\/ogg\", GST_RANK_PRIMARY,\n+    ogganx_type_find, \"ogg,oga,ogv,ogm,ogx,spx,anx,axa,axv\", OGG_CAPS, NULL,\n+    NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mpeg_video_stream, \"video\/mpeg-elementary\",\n+    GST_RANK_MARGINAL, mpeg_video_stream_type_find, \"mpv,mpeg,mpg\",\n+    MPEG_VIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mpeg4_video, \"video\/mpeg4\", GST_RANK_PRIMARY,\n+    mpeg4_video_type_find, \"m4v\", MPEG_VIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (h263_video, \"video\/x-h263\", GST_RANK_SECONDARY,\n+    h263_video_type_find, \"h263,263\", H263_VIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (h264_video, \"video\/x-h264\", GST_RANK_PRIMARY,\n+    h264_video_type_find, \"h264,x264,264\", H264_VIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (h265_video, \"video\/x-h265\", GST_RANK_PRIMARY,\n+    h265_video_type_find, \"h265,x265,265\", H265_VIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (nuv, \"video\/x-nuv\", GST_RANK_SECONDARY,\n+    nuv_type_find, \"nuv\", NUV_CAPS, NULL, NULL);\n+\/* ISO formats *\/\n+GST_TYPE_FIND_REGISTER_DEFINE (m4a, \"audio\/x-m4a\", GST_RANK_PRIMARY,\n+    m4a_type_find, \"m4a\", M4A_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (q3gp, \"application\/x-3gp\", GST_RANK_PRIMARY,\n+    q3gp_type_find, \"3gp\", Q3GP_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (qt, \"video\/quicktime\", GST_RANK_PRIMARY,\n+    qt_type_find, \"mov,mp4\", QT_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (qtif, \"image\/x-quicktime\", GST_RANK_SECONDARY,\n+    qtif_type_find, \"qif,qtif,qti\", QTIF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (jp2, \"image\/jp2\", GST_RANK_PRIMARY,\n+    jp2_type_find, \"jp2\", JP2_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (jpc, \"image\/x-jpc\", GST_RANK_PRIMARY,\n+    jpc_type_find, \"jpc,j2k\", JPC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mj2, \"video\/mj2\", GST_RANK_PRIMARY,\n+    jp2_type_find, \"mj2\", MJ2_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (html, \"text\/html\", GST_RANK_SECONDARY,\n+    html_type_find, \"htm,html\", HTML_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (swf, \"application\/x-shockwave-flash\",\n+    GST_RANK_SECONDARY, swf_type_find, \"swf,swfl\", SWF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (xges, \"application\/xges\",\n+    GST_RANK_PRIMARY, xges_type_find, \"xges\", XGES_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (xmeml, \"application\/vnd.apple-xmeml+xml\",\n+    GST_RANK_SECONDARY, xmeml_type_find, \"xmeml\", XMEML_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (fcpxml, \"application\/vnd.apple-fcp+xml\",\n+    GST_RANK_SECONDARY, fcpxml_type_find, \"fcpxml\", FCPXML_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (otio,\n+    \"application\/vnd.pixar.opentimelineio+json\", GST_RANK_SECONDARY,\n+    otio_type_find, \"otio\", OTIO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (dash_mpd, \"application\/dash+xml\",\n+    GST_RANK_PRIMARY, dash_mpd_type_find, \"mpd,MPD\", DASH_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mss_manifest, \"application\/vnd.ms-sstr+xml\",\n+    GST_RANK_PRIMARY, mss_manifest_type_find, NULL, MSS_MANIFEST_CAPS, NULL,\n+    NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (utf8, \"text\/plain\", GST_RANK_MARGINAL,\n+    utf8_type_find, \"txt\", UTF8_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (utf16, \"text\/utf-16\", GST_RANK_MARGINAL,\n+    utf16_type_find, \"txt\", UTF16_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (utf32, \"text\/utf-32\", GST_RANK_MARGINAL,\n+    utf32_type_find, \"txt\", UTF32_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (uri, \"text\/uri-list\", GST_RANK_MARGINAL,\n+    uri_type_find, \"ram\", URI_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (itc, \"application\/itc\", GST_RANK_SECONDARY,\n+    itc_type_find, \"itc\", ITC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (hls, \"application\/x-hls\", GST_RANK_MARGINAL,\n+    hls_type_find, \"m3u8\", HLS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (sdp, \"application\/sdp\", GST_RANK_SECONDARY,\n+    sdp_type_find, \"sdp\", SDP_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (smil, \"application\/smil\", GST_RANK_SECONDARY,\n+    smil_type_find, \"smil\", SMIL_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ttml_xml, \"application\/ttml+xml\",\n+    GST_RANK_SECONDARY, ttml_xml_type_find, \"ttml+xml\", TTML_XML_CAPS, NULL,\n+    NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (xml, \"application\/xml\", GST_RANK_MARGINAL,\n+    xml_type_find, \"xml\", GENERIC_XML_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (aiff, \"audio\/x-aiff\", GST_RANK_SECONDARY,\n+    aiff_type_find, \"aiff,aif,aifc\", AIFF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (svx, \"audio\/x-svx\", GST_RANK_SECONDARY,\n+    svx_type_find, \"iff,svx\", SVX_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (paris, \"audio\/x-paris\", GST_RANK_SECONDARY,\n+    paris_type_find, \"paf\", PARIS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (sds, \"audio\/x-sds\", GST_RANK_SECONDARY,\n+    sds_type_find, \"sds\", SDS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ircam, \"audio\/x-ircam\", GST_RANK_SECONDARY,\n+    ircam_type_find, \"sf\", IRCAM_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (shn, \"audio\/x-shorten\", GST_RANK_SECONDARY,\n+    shn_type_find, \"shn\", SHN_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ape, \"application\/x-ape\", GST_RANK_SECONDARY,\n+    ape_type_find, \"ape\", APE_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (jpeg, \"image\/jpeg\", GST_RANK_PRIMARY + 15,\n+    jpeg_type_find, \"jpg,jpe,jpeg\", JPEG_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (bmp, \"image\/bmp\", GST_RANK_PRIMARY,\n+    bmp_type_find, \"bmp\", BMP_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (tiff, \"image\/tiff\", GST_RANK_PRIMARY,\n+    tiff_type_find, \"tif,tiff\", TIFF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (exr, \"image\/x-exr\", GST_RANK_PRIMARY,\n+    exr_type_find, \"exr\", EXR_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (pnm, \"image\/x-portable-pixmap\",\n+    GST_RANK_SECONDARY, pnm_type_find, \"pnm,ppm,pgm,pbm\", PNM_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (matroska, \"video\/x-matroska\", GST_RANK_PRIMARY,\n+    matroska_type_find, \"mkv,mka,mk3d,webm\", MATROSKA_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mxf, \"application\/mxf\", GST_RANK_PRIMARY,\n+    mxf_type_find, \"mxf\", MXF_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (dv, \"video\/x-dv\", GST_RANK_SECONDARY,\n+    dv_type_find, \"dv,dif\", DV_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ilbc, \"audio\/iLBC-sh\", GST_RANK_PRIMARY,\n+    ilbc_type_find, \"ilbc\", ILBC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (sbc, \"audio\/x-sbc\", GST_RANK_MARGINAL,\n+    sbc_type_find, \"sbc\", SBC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (kate, \"subtitle\/x-kate\", GST_RANK_MARGINAL,\n+    kate_type_find, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (webvtt, \"application\/x-subtitle-vtt\",\n+    GST_RANK_MARGINAL, webvtt_type_find, \"vtt\", WEBVTT_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (flac, \"audio\/x-flac\", GST_RANK_PRIMARY,\n+    flac_type_find, \"flac\", FLAC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (vorbis, \"audio\/x-vorbis\", GST_RANK_PRIMARY,\n+    vorbis_type_find, NULL, VORBIS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (theora, \"video\/x-theora\", GST_RANK_PRIMARY,\n+    theora_type_find, NULL, THEORA_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ogmvideo, \"application\/x-ogm-video\",\n+    GST_RANK_PRIMARY, ogmvideo_type_find, NULL, OGMVIDEO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ogmaudio, \"application\/x-ogm-audio\",\n+    GST_RANK_PRIMARY, ogmaudio_type_find, NULL, OGMAUDIO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ogmtext, \"application\/x-ogm-text\",\n+    GST_RANK_PRIMARY, ogmtext_type_find, NULL, OGMTEXT_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (speex, \"audio\/x-speex\", GST_RANK_PRIMARY,\n+    speex_type_find, NULL, SPEEX_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (celt, \"audio\/x-celt\", GST_RANK_PRIMARY,\n+    celt_type_find, NULL, CELT_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (oggskel, \"application\/x-ogg-skeleton\",\n+    GST_RANK_PRIMARY, oggskel_type_find, NULL, OGG_SKELETON_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (cmml, \"text\/x-cmml\", GST_RANK_PRIMARY,\n+    cmml_type_find, NULL, CMML_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (aac, \"audio\/aac\", GST_RANK_SECONDARY,\n+    aac_type_find, \"aac,adts,adif,loas\", AAC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (wavpack_wvp, \"audio\/x-wavpack\",\n+    GST_RANK_SECONDARY, wavpack_type_find, \"wv,wvp\", WAVPACK_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (wavpack_wvc, \"audio\/x-wavpack-correction\",\n+    GST_RANK_SECONDARY, wavpack_type_find, \"wvc\", WAVPACK_CORRECTION_CAPS, NULL,\n+    NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (postscript, \"application\/postscript\",\n+    GST_RANK_SECONDARY, postscript_type_find, \"ps\", POSTSCRIPT_CAPS, NULL,\n+    NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (svg, \"image\/svg+xml\", GST_RANK_SECONDARY,\n+    svg_type_find, \"svg\", SVG_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (tar, \"application\/x-tar\", GST_RANK_SECONDARY,\n+    tar_type_find, \"tar\", TAR_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ar, \"application\/x-ar\", GST_RANK_SECONDARY,\n+    ar_type_find, \"a\", AR_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (msdos, \"application\/x-ms-dos-executable\",\n+    GST_RANK_SECONDARY, msdos_type_find, \"dll,exe,ocx,sys,scr,msstyles,cpl\",\n+    MSDOS_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (dirac, \"video\/x-dirac\", GST_RANK_PRIMARY,\n+    dirac_type_find, NULL, DIRAC_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (multipart, \"multipart\/x-mixed-replace\",\n+    GST_RANK_SECONDARY, multipart_type_find, NULL, MULTIPART_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (mmsh, \"application\/x-mmsh\", GST_RANK_SECONDARY,\n+    mmsh_type_find, NULL, MMSH_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (vivo, \"video\/vivo\", GST_RANK_SECONDARY,\n+    vivo_type_find, \"viv\", VIVO_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (wbmp, \"image\/vnd.wap.wbmp\", GST_RANK_MARGINAL,\n+    wbmp_typefind, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (y4m, \"application\/x-yuv4mpeg\",\n+    GST_RANK_SECONDARY, y4m_typefind, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (windows_icon, \"image\/x-icon\", GST_RANK_MARGINAL,\n+    windows_icon_typefind, NULL, NULL, NULL, NULL);\n@@ -6254,2 +6167,2 @@\n-  TYPE_FIND_REGISTER (plugin, \"xdgmime-base\", GST_RANK_MARGINAL,\n-      xdgmime_typefind, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (xdgmime, \"xdgmime-base\", GST_RANK_MARGINAL,\n+    xdgmime_typefind, NULL, NULL, NULL, NULL);\n@@ -6257,34 +6170,13 @@\n-\n-  TYPE_FIND_REGISTER (plugin, \"image\/x-degas\", GST_RANK_MARGINAL,\n-      degas_type_find, NULL, NULL, NULL, NULL);\n-  TYPE_FIND_REGISTER (plugin, \"application\/octet-stream\", GST_RANK_MARGINAL,\n-      dvdiso_type_find, NULL, NULL, NULL, NULL);\n-\n-  TYPE_FIND_REGISTER (plugin, \"application\/x-ssa\", GST_RANK_SECONDARY,\n-      ssa_type_find, \"ssa,ass\", NULL, NULL, NULL);\n-\n-  TYPE_FIND_REGISTER (plugin, \"video\/x-pva\", GST_RANK_SECONDARY,\n-      pva_type_find, \"pva\", PVA_CAPS, NULL, NULL);\n-\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-xi\", GST_RANK_SECONDARY,\n-      \"xi\", \"Extended Instrument: \", 21, GST_TYPE_FIND_MAXIMUM);\n-\n-  TYPE_FIND_REGISTER (plugin, \"audio\/audible\", GST_RANK_MARGINAL,\n-      aa_type_find, \"aa,aax\", AA_CAPS, NULL, NULL);\n-#endif \/\/ GSTREAMER_LITE\n-\n-  TYPE_FIND_REGISTER (plugin, \"audio\/x-tap-tap\", GST_RANK_PRIMARY,\n-      tap_type_find, \"tap\", TAP_CAPS, NULL, NULL);\n-  TYPE_FIND_REGISTER_START_WITH (plugin, \"audio\/x-tap-dmp\",\n-      GST_RANK_SECONDARY, \"dmp\", \"DC2N-TAP-RAW\", 12, GST_TYPE_FIND_LIKELY);\n-\n-  return TRUE;\n-}\n-\n-#ifndef GSTREAMER_LITE\n-GST_PLUGIN_DEFINE (GST_VERSION_MAJOR,\n-    GST_VERSION_MINOR,\n-    typefindfunctions,\n-    \"default typefind functions\",\n-    plugin_init, VERSION, GST_LICENSE, GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN)\n-#endif \/\/ GSTREAMER_LITE\n+GST_TYPE_FIND_REGISTER_DEFINE (degas, \"image\/x-degas\", GST_RANK_MARGINAL,\n+    degas_type_find, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (dvdiso, \"application\/octet-stream\",\n+    GST_RANK_MARGINAL, dvdiso_type_find, NULL, NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (ssa, \"application\/x-ssa\", GST_RANK_SECONDARY,\n+    ssa_type_find, \"ssa,ass\", NULL, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (pva, \"video\/x-pva\", GST_RANK_SECONDARY,\n+    pva_type_find, \"pva\", PVA_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (aa, \"audio\/audible\", GST_RANK_MARGINAL,\n+    aa_type_find, \"aa,aax\", AA_CAPS, NULL, NULL);\n+GST_TYPE_FIND_REGISTER_DEFINE (tap, \"audio\/x-tap-tap\", GST_RANK_PRIMARY,\n+    tap_type_find, \"tap\", TAP_CAPS, NULL, NULL);\n+#endif \/\/ GSTREAMER_LITE\n\\ No newline at end of file\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctions.c","additions":420,"deletions":528,"binary":false,"changes":948,"status":"modified"},{"patch":"@@ -0,0 +1,39 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2009 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctionsdata.c: helper method for typefind functions\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+#include \"gsttypefindfunctionsdata.h\"\n+\n+void\n+sw_data_destroy (GstTypeFindData * sw_data)\n+{\n+  if (G_LIKELY (sw_data->caps != NULL))\n+    gst_caps_unref (sw_data->caps);\n+  g_slice_free (GstTypeFindData, sw_data);\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsdata.c","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"},{"patch":"@@ -0,0 +1,44 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2009 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctionsdata.h: collection of various typefind functions\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_TYPE_FIND_FUNCTIONS_DATA_H__\n+#define __GST_TYPE_FIND_FUNCTIONS_DATA_H__\n+\n+#include <gst\/gst.h>\n+\n+\n+\/*** generic typefind for streams that have some data at a specific position***\/\n+typedef struct\n+{\n+  const guint8 *data;\n+  guint size;\n+  guint probability;\n+  GstCaps *caps;\n+}\n+GstTypeFindData;\n+\n+void sw_data_destroy (GstTypeFindData * sw_data);\n+\n+#endif \/\/__GST_TYPE_FIND_FUNCTIONS_DATA_H__\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsdata.h","additions":44,"deletions":0,"binary":false,"changes":44,"status":"added"},{"patch":"@@ -0,0 +1,223 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctions.c: collection of various typefind functions\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include \"gsttypefindfunctionsplugin.h\"\n+\n+#include <gst\/gst.h>\n+\n+GST_DEBUG_CATEGORY (type_find_functions_debug);\n+\n+#ifdef GSTREAMER_LITE\n+gboolean\n+plugin_init_typefind (GstPlugin * plugin)\n+#else \/\/ GSTREAMER_LITE\n+static gboolean\n+plugin_init (GstPlugin * plugin)\n+#endif \/\/ GSTREAMER_LITE\n+{\n+  \/* can't initialize this via a struct as caps can't be statically initialized *\/\n+  GST_DEBUG_CATEGORY_INIT (type_find_functions_debug, \"typefindfunctions\",\n+      GST_DEBUG_FG_GREEN | GST_DEBUG_BG_RED, \"generic type find functions\");\n+  \/* note: asx\/wax\/wmx are XML files, asf doesn't handle them *\/\n+  \/* must use strings, macros don't accept initializers *\/\n+\n+#ifndef GSTREAMER_LITE\n+  \/*Riff Type find register *\/\n+  GST_TYPE_FIND_REGISTER (avi, plugin);\n+  GST_TYPE_FIND_REGISTER (qcp, plugin);\n+  GST_TYPE_FIND_REGISTER (cdxa, plugin);\n+  GST_TYPE_FIND_REGISTER (riff_mid, plugin);\n+  GST_TYPE_FIND_REGISTER (wav, plugin);\n+  GST_TYPE_FIND_REGISTER (webp, plugin);\n+\n+  \/*'Start with' Type find register *\/\n+  GST_TYPE_FIND_REGISTER (asf, plugin);\n+  GST_TYPE_FIND_REGISTER (vcd, plugin);\n+  GST_TYPE_FIND_REGISTER (imelody, plugin);\n+  GST_TYPE_FIND_REGISTER (scc, plugin);\n+#if 0\n+  GST_TYPE_FIND_REGISTER (smoke, plugin);\n+#endif\n+  GST_TYPE_FIND_REGISTER (rmf, plugin);\n+  GST_TYPE_FIND_REGISTER (ram, plugin);\n+  GST_TYPE_FIND_REGISTER (flv, plugin);\n+  GST_TYPE_FIND_REGISTER (nist, plugin);\n+  GST_TYPE_FIND_REGISTER (voc, plugin);\n+  GST_TYPE_FIND_REGISTER (w64, plugin);\n+  GST_TYPE_FIND_REGISTER (rf64, plugin);\n+  GST_TYPE_FIND_REGISTER (gif, plugin);\n+  GST_TYPE_FIND_REGISTER (png, plugin);\n+  GST_TYPE_FIND_REGISTER (mve, plugin);\n+  GST_TYPE_FIND_REGISTER (amr, plugin);\n+  GST_TYPE_FIND_REGISTER (amr_wb, plugin);\n+  GST_TYPE_FIND_REGISTER (sid, plugin);\n+  GST_TYPE_FIND_REGISTER (xcf, plugin);\n+  GST_TYPE_FIND_REGISTER (mng, plugin);\n+  GST_TYPE_FIND_REGISTER (jng, plugin);\n+  GST_TYPE_FIND_REGISTER (xpm, plugin);\n+  GST_TYPE_FIND_REGISTER (ras, plugin);\n+  GST_TYPE_FIND_REGISTER (bz2, plugin);\n+  GST_TYPE_FIND_REGISTER (gz, plugin);\n+  GST_TYPE_FIND_REGISTER (zip, plugin);\n+  GST_TYPE_FIND_REGISTER (z, plugin);\n+  GST_TYPE_FIND_REGISTER (elf, plugin);\n+  GST_TYPE_FIND_REGISTER (spc, plugin);\n+  GST_TYPE_FIND_REGISTER (caf, plugin);\n+  GST_TYPE_FIND_REGISTER (rar, plugin);\n+  GST_TYPE_FIND_REGISTER (nsf, plugin);\n+  GST_TYPE_FIND_REGISTER (gym, plugin);\n+  GST_TYPE_FIND_REGISTER (ay, plugin);\n+  GST_TYPE_FIND_REGISTER (gbs, plugin);\n+  GST_TYPE_FIND_REGISTER (vgm, plugin);\n+  GST_TYPE_FIND_REGISTER (sap, plugin);\n+  GST_TYPE_FIND_REGISTER (ivf, plugin);\n+  GST_TYPE_FIND_REGISTER (kss, plugin);\n+  GST_TYPE_FIND_REGISTER (pdf, plugin);\n+  GST_TYPE_FIND_REGISTER (doc, plugin);\n+  \/* Mac OS X .DS_Store files tend to be taken for video\/mpeg *\/\n+  GST_TYPE_FIND_REGISTER (ds_store, plugin);\n+  GST_TYPE_FIND_REGISTER (psd, plugin);\n+  GST_TYPE_FIND_REGISTER (xi, plugin);\n+  GST_TYPE_FIND_REGISTER (dmp, plugin);\n+\n+  \/* functions Type find register *\/\n+  GST_TYPE_FIND_REGISTER (musepack, plugin);\n+  GST_TYPE_FIND_REGISTER (au, plugin);\n+  GST_TYPE_FIND_REGISTER (mcc, plugin);\n+  GST_TYPE_FIND_REGISTER (mid, plugin);\n+  GST_TYPE_FIND_REGISTER (mxmf, plugin);\n+  GST_TYPE_FIND_REGISTER (flx, plugin);\n+  GST_TYPE_FIND_REGISTER (id3v2, plugin);\n+  GST_TYPE_FIND_REGISTER (id3v1, plugin);\n+  GST_TYPE_FIND_REGISTER (apetag, plugin);\n+  GST_TYPE_FIND_REGISTER (tta, plugin);\n+  GST_TYPE_FIND_REGISTER (mod, plugin);\n+  GST_TYPE_FIND_REGISTER (mp3, plugin);\n+  GST_TYPE_FIND_REGISTER (ac3, plugin);\n+  GST_TYPE_FIND_REGISTER (dts, plugin);\n+  GST_TYPE_FIND_REGISTER (gsm, plugin);\n+  GST_TYPE_FIND_REGISTER (mpeg_sys, plugin);\n+  GST_TYPE_FIND_REGISTER (mpeg_ts, plugin);\n+  GST_TYPE_FIND_REGISTER (ogganx, plugin);\n+  GST_TYPE_FIND_REGISTER (mpeg_video_stream, plugin);\n+  GST_TYPE_FIND_REGISTER (mpeg4_video, plugin);\n+  GST_TYPE_FIND_REGISTER (h263_video, plugin);\n+  GST_TYPE_FIND_REGISTER (h264_video, plugin);\n+  GST_TYPE_FIND_REGISTER (h265_video, plugin);\n+  GST_TYPE_FIND_REGISTER (nuv, plugin);\n+  \/* ISO formats *\/\n+  GST_TYPE_FIND_REGISTER (m4a, plugin);\n+  GST_TYPE_FIND_REGISTER (q3gp, plugin);\n+  GST_TYPE_FIND_REGISTER (qt, plugin);\n+  GST_TYPE_FIND_REGISTER (qtif, plugin);\n+  GST_TYPE_FIND_REGISTER (jp2, plugin);\n+  GST_TYPE_FIND_REGISTER (jpc, plugin);\n+  GST_TYPE_FIND_REGISTER (mj2, plugin);\n+  GST_TYPE_FIND_REGISTER (html, plugin);\n+  GST_TYPE_FIND_REGISTER (swf, plugin);\n+  GST_TYPE_FIND_REGISTER (xges, plugin);\n+  GST_TYPE_FIND_REGISTER (xmeml, plugin);\n+  GST_TYPE_FIND_REGISTER (fcpxml, plugin);\n+  GST_TYPE_FIND_REGISTER (otio, plugin);\n+  GST_TYPE_FIND_REGISTER (dash_mpd, plugin);\n+  GST_TYPE_FIND_REGISTER (mss_manifest, plugin);\n+  GST_TYPE_FIND_REGISTER (utf8, plugin);\n+  GST_TYPE_FIND_REGISTER (utf16, plugin);\n+  GST_TYPE_FIND_REGISTER (utf32, plugin);\n+  GST_TYPE_FIND_REGISTER (uri, plugin);\n+  GST_TYPE_FIND_REGISTER (itc, plugin);\n+  GST_TYPE_FIND_REGISTER (hls, plugin);\n+  GST_TYPE_FIND_REGISTER (sdp, plugin);\n+  GST_TYPE_FIND_REGISTER (smil, plugin);\n+  GST_TYPE_FIND_REGISTER (ttml_xml, plugin);\n+  GST_TYPE_FIND_REGISTER (xml, plugin);\n+  GST_TYPE_FIND_REGISTER (aiff, plugin);\n+  GST_TYPE_FIND_REGISTER (svx, plugin);\n+  GST_TYPE_FIND_REGISTER (paris, plugin);\n+  GST_TYPE_FIND_REGISTER (sds, plugin);\n+  GST_TYPE_FIND_REGISTER (ircam, plugin);\n+  GST_TYPE_FIND_REGISTER (shn, plugin);\n+  GST_TYPE_FIND_REGISTER (ape, plugin);\n+  GST_TYPE_FIND_REGISTER (jpeg, plugin);\n+  GST_TYPE_FIND_REGISTER (bmp, plugin);\n+  GST_TYPE_FIND_REGISTER (tiff, plugin);\n+  GST_TYPE_FIND_REGISTER (exr, plugin);\n+  GST_TYPE_FIND_REGISTER (pnm, plugin);\n+  GST_TYPE_FIND_REGISTER (matroska, plugin);\n+  GST_TYPE_FIND_REGISTER (mxf, plugin);\n+  GST_TYPE_FIND_REGISTER (dv, plugin);\n+  GST_TYPE_FIND_REGISTER (ilbc, plugin);\n+  GST_TYPE_FIND_REGISTER (sbc, plugin);\n+  GST_TYPE_FIND_REGISTER (kate, plugin);\n+  GST_TYPE_FIND_REGISTER (webvtt, plugin);\n+  GST_TYPE_FIND_REGISTER (flac, plugin);\n+  GST_TYPE_FIND_REGISTER (vorbis, plugin);\n+  GST_TYPE_FIND_REGISTER (theora, plugin);\n+  GST_TYPE_FIND_REGISTER (ogmvideo, plugin);\n+  GST_TYPE_FIND_REGISTER (ogmaudio, plugin);\n+  GST_TYPE_FIND_REGISTER (ogmtext, plugin);\n+  GST_TYPE_FIND_REGISTER (speex, plugin);\n+  GST_TYPE_FIND_REGISTER (celt, plugin);\n+  GST_TYPE_FIND_REGISTER (oggskel, plugin);\n+  GST_TYPE_FIND_REGISTER (cmml, plugin);\n+  GST_TYPE_FIND_REGISTER (aac, plugin);\n+  GST_TYPE_FIND_REGISTER (wavpack_wvp, plugin);\n+  GST_TYPE_FIND_REGISTER (wavpack_wvc, plugin);\n+  GST_TYPE_FIND_REGISTER (postscript, plugin);\n+  GST_TYPE_FIND_REGISTER (svg, plugin);\n+  GST_TYPE_FIND_REGISTER (tar, plugin);\n+  GST_TYPE_FIND_REGISTER (ar, plugin);\n+  GST_TYPE_FIND_REGISTER (msdos, plugin);\n+  GST_TYPE_FIND_REGISTER (dirac, plugin);\n+  GST_TYPE_FIND_REGISTER (multipart, plugin);\n+  GST_TYPE_FIND_REGISTER (mmsh, plugin);\n+  GST_TYPE_FIND_REGISTER (vivo, plugin);\n+  GST_TYPE_FIND_REGISTER (wbmp, plugin);\n+  GST_TYPE_FIND_REGISTER (y4m, plugin);\n+  GST_TYPE_FIND_REGISTER (windows_icon, plugin);\n+#ifdef USE_GIO\n+  GST_TYPE_FIND_REGISTER (xdgmime, plugin);\n+#endif\n+  GST_TYPE_FIND_REGISTER (degas, plugin);\n+  GST_TYPE_FIND_REGISTER (dvdiso, plugin);\n+  GST_TYPE_FIND_REGISTER (ssa, plugin);\n+  GST_TYPE_FIND_REGISTER (pva, plugin);\n+  GST_TYPE_FIND_REGISTER (aa, plugin);\n+  GST_TYPE_FIND_REGISTER (tap, plugin);\n+#endif \/\/ GSTREAMER_LITE\n+\n+  return TRUE;\n+}\n+\n+#ifndef GSTREAMER_LITE\n+GST_PLUGIN_DEFINE (GST_VERSION_MAJOR,\n+    GST_VERSION_MINOR,\n+    typefindfunctions,\n+    \"default typefind functions\",\n+    plugin_init, VERSION, GST_LICENSE, GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN)\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsplugin.c","additions":223,"deletions":0,"binary":false,"changes":223,"status":"added"},{"patch":"@@ -0,0 +1,199 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2009 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctionsplugin.h: collection of various typefind functions\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+\n+#ifndef __GST_TYPE_FIND_FUNCTIONS_PLUGIN_H__\n+#define __GST_TYPE_FIND_FUNCTIONS_PLUGIN_H__\n+\n+#include <gst\/gst.h>\n+\n+GST_DEBUG_CATEGORY_EXTERN (type_find_functions_debug);\n+#define GST_CAT_DEFAULT type_find_functions_debug\n+\n+\/*** plugin initialization ***\/\n+\n+\/*RIFF type find declaration *\/\n+GST_TYPE_FIND_REGISTER_DECLARE (avi);\n+GST_TYPE_FIND_REGISTER_DECLARE (qcp);\n+GST_TYPE_FIND_REGISTER_DECLARE (cdxa);\n+GST_TYPE_FIND_REGISTER_DECLARE (riff_mid);\n+GST_TYPE_FIND_REGISTER_DECLARE (wav);\n+GST_TYPE_FIND_REGISTER_DECLARE (webp);\n+\n+\/*'Start with' type find declaration *\/\n+GST_TYPE_FIND_REGISTER_DECLARE (asf);\n+GST_TYPE_FIND_REGISTER_DECLARE (vcd);\n+GST_TYPE_FIND_REGISTER_DECLARE (imelody);\n+GST_TYPE_FIND_REGISTER_DECLARE (scc);\n+#if 0\n+GST_TYPE_FIND_REGISTER_DECLARE (smoke);\n+#endif\n+GST_TYPE_FIND_REGISTER_DECLARE (rmf);\n+GST_TYPE_FIND_REGISTER_DECLARE (ram);\n+GST_TYPE_FIND_REGISTER_DECLARE (flv);\n+GST_TYPE_FIND_REGISTER_DECLARE (nist);\n+GST_TYPE_FIND_REGISTER_DECLARE (voc);\n+GST_TYPE_FIND_REGISTER_DECLARE (w64);\n+GST_TYPE_FIND_REGISTER_DECLARE (rf64);\n+GST_TYPE_FIND_REGISTER_DECLARE (gif);\n+GST_TYPE_FIND_REGISTER_DECLARE (png);\n+GST_TYPE_FIND_REGISTER_DECLARE (mve);\n+GST_TYPE_FIND_REGISTER_DECLARE (amr);\n+GST_TYPE_FIND_REGISTER_DECLARE (amr_wb);\n+GST_TYPE_FIND_REGISTER_DECLARE (sid);\n+GST_TYPE_FIND_REGISTER_DECLARE (xcf);\n+GST_TYPE_FIND_REGISTER_DECLARE (mng);\n+GST_TYPE_FIND_REGISTER_DECLARE (jng);\n+GST_TYPE_FIND_REGISTER_DECLARE (xpm);\n+GST_TYPE_FIND_REGISTER_DECLARE (ras);\n+GST_TYPE_FIND_REGISTER_DECLARE (bz2);\n+GST_TYPE_FIND_REGISTER_DECLARE (gz);\n+GST_TYPE_FIND_REGISTER_DECLARE (zip);\n+GST_TYPE_FIND_REGISTER_DECLARE (z);\n+GST_TYPE_FIND_REGISTER_DECLARE (elf);\n+GST_TYPE_FIND_REGISTER_DECLARE (spc);\n+GST_TYPE_FIND_REGISTER_DECLARE (caf);\n+GST_TYPE_FIND_REGISTER_DECLARE (rar);\n+GST_TYPE_FIND_REGISTER_DECLARE (nsf);\n+GST_TYPE_FIND_REGISTER_DECLARE (gym);\n+GST_TYPE_FIND_REGISTER_DECLARE (ay);\n+GST_TYPE_FIND_REGISTER_DECLARE (gbs);\n+GST_TYPE_FIND_REGISTER_DECLARE (vgm);\n+GST_TYPE_FIND_REGISTER_DECLARE (sap);\n+GST_TYPE_FIND_REGISTER_DECLARE (ivf);\n+GST_TYPE_FIND_REGISTER_DECLARE (kss);\n+GST_TYPE_FIND_REGISTER_DECLARE (pdf);\n+GST_TYPE_FIND_REGISTER_DECLARE (doc);\n+\/* Mac OS X .DS_Store files tend to be taken for video\/mpeg *\/\n+GST_TYPE_FIND_REGISTER_DECLARE (ds_store);\n+GST_TYPE_FIND_REGISTER_DECLARE (psd);\n+GST_TYPE_FIND_REGISTER_DECLARE (xi);\n+GST_TYPE_FIND_REGISTER_DECLARE (dmp);\n+\n+\/*Type find declaration by functions *\/\n+GST_TYPE_FIND_REGISTER_DECLARE (musepack);\n+GST_TYPE_FIND_REGISTER_DECLARE (au);\n+GST_TYPE_FIND_REGISTER_DECLARE (mcc);\n+GST_TYPE_FIND_REGISTER_DECLARE (mid);\n+GST_TYPE_FIND_REGISTER_DECLARE (mxmf);\n+GST_TYPE_FIND_REGISTER_DECLARE (flx);\n+GST_TYPE_FIND_REGISTER_DECLARE (id3v2);\n+GST_TYPE_FIND_REGISTER_DECLARE (id3v1);\n+GST_TYPE_FIND_REGISTER_DECLARE (apetag);\n+GST_TYPE_FIND_REGISTER_DECLARE (tta);\n+GST_TYPE_FIND_REGISTER_DECLARE (mod);\n+GST_TYPE_FIND_REGISTER_DECLARE (mp3);\n+GST_TYPE_FIND_REGISTER_DECLARE (ac3);\n+GST_TYPE_FIND_REGISTER_DECLARE (dts);\n+GST_TYPE_FIND_REGISTER_DECLARE (gsm);\n+GST_TYPE_FIND_REGISTER_DECLARE (mpeg_sys);\n+GST_TYPE_FIND_REGISTER_DECLARE (mpeg_ts);\n+GST_TYPE_FIND_REGISTER_DECLARE (ogganx);\n+GST_TYPE_FIND_REGISTER_DECLARE (mpeg_video_stream);\n+GST_TYPE_FIND_REGISTER_DECLARE (mpeg4_video);\n+GST_TYPE_FIND_REGISTER_DECLARE (h263_video);\n+GST_TYPE_FIND_REGISTER_DECLARE (h264_video);\n+GST_TYPE_FIND_REGISTER_DECLARE (h265_video);\n+GST_TYPE_FIND_REGISTER_DECLARE (nuv);\n+GST_TYPE_FIND_REGISTER_DECLARE (m4a);\n+GST_TYPE_FIND_REGISTER_DECLARE (q3gp);\n+GST_TYPE_FIND_REGISTER_DECLARE (qt);\n+GST_TYPE_FIND_REGISTER_DECLARE (qtif);\n+GST_TYPE_FIND_REGISTER_DECLARE (jp2);\n+GST_TYPE_FIND_REGISTER_DECLARE (jpc);\n+GST_TYPE_FIND_REGISTER_DECLARE (mj2);\n+GST_TYPE_FIND_REGISTER_DECLARE (html);\n+GST_TYPE_FIND_REGISTER_DECLARE (swf);\n+GST_TYPE_FIND_REGISTER_DECLARE (xges);\n+GST_TYPE_FIND_REGISTER_DECLARE (xmeml);\n+GST_TYPE_FIND_REGISTER_DECLARE (fcpxml);\n+GST_TYPE_FIND_REGISTER_DECLARE (otio);\n+GST_TYPE_FIND_REGISTER_DECLARE (dash_mpd);\n+GST_TYPE_FIND_REGISTER_DECLARE (mss_manifest);\n+GST_TYPE_FIND_REGISTER_DECLARE (utf8);\n+GST_TYPE_FIND_REGISTER_DECLARE (utf16);\n+GST_TYPE_FIND_REGISTER_DECLARE (utf32);\n+GST_TYPE_FIND_REGISTER_DECLARE (uri);\n+GST_TYPE_FIND_REGISTER_DECLARE (itc);\n+GST_TYPE_FIND_REGISTER_DECLARE (hls);\n+GST_TYPE_FIND_REGISTER_DECLARE (sdp);\n+GST_TYPE_FIND_REGISTER_DECLARE (smil);\n+GST_TYPE_FIND_REGISTER_DECLARE (ttml_xml);\n+GST_TYPE_FIND_REGISTER_DECLARE (xml);\n+GST_TYPE_FIND_REGISTER_DECLARE (aiff);\n+GST_TYPE_FIND_REGISTER_DECLARE (svx);\n+GST_TYPE_FIND_REGISTER_DECLARE (paris);\n+GST_TYPE_FIND_REGISTER_DECLARE (sds);\n+GST_TYPE_FIND_REGISTER_DECLARE (ircam);\n+GST_TYPE_FIND_REGISTER_DECLARE (shn);\n+GST_TYPE_FIND_REGISTER_DECLARE (ape);\n+GST_TYPE_FIND_REGISTER_DECLARE (jpeg);\n+GST_TYPE_FIND_REGISTER_DECLARE (bmp);\n+GST_TYPE_FIND_REGISTER_DECLARE (tiff);\n+GST_TYPE_FIND_REGISTER_DECLARE (exr);\n+GST_TYPE_FIND_REGISTER_DECLARE (pnm);\n+GST_TYPE_FIND_REGISTER_DECLARE (matroska);\n+GST_TYPE_FIND_REGISTER_DECLARE (mxf);\n+GST_TYPE_FIND_REGISTER_DECLARE (dv);\n+GST_TYPE_FIND_REGISTER_DECLARE (ilbc);\n+GST_TYPE_FIND_REGISTER_DECLARE (sbc);\n+GST_TYPE_FIND_REGISTER_DECLARE (kate);\n+GST_TYPE_FIND_REGISTER_DECLARE (webvtt);\n+GST_TYPE_FIND_REGISTER_DECLARE (flac);\n+GST_TYPE_FIND_REGISTER_DECLARE (vorbis);\n+GST_TYPE_FIND_REGISTER_DECLARE (theora);\n+GST_TYPE_FIND_REGISTER_DECLARE (ogmvideo);\n+GST_TYPE_FIND_REGISTER_DECLARE (ogmaudio);\n+GST_TYPE_FIND_REGISTER_DECLARE (ogmtext);\n+GST_TYPE_FIND_REGISTER_DECLARE (speex);\n+GST_TYPE_FIND_REGISTER_DECLARE (celt);\n+GST_TYPE_FIND_REGISTER_DECLARE (oggskel);\n+GST_TYPE_FIND_REGISTER_DECLARE (cmml);\n+GST_TYPE_FIND_REGISTER_DECLARE (aac);\n+GST_TYPE_FIND_REGISTER_DECLARE (wavpack_wvp);\n+GST_TYPE_FIND_REGISTER_DECLARE (wavpack_wvc);\n+GST_TYPE_FIND_REGISTER_DECLARE (postscript);\n+GST_TYPE_FIND_REGISTER_DECLARE (svg);\n+GST_TYPE_FIND_REGISTER_DECLARE (tar);\n+GST_TYPE_FIND_REGISTER_DECLARE (ar);\n+GST_TYPE_FIND_REGISTER_DECLARE (msdos);\n+GST_TYPE_FIND_REGISTER_DECLARE (dirac);\n+GST_TYPE_FIND_REGISTER_DECLARE (multipart);\n+GST_TYPE_FIND_REGISTER_DECLARE (mmsh);\n+GST_TYPE_FIND_REGISTER_DECLARE (vivo);\n+GST_TYPE_FIND_REGISTER_DECLARE (wbmp);\n+GST_TYPE_FIND_REGISTER_DECLARE (y4m);\n+GST_TYPE_FIND_REGISTER_DECLARE (windows_icon);\n+#ifdef USE_GIO\n+GST_TYPE_FIND_REGISTER_DECLARE (xdgmime);\n+#endif\n+GST_TYPE_FIND_REGISTER_DECLARE (degas);\n+GST_TYPE_FIND_REGISTER_DECLARE (dvdiso);\n+GST_TYPE_FIND_REGISTER_DECLARE (ssa);\n+GST_TYPE_FIND_REGISTER_DECLARE (pva);\n+GST_TYPE_FIND_REGISTER_DECLARE (aa);\n+GST_TYPE_FIND_REGISTER_DECLARE (tap);\n+\n+#endif \/\/__GST_TYPE_FIND_FUNCTIONS_PLUGIN_H__\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsplugin.h","additions":199,"deletions":0,"binary":false,"changes":199,"status":"added"},{"patch":"@@ -0,0 +1,83 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2009 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctionsriff.c: collection of various typefind functions\n+ * based on riff format.\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+#include \"gsttypefindfunctionsplugin.h\"\n+#include \"gsttypefindfunctionsdata.h\"\n+\n+\/*** same for riff types ***\/\n+static void\n+riff_type_find (GstTypeFind * tf, gpointer private)\n+{\n+  GstTypeFindData *riff_data = (GstTypeFindData *) private;\n+  const guint8 *data = gst_type_find_peek (tf, 0, 12);\n+\n+  if (data && (memcmp (data, \"RIFF\", 4) == 0 || memcmp (data, \"AVF0\", 4) == 0)) {\n+    data += 8;\n+    if (memcmp (data, riff_data->data, 4) == 0)\n+      gst_type_find_suggest (tf, riff_data->probability, riff_data->caps);\n+  }\n+}\n+\n+#define TYPE_FIND_REGISTER_RIFF_DEFINE(typefind_name, name, rank, ext, _data) \\\n+G_BEGIN_DECLS \\\n+static gboolean \\\n+G_PASTE(_private_type_find_riff_, typefind_name) (GstPlugin * plugin) \\\n+{ \\\n+  GstTypeFindData *sw_data = g_slice_new (GstTypeFindData);             \\\n+  sw_data->data = (gpointer)_data;                                      \\\n+  sw_data->size = 4;                                                    \\\n+  sw_data->probability = GST_TYPE_FIND_MAXIMUM;                         \\\n+  sw_data->caps = gst_caps_new_empty_simple (name);                     \\\n+  if (!gst_type_find_register (plugin, name, rank, riff_type_find,      \\\n+                      ext, sw_data->caps, sw_data,                      \\\n+                      (GDestroyNotify) (sw_data_destroy))) {            \\\n+    sw_data_destroy (sw_data);                                          \\\n+    return FALSE;                                                       \\\n+  }                                                                     \\\n+  return TRUE;                                                          \\\n+} \\\n+GST_TYPE_FIND_REGISTER_DEFINE_CUSTOM (typefind_name, G_PASTE(_private_type_find_riff_, typefind_name)); \\\n+G_END_DECLS\n+\n+\/*RIFF type find definition *\/\n+TYPE_FIND_REGISTER_RIFF_DEFINE (avi, \"video\/x-msvideo\", GST_RANK_PRIMARY,\n+    \"avi\", \"AVI \");\n+TYPE_FIND_REGISTER_RIFF_DEFINE (qcp, \"audio\/qcelp\", GST_RANK_PRIMARY,\n+    \"qcp\", \"QLCM\");\n+TYPE_FIND_REGISTER_RIFF_DEFINE (cdxa, \"video\/x-cdxa\", GST_RANK_PRIMARY,\n+    \"dat\", \"CDXA\");\n+TYPE_FIND_REGISTER_RIFF_DEFINE (riff_mid, \"audio\/riff-midi\",\n+    GST_RANK_PRIMARY, \"mid,midi\", \"RMID\");\n+TYPE_FIND_REGISTER_RIFF_DEFINE (wav, \"audio\/x-wav\", GST_RANK_PRIMARY, \"wav\",\n+    \"WAVE\");\n+TYPE_FIND_REGISTER_RIFF_DEFINE (webp, \"image\/webp\", GST_RANK_PRIMARY,\n+    \"webp\", \"WEBP\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsriff.c","additions":83,"deletions":0,"binary":false,"changes":83,"status":"added"},{"patch":"@@ -0,0 +1,179 @@\n+\/* GStreamer\n+ * Copyright (C) 2003 Benjamin Otte <in7y118@public.uni-hamburg.de>\n+ * Copyright (C) 2005-2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2009 Sebastian Dröge <sebastian.droege@collabora.co.uk>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * gsttypefindfunctionsstartwith.c: collection of various typefind functions\n+ * using the start with pattern\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+#include \"gsttypefindfunctionsplugin.h\"\n+#include \"gsttypefindfunctionsdata.h\"\n+\n+static void\n+start_with_type_find (GstTypeFind * tf, gpointer private)\n+{\n+  GstTypeFindData *start_with = (GstTypeFindData *) private;\n+  const guint8 *data;\n+\n+  GST_LOG (\"trying to find mime type %s with the first %u bytes of data\",\n+      gst_structure_get_name (gst_caps_get_structure (start_with->caps, 0)),\n+      start_with->size);\n+  data = gst_type_find_peek (tf, 0, start_with->size);\n+  if (data && memcmp (data, start_with->data, start_with->size) == 0) {\n+    gst_type_find_suggest (tf, start_with->probability, start_with->caps);\n+  }\n+}\n+\n+#define TYPE_FIND_REGISTER_START_WITH_DEFINE(typefind_name, name, rank, ext, _data, _size, _probability)\\\n+G_BEGIN_DECLS \\\n+static gboolean \\\n+G_PASTE(_private_type_find_start_with_, typefind_name) (GstPlugin * plugin) \\\n+{ \\\n+  GstTypeFindData *sw_data = g_slice_new (GstTypeFindData);             \\\n+  sw_data->data = (const guint8 *)_data;                                \\\n+  sw_data->size = _size;                                                \\\n+  sw_data->probability = _probability;                                  \\\n+  sw_data->caps = gst_caps_new_empty_simple (name);                     \\\n+  if (!gst_type_find_register (plugin, name, rank, start_with_type_find,\\\n+                     ext, sw_data->caps, sw_data,                       \\\n+                     (GDestroyNotify) (sw_data_destroy))) {             \\\n+    sw_data_destroy (sw_data);                                          \\\n+    return FALSE; \\\n+  } \\\n+  return TRUE; \\\n+}\\\n+GST_TYPE_FIND_REGISTER_DEFINE_CUSTOM (typefind_name, G_PASTE(_private_type_find_start_with_, typefind_name)); \\\n+G_END_DECLS\n+\n+\/*'Start with' type find definition *\/\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (asf, \"video\/x-ms-asf\",\n+    GST_RANK_SECONDARY, \"asf,wm,wma,wmv\",\n+    \"\\060\\046\\262\\165\\216\\146\\317\\021\\246\\331\\000\\252\\000\\142\\316\\154\", 16,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (vcd, \"video\/x-vcd\", GST_RANK_PRIMARY,\n+    \"dat\", \"\\000\\377\\377\\377\\377\\377\\377\\377\\377\\377\\377\\000\", 12,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (imelody, \"audio\/x-imelody\",\n+    GST_RANK_PRIMARY, \"imy,ime,imelody\", \"BEGIN:IMELODY\", 13,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (scc, \"application\/x-scc\",\n+    GST_RANK_PRIMARY, \"scc\", \"Scenarist_SCC V1.0\", 18, GST_TYPE_FIND_MAXIMUM);\n+#if 0\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (smoke, \"video\/x-smoke\",\n+    GST_RANK_PRIMARY, NULL, \"\\x80smoke\\x00\\x01\\x00\", 6, GST_TYPE_FIND_MAXIMUM);\n+#endif\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (rmf, \"application\/vnd.rn-realmedia\",\n+    GST_RANK_SECONDARY, \"ra,ram,rm,rmvb\", \".RMF\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (ram, \"application\/x-pn-realaudio\",\n+    GST_RANK_SECONDARY, \"ra,ram,rm,rmvb\", \".ra\\375\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (flv, \"video\/x-flv\",\n+    GST_RANK_SECONDARY, \"flv\", \"FLV\", 3, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (nist, \"audio\/x-nist\",\n+    GST_RANK_SECONDARY, \"nist\", \"NIST\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (voc, \"audio\/x-voc\",\n+    GST_RANK_SECONDARY, \"voc\", \"Creative\", 8, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (w64, \"audio\/x-w64\",\n+    GST_RANK_SECONDARY, \"w64\", \"riff\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (rf64, \"audio\/x-rf64\",\n+    GST_RANK_PRIMARY, \"rf64\", \"RF64\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (gif, \"image\/gif\", GST_RANK_PRIMARY,\n+    \"gif\", \"GIF8\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (png, \"image\/png\",\n+    GST_RANK_PRIMARY + 14, \"png\", \"\\211PNG\\015\\012\\032\\012\", 8,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (mve, \"video\/x-mve\",\n+    GST_RANK_SECONDARY, \"mve\",\n+    \"Interplay MVE File\\032\\000\\032\\000\\000\\001\\063\\021\", 26,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (amr, \"audio\/x-amr-nb-sh\",\n+    GST_RANK_PRIMARY, \"amr\", \"#!AMR\", 5, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (amr_wb, \"audio\/x-amr-wb-sh\",\n+    GST_RANK_PRIMARY, \"amr\", \"#!AMR-WB\", 7, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (sid, \"audio\/x-sid\", GST_RANK_MARGINAL,\n+    \"sid\", \"PSID\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (xcf, \"image\/x-xcf\",\n+    GST_RANK_SECONDARY, \"xcf\", \"gimp xcf\", 8, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (mng, \"video\/x-mng\",\n+    GST_RANK_SECONDARY, \"mng\", \"\\212MNG\\015\\012\\032\\012\", 8,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (jng, \"image\/x-jng\",\n+    GST_RANK_SECONDARY, \"jng\", \"\\213JNG\\015\\012\\032\\012\", 8,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (xpm, \"image\/x-xpixmap\",\n+    GST_RANK_SECONDARY, \"xpm\", \"\/* XPM *\/\", 9, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (ras, \"image\/x-sun-raster\",\n+    GST_RANK_SECONDARY, \"ras\", \"\\131\\246\\152\\225\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (bz2, \"application\/x-bzip\",\n+    GST_RANK_SECONDARY, \"bz2\", \"BZh\", 3, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (gz, \"application\/x-gzip\",\n+    GST_RANK_SECONDARY, \"gz\", \"\\037\\213\", 2, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (zip, \"application\/zip\",\n+    GST_RANK_SECONDARY, \"zip\", \"PK\\003\\004\", 4, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (z, \"application\/x-compress\",\n+    GST_RANK_SECONDARY, \"Z\", \"\\037\\235\", 2, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (elf, \"application\/x-executable\",\n+    GST_RANK_MARGINAL, NULL, \"\\177ELF\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (spc, \"audio\/x-spc\",\n+    GST_RANK_SECONDARY, \"spc\", \"SNES-SPC700 Sound File Data\", 27,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (caf, \"audio\/x-caf\",\n+    GST_RANK_SECONDARY, \"caf\", \"caff\\000\\001\", 6, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (rar, \"application\/x-rar\",\n+    GST_RANK_SECONDARY, \"rar\", \"Rar!\", 4, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (nsf, \"audio\/x-nsf\",\n+    GST_RANK_SECONDARY, \"nsf\", \"NESM\\x1a\", 5, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (gym, \"audio\/x-gym\",\n+    GST_RANK_SECONDARY, \"gym\", \"GYMX\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (ay, \"audio\/x-ay\", GST_RANK_SECONDARY,\n+    \"ay\", \"ZXAYEMUL\", 8, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (gbs, \"audio\/x-gbs\",\n+    GST_RANK_SECONDARY, \"gbs\", \"GBS\\x01\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (vgm, \"audio\/x-vgm\",\n+    GST_RANK_SECONDARY, \"vgm\", \"Vgm\\x20\", 4, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (sap, \"audio\/x-sap\",\n+    GST_RANK_SECONDARY, \"sap\", \"SAP\\x0d\\x0a\" \"AUTHOR\\x20\", 12,\n+    GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (ivf, \"video\/x-ivf\",\n+    GST_RANK_SECONDARY, \"ivf\", \"DKIF\", 4, GST_TYPE_FIND_NEARLY_CERTAIN);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (kss, \"audio\/x-kss\",\n+    GST_RANK_SECONDARY, \"kss\", \"KSSX\\0\", 5, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (pdf, \"application\/pdf\",\n+    GST_RANK_SECONDARY, \"pdf\", \"%PDF-\", 5, GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (doc, \"application\/msword\",\n+    GST_RANK_SECONDARY, \"doc\", \"\\320\\317\\021\\340\\241\\261\\032\\341\", 8,\n+    GST_TYPE_FIND_LIKELY);\n+\/* Mac OS X .DS_Store files tend to be taken for video\/mpeg *\/\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (ds_store, \"application\/octet-stream\",\n+    GST_RANK_SECONDARY, \"DS_Store\", \"\\000\\000\\000\\001Bud1\", 8,\n+    GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (psd, \"image\/vnd.adobe.photoshop\",\n+    GST_RANK_SECONDARY, \"psd\", \"8BPS\\000\\001\\000\\000\\000\\000\", 10,\n+    GST_TYPE_FIND_LIKELY);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (xi, \"audio\/x-xi\", GST_RANK_SECONDARY,\n+    \"xi\", \"Extended Instrument: \", 21, GST_TYPE_FIND_MAXIMUM);\n+TYPE_FIND_REGISTER_START_WITH_DEFINE (dmp, \"audio\/x-tap-dmp\",\n+    GST_RANK_SECONDARY, \"dmp\", \"DC2N-TAP-RAW\", 12, GST_TYPE_FIND_LIKELY);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsstartwith.c","additions":179,"deletions":0,"binary":false,"changes":179,"status":"added"},{"patch":"@@ -120,0 +120,1 @@\n+GST_ELEMENT_REGISTER_DEFINE (volume, \"volume\", GST_RANK_NONE, GST_TYPE_VOLUME);\n@@ -877,2 +878,1 @@\n-  return gst_element_register (plugin, \"volume\", GST_RANK_NONE,\n-      GST_TYPE_VOLUME);\n+  return GST_ELEMENT_REGISTER (volume, plugin);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/volume\/gstvolume.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -69,0 +69,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (volume);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst\/volume\/gstvolume.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -61,0 +61,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (audioamplify);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audiofx\/audioamplify.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,31 +57,17 @@\n-#ifdef GSTREAMER_LITE\n-  return (gst_element_register (plugin, \"audiopanorama\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_PANORAMA));\n-#else \/\/ GSTREAMER_LITE\n-  return (gst_element_register (plugin, \"audiopanorama\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_PANORAMA) &&\n-      gst_element_register (plugin, \"audioinvert\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_INVERT) &&\n-      gst_element_register (plugin, \"audiokaraoke\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_KARAOKE) &&\n-      gst_element_register (plugin, \"audioamplify\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_AMPLIFY) &&\n-      gst_element_register (plugin, \"audiodynamic\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_DYNAMIC) &&\n-      gst_element_register (plugin, \"audiocheblimit\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_CHEB_LIMIT) &&\n-      gst_element_register (plugin, \"audiochebband\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_CHEB_BAND) &&\n-      gst_element_register (plugin, \"audioiirfilter\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_IIR_FILTER) &&\n-      gst_element_register (plugin, \"audiowsinclimit\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_WSINC_LIMIT) &&\n-      gst_element_register (plugin, \"audiowsincband\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_WSINC_BAND) &&\n-      gst_element_register (plugin, \"audiofirfilter\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_FIR_FILTER) &&\n-      gst_element_register (plugin, \"audioecho\", GST_RANK_NONE,\n-          GST_TYPE_AUDIO_ECHO) &&\n-      gst_element_register (plugin, \"scaletempo\", GST_RANK_NONE,\n-          GST_TYPE_SCALETEMPO) &&\n-      gst_element_register (plugin, \"stereo\", GST_RANK_NONE, GST_TYPE_STEREO));\n+  gboolean ret = FALSE;\n+\n+  ret |= GST_ELEMENT_REGISTER (audiopanorama, plugin);\n+#ifndef GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (audioinvert, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiokaraoke, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audioamplify, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiodynamic, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiocheblimit, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiochebband, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audioiirfilter, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiowsinclimit, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiowsincband, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audiofirfilter, plugin);\n+  ret |= GST_ELEMENT_REGISTER (audioecho, plugin);\n+  ret |= GST_ELEMENT_REGISTER (scaletempo, plugin);\n+  ret |= GST_ELEMENT_REGISTER (stereo, plugin);\n@@ -89,0 +75,2 @@\n+\n+  return ret;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audiofx\/audiofx.c","additions":19,"deletions":31,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -106,0 +106,2 @@\n+GST_ELEMENT_REGISTER_DEFINE (audiopanorama, \"audiopanorama\",\n+    GST_RANK_NONE, GST_TYPE_AUDIO_PANORAMA);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audiofx\/audiopanorama.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,0 +66,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (audiopanorama);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audiofx\/audiopanorama.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,39 @@\n+\/* GStreamer audio parsers\n+ * Copyright (C) 2009 Tim-Philipp Müller <tim centricular net>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Julian Bouzas <julian.bouzas@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_AUDIOPARSERS_ELEMENTS_H__\n+#define __GST_AUDIOPARSERS_ELEMENTS_H__\n+\n+#include <gst\/gst.h>\n+\n+G_BEGIN_DECLS\n+\n+GST_ELEMENT_REGISTER_DECLARE (aacparse);\n+GST_ELEMENT_REGISTER_DECLARE (amrparse);\n+GST_ELEMENT_REGISTER_DECLARE (ac3parse);\n+GST_ELEMENT_REGISTER_DECLARE (dcaparse);\n+GST_ELEMENT_REGISTER_DECLARE (flacparse);\n+GST_ELEMENT_REGISTER_DECLARE (mpegaudioparse);\n+GST_ELEMENT_REGISTER_DECLARE (sbcparse);\n+GST_ELEMENT_REGISTER_DECLARE (wavpackparse);\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_AUDIOPARSERS_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audioparsers\/gstaudioparserselements.h","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"},{"patch":"@@ -51,0 +51,1 @@\n+#include \"gstaudioparserselements.h\"\n@@ -111,0 +112,2 @@\n+GST_ELEMENT_REGISTER_DEFINE (mpegaudioparse, \"mpegaudioparse\",\n+    GST_RANK_PRIMARY + 2, GST_TYPE_MPEG_AUDIO_PARSE);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/audioparsers\/gstmpegaudioparse.c","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -230,12 +230,0 @@\n-#ifdef GSTREAMER_LITE\n-  \/\/ We need to update coefficients and disable passthrough\n-  \/\/ if needed, otherwise after we disable passthrough equalizer will not\n-  \/\/ get re-enabled.\n-\/\/  BANDS_LOCK (equ);\n-\/\/  if (equ->need_new_coefficients) {\n-\/\/    update_coefficients (equ);\n-\/\/    set_passthrough (equ);\n-\/\/  }\n-\/\/  BANDS_UNLOCK (equ);\n-#endif \/\/ GSTREAMER_LITE\n-\n@@ -937,7 +925,2 @@\n-#ifdef GSTREAMER_LITE\n-gboolean\n-plugin_init_equalizer (GstPlugin * plugin)\n-#else \/\/ GSTREAMER_LITE\n-static gboolean\n-plugin_init (GstPlugin * plugin)\n-#endif \/\/ GSTREAMER_LITE\n+void\n+equalizer_element_init (GstPlugin * plugin)\n@@ -945,0 +928,2 @@\n+  static gsize res = FALSE;\n+  if (g_once_init_enter (&res)) {\n@@ -946,16 +931,2 @@\n-\n-  if (!(gst_element_register (plugin, \"equalizer-nbands\", GST_RANK_NONE,\n-              GST_TYPE_IIR_EQUALIZER_NBANDS)))\n-    return FALSE;\n-\n-#ifndef GSTREAMER_LITE\n-  if (!(gst_element_register (plugin, \"equalizer-3bands\", GST_RANK_NONE,\n-              GST_TYPE_IIR_EQUALIZER_3BANDS)))\n-    return FALSE;\n-\n-  if (!(gst_element_register (plugin, \"equalizer-10bands\", GST_RANK_NONE,\n-              GST_TYPE_IIR_EQUALIZER_10BANDS)))\n-    return FALSE;\n-#endif \/\/ GSTREAMER_LITE\n-\n-  return TRUE;\n+    g_once_init_leave (&res, TRUE);\n+  }\n@@ -963,8 +934,0 @@\n-\n-#ifndef GSTREAMER_LITE\n-GST_PLUGIN_DEFINE (GST_VERSION_MAJOR,\n-    GST_VERSION_MINOR,\n-    equalizer,\n-    \"GStreamer audio equalizers\",\n-    plugin_init, VERSION, GST_LICENSE, GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN)\n-#endif \/\/ GSTREAMER_LITE\n\\ No newline at end of file\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/equalizer\/gstiirequalizer.c","additions":6,"deletions":43,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -26,0 +26,6 @@\n+void equalizer_element_init (GstPlugin * plugin);\n+\n+GST_ELEMENT_REGISTER_DECLARE (equalizer_nbands);\n+GST_ELEMENT_REGISTER_DECLARE (equalizer_3bands);\n+GST_ELEMENT_REGISTER_DECLARE (equalizer_10bands);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/equalizer\/gstiirequalizer.h","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * #include &lt;gst\/gst.h&gt;\n+ * #include <gst\/gst.h>\n@@ -65,1 +65,1 @@\n- *   for (i = 0; i &lt; 5; i++) {\n+ *   for (i = 0; i < 5; i++) {\n@@ -102,1 +102,3 @@\n-\n+GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (equalizer_nbands, \"equalizer-nbands\",\n+    GST_RANK_NONE, GST_TYPE_IIR_EQUALIZER_NBANDS,\n+    equalizer_element_init (plugin));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/equalizer\/gstiirequalizernbands.c","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -0,0 +1,54 @@\n+\/* GStreamer\n+ * Copyright (C) <2004> Benjamin Otte <otte@gnome.org>\n+ *               <2007> Stefan Kost <ensonic@users.sf.net>\n+ *               <2007> Sebastian Dröge <slomo@circular-chaos.org>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include \"gstiirequalizer.h\"\n+\n+\n+#ifdef GSTREAMER_LITE\n+gboolean\n+plugin_init_equalizer (GstPlugin * plugin)\n+#else \/\/ GSTREAMER_LITE\n+static gboolean\n+plugin_init (GstPlugin * plugin)\n+#endif \/\/ GSTREAMER_LITE\n+{\n+  gboolean ret = FALSE;\n+\n+  ret |= GST_ELEMENT_REGISTER (equalizer_nbands, plugin);\n+#ifndef GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (equalizer_3bands, plugin);\n+  ret |= GST_ELEMENT_REGISTER (equalizer_10bands, plugin);\n+#endif \/\/ GSTREAMER_LITE\n+\n+  return ret;\n+}\n+\n+#ifndef GSTREAMER_LITE\n+GST_PLUGIN_DEFINE (GST_VERSION_MAJOR,\n+    GST_VERSION_MINOR,\n+    equalizer,\n+    \"GStreamer audio equalizers\",\n+    plugin_init, VERSION, GST_LICENSE, GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN)\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/equalizer\/gstiirequalizerplugin.c","additions":54,"deletions":0,"binary":false,"changes":54,"status":"added"},{"patch":"@@ -113,0 +113,1 @@\n+#define FOURCC_ctim     GST_MAKE_FOURCC('c','t','i','m')\n@@ -161,0 +162,1 @@\n+#define FOURCC_iden     GST_MAKE_FOURCC('i','d','e','n')\n@@ -204,0 +206,1 @@\n+#define FOURCC_payl     GST_MAKE_FOURCC('p','a','y','l')\n@@ -245,0 +248,1 @@\n+#define FOURCC_sttg     GST_MAKE_FOURCC('s','t','t','g')\n@@ -274,0 +278,4 @@\n+#define FOURCC_vtta     GST_MAKE_FOURCC('v','t','t','a')\n+#define FOURCC_vttc     GST_MAKE_FOURCC('v','t','t','c')\n+#define FOURCC_vttC     GST_MAKE_FOURCC('v','t','t','C')\n+#define FOURCC_vtte     GST_MAKE_FOURCC('v','t','t','e')\n@@ -277,0 +285,1 @@\n+#define FOURCC_wvtt     GST_MAKE_FOURCC('w','v','t','t')\n@@ -405,0 +414,5 @@\n+#define FOURCC_cbcs     GST_MAKE_FOURCC('c','b','c','s')\n+\n+\/* Audible AAX encrypted audio *\/\n+#define FOURCC_aavd     GST_MAKE_FOURCC('a','a','v','d')\n+#define FOURCC_adrm     GST_MAKE_FOURCC('a','d','r','m')\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/fourcc.h","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -0,0 +1,55 @@\n+\/* GStreamer\n+ * Copyright (C) <1999> Erik Walthinsen <omega@cse.ogi.edu>\n+ * Copyright (C) <2003> David A. Schleef <ds@schleef.org>\n+ * Copyright (C) <2006> Wim Taymans <wim@fluendo.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+#include \"gst\/gst-i18n-plugin.h\"\n+#include <gst\/pbutils\/pbutils.h>\n+\n+#include \"gstisomp4elements.h\"\n+#include \"qtdemux.h\"\n+\n+void\n+isomp4_element_init (GstPlugin * plugin)\n+{\n+  static gsize res = FALSE;\n+\n+  if (g_once_init_enter (&res)) {\n+#ifdef ENABLE_NLS\n+    bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n+    bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n+#endif \/* ENABLE_NLS *\/\n+\n+    gst_pb_utils_init ();\n+\n+    \/* ensure private tag is registered *\/\n+    gst_tag_register (GST_QT_DEMUX_PRIVATE_TAG, GST_TAG_FLAG_META,\n+        GST_TYPE_SAMPLE, \"QT atom\", \"unparsed QT tag atom\",\n+        gst_tag_merge_use_first);\n+\n+    gst_tag_register (GST_QT_DEMUX_CLASSIFICATION_TAG, GST_TAG_FLAG_META,\n+        G_TYPE_STRING, GST_QT_DEMUX_CLASSIFICATION_TAG,\n+        \"content classification\", gst_tag_merge_use_first);\n+\n+    g_once_init_leave (&res, TRUE);\n+  }\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/gstisomp4element.c","additions":55,"deletions":0,"binary":false,"changes":55,"status":"added"},{"patch":"@@ -0,0 +1,45 @@\n+\/*\n+ * Copyright (C) <1999> Erik Walthinsen <omega@cse.ogi.edu>\n+ * Copyright (C) <2003> David A. Schleef <ds@schleef.org>\n+ * Copyright (C) <2006> Wim Taymans <wim@fluendo.com>\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Julian Bouzas <julian.bouzas@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_ISOMP4_ELEMENTS_H__\n+#define __GST_ISOMP4_ELEMENTS_H__\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+G_BEGIN_DECLS\n+\n+void isomp4_element_init (GstPlugin * plugin);\n+\n+GST_ELEMENT_REGISTER_DECLARE (qtdemux);\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (rtpxqtdepay);\n+GST_ELEMENT_REGISTER_DECLARE (qtmux);\n+GST_ELEMENT_REGISTER_DECLARE (qtmoovrecover);\n+#endif \/\/ GSTREAMER_LITE\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_ISOMP4_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/gstisomp4elements.h","additions":45,"deletions":0,"binary":false,"changes":45,"status":"added"},{"patch":"@@ -27,6 +27,1 @@\n-#include \"qtdemux.h\"\n-#ifndef GSTREAMER_LITE\n-#include \"gstrtpxqtdepay.h\"\n-#include \"gstqtmux.h\"\n-#include \"gstqtmoovrecover.h\"\n-#endif \/\/ GSTREAMER_LITE\n+#include \"gstisomp4elements.h\"\n@@ -34,1 +29,0 @@\n-#include <gst\/pbutils\/pbutils.h>\n@@ -44,19 +38,1 @@\n-#ifdef ENABLE_NLS\n-  bindtextdomain (GETTEXT_PACKAGE, LOCALEDIR);\n-  bind_textdomain_codeset (GETTEXT_PACKAGE, \"UTF-8\");\n-#endif \/* ENABLE_NLS *\/\n-\n-  gst_pb_utils_init ();\n-\n-  \/* ensure private tag is registered *\/\n-  gst_tag_register (GST_QT_DEMUX_PRIVATE_TAG, GST_TAG_FLAG_META,\n-      GST_TYPE_SAMPLE, \"QT atom\", \"unparsed QT tag atom\",\n-      gst_tag_merge_use_first);\n-\n-  gst_tag_register (GST_QT_DEMUX_CLASSIFICATION_TAG, GST_TAG_FLAG_META,\n-      G_TYPE_STRING, GST_QT_DEMUX_CLASSIFICATION_TAG, \"content classification\",\n-      gst_tag_merge_use_first);\n-\n-  if (!gst_element_register (plugin, \"qtdemux\",\n-          GST_RANK_PRIMARY, GST_TYPE_QTDEMUX))\n-    return FALSE;\n+  gboolean ret = FALSE;\n@@ -64,0 +40,1 @@\n+  ret |= GST_ELEMENT_REGISTER (qtdemux, plugin);\n@@ -65,8 +42,3 @@\n-  if (!gst_element_register (plugin, \"rtpxqtdepay\",\n-          GST_RANK_MARGINAL, GST_TYPE_RTP_XQT_DEPAY))\n-    return FALSE;\n-\n-  if (!gst_qt_mux_register (plugin))\n-    return FALSE;\n-  if (!gst_qt_moov_recover_register (plugin))\n-    return FALSE;\n+  ret |= GST_ELEMENT_REGISTER (rtpxqtdepay, plugin);\n+  ret |= GST_ELEMENT_REGISTER (qtmux, plugin);\n+  ret |= GST_ELEMENT_REGISTER (qtmoovrecover, plugin);\n@@ -75,1 +47,1 @@\n-  return TRUE;\n+  return ret;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/isomp4-plugin.c","additions":7,"deletions":35,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -0,0 +1,221 @@\n+\/* GStreamer\n+ * Copyright (C) 2008 Thijs Vermeir <thijsvermeir@gmail.com>\n+ * Copyright (C) 2011 David Schleef <ds@schleef.org>\n+ * Copyright (C) 2021 Jan Schmidt <jan@centricular.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#include \"config.h\"\n+#endif\n+\n+#include \"qtdemux-webvtt.h\"\n+#include <gst\/base\/gstbytereader.h>\n+\n+#include \"fourcc.h\"\n+#include \"qtdemux.h\"\n+#include \"qtatomparser.h\"\n+\n+#include <stdlib.h>\n+#include <string.h>\n+\n+GST_DEBUG_CATEGORY_EXTERN (qtdemux_debug);\n+#define GST_CAT_DEFAULT qtdemux_debug\n+\n+gboolean\n+qtdemux_webvtt_is_empty (GstQTDemux * demux, guint8 * data, gsize size)\n+{\n+  GstByteReader br;\n+  guint32 atom_size;\n+  guint32 atom_type;\n+\n+  gst_byte_reader_init (&br, data, size);\n+  if (gst_byte_reader_get_remaining (&br) < 8)\n+    return FALSE;\n+\n+  if (!gst_byte_reader_get_uint32_be (&br, &atom_size) ||\n+      !qt_atom_parser_get_fourcc (&br, &atom_type))\n+    return FALSE;\n+\n+  if (atom_type == FOURCC_vtte)\n+    return TRUE;\n+\n+  return FALSE;\n+}\n+\n+struct WebvttCue\n+{\n+  const guint8 *cue_id;\n+  guint32 cue_id_len;\n+\n+  const guint8 *cue_time;\n+  guint32 cue_time_len;\n+\n+  const guint8 *settings;\n+  guint32 settings_len;\n+\n+  const guint8 *cue_text;\n+  guint32 cue_text_len;\n+};\n+\n+static void\n+webvtt_append_timestamp_to_string (GstClockTime timestamp, GString * str)\n+{\n+  guint h, m, s, ms;\n+\n+  h = timestamp \/ (3600 * GST_SECOND);\n+\n+  timestamp -= h * 3600 * GST_SECOND;\n+  m = timestamp \/ (60 * GST_SECOND);\n+\n+  timestamp -= m * 60 * GST_SECOND;\n+  s = timestamp \/ GST_SECOND;\n+\n+  timestamp -= s * GST_SECOND;\n+  ms = timestamp \/ GST_MSECOND;\n+\n+  g_string_append_printf (str, \"%02d:%02d:%02d.%03d\", h, m, s, ms);\n+}\n+\n+static gboolean\n+webvtt_decode_vttc (GstQTDemux * qtdemux, GstByteReader * br,\n+    GstClockTime start, GstClockTime duration, GString * s)\n+{\n+  struct WebvttCue cue = { 0, };\n+  gboolean have_data = FALSE;\n+\n+  while (gst_byte_reader_get_remaining (br) >= 8) {\n+    guint32 atom_size;\n+    guint32 atom_type;\n+    guint next_pos;\n+\n+    if (!gst_byte_reader_get_uint32_be (br, &atom_size) ||\n+        !qt_atom_parser_get_fourcc (br, &atom_type))\n+      break;\n+\n+    if (gst_byte_reader_get_remaining (br) < atom_size - 8)\n+      break;\n+    next_pos = gst_byte_reader_get_pos (br) - 8 + atom_size;\n+\n+    GST_LOG_OBJECT (qtdemux, \"WebVTT cue atom %\" GST_FOURCC_FORMAT \" len %u\",\n+        GST_FOURCC_ARGS (atom_type), atom_size);\n+\n+    switch (atom_type) {\n+      case FOURCC_ctim:\n+        if (!gst_byte_reader_get_data (br, atom_size - 8, &cue.cue_time))\n+          return FALSE;\n+        cue.cue_time_len = atom_size - 8;\n+        break;\n+      case FOURCC_iden:\n+        if (!gst_byte_reader_get_data (br, atom_size - 8, &cue.cue_id))\n+          return FALSE;\n+        cue.cue_id_len = atom_size - 8;\n+        break;\n+      case FOURCC_sttg:\n+        if (!gst_byte_reader_get_data (br, atom_size - 8, &cue.settings))\n+          return FALSE;\n+        cue.settings_len = atom_size - 8;\n+        break;\n+      case FOURCC_payl:\n+        if (!gst_byte_reader_get_data (br, atom_size - 8, &cue.cue_text))\n+          return FALSE;\n+        cue.cue_text_len = atom_size - 8;\n+        have_data = TRUE;\n+        break;\n+    }\n+\n+    if (!gst_byte_reader_set_pos (br, next_pos))\n+      break;\n+  }\n+\n+  if (have_data) {\n+    if (cue.cue_id)\n+      g_string_append_printf (s, \"%.*s\\n\", cue.cue_id_len, cue.cue_id);\n+\n+    \/* Write the cue time and optional settings *\/\n+    webvtt_append_timestamp_to_string (start, s);\n+    g_string_append_printf (s, \" --> \");\n+    webvtt_append_timestamp_to_string (start + duration, s);\n+\n+    if (cue.settings)\n+      g_string_append_printf (s, \" %.*s\\n\", cue.settings_len, cue.settings);\n+    else\n+      g_string_append (s, \"\\n\");\n+\n+    g_string_append_printf (s, \"%.*s\\n\\n\", cue.cue_text_len, cue.cue_text);\n+  }\n+\n+  return have_data;\n+}\n+\n+GstBuffer *\n+qtdemux_webvtt_decode (GstQTDemux * qtdemux, GstClockTime start,\n+    GstClockTime duration, guint8 * data, gsize size)\n+{\n+  GstByteReader br;\n+  GString *str = NULL;\n+  GstBuffer *buf = NULL;\n+\n+  gst_byte_reader_init (&br, data, size);\n+  while (gst_byte_reader_get_remaining (&br) >= 8) {\n+    guint32 atom_size;\n+    guint32 atom_type;\n+    guint next_pos;\n+\n+    if (!gst_byte_reader_get_uint32_be (&br, &atom_size) ||\n+        !qt_atom_parser_get_fourcc (&br, &atom_type))\n+      break;\n+\n+    if (gst_byte_reader_get_remaining (&br) < atom_size - 8)\n+      break;\n+    next_pos = gst_byte_reader_get_pos (&br) - 8 + atom_size;\n+\n+    switch (atom_type) {\n+      case FOURCC_vttc:\n+        GST_LOG_OBJECT (qtdemux,\n+            \"WebVTT cue atom %\" GST_FOURCC_FORMAT \" len %u\",\n+            GST_FOURCC_ARGS (atom_type), atom_size);\n+        if (str == NULL)\n+          str = g_string_new (NULL);\n+        if (!webvtt_decode_vttc (qtdemux, &br, start, duration, str))\n+          break;\n+        break;\n+      case FOURCC_vtte:\n+        \/* The empty segment case should be handled separately using qtdemux_webvtt_is_empty().\n+         * Ignore it during decode *\/\n+        break;\n+      case FOURCC_vtta:\n+        \/* extra attributes *\/\n+        break;\n+      default:\n+        GST_DEBUG_OBJECT (qtdemux,\n+            \"Unknown WebVTT sample atom %\" GST_FOURCC_FORMAT,\n+            GST_FOURCC_ARGS (atom_type));\n+        break;\n+    }\n+    if (!gst_byte_reader_set_pos (&br, next_pos))\n+      break;\n+  }\n+\n+  if (str) {\n+    gsize webvtt_len = str->len;\n+    gchar *webvtt_chunk = g_string_free (str, FALSE);\n+    buf = gst_buffer_new_wrapped (webvtt_chunk, webvtt_len);\n+  }\n+\n+  return buf;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux-webvtt.c","additions":221,"deletions":0,"binary":false,"changes":221,"status":"added"},{"patch":"@@ -0,0 +1,32 @@\n+\/* GStreamer\n+ * Copyright (C) <2021> Jan Schmidt <jan@centricular.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+#include <gst\/gst.h>\n+#include \"qtdemux.h\"\n+\n+#ifndef __QTDEMUX_WEBVTT_H__\n+#define __QTDEMUX_WEBVTT_H__\n+\n+G_BEGIN_DECLS\n+\n+gboolean qtdemux_webvtt_is_empty(GstQTDemux *demux, guint8 *data, gsize size);\n+GstBuffer *qtdemux_webvtt_decode (GstQTDemux * qtdemux, GstClockTime start, GstClockTime duration, guint8 *data, gsize size);\n+\n+G_END_DECLS\n+\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux-webvtt.h","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -62,0 +62,1 @@\n+#include \"gstisomp4elements.h\"\n@@ -72,0 +73,1 @@\n+#include \"qtdemux-webvtt.h\"\n@@ -79,0 +81,4 @@\n+#ifdef GSTREAMER_LITE\n+#include \"gst\/glib-compat-private.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -119,0 +125,1 @@\n+typedef struct _QtDemuxAavdEncryptionInfo QtDemuxAavdEncryptionInfo;\n@@ -242,0 +249,5 @@\n+struct _QtDemuxAavdEncryptionInfo\n+{\n+  GstStructure *default_properties;\n+};\n+\n@@ -291,0 +303,2 @@\n+GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (qtdemux, \"qtdemux\",\n+    GST_RANK_PRIMARY, GST_TYPE_QTDEMUX, isomp4_element_init (plugin));\n@@ -721,0 +735,7 @@\n+      gst_query_parse_seeking (query, &fmt, NULL, NULL, NULL);\n+\n+      if (fmt == GST_FORMAT_BYTES) {\n+        \/* We always refuse BYTES seeks from downstream *\/\n+        break;\n+      }\n+\n@@ -1631,0 +1652,1 @@\n+      GstFormat seek_format;\n@@ -1640,1 +1662,2 @@\n-      gst_event_parse_seek (event, NULL, NULL, &flags, NULL, NULL, NULL, NULL);\n+      gst_event_parse_seek (event, NULL, &seek_format, &flags, NULL, NULL, NULL,\n+          NULL);\n@@ -1657,0 +1680,6 @@\n+      if (seek_format == GST_FORMAT_BYTES) {\n+        GST_DEBUG_OBJECT (pad, \"Rejecting seek request in bytes format\");\n+        gst_event_unref (event);\n+        return FALSE;\n+      }\n+\n@@ -1857,1 +1886,1 @@\n-  stream->need_process = FALSE;\n+  stream->process_func = NULL;\n@@ -2550,1 +2579,2 @@\n-    if (stream->protection_scheme_type == FOURCC_cenc) {\n+    if (stream->protection_scheme_type == FOURCC_cenc\n+        || stream->protection_scheme_type == FOURCC_cbcs) {\n@@ -2558,0 +2588,6 @@\n+    if (stream->protection_scheme_type == FOURCC_aavd) {\n+      QtDemuxAavdEncryptionInfo *info =\n+          (QtDemuxAavdEncryptionInfo *) stream->protection_scheme_info;\n+      if (info->default_properties)\n+        gst_structure_free (info->default_properties);\n+    }\n@@ -2684,3 +2720,5 @@\n-qtdemux_update_default_sample_encryption_settings (GstQTDemux * qtdemux,\n-    QtDemuxCencSampleSetInfo * info, guint32 is_encrypted, guint8 iv_size,\n-    const guint8 * kid)\n+qtdemux_update_default_sample_cenc_settings (GstQTDemux * qtdemux,\n+    QtDemuxCencSampleSetInfo * info, guint32 is_encrypted,\n+    guint32 protection_scheme_type, guint8 iv_size, const guint8 * kid,\n+    guint crypt_byte_block, guint skip_byte_block, guint8 constant_iv_size,\n+    const guint8 * constant_iv)\n@@ -2700,0 +2738,21 @@\n+  if (protection_scheme_type == FOURCC_cbcs) {\n+    if (crypt_byte_block != 0 || skip_byte_block != 0) {\n+      gst_structure_set (info->default_properties, \"crypt_byte_block\",\n+          G_TYPE_UINT, crypt_byte_block, \"skip_byte_block\", G_TYPE_UINT,\n+          skip_byte_block, NULL);\n+    }\n+    if (constant_iv != NULL) {\n+      GstBuffer *constant_iv_buf =\n+          gst_buffer_new_allocate (NULL, constant_iv_size, NULL);\n+      gst_buffer_fill (constant_iv_buf, 0, constant_iv, constant_iv_size);\n+      gst_structure_set (info->default_properties, \"constant_iv_size\",\n+          G_TYPE_UINT, constant_iv_size, \"iv\", GST_TYPE_BUFFER, constant_iv_buf,\n+          NULL);\n+      gst_buffer_unref (constant_iv_buf);\n+    }\n+    gst_structure_set (info->default_properties, \"cipher-mode\",\n+        G_TYPE_STRING, \"cbcs\", NULL);\n+  } else {\n+    gst_structure_set (info->default_properties, \"cipher-mode\",\n+        G_TYPE_STRING, \"cenc\", NULL);\n+  }\n@@ -2731,2 +2790,2 @@\n-  qtdemux_update_default_sample_encryption_settings (qtdemux, info,\n-      is_encrypted, iv_size, kid);\n+  qtdemux_update_default_sample_cenc_settings (qtdemux, info,\n+      is_encrypted, FOURCC_cenc, iv_size, kid, 0, 0, 0, NULL);\n@@ -3151,1 +3210,4 @@\n-      if (stream->dummy_segment &&\n+      \/* also mangle the edit list end time when fragmented with a single edit\n+       * list that may only cover any non-fragmented data *\/\n+      if ((stream->dummy_segment ||\n+              (qtdemux->fragmented && stream->n_segments == 1)) &&\n@@ -3186,0 +3248,1 @@\n+  guint8 version;\n@@ -3193,0 +3256,1 @@\n+  gint32 min_ct = 0;\n@@ -3212,1 +3276,1 @@\n-  if (!gst_byte_reader_skip (trun, 1) ||\n+  if (!gst_byte_reader_get_uint8 (trun, &version) ||\n@@ -3368,1 +3432,2 @@\n-    guint32 dur, size, sflags, ct;\n+    guint32 dur, size, sflags;\n+    gint32 ct;\n@@ -3392,0 +3457,1 @@\n+\n@@ -3393,0 +3459,3 @@\n+      \/* Read offsets as signed numbers regardless of trun version as very\n+       * high offsets are unlikely and there are files out there that use\n+       * version=0 truns with negative offsets *\/\n@@ -3394,0 +3463,5 @@\n+\n+      \/* FIXME: Set offset to 0 for \"no decode samples\". This needs\n+       * to be handled in a codec specific manner ideally. *\/\n+      if (ct == G_MININT32)\n+        ct = 0;\n@@ -3413,0 +3487,3 @@\n+\n+    if (ct < min_ct)\n+      min_ct = ct;\n@@ -3415,0 +3492,12 @@\n+  \/* Shift PTS\/DTS to allow for negative composition offsets while keeping\n+   * A\/V sync in place. This is similar to the code handling ctts\/cslg in the\n+   * non-fragmented case.\n+   *\/\n+  if (min_ct < 0)\n+    stream->cslg_shift = -min_ct;\n+  else\n+    stream->cslg_shift = 0;\n+\n+  GST_DEBUG_OBJECT (qtdemux, \"Using clsg_shift %\" G_GUINT64_FORMAT,\n+      stream->cslg_shift);\n+\n@@ -3563,1 +3652,1 @@\n-    GST_DEBUG_OBJECT (qtdemux, \"unknown stream in tfhd\");\n+    GST_DEBUG_OBJECT (qtdemux, \"unknown stream (%u) in tfhd\", track_id);\n@@ -3746,3 +3835,4 @@\n-\/* Parses auxiliary information relating to samples protected using Common\n- * Encryption (cenc); the format of this information is defined in\n- * ISO\/IEC 23001-7. Returns TRUE if successful; FALSE otherwise. *\/\n+\/* Parses auxiliary information relating to samples protected using\n+ * Common Encryption (cenc); the format of this information\n+ * is defined in ISO\/IEC 23001-7. Returns TRUE if successful; FALSE\n+ * otherwise. *\/\n@@ -3806,0 +3896,1 @@\n+    gboolean could_read_iv;\n@@ -3817,1 +3908,19 @@\n-    if (!gst_byte_reader_dup_data (br, iv_size, &data)) {\n+    could_read_iv =\n+        iv_size > 0 ? gst_byte_reader_dup_data (br, iv_size, &data) : FALSE;\n+    if (could_read_iv) {\n+      buf = gst_buffer_new_wrapped (data, iv_size);\n+      gst_structure_set (properties, \"iv\", GST_TYPE_BUFFER, buf, NULL);\n+      gst_buffer_unref (buf);\n+    } else if (stream->protection_scheme_type == FOURCC_cbcs) {\n+      const GValue *constant_iv_size_value =\n+          gst_structure_get_value (properties, \"constant_iv_size\");\n+      const GValue *constant_iv_value =\n+          gst_structure_get_value (properties, \"iv\");\n+      if (constant_iv_size_value == NULL || constant_iv_value == NULL) {\n+        GST_ERROR_OBJECT (qtdemux, \"failed to get constant_iv\");\n+        gst_structure_free (properties);\n+        return FALSE;\n+      }\n+      gst_structure_set_value (properties, \"iv_size\", constant_iv_size_value);\n+      gst_structure_remove_field (properties, \"constant_iv_size\");\n+    } else if (stream->protection_scheme_type == FOURCC_cenc) {\n@@ -3822,3 +3931,0 @@\n-    buf = gst_buffer_new_wrapped (data, iv_size);\n-    gst_structure_set (properties, \"iv\", GST_TYPE_BUFFER, buf, NULL);\n-    gst_buffer_unref (buf);\n@@ -3899,1 +4005,1 @@\n-  pssh = gst_buffer_new_wrapped (g_memdup (node->data, pssh_size), pssh_size);\n+  pssh = gst_buffer_new_memdup (node->data, pssh_size);\n@@ -4007,1 +4113,2 @@\n-      if (info_type == FOURCC_cenc && info_type_parameter == 0U) {\n+      if ((info_type == FOURCC_cenc || info_type == FOURCC_cbcs)\n+          && info_type_parameter == 0U) {\n@@ -4906,2 +5013,5 @@\n-  stream->segment.stop = stop + QTSTREAMTIME_TO_GSTTIME (stream,\n-      stream->cslg_shift);\n+  if (stop != -1)\n+    stream->segment.stop = stop + QTSTREAMTIME_TO_GSTTIME (stream,\n+        stream->cslg_shift);\n+  else\n+    stream->segment.stop = stop;\n@@ -5207,0 +5317,3 @@\n+  GST_TRACE_OBJECT (qtdemux, \"advance to sample %u\/%u\", stream->sample_index,\n+      stream->n_samples);\n+\n@@ -5220,0 +5333,4 @@\n+  GST_TRACE_OBJECT (qtdemux, \"sample dts %\" GST_TIME_FORMAT \" media_stop: %\"\n+      GST_TIME_FORMAT, GST_TIME_ARGS (QTSAMPLE_DTS (stream, sample)),\n+      GST_TIME_ARGS (segment->media_stop));\n+\n@@ -5612,1 +5729,1 @@\n-      res = g_memdup (data + 8, *cclen);\n+      res = g_memdup2 (data + 8, *cclen);\n@@ -5629,1 +5746,2 @@\n-\/* the input buffer metadata must be writable,\n+\/* Handle Closed Caption sample buffers.\n+ * The input buffer metadata must be writable,\n@@ -5632,1 +5750,1 @@\n-gst_qtdemux_process_buffer (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+gst_qtdemux_process_buffer_clcp (GstQTDemux * qtdemux, QtDemuxStream * stream,\n@@ -5635,0 +5753,1 @@\n+  GstBuffer *outbuf = NULL;\n@@ -5636,2 +5755,2 @@\n-  guint nsize = 0;\n-  gchar *str;\n+  guint8 *cc;\n+  gsize cclen = 0;\n@@ -5639,6 +5758,7 @@\n-  \/* not many cases for now *\/\n-  if (G_UNLIKELY (CUR_STREAM (stream)->fourcc == FOURCC_mp4s)) {\n-    \/* send a one time dvd clut event *\/\n-    if (stream->pending_event && stream->pad)\n-      gst_pad_push_event (stream->pad, stream->pending_event);\n-    stream->pending_event = NULL;\n+  gst_buffer_map (buf, &map, GST_MAP_READ);\n+\n+  \/* empty buffer is sent to terminate previous subtitle *\/\n+  if (map.size <= 2) {\n+    gst_buffer_unmap (buf, &map);\n+    gst_buffer_unref (buf);\n+    return NULL;\n@@ -5647,4 +5767,9 @@\n-  if (G_UNLIKELY (stream->subtype != FOURCC_text\n-          && stream->subtype != FOURCC_sbtl &&\n-          stream->subtype != FOURCC_subp && stream->subtype != FOURCC_clcp)) {\n-    return buf;\n+  \/* For closed caption, we need to extract the information from the\n+   * [cdat],[cdt2] or [ccdp] atom *\/\n+  cc = extract_cc_from_data (stream, map.data, map.size, &cclen);\n+  gst_buffer_unmap (buf, &map);\n+  if (cc) {\n+    outbuf = _gst_buffer_new_wrapped (cc, cclen, g_free);\n+    gst_buffer_copy_into (outbuf, buf, GST_BUFFER_COPY_METADATA, 0, -1);\n+  } else {\n+    \/* Conversion failed or there's nothing *\/\n@@ -5652,0 +5777,1 @@\n+  gst_buffer_unref (buf);\n@@ -5653,1 +5779,14 @@\n-  gst_buffer_map (buf, &map, GST_MAP_READ);\n+  return outbuf;\n+}\n+\n+\/* DVD subpicture specific sample handling.\n+ * the input buffer metadata must be writable,\n+ * but time\/duration etc not yet set and need not be preserved *\/\n+static GstBuffer *\n+gst_qtdemux_process_buffer_dvd (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+    GstBuffer * buf)\n+{\n+  \/* send a one time dvd clut event *\/\n+  if (stream->pending_event && stream->pad)\n+    gst_pad_push_event (stream->pad, stream->pending_event);\n+  stream->pending_event = NULL;\n@@ -5656,2 +5795,1 @@\n-  if (map.size <= 2) {\n-    gst_buffer_unmap (buf, &map);\n+  if (gst_buffer_get_size (buf) <= 2) {\n@@ -5661,3 +5799,20 @@\n-  if (stream->subtype == FOURCC_subp) {\n-    \/* That's all the processing needed for subpictures *\/\n-    gst_buffer_unmap (buf, &map);\n+\n+  \/* That's all the processing needed for subpictures *\/\n+  return buf;\n+}\n+\n+\/* Timed text formats\n+ * the input buffer metadata must be writable,\n+ * but time\/duration etc not yet set and need not be preserved *\/\n+static GstBuffer *\n+gst_qtdemux_process_buffer_text (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+    GstBuffer * buf)\n+{\n+  GstBuffer *outbuf = NULL;\n+  GstMapInfo map;\n+  guint nsize = 0;\n+  gchar *str;\n+\n+  \/* not many cases for now *\/\n+  if (G_UNLIKELY (stream->subtype != FOURCC_text &&\n+          stream->subtype != FOURCC_sbtl)) {\n@@ -5667,6 +5822,4 @@\n-  if (stream->subtype == FOURCC_clcp) {\n-    guint8 *cc;\n-    gsize cclen = 0;\n-    \/* For closed caption, we need to extract the information from the\n-     * [cdat],[cdt2] or [ccdp] atom *\/\n-    cc = extract_cc_from_data (stream, map.data, map.size, &cclen);\n+  gst_buffer_map (buf, &map, GST_MAP_READ);\n+\n+  \/* empty buffer is sent to terminate previous subtitle *\/\n+  if (map.size <= 2) {\n@@ -5675,7 +5828,1 @@\n-    if (cc) {\n-      buf = _gst_buffer_new_wrapped (cc, cclen, g_free);\n-    } else {\n-      \/* Conversion failed or there's nothing *\/\n-      buf = NULL;\n-    }\n-    return buf;\n+    return NULL;\n@@ -5694,0 +5841,1 @@\n+\n@@ -5695,2 +5843,2 @@\n-    gst_buffer_unref (buf);\n-    buf = _gst_buffer_new_wrapped (str, strlen (str), g_free);\n+    outbuf = _gst_buffer_new_wrapped (str, strlen (str), g_free);\n+    gst_buffer_copy_into (outbuf, buf, GST_BUFFER_COPY_METADATA, 0, -1);\n@@ -5699,2 +5847,0 @@\n-    gst_buffer_unref (buf);\n-    buf = NULL;\n@@ -5702,0 +5848,1 @@\n+  gst_buffer_unref (buf);\n@@ -5705,1 +5852,36 @@\n-  return buf;\n+  return outbuf;\n+}\n+\n+\/* WebVTT sample handling according to 14496-30 *\/\n+static GstBuffer *\n+gst_qtdemux_process_buffer_wvtt (GstQTDemux * qtdemux, QtDemuxStream * stream,\n+    GstBuffer * buf)\n+{\n+  GstBuffer *outbuf = NULL;\n+  GstMapInfo map;\n+\n+  if (!gst_buffer_map (buf, &map, GST_MAP_READ)) {\n+    g_assert_not_reached ();    \/* The buffer must be mappable *\/\n+  }\n+\n+  if (qtdemux_webvtt_is_empty (qtdemux, map.data, map.size)) {\n+    GstEvent *gap = NULL;\n+    \/* Push a gap event *\/\n+    stream->segment.position = GST_BUFFER_PTS (buf);\n+    gap =\n+        gst_event_new_gap (stream->segment.position, GST_BUFFER_DURATION (buf));\n+    gst_pad_push_event (stream->pad, gap);\n+\n+    if (GST_BUFFER_DURATION_IS_VALID (buf))\n+      stream->segment.position += GST_BUFFER_DURATION (buf);\n+  } else {\n+    outbuf =\n+        qtdemux_webvtt_decode (qtdemux, GST_BUFFER_PTS (buf),\n+        GST_BUFFER_DURATION (buf), map.data, map.size);\n+    gst_buffer_copy_into (outbuf, buf, GST_BUFFER_COPY_METADATA, 0, -1);\n+  }\n+\n+  gst_buffer_unmap (buf, &map);\n+  gst_buffer_unref (buf);\n+\n+  return outbuf;\n@@ -5736,1 +5918,12 @@\n-  if (stream->protected && stream->protection_scheme_type == FOURCC_cenc) {\n+  if (stream->protected && stream->protection_scheme_type == FOURCC_aavd) {\n+    GstStructure *crypto_info;\n+    QtDemuxAavdEncryptionInfo *info =\n+        (QtDemuxAavdEncryptionInfo *) stream->protection_scheme_info;\n+\n+    crypto_info = gst_structure_copy (info->default_properties);\n+    if (!crypto_info || !gst_buffer_add_protection_meta (buf, crypto_info))\n+      GST_ERROR_OBJECT (qtdemux, \"failed to attach aavd metadata to buffer\");\n+  }\n+\n+  if (stream->protected && (stream->protection_scheme_type == FOURCC_cenc\n+          || stream->protection_scheme_type == FOURCC_cbcs)) {\n@@ -5750,2 +5943,13 @@\n-      GST_DEBUG_OBJECT (qtdemux,\n-          \"cenc metadata hasn't been parsed yet, pushing buffer as if it wasn't encrypted\");\n+      if (stream->protection_scheme_type == FOURCC_cbcs) {\n+        crypto_info = qtdemux_get_cenc_sample_properties (qtdemux, stream, 0);\n+        if (!crypto_info || !gst_buffer_add_protection_meta (buf, crypto_info)) {\n+          GST_ERROR_OBJECT (qtdemux,\n+              \"failed to attach cbcs metadata to buffer\");\n+          qtdemux_gst_structure_free (crypto_info);\n+        } else {\n+          GST_TRACE_OBJECT (qtdemux, \"added cbcs protection metadata\");\n+        }\n+      } else {\n+        GST_DEBUG_OBJECT (qtdemux,\n+            \"cenc metadata hasn't been parsed yet, pushing buffer as if it wasn't encrypted\");\n+      }\n@@ -5982,7 +6186,0 @@\n-  if (G_UNLIKELY (stream->need_process))\n-    buf = gst_qtdemux_process_buffer (qtdemux, stream, buf);\n-\n-  if (!buf) {\n-    goto exit;\n-  }\n-\n@@ -5995,0 +6192,7 @@\n+  if (G_UNLIKELY (stream->process_func))\n+    buf = stream->process_func (qtdemux, stream, buf);\n+\n+  if (!buf) {\n+    goto exit;\n+  }\n+\n@@ -6124,1 +6328,2 @@\n-      if (stream->protection_scheme_type == FOURCC_cenc) {\n+      if (stream->protection_scheme_type == FOURCC_cenc\n+          || stream->protection_scheme_type == FOURCC_cbcs) {\n@@ -6222,1 +6427,2 @@\n-          || stream->subtype == FOURCC_text || stream->subtype == FOURCC_sbtl)\n+          || stream->subtype == FOURCC_text || stream->subtype == FOURCC_sbtl ||\n+          stream->subtype == FOURCC_wvtt)\n@@ -7908,0 +8114,1 @@\n+      case FOURCC_aavd:\n@@ -8322,1 +8529,13 @@\n-  if (stream->protection_scheme_type != FOURCC_cenc) {\n+  if (stream->protection_scheme_type == FOURCC_aavd) {\n+    s = gst_caps_get_structure (CUR_STREAM (stream)->caps, 0);\n+    if (!gst_structure_has_name (s, \"application\/x-aavd\")) {\n+      gst_structure_set (s,\n+          \"original-media-type\", G_TYPE_STRING, gst_structure_get_name (s),\n+          NULL);\n+      gst_structure_set_name (s, \"application\/x-aavd\");\n+    }\n+    return TRUE;\n+  }\n+\n+  if (stream->protection_scheme_type != FOURCC_cenc\n+      && stream->protection_scheme_type != FOURCC_cbcs) {\n@@ -8328,0 +8547,11 @@\n+\n+  s = gst_caps_get_structure (CUR_STREAM (stream)->caps, 0);\n+  if (!gst_structure_has_name (s, \"application\/x-cenc\")) {\n+    gst_structure_set (s,\n+        \"original-media-type\", G_TYPE_STRING, gst_structure_get_name (s), NULL);\n+    gst_structure_set (s, \"cipher-mode\", G_TYPE_STRING,\n+        (stream->protection_scheme_type == FOURCC_cbcs) ? \"cbcs\" : \"cenc\",\n+        NULL);\n+    gst_structure_set_name (s, \"application\/x-cenc\");\n+  }\n+\n@@ -8329,3 +8559,4 @@\n-    GST_ERROR_OBJECT (qtdemux, \"stream is protected using cenc, but no \"\n-        \"cenc protection system information has been found\");\n-    return FALSE;\n+    GST_DEBUG_OBJECT (qtdemux, \"stream is protected using cenc, but no \"\n+        \"cenc protection system information has been found, not setting a \"\n+        \"protection system UUID\");\n+    return TRUE;\n@@ -8368,8 +8599,4 @@\n-  s = gst_caps_get_structure (CUR_STREAM (stream)->caps, 0);\n-  if (!gst_structure_has_name (s, \"application\/x-cenc\")) {\n-    gst_structure_set (s,\n-        \"original-media-type\", G_TYPE_STRING, gst_structure_get_name (s),\n-        GST_PROTECTION_SYSTEM_ID_CAPS_FIELD, G_TYPE_STRING, selected_system,\n-        NULL);\n-    gst_structure_set_name (s, \"application\/x-cenc\");\n-  }\n+  gst_structure_set (s,\n+      GST_PROTECTION_SYSTEM_ID_CAPS_FIELD, G_TYPE_STRING, selected_system,\n+      NULL);\n+\n@@ -8753,1 +8980,1 @@\n-      || stream->subtype == FOURCC_clcp) {\n+      || stream->subtype == FOURCC_clcp || stream->subtype == FOURCC_wvtt) {\n@@ -8789,0 +9016,1 @@\n+      CUR_STREAM (stream)->caps = gst_caps_make_writable(CUR_STREAM (stream)->caps);\n@@ -8793,1 +9021,1 @@\n-      GST_DEBUG_OBJECT (qtdemux, \"setting caps %\" GST_PTR_FORMAT, stream->caps);\n+      GST_DEBUG_OBJECT (qtdemux, \"setting caps %\" GST_PTR_FORMAT, CUR_STREAM (stream)->caps);\n@@ -8858,2 +9086,2 @@\n-      GST_DEBUG_OBJECT (qtdemux, \"found fourcc at offset %\" G_GUINT64_FORMAT,\n-          *offset);\n+      GST_DEBUG_OBJECT (qtdemux, \"found '%\" GST_FOURCC_FORMAT \" at offset %\"\n+          G_GUINT64_FORMAT, GST_FOURCC_ARGS (fourcc), *offset);\n@@ -8864,1 +9092,3 @@\n-          GST_FOURCC_ARGS (fourcc), *offset);\n+          GST_FOURCC_ARGS (lfourcc), *offset);\n+      if (*offset == G_MAXUINT64)\n+        goto locate_failed;\n@@ -9094,1 +9324,1 @@\n-  stream->stts.data = g_memdup (stream->stts.data, stream->stts.size);\n+  stream->stts.data = g_memdup2 (stream->stts.data, stream->stts.size);\n@@ -9117,1 +9347,1 @@\n-    stream->stss.data = g_memdup (stream->stss.data, stream->stss.size);\n+    stream->stss.data = g_memdup2 (stream->stss.data, stream->stss.size);\n@@ -9135,1 +9365,1 @@\n-      stream->stps.data = g_memdup (stream->stps.data, stream->stps.size);\n+      stream->stps.data = g_memdup2 (stream->stps.data, stream->stps.size);\n@@ -9159,1 +9389,1 @@\n-  stream->stsz.data = g_memdup (stream->stsz.data, stream->stsz.size);\n+  stream->stsz.data = g_memdup2 (stream->stsz.data, stream->stsz.size);\n@@ -9177,1 +9407,1 @@\n-  stream->stsc.data = g_memdup (stream->stsc.data, stream->stsc.size);\n+  stream->stsc.data = g_memdup2 (stream->stsc.data, stream->stsc.size);\n@@ -9204,1 +9434,1 @@\n-  stream->stco.data = g_memdup (stream->stco.data, stream->stco.size);\n+  stream->stco.data = g_memdup2 (stream->stco.data, stream->stco.size);\n@@ -9235,0 +9465,2 @@\n+    guint8 ctts_version;\n+    gboolean checked_ctts = FALSE;\n@@ -9237,1 +9469,1 @@\n-    stream->ctts.data = g_memdup (stream->ctts.data, stream->ctts.size);\n+    stream->ctts.data = g_memdup2 (stream->ctts.data, stream->ctts.size);\n@@ -9239,2 +9471,6 @@\n-    \/* skip version + flags *\/\n-    if (!gst_byte_reader_skip (&stream->ctts, 1 + 3)\n+    \/* version 1 has signed offsets *\/\n+    if (!gst_byte_reader_get_uint8 (&stream->ctts, &ctts_version))\n+      goto corrupt_file;\n+\n+    \/* flags *\/\n+    if (!gst_byte_reader_skip (&stream->ctts, 3)\n@@ -9252,3 +9488,4 @@\n-      if (!gst_byte_reader_skip (&cslg, 1 + 3)\n-          || !gst_byte_reader_get_uint32_be (&cslg, &stream->cslg_shift)) {\n-        g_free ((gpointer) cslg.data);\n+      guint8 cslg_version;\n+\n+      \/* cslg version 1 has 64 bit fields *\/\n+      if (!gst_byte_reader_get_uint8 (&cslg, &cslg_version))\n@@ -9256,0 +9493,19 @@\n+\n+      \/* skip flags *\/\n+      if (!gst_byte_reader_skip (&cslg, 3))\n+        goto corrupt_file;\n+\n+      if (cslg_version == 0) {\n+        gint32 composition_to_dts_shift;\n+\n+        if (!gst_byte_reader_get_int32_be (&cslg, &composition_to_dts_shift))\n+          goto corrupt_file;\n+\n+        stream->cslg_shift = MAX (0, composition_to_dts_shift);\n+      } else {\n+        gint64 composition_to_dts_shift;\n+\n+        if (!gst_byte_reader_get_int64_be (&cslg, &composition_to_dts_shift))\n+          goto corrupt_file;\n+\n+        stream->cslg_shift = MAX (0, composition_to_dts_shift);\n@@ -9265,0 +9521,2 @@\n+      checked_ctts = TRUE;\n+\n@@ -9274,1 +9532,2 @@\n-        if (G_UNLIKELY ((ABS (offset) \/ 2) > stream->duration)) {\n+        if (G_UNLIKELY ((ctts_version == 0 || offset != G_MININT32)\n+                && ABS (offset) \/ 2 > stream->duration)) {\n@@ -9277,2 +9536,2 @@\n-              \" larger than duration %\" G_GUINT64_FORMAT,\n-              offset, stream->duration);\n+              \" larger than duration %\" G_GUINT64_FORMAT, offset,\n+              stream->duration);\n@@ -9285,1 +9544,3 @@\n-        if (offset < cslg_least)\n+        \/* Don't consider \"no decode samples\" with offset G_MININT32\n+         * for the DTS\/PTS shift *\/\n+        if (offset != G_MININT32 && offset < cslg_least)\n@@ -9290,1 +9551,1 @@\n-        stream->cslg_shift = ABS (cslg_least);\n+        stream->cslg_shift = -cslg_least;\n@@ -9297,0 +9558,32 @@\n+\n+    \/* Check if ctts values are looking reasonable if that didn't happen above *\/\n+    if (!checked_ctts) {\n+      guint num_entries, pos;\n+      gint i;\n+\n+      pos = gst_byte_reader_get_pos (&stream->ctts);\n+      num_entries = stream->n_composition_times;\n+\n+      for (i = 0; i < num_entries; i++) {\n+        gint32 offset;\n+\n+        gst_byte_reader_skip_unchecked (&stream->ctts, 4);\n+        offset = gst_byte_reader_get_int32_be_unchecked (&stream->ctts);\n+        \/* HACK: if sample_offset is larger than 2 * duration, ignore the box.\n+         * slightly inaccurate PTS could be more usable than corrupted one *\/\n+        if (G_UNLIKELY ((ctts_version == 0 || offset != G_MININT32)\n+                && ABS (offset) \/ 2 > stream->duration)) {\n+          GST_WARNING_OBJECT (qtdemux,\n+              \"Ignore corrupted ctts, sample_offset %\" G_GINT32_FORMAT\n+              \" larger than duration %\" G_GUINT64_FORMAT, offset,\n+              stream->duration);\n+\n+          stream->cslg_shift = 0;\n+          stream->ctts_present = FALSE;\n+          goto done;\n+        }\n+      }\n+\n+      \/* reset the reader so we can generate sample table *\/\n+      gst_byte_reader_set_pos (&stream->ctts, pos);\n+    }\n@@ -9303,0 +9596,3 @@\n+  GST_DEBUG_OBJECT (qtdemux, \"Using clsg_shift %\" G_GUINT64_FORMAT,\n+      stream->cslg_shift);\n+\n@@ -9724,0 +10020,5 @@\n+      \/* FIXME: Set offset to 0 for \"no decode samples\". This needs\n+       * to be handled in a codec specific manner ideally. *\/\n+      if (ctts_soffset == G_MININT32)\n+        ctts_soffset = 0;\n+\n@@ -10310,0 +10611,35 @@\n+static gboolean\n+qtdemux_parse_protection_aavd (GstQTDemux * qtdemux,\n+    QtDemuxStream * stream, GNode * container, guint32 * original_fmt)\n+{\n+  GNode *adrm;\n+  guint32 adrm_size;\n+  GstBuffer *adrm_buf = NULL;\n+  QtDemuxAavdEncryptionInfo *info;\n+\n+  adrm = qtdemux_tree_get_child_by_type (container, FOURCC_adrm);\n+  if (G_UNLIKELY (!adrm)) {\n+    GST_ERROR_OBJECT (qtdemux, \"aavd box does not contain mandatory adrm box\");\n+    return FALSE;\n+  }\n+  adrm_size = QT_UINT32 (adrm->data);\n+  adrm_buf = gst_buffer_new_memdup (adrm->data, adrm_size);\n+\n+  stream->protection_scheme_type = FOURCC_aavd;\n+\n+  if (!stream->protection_scheme_info)\n+    stream->protection_scheme_info = g_new0 (QtDemuxAavdEncryptionInfo, 1);\n+\n+  info = (QtDemuxAavdEncryptionInfo *) stream->protection_scheme_info;\n+\n+  if (info->default_properties)\n+    gst_structure_free (info->default_properties);\n+  info->default_properties = gst_structure_new (\"application\/x-aavd\",\n+      \"encrypted\", G_TYPE_BOOLEAN, TRUE,\n+      \"adrm\", GST_TYPE_BUFFER, adrm_buf, NULL);\n+  gst_buffer_unref (adrm_buf);\n+\n+  *original_fmt = FOURCC_mp4a;\n+  return TRUE;\n+}\n+\n@@ -10336,1 +10672,2 @@\n-    if (stream->protection_scheme_type == FOURCC_cenc) {\n+    if (stream->protection_scheme_type == FOURCC_cenc\n+        || stream->protection_scheme_type == FOURCC_cbcs) {\n@@ -10375,1 +10712,2 @@\n-      stream->protection_scheme_type != FOURCC_piff) {\n+      stream->protection_scheme_type != FOURCC_piff &&\n+      stream->protection_scheme_type != FOURCC_cbcs) {\n@@ -10388,2 +10726,3 @@\n-  if (stream->protection_scheme_type == FOURCC_cenc) {\n-    guint32 is_encrypted;\n+  if (stream->protection_scheme_type == FOURCC_cenc\n+      || stream->protection_scheme_type == FOURCC_cbcs) {\n+    guint8 is_encrypted;\n@@ -10391,0 +10730,1 @@\n+    guint8 constant_iv_size = 0;\n@@ -10392,0 +10732,3 @@\n+    guint8 crypt_byte_block = 0;\n+    guint8 skip_byte_block = 0;\n+    const guint8 *constant_iv = NULL;\n@@ -10400,1 +10743,1 @@\n-    is_encrypted = QT_UINT24 (tenc_data);\n+    is_encrypted = QT_UINT8 (tenc_data + 2);\n@@ -10403,2 +10746,18 @@\n-    qtdemux_update_default_sample_encryption_settings (qtdemux, info,\n-        is_encrypted, iv_size, default_kid);\n+    if (stream->protection_scheme_type == FOURCC_cbcs) {\n+      guint8 possible_pattern_info;\n+      if (iv_size == 0) {\n+        constant_iv_size = QT_UINT8 (tenc_data + 20);\n+        if (constant_iv_size != 8 && constant_iv_size != 16) {\n+          GST_ERROR_OBJECT (qtdemux,\n+              \"constant IV size should be 8 or 16, not %hhu\", constant_iv_size);\n+          return FALSE;\n+        }\n+        constant_iv = (tenc_data + 21);\n+      }\n+      possible_pattern_info = QT_UINT8 (tenc_data + 1);\n+      crypt_byte_block = (possible_pattern_info >> 4) & 0x0f;\n+      skip_byte_block = possible_pattern_info & 0x0f;\n+    }\n+    qtdemux_update_default_sample_cenc_settings (qtdemux, info,\n+        is_encrypted, stream->protection_scheme_type, iv_size, default_kid,\n+        crypt_byte_block, skip_byte_block, constant_iv_size, constant_iv);\n@@ -10771,0 +11130,13 @@\n+    if (fourcc == FOURCC_aavd) {\n+      if (stream->subtype != FOURCC_soun) {\n+        GST_ERROR_OBJECT (qtdemux,\n+            \"Unexpeced stsd type 'aavd' outside 'soun' track\");\n+      } else {\n+        \/* encrypted audio with sound sample description v0 *\/\n+        GNode *enc = qtdemux_tree_get_child_by_type (stsd, fourcc);\n+        stream->protected = TRUE;\n+        if (!qtdemux_parse_protection_aavd (qtdemux, stream, enc, &fourcc))\n+          GST_ERROR_OBJECT (qtdemux, \"Failed to parse protection scheme info\");\n+      }\n+    }\n+\n@@ -10835,1 +11207,1 @@\n-            palette_data = g_memdup (ff_qt_default_palette_2, palette_size);\n+            palette_data = g_memdup2 (ff_qt_default_palette_2, palette_size);\n@@ -10838,1 +11210,1 @@\n-            palette_data = g_memdup (ff_qt_default_palette_4, palette_size);\n+            palette_data = g_memdup2 (ff_qt_default_palette_4, palette_size);\n@@ -10843,1 +11215,1 @@\n-                  g_memdup (ff_qt_grayscale_palette_16, palette_size);\n+                  g_memdup2 (ff_qt_grayscale_palette_16, palette_size);\n@@ -10845,1 +11217,1 @@\n-              palette_data = g_memdup (ff_qt_default_palette_16, palette_size);\n+              palette_data = g_memdup2 (ff_qt_default_palette_16, palette_size);\n@@ -10850,1 +11222,1 @@\n-                  g_memdup (ff_qt_grayscale_palette_256, palette_size);\n+                  g_memdup2 (ff_qt_grayscale_palette_256, palette_size);\n@@ -10852,1 +11224,2 @@\n-              palette_data = g_memdup (ff_qt_default_palette_256, palette_size);\n+              palette_data =\n+                  g_memdup2 (ff_qt_default_palette_256, palette_size);\n@@ -12277,1 +12650,1 @@\n-          const guint8 *opus_data;\n+          const guint8 *dops_data;\n@@ -12286,1 +12659,5 @@\n-          opus_data = stsd_entry_data;\n+          version = GST_READ_UINT16_BE (stsd_entry_data + 16);\n+          if (version == 1)\n+            dops_data = stsd_entry_data + 51;\n+          else\n+            dops_data = stsd_entry_data + 35;\n@@ -12288,5 +12665,5 @@\n-          channels = GST_READ_UINT8 (opus_data + 45);\n-          rate = GST_READ_UINT32_LE (opus_data + 48);\n-          channel_mapping_family = GST_READ_UINT8 (opus_data + 54);\n-          stream_count = GST_READ_UINT8 (opus_data + 55);\n-          coupled_count = GST_READ_UINT8 (opus_data + 56);\n+          channels = GST_READ_UINT8 (dops_data + 10);\n+          rate = GST_READ_UINT32_LE (dops_data + 13);\n+          channel_mapping_family = GST_READ_UINT8 (dops_data + 19);\n+          stream_count = GST_READ_UINT8 (dops_data + 20);\n+          coupled_count = GST_READ_UINT8 (dops_data + 21);\n@@ -12297,1 +12674,1 @@\n-              channel_mapping[i] = GST_READ_UINT8 (opus_data + i + 57);\n+              channel_mapping[i] = GST_READ_UINT8 (dops_data + i + 22);\n@@ -12327,0 +12704,1 @@\n+      esds = NULL;\n@@ -12329,3 +12707,8 @@\n-        if (stream->protected && QTDEMUX_TREE_NODE_FOURCC (mp4a) != FOURCC_enca)\n-          mp4a = NULL;\n-        else if (!stream->protected)\n+        if (stream->protected) {\n+          if (QTDEMUX_TREE_NODE_FOURCC (mp4a) == FOURCC_aavd) {\n+            esds = qtdemux_tree_get_child_by_type (mp4a, FOURCC_esds);\n+          }\n+          if (QTDEMUX_TREE_NODE_FOURCC (mp4a) != FOURCC_enca) {\n+            mp4a = NULL;\n+          }\n+        } else {\n@@ -12333,0 +12716,1 @@\n+        }\n@@ -12336,1 +12720,0 @@\n-      esds = NULL;\n@@ -12613,0 +12996,7 @@\n+            guint16 sound_version = 0;\n+            \/* FIXME: Can this be determined somehow? There doesn't seem to be\n+             * anything in mp4a atom that specifis compression *\/\n+            gint profile = 2;\n+            guint16 channels = entry->n_channels;\n+            guint32 time_scale = (guint32) entry->rate;\n+            gint sample_rate_index = -1;\n@@ -12615,1 +13005,1 @@\n-              guint16 sound_version = QT_UINT16 (stsd_entry_data + 16);\n+              sound_version = QT_UINT16 (stsd_entry_data + 16);\n@@ -12618,20 +13008,5 @@\n-                guint16 channels = QT_UINT16 (stsd_entry_data + 24);\n-                guint32 time_scale = QT_UINT32 (stsd_entry_data + 30);\n-                guint8 codec_data[2];\n-                GstBuffer *buf;\n-                gint profile = 2;       \/* FIXME: Can this be determined somehow? There doesn't seem to be anything in mp4a atom that specifis compression *\/\n-\n-                gint sample_rate_index =\n-                    gst_codec_utils_aac_get_index_from_sample_rate (time_scale);\n-\n-                \/* build AAC codec data *\/\n-                codec_data[0] = profile << 3;\n-                codec_data[0] |= ((sample_rate_index >> 1) & 0x7);\n-                codec_data[1] = (sample_rate_index & 0x01) << 7;\n-                codec_data[1] |= (channels & 0xF) << 3;\n-\n-                buf = gst_buffer_new_and_alloc (2);\n-                gst_buffer_fill (buf, 0, codec_data, 2);\n-                gst_caps_set_simple (entry->caps,\n-                    \"codec_data\", GST_TYPE_BUFFER, buf, NULL);\n-                gst_buffer_unref (buf);\n+                channels = QT_UINT16 (stsd_entry_data + 24);\n+                time_scale = QT_UINT32 (stsd_entry_data + 30);\n+              } else {\n+                GST_FIXME_OBJECT (qtdemux, \"Unhandled mp4a atom version %d\",\n+                    sound_version);\n@@ -12639,0 +13014,22 @@\n+            } else {\n+              GST_DEBUG_OBJECT (qtdemux, \"Too small stsd entry data len %d\",\n+                  len);\n+            }\n+\n+            sample_rate_index =\n+                gst_codec_utils_aac_get_index_from_sample_rate (time_scale);\n+            if (sample_rate_index >= 0 && channels > 0) {\n+              guint8 codec_data[2];\n+              GstBuffer *buf;\n+\n+              \/* build AAC codec data *\/\n+              codec_data[0] = profile << 3;\n+              codec_data[0] |= ((sample_rate_index >> 1) & 0x7);\n+              codec_data[1] = (sample_rate_index & 0x01) << 7;\n+              codec_data[1] |= (channels & 0xF) << 3;\n+\n+              buf = gst_buffer_new_and_alloc (2);\n+              gst_buffer_fill (buf, 0, codec_data, 2);\n+              gst_caps_set_simple (entry->caps,\n+                  \"codec_data\", GST_TYPE_BUFFER, buf, NULL);\n+              gst_buffer_unref (buf);\n@@ -12671,1 +13068,1 @@\n-        || stream->subtype == FOURCC_clcp) {\n+        || stream->subtype == FOURCC_clcp || stream->subtype == FOURCC_wvtt) {\n@@ -12771,1 +13168,1 @@\n-    qtdemux->moof_offset = 0;\n+    qtdemux->moof_offset = offset;\n@@ -12959,1 +13356,1 @@\n-  GST_DEBUG_OBJECT (qtdemux, \"prepare streams\");\n+  GST_DEBUG_OBJECT (qtdemux, \"prepare %u streams\", QTDEMUX_N_STREAMS (qtdemux));\n@@ -12968,1 +13365,1 @@\n-    if (qtdemux->fragmented) {\n+    if (qtdemux->fragmented && qtdemux->pullbased) {\n@@ -13046,2 +13443,3 @@\n-  \/* unset new_stream to prevent stream-start event *\/\n-  newstream->new_stream = FALSE;\n+  \/* unset new_stream to prevent stream-start event, unless we are EOS in which\n+   * case we need to force one through *\/\n+  newstream->new_stream = GST_PAD_IS_EOS (newstream->pad);\n@@ -13052,0 +13450,3 @@\n+#if defined(GSTREAMER_LITE) && defined(LINUX)\n+\/\/ Revert https:\/\/gitlab.freedesktop.org\/gstreamer\/gstreamer\/-\/commit\/0429c24637f72eaa6b98c06f090d603f298e0f6a,\n+\/\/ so we can run with older GLib versions.\n@@ -13054,1 +13455,1 @@\n-#if !GLIB_CHECK_VERSION(2,54,0)\n+#ifndef g_ptr_array_find_with_equal_func\n@@ -13077,1 +13478,2 @@\n-#endif\n+#endif \/\/ g_ptr_array_find_with_equal_func\n+#endif \/\/ GSTREAMER_LITE and LINUX\n@@ -13382,1 +13784,1 @@\n-                g_list_prepend (redirects, g_memdup (&ref, sizeof (ref)));\n+                g_list_prepend (redirects, g_memdup2 (&ref, sizeof (ref)));\n@@ -13661,1 +14063,1 @@\n-    hdr = gst_buffer_new_wrapped (g_memdup (p + offset, length[i]), length[i]);\n+    hdr = gst_buffer_new_memdup (p + offset, length[i]);\n@@ -14467,0 +14869,6 @@\n+\n+      \/* 24 bits per sample = an alpha channel is coded but image is always opaque *\/\n+      if (entry->bits_per_sample > 0) {\n+        gst_caps_set_simple (caps, \"depth\", G_TYPE_INT, entry->bits_per_sample,\n+            NULL);\n+      }\n@@ -14473,0 +14881,6 @@\n+\n+      \/* 24 bits per sample = an alpha channel is coded but image is always opaque *\/\n+      if (entry->bits_per_sample > 0) {\n+        gst_caps_set_simple (caps, \"depth\", G_TYPE_INT, entry->bits_per_sample,\n+            NULL);\n+      }\n@@ -14880,1 +15294,1 @@\n-      stream->need_process = TRUE;\n+      stream->process_func = gst_qtdemux_process_buffer_dvd;\n@@ -14891,1 +15305,1 @@\n-      stream->need_process = TRUE;\n+      stream->process_func = gst_qtdemux_process_buffer_text;\n@@ -14897,0 +15311,16 @@\n+    case FOURCC_wvtt:\n+    {\n+      GstBuffer *buffer;\n+      const gchar *buf = \"WEBVTT\\n\\n\";\n+\n+      _codec (\"WebVTT subtitles\");\n+      caps = gst_caps_new_empty_simple (\"application\/x-subtitle-vtt\");\n+      stream->process_func = gst_qtdemux_process_buffer_wvtt;\n+\n+      \/* FIXME: Parse the vttC atom and get the entire WEBVTT header *\/\n+      buffer = gst_buffer_new_and_alloc (8);\n+      gst_buffer_fill (buffer, 0, buf, 8);\n+      stream->buffers = g_slist_append (stream->buffers, buffer);\n+\n+      break;\n+    }\n@@ -14902,1 +15332,1 @@\n-      stream->need_process = TRUE;\n+      stream->process_func = gst_qtdemux_process_buffer_clcp;\n@@ -14910,1 +15340,1 @@\n-      stream->need_process = TRUE;\n+      stream->process_func = gst_qtdemux_process_buffer_clcp;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux.c","additions":598,"deletions":168,"binary":false,"changes":766,"status":"modified"},{"patch":"@@ -58,0 +58,2 @@\n+typedef GstBuffer * (*QtDemuxProcessFunc)(GstQTDemux * qtdemux, QtDemuxStream * stream, GstBuffer * buf);\n+\n@@ -397,2 +399,4 @@\n-  \/* buffer needs some custom processing, e.g. subtitles *\/\n-  gboolean need_process;\n+  \/* If the buffer needs some custom processing, e.g. subtitles, pass them\n+   * through this function *\/\n+  QtDemuxProcessFunc process_func;\n+\n@@ -479,2 +483,10 @@\n-  \/* cslg *\/\n-  guint32 cslg_shift;\n+  \/* cslg composition_to_dts_shift or based on the smallest negative\n+   * composition time offset.\n+   *\n+   * This is unsigned because only negative composition time offsets \/\n+   * positive composition_to_dts_shift matter here. In all other cases,\n+   * DTS\/PTS can be inferred directly without ending up with PTS>DTS.\n+   *\n+   * See 14496-12 6.4\n+   *\/\n+  guint64 cslg_shift;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux.h","additions":16,"deletions":4,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -580,2 +580,1 @@\n-  guint32 ver_flags = 0, shift = 0;\n-  gint32 least_offset = 0, start_time = 0, end_time = 0;\n+  guint32 ver_flags = 0;\n@@ -583,5 +582,1 @@\n-  if (!gst_byte_reader_get_uint32_be (data, &ver_flags) ||\n-      !gst_byte_reader_get_uint32_be (data, &shift) ||\n-      !gst_byte_reader_get_int32_be (data, &least_offset) ||\n-      !gst_byte_reader_get_int32_be (data, &start_time) ||\n-      !gst_byte_reader_get_int32_be (data, &end_time))\n+  if (!gst_byte_reader_get_uint32_be (data, &ver_flags))\n@@ -591,4 +586,25 @@\n-  GST_LOG (\"%*s  shift:         %u\", depth, \"\", shift);\n-  GST_LOG (\"%*s  least offset:  %d\", depth, \"\", least_offset);\n-  GST_LOG (\"%*s  start time:    %d\", depth, \"\", start_time);\n-  GST_LOG (\"%*s  end time:      %d\", depth, \"\", end_time);\n+\n+  if (ver_flags >> 24 == 0) {\n+    gint32 shift = 0, least_offset = 0, start_time = 0, end_time = 0;\n+    if (!gst_byte_reader_get_int32_be (data, &shift) ||\n+        !gst_byte_reader_get_int32_be (data, &least_offset) ||\n+        !gst_byte_reader_get_int32_be (data, &start_time) ||\n+        !gst_byte_reader_get_int32_be (data, &end_time))\n+      return FALSE;\n+    GST_LOG (\"%*s  shift:         %d\", depth, \"\", shift);\n+    GST_LOG (\"%*s  least offset:  %d\", depth, \"\", least_offset);\n+    GST_LOG (\"%*s  start time:    %d\", depth, \"\", start_time);\n+    GST_LOG (\"%*s  end time:      %d\", depth, \"\", end_time);\n+  } else {\n+    gint64 shift = 0, least_offset = 0, start_time = 0, end_time = 0;\n+    if (!gst_byte_reader_get_int64_be (data, &shift) ||\n+        !gst_byte_reader_get_int64_be (data, &least_offset) ||\n+        !gst_byte_reader_get_int64_be (data, &start_time) ||\n+        !gst_byte_reader_get_int64_be (data, &end_time))\n+      return FALSE;\n+\n+    GST_LOG (\"%*s  shift:         %\" G_GINT64_FORMAT, depth, \"\", shift);\n+    GST_LOG (\"%*s  least offset:  %\" G_GINT64_FORMAT, depth, \"\", least_offset);\n+    GST_LOG (\"%*s  start time:    %\" G_GINT64_FORMAT, depth, \"\", start_time);\n+    GST_LOG (\"%*s  end time:      %\" G_GINT64_FORMAT, depth, \"\", end_time);\n+  }\n@@ -815,1 +831,1 @@\n-      GST_TRACE (\"%*s    composition_time_offsets:  %u\", depth, \"\",\n+      GST_TRACE (\"%*s    composition_time_offsets:  %d\", depth, \"\",\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux_dump.c","additions":28,"deletions":12,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -90,0 +90,1 @@\n+  {FOURCC_pasp, \"pasp\", 0,},\n@@ -221,0 +222,1 @@\n+  {FOURCC_wvtt, \"WebVTT subtitle sample entry\", 0},\n@@ -228,0 +230,3 @@\n+  {FOURCC_aavd, \"AAX encrypted audio\", 0},\n+  {FOURCC_adrm, \"AAX DRM key data\", 0},\n+  {FOURCC_vttc, \"VTTCueBox 14496-30\", QT_FLAG_CONTAINER},\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/isomp4\/qtdemux_types.c","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -105,0 +105,2 @@\n+GST_ELEMENT_REGISTER_DEFINE (spectrum, \"spectrum\", GST_RANK_NONE,\n+    GST_TYPE_SPECTRUM);\n@@ -1069,2 +1071,2 @@\n-  return gst_element_register (plugin, \"spectrum\", GST_RANK_NONE,\n-      GST_TYPE_SPECTRUM);\n+\n+  return GST_ELEMENT_REGISTER (spectrum, plugin);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/spectrum\/gstspectrum.c","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -117,0 +117,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (spectrum);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/spectrum\/gstspectrum.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,0 +125,4 @@\n+GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (wavparse, \"wavparse\", GST_RANK_PRIMARY,\n+    GST_TYPE_WAVPARSE, gst_riff_init ();\n+    );\n+\n@@ -853,1 +857,0 @@\n-  data += 8;\n@@ -855,1 +858,1 @@\n-  labl->text = g_memdup (data + 4, size - 4);\n+  labl->text = g_strndup ((const gchar *) data + 4, size - 4);\n@@ -883,1 +886,0 @@\n-  data += 8;\n@@ -885,1 +887,1 @@\n-  note->text = g_memdup (data + 4, size - 4);\n+  note->text = g_strndup ((const gchar *) data + 4, size - 4);\n@@ -947,1 +949,1 @@\n-    if (lsize + 8 > size) {\n+    if (lsize > (G_MAXUINT - 8) || lsize + 8 > size) {\n@@ -954,1 +956,1 @@\n-        gst_wavparse_labl_chunk (wav, data + offset, size);\n+        gst_wavparse_labl_chunk (wav, data + offset + 8, lsize);\n@@ -957,1 +959,1 @@\n-        gst_wavparse_note_chunk (wav, data + offset, size);\n+        gst_wavparse_note_chunk (wav, data + offset + 8, lsize);\n@@ -1969,1 +1971,2 @@\n-  if (s && gst_structure_has_name (s, \"audio\/x-raw\") && buf != NULL) {\n+  if (s && gst_structure_has_name (s, \"audio\/x-raw\") && buf != NULL\n+      && (GST_BUFFER_OFFSET (buf) == 0 || !GST_BUFFER_OFFSET_IS_VALID (buf))) {\n@@ -3029,1 +3032,0 @@\n-      gst_wavparse_reset (wav);\n@@ -3101,4 +3103,1 @@\n-  gst_riff_init ();\n-\n-  return gst_element_register (plugin, \"wavparse\", GST_RANK_PRIMARY,\n-      GST_TYPE_WAVPARSE);\n+  return GST_ELEMENT_REGISTER (wavparse, plugin);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/wavparse\/gstwavparse.c","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -136,0 +136,2 @@\n+GST_ELEMENT_REGISTER_DECLARE (wavparse);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/gst\/wavparse\/gstwavparse.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -88,0 +88,1 @@\n+    gst_type_mark_as_plugin_api (GST_OSX_AUDIO_ELEMENT_TYPE, 0);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxaudioelement.c","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -200,1 +200,1 @@\n-  gst_element_class_set_static_metadata (gstelement_class, \"Audio Sink (OSX)\",\n+  gst_element_class_set_static_metadata (gstelement_class, \"Audio Sink (macOS)\",\n@@ -202,1 +202,1 @@\n-      \"Output to a sound card in OS X\",\n+      \"Output to a sound card on macOS\",\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxaudiosink.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -157,3 +157,3 @@\n-  gst_element_class_set_static_metadata (gstelement_class, \"Audio Source (OSX)\",\n-      \"Source\/Audio\",\n-      \"Input from a sound card in OS X\",\n+  gst_element_class_set_static_metadata (gstelement_class,\n+      \"Audio Source (macOS)\", \"Source\/Audio\",\n+      \"Input from a sound card on macOS\",\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxaudiosrc.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -66,2 +66,1 @@\n-\/* TODO: Consider raising to 64 *\/\n-#define GST_OSX_AUDIO_MAX_CHANNEL (9)\n+#define GST_OSX_AUDIO_MAX_CHANNEL (64)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-good\/sys\/osxaudio\/gstosxcoreaudio.h","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1,2 +1,2 @@\n-\t\t  GNU LIBRARY GENERAL PUBLIC LICENSE\n-\t\t       Version 2, June 1991\n+\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n+\t\t       Version 2.1, February 1999\n@@ -4,2 +4,2 @@\n- Copyright (C) 1991 Free Software Foundation, Inc.\n-                    51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA\n+ Copyright (C) 1991, 1999 Free Software Foundation, Inc.\n+     51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n@@ -9,2 +9,3 @@\n-[This is the first released version of the library GPL.  It is\n- numbered 2 because it goes with version 2 of the ordinary GPL.]\n+[This is the first released version of the Lesser GPL.  It also counts\n+ as the successor of the GNU Library Public License, version 2, hence\n+ the version number 2.1.]\n@@ -19,11 +20,14 @@\n-  This license, the Library General Public License, applies to some\n-specially designated Free Software Foundation software, and to any\n-other libraries whose authors decide to use it.  You can use it for\n-your libraries, too.\n-\n-  When we speak of free software, we are referring to freedom, not\n-price.  Our General Public Licenses are designed to make sure that you\n-have the freedom to distribute copies of free software (and charge for\n-this service if you wish), that you receive source code or can get it\n-if you want it, that you can change the software or use pieces of it\n-in new free programs; and that you know you can do these things.\n+  This license, the Lesser General Public License, applies to some\n+specially designated software packages--typically libraries--of the\n+Free Software Foundation and other authors who decide to use it.  You\n+can use it too, but we suggest you first think carefully about whether\n+this license or the ordinary General Public License is the better\n+strategy to use in any particular case, based on the explanations below.\n+\n+  When we speak of free software, we are referring to freedom of use,\n+not price.  Our General Public Licenses are designed to make sure that\n+you have the freedom to distribute copies of free software (and charge\n+for this service if you wish); that you receive source code or can get\n+it if you want it; that you can change the software and use pieces of\n+it in new free programs; and that you are informed that you can do\n+these things.\n@@ -32,3 +36,3 @@\n-anyone to deny you these rights or to ask you to surrender the rights.\n-These restrictions translate to certain responsibilities for you if\n-you distribute copies of the library, or if you modify it.\n+distributors to deny you these rights or to ask you to surrender these\n+rights.  These restrictions translate to certain responsibilities for\n+you if you distribute copies of the library or if you modify it.\n@@ -39,3 +43,3 @@\n-code.  If you link a program with the library, you must provide\n-complete object files to the recipients so that they can relink them\n-with the library, after making changes to the library and recompiling\n+code.  If you link other code with the library, you must provide\n+complete object files to the recipients, so that they can relink them\n+with the library after making changes to the library and recompiling\n@@ -44,2 +48,2 @@\n-  Our method of protecting your rights has two steps: (1) copyright\n-the library, and (2) offer you this license which gives you legal\n+  We protect your rights with a two-step method: (1) we copyright the\n+library, and (2) we offer you this license, which gives you legal\n@@ -48,6 +52,6 @@\n-  Also, for each distributor's protection, we want to make certain\n-that everyone understands that there is no warranty for this free\n-library.  If the library is modified by someone else and passed on, we\n-want its recipients to know that what they have is not the original\n-version, so that any problems introduced by others will not reflect on\n-the original authors' reputations.\n+  To protect each distributor, we want to make it very clear that\n+there is no warranty for the free library.  Also, if the library is\n+modified by someone else and passed on, the recipients should know\n+that what they have is not the original version, so that the original\n+author's reputation will not be affected by problems that might be\n+introduced by others.\n@@ -55,37 +59,49 @@\n-  Finally, any free program is threatened constantly by software\n-patents.  We wish to avoid the danger that companies distributing free\n-software will individually obtain patent licenses, thus in effect\n-transforming the program into proprietary software.  To prevent this,\n-we have made it clear that any patent must be licensed for everyone's\n-free use or not licensed at all.\n-\n-  Most GNU software, including some libraries, is covered by the ordinary\n-GNU General Public License, which was designed for utility programs.  This\n-license, the GNU Library General Public License, applies to certain\n-designated libraries.  This license is quite different from the ordinary\n-one; be sure to read it in full, and don't assume that anything in it is\n-the same as in the ordinary license.\n-\n-  The reason we have a separate public license for some libraries is that\n-they blur the distinction we usually make between modifying or adding to a\n-program and simply using it.  Linking a program with a library, without\n-changing the library, is in some sense simply using the library, and is\n-analogous to running a utility program or application program.  However, in\n-a textual and legal sense, the linked executable is a combined work, a\n-derivative of the original library, and the ordinary General Public License\n-treats it as such.\n-\n-  Because of this blurred distinction, using the ordinary General\n-Public License for libraries did not effectively promote software\n-sharing, because most developers did not use the libraries.  We\n-concluded that weaker conditions might promote sharing better.\n-\n-  However, unrestricted linking of non-free programs would deprive the\n-users of those programs of all benefit from the free status of the\n-libraries themselves.  This Library General Public License is intended to\n-permit developers of non-free programs to use free libraries, while\n-preserving your freedom as a user of such programs to change the free\n-libraries that are incorporated in them.  (We have not seen how to achieve\n-this as regards changes in header files, but we have achieved it as regards\n-changes in the actual functions of the Library.)  The hope is that this\n-will lead to faster development of free libraries.\n+  Finally, software patents pose a constant threat to the existence of\n+any free program.  We wish to make sure that a company cannot\n+effectively restrict the users of a free program by obtaining a\n+restrictive license from a patent holder.  Therefore, we insist that\n+any patent license obtained for a version of the library must be\n+consistent with the full freedom of use specified in this license.\n+\n+  Most GNU software, including some libraries, is covered by the\n+ordinary GNU General Public License.  This license, the GNU Lesser\n+General Public License, applies to certain designated libraries, and\n+is quite different from the ordinary General Public License.  We use\n+this license for certain libraries in order to permit linking those\n+libraries into non-free programs.\n+\n+  When a program is linked with a library, whether statically or using\n+a shared library, the combination of the two is legally speaking a\n+combined work, a derivative of the original library.  The ordinary\n+General Public License therefore permits such linking only if the\n+entire combination fits its criteria of freedom.  The Lesser General\n+Public License permits more lax criteria for linking other code with\n+the library.\n+\n+  We call this license the \"Lesser\" General Public License because it\n+does Less to protect the user's freedom than the ordinary General\n+Public License.  It also provides other free software developers Less\n+of an advantage over competing non-free programs.  These disadvantages\n+are the reason we use the ordinary General Public License for many\n+libraries.  However, the Lesser license provides advantages in certain\n+special circumstances.\n+\n+  For example, on rare occasions, there may be a special need to\n+encourage the widest possible use of a certain library, so that it becomes\n+a de-facto standard.  To achieve this, non-free programs must be\n+allowed to use the library.  A more frequent case is that a free\n+library does the same job as widely used non-free libraries.  In this\n+case, there is little to gain by limiting the free library to free\n+software only, so we use the Lesser General Public License.\n+\n+  In other cases, permission to use a particular library in non-free\n+programs enables a greater number of people to use a large body of\n+free software.  For example, permission to use the GNU C Library in\n+non-free programs enables many more people to use the whole GNU\n+operating system, as well as its variant, the GNU\/Linux operating\n+system.\n+\n+  Although the Lesser General Public License is Less protective of the\n+users' freedom, it does ensure that the user of a program that is\n+linked with the Library has the freedom and the wherewithal to run\n+that program using a modified version of the Library.\n@@ -96,5 +112,2 @@\n-former contains code derived from the library, while the latter only\n-works together with the library.\n-\n-  Note that it is possible for a library to be covered by the ordinary\n-General Public License rather than by this special one.\n+former contains code derived from the library, whereas the latter must\n+be combined with the library in order to run.\n@@ -102,1 +115,1 @@\n-\t\t  GNU LIBRARY GENERAL PUBLIC LICENSE\n+\t\t  GNU LESSER GENERAL PUBLIC LICENSE\n@@ -105,5 +118,5 @@\n-  0. This License Agreement applies to any software library which\n-contains a notice placed by the copyright holder or other authorized\n-party saying it may be distributed under the terms of this Library\n-General Public License (also called \"this License\").  Each licensee is\n-addressed as \"you\".\n+  0. This License Agreement applies to any software library or other\n+program which contains a notice placed by the copyright holder or\n+other authorized party saying it may be distributed under the terms of\n+this Lesser General Public License (also called \"this License\").\n+Each licensee is addressed as \"you\".\n@@ -136,1 +149,1 @@\n-  \n+\n@@ -258,1 +271,1 @@\n-  6. As an exception to the Sections above, you may also compile or\n+  6. As an exception to the Sections above, you may also combine or\n@@ -285,1 +298,9 @@\n-    b) Accompany the work with a written offer, valid for at\n+    b) Use a suitable shared library mechanism for linking with the\n+    Library.  A suitable mechanism is one that (1) uses at run time a\n+    copy of the library already present on the user's computer system,\n+    rather than copying library functions into the executable, and (2)\n+    will operate properly with a modified version of the library, if\n+    the user installs one, as long as the modified version is\n+    interface-compatible with the version that the work was made with.\n+\n+    c) Accompany the work with a written offer, valid for at\n@@ -290,1 +311,1 @@\n-    c) If distribution of the work is made by offering access to copy\n+    d) If distribution of the work is made by offering access to copy\n@@ -294,1 +315,1 @@\n-    d) Verify that the user has already received a copy of these\n+    e) Verify that the user has already received a copy of these\n@@ -300,2 +321,2 @@\n-the source code distributed need not include anything that is normally\n-distributed (in either source or binary form) with the major\n+the materials to be distributed need not include anything that is\n+normally distributed (in either source or binary form) with the major\n@@ -350,1 +371,1 @@\n-You are not responsible for enforcing compliance by third parties to\n+You are not responsible for enforcing compliance by third parties with\n@@ -393,1 +414,1 @@\n-versions of the Library General Public License from time to time.\n+versions of the Lesser General Public License from time to time.\n@@ -439,1 +460,1 @@\n-     Appendix: How to Apply These Terms to Your New Libraries\n+           How to Apply These Terms to Your New Libraries\n@@ -456,1 +477,1 @@\n-    modify it under the terms of the GNU Library General Public\n+    modify it under the terms of the GNU Lesser General Public\n@@ -458,1 +479,1 @@\n-    version 2 of the License, or (at your option) any later version.\n+    version 2.1 of the License, or (at your option) any later version.\n@@ -463,1 +484,1 @@\n-    Library General Public License for more details.\n+    Lesser General Public License for more details.\n@@ -465,3 +486,3 @@\n-    You should have received a copy of the GNU Library General Public\n-    License along with this library; if not, write to the Free\n-    Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+    You should have received a copy of the GNU Lesser General Public\n+    License along with this library; if not, write to the Free Software\n+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n@@ -482,0 +503,1 @@\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/COPYING","additions":117,"deletions":95,"binary":false,"changes":212,"status":"modified"},{"patch":"@@ -30,0 +30,24 @@\n+#ifdef GSTREAMER_LITE\n+#ifdef LINUX\n+\/\/ Redefine GLIB_CHECK_VERSION.\n+\/\/ On Linux we using GLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_48 and\n+\/\/ GLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_48, so we can build and run with\n+\/\/ glib starting with 2.48. These defines has no effect on GLIB_CHECK_VERSION\n+\/\/ and this macro is evaluated based on GLib version we using during build, so\n+\/\/ we need to change it to pretend that we building with 2.48\n+#undef GLIB_CHECK_VERSION\n+#define GLIB_CHECK_VERSION(major,minor,micro)    \\\n+    (2 > (major) || \\\n+     (2 == (major) && 48 > (minor)) || \\\n+     (2 == (major) && 48 == (minor) && \\\n+      0 >= (micro)))\n+#endif \/\/ LINUX\n+#endif \/\/ GSTREAMER_LITE\n+\n+#ifdef GSTREAMER_LITE\n+#if !defined(g_abort)\n+#include <stdlib.h>\n+#define g_abort() abort()\n+#endif \/\/ g_abort\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -33,0 +57,3 @@\n+#if !GLIB_CHECK_VERSION(2, 67, 4)\n+#define g_memdup2(ptr,sz) ((G_LIKELY(((guint64)(sz)) < G_MAXUINT)) ? g_memdup(ptr,sz) : (g_abort(),NULL))\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/glib-compat-private.h","additions":27,"deletions":0,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -30,6 +30,12 @@\n- * (termed elements here) that will handle streaming media.  Any discrete\n- * (packetizable) media type is supported, with provisions for automatically\n- * determining source type.  Formatting\/framing information is provided with\n- * a powerful negotiation framework.  Plugins are heavily used to provide for\n- * all elements, allowing one to construct plugins outside of the GST\n- * library, even released binary-only if license require (please don't).\n+ * (termed elements here) that will handle streaming media.\n+ *\n+ * Any discrete (packetizable) media type is supported, with provisions for\n+ * automatically determining source type.\n+ *\n+ * Formatting\/framing information is provided with a powerful negotiation\n+ * framework.\n+ *\n+ * Plugins are heavily used to provide for all elements, allowing one to\n+ * construct plugins outside of the GST library, even released binary-only if\n+ * license require (please don't).\n+ *\n@@ -40,2 +46,2 @@\n- * gst_init() before it can be used. You should pass pointers to the main argc\n- * and argv variables so that GStreamer can process its own command line\n+ * gst_init() before it can be used. You should pass pointers to the main `argc`\n+ * and `argv` variables so that GStreamer can process its own command line\n@@ -46,3 +52,2 @@\n- * |[ <!-- language=\"C\" -->\n- * int\n- * main (int argc, char *argv[])\n+ * ``` C\n+ * int main (int argc, char *argv[])\n@@ -51,1 +56,1 @@\n- *   gst_init (&amp;argc, &amp;argv);\n+ *   gst_init (&argc, &argv);\n@@ -54,1 +59,1 @@\n- * ]|\n+ * ```\n@@ -59,1 +64,1 @@\n- * You can also use GOption to initialize your own parameters as shown in\n+ * You can also use #GOptionContext to initialize your own parameters as shown in\n@@ -62,2 +67,3 @@\n- * ## Initializing own parameters when initializing gstreamer\n- * |[ <!-- language=\"C\" -->\n+ * ## Initializing own parameters when initializing GStreamer\n+ *\n+ * ``` C\n@@ -70,1 +76,1 @@\n- *   {\"tags\", 't', 0, G_OPTION_ARG_NONE, &amp;tags,\n+ *   {\"tags\", 't', 0, G_OPTION_ARG_NONE, &tags,\n@@ -77,2 +83,2 @@\n- *  if (!g_option_context_parse (ctx, &amp;argc, &amp;argv, &amp;err)) {\n- *    g_print (\"Error initializing: &percnt;s\\n\", GST_STR_NULL (err->message));\n+ *  if (!g_option_context_parse (ctx, &argc, &argv, &err)) {\n+ *    g_print (\"Error initializing: %s\\n\", GST_STR_NULL (err->message));\n@@ -84,1 +90,1 @@\n- * ]|\n+ * ```\n@@ -132,0 +138,1 @@\n+static GMutex init_lock;\n@@ -168,2 +175,0 @@\n-const gchar g_log_domain_gstreamer[] = \"GStreamer\";\n-\n@@ -399,1 +404,1 @@\n- * @err: pointer to a #GError to which a message will be posted on error\n+ * @error: pointer to a #GError to which a message will be posted on error\n@@ -411,1 +416,1 @@\n-gst_init_check (int *argc, char **argv[], GError ** err)\n+gst_init_check (int *argc, char **argv[], GError ** error)\n@@ -413,1 +418,0 @@\n-  static GMutex init_lock;\n@@ -442,1 +446,1 @@\n-  res = g_option_context_parse (ctx, argc, argv, err);\n+  res = g_option_context_parse (ctx, argc, argv, error);\n@@ -472,3 +476,3 @@\n- * > This function will terminate your program if it was unable to initialize\n- * > GStreamer for some reason.  If you want your program to fall back,\n- * > use gst_init_check() instead.\n+ * WARNING: This function will terminate your program if it was unable to\n+ * initialize GStreamer for some reason. If you want your program to fall back,\n+ * use gst_init_check() instead.\n@@ -605,1 +609,3 @@\n-  libdir = g_strdup (LIBDIR);\n+  libdir = priv_gst_get_relocated_libgstreamer ();\n+  if (!libdir)\n+    libdir = g_strdup (LIBDIR);\n@@ -656,0 +662,18 @@\n+static void\n+init_static_plugins (void)\n+{\n+  GModule *module;\n+\n+  \/* Call gst_init_static_plugins() defined in libgstreamer-full-1.0 in the case\n+   * libgstreamer is static linked with some plugins. *\/\n+  module = g_module_open (NULL, G_MODULE_BIND_LOCAL);\n+  if (module) {\n+    void (*func) (void);\n+    if (g_module_symbol (module, \"gst_init_static_plugins\",\n+            (gpointer *) & func)) {\n+      func ();\n+    }\n+    g_module_close (module);\n+  }\n+}\n+\n@@ -679,1 +703,2 @@\n-  g_log_set_handler (g_log_domain_gstreamer, llf, debug_log_handler, NULL);\n+  \/* TODO: should we also set up a handler for the other gst libs\/domains? *\/\n+  g_log_set_handler (G_LOG_DOMAIN, llf, debug_log_handler, NULL);\n@@ -823,0 +848,2 @@\n+  init_static_plugins ();\n+\n@@ -1054,0 +1081,1 @@\n+\/* *INDENT-OFF* *\/\n@@ -1096,0 +1124,1 @@\n+\/* *INDENT-ON* *\/\n@@ -1115,4 +1144,1 @@\n-  if (!gst_initialized)\n-    return;\n-\n-  GST_INFO (\"deinitializing GStreamer\");\n+  g_mutex_lock (&init_lock);\n@@ -1120,2 +1146,2 @@\n-  if (gst_deinitialized) {\n-    GST_DEBUG (\"already deinitialized\");\n+  if (!gst_initialized) {\n+    g_mutex_unlock (&init_lock);\n@@ -1124,0 +1150,6 @@\n+  if (gst_deinitialized) {\n+    \/* tell the user how naughty they've been *\/\n+    g_error (\"GStreamer should not be deinitialized a second time.\");\n+  }\n+\n+  GST_INFO (\"deinitializing GStreamer\");\n@@ -1163,0 +1195,1 @@\n+  _priv_gst_meta_cleanup ();\n@@ -1269,0 +1302,1 @@\n+  g_mutex_unlock (&init_lock);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst.c","additions":71,"deletions":37,"binary":false,"changes":108,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-void    gst_init      (int *argc, char **argv[]);\n+void            gst_init                        (int *argc, char **argv[]);\n@@ -110,2 +110,2 @@\n-gboolean  gst_init_check      (int *argc, char **argv[],\n-             GError ** err);\n+gboolean        gst_init_check                  (int *argc, char **argv[],\n+                                                 GError ** error);\n@@ -116,1 +116,1 @@\n-GOptionGroup *  gst_init_get_option_group (void);\n+GOptionGroup *  gst_init_get_option_group       (void);\n@@ -119,1 +119,1 @@\n-void    gst_deinit      (void);\n+void            gst_deinit                      (void);\n@@ -122,2 +122,2 @@\n-void    gst_version     (guint *major, guint *minor,\n-             guint *micro, guint *nano);\n+void            gst_version                     (guint *major, guint *minor,\n+                                                 guint *micro, guint *nano);\n@@ -125,1 +125,1 @@\n-gchar *   gst_version_string    (void);\n+gchar *         gst_version_string              (void);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst.h","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -32,4 +32,0 @@\n-\/* This needs to be before glib.h, since it might be used in inline\n- * functions *\/\n-extern const char             g_log_domain_gstreamer[];\n-\n@@ -121,2 +117,0 @@\n-G_GNUC_INTERNAL  gboolean _priv_gst_in_valgrind (void);\n-\n@@ -153,0 +147,1 @@\n+G_GNUC_INTERNAL  void  _priv_gst_meta_cleanup (void);\n@@ -176,1 +171,1 @@\n-G_GNUC_INTERNAL gboolean _priv_gst_value_parse_value (gchar * str, gchar ** after, GValue * value, GType default_type);\n+G_GNUC_INTERNAL gboolean _priv_gst_value_parse_value (gchar * str, gchar ** after, GValue * value, GType default_type, GParamSpec *pspec);\n@@ -189,1 +184,2 @@\n-                                                GString            * s);\n+                                                GString            * s,\n+                                                GstSerializeFlags flags);\n@@ -199,1 +195,1 @@\n-gboolean priv_gst_structure_parse_name (gchar * str, gchar **start, gchar ** end, gchar ** next);\n+gboolean priv_gst_structure_parse_name (gchar * str, gchar **start, gchar ** end, gchar ** next, gboolean check_valid);\n@@ -536,0 +532,2 @@\n+char * priv_gst_get_relocated_libgstreamer (void);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gst_private.h","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -27,0 +27,3 @@\n+ * @auto-sort: false\n+ * @symbols:\n+ * - GstAllocator\n@@ -148,0 +151,25 @@\n+\/**\n+ * gst_allocation_params_new:\n+ *\n+ * Create a new #GstAllocationParams on the heap.  This function is for\n+ * use in GStreamer language bindings.  In your own code, you can just\n+ * declare a #GstAllocationParams on the stack or in a struct, and\n+ * call gst_allocation_params_init() to initialize it.\n+ *\n+ * You do not need to call gst_allocation_params_init() on the instance\n+ * returned by this function.\n+ *\n+ * Returns: (transfer full) (not nullable): a new #GstAllocationParams\n+ *\n+ * Since: 1.20\n+ *\/\n+GstAllocationParams *\n+gst_allocation_params_new (void)\n+{\n+  \/* Call new() and then init(), rather than calling new0(), in case\n+   * init() ever changes to something other than a memset(). *\/\n+  GstAllocationParams *result = g_slice_new (GstAllocationParams);\n+  gst_allocation_params_init (result);\n+  return result;\n+}\n+\n@@ -168,4 +196,1 @@\n- * Free-function: gst_allocation_params_free\n- *\n- * Returns: (transfer full) (nullable): a new ##GstAllocationParams, free with\n- * gst_allocation_params_free().\n+ * Returns: (transfer full) (nullable): a new #GstAllocationParams.\n@@ -203,2 +228,1 @@\n- * Registers the memory @allocator with @name. This function takes ownership of\n- * @allocator.\n+ * Registers the memory @allocator with @name.\n@@ -230,2 +254,1 @@\n- * the allocator with @name was not registered. Use gst_object_unref()\n- * to release the allocator after usage.\n+ * the allocator with @name was not registered.\n@@ -255,1 +278,1 @@\n- * Set the default allocator. This function takes ownership of @allocator.\n+ * Set the default allocator.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstallocator.c","additions":32,"deletions":9,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -174,0 +174,3 @@\n+GST_API\n+GstAllocationParams * gst_allocation_params_new (void) G_GNUC_MALLOC;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstallocator.h","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -60,3 +60,3 @@\n-  volatile gint head;\n-  volatile gint tail_write;\n-  volatile gint tail_read;\n+  gint head;\n+  gint tail_write;\n+  gint tail_read;\n@@ -106,1 +106,1 @@\n-  volatile gint refcount;\n+  gint refcount;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstatomicqueue.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -22,2 +22,0 @@\n- *\n- * MT safe.\n@@ -59,2 +57,0 @@\n- * ## Notes\n- *\n@@ -64,1 +60,1 @@\n- * * GST_MESSAGE_EOS: This message is only posted by sinks in the PLAYING\n+ * * %GST_MESSAGE_EOS: This message is only posted by sinks in the PLAYING\n@@ -68,3 +64,17 @@\n- * * GST_MESSAGE_SEGMENT_START: Just collected and never forwarded upwards.\n- * The messages are used to decide when all elements have completed playback\n- * of their segment.\n+ * * %GST_MESSAGE_SEGMENT_START: Just collected and never forwarded upwards.\n+ *   The messages are used to decide when all elements have completed playback\n+ *   of their segment.\n+ *\n+ * * %GST_MESSAGE_SEGMENT_DONE: Is posted by #GstBin when all elements that posted\n+ *   a SEGMENT_START have posted a SEGMENT_DONE.\n+ *\n+ * * %GST_MESSAGE_DURATION_CHANGED: Is posted by an element that detected a change\n+ *   in the stream duration. The duration change is posted to the\n+ *   application so that it can refetch the new duration with a duration\n+ *   query.\n+ *\n+ *   Note that these messages can be posted before the bin is prerolled, in which\n+ *   case the duration query might fail.\n+ *\n+ *   Note also that there might be a discrepancy (due to internal buffering\/queueing)\n+ *   between the stream being currently displayed and the returned duration query.\n@@ -72,2 +82,3 @@\n- * * GST_MESSAGE_SEGMENT_DONE: Is posted by #GstBin when all elements that posted\n- * a SEGMENT_START have posted a SEGMENT_DONE.\n+ *   Applications might want to also query for duration (and changes) by\n+ *   listening to the %GST_MESSAGE_STREAM_START message, signaling the active start\n+ *   of a (new) stream.\n@@ -75,10 +86,2 @@\n- * * GST_MESSAGE_DURATION_CHANGED: Is posted by an element that detected a change\n- * in the stream duration. The duration change is posted to the\n- * application so that it can refetch the new duration with a duration\n- * query. Note that these messages can be posted before the bin is\n- * prerolled, in which case the duration query might fail. Note also that\n- * there might be a discrepancy (due to internal buffering\/queueing) between the\n- * stream being currently displayed and the returned duration query.\n- * Applications might want to also query for duration (and changes) by\n- * listening to the GST_MESSAGE_STREAM_START message, signaling the active start\n- * of a (new) stream.\n+ * * %GST_MESSAGE_CLOCK_LOST: This message is posted by an element when it\n+ *   can no longer provide a clock.\n@@ -86,9 +89,3 @@\n- * * GST_MESSAGE_CLOCK_LOST: This message is posted by an element when it\n- * can no longer provide a clock. The default bin behaviour is to\n- * check if the lost clock was the one provided by the bin. If so and\n- * the bin is currently in the PLAYING state, the message is forwarded to\n- * the bin parent.\n- * This message is also generated when a clock provider is removed from\n- * the bin. If this message is received by the application, it should\n- * PAUSE the pipeline and set it back to PLAYING to force a new clock\n- * distribution.\n+ *   The default bin behaviour is to check if the lost clock was the one provided\n+ *   by the bin. If so and the bin is currently in the PLAYING state, the message\n+ *   is forwarded to the bin parent.\n@@ -96,7 +93,15 @@\n- * * GST_MESSAGE_CLOCK_PROVIDE: This message is generated when an element\n- * can provide a clock. This mostly happens when a new clock\n- * provider is added to the bin. The default behaviour of the bin is to\n- * mark the currently selected clock as dirty, which will perform a clock\n- * recalculation the next time the bin is asked to provide a clock.\n- * This message is never sent tot the application but is forwarded to\n- * the parent of the bin.\n+ *   This message is also generated when a clock provider is removed from\n+ *   the bin. If this message is received by the application, it should\n+ *   PAUSE the pipeline and set it back to PLAYING to force a new clock\n+ *   distribution.\n+ *\n+ * * %GST_MESSAGE_CLOCK_PROVIDE: This message is generated when an element\n+ *   can provide a clock. This mostly happens when a new clock\n+ *   provider is added to the bin.\n+ *\n+ *   The default behaviour of the bin is to mark the currently selected clock as\n+ *   dirty, which will perform a clock recalculation the next time the bin is\n+ *   asked to provide a clock.\n+ *\n+ *   This message is never sent to the application but is forwarded to\n+ *   the parent of the bin.\n@@ -109,3 +114,3 @@\n- * * GST_QUERY_DURATION: The bin will forward the query to all sink\n- * elements contained within and will return the maximum value.\n- * If no sinks are available in the bin, the query fails.\n+ * * %GST_QUERY_DURATION: The bin will forward the query to all sink\n+ *   elements contained within and will return the maximum value.\n+ *   If no sinks are available in the bin, the query fails.\n@@ -113,3 +118,3 @@\n- * * GST_QUERY_POSITION:The query is sent to all sink elements in the bin and the\n- * MAXIMUM of all values is returned. If no sinks are available in the bin,\n- * the query fails.\n+ * * %GST_QUERY_POSITION: The query is sent to all sink elements in the bin and the\n+ *   MAXIMUM of all values is returned. If no sinks are available in the bin,\n+ *   the query fails.\n@@ -117,3 +122,3 @@\n- * * OTHERS:the query is forwarded to all sink elements, the result\n- * of the first sink that answers the query successfully is returned. If no\n- * sink is in the bin, the query fails.\n+ * * OTHERS: the query is forwarded to all sink elements, the result\n+ *   of the first sink that answers the query successfully is returned. If no\n+ *   sink is in the bin, the query fails.\n@@ -122,1 +127,1 @@\n- * (#GST_EVENT_TYPE_DOWNSTREAM) or source (#GST_EVENT_TYPE_UPSTREAM) elements\n+ * ( %GST_EVENT_TYPE_DOWNSTREAM ) or source ( %GST_EVENT_TYPE_UPSTREAM ) elements\n@@ -124,0 +129,1 @@\n+ *\n@@ -127,1 +133,0 @@\n- *\n@@ -324,2 +329,1 @@\n-  if (!(ihint->run_type & G_SIGNAL_RUN_CLEANUP))\n-    g_value_set_boolean (return_accu, myboolean);\n+  g_value_set_boolean (return_accu, myboolean);\n@@ -359,1 +363,1 @@\n-   * @bin: the #GstBin\n+   * @self: the #GstBin\n@@ -370,1 +374,1 @@\n-   * @bin: the #GstBin\n+   * @self: the #GstBin\n@@ -381,1 +385,1 @@\n-   * @bin: the #GstBin\n+   * @self: the #GstBin\n@@ -385,1 +389,1 @@\n-   * Will be emitted after the element was added to sub_bin.\n+   * Will be emitted after the element was added to @sub_bin.\n@@ -395,1 +399,1 @@\n-   * @bin: the #GstBin\n+   * @self: the #GstBin\n@@ -399,1 +403,1 @@\n-   * Will be emitted after the element was removed from sub_bin.\n+   * Will be emitted after the element was removed from @sub_bin.\n@@ -409,1 +413,1 @@\n-   * @bin: the #GstBin\n+   * @self: the #GstBin\n@@ -412,1 +416,1 @@\n-   * signal is only emitted for toplevel bins or when async-handling is\n+   * signal is only emitted for toplevel bins or when #GstBin:async-handling is\n@@ -436,3 +440,2 @@\n-   * source. The structure of the message is named 'GstBinForwarded' and contains\n-   * a field named 'message' of type GST_TYPE_MESSAGE that contains the original\n-   * forwarded message.\n+   * source. The structure of the message is named `GstBinForwarded` and contains\n+   * a field named `message` that contains the original forwarded #GstMessage.\n@@ -1166,4 +1169,0 @@\n-  \/* we obviously can't add ourself to ourself *\/\n-  if (G_UNLIKELY (element == GST_ELEMENT_CAST (bin)))\n-    goto adding_itself;\n-\n@@ -1379,9 +1378,0 @@\n-adding_itself:\n-  {\n-    GST_OBJECT_LOCK (bin);\n-    g_warning (\"Cannot add bin '%s' to itself\", GST_ELEMENT_NAME (bin));\n-    GST_OBJECT_UNLOCK (bin);\n-    gst_object_ref_sink (element);\n-    gst_object_unref (element);\n-    return FALSE;\n-  }\n@@ -1390,2 +1380,0 @@\n-    g_warning (\"Name '%s' is not unique in bin '%s', not adding\",\n-        elem_name, GST_ELEMENT_NAME (bin));\n@@ -1393,0 +1381,2 @@\n+    GST_WARNING_OBJECT (bin, \"Name '%s' is not unique in bin, not adding\",\n+        elem_name);\n@@ -1400,1 +1390,0 @@\n-    g_warning (\"Element '%s' already has parent\", elem_name);\n@@ -1402,0 +1391,1 @@\n+    GST_WARNING_OBJECT (bin, \"Element '%s' already has parent\", elem_name);\n@@ -1412,1 +1402,1 @@\n- * Suppress the given flags on the bin. #GstElementFlags of a\n+ * Suppresses the given flags on the bin. #GstElementFlags of a\n@@ -1417,2 +1407,0 @@\n- * MT safe.\n- *\n@@ -1438,4 +1426,0 @@\n- * Return the suppressed flags of the bin.\n- *\n- * MT safe.\n- *\n@@ -1523,2 +1507,0 @@\n- * MT safe.\n- *\n@@ -1556,2 +1538,1 @@\n-    g_warning (\"adding elements to bin '%s' is not supported\",\n-        GST_ELEMENT_NAME (bin));\n+    GST_WARNING_OBJECT (bin, \"adding elements to bin is not supported\");\n@@ -1584,4 +1565,0 @@\n-  \/* we obviously can't remove ourself from ourself *\/\n-  if (G_UNLIKELY (element == GST_ELEMENT_CAST (bin)))\n-    goto removing_itself;\n-\n@@ -1843,7 +1820,0 @@\n-removing_itself:\n-  {\n-    GST_OBJECT_LOCK (bin);\n-    g_warning (\"Cannot remove bin '%s' from itself\", GST_ELEMENT_NAME (bin));\n-    GST_OBJECT_UNLOCK (bin);\n-    return FALSE;\n-  }\n@@ -1852,2 +1822,0 @@\n-    g_warning (\"Element '%s' is not in bin '%s'\", elem_name,\n-        GST_ELEMENT_NAME (bin));\n@@ -1856,0 +1824,1 @@\n+    GST_WARNING_OBJECT (bin, \"Element '%s' is not in bin\", elem_name);\n@@ -1876,2 +1845,0 @@\n- * MT safe.\n- *\n@@ -1908,2 +1875,1 @@\n-    g_warning (\"removing elements from bin '%s' is not supported\",\n-        GST_ELEMENT_NAME (bin));\n+    GST_WARNING_OBJECT (bin, \"Removing elements from bin is not supported\");\n@@ -1920,4 +1886,1 @@\n- * MT safe.  Caller owns returned value.\n- *\n- * Returns: (transfer full) (nullable): a #GstIterator of #GstElement,\n- * or %NULL\n+ * Returns: (transfer full) (nullable): a #GstIterator of #GstElement\n@@ -1961,4 +1924,1 @@\n- * MT safe.  Caller owns returned value.\n- *\n- * Returns: (transfer full) (nullable): a #GstIterator of #GstElement,\n- * or %NULL\n+ * Returns: (transfer full) (nullable): a #GstIterator of #GstElement\n@@ -2024,4 +1984,1 @@\n- * MT safe.  Caller owns returned value.\n- *\n- * Returns: (transfer full) (nullable): a #GstIterator of #GstElement,\n- * or %NULL\n+ * Returns: (transfer full) (nullable): a #GstIterator of #GstElement\n@@ -2085,4 +2042,1 @@\n- * MT safe.  Caller owns returned value.\n- *\n- * Returns: (transfer full) (nullable): a #GstIterator of #GstElement,\n- * or %NULL\n+ * Returns: (transfer full) (nullable): a #GstIterator of #GstElement\n@@ -2478,4 +2432,1 @@\n- * MT safe.  Caller owns returned value.\n- *\n- * Returns: (transfer full) (nullable): a #GstIterator of #GstElement,\n- * or %NULL\n+ * Returns: (transfer full) (nullable): a #GstIterator of #GstElement\n@@ -2754,2 +2705,2 @@\n- * Query @bin for the current latency using and reconfigures this latency to all the\n- * elements with a LATENCY event.\n+ * Queries @bin for the current latency and reconfigures this latency on all the\n+ * elements using a LATENCY event.\n@@ -2760,1 +2711,1 @@\n- * This function simply emits the 'do-latency' signal so any custom latency\n+ * This function simply emits the #GstBin::do-latency signal so any custom latency\n@@ -4418,4 +4369,0 @@\n- * Returns %NULL if no element with the given name is found in the bin.\n- *\n- * MT safe.  Caller owns returned reference.\n- *\n@@ -4423,1 +4370,1 @@\n- * name, or %NULL\n+ * name\n@@ -4461,5 +4408,0 @@\n- * Returns %NULL if:\n- * - no element with the given name is found in the bin\n- *\n- * MT safe.  Caller owns returned reference.\n- *\n@@ -4467,1 +4409,1 @@\n- * name, or %NULL\n+ * name\n@@ -4520,2 +4462,0 @@\n- * MT safe.  Caller owns returned reference.\n- *\n@@ -4564,3 +4504,1 @@\n- * of #GstElement that should be unreffed after use.\n- *\n- * MT safe.  Caller owns returned value.\n+ * of #GstElement.\n@@ -4569,2 +4507,1 @@\n- *     for all elements in the bin implementing the given interface,\n- *     or %NULL\n+ *     for all elements in the bin implementing the given interface\n@@ -4614,3 +4551,1 @@\n- * #GstElement that should be unreffed after use.\n- *\n- * MT safe. Caller owns returned value.\n+ * #GstElement.\n@@ -4619,2 +4554,1 @@\n- *     for all elements in the bin with the given element factory name,\n- *     or %NULL.\n+ *     for all elements in the bin with the given element factory name\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbin.c","additions":84,"deletions":150,"binary":false,"changes":234,"status":"modified"},{"patch":"@@ -43,5 +43,0 @@\n- * @GST_BIN_FLAG_NO_RESYNC: don't resync a state change when elements are\n- *             added or linked in the bin (Since: 1.0.5)\n- * @GST_BIN_FLAG_STREAMS_AWARE: Indicates whether the bin can handle elements\n- *             that add\/remove source pads at any point in time without\n- *             first posting a no-more-pads signal (Since: 1.10)\n@@ -52,2 +47,2 @@\n- * internally. They can be checked using the GST_OBJECT_FLAG_IS_SET () macro,\n- * and (un)set using GST_OBJECT_FLAG_SET () and GST_OBJECT_FLAG_UNSET ().\n+ * internally. They can be checked using the GST_OBJECT_FLAG_IS_SET() macro,\n+ * and (un)set using GST_OBJECT_FLAG_SET() and GST_OBJECT_FLAG_UNSET().\n@@ -56,2 +51,19 @@\n-  GST_BIN_FLAG_NO_RESYNC  = (GST_ELEMENT_FLAG_LAST << 0),\n-  GST_BIN_FLAG_STREAMS_AWARE  = (GST_ELEMENT_FLAG_LAST << 1),\n+  \/**\n+   * GST_BIN_FLAG_NO_RESYNC:\n+   *\n+   * Don't resync a state change when elements are added or linked in the bin\n+   *\n+   * Since: 1.0.5\n+   *\/\n+  GST_BIN_FLAG_NO_RESYNC        = (GST_ELEMENT_FLAG_LAST << 0),\n+\n+  \/**\n+   * GST_BIN_FLAG_STREAMS_AWARE:\n+   *\n+   * Indicates whether the bin can handle elements that add\/remove source pads\n+   * at any point in time without first posting a no-more-pads signal.\n+   *\n+   * Since: 1.10\n+   *\/\n+  GST_BIN_FLAG_STREAMS_AWARE    = (GST_ELEMENT_FLAG_LAST << 1),\n+\n@@ -59,1 +71,8 @@\n-  GST_BIN_FLAG_LAST   = (GST_ELEMENT_FLAG_LAST << 5)\n+\n+  \/**\n+   * GST_BIN_FLAG_LAST:\n+   *\n+   * The last enum in the series of flags for bins. Derived classes can use this\n+   * as first value in a list of flags.\n+   *\/\n+  GST_BIN_FLAG_LAST             = (GST_ELEMENT_FLAG_LAST << 5)\n@@ -83,1 +102,1 @@\n-#define GST_BIN_NUMCHILDREN(bin)  (GST_BIN_CAST(bin)->numchildren)\n+#define GST_BIN_NUMCHILDREN(bin)        (GST_BIN_CAST(bin)->numchildren)\n@@ -88,1 +107,1 @@\n- * Gets the list with children in a bin.\n+ * Gets the list of children in a bin.\n@@ -90,1 +109,1 @@\n-#define GST_BIN_CHILDREN(bin)   (GST_BIN_CAST(bin)->children)\n+#define GST_BIN_CHILDREN(bin)           (GST_BIN_CAST(bin)->children)\n@@ -97,1 +116,1 @@\n-#define GST_BIN_CHILDREN_COOKIE(bin)  (GST_BIN_CAST(bin)->children_cookie)\n+#define GST_BIN_CHILDREN_COOKIE(bin)    (GST_BIN_CAST(bin)->children_cookie)\n@@ -116,1 +135,1 @@\n-  GstElement   element;\n+  GstElement     element;\n@@ -121,3 +140,3 @@\n-  gint     numchildren;\n-  GList   *children;\n-  guint32  children_cookie;\n+  gint           numchildren;\n+  GList         *children;\n+  guint32        children_cookie;\n@@ -128,1 +147,1 @@\n-  gboolean   polling;\n+  gboolean       polling;\n@@ -132,1 +151,1 @@\n-  GstClock  *provided_clock;\n+  GstClock      *provided_clock;\n@@ -144,7 +163,0 @@\n- * @add_element: method to add an element to a bin\n- * @remove_element: method to remove an element from a bin\n- * @handle_message: method to handle a message from the children\n- * @deep_element_added: method called when an element was added somewhere\n- *     in the bin hierarchy\n- * @deep_element_removed: method called when an element was removed somewhere\n- *     in the bin hierarchy\n@@ -152,2 +164,2 @@\n- * Subclasses can override the @add_element and @remove_element to\n- * update the list of children in the bin.\n+ * Subclasses can override #GstBinClass::add_element and #GstBinClass::remove_element\n+ * to update the list of children in the bin.\n@@ -155,3 +167,2 @@\n- * The @handle_message method can be overridden to implement custom\n- * message handling.  @handle_message takes ownership of the message, just like\n- * #gst_element_post_message.\n+ * The #GstBinClass::handle_message method can be overridden to implement custom\n+ * message handling.\n@@ -159,1 +170,1 @@\n- * The @deep_element_added vfunc will be called when a new element has been\n+ * #GstBinClass::deep_element_added will be called when a new element has been\n@@ -172,2 +183,18 @@\n-  void    (*element_added)  (GstBin *bin, GstElement *child);\n-  void    (*element_removed)  (GstBin *bin, GstElement *child);\n+\n+  \/**\n+   * GstBinClass::element_added:\n+   * @bin: the #GstBin\n+   * @child: the element that was added\n+   *\n+   * Method called when an element was added to the bin.\n+   *\/\n+  void          (*element_added)        (GstBin *bin, GstElement *child);\n+\n+  \/**\n+   * GstBinClass::element_removed:\n+   * @bin: the #GstBin\n+   * @child: the element that was removed\n+   *\n+   * Method called when an element was removed from the bin.\n+   *\/\n+  void          (*element_removed)      (GstBin *bin, GstElement *child);\n@@ -177,2 +204,0 @@\n-  gboolean  (*add_element)    (GstBin *bin, GstElement *element);\n-  gboolean  (*remove_element) (GstBin *bin, GstElement *element);\n@@ -180,1 +205,30 @@\n-  void    (*handle_message) (GstBin *bin, GstMessage *message);\n+  \/**\n+   * GstBinClass::add_element:\n+   * @bin: the #GstBin\n+   * @element: the element to be added\n+   *\n+   * Method to add an element to the bin.\n+   *\n+   * Returns: %TRUE if the @element was added\n+   *\/\n+  gboolean      (*add_element)          (GstBin *bin, GstElement *element);\n+\n+  \/**\n+   * GstBinClass::remove_element:\n+   * @bin: the #GstBin\n+   * @element: the element to be removed\n+   *\n+   * Method to remove an element from the bin.\n+   *\n+   * Returns: %TRUE if the @element was removed\n+   *\/\n+  gboolean      (*remove_element)       (GstBin *bin, GstElement *element);\n+\n+  \/**\n+   * GstBinClass::handle_message:\n+   * @bin: the #GstBin\n+   * @message: (transfer full): the message to be handled\n+   *\n+   * Method to handle a message from the children.\n+   *\/\n+  void          (*handle_message)       (GstBin *bin, GstMessage *message);\n@@ -184,1 +238,1 @@\n-  gboolean  (*do_latency)           (GstBin *bin);\n+  gboolean      (*do_latency)           (GstBin *bin);\n@@ -188,0 +242,9 @@\n+\n+  \/**\n+   * GstBinClass::deep_element_added:\n+   * @bin: the top level #GstBin\n+   * @sub_bin: the #GstBin to which the element was added\n+   * @child: the element that was added\n+   *\n+   * Method called when an element was added somewhere in the bin hierarchy.\n+   *\/\n@@ -189,0 +252,9 @@\n+\n+  \/**\n+   * GstBinClass::deep_element_removed:\n+   * @bin: the top level #GstBin\n+   * @sub_bin: the #GstBin from which the element was removed\n+   * @child: the element that was removed\n+   *\n+   * Method called when an element was removed somewhere in the bin hierarchy.\n+   *\/\n@@ -196,1 +268,1 @@\n-GType   gst_bin_get_type    (void);\n+GType           gst_bin_get_type                (void);\n@@ -199,1 +271,1 @@\n-GstElement* gst_bin_new     (const gchar *name);\n+GstElement*     gst_bin_new                     (const gchar *name);\n@@ -204,1 +276,1 @@\n-gboolean  gst_bin_add     (GstBin *bin, GstElement *element);\n+gboolean        gst_bin_add                     (GstBin *bin, GstElement *element);\n@@ -207,1 +279,1 @@\n-gboolean  gst_bin_remove      (GstBin *bin, GstElement *element);\n+gboolean        gst_bin_remove                  (GstBin *bin, GstElement *element);\n@@ -212,1 +284,1 @@\n-GstElement* gst_bin_get_by_name    (GstBin *bin, const gchar *name);\n+GstElement*     gst_bin_get_by_name              (GstBin *bin, const gchar *name);\n@@ -215,1 +287,1 @@\n-GstElement* gst_bin_get_by_name_recurse_up   (GstBin *bin, const gchar *name);\n+GstElement*     gst_bin_get_by_name_recurse_up   (GstBin *bin, const gchar *name);\n@@ -218,1 +290,1 @@\n-GstElement* gst_bin_get_by_interface   (GstBin *bin, GType iface);\n+GstElement*     gst_bin_get_by_interface         (GstBin *bin, GType iface);\n@@ -223,1 +295,1 @@\n-GstIterator*    gst_bin_iterate_elements   (GstBin *bin);\n+GstIterator*    gst_bin_iterate_elements         (GstBin *bin);\n@@ -226,1 +298,1 @@\n-GstIterator*    gst_bin_iterate_sorted     (GstBin *bin);\n+GstIterator*    gst_bin_iterate_sorted           (GstBin *bin);\n@@ -229,1 +301,1 @@\n-GstIterator*    gst_bin_iterate_recurse    (GstBin *bin);\n+GstIterator*    gst_bin_iterate_recurse          (GstBin *bin);\n@@ -232,1 +304,1 @@\n-GstIterator*  gst_bin_iterate_sinks    (GstBin *bin);\n+GstIterator*    gst_bin_iterate_sinks            (GstBin *bin);\n@@ -235,1 +307,1 @@\n-GstIterator*  gst_bin_iterate_sources    (GstBin *bin);\n+GstIterator*    gst_bin_iterate_sources          (GstBin *bin);\n@@ -238,1 +310,1 @@\n-GstIterator*  gst_bin_iterate_all_by_interface (GstBin *bin, GType iface);\n+GstIterator*    gst_bin_iterate_all_by_interface (GstBin *bin, GType iface);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbin.h","additions":124,"deletions":52,"binary":false,"changes":176,"status":"modified"},{"patch":"@@ -37,1 +37,2 @@\n- * |[<!-- language=\"C\" -->\n+ *\n+ * ``` C\n@@ -47,1 +48,1 @@\n- * ]|\n+ * ```\n@@ -87,1 +88,1 @@\n- * gst_buffer_make_writable().  This function is optimized so that a copy will\n+ * gst_buffer_make_writable(). This function is optimized so that a copy will\n@@ -99,1 +100,1 @@\n- * Metadata can be retrieved with gst_buffer_get_meta(). See also #GstMeta\n+ * Metadata can be retrieved with gst_buffer_get_meta(). See also #GstMeta.\n@@ -117,1 +118,0 @@\n- *\n@@ -119,0 +119,1 @@\n+\n@@ -135,0 +136,3 @@\n+\/* For g_memdup2 *\/\n+#include \"glib-compat-private.h\"\n+\n@@ -175,1 +179,1 @@\n-gst_atomic_int64_inc (volatile gint64 * atomic)\n+gst_atomic_int64_inc (gint64 * atomic)\n@@ -182,1 +186,1 @@\n-gst_atomic_int64_inc (volatile gint64 * atomic)\n+gst_atomic_int64_inc (gint64 * atomic)\n@@ -194,1 +198,1 @@\n-gst_atomic_int64_inc (volatile gint64 * atomic)\n+gst_atomic_int64_inc (gint64 * atomic)\n@@ -358,1 +362,1 @@\n- * Get the #GstBufferFlags flags set on this buffer.\n+ * Gets the #GstBufferFlags flags set on this buffer.\n@@ -504,1 +508,1 @@\n- * Get the maximum amount of memory blocks that a buffer can hold. This is a\n+ * Gets the maximum amount of memory blocks that a buffer can hold. This is a\n@@ -733,1 +737,1 @@\n- * Create a copy of the given buffer. This will make a newly allocated\n+ * Creates a copy of the given buffer. This will make a newly allocated\n@@ -842,2 +846,0 @@\n- * MT safe.\n- *\n@@ -874,4 +876,1 @@\n- * MT safe.\n- *\n- * Returns: (transfer full) (nullable): a new #GstBuffer, or %NULL if\n- *     the memory couldn't be allocated.\n+ * Returns: (transfer full) (nullable): a new #GstBuffer\n@@ -975,1 +974,1 @@\n- * Allocate a new buffer that wraps the given memory. @data must point to\n+ * Allocates a new buffer that wraps the given memory. @data must point to\n@@ -1011,3 +1010,1 @@\n- * with g_free and will be marked writable.\n- *\n- * MT safe.\n+ * with g_free() and will be marked writable.\n@@ -1030,2 +1027,0 @@\n- * MT safe.\n- *\n@@ -1050,0 +1045,19 @@\n+\/**\n+ * gst_buffer_new_memdup:\n+ * @data: (array length=size) (element-type guint8) (transfer none): data to copy into new buffer\n+ * @size: size of @data in bytes\n+ *\n+ * Creates a new buffer of size @size and fills it with a copy of @data.\n+ *\n+ * Returns: (transfer full): a new #GstBuffer\n+ *\n+ * Since: 1.20\n+ *\/\n+GstBuffer *\n+gst_buffer_new_memdup (gconstpointer data, gsize size)\n+{\n+  gpointer data2 = g_memdup2 (data, size);\n+\n+  return gst_buffer_new_wrapped_full (0, data2, size, 0, size, data2, g_free);\n+}\n+\n@@ -1054,1 +1068,1 @@\n- * Get the amount of memory blocks that this buffer has. This amount is never\n+ * Gets the amount of memory blocks that this buffer has. This amount is never\n@@ -1072,1 +1086,1 @@\n- * Prepend the memory block @mem to @buffer. This function takes\n+ * Prepends the memory block @mem to @buffer. This function takes\n@@ -1089,1 +1103,1 @@\n- * Append the memory block @mem to @buffer. This function takes\n+ * Appends the memory block @mem to @buffer. This function takes\n@@ -1107,1 +1121,1 @@\n- * Insert the memory block @mem to @buffer at @idx. This function takes ownership\n+ * Inserts the memory block @mem into @buffer at @idx. This function takes ownership\n@@ -1163,1 +1177,1 @@\n- * Get the memory block at @idx in @buffer. The memory block stays valid until\n+ * Gets the memory block at @idx in @buffer. The memory block stays valid until\n@@ -1183,1 +1197,1 @@\n- * Get the memory block at index @idx in @buffer.\n+ * Gets the memory block at index @idx in @buffer.\n@@ -1186,1 +1200,1 @@\n- * memory block at @idx. Use gst_memory_unref () after usage.\n+ * memory block at @idx.\n@@ -1198,1 +1212,1 @@\n- * Get all the memory block in @buffer. The memory blocks will be merged\n+ * Gets all the memory blocks in @buffer. The memory blocks will be merged\n@@ -1202,1 +1216,0 @@\n- * Use gst_memory_unref () after usage.\n@@ -1216,1 +1229,1 @@\n- * Get @length memory blocks in @buffer starting at @idx. The memory blocks will\n+ * Gets @length memory blocks in @buffer starting at @idx. The memory blocks will\n@@ -1222,1 +1235,1 @@\n- *    blocks starting at @idx. Use gst_memory_unref () after usage.\n+ *    blocks starting at @idx.\n@@ -1273,1 +1286,1 @@\n- * @length: a length should not be 0\n+ * @length: a length, should not be 0\n@@ -1309,1 +1322,1 @@\n- * Remove the memory block in @b at index @i.\n+ * Removes the memory block in @b at index @i.\n@@ -1321,1 +1334,1 @@\n- * Remove all the memory blocks in @buffer.\n+ * Removes all the memory blocks in @buffer.\n@@ -1336,1 +1349,1 @@\n- * Remove @length memory blocks in @buffer starting from @idx.\n+ * Removes @length memory blocks in @buffer starting from @idx.\n@@ -1369,1 +1382,1 @@\n- * Find the memory blocks that span @size bytes starting from @offset\n+ * Finds the memory blocks that span @size bytes starting from @offset\n@@ -1437,1 +1450,1 @@\n- * @length: a length should not be 0\n+ * @length: a length, should not be 0\n@@ -1439,1 +1452,1 @@\n- * Check if @length memory blocks in @buffer starting from @idx are writable.\n+ * Checks if @length memory blocks in @buffer starting from @idx are writable.\n@@ -1486,1 +1499,1 @@\n- * Check if all memory blocks in @buffer are writable.\n+ * Checks if all memory blocks in @buffer are writable.\n@@ -1507,1 +1520,1 @@\n- * Get the total size of the memory blocks in @b.\n+ * Gets the total size of the memory blocks in @buffer.\n@@ -1527,1 +1540,1 @@\n- * Get the total size of the memory blocks in @buffer.\n+ * Gets the total size of the memory blocks in @buffer.\n@@ -1554,1 +1567,1 @@\n- * Get the total size of @length memory blocks stating from @idx in @buffer.\n+ * Gets the total size of @length memory blocks stating from @idx in @buffer.\n@@ -1640,1 +1653,1 @@\n- * Set the offset and total size of the memory blocks in @buffer.\n+ * Sets the offset and total size of the memory blocks in @buffer.\n@@ -1653,1 +1666,1 @@\n- * Set the total size of the memory blocks in @buffer.\n+ * Sets the total size of the memory blocks in @buffer.\n@@ -1669,1 +1682,1 @@\n- * Set the total size of the @length memory blocks starting at @idx in\n+ * Sets the total size of the @length memory blocks starting at @idx in\n@@ -1807,2 +1820,1 @@\n- * This function fills @info with the #GstMapInfo of all merged memory\n- * blocks in @buffer.\n+ * Fills @info with the #GstMapInfo of all merged memory blocks in @buffer.\n@@ -1837,1 +1849,1 @@\n- * This function fills @info with the #GstMapInfo of @length merged memory blocks\n+ * Fills @info with the #GstMapInfo of @length merged memory blocks\n@@ -1934,1 +1946,1 @@\n- * Release the memory previously mapped with gst_buffer_map().\n+ * Releases the memory previously mapped with gst_buffer_map().\n@@ -1957,1 +1969,1 @@\n- * Copy @size bytes from @src to @buffer at @offset.\n+ * Copies @size bytes from @src to @buffer at @offset.\n@@ -2010,1 +2022,1 @@\n- * Copy @size bytes starting from @offset in @buffer to @dest.\n+ * Copies @size bytes starting from @offset in @buffer to @dest.\n@@ -2060,1 +2072,1 @@\n- * Compare @size bytes starting from @offset in @buffer with the memory in @mem.\n+ * Compares @size bytes starting from @offset in @buffer with the memory in @mem.\n@@ -2113,1 +2125,1 @@\n- * Fill @buf with @size bytes with @val starting from @offset.\n+ * Fills @buf with @size bytes with @val starting from @offset.\n@@ -2172,2 +2184,0 @@\n- * MT safe.\n- *\n@@ -2202,1 +2212,1 @@\n- * Append all the memory from @buf2 to @buf1. The result buffer will contain a\n+ * Appends all the memory from @buf2 to @buf1. The result buffer will contain a\n@@ -2221,1 +2231,1 @@\n- * Append @size bytes at @offset from @buf2 to @buf1. The result buffer will\n+ * Appends @size bytes at @offset from @buf2 to @buf1. The result buffer will\n@@ -2265,1 +2275,1 @@\n- * Get the metadata for @api on buffer. When there is no such metadata, %NULL is\n+ * Gets the metadata for @api on buffer. When there is no such metadata, %NULL is\n@@ -2269,1 +2279,1 @@\n- * and check the meta->info.api member for the API type.\n+ * and check the `meta->info.api` member for the API type.\n@@ -2271,2 +2281,1 @@\n- * Returns: (transfer none) (nullable): the metadata for @api on\n- * @buffer.\n+ * Returns: (transfer none) (nullable): the metadata for @api on @buffer.\n@@ -2322,1 +2331,1 @@\n- * Add metadata for @info to @buffer using the parameters in @params.\n+ * Adds metadata for @info to @buffer using the parameters in @params.\n@@ -2385,1 +2394,1 @@\n- * Remove the metadata for @meta on @buffer.\n+ * Removes the metadata for @meta on @buffer.\n@@ -2439,1 +2448,1 @@\n- * Retrieve the next #GstMeta after @current. If @state points\n+ * Retrieves the next #GstMeta after @current. If @state points\n@@ -2475,1 +2484,1 @@\n- * Retrieve the next #GstMeta of type @meta_api_type after the current one\n+ * Retrieves the next #GstMeta of type @meta_api_type after the current one\n@@ -2518,1 +2527,1 @@\n- * Call @func with @user_data for each meta in @buffer.\n+ * Calls @func with @user_data for each meta in @buffer.\n@@ -2521,1 +2530,1 @@\n- * of @func define if this function returns or if the remaining metadata items\n+ * of @func defines if this function returns or if the remaining metadata items\n@@ -2624,1 +2633,1 @@\n- * Add a #GstParentBufferMeta to @buffer that holds a reference on\n+ * Adds a #GstParentBufferMeta to @buffer that holds a reference on\n@@ -2690,1 +2699,1 @@\n-  static volatile gsize _init;\n+  static gsize _init;\n@@ -2709,1 +2718,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -2723,1 +2732,1 @@\n- * Get the global #GstMetaInfo describing  the #GstParentBufferMeta meta.\n+ * Gets the global #GstMetaInfo describing  the #GstParentBufferMeta meta.\n@@ -2757,1 +2766,1 @@\n- * Add a #GstReferenceTimestampMeta to @buffer that holds a @timestamp and\n+ * Adds a #GstReferenceTimestampMeta to @buffer that holds a @timestamp and\n@@ -2793,1 +2802,1 @@\n- * Find the first #GstReferenceTimestampMeta on @buffer that conforms to\n+ * Finds the first #GstReferenceTimestampMeta on @buffer that conforms to\n@@ -2859,1 +2868,1 @@\n-  static volatile gsize _init;\n+  static gsize _init;\n@@ -2880,1 +2889,1 @@\n-  static volatile GType type = 0;\n+  static GType type = 0;\n@@ -2895,1 +2904,1 @@\n- * Get the global #GstMetaInfo describing  the #GstReferenceTimestampMeta meta.\n+ * Gets the global #GstMetaInfo describing the #GstReferenceTimestampMeta meta.\n@@ -2920,0 +2929,61 @@\n+\/**\n+ * gst_buffer_add_custom_meta:\n+ * @buffer: (transfer none): a #GstBuffer\n+ * @name: the registered name of the desired custom meta\n+ *\n+ * Creates and adds a #GstCustomMeta for the desired @name. @name must have\n+ * been successfully registered with gst_meta_register_custom().\n+ *\n+ * Returns: (transfer none) (nullable): The #GstCustomMeta that was added to the buffer\n+ *\n+ * Since: 1.20\n+ *\/\n+GstCustomMeta *\n+gst_buffer_add_custom_meta (GstBuffer * buffer, const gchar * name)\n+{\n+  GstCustomMeta *meta;\n+  const GstMetaInfo *info;\n+\n+  g_return_val_if_fail (name != NULL, NULL);\n+  g_return_val_if_fail (GST_IS_BUFFER (buffer), NULL);\n+\n+  info = gst_meta_get_info (name);\n+\n+  if (info == NULL || !gst_meta_info_is_custom (info))\n+    return NULL;\n+\n+  meta = (GstCustomMeta *) gst_buffer_add_meta (buffer, info, NULL);\n+\n+  return meta;\n+}\n+\n+\/**\n+ * gst_buffer_get_custom_meta:\n+ * @buffer: a #GstBuffer\n+ * @name: the registered name of the custom meta to retrieve.\n+ *\n+ * Finds the first #GstCustomMeta on @buffer for the desired @name.\n+ *\n+ * Returns: (transfer none) (nullable): the #GstCustomMeta\n+ *\n+ * Since: 1.20\n+ *\/\n+GstCustomMeta *\n+gst_buffer_get_custom_meta (GstBuffer * buffer, const gchar * name)\n+{\n+  const GstMetaInfo *info;\n+\n+  g_return_val_if_fail (buffer != NULL, NULL);\n+  g_return_val_if_fail (name != NULL, NULL);\n+\n+  info = gst_meta_get_info (name);\n+\n+  if (!info)\n+    return NULL;\n+\n+  if (!gst_meta_info_is_custom (info))\n+    return NULL;\n+\n+  return (GstCustomMeta *) gst_buffer_get_meta (buffer, info->api);\n+}\n+\n@@ -2930,1 +3000,1 @@\n- * of memcpy operations in a pipeline.\n+ * of `memcpy` operations in a pipeline.\n@@ -2976,1 +3046,1 @@\n- * Create a copy of the given buffer. This will only copy the buffer's\n+ * Creates a copy of the given buffer. This will only copy the buffer's\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbuffer.c","additions":151,"deletions":81,"binary":false,"changes":232,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n- * A flags word containing #GstBufferFlags flags set on this buffer.\n+ * Returns a flags word containing #GstBufferFlags flags set on this buffer.\n@@ -87,1 +87,1 @@\n- * The presentation timestamp (pts) in nanoseconds (as a #GstClockTime)\n+ * Gets the presentation timestamp (pts) in nanoseconds (as a #GstClockTime)\n@@ -90,0 +90,1 @@\n+ *\n@@ -95,1 +96,1 @@\n- * @buf: a #GstBuffer.:\n+ * @buf: a #GstBuffer.\n@@ -97,1 +98,1 @@\n- * The decoding timestamp (dts) in nanoseconds (as a #GstClockTime)\n+ * Gets the decoding timestamp (dts) in nanoseconds (as a #GstClockTime)\n@@ -100,0 +101,1 @@\n+ *\n@@ -105,1 +107,1 @@\n- * @buf: a #GstBuffer.:\n+ * @buf: a #GstBuffer.\n@@ -117,1 +119,2 @@\n- * The duration in nanoseconds (as a #GstClockTime) of the data in the buffer.\n+ * Gets the duration in nanoseconds (as a #GstClockTime) of the data in the buffer.\n+ *\n@@ -125,1 +128,1 @@\n- * The offset in the source file of the beginning of this buffer.\n+ * Gets the offset in the source file of the beginning of this buffer.\n@@ -132,1 +135,1 @@\n- * The offset in the source file of the end of this buffer.\n+ * Gets the offset in the source file of the end of this buffer.\n@@ -214,8 +217,0 @@\n- * @GST_BUFFER_FLAG_SYNC_AFTER:    Elements which write to disk or permanent\n- *                                 storage should ensure the data is synced after\n- *                                 writing the contents of this buffer. (Since: 1.6)\n- * @GST_BUFFER_FLAG_NON_DROPPABLE: This buffer is important and should not be dropped.\n- *                                 This can be used to mark important buffers, e.g. to flag\n- *                                 RTP packets carrying keyframes or codec setup data for RTP\n- *                                 Forward Error Correction purposes, or to prevent still video\n- *                                 frames from being dropped by elements due to QoS. (Since: 1.14)\n@@ -239,0 +234,9 @@\n+\n+  \/**\n+   * GST_BUFFER_FLAG_SYNC_AFTER:\n+   *\n+   * Elements which write to disk or permanent storage should ensure the data\n+   * is synced after writing the contents of this buffer.\n+   *\n+   * Since: 1.6\n+   *\/\n@@ -240,0 +244,13 @@\n+\n+  \/**\n+   * GST_BUFFER_FLAG_NON_DROPPABLE:\n+   *\n+   * This buffer is important and should not be dropped.\n+   *\n+   * This can be used to mark important buffers, e.g. to flag RTP packets\n+   * carrying keyframes or codec setup data for RTP Forward Error Correction\n+   * purposes, or to prevent still video frames from being dropped by elements\n+   * due to QoS.\n+   *\n+   * Since: 1.14\n+   *\/\n@@ -304,0 +321,1 @@\n+\n@@ -307,0 +325,3 @@\n+GST_API\n+GstBuffer * gst_buffer_new_memdup           (gconstpointer data, gsize size);\n+\n@@ -473,2 +494,0 @@\n- * @GST_BUFFER_COPY_DEEP: flag indicating that memory should always be\n- *   copied instead of reffed (Since: 1.2)\n@@ -486,0 +505,8 @@\n+\n+  \/**\n+   * GST_BUFFER_COPY_DEEP:\n+   *\n+   * flag indicating that memory should always be copied instead of reffed\n+   *\n+   * Since: 1.2\n+   *\/\n@@ -624,0 +651,8 @@\n+GST_API\n+GstCustomMeta * gst_buffer_add_custom_meta      (GstBuffer *buffer,\n+                                                 const gchar *name);\n+\n+GST_API\n+GstCustomMeta * gst_buffer_get_custom_meta      (GstBuffer *buffer,\n+                                                 const gchar *name);\n+\n@@ -689,1 +724,1 @@\n- * Find and return a #GstParentBufferMeta if one exists on the\n+ * Finds and returns a #GstParentBufferMeta if one exists on the\n@@ -720,4 +755,4 @@\n- * references would be \"timestamp\/x-drivername-stream\" for timestamps that are locally\n- * generated by some driver named \"drivername\" when generating the stream,\n- * e.g. based on a frame counter, or \"timestamp\/x-ntp, host=pool.ntp.org,\n- * port=123\" for timestamps based on a specific NTP server.\n+ * references would be `timestamp\/x-drivername-stream` for timestamps that are locally\n+ * generated by some driver named `drivername` when generating the stream,\n+ * e.g. based on a frame counter, or `timestamp\/x-ntp, host=pool.ntp.org,\n+ * port=123` for timestamps based on a specific NTP server.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbuffer.h","additions":58,"deletions":23,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n- * using a gst_buffer_list_insert().\n+ * using gst_buffer_list_insert().\n@@ -150,3 +150,2 @@\n- * Creates a new, empty #GstBufferList. The caller is responsible for unreffing\n- * the returned #GstBufferList. The list will have @size space preallocated so\n- * that memory reallocations can be avoided.\n+ * Creates a new, empty #GstBufferList. The list will have @size space\n+ * preallocated so that memory reallocations can be avoided.\n@@ -154,4 +153,1 @@\n- * Free-function: gst_buffer_list_unref\n- *\n- * Returns: (transfer full): the new #GstBufferList. gst_buffer_list_unref()\n- *     after usage.\n+ * Returns: (transfer full): the new #GstBufferList.\n@@ -185,4 +181,1 @@\n- * Creates a new, empty #GstBufferList. The caller is responsible for unreffing\n- * the returned #GstBufferList.\n- *\n- * Free-function: gst_buffer_list_unref\n+ * Creates a new, empty #GstBufferList.\n@@ -190,2 +183,1 @@\n- * Returns: (transfer full): the new #GstBufferList. gst_buffer_list_unref()\n- *     after usage.\n+ * Returns: (transfer full): the new #GstBufferList.\n@@ -243,1 +235,1 @@\n- * Call @func with @data for each buffer in @list.\n+ * Calls @func with @data for each buffer in @list.\n@@ -246,1 +238,1 @@\n- * of @func define if this function returns or if the remaining buffers in\n+ * of @func defines if this function returns or if the remaining buffers in\n@@ -344,1 +336,1 @@\n- * Get the buffer at @idx.\n+ * Gets the buffer at @idx.\n@@ -416,1 +408,1 @@\n- * Insert @buffer at @idx in @list. Other buffers are moved to make room for\n+ * Inserts @buffer at @idx in @list. Other buffers are moved to make room for\n@@ -476,1 +468,1 @@\n- * Remove @length buffers starting from @idx in @list. The following buffers\n+ * Removes @length buffers starting from @idx in @list. The following buffers\n@@ -494,2 +486,2 @@\n- * Create a copy of the given buffer list. This will make a newly allocated\n- * copy of the buffer that the source buffer list contains.\n+ * Creates a copy of the given buffer list. This will make a newly allocated\n+ * copy of the buffers that the source buffer list contains.\n@@ -533,1 +525,1 @@\n- * Calculates the size of the data contained in buffer list by adding the\n+ * Calculates the size of the data contained in @list by adding the\n@@ -536,1 +528,1 @@\n- * Returns: the size of the data contained in buffer list in bytes.\n+ * Returns: the size of the data contained in @list in bytes.\n@@ -614,1 +606,1 @@\n- * Create a shallow copy of the given buffer list. This will make a newly\n+ * Creates a shallow copy of the given buffer list. This will make a newly\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferlist.c","additions":16,"deletions":24,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- * @buffer: (out) (nullable): pointer the buffer\n+ * @buffer: (out) (nullable): pointer to the buffer\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferlist.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n- * After the a pool has been configured, it can be activated with\n+ * After the pool has been configured, it can be activated with\n@@ -62,3 +62,0 @@\n- *\n- * Use gst_object_unref() to release the reference to a bufferpool. If the\n- * refcount of the pool reaches 0, the pool will be freed.\n@@ -118,0 +115,1 @@\n+static void gst_buffer_pool_dispose (GObject * object);\n@@ -139,0 +137,1 @@\n+  gobject_class->dispose = gst_buffer_pool_dispose;\n@@ -183,0 +182,17 @@\n+static void\n+gst_buffer_pool_dispose (GObject * object)\n+{\n+  GstBufferPool *pool;\n+  GstBufferPoolPrivate *priv;\n+\n+  pool = GST_BUFFER_POOL_CAST (object);\n+  priv = pool->priv;\n+\n+  GST_DEBUG_OBJECT (pool, \"%p dispose\", pool);\n+\n+  gst_buffer_pool_set_active (pool, FALSE);\n+  gst_clear_object (&priv->allocator);\n+\n+  G_OBJECT_CLASS (gst_buffer_pool_parent_class)->dispose (object);\n+}\n+\n@@ -194,1 +210,0 @@\n-  gst_buffer_pool_set_active (pool, FALSE);\n@@ -199,2 +214,0 @@\n-  if (priv->allocator)\n-    gst_object_unref (priv->allocator);\n@@ -480,1 +493,1 @@\n- * Control the active state of @pool. When the pool is inactive, new calls to\n+ * Controls the active state of @pool. When the pool is inactive, new calls to\n@@ -575,1 +588,1 @@\n- * Check if @pool is active. A pool can be activated with the\n+ * Checks if @pool is active. A pool can be activated with the\n@@ -636,2 +649,2 @@\n- * Set the configuration of the pool. If the pool is already configured, and\n- * the configuration haven't change, this function will return %TRUE. If the\n+ * Sets the configuration of the pool. If the pool is already configured, and\n+ * the configuration hasn't changed, this function will return %TRUE. If the\n@@ -639,1 +652,1 @@\n- * will remain. Buffers allocated form this pool must be returned or else this\n+ * will remain. Buffers allocated from this pool must be returned or else this\n@@ -730,3 +743,2 @@\n- * Get a copy of the current configuration of the pool. This configuration\n- * can either be modified and used for the gst_buffer_pool_set_config() call\n- * or it must be freed after usage.\n+ * Gets a copy of the current configuration of the pool. This configuration\n+ * can be modified and used for the gst_buffer_pool_set_config() call.\n@@ -734,2 +746,1 @@\n- * Returns: (transfer full): a copy of the current configuration of @pool. use\n- * gst_structure_free() after usage or gst_buffer_pool_set_config().\n+ * Returns: (transfer full): a copy of the current configuration of @pool.\n@@ -757,1 +768,1 @@\n- * Get a %NULL terminated array of string with supported bufferpool options for\n+ * Gets a %NULL terminated array of string with supported bufferpool options for\n@@ -795,1 +806,1 @@\n- * Check if the bufferpool supports @option.\n+ * Checks if the bufferpool supports @option.\n@@ -825,1 +836,1 @@\n- * Configure @config with the given parameters.\n+ * Configures @config with the given parameters.\n@@ -848,1 +859,1 @@\n- * Set the @allocator and @params on @config.\n+ * Sets the @allocator and @params on @config.\n@@ -878,1 +889,1 @@\n- * Enabled the option in @config. This will instruct the @bufferpool to enable\n+ * Enables the option in @config. This will instruct the @bufferpool to enable\n@@ -881,1 +892,1 @@\n- * The supported options by @pool can be retrieved with gst_buffer_pool_get_options().\n+ * The options supported by @pool can be retrieved with gst_buffer_pool_get_options().\n@@ -917,1 +928,1 @@\n- * Retrieve the number of values currently stored in the options array of the\n+ * Retrieves the number of values currently stored in the options array of the\n@@ -942,1 +953,1 @@\n- * Parse an available @config and get the option at @index of the options API\n+ * Parses an available @config and gets the option at @index of the options API\n@@ -945,1 +956,1 @@\n- * Returns: (nullable): a #gchar of the option at @index.\n+ * Returns: (nullable): the option at @index.\n@@ -971,1 +982,1 @@\n- * Check if @config contains @option.\n+ * Checks if @config contains @option.\n@@ -1004,1 +1015,1 @@\n- * Get the configuration values from @config.\n+ * Gets the configuration values from @config.\n@@ -1030,1 +1041,1 @@\n- * Get the @allocator and @params from @config.\n+ * Gets the @allocator and @params from @config.\n@@ -1065,1 +1076,1 @@\n- * Validate that changes made to @config are still valid in the context of the\n+ * Validates that changes made to @config are still valid in the context of the\n@@ -1253,1 +1264,1 @@\n- * Acquire a buffer from @pool. @buffer should point to a memory location that\n+ * Acquires a buffer from @pool. @buffer should point to a memory location that\n@@ -1256,2 +1267,1 @@\n- * @params can be %NULL or contain optional parameters to influence the\n- * allocation.\n+ * @params can contain optional parameters to influence the allocation.\n@@ -1351,1 +1361,1 @@\n- * Release @buffer to @pool. @buffer should have previously been allocated from\n+ * Releases @buffer to @pool. @buffer should have previously been allocated from\n@@ -1390,1 +1400,1 @@\n- * Enable or disable the flushing state of a @pool without freeing or\n+ * Enables or disables the flushing state of a @pool without freeing or\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferpool.c","additions":45,"deletions":35,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -101,0 +101,2 @@\n+ * @object: the parent structure\n+ * @flushing: whether the pool is currently gathering back outstanding buffers\n@@ -120,31 +122,0 @@\n- * @get_options: get a list of options supported by this pool\n- * @set_config: apply the bufferpool configuration. The default configuration\n- *              will parse the default config parameters\n- * @start: start the bufferpool. The default implementation will preallocate\n- *         min-buffers buffers and put them in the queue\n- * @stop: stop the bufferpool. the default implementation will free the\n- *        preallocated buffers. This function is called when all the buffers are\n- *        returned to the pool.\n- * @acquire_buffer: get a new buffer from the pool. The default implementation\n- *        will take a buffer from the queue and optionally wait for a buffer to\n- *        be released when there are no buffers available.\n- * @alloc_buffer: allocate a buffer. the default implementation allocates\n- *        buffers from the configured memory allocator and with the configured\n- *        parameters. All metadata that is present on the allocated buffer will\n- *        be marked as #GST_META_FLAG_POOLED and #GST_META_FLAG_LOCKED and will\n- *        not be removed from the buffer in @reset_buffer. The buffer should\n- *        have the GST_BUFFER_FLAG_TAG_MEMORY cleared.\n- * @reset_buffer: reset the buffer to its state when it was freshly allocated.\n- *        The default implementation will clear the flags, timestamps and\n- *        will remove the metadata without the #GST_META_FLAG_POOLED flag (even\n- *        the metadata with #GST_META_FLAG_LOCKED). If the\n- *        #GST_BUFFER_FLAG_TAG_MEMORY was set, this function can also try to\n- *        restore the memory and clear the #GST_BUFFER_FLAG_TAG_MEMORY again.\n- * @release_buffer: release a buffer back in the pool. The default\n- *        implementation will put the buffer back in the queue and notify any\n- *        blocking acquire_buffer calls when the #GST_BUFFER_FLAG_TAG_MEMORY\n- *        is not set on the buffer. If #GST_BUFFER_FLAG_TAG_MEMORY is set, the\n- *        buffer will be freed with @free_buffer.\n- * @free_buffer: free a buffer. The default implementation unrefs the buffer.\n- * @flush_start: enter the flushing state. (Since: 1.4)\n- * @flush_stop: leave the flushign state. (Since: 1.4)\n@@ -152,1 +123,1 @@\n- * The GstBufferPool class.\n+ * The #GstBufferPool class.\n@@ -158,0 +129,10 @@\n+\n+  \/**\n+   * GstBufferPoolClass::get_options:\n+   * @pool: the #GstBufferPool\n+   *\n+   * Get a list of options supported by this pool\n+   *\n+   * Returns: (array zero-terminated=1) (transfer none): a %NULL terminated array\n+   *          of strings.\n+   *\/\n@@ -159,0 +140,11 @@\n+\n+  \/**\n+   * GstBufferPoolClass::set_config:\n+   * @pool: the #GstBufferPool\n+   * @config: the required configuration\n+   *\n+   * Apply the bufferpool configuration. The default configuration will parse\n+   * the default config parameters.\n+   *\n+   * Returns: whether the configuration could be set.\n+   *\/\n@@ -161,0 +153,9 @@\n+  \/**\n+   * GstBufferPoolClass::start:\n+   * @pool: the #GstBufferPool\n+   *\n+   * Start the bufferpool. The default implementation will preallocate\n+   * min-buffers buffers and put them in the queue.\n+   *\n+   * Returns: whether the pool could be started.\n+   *\/\n@@ -162,0 +163,11 @@\n+\n+  \/**\n+   * GstBufferPoolClass::stop:\n+   * @pool: the #GstBufferPool\n+   *\n+   * Stop the bufferpool. the default implementation will free the\n+   * preallocated buffers. This function is called when all the buffers are\n+   * returned to the pool.\n+   *\n+   * Returns: whether the pool could be stopped.\n+   *\/\n@@ -164,0 +176,13 @@\n+  \/**\n+   * GstBufferPoolClass::acquire_buffer:\n+   * @pool: the #GstBufferPool\n+   * @buffer: (out): a location for a #GstBuffer\n+   * @params: (transfer none) (allow-none): parameters.\n+   *\n+   * Get a new buffer from the pool. The default implementation\n+   * will take a buffer from the queue and optionally wait for a buffer to\n+   * be released when there are no buffers available.\n+   *\n+   * Returns: a #GstFlowReturn such as %GST_FLOW_FLUSHING when the pool is\n+   * inactive.\n+   *\/\n@@ -166,0 +191,17 @@\n+\n+  \/**\n+   * GstBufferPoolClass::alloc_buffer:\n+   * @pool: the #GstBufferPool\n+   * @buffer: (out): a location for a #GstBuffer\n+   * @params: (transfer none) (allow-none): parameters.\n+   *\n+   * Allocate a buffer. the default implementation allocates\n+   * buffers from the configured memory allocator and with the configured\n+   * parameters. All metadata that is present on the allocated buffer will\n+   * be marked as #GST_META_FLAG_POOLED and #GST_META_FLAG_LOCKED and will\n+   * not be removed from the buffer in #GstBufferPoolClass::reset_buffer.\n+   * The buffer should have the #GST_BUFFER_FLAG_TAG_MEMORY cleared.\n+   *\n+   * Returns: a #GstFlowReturn to indicate whether the allocation was\n+   * successful.\n+   *\/\n@@ -168,0 +210,13 @@\n+\n+  \/**\n+   * GstBufferPoolClass::reset_buffer:\n+   * @pool: the #GstBufferPool\n+   * @buffer: the #GstBuffer to reset\n+   *\n+   * Reset the buffer to its state when it was freshly allocated.\n+   * The default implementation will clear the flags, timestamps and\n+   * will remove the metadata without the #GST_META_FLAG_POOLED flag (even\n+   * the metadata with #GST_META_FLAG_LOCKED). If the\n+   * #GST_BUFFER_FLAG_TAG_MEMORY was set, this function can also try to\n+   * restore the memory and clear the #GST_BUFFER_FLAG_TAG_MEMORY again.\n+   *\/\n@@ -169,0 +224,13 @@\n+\n+  \/**\n+   * GstBufferPoolClass::release_buffer:\n+   * @pool: the #GstBufferPool\n+   * @buffer: the #GstBuffer to release\n+   *\n+   * Release a buffer back in the pool. The default implementation\n+   * will put the buffer back in the queue and notify any\n+   * blocking #GstBufferPoolClass::acquire_buffer calls when the\n+   * #GST_BUFFER_FLAG_TAG_MEMORY is not set on the buffer.\n+   * If #GST_BUFFER_FLAG_TAG_MEMORY is set, the buffer will be freed with\n+   * #GstBufferPoolClass::free_buffer.\n+   *\/\n@@ -170,0 +238,8 @@\n+\n+  \/**\n+   * GstBufferPoolClass::free_buffer:\n+   * @pool: the #GstBufferPool\n+   * @buffer: the #GstBuffer to free\n+   *\n+   * Free a buffer. The default implementation unrefs the buffer.\n+   *\/\n@@ -171,0 +247,9 @@\n+\n+  \/**\n+   * GstBufferPoolClass::flush_start:\n+   * @pool: the #GstBufferPool\n+   *\n+   * Enter the flushing state.\n+   *\n+   * Since: 1.4\n+   *\/\n@@ -172,0 +257,9 @@\n+\n+  \/**\n+   * GstBufferPoolClass::flush_stop:\n+   * @pool: the #GstBufferPool\n+   *\n+   * Leave the flushing state.\n+   *\n+   * Since: 1.4\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbufferpool.h","additions":126,"deletions":32,"binary":false,"changes":158,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n- * possible to handle the delivery in the glib mainloop.\n+ * possible to handle the delivery in the glib #GMainLoop.\n@@ -150,1 +150,1 @@\n-  GSource *signal_watch;\n+  GSource *gsource;\n@@ -200,1 +200,1 @@\n-   * GstBus::enable-async:\n+   * GstBus:enable-async:\n@@ -202,1 +202,1 @@\n-   * Enable async message delivery support for bus watches,\n+   * Enables async message delivery support for bus watches,\n@@ -217,1 +217,1 @@\n-   * @bus: the object which received the signal\n+   * @self: the object which received the signal\n@@ -234,1 +234,1 @@\n-   * @bus: the object which received the signal\n+   * @self: the object which received the signal\n@@ -238,2 +238,2 @@\n-   * GSource added to the mainloop. this signal will only be emitted when\n-   * there is a mainloop running.\n+   * #GSource added to the mainloop. this signal will only be emitted when\n+   * there is a #GMainLoop running.\n@@ -323,1 +323,1 @@\n- * Post a message on the given bus. Ownership of the message\n+ * Posts a message on the given bus. Ownership of the message\n@@ -327,2 +327,0 @@\n- *\n- * MT safe.\n@@ -448,1 +446,1 @@\n- * Check if there are pending messages on the bus that\n+ * Checks if there are pending messages on the bus that\n@@ -453,2 +451,0 @@\n- *\n- * MT safe.\n@@ -474,1 +470,1 @@\n- * If @flushing, flush out and unref any messages queued in the bus. Releases\n+ * If @flushing, flushes out and unrefs any messages queued in the bus. Releases\n@@ -477,2 +473,0 @@\n- *\n- * MT safe.\n@@ -510,2 +504,2 @@\n- * @timeout: a timeout in nanoseconds, or GST_CLOCK_TIME_NONE to wait forever\n- * @types: message types to take into account, GST_MESSAGE_ANY for any type\n+ * @timeout: a timeout in nanoseconds, or %GST_CLOCK_TIME_NONE to wait forever\n+ * @types: message types to take into account, %GST_MESSAGE_ANY for any type\n@@ -513,1 +507,1 @@\n- * Get a message from the bus whose type matches the message type mask @types,\n+ * Gets a message from the bus whose type matches the message type mask @types,\n@@ -523,5 +517,1 @@\n- *     the bus until the timeout expired. The message is taken from\n- *     the bus and needs to be unreffed with gst_message_unref() after\n- *     usage.\n- *\n- * MT safe.\n+ *     the bus until the timeout expired.\n@@ -613,1 +603,1 @@\n-      GST_INFO_OBJECT (bus, \"timed out, breaking loop\");\n+      GST_DEBUG_OBJECT (bus, \"timed out, breaking loop\");\n@@ -616,1 +606,1 @@\n-      GST_INFO_OBJECT (bus, \"we got woken up, recheck for message\");\n+      GST_DEBUG_OBJECT (bus, \"we got woken up, recheck for message\");\n@@ -633,1 +623,1 @@\n- * Get a message from the bus, waiting up to the specified timeout.\n+ * Gets a message from the bus, waiting up to the specified timeout.\n@@ -641,4 +631,1 @@\n- *     after the timeout expired.  The message is taken from the bus\n- *     and needs to be unreffed with gst_message_unref() after usage.\n- *\n- * MT safe.\n+ *     after the timeout expired.\n@@ -659,1 +646,1 @@\n- * Get a message matching @type from the bus.  Will discard all messages on\n+ * Gets a message matching @type from the bus.  Will discard all messages on\n@@ -667,4 +654,1 @@\n- *     is no message matching @type. The message is taken from the bus\n- *     and needs to be unreffed with gst_message_unref() after usage.\n- *\n- * MT safe.\n+ *     is no message matching @type.\n@@ -685,1 +669,1 @@\n- * Get a message from the bus.\n+ * Gets a message from the bus.\n@@ -688,5 +672,1 @@\n- *     bus, or %NULL if the bus is empty. The message is taken from\n- *     the bus and needs to be unreffed with gst_message_unref() after\n- *     usage.\n- *\n- * MT safe.\n+ *     bus, or %NULL if the bus is empty.\n@@ -706,3 +686,2 @@\n- * Peek the message on the top of the bus' queue. The message will remain\n- * on the bus' message queue. A reference is returned, and needs to be unreffed\n- * by the caller.\n+ * Peeks the message on the top of the bus' queue. The message will remain\n+ * on the bus' message queue.\n@@ -712,2 +691,0 @@\n- *\n- * MT safe.\n@@ -807,7 +784,0 @@\n-static gboolean\n-gst_bus_source_prepare (GSource * source, gint * timeout)\n-{\n-  *timeout = -1;\n-  return FALSE;\n-}\n-\n@@ -879,2 +849,2 @@\n-  if (bus->priv->signal_watch == source)\n-    bus->priv->signal_watch = NULL;\n+  if (bus->priv->gsource == source)\n+    bus->priv->gsource = NULL;\n@@ -895,2 +865,2 @@\n-  if (bus->priv->signal_watch == source)\n-    bus->priv->signal_watch = NULL;\n+  if (bus->priv->gsource == source)\n+    bus->priv->gsource = NULL;\n@@ -900,2 +870,1 @@\n-  gst_object_unref (bsource->bus);\n-  bsource->bus = NULL;\n+  gst_clear_object (&bsource->bus);\n@@ -905,1 +874,1 @@\n-  gst_bus_source_prepare,\n+  NULL,\n@@ -911,0 +880,27 @@\n+\n+static GSource *\n+gst_bus_create_watch_unlocked (GstBus * bus)\n+{\n+  GstBusSource *source;\n+\n+  if (bus->priv->gsource) {\n+    GST_ERROR_OBJECT (bus,\n+        \"Tried to add new GSource while one was already there\");\n+    return NULL;\n+  }\n+\n+  bus->priv->gsource = g_source_new (&gst_bus_source_funcs,\n+      sizeof (GstBusSource));\n+  source = (GstBusSource *) bus->priv->gsource;\n+\n+  g_source_set_name ((GSource *) source, \"GStreamer message bus watch\");\n+#if GLIB_CHECK_VERSION(2,63,3)\n+  g_source_set_dispose_function ((GSource *) source, gst_bus_source_dispose);\n+#endif\n+\n+  source->bus = gst_object_ref (bus);\n+  g_source_add_poll ((GSource *) source, &bus->priv->pollfd);\n+\n+  return (GSource *) source;\n+}\n+\n@@ -915,1 +911,1 @@\n- * Create watch for this bus. The GSource will be dispatched whenever\n+ * Create watch for this bus. The #GSource will be dispatched whenever\n@@ -919,1 +915,4 @@\n- * Returns: (transfer full) (nullable): a #GSource that can be added to a mainloop.\n+ * As with other watches, there can only be one watch on the bus, including\n+ * any signal watch added with #gst_bus_add_signal_watch.\n+ *\n+ * Returns: (transfer full) (nullable): a #GSource that can be added to a #GMainLoop.\n@@ -924,1 +923,1 @@\n-  GstBusSource *source;\n+  GSource *source;\n@@ -929,10 +928,3 @@\n-  source = (GstBusSource *) g_source_new (&gst_bus_source_funcs,\n-      sizeof (GstBusSource));\n-\n-  g_source_set_name ((GSource *) source, \"GStreamer message bus watch\");\n-#if GLIB_CHECK_VERSION(2,63,3)\n-  g_source_set_dispose_function ((GSource *) source, gst_bus_source_dispose);\n-#endif\n-\n-  source->bus = gst_object_ref (bus);\n-  g_source_add_poll ((GSource *) source, &bus->priv->pollfd);\n+  GST_OBJECT_LOCK (bus);\n+  source = gst_bus_create_watch_unlocked (bus);\n+  GST_OBJECT_UNLOCK (bus);\n@@ -940,1 +932,1 @@\n-  return (GSource *) source;\n+  return source;\n@@ -952,1 +944,1 @@\n-  if (bus->priv->signal_watch) {\n+  if (bus->priv->gsource) {\n@@ -958,1 +950,1 @@\n-  source = gst_bus_create_watch (bus);\n+  source = gst_bus_create_watch_unlocked (bus);\n@@ -974,1 +966,1 @@\n-    bus->priv->signal_watch = source;\n+    bus->priv->gsource = source;\n@@ -999,1 +991,1 @@\n- * The bus watch will only work if a GLib main loop is being run.\n+ * The bus watch will only work if a #GMainLoop is being run.\n@@ -1011,2 +1003,0 @@\n- * MT safe.\n- *\n@@ -1037,1 +1027,1 @@\n- * (%G_PRIORITY_DEFAULT). It is also possible to use a non-default main\n+ * ( %G_PRIORITY_DEFAULT ). It is also possible to use a non-default main\n@@ -1046,1 +1036,1 @@\n- * The bus watch will only work if a GLib main loop is being run.\n+ * The bus watch will only work if a #GMainLoop is being run.\n@@ -1055,2 +1045,0 @@\n- * MT safe.\n- *\n@@ -1086,1 +1074,1 @@\n-  if (bus->priv->signal_watch == NULL) {\n+  if (bus->priv->gsource == NULL) {\n@@ -1097,3 +1085,2 @@\n-  source =\n-      bus->priv->signal_watch ? g_source_ref (bus->priv->signal_watch) : NULL;\n-  bus->priv->signal_watch = NULL;\n+  source = g_source_ref (bus->priv->gsource);\n+  bus->priv->gsource = NULL;\n@@ -1187,1 +1174,1 @@\n- * Poll the bus for messages. Will block while waiting for messages to come.\n+ * Polls the bus for messages. Will block while waiting for messages to come.\n@@ -1201,1 +1188,1 @@\n- * This function will run a main loop from the default main context when\n+ * This function will run a #GMainLoop from the default main context when\n@@ -1222,3 +1209,1 @@\n- *     or %NULL if the poll timed out. The message is taken from the\n- *     bus and needs to be unreffed with gst_message_unref() after\n- *     usage.\n+ *     or %NULL if the poll timed out.\n@@ -1307,1 +1292,1 @@\n- * A helper GstBusSyncHandler that can be used to convert all synchronous\n+ * A helper #GstBusSyncHandler that can be used to convert all synchronous\n@@ -1310,1 +1295,1 @@\n- * Returns: GST_BUS_PASS\n+ * Returns: %GST_BUS_PASS\n@@ -1345,3 +1330,1 @@\n- * signal is marshalled to the main thread via the main loop.\n- *\n- * MT safe.\n+ * signal is marshalled to the main thread via the #GMainLoop.\n@@ -1373,2 +1356,0 @@\n- *\n- * MT safe.\n@@ -1399,1 +1380,1 @@\n- * message posted on the bus when the main loop is running.\n+ * message posted on the bus when the #GMainLoop is running.\n@@ -1407,2 +1388,0 @@\n- *\n- * MT safe.\n@@ -1421,2 +1400,2 @@\n-  \/* this should not fail because the counter above takes care of it *\/\n-  g_assert (!bus->priv->signal_watch);\n+  if (bus->priv->gsource)\n+    goto has_gsource;\n@@ -1427,1 +1406,1 @@\n-  if (G_UNLIKELY (!bus->priv->signal_watch))\n+  if (G_UNLIKELY (!bus->priv->gsource))\n@@ -1444,0 +1423,6 @@\n+has_gsource:\n+  {\n+    g_critical (\"Bus %s already has a GSource watch\", GST_OBJECT_NAME (bus));\n+    GST_OBJECT_UNLOCK (bus);\n+    return;\n+  }\n@@ -1451,1 +1436,1 @@\n- * (%G_PRIORITY_DEFAULT). It is also possible to use a non-default\n+ * ( %G_PRIORITY_DEFAULT ). It is also possible to use a non-default\n@@ -1462,2 +1447,0 @@\n- *\n- * MT safe.\n@@ -1476,2 +1459,0 @@\n- *\n- * MT safe.\n@@ -1497,2 +1478,2 @@\n-  GST_DEBUG_OBJECT (bus, \"removing signal watch %u\",\n-      g_source_get_id (bus->priv->signal_watch));\n+  GST_DEBUG_OBJECT (bus, \"removing gsource %u\",\n+      g_source_get_id (bus->priv->gsource));\n@@ -1500,3 +1481,3 @@\n-  source =\n-      bus->priv->signal_watch ? g_source_ref (bus->priv->signal_watch) : NULL;\n-  bus->priv->signal_watch = NULL;\n+  g_assert (bus->priv->gsource);\n+  source = g_source_ref (bus->priv->gsource);\n+  bus->priv->gsource = NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbus.c","additions":99,"deletions":118,"binary":false,"changes":217,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n- * If the handler returns GST_BUS_DROP, it should unref the message, else the\n+ * If the handler returns %GST_BUS_DROP, it should unref the message, else the\n@@ -101,2 +101,2 @@\n- * Note that this function is used as a GSourceFunc which means that returning\n- * %FALSE will remove the GSource from the mainloop.\n+ * Note that this function is used as a #GSourceFunc which means that returning\n+ * %FALSE will remove the #GSource from the mainloop.\n@@ -110,0 +110,1 @@\n+ * @object: the parent structure\n@@ -123,0 +124,6 @@\n+\/**\n+ * GstBusClass:\n+ * @parent_class: the parent class structure\n+ *\n+ * GStreamer bus class.\n+ *\/\n@@ -128,0 +135,8 @@\n+\n+  \/**\n+   * GstBusClass::message:\n+   * @bus: the #GstBus\n+   * @message: the message that has been posted asynchronously\n+   *\n+   * A message has been posted on the bus.\n+   *\/\n@@ -129,0 +144,8 @@\n+\n+  \/**\n+   * GstBusClass::sync_message:\n+   * @bus: the #GstBus\n+   * @message: the message that has been posted synchronously\n+   *\n+   * A message has been posted on the bus.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbus.h","additions":26,"deletions":3,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -38,1 +38,2 @@\n- * |[<!-- language=\"C\" -->\n+ *\n+ * ``` C\n@@ -46,1 +47,1 @@\n- * ]|\n+ * ```\n@@ -48,1 +49,1 @@\n- * A #GstCaps is fixed when it has no properties with ranges or lists. Use\n+ * A #GstCaps is fixed when it has no fields with ranges or lists. Use\n@@ -55,3 +56,3 @@\n- * Be aware that the current #GstCaps \/ #GstStructure serialization into string\n- * has limited support for nested #GstCaps \/ #GstStructure fields. It can only\n- * support one level of nesting. Using more levels will lead to unexpected\n+ * Be aware that until 1.20 the #GstCaps \/ #GstStructure serialization into string\n+ * had limited support for nested #GstCaps \/ #GstStructure fields. It could only\n+ * support one level of nesting. Using more levels would lead to unexpected\n@@ -249,1 +250,0 @@\n- * Caller is responsible for unreffing the returned caps.\n@@ -293,1 +293,0 @@\n- * Caller is responsible for unreffing the returned caps.\n@@ -320,1 +319,0 @@\n- * Caller is responsible for unreffing the returned caps.\n@@ -403,4 +401,3 @@\n- * Returns: (transfer full) (nullable): a pointer to the #GstCaps. Unref\n- *     after usage. Since the core holds an additional ref to the\n- *     returned caps, use gst_caps_make_writable() on the returned caps\n- *     to modify it.\n+ * Returns: (transfer full) (nullable): a pointer to the #GstCaps. Since the\n+ *     core holds an additional ref to the returned caps, use\n+ *     gst_caps_make_writable() on the returned caps to modify it.\n@@ -466,1 +463,1 @@\n- * Clean up the cached caps contained in @static_caps.\n+ * Cleans up the cached caps contained in @static_caps.\n@@ -703,1 +700,1 @@\n- * removes the structure with the given index from the list of structures\n+ * Removes the structure with the given index from the list of structures\n@@ -724,1 +721,1 @@\n- * Appends @structure to @caps if its not already expressed by @caps.\n+ * Appends @structure to @caps if it is not already expressed by @caps.\n@@ -862,2 +859,1 @@\n- * Finds the structure in @caps that has the index @index, and\n- * returns it.\n+ * Finds the structure in @caps at @index, and returns it.\n@@ -865,2 +861,2 @@\n- * WARNING: This function takes a const GstCaps *, but returns a\n- * non-const GstStructure *.  This is for programming convenience --\n+ * WARNING: This function takes a `const GstCaps *`, but returns a\n+ * non-const `GstStructure *`.  This is for programming convenience --\n@@ -874,3 +870,0 @@\n- * You do not need to free or unref the structure returned, it\n- * belongs to the #GstCaps.\n- *\n@@ -894,2 +887,1 @@\n- * Finds the features in @caps that has the index @index, and\n- * returns it.\n+ * Finds the features in @caps at @index, and returns it.\n@@ -897,3 +889,3 @@\n- * WARNING: This function takes a const GstCaps *, but returns a\n- * non-const GstCapsFeatures *.  This is for programming convenience --\n- * the caller should be aware that structures inside a constant\n+ * WARNING: This function takes a `const GstCaps *`, but returns a\n+ * non-const `GstCapsFeatures *`.  This is for programming convenience --\n+ * the caller should be aware that features inside a constant\n@@ -906,3 +898,0 @@\n- * You do not need to free or unref the structure returned, it\n- * belongs to the #GstCaps.\n- *\n@@ -953,1 +942,1 @@\n- * Sets the #GstCapsFeatures @features for the structure at @index.\n+ * Sets the @features for the structure at @index.\n@@ -985,1 +974,1 @@\n- * Sets the #GstCapsFeatures @features for all the structures of @caps.\n+ * Sets the @features for all the structures of @caps.\n@@ -1059,1 +1048,1 @@\n- * Discard all but the first structure from @caps. Useful when\n+ * Discards all but the first structure from @caps. Useful when\n@@ -1067,1 +1056,1 @@\n- * structure. If @caps is any or empty caps then then returned caps will be\n+ * structure. If @caps is any or empty caps then the returned caps will be\n@@ -2008,1 +1997,1 @@\n- * @GstStructures.\n+ * #GstStructure.\n@@ -2256,1 +2245,1 @@\n- * structure. If @caps are empty caps then then returned caps will be\n+ * structure. If @caps are empty caps then the returned caps will be\n@@ -2259,1 +2248,1 @@\n- * Calling this function with any caps is not allowed.\n+ * Calling this function with ANY caps is not allowed.\n@@ -2299,20 +2288,2 @@\n-\/**\n- * gst_caps_to_string:\n- * @caps: a #GstCaps\n- *\n- * Converts @caps to a string representation.  This string representation\n- * can be converted back to a #GstCaps by gst_caps_from_string().\n- *\n- * For debugging purposes its easier to do something like this:\n- * |[<!-- language=\"C\" -->\n- * GST_LOG (\"caps are %\" GST_PTR_FORMAT, caps);\n- * ]|\n- * This prints the caps in human readable form.\n- *\n- * The current implementation of serialization will lead to unexpected results\n- * when there are nested #GstCaps \/ #GstStructure deeper than one level.\n- *\n- * Returns: (transfer full): a newly allocated string representing @caps.\n- *\/\n-gchar *\n-gst_caps_to_string (const GstCaps * caps)\n+static gchar *\n+caps_serialize (const GstCaps * caps, GstSerializeFlags flags)\n@@ -2322,0 +2293,2 @@\n+  gboolean nested_structs_brackets =\n+      !(flags & GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n@@ -2374,1 +2347,2 @@\n-    priv_gst_structure_append_to_gstring (structure, s);\n+    priv_gst_structure_append_to_gstring (structure, s,\n+        nested_structs_brackets);\n@@ -2383,0 +2357,51 @@\n+\/**\n+ * gst_caps_to_string:\n+ * @caps: a #GstCaps\n+ *\n+ * Converts @caps to a string representation.  This string representation\n+ * can be converted back to a #GstCaps by gst_caps_from_string().\n+ *\n+ * For debugging purposes its easier to do something like this:\n+ *\n+ * ``` C\n+ * GST_LOG (\"caps are %\" GST_PTR_FORMAT, caps);\n+ * ```\n+ *\n+ * This prints the caps in human readable form.\n+ *\n+ * The implementation of serialization up to 1.20 would lead to unexpected results\n+ * when there were nested #GstCaps \/ #GstStructure deeper than one level.\n+ *\n+ * Returns: (transfer full): a newly allocated string representing @caps.\n+ *\/\n+gchar *\n+gst_caps_to_string (const GstCaps * caps)\n+{\n+  return caps_serialize (caps, GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n+}\n+\n+\/**\n+ * gst_caps_serialize:\n+ * @caps: a #GstCaps\n+ * @flags: a #GstSerializeFlags\n+ *\n+ * Converts @caps to a string representation.  This string representation can be\n+ * converted back to a #GstCaps by gst_caps_from_string().\n+ *\n+ * This prints the caps in human readable form.\n+ *\n+ * This version of the caps serialization function introduces support for nested\n+ * structures and caps but the resulting strings won't be parsable with\n+ * GStreamer prior to 1.20 unless #GST_SERIALIZE_FLAG_BACKWARD_COMPAT is passed\n+ * as @flag.\n+ *\n+ * Returns: (transfer full): a newly allocated string representing @caps.\n+ *\n+ * Since: 1.20\n+ *\/\n+gchar *\n+gst_caps_serialize (const GstCaps * caps, GstSerializeFlags flags)\n+{\n+  return caps_serialize (caps, flags);\n+}\n+\n@@ -2408,1 +2433,1 @@\n-    if (!priv_gst_structure_parse_name (s, &s, &end, &next)) {\n+    if (!priv_gst_structure_parse_name (s, &s, &end, &next, FALSE)) {\n@@ -2487,2 +2512,2 @@\n- * The current implementation of serialization will lead to unexpected results\n- * when there are nested #GstCaps \/ #GstStructure deeper than one level.\n+ * The implementation of serialization up to 1.20 would lead to unexpected results\n+ * when there were nested #GstCaps \/ #GstStructure deeper than one level.\n@@ -2497,1 +2522,1 @@\n-  g_return_val_if_fail (string, FALSE);\n+  g_return_val_if_fail (string, NULL);\n@@ -2680,3 +2705,1 @@\n- * When you are finished with the caps, call gst_caps_unref() on it.\n- *\n- * Returns: the new #GstCaps\n+ * Returns: (transfer full): the new #GstCaps\n@@ -2693,1 +2716,1 @@\n- * Add a reference to a #GstCaps object.\n+ * Adds a reference to a #GstCaps object.\n@@ -2714,1 +2737,1 @@\n- * Unref a #GstCaps and and free all its structures and the\n+ * Unrefs a #GstCaps and frees all its structures and the\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcaps.c","additions":91,"deletions":68,"binary":false,"changes":159,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n- * @GST_CAPS_INTERSECT_ZIG_ZAG tries to preserve overall order of both caps\n+ * %GST_CAPS_INTERSECT_ZIG_ZAG tries to preserve overall order of both caps\n@@ -66,1 +66,2 @@\n- * |[\n+ *\n+ * ```\n@@ -72,1 +73,2 @@\n- * ]|\n+ * ```\n+ *\n@@ -77,1 +79,1 @@\n- * @GST_CAPS_INTERSECT_FIRST is useful when an element wants to preserve\n+ * %GST_CAPS_INTERSECT_FIRST is useful when an element wants to preserve\n@@ -79,2 +81,2 @@\n- * Example: If caps1 is [A, B, C] and caps2 is [E, B, D, A], the result\n- * would be [A, B], maintaining the first caps priority on the intersection.\n+ * Example: If caps1 is `[A, B, C]` and caps2 is `[E, B, D, A]`, the result\n+ * would be `[A, B]`, maintaining the first caps priority on the intersection.\n@@ -123,2 +125,1 @@\n- * Convenience macro that checks if the number of structures in the given caps\n- * is exactly one.\n+ * Checks if the number of structures in the given caps is exactly one.\n@@ -161,1 +162,1 @@\n- * A flags word containing #GstCapsFlags flags set on this caps.\n+ * Gets a flags word containing #GstCapsFlags flags set on this caps.\n@@ -170,1 +171,1 @@\n- * Get access to the reference count field of the caps\n+ * Gives access to the reference count field of the caps\n@@ -177,1 +178,1 @@\n- * Get the reference count value of the caps.\n+ * Gets the reference count value of the caps.\n@@ -309,1 +310,1 @@\n- * Datastructure to initialize #GstCaps from a string description usually\n+ * Data structure to initialize #GstCaps from a string description usually\n@@ -548,0 +549,2 @@\n+GST_API\n+gchar *           gst_caps_serialize               (const GstCaps *caps, GstSerializeFlags flags) G_GNUC_MALLOC;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcaps.h","additions":15,"deletions":12,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -43,2 +43,2 @@\n- * are given as a string of the format \"memory:GstMemoryTypeName\" or\n- * \"meta:GstMetaAPIName\".\n+ * are given as a string of the format `memory:GstMemoryTypeName` or\n+ * `meta:GstMetaAPIName`.\n@@ -174,2 +174,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -203,2 +201,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -220,0 +216,21 @@\n+\/**\n+ * gst_caps_features_new_single:\n+ * @feature: The feature\n+ *\n+ * Creates a new #GstCapsFeatures with a single feature.\n+ *\n+ * Returns: (transfer full): a new #GstCapsFeatures\n+ *\n+ * Since: 1.20\n+ *\/\n+GstCapsFeatures *\n+gst_caps_features_new_single (const gchar * feature)\n+{\n+  GstCapsFeatures *features;\n+  g_return_val_if_fail (feature != NULL, NULL);\n+\n+  features = gst_caps_features_new_empty ();\n+  gst_caps_features_add (features, feature);\n+  return features;\n+}\n+\n@@ -228,2 +245,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -256,2 +271,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -287,2 +300,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -315,2 +326,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -346,1 +355,1 @@\n- * the MT Refcounting section of the design documents.\n+ * [the MT refcounting design document](additional\/design\/MT-refcounting.md).\n@@ -383,2 +392,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -437,1 +444,2 @@\n- * |[<!-- language=\"C\" -->\n+ *\n+ * ``` C\n@@ -439,2 +447,1 @@\n- * ]|\n- * This prints the features in human readable form.\n+ * ```\n@@ -442,1 +449,1 @@\n- * Free-function: g_free\n+ * This prints the features in human readable form.\n@@ -445,1 +452,0 @@\n- *     g_free() after usage.\n@@ -492,2 +498,0 @@\n- * Free-function: gst_caps_features_free\n- *\n@@ -495,2 +499,1 @@\n- *     %NULL when the string could not be parsed. Free with\n- *     gst_caps_features_free() after use.\n+ *     %NULL when the string could not be parsed.\n@@ -652,1 +655,1 @@\n- * Check if @features contains @feature.\n+ * Checks if @features contains @feature.\n@@ -674,1 +677,1 @@\n- * Check if @features contains @feature.\n+ * Checks if @features contains @feature.\n@@ -708,1 +711,1 @@\n- * Check if @features1 and @features2 are equal.\n+ * Checks if @features1 and @features2 are equal.\n@@ -754,1 +757,1 @@\n- * Check if @features is %GST_CAPS_FEATURES_ANY.\n+ * Checks if @features is %GST_CAPS_FEATURES_ANY.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcapsfeatures.c","additions":33,"deletions":30,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -73,1 +73,4 @@\n-GstCapsFeatures * gst_caps_features_new (const gchar *feature1, ...);\n+GstCapsFeatures * gst_caps_features_new_single (const gchar *feature) G_GNUC_MALLOC;\n+\n+GST_API\n+GstCapsFeatures * gst_caps_features_new (const gchar *feature1, ...) G_GNUC_NULL_TERMINATED;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcapsfeatures.h","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -38,3 +38,3 @@\n- * Property names are written as \"child-name::property-name\". The whole naming\n- * scheme is recursive. Thus \"child1::child2::property\" is valid too, if\n- * \"child1\" and \"child2\" implement the #GstChildProxy interface.\n+ * Property names are written as `child-name::property-name`. The whole naming\n+ * scheme is recursive. Thus `child1::child2::property` is valid too, if\n+ * `child1` and `child2` implement the #GstChildProxy interface.\n@@ -113,3 +113,1 @@\n- *     not found. Unref after usage.\n- *\n- * MT safe.\n+ *     not found.\n@@ -140,3 +138,1 @@\n- *     not found (index too high). Unref after usage.\n- *\n- * MT safe.\n+ *     not found (index too high).\n@@ -166,2 +162,0 @@\n- *\n- * MT safe.\n@@ -195,2 +189,0 @@\n- * MT safe.\n- *\n@@ -199,1 +191,1 @@\n- * usage. For plain GObjects @target is the same as @object.\n+ * usage. For plain #GObject @target is the same as @object.\n@@ -275,1 +267,1 @@\n-  g_return_if_fail (G_IS_VALUE (value));\n+  g_return_if_fail (value != NULL);\n@@ -280,0 +272,4 @@\n+  if (!G_IS_VALUE (value)) {\n+    g_value_init (value, pspec->value_type);\n+  }\n+\n@@ -487,1 +483,1 @@\n- * Emits the \"child-added\" signal.\n+ * Emits the #GstChildProxy::child-added signal.\n@@ -502,1 +498,1 @@\n- * Emits the \"child-removed\" signal.\n+ * Emits the #GstChildProxy::child-removed signal.\n@@ -530,1 +526,1 @@\n-     * @child_proxy: the #GstChildProxy\n+     * @self: the #GstChildProxy\n@@ -544,1 +540,1 @@\n-     * @child_proxy: the #GstChildProxy\n+     * @self: the #GstChildProxy\n@@ -563,1 +559,1 @@\n-  static volatile gsize type = 0;\n+  static gsize type = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstchildproxy.c","additions":16,"deletions":20,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -47,3 +47,0 @@\n- * @get_child_by_name:  virtual method to fetch the child by name\n- * @get_child_by_index: virtual method to fetch the child by index\n- * @get_children_count: virtual method to get the children count\n@@ -58,0 +55,10 @@\n+\n+  \/**\n+   * GstChildProxyInterface.get_child_by_name:\n+   * @parent: the #GstChildProxy\n+   * @name: the name of the child to fetch\n+   *\n+   * Fetch a child object by name\n+   *\n+   * Returns: (transfer full) (nullable): the child object\n+   *\/\n@@ -59,0 +66,10 @@\n+\n+  \/**\n+   * GstChildProxyInterface.get_child_by_index:\n+   * @parent: the #GstChildProxy\n+   * @index: the index of the child to fetch\n+   *\n+   * Fetch a child object by index\n+   *\n+   * Returns: (transfer full) (nullable): the child object\n+   *\/\n@@ -60,0 +77,9 @@\n+\n+  \/**\n+   * GstChildProxyInterface.get_children_count:\n+   * @parent: the #GstChildProxy\n+   *\n+   * Get the number of children in @parent\n+   *\n+   * Returns: the number of children\n+   *\/\n@@ -61,0 +87,1 @@\n+\n@@ -63,0 +90,9 @@\n+\n+  \/**\n+   * GstChildProxyInterface.child_added:\n+   * @parent: the #GstChildProxy\n+   * @child: the child object\n+   * @name: the name of the child object\n+   *\n+   * Called when @child is added to @parent\n+   *\/\n@@ -64,0 +100,9 @@\n+\n+  \/**\n+   * GstChildProxyInterface.child_removed:\n+   * @parent: the #GstChildProxy\n+   * @child: the child object\n+   * @name: the name of the child object\n+   *\n+   * Called when @child is removed from @parent\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstchildproxy.h","additions":48,"deletions":3,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n- * newsegment events and the element's base time, see #GstPipeline.\n+ * #GST_EVENT_SEGMENT events and the element's base time, see #GstPipeline.\n@@ -52,1 +52,1 @@\n- * To perform a blocking wait for the specific time of the #GstClockID use the\n+ * To perform a blocking wait for the specific time of the #GstClockID use\n@@ -59,1 +59,1 @@\n- * until it is unscheduled. To schedule a sync periodic callback,\n+ * until they are unscheduled. To schedule a sync periodic callback,\n@@ -87,1 +87,1 @@\n- * slaved to another #GstClock with the gst_clock_set_master(). The clock will\n+ * slaved to another #GstClock with gst_clock_set_master(). The clock will\n@@ -313,0 +313,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (time), FALSE);\n+\n@@ -334,0 +336,3 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (start_time), FALSE);\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (interval), FALSE);\n+\n@@ -342,1 +347,1 @@\n- * Increase the refcount of given @id.\n+ * Increases the refcount of given @id.\n@@ -345,2 +350,0 @@\n- *\n- * MT safe.\n@@ -385,1 +388,1 @@\n- * Unref given @id. When the refcount reaches 0 the\n+ * Unrefs given @id. When the refcount reaches 0 the\n@@ -387,2 +390,0 @@\n- *\n- * MT safe.\n@@ -409,5 +410,2 @@\n- * Get a #GstClockID from @clock to trigger a single shot\n- * notification at the requested time. The single shot id should be\n- * unreffed after usage.\n- *\n- * Free-function: gst_clock_id_unref\n+ * Gets a #GstClockID from @clock to trigger a single shot\n+ * notification at the requested time.\n@@ -417,2 +415,0 @@\n- *\n- * MT safe.\n@@ -424,0 +420,1 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (time), NULL);\n@@ -435,1 +432,1 @@\n- * Get an ID from @clock to trigger a periodic notification.\n+ * Gets an ID from @clock to trigger a periodic notification.\n@@ -437,4 +434,1 @@\n- * will then be fired with the given @interval. @id should be unreffed\n- * after usage.\n- *\n- * Free-function: gst_clock_id_unref\n+ * will then be fired with the given @interval.\n@@ -444,2 +438,0 @@\n- *\n- * MT safe.\n@@ -468,3 +460,1 @@\n- * Returns: negative value if a < b; zero if a = b; positive value if a > b\n- *\n- * MT safe.\n+ * Returns: negative value if `a < b`; zero if `a = b`; positive value if `a > b`\n@@ -493,1 +483,1 @@\n- * Get the time of the clock ID\n+ * Gets the time of the clock ID\n@@ -496,2 +486,0 @@\n- *\n- * MT safe.\n@@ -513,1 +501,1 @@\n- * Perform a blocking wait on @id.\n+ * Performs a blocking wait on @id.\n@@ -531,2 +519,0 @@\n- *\n- * MT safe.\n@@ -604,1 +590,1 @@\n- * Register a callback on the given #GstClockID @id with the given\n+ * Registers a callback on the given #GstClockID @id with the given\n@@ -607,1 +593,1 @@\n- * with  a time set to GST_CLOCK_TIME_NONE. The callback will\n+ * with  a time set to %GST_CLOCK_TIME_NONE. The callback will\n@@ -614,2 +600,0 @@\n- *\n- * MT safe.\n@@ -680,1 +664,1 @@\n- * Cancel an outstanding request with @id. This can either\n+ * Cancels an outstanding request with @id. This can either\n@@ -684,2 +668,0 @@\n- *\n- * MT safe.\n@@ -750,1 +732,1 @@\n-   * @clock: the clock\n+   * @self: the clock\n@@ -753,1 +735,1 @@\n-   * Signaled on clocks with GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC set once\n+   * Signaled on clocks with %GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC set once\n@@ -833,1 +815,1 @@\n- * Set the accuracy of the clock. Some clocks have the possibility to operate\n+ * Sets the accuracy of the clock. Some clocks have the possibility to operate\n@@ -864,1 +846,1 @@\n- * Get the accuracy of the clock. The accuracy of the clock is the granularity\n+ * Gets the accuracy of the clock. The accuracy of the clock is the granularity\n@@ -868,2 +850,0 @@\n- *\n- * MT safe.\n@@ -1066,1 +1046,1 @@\n- * Returns: the internal time of the clock. Or GST_CLOCK_TIME_NONE when\n+ * Returns: the internal time of the clock. Or %GST_CLOCK_TIME_NONE when\n@@ -1068,2 +1048,0 @@\n- *\n- * MT safe.\n@@ -1113,1 +1091,1 @@\n- * Returns: the time of the clock. Or GST_CLOCK_TIME_NONE when\n+ * Returns: the time of the clock. Or %GST_CLOCK_TIME_NONE when\n@@ -1115,2 +1093,0 @@\n- *\n- * MT safe.\n@@ -1162,1 +1138,1 @@\n- * |[\n+ * ``` C\n@@ -1164,1 +1140,1 @@\n- * ]|\n+ * ```\n@@ -1172,2 +1148,0 @@\n- *\n- * MT safe.\n@@ -1182,0 +1156,2 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (internal));\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (external));\n@@ -1214,2 +1190,0 @@\n- *\n- * MT safe.\n@@ -1276,1 +1250,1 @@\n- * Set @master as the master clock for @clock. @clock will be automatically\n+ * Sets @master as the master clock for @clock. @clock will be automatically\n@@ -1290,2 +1264,0 @@\n- *\n- * MT safe.\n@@ -1363,1 +1335,1 @@\n- * Get the master clock that @clock is slaved to or %NULL when the clock is\n+ * Gets the master clock that @clock is slaved to or %NULL when the clock is\n@@ -1367,4 +1339,1 @@\n- *     when this clock is not slaved to a master clock. Unref after\n- *     usage.\n- *\n- * MT safe.\n+ *     when this clock is not slaved to a master clock.\n@@ -1397,4 +1366,1 @@\n- *     underlying clock has been freed.  Unref after usage.\n- *\n- * MT safe.\n- *\n+ *     underlying clock has been freed.\n@@ -1425,3 +1391,0 @@\n- *\n- * MT safe.\n- *\n@@ -1472,2 +1435,0 @@\n- *\n- * MT safe.\n@@ -1509,0 +1470,2 @@\n+ * Returns: %TRUE if enough observations were added to run the\n+ * regression algorithm.\n@@ -1522,0 +1485,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (slave), FALSE);\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (master), FALSE);\n@@ -1584,1 +1549,1 @@\n- * Set the amount of time, in nanoseconds, to sample master and slave\n+ * Sets the amount of time, in nanoseconds, to sample master and slave\n@@ -1601,1 +1566,1 @@\n- * Get the amount of time that master and slave clocks are sampled.\n+ * Gets the amount of time that master and slave clocks are sampled.\n@@ -1695,1 +1660,1 @@\n- * For asynchronous waiting, the GstClock::synced signal can be used.\n+ * For asynchronous waiting, the #GstClock::synced signal can be used.\n@@ -1697,1 +1662,1 @@\n- * This returns immediately with TRUE if GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC\n+ * This returns immediately with %TRUE if %GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC\n@@ -1742,3 +1707,2 @@\n- * Checks if the clock is currently synced.\n- *\n- * This returns if GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC is not set on the clock.\n+ * Checks if the clock is currently synced, by looking at whether\n+ * %GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC is set.\n@@ -1764,1 +1728,1 @@\n- * Sets @clock to synced and emits the GstClock::synced signal, and wakes up any\n+ * Sets @clock to synced and emits the #GstClock::synced signal, and wakes up any\n@@ -1767,1 +1731,1 @@\n- * This function must only be called if GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC\n+ * This function must only be called if %GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstclock.c","additions":48,"deletions":84,"binary":false,"changes":132,"status":"modified"},{"patch":"@@ -128,1 +128,1 @@\n- * Convert a #GstClockTime to seconds.\n+ * Converts a #GstClockTime to seconds.\n@@ -135,1 +135,1 @@\n- * Convert a #GstClockTime to milliseconds (1\/1000 of a second).\n+ * Converts a #GstClockTime to milliseconds (1\/1000 of a second).\n@@ -142,1 +142,1 @@\n- * Convert a #GstClockTime to microseconds (1\/1000000 of a second).\n+ * Converts a #GstClockTime to microseconds (1\/1000000 of a second).\n@@ -149,1 +149,1 @@\n- * Convert a #GstClockTime to nanoseconds (1\/1000000000 of a second).\n+ * Converts a #GstClockTime to nanoseconds (1\/1000000000 of a second).\n@@ -158,1 +158,1 @@\n- * Calculate a difference between two clock times as a #GstClockTimeDiff.\n+ * Calculates a difference between two clock times as a #GstClockTimeDiff.\n@@ -167,1 +167,1 @@\n- * Convert a GTimeVal to a #GstClockTime.\n+ * Converts a GTimeVal to a #GstClockTime.\n@@ -176,1 +176,1 @@\n- * Convert a #GstClockTime to a GTimeVal\n+ * Converts a #GstClockTime to a GTimeVal\n@@ -196,1 +196,1 @@\n- * Convert a struct timespec (see man pselect) to a #GstClockTime.\n+ * Converts a struct timespec (see `man pselect`) to a #GstClockTime.\n@@ -204,1 +204,1 @@\n- * Convert a #GstClockTime to a struct timespec (see man pselect)\n+ * Converts a #GstClockTime to a struct timespec (see `man pselect`)\n@@ -219,1 +219,1 @@\n- * #GstClockTime value in h:m:s format.  Use GST_TIME_ARGS() to construct\n+ * #GstClockTime value in `h:m:s` format.  Use GST_TIME_ARGS() to construct\n@@ -223,1 +223,2 @@\n- * |[<!-- language=\"C\" -->\n+ *\n+ * ``` C\n@@ -225,1 +226,1 @@\n- * ]|\n+ * ```\n@@ -232,1 +233,1 @@\n- * Format @t for the #GST_TIME_FORMAT format string. Note: @t will be\n+ * Formats @t for the #GST_TIME_FORMAT format string. Note: @t will be\n@@ -248,1 +249,1 @@\n- * #GstClockTimeDiff or #gint64 value in h:m:s format.  Use GST_TIME_ARGS() to\n+ * #GstClockTimeDiff or #gint64 value in `h:m:s` format.  Use GST_TIME_ARGS() to\n@@ -252,1 +253,2 @@\n- * |[\n+ *\n+ * ``` C\n@@ -254,1 +256,1 @@\n- * ]|\n+ * ```\n@@ -263,1 +265,1 @@\n- * Format @t for the #GST_STIME_FORMAT format string. Note: @t will be\n+ * Formats @t for the #GST_STIME_FORMAT format string. Note: @t will be\n@@ -339,1 +341,1 @@\n- * Cast to a clock entry\n+ * Casts to a clock entry\n@@ -348,1 +350,1 @@\n- * Get the owner clock of the entry\n+ * Gets the owner clock of the entry\n@@ -358,1 +360,1 @@\n- * Get the type of the clock entry\n+ * Gets the type of the clock entry\n@@ -365,1 +367,1 @@\n- * Get the requested time of this entry\n+ * Gets the requested time of this entry\n@@ -372,1 +374,1 @@\n- * Get the interval of this periodic entry\n+ * Gets the interval of this periodic entry\n@@ -394,1 +396,1 @@\n-  \/*< protected >*\/\n+  \/*< private >*\/\n@@ -426,2 +428,0 @@\n- * @GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC: clock needs to be synced before it can be used\n- *     (Since: 1.6)\n@@ -439,0 +439,8 @@\n+\n+  \/**\n+   * GST_CLOCK_FLAG_NEEDS_STARTUP_SYNC:\n+   *\n+   * clock needs to be synced before it can be used\n+   *\n+   * Since: 1.6\n+   *\/\n@@ -454,0 +462,1 @@\n+ * @object: the parent structure\n@@ -455,2 +464,1 @@\n- * #GstClock base structure. The values of this structure are\n- * protected for subclasses, use the methods to use the #GstClock.\n+ * #GstClock base structure.\n@@ -470,9 +478,0 @@\n- * @change_resolution: change the resolution of the clock. Not all values might\n- *                     be acceptable. The new resolution should be returned.\n- * @get_resolution: get the resolution of the clock.\n- * @get_internal_time: get the internal unadjusted time of the clock.\n- *        implement @wait_jitter instead.\n- * @wait: perform a blocking wait on the given #GstClockEntry and return\n- *               the jitter.\n- * @wait_async: perform an asynchronous wait for the given #GstClockEntry.\n- * @unschedule: unblock a blocking or async wait operation.\n@@ -488,0 +487,12 @@\n+\n+  \/**\n+   * GstClockClass::change_resolution:\n+   * @clock: the #GstClock\n+   * @old_resolution: the previous resolution\n+   * @new_resolution: the new resolution\n+   *\n+   * Change the resolution of the clock. Not all values might\n+   * be acceptable.\n+   *\n+   * Returns: the new resolution\n+   *\/\n@@ -491,0 +502,9 @@\n+\n+  \/**\n+   * GstClockClass::get_resolution:\n+   * @clock: the #GstClock\n+   *\n+   * Get the resolution of the clock.\n+   *\n+   * Returns: the current resolution\n+   *\/\n@@ -493,0 +513,10 @@\n+  \/**\n+   * GstClockClass::get_internal_time:\n+   * @clock: the #GstClock\n+   *\n+   * Get the internal unadjusted time of the clock.\n+   *\n+   * Implement #GstClockClass::wait instead.\n+   *\n+   * Returns: the internal time\n+   *\/\n@@ -496,0 +526,15 @@\n+\n+  \/**\n+   * GstClockClass::wait:\n+   * @clock: the #GstClock\n+   * @entry: the entry to wait on\n+   * @jitter: (out) (allow-none): a pointer that will contain the jitter\n+   *\n+   * Perform a blocking wait on the given #GstClockEntry and return\n+   * the jitter.\n+   *\n+   * Returns: the result of the blocking wait. #GST_CLOCK_EARLY will be returned\n+   * if the current clock time is past the time of @id, #GST_CLOCK_OK if\n+   * @id was scheduled in time. #GST_CLOCK_UNSCHEDULED if @id was\n+   * unscheduled with gst_clock_id_unschedule().\n+   *\/\n@@ -498,0 +543,10 @@\n+\n+  \/**\n+   * GstClockClass::wait_async:\n+   * @clock: the #GstClock\n+   * @entry: the entry to wait on\n+   *\n+   * Perform an asynchronous wait on the given #GstClockEntry.\n+   *\n+   * Returns: the result of the non blocking wait.\n+   *\/\n@@ -499,0 +554,8 @@\n+\n+  \/**\n+   * GstClockClass::unschedule:\n+   * @clock: the #GstClock\n+   * @entry: the entry to unschedule\n+   *\n+   * Unblock a blocking or async wait operation.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstclock.h","additions":99,"deletions":36,"binary":false,"changes":135,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * child elements. Elements can handle these in #GstElementClass.set_context()\n+ * child elements. Elements can handle these in #GstElementClass::set_context\n@@ -41,0 +41,1 @@\n+ *\n@@ -42,3 +43,3 @@\n- * 2. Query downstream with GST_QUERY_CONTEXT for the context\n- * 3. Query upstream with GST_QUERY_CONTEXT for the context\n- * 4. Post a GST_MESSAGE_NEED_CONTEXT message on the bus with the required\n+ * 2. Query downstream with %GST_QUERY_CONTEXT for the context\n+ * 3. Query upstream with %GST_QUERY_CONTEXT for the context\n+ * 4. Post a %GST_MESSAGE_NEED_CONTEXT message on the bus with the required\n@@ -46,1 +47,1 @@\n- * 5. Create a context by itself and post a GST_MESSAGE_HAVE_CONTEXT message\n+ * 5. Create a context by itself and post a %GST_MESSAGE_HAVE_CONTEXT message\n@@ -49,1 +50,1 @@\n- * Bins will catch GST_MESSAGE_NEED_CONTEXT messages and will set any previously\n+ * Bins will catch %GST_MESSAGE_NEED_CONTEXT messages and will set any previously\n@@ -53,1 +54,1 @@\n- * #GstContext<!-- -->s can be persistent.\n+ * #GstContext can be persistent.\n@@ -159,1 +160,1 @@\n- * Create a new context.\n+ * Creates a new context.\n@@ -192,1 +193,1 @@\n- * Get the type of @context.\n+ * Gets the type of @context.\n@@ -231,1 +232,1 @@\n- * Access the structure of the context.\n+ * Accesses the structure of the context.\n@@ -251,1 +252,1 @@\n- * Get a writable version of the structure.\n+ * Gets a writable version of the structure.\n@@ -253,1 +254,1 @@\n- * Returns: The structure of the context. The structure is still\n+ * Returns: (transfer none): The structure of the context. The structure is still\n@@ -273,1 +274,1 @@\n- * Check if @context is persistent.\n+ * Checks if @context is persistent.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcontext.c","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * A base class for value mapping objects that attaches control sources to gobject\n+ * A base class for value mapping objects that attaches control sources to #GObject\n@@ -247,1 +247,1 @@\n- * handle them and for the given timestamp.\n+ * handles it and for the given timestamp.\n@@ -263,0 +263,1 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (timestamp), FALSE);\n@@ -316,1 +317,1 @@\n- * requested time. The array @values need to hold enough space for @n_values of\n+ * requested time. The array @values needs to hold enough space for @n_values of\n@@ -485,1 +486,1 @@\n- * Check if the control binding is disabled.\n+ * Checks if the control binding is disabled.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcontrolbinding.c","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -59,0 +59,1 @@\n+ * @parent: the parent structure\n@@ -88,0 +89,1 @@\n+      \/*< private >*\/\n@@ -90,0 +92,1 @@\n+    \/*< private >*\/\n@@ -97,5 +100,0 @@\n- * @sync_values: implementation for updating the target values\n- * @get_value: implementation to fetch a single control-value\n- * @get_value_array: implementation to fetch a series of control-values\n- * @get_g_value_array: implementation to fetch a series of control-values\n- *                     as g_values\n@@ -111,0 +109,13 @@\n+\n+  \/**\n+   * GstControlBindingClass::sync_values:\n+   * @binding: the control binding\n+   * @object: the object that has controlled properties\n+   * @timestamp: the time that should be processed\n+   * @last_sync: the last time this was called\n+   *\n+   * Update the target values\n+   *\n+   * Returns: %TRUE if the controller value could be applied to the object\n+   * property, %FALSE otherwise\n+   *\/\n@@ -112,0 +123,11 @@\n+\n+  \/**\n+   * GstControlBindingClass::get_value:\n+   * @binding: the control binding\n+   * @timestamp: the time the control-change should be read from\n+   *\n+   * Fetch a single control-value\n+   *\n+   * Returns: (nullable): the GValue of the property at the given time,\n+   * or %NULL if the property isn't controlled.\n+   *\/\n@@ -113,0 +135,13 @@\n+\n+  \/**\n+   * GstControlBindingClass::get_value_array:\n+   * @binding: the control binding\n+   * @timestamp: the time that should be processed\n+   * @interval: the time spacing between subsequent values\n+   * @n_values: the number of values\n+   * @values: (array length=n_values): array to put control-values in\n+   *\n+   * Fetch a series of control-values\n+   *\n+   * Returns: %TRUE if the given array could be filled, %FALSE otherwise\n+   *\/\n@@ -114,0 +149,13 @@\n+\n+  \/**\n+   * GstControlBindingClass::get_g_value_array:\n+   * @binding: the control binding\n+   * @timestamp: the time that should be processed\n+   * @interval: the time spacing between subsequent values\n+   * @n_values: the number of values\n+   * @values: (array length=n_values): array to put control-values in\n+   *\n+   * Fetch a series of control-values as g_values\n+   *\n+   * Returns: %TRUE if the given array could be filled, %FALSE otherwise\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcontrolbinding.h","additions":53,"deletions":5,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -87,0 +87,1 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (timestamp), FALSE);\n@@ -115,0 +116,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (timestamp), FALSE);\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (interval), FALSE);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcontrolsource.c","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n- * Structure for saving a timestamp and a value.\n+ * Structure for storing a timestamp and a value.\n@@ -87,1 +87,1 @@\n- * Function for returning an array of values for starting at a given timestamp.\n+ * Function for returning an array of values starting at a given timestamp.\n@@ -97,0 +97,1 @@\n+ * @parent: the parent structure\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstcontrolsource.h","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * Date information is handled using the proleptic Gregorian calendar.\n+ * Date information is handled using the [proleptic Gregorian calendar].\n@@ -43,0 +43,2 @@\n+ *\n+ * [proleptic Gregorian calendar]: https:\/\/en.wikipedia.org\/wiki\/Proleptic_Gregorian_calendar\n@@ -73,1 +75,1 @@\n- * @dt: (transfer full): the #GDateTime. The new #GstDateTime takes ownership.\n+ * @dt: (transfer full) (nullable): the #GDateTime.\n@@ -77,2 +79,0 @@\n- * Free-function: gst_date_time_unref\n- *\n@@ -80,1 +80,1 @@\n- * or %NULL on error\n+ * or %NULL if @dt is %NULL.\n@@ -106,2 +106,0 @@\n- * Free-function: g_date_time_unref\n- *\n@@ -109,1 +107,2 @@\n- * %NULL on error\n+ * %NULL on error or if @datetime does not have a year, month, day, hour,\n+ * minute and second.\n@@ -198,1 +197,1 @@\n- * Returns the year of this #GstDateTime\n+ * Returns the year of this #GstDateTime.\n@@ -216,1 +215,0 @@\n- * Call gst_date_time_has_month() before, to avoid warnings.\n@@ -218,1 +216,1 @@\n- * Return value: The month of this #GstDateTime\n+ * Return value: The month of this #GstDateTime, or -1 if none is set.\n@@ -224,1 +222,3 @@\n-  g_return_val_if_fail (gst_date_time_has_month (datetime), 0);\n+\n+  if (!gst_date_time_has_month (datetime))\n+    return -1;\n@@ -234,1 +234,0 @@\n- * Call gst_date_time_has_day() before, to avoid warnings.\n@@ -236,1 +235,1 @@\n- * Return value: The day of this #GstDateTime\n+ * Return value: The day of this #GstDateTime, or -1 if none is set.\n@@ -242,1 +241,3 @@\n-  g_return_val_if_fail (gst_date_time_has_day (datetime), 0);\n+\n+  if (!gst_date_time_has_day (datetime))\n+    return -1;\n@@ -253,1 +254,0 @@\n- * Call gst_date_time_has_time() before, to avoid warnings.\n@@ -255,1 +255,1 @@\n- * Return value: the hour of the day\n+ * Return value: the hour of the day, or -1 if none is set.\n@@ -261,1 +261,3 @@\n-  g_return_val_if_fail (gst_date_time_has_time (datetime), 0);\n+\n+  if (!gst_date_time_has_time (datetime))\n+    return -1;\n@@ -272,1 +274,0 @@\n- * Call gst_date_time_has_time() before, to avoid warnings.\n@@ -274,1 +275,1 @@\n- * Return value: the minute of the hour\n+ * Return value: the minute of the hour, or -1 if none is set.\n@@ -280,1 +281,3 @@\n-  g_return_val_if_fail (gst_date_time_has_time (datetime), 0);\n+\n+  if (!gst_date_time_has_time (datetime))\n+    return -1;\n@@ -291,1 +294,0 @@\n- * Call gst_date_time_has_time() before, to avoid warnings.\n@@ -293,1 +295,1 @@\n- * Return value: the second represented by @datetime\n+ * Return value: the second represented by @datetime, or -1 if none is set.\n@@ -299,1 +301,3 @@\n-  g_return_val_if_fail (gst_date_time_has_second (datetime), 0);\n+\n+  if (!gst_date_time_has_second (datetime))\n+    return -1;\n@@ -311,1 +315,1 @@\n- * Return value: the microsecond of the second\n+ * Return value: the microsecond of the second, or -1 if none is set.\n@@ -317,1 +321,3 @@\n-  g_return_val_if_fail (gst_date_time_has_second (datetime), 0);\n+\n+  if (!gst_date_time_has_second (datetime))\n+    return -1;\n@@ -331,1 +337,1 @@\n- * Return value: the offset from UTC in hours\n+ * Return value: the offset from UTC in hours, or %G_MAXDOUBLE if none is set.\n@@ -337,1 +343,3 @@\n-  g_return_val_if_fail (gst_date_time_has_time (datetime), 0.0);\n+\n+  if (!gst_date_time_has_time (datetime))\n+    return G_MAXDOUBLE;\n@@ -352,3 +360,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -375,3 +382,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -402,3 +408,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -419,3 +424,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -429,0 +433,3 @@\n+  if (!datetime)\n+    return NULL;\n+\n@@ -439,3 +446,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -446,4 +452,7 @@\n-  GstDateTime *datetime;\n-  datetime =\n-      gst_date_time_new_from_g_date_time (g_date_time_new_from_unix_utc (secs));\n-  return datetime;\n+  GDateTime *datetime;\n+\n+  datetime = g_date_time_new_from_unix_utc (secs);\n+  if (!datetime)\n+    return NULL;\n+\n+  return gst_date_time_new_from_g_date_time (datetime);\n@@ -459,1 +468,2 @@\n- * Returns: (transfer full) (nullable): a newly created #GstDateTime\n+ * Returns: (transfer full) (nullable): a newly created #GstDateTime, or %NULL\n+ * on error.\n@@ -471,0 +481,2 @@\n+  if (!dt)\n+    return NULL;\n@@ -473,0 +485,3 @@\n+  if (!datetime)\n+    return NULL;\n+\n@@ -483,1 +498,2 @@\n- * Returns: (transfer full) (nullable): a newly created #GstDateTime\n+ * Returns: (transfer full) (nullable): a newly created #GstDateTime, or %NULL\n+ * on error.\n@@ -495,0 +511,2 @@\n+  if (!dt)\n+    return NULL;\n@@ -497,0 +515,3 @@\n+  if (!datetime)\n+    return NULL;\n+\n@@ -547,3 +568,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -556,0 +576,1 @@\n+  GDateTime *dt;\n@@ -558,6 +579,17 @@\n-  g_return_val_if_fail (year > 0 && year <= 9999, NULL);\n-  g_return_val_if_fail ((month > 0 && month <= 12) || month == -1, NULL);\n-  g_return_val_if_fail ((day > 0 && day <= 31) || day == -1, NULL);\n-  g_return_val_if_fail ((hour >= 0 && hour < 24) || hour == -1, NULL);\n-  g_return_val_if_fail ((minute >= 0 && minute < 60) || minute == -1, NULL);\n-  g_return_val_if_fail ((seconds >= 0 && seconds < 60) || seconds == -1, NULL);\n+  if (year <= 0 || year > 9999)\n+    return NULL;\n+\n+  if ((month <= 0 || month > 12) && month != -1)\n+    return NULL;\n+\n+  if ((day <= 0 || day > 31) && day != -1)\n+    return NULL;\n+\n+  if ((hour < 0 || hour >= 24) && hour != -1)\n+    return NULL;\n+\n+  if ((minute < 0 || minute >= 60) && minute != -1)\n+    return NULL;\n+\n+  if ((seconds < 0 || seconds >= 60) && seconds != -1)\n+    return NULL;\n@@ -568,4 +600,2 @@\n-  datetime = gst_date_time_new_from_g_date_time (g_date_time_new_local (year,\n-          month, day, hour, minute, seconds));\n-#ifdef GSTREAMER_LITE\n-  if (datetime == NULL)\n+  dt = g_date_time_new_local (year, month, day, hour, minute, seconds);\n+  if (dt == NULL)\n@@ -573,1 +603,0 @@\n-#endif \/\/ GSTREAMER_LITE\n@@ -575,0 +604,1 @@\n+  datetime = gst_date_time_new_from_g_date_time (dt);\n@@ -587,4 +617,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full): the newly created #GstDateTime which should\n- *     be freed with gst_date_time_unref().\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime which should\n+ *     be freed with gst_date_time_unref(), or %NULL on error.\n@@ -595,1 +623,7 @@\n-  return gst_date_time_new_from_g_date_time (g_date_time_new_now_local ());\n+  GDateTime *dt;\n+\n+  dt = g_date_time_new_now_local ();\n+  if (!dt)\n+    return NULL;\n+\n+  return gst_date_time_new_from_g_date_time (dt);\n@@ -604,4 +638,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full): the newly created #GstDateTime which should\n- *   be freed with gst_date_time_unref().\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime which should\n+ *   be freed with gst_date_time_unref(), or %NULL on error.\n@@ -612,1 +644,7 @@\n-  return gst_date_time_new_from_g_date_time (g_date_time_new_now_utc ());\n+  GDateTime *dt;\n+\n+  dt = g_date_time_new_now_utc ();\n+  if (!dt)\n+    return NULL;\n+\n+  return gst_date_time_new_from_g_date_time (dt);\n@@ -659,2 +697,2 @@\n- * if @month == -1, then #GstDateTime will created only for @year. If\n- * @day == -1, then #GstDateTime will created for @year and @month and\n+ * if @month == -1, then #GstDateTime will be created only for @year. If\n+ * @day == -1, then #GstDateTime will be created for @year and @month and\n@@ -663,3 +701,2 @@\n- * Free-function: gst_date_time_unref\n- *\n- * Return value: (transfer full) (nullable): the newly created #GstDateTime\n+ * Return value: (transfer full) (nullable): the newly created #GstDateTime,\n+ * or %NULL on error.\n@@ -678,9 +715,24 @@\n-  g_return_val_if_fail (year > 0 && year <= 9999, NULL);\n-  g_return_val_if_fail ((month > 0 && month <= 12) || month == -1, NULL);\n-  g_return_val_if_fail ((day > 0 && day <= 31) || day == -1, NULL);\n-  g_return_val_if_fail ((hour >= 0 && hour < 24) || hour == -1, NULL);\n-  g_return_val_if_fail ((minute >= 0 && minute < 60) || minute == -1, NULL);\n-  g_return_val_if_fail ((seconds >= 0 && seconds < 60) || seconds == -1, NULL);\n-  g_return_val_if_fail (tzoffset >= -12.0 && tzoffset <= 12.0, NULL);\n-  g_return_val_if_fail ((hour >= 0 && minute >= 0) ||\n-      (hour == -1 && minute == -1 && seconds == -1 && tzoffset == 0.0), NULL);\n+  if (year <= 0 || year > 9999)\n+    return NULL;\n+\n+  if ((month <= 0 || month > 12) && month != -1)\n+    return NULL;\n+\n+  if ((day <= 0 || day > 31) && day != -1)\n+    return NULL;\n+\n+  if ((hour < 0 || hour >= 24) && hour != -1)\n+    return NULL;\n+\n+  if ((minute < 0 || minute >= 60) && minute != -1)\n+    return NULL;\n+\n+  if ((seconds < 0 || seconds >= 60) && seconds != -1)\n+    return NULL;\n+\n+  if (tzoffset < -12.0 || tzoffset > 12.0)\n+    return NULL;\n+\n+  if ((hour < 0 || minute < 0) &&\n+      (hour != -1 || minute != -1 || seconds != -1 || tzoffset != 0.0))\n+    return NULL;\n@@ -694,0 +746,7 @@\n+#if GLIB_CHECK_VERSION (2, 67, 1)\n+  \/* g_time_zone_new() would always return UTC if the identifier can't be\n+   * parsed, which is rather suboptimal. *\/\n+  tz = g_time_zone_new_identifier (buf);\n+  if (!tz)\n+    return NULL;\n+#else\n@@ -695,0 +754,1 @@\n+#endif\n@@ -786,1 +846,1 @@\n- * @datetime: GstDateTime.\n+ * @datetime: a #GstDateTime.\n@@ -789,2 +849,2 @@\n- * are (for example): 2012, 2012-06, 2012-06-23, 2012-06-23T23:30Z,\n- * 2012-06-23T23:30+0100, 2012-06-23T23:30:59Z, 2012-06-23T23:30:59+0100\n+ * are (for example): `2012`, `2012-06`, `2012-06-23`, `2012-06-23T23:30Z`,\n+ * `2012-06-23T23:30+0100`, `2012-06-23T23:30:59Z`, `2012-06-23T23:30:59+0100`\n@@ -794,2 +854,1 @@\n- *     valid, or %NULL in case there was an error. The string should\n- *     be freed with g_free().\n+ *     valid, or %NULL in case there was an error.\n@@ -814,4 +873,4 @@\n- * 2012-06-30T22:46:43Z, 2012, 2012-06, 2012-06-30, 2012-06-30T22:46:43-0430,\n- * 2012-06-30T22:46Z, 2012-06-30T22:46-0430, 2012-06-30 22:46,\n- * 2012-06-30 22:46:43, 2012-06-00, 2012-00-00, 2012-00-30, 22:46:43Z, 22:46Z,\n- * 22:46:43-0430, 22:46-0430, 22:46:30, 22:46\n+ * `2012-06-30T22:46:43Z`, `2012`, `2012-06`, `2012-06-30`, `2012-06-30T22:46:43-0430`,\n+ * `2012-06-30T22:46Z`, `2012-06-30T22:46-0430`, `2012-06-30 22:46`,\n+ * `2012-06-30 22:46:43`, `2012-06-00`, `2012-00-00`, `2012-00-30`, `22:46:43Z`, `22:46Z`,\n+ * `22:46:43-0430`, `22:46-0430`, `22:46:30`, `22:46`\n@@ -821,2 +880,0 @@\n- * Free-function: gst_date_time_unref\n- *\n@@ -960,0 +1017,3 @@\n+    if (!now_utc)\n+      return NULL;\n+\n@@ -968,0 +1028,2 @@\n+      if (!now_in_given_tz)\n+        return NULL;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdatetime.c","additions":160,"deletions":98,"binary":false,"changes":258,"status":"modified"},{"patch":"@@ -35,2 +35,2 @@\n- * information. It currently supports ranges from 0001-01-01 to\n- * 9999-12-31 in the Gregorian proleptic calendar.\n+ * information. It currently supports ranges from `0001-01-01` to\n+ * `9999-12-31` in the Gregorian proleptic calendar.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdatetime.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,0 +37,11 @@\n+\/**\n+ * SECTION: debugutils\n+ * @title: Debugging utilities\n+ * @short_description: A set of utilities for debugging and development\n+ *\n+ * These utility functions help with generating dot graphs which can\n+ * be rendered with [graphviz] to multiple formats.\n+ *\n+ * [graphviz]: https:\/\/graphviz.org\/\n+ *\/\n+\n@@ -802,1 +813,1 @@\n- * network of gstreamer elements that form the pipeline into an dot file.\n+ * network of gstreamer elements that form the pipeline into a dot file.\n@@ -831,1 +842,1 @@\n- * network of gstreamer elements that form the pipeline into an dot file.\n+ * network of gstreamer elements that form the pipeline into a dot file.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdebugutils.c","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n- * network of gstreamer elements that form the pipeline into an dot file.\n+ * network of gstreamer elements that form the pipeline into a dot file.\n@@ -85,4 +85,6 @@\n- * |[\n- *  dot -Tpng -oimage.png graph_lowlevel.dot\n- * ]|\n- * There is also a utility called xdot which allows you to view the dot file\n+ *\n+ * ``` shell\n+ * dot -Tpng -oimage.png graph_lowlevel.dot\n+ * ```\n+ *\n+ * There is also a utility called [xdot] which allows you to view the dot file\n@@ -91,3 +93,5 @@\n- * The macro is only active if the environment variable GST_DEBUG_DUMP_DOT_DIR\n- * is set to a basepath (e.g. \/tmp), and the GStreamer debugging subsystem is\n- * enabled (i.e., no use of `.\/configure --disable-gst-debug')\n+ * The macro is only active if the environment variable `GST_DEBUG_DUMP_DOT_DIR`\n+ * is set to a basepath (e.g. `\/tmp`), and the GStreamer debugging subsystem is\n+ * enabled (i.e., no use of `.\/configure --disable-gst-debug`)\n+ *\n+ * [xdot]: https:\/\/pypi.org\/project\/xdot\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdebugutils.h","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -25,0 +25,48 @@\n+\/**\n+ * GST_DYNAMIC_TYPE_REGISTER_DEFINE:\n+ * @t_n: The dynamic type name in lower case, with words separated by '_'.\n+ * Used to generate `gst_dynamic_type_register_*(GstPlugin* plugin)`.\n+ * @t: The #GType of the dynamic type\n+\n+ * A convenience macro to define the entry point of a\n+ * dynamic type `gst_dynamic_type_register_*(GstPlugin* plugin)`.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_DYNAMIC_TYPE_REGISTER_DEFINE(t_n, t) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE (gst_dynamic_type_register_, t_n) (GstPlugin * plugin) \\\n+{ \\\n+  return gst_dynamic_type_register (plugin, t); \\\n+} \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_DYNAMIC_TYPE_REGISTER_DECLARE:\n+ * @t_f: The dynamic type name in lower case, with words separated by '_'.\n+ *\n+ * This macro can be used to declare a new dynamic type.\n+ * It has to be used in combination with #GST_DYNAMIC_TYPE_REGISTER_DEFINE macro\n+ * and must be placed outside any block to declare the type find registration\n+ * function.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_DYNAMIC_TYPE_REGISTER_DECLARE(t_n) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE(gst_dynamic_type_register_, t_n) (GstPlugin * plugin); \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_DYNAMIC_TYPE_REGISTER:\n+ * @t_n: The dynamic type name to register\n+ * @plugin: The #GstPlugin where to register the dynamic type.\n+ *\n+ * This macro can be used to register a dynamic type into a #GstPlugin.\n+ * This method will be usually called in the plugin init function\n+ * but can also be called with a NULL plugin.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_DYNAMIC_TYPE_REGISTER(t_n, plugin) G_PASTE(gst_dynamic_type_register_, t_n) (plugin)\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstdynamictypefactory.h","additions":48,"deletions":0,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-    * gst_element_class_get_request_pad_template (GstElementClass *\n+    * gst_element_class_request_pad_simple_template (GstElementClass *\n@@ -169,0 +169,4 @@\n+\/* used for gst_element_type_set_skip_documentation() and\n+ * gst_element_factory_get_skip_documentation() *\/\n+GQuark __gst_elementclass_skip_doc = 0;\n+\n@@ -172,1 +176,1 @@\n-  static volatile gsize gst_element_type = 0;\n+  static gsize gst_element_type = 0;\n@@ -194,0 +198,2 @@\n+    __gst_elementclass_skip_doc =\n+        g_quark_from_static_string (\"GST_ELEMENTCLASS_SKIP_DOCUMENTATION\");\n@@ -491,0 +497,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (time));\n@@ -1170,0 +1177,1 @@\n+#ifndef GST_REMOVE_DEPRECATED\n@@ -1175,0 +1183,22 @@\n+ * The name of this function is confusing to people learning GStreamer.\n+ * gst_element_request_pad_simple() aims at making it more explicit it is\n+ * a simplified gst_element_request_pad().\n+ *\n+ * Deprecated: 1.20: Prefer using gst_element_request_pad_simple() which\n+ * provides the exact same functionality.\n+ *\n+ * Returns: (transfer full) (nullable): requested #GstPad if found,\n+ *     otherwise %NULL.  Release after usage.\n+ *\/\n+GstPad *\n+gst_element_get_request_pad (GstElement * element, const gchar * name)\n+{\n+  return gst_element_request_pad_simple (element, name);\n+}\n+#endif\n+\n+\/**\n+ * gst_element_request_pad_simple:\n+ * @element: a #GstElement to find a request pad of.\n+ * @name: the name of the request #GstPad to retrieve.\n+ *\n@@ -1183,0 +1213,5 @@\n+ * Note that this function was introduced in GStreamer 1.20 in order to provide\n+ * a better name to gst_element_get_request_pad(). Prior to 1.20, users\n+ * should use gst_element_get_request_pad() which provides the same\n+ * functionality.\n+ *\n@@ -1185,0 +1220,2 @@\n+ *\n+ * Since: 1.20\n@@ -1187,1 +1224,1 @@\n-gst_element_get_request_pad (GstElement * element, const gchar * name)\n+gst_element_request_pad_simple (GstElement * element, const gchar * name)\n@@ -1201,1 +1238,1 @@\n-  templ = gst_element_class_get_request_pad_template (class, name);\n+  templ = gst_element_class_request_pad_simple_template (class, name);\n@@ -1814,1 +1851,1 @@\n-gst_element_class_get_request_pad_template (GstElementClass *\n+gst_element_class_request_pad_simple_template (GstElementClass *\n@@ -3388,0 +3425,1 @@\n+  element->contexts = NULL;\n@@ -3848,1 +3886,2 @@\n- * Create a #GstStructure to be used with #gst_element_message_full_with_details\n+ * Create a #GstStructure to be used with #gst_element_message_full_with_details.\n+ * %NULL terminator required.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelement.c","additions":45,"deletions":6,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -31,0 +31,136 @@\n+\/**\n+ * _GST_ELEMENT_REGISTER_DEFINE_BEGIN: (attributes doc.skip=true)\n+ *\/\n+#define _GST_ELEMENT_REGISTER_DEFINE_BEGIN(element) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE (gst_element_register_, element) (GstPlugin * plugin) \\\n+{ \\\n+  {\n+\n+\/**\n+ * _GST_ELEMENT_REGISTER_DEFINE_END: (attributes doc.skip=true)\n+ *\/\n+#define _GST_ELEMENT_REGISTER_DEFINE_END(element_name, rank, type) \\\n+  } \\\n+  return gst_element_register (plugin, element_name, rank, type); \\\n+} \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_ELEMENT_REGISTER_DEFINE_CUSTOM:\n+ * @element: The element name in lower case, with words separated by '_'.\n+ * Used to generate `gst_element_register_*(GstPlugin* plugin)`.\n+ * @register_func: pointer to a method with the format: `gboolean register_func (GstPlugin* plugin);`\n+ *\n+ * A convenience macro to define the entry point of an\n+ * element `gst_element_register_*(GstPlugin* plugin)` which uses\n+ * register_func as the main registration method for the element.\n+ * As an example, you may define the element named \"streamer-filter\"\n+ * with the namespace `my` as following using `element_register_custom`:\n+ *\n+ * ```\n+ * GST_ELEMENT_REGISTER_DEFINE_CUSTOM (my_element, element_register_custom)\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_ELEMENT_REGISTER_DEFINE_CUSTOM(element, register_func) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE (gst_element_register_, element) (GstPlugin * plugin) \\\n+{ \\\n+  return register_func (plugin); \\\n+} \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_ELEMENT_REGISTER_DEFINE:\n+ * @e: The element name in lower case, with words separated by '_'.\n+ * Used to generate `gst_element_register_*(GstPlugin* plugin)`.\n+ * @e_n: The public name of the element\n+ * @r: The #GstRank of the element (higher rank means more importance when autoplugging, see #GstRank)\n+ * @t: The #GType of the element.\n+ *\n+ * A convenience macro to define the entry point of an\n+ * element `gst_element_register_*(GstPlugin* plugin)`.\n+ * As an example, you may define the element named \"streamer-filter\"\n+ * with the namespace `my` as following:\n+ *\n+ * ```\n+ * GST_ELEMENT_REGISTER_REGISTER_DEFINE (stream_filter, \"stream-filter\", GST_RANK_PRIMARY, MY_TYPE_STREAM_FILTER)\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_ELEMENT_REGISTER_DEFINE(e, e_n, r, t) _GST_ELEMENT_REGISTER_DEFINE_BEGIN(e) _GST_ELEMENT_REGISTER_DEFINE_END(e_n, r, t)\n+\n+\/**\n+ * GST_ELEMENT_REGISTER_DEFINE_WITH_CODE:\n+ * @e: The element name in lower case, with words separated by '_'.\n+ * Used to generate `gst_element_register_*(GstPlugin* plugin)`.\n+ * @e_n: The public name of the element\n+ * @r: The #GstRank of the element (higher rank means more importance when autoplugging, see #GstRank)\n+ * @t: The #GType of the element.\n+ * @_c_: Custom code that gets inserted in the gst_element_register_*() function.\n+ *\n+ * A convenience macro to define the entry point of an\n+ * element `gst_element_register_*(GstPlugin* plugin)` executing code\n+ * before gst_element_register in `gst_element_register_*(GstPlugin* plugin)`.\n+\n+ * As an example, you may define the element named \"stream-filter\"\n+ * with the namespace `my` as following:\n+ *\n+ * ```\n+ * #define _pre_register_init \\\n+ *   my_stream_filter_pre_register (plugin);\n+ * GST_ELEMENT_REGISTER_DEFINE_WITH_CODE (stream_filter, \"stream-filter\", GST_RANK_PRIMARY, MY_TYPE_STREAM_FILTER, _pre_register_init)\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_ELEMENT_REGISTER_DEFINE_WITH_CODE(e, e_n, r, t, _c_) _GST_ELEMENT_REGISTER_DEFINE_BEGIN(e) {_c_;} _GST_ELEMENT_REGISTER_DEFINE_END(e_n, r, t)\n+\n+\/**\n+ * GST_ELEMENT_REGISTER_DECLARE:\n+ * @element: The element name in lower case, with words separated by '_'.\n+ *\n+ * This macro can be used to declare a new element.\n+ * It has to be used in combination with #GST_ELEMENT_REGISTER_DEFINE macros\n+ * and must be placed outside any block to declare the element registration\n+ * function.\n+ * As an example, you may declare the element named \"stream-filter\"\n+ * with the namespace `my` as following:\n+ *\n+ * ```\n+ * GST_ELEMENT_REGISTER_DECLARE (stream_filter)\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_ELEMENT_REGISTER_DECLARE(element) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE(gst_element_register_, element) (GstPlugin * plugin); \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_ELEMENT_REGISTER:\n+ * @element: The element name in lower case, with words separated by '_'.\n+ * @plugin: The #GstPlugin where to register the element.\n+ *\n+ * This macro can be used to register an element into a #GstPlugin.\n+ * This method will be usually called in the plugin init function\n+ * but can also be called with a NULL plugin,\n+ * for example with a static registration of the element.\n+ * It has to be used in combination with #GST_ELEMENT_REGISTER_DECLARE.\n+ *\n+ * ```\n+ * GstPlugin* plugin;\n+ *\n+ * ...\n+ *\n+ * GST_ELEMENT_REGISTER (stream_filter, plugin);\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_ELEMENT_REGISTER(element, plugin) G_PASTE(gst_element_register_, element) (plugin)\n+\n@@ -351,1 +487,1 @@\n-GstStructure *gst_make_element_message_details (const char *name, ...);\n+GstStructure *gst_make_element_message_details (const char *name, ...) G_GNUC_NULL_TERMINATED;\n@@ -905,1 +1041,1 @@\n-GST_API\n+GST_API G_DEPRECATED_FOR(gst_element_request_pad_simple)\n@@ -907,0 +1043,3 @@\n+\n+GST_API\n+GstPad*                 gst_element_request_pad_simple  (GstElement *element, const gchar *name);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelement.h","additions":141,"deletions":2,"binary":false,"changes":143,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n- *   #include &lt;gst\/gst.h&gt;\n+ *   #include <gst\/gst.h>\n@@ -47,1 +47,1 @@\n- *   gst_init (&amp;argc, &amp;argv);\n+ *   gst_init (&argc, &argv);\n@@ -68,0 +68,2 @@\n+#include <gobject\/gvaluecollector.h>\n+\n@@ -78,0 +80,1 @@\n+extern GQuark __gst_elementclass_skip_doc;\n@@ -328,0 +331,306 @@\n+\/**\n+ * gst_element_type_set_skip_documentation:\n+ * @type: a #GType of element\n+ *\n+ * Marks @type as \"documentation should be skipped\".\n+ * Can be useful for dynamically registered element to be excluded from\n+ * plugin documentation system.\n+ *\n+ * Example:\n+ * ```c\n+ * GType my_type;\n+ * GTypeInfo my_type_info;\n+ *\n+ * \/\/ Fill \"my_type_info\"\n+ * ...\n+ *\n+ * my_type = g_type_register_static (GST_TYPE_MY_ELEMENT, \"my-type-name\",\n+ *    &my_type_info, 0);\n+ * gst_element_type_set_skip_documentation (my_type);\n+ * gst_element_register (plugin, \"my-plugin-feature-name\", rank, my_type);\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_element_type_set_skip_documentation (GType type)\n+{\n+  g_return_if_fail (g_type_is_a (type, GST_TYPE_ELEMENT));\n+\n+  g_type_set_qdata (type, __gst_elementclass_skip_doc, GINT_TO_POINTER (1));\n+}\n+\n+\/**\n+ * gst_element_factory_get_skip_documentation:\n+ * @factory: a #GstElementFactory to query documentation skip\n+ *\n+ * Queries whether registered element managed by @factory needs to\n+ * be excluded from documentation system or not.\n+ *\n+ * Returns: %TRUE if documentation should be skipped\n+ *\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_element_factory_get_skip_documentation (GstElementFactory * factory)\n+{\n+  g_return_val_if_fail (GST_IS_ELEMENT_FACTORY (factory), TRUE);\n+\n+  if (g_type_get_qdata (factory->type, __gst_elementclass_skip_doc))\n+    return TRUE;\n+\n+  return FALSE;\n+}\n+\n+static gboolean\n+gst_element_factory_property_valist_to_array (const gchar * first,\n+    va_list properties, GType object_type, guint * n, const gchar ** names[],\n+    GValue ** values)\n+{\n+  GObjectClass *class;\n+  const gchar *name;\n+  guint n_params = 0;\n+  guint n_params_alloc = 16;\n+  GValue *values_array;\n+  const gchar **names_array;\n+\n+  if (!first)\n+    return FALSE;\n+\n+  g_return_val_if_fail (G_TYPE_IS_OBJECT (object_type), FALSE);\n+\n+  class = g_type_class_ref (object_type);\n+  if (!class)\n+    return FALSE;\n+\n+  name = first;\n+  names_array = g_new0 (const gchar *, n_params_alloc);\n+  values_array = g_new0 (GValue, n_params_alloc);\n+\n+  do {\n+    gchar *error = NULL;\n+    GParamSpec *pspec;\n+\n+    pspec = g_object_class_find_property (class, name);\n+    if (!pspec)\n+      goto cleanup;\n+\n+    if (G_UNLIKELY (n_params == n_params_alloc)) {\n+      n_params_alloc *= 2u;\n+      names_array =\n+          g_realloc (names_array, sizeof (const gchar *) * n_params_alloc);\n+      values_array = g_realloc (values_array, sizeof (GValue) * n_params_alloc);\n+      memset (&values_array[n_params], 0,\n+          sizeof (GValue) * (n_params_alloc - n_params));\n+    }\n+\n+    names_array[n_params] = name;\n+\n+    G_VALUE_COLLECT_INIT (&values_array[n_params], pspec->value_type,\n+        properties, 0, &error);\n+\n+    if (error) {\n+      g_critical (\"%s\", error);\n+      g_free (error);\n+      goto cleanup;\n+    }\n+\n+    ++n_params;\n+    name = va_arg (properties, const gchar *);\n+  } while (name);\n+\n+  *n = n_params;\n+  *names = names_array;\n+  *values = values_array;\n+  g_type_class_unref (class);\n+  return TRUE;\n+\n+cleanup:\n+  g_free (names_array);\n+  g_free (values_array);\n+  g_type_class_unref (class);\n+  return FALSE;\n+}\n+\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+\/**\n+ * gst_element_factory_create_with_properties:\n+ * @factory: factory to instantiate\n+ * @n: count of properties\n+ * @names: (nullable) (array length=n): array of properties names\n+ * @values: (nullable) (array length=n): array of associated properties values\n+ *\n+ * Create a new element of the type defined by the given elementfactory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ *     if the element couldn't be created\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_create_with_properties (GstElementFactory * factory,\n+    guint n, const gchar * names[], const GValue values[])\n+{\n+  GstElement *element;\n+  GstElementClass *oclass;\n+  GstElementFactory *newfactory;\n+\n+  g_return_val_if_fail (factory != NULL, NULL);\n+\n+  newfactory =\n+      GST_ELEMENT_FACTORY (gst_plugin_feature_load (GST_PLUGIN_FEATURE\n+          (factory)));\n+\n+  if (newfactory == NULL)\n+    goto load_failed;\n+\n+  factory = newfactory;\n+\n+  GST_INFO (\"creating element \\\"%s\\\"\", GST_OBJECT_NAME (factory));\n+\n+  if (factory->type == 0)\n+    goto no_type;\n+\n+  element = (GstElement *) g_object_new_with_properties (factory->type, n,\n+      names, values);\n+\n+  if (G_UNLIKELY (element == NULL))\n+    goto no_element;\n+\n+  \/* fill in the pointer to the factory in the element class. The\n+   * class will not be unreffed currently.\n+   * Be thread safe as there might be 2 threads creating the first instance of\n+   * an element at the same moment\n+   *\/\n+  oclass = GST_ELEMENT_GET_CLASS (element);\n+  if (!g_atomic_pointer_compare_and_exchange (&oclass->elementfactory,\n+          (GstElementFactory *) NULL, factory))\n+    gst_object_unref (factory);\n+  else\n+    \/* This ref will never be dropped as the class is never destroyed *\/\n+    GST_OBJECT_FLAG_SET (factory, GST_OBJECT_FLAG_MAY_BE_LEAKED);\n+\n+  if (!g_object_is_floating ((GObject *) element)) {\n+    \/* The reference we receive here should be floating, but we can't force\n+     * it at our level. Simply raise a critical to make the issue obvious to bindings\n+     * users \/ developers *\/\n+    g_critical (\"The created element should be floating, \"\n+        \"this is probably caused by faulty bindings\");\n+  }\n+\n+\n+  GST_DEBUG (\"created element \\\"%s\\\"\", GST_OBJECT_NAME (factory));\n+\n+  return element;\n+\n+  \/* ERRORS *\/\n+load_failed:\n+  {\n+    GST_WARNING_OBJECT (factory, \"loading plugin returned NULL!\");\n+    return NULL;\n+  }\n+no_type:\n+  {\n+    GST_WARNING_OBJECT (factory, \"factory has no type\");\n+    gst_object_unref (factory);\n+    return NULL;\n+  }\n+no_element:\n+  {\n+    GST_WARNING_OBJECT (factory, \"could not create element\");\n+    gst_object_unref (factory);\n+    return NULL;\n+  }\n+}\n+\n+\/**\n+ * gst_element_factory_create_valist:\n+ * @factory: factory to instantiate\n+ * @first: (nullable): name of the first property\n+ * @properties: (nullable): list of properties\n+ *\n+ * Create a new element of the type defined by the given elementfactory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ *     if the element couldn't be created\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_create_valist (GstElementFactory * factory,\n+    const gchar * first, va_list properties)\n+{\n+  GstElementFactory *newfactory;\n+  GstElement *element;\n+  const gchar **names = NULL;\n+  GValue *values = NULL;\n+  guint n = 0;\n+\n+  g_return_val_if_fail (factory != NULL, NULL);\n+\n+  newfactory =\n+      GST_ELEMENT_FACTORY (gst_plugin_feature_load (GST_PLUGIN_FEATURE\n+          (factory)));\n+\n+  g_return_val_if_fail (newfactory != NULL, NULL);\n+  g_return_val_if_fail (newfactory->type != 0, NULL);\n+\n+  factory = newfactory;\n+\n+  if (!first) {\n+    element =\n+        gst_element_factory_create_with_properties (factory, 0, NULL, NULL);\n+    goto out;\n+  }\n+\n+  if (!gst_element_factory_property_valist_to_array (first, properties,\n+          factory->type, &n, &names, &values)) {\n+    GST_ERROR_OBJECT (factory, \"property parsing failed\");\n+    element = NULL;\n+    goto out;\n+  }\n+\n+  element = gst_element_factory_create_with_properties (factory, n, names,\n+      values);\n+\n+  g_free (names);\n+  while (n--)\n+    g_value_unset (&values[n]);\n+  g_free (values);\n+\n+out:\n+  gst_object_unref (factory);\n+  return element;\n+}\n+\n+\/**\n+ * gst_element_factory_create_full:\n+ * @factory: factory to instantiate\n+ * @first: (nullable): name of the first property\n+ * @...: (nullable): %NULL terminated list of properties\n+ *\n+ * Create a new element of the type defined by the given elementfactory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ *     if the element couldn't be created\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_create_full (GstElementFactory * factory,\n+    const gchar * first, ...)\n+{\n+  GstElement *element;\n+  va_list properties;\n+\n+  va_start (properties, first);\n+  element = gst_element_factory_create_valist (factory, first, properties);\n+  va_end (properties);\n+\n+  return element;\n+}\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -331,1 +640,1 @@\n- * @name: (allow-none): name of new element, or %NULL to automatically create\n+ * @name: (nullable): name of new element, or %NULL to automatically create\n@@ -341,0 +650,12 @@\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+GstElement *\n+gst_element_factory_create (GstElementFactory * factory, const gchar * name)\n+{\n+  if (name)\n+    return gst_element_factory_create_full (factory, \"name\", name, NULL);\n+  else\n+    return gst_element_factory_create_with_properties (factory, 0, NULL, NULL);\n+}\n+#else \/\/ GSTREAMER_LITE\n+\/\/ Revert https:\/\/gitlab.freedesktop.org\/gstreamer\/gstreamer\/-\/commit\/aadf84837b2c0397b02ffb39f704ef4649482a44,\n+\/\/ so we can support older GLib\n@@ -424,0 +745,140 @@\n+#endif \/\/ !GSTREAMER_LITE and !LINUX\n+\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+\/**\n+ * gst_element_factory_make_with_properties:\n+ * @factoryname: a named factory to instantiate\n+ * @n: count of properties\n+ * @names: (nullable) (array length=n): array of properties names\n+ * @values: (nullable) (array length=n): array of associated properties values\n+ *\n+ * Create a new element of the type defined by the given elementfactory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ *     if the element couldn't be created\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_make_with_properties (const gchar * factoryname,\n+    guint n, const gchar * names[], const GValue values[])\n+{\n+  GstElementFactory *factory;\n+  GstElement *element;\n+\n+  g_return_val_if_fail (factoryname != NULL, NULL);\n+  g_return_val_if_fail (gst_is_initialized (), NULL);\n+\n+  GST_LOG (\"gstelementfactory: make \\\"%s\\\"\", factoryname);\n+\n+  factory = gst_element_factory_find (factoryname);\n+  if (factory == NULL)\n+    goto no_factory;\n+\n+  GST_LOG_OBJECT (factory, \"found factory %p\", factory);\n+  element = gst_element_factory_create_with_properties (factory, n, names,\n+      values);\n+  if (element == NULL)\n+    goto create_failed;\n+\n+  gst_object_unref (factory);\n+\n+  return element;\n+\n+  \/* ERRORS *\/\n+no_factory:\n+  {\n+    GST_WARNING (\"no such element factory \\\"%s\\\"!\", factoryname);\n+    return NULL;\n+  }\n+create_failed:\n+  {\n+    GST_INFO_OBJECT (factory, \"couldn't create instance!\");\n+    gst_object_unref (factory);\n+    return NULL;\n+  }\n+}\n+\n+\/**\n+ * gst_element_factory_make_valist:\n+ * @factoryname: a named factory to instantiate\n+ * @first: (nullable): name of first property\n+ * @properties: (nullable): list of properties\n+ *\n+ * Create a new element of the type defined by the given element factory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ * if unable to create element\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_make_valist (const gchar * factoryname,\n+    const gchar * first, va_list properties)\n+{\n+  GstElementFactory *factory;\n+  GstElement *element;\n+\n+  g_return_val_if_fail (factoryname != NULL, NULL);\n+  g_return_val_if_fail (gst_is_initialized (), NULL);\n+\n+  GST_LOG (\"gstelementfactory: make \\\"%s\\\"\", factoryname);\n+\n+  factory = gst_element_factory_find (factoryname);\n+  if (factory == NULL)\n+    goto no_factory;\n+\n+  GST_LOG_OBJECT (factory, \"found factory %p\", factory);\n+  element = gst_element_factory_create_valist (factory, first, properties);\n+  if (element == NULL)\n+    goto create_failed;\n+\n+  gst_object_unref (factory);\n+\n+  return element;\n+\n+  \/* ERRORS *\/\n+no_factory:\n+  {\n+    GST_WARNING (\"no such element factory \\\"%s\\\"!\", factoryname);\n+    return NULL;\n+  }\n+create_failed:\n+  {\n+    GST_INFO_OBJECT (factory, \"couldn't create instance!\");\n+    gst_object_unref (factory);\n+    return NULL;\n+  }\n+}\n+\n+\/**\n+ * gst_element_factory_make_full:\n+ * @factoryname: a named factory to instantiate\n+ * @first: (nullable): name of first property\n+ * @...: (nullable): %NULL terminated list of properties\n+ *\n+ * Create a new element of the type defined by the given element factory.\n+ * The supplied list of properties, will be passed at object construction.\n+ *\n+ * Returns: (transfer floating) (nullable): new #GstElement or %NULL\n+ * if unable to create element\n+ *\n+ * Since: 1.20\n+ *\/\n+GstElement *\n+gst_element_factory_make_full (const gchar * factoryname,\n+    const gchar * first, ...)\n+{\n+  GstElement *element;\n+  va_list properties;\n+\n+  va_start (properties, first);\n+\n+  element = gst_element_factory_make_valist (factoryname, first, properties);\n+\n+  va_end (properties);\n+  return element;\n+}\n+#endif \/\/ GSTREAMER_LITE\n@@ -428,1 +889,1 @@\n- * @name: (allow-none): name of new element, or %NULL to automatically create\n+ * @name: (nullable): name of new element, or %NULL to automatically create\n@@ -439,0 +900,13 @@\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+GstElement *\n+gst_element_factory_make (const gchar * factoryname, const gchar * name)\n+{\n+  if (name)\n+    return gst_element_factory_make_full (factoryname, \"name\", name, NULL);\n+  else\n+    return gst_element_factory_make_with_properties (factoryname, 0, NULL,\n+        NULL);\n+}\n+#else \/\/ GSTREAMER_LITE\n+\/\/ Revert https:\/\/gitlab.freedesktop.org\/gstreamer\/gstreamer\/-\/commit\/aadf84837b2c0397b02ffb39f704ef4649482a44,\n+\/\/ so we can support older GLib.\n@@ -477,0 +951,1 @@\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelementfactory.c","additions":479,"deletions":4,"binary":false,"changes":483,"status":"modified"},{"patch":"@@ -86,0 +86,11 @@\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+GST_API\n+GstElement*             gst_element_factory_create_full         (GstElementFactory * factory,\n+                                                                 const gchar * first, ...) G_GNUC_MALLOC;\n+GST_API\n+GstElement *            gst_element_factory_create_valist       (GstElementFactory * factory,\n+                                                                 const gchar * first, va_list properties) G_GNUC_MALLOC;\n+GST_API\n+GstElement *            gst_element_factory_create_with_properties (GstElementFactory * factory,\n+                                                                 guint n, const gchar *names[], const GValue values[]) G_GNUC_MALLOC;\n+#endif \/\/ GSTREAMER_LITE\n@@ -89,0 +100,11 @@\n+#if !defined(GSTREAMER_LITE) || (defined(GSTREAMER_LITE) && !defined(LINUX))\n+GST_API\n+GstElement*             gst_element_factory_make_full           (const gchar *factoryname,\n+                                                                  const gchar *first, ...) G_GNUC_MALLOC;\n+GST_API\n+GstElement*             gst_element_factory_make_valist         (const gchar *factoryname,\n+                                                                 const gchar *first, va_list properties) G_GNUC_MALLOC;\n+GST_API\n+GstElement*             gst_element_factory_make_with_properties (const gchar *factoryname,\n+                                                                 guint n, const gchar *names[], const GValue values[]) G_GNUC_MALLOC;\n+#endif \/\/ GSTREAMER_LITE\n@@ -93,0 +115,6 @@\n+GST_API\n+void                    gst_element_type_set_skip_documentation (GType type);\n+\n+GST_API\n+gboolean                gst_element_factory_get_skip_documentation (GstElementFactory * factory);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstelementfactory.h","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -829,0 +829,47 @@\n+#ifndef GSTREAMER_LITE\n+\/**\n+ * gst_event_set_gap_flags:\n+ * @event: a #GstEvent of type #GST_EVENT_GAP\n+ * @flags: a #GstGapFlags\n+ *\n+ * Sets @flags on @event to give additional information about the reason for\n+ * the #GST_EVENT_GAP.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_event_set_gap_flags (GstEvent * event, GstGapFlags flags)\n+{\n+  g_return_if_fail (event != NULL);\n+  g_return_if_fail (GST_EVENT_TYPE (event) == GST_EVENT_GAP);\n+  g_return_if_fail (gst_event_is_writable (event));\n+\n+  gst_structure_id_set (GST_EVENT_STRUCTURE (event),\n+      GST_QUARK (GAP_FLAGS), GST_TYPE_GAP_FLAGS, flags, NULL);\n+}\n+\n+\/**\n+ * gst_event_parse_gap_flags:\n+ * @event: a #GstEvent of type #GST_EVENT_GAP\n+ * @flags: (out): a #GstGapFlags or %NULL\n+ *\n+ * Retrieve the gap flags that may have been set on a gap event with\n+ * gst_event_set_gap_flags().\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_event_parse_gap_flags (GstEvent * event, GstGapFlags * flags)\n+{\n+  g_return_if_fail (event != NULL);\n+  g_return_if_fail (GST_EVENT_TYPE (event) == GST_EVENT_GAP);\n+\n+  \/* Initialize to 0 for GAP events that don't have the field set *\/\n+  if (flags)\n+    *flags = 0;\n+\n+  gst_structure_id_get (GST_EVENT_STRUCTURE (event),\n+      GST_QUARK (GAP_FLAGS), GST_TYPE_GAP_FLAGS, flags, NULL);\n+}\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -1440,0 +1487,3 @@\n+  if (interval)\n+    *interval = GST_CLOCK_TIME_NONE;\n+\n@@ -1480,0 +1530,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (latency), NULL);\n+\n@@ -1774,0 +1826,1 @@\n+    *stream = NULL;\n@@ -1777,1 +1830,0 @@\n-\n@@ -1812,0 +1864,1 @@\n+    *flags = 0;\n@@ -1862,0 +1915,1 @@\n+    *group_id = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstevent.c","additions":55,"deletions":1,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -381,0 +381,15 @@\n+#ifndef GSTREAMER_LITE\n+\/**\n+ * GstGapFlags:\n+ * @GST_GAP_FLAG_MISSING_DATA: The #GST_EVENT_GAP signals missing data,\n+ *    for example because of packet loss.\n+ *\n+ * The different flags that can be set on #GST_EVENT_GAP events. See\n+ * gst_event_set_gap_flags() for details.\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef enum {\n+  GST_GAP_FLAG_MISSING_DATA = (1<<0),\n+} GstGapFlags;\n+#endif \/\/ GSTREAMER_LITE\n@@ -564,0 +579,10 @@\n+#ifndef GSTREAMER_LITE\n+GST_API\n+void            gst_event_set_gap_flags           (GstEvent    * event,\n+                                                   GstGapFlags   flags);\n+\n+GST_API\n+void            gst_event_parse_gap_flags         (GstEvent    * event,\n+                                                   GstGapFlags * flags);\n+#endif \/\/ GSTREAMER_LITE\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstevent.h","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n- * &lt;gst\/gst.h&gt;,\n+ * <gst\/gst.h>,\n@@ -128,0 +128,4 @@\n+#ifdef GSTREAMER_LITE\n+#include \"gst\/glib-compat-private.h\"\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -150,0 +154,22 @@\n+static Dwfl *_global_dwfl = NULL;\n+static GMutex _dwfl_mutex;\n+\n+#define GST_DWFL_LOCK() g_mutex_lock(&_dwfl_mutex);\n+#define GST_DWFL_UNLOCK() g_mutex_unlock(&_dwfl_mutex);\n+\n+static Dwfl *\n+get_global_dwfl (void)\n+{\n+  if (g_once_init_enter (&_global_dwfl)) {\n+    static Dwfl_Callbacks callbacks = {\n+      .find_elf = dwfl_linux_proc_find_elf,\n+      .find_debuginfo = dwfl_standard_find_debuginfo,\n+    };\n+    Dwfl *_dwfl = dwfl_begin (&callbacks);\n+    g_mutex_init (&_dwfl_mutex);\n+    g_once_init_leave (&_global_dwfl, _dwfl);\n+  }\n+\n+  return _global_dwfl;\n+}\n+\n@@ -316,32 +342,2 @@\n-static volatile gint G_GNUC_MAY_ALIAS __default_level = GST_LEVEL_DEFAULT;\n-static volatile gint G_GNUC_MAY_ALIAS __use_color = GST_DEBUG_COLOR_MODE_ON;\n-\n-\/* FIXME: export this? *\/\n-gboolean\n-_priv_gst_in_valgrind (void)\n-{\n-  static enum\n-  {\n-    GST_VG_UNCHECKED,\n-    GST_VG_NO_VALGRIND,\n-    GST_VG_INSIDE\n-  }\n-  in_valgrind = GST_VG_UNCHECKED;\n-\n-  if (in_valgrind == GST_VG_UNCHECKED) {\n-#ifdef HAVE_VALGRIND_VALGRIND_H\n-    if (RUNNING_ON_VALGRIND) {\n-      GST_CAT_INFO (GST_CAT_GST_INIT, \"we're running inside valgrind\");\n-      in_valgrind = GST_VG_INSIDE;\n-    } else {\n-      GST_CAT_LOG (GST_CAT_GST_INIT, \"not doing extra valgrind stuff\");\n-      in_valgrind = GST_VG_NO_VALGRIND;\n-    }\n-#else\n-    in_valgrind = GST_VG_NO_VALGRIND;\n-#endif\n-    g_assert (in_valgrind == GST_VG_NO_VALGRIND ||\n-        in_valgrind == GST_VG_INSIDE);\n-  }\n-  return (in_valgrind == GST_VG_INSIDE);\n-}\n+static gint G_GNUC_MAY_ALIAS __default_level = GST_LEVEL_DEFAULT;\n+static gint G_GNUC_MAY_ALIAS __use_color = GST_DEBUG_COLOR_MODE_ON;\n@@ -477,3 +473,0 @@\n-  \/* print out the valgrind message if we're in valgrind *\/\n-  _priv_gst_in_valgrind ();\n-\n@@ -577,0 +570,4 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n@@ -599,0 +596,48 @@\n+\/**\n+ * gst_debug_log_literal:\n+ * @category: category to log\n+ * @level: level of the message is in\n+ * @file: the file that emitted the message, usually the __FILE__ identifier\n+ * @function: the function that emitted the message\n+ * @line: the line from that the message was emitted, usually __LINE__\n+ * @object: (transfer none) (allow-none): the object this message relates to,\n+ *     or %NULL if none\n+ * @message_string: a message string\n+ *\n+ * Logs the given message using the currently registered debugging handlers.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_debug_log_literal (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    GObject * object, const gchar * message_string)\n+{\n+  GstDebugMessage message;\n+  LogFuncEntry *entry;\n+  GSList *handler;\n+\n+  g_return_if_fail (category != NULL);\n+\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n+  if (level > gst_debug_category_get_threshold (category))\n+    return;\n+\n+  g_return_if_fail (file != NULL);\n+  g_return_if_fail (function != NULL);\n+  g_return_if_fail (message_string != NULL);\n+\n+  message.message = (gchar *) message_string;\n+\n+  handler = __log_functions;\n+  while (handler) {\n+    entry = handler->data;\n+    handler = g_slist_next (handler);\n+    entry->func (category, level, file, function, line, object, &message,\n+        entry->user_data);\n+  }\n+}\n+\n@@ -1211,0 +1256,4 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n@@ -1305,0 +1354,4 @@\n+#ifdef GST_ENABLE_EXTRA_CHECKS\n+  g_warn_if_fail (object == NULL || G_IS_OBJECT (object));\n+#endif\n+\n@@ -1718,0 +1771,4 @@\n+#if !GLIB_CHECK_VERSION(2,70,0)\n+#define g_pattern_spec_match_string g_pattern_match_string\n+#endif\n+\n@@ -1721,1 +1778,1 @@\n-  if (!g_pattern_match_string (entry->pat, cat->name))\n+  if (!g_pattern_spec_match_string (entry->pat, cat->name))\n@@ -2350,0 +2407,7 @@\n+void\n+gst_debug_log_literal (GstDebugCategory * category, GstDebugLevel level,\n+    const gchar * file, const gchar * function, gint line,\n+    GObject * object, const gchar * message_string)\n+{\n+}\n+\n@@ -2519,6 +2583,0 @@\n-gboolean\n-_priv_gst_in_valgrind (void)\n-{\n-  return FALSE;\n-}\n-\n@@ -2841,6 +2899,0 @@\n-  if (dwfl_linux_proc_report (dwfl, getpid ()) != 0)\n-    return FALSE;\n-\n-  if (dwfl_report_end (dwfl, NULL, NULL))\n-    return FALSE;\n-\n@@ -2884,4 +2936,0 @@\n-  Dwfl_Callbacks callbacks = {\n-    .find_elf = dwfl_linux_proc_find_elf,\n-    .find_debuginfo = dwfl_standard_find_debuginfo,\n-  };\n@@ -2889,2 +2937,8 @@\n-  if ((flags & GST_STACK_TRACE_SHOW_FULL))\n-    dwfl = dwfl_begin (&callbacks);\n+  if ((flags & GST_STACK_TRACE_SHOW_FULL)) {\n+    dwfl = get_global_dwfl ();\n+    if (G_UNLIKELY (dwfl == NULL)) {\n+      GST_WARNING (\"Failed to initialize dwlf\");\n+      goto done;\n+    }\n+    GST_DWFL_LOCK ();\n+  }\n@@ -2905,0 +2959,6 @@\n+#ifdef HAVE_DW\n+  \/* Due to plugins being loaded, mapping of process might have changed,\n+   * so always scan it. *\/\n+  if (dwfl_linux_proc_report (dwfl, getpid ()) != 0)\n+    goto done;\n+#endif\n@@ -2938,1 +2998,1 @@\n-    dwfl_end (dwfl);\n+    GST_DWFL_UNLOCK ();\n@@ -2955,1 +3015,0 @@\n-  trace = g_string_new (NULL);\n@@ -2963,0 +3022,2 @@\n+  trace = g_string_new (NULL);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstinfo.c","additions":118,"deletions":57,"binary":false,"changes":175,"status":"modified"},{"patch":"@@ -156,8 +156,8 @@\n-  GST_DEBUG_FG_BLACK        = 0x0000,\n-  GST_DEBUG_FG_RED      = 0x0001,\n-  GST_DEBUG_FG_GREEN        = 0x0002,\n-  GST_DEBUG_FG_YELLOW       = 0x0003,\n-  GST_DEBUG_FG_BLUE     = 0x0004,\n-  GST_DEBUG_FG_MAGENTA      = 0x0005,\n-  GST_DEBUG_FG_CYAN     = 0x0006,\n-  GST_DEBUG_FG_WHITE        = 0x0007,\n+  GST_DEBUG_FG_BLACK            = 0x0000,\n+  GST_DEBUG_FG_RED              = 0x0001,\n+  GST_DEBUG_FG_GREEN            = 0x0002,\n+  GST_DEBUG_FG_YELLOW           = 0x0003,\n+  GST_DEBUG_FG_BLUE             = 0x0004,\n+  GST_DEBUG_FG_MAGENTA          = 0x0005,\n+  GST_DEBUG_FG_CYAN             = 0x0006,\n+  GST_DEBUG_FG_WHITE            = 0x0007,\n@@ -165,8 +165,8 @@\n-  GST_DEBUG_BG_BLACK        = 0x0000,\n-  GST_DEBUG_BG_RED      = 0x0010,\n-  GST_DEBUG_BG_GREEN        = 0x0020,\n-  GST_DEBUG_BG_YELLOW       = 0x0030,\n-  GST_DEBUG_BG_BLUE     = 0x0040,\n-  GST_DEBUG_BG_MAGENTA      = 0x0050,\n-  GST_DEBUG_BG_CYAN     = 0x0060,\n-  GST_DEBUG_BG_WHITE        = 0x0070,\n+  GST_DEBUG_BG_BLACK            = 0x0000,\n+  GST_DEBUG_BG_RED              = 0x0010,\n+  GST_DEBUG_BG_GREEN            = 0x0020,\n+  GST_DEBUG_BG_YELLOW           = 0x0030,\n+  GST_DEBUG_BG_BLUE             = 0x0040,\n+  GST_DEBUG_BG_MAGENTA          = 0x0050,\n+  GST_DEBUG_BG_CYAN             = 0x0060,\n+  GST_DEBUG_BG_WHITE            = 0x0070,\n@@ -174,2 +174,2 @@\n-  GST_DEBUG_BOLD        = 0x0100,\n-  GST_DEBUG_UNDERLINE       = 0x0200\n+  GST_DEBUG_BOLD                = 0x0100,\n+  GST_DEBUG_UNDERLINE           = 0x0200\n@@ -208,2 +208,2 @@\n-#define GST_DEBUG_FG_MASK   (0x000F)\n-#define GST_DEBUG_BG_MASK   (0x00F0)\n+#define GST_DEBUG_FG_MASK       (0x000F)\n+#define GST_DEBUG_BG_MASK       (0x00F0)\n@@ -222,1 +222,1 @@\n-  guint         color;      \/* see defines above *\/\n+  guint                 color;          \/* see defines above *\/\n@@ -224,2 +224,2 @@\n-  const gchar *     name;\n-  const gchar *     description;\n+  const gchar *         name;\n+  const gchar *         description;\n@@ -358,1 +358,10 @@\n-void            gst_debug_log            (GstDebugCategory * category,\n+void                gst_debug_log            (GstDebugCategory * category,\n+                                              GstDebugLevel      level,\n+                                              const gchar      * file,\n+                                              const gchar      * function,\n+                                              gint               line,\n+                                              GObject          * object,\n+                                              const gchar      * format,\n+                                              ...) G_GNUC_PRINTF (7, 8) G_GNUC_NO_INSTRUMENT;\n+GST_API\n+void            gst_debug_log_valist     (GstDebugCategory * category,\n@@ -365,1 +374,2 @@\n-                                          ...) G_GNUC_PRINTF (7, 8) G_GNUC_NO_INSTRUMENT;\n+                                          va_list            args) G_GNUC_NO_INSTRUMENT;\n+\n@@ -367,1 +377,1 @@\n-void            gst_debug_log_valist     (GstDebugCategory * category,\n+void            gst_debug_log_literal    (GstDebugCategory * category,\n@@ -371,1 +381,1 @@\n-                                          gint                line,\n+                                          gint               line,\n@@ -373,2 +383,1 @@\n-                                          const gchar      * format,\n-                                          va_list            args) G_GNUC_NO_INSTRUMENT;\n+                                          const gchar      * message_string) G_GNUC_NO_INSTRUMENT;\n@@ -402,1 +411,1 @@\n-typedef void (* GstDebugFuncPtr)    (void);\n+typedef void (* GstDebugFuncPtr)        (void);\n@@ -407,2 +416,2 @@\n-void    _gst_debug_register_funcptr (GstDebugFuncPtr    func,\n-                     const gchar *      ptrname);\n+void    _gst_debug_register_funcptr     (GstDebugFuncPtr        func,\n+                                         const gchar *          ptrname);\n@@ -411,1 +420,1 @@\n-    _gst_debug_nameof_funcptr   (GstDebugFuncPtr    func) G_GNUC_NO_INSTRUMENT;\n+        _gst_debug_nameof_funcptr       (GstDebugFuncPtr        func) G_GNUC_NO_INSTRUMENT;\n@@ -486,1 +495,1 @@\n-void            gst_debug_category_free              (GstDebugCategory *    category);\n+void            gst_debug_category_free              (GstDebugCategory *        category);\n@@ -489,2 +498,2 @@\n-void            gst_debug_category_set_threshold     (GstDebugCategory *    category,\n-                                                      GstDebugLevel     level);\n+void            gst_debug_category_set_threshold     (GstDebugCategory *        category,\n+                                                      GstDebugLevel             level);\n@@ -493,1 +502,1 @@\n-void            gst_debug_category_reset_threshold   (GstDebugCategory *    category);\n+void            gst_debug_category_reset_threshold   (GstDebugCategory *        category);\n@@ -496,1 +505,1 @@\n-GstDebugLevel   gst_debug_category_get_threshold     (GstDebugCategory *    category);\n+GstDebugLevel   gst_debug_category_get_threshold     (GstDebugCategory *        category);\n@@ -499,1 +508,1 @@\n-const gchar *   gst_debug_category_get_name          (GstDebugCategory *    category);\n+const gchar *   gst_debug_category_get_name          (GstDebugCategory *        category);\n@@ -502,1 +511,1 @@\n-guint           gst_debug_category_get_color         (GstDebugCategory *    category);\n+guint           gst_debug_category_get_color         (GstDebugCategory *        category);\n@@ -505,1 +514,1 @@\n-const gchar *   gst_debug_category_get_description   (GstDebugCategory *    category);\n+const gchar *   gst_debug_category_get_description   (GstDebugCategory *        category);\n@@ -613,2 +622,2 @@\n-  if (cat == NULL)                          \\\n-    cat = _gst_debug_category_new (name,color,description);     \\\n+  if (cat == NULL)                                                      \\\n+    cat = _gst_debug_category_new (name,color,description);             \\\n@@ -637,4 +646,4 @@\n-  cat = _gst_debug_get_category (name);         \\\n-  if (!cat) {                       \\\n-    cat = GST_CAT_DEFAULT;              \\\n-  }                         \\\n+  cat = _gst_debug_get_category (name);                 \\\n+  if (!cat) {                                           \\\n+    cat = GST_CAT_DEFAULT;                              \\\n+  }                                                     \\\n@@ -644,1 +653,1 @@\n-  cat = _gst_debug_get_category (name);         \\\n+  cat = _gst_debug_get_category (name);                 \\\n@@ -655,1 +664,1 @@\n-GST_API GstDebugCategory *  GST_CAT_DEFAULT;\n+GST_API GstDebugCategory *      GST_CAT_DEFAULT;\n@@ -692,2 +701,2 @@\n-#define GST_CAT_LEVEL_LOG(cat,level,object,...) G_STMT_START{       \\\n-  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {                     \\\n+#define GST_CAT_LEVEL_LOG(cat,level,object,...) G_STMT_START{           \\\n+  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {                                             \\\n@@ -695,2 +704,2 @@\n-        (GObject *) (object), __VA_ARGS__);             \\\n-  }                                 \\\n+        (GObject *) (object), __VA_ARGS__);                             \\\n+  }                                                                     \\\n@@ -700,2 +709,2 @@\n-#define GST_CAT_LEVEL_LOG(cat,level,object,args...) G_STMT_START{   \\\n-  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {                     \\\n+#define GST_CAT_LEVEL_LOG(cat,level,object,args...) G_STMT_START{       \\\n+  if (G_UNLIKELY ((level) <= GST_LEVEL_MAX && (level) <= _gst_debug_min)) {                                             \\\n@@ -703,2 +712,2 @@\n-        (GObject *) (object), ##args );                 \\\n-  }                                 \\\n+        (GObject *) (object), ##args );                                 \\\n+  }                                                                     \\\n@@ -734,2 +743,2 @@\n-    if (G_UNLIKELY (GST_LEVEL_MEMDUMP <= GST_LEVEL_MAX &&             \\\n-            GST_LEVEL_MEMDUMP <= _gst_debug_min)) {           \\\n+    if (G_UNLIKELY (GST_LEVEL_MEMDUMP <= GST_LEVEL_MAX &&                     \\\n+                    GST_LEVEL_MEMDUMP <= _gst_debug_min)) {                   \\\n@@ -1092,31 +1101,31 @@\n-#define GST_CAT_ERROR_OBJECT(cat,obj,...)   GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   obj,  __VA_ARGS__)\n-#define GST_CAT_WARNING_OBJECT(cat,obj,...) GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, obj,  __VA_ARGS__)\n-#define GST_CAT_INFO_OBJECT(cat,obj,...)    GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    obj,  __VA_ARGS__)\n-#define GST_CAT_DEBUG_OBJECT(cat,obj,...)   GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   obj,  __VA_ARGS__)\n-#define GST_CAT_LOG_OBJECT(cat,obj,...)     GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     obj,  __VA_ARGS__)\n-#define GST_CAT_FIXME_OBJECT(cat,obj,...)   GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   obj,  __VA_ARGS__)\n-#define GST_CAT_TRACE_OBJECT(cat,obj,...)   GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   obj,  __VA_ARGS__)\n-\n-#define GST_CAT_ERROR(cat,...)          GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n-#define GST_CAT_WARNING(cat,...)        GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n-#define GST_CAT_INFO(cat,...)           GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n-#define GST_CAT_DEBUG(cat,...)          GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n-#define GST_CAT_LOG(cat,...)            GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n-#define GST_CAT_FIXME(cat,...)          GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n-#define GST_CAT_TRACE(cat,...)      GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n-\n-#define GST_ERROR_OBJECT(obj,...)   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   obj,  __VA_ARGS__)\n-#define GST_WARNING_OBJECT(obj,...) GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, obj,  __VA_ARGS__)\n-#define GST_INFO_OBJECT(obj,...)    GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    obj,  __VA_ARGS__)\n-#define GST_DEBUG_OBJECT(obj,...)   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   obj,  __VA_ARGS__)\n-#define GST_LOG_OBJECT(obj,...)     GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     obj,  __VA_ARGS__)\n-#define GST_FIXME_OBJECT(obj,...)   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   obj,  __VA_ARGS__)\n-#define GST_TRACE_OBJECT(obj,...)   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   obj,  __VA_ARGS__)\n-\n-#define GST_ERROR(...)          GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n-#define GST_WARNING(...)        GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n-#define GST_INFO(...)           GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n-#define GST_DEBUG(...)          GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n-#define GST_LOG(...)            GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n-#define GST_FIXME(...)          GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n-#define GST_TRACE(...)      GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n+#define GST_CAT_ERROR_OBJECT(cat,obj,...)       GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   obj,  __VA_ARGS__)\n+#define GST_CAT_WARNING_OBJECT(cat,obj,...)     GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, obj,  __VA_ARGS__)\n+#define GST_CAT_INFO_OBJECT(cat,obj,...)        GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    obj,  __VA_ARGS__)\n+#define GST_CAT_DEBUG_OBJECT(cat,obj,...)       GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   obj,  __VA_ARGS__)\n+#define GST_CAT_LOG_OBJECT(cat,obj,...)         GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     obj,  __VA_ARGS__)\n+#define GST_CAT_FIXME_OBJECT(cat,obj,...)       GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   obj,  __VA_ARGS__)\n+#define GST_CAT_TRACE_OBJECT(cat,obj,...)       GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   obj,  __VA_ARGS__)\n+\n+#define GST_CAT_ERROR(cat,...)                  GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n+#define GST_CAT_WARNING(cat,...)                GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n+#define GST_CAT_INFO(cat,...)                   GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n+#define GST_CAT_DEBUG(cat,...)                  GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n+#define GST_CAT_LOG(cat,...)                    GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n+#define GST_CAT_FIXME(cat,...)                  GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n+#define GST_CAT_TRACE(cat,...)          GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n+\n+#define GST_ERROR_OBJECT(obj,...)       GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   obj,  __VA_ARGS__)\n+#define GST_WARNING_OBJECT(obj,...)     GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, obj,  __VA_ARGS__)\n+#define GST_INFO_OBJECT(obj,...)        GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    obj,  __VA_ARGS__)\n+#define GST_DEBUG_OBJECT(obj,...)       GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   obj,  __VA_ARGS__)\n+#define GST_LOG_OBJECT(obj,...)         GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     obj,  __VA_ARGS__)\n+#define GST_FIXME_OBJECT(obj,...)       GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   obj,  __VA_ARGS__)\n+#define GST_TRACE_OBJECT(obj,...)       GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   obj,  __VA_ARGS__)\n+\n+#define GST_ERROR(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, __VA_ARGS__)\n+#define GST_WARNING(...)                GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, __VA_ARGS__)\n+#define GST_INFO(...)                   GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, __VA_ARGS__)\n+#define GST_DEBUG(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, __VA_ARGS__)\n+#define GST_LOG(...)                    GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, __VA_ARGS__)\n+#define GST_FIXME(...)                  GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, __VA_ARGS__)\n+#define GST_TRACE(...)          GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, __VA_ARGS__)\n@@ -1131,1 +1140,1 @@\n-#define GST_CAT_LOG_OBJECT(cat,obj,args...) GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     obj,  ##args )\n+#define GST_CAT_LOG_OBJECT(cat,obj,args...)     GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     obj,  ##args )\n@@ -1135,7 +1144,7 @@\n-#define GST_CAT_ERROR(cat,args...)      GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   NULL, ##args )\n-#define GST_CAT_WARNING(cat,args...)        GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, NULL, ##args )\n-#define GST_CAT_INFO(cat,args...)       GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    NULL, ##args )\n-#define GST_CAT_DEBUG(cat,args...)      GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   NULL, ##args )\n-#define GST_CAT_LOG(cat,args...)        GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     NULL, ##args )\n-#define GST_CAT_FIXME(cat,args...)      GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   NULL, ##args )\n-#define GST_CAT_TRACE(cat,args...)      GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   NULL, ##args )\n+#define GST_CAT_ERROR(cat,args...)              GST_CAT_LEVEL_LOG (cat, GST_LEVEL_ERROR,   NULL, ##args )\n+#define GST_CAT_WARNING(cat,args...)            GST_CAT_LEVEL_LOG (cat, GST_LEVEL_WARNING, NULL, ##args )\n+#define GST_CAT_INFO(cat,args...)               GST_CAT_LEVEL_LOG (cat, GST_LEVEL_INFO,    NULL, ##args )\n+#define GST_CAT_DEBUG(cat,args...)              GST_CAT_LEVEL_LOG (cat, GST_LEVEL_DEBUG,   NULL, ##args )\n+#define GST_CAT_LOG(cat,args...)                GST_CAT_LEVEL_LOG (cat, GST_LEVEL_LOG,     NULL, ##args )\n+#define GST_CAT_FIXME(cat,args...)              GST_CAT_LEVEL_LOG (cat, GST_LEVEL_FIXME,   NULL, ##args )\n+#define GST_CAT_TRACE(cat,args...)              GST_CAT_LEVEL_LOG (cat, GST_LEVEL_TRACE,   NULL, ##args )\n@@ -1147,1 +1156,1 @@\n-#define GST_LOG_OBJECT(obj,args...) GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     obj,  ##args )\n+#define GST_LOG_OBJECT(obj,args...)     GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     obj,  ##args )\n@@ -1151,7 +1160,7 @@\n-#define GST_ERROR(args...)      GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, ##args )\n-#define GST_WARNING(args...)        GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, ##args )\n-#define GST_INFO(args...)       GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, ##args )\n-#define GST_DEBUG(args...)      GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, ##args )\n-#define GST_LOG(args...)        GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, ##args )\n-#define GST_FIXME(args...)      GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, ##args )\n-#define GST_TRACE(args...)      GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, ##args )\n+#define GST_ERROR(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_ERROR,   NULL, ##args )\n+#define GST_WARNING(args...)            GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_WARNING, NULL, ##args )\n+#define GST_INFO(args...)               GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_INFO,    NULL, ##args )\n+#define GST_DEBUG(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_DEBUG,   NULL, ##args )\n+#define GST_LOG(args...)                GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_LOG,     NULL, ##args )\n+#define GST_FIXME(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_FIXME,   NULL, ##args )\n+#define GST_TRACE(args...)              GST_CAT_LEVEL_LOG (GST_CAT_DEFAULT, GST_LEVEL_TRACE,   NULL, ##args )\n@@ -1512,0 +1521,1 @@\n+#  pragma GCC poison gst_debug_log_literal\n@@ -1517,2 +1527,2 @@\n-#define gst_debug_set_default_threshold(level)      G_STMT_START{ }G_STMT_END\n-#define gst_debug_get_default_threshold()       (GST_LEVEL_NONE)\n+#define gst_debug_set_default_threshold(level)          G_STMT_START{ }G_STMT_END\n+#define gst_debug_get_default_threshold()               (GST_LEVEL_NONE)\n@@ -1520,2 +1530,2 @@\n-#define gst_debug_level_get_name(level)             (\"NONE\")\n-#define gst_debug_message_get(message)              (\"\")\n+#define gst_debug_level_get_name(level)                         (\"NONE\")\n+#define gst_debug_message_get(message)                          (\"\")\n@@ -1523,9 +1533,9 @@\n-#define gst_debug_set_active(active)            G_STMT_START{ }G_STMT_END\n-#define gst_debug_is_active()               (FALSE)\n-#define gst_debug_set_colored(colored)          G_STMT_START{ }G_STMT_END\n-#define gst_debug_set_color_mode(mode)          G_STMT_START{ }G_STMT_END\n-#define gst_debug_set_color_mode_from_string(mode)  G_STMT_START{ }G_STMT_END\n-#define gst_debug_is_colored()              (FALSE)\n-#define gst_debug_get_color_mode()          (GST_DEBUG_COLOR_MODE_OFF)\n-#define gst_debug_set_default_threshold(level)      G_STMT_START{ }G_STMT_END\n-#define gst_debug_get_default_threshold()       (GST_LEVEL_NONE)\n+#define gst_debug_set_active(active)                    G_STMT_START{ }G_STMT_END\n+#define gst_debug_is_active()                           (FALSE)\n+#define gst_debug_set_colored(colored)                  G_STMT_START{ }G_STMT_END\n+#define gst_debug_set_color_mode(mode)                  G_STMT_START{ }G_STMT_END\n+#define gst_debug_set_color_mode_from_string(mode)      G_STMT_START{ }G_STMT_END\n+#define gst_debug_is_colored()                          (FALSE)\n+#define gst_debug_get_color_mode()                      (GST_DEBUG_COLOR_MODE_OFF)\n+#define gst_debug_set_default_threshold(level)          G_STMT_START{ }G_STMT_END\n+#define gst_debug_get_default_threshold()               (GST_LEVEL_NONE)\n@@ -1533,1 +1543,1 @@\n-#define gst_debug_unset_threshold_for_name(name)    G_STMT_START{ }G_STMT_END\n+#define gst_debug_unset_threshold_for_name(name)        G_STMT_START{ }G_STMT_END\n@@ -1537,3 +1547,3 @@\n-#define GST_DEBUG_CATEGORY(var)             void _gst_debug_dummy_##var (void)\n-#define GST_DEBUG_CATEGORY_EXTERN(var)          void _gst_debug_dummy_extern_##var (void)\n-#define GST_DEBUG_CATEGORY_STATIC(var)          void _gst_debug_dummy_static_##var (void)\n+#define GST_DEBUG_CATEGORY(var)                         void _gst_debug_dummy_##var (void)\n+#define GST_DEBUG_CATEGORY_EXTERN(var)                  void _gst_debug_dummy_extern_##var (void)\n+#define GST_DEBUG_CATEGORY_STATIC(var)                  void _gst_debug_dummy_static_##var (void)\n@@ -1542,1 +1552,1 @@\n-#define GST_DEBUG_CATEGORY_GET(var,name)        G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG_CATEGORY_GET(var,name)                G_STMT_START{ }G_STMT_END\n@@ -1544,1 +1554,1 @@\n-#define gst_debug_category_free(category)       G_STMT_START{ }G_STMT_END\n+#define gst_debug_category_free(category)               G_STMT_START{ }G_STMT_END\n@@ -1548,7 +1558,7 @@\n-#define gst_debug_category_get_threshold(category)  (GST_LEVEL_NONE)\n-#define gst_debug_category_get_name(cat)        (\"\")\n-#define gst_debug_category_get_color(cat)       (0)\n-#define gst_debug_category_get_description(cat)     (\"\")\n-#define gst_debug_get_all_categories()          (NULL)\n-#define gst_debug_construct_term_color(colorinfo)   (g_strdup (\"00\"))\n-#define gst_debug_construct_win_color(colorinfo)    (0)\n+#define gst_debug_category_get_threshold(category)      (GST_LEVEL_NONE)\n+#define gst_debug_category_get_name(cat)                (\"\")\n+#define gst_debug_category_get_color(cat)               (0)\n+#define gst_debug_category_get_description(cat)         (\"\")\n+#define gst_debug_get_all_categories()                  (NULL)\n+#define gst_debug_construct_term_color(colorinfo)       (g_strdup (\"00\"))\n+#define gst_debug_construct_win_color(colorinfo)        (0)\n@@ -1560,33 +1570,33 @@\n-#define GST_CAT_LEVEL_LOG(cat,level,...)        G_STMT_START{ }G_STMT_END\n-\n-#define GST_CAT_ERROR_OBJECT(...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_WARNING_OBJECT(...)         G_STMT_START{ }G_STMT_END\n-#define GST_CAT_INFO_OBJECT(...)            G_STMT_START{ }G_STMT_END\n-#define GST_CAT_DEBUG_OBJECT(...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_LOG_OBJECT(...)             G_STMT_START{ }G_STMT_END\n-#define GST_CAT_FIXME_OBJECT(...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_TRACE_OBJECT(...)           G_STMT_START{ }G_STMT_END\n-\n-#define GST_CAT_ERROR(...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_WARNING(...)                G_STMT_START{ }G_STMT_END\n-#define GST_CAT_INFO(...)               G_STMT_START{ }G_STMT_END\n-#define GST_CAT_DEBUG(...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_LOG(...)                G_STMT_START{ }G_STMT_END\n-#define GST_CAT_FIXME(...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_TRACE(...)              G_STMT_START{ }G_STMT_END\n-\n-#define GST_ERROR_OBJECT(...)               G_STMT_START{ }G_STMT_END\n-#define GST_WARNING_OBJECT(...)             G_STMT_START{ }G_STMT_END\n-#define GST_INFO_OBJECT(...)                G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG_OBJECT(...)               G_STMT_START{ }G_STMT_END\n-#define GST_LOG_OBJECT(...)             G_STMT_START{ }G_STMT_END\n-#define GST_FIXME_OBJECT(...)               G_STMT_START{ }G_STMT_END\n-#define GST_TRACE_OBJECT(...)               G_STMT_START{ }G_STMT_END\n-\n-#define GST_ERROR(...)                  G_STMT_START{ }G_STMT_END\n-#define GST_WARNING(...)                G_STMT_START{ }G_STMT_END\n-#define GST_INFO(...)                   G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG(...)                  G_STMT_START{ }G_STMT_END\n-#define GST_LOG(...)                    G_STMT_START{ }G_STMT_END\n-#define GST_FIXME(...)                  G_STMT_START{ }G_STMT_END\n-#define GST_TRACE(...)                  G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LEVEL_LOG(cat,level,...)                G_STMT_START{ }G_STMT_END\n+\n+#define GST_CAT_ERROR_OBJECT(...)                       G_STMT_START{ }G_STMT_END\n+#define GST_CAT_WARNING_OBJECT(...)                     G_STMT_START{ }G_STMT_END\n+#define GST_CAT_INFO_OBJECT(...)                        G_STMT_START{ }G_STMT_END\n+#define GST_CAT_DEBUG_OBJECT(...)                       G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LOG_OBJECT(...)                         G_STMT_START{ }G_STMT_END\n+#define GST_CAT_FIXME_OBJECT(...)                       G_STMT_START{ }G_STMT_END\n+#define GST_CAT_TRACE_OBJECT(...)                       G_STMT_START{ }G_STMT_END\n+\n+#define GST_CAT_ERROR(...)                              G_STMT_START{ }G_STMT_END\n+#define GST_CAT_WARNING(...)                            G_STMT_START{ }G_STMT_END\n+#define GST_CAT_INFO(...)                               G_STMT_START{ }G_STMT_END\n+#define GST_CAT_DEBUG(...)                              G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LOG(...)                                G_STMT_START{ }G_STMT_END\n+#define GST_CAT_FIXME(...)                              G_STMT_START{ }G_STMT_END\n+#define GST_CAT_TRACE(...)                              G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR_OBJECT(...)                           G_STMT_START{ }G_STMT_END\n+#define GST_WARNING_OBJECT(...)                         G_STMT_START{ }G_STMT_END\n+#define GST_INFO_OBJECT(...)                            G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG_OBJECT(...)                           G_STMT_START{ }G_STMT_END\n+#define GST_LOG_OBJECT(...)                             G_STMT_START{ }G_STMT_END\n+#define GST_FIXME_OBJECT(...)                           G_STMT_START{ }G_STMT_END\n+#define GST_TRACE_OBJECT(...)                           G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR(...)                                  G_STMT_START{ }G_STMT_END\n+#define GST_WARNING(...)                                G_STMT_START{ }G_STMT_END\n+#define GST_INFO(...)                                   G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG(...)                                  G_STMT_START{ }G_STMT_END\n+#define GST_LOG(...)                                    G_STMT_START{ }G_STMT_END\n+#define GST_FIXME(...)                                  G_STMT_START{ }G_STMT_END\n+#define GST_TRACE(...)                                  G_STMT_START{ }G_STMT_END\n@@ -1597,33 +1607,33 @@\n-#define GST_CAT_LEVEL_LOG(cat,level,args...)        G_STMT_START{ }G_STMT_END\n-\n-#define GST_CAT_ERROR_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_WARNING_OBJECT(args...)         G_STMT_START{ }G_STMT_END\n-#define GST_CAT_INFO_OBJECT(args...)            G_STMT_START{ }G_STMT_END\n-#define GST_CAT_DEBUG_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_LOG_OBJECT(args...)         G_STMT_START{ }G_STMT_END\n-#define GST_CAT_FIXME_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_CAT_TRACE_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-\n-#define GST_CAT_ERROR(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_WARNING(args...)            G_STMT_START{ }G_STMT_END\n-#define GST_CAT_INFO(args...)               G_STMT_START{ }G_STMT_END\n-#define GST_CAT_DEBUG(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_LOG(args...)                G_STMT_START{ }G_STMT_END\n-#define GST_CAT_FIXME(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_CAT_TRACE(args...)              G_STMT_START{ }G_STMT_END\n-\n-#define GST_ERROR_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_WARNING_OBJECT(args...)         G_STMT_START{ }G_STMT_END\n-#define GST_INFO_OBJECT(args...)            G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_LOG_OBJECT(args...)             G_STMT_START{ }G_STMT_END\n-#define GST_FIXME_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-#define GST_TRACE_OBJECT(args...)           G_STMT_START{ }G_STMT_END\n-\n-#define GST_ERROR(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_WARNING(args...)                G_STMT_START{ }G_STMT_END\n-#define GST_INFO(args...)               G_STMT_START{ }G_STMT_END\n-#define GST_DEBUG(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_LOG(args...)                G_STMT_START{ }G_STMT_END\n-#define GST_FIXME(args...)              G_STMT_START{ }G_STMT_END\n-#define GST_TRACE(args...)              G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LEVEL_LOG(cat,level,args...)            G_STMT_START{ }G_STMT_END\n+\n+#define GST_CAT_ERROR_OBJECT(args...)                   G_STMT_START{ }G_STMT_END\n+#define GST_CAT_WARNING_OBJECT(args...)                 G_STMT_START{ }G_STMT_END\n+#define GST_CAT_INFO_OBJECT(args...)                    G_STMT_START{ }G_STMT_END\n+#define GST_CAT_DEBUG_OBJECT(args...)                   G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LOG_OBJECT(args...)                     G_STMT_START{ }G_STMT_END\n+#define GST_CAT_FIXME_OBJECT(args...)                   G_STMT_START{ }G_STMT_END\n+#define GST_CAT_TRACE_OBJECT(args...)                   G_STMT_START{ }G_STMT_END\n+\n+#define GST_CAT_ERROR(args...)                          G_STMT_START{ }G_STMT_END\n+#define GST_CAT_WARNING(args...)                        G_STMT_START{ }G_STMT_END\n+#define GST_CAT_INFO(args...)                           G_STMT_START{ }G_STMT_END\n+#define GST_CAT_DEBUG(args...)                          G_STMT_START{ }G_STMT_END\n+#define GST_CAT_LOG(args...)                            G_STMT_START{ }G_STMT_END\n+#define GST_CAT_FIXME(args...)                          G_STMT_START{ }G_STMT_END\n+#define GST_CAT_TRACE(args...)                          G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR_OBJECT(args...)                       G_STMT_START{ }G_STMT_END\n+#define GST_WARNING_OBJECT(args...)                     G_STMT_START{ }G_STMT_END\n+#define GST_INFO_OBJECT(args...)                        G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG_OBJECT(args...)                       G_STMT_START{ }G_STMT_END\n+#define GST_LOG_OBJECT(args...)                         G_STMT_START{ }G_STMT_END\n+#define GST_FIXME_OBJECT(args...)                       G_STMT_START{ }G_STMT_END\n+#define GST_TRACE_OBJECT(args...)                       G_STMT_START{ }G_STMT_END\n+\n+#define GST_ERROR(args...)                              G_STMT_START{ }G_STMT_END\n+#define GST_WARNING(args...)                            G_STMT_START{ }G_STMT_END\n+#define GST_INFO(args...)                               G_STMT_START{ }G_STMT_END\n+#define GST_DEBUG(args...)                              G_STMT_START{ }G_STMT_END\n+#define GST_LOG(args...)                                G_STMT_START{ }G_STMT_END\n+#define GST_FIXME(args...)                              G_STMT_START{ }G_STMT_END\n+#define GST_TRACE(args...)                              G_STMT_START{ }G_STMT_END\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstinfo.h","additions":208,"deletions":198,"binary":false,"changes":406,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- *     switch (gst_iterator_next (it, &amp;item)) {\n+ *     switch (gst_iterator_next (it, &item)) {\n@@ -50,1 +50,1 @@\n- *         g_value_reset (&amp;item);\n+ *         g_value_reset (&item);\n@@ -65,1 +65,1 @@\n- *   g_value_unset (&amp;item);\n+ *   g_value_unset (&item);\n@@ -632,1 +632,0 @@\n-#if GLIB_CHECK_VERSION (2, 48, 0)\n@@ -634,4 +633,0 @@\n-#else\n-  if (item.g_type != 0)\n-    g_value_unset (&item);\n-#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstiterator.c","additions":3,"deletions":8,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -54,1 +54,4 @@\n- * made when this memory needs to be shared between buffers.\n+ * made when this memory needs to be shared between buffers. (DEPRECATED:\n+ * do not use in new code, instead you should create a custom GstAllocator for\n+ * memory pooling instead of relying on the GstBuffer they were originally\n+ * attached to.)\n@@ -57,2 +60,4 @@\n- * @GST_MEMORY_FLAG_PHYSICALLY_CONTIGUOUS: the memory is physically contiguous. (Since: 1.2)\n- * @GST_MEMORY_FLAG_NOT_MAPPABLE: the memory can't be mapped via gst_memory_map() without any preconditions. (Since: 1.2)\n+ * @GST_MEMORY_FLAG_PHYSICALLY_CONTIGUOUS: the memory is physically\n+ * contiguous. (Since: 1.2)\n+ * @GST_MEMORY_FLAG_NOT_MAPPABLE: the memory can't be mapped via\n+ * gst_memory_map() without any preconditions. (Since: 1.2)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmemory.h","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -1243,1 +1243,1 @@\n- *       gst_message_parse_tag (msg, &amp;tags);\n+ *       gst_message_parse_tag (msg, &tags);\n@@ -1366,1 +1366,1 @@\n- *       gst_message_parse_state_changed (msg, &amp;old_state, &amp;new_state, NULL);\n+ *       gst_message_parse_state_changed (msg, &old_state, &new_state, NULL);\n@@ -1554,1 +1554,1 @@\n- *       gst_message_parse_error (msg, &amp;err, &amp;dbg_info);\n+ *       gst_message_parse_error (msg, &err, &dbg_info);\n@@ -2357,0 +2357,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (running_time), NULL);\n+\n@@ -2473,0 +2475,2 @@\n+  *group_id = 0;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmessage.c","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -61,0 +61,22 @@\n+typedef struct\n+{\n+  GstCustomMeta meta;\n+\n+  GstStructure *structure;\n+} GstCustomMetaImpl;\n+\n+typedef struct\n+{\n+  GstMetaInfo info;\n+  GstCustomMetaTransformFunction custom_transform_func;\n+  gpointer custom_transform_user_data;\n+  GDestroyNotify custom_transform_destroy_notify;\n+  gboolean is_custom;\n+} GstMetaInfoImpl;\n+\n+static void\n+free_info (gpointer data)\n+{\n+  g_slice_free (GstMetaInfoImpl, data);\n+}\n+\n@@ -65,1 +87,1 @@\n-  metainfo = g_hash_table_new (g_str_hash, g_str_equal);\n+  metainfo = g_hash_table_new_full (g_str_hash, g_str_equal, NULL, free_info);\n@@ -71,0 +93,22 @@\n+static gboolean\n+notify_custom (gchar * key, GstMetaInfo * info, gpointer unused)\n+{\n+  GstMetaInfoImpl *impl = (GstMetaInfoImpl *) info;\n+\n+  if (impl->is_custom) {\n+    if (impl->custom_transform_destroy_notify)\n+      impl->custom_transform_destroy_notify (impl->custom_transform_user_data);\n+  }\n+  return TRUE;\n+}\n+\n+void\n+_priv_gst_meta_cleanup (void)\n+{\n+  if (metainfo != NULL) {\n+    g_hash_table_foreach_remove (metainfo, (GHRFunc) notify_custom, NULL);\n+    g_hash_table_unref (metainfo);\n+    metainfo = NULL;\n+  }\n+}\n+\n@@ -107,0 +151,162 @@\n+static gboolean\n+custom_init_func (GstMeta * meta, gpointer params, GstBuffer * buffer)\n+{\n+  GstCustomMetaImpl *cmeta = (GstCustomMetaImpl *) meta;\n+\n+  cmeta->structure = gst_structure_new_empty (g_type_name (meta->info->type));\n+\n+  gst_structure_set_parent_refcount (cmeta->structure,\n+      &GST_MINI_OBJECT_REFCOUNT (buffer));\n+\n+  return TRUE;\n+}\n+\n+static void\n+custom_free_func (GstMeta * meta, GstBuffer * buffer)\n+{\n+  GstCustomMetaImpl *cmeta = (GstCustomMetaImpl *) meta;\n+\n+  gst_structure_set_parent_refcount (cmeta->structure, NULL);\n+  gst_structure_free (cmeta->structure);\n+}\n+\n+static gboolean\n+custom_transform_func (GstBuffer * transbuf, GstMeta * meta,\n+    GstBuffer * buffer, GQuark type, gpointer data)\n+{\n+  GstCustomMetaImpl *custom, *cmeta = (GstCustomMetaImpl *) meta;\n+  GstMetaInfoImpl *info = (GstMetaInfoImpl *) meta->info;\n+\n+  if (info->custom_transform_func)\n+    return info->custom_transform_func (transbuf, (GstCustomMeta *) meta,\n+        buffer, type, data, info->custom_transform_user_data);\n+\n+  if (GST_META_TRANSFORM_IS_COPY (type)) {\n+    custom =\n+        (GstCustomMetaImpl *) gst_buffer_add_meta (transbuf, meta->info, NULL);\n+    gst_structure_set_parent_refcount (custom->structure, NULL);\n+    gst_structure_take (&custom->structure,\n+        gst_structure_copy (cmeta->structure));\n+    gst_structure_set_parent_refcount (custom->structure,\n+        &GST_MINI_OBJECT_REFCOUNT (buffer));\n+  } else {\n+    return FALSE;\n+  }\n+\n+  return TRUE;\n+}\n+\n+\/**\n+ * gst_custom_meta_get_structure:\n+ *\n+ * Retrieve the #GstStructure backing a custom meta, the structure's mutability\n+ * is conditioned to the writability of the #GstBuffer @meta is attached to.\n+ *\n+ * Returns: (transfer none): the #GstStructure backing @meta\n+ * Since: 1.20\n+ *\/\n+GstStructure *\n+gst_custom_meta_get_structure (GstCustomMeta * meta)\n+{\n+  g_return_val_if_fail (meta != NULL, NULL);\n+  g_return_val_if_fail (gst_meta_info_is_custom (((GstMeta *) meta)->info),\n+      NULL);\n+\n+  return ((GstCustomMetaImpl *) meta)->structure;\n+}\n+\n+\/**\n+ * gst_custom_meta_has_name:\n+ *\n+ * Checks whether the name of the custom meta is @name\n+ *\n+ * Returns: Whether @name is the name of the custom meta\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_custom_meta_has_name (GstCustomMeta * meta, const gchar * name)\n+{\n+  g_return_val_if_fail (meta != NULL, FALSE);\n+  g_return_val_if_fail (gst_meta_info_is_custom (((GstMeta *) meta)->info),\n+      FALSE);\n+\n+  return gst_structure_has_name (((GstCustomMetaImpl *) meta)->structure, name);\n+}\n+\n+\/**\n+ * gst_meta_register_custom:\n+ * @name: the name of the #GstMeta implementation\n+ * @tags: (array zero-terminated=1): tags for @api\n+ * @transform_func: (scope notified) (nullable): a #GstMetaTransformFunction\n+ * @user_data: (closure): user data passed to @transform_func\n+ * @destroy_data: #GDestroyNotify for user_data\n+ *\n+ * Register a new custom #GstMeta implementation, backed by an opaque\n+ * structure holding a #GstStructure.\n+ *\n+ * The registered info can be retrieved later with gst_meta_get_info() by using\n+ * @name as the key.\n+ *\n+ * The backing #GstStructure can be retrieved with\n+ * gst_custom_meta_get_structure(), its mutability is conditioned by the\n+ * writability of the buffer the meta is attached to.\n+ *\n+ * When @transform_func is %NULL, the meta and its backing #GstStructure\n+ * will always be copied when the transform operation is copy, other operations\n+ * are discarded, copy regions are ignored.\n+ *\n+ * Returns: (transfer none): a #GstMetaInfo that can be used to\n+ * access metadata.\n+ * Since: 1.20\n+ *\/\n+const GstMetaInfo *\n+gst_meta_register_custom (const gchar * name, const gchar ** tags,\n+    GstCustomMetaTransformFunction transform_func,\n+    gpointer user_data, GDestroyNotify destroy_data)\n+{\n+  gchar *api_name = g_strdup_printf (\"%s-api\", name);\n+  GType api;\n+  GstMetaInfoImpl *info;\n+  GstMetaInfo *ret = NULL;\n+\n+  g_return_val_if_fail (tags != NULL, NULL);\n+  g_return_val_if_fail (name != NULL, NULL);\n+\n+  api = gst_meta_api_type_register (api_name, tags);\n+  g_free (api_name);\n+  if (api == G_TYPE_INVALID)\n+    goto done;\n+\n+  info = (GstMetaInfoImpl *) gst_meta_register (api, name,\n+      sizeof (GstCustomMetaImpl),\n+      custom_init_func, custom_free_func, custom_transform_func);\n+\n+  if (!info)\n+    goto done;\n+\n+  info->is_custom = TRUE;\n+  info->custom_transform_func = transform_func;\n+  info->custom_transform_user_data = user_data;\n+  info->custom_transform_destroy_notify = destroy_data;\n+\n+  ret = (GstMetaInfo *) info;\n+\n+done:\n+  return ret;\n+}\n+\n+\/**\n+ * gst_meta_info_is_custom:\n+ *\n+ * Returns: whether @info was registered as a #GstCustomMeta with\n+ *   gst_meta_register_custom()\n+ * Since:1.20\n+ *\/\n+gboolean\n+gst_meta_info_is_custom (const GstMetaInfo * info)\n+{\n+  g_return_val_if_fail (info != NULL, FALSE);\n+\n+  return ((GstMetaInfoImpl *) info)->is_custom;\n+}\n+\n@@ -161,1 +367,1 @@\n- * Returns: (transfer none) (nullable): a #GstMetaInfo that can be used to\n+ * Returns: (transfer none): a #GstMetaInfo that can be used to\n@@ -188,1 +394,1 @@\n-  info = g_slice_new (GstMetaInfo);\n+  info = (GstMetaInfo *) g_slice_new (GstMetaInfoImpl);\n@@ -195,0 +401,1 @@\n+  ((GstMetaInfoImpl *) info)->is_custom = FALSE;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmeta.c","additions":210,"deletions":3,"binary":false,"changes":213,"status":"modified"},{"patch":"@@ -108,0 +108,11 @@\n+\/**\n+ * GstCustomMeta:\n+ *\n+ * Simple typing wrapper around #GstMeta\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef struct {\n+  GstMeta meta;\n+} GstCustomMeta;\n+\n@@ -185,0 +196,24 @@\n+\/**\n+ * GstCustomMetaTransformFunction:\n+ * @transbuf: a #GstBuffer\n+ * @meta: a #GstCustomMeta\n+ * @buffer: a #GstBuffer\n+ * @type: the transform type\n+ * @data: transform specific data.\n+ * @user_data: user data passed when registering the meta\n+ *\n+ * Function called for each @meta in @buffer as a result of performing a\n+ * transformation on @transbuf. Additional @type specific transform data\n+ * is passed to the function as @data.\n+ *\n+ * Implementations should check the @type of the transform and parse\n+ * additional type specific fields in @data that should be used to update\n+ * the metadata on @transbuf.\n+ *\n+ * Returns: %TRUE if the transform could be performed\n+ * Since: 1.20\n+ *\/\n+typedef gboolean (*GstCustomMetaTransformFunction) (GstBuffer *transbuf,\n+                                                    GstCustomMeta *meta, GstBuffer *buffer,\n+                                                    GQuark type, gpointer data, gpointer user_data);\n+\n@@ -223,0 +258,15 @@\n+\n+GST_API\n+const GstMetaInfo *  gst_meta_register_custom   (const gchar *name, const gchar **tags,\n+                                                 GstCustomMetaTransformFunction transform_func,\n+                                                 gpointer user_data, GDestroyNotify destroy_data);\n+\n+GST_API\n+gboolean             gst_meta_info_is_custom    (const GstMetaInfo *info);\n+\n+GST_API\n+GstStructure *       gst_custom_meta_get_structure (GstCustomMeta *meta);\n+\n+GST_API\n+gboolean             gst_custom_meta_has_name (GstCustomMeta *meta, const gchar * name);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmeta.h","additions":50,"deletions":0,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -62,0 +62,2 @@\n+GType _gst_mini_object_type = 0;\n+\n@@ -75,0 +77,8 @@\n+\/**\n+ * GST_TYPE_MINI_OBJECT:\n+ *\n+ * The #GType associated with #GstMiniObject.\n+ *\n+ * Since: 1.20\n+ *\/\n+\n@@ -129,0 +139,2 @@\n+GST_DEFINE_MINI_OBJECT_TYPE (GstMiniObject, gst_mini_object);\n+\n@@ -132,0 +144,1 @@\n+  _gst_mini_object_type = gst_mini_object_get_type ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstminiobject.c","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -32,0 +32,8 @@\n+#ifndef GSTREAMER_LITE\n+GST_API GType _gst_mini_object_type;\n+#else \/\/ GSTREAMER_LITE\n+GST_EXPORT GType _gst_mini_object_type;\n+#endif \/\/ GSTREAMER_LITE\n+\n+#define GST_TYPE_MINI_OBJECT               (_gst_mini_object_type)\n+\n@@ -39,0 +47,3 @@\n+GST_API\n+GType           gst_mini_object_get_type   (void);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstminiobject.h","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -726,2 +726,0 @@\n-  GST_OBJECT_UNLOCK (pad);\n-\n@@ -729,0 +727,1 @@\n+  GST_OBJECT_UNLOCK (pad);\n@@ -1375,1 +1374,2 @@\n-  if (!G_HOOK_IS_VALID (hook))\n+  if (!G_HOOK_IS_VALID (hook)) {\n+    \/* We've already destroyed this hook *\/\n@@ -1377,0 +1377,1 @@\n+  }\n@@ -1496,0 +1497,3 @@\n+      \/* Ref the hook, it could be destroyed by the callback or concurrently *\/\n+      g_hook_ref (&pad->probes, hook);\n+\n@@ -1527,0 +1531,1 @@\n+      g_hook_unref (&pad->probes, hook);\n@@ -3536,2 +3541,6 @@\n-static void\n-probe_hook_marshal (GHook * hook, ProbeMarshall * data)\n+\/* A helper that checks if a probe was already\n+ * in the called_probes list, and adds it if\n+ * not. Used to avoid calling probes a 2nd time when\n+ * looping again after probe removal *\/\n+static gboolean\n+check_probe_already_called (GHook * hook, ProbeMarshall * data)\n@@ -3539,6 +3548,0 @@\n-  GstPad *pad = data->pad;\n-  GstPadProbeInfo *info = data->info;\n-  GstPadProbeType type, flags;\n-  GstPadProbeCallback callback;\n-  GstPadProbeReturn ret;\n-  gpointer original_data;\n@@ -3552,3 +3555,1 @@\n-        GST_CAT_LOG_OBJECT (GST_CAT_SCHEDULING, pad,\n-            \"hook %lu already called\", hook->hook_id);\n-        return;\n+        return TRUE;\n@@ -3576,0 +3577,14 @@\n+  \/* This probe was not alraedy called *\/\n+  return FALSE;\n+}\n+\n+static void\n+probe_hook_marshal (GHook * hook, ProbeMarshall * data)\n+{\n+  GstPad *pad = data->pad;\n+  GstPadProbeInfo *info = data->info;\n+  GstPadProbeType type, flags;\n+  GstPadProbeCallback callback;\n+  GstPadProbeReturn ret;\n+  gpointer original_data;\n+\n@@ -3621,0 +3636,11 @@\n+  if (check_probe_already_called (hook, data)) {\n+    \/* Reset marshalled = TRUE here, because the probe\n+     * was already called and set it the first time around,\n+     * and we may want to keep blocking on it.\n+     *\n+     * https:\/\/gitlab.freedesktop.org\/gstreamer\/gstreamer\/-\/issues\/658\n+     *\/\n+    data->marshalled = TRUE;\n+    goto already_called;\n+  }\n+\n@@ -3624,2 +3650,0 @@\n-  data->marshalled = TRUE;\n-\n@@ -3627,1 +3651,3 @@\n-  if (callback == NULL)\n+  if (callback == NULL) {\n+    \/* No callback is equivalent to just returning GST_PAD_PROBE_OK *\/\n+    data->marshalled = TRUE;\n@@ -3629,0 +3655,1 @@\n+  }\n@@ -3641,0 +3668,12 @@\n+  \/* If the probe callback asked for the\n+   * probe to be removed, don't set the marshalled flag\n+   * otherwise, you can get a case where you return\n+   * GST_PAD_PROBE_REMOVE from a buffer probe and\n+   * then the pad blocks anyway if there's any other\n+   * blocking probes installed.\n+   *\n+   * https:\/\/gitlab.freedesktop.org\/gstreamer\/gstreamer\/-\/issues\/658\n+   *\/\n+  if (ret != GST_PAD_PROBE_REMOVE)\n+    data->marshalled = TRUE;\n+\n@@ -3689,0 +3728,6 @@\n+already_called:\n+  {\n+    GST_CAT_LOG_OBJECT (GST_CAT_SCHEDULING, pad,\n+        \"hook %lu already called\", hook->hook_id);\n+    return;\n+  }\n@@ -3777,1 +3822,0 @@\n-  data.marshalled = FALSE;\n@@ -3800,0 +3844,4 @@\n+  \/* Clear the marshalled flag before doing callbacks. Only if\n+   * there are matching callbacks still will it get set *\/\n+  data.marshalled = FALSE;\n+\n@@ -4421,0 +4469,2 @@\n+  pad->ABI.abi.last_flowret = ret;\n+\n@@ -4432,0 +4482,1 @@\n+    pad->ABI.abi.last_flowret = GST_FLOW_FLUSHING;\n@@ -4440,0 +4491,1 @@\n+    pad->ABI.abi.last_flowret = GST_FLOW_EOS;\n@@ -4449,0 +4501,1 @@\n+    pad->ABI.abi.last_flowret = GST_FLOW_ERROR;\n@@ -4459,2 +4512,0 @@\n-    GST_OBJECT_UNLOCK (pad);\n-    GST_PAD_STREAM_UNLOCK (pad);\n@@ -4475,0 +4526,3 @@\n+    pad->ABI.abi.last_flowret = ret;\n+    GST_OBJECT_UNLOCK (pad);\n+    GST_PAD_STREAM_UNLOCK (pad);\n@@ -4480,0 +4534,1 @@\n+    pad->ABI.abi.last_flowret = GST_FLOW_FLUSHING;\n@@ -4487,0 +4542,1 @@\n+    pad->ABI.abi.last_flowret = GST_FLOW_NOT_SUPPORTED;\n@@ -4541,1 +4597,1 @@\n-  GST_INFO_OBJECT (pad, \"chaining each buffer in list individually\");\n+  GST_LOG_OBJECT (pad, \"chaining each buffer in list individually\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpad.c","additions":77,"deletions":21,"binary":false,"changes":98,"status":"modified"},{"patch":"@@ -551,1 +551,3 @@\n- * @GST_PAD_PROBE_REMOVE: remove this probe.\n+ * @GST_PAD_PROBE_REMOVE: remove this probe, passing the data. For blocking probes\n+ *        this will cause data flow to unblock, unless there are also other\n+ *        blocking probes installed.\n@@ -553,1 +555,2 @@\n- *        next item.\n+ *        next item. Note, that if there are multiple pad probes installed and\n+ *        any probe returns PASS, the data will be passed.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpad.h","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- * because it has to be used as the name in the gst_element_get_request_pad()\n+ * because it has to be used as the name in the gst_element_request_pad_simple()\n@@ -73,1 +73,1 @@\n- *     pad = gst_pad_new_from_static_template (&amp;my_template, \"sink\");\n+ *     pad = gst_pad_new_from_static_template (&my_template, \"sink\");\n@@ -86,1 +86,1 @@\n- *     gst_element_class_add_static_pad_template (gstelement_class, &amp;my_template);\n+ *     gst_element_class_add_static_pad_template (gstelement_class, &my_template);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpadtemplate.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-  static volatile GType gst_faction_type = 0;\n+  static GType gst_faction_type = 0;\n@@ -309,1 +309,1 @@\n-  static volatile GType gst_array_type = 0;\n+  static GType gst_array_type = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstparamspecs.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,2 +43,6 @@\n- * can be retrieved with gst_pipeline_get_bus(). This bus can then be\n- * used to receive #GstMessage from the elements in the pipeline.\n+ * should be retrieved with gst_pipeline_get_bus(). This #GstBus should then\n+ * be used to receive #GstMessage from the elements in the pipeline. Listening\n+ * to the #GstBus is necessary for retrieving error messages from the\n+ * #GstPipeline and otherwise the #GstPipeline might stop without any\n+ * indication, why. Furthermore, the #GstPipeline posts messages even if\n+ * nobody listens on the #GstBus, which will pile up and use up memory.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpipeline.c","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -97,9 +97,7 @@\n-\/* list of valid licenses.\n- * One of these must be specified or the plugin won't be loaded\n- * Please file a bug to request any additional license be added.\n- *\n- * GPL: http:\/\/www.gnu.org\/copyleft\/gpl.html\n- * LGPL: http:\/\/www.gnu.org\/copyleft\/lesser.html\n- * QPL: http:\/\/www.trolltech.com\/licenses\/qpl.html\n- * MPL: http:\/\/www.opensource.org\/licenses\/mozilla1.1.php\n- * MIT\/X11: http:\/\/www.opensource.org\/licenses\/mit-license.php\n+\/* List of known licenses:\n+ * GPL: https:\/\/opensource.org\/licenses\/gpl-license\n+ * LGPL: https:\/\/opensource.org\/licenses\/lgpl-license\n+ * QPL: https:\/\/opensource.org\/licenses\/QPL-1.0\n+ * MPL: https:\/\/opensource.org\/licenses\/MPL-1.1\n+ * MPL-2.0: https:\/\/opensource.org\/licenses\/MPL-2.0\n+ * MIT\/X11: https:\/\/opensource.org\/licenses\/MIT\n@@ -108,0 +106,1 @@\n+ * FIXME: update to use SPDX identifiers, or just remove entirely\n@@ -109,1 +108,1 @@\n-static const gchar valid_licenses[] = \"LGPL\\000\"        \/* GNU Lesser General Public License *\/\n+static const gchar known_licenses[] = \"LGPL\\000\"        \/* GNU Lesser General Public License *\/\n@@ -114,0 +113,1 @@\n+    \"MPL-2.0\\000\"               \/* MPL 2.0 license *\/\n@@ -120,4 +120,0 @@\n-static const guint8 valid_licenses_idx[] = { 0, 5, 9, 13, 21, 25, 29, 37, 42,\n-  54\n-};\n-\n@@ -475,1 +471,1 @@\n-  gint i;\n+  const gchar *l, *end = known_licenses + sizeof (known_licenses);\n@@ -477,2 +473,2 @@\n-  for (i = 0; i < G_N_ELEMENTS (valid_licenses_idx); ++i) {\n-    if (strcmp (license, valid_licenses + valid_licenses_idx[i]) == 0)\n+  for (l = known_licenses; l < end; l += strlen (l) + 1) {\n+    if (strcmp (license, l) == 0)\n@@ -481,0 +477,1 @@\n+\n@@ -518,1 +515,1 @@\n-      GST_WARNING (\"plugin \\\"%s\\\" has invalid license \\\"%s\\\", not loading\",\n+      GST_WARNING (\"plugin \\\"%s\\\" has unknown license \\\"%s\\\"\",\n@@ -520,1 +517,1 @@\n-    return NULL;\n+    \/* We still want to load the plugin, it's not our job to validate licenses *\/\n@@ -740,0 +737,64 @@\n+#ifdef G_OS_WIN32\n+\/*\n+ * It is an extremely common mistake on Windows to have incorrect PATH values\n+ * when loading a plugin, and the error message is very confusing in this case:\n+ * 'The specified module could not be found.' which implies the plugin itself\n+ * could not be found. The actual issue is that a DLL dependency could not be\n+ * found. We need to detect this case and print a more useful error message.\n+ *\n+ * Unfortunately, g_module_open() doesn't actually give us the GetLastError()\n+ * code from LoadLibraryW() and only gives us a literal message from\n+ * FormatMessageW(). We can't do a string comparison on that because it is\n+ * locale-dependent.\n+ *\n+ * The only way out is for us to try loading the module ourselves on failure and\n+ * get the error DWORD again from GetLastError().\n+ *\/\n+static char *\n+get_better_module_load_error (const char *filename, const char *orig_err_msg)\n+{\n+  BOOL ret = 0;\n+  DWORD mode;\n+  wchar_t *wfilename;\n+  HMODULE handle;\n+  char *err_msg = NULL;\n+\n+  wfilename = g_utf8_to_utf16 (filename, -1, NULL, NULL, NULL);\n+#ifdef GST_WINAPI_ONLY_APP\n+  handle = LoadPackagedLibrary (wfilename, 0);\n+#else\n+  ret = SetThreadErrorMode (SEM_NOOPENFILEERRORBOX | SEM_FAILCRITICALERRORS,\n+      &mode);\n+\n+  handle = LoadLibraryW (wfilename);\n+#endif\n+  g_free (wfilename);\n+\n+  if (handle == NULL) {\n+    DWORD err = GetLastError ();\n+    char *win32_err_msg = g_win32_error_message (err);\n+    if (err == ERROR_MOD_NOT_FOUND) {\n+      err_msg = g_strdup_printf (\"%s\\nThis usually means Windows was unable \"\n+          \"to find a DLL dependency of the plugin. Please check that PATH is \"\n+          \"correct.\\nYou can run 'dumpbin -dependents' (provided by the \"\n+          \"Visual Studio developer prompt) to list the DLL deps of any DLL.\\n\"\n+          \"There are also some third-party GUIs to list and debug DLL \"\n+          \"dependencies recursively.\", win32_err_msg);\n+      g_free (win32_err_msg);\n+    } else {\n+      err_msg = win32_err_msg;\n+    }\n+  } else {\n+    err_msg = g_strdup_printf (\"g_module_open() failed on %s with \\\"%s\\\" but \"\n+        \"manual loading succeeded; this should be impossible! Please \"\n+        \"report this as a GStreamer bug.\", filename, orig_err_msg);\n+    FreeLibrary (handle);\n+  }\n+\n+  if (ret > 0)\n+    SetThreadErrorMode (mode, NULL);\n+\n+  return err_msg;\n+}\n+#endif \/* G_OS_WIN32 *\/\n+\n@@ -815,2 +876,7 @@\n-    GST_CAT_WARNING (GST_CAT_PLUGIN_LOADING, \"module_open failed: %s\",\n-        g_module_error ());\n+#ifdef G_OS_WIN32\n+    \/* flags are meaningless \/ ignored on Windows *\/\n+    char *err_msg = get_better_module_load_error (filename, g_module_error ());\n+#else\n+    const char *err_msg = g_module_error ();\n+#endif\n+    GST_CAT_WARNING (GST_CAT_PLUGIN_LOADING, \"module_open failed: %s\", err_msg);\n@@ -819,1 +885,1 @@\n-        g_module_error ());\n+        err_msg);\n@@ -823,1 +889,4 @@\n-    g_warning (\"Failed to load plugin '%s': %s\", filename, g_module_error ());\n+    g_warning (\"Failed to load plugin '%s': %s\", filename, err_msg);\n+#ifdef G_OS_WIN32\n+    g_free (err_msg);\n+#endif\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstplugin.c","additions":92,"deletions":23,"binary":false,"changes":115,"status":"modified"},{"patch":"@@ -127,0 +127,2 @@\n+  GST_TRACER_PLUGIN_FEATURE_LOADED (real_feature);\n+\n@@ -492,0 +494,1 @@\n+            gst_object_unref (feature);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpluginfeature.c","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -384,1 +384,1 @@\n-  static volatile gsize multiarch = 0;\n+  static gsize multiarch = 0;\n@@ -416,0 +416,1 @@\n+  GError *error = NULL;\n@@ -435,4 +436,8 @@\n-  if (!g_spawn_async_with_pipes (NULL, argv, NULL,\n-          G_SPAWN_DO_NOT_REAP_CHILD \/* | G_SPAWN_STDERR_TO_DEV_NULL *\/ ,\n-          NULL, NULL, &loader->child_pid, &loader->fd_w.fd, &loader->fd_r.fd,\n-          NULL, NULL))\n+  g_spawn_async_with_pipes (NULL, argv, NULL,\n+      G_SPAWN_DO_NOT_REAP_CHILD \/* | G_SPAWN_STDERR_TO_DEV_NULL *\/ ,\n+      NULL, NULL, &loader->child_pid, &loader->fd_w.fd, &loader->fd_r.fd,\n+      NULL, &error);\n+\n+  if (error) {\n+    GST_ERROR (\"Spawning gst-plugin-scanner helper failed: %s\", error->message);\n+    g_clear_error (&error);\n@@ -440,0 +445,1 @@\n+  }\n@@ -457,0 +463,77 @@\n+static int\n+count_directories (const char *filepath)\n+{\n+  int i = 0;\n+  char *tmp;\n+  gsize len;\n+\n+  g_return_val_if_fail (!g_path_is_absolute (filepath), 0);\n+\n+  tmp = g_strdup (filepath);\n+  len = strlen (tmp);\n+\n+#if defined(G_OS_WIN32)\n+  \/* ignore UNC share paths entirely *\/\n+  if (len >= 3 && G_IS_DIR_SEPARATOR (tmp[0]) && G_IS_DIR_SEPARATOR (tmp[1])\n+      && !G_IS_DIR_SEPARATOR (tmp[2])) {\n+    GST_WARNING (\"found a UNC share path, ignoring\");\n+    return 0;\n+  }\n+#endif\n+\n+  \/* remove trailing slashes if they exist *\/\n+  while (\n+#if defined(G_OS_WIN32)\n+      \/* don't remove the trailing slash for C:\\.\n+       * UNC paths are at least \\\\s\\s *\/\n+      len > 3\n+#else\n+      \/* don't remove the trailing slash for \/ *\/\n+      len > 1\n+#endif\n+      && G_IS_DIR_SEPARATOR (tmp[len - 1])) {\n+    tmp[len - 1] = '\\0';\n+    len--;\n+  }\n+\n+  while (tmp) {\n+    char *dirname, *basename;\n+    len = strlen (tmp);\n+\n+    if (g_strcmp0 (tmp, \".\") == 0)\n+      break;\n+    if (g_strcmp0 (tmp, \"\/\") == 0)\n+      break;\n+#if defined(G_OS_WIN32)\n+    \/* g_path_get_dirname() may return something of the form 'C:.', where C is\n+     * a drive letter *\/\n+    if (len == 3 && g_ascii_isalpha (tmp[0]) && tmp[1] == ':' && tmp[2] == '.')\n+      break;\n+#endif\n+\n+    basename = g_path_get_basename (tmp);\n+    dirname = g_path_get_dirname (tmp);\n+\n+    if (g_strcmp0 (basename, \"..\") == 0) {\n+      i--;\n+    } else if (g_strcmp0 (basename, \".\") == 0) {\n+      \/* nothing to do *\/\n+    } else {\n+      i++;\n+    }\n+\n+    g_clear_pointer (&basename, g_free);\n+    g_clear_pointer (&tmp, g_free);\n+    tmp = dirname;\n+  }\n+\n+  g_clear_pointer (&tmp, g_free);\n+\n+  if (i < 0) {\n+    g_critical (\"path counting resulted in a negative directory count!\");\n+    return 0;\n+  }\n+\n+  return i;\n+}\n+\n@@ -470,2 +553,1 @@\n-  \/* Find the gst-plugin-scanner: first try the env-var if it is set,\n-   * otherwise use the installed version *\/\n+  \/* Find the gst-plugin-scanner *\/\n@@ -477,0 +559,1 @@\n+    \/* use the env-var if it is set *\/\n@@ -481,1 +564,2 @@\n-  }\n+  } else {\n+    char *relocated_libgstreamer;\n@@ -483,1 +567,1 @@\n-  if (!res) {\n+    \/* use the installed version *\/\n@@ -487,11 +571,1 @@\n-    {\n-      gchar *basedir;\n-\n-      basedir =\n-          g_win32_get_package_installation_directory_of_module\n-          (_priv_gst_dll_handle);\n-      helper_bin =\n-          g_build_filename (basedir, GST_PLUGIN_SCANNER_SUBDIR,\n-          \"gstreamer-\" GST_API_VERSION, \"gst-plugin-scanner.exe\", NULL);\n-      g_free (basedir);\n-    }\n+#define EXESUFFIX \".exe\"\n@@ -499,1 +573,1 @@\n-    helper_bin = g_strdup (GST_PLUGIN_SCANNER_INSTALLED);\n+#define EXESUFFIX\n@@ -501,0 +575,39 @@\n+\n+#define MAX_PATH_DEPTH 64\n+\n+    relocated_libgstreamer = priv_gst_get_relocated_libgstreamer ();\n+    if (relocated_libgstreamer) {\n+      int plugin_subdir_depth = count_directories (GST_PLUGIN_SUBDIR);\n+\n+      GST_DEBUG (\"found libgstreamer-\" GST_API_VERSION \" library \"\n+          \"at %s\", relocated_libgstreamer);\n+\n+      if (plugin_subdir_depth < MAX_PATH_DEPTH) {\n+        const char *filenamev[MAX_PATH_DEPTH + 5];\n+        int i = 0, j;\n+\n+        filenamev[i++] = relocated_libgstreamer;\n+        for (j = 0; j < plugin_subdir_depth; j++)\n+          filenamev[i++] = \"..\";\n+        filenamev[i++] = GST_PLUGIN_SCANNER_SUBDIR;\n+        filenamev[i++] = \"gstreamer-\" GST_API_VERSION;\n+        filenamev[i++] = \"gst-plugin-scanner\" EXESUFFIX;\n+        filenamev[i++] = NULL;\n+        g_assert (i <= MAX_PATH_DEPTH + 5);\n+\n+        GST_DEBUG (\"constructing path to system plugin scanner using \"\n+            \"plugin dir: \\'%s\\', plugin scanner dir: \\'%s\\'\",\n+            GST_PLUGIN_SUBDIR, GST_PLUGIN_SCANNER_SUBDIR);\n+\n+        helper_bin = g_build_filenamev ((char **) filenamev);\n+      } else {\n+        GST_WARNING (\"GST_PLUGIN_SUBDIR: \\'%s\\' has too many path segments\",\n+            GST_PLUGIN_SUBDIR);\n+        helper_bin = g_strdup (GST_PLUGIN_SCANNER_INSTALLED);\n+      }\n+    } else {\n+      helper_bin = g_strdup (GST_PLUGIN_SCANNER_INSTALLED);\n+    }\n+\n+    GST_DEBUG (\"using system plugin scanner at %s\", helper_bin);\n+\n@@ -503,0 +616,2 @@\n+    g_free (relocated_libgstreamer);\n+  }\n@@ -504,3 +619,2 @@\n-    if (!res) {\n-      GST_INFO (\"No gst-plugin-scanner available, or not working\");\n-    }\n+  if (!res) {\n+    GST_INFO (\"No gst-plugin-scanner available, or not working\");\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpluginloader.c","additions":138,"deletions":24,"binary":false,"changes":162,"status":"modified"},{"patch":"@@ -154,3 +154,3 @@\n-  volatile gint waiting;\n-  volatile gint control_pending;\n-  volatile gint flushing;\n+  gint waiting;\n+  gint control_pending;\n+  gint flushing;\n@@ -158,1 +158,1 @@\n-  volatile gint rebuild;\n+  gint rebuild;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstpoll.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-  static volatile GType type;\n+  static GType type;\n@@ -137,2 +137,1 @@\n- * Returns: (transfer none): a pointer to the added #GstProtectionMeta if successful; %NULL if\n- * unsuccessful.\n+ * Returns: (transfer none): a pointer to the added #GstProtectionMeta if successful\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstprotection.c","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -83,0 +83,1 @@\n+  \"gap-flags\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquark.c","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -233,1 +233,2 @@\n-  GST_QUARK_MAX = 202\n+  GST_QUARK_GAP_FLAGS = 202,\n+  GST_QUARK_MAX = 203\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquark.h","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- *     gst_query_parse_duration (query, NULL, &amp;duration);\n+ *     gst_query_parse_duration (query, NULL, &duration);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstquery.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -131,0 +131,3 @@\n+#ifdef HAVE_DLFCN_H\n+#include <dlfcn.h>\n+#endif\n@@ -469,2 +472,2 @@\n- * Returns: (transfer container) (element-type char*): A #GList of paths as\n- *     strings. g_list_free after use.\n+ * Returns: (transfer container) (element-type filename): A #GList of\n+ *     paths as strings. g_list_free after use.\n@@ -1265,1 +1268,1 @@\n-     * objects as plugins is normal (particularly in the uninstalled case)\n+     * objects as plugins is normal (particularly in the development environment case)\n@@ -1306,1 +1309,1 @@\n-   * This speeds up scanning a bit in uninstalled setups. *\/\n+   * This speeds up scanning a bit in development environment setups. *\/\n@@ -1782,0 +1785,50 @@\n+#ifndef GSTREAMER_LITE\n+char *\n+priv_gst_get_relocated_libgstreamer (void)\n+{\n+  char *dir = NULL;\n+\n+#ifdef G_OS_WIN32\n+  {\n+    char *base_dir;\n+\n+    GST_DEBUG (\"attempting to retrieve libgstreamer-1.0 location using \"\n+        \"Win32-specific method\");\n+\n+    base_dir =\n+        g_win32_get_package_installation_directory_of_module\n+        (_priv_gst_dll_handle);\n+    if (!base_dir)\n+      return NULL;\n+\n+    dir = g_build_filename (base_dir, GST_PLUGIN_SUBDIR, NULL);\n+    GST_DEBUG (\"using DLL dir %s\", dir);\n+\n+    g_free (base_dir);\n+  }\n+#elif defined(__APPLE__) && defined(HAVE_DLADDR)\n+  {\n+    Dl_info info;\n+\n+    GST_DEBUG (\"attempting to retrieve libgstreamer-1.0 location using \"\n+        \"dladdr()\");\n+\n+    if (dladdr (&gst_init, &info)) {\n+      GST_LOG (\"dli_fname: %s\", info.dli_fname);\n+\n+      if (!info.dli_fname) {\n+        return NULL;\n+      }\n+\n+      dir = g_path_get_dirname (info.dli_fname);\n+    } else {\n+      GST_LOG (\"dladdr() failed\");\n+      return NULL;\n+    }\n+  }\n+#endif\n+\n+  return dir;\n+}\n+#endif \/\/ GSTREAMER_LITE\n+\n@@ -1975,1 +2028,1 @@\n-    char *home_plugins;\n+    char *home_plugins, *relocated_libgstreamer, *system_plugindir;\n@@ -1990,10 +2043,5 @@\n-#ifdef G_OS_WIN32\n-    {\n-      char *base_dir;\n-      char *dir;\n-\n-      base_dir =\n-          g_win32_get_package_installation_directory_of_module\n-          (_priv_gst_dll_handle);\n-\n-      dir = g_build_filename (base_dir, GST_PLUGIN_SUBDIR,\n+    relocated_libgstreamer = priv_gst_get_relocated_libgstreamer ();\n+    if (relocated_libgstreamer) {\n+      GST_DEBUG (\"found libgstreamer-\" GST_API_VERSION \" library \"\n+          \"at %s\", relocated_libgstreamer);\n+      system_plugindir = g_build_filename (relocated_libgstreamer,\n@@ -2001,1 +2049,3 @@\n-      GST_DEBUG (\"scanning DLL dir %s\", dir);\n+    } else {\n+      system_plugindir = g_strdup (PLUGINDIR);\n+    }\n@@ -2003,1 +2053,2 @@\n-      changed |= gst_registry_scan_path_internal (&context, dir);\n+    GST_DEBUG (\"using plugin dir %s\", system_plugindir);\n+    changed |= gst_registry_scan_path_internal (&context, system_plugindir);\n@@ -2005,7 +2056,2 @@\n-      g_free (dir);\n-      g_free (base_dir);\n-    }\n-#else\n-    GST_DEBUG (\"scanning main plugins %s\", PLUGINDIR);\n-    changed |= gst_registry_scan_path_internal (&context, PLUGINDIR);\n-#endif\n+    g_clear_pointer (&system_plugindir, g_free);\n+    g_clear_pointer (&relocated_libgstreamer, g_free);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstregistry.c","additions":70,"deletions":24,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -257,0 +257,1 @@\n+  const gchar *registry_mode;\n@@ -297,0 +298,16 @@\n+  \/* Change mode of registry if set in environment *\/\n+  registry_mode = g_getenv (\"GST_REGISTRY_MODE\");\n+  if (registry_mode) {\n+    gchar *endptr;\n+    gint64 mode;\n+\n+    \/* Expect numeric mode as one to four octal digits *\/\n+    mode = g_ascii_strtoll (registry_mode, &endptr, 8);\n+    if (mode > G_MAXINT || *endptr != '\\0')\n+      GST_ERROR (\"GST_REGISTRY_MODE not an integer value\");\n+    else if (g_chmod (cache->location, mode) < 0)\n+      GST_ERROR (\"g_chmod failed: %s\", g_strerror (errno));\n+    else\n+      GST_INFO (\"Changed mode of registry cache to %s\", registry_mode);\n+  }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstregistrybinary.c","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+#include \"glib-compat-private.h\"\n@@ -100,1 +101,1 @@\n-  outptr = g_memdup ((gconstpointer)inptr, _len + 1); \\\n+  outptr = g_memdup2 ((gconstpointer)inptr, _len + 1); \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstregistrychunks.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -246,0 +246,4 @@\n+  \/* We hold the object lock, replace directly *\/\n+  g_free (GST_OBJECT_NAME (stream));\n+  GST_OBJECT_NAME (stream) = g_strdup (stream->stream_id);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststreams.c","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n- * Structures are delimited either by a null character `\\0` or a semicolumn `;`\n+ * Structures are delimited either by a null character `\\0` or a semicolon `;`\n@@ -122,5 +122,10 @@\n- * > *Note*: Be aware that the current #GstCaps \/ #GstStructure serialization\n- * > into string has limited support for nested #GstCaps \/ #GstStructure fields.\n- * > It can only support one level of nesting. Using more levels will lead to\n- * > unexpected behavior when using serialization features, such as\n- * > gst_caps_to_string() or gst_value_serialize() and their counterparts.\n+ * Since 1.20, nested structures and caps can be specified using brackets (`[`\n+ * and `]`), for example:\n+ *\n+ * ```\n+ * a-struct, nested=[nested-struct, nested=true]\n+ * ```\n+ *\n+ * > *note*: gst_structure_to_string() won't use that syntax for backward\n+ * > compatibility reason, gst_structure_serialize() has been added for\n+ * > that purpose.\n@@ -310,1 +315,0 @@\n-#ifndef G_DISABLE_CHECKS\n@@ -346,1 +350,0 @@\n-#endif\n@@ -2029,1 +2032,1 @@\n-    GString * s)\n+    GString * s, GstSerializeFlags flags)\n@@ -2033,0 +2036,2 @@\n+  gboolean nested_structs_brackets =\n+      !(flags & GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n@@ -2038,1 +2043,1 @@\n-    char *t;\n+    gchar *t = NULL;\n@@ -2047,1 +2052,3 @@\n-    } else {\n+    } else if (!nested_structs_brackets\n+        || (G_VALUE_TYPE (&field->value) != GST_TYPE_STRUCTURE\n+            && G_VALUE_TYPE (&field->value) != GST_TYPE_CAPS)) {\n@@ -2059,1 +2066,16 @@\n-    if (t) {\n+    if (nested_structs_brackets\n+        && G_VALUE_TYPE (&field->value) == GST_TYPE_STRUCTURE) {\n+      const GstStructure *substruct = gst_value_get_structure (&field->value);\n+\n+      g_string_append_c (s, '[');\n+      g_string_append (s, g_quark_to_string (substruct->name));\n+      priv_gst_structure_append_to_gstring (substruct, s, flags);\n+      g_string_append_c (s, ']');\n+    } else if (nested_structs_brackets\n+        && G_VALUE_TYPE (&field->value) == GST_TYPE_CAPS) {\n+      const GstCaps *subcaps = gst_value_get_caps (&field->value);\n+      gchar *capsstr = gst_caps_serialize (subcaps, flags);\n+\n+      g_string_append_printf (s, \"[%s]\", capsstr);\n+      g_free (capsstr);\n+    } else if (t) {\n@@ -2132,0 +2154,22 @@\n+static gchar *\n+structure_serialize (const GstStructure * structure, GstSerializeFlags flags)\n+{\n+  GString *s;\n+\n+  \/* NOTE:  This function is potentially called by the debug system,\n+   * so any calls to gst_log() (and GST_DEBUG(), GST_LOG(), etc.)\n+   * should be careful to avoid recursion.  This includes any functions\n+   * called by gst_structure_to_string.  In particular, calls should\n+   * not use the GST_PTR_FORMAT extension.  *\/\n+\n+  g_return_val_if_fail (structure != NULL, NULL);\n+\n+  \/* we estimate a minimum size based on the number of fields in order to\n+   * avoid unnecessary reallocs within GString *\/\n+  s = g_string_sized_new (STRUCTURE_ESTIMATED_STRING_LEN (structure));\n+  g_string_append (s, g_quark_to_string (structure->name));\n+  priv_gst_structure_append_to_gstring (structure, s, flags);\n+  return g_string_free (s, FALSE);\n+\n+}\n+\n@@ -2138,3 +2182,2 @@\n- * For debugging purposes its easier to do something like this:\n- * |[<!-- language=\"C\" -->\n- * GST_LOG (\"structure is %\" GST_PTR_FORMAT, structure);\n+ * For debugging purposes its easier to do something like this: |[<!--\n+ * language=\"C\" --> GST_LOG (\"structure is %\" GST_PTR_FORMAT, structure);\n@@ -2144,2 +2187,3 @@\n- * The current implementation of serialization will lead to unexpected results\n- * when there are nested #GstCaps \/ #GstStructure deeper than one level.\n+ * This function will lead to unexpected results when there are nested #GstCaps\n+ * \/ #GstStructure deeper than one level, you should user\n+ * gst_structure_serialize() instead for those cases.\n@@ -2155,9 +2199,2 @@\n-  GString *s;\n-\n-  \/* NOTE:  This function is potentially called by the debug system,\n-   * so any calls to gst_log() (and GST_DEBUG(), GST_LOG(), etc.)\n-   * should be careful to avoid recursion.  This includes any functions\n-   * called by gst_structure_to_string.  In particular, calls should\n-   * not use the GST_PTR_FORMAT extension.  *\/\n-\n-  g_return_val_if_fail (structure != NULL, NULL);\n+  return structure_serialize (structure, GST_SERIALIZE_FLAG_BACKWARD_COMPAT);\n+}\n@@ -2165,6 +2202,24 @@\n-  \/* we estimate a minimum size based on the number of fields in order to\n-   * avoid unnecessary reallocs within GString *\/\n-  s = g_string_sized_new (STRUCTURE_ESTIMATED_STRING_LEN (structure));\n-  g_string_append (s, g_quark_to_string (structure->name));\n-  priv_gst_structure_append_to_gstring (structure, s);\n-  return g_string_free (s, FALSE);\n+\/**\n+ * gst_structure_serialize:\n+ * @structure: a #GstStructure\n+ * @flags: The flags to use to serialize structure\n+ *\n+ * Converts @structure to a human-readable string representation.\n+ *\n+ * This version of the caps serialization function introduces support for nested\n+ * structures and caps but the resulting strings won't be parsable with\n+ * GStreamer prior to 1.20 unless #GST_SERIALIZE_FLAG_BACKWARD_COMPAT is passed\n+ * as @flag.\n+ *\n+ * Free-function: g_free\n+ *\n+ * Returns: (transfer full): a pointer to string allocated by g_malloc().\n+ *     g_free() after usage.\n+ *\n+ * Since: 1.20\n+ *\/\n+gchar *\n+gst_structure_serialize (const GstStructure * structure,\n+    GstSerializeFlags flags)\n+{\n+  return structure_serialize (structure, flags);\n@@ -2209,1 +2264,1 @@\n-              G_TYPE_INVALID))) {\n+              G_TYPE_INVALID, NULL))) {\n@@ -2220,1 +2275,1 @@\n-    gchar ** next)\n+    gchar ** next, gboolean check_valid)\n@@ -2239,0 +2294,11 @@\n+  if (check_valid) {\n+    gchar save = *w;\n+\n+    *w = '\\0';\n+    if (!gst_structure_validate_name (*start)) {\n+      *w = save;\n+      return FALSE;\n+    }\n+    *w = save;\n+  }\n+\n@@ -2276,0 +2342,8 @@\n+    \/* Trailing comma *\/\n+    if (*r == '\\0') {\n+      break;\n+    } else if (*r == ';') {\n+      r++;\n+      break;\n+    }\n+\n@@ -2298,1 +2372,3 @@\n- * when there are nested #GstCaps \/ #GstStructure deeper than one level.\n+ * when there are nested #GstCaps \/ #GstStructure deeper than one level unless\n+ * the gst_structure_serialize() function is used (without\n+ * #GST_SERIALIZE_FLAG_BACKWARD_COMPAT)\n@@ -2344,1 +2420,1 @@\n-  if (!priv_gst_structure_parse_name (r, &name, &w, &r))\n+  if (!priv_gst_structure_parse_name (r, &name, &w, &r, FALSE))\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststructure.c","additions":112,"deletions":36,"binary":false,"changes":148,"status":"modified"},{"patch":"@@ -39,0 +39,14 @@\n+\/**\n+ * GstSerializeFlags:\n+ * @GST_SERIALIZE_FLAG_NONE: No special flags specified.\n+ * @GST_SERIALIZE_FLAG_BACKWARD_COMPAT: Serialize using the old format for\n+ *                                      nested structures.\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef enum\n+{\n+  GST_SERIALIZE_FLAG_NONE = 0,\n+  GST_SERIALIZE_FLAG_BACKWARD_COMPAT = (1 << 0),\n+} GstSerializeFlags;\n+\n@@ -336,1 +350,4 @@\n-gchar *               gst_structure_to_string    (const GstStructure * structure) G_GNUC_MALLOC;\n+gchar *               gst_structure_to_string            (const GstStructure * structure) G_GNUC_MALLOC;\n+GST_API\n+gchar *               gst_structure_serialize            (const GstStructure * structure,\n+                                                          GstSerializeFlags flags) G_GNUC_MALLOC;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gststructure.h","additions":18,"deletions":1,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -374,1 +374,1 @@\n-#define DEFAULT_CLOCK_TYPE GST_CLOCK_TYPE_REALTIME\n+#define DEFAULT_CLOCK_TYPE GST_CLOCK_TYPE_MONOTONIC\n@@ -395,0 +395,4 @@\n+#if !defined HAVE_POSIX_TIMERS || !defined HAVE_CLOCK_GETTIME\n+static GstClockTime gst_system_clock_get_mono_time (GstSystemClock * clock);\n+static GstClockTime gst_system_clock_get_real_time ();\n+#endif\n@@ -834,1 +838,0 @@\n-#if defined __APPLE__\n@@ -836,0 +839,34 @@\n+#if defined HAVE_POSIX_TIMERS && defined HAVE_CLOCK_GETTIME\n+  \/\/ BSD and Linux' Posix timers and clock_gettime cover all of the different clock types\n+  \/\/ without need for special handling so we'll use those.\n+  clockid_t ptype;\n+  struct timespec ts;\n+\n+  ptype = clock_type_to_posix_id (sysclock->priv->clock_type);\n+\n+  if (G_UNLIKELY (clock_gettime (ptype, &ts)))\n+    return GST_CLOCK_TIME_NONE;\n+\n+  return GST_TIMESPEC_TO_TIME (ts);\n+#else\n+  if (sysclock->priv->clock_type == GST_CLOCK_TYPE_REALTIME) {\n+    return gst_system_clock_get_real_time ();\n+  } else {\n+    return gst_system_clock_get_mono_time (sysclock);\n+  }\n+#endif \/* !HAVE_POSIX_TIMERS || !HAVE_CLOCK_GETTIME *\/\n+}\n+\n+#if !defined HAVE_POSIX_TIMERS || !defined HAVE_CLOCK_GETTIME\n+static GstClockTime\n+gst_system_clock_get_real_time ()\n+{\n+  gint64 rt_micros = g_get_real_time ();\n+  \/\/ g_get_real_time returns microseconds but we need nanos, so we'll multiply by 1000\n+  return ((guint64) rt_micros) * 1000;\n+}\n+\n+static GstClockTime\n+gst_system_clock_get_mono_time (GstSystemClock * sysclock)\n+{\n+#if defined __APPLE__\n@@ -840,3 +877,1 @@\n-#ifdef G_OS_WIN32\n-  GstSystemClock *sysclock = GST_SYSTEM_CLOCK_CAST (clock);\n-\n+#if defined G_OS_WIN32\n@@ -853,1 +888,0 @@\n-#if !defined HAVE_POSIX_TIMERS || !defined HAVE_CLOCK_GETTIME\n@@ -861,14 +895,0 @@\n-#else\n-  {\n-    GstSystemClock *sysclock = GST_SYSTEM_CLOCK_CAST (clock);\n-    clockid_t ptype;\n-    struct timespec ts;\n-\n-    ptype = clock_type_to_posix_id (sysclock->priv->clock_type);\n-\n-    if (G_UNLIKELY (clock_gettime (ptype, &ts)))\n-      return GST_CLOCK_TIME_NONE;\n-\n-    return GST_TIMESPEC_TO_TIME (ts);\n-  }\n-#endif\n@@ -877,0 +897,1 @@\n+#endif \/* !HAVE_POSIX_TIMERS || !HAVE_CLOCK_GETTIME *\/\n@@ -881,6 +902,0 @@\n-#if defined __APPLE__\n-  GstSystemClock *sysclock = GST_SYSTEM_CLOCK_CAST (clock);\n-  return gst_util_uint64_scale (GST_NSECOND,\n-      sysclock->priv->mach_timebase.numer, sysclock->priv->mach_timebase.denom);\n-#else\n-#ifdef G_OS_WIN32\n@@ -888,3 +903,3 @@\n-\n-  if (sysclock->priv->frequency.QuadPart != 0) {\n-    return GST_SECOND \/ sysclock->priv->frequency.QuadPart;\n+#if defined __APPLE__ || defined G_OS_WIN32\n+  if (sysclock->priv->clock_type == GST_CLOCK_TYPE_REALTIME) {\n+    return 1 * GST_USECOND;\n@@ -892,2 +907,2 @@\n-#endif \/* G_OS_WIN32 *\/\n-#if defined(HAVE_POSIX_TIMERS) && defined(HAVE_CLOCK_GETTIME)\n+#endif\n+#if defined __APPLE__\n@@ -895,1 +910,13 @@\n-    GstSystemClock *sysclock = GST_SYSTEM_CLOCK_CAST (clock);\n+    return gst_util_uint64_scale (GST_NSECOND,\n+        sysclock->priv->mach_timebase.numer,\n+        sysclock->priv->mach_timebase.denom);\n+  }\n+#elif defined G_OS_WIN32\n+  {\n+    if (sysclock->priv->frequency.QuadPart != 0) {\n+      return GST_SECOND \/ sysclock->priv->frequency.QuadPart;\n+    } else {\n+      return 1 * GST_USECOND;\n+    }\n+  }\n+#elif defined(HAVE_POSIX_TIMERS) && defined(HAVE_CLOCK_GETTIME)\n@@ -897,1 +924,1 @@\n-    struct timespec ts;\n+  struct timespec ts;\n@@ -899,1 +926,1 @@\n-    ptype = clock_type_to_posix_id (sysclock->priv->clock_type);\n+  ptype = clock_type_to_posix_id (sysclock->priv->clock_type);\n@@ -901,2 +928,2 @@\n-    if (G_UNLIKELY (clock_getres (ptype, &ts)))\n-      return GST_CLOCK_TIME_NONE;\n+  if (G_UNLIKELY (clock_getres (ptype, &ts)))\n+    return GST_CLOCK_TIME_NONE;\n@@ -904,2 +931,1 @@\n-    return GST_TIMESPEC_TO_TIME (ts);\n-  }\n+  return GST_TIMESPEC_TO_TIME (ts);\n@@ -907,1 +933,0 @@\n-  {\n@@ -909,2 +934,0 @@\n-  }\n-#endif\n@@ -970,5 +993,28 @@\n-      \/* now wait on the entry, it either times out or the cond is signalled.\n-       * The status of the entry is BUSY only around the wait. *\/\n-      waitret =\n-          GST_SYSTEM_CLOCK_ENTRY_WAIT_UNTIL ((GstClockEntryImpl *) entry,\n-          mono_ts * 1000 + diff);\n+#ifdef HAVE_CLOCK_NANOSLEEP\n+      if (diff <= 500 * GST_USECOND) {\n+        \/* In order to provide more accurate wait, we will use BLOCKING\n+           clock_nanosleep for any deadlines at or below 500us *\/\n+        struct timespec end;\n+        GST_TIME_TO_TIMESPEC (mono_ts * 1000 + diff, end);\n+        GST_SYSTEM_CLOCK_ENTRY_UNLOCK ((GstClockEntryImpl *) entry);\n+        waitret =\n+            clock_nanosleep (CLOCK_MONOTONIC, TIMER_ABSTIME, &end, NULL) == 0;\n+        GST_SYSTEM_CLOCK_ENTRY_LOCK ((GstClockEntryImpl *) entry);\n+      } else {\n+\n+        if (diff < 2 * GST_MSECOND) {\n+          \/* For any deadline within 2ms, we first use the regular non-blocking\n+             wait by reducing the diff accordingly *\/\n+          diff -= 500 * GST_USECOND;\n+        }\n+#endif\n+\n+        \/* now wait on the entry, it either times out or the cond is signalled.\n+         * The status of the entry is BUSY only around the wait. *\/\n+        waitret =\n+            GST_SYSTEM_CLOCK_ENTRY_WAIT_UNTIL ((GstClockEntryImpl *) entry,\n+            mono_ts * 1000 + diff);\n+\n+#ifdef HAVE_CLOCK_NANOSLEEP\n+      }\n+#endif\n@@ -1019,0 +1065,1 @@\n+        mono_ts = g_get_monotonic_time ();\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstsystemclock.c","additions":93,"deletions":46,"binary":false,"changes":139,"status":"modified"},{"patch":"@@ -208,1 +208,1 @@\n-GstTagList * gst_tag_list_new               (const gchar * tag, ...) G_GNUC_MALLOC;\n+GstTagList * gst_tag_list_new               (const gchar * tag, ...) G_GNUC_NULL_TERMINATED G_GNUC_MALLOC;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttaglist.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -151,1 +151,1 @@\n-  static volatile gsize _init_once = 0;\n+  static gsize _init_once = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttask.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -129,0 +129,6 @@\n+static void\n+default_dispose_handle (GstTaskPool * pool, gpointer id)\n+{\n+  \/* we do nothing here, the default handle is NULL *\/\n+}\n+\n@@ -146,0 +152,1 @@\n+  gsttaskpool_class->dispose_handle = default_dispose_handle;\n@@ -236,1 +243,1 @@\n- * Returns: (transfer none) (nullable): a pointer that should be used\n+ * Returns: (transfer full) (nullable): a pointer that should be used\n@@ -238,1 +245,3 @@\n- * must check @error to detect errors.\n+ * must check @error to detect errors. If the pointer is not %NULL and\n+ * gst_task_pool_join() is not used, call gst_task_pool_dispose_handle()\n+ * instead.\n@@ -266,1 +275,1 @@\n- * @id: the id\n+ * @id: (transfer full) (nullable): the id\n@@ -269,1 +278,5 @@\n- * gst_task_pool_push().\n+ * gst_task_pool_push(). The default implementation does nothing, as the\n+ * default #GstTaskPoolClass::push implementation always returns %NULL.\n+ *\n+ * This method should only be called with the same @pool instance that provided\n+ * @id.\n@@ -283,0 +296,254 @@\n+\n+\/**\n+ * gst_task_pool_dispose_handle:\n+ * @pool: a #GstTaskPool\n+ * @id: (transfer full) (nullable): the id\n+ *\n+ * Dispose of the handle returned by gst_task_pool_push(). This does\n+ * not need to be called with the default implementation as the default\n+ * #GstTaskPoolClass::push implementation always returns %NULL. This does not need to be\n+ * called either when calling gst_task_pool_join(), but should be called\n+ * when joining is not necessary, but gst_task_pool_push() returned a\n+ * non-%NULL value.\n+ *\n+ * This method should only be called with the same @pool instance that provided\n+ * @id.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_task_pool_dispose_handle (GstTaskPool * pool, gpointer id)\n+{\n+  GstTaskPoolClass *klass;\n+\n+  g_return_if_fail (GST_IS_TASK_POOL (pool));\n+\n+  klass = GST_TASK_POOL_GET_CLASS (pool);\n+\n+  if (klass->dispose_handle)\n+    klass->dispose_handle (pool, id);\n+}\n+\n+typedef struct\n+{\n+  gboolean done;\n+  guint64 id;\n+  GstTaskPoolFunction func;\n+  gpointer user_data;\n+  GMutex done_lock;\n+  GCond done_cond;\n+  gint refcount;\n+} SharedTaskData;\n+\n+static SharedTaskData *\n+shared_task_data_ref (SharedTaskData * tdata)\n+{\n+  g_atomic_int_add (&tdata->refcount, 1);\n+\n+  return tdata;\n+}\n+\n+static void\n+shared_task_data_unref (SharedTaskData * tdata)\n+{\n+  if (g_atomic_int_dec_and_test (&tdata->refcount)) {\n+    g_mutex_clear (&tdata->done_lock);\n+    g_cond_clear (&tdata->done_cond);\n+    g_slice_free (SharedTaskData, tdata);\n+  }\n+}\n+\n+struct _GstSharedTaskPoolPrivate\n+{\n+  guint max_threads;\n+};\n+\n+#define GST_SHARED_TASK_POOL_CAST(pool)       ((GstSharedTaskPool*)(pool))\n+\n+G_DEFINE_TYPE_WITH_PRIVATE (GstSharedTaskPool, gst_shared_task_pool,\n+    GST_TYPE_TASK_POOL);\n+\n+static void\n+shared_func (SharedTaskData * tdata, GstTaskPool * pool)\n+{\n+  tdata->func (tdata->user_data);\n+\n+  g_mutex_lock (&tdata->done_lock);\n+  tdata->done = TRUE;\n+  g_cond_signal (&tdata->done_cond);\n+  g_mutex_unlock (&tdata->done_lock);\n+\n+  shared_task_data_unref (tdata);\n+}\n+\n+static gpointer\n+shared_push (GstTaskPool * pool, GstTaskPoolFunction func,\n+    gpointer user_data, GError ** error)\n+{\n+  SharedTaskData *ret = NULL;\n+\n+  GST_OBJECT_LOCK (pool);\n+\n+  if (!pool->pool) {\n+    GST_OBJECT_UNLOCK (pool);\n+    goto done;\n+  }\n+\n+  ret = g_slice_new (SharedTaskData);\n+\n+  ret->done = FALSE;\n+  ret->func = func;\n+  ret->user_data = user_data;\n+  g_atomic_int_set (&ret->refcount, 1);\n+  g_cond_init (&ret->done_cond);\n+  g_mutex_init (&ret->done_lock);\n+\n+  g_thread_pool_push (pool->pool, shared_task_data_ref (ret), error);\n+\n+  GST_OBJECT_UNLOCK (pool);\n+\n+done:\n+  return ret;\n+}\n+\n+static void\n+shared_join (GstTaskPool * pool, gpointer id)\n+{\n+  SharedTaskData *tdata;\n+\n+  if (!id)\n+    return;\n+\n+  tdata = (SharedTaskData *) id;\n+\n+  g_mutex_lock (&tdata->done_lock);\n+  while (!tdata->done) {\n+    g_cond_wait (&tdata->done_cond, &tdata->done_lock);\n+  }\n+  g_mutex_unlock (&tdata->done_lock);\n+\n+  shared_task_data_unref (tdata);\n+}\n+\n+static void\n+shared_dispose_handle (GstTaskPool * pool, gpointer id)\n+{\n+  SharedTaskData *tdata;\n+\n+  if (!id)\n+    return;\n+\n+  tdata = (SharedTaskData *) id;\n+\n+\n+  shared_task_data_unref (tdata);\n+}\n+\n+static void\n+shared_prepare (GstTaskPool * pool, GError ** error)\n+{\n+  GstSharedTaskPool *shared_pool = GST_SHARED_TASK_POOL_CAST (pool);\n+\n+  GST_OBJECT_LOCK (pool);\n+  pool->pool =\n+      g_thread_pool_new ((GFunc) shared_func, pool,\n+      shared_pool->priv->max_threads, FALSE, error);\n+  GST_OBJECT_UNLOCK (pool);\n+}\n+\n+static void\n+gst_shared_task_pool_class_init (GstSharedTaskPoolClass * klass)\n+{\n+  GstTaskPoolClass *taskpoolclass = GST_TASK_POOL_CLASS (klass);\n+\n+  taskpoolclass->prepare = shared_prepare;\n+  taskpoolclass->push = shared_push;\n+  taskpoolclass->join = shared_join;\n+  taskpoolclass->dispose_handle = shared_dispose_handle;\n+}\n+\n+static void\n+gst_shared_task_pool_init (GstSharedTaskPool * pool)\n+{\n+  GstSharedTaskPoolPrivate *priv;\n+\n+  priv = pool->priv = gst_shared_task_pool_get_instance_private (pool);\n+  priv->max_threads = 1;\n+}\n+\n+\/**\n+ * gst_shared_task_pool_set_max_threads:\n+ * @pool: a #GstSharedTaskPool\n+ * @max_threads: Maximum number of threads to spawn.\n+ *\n+ * Update the maximal number of threads the @pool may spawn. When\n+ * the maximal number of threads is reduced, existing threads are not\n+ * immediately shut down, see g_thread_pool_set_max_threads().\n+ *\n+ * Setting @max_threads to 0 effectively freezes the pool.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_shared_task_pool_set_max_threads (GstSharedTaskPool * pool,\n+    guint max_threads)\n+{\n+  GstTaskPool *taskpool;\n+\n+  g_return_if_fail (GST_IS_SHARED_TASK_POOL (pool));\n+\n+  taskpool = GST_TASK_POOL (pool);\n+\n+  GST_OBJECT_LOCK (pool);\n+  if (taskpool->pool)\n+    g_thread_pool_set_max_threads (taskpool->pool, max_threads, NULL);\n+  pool->priv->max_threads = max_threads;\n+  GST_OBJECT_UNLOCK (pool);\n+}\n+\n+\/**\n+ * gst_shared_task_pool_get_max_threads:\n+ * @pool: a #GstSharedTaskPool\n+ *\n+ * Returns: the maximum number of threads @pool is configured to spawn\n+ * Since: 1.20\n+ *\/\n+guint\n+gst_shared_task_pool_get_max_threads (GstSharedTaskPool * pool)\n+{\n+  guint ret;\n+\n+  g_return_val_if_fail (GST_IS_SHARED_TASK_POOL (pool), 0);\n+\n+  GST_OBJECT_LOCK (pool);\n+  ret = pool->priv->max_threads;\n+  GST_OBJECT_UNLOCK (pool);\n+\n+  return ret;\n+}\n+\n+\/**\n+ * gst_shared_task_pool_new:\n+ *\n+ * Create a new shared task pool. The shared task pool will queue tasks on\n+ * a maximum number of threads, 1 by default.\n+ *\n+ * Do not use a #GstSharedTaskPool to manage potentially inter-dependent tasks such\n+ * as pad tasks, as having one task waiting on another to return before returning\n+ * would cause obvious deadlocks if they happen to share the same thread.\n+ *\n+ * Returns: (transfer full): a new #GstSharedTaskPool. gst_object_unref() after usage.\n+ * Since: 1.20\n+ *\/\n+GstTaskPool *\n+gst_shared_task_pool_new (void)\n+{\n+  GstTaskPool *pool;\n+\n+  pool = g_object_new (GST_TYPE_SHARED_TASK_POOL, NULL);\n+\n+  \/* clear floating flag *\/\n+  gst_object_ref_sink (pool);\n+\n+  return pool;\n+}\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttaskpool.c","additions":271,"deletions":4,"binary":false,"changes":275,"status":"modified"},{"patch":"@@ -84,0 +84,11 @@\n+  \/**\n+   * GstTaskPoolClass::dispose_handle:\n+   * @pool: a #GstTaskPool\n+   * @id: (transfer full): the handle to dispose of\n+   *\n+   * free \/ unref the handle returned in GstTaskPoolClass::push.\n+   *\n+   * Since: 1.20\n+   *\/\n+  void      (*dispose_handle) (GstTaskPool *pool, gpointer id);\n+\n@@ -85,1 +96,1 @@\n-  gpointer _gst_reserved[GST_PADDING];\n+  gpointer _gst_reserved[GST_PADDING - 1];\n@@ -104,1 +115,4 @@\n-void    gst_task_pool_cleanup     (GstTaskPool *pool);\n+void            gst_task_pool_dispose_handle (GstTaskPool *pool, gpointer id);\n+\n+GST_API\n+void            gst_task_pool_cleanup     (GstTaskPool *pool);\n@@ -108,0 +122,53 @@\n+typedef struct _GstSharedTaskPool GstSharedTaskPool;\n+typedef struct _GstSharedTaskPoolClass GstSharedTaskPoolClass;\n+typedef struct _GstSharedTaskPoolPrivate GstSharedTaskPoolPrivate;\n+\n+#define GST_TYPE_SHARED_TASK_POOL             (gst_shared_task_pool_get_type ())\n+#define GST_SHARED_TASK_POOL(pool)            (G_TYPE_CHECK_INSTANCE_CAST ((pool), GST_TYPE_TASK_POOL, GstSharedTaskPool))\n+#define GST_IS_SHARED_TASK_POOL(pool)         (G_TYPE_CHECK_INSTANCE_TYPE ((pool), GST_TYPE_SHARED_TASK_POOL))\n+#define GST_SHARED_TASK_POOL_CLASS(pclass)    (G_TYPE_CHECK_CLASS_CAST ((pclass), GST_TYPE_SHARED_TASK_POOL, GstSharedTaskPoolClass))\n+#define GST_IS_SHARED_TASK_POOL_CLASS(pclass) (G_TYPE_CHECK_CLASS_TYPE ((pclass), GST_TYPE_SHARED_TASK_POOL))\n+#define GST_SHARED_TASK_POOL_GET_CLASS(pool)  (G_TYPE_INSTANCE_GET_CLASS ((pool), GST_TYPE_SHARED_TASK_POOL, GstSharedTaskPoolClass))\n+\n+\/**\n+ * GstSharedTaskPool:\n+ *\n+ * The #GstSharedTaskPool object.\n+ *\n+ * since: 1.20\n+ *\/\n+struct _GstSharedTaskPool {\n+  GstTaskPool parent;\n+\n+  \/*< private >*\/\n+  GstSharedTaskPoolPrivate *priv;\n+\n+  gpointer _gst_reserved[GST_PADDING];\n+};\n+\n+\/**\n+ * GstSharedTaskPoolClass:\n+ *\n+ * The #GstSharedTaskPoolClass object.\n+ *\n+ * Since: 1.20\n+ *\/\n+struct _GstSharedTaskPoolClass {\n+  GstTaskPoolClass parent_class;\n+\n+  \/*< private >*\/\n+  gpointer _gst_reserved[GST_PADDING];\n+};\n+\n+GST_API\n+GType           gst_shared_task_pool_get_type        (void);\n+\n+GST_API\n+void            gst_shared_task_pool_set_max_threads (GstSharedTaskPool *pool, guint max_threads);\n+\n+GST_API\n+guint           gst_shared_task_pool_get_max_threads (GstSharedTaskPool *pool);\n+\n+GST_API\n+GstTaskPool *   gst_shared_task_pool_new             (void);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttaskpool.h","additions":69,"deletions":2,"binary":false,"changes":71,"status":"modified"},{"patch":"@@ -162,0 +162,1 @@\n+ * %NULL terminator required after the last argument.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerrecord.c","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-GstTracerRecord * gst_tracer_record_new (const gchar * name, const gchar * firstfield, ...);\n+GstTracerRecord * gst_tracer_record_new (const gchar * name, const gchar * firstfield, ...) G_GNUC_NULL_TERMINATED;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerrecord.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-  \"object-reffed\", \"object-unreffed\",\n+  \"object-reffed\", \"object-unreffed\", \"plugin-feature-loaded\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerutils.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,0 +82,1 @@\n+  GST_TRACER_QUARK_HOOK_PLUGIN_FEATURE_LOADED,\n@@ -692,0 +693,1 @@\n+\n@@ -697,0 +699,26 @@\n+\/**\n+ * GstTracerHookPluginFeatureLoaded:\n+ * @self: the tracer instance\n+ * @ts: the current timestamp\n+ * @feature: the plugin feature that was loaded\n+ *\n+ * Hook called when a GstPluginFeature is loaded named\n+ * \"plugin-feature-loaded\".\n+ *\n+ * Since: 1.20\n+ *\/\n+typedef void (*GstTracerHookPluginFeatureLoaded) (GObject *self, GstClockTime ts,\n+    GstPluginFeature *feature);\n+\/**\n+ * GST_TRACER_PLUGIN_FEATURE_LOADED:\n+ * @feature: The feature that this tracer is called for\n+ *\n+ * Add a tracepoint when a plugin feature is loaded.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_TRACER_PLUGIN_FEATURE_LOADED(feature) G_STMT_START{ \\\n+  GST_TRACER_DISPATCH(GST_TRACER_QUARK(HOOK_PLUGIN_FEATURE_LOADED), \\\n+    GstTracerHookPluginFeatureLoaded, (GST_TRACER_ARGS, feature)); \\\n+}G_STMT_END\n+\n@@ -746,0 +774,1 @@\n+#define GST_TRACER_PLUGIN_FEATURE_LOADED(feature)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttracerutils.h","additions":29,"deletions":0,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -153,0 +153,32 @@\n+\/**\n+ * gst_type_find_suggest_empty_simple:\n+ * @find: The #GstTypeFind object the function was called with\n+ * @probability: The probability in percent that the suggestion is right\n+ * @media_type: the media type of the suggested caps\n+ *\n+ * If a #GstTypeFindFunction calls this function it suggests caps of the\n+ * given @media_type with the given @probability.\n+ *\n+ * This function is similar to gst_type_find_suggest_simple(), but uses\n+ * a #GstCaps with no fields.\n+ *\n+ * Since: 1.20\n+ *\/\n+void\n+gst_type_find_suggest_empty_simple (GstTypeFind * find,\n+    guint probability, const char *media_type)\n+{\n+  GstCaps *caps;\n+\n+  g_return_if_fail (find->suggest != NULL);\n+  g_return_if_fail (probability <= 100);\n+  g_return_if_fail (media_type != NULL);\n+\n+  caps = gst_caps_new_empty_simple (media_type);\n+\n+  g_return_if_fail (gst_caps_is_fixed (caps));\n+\n+  find->suggest (find->data, probability, caps);\n+  gst_caps_unref (caps);\n+}\n+\n@@ -161,1 +193,2 @@\n- *     field GType and field value)\n+ *     field GType and field value).  If @fieldname is %NULL, this list\n+ *     must be exactly one %NULL.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttypefind.c","additions":34,"deletions":1,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -31,0 +31,85 @@\n+\/**\n+ * GST_TYPE_FIND_REGISTER_DEFINE_CUSTOM:\n+ * @type_find: The type find name in lower case, with words separated by '_'.\n+ * Used to generate `gst_type_find_register_*(GstPlugin* plugin)`.\n+ * @register_func: pointer to a method with the format: `gboolean register_func (GstPlugin* plugin);`\n+ *\n+ * A convenience macro to define the entry point of a\n+ * type find `gst_type_find_register_*(GstPlugin* plugin)` which uses\n+ * register_func as the main registration method for the type find.\n+ * As an example, you may define the type find named \"custom-typefind\"\n+ * as following using `type_find_register_custom`:\n+ *\n+ * ```\n+ * GST_TYPE_FIND_REGISTER_DEFINE_CUSTOM (plugin, type_find_register_custom)\n+ * ```\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_TYPE_FIND_REGISTER_DEFINE_CUSTOM(type_find, register_func) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE (gst_type_find_register_, type_find) (GstPlugin * plugin) \\\n+{ \\\n+  return register_func (plugin); \\\n+} \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_TYPE_FIND_REGISTER_DEFINE:\n+ * @t_f: The type find name in lower case, with words separated by '_'.\n+ * Used to generate `gst_type_find_register_*(GstPlugin* plugin)`.\n+ * @t_f_n: The public name of the type find\n+ * @r: The #GstRank of the type find (higher rank means more importance when autoplugging, see #GstRank)\n+ * @func: The #GstTypeFindFunction to use\n+ * @extensions: (nullable): Optional comma-separated list of extensions\n+ *     that could belong to this type\n+ * @possible_caps: (nullable): Optionally the caps that could be returned when typefinding\n+ *                 succeeds\n+ * @data: Optional user data. This user data must be available until the plugin\n+ *        is unloaded.\n+ * @data_notify: a #GDestroyNotify that will be called on @data when the plugin\n+ *        is unloaded.\n+ *\n+ * A convenience macro to define the entry point of a\n+ * type find `gst_type_find_register_*(GstPlugin* plugin)`.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_TYPE_FIND_REGISTER_DEFINE(t_f, t_f_n, r, func, extensions, possible_caps, data, data_notify) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE (gst_type_find_register_, t_f) (GstPlugin * plugin) \\\n+{ \\\n+  return gst_type_find_register (plugin, t_f_n, r, func, extensions, possible_caps, data, data_notify); \\\n+} \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_TYPE_FIND_REGISTER_DECLARE:\n+ * @t_f: The type find name in lower case, with words separated by '_'.\n+ *\n+ * This macro can be used to declare a new type find.\n+ * It has to be used in combination with #GST_TYPE_FIND_REGISTER_DEFINE macro\n+ * and must be placed outside any block to declare the type find registration\n+ * function.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_TYPE_FIND_REGISTER_DECLARE(t_f) \\\n+G_BEGIN_DECLS \\\n+gboolean G_PASTE(gst_type_find_register_, t_f) (GstPlugin * plugin); \\\n+G_END_DECLS\n+\n+\/**\n+ * GST_TYPE_FIND_REGISTER:\n+ * @t_f: The type find name in lower case, with words separated by '_'.\n+ * @plugin: The #GstPlugin where to register the type find.\n+\n+ *\n+ * This macro can be used to register a type find into a #GstPlugin.\n+ * This method will be usually called in the plugin init function\n+ * but can also be called with a NULL plugin.\n+ *\n+ * Since: 1.20\n+ *\/\n+#define GST_TYPE_FIND_REGISTER(t_f, plugin) G_PASTE(gst_type_find_register_, t_f) (plugin)\n+\n@@ -115,0 +200,4 @@\n+void            gst_type_find_suggest_empty_simple (GstTypeFind * find,\n+                                                    guint         probability,\n+                                                    const char  * media_type);\n+GST_API\n@@ -118,1 +207,1 @@\n-                                              const char  * fieldname, ...);\n+                                              const char  * fieldname, ...) G_GNUC_NULL_TERMINATED;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttypefind.h","additions":90,"deletions":1,"binary":false,"changes":91,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n- *     if (offset &gt;= 0 &amp;&amp; offset + size &lt;= find->size) {\n+ *     if (offset >= 0 && offset + size <= find->size) {\n@@ -55,1 +55,1 @@\n- *     if (probability &gt; find->probability) {\n+ *     if (probability > find->probability) {\n@@ -57,1 +57,1 @@\n- *       gst_caps_replace (&amp;find->caps, caps);\n+ *       gst_caps_replace (&find->caps, caps);\n@@ -65,1 +65,1 @@\n- *     GstTypeFind gst_find = {my_peek, my_suggest, &amp;find, };\n+ *     GstTypeFind gst_find = {my_peek, my_suggest, &find, };\n@@ -70,1 +70,1 @@\n- *       gst_type_find_factory_call_function (factory, &amp;gst_find);\n+ *       gst_type_find_factory_call_function (factory, &gst_find);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttypefindfactory.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-  static volatile gsize urihandler_type = 0;\n+  static gsize urihandler_type = 0;\n@@ -408,2 +408,2 @@\n-  g_return_val_if_fail (uri != NULL, NULL);\n-  g_return_val_if_fail (gst_uri_is_valid (uri), NULL);\n+  if (!gst_uri_is_valid (uri))\n+    return NULL;\n@@ -430,1 +430,0 @@\n-  g_return_val_if_fail (uri != NULL, FALSE);\n@@ -432,1 +431,4 @@\n-  g_return_val_if_fail (gst_uri_is_valid (uri), FALSE);\n+\n+  if (!gst_uri_is_valid (uri)) {\n+    return FALSE;\n+  }\n@@ -463,2 +465,3 @@\n-  g_return_val_if_fail (uri != NULL, NULL);\n-  g_return_val_if_fail (gst_uri_is_valid (uri), NULL);\n+  if (!gst_uri_is_valid (uri)) {\n+    return NULL;\n+  }\n@@ -635,1 +638,0 @@\n-  g_return_val_if_fail (gst_uri_is_valid (uri), NULL);\n@@ -638,0 +640,6 @@\n+  if (!gst_uri_is_valid (uri)) {\n+    g_set_error (error, GST_URI_ERROR, GST_URI_ERROR_BAD_URI,\n+        _(\"Invalid URI: %s\"), uri);\n+    return NULL;\n+  }\n+\n@@ -799,1 +807,0 @@\n-  g_return_val_if_fail (gst_uri_is_valid (uri), FALSE);\n@@ -806,0 +813,6 @@\n+  if (!gst_uri_is_valid (uri)) {\n+    g_set_error (error, GST_URI_ERROR, GST_URI_ERROR_BAD_URI,\n+        _(\"Invalid URI: %s\"), uri);\n+    return FALSE;\n+  }\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsturi.c","additions":22,"deletions":9,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -216,1 +216,1 @@\n-  if (!gst_value_deserialize (&v, value))\n+  if (!gst_value_deserialize_with_pspec (&v, value, pspec))\n@@ -391,1 +391,1 @@\n-   * scrach space to capture the carry.  the low word of the result becomes\n+   * scratch space to capture the carry.  the low word of the result becomes\n@@ -1828,1 +1828,1 @@\n-      if ((srcpad = gst_element_get_request_pad (src, srcpadname)))\n+      if ((srcpad = gst_element_request_pad_simple (src, srcpadname)))\n@@ -1867,1 +1867,1 @@\n-      if ((destpad = gst_element_get_request_pad (dest, destpadname)))\n+      if ((destpad = gst_element_request_pad_simple (dest, destpadname)))\n@@ -2327,1 +2327,1 @@\n-    if ((srcpad = gst_element_get_request_pad (src, srcpadname)))\n+    if ((srcpad = gst_element_request_pad_simple (src, srcpadname)))\n@@ -2334,1 +2334,1 @@\n-    if ((destpad = gst_element_get_request_pad (dest, destpadname)))\n+    if ((destpad = gst_element_request_pad_simple (dest, destpadname)))\n@@ -2719,1 +2719,1 @@\n- * Remove a list of elements from a bin. This function is equivalent\n+ * Removes a list of elements from a bin. This function is equivalent\n@@ -3298,1 +3298,1 @@\n- * direction, %NULL.\n+ * direction.\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstutils.c","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-    GValue * value, GType type);\n+    GValue * value, GType type, GParamSpec * pspec);\n@@ -103,1 +103,1 @@\n-    GValue * value, GType type);\n+    GValue * value, GType type, GParamSpec * pspec);\n@@ -297,1 +297,1 @@\n- * Initializes and pre-allocates a #GValue of type #GST_VALUE_LIST.\n+ * Initializes and pre-allocates a #GValue of type #GST_TYPE_LIST.\n@@ -328,1 +328,1 @@\n- * Initializes and pre-allocates a #GValue of type #GST_VALUE_ARRAY.\n+ * Initializes and pre-allocates a #GValue of type #GST_TYPE_ARRAY.\n@@ -1249,1 +1249,2 @@\n-gst_value_deserialize_value_list (GValue * dest, const gchar * s)\n+gst_value_deserialize_value_list (GValue * dest, const gchar * s,\n+    GParamSpec * pspec)\n@@ -1252,1 +1253,1 @@\n-  return _priv_gst_value_parse_list (s2, &s2, dest, G_TYPE_INVALID);\n+  return _priv_gst_value_parse_list (s2, &s2, dest, G_TYPE_INVALID, pspec);\n@@ -1262,1 +1263,2 @@\n-gst_value_deserialize_value_array (GValue * dest, const gchar * s)\n+gst_value_deserialize_value_array (GValue * dest, const gchar * s,\n+    GParamSpec * pspec)\n@@ -1265,1 +1267,1 @@\n-  return _priv_gst_value_parse_array (s2, &s2, dest, G_TYPE_INVALID);\n+  return _priv_gst_value_parse_array (s2, &s2, dest, G_TYPE_INVALID, pspec);\n@@ -2246,0 +2248,2 @@\n+    \/* this can happen if caps are ANY, EMPTY, or only contains a single\n+     * empty structure *\/\n@@ -2272,1 +2276,1 @@\n-  static volatile gsize num = 0;\n+  static gsize num = 0;\n@@ -2474,1 +2478,1 @@\n-  ret = _priv_gst_value_parse_value (s, &s, &value1, type);\n+  ret = _priv_gst_value_parse_value (s, &s, &value1, type, NULL);\n@@ -2476,1 +2480,1 @@\n-    return FALSE;\n+    goto err;\n@@ -2482,1 +2486,1 @@\n-    return FALSE;\n+    goto err;\n@@ -2488,1 +2492,1 @@\n-  ret = _priv_gst_value_parse_value (s, &s, &value2, type);\n+  ret = _priv_gst_value_parse_value (s, &s, &value2, type, NULL);\n@@ -2490,1 +2494,1 @@\n-    return FALSE;\n+    goto err;\n@@ -2504,1 +2508,1 @@\n-      ret = _priv_gst_value_parse_value (s, &s, &value3, type);\n+      ret = _priv_gst_value_parse_value (s, &s, &value3, type, NULL);\n@@ -2506,1 +2510,1 @@\n-        return FALSE;\n+        goto err;\n@@ -2516,1 +2520,1 @@\n-    return FALSE;\n+    goto err;\n@@ -2558,1 +2562,1 @@\n-    return FALSE;\n+    goto err;\n@@ -2563,0 +2567,7 @@\n+\n+err:\n+  g_value_unset (value);\n+  g_value_unset (&value1);\n+  g_value_unset (&value2);\n+  g_value_unset (&value3);\n+  return FALSE;\n@@ -2567,1 +2578,1 @@\n-    GType type, char begin, char end)\n+    GType type, char begin, char end, GParamSpec * pspec)\n@@ -2572,0 +2583,4 @@\n+  GParamSpec *element_spec = NULL;\n+\n+  if (pspec)\n+    element_spec = GST_PARAM_SPEC_ARRAY_LIST (pspec)->element_spec;\n@@ -2593,1 +2608,2 @@\n-    ret = _priv_gst_value_parse_value (s, &s, &list_value, type);\n+\n+    ret = _priv_gst_value_parse_value (s, &s, &list_value, type, element_spec);\n@@ -2614,1 +2630,1 @@\n-    GType type)\n+    GType type, GParamSpec * pspec)\n@@ -2616,1 +2632,2 @@\n-  return _priv_gst_value_parse_any_list (s, after, value, type, '{', '}');\n+  return _priv_gst_value_parse_any_list (s, after, value, type, '{', '}',\n+      pspec);\n@@ -2621,1 +2638,1 @@\n-    GType type)\n+    GType type, GParamSpec * pspec)\n@@ -2623,1 +2640,2 @@\n-  return _priv_gst_value_parse_any_list (s, after, value, type, '<', '>');\n+  return _priv_gst_value_parse_any_list (s, after, value, type, '<', '>',\n+      pspec);\n@@ -2640,0 +2658,81 @@\n+static gboolean\n+_priv_gst_value_parse_struct_or_caps (gchar * str, gchar ** after, GType type,\n+    GValue * value)\n+{\n+  gint openers = 1;\n+  gboolean ret = FALSE;\n+  gchar *s = str, t, *start, *end, *next;\n+\n+  if (*s != '[')\n+    return FALSE;\n+\n+  s++;\n+  str = s;\n+  for (; *s; s++) {\n+    if (*s == ']')\n+      openers--;\n+    else if (*s == '[')\n+      openers++;\n+\n+    if (openers == 0) {\n+      *after = s + 1;\n+      break;\n+    }\n+  }\n+\n+  if (*after == NULL)\n+    return FALSE;\n+\n+  t = *s;\n+  *s = '\\0';\n+  g_value_init (value, type);\n+  if (priv_gst_structure_parse_name (str, &start, &end, &next, TRUE))\n+    ret = gst_value_deserialize (value, str);\n+  if (G_UNLIKELY (!ret)) {\n+    *s = t;\n+    g_value_unset (value);\n+  }\n+\n+  return ret;\n+}\n+\n+static gboolean\n+_priv_gst_value_parse_range_struct_caps (gchar * s, gchar ** after,\n+    GValue * value, GType type)\n+{\n+  gint i;\n+  gchar *tmp = s;\n+  gboolean ret = FALSE;\n+  GType try_types[] = {\n+    GST_TYPE_STRUCTURE,\n+    GST_TYPE_CAPS,\n+  };\n+\n+  if (type == GST_TYPE_CAPS || type == GST_TYPE_STRUCTURE)\n+    ret = _priv_gst_value_parse_struct_or_caps (tmp, &tmp, type, value);\n+\n+  if (ret)\n+    goto ok;\n+\n+  tmp = s;\n+  ret = _priv_gst_value_parse_range (tmp, &tmp, value, type);\n+  if (ret)\n+    goto ok;\n+\n+  if (type != G_TYPE_INVALID)\n+    return ret;\n+\n+  for (i = 0; i < G_N_ELEMENTS (try_types); i++) {\n+    tmp = s;\n+    ret = _priv_gst_value_parse_struct_or_caps (tmp, &tmp, try_types[i], value);\n+    if (ret)\n+      goto ok;\n+  }\n+\n+  return ret;\n+\n+ok:\n+  *after = tmp;\n+  return ret;\n+}\n+\n@@ -2642,1 +2741,1 @@\n-    gchar ** after, GValue * value, GType default_type)\n+    gchar ** after, GValue * value, GType default_type, GParamSpec * pspec)\n@@ -2659,0 +2758,1 @@\n+\n@@ -2685,0 +2785,2 @@\n+  } else if (pspec) {\n+    type = G_PARAM_SPEC_VALUE_TYPE (pspec);\n@@ -2690,1 +2792,1 @@\n-    ret = _priv_gst_value_parse_range (s, &s, value, type);\n+    ret = _priv_gst_value_parse_range_struct_caps (s, &s, value, type);\n@@ -2693,1 +2795,1 @@\n-    ret = _priv_gst_value_parse_list (s, &s, value, type);\n+    ret = _priv_gst_value_parse_list (s, &s, value, type, pspec);\n@@ -2696,1 +2798,1 @@\n-    ret = _priv_gst_value_parse_array (s, &s, value, type);\n+    ret = _priv_gst_value_parse_array (s, &s, value, type, pspec);\n@@ -2706,0 +2808,2 @@\n+      int value_size;\n+      gboolean check_wrapped_non_string;\n@@ -2707,1 +2811,1 @@\n-      if (G_UNLIKELY (!_priv_gst_value_parse_string (s, &value_end, &s, TRUE)))\n+      if (G_UNLIKELY (!_priv_gst_value_parse_string (s, &value_end, &s, FALSE)))\n@@ -2710,0 +2814,1 @@\n+      value_size = value_end - value_s;\n@@ -2711,0 +2816,3 @@\n+      \/* Keep old broken behavior where \"2\" could be interpretted as an int *\/\n+      check_wrapped_non_string = value_s[0] == '\"' &&\n+          strlen (value_s) >= 2 && value_end[-1] == '\"';\n@@ -2714,3 +2822,23 @@\n-        ret = gst_value_deserialize (value, value_s);\n-        if (ret)\n-          break;\n+        if (try_types[i] != G_TYPE_STRING && check_wrapped_non_string) {\n+          value_s[value_size - 1] = '\\0';\n+          ret = gst_value_deserialize (value, value_s + 1);\n+          value_s[value_size - 1] = '\"';\n+          if (ret) {\n+            const gchar *type_name = g_type_name (try_types[i]);\n+\n+            g_warning (\"Received a structure string that contains \"\n+                \"'=%s'. Reading as a %s value, rather than a string \"\n+                \"value. This is undesired behaviour, and with GStreamer 1.22 \"\n+                \" onward, this will be interpreted as a string value instead \"\n+                \"because it is wrapped in '\\\"' quotes. If you want to \"\n+                \"guarantee this value is read as a string, before this \"\n+                \"change, use '=(string)%s' instead. If you want to read \"\n+                \"in a %s value, leave its value unquoted.\",\n+                value_s, type_name, value_s, type_name);\n+            break;\n+          }\n+        } else {\n+          ret = gst_value_deserialize (value, value_s);\n+          if (ret)\n+            break;\n+        }\n@@ -2722,2 +2850,1 @@\n-      if (G_UNLIKELY (!_priv_gst_value_parse_string (s, &value_end, &s,\n-                  (type != G_TYPE_STRING))))\n+      if (G_UNLIKELY (!_priv_gst_value_parse_string (s, &value_end, &s, FALSE)))\n@@ -2728,1 +2855,1 @@\n-      ret = gst_value_deserialize (value, value_s);\n+      ret = gst_value_deserialize_with_pspec (value, value_s, pspec);\n@@ -2783,1 +2910,2 @@\n-gst_value_deserialize_segment (GValue * dest, const gchar * s)\n+gst_value_deserialize_segment_internal (GValue * dest, const gchar * s,\n+    gboolean unescape)\n@@ -2788,0 +2916,2 @@\n+  gsize len;\n+  gchar *t;\n@@ -2789,2 +2919,17 @@\n-  str = gst_structure_from_string (s, NULL);\n-  if (str == NULL)\n+  if (unescape) {\n+    len = strlen (s);\n+    if (G_UNLIKELY (*s != '\"' || len < 2 || s[len - 1] != '\"')) {\n+      \/* \"\\\"\" is not an accepted string, so len must be at least 2 *\/\n+      GST_ERROR (\"Failed deserializing segement: expected string to start and \"\n+          \"end with '\\\"'\");\n+      return FALSE;\n+    }\n+    t = g_strdup (s + 1);\n+    t[len - 2] = '\\0';\n+    \/* removed trailing '\"' *\/\n+    str = gst_structure_from_string (t, NULL);\n+    g_free (t);\n+  } else {\n+    str = gst_structure_from_string (s, NULL);\n+  }\n+  if (G_UNLIKELY (str == NULL))\n@@ -2813,0 +2958,6 @@\n+static gboolean\n+gst_value_deserialize_segment (GValue * dest, const gchar * s)\n+{\n+  return gst_value_deserialize_segment_internal (dest, s, TRUE);\n+}\n+\n@@ -2857,0 +3008,2 @@\n+  \/* string should always end up being wrapped, since a structure string\n+   * ends in a ';' character *\/\n@@ -2865,0 +3018,8 @@\n+    \/* the output of gst_value_serialize_structure would never produce\n+     * such a string, but a user may pass to gst_structure_from_string\n+     * the string:\n+     *     name, sub=(GstStructure)sub-name, val=(int)5;\n+     * and expect sub to be read as an *empty* structure with the name\n+     * sub-name. Similar to\n+     *     name, caps=(GstCaps)video\/x-raw, val=(int)5;\n+     * which gst_structure_to_string can produce. *\/\n@@ -2953,0 +3114,3 @@\n+    \/* This can happen if gst_caps_features_to_string only returns\n+     * ALL, NONE, or a single features name, which means it is not\n+     * actually wrapped by priv_gst_string_take_and_wrap *\/\n@@ -2991,0 +3155,7 @@\n+    \/* the output of gst_value_serialize_tag_list would never produce\n+     * such a string, but a user may pass to gst_structure_from_string\n+     * the string:\n+     *     name, list=(GstTagList)taglist, val=(int)5;\n+     * and expect list to be read as an *empty* tag list. Similar to\n+     *     name, caps=(GstCaps)video\/x-raw, val=(int)5;\n+     * which gst_structure_to_string can produce. *\/\n@@ -3015,0 +3186,2 @@\n+  \/* string should always end up being wrapped, since a taglist (structure)\n+   * string ends in a ';' character *\/\n@@ -3272,1 +3445,1 @@\n-    if (!gst_value_deserialize_segment (&sval, fields[2]))\n+    if (!gst_value_deserialize_segment_internal (&sval, fields[2], FALSE))\n@@ -3789,1 +3962,0 @@\n-\n@@ -3793,2 +3965,1 @@\n-    } else {\n-      \/* weird character, error *\/\n+    } else if (*read == '\\0') {\n@@ -3796,0 +3967,2 @@\n+    } else {\n+      *write++ = *read++;\n@@ -3833,0 +4006,4 @@\n+    if (!g_utf8_validate (str, -1, NULL)) {\n+      g_free (str);\n+      return FALSE;\n+    }\n@@ -6450,1 +6627,2 @@\n-  if (G_UNLIKELY (!best || !best->deserialize)) {\n+  if (G_UNLIKELY (!best || (!best->deserialize\n+              && !best->deserialize_with_pspec))) {\n@@ -6455,1 +6633,2 @@\n-      if (table->deserialize && g_type_is_a (type, table->type)) {\n+      if ((table->deserialize || table->deserialize_with_pspec) &&\n+          g_type_is_a (type, table->type)) {\n@@ -6461,2 +6640,61 @@\n-  if (G_LIKELY (best))\n-    return best->deserialize (dest, src);\n+  if (G_LIKELY (best)) {\n+    if (best->deserialize_with_pspec)\n+      return best->deserialize_with_pspec (dest, src, NULL);\n+    else\n+      return best->deserialize (dest, src);\n+  }\n+\n+  return FALSE;\n+}\n+\n+\/**\n+ * gst_value_deserialize_with_pspec:\n+ * @dest: (out caller-allocates): #GValue to fill with contents of\n+ *     deserialization\n+ * @src: string to deserialize\n+ * @pspec: (nullable): the #GParamSpec describing the expected value\n+ *\n+ * Tries to deserialize a string into the type specified by the given GValue.\n+ * @pspec may be used to guide the deserializing of nested members.\n+ * If the operation succeeds, %TRUE is returned, %FALSE otherwise.\n+ *\n+ * Returns: %TRUE on success\n+ * Since: 1.20\n+ *\/\n+gboolean\n+gst_value_deserialize_with_pspec (GValue * dest, const gchar * src,\n+    GParamSpec * pspec)\n+{\n+  GstValueTable *table, *best;\n+  guint i, len;\n+  GType type;\n+\n+  g_return_val_if_fail (src != NULL, FALSE);\n+  g_return_val_if_fail (G_IS_VALUE (dest), FALSE);\n+\n+  if (pspec)\n+    g_return_val_if_fail (G_VALUE_TYPE (dest) ==\n+        G_PARAM_SPEC_VALUE_TYPE (pspec), FALSE);\n+\n+  type = G_VALUE_TYPE (dest);\n+\n+  best = gst_value_hash_lookup_type (type);\n+  if (G_UNLIKELY (!best || (!best->deserialize\n+              && !best->deserialize_with_pspec))) {\n+    len = gst_value_table->len;\n+    best = NULL;\n+    for (i = 0; i < len; i++) {\n+      table = &g_array_index (gst_value_table, GstValueTable, i);\n+      if ((table->deserialize || table->deserialize_with_pspec) &&\n+          g_type_is_a (type, table->type)) {\n+        if (!best || g_type_is_a (table->type, best->type))\n+          best = table;\n+      }\n+    }\n+  }\n+  if (G_LIKELY (best)) {\n+    if (best->deserialize_with_pspec)\n+      return best->deserialize_with_pspec (dest, src, pspec);\n+    else\n+      return best->deserialize (dest, src);\n+  }\n@@ -7632,1 +7870,1 @@\n-  static volatile GType gst_ ## type ## _type = 0;              \\\n+  static GType gst_ ## type ## _type = 0;              \\\n@@ -7763,1 +8001,2 @@\n-#define SERIAL_VTABLE(t,c,s,d) { t, c, s, d }\n+#define SERIAL_VTABLE(t,c,s,d) { t, c, s, d, NULL }\n+#define SERIAL_VTABLE_PSPEC(t,c,s,d) { t, c, s, NULL, d }\n@@ -7782,0 +8021,9 @@\n+#define REGISTER_SERIALIZATION_WITH_PSPEC(_gtype, _type)                \\\n+G_STMT_START {                                                          \\\n+  static GstValueTable gst_value =                                      \\\n+    SERIAL_VTABLE_PSPEC (0, gst_value_compare_ ## _type,                \\\n+    gst_value_serialize_ ## _type, gst_value_deserialize_ ## _type);    \\\n+  gst_value.type = _gtype;                                              \\\n+  gst_value_register (&gst_value);                                      \\\n+} G_STMT_END\n+\n@@ -7826,2 +8074,0 @@\n-  REGISTER_SERIALIZATION (gst_value_list_get_type (), value_list);\n-  REGISTER_SERIALIZATION (gst_value_array_get_type (), value_array);\n@@ -7872,0 +8118,3 @@\n+  REGISTER_SERIALIZATION_WITH_PSPEC (gst_value_list_get_type (), value_list);\n+  REGISTER_SERIALIZATION_WITH_PSPEC (gst_value_array_get_type (), value_array);\n+\n@@ -7966,1 +8215,0 @@\n-  \/* see bug #317246, #64994, #65041 *\/\n@@ -7968,1 +8216,1 @@\n-    volatile GType date_type = G_TYPE_DATE;\n+    GType date_type = G_TYPE_DATE;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstvalue.c","additions":300,"deletions":52,"binary":false,"changes":352,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_INT_RANGE value.\n+ * Checks if the given #GValue contains a #GstIntRange value.\n@@ -98,1 +98,1 @@\n-#define GST_VALUE_HOLDS_INT_RANGE(x)      ((x) != NULL && G_VALUE_TYPE(x) == _gst_int_range_type)\n+#define GST_VALUE_HOLDS_INT_RANGE(x)      ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_int_range_type)\n@@ -104,1 +104,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_INT64_RANGE value.\n+ * Checks if the given #GValue contains a #GstInt64Range value.\n@@ -106,1 +106,1 @@\n-#define GST_VALUE_HOLDS_INT64_RANGE(x)    ((x) != NULL && G_VALUE_TYPE(x) == _gst_int64_range_type)\n+#define GST_VALUE_HOLDS_INT64_RANGE(x)    ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_int64_range_type)\n@@ -112,1 +112,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_DOUBLE_RANGE value.\n+ * Checks if the given #GValue contains a #GstDoubleRange value.\n@@ -114,1 +114,1 @@\n-#define GST_VALUE_HOLDS_DOUBLE_RANGE(x)   ((x) != NULL && G_VALUE_TYPE(x) == _gst_double_range_type)\n+#define GST_VALUE_HOLDS_DOUBLE_RANGE(x)   ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_double_range_type)\n@@ -120,1 +120,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_FRACTION_RANGE value.\n+ * Checks if the given #GValue contains a #GstFractionRange value.\n@@ -122,1 +122,1 @@\n-#define GST_VALUE_HOLDS_FRACTION_RANGE(x) ((x) != NULL && G_VALUE_TYPE(x) == _gst_fraction_range_type)\n+#define GST_VALUE_HOLDS_FRACTION_RANGE(x) ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_fraction_range_type)\n@@ -128,1 +128,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_LIST value.\n+ * Checks if the given #GValue contains a #GstValueList value.\n@@ -130,1 +130,1 @@\n-#define GST_VALUE_HOLDS_LIST(x)         ((x) != NULL && G_VALUE_TYPE(x) == _gst_value_list_type)\n+#define GST_VALUE_HOLDS_LIST(x)         ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_value_list_type)\n@@ -136,1 +136,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_ARRAY value.\n+ * Checks if the given #GValue contains a #GstValueArray value.\n@@ -138,1 +138,1 @@\n-#define GST_VALUE_HOLDS_ARRAY(x)        ((x) != NULL && G_VALUE_TYPE(x) == _gst_value_array_type)\n+#define GST_VALUE_HOLDS_ARRAY(x)        ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_value_array_type)\n@@ -144,1 +144,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_CAPS value.\n+ * Checks if the given #GValue contains a #GstCaps value.\n@@ -146,1 +146,1 @@\n-#define GST_VALUE_HOLDS_CAPS(x)         ((x) != NULL && G_VALUE_TYPE(x) == _gst_caps_type)\n+#define GST_VALUE_HOLDS_CAPS(x)         ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_caps_type)\n@@ -152,1 +152,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_STRUCTURE value.\n+ * Checks if the given #GValue contains a #GstStructure value.\n@@ -154,1 +154,1 @@\n-#define GST_VALUE_HOLDS_STRUCTURE(x)         ((x) != NULL && G_VALUE_TYPE(x) == _gst_structure_type)\n+#define GST_VALUE_HOLDS_STRUCTURE(x)      ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_structure_type)\n@@ -160,1 +160,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_CAPS_FEATURES value.\n+ * Checks if the given #GValue contains a #GstCapsFeatures value.\n@@ -162,1 +162,1 @@\n-#define GST_VALUE_HOLDS_CAPS_FEATURES(x)         ((x) != NULL && G_VALUE_TYPE(x) == _gst_caps_features_type)\n+#define GST_VALUE_HOLDS_CAPS_FEATURES(x)  ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_caps_features_type)\n@@ -168,1 +168,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_BUFFER value.\n+ * Checks if the given #GValue contains a #GstBuffer value.\n@@ -170,1 +170,1 @@\n-#define GST_VALUE_HOLDS_BUFFER(x)       ((x) != NULL && G_VALUE_TYPE(x) == _gst_buffer_type)\n+#define GST_VALUE_HOLDS_BUFFER(x)       ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_buffer_type)\n@@ -176,1 +176,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_SAMPLE value.\n+ * Checks if the given #GValue contains a #GstSample value.\n@@ -178,1 +178,1 @@\n-#define GST_VALUE_HOLDS_SAMPLE(x)       ((x) != NULL && G_VALUE_TYPE(x) == _gst_sample_type)\n+#define GST_VALUE_HOLDS_SAMPLE(x)       ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_sample_type)\n@@ -184,1 +184,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_FRACTION value.\n+ * Checks if the given #GValue contains a #GstFraction value.\n@@ -186,1 +186,1 @@\n-#define GST_VALUE_HOLDS_FRACTION(x)     ((x) != NULL && G_VALUE_TYPE(x) == _gst_fraction_type)\n+#define GST_VALUE_HOLDS_FRACTION(x)     ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_fraction_type)\n@@ -192,1 +192,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_DATE_TIME value.\n+ * Checks if the given #GValue contains a #GstDateTime value.\n@@ -194,1 +194,1 @@\n-#define GST_VALUE_HOLDS_DATE_TIME(x)    ((x) != NULL && G_VALUE_TYPE(x) == _gst_date_time_type)\n+#define GST_VALUE_HOLDS_DATE_TIME(x)    ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_date_time_type)\n@@ -200,1 +200,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_BITMASK value.\n+ * Checks if the given #GValue contains a #GstBitmask value.\n@@ -202,1 +202,1 @@\n-#define GST_VALUE_HOLDS_BITMASK(x)      ((x) != NULL && G_VALUE_TYPE(x) == _gst_bitmask_type)\n+#define GST_VALUE_HOLDS_BITMASK(x)      ((gpointer)(x) != NULL && G_VALUE_TYPE(x) == _gst_bitmask_type)\n@@ -208,1 +208,1 @@\n- * Checks if the given #GValue contains a #GST_TYPE_FLAG_SET value.\n+ * Checks if the given #GValue contains a #GstFlagSet value.\n@@ -511,0 +511,16 @@\n+\/**\n+ * GstValueDeserializeWithPSpecFunc:\n+ * @dest: a #GValue\n+ * @s: a string\n+ * @pspec: a #GParamSpec describing the expected value\n+ *\n+ * Used by gst_value_deserialize_with_pspec() to parse a non-binary form into the #GValue.\n+ *\n+ * Returns: %TRUE for success\n+ * Since: 1.20\n+ *\/\n+typedef gboolean (* GstValueDeserializeWithPSpecFunc) (GValue       *dest,\n+                                                       const gchar  *s,\n+                                                       GParamSpec   *pspec);\n+\n+\n@@ -518,0 +534,1 @@\n+ * @deserialize_with_pspec: a #GstValueDeserializeWithPSpecFunc\n@@ -527,0 +544,9 @@\n+  \/**\n+   * GstValueTable.deserialize_with_pspec:\n+   *\n+   * a #GstValueDeserializeWithPSpecFunc\n+   *\n+   * Since: 1.20\n+   *\/\n+  GstValueDeserializeWithPSpecFunc deserialize_with_pspec;\n+\n@@ -528,1 +554,1 @@\n-  gpointer _gst_reserved [GST_PADDING];\n+  gpointer _gst_reserved [GST_PADDING - 1];\n@@ -577,0 +603,5 @@\n+GST_API\n+gboolean        gst_value_deserialize_with_pspec (GValue               *dest,\n+                                                 const gchar           *src,\n+                                                 GParamSpec            *pspec);\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstvalue.h","additions":61,"deletions":30,"binary":false,"changes":91,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n- *  * #GstBaseParse calls #GstBaseParseClass.start() to inform subclass\n+ *  * #GstBaseParse calls #GstBaseParseClass::start to inform subclass\n@@ -53,1 +53,1 @@\n- *  * #GstBaseParse class calls #GstBaseParseClass.set_sink_caps() to\n+ *  * #GstBaseParse class calls #GstBaseParseClass::set_sink_caps to\n@@ -72,1 +72,1 @@\n- *    with #GstBaseParseClass.handle_frame(). Subclass checks the contents\n+ *    with #GstBaseParseClass::handle_frame. Subclass checks the contents\n@@ -76,1 +76,1 @@\n- *    complete frame, #GstBaseParseClass.handle_frame() can merely return\n+ *    complete frame, #GstBaseParseClass::handle_frame can merely return\n@@ -91,1 +91,1 @@\n- *    is only updated upon each call to #GstBaseParseClass.handle_frame()\n+ *    is only updated upon each call to #GstBaseParseClass::handle_frame\n@@ -102,1 +102,1 @@\n- *    Note that #GstBaseParseClass.handle_frame() might receive any small\n+ *    Note that #GstBaseParseClass::handle_frame might receive any small\n@@ -108,1 +108,1 @@\n- *    #GstBaseParseClass.pre_push_frame() which gives subclass yet one last\n+ *    #GstBaseParseClass::pre_push_frame which gives subclass yet one last\n@@ -114,1 +114,1 @@\n- *    #GstBaseParseClass.sink_event() or #GstBaseParseClass.src_event()\n+ *    #GstBaseParseClass::sink_event or #GstBaseParseClass::src_event\n@@ -119,1 +119,1 @@\n- * * #GstBaseParse class calls #GstBaseParseClass.stop() to inform the\n+ * * #GstBaseParse class calls #GstBaseParseClass::stop to inform the\n@@ -125,1 +125,1 @@\n- * base class calls subclass' #GstBaseParseClass.set_sink_caps() function).\n+ * base class calls subclass' #GstBaseParseClass::set_sink_caps function).\n@@ -145,1 +145,1 @@\n- *   #GstBaseParseClass.handle_frame() and pass proper frame(s) to\n+ *   #GstBaseParseClass::handle_frame and pass proper frame(s) to\n@@ -161,1 +161,1 @@\n- *   bitrate. A default #GstBaseParseClass.convert() (used if not\n+ *   bitrate. A default #GstBaseParseClass::convert (used if not\n@@ -385,1 +385,1 @@\n-  static volatile gsize base_parse_type = 0;\n+  static gsize base_parse_type = 0;\n@@ -834,0 +834,1 @@\n+  parse->priv->data_bytecount = 0;\n@@ -1065,1 +1066,1 @@\n- * @dest_value: Pointer where the conversion result will be put.\n+ * @dest_value: (out): Pointer where the conversion result will be put.\n@@ -1125,1 +1126,1 @@\n-    if (gst_structure_id_has_field (structure, field_id))\n+    if (!gst_structure_id_has_field (structure, field_id)) {\n@@ -1127,0 +1128,3 @@\n+    }\n+    \/* XXX: maybe try to fixate better than gst_caps_fixate() the\n+     * downstream caps based on upstream values if possible *\/\n@@ -1747,1 +1751,1 @@\n- * Default implementation of #GstBaseParseClass.convert().\n+ * Default implementation of #GstBaseParseClass::convert.\n@@ -1786,1 +1790,1 @@\n-  duration = parse->priv->acc_duration \/ GST_MSECOND;\n+  duration = parse->priv->acc_duration;\n@@ -1797,3 +1801,3 @@\n-      *dest_value *= GST_MSECOND;\n-      GST_DEBUG_OBJECT (parse, \"conversion result: %\" G_GINT64_FORMAT \" ms\",\n-          *dest_value \/ GST_MSECOND);\n+      GST_DEBUG_OBJECT (parse,\n+          \"converted %\" G_GINT64_FORMAT \" bytes to %\" GST_TIME_FORMAT,\n+          src_value, GST_TIME_ARGS (*dest_value));\n@@ -1807,2 +1811,1 @@\n-      *dest_value = gst_util_uint64_scale (src_value \/ GST_MSECOND, bytes,\n-          duration);\n+      *dest_value = gst_util_uint64_scale (src_value, bytes, duration);\n@@ -1810,2 +1813,2 @@\n-          \"time %\" G_GINT64_FORMAT \" ms in bytes = %\" G_GINT64_FORMAT,\n-          src_value \/ GST_MSECOND, *dest_value);\n+          \"converted %\" GST_TIME_FORMAT \" to %\" G_GINT64_FORMAT \" bytes\",\n+          GST_TIME_ARGS (src_value), *dest_value);\n@@ -1999,0 +2002,2 @@\n+  g_return_val_if_fail (GST_CLOCK_TIME_IS_VALID (ts), FALSE);\n+\n@@ -4033,2 +4038,2 @@\n- * pushed through unmodified, i.e. no #GstBaseParseClass.handle_frame()\n- * will be invoked, but #GstBaseParseClass.pre_push_frame() will still be\n+ * pushed through unmodified, i.e. no #GstBaseParseClass::handle_frame\n+ * will be invoked, but #GstBaseParseClass::pre_push_frame will still be\n@@ -4036,1 +4041,1 @@\n- * passthrough semantics in #GstBaseParseClass.pre_push_frame().\n+ * passthrough semantics in #GstBaseParseClass::pre_push_frame.\n@@ -4095,1 +4100,1 @@\n-  g_return_if_fail (min_latency != GST_CLOCK_TIME_NONE);\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (min_latency));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbaseparse.c","additions":33,"deletions":28,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -58,2 +58,2 @@\n- * #GstBaseParseClass.handle_frame() to indicate that no output buffer was\n- * generated, or from #GstBaseParseClass.pre_push_frame() to to forego\n+ * #GstBaseParseClass::handle_frame to indicate that no output buffer was\n+ * generated, or from #GstBaseParseClass::pre_push_frame to to forego\n@@ -245,0 +245,15 @@\n+  \/**\n+   * GstBaseParseClass::handle_frame:\n+   * @skipsize: (out):\n+   *\n+   * Parses the input data into valid frames as defined by subclass\n+   * which should be passed to gst_base_parse_finish_frame().\n+   * The frame's input buffer is guaranteed writable,\n+   * whereas the input frame ownership is held by caller\n+   * (so subclass should make a copy if it needs to hang on).\n+   * Input buffer (data) is provided by baseclass with as much\n+   * metadata set as possible by baseclass according to upstream\n+   * information and\/or subclass settings,\n+   * though subclass may still set buffer timestamp and duration\n+   * if desired.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbaseparse.h","additions":17,"deletions":2,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n- *   gst_element_class_add_static_pad_template (gstelement_class, &amp;sinktemplate);\n+ *   gst_element_class_add_static_pad_template (gstelement_class, &sinktemplate);\n@@ -62,1 +62,1 @@\n- * #GstBaseSinkClass.preroll() vmethod with this preroll buffer and will then\n+ * #GstBaseSinkClass::preroll vmethod with this preroll buffer and will then\n@@ -66,1 +66,1 @@\n- * clock using the times returned from #GstBaseSinkClass.get_times(). If this\n+ * clock using the times returned from #GstBaseSinkClass::get_times. If this\n@@ -71,1 +71,1 @@\n- * After synchronisation the virtual method #GstBaseSinkClass.render() will be\n+ * After synchronisation the virtual method #GstBaseSinkClass::render will be\n@@ -74,1 +74,1 @@\n- * Subclasses that synchronise on the clock in the #GstBaseSinkClass.render()\n+ * Subclasses that synchronise on the clock in the #GstBaseSinkClass::render\n@@ -83,1 +83,1 @@\n- * #GstBaseSinkClass.get_times() call before posting an EOS message. When the\n+ * #GstBaseSinkClass::get_times call before posting an EOS message. When the\n@@ -98,1 +98,1 @@\n- * The #GstBaseSinkClass.set_caps() function will be called when the subclass\n+ * The #GstBaseSinkClass::set_caps function will be called when the subclass\n@@ -101,1 +101,1 @@\n- * The #GstBaseSinkClass.start() and #GstBaseSinkClass.stop() virtual methods\n+ * The #GstBaseSinkClass::start and #GstBaseSinkClass::stop virtual methods\n@@ -103,3 +103,3 @@\n- * #GstBaseSinkClass.preroll(), #GstBaseSinkClass.render() and\n- * #GstBaseSinkClass.set_caps() function will be called between the\n- * #GstBaseSinkClass.start() and #GstBaseSinkClass.stop() calls.\n+ * #GstBaseSinkClass::preroll, #GstBaseSinkClass::render and\n+ * #GstBaseSinkClass::set_caps function will be called between the\n+ * #GstBaseSinkClass::start and #GstBaseSinkClass::stop calls.\n@@ -107,1 +107,1 @@\n- * The #GstBaseSinkClass.event() virtual method will be called when an event is\n+ * The #GstBaseSinkClass::event virtual method will be called when an event is\n@@ -112,1 +112,1 @@\n- * The #GstBaseSinkClass.unlock() method is called when the elements should\n+ * The #GstBaseSinkClass::unlock method is called when the elements should\n@@ -114,2 +114,2 @@\n- * #GstBaseSinkClass.render() method. This is mostly useful when the\n- * #GstBaseSinkClass.render() method performs a blocking write on a file\n+ * #GstBaseSinkClass::render method. This is mostly useful when the\n+ * #GstBaseSinkClass::render method performs a blocking write on a file\n@@ -126,1 +126,1 @@\n- * #GstBaseSinkClass.get_times() method does not return a valid start time or\n+ * #GstBaseSinkClass::get_times method does not return a valid start time or\n@@ -341,1 +341,1 @@\n-  static volatile gsize base_sink_type = 0;\n+  static gsize base_sink_type = 0;\n@@ -1330,0 +1330,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (delay));\n@@ -1771,0 +1772,3 @@\n+  gst_element_post_message (GST_ELEMENT_CAST (basesink),\n+      gst_message_new_latency (GST_OBJECT_CAST (basesink)));\n+\n@@ -1799,0 +1803,3 @@\n+\n+    gst_element_post_message (GST_ELEMENT_CAST (basesink),\n+        gst_message_new_latency (GST_OBJECT_CAST (basesink)));\n@@ -2201,1 +2208,5 @@\n-  if (segment->rate < 0.0 && GST_CLOCK_TIME_IS_VALID (rstop)) {\n+  if (segment->rate < 0.0 && GST_CLOCK_TIME_IS_VALID (rstop)\n+      \/* FIXME: Current stepping implemenation expects unmodified rstart\/rstop\n+       * for reverse playback. Don't swap those values when stepping\n+       * unless stepping code is updated as such *\/\n+      && !step->valid) {\n@@ -2308,1 +2319,1 @@\n- * receiving an EOS event in the #GstBaseSinkClass.event() vmethod or when\n+ * receiving an EOS event in the #GstBaseSinkClass::event vmethod or when\n@@ -2310,1 +2321,1 @@\n- * the #GstBaseSinkClass.render() vmethod.\n+ * the #GstBaseSinkClass::render vmethod.\n@@ -2398,1 +2409,1 @@\n- * If the #GstBaseSinkClass.render() method performs its own synchronisation\n+ * If the #GstBaseSinkClass::render method performs its own synchronisation\n@@ -2402,1 +2413,1 @@\n- * If the #GstBaseSinkClass.render() method can block on something else than\n+ * If the #GstBaseSinkClass::render method can block on something else than\n@@ -2404,2 +2415,2 @@\n- * the #GstBaseSinkClass.unlock() method and cause the\n- * #GstBaseSinkClass.render() method to immediately call this function.\n+ * the #GstBaseSinkClass::unlock method and cause the\n+ * #GstBaseSinkClass::render method to immediately call this function.\n@@ -5695,0 +5706,2 @@\n+        gst_element_post_message (GST_ELEMENT_CAST (basesink),\n+            gst_message_new_latency (GST_OBJECT_CAST (basesink)));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesink.c","additions":37,"deletions":24,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -128,1 +128,1 @@\n- *     any state they set during #GstBaseSinkClass.unlock(), and be ready to\n+ *     any state they set during #GstBaseSinkClass::unlock, and be ready to\n@@ -131,1 +131,1 @@\n- *     #GstBaseSinkClass.render() is called again.\n+ *     #GstBaseSinkClass::render is called again.\n@@ -169,1 +169,7 @@\n-  \/* get the start and end times for syncing on this buffer *\/\n+  \/**\n+   * GstBaseSink::get_times:\n+   * @start: (out): the start #GstClockTime\n+   * @end: (out): the end #GstClockTime\n+   *\n+   * Get the start and end times for syncing on this buffer.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesink.h","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- *   * #GstBaseSrcClass.is_seekable() returns %TRUE.\n+ *   * #GstBaseSrcClass::is_seekable returns %TRUE.\n@@ -52,2 +52,2 @@\n- * * #GstBaseSrcClass.is_seekable() returns %TRUE.\n- * * #GstBaseSrcClass.query() can convert all supported seek formats to the\n+ * * #GstBaseSrcClass::is_seekable returns %TRUE.\n+ * * #GstBaseSrcClass::query can convert all supported seek formats to the\n@@ -55,1 +55,1 @@\n- * * #GstBaseSrcClass.do_seek() is implemented, performs the seek and returns\n+ * * #GstBaseSrcClass::do_seek is implemented, performs the seek and returns\n@@ -59,1 +59,1 @@\n- * offset and length in the #GstBaseSrcClass.create() method should be ignored.\n+ * offset and length in the #GstBaseSrcClass::create method should be ignored.\n@@ -63,1 +63,1 @@\n- * to the #GstBaseSrcClass.create() function.\n+ * to the #GstBaseSrcClass::create function.\n@@ -72,1 +72,1 @@\n- * #GstBaseSrcClass.create() method will not be called in PAUSED but only in\n+ * #GstBaseSrcClass::create method will not be called in PAUSED but only in\n@@ -84,1 +84,1 @@\n- * #GstBaseSrcClass.create() function was interrupted by a state change to\n+ * #GstBaseSrcClass::create function was interrupted by a state change to\n@@ -87,3 +87,3 @@\n- * The #GstBaseSrcClass.get_times() method can be used to implement pseudo-live\n- * sources. It only makes sense to implement the #GstBaseSrcClass.get_times()\n- * function if the source is a live source. The #GstBaseSrcClass.get_times()\n+ * The #GstBaseSrcClass::get_times method can be used to implement pseudo-live\n+ * sources. It only makes sense to implement the #GstBaseSrcClass::get_times\n+ * function if the source is a live source. The #GstBaseSrcClass::get_times\n@@ -112,1 +112,1 @@\n- *   gst_element_class_add_static_pad_template (gstelement_class, &amp;srctemplate);\n+ *   gst_element_class_add_static_pad_template (gstelement_class, &srctemplate);\n@@ -241,2 +241,2 @@\n-  volatile gint dynamic_size;   \/* atomic *\/\n-  volatile gint automatic_eos;  \/* atomic *\/\n+  gint dynamic_size;            \/* atomic *\/\n+  gint automatic_eos;           \/* atomic *\/\n@@ -250,1 +250,1 @@\n-  volatile gint have_events;    \/* OBJECT_LOCK *\/\n+  gint have_events;             \/* OBJECT_LOCK *\/\n@@ -280,1 +280,1 @@\n-  static volatile gsize base_src_type = 0;\n+  static gsize base_src_type = 0;\n@@ -445,1 +445,1 @@\n-  basesrc->priv->automatic_eos = TRUE;\n+  g_atomic_int_set (&basesrc->priv->automatic_eos, TRUE);\n@@ -536,1 +536,1 @@\n- * If the #GstBaseSrcClass.create() method performs its own synchronisation\n+ * If the #GstBaseSrcClass::create method performs its own synchronisation\n@@ -617,1 +617,1 @@\n- * operate in pull mode if the #GstBaseSrcClass.is_seekable() returns %TRUE.\n+ * operate in pull mode if the #GstBaseSrcClass::is_seekable returns %TRUE.\n@@ -662,1 +662,1 @@\n- * EOS will be pushed only when the #GstBaseSrcClass.create() implementation\n+ * EOS will be pushed only when the #GstBaseSrcClass::create implementation\n@@ -947,1 +947,1 @@\n-  GST_DEBUG_OBJECT (src, \"Starting new segment %\" GST_PTR_FORMAT, segment);\n+  GST_DEBUG_OBJECT (src, \"Starting new segment %\" GST_SEGMENT_FORMAT, segment);\n@@ -3465,1 +3465,1 @@\n- * if #GstBaseSrcClass.negotiate() fails.\n+ * if #GstBaseSrcClass::negotiate fails.\n@@ -3467,2 +3467,2 @@\n- * Do not call this in the #GstBaseSrcClass.fill() vmethod. Call this in\n- * #GstBaseSrcClass.create() or in #GstBaseSrcClass.alloc(), _before_ any\n+ * Do not call this in the #GstBaseSrcClass::fill vmethod. Call this in\n+ * #GstBaseSrcClass::create or in #GstBaseSrcClass::alloc, _before_ any\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesrc.c","additions":24,"deletions":24,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n- *   #GstBaseSrcClass.do_seek() vmethod for executing a seek\n+ *   #GstBaseSrcClass::do_seek vmethod for executing a seek\n@@ -147,2 +147,2 @@\n- *    future #GstBaseSrcClass.create() function call should also return\n- *    GST_FLOW_FLUSHING until the #GstBaseSrcClass.unlock_stop() function has\n+ *    future #GstBaseSrcClass::create function call should also return\n+ *    GST_FLOW_FLUSHING until the #GstBaseSrcClass::unlock_stop function has\n@@ -151,1 +151,1 @@\n- *    state they set during #GstBaseSrcClass.unlock(), such as clearing command\n+ *    state they set during #GstBaseSrcClass::unlock, such as clearing command\n@@ -161,1 +161,1 @@\n- *   #GstBaseSrcClass.alloc() and then call #GstBaseSrcClass.fill().\n+ *   #GstBaseSrcClass::alloc and then call #GstBaseSrcClass::fill.\n@@ -209,2 +209,9 @@\n-  \/* get the total size of the resource in the format set by\n-   * gst_base_src_set_format() *\/\n+  \/**\n+   * GstBaseSrcClass::get_size:\n+   * @size: (out):\n+   *\n+   * Get the total size of the resource in the format set by\n+   * gst_base_src_set_format().\n+   *\n+   * Returns: %TRUE if the size is available and has been set.\n+   *\/\n@@ -237,1 +244,1 @@\n-   * @buf: (out):\n+   * @buf: (inout):\n@@ -240,1 +247,1 @@\n-   * implementation will call alloc and fill.\n+   * implementation will call alloc if no allocated @buf is provided and then call fill.\n@@ -244,2 +251,7 @@\n-  \/* ask the subclass to allocate an output buffer. The default implementation\n-   * will use the negotiated allocator. *\/\n+  \/**\n+   * GstBaseSrcClass::alloc:\n+   * @buf: (out):\n+   *\n+   * Ask the subclass to allocate an output buffer with @offset and @size, the default\n+   * implementation will use the negotiated allocator.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesrc.h","additions":23,"deletions":11,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -222,1 +222,1 @@\n-  static volatile gsize base_transform_type = 0;\n+  static gsize base_transform_type = 0;\n@@ -1455,5 +1455,5 @@\n- * Do not call this in the #GstBaseTransformClass.transform() or\n- * #GstBaseTransformClass.transform_ip() vmethod. Call this in\n- * #GstBaseTransformClass.submit_input_buffer(),\n- * #GstBaseTransformClass.prepare_output_buffer() or in\n- * #GstBaseTransformClass.generate_output() _before_ any output buffer is\n+ * Do not call this in the #GstBaseTransformClass::transform or\n+ * #GstBaseTransformClass::transform_ip vmethod. Call this in\n+ * #GstBaseTransformClass::submit_input_buffer,\n+ * #GstBaseTransformClass::prepare_output_buffer or in\n+ * #GstBaseTransformClass::generate_output _before_ any output buffer is\n@@ -1463,1 +1463,1 @@\n- * very beginning of the default #GstBaseTransformClass.submit_input_buffer()\n+ * very beginning of the default #GstBaseTransformClass::submit_input_buffer\n@@ -2699,0 +2699,1 @@\n+  g_return_if_fail (GST_CLOCK_TIME_IS_VALID (timestamp));\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasetransform.c","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -29,2 +29,2 @@\n-#define GST_TYPE_BASE_TRANSFORM      (gst_base_transform_get_type())\n-#define GST_BASE_TRANSFORM(obj)      (G_TYPE_CHECK_INSTANCE_CAST((obj),GST_TYPE_BASE_TRANSFORM,GstBaseTransform))\n+#define GST_TYPE_BASE_TRANSFORM            (gst_base_transform_get_type())\n+#define GST_BASE_TRANSFORM(obj)            (G_TYPE_CHECK_INSTANCE_CAST((obj),GST_TYPE_BASE_TRANSFORM,GstBaseTransform))\n@@ -33,1 +33,1 @@\n-#define GST_IS_BASE_TRANSFORM(obj)     (G_TYPE_CHECK_INSTANCE_TYPE((obj),GST_TYPE_BASE_TRANSFORM))\n+#define GST_IS_BASE_TRANSFORM(obj)         (G_TYPE_CHECK_INSTANCE_TYPE((obj),GST_TYPE_BASE_TRANSFORM))\n@@ -35,1 +35,1 @@\n-#define GST_BASE_TRANSFORM_CAST(obj)  ((GstBaseTransform *)(obj))\n+#define GST_BASE_TRANSFORM_CAST(obj)    ((GstBaseTransform *)(obj))\n@@ -42,1 +42,1 @@\n-#define GST_BASE_TRANSFORM_SINK_NAME  \"sink\"\n+#define GST_BASE_TRANSFORM_SINK_NAME    \"sink\"\n@@ -48,1 +48,1 @@\n-#define GST_BASE_TRANSFORM_SRC_NAME \"src\"\n+#define GST_BASE_TRANSFORM_SRC_NAME     \"src\"\n@@ -56,1 +56,1 @@\n-#define GST_BASE_TRANSFORM_SRC_PAD(obj)   (GST_BASE_TRANSFORM_CAST (obj)->srcpad)\n+#define GST_BASE_TRANSFORM_SRC_PAD(obj)         (GST_BASE_TRANSFORM_CAST (obj)->srcpad)\n@@ -64,1 +64,1 @@\n-#define GST_BASE_TRANSFORM_SINK_PAD(obj)  (GST_BASE_TRANSFORM_CAST (obj)->sinkpad)\n+#define GST_BASE_TRANSFORM_SINK_PAD(obj)        (GST_BASE_TRANSFORM_CAST (obj)->sinkpad)\n@@ -84,1 +84,1 @@\n-  GstElement   element;\n+  GstElement     element;\n@@ -88,2 +88,2 @@\n-  GstPad  *sinkpad;\n-  GstPad  *srcpad;\n+  GstPad        *sinkpad;\n+  GstPad        *srcpad;\n@@ -226,1 +226,1 @@\n-  GstCaps*  (*transform_caps) (GstBaseTransform *trans,\n+  GstCaps*      (*transform_caps) (GstBaseTransform *trans,\n@@ -229,1 +229,5 @@\n-  GstCaps*  (*fixate_caps)    (GstBaseTransform *trans,\n+  \/**\n+   * GstBaseTransformClass::fixate_caps:\n+   * @othercaps: (transfer full):\n+   *\/\n+  GstCaps*      (*fixate_caps)    (GstBaseTransform *trans,\n@@ -269,0 +273,4 @@\n+  \/**\n+   * GstBaseTransformClass::sink_event:\n+   * @event: (transfer full):\n+   *\/\n@@ -270,0 +278,4 @@\n+  \/**\n+   * GstBaseTransformClass::src_event:\n+   * @event: (transfer full):\n+   *\/\n@@ -308,2 +320,2 @@\n-void    gst_base_transform_set_passthrough  (GstBaseTransform *trans,\n-                                               gboolean passthrough);\n+void            gst_base_transform_set_passthrough  (GstBaseTransform *trans,\n+                                                     gboolean passthrough);\n@@ -311,1 +323,1 @@\n-gboolean  gst_base_transform_is_passthrough   (GstBaseTransform *trans);\n+gboolean        gst_base_transform_is_passthrough   (GstBaseTransform *trans);\n@@ -314,2 +326,2 @@\n-void    gst_base_transform_set_in_place     (GstBaseTransform *trans,\n-                                               gboolean in_place);\n+void            gst_base_transform_set_in_place     (GstBaseTransform *trans,\n+                                                     gboolean in_place);\n@@ -317,1 +329,1 @@\n-gboolean  gst_base_transform_is_in_place      (GstBaseTransform *trans);\n+gboolean        gst_base_transform_is_in_place      (GstBaseTransform *trans);\n@@ -320,4 +332,4 @@\n-void    gst_base_transform_update_qos       (GstBaseTransform *trans,\n-                 gdouble proportion,\n-                 GstClockTimeDiff diff,\n-                 GstClockTime timestamp);\n+void            gst_base_transform_update_qos       (GstBaseTransform *trans,\n+                                                     gdouble proportion,\n+                                                     GstClockTimeDiff diff,\n+                                                     GstClockTime timestamp);\n@@ -325,2 +337,2 @@\n-void    gst_base_transform_set_qos_enabled  (GstBaseTransform *trans,\n-                                         gboolean enabled);\n+void            gst_base_transform_set_qos_enabled  (GstBaseTransform *trans,\n+                                                     gboolean enabled);\n@@ -328,1 +340,1 @@\n-gboolean  gst_base_transform_is_qos_enabled   (GstBaseTransform *trans);\n+gboolean        gst_base_transform_is_qos_enabled   (GstBaseTransform *trans);\n@@ -344,1 +356,1 @@\n-void    gst_base_transform_reconfigure_sink (GstBaseTransform *trans);\n+void            gst_base_transform_reconfigure_sink (GstBaseTransform *trans);\n@@ -347,1 +359,1 @@\n-void    gst_base_transform_reconfigure_src  (GstBaseTransform *trans);\n+void            gst_base_transform_reconfigure_src  (GstBaseTransform *trans);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasetransform.h","additions":40,"deletions":28,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"gst\/glib-compat-private.h\"\n@@ -1225,1 +1226,1 @@\n-  *str = g_memdup (reader->data + reader->byte, size); \\\n+  *str = g_memdup2 (reader->data + reader->byte, size); \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbytereader.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,0 +27,3 @@\n+#ifdef GSTREAMER_LITE\n+#include <string.h>\n+#endif \/\/ GSTREAMER_LITE\n@@ -365,1 +368,4 @@\n-  return (guint8 *) g_memdup (data, size);\n+  guint8 *dup_data = (guint8 *) g_malloc (size);\n+\n+  memcpy (dup_data, data, size);\n+  return dup_data;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbytereader.h","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,0 +28,2 @@\n+#include \"gst\/glib-compat-private.h\"\n+\n@@ -239,1 +241,1 @@\n-    data = g_memdup (data, writer->parent.size);\n+    data = g_memdup2 (data, writer->parent.size);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbytewriter.c","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-  volatile gint ref_count;\n+  gint ref_count;\n@@ -102,1 +102,1 @@\n-  combiner->ref_count = 1;\n+  g_atomic_int_set (&combiner->ref_count, 1);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstflowcombiner.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,0 +64,1 @@\n+#include \"gst\/glib-compat-private.h\"\n@@ -801,1 +802,1 @@\n-  entry->data.assoc.assocs = g_memdup (list, sizeof (GstIndexAssociation) * n);\n+  entry->data.assoc.assocs = g_memdup2 (list, sizeof (GstIndexAssociation) * n);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstindex.c","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -73,2 +73,7 @@\n-  \/* ask the subclass to create a buffer, the default implementation\n-   * uses alloc and fill *\/\n+  \/**\n+   * GstPushSrcClass::create:\n+   * @buf: (inout):\n+   *\n+   * Ask the subclass to create a buffer, the default implementation will call alloc if\n+   * no allocated @buf is provided and then call fill.\n+   *\/\n@@ -76,1 +81,6 @@\n-  \/* allocate memory for a buffer *\/\n+  \/**\n+   * GstPushSrcClass::alloc:\n+   * @buf: (out):\n+   *\n+   * Allocate memory for a buffer.\n+   *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstpushsrc.h","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-  static volatile gsize type_id = 0;\n+  static gsize type_id = 0;\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/controller\/gsttimedvaluecontrolsource.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,60 @@\n+\/*\n+ * Copyright (C) 2020 Huawei Technologies Co., Ltd.\n+ *   @Author: Stéphane Cerveau <scerveau@collabora.com>\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the Free\n+ * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.\n+ *\/\n+\n+#ifndef __GST_CORE_ELEMENTS_ELEMENTS_H__\n+#define __GST_CORE_ELEMENTS_ELEMENTS_H__\n+\n+#include <gst\/gst.h>\n+\n+G_BEGIN_DECLS\n+\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (capsfilter);\n+GST_ELEMENT_REGISTER_DECLARE (clocksync);\n+GST_ELEMENT_REGISTER_DECLARE (concat);\n+GST_ELEMENT_REGISTER_DECLARE (dataurisrc);\n+GST_ELEMENT_REGISTER_DECLARE (downloadbuffer);\n+GST_ELEMENT_REGISTER_DECLARE (fakesink);\n+GST_ELEMENT_REGISTER_DECLARE (fakesrc);\n+#if defined(HAVE_SYS_SOCKET_H) || defined(_MSC_VER)\n+GST_ELEMENT_REGISTER_DECLARE (fdsrc);\n+GST_ELEMENT_REGISTER_DECLARE (fdsink);\n+#endif\n+GST_ELEMENT_REGISTER_DECLARE (filesink);\n+GST_ELEMENT_REGISTER_DECLARE (filesrc);\n+GST_ELEMENT_REGISTER_DECLARE (funnel);\n+GST_ELEMENT_REGISTER_DECLARE (identity);\n+GST_ELEMENT_REGISTER_DECLARE (input_selector);\n+GST_ELEMENT_REGISTER_DECLARE (multiqueue);\n+GST_ELEMENT_REGISTER_DECLARE (output_selector);\n+#endif \/\/ GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (queue);\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (queue2);\n+GST_ELEMENT_REGISTER_DECLARE (streamiddemux);\n+GST_ELEMENT_REGISTER_DECLARE (tee);\n+#endif \/\/ GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (typefind);\n+#ifndef GSTREAMER_LITE\n+GST_ELEMENT_REGISTER_DECLARE (valve);\n+#endif \/\/ GSTREAMER_LITE\n+\n+G_END_DECLS\n+\n+#endif \/* __GST_CORE_ELEMENTS_ELEMENTS_H__ *\/\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstcoreelementselements.h","additions":60,"deletions":0,"binary":false,"changes":60,"status":"added"},{"patch":"@@ -0,0 +1,85 @@\n+\/* GStreamer\n+ * Copyright (C) 1999,2000 Erik Walthinsen <omega@cse.ogi.edu>\n+ *                    2000 Wim Taymans <wtay@chello.be>\n+ *\n+ * gstelementsplugin.c:\n+ *\n+ * This library is free software; you can redistribute it and\/or\n+ * modify it under the terms of the GNU Library General Public\n+ * License as published by the Free Software Foundation; either\n+ * version 2 of the License, or (at your option) any later version.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Library General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Library General Public\n+ * License along with this library; if not, write to the\n+ * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n+ * Boston, MA 02110-1301, USA.\n+ *\/\n+\/**\n+ * plugin-coreelements:\n+ *\n+ * GStreamer core elements\n+ *\/\n+\n+#ifdef HAVE_CONFIG_H\n+#  include \"config.h\"\n+#endif\n+\n+#include <gst\/gst.h>\n+\n+#include \"gstcoreelementselements.h\"\n+\n+\n+#ifdef GSTREAMER_LITE\n+gboolean\n+plugin_init_elements (GstPlugin * plugin)\n+#else \/\/ GSTREAMER_LITE\n+static gboolean\n+plugin_init (GstPlugin * plugin)\n+#endif \/\/ GSTREAMER_LITE\n+{\n+  gboolean ret = FALSE;\n+\n+#ifndef GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (capsfilter, plugin);\n+  ret |= GST_ELEMENT_REGISTER (clocksync, plugin);\n+  ret |= GST_ELEMENT_REGISTER (concat, plugin);\n+  ret |= GST_ELEMENT_REGISTER (dataurisrc, plugin);\n+  ret |= GST_ELEMENT_REGISTER (downloadbuffer, plugin);\n+  ret |= GST_ELEMENT_REGISTER (fakesrc, plugin);\n+  ret |= GST_ELEMENT_REGISTER (fakesink, plugin);\n+#if defined(HAVE_SYS_SOCKET_H) || defined(_MSC_VER)\n+  ret |= GST_ELEMENT_REGISTER (fdsrc, plugin);\n+  ret |= GST_ELEMENT_REGISTER (fdsink, plugin);\n+#endif\n+  ret |= GST_ELEMENT_REGISTER (filesrc, plugin);\n+  ret |= GST_ELEMENT_REGISTER (funnel, plugin);\n+  ret |= GST_ELEMENT_REGISTER (identity, plugin);\n+  ret |= GST_ELEMENT_REGISTER (input_selector, plugin);\n+  ret |= GST_ELEMENT_REGISTER (output_selector, plugin);\n+#endif \/\/ GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (queue, plugin);\n+#ifndef GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (queue2, plugin);\n+  ret |= GST_ELEMENT_REGISTER (filesink, plugin);\n+  ret |= GST_ELEMENT_REGISTER (tee, plugin);\n+#endif \/\/ GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (typefind, plugin);\n+#ifndef GSTREAMER_LITE\n+  ret |= GST_ELEMENT_REGISTER (multiqueue, plugin);\n+  ret |= GST_ELEMENT_REGISTER (valve, plugin);\n+  ret |= GST_ELEMENT_REGISTER (streamiddemux, plugin);\n+#endif \/\/ GSTREAMER_LITE\n+\n+  return ret;\n+}\n+\n+#ifndef GSTREAMER_LITE\n+GST_PLUGIN_DEFINE (GST_VERSION_MAJOR, GST_VERSION_MINOR, coreelements,\n+    \"GStreamer core elements\", plugin_init, VERSION, GST_LICENSE,\n+    GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN);\n+#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstcoreelementsplugin.c","additions":85,"deletions":0,"binary":false,"changes":85,"status":"added"},{"patch":"@@ -1,154 +0,0 @@\n-\/* GStreamer\n- * Copyright (C) 1999,2000 Erik Walthinsen <omega@cse.ogi.edu>\n- *                    2000 Wim Taymans <wtay@chello.be>\n- *\n- * gstelements.c:\n- *\n- * This library is free software; you can redistribute it and\/or\n- * modify it under the terms of the GNU Library General Public\n- * License as published by the Free Software Foundation; either\n- * version 2 of the License, or (at your option) any later version.\n- *\n- * This library is distributed in the hope that it will be useful,\n- * but WITHOUT ANY WARRANTY; without even the implied warranty of\n- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n- * Library General Public License for more details.\n- *\n- * You should have received a copy of the GNU Library General Public\n- * License along with this library; if not, write to the\n- * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,\n- * Boston, MA 02110-1301, USA.\n- *\/\n-\/**\n- * plugin-coreelements:\n- *\n- * GStreamer core elements\n- *\/\n-\n-#ifdef HAVE_CONFIG_H\n-#  include \"config.h\"\n-#endif\n-\n-#include <gst\/gst.h>\n-\n-#ifdef GSTREAMER_LITE\n-#include \"gstplugins-lite.h\"\n-#include \"gstqueue.h\"\n-#include \"gsttypefindelement.h\"\n-#else \/\/ GSTREAMER_LITE\n-#include \"gstcapsfilter.h\"\n-#include \"gstclocksync.h\"\n-#include \"gstconcat.h\"\n-#include \"gstdataurisrc.h\"\n-#include \"gstdownloadbuffer.h\"\n-#include \"gstfakesink.h\"\n-#include \"gstfakesrc.h\"\n-#include \"gstfdsrc.h\"\n-#include \"gstfdsink.h\"\n-#include \"gstfilesink.h\"\n-#include \"gstfilesrc.h\"\n-#include \"gstfunnel.h\"\n-#include \"gstidentity.h\"\n-#include \"gstinputselector.h\"\n-#include \"gstoutputselector.h\"\n-#include \"gstmultiqueue.h\"\n-#include \"gstqueue.h\"\n-#include \"gstqueue2.h\"\n-#include \"gsttee.h\"\n-#include \"gsttypefindelement.h\"\n-#include \"gstvalve.h\"\n-#include \"gststreamiddemux.h\"\n-#endif \/\/ GSTREAMER_LITE\n-\n-\n-#ifdef GSTREAMER_LITE\n-gboolean\n-plugin_init_elements (GstPlugin * plugin)\n-#else \/\/ GSTREAMER_LITE\n-static gboolean\n-plugin_init (GstPlugin * plugin)\n-#endif \/\/ GSTREAMER_LITE\n-{\n-#ifndef GSTREAMER_LITE\n-  if (!gst_element_register (plugin, \"capsfilter\", GST_RANK_NONE,\n-          gst_capsfilter_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"clocksync\", GST_RANK_NONE,\n-          gst_clock_sync_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"concat\", GST_RANK_NONE,\n-          gst_concat_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"dataurisrc\", GST_RANK_PRIMARY,\n-          gst_data_uri_src_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"downloadbuffer\", GST_RANK_NONE,\n-          gst_download_buffer_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"fakesrc\", GST_RANK_NONE,\n-          gst_fake_src_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"fakesink\", GST_RANK_NONE,\n-          gst_fake_sink_get_type ()))\n-    return FALSE;\n-#if defined(HAVE_SYS_SOCKET_H) || defined(_MSC_VER)\n-  if (!gst_element_register (plugin, \"fdsrc\", GST_RANK_NONE,\n-          gst_fd_src_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"fdsink\", GST_RANK_NONE,\n-          gst_fd_sink_get_type ()))\n-    return FALSE;\n-#endif\n-  if (!gst_element_register (plugin, \"filesrc\", GST_RANK_PRIMARY,\n-          gst_file_src_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"funnel\", GST_RANK_NONE,\n-          gst_funnel_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"identity\", GST_RANK_NONE,\n-          gst_identity_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"input-selector\", GST_RANK_NONE,\n-          gst_input_selector_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"output-selector\", GST_RANK_NONE,\n-          gst_output_selector_get_type ()))\n-    return FALSE;\n-#endif \/\/ GSTREAMER_LITE\n-  if (!gst_element_register (plugin, \"queue\", GST_RANK_NONE,\n-          gst_queue_get_type ()))\n-    return FALSE;\n-#ifndef GSTREAMER_LITE\n-  if (!gst_element_register (plugin, \"queue2\", GST_RANK_NONE,\n-          gst_queue2_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"filesink\", GST_RANK_PRIMARY,\n-          gst_file_sink_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"tee\", GST_RANK_NONE, gst_tee_get_type ()))\n-    return FALSE;\n-#endif \/\/ GSTREAMER_LITE\n-  if (!gst_element_register (plugin, \"typefind\", GST_RANK_NONE,\n-          gst_type_find_element_get_type ()))\n-    return FALSE;\n-#ifndef GSTREAMER_LITE\n-  if (!gst_element_register (plugin, \"multiqueue\", GST_RANK_NONE,\n-          gst_multi_queue_get_type ()))\n-    return FALSE;\n-  if (!gst_element_register (plugin, \"valve\", GST_RANK_NONE,\n-          gst_valve_get_type ()))\n-    return FALSE;\n-\n-  if (!gst_element_register (plugin, \"streamiddemux\", GST_RANK_PRIMARY,\n-          gst_streamid_demux_get_type ()))\n-    return FALSE;\n-#endif \/\/ GSTREAMER_LITE\n-\n-  return TRUE;\n-}\n-\n-#ifndef GSTREAMER_LITE\n-GST_PLUGIN_DEFINE (GST_VERSION_MAJOR, GST_VERSION_MINOR, coreelements,\n-    \"GStreamer core elements\", plugin_init, VERSION, GST_LICENSE,\n-    GST_PACKAGE_NAME, GST_PACKAGE_ORIGIN);\n-#endif \/\/ GSTREAMER_LITE\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstelements.c","additions":0,"deletions":154,"binary":false,"changes":154,"status":"deleted"},{"patch":"@@ -63,0 +63,1 @@\n+#include \"gstcoreelementselements.h\"\n@@ -190,0 +191,1 @@\n+GST_ELEMENT_REGISTER_DEFINE (queue, \"queue\", GST_RANK_NONE, GST_TYPE_QUEUE);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gstqueue.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -76,0 +76,1 @@\n+#include \"gstcoreelementselements.h\"\n@@ -132,0 +133,2 @@\n+GST_ELEMENT_REGISTER_DEFINE (typefind, \"typefind\", GST_RANK_NONE,\n+    GST_TYPE_TYPE_FIND_ELEMENT);\n@@ -800,3 +803,2 @@\n-  gchar *uri, *result;\n-  size_t len;\n-  gint find;\n+  gchar *uri, *result, *path, *base_path, *find;\n+  GstUri *gst_uri;\n@@ -816,3 +818,3 @@\n-  \/* find the extension on the uri, this is everything after a '.' *\/\n-  len = strlen (uri);\n-  find = len - 1;\n+  gst_uri = gst_uri_from_string (uri);\n+  if (gst_uri == NULL)\n+    goto invalid_uri;\n@@ -820,6 +822,13 @@\n-  while (find >= 0) {\n-    if (uri[find] == '.')\n-      break;\n-    find--;\n-  }\n-  if (find < 0)\n+  path = gst_uri_get_path (gst_uri);\n+  gst_uri_unref (gst_uri);\n+\n+  if (path == NULL)\n+    goto invalid_uri;\n+\n+  base_path = g_path_get_basename (path);\n+  g_free (path);\n+\n+  \/* find the extension on the path, this is everything after a '.' *\/\n+  find = strrchr (base_path, '.');\n+\n+  if (find == NULL)\n@@ -828,1 +837,1 @@\n-  result = g_strdup (&uri[find + 1]);\n+  result = g_strdup (find + 1);\n@@ -832,0 +841,1 @@\n+  g_free (base_path);\n@@ -849,0 +859,7 @@\n+invalid_uri:\n+  {\n+    GST_INFO_OBJECT (typefind, \"failed to extract path from uri %s\", uri);\n+    g_free (uri);\n+    gst_query_unref (query);\n+    return NULL;\n+  }\n@@ -852,1 +869,1 @@\n-    gst_query_unref (query);\n+    g_free (base_path);\n@@ -854,0 +871,1 @@\n+    gst_query_unref (query);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/plugins\/elements\/gsttypefindelement.c","additions":32,"deletions":14,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-#undef GST_FUNCTION\n+#define GST_FUNCTION __PRETTY_FUNCTION__\n@@ -473,1 +473,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.4\"\n+#define PACKAGE_STRING \"GStreamer 1.20.1\"\n@@ -482,1 +482,1 @@\n-#define PACKAGE_VERSION \"1.18.4\"\n+#define PACKAGE_VERSION \"1.20.1\"\n@@ -522,1 +522,1 @@\n-#define VERSION \"1.18.4\"\n+#define VERSION \"1.20.1\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/linux\/common\/config.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -477,1 +477,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.4\"\n+#define PACKAGE_STRING \"GStreamer 1.20.1\"\n@@ -486,1 +486,1 @@\n-#define PACKAGE_VERSION \"1.18.4\"\n+#define PACKAGE_VERSION \"1.20.1\"\n@@ -526,1 +526,1 @@\n-#define VERSION \"1.18.4\"\n+#define VERSION \"1.20.1\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/osx\/common\/x86_64\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-#undef GST_FUNCTION\n+#define GST_FUNCTION __FUNCTION__\n@@ -478,1 +478,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.4\"\n+#define PACKAGE_STRING \"GStreamer 1.20.1\"\n@@ -487,1 +487,1 @@\n-#define PACKAGE_VERSION \"1.18.4\"\n+#define PACKAGE_VERSION \"1.20.1\"\n@@ -527,1 +527,1 @@\n-#define VERSION \"1.18.4\"\n+#define VERSION \"1.20.1\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/win32\/common\/config.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -33,0 +33,2 @@\n+         -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_48 \\\n+         -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_48 \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/linux\/avplugin\/Makefile","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -24,0 +24,1 @@\n+         -Werror=deprecated-declarations \\\n@@ -34,0 +35,2 @@\n+         -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_48 \\\n+         -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_48 \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/linux\/fxplugins\/Makefile","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+        -Werror=deprecated-declarations \\\n@@ -55,0 +56,2 @@\n+        -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_48 \\\n+        -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_48 \\\n@@ -235,0 +238,1 @@\n+          gst-plugins-bad\/gst\/aiff\/gstaiffelement.c \\\n@@ -236,0 +240,1 @@\n+          gst-plugins-base\/gst\/app\/gstappsink.c \\\n@@ -237,0 +242,1 @@\n+          gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsplugin.c \\\n@@ -241,0 +247,1 @@\n+          gst-plugins-good\/gst\/equalizer\/gstiirequalizerplugin.c \\\n@@ -242,0 +249,2 @@\n+          gst-plugins-good\/gst\/isomp4\/gstisomp4element.c \\\n+          gst-plugins-good\/gst\/isomp4\/qtdemux-webvtt.c \\\n@@ -251,1 +260,1 @@\n-          gstreamer\/plugins\/elements\/gstelements.c \\\n+          gstreamer\/plugins\/elements\/gstcoreelementsplugin.c \\\n@@ -260,0 +269,1 @@\n+          gst-plugins-base\/ext\/alsa\/gstalsaelement.c \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/linux\/gstreamer-lite\/Makefile","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -240,0 +240,1 @@\n+            gst-plugins-bad\/gst\/aiff\/gstaiffelement.c \\\n@@ -241,0 +242,1 @@\n+            gst-plugins-base\/gst\/app\/gstappsink.c \\\n@@ -242,0 +244,1 @@\n+            gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsplugin.c \\\n@@ -246,0 +249,1 @@\n+            gst-plugins-good\/gst\/equalizer\/gstiirequalizerplugin.c \\\n@@ -247,0 +251,2 @@\n+            gst-plugins-good\/gst\/isomp4\/gstisomp4element.c \\\n+            gst-plugins-good\/gst\/isomp4\/qtdemux-webvtt.c \\\n@@ -256,1 +262,1 @@\n-            gstreamer\/plugins\/elements\/gstelements.c \\\n+            gstreamer\/plugins\/elements\/gstcoreelementsplugin.c \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/mac\/gstreamer-lite\/Makefile","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1,147 +1,147 @@\n-EXPORTS\r\n-_gst_buffer_type\t@1\tNONAME\r\n-_gst_event_type\t@2\tNONAME\r\n-_gst_fraction_type\t@3\tNONAME\r\n-gst_app_sink_get_type\t@4\tNONAME\r\n-gst_app_sink_pull_preroll\t@5\tNONAME\r\n-gst_app_sink_pull_sample\t@6\tNONAME\r\n-gst_bin_add\t@7\tNONAME\r\n-gst_bin_add_many\t@8\tNONAME\r\n-gst_bin_get_type\t@9\tNONAME\r\n-gst_bin_iterate_elements\t@10\tNONAME\r\n-gst_bin_new\t@11\tNONAME\r\n-gst_bin_remove\t@12\tNONAME\r\n-gst_buffer_fill\t@13\tNONAME\r\n-gst_buffer_get_size\t@14\tNONAME\r\n-gst_buffer_map\t@15\tNONAME\r\n-gst_buffer_new_allocate\t@16\tNONAME\r\n-gst_buffer_new_wrapped_full\t@17\tNONAME\r\n-gst_buffer_resize\t@18\tNONAME\r\n-gst_buffer_set_size\t@19\tNONAME\r\n-gst_buffer_unmap\t@20\tNONAME\r\n-gst_bus_create_watch\t@21\tNONAME\r\n-gst_bus_post\t@22\tNONAME\r\n-gst_caps_get_size\t@23\tNONAME\r\n-gst_caps_get_structure\t@24\tNONAME\r\n-gst_caps_new_simple\t@25\tNONAME\r\n-gst_caps_set_simple\t@26\tNONAME\r\n-gst_child_proxy_get_child_by_index\t@27\tNONAME\r\n-gst_child_proxy_get_type\t@28\tNONAME\r\n-gst_core_error_quark\t@29\tNONAME\r\n-gst_element_add_pad\t@30\tNONAME\r\n-gst_element_class_add_pad_template\t@31\tNONAME\r\n-gst_element_class_get_pad_template\t@32\tNONAME\r\n-gst_element_class_set_metadata\t@33\tNONAME\r\n-gst_element_class_set_static_metadata\t@34\tNONAME\r\n-gst_element_factory_make\t@35\tNONAME\r\n-gst_element_get_factory\t@36\tNONAME\r\n-gst_element_get_state\t@37\tNONAME\r\n-gst_element_get_static_pad\t@38\tNONAME\r\n-gst_element_get_type\t@39\tNONAME\r\n-gst_element_link\t@40\tNONAME\r\n-gst_element_link_many\t@41\tNONAME\r\n-gst_element_message_full\t@42\tNONAME\r\n-gst_element_no_more_pads\t@43\tNONAME\r\n-gst_element_post_message\t@44\tNONAME\r\n-gst_element_provide_clock\t@45\tNONAME\r\n-gst_element_query_duration\t@46\tNONAME\r\n-gst_element_query_position\t@47\tNONAME\r\n-gst_element_register\t@48\tNONAME\r\n-gst_element_remove_pad\t@49\tNONAME\r\n-gst_element_seek\t@50\tNONAME\r\n-gst_element_set_state\t@51\tNONAME\r\n-gst_element_sync_state_with_parent\t@52\tNONAME\r\n-gst_event_copy_segment\t@53\tNONAME\r\n-gst_event_get_seqnum\t@54\tNONAME\r\n-gst_event_new_caps\t@55\tNONAME\r\n-gst_event_new_custom\t@56\tNONAME\r\n-gst_event_new_eos\t@57\tNONAME\r\n-gst_event_new_flush_start\t@58\tNONAME\r\n-gst_event_new_flush_stop\t@59\tNONAME\r\n-gst_event_new_seek\t@60\tNONAME\r\n-gst_event_new_segment\t@61\tNONAME\r\n-gst_event_new_stream_start\t@62\tNONAME\r\n-gst_event_parse_caps\t@63\tNONAME\r\n-gst_event_parse_seek\t@64\tNONAME\r\n-gst_event_set_group_id\t@65\tNONAME\r\n-gst_event_set_seqnum\t@66\tNONAME\r\n-gst_ghost_pad_new\t@67\tNONAME\r\n-gst_init_check\t@68\tNONAME\r\n-gst_iterator_free\t@69\tNONAME\r\n-gst_iterator_next\t@70\tNONAME\r\n-gst_iterator_resync\t@71\tNONAME\r\n-gst_message_get_structure\t@72\tNONAME\r\n-gst_message_new_application\t@73\tNONAME\r\n-gst_message_new_error\t@74\tNONAME\r\n-gst_message_parse_error\t@75\tNONAME\r\n-gst_message_parse_info\t@76\tNONAME\r\n-gst_message_parse_state_changed\t@77\tNONAME\r\n-gst_message_parse_warning\t@78\tNONAME\r\n-gst_mini_object_copy\t@79\tNONAME\r\n-gst_mini_object_make_writable\t@80\tNONAME\r\n-gst_mini_object_ref\t@81\tNONAME\r\n-gst_mini_object_unref\t@82\tNONAME\r\n-gst_object_get_type\t@83\tNONAME\r\n-gst_object_ref\t@84\tNONAME\r\n-gst_object_unref\t@85\tNONAME\r\n-gst_pad_activate_mode\t@86\tNONAME\r\n-gst_pad_add_probe\t@87\tNONAME\r\n-gst_pad_create_stream_id\t@88\tNONAME\r\n-gst_pad_event_default\t@89\tNONAME\r\n-gst_pad_get_current_caps\t@90\tNONAME\r\n-gst_pad_is_active\t@91\tNONAME\r\n-gst_pad_is_linked\t@92\tNONAME\r\n-gst_pad_link\t@93\tNONAME\r\n-gst_pad_new_from_static_template\t@94\tNONAME\r\n-gst_pad_new_from_template\t@95\tNONAME\r\n-gst_pad_pause_task\t@96\tNONAME\r\n-gst_pad_peer_query_convert\t@97\tNONAME\r\n-gst_pad_peer_query_duration\t@98\tNONAME\r\n-gst_pad_push\t@99\tNONAME\r\n-gst_pad_push_event\t@100\tNONAME\r\n-gst_pad_query_default\t@101\tNONAME\r\n-gst_pad_remove_probe\t@102\tNONAME\r\n-gst_pad_set_activate_function_full\t@103\tNONAME\r\n-gst_pad_set_activatemode_function_full\t@104\tNONAME\r\n-gst_pad_set_active\t@105\tNONAME\r\n-gst_pad_set_chain_function_full\t@106\tNONAME\r\n-gst_pad_set_event_function_full\t@107\tNONAME\r\n-gst_pad_set_getrange_function_full\t@108\tNONAME\r\n-gst_pad_set_query_function_full\t@109\tNONAME\r\n-gst_pad_start_task\t@110\tNONAME\r\n-gst_pad_stop_task\t@111\tNONAME\r\n-gst_pad_use_fixed_caps\t@112\tNONAME\r\n-gst_pipeline_get_bus\t@113\tNONAME\r\n-gst_pipeline_get_type\t@114\tNONAME\r\n-gst_pipeline_new\t@115\tNONAME\r\n-gst_pipeline_set_clock\t@116\tNONAME\r\n-gst_query_add_scheduling_mode\t@117\tNONAME\r\n-gst_query_parse_duration\t@118\tNONAME\r\n-gst_query_parse_position\t@119\tNONAME\r\n-gst_query_parse_seeking\t@120\tNONAME\r\n-gst_query_set_duration\t@121\tNONAME\r\n-gst_query_set_position\t@122\tNONAME\r\n-gst_query_set_scheduling\t@123\tNONAME\r\n-gst_query_set_seeking\t@124\tNONAME\r\n-gst_resource_error_quark\t@125\tNONAME\r\n-gst_sample_get_buffer\t@126\tNONAME\r\n-gst_sample_get_caps\t@127\tNONAME\r\n-gst_sample_new\t@128\tNONAME\r\n-gst_segment_copy_into\t@129\tNONAME\r\n-gst_segment_init\t@130\tNONAME\r\n-gst_segtrap_set_enabled\t@131\tNONAME\r\n-gst_static_pad_template_get\t@132\tNONAME\r\n-gst_stream_error_quark\t@133\tNONAME\r\n-gst_structure_get_boolean\t@134\tNONAME\r\n-gst_structure_get_clock_time\t@135\tNONAME\r\n-gst_structure_get_fraction\t@136\tNONAME\r\n-gst_structure_get_int\t@137\tNONAME\r\n-gst_structure_get_name\t@138\tNONAME\r\n-gst_structure_get_string\t@139\tNONAME\r\n-gst_structure_get_value\t@140\tNONAME\r\n-gst_structure_has_name\t@141\tNONAME\r\n-gst_structure_new\t@142\tNONAME\r\n-gst_structure_new_empty\t@143\tNONAME\r\n-gst_structure_set\t@144\tNONAME\r\n-gst_util_group_id_next\t@145\tNONAME\r\n-gst_value_list_get_value\t@146\tNONAME\r\n+EXPORTS\n+_gst_buffer_type\t@1\tNONAME\n+_gst_event_type\t@2\tNONAME\n+_gst_fraction_type\t@3\tNONAME\n+gst_app_sink_get_type\t@4\tNONAME\n+gst_app_sink_pull_preroll\t@5\tNONAME\n+gst_app_sink_pull_sample\t@6\tNONAME\n+gst_bin_add\t@7\tNONAME\n+gst_bin_add_many\t@8\tNONAME\n+gst_bin_get_type\t@9\tNONAME\n+gst_bin_iterate_elements\t@10\tNONAME\n+gst_bin_new\t@11\tNONAME\n+gst_bin_remove\t@12\tNONAME\n+gst_buffer_fill\t@13\tNONAME\n+gst_buffer_get_size\t@14\tNONAME\n+gst_buffer_map\t@15\tNONAME\n+gst_buffer_new_allocate\t@16\tNONAME\n+gst_buffer_new_wrapped_full\t@17\tNONAME\n+gst_buffer_resize\t@18\tNONAME\n+gst_buffer_set_size\t@19\tNONAME\n+gst_buffer_unmap\t@20\tNONAME\n+gst_bus_create_watch\t@21\tNONAME\n+gst_bus_post\t@22\tNONAME\n+gst_caps_get_size\t@23\tNONAME\n+gst_caps_get_structure\t@24\tNONAME\n+gst_caps_new_simple\t@25\tNONAME\n+gst_caps_set_simple\t@26\tNONAME\n+gst_child_proxy_get_child_by_index\t@27\tNONAME\n+gst_child_proxy_get_type\t@28\tNONAME\n+gst_core_error_quark\t@29\tNONAME\n+gst_element_add_pad\t@30\tNONAME\n+gst_element_class_add_pad_template\t@31\tNONAME\n+gst_element_class_get_pad_template\t@32\tNONAME\n+gst_element_class_set_metadata\t@33\tNONAME\n+gst_element_class_set_static_metadata\t@34\tNONAME\n+gst_element_factory_make\t@35\tNONAME\n+gst_element_get_factory\t@36\tNONAME\n+gst_element_get_state\t@37\tNONAME\n+gst_element_get_static_pad\t@38\tNONAME\n+gst_element_get_type\t@39\tNONAME\n+gst_element_link\t@40\tNONAME\n+gst_element_link_many\t@41\tNONAME\n+gst_element_message_full\t@42\tNONAME\n+gst_element_no_more_pads\t@43\tNONAME\n+gst_element_post_message\t@44\tNONAME\n+gst_element_provide_clock\t@45\tNONAME\n+gst_element_query_duration\t@46\tNONAME\n+gst_element_query_position\t@47\tNONAME\n+gst_element_register\t@48\tNONAME\n+gst_element_remove_pad\t@49\tNONAME\n+gst_element_seek\t@50\tNONAME\n+gst_element_set_state\t@51\tNONAME\n+gst_element_sync_state_with_parent\t@52\tNONAME\n+gst_event_copy_segment\t@53\tNONAME\n+gst_event_get_seqnum\t@54\tNONAME\n+gst_event_new_caps\t@55\tNONAME\n+gst_event_new_custom\t@56\tNONAME\n+gst_event_new_eos\t@57\tNONAME\n+gst_event_new_flush_start\t@58\tNONAME\n+gst_event_new_flush_stop\t@59\tNONAME\n+gst_event_new_seek\t@60\tNONAME\n+gst_event_new_segment\t@61\tNONAME\n+gst_event_new_stream_start\t@62\tNONAME\n+gst_event_parse_caps\t@63\tNONAME\n+gst_event_parse_seek\t@64\tNONAME\n+gst_event_set_group_id\t@65\tNONAME\n+gst_event_set_seqnum\t@66\tNONAME\n+gst_ghost_pad_new\t@67\tNONAME\n+gst_init_check\t@68\tNONAME\n+gst_iterator_free\t@69\tNONAME\n+gst_iterator_next\t@70\tNONAME\n+gst_iterator_resync\t@71\tNONAME\n+gst_message_get_structure\t@72\tNONAME\n+gst_message_new_application\t@73\tNONAME\n+gst_message_new_error\t@74\tNONAME\n+gst_message_parse_error\t@75\tNONAME\n+gst_message_parse_info\t@76\tNONAME\n+gst_message_parse_state_changed\t@77\tNONAME\n+gst_message_parse_warning\t@78\tNONAME\n+gst_mini_object_copy\t@79\tNONAME\n+gst_mini_object_make_writable\t@80\tNONAME\n+gst_mini_object_ref\t@81\tNONAME\n+gst_mini_object_unref\t@82\tNONAME\n+gst_object_get_type\t@83\tNONAME\n+gst_object_ref\t@84\tNONAME\n+gst_object_unref\t@85\tNONAME\n+gst_pad_activate_mode\t@86\tNONAME\n+gst_pad_add_probe\t@87\tNONAME\n+gst_pad_create_stream_id\t@88\tNONAME\n+gst_pad_event_default\t@89\tNONAME\n+gst_pad_get_current_caps\t@90\tNONAME\n+gst_pad_is_active\t@91\tNONAME\n+gst_pad_is_linked\t@92\tNONAME\n+gst_pad_link\t@93\tNONAME\n+gst_pad_new_from_static_template\t@94\tNONAME\n+gst_pad_new_from_template\t@95\tNONAME\n+gst_pad_pause_task\t@96\tNONAME\n+gst_pad_peer_query_convert\t@97\tNONAME\n+gst_pad_peer_query_duration\t@98\tNONAME\n+gst_pad_push\t@99\tNONAME\n+gst_pad_push_event\t@100\tNONAME\n+gst_pad_query_default\t@101\tNONAME\n+gst_pad_remove_probe\t@102\tNONAME\n+gst_pad_set_activate_function_full\t@103\tNONAME\n+gst_pad_set_activatemode_function_full\t@104\tNONAME\n+gst_pad_set_active\t@105\tNONAME\n+gst_pad_set_chain_function_full\t@106\tNONAME\n+gst_pad_set_event_function_full\t@107\tNONAME\n+gst_pad_set_getrange_function_full\t@108\tNONAME\n+gst_pad_set_query_function_full\t@109\tNONAME\n+gst_pad_start_task\t@110\tNONAME\n+gst_pad_stop_task\t@111\tNONAME\n+gst_pad_use_fixed_caps\t@112\tNONAME\n+gst_pipeline_get_bus\t@113\tNONAME\n+gst_pipeline_get_type\t@114\tNONAME\n+gst_pipeline_new\t@115\tNONAME\n+gst_pipeline_set_clock\t@116\tNONAME\n+gst_query_add_scheduling_mode\t@117\tNONAME\n+gst_query_parse_duration\t@118\tNONAME\n+gst_query_parse_position\t@119\tNONAME\n+gst_query_parse_seeking\t@120\tNONAME\n+gst_query_set_duration\t@121\tNONAME\n+gst_query_set_position\t@122\tNONAME\n+gst_query_set_scheduling\t@123\tNONAME\n+gst_query_set_seeking\t@124\tNONAME\n+gst_resource_error_quark\t@125\tNONAME\n+gst_sample_get_buffer\t@126\tNONAME\n+gst_sample_get_caps\t@127\tNONAME\n+gst_sample_new\t@128\tNONAME\n+gst_segment_copy_into\t@129\tNONAME\n+gst_segment_init\t@130\tNONAME\n+gst_segtrap_set_enabled\t@131\tNONAME\n+gst_static_pad_template_get\t@132\tNONAME\n+gst_stream_error_quark\t@133\tNONAME\n+gst_structure_get_boolean\t@134\tNONAME\n+gst_structure_get_clock_time\t@135\tNONAME\n+gst_structure_get_fraction\t@136\tNONAME\n+gst_structure_get_int\t@137\tNONAME\n+gst_structure_get_name\t@138\tNONAME\n+gst_structure_get_string\t@139\tNONAME\n+gst_structure_get_value\t@140\tNONAME\n+gst_structure_has_name\t@141\tNONAME\n+gst_structure_new\t@142\tNONAME\n+gst_structure_new_empty\t@143\tNONAME\n+gst_structure_set\t@144\tNONAME\n+gst_util_group_id_next\t@145\tNONAME\n+gst_value_list_get_value\t@146\tNONAME\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/gstreamer-lite.def","additions":147,"deletions":147,"binary":false,"changes":294,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+            gst-plugins-bad\/gst\/aiff\/gstaiffelement.c \\\n@@ -31,0 +32,1 @@\n+            gst-plugins-base\/gst\/app\/gstappsink.c \\\n@@ -34,0 +36,1 @@\n+            gst-plugins-base\/gst\/typefind\/gsttypefindfunctionsplugin.c \\\n@@ -40,0 +43,1 @@\n+            gst-plugins-good\/gst\/equalizer\/gstiirequalizerplugin.c \\\n@@ -41,0 +45,2 @@\n+            gst-plugins-good\/gst\/isomp4\/gstisomp4element.c \\\n+            gst-plugins-good\/gst\/isomp4\/qtdemux-webvtt.c \\\n@@ -50,1 +56,1 @@\n-            gstreamer\/plugins\/elements\/gstelements.c \\\n+            gstreamer\/plugins\/elements\/gstcoreelementsplugin.c \\\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/projects\/win\/gstreamer-lite\/Makefile.gstplugins","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -98,1 +98,1 @@\n-    g_atomic_pointer_compare_and_exchange((gpointer*)&m_pHolder, (gpointer)old_holder, (gpointer)holder);\n+    g_atomic_pointer_set((gpointer*)&m_pHolder, (gpointer)holder);\n","filename":"modules\/javafx.media\/src\/main\/native\/jfxmedia\/platform\/gstreamer\/GstAudioSpectrum.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,25 @@\n+#\n+# Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n@@ -29,0 +54,3 @@\n+         -DGLIB_VERSION_MIN_REQUIRED=GLIB_VERSION_2_48 \\\n+         -DGLIB_VERSION_MAX_ALLOWED=GLIB_VERSION_2_48 \\\n+         -Werror=deprecated-declarations \\\n","filename":"modules\/javafx.media\/src\/main\/native\/jfxmedia\/projects\/linux\/Makefile","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -3,0 +3,25 @@\n+#\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n@@ -7,1 +32,1 @@\n-\tprocess_file($file);\n+    process_file($file);\n@@ -12,43 +37,43 @@\n-\tmy $infile = shift(@_);\n-\tmy %symbols = ();\n-\tmy $duplicates = 0;\n-\n-\tprint (\"Processing file $infile\\n\");\n-\topen(INFILE, $infile) or die $!;\n-\n-\twhile (my $str = <INFILE>)\n-\t{\n-\t\t$str =~ tr\/\\r\\n\/\/d;\n-\n-\t\tif ($str !~ \/^EXPORTS\/ && $str =~ \/(\\w+)\/)\n-\t\t{\n-\t\t\tif (exists( $symbols{$1}))\n-\t\t\t{\n-\t\t\t\t$duplicates++;\n-\t\t\t\t$symbols{$1}++;\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-\t\t\t\t$symbols{$1} = 1;\n-\t\t\t}\n-\t\t}\n-\t}\n-\tclose(INFILE);\n-\n-\tmy ($tmpfile) = $infile . \".tmp\";\n-\tprint(\"Found $duplicates duplicates.\\nSaving results to: $tmpfile\\n\");\n-\n-\tmy $ordinal = 1;\n-\topen(OUTFILE, \">$tmpfile\") or die $!;\n-\tprint OUTFILE \"EXPORTS\\r\\n\";\n-\tforeach $symbol (sort keys(%symbols))\n-\t{\n-\t\tprint OUTFILE \"${symbol}\\t\\@${ordinal}\\tNONAME\\r\\n\";\n-#\t\tprint OUTFILE \"${symbol}\\r\\n\";\n-\t\t$ordinal++;\n-\t}\n-\n-\tclose(OUTFILE);\n-\n-\tprint(\"Renaming $tmpfile to $infile\\n\\n\");\n-\trename($tmpfile, $infile);\n+    my $infile = shift(@_);\n+    my %symbols = ();\n+    my $duplicates = 0;\n+\n+    print (\"Processing file $infile\\n\");\n+    open(INFILE, $infile) or die $!;\n+\n+    while (my $str = <INFILE>)\n+    {\n+        $str =~ tr\/\\n\/\/d;\n+\n+        if ($str !~ \/^EXPORTS\/ && $str =~ \/(\\w+)\/)\n+        {\n+            if (exists( $symbols{$1}))\n+            {\n+                $duplicates++;\n+                $symbols{$1}++;\n+            }\n+            else\n+            {\n+                $symbols{$1} = 1;\n+            }\n+        }\n+    }\n+    close(INFILE);\n+\n+    my ($tmpfile) = $infile . \".tmp\";\n+    print(\"Found $duplicates duplicates.\\nSaving results to: $tmpfile\\n\");\n+\n+    my $ordinal = 1;\n+    open(OUTFILE, \">$tmpfile\") or die $!;\n+    print OUTFILE \"EXPORTS\\n\";\n+    foreach $symbol (sort keys(%symbols))\n+    {\n+        print OUTFILE \"${symbol}\\t\\@${ordinal}\\tNONAME\\n\";\n+#       print OUTFILE \"${symbol}\\n\";\n+        $ordinal++;\n+    }\n+\n+    close(OUTFILE);\n+\n+    print(\"Renaming $tmpfile to $infile\\n\\n\");\n+    rename($tmpfile, $infile);\n","filename":"modules\/javafx.media\/src\/tools\/native\/def-glib.pl","additions":69,"deletions":44,"binary":false,"changes":113,"status":"modified"},{"patch":"@@ -3,0 +3,25 @@\n+#\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n@@ -7,1 +32,0 @@\n-\n@@ -10,1 +34,1 @@\n-\tprocess_file($file);\n+    process_file($file);\n@@ -15,43 +39,43 @@\n-\tmy $infile = shift(@_);\n-\tmy %symbols = ();\n-\tmy $duplicates = 0;\n-\n-\tprint (\"Processing file $infile\\n\");\n-\topen(INFILE, $infile) or die $!;\n-\n-\twhile (my $str = <INFILE>)\n-\t{\n-\t\t$str =~ tr\/\\r\\n\/\/d;\n-\n-\t\tif ($str !~ \/^EXPORTS\/ && $str =~ \/(\\w+)\/)\n-\t\t{\n-\t\t\tif (exists( $symbols{$1}))\n-\t\t\t{\n-\t\t\t\t$duplicates++;\n-\t\t\t\t$symbols{$1}++;\n-\t\t\t}\n-\t\t\telse\n-\t\t\t{\n-\t\t\t\t$symbols{$1} = 1;\n-\t\t\t}\n-\t\t}\n-\t}\n-\tclose(INFILE);\n-\n-\tmy ($tmpfile) = $infile . \".tmp\";\n-\tprint(\"Found $duplicates duplicates.\\nSaving results to: $tmpfile\\n\");\n-\n-\tmy $ordinal = 1;\n-\topen(OUTFILE, \">$tmpfile\") or die $!;\n-\tprint OUTFILE \"EXPORTS\\r\\n\";\n-\tforeach $symbol (sort keys(%symbols))\n-\t{\n-\t\tprint OUTFILE \"${symbol}\\t\\@${ordinal}\\tNONAME\\r\\n\";\n-#\t\tprint OUTFILE \"${symbol}\\r\\n\";\n-\t\t$ordinal++;\n-\t}\n-\t\n-\tclose(OUTFILE);\n-\n-\tprint(\"Renaming $tmpfile to $infile\\n\\n\");\n-\trename($tmpfile, $infile);\n+    my $infile = shift(@_);\n+    my %symbols = ();\n+    my $duplicates = 0;\n+\n+    print (\"Processing file $infile\\n\");\n+    open(INFILE, $infile) or die $!;\n+\n+    while (my $str = <INFILE>)\n+    {\n+        $str =~ tr\/\\n\/\/d;\n+\n+        if ($str !~ \/^EXPORTS\/ && $str =~ \/(\\w+)\/)\n+        {\n+            if (exists( $symbols{$1}))\n+            {\n+                $duplicates++;\n+                $symbols{$1}++;\n+            }\n+            else\n+            {\n+                $symbols{$1} = 1;\n+            }\n+        }\n+    }\n+    close(INFILE);\n+\n+    my ($tmpfile) = $infile . \".tmp\";\n+    print(\"Found $duplicates duplicates.\\nSaving results to: $tmpfile\\n\");\n+\n+    my $ordinal = 1;\n+    open(OUTFILE, \">$tmpfile\") or die $!;\n+    print OUTFILE \"EXPORTS\\n\";\n+    foreach $symbol (sort keys(%symbols))\n+    {\n+        print OUTFILE \"${symbol}\\t\\@${ordinal}\\tNONAME\\n\";\n+#       print OUTFILE \"${symbol}\\n\";\n+        $ordinal++;\n+    }\n+\n+    close(OUTFILE);\n+\n+    print(\"Renaming $tmpfile to $infile\\n\\n\");\n+    rename($tmpfile, $infile);\n","filename":"modules\/javafx.media\/src\/tools\/native\/def-gstlite.pl","additions":69,"deletions":45,"binary":false,"changes":114,"status":"modified"}]}