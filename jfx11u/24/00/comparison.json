{"files":[{"patch":"@@ -140,0 +140,2 @@\n+            const jmethodID bytesInit = env->GetMethodID(jStringCls, \"<init>\", \"([B)V\");\n+            EXCEPTION_OCCURED(env);\n@@ -143,1 +145,8 @@\n-                jfilename = env->NewStringUTF(filename);\n+                int len = strlen(filename);\n+                jbyteArray bytes = env->NewByteArray(len);\n+                EXCEPTION_OCCURED(env);\n+                env->SetByteArrayRegion(bytes, 0, len, (jbyte *)filename);\n+                EXCEPTION_OCCURED(env);\n+                jfilename = (jstring) env->NewObject(jStringCls, bytesInit, bytes);\n+                EXCEPTION_OCCURED(env);\n+                env->DeleteLocalRef(bytes);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/GlassCommonDialogs.cpp","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -190,2 +190,5 @@\n-    LOG(\"   url: %s\", [[url path] UTF8String]);\n-    jstring path = (*env)->NewStringUTF(env, [[url path] UTF8String]);\n+#ifdef VERBOSE\n+    NSLog(@\"   url: %@\", [url path]);\n+#endif \/\/ VERBOSE\n+    NSData *data = [[url path] dataUsingEncoding:NSUTF16LittleEndianStringEncoding];\n+    jstring path = (*env)->NewString(env, (jchar *)[data bytes], data.length\/2);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassDialogs.m","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}