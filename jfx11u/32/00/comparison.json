{"files":[{"patch":"@@ -1,1 +1,1 @@\n-## GStreamer v1.18.3\n+## GStreamer v1.18.4\n@@ -6,1 +6,1 @@\n-You are receiving a copy of GStreamer, Version: 1.18.3 in either source or\n+You are receiving a copy of GStreamer, Version: 1.18.4 in either source or\n@@ -8,1 +8,1 @@\n-Oracle license do NOT apply to the GStreamer, Version: 1.18.3; it is\n+Oracle license do NOT apply to the GStreamer, Version: 1.18.4; it is\n","filename":"modules\/javafx.media\/src\/main\/legal\/gstreamer.md","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -455,63 +455,64 @@\n-g_utf8_validate\t@454\tNONAME\n-g_value_array_append\t@455\tNONAME\n-g_value_array_get_nth\t@456\tNONAME\n-g_value_array_get_type\t@457\tNONAME\n-g_value_array_new\t@458\tNONAME\n-g_value_copy\t@459\tNONAME\n-g_value_dup_boxed\t@460\tNONAME\n-g_value_dup_object\t@461\tNONAME\n-g_value_dup_string\t@462\tNONAME\n-g_value_get_boolean\t@463\tNONAME\n-g_value_get_boxed\t@464\tNONAME\n-g_value_get_double\t@465\tNONAME\n-g_value_get_enum\t@466\tNONAME\n-g_value_get_flags\t@467\tNONAME\n-g_value_get_float\t@468\tNONAME\n-g_value_get_gtype\t@469\tNONAME\n-g_value_get_int\t@470\tNONAME\n-g_value_get_int64\t@471\tNONAME\n-g_value_get_long\t@472\tNONAME\n-g_value_get_object\t@473\tNONAME\n-g_value_get_pointer\t@474\tNONAME\n-g_value_get_string\t@475\tNONAME\n-g_value_get_uchar\t@476\tNONAME\n-g_value_get_uint\t@477\tNONAME\n-g_value_get_uint64\t@478\tNONAME\n-g_value_get_ulong\t@479\tNONAME\n-g_value_init\t@480\tNONAME\n-g_value_peek_pointer\t@481\tNONAME\n-g_value_register_transform_func\t@482\tNONAME\n-g_value_reset\t@483\tNONAME\n-g_value_set_boolean\t@484\tNONAME\n-g_value_set_boxed\t@485\tNONAME\n-g_value_set_double\t@486\tNONAME\n-g_value_set_enum\t@487\tNONAME\n-g_value_set_flags\t@488\tNONAME\n-g_value_set_float\t@489\tNONAME\n-g_value_set_gtype\t@490\tNONAME\n-g_value_set_int\t@491\tNONAME\n-g_value_set_int64\t@492\tNONAME\n-g_value_set_long\t@493\tNONAME\n-g_value_set_object\t@494\tNONAME\n-g_value_set_pointer\t@495\tNONAME\n-g_value_set_static_boxed\t@496\tNONAME\n-g_value_set_static_string\t@497\tNONAME\n-g_value_set_string\t@498\tNONAME\n-g_value_set_uchar\t@499\tNONAME\n-g_value_set_uint\t@500\tNONAME\n-g_value_set_uint64\t@501\tNONAME\n-g_value_set_ulong\t@502\tNONAME\n-g_value_take_boxed\t@503\tNONAME\n-g_value_take_object\t@504\tNONAME\n-g_value_take_string\t@505\tNONAME\n-g_value_transform\t@506\tNONAME\n-g_value_type_compatible\t@507\tNONAME\n-g_value_unset\t@508\tNONAME\n-g_vasprintf\t@509\tNONAME\n-g_warn_message\t@510\tNONAME\n-g_weak_ref_clear\t@511\tNONAME\n-g_weak_ref_get\t@512\tNONAME\n-g_weak_ref_init\t@513\tNONAME\n-g_weak_ref_set\t@514\tNONAME\n-g_win32_error_message\t@515\tNONAME\n-g_win32_get_package_installation_directory_of_module\t@516\tNONAME\n+g_utf8_to_utf16\t@454\tNONAME\n+g_utf8_validate\t@455\tNONAME\n+g_value_array_append\t@456\tNONAME\n+g_value_array_get_nth\t@457\tNONAME\n+g_value_array_get_type\t@458\tNONAME\n+g_value_array_new\t@459\tNONAME\n+g_value_copy\t@460\tNONAME\n+g_value_dup_boxed\t@461\tNONAME\n+g_value_dup_object\t@462\tNONAME\n+g_value_dup_string\t@463\tNONAME\n+g_value_get_boolean\t@464\tNONAME\n+g_value_get_boxed\t@465\tNONAME\n+g_value_get_double\t@466\tNONAME\n+g_value_get_enum\t@467\tNONAME\n+g_value_get_flags\t@468\tNONAME\n+g_value_get_float\t@469\tNONAME\n+g_value_get_gtype\t@470\tNONAME\n+g_value_get_int\t@471\tNONAME\n+g_value_get_int64\t@472\tNONAME\n+g_value_get_long\t@473\tNONAME\n+g_value_get_object\t@474\tNONAME\n+g_value_get_pointer\t@475\tNONAME\n+g_value_get_string\t@476\tNONAME\n+g_value_get_uchar\t@477\tNONAME\n+g_value_get_uint\t@478\tNONAME\n+g_value_get_uint64\t@479\tNONAME\n+g_value_get_ulong\t@480\tNONAME\n+g_value_init\t@481\tNONAME\n+g_value_peek_pointer\t@482\tNONAME\n+g_value_register_transform_func\t@483\tNONAME\n+g_value_reset\t@484\tNONAME\n+g_value_set_boolean\t@485\tNONAME\n+g_value_set_boxed\t@486\tNONAME\n+g_value_set_double\t@487\tNONAME\n+g_value_set_enum\t@488\tNONAME\n+g_value_set_flags\t@489\tNONAME\n+g_value_set_float\t@490\tNONAME\n+g_value_set_gtype\t@491\tNONAME\n+g_value_set_int\t@492\tNONAME\n+g_value_set_int64\t@493\tNONAME\n+g_value_set_long\t@494\tNONAME\n+g_value_set_object\t@495\tNONAME\n+g_value_set_pointer\t@496\tNONAME\n+g_value_set_static_boxed\t@497\tNONAME\n+g_value_set_static_string\t@498\tNONAME\n+g_value_set_string\t@499\tNONAME\n+g_value_set_uchar\t@500\tNONAME\n+g_value_set_uint\t@501\tNONAME\n+g_value_set_uint64\t@502\tNONAME\n+g_value_set_ulong\t@503\tNONAME\n+g_value_take_boxed\t@504\tNONAME\n+g_value_take_object\t@505\tNONAME\n+g_value_take_string\t@506\tNONAME\n+g_value_transform\t@507\tNONAME\n+g_value_type_compatible\t@508\tNONAME\n+g_value_unset\t@509\tNONAME\n+g_vasprintf\t@510\tNONAME\n+g_warn_message\t@511\tNONAME\n+g_weak_ref_clear\t@512\tNONAME\n+g_weak_ref_get\t@513\tNONAME\n+g_weak_ref_init\t@514\tNONAME\n+g_weak_ref_set\t@515\tNONAME\n+g_win32_error_message\t@516\tNONAME\n+g_win32_get_package_installation_directory_of_module\t@517\tNONAME\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/3rd_party\/glib\/build\/win32\/vs100\/glib-lite.def","additions":64,"deletions":63,"binary":false,"changes":127,"status":"modified"},{"patch":"@@ -293,0 +293,4 @@\n+  GST_DEBUG (\"Truncating %\" G_GSIZE_FORMAT \" to %\" G_GSIZE_FORMAT\n+      \" (trim start %\" G_GSIZE_FORMAT \", end %\" G_GSIZE_FORMAT \")\",\n+      orig_samples, samples, trim, orig_samples - trim - samples);\n+\n@@ -304,1 +308,1 @@\n-    meta = gst_buffer_get_audio_meta (buffer);\n+    meta = gst_buffer_get_audio_meta (ret);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/audio\/audio.c","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -112,1 +112,1 @@\n-    if (work->hdr.frame_data_size <= 4)\n+    if (frame_data_size <= 4)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/tag\/id3v2frames.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4261,1 +4261,0 @@\n-      GST_DEBUG_OBJECT (decoder, \"Failed to negotiate, fallback allocation\");\n@@ -4263,0 +4262,12 @@\n+      if (GST_PAD_IS_FLUSHING (decoder->srcpad)) {\n+        GST_DEBUG_OBJECT (decoder,\n+            \"Failed to negotiate a pool: pad is flushing\");\n+        goto flushing;\n+      } else if (!decoder->priv->pool || decoder->priv->output_state_changed) {\n+        GST_DEBUG_OBJECT (decoder,\n+            \"Failed to negotiate a pool and no previous pool to reuse\");\n+        goto error;\n+      } else {\n+        GST_DEBUG_OBJECT (decoder,\n+            \"Failed to negotiate a pool, falling back to the previous pool\");\n+      }\n@@ -4275,0 +4286,4 @@\n+flushing:\n+  GST_VIDEO_DECODER_STREAM_UNLOCK (decoder);\n+  return GST_FLOW_FLUSHING;\n+\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/gstvideodecoder.c","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2919,1 +2919,1 @@\n-  if (convert->upsample) {\n+  if (convert->upsample[idx]) {\n@@ -3120,1 +3120,1 @@\n-  if (convert->downsample) {\n+  if (convert->downsample[idx]) {\n@@ -3143,1 +3143,1 @@\n-  if (convert->dither) {\n+  if (convert->dither[idx]) {\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-converter.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -644,1 +644,1 @@\n-gst_video_info_to_caps (GstVideoInfo * info)\n+gst_video_info_to_caps (const GstVideoInfo * info)\n@@ -689,0 +689,2 @@\n+    GstVideoMultiviewFlags multiview_flags =\n+        GST_VIDEO_INFO_MULTIVIEW_FLAGS (info);\n@@ -693,4 +695,2 @@\n-    if (GST_VIDEO_INFO_MULTIVIEW_FLAGS (info) &\n-        GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT) {\n-      GST_VIDEO_INFO_MULTIVIEW_FLAGS (info) &=\n-          ~GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT;\n+    if (multiview_flags & GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT) {\n+      multiview_flags &= ~GST_VIDEO_MULTIVIEW_FLAGS_HALF_ASPECT;\n@@ -719,1 +719,1 @@\n-          GST_VIDEO_INFO_MULTIVIEW_FLAGS (info), GST_FLAG_SET_MASK_EXACT, NULL);\n+          multiview_flags, GST_FLAG_SET_MASK_EXACT, NULL);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-info.c","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -455,1 +455,1 @@\n-GstCaps *      gst_video_info_to_caps     (GstVideoInfo *info);\n+GstCaps *      gst_video_info_to_caps     (const GstVideoInfo *info);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gst-plugins-base\/gst-libs\/gst\/video\/video-info.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1804,1 +1804,1 @@\n- * @info: (out): info about the mapping\n+ * @info: (out caller-allocates): info about the mapping\n@@ -1834,1 +1834,1 @@\n- * @info: (out): info about the mapping\n+ * @info: (out caller-allocates): info about the mapping\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstbuffer.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -645,0 +645,1 @@\n+G_DEFINE_AUTO_CLEANUP_FREE_FUNC(GstClockID, gst_clock_id_unref, 0)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstclock.h","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2373,0 +2373,2 @@\n+  if (notify)\n+    notify (user_data);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstinfo.c","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -223,1 +223,1 @@\n- * @info: (out): pointer for info\n+ * @info: (out caller-allocates): pointer for info\n@@ -273,1 +273,1 @@\n- * @info: (out): pointer for info\n+ * @info: (out caller-allocates): pointer for info\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gstmemory.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -115,0 +115,5 @@\n+typedef HRESULT (WINAPI * pSetThreadDescription) (HANDLE hThread,\n+    PCWSTR lpThreadDescription);\n+static pSetThreadDescription SetThreadDescriptionFunc = NULL;\n+HMODULE kernel32_module = NULL;\n+\n@@ -124,1 +129,1 @@\n-void\n+static void\n@@ -140,0 +145,51 @@\n+\n+static gboolean\n+gst_task_win32_load_library (void)\n+{\n+  \/* FIXME: Add support for UWP app *\/\n+#if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)\n+  static volatile gsize _init_once = 0;\n+  if (g_once_init_enter (&_init_once)) {\n+    kernel32_module = LoadLibraryW (L\"kernel32.dll\");\n+    if (kernel32_module) {\n+      SetThreadDescriptionFunc =\n+          (pSetThreadDescription) GetProcAddress (kernel32_module,\n+          \"SetThreadDescription\");\n+      if (!SetThreadDescriptionFunc)\n+        FreeLibrary (kernel32_module);\n+    }\n+    g_once_init_leave (&_init_once, 1);\n+  }\n+#endif\n+\n+  return ! !SetThreadDescriptionFunc;\n+}\n+\n+static gboolean\n+gst_task_win32_set_thread_desc (const gchar * name)\n+{\n+  HRESULT hr;\n+  wchar_t *namew;\n+\n+  if (!gst_task_win32_load_library () || !name)\n+    return FALSE;\n+\n+  namew = g_utf8_to_utf16 (name, -1, NULL, NULL, NULL);\n+  if (!namew)\n+    return FALSE;\n+\n+  hr = SetThreadDescriptionFunc (GetCurrentThread (), namew);\n+\n+  g_free (namew);\n+  return SUCCEEDED (hr);\n+}\n+\n+static void\n+gst_task_win32_set_thread_name (const gchar * name)\n+{\n+  \/* Prefer SetThreadDescription over exception based way if available,\n+   * since thread description set by SetThreadDescription will be preserved\n+   * in dump file *\/\n+  if (!gst_task_win32_set_thread_desc (name))\n+    SetThreadName ((DWORD) - 1, name);\n+}\n@@ -268,1 +324,1 @@\n-  SetThreadName (-1, name);\n+  gst_task_win32_set_thread_name (name);\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/gst\/gsttask.c","additions":58,"deletions":2,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -3136,1 +3136,1 @@\n-    GstAllocator * allocator, GstAllocationParams * params)\n+    GstAllocator * allocator, const GstAllocationParams * params)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasesrc.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -749,1 +749,1 @@\n-    GstAllocationParams * params, GstQuery * query)\n+    const GstAllocationParams * params, GstQuery * query)\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/gstreamer\/libs\/gst\/base\/gstbasetransform.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -473,1 +473,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.3\"\n+#define PACKAGE_STRING \"GStreamer 1.18.4\"\n@@ -482,1 +482,1 @@\n-#define PACKAGE_VERSION \"1.18.3\"\n+#define PACKAGE_VERSION \"1.18.4\"\n@@ -522,1 +522,1 @@\n-#define VERSION \"1.18.3\"\n+#define VERSION \"1.18.4\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/linux\/common\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -477,1 +477,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.3\"\n+#define PACKAGE_STRING \"GStreamer 1.18.4\"\n@@ -486,1 +486,1 @@\n-#define PACKAGE_VERSION \"1.18.3\"\n+#define PACKAGE_VERSION \"1.18.4\"\n@@ -526,1 +526,1 @@\n-#define VERSION \"1.18.3\"\n+#define VERSION \"1.18.4\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/osx\/common\/x86_64\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -478,1 +478,1 @@\n-#define PACKAGE_STRING \"GStreamer 1.18.3\"\n+#define PACKAGE_STRING \"GStreamer 1.18.4\"\n@@ -487,1 +487,1 @@\n-#define PACKAGE_VERSION \"1.18.3\"\n+#define PACKAGE_VERSION \"1.18.4\"\n@@ -527,1 +527,1 @@\n-#define VERSION \"1.18.3\"\n+#define VERSION \"1.18.4\"\n","filename":"modules\/javafx.media\/src\/main\/native\/gstreamer\/gstreamer-lite\/projects\/build\/win32\/common\/config.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}