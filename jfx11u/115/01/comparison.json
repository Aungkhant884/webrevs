{"files":[{"patch":"@@ -56,0 +56,1 @@\n+import javafx.scene.AccessibleRole;\n@@ -212,0 +213,1 @@\n+        setAccessibleRole(AccessibleRole.DIALOG);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/DialogPane.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,57 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package test.javafx.scene.control;\n+\n+import javafx.scene.AccessibleRole;\n+import javafx.scene.control.ButtonType;\n+import javafx.scene.control.Dialog;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+import static org.junit.Assert.assertEquals;\n+\n+\/** Tests for the {@link Dialog} class. *\/\n+public class DialogTest {\n+\n+    private Dialog<ButtonType> dialog;\n+\n+    @Before\n+    public void setUp() {\n+        dialog = new Dialog<>();\n+    }\n+\n+    @After\n+    public void cleanUp() {\n+        \/\/ Set a dummy result so the dialog can be closed.\n+        dialog.setResult(new ButtonType(\"\"));\n+        dialog.hide();\n+    }\n+\n+    @Test\n+    public void testAccessibleRole() {\n+        assertEquals(AccessibleRole.DIALOG, dialog.getDialogPane().getAccessibleRole());\n+    }\n+}\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/DialogTest.java","additions":57,"deletions":0,"binary":false,"changes":57,"status":"added"},{"patch":"@@ -1302,0 +1302,1 @@\n+                        case DIALOG: result = \"dialog\"; break;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/mac\/MacAccessible.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,0 +104,1 @@\n+    private static final int UIA_IsDialogPropertyId              = 30174;\n@@ -794,0 +795,1 @@\n+                        case DIALOG: description = \"dialog\"; break;\n@@ -833,0 +835,6 @@\n+            case UIA_IsDialogPropertyId: {\n+                AccessibleRole role = (AccessibleRole) getAttribute(ROLE);\n+                variant = new WinVariant();\n+                variant.vt = WinVariant.VT_BOOL;\n+                variant.boolVal = (role == AccessibleRole.DIALOG);\n+            } break;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/win\/WinAccessible.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -825,0 +825,14 @@\n+\n+    \/**\n+     * Dialog role.\n+     * <p>\n+     * Attributes:\n+     * <ul>\n+     * <li> {@link AccessibleAttribute#TEXT} <\/li>\n+     * <li> {@link AccessibleAttribute#ROLE_DESCRIPTION} <\/li>\n+     * <li> {@link AccessibleAttribute#CHILDREN} <\/li>\n+     * <\/ul>\n+     *\n+     * @since 11.0.18\n+     *\/\n+    DIALOG\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/AccessibleRole.java","additions":14,"deletions":0,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -6465,1 +6465,7 @@\n-                        case ROLE: return AccessibleRole.PARENT;\n+                        case ROLE: {\n+                            if (getRoot() != null && getRoot().getAccessibleRole() == AccessibleRole.DIALOG) {\n+                                return AccessibleRole.DIALOG;\n+                            } else {\n+                                return AccessibleRole.PARENT;\n+                            }\n+                        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/Scene.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}