{"files":[{"patch":"@@ -450,1 +450,4 @@\n-                HtmlTree.A(\"#\", new HtmlTree(TagName.IMG)\n+                new HtmlTree(TagName.BUTTON)\n+                        .add(HtmlTree.SPAN(Text.of(copyText))\n+                                .put(HtmlAttr.DATA_COPIED, copiedText))\n+                        .add(new HtmlTree(TagName.IMG)\n@@ -454,3 +457,1 @@\n-                        .put(HtmlAttr.ONCLICK, \"copySnippet(this)\")\n-                        .put(HtmlAttr.ARIA_LABEL, copyText)\n-                        .put(HtmlAttr.DATA_COPIED, copiedText));\n+                        .put(HtmlAttr.ONCLICK, \"copySnippet(this)\"));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TagletWriterImpl.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-function copySnippet(link) {\n+function copySnippet(button) {\n@@ -113,1 +113,1 @@\n-    textarea.value = link.nextElementSibling.innerText;\n+    textarea.value = button.nextElementSibling.innerText;\n@@ -117,5 +117,10 @@\n-    link.classList.add(\"copied\");\n-    var parent = link.parentElement;\n-    parent.onmouseleave = parent.ontouchend = function() {\n-        link.classList.remove(\"copied\");\n-    };\n+    var span = button.firstElementChild;\n+    var copied = span.getAttribute(\"data-copied\");\n+    if (span.innerHTML !== copied) {\n+        var initialLabel = span.innerHTML;\n+        span.innerHTML = copied;\n+        var parent = button.parentElement;\n+        parent.onmouseleave = parent.ontouchend = function() {\n+            span.innerHTML = initialLabel;\n+        };\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/script.js","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -939,1 +939,1 @@\n-a.snippet-copy {\n+button.snippet-copy {\n@@ -941,2 +941,9 @@\n-    top: 8px;\n-    right: 8px;\n+    top: 6px;\n+    right: 6px;\n+    height: 1.7em;\n+    opacity: 50%;\n+    transition: opacity 0.2s;\n+    padding: 2px;\n+    border: none;\n+    cursor: pointer;\n+    background: none;\n@@ -944,1 +951,1 @@\n-a.snippet-copy img {\n+button.snippet-copy img {\n@@ -948,2 +955,1 @@\n-    opacity: 50%;\n-    transition: opacity 0.2s;\n+    background: none;\n@@ -951,1 +957,1 @@\n-div.snippet-container:hover a.snippet-copy img {\n+div.snippet-container:hover button.snippet-copy {\n@@ -954,5 +960,1 @@\n-div.snippet-container a.snippet-copy:hover img {\n-    opacity: 100%;\n-}\n-a.snippet-copy:active img {\n-    background: #d3d3d3;\n+div.snippet-container button.snippet-copy:hover {\n@@ -961,1 +963,1 @@\n-a.snippet-copy::before {\n+button.snippet-copy span {\n@@ -968,3 +970,1 @@\n-    position: absolute;\n-    opacity: 80%;\n-    transition: opacity 0.2s;\n+    position: relative;\n@@ -972,2 +972,1 @@\n-    top: -0.01em;\n-    right: 1.5em;\n+    top: -0.5em;\n@@ -976,2 +975,2 @@\n-div.snippet-container:hover a.snippet-copy::before {\n-    display: inherit;\n+div.snippet-container:hover button.snippet-copy span {\n+    display: inline;\n@@ -979,1 +978,2 @@\n-div.snippet-container a.snippet-copy:hover::before {\n+button.snippet-copy:active {\n+    background: #d3d3d3;\n@@ -982,6 +982,0 @@\n-a.snippet-copy.copied::before {\n-    content: attr(data-copied);\n-}\n-a.snippet-copy:active::before {\n-    background-color: #dadada;\n-}\n@@ -992,3 +986,3 @@\n-    a.snippet-copy {\n-        top: 6px;\n-        right: 6px;\n+    button.snippet-copy {\n+        top: 4px;\n+        right: 4px;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":24,"deletions":30,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -227,3 +227,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -951,3 +951,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -1047,3 +1047,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -1608,3 +1608,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -1725,3 +1725,3 @@\n-                    <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"copySni\\\n-                    ppet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.svg\" alt=\"\\\n-                    Copy\"><\/a>\n+                    <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySnippet\\\n+                    (this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" alt=\"Copy\"\\\n+                    ><\/button>\n@@ -1734,3 +1734,3 @@\n-                    <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"copySni\\\n-                    ppet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.svg\" alt=\"\\\n-                    Copy\"><\/a>\n+                    <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySnippet\\\n+                    (this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" alt=\"Copy\"\\\n+                    ><\/button>\n@@ -1835,3 +1835,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -1919,3 +1919,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n@@ -2251,3 +2251,3 @@\n-                        <div class=\"snippet-container\"><a href=\"#\" class=\"snippet-copy\" onclick=\"cop\\\n-                        ySnippet(this)\" aria-label=\"Copy\" data-copied=\"Copied!\"><img src=\"..\/copy.sv\\\n-                        g\" alt=\"Copy\"><\/a>\n+                        <div class=\"snippet-container\"><button class=\"snippet-copy\" onclick=\"copySni\\\n+                        ppet(this)\"><span data-copied=\"Copied!\">Copy<\/span><img src=\"..\/copy.svg\" al\\\n+                        t=\"Copy\"><\/button>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSnippetTag\/TestSnippetTag.java","additions":27,"deletions":27,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -354,1 +354,1 @@\n-                if (name != null && !name.isEmpty()) {\n+                if (name != null) {\n@@ -371,1 +371,1 @@\n-                if (name != null && !name.isEmpty() && !id.declared) {\n+                if (name != null && !id.declared) {\n","filename":"test\/langtools\/jdk\/javadoc\/lib\/javadoc\/tester\/LinkChecker.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}