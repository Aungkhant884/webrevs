{"files":[{"patch":"@@ -1106,1 +1106,1 @@\n-            byte[] producedData = null;\n+            byte[] producedData;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/CertStatusExtension.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -88,2 +88,2 @@\n-        int encodedResponsesLen = 0;\n-        int messageLength = -1;\n+        final int encodedResponsesLen;\n+        final int messageLength;\n@@ -117,0 +117,1 @@\n+            int encodedLen = 0;\n@@ -127,1 +128,1 @@\n-                encodedResponsesLen += resp.length + 3;\n+                encodedLen += resp.length + 3;\n@@ -135,1 +136,1 @@\n-                    encodedResponsesLen += resp.length + 3;\n+                    encodedLen += resp.length + 3;\n@@ -142,1 +143,2 @@\n-            messageLength = messageLength();\n+            encodedResponsesLen = encodedLen;\n+            messageLength = messageLength(statusType, encodedResponsesLen);\n@@ -185,1 +187,12 @@\n-            messageLength = messageLength();\n+            messageLength = messageLength(statusType, encodedResponsesLen);\n+        }\n+\n+        private static int messageLength(\n+                CertStatusRequestType statusType, int encodedResponsesLen) {\n+            if (statusType == CertStatusRequestType.OCSP) {\n+                return 1 + encodedResponsesLen;\n+            } else if (statusType == CertStatusRequestType.OCSP_MULTI) {\n+                return 4 + encodedResponsesLen;\n+            }\n+\n+            return -1;\n@@ -195,11 +208,0 @@\n-            int len = 1;\n-\n-            if (messageLength == -1) {\n-                if (statusType == CertStatusRequestType.OCSP) {\n-                    len += encodedResponsesLen;\n-                } else if (statusType == CertStatusRequestType.OCSP_MULTI) {\n-                    len += 3 + encodedResponsesLen;\n-                }\n-                messageLength = len;\n-            }\n-\n@@ -217,5 +219,1 @@\n-                    if (respBytes != null) {\n-                        s.putBytes24(respBytes);\n-                    } else {\n-                        s.putBytes24(null);\n-                    }\n+                    s.putBytes24(respBytes);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/CertificateStatus.java","additions":21,"deletions":23,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,1 +77,1 @@\n-            byte[] temproary = null;\n+            byte[] temporary;\n@@ -85,1 +85,1 @@\n-                temproary = signer.sign();\n+                temporary = signer.sign();\n@@ -95,1 +95,1 @@\n-            this.signature = temproary;\n+            this.signature = temporary;\n@@ -197,1 +197,1 @@\n-            Signature signer = null;\n+            Signature signer;\n@@ -333,1 +333,1 @@\n-            byte[] temproary = null;\n+            byte[] temporary;\n@@ -340,1 +340,1 @@\n-                temproary = signer.sign();\n+                temporary = signer.sign();\n@@ -350,1 +350,1 @@\n-            this.signature = temproary;\n+            this.signature = temporary;\n@@ -451,1 +451,1 @@\n-            Signature signer = null;\n+            Signature signer;\n@@ -608,1 +608,1 @@\n-            byte[] temproary = null;\n+            byte[] temporary;\n@@ -612,1 +612,1 @@\n-                temproary = signer.sign();\n+                temporary = signer.sign();\n@@ -618,1 +618,1 @@\n-            this.signature = temproary;\n+            this.signature = temporary;\n@@ -933,1 +933,1 @@\n-            byte[] temproary = null;\n+            byte[] temporary;\n@@ -937,1 +937,1 @@\n-                temproary = signer.sign();\n+                temporary = signer.sign();\n@@ -943,1 +943,1 @@\n-            this.signature = temproary;\n+            this.signature = temporary;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/CertificateVerify.java","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-                Signature signer = null;\n+                Signature signer;\n@@ -158,1 +158,1 @@\n-                byte[] signature = null;\n+                byte[] signature;\n@@ -418,1 +418,1 @@\n-            Signature signer = null;\n+            Signature signer;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/DHServerKeyExchange.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1121,1 +1121,1 @@\n-            ByteBuffer plaintextFragment = null;\n+            ByteBuffer plaintextFragment;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/DTLSInputRecord.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -370,1 +370,0 @@\n-            PublicKey publicKey = null;\n@@ -378,1 +377,0 @@\n-                    publicKey = creds.getPublicKey();\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/ECDHClientKeyExchange.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -136,1 +136,1 @@\n-                Signature signer = null;\n+                Signature signer;\n@@ -168,1 +168,1 @@\n-                byte[] signature = null;\n+                byte[] signature;\n@@ -422,1 +422,1 @@\n-            Signature signer = null;\n+            Signature signer;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/ECDHServerKeyExchange.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-            byte[] vd = null;\n+            byte[] vd;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/Finished.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -489,1 +489,1 @@\n-        ProtocolVersion pv = protocolVersion;\n+        ProtocolVersion pv;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/OutputRecord.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -138,1 +138,1 @@\n-            boolean needFailover = false;\n+            boolean needFailover;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/RSAKeyExchange.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -86,1 +86,1 @@\n-            byte[] signature = null;\n+            byte[] signature;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/RSAServerKeyExchange.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -2203,1 +2203,1 @@\n-                int len = bb.remaining();\n+                int len;\n@@ -2323,1 +2323,0 @@\n-                int len = bb.remaining();\n@@ -2342,0 +2341,1 @@\n+                int len;\n@@ -2473,1 +2473,1 @@\n-                int len = bb.remaining();\n+                int len;\n@@ -2605,1 +2605,0 @@\n-                int len = bb.remaining();\n@@ -2623,0 +2622,1 @@\n+                int len;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLCipher.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -1026,3 +1026,1 @@\n-                \/**\n-                 * Try to initialize key store.\n-                 *\/\n+                \/\/ Try to initialize key store.\n@@ -1307,1 +1305,1 @@\n-        private static IllegalArgumentException reservedException = null;\n+        private static IllegalArgumentException reservedException;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLContextImpl.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,2 +78,1 @@\n-\n-        int len = 0;\n+        int len;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLEngineInputRecord.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -310,3 +310,0 @@\n-        int i = 0;\n-        byte[] b;\n-\n@@ -326,1 +323,1 @@\n-        i = Byte.toUnsignedInt(buf.get());\n+        int i = Byte.toUnsignedInt(buf.get());\n@@ -343,0 +340,1 @@\n+        byte[] b;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLSessionImpl.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,1 +77,1 @@\n-        int len = 0;\n+        int len;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLSocketInputRecord.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -107,1 +107,1 @@\n-        Plaintext[] plaintexts = null;\n+        Plaintext[] plaintexts;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLTransport.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -159,1 +159,1 @@\n-        Validator v = null;\n+        Validator v;\n@@ -200,1 +200,1 @@\n-        X509Certificate[] trustedChain = null;\n+        X509Certificate[] trustedChain;\n@@ -257,1 +257,1 @@\n-        X509Certificate[] trustedChain = null;\n+        X509Certificate[] trustedChain;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/X509TrustManagerImpl.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}