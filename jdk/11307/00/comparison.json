{"files":[{"patch":"@@ -1624,0 +1624,9 @@\n+static jvmtiError\n+adjust_jvmti_error(jvmtiError error) {\n+    \/\/ Allow WRONG_PHASE if vm is exiting.\n+    if (error == JVMTI_ERROR_WRONG_PHASE && gdata->vmDead) {\n+        error = JVMTI_ERROR_NONE;\n+    }\n+    return error;\n+}\n+\n@@ -1640,1 +1649,3 @@\n-     * be very noisy and hurt performance a lot.\n+     * be very noisy and hurt performance a lot. Note the VM might be exiting,\n+     * and we might get the VM_DEATH event while executing here, so don't\n+     * complain about JVMTI_ERROR_WRONG_PHASE if we've already seen VM_DEATH event.\n@@ -1646,1 +1657,1 @@\n-        if (error != JVMTI_ERROR_NONE) {\n+        if (adjust_jvmti_error(error) != JVMTI_ERROR_NONE) {\n@@ -1651,1 +1662,1 @@\n-        if (error != JVMTI_ERROR_NONE) {\n+        if (adjust_jvmti_error(error) != JVMTI_ERROR_NONE) {\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/eventHandler.c","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"}]}