{"files":[{"patch":"@@ -915,2 +915,5 @@\n-      if (thread->as_Java_thread()->thread_state() == _thread_in_vm) {\n-        ThreadBlockInVM tbivm(thread->as_Java_thread());\n+      JavaThread* jt = thread->as_Java_thread();\n+      if (jt->thread_state() == _thread_in_vm) {\n+        \/\/ Since this JavaThread has looped at least once and is _thread_in_vm,\n+        \/\/ we honor any pending blocking request.\n+        ThreadBlockInVM tbivm(jt);\n","filename":"src\/hotspot\/share\/oops\/generateOopMap.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}