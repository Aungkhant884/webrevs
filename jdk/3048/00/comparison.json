{"files":[{"patch":"@@ -3485,2 +3485,0 @@\n-  bool result = false;\n-\n@@ -3492,18 +3490,1 @@\n-    \/\/ We don't know if this really is a huge page or not.\n-    FILE *fp = fopen(\"\/proc\/self\/maps\", \"r\");\n-    if (fp) {\n-      while (!feof(fp)) {\n-        char chars[257];\n-        long x = 0;\n-        if (fgets(chars, sizeof(chars), fp)) {\n-          if (sscanf(chars, \"%lx-%*x\", &x) == 1\n-              && x == (long)p) {\n-            if (strstr (chars, \"hugepage\")) {\n-              result = true;\n-              break;\n-            }\n-          }\n-        }\n-      }\n-      fclose(fp);\n-    }\n+    \/\/ Mapping succeede, sanity check passed.\n@@ -3511,0 +3492,1 @@\n+    return true;\n@@ -3513,2 +3495,2 @@\n-  if (warn && !result) {\n-    warning(\"HugeTLBFS is not supported by the operating system.\");\n+  if (warn) {\n+    warning(\"HugeTLBFS is not supported or configured by the operating system.\");\n@@ -3517,1 +3499,1 @@\n-  return result;\n+  return false;\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":5,"deletions":23,"binary":false,"changes":28,"status":"modified"}]}