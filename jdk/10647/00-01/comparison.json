{"files":[{"patch":"@@ -143,2 +143,2 @@\n-  \/\/ Predict how many of the given remembered set of length rs_length will add to\n-  \/\/ the number of total cards scanned.\n+  \/\/ Predict how many cards in a remembered set of length rs_length will need to\n+  \/\/ be scanned in addition to the pending log buffer cards.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Analytics.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1013,0 +1013,3 @@\n+  bool in_young_only_phase = collector_state()->in_young_only_phase();\n+\n+  size_t remset_cards = _analytics->predict_scan_card_num(rs_length, in_young_only_phase);\n@@ -1015,1 +1018,1 @@\n-  size_t effective_scanned_cards = _analytics->predict_scan_card_num(rs_length, collector_state()->in_young_only_phase()) + pending_cards;\n+  size_t effective_scanned_cards = remset_cards + pending_cards;\n@@ -1017,2 +1020,2 @@\n-  double card_merge_time = _analytics->predict_card_merge_time_ms(pending_cards + rs_length, collector_state()->in_young_only_phase());\n-  double card_scan_time = _analytics->predict_card_scan_time_ms(effective_scanned_cards, collector_state()->in_young_only_phase());\n+  double card_merge_time = _analytics->predict_card_merge_time_ms(pending_cards + rs_length, in_young_only_phase);\n+  double card_scan_time = _analytics->predict_card_scan_time_ms(effective_scanned_cards, in_young_only_phase);\n@@ -1024,2 +1027,4 @@\n-  log_trace(gc, ergo, heap)(\"Predicted base time: total %f lb_cards %zu rs_length %zu effective_scanned_cards %zu card_merge_time %f card_scan_time %f constant_other_time %f survivor_evac_time %f\",\n-                            total_time, pending_cards, rs_length, effective_scanned_cards, card_merge_time, card_scan_time, constant_other_time, survivor_evac_time);\n+  log_trace(gc, ergo, heap)(\"Predicted base time: total %f lb_cards %zu rs_length %zu effective_scanned_cards %zu \"\n+                            \"card_merge_time %f card_scan_time %f constant_other_time %f survivor_evac_time %f\",\n+                            total_time, pending_cards, rs_length, effective_scanned_cards,\n+                            card_merge_time, card_scan_time, constant_other_time, survivor_evac_time);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"}]}