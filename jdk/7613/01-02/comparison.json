{"files":[{"patch":"@@ -66,1 +66,1 @@\n-        frame.setBounds(83, 97, 400, 300);\n+        frame.setBounds(83, 97, 100, 100);\n","filename":"test\/jdk\/java\/awt\/Robot\/HiDPIScreenCapture\/HiDPIRobotScreenCaptureTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,0 +34,6 @@\n+import java.awt.image.BufferedImage;\n+import javax.swing.UIManager;\n+import javax.imageio.ImageIO;\n+import java.io.File;\n+import java.io.IOException;\n+\n@@ -51,2 +57,2 @@\n-        final int topOffset = 100;\n-        final int leftOffset = 100;\n+        final int topOffset = 50;\n+        final int leftOffset = 50;\n@@ -62,1 +68,1 @@\n-        frame.setBounds(91, 97, 400, 300);\n+        frame.setBounds(89, 99, 100, 100);\n@@ -90,3 +96,1 @@\n-        final Point screenLocation = frame.getLocationOnScreen();\n-        checkPixelColors(robot, screenLocation.x + leftOffset,\n-                screenLocation.y + topOffset);\n+        captureImageOf(frame, robot);\n@@ -94,2 +98,8 @@\n-        robot.delay(100);\n-        frame.dispose();\n+        final Point screenLocation = frame.getLocationOnScreen();\n+        try {\n+            checkPixelColors(robot, screenLocation.x + leftOffset,\n+                    screenLocation.y + topOffset);\n+        } finally {\n+            robot.delay(100);\n+            frame.dispose();\n+        }\n@@ -104,0 +114,1 @@\n+                saveImage();\n@@ -111,0 +122,20 @@\n+\n+    private static BufferedImage image;\n+\n+    static void captureImageOf(Frame frame, Robot robot) {\n+        Rectangle rect = frame.getBounds();\n+        rect.setLocation(frame.getLocationOnScreen());\n+\n+        System.out.println(\"Creating screen capture of \" + rect);\n+        image = robot.createScreenCapture(rect);\n+    }\n+\n+    static void saveImage() {\n+        System.out.println(\"Check image.png\");\n+        try {\n+            ImageIO.write(image, \"png\", new File(\"image.png\"));\n+        } catch(IOException e) {\n+            System.out.println(\"failed to save image.png.\");\n+            e.printStackTrace();\n+        }\n+    }\n","filename":"test\/jdk\/java\/awt\/Robot\/HiDPIScreenCapture\/ScreenCaptureGtkTest.java","additions":39,"deletions":8,"binary":false,"changes":47,"status":"modified"}]}