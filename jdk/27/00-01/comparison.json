{"files":[{"patch":"@@ -2679,1 +2679,1 @@\n-  Universe::heap()->update_heap_info_at_gc();\n+  Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1283,1 +1283,1 @@\n-  Universe::heap()->update_heap_info_at_gc();\n+  Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1046,1 +1046,1 @@\n-  Universe::heap()->update_heap_info_at_gc();\n+  Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-  Universe::heap()->update_heap_info_at_gc();\n+  Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/serial\/genMarkSweep.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -193,0 +193,2 @@\n+  _capacity_at_last_gc(0),\n+  _used_at_last_gc(0),\n@@ -596,3 +598,3 @@\n-void CollectedHeap::update_heap_info_at_gc() {\n-  _heap_capacity_at_last_gc = capacity();\n-  _heap_used_at_last_gc     = used();\n+void CollectedHeap::update_capacity_and_used_at_gc() {\n+  _capacity_at_last_gc = capacity();\n+  _used_at_last_gc     = used();\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -113,0 +113,4 @@\n+  \/\/ Historic gc information\n+  size_t _capacity_at_last_gc;\n+  size_t _used_at_last_gc;\n+\n@@ -242,0 +246,5 @@\n+  \/\/ Historic gc information\n+  size_t free_at_last_gc()    { return _capacity_at_last_gc - _used_at_last_gc; }\n+  size_t used_at_last_gc()    { return _used_at_last_gc; }\n+  void update_capacity_and_used_at_gc();\n+\n@@ -440,4 +449,0 @@\n-  \/\/ Historic gc information\n-  size_t _heap_capacity_at_last_gc;\n-  size_t _heap_used_at_last_gc;\n-\n@@ -519,5 +524,0 @@\n-\n-  \/\/ Historic gc information\n-  size_t get_heap_free_at_last_gc()    { return _heap_capacity_at_last_gc - _heap_used_at_last_gc; }\n-  size_t get_heap_used_at_last_gc()    { return _heap_used_at_last_gc; }\n-  void update_heap_info_at_gc();\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.hpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-  _max_interval = (Universe::heap()->get_heap_free_at_last_gc() \/ M) * SoftRefLRUPolicyMSPerMB;\n+  _max_interval = (Universe::heap()->free_at_last_gc() \/ M) * SoftRefLRUPolicyMSPerMB;\n@@ -66,1 +66,1 @@\n-  max_heap -= Universe::heap()->get_heap_used_at_last_gc();\n+  max_heap -= Universe::heap()->used_at_last_gc();\n","filename":"src\/hotspot\/share\/gc\/shared\/referencePolicy.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -240,1 +240,1 @@\n-        Universe::heap()->update_heap_info_at_gc();\n+        Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahControlThread.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -383,1 +383,1 @@\n-    Universe::heap()->update_heap_info_at_gc();\n+    Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/gc\/z\/zDriver.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -229,1 +229,1 @@\n-  sample->set_heap_used_at_last_gc(Universe::heap()->get_heap_used_at_last_gc());\n+  sample->set_heap_used_at_last_gc(Universe::heap()->used_at_last_gc());\n","filename":"src\/hotspot\/share\/jfr\/leakprofiler\/sampling\/objectSampler.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1000,1 +1000,1 @@\n-    Universe::heap()->update_heap_info_at_gc();\n+    Universe::heap()->update_capacity_and_used_at_gc();\n","filename":"src\/hotspot\/share\/memory\/universe.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}