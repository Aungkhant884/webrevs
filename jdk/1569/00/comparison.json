{"files":[{"patch":"@@ -239,1 +239,1 @@\n-    \/\/ but it's not in the 10.9 SDK.  So, call it via objc_msgSend_stret.\n+    \/\/ but it's not in the 10.9 SDK.  So, call it via NSInvocation.\n@@ -241,3 +241,8 @@\n-        OSVerStruct (*procInfoFn)(id rec, SEL sel) = (OSVerStruct(*)(id, SEL))objc_msgSend_stret;\n-        OSVerStruct osVer = procInfoFn([NSProcessInfo processInfo],\n-                                       @selector(operatingSystemVersion));\n+        OSVerStruct osVer;\n+        NSMethodSignature *sig = [[NSProcessInfo processInfo] methodSignatureForSelector:\n+                @selector(operatingSystemVersion)];\n+        NSInvocation *invoke = [NSInvocation invocationWithMethodSignature:sig];\n+        invoke.selector = @selector(operatingSystemVersion);\n+        [invoke invokeWithTarget:[NSProcessInfo processInfo]];\n+        [invoke getReturnValue:&osVer];\n+\n","filename":"src\/java.base\/macosx\/native\/libjava\/java_props_macosx.c","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}