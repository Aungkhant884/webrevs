{"files":[{"patch":"@@ -29,1 +29,0 @@\n-import java.io.OutputStream;\n@@ -31,0 +30,1 @@\n+import java.io.OutputStream;\n@@ -82,1 +82,1 @@\n-    public void write(byte tag, byte[] buf) throws IOException {\n+    public DerOutputStream write(byte tag, byte[] buf) throws IOException {\n@@ -86,0 +86,1 @@\n+        return this;\n@@ -97,1 +98,1 @@\n-    public void write(byte tag, DerOutputStream out) throws IOException {\n+    public DerOutputStream write(byte tag, DerOutputStream out) throws IOException {\n@@ -101,0 +102,1 @@\n+        return this;\n@@ -120,1 +122,1 @@\n-    public void writeImplicit(byte tag, DerOutputStream value)\n+    public DerOutputStream writeImplicit(byte tag, DerOutputStream value)\n@@ -124,0 +126,1 @@\n+        return this;\n@@ -129,1 +132,1 @@\n-    public void putDerValue(DerValue val) throws IOException {\n+    public DerOutputStream putDerValue(DerValue val) throws IOException {\n@@ -131,0 +134,1 @@\n+        return this;\n@@ -144,1 +148,1 @@\n-    public void putBoolean(boolean val) throws IOException {\n+    public DerOutputStream putBoolean(boolean val) throws IOException {\n@@ -152,0 +156,1 @@\n+        return this;\n@@ -158,1 +163,1 @@\n-    public void putEnumerated(int i) throws IOException {\n+    public DerOutputStream putEnumerated(int i) throws IOException {\n@@ -161,0 +166,1 @@\n+        return this;\n@@ -168,1 +174,1 @@\n-    public void putInteger(BigInteger i) throws IOException {\n+    public DerOutputStream putInteger(BigInteger i) throws IOException {\n@@ -173,0 +179,1 @@\n+        return this;\n@@ -180,1 +187,1 @@\n-    public void putInteger(byte[] buf) throws IOException {\n+    public DerOutputStream putInteger(byte[] buf) throws IOException {\n@@ -184,0 +191,1 @@\n+        return this;\n@@ -190,2 +198,2 @@\n-    public void putInteger(Integer i) throws IOException {\n-        putInteger(i.intValue());\n+    public DerOutputStream putInteger(Integer i) throws IOException {\n+        return putInteger(i.intValue());\n@@ -198,1 +206,1 @@\n-    public void putInteger(int i) throws IOException {\n+    public DerOutputStream putInteger(int i) throws IOException {\n@@ -201,0 +209,1 @@\n+        return this;\n@@ -253,1 +262,1 @@\n-    public void putBitString(byte[] bits) throws IOException {\n+    public DerOutputStream putBitString(byte[] bits) throws IOException {\n@@ -258,0 +267,1 @@\n+        return this;\n@@ -266,1 +276,1 @@\n-    public void putUnalignedBitString(BitArray ba) throws IOException {\n+    public DerOutputStream putUnalignedBitString(BitArray ba) throws IOException {\n@@ -273,0 +283,1 @@\n+        return this;\n@@ -281,1 +292,1 @@\n-    public void putTruncatedUnalignedBitString(BitArray ba) throws IOException {\n+    public DerOutputStream putTruncatedUnalignedBitString(BitArray ba) throws IOException {\n@@ -283,0 +294,1 @@\n+        return this;\n@@ -290,1 +302,1 @@\n-    public void putOctetString(byte[] octets) throws IOException {\n+    public DerOutputStream putOctetString(byte[] octets) throws IOException {\n@@ -292,0 +304,1 @@\n+        return this;\n@@ -298,1 +311,1 @@\n-    public void putNull() throws IOException {\n+    public DerOutputStream putNull() throws IOException {\n@@ -301,0 +314,1 @@\n+        return this;\n@@ -307,1 +321,1 @@\n-    public void putOID(ObjectIdentifier oid) throws IOException {\n+    public DerOutputStream putOID(ObjectIdentifier oid) throws IOException {\n@@ -309,0 +323,1 @@\n+        return this;\n@@ -316,1 +331,1 @@\n-    public void putSequence(DerValue[] seq) throws IOException {\n+    public DerOutputStream putSequence(DerValue[] seq) throws IOException {\n@@ -324,0 +339,1 @@\n+        return this;\n@@ -333,1 +349,1 @@\n-    public void putSet(DerValue[] set) throws IOException {\n+    public DerOutputStream putSet(DerValue[] set) throws IOException {\n@@ -341,0 +357,1 @@\n+        return this;\n@@ -353,2 +370,2 @@\n-    public void putOrderedSetOf(byte tag, DerEncoder[] set) throws IOException {\n-        putOrderedSet(tag, set, lexOrder);\n+    public DerOutputStream putOrderedSetOf(byte tag, DerEncoder[] set) throws IOException {\n+        return putOrderedSet(tag, set, lexOrder);\n@@ -367,2 +384,2 @@\n-    public void putOrderedSet(byte tag, DerEncoder[] set) throws IOException {\n-        putOrderedSet(tag, set, tagOrder);\n+    public DerOutputStream putOrderedSet(byte tag, DerEncoder[] set) throws IOException {\n+        return putOrderedSet(tag, set, tagOrder);\n@@ -389,1 +406,1 @@\n-    private void putOrderedSet(byte tag, DerEncoder[] set,\n+    private DerOutputStream putOrderedSet(byte tag, DerEncoder[] set,\n@@ -410,1 +427,1 @@\n-\n+        return this;\n@@ -416,2 +433,2 @@\n-    public void putUTF8String(String s) throws IOException {\n-        writeString(s, DerValue.tag_UTF8String, UTF_8);\n+    public DerOutputStream putUTF8String(String s) throws IOException {\n+        return writeString(s, DerValue.tag_UTF8String, UTF_8);\n@@ -423,2 +440,2 @@\n-    public void putPrintableString(String s) throws IOException {\n-        writeString(s, DerValue.tag_PrintableString, US_ASCII);\n+    public DerOutputStream putPrintableString(String s) throws IOException {\n+        return writeString(s, DerValue.tag_PrintableString, US_ASCII);\n@@ -430,1 +447,1 @@\n-    public void putT61String(String s) throws IOException {\n+    public DerOutputStream putT61String(String s) throws IOException {\n@@ -435,1 +452,1 @@\n-        writeString(s, DerValue.tag_T61String, ISO_8859_1);\n+        return writeString(s, DerValue.tag_T61String, ISO_8859_1);\n@@ -441,2 +458,2 @@\n-    public void putIA5String(String s) throws IOException {\n-        writeString(s, DerValue.tag_IA5String, US_ASCII);\n+    public DerOutputStream putIA5String(String s) throws IOException {\n+        return writeString(s, DerValue.tag_IA5String, US_ASCII);\n@@ -448,2 +465,2 @@\n-    public void putBMPString(String s) throws IOException {\n-        writeString(s, DerValue.tag_BMPString, UTF_16BE);\n+    public DerOutputStream putBMPString(String s) throws IOException {\n+        return writeString(s, DerValue.tag_BMPString, UTF_16BE);\n@@ -455,2 +472,2 @@\n-    public void putGeneralString(String s) throws IOException {\n-        writeString(s, DerValue.tag_GeneralString, US_ASCII);\n+    public DerOutputStream putGeneralString(String s) throws IOException {\n+        return writeString(s, DerValue.tag_GeneralString, US_ASCII);\n@@ -467,1 +484,1 @@\n-    private void writeString(String s, byte stringTag, Charset charset)\n+    private DerOutputStream writeString(String s, byte stringTag, Charset charset)\n@@ -474,0 +491,1 @@\n+        return this;\n@@ -482,2 +500,2 @@\n-    public void putUTCTime(Date d) throws IOException {\n-        putTime(d, DerValue.tag_UtcTime);\n+    public DerOutputStream putUTCTime(Date d) throws IOException {\n+        return putTime(d, DerValue.tag_UtcTime);\n@@ -492,2 +510,2 @@\n-    public void putGeneralizedTime(Date d) throws IOException {\n-        putTime(d, DerValue.tag_GeneralizedTime);\n+    public DerOutputStream putGeneralizedTime(Date d) throws IOException {\n+        return putTime(d, DerValue.tag_GeneralizedTime);\n@@ -503,1 +521,1 @@\n-    private void putTime(Date d, byte tag) throws IOException {\n+    private DerOutputStream putTime(Date d, byte tag) throws IOException {\n@@ -530,0 +548,1 @@\n+        return this;\n@@ -566,17 +585,0 @@\n-    \/**\n-     * Put the tag of the attribute in the stream.\n-     *\n-     * @param tagClass the tag class type, one of UNIVERSAL, CONTEXT,\n-     *        APPLICATION or PRIVATE\n-     * @param form if true, the value is constructed, otherwise it is\n-     * primitive.\n-     * @param val the tag value\n-     *\/\n-    public void putTag(byte tagClass, boolean form, byte val) {\n-        byte tag = (byte)(tagClass | val);\n-        if (form) {\n-            tag |= (byte)0x20;\n-        }\n-        write(tag);\n-    }\n-\n@@ -593,0 +595,10 @@\n+    \/**\n+     * Write a DerEncoder onto the output stream.\n+     * @param encoder the DerEncoder\n+     * @throws IOException on output error\n+     *\/\n+    public DerOutputStream write(DerEncoder encoder) throws IOException {\n+        encoder.derEncode(this);\n+        return this;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/DerOutputStream.java","additions":73,"deletions":61,"binary":false,"changes":134,"status":"modified"}]}