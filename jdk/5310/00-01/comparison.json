{"files":[{"patch":"@@ -78,0 +78,2 @@\n+    static Icon disabledIcon = null;\n+\n@@ -161,1 +163,1 @@\n-    protected void paintMenuItem(final Client client, final Graphics g, final JComponent c, final Icon checkIcon, Icon arrowIcon, final Color background, final Color foreground, final Color disabledForeground, final Color selectionForeground, final int defaultTextIconGap, final Font acceleratorFont) {\n+    protected void paintMenuItem(final Client client, final Graphics g, final JComponent c, final Icon checkIcon, final Icon arrowIcon, final Color background, final Color foreground, final Color disabledForeground, final Color selectionForeground, final int defaultTextIconGap, final Font acceleratorFont) {\n@@ -298,4 +300,0 @@\n-            if (!isEnabled && (arrowIcon instanceof ImageIcon)) {\n-                arrowIcon = new ImageIconUIResource(GrayFilter.\n-                        createDisabledImage(((ImageIcon)arrowIcon).getImage()));\n-            }\n@@ -413,1 +411,9 @@\n-            arrowIcon.paintIcon(c, g, arrowIconRect.x, arrowIconRect.y);\n+            if (!c.isEnabled() && arrowIcon instanceof ImageIcon) {\n+                if (disabledIcon == null) {\n+                    disabledIcon = new ImageIconUIResource(GrayFilter.\n+                            createDisabledImage(((ImageIcon) arrowIcon).getImage()));\n+                }\n+                disabledIcon.paintIcon(c, g, arrowIconRect.x, arrowIconRect.y);\n+            } else {\n+                arrowIcon.paintIcon(c, g, arrowIconRect.x, arrowIconRect.y);\n+            }\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaMenuPainter.java","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"}]}