{"files":[{"patch":"@@ -117,0 +117,6 @@\n+# Optimize CDS shared heap for small heap sizes, which are typically used\n+# for small cloud-based apps that have the most critical start-up requirement.\n+# The trade-off is that when larger heap sizes are used, the shared heap\n+# may need to be relocated at runtime.\n+CDS_DUMP_FLAGS = -Xmx128M -Xms128M\n+\n@@ -125,0 +131,3 @@\n+  # Only G1 supports dumping the shared heap, so explicitly use G1 if the JVM supports it.\n+  $1_$2_CDS_DUMP_FLAGS := $(CDS_DUMP_FLAGS) $(if $(filter g1gc, $(JVM_FEATURES_$1)),-XX:+UseG1GC)\n+\n@@ -132,1 +141,1 @@\n-      WARN := Creating CDS$$($1_$2_DUMP_TYPE) archive for jdk image for $1, \\\n+      WARN := Creating CDS$$($1_$2_DUMP_TYPE) archive for jdk image for $1: $$($1_$2_CDS_DUMP_FLAGS), \\\n@@ -138,1 +147,1 @@\n-          -$1 $$($1_$2_DUMP_EXTRA_ARG) -Xmx128M -Xms128M $$(LOG_INFO), \\\n+          -$1 $$($1_$2_DUMP_EXTRA_ARG) $$($1_$2_CDS_DUMP_FLAGS) $$(LOG_INFO), \\\n@@ -144,1 +153,1 @@\n-      WARN := Creating CDS$$($1_$2_DUMP_TYPE) archive for jre image for $1, \\\n+      WARN := Creating CDS$$($1_$2_DUMP_TYPE) archive for jre image for $1: $$($1_$2_CDS_DUMP_FLAGS), \\\n@@ -150,1 +159,1 @@\n-          -$1 $$($1_$2_DUMP_EXTRA_ARG) -Xmx128M -Xms128M $$(LOG_INFO), \\\n+          -$1 $$($1_$2_DUMP_EXTRA_ARG) $$($1_$2_CDS_DUMP_FLAGS) $$(LOG_INFO), \\\n","filename":"make\/Images.gmk","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"}]}