{"files":[{"patch":"@@ -273,3 +273,0 @@\n-                        \/\/ let the comment helper know of the overridden element\n-                        CommentHelper ch = utils.getCommentHelper(member);\n-                        ch.setOverrideElement(inheritedDoc.holder);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/builders\/MemberSummaryBuilder.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import javax.lang.model.element.ExecutableElement;\n@@ -90,1 +91,0 @@\n-    private Element overriddenElement;\n@@ -109,7 +109,0 @@\n-    public void setOverrideElement(Element ove) {\n-        if (this.element == ove) {\n-            throw new AssertionError(\"cannot set given element as overridden element\");\n-        }\n-        overriddenElement = ove;\n-    }\n-\n@@ -682,4 +675,4 @@\n-        if (dcTree == null && overriddenElement != null) {\n-            \/\/ This is an inherited comment, return path from ancestor.\n-            return configuration.utils.getCommentHelper(overriddenElement).getDocTreePath(dtree);\n-        } else if (path == null || dcTree == null || dtree == null) {\n+        if (dcTree == null && element instanceof ExecutableElement ee) {\n+            return getInheritedDocTreePath(dtree, ee);\n+        }\n+        if (path == null || dcTree == null || dtree == null) {\n@@ -689,1 +682,1 @@\n-        if (dtPath == null && overriddenElement != null) {\n+        if (dtPath == null && element instanceof ExecutableElement ee) {\n@@ -691,1 +684,1 @@\n-            return configuration.utils.getCommentHelper(overriddenElement).getDocTreePath(dtree);\n+            return getInheritedDocTreePath(dtree, ee);\n@@ -696,2 +689,8 @@\n-    public Element getOverriddenElement() {\n-        return overriddenElement;\n+    private DocTreePath getInheritedDocTreePath(DocTree dtree, ExecutableElement ee) {\n+        Utils utils = configuration.utils;\n+        DocFinder.Output inheritedDoc =\n+                DocFinder.search(configuration,\n+                        new DocFinder.Input(utils, ee));\n+        return inheritedDoc == null || inheritedDoc.holder == ee\n+                ? null\n+                : utils.getCommentHelper(inheritedDoc.holder).getDocTreePath(dtree);\n@@ -711,8 +710,0 @@\n-        sb.append(\", overriddenElement=\");\n-        if (overriddenElement != null) {\n-            sb.append(overriddenElement.getEnclosingElement());\n-            sb.append(\"::\");\n-            sb.append(overriddenElement);\n-        } else {\n-            sb.append(\"<none>\");\n-        }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/CommentHelper.java","additions":15,"deletions":24,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -950,7 +950,8 @@\n-        SoftReference<ImplementedMethods> imf = implementMethodsFinders.get(method);\n-        \/\/ IMF does not exist or referent was gc'ed away ?\n-        if (imf == null || imf.get() == null) {\n-            imf = new SoftReference<>(new ImplementedMethods(method));\n-            implementMethodsFinders.put(method, imf);\n-        }\n-        return imf.get();\n+        SoftReference<ImplementedMethods> ref = implementMethodsFinders.get(method);\n+        ImplementedMethods imf = ref == null ? null : ref.get();\n+        \/\/ imf does not exist or was gc'ed away?\n+        if (imf == null) {\n+            imf = new ImplementedMethods(method);\n+            implementMethodsFinders.put(method, new SoftReference<>(imf));\n+        }\n+        return imf;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/VisibleMemberTable.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}