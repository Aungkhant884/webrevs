{"files":[{"patch":"@@ -383,0 +383,9 @@\n+  \/\/ Is marking still active?\n+  if (in_bytes(SATBMarkQueue::byte_width_of_active()) == 4) {\n+    __ ldrw(tmp, in_progress);\n+  } else {\n+    assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+    __ ldrb(tmp, in_progress);\n+  }\n+  __ cbzw(tmp, done);\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1BarrierSetAssembler_aarch64.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -385,0 +385,5 @@\n+  \/\/ Is marking still active?\n+  assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+  __ ldrb(R1, queue_active);\n+  __ cbz(R1, done);\n+\n","filename":"src\/hotspot\/cpu\/arm\/gc\/g1\/g1BarrierSetAssembler_arm.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -472,0 +472,10 @@\n+  \/\/ Is marking still active?\n+  if (in_bytes(SATBMarkQueue::byte_width_of_active()) == 4) {\n+    __ lwz(tmp, satb_q_active_byte_offset, R16_thread);\n+  } else {\n+    assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+    __ lbz(tmp, satb_q_active_byte_offset, R16_thread);\n+  }\n+  __ cmpdi(CCR0, tmp, 0);\n+  __ beq(CCR0, marking_not_active);\n+\n","filename":"src\/hotspot\/cpu\/ppc\/gc\/g1\/g1BarrierSetAssembler_ppc.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -372,0 +372,9 @@\n+  \/\/ Is marking still active?\n+  if (in_bytes(SATBMarkQueue::byte_width_of_active()) == 4) {  \/\/ 4-byte width\n+    __ lwu(tmp, in_progress);\n+  } else {\n+    assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+    __ lbu(tmp, in_progress);\n+  }\n+  __ beqz(tmp, done);\n+\n","filename":"src\/hotspot\/cpu\/riscv\/gc\/g1\/g1BarrierSetAssembler_riscv.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -491,0 +491,9 @@\n+  \/\/ Is marking still active?\n+  if (in_bytes(SATBMarkQueue::byte_width_of_active()) == 4) {\n+    __ load_and_test_int(tmp, Address(Z_thread, satb_q_active_byte_offset));\n+  } else {\n+    assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+    __ load_and_test_byte(tmp, Address(Z_thread, satb_q_active_byte_offset));\n+  }\n+  __ z_bre(marking_not_active); \/\/ Activity indicator is zero, so there is no marking going on currently.\n+\n","filename":"src\/hotspot\/cpu\/s390\/gc\/g1\/g1BarrierSetAssembler_s390.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -471,0 +471,9 @@\n+  \/\/ Is marking still active?\n+  if (in_bytes(SATBMarkQueue::byte_width_of_active()) == 4) {\n+    __ cmpl(queue_active, 0);\n+  } else {\n+    assert(in_bytes(SATBMarkQueue::byte_width_of_active()) == 1, \"Assumption\");\n+    __ cmpb(queue_active, 0);\n+  }\n+  __ jcc(Assembler::equal, done);\n+\n","filename":"src\/hotspot\/cpu\/x86\/gc\/g1\/g1BarrierSetAssembler_x86.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}