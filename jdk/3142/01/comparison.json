{"files":[{"patch":"@@ -74,1 +74,1 @@\n-  return Metaspace::is_class_space_allocation(mdtype) ? RunningCounters::used_words_class() : RunningCounters::used_words_nonclass();\n+  return mdtype == Metaspace::ClassType ? RunningCounters::used_words_class() : RunningCounters::used_words_nonclass();\n@@ -82,1 +82,1 @@\n-  return Metaspace::is_class_space_allocation(mdtype) ? RunningCounters::reserved_words_class() : RunningCounters::reserved_words_nonclass();\n+  return mdtype == Metaspace::ClassType ? RunningCounters::reserved_words_class() : RunningCounters::reserved_words_nonclass();\n@@ -90,1 +90,1 @@\n-  return Metaspace::is_class_space_allocation(mdtype) ? RunningCounters::committed_words_class() : RunningCounters::committed_words_nonclass();\n+  return mdtype == Metaspace::ClassType ? RunningCounters::committed_words_class() : RunningCounters::committed_words_nonclass();\n","filename":"src\/hotspot\/share\/memory\/metaspace.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,11 @@\n+\n+\/**\n+ * @test\n+ * @bug 8264008\n+ * @key jfr\n+ * @requires vm.hasJFR\n+ * @requires vm.gc == \"Serial\" | vm.gc == null\n+ * @library \/test\/lib \/test\/jdk\n+ * @run main\/othervm -XX:+IgnoreUnrecognizedVMOptions -XX:+UseSerialGC -XX:-UseCompressedClassPointers\n+ *                   jdk.jfr.event.gc.heapsummary.TestHeapSummaryEventDefNewSerial\n+ *\/\n","filename":"test\/jdk\/jdk\/jfr\/event\/gc\/heapsummary\/TestHeapSummaryEventDefNewSerial.java","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"}]}