{"files":[{"patch":"@@ -28,1 +28,0 @@\n-import jdk.jpackage.test.TKit;\n@@ -30,0 +29,1 @@\n+import jdk.jpackage.test.Annotations.Test;\n@@ -43,2 +43,0 @@\n- * @library \/test\/lib\n- * @library base\n@@ -47,0 +45,1 @@\n+ * @compile ArgumentsFilteringTest.java\n@@ -48,1 +47,2 @@\n- * @run main\/othervm -Xmx512m ArgumentsFilteringTest\n+ * @run main\/othervm\/timeout=540 -Xmx512m jdk.jpackage.test.Main\n+ *  --jpt-run=ArgumentsFilteringTest\n@@ -52,9 +52,9 @@\n-    public static void main(String[] args) throws Exception {\n-        TKit.run(args, () -> {\n-            \/\/ Case 1\n-            JPackageCommand cmd = JPackageCommand.helloAppImage();\n-            cmd.executeAndAssertHelloAppImageCreated();\n-            Path launcherPath = cmd.appLauncherPath();\n-            HelloApp.assertApp(launcherPath)\n-                    .executeAndVerifyOutput(false, List.of(\"-psn_1_1\"),\n-                            new ArrayList<>());\n+    @Test\n+    public void test1() {\n+        JPackageCommand cmd = JPackageCommand.helloAppImage();\n+        cmd.executeAndAssertHelloAppImageCreated();\n+        Path launcherPath = cmd.appLauncherPath();\n+        HelloApp.assertApp(launcherPath)\n+                .executeAndVerifyOutput(false, List.of(\"-psn_1_1\"),\n+                        new ArrayList<>());\n+    }\n@@ -62,8 +62,9 @@\n-            \/\/ Case 2\n-            cmd.addArguments(\"--arguments\", \"-psn_2_2\");\n-            cmd.executeAndAssertHelloAppImageCreated();\n-            launcherPath = cmd.appLauncherPath();\n-            HelloApp.assertApp(launcherPath)\n-                    .executeAndVerifyOutput(false, List.of(\"-psn_1_1\"),\n-                            List.of(\"-psn_2_2\"));\n-        });\n+    @Test\n+    public void test2() {\n+        JPackageCommand cmd = JPackageCommand.helloAppImage()\n+                .addArguments(\"--arguments\", \"-psn_2_2\");\n+        cmd.executeAndAssertHelloAppImageCreated();\n+        Path launcherPath = cmd.appLauncherPath();\n+        HelloApp.assertApp(launcherPath)\n+                .executeAndVerifyOutput(false, List.of(\"-psn_1_1\"),\n+                        List.of(\"-psn_2_2\"));\n","filename":"test\/jdk\/tools\/jpackage\/macosx\/ArgumentsFilteringTest.java","additions":22,"deletions":21,"binary":false,"changes":43,"status":"modified"}]}