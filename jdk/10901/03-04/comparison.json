{"files":[{"patch":"@@ -108,13 +108,0 @@\n-GrowableArray<ciInstanceKlass*>* ciArrayKlass::interfaces() {\n-  GrowableArray<ciInstanceKlass*>* result = NULL;\n-  GUARDED_VM_ENTRY(\n-    Array<Klass*>* interfaces = Universe::the_array_interfaces_array();\n-    result = new GrowableArray<ciInstanceKlass*>(interfaces->length());\n-    for (int i = 0; i < interfaces->length(); i++) {\n-      ciInstanceKlass* interface = CURRENT_ENV->get_instance_klass(interfaces->at(i));\n-      assert(!CURRENT_ENV->arena()->contains(interfaces), \"should be shareable\");\n-      result->append(interface);\n-    }\n-  );\n-  return result;\n-}\n","filename":"src\/hotspot\/share\/ci\/ciArrayKlass.cpp","additions":0,"deletions":13,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -60,1 +60,0 @@\n-  static GrowableArray<ciInstanceKlass*>* interfaces();\n","filename":"src\/hotspot\/share\/ci\/ciArrayKlass.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -123,2 +123,2 @@\n-TypePtr::InterfaceSet* TypeAryPtr::_array_interfaces = NULL;\n-TypePtr::InterfaceSet* TypeAryKlassPtr::_array_interfaces = NULL;\n+const TypePtr::InterfaceSet* TypeAryPtr::_array_interfaces = NULL;\n+const TypePtr::InterfaceSet* TypeAryKlassPtr::_array_interfaces = NULL;\n@@ -571,1 +571,4 @@\n-  TypeAryPtr::_array_interfaces = new TypePtr::InterfaceSet(ciArrayKlass::interfaces());\n+  GrowableArray<ciInstanceKlass*> array_interfaces;\n+  array_interfaces.push(current->env()->Cloneable_klass());\n+  array_interfaces.push(current->env()->Serializable_klass());\n+  TypeAryPtr::_array_interfaces = new TypePtr::InterfaceSet(&array_interfaces);\n","filename":"src\/hotspot\/share\/opto\/type.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1414,1 +1414,1 @@\n-  static InterfaceSet* _array_interfaces;\n+  static const InterfaceSet* _array_interfaces;\n@@ -1704,1 +1704,1 @@\n-  static InterfaceSet* _array_interfaces;\n+  static const InterfaceSet* _array_interfaces;\n","filename":"src\/hotspot\/share\/opto\/type.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}