{"files":[{"patch":"@@ -75,0 +75,3 @@\n+     * NOTE: This constructor should not be called by\n+     * Apllications, it is for Internal use only. When called directly\n+     * it will create an un-usable instance.\n@@ -80,0 +83,8 @@\n+\n+        \/\/  Creates a Graphics context when Application calls the constructor\n+        \/\/  directly.\n+        StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\n+        if ((graphics == null) && (walker.getCallerClass() != this.getClass())) {\n+            BufferedImage bi = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n+            graphics = bi.createGraphics();\n+        }\n@@ -109,3 +120,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -126,3 +134,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -228,3 +233,1 @@\n-        if (graphics != null) {\n-            graphics.setFont(aFont);\n-        }\n+        graphics.setFont(aFont);\n@@ -237,3 +240,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -249,3 +249,1 @@\n-        if (graphics != null) {\n-            graphics.setColor(aColor);\n-        }\n+        graphics.setColor(aColor);\n@@ -258,3 +256,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -273,3 +268,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -283,3 +275,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -299,3 +288,1 @@\n-        if (graphics != null) {\n-            graphics.translate(x, y);\n-        }\n+        graphics.translate(x, y);\n@@ -311,3 +298,1 @@\n-        if (graphics != null) {\n-            graphics.setPaintMode();\n-        }\n+        graphics.setPaintMode();\n@@ -323,3 +308,1 @@\n-        if (graphics != null) {\n-            graphics.setXORMode(aColor);\n-        }\n+        graphics.setXORMode(aColor);\n@@ -332,3 +315,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -342,3 +322,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -357,3 +334,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -371,3 +345,0 @@\n-        if (graphics == null) {\n-            return null;\n-        }\n@@ -381,3 +352,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -395,3 +363,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -432,3 +397,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -469,3 +431,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -507,3 +466,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -548,3 +504,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -588,3 +541,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -626,3 +576,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -664,3 +611,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -701,3 +645,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -737,3 +678,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -774,3 +712,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -814,3 +749,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -853,3 +785,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -891,3 +820,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -929,3 +855,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -967,3 +890,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -1005,3 +925,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -1043,3 +960,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -1082,3 +996,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -1122,3 +1033,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1169,3 +1077,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1217,3 +1122,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1266,3 +1168,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1317,3 +1216,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1371,3 +1267,0 @@\n-        if (graphics == null) {\n-            return false;\n-        }\n@@ -1428,3 +1321,0 @@\n-        if (graphics == null) {\n-            return;\n-        }\n@@ -1613,1 +1503,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DebugGraphics.java","additions":17,"deletions":127,"binary":false,"changes":144,"status":"modified"}]}