{"files":[{"patch":"@@ -109,0 +109,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -123,0 +126,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -217,1 +223,1 @@\n-      *\/\n+     *\/\n@@ -222,1 +228,3 @@\n-        graphics.setFont(aFont);\n+        if (graphics != null) {\n+            graphics.setFont(aFont);\n+        }\n@@ -226,2 +234,2 @@\n-      * @see #setFont\n-      *\/\n+     * @see #setFont\n+     *\/\n@@ -229,0 +237,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -233,1 +244,1 @@\n-      *\/\n+     *\/\n@@ -238,1 +249,3 @@\n-        graphics.setColor(aColor);\n+        if (graphics != null) {\n+            graphics.setColor(aColor);\n+        }\n@@ -242,2 +255,2 @@\n-      * @see #setColor\n-      *\/\n+     * @see #setColor\n+     *\/\n@@ -245,0 +258,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -257,0 +273,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -264,0 +283,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -273,1 +295,1 @@\n-                \" Translating by: \" + new Point(x, y));\n+                    \" Translating by: \" + new Point(x, y));\n@@ -277,1 +299,3 @@\n-        graphics.translate(x, y);\n+        if (graphics != null) {\n+            graphics.translate(x, y);\n+        }\n@@ -287,1 +311,3 @@\n-        graphics.setPaintMode();\n+        if (graphics != null) {\n+            graphics.setPaintMode();\n+        }\n@@ -297,1 +323,3 @@\n-        graphics.setXORMode(aColor);\n+        if (graphics != null) {\n+            graphics.setXORMode(aColor);\n+        }\n@@ -304,0 +332,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -311,0 +342,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -314,2 +348,2 @@\n-                \" Setting clipRect: \" + (new Rectangle(x, y, width, height)) +\n-                \" New clipRect: \" + graphics.getClip());\n+                    \" Setting clipRect: \" + (new Rectangle(x, y, width, height)) +\n+                    \" New clipRect: \" + graphics.getClip());\n@@ -323,0 +357,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -326,1 +363,1 @@\n-                        \" Setting new clipRect: \" + graphics.getClip());\n+                    \" Setting new clipRect: \" + graphics.getClip());\n@@ -334,0 +371,3 @@\n+        if (graphics == null) {\n+            return null;\n+        }\n@@ -341,0 +381,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -344,1 +387,1 @@\n-                       \" Setting new clipRect: \" +  graphics.getClip());\n+                    \" Setting new clipRect: \" +  graphics.getClip());\n@@ -352,0 +395,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -356,2 +402,2 @@\n-                      \" Drawing rect: \" +\n-                      new Rectangle(x, y, width, height));\n+                    \" Drawing rect: \" +\n+                    new Rectangle(x, y, width, height));\n@@ -386,0 +432,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -390,2 +439,2 @@\n-                      \" Filling rect: \" +\n-                      new Rectangle(x, y, width, height));\n+                    \" Filling rect: \" +\n+                    new Rectangle(x, y, width, height));\n@@ -420,0 +469,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -424,2 +476,2 @@\n-                      \" Clearing rect: \" +\n-                      new Rectangle(x, y, width, height));\n+                    \" Clearing rect: \" +\n+                    new Rectangle(x, y, width, height));\n@@ -455,0 +507,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -459,4 +514,4 @@\n-                      \" Drawing round rect: \" +\n-                      new Rectangle(x, y, width, height) +\n-                      \" arcWidth: \" + arcWidth +\n-                      \" archHeight: \" + arcHeight);\n+                    \" Drawing round rect: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" arcWidth: \" + arcWidth +\n+                    \" archHeight: \" + arcHeight);\n@@ -469,1 +524,1 @@\n-                                            arcWidth, arcHeight);\n+                        arcWidth, arcHeight);\n@@ -479,1 +534,1 @@\n-                                       arcWidth, arcHeight);\n+                        arcWidth, arcHeight);\n@@ -493,0 +548,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -497,4 +555,4 @@\n-                      \" Filling round rect: \" +\n-                      new Rectangle(x, y, width, height) +\n-                      \" arcWidth: \" + arcWidth +\n-                      \" archHeight: \" + arcHeight);\n+                    \" Filling round rect: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" arcWidth: \" + arcWidth +\n+                    \" archHeight: \" + arcHeight);\n@@ -507,1 +565,1 @@\n-                                            arcWidth, arcHeight);\n+                        arcWidth, arcHeight);\n@@ -517,1 +575,1 @@\n-                                       arcWidth, arcHeight);\n+                        arcWidth, arcHeight);\n@@ -530,0 +588,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -534,2 +595,2 @@\n-                       \" Drawing line: from \" + pointToString(x1, y1) +\n-                       \" to \" +  pointToString(x2, y2));\n+                    \" Drawing line: from \" + pointToString(x1, y1) +\n+                    \" to \" +  pointToString(x2, y2));\n@@ -565,0 +626,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -569,3 +633,3 @@\n-                       \" Drawing 3D rect: \" +\n-                       new Rectangle(x, y, width, height) +\n-                       \" Raised bezel: \" + raised);\n+                    \" Drawing 3D rect: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" Raised bezel: \" + raised);\n@@ -600,0 +664,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -604,3 +671,3 @@\n-                       \" Filling 3D rect: \" +\n-                       new Rectangle(x, y, width, height) +\n-                       \" Raised bezel: \" + raised);\n+                    \" Filling 3D rect: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" Raised bezel: \" + raised);\n@@ -634,0 +701,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -638,2 +708,2 @@\n-                      \" Drawing oval: \" +\n-                      new Rectangle(x, y, width, height));\n+                    \" Drawing oval: \" +\n+                    new Rectangle(x, y, width, height));\n@@ -667,0 +737,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -671,2 +744,2 @@\n-                      \" Filling oval: \" +\n-                      new Rectangle(x, y, width, height));\n+                    \" Filling oval: \" +\n+                    new Rectangle(x, y, width, height));\n@@ -701,0 +774,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -705,4 +781,4 @@\n-                      \" Drawing arc: \" +\n-                      new Rectangle(x, y, width, height) +\n-                      \" startAngle: \" + startAngle +\n-                      \" arcAngle: \" + arcAngle);\n+                    \" Drawing arc: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" startAngle: \" + startAngle +\n+                    \" arcAngle: \" + arcAngle);\n@@ -715,1 +791,1 @@\n-                                      startAngle, arcAngle);\n+                        startAngle, arcAngle);\n@@ -738,0 +814,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -742,4 +821,4 @@\n-                      \" Filling arc: \" +\n-                      new Rectangle(x, y, width, height) +\n-                      \" startAngle: \" + startAngle +\n-                      \" arcAngle: \" + arcAngle);\n+                    \" Filling arc: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" startAngle: \" + startAngle +\n+                    \" arcAngle: \" + arcAngle);\n@@ -752,1 +831,1 @@\n-                                      startAngle, arcAngle);\n+                        startAngle, arcAngle);\n@@ -774,0 +853,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -778,4 +860,4 @@\n-                      \" Drawing polyline: \" +\n-                      \" nPoints: \" + nPoints +\n-                      \" X's: \" + xPoints +\n-                      \" Y's: \" + yPoints);\n+                    \" Drawing polyline: \" +\n+                    \" nPoints: \" + nPoints +\n+                    \" X's: \" + xPoints +\n+                    \" Y's: \" + yPoints);\n@@ -809,0 +891,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -813,4 +898,4 @@\n-                      \" Drawing polygon: \" +\n-                      \" nPoints: \" + nPoints +\n-                      \" X's: \" + xPoints +\n-                      \" Y's: \" + yPoints);\n+                    \" Drawing polygon: \" +\n+                    \" nPoints: \" + nPoints +\n+                    \" X's: \" + xPoints +\n+                    \" Y's: \" + yPoints);\n@@ -844,0 +929,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -848,4 +936,4 @@\n-                      \" Filling polygon: \" +\n-                      \" nPoints: \" + nPoints +\n-                      \" X's: \" + xPoints +\n-                      \" Y's: \" + yPoints);\n+                    \" Filling polygon: \" +\n+                    \" nPoints: \" + nPoints +\n+                    \" X's: \" + xPoints +\n+                    \" Y's: \" + yPoints);\n@@ -879,0 +967,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -883,2 +974,2 @@\n-                       \" Drawing string: \\\"\" + aString +\n-                       \"\\\" at: \" + new Point(x, y));\n+                    \" Drawing string: \\\"\" + aString +\n+                    \"\\\" at: \" + new Point(x, y));\n@@ -900,1 +991,1 @@\n-                                  : oldColor);\n+                        : oldColor);\n@@ -914,0 +1005,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -918,2 +1012,2 @@\n-                       \" Drawing text: \\\"\" + iterator +\n-                       \"\\\" at: \" + new Point(x, y));\n+                    \" Drawing text: \\\"\" + iterator +\n+                    \"\\\" at: \" + new Point(x, y));\n@@ -935,1 +1029,1 @@\n-                                  : oldColor);\n+                        : oldColor);\n@@ -949,0 +1043,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -955,1 +1052,1 @@\n-                       \" Drawing bytes at: \" + new Point(x, y));\n+                    \" Drawing bytes at: \" + new Point(x, y));\n@@ -971,1 +1068,1 @@\n-                                  : oldColor);\n+                        : oldColor);\n@@ -985,0 +1082,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -991,1 +1091,1 @@\n-                       \" Drawing chars at \" +  new Point(x, y));\n+                    \" Drawing chars at \" +  new Point(x, y));\n@@ -1007,1 +1107,1 @@\n-                                  : oldColor);\n+                        : oldColor);\n@@ -1022,0 +1122,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1026,2 +1129,2 @@\n-                     \" Drawing image: \" + img +\n-                     \" at: \" + new Point(x, y));\n+                    \" Drawing image: \" + img +\n+                    \" at: \" + new Point(x, y));\n@@ -1041,2 +1144,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1044,1 +1147,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1046,1 +1149,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1053,1 +1156,1 @@\n-                                   imageObserver);\n+                        imageObserver);\n@@ -1066,0 +1169,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1070,2 +1176,2 @@\n-                     \" Drawing image: \" + img +\n-                     \" at: \" + new Rectangle(x, y, width, height));\n+                    \" Drawing image: \" + img +\n+                    \" at: \" + new Rectangle(x, y, width, height));\n@@ -1085,2 +1191,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1088,1 +1194,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1090,1 +1196,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1097,1 +1203,1 @@\n-                                   width, height, imageObserver);\n+                        width, height, imageObserver);\n@@ -1111,0 +1217,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1115,3 +1224,3 @@\n-                     \" Drawing image: \" + img +\n-                     \" at: \" + new Point(x, y) +\n-                     \", bgcolor: \" + bgcolor);\n+                    \" Drawing image: \" + img +\n+                    \" at: \" + new Point(x, y) +\n+                    \", bgcolor: \" + bgcolor);\n@@ -1131,2 +1240,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1134,1 +1243,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1136,1 +1245,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1143,1 +1252,1 @@\n-                                   bgcolor, imageObserver);\n+                        bgcolor, imageObserver);\n@@ -1157,0 +1266,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1161,3 +1273,3 @@\n-                     \" Drawing image: \" + img +\n-                     \" at: \" + new Rectangle(x, y, width, height) +\n-                     \", bgcolor: \" + bgcolor);\n+                    \" Drawing image: \" + img +\n+                    \" at: \" + new Rectangle(x, y, width, height) +\n+                    \", bgcolor: \" + bgcolor);\n@@ -1171,1 +1283,1 @@\n-                                        bgcolor, observer);\n+                        bgcolor, observer);\n@@ -1178,2 +1290,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1181,1 +1293,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1183,1 +1295,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1190,1 +1302,1 @@\n-                                   width, height, bgcolor, imageObserver);\n+                        width, height, bgcolor, imageObserver);\n@@ -1205,0 +1317,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1209,3 +1324,3 @@\n-                     \" Drawing image: \" + img +\n-                     \" destination: \" + new Rectangle(dx1, dy1, dx2, dy2) +\n-                     \" source: \" + new Rectangle(sx1, sy1, sx2, sy2));\n+                    \" Drawing image: \" + img +\n+                    \" destination: \" + new Rectangle(dx1, dy1, dx2, dy2) +\n+                    \" source: \" + new Rectangle(sx1, sy1, sx2, sy2));\n@@ -1219,1 +1334,1 @@\n-                                        sx1, sy1, sx2, sy2, observer);\n+                        sx1, sy1, sx2, sy2, observer);\n@@ -1226,2 +1341,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1229,1 +1344,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1231,1 +1346,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1238,2 +1353,2 @@\n-                                   dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,\n-                                   imageObserver);\n+                        dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,\n+                        imageObserver);\n@@ -1245,1 +1360,1 @@\n-                                  observer);\n+                observer);\n@@ -1256,0 +1371,3 @@\n+        if (graphics == null) {\n+            return false;\n+        }\n@@ -1260,4 +1378,4 @@\n-                     \" Drawing image: \" + img +\n-                     \" destination: \" + new Rectangle(dx1, dy1, dx2, dy2) +\n-                     \" source: \" + new Rectangle(sx1, sy1, sx2, sy2) +\n-                     \", bgcolor: \" + bgcolor);\n+                    \" Drawing image: \" + img +\n+                    \" destination: \" + new Rectangle(dx1, dy1, dx2, dy2) +\n+                    \" source: \" + new Rectangle(sx1, sy1, sx2, sy2) +\n+                    \", bgcolor: \" + bgcolor);\n@@ -1271,1 +1389,1 @@\n-                                        sx1, sy1, sx2, sy2, bgcolor, observer);\n+                        sx1, sy1, sx2, sy2, bgcolor, observer);\n@@ -1278,2 +1396,2 @@\n-                = new FilteredImageSource(oldProducer,\n-                                new DebugGraphicsFilter(info.flashColor));\n+                    = new FilteredImageSource(oldProducer,\n+                    new DebugGraphicsFilter(info.flashColor));\n@@ -1281,1 +1399,1 @@\n-                = Toolkit.getDefaultToolkit().createImage(newProducer);\n+                    = Toolkit.getDefaultToolkit().createImage(newProducer);\n@@ -1283,1 +1401,1 @@\n-                = new DebugGraphicsObserver();\n+                    = new DebugGraphicsObserver();\n@@ -1290,2 +1408,2 @@\n-                                   dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,\n-                                   bgcolor, imageObserver);\n+                        dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2,\n+                        bgcolor, imageObserver);\n@@ -1297,1 +1415,1 @@\n-                                  bgcolor, observer);\n+                bgcolor, observer);\n@@ -1310,0 +1428,3 @@\n+        if (graphics == null) {\n+            return;\n+        }\n@@ -1312,3 +1433,3 @@\n-                      \" Copying area from: \" +\n-                      new Rectangle(x, y, width, height) +\n-                      \" to: \" + new Point(destX, destY));\n+                    \" Copying area from: \" +\n+                    new Rectangle(x, y, width, height) +\n+                    \" to: \" + new Point(destX, destY));\n@@ -1353,9 +1474,9 @@\n-      * operation. The value of <b>options<\/b> indicates how this information\n-      * should be displayed. LOG_OPTION causes a text message to be printed.\n-      * FLASH_OPTION causes the drawing to flash several times. BUFFERED_OPTION\n-      * creates a new Frame that shows each operation on an\n-      * offscreen buffer. The value of <b>options<\/b> is bitwise OR'd into\n-      * the current value. To disable debugging use NONE_OPTION.\n-      *\n-      * @param options indicates how diagnostic information should be displayed\n-      *\/\n+     * operation. The value of <b>options<\/b> indicates how this information\n+     * should be displayed. LOG_OPTION causes a text message to be printed.\n+     * FLASH_OPTION causes the drawing to flash several times. BUFFERED_OPTION\n+     * creates a new Frame that shows each operation on an\n+     * offscreen buffer. The value of <b>options<\/b> is bitwise OR'd into\n+     * the current value. To disable debugging use NONE_OPTION.\n+     *\n+     * @param options indicates how diagnostic information should be displayed\n+     *\/\n@@ -1391,2 +1512,2 @@\n-      * options on a per component basis.\n-      *\/\n+     * options on a per component basis.\n+     *\/\n@@ -1398,1 +1519,1 @@\n-      *\/\n+     *\/\n@@ -1409,3 +1530,3 @@\n-      * zero otherwise. Walks the JComponent's parent tree to determine if\n-      * any debugging options have been set.\n-      *\/\n+     * zero otherwise. Walks the JComponent's parent tree to determine if\n+     * any debugging options have been set.\n+     *\/\n@@ -1430,2 +1551,2 @@\n-      * on.\n-      *\/\n+     * on.\n+     *\/\n@@ -1435,1 +1556,1 @@\n-                    debugGraphicsInfo.componentToDebug != null) {\n+                debugGraphicsInfo.componentToDebug != null) {\n@@ -1455,1 +1576,1 @@\n-      *\/\n+     *\/\n@@ -1480,1 +1601,1 @@\n-      *\/\n+     *\/\n@@ -1483,1 +1604,1 @@\n-            SwingUtilities.appContextGet(debugGraphicsInfoKey);\n+                SwingUtilities.appContextGet(debugGraphicsInfoKey);\n@@ -1487,1 +1608,1 @@\n-                                         debugGraphicsInfo);\n+                    debugGraphicsInfo);\n@@ -1492,1 +1613,1 @@\n-}\n+}\n\\ No newline at end of file\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DebugGraphics.java","additions":279,"deletions":158,"binary":false,"changes":437,"status":"modified"}]}