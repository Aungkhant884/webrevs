{"files":[{"patch":"@@ -75,0 +75,1 @@\n+     * <p>\n@@ -76,1 +77,1 @@\n-     * Apllications, it is for Internal use only. When called directly\n+     * application, it is for Internal use only. When called directly\n@@ -84,4 +85,2 @@\n-        \/\/  Creates a Graphics context when Application calls the constructor\n-        \/\/  directly.\n-        StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\n-        if ((graphics == null) && (walker.getCallerClass() != this.getClass())) {\n+        \/\/  Creates a Graphics context when the constructor is called.\n+        if (graphics == null) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DebugGraphics.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -25,1 +25,0 @@\n-import java.awt.Robot;\n@@ -28,1 +27,0 @@\n-import java.util.concurrent.atomic.AtomicReference;\n@@ -40,3 +38,0 @@\n-    private static final AtomicReference<Throwable> exception =\n-            new AtomicReference<>();\n-\n@@ -44,1 +39,0 @@\n-        Robot robot = new Robot();\n@@ -47,2 +41,0 @@\n-                Thread.currentThread().setUncaughtExceptionHandler(\n-                        new DebugGraphicsNPETest.ExceptionCheck());\n@@ -52,8 +44,0 @@\n-\n-        robot.delay(2000);\n-        robot.waitForIdle();\n-\n-        if (exception.get() != null) {\n-            throw new RuntimeException(\"Test Case Failed. NPE raised!\",\n-                    exception.get());\n-        }\n@@ -65,1 +49,1 @@\n-        Font font = new Font(\"Currier\", Font.PLAIN, 10);\n+        Font font = new Font(Font.SERIF, Font.PLAIN, 10);\n@@ -68,8 +52,0 @@\n-\n-    static class ExceptionCheck implements Thread.UncaughtExceptionHandler {\n-        public void uncaughtException(Thread t, Throwable e)\n-        {\n-            exception.set(e);\n-            System.err.println(\"Uncaught Exception Handled : \" + e);\n-        }\n-    }\n","filename":"test\/jdk\/javax\/swing\/DebugGraphics\/DebugGraphicsNPETest.java","additions":1,"deletions":25,"binary":false,"changes":26,"status":"modified"}]}