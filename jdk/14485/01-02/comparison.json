{"files":[{"patch":"@@ -102,2 +102,0 @@\n-bool   Arguments::_non_default_modules_options_are_specified = false;\n-\n@@ -1262,1 +1260,0 @@\n-    Arguments::_non_default_modules_options_are_specified = true;\n@@ -1887,2 +1884,1 @@\n-    if (ClassLoader::is_module_observable(\"jdk.internal.vm.ci\")\n-         && Arguments::_non_default_modules_options_are_specified) {\n+    if (ClassLoader::is_module_observable(\"jdk.internal.vm.ci\")) {\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -267,3 +267,0 @@\n-  \/\/ Set if an internal module property is set. See is_internal_module_property()\n-  static bool _non_default_modules_options_are_specified;\n-\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -63,0 +63,1 @@\n+    vm.jvmci.enabled \\\n","filename":"test\/hotspot\/jtreg\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+ * @requires !vm.jvmci.enabled\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/serviceability\/ReplaceCriticalClassesForSubgraphs.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -73,0 +73,1 @@\n+    vm.jvmci.enabled \\\n","filename":"test\/jdk\/TEST.ROOT","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,0 +104,1 @@\n+        map.put(\"vm.jvmci.enabled\", this::vmJvmciEnabled);\n@@ -268,0 +269,14 @@\n+\n+    \/**\n+     * @return true if JVMCI is enabled\n+     *\/\n+    protected String vmJvmciEnabled() {\n+        \/\/ builds with jvmci have this flag\n+        if (\"false\".equals(vmJvmci())) {\n+            return \"false\";\n+        }\n+\n+        return \"\" + Compiler.isJVMCIEnabled();\n+    }\n+\n+\n","filename":"test\/jtreg-ext\/requires\/VMProps.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"}]}