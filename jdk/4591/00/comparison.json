{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -174,0 +174,3 @@\n+        if (len == 0) {\n+            return 0;\n+        }\n","filename":"src\/java.base\/share\/classes\/java\/io\/ByteArrayInputStream.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,2 +51,10 @@\n-        ByteArrayInputStream bais =\n-            new ByteArrayInputStream(buf, position, size);\n+        ByteArrayInputStream bais = new ByteArrayInputStream(buf);\n+        bais.readAllBytes();\n+        if (bais.read(new byte[0]) != 0) {\n+            throw new RuntimeException(\"read(byte[]) did not return 0\");\n+        }\n+        if (bais.read(new byte[1], 0, 0) != 0) {\n+            throw new RuntimeException(\"read(byte[],int,int) did not return 0\");\n+        }\n+\n+        bais = new ByteArrayInputStream(buf, position, size);\n@@ -75,1 +83,0 @@\n-        \/\/ XXX transferTo()\n","filename":"test\/jdk\/java\/io\/ByteArrayInputStream\/ReadAllReadNTransferTo.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"}]}