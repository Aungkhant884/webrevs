{"files":[{"patch":"@@ -750,1 +750,0 @@\n-javax\/swing\/JMenu\/4515762\/bug4515762.java 8273578 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,3 +24,9 @@\n-import java.awt.*;\n-import java.awt.event.*;\n-import javax.swing.*;\n+import java.awt.Robot;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.event.KeyEvent;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.JMenuItem;\n+import javax.swing.SwingUtilities;\n@@ -40,2 +46,2 @@\n-    private static volatile boolean actionExpected = false;\n-    private static volatile boolean actionRecieved = false;\n+    private static volatile boolean actionExpected;\n+    private static volatile boolean actionRecieved;\n@@ -102,1 +108,1 @@\n-    public static void checkAction() {\n+    public static void checkAction(String str) {\n@@ -106,1 +112,1 @@\n-            throw new RuntimeException(\"Action has not been received\");\n+            throw new RuntimeException(\"Action has not been received: \" + str);\n@@ -113,1 +119,1 @@\n-            robot.setAutoDelay(250);\n+            robot.setAutoDelay(100);\n@@ -122,0 +128,1 @@\n+                    frame.setLocationRelativeTo(null);\n@@ -129,0 +136,1 @@\n+            robot.delay(1000);\n@@ -136,1 +144,3 @@\n-                Util.hitKeys(robot, KeyEvent.VK_S);\n+                robot.keyPress(KeyEvent.VK_S);\n+                robot.keyRelease(KeyEvent.VK_S);\n+                robot.waitForIdle();\n@@ -149,1 +159,1 @@\n-            checkAction();\n+            checkAction(\"pressing VK_S\");\n@@ -158,1 +168,1 @@\n-            checkAction();\n+            checkAction(\"pressing VK_M\");\n@@ -162,1 +172,2 @@\n-            Util.hitKeys(robot, KeyEvent.VK_T);\n+            robot.keyPress(KeyEvent.VK_T);\n+            robot.keyRelease(KeyEvent.VK_T);\n@@ -165,1 +176,1 @@\n-            checkAction();\n+            checkAction(\"pressing VK_T\");\n@@ -169,1 +180,2 @@\n-            Util.hitKeys(robot, KeyEvent.VK_W);\n+            robot.keyPress(KeyEvent.VK_W);\n+            robot.keyRelease(KeyEvent.VK_W);\n@@ -172,1 +184,1 @@\n-            checkAction();\n+            checkAction(\"pressing VK_W\");\n@@ -176,1 +188,2 @@\n-            Util.hitKeys(robot, KeyEvent.VK_U);\n+            robot.keyPress(KeyEvent.VK_U);\n+            robot.keyRelease(KeyEvent.VK_U);\n@@ -179,1 +192,1 @@\n-            checkAction();\n+            checkAction(\"pressing VK_U\");\n","filename":"test\/jdk\/javax\/swing\/JMenu\/4515762\/bug4515762.java","additions":31,"deletions":18,"binary":false,"changes":49,"status":"modified"}]}