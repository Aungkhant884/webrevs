{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -323,1 +323,1 @@\n-  \/\/ Buffer that fits several sprintfs.\n+  \/\/ Buffer that fits several snprintfs.\n@@ -379,5 +379,4 @@\n-    char *ld_library_path = NEW_C_HEAP_ARRAY(char,\n-                                             strlen(v) + 1 +\n-                                             sizeof(SYS_EXT_DIR) + sizeof(\"\/lib\/\") + strlen(cpu_arch) + sizeof(DEFAULT_LIBPATH) + 1,\n-                                             mtInternal);\n-    sprintf(ld_library_path, \"%s%s\" SYS_EXT_DIR \"\/lib\/%s:\" DEFAULT_LIBPATH, v, v_colon, cpu_arch);\n+    const size_t ld_library_path_size = strlen(v) + 1 + sizeof(SYS_EXT_DIR) +\n+            sizeof(\"\/lib\/\") + strlen(cpu_arch) + sizeof(DEFAULT_LIBPATH) + 1;\n+    char *ld_library_path = NEW_C_HEAP_ARRAY(char, ld_library_path_size, mtInternal);\n+    os::snprintf_checked(ld_library_path, ld_library_path_size, \"%s%s\" SYS_EXT_DIR \"\/lib\/%s:\" DEFAULT_LIBPATH, v, v_colon, cpu_arch);\n@@ -389,1 +388,1 @@\n-  sprintf(buf, \"%s\" EXTENSIONS_DIR \":\" SYS_EXT_DIR EXTENSIONS_DIR, Arguments::get_java_home());\n+  os::snprintf_checked(buf, bufsize, \"%s\" EXTENSIONS_DIR \":\" SYS_EXT_DIR EXTENSIONS_DIR, Arguments::get_java_home());\n@@ -404,1 +403,1 @@\n-  \/\/ Buffer that fits several sprintfs.\n+  \/\/ Buffer that fits several snprintfs.\n@@ -474,5 +473,3 @@\n-    char *ld_library_path = NEW_C_HEAP_ARRAY(char,\n-                                             strlen(v) + 1 + strlen(l) + 1 +\n-                                             system_ext_size + 3,\n-                                             mtInternal);\n-    sprintf(ld_library_path, \"%s%s%s%s%s\" SYS_EXTENSIONS_DIR \":\" SYS_EXTENSIONS_DIRS \":.\",\n+    const size_t ld_library_path_size = strlen(v) + 1 + strlen(l) + 1 + system_ext_size + 3;\n+    char *ld_library_path = NEW_C_HEAP_ARRAY(char, ld_library_path_size, mtInternal);\n+    os::snprintf_checked(ld_library_path, ld_library_path_size, \"%s%s%s%s%s\" SYS_EXTENSIONS_DIR \":\" SYS_EXTENSIONS_DIRS \":.\",\n@@ -489,1 +486,1 @@\n-  sprintf(buf, \"%s\" SYS_EXTENSIONS_DIR \":%s\" EXTENSIONS_DIR \":\" SYS_EXTENSIONS_DIRS,\n+  os::snprintf_checked(buf, bufsize, \"%s\" SYS_EXTENSIONS_DIR \":%s\" EXTENSIONS_DIR \":\" SYS_EXTENSIONS_DIRS,\n@@ -1581,1 +1578,1 @@\n-bool os::get_page_info(char *start, page_info* info) {\n+bool os::numa_get_group_ids_for_range(const void** addresses, int* lgrp_ids, size_t count) {\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":13,"deletions":16,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -34,9 +34,3 @@\n-serviceability\/sa\/ClhsdbCDSCore.java                          8268722   macosx-x64\n-serviceability\/sa\/ClhsdbFindPC.java#xcomp-core                8268722,8284045   macosx-x64,generic-all\n-serviceability\/sa\/ClhsdbFindPC.java#no-xcomp-core             8268722   macosx-x64\n-serviceability\/sa\/ClhsdbFindPC.java#xcomp-process             8276402   generic-all\n-serviceability\/sa\/ClhsdbJstack.java#id0                       8276402   generic-all\n-serviceability\/sa\/ClhsdbPmap.java#core                        8268722   macosx-x64\n-serviceability\/sa\/ClhsdbPstack.java#core                      8268722   macosx-x64\n-serviceability\/sa\/TestJmapCore.java                           8268722,8268283,8270202   macosx-x64,linux-aarch64,linux-x64\n-serviceability\/sa\/TestJmapCoreMetaspace.java                  8268722,8268636   generic-all\n+serviceability\/sa\/ClhsdbFindPC.java#xcomp-core                8284045   generic-all\n+serviceability\/sa\/TestJmapCore.java                           8268283,8270202   linux-aarch64,linux-x64,macosx-aarch64\n+serviceability\/sa\/TestJmapCoreMetaspace.java                  8268636   generic-all\n@@ -50,2 +44,0 @@\n-vmTestbase\/nsk\/jdi\/ExceptionRequest\/addInstanceFilter\/instancefilter001\/TestDescription.java 8298059 generic-x64\n-vmTestbase\/nsk\/jdi\/ExceptionRequest\/addInstanceFilter\/instancefilter004\/TestDescription.java 8298059 generic-x64\n","filename":"test\/hotspot\/jtreg\/ProblemList-zgc.txt","additions":3,"deletions":11,"binary":false,"changes":14,"status":"modified"}]}