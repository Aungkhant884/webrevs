{"files":[{"patch":"@@ -1623,1 +1623,1 @@\n-  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n+  vsetvli_helper(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n@@ -1642,1 +1642,1 @@\n-  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n+  vsetvli_helper(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n@@ -1673,3 +1673,3 @@\n-void C2_MacroAssembler::rvv_reduce_integral(Register dst, VectorRegister tmp,\n-                                            Register src1, VectorRegister src2,\n-                                            BasicType bt, int opc, int vector_length) {\n+void C2_MacroAssembler::reduce_integral_v(Register dst, VectorRegister tmp,\n+                                          Register src1, VectorRegister src2,\n+                                          BasicType bt, int opc, int vector_length) {\n@@ -1678,1 +1678,1 @@\n-  rvv_vsetvli(bt, vector_length);\n+  vsetvli_helper(bt, vector_length);\n@@ -1711,1 +1711,1 @@\n-void C2_MacroAssembler::rvv_vsetvli(BasicType bt, int vector_length, LMUL vlmul, Register tmp) {\n+void C2_MacroAssembler::vsetvli_helper(BasicType bt, int vector_length, LMUL vlmul, Register tmp) {\n@@ -1727,1 +1727,1 @@\n-  rvv_vsetvli(bt, vector_length);\n+  vsetvli_helper(bt, vector_length);\n@@ -1749,1 +1749,1 @@\n-  rvv_vsetvli(bt, vector_length);\n+  vsetvli_helper(bt, vector_length);\n@@ -1784,2 +1784,2 @@\n-void C2_MacroAssembler::vector_integer_extend(VectorRegister dst, BasicType dst_bt, int vector_length,\n-                                              VectorRegister src, BasicType src_bt) {\n+void C2_MacroAssembler::integer_extend_v(VectorRegister dst, BasicType dst_bt, int vector_length,\n+                                         VectorRegister src, BasicType src_bt) {\n@@ -1794,1 +1794,1 @@\n-  rvv_vsetvli(dst_bt, vector_length);\n+  vsetvli_helper(dst_bt, vector_length);\n@@ -1822,2 +1822,2 @@\n-void C2_MacroAssembler::vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int vector_length,\n-                                              VectorRegister src, BasicType src_bt, VectorRegister tmp) {\n+void C2_MacroAssembler::integer_narrow_v(VectorRegister dst, BasicType dst_bt, int vector_length,\n+                                         VectorRegister src, BasicType src_bt, VectorRegister tmp) {\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -197,3 +197,3 @@\n- void rvv_reduce_integral(Register dst, VectorRegister tmp,\n-                          Register src1, VectorRegister src2,\n-                          BasicType bt, int opc, int vector_length);\n+ void reduce_integral_v(Register dst, VectorRegister tmp,\n+                        Register src1, VectorRegister src2,\n+                        BasicType bt, int opc, int vector_length);\n@@ -201,1 +201,1 @@\n- void rvv_vsetvli(BasicType bt, int vector_length, LMUL vlmul = Assembler::m1, Register tmp = t0);\n+ void vsetvli_helper(BasicType bt, int vector_length, LMUL vlmul = Assembler::m1, Register tmp = t0);\n@@ -214,1 +214,1 @@\n-   rvv_vsetvli(T_BYTE, MaxVectorSize >> 3);\n+   vsetvli_helper(T_BYTE, MaxVectorSize >> 3);\n@@ -220,1 +220,1 @@\n-   rvv_vsetvli(T_BYTE, MaxVectorSize >> 3);\n+   vsetvli_helper(T_BYTE, MaxVectorSize >> 3);\n@@ -233,2 +233,2 @@\n-  void vector_integer_extend(VectorRegister dst, BasicType dst_bt, int vector_length,\n-                             VectorRegister src, BasicType src_bt);\n+  void integer_extend_v(VectorRegister dst, BasicType dst_bt, int vector_length,\n+                        VectorRegister src, BasicType src_bt);\n@@ -236,2 +236,2 @@\n-  void vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int vector_length,\n-                             VectorRegister src, BasicType src_bt, VectorRegister tmp);\n+  void integer_narrow_v(VectorRegister dst, BasicType dst_bt, int vector_length,\n+                        VectorRegister src, BasicType src_bt, VectorRegister tmp);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.hpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-    masm.rvv_vsetvli(bt, vector_length);\n+    masm.vsetvli_helper(bt, vector_length);\n@@ -122,1 +122,1 @@\n-    __ rvv_vsetvli(T_BOOLEAN, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BOOLEAN, Matcher::vector_length(this));\n@@ -132,1 +132,1 @@\n-    __ rvv_vsetvli(T_BOOLEAN, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BOOLEAN, Matcher::vector_length(this));\n@@ -144,1 +144,1 @@\n-    __ rvv_vsetvli(T_BOOLEAN, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BOOLEAN, Matcher::vector_length(this));\n@@ -231,1 +231,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -245,1 +245,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -259,1 +259,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -273,1 +273,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -285,1 +285,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -296,1 +296,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -309,1 +309,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -322,1 +322,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -335,1 +335,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -348,1 +348,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -361,1 +361,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -374,1 +374,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -393,1 +393,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -408,1 +408,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -424,1 +424,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -440,1 +440,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -456,1 +456,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -471,1 +471,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -484,1 +484,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -501,1 +501,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -519,1 +519,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -534,1 +534,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -608,1 +608,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -622,1 +622,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -640,1 +640,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -656,1 +656,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -674,1 +674,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -690,1 +690,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -706,1 +706,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -720,1 +720,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -735,1 +735,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -748,1 +748,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -761,1 +761,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -774,1 +774,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -789,1 +789,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -802,1 +802,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -815,1 +815,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -828,1 +828,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -842,1 +842,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -854,1 +854,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -866,1 +866,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -878,1 +878,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -890,1 +890,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -902,1 +902,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -920,1 +920,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -934,1 +934,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -949,1 +949,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -960,1 +960,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -973,1 +973,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -984,1 +984,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -1004,3 +1004,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1021,3 +1021,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1042,3 +1042,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1059,3 +1059,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1080,3 +1080,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1097,3 +1097,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1118,3 +1118,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1135,3 +1135,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1150,1 +1150,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src2));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this, $src2));\n@@ -1167,1 +1167,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this, $src2));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this, $src2));\n@@ -1188,3 +1188,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1203,3 +1203,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1222,3 +1222,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1237,3 +1237,3 @@\n-    __ rvv_reduce_integral($dst$$Register, as_VectorRegister($tmp$$reg),\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt,\n-                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n+    __ reduce_integral_v($dst$$Register, as_VectorRegister($tmp$$reg),\n+                         $src1$$Register, as_VectorRegister($src2$$reg), bt,\n+                         this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1315,1 +1315,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1326,1 +1326,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1337,1 +1337,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1348,1 +1348,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1359,1 +1359,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1370,1 +1370,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1381,1 +1381,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1392,1 +1392,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1403,1 +1403,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -1414,1 +1414,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -1428,1 +1428,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1447,1 +1447,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1465,1 +1465,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1477,1 +1477,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1490,1 +1490,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1508,1 +1508,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1526,1 +1526,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1539,1 +1539,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1552,1 +1552,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1571,1 +1571,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1589,1 +1589,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1601,1 +1601,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1614,1 +1614,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1635,1 +1635,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1656,1 +1656,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1669,1 +1669,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1682,1 +1682,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1701,1 +1701,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1719,1 +1719,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1731,1 +1731,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1744,1 +1744,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1765,1 +1765,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1786,1 +1786,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1799,1 +1799,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1812,1 +1812,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1830,1 +1830,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1848,1 +1848,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1866,1 +1866,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1883,1 +1883,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1905,1 +1905,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1927,1 +1927,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -1945,1 +1945,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -1962,1 +1962,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -1979,1 +1979,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -1996,1 +1996,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -2009,1 +2009,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -2023,1 +2023,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2036,1 +2036,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -2047,1 +2047,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -2060,1 +2060,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_BYTE, Matcher::vector_length(this));\n@@ -2072,1 +2072,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this));\n@@ -2084,1 +2084,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this));\n@@ -2096,1 +2096,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -2108,1 +2108,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -2120,1 +2120,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -2138,1 +2138,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2152,1 +2152,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2426,1 +2426,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2465,1 +2465,1 @@\n-    __ rvv_vsetvli(bt, (uint)($con$$constant));\n+    __ vsetvli_helper(bt, (uint)($con$$constant));\n@@ -2476,1 +2476,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2493,1 +2493,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2505,1 +2505,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2522,1 +2522,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2538,1 +2538,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2551,1 +2551,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2564,1 +2564,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2613,1 +2613,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2631,2 +2631,2 @@\n-      __ vector_integer_extend(as_VectorRegister($dst$$reg), bt == T_FLOAT ? T_INT : T_LONG,\n-                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n+      __ integer_extend_v(as_VectorRegister($dst$$reg), bt == T_FLOAT ? T_INT : T_LONG,\n+                          Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n@@ -2636,2 +2636,2 @@\n-      __ vector_integer_extend(as_VectorRegister($dst$$reg), bt, \n-                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n+      __ integer_extend_v(as_VectorRegister($dst$$reg), bt, \n+                          Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n@@ -2651,2 +2651,2 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), T_BYTE, Matcher::vector_length(this),\n-                             as_VectorRegister($src$$reg), T_SHORT, as_VectorRegister($tmp$$reg));\n+    __ integer_narrow_v(as_VectorRegister($dst$$reg), T_BYTE, Matcher::vector_length(this),\n+                        as_VectorRegister($src$$reg), T_SHORT, as_VectorRegister($tmp$$reg));\n@@ -2664,2 +2664,2 @@\n-    __ vector_integer_extend(as_VectorRegister($dst$$reg), Matcher::vector_element_basic_type(this),\n-                             Matcher::vector_length(this), as_VectorRegister($src$$reg), T_SHORT);\n+    __ integer_extend_v(as_VectorRegister($dst$$reg), Matcher::vector_element_basic_type(this),\n+                        Matcher::vector_length(this), as_VectorRegister($src$$reg), T_SHORT);\n@@ -2677,1 +2677,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2681,1 +2681,1 @@\n-      __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n+      __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2698,2 +2698,2 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n-                             as_VectorRegister($src$$reg), T_INT, as_VectorRegister($tmp$$reg));\n+    __ integer_narrow_v(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n+                        as_VectorRegister($src$$reg), T_INT, as_VectorRegister($tmp$$reg));\n@@ -2710,2 +2710,2 @@\n-    __ vector_integer_extend(as_VectorRegister($dst$$reg), T_LONG,\n-                             Matcher::vector_length(this), as_VectorRegister($src$$reg), T_INT);\n+    __ integer_extend_v(as_VectorRegister($dst$$reg), T_LONG,\n+                        Matcher::vector_length(this), as_VectorRegister($src$$reg), T_INT);\n@@ -2721,1 +2721,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -2734,1 +2734,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2752,2 +2752,2 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n-                             as_VectorRegister($src$$reg), T_LONG, as_VectorRegister($tmp$$reg));\n+    __ integer_narrow_v(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n+                        as_VectorRegister($src$$reg), T_LONG, as_VectorRegister($tmp$$reg));\n@@ -2763,1 +2763,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2775,1 +2775,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_DOUBLE, Matcher::vector_length(this));\n@@ -2791,1 +2791,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_SHORT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2794,1 +2794,1 @@\n-      __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this), Assembler::mf2);\n+      __ vsetvli_helper(T_BYTE, Matcher::vector_length(this), Assembler::mf2);\n@@ -2807,1 +2807,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this));\n@@ -2819,1 +2819,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2831,1 +2831,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2848,1 +2848,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_INT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2852,2 +2852,2 @@\n-      __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n-                               as_VectorRegister($dst$$reg), T_INT, as_VectorRegister($tmp$$reg));\n+      __ integer_narrow_v(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n+                          as_VectorRegister($dst$$reg), T_INT, as_VectorRegister($tmp$$reg));\n@@ -2865,1 +2865,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n+    __ vsetvli_helper(T_LONG, Matcher::vector_length(this));\n@@ -2876,1 +2876,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n+    __ vsetvli_helper(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2912,1 +2912,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n@@ -2914,1 +2914,1 @@\n-    __ rvv_vsetvli(T_BYTE, length_in_bytes_resize);\n+    __ vsetvli_helper(T_BYTE, length_in_bytes_resize);\n@@ -2940,1 +2940,1 @@\n-    __ rvv_vsetvli(from_bt, Matcher::vector_length(this, $src));\n+    __ vsetvli_helper(from_bt, Matcher::vector_length(this, $src));\n@@ -2944,1 +2944,1 @@\n-    __ rvv_vsetvli(to_bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(to_bt, Matcher::vector_length(this));\n@@ -2958,1 +2958,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n+    __ vsetvli_helper(bt, Matcher::vector_length(this));\n","filename":"src\/hotspot\/cpu\/riscv\/riscv_v.ad","additions":194,"deletions":194,"binary":false,"changes":388,"status":"modified"}]}