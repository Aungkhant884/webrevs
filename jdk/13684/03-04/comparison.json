{"files":[{"patch":"@@ -1620,1 +1620,1 @@\n-                                    bool is_double, bool is_min, int length_in_bytes) {\n+                                    bool is_double, bool is_min, int vector_length) {\n@@ -1623,1 +1623,1 @@\n-  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, length_in_bytes);\n+  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n@@ -1638,1 +1638,1 @@\n-                                           bool is_double, bool is_min, int length_in_bytes) {\n+                                           bool is_double, bool is_min, int vector_length) {\n@@ -1642,1 +1642,1 @@\n-  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, length_in_bytes);\n+  rvv_vsetvli(is_double ? T_DOUBLE : T_FLOAT, vector_length);\n@@ -1675,1 +1675,1 @@\n-                                            BasicType bt, int opc, int length_in_bytes) {\n+                                            BasicType bt, int opc, int vector_length) {\n@@ -1678,1 +1678,1 @@\n-  rvv_vsetvli(bt, length_in_bytes);\n+  rvv_vsetvli(bt, vector_length);\n@@ -1710,2 +1710,2 @@\n-\/\/ (vlmul = m1, vma = mu, vta = tu, vill = false)\n-void C2_MacroAssembler::rvv_vsetvli(BasicType bt, int length_in_bytes, LMUL vlmul, Register tmp) {\n+\/\/ (vma = mu, vta = tu, vill = false)\n+void C2_MacroAssembler::rvv_vsetvli(BasicType bt, int vector_length, LMUL vlmul, Register tmp) {\n@@ -1713,1 +1713,3 @@\n-  if (length_in_bytes == MaxVectorSize) {\n+  if (vector_length <= 31) {\n+    vsetivli(tmp, vector_length, sew, vlmul);\n+  } else if (vector_length == (MaxVectorSize \/ type2aelembytes(bt))) {\n@@ -1716,7 +1718,2 @@\n-    int num_elements = length_in_bytes \/ type2aelembytes(bt);\n-    if (num_elements <= 31) {\n-      vsetivli(tmp, num_elements, sew, vlmul);\n-    } else {\n-      mv(tmp, num_elements);\n-      vsetvli(tmp, tmp, sew, vlmul);\n-    }\n+    mv(tmp, vector_length);\n+    vsetvli(tmp, tmp, sew, vlmul);\n@@ -1726,1 +1723,1 @@\n-void C2_MacroAssembler::compare_integral_v(VectorRegister vd, BasicType bt, int length_in_bytes,\n+void C2_MacroAssembler::compare_integral_v(VectorRegister vd, BasicType bt, int vector_length,\n@@ -1730,1 +1727,1 @@\n-  rvv_vsetvli(bt, length_in_bytes);\n+  rvv_vsetvli(bt, vector_length);\n@@ -1745,1 +1742,1 @@\n-void C2_MacroAssembler::compare_floating_point_v(VectorRegister vd, BasicType bt, int length_in_bytes,\n+void C2_MacroAssembler::compare_floating_point_v(VectorRegister vd, BasicType bt, int vector_length,\n@@ -1752,1 +1749,1 @@\n-  rvv_vsetvli(bt, length_in_bytes);\n+  rvv_vsetvli(bt, vector_length);\n@@ -1787,1 +1784,1 @@\n-void C2_MacroAssembler::vector_integer_extend(VectorRegister dst, BasicType dst_bt, int length_in_bytes,\n+void C2_MacroAssembler::vector_integer_extend(VectorRegister dst, BasicType dst_bt, int vector_length,\n@@ -1797,1 +1794,1 @@\n-  rvv_vsetvli(dst_bt, length_in_bytes);\n+  rvv_vsetvli(dst_bt, vector_length);\n@@ -1825,1 +1822,1 @@\n-void C2_MacroAssembler::vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int length_in_bytes,\n+void C2_MacroAssembler::vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int vector_length,\n@@ -1830,1 +1827,1 @@\n-  mv(t0, (length_in_bytes \/ type2aelembytes(dst_bt)));\n+  mv(t0, vector_length);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":21,"deletions":24,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -190,1 +190,1 @@\n-                  bool is_double, bool is_min, int length_in_bytes);\n+                  bool is_double, bool is_min, int vector_length);\n@@ -195,1 +195,1 @@\n-                         bool is_double, bool is_min, int length_in_bytes);\n+                         bool is_double, bool is_min, int vector_length);\n@@ -199,1 +199,1 @@\n-                          BasicType bt, int opc, int length_in_bytes);\n+                          BasicType bt, int opc, int vector_length);\n@@ -201,1 +201,1 @@\n- void rvv_vsetvli(BasicType bt, int length_in_bytes, LMUL vlmul = Assembler::m1, Register tmp = t0);\n+ void rvv_vsetvli(BasicType bt, int vector_length, LMUL vlmul = Assembler::m1, Register tmp = t0);\n@@ -203,1 +203,1 @@\n- void compare_integral_v(VectorRegister dst, BasicType bt, int length_in_bytes,\n+ void compare_integral_v(VectorRegister dst, BasicType bt, int vector_length,\n@@ -206,1 +206,1 @@\n- void compare_floating_point_v(VectorRegister dst, BasicType bt, int length_in_bytes,\n+ void compare_floating_point_v(VectorRegister dst, BasicType bt, int vector_length,\n@@ -233,1 +233,1 @@\n-  void vector_integer_extend(VectorRegister dst, BasicType dst_bt, int length_in_bytes,\n+  void vector_integer_extend(VectorRegister dst, BasicType dst_bt, int vector_length,\n@@ -236,1 +236,1 @@\n-  void vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int length_in_bytes,\n+  void vector_integer_narrow(VectorRegister dst, BasicType dst_bt, int vector_length,\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.hpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -1947,1 +1947,0 @@\n-    case Op_MaskAll:\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-                        int length_in_bytes, Assembler::VectorMask vm = Assembler::unmasked) {\n+                        int vector_length, Assembler::VectorMask vm = Assembler::unmasked) {\n@@ -41,1 +41,1 @@\n-    masm.rvv_vsetvli(bt, length_in_bytes);\n+    masm.rvv_vsetvli(bt, vector_length);\n@@ -99,1 +99,1 @@\n-              Matcher::vector_element_basic_type(this), as_Register($mem$$base), Matcher::vector_length_in_bytes(this));\n+              Matcher::vector_element_basic_type(this), as_Register($mem$$base), Matcher::vector_length(this));\n@@ -111,1 +111,1 @@\n-              Matcher::vector_element_basic_type(this, $src), as_Register($mem$$base), Matcher::vector_length_in_bytes(this, $src));\n+              Matcher::vector_element_basic_type(this, $src), as_Register($mem$$base), Matcher::vector_length(this, $src));\n@@ -162,2 +162,2 @@\n-    uint length_in_bytes = Matcher::vector_length_in_bytes(this);\n-    __ compare_integral_v(as_VectorRegister($dst$$reg), bt, length_in_bytes, as_VectorRegister($src1$$reg),\n+    uint vector_length = Matcher::vector_length(this);\n+    __ compare_integral_v(as_VectorRegister($dst$$reg), bt, vector_length, as_VectorRegister($src1$$reg),\n@@ -179,2 +179,2 @@\n-    uint length_in_bytes = Matcher::vector_length_in_bytes(this);\n-    __ compare_integral_v(as_VectorRegister($dst$$reg), bt, length_in_bytes, as_VectorRegister($src1$$reg),\n+    uint vector_length = Matcher::vector_length(this);\n+    __ compare_integral_v(as_VectorRegister($dst$$reg), bt, vector_length, as_VectorRegister($src1$$reg),\n@@ -196,2 +196,2 @@\n-    uint length_in_bytes = Matcher::vector_length_in_bytes(this);\n-    __ compare_floating_point_v(as_VectorRegister($dst$$reg), bt, length_in_bytes,\n+    uint vector_length = Matcher::vector_length(this);\n+    __ compare_floating_point_v(as_VectorRegister($dst$$reg), bt, vector_length,\n@@ -213,2 +213,2 @@\n-    uint length_in_bytes = Matcher::vector_length_in_bytes(this);\n-    __ compare_floating_point_v(as_VectorRegister($dst$$reg), bt, length_in_bytes,\n+    uint vector_length = Matcher::vector_length(this);\n+    __ compare_floating_point_v(as_VectorRegister($dst$$reg), bt, vector_length,\n@@ -231,1 +231,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -245,1 +245,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -259,1 +259,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -273,1 +273,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -285,1 +285,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -296,1 +296,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -309,1 +309,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -322,1 +322,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -335,1 +335,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -348,1 +348,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -361,1 +361,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -374,1 +374,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -393,1 +393,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -408,1 +408,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -424,1 +424,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -440,1 +440,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -456,1 +456,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -471,1 +471,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -484,1 +484,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -501,1 +501,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -519,1 +519,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -534,1 +534,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -552,1 +552,1 @@\n-                   false \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length_in_bytes(this));\n+                   false \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length(this));\n@@ -566,1 +566,1 @@\n-                   true \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length_in_bytes(this));\n+                   true \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length(this));\n@@ -580,1 +580,1 @@\n-                   false \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length_in_bytes(this));\n+                   false \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length(this));\n@@ -594,1 +594,1 @@\n-                   true \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length_in_bytes(this));\n+                   true \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length(this));\n@@ -608,1 +608,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -622,1 +622,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -640,1 +640,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -656,1 +656,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -674,1 +674,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -690,1 +690,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -706,1 +706,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -720,1 +720,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -735,1 +735,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -748,1 +748,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -761,1 +761,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -774,1 +774,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -789,1 +789,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -802,1 +802,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -815,1 +815,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -828,1 +828,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -842,1 +842,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -854,1 +854,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -866,1 +866,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -878,1 +878,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -890,1 +890,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -902,1 +902,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -920,1 +920,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -934,1 +934,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -949,1 +949,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -960,1 +960,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -973,1 +973,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -984,1 +984,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -1006,1 +1006,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1023,1 +1023,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1044,1 +1044,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1061,1 +1061,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1082,1 +1082,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1099,1 +1099,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1120,1 +1120,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1137,1 +1137,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1150,1 +1150,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this, $src2));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src2));\n@@ -1167,1 +1167,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this, $src2));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this, $src2));\n@@ -1190,1 +1190,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1205,1 +1205,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1224,1 +1224,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1239,1 +1239,1 @@\n-                           this->ideal_Opcode(), Matcher::vector_length_in_bytes(this, $src2));\n+                           this->ideal_Opcode(), Matcher::vector_length(this, $src2));\n@@ -1256,1 +1256,1 @@\n-                          false \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length_in_bytes(this, $src2));\n+                          false \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length(this, $src2));\n@@ -1271,1 +1271,1 @@\n-                          true \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length_in_bytes(this, $src2));\n+                          true \/* is_double *\/, false \/* is_min *\/, Matcher::vector_length(this, $src2));\n@@ -1288,1 +1288,1 @@\n-                          false \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length_in_bytes(this, $src2));\n+                          false \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length(this, $src2));\n@@ -1303,1 +1303,1 @@\n-                          true \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length_in_bytes(this, $src2));\n+                          true \/* is_double *\/, true \/* is_min *\/, Matcher::vector_length(this, $src2));\n@@ -1343,1 +1343,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1354,1 +1354,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1365,1 +1365,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1376,1 +1376,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1387,1 +1387,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1398,1 +1398,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1409,1 +1409,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1420,1 +1420,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1431,1 +1431,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -1442,1 +1442,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -1456,1 +1456,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1475,1 +1475,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1493,1 +1493,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1505,1 +1505,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1518,1 +1518,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1536,1 +1536,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1554,1 +1554,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1567,1 +1567,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1580,1 +1580,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1599,1 +1599,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1617,1 +1617,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1629,1 +1629,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1642,1 +1642,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1663,1 +1663,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1684,1 +1684,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1697,1 +1697,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1710,1 +1710,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1729,1 +1729,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1747,1 +1747,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1759,1 +1759,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1772,1 +1772,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1793,1 +1793,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1814,1 +1814,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1827,1 +1827,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1840,1 +1840,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1858,1 +1858,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1876,1 +1876,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1894,1 +1894,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1911,1 +1911,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -1933,1 +1933,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -1955,1 +1955,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -1973,1 +1973,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -1990,1 +1990,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -2007,1 +2007,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -2024,1 +2024,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -2037,1 +2037,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -2051,1 +2051,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2064,1 +2064,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -2075,1 +2075,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -2088,1 +2088,1 @@\n-    __ rvv_vsetvli(T_BYTE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_BYTE, Matcher::vector_length(this));\n@@ -2100,1 +2100,1 @@\n-    __ rvv_vsetvli(T_SHORT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_SHORT, Matcher::vector_length(this));\n@@ -2112,1 +2112,1 @@\n-    __ rvv_vsetvli(T_INT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_INT, Matcher::vector_length(this));\n@@ -2124,1 +2124,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -2136,1 +2136,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this));\n@@ -2148,1 +2148,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -2166,1 +2166,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2180,1 +2180,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2454,1 +2454,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2503,1 +2503,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2520,1 +2520,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2527,14 +2527,0 @@\n-instruct vmaskAllI_masked(vRegMask dst, iRegI src, vRegMask_V0 v0, vReg tmp) %{\n-  match(Set dst (MaskAll src v0));\n-  effect(TEMP_DEF dst, TEMP tmp);\n-  format %{ \"vmaskAllI_masked $dst, $src, $v0\\t# KILL $tmp\" %}\n-  ins_encode %{\n-    BasicType bt = Matcher::vector_element_basic_type(this);\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n-    __ vmv_v_x(as_VectorRegister($tmp$$reg), as_Register($src$$reg));\n-    __ vmclr_m(as_VectorRegister($dst$$reg));\n-    __ vmsne_vx(as_VectorRegister($dst$$reg), as_VectorRegister($tmp$$reg), zr, Assembler::v0_t);\n-  %}\n-  ins_pipe(pipe_slow);\n-%}\n-\n@@ -2546,1 +2532,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2563,1 +2549,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2570,14 +2556,0 @@\n-instruct vmaskAllL_masked(vRegMask dst, iRegL src, vRegMask_V0 v0, vReg tmp) %{\n-  match(Set dst (MaskAll src v0));\n-  effect(TEMP_DEF dst, TEMP tmp);\n-  format %{ \"vmaskAllL_masked $dst, $src, $v0\\t# KILL $tmp\" %}\n-  ins_encode %{\n-    BasicType bt = Matcher::vector_element_basic_type(this);\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n-    __ vmv_v_x(as_VectorRegister($tmp$$reg), as_Register($src$$reg));\n-    __ vmclr_m(as_VectorRegister($dst$$reg));\n-    __ vmsne_vx(as_VectorRegister($dst$$reg), as_VectorRegister($tmp$$reg), zr, Assembler::v0_t);\n-  %}\n-  ins_pipe(pipe_slow);\n-%}\n-\n@@ -2593,1 +2565,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2606,1 +2578,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2619,1 +2591,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2644,1 +2616,1 @@\n-              Matcher::vector_length_in_bytes(this), Assembler::v0_t);\n+              Matcher::vector_length(this), Assembler::v0_t);\n@@ -2656,1 +2628,1 @@\n-              Matcher::vector_length_in_bytes(this, $src), Assembler::v0_t);\n+              Matcher::vector_length(this, $src), Assembler::v0_t);\n@@ -2668,1 +2640,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2687,1 +2659,1 @@\n-                               Matcher::vector_length_in_bytes(this), as_VectorRegister($src$$reg), T_BYTE);\n+                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n@@ -2691,1 +2663,1 @@\n-                               Matcher::vector_length_in_bytes(this), as_VectorRegister($src$$reg), T_BYTE);\n+                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_BYTE);\n@@ -2702,1 +2674,1 @@\n-  effect(TEMP_DEF dst,TEMP tmp);\n+  effect(TEMP_DEF dst, TEMP tmp);\n@@ -2705,1 +2677,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), T_BYTE, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), T_BYTE, Matcher::vector_length(this),\n@@ -2720,1 +2692,1 @@\n-                               Matcher::vector_length_in_bytes(this), as_VectorRegister($src$$reg), T_SHORT);\n+                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_SHORT);\n@@ -2724,1 +2696,1 @@\n-                               Matcher::vector_length_in_bytes(this), as_VectorRegister($src$$reg), T_SHORT);\n+                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_SHORT);\n@@ -2740,1 +2712,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n@@ -2754,1 +2726,1 @@\n-      __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+      __ rvv_vsetvli(bt, Matcher::vector_length(this));\n@@ -2758,1 +2730,1 @@\n-                               Matcher::vector_length_in_bytes(this), as_VectorRegister($src$$reg), T_INT);\n+                               Matcher::vector_length(this), as_VectorRegister($src$$reg), T_INT);\n@@ -2778,1 +2750,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n@@ -2790,1 +2762,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), T_INT, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), T_INT, Matcher::vector_length(this),\n@@ -2802,1 +2774,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this));\n@@ -2817,1 +2789,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this, $src));\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src));\n@@ -2820,1 +2792,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n@@ -2827,2 +2799,12 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_INT ||\n-            Matcher::vector_element_basic_type(n) == T_LONG);\n+  predicate(Matcher::vector_element_basic_type(n) == T_INT);\n+  match(Set dst (VectorCastF2X src));\n+  format %{ \"vcvtFtoI $dst, $src\" %}\n+  ins_encode %{\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src));\n+    __ vfcvt_x_f_v(as_VectorRegister($dst$$reg), as_VectorRegister($src$$reg));\n+  %}\n+  ins_pipe(pipe_slow);\n+%}\n+\n+instruct vcvtFtoL(vReg dst, vReg src) %{\n+  predicate(Matcher::vector_element_basic_type(n) == T_LONG);\n@@ -2831,1 +2813,1 @@\n-  format %{ \"vcvtFtoX $dst, $src\" %}\n+  format %{ \"vcvtFtoL $dst, $src\" %}\n@@ -2833,8 +2815,2 @@\n-    BasicType bt = Matcher::vector_element_basic_type(this);\n-    if (bt == T_INT) {\n-      __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this, $src));\n-      __ vfcvt_x_f_v(as_VectorRegister($dst$$reg), as_VectorRegister($src$$reg));\n-    } else {\n-      __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this, $src), Assembler::mf2);\n-      __ vfwcvt_x_f_v(as_VectorRegister($dst$$reg), as_VectorRegister($src$$reg));\n-    }\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src), Assembler::mf2);\n+    __ vfwcvt_x_f_v(as_VectorRegister($dst$$reg), as_VectorRegister($src$$reg));\n@@ -2851,1 +2827,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this, $src), Assembler::mf2);\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this, $src), Assembler::mf2);\n@@ -2867,1 +2843,1 @@\n-    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length_in_bytes(this, $src));\n+    __ rvv_vsetvli(T_DOUBLE, Matcher::vector_length(this, $src));\n@@ -2870,1 +2846,1 @@\n-    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length_in_bytes(this),\n+    __ vector_integer_narrow(as_VectorRegister($dst$$reg), bt, Matcher::vector_length(this),\n@@ -2881,1 +2857,1 @@\n-    __ rvv_vsetvli(T_LONG, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(T_LONG, Matcher::vector_length(this));\n@@ -2892,1 +2868,1 @@\n-    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length_in_bytes(this), Assembler::mf2);\n+    __ rvv_vsetvli(T_FLOAT, Matcher::vector_length(this), Assembler::mf2);\n@@ -2925,0 +2901,3 @@\n+    \/\/ clear the dst register\n+    __ vsetvli(t0, x0, Assembler::e8);\n+    __ vmclr_m(as_VectorRegister($dst$$reg));\n@@ -2951,1 +2930,1 @@\n-    __ rvv_vsetvli(from_bt, Matcher::vector_length_in_bytes(this, $src));\n+    __ rvv_vsetvli(from_bt, Matcher::vector_length(this, $src));\n@@ -2955,1 +2934,1 @@\n-    __ rvv_vsetvli(to_bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(to_bt, Matcher::vector_length(this));\n@@ -2969,1 +2948,1 @@\n-    __ rvv_vsetvli(bt, Matcher::vector_length_in_bytes(this));\n+    __ rvv_vsetvli(bt, Matcher::vector_length(this));\n","filename":"src\/hotspot\/cpu\/riscv\/riscv_v.ad","additions":192,"deletions":213,"binary":false,"changes":405,"status":"modified"}]}