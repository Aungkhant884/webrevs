{"files":[{"patch":"@@ -108,1 +108,8 @@\n-  const size_t path_len = get_current_directory();\n+  size_t path_len = 0;\n+  if (JFREmergencyDumpPath == NULL) {\n+    path_len = get_current_directory();\n+  } else {\n+    if (strlen(JFREmergencyDumpPath) < (sizeof(_path_buffer) - 1)) {\n+      path_len = jio_snprintf(_path_buffer, sizeof(_path_buffer), \"%s%s\", JFREmergencyDumpPath, os::file_separator());\n+    }\n+  }\n","filename":"src\/hotspot\/share\/jfr\/recorder\/repository\/jfrEmergencyDump.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2038,0 +2038,5 @@\n+  JFR_ONLY(product(ccstr, JFREmergencyDumpPath, NULL,                       \\\n+          \"The path for JFR emergency dump. \"                               \\\n+          \"Flight record will be dumped there \"                             \\\n+          \"when the error (OOM, stack overflow, crash) happens.\"))          \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}