{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/BadObjectClass\/BootstrapRedefine.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassFile\/PreviewVersion.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/BootAppendTests.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/SharedStrings.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/ArchiveRelocationTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/BootClassPathMismatch.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/CDSandJFR.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/DumpClassList.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/FieldLayoutFlags.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/JarBuilder.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/PackageSealing.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/WrongClasspath.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedIntegerCacheTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedModuleComboTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedModuleCompareTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedModuleWithCustomImageTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/CheckCachedMirrorTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/CheckCachedResolvedReferences.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/GCStressTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/MirrorWithReferenceFieldsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/PrimitiveTypesTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,0 +46,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/RedefineClassTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/condy\/CondyHelloTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/customLoader\/HelloCustom.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ArchiveConsistency.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,0 +41,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ArchivedSuperIf.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ArrayKlasses.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/BasicLambdaTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,0 +40,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ClassResolutionFailure.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicArchiveRelocationTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicArchiveTestBase.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,0 +47,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicLotsOfClasses.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ExcludedClasses.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,0 +37,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/HelloDynamic.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/HelloDynamicCustom.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/HelloDynamicCustomUnload.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -37,0 +37,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/JITInteraction.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LambdaCustomLoader.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LambdaForClassInBaseArchive.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LambdaInBaseArchive.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LambdaProxyCallerIsHidden.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -41,0 +41,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LambdaProxyDuringShutdown.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LinkClassTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,0 +52,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/MethodSorting.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/MismatchedBaseArchive.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/MissingArchive.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/NestTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -51,0 +51,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/NoClassToArchive.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ParallelLambdaLoadTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/PredicateTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,0 +43,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/RegularHiddenClass.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -37,0 +37,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/SharedArchiveFileOption.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/SharedBaseAddressOption.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/StaticInnerTest.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,0 +46,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/UnsafeAndLambda.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/UnsafeAnonymous.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/UsedAllArchivedLambdas.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/WrongTopClasspath.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/AnonVmClassesDuringDump.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/ExceptionDuringDumpAtObjectsInitPhase.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/GCDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/GCSharedStringsDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/HumongousDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/LockDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/CheckUnsupportedDumpingOptions.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/JigsawOptionsCombo.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/AppClassInCP.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/CustomPackage.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/MismatchedPatchModule.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/PatchDir.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/PatchJavaBase.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/Simple.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/SubClassOfPatchedClass.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/PatchModule\/TwoJars.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/RedefineClassesInModuleGraph.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jvmti\/ClassFileLoadHookTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jvmti\/InstrumentationTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jvmti\/dumpingWithAgent\/DumpingWithJavaAgent.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+\n@@ -42,0 +43,2 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jvmti\/parallelLoad\/ParallelLoadAndTransformTest.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jvmti\/transformRelatedClasses\/TransformRelatedClassesAppCDS.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/loaderConstraints\/DynamicLoaderConstraintsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/loaderConstraints\/LoaderConstraintsTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/redefineClass\/RedefineBasicTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/redefineClass\/RedefineRunningMethods_Shared.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/serviceability\/ReplaceCriticalClasses.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,0 +66,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/serviceability\/transformRelatedClasses\/TransformRelatedClasses.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/getSysPackage\/GetPackageXbootclasspath.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/getSysPackage\/GetSysPkgTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/ModuleStress\/ModuleStress.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModule2Dirs.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleCDS.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleClassList.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleJavaBase.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTestJar.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTestJarDir.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/PatchModule\/PatchModuleTraceCL.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/PatchModuleVisibility.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/XbootcpNoVisibility.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/modules\/Visibility\/XbootcpVisibility.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -46,0 +46,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/records\/RedefineRecord.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/sealedClasses\/RedefinePermittedSubclass.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/runtime\/sealedClasses\/RedefineSealedClass.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,0 +48,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/ModifyAnonymous.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineAnnotations.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,0 +45,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineLeak.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineObject.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -45,1 +45,1 @@\n-\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RetransformClassesZeroLength.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n@@ -46,1 +47,0 @@\n-\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/TransformerDeadlockTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/jdk\/java\/security\/AccessController\/DoPrivAccompliceTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/jdk\/jdk\/internal\/loader\/URLClassPath\/JarClassPathFileEntry.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,15 +24,0 @@\n-import java.io.ByteArrayInputStream;\n-import java.io.File;\n-import java.io.FileInputStream;\n-import java.io.FileOutputStream;\n-import java.io.FileNotFoundException;\n-import java.io.InputStream;\n-import java.io.ByteArrayInputStream;\n-import java.nio.file.Files;\n-import java.nio.file.Path;\n-import java.nio.file.Paths;\n-import java.nio.file.StandardCopyOption;\n-import java.util.ArrayList;\n-import java.util.zip.ZipEntry;\n-import java.util.zip.ZipOutputStream;\n-\n@@ -69,0 +54,2 @@\n+ *\n+ * @deprecated use {@link jdk.test.lib.helpers.ClassFileInstaller} instead\n@@ -70,0 +57,1 @@\n+@Deprecated\n@@ -72,8 +60,1 @@\n-     * You can enable debug tracing of ClassFileInstaller by running JTREG with\n-     * jtreg -DClassFileInstaller.debug=true ... <names of tests>\n-     *\/\n-    public static boolean DEBUG = Boolean.getBoolean(\"ClassFileInstaller.debug\");\n-\n-    \/**\n-     * @param args The names of the classes to dump\n-     * @throws Exception\n+     * @see jdk.test.lib.helpers.ClassFileInstaller#main(String[])\n@@ -82,207 +63,1 @@\n-        if (args.length > 1 && args[0].equals(\"-jar\")) {\n-            if (args.length < 2) {\n-                throw new RuntimeException(\"Usage: ClassFileInstaller <options> <classes>\\n\" +\n-                                           \"where possible options include:\\n\" +\n-                                           \"  -jar <path>             Write to the JAR file <path>\");\n-            }\n-            String jarFile = args[1];\n-            String[] classes = addInnerClasses(args, 2);\n-            writeJar_impl(jarFile, null, classes);\n-        } else {\n-            if (DEBUG) {\n-                System.out.println(\"ClassFileInstaller: Writing to \" + System.getProperty(\"user.dir\"));\n-            }\n-            String[] classes = addInnerClasses(args, 0);\n-            for (String cls : classes) {\n-                writeClassToDisk(cls);\n-            }\n-        }\n-    }\n-\n-    \/\/ Add commonly used inner classes that are often omitted by mistake. Currently\n-    \/\/ we support only sun.hotspot.WhiteBox$WhiteBoxPermission. See JDK-8199290\n-    private static String[] addInnerClasses(String[] classes, int startIdx) {\n-        boolean seenWB = false;\n-        boolean seenWBInner = false;\n-        final String wb = \"sun.hotspot.WhiteBox\";\n-        final String wbInner = \"sun.hotspot.WhiteBox$WhiteBoxPermission\";\n-\n-        ArrayList<String> list = new ArrayList<>();\n-\n-        for (int i = startIdx; i < classes.length; i++) {\n-            String cls = classes[i];\n-            list.add(cls);\n-            switch (cls) {\n-            case wb:      seenWB      = true; break;\n-            case wbInner: seenWBInner = true; break;\n-            }\n-        }\n-        if (seenWB && !seenWBInner) {\n-            list.add(wbInner);\n-        }\n-\n-        String[] array = new String[list.size()];\n-        list.toArray(array);\n-        return array;\n-    }\n-\n-    public static class Manifest {\n-        private InputStream in;\n-\n-        private Manifest(InputStream in) {\n-            this.in = in;\n-        }\n-\n-        static Manifest fromSourceFile(String fileName) throws Exception {\n-            String pathName = System.getProperty(\"test.src\") + File.separator + fileName;\n-            return new Manifest(new FileInputStream(pathName));\n-        }\n-\n-        \/\/ Example:\n-        \/\/  String manifest = \"Premain-Class: RedefineClassHelper\\n\" +\n-        \/\/                \"Can-Redefine-Classes: true\\n\";\n-        \/\/  ClassFileInstaller.writeJar(\"redefineagent.jar\",\n-        \/\/    ClassFileInstaller.Manifest.fromString(manifest),\n-        \/\/    \"RedefineClassHelper\");\n-        static Manifest fromString(String manifest) throws Exception {\n-            return new Manifest(new ByteArrayInputStream(manifest.getBytes()));\n-        }\n-\n-        public InputStream getInputStream() {\n-            return in;\n-        }\n-    }\n-\n-    private static void writeJar_impl(String jarFile, Manifest manifest, String classes[]) throws Exception {\n-        if (DEBUG) {\n-            System.out.println(\"ClassFileInstaller: Writing to \" + getJarPath(jarFile));\n-        }\n-\n-        (new File(jarFile)).delete();\n-        FileOutputStream fos = new FileOutputStream(jarFile);\n-        ZipOutputStream zos = new ZipOutputStream(fos);\n-\n-        \/\/ The manifest must be the first or second entry. See comments in JarInputStream\n-        \/\/ constructor and JDK-5046178.\n-        if (manifest != null) {\n-            writeToDisk(zos, \"META-INF\/MANIFEST.MF\", manifest.getInputStream());\n-        }\n-\n-        for (String cls : classes) {\n-            writeClassToDisk(zos, cls);\n-        }\n-\n-        zos.close();\n-        fos.close();\n-    }\n-\n-    \/*\n-     * You can call ClassFileInstaller.writeJar() from your main test class instead of\n-     * using \"@run ClassFileInstaller -jar ...\". E.g.,\n-     *\n-     * String jarPath = ClassFileInstaller.getJarPath(\"myjar.jar\", \"sun.hotspot.WhiteBox\")\n-     *\n-     * If you call this API, make sure you build ClassFileInstaller with the following tags:\n-     *\n-     * @library testlibrary\n-     * @build ClassFileInstaller\n-     *\/\n-    public static String writeJar(String jarFile, String... classes) throws Exception {\n-        classes = addInnerClasses(classes, 0);\n-        writeJar_impl(jarFile, null, classes);\n-        return getJarPath(jarFile);\n-    }\n-\n-    public static String writeJar(String jarFile, Manifest manifest, String... classes) throws Exception {\n-        classes = addInnerClasses(classes, 0);\n-        writeJar_impl(jarFile, manifest, classes);\n-        return getJarPath(jarFile);\n-    }\n-\n-    \/**\n-     * This returns the absolute path to the file specified in \"@ClassFileInstaller -jar myjar.jar\",\n-     * In your test program, instead of using the JAR file name directly:\n-     *\n-     * String jarPath = \"myjar.jar\";\n-     *\n-     * you should call this function, like:\n-     *\n-     * String jarPath = ClassFileInstaller.getJarPath(\"myjar.jar\")\n-     *\n-     * The reasons are:\n-     * (1) Using absolute path makes it easy to cut-and-paste from the JTR file and rerun your\n-     *     test in any directory.\n-     * (2) In the future, we may make the JAR file name unique to avoid clobbering\n-     *     during parallel JTREG execution.\n-     *\n-     *\/\n-    public static String getJarPath(String jarFileName) {\n-        return new File(jarFileName).getAbsolutePath();\n-    }\n-\n-    public static void writeClassToDisk(String className) throws Exception {\n-        writeClassToDisk((ZipOutputStream)null, className);\n-    }\n-    private static void writeClassToDisk(ZipOutputStream zos, String className) throws Exception {\n-        writeClassToDisk(zos, className, \"\");\n-    }\n-\n-    public static void writeClassToDisk(String className, String prependPath) throws Exception {\n-        writeClassToDisk(null, className, prependPath);\n-    }\n-    private static void writeClassToDisk(ZipOutputStream zos, String className, String prependPath) throws Exception {\n-        ClassLoader cl = ClassFileInstaller.class.getClassLoader();\n-\n-        \/\/ Convert dotted class name to a path to a class file\n-        String pathName = className.replace('.', '\/').concat(\".class\");\n-        InputStream is = cl.getResourceAsStream(pathName);\n-        if (is == null) {\n-            throw new RuntimeException(\"Failed to find \" + pathName);\n-        }\n-        if (prependPath.length() > 0) {\n-            pathName = prependPath + \"\/\" + pathName;\n-        }\n-        writeToDisk(zos, pathName, is);\n-    }\n-\n-    public static void writeClassToDisk(String className, byte[] bytecode) throws Exception {\n-        writeClassToDisk(null, className, bytecode);\n-    }\n-    private static void writeClassToDisk(ZipOutputStream zos, String className, byte[] bytecode) throws Exception {\n-        writeClassToDisk(zos, className, bytecode, \"\");\n-    }\n-\n-    public static void writeClassToDisk(String className, byte[] bytecode, String prependPath) throws Exception {\n-        writeClassToDisk(null, className, bytecode, prependPath);\n-    }\n-    private static void writeClassToDisk(ZipOutputStream zos, String className, byte[] bytecode, String prependPath) throws Exception {\n-        \/\/ Convert dotted class name to a path to a class file\n-        String pathName = className.replace('.', '\/').concat(\".class\");\n-        if (prependPath.length() > 0) {\n-            pathName = prependPath + \"\/\" + pathName;\n-        }\n-        writeToDisk(zos, pathName, new ByteArrayInputStream(bytecode));\n-    }\n-\n-    private static void writeToDisk(ZipOutputStream zos, String pathName, InputStream is) throws Exception {\n-        if (DEBUG) {\n-            System.out.println(\"ClassFileInstaller: Writing \" + pathName);\n-        }\n-        if (zos != null) {\n-            ZipEntry ze = new ZipEntry(pathName);\n-            zos.putNextEntry(ze);\n-            byte[] buf = new byte[1024];\n-            int len;\n-            while ((len = is.read(buf))>0){\n-                zos.write(buf, 0, len);\n-            }\n-        } else {\n-            \/\/ Create the class file's package directory\n-            Path p = Paths.get(pathName);\n-            if (pathName.contains(\"\/\")) {\n-                Files.createDirectories(p.getParent());\n-            }\n-            \/\/ Create the class file\n-            Files.copy(is, p, StandardCopyOption.REPLACE_EXISTING);\n-        }\n-        is.close();\n+        jdk.test.lib.helpers.ClassFileInstaller.main(args);\n","filename":"test\/lib\/ClassFileInstaller.java","additions":6,"deletions":231,"binary":false,"changes":237,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import jdk.test.lib.helpers.ClassFileInstaller;\n","filename":"test\/lib\/RedefineClassHelper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+package jdk.test.lib.helpers;\n+\n@@ -63,1 +65,1 @@\n- * @run driver ClassFileInstaller sun.hotspot.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller sun.hotspot.WhiteBox\n@@ -68,1 +70,1 @@\n- * @run driver ClassFileInstaller -jar myjar.jar sun.hotspot.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller -jar myjar.jar sun.hotspot.WhiteBox\n@@ -84,1 +86,1 @@\n-                throw new RuntimeException(\"Usage: ClassFileInstaller <options> <classes>\\n\" +\n+                throw new RuntimeException(\"Usage: jdk.test.lib.helpers.ClassFileInstaller <options> <classes>\\n\" +\n@@ -130,1 +132,1 @@\n-        private InputStream in;\n+        private final InputStream in;\n@@ -136,1 +138,1 @@\n-        static Manifest fromSourceFile(String fileName) throws Exception {\n+        public static Manifest fromSourceFile(String fileName) throws Exception {\n@@ -147,1 +149,1 @@\n-        static Manifest fromString(String manifest) throws Exception {\n+        public static Manifest fromString(String manifest) throws Exception {\n","filename":"test\/lib\/jdk\/test\/lib\/helpers\/ClassFileInstaller.java","additions":9,"deletions":7,"binary":false,"changes":16,"previous_filename":"test\/lib\/ClassFileInstaller.java","status":"copied"}]}