{"files":[{"patch":"@@ -870,1 +870,1 @@\n-      $$(JAVA) $$($1_JTREG_LAUNCHER_OPTIONS) \\\n+      $$(JTREG_TOOL_JAVA) $$($1_JTREG_LAUNCHER_OPTIONS) \\\n","filename":"make\/RunTests.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,0 +125,1 @@\n+$(eval $(call SetupVariable,JTREG_TOOL_JAVA,$(BOOT_JDK)\/bin\/java))\n@@ -251,0 +252,1 @@\n+    JTREG_TOOL_JAVA := $(FIXPATH) $(JTREG_TOOL_JAVA), \\\n","filename":"make\/RunTestsPrebuilt.gmk","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -230,0 +230,30 @@\n+  # Specify a JDK for running jtreg. Defaults to the BOOT_JDK.\n+  AC_ARG_WITH(jtreg-jdk, [AS_HELP_STRING([--with-jdk],\n+    [path to JDK for running jtreg @<:@BOOT_JDK@:>@])])\n+\n+  AC_MSG_CHECKING([for jtreg jdk])\n+  if test \"x${with_jtreg_jdk}\" != x; then\n+    if test \"x${with_jtreg_jdk}\" = xno; then\n+      AC_MSG_RESULT([no, jtreg jdk not specified])\n+    elif test \"x${with_jtreg_jdk}\" = xyes; then\n+      AC_MSG_RESULT([not specified])\n+      AC_MSG_ERROR([--with-jtreg-jdk needs a value])\n+    else\n+      JTREG_TOOL_JDK=\"${with_jtreg_jdk}\"\n+      UTIL_FIXUP_PATH(JTREG_TOOL_JDK)\n+      AC_MSG_CHECKING([jtreg java existence])\n+      if test ! -f \"$JTREG_TOOL_JDK\/bin\/java\"; then\n+        AC_MSG_ERROR([Could not find jtreg java at $JTREG_TOOL_JDK\/bin\/java])\n+      fi\n+    fi\n+  else\n+    JTREG_TOOL_JDK=\"${BOOT_JDK}\"\n+    AC_MSG_RESULT([no, using BOOT_JDK])\n+  fi\n+\n+  JTREG_TOOL_JAVA=\"$JTREG_TOOL_JDK\/bin\/java\"\n+  UTIL_FIXUP_PATH(JTREG_TOOL_JAVA)\n+  JTREG_TOOL_JAVA=\"$FIXPATH $JTREG_TOOL_JAVA\"\n+  AC_SUBST([JTREG_TOOL_JAVA])\n+\n+\n@@ -232,0 +262,5 @@\n+    AC_MSG_CHECKING([jtreg jar existence])\n+    if test ! -f \"$JT_HOME\/lib\/jtreg.jar\"; then\n+      AC_MSG_ERROR([Could not find jtreg jar at $JT_HOME\/lib\/jtreg.jar])\n+    fi\n+\n@@ -235,1 +270,2 @@\n-    jtreg_version_full=`$JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2`\n+    jtreg_version_full=$($JTREG_TOOL_JAVA -jar $JT_HOME\/lib\/jtreg.jar -version | $HEAD -n 1 | $CUT -d ' ' -f 2)\n+\n","filename":"make\/autoconf\/lib-tests.m4","additions":37,"deletions":1,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -669,0 +669,2 @@\n+JTREG_TOOL_JAVA:=@JTREG_TOOL_JAVA@\n+\n","filename":"make\/autoconf\/spec.gmk.in","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}