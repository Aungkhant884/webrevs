{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -138,2 +138,14 @@\n-                                 if (test_thread.isAlive()) {\n-                                     test_thread.resume();\n+                                 \/\/ There is no sync between vm.dispose() and test_thread\n+                                 \/\/ let give thread some time to complete\n+                                 boolean isAlive = true;\n+                                 for (int attempt = 0; attempt < 5; i++) {\n+                                     isAlive = test_thread.isAlive();\n+                                     if (!isAlive) {\n+                                         break;\n+                                     }\n+                                     try {\n+                                         Thread.sleep(attempt * 1000);\n+                                     } catch (InterruptedException ie) {\n+                                     }\n+                                 }\n+                                 if (isAlive) {\n@@ -141,0 +153,2 @@\n+                                     logErr(\"ERROR thread is alive after vm.dispose()\");\n+                                     exitCode = FAILED;\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/VirtualMachine\/dispose\/dispose003a.java","additions":17,"deletions":3,"binary":false,"changes":20,"status":"modified"}]}