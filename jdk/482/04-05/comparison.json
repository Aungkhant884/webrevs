{"files":[{"patch":"@@ -332,1 +332,1 @@\n-                    (delimiter.length() + prefix.length() + suffix.length()) - delimiter.length());\n+                    (delimiter.length() + prefix.length() + 2 + suffix.length()) - delimiter.length());\n@@ -551,1 +551,1 @@\n-        CharBuffer cb = CharBuffer.wrap(chars, index, index + length);\n+        CharBuffer cb = CharBuffer.wrap(chars, index, length);\n@@ -557,0 +557,1 @@\n+     * Pre-condition:  {@code index + literal.length() <= string.length()}.\n@@ -564,0 +565,1 @@\n+        assert index + literal.length() <= string.length() : \"pre-checked invariant error\";\n","filename":"src\/java.base\/share\/classes\/java\/util\/HexFormat.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -481,0 +481,24 @@\n+    static void testFormatHexCharArrayIndexed(String delimiter, String prefix, String suffix,\n+                                              boolean unused4, HexFormat hex) {\n+        byte[] expected = genBytes('A', 15);\n+        String s = hex.formatHex(expected);\n+        System.out.println(\"    formatted: \" + s);\n+\n+\n+        \/\/ Parse values 2, 3, 4 from the generated string\n+        int low = 2;\n+        int high = 5;\n+        int stride = prefix.length() + 2 + suffix.length() + delimiter.length();\n+        System.out.println(\"    formatted subrange: \" +\n+                s.substring(low * stride, high * stride - delimiter.length()));\n+        char[] chars = s.toCharArray();\n+        byte[] actual = hex.parseHex(chars, low * stride,\n+                (high - low ) * stride - delimiter.length());\n+        System.out.println(\"    parsed as: \" + Arrays.toString(actual));\n+\n+        assertEquals(actual.length, (high - low), \"array length\");\n+        int mismatch = Arrays.mismatch(expected, low, high, actual, 0, high - low);\n+        assertEquals(mismatch, -1, \"format\/parse cycle failed, mismatch: \" + mismatch);\n+    }\n+\n+    @Test(dataProvider=\"HexFormattersParsers\")\n","filename":"test\/jdk\/java\/util\/HexFormat\/HexFormatTest.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"}]}