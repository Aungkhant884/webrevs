{"files":[{"patch":"@@ -284,1 +284,1 @@\n-    static class NativeLibraryImpl implements NativeLibrary {\n+    static class NativeLibraryImpl extends NativeLibrary {\n@@ -312,1 +312,1 @@\n-            return findEntry0(this, name);\n+            return findEntry0(handle, name);\n@@ -537,6 +537,0 @@\n-\n-    \/*\n-     * Returns the address of the named symbol defined in the given library.\n-     * Returns 0 if not found.\n-     *\/\n-    static native long findEntry0(NativeLibrary lib, String name);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/loader\/NativeLibraries.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -31,2 +31,2 @@\n-public interface NativeLibrary {\n-    String name();\n+public abstract class NativeLibrary {\n+    public abstract String name();\n@@ -40,1 +40,1 @@\n-    long find(String name);\n+    public abstract long find(String name);\n@@ -48,1 +48,1 @@\n-    default long lookup(String name) throws NoSuchMethodException {\n+    public final long lookup(String name) throws NoSuchMethodException {\n@@ -55,0 +55,6 @@\n+\n+    \/*\n+     * Returns the address of the named symbol defined in the library of\n+     * the given handle.  Returns 0 if not found.\n+     *\/\n+    static native long findEntry0(long handle, String name);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/loader\/NativeLibrary.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -38,3 +38,0 @@\n-import static jdk.internal.loader.NativeLibraries.*;\n-\n-\n@@ -139,1 +136,1 @@\n-    static class RawNativeLibraryImpl implements NativeLibrary {\n+    static class RawNativeLibraryImpl extends NativeLibrary {\n@@ -156,1 +153,1 @@\n-            return findEntry0(this, name);\n+            return findEntry0(handle, name);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/loader\/RawNativeLibraries.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -221,1 +221,0 @@\n-\n@@ -223,1 +222,1 @@\n- * Class:     jdk_internal_loader_NativeLibraries\n+ * Class:     jdk_internal_loader_NativeLibrary\n@@ -225,1 +224,1 @@\n- * Signature: (Ljdk\/internal\/loader\/NativeLibrary;Ljava\/lang\/String;)J\n+ * Signature: (JLjava\/lang\/String;)J\n@@ -228,2 +227,2 @@\n-Java_jdk_internal_loader_NativeLibraries_findEntry0\n-  (JNIEnv *env, jclass cls, jobject lib, jstring name)\n+Java_jdk_internal_loader_NativeLibrary_findEntry0\n+  (JNIEnv *env, jclass cls, jlong handle, jstring name)\n@@ -231,1 +230,0 @@\n-    jlong handle;\n@@ -235,4 +233,0 @@\n-    if (!initIDs(env))\n-        return jlong_zero;\n-\n-    handle = (*env)->GetLongField(env, lib, handleID);\n","filename":"src\/java.base\/share\/native\/libjava\/NativeLibraries.c","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"}]}