{"files":[{"patch":"@@ -632,1 +632,0 @@\n-javax\/sound\/midi\/Sequencer\/MetaCallback.java 8178698 linux-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,3 @@\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n@@ -40,1 +43,1 @@\n- * @run main\/othervm MetaCallback\n+ * @run main\/othervm\/timeout=120 MetaCallback\n@@ -64,0 +67,2 @@\n+    \/\/ On M1 Mac sometimes system notifies listener about the same message twice\n+    static List<MetaMessage> received = Collections.synchronizedList(new ArrayList<>());\n@@ -104,1 +109,4 @@\n-    void stop() {sequencer.stop();}\n+    void stop() {\n+        sequencer.stop();\n+        sequencer.close();\n+    }\n@@ -110,1 +118,2 @@\n-        } else if (msg.getData().length > 0 && msg.getType() == 1) {\n+        } else if (msg.getData().length > 0 && msg.getType() == 1 && !received.contains(msg)) {\n+            received.add(msg);\n","filename":"test\/jdk\/javax\/sound\/midi\/Sequencer\/MetaCallback.java","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"}]}