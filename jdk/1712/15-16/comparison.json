{"files":[{"patch":"@@ -1795,1 +1795,1 @@\n-                        err.println(\"Too big number of options: \" + cntTokens);\n+                        err.println(\"More than 2 options specified: \" + cntTokens);\n@@ -1799,1 +1799,1 @@\n-                    if (cntTokens >= 1) { \/\/ parse first argument which is \"gz=\" option\n+                    if (cntTokens == 1) { \/\/ first argument could be filename or \"gz=\"\n@@ -1805,1 +1805,1 @@\n-                            if (gzlevel <= 0 || gzlevel > 9) {\n+                            if (gzlevel == 0) {\n@@ -1812,1 +1812,3 @@\n-                    if (cntTokens == 2) { \/\/ parse second argument which is filename\n+                    if (cntTokens == 2) { \/\/ first argument is \"gz=\" followed by filename\n+                        String option = t.nextToken();\n+                        gzlevel = parseHeapDumpCompressionLevel(option);\n@@ -1814,2 +1816,0 @@\n-                            \/\/ The first option is not compression level, it is parsed as filename.\n-                            err.println(\"unknown option: \" + filename);\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/CommandProcessor.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}