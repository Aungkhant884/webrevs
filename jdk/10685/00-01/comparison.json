{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import java.util.Arrays;\n@@ -42,1 +43,1 @@\n-    private JEditorPane html;\n+    private JEditorPane editor;\n@@ -52,0 +53,1 @@\n+    private final String[] numbers = {\"1\",\"2\",\"3\",\"4\",\"5\"};\n@@ -54,1 +56,0 @@\n-        String[] numbers = {\"1\",\"2\",\"3\",\"4\",\"5\"};\n@@ -60,14 +61,12 @@\n-        html = new JEditorPane(\"text\/html\",\n-                \"<html><body><form action=\\\"http:\/\/localhost\\\">\" +\n-                \"<select name=select id=\\\"mySelect\\\" size=\\\"5\\\" multiple> \\n\" +\n-                \"            <option>1<\/option> \\n\" +\n-                \"            <option>2<\/option> \\n\" +\n-                \"            <option>3<\/option> \\n\" +\n-                \"            <option>4<\/option> \\n\" +\n-                \"            <option>5<\/option> \\n\" +\n-                \"<\/select> \" +\n-                \"<br>\" +\n-                \"<input type=reset name=reset value=\\\"reset\\\"\/>\" +\n-                \"<br>\" +\n-                \"<input type=submit name=submit value=\\\"submit\\\"\/>\" +\n-                \"<\/form><\/body><\/html>\");\n+        StringBuilder sb = new StringBuilder();\n+        sb.append(\"<html><body><form action=\\\"http:\/\/localhost\\\">\" +\n+                  \"<select name=select id=\\\"mySelect\\\" size=\\\"\" +\n+                  numbers.length + \"\\\" multiple>\");\n+        Arrays.stream(numbers).forEach(s->{sb.append(\n+                  \"<option>\" + s + \"<\/option>\");});\n+        sb.append(\"<\/select><br>\" +\n+                  \"<input type=reset name=reset value=\\\"reset\\\"\/>\" +\n+                  \"<br>\" +\n+                  \"<input type=submit name=submit value=\\\"submit\\\"\/>\" +\n+                  \"<\/form><\/body><\/html>\");\n+        editor = new JEditorPane(\"text\/html\", sb.toString());\n@@ -77,1 +76,1 @@\n-        frame.add(html, BorderLayout.CENTER);\n+        frame.add(editor, BorderLayout.CENTER);\n@@ -88,2 +87,3 @@\n-        for (int i = 0; i < 5; i++) {\n-            int pos = (int)(listHeight * (i + 0.5) \/ 5);\n+        int len = numbers.length;\n+        for (int i = 0; i < len; i++) {\n+            int pos = (int)(listHeight * (i + 0.5) \/ len);\n@@ -107,1 +107,1 @@\n-            int pos4 = (int)(listHeight * 3.5 \/ 5);\n+            int pos4 = (int)(listHeight * 3.5 \/ numbers.length);\n@@ -113,1 +113,1 @@\n-                loc = html.getLocationOnScreen();});\n+                loc = editor.getLocationOnScreen();});\n@@ -139,2 +139,2 @@\n-                html.revalidate();\n-                html.repaint();});\n+                editor.revalidate();\n+                editor.repaint();});\n","filename":"test\/jdk\/javax\/swing\/text\/html\/TestResetSelectForm.java","additions":23,"deletions":23,"binary":false,"changes":46,"status":"modified"}]}