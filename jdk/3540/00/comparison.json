{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -209,0 +209,5 @@\n+            if (group.getGraphs().isEmpty()) {\n+                \/\/ If the group has been emptied, all corresponding graph views\n+                \/\/ will be closed, so do nothing.\n+                return;\n+            }\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+import com.sun.hotspot.igv.data.GraphDocument;\n+import com.sun.hotspot.igv.data.Group;\n@@ -228,0 +230,16 @@\n+        Group group = getDiagram().getGraph().getGroup();\n+        group.getChangedEvent().addListener(new ChangedListener<Group>() {\n+                @Override\n+                public void changed(Group gr) {\n+                    closeOnRemovedOrEmptyGroup();\n+                }\n+            });\n+        if (group.getParent() instanceof GraphDocument) {\n+            final GraphDocument doc = (GraphDocument) group.getParent();\n+            doc.getChangedEvent().addListener(new ChangedListener<GraphDocument>() {\n+                    @Override\n+                    public void changed(GraphDocument doc) {\n+                        closeOnRemovedOrEmptyGroup();\n+                    }\n+                });\n+        }\n@@ -452,0 +470,8 @@\n+    private void closeOnRemovedOrEmptyGroup() {\n+        Group group = getDiagram().getGraph().getGroup();\n+        if (!group.getParent().getElements().contains(group) ||\n+            group.getGraphs().isEmpty()) {\n+            close();\n+        }\n+    }\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorTopComponent.java","additions":27,"deletions":1,"binary":false,"changes":28,"status":"modified"}]}