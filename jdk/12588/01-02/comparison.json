{"files":[{"patch":"@@ -691,1 +691,2 @@\n-        ZipOutputStream zos = new ZipOutputStream(os);\n+        ZipOutputStream zos = new ZipOutputStream(\n+                (os instanceof BufferedOutputStream) ? os : new BufferedOutputStream(os));\n","filename":"src\/jdk.jartool\/share\/classes\/jdk\/security\/jarsigner\/JarSigner.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1968,1 +1968,1 @@\n-        OutputStream os = null;\n+        FileOutputStream fos = null;\n@@ -1970,1 +1970,1 @@\n-            os = new BufferedOutputStream(new FileOutputStream(signedJarFile));\n+            fos = new FileOutputStream(signedJarFile);\n@@ -1981,1 +1981,1 @@\n-            builder.build().sign(zipFile, os);\n+            builder.build().sign(zipFile, fos);\n@@ -2011,2 +2011,2 @@\n-            if (os != null) {\n-                os.close();\n+            if (fos != null) {\n+                fos.close();\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Main.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}