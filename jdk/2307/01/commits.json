[{"commit":{"message":"8260621: Avoid memory leak in ImageBufferCache\n\nPreviously, `ImageBufferCache` contains a ThreadLocal field which holds\nstrong reference to `ImageBufferCache$BufferReference.class`. When loaded\nfrom `jrt-fs.jar`, this will keep `JrtFileSystemProvider$JrtFsLoader`\nin memory forever and never being GCed.\n\nThe fix replace the old `ImageBufferCache$BufferReference` class with\n`WeakReference<ByteBuffer>`, which is verified by provided test."},"files":[{"filename":"src\/java.base\/share\/classes\/jdk\/internal\/jimage\/ImageBufferCache.java"},{"filename":"test\/jdk\/jdk\/internal\/jimage\/Bug8260621Test.java"}],"sha":"27b55790a801635c563814c774323823ee11b284"}]