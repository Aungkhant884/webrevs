{"files":[{"patch":"@@ -162,0 +162,1 @@\n+        containerMetrics = Container.metrics();\n@@ -167,8 +168,6 @@\n-        containerMetrics = Container.metrics();\n-        if (containerMetrics != null) {\n-            RequestEngine.addTrustedJDKHook(ContainerConfigurationEvent.class, emitContainerConfiguration);\n-            RequestEngine.addTrustedJDKHook(ContainerCPUUsageEvent.class, emitContainerCPUUsage);\n-            RequestEngine.addTrustedJDKHook(ContainerCPUThrottlingEvent.class, emitContainerCPUThrottling);\n-            RequestEngine.addTrustedJDKHook(ContainerMemoryUsageEvent.class, emitContainerMemoryUsage);\n-            RequestEngine.addTrustedJDKHook(ContainerIOUsageEvent.class, emitContainerIOUsage);\n-        }\n+\n+        RequestEngine.addTrustedJDKHook(ContainerConfigurationEvent.class, emitContainerConfiguration);\n+        RequestEngine.addTrustedJDKHook(ContainerCPUUsageEvent.class, emitContainerCPUUsage);\n+        RequestEngine.addTrustedJDKHook(ContainerCPUThrottlingEvent.class, emitContainerCPUThrottling);\n+        RequestEngine.addTrustedJDKHook(ContainerMemoryUsageEvent.class, emitContainerMemoryUsage);\n+        RequestEngine.addTrustedJDKHook(ContainerIOUsageEvent.class, emitContainerIOUsage);\n@@ -268,7 +267,5 @@\n-        if (containerMetrics != null) {\n-            RequestEngine.removeHook(emitContainerConfiguration);\n-            RequestEngine.removeHook(emitContainerCPUUsage);\n-            RequestEngine.removeHook(emitContainerCPUThrottling);\n-            RequestEngine.removeHook(emitContainerMemoryUsage);\n-            RequestEngine.removeHook(emitContainerIOUsage);\n-        }\n+        RequestEngine.removeHook(emitContainerConfiguration);\n+        RequestEngine.removeHook(emitContainerCPUUsage);\n+        RequestEngine.removeHook(emitContainerCPUThrottling);\n+        RequestEngine.removeHook(emitContainerMemoryUsage);\n+        RequestEngine.removeHook(emitContainerIOUsage);\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/instrument\/JDKEvents.java","additions":12,"deletions":15,"binary":false,"changes":27,"status":"modified"}]}