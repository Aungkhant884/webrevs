{"files":[{"patch":"@@ -490,6 +490,0 @@\n-  \/\/ The following guarantee is meant to ensure that no loader constraints\n-  \/\/ exist yet, since the constraints table is not shared.  This becomes\n-  \/\/ more important now that we don't re-initialize vtables\/itables for\n-  \/\/ shared classes at runtime, where constraints were previously created.\n-  guarantee(SystemDictionary::constraints()->number_of_entries() == 0,\n-            \"loader constraints are not saved\");\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -210,0 +210,1 @@\n+    ls.cr();\n@@ -583,1 +584,1 @@\n-  st->print_cr(\"pd set count = #%d\", count);\n+  st->print(\"pd set count = #%d\", count);\n","filename":"src\/hotspot\/share\/classfile\/dictionary.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -194,0 +194,1 @@\n+\n@@ -247,3 +248,2 @@\n-    p->set_klass(klass);\n-    p->set_next(bucket(index));\n-    set_entry(index, p);\n+    Hashtable<InstanceKlass*, mtClass>::add_entry(index, p);\n+\n@@ -479,2 +479,1 @@\n-      probe->name()->print_on(st);\n-      st->print(\" , loaders:\");\n+      st->print(\"Symbol: %s loaders:\", probe->name()->as_C_string());\n@@ -482,0 +481,2 @@\n+        st->cr();\n+        st->print(\"    \");\n@@ -483,1 +484,0 @@\n-        st->print(\", \");\n@@ -489,0 +489,2 @@\n+\n+void LoaderConstraintTable::print() const { print_on(tty); }\n","filename":"src\/hotspot\/share\/classfile\/loaderConstraints.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -83,0 +83,1 @@\n+  void print() const;\n","filename":"src\/hotspot\/share\/classfile\/loaderConstraints.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -91,1 +91,0 @@\n-LoaderConstraintTable* SystemDictionary::_loader_constraints  = NULL;\n@@ -102,1 +101,0 @@\n-const int _loader_constraint_size = 107;                     \/\/ number of entries in constraint table\n@@ -108,1 +106,1 @@\n-PlaceholderTable* _placeholders   = NULL;\n+static PlaceholderTable* _placeholders   = NULL;\n@@ -111,0 +109,5 @@\n+\/\/ Constraints on class loaders\n+const int _loader_constraint_size = 107;                     \/\/ number of entries in constraint table\n+static LoaderConstraintTable*  _loader_constraints;\n+static LoaderConstraintTable* constraints() { return _loader_constraints; }\n+\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -73,1 +73,0 @@\n-class LoaderConstraintTable;\n@@ -299,3 +298,0 @@\n-  \/\/ Constraints on class loaders\n-  static LoaderConstraintTable*  _loader_constraints;\n-\n@@ -321,2 +317,1 @@\n-  friend class VM_PopulateDumpSharedSpace;\n-  static LoaderConstraintTable* constraints() { return _loader_constraints; }\n+  \/\/ friend class VM_PopulateDumpSharedSpace;\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.hpp","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"}]}