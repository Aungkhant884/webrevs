{"files":[{"patch":"@@ -1732,3 +1732,2 @@\n-  if (java_thread != NULL) {\n-    java_thread->obj_field_put(_scopedValueBindings_offset, NULL);\n-  }\n+  assert(java_thread != NULL, \"need a java_lang_Thread pointer here\");\n+  java_thread->obj_field_put(_scopedValueBindings_offset, NULL);\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -203,1 +203,6 @@\n-  java_lang_Thread::clear_scopedValueBindings(vthread());\n+  oop vthread_oop = vthread();\n+  \/\/ vthread may be null here if we get a VM error during startup,\n+  \/\/ before the java.lang.Thread instance has been created.\n+  if (vthread_oop != NULL) {\n+    java_lang_Thread::clear_scopedValueBindings(vthread_oop);\n+  }\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}