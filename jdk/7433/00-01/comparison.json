{"files":[{"patch":"@@ -221,1 +221,1 @@\n-        startTest(\"10. -XX:SharedArchiveFile=\" + topArchiveName + \" -XX:ArchiveClassesAtExit=\" + getNewArchiveName(\"top3\"));\n+        startTest(\"11. -XX:SharedArchiveFile=\" + topArchiveName + \" -XX:ArchiveClassesAtExit=\" + getNewArchiveName(\"top3\"));\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/ArchiveConsistency.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -190,3 +190,3 @@\n-            \"-XX:+RecordDynamicDumpInfo\",\n-            \"-Xlog:cds+dynamic=debug\",\n-            \"-cp\", appJar, mainClass)\n+             \"-XX:+RecordDynamicDumpInfo\",\n+             \"-Xlog:cds+dynamic=debug\",\n+             \"-cp\", appJar, mainClass)\n@@ -194,2 +194,2 @@\n-                output.shouldNotMatch(\"\\\\[cds,dynamic\");\n-            });\n+                    output.shouldNotMatch(\"\\\\[cds,dynamic\");\n+                });\n@@ -198,1 +198,0 @@\n-            testcase(\"-XX:ArchiveClassesAtExit with CDS disabled (-Xshare:off)\");\n@@ -200,0 +199,2 @@\n+\n+            testcase(\"-XX:ArchiveClassesAtExit with CDS disabled (-Xshare:off)\");\n@@ -205,4 +206,4 @@\n-            .assertNormalExit(output -> {\n-                output.shouldNotMatch(\"\\\\[cds,dynamic\");\n-                output.shouldContain(\"-XX:ArchiveClassesAtExit is unsupported when base CDS archive is not loaded\");\n-            });\n+                 .assertNormalExit(output -> {\n+                         output.shouldNotMatch(\"\\\\[cds,dynamic\");\n+                         output.shouldContain(ERROR);\n+                     });\n@@ -215,5 +216,5 @@\n-                 \"-cp\", appJar, mainClass)\n-            .assertNormalExit(output -> {\n-                output.shouldNotMatch(\"\\\\[cds,dynamic\");\n-                output.shouldContain(\"-XX:ArchiveClassesAtExit is unsupported when base CDS archive is not loaded\");\n-            });\n+                  \"-cp\", appJar, mainClass)\n+                 .assertNormalExit(output -> {\n+                         output.shouldNotMatch(\"\\\\[cds,dynamic\");\n+                         output.shouldContain(ERROR);\n+                     });\n@@ -229,1 +230,1 @@\n-            .assertAbnormalExit(\"Cannot use the following option when dumping the shared archive: --patch-module\");\n+                 .assertAbnormalExit(\"Cannot use the following option when dumping the shared archive: --patch-module\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/SharedArchiveFileOption.java","additions":17,"deletions":16,"binary":false,"changes":33,"status":"modified"}]}