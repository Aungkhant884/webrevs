{"files":[{"patch":"@@ -31,1 +31,1 @@\n-import java.util.regex.Pattern;\n+import sun.security.util.Debug;\n@@ -173,0 +173,1 @@\n+     * @param dbg a Debug object, if null no debug messages will be sent\n@@ -181,1 +182,1 @@\n-    public static int privilegedGetTimeoutProp(String prop, int def) {\n+    public static int privilegedGetTimeoutProp(String prop, int def, Debug dbg) {\n@@ -186,1 +187,1 @@\n-        String propVal = System.getProperty(prop, \"\").trim();\n+        String propVal = privilegedGetProperty(prop, \"\").trim();\n@@ -202,2 +203,11 @@\n-            int timeout = Integer.parseInt(propVal);\n-            return isMillis ? timeout : timeout * 1000;\n+            try {\n+                int timeout = Integer.parseInt(propVal);\n+                return isMillis ? timeout : timeout * 1000;\n+            } catch (NumberFormatException nfe) {\n+                if (dbg != null) {\n+                    dbg.println(\"Warning: Unexpected \" + nfe +\n+                            \" for timeout value \" + propVal +\n+                            \". Using default value of \" + def + \" msec.\");\n+                }\n+                return def;\n+            }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/action\/GetPropertyAction.java","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -94,1 +94,2 @@\n-        int timeoutVal = GetPropertyAction.privilegedGetTimeoutProp(prop, def);\n+        int timeoutVal =\n+                GetPropertyAction.privilegedGetTimeoutProp(prop, def, debug);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/certpath\/OCSP.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -177,1 +177,2 @@\n-        int timeoutVal = GetPropertyAction.privilegedGetTimeoutProp(prop, def);\n+        int timeoutVal =\n+                GetPropertyAction.privilegedGetTimeoutProp(prop, def, debug);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/certpath\/URICertStore.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}