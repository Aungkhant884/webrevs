{"files":[{"patch":"@@ -6417,1 +6417,1 @@\n-#ifdef LINUX\n+#if defined (LINUX) && !defined (__ARM_FEATURE_ATOMICS)\n@@ -7992,1 +7992,1 @@\n-#ifdef LINUX\n+#if defined (LINUX) && !defined (__ARM_FEATURE_ATOMICS)\n@@ -8022,1 +8022,1 @@\n-#ifdef LINUX\n+#if defined (LINUX)\n","filename":"src\/hotspot\/cpu\/aarch64\/stubGenerator_aarch64.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -253,0 +253,5 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+\/\/ Compile time LSE support is enabled\n+\/\/ Forcibly enable runtime LSE support\n+  FLAG_SET_DEFAULT(UseLSE, true);\n+#else\n@@ -262,0 +267,1 @@\n+#endif\n","filename":"src\/hotspot\/cpu\/aarch64\/vm_version_aarch64.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -22,2 +22,0 @@\n-\n-\n@@ -25,1 +23,0 @@\n-\n@@ -29,0 +26,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        ldaddal x1, x2, [x0]\n+#else\n@@ -34,0 +34,1 @@\n+#endif\n@@ -41,0 +42,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        ldaddal w1, w2, [x0]\n+#else\n@@ -46,0 +50,1 @@\n+#endif\n@@ -53,0 +58,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        ldadd x1, x2, [x0]\n+#else\n@@ -58,0 +66,1 @@\n+#endif\n@@ -64,0 +73,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        ldadd w1, w2, [x0]\n+#else\n@@ -69,0 +81,1 @@\n+#endif\n@@ -75,0 +88,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        swpal   w1, w2, [x0]\n+#else\n@@ -79,0 +95,1 @@\n+#endif\n@@ -86,0 +103,3 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        swpal   x1, x2, [x0]\n+#else\n@@ -90,0 +110,1 @@\n+#endif\n@@ -97,0 +118,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casalb  w3, w2, [x0]\n+#else\n@@ -105,2 +130,3 @@\n-1:      mov     w0, w3\n-        dmb     ish\n+#endif\n+1:      dmb     ish\n+        mov     w0, w3\n@@ -112,0 +138,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casal   w3, w2, [x0]\n+#else\n@@ -119,2 +149,3 @@\n-1:      mov     w0, w3\n-        dmb     ish\n+#endif\n+1:      dmb     ish\n+        mov     w0, w3\n@@ -126,0 +157,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casal   x3, x2, [x0]\n+#else\n@@ -133,2 +168,3 @@\n-1:      mov     x0, x3\n-        dmb     ish\n+#endif\n+1:      dmb     ish\n+        mov     x0, x3\n@@ -140,0 +176,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casl    w3, w2, [x0]\n+#else\n@@ -146,0 +186,1 @@\n+#endif\n@@ -152,0 +193,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casl    x3, x2, [x0]\n+#else\n@@ -158,0 +203,1 @@\n+#endif\n@@ -164,0 +210,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casal   w3, w2, [x0]\n+#else\n@@ -170,0 +220,1 @@\n+#endif\n@@ -176,0 +227,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casal   x3, x2, [x0]\n+#else\n@@ -182,0 +237,1 @@\n+#endif\n@@ -188,0 +244,4 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n+        mov     x3, x1\n+        casb    w3, w2, [x0]\n+#else\n@@ -195,0 +255,1 @@\n+#endif\n@@ -201,0 +262,1 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n@@ -202,0 +264,3 @@\n+        mov     x3, x1\n+        cas     w3, w2, [x0]\n+#else\n@@ -207,0 +272,1 @@\n+#endif\n@@ -213,0 +279,1 @@\n+#ifdef __ARM_FEATURE_ATOMICS\n@@ -214,0 +281,3 @@\n+        mov     x3, x1\n+        cas     x3, x2, [x0]\n+#else\n@@ -219,0 +289,1 @@\n+#endif\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/atomic_linux_aarch64.S","additions":80,"deletions":9,"binary":false,"changes":89,"status":"modified"}]}