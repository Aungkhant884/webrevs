{"files":[{"patch":"@@ -593,3 +593,5 @@\n-     * format, and a fourth entry as a byte array containing the ASN.1 DER\n-     * encoding of its {@code value} without the context-specific constructed\n-     * tag with number 0. No standard string format is\n+     * format, and a fourth entry as either a string (if {@code value} inside\n+     * is a valid UTF8String, PrintableString, T61String, IA5String,\n+     * UniversalString, BMPString, or GeneralString) or a byte array containing\n+     * the ASN.1 DER encoding of {@code value} without the context-specific\n+     * constructed tag with number 0 (otherwise). No standard string format is\n","filename":"src\/java.base\/share\/classes\/java\/security\/cert\/X509Certificate.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-        if (!derValue1.isContextSpecific((byte)0)) {\n+        if (!derValue1.isContextSpecific((byte)0) || !derValue1.isConstructed()) {\n","filename":"src\/java.base\/share\/classes\/sun\/security\/x509\/OtherName.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1590,1 +1590,7 @@\n-                    nameEntry.add(oname.getNameValue());\n+                    byte[] nameValue = oname.getNameValue();\n+                    try {\n+                        String v = new DerValue(nameValue).getAsString();\n+                        nameEntry.add(v == null ? nameValue : v);\n+                    } catch (IOException ioe) {\n+                        nameEntry.add(nameValue);\n+                    }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/x509\/X509CertImpl.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import sun.security.util.DerValue;\n@@ -68,1 +69,2 @@\n-        byte[] d1 = new byte[] { 5, 0 };\n+        byte[] d1 = new byte[] {\n+                DerValue.tag_OctetString, 5, 'a', '.', 'c', 'o', 'm' };\n@@ -72,1 +74,2 @@\n-        byte[] d2 = new byte[] { 4, 5, 'a', '.', 'c', 'o', 'm' };\n+        byte[] d2 = new byte[] {\n+                DerValue.tag_UTF8String, 5, 'a', '.', 'c', 'o', 'm' };\n@@ -86,7 +89,9 @@\n-            if (san.get(2).equals(\"1.2.3.5\")\n-                    && Arrays.equals((byte[])san.get(3), d1)) {\n-                found++;\n-            }\n-            if (san.get(2).equals(\"1.2.3.6\")\n-                    && Arrays.equals((byte[])san.get(3), d2)) {\n-                found++;\n+            if (san.size() == 4) {\n+                if (san.get(2).equals(\"1.2.3.5\")\n+                        && Arrays.equals((byte[]) san.get(3), d1)) {\n+                    found++;\n+                }\n+                if (san.get(2).equals(\"1.2.3.6\")\n+                        && san.get(3).equals(\"a.com\")) {\n+                    found++;\n+                }\n","filename":"test\/jdk\/sun\/security\/x509\/OtherName\/Parse.java","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"}]}