{"files":[{"patch":"@@ -36,1 +36,1 @@\n-  _lock = new Mutex(Mutex::tty,\n+  _lock = new Mutex(Mutex::event, \/* The lowest lock rank I could find *\/\n@@ -80,6 +80,10 @@\n-  if (_lines != NULL) {\n-    MutexLocker locker(_lock, Mutex::_no_safepoint_check_flag);\n-    if (_lines->size() > 0) {\n-      st->print_cr(\"GC Precious Log:\");\n-      st->print_cr(\"%s\", _lines->base());\n-    }\n+  st->print_cr(\"GC Precious Log:\");\n+\n+  if (_lines == NULL) {\n+    st->print_cr(\"<Not initialized>\\n\");\n+    return;\n+  }\n+\n+  if (!_lock->try_lock_without_rank_check()) {\n+    st->print_cr(\"<Skipped>\\n\");\n+    return;\n@@ -87,0 +91,8 @@\n+\n+  if (_lines->size() == 0) {\n+    st->print_cr(\"<Empty>\\n\");\n+  } else {\n+    st->print_cr(\"%s\", _lines->base());\n+  }\n+\n+  _lock->unlock();\n","filename":"src\/hotspot\/share\/gc\/shared\/gcLogPrecious.cpp","additions":19,"deletions":7,"binary":false,"changes":26,"status":"modified"}]}