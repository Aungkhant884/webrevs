{"files":[{"patch":"@@ -48,0 +48,1 @@\n+import java.util.concurrent.atomic.AtomicBoolean;\n@@ -193,1 +194,8 @@\n-            if(!commonPopup.isVisible()) {\n+            AtomicBoolean popupVisible = new AtomicBoolean(false);\n+            try {\n+                SwingUtilities.invokeAndWait(() ->\n+                        popupVisible.set(commonPopup.isVisible()));\n+            } catch (Exception ex) {\n+                throw new RuntimeException(\"Can not get commonPopup status\");\n+            }\n+            if(!popupVisible.get()) {\n@@ -210,1 +218,7 @@\n-            if(!btnPopup.isVisible()) {\n+            try {\n+                SwingUtilities.invokeAndWait(() ->\n+                    popupVisible.set(btnPopup.isVisible()));\n+            } catch (Exception ex) {\n+                throw new RuntimeException(\"Can not get btnPopup status\");\n+            }\n+            if(!popupVisible.get()) {\n","filename":"test\/jdk\/javax\/swing\/JPopupMenu\/4634626\/bug4634626.java","additions":16,"deletions":2,"binary":false,"changes":18,"status":"modified"}]}