{"files":[{"patch":"@@ -614,1 +614,1 @@\n-    _result = JVMTI_ERROR_OPAQUE_FRAME; \/\/ deferred locals currently unsupported in continuations\n+    _result = JVMTI_ERROR_OPAQUE_FRAME; \/\/ deferred locals are not fully supported in continuations\n@@ -647,0 +647,11 @@\n+    if (fr.is_heap_frame()) { \/\/ we want this check after the check for JVMTI_ERROR_INVALID_SLOT\n+      assert(Continuation::is_frame_in_continuation(_jvf->thread(), fr), \"sanity check\");\n+      \/\/ If the topmost frame is a heap frame, then it hasn't been thawed. This can happen\n+      \/\/ if we are executing at a return barrier safepoint. The callee frame has been popped,\n+      \/\/ but the caller frame has not been thawed. We can't support a JVMTI SetLocal in the callee\n+      \/\/ frame at this point, because we aren't truly in the callee yet.\n+      \/\/ fr.is_heap_frame() is impossible if a continuation is at a single step or breakpoint.\n+      _result = JVMTI_ERROR_OPAQUE_FRAME; \/\/ deferred locals are not fully supported in continuations\n+      return;\n+    }\n+\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.cpp","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/*\n+\/**\n@@ -34,1 +34,0 @@\n- *\/\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/Bad_NCDFE_Msg.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -695,1 +695,0 @@\n-tools\/jlink\/plugins\/CompressorPluginTest.java                   8247407 generic-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}