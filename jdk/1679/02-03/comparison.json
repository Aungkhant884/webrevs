{"files":[{"patch":"@@ -575,1 +575,1 @@\n-    DECLARE_METHOD_RETURN(jf_Peer, jc_CPlatformView, \"peer\", \"Lsun\/lwawt\/LWWindowPeer;\", NULL);\n+    DECLARE_FIELD_RETURN(jf_Peer, jc_CPlatformView, \"peer\", \"Lsun\/lwawt\/LWWindowPeer;\", NULL);\n@@ -592,1 +592,1 @@\n-    DECLARE_METHOD_RETURN(jf_Target, jc_LWWindowPeer, \"target\", \"Ljava\/awt\/Component;\", NULL);\n+    DECLARE_FIELD_RETURN(jf_Target, jc_LWWindowPeer, \"target\", \"Ljava\/awt\/Component;\", NULL);\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/AWTView.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-    DECLARE_METHOD_RETURN(jm_getSize, sjc_CAccessibility, \"getSize\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getSize, sjc_CAccessibility, \"getSize\",\n@@ -71,1 +71,1 @@\n-    DECLARE_METHOD_RETURN(sjm_getAccessibleRole, sjc_CAccessibility, \"getAccessibleRole\",\n+    DECLARE_STATIC_METHOD_RETURN(sjm_getAccessibleRole, sjc_CAccessibility, \"getAccessibleRole\",\n@@ -86,1 +86,1 @@\n-    DECLARE_METHOD_RETURN(jm_getAccessibleSelection, sjc_CAccessibility, \"getAccessibleSelection\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getAccessibleSelection, sjc_CAccessibility, \"getAccessibleSelection\",\n@@ -97,1 +97,1 @@\n-    DECLARE_METHOD_RETURN(jm_ax_getAccessibleSelection, sjc_CAccessibility, \"ax_getAccessibleSelection\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_ax_getAccessibleSelection, sjc_CAccessibility, \"ax_getAccessibleSelection\",\n@@ -107,1 +107,1 @@\n-    DECLARE_METHOD(jm_addAccessibleSelection, sjc_CAccessibility, \"addAccessibleSelection\",\n+    DECLARE_STATIC_METHOD(jm_addAccessibleSelection, sjc_CAccessibility, \"addAccessibleSelection\",\n@@ -117,1 +117,1 @@\n-    DECLARE_METHOD_RETURN(jm_getAccessibleContext, sjc_CAccessibility, \"getAccessibleContext\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getAccessibleContext, sjc_CAccessibility, \"getAccessibleContext\",\n@@ -128,1 +128,1 @@\n-    DECLARE_METHOD_RETURN(jm_isAccessibleChildSelected, sjc_CAccessibility, \"isAccessibleChildSelected\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_isAccessibleChildSelected, sjc_CAccessibility, \"isAccessibleChildSelected\",\n@@ -139,1 +139,1 @@\n-    DECLARE_METHOD_RETURN(jm_getAccessibleStateSet, sjc_CAccessibility, \"getAccessibleStateSet\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getAccessibleStateSet, sjc_CAccessibility, \"getAccessibleStateSet\",\n@@ -150,1 +150,1 @@\n-    DECLARE_METHOD_RETURN(jm_contains, sjc_CAccessibility, \"contains\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_contains, sjc_CAccessibility, \"contains\",\n@@ -152,1 +152,1 @@\n-    jboolean b = (*env)->CallStaticBooleanMethod(env, jm_contains, axContext, axState, component); \/\/ AWT_THREADING Safe (AWTRunLoopMode)\n+    jboolean b = (*env)->CallStaticBooleanMethod(env, sjc_CAccessibility, jm_contains, axContext, axState, component); \/\/ AWT_THREADING Safe (AWTRunLoopMode)\n@@ -212,1 +212,1 @@\n-    jobject jpoint = (*env)->CallStaticObjectMethod(env, sjc_Point, jm_getLocationOnScreen,\n+    jobject jpoint = (*env)->CallStaticObjectMethod(env, sjc_CAccessibility, jm_getLocationOnScreen,\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/JavaAccessibilityUtilities.m","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-    GET_METHOD_RETURN(sjm_getAccessibleName, sjc_CAccessibility, \"getAccessibleName\", \\\n+    GET_STATIC_METHOD_RETURN(sjm_getAccessibleName, sjc_CAccessibility, \"getAccessibleName\", \\\n@@ -69,1 +69,1 @@\n-    GET_METHOD_RETURN(jm_getChildrenAndRoles, sjc_CAccessibility, \"getChildrenAndRoles\",\\\n+    GET_STATIC_METHOD_RETURN(jm_getChildrenAndRoles, sjc_CAccessibility, \"getChildrenAndRoles\",\\\n@@ -1259,1 +1259,1 @@\n-    jobject val = (*env)->CallStaticObjectMethod(env, sjm_getAccessibleName, fAccessible, fComponent); \/\/ AWT_THREADING Safe (AWTRunLoop)\n+    jobject val = (*env)->CallStaticObjectMethod(env, sjc_CAccessibility, sjm_getAccessibleName, fAccessible, fComponent); \/\/ AWT_THREADING Safe (AWTRunLoop)\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/JavaComponentAccessibility.m","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -39,4 +39,4 @@\n-#define GET_ACCESSIBLETEXT_METHOD() \\\n-    GET_CACCESSIBLITY_CLASS(); \\\n-    GET_METHOD(sjm_getAccessibleText, sjc_CAccessibility, \"getAccessibleText\", \\\n-              \"(Ljavax\/accessibility\/Accessible;Ljava\/awt\/Component;)Ljavax\/accessibility\/AccessibleText;\");\n+#define GET_ACCESSIBLETEXT_METHOD_RETURN(ret) \\\n+    GET_CACCESSIBLITY_CLASS_RETURN(ret); \\\n+    GET_STATIC_METHOD_RETURN(sjm_getAccessibleText, sjc_CAccessibility, \"getAccessibleText\", \\\n+              \"(Ljavax\/accessibility\/Accessible;Ljava\/awt\/Component;)Ljavax\/accessibility\/AccessibleText;\", ret);\n@@ -51,4 +51,4 @@\n-#define GET_ACCESSIBLEEDITABLETEXT_METHOD() \\\n-    GET_CACCESSIBLETEXT_CLASS(); \\\n-    GET_METHOD(sjm_getAccessibleEditableText, sjc_CAccessibleText, \"getAccessibleEditableText\", \\\n-              \"(Ljavax\/accessibility\/Accessible;Ljava\/awt\/Component;)Ljavax\/accessibility\/AccessibleEditableText;\");\n+#define GET_ACCESSIBLEEDITABLETEXT_METHOD_RETURN(ret) \\\n+    GET_CACCESSIBLETEXT_CLASS_RETURN(ret); \\\n+    GET_STATIC_METHOD_RETURN(sjm_getAccessibleEditableText, sjc_CAccessibleText, \"getAccessibleEditableText\", \\\n+              \"(Ljavax\/accessibility\/Accessible;Ljava\/awt\/Component;)Ljavax\/accessibility\/AccessibleEditableText;\", ret);\n@@ -132,1 +132,1 @@\n-    DECLARE_METHOD_RETURN(sjm_getAccessibleName, sjc_CAccessibility, \"getAccessibleName\",\n+    DECLARE_STATIC_METHOD_RETURN(sjm_getAccessibleName, sjc_CAccessibility, \"getAccessibleName\",\n@@ -148,0 +148,1 @@\n+    GET_ACCESSIBLETEXT_METHOD_RETURN(@\"\");\n@@ -154,0 +155,1 @@\n+    GET_ACCESSIBLEEDITABLETEXT_METHOD_RETURN(nil);\n@@ -159,1 +161,1 @@\n-    DECLARE_METHOD_RETURN(jm_getTextRange, sjc_CAccessibleText, \"getTextRange\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getTextRange, sjc_CAccessibleText, \"getTextRange\",\n@@ -181,0 +183,1 @@\n+    GET_ACCESSIBLEEDITABLETEXT_METHOD_RETURN(NO);\n@@ -202,1 +205,1 @@\n-    DECLARE_METHOD_RETURN(jm_getSelectedText, sjc_CAccessibleText, \"getSelectedText\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getSelectedText, sjc_CAccessibleText, \"getSelectedText\",\n@@ -230,1 +233,1 @@\n-    DECLARE_METHOD(jm_setSelectedText, sjc_CAccessibleText, \"setSelectedText\",\n+    DECLARE_STATIC_METHOD(jm_setSelectedText, sjc_CAccessibleText, \"setSelectedText\",\n@@ -242,1 +245,1 @@\n-    DECLARE_METHOD_RETURN(jm_getSelectedTextRange, sjc_CAccessibleText, \"getSelectedTextRange\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getSelectedTextRange, sjc_CAccessibleText, \"getSelectedTextRange\",\n@@ -272,1 +275,1 @@\n-    DECLARE_METHOD(jm_setSelectedTextRange, sjc_CAccessibleText, \"setSelectedTextRange\",\n+    DECLARE_STATIC_METHOD(jm_setSelectedTextRange, sjc_CAccessibleText, \"setSelectedTextRange\",\n@@ -284,0 +287,1 @@\n+    GET_ACCESSIBLETEXT_METHOD_RETURN(nil);\n@@ -301,1 +305,1 @@\n-    DECLARE_METHOD_RETURN(jm_getVisibleCharacterRange, sjc_CAccessibleText, \"getVisibleCharacterRange\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getVisibleCharacterRange, sjc_CAccessibleText, \"getVisibleCharacterRange\",\n@@ -323,1 +327,1 @@\n-    DECLARE_METHOD_RETURN(jm_getLineNumberForInsertionPoint, sjc_CAccessibleText,\n+    DECLARE_STATIC_METHOD_RETURN(jm_getLineNumberForInsertionPoint, sjc_CAccessibleText,\n@@ -362,1 +366,1 @@\n-    DECLARE_METHOD_RETURN(jm_getBoundsForRange, sjc_CAccessibleText, \"getBoundsForRange\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getBoundsForRange, sjc_CAccessibleText, \"getBoundsForRange\",\n@@ -394,1 +398,1 @@\n-    DECLARE_METHOD_RETURN(jm_getLineNumberForIndex, sjc_CAccessibleText, \"getLineNumberForIndex\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getLineNumberForIndex, sjc_CAccessibleText, \"getLineNumberForIndex\",\n@@ -410,1 +414,1 @@\n-    DECLARE_METHOD_RETURN(jm_getRangeForLine, sjc_CAccessibleText, \"getRangeForLine\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getRangeForLine, sjc_CAccessibleText, \"getRangeForLine\",\n@@ -440,1 +444,1 @@\n-    DECLARE_METHOD_RETURN(jm_getStringForRange, sjc_CAccessibleText, \"getStringForRange\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getStringForRange, sjc_CAccessibleText, \"getStringForRange\",\n@@ -472,1 +476,1 @@\n-    DECLARE_METHOD_RETURN(jm_getCharacterIndexAtPosition, sjc_CAccessibleText, \"getCharacterIndexAtPosition\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getCharacterIndexAtPosition, sjc_CAccessibleText, \"getCharacterIndexAtPosition\",\n@@ -505,1 +509,1 @@\n-    DECLARE_METHOD_RETURN(jm_getRangeForIndex, sjc_CAccessibleText, \"getRangeForIndex\",\n+    DECLARE_STATIC_METHOD_RETURN(jm_getRangeForIndex, sjc_CAccessibleText, \"getRangeForIndex\",\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/JavaTextAccessibility.m","additions":26,"deletions":22,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -32,0 +32,7 @@\n+\/********        LOGGING SUPPORT    *********\/\n+\n+#define LOG_NULL(dst_var, name) \\\n+   if (dst_var == NULL) { \\\n+       NSLog(@\"Bad JNI lookup %s\\n\", name); \\\n+    }\n+\n@@ -39,0 +46,1 @@\n+     LOG_NULL(dst_var, cls); \\\n@@ -50,0 +58,1 @@\n+     LOG_NULL(dst_var, cls); \\\n@@ -63,0 +72,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -73,0 +83,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -83,0 +94,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -93,0 +105,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -106,0 +119,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -116,0 +130,1 @@\n+     LOG_NULL(dst_var, name); \\\n@@ -126,0 +141,1 @@\n+     LOG_NULL(dst_var, name); \\\n","filename":"src\/java.desktop\/macosx\/native\/libosxapp\/JNIUtilities.h","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"}]}