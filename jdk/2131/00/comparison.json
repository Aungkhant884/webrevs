{"files":[{"patch":"@@ -356,1 +356,1 @@\n-  _tasks = NEW_C_HEAP_ARRAY(uint, n, mtInternal);\n+  _tasks = NEW_C_HEAP_ARRAY(bool, n, mtInternal);\n@@ -366,1 +366,1 @@\n-    _tasks[i] = 0;\n+    _tasks[i] = false;\n@@ -377,1 +377,1 @@\n-    if (_tasks[i] == 0) {\n+    if (!_tasks[i]) {\n@@ -392,1 +392,1 @@\n-    assert(_tasks[task_index] == 0, \"%d is both claimed and skipped.\", task_index);\n+    assert(!_tasks[task_index], \"%d is both claimed and skipped.\", task_index);\n@@ -410,6 +410,1 @@\n-  uint old = _tasks[t];\n-  if (old == 0) {\n-    old = Atomic::cmpxchg(&_tasks[t], 0u, 1u);\n-  }\n-  bool res = old == 0;\n-  return res;\n+  return !_tasks[t] && !Atomic::cmpxchg(&_tasks[t], false, true);\n@@ -418,1 +413,0 @@\n-\n@@ -420,1 +414,1 @@\n-  FREE_C_HEAP_ARRAY(uint, _tasks);\n+  FREE_C_HEAP_ARRAY(bool, _tasks);\n","filename":"src\/hotspot\/share\/gc\/shared\/workgroup.cpp","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -305,1 +305,1 @@\n-  volatile uint* _tasks;\n+  volatile bool* _tasks;\n","filename":"src\/hotspot\/share\/gc\/shared\/workgroup.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}