{"files":[{"patch":"@@ -56,1 +56,1 @@\n-    do {\n+    {\n@@ -67,1 +67,1 @@\n-    } while (0);\n+    }\n@@ -69,1 +69,1 @@\n-    do {\n+    {\n@@ -76,1 +76,1 @@\n-    } while (0);\n+    }\n@@ -78,1 +78,1 @@\n-    do {\n+    {\n@@ -91,1 +91,1 @@\n-    } while (0);\n+    }\n@@ -93,1 +93,1 @@\n-    do {\n+    {\n@@ -105,1 +105,1 @@\n-    } while (0);\n+    }\n@@ -107,1 +107,1 @@\n-    do {\n+    {\n@@ -110,1 +110,1 @@\n-    } while (0);\n+    }\n@@ -116,1 +116,1 @@\n-    do { \/\/ Run modular app\n+    { \/\/ Run modular app\n@@ -123,1 +123,1 @@\n-    } while (0);\n+    }\n@@ -125,1 +125,1 @@\n-    do { \/\/ Run main class\n+    { \/\/ Run main class\n@@ -131,1 +131,1 @@\n-    } while (0);\n+    }\n@@ -133,1 +133,1 @@\n-    do { \/\/ Run jar\n+    { \/\/ Run jar\n@@ -140,1 +140,1 @@\n-    } while (0);\n+    }\n@@ -142,1 +142,1 @@\n-    do {\n+    {\n@@ -154,1 +154,1 @@\n-    } while (0);\n+    }\n@@ -236,1 +236,1 @@\n-        do {\n+        {\n@@ -244,1 +244,1 @@\n-        } while (false);\n+        }\n@@ -287,1 +287,1 @@\n-    do {\n+    {\n@@ -293,1 +293,1 @@\n-    } while (0);\n+    }\n","filename":"src\/jdk.jpackage\/share\/native\/applauncher\/JvmLauncher.cpp","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -210,15 +210,14 @@\n-    do {\n-        int cm = WideCharToMultiByte(encoding,\n-                                    0,\n-                                    utf16str.c_str(),\n-                                    int(utf16str.size()),\n-                                    NULL,\n-                                    0,\n-                                    NULL,\n-                                    NULL);\n-        if (cm < 0) {\n-            JP_THROW(\"Unexpected reply from WideCharToMultiByte()\");\n-        }\n-        if (0 == cm) {\n-            break;\n-        }\n+    int cm = WideCharToMultiByte(encoding,\n+                                 0,\n+                                 utf16str.c_str(),\n+                                 int(utf16str.size()),\n+                                 NULL,\n+                                 0,\n+                                 NULL,\n+                                 NULL);\n+    if (cm < 0) {\n+        JP_THROW(\"Unexpected reply from WideCharToMultiByte()\");\n+    }\n+    if (0 == cm) {\n+        return reply;\n+    }\n@@ -226,13 +225,12 @@\n-        reply.resize(cm);\n-        int cm2 = WideCharToMultiByte(encoding,\n-                                    0,\n-                                    utf16str.c_str(),\n-                                    int(utf16str.size()),\n-                                    &*reply.begin(),\n-                                    cm,\n-                                    NULL,\n-                                    NULL);\n-        if (cm != cm2) {\n-            JP_THROW(\"Unexpected reply from WideCharToMultiByte()\");\n-        }\n-    } while(0);\n+    reply.resize(cm);\n+    int cm2 = WideCharToMultiByte(encoding,\n+                                  0,\n+                                  utf16str.c_str(),\n+                                  int(utf16str.size()),\n+                                  &*reply.begin(),\n+                                  cm,\n+                                  NULL,\n+                                  NULL);\n+    if (cm != cm2) {\n+        JP_THROW(\"Unexpected reply from WideCharToMultiByte()\");\n+    }\n@@ -248,13 +246,12 @@\n-    do {\n-        int cw = MultiByteToWideChar(encoding,\n-                                    MB_ERR_INVALID_CHARS,\n-                                    str.c_str(),\n-                                    int(str.size()),\n-                                    NULL,\n-                                    0);\n-        if (cw < 0) {\n-            JP_THROW(\"Unexpected reply from MultiByteToWideChar()\");\n-        }\n-        if (0 == cw) {\n-            break;\n-        }\n+    int cw = MultiByteToWideChar(encoding,\n+                                 MB_ERR_INVALID_CHARS,\n+                                 str.c_str(),\n+                                 int(str.size()),\n+                                 NULL,\n+                                 0);\n+    if (cw < 0) {\n+        JP_THROW(\"Unexpected reply from MultiByteToWideChar()\");\n+    }\n+    if (0 == cw) {\n+        return utf16;\n+    }\n@@ -262,11 +259,10 @@\n-        utf16.resize(cw);\n-        int cw2 = MultiByteToWideChar(encoding,\n-                                    MB_ERR_INVALID_CHARS,\n-                                    str.c_str(),\n-                                    int(str.size()),\n-                                    &*utf16.begin(),\n-                                    cw);\n-        if (cw != cw2) {\n-            JP_THROW(\"Unexpected reply from MultiByteToWideChar()\");\n-        }\n-    } while(0);\n+    utf16.resize(cw);\n+    int cw2 = MultiByteToWideChar(encoding,\n+                                  MB_ERR_INVALID_CHARS,\n+                                  str.c_str(),\n+                                  int(str.size()),\n+                                  &*utf16.begin(),\n+                                  cw);\n+    if (cw != cw2) {\n+        JP_THROW(\"Unexpected reply from MultiByteToWideChar()\");\n+    }\n","filename":"src\/jdk.jpackage\/share\/native\/common\/tstrings.cpp","additions":48,"deletions":52,"binary":false,"changes":100,"status":"modified"}]}