{"files":[{"patch":"@@ -75,1 +75,0 @@\n-const char*  Arguments::_gc_log_filename        = NULL;\n@@ -96,0 +95,2 @@\n+LegacyGCLogging Arguments::_legacyGCLogging     = { 0, 0 };\n+\n@@ -2335,1 +2336,3 @@\n-        LogConfiguration::configure_stdout(LogLevel::Info, true, LOG_TAGS(gc));\n+        if (_legacyGCLogging.lastFlag == 0) {\n+          _legacyGCLogging.lastFlag = 1;\n+        }\n@@ -2742,1 +2745,2 @@\n-      _gc_log_filename = os::strdup_check_oom(tail);\n+      _legacyGCLogging.lastFlag = 2;\n+      _legacyGCLogging.file = os::strdup_check_oom(tail);\n@@ -3730,1 +3734,1 @@\n-  if (_gc_log_filename != NULL) {\n+  if (_legacyGCLogging.lastFlag == 2) {\n@@ -3736,2 +3740,2 @@\n-    return LogConfiguration::parse_log_arguments(_gc_log_filename, gc_conf, NULL, NULL, &errstream);\n-  } else if (PrintGC || PrintGCDetails) {\n+    return LogConfiguration::parse_log_arguments(_legacyGCLogging.file, gc_conf, NULL, NULL, &errstream);\n+  } else if (PrintGC || PrintGCDetails || (_legacyGCLogging.lastFlag == 1)) {\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -54,0 +54,5 @@\n+struct LegacyGCLogging {\n+    const char* file;        \/\/ NULL -> stdout\n+    int lastFlag;            \/\/ 0 not set; 1 -> -verbose:gc; 2 -> -Xloggc\n+};\n+\n@@ -320,2 +325,3 @@\n-  \/\/ Option flags\n-  static const char*  _gc_log_filename;\n+  \/\/ for legacy gc options (-verbose:gc and -Xloggc:)\n+  static LegacyGCLogging _legacyGCLogging;\n+\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"}]}