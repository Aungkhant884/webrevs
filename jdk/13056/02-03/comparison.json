{"files":[{"patch":"@@ -2847,6 +2847,1 @@\n-#ifdef ASSERT\n-      if (TraceNewVectors) {\n-        tty->print(\"new Vector node: \");\n-        macro_logic->dump();\n-      }\n-#endif\n+      VectorNode::trace_new_vector(macro_logic, \"MacroLogic\");\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -4257,6 +4257,1 @@\n-#ifdef ASSERT\n-    if (TraceNewVectors) {\n-      tty->print(\"new Vector node: \");\n-      identity_vector->dump();\n-    }\n-#endif\n+    VectorNode::trace_new_vector(identity_vector, \"UnorderedReduction\");\n@@ -4280,6 +4275,1 @@\n-#ifdef ASSERT\n-      if (TraceNewVectors) {\n-        tty->print(\"new Vector node: \");\n-        vector_accumulator->dump();\n-      }\n-#endif\n+      VectorNode::trace_new_vector(vector_accumulator, \"UnorderedReduction\");\n@@ -4299,1 +4289,2 @@\n-      if (ctrl_or_self(use) != cl) {\n+      if (use != phi && use != post_loop_reduction) {\n+        assert(ctrl_or_self(use) != cl, \"use must be outside loop\");\n@@ -4305,0 +4296,1 @@\n+    VectorNode::trace_new_vector(post_loop_reduction, \"UnorderedReduction\");\n","filename":"src\/hotspot\/share\/opto\/loopopts.cpp","additions":5,"deletions":13,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -3332,6 +3332,1 @@\n-#ifdef ASSERT\n-      if (TraceNewVectors) {\n-        tty->print(\"new Vector node: \");\n-        vn->dump();\n-      }\n-#endif\n+      VectorNode::trace_new_vector(vn, \"SuperWord\");\n@@ -3510,6 +3505,1 @@\n-#ifdef ASSERT\n-    if (TraceNewVectors) {\n-      tty->print(\"new Vector node: \");\n-      vn->dump();\n-    }\n-#endif\n+    VectorNode::trace_new_vector(vn, \"SuperWord\");\n@@ -3588,6 +3578,1 @@\n-#ifdef ASSERT\n-    if (TraceNewVectors) {\n-      tty->print(\"new Vector node: \");\n-      vn->dump();\n-    }\n-#endif\n+    VectorNode::trace_new_vector(vn, \"SuperWord\");\n@@ -3625,6 +3610,1 @@\n-#ifdef ASSERT\n-  if (TraceNewVectors) {\n-    tty->print(\"new Vector node: \");\n-    pk->dump();\n-  }\n-#endif\n+  VectorNode::trace_new_vector(pk, \"SuperWord\");\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":4,"deletions":24,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -135,0 +135,9 @@\n+\n+  static void trace_new_vector(Node* n, const char* context) {\n+#ifdef ASSERT\n+    if (TraceNewVectors) {\n+      tty->print(\"TraceNewVectors [%s]: \", context);\n+      n->dump();\n+    }\n+#endif\n+  }\n","filename":"src\/hotspot\/share\/opto\/vectornode.hpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}