{"files":[{"patch":"@@ -2043,3 +2043,2 @@\n-  _first_overflow_barrier_sync.abort();\n-  _second_overflow_barrier_sync.abort();\n-  _has_aborted = true;\n+\n+  abort_marking_threads();\n@@ -2056,0 +2055,6 @@\n+void G1ConcurrentMark::abort_marking_threads() {\n+  _has_aborted = true;\n+  _first_overflow_barrier_sync.abort();\n+  _second_overflow_barrier_sync.abort();\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -498,0 +498,4 @@\n+  \/\/ Notifies marking threads to abort. This is a best-effort notification. Does not\n+  \/\/ guarantee or update any state after the call.\n+  void abort_marking_threads();\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -162,0 +162,2 @@\n+  _cm->abort_marking_threads();\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMarkThread.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}