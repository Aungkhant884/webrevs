{"files":[{"patch":"@@ -46,2 +46,1 @@\n-    public static final void main( String[] parameters ) {\n-        PrinterJob printjob = PrinterJob.getPrinterJob();\n+    public static final void main( String[] parameters ) throws Exception {\n@@ -49,1 +48,13 @@\n-        if (printjob.getPrintService() == null || defaultPrtSrv == null) {\n+        \/\/ If there is no default printer, search for non-default printservice\n+        if (defaultPrtSrv == null) {\n+            PrintService[] printService = PrinterJob.lookupPrintServices();\n+            System.out.println(\"check printer name of service \" + printService);\n+            \/\/ If there is only a non-default one, set that as the printer for the job\n+            if (printService.length == 1) {\n+                System.out.println(\"set this printer service to print...\");\n+                defaultPrtSrv = printService[0];\n+            }\n+        }\n+        PrinterJob printjob = PrinterJob.getPrinterJob();\n+        printjob.setPrintService(defaultPrtSrv);\n+        if (printjob.getPrintService() == null) {\n","filename":"test\/jdk\/java\/awt\/print\/PrinterJob\/LandscapeStackOverflow.java","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"}]}