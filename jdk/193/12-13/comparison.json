{"files":[{"patch":"@@ -63,1 +63,1 @@\n-        if (CDS.isDumpingClassList) {\n+        if (CDS.isDumpingClassList()) {\n@@ -72,1 +72,1 @@\n-        if (CDS.isDumpingClassList) {\n+        if (CDS.isDumpingClassList()) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/GenerateJLIClassesHelper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n-import java.util.ArrayList;\n+import java.util.Arrays;\n@@ -37,4 +37,1 @@\n-    \/**\n-      * indicator for dumping class list.\n-      *\/\n-    static public final boolean isDumpingClassList;\n+    static private final boolean isDumpingClassList;\n@@ -45,0 +42,6 @@\n+    \/**\n+      * indicator for dumping class list.\n+      *\/\n+    public static boolean isDumpingClassList() {\n+        return isDumpingClassList;\n+    }\n@@ -138,3 +141,2 @@\n-    \/\/ return null for invalid input\n-    private static Stream<String>  validateInputLines(String[] lines) {\n-        ArrayList<String> list = new ArrayList<String>(lines.length);\n+    \/\/ return false for invalid input, don't throw exception since it will generate more objects\n+    private static boolean isValidInputLines(String[] lines) {\n@@ -142,0 +144,1 @@\n+            \/\/ There might be a trailing '\\f' for line in ExtraClassListFile, do trim first.\n@@ -145,1 +148,1 @@\n-                return null;\n+                return false;\n@@ -155,1 +158,1 @@\n-                    return null;\n+                    return false;\n@@ -159,1 +162,1 @@\n-                    return null;\n+                    return false;\n@@ -163,1 +166,1 @@\n-                    return null;\n+                    return false;\n@@ -168,1 +171,1 @@\n-                   return null;\n+                   return false;\n@@ -171,1 +174,0 @@\n-           list.add(line);\n@@ -173,1 +175,1 @@\n-      return list.stream();\n+      return true;\n@@ -184,2 +186,1 @@\n-            Stream<String> lineStream = validateInputLines(lines);\n-            if (lineStream == null) {\n+            if (!isValidInputLines(lines)) {\n@@ -188,0 +189,1 @@\n+            Stream<String> lineStream = Arrays.stream(lines).map(String::trim);\n@@ -198,0 +200,1 @@\n+            \/\/ for debug purpose.\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/CDS.java","additions":20,"deletions":17,"binary":false,"changes":37,"status":"modified"}]}