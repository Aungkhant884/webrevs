{"files":[{"patch":"@@ -0,0 +1,50 @@\n+\/*\n+ * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4688907\n+   @summary ScrollPaneLayout.minimumLayoutSize incorrectly compares hsbPolicy\n+   @key headful\n+   @run main ScrollPaneMinimumLayoutSizeTest\n+*\/\n+\n+import javax.swing.JScrollPane;\n+import java.awt.Dimension;\n+\n+public class ScrollPaneMinimumLayoutSizeTest {\n+\n+    public void init() {\n+        JScrollPane sp = new JScrollPane();\n+        Dimension d1 = sp.getMinimumSize();\n+        sp.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n+        Dimension d2 = sp.getMinimumSize();\n+        if ( d1.height == d2.height ) {\n+            throw new Error(\"The scrollbar minimum size doesn't take into account horizontal scrollbar policy\");\n+        }\n+    }\n+\n+    public static void main(String[] argv) {\n+        ScrollPaneMinimumLayoutSizeTest b = new ScrollPaneMinimumLayoutSizeTest();\n+        b.init();\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/swing\/JScrollPane\/ScrollPaneMinimumLayoutSizeTest.java","additions":50,"deletions":0,"binary":false,"changes":50,"status":"added"},{"patch":"@@ -0,0 +1,76 @@\n+\/*\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4803649\n+   @summary setWidth() doesn't work on the container in a SpringLayout\n+   @key headful\n+   @run main SpringLayoutSetWidthTest\n+*\/\n+\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.JTextArea;\n+import javax.swing.Spring;\n+import javax.swing.SpringLayout;\n+import java.awt.Dimension;\n+\n+public class SpringLayoutSetWidthTest {\n+\n+    JPanel panel;\n+    JFrame fr;\n+    SpringLayout layout;\n+    JTextArea textArea;\n+\n+    public void init() {\n+        fr = new JFrame(\"Test\");\n+\n+        panel = new JPanel();\n+        layout = new SpringLayout();\n+        panel.setLayout(layout);\n+\n+        textArea = new JTextArea(\"asasddsa\");\n+        textArea.setPreferredSize(new Dimension(200, 200));\n+        panel.add(textArea);\n+        SpringLayout.Constraints cCons = layout.getConstraints(textArea);\n+        cCons.setX(Spring.constant(10));\n+        cCons.setY(Spring.constant(10));\n+\n+        SpringLayout.Constraints pCons = layout.getConstraints(panel);\n+        pCons.setWidth(Spring.sum(Spring.constant(10),\n+                                  cCons.getConstraint(\"East\")));\n+        pCons.setHeight(Spring.sum(Spring.constant(10),\n+                                   cCons.getConstraint(\"South\")));\n+\n+        fr.getContentPane().add(panel);\n+        fr.pack();\n+        fr.setVisible(true);\n+    }\n+\n+    public void destroy() {\n+        Dimension d = panel.getSize();\n+        if (d.width<220 || d.height<220) {\n+            throw new Error(\"JPanel with the SpringLayout is too small\");\n+        }\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/swing\/SpringLayout\/SpringLayoutSetWidthTest.java","additions":76,"deletions":0,"binary":false,"changes":76,"status":"added"},{"patch":"@@ -0,0 +1,81 @@\n+\/*\n+ * Copyright (c) 2002, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4756178\n+   @summary SpringLayout:applyDefaults() discards size information when right-aligning.\n+   @key headful\n+   @run main SpringLayoutTest\n+*\/\n+\n+import javax.swing.JButton;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.Spring;\n+import javax.swing.SpringLayout;\n+import java.awt.Dimension;\n+import java.awt.EventQueue;\n+\n+public class SpringLayoutTest {\n+\n+    JButton bt;\n+    Dimension buttonPreferredSize = new Dimension(20, 20);\n+    JFrame fr;\n+    JPanel p;\n+    SpringLayout layout;\n+\n+    public static void main(String[] args) throws Exception {\n+        SpringLayoutTest test = new SpringLayoutTest();\n+        EventQueue.invokeAndWait(test::init);\n+        EventQueue.invokeAndWait(test::destroy);\n+    }\n+\n+    public void init() {\n+        fr = new JFrame(\"Test\");\n+        p = (JPanel)fr.getContentPane();\n+        layout = new SpringLayout();\n+        p.setLayout(layout);\n+\n+        SpringLayout.Constraints cc = new SpringLayout.Constraints();\n+        cc.setConstraint(\"East\",\n+                         Spring.sum(Spring.constant(-20),\n+                                    layout.getConstraint(\"East\", p)));\n+        cc.setConstraint(\"South\",\n+                         Spring.sum(Spring.constant(-20),\n+                                    layout.getConstraint(\"South\", p)));\n+\n+        bt = new JButton();\n+        bt.setPreferredSize(buttonPreferredSize);\n+        p.add(bt, cc);\n+\n+        fr.setSize(200,200);\n+        fr.setVisible(true);\n+    }\n+\n+    public void destroy() {\n+        if ( !buttonPreferredSize.equals(bt.getSize()) ) {\n+            throw new Error(\"Button size is \"+bt.getSize()+\n+                            \", should be \"+buttonPreferredSize);\n+        }\n+    }\n+}\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/swing\/SpringLayout\/SpringLayoutTest.java","additions":81,"deletions":0,"binary":false,"changes":81,"status":"added"}]}