{"files":[{"patch":"@@ -112,0 +112,1 @@\n+  product(bool, UseZtso, false, EXPERIMENTAL, \"Assume Ztso memory model\")        \\\n","filename":"src\/hotspot\/cpu\/riscv\/globals_riscv.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -379,0 +379,10 @@\n+  void fence(uint32_t predecessor, uint32_t successor) {\n+    if (UseZtso) {\n+      \/\/ do not emit fence if it's not at least a StoreLoad fence\n+      if (!((predecessor & w) && (successor & r))) {\n+        return;\n+      }\n+    }\n+    Assembler::fence(predecessor, successor);\n+  }\n+\n@@ -380,1 +390,1 @@\n-    fence(w, 0);\n+    Assembler::fence(w, 0);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -137,0 +137,1 @@\n+  decl(ext_Ztso        , \"Ztso\"        , RV_NO_FLAG_BIT, true , UPDATE_DEFAULT(UseZtso))        \\\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -239,0 +239,1 @@\n+  ext_Ztso.enable_feature();\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/vm_version_linux_riscv.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}