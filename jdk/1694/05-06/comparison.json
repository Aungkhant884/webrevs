{"files":[{"patch":"@@ -1,63 +0,0 @@\n-\/*\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-package jdk.java.lang.instrument;\n-\n-import java.io.File;\n-import java.io.IOException;\n-import java.nio.file.Path;\n-import java.nio.file.Paths;\n-import java.util.jar.Attributes;\n-import java.util.jar.Manifest;\n-\n-import jdk.test.lib.Utils;\n-import jdk.test.lib.util.JarUtils;\n-\n-public class AgentJarBuilder {\n-\n-    public static void build(String agentClass, String agentJar) throws IOException {\n-        Manifest mf = new Manifest();\n-        Attributes attrs = mf.getMainAttributes();\n-        attrs.put(Attributes.Name.MANIFEST_VERSION, \"1.0\");\n-        attrs.putValue(\"Can-Redefine-Classes\", \"true\");\n-        attrs.putValue(\"Can-Retransform-Classes\", \"true\");\n-        attrs.putValue(\"Premain-Class\", agentClass);\n-        attrs.putValue(\"Agent-Class\", agentClass);\n-\n-        Path jarFile = Paths.get(\".\", agentJar);\n-        String testClasses = Utils.TEST_CLASSES;\n-        String agentPath = agentClass.replace(\".\", File.separator) + \".class\";\n-        Path agentFile = Paths.get(testClasses, agentPath);\n-        Path dir = Paths.get(testClasses);\n-        JarUtils.createJarFile(jarFile, mf, dir, agentFile);\n-        System.out.println(\"Agent built:\" + jarFile.toAbsolutePath());\n-    }\n-\n-    public static void main(String argv[]) throws Exception {\n-        if (argv.length == 0) {\n-            throw new RuntimeException(\"Expected at least agent class name in arguments\");\n-        }\n-        String agentClassName = argv[0];\n-        build(agentClassName, agentClassName + \".jar\");\n-    }\n-}\n","filename":"test\/jdk\/java\/lang\/instrument\/AgentJarBuilder.java","additions":0,"deletions":63,"binary":false,"changes":63,"status":"deleted"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0001\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0001 InheritAgent0001.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0001.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0010\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0010 InheritAgent0010.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0010.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0011\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0011 InheritAgent0011.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0011.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -32,1 +31,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -34,2 +32,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0100\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0100 InheritAgent0100.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0100.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -35,2 +34,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0101\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0101 InheritAgent0101.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0101.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0110\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0110 InheritAgent0110.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0110.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent0111\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent0111 InheritAgent0111.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent0111.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -33,1 +32,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -35,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1000\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1000 InheritAgent1000.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1000.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1001\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1001 InheritAgent1001.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1001.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1010\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1010 InheritAgent1010.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1010.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1011\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1011 InheritAgent1011.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1011.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -33,1 +32,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -35,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1100\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1100 InheritAgent1100.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1100.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1101\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1101 InheritAgent1101.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1101.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1110\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1110 InheritAgent1110.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1110.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n- * @modules jdk.jartool\/sun.tools.jar\n@@ -34,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             InheritAgent1111\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             InheritAgent1111 InheritAgent1111.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/InheritAgent1111.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -32,1 +31,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -34,2 +32,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             NoPremainAgent\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             NoPremainAgent NoPremainAgent.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/NoPremainAgent.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -32,1 +31,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -34,2 +32,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             NonPublicAgent\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             NonPublicAgent NonPublicAgent.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/NonPublicAgent.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -32,1 +31,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -34,2 +32,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             NonPublicPremainAgent\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             NonPublicPremainAgent NonPublicPremainAgent.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/NonPublicPremainAgent.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n- * @modules java.base\/jdk.internal.misc\n@@ -33,1 +32,0 @@\n- *          jdk.jartool\/sun.tools.jar\n@@ -35,2 +33,2 @@\n- * @run driver jdk.java.lang.instrument.AgentJarBuilder\n- *             ZeroArgPremainAgent\n+ * @run driver jdk.test.lib.util.JavaAgentBuilder\n+ *             ZeroArgPremainAgent ZeroArgPremainAgent.jar\n","filename":"test\/jdk\/java\/lang\/instrument\/PremainClass\/ZeroArgPremainAgent.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"}]}