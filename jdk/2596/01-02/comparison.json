{"files":[{"patch":"@@ -1129,3 +1129,1 @@\n-        if (s.getClass() == UnmodifiableSet.class ||\n-           s.getClass() == ImmutableCollections.Set12.class ||\n-           s.getClass() == ImmutableCollections.SetN.class) {\n+        if (s.getClass() == UnmodifiableSet.class) {\n@@ -1314,4 +1312,1 @@\n-        if (list.getClass() == UnmodifiableList.class || list.getClass() == UnmodifiableRandomAccessList.class ||\n-            list.getClass() == ImmutableCollections.List12.class ||\n-            list.getClass() == ImmutableCollections.ListN.class ||\n-            list.getClass() == ImmutableCollections.SubList.class) {\n+        if (list.getClass() == UnmodifiableList.class || list.getClass() == UnmodifiableRandomAccessList.class) {\n@@ -1472,3 +1467,1 @@\n-        if (m.getClass() == UnmodifiableMap.class ||\n-           m.getClass() == ImmutableCollections.Map1.class ||\n-           m.getClass() == ImmutableCollections.MapN.class) {\n+        if (m.getClass() == UnmodifiableMap.class) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/Collections.java","additions":3,"deletions":10,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -49,1 +49,0 @@\n-    static final Class<?> LIST12, LISTN, MAP1, MAPN, SET12, SETN, SUBLIST;\n@@ -56,2 +55,0 @@\n-            SET12 = Class.forName(\"java.util.ImmutableCollections$Set12\");\n-            SETN = Class.forName(\"java.util.ImmutableCollections$SetN\");\n@@ -61,3 +58,0 @@\n-            LIST12 = Class.forName(\"java.util.ImmutableCollections$List12\");\n-            LISTN = Class.forName(\"java.util.ImmutableCollections$ListN\");\n-            SUBLIST = Class.forName(\"java.util.ImmutableCollections$SubList\");\n@@ -68,2 +62,0 @@\n-            MAP1 = Class.forName(\"java.util.ImmutableCollections$Map1\");\n-            MAPN = Class.forName(\"java.util.ImmutableCollections$MapN\");\n@@ -82,0 +74,1 @@\n+        assertNotSame(list.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -83,1 +76,1 @@\n-        assertSame(list, result);\n+        assertSame(result.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -87,0 +80,1 @@\n+        assertNotSame(list2.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -88,1 +82,1 @@\n-        assertSame(list2, result2);\n+        assertSame(result2.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -92,0 +86,1 @@\n+        assertNotSame(list12.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -93,1 +88,1 @@\n-        assertSame(list12, result3);\n+        assertSame(result3.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -97,0 +92,1 @@\n+        assertNotSame(listN.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -98,1 +94,1 @@\n-        assertSame(listN, result4);\n+        assertSame(result4.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -102,0 +98,1 @@\n+        assertNotSame(subList.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -103,1 +100,1 @@\n-        assertSame(subList, subListResult);\n+        assertSame(subListResult.getClass(), UNMODIFIABLERANDOMACCESSLIST);\n@@ -181,0 +178,1 @@\n+        assertNotSame(set12.getClass(), UNMODIFIABLESET);\n@@ -182,2 +180,1 @@\n-        assertSame(reWrappedSet12.getClass(), SET12);\n-        assertSame(set12, reWrappedSet12);\n+        assertSame(reWrappedSet12.getClass(), UNMODIFIABLESET);\n@@ -187,0 +184,1 @@\n+        assertNotSame(setN.getClass(), UNMODIFIABLESET);\n@@ -188,2 +186,1 @@\n-        assertSame(reWrappedSetN.getClass(), SETN);\n-        assertSame(setN, reWrappedSetN);\n+        assertSame(reWrappedSetN.getClass(), UNMODIFIABLESET);\n@@ -226,1 +223,1 @@\n-        assertSame(map1.getClass(), MAP1);\n+        assertNotSame(map1.getClass(), UNMODIFIABLEMAP);\n@@ -229,1 +226,1 @@\n-        assertSame(map1, reWrappedMap1);\n+        assertSame(reWrappedMap1.getClass(), UNMODIFIABLEMAP);\n@@ -233,1 +230,1 @@\n-        assertSame(mapN.getClass(), MAPN);\n+        assertNotSame(mapN.getClass(), UNMODIFIABLEMAP);\n@@ -236,1 +233,1 @@\n-        assertSame(mapN, reWrappedMapN);\n+        assertSame(reWrappedMapN.getClass(), UNMODIFIABLEMAP);\n","filename":"test\/jdk\/java\/util\/Collections\/WrappedUnmodifiableCollections.java","additions":18,"deletions":21,"binary":false,"changes":39,"status":"modified"}]}