{"files":[{"patch":"@@ -915,2 +915,2 @@\n-        if (length < 0 || length > EliminateAllocationArraySizeLimit) {\n-          \/\/ Not scalar replaceable if the length is not constant or too big.\n+        if (length < 0) {\n+          \/\/ Not scalar replaceable if the length is not constant.\n@@ -918,1 +918,5 @@\n-          NOT_PRODUCT(nsr_reason = \"has a non-constant or too big length\");\n+          NOT_PRODUCT(nsr_reason = \"has a non-constant length\");\n+        } else if (length > EliminateAllocationArraySizeLimit) {\n+          \/\/ Not scalar replaceable if the length is too big.\n+          scalar_replaceable = false;\n+          NOT_PRODUCT(nsr_reason = \"has a length that is too big\");\n@@ -1148,1 +1152,1 @@\n-          set_escape_state(arg_ptn, es NOT_PRODUCT(COMMA \"reason unknown (1)\"));\n+          set_escape_state(arg_ptn, es NOT_PRODUCT(COMMA trace_arg_escape_message(call)));\n@@ -1831,2 +1835,2 @@\n-        set_not_scalar_replaceable(jobj NOT_PRODUCT(COMMA \"is merged with other object\"));\n-        set_not_scalar_replaceable(ptn NOT_PRODUCT(COMMA \"is merged with other object\"));\n+        set_not_scalar_replaceable(jobj NOT_PRODUCT(COMMA trace_merged_message(ptn)));\n+        set_not_scalar_replaceable(ptn NOT_PRODUCT(COMMA trace_merged_message(jobj)));\n@@ -3169,1 +3173,1 @@\n-      set_escape_state(ptnode_adr(n->_idx), es NOT_PRODUCT(COMMA \"reason unknown (2)\")); \/\/ CheckCastPP escape state\n+      set_escape_state(ptnode_adr(n->_idx), es NOT_PRODUCT(COMMA trace_propagate_message(ptn))); \/\/ CheckCastPP escape state\n@@ -3770,0 +3774,11 @@\n+const char* ConnectionGraph::trace_merged_message(PointsToNode* other) const {\n+  if (_compile->directive()->TraceEscapeAnalysisOption) {\n+    stringStream ss;\n+    ss.print(\"is merged with other object: \");\n+    other->dump_header(true, &ss);\n+    return ss.as_string();\n+  } else {\n+    return nullptr;\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/opto\/escape.cpp","additions":22,"deletions":7,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -593,0 +593,1 @@\n+  const char* trace_merged_message(PointsToNode* other) const;\n","filename":"src\/hotspot\/share\/opto\/escape.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}