{"files":[{"patch":"@@ -150,9 +150,2 @@\n-\n-        if (off < 0 || off >= b.length) {\n-            throw new ArrayIndexOutOfBoundsException(off);\n-        }\n-\n-        int endIndex = off + len - 1;\n-        if (endIndex < 0 || endIndex >= b.length) {\n-            throw new ArrayIndexOutOfBoundsException(endIndex);\n-        }\n+        Preconditions.checkIndex(off, b.length, Preconditions.AIOOBE_FORMATTER);\n+        Preconditions.checkIndex(off + len - 1, b.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/CRC32.java","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import jdk.internal.util.Preconditions;\n@@ -172,0 +173,2 @@\n+            Preconditions.checkIndex(sp, sa.length, Preconditions.AIOOBE_FORMATTER);\n+            Preconditions.checkIndex(dp, da.length, Preconditions.AIOOBE_FORMATTER);\n@@ -173,17 +176,2 @@\n-            if (sp < 0 || sp >= sa.length) {\n-                throw new ArrayIndexOutOfBoundsException(sp);\n-            }\n-\n-            if (dp < 0 || dp >= da.length) {\n-                throw new ArrayIndexOutOfBoundsException(dp);\n-            }\n-\n-            int endIndexSP = sp + len - 1;\n-            if (endIndexSP < 0 || endIndexSP >= sa.length) {\n-                throw new ArrayIndexOutOfBoundsException(endIndexSP);\n-            }\n-\n-            int endIndexDP = dp + len - 1;\n-            if (endIndexDP < 0 || endIndexDP >= da.length) {\n-                throw new ArrayIndexOutOfBoundsException(endIndexDP);\n-            }\n+            Preconditions.checkIndex(sp + len - 1, sa.length, Preconditions.AIOOBE_FORMATTER);\n+            Preconditions.checkIndex(dp + len - 1, da.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/cs\/ISO_8859_1.java","additions":5,"deletions":17,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -161,4 +161,1 @@\n-\n-        if (ofs < 0 || ofs >= b.length) {\n-            throw new ArrayIndexOutOfBoundsException(ofs);\n-        }\n+        Preconditions.checkIndex(ofs, b.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/DigestBase.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -35,0 +35,2 @@\n+\n+import jdk.internal.util.Preconditions;\n@@ -155,3 +157,1 @@\n-        if ((ofs < 0) || ((buf.length - ofs) < 64)) {\n-            throw new ArrayIndexOutOfBoundsException();\n-        }\n+        Preconditions.checkFromIndexSize(ofs, 64, buf.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/MD5.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,0 +32,2 @@\n+\n+import jdk.internal.util.Preconditions;\n@@ -139,3 +141,1 @@\n-        if (ofs < 0 || (buf.length - ofs) < 64) {\n-            throw new ArrayIndexOutOfBoundsException();\n-        }\n+        Preconditions.checkFromIndexSize(ofs, 64, buf.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/SHA.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import jdk.internal.util.Preconditions;\n@@ -131,3 +132,1 @@\n-        if (ofs < 0 || (buf.length - ofs) < 64) {\n-            throw new ArrayIndexOutOfBoundsException();\n-        }\n+        Preconditions.checkFromIndexSize(ofs, 64, buf.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/SHA2.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import jdk.internal.util.Preconditions;\n@@ -232,3 +233,1 @@\n-        if (ofs < 0 || (buf.length - ofs) < 128) {\n-            throw new ArrayIndexOutOfBoundsException();\n-        }\n+        Preconditions.checkFromIndexSize(ofs, 128, buf.length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/provider\/SHA5.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -31,0 +31,2 @@\n+import jdk.internal.util.Preconditions;\n+\n@@ -128,3 +130,1 @@\n-        if (index < 0 || index >= length) {\n-            throw new ArrayIndexOutOfBoundsException(Integer.toString(index));\n-        }\n+        Preconditions.checkIndex(index, length, Preconditions.AIOOBE_FORMATTER);\n@@ -140,3 +140,1 @@\n-        if (index < 0 || index >= length) {\n-            throw new ArrayIndexOutOfBoundsException(Integer.toString(index));\n-        }\n+        Preconditions.checkIndex(index, length, Preconditions.AIOOBE_FORMATTER);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/BitArray.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"}]}