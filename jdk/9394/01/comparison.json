{"files":[{"patch":"@@ -995,3 +995,7 @@\n-  out->print   (\" - klasses             {\");\n-  PrintKlassClosure closure(out);\n-  ((ClassLoaderData*)this)->classes_do(&closure);\n+  out->print   (\" - klasses             { \");\n+  if (Verbose) {\n+    PrintKlassClosure closure(out);\n+    ((ClassLoaderData*)this)->classes_do(&closure);\n+  } else {\n+     out->print(\"...\");\n+  }\n@@ -1002,1 +1006,6 @@\n-  out->print_cr(\" - dictionary          \" INTPTR_FORMAT, p2i(_dictionary));\n+  if (_dictionary != nullptr) {\n+    out->print   (\" - dictionary          \" INTPTR_FORMAT \" \", p2i(_dictionary));\n+    _dictionary->print_size(out);\n+  } else {\n+    out->print_cr(\" - dictionary          \" INTPTR_FORMAT, p2i(_dictionary));\n+  }\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.cpp","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -589,0 +589,5 @@\n+void Dictionary::print_size(outputStream* st) const {\n+  st->print_cr(\"Java dictionary (table_size=%d, classes=%d, resizable=%s)\",\n+               table_size(), number_of_entries(), BOOL_TO_STR(_resizable));\n+}\n+\n@@ -594,2 +599,1 @@\n-  st->print_cr(\"Java dictionary (table_size=%d, classes=%d, resizable=%s)\",\n-               table_size(), number_of_entries(), BOOL_TO_STR(_resizable));\n+  print_size(st);\n","filename":"src\/hotspot\/share\/classfile\/dictionary.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -82,0 +82,1 @@\n+  void print_size(outputStream* st) const;\n","filename":"src\/hotspot\/share\/classfile\/dictionary.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -116,1 +116,1 @@\n-    \/\/ -XX:+PrintSystemDictionaryAtExit will print the details of system dictionary,\n+    \/\/ -XX:+PrintClassLoaderDataGraphAtExit will print the summary of the dictionaries,\n@@ -120,1 +120,1 @@\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintSystemDictionaryAtExit\",\n+    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintClassLoaderDataGraphAtExit\",\n@@ -123,1 +123,1 @@\n-                                                              \"50000\");\n+                                                              \"30000\");\n","filename":"test\/hotspot\/jtreg\/runtime\/LoadClass\/TestResize.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}