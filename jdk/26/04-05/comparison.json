{"files":[{"patch":"@@ -45,0 +45,3 @@\n+    private static final Class NPE = NullPointerException.class;\n+    private static final Class ISE = IllegalStateException.class;\n+\n@@ -69,8 +72,1 @@\n-        try {\n-            conn.setRequestProperty(null, \"bar\");\n-            Assert.fail(\"setRequestProperty on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" NullPointerException, but didn't\");\n-        } catch (NullPointerException npe) {\n-            \/\/ expected\n-        }\n+        Assert.assertThrows(NPE, () -> conn.setRequestProperty(null, \"bar\"));\n@@ -88,8 +84,1 @@\n-        try {\n-            conn.addRequestProperty(null, \"hello\");\n-            Assert.fail(\"addRequestProperty on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" NullPointerException, but didn't\");\n-        } catch (NullPointerException npe) {\n-            \/\/ expected\n-        }\n+        Assert.assertThrows(NPE, () -> conn.addRequestProperty(null, \"hello\"));\n@@ -119,6 +108,1 @@\n-            conn.setRequestProperty(\"foo\", \"bar\");\n-            Assert.fail(\"setRequestProperty on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" IllegalStateException, but didn't\");\n-        } catch (IllegalStateException ise) {\n-            \/\/ expected\n+            Assert.assertThrows(ISE, () -> conn.setRequestProperty(\"foo\", \"bar\"));\n@@ -138,6 +122,1 @@\n-            conn.addRequestProperty(\"foo\", \"bar\");\n-            Assert.fail(\"addRequestProperty on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" IllegalStateException, but didn't\");\n-        } catch (IllegalStateException ise) {\n-            \/\/ expected\n+            Assert.assertThrows(ISE, () -> conn.addRequestProperty(\"foo\", \"bar\"));\n@@ -157,6 +136,1 @@\n-            conn.getRequestProperty(\"hello\");\n-            Assert.fail(\"getRequestProperty on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" IllegalStateException, but didn't\");\n-        } catch (IllegalStateException ise) {\n-            \/\/ expected\n+            Assert.assertThrows(ISE, () -> conn.getRequestProperty(\"hello\"));\n@@ -176,6 +150,1 @@\n-            conn.getRequestProperties();\n-            Assert.fail(\"getRequestProperties on \" + conn.getClass().getName()\n-                    + \" for \" + conn.getURL() + \" was expected to throw\"\n-                    + \" IllegalStateException, but didn't\");\n-        } catch (IllegalStateException ise) {\n-            \/\/ expected\n+            Assert.assertThrows(ISE, () -> conn.getRequestProperties());\n","filename":"test\/jdk\/java\/net\/URLConnection\/RequestProperties.java","additions":9,"deletions":40,"binary":false,"changes":49,"status":"modified"}]}