{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import java.io.FileReader;\n@@ -30,2 +31,1 @@\n-import java.io.UncheckedIOException;\n-import java.nio.file.Files;\n+import java.nio.charset.StandardCharsets;\n@@ -37,0 +37,1 @@\n+import java.util.ArrayList;\n@@ -42,1 +43,0 @@\n-    @SuppressWarnings(\"removal\")\n@@ -44,9 +44,1 @@\n-        try {\n-            PrivilegedExceptionAction<Stream<String>> pea = () -> Files.lines(path);\n-            return AccessController.doPrivileged(pea);\n-        } catch (PrivilegedActionException e) {\n-            unwrapIOExceptionAndRethrow(e);\n-            throw new InternalError(e.getCause());\n-        } catch (UncheckedIOException e) {\n-            throw e.getCause();\n-        }\n+        return readAllLinesPrivileged(path).stream();\n@@ -67,1 +59,1 @@\n-                Files.newBufferedReader(Paths.get(controller.path(), param));\n+                new BufferedReader(new FileReader(Paths.get(controller.path(), param).toString(), StandardCharsets.UTF_8));\n@@ -75,2 +67,0 @@\n-        } catch (UncheckedIOException e) {\n-            throw e.getCause();\n@@ -83,1 +73,10 @@\n-            PrivilegedExceptionAction<List<String>> pea = () -> Files.readAllLines(path);\n+            PrivilegedExceptionAction<List<String>> pea = () -> {\n+                try (BufferedReader bufferedReader = new BufferedReader(new FileReader(path.toString(), StandardCharsets.UTF_8))) {\n+                    String line;\n+                    List<String> lines = new ArrayList<>();\n+                    while ((line = bufferedReader.readLine()) != null) {\n+                        lines.add(line);\n+                    }\n+                    return lines;\n+                }\n+            };\n@@ -88,2 +87,0 @@\n-        } catch (UncheckedIOException e) {\n-            throw e.getCause();\n","filename":"src\/java.base\/linux\/classes\/jdk\/internal\/platform\/CgroupUtil.java","additions":15,"deletions":18,"binary":false,"changes":33,"status":"modified"}]}