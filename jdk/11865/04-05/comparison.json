{"files":[{"patch":"@@ -28,1 +28,0 @@\n-#include \"utilities\/bitCast.hpp\"\n@@ -179,1 +178,1 @@\n-  return bit_cast<intptr_t>(p);\n+  return (intptr_t) p;\n@@ -457,2 +456,2 @@\n-inline address       set_address_bits(address x, int m)       { return bit_cast<address>(bit_cast<intptr_t>(x) | m); }\n-inline address       clear_address_bits(address x, int m)     { return bit_cast<address>(bit_cast<intptr_t>(x) & ~m); }\n+inline address       set_address_bits(address x, int m)       { return address(intptr_t(x) | m); }\n+inline address       clear_address_bits(address x, int m)     { return address(intptr_t(x) & ~m); }\n@@ -462,3 +461,3 @@\n-inline address_word  mask_address_bits(address x, int m)      { return bit_cast<address_word>(x) & m; }\n-inline address_word  castable_address(address x)              { return bit_cast<address_word>(x) ; }\n-inline address_word  castable_address(void* x)                { return bit_cast<address_word>(x) ; }\n+inline address_word  mask_address_bits(address x, int m)      { return address_word(x) & m; }\n+inline address_word  castable_address(address x)              { return address_word(x) ; }\n+inline address_word  castable_address(void* x)                { return address_word(x) ; }\n@@ -481,1 +480,1 @@\n-  return (bit_cast<uintptr_t>(left) - bit_cast<uintptr_t>(right)) \/ element_size;\n+  return (((uintptr_t) left) - ((uintptr_t) right)) \/ element_size;\n@@ -665,2 +664,4 @@\n-inline jint    jint_cast    (jfloat  x)  { return bit_cast<jint>(x); }\n-inline jfloat  jfloat_cast  (jint    x)  { return bit_cast<jfloat>(x); }\n+typedef union {\n+  jfloat f;\n+  jint i;\n+} FloatIntConv;\n@@ -668,3 +669,12 @@\n-inline jlong   jlong_cast   (jdouble x)  { return bit_cast<jlong>(x);  }\n-inline julong  julong_cast  (jdouble x)  { return bit_cast<julong>(x); }\n-inline jdouble jdouble_cast (jlong   x)  { return bit_cast<jdouble>(x);  }\n+typedef union {\n+  jdouble d;\n+  jlong l;\n+  julong ul;\n+} DoubleLongConv;\n+\n+inline jint    jint_cast    (jfloat  x)  { return ((FloatIntConv*)&x)->i; }\n+inline jfloat  jfloat_cast  (jint    x)  { return ((FloatIntConv*)&x)->f; }\n+\n+inline jlong   jlong_cast   (jdouble x)  { return ((DoubleLongConv*)&x)->l;  }\n+inline julong  julong_cast  (jdouble x)  { return ((DoubleLongConv*)&x)->ul; }\n+inline jdouble jdouble_cast (jlong   x)  { return ((DoubleLongConv*)&x)->d;  }\n@@ -1047,1 +1057,1 @@\n-#define       badAddress        (::bit_cast<address>(::badAddressVal))\n+#define       badAddress        ((address)::badAddressVal)\n@@ -1147,1 +1157,1 @@\n-  return bit_cast<address>(to) - bit_cast<address>(from);\n+  return (address)to - (address)from;\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":25,"deletions":15,"binary":false,"changes":40,"status":"modified"}]}