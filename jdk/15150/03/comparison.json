{"files":[{"patch":"@@ -91,0 +91,10 @@\n+AC_DEFUN([FLAGS_SETUP_NMFLAGS],\n+[\n+  # On AIX, we need to set NM flag -X64 for processing 64bit object files\n+  if test \"x$OPENJDK_TARGET_OS\" = xaix; then\n+    NMFLAGS=\"-X64\"\n+  fi\n+\n+  AC_SUBST(NMFLAGS)\n+])\n+\n","filename":"make\/autoconf\/flags-other.m4","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -432,0 +432,1 @@\n+  FLAGS_SETUP_NMFLAGS\n","filename":"make\/autoconf\/flags.m4","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -609,0 +609,1 @@\n+NMFLAGS:=@NMFLAGS@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-    $(NM) $$($1_TARGET) | $(GREP)  \" T \" | \\\n+    $(NM) $(NMFLAGS) $$($1_TARGET) | $(GREP)  \" T \" | \\\n@@ -56,1 +56,1 @@\n-    $(NM) -m $$($1_TARGET) | $(GREP)  \"__TEXT\" | \\\n+    $(NM) $(NMFLAGS) -m $$($1_TARGET) | $(GREP)  \"__TEXT\" | \\\n","filename":"make\/common\/NativeCompilation.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -284,6 +284,0 @@\n-    # 'nm' on AIX needs -X64 option\n-\n-    ifeq ($(call isTargetOs, aix), true)\n-      NM := $(NM) -X64\n-    endif\n-\n@@ -293,1 +287,1 @@\n-\t      $$(NM) $$<  2>&1 | $$(GREP) $$(addprefix -e , $$(MANGLED_SYMS)) | $$(GREP) $$(UNDEF_PATTERN) > $1.op_check || true)\n+\t      $$(NM) $$(NMFLAGS) $$<  2>&1 | $$(GREP) $$(addprefix -e , $$(MANGLED_SYMS)) | $$(GREP) $$(UNDEF_PATTERN) > $1.op_check || true)\n@@ -296,1 +290,1 @@\n-\t    $$(NM) $$< | $$(CXXFILT) | $$(EGREP) '$$(DEMANGLED_REGEXP)' | $$(GREP) $$(UNDEF_PATTERN); \\\n+\t    $$(NM) $$(NMFLAGS) $$< | $$(CXXFILT) | $$(EGREP) '$$(DEMANGLED_REGEXP)' | $$(GREP) $$(UNDEF_PATTERN); \\\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-  DUMP_SYMBOLS_CMD := $(NM) --defined-only *$(OBJ_SUFFIX)\n+  DUMP_SYMBOLS_CMD := $(NM) $(NMFLAGS) --defined-only *$(OBJ_SUFFIX)\n@@ -70,1 +70,1 @@\n-  DUMP_SYMBOLS_CMD := $(NM) -Uj *$(OBJ_SUFFIX) 2> \/dev\/null\n+  DUMP_SYMBOLS_CMD := $(NM) $(NMFLAGS) -Uj *$(OBJ_SUFFIX) 2> \/dev\/null\n@@ -92,1 +92,1 @@\n-  DUMP_SYMBOLS_CMD := $(NM) -X64 -B -C *$(OBJ_SUFFIX)\n+  DUMP_SYMBOLS_CMD := $(NM) $(NMFLAGS) -B -C *$(OBJ_SUFFIX)\n","filename":"make\/hotspot\/lib\/JvmMapfile.gmk","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}