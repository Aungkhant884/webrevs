{"files":[{"patch":"@@ -87,1 +87,1 @@\n-         in(IfTrue)    != this, \"dead loop in CMoveNode::Ideal\" );\n+         in(IfTrue)    != this, \"dead loop in CMoveNode::Ideal\");\n@@ -94,6 +94,3 @@\n-  if (phase->type(in(IfFalse))->singleton() && !phase->type(in(IfTrue))->singleton()) {\n-    if (in(Condition)->is_Bool()) {\n-      BoolNode* b  = in(Condition)->as_Bool();\n-      BoolNode* b2 = b->negate(phase);\n-      return make(in(Control), phase->transform(b2), in(IfTrue), in(IfFalse), _type);\n-    }\n+  if (in(Condition)->is_Bool() && phase->type(in(IfFalse))->singleton() && !phase->type(in(IfTrue))->singleton()) {\n+    BoolNode* b = in(Condition)->as_Bool()->negate(phase);\n+    return make(in(Control), phase->transform(b), in(IfTrue), in(IfFalse), _type);\n","filename":"src\/hotspot\/share\/opto\/movenode.cpp","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+ * @key stress randomness\n@@ -31,0 +32,4 @@\n+ * @run main\/othervm -Xcomp -XX:-TieredCompilation\n+ *                   -XX:CompileCommand=compileonly,compiler.c2.TestCMoveInfiniteGVN::test\n+ *                   -XX:+UnlockDiagnosticVMOptions -XX:+StressIGVN\n+ *                   compiler.c2.TestCMoveInfiniteGVN\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestCMoveInfiniteGVN.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}