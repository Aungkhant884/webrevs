{"files":[{"patch":"@@ -43,1 +43,1 @@\n-    static void testFloat(boolean expectStable) {\n+    static void testFloat() {\n@@ -46,1 +46,6 @@\n-        if (originalValue == readBackValue) {\n+        if (originalValue != readBackValue) {\n+            String errorMessage = String.format(\"Original and read back float values mismatch\\n0x%X 0x%X\\n\",\n+                                                originalValue,\n+                                                readBackValue);\n+            throw new RuntimeException(errorMessage);\n+        } else {\n@@ -50,9 +55,0 @@\n-        } else {\n-            String message = String.format(\"Original and read back float values mismatch\\n0x%X 0x%X\\n\",\n-                                           originalValue,\n-                                           readBackValue);\n-            if (expectStable) {\n-                throw new RuntimeException(message);\n-            } else {\n-                System.out.println(message);\n-            }\n@@ -62,1 +58,1 @@\n-    static void testDouble(boolean expectStable) {\n+    static void testDouble() {\n@@ -65,1 +61,6 @@\n-        if (originalValue == readBackValue) {\n+        if (originalValue != readBackValue) {\n+            String errorMessage = String.format(\"Original and read back double values mismatch\\n0x%X 0x%X\\n\",\n+                                                originalValue,\n+                                                readBackValue);\n+            throw new RuntimeException(errorMessage);\n+        } else {\n@@ -69,9 +70,0 @@\n-        } else {\n-            String message = String.format(\"Original and read back double values mismatch\\n0x%X 0x%X\\n\",\n-                                           originalValue,\n-                                           readBackValue);\n-            if (expectStable) {\n-                throw new RuntimeException(message);\n-            } else {\n-                System.out.println(message);\n-            }\n@@ -79,0 +71,1 @@\n+\n@@ -98,2 +91,6 @@\n-        testFloat(expectStableFloats);\n-        testDouble(expectStableDoubles);\n+        if (expectStableFloats) {\n+           testFloat();\n+        }\n+        if (expectStableDoubles) {\n+           testDouble();\n+        }\n","filename":"test\/hotspot\/jtreg\/compiler\/floatingpoint\/NaNTest.java","additions":21,"deletions":24,"binary":false,"changes":45,"status":"modified"}]}