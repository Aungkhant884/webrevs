{"files":[{"patch":"@@ -122,3 +122,2 @@\n-                pushStringEntry(qName, attributes,\n-                CLDRConverter.LOCALE_TYPE_PREFIX + key + \".\" +\n-                attributes.getValue(\"type\"));\n+                pushStringEntry(qName, attributes, CLDRConverter.LOCALE_TYPE_PREFIX + key +\n+                        \".\" + attributes.getValue(\"type\"));\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/LDMLParseHandler.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -51,0 +51,1 @@\n+            int parsed;\n@@ -60,0 +61,1 @@\n+                parsed = m.end();\n@@ -61,0 +63,5 @@\n+\n+            \/\/ check whether the entire value was parsed\n+            if (parsed != value.length()) {\n+                throw new LocaleSyntaxException(\"Unrecognized field '\" + value.substring(parsed) + \"'\", parsed);\n+            }\n","filename":"src\/java.base\/share\/classes\/sun\/util\/locale\/TransformedContentExtension.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -57,0 +57,1 @@\n+    private static final String INVALID_FIELDS = \"t0-xxx-x0\";\n@@ -174,0 +175,18 @@\n+\n+    @Test\n+    public void test_InvalidFieldsForLanguageTag() {\n+        \/\/ Locale.forLanguageTag() should ignore the t extension\n+        assertEquals(Locale.forLanguageTag(\"en-t-\" + INVALID_FIELDS), Locale.ENGLISH);\n+    }\n+\n+    @Test\n+    public void test_InvalidFieldsSetExtension() {\n+        \/\/ Locale.Builder.setExtension() should throw IllformedLocaleException\n+        try {\n+            LB.clear().setLocale(Locale.ENGLISH).setExtension('t', INVALID_FIELDS).build();\n+            throw new RuntimeException(\"Invalid fields should throw an exception\");\n+        } catch (IllformedLocaleException ile) {\n+            \/\/ success\n+            System.out.println(\"IllformedLocaleException thrown correctly: \" + ile.getMessage());\n+        }\n+    }\n","filename":"test\/jdk\/java\/util\/Locale\/bcp47\/TExtensionTests.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"}]}