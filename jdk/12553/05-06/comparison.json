{"files":[{"patch":"@@ -1711,4 +1711,1 @@\n-  if (length_in_bytes != MaxVectorSize) {\n-    mv(tmp, length_in_bytes \/ type2aelembytes(bt));\n-    vsetvli(tmp, tmp, sew);\n-  } else {\n+  if (length_in_bytes == MaxVectorSize) {\n@@ -1716,0 +1713,8 @@\n+  } else {\n+    int num_elements = length_in_bytes \/ type2aelembytes(bt);\n+    if (num_elements <= 31) {\n+      vsetivli(tmp, num_elements, sew);\n+    } else {\n+      mv(tmp, num_elements);\n+      vsetvli(tmp, tmp, sew);\n+    }\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}