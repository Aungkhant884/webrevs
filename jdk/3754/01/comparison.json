{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.util.Objects;\n@@ -1027,1 +1028,0 @@\n-                        break;\n@@ -1043,1 +1043,2 @@\n-        Content text = plainOrCode(kind == LINK_PLAIN, Text.of(removeTrailingSlash(seeText)));\n+        Content text = plainOrCode(isLinkPlain,\n+                Text.of(Objects.requireNonNullElse(ch.getReferencedSignature(see), \"\")));\n@@ -1152,2 +1153,0 @@\n-            text = plainOrCode(kind == LINK_PLAIN, Text.of(refMemName));\n-\n@@ -1155,1 +1154,3 @@\n-                    refMem, (labelContent.isEmpty() ? text: labelContent), null, false);\n+                    refMem, (labelContent.isEmpty()\n+                            ? plainOrCode(isLinkPlain, Text.of(refMemName))\n+                            : labelContent), null, false);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -464,1 +464,1 @@\n-                return node.getSignature();\n+                return normalizeSignature(node.getSignature());\n@@ -469,0 +469,50 @@\n+    @SuppressWarnings(\"fallthrough\")\n+    private static String normalizeSignature(String sig) {\n+        if (sig == null\n+                || (!sig.contains(\" \") && !sig.contains(\"\\n\")\n+                 && !sig.contains(\"\\r\") && !sig.endsWith(\"\/\"))) {\n+            return sig;\n+        }\n+        StringBuilder sb = new StringBuilder();\n+        char lastChar = 0;\n+        for (int i = 0; i < sig.length(); i++) {\n+            char ch = sig.charAt(i);\n+            switch (ch) {\n+                case '\\n':\n+                case '\\r':\n+                case '\\f':\n+                case '\\t':\n+                case ' ':\n+                    switch (lastChar) {\n+                        case 0:\n+                        case'(':\n+                        case'<':\n+                        case ' ':\n+                        case '.':\n+                            break;\n+                        default:\n+                            sb.append(' ');\n+                            lastChar = ' ';\n+                            break;\n+                    }\n+                    break;\n+                case ',':\n+                case '>':\n+                case ')':\n+                case '.':\n+                    if (lastChar == ' ') {\n+                        sb.setLength(sb.length() - 1);\n+                    }\n+                    \/\/ fallthrough\n+                default:\n+                    sb.append(ch);\n+                    lastChar = ch;\n+            }\n+        }\n+        \/\/ Delete trailing slash\n+        if (lastChar == '\/') {\n+            sb.setLength(sb.length() - 1);\n+        }\n+        return sb.toString();\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/CommentHelper.java","additions":51,"deletions":1,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug      8017191 8182765 8200432 8239804\n+ * @bug      8017191 8182765 8200432 8239804 8250766\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSeeTag\/TestSeeTag.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,3 @@\n-    * @see InnerOne#bar(Object)\n+    * @see InnerOne#bar(\n+    *                   Object\n+    *                   )\n@@ -35,1 +37,1 @@\n-    * @see InnerOne#baz(float priority) something\n+    * @see InnerOne#baz( float priority ) something\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSeeTag\/pkg\/Test.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}