{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -504,1 +504,1 @@\n-            MessageOutput.println(\"Threadgroup name not specified.\");\n+            ThreadInfo.setThreadGroup(null); \/\/ reset to default (top level ThreadGroup)\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/tools\/example\/debug\/tty\/Commands.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -315,1 +315,0 @@\n-        {\"Threadgroup name not specified.\", \"Threadgroup name not specified.\"},\n@@ -357,1 +356,1 @@\n-             \"threads [threadgroup]     -- list threads\\n\" +\n+             \"threads [threadgroup]     -- list threads in threadgroup. Use current threadgroup if none specified.\\n\" +\n@@ -380,1 +379,2 @@\n-             \"threadgroup <name>        -- set current threadgroup\\n\" +\n+             \"threadgroup <name>        -- set current threadgroup to <name>\\n\" +\n+             \"threadgroup               -- set current threadgroup back to the top level threadgroup\\n\" +\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/tools\/example\/debug\/tty\/TTYResources.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -305,1 +305,0 @@\n-        {\"Threadgroup name not specified.\", \"\\u30B9\\u30EC\\u30C3\\u30C9\\u30B0\\u30EB\\u30FC\\u30D7\\u540D\\u304C\\u6307\\u5B9A\\u3055\\u308C\\u3066\\u3044\\u307E\\u305B\\u3093\\u3002\"},\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/tools\/example\/debug\/tty\/TTYResources_ja.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -305,1 +305,0 @@\n-        {\"Threadgroup name not specified.\", \"\\u672A\\u6307\\u5B9A\\u7EBF\\u7A0B\\u7EC4\\u540D\\u3002\"},\n","filename":"src\/jdk.jdi\/share\/classes\/com\/sun\/tools\/example\/debug\/tty\/TTYResources_zh_CN.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,1 +32,2 @@\n- *  This is a test for jdb 'threadgroup <threadgroup_name>' command.\n+ *  This is a test for jdb 'threadgroup <threadgroup_name>' command and\n+ *  also for the 'threadgroup' command with no argument.\n@@ -35,2 +36,5 @@\n- *  thread holds. The test passes if jdb correctly switches between\n- *  three user-defined threadgroups using 'threadgroup' command.\n+ *  thread holds. The test then makes sure jdb correctly switches between\n+ *  the three user-defined threadgroups using 'threadgroup' command. It then\n+ *  resets the current threadgroup back to the default top level threadgroup\n+ *  by using the 'threadgroup' command with no argument. It then tests that\n+ *  all 3 created threadgroups can be found in the 'threads' output.\n@@ -48,0 +52,1 @@\n+ *      -verbose\n@@ -103,0 +108,9 @@\n+        \/\/ Test switching back to the default top level group.\n+        reply = jdb.receiveReplyFor(JdbCommand.threadgroup);\n+        reply = jdb.receiveReplyFor(JdbCommand.threads);\n+        grep = new Paragrep(reply);\n+        count = grep.find(threadgroup002a.THREADGROUP_NAME);\n+        if (count != threadgroup002a.numThreadGroups) {\n+            failure(\"jdb cannot switch to default top level threadgroup\");\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdb\/threadgroup\/threadgroup002\/threadgroup002.java","additions":18,"deletions":4,"binary":false,"changes":22,"status":"modified"}]}