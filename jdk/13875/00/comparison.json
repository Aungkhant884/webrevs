{"files":[{"patch":"@@ -268,3 +268,3 @@\n-           return (exports.contains(packageName(typeElement.getQualifiedName().toString())) ||\n-                   exports.contains(packageName(typeElement.getSuperclass().toString()))) &&\n-                   typeElement.getModifiers().contains(Modifier.PUBLIC);\n+            var packageName = packageName(typeElement);\n+            return packageName.isPresent() && exports.contains(packageName.get()) &&\n+                    typeElement.getModifiers().contains(Modifier.PUBLIC);\n@@ -273,5 +273,6 @@\n-        private static String packageName(String name) {\n-            int lastDot = name.lastIndexOf('.');\n-            return lastDot < 0\n-                    ? \"\"\n-                    : name.substring(0, lastDot);\n+        private static Optional<String> packageName(TypeElement element) {\n+            return switch (element.getNestingKind()) {\n+                case TOP_LEVEL -> Optional.of(((PackageElement) element.getEnclosingElement()).getQualifiedName().toString());\n+                case ANONYMOUS, LOCAL -> Optional.empty();\n+                case MEMBER -> packageName((TypeElement) element.getEnclosingElement());\n+            };\n","filename":"make\/jdk\/src\/classes\/build\/tools\/taglet\/SealedGraph.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}