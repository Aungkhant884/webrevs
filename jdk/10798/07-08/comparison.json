{"files":[{"patch":"@@ -2988,0 +2988,1 @@\n+        boolean lambdaFormalsOrRecord = false;\n@@ -3012,3 +3013,3 @@\n-                        if (peekToken(lookahead, COMMA) ||\n-                                peekToken(lookahead, DOT)  ||\n-                                peekToken(lookahead, SEMI)) {\n+                        if (peekToken(lookahead, DOT)  ||\n+                                peekToken(lookahead, SEMI) ||\n+                                peekToken(lookahead, ARROW)) {\n@@ -3017,1 +3018,4 @@\n-                        return ForInitResult.RecordPattern;\n+                        else if(peekToken(lookahead, COLON)) {\n+                            return ForInitResult.RecordPattern;\n+                        }\n+                        break;\n@@ -3026,4 +3030,0 @@\n-                    if (inSelectionAndParenthesis && sequentialIdentifiers) {\n-                        return ForInitResult.RecordPattern;\n-                    }\n-                    sequentialIdentifiers = true;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -159,0 +159,1 @@\n+    static <T> void method2(Function<Integer, Integer> f) {}\n@@ -165,0 +166,3 @@\n+        List<RecordOfLists>         list_of_records = null;\n+        List<RecordOfLists2>        list_of_records2 = null;\n+\n@@ -176,0 +180,3 @@\n+        for (method2((Integer a) -> 42); i == 0;) { i++; }\n+        for (RecordOfLists(List<Integer> lr) : list_of_records) {}\n+        for (RecordOfLists2(List<List<Integer>> lr) : list_of_records2) {}\n@@ -238,0 +245,2 @@\n+    record RecordOfLists(List<Integer> o) {}\n+    record RecordOfLists2(List<List<Integer>> o) {}\n","filename":"test\/langtools\/tools\/javac\/patterns\/ForEachPatterns.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}