{"files":[{"patch":"@@ -978,0 +978,2 @@\n+    case _claim_strong_g1_fullgc_mark:      out->print_cr(\"g1 full gc mark phase\"); break;\n+    case _claim_strong_g1_fullgc_adjust:    out->print_cr(\"g1 full gc adjust phase\"); break;\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -205,4 +205,6 @@\n-    _claim_none         = 0,\n-    _claim_finalizable  = 2,\n-    _claim_strong       = 3,\n-    _claim_other        = 4\n+    _claim_none                    = 0,\n+    _claim_finalizable             = 2,\n+    _claim_strong                  = 3,\n+    _claim_other                   = 4,\n+    _claim_strong_g1_fullgc_mark   = 8,\n+    _claim_strong_g1_fullgc_adjust = 16\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.hpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -184,4 +184,0 @@\n-    \/\/ Need cleared claim bits for the mark phase.\n-    ClassLoaderDataGraph::clear_claimed_marks();\n-  } else {\n-    ClassLoaderDataGraph::verify_claimed_marks_cleared(ClassLoaderData::_claim_strong);\n@@ -230,1 +226,1 @@\n-  \/\/ Need cleared claim bits for the next concurrent marking.\n+  \/\/ Need completely cleared claim bits for the next concurrent marking or full gc.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullCollector.cpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+#include \"classfile\/classLoaderData.hpp\"\n@@ -87,2 +88,1 @@\n-  \/\/ Need cleared claim bits for the roots processing\n-  ClassLoaderDataGraph::clear_claimed_marks();\n+  ClassLoaderDataGraph::verify_claimed_marks_cleared(ClassLoaderData::_claim_strong_g1_fullgc_adjust);\n@@ -105,1 +105,1 @@\n-  CLDToOopClosure adjust_cld(&_adjust, ClassLoaderData::_claim_strong);\n+  CLDToOopClosure adjust_cld(&_adjust, ClassLoaderData::_claim_strong_g1_fullgc_adjust);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCAdjustTask.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"classfile\/classLoaderDataGraph.hpp\"\n@@ -46,1 +47,1 @@\n-    _cld_closure(mark_closure(), ClassLoaderData::_claim_strong),\n+    _cld_closure(mark_closure(), ClassLoaderData::_claim_strong_g1_fullgc_mark),\n@@ -48,0 +49,1 @@\n+  ClassLoaderDataGraph::verify_claimed_marks_cleared(ClassLoaderData::_claim_strong_g1_fullgc_mark);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCMarker.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}