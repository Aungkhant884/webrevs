{"files":[{"patch":"@@ -209,3 +209,3 @@\n-                Pair<JCBindingPattern, JCExpression> unrolledRecordPattern = unrollRecordPattern(recordPattern);\n-                pattern = unrolledRecordPattern.fst;\n-                extraConditions = unrolledRecordPattern.snd;\n+                UnrolledRecordPattern unrolledRecordPattern = unrollRecordPattern(recordPattern);\n+                pattern = unrolledRecordPattern.primaryPattern();\n+                extraConditions = unrolledRecordPattern.newGuard();\n@@ -300,1 +300,1 @@\n-    private Pair<JCBindingPattern, JCExpression> unrollRecordPattern(JCRecordPattern recordPattern) {\n+    private UnrolledRecordPattern unrollRecordPattern(JCRecordPattern recordPattern) {\n@@ -333,2 +333,3 @@\n-                Pair<JCBindingPattern, JCExpression> nestedDesugared = unrollRecordPattern(nestedRecordPattern);\n-                if (nestedDesugared.snd != null) {\n+                UnrolledRecordPattern nestedDesugared = unrollRecordPattern(nestedRecordPattern);\n+                JCExpression newGuard = nestedDesugared.newGuard();\n+                if (newGuard != null) {\n@@ -336,1 +337,1 @@\n-                        secondLevelChecks = nestedDesugared.snd;\n+                        secondLevelChecks = newGuard;\n@@ -338,1 +339,1 @@\n-                        secondLevelChecks = mergeConditions(secondLevelChecks, nestedDesugared.snd);\n+                        secondLevelChecks = mergeConditions(secondLevelChecks, newGuard);\n@@ -341,1 +342,1 @@\n-                nestedBinding = nestedDesugared.fst;\n+                nestedBinding = nestedDesugared.primaryPattern();\n@@ -376,1 +377,1 @@\n-        return Pair.of((JCBindingPattern) make.BindingPattern(recordBindingVar).setType(recordBinding.type), guard);\n+        return new UnrolledRecordPattern((JCBindingPattern) make.BindingPattern(recordBindingVar).setType(recordBinding.type), guard);\n@@ -379,0 +380,2 @@\n+    record UnrolledRecordPattern(JCBindingPattern primaryPattern, JCExpression newGuard) {}\n+\n@@ -448,5 +451,2 @@\n-                            Pair<JCBindingPattern, JCExpression> deconstructed = unrollRecordPattern(recordPattern);\n-                            JCExpression guard = null;\n-                            if (deconstructed.snd != null) {\n-                                guard = deconstructed.snd;\n-                            }\n+                            UnrolledRecordPattern deconstructed = unrollRecordPattern(recordPattern);\n+                            JCExpression guard = deconstructed.newGuard();\n@@ -456,1 +456,1 @@\n-                            return make.PatternCaseLabel(deconstructed.fst, guard);\n+                            return make.PatternCaseLabel(deconstructed.primaryPattern(), guard);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/TransPatterns.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"}]}