{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,2 @@\n+import jdk.internal.util.StaticProperty;\n+\n@@ -92,1 +94,5 @@\n-    static String dfltEncName = URLEncoder.dfltEncName;\n+    private static final String DEFAULT_ENCODING_NAME;\n+\n+    static {\n+        DEFAULT_ENCODING_NAME = StaticProperty.fileEncoding();\n+    }\n@@ -111,1 +117,1 @@\n-            str = decode(s, dfltEncName);\n+            str = decode(s, DEFAULT_ENCODING_NAME);\n","filename":"src\/java.base\/share\/classes\/java\/net\/URLDecoder.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1995, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1995, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -80,3 +80,3 @@\n-    static BitSet dontNeedEncoding;\n-    static final int caseDiff = ('a' - 'A');\n-    static String dfltEncName;\n+    private static final BitSet DONT_NEED_ENCODING;\n+    private static final int CASE_DIFF = ('a' - 'A');\n+    private static final String DEFAULT_ENCODING_NAME;\n@@ -122,1 +122,1 @@\n-        dontNeedEncoding = new BitSet(256);\n+        DONT_NEED_ENCODING = new BitSet(256);\n@@ -125,1 +125,1 @@\n-            dontNeedEncoding.set(i);\n+            DONT_NEED_ENCODING.set(i);\n@@ -128,1 +128,1 @@\n-            dontNeedEncoding.set(i);\n+            DONT_NEED_ENCODING.set(i);\n@@ -131,1 +131,1 @@\n-            dontNeedEncoding.set(i);\n+            DONT_NEED_ENCODING.set(i);\n@@ -133,1 +133,1 @@\n-        dontNeedEncoding.set(' '); \/* encoding a space to a + is done\n+        DONT_NEED_ENCODING.set(' '); \/* encoding a space to a + is done\n@@ -135,4 +135,4 @@\n-        dontNeedEncoding.set('-');\n-        dontNeedEncoding.set('_');\n-        dontNeedEncoding.set('.');\n-        dontNeedEncoding.set('*');\n+        DONT_NEED_ENCODING.set('-');\n+        DONT_NEED_ENCODING.set('_');\n+        DONT_NEED_ENCODING.set('.');\n+        DONT_NEED_ENCODING.set('*');\n@@ -140,1 +140,1 @@\n-        dfltEncName = StaticProperty.fileEncoding();\n+        DEFAULT_ENCODING_NAME = StaticProperty.fileEncoding();\n@@ -165,1 +165,1 @@\n-            str = encode(s, dfltEncName);\n+            str = encode(s, DEFAULT_ENCODING_NAME);\n@@ -233,1 +233,1 @@\n-            if (dontNeedEncoding.get(c)) {\n+            if (DONT_NEED_ENCODING.get(c)) {\n@@ -276,1 +276,1 @@\n-                } while (i < s.length() && !dontNeedEncoding.get((c = s.charAt(i))));\n+                } while (i < s.length() && !DONT_NEED_ENCODING.get((c = s.charAt(i))));\n@@ -287,1 +287,1 @@\n-                        ch -= caseDiff;\n+                        ch -= CASE_DIFF;\n@@ -292,1 +292,1 @@\n-                        ch -= caseDiff;\n+                        ch -= CASE_DIFF;\n","filename":"src\/java.base\/share\/classes\/java\/net\/URLEncoder.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"}]}