{"files":[{"patch":"@@ -33,1 +33,1 @@\n- * @build javadoc.tester.*\n+ * @build toolbox.ToolBox javadoc.tester.*\n@@ -58,2 +58,2 @@\n-    final static String NON_MODULAR_CUSTOM_PLATFORM_URL = \"https:\/\/some.domain\/docs\/%d\/api\/java\/lang\/Object.html\";\n-    final static String MODULAR_CUSTOM_PLATFORM_URL = \"https:\/\/some.domain\/docs\/%d\/api\/java.base\/java\/lang\/Object.html\";\n+    final static String NON_MODULAR_CUSTOM_PLATFORM_URL = \"https:\/\/example.com\/%d\/api\/java\/lang\/Object.html\";\n+    final static String MODULAR_CUSTOM_PLATFORM_URL = \"https:\/\/example.com\/%d\/api\/java.base\/java\/lang\/Object.html\";\n@@ -116,0 +116,1 @@\n+        Path customProps = writeCustomProperties(base);\n@@ -122,1 +123,1 @@\n-                    \"--link-platform-properties\", \"file:\" + testSrc(\"linkplatform.properties\"),\n+                    \"--link-platform-properties\", customProps.toUri().toString(),\n@@ -137,0 +138,1 @@\n+        Path customProps = writeCustomProperties(base);\n@@ -143,1 +145,1 @@\n-                    \"--link-platform-properties\", testSrc(\"linkplatform.properties\"),\n+                    \"--link-platform-properties\", customProps.toString(),\n@@ -156,0 +158,11 @@\n+    private Path writeCustomProperties(Path base) throws IOException {\n+        ToolBox tb = new ToolBox();\n+        StringBuilder sb = new StringBuilder();\n+        for (int version = EARLIEST_VERSION; version <= LATEST_VERSION; version++) {\n+            sb.append(String.format(\"doclet.platform.docs.%1$d= https:\/\/example.com\/%1$d\/api\/\\n\", version));\n+        }\n+        Path path = base.resolve(\"linkplatform.properties\");\n+        tb.writeFile(path, sb.toString());\n+        return path;\n+    }\n+\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testLinkPlatform\/TestLinkPlatform.java","additions":18,"deletions":5,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -1,10 +0,0 @@\n-doclet.platform.docs.7= https:\/\/some.domain\/docs\/7\/api\/\n-doclet.platform.docs.8= https:\/\/some.domain\/docs\/8\/api\/\n-doclet.platform.docs.9= https:\/\/some.domain\/docs\/9\/api\/\n-doclet.platform.docs.10=https:\/\/some.domain\/docs\/10\/api\/\n-doclet.platform.docs.11=https:\/\/some.domain\/docs\/11\/api\/\n-doclet.platform.docs.12=https:\/\/some.domain\/docs\/12\/api\/\n-doclet.platform.docs.13=https:\/\/some.domain\/docs\/13\/api\/\n-doclet.platform.docs.14=https:\/\/some.domain\/docs\/14\/api\/\n-doclet.platform.docs.15=https:\/\/some.domain\/docs\/15\/api\/\n-doclet.platform.docs.16=https:\/\/some.domain\/docs\/16\/api\/\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testLinkPlatform\/linkplatform.properties","additions":0,"deletions":10,"binary":false,"changes":10,"status":"deleted"}]}