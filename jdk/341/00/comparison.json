{"files":[{"patch":"@@ -918,0 +918,4 @@\n+\n+    if (osthread()->get_state() != ZOMBIE) {\n+      ThreadsSMRSupport::print_info_on(this, st);\n+    }\n@@ -919,1 +923,0 @@\n-  ThreadsSMRSupport::print_info_on(this, st);\n@@ -941,5 +944,12 @@\n-  st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n-            p2i(stack_end()), p2i(stack_base()));\n-\n-  if (osthread()) {\n-    st->print(\" [id=%d]\", osthread()->thread_id());\n+  OSThread* os_thr = osthread();\n+  if (os_thr != NULL) {\n+    if (os_thr->get_state() != ZOMBIE) {\n+      st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n+                p2i(stack_end()), p2i(stack_base()));\n+      st->print(\" [id=%d]\", osthread()->thread_id());\n+      ThreadsSMRSupport::print_info_on(this, st);\n+    } else {\n+      st->print(\" Terminated\");\n+    }\n+  } else {\n+    st->print(\" Aborted\");\n@@ -947,2 +957,0 @@\n-\n-  ThreadsSMRSupport::print_info_on(this, st);\n@@ -1337,0 +1345,1 @@\n+  osthread()->set_state(ZOMBIE);\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":17,"deletions":8,"binary":false,"changes":25,"status":"modified"}]}