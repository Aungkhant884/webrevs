{"files":[{"patch":"@@ -941,5 +941,11 @@\n-  st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n-            p2i(stack_end()), p2i(stack_base()));\n-\n-  if (osthread()) {\n-    st->print(\" [id=%d]\", osthread()->thread_id());\n+  OSThread* os_thr = osthread();\n+  if (os_thr != NULL) {\n+    if (os_thr->get_state() != ZOMBIE) {\n+      st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n+                p2i(stack_end()), p2i(stack_base()));\n+      st->print(\" [id=%d]\", osthread()->thread_id());\n+    } else {\n+      st->print(\" terminated\");\n+    }\n+  } else {\n+    st->print(\" unknown state (no osThread)\");\n@@ -947,1 +953,0 @@\n-\n@@ -1337,0 +1342,1 @@\n+  osthread()->set_state(ZOMBIE);\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"}]}