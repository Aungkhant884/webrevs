{"files":[{"patch":"@@ -164,2 +164,4 @@\n-  \/\/ Using Thread::current_or_null_safe() here risks that calling threadObj() can\n-  \/\/ overwrite a native thread local, e.g. JVMTI operations clearing GetLastError on Windows.\n+  \/\/ Ideally we would verify the current thread is oop_safe when this is called, but as we can\n+  \/\/ be called from a signal handler we would have to use Thread::current_or_null_safe(). That\n+  \/\/ has overhead and also interacts poorly with GetLastError on Windows due to the use of TLS.\n+  \/\/ Instead callers must verify oop safe access.\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}