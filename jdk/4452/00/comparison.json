{"files":[{"patch":"@@ -40,1 +40,1 @@\n- * @run main GetObjectSizeOverflow\n+ * @run driver GetObjectSizeOverflow\n@@ -46,1 +46,0 @@\n-import jdk.test.lib.Platform;\n@@ -49,1 +48,0 @@\n-import jtreg.SkippedException;\n@@ -54,3 +52,3 @@\n-        PrintWriter pw = new PrintWriter(\"MANIFEST.MF\");\n-        pw.println(\"Premain-Class: GetObjectSizeOverflowAgent\");\n-        pw.close();\n+        try (var pw = new PrintWriter(\"MANIFEST.MF\")) {\n+            pw.println(\"Premain-Class: GetObjectSizeOverflowAgent\");\n+        }\n@@ -58,3 +56,2 @@\n-        ProcessBuilder pb = new ProcessBuilder();\n-        pb.command(new String[] { JDKToolFinder.getJDKTool(\"jar\"), \"cmf\", \"MANIFEST.MF\", \"agent.jar\", \"GetObjectSizeOverflowAgent.class\"});\n-        pb.start().waitFor();\n+        var jar = new ProcessBuilder(JDKToolFinder.getJDKTool(\"jar\"), \"cmf\", \"MANIFEST.MF\", \"agent.jar\", \"GetObjectSizeOverflowAgent.class\");\n+        new OutputAnalyzer(jar.start()).shouldHaveExitValue(0);\n@@ -64,1 +61,0 @@\n-\n@@ -66,0 +62,1 @@\n+        output.shouldHaveExitValue(0);\n","filename":"test\/hotspot\/jtreg\/resourcehogs\/serviceability\/jvmti\/GetObjectSizeOverflow.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"}]}