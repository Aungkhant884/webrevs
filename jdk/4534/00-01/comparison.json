{"files":[{"patch":"@@ -48,0 +48,2 @@\n+ * Second parameter is a hint about the type of a file. JNI_TRUE is for\n+ * shared libraries and JNI_FALSE is for executables.\n@@ -52,1 +54,1 @@\n-TruncatePath(char *buf, jboolean pathisso)\n+TruncatePath(char *buf, jboolean pathisdll)\n@@ -54,2 +56,8 @@\n-    \/\/ try bin directory, maybe an executable\n-    char *p = findLastPathComponent(buf, pathisso ? \"\/lib\/\" : \"\/bin\/\");\n+    \/*\n+     * If the file is a library, try lib directory first and then bin\n+     * directory.\n+     * If the file is an executable, try bin directory first and then lib\n+     * directory.\n+     *\/\n+\n+    char *p = findLastPathComponent(buf, pathisdll ? \"\/lib\/\" : \"\/bin\/\");\n@@ -60,2 +68,1 @@\n-    \/\/ try lib directory, maybe a library\n-    p = findLastPathComponent(buf, pathisso ? \"\/bin\/\" : \"\/lib\/\");\n+    p = findLastPathComponent(buf, pathisdll ? \"\/bin\/\" : \"\/lib\/\");\n","filename":"src\/java.base\/unix\/native\/libjli\/java_md_common.c","additions":12,"deletions":5,"binary":false,"changes":17,"status":"modified"}]}