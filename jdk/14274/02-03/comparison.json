{"files":[{"patch":"@@ -200,1 +200,1 @@\n-    MarkSweep::adjust_pointer(_preserved_marks[i].get_oop_pointer());\n+    PreservedMarks::adjust_preserved_mark(_preserved_marks + i);\n","filename":"src\/hotspot\/share\/gc\/serial\/markSweep.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,0 +43,7 @@\n+void PreservedMarks::adjust_preserved_mark(OopAndMarkWord* elem) {\n+  oop obj = elem->get_oop();\n+  if (obj->is_forwarded()) {\n+    elem->set_oop(obj->forwardee());\n+  }\n+}\n+\n@@ -47,5 +54,1 @@\n-\n-    oop obj = elem->get_oop();\n-    if (obj->is_forwarded()) {\n-      elem->set_oop(obj->forwardee());\n-    }\n+    adjust_preserved_mark(elem);\n","filename":"src\/hotspot\/share\/gc\/shared\/preservedMarks.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -46,1 +46,0 @@\n-  oop* get_oop_pointer() {return &_o; }\n@@ -66,0 +65,5 @@\n+\n+  \/\/ Adjust the preserved mark according to its\n+  \/\/ forwarding location stored in the mark.\n+  static void adjust_preserved_mark(OopAndMarkWord* elem);\n+\n","filename":"src\/hotspot\/share\/gc\/shared\/preservedMarks.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}