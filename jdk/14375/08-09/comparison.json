{"files":[{"patch":"@@ -27,1 +27,0 @@\n-import jdk.test.lib.Platform;\n@@ -44,3 +43,5 @@\n-        ArrayList<String> flags1 = new ArrayList<>();\n-        ArrayList<String> flags2 = new ArrayList<>();\n-        flags1.add(\"-XX:TypeProfileSubTypeCheckCommonThreshold=90\");\n+        \/\/ Only interpreter collects profile\n+        Scenario interpreterProfiling = new Scenario(0, \"-XX:TypeProfileSubTypeCheckCommonThreshold=90\", \"-XX:-TieredCompilation\");\n+        \/\/ Only c1 collects profile\n+        Scenario c1Profiling = new Scenario(1, \"-XX:TypeProfileSubTypeCheckCommonThreshold=90\", \"-XX:+TieredCompilation\", \"-XX:-ProfileInterpreter\");\n+\n@@ -48,1 +49,2 @@\n-            flags1.add(\"-XX:+UseParallelGC\");\n+            interpreterProfiling.addFlags(\"-XX:+UseParallelGC\");\n+            c1Profiling.addFlags(\"-XX:+UseParallelGC\");\n@@ -50,3 +52,0 @@\n-        flags2.addAll(flags1);\n-        flags1.add(\"-XX:-TieredCompilation\");\n-        flags2.add(\"-XX:-ProfileInterpreter\");\n@@ -54,4 +53,2 @@\n-        \/\/ Only interpreter collects profile\n-        TestFramework.runWithFlags(flags1.toArray(new String[0]));\n-        \/\/ Only c1 collects profile\n-        TestFramework.runWithFlags(flags2.toArray(new String[0]));\n+        TestFramework framework = new TestFramework();\n+        framework.addScenarios(interpreterProfiling, c1Profiling).start();\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/ProfileAtTypeCheck.java","additions":9,"deletions":12,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -1475,5 +1475,0 @@\n-    static {\n-        beforeMatchingNameRegex(SUBTYPE_CHECK, \"SubTypeCheck\");\n-    }\n-\n-    public static final String SUBTYPE_CHECK = PREFIX + \"SUBTYPE_CHECK\" + POSTFIX;\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"}]}