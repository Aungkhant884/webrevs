{"files":[{"patch":"@@ -73,4 +73,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"2\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\" })\n@@ -94,4 +91,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.AFTER_PARSING },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.AFTER_PARSING },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_NKLASS, \"1\" })\n+    @IR(phase = { CompilePhase.AFTER_PARSING }, counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS_OR_NKLASS, \"1\" })\n@@ -112,4 +106,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_NKLASS, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS_OR_NKLASS, \"1\" })\n@@ -133,4 +124,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"3\", IRNode.LOAD_KLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"3\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"3\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n@@ -153,4 +141,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n@@ -171,4 +156,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"2\" }, failOn = { IRNode.PARTIAL_SUBTYPE_CHECK })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\" }, failOn = { IRNode.PARTIAL_SUBTYPE_CHECK })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"2\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\" }, failOn = { IRNode.PARTIAL_SUBTYPE_CHECK })\n@@ -190,4 +172,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n@@ -208,4 +187,1 @@\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"false\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n-    @IR(applyIf = { \"UseCompressedClassPointers\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n@@ -421,4 +397,1 @@\n-    @IR(applyIfAnd = { \"UseCompressedClassPointers\", \"false\", \"UseParallelGC\", \"true\" }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n-    @IR(applyIfAnd = { \"UseCompressedClassPointers\", \"true\", \"UseParallelGC\", \"true\"  }, phase = { CompilePhase.MACRO_EXPANSION },\n-        counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS, \"1\", IRNode.LOAD_NKLASS, \"1\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n+    @IR(phase = { CompilePhase.MACRO_EXPANSION }, counts = { IRNode.CMP_P, \"5\", IRNode.LOAD_KLASS_OR_NKLASS, \"2\", IRNode.PARTIAL_SUBTYPE_CHECK, \"1\" })\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/ProfileAtTypeCheck.java","additions":9,"deletions":36,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -637,0 +637,5 @@\n+    public static final String LOAD_KLASS_OR_NKLASS = PREFIX + \"LOAD_KLASS_OR_NKLASS\" + POSTFIX;\n+    static {\n+        beforeMatchingNameRegex(LOAD_KLASS_OR_NKLASS, \"LoadN?Klass\");\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}