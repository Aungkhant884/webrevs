{"files":[{"patch":"@@ -124,0 +124,2 @@\n+        System.out.printf(caseDescription);\n+\n@@ -129,10 +131,0 @@\n-        } catch (Throwable e) {\n-            String result = Checker.abbreviateResult(e.getClass().getName());\n-\n-            System.out.printf(caseDescription);\n-\n-            for (String site : callSites) {\n-                System.out.printf(\" %7s\", result);\n-            }\n-\n-            System.out.println(\"\");\n@@ -140,9 +132,6 @@\n-            return true;\n-        }\n-\n-        if (executeTests) {\n-            \/\/ Check runtime behavior\n-            Caller caller = new Caller(loader, checker, paramClass, targetClass);\n-            boolean printedCaseDes = false;\n-            for (String site : callSites) {\n-                String callResult = caller.call(site);\n+            if (executeTests) {\n+                \/\/ Check runtime behavior\n+                Caller caller = new Caller(loader, checker, paramClass, targetClass);\n+                for (String site : callSites) {\n+                    String callResult = caller.call(site);\n+                    System.out.printf(\" %7s\", callResult);\n@@ -150,5 +139,4 @@\n-                if (!caller.isPassed()) {\n-                    isPassed = false;\n-                    if (!printedCaseDes) {\n-                        System.out.printf(caseDescription);\n-                        printedCaseDes = true;\n+                    if (!caller.isPassed()) {\n+                        String result = checker.check(loader.loadClass(site));\n+                        System.out.printf(\"\/%s\", Checker.abbreviateResult(result));\n+                        isPassed = false;\n@@ -156,1 +144,8 @@\n-                    System.out.printf(\" %7s\", callResult);\n+                }\n+                if (!caller.isPassed()) {\n+                    System.out.print(\" |   FAILED\");\n+                }\n+            } else {\n+                for (String site : callSites) {\n+                    String result = checker.check(loader.loadClass(site));\n+                    System.out.printf(\" %7s\", Checker.abbreviateResult(result));\n@@ -159,4 +154,3 @@\n-            if (!caller.isPassed()) {\n-                System.out.println(\" |   FAILED\");\n-            }\n-        } else {\n+        } catch (Throwable e) {\n+            String result = Checker.abbreviateResult(e.getClass().getName());\n+\n@@ -164,2 +158,1 @@\n-                String result = checker.check(loader.loadClass(site));\n-                System.out.printf(\" %7s\", Checker.abbreviateResult(result));\n+                System.out.printf(\" %7s\", result);\n@@ -168,0 +161,1 @@\n+        System.out.println();\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/shared\/AbstractGenerator.java","additions":25,"deletions":31,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-        ClassWriter cw = new ClassWriter(COMPUTE_MAXS);\n+        ClassWriter cw = new ClassWriter(COMPUTE_FRAMES | COMPUTE_MAXS);\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/shared\/ExecutorGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}