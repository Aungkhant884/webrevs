{"files":[{"patch":"@@ -917,1 +917,1 @@\n-Node* XorINode::Ideal(PhaseGVN* phase, bool can_reshape) {\n+const Type* XorINode::Value(PhaseGVN* phase) const {\n@@ -922,2 +922,2 @@\n-  if (t1 != Type::TOP && t2 != Type::TOP && in1 == in2) {\n-    return new ConINode(TypeInt::ZERO);\n+  if (t1 == Type::TOP || t2 == Type::TOP) {\n+    return Type::TOP;\n@@ -925,2 +925,5 @@\n-\n-  return AddNode::Ideal(phase, can_reshape);\n+  \/\/ x ^ x ==> 0\n+  if (in1->eqv_uncast(in2)) {\n+    return add_id();\n+  }\n+  return AddNode::Value(phase);\n@@ -964,1 +967,1 @@\n-Node* XorLNode::Ideal(PhaseGVN* phase, bool can_reshape) {\n+const Type* XorLNode::Value(PhaseGVN* phase) const {\n@@ -969,2 +972,2 @@\n-  if (t1 != Type::TOP && t2 != Type::TOP && in1 == in2) {\n-    return new ConLNode(TypeLong::ZERO);\n+  if (t1 == Type::TOP || t2 == Type::TOP) {\n+    return Type::TOP;\n@@ -972,1 +975,5 @@\n-  return AddNode::Ideal(phase, can_reshape);\n+  \/\/ x ^ x ==> 0\n+  if (in1->eqv_uncast(in2)) {\n+    return add_id();\n+  }\n+  return AddNode::Value(phase);\n","filename":"src\/hotspot\/share\/opto\/addnode.cpp","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -215,0 +215,1 @@\n+  virtual const Type *Value(PhaseGVN *phase) const;\n@@ -216,1 +217,0 @@\n-  virtual Node *Ideal(PhaseGVN *phase, bool can_reshape);\n@@ -228,0 +228,1 @@\n+  virtual const Type *Value(PhaseGVN *phase) const;\n@@ -229,1 +230,0 @@\n-  virtual Node *Ideal(PhaseGVN *phase, bool can_reshape);\n","filename":"src\/hotspot\/share\/opto\/addnode.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}