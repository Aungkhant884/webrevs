{"files":[{"patch":"@@ -130,2 +130,4 @@\n-  if (is_compiler_linking_event_writer(target->method_holder()->name(), target->name()) && !IS_METHOD_BLESSED(caller)) {\n-    THROW_MSG(vmSymbols::java_lang_IllegalAccessError(), link_error_msg);\n+  if (is_compiler_linking_event_writer(target->method_holder()->name(), target->name())) {\n+    if (caller == nullptr || !IS_METHOD_BLESSED(caller)) {\n+      THROW_MSG(vmSymbols::java_lang_IllegalAccessError(), link_error_msg);\n+    }\n","filename":"src\/hotspot\/share\/jfr\/instrumentation\/jfrResolution.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -374,0 +374,6 @@\n+                try {\n+                    \/\/ Test looking up with null caller\n+                    cp.lookupMethod(cpi, 184, null);\n+                    throw new AssertionError(\"Expected IllegalAccessError\");\n+                } catch (IllegalAccessError e) {\n+                }\n","filename":"test\/jdk\/jdk\/jfr\/jvm\/TestGetEventWriter.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}