{"files":[{"patch":"@@ -184,2 +184,1 @@\n-    String getPathForWin32Calls(boolean alwaysAddPrefix)\n-        throws WindowsException {\n+    String getPathForWin32Calls(boolean alwaysAddPrefix) throws WindowsException {\n@@ -313,0 +312,2 @@\n+        } else if (path.charAt(2) != '?') {\n+            path = \"\\\\\\\\?\\\\UNC\" + path.substring(1);\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/fs\/WindowsPath.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -254,12 +254,25 @@\n-            try {\n-                \/\/ Try to set absolute path as extended attribute; expect IAE\n-                tryCatch(IllegalArgumentException.class, new Task() {\n-                    public void run() throws IOException {\n-                        setEA(longPath, \"user:C:\\\\\");\n-                    }});\n-\n-                \/\/ Try to set an extended attribute on it.\n-                setEA(longPath, \"user:short\");\n-                setEA(longPath, \"user:reallyquitelonglongattrname\");\n-            } finally {\n-                Files.delete(longPath);\n+            String[] elts = longPath.toString().split(\":\");\n+            String uncName = \"\\\\\\\\localhost\\\\\" + elts[0] + \"$\" + elts[1];\n+            Path uncPath = Path.of(uncName);\n+\n+            boolean exceptionCaught = false;\n+            for (Path p : new Path[] {longPath, uncPath}) {\n+                System.out.println(\"Testing \" + p);\n+\n+                try {\n+                    \/\/ Try to set absolute path as extended attribute; expect IAE\n+                    tryCatch(IllegalArgumentException.class, new Task() {\n+                        public void run() throws IOException {\n+                            setEA(p, \"user:C:\\\\\");\n+                        }\n+                    });\n+\n+                    \/\/ Try to set an extended attribute on it.\n+                    setEA(p, \"user:short\");\n+                    setEA(p, \"user:reallyquitelonglongattrname\");\n+                } catch (Exception e) {\n+                    exceptionCaught = true;\n+                } finally {\n+                    if (exceptionCaught || p == uncPath)\n+                        Files.delete(p);\n+                }\n","filename":"test\/jdk\/java\/nio\/file\/attribute\/UserDefinedFileAttributeView\/Basic.java","additions":25,"deletions":12,"binary":false,"changes":37,"status":"modified"}]}