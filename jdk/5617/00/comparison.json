{"files":[{"patch":"@@ -463,0 +463,9 @@\n+        TISInputSourceRef source = TISCopyCurrentKeyboardInputSource();\n+        NSString* lang;\n+        NSArray* languages = (NSArray *) TISGetInputSourceProperty(source, kTISPropertyInputSourceLanguages);\n+        if (languages && [languages count] > 0) {\n+            lang = [languages objectAtIndex:0];\n+        } else {\n+            lang = languages;\n+        }\n+\n@@ -468,2 +477,1 @@\n-            \/\/ some chars in letter set are NOT actually A-Z characters?!\n-            \/\/ skip them...\n+            \/\/ checking for A-Z characters\n@@ -475,1 +483,9 @@\n-        }\n+        } else if([lang isEqualToString:@\"ru\"]) {\n+            \/\/ checking for Russian characters\n+            offset += 0x01000000;\n+            *postsTyped = YES;\n+            \/\/ do quick conversion, add 32 for Russian\n+            *keyCode = java_awt_event_KeyEvent_VK_A + offset + 32;\n+            *keyLocation = java_awt_event_KeyEvent_KEY_LOCATION_STANDARD;\n+return;\n+         }\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/AWTEvent.m","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}