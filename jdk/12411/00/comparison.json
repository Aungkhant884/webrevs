{"files":[{"patch":"@@ -33,0 +33,1 @@\n+import java.util.stream.Collectors;\n@@ -393,0 +394,9 @@\n+    \/**\n+     * Describe modifier flags as they migh appear in source code, i.e.,\n+     * separated by spaces and in the order suggested by JLS 8.1.1.\n+     *\/\n+    public static String toSource(long flags) {\n+        return asModifierSet(flags).stream()\n+          .map(Modifier::toString)\n+          .collect(Collectors.joining(\" \"));\n+    }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Flags.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -306,1 +306,1 @@\n-                log.error(pos, Errors.CantAssignValToFinalVar(v));\n+                log.error(pos, Errors.CantAssignValToVar(Flags.toSource(v.flags() & (STATIC | FINAL)), v));\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -336,3 +336,3 @@\n-# 0: symbol\n-compiler.err.cant.assign.val.to.final.var=\\\n-    cannot assign a value to final variable {0}\n+# 0: set of flag or string, 1: symbol\n+compiler.err.cant.assign.val.to.var=\\\n+    cannot assign a value to {0} variable {1}\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -131,1 +131,1 @@\n-                new ExpectedDiagnostic(\"compiler.err.cant.assign.val.to.final.var\", 0, 3, 1, -1, -1, Diagnostic.Kind.ERROR));\n+                new ExpectedDiagnostic(\"compiler.err.cant.assign.val.to.var\", 0, 3, 1, -1, -1, Diagnostic.Kind.ERROR));\n@@ -133,1 +133,1 @@\n-                new ExpectedDiagnostic(\"compiler.err.cant.assign.val.to.final.var\", 0, 3, 1, -1, -1, Diagnostic.Kind.ERROR));\n+                new ExpectedDiagnostic(\"compiler.err.cant.assign.val.to.var\", 0, 3, 1, -1, -1, Diagnostic.Kind.ERROR));\n","filename":"test\/langtools\/jdk\/jshell\/ModifiersTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-InnerNamedConstant_2.java:26:13: compiler.err.cant.assign.val.to.final.var: z\n+InnerNamedConstant_2.java:26:13: compiler.err.cant.assign.val.to.var: static final, z\n","filename":"test\/langtools\/tools\/javac\/InnerNamedConstant_2_A.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-InnerNamedConstant_2.java:26:13: compiler.err.cant.assign.val.to.final.var: z\n+InnerNamedConstant_2.java:26:13: compiler.err.cant.assign.val.to.var: static final, z\n","filename":"test\/langtools\/tools\/javac\/InnerNamedConstant_2_B.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,2 +1,2 @@\n-StoreClass.java:12:19: compiler.err.cant.assign.val.to.final.var: class\n-StoreClass.java:13:12: compiler.err.cant.assign.val.to.final.var: class\n+StoreClass.java:12:19: compiler.err.cant.assign.val.to.var: static final, class\n+StoreClass.java:13:12: compiler.err.cant.assign.val.to.var: static final, class\n","filename":"test\/langtools\/tools\/javac\/StoreClass.out","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-BadTwr.java:20:13: compiler.err.cant.assign.val.to.final.var: thatsIt\n+BadTwr.java:20:13: compiler.err.cant.assign.val.to.var: final, thatsIt\n","filename":"test\/langtools\/tools\/javac\/TryWithResources\/BadTwr.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/\/ key: compiler.err.cant.assign.val.to.final.var\n+\/\/ key: compiler.err.cant.assign.val.to.var\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/CantAssignToFinal.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-BindingsTest2.java:247:17: compiler.err.cant.assign.val.to.final.var: s\n+BindingsTest2.java:247:17: compiler.err.cant.assign.val.to.var: final, s\n","filename":"test\/langtools\/tools\/javac\/patterns\/BindingsTest2.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2031,1 +2031,1 @@\n-        assertFail(\"compiler.err.cant.assign.val.to.final.var\",\n+        assertFail(\"compiler.err.cant.assign.val.to.var\",\n@@ -2040,1 +2040,1 @@\n-        assertFail(\"compiler.err.cant.assign.val.to.final.var\",\n+        assertFail(\"compiler.err.cant.assign.val.to.var\",\n","filename":"test\/langtools\/tools\/javac\/records\/RecordCompilationTests.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}