{"files":[{"patch":"@@ -67,1 +67,0 @@\n-\/\/        setCachedGlyphCode(unicode, glyph);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CCompositeGlyphMapper.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -355,1 +355,1 @@\n-    (context->doBold ? BOLD_FACTOR(units_per_EM, y_scale) : 0)\n+    ((context->doBold && !context->colorFont) ? BOLD_FACTOR(units_per_EM, y_scale) : 0)\n@@ -594,1 +594,1 @@\n-    if (context->doItalize) {\n+    if (context->doItalize && !context->colorFont) {\n@@ -621,0 +621,4 @@\n+        context->colorFont =\n+            FT_HAS_COLOR(scalerInfo->face) || !FT_IS_SCALABLE(scalerInfo->face) ?\n+            JNI_TRUE : JNI_FALSE;\n+\n@@ -626,1 +630,0 @@\n-            context->colorFont = FT_HAS_COLOR(scalerInfo->face) ? JNI_TRUE : JNI_FALSE;\n@@ -630,1 +633,0 @@\n-            context->colorFont = JNI_TRUE;\n@@ -661,1 +663,2 @@\n-#define OBLIQUE_MODIFIER(y)  (context->doItalize ? ((y)*FT_MATRIX_OBLIQUE_XY\/FT_MATRIX_ONE) : 0)\n+#define OBLIQUE_MODIFIER(y) \\\n+    ((context->doItalize && !context->colorFont) ? ((y)*FT_MATRIX_OBLIQUE_XY\/FT_MATRIX_ONE) : 0)\n@@ -1525,1 +1528,1 @@\n-                                       jint glyphCode, jfloat xpos, jfloat ypos, jboolean allowBold) {\n+                                       jint glyphCode, jfloat xpos, jfloat ypos) {\n@@ -1538,0 +1541,1 @@\n+    int outlineGlyph = ftglyph->format == FT_GLYPH_FORMAT_OUTLINE;\n@@ -1540,1 +1544,1 @@\n-    if (context->doBold && allowBold) { \/* if bold style *\/\n+    if (context->doBold && outlineGlyph && !context->colorFont) { \/* if bold style *\/\n@@ -1566,1 +1570,1 @@\n-    return getFTOutlineNoSetup(context, scalerInfo, glyphCode, xpos, ypos, JNI_TRUE);\n+    return getFTOutlineNoSetup(context, scalerInfo, glyphCode, xpos, ypos);\n@@ -1787,1 +1791,1 @@\n-        FT_Outline* outline = getFTOutlineNoSetup(context, scalerInfo, glyphIndex, xpos, ypos, JNI_FALSE);\n+        FT_Outline* outline = getFTOutlineNoSetup(context, scalerInfo, glyphIndex, xpos, ypos);\n@@ -1889,1 +1893,1 @@\n-            FT_Outline* outline = getFTOutlineNoSetup(context, scalerInfo, glyphCode, xpos, ypos, JNI_TRUE);\n+            FT_Outline* outline = getFTOutlineNoSetup(context, scalerInfo, glyphCode, xpos, ypos);\n","filename":"src\/java.desktop\/share\/native\/libfontmanager\/freetypeScaler.c","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"}]}