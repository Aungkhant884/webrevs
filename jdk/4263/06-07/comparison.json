{"files":[{"patch":"@@ -175,1 +175,0 @@\n-        long srcSize = src.size();\n@@ -177,1 +176,1 @@\n-            for (long n = srcSize - srcPos; bytesWritten < n;)\n+            while (srcPos + bytesWritten < src.size()) {\n@@ -179,0 +178,1 @@\n+            }\n@@ -189,1 +189,0 @@\n-        long srcSize = src.size();\n@@ -191,1 +190,1 @@\n-            for (long n = srcSize - srcPos; bytesWritten < n;)\n+            while (srcPos + bytesWritten < src.size()) {\n@@ -193,0 +192,1 @@\n+            }\n@@ -201,1 +201,1 @@\n-        long dstPos = dst.position();\n+        long destPos = dst.position();\n@@ -204,1 +204,1 @@\n-            int r;\n+            int bytesRead;\n@@ -206,3 +206,3 @@\n-                bytesWritten += dst.transferFrom(src, dstPos + bytesWritten, Long.MAX_VALUE);\n-                r = src.read(bb); \/\/ detect end-of-stream\n-                if (r > -1) {\n+                bytesWritten += dst.transferFrom(src, destPos + bytesWritten, Long.MAX_VALUE);\n+                bytesRead = src.read(bb); \/\/ detect end-of-stream\n+                if (bytesRead > -1) {\n@@ -213,1 +213,1 @@\n-                    bytesWritten += r;\n+                    bytesWritten += bytesRead;\n@@ -215,1 +215,1 @@\n-            } while (r > -1);\n+            } while (bytesRead > -1);\n@@ -218,1 +218,1 @@\n-            dst.position(dstPos + bytesWritten);\n+            dst.position(destPos + bytesWritten);\n@@ -227,1 +227,1 @@\n-            for (int r = src.read(bb); r > -1; r = src.read(bb)) {\n+            for (int bytesRead = src.read(bb); bytesRead > -1; bytesRead = src.read(bb)) {\n@@ -232,1 +232,1 @@\n-                bytesWritten += r;\n+                bytesWritten += bytesRead;\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/ChannelInputStream.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}