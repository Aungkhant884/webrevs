{"files":[{"patch":"@@ -68,0 +68,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/classfile\/classLoader.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n","filename":"src\/hotspot\/share\/classfile\/classLoader.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -63,0 +63,1 @@\n+#include \"runtime\/perfData.hpp\"\n@@ -2687,0 +2688,4 @@\n+jlong CompileBroker::total_compilation_ticks() {\n+  return _perf_total_compilation != NULL ? _perf_total_compilation->get_value() : 0;\n+}\n+\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n@@ -370,3 +370,1 @@\n-  static jlong total_compilation_ticks() {\n-    return _perf_total_compilation != NULL ? _perf_total_compilation->get_value() : 0;\n-  }\n+  static jlong total_compilation_ticks();\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.hpp","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/gc\/epsilon\/epsilonMonitoringSupport.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/ageTable.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n@@ -32,1 +32,1 @@\n-\/* Copyright (c) 1992, 2019, Oracle and\/or its affiliates, and Stanford University.\n+\/* Copyright (c) 1992, 2021, Oracle and\/or its affiliates, and Stanford University.\n","filename":"src\/hotspot\/share\/gc\/shared\/ageTable.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+#include \"runtime\/perfData.hpp\"\n@@ -374,0 +375,8 @@\n+void CollectedHeap::set_gc_cause(GCCause::Cause v) {\n+  if (UsePerfData) {\n+    _gc_lastcause = _gc_cause;\n+    _perf_gc_lastcause->set_value(GCCause::to_string(_gc_lastcause));\n+    _perf_gc_cause->set_value(GCCause::to_string(v));\n+  }\n+  _gc_cause = v;\n+}\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n@@ -249,8 +249,1 @@\n-  void set_gc_cause(GCCause::Cause v) {\n-     if (UsePerfData) {\n-       _gc_lastcause = _gc_cause;\n-       _perf_gc_lastcause->set_value(GCCause::to_string(_gc_lastcause));\n-       _perf_gc_cause->set_value(GCCause::to_string(v));\n-     }\n-    _gc_cause = v;\n-  }\n+  void set_gc_cause(GCCause::Cause v);\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.hpp","additions":3,"deletions":10,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/generationCounters.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/generationCounters.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/threadLocalAllocBuffer.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -29,1 +29,3 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n+#include \"utilities\/align.hpp\"\n+#include \"utilities\/sizes.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/threadLocalAllocBuffer.hpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"runtime\/globals.hpp\"\n@@ -33,1 +34,0 @@\n-#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+#include \"runtime\/perfDataTypes.hpp\"\n@@ -352,3 +353,0 @@\n-typedef PerfLongSampleHelper PerfSampleHelper;\n-\n-\n@@ -398,2 +396,0 @@\n-typedef PerfLongConstant PerfConstant;\n-\n@@ -462,2 +458,0 @@\n-typedef PerfLongCounter PerfCounter;\n-\n@@ -492,2 +486,0 @@\n-typedef PerfLongVariable PerfVariable;\n-\n","filename":"src\/hotspot\/share\/runtime\/perfData.hpp","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -0,0 +1,45 @@\n+\/*\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#ifndef SHARE_RUNTIME_PERFDATATYPES_HPP\n+#define SHARE_RUNTIME_PERFDATATYPES_HPP\n+\n+\/\/ Forward declaration of the types used by the performance counters. The\n+\/\/ actual class declarations are in perfData.hpp.\n+\/\/\n+\/\/ To reduce HotSpot build time, if you just need to declare a pointer to the\n+\/\/ following types, include this file instead of perfData.hpp.\n+\n+class PerfLongSampleHelper;\n+class PerfLongConstant;\n+class PerfLongCounter;\n+class PerfLongVariable;\n+class PerfStringVariable;\n+\n+typedef PerfLongSampleHelper PerfSampleHelper;\n+typedef PerfLongConstant PerfConstant;\n+typedef PerfLongCounter PerfCounter;\n+typedef PerfLongVariable PerfVariable;\n+\n+#endif \/\/ SHARE_RUNTIME_PERFDATATYPES_HPP\n","filename":"src\/hotspot\/share\/runtime\/perfDataTypes.hpp","additions":45,"deletions":0,"binary":false,"changes":45,"status":"added"},{"patch":"@@ -46,0 +46,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -41,0 +41,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/vmThread.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n-#include \"runtime\/perfData.hpp\"\n+#include \"runtime\/perfDataTypes.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/vmThread.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,0 +31,1 @@\n+#include \"runtime\/perfData.hpp\"\n","filename":"src\/hotspot\/share\/services\/management.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}