{"files":[{"patch":"@@ -100,23 +100,0 @@\n-ShenandoahRootScanner::ShenandoahRootScanner(uint n_workers, ShenandoahPhaseTimings::Phase phase) :\n-  ShenandoahRootProcessor(phase),\n-  _thread_roots(phase, n_workers > 1) {\n-  nmethod::oops_do_marking_prologue();\n-}\n-\n-ShenandoahRootScanner::~ShenandoahRootScanner() {\n-  nmethod::oops_do_marking_epilogue();\n-}\n-\n-void ShenandoahRootScanner::roots_do(uint worker_id, OopClosure* oops) {\n-  MarkingCodeBlobClosure blobs_cl(oops, !CodeBlobToOopClosure::FixRelocations);\n-  roots_do(worker_id, oops, &blobs_cl);\n-}\n-\n-void ShenandoahRootScanner::roots_do(uint worker_id, OopClosure* oops, CodeBlobClosure* code, ThreadClosure *tc) {\n-  assert(ShenandoahSafepoint::is_at_shenandoah_safepoint(), \"Must be at a safepoint\");\n-\n-  ShenandoahParallelOopsDoThreadClosure tc_cl(oops, code, tc);\n-  ResourceMark rm;\n-  _thread_roots.threads_do(&tc_cl, worker_id);\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.cpp","additions":0,"deletions":23,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -146,14 +146,0 @@\n-class ShenandoahRootScanner : public ShenandoahRootProcessor {\n-private:\n-  ShenandoahThreadRoots                                     _thread_roots;\n-\n-public:\n-  ShenandoahRootScanner(uint n_workers, ShenandoahPhaseTimings::Phase phase);\n-  ~ShenandoahRootScanner();\n-\n-  void roots_do(uint worker_id, OopClosure* cl);\n-\n-private:\n-  void roots_do(uint worker_id, OopClosure* oops, CodeBlobClosure* code, ThreadClosure* tc = NULL);\n-};\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.hpp","additions":0,"deletions":14,"binary":false,"changes":14,"status":"modified"}]}