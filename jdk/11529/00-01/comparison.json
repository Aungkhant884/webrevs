{"files":[{"patch":"@@ -1817,11 +1817,6 @@\n-      if (told->isa_int() && tnew->isa_int() ) {\n-        const TypeInt *t0 = told->is_int();\n-        const TypeInt *t1 = tnew->is_int();\n-        if (t0->_lo == t1->_lo && t0->_hi == t1->_hi) {\n-          continue; \/\/ ignore int widen\n-        }\n-      } else if (told->isa_long() && tnew->isa_long() ) {\n-        const TypeLong *t0 = told->is_long();\n-        const TypeLong *t1 = tnew->is_long();\n-        if (t0->_lo == t1->_lo && t0->_hi == t1->_hi) {\n-          continue; \/\/ ignore long widen\n+      if (told->isa_integer(tnew->basic_type()) ) { \/\/ both either int or long\n+        const TypeInteger *t0 = told->is_integer(tnew->basic_type());\n+        const TypeInteger *t1 = tnew->is_integer(tnew->basic_type());\n+        if (t0->lo_as_long() == t1->lo_as_long() &&\n+            t0->hi_as_long() == t1->hi_as_long()) {\n+          continue; \/\/ ignore integer widen\n@@ -1836,0 +1831,1 @@\n+      tty->cr();\n@@ -1840,1 +1836,1 @@\n-      tty->print_cr(\"\");\n+      tty->cr();\n@@ -1843,1 +1839,1 @@\n-      tty->print_cr(\"\");\n+      tty->cr();\n@@ -1847,2 +1843,4 @@\n-  \/\/ If you get this assert, check if the node was notified of changes in\n-  \/\/ the inputs. See PhaseCCP::push_child_nodes_to_worklist\n+  \/\/ If we get this assert, check why the reported nodes were not processed again in CCP.\n+  \/\/ We should either make sure that these nodes are properly added back to the CCP worklist\n+  \/\/ in PhaseCCP::push_child_nodes_to_worklist() to update their type or add an exception\n+  \/\/ in the verification code above if that is not possible for some reason (like Load nodes).\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":13,"deletions":15,"binary":false,"changes":28,"status":"modified"}]}