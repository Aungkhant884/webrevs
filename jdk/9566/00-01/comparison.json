{"files":[{"patch":"@@ -428,1 +428,1 @@\n-            newSize = 0;\n+            return;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JSplitPane.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -226,0 +226,3 @@\n+        if (newSize < 0) {\n+            return;\n+        }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSplitPaneDivider.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -36,0 +36,2 @@\n+import javax.swing.UIManager;\n+import javax.swing.plaf.basic.BasicSplitPaneUI;\n@@ -39,1 +41,4 @@\n-   private static volatile int divSize;\n+    private static volatile int divSize;\n+    private static volatile int basicDivSize;\n+    private static JFrame frame;\n+    private static JSplitPane sp;\n@@ -41,1 +46,1 @@\n-   public static void main(String[] args) throws Exception {\n+    public static void main(String[] args) throws Exception {\n@@ -43,4 +48,2 @@\n-            JFrame frame = new JFrame();\n-            frame.setSize(new Dimension(400,200));\n-            frame.setVisible(true);\n-            JSplitPane sp = new JSplitPane(JSplitPane.VERTICAL_SPLIT, true,\n+            frame = new JFrame();\n+            sp = new JSplitPane(JSplitPane.VERTICAL_SPLIT, true,\n@@ -52,2 +55,5 @@\n-            System.out.println(divSize);\n-            frame.dispose();\n+            ((BasicSplitPaneUI)sp.getUI()).getDivider().setDividerSize(-50);\n+            basicDivSize = ((BasicSplitPaneUI)sp.getUI()).getDivider().\n+                                              getDividerSize();\n+            frame.setSize(new Dimension(400,200));\n+            frame.setVisible(true);\n@@ -55,1 +61,8 @@\n-        if (divSize < 0) {\n+        try {\n+            Thread.sleep(1000);\n+        } catch(Exception e){}\n+        SwingUtilities.invokeAndWait(()->frame.dispose());\n+        System.out.println(divSize);\n+        System.out.println(basicDivSize);\n+        System.out.println((Integer)UIManager.get(\"SplitPane.dividerSize\"));\n+        if (divSize < 0 || basicDivSize < 0) {\n","filename":"test\/jdk\/javax\/swing\/JSplitPane\/JSplitPaneTestNegDivSize.java","additions":22,"deletions":9,"binary":false,"changes":31,"status":"modified"}]}