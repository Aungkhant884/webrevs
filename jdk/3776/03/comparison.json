{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -52,0 +52,1 @@\n+import java.util.Arrays;\n@@ -53,0 +54,1 @@\n+import java.util.HexFormat;\n@@ -151,0 +153,29 @@\n+    record bytes(byte[] bytes) {\n+        @Override\n+        public boolean equals(Object o) {\n+            if (this == o) return true;\n+            if (o instanceof bytes other) {\n+                return Arrays.equals(bytes(), other.bytes());\n+            }\n+            return false;\n+        }\n+        @Override\n+        public int hashCode() { return Arrays.hashCode(bytes()); }\n+        public String toString() {\n+            return \"0x\" + HexFormat.of()\n+                    .withUpperCase()\n+                    .formatHex(bytes());\n+        }\n+    }\n+\n+    static List<bytes> ofBytes(List<byte[]> bytes) {\n+        return bytes.stream().map(bytes::new).toList();\n+    }\n+\n+    static String diagnose(List<byte[]> a, List<byte[]> b) {\n+        var actual = ofBytes(a);\n+        var expected = ofBytes(b);\n+        var message = actual.equals(expected) ? \"match\" : \"differ\";\n+        return \"%s and %s %s\".formatted(actual, expected, message);\n+    }\n+\n@@ -239,1 +270,1 @@\n-            assertEquals(a, expected);\n+            assertEquals(ofBytes(a), ofBytes(expected), diagnose(a, expected));\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/WebSocketProxyTest.java","additions":33,"deletions":2,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,0 +44,1 @@\n+import java.util.Arrays;\n@@ -45,0 +46,1 @@\n+import java.util.HexFormat;\n@@ -435,0 +437,29 @@\n+    record bytes(byte[] bytes) {\n+        @Override\n+        public boolean equals(Object o) {\n+            if (this == o) return true;\n+            if (o instanceof bytes other) {\n+                return Arrays.equals(bytes(), other.bytes());\n+            }\n+            return false;\n+        }\n+        @Override\n+        public int hashCode() { return Arrays.hashCode(bytes()); }\n+        public String toString() {\n+            return \"0x\" + HexFormat.of()\n+                    .withUpperCase()\n+                    .formatHex(bytes());\n+        }\n+    }\n+\n+    static List<bytes> ofBytes(List<byte[]> bytes) {\n+        return bytes.stream().map(bytes::new).toList();\n+    }\n+\n+    static String diagnose(List<byte[]> a, List<byte[]> b) {\n+        var actual = ofBytes(a);\n+        var expected = ofBytes(b);\n+        var message = actual.equals(expected) ? \"match\" : \"differ\";\n+        return \"%s and %s %s\".formatted(actual, expected, message);\n+    }\n+\n@@ -528,1 +559,1 @@\n-                assertEquals(a, expected);\n+                assertEquals(ofBytes(a), ofBytes(expected), diagnose(a, expected));\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/WebSocketTest.java","additions":33,"deletions":2,"binary":false,"changes":35,"status":"modified"}]}