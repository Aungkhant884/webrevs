{"files":[{"patch":"@@ -87,5 +87,3 @@\n-        InputStream in = null;\n-        BufferedReader r = null;\n-        try {\n-            in = u.openStream();\n-            r = new BufferedReader(new InputStreamReader(in, UTF_8));\n+        try (InputStream in = u.openStream();\n+             BufferedReader r = new BufferedReader(new InputStreamReader(in, UTF_8)))\n+        {\n@@ -117,11 +115,0 @@\n-        } finally {\n-            try {\n-                if (r != null) r.close();\n-            } catch (IOException y) {\n-                fail(service, \": \" + y);\n-            }\n-            try {\n-                if (in != null) in.close();\n-            } catch (IOException y) {\n-                fail(service, \": \" + y);\n-            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/processing\/ServiceProxy.java","additions":3,"deletions":16,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -153,1 +153,1 @@\n-        try {\n+        try (is) {\n@@ -164,9 +164,0 @@\n-        } finally {\n-            try {\n-                is.close();\n-            } catch (IOException e) {\n-                \/* Ignore any errors, as this stream may have already\n-                 * thrown a related exception which is the one that\n-                 * should be reported.\n-                 *\/\n-            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/util\/ByteBuffer.java","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -102,2 +102,2 @@\n-        try {\n-            p.load(new FileInputStream(src));\n+        try (FileInputStream fis = new FileInputStream(src)) {\n+            p.load(fis);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/sjavac\/CleanProperties.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,0 @@\n-import java.io.PrintStream;\n@@ -112,2 +111,2 @@\n-        try {\n-            p.load(new FileInputStream(src));\n+        try (FileInputStream fis = new FileInputStream(src)) {\n+            p.load(fis);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/sjavac\/CompileProperties.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}