{"files":[{"patch":"@@ -284,1 +284,1 @@\n-             SafepointCheckRequired safepoint_check_required) : _owner(NULL) {\n+             SafepointCheckRequired safepoint_check_required) : _owner(NULL), _name(name) {\n@@ -286,6 +286,1 @@\n-  if (name == NULL) {\n-    strcpy(_name, \"UNKNOWN\");\n-  } else {\n-    strncpy(_name, name, MUTEX_NAME_LEN - 1);\n-    _name[MUTEX_NAME_LEN - 1] = '\\0';\n-  }\n+  assert(name != NULL, \"Mutex requires a name\");\n","filename":"src\/hotspot\/share\/runtime\/mutex.cpp","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,5 +42,0 @@\n-\/\/ The default length of mutex name was originally chosen to be 64 to avoid\n-\/\/ false sharing. Now, PaddedMutex and PaddedMonitor are available for this purpose.\n-\/\/ TODO: Check if _name[MUTEX_NAME_LEN] should better get replaced by const char*.\n-static const int MUTEX_NAME_LEN = 64;\n-\n@@ -94,1 +89,1 @@\n-  char _name[MUTEX_NAME_LEN];            \/\/ Name of mutex\/monitor\n+  const char* _name;                     \/\/ Name of mutex\/monitor\n","filename":"src\/hotspot\/share\/runtime\/mutex.hpp","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"}]}