{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import jdk.test.lib.Platform;\n@@ -85,4 +86,0 @@\n-            expStrMap.put(cmdStr, List.of(\n-                    \"Thread \\\"SteadyStateThread\\\"\",\n-                    \"java.lang.Thread.State: BLOCKED\",\n-                    \"In java stack \\\\[0x\\\\p{XDigit}+,0x\\\\p{XDigit}+,0x\\\\p{XDigit}+\\\\] for thread\"));\n@@ -90,4 +87,15 @@\n-            unexpStrMap.put(cmdStr, List.of(\n-                    \"Thread \\\"Common-Cleaner\\\"\",\n-                    \"Thread \\\"Service Thread\\\"\",\n-                    \"Thread \\\"Finalizer\\\"\"));\n+            if (Platform.isWindows()) {\n+                \/\/ On windows thread IDs are not guaranteed to be the same each time you attach,\n+                \/\/ so the ID we gleaned above for SteadyStateThread may not actually be for\n+                \/\/ SteadyStateThread when we attach for the next threadcontext command, so we\n+                \/\/ choose not to check the result on Windows.\n+            } else {\n+                expStrMap.put(cmdStr, List.of(\n+                        \"Thread \\\"SteadyStateThread\\\"\",\n+                        \"java.lang.Thread.State: BLOCKED\",\n+                        \"In java stack \\\\[0x\\\\p{XDigit}+,0x\\\\p{XDigit}+,0x\\\\p{XDigit}+\\\\] for thread\"));\n+                unexpStrMap.put(cmdStr, List.of(\n+                        \"Thread \\\"Common-Cleaner\\\"\",\n+                        \"Thread \\\"Service Thread\\\"\",\n+                        \"Thread \\\"Finalizer\\\"\"));\n+            }\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/ClhsdbThreadContext.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"}]}