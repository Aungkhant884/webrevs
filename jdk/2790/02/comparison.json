{"files":[{"patch":"@@ -34,0 +34,2 @@\n+import java.awt.Dimension;\n+import java.awt.Graphics;\n@@ -36,0 +38,1 @@\n+import java.awt.Toolkit;\n@@ -84,0 +87,2 @@\n+                    desktop.setMinimumSize(new Dimension(300, 300));\n+                    desktop.setMaximumSize(new Dimension(300, 300));\n@@ -86,1 +91,3 @@\n-                    frame.setSize(300, 300);\n+                    frame.setMinimumSize(new Dimension(350, 350));\n+                    frame.setMaximumSize(new Dimension(350, 350));\n+                    frame.pack();\n@@ -93,1 +100,0 @@\n-            robot.delay(1000);\n@@ -95,0 +101,1 @@\n+            robot.delay(1000);\n@@ -96,0 +103,2 @@\n+            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n+            Rectangle screen = new Rectangle(0, 0, (int) screenSize.getWidth(), (int) screenSize.getHeight());\n@@ -103,0 +112,4 @@\n+            BufferedImage fullScreen = robot.createScreenCapture(screen);\n+            Graphics g = fullScreen.getGraphics();\n+            g.setColor(Color.RED);\n+            g.drawRect(locx - 1, locy - 1, frw + 1, frh + 1);\n@@ -118,0 +131,1 @@\n+                ImageIO.write(fullScreen, \"png\", new File(\"fullScreenInit.png\"));\n@@ -136,0 +150,1 @@\n+                ImageIO.write(fullScreen, \"png\", new File(\"fullScreenInit.png\"));\n@@ -163,0 +178,7 @@\n+            if (Util.compareBufferedImages(imageInit, imageShow)) {\n+                ImageIO.write(imageInit, \"png\", new File(\"imageInit.png\"));\n+                ImageIO.write(imageShow, \"png\", new File(\"imageShow.png\"));\n+                ImageIO.write(fullScreen, \"png\", new File(\"fullScreenInit.png\"));\n+                throw new Exception(\"Failed to show non-opaque button\");\n+            }\n+\n@@ -171,6 +193,0 @@\n-            if (Util.compareBufferedImages(imageInit, imageShow)) {\n-                ImageIO.write(imageInit, \"png\", new File(\"imageInit.png\"));\n-                ImageIO.write(imageShow, \"png\", new File(\"imageShow.png\"));\n-                throw new Exception(\"Failed to show non-opaque button\");\n-            }\n-\n@@ -183,0 +199,1 @@\n+                ImageIO.write(fullScreen, \"png\", new File(\"fullScreenInit.png\"));\n","filename":"test\/jdk\/javax\/swing\/JComponent\/7154030\/bug7154030.java","additions":25,"deletions":8,"binary":false,"changes":33,"status":"modified"}]}