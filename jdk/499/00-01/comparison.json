{"files":[{"patch":"@@ -70,1 +70,1 @@\n-     * Initializes the common data for a writers that can generate index files\n+     * Initializes the common data for writers that can generate index files\n@@ -150,1 +150,1 @@\n-                TypeElement containingType = item.getTypeElement();\n+                TypeElement containingType = item.getContainingTypeElement();\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AbstractIndexWriter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -172,0 +172,1 @@\n+            SystemPropertiesWriter.generate(configuration);\n@@ -184,1 +185,0 @@\n-            SystemPropertiesWriter.generate(configuration);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-                TypeElement containingType = item.getTypeElement();\n+                TypeElement containingType = item.getContainingTypeElement();\n@@ -233,1 +233,1 @@\n-                wr.write(item.toJavaScript());\n+                wr.write(item.toJSON());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlIndexBuilder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -137,2 +137,1 @@\n-        boolean anySystemProperties = mainIndex.getItems(Category.TAGS).stream()\n-                .anyMatch(sii -> sii.getDocTree().getKind() == DocTree.Kind.SYSTEM_PROPERTY);\n+        boolean anySystemProperties = !mainIndex.getItems(DocTree.Kind.SYSTEM_PROPERTY).isEmpty();\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SingleIndexWriter.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -159,2 +159,1 @@\n-        boolean anySystemProperties = mainIndex.getItems(Category.TAGS).stream()\n-                .anyMatch(sii -> sii.getDocTree().getKind() == DocTree.Kind.SYSTEM_PROPERTY);\n+        boolean anySystemProperties = !mainIndex.getItems(DocTree.Kind.SYSTEM_PROPERTY).isEmpty();\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SplitIndexWriter.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -91,2 +91,1 @@\n-                && configuration.mainIndex.getItems(Category.TAGS).stream()\n-                        .anyMatch(sii -> sii.getDocTree().getKind() == DocTree.Kind.SYSTEM_PROPERTY);\n+                && !configuration.mainIndex.getItems(DocTree.Kind.SYSTEM_PROPERTY).isEmpty();\n@@ -159,2 +158,1 @@\n-        return configuration.mainIndex.getItems(Category.TAGS).stream()\n-                .filter(ssi -> ssi.getDocTree().getKind() == DocTree.Kind.SYSTEM_PROPERTY)\n+        return configuration.mainIndex.getItems(DocTree.Kind.SYSTEM_PROPERTY).stream()\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SystemPropertiesWriter.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+import com.sun.source.doctree.DocTree;\n@@ -192,0 +193,6 @@\n+    \/**\n+     * Returns a sorted list of items in a given category.\n+     *\n+     * @param cat the category\n+     * @return list of items keyed by the provided character\n+     *\/\n@@ -197,0 +204,13 @@\n+    \/**\n+     * Returns a sorted list of items with a given kind of doc tree.\n+     *\n+     * @param kind the kind\n+     * @return list of items keyed by the provided character\n+     *\/\n+    public SortedSet<IndexItem> getItems(DocTree.Kind kind) {\n+        Objects.requireNonNull(kind);\n+        return itemsByCategory.getOrDefault(IndexItem.Category.TAGS, Collections.emptySortedSet()).stream()\n+                .filter(i -> i.getDocTree().getKind() == kind)\n+                .collect(Collectors.toCollection(() -> new TreeSet<>(mainComparator)));\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/IndexBuilder.java","additions":20,"deletions":0,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-     * @see #getTypeElement()\n+     * @see #getContainingTypeElement()\n@@ -191,1 +191,1 @@\n-            public TypeElement getTypeElement() {\n+            public TypeElement getContainingTypeElement() {\n@@ -315,1 +315,1 @@\n-        TypeElement typeElement = getTypeElement();\n+        TypeElement typeElement = getContainingTypeElement();\n@@ -392,1 +392,1 @@\n-    public TypeElement getTypeElement() {\n+    public TypeElement getContainingTypeElement() {\n@@ -506,1 +506,1 @@\n-    public String toJavaScript() {\n+    public String toJSON() {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/IndexItem.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}