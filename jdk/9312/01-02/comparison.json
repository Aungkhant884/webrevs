{"files":[{"patch":"@@ -569,0 +569,17 @@\n+#if defined(MACOSX)\n+    time_t gmt_offset;\n+    gmt_offset = (time_t)localtm.tm_gmtoff;\n+    if (gmt_offset == 0) {\n+        return strdup(\"GMT\");\n+    }\n+#else\n+    struct tm gmt;\n+    if (gmtime_r(&clock, &gmt) == NULL) {\n+        return strdup(\"GMT\");\n+    }\n+\n+    if(localtm.tm_hour == gmt.tm_hour && localtm.tm_min == gmt.tm_min) {\n+        return strdup(\"GMT\");\n+    }\n+#endif\n+\n@@ -570,1 +587,3 @@\n-    char gmt_offset[] = {offset[0], offset[1], offset[2], ':', offset[3], offset[4], '\\0'};\n+    if (strlen(offset) != 5) {\n+        return strdup(\"GMT\");\n+    }\n@@ -572,1 +591,2 @@\n-    sprintf(buf, (const char *)\"GMT%s\", gmt_offset);\n+    sprintf(buf, (const char *)\"GMT%c%c%c:%c%c\", offset[0], offset[1], offset[2],\n+        offset[3], offset[4]);\n","filename":"src\/java.base\/unix\/native\/libjava\/TimeZone_md.c","additions":22,"deletions":2,"binary":false,"changes":24,"status":"modified"}]}