{"files":[{"patch":"@@ -194,1 +194,12 @@\n-  _chunk_bitmap(mtGC) { }\n+  _chunk_bitmap(mtGC) {\n+\n+  _num_evac_fail_regions = _evac_failure_regions->num_regions_failed_evacuation();\n+  _num_chunks_per_region = G1CollectedHeap::get_chunks_per_region();\n+\n+  _chunk_size = static_cast<uint>(HeapRegion::GrainWords \/ _num_chunks_per_region);\n+\n+  log_debug(gc, ergo)(\"Initializing removing self forwards with %u chunks per region\",\n+                      _num_chunks_per_region);\n+\n+  _chunk_bitmap.resize(_num_chunks_per_region * _num_evac_fail_regions);\n+}\n@@ -208,12 +219,0 @@\n-\n-void G1RemoveSelfForwardsTask::initialize() {\n-  _num_evac_fail_regions = _evac_failure_regions->num_regions_failed_evacuation();\n-  _num_chunks_per_region = G1CollectedHeap::get_chunks_per_region();\n-\n-  _chunk_size = static_cast<uint>(HeapRegion::GrainWords \/ _num_chunks_per_region);\n-\n-  log_debug(gc, ergo)(\"Initializing removing self forwards with %u chunks per region\",\n-                      _num_chunks_per_region);\n-\n-  _chunk_bitmap.resize(_num_chunks_per_region * _num_evac_fail_regions);\n-}\n","filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailure.cpp","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -59,2 +59,0 @@\n-\n-  void initialize();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailure.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,2 +109,0 @@\n-\n-    _task.initialize();\n@@ -116,2 +114,2 @@\n-    double chunks_per_thread = (double)G1CollectedHeap::get_chunks_per_region() \/ G1RestoreRetainedRegionChunksPerWorker;\n-    return chunks_per_thread * _evac_failure_regions->num_regions_failed_evacuation();\n+    double workers_per_region = (double)G1CollectedHeap::get_chunks_per_region() \/ G1RestoreRetainedRegionChunksPerWorker;\n+    return workers_per_region * _evac_failure_regions->num_regions_failed_evacuation();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"}]}