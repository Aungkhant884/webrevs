{"files":[{"patch":"@@ -81,1 +81,3 @@\n-    PUBLIC(Modifier.PUBLIC, true, Set.of(TYPE, CONSTRUCTOR, METHOD, FIELD)),\n+    PUBLIC(Modifier.PUBLIC, true,\n+           Set.of(Location.CLASS, Location.FIELD, Location.METHOD,\n+                  Location.INNER_CLASS)),\n@@ -87,1 +89,2 @@\n-    PRIVATE(Modifier.PRIVATE, true, Set.of(CONSTRUCTOR, METHOD, FIELD)),\n+    PRIVATE(Modifier.PRIVATE, true,\n+            Set.of(Location.FIELD, Location.METHOD, Location.INNER_CLASS)),\n@@ -93,1 +96,2 @@\n-    PROTECTED(Modifier.PROTECTED, true, Set.of(CONSTRUCTOR, METHOD, FIELD)),\n+    PROTECTED(Modifier.PROTECTED, true,\n+              Set.of(Location.FIELD, Location.METHOD, Location.INNER_CLASS)),\n@@ -99,1 +103,2 @@\n-    STATIC(Modifier.STATIC, true, Set.of(FIELD, METHOD)),\n+    STATIC(Modifier.STATIC, true,\n+           Set.of(Location.FIELD, Location.METHOD, Location.INNER_CLASS)),\n@@ -105,1 +110,3 @@\n-    FINAL(Modifier.FINAL, true, Set.of(FIELD, METHOD, PARAMETER, TYPE)),\n+    FINAL(Modifier.FINAL, true,\n+          Set.of(Location.CLASS, Location.FIELD, Location.METHOD,\n+                 Location.INNER_CLASS, Location.METHOD_PARAMETER)),\n@@ -110,1 +117,1 @@\n-    SUPER(0x0000_0020, false, Set.of(TYPE)),\n+    SUPER(0x0000_0020, false, Set.of(Location.CLASS)),\n@@ -116,1 +123,1 @@\n-    OPEN(0x0000_0020, false, Set.of(ElementType.MODULE)),\n+    OPEN(0x0000_0020, false, Set.of(Location.MODULE)),\n@@ -122,1 +129,1 @@\n-    TRANSITIVE(0x0000_0020, false, Set.of()),\n+    TRANSITIVE(0x0000_0020, false, Set.of(Location.MODULE_REQUIRES)),\n@@ -128,1 +135,1 @@\n-    SYNCHRONIZED(Modifier.SYNCHRONIZED, true, Set.of(METHOD, CONSTRUCTOR)),\n+    SYNCHRONIZED(Modifier.SYNCHRONIZED, true, Set.of(Location.METHOD)),\n@@ -134,1 +141,1 @@\n-    STATIC_PHASE(0x0000_0040, false, Set.of()),\n+    STATIC_PHASE(0x0000_0040, false, Set.of(Location.MODULE_REQUIRES)),\n@@ -140,1 +147,1 @@\n-    VOLATILE(Modifier.VOLATILE, true, Set.of(FIELD)),\n+    VOLATILE(Modifier.VOLATILE, true, Set.of(Location.FIELD)),\n@@ -146,1 +153,1 @@\n-    BRIDGE(0x0000_0040, false, Set.of(METHOD, CONSTRUCTOR)),\n+    BRIDGE(0x0000_0040, false, Set.of(Location.METHOD)),\n@@ -152,1 +159,1 @@\n-    TRANSIENT(Modifier.TRANSIENT, true, Set.of(FIELD)),\n+    TRANSIENT(Modifier.TRANSIENT, true, Set.of(Location.FIELD)),\n@@ -158,1 +165,1 @@\n-    VARARGS(0x0000_0080, false, Set.of(METHOD, CONSTRUCTOR)),\n+    VARARGS(0x0000_0080, false, Set.of(Location.METHOD)),\n@@ -164,1 +171,1 @@\n-    NATIVE(Modifier.NATIVE, true, Set.of(METHOD)),\n+    NATIVE(Modifier.NATIVE, true, Set.of(Location.METHOD)),\n@@ -170,1 +177,2 @@\n-    INTERFACE(Modifier.INTERFACE, false, Set.of(TYPE)),\n+    INTERFACE(Modifier.INTERFACE, false,\n+              Set.of(Location.CLASS, Location.INNER_CLASS)),\n@@ -176,1 +184,2 @@\n-    ABSTRACT(Modifier.ABSTRACT, true, Set.of(TYPE, METHOD)),\n+    ABSTRACT(Modifier.ABSTRACT, true,\n+             Set.of(Location.CLASS, Location.METHOD, Location.INNER_CLASS)),\n@@ -182,1 +191,1 @@\n-    STRICT(Modifier.STRICT, true, Set.of(METHOD, CONSTRUCTOR)),\n+    STRICT(Modifier.STRICT, true, Set.of(Location.METHOD)),\n@@ -191,1 +200,4 @@\n-              Set.of(TYPE, FIELD, METHOD, CONSTRUCTOR, ElementType.MODULE, PARAMETER)),\n+              Set.of(Location.CLASS, Location.FIELD, Location.METHOD,\n+                     Location.INNER_CLASS, Location.METHOD_PARAMETER,\n+                     Location.MODULE, Location.MODULE_REQUIRES,\n+                     Location.MODULE_EXPORTS, Location.MODULE_OPENS)),\n@@ -197,1 +209,2 @@\n-    ANNOTATION(0x0000_2000, false, Set.of(TYPE)),\n+    ANNOTATION(0x0000_2000, false,\n+               Set.of(Location.CLASS, Location.INNER_CLASS)),\n@@ -199,5 +212,6 @@\n-   \/**\n-    * The access flag {@code ACC_ENUM}.\n-    * @see Class#isEnum()\n-    *\/\n-    ENUM(0x0000_4000, false, Set.of(TYPE, FIELD)),\n+    \/**\n+     * The access flag {@code ACC_ENUM}.\n+     * @see Class#isEnum()\n+     *\/\n+    ENUM(0x0000_4000, false,\n+         Set.of(Location.CLASS, Location.FIELD, Location.INNER_CLASS)),\n@@ -208,1 +222,4 @@\n-    MANDATED(0x0000_8000, false, Set.of(ElementType.MODULE, PARAMETER)),\n+    MANDATED(0x0000_8000, false,\n+             Set.of(Location.METHOD_PARAMETER,\n+                    Location.MODULE, Location.MODULE_REQUIRES,\n+                    Location.MODULE_EXPORTS, Location.MODULE_OPENS)),\n@@ -213,1 +230,1 @@\n-    MODULE(0x0000_8000, false, Set.of(TYPE))\n+    MODULE(0x0000_8000, false, Set.of(Location.CLASS))\n@@ -226,1 +243,1 @@\n-    private Set<ElementType> targets;\n+    private Set<Location> locations;\n@@ -228,1 +245,1 @@\n-    private AccessFlag(Set<ElementType> targets) {\n+    private AccessFlag(Set<Location> locations) {\n@@ -231,1 +248,1 @@\n-        this.targets = targets;\n+        this.locations = locations;\n@@ -234,1 +251,1 @@\n-    private AccessFlag(int mask, boolean sourceModifier, Set<ElementType> targets) {\n+    private AccessFlag(int mask, boolean sourceModifier, Set<Location> locations) {\n@@ -237,1 +254,1 @@\n-        this.targets = targets;\n+        this.locations = locations;\n@@ -258,2 +275,2 @@\n-    public Set<ElementType> targets() {\n-        return targets;\n+    public Set<Location> locations() {\n+        return locations;\n@@ -261,0 +278,61 @@\n+\n+    \/**\n+     * A location within a class file where flags can be applied.\n+     * <em>Just stub-out constant descriptions for now<\/em>.\n+     *\/\n+    public enum Location {\n+        \/**\n+         * Class location.\n+         * @jvms 4.1 The ClassFile Structure\n+         *\/\n+        CLASS,\n+\n+        \/**\n+         * Field location.\n+         * @jvms 4.5 Fields\n+         *\/\n+        FIELD,\n+\n+        \/**\n+         * Method location.\n+         * @jvms 4.6 Method\n+         *\/\n+        METHOD,\n+\n+        \/**\n+         * Inner class location.\n+         * @jvms 4.7.6 The InnerClasses Attribute\n+         *\/\n+        INNER_CLASS,\n+\n+        \/**\n+         * Method parameter loccation.\n+         * @jvms 4.7.24. The MethodParameters Attribute\n+         *\/\n+        METHOD_PARAMETER,\n+\n+        \/**\n+         * Module location\n+         * @jvms 4.7.25. The Module Attribute\n+         *\/\n+        MODULE,\n+\n+        \/**\n+         * Module requires location\n+         * @jvms 4.7.25. The Module Attribute\n+         *\/\n+        MODULE_REQUIRES,\n+\n+        \/**\n+         * Module exports location\n+         * @jvms 4.7.25. The Module Attribute\n+         *\/\n+        MODULE_EXPORTS,\n+\n+        \/**\n+         * Module opens location\n+         * @jvms 4.7.25. The Module Attribute\n+         *\/\n+        MODULE_OPENS;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/AccessFlag.java","additions":112,"deletions":34,"binary":false,"changes":146,"status":"modified"}]}