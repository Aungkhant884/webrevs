{"files":[{"patch":"@@ -3483,1 +3483,3 @@\n-                nestedDescriptions[i] = makePatternDescription(types.erasure(componentTypes[i]), it.head);\n+                Type componentType = i < componentTypes.length ? componentTypes[i]\n+                                                               : syms.errType;\n+                nestedDescriptions[i] = makePatternDescription(types.erasure(componentType), it.head);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Flow.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,0 +2,2 @@\n+PatternErrorRecovery.java:17:19: compiler.err.feature.not.supported.in.source.plural: (compiler.misc.feature.deconstruction.patterns), 20, 21\n+PatternErrorRecovery.java:17:27: compiler.err.illegal.start.of.type\n@@ -3,1 +5,1 @@\n-2 errors\n+4 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/PatternErrorRecovery-old.out","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * @bug 8268320\n+ * @bug 8268320 8312984\n@@ -5,1 +5,1 @@\n- * @compile\/fail\/ref=PatternErrorRecovery.out -XDrawDiagnostics -XDshould-stop.at=FLOW PatternErrorRecovery.java\n+ * @compile\/fail\/ref=PatternErrorRecovery.out -XDrawDiagnostics -XDshould-stop.at=FLOW -XDdev PatternErrorRecovery.java\n@@ -15,0 +15,8 @@\n+    int errorRecoveryNoPattern2(Object o) {\n+        return switch(o) {\n+            case R(var v, ) -> 1;\n+            default -> -1;\n+        };\n+    }\n+\n+    record R(String x) {}\n","filename":"test\/langtools\/tools\/javac\/patterns\/PatternErrorRecovery.java","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -0,0 +1,1 @@\n+PatternErrorRecovery.java:17:27: compiler.err.illegal.start.of.type\n@@ -2,1 +3,2 @@\n-1 error\n+PatternErrorRecovery.java:17:18: compiler.err.incorrect.number.of.nested.patterns: java.lang.String, java.lang.String,<any>\n+3 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/PatternErrorRecovery.out","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}