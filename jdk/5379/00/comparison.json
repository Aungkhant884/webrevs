{"files":[{"patch":"@@ -638,4 +638,1 @@\n-    if (!os::is_MP()) {\n-      __ ldmia(src, RegisterSet(result_lo, result_hi));\n-      __ bx(LR);\n-    } else if (VM_Version::supports_ldrexd()) {\n+    if (VM_Version::supports_ldrexd()) {\n@@ -645,0 +642,5 @@\n+    } else if (!os::is_MP()) {\n+      \/\/ Last-ditch attempt: we are allegedly running on uni-processor.\n+      \/\/ Load the thing non-atomically and hope for the best.\n+      __ ldmia(src, RegisterSet(result_lo, result_hi));\n+      __ bx(LR);\n@@ -665,4 +667,1 @@\n-    if (!os::is_MP()) {\n-      __ stmia(dest, RegisterSet(newval_lo, newval_hi));\n-      __ bx(LR);\n-    } else if (VM_Version::supports_ldrexd()) {\n+    if (VM_Version::supports_ldrexd()) {\n@@ -677,0 +676,5 @@\n+    } else if (!os::is_MP()) {\n+      \/\/ Last-ditch attempt: we are allegedly running on uni-processor.\n+      \/\/ Store the thing non-atomically and hope for the best.\n+      __ stmia(dest, RegisterSet(newval_lo, newval_hi));\n+      __ bx(LR);\n","filename":"src\/hotspot\/cpu\/arm\/stubGenerator_arm.cpp","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"}]}