{"files":[{"patch":"@@ -1412,2 +1412,3 @@\n-            if (FilePane.usesShellFolder(fc)) {\n-                try {\n+            try {\n+                File linkedTo = null;\n+                if (FilePane.usesShellFolder(fc)) {\n@@ -1415,1 +1416,0 @@\n-\n@@ -1417,10 +1417,2 @@\n-                        File linkedTo = shellFolder.getLinkLocation();\n-\n-                        \/\/ If linkedTo is null we try to use dir\n-                        if (linkedTo != null) {\n-                            if (fc.isTraversable(linkedTo)) {\n-                                dir = linkedTo;\n-                            } else {\n-                                return;\n-                            }\n-                        } else {\n+                        linkedTo = shellFolder.getLinkLocation();\n+                        if (linkedTo == null) {\n@@ -1430,2 +1422,2 @@\n-                } catch (FileNotFoundException ex) {\n-                    return;\n+                } else if ( fc.getFileSystemView().isLink(dir)){\n+                    linkedTo = fc.getFileSystemView().getLinkLocation(dir);\n@@ -1433,10 +1425,5 @@\n-            } else if ( fc.getFileSystemView().isLink(dir)) {\n-                try {\n-                    File linkedTo = fc.getFileSystemView().getLinkLocation(dir);\n-\n-                    if (linkedTo != null) {\n-                        if (fc.isTraversable(linkedTo)) {\n-                            dir = linkedTo;\n-                        } else {\n-                            return;\n-                        }\n+                if (linkedTo != null) {\n+                    if (fc.isTraversable(linkedTo)) {\n+                        dir = linkedTo;\n+                    } else {\n+                        return;\n@@ -1444,2 +1431,0 @@\n-                } catch (FileNotFoundException ex) {\n-                    return;\n@@ -1447,0 +1432,2 @@\n+            } catch (FileNotFoundException ex) {\n+                return;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicFileChooserUI.java","additions":14,"deletions":27,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -128,6 +128,1 @@\n-        \/*\n-                @Override\n-                public Icon getSystemIcon(File f, int width, int height) {\n-                    return delegate.getSystemIcon(f, width, height);\n-                }\n-        *\/\n+\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/FileSystemView\/CustomFSVLinkTest.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"}]}