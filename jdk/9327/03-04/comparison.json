{"files":[{"patch":"@@ -80,1 +80,5 @@\n-FileChooser.fileSizeBytes={0} B\n+FileChooser.fileSizeZeroByte = {0} bytes\n+FileChooser.fileSizeOneByte = {0} byte\n+FileChooser.fileSizeMultipleByte = {0} bytes\n+FileChooser.fileSizePattern = {0}\n+\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/swing\/internal\/plaf\/basic\/resources\/basic.properties","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -60,0 +60,3 @@\n+import java.text.ChoiceFormat;\n+import java.text.Format;\n+import java.text.NumberFormat;\n@@ -174,1 +177,6 @@\n-    private String byteString;\n+    private MessageFormat messageForm = new MessageFormat(\"\");\n+    private double[] fileSizeLimits = {0,1,2};\n+    private ChoiceFormat choiceForm;\n+    private String fileSizePattern;\n+    private Long[] messageArguments = {null};\n+\n@@ -532,1 +540,19 @@\n-        byteString = UIManager.getString(\"FileChooser.fileSizeBytes\", l);\n+        String [] fileSizeStrings = {\n+            UIManager.getString(\"FileChooser.fileSizeZeroByte\", l),\n+            UIManager.getString(\"FileChooser.fileSizeOneByte\", l),\n+            UIManager.getString(\"FileChooser.fileSizeMultipleByte\", l)\n+        };\n+\n+        choiceForm = new ChoiceFormat(fileSizeLimits, fileSizeStrings);\n+\n+        Format[] formats = {\n+                choiceForm,\n+                null,\n+                NumberFormat.getInstance()\n+        };\n+\n+        fileSizePattern  = UIManager.getString(\"FileChooser.fileSizePattern\",l);\n+        messageForm.setLocale(l);\n+        messageForm.applyPattern(fileSizePattern);\n+        messageForm.setFormats(formats);\n+\n@@ -537,1 +563,0 @@\n-\n@@ -1197,1 +1222,2 @@\n-                        text = MessageFormat.format(byteString, len);\n+                        messageArguments[0] = len;\n+                        text = messageForm.format(messageArguments);\n@@ -1203,1 +1229,3 @@\n-                    text = MessageFormat.format(byteString, len);\n+                    messageArguments[0] = len;\n+                    text = messageForm.format(messageArguments);\n+\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/FilePane.java","additions":33,"deletions":5,"binary":false,"changes":38,"status":"modified"}]}