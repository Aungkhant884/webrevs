{"files":[{"patch":"@@ -80,0 +80,1 @@\n+FileChooser.fileSizeBytes={0} bytes\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/swing\/internal\/plaf\/basic\/resources\/basic.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -174,0 +174,1 @@\n+    private String byteString;\n@@ -531,0 +532,1 @@\n+        byteString      = UIManager.getString(\"FileChooser.fileSizeBytes\", l);\n@@ -1198,1 +1200,1 @@\n-                    text = (len == 0L) ? 0 + \" bytes\" : len + \" bytes\";\n+                    text = MessageFormat.format(byteString, len);\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/FilePane.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,2 +46,2 @@\n-    private static final String text =\n-            \"Click the \\\"Details\\\" button in right-top corner.\\n\\nScroll Down if required. \\n\\nIf the size of TEST-EMPTY-FILE shows Zero bytes in \\nDetails view,\" +\n+    private static final String INSTRUCTIONS =\n+            \"Click on the \\\"Details\\\" button in right-top corner.\\n\\nScroll Down if required. \\n\\nIf the size of TEST-EMPTY-FILE shows Zero bytes in \\nDetails view,\" +\n@@ -50,15 +50,8 @@\n-    public static void createAndShowGUI() throws InterruptedException,\n-            InvocationTargetException {\n-        SwingUtilities.invokeAndWait(() -> {\n-            frame = new JFrame(\"JFileChooser\");\n-            JFileChooser fc = new JFileChooser();\n-            try {\n-                Path currentDir = Paths.get(System.getProperty(\"java.io.tmpdir\"));\n-                \/\/ create empty file\n-                Path emptyFile = currentDir.resolve(\"TEST-EMPTY-FILE.txt\");\n-                if (!Files.exists(emptyFile)) {\n-                    Files.createFile(emptyFile);\n-                }\n-                fc.setCurrentDirectory(currentDir.toFile());\n-            }catch (IOException ex) {\n-                throw new RuntimeException(ex);\n+    public static void test() {\n+        JFileChooser fc = new JFileChooser();\n+        try {\n+            Path currentDir = Paths.get(System.getProperty(\"test.src\"));\n+            \/\/ create empty file\n+            Path emptyFile = currentDir.resolve(\"TEST-EMPTY-FILE.txt\");\n+            if (!Files.exists(emptyFile)) {\n+                Files.createFile(emptyFile);\n@@ -66,4 +59,6 @@\n-            frame.getContentPane().add(fc);\n-            frame.setSize(400, 400);\n-            frame.setLocationRelativeTo(null);\n-            frame.setVisible(true);\n+            fc.setCurrentDirectory(currentDir.toFile());\n+        }catch (IOException ex) {\n+            throw new RuntimeException(ex);\n+        }\n+        fc.showOpenDialog(null);\n+    }\n@@ -71,3 +66,8 @@\n-            PassFailJFrame.addTestFrame(frame);\n-            PassFailJFrame.positionTestFrame(frame,\n-                    PassFailJFrame.Position.HORIZONTAL);\n+    public static void main(String args[]) throws Exception {\n+        PassFailJFrame passFailJFrame = new PassFailJFrame(\"JFileChooser Test Instructions\" ,\n+                INSTRUCTIONS, 5, 19, 35);\n+        SwingUtilities.invokeAndWait(() -> {\n+            frame = new JFrame();\n+            PassFailJFrame.addTestWindow(frame);\n+            PassFailJFrame.positionTestWindow(frame, PassFailJFrame.Position.HORIZONTAL);\n+            test();\n@@ -75,1 +75,0 @@\n-    }\n@@ -77,5 +76,0 @@\n-    public static void main(String[] args) throws InterruptedException,\n-            InvocationTargetException {\n-        PassFailJFrame passFailJFrame = new PassFailJFrame(\"JFileChooser \" +\n-                \"Test Instructions\", text, 5, 19, 35);\n-        createAndShowGUI();\n@@ -84,1 +78,1 @@\n-}\n+}\n\\ No newline at end of file\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/ZeroFileSizeCheck.java","additions":26,"deletions":32,"binary":false,"changes":58,"status":"modified"}]}