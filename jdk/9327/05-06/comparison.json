{"files":[{"patch":"@@ -60,3 +60,1 @@\n-import java.text.ChoiceFormat;\n-import java.text.Format;\n-import java.text.NumberFormat;\n+import java.text.DecimalFormat;\n@@ -1199,1 +1197,1 @@\n-                        len \/= 1024L;\n+                        len \/= 1000L;\n@@ -1202,1 +1200,1 @@\n-                } else if (len < 1024L) {\n+                } else if (len < 1000L) {\n@@ -1205,3 +1203,4 @@\n-                    len \/= 1024L;\n-                    if (len < 1024L) {\n-                        text = MessageFormat.format(kiloByteString, len);\n+                    double kbVal = formatToDoubleValue(len);\n+                    len = (long)kbVal;\n+                    if (kbVal < 1000.0) {\n+                        text = MessageFormat.format(kiloByteString, kbVal);\n@@ -1209,3 +1208,4 @@\n-                        len \/= 1024L;\n-                        if (len < 1024L) {\n-                            text = MessageFormat.format(megaByteString, len);\n+                        double mbVal = formatToDoubleValue(len);\n+                        len = (long)mbVal;\n+                        if (mbVal < 1000.0) {\n+                            text = MessageFormat.format(megaByteString, mbVal);\n@@ -1213,2 +1213,2 @@\n-                            len \/= 1024L;\n-                            text = MessageFormat.format(gigaByteString, len);\n+                            double gbVal = formatToDoubleValue(len);\n+                            text = MessageFormat.format(gigaByteString, gbVal);\n@@ -1232,0 +1232,6 @@\n+    public double formatToDoubleValue(long len) {\n+        DecimalFormat df = new DecimalFormat(\"0.0\");\n+        double val = len\/1000.0;\n+        return  Double.valueOf(df.format(val));\n+    }\n+\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/FilePane.java","additions":19,"deletions":13,"binary":false,"changes":32,"status":"modified"}]}