{"files":[{"patch":"@@ -76,0 +76,2 @@\n+    private static final Object lock = new Object();\n+\n@@ -81,1 +83,12 @@\n-        return cache.computeIfAbsent(name, k -> findClass(k) );\n+        Class<?> cls = cache.get(name);\n+        if (cls != null) {\n+            return cls;\n+        }\n+        synchronized (lock) {\n+            cls = cache.get(name);\n+            if (cls == null) {\n+                cls = findClass(name);\n+                cache.put(name, cls);\n+            }\n+        }\n+        return cls;\n@@ -85,1 +98,1 @@\n-    protected Class<?> findClass(String name)  {\n+    protected Class<?> findClass(String name) throws ClassNotFoundException {\n@@ -88,1 +101,1 @@\n-            throw new AssertionError(name);\n+            throw new ClassNotFoundException(name);\n","filename":"test\/lib\/jdk\/test\/lib\/ByteCodeLoader.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}