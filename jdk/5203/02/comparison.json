{"files":[{"patch":"@@ -75,1 +75,1 @@\n-  _lock(Mutex::nonleaf+1, \"JvmtiTagMap_lock\", Mutex::_safepoint_check_never),\n+  _lock(Mutex::leaf, \"JvmtiTagMap_lock\", Mutex::_safepoint_check_never),\n","filename":"src\/hotspot\/share\/prims\/jvmtiTagMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -288,0 +288,3 @@\n+  assert(_rank < nonleaf || _safepoint_check_required == _safepoint_check_always,\n+         \"higher than nonleaf should safepoint %s\", name);\n+\n","filename":"src\/hotspot\/share\/runtime\/mutex.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -102,4 +102,0 @@\n-Mutex*   Debug1_lock                  = NULL;\n-Mutex*   Debug2_lock                  = NULL;\n-Mutex*   Debug3_lock                  = NULL;\n-\n@@ -131,1 +127,0 @@\n-Mutex*   JfrStream_lock               = NULL;\n@@ -267,1 +262,0 @@\n-  def(Debug1_lock                  , PaddedMutex  , leaf,        true,  _safepoint_check_never);\n@@ -276,1 +270,1 @@\n-  def(NonJavaThreadsList_lock      , PaddedMutex,   barrier,     true,  _safepoint_check_never);\n+  def(NonJavaThreadsList_lock      , PaddedMutex,   leaf+1,      true,  _safepoint_check_never);\n@@ -283,1 +277,1 @@\n-  def(VtableStubs_lock             , PaddedMutex  , nonleaf,     true,  _safepoint_check_never);\n+  def(VtableStubs_lock             , PaddedMutex  , leaf,        true,  _safepoint_check_never);\n@@ -291,1 +285,1 @@\n-  def(CompiledIC_lock              , PaddedMutex  , nonleaf+2,   true,  _safepoint_check_never);      \/\/ locks VtableStubs_lock, InlineCacheBuffer_lock\n+  def(CompiledIC_lock              , PaddedMutex  , leaf+2,      true,  _safepoint_check_never);      \/\/ locks VtableStubs_lock, InlineCacheBuffer_lock\n@@ -307,2 +301,0 @@\n-  def(Debug2_lock                  , PaddedMutex  , nonleaf+4,   true,  _safepoint_check_never);\n-  def(Debug3_lock                  , PaddedMutex  , nonleaf+4,   true,  _safepoint_check_never);\n@@ -322,1 +314,0 @@\n-  def(JfrStream_lock               , PaddedMutex  , nonleaf + 1, true, _safepoint_check_never);\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.cpp","additions":3,"deletions":12,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -96,3 +96,0 @@\n-extern Mutex*   Debug1_lock;                     \/\/ A bunch of pre-allocated locks that can be used for tracing\n-extern Mutex*   Debug2_lock;                     \/\/ down synchronization related bugs!\n-extern Mutex*   Debug3_lock;\n@@ -140,1 +137,0 @@\n-extern Mutex*   JfrStream_lock;                  \/\/ protects JFR stream access\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}