{"files":[{"patch":"@@ -75,1 +75,1 @@\n-  _lock(Mutex::nonleaf+1, \"JvmtiTagMap_lock\", Mutex::_allow_vm_block_flag,\n+  _lock(Mutex::leaf, \"JvmtiTagMap_lock\", Mutex::_allow_vm_block_flag,\n","filename":"src\/hotspot\/share\/prims\/jvmtiTagMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -288,0 +288,4 @@\n+  assert(_rank < nonleaf || _safepoint_check_required == _safepoint_check_always ||\n+         \/*for now*\/ _rank == Mutex::native,\n+         \"higher than nonleaf should safepoint %s\", name);\n+\n","filename":"src\/hotspot\/share\/runtime\/mutex.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -103,4 +103,0 @@\n-Mutex*   Debug1_lock                  = NULL;\n-Mutex*   Debug2_lock                  = NULL;\n-Mutex*   Debug3_lock                  = NULL;\n-\n@@ -270,1 +266,0 @@\n-  def(Debug1_lock                  , PaddedMutex  , leaf,        true,  _safepoint_check_never);\n@@ -279,1 +274,1 @@\n-  def(NonJavaThreadsList_lock      , PaddedMutex,   barrier,     true,  _safepoint_check_never);\n+  def(NonJavaThreadsList_lock      , PaddedMutex,   leaf+1,      true,  _safepoint_check_never);\n@@ -286,1 +281,1 @@\n-  def(VtableStubs_lock             , PaddedMutex  , nonleaf,     true,  _safepoint_check_never);\n+  def(VtableStubs_lock             , PaddedMutex  , leaf,        true,  _safepoint_check_never);\n@@ -294,1 +289,1 @@\n-  def(CompiledIC_lock              , PaddedMutex  , nonleaf+2,   false, _safepoint_check_never);      \/\/ locks VtableStubs_lock, InlineCacheBuffer_lock\n+  def(CompiledIC_lock              , PaddedMutex  , leaf+2,      false, _safepoint_check_never);      \/\/ locks VtableStubs_lock, InlineCacheBuffer_lock\n@@ -310,2 +305,0 @@\n-  def(Debug2_lock                  , PaddedMutex  , nonleaf+4,   true,  _safepoint_check_never);\n-  def(Debug3_lock                  , PaddedMutex  , nonleaf+4,   true,  _safepoint_check_never);\n@@ -325,1 +318,1 @@\n-  def(JfrStream_lock               , PaddedMutex  , nonleaf + 1, false, _safepoint_check_never);\n+  def(JfrStream_lock               , PaddedMutex  , leaf+1,      false, _safepoint_check_never);\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.cpp","additions":4,"deletions":11,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -99,3 +99,0 @@\n-extern Mutex*   Debug1_lock;                     \/\/ A bunch of pre-allocated locks that can be used for tracing\n-extern Mutex*   Debug2_lock;                     \/\/ down synchronization related bugs!\n-extern Mutex*   Debug3_lock;\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}