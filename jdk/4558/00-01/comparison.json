{"files":[{"patch":"@@ -32,1 +32,2 @@\n- * @requires vm.compMode==\"Xmixed\" &\n+ * @requires vm.compMode == \"Xmixed\" &\n+ *           vm.compiler2.enabled &\n@@ -113,3 +114,2 @@\n-        int optimizationLevel = CompilerWhiteBoxTest.COMP_LEVEL_FULL_OPTIMIZATION;\n-        if (!wb.isC2OrJVMCIIncluded()) {\n-            optimizationLevel = CompilerWhiteBoxTest.COMP_LEVEL_SIMPLE;\n+        if (!wb.enqueueMethodForCompilation(cons, CompilerWhiteBoxTest.COMP_LEVEL_FULL_OPTIMIZATION)) {\n+            throw new RuntimeException(\"Failed to queue constructor for compilation\");\n@@ -117,2 +117,1 @@\n-        wb.enqueueMethodForCompilation(cons,  optimizationLevel);\n-        for (int i = 0; i < 300 && !wb.isMethodCompiled(cons); ++i) {\n+        while (!wb.isMethodCompiled(cons)) {\n@@ -121,3 +120,0 @@\n-        if (!wb.isMethodCompiled(cons)) {\n-            throw new RuntimeException(\"Timeout\");\n-        }\n","filename":"test\/hotspot\/jtreg\/runtime\/Nestmates\/protectionDomain\/TestDifferentProtectionDomains.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"}]}