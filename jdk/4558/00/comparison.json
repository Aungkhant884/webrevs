{"files":[{"patch":"@@ -113,2 +113,6 @@\n-        wb.enqueueMethodForCompilation(cons,  CompilerWhiteBoxTest.COMP_LEVEL_FULL_OPTIMIZATION);\n-        while (!wb.isMethodCompiled(cons)) {\n+        int optimizationLevel = CompilerWhiteBoxTest.COMP_LEVEL_FULL_OPTIMIZATION;\n+        if (!wb.isC2OrJVMCIIncluded()) {\n+            optimizationLevel = CompilerWhiteBoxTest.COMP_LEVEL_SIMPLE;\n+        }\n+        wb.enqueueMethodForCompilation(cons,  optimizationLevel);\n+        for (int i = 0; i < 300 && !wb.isMethodCompiled(cons); ++i) {\n@@ -117,0 +121,3 @@\n+        if (!wb.isMethodCompiled(cons)) {\n+            throw new RuntimeException(\"Timeout\");\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/Nestmates\/protectionDomain\/TestDifferentProtectionDomains.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"}]}