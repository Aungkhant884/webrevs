{"files":[{"patch":"@@ -405,1 +405,1 @@\n-        if (!P11Util.trySessionCancel(token, session,\n+        if (P11Util.trySessionCancel(token, session,\n@@ -407,1 +407,1 @@\n-            tryFinishingOff();\n+            return;\n@@ -409,1 +409,0 @@\n-    }\n@@ -411,3 +410,2 @@\n-    \/\/ only used by cancelOperation(); cancel by finishing operations\n-    \/\/ avoid killSession as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11AEADCipher.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -449,1 +449,1 @@\n-        if (!P11Util.trySessionCancel(token, session,\n+        if (P11Util.trySessionCancel(token, session,\n@@ -451,1 +451,1 @@\n-            tryFinishingOff();\n+            return;\n@@ -453,1 +453,0 @@\n-    }\n@@ -455,3 +454,2 @@\n-    \/\/ only used by cancelOperation(); cancel by finishing operations\n-    \/\/ avoid killSession as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession as\n+        \/\/ some hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Cipher.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -290,1 +290,1 @@\n-        if (!P11Util.trySessionCancel(token, session,\n+        if (P11Util.trySessionCancel(token, session,\n@@ -292,1 +292,1 @@\n-            tryFinishingOff();\n+            return;\n@@ -294,1 +294,0 @@\n-    }\n@@ -296,3 +295,2 @@\n-    \/\/ only used by cancelOperation(); cancel by finishing operations\n-    \/\/ avoid killSession as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11KeyWrapCipher.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -151,2 +151,2 @@\n-        if (!P11Util.trySessionCancel(token, session, CKF_SIGN)) {\n-            tryFinishingOff();\n+        if (P11Util.trySessionCancel(token, session, CKF_SIGN)) {\n+            return;\n@@ -154,1 +154,0 @@\n-    }\n@@ -156,3 +155,2 @@\n-    \/\/ only used by cancelOperation(); cancel by finishing operations\n-    \/\/ avoid killSession as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Mac.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -275,1 +275,1 @@\n-        if (!P11Util.trySessionCancel(token, session,\n+        if (P11Util.trySessionCancel(token, session,\n@@ -277,2 +277,0 @@\n-            tryFinishingOff();\n-        } else {\n@@ -280,0 +278,1 @@\n+            return;\n@@ -281,1 +280,0 @@\n-    }\n@@ -283,3 +281,2 @@\n-    \/\/ only used by cancelOperation; cancel by finishing operations\n-    \/\/ avoid killSession call as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession call as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11PSSSignature.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -280,2 +280,2 @@\n-        if (!P11Util.trySessionCancel(token, session, flags)) {\n-            tryFinishingOff();\n+        if (P11Util.trySessionCancel(token, session, flags)) {\n+            return;\n@@ -283,1 +283,0 @@\n-    }\n@@ -285,3 +284,2 @@\n-    \/\/ only used by cancelOperation(); cancel by finishing operations\n-    \/\/ avoid killSession as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11RSACipher.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -284,1 +284,1 @@\n-        if (!P11Util.trySessionCancel(token, session,\n+        if (P11Util.trySessionCancel(token, session,\n@@ -286,1 +286,1 @@\n-            tryFinishingOff();\n+            return;\n@@ -288,1 +288,0 @@\n-    }\n@@ -290,3 +289,2 @@\n-    \/\/ only used by cancelOperation; cancel by finishing operations\n-    \/\/ avoid killSession call as some hardware vendors may require re-login\n-    private void tryFinishingOff() {\n+        \/\/ cancel by finishing operations; avoid killSession call as some\n+        \/\/ hardware vendors may require re-login\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Signature.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"}]}