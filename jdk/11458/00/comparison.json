{"files":[{"patch":"@@ -55,1 +55,1 @@\n-    m4_foreach(arg, m4_split(m4_normalize($2)), [\n+    m4_foreach([arg], m4_split(m4_normalize($2)), [\n@@ -67,3 +67,7 @@\n-    m4_foreach([arg], [$3], [\n-      m4_if(m4_bregexp(arg, [: ]), -1, m4_define([arg], m4_bpatsubst(arg, [:], [: ])))\n-      m4_define(arg_name, m4_substr(arg, 0, m4_bregexp(arg, [: ])))\n+    # WARNING: Underneath this comment, you will find actual demons in the foreach block below waiting to rip your very soul out and destroy everything you hold dear\n+    # Proceed at the risk of your own sanity, and don't say I didn't warn you when you inevitably suffer the same torment that I went through should you decide\n+    # that you need to dive into it to fix anything\n+    # ~Julian\n+    m4_foreach([arg], m4_dquote(m4_dquote_elt($3)), [\n+      m4_if(m4_index(arg, [: ]), -1, [m4_define([arg], m4_dquote(m4_bpatsubst(m4_dquote(arg), [:], [: ])))])\n+      m4_define(arg_name, m4_substr(arg, 0, m4_index(arg, [: ])))\n@@ -73,1 +77,3 @@\n-      m4_pushdef([ARG_][]arg_name, m4_bpatsubst(m4_substr(arg, m4_incr(m4_incr(m4_bregexp(arg, [: ])))), [^\\s*], []))\n+      m4_if(m4_bregexp(m4_bpatsubst(m4_dquote(arg), arg_name[: ]), [^ARG_\\w*$]), -1, [m4_define([arg], m4_dquote(m4_dquote(arg)))])\n+      m4_pushdef([ARG_][]arg_name, m4_bpatsubst(m4_bpatsubst(m4_dquote(arg), arg_name[: ]), [^\\s*]))\n+      m4_dumpdef([ARG_][]arg_name)\n@@ -379,1 +385,1 @@\n-  m4_define([ARG_DESC], m4_if(ARG_DESC, , [Enable the ARG_NAME feature], m4_normalize(ARG_DESC)))\n+  m4_define([ARG_DESC], m4_if(m4_quote(ARG_DESC), , [[Enable the ARG_NAME feature]], [m4_quote(m4_normalize(m4_quote(ARG_DESC)))]))\n@@ -382,1 +388,1 @@\n-  m4_define([ARG_CHECKING_MSG], m4_if(ARG_CHECKING_MSG, , [for --enable-ARG_NAME], m4_normalize(ARG_CHECKING_MSG)))\n+  m4_define([ARG_CHECKING_MSG], m4_if(m4_quote(ARG_CHECKING_MSG), , [[for --enable-ARG_NAME]], [m4_quote(m4_normalize(m4_quote(ARG_CHECKING_MSG)))]))\n@@ -386,5 +392,5 @@\n-  m4_define([ARG_CHECK_AVAILABLE], m4_if(ARG_CHECK_AVAILABLE, , :, ARG_CHECK_AVAILABLE))\n-  m4_define([ARG_IF_GIVEN], m4_if(ARG_IF_GIVEN, , :, ARG_IF_GIVEN))\n-  m4_define([ARG_IF_NOT_GIVEN], m4_if(ARG_IF_NOT_GIVEN, , :, ARG_IF_NOT_GIVEN))\n-  m4_define([ARG_IF_ENABLED], m4_if(ARG_IF_ENABLED, , :, ARG_IF_ENABLED))\n-  m4_define([ARG_IF_DISABLED], m4_if(ARG_IF_DISABLED, , :, ARG_IF_DISABLED))\n+  m4_if(ARG_CHECK_AVAILABLE, , [m4_define([ARG_CHECK_AVAILABLE], [:])])\n+  m4_if(ARG_IF_GIVEN, , [m4_define([ARG_IF_GIVEN], [:])])\n+  m4_if(ARG_IF_NOT_GIVEN, , [m4_define([ARG_IF_NOT_GIVEN], [:])])\n+  m4_if(ARG_IF_ENABLED, , [m4_define([ARG_IF_ENABLED], [:])])\n+  m4_if(ARG_IF_DISABLED, , [m4_define([ARG_IF_DISABLED], [:])])\n@@ -653,1 +659,1 @@\n-  m4_define([ARG_DESC], m4_if(ARG_DESC, , [Give a value for the ARG_NAME feature], m4_normalize(ARG_DESC)))\n+  m4_define([ARG_DESC], m4_if(m4_quote(ARG_DESC), , [[Give a value for the ARG_NAME feature]], [m4_quote(m4_normalize(m4_quote(ARG_DESC)))]))\n@@ -656,1 +662,1 @@\n-  m4_define([ARG_CHECKING_MSG], m4_if(ARG_CHECKING_MSG, , [for --with-ARG_NAME], m4_normalize(ARG_CHECKING_MSG)))\n+  m4_define([ARG_CHECKING_MSG], m4_if(m4_quote(ARG_CHECKING_MSG), , [[for --with-ARG_NAME]], [m4_quote(m4_normalize(m4_quote(ARG_CHECKING_MSG)))]))\n@@ -662,6 +668,6 @@\n-  m4_define([ARG_CHECK_AVAILABLE], m4_if(ARG_CHECK_AVAILABLE, , :, ARG_CHECK_AVAILABLE))\n-  m4_define([ARG_CHECK_VALUE], m4_if(ARG_CHECK_VALUE, , :, ARG_CHECK_VALUE))\n-  m4_define([ARG_CHECK_FOR_FILES], m4_if(ARG_CHECK_FOR_FILES, , :, ARG_CHECK_FOR_FILES))\n-  m4_define([ARG_IF_AUTO], m4_if(ARG_IF_AUTO, , :, ARG_IF_AUTO))\n-  m4_define([ARG_IF_GIVEN], m4_if(ARG_IF_GIVEN, , :, ARG_IF_GIVEN))\n-  m4_define([ARG_IF_NOT_GIVEN], m4_if(ARG_IF_NOT_GIVEN, , :, ARG_IF_NOT_GIVEN))\n+  m4_if(ARG_CHECK_AVAILABLE, , [m4_define([ARG_CHECK_AVAILABLE], [:])])\n+  m4_if(ARG_CHECK_VALUE, , [m4_define([ARG_CHECK_VALUE], [:])])\n+  m4_if(ARG_CHECK_FOR_FILES, , [m4_define([ARG_CHECK_FOR_FILES], [:])])\n+  m4_if(ARG_IF_AUTO, , [m4_define([ARG_IF_AUTO], [:])])\n+  m4_if(ARG_IF_GIVEN, , [m4_define([ARG_IF_GIVEN], [:])])\n+  m4_if(ARG_IF_NOT_GIVEN, , [m4_define([ARG_IF_NOT_GIVEN], [:])])\n","filename":"make\/autoconf\/util.m4","additions":26,"deletions":20,"binary":false,"changes":46,"status":"modified"}]}