{"files":[{"patch":"@@ -206,1 +206,1 @@\n-    if (FLAG_IS_DEFAULT(OnSpinWaitInst) && FLAG_IS_DEFAULT(OnSpinWaitInstCount)) {\n+    if (FLAG_IS_DEFAULT(OnSpinWaitInst)) {\n@@ -208,0 +208,3 @@\n+    }\n+\n+    if (FLAG_IS_DEFAULT(OnSpinWaitInstCount)) {\n","filename":"src\/hotspot\/cpu\/aarch64\/vm_version_aarch64.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -52,2 +52,1 @@\n-    private static void checkFlagsDefaultsEqualTo(String expectedOnSpinWaitInstValue, String expectedOnSpinWaitInstCountValue) throws Exception {\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:+PrintFlagsFinal\", \"-version\");\n+    private static void checkFinalFlagsEqualTo(ProcessBuilder pb, String expectedOnSpinWaitInstValue, String expectedOnSpinWaitInstCountValue) throws Exception {\n@@ -91,1 +90,3 @@\n-            checkFlagsDefaultsEqualTo(\"isb\", \"1\");\n+            checkFinalFlagsEqualTo(ProcessTools.createJavaProcessBuilder(\"-XX:+PrintFlagsFinal\", \"-version\"), \"isb\", \"1\");\n+            checkFinalFlagsEqualTo(ProcessTools.createJavaProcessBuilder(\"-XX:+UnlockDiagnosticVMOptions\", \"-XX:OnSpinWaitInstCount=2\", \"-XX:+PrintFlagsFinal\", \"-version\"),\n+                \"isb\", \"2\");\n","filename":"test\/hotspot\/jtreg\/compiler\/onSpinWait\/TestOnSpinWaitAArch64DefaultFlags.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}