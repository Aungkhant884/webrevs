{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -432,1 +432,1 @@\n-      map->disconnect_inputs(NULL, C);\n+      map->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/callGenerator.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2774,1 +2774,1 @@\n-        mem->disconnect_inputs(NULL, this);\n+        mem->disconnect_inputs(this);\n@@ -3056,1 +3056,1 @@\n-            addp->disconnect_inputs(NULL, this);\n+            addp->disconnect_inputs(this);\n@@ -3129,1 +3129,1 @@\n-        in1->disconnect_inputs(NULL, this);\n+        in1->disconnect_inputs(this);\n@@ -3134,1 +3134,1 @@\n-        n->disconnect_inputs(NULL, this);\n+        n->disconnect_inputs(this);\n@@ -3212,1 +3212,1 @@\n-          in1->disconnect_inputs(NULL, this);\n+          in1->disconnect_inputs(this);\n@@ -3215,1 +3215,1 @@\n-          in2->disconnect_inputs(NULL, this);\n+          in2->disconnect_inputs(this);\n@@ -3246,1 +3246,1 @@\n-      in1->disconnect_inputs(NULL, this);\n+      in1->disconnect_inputs(this);\n@@ -3412,1 +3412,1 @@\n-        in2->disconnect_inputs(NULL, this);\n+        in2->disconnect_inputs(this);\n@@ -3444,1 +3444,1 @@\n-          m->disconnect_inputs(NULL, this);\n+          m->disconnect_inputs(this);\n@@ -3587,1 +3587,1 @@\n-          in->disconnect_inputs(NULL, this);\n+          in->disconnect_inputs(this);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -166,1 +166,1 @@\n-    dead_map->disconnect_inputs(NULL, C); \/\/ Mark the map as killed.\n+    dead_map->disconnect_inputs(C); \/\/ Mark the map as killed.\n@@ -1963,1 +1963,1 @@\n-  call->disconnect_inputs(NULL, C);\n+  call->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/graphKit.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -619,1 +619,1 @@\n-    n->disconnect_inputs(NULL, C);\n+    n->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/ifg.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -452,1 +452,1 @@\n-      in->disconnect_inputs(NULL, C);\n+      in->disconnect_inputs(C);\n@@ -1372,1 +1372,1 @@\n-    block->get_node(beg)->disconnect_inputs(NULL, C);\n+    block->get_node(beg)->disconnect_inputs(C);\n@@ -1385,1 +1385,1 @@\n-        n->disconnect_inputs(NULL, C);\n+        n->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/lcm.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -2463,1 +2463,1 @@\n-  _fallthroughproj->disconnect_inputs(NULL, C);\n+  _fallthroughproj->disconnect_inputs(C);\n@@ -2531,1 +2531,1 @@\n-  _fallthroughproj->disconnect_inputs(NULL, C);\n+  _fallthroughproj->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/macro.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -897,9 +897,12 @@\n-\/\/ Return the number of edges between 'n' and 'this'\n-int Node::disconnect_inputs(Node *n, Compile* C) {\n-  int edges_to_n = 0;\n-\n-  uint cnt = req();\n-  for( uint i = 0; i < cnt; ++i ) {\n-    if( in(i) == 0 ) continue;\n-    if( in(i) == n ) ++edges_to_n;\n-    set_req(i, NULL);\n+void Node::disconnect_inputs(Compile* C) {\n+  \/\/ r: a required input, null is allowed\n+  \/\/ p: a precedence, null values are all at the end\n+  \/\/ |r|...|r|p|...|p|null|...|null|\n+  \/\/         |                     |\n+  \/\/         req()                 len()\n+  \/\/ -----------------------------------\n+  uint i = 0;\n+\n+  for (; i < req(); ++i) {\n+    if(in(i) == nullptr) continue;\n+    set_req(i, nullptr);\n@@ -907,0 +910,1 @@\n+\n@@ -909,7 +913,3 @@\n-  if( (req() != len()) && (in(req()) != NULL) ) {\n-    uint max = len();\n-    for( uint i = 0; i < max; ++i ) {\n-      if( in(i) == 0 ) continue;\n-      if( in(i) == n ) ++edges_to_n;\n-      set_prec(i, NULL);\n-    }\n+  \/\/ Precedences have no embedded NULL\n+  for (; i < len() && in(i) != nullptr; ++i) {\n+    set_prec(i, nullptr);\n@@ -920,4 +920,1 @@\n-  if (edges_to_n == 0) {\n-    C->record_dead_node(_idx);\n-  }\n-  return edges_to_n;\n+  C->record_dead_node(_idx);\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":17,"deletions":20,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -449,2 +449,1 @@\n-  \/\/ Return the number of edges between 'n' and 'this'\n-  int  disconnect_inputs(Node *n, Compile *c);\n+  void disconnect_inputs(Compile* C);\n@@ -520,1 +519,1 @@\n-    disconnect_inputs(NULL, c);\n+    disconnect_inputs(c);\n","filename":"src\/hotspot\/share\/opto\/node.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-    old->disconnect_inputs(NULL, C);\n+    old->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/postaloc.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -788,1 +788,1 @@\n-              n->disconnect_inputs(NULL, C);\n+              n->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/reg_split.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -252,1 +252,1 @@\n-      uct->disconnect_inputs(NULL, C);\n+      uct->disconnect_inputs(C);\n@@ -258,1 +258,1 @@\n-    _arguments->disconnect_inputs(NULL, _stringopts->C);\n+    _arguments->disconnect_inputs(_stringopts->C);\n@@ -376,1 +376,1 @@\n-  init->disconnect_inputs(NULL, C);\n+  init->disconnect_inputs(C);\n@@ -1984,1 +1984,1 @@\n-  string_sizes->disconnect_inputs(NULL, C);\n+  string_sizes->disconnect_inputs(C);\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}