{"files":[{"patch":"@@ -802,5 +802,8 @@\n-  if (ext_suspended && ((state & JVMTI_THREAD_STATE_ALIVE) != 0)) {\n-    state |= JVMTI_THREAD_STATE_SUSPENDED;\n-  }\n-  if (interrupted) {\n-    state |= JVMTI_THREAD_STATE_INTERRUPTED;\n+  \/\/ Ensure the thread has not exited after retrieving suspended\/interrupted values.\n+  if ((state & JVMTI_THREAD_STATE_ALIVE) != 0) {\n+    if (ext_suspended) {\n+      state |= JVMTI_THREAD_STATE_SUSPENDED;\n+    }\n+    if (interrupted) {\n+      state |= JVMTI_THREAD_STATE_INTERRUPTED;\n+    }\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}