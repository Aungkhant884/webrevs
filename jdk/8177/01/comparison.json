{"files":[{"patch":"@@ -359,1 +359,8 @@\n-      $1_FLAGS := $(BASIC_ASFLAGS) $$($1_BASE_ASFLAGS)\n+      # If no absolute paths allowed, work out relative source file path\n+      # for assembly .file substitution, otherwise use full file path\n+      ifeq ($(ALLOW_ABSOLUTE_PATHS_IN_OUTPUT), false)\n+        $1_REL_ASM_SRC := $$(call RelativePath, $$($1_FILE), $(WORKSPACE_ROOT))\n+      else\n+        $1_REL_ASM_SRC := $$($1_FILE)\n+      endif\n+      $1_FLAGS := $(BASIC_ASFLAGS) $$($1_BASE_ASFLAGS) -DASSEMBLY_SRC_FILE='\"$$($1_REL_ASM_SRC)\"'\n@@ -1152,13 +1159,0 @@\n-    # Debuginfo of ASM objects always embeds the absolute object path,\n-    # as ASM debuginfo paths do not get prefix mapped.\n-    # So for reproducible builds use relative paths to ensure a reproducible\n-    # debuginfo and libs, when creating debug symbols.\n-    ifeq ($$(ENABLE_REPRODUCIBLE_BUILD), true)\n-      ifeq ($(call isTargetOs, linux), true)\n-        ifeq ($$($1_COMPILE_WITH_DEBUG_SYMBOLS), true)\n-          $1_LINK_OBJS_RELATIVE := true\n-          $1_ALL_OBJS_RELATIVE := $$(patsubst $$(OUTPUTDIR)\/%, %, $$($1_ALL_OBJS))\n-        endif\n-      endif\n-    endif\n-\n","filename":"make\/common\/NativeCompilation.gmk","additions":8,"deletions":14,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-\/\/ Copyright (c) 2021, Red Hat Inc. All rights reserved.\n+\/\/ Copyright (c) 2021, 2022, Red Hat Inc. All rights reserved.\n@@ -23,0 +23,3 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/atomic_linux_aarch64.S","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Linaro Ltd. All rights reserved.\n+ * Copyright (c) 2016, 2022, Linaro Ltd. All rights reserved.\n@@ -24,0 +24,4 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n+\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/copy_linux_aarch64.S","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -22,0 +22,4 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n+\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/threadLS_linux_aarch64.S","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -24,0 +24,3 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n","filename":"src\/hotspot\/os_cpu\/linux_arm\/linux_arm_32.S","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -24,0 +24,3 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/linux_x86_32.S","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2004, 2013, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2004, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,3 @@\n+        \/\/ ASSEMBLY_SRC_FILE gets replaced by relative or absolute file path\n+        \/\/ in NativeCompilation.gmk, this ensure reproducible .debuginfo\n+        .file ASSEMBLY_SRC_FILE\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/linux_x86_64.S","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -167,1 +167,1 @@\n-                } else if (fileName.endsWith(\".debuginfo\") || fileName.endsWith(\".pdb\")) {\n+                } else if (fileName.endsWith(\".pdb\")) {\n","filename":"test\/jdk\/build\/AbsPathsInImage.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}