{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,0 @@\n-import java.util.concurrent.atomic.AtomicReference;\n@@ -42,1 +41,0 @@\n-import javax.swing.SwingUtilities;\n@@ -44,2 +42,1 @@\n-\n-\/**\n+\/*\n@@ -56,0 +53,1 @@\n+    public static final int OFFSET = 50;\n@@ -59,1 +57,1 @@\n-    private static Rectangle currentScreenBounds;\n+    private static Rectangle screenBounds;\n@@ -70,2 +68,1 @@\n-            currentScreenBounds = gc.getBounds();\n-            Point point = new Point(currentScreenBounds.x, currentScreenBounds.y);\n+            screenBounds = gc.getBounds();\n@@ -73,1 +70,5 @@\n-            while (point.y < currentScreenBounds.y + currentScreenBounds.height - insets.bottom - SIZE) {\n+            Point point = new Point(screenBounds.x + insets.left,\n+                                    screenBounds.y + insets.top);\n+            while (point.y <\n+                   screenBounds.y + screenBounds.height - insets.bottom -\n+                   SIZE) {\n@@ -75,1 +76,2 @@\n-                           currentScreenBounds.x + currentScreenBounds.width - insets.right - SIZE) {\n+                       screenBounds.x + screenBounds.width - insets.right -\n+                       SIZE) {\n@@ -77,3 +79,1 @@\n-                    point.translate(currentScreenBounds.width \/ 5, 0);\n-                   }\n-                   point.setLocation(currentScreenBounds.x, point.y + currentScreenBounds.height \/ 5);\n+                    point.translate(screenBounds.width \/ 5, 0);\n@@ -81,0 +81,2 @@\n+                point.setLocation(screenBounds.x,\n+                                  point.y + screenBounds.height \/ 5);\n@@ -83,0 +85,1 @@\n+    }\n@@ -84,1 +87,1 @@\n-    private static void test(final Point tmp) throws Exception {\n+    private static void test(final Point tmp) {\n@@ -114,1 +117,0 @@\n-                        System.out.println(\"Going to show popup \"+pm+\" on \"+frame);\n@@ -125,1 +127,1 @@\n-    private static void openPopup(final Frame frame) throws Exception {\n+    private static void openPopup(final Frame frame) {\n@@ -129,1 +131,1 @@\n-        int y = pt.y + 50;\n+        int y = pt.y + OFFSET;\n@@ -133,2 +135,2 @@\n-        robot.waitForIdle();\n-         y = y+50;\n+        robot.delay(200);\n+        y += OFFSET;\n@@ -142,2 +144,2 @@\n-                    \"Failed, Not received the PopupMenu ActionEvent yet on \" +\n-                    \"frame= \"+frame+\", isFocused = \"+frame.isFocused());\n+                    \"Failed, didn't receive the PopupMenu ActionEvent on \" +\n+                    \"frame= \" + frame + \", isFocused = \" + frame.isFocused());\n@@ -150,4 +152,5 @@\n-            ImageIO.write(robot.createScreenCapture(currentScreenBounds), \"png\",\n-                          new File(\"screen1.png\"));\n-        } catch (Exception exception) {\n-            exception.printStackTrace();\n+            ImageIO.write(robot.createScreenCapture(screenBounds),\n+                          \"png\",\n+                          new File(\"screen.png\"));\n+        } catch (Exception e) {\n+            e.printStackTrace();\n@@ -155,1 +158,0 @@\n-        action = false;\n","filename":"test\/jdk\/java\/awt\/PopupMenu\/PopupMenuLocation.java","additions":28,"deletions":26,"binary":false,"changes":54,"status":"modified"}]}