{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -97,1 +97,1 @@\n-            Map<String, ? super Object>  params) {\n+            Map<String, ? super Object>  params, boolean defaultOnly) {\n@@ -99,0 +99,4 @@\n+        if (defaultOnly && returnValue != null) {\n+            Log.info(I18N.getString(\"message.install-dir-ignored\"));\n+            returnValue = null;\n+        }\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/MacBaseInstallerBundler.java","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -129,1 +129,1 @@\n-        data.put(\"DEPLOY_INSTALL_LOCATION\", getInstallDir(params));\n+        data.put(\"DEPLOY_INSTALL_LOCATION\", getInstallDir(params, true));\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/MacDmgBundler.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -211,1 +211,1 @@\n-        Path appLocation = Path.of(getInstallDir(params),\n+        Path appLocation = Path.of(getInstallDir(params, false),\n@@ -214,1 +214,1 @@\n-        data.put(\"INSTALL_LOCATION\", getInstallDir(params));\n+        data.put(\"INSTALL_LOCATION\", getInstallDir(params, false));\n@@ -444,1 +444,1 @@\n-                    getInstallDir(params),\n+                    getInstallDir(params, false),\n@@ -458,1 +458,1 @@\n-                        getInstallDir(params),\n+                        getInstallDir(params, false),\n@@ -471,1 +471,1 @@\n-                        getInstallDir(params),\n+                        getInstallDir(params, false),\n@@ -526,1 +526,1 @@\n-                commandLine.add(getInstallDir(params));\n+                commandLine.add(getInstallDir(params, false));\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/MacPkgBundler.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -90,0 +90,1 @@\n+message.install-dir-ignored=Warning: \"--install-dir\" is not supported by DMG and will be default to \/Applications.\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -89,0 +89,1 @@\n+message.install-dir-ignored=Warning: \"--install-dir\" is not supported by DMG and will be default to \/Applications.\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources_ja.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -89,0 +89,1 @@\n+message.install-dir-ignored=Warning: \"--install-dir\" is not supported by DMG and will be default to \/Applications.\n","filename":"src\/jdk.jpackage\/macosx\/classes\/jdk\/jpackage\/internal\/resources\/MacResources_zh_CN.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}