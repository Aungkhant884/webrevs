{"files":[{"patch":"@@ -392,1 +392,1 @@\n-    if (!InstanceKlass::has_old_class_version(ik)) {\n+    if (!ik->has_old_class_version()) {\n@@ -580,1 +580,1 @@\n-  return DumpSharedSpaces ? !InstanceKlass::has_old_class_version(ik) : !ik->is_shared_unregistered_class();\n+  return DumpSharedSpaces ? !ik->has_old_class_version() : !ik->is_shared_unregistered_class();\n@@ -760,1 +760,1 @@\n-  if (ik->is_loaded() && !ik->is_linked() && !InstanceKlass::has_old_class_version(ik) &&\n+  if (ik->is_loaded() && !ik->is_linked() && !ik->has_old_class_version() &&\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1385,1 +1385,1 @@\n-      if (!InstanceKlass::has_old_class_version(k)) {\n+      if (!k->has_old_class_version()) {\n@@ -1400,1 +1400,1 @@\n-  if (InstanceKlass::has_old_class_version(k) && k->is_linked()) {\n+  if (k->has_old_class_version() && k->is_linked()) {\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -574,1 +574,1 @@\n-    assert(InstanceKlass::has_old_class_version(klass), \"only shared old classes aren't rewritten\");\n+    assert(klass->has_old_class_version(), \"only shared old classes aren't rewritten\");\n","filename":"src\/hotspot\/share\/interpreter\/rewriter.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2432,1 +2432,1 @@\n-  if (has_old_class_version(this)) {\n+  if (has_old_class_version()) {\n@@ -2576,5 +2576,2 @@\n-bool InstanceKlass::has_old_class_version(InstanceKlass* ik) {\n-  if (ik == NULL) {\n-    return false;\n-  }\n-  if (ik->major_version() < 50 \/*JAVA_6_VERSION*\/) {\n+bool InstanceKlass::has_old_class_version() {\n+  if (major_version() < 50 \/*JAVA_6_VERSION*\/) {\n@@ -2583,1 +2580,1 @@\n-  if (has_old_class_version(ik->java_super())) {\n+  if (java_super() != NULL && java_super()->has_old_class_version()) {\n@@ -2586,1 +2583,1 @@\n-  Array<InstanceKlass*>* interfaces = ik->local_interfaces();\n+  Array<InstanceKlass*>* interfaces = local_interfaces();\n@@ -2589,1 +2586,1 @@\n-    if (has_old_class_version(interfaces->at(i))) {\n+    if (interfaces->at(i)->has_old_class_version()) {\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1253,1 +1253,1 @@\n-  static bool has_old_class_version(InstanceKlass* ik);\n+  bool has_old_class_version();\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1097,2 +1097,2 @@\n-     !InstanceKlass::has_old_class_version(m->method_holder()) &&\n-     !InstanceKlass::has_old_class_version(klass)) {\n+     !m->method_holder()->has_old_class_version() &&\n+     !klass->has_old_class_version()) {\n","filename":"src\/hotspot\/share\/oops\/klassVtable.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}