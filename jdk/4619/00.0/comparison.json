{"files":[{"patch":"@@ -94,1 +94,1 @@\n-  LogFileOutput& _output;\n+  LogFileOutput* _output;\n@@ -99,1 +99,1 @@\n-  AsyncLogMessage(LogFileOutput& output, const LogDecorations& decorations, char* msg)\n+  AsyncLogMessage(LogFileOutput* output, const LogDecorations& decorations, char* msg)\n@@ -105,1 +105,1 @@\n-  LogFileOutput* output() const { return &_output; }\n+  LogFileOutput* output() const { return _output; }\n@@ -124,2 +124,2 @@\n-\/\/ instance() is MT-safe and returns the pointer of the singleton instance if and only if async logging is enabled and has well\n-\/\/ initialized. Clients can use its return value to determine async logging is established or not.\n+\/\/ instance() is MT-safe and returns the pointer of the singleton instance if and only if async logging is enabled and has\n+\/\/ successfully initialized. Clients can use its return value to determine async logging is established or not.\n@@ -127,1 +127,1 @@\n-\/\/ The basic operation of AsyncLogWriter is enqueue(). 2 overloading versions of it are provided to match LogOutput::write().\n+\/\/ enqueue() is the basic operation of AsyncLogWriter. Two overloading versions of it are provided to match LogOutput::write().\n@@ -131,4 +131,3 @@\n-\/\/ The static member function flush() is designated to flush out all pending messages when JVM is terminating.\n-\/\/ In normal JVM termination, flush() is invoked in LogConfiguration::finalize(). flush() is MT-safe and can be invoked arbitrary\n-\/\/ times. It is no-op if async logging is not established.\n-\/\/\n+\/\/ flush() ensures that all pending messages have been written out before it returns. It is not MT-safe in itself. When users\n+\/\/ change the logging configuration via jcmd, LogConfiguration::configure_output() calls flush() under the protection of the\n+\/\/ ConfigurationLock. In addition flush() is called during JVM termination, via LogConfiguration::finalize.\n@@ -144,2 +143,1 @@\n-  \/\/ A lock of IO\n-  Semaphore _io_sem;\n+  Semaphore _flush_sem;\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.hpp","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"}]}