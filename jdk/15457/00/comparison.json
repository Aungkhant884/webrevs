{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import jdk.test.lib.process.ProcessTools;\n@@ -57,1 +58,0 @@\n-    private static final String CLS_DIR = System.getProperty(\"test.classes\", \"\").trim();\n@@ -59,0 +59,2 @@\n+    private static final String JDWP_OPT = \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0\";\n+\n@@ -79,1 +81,1 @@\n-        ProcessBuilder pb = new ProcessBuilder(getCommand());\n+        ProcessBuilder pb = ProcessTools.createTestJvm(JDWP_OPT, DEBUGGEE);\n@@ -87,16 +89,0 @@\n-    \/**\n-     * Command to start the debuggee with the JDWP options and using the JDK\n-     * under test\n-     *\n-     * @return the command\n-     *\/\n-    private String[] getCommand() {\n-        return new String[]{\n-            JDKToolFinder.getTestJDKTool(\"java\"),\n-            getJdwpOptions(),\n-            \"-cp\",\n-            CLS_DIR,\n-            DEBUGGEE\n-        };\n-    }\n-\n@@ -112,9 +98,0 @@\n-    \/**\n-     * Debuggee JDWP options\n-     *\n-     * @return the JDWP options to start the debuggee with\n-     *\/\n-    private static String getJdwpOptions() {\n-        return \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0\";\n-    }\n-\n","filename":"test\/hotspot\/jtreg\/serviceability\/jdwp\/DebuggeeLauncher.java","additions":5,"deletions":28,"binary":false,"changes":33,"status":"modified"}]}