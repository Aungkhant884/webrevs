{"files":[{"patch":"@@ -59,2 +59,0 @@\n-            robot.setAutoWaitForIdle(true);\n-            robot.setAutoDelay(50);\n@@ -68,1 +66,1 @@\n-\n+            robot.delay(200);\n@@ -88,2 +86,2 @@\n-        Menu menu1 = new Menu(\"Menu1\");\n-        MenuItem mi1 = new MenuItem(\"MI-1\");\n+        Menu menu1 = new Menu(\"Menu\");\n+        MenuItem mi1 = new MenuItem(\"Item-1\");\n@@ -92,1 +90,1 @@\n-        MenuItem mi2 = new MenuItem(\"MI-2\");\n+        MenuItem mi2 = new MenuItem(\"Item-2\");\n@@ -97,2 +95,2 @@\n-        pm = new PopupMenu();\n-        MenuItem pm1 = new MenuItem(\"PMI-1\");\n+        pm = new PopupMenu(\"Popup\");\n+        MenuItem pm1 = new MenuItem(\"Item-1\");\n@@ -100,0 +98,3 @@\n+        pm.addSeparator();\n+        MenuItem pm2 = new MenuItem(\"Item-2\");\n+        pm.add(pm2);\n@@ -105,0 +106,1 @@\n+                showPopup(e);\n@@ -109,3 +111,1 @@\n-                if (e.getButton() != InputEvent.BUTTON1_DOWN_MASK) {\n-                    showPopup(e);\n-                }\n+                showPopup(e);\n@@ -127,1 +127,5 @@\n-    private static void checkMenu() throws IOException {\n+    private static void checkMenu() throws Exception {\n+        robot.mouseMove(frameLoc.x + 8, frameLoc.y + 8);\n+        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+        robot.delay(200);\n@@ -129,0 +133,2 @@\n+\n+        \/\/Change Menu & MenuItem label\n@@ -131,2 +137,2 @@\n-        MenuItem mItem1 = m1.getItem(0);\n-        mItem1.setLabel(\"New Menu Item\");\n+        m1.getItem(0).setLabel(\"New Item-1\");\n+        m1.getItem(2).setLabel(\"New Item-2\");\n@@ -137,0 +143,1 @@\n+            errorLog.append(\"Menu case\\n\");\n@@ -139,1 +146,0 @@\n-            errorLog.append(\"Menu case\\n\");\n@@ -144,1 +150,0 @@\n-        BufferedImage beforeImgPopup = robot.createScreenCapture(frame.getBounds());\n@@ -150,1 +155,7 @@\n-        pm.getItem(0).setLabel(\"Changed Label\");\n+        BufferedImage beforeImgPopup = robot.createScreenCapture(frame.getBounds());\n+\n+        \/\/Change popup menu label\n+        pm.setLabel(\"Changed Popup\");\n+        pm.getItem(0).setLabel(\"New Item-1\");\n+        pm.getItem(2).setLabel(\"New Item-2\");\n+        robot.delay(200);\n@@ -152,1 +163,3 @@\n-        robot.delay(300);\n+        robot.mouseMove(frameLoc.x + (frame.getWidth() - 10),\n+                frameLoc.y + (frame.getHeight() - 10));\n+        robot.delay(100);\n@@ -157,0 +170,1 @@\n+            errorLog.append(\"Popup case\\n\");\n@@ -159,1 +173,0 @@\n-            errorLog.append(\"Popup case\\n\");\n","filename":"test\/jdk\/java\/awt\/MenuItem\/SetLabelTest.java","additions":32,"deletions":19,"binary":false,"changes":51,"status":"modified"}]}