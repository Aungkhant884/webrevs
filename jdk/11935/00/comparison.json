{"files":[{"patch":"@@ -191,0 +191,1 @@\n+FORBID_C_FUNCTION(int sprintf(char*, const char*, ...), \"use os::snprintf\");\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-  sprintf(name, \"MyRawMonitor\");\n+  snprintf(name, sizeof(name), \"MyRawMonitor\");\n@@ -85,1 +85,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/libAsyncExceptionOnMonitorEnter.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -241,1 +241,1 @@\n-        sprintf(strbuf, \"Check #C0: unexpected export of %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C0: unexpected export of %s from base to this\", pkg);\n@@ -251,1 +251,1 @@\n-        sprintf(strbuf, \"Check #C1: error in add export of %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C1: error in add export of %s from base to this\", pkg);\n@@ -260,1 +260,1 @@\n-        sprintf(strbuf, \"Check #C2: failed to export %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C2: failed to export %s from base to this\", pkg);\n@@ -269,1 +269,1 @@\n-        sprintf(strbuf, \"Check #C3: unexpected export of %s from base to all modules\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C3: unexpected export of %s from base to all modules\", pkg);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/AddModuleExportsAndOpens\/libAddModuleExportsAndOpensTest.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    sprintf(name, \"%s%d\", prefix, eventsCount);\n+    snprintf(name, sizeof(name), \"%s%d\", prefix, eventsCount);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/ThreadEnd\/threadend01\/libthreadend01.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-    sprintf(name, \"%s%d\", prefix, eventsCount);\n+    snprintf(name, sizeof(name), \"%s%d\", prefix, eventsCount);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/ThreadStart\/threadstart01\/libthreadstart01.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/CreateRawMonitor\/crrawmon001\/crrawmon001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DestroyRawMonitor\/drrawmon001\/drrawmon001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -145,1 +145,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorEnter\/rawmonenter001\/rawmonenter001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -158,1 +158,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorExit\/rawmonexit001\/rawmonexit001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -171,1 +171,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorNotify\/rawmnntfy001\/rawmnntfy001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -171,1 +171,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorNotifyAll\/rawmnntfyall001\/rawmnntfyall001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -172,1 +172,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorWait\/rawmnwait001\/rawmnwait001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(filename,\"%s\/%s\/%s.class\",\n+        snprintf(filename, sizeof(filename), \"%s\/%s\/%s.class\",\n@@ -57,1 +57,1 @@\n-        sprintf(filename,\"%s\/%s.class\",\n+        snprintf(filename, sizeof(filename), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/bcinstr\/BI04\/bi04t002\/bi04t002.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -393,1 +393,1 @@\n-    sprintf(filename,\"%s\/%s%02d\/%s.class\",\n+    snprintf(filename, sizeof(filename), \"%s\/%s%02d\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/hotswap\/HS201\/hs201t001\/hs201t001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -386,1 +386,1 @@\n-    sprintf(filename,\"%s\/%s\/%s.class\",\n+    snprintf(filename, sizeof(filename), \"%s\/%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/hotswap\/HS201\/hs201t002\/hs201t002.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-    sprintf(sz, \"Raw-monitor\");\n+    snprintf(sz, sizeof(sz), \"Raw-monitor\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/GetAllStackTraces\/getallstktr001\/getallstktr001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -188,1 +188,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/MethodBind\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/StackTrace\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -157,1 +157,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/functions\/nosuspendStackTrace\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,0 +2,1 @@\n+s\n@@ -294,1 +295,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/functions\/rawmonitor\/rawmonitor.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1153,1 +1153,1 @@\n-        sprintf(error_msg, \"JVMTIagent: getVerdict: %s event occured after VMDeath\",\n+        snprintf(error_msg, sizeof(error_msg), \"JVMTIagent: getVerdict: %s event occured after VMDeath\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/JVMTIagent.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -240,1 +240,1 @@\n-        sprintf(file,\"%s\/%s.class\",\n+        snprintf(file, sizeof(file), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/aod\/jvmti_aod.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -469,1 +469,1 @@\n-        sprintf(file,\"%s\/%s.class\",\n+        snprintf(file, sizeof(file), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/jvmti_tools.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -282,1 +282,1 @@\n-            sprintf(buf, \" %02X\", b);\n+            snprintf(buf, sizeof(buf), \" %02X\", b);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/native\/nsk_tools.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,2 +64,3 @@\n-     cp_prop = (char*)malloc(strlen(CP_PROP)+strlen(argv[2]) +1);\n-     sprintf(cp_prop, \"%s%s\", CP_PROP, argv[2]);\n+     size_t propLen = strlen(CP_PROP) + strlen(argv[2]) + 1;\n+     cp_prop = (char*)malloc(propLen);\n+     snprintf(cp_prop, propLen, \"%s%s\", CP_PROP, argv[2]);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/exelauncher.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-    sprintf(name, \"S-%lu-\", SID_REVISION );\n+    snprintf(name, sizeof(name), \"S-%lu-\", SID_REVISION );\n@@ -107,1 +107,2 @@\n-        sprintf(name + strlen(name), \"0x%02hx%02hx%02hx%02hx%02hx%02hx\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name),\n+                \"0x%02hx%02hx%02hx%02hx%02hx%02hx\",\n@@ -117,1 +118,1 @@\n-        sprintf(name + strlen(name), \"%lu\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name), \"%lu\",\n@@ -126,1 +127,1 @@\n-        sprintf(name + strlen(name), \"-%lu\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name), \"-%lu\",\n","filename":"test\/jdk\/sun\/management\/windows\/exerevokeall.c","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}