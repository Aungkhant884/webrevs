{"files":[{"patch":"@@ -260,1 +260,1 @@\n-  ra_->dump_register(this, reg);\n+  ra_->dump_register(this, reg, sizeof(reg));\n","filename":"src\/hotspot\/cpu\/arm\/arm.ad","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1947,1 +1947,1 @@\n-  ra_->dump_register(this, reg_str);\n+  ra_->dump_register(this, reg_str, sizeof(reg_str));\n","filename":"src\/hotspot\/cpu\/ppc\/ppc.ad","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -270,1 +270,1 @@\n-  sprintf(ver_str, \"%d\", ATTACH_PROTOCOL_VER);\n+  os::snprintf_checked(ver_str, sizeof(ver_str), \"%d\", ATTACH_PROTOCOL_VER);\n@@ -315,1 +315,1 @@\n-            sprintf(msg, \"%d\\n\", ATTACH_ERROR_BADVERSION);\n+            os::snprintf_checked(msg, sizeof(msg), \"%d\\n\", ATTACH_ERROR_BADVERSION);\n@@ -445,1 +445,1 @@\n-  sprintf(msg, \"%d\\n\", result);\n+  os::snprintf_checked(msg, sizeof(msg), \"%d\\n\", result);\n@@ -548,1 +548,1 @@\n-  sprintf(fn, \".attach_pid%d\", os::current_process_id());\n+  os::snprintf_checked(fn, sizeof(fn), \".attach_pid%d\", os::current_process_id());\n","filename":"src\/hotspot\/os\/aix\/attachListener_aix.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -526,1 +526,1 @@\n-  \/\/ Buffer that fits several sprintfs.\n+  \/\/ Buffer that fits several snprintfs.\n@@ -574,2 +574,3 @@\n-  char *ld_library_path = NEW_C_HEAP_ARRAY(char, strlen(v) + 1 + sizeof(DEFAULT_LIBPATH) + 1, mtInternal);\n-  sprintf(ld_library_path, \"%s%s\" DEFAULT_LIBPATH, v, v_colon);\n+  size_t pathsize = strlen(v) + 1 + sizeof(DEFAULT_LIBPATH) + 1;\n+  char *ld_library_path = NEW_C_HEAP_ARRAY(char, pathsize, mtInternal);\n+  os::snprintf_checked(ld_library_path, pathsize, \"%s%s\" DEFAULT_LIBPATH, v, v_colon);\n@@ -580,1 +581,1 @@\n-  sprintf(buf, \"%s\" EXTENSIONS_DIR, Arguments::get_java_home());\n+  os::snprintf_checked(buf, bufsize, \"%s\" EXTENSIONS_DIR, Arguments::get_java_home());\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -251,1 +251,1 @@\n-  sprintf(ver_str, \"%d\", ATTACH_PROTOCOL_VER);\n+  os::snprintf_checked(ver_str, sizeof(ver_str), \"%d\", ATTACH_PROTOCOL_VER);\n@@ -294,1 +294,1 @@\n-            sprintf(msg, \"%d\\n\", ATTACH_ERROR_BADVERSION);\n+            os::snprintf_checked(msg, sizeof(msg), \"%d\\n\", ATTACH_ERROR_BADVERSION);\n@@ -414,1 +414,1 @@\n-  sprintf(msg, \"%d\\n\", result);\n+  os::snprintf_checked(msg, sizeof(msg), \"%d\\n\", result);\n@@ -516,1 +516,1 @@\n-  sprintf(fn, \".attach_pid%d\", os::current_process_id());\n+  os::snprintf_checked(fn, sizeof(fn), \".attach_pid%d\", os::current_process_id());\n","filename":"src\/hotspot\/os\/linux\/attachListener_linux.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -447,1 +447,1 @@\n-  \/\/ Buffer that fits several sprintfs.\n+  \/\/ Buffer that fits several snprintfs.\n@@ -502,5 +502,3 @@\n-    char *ld_library_path = NEW_C_HEAP_ARRAY(char,\n-                                             strlen(v) + 1 +\n-                                             sizeof(SYS_EXT_DIR) + sizeof(\"\/lib\/\") + sizeof(DEFAULT_LIBPATH) + 1,\n-                                             mtInternal);\n-    sprintf(ld_library_path, \"%s%s\" SYS_EXT_DIR \"\/lib:\" DEFAULT_LIBPATH, v, v_colon);\n+    size_t pathsize = strlen(v) + 1 + sizeof(SYS_EXT_DIR) + sizeof(\"\/lib\/\") + sizeof(DEFAULT_LIBPATH) + 1;\n+    char *ld_library_path = NEW_C_HEAP_ARRAY(char, pathsize, mtInternal);\n+    os::snprintf_checked(ld_library_path, pathsize, \"%s%s\" SYS_EXT_DIR \"\/lib:\" DEFAULT_LIBPATH, v, v_colon);\n@@ -512,1 +510,1 @@\n-  sprintf(buf, \"%s\" EXTENSIONS_DIR \":\" SYS_EXT_DIR EXTENSIONS_DIR, Arguments::get_java_home());\n+  os::snprintf_checked(buf, bufsize, \"%s\" EXTENSIONS_DIR \":\" SYS_EXT_DIR EXTENSIONS_DIR, Arguments::get_java_home());\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -385,1 +385,2 @@\n-    sprintf(buf, \"%s%s;%s%s%s\", Arguments::get_java_home(), EXT_DIR,\n+    os::snprintf_checked(buf, sizeof(buf), \"%s%s;%s%s%s\",\n+            Arguments::get_java_home(), EXT_DIR,\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1303,1 +1303,1 @@\n-    fprintf(fp, \"char reg[128];  ra->dump_register(in(mach_constant_base_node_input()), reg);\\n\");\n+    fprintf(fp, \"char reg[128];  ra->dump_register(in(mach_constant_base_node_input()), reg, sizeof(reg));\\n\");\n@@ -2502,1 +2502,1 @@\n-    fprintf(fp,\"    ra->dump_register(node,reg_str);\\n\");\n+    fprintf(fp,\"    ra->dump_register(node,reg_str, sizeof(reg_str));\\n\");\n@@ -2510,1 +2510,1 @@\n-    fprintf(fp,\"    ra->dump_register(node,reg_str);\\n\");\n+    fprintf(fp,\"    ra->dump_register(node,reg_str, sizeof(reg_str));\\n\");\n@@ -2531,1 +2531,1 @@\n-    fprintf(fp,                                      \"),reg_str);\\n\");\n+    fprintf(fp,                                      \"),reg_str,sizeof(reg_str));\\n\");\n@@ -2541,1 +2541,1 @@\n-    fprintf(fp,                                       \"),reg_str);\\n\");\n+    fprintf(fp,                                       \"),reg_str,sizeof(reg_str));\\n\");\n","filename":"src\/hotspot\/share\/adlc\/formssel.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -367,1 +367,1 @@\n-    regalloc->dump_register(n,buf);\n+    regalloc->dump_register(n,buf,sizeof(buf));\n","filename":"src\/hotspot\/share\/opto\/callnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2865,1 +2865,1 @@\n-      ra->dump_register(n, buf);\n+      ra->dump_register(n, buf, sizeof(buf));\n","filename":"src\/hotspot\/share\/opto\/cfgnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2186,1 +2186,1 @@\n-static char *print_reg(OptoReg::Name reg, const PhaseChaitin* pc, char* buf) {\n+static char *print_reg(OptoReg::Name reg, const PhaseChaitin* pc, char* buf, size_t buf_size) {\n@@ -2188,1 +2188,1 @@\n-    sprintf(buf, \"<OptoReg::%d>\", (int)reg);\n+    os::snprintf_checked(buf, buf_size, \"<OptoReg::%d>\", (int)reg);\n@@ -2192,1 +2192,1 @@\n-    sprintf(buf,\"%s + #%d\",OptoReg::regname(OptoReg::c_frame_pointer),\n+    os::snprintf_checked(buf, buf_size, \"%s + #%d\",OptoReg::regname(OptoReg::c_frame_pointer),\n@@ -2199,1 +2199,1 @@\n-char *PhaseChaitin::dump_register(const Node* n, char* buf) const {\n+char *PhaseChaitin::dump_register(const Node* n, char* buf, size_t buf_size) const {\n@@ -2202,1 +2202,1 @@\n-    print_reg( get_reg_first(n), this, buf );\n+    print_reg( get_reg_first(n), this, buf, buf_size);\n@@ -2206,1 +2206,1 @@\n-      sprintf(buf,\"L%d\",lidx);  \/\/ No register binding yet\n+      os::snprintf_checked(buf, buf_size, \"L%d\",lidx);  \/\/ No register binding yet\n@@ -2212,1 +2212,1 @@\n-          print_reg( lrgs(lidx).reg(), this, buf ); \/\/ a bound machine register\n+          print_reg( lrgs(lidx).reg(), this, buf, buf_size); \/\/ a bound machine register\n@@ -2214,1 +2214,1 @@\n-          sprintf(buf,\"L%d\",lidx); \/\/ No register binding yet\n+          os::snprintf_checked(buf, buf_size, \"L%d\",lidx); \/\/ No register binding yet\n@@ -2219,1 +2219,1 @@\n-        print_reg( lrgs(lidx).reg(), this, buf );\n+        print_reg( lrgs(lidx).reg(), this, buf, buf_size);\n@@ -2221,1 +2221,1 @@\n-        sprintf(buf,\"L%d\",lidx); \/\/ No register binding yet\n+        os::snprintf_checked(buf, buf_size, \"L%d\",lidx); \/\/ No register binding yet\n","filename":"src\/hotspot\/share\/opto\/chaitin.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -806,1 +806,1 @@\n-  char *dump_register(const Node* n, char* buf) const;\n+  char *dump_register(const Node* n, char* buf, size_t buf_size) const;\n","filename":"src\/hotspot\/share\/opto\/chaitin.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -533,1 +533,1 @@\n-        sprintf(buffer, \"P%d\", index);\n+        os::snprintf_checked(buffer, sizeof(buffer), \"P%d\", index);\n@@ -549,1 +549,1 @@\n-          sprintf(buffer, \"%d\", value);\n+          os::snprintf_checked(buffer, sizeof(buffer), \"%d\", value);\n@@ -563,1 +563,1 @@\n-          sprintf(buffer, JLONG_FORMAT, value);\n+          os::snprintf_checked(buffer, sizeof(buffer), JLONG_FORMAT, value);\n@@ -626,1 +626,1 @@\n-      _chaitin->dump_register(node, buffer);\n+      _chaitin->dump_register(node, buffer, sizeof(buffer));\n","filename":"src\/hotspot\/share\/opto\/idealGraphPrinter.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2280,1 +2280,1 @@\n-    sprintf(buf,\"_\");           \/\/ null\n+    os::snprintf_checked(buf, sizeof(buf), \"_\");           \/\/ null\n@@ -2282,1 +2282,1 @@\n-    sprintf(buf, \"%d\", n->_idx);  \/\/ new node\n+    os::snprintf_checked(buf, sizeof(buf), \"%d\", n->_idx);  \/\/ new node\n@@ -2284,1 +2284,1 @@\n-    sprintf(buf, \"o%d\", n->_idx); \/\/ old node\n+    os::snprintf_checked(buf, sizeof(buf), \"o%d\", n->_idx); \/\/ old node\n@@ -2292,1 +2292,1 @@\n-  sprintf(buf, \"B%d\", b->_pre_order);\n+  os::snprintf_checked(buf, sizeof(buf), \"B%d\", b->_pre_order);\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-  virtual char *dump_register( const Node *n, char *buf  ) const = 0;\n+  virtual char *dump_register( const Node *n, char *buf, size_t buf_size) const = 0;\n","filename":"src\/hotspot\/share\/opto\/regalloc.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1677,1 +1677,1 @@\n-static const char* intname(char* buf, jint n) {\n+static const char* intname(char* buf, size_t buf_size, jint n) {\n@@ -1681,1 +1681,1 @@\n-    sprintf(buf, \"min+\" INT32_FORMAT, n - min_jint);\n+    os::snprintf_checked(buf, buf_size, \"min+\" INT32_FORMAT, n - min_jint);\n@@ -1685,1 +1685,1 @@\n-    sprintf(buf, \"max-\" INT32_FORMAT, max_jint - n);\n+    os::snprintf_checked(buf, buf_size, \"max-\" INT32_FORMAT, max_jint - n);\n@@ -1687,1 +1687,1 @@\n-    sprintf(buf, INT32_FORMAT, n);\n+    os::snprintf_checked(buf, buf_size, INT32_FORMAT, n);\n@@ -1696,1 +1696,1 @@\n-    st->print(\"int:%s\", intname(buf, get_con()));\n+    st->print(\"int:%s\", intname(buf, sizeof(buf), get_con()));\n@@ -1706,1 +1706,1 @@\n-    st->print(\"int:>=%s\", intname(buf, _lo));\n+    st->print(\"int:>=%s\", intname(buf, sizeof(buf), _lo));\n@@ -1708,1 +1708,1 @@\n-    st->print(\"int:<=%s\", intname(buf, _hi));\n+    st->print(\"int:<=%s\", intname(buf, sizeof(buf), _hi));\n@@ -1710,1 +1710,1 @@\n-    st->print(\"int:%s..%s\", intname(buf, _lo), intname(buf2, _hi));\n+    st->print(\"int:%s..%s\", intname(buf, sizeof(buf), _lo), intname(buf2, sizeof(buf2), _hi));\n@@ -1943,1 +1943,1 @@\n-static const char* longnamenear(jlong x, const char* xname, char* buf, jlong n) {\n+static const char* longnamenear(jlong x, const char* xname, char* buf, size_t buf_size, jlong n) {\n@@ -1946,1 +1946,1 @@\n-    sprintf(buf, \"%s+\" JLONG_FORMAT, xname, n - x);\n+    os::snprintf_checked(buf, buf_size, \"%s+\" JLONG_FORMAT, xname, n - x);\n@@ -1949,1 +1949,1 @@\n-    sprintf(buf, \"%s-\" JLONG_FORMAT, xname, x - n);\n+    os::snprintf_checked(buf, buf_size, \"%s-\" JLONG_FORMAT, xname, x - n);\n@@ -1956,1 +1956,1 @@\n-static const char* longname(char* buf, jlong n) {\n+static const char* longname(char* buf, size_t buf_size, jlong n) {\n@@ -1961,1 +1961,1 @@\n-    sprintf(buf, \"min+\" JLONG_FORMAT, n - min_jlong);\n+    os::snprintf_checked(buf, buf_size, \"min+\" JLONG_FORMAT, n - min_jlong);\n@@ -1965,2 +1965,2 @@\n-    sprintf(buf, \"max-\" JLONG_FORMAT, max_jlong - n);\n-  else if ((str = longnamenear(max_juint, \"maxuint\", buf, n)) != NULL)\n+    os::snprintf_checked(buf, buf_size, \"max-\" JLONG_FORMAT, max_jlong - n);\n+  else if ((str = longnamenear(max_juint, \"maxuint\", buf, buf_size, n)) != NULL)\n@@ -1968,1 +1968,1 @@\n-  else if ((str = longnamenear(max_jint, \"maxint\", buf, n)) != NULL)\n+  else if ((str = longnamenear(max_jint, \"maxint\", buf, buf_size, n)) != NULL)\n@@ -1970,1 +1970,1 @@\n-  else if ((str = longnamenear(min_jint, \"minint\", buf, n)) != NULL)\n+  else if ((str = longnamenear(min_jint, \"minint\", buf, buf_size, n)) != NULL)\n@@ -1973,1 +1973,1 @@\n-    sprintf(buf, JLONG_FORMAT, n);\n+    os::snprintf_checked(buf, buf_size, JLONG_FORMAT, n);\n@@ -1982,1 +1982,1 @@\n-    st->print(\"long:%s\", longname(buf, get_con()));\n+    st->print(\"long:%s\", longname(buf, sizeof(buf), get_con()));\n@@ -1984,1 +1984,1 @@\n-    st->print(\"long:>=%s\", longname(buf, _lo));\n+    st->print(\"long:>=%s\", longname(buf, sizeof(buf), _lo));\n@@ -1986,1 +1986,1 @@\n-    st->print(\"long:<=%s\", longname(buf, _hi));\n+    st->print(\"long:<=%s\", longname(buf, sizeof(buf), _hi));\n@@ -1988,1 +1988,1 @@\n-    st->print(\"long:%s..%s\", longname(buf, _lo), longname(buf2, _hi));\n+    st->print(\"long:%s..%s\", longname(buf, sizeof(buf), _lo), longname(buf2,sizeof(buf2),  _hi));\n","filename":"src\/hotspot\/share\/opto\/type.cpp","additions":22,"deletions":22,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -191,0 +191,1 @@\n+FORBID_C_FUNCTION(int sprintf(char*, const char*, ...), \"use os::snprintf\");\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-  sprintf(name, \"MyRawMonitor\");\n+  snprintf(name, sizeof(name), \"MyRawMonitor\");\n@@ -85,1 +85,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/Thread\/libAsyncExceptionOnMonitorEnter.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -241,1 +241,1 @@\n-        sprintf(strbuf, \"Check #C0: unexpected export of %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C0: unexpected export of %s from base to this\", pkg);\n@@ -251,1 +251,1 @@\n-        sprintf(strbuf, \"Check #C1: error in add export of %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C1: error in add export of %s from base to this\", pkg);\n@@ -260,1 +260,1 @@\n-        sprintf(strbuf, \"Check #C2: failed to export %s from base to this\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C2: failed to export %s from base to this\", pkg);\n@@ -269,1 +269,1 @@\n-        sprintf(strbuf, \"Check #C3: unexpected export of %s from base to all modules\", pkg);\n+        snprintf(strbuf, sizeof(strbuf), \"Check #C3: unexpected export of %s from base to all modules\", pkg);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/AddModuleExportsAndOpens\/libAddModuleExportsAndOpensTest.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    sprintf(name, \"%s%d\", prefix, eventsCount);\n+    snprintf(name, sizeof(name), \"%s%d\", prefix, eventsCount);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/ThreadEnd\/threadend01\/libthreadend01.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-    sprintf(name, \"%s%d\", prefix, eventsCount);\n+    snprintf(name, sizeof(name), \"%s%d\", prefix, eventsCount);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/events\/ThreadStart\/threadstart01\/libthreadstart01.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/CreateRawMonitor\/crrawmon001\/crrawmon001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DestroyRawMonitor\/drrawmon001\/drrawmon001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -145,1 +145,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorEnter\/rawmonenter001\/rawmonenter001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -158,1 +158,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorExit\/rawmonexit001\/rawmonexit001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -171,1 +171,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorNotify\/rawmnntfy001\/rawmnntfy001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -171,1 +171,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorNotifyAll\/rawmnntfyall001\/rawmnntfyall001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n@@ -172,1 +172,1 @@\n-        sprintf(name, \"RawMonitor-%d\", i);\n+        snprintf(name, sizeof(name), \"RawMonitor-%d\", i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RawMonitorWait\/rawmnwait001\/rawmnwait001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        sprintf(filename,\"%s\/%s\/%s.class\",\n+        snprintf(filename, sizeof(filename), \"%s\/%s\/%s.class\",\n@@ -57,1 +57,1 @@\n-        sprintf(filename,\"%s\/%s.class\",\n+        snprintf(filename, sizeof(filename), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/bcinstr\/BI04\/bi04t002\/bi04t002.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -393,1 +393,1 @@\n-    sprintf(filename,\"%s\/%s%02d\/%s.class\",\n+    snprintf(filename, sizeof(filename), \"%s\/%s%02d\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/hotswap\/HS201\/hs201t001\/hs201t001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -386,1 +386,1 @@\n-    sprintf(filename,\"%s\/%s\/%s.class\",\n+    snprintf(filename, sizeof(filename), \"%s\/%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/hotswap\/HS201\/hs201t002\/hs201t002.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-    sprintf(sz, \"Raw-monitor\");\n+    snprintf(sz, sizeof(sz), \"Raw-monitor\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/GetAllStackTraces\/getallstktr001\/getallstktr001.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -188,1 +188,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/MethodBind\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/StackTrace\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -157,1 +157,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/functions\/nosuspendStackTrace\/JvmtiTest\/JvmtiTest.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,0 +2,1 @@\n+s\n@@ -294,1 +295,1 @@\n-    sprintf(sz, \"Rawmonitor-%d\",i);\n+    snprintf(sz, sizeof(sz), \"Rawmonitor-%d\",i);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/unit\/functions\/rawmonitor\/rawmonitor.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1153,1 +1153,1 @@\n-        sprintf(error_msg, \"JVMTIagent: getVerdict: %s event occured after VMDeath\",\n+        snprintf(error_msg, sizeof(error_msg), \"JVMTIagent: getVerdict: %s event occured after VMDeath\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/JVMTIagent.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -240,1 +240,1 @@\n-        sprintf(file,\"%s\/%s.class\",\n+        snprintf(file, sizeof(file), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/aod\/jvmti_aod.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -469,1 +469,1 @@\n-        sprintf(file,\"%s\/%s.class\",\n+        snprintf(file, sizeof(file), \"%s\/%s.class\",\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/jvmti_tools.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -282,1 +282,1 @@\n-            sprintf(buf, \" %02X\", b);\n+            snprintf(buf, sizeof(buf), \" %02X\", b);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/native\/nsk_tools.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,2 +64,3 @@\n-     cp_prop = (char*)malloc(strlen(CP_PROP)+strlen(argv[2]) +1);\n-     sprintf(cp_prop, \"%s%s\", CP_PROP, argv[2]);\n+     size_t propLen = strlen(CP_PROP) + strlen(argv[2]) + 1;\n+     cp_prop = (char*)malloc(propLen);\n+     snprintf(cp_prop, propLen, \"%s%s\", CP_PROP, argv[2]);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/exelauncher.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-    sprintf(name, \"S-%lu-\", SID_REVISION );\n+    snprintf(name, sizeof(name), \"S-%lu-\", SID_REVISION );\n@@ -107,1 +107,2 @@\n-        sprintf(name + strlen(name), \"0x%02hx%02hx%02hx%02hx%02hx%02hx\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name),\n+                \"0x%02hx%02hx%02hx%02hx%02hx%02hx\",\n@@ -117,1 +118,1 @@\n-        sprintf(name + strlen(name), \"%lu\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name), \"%lu\",\n@@ -126,1 +127,1 @@\n-        sprintf(name + strlen(name), \"-%lu\",\n+        snprintf(name + strlen(name), sizeof(name) - strlen(name), \"-%lu\",\n","filename":"test\/jdk\/sun\/management\/windows\/exerevokeall.c","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}