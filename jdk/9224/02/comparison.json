{"files":[{"patch":"@@ -532,1 +532,1 @@\n-                xml.writeAttribute(\"Argument\", \"\\\"%1\\\"\");\n+                xml.writeAttribute(\"Argument\", \"\\\"%1\\\" %*\");\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/WixAppImageFragmentBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -267,2 +267,2 @@\n-                final Path appOutput = testFile.getParent()\n-                        .resolve(HelloApp.OUTPUT_FILENAME);\n+                final Path testDir = testFile.getParent();\n+                final Path appOutput = testDir.resolve(HelloApp.OUTPUT_FILENAME);\n@@ -271,5 +271,0 @@\n-                TKit.trace(String.format(\"Use desktop to open [%s] file\",\n-                        testFile));\n-                Desktop.getDesktop().open(testFile.toFile());\n-                TKit.waitForFileCreated(appOutput, 7);\n-\n@@ -279,0 +274,23 @@\n+                expectedArgs.add(\"foo\");\n+                expectedArgs.add(\"bar baz\");\n+                expectedArgs.add(\"boo\");\n+\n+                \/\/ write a shortcut and open it with desktop\n+                final Path createShortcutVbs = testDir.resolve(\"createShortcut.vbs\");\n+                final Path shortcutLnk = testDir.resolve(\"shortcut.lnk\");\n+                TKit.createTextFile(createShortcutVbs, List.of(\n+                        \"Dim sc, shell\",\n+                        \"Set shell = WScript.CreateObject (\\\"WScript.Shell\\\")\",\n+                        \"Set sc = shell.CreateShortcut (\\\"\" + shortcutLnk + \"\\\")\",\n+                        \"sc.TargetPath = \\\"\\\"\\\"\" + testFile + \"\\\"\\\"\\\"\",\n+                        \"sc.Arguments = \\\"foo \\\"\\\"bar baz\\\"\\\" boo\\\"\",\n+                        \"sc.WorkingDirectory = \\\"\\\"\\\"\" + testDir + \"\\\"\\\"\\\"\",\n+                        \"sc.Save()\"\n+                ));\n+                Executor.of(\"cscript\", \"\/nologo\", createShortcutVbs.toString())\n+                        .execute();\n+                TKit.assertFileExists(shortcutLnk);\n+                TKit.trace(String.format(\"Use desktop to open [%s] file\",\n+                        shortcutLnk));\n+                Desktop.getDesktop().open(shortcutLnk.toFile());\n+                TKit.waitForFileCreated(appOutput, 7);\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/PackageTest.java","additions":25,"deletions":7,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -27,4 +27,2 @@\n-import jdk.jpackage.test.TKit;\n-import jdk.jpackage.test.PackageTest;\n-import jdk.jpackage.test.PackageType;\n-import jdk.jpackage.test.FileAssociations;\n+\n+import jdk.jpackage.test.*;\n@@ -89,0 +87,1 @@\n+        packageTest.forTypes(PackageType.WIN_EXE);\n@@ -109,1 +108,2 @@\n-        packageTest.run();\n+        packageTest.run(RunnablePackageTest.Action.CREATE, RunnablePackageTest.Action.INSTALL,\n+                RunnablePackageTest.Action.VERIFY_INSTALL, RunnablePackageTest.Action.UNINSTALL);\n","filename":"test\/jdk\/tools\/jpackage\/share\/FileAssociationsTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}