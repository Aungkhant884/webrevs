{"files":[{"patch":"@@ -58,5 +58,7 @@\n-        WindowsPath wp = WindowsPath.parse(file.getFileSystem(),\n-                                           file + \".\" + name);\n-        StringBuilder sb = new StringBuilder(wp.getPathForWin32Calls());\n-        sb.setCharAt(sb.length() - name.length() - 1, ':');\n-        return sb.toString();\n+        WindowsFileSystem wfs = file.getFileSystem();\n+        WindowsPath namePath = WindowsPath.parse(wfs, name);\n+        if (namePath.isAbsolute())\n+            throw new IllegalArgumentException(\"'name' is not relative\");\n+        String path = join(file.getPathForWin32Calls(), name);\n+        WindowsPath wp = WindowsPath.createFromNormalizedPath(wfs, path);\n+        return wp.getPathForWin32Calls();\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/fs\/WindowsUserDefinedFileAttributeView.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -254,1 +254,0 @@\n-            \/\/ Try to set an extended attribute on it.\n@@ -256,0 +255,7 @@\n+                \/\/ Try to set absolute path as extended attribute; expect IAE\n+                tryCatch(IllegalArgumentException.class, new Task() {\n+                    public void run() throws IOException {\n+                        setEA(longPath, \"user:C:\\\\\");\n+                    }});\n+\n+                \/\/ Try to set an extended attribute on it.\n","filename":"test\/jdk\/java\/nio\/file\/attribute\/UserDefinedFileAttributeView\/Basic.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}