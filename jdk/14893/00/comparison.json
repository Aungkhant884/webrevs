{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,0 +34,1 @@\n+import jdk.internal.misc.Blocker;\n@@ -208,1 +209,11 @@\n-    public native void sync() throws SyncFailedException;\n+    public void sync() throws SyncFailedException {\n+        long comp = Blocker.begin();\n+        try {\n+            sync0();\n+        } finally {\n+            Blocker.end(comp);\n+        }\n+    }\n+\n+    \/* fsync\/equivalent this file descriptor *\/\n+    private native void sync0() throws SyncFailedException;\n","filename":"src\/java.base\/share\/classes\/java\/io\/FileDescriptor.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,1 +61,1 @@\n-Java_java_io_FileDescriptor_sync(JNIEnv *env, jobject this) {\n+Java_java_io_FileDescriptor_sync0(JNIEnv *env, jobject this) {\n","filename":"src\/java.base\/unix\/native\/libjava\/FileDescriptor_md.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -64,1 +64,1 @@\n-Java_java_io_FileDescriptor_sync(JNIEnv *env, jobject this) {\n+Java_java_io_FileDescriptor_sync0(JNIEnv *env, jobject this) {\n","filename":"src\/java.base\/windows\/native\/libjava\/FileDescriptor_md.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}