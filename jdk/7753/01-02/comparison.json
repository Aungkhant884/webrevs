{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,2 @@\n- * @summary Make an automatic AccessibleRelation between JScrollBars and what they scroll (TP)\n+ * @summary Make an automatic AccessibleRelation between\n+ * JScrollBars and what they scroll (TP)\n@@ -40,1 +41,2 @@\n-public class JScrollPaneAccessibleRelationsTest implements PropertyChangeListener {\n+public class JScrollPaneAccessibleRelationsTest\n+implements PropertyChangeListener {\n@@ -47,0 +49,4 @@\n+    private static Object[] jScrollPaneTarget;\n+    private static Object[] horizontalScrollBarTarget;\n+    private static Object[] verticalScrollBarTarget;\n+\n@@ -49,0 +55,1 @@\n+\n@@ -52,1 +59,0 @@\n-\n@@ -63,6 +69,11 @@\n-            Object[] jScrollPaneTarget = jScrollPane.getAccessibleContext()\n-                .getAccessibleRelationSet().get(AccessibleRelation.CONTROLLED_BY).getTarget();\n-            Object[] horizontalScrollBarTarget = horizontalScrollBar.getAccessibleContext()\n-                .getAccessibleRelationSet().get(AccessibleRelation.CONTROLLER_FOR).getTarget();\n-            Object[] verticalScrollBarTarget = verticalScrollBar.getAccessibleContext()\n-                .getAccessibleRelationSet().get(AccessibleRelation.CONTROLLER_FOR).getTarget();\n+            SwingUtilities.invokeAndWait(() -> jScrollPaneTarget =\n+                jScrollPane.getAccessibleContext().getAccessibleRelationSet()\n+                .get(AccessibleRelation.CONTROLLED_BY).getTarget());\n+            SwingUtilities.invokeAndWait(\n+                () -> horizontalScrollBarTarget = horizontalScrollBar\n+                .getAccessibleContext().getAccessibleRelationSet()\n+                .get(AccessibleRelation.CONTROLLER_FOR).getTarget());\n+            SwingUtilities\n+            .invokeAndWait(() -> verticalScrollBarTarget = verticalScrollBar\n+            .getAccessibleContext().getAccessibleRelationSet()\n+            .get(AccessibleRelation.CONTROLLER_FOR).getTarget());\n@@ -71,2 +82,2 @@\n-                throw new RuntimeException(\n-                    \"JScrollPane doesn't have JScrollBar as target for CONTROLLED_BY\");\n+                throw new RuntimeException(\"JScrollPane doesn't have \"\n+                    + \"JScrollBar as target for CONTROLLED_BY\");\n@@ -75,2 +86,2 @@\n-                throw new RuntimeException(\n-                    \"JScrollPane doesn't have JScrollBar as target for CONTROLLED_BY\");\n+                throw new RuntimeException(\"JScrollPane doesn't have \"\n+                    + \"JScrollBar as target for CONTROLLED_BY\");\n@@ -79,2 +90,2 @@\n-                throw new RuntimeException(\n-                    \"HorizontalScrollBar doesn't have JScrollPane as target for CONTROLLER_FOR\");\n+                throw new RuntimeException(\"HorizontalScrollBar doesn't have \"\n+                    + \"JScrollPane as target for CONTROLLER_FOR\");\n@@ -83,2 +94,2 @@\n-                throw new RuntimeException(\n-                    \"VerticalScrollBar doesn't have JScrollPane as target for CONTROLLER_FOR\");\n+                throw new RuntimeException(\"VerticalScrollBar doesn't have \"\n+                    + \"JScrollPane as target for CONTROLLER_FOR\");\n","filename":"test\/jdk\/javax\/accessibility\/4702690\/JScrollPaneAccessibleRelationsTest.java","additions":29,"deletions":18,"binary":false,"changes":47,"status":"modified"}]}