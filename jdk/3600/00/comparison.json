{"files":[{"patch":"@@ -664,7 +664,5 @@\n-        while (cReal != null) {\n-            Map<String, Field> mirrorFields = new HashMap<>();\n-            if (cMirror != null) {\n-                for (Field f : cMirror.getDeclaredFields()) {\n-                    if (isSupportedType(f.getType())) {\n-                        mirrorFields.put(f.getName(), f);\n-                    }\n+        Map<String, Field> mirrorFields = new HashMap<>();\n+        while (cMirror != null) {\n+            for (Field f : cMirror.getDeclaredFields()) {\n+                if (isSupportedType(f.getType())) {\n+                    mirrorFields.put(f.getName(), f);\n@@ -673,0 +671,3 @@\n+            cMirror = cMirror.getSuperclass();\n+        }\n+        while (cReal != null) {\n@@ -680,0 +681,3 @@\n+                    if (realField.getType() != mirrorField.getType()) {\n+                        throw new InternalError(\"Incorrect type for mirror field \" + fieldName);\n+                    }\n@@ -681,1 +685,1 @@\n-                        throw new InternalError(\"Incorrect modifier for mirror field \"+ cMirror.getName() + \"#\" + fieldName);\n+                        throw new InternalError(\"Incorrect modifier for mirror field \" + fieldName);\n@@ -686,7 +690,0 @@\n-            if (!mirrorFields.isEmpty()) {\n-                throw new InternalError(\n-                        \"Found additional fields in mirror class \" + cMirror.getName() + \" \" + mirrorFields.keySet());\n-            }\n-            if (cMirror != null) {\n-                cMirror = cMirror.getSuperclass();\n-            }\n@@ -695,0 +692,4 @@\n+\n+        if (!mirrorFields.isEmpty()) {\n+            throw new InternalError(\"Found additional fields in mirror class \" + mirrorFields.keySet());\n+        }\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/Utils.java","additions":16,"deletions":15,"binary":false,"changes":31,"status":"modified"}]}