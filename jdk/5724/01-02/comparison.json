{"files":[{"patch":"@@ -831,0 +831,9 @@\n+    jclass strClass = NULL;\n+    NULL_CHECK(strClass = (*env)->FindClass(env, \"java\/lang\/String\"));\n+\n+    jmethodID lastIndexMID = NULL;\n+    NULL_CHECK(lastIndexMID = (*env)->GetMethodID(env, strClass, \"lastIndexOf\", \"(I)I\"));\n+\n+    jmethodID subStringMID = NULL;\n+    NULL_CHECK(subStringMID = (*env)->GetMethodID(env, strClass, \"substring\", \"(I)Ljava\/lang\/String;\"));\n+\n@@ -837,0 +846,14 @@\n+    jint lastPeriod = (*env)->CallIntMethod(env, mainClassString, lastIndexMID, (jint)'.');\n+    if ((*env)->ExceptionCheck(env)) {\n+        (*env)->ExceptionClear(env);\n+        return;\n+    }\n+\n+    if (lastPeriod != -1) {\n+        mainClassString = (*env)->CallObjectMethod(env, mainClassString, subStringMID, lastPeriod+1);\n+        if ((*env)->ExceptionCheck(env)) {\n+            (*env)->ExceptionClear(env);\n+            return;\n+        }\n+    }\n+\n@@ -842,1 +865,1 @@\n-     * Not idea if how much external code ever sets it, but use it if set, else\n+     * No idea if how much external code ever sets it, but use it if set, else\n","filename":"src\/java.base\/macosx\/native\/libjli\/java_md_macosx.m","additions":24,"deletions":1,"binary":false,"changes":25,"status":"modified"}]}