{"files":[{"patch":"@@ -43,1 +43,0 @@\n-vmTestbase\/nsk\/jdi\/ObjectReference\/referringObjects\/referringObjects002\/referringObjects002.java 8265796  generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,0 +59,2 @@\n+ * @build sun.hotspot.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller sun.hotspot.WhiteBox\n@@ -66,1 +68,2 @@\n- *      -debugee.vmkeys=\"-Xmx256M ${test.vm.opts} ${test.java.opts}\"\n+ *      -debugee.vmkeys=\"-Xmx256M -Xbootclasspath\/a:. -XX:+UnlockDiagnosticVMOptions\n+ *                       -XX:+WhiteBoxAPI  ${test.vm.opts} ${test.java.opts}\"\n@@ -100,0 +103,4 @@\n+        log.display(\"References:\");\n+        for (ObjectReference ref: classObjectReference.referringObjects(0)) {\n+            log.display(ref);\n+        }\n@@ -140,1 +147,0 @@\n-\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/referringObjects\/referringObjects002\/referringObjects002.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import sun.hotspot.WhiteBox;\n@@ -59,0 +60,2 @@\n+    private final WhiteBox WB = WhiteBox.getWhiteBox();\n+\n@@ -79,0 +82,3 @@\n+        \/\/ force full GC with WB to ensure that weak refernces are collected\n+        \/\/ j.l.i.MethodType has ConcurrentWeakInternSet which might contain references to TestClass1\n+        WB.fullGC();\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ObjectReference\/referringObjects\/referringObjects002\/referringObjects002a.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}