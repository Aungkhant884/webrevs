{"files":[{"patch":"@@ -1299,1 +1299,1 @@\n-            int s = top++, cap, m; ForkJoinTask<?>[] a;\n+            int s = top++, cap, m, room; ForkJoinTask<?>[] a;\n@@ -1301,1 +1301,1 @@\n-                if ((m = cap - 1) == s - base)\n+                if ((room = (m = cap - 1) - (s - base)) == 0)\n@@ -1311,2 +1311,0 @@\n-                    if (a[m & (s - 1)] == null && pool != null)\n-                        pool.signalWork();\n@@ -1314,0 +1312,2 @@\n+                if ((room == 0 || a[m & (s - 1)] == null) && pool != null)\n+                    pool.signalWork();\n@@ -1324,0 +1324,1 @@\n+            U.storeFence();                  \/\/ ensure task publishable\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}