{"files":[{"patch":"@@ -852,2 +852,2 @@\n-            ResourceBundle rb = localeData.getDateFormatData(locale);\n-            lpArray = rb.getStringArray(\"ListPatterns_\" + typeStr + (style == ListFormat.Style.FULL ? \"\" : \"-\" + styleStr));\n+            var rbKey = \"ListPatterns_\" + typeStr + (style == ListFormat.Style.FULL ? \"\" : \"-\" + styleStr);\n+            lpArray = localeData.getDateFormatData(locale).getStringArray(rbKey);\n@@ -856,2 +856,2 @@\n-                var adapter = LocaleProviderAdapter.forType(LocaleProviderAdapter.Type.CLDR);\n-                if (adapter instanceof ResourceBundleBasedAdapter rbba) {\n+                if (LocaleProviderAdapter.forType(LocaleProviderAdapter.Type.CLDR)\n+                        instanceof ResourceBundleBasedAdapter rbba) {\n@@ -859,6 +859,7 @@\n-                    \/\/ make sure there is at least one parent locale\n-                    if (candList.size() >= 2) {\n-                        var parentPatterns = adapter.getLocaleResources(candList.get(1)).getListPatterns(type, style);\n-                        for (int i = 0; i < 3; i++) { \/\/ exclude optional ones, ie, \"two\"\/\"three\"\n-                            if (lpArray[i].isEmpty()) {\n-                                lpArray[i] = parentPatterns[i];\n+                    if (!candList.isEmpty()) {\n+                        for (var p : candList.subList(1, candList.size())) {\n+                            var parentPatterns = localeData.getDateFormatData(p).getStringArray(rbKey);\n+                            for (int i = 0; i < 3; i++) { \/\/ exclude optional ones, ie, \"two\"\/\"three\"\n+                                if (lpArray[i].isEmpty()) {\n+                                    lpArray[i] = parentPatterns[i];\n+                                }\n","filename":"src\/java.base\/share\/classes\/sun\/util\/locale\/provider\/LocaleResources.java","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -319,0 +319,1 @@\n+        var world = Locale.forLanguageTag(\"en-001\");\n@@ -320,3 +321,3 @@\n-            ListFormat [locale: \"English (world)\", start: \"{0}, {1}\", middle: \"{0}, {1}\", end: \"{0} and {1}\", two: \"{0} and {1}\", three: \"{0}, {1} and {2}\"]\n-            \"\"\",\n-            ListFormat.getInstance(Locale.forLanguageTag(\"en-001\"), ListFormat.Type.STANDARD, ListFormat.Style.FULL).toString());\n+            ListFormat [locale: \"%s\", start: \"{0}, {1}\", middle: \"{0}, {1}\", end: \"{0} and {1}\", two: \"{0} and {1}\", three: \"{0}, {1} and {2}\"]\n+            \"\"\".formatted(world.getDisplayName()),\n+            ListFormat.getInstance(world, ListFormat.Type.STANDARD, ListFormat.Style.FULL).toString());\n","filename":"test\/jdk\/java\/text\/Format\/ListFormat\/TestListFormat.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}