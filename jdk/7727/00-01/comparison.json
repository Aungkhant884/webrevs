{"files":[{"patch":"@@ -537,0 +537,1 @@\n+#ifdef __APPLE__\n@@ -545,2 +546,1 @@\n-    pthread_jit_write_protect_np(false \/* not executable but writable *\/);\n-    _wx_state = WXWrite;\n+    _wx_state = WXWrite; \/\/ No way to know but we assume the original state is \"writable, not executable\"\n@@ -549,4 +549,2 @@\n-  if (_wx_state != new_state) {\n-    _wx_state = new_state;\n-    pthread_jit_write_protect_np(_wx_state == WXExec);\n-  }\n+  _wx_state = new_state;\n+  pthread_jit_write_protect_np(_wx_state == WXExec);\n@@ -556,1 +554,1 @@\n-void os::current_thread_reset_wx() {\n+void os::current_thread_init_wx() {\n@@ -563,0 +561,1 @@\n+#endif\n","filename":"src\/hotspot\/os_cpu\/bsd_aarch64\/os_bsd_aarch64.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -3809,1 +3809,1 @@\n-  MACOS_AARCH64_ONLY(os::current_thread_reset_wx());\n+  MACOS_AARCH64_ONLY(os::current_thread_init_wx());\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -943,1 +943,2 @@\n-  static void current_thread_reset_wx();\n+  \/\/ initializes the WXMode to WXWrite, as writeable pages are the default here\n+  static void current_thread_init_wx();\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -279,1 +279,1 @@\n-  MACOS_AARCH64_ONLY(DEBUG_ONLY(os::current_thread_reset_wx();))\n+  MACOS_AARCH64_ONLY(DEBUG_ONLY(os::current_thread_init_wx();))\n@@ -341,1 +341,1 @@\n-  MACOS_AARCH64_ONLY(os::current_thread_reset_wx());\n+  MACOS_AARCH64_ONLY(os::current_thread_init_wx());\n@@ -2790,1 +2790,1 @@\n-  MACOS_AARCH64_ONLY(os::current_thread_reset_wx());\n+  MACOS_AARCH64_ONLY(os::current_thread_init_wx());\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}