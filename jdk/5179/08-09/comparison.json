{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2021 Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,2 +31,0 @@\n-import java.net.URI;\n-import java.net.URLDecoder;\n@@ -36,4 +34,0 @@\n-import java.nio.channels.SeekableByteChannel;\n-import java.nio.charset.StandardCharsets;\n-import java.nio.file.FileSystem;\n-import java.nio.file.FileSystems;\n@@ -44,1 +38,0 @@\n-import java.util.Collections;\n@@ -46,0 +39,1 @@\n+import java.util.concurrent.CompletableFuture;\n@@ -48,1 +42,0 @@\n-import java.util.concurrent.CompletableFuture;\n@@ -52,2 +45,0 @@\n-import java.util.jar.JarEntry;\n-import java.util.jar.JarOutputStream;\n@@ -84,2 +75,2 @@\n-        ifOutIsNullThenNpeIsThrown(inputStreamProvider);\n-        contents(inputStreamProvider, outputStreamProvider);\n+        testNullPointerException(inputStreamProvider);\n+        testStreamContents(inputStreamProvider, outputStreamProvider);\n@@ -88,1 +79,1 @@\n-    private static void ifOutIsNullThenNpeIsThrown(InputStreamProvider inputStreamProvider) throws Exception {\n+    private static void testNullPointerException(InputStreamProvider inputStreamProvider) throws Exception {\n@@ -102,2 +93,2 @@\n-    private static void contents(InputStreamProvider inputStreamProvider, OutputStreamProvider outputStreamProvider)\n-            throws Exception {\n+    private static void testStreamContents(InputStreamProvider inputStreamProvider,\n+            OutputStreamProvider outputStreamProvider) throws Exception {\n@@ -110,1 +101,1 @@\n-        \/\/ randomly chosen starting points within source and target\n+        \/\/ randomly chosen starting positions within source and target\n@@ -117,0 +108,6 @@\n+\n+        \/\/ beyond source EOF\n+        checkTransferredContents(inputStreamProvider, outputStreamProvider, createRandomBytes(4096, 0), 4096, 0);\n+\n+        \/\/ beyond target EOF\n+        checkTransferredContents(inputStreamProvider, outputStreamProvider, createRandomBytes(4096, 0), 0, 4096);\n@@ -129,1 +126,1 @@\n-            \/\/ skip bytes till starting point\n+            \/\/ skip bytes till starting position\n@@ -148,1 +145,1 @@\n-        byte[] bytes = new byte[min + RND.nextInt(maxRandomAdditive)];\n+        byte[] bytes = new byte[min + (maxRandomAdditive == 0 ? 0 : RND.nextInt(maxRandomAdditive))];\n@@ -153,1 +150,1 @@\n-    private static interface InputStreamProvider {\n+    private interface InputStreamProvider {\n@@ -157,1 +154,1 @@\n-    private static interface OutputStreamProvider {\n+    private interface OutputStreamProvider {\n","filename":"test\/jdk\/java\/nio\/channels\/Channels\/TransferTo.java","additions":18,"deletions":21,"binary":false,"changes":39,"previous_filename":"test\/jdk\/sun\/nio\/ch\/ChannelInputStream\/TransferTo.java","status":"renamed"}]}