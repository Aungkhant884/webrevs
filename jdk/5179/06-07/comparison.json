{"files":[{"patch":"@@ -46,1 +46,3 @@\n-import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.CompletableFuture;\n@@ -212,3 +214,1 @@\n-                CountDownLatch cdl = new CountDownLatch(1);\n-                AtomicReference<byte[]> bytes = new AtomicReference<>();\n-                Thread reader = new Thread(() -> {\n+                Future<byte[]> bytes = CompletableFuture.supplyAsync(() -> {\n@@ -217,1 +217,1 @@\n-                        bytes.set(is.readAllBytes());\n+                        return is.readAllBytes();\n@@ -220,2 +220,0 @@\n-                    } finally {\n-                        cdl.countDown();\n@@ -224,1 +222,0 @@\n-                reader.start();\n@@ -231,1 +228,0 @@\n-                        cdl.await();\n@@ -235,1 +231,1 @@\n-                    } catch (IOException | InterruptedException e) {\n+                    } catch (IOException | InterruptedException | ExecutionException e) {\n","filename":"test\/jdk\/sun\/nio\/ch\/ChannelInputStream\/TransferTo.java","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"}]}