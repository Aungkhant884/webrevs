{"files":[{"patch":"@@ -1323,1 +1323,1 @@\n-            buffer.append(String.format(Locale.ROOT, \"%0\"+ width +\"d\", num));\n+            CalendarUtils.sprintf0d(buffer, num, width);\n@@ -1343,1 +1343,1 @@\n-            buffer.append(String.format(Locale.ROOT, \"%0\"+ 2 +\"d\", value \/ 60));\n+            CalendarUtils.sprintf0d(buffer, value \/ 60, 2);\n@@ -1351,1 +1351,1 @@\n-            buffer.append(String.format(Locale.ROOT, \"%0\"+ 2 +\"d\", value % 60));\n+            CalendarUtils.sprintf0d(buffer, value % 60, 2);\n","filename":"src\/java.base\/share\/classes\/java\/text\/SimpleDateFormat.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1038,4 +1038,5 @@\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getDayOfMonth())).append(' '); \/\/ dd\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getHours())).append(':'); \/\/ HH\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getMinutes())).append(':'); \/\/ mm\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getSeconds())).append(' '); \/\/ ss\n+        CalendarUtils.sprintf0d(sb, date.getDayOfMonth(), 2).append(' '); \/\/ dd\n+\n+        CalendarUtils.sprintf0d(sb, date.getHours(), 2).append(':');   \/\/ HH\n+        CalendarUtils.sprintf0d(sb, date.getMinutes(), 2).append(':'); \/\/ mm\n+        CalendarUtils.sprintf0d(sb, date.getSeconds(), 2).append(' '); \/\/ ss\n@@ -1057,1 +1058,1 @@\n-    private static StringBuilder convertToAbbr(StringBuilder sb, String name) {\n+    private static final StringBuilder convertToAbbr(StringBuilder sb, String name) {\n@@ -1124,1 +1125,1 @@\n-        sb.append(String.format(Locale.ROOT, \"%0\"+1+\"d\", date.getDayOfMonth())).append(' '); \/\/ d\n+        CalendarUtils.sprintf0d(sb, date.getDayOfMonth(), 1).append(' '); \/\/ d\n@@ -1127,4 +1128,3 @@\n-\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getHours())).append(':'); \/\/ HH\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getMinutes())).append(':'); \/\/ mm\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", date.getSeconds())); \/\/ ss\n+        CalendarUtils.sprintf0d(sb, date.getHours(), 2).append(':');      \/\/ HH\n+        CalendarUtils.sprintf0d(sb, date.getMinutes(), 2).append(':');    \/\/ mm\n+        CalendarUtils.sprintf0d(sb, date.getSeconds(), 2);                \/\/ ss\n","filename":"src\/java.base\/share\/classes\/java\/util\/Date.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.util.Locale;\n@@ -345,0 +344,1 @@\n+    @Override\n@@ -367,0 +367,1 @@\n+    @Override\n@@ -385,0 +386,1 @@\n+    @Override\n@@ -387,7 +389,7 @@\n-        sb.append(String.format(Locale.ROOT, \"%0\"+4+\"d\", year)).append('-');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", month)).append('-');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", dayOfMonth)).append('T');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", hours)).append(':');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", minutes)).append(':');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", seconds)).append('.');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+3+\"d\", millis));\n+        CalendarUtils.sprintf0d(sb, year, 4).append('-');\n+        CalendarUtils.sprintf0d(sb, month, 2).append('-');\n+        CalendarUtils.sprintf0d(sb, dayOfMonth, 2).append('T');\n+        CalendarUtils.sprintf0d(sb, hours, 2).append(':');\n+        CalendarUtils.sprintf0d(sb, minutes, 2).append(':');\n+        CalendarUtils.sprintf0d(sb, seconds, 2).append('.');\n+        CalendarUtils.sprintf0d(sb, millis, 3);\n@@ -408,2 +410,2 @@\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", offset \/ 60));\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", offset % 60));\n+            CalendarUtils.sprintf0d(sb, offset \/ 60, 2);\n+            CalendarUtils.sprintf0d(sb, offset % 60, 2);\n","filename":"src\/java.base\/share\/classes\/sun\/util\/calendar\/CalendarDate.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -129,0 +129,41 @@\n+\n+    \/**\n+     * Mimics sprintf(buf, \"%0*d\", decaimal, width).\n+     *\/\n+    public static StringBuilder sprintf0d(StringBuilder sb, int value, int width) {\n+        long d = value;\n+        if (d < 0) {\n+            sb.append('-');\n+            d = -d;\n+            --width;\n+        }\n+        int n = 10;\n+        for (int i = 2; i < width; i++) {\n+            n *= 10;\n+        }\n+        for (int i = 1; i < width && d < n; i++) {\n+            sb.append('0');\n+            n \/= 10;\n+        }\n+        sb.append(d);\n+        return sb;\n+    }\n+\n+    public static StringBuffer sprintf0d(StringBuffer sb, int value, int width) {\n+        long d = value;\n+        if (d < 0) {\n+            sb.append('-');\n+            d = -d;\n+            --width;\n+        }\n+        int n = 10;\n+        for (int i = 2; i < width; i++) {\n+            n *= 10;\n+        }\n+        for (int i = 1; i < width && d < n; i++) {\n+            sb.append('0');\n+            n \/= 10;\n+        }\n+        sb.append(d);\n+        return sb;\n+    }\n","filename":"src\/java.base\/share\/classes\/sun\/util\/calendar\/CalendarUtils.java","additions":41,"deletions":0,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import java.util.Locale;\n@@ -111,2 +110,2 @@\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", getMonth())).append('-');\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", getDayOfMonth()));\n+            CalendarUtils.sprintf0d(sb, getMonth(), 2).append('-');\n+            CalendarUtils.sprintf0d(sb, getDayOfMonth(), 2);\n","filename":"src\/java.base\/share\/classes\/sun\/util\/calendar\/JulianCalendar.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import java.util.Locale;\n@@ -136,2 +135,2 @@\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", getMonth())).append('.');\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", getDayOfMonth()));\n+            CalendarUtils.sprintf0d(sb, getMonth(), 2).append('.');\n+            CalendarUtils.sprintf0d(sb, getDayOfMonth(), 2);\n","filename":"src\/java.base\/share\/classes\/sun\/util\/calendar\/LocalGregorianCalendar.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,0 @@\n-import java.util.Locale;\n@@ -376,3 +375,3 @@\n-        sb.append(String.format(Locale.ROOT, \"%0\"+4+\"d\", cal.get(YEAR))).append('-');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", cal.get(MONTH)+1)).append('-');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", cal.get(DAY_OF_MONTH)));\n+        CalendarUtils.sprintf0d(sb, cal.get(YEAR), 4).append('-');\n+        CalendarUtils.sprintf0d(sb, cal.get(MONTH)+1, 2).append('-');\n+        CalendarUtils.sprintf0d(sb, cal.get(DAY_OF_MONTH), 2);\n@@ -384,4 +383,4 @@\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", cal.get(HOUR_OF_DAY))).append(':');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", cal.get(MINUTE))).append(':');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", cal.get(SECOND))).append('.');\n-        sb.append(String.format(Locale.ROOT, \"%0\"+3+\"d\", cal.get(MILLISECOND)));\n+        CalendarUtils.sprintf0d(sb, cal.get(HOUR_OF_DAY), 2).append(':');\n+        CalendarUtils.sprintf0d(sb, cal.get(MINUTE), 2).append(':');\n+        CalendarUtils.sprintf0d(sb, cal.get(SECOND),2 ).append('.');\n+        CalendarUtils.sprintf0d(sb, cal.get(MILLISECOND), 3);\n@@ -403,2 +402,2 @@\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", offset \/ 60));\n-            sb.append(String.format(Locale.ROOT, \"%0\"+2+\"d\", offset % 60));\n+            CalendarUtils.sprintf0d(sb, offset \/ 60, 2);\n+            CalendarUtils.sprintf0d(sb, offset % 60, 2);\n","filename":"test\/jdk\/java\/util\/Calendar\/CalendarTestScripts\/CalendarAdapter.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"}]}