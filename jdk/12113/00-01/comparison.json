{"files":[{"patch":"@@ -62,1 +62,0 @@\n-  _bytes_used_before(0),\n@@ -116,1 +115,0 @@\n-  _bytes_used_before += hr->used();\n@@ -135,2 +133,0 @@\n-  _bytes_used_before = 0;\n-\n@@ -202,20 +198,0 @@\n-  \/\/ This routine is used when:\n-  \/\/ * adding survivor regions to the incremental cset at the end of an\n-  \/\/   evacuation pause or\n-  \/\/ * adding the current allocation region to the incremental cset\n-  \/\/   when it is retired.\n-  \/\/ Therefore this routine may be called at a safepoint by the\n-  \/\/ VM thread, or in-between safepoints by mutator threads (when\n-  \/\/ retiring the current allocation region)\n-  \/\/ We need to clear and set the cached recorded\/cached collection set\n-  \/\/ information in the heap region here (before the region gets added\n-  \/\/ to the collection set). An individual heap region's cached values\n-  \/\/ are calculated, aggregated with the policy collection set info,\n-  \/\/ and cached in the heap region here (initially) and (subsequently)\n-  \/\/ by the Young List sampling code.\n-  \/\/ Ignore calls to this due to retirement during full gc.\n-\n-  if (!_g1h->collector_state()->in_full_gc()) {\n-    _bytes_used_before += hr->used();\n-  }\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSet.cpp","additions":0,"deletions":24,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -159,3 +159,0 @@\n-  \/\/ The number of used bytes in the collection set as evacuated.\n-  size_t _bytes_used_before;\n-\n@@ -265,4 +262,0 @@\n-  size_t bytes_used_before() const {\n-    return _bytes_used_before;\n-  }\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSet.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -1023,1 +1023,0 @@\n-  evacuation_info->set_collectionset_used_before(collection_set()->bytes_used_before());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -468,0 +468,1 @@\n+    evacuation_info->set_collectionset_used_before(_after_used_bytes + _before_used_bytes);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}