{"files":[{"patch":"@@ -1857,2 +1857,2 @@\n-        public BindingSymbol(Name name, Type type, Symbol owner) {\n-            super(Flags.HASINIT | Flags.MATCH_BINDING, name, type, owner);\n+        public BindingSymbol(long flags, Name name, Type type, Symbol owner) {\n+            super(flags | Flags.HASINIT | Flags.MATCH_BINDING, name, type, owner);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Symbol.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3988,1 +3988,1 @@\n-        BindingSymbol v = new BindingSymbol(tree.var.name, tree.var.vartype.type, env.info.scope.owner);\n+        BindingSymbol v = new BindingSymbol(tree.var.mods.flags, tree.var.name, tree.var.vartype.type, env.info.scope.owner);\n@@ -5750,1 +5750,1 @@\n-                that.var.sym = new BindingSymbol(that.var.name, that.var.type, syms.noSymbol);\n+                that.var.sym = new BindingSymbol(0, that.var.name, that.var.type, syms.noSymbol);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -936,2 +936,1 @@\n-                JCModifiers mods = modifiersOpt();\n-                checkNoMods(mods.flags & ~Flags.DEPRECATED);\n+                JCModifiers mods = optFinal(0);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/parser\/JavacParser.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -188,0 +188,15 @@\n+        if (o1 instanceof final String s) {\n+            Runnable r1 = new Runnable() {\n+                @Override\n+                public void run() {\n+                    s.length();\n+                }\n+            };\n+            r1.run();\n+            Runnable r2 = () -> {\n+                s.length();\n+            };\n+            r2.run();\n+            String s2 = s;\n+        }\n+\n","filename":"test\/langtools\/tools\/javac\/patterns\/BindingsTest1.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -244,0 +244,6 @@\n+\n+        {\n+            if (o1 instanceof final String s) {\n+                s = \"\";\n+            }\n+        }\n","filename":"test\/langtools\/tools\/javac\/patterns\/BindingsTest2.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+BindingsTest2.java:247:17: compiler.err.cant.assign.val.to.final.var: s\n@@ -52,1 +53,1 @@\n-51 errors\n\\ No newline at end of file\n+52 errors\n","filename":"test\/langtools\/tools\/javac\/patterns\/BindingsTest2.out","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}