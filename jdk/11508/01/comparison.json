{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -100,0 +100,1 @@\n+    ColorModelS_t *cmP = &imageP->cmodel;\n@@ -101,1 +102,1 @@\n-                                      &imageP->cmodel)) <= 0) {\n+                                      cmP)) <= 0) {\n@@ -457,0 +458,1 @@\n+    cmP->nBits = NULL;\n@@ -488,1 +490,0 @@\n-    cmP->nBits = NULL;\n@@ -511,1 +512,3 @@\n-    JNU_CHECK_EXCEPTION_RETURN(env, -1);\n+    if ((*env)->ExceptionCheck(env)) {\n+        goto cleanup;\n+    }\n@@ -533,1 +536,3 @@\n-            CHECK_NULL_RETURN(jcm, -1);\n+            if (jcm == NULL) {\n+                goto cleanup;\n+            }\n@@ -536,0 +541,5 @@\n+            if ((*env)->ExceptionCheck(env)) {\n+                (*env)->ExceptionClear(env);\n+                JNU_ThrowNullPointerException(env, \"Unable to find default CM\");\n+                goto cleanup;\n+            }\n@@ -540,1 +550,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -552,1 +562,1 @@\n-            return -1;\n+            goto cleanup;\n@@ -557,1 +567,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -575,1 +585,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -593,0 +603,4 @@\n+\n+cleanup:\n+    free(cmP->nBits);\n+    return -1;\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/awt_parseImage.c","additions":23,"deletions":9,"binary":false,"changes":32,"status":"modified"}]}