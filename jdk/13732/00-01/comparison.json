{"files":[{"patch":"@@ -75,1 +75,1 @@\n-    private static final int DT_BYTE = Byte.BYTES;\n+    private static final int DT_BYTE = 0;\n@@ -77,1 +77,1 @@\n-    private static final int DT_SHORT = Short.BYTES;\n+    private static final int DT_SHORT = 1;\n@@ -79,1 +79,1 @@\n-    private static final int DT_INT = Integer.BYTES;\n+    private static final int DT_INT = 2;\n@@ -92,1 +92,10 @@\n-    private LCMSImageLayout(Object data, int length, int nc, int type) {\n+    \/**\n+     * Creates a layout object for given parameters.\n+     *\n+     * @param  data the storage of pixels: {@code byte[], short[] or int[]}\n+     * @param  length the length of the data array\n+     * @param  nc the number of color components\n+     * @param  dt the type of data array: DT_BYTE, DT_SHORT or DT_INT\n+     * @param  size the size of one color component in bytes\n+     *\/\n+    private LCMSImageLayout(Object data, int length, int nc, int dt, int size) {\n@@ -94,3 +103,3 @@\n-        dataType = type;\n-        dataArrayLength = length * type;\n-        pixelType = CHANNELS_SH(nc) | BYTES_SH(type);\n+        dataType = dt;\n+        dataArrayLength = length * size;\n+        pixelType = CHANNELS_SH(nc) | BYTES_SH(size);\n@@ -99,1 +108,1 @@\n-        nextPixelOffset = nc * type;\n+        nextPixelOffset = nc * size;\n@@ -105,1 +114,1 @@\n-        this(data, data.length, nc, DT_BYTE);\n+        this(data, data.length, nc, DT_BYTE, Byte.BYTES);\n@@ -109,1 +118,1 @@\n-        this(data, data.length, nc, DT_SHORT);\n+        this(data, data.length, nc, DT_SHORT, Short.BYTES);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMSImageLayout.java","additions":19,"deletions":10,"binary":false,"changes":29,"status":"modified"}]}