{"files":[{"patch":"@@ -426,3 +426,3 @@\n-        Path auxSrc = base.resolve(\"auxSrc\");\n-        tb.writeJavaFiles(auxSrc,\n-            \"public class Aux {\\n\" +\n+        Path extraSrc = base.resolve(\"extraSrc\");\n+        tb.writeJavaFiles(extraSrc,\n+            \"public class Extra {\\n\" +\n@@ -437,1 +437,1 @@\n-            \"        System.out.println(Aux.MESSAGE + Arrays.toString(args));\\n\" +\n+            \"        System.out.println(Extra.MESSAGE + Arrays.toString(args));\\n\" +\n@@ -441,1 +441,1 @@\n-        List<String> javacArgs = List.of(\"-classpath\", auxSrc.toString());\n+        List<String> javacArgs = List.of(\"-classpath\", extraSrc.toString());\n@@ -446,1 +446,1 @@\n-            \"        System.out.println(Aux.MESSAGE + Arrays.toString(args));\\n\" +\n+            \"        System.out.println(Extra.MESSAGE + Arrays.toString(args));\\n\" +\n@@ -448,1 +448,1 @@\n-            \"  symbol:   variable Aux\\n\" +\n+            \"  symbol:   variable Extra\\n\" +\n","filename":"test\/langtools\/tools\/javac\/launcher\/SourceLauncherTest.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -679,1 +679,1 @@\n-            if (matcher.find())\n+            if (matcher.find()) {\n@@ -681,0 +681,2 @@\n+                validateName(packageName);\n+            }\n@@ -685,0 +687,1 @@\n+                validateName(className);\n@@ -709,0 +712,18 @@\n+    private static final Set<String> RESERVED_NAMES = Set.of(\n+        \"con\", \"prn\", \"aux\", \"nul\",\n+        \"com1\", \"com2\", \"com3\", \"com4\", \"com5\", \"com6\", \"com7\", \"com8\",  \"com9\",\n+        \"lpt1\", \"lpt2\", \"lpt3\", \"lpt4\", \"lpt5\", \"lpt6\", \"lpt7\", \"lpt8\",  \"lpt9\"\n+    );\n+\n+    \/**Validate if a given name is a valid file name\n+     * or path name on known platforms.\n+     *\/\n+    public static void validateName(String name) {\n+        for (String part : name.split(\"\\\\.|\/|\\\\\\\\\")) {\n+            if (RESERVED_NAMES.contains(part.toLowerCase(Locale.US))) {\n+                throw new IllegalArgumentException(\"Name: \" + name + \" is\" +\n+                                                   \"a reserved name on Windows, \" +\n+                                                   \"and will not work!\");\n+            }\n+        }\n+    }\n","filename":"test\/langtools\/tools\/lib\/toolbox\/ToolBox.java","additions":22,"deletions":1,"binary":false,"changes":23,"status":"modified"}]}