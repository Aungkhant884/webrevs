{"files":[{"patch":"@@ -753,12 +753,3 @@\n-        if (! (obj instanceof AccessControlContext))\n-            return false;\n-\n-        AccessControlContext that = (AccessControlContext) obj;\n-\n-        if (!equalContext(that))\n-            return false;\n-\n-        if (!equalLimitedContext(that))\n-            return false;\n-\n-        return true;\n+        return obj instanceof AccessControlContext that\n+                && equalContext(that)\n+                && equalLimitedContext(that);\n","filename":"src\/java.base\/share\/classes\/java\/security\/AccessControlContext.java","additions":3,"deletions":12,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -367,1 +367,1 @@\n-        if (! (permission instanceof BasicPermission))\n+        if (!(permission instanceof BasicPermission basicPermission))\n@@ -373,2 +373,0 @@\n-        BasicPermission bp = (BasicPermission) permission;\n-\n@@ -380,1 +378,1 @@\n-            permClass = bp.getClass();\n+            permClass = basicPermission.getClass();\n@@ -382,1 +380,1 @@\n-            if (bp.getClass() != permClass)\n+            if (basicPermission.getClass() != permClass)\n@@ -387,1 +385,1 @@\n-        String canonName = bp.getCanonicalName();\n+        String canonName = basicPermission.getCanonicalName();\n@@ -408,1 +406,1 @@\n-        if (! (permission instanceof BasicPermission))\n+        if (!(permission instanceof BasicPermission basicPermission))\n@@ -411,2 +409,0 @@\n-        BasicPermission bp = (BasicPermission) permission;\n-\n@@ -414,1 +410,1 @@\n-        if (bp.getClass() != permClass)\n+        if (basicPermission.getClass() != permClass)\n@@ -425,1 +421,1 @@\n-        String path = bp.getCanonicalName();\n+        String path = basicPermission.getCanonicalName();\n","filename":"src\/java.base\/share\/classes\/java\/security\/BasicPermission.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -129,1 +129,1 @@\n-        if (obj == null || (!(obj instanceof CodeSigner))) {\n+        if (obj == null || (!(obj instanceof CodeSigner that))) {\n@@ -132,1 +132,0 @@\n-        CodeSigner that = (CodeSigner)obj;\n","filename":"src\/java.base\/share\/classes\/java\/security\/CodeSigner.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -37,0 +37,2 @@\n+import java.util.Objects;\n+\n@@ -160,16 +162,3 @@\n-        if (!(obj instanceof CodeSource))\n-            return false;\n-\n-        CodeSource cs = (CodeSource) obj;\n-\n-        \/\/ URLs must match\n-        if (location == null) {\n-            \/\/ if location is null, then cs.location must be null as well\n-            if (cs.location != null) return false;\n-        } else {\n-            \/\/ if location is not null, then it must equal cs.location\n-            if (!location.equals(cs.location)) return false;\n-        }\n-\n-        \/\/ certs must match\n-        return matchCerts(cs, true);\n+        return (obj instanceof CodeSource other)\n+                && Objects.equals(location, other.location)\n+                && matchCerts(other, true);\n","filename":"src\/java.base\/share\/classes\/java\/security\/CodeSource.java","additions":5,"deletions":16,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -342,3 +342,2 @@\n-        if (identity instanceof Identity) {\n-            Identity i = (Identity)identity;\n-            if (this.fullName().equals(i.fullName())) {\n+        if (identity instanceof Identity other) {\n+            if (this.fullName().equals(other.fullName())) {\n@@ -347,1 +346,1 @@\n-                return identityEquals(i);\n+                return identityEquals(other);\n","filename":"src\/java.base\/share\/classes\/java\/security\/Identity.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -316,1 +316,1 @@\n-                    if (obj instanceof KeyFactorySpi == false) {\n+                    if (!(obj instanceof KeyFactorySpi spi)) {\n@@ -319,1 +319,0 @@\n-                    KeyFactorySpi spi = (KeyFactorySpi)obj;\n","filename":"src\/java.base\/share\/classes\/java\/security\/KeyFactory.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -626,1 +626,1 @@\n-                        if (inst instanceof KeyPairGeneratorSpi == false) {\n+                        if (!(inst instanceof KeyPairGeneratorSpi spi)) {\n@@ -632,1 +632,0 @@\n-                        KeyPairGeneratorSpi spi = (KeyPairGeneratorSpi)inst;\n","filename":"src\/java.base\/share\/classes\/java\/security\/KeyPairGenerator.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1964,2 +1964,2 @@\n-            if ((protection instanceof PasswordProtection == false) &&\n-                (protection instanceof CallbackHandlerProtection == false)) {\n+            if (!(protection instanceof PasswordProtection) &&\n+                !(protection instanceof CallbackHandlerProtection)) {\n@@ -1970,1 +1970,1 @@\n-            if (file.isFile() == false) {\n+            if (!file.isFile()) {\n@@ -2059,1 +2059,1 @@\n-                        if (protection instanceof CallbackHandlerProtection == false) {\n+                        if (!(protection instanceof CallbackHandlerProtection)) {\n@@ -2193,1 +2193,1 @@\n-                        if (protection instanceof CallbackHandlerProtection == false) {\n+                        if (!(protection instanceof CallbackHandlerProtection)) {\n","filename":"src\/java.base\/share\/classes\/java\/security\/KeyStore.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -301,2 +301,1 @@\n-        if (objs[0] instanceof MessageDigest) {\n-            MessageDigest md = (MessageDigest)objs[0];\n+        if (objs[0] instanceof MessageDigest md) {\n","filename":"src\/java.base\/share\/classes\/java\/security\/MessageDigest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1080,4 +1080,2 @@\n-            if (!(obj instanceof ServiceKey other)) {\n-                return false;\n-            }\n-            return this.type.equals(other.type)\n+            return obj instanceof ServiceKey other\n+                && this.type.equals(other.type)\n@@ -1503,5 +1501,2 @@\n-            if (obj instanceof UString == false) {\n-                return false;\n-            }\n-            UString other = (UString)obj;\n-            return lowerString.equals(other.lowerString);\n+            return obj instanceof UString other\n+                    && lowerString.equals(other.lowerString);\n@@ -2008,1 +2003,1 @@\n-            if (cap.supportsParameter == false) {\n+            if (!cap.supportsParameter) {\n@@ -2013,1 +2008,1 @@\n-            if ((parameter != null) && (parameter instanceof Key == false)) {\n+            if ((parameter != null) && (!(parameter instanceof Key))) {\n@@ -2017,1 +2012,1 @@\n-            if (hasKeyAttributes() == false) {\n+            if (!hasKeyAttributes()) {\n","filename":"src\/java.base\/share\/classes\/java\/security\/Provider.java","additions":7,"deletions":12,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -257,12 +257,4 @@\n-            if (!(obj instanceof CodeSourceKey)) {\n-                return false;\n-            }\n-\n-            CodeSourceKey csk = (CodeSourceKey) obj;\n-\n-            if (!Objects.equals(cs.getLocationNoFragString(),\n-                                csk.cs.getLocationNoFragString())) {\n-                return false;\n-            }\n-\n-            return cs.matchCerts(csk.cs, true);\n+            return obj instanceof CodeSourceKey other\n+                    && Objects.equals(cs.getLocationNoFragString(),\n+                                other.cs.getLocationNoFragString())\n+                    && cs.matchCerts(other.cs, true);\n","filename":"src\/java.base\/share\/classes\/java\/security\/SecureClassLoader.java","additions":4,"deletions":12,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -336,1 +336,1 @@\n-                                && (instance instanceof Signature == false);\n+                                && (!(instance instanceof Signature));\n@@ -544,1 +544,1 @@\n-        if (cert instanceof X509Certificate) {\n+        if (cert instanceof X509Certificate xcert) {\n@@ -548,2 +548,1 @@\n-            X509Certificate c = (X509Certificate)cert;\n-            Set<String> critSet = c.getCriticalExtensionOIDs();\n+            Set<String> critSet = xcert.getCriticalExtensionOIDs();\n@@ -553,1 +552,1 @@\n-                boolean[] keyUsageInfo = c.getKeyUsage();\n+                boolean[] keyUsageInfo = xcert.getKeyUsage();\n@@ -1181,1 +1180,1 @@\n-                if (o instanceof SignatureSpi == false) {\n+                if (!(o instanceof SignatureSpi)) {\n","filename":"src\/java.base\/share\/classes\/java\/security\/Signature.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -126,6 +126,1 @@\n-        if (obj == null || (!(obj instanceof Timestamp))) {\n-            return false;\n-        }\n-        Timestamp that = (Timestamp)obj;\n-\n-        if (this == that) {\n+        if (this == obj) {\n@@ -134,2 +129,3 @@\n-        return (timestamp.equals(that.getTimestamp()) &&\n-            signerCertPath.equals(that.getSignerCertPath()));\n+        return obj instanceof Timestamp other\n+                && (timestamp.equals(other.getTimestamp()) &&\n+                signerCertPath.equals(other.getSignerCertPath()));\n","filename":"src\/java.base\/share\/classes\/java\/security\/Timestamp.java","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -337,1 +337,1 @@\n-        if (! (obj instanceof UnresolvedPermission))\n+        if (!(obj instanceof UnresolvedPermission that))\n@@ -339,1 +339,0 @@\n-        UnresolvedPermission that = (UnresolvedPermission) obj;\n","filename":"src\/java.base\/share\/classes\/java\/security\/UnresolvedPermission.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-        if (! (permission instanceof UnresolvedPermission))\n+        if (!(permission instanceof UnresolvedPermission unresolvedPermission))\n@@ -81,1 +81,0 @@\n-        UnresolvedPermission up = (UnresolvedPermission) permission;\n@@ -85,1 +84,1 @@\n-        perms.compute(up.getName(),\n+        perms.compute(unresolvedPermission.getName(),\n@@ -93,1 +92,1 @@\n-                        v.add(up);\n+                        v.add(unresolvedPermission);\n@@ -96,1 +95,1 @@\n-                        oldValue.add(up);\n+                        oldValue.add(unresolvedPermission);\n","filename":"src\/java.base\/share\/classes\/java\/security\/UnresolvedPermissionCollection.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -184,10 +184,3 @@\n-        if (! (other instanceof CertPath))\n-            return false;\n-\n-        CertPath otherCP = (CertPath) other;\n-        if (! otherCP.getType().equals(type))\n-            return false;\n-\n-        List<? extends Certificate> thisCertList = this.getCertificates();\n-        List<? extends Certificate> otherCertList = otherCP.getCertificates();\n-        return(thisCertList.equals(otherCertList));\n+        return other instanceof CertPath that\n+                && this.type.equals(that.getType())\n+                && this.getCertificates().equals(that.getCertificates());\n","filename":"src\/java.base\/share\/classes\/java\/security\/cert\/CertPath.java","additions":3,"deletions":10,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -127,4 +127,0 @@\n-        if (p == null || (!(p instanceof URICertStoreParameters))) {\n-            return false;\n-        }\n-\n@@ -134,3 +130,2 @@\n-\n-        URICertStoreParameters other = (URICertStoreParameters)p;\n-        return uri.equals(other.getURI());\n+        return p instanceof URICertStoreParameters other\n+                && uri.equals(other.getURI());\n","filename":"src\/java.base\/share\/classes\/java\/security\/cert\/URICertStoreParameters.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -600,1 +600,1 @@\n-        if (!(crl instanceof X509CRL)) {\n+        if (!(crl instanceof X509CRL xcrl)) {\n@@ -603,1 +603,0 @@\n-        X509CRL xcrl = (X509CRL)crl;\n","filename":"src\/java.base\/share\/classes\/java\/security\/cert\/X509CRLSelector.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -837,1 +837,1 @@\n-            if (!(o instanceof Integer)) {\n+            if (!(o instanceof Integer nameType)) {\n@@ -840,1 +840,0 @@\n-            int nameType = ((Integer)o).intValue();\n@@ -888,1 +887,1 @@\n-        if (name instanceof String) {\n+        if (name instanceof String nameAsString) {\n@@ -891,1 +890,1 @@\n-                    + \"name is String: \" + name);\n+                    + \"name is String: \" + nameAsString);\n@@ -895,1 +894,1 @@\n-                result = new RFC822Name((String)name);\n+                result = new RFC822Name(nameAsString);\n@@ -898,1 +897,1 @@\n-                result = new DNSName((String)name);\n+                result = new DNSName(nameAsString);\n@@ -901,1 +900,1 @@\n-                result = new X500Name((String)name);\n+                result = new X500Name(nameAsString);\n@@ -904,1 +903,1 @@\n-                result = new URIName((String)name);\n+                result = new URIName(nameAsString);\n@@ -907,1 +906,1 @@\n-                result = new IPAddressName((String)name);\n+                result = new IPAddressName(nameAsString);\n@@ -910,1 +909,1 @@\n-                result = new OIDName((String)name);\n+                result = new OIDName(nameAsString);\n@@ -1671,1 +1670,1 @@\n-            if (!(o instanceof Integer)) {\n+            if (!(o instanceof Integer nameType)) {\n@@ -1674,1 +1673,0 @@\n-            int nameType = ((Integer)o).intValue();\n@@ -1932,2 +1930,1 @@\n-        if (cert instanceof X509CertImpl) {\n-            X509CertImpl impl = (X509CertImpl) cert;\n+        if (cert instanceof X509CertImpl impl) {\n@@ -1983,1 +1980,1 @@\n-        if (!(cert instanceof X509Certificate)) {\n+        if (!(cert instanceof X509Certificate xcert)) {\n@@ -1986,1 +1983,0 @@\n-        X509Certificate xcert = (X509Certificate)cert;\n","filename":"src\/java.base\/share\/classes\/java\/security\/cert\/X509CertSelector.java","additions":12,"deletions":16,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -220,1 +220,2 @@\n-        if (obj instanceof ECFieldF2m) {\n+\n+        return obj instanceof ECFieldF2m other\n@@ -223,4 +224,2 @@\n-            return ((m == ((ECFieldF2m)obj).m) &&\n-                    (Arrays.equals(ks, ((ECFieldF2m) obj).ks)));\n-        }\n-        return false;\n+            && (m == other.m)\n+            && (Arrays.equals(ks, other.ks));\n","filename":"src\/java.base\/share\/classes\/java\/security\/spec\/ECFieldF2m.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -85,4 +85,3 @@\n-        if (obj instanceof ECFieldFp) {\n-            return (p.equals(((ECFieldFp)obj).p));\n-        }\n-        return false;\n+\n+        return obj instanceof ECFieldFp other\n+                && p.equals(other.p);\n","filename":"src\/java.base\/share\/classes\/java\/security\/spec\/ECFieldFp.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -99,5 +99,4 @@\n-        if (obj instanceof ECPoint) {\n-            return ((x.equals(((ECPoint)obj).x)) &&\n-                    (y.equals(((ECPoint)obj).y)));\n-        }\n-        return false;\n+\n+        return obj instanceof ECPoint other\n+                && ((x.equals(other.x))\n+                && (y.equals(other.y)));\n","filename":"src\/java.base\/share\/classes\/java\/security\/spec\/ECPoint.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -172,9 +172,5 @@\n-        if (obj instanceof EllipticCurve) {\n-            EllipticCurve curve = (EllipticCurve) obj;\n-            if ((field.equals(curve.field)) &&\n-                (a.equals(curve.a)) &&\n-                (b.equals(curve.b))) {\n-                    return true;\n-            }\n-        }\n-        return false;\n+\n+        return obj instanceof EllipticCurve other\n+                && (field.equals(other.field)\n+                && a.equals(other.a)\n+                && b.equals(other.b));\n","filename":"src\/java.base\/share\/classes\/java\/security\/spec\/EllipticCurve.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"}]}