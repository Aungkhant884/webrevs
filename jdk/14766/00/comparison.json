{"files":[{"patch":"@@ -1111,2 +1111,2 @@\n-            g.drawLine( w-1, 0, w-1, h-1 );\n-            g.drawLine( 1, h-1, w-1, h-1 );\n+            SwingUtilities2.drawVLine(g,w-1, 0, h-1);\n+            SwingUtilities2.drawHLine(g,1,  w-1,h-1);\n@@ -1114,2 +1114,2 @@\n-            g.drawLine( 0, 0, w-2, 0 );\n-            g.drawLine( 0, 0, 0, h-2 );\n+            SwingUtilities2.drawHLine(g,0, w-2,0 );\n+            SwingUtilities2.drawVLine(g,0, 0, h-2);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalBorders.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -0,0 +1,89 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import javax.swing.JFrame;\n+import javax.swing.JScrollPane;\n+import javax.swing.JTable;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+\/*\n+ * @test\n+ * @bug 8311031\n+ * @key headful\n+ * @library \/java\/awt\/regtesthelpers\n+ * @build PassFailJFrame\n+ * @summary Test to validate JTable header border vertical line is\n+ * aligned with data grid lines (Metal L&F).\n+ * @run main\/manual\/othervm -Dsun.java2d.uiScale=2.25 TableHeaderBorderPositionTest\n+ *\/\n+\n+public class TableHeaderBorderPositionTest {\n+    static JFrame f;\n+    static JTable j;\n+    static PassFailJFrame passFailJFrame;\n+    public static void showTable() throws Exception {\n+        final String INSTRUCTIONS = \"\"\"\n+                Instructions to Test:\n+                1. Ensure the test is running 225% scaling.\n+                2. Check if the Table header border vertical lines are\n+                aligned with table data grid lines.\n+                3. If there is a miss-match between them press FAIL,\n+                else press PASS.\n+                \"\"\";\n+        f = new JFrame();\n+        f.setTitle(\"Sample - 225% scaling\");\n+\n+        String[][] data = {\n+                { \"1\", \"1\", \"Green\"},\n+                { \"2\", \"2\", \"Blue\"}\n+        };\n+\n+        String[] columnNames = { \"Number\", \"Size\", \"Color\"};\n+\n+        j = new JTable(data, columnNames);\n+        passFailJFrame = new PassFailJFrame(\"Test Instructions\",\n+                INSTRUCTIONS, 5L, 8, 30);\n+\n+        PassFailJFrame.addTestWindow(f);\n+        PassFailJFrame.positionTestWindow(f, PassFailJFrame.Position.VERTICAL);\n+        j.setBounds(30, 40, 200, 300);\n+\n+        JScrollPane sp = new JScrollPane(j);\n+        f.add(sp);\n+        f.setSize(500, 200);\n+        f.setVisible(true);\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        UIManager.setLookAndFeel(\"javax.swing.plaf.metal.MetalLookAndFeel\");\n+        SwingUtilities.invokeAndWait(() -> {\n+            try {\n+                TableHeaderBorderPositionTest.showTable();\n+            } catch (Exception e) {\n+                throw new RuntimeException(e);\n+            }\n+        });\n+        passFailJFrame.awaitAndCheck();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/JTableHeader\/TableHeaderBorderPositionTest.java","additions":89,"deletions":0,"binary":false,"changes":89,"status":"added"}]}