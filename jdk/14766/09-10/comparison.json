{"files":[{"patch":"@@ -45,2 +45,0 @@\n-    private static final int WIDTH = 300;\n-    private static final int HEIGHT = 150;\n@@ -60,0 +58,1 @@\n+\n@@ -61,1 +60,2 @@\n-        table.setSize(WIDTH, HEIGHT);\n+        Dimension tableSize = table.getPreferredSize();\n+        table.setSize(tableSize);\n@@ -64,2 +64,10 @@\n-        Dimension size = header.getPreferredSize();\n-        header.setSize(size);\n+        Dimension headerSize = header.getPreferredSize();\n+        header.setSize(headerSize);\n+\n+        Dimension size = new Dimension(Math.max(headerSize.width, tableSize.width),\n+                headerSize.height + tableSize.height);\n+\n+        BufferedImage bufferedImage =\n+                new BufferedImage((int)Math.ceil(size.width * SCALE),\n+                        (int)Math.ceil(size.height * SCALE),\n+                        BufferedImage.TYPE_INT_RGB);\n@@ -67,2 +75,0 @@\n-        BufferedImage bufferedImage = new BufferedImage(WIDTH, HEIGHT,\n-                BufferedImage.TYPE_INT_RGB);\n@@ -80,4 +86,4 @@\n-        int verticalLineCol = (int) (table.getTableHeader()\n-                                          .getColumnModel()\n-                                          .getColumn(0)\n-                                          .getWidth() * SCALE) - 2;\n+        int verticalLineCol = (int)(table.getTableHeader()\n+                                         .getColumnModel()\n+                                         .getColumn(0)\n+                                         .getWidth() * SCALE) - 2;\n@@ -85,1 +91,1 @@\n-        int maxHeight = (int)(((double)table.getTableHeader().getHeight() * SCALE )\n+        int maxHeight = (int)(((double)table.getTableHeader().getHeight() * SCALE)\n","filename":"test\/jdk\/javax\/swing\/JTableHeader\/TableHeaderBorderPositionTest.java","additions":18,"deletions":12,"binary":false,"changes":30,"status":"modified"}]}