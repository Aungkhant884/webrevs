{"files":[{"patch":"@@ -51,0 +51,5 @@\n+        String skipMsg = \"Skipping Hello: Signed JAR\";\n+        String lambdaInArchive = \"klasses.*=.*app.*Hello[$][$]Lambda[$].*hidden\";\n+        String loadFromJar = \".class,load. Hello source: file:.*signed_hello.jar\";\n+        String lambdaLoadFromHello = \".class.load. Hello[$][$]Lambda[$].*\/0x.*source.*Hello\";\n+\n@@ -52,2 +57,4 @@\n-            output = TestCommon.dump(signedJar, TestCommon.list(mainClass), mainClass, mainArg);\n-            TestCommon.checkDump(output, \"Skipping Hello: Signed JAR\");\n+            output = TestCommon.dump(signedJar, TestCommon.list(mainClass),\n+                                     \"-Xlog:cds+class=debug\", mainClass, mainArg);\n+            TestCommon.checkDump(output, skipMsg);\n+            output.shouldNotContain(lambdaInArchive);\n@@ -59,1 +66,0 @@\n-            String expectedOutput = \".class,load. Hello source: file:.*signed_hello.jar\";\n@@ -62,1 +68,4 @@\n-                output.shouldMatch(expectedOutput);\n+                output.shouldMatch(loadFromJar);\n+                if (mainArg.equals(\"testlambda\")) {\n+                    output.shouldMatch(lambdaLoadFromHello);\n+                }\n@@ -66,1 +75,0 @@\n-        }\n@@ -68,4 +76,7 @@\n-        \/\/ Test class exists in both signed JAR and unsigned JAR\n-        String jars = signedJar + System.getProperty(\"path.separator\") + unsignedJar;\n-        output = TestCommon.dump(jars, TestCommon.list(mainClass));\n-        TestCommon.checkDump(output, \"Skipping Hello: Signed JAR\");\n+            \/\/ Test class exists in both signed JAR and unsigned JAR\n+            String jars = signedJar + System.getProperty(\"path.separator\") + unsignedJar;\n+            output = TestCommon.dump(jars, TestCommon.list(mainClass),\n+                                     \"-Xlog:cds+class=debug\", mainClass, mainArg);\n+            TestCommon.checkDump(output, skipMsg);\n+            output.shouldNotContain(lambdaInArchive);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/SignedJar.java","additions":20,"deletions":9,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n-    if (args.length > 1 && args[0].equals(\"testlambda\")) {\n+    if (args.length > 0 && args[0].equals(\"testlambda\")) {\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/test-classes\/Hello.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}