{"files":[{"patch":"@@ -68,0 +68,2 @@\n+    private Color dividerDraggingColor;\n+\n@@ -92,0 +94,2 @@\n+        dividerDraggingColor = UIManager.getColor(\"SplitPaneDivider.draggingColor\");\n+\n@@ -259,0 +263,13 @@\n+    private void setDividerDraggingColor(Graphics g, int loc) {\n+        if (!isContinuousLayout() && getLastDragLocation() != -1 &&\n+               dividerDraggingColor != null) {\n+\n+            g.setColor(dividerDraggingColor);\n+            if (getOrientation() == JSplitPane.HORIZONTAL_SPLIT) {\n+                g.fillRect(loc, 0, dividerSize - 1, splitPane.getHeight() - 1);\n+            } else {\n+                g.fillRect(0, loc, splitPane.getWidth() - 1, dividerSize - 1);\n+            }\n+        }\n+    }\n+\n@@ -268,0 +285,1 @@\n+                setDividerDraggingColor(g, 0);\n@@ -348,0 +366,1 @@\n+\n@@ -350,0 +369,1 @@\n+\n@@ -357,0 +377,1 @@\n+            setDividerDraggingColor(g, getLastDragLocation());\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthSplitPaneUI.java","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -0,0 +1,95 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4820080\n+   @summary RFE: Cannot Change the JSplitPane Divider Color while dragging\n+   @key headful\n+   @library \/java\/awt\/regtesthelpers\n+   @build PassFailJFrame\n+   @run main\/manual TestNimbusDividerDragColor\n+*\/\n+\n+import java.awt.Color;\n+import java.awt.Panel;\n+import javax.swing.Box;\n+import javax.swing.BoxLayout;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.JSeparator;\n+import javax.swing.JSplitPane;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+public class TestNimbusDividerDragColor {\n+\n+    private static JFrame frame;\n+\n+    private static final String INSTRUCTIONS =\n+        \"Drag the dividers of the splitpanes (both top and bottom).\\n \" +\n+\t\" If the divider color is green while dragging\\n \" +\n+\t\" then test passes, otherwise test fails\";\n+\n+    public static void init() {\n+        UIManager.put(\"SplitPaneDivider.draggingColor\", Color.green);\n+\n+\tframe = new JFrame();\n+        Box box = new Box(BoxLayout.Y_AXIS);\n+        frame.getContentPane().add(box);\n+\n+        JPanel jleft = new JPanel();\n+        jleft.setBackground(Color.darkGray);\n+        JPanel jright = new JPanel();\n+        jright.setBackground(Color.darkGray);\n+        JSplitPane jsp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, jleft, jright);\n+\tjsp.setContinuousLayout(false);\n+        box.add(jsp);\n+\n+        box.add(Box.createVerticalStrut(5));\n+        box.add(new JSeparator());\n+        box.add(Box.createVerticalStrut(5));\n+\n+        Panel left = new Panel();\n+        left.setBackground(Color.darkGray);\n+        Panel right = new Panel();\n+        right.setBackground(Color.darkGray);\n+        JSplitPane sp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, left, right);\n+        sp.setContinuousLayout(false);\n+        box.add(sp);\n+        frame.add(box);\n+        frame.setSize(200, 200);\n+        frame.setVisible(true);\n+    }\n+\n+\n+    public static void main(String[] argv) throws Exception {\n+        UIManager.setLookAndFeel(\"javax.swing.plaf.nimbus.NimbusLookAndFeel\");        \t   \n+        PassFailJFrame passFailJFrame = new PassFailJFrame(\n+                \"JFileChooser Test Instructions\", INSTRUCTIONS, 5);\t    \n+        SwingUtilities.invokeAndWait(() -> init());\n+\tPassFailJFrame.addTestWindow(frame);\n+\tPassFailJFrame.positionTestWindow(\n+                frame, PassFailJFrame.Position.HORIZONTAL);\n+\tpassFailJFrame.awaitAndCheck();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/plaf\/nimbus\/TestNimbusDividerDragColor.java","additions":95,"deletions":0,"binary":false,"changes":95,"status":"added"}]}