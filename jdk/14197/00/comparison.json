{"files":[{"patch":"@@ -979,1 +979,1 @@\n-      __ addw(dest->as_register_lo(), src->as_register(), zr); break;\n+      __ sign_extend(dest->as_register_lo(), src->as_register(), 32); break;\n@@ -985,2 +985,2 @@\n-      _masm->block_comment(\"FIXME: This coulde be no-op\");\n-      __ addw(dest->as_register(), src->as_register_lo(), zr); break;\n+      _masm->block_comment(\"FIXME: This could be a no-op\");\n+      __ sign_extend(dest->as_register(), src->as_register_lo(), 32); break;\n@@ -1307,1 +1307,1 @@\n-        __ addw(Rdst, Rdst, zr);\n+        __ sign_extend(Rdst, Rdst, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/c1_LIRAssembler_riscv.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-  addw(result, result, zr);\n+  sign_extend(result, result, 32);\n@@ -223,1 +223,1 @@\n-    addw(index, index, zr);\n+    sign_extend(index, index, 32);\n@@ -382,1 +382,1 @@\n-  addw(r, r, zr); \/\/ signed extended\n+  sign_extend(r, r, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1647,1 +1647,1 @@\n-  addw(Rd, Rd, zr);\n+  sign_extend(Rd, Rd, 32);\n@@ -1654,1 +1654,1 @@\n-  addw(Rd, Rd, zr);\n+  sign_extend(Rd, Rd, 32);\n@@ -1661,1 +1661,1 @@\n-  addw(Rd, Rd, zr);\n+  sign_extend(Rd, Rd, 32);\n@@ -4423,1 +4423,1 @@\n-      addw(dst.first()->as_Register(), src.first()->as_Register(), zr);\n+      sign_extend(dst.first()->as_Register(), src.first()->as_Register(), 32);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1340,1 +1340,1 @@\n-        addw(Rt, Rt, zr);\n+        sign_extend(Rt, Rt, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -8222,1 +8222,1 @@\n-    __ addw(as_Register($dst$$reg), as_Register($src$$reg), zr);\n+    __ sign_extend(as_Register($dst$$reg), as_Register($src$$reg), 32);\n@@ -8234,1 +8234,1 @@\n-    __ addw(as_Register($dst$$reg), as_Register($src$$reg), zr);\n+    __ sign_extend(as_Register($dst$$reg), as_Register($src$$reg), 32);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1630,1 +1630,0 @@\n-    __ addw(t0, t0, zr);\n@@ -2482,1 +2481,1 @@\n-  __ addiw(c_rarg1, j_rarg0, 0);\n+  __ sign_extend(c_rarg1, j_rarg0, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/sharedRuntime_riscv.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1780,3 +1780,2 @@\n-    \/\/ i.e. sign bit set\n-    __ test_bit(t0, src_pos, 31);\n-    __ bnez(t0, L_failed);\n+    __ sign_extend(t0, src_pos, 32);\n+    __ bltz(t0, L_failed);\n@@ -1788,3 +1787,2 @@\n-    \/\/ i.e. sign bit set\n-    __ test_bit(t0, dst_pos, 31);\n-    __ bnez(t0, L_failed);\n+    __ sign_extend(t0, dst_pos, 32);\n+    __ bltz(t0, L_failed);\n@@ -1798,4 +1796,2 @@\n-    __ addw(scratch_length, length, zr);    \/\/ length (elements count, 32-bits value)\n-    \/\/ i.e. sign bit set\n-    __ test_bit(t0, scratch_length, 31);\n-    __ bnez(t0, L_failed);\n+    __ sign_extend(scratch_length, length, 32);    \/\/ length (elements count, 32-bits value)\n+    __ bltz(scratch_length, L_failed);\n@@ -1839,3 +1835,1 @@\n-    \/\/ i.e. (lh >= 0)\n-    __ test_bit(t0, lh, 31);\n-    __ beqz(t0, L_failed);\n+    __ bgez(t0, L_failed);\n@@ -1897,1 +1891,1 @@\n-    __ addw(count, scratch_length, zr); \/\/ length\n+    __ sign_extend(count, scratch_length, 32); \/\/ length\n@@ -1903,1 +1897,1 @@\n-    __ addw(count, scratch_length, zr); \/\/ length\n+    __ sign_extend(count, scratch_length, 32); \/\/ length\n@@ -1911,1 +1905,1 @@\n-    __ addw(count, scratch_length, zr); \/\/ length\n+    __ sign_extend(count, scratch_length, 32); \/\/ length\n@@ -1920,1 +1914,1 @@\n-      __ addw(lh, lh, zr);\n+      __ sign_extend(lh, lh, 32);\n@@ -1930,1 +1924,1 @@\n-    __ addw(count, scratch_length, zr); \/\/ length\n+    __ sign_extend(count, scratch_length, 32); \/\/ length\n@@ -1950,1 +1944,1 @@\n-    __ addw(count, scratch_length, zr); \/\/ length\n+    __ sign_extend(count, scratch_length, 32); \/\/ length\n@@ -1973,1 +1967,1 @@\n-      __ addw(count, length, zr);           \/\/ length (reloaded)\n+      __ sign_extend(count, length, 32);      \/\/ length (reloaded)\n@@ -2806,1 +2800,1 @@\n-    __ addw(haystack_len, haystack_len, zr);\n+    __ sign_extend(haystack_len, haystack_len, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":15,"deletions":21,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -707,1 +707,1 @@\n-  __ addw(index, index, zr);\n+  __ sign_extend(index, index, 32);\n@@ -725,1 +725,1 @@\n-  __ addw(x10, x10, zr); \/\/ signed extended\n+  __ sign_extend(x10, x10, 32);\n@@ -1546,1 +1546,1 @@\n-      __ addw(x10, x10, zr);\n+      __ sign_extend(x10, x10, 32);\n@@ -1770,1 +1770,1 @@\n-  __ addw(x10, x10, zr);\n+  __ sign_extend(x10, x10, 32);\n@@ -1804,1 +1804,1 @@\n-  __ addw(x10, x10, zr);\n+  __ sign_extend(x10, x10, 32);\n@@ -2446,1 +2446,1 @@\n-  __ addw(x10, x10, zr); \/\/ signed extended\n+  __ sign_extend(x10, x10, 32);\n@@ -3046,1 +3046,1 @@\n-      __ addw(x10, x10, zr); \/\/ signed extended\n+      __ sign_extend(x10, x10, 32);\n@@ -3093,1 +3093,1 @@\n-      __ addw(x10, x10, zr); \/\/ signed extended\n+      __ sign_extend(x10, x10, 32);\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"}]}