{"files":[{"patch":"@@ -36,1 +36,1 @@\n-uintptr_t ZVirtualMemoryManager::os_reserve(uintptr_t addr, size_t size) {\n+bool ZVirtualMemoryManager::os_reserve(uintptr_t addr, size_t size) {\n@@ -40,1 +40,1 @@\n-    return 0;\n+    return false;\n@@ -46,0 +46,1 @@\n+    return false;\n@@ -48,1 +49,2 @@\n-  return res;\n+  \/\/ Success\n+  return true;\n","filename":"src\/hotspot\/os\/posix\/gc\/z\/zVirtualMemory_posix.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -119,2 +119,5 @@\n-uintptr_t ZVirtualMemoryManager::os_reserve(uintptr_t addr, size_t size) {\n-  return ZMapper::reserve(addr, size);\n+bool ZVirtualMemoryManager::os_reserve(uintptr_t addr, size_t size) {\n+  uintptr_t res = ZMapper::reserve(addr, size);\n+\n+  assert(res == addr || res == NULL, \"Should not reserve other memory than requested\");\n+  return res == addr;\n","filename":"src\/hotspot\/os\/windows\/gc\/z\/zVirtualMemory_windows.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -110,1 +110,1 @@\n-  if (os_reserve(marked0, size) != marked0) {\n+  if (!os_reserve(marked0, size)) {\n@@ -114,1 +114,1 @@\n-  if (os_reserve(marked1, size) != marked1) {\n+  if (!os_reserve(marked1, size)) {\n@@ -119,1 +119,1 @@\n-  if (os_reserve(remapped, size) != remapped) {\n+  if (!os_reserve(remapped, size)) {\n","filename":"src\/hotspot\/share\/gc\/z\/zVirtualMemory.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -55,2 +55,2 @@\n-  uintptr_t os_reserve(uintptr_t start, size_t size);\n-  void os_unreserve(uintptr_t start, size_t size);\n+  bool os_reserve(uintptr_t addr, size_t size);\n+  void os_unreserve(uintptr_t addr, size_t size);\n","filename":"src\/hotspot\/share\/gc\/z\/zVirtualMemory.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}