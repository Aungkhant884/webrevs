{"files":[{"patch":"@@ -1369,0 +1369,1 @@\n+    event.set_codeCacheMaxCapacity(CodeCache::max_capacity());\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -561,0 +561,5 @@\n+  <Event name=\"JitRestart\" category=\"Java Virtual Machine, Compiler\" label=\"JIT restart\" stackTrace=\"false\" startTime=\"false\" thread=\"true\">\n+    <Field type=\"int\" name=\"freedMemory\" label=\"Freed Memory\" \/>\n+    <Field type=\"ulong\" name=\"codeCacheMaxCapacity\" label=\"CodeCache maximum capacity\" \/>\n+  <\/Event>\n+\n@@ -603,2 +608,0 @@\n-    <Field type=\"boolean\" name=\"jitRestarted\" label=\"JIT restarted\" \/>\n-    <Field type=\"uint\" contentType=\"bytes\" name=\"freedMemory\" label=\"Freed Memory\" \/>\n@@ -617,0 +620,1 @@\n+    <Field type=\"ulong\" name=\"codeCacheMaxCapacity\" label=\"CodeCache maximum capacity\" \/>\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -313,3 +313,1 @@\n-                             int zombified,\n-                             bool jit_restarted,\n-                             int freed_memory) {\n+                             int zombified) {\n@@ -324,2 +322,0 @@\n-  event->set_jitRestarted(jit_restarted);\n-  event->set_freedMemory(freed_memory);\n@@ -440,1 +436,0 @@\n-  bool jit_restarted = false;\n@@ -445,1 +440,4 @@\n-    jit_restarted = true;\n+    EventJitRestart event;\n+    event.set_freedMemory(freed_memory);\n+    event.set_codeCacheMaxCapacity(CodeCache::max_capacity());\n+    event.commit();\n@@ -450,1 +448,1 @@\n-    post_sweep_event(&event, sweep_start_counter, sweep_end_counter, (s4)_traversals, swept_count, flushed_count, zombified_count, jit_restarted, freed_memory);\n+    post_sweep_event(&event, sweep_start_counter, sweep_end_counter, (s4)_traversals, swept_count, flushed_count, zombified_count);\n","filename":"src\/hotspot\/share\/runtime\/sweeper.cpp","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -554,0 +554,4 @@\n+    <event name=\"jdk.JitRestart\">\n+      <setting name=\"enabled\" control=\"compiler-enabled\">true<\/setting>\n+    <\/event>\n+\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/default.jfc","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -554,0 +554,4 @@\n+    <event name=\"jdk.JitRestart\">\n+      <setting name=\"enabled\" control=\"compiler-enabled\">true<\/setting>\n+    <\/event>\n+\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/profile.jfc","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -170,0 +170,1 @@\n+    public final static String JitRestart = PREFIX + \"JitRestart\";\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/EventNames.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}