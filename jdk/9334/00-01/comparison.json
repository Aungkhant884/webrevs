{"files":[{"patch":"@@ -561,4 +561,0 @@\n-  <Event name=\"JitRestart\" category=\"Java Virtual Machine, Compiler\" label=\"JIT restart\" stackTrace=\"true\" startTime=\"true\" thread=\"true\">\n-    <Field type=\"int\" name=\"freedMemory\" label=\"Freed Memory\" \/>\n-  <\/Event>\n-\n@@ -607,0 +603,2 @@\n+    <Field type=\"boolean\" name=\"jitRestarted\" label=\"JIT restarted\" \/>\n+    <Field type=\"uint\" contentType=\"bytes\" name=\"freedMemory\" label=\"Freed Memory\" \/>\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -313,1 +313,3 @@\n-                             int zombified) {\n+                             int zombified,\n+                             bool jit_restarted,\n+                             int freed_memory) {\n@@ -322,0 +324,2 @@\n+  event->set_jitRestarted(jit_restarted);\n+  event->set_freedMemory(freed_memory);\n@@ -414,5 +418,0 @@\n-  EventSweepCodeCache event(UNTIMED);\n-  if (event.should_commit()) {\n-    post_sweep_event(&event, sweep_start_counter, sweep_end_counter, (s4)_traversals, swept_count, flushed_count, zombified_count);\n-  }\n-\n@@ -441,0 +440,1 @@\n+  bool jit_restarted = false;\n@@ -445,3 +445,6 @@\n-    EventJitRestart event;\n-    event.set_freedMemory(freed_memory);\n-    event.commit();\n+    jit_restarted = true;\n+  }\n+\n+  EventSweepCodeCache event(UNTIMED);\n+  if (event.should_commit()) {\n+    post_sweep_event(&event, sweep_start_counter, sweep_end_counter, (s4)_traversals, swept_count, flushed_count, zombified_count, jit_restarted, freed_memory);\n","filename":"src\/hotspot\/share\/runtime\/sweeper.cpp","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -554,6 +554,0 @@\n-    <event name=\"jdk.JitRestart\">\n-      <setting name=\"enabled\" control=\"compiler-enabled\">true<\/setting>\n-      <setting name=\"threshold\">0 ms<\/setting>\n-      <setting name=\"stackTrace\">true<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/default.jfc","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -554,6 +554,0 @@\n-    <event name=\"jdk.JitRestart\">\n-      <setting name=\"enabled\" control=\"compiler-enabled\">true<\/setting>\n-      <setting name=\"threshold\">0 ms<\/setting>\n-      <setting name=\"stackTrace\">true<\/setting>\n-    <\/event>\n-\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/profile.jfc","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -170,1 +170,0 @@\n-    public final static String JitRestart = PREFIX + \"JitRestart\";\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/EventNames.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}