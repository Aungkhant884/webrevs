{"files":[{"patch":"@@ -360,2 +360,2 @@\n-    __ ld(x10, Address(x10, BasicObjectLock::obj_offset_in_bytes()));\n-    stub = new MonitorExitStub(FrameMap::r10_opr);\n+    __ ld(x14, Address(x10, BasicObjectLock::obj_offset_in_bytes()));\n+    stub = new MonitorExitStub(FrameMap::r14_opr);\n","filename":"src\/hotspot\/cpu\/riscv\/c1_LIRAssembler_riscv.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4153,2 +4153,2 @@\n-\/\/  - t1, t2, t3: temporary registers, will be destroyed\n-void MacroAssembler::fast_lock(Register obj, Register hdr, Register t1, Register t2, Register t3, Label& slow) {\n+\/\/  - tmp1, tmp2, tmp3: temporary registers, will be destroyed\n+void MacroAssembler::fast_lock(Register obj, Register hdr, Register tmp1, Register tmp2, Register tmp3, Label& slow) {\n@@ -4156,8 +4156,3 @@\n-  ld(t1, Address(xthread, Thread::lock_stack_current_offset()));\n-  ld(t2, Address(xthread, Thread::lock_stack_limit_offset()));\n-\n-  \/\/ Cannot use bge(..., slow) here, because \"slow\" is too far away.\n-  Label ok;\n-  blt(t1, t2, ok);\n-  j(slow);\n-  bind(ok);\n+  ld(tmp1, Address(xthread, Thread::lock_stack_current_offset()));\n+  ld(tmp2, Address(xthread, Thread::lock_stack_limit_offset()));\n+  bge(tmp1, tmp2, slow, true);\n@@ -4167,2 +4162,2 @@\n-  \/\/ Clear lock-bits, into t2\n-  xori(t2, hdr, markWord::unlocked_value);\n+  \/\/ Clear lock-bits, into tmp2\n+  xori(tmp2, hdr, markWord::unlocked_value);\n@@ -4171,1 +4166,1 @@\n-  cmpxchgptr(hdr, t2, obj, t3, success, &slow);\n+  cmpxchgptr(hdr, tmp2, obj, tmp3, success, &slow);\n@@ -4175,3 +4170,3 @@\n-  sd(obj, Address(t1, 0));\n-  add(t1, t1, oopSize);\n-  sd(t1, Address(xthread, Thread::lock_stack_current_offset()));\n+  sd(obj, Address(tmp1, 0));\n+  add(tmp1, tmp1, oopSize);\n+  sd(tmp1, Address(xthread, Thread::lock_stack_current_offset()));\n@@ -4180,1 +4175,1 @@\n-void MacroAssembler::fast_unlock(Register obj, Register hdr, Register t1, Register t2, Label& slow) {\n+void MacroAssembler::fast_unlock(Register obj, Register hdr, Register tmp1, Register tmp2, Label& slow) {\n@@ -4182,2 +4177,2 @@\n-  li(t1, ~markWord::lock_mask_in_place);\n-  andr(hdr, hdr, t1);\n+  mv(tmp1, ~markWord::lock_mask_in_place);\n+  andr(hdr, hdr, tmp1);\n@@ -4185,2 +4180,2 @@\n-  \/\/ Load the new header (unlocked) into t1\n-  ori(t1, hdr, markWord::unlocked_value);\n+  \/\/ Load the new header (unlocked) into tmp1\n+  ori(tmp1, hdr, markWord::unlocked_value);\n@@ -4190,1 +4185,1 @@\n-  cmpxchgptr(hdr, t1, obj, t2, success, &slow);\n+  cmpxchgptr(hdr, tmp1, obj, tmp2, success, &slow);\n@@ -4194,4 +4189,4 @@\n-  ld(t1, Address(xthread, Thread::lock_stack_current_offset()));\n-  sub(t1, t1, oopSize);\n-  sd(t1, Address(xthread, Thread::lock_stack_current_offset()));\n-}\n\\ No newline at end of file\n+  ld(tmp1, Address(xthread, Thread::lock_stack_current_offset()));\n+  sub(tmp1, tmp1, oopSize);\n+  sd(tmp1, Address(xthread, Thread::lock_stack_current_offset()));\n+}\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":21,"deletions":26,"binary":false,"changes":47,"status":"modified"},{"patch":"@@ -932,2 +932,2 @@\n-  void fast_lock(Register obj, Register hdr, Register t1, Register t2, Register t3, Label& slow);\n-  void fast_unlock(Register obj, Register hdr, Register t1, Register t2, Label& slow);\n+  void fast_lock(Register obj, Register hdr, Register tmp1, Register tmp2, Register tmp3, Label& slow);\n+  void fast_unlock(Register obj, Register hdr, Register tmp1, Register tmp2, Label& slow);\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2436,1 +2436,1 @@\n-      __ andi(t0, disp_hdr, markWord::monitor_value);\n+      __ andi(t0, tmp, markWord::monitor_value);\n@@ -2459,3 +2459,2 @@\n-      __ push_reg(tmp);\n-      __ li(tmp, (unsigned char)(intptr_t) ANONYMOUS_OWNER);\n-      __ bne(disp_hdr, tmp, L);\n+      __ mv(t0, (unsigned char)(intptr_t)ANONYMOUS_OWNER);\n+      __ bne(disp_hdr, t0, L);\n@@ -2463,1 +2462,0 @@\n-      __ pop_reg(tmp);\n@@ -2466,1 +2464,0 @@\n-      __ pop_reg(tmp);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-#if defined(AARCH64) || defined(RISCV)\n+#if defined(AARCH64) || defined(RISCV64)\n","filename":"src\/hotspot\/share\/runtime\/basicLock.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}