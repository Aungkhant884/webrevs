{"files":[{"patch":"@@ -161,1 +161,2 @@\n-void CollectedHeap::inc_total_cpu_time(long diff) {\n+void CollectedHeap::inc_total_cpu_time(jlong diff) {\n+#if defined(_LP64)\n@@ -163,0 +164,9 @@\n+#else\n+  jlong old_value;\n+  jlong fetched_value = Atomic::load(&_total_cpu_time_diff);\n+  do {\n+    jlong new_value = fetched_value + diff;\n+    old_value = fetched_value;\n+    fetched_value = Atomic::cmpxchg(&_total_cpu_time_diff, old_value, new_value);\n+  } while (old_value != fetched_value);\n+#endif\n@@ -168,3 +178,3 @@\n-  long old_value;\n-  long fetched_value = Atomic::load(&_total_cpu_time_diff);\n-  long new_value = 0;\n+  jlong old_value;\n+  jlong fetched_value = Atomic::load(&_total_cpu_time_diff);\n+  jlong new_value = 0;\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.cpp","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -491,1 +491,1 @@\n-  void inc_total_cpu_time(long diff);\n+  void inc_total_cpu_time(jlong diff);\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}