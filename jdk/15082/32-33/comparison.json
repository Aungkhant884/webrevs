{"files":[{"patch":"@@ -50,1 +50,1 @@\n-    \/\/ Perf data for CPU time consumed by concurrent refine threads.\n+  \/\/ Perf data for CPU time consumed by concurrent refine threads.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,2 @@\n-    _task_queue() {\n+    _task_queue(),\n+    _g1_service_threads_cpu_time(NULL) {\n@@ -46,0 +47,6 @@\n+  if (UsePerfData && os::is_thread_cpu_time_supported()) {\n+    EXCEPTION_MARK;\n+    _g1_service_threads_cpu_time =\n+        PerfDataManager::create_counter(SUN_THREADS_CPUTIME, \"gc_service\",\n+                                        PerfData::U_Ticks, CHECK);\n+  }\n@@ -133,0 +140,5 @@\n+  if (UsePerfData && os::is_thread_cpu_time_supported()) {\n+      ThreadTotalCPUTimeClosure tttc(_g1_service_threads_cpu_time, true);\n+      tttc.do_thread(task->_service_thread);\n+  }\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ServiceThread.cpp","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"runtime\/perfData.hpp\"\n@@ -110,0 +111,3 @@\n+  \/\/ Perf data for CPU time consumed by G1 service thread.\n+  PerfCounter* _g1_service_threads_cpu_time;\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ServiceThread.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -59,0 +59,1 @@\n+        output.shouldContain(SUN_THREADS_CPUTIME + \".gc_service\");\n","filename":"test\/jdk\/sun\/tools\/jcmd\/TestGcCounters.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}