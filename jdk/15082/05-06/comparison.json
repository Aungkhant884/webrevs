{"files":[{"patch":"@@ -36,1 +36,0 @@\n-#include \"runtime\/perfData.hpp\"\n@@ -559,25 +558,0 @@\n-\/\/ Class to compute the total CPU time for a set of threads, then update an\n-\/\/ hsperfdata counter.\n-\n-class ThreadTotalCPUTimeClosure: public ThreadClosure {\n- private:\n-  jlong _time_diff;\n-  PerfCounter* _counter;\n-\n- public:\n-  ThreadTotalCPUTimeClosure(PerfCounter* counter) :\n-      _time_diff(0), _counter(counter) {}\n-\n-  ~ThreadTotalCPUTimeClosure() {\n-    _counter->inc(_time_diff);\n-  }\n-\n-  virtual void do_thread(Thread* thread) {\n-    \/\/ The default code path (fast_thread_cpu_time()) asserts that\n-    \/\/ pthread_getcpuclockid() and clock_gettime() must return 0. Thus caller\n-    \/\/ must ensure the thread exists and has not terminated.\n-    assert(os::is_thread_cpu_time_supported(), \"os must support cpu time\");\n-    _time_diff = os::thread_cpu_time(thread);\n-  }\n-};\n-\n","filename":"src\/hotspot\/share\/gc\/shared\/collectedHeap.hpp","additions":0,"deletions":26,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+#include \"runtime\/perfData.hpp\"\n@@ -659,0 +660,24 @@\n+\/\/ Class to compute the total CPU time for a set of threads, then update an\n+\/\/ hsperfdata counter.\n+class ThreadTotalCPUTimeClosure: public ThreadClosure {\n+ private:\n+  jlong _time_diff;\n+  PerfCounter* _counter;\n+\n+ public:\n+  ThreadTotalCPUTimeClosure(PerfCounter* counter) :\n+      _time_diff(0), _counter(counter) {}\n+\n+  ~ThreadTotalCPUTimeClosure() {\n+    _counter->inc(_time_diff);\n+  }\n+\n+  virtual void do_thread(Thread* thread) {\n+    \/\/ The default code path (fast_thread_cpu_time()) asserts that\n+    \/\/ pthread_getcpuclockid() and clock_gettime() must return 0. Thus caller\n+    \/\/ must ensure the thread exists and has not terminated.\n+    assert(os::is_thread_cpu_time_supported(), \"os must support cpu time\");\n+    _time_diff = os::thread_cpu_time(thread);\n+  }\n+};\n+\n","filename":"src\/hotspot\/share\/runtime\/thread.hpp","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}