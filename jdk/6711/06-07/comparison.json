{"files":[{"patch":"@@ -290,1 +290,0 @@\n-        ByteBuffer bb = Util.getTemporaryDirectBuffer(DEFAULT_BUFFER_SIZE);\n@@ -292,12 +291,4 @@\n-            for (int bytesRead = 0; bytesRead > -1;) {\n-                pos += dst.transferFrom(src, pos, Long.MAX_VALUE);\n-                bytesRead = src.read(bb); \/\/ detect end-of-stream\n-                if (bytesRead > -1) {\n-                    bb.flip();\n-                    while (bb.hasRemaining()) {\n-                        dst.write(bb);\n-                    }\n-                    bb.clear();\n-                    pos += bytesRead;\n-                }\n-            };\n+            long n;\n+            while ((n = dst.transferFrom(src, pos, Long.MAX_VALUE)) > 0) {\n+                pos += n;\n+            }\n@@ -306,1 +297,0 @@\n-            Util.releaseTemporaryDirectBuffer(bb);\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/ChannelInputStream.java","additions":4,"deletions":14,"binary":false,"changes":18,"status":"modified"}]}