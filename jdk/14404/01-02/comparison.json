{"files":[{"patch":"@@ -42,0 +42,1 @@\n+import java.util.concurrent.locks.ReentrantLock;\n@@ -95,0 +96,1 @@\n+    \/\/ WeakHashMap is not thread safe, thus accessed with the lock held\n@@ -96,0 +98,1 @@\n+    private static final ReentrantLock LOCK = new ReentrantLock();\n@@ -166,1 +169,2 @@\n-        synchronized (BaseLocale.class) {\n+        LOCK.lock();\n+        try {\n@@ -173,0 +177,2 @@\n+        } finally {\n+            LOCK.unlock();\n","filename":"src\/java.base\/share\/classes\/sun\/util\/locale\/BaseLocale.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -35,1 +35,0 @@\n-import java.text.DateFormat;\n@@ -58,1 +57,1 @@\n-            previous =  l;\n+            previous = l;\n@@ -70,1 +69,1 @@\n-            previous =  l;\n+            previous = l;\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/util\/LocaleCache.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"}]}