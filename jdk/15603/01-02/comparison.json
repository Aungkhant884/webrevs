{"files":[{"patch":"@@ -361,0 +361,15 @@\n+\n+        \/\/ if a prefix is present, remove it\n+        if (path.startsWith(\"\\\\\\\\?\\\\\")) {\n+            if (path.startsWith(\"UNC\\\\\", 4)) {\n+                path = \"\\\\\\\\\" + path.substring(8);\n+            } else {\n+                path = path.substring(4);\n+                \/\/ if only \"UNC\" remains, a trailing \"\\\\\" was likely removed\n+                if (path.equals(\"UNC\")) {\n+                    path = \"\\\\\\\\\";\n+                }\n+            }\n+            f = new File(path);\n+        }\n+\n@@ -443,13 +458,0 @@\n-        \/\/ if a prefix is present, remove it\n-        if (path.startsWith(\"\\\\\\\\?\\\\\")) {\n-            if (path.startsWith(\"UNC\\\\\", 4)) {\n-                path = \"\\\\\\\\\" + path.substring(8);\n-            } else {\n-                path = path.substring(4);\n-                \/\/ if only \"UNC\" remains, a trailing \"\\\\\" was likely removed\n-                if (path.equals(\"UNC\")) {\n-                    path = \"\\\\\\\\\";\n-                }\n-            }\n-        }\n-\n","filename":"src\/java.base\/windows\/classes\/java\/io\/WinNTFileSystem.java","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -47,1 +47,0 @@\n-        File dir = new File(System.getProperty(\"user.dir\", \".\"));\n@@ -50,1 +49,4 @@\n-        String pathname = \"C:\\\\\";\n+        File dir = new File(System.getProperty(\"user.dir\", \".\"));\n+        char drive = dir.getPath().charAt(0);\n+\n+        String pathname = drive + \":\\\\\";\n@@ -52,2 +54,8 @@\n-        pathname = \"C:\";\n-        list.add(Arguments.of(pathname, dir.toString()));\n+\n+        list.add(Arguments.of(drive + \":\", dir.toString()));\n+\n+        String name = \"foo\";\n+        pathname = \"\\\\\\\\?\\\\\" + name;\n+        list.add(Arguments.of(pathname, new File(dir, name).toString()));\n+        pathname = \"\\\\\\\\?\\\\\" + drive + \":\" + name;\n+        list.add(Arguments.of(pathname, new File(dir, name).toString()));\n@@ -58,1 +66,1 @@\n-        pathname = \"C:\\\\foo\\\\bar\\\\gus\";\n+        pathname = drive + \":\\\\foo\\\\bar\\\\gus\";\n@@ -64,1 +72,1 @@\n-        pathname = \"\\\\\\\\localhost\\\\C$\\\\Users\\\\file.dat\";\n+        pathname = \"\\\\\\\\localhost\\\\\" + drive + \"$\\\\Users\\\\file.dat\";\n@@ -67,4 +75,4 @@\n-        list.add(Arguments.of(\"\\\\\\\\?\\\\C:\\\\Users\\\\file.dat\",\n-                              \"C:\\\\Users\\\\file.dat\"));\n-        list.add(Arguments.of(\"\\\\\\\\?\\\\UNC\\\\localhost\\\\C$\\\\Users\\\\file.dat\",\n-                              \"\\\\\\\\localhost\\\\C$\\\\Users\\\\file.dat\"));\n+        list.add(Arguments.of(\"\\\\\\\\?\\\\\" + drive + \":\\\\Users\\\\file.dat\",\n+                              drive + \":\\\\Users\\\\file.dat\"));\n+        list.add(Arguments.of(\"\\\\\\\\?\\\\UNC\\\\localhost\\\\\" + drive + \"$\\\\Users\\\\file.dat\",\n+                              \"\\\\\\\\localhost\\\\\" + drive + \"$\\\\Users\\\\file.dat\"));\n","filename":"test\/jdk\/java\/io\/File\/GetCanonicalPath.java","additions":18,"deletions":10,"binary":false,"changes":28,"status":"modified"}]}