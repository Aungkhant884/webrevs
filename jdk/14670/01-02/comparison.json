{"files":[{"patch":"@@ -49,1 +49,1 @@\n-  \/\/ Only riscv_flush_icache is supported as I-cache synhronization.\n+  \/\/ Only riscv_flush_icache is supported as I-cache synchronization.\n","filename":"src\/hotspot\/cpu\/riscv\/icache_riscv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,10 +36,0 @@\n-#define check_with_errno(check_type, cond, msg)                             \\\n-  do {                                                                      \\\n-    int err = errno;                                                        \\\n-    check_type(cond, \"%s; error='%s' (errno=%s)\", msg, os::strerror(err),   \\\n-               os::errno_name(err));                                        \\\n-} while (false)\n-\n-#define assert_with_errno(cond, msg)    check_with_errno(assert, cond, msg)\n-#define guarantee_with_errno(cond, msg) check_with_errno(guarantee, cond, msg)\n-\n@@ -61,3 +51,4 @@\n-  long ret;\n-  intptr_t end = ((intptr_t)&ret) + 64;\n-  ret = sys_flush_icache((uintptr_t)&ret, end, SYS_RISCV_FLUSH_ICACHE_ALL);\n+  alignas(64) char memory[64];\n+  long ret = sys_flush_icache((uintptr_t)&memory[0],\n+                              (uintptr_t)&memory[sizeof(memory) - 1],\n+                              SYS_RISCV_FLUSH_ICACHE_ALL);\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/riscv_flush_icache.cpp","additions":4,"deletions":13,"binary":false,"changes":17,"status":"modified"}]}