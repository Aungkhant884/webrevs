{"files":[{"patch":"@@ -349,1 +349,1 @@\n-void DynamicArchive::prepare_for_dynamic_dumping_at_exit() {\n+void DynamicArchive::prepare_for_dynamic_dumping() {\n@@ -352,1 +352,1 @@\n-  MetaspaceShared::link_and_cleanup_shared_classes(THREAD);\n+  MetaspaceShared::link_shared_classes(THREAD);\n@@ -368,0 +368,1 @@\n+    prepare_for_dynamic_dumping();\n","filename":"src\/hotspot\/share\/cds\/dynamicArchive.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-  static void prepare_for_dynamic_dumping_at_exit();\n+  static void prepare_for_dynamic_dumping();\n","filename":"src\/hotspot\/share\/cds\/dynamicArchive.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -595,1 +595,1 @@\n-void MetaspaceShared::link_and_cleanup_shared_classes(TRAPS) {\n+void MetaspaceShared::link_shared_classes(TRAPS) {\n@@ -729,1 +729,1 @@\n-  link_and_cleanup_shared_classes(CHECK);\n+  link_shared_classes(CHECK);\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-  static void link_and_cleanup_shared_classes(TRAPS) NOT_CDS_RETURN;\n+  static void link_shared_classes(TRAPS) NOT_CDS_RETURN;\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -427,1 +427,1 @@\n-    DynamicArchive::prepare_for_dynamic_dumping_at_exit();\n+    DynamicArchive::prepare_for_dynamic_dumping();\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3261,1 +3261,1 @@\n-  \/\/ it will cause MetaspaceShared::link_and_cleanup_shared_classes to\n+  \/\/ it will cause MetaspaceShared::link_shared_classes to\n@@ -3272,1 +3272,1 @@\n-    DynamicArchive::prepare_for_dynamic_dumping_at_exit();\n+    DynamicArchive::prepare_for_dynamic_dumping();\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}