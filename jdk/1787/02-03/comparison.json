{"files":[{"patch":"@@ -46,1 +46,1 @@\n- *  . PublicKey with an X.509 encoding\n+ *  . RSA PublicKey with an X.509 encoding\n@@ -53,1 +53,1 @@\n- *  . PrivateKey with a PKCS#8 encoding\n+ *  . RSA PrivateKey with a PKCS#8 encoding\n@@ -384,1 +384,2 @@\n-            \/\/ that the encoding is X.509\/PKCS#8 for public\/private keys\n+            \/\/ that the encoding is X.509\/PKCS#8 or PKCS#1 for public\/private\n+            \/\/ keys\n","filename":"src\/java.base\/share\/classes\/sun\/security\/rsa\/RSAKeyFactory.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -101,1 +101,3 @@\n-            } else return key;\n+            } else {\n+                return key;\n+            }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/rsa\/RSAPrivateCrtKeyImpl.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -156,4 +156,3 @@\n-        if (key1.getFormat().equals(key2.getFormat())) {\n-            if (!Arrays.equals(key1.getEncoded(), key2.getEncoded())) {\n-                throw new Exception(\"Encodings not equal\");\n-            }\n+        if (key1.getFormat().equals(key2.getFormat()) &&\n+            !Arrays.equals(key1.getEncoded(), key2.getEncoded())) {\n+            throw new Exception(\"Encodings not equal\");\n","filename":"test\/jdk\/sun\/security\/pkcs11\/rsa\/TestKeyFactory.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -84,2 +84,2 @@\n-    private static final PrivateKey CUSTOM_PRIV;\n-    private static final PublicKey CUSTOM_PUB;\n+    private static final PrivateKey P1_PRIV;\n+    private static final PublicKey P1_PUB;\n@@ -89,1 +89,1 @@\n-        CUSTOM_PRIV = new PrivateKey() {\n+        P1_PRIV = new PrivateKey() {\n@@ -105,1 +105,1 @@\n-        CUSTOM_PUB = new PublicKey() {\n+        P1_PUB = new PublicKey() {\n@@ -148,1 +148,1 @@\n-        if (key1 != CUSTOM_PRIV && key1 != CUSTOM_PUB) {\n+        if (key1 != P1_PRIV && key1 != P1_PUB) {\n@@ -155,4 +155,3 @@\n-        if (key1.getFormat().equals(key2.getFormat())) {\n-            if (!Arrays.equals(key1.getEncoded(), key2.getEncoded())) {\n-                throw new Exception(\"Encodings not equal\");\n-            }\n+        if (key1.getFormat().equals(key2.getFormat()) &&\n+            !Arrays.equals(key1.getEncoded(), key2.getEncoded())) {\n+            throw new Exception(\"Encodings not equal\");\n@@ -164,1 +163,1 @@\n-        System.out.println(\"Testing \" + (key == CUSTOM_PUB? \"PKCS#1\" : \"\") +\n+        System.out.println(\"Testing \" + (key == P1_PUB? \"PKCS#1\" : \"\") +\n@@ -172,1 +171,1 @@\n-        if (key != CUSTOM_PUB) {\n+        if (key != P1_PUB) {\n@@ -188,1 +187,1 @@\n-        System.out.println(\"Testing \" + (key == CUSTOM_PRIV? \"PKCS#1\" : \"\") +\n+        System.out.println(\"Testing \" + (key == P1_PRIV? \"PKCS#1\" : \"\") +\n@@ -195,1 +194,1 @@\n-        if (key != CUSTOM_PRIV) {\n+        if (key != P1_PRIV) {\n@@ -243,2 +242,2 @@\n-        test(kf, CUSTOM_PRIV);\n-        test(kf, CUSTOM_PUB);\n+        test(kf, P1_PRIV);\n+        test(kf, P1_PUB);\n","filename":"test\/jdk\/sun\/security\/rsa\/TestKeyFactory.java","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"}]}