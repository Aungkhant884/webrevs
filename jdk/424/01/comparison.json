{"files":[{"patch":"@@ -144,1 +144,3 @@\n-  \/\/ check if Shenandoah GC safepoint is in progress\n+  \/\/ Check if Shenandoah GC safepoint is in progress. This is nominally\n+  \/\/ equivalent to calling SafepointSynchronize::is_at_safepoint(), but\n+  \/\/ it also checks the Shenandoah specifics, when it can.\n@@ -148,0 +150,5 @@\n+    \/\/ This is not VM thread, cannot see what VM thread is doing,\n+    \/\/ so pretend this is a proper Shenandoah safepoint\n+    if (!Thread::current()->is_VM_thread()) return true;\n+\n+    \/\/ Otherwise check we are at proper operation type\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahUtils.hpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}