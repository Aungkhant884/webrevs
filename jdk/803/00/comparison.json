{"files":[{"patch":"@@ -187,1 +187,3 @@\n-  return __sync_add_and_fetch(dest, add_value);\n+  D res = __atomic_add_fetch(dest, add_value, __ATOMIC_RELEASE);\n+  FULL_MEM_BARRIER;\n+  return res;\n@@ -199,1 +201,3 @@\n-  return __sync_add_and_fetch(dest, add_value);\n+  D res = __atomic_add_fetch(dest, add_value, __ATOMIC_RELEASE);\n+  FULL_MEM_BARRIER;\n+  return res;\n","filename":"src\/hotspot\/os_cpu\/bsd_zero\/atomic_bsd_zero.hpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -52,1 +52,3 @@\n-  return __sync_add_and_fetch(dest, add_value);\n+  D res = __atomic_add_fetch(dest, add_value, __ATOMIC_RELEASE);\n+  FULL_MEM_BARRIER;\n+  return res;\n@@ -61,1 +63,4 @@\n-  return __sync_add_and_fetch(dest, add_value);\n+\n+  D res = __atomic_add_fetch(dest, add_value, __ATOMIC_RELEASE);\n+  FULL_MEM_BARRIER;\n+  return res;\n","filename":"src\/hotspot\/os_cpu\/linux_zero\/atomic_linux_zero.hpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}