{"files":[{"patch":"@@ -565,0 +565,1 @@\n+\n@@ -568,3 +569,1 @@\n-    (thread = JavaThread::thread_from_jni_environment(trace->env_id)) == NULL ||\n-    thread->is_exiting()) {\n-\n+      (thread = JavaThread::thread_from_jni_environment(trace->env_id))->is_exiting()) {\n","filename":"src\/hotspot\/share\/prims\/forte.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1326,2 +1326,4 @@\n-    \/\/ We can't get here in a thread that has completed its execution and so\n-    \/\/ \"is_terminated\", but a thread is also considered terminated if the VM\n+    \/\/ We can't normally get here in a thread that has completed its\n+    \/\/ execution and so \"is_terminated\", except when the call is from\n+    \/\/ AsyncGetCallTrace, which can be triggered by a signal at any point in\n+    \/\/ a thread's lifecycle. A thread is also considered terminated if the VM\n@@ -1333,1 +1335,0 @@\n-      ShouldNotReachHere();\n","filename":"src\/hotspot\/share\/runtime\/thread.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}