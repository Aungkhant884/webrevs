{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -502,6 +502,11 @@\n-            Map<String,String> remoteProps = ConnectorAddressLink.importRemoteFrom(0);\n-            String jmxUrlStr = remoteProps.get(\"sun.management.JMXConnectorServer.0.remoteAddress\");\n-\n-            String instanceName = props.getProperty(\"com.sun.management.jdp.name\");\n-\n-            JdpController.startDiscoveryService(address, port, instanceName, jmxUrlStr);\n+            Map<String,String> remoteProps = null;\n+            try {\n+                remoteProps = ConnectorAddressLink.importRemoteFrom(0);\n+            } catch (IOException ioe) {\n+                warning(AGENT_EXCEPTION, \"JDP not starting, PerfData not available: \" + ioe.getMessage());\n+            }\n+            if (remoteProps != null) {\n+                String jmxUrlStr = remoteProps.get(\"sun.management.JMXConnectorServer.0.remoteAddress\");\n+                String instanceName = props.getProperty(\"com.sun.management.jdp.name\");\n+                JdpController.startDiscoveryService(address, port, instanceName, jmxUrlStr);\n+            }\n","filename":"src\/jdk.management.agent\/share\/classes\/jdk\/internal\/agent\/Agent.java","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -207,0 +207,3 @@\n+        if (bb.capacity() == 0) {\n+            throw new IOException(\"Empty PerfData buffer\");\n+        }\n","filename":"src\/jdk.management.agent\/share\/classes\/jdk\/internal\/agent\/ConnectorAddressLink.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}