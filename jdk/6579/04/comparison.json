{"files":[{"patch":"@@ -39,0 +39,1 @@\n+import java.util.Optional;\n@@ -1066,1 +1067,2 @@\n-                    return (labelContent.isEmpty() ? text: labelContent);\n+                    return invalidTagOutput(resources.getText(\"doclet.tag.invalid\", tagName),\n+                            Optional.of(labelContent.isEmpty() ? text: labelContent));\n@@ -1617,3 +1619,3 @@\n-                        if (body.matches(\"(?i)\\\\{@[a-z]+.*\")) {\n-                            messages.warning(dtp,\"doclet.tag.invalid_usage\", body);\n-                        } else {\n+                        Matcher m = Pattern.compile(\"(?i)\\\\{@([a-z]+).*\").matcher(body);\n+                        String tagName = m.matches() ? m.group(1) : null;\n+                        if (tagName == null) {\n@@ -1621,0 +1623,6 @@\n+                            result.add(invalidTagOutput(resources.getText(\"doclet.tag.invalid_input\", body),\n+                                    Optional.empty()));\n+                        } else {\n+                            messages.warning(dtp, \"doclet.tag.invalid_usage\", body);\n+                            result.add(invalidTagOutput(resources.getText(\"doclet.tag.invalid\", tagName),\n+                                    Optional.of(Text.of(body))));\n@@ -1623,1 +1631,0 @@\n-                    result.add(Text.of(node.toString()));\n@@ -1777,0 +1784,18 @@\n+    \/**\n+     * Returns the output for an invalid tag. The returned content uses special styling to\n+     * highlight the problem. Depending on the presence of the {@code detail} string the method\n+     * returns a plain text span or an expandable component.\n+     *\n+     * @param summary the single-line summary message\n+     * @param detail the optional detail message which may contain preformatted text\n+     * @return the output\n+     *\/\n+    protected Content invalidTagOutput(String summary, Optional<Content> detail) {\n+        if (detail.isEmpty() || detail.get().isEmpty()) {\n+            return HtmlTree.SPAN(HtmlStyle.invalidTag, Text.of(summary));\n+        }\n+        return new HtmlTree(TagName.DETAILS).addStyle(HtmlStyle.invalidTag)\n+                .add(new HtmlTree(TagName.SUMMARY).add(Text.of(summary)))\n+                .add(new HtmlTree(TagName.PRE).add(detail.get()));\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":30,"deletions":5,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+import java.util.Optional;\n@@ -539,0 +540,8 @@\n+    @Override\n+    protected Content invalidTagOutput(String summary, Optional<String> detail) {\n+        return htmlWriter.invalidTagOutput(summary,\n+                detail.isEmpty() || detail.get().isEmpty()\n+                        ? Optional.empty()\n+                        : Optional.of(Text.of(utils.normalizeNewlines(detail.get()))));\n+    }\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TagletWriterImpl.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -910,0 +910,5 @@\n+    \/**\n+     * The class of an element that acts as a notification for an invalid tag.\n+     *\/\n+    invalidTag,\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyle.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+    DETAILS,\n@@ -86,0 +87,1 @@\n+    SUMMARY,\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/TagName.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,0 +109,1 @@\n+doclet.tag.invalid=invalid @{0}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -558,0 +558,12 @@\n+details.invalid-tag, span.invalid-tag {\n+    font-size:14px;\n+    font-family:'DejaVu Serif', Georgia, \"Times New Roman\", Times, serif;\n+    background: #ffe6e6;\n+    border: thin solid #000000;\n+    border-radius:2px;\n+    padding: 2px 4px;\n+    display:inline-block;\n+}\n+details.invalid-tag summary {\n+    cursor: pointer;\n+}\n@@ -994,1 +1006,0 @@\n-\n@@ -998,1 +1009,0 @@\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -123,1 +123,2 @@\n-            return badSnippet(writer);\n+            String details = writer.configuration().getDocResources().getText(e.key(), e.args());\n+            return badSnippet(writer, Optional.of(details));\n@@ -289,1 +290,1 @@\n-            return badSnippet(writer);\n+            return badSnippet(writer, Optional.of(e.getMessage()));\n@@ -302,1 +303,1 @@\n-            return badSnippet(writer);\n+            return badSnippet(writer, Optional.of(e.getMessage()));\n@@ -411,2 +412,3 @@\n-    private Content badSnippet(TagletWriter writer) {\n-        return writer.getOutputInstance().add(\"bad snippet\");\n+    private Content badSnippet(TagletWriter writer, Optional<String> details) {\n+        Resources resources = writer.configuration().getDocResources();\n+        return writer.invalidTagOutput(resources.getText(\"doclet.tag.invalid\", \"snippet\"), details);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/SnippetTaglet.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import java.util.Optional;\n@@ -242,0 +243,11 @@\n+    \/**\n+     * Returns the output for an invalid tag. The returned content uses special styling to\n+     * highlight the problem. Depending on the presence of the {@code detail} string the method\n+     * returns a plain text span or an expandable component.\n+     *\n+     * @param summary the single-line summary message\n+     * @param detail the optional detail message which may contain preformatted text\n+     * @return the output\n+     *\/\n+    protected abstract Content invalidTagOutput(String summary, Optional<String> detail);\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/TagletWriter.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -169,3 +169,18 @@\n-                    <div class=\"block\"><code>java.util.Foo&lt;String&gt;<\/code>\n-                     Baz&lt;Object&gt;\n-                     <code>#b(List&lt;Integer&gt;)<\/code><\/div>\"\"\",\n+                    <div class=\"block\">\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @link<\/summary>\n+                    <pre><code>java.util.Foo&lt;String&gt;<\/code><\/pre>\n+                    <\/details>\n+\n+                    \\s\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @linkplain<\/summary>\n+                    <pre>Baz&lt;Object&gt;<\/pre>\n+                    <\/details>\n+\n+                    \\s\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @link<\/summary>\n+                    <pre><code>#b(List&lt;Integer&gt;)<\/code><\/pre>\n+                    <\/details>\n+                    <\/div>\"\"\",\n@@ -178,3 +193,18 @@\n-                    <li><code>java.util.List&lt;Bar&gt;<\/code><\/li>\n-                    <li><code>Baz&lt;Object, String&gt;<\/code><\/li>\n-                    <li><code>B#b(List&lt;Baz&gt;)<\/code><\/li>\n+                    <li>\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @see<\/summary>\n+                    <pre><code>java.util.List&lt;Bar&gt;<\/code><\/pre>\n+                    <\/details>\n+                    <\/li>\n+                    <li>\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @see<\/summary>\n+                    <pre><code>Baz&lt;Object, String&gt;<\/code><\/pre>\n+                    <\/details>\n+                    <\/li>\n+                    <li>\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @see<\/summary>\n+                    <pre><code>B#b(List&lt;Baz&gt;)<\/code><\/pre>\n+                    <\/details>\n+                    <\/li>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testGenericTypeLink\/TestGenericTypeLink.java","additions":36,"deletions":6,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-                <dd><code>i<\/code> - a &lt; b<\/dd>\n+                <dd><code>i<\/code> - a <span class=\"invalid-tag\">invalid input: '&lt;'<\/span> b<\/dd>\n@@ -76,1 +76,1 @@\n-                <dd><code>i<\/code> - a &lt; b<\/dd>\n+                <dd><code>i<\/code> - a <span class=\"invalid-tag\">invalid input: '&lt;'<\/span> b<\/dd>\n@@ -104,1 +104,1 @@\n-                <dd>a &lt; b<\/dd>\n+                <dd>a <span class=\"invalid-tag\">invalid input: '&lt;'<\/span> b<\/dd>\n@@ -108,1 +108,1 @@\n-                <dd>a &lt; b<\/dd>\n+                <dd>a <span class=\"invalid-tag\">invalid input: '&lt;'<\/span> b<\/dd>\n@@ -150,1 +150,6 @@\n-                <div class=\"block\"><code>NonExistingClass<\/code><\/div>\n+                <div class=\"block\">\n+                <details class=\"invalid-tag\">\n+                <summary>invalid @link<\/summary>\n+                <pre><code>NonExistingClass<\/code><\/pre>\n+                <\/details>\n+                <\/div>\n@@ -153,1 +158,6 @@\n-                <div class=\"block\"><code>NonExistingClass<\/code><\/div>\n+                <div class=\"block\">\n+                <details class=\"invalid-tag\">\n+                <summary>invalid @link<\/summary>\n+                <pre><code>NonExistingClass<\/code><\/pre>\n+                <\/details>\n+                <\/div>\n@@ -156,1 +166,6 @@\n-                <div class=\"block\"><code>NonExistingClass<\/code><\/div>\n+                <div class=\"block\">\n+                <details class=\"invalid-tag\">\n+                <summary>invalid @link<\/summary>\n+                <pre><code>NonExistingClass<\/code><\/pre>\n+                <\/details>\n+                <\/div>\n@@ -159,1 +174,6 @@\n-                <div class=\"block\"><code>NonExistingClass<\/code><\/div>\n+                <div class=\"block\">\n+                <details class=\"invalid-tag\">\n+                <summary>invalid @link<\/summary>\n+                <pre><code>NonExistingClass<\/code><\/pre>\n+                <\/details>\n+                <\/div>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testInherited\/TestInherited.java","additions":28,"deletions":8,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -88,1 +88,1 @@\n-                    <div class=\"block\">case1: A hanging &lt;  : xx&lt;<\/div>\"\"\");\n+                    <div class=\"block\">case1: A hanging &lt;  : xx<span class=\"invalid-tag\">invalid input: '&lt;'<\/span><\/div>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testNonInlineHtmlTagRemoval\/TestNonInlineHtmlTagRemoval.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -103,1 +103,6 @@\n-                    <li><code>Foo&lt;String&gt;<\/code><\/li>\n+                    <li>\n+                    <details class=\"invalid-tag\">\n+                    <summary>invalid @see<\/summary>\n+                    <pre><code>Foo&lt;String&gt;<\/code><\/pre>\n+                    <\/details>\n+                    <\/li>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSeeTag\/TestSeeTag.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8266666 8275788\n+ * @bug 8266666 8275788 8276964\n@@ -281,0 +281,1 @@\n+\n@@ -1083,0 +1084,6 @@\n+        checkOutput(\"pkg\/A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>File not found: text.txt<\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -1158,0 +1165,6 @@\n+        checkOutput(\"pkg\/A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>@snippet does not specify contents<\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -1214,0 +1227,6 @@\n+        checkOutput(\"pkg\/A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>@snippet specifies multiple external contents, which is ambiguous<\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -1866,9 +1885,9 @@\n-{@snippet %s:\n-    First line\n-      Second line\n-}\n-\"\"\".formatted(attrName),\n-\"\"\"\n-: error: missing value for attribute \"%s\"\n-{@snippet %s:\n-          ^\"\"\".formatted(attrName, attrName));\n+                        {@snippet %s:\n+                            First line\n+                              Second line\n+                        }\n+                        \"\"\".formatted(attrName),\n+                        \"\"\"\n+                        : error: missing value for attribute \"%s\"\n+                        {@snippet %s:\n+                                  ^\"\"\".formatted(attrName, attrName));\n@@ -1918,9 +1937,12 @@\n-{@snippet region=%s%s%s:\n-    First line\n-      Second line\n-}\n-\"\"\".formatted(quote, value, quote),\n-                      \"\"\"\n-: error: illegal value for attribute \"region\": \"%s\"\n-{@snippet region=%s%s%s:\n-          ^\"\"\".formatted(quote.isEmpty() ? \"\" : value, quote, value, quote)); \/\/ unquoted whitespace translates to empty string\n+                        {@snippet region=%s%s%s:\n+                            First line\n+                              Second line\n+                        }\n+                        \"\"\".formatted(quote, value, quote),\n+                        \"\"\"\n+                        : error: illegal value for attribute \"region\": \"%s\"\n+                        {@snippet region=%s%s%s:\n+                                  ^\n+                        \"\"\".formatted(\n+                                quote.isEmpty() ? \"\" : value, \/\/ unquoted whitespace translates to empty string\n+                                quote, value, quote));\n@@ -2018,0 +2040,11 @@\n+        checkOutput(\"pkg\/A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>contents mismatch:\n+                        ----------------- inline -------------------\n+                        Hello, Snippet!\n+                        ----------------- external -----------------\n+                        Hello, Snippet!...more\n+                        <\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -2058,0 +2091,13 @@\n+        checkOutput(\"pkg\/A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>contents mismatch:\n+                        ----------------- inline -------------------\n+                        Hello, Snippet! ...more\n+\n+                        ----------------- external -----------------\n+                        Hello, Snippet!\n+\n+                        <\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -2281,3 +2327,3 @@\n-{@snippet :\n-hello there \/\/   @highlight   regex =\"\\t**\"\n-}\"\"\",\n+                    {@snippet :\n+                    hello there \/\/   @highlight   regex =\"\\t**\"\n+                    }\"\"\",\n@@ -2285,4 +2331,4 @@\n-error: snippet markup: invalid regex\n-hello there \/\/   @highlight   regex =\"\\t**\"\n-                                      \\t ^\n-\"\"\"),\n+                    error: snippet markup: invalid regex\n+                    hello there \/\/   @highlight   regex =\"\\t**\"\n+                                                          \\t ^\n+                    \"\"\"),\n@@ -2290,3 +2336,3 @@\n-{@snippet :\n-hello there \/\/   @highlight   regex =\"\\\\t**\"\n-}\"\"\",\n+                    {@snippet :\n+                    hello there \/\/   @highlight   regex =\"\\\\t**\"\n+                    }\"\"\",\n@@ -2294,4 +2340,4 @@\n-error: snippet markup: invalid regex\n-hello there \/\/   @highlight   regex =\"\\\\t**\"\n-                                         ^\n-\"\"\"),\n+                    error: snippet markup: invalid regex\n+                    hello there \/\/   @highlight   regex =\"\\\\t**\"\n+                                                             ^\n+                    \"\"\"),\n@@ -2299,3 +2345,3 @@\n-{@snippet :\n-hello there \/\/ @highlight regex=\"\\\\.\\\\*\\\\+\\\\E\"\n-}\"\"\",\n+                    {@snippet :\n+                    hello there \/\/ @highlight regex=\"\\\\.\\\\*\\\\+\\\\E\"\n+                    }\"\"\",\n@@ -2303,4 +2349,4 @@\n-error: snippet markup: invalid regex\n-hello there \/\/ @highlight regex=\"\\\\.\\\\*\\\\+\\\\E\"\n-                                 \\s\\s\\s\\s   ^\n-\"\"\"), \/\/ use \\s to counteract shift introduced by \\\\ so as to visually align ^ right below E\n+                    error: snippet markup: invalid regex\n+                    hello there \/\/ @highlight regex=\"\\\\.\\\\*\\\\+\\\\E\"\n+                                                     \\s\\s\\s\\s   ^\n+                    \"\"\"), \/\/ use \\s to counteract shift introduced by \\\\ so as to visually align ^ right below E\n@@ -2308,3 +2354,3 @@\n-{@snippet :\n-hello there \/\/   @highlight  type=\"italics\" regex =\"  [\"\n-}\"\"\",\n+                    {@snippet :\n+                    hello there \/\/   @highlight  type=\"italics\" regex =\"  [\"\n+                    }\"\"\",\n@@ -2312,4 +2358,4 @@\n-error: snippet markup: invalid regex\n-hello there \/\/   @highlight  type=\"italics\" regex =\"  [\"\n-                                                      ^\n-\"\"\")\n+                    error: snippet markup: invalid regex\n+                    hello there \/\/   @highlight  type=\"italics\" regex =\"  [\"\n+                                                                          ^\n+                    \"\"\")\n@@ -2345,0 +2391,6 @@\n+        checkOutput(\"A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>invalid regex<\/pre>\n+                        <\/details>\n+                        \"\"\");\n@@ -2355,3 +2407,3 @@\n-{@snippet :\n-    hello \/\/ @link\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @link\n+                        }\"\"\",\n@@ -2359,3 +2411,3 @@\n-error: snippet markup: missing attribute \"target\"\n-    hello \/\/ @link\n-              ^\n+                        error: snippet markup: missing attribute \"target\"\n+                            hello \/\/ @link\n+                                      ^\n@@ -2364,3 +2416,3 @@\n-{@snippet :\n-    hello \/\/ @start\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @start\n+                        }\"\"\",\n@@ -2368,3 +2420,3 @@\n-error: snippet markup: missing attribute \"region\"\n-    hello \/\/ @start\n-              ^\n+                        error: snippet markup: missing attribute \"region\"\n+                            hello \/\/ @start\n+                                      ^\n@@ -2373,3 +2425,3 @@\n-{@snippet :\n-    hello \/\/ @replace\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @replace\n+                        }\"\"\",\n@@ -2377,3 +2429,3 @@\n-error: snippet markup: missing attribute \"replacement\"\n-    hello \/\/ @replace\n-              ^\n+                        error: snippet markup: missing attribute \"replacement\"\n+                            hello \/\/ @replace\n+                                      ^\n@@ -2383,3 +2435,3 @@\n-{@snippet :\n-    hello \/\/ @highlight regex=\\\\w+ substring=hello\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @highlight regex=\\\\w+ substring=hello\n+                        }\"\"\",\n@@ -2387,3 +2439,3 @@\n-error: snippet markup: attributes \"substring\" and \"regex\" used simultaneously\n-    hello \/\/ @highlight regex=\\\\w+ substring=hello\n-                                  ^\n+                        error: snippet markup: attributes \"substring\" and \"regex\" used simultaneously\n+                            hello \/\/ @highlight regex=\\\\w+ substring=hello\n+                                                          ^\n@@ -2392,3 +2444,3 @@\n-{@snippet :\n-    hello \/\/ @start region=\"x\" name=\"here\"\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @start region=\"x\" name=\"here\"\n+                        }\"\"\",\n@@ -2396,3 +2448,3 @@\n-error: snippet markup: unexpected attribute\n-    hello \/\/ @start region=\"x\" name=\"here\"\n-                               ^\n+                        error: snippet markup: unexpected attribute\n+                            hello \/\/ @start region=\"x\" name=\"here\"\n+                                                       ^\n@@ -2401,3 +2453,3 @@\n-{@snippet :\n-    hello \/\/ @start region=\"\"\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @start region=\"\"\n+                        }\"\"\",\n@@ -2405,3 +2457,3 @@\n-error: snippet markup: invalid attribute value\n-    hello \/\/ @start region=\"\"\n-                            ^\n+                        error: snippet markup: invalid attribute value\n+                            hello \/\/ @start region=\"\"\n+                                                    ^\n@@ -2410,3 +2462,3 @@\n-{@snippet :\n-    hello \/\/ @link target=\"Object#equals()\" type=fluffy\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @link target=\"Object#equals()\" type=fluffy\n+                        }\"\"\",\n@@ -2414,3 +2466,3 @@\n-error: snippet markup: invalid attribute value\n-    hello \/\/ @link target=\"Object#equals()\" type=fluffy\n-                                                 ^\n+                        error: snippet markup: invalid attribute value\n+                            hello \/\/ @link target=\"Object#equals()\" type=fluffy\n+                                                                         ^\n@@ -2420,4 +2472,4 @@\n-{@snippet :\n-    hello\n-    there \/\/ @highlight substring=\"\n-}\"\"\",\n+                        {@snippet :\n+                            hello\n+                            there \/\/ @highlight substring=\"\n+                        }\"\"\",\n@@ -2425,3 +2477,3 @@\n-error: snippet markup: unterminated attribute value\n-    there \/\/ @highlight substring=\"\n-                                  ^\n+                        error: snippet markup: unterminated attribute value\n+                            there \/\/ @highlight substring=\"\n+                                                          ^\n@@ -2430,5 +2482,5 @@\n-{@snippet :\n-    hello \/\/ @start region=\"this\"\n-    world \/\/ @start region=\"this\"\n-    !     \/\/ @end\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @start region=\"this\"\n+                            world \/\/ @start region=\"this\"\n+                            !     \/\/ @end\n+                        }\"\"\",\n@@ -2436,3 +2488,3 @@\n-error: snippet markup: duplicated region\n-    world \/\/ @start region=\"this\"\n-                            ^\n+                        error: snippet markup: duplicated region\n+                            world \/\/ @start region=\"this\"\n+                                                    ^\n@@ -2441,3 +2493,3 @@\n-{@snippet :\n-    hello \/\/ @end\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @end\n+                        }\"\"\",\n@@ -2445,3 +2497,3 @@\n-error: snippet markup: no region to end\n-    hello \/\/ @end\n-              ^\n+                        error: snippet markup: no region to end\n+                            hello \/\/ @end\n+                                      ^\n@@ -2450,3 +2502,3 @@\n-{@snippet :\n-    hello \/\/ @start region=this\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @start region=this\n+                        }\"\"\",\n@@ -2454,3 +2506,3 @@\n-error: snippet markup: unpaired region\n-    hello \/\/ @start region=this\n-              ^\n+                        error: snippet markup: unpaired region\n+                            hello \/\/ @start region=this\n+                                      ^\n@@ -2459,3 +2511,3 @@\n-{@snippet :\n-    hello \/\/ @highlight substring=\"hello\" :\n-}\"\"\",\n+                        {@snippet :\n+                            hello \/\/ @highlight substring=\"hello\" :\n+                        }\"\"\",\n@@ -2463,4 +2515,4 @@\n-error: snippet markup: tag refers to non-existent lines\n-    hello \/\/ @highlight substring=\"hello\" :\n-              ^\n-              \"\"\")\n+                        error: snippet markup: tag refers to non-existent lines\n+                            hello \/\/ @highlight substring=\"hello\" :\n+                                      ^\n+                        \"\"\")\n@@ -2496,0 +2548,6 @@\n+        checkOutput(\"A.html\", true, \"\"\"\n+                        <details class=\"invalid-tag\">\n+                        <summary>invalid @snippet<\/summary>\n+                        <pre>missing attribute \"target\"<\/pre>\n+                        <\/details>\n+                        \"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSnippetTag\/TestSnippetTag.java","additions":181,"deletions":123,"binary":false,"changes":304,"status":"modified"}]}