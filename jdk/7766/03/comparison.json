{"files":[{"patch":"@@ -419,3 +419,8 @@\n-                String msg = String.format(\"Receiver class %s is not a subclass of caller class %s\",\n-                                           recv.getClass().getName(), caller.getName());\n-                throw new IncompatibleClassChangeError(msg);\n+                if (recv != null) {\n+                    String msg = String.format(\"Receiver class %s is not a subclass of caller class %s\",\n+                                               recv.getClass().getName(), caller.getName());\n+                    throw new IncompatibleClassChangeError(msg);\n+                } else {\n+                    String msg = String.format(\"Cannot invoke %s with null receiver\", member);\n+                    throw new NullPointerException(msg);\n+                }\n@@ -447,3 +452,8 @@\n-                String msg = String.format(\"Receiver class %s does not implement the requested interface %s\",\n-                                           recv.getClass().getName(), refc.getName());\n-                throw new IncompatibleClassChangeError(msg);\n+                if (recv != null) {\n+                    String msg = String.format(\"Receiver class %s does not implement the requested interface %s\",\n+                                               recv.getClass().getName(), refc.getName());\n+                    throw new IncompatibleClassChangeError(msg);\n+                } else {\n+                    String msg = String.format(\"Cannot invoke %s with null receiver\", member);\n+                    throw new NullPointerException(msg);\n+                }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/DirectMethodHandle.java","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"}]}