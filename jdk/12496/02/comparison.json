{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -107,1 +107,2 @@\n-        for (int i = 0; i < CompilerWhiteBoxTest.THRESHOLD + 1; i++) {\n+        \/\/ Run enough iterations to reach compilation.\n+        for (int i = 0; i < (CHECK_COMPILED ? 1 : 1000); i++) {\n@@ -110,0 +111,6 @@\n+\n+        \/\/ Verify that we reached compilation at some point.\n+        Asserts.assertTrue(WB.isMethodCompiled(ITERATE_FRAMES_METHOD),\n+            \"Expected native method to be compiled: \" + ITERATE_FRAMES_METHOD);\n+        Asserts.assertTrue(WB.isMethodCompiled(NATIVE_METHOD),\n+            \"Expected native method to be compiled: \" + NATIVE_METHOD);\n@@ -128,7 +135,0 @@\n-\n-        if (CHECK_COMPILED) {\n-            Asserts.assertTrue(WB.isMethodCompiled(ITERATE_FRAMES_METHOD),\n-                \"Expected native method to be compiled: \" + ITERATE_FRAMES_METHOD);\n-            Asserts.assertTrue(WB.isMethodCompiled(NATIVE_METHOD),\n-                \"Expected native method to be compiled: \" + NATIVE_METHOD);\n-        }\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/compilerToVM\/IterateFramesNative.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"}]}