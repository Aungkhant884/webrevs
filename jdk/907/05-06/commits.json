[{"commit":{"message":"8255553: [PPC64] Introduce and use setbc and setnbc P10 instructions\n\n- setbc RT,BI: sets RT to 1 if CR(BI) is 1, otherwise 0.\n- setnbc RT,BI: sets RT to -1 if CR(BI) is 1, otherwise 0.\nRef: PowerISA 3.1, page 129.\n\nThese instructions are particularly interesting to improve the following\npattern `(src1<src2)? -1: ((src1>src2)? 1: 0)`, which can be found in\n`instruct cmpL3_reg_reg_ExEx()@ppc.ad`, by removing its branches.\n\nLong.toString, that generate such pattern in getChars, has showed a\ngood performance gain by using these new instructions.\n\nExample:\nfor (int i = 0; i < 200_000; i++)\n  res = Long.toString((long)i);\n\njava -Xcomp -XX:CompileThreshold=1 -XX:-TieredCompilation TestToString\n\nWithout setbc (average): 0.1178 seconds\nWith setbc (average): 0.0396 seconds"},"files":[{"filename":"src\/hotspot\/cpu\/ppc\/ppc.ad"},{"filename":"src\/hotspot\/cpu\/ppc\/templateTable_ppc_64.cpp"}],"sha":"68081ca696de690a341e9db2668526521877f1f5"}]