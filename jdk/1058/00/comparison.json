{"files":[{"patch":"@@ -1962,1 +1962,1 @@\n-    MacroAssembler::_verify_oop(reg, \"broken oop\", file, line);\n+    MacroAssembler::_verify_oop_checked(reg, \"broken oop\", file, line);\n","filename":"src\/hotspot\/cpu\/x86\/interp_masm_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -373,5 +373,0 @@\n-void MacroAssembler::set_word_if_not_zero(Register dst) {\n-  xorl(dst, dst);\n-  set_byte_if_not_zero(dst);\n-}\n-\n@@ -3992,1 +3987,0 @@\n-\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -586,3 +586,0 @@\n-  \/\/----\n-  void set_word_if_not_zero(Register reg); \/\/ sets reg to 1 if not zero, otherwise 0\n-\n@@ -595,0 +592,11 @@\n+  void _verify_oop_checked(Register reg, const char* s, const char* file, int line) {\n+    if (VerifyOops) {\n+      _verify_oop(reg, s, file, line);\n+    }\n+  }\n+  void _verify_oop_addr_checked(Address reg, const char* s, const char* file, int line) {\n+    if (VerifyOops) {\n+      _verify_oop_addr(reg, s, file, line);\n+    }\n+  }\n+\n@@ -599,3 +607,3 @@\n-#define verify_oop(reg) _verify_oop(reg, \"broken oop \" #reg, __FILE__, __LINE__)\n-#define verify_oop_msg(reg, msg) _verify_oop(reg, \"broken oop \" #reg \", \" #msg, __FILE__, __LINE__)\n-#define verify_oop_addr(addr) _verify_oop_addr(addr, \"broken oop addr \" #addr, __FILE__, __LINE__)\n+#define verify_oop(reg) _verify_oop_checked(reg, \"broken oop \" #reg, __FILE__, __LINE__)\n+#define verify_oop_msg(reg, msg) _verify_oop_checked(reg, \"broken oop \" #reg \", \" #msg, __FILE__, __LINE__)\n+#define verify_oop_addr(addr) _verify_oop_addr_checked(addr, \"broken oop addr \" #addr, __FILE__, __LINE__)\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.hpp","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -6854,1 +6854,3 @@\n-    StubRoutines::_verify_oop_subroutine_entry = generate_verify_oop();\n+    if (VerifyOops) {\n+      StubRoutines::_verify_oop_subroutine_entry = generate_verify_oop();\n+    }\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}