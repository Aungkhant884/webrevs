{"files":[{"patch":"@@ -40,1 +40,1 @@\n-ciMethodData::ciMethodData(MethodData* md) : ciMetadata(md) {\n+ciMethodData::ciMethodData(MethodData* md) : ciMetadata(md), _orig(*this) {\n@@ -42,1 +42,0 @@\n-  Copy::zero_to_words((HeapWord*) &_orig, sizeof(_orig) \/ sizeof(HeapWord));\n@@ -63,2 +62,1 @@\n-ciMethodData::ciMethodData() : ciMetadata(NULL) {\n-  Copy::zero_to_words((HeapWord*) &_orig, sizeof(_orig) \/ sizeof(HeapWord));\n+ciMethodData::ciMethodData() : ciMetadata(NULL), _orig(*this) {\n","filename":"src\/hotspot\/share\/ci\/ciMethodData.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -373,0 +373,1 @@\n+  friend class MethodData; \/\/ initializes _orig\n","filename":"src\/hotspot\/share\/ci\/ciMethodData.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+#include \"ci\/ciMethodData.hpp\"\n@@ -1204,0 +1205,9 @@\n+\/\/ Special ctor for ciMethodData.\n+MethodData::MethodData(ciMethodData& data)\n+  : _extra_data_lock(Mutex::leaf, \"unused\") {\n+  _extra_data_lock.~Mutex(); \/\/ release allocated resources before zeroing\n+  HeapWord* mdata_start    = (HeapWord*)&data._orig;\n+  size_t    size_in_words  = sizeof(data._orig) \/ sizeof(HeapWord);\n+  Copy::zero_to_words(mdata_start, size_in_words);\n+};\n+\n","filename":"src\/hotspot\/share\/oops\/methodData.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1933,0 +1933,2 @@\n+class ciMethodData;\n+\n@@ -1939,0 +1941,1 @@\n+  friend class ciMethodData;\n@@ -1955,0 +1958,1 @@\n+  MethodData(ciMethodData& data); \/\/ for ciMethodData\n@@ -1957,1 +1961,0 @@\n-  MethodData() : _extra_data_lock(Mutex::leaf, \"MDO extra data lock\") {}; \/\/ For ciMethodData\n","filename":"src\/hotspot\/share\/oops\/methodData.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}