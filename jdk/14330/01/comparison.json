{"files":[{"patch":"@@ -0,0 +1,26 @@\n+diff --git a\/test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RunAgentThread\/agentthr001\/agentthr001.cpp b\/test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RunAgentThread\/agentthr001\/agentthr001.cpp\n+index 82fb234ac60..775f564f465 100644\n+--- a\/test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RunAgentThread\/agentthr001\/agentthr001.cpp\n++++ b\/test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RunAgentThread\/agentthr001\/agentthr001.cpp\n+@@ -23,7 +23,6 @@\n+ \n+ #include <stdio.h>\n+ #include <string.h>\n+-#include <unistd.h>\n+ #include \"jvmti.h\"\n+ #include \"agent_common.h\"\n+ #include \"JVMTITools.h\"\n+@@ -137,8 +136,11 @@ sys_thread_2(jvmtiEnv* jvmti, JNIEnv* jni, void *p) {\n+ \n+ static void JNICALL\n+ sys_thread_3(jvmtiEnv* jvmti, JNIEnv* jni, void *p) {\n+-    while (1) {\n+-      sleep(1);\n++    \/* The volatile variable in the loop body is necessary\n++     * to avoid the compiler optimization to elide the loop. *\/\n++    volatile int i = 1;\n++    while (i) {\n++      i += 2;\n+     }\n+ }\n+ \n","filename":"d042520_libagentthr.diff","additions":26,"deletions":0,"binary":false,"changes":26,"status":"added"},{"patch":"@@ -139,1 +139,5 @@\n-    while (1) {\n+    \/* The volatile variable in the loop body is necessary\n+     * to avoid the compiler optimization to elide the loop. *\/\n+    volatile int i = 1;\n+    while (i) {\n+      i += 2;\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/RunAgentThread\/agentthr001\/agentthr001.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}