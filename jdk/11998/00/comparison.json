{"files":[{"patch":"@@ -34,0 +34,1 @@\n+#include <windef.h>\n@@ -47,5 +48,3 @@\n- *   BOOL SetProcessDPIAware(VOID);\n- * which is only present on Windows Vista, and which instructs the\n- * Vista Windows Display Manager that this application is High DPI Aware\n- * and does not need to be scaled by the WDM and lied about the\n- * actual system dpi.\n+ *   BOOL SetProcessDpiAwarenessContext(DPI_AWARENESS_CONTEXT);\n+ * to set Process DPI Awareness to DPI_AWARENESS_CONTEXT_PER_MONITOR_AWARE_V2\n+ * to match what we have in the manifest file.\n@@ -56,1 +55,1 @@\n-    typedef BOOL (WINAPI SetProcessDPIAwareFunc)(void);\n+    typedef BOOL (WINAPI SetProcessDpiAwarenessContextFunc)(DPI_AWARENESS_CONTEXT);\n@@ -69,5 +68,6 @@\n-        SetProcessDPIAwareFunc *lpSetProcessDPIAware =\n-            (SetProcessDPIAwareFunc*)GetProcAddress(hLibUser32Dll,\n-                                                    \"SetProcessDPIAware\");\n-        if (lpSetProcessDPIAware != NULL) {\n-            lpSetProcessDPIAware();\n+        SetProcessDpiAwarenessContextFunc *lpSetProcessDpiAwarenessContext =\n+                    (SetProcessDpiAwarenessContextFunc*)GetProcAddress(hLibUser32Dll,\n+                                                            \"SetProcessDpiAwarenessContext\");\n+\n+        if (lpSetProcessDpiAwarenessContext != NULL) {\n+            lpSetProcessDpiAwarenessContext(DPI_AWARENESS_CONTEXT_PER_MONITOR_AWARE_V2);\n@@ -75,0 +75,1 @@\n+\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Win32GraphicsEnv.cpp","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"}]}