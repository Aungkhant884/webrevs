{"files":[{"patch":"@@ -253,1 +253,1 @@\n-    markWord mark = o->mark_acquire();\n+    markWord mark = o->mark();\n","filename":"src\/hotspot\/share\/gc\/parallel\/psPromotionManager.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -327,1 +327,1 @@\n-    markWord mark = copy_val->mark_acquire();\n+    markWord mark = copy_val->mark();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -235,6 +235,9 @@\n-    uintptr_t mask_in_place = UseCompactObjectHeaders ? hash_mask_in_place_compact : hash_mask_in_place;\n-    uintptr_t mask          = UseCompactObjectHeaders ? hash_mask_compact          : hash_mask;\n-    int shift               = UseCompactObjectHeaders ? hash_shift_compact         : hash_shift;\n-    uintptr_t tmp = value() & (~mask_in_place);\n-    tmp |= ((hash & mask) << shift);\n-    return markWord(tmp);\n+    if (UseCompactObjectHeaders) {\n+      uintptr_t tmp = value() & (~hash_mask_in_place_compact);\n+      tmp |= ((hash & hash_mask_compact) << hash_shift_compact);\n+      return markWord(tmp);\n+    } else {\n+      uintptr_t tmp = value() & (~hash_mask_in_place);\n+      tmp |= ((hash & hash_mask) << hash_shift);\n+      return markWord(tmp);\n+    }\n@@ -273,3 +276,5 @@\n-    uintptr_t mask = UseCompactObjectHeaders ? hash_mask_compact  : hash_mask;\n-    int shift      = UseCompactObjectHeaders ? hash_shift_compact : hash_shift;\n-    return mask_bits(value() >> shift, mask);\n+    if (UseCompactObjectHeaders) {\n+      return mask_bits(value() >> hash_shift_compact, hash_mask_compact);\n+    } else {\n+      return mask_bits(value() >> hash_shift, hash_mask);\n+    }\n","filename":"src\/hotspot\/share\/oops\/markWord.hpp","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"}]}