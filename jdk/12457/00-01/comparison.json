{"files":[{"patch":"@@ -165,2 +165,1 @@\n-        boolean acceptedFirstConnection;\n-        int firstConnectionHash = 0;\n+        volatile Object firstConnection = null;\n@@ -171,3 +170,2 @@\n-                if (!acceptedFirstConnection) {\n-                    firstConnectionHash = exch.getTestConnection().hashCode();\n-                    acceptedFirstConnection = true;\n+                if (firstConnection == null) {\n+                    firstConnection = exch.getTestConnection();\n@@ -176,2 +174,1 @@\n-                    int secondConnectionHash = exch.getTestConnection().hashCode();\n-                    int cmp = Integer.compare(firstConnectionHash, secondConnectionHash);\n+                    var secondConnection = exch.getTestConnection();\n@@ -179,1 +176,1 @@\n-                    if (cmp < 0 | cmp > 0) {\n+                    if (firstConnection != secondConnection) {\n@@ -181,1 +178,1 @@\n-                                + \" First Connection Hash: \" + firstConnectionHash + \", Second Connection Hash: \" + secondConnectionHash);\n+                                + \" First Connection Hash: \" + firstConnection + \", Second Connection Hash: \" + secondConnection);\n@@ -185,1 +182,1 @@\n-                                + \" First Connection Hash: \" + firstConnectionHash + \", Second Connection Hash: \" + secondConnectionHash);\n+                                + \" First Connection Hash: \" + firstConnection + \", Second Connection Hash: \" + secondConnection);\n@@ -195,2 +192,1 @@\n-        boolean acceptedFirstConnection;\n-        int firstConnectionHash = 0;\n+        volatile Object firstConnection = null;\n@@ -201,3 +197,2 @@\n-                if (!acceptedFirstConnection) {\n-                    firstConnectionHash = exch.getTestConnection().hashCode();\n-                    acceptedFirstConnection = true;\n+                if (firstConnection == null) {\n+                    firstConnection = exch.getTestConnection();\n@@ -206,2 +201,1 @@\n-                    int secondConnectionHash = exch.getTestConnection().hashCode();\n-                    int cmp = Integer.compare(firstConnectionHash, secondConnectionHash);\n+                    var secondConnection = exch.getTestConnection();\n@@ -209,1 +203,1 @@\n-                    if (cmp == 0) {\n+                    if (firstConnection == secondConnection) {\n@@ -211,1 +205,1 @@\n-                                + \" First Connection Hash: \" + firstConnectionHash + \", Second Connection Hash: \" + secondConnectionHash);\n+                                + \" First Connection Hash: \" + firstConnection + \", Second Connection Hash: \" + secondConnection);\n@@ -215,1 +209,1 @@\n-                                + \" First Connection Hash: \" + firstConnectionHash + \", Second Connection Hash: \" + secondConnectionHash);\n+                                + \" First Connection Hash: \" + firstConnection + \", Second Connection Hash: \" + secondConnection);\n","filename":"test\/jdk\/java\/net\/httpclient\/http2\/IdleConnectionTimeoutTest.java","additions":14,"deletions":20,"binary":false,"changes":34,"status":"modified"}]}