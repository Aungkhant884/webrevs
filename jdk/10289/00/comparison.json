{"files":[{"patch":"@@ -849,0 +849,17 @@\n+    @SuppressWarnings(\"unchecked\")\n+    public static float getTracking(Map<?, ?> map) {\n+        if (map != null) {\n+            AttributeValues av = null;\n+            if (map instanceof AttributeMap &&\n+                    ((AttributeMap) map).getValues() != null) {\n+                av = ((AttributeMap)map).getValues();\n+            } else if (map.get(TextAttribute.TRACKING) != null) {\n+                av = AttributeValues.fromMap((Map<Attribute, ?>)map);\n+            }\n+            if (av != null) {\n+                return av.tracking;\n+            }\n+        }\n+        return 0;\n+    }\n+\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/AttributeValues.java","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -74,0 +74,2 @@\n+  float advTracking;\n+\n@@ -113,0 +115,2 @@\n+\n+    advTracking = font.getSize() * AttributeValues.getTracking(atts);\n@@ -381,1 +385,1 @@\n-    if (charinfo == null || idx >= charinfo.length) {\n+    if (charinfo == null || idx >= charinfo.length || charinfo[idx] == 0) {\n@@ -384,1 +388,1 @@\n-        return charinfo[idx];\n+        return charinfo[idx] + advTracking;\n@@ -482,0 +486,3 @@\n+\n+    width += advTracking;\n+\n@@ -489,1 +496,3 @@\n-      width -= adv;\n+      if (adv != 0) {\n+          width -= adv + advTracking;\n+      }\n@@ -505,1 +514,4 @@\n-      a += charinfo[cidx];\n+      float adv = charinfo[cidx];\n+      if (adv != 0) {\n+          a += adv + advTracking;\n+      }\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/ExtendedTextSourceLabel.java","additions":16,"deletions":4,"binary":false,"changes":20,"status":"modified"}]}