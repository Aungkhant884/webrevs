{"files":[{"patch":"@@ -70,1 +70,1 @@\n-    ANY(-2),\n+    ANY(-1),\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/CompLevel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-    ANY(-2),\n+    ANY(-1),\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/Compiler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -676,1 +676,1 @@\n-    @IR(applyIf = {\"SuspendRetryCount\", \"50\"})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"50\"})\n@@ -682,6 +682,6 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"50\"}, applyIfNot = {\"UseTLAB\", \"true\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"},\n-        applyIfOr = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"50\"}, applyIfNot = {\"SuspendRetryCount\", \"50\"},\n-        applyIfAnd = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"},\n-        applyIfOr = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"50\"}, applyIfNot = {\"UseTLAB\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"},\n+        applyIfOr = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"50\"}, applyIfNot = {\"TLABRefillWasteFraction\", \"50\"},\n+        applyIfAnd = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"},\n+        applyIfOr = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"})\n@@ -692,2 +692,2 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"51\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"51\", \"UseTLAB\"})\n@@ -698,1 +698,1 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\"})\n@@ -719,5 +719,5 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<<= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<<= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<\"})\n@@ -728,2 +728,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"})\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"50\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"50\", \"UseTLAB\"})\n@@ -734,1 +734,1 @@\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\"})\n@@ -755,5 +755,5 @@\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"!== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"<<= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIfNot = {\"SuspendRetryCount\", \"<\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"!== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"<<= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIfNot = {\"TLABRefillWasteFraction\", \"<\"})\n@@ -765,2 +765,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"50\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"51\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"50\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"51\", \"UseTLAB\"})\n@@ -771,2 +771,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"51\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"51\", \"UseTLAB\"})\n@@ -778,2 +778,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"PrintIdealGraphFilee\", \"true\", \"SuspendRetryCount\", \"< 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"!= 50\", \"Bla\", \"bla\", \"Bla2\", \"bla2\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"PrintIdealGraphFilee\", \"true\", \"TLABRefillWasteFraction\", \"< 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"!= 50\", \"Bla\", \"bla\", \"Bla2\", \"bla2\"})\n@@ -797,10 +797,10 @@\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"! 34\", \"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"!== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"!== 34\", \"SuspendRetryCount\", \"=== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"<<= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"<<= 34\", \"SuspendRetryCount\", \">>= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"=<34\", \"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"<\"})\n-    @IR(failOn = IRNode.CALL, applyIfAnd = {\"SuspendRetryCount\", \"<\", \"SuspendRetryCount\", \"!=\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"! 34\", \"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"!== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"!== 34\", \"TLABRefillWasteFraction\", \"=== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"<<= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"<<= 34\", \"TLABRefillWasteFraction\", \">>= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"=<34\", \"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"<\"})\n+    @IR(failOn = IRNode.CALL, applyIfAnd = {\"TLABRefillWasteFraction\", \"<\", \"TLABRefillWasteFraction\", \"!=\"})\n@@ -811,2 +811,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"50\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"51\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"50\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"51\", \"UseTLAB\"})\n@@ -817,2 +817,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"51\", \"UseTLAB\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"51\", \"UseTLAB\"})\n@@ -824,2 +824,2 @@\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"PrintIdealGraphFilee\", \"true\", \"SuspendRetryCount\", \"< 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"!= 50\", \"Bla\", \"bla\", \"Bla2\", \"bla2\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"PrintIdealGraphFilee\", \"true\", \"TLABRefillWasteFraction\", \"< 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"!= 50\", \"Bla\", \"bla\", \"Bla2\", \"bla2\"})\n@@ -843,10 +843,10 @@\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"! 34\", \"SuspendRetryCount\", \"! 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"!== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"!== 34\", \"SuspendRetryCount\", \"=== 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"<<= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"<<= 34\", \"SuspendRetryCount\", \">>= 34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"=<34\", \"SuspendRetryCount\", \"=<34\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"<\"})\n-    @IR(failOn = IRNode.CALL, applyIfOr = {\"SuspendRetryCount\", \"<\", \"SuspendRetryCount\", \"!=\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"! 34\", \"TLABRefillWasteFraction\", \"! 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"!== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"!== 34\", \"TLABRefillWasteFraction\", \"=== 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"<<= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"<<= 34\", \"TLABRefillWasteFraction\", \">>= 34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"=<34\", \"TLABRefillWasteFraction\", \"=<34\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"<\"})\n+    @IR(failOn = IRNode.CALL, applyIfOr = {\"TLABRefillWasteFraction\", \"<\", \"TLABRefillWasteFraction\", \"!=\"})\n@@ -858,4 +858,4 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"true\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"SomeString\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"48\"}) \/\/ valid\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"48.5\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"true\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"SomeString\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"48\"}) \/\/ valid\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"48.5\"})\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/compiler\/lib\/ir_framework\/TestBadFormat.java","additions":59,"deletions":59,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -49,2 +49,2 @@\n-        runFailOnTestsArgs(BadFailOnConstraint.create(AndOr1.class, \"test1(int)\", 1, \"CallStaticJava\"), \"-XX:SuspendRetryCount=50\", \"-XX:+UsePerfData\", \"-XX:+UseTLAB\");\n-        runFailOnTestsArgs(BadFailOnConstraint.create(AndOr1.class, \"test2()\", 1, \"CallStaticJava\"), \"-XX:SuspendRetryCount=50\", \"-XX:-UsePerfData\", \"-XX:+UseTLAB\");\n+        runFailOnTestsArgs(BadFailOnConstraint.create(AndOr1.class, \"test1(int)\", 1, \"CallStaticJava\"), \"-XX:TLABRefillWasteFraction=50\", \"-XX:+UsePerfData\", \"-XX:+UseTLAB\");\n+        runFailOnTestsArgs(BadFailOnConstraint.create(AndOr1.class, \"test2()\", 1, \"CallStaticJava\"), \"-XX:TLABRefillWasteFraction=50\", \"-XX:-UsePerfData\", \"-XX:+UseTLAB\");\n@@ -52,4 +52,4 @@\n-        runWithArguments(AndOr1.class, \"-XX:SuspendRetryCount=52\", \"-XX:+UsePerfData\", \"-XX:+UseTLAB\");\n-        runWithArguments(CountComparisons.class, \"-XX:SuspendRetryCount=50\");\n-        runWithArguments(GoodCount.class, \"-XX:SuspendRetryCount=50\");\n-        runWithArguments(MultipleFailOnGood.class, \"-XX:SuspendRetryCount=50\");\n+        runWithArguments(AndOr1.class, \"-XX:TLABRefillWasteFraction=52\", \"-XX:+UsePerfData\", \"-XX:+UseTLAB\");\n+        runWithArguments(CountComparisons.class, \"-XX:TLABRefillWasteFraction=50\");\n+        runWithArguments(GoodCount.class, \"-XX:TLABRefillWasteFraction=50\");\n+        runWithArguments(MultipleFailOnGood.class, \"-XX:TLABRefillWasteFraction=50\");\n@@ -229,1 +229,1 @@\n-        runWithArguments(FlagComparisons.class, \"-XX:SuspendRetryCount=50\");\n+        runWithArguments(FlagComparisons.class, \"-XX:TLABRefillWasteFraction=50\");\n@@ -236,1 +236,1 @@\n-        runWithArguments(FlagComparisons.class, \"-XX:SuspendRetryCount=49\");\n+        runWithArguments(FlagComparisons.class, \"-XX:TLABRefillWasteFraction=49\");\n@@ -243,1 +243,1 @@\n-        runWithArguments(FlagComparisons.class, \"-XX:SuspendRetryCount=51\");\n+        runWithArguments(FlagComparisons.class, \"-XX:TLABRefillWasteFraction=51\");\n@@ -320,1 +320,1 @@\n-    @IR(applyIfAnd = {\"UsePerfData\", \"true\", \"SuspendRetryCount\", \"50\", \"UseTLAB\", \"true\"}, failOn = {IRNode.CALL})\n+    @IR(applyIfAnd = {\"UsePerfData\", \"true\", \"TLABRefillWasteFraction\", \"50\", \"UseTLAB\", \"true\"}, failOn = {IRNode.CALL})\n@@ -326,1 +326,1 @@\n-    @IR(applyIfOr = {\"UsePerfData\", \"false\", \"SuspendRetryCount\", \"51\", \"UseTLAB\", \"false\"}, failOn = {IRNode.CALL})\n+    @IR(applyIfOr = {\"UsePerfData\", \"false\", \"TLABRefillWasteFraction\", \"51\", \"UseTLAB\", \"false\"}, failOn = {IRNode.CALL})\n@@ -341,1 +341,1 @@\n-    @IR(applyIf = {\"SuspendRetryCount\", \"50\"}, failOn = {IRNode.STORE, IRNode.CALL})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"50\"}, failOn = {IRNode.STORE, IRNode.CALL})\n@@ -343,1 +343,1 @@\n-    @IR(applyIfOr = {\"SuspendRetryCount\", \"99\", \"SuspendRetryCount\", \"100\"}, failOn = {IRNode.LOOP, IRNode.CALL}) \/\/ Not applied\n+    @IR(applyIfOr = {\"TLABRefillWasteFraction\", \"99\", \"TLABRefillWasteFraction\", \"100\"}, failOn = {IRNode.LOOP, IRNode.CALL}) \/\/ Not applied\n@@ -350,2 +350,2 @@\n-    @IR(applyIfNot = {\"SuspendRetryCount\", \"20\"}, failOn = {IRNode.ALLOC})\n-    @IR(applyIfNot = {\"SuspendRetryCount\", \"< 100\"}, failOn = {IRNode.ALLOC_OF, \"Test\"})\n+    @IR(applyIfNot = {\"TLABRefillWasteFraction\", \"20\"}, failOn = {IRNode.ALLOC})\n+    @IR(applyIfNot = {\"TLABRefillWasteFraction\", \"< 100\"}, failOn = {IRNode.ALLOC_OF, \"Test\"})\n@@ -358,2 +358,2 @@\n-    @IR(applyIfNot = {\"SuspendRetryCount\", \"20\"}, failOn = {IRNode.ALLOC})\n-    @IR(applyIfNot = {\"SuspendRetryCount\", \"< 100\"}, failOn = {IRNode.ALLOC_OF, \"Test\"})\n+    @IR(applyIfNot = {\"TLABRefillWasteFraction\", \"20\"}, failOn = {IRNode.ALLOC})\n+    @IR(applyIfNot = {\"TLABRefillWasteFraction\", \"< 100\"}, failOn = {IRNode.ALLOC_OF, \"Test\"})\n@@ -463,1 +463,1 @@\n-\/\/ Called with -XX:SuspendRetryCount=X.\n+\/\/ Called with -XX:TLABRefillWasteFraction=X.\n@@ -465,1 +465,1 @@\n-    \/\/ Applies all IR rules if SuspendRetryCount=50\n+    \/\/ Applies all IR rules if TLABRefillWasteFraction=50\n@@ -467,22 +467,22 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"50\"}) \/\/ Index 0\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"=50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"= 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" =   50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<=50\"}) \/\/ Index 4\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<= 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" <=  50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">=50\"}) \/\/ Index 7\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">= 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" >=  50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"> 49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" >  49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<51\"}) \/\/ Index 13\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"< 51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" <  51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!=51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!= 51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" !=  51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!=49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!= 49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" !=  49\"}) \/\/ Index 21\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"50\"}) \/\/ Index 0\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"=50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"= 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" =   50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<=50\"}) \/\/ Index 4\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<= 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" <=  50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">=50\"}) \/\/ Index 7\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">= 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" >=  50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"> 49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" >  49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<51\"}) \/\/ Index 13\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"< 51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" <  51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!=51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!= 51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" !=  51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!=49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!= 49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" !=  49\"}) \/\/ Index 21\n@@ -491,1 +491,1 @@\n-    \/\/ Applies no IR rules if SuspendRetryCount=50\n+    \/\/ Applies no IR rules if TLABRefillWasteFraction=50\n@@ -493,23 +493,23 @@\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"49\"}) \/\/ Index 0\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"=49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"= 49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" =  49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"51\"}) \/\/ Index 4\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"=51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"= 51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" =  51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<=49\"}) \/\/ Index 8\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<= 49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" <=  49\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">=51\"}) \/\/ Index 11\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">= 51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" >=  51\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \">50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"> 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" >  50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"<50\"}) \/\/ Index 17\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"< 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" <  50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!=50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \"!= 50\"})\n-    @IR(failOn = IRNode.CALL, applyIf = {\"SuspendRetryCount\", \" !=  50\"}) \/\/ Index 22\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"49\"}) \/\/ Index 0\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"=49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"= 49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" =  49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"51\"}) \/\/ Index 4\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"=51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"= 51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" =  51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<=49\"}) \/\/ Index 8\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<= 49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" <=  49\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">=51\"}) \/\/ Index 11\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">= 51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" >=  51\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \">50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"> 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" >  50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"<50\"}) \/\/ Index 17\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"< 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" <  50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!=50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \"!= 50\"})\n+    @IR(failOn = IRNode.CALL, applyIf = {\"TLABRefillWasteFraction\", \" !=  50\"}) \/\/ Index 22\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/compiler\/lib\/ir_framework\/TestIRMatching.java","additions":65,"deletions":65,"binary":false,"changes":130,"status":"modified"},{"patch":"@@ -40,2 +40,2 @@\n-        new TestFramework().addFlags(\"-XX:SuspendRetryCount=51\", \"-XX:+UseTLAB\").start();\n-        new TestFramework(TestSanity.class).addFlags(\"-XX:SuspendRetryCount=51\", \"-XX:+UseTLAB\").start();\n+        new TestFramework().addFlags(\"-XX:TLABRefillWasteFraction=51\", \"-XX:+UseTLAB\").start();\n+        new TestFramework(TestSanity.class).addFlags(\"-XX:TLABRefillWasteFraction=51\", \"-XX:+UseTLAB\").start();\n@@ -45,2 +45,2 @@\n-        Scenario s1 = new Scenario(1, \"-XX:SuspendRetryCount=52\", \"-XX:+UseTLAB\");\n-        Scenario s2 = new Scenario(2, \"-XX:SuspendRetryCount=53\", \"-XX:+UseTLAB\");\n+        Scenario s1 = new Scenario(1, \"-XX:TLABRefillWasteFraction=52\", \"-XX:+UseTLAB\");\n+        Scenario s2 = new Scenario(2, \"-XX:TLABRefillWasteFraction=53\", \"-XX:+UseTLAB\");\n@@ -56,1 +56,1 @@\n-        testFramework.addFlags(\"-XX:SuspendRetryCount=54\").start();\n+        testFramework.addFlags(\"-XX:TLABRefillWasteFraction=54\").start();\n@@ -58,1 +58,1 @@\n-        testFramework.addFlags(\"-XX:SuspendRetryCount=55\").addFlags(\"-XX:+UseTLAB\").start();\n+        testFramework.addFlags(\"-XX:TLABRefillWasteFraction=55\").addFlags(\"-XX:+UseTLAB\").start();\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/compiler\/lib\/ir_framework\/TestSanity.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -40,4 +40,4 @@\n-        Scenario s1 = new Scenario(1, \"-XX:SuspendRetryCount=51\");\n-        Scenario s2 = new Scenario(2, \"-XX:SuspendRetryCount=52\");\n-        Scenario s3 = new Scenario(3, \"-XX:SuspendRetryCount=53\");\n-        Scenario s3dup = new Scenario(3, \"-XX:SuspendRetryCount=53\");\n+        Scenario s1 = new Scenario(1, \"-XX:TLABRefillWasteFraction=51\");\n+        Scenario s2 = new Scenario(2, \"-XX:TLABRefillWasteFraction=52\");\n+        Scenario s3 = new Scenario(3, \"-XX:TLABRefillWasteFraction=53\");\n+        Scenario s3dup = new Scenario(3, \"-XX:TLABRefillWasteFraction=53\");\n@@ -77,1 +77,1 @@\n-    @IR(applyIf = {\"SuspendRetryCount\", \"50\"}, counts = {IRNode.CALL, \"1\"})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"64\"}, counts = {IRNode.CALL, \"1\"})\n@@ -82,2 +82,2 @@\n-    @IR(applyIf = {\"SuspendRetryCount\", \"51\"}, counts = {IRNode.CALL, \"1\"})\n-    @IR(applyIf = {\"SuspendRetryCount\", \"53\"}, counts = {IRNode.CALL, \"1\"})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"51\"}, counts = {IRNode.CALL, \"1\"})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"53\"}, counts = {IRNode.CALL, \"1\"})\n@@ -90,1 +90,1 @@\n-    @IR(applyIf = {\"SuspendRetryCount\", \"54\"}, counts = {IRNode.CALL, \"1\"})\n+    @IR(applyIf = {\"TLABRefillWasteFraction\", \"54\"}, counts = {IRNode.CALL, \"1\"})\n","filename":"test\/hotspot\/jtreg\/testlibrary_tests\/compiler\/lib\/ir_framework\/TestScenarios.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"}]}