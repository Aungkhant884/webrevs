{"files":[{"patch":"@@ -1041,2 +1041,10 @@\n-                appendAnnotationsString(buf);\n-                buf.append(className(tsym, true));\n+                if (isAnnotated()) {\n+                    if (!tsym.packge().isUnnamed()) {\n+                        buf.append(tsym.packge());\n+                        buf.append(\".\");\n+                    }\n+                    appendAnnotationsString(buf);\n+                    buf.append(tsym.name);\n+                } else {\n+                    buf.append(className(tsym, true));\n+                }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Type.java","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8256266\n+ * @bug 8256266 8281238\n@@ -117,1 +117,1 @@\n-                            expectedType = \"@Annotations.DTA java.lang.String\";\n+                            expectedType = \"java.lang.@Annotations.DTA String\";\n@@ -121,1 +121,1 @@\n-                            expectedType = \"@Annotations.TA java.lang.String\";\n+                            expectedType = \"java.lang.@Annotations.TA String\";\n@@ -136,1 +136,1 @@\n-                                                  \" for: \" + var.getName());\n+                                                  \" for: \" + var.getName() + \" expected \" + expectedType);\n","filename":"test\/langtools\/tools\/javac\/patterns\/Annotations.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8068737\n+ * @bug 8068737 8281238\n@@ -69,1 +69,1 @@\n-                \/\/ Expected: \"@Foo(0)java.lang.String@Foo(3)[]@Foo(2)[]@Foo(1)[]\"\n+                \/\/ Expected: \"java.lang.@Foo(0)String@Foo(1)[]@Foo(2)[]@Foo(3)[]\"\n","filename":"test\/langtools\/tools\/javac\/tree\/ArrayTypeToString.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-- compiler.note.proc.messager: @Foo(0)java.lang.String@Foo(1)[]@Foo(2)[]@Foo(3)[]\n+- compiler.note.proc.messager: java.lang.@Foo(0)String@Foo(1)[]@Foo(2)[]@Foo(3)[]\n","filename":"test\/langtools\/tools\/javac\/tree\/ArrayTypeToString.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}