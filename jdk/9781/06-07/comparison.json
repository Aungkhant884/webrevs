{"files":[{"patch":"@@ -1931,1 +1931,1 @@\n-void Assembler::vcvtps2ph(Address dst, KRegister mask, XMMRegister src, int imm8, int vector_len) {\n+void Assembler::evcvtps2ph(Address dst, KRegister mask, XMMRegister src, int imm8, int vector_len) {\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1163,1 +1163,1 @@\n-  void vcvtps2ph(Address dst, KRegister mask, XMMRegister src, int imm8, int vector_len);\n+  void evcvtps2ph(Address dst, KRegister mask, XMMRegister src, int imm8, int vector_len);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -11326,1 +11326,1 @@\n-  format %{ \"vcvtps2ph $mem,$src \\t using $ktmp and $rtmp as TEMP\" %}\n+  format %{ \"evcvtps2ph $mem,$src \\t using $ktmp and $rtmp as TEMP\" %}\n@@ -11330,1 +11330,1 @@\n-     __ vcvtps2ph($mem$$Address, $ktmp$$KRegister, $src$$XMMRegister, 0x04, Assembler::AVX_128bit);\n+     __ evcvtps2ph($mem$$Address, $ktmp$$KRegister, $src$$XMMRegister, 0x04, Assembler::AVX_128bit);\n","filename":"src\/hotspot\/cpu\/x86\/x86_64.ad","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -450,0 +450,1 @@\n+\/\/ Reference implementation at src\/java.base\/share\/classes\/java\/lang\/Float.java:floatToFloat16\n@@ -487,3 +488,3 @@\n-  jint lsb = (f_signif_bits & (1 << 13 + exp_delta));\n-  jint round  = (f_signif_bits & (1 << 12 + exp_delta));\n-  jint sticky = (f_signif_bits & ((1 << 12 + exp_delta) - 1));\n+  jint lsb = f_signif_bits & (1 << (13 + exp_delta));\n+  jint round  = f_signif_bits & (1 << (12 + exp_delta));\n+  jint sticky = f_signif_bits & ((1 << (12 + exp_delta)) - 1);\n@@ -498,0 +499,1 @@\n+\/\/ Reference implementation at src\/java.base\/share\/classes\/java\/lang\/Float.java:float16ToFloat\n@@ -522,1 +524,1 @@\n-  int float_exp_bits = ((hf_exp + 127) << 24 - 1);\n+  int float_exp_bits = (hf_exp + 127) << (24 - 1);\n@@ -525,1 +527,1 @@\n-  return (jfloat) ((hf_sign_bit << 16) | float_exp_bits | (hf_significand_bits << significand_shift));\n+  return SharedRuntime::i2f((hf_sign_bit << 16) | float_exp_bits | (hf_significand_bits << significand_shift));\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}