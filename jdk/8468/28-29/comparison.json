{"files":[{"patch":"@@ -1701,1 +1701,1 @@\n-  PrintBFS(Node* start, const int max_distance, Node* target, char const* options)\n+  PrintBFS(Node* start, const int max_distance, Node* target, const char* options)\n@@ -1721,1 +1721,1 @@\n-  char const* _options;\n+  const char* _options;\n@@ -1770,1 +1770,2 @@\n-  static void print_node_block(Node* n); \/\/ to tty: head idx, _idom, _dom_depth\n+  static void print_block_id(Block* b); \/\/ to tty\n+  static void print_node_block(Node* n); \/\/ to tty: _pre_order, head idx, _idom, _dom_depth\n@@ -2018,1 +2019,1 @@\n-  tty->print(\"  d:     BFS distance to this\/start\\n\");\n+  tty->print(\"  dist:  BFS distance to this\/start\\n\");\n@@ -2020,1 +2021,4 @@\n-  tty->print(\"  block: block in which the node has been scheduled [head(), _idom->head(), _dom_depth]\\n\");\n+  tty->print(\"  block: block identifier, based on _pre_order\\n\");\n+  tty->print(\"  head:  first node in block\\n\");\n+  tty->print(\"  idom:  head node of idom block\\n\");\n+  tty->print(\"  depth: depth of block (_dom_depth)\\n\");\n@@ -2230,0 +2234,7 @@\n+void PrintBFS::print_block_id(Block* b) {\n+  Compile* C = Compile::current();\n+  char buf[30];\n+  sprintf(buf, \"B%d\", b->_pre_order);\n+  tty->print(\"%7s\", buf);\n+}\n+\n@@ -2236,3 +2247,4 @@\n-    tty->print(\"     _\");\n-    tty->print(\"     _\");\n-    tty->print(\"   _\");\n+    tty->print(\"      _\"); \/\/ Block\n+    tty->print(\"     _\");  \/\/ head\n+    tty->print(\"     _\");  \/\/ idom\n+    tty->print(\"      _\"); \/\/ depth\n@@ -2240,0 +2252,1 @@\n+    print_block_id(b);\n@@ -2244,1 +2257,1 @@\n-      tty->print(\"     _\");\n+      tty->print(\"     _\"); \/\/ idom\n@@ -2246,1 +2259,1 @@\n-    tty->print(\"%4d\", b->_dom_depth);\n+    tty->print(\"%6d \", b->_dom_depth);\n@@ -2273,1 +2286,1 @@\n-  tty->print(\"   d\");                         \/\/ distance\n+  tty->print(\"dist\");                         \/\/ distance\n@@ -2278,1 +2291,1 @@\n-    tty->print(\" [head  idom  d]\");           \/\/ block\n+    tty->print(\" [block  head  idom depth]\"); \/\/ block\n@@ -2310,1 +2323,1 @@\n-void Node::dump_bfs(const int max_distance, Node* target, char const* options) {\n+void Node::dump_bfs(const int max_distance, Node* target, const char* options) {\n@@ -2315,0 +2328,5 @@\n+\/\/ Call this from debugger, with default arguments\n+void Node::dump_bfs(const int max_distance) {\n+  dump_bfs(max_distance, nullptr, nullptr);\n+}\n+\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":31,"deletions":13,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -1193,1 +1193,2 @@\n-  void dump_bfs(const int max_distance, Node* target, char const* options); \/\/ Print BFS traversal\n+  void dump_bfs(const int max_distance, Node* target, const char* options); \/\/ Print BFS traversal\n+  void dump_bfs(const int max_distance); \/\/ dump_bfs(max_distance, nullptr, nullptr)\n","filename":"src\/hotspot\/share\/opto\/node.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}