{"files":[{"patch":"@@ -1618,2 +1618,2 @@\n-\/\/ filter:\n-\/\/   if NULL: no filtering\n+\/\/ options:\n+\/\/   if NULL: same as \"+-cmdxoOB\"\n@@ -1656,1 +1656,2 @@\n-void Node::print_bfs(const uint max_distance, Node* target, const char* filter) {\n+void Node::print_bfs(const uint max_distance, Node* target, char const* options) {\n+  \/\/ BFS or shortest path?\n@@ -1662,3 +1663,4 @@\n-  bool traverse_inputs = false;\n-  if (filter == NULL || strstr(filter, \"+\") != NULL) {\n-    traverse_inputs = true;\n+\n+  \/\/ Parsing options\n+  if (options == NULL) {\n+    options = \"+-cmdxoOB\"; \/\/ default options\n@@ -1666,0 +1668,7 @@\n+  auto parse_options = [&] (bool &variable, const char* character) {\n+    if (strstr(options, character) != NULL) {\n+      variable = true;\n+    }\n+  };\n+  bool traverse_inputs = false;\n+  parse_options(traverse_inputs,  \"+\");\n@@ -1667,3 +1676,1 @@\n-  if (filter == NULL || strstr(filter, \"-\") != NULL) {\n-    traverse_outputs = true;\n-  }\n+  parse_options(traverse_outputs, \"-\");\n@@ -1671,3 +1678,1 @@\n-  if (filter == NULL || strstr(filter, \"c\") != NULL) {\n-    traverse_control = true;\n-  }\n+  parse_options(traverse_control, \"c\");\n@@ -1675,3 +1680,1 @@\n-  if (filter == NULL || strstr(filter, \"m\") != NULL) {\n-    traverse_memory = true;\n-  }\n+  parse_options(traverse_memory,  \"m\");\n@@ -1679,3 +1682,1 @@\n-  if (filter == NULL || strstr(filter, \"d\") != NULL) {\n-    traverse_data = true;\n-  }\n+  parse_options(traverse_data,    \"d\");\n@@ -1683,3 +1684,1 @@\n-  if (filter == NULL || strstr(filter, \"x\") != NULL) {\n-    traverse_mixed = true;\n-  }\n+  parse_options(traverse_mixed,   \"x\");\n@@ -1687,3 +1686,1 @@\n-  if (filter == NULL || strstr(filter, \"o\") != NULL) {\n-    traverse_other = true;\n-  }\n+  parse_options(traverse_other,   \"o\");\n@@ -1691,3 +1688,1 @@\n-  if (filter != NULL && strstr(filter, \"#\") != NULL) {\n-    use_color = true;\n-  }\n+  parse_options(use_color,        \"#\");\n@@ -1695,3 +1690,1 @@\n-  if (filter == NULL || strstr(filter, \"B\") != NULL) {\n-    print_blocks = true;\n-  }\n+  parse_options(print_blocks,     \"B\");\n@@ -1699,3 +1692,1 @@\n-  if (filter == NULL || strstr(filter, \"O\") != NULL) {\n-    print_old = true;\n-  }\n+  parse_options(print_old,        \"O\");\n@@ -1703,1 +1694,1 @@\n-  \/\/ data structures\n+  \/\/ Data structures\n@@ -1707,1 +1698,2 @@\n-\n+  \n+  \/\/ Filter node by type\n@@ -1730,0 +1722,2 @@\n+\n+  \/\/ Get (colored) category string\n@@ -1752,0 +1746,1 @@\n+\n@@ -1755,0 +1750,2 @@\n+\n+  \/\/ Get old node (for Mach nodes)\n@@ -1762,0 +1759,2 @@\n+\n+  \/\/ print idx of node\n@@ -1773,0 +1772,2 @@\n+\n+  \/\/ print block associated with node\n@@ -1792,0 +1793,1 @@\n+  \/\/ add node to traversal queue\n@@ -1797,0 +1799,2 @@\n+\n+  \/\/ initialize BFS at this\n@@ -1799,0 +1803,1 @@\n+  \/\/ BFS header\n@@ -1800,1 +1805,0 @@\n-    \/\/ BFS header\n@@ -1812,0 +1816,1 @@\n+  \/\/ BFS traversal\n@@ -1818,0 +1823,1 @@\n+    \/\/ BFS: print n\n@@ -1819,1 +1825,1 @@\n-      tty->print(\"%3ld\", d);                          \/\/ distance\n+      tty->print(\"%3ld\", d);                         \/\/ distance\n@@ -1876,1 +1882,1 @@\n-    tty->print(\"dir dump\\n\"); \/\/ backtrace header\n+    tty->print(\" dir dump\\n\"); \/\/ backtrace header\n","filename":"src\/hotspot\/share\/opto\/node.cpp","additions":44,"deletions":38,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -1193,1 +1193,1 @@\n-  void print_bfs (const uint max_distance, Node* target, const char* filter); \/\/ Print BFS traversal\n+  void print_bfs (const uint max_distance, Node* target, char const* options); \/\/ Print BFS traversal\n","filename":"src\/hotspot\/share\/opto\/node.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}