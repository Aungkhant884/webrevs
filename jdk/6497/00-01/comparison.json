{"files":[{"patch":"@@ -141,7 +141,1 @@\n-   <p>\n-   The {@link com.sun.net.httpserver.SimpleFileServer} class offers a simple\n-   HTTP file server (intended for testing, development and debugging purposes\n-   only). A default implementation is provided via the\n-   <a href=\"{@docRoot}\/jdk.httpserver\/module-summary.html#entry-point\">main entry point<\/a>\n-   of the {@code jdk.httpserver} module.\n-\n+ \n","filename":"src\/jdk.httpserver\/share\/classes\/com\/sun\/net\/httpserver\/package-info.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -30,8 +30,8 @@\n- * <p>The com.sun.net.httpserver package defines a high-level API for building\n- * servers that support HTTP and HTTPS. The SimpleFileServer class implements a\n- * simple HTTP-only file server intended for testing, development and debugging\n- * purposes. A default implementation is provided via the {@code jwebserver} tool\n- * and the main entry point of the module, which can be invoked with\n- * {@code java -m jdk.httpserver}.\n- *\n- * <p>The com.sun.net.httpserver.spi package specifies a Service Provider\n+ * <p>The {@link com.sun.net.httpserver} package defines a high-level API for\n+ * building servers that support HTTP and HTTPS. The SimpleFileServer class\n+ * implements a simple HTTP-only file server intended for testing, development\n+ * and debugging purposes. A default implementation is provided via the\n+ * {@code jwebserver} tool and the main entry point of the module, which can\n+ * also be invoked with {@code java -m jdk.httpserver}.\n+ *\n+ * <p>The {@link com.sun.net.httpserver.spi} package specifies a Service Provider\n","filename":"src\/jdk.httpserver\/share\/classes\/module-info.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-        if (ec != 0)\n+        if (ec != 0) {\n@@ -62,2 +62,2 @@\n-        \/\/ otherwise the server has been started successfully and runs in\n-        \/\/ another non-daemon thread.\n+        }  \/\/ otherwise the server has been started successfully and runs in\n+           \/\/ another non-daemon thread.\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/JWebServer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-        if (ec != 0)\n+        if (ec != 0) {\n@@ -62,2 +62,2 @@\n-        \/\/ otherwise the server has been started successfully and runs in\n-        \/\/ another non-daemon thread.\n+        }  \/\/ otherwise the server has been started successfully and runs in\n+           \/\/ another non-daemon thread.\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/Main.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-     * @param launcher the launcher the server is started from\n+     * @param  launcher the launcher the server is started from\n@@ -123,1 +123,1 @@\n-            out.showUsage();\n+            out.showUsage(launcher);\n@@ -177,2 +177,2 @@\n-        void showUsage() {\n-            writer.println(ResourceBundleHelper.getMessage(\"usage\"));\n+        void showUsage(String launcher) {\n+            writer.println(ResourceBundleHelper.getMessage(\"usage.\" + launcher));\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/SimpleFileServerImpl.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -28,1 +28,2 @@\n-\\                              [-o none|info|verbose] [-h to show options]\n+\\                              [-o none|info|verbose] [-h to show options]\\n\\\n+\\                              [-version to show version information]\n@@ -32,1 +33,2 @@\n-\\                  [-o none|info|verbose] [-h to show options]\n+\\                  [-o none|info|verbose] [-h to show options]\\n\\\n+\\                  [-version to show version information]\n@@ -44,2 +46,2 @@\n--h, -?, --help        - Print this help message.\\n\\\n--version, --version   - Print version information.\\n\\\n+-h, -?, --help        - Prints this help message and exits.\\n\\\n+-version, --version   - Prints version information and exits.\\n\\\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/resources\/simpleserver.properties","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -14,1 +14,1 @@\n-For detailed descriptions of the options, see:\n+For a detailed description of the options, see \\f[B]Options\\f[R].\n@@ -16,2 +16,0 @@\n-.IP \\[bu] 2\n-\\f[B]Options\\f[R]\n@@ -22,15 +20,3 @@\n-be used\n-.PD 0\n-.P\n-.PD\n-for prototyping, testing, and debugging.\n-It serves a single directory\n-.PD 0\n-.P\n-.PD\n-hierarchy, and only serves static files.\n-Only HTTP\/1.1 is supported;\n-.PD 0\n-.P\n-.PD\n-HTTP\/2 and HTTPS are not supported.\n+be used for prototyping, testing, and debugging.\n+It serves a single directory hierarchy, and only serves static files.\n+Only HTTP\/1.1 is supported; HTTP\/2 and HTTPS are not supported.\n@@ -39,11 +25,3 @@\n-Any other requests receive\n-.PD 0\n-.P\n-.PD\n-a \\f[CB]501\\ \\-\\ Not\\ Implemented\\f[R] or a \\f[CB]405\\ \\-\\ Not\\ Allowed\\f[R]\n-response.\n-GET requests are\n-.PD 0\n-.P\n-.PD\n-mapped to the directory being served, as follows:\n+Any other requests receive a \\f[CB]501\\ \\-\\ Not\\ Implemented\\f[R] or a\n+\\f[CB]405\\ \\-\\ Not\\ Allowed\\f[R] response.\n+GET requests are mapped to the directory being served, as follows:\n@@ -54,3 +32,0 @@\n-.PD 0\n-.P\n-.PD\n@@ -60,5 +35,1 @@\n-are\n-.PD 0\n-.P\n-.PD\n-listed.\n+are listed.\n@@ -67,13 +38,3 @@\n-MIME types are configured automatically.\n-For example, \\f[CB]\\&.html\\f[R] files are\n-.PD 0\n-.P\n-.PD\n-served as \\f[CB]text\/html\\f[R] and \\f[CB]\\&.java\\f[R] files are served as\n-\\f[CB]text\/plain\\f[R].\n-This can\n-.PD 0\n-.P\n-.PD\n-be customized via the \\f[CB]java.net.URLConnection::getFileNameMap\\f[R]\n-API.\n+MIME types are configured automatically, using the built\\-in table.\n+For example, \\f[CB]\\&.html\\f[R] files are served as \\f[CB]text\/html\\f[R] and\n+\\f[CB]\\&.java\\f[R] files are served as \\f[CB]text\/plain\\f[R].\n@@ -82,10 +43,6 @@\n-alternatively\n-.PD 0\n-.P\n-.PD\n-be started with \\f[CB]java\\ \\-m\\ jdk.httpserver\\f[R].\n-It is based on the web server\n-.PD 0\n-.P\n-.PD\n-implementation in the \\f[CB]com.sun.net.httpserver\\f[R] package.\n+alternatively be started with \\f[CB]java\\ \\-m\\ jdk.httpserver\\f[R].\n+It is based on the web server implementation in the\n+\\f[CB]com.sun.net.httpserver\\f[R] package.\n+The \\f[CB]com.sun.net.httpserver.SimpleFileServer\\f[R] class provides a\n+programmatic way to retrieve the server and its components for reuse and\n+extension.\n@@ -98,0 +55,1 @@\n+\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ [\\-version\\ to\\ show\\ version\\ information]\n@@ -103,1 +61,1 @@\n-Prints the help message.\n+Prints the help message and exits.\n@@ -110,1 +68,1 @@\n-For all interfaces use \"\\-b 0.0.0.0\" or \"\\-b ::\".\n+For all interfaces use \\f[CB]\\-b\\ 0.0.0.0\\f[R] or \\f[CB]\\-b\\ ::\\f[R].\n@@ -122,2 +80,2 @@\n-none | info | verbose.\n-Default: info.\n+\\f[CB]none\\f[R] | \\f[CB]info\\f[R] | \\f[CB]verbose\\f[R].\n+Default: \\f[CB]info\\f[R].\n@@ -134,1 +92,1 @@\n-Prints version information.\n+Prints the version information and exits.\n@@ -150,9 +108,2 @@\n-\\f[CB]System.out\\f[R]\n-.PD 0\n-.P\n-.PD\n-listing the local address and the absolute path of the directory being\n-.PD 0\n-.P\n-.PD\n-served.\n+\\f[CB]System.out\\f[R] listing the local address and the absolute path of\n+the directory being served.\n@@ -172,3 +123,0 @@\n-.PD 0\n-.P\n-.PD\n@@ -192,3 +140,0 @@\n-.PD 0\n-.P\n-.PD\n@@ -196,5 +141,1 @@\n-sensitive\n-.PD 0\n-.P\n-.PD\n-information.\\f[R]\n+sensitive information.\\f[R]\n@@ -211,5 +152,1 @@\n-A different\n-.PD 0\n-.P\n-.PD\n-directory can be specified with the \\f[CB]\\-d\\f[R] option.\n+A different directory can be specified with the \\f[CB]\\-d\\f[R] option.\n@@ -218,5 +155,1 @@\n-The output looks like\n-.PD 0\n-.P\n-.PD\n-this:\n+The output looks like this:\n@@ -231,5 +164,1 @@\n-The default setting is\n-.PD 0\n-.P\n-.PD\n-\\f[CB]info\\f[R].\n+The default setting is \\f[CB]info\\f[R].\n@@ -237,5 +166,1 @@\n-response\n-.PD 0\n-.P\n-.PD\n-headers as well as the absolute path of the requested resource.\n+response headers as well as the absolute path of the requested resource.\n@@ -245,10 +170,2 @@\n-On Unix\n-.PD 0\n-.P\n-.PD\n-platforms, the server can be stopped by sending it a \\f[CB]SIGINT\\f[R]\n-signal\n-.PD 0\n-.P\n-.PD\n-(\\f[CB]Ctrl+C\\f[R] in a terminal window).\n+On Unix platforms, the server can be stopped by sending it a\n+\\f[CB]SIGINT\\f[R] signal (\\f[CB]Ctrl+C\\f[R] in a terminal window).\n@@ -258,5 +175,1 @@\n-the options\n-.PD 0\n-.P\n-.PD\n-of the \\f[CB]jwebserver\\f[R].\n+the options of the \\f[CB]jwebserver\\f[R].\n","filename":"src\/jdk.httpserver\/share\/man\/jwebserver.1","additions":33,"deletions":120,"binary":false,"changes":153,"status":"modified"},{"patch":"@@ -121,2 +121,2 @@\n-            -h, -?, --help        - Print this help message.\n-            -version, --version   - Print version information.\n+            -h, -?, --help        - Prints this help message and exits.\n+            -version, --version   - Prints version information and exits.\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePortNotSpecifiedTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -110,1 +110,2 @@\n-                                          [-o none|info|verbose] [-h to show options]\"\"\";\n+                                          [-o none|info|verbose] [-h to show options]\n+                                          [-version to show version information]\"\"\";\n@@ -119,2 +120,2 @@\n-            -h, -?, --help        - Print this help message.\n-            -version, --version   - Print version information.\n+            -h, -?, --help        - Prints this help message and exits.\n+            -version, --version   - Prints version information and exits.\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/CommandLinePositiveTest.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -121,2 +121,2 @@\n-            -h, -?, --help        - Print this help message.\n-            -version, --version   - Print version information.\n+            -h, -?, --help        - Prints this help message and exits.\n+            -version, --version   - Prints version information and exits.\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePortNotSpecifiedTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -110,1 +110,2 @@\n-                              [-o none|info|verbose] [-h to show options]\"\"\";\n+                              [-o none|info|verbose] [-h to show options]\n+                              [-version to show version information]\"\"\";\n@@ -119,2 +120,2 @@\n-            -h, -?, --help        - Print this help message.\n-            -version, --version   - Print version information.\n+            -h, -?, --help        - Prints this help message and exits.\n+            -version, --version   - Prints version information and exits.\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/simpleserver\/jwebserver\/CommandLinePositiveTest.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}