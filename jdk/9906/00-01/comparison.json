{"files":[{"patch":"@@ -99,0 +99,4 @@\n+    \/*\n+     * DataProvider: provides XPath namespace expressions and expected local name, expected namespace prefix, expected\n+     * namespace node name, and expected namespace Uri.\n+     *\/\n@@ -104,0 +108,1 @@\n+                {\"\/\/Customer\/Name\/namespace::foo\", \"foo\", \"xmlns\", \"xmlns:foo\",\"www.foo.com\"},\n@@ -105,0 +110,1 @@\n+                {\"\/\/Customer\/Name\/namespace::xml\", \"xml\", \"xml\", \"xmlns:xml\",\"http:\/\/www.w3.org\/XML\/1998\/namespace\"},\n@@ -106,0 +112,1 @@\n+                {\"\/\/Customer\/Name\/namespace::dog\", \"dog\", \"xmlns\", \"xmlns:dog\",\"www.pets.com\"},\n@@ -110,0 +117,3 @@\n+    \/*\n+     * DataProvider: provides XPath namespace expressions which should provide no namespace nodes.\n+     *\/\n@@ -113,0 +123,1 @@\n+                {\"\/\/VendCustomer\/Name\/namespace::dog\"},\n@@ -114,0 +125,1 @@\n+                {\"\/\/Customer\/Name\/namespace::cat\"},\n@@ -115,0 +127,1 @@\n+                {\"\/\/Customer\/Address\/namespace::street\"},\n@@ -116,0 +129,1 @@\n+                {\"\/\/VendCustomer\/Address\/namespace::street\"},\n@@ -121,0 +135,3 @@\n+    \/*\n+     * DataProvider: provides XPath namespace expressions and expected total number of namespace nodes count.\n+     *\/\n@@ -127,1 +144,0 @@\n-                {\"\/Customers\/Customer\/Address\/namespace::*\", 2},\n@@ -137,0 +153,23 @@\n+    \/*\n+     * DataProvider: provides node functions and expected return of different node functions.\n+     *\/\n+    @DataProvider(name = \"namespaceUsingNodeFunctions\")\n+    public Object[][] getNamespaceNodeNameAndUri() {\n+        return new Object[][] {\n+                {\"namespace-uri(\/\/www.foo.com:Customer)\",\"www.foo.com\" },\n+                {\"namespace-uri(\/\/www.pets.com:Address)\",\"www.pets.com\" },\n+                {\"namespace-uri(\/Customers\/www.foo.com:Customer)\",\"www.foo.com\" },\n+                {\"namespace-uri(\/Customers\/Customer\/www.pets.com:Address)\",\"www.pets.com\" },\n+                {\"namespace-uri(\/Customers\/VendCustomer\/Email)\",\"\" }\n+        };\n+    }\n+\n+    \/**\n+     * Verifies namespace expression retrieves different namespace nodes.\n+     * @param  exp        XPath expression.\n+     * @param  localName  expected local name of namespace node.\n+     * @param  nsPrefix   expected namespace prefix of namespace node.\n+     * @param  nsNodeName expected name of namespace node.\n+     * @param  nsUri      expected namespace Uri.\n+     * @throws XPathExpressionException\n+     *\/\n@@ -148,0 +187,5 @@\n+    \/**\n+     * Verifies namespace path expression return no nodes if namespace expression context nodes don't have namespace\n+     * @param  exp     XPath expression.\n+     * @throws XPathExpressionException\n+     *\/\n@@ -156,0 +200,6 @@\n+    \/**\n+     * Verifies namespace path expression return namespace nodes list with correct number of nodes.\n+     * @param  exp       XPath expression.\n+     * @param  nodeCount number of namespace nodes in nodelist.\n+     * @throws XPathExpressionException\n+     *\/\n@@ -163,0 +213,17 @@\n+\n+    \/**\n+     * Verifies namespace-uri functions returns the correct namespace uri.\n+     * @param  exp          XPath expression.\n+     * @param  expectedName number of namespace nodes in nodelist.\n+     * @throws XPathExpressionException\n+     *\/\n+    @Test(dataProvider = \"namespaceUsingNodeFunctions\")\n+    public void NamespaceNodeFunctionsTests(String exp, String expectedName) throws XPathExpressionException {\n+        Document doc = documentOf(DECLARATION + RAW_XML);\n+        XPath xPath = XPathFactory.newInstance().newXPath();\n+        String s = xPath.evaluateExpression(exp, doc, String.class);\n+        String s2 = (String) xPath.evaluate(exp, doc, XPathConstants.STRING);\n+        Assert.assertEquals(s, expectedName);\n+        Assert.assertEquals(s2, s);\n+    }\n+\n","filename":"test\/jaxp\/javax\/xml\/jaxp\/unittest\/xpath\/XPathExpNamespaceTest.java","additions":68,"deletions":1,"binary":false,"changes":69,"status":"modified"}]}