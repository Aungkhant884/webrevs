{"files":[{"patch":"@@ -220,0 +220,1 @@\n+  __ movptr(c_rarg1, (intptr_t)receiver);\n@@ -236,3 +237,1 @@\n-  __ movptr(shuffle_reg, (intptr_t)receiver);\n-  __ resolve_jobject(shuffle_reg, rscratch1, rscratch2);\n-  __ mov(j_rarg0, shuffle_reg);\n+  __ get_vm_result(j_rarg0, rthread);\n","filename":"src\/hotspot\/cpu\/aarch64\/upcallLinker_aarch64.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -118,1 +118,1 @@\n-static const int upcall_stub_code_base_size = 1536; \/\/ depends on GC (resolve_jobject)\n+static const int upcall_stub_code_base_size = 1024;\n@@ -220,0 +220,1 @@\n+  __ load_const_optimized(R4_ARG2, (intptr_t)receiver, R0);\n@@ -235,2 +236,1 @@\n-  __ load_const_optimized(R3_ARG1, (intptr_t)receiver, R0);\n-  __ resolve_jobject(R3_ARG1, tmp, R31, MacroAssembler::PRESERVATION_FRAME_LR_GP_FP_REGS); \/\/ kills R31\n+  __ get_vm_result(R3_ARG1);\n","filename":"src\/hotspot\/cpu\/ppc\/upcallLinker_ppc.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-static const int upcall_stub_code_base_size = 2048;\n+static const int upcall_stub_code_base_size = 1024;\n@@ -221,0 +221,1 @@\n+  __ movptr(c_rarg1, (intptr_t) receiver);\n@@ -258,3 +259,1 @@\n-  __ movptr(shuffle_reg, (intptr_t) receiver);\n-  __ resolve_jobject(shuffle_reg, t0, t1);\n-  __ mv(j_rarg0, shuffle_reg);\n+  __ get_vm_result(j_rarg0, xthread);\n","filename":"src\/hotspot\/cpu\/riscv\/upcallLinker_riscv.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-static const int upcall_stub_code_base_size = 1024; \/\/ depends on GC (resolve_jobject)\n+static const int upcall_stub_code_base_size = 1024;\n@@ -205,0 +205,1 @@\n+  __ load_const_optimized(Z_ARG2, (intptr_t)receiver);\n@@ -215,2 +216,1 @@\n-  __ load_const_optimized(Z_ARG1, (intptr_t)receiver);\n-  __ resolve_jobject(Z_ARG1, Z_tmp_1, Z_tmp_2);\n+  __ get_vm_result(Z_ARG1);\n","filename":"src\/hotspot\/cpu\/s390\/upcallLinker_s390.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -168,1 +168,1 @@\n-static const int upcall_stub_code_base_size = 2048;\n+static const int upcall_stub_code_base_size = 1024;\n@@ -275,0 +275,1 @@\n+  __ movptr(c_rarg1, (intptr_t)receiver);\n@@ -291,3 +292,1 @@\n-  __ movptr(rscratch1, (intptr_t)receiver);\n-  __ resolve_jobject(rscratch1, r15_thread, rscratch2);\n-  __ movptr(j_rarg0, rscratch1);\n+  __ get_vm_result(j_rarg0, r15_thread);\n","filename":"src\/hotspot\/cpu\/x86\/upcallLinker_x86_64.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-JavaThread* UpcallLinker::on_entry(UpcallStub::FrameData* context) {\n+JavaThread* UpcallLinker::on_entry(UpcallStub::FrameData* context, jobject receiver) {\n@@ -112,0 +112,2 @@\n+  thread->set_vm_result(JNIHandles::resolve(receiver));\n+\n","filename":"src\/hotspot\/share\/prims\/upcallLinker.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-  static JavaThread* on_entry(UpcallStub::FrameData* context);\n+  static JavaThread* on_entry(UpcallStub::FrameData* context, jobject receiver);\n","filename":"src\/hotspot\/share\/prims\/upcallLinker.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}