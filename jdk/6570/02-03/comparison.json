{"files":[{"patch":"@@ -374,1 +374,1 @@\n-    HeapWord* aligned_top = align_up(top, BOTConstants::N_bytes());\n+    HeapWord* aligned_top = align_up(top, BOTConstants::bot_card_size_bytes());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1AllocRegion.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-  return (delta & right_n_bits((int)BOTConstants::LogN_words())) == (size_t)NoBits;\n+  return (delta & right_n_bits((int)BOTConstants::log_bot_card_size_words())) == (size_t)NoBits;\n@@ -60,1 +60,1 @@\n-  assert((index) < (_reserved.word_size() >> BOTConstants::LogN_words()),\n+  assert((index) < (_reserved.word_size() >> BOTConstants::log_bot_card_size_words()),\n@@ -62,1 +62,1 @@\n-         msg, (index), (_reserved.word_size() >> BOTConstants::LogN_words()));\n+         msg, (index), (_reserved.word_size() >> BOTConstants::log_bot_card_size_words()));\n@@ -144,1 +144,1 @@\n-  assert(end ==_bot->address_for_index(end_card)+BOTConstants::N_words(), \"Precondition\");\n+  assert(end ==_bot->address_for_index(end_card)+BOTConstants::bot_card_size_words(), \"Precondition\");\n@@ -156,1 +156,1 @@\n-  assert(_bot->offset_array(start_card-1) <= BOTConstants::N_words(),\n+  assert(_bot->offset_array(start_card-1) <= BOTConstants::bot_card_size_words(),\n@@ -165,1 +165,1 @@\n-    offset = BOTConstants::N_words() + i;\n+    offset = BOTConstants::bot_card_size_words() + i;\n@@ -186,1 +186,1 @@\n-  guarantee(_bot->offset_array(start_card) == BOTConstants::N_words(), \"Wrong value in second card\");\n+  guarantee(_bot->offset_array(start_card) == BOTConstants::bot_card_size_words(), \"Wrong value in second card\");\n@@ -190,1 +190,1 @@\n-      guarantee(entry > BOTConstants::N_words(),\n+      guarantee(entry > BOTConstants::bot_card_size_words(),\n@@ -195,1 +195,1 @@\n-                (uint)entry, (uint)_bot->offset_array(c), BOTConstants::N_words());\n+                (uint)entry, (uint)_bot->offset_array(c), BOTConstants::bot_card_size_words());\n@@ -208,1 +208,1 @@\n-      guarantee(_bot->offset_array(landing_card) <= BOTConstants::N_words(),\n+      guarantee(_bot->offset_array(landing_card) <= BOTConstants::bot_card_size_words(),\n@@ -211,1 +211,1 @@\n-                (uint)_bot->offset_array(landing_card), (uint)BOTConstants::N_words());\n+                (uint)_bot->offset_array(landing_card), (uint)BOTConstants::bot_card_size_words());\n@@ -236,1 +236,1 @@\n-  assert(pointer_delta(threshold, blk_start) <= BOTConstants::N_words(),\n+  assert(pointer_delta(threshold, blk_start) <= BOTConstants::bot_card_size_words(),\n@@ -242,1 +242,1 @@\n-  assert(threshold == _bot->_reserved.start() + index*BOTConstants::N_words(),\n+  assert(threshold == _bot->_reserved.start() + index*BOTConstants::bot_card_size_words(),\n@@ -262,1 +262,1 @@\n-    HeapWord* rem_end = _bot->address_for_index(end_index) + BOTConstants::N_words();\n+    HeapWord* rem_end = _bot->address_for_index(end_index) + BOTConstants::bot_card_size_words();\n@@ -269,1 +269,1 @@\n-  threshold = _bot->address_for_index(end_index) + BOTConstants::N_words();\n+  threshold = _bot->address_for_index(end_index) + BOTConstants::bot_card_size_words();\n@@ -280,1 +280,1 @@\n-         (_bot->offset_array(orig_index) > 0 && _bot->offset_array(orig_index) <= BOTConstants::N_words()),\n+         (_bot->offset_array(orig_index) > 0 && _bot->offset_array(orig_index) <= BOTConstants::bot_card_size_words()),\n@@ -290,1 +290,1 @@\n-             (u_char) (BOTConstants::N_words()+BOTConstants::N_powers-1),\n+             (u_char) (BOTConstants::bot_card_size_words()+BOTConstants::N_powers-1),\n@@ -295,1 +295,1 @@\n-           (uint) (BOTConstants::N_words()+BOTConstants::N_powers-1));\n+           (uint) (BOTConstants::bot_card_size_words()+BOTConstants::N_powers-1));\n@@ -309,1 +309,1 @@\n-    if (entry < BOTConstants::N_words()) {\n+    if (entry < BOTConstants::bot_card_size_words()) {\n@@ -373,1 +373,1 @@\n-  _next_offset_threshold = _hr->bottom() + BOTConstants::N_words();\n+  _next_offset_threshold = _hr->bottom() + BOTConstants::bot_card_size_words();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BlockOffsetTable.cpp","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-    assert(offset <= BOTConstants::N_words(),\n+    assert(offset <= BOTConstants::bot_card_size_words(),\n@@ -60,1 +60,1 @@\n-           msg, offset, BOTConstants::N_words());\n+           msg, offset, BOTConstants::bot_card_size_words());\n@@ -83,1 +83,1 @@\n-    size_t number_of_slots = (mem_region_words \/ BOTConstants::N_words());\n+    size_t number_of_slots = (mem_region_words \/ BOTConstants::bot_card_size_words());\n@@ -89,1 +89,1 @@\n-    return BOTConstants::N_bytes();\n+    return BOTConstants::bot_card_size_bytes();\n@@ -105,1 +105,1 @@\n-    return _reserved.start() + (index << BOTConstants::LogN_words());\n+    return _reserved.start() + (index << BOTConstants::log_bot_card_size_words());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BlockOffsetTable.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-  HeapWord* threshold = card_boundary + BOTConstants::N_words();\n+  HeapWord* threshold = card_boundary + BOTConstants::bot_card_size_words();\n@@ -87,1 +87,1 @@\n-  return pointer_delta((char*)p, _reserved.start(), sizeof(char)) >> BOTConstants::LogN();\n+  return pointer_delta((char*)p, _reserved.start(), sizeof(char)) >> BOTConstants::log_bot_card_size();\n@@ -125,1 +125,1 @@\n-  while (offset >= BOTConstants::N_words()) {\n+  while (offset >= BOTConstants::bot_card_size_words()) {\n@@ -129,1 +129,1 @@\n-    q -= (BOTConstants::N_words() * n_cards_back);\n+    q -= (BOTConstants::bot_card_size_words() * n_cards_back);\n@@ -133,1 +133,1 @@\n-  assert(offset < BOTConstants::N_words(), \"offset too large\");\n+  assert(offset < BOTConstants::bot_card_size_words(), \"offset too large\");\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BlockOffsetTable.inline.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -811,1 +811,1 @@\n-    HeapWord* scan_end = MIN2(card_start + (num_cards << BOTConstants::LogN_words()), top);\n+    HeapWord* scan_end = MIN2(card_start + (num_cards << BOTConstants::log_bot_card_size_words()), top);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,4 +36,4 @@\n-uint BOTConstants::_LogN = 0;\n-uint BOTConstants::_LogN_words = 0;\n-uint BOTConstants::_N_bytes = 0;\n-uint BOTConstants::_N_words = 0;\n+uint BOTConstants::_log_bot_card_size = 0;\n+uint BOTConstants::_log_bot_card_size_words = 0;\n+uint BOTConstants::_bot_card_size_bytes = 0;\n+uint BOTConstants::_bot_card_size_words = 0;\n@@ -42,4 +42,4 @@\n-  _LogN =  card_shift;\n-  _LogN_words = _LogN - LogHeapWordSize;\n-  _N_bytes = 1 << _LogN;\n-  _N_words = 1 << _LogN_words;\n+  _log_bot_card_size =  card_shift;\n+  _log_bot_card_size_words = _log_bot_card_size - LogHeapWordSize;\n+  _bot_card_size_bytes = 1 << _log_bot_card_size;\n+  _bot_card_size_words = 1 << _log_bot_card_size_words;\n@@ -102,1 +102,1 @@\n-  return (delta & right_n_bits((int)BOTConstants::LogN_words())) == (size_t)NoBits;\n+  return (delta & right_n_bits((int)BOTConstants::log_bot_card_size_words())) == (size_t)NoBits;\n@@ -119,1 +119,1 @@\n-    set_remainder_to_point_to_start(mr.start() + BOTConstants::N_words(), mr.end());\n+    set_remainder_to_point_to_start(mr.start() + BOTConstants::bot_card_size_words(), mr.end());\n@@ -175,1 +175,1 @@\n-  assert(end ==_array->address_for_index(end_card)+BOTConstants::N_words(), \"Precondition\");\n+  assert(end ==_array->address_for_index(end_card)+BOTConstants::bot_card_size_words(), \"Precondition\");\n@@ -191,1 +191,1 @@\n-  assert(_array->offset_array(start_card-1) <= BOTConstants::N_words(),\n+  assert(_array->offset_array(start_card-1) <= BOTConstants::bot_card_size_words(),\n@@ -200,1 +200,1 @@\n-    offset = BOTConstants::N_words() + i;\n+    offset = BOTConstants::bot_card_size_words() + i;\n@@ -221,2 +221,2 @@\n-  guarantee(_array->offset_array(start_card) == BOTConstants::N_words(), \"Wrong value in second card\");\n-  u_char last_entry = BOTConstants::N_words();\n+  guarantee(_array->offset_array(start_card) == BOTConstants::bot_card_size_words(), \"Wrong value in second card\");\n+  u_char last_entry = BOTConstants::bot_card_size_words();\n@@ -227,1 +227,1 @@\n-      guarantee(entry > BOTConstants::N_words(), \"Should be in logarithmic region\");\n+      guarantee(entry > BOTConstants::bot_card_size_words(), \"Should be in logarithmic region\");\n@@ -237,1 +237,1 @@\n-      guarantee(_array->offset_array(landing_card) <= BOTConstants::N_words(), \"Offset value\");\n+      guarantee(_array->offset_array(landing_card) <= BOTConstants::bot_card_size_words(), \"Offset value\");\n@@ -269,1 +269,1 @@\n-  clear_bits(boundary_before_end, right_n_bits((int)BOTConstants::LogN()));\n+  clear_bits(boundary_before_end, right_n_bits((int)BOTConstants::log_bot_card_size()));\n@@ -282,1 +282,1 @@\n-      boundary += BOTConstants::N_words();\n+      boundary += BOTConstants::bot_card_size_words();\n@@ -299,2 +299,2 @@\n-          HeapWord* rem_st = _array->address_for_index(start_index) + BOTConstants::N_words();\n-          HeapWord* rem_end = _array->address_for_index(end_index) + BOTConstants::N_words();\n+          HeapWord* rem_st = _array->address_for_index(start_index) + BOTConstants::bot_card_size_words();\n+          HeapWord* rem_end = _array->address_for_index(end_index) + BOTConstants::bot_card_size_words();\n@@ -383,1 +383,1 @@\n-  while (offset > BOTConstants::N_words()) {\n+  while (offset > BOTConstants::bot_card_size_words()) {\n@@ -387,1 +387,1 @@\n-    q -= (BOTConstants::N_words() * n_cards_back);\n+    q -= (BOTConstants::bot_card_size_words() * n_cards_back);\n@@ -392,1 +392,1 @@\n-  while (offset == BOTConstants::N_words()) {\n+  while (offset == BOTConstants::bot_card_size_words()) {\n@@ -394,1 +394,1 @@\n-    q -= BOTConstants::N_words();\n+    q -= BOTConstants::bot_card_size_words();\n@@ -398,1 +398,1 @@\n-  assert(offset < BOTConstants::N_words(), \"offset too large\");\n+  assert(offset < BOTConstants::bot_card_size_words(), \"offset too large\");\n@@ -431,1 +431,1 @@\n-  assert(pointer_delta(_next_offset_threshold, blk_start) <= BOTConstants::N_words(),\n+  assert(pointer_delta(_next_offset_threshold, blk_start) <= BOTConstants::bot_card_size_words(),\n@@ -438,1 +438,1 @@\n-         _array->_reserved.start() + _next_offset_index*BOTConstants::N_words(),\n+         _array->_reserved.start() + _next_offset_index*BOTConstants::bot_card_size_words(),\n@@ -460,1 +460,1 @@\n-    HeapWord* rem_end = _array->address_for_index(end_index) +  BOTConstants::N_words();\n+    HeapWord* rem_end = _array->address_for_index(end_index) +  BOTConstants::bot_card_size_words();\n@@ -468,1 +468,1 @@\n-  _next_offset_threshold = _array->address_for_index(end_index) + BOTConstants::N_words();\n+  _next_offset_threshold = _array->address_for_index(end_index) + BOTConstants::bot_card_size_words();\n@@ -479,1 +479,1 @@\n-         _array->offset_array(orig_next_offset_index) <= BOTConstants::N_words()),\n+         _array->offset_array(orig_next_offset_index) <= BOTConstants::bot_card_size_words()),\n@@ -483,1 +483,1 @@\n-           _array->offset_array(j) <= (u_char) (BOTConstants::N_words()+BOTConstants::N_powers-1),\n+           _array->offset_array(j) <= (u_char) (BOTConstants::bot_card_size_words()+BOTConstants::N_powers-1),\n","filename":"src\/hotspot\/share\/gc\/shared\/blockOffsetTable.cpp","additions":32,"deletions":32,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -52,5 +52,4 @@\n-private:\n-  static uint _LogN;\n-  static uint _LogN_words;\n-  static uint _N_bytes;\n-  static uint _N_words;\n+  static uint _log_bot_card_size;\n+  static uint _log_bot_card_size_words;\n+  static uint _bot_card_size_bytes;\n+  static uint _bot_card_size_words;\n@@ -73,2 +72,2 @@\n-    assert(entry >= _N_words, \"Precondition\");\n-    return power_to_cards_back(entry - _N_words);\n+    assert(entry >= _bot_card_size_words, \"Precondition\");\n+    return power_to_cards_back(entry - _bot_card_size_words);\n@@ -76,7 +75,2 @@\n-\n-  static size_t entry_to_words_back(u_char entry) {\n-    assert(entry >= _N_words, \"Precondition\");\n-    return power_to_words_back(entry - _N_words);\n-  }\n-  static uint LogN() {\n-    return _LogN;\n+  static uint log_bot_card_size() {\n+    return _log_bot_card_size;\n@@ -84,2 +78,2 @@\n-  static uint LogN_words() {\n-    return _LogN_words;\n+  static uint log_bot_card_size_words() {\n+    return _log_bot_card_size_words;\n@@ -87,2 +81,2 @@\n-  static uint N_bytes() {\n-    return _N_bytes;\n+  static uint bot_card_size_bytes() {\n+    return _bot_card_size_bytes;\n@@ -90,2 +84,2 @@\n-  static uint N_words() {\n-    return _N_words;\n+  static uint bot_card_size_words() {\n+    return _bot_card_size_words;\n@@ -113,1 +107,1 @@\n-    assert(BOTConstants::N_bytes() == CardTable::card_size(), \"sanity\");\n+    assert(BOTConstants::bot_card_size_bytes() == CardTable::card_size(), \"sanity\");\n@@ -200,1 +194,1 @@\n-    assert(pointer_delta(high, low) <= BOTConstants::N_words(), \"offset too large\");\n+    assert(pointer_delta(high, low) <= BOTConstants::bot_card_size_words(), \"offset too large\");\n@@ -211,1 +205,1 @@\n-    size_t num_cards = pointer_delta(right, left) >> BOTConstants::LogN_words();\n+    size_t num_cards = pointer_delta(right, left) >> BOTConstants::log_bot_card_size_words();\n@@ -228,1 +222,1 @@\n-    assert(pointer_delta(high, low) <= BOTConstants::N_words(), \"offset too large\");\n+    assert(pointer_delta(high, low) <= BOTConstants::bot_card_size_words(), \"offset too large\");\n@@ -243,1 +237,1 @@\n-    size_t number_of_slots = (mem_region_words \/ BOTConstants::N_words()) + 1;\n+    size_t number_of_slots = (mem_region_words \/ BOTConstants::bot_card_size_words()) + 1;\n@@ -357,1 +351,1 @@\n-      _array->set_offset_array(_end, new_end, BOTConstants::N_words());\n+      _array->set_offset_array(_end, new_end, BOTConstants::bot_card_size_words());\n","filename":"src\/hotspot\/share\/gc\/shared\/blockOffsetTable.hpp","additions":20,"deletions":26,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-  size_t result = delta >> BOTConstants::LogN();\n+  size_t result = delta >> BOTConstants::log_bot_card_size();\n@@ -60,1 +60,1 @@\n-  HeapWord* result = _reserved.start() + (index << BOTConstants::LogN_words());\n+  HeapWord* result = _reserved.start() + (index << BOTConstants::log_bot_card_size_words());\n","filename":"src\/hotspot\/share\/gc\/shared\/blockOffsetTable.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-                                         BOTConstants::N_bytes(),\n+                                         BOTConstants::bot_card_size_bytes(),\n","filename":"test\/hotspot\/gtest\/gc\/g1\/test_freeRegionList.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}