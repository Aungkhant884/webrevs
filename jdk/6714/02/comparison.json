{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-  bool _must_record;\n+  bool _allow_multiple_record;\n@@ -42,1 +42,1 @@\n-  G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id, bool must_record = true);\n+  G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id, bool allow_multiple_record = false);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCParPhaseTimesTracker.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -581,2 +581,2 @@\n-G1GCParPhaseTimesTracker::G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id, bool must_record) :\n-  _start_time(), _phase(phase), _phase_times(phase_times), _worker_id(worker_id), _event(), _must_record(must_record) {\n+G1GCParPhaseTimesTracker::G1GCParPhaseTimesTracker(G1GCPhaseTimes* phase_times, G1GCPhaseTimes::GCParPhases phase, uint worker_id, bool allow_multiple_record) :\n+  _start_time(), _phase(phase), _phase_times(phase_times), _worker_id(worker_id), _event(), _allow_multiple_record(allow_multiple_record) {\n@@ -590,3 +590,1 @@\n-    if (_must_record) {\n-      _phase_times->record_time_secs(_phase, _worker_id, (Ticks::now() - _start_time).seconds());\n-    } else {\n+    if (_allow_multiple_record) {\n@@ -594,0 +592,2 @@\n+    } else {\n+      _phase_times->record_time_secs(_phase, _worker_id, (Ticks::now() - _start_time).seconds());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1426,1 +1426,1 @@\n-      G1GCParPhaseTimesTracker x(p, merge_remset_phase, worker_id, _initial_evacuation \/* must_record *\/);\n+      G1GCParPhaseTimesTracker x(p, merge_remset_phase, worker_id, !_initial_evacuation \/* allow_multiple_record *\/);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}