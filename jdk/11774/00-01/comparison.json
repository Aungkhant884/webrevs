{"files":[{"patch":"@@ -295,1 +295,1 @@\n-    st->print(\"ldr t1, [Rthread, #thread_disarmed_offset]\\n\\t\");\n+    st->print(\"ldr t1, [Rthread, #thread_disarmed_guard_value_offset]\\n\\t\");\n","filename":"src\/hotspot\/cpu\/arm\/arm.ad","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -220,1 +220,1 @@\n-  Address thread_disarmed_addr(Rthread, in_bytes(bs_nm->thread_disarmed_offset()));\n+  Address thread_disarmed_addr(Rthread, in_bytes(bs_nm->thread_disarmed_guard_value_offset()));\n","filename":"src\/hotspot\/cpu\/arm\/gc\/shared\/barrierSetAssembler_arm.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-void BarrierSetNMethod::disarm(nmethod* nm) {\n+void BarrierSetNMethod::set_guard_value(nmethod* nm, int value) {\n@@ -127,1 +127,1 @@\n-  barrier->set_value(disarmed_value());\n+  barrier->set_value(value);\n@@ -130,1 +130,1 @@\n-void BarrierSetNMethod::arm(nmethod* nm, int arm_value) {\n+int BarrierSetNMethod::guard_value(nmethod* nm) {\n@@ -132,10 +132,1 @@\n-    return;\n-  }\n-\n-  NativeNMethodBarrier* barrier = native_nmethod_barrier(nm);\n-  barrier->set_value(arm_value);\n-}\n-\n-bool BarrierSetNMethod::is_armed(nmethod* nm) {\n-  if (!supports_entry_barrier(nm)) {\n-    return false;\n+    return disarmed_guard_value();\n@@ -145,1 +136,1 @@\n-  return barrier->get_value() != disarmed_value();\n+  return barrier->get_value();\n","filename":"src\/hotspot\/cpu\/arm\/gc\/shared\/barrierSetNMethod_arm.cpp","additions":5,"deletions":14,"binary":false,"changes":19,"status":"modified"}]}