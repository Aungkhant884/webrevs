[{"commit":{"message":"Add gc log messages testing"},"files":[{"filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java"}],"sha":"8ba6c5fcd4d186057301fbfc23973e40dc5617f1"},{"commit":{"message":"Remove test parameter changes"},"files":[],"sha":"12800e8a43b30b263d887e8372b84720d14a1186"},{"commit":{"message":"Minimize changes"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"}],"sha":"d458ed69a2556981faa95ab310585749688b406c"},{"commit":{"message":"Calculate garbage bytes for evacuation failed regions from marked live bytes\n\nDuring post_evacuate_phase1\/2 we need to determine whether a given evacuation failed region\nshould be retained (kept for evacuation) or not. We need the liveness information for that.\nHowever at the moment we calculate liveness\/garbage during post_evac_phase1, which is too\nlate as we already need it during that phase.\n\nFor this reason this change collects the sum of live bytes in evacuation failed regions in\nG1ConcurrentMark's _live_bytes array, using the normal mechanism to do so (with cache etc).\nThis value will be used in the next change.\n\nThis necessitates two main changes:\n  * After copying objects, before post_evacuate_phase1 we need to flush these caches. This\n    is a fairly constant time operation.\n  * the _live_bytes value for regions needs to be cleared more often, just like we use the\n    bitmap for evacuation failure.\n\nAlternative options were considered (like keeping live bytes in the PSS'es, per failed\nregion, or adding another phase somewhere), but ultimately this seemed to be the least\ninvasive option.\nI.e. what the marking already implements would have to be duplicated in some form or other."},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailure.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.hpp"}],"sha":"740972c5a5c3158e6cb8404f3dcda8d314fc668b"}]