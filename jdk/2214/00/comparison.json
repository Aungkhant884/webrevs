{"files":[{"patch":"@@ -47,0 +47,17 @@\n+#ifndef _LP64\n+    if (UseSSE < 1) {\n+        \/\/ Don't need to save the xmm state.\n+        return;\n+    } else if (UseSSE == 1) {\n+        __ subptr(rsp, 32);\n+        __ movflt(Address(rsp, 0), xmm0);\n+        __ movflt(Address(rsp, 4), xmm1);\n+        __ movflt(Address(rsp, 8), xmm2);\n+        __ movflt(Address(rsp, 12), xmm3);\n+        __ movflt(Address(rsp, 16), xmm4);\n+        __ movflt(Address(rsp, 20), xmm5);\n+        __ movflt(Address(rsp, 24), xmm6);\n+        __ movflt(Address(rsp, 28), xmm7);\n+        return;\n+    }\n+#endif\n@@ -59,0 +76,17 @@\n+#ifndef _LP64\n+    if (UseSSE < 1) {\n+        \/\/ Don't need to restore the xmm state.\n+        return;\n+    } else if (UseSSE == 1) {\n+        __ movflt(xmm0, Address(rsp, 0));\n+        __ movflt(xmm1, Address(rsp, 4));\n+        __ movflt(xmm2, Address(rsp, 8));\n+        __ movflt(xmm3, Address(rsp, 12));\n+        __ movflt(xmm4, Address(rsp, 16));\n+        __ movflt(xmm5, Address(rsp, 20));\n+        __ movflt(xmm6, Address(rsp, 24));\n+        __ movflt(xmm7, Address(rsp, 28));\n+        __ addptr(rsp, 32);\n+        return;\n+    }\n+#endif\n","filename":"src\/hotspot\/cpu\/x86\/gc\/shenandoah\/shenandoahBarrierSetAssembler_x86.cpp","additions":34,"deletions":0,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -3675,2 +3675,7 @@\n-    __ movdqu(Address(rsp, xmm_size * 1), xmm1);\n-    __ movdqu(Address(rsp, xmm_size * 0), xmm0);\n+    if (UseSSE == 1) {\n+        __ movflt(Address(rsp, xmm_size * 1), xmm1);\n+        __ movflt(Address(rsp, xmm_size * 0), xmm0);\n+    } else if (UseSSE >= 2) {\n+        __ movdqu(Address(rsp, xmm_size * 1), xmm1);\n+        __ movdqu(Address(rsp, xmm_size * 0), xmm0);\n+    }\n@@ -3680,2 +3685,7 @@\n-    __ movdqu(xmm0, Address(rsp, xmm_size * 0));\n-    __ movdqu(xmm1, Address(rsp, xmm_size * 1));\n+    if (UseSSE == 1) {\n+        __ movflt(xmm0, Address(rsp, xmm_size * 0));\n+        __ movflt(xmm1, Address(rsp, xmm_size * 1));\n+    } else if (UseSSE >= 2) {\n+        __ movdqu(xmm0, Address(rsp, xmm_size * 0));\n+        __ movdqu(xmm1, Address(rsp, xmm_size * 1));\n+    }\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_32.cpp","additions":14,"deletions":4,"binary":false,"changes":18,"status":"modified"}]}