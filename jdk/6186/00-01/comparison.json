{"files":[{"patch":"@@ -107,1 +107,0 @@\n-        final AtomicBoolean skipTest = new AtomicBoolean(false);\n@@ -157,0 +156,2 @@\n+                                Frame f = fsWin instanceof Frame ? (Frame) fsWin : (Frame) fsWin.getOwner();\n+                                DisplayMode oldMode = f.getGraphicsConfiguration().getDevice().getDisplayMode();\n@@ -158,6 +159,11 @@\n-                                \/\/ Check if window is placed on this gd\n-                                Rectangle screenBounds = gd.getDefaultConfiguration().getBounds();\n-                                Rectangle windowBounds = fsWin.getBounds();\n-                                if (!screenBounds.contains(new Point(windowBounds.x, windowBounds.y))) {\n-                                    System.out.println(\"Window got moved to another screen, test not valid\");\n-                                    skipTest.set(true);\n+                                \/\/ Check if setting new display mode actually results in frame being\n+                                \/\/ placed onto display with different resolution.\n+                                DisplayMode newMode = f.getGraphicsConfiguration().getDevice().getDisplayMode();\n+                                if (oldMode.getWidth() != newMode.getWidth()\n+                                        || oldMode.getHeight() != newMode.getHeight()) {\n+                                    r1.incDmChanges();\n+                                    r2.incDmChanges();\n+                                } else {\n+                                    System.out.println(\"Skipping this iteration. Details:\");\n+                                    System.out.println(\"Requested device = \" + gd);\n+                                    System.out.println(\"Actual device = \" + f.getGraphicsConfiguration().getDevice());\n@@ -165,2 +171,0 @@\n-                                r1.incDmChanges();\n-                                r2.incDmChanges();\n@@ -192,4 +196,0 @@\n-        if (skipTest.get()) {\n-            \/\/ Skipping test because graphics driver switched window to another screen\n-            return;\n-        }\n","filename":"test\/jdk\/java\/awt\/FullScreen\/NoResizeEventOnDMChangeTest\/NoResizeEventOnDMChangeTest.java","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"}]}