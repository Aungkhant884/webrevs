{"files":[{"patch":"@@ -56,0 +56,1 @@\n+image=image\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/accessibility\/internal\/resources\/accessibility.properties","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -42,0 +42,2 @@\n+import java.util.Locale;\n+import java.util.ResourceBundle;\n@@ -43,9 +45,1 @@\n-import javax.accessibility.Accessible;\n-import javax.accessibility.AccessibleContext;\n-import javax.accessibility.AccessibleExtendedComponent;\n-import javax.accessibility.AccessibleIcon;\n-import javax.accessibility.AccessibleKeyBinding;\n-import javax.accessibility.AccessibleRelation;\n-import javax.accessibility.AccessibleRelationSet;\n-import javax.accessibility.AccessibleRole;\n-import javax.accessibility.AccessibleText;\n+import javax.accessibility.*;\n@@ -1089,0 +1083,15 @@\n+            \/\/ If an icon is set but no text is set,\n+            \/\/ the screen reader will say \"image\".\n+            \/\/ cc jdk-8277497\n+            if (((name == null) || name.isEmpty()) &&\n+                    (JLabel.this.getIcon() != null)) {\n+                if (JLabel.this.getIcon() instanceof Accessible) {\n+                    AccessibleContext ac = ((Accessible) JLabel.this.getIcon()).getAccessibleContext();\n+                    if (ac != null) {\n+                        name = ac.getAccessibleName();\n+                    }\n+                }\n+                if ((name == null) || name.isEmpty()) {\n+                    name = ResourceBundle.getBundle(\"com.sun.accessibility.internal.resources.accessibility\", Locale.getDefault()).getString(\"image\");\n+                }\n+            }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JLabel.java","additions":18,"deletions":9,"binary":false,"changes":27,"status":"modified"}]}