{"files":[{"patch":"@@ -94,2 +94,2 @@\n-  bool              _losing = false;\n-  const char*       _arch_name = NULL;\n+  bool              _losing;\n+  const char*       _arch_name;\n@@ -145,1 +145,2 @@\n-      _do_newline(do_newline)\n+      _do_newline(do_newline),\n+      _losing(false), _arch_name(NULL)\n@@ -534,1 +535,1 @@\n-  LLVMDisasmContextRef      _dcontext = NULL;\n+  LLVMDisasmContextRef      _dcontext;\n@@ -593,1 +594,2 @@\n-                         newline) {\n+                         newline),\n+      _dcontext(NULL) {\n@@ -603,0 +605,2 @@\n+    static bool complained = false;\n+\n@@ -604,1 +608,6 @@\n-      fprintf(stderr, \"failed to initialize LLVM native target\\n\");\n+      if (!complained)\n+        (*_printf_callback)(_printf_stream, \"failed to initialize LLVM native target\\n\");\n+      complained = true;\n+      \/* must bail out *\/\n+      _losing = true;\n+      return;\n@@ -607,1 +616,6 @@\n-      fprintf(stderr, \"failed to initialize LLVM native asm printer\\n\");\n+      if (!complained)\n+        (*_printf_callback)(_printf_stream, \"failed to initialize LLVM native asm printer\\n\");\n+      complained = true;\n+      \/* must bail out *\/\n+      _losing = true;\n+      return;\n@@ -610,1 +624,6 @@\n-      fprintf(stderr, \"failed to initialize LLVM native disassembler\\n\");\n+      if (!complained)\n+        (*_printf_callback)(_printf_stream, \"failed to initialize LLVM native disassembler\\n\");\n+      complained = true;\n+      \/* must bail out *\/\n+      _losing = true;\n+      return;\n@@ -612,1 +631,0 @@\n-\n@@ -615,1 +633,0 @@\n-      static bool complained;\n","filename":"src\/utils\/hsdis\/hsdis.cpp","additions":27,"deletions":10,"binary":false,"changes":37,"status":"modified"}]}