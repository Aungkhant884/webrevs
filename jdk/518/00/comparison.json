{"files":[{"patch":"@@ -20,0 +20,1 @@\n+      bundle_id: ${{ steps.check_bundle_id.outputs.bundle_id }}\n@@ -39,1 +40,1 @@\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n+        run: echo \"::set-output name=bundle_id::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n@@ -59,1 +60,1 @@\n-        run: \"echo ::set-env name=JTREG_REF::jtreg${{ fromJson(steps.check_deps.outputs.dependencies).JTREG_VERSION }}-${{ fromJson(steps.check_deps.outputs.dependencies).JTREG_BUILD }}\"\n+        run: \"echo JTREG_REF=jtreg${{ fromJson(steps.check_deps.outputs.dependencies).JTREG_VERSION }}-${{ fromJson(steps.check_deps.outputs.dependencies).JTREG_BUILD }} >> $GITHUB_ENV\"\n@@ -91,1 +92,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ steps.check_bundle_id.outputs.bundle_id }}\n@@ -124,3 +125,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n-\n@@ -152,1 +150,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -159,1 +157,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -195,1 +193,1 @@\n-          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -254,3 +252,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n-\n@@ -280,1 +275,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -287,1 +282,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -295,1 +290,1 @@\n-          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -302,1 +297,1 @@\n-          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-linux-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -319,1 +314,1 @@\n-          echo \"::set-env name=imageroot::`dirname ${imageroot}`\"\n+          echo \"imageroot=`dirname ${imageroot}`\" >> $GITHUB_ENV\n@@ -346,1 +341,1 @@\n-        run: echo \"::set-env name=logsuffix::`echo ${{ matrix.test }} | sed -e 's!\/!_!'g -e 's! !_!'g`\"\n+        run: echo \"logsuffix=`echo ${{ matrix.test }} | sed -e 's!\/!_!'g -e 's! !_!'g`\" >> $GITHUB_ENV\n@@ -381,3 +376,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo (\"::set-env name=bundleid::$env:GITHUB_ACTOR\" + \"_\" + (-join \"$env:GITHUB_SHA\"[0..7]))\n-\n@@ -430,1 +422,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -437,1 +429,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -467,1 +459,1 @@\n-          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -527,3 +519,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo (\"::set-env name=bundleid::$env:GITHUB_ACTOR\" + \"_\" + (-join \"$env:GITHUB_SHA\"[0..7]))\n-\n@@ -567,1 +556,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -574,1 +563,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -582,1 +571,1 @@\n-          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -589,1 +578,1 @@\n-          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-windows-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -609,1 +598,1 @@\n-        run: echo (\"::set-env name=imageroot::\" + (Get-ChildItem -Path $HOME\/jdk-windows-x64${{ matrix.artifact }}\/jdk-${{ env.JDK_VERSION }}-internal+0_windows-x64_bin${{ matrix.artifact }} -Filter release -Recurse -ErrorAction SilentlyContinue -Force).DirectoryName)\n+        run: echo (\"imageroot=\" + (Get-ChildItem -Path $HOME\/jdk-windows-x64${{ matrix.artifact }}\/jdk-${{ env.JDK_VERSION }}-internal+0_windows-x64_bin${{ matrix.artifact }} -Filter release -Recurse -ErrorAction SilentlyContinue -Force).DirectoryName) | Out-File -FilePath $env:GITHUB_ENV -Encoding utf8\n@@ -639,1 +628,1 @@\n-        run: echo (\"::set-env name=logsuffix::\" + (\"${{ matrix.test }}\" -replace \"\/\", \"_\" -replace \" \", \"_\"))\n+        run: echo (\"logsuffix=\" + (\"${{ matrix.test }}\" -replace \"\/\", \"_\" -replace \" \", \"_\")) | Out-File -FilePath $env:GITHUB_ENV -Encoding utf8\n@@ -675,3 +664,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n-\n@@ -703,1 +689,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -710,1 +696,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -746,1 +732,1 @@\n-          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -805,3 +791,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n-\n@@ -831,1 +814,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -838,1 +821,1 @@\n-          name: transient_jtreg_${{ env.bundleid }}\n+          name: transient_jtreg_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -846,1 +829,1 @@\n-          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -853,1 +836,1 @@\n-          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ env.bundleid }}\n+          name: transient_jdk-macos-x64${{ matrix.artifact }}_${{ needs.prerequisites.outputs.bundle_id }}\n@@ -873,1 +856,1 @@\n-          echo \"::set-env name=imageroot::`dirname ${imageroot}`\"\n+          echo \"imageroot=`dirname ${imageroot}`\" >> $GITHUB_ENV\n@@ -900,1 +883,1 @@\n-        run: echo \"::set-env name=logsuffix::`echo ${{ matrix.test }} | sed -e 's!\/!_!'g -e 's! !_!'g`\"\n+        run: echo \"logsuffix=`echo ${{ matrix.test }} | sed -e 's!\/!_!'g -e 's! !_!'g`\" >> $GITHUB_ENV\n@@ -962,3 +945,0 @@\n-      - name: Determine unique bundle identifier\n-        run: echo \"::set-env name=bundleid::${GITHUB_ACTOR}_${GITHUB_SHA:0:8}\"\n-\n@@ -968,1 +948,1 @@\n-          name: test-results_${{ env.bundleid }}\n+          name: test-results_${{ needs.prerequisites.outputs.bundle_id }}\n","filename":".github\/workflows\/submit.yml","additions":32,"deletions":52,"binary":false,"changes":84,"status":"modified"}]}