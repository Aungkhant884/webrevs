{"files":[{"patch":"@@ -32,0 +32,1 @@\n+#include \"runtime\/safefetch.inline.hpp\"\n@@ -151,2 +152,0 @@\n-\n-\n@@ -155,0 +154,1 @@\n+inline intptr_t* frame::link_or_null() const      { return (intptr_t*) SafeFetchN((intptr_t *)addr_at(link_offset), NULL); }\n","filename":"src\/hotspot\/cpu\/aarch64\/frame_aarch64.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"runtime\/safefetch.inline.hpp\"\n@@ -127,1 +128,0 @@\n-\n@@ -130,0 +130,2 @@\n+inline intptr_t* frame::link_or_null() const      { return (intptr_t*) SafeFetchN((intptr_t *)addr_at(link_offset), NULL); }\n+\n","filename":"src\/hotspot\/cpu\/arm\/frame_arm.inline.hpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -120,0 +120,4 @@\n+inline intptr_t* frame::link_or_null() const {\n+  return link();\n+}\n+\n","filename":"src\/hotspot\/cpu\/ppc\/frame_ppc.inline.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -158,0 +158,4 @@\n+inline intptr_t* frame::link_or_null() const {\n+  return link();\n+}\n+\n","filename":"src\/hotspot\/cpu\/s390\/frame_s390.inline.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include \"runtime\/safefetch.inline.hpp\"\n@@ -141,2 +142,0 @@\n-\n-\n@@ -145,0 +144,2 @@\n+inline intptr_t* frame::link_or_null() const      { return (intptr_t*) SafeFetchN((intptr_t *)addr_at(link_offset), NULL); }\n+\n","filename":"src\/hotspot\/cpu\/x86\/frame_x86.inline.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -85,0 +85,5 @@\n+inline intptr_t* frame::link_or_null() const {\n+  ShouldNotCallThis();\n+  return NULL;\n+}\n+\n","filename":"src\/hotspot\/cpu\/zero\/frame_zero.inline.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -210,0 +210,1 @@\n+  \/\/ might crash if the frame has no parent\n@@ -212,0 +213,3 @@\n+  \/\/ Link (i.e., the pointer to the previous frame) or null if the link cannot be accessed\n+  intptr_t* link_or_null() const;\n+\n","filename":"src\/hotspot\/share\/runtime\/frame.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1179,0 +1179,1 @@\n+\/\/ Returns false if this is the case\n@@ -1183,2 +1184,1 @@\n-#endif\n-\n+#else\n@@ -1193,1 +1193,1 @@\n-  if ((usp & sp_align_mask) != 0) return true;\n+  if ((usp & sp_align_mask) != 0 || SafeFetchN(fr->sp(), 0) == 0) return true;\n@@ -1196,1 +1196,1 @@\n-  if ((ufp & fp_align_mask) != 0) return true;\n+  if ((ufp & fp_align_mask) != 0 || SafeFetchN(fr->fp(), 0) == 0) return true;\n@@ -1200,1 +1200,2 @@\n-  if (old_sp == 0 || old_sp == (uintptr_t)-1) return true;\n+  if (old_sp == 0 || old_sp == (uintptr_t)-1 ||\n+    SafeFetchN(fr->sender_sp(), 0) == 0) return true;\n@@ -1202,1 +1203,1 @@\n-  uintptr_t old_fp = (uintptr_t)fr->link();\n+  uintptr_t old_fp = (uintptr_t)fr->link_or_null();\n@@ -1204,1 +1205,2 @@\n-  if (old_fp == 0 || old_fp == (uintptr_t)-1 || old_fp == ufp) return true;\n+  if (old_fp == 0 || old_fp == (uintptr_t)-1 || old_fp == ufp ||\n+    SafeFetchN((intptr_t*)old_fp, 0) == 0) return true;\n@@ -1214,1 +1216,1 @@\n-}\n+#endif\n@@ -1216,0 +1218,1 @@\n+}\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":11,"deletions":8,"binary":false,"changes":19,"status":"modified"}]}