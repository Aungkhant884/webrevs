{"files":[{"patch":"@@ -635,1 +635,0 @@\n-        int termIndex = 0;\n@@ -637,1 +636,5 @@\n-        result.appendLine(params.getClassName() + \"() {\");\n+        result.appendLine();\n+        result.appendLine(\"public static final \" + params.getClassName() + \" ONE = new \"\n+                          + params.getClassName() + \"();\");\n+        result.appendLine();\n+        result.appendLine(\"private \" + params.getClassName() + \"() {\");\n","filename":"make\/jdk\/src\/classes\/build\/tools\/intpoly\/FieldGen.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-            = IntegerPolynomial.Holder.P1305;\n+            = IntegerPolynomial1305.ONE;\n","filename":"src\/java.base\/share\/classes\/com\/sun\/crypto\/provider\/Poly1305.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -73,17 +73,0 @@\n-    public final class Holder {\n-        \/\/ EC\n-        public static final IntegerPolynomial P256 = new IntegerPolynomialP256();\n-        public static final IntegerPolynomial P384 = new IntegerPolynomialP384();\n-        public static final IntegerPolynomial P521 = new IntegerPolynomialP521();\n-        public static final IntegerPolynomial PO256 = new P256OrderField();\n-        public static final IntegerPolynomial PO384 = new P384OrderField();\n-        public static final IntegerPolynomial PO521 = new P521OrderField();\n-        \/\/ XEC or EdDSA\n-        public static final IntegerPolynomial P25519 = new IntegerPolynomial25519();\n-        public static final IntegerPolynomial P448 = new IntegerPolynomial448();\n-        public static final IntegerPolynomial PO25519 = new Curve25519OrderField();\n-        public static final IntegerPolynomial PO448 = new Curve448OrderField();\n-        \/\/ Poly1305\n-        public static final IntegerPolynomial P1305 = new IntegerPolynomial1305();\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/math\/intpoly\/IntegerPolynomial.java","additions":0,"deletions":17,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -47,1 +47,3 @@\n-    IntegerPolynomial1305() {\n+    public static final IntegerPolynomial1305 ONE = new IntegerPolynomial1305();\n+\n+    private IntegerPolynomial1305() {\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/math\/intpoly\/IntegerPolynomial1305.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -59,3 +59,3 @@\n-        IntegerPolynomialP256.MODULUS, IntegerPolynomial.Holder.P256,\n-        IntegerPolynomialP384.MODULUS, IntegerPolynomial.Holder.P384,\n-        IntegerPolynomialP521.MODULUS, IntegerPolynomial.Holder.P521\n+        IntegerPolynomialP256.MODULUS, IntegerPolynomialP256.ONE,\n+        IntegerPolynomialP384.MODULUS, IntegerPolynomialP384.ONE,\n+        IntegerPolynomialP521.MODULUS, IntegerPolynomialP521.ONE\n@@ -65,3 +65,3 @@\n-        P256OrderField.MODULUS, IntegerPolynomial.Holder.PO256,\n-        P384OrderField.MODULUS, IntegerPolynomial.Holder.PO384,\n-        P521OrderField.MODULUS, IntegerPolynomial.Holder.PO521\n+        P256OrderField.MODULUS, P256OrderField.ONE,\n+        P384OrderField.MODULUS, P384OrderField.ONE,\n+        P521OrderField.MODULUS, P521OrderField.ONE\n","filename":"src\/jdk.crypto.ec\/share\/classes\/sun\/security\/ec\/ECOperations.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-import sun.security.util.math.intpoly.IntegerPolynomial;\n@@ -190,1 +189,1 @@\n-            return IntegerPolynomial.Holder.P25519;\n+            return IntegerPolynomial25519.ONE;\n@@ -193,1 +192,1 @@\n-            return IntegerPolynomial.Holder.P448;\n+            return IntegerPolynomial448.ONE;\n","filename":"src\/jdk.crypto.ec\/share\/classes\/sun\/security\/ec\/XECOperations.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -262,2 +262,2 @@\n-        IntegerFieldModuloP ed25519Field = IntegerPolynomial.Holder.P25519;\n-        IntegerFieldModuloP ed25519OrderField = IntegerPolynomial.Holder.PO25519;\n+        IntegerFieldModuloP ed25519Field = IntegerPolynomial25519.ONE;\n+        IntegerFieldModuloP ed25519OrderField = Curve25519OrderField.ONE;\n@@ -283,2 +283,2 @@\n-        IntegerFieldModuloP ed448Field = IntegerPolynomial.Holder.P448;\n-        IntegerFieldModuloP ed448OrderField = IntegerPolynomial.Holder.PO448;\n+        IntegerFieldModuloP ed448Field = IntegerPolynomial448.ONE;\n+        IntegerFieldModuloP ed448OrderField = Curve448OrderField.ONE;\n","filename":"src\/jdk.crypto.ec\/share\/classes\/sun\/security\/ec\/ed\/EdDSAParameters.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -30,11 +30,11 @@\n- * @run main TestIntegerModuloP P25519 32 0\n- * @run main TestIntegerModuloP P448 56 1\n- * @run main TestIntegerModuloP P1305 16 2\n- * @run main TestIntegerModuloP P256 32 5\n- * @run main TestIntegerModuloP P384 48 6\n- * @run main TestIntegerModuloP P521 66 7\n- * @run main TestIntegerModuloP PO256 32 8\n- * @run main TestIntegerModuloP PO384 48 9\n- * @run main TestIntegerModuloP PO521 66 10\n- * @run main TestIntegerModuloP PO25519 32 11\n- * @run main TestIntegerModuloP PO448 56 12\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomial25519 32 0\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomial448 56 1\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomial1305 16 2\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomialP256 32 5\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomialP384 48 6\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.IntegerPolynomialP521 66 7\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.P256OrderField 32 8\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.P384OrderField 48 9\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.P521OrderField 66 10\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.Curve25519OrderField 32 11\n+ * @run main TestIntegerModuloP sun.security.util.math.intpoly.Curve448OrderField 56 12\n@@ -121,1 +121,1 @@\n-        String fieldName = args[0];\n+        String className = args[0];\n@@ -126,0 +126,1 @@\n+            Class<?> clazz = Class.forName(className);\n@@ -127,1 +128,1 @@\n-                    IntegerPolynomial.Holder.class.getDeclaredField(fieldName).get(null);\n+                    clazz.getDeclaredField(\"ONE\").get(null);\n","filename":"test\/jdk\/sun\/security\/util\/math\/TestIntegerModuloP.java","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"}]}