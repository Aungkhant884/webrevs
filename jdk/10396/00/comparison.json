{"files":[{"patch":"@@ -633,1 +633,0 @@\n-                  _print_inlining_stream(NULL),\n@@ -906,1 +905,0 @@\n-    _print_inlining_stream(NULL),\n@@ -4393,7 +4391,0 @@\n-void Compile::print_inlining_stream_free() {\n-  if (_print_inlining_stream != NULL) {\n-    _print_inlining_stream->~stringStream();\n-    _print_inlining_stream = NULL;\n-  }\n-}\n-\n@@ -4411,2 +4402,1 @@\n-    print_inlining_stream_free();\n-    _print_inlining_stream = new stringStream();\n+    print_inlining_reset();\n@@ -4419,3 +4409,1 @@\n-    print_inlining_stream_free();\n-    \/\/ Re allocate buffer when we change ResourceMark\n-    _print_inlining_stream = new stringStream();\n+    print_inlining_reset();\n@@ -4426,1 +4414,1 @@\n-  _print_inlining_stream->reset();\n+  _print_inlining_stream.reset();\n@@ -4433,1 +4421,1 @@\n-  _print_inlining_list->at(_print_inlining_idx)->ss()->write(_print_inlining_stream->base(), _print_inlining_stream->size());\n+  _print_inlining_list->at(_print_inlining_idx)->ss()->write(_print_inlining_stream.base(), _print_inlining_stream.size());\n@@ -4482,1 +4470,1 @@\n-    assert(_print_inlining_stream->size() > 0, \"missing inlining msg\");\n+    assert(_print_inlining_stream.size() > 0, \"missing inlining msg\");\n@@ -4492,1 +4480,1 @@\n-  assert(!_print_inlining || _print_inlining_stream->size() == 0, \"losing data\");\n+  assert(!_print_inlining || _print_inlining_stream.size() == 0, \"losing data\");\n@@ -4511,1 +4499,1 @@\n-    print_inlining_stream_free();\n+    print_inlining_reset();\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":7,"deletions":19,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -450,1 +450,1 @@\n-  stringStream* _print_inlining_stream;\n+  stringStream _print_inlining_stream;\n@@ -466,1 +466,0 @@\n-  void print_inlining_stream_free();\n@@ -480,1 +479,1 @@\n-  outputStream* print_inlining_stream() const {\n+  stringStream* print_inlining_stream() {\n@@ -482,1 +481,1 @@\n-    return _print_inlining_stream;\n+    return &_print_inlining_stream;\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}