{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -173,1 +173,1 @@\n-            if (b.isFocusOwner()) {\n+            if (b.isFocusOwner() && b.isFocusPainted()) {\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaButtonLabeledUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,1 +37,1 @@\n- * @bug 8216358\n+ * @bug 8216358 8279586\n@@ -54,0 +54,3 @@\n+        BufferedImage imageFocusNotPainted = new BufferedImage(100, 50,\n+                BufferedImage.TYPE_INT_ARGB);\n+\n@@ -56,0 +59,1 @@\n+        checkbox.setFocusPainted(true);\n@@ -67,0 +71,11 @@\n+\n+        checkbox.setFocusPainted(false);\n+        checkbox.paint(imageFocusNotPainted.createGraphics());\n+\n+        if (!Util.compareBufferedImages(imageFocusNotPainted, imageNoFocus)) {\n+            ImageIO.write(imageFocusNotPainted, \"png\",\n+                    new File(\"imageFocusNotPainted.png\"));\n+            ImageIO.write(imageFocus, \"png\", new File(\"imageFocus.png\"));\n+            ImageIO.write(imageNoFocus, \"png\", new File(\"imageNoFocus.png\"));\n+            throw new Exception(\"setFocusPainted(false) is ignored\");\n+        }\n","filename":"test\/jdk\/javax\/swing\/JCheckBox\/ImageCheckboxFocus\/ImageCheckboxTest.java","additions":17,"deletions":2,"binary":false,"changes":19,"status":"modified"}]}