{"files":[{"patch":"@@ -55,1 +55,8 @@\n-    masm.align(wordSize);\n+    if (!is_aligned(masm.offset(), wordSize)) {\n+      if (cb->stubs()->maybe_expand_to_ensure_remaining(NativeInstruction::instruction_size) && cb->blob() == NULL) {\n+        ciEnv::current()->record_failure(\"CodeCache is full\");\n+        p_succeeded = false;\n+        return p_succeeded;\n+      }\n+      masm.align(wordSize);\n+    }\n","filename":"src\/hotspot\/cpu\/aarch64\/codeBuffer_aarch64.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -56,1 +56,8 @@\n-    masm.align(wordSize, NativeCallTrampolineStub::data_offset);\n+    if (!is_aligned(masm.offset() + NativeCallTrampolineStub::data_offset, wordSize)) {\n+      if (cb->stubs()->maybe_expand_to_ensure_remaining(NativeInstruction::instruction_size) && cb->blob() == NULL) {\n+        ciEnv::current()->record_failure(\"CodeCache is full\");\n+        p_succeeded = false;\n+        return p_succeeded;\n+      }\n+      masm.align(wordSize, NativeCallTrampolineStub::data_offset);\n+    }\n","filename":"src\/hotspot\/cpu\/riscv\/codeBuffer_riscv.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -3131,0 +3131,3 @@\n+  \/\/ We are always 4-byte aligned here.\n+  assert_alignment(pc());\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}