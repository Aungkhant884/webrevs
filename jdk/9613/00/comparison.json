{"files":[{"patch":"@@ -32,1 +32,1 @@\n-MallocSiteHashtableEntry*  MallocSiteTable::_table[MallocSiteTable::table_size];\n+MallocSiteHashtableEntry**  MallocSiteTable::_table = NULL;\n@@ -46,0 +46,6 @@\n+  ALLOW_C_FUNCTION(::calloc,\n+                   _table = (MallocSiteHashtableEntry**)::calloc(table_size, sizeof(MallocSiteHashtableEntry*));)\n+  if (_table == nullptr) {\n+    return false;\n+  }\n+\n","filename":"src\/hotspot\/share\/services\/mallocSiteTable.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -105,8 +105,1 @@\n-\n-  \/\/ Currently, (number of buckets \/ number of entries) ratio is\n-  \/\/ about 1 \/ 6\n-  enum {\n-    table_base_size = 128,   \/\/ The base size is calculated from statistics to give\n-                             \/\/ table ratio around 1:6\n-    table_size = (table_base_size * NMT_TrackingStackDepth - 1)\n-  };\n+  static const int table_size = 4099;\n@@ -199,1 +192,1 @@\n-  static MallocSiteHashtableEntry*        _table[table_size];\n+  static MallocSiteHashtableEntry**       _table;\n","filename":"src\/hotspot\/share\/services\/mallocSiteTable.hpp","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"}]}