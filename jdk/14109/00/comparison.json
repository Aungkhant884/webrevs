{"files":[{"patch":"@@ -104,0 +104,8 @@\n+    \/\/ Remove trailing '\/' if present and there are at least two characters\n+    private static String trimSeparator(String s) {\n+        int len = s.length();\n+        if (len > 1 && s.charAt(len - 1) == '\/')\n+            return s.substring(0, len - 1);\n+        return s;\n+    }\n+\n@@ -109,1 +117,1 @@\n-            return parent + child;\n+            return trimSeparator(parent + child);\n@@ -111,2 +119,2 @@\n-        if (parent.equals(\"\/\")) return parent + child;\n-        return parent + '\/' + child;\n+        if (parent.equals(\"\/\")) return trimSeparator(parent + child);\n+        return trimSeparator(parent + '\/' + child);\n","filename":"src\/java.base\/unix\/classes\/java\/io\/UnixFileSystem.java","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -288,0 +288,7 @@\n+\n+        \/\/ if present, strip trailing name separator unless after a ':'\n+        if (theChars.length > 1\n+            && theChars[theChars.length - 1] == slash\n+            && theChars[theChars.length - 2] != ':')\n+            return new String(theChars, 0, theChars.length - 1);\n+\n","filename":"src\/java.base\/windows\/classes\/java\/io\/WinNTFileSystem.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,1 @@\n-   @bug 4131169 4168988\n+   @bug 4131169 4168988 8290499\n@@ -254,0 +254,3 @@\n+            ck2(\"\/foo\", \"\/\", \"\/\", \"foo\", \"\/foo\");\n+            ck2(\"\/\/foo\", \"\/\", \"\/\", \"foo\", \"\/foo\");\n+            ck2(\"\/foo\", \"\/\/\", \"\/\", \"foo\", \"\/foo\");\n@@ -259,0 +262,3 @@\n+            ck2f(\"\/foo\", \"\/\", \"\/\", \"foo\", \"\/foo\");\n+            ck2f(\"\/\/foo\", \"\/\", \"\/\", \"foo\", \"\/foo\");\n+            ck2f(\"\/foo\", \"\/\/\", \"\/\", \"foo\", \"\/foo\");\n@@ -299,0 +305,4 @@\n+            ck2(\"z:\", \"\", null, \"\", \"z:\");\n+            ck2(\"z:\/\", \"\/\", null, \"\", \"z:\/\");\n+            ck2(\"z:\/\", \"a\/b\/c\", \"z:\/a\/b\", \"c\", \"z:\/a\/b\/c\");\n+            ck2(\"z:\/\", \"a\/b\/c\/\", \"z:\/a\/b\", \"c\", \"z:\/a\/b\/c\");\n@@ -302,1 +312,4 @@\n-\n+            ck2f(\"z:\", \"\", null, \"\", \"z:\");\n+            ck2f(\"z:\/\", \"\/\", null, \"\", \"z:\/\");\n+            ck2f(\"z:\/\", \"a\/b\/c\", \"z:\/a\/b\", \"c\", \"z:\/a\/b\/c\");\n+            ck2f(\"z:\/\", \"a\/b\/c\/\", \"z:\/a\/b\", \"c\", \"z:\/a\/b\/c\");\n","filename":"test\/jdk\/java\/io\/File\/Cons.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}