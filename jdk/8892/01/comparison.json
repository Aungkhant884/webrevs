{"files":[{"patch":"@@ -70,3 +70,0 @@\n-        if (entryPointSnippet == null) {\n-            throw new Error(\"Cannot find snippet \\\"entry-point\\\"\");\n-        }\n@@ -97,3 +94,0 @@\n-        if (exampleSnippet == null) {\n-            throw new Error(\"Cannot find snippet \\\"Example.java\\\"\");\n-        }\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testDocletExample\/TestDocletExample.java","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import java.util.function.Supplier;\n@@ -46,0 +47,1 @@\n+import javax.lang.model.element.QualifiedNameable;\n@@ -100,0 +102,18 @@\n+    \/**\n+     * Exception used to report that a snippet could not be found.\n+     *\/\n+    public static class SnippetNotFoundException extends Exception {\n+        public SnippetNotFoundException(String message) {\n+            super(message);\n+        }\n+    }\n+\n+    \/**\n+     * Exception used to report that a doc comment could not be found.\n+     *\/\n+    public static class DocCommentNotFoundException extends Exception {\n+        public DocCommentNotFoundException(String message) {\n+            super(message);\n+        }\n+    }\n+\n@@ -221,0 +241,2 @@\n+     *\n+     * @throws SnippetNotFoundException if the snippet cannot be found\n@@ -222,2 +244,6 @@\n-    public SnippetTree getSnippetById(DocCommentTree tree, String id) {\n-        return new SnippetFinder().scan(tree, id);\n+    public SnippetTree getSnippetById(DocCommentTree tree, String id) throws SnippetNotFoundException {\n+        SnippetTree result = new SnippetFinder().scan(tree, id);\n+        if (result == null) {\n+            throw new SnippetNotFoundException(id);\n+        }\n+        return result;\n@@ -231,0 +257,3 @@\n+     *\n+     * @throws DocCommentNotFoundException if the doc comment for the element cannot be found\n+     * @throws SnippetNotFoundException if the snippet cannot be found\n@@ -232,3 +261,8 @@\n-    public SnippetTree getSnippetById(Element element, String id) {\n-        DocCommentTree tree = getDocCommentTree(element);\n-        return new SnippetFinder().scan(tree, id);\n+    public SnippetTree getSnippetById(Element element, String id)\n+            throws DocCommentNotFoundException, SnippetNotFoundException {\n+        DocCommentTree docCommentTree = getDocCommentTree(element);\n+        if (docCommentTree == null) {\n+            var name = (element instanceof QualifiedNameable q) ? q.getQualifiedName() : element.getSimpleName();\n+            throw new DocCommentNotFoundException(element.getKind() + \" \" + name);\n+        }\n+        return getSnippetById(docCommentTree, id);\n","filename":"test\/langtools\/tools\/lib\/snippets\/SnippetUtils.java","additions":39,"deletions":5,"binary":false,"changes":44,"status":"modified"}]}