{"files":[{"patch":"@@ -2463,31 +2463,0 @@\n-  address generate_prefetch(bool i, bool r, bool w) {\n-    assert(i ^ r ^ w, \"exactly one of i, r, or w must be set\");\n-\n-    __ align(CodeEntryAlignment);\n-    StubCodeMark mark(this, \"StubRoutines\",\n-                      i ? \"prefetch_i\" :\n-                      r ? \"prefetch_r\" :\n-                          \"prefetch_w\");\n-\n-    address start = __ pc();\n-    Label LOOP;\n-\n-    const Register base = c_rarg0, interval = c_rarg1, first = t0, last = t1;\n-\n-    \/\/ It needs to align on `CacheLineSize`. That's in case interval < CacheLineSize\n-    \/\/ but first + interval spans more than a cache line. In that case we want\n-    \/\/ to make sure we prefetch the two cache lines.\n-    __ andi(first, base, ~(CacheLineSize - 1));\n-    __ addi(interval, interval, -1);\n-    __ add(last, base, interval);\n-    __ andi(last, last, ~(CacheLineSize - 1));\n-    __ bind(LOOP);\n-    if (i) __ prefetch_i(first, 0);\n-    if (r) __ prefetch_r(first, 0);\n-    if (w) __ prefetch_w(first, 0);\n-    __ addi(first, first, CacheLineSize);\n-    __ ble(first, last, LOOP);\n-    __ ret();\n-    return start;\n-  }\n-\n@@ -4002,6 +3971,0 @@\n-    if (UseZicbop) {\n-      StubRoutines::riscv::_prefetch_i = generate_prefetch(\/*i*\/true, \/*r*\/false, \/*w*\/false);\n-      StubRoutines::riscv::_prefetch_r = generate_prefetch(\/*i*\/false, \/*r*\/true, \/*w*\/false);\n-      StubRoutines::riscv::_prefetch_w = generate_prefetch(\/*i*\/false, \/*r*\/false, \/*w*\/true);\n-    }\n-\n","filename":"src\/hotspot\/cpu\/riscv\/stubGenerator_riscv.cpp","additions":0,"deletions":37,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -57,3 +57,0 @@\n-address StubRoutines::riscv::_prefetch_i = NULL;\n-address StubRoutines::riscv::_prefetch_r = NULL;\n-address StubRoutines::riscv::_prefetch_w = NULL;\n","filename":"src\/hotspot\/cpu\/riscv\/stubRoutines_riscv.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -72,4 +72,0 @@\n-  static address _prefetch_i;\n-  static address _prefetch_r;\n-  static address _prefetch_w;\n-\n@@ -156,12 +152,0 @@\n-  static address prefetch_i() {\n-    return _prefetch_i;\n-  }\n-\n-  static address prefetch_r() {\n-    return _prefetch_r;\n-  }\n-\n-  static address prefetch_w() {\n-    return _prefetch_w;\n-  }\n-\n","filename":"src\/hotspot\/cpu\/riscv\/stubRoutines_riscv.hpp","additions":0,"deletions":16,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -30,1 +30,0 @@\n-#include \"runtime\/stubRoutines.hpp\"\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/prefetch_linux_riscv.inline.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}