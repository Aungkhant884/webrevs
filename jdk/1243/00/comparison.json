{"files":[{"patch":"@@ -35,0 +35,1 @@\n+import java.util.function.LongSupplier;\n@@ -260,0 +261,3 @@\n+                    \/\/ getTotalPhysicalMemorySize and getFreePhysicalMemorySize are deprecated,\n+                    \/\/ but we want be able to get the data for old target VMs (see JDK-8255934).\n+                    @SuppressWarnings(\"deprecation\")\n@@ -261,2 +265,4 @@\n-                        formatKByteStrings(sunOSMBean.getTotalMemorySize(),\n-                                           sunOSMBean.getFreeMemorySize(),\n+                        formatKByteStrings(tryToGet(sunOSMBean::getTotalMemorySize,\n+                                                    sunOSMBean::getTotalPhysicalMemorySize),\n+                                           tryToGet(sunOSMBean::getFreeMemorySize,\n+                                                    sunOSMBean::getFreePhysicalMemorySize),\n@@ -320,0 +326,14 @@\n+    \/**\n+     * Tries to get the specified value from the list of suppliers.\n+     * Returns -1 if all suppliers fail.\n+     *\/\n+    private long tryToGet(LongSupplier ... getters) {\n+        for (LongSupplier getter : getters) {\n+            try {\n+                return getter.getAsLong();\n+            } catch (UndeclaredThrowableException e) {\n+            }\n+        }\n+        return -1;\n+    }\n+\n","filename":"src\/jdk.jconsole\/share\/classes\/sun\/tools\/jconsole\/SummaryTab.java","additions":22,"deletions":2,"binary":false,"changes":24,"status":"modified"}]}