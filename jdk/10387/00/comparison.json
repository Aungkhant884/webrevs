{"files":[{"patch":"@@ -629,3 +629,1 @@\n-  if (!signal_was_handled) {\n-    address pc = os::Posix::ucontext_get_pc(uc);\n-    assert(pc != NULL, \"\");\n+  if (!signal_was_handled && pc != NULL && os::is_readable_pointer(pc)) {\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -132,0 +132,6 @@\n+  if (!is_readable_pointer(epc)) {\n+    \/\/ Try to recover from calling into bad memory\n+    \/\/ Assume new frame has not been set up, the same as\n+    \/\/ compiled frame stack bang\n+    return fetch_compiled_frame_from_context(ucVoid);\n+  }\n@@ -351,1 +357,1 @@\n-  address pc = os::Posix::ucontext_get_pc(uc);\n+  address pc = os::fetch_frame_from_context(uc).pc();\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/os_linux_aarch64.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -146,0 +146,6 @@\n+  if (!is_readable_pointer(epc)) {\n+    \/\/ Try to recover from calling into bad memory\n+    \/\/ Assume new frame has not been set up, the same as\n+    \/\/ compiled frame stack bang\n+    return fetch_compiled_frame_from_context(ucVoid);\n+  }\n@@ -589,1 +595,1 @@\n-  address pc = os::Posix::ucontext_get_pc(uc);\n+  address pc = os::fetch_frame_from_context(uc).pc();\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -323,0 +323,6 @@\n+  if (!is_readable_pointer(epc)) {\n+    \/\/ Try to recover from calling into bad memory\n+    \/\/ Assume new frame has not been set up, the same as\n+    \/\/ compiled frame stack bang\n+    return frame(sp + 1, fp, (address)*sp);\n+  }\n@@ -459,1 +465,1 @@\n-  address pc = (address)uc->REG_PC;\n+  address pc = os::fetch_frame_from_context(uc).pc();\n","filename":"src\/hotspot\/os_cpu\/windows_x86\/os_windows_x86.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2326,0 +2326,2 @@\n+  } else if (!os::is_readable_range(m, m + 1)) {\n+    return false;\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -353,1 +353,1 @@\n-  if (fr.pc()) {\n+  if (fr.sp() != nullptr && os::is_readable_pointer(fr.sp())) {\n@@ -372,1 +372,1 @@\n-      if (fr.pc() == nullptr) {\n+      if (fr.sp() == nullptr) {\n@@ -966,1 +966,1 @@\n-           while (printed_len < limit && fr.pc() != nullptr) {\n+           while (printed_len < limit && fr.sp() != nullptr) {\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}