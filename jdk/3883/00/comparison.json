{"files":[{"patch":"@@ -232,7 +232,7 @@\n-            for (int i = 0; i < h; i++) {\n-                for (int j = 0; j < w; j++) {\n-                    imageData[(i * w * 4) + j * 4] = glyph->image[(i * w * 3) + j * 3];\n-                    imageData[(i * w * 4) + j * 4 + 1] = glyph->image[(i * w * 3) + j * 3 + 1];\n-                    imageData[(i * w * 4) + j * 4 + 2] = glyph->image[(i * w * 3) + j * 3 + 2];\n-                    imageData[(i * w * 4) + j * 4 + 3] = 0xFF;\n-                }\n+            int srcIndex = 0;\n+            int dstIndex = 0;\n+            for (int i = 0; i < (w * h); i++) {\n+                imageData[dstIndex++] = glyph->image[srcIndex++];\n+                imageData[dstIndex++] = glyph->image[srcIndex++];\n+                imageData[dstIndex++] = glyph->image[srcIndex++];\n+                imageData[dstIndex++] = 0xFF;\n@@ -533,1 +533,1 @@\n-    unsigned int imageBytes = w * h *4;\n+    unsigned int imageBytes = w * h * 4;\n@@ -537,7 +537,7 @@\n-    for (int i = 0; i < h; i++) {\n-        for (int j = 0; j < w; j++) {\n-            imageData[(i * w * 4) + j * 4] = ginfo->image[((i * w * 3) + j * 3) + rowBytesOffset];\n-            imageData[(i * w * 4) + j * 4 + 1] = ginfo->image[((i * w * 3) + j * 3 + 1) + rowBytesOffset];\n-            imageData[(i * w * 4) + j * 4 + 2] = ginfo->image[((i * w * 3) + j * 3 + 2) + rowBytesOffset];\n-            imageData[(i * w * 4) + j * 4 + 3] = 0xFF;\n-        }\n+    int srcIndex = 0;\n+    int dstIndex = 0;\n+    for (int i = 0; i < (w * h); i++) {\n+        imageData[dstIndex++] = ginfo->image[srcIndex++ + rowBytesOffset];\n+        imageData[dstIndex++] = ginfo->image[srcIndex++ + rowBytesOffset];\n+        imageData[dstIndex++] = ginfo->image[srcIndex++ + rowBytesOffset];\n+        imageData[dstIndex++] = 0xFF;\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLTextRenderer.m","additions":15,"deletions":15,"binary":false,"changes":30,"status":"modified"}]}