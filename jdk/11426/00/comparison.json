{"files":[{"patch":"@@ -64,1 +64,0 @@\n-import com.sun.source.doctree.TextTree;\n@@ -88,1 +87,0 @@\n-import jdk.javadoc.internal.doclets.toolkit.util.DocletConstants;\n@@ -166,1 +164,1 @@\n-    private static final int SEE_TAG_MAX_INLINE_LENGTH = 30;\n+    private static final int TAG_LIST_ITEM_MAX_INLINE_LENGTH = 30;\n@@ -391,1 +389,1 @@\n-        var seeList = HtmlTree.UL(hasLongLabels ? HtmlStyle.seeListLong : HtmlStyle.seeList);\n+        var seeList = HtmlTree.UL(hasLongLabels ? HtmlStyle.tagListLong : HtmlStyle.tagList);\n@@ -406,1 +404,1 @@\n-        return s.length() > SEE_TAG_MAX_INLINE_LENGTH || s.contains(\",\");\n+        return s.length() > TAG_LIST_ITEM_MAX_INLINE_LENGTH || s.contains(\",\");\n@@ -416,7 +414,0 @@\n-    private void appendSeparatorIfNotEmpty(ContentBuilder body) {\n-        if (!body.isEmpty()) {\n-            body.add(\", \");\n-            body.add(Text.NL);\n-        }\n-    }\n-\n@@ -756,4 +747,2 @@\n-        ContentBuilder body = new ContentBuilder();\n-        for (SpecTree st : specTags) {\n-            appendSeparatorIfNotEmpty(body);\n-            body.add(specTagToContent(holder, st));\n+        if (specTags.isEmpty()) {\n+            return Text.EMPTY;\n@@ -761,2 +750,11 @@\n-        if (body.isEmpty())\n-            return body;\n+\n+        List<Content> links = specTags.stream()\n+                .map(st -> specTagToContent(holder, st))\n+                .collect(Collectors.toList());\n+\n+        \/\/ Use a different style if any link label is longer than 30 chars or contains commas.\n+        boolean hasLongLabels = links.stream().anyMatch(this::isLongOrHasComma);\n+        var specList = HtmlTree.UL(hasLongLabels ? HtmlStyle.tagListLong : HtmlStyle.tagList);\n+        links.stream()\n+                .filter(Predicate.not(Content::isEmpty))\n+                .forEach(item -> specList.add(HtmlTree.LI(item)));\n@@ -766,1 +764,1 @@\n-                HtmlTree.DD(body));\n+                HtmlTree.DD(specList));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TagletWriterImpl.java","additions":17,"deletions":19,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -386,1 +386,1 @@\n-     * The class for the list containing the {@code @see} tags of an element.\n+     * The class for a list containing the tags of an element.\n@@ -388,1 +388,1 @@\n-    seeList,\n+    tagList,\n@@ -391,2 +391,2 @@\n-     * The class for the list containing the {@code @see} tags of an element\n-     * when some of the tags have longer labels.\n+     * The class for a list containing the tags of an element\n+     * when some tags have longer labels or contain commas.\n@@ -394,1 +394,1 @@\n-    seeListLong,\n+    tagListLong,\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyle.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -389,1 +389,1 @@\n-ul.see-list, ul.see-list-long {\n+ul.tag-list, ul.tag-list-long {\n@@ -393,1 +393,1 @@\n-ul.see-list li {\n+ul.tag-list li {\n@@ -396,2 +396,3 @@\n-ul.see-list li:not(:last-child):after,\n-ul.see-list-long li:not(:last-child):after {\n+ul.tag-list li:not(:last-child):after,\n+ul.tag-list-long li:not(:last-child):after\n+{\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -66,3 +66,2 @@\n-                ExecutableElement m = result.get().method();\n-                tags = utils.getSpecTrees(m);\n-                e = m;\n+                e = result.get().method();\n+                tags = result.get().specTrees();\n@@ -74,1 +73,1 @@\n-    private record Documentation(List<? extends SpecTree> seeTrees, ExecutableElement method) { }\n+    private record Documentation(List<? extends SpecTree> specTrees, ExecutableElement method) { }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/SpecTaglet.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testConstructors\/TestConstructors.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n@@ -109,1 +109,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n@@ -126,1 +126,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n@@ -192,1 +192,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testGenericTypeLink\/TestGenericTypeLink.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHref\/TestHref.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -163,1 +163,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -175,1 +175,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -200,1 +200,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -211,1 +211,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -233,1 +233,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -249,1 +249,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -291,1 +291,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -319,1 +319,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -330,1 +330,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -343,1 +343,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -359,1 +359,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlDefinitionListTag\/TestHtmlDefinitionListTag.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -271,1 +271,1 @@\n-                        <ul class=\"see-list\">\n+                        <ul class=\"tag-list\">\n@@ -287,1 +287,1 @@\n-                        <ul class=\"see-list\">\n+                        <ul class=\"tag-list\">\n@@ -303,1 +303,1 @@\n-                        <ul class=\"see-list\">\n+                        <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testJavaFX\/TestJavaFX.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -332,1 +332,1 @@\n-                <ul class=\"see-list\">\n+                <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testJavaFX\/TestJavaFXCombo.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -167,1 +167,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testJavaFX\/TestJavaFXMissingPropComments.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -105,1 +105,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testLinkOption\/TestLinkOption.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -632,1 +632,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testModules\/TestModules.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testNewLanguageFeatures\/TestNewLanguageFeatures.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testOverview\/TestOverview.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -81,1 +81,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -120,1 +120,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testProperty\/TestProperty.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-                <ul class=\"see-list-long\">\n+                <ul class=\"tag-list-long\">\n@@ -81,1 +81,1 @@\n-                <ul class=\"see-list-long\">\n+                <ul class=\"tag-list-long\">\n@@ -105,1 +105,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -145,1 +145,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -215,1 +215,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -223,1 +223,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n@@ -231,1 +231,1 @@\n-                    <ul class=\"see-list-long\">\n+                    <ul class=\"tag-list-long\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSeeTag\/TestSeeTag.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -112,1 +112,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -145,1 +145,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -174,1 +174,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSeeTag\/TestSeeTagWithModule.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSerializedForm\/TestSerializedForm.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n@@ -118,1 +118,1 @@\n-                    <ul class=\"see-list\">\n+                    <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSerializedFormDeprecationInfo\/TestSerializedFormDeprecationInfo.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -273,1 +273,1 @@\n-                    if (\"see-list\".equals(attrs.get(\"class\"))) {\n+                    if (\"tag-list\".equals(attrs.get(\"class\"))) {\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSingletonLists\/TestSingletonLists.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 6251738 8226279\n+ * @bug 6251738 8226279 8297802\n@@ -82,5 +82,9 @@\n-                    <dl class=\"notes\">\n-                    <dt>External Specifications<\/dt>\n-                    <dd><span id=\"label\" class=\"search-tag-result\">label<\/span><\/dd>\n-                    <\/dl>\n-                    \"\"\");\n+                        <dl class=\"notes\">\n+                        <dt>External Specifications<\/dt>\n+                        <dd>\n+                        <ul class=\"tag-list\">\n+                        <li><span id=\"label\" class=\"search-tag-result\">label<\/span><\/li>\n+                        <\/ul>\n+                        <\/dd>\n+                        <\/dl>\n+                        \"\"\");\n@@ -158,8 +162,12 @@\n-                    <dl class=\"notes\">\n-                    <dt>External Specifications<\/dt>\n-                    <dd><a href=\"http:\/\/example.com\/a+b\"><span id=\"space:plus\" class=\"search-tag-result\">space: plus<\/span><\/a>,\\s\n-                    <a href=\"http:\/\/example.com\/a%20b\"><span id=\"space:percent\" class=\"search-tag-result\">space: percent<\/span><\/a>,\\s\n-                    <a href=\"http:\/\/example.com\/a%C2%A7b\"><span id=\"other:section;U+00A7,UTF-8c2a7\" class=\"search-tag-result\">other: section; U+00A7, UTF-8 c2 a7<\/span><\/a>,\\s\n-                    <a href=\"http:\/\/example.com\/a%C2%B1b\"><span id=\"unicode:plusorminus;U+00B1,UTF-8c2b1\" class=\"search-tag-result\">unicode: plus or minus; U+00B1, UTF-8 c2 b1<\/span><\/a><\/dd>\n-                    <\/dl>\n-                    \"\"\");\n+                        <dl class=\"notes\">\n+                        <dt>External Specifications<\/dt>\n+                        <dd>\n+                        <ul class=\"tag-list-long\">\n+                        <li><a href=\"http:\/\/example.com\/a+b\"><span id=\"space:plus\" class=\"search-tag-result\">space: plus<\/span><\/a><\/li>\n+                        <li><a href=\"http:\/\/example.com\/a%20b\"><span id=\"space:percent\" class=\"search-tag-result\">space: percent<\/span><\/a><\/li>\n+                        <li><a href=\"http:\/\/example.com\/a%C2%A7b\"><span id=\"other:section;U+00A7,UTF-8c2a7\" class=\"search-tag-result\">other: section; U+00A7, UTF-8 c2 a7<\/span><\/a><\/li>\n+                        <li><a href=\"http:\/\/example.com\/a%C2%B1b\"><span id=\"unicode:plusorminus;U+00B1,UTF-8c2b1\" class=\"search-tag-result\">unicode: plus or minus; U+00B1, UTF-8 c2 b1<\/span><\/a><\/li>\n+                        <\/ul>\n+                        <\/dd>\n+                        <\/dl>\n+                        \"\"\");\n@@ -226,1 +234,5 @@\n-                    <dd><a href=\"http:\/\/example.com\/\"><span id=\"example\" class=\"search-tag-result\">example<\/span><\/a><\/dd>\n+                    <dd>\n+                    <ul class=\"tag-list\">\n+                    <li><a href=\"http:\/\/example.com\/\"><span id=\"example\" class=\"search-tag-result\">example<\/span><\/a><\/li>\n+                    <\/ul>\n+                    <\/dd>\n@@ -231,1 +243,5 @@\n-                    <dd><a href=\"http:\/\/example.com\/\"><span id=\"example-1\" class=\"search-tag-result\">example<\/span><\/a><\/dd>\n+                    <dd>\n+                    <ul class=\"tag-list\">\n+                    <li><a href=\"http:\/\/example.com\/\"><span id=\"example-1\" class=\"search-tag-result\">example<\/span><\/a><\/li>\n+                    <\/ul>\n+                    <\/dd>\n@@ -236,1 +252,5 @@\n-                    <dd><a href=\"http:\/\/example.com\/\"><span id=\"example-2\" class=\"search-tag-result\">example<\/span><\/a><\/dd>\n+                    <dd>\n+                    <ul class=\"tag-list\">\n+                    <li><a href=\"http:\/\/example.com\/\"><span id=\"example-2\" class=\"search-tag-result\">example<\/span><\/a><\/li>\n+                    <\/ul>\n+                    <\/dd>\n@@ -273,2 +293,6 @@\n-                    <dd><a href=\"http:\/\/example.com\/1\"><span id=\"example-1\" class=\"search-tag-result\">example-1<\/span><\/a>,\\s\n-                    <a href=\"http:\/\/example.com\/2\"><span id=\"example-2\" class=\"search-tag-result\">example-2<\/span><\/a><\/dd>\n+                    <dd>\n+                    <ul class=\"tag-list\">\n+                    <li><a href=\"http:\/\/example.com\/1\"><span id=\"example-1\" class=\"search-tag-result\">example-1<\/span><\/a><\/li>\n+                    <li><a href=\"http:\/\/example.com\/2\"><span id=\"example-2\" class=\"search-tag-result\">example-2<\/span><\/a><\/li>\n+                    <\/ul>\n+                    <\/dd>\n@@ -314,2 +338,6 @@\n-                    <dd><a href=\"http:\/\/example.com\/1\"><span id=\"example-1\" class=\"search-tag-result\">example-1<\/span><\/a>,\\s\n-                    <a href=\"http:\/\/example.net\/2\"><span id=\"example-2\" class=\"search-tag-result\">example-2<\/span><\/a><\/dd>\n+                    <dd>\n+                    <ul class=\"tag-list\">\n+                    <li><a href=\"http:\/\/example.com\/1\"><span id=\"example-1\" class=\"search-tag-result\">example-1<\/span><\/a><\/li>\n+                    <li><a href=\"http:\/\/example.net\/2\"><span id=\"example-2\" class=\"search-tag-result\">example-2<\/span><\/a><\/li>\n+                    <\/ul>\n+                    <\/dd>\n@@ -450,5 +478,8 @@\n-                    <dl class=\"notes\">\n-                    <dt>External Specifications<\/dt>\n-                    <dd><a href=\"http:\/\/example.com\/#LK#\"><span id=\"#LK#reference\" \\\n-                    class=\"search-tag-result\">#LK# reference<\/span><\/a><\/dd>\n-                    <\/dl>\"\"\"\n+                        <dl class=\"notes\">\n+                        <dt>External Specifications<\/dt>\n+                        <dd>\n+                        <ul class=\"tag-list\">\n+                        <li><a href=\"http:\/\/example.com\/#LK#\"><span id=\"#LK#reference\" class=\"search-tag-result\">#LK# reference<\/span><\/a><\/li>\n+                        <\/ul>\n+                        <\/dd>\n+                        <\/dl>\"\"\"\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSpecTag\/TestSpecTag.java","additions":57,"deletions":26,"binary":false,"changes":83,"status":"modified"},{"patch":"@@ -123,1 +123,1 @@\n-                <ul class=\"see-list\">\n+                <ul class=\"tag-list\">\n@@ -147,1 +147,1 @@\n-                <ul class=\"see-list\">\n+                <ul class=\"tag-list\">\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testTagOrder\/TestTagOrder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}