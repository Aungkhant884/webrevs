{"files":[{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -316,0 +316,5 @@\n+    ifeq ($$(IS_GNU_DATE), yes)\n+      SOURCE_DATE_ISO_8601 := $(shell $(DATE) --utc --date=\"@$(SOURCE_DATE_EPOCH)\" +\"%Y-%m-%dT%H:%M:%SZ\" 2> \/dev\/null)\n+    else\n+      SOURCE_DATE_ISO_8601 := $(shell $(DATE) -u -j -f \"%s\" \"$(SOURCE_DATE_EPOCH)\" +\"%Y-%m-%dT%H:%M:%SZ\" 2> \/dev\/null)\n+    endif\n","filename":"make\/InitSupport.gmk","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -360,0 +360,1 @@\n+  AC_MSG_CHECKING([if date is the GNU version])\n@@ -362,0 +363,1 @@\n+    AC_MSG_RESULT([yes])\n@@ -364,0 +366,1 @@\n+    AC_MSG_RESULT([no])\n@@ -366,0 +369,1 @@\n+  AC_SUBST(IS_GNU_DATE)\n","filename":"make\/autoconf\/basic_tools.m4","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -713,0 +713,1 @@\n+IS_GNU_DATE:=@IS_GNU_DATE@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -239,3 +239,5 @@\n-  timestamp=$($DATE --utc --date=$2 +\"%s\" 2> \/dev\/null)\n-  if test \"x$timestamp\" = x; then\n-    # GNU date format did not work, try BSD date options\n+  if test \"x$IS_GNU_DATE\" = xyes; then\n+    # GNU date\n+    timestamp=$($DATE --utc --date=$2 +\"%s\" 2> \/dev\/null)\n+  else\n+    # BSD date\n","filename":"make\/autoconf\/util.m4","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -222,1 +222,1 @@\n-  $1_JAR_SOURCE_DATE :=\n+  $1_JAR_OPTIONS :=\n@@ -225,1 +225,1 @@\n-      $1_JAR_SOURCE_DATE := --date $(SOURCE_DATE_ISO_8601)\n+      $1_JAR_OPTIONS += --date $(SOURCE_DATE_ISO_8601)\n@@ -229,3 +229,2 @@\n-    $1_JAR_OPTIONS := --no-compress $$($1_JAR_SOURCE_DATE)\n-    ifeq ($(COMPRESS_JARS), true)\n-      $1_JAR_OPTIONS := $$($1_JAR_SOURCE_DATE)\n+    ifneq ($(COMPRESS_JARS), true)\n+      $1_JAR_OPTIONS += --no-compress \n@@ -233,2 +232,0 @@\n-  else\n-    $1_JAR_OPTIONS := $$($1_JAR_SOURCE_DATE)\n","filename":"make\/common\/JarArchive.gmk","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -143,11 +143,0 @@\n-# If reproducible builds are enabled then set SOURCE_DATE_ISO_8601 string variable\n-ifeq ($(ENABLE_REPRODUCIBLE_BUILD), true)\n-  SOURCE_DATE_ISO_8601 := $(shell $(DATE) --utc --date=\"@$(SOURCE_DATE_EPOCH)\" +\"%Y-%m-%dT%H:%M:%SZ\" 2> \/dev\/null)\n-  ifeq ($(SOURCE_DATE_ISO_8601), )\n-    # GNU date format did not work, try BSD date options\n-    SOURCE_DATE_ISO_8601 := $(shell $(DATE) -u -j -f \"%s\" \"$(SOURCE_DATE_EPOCH)\" +\"%Y-%m-%dT%H:%M:%SZ\" 2> \/dev\/null)\n-  endif\n-endif\n-\n-################################################################################\n-\n","filename":"make\/common\/MakeBase.gmk","additions":1,"deletions":12,"binary":false,"changes":13,"status":"modified"}]}