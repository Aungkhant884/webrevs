{"files":[{"patch":"@@ -48,1 +48,1 @@\n-static const size_t iso8601_len = 19; \/\/ \"YYYY-MM-DDTHH:MM:SS\"\n+static const size_t iso8601_len = 19; \/\/ \"YYYY-MM-DDTHH:MM:SS\" (note: we just use a subset of the full timestamp)\n","filename":"src\/hotspot\/share\/jfr\/recorder\/repository\/jfrEmergencyDump.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-  static const size_t needed_buffer = 29;\n+  static const size_t needed_buffer = os::iso8601_timestamp_size;\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -228,0 +228,3 @@\n+  \/\/ \"YYYY-MM-DDThh:mm:ss.mmm+zzzz\" incl. terminating zero\n+  static const size_t iso8601_timestamp_size = 29;\n+\n@@ -231,1 +234,1 @@\n-  static char* iso8601_time(jlong milliseconds_since_19700101, char buffer[29],\n+  static char* iso8601_time(jlong milliseconds_since_19700101, char* buffer,\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -781,2 +781,2 @@\n-  char buffer[30];\n-  buffer[29] = 'X'; \/\/ canary\n+  char buffer[os::iso8601_timestamp_size + 1]; \/\/ + space for canary\n+  buffer[os::iso8601_timestamp_size] = 'X'; \/\/ canary\n@@ -809,1 +809,1 @@\n-  EXPECT_EQ(buffer[29], 'X');\n+  EXPECT_EQ(buffer[os::iso8601_timestamp_size], 'X');\n","filename":"test\/hotspot\/gtest\/runtime\/test_os.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}