{"files":[{"patch":"@@ -58,71 +58,1 @@\n-#define GETMIN(v1, v2)    (((v1) > (t=(v2))) && ((v1) = t))\n-#define GETMAX(v1, v2)    (((v1) < (t=(v2))) && ((v1) = t))\n-\n-#ifdef D3D_PPL_DLL\n-\n-JNIEXPORT void JNICALL\n-SurfaceData_IntersectBounds(SurfaceDataBounds *dst, SurfaceDataBounds *src)\n-{\n-    int t;\n-    GETMAX(dst->x1, src->x1);\n-    GETMAX(dst->y1, src->y1);\n-    GETMIN(dst->x2, src->x2);\n-    GETMIN(dst->y2, src->y2);\n-}\n-\n-JNIEXPORT void JNICALL\n-SurfaceData_IntersectBoundsXYXY(SurfaceDataBounds *bounds,\n-                                jint x1, jint y1, jint x2, jint y2)\n-{\n-    int t;\n-    GETMAX(bounds->x1, x1);\n-    GETMAX(bounds->y1, y1);\n-    GETMIN(bounds->x2, x2);\n-    GETMIN(bounds->y2, y2);\n-}\n-\n-JNIEXPORT void JNICALL\n-SurfaceData_IntersectBoundsXYWH(SurfaceDataBounds *bounds,\n-                                jint x, jint y, jint w, jint h)\n-{\n-    w = (w <= 0) ? x : x+w;\n-    if (w < x) {\n-        w = 0x7fffffff;\n-    }\n-    if (bounds->x1 < x) {\n-        bounds->x1 = x;\n-    }\n-    if (bounds->x2 > w) {\n-        bounds->x2 = w;\n-    }\n-    h = (h <= 0) ? y : y+h;\n-    if (h < y) {\n-        h = 0x7fffffff;\n-    }\n-    if (bounds->y1 < y) {\n-        bounds->y1 = y;\n-    }\n-    if (bounds->y2 > h) {\n-        bounds->y2 = h;\n-    }\n-}\n-\n-JNIEXPORT void JNICALL\n-SurfaceData_IntersectBlitBounds(SurfaceDataBounds *src,\n-                                SurfaceDataBounds *dst,\n-                                jint dx, jint dy)\n-{\n-    int t;\n-    GETMAX(dst->x1, src->x1 + dx);\n-    GETMAX(dst->y1, src->y1 + dy);\n-    GETMIN(dst->x2, src->x2 + dx);\n-    GETMIN(dst->y2, src->y2 + dy);\n-    GETMAX(src->x1, dst->x1 - dx);\n-    GETMAX(src->y1, dst->y1 - dy);\n-    GETMIN(src->x2, dst->x2 - dx);\n-    GETMIN(src->y2, dst->y2 - dy);\n-}\n-\n-#endif \/* D3D_PPL_DLL *\/\n-\n-D3DPIPELINE_API HRESULT\n+HRESULT\n@@ -202,1 +132,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n@@ -561,1 +491,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n@@ -690,1 +620,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DBlitLoops.cpp","additions":4,"deletions":74,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n@@ -50,1 +50,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n@@ -57,1 +57,1 @@\n-D3DPIPELINE_API HRESULT\n+HRESULT\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DBlitLoops.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-class D3DPIPELINE_API D3DContext {\n+class D3DContext {\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DContext.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,1 +31,3 @@\n-#ifdef D3D_PPL_DLL\n+\/\/ this include ensures that with debug build we get\n+\/\/ awt's overridden debug \"new\" and \"delete\" operators\n+#include \"awt.h\"\n@@ -33,0 +35,3 @@\n+#include <windows.h>\n+#include <d3d9.h>\n+#include \"Trace.h\"\n@@ -34,34 +39,2 @@\n-    #ifndef WIN32_LEAN_AND_MEAN\n-    #define WIN32_LEAN_AND_MEAN\n-    #endif\n-\n-    #ifdef D3DPIPELINE_EXPORTS\n-    #define D3DPIPELINE_API __declspec(dllexport)\n-    #else\n-    #define D3DPIPELINE_API __declspec(dllimport)\n-    #endif\n-\n-    #include <windows.h>\n-    #include <d3d9.h>\n-    #include <DDErr.h>\n-    #include \"..\\Import\\Trace.h\"\n-\n-    #define DebugPrintD3DError(res, msg) \\\n-        DXTRACE_ERR(msg, res)\n-\n-#else\n-\n-    #define D3DPIPELINE_API __declspec(dllexport)\n-\n-    \/\/ this include ensures that with debug build we get\n-    \/\/ awt's overridden debug \"new\" and \"delete\" operators\n-    #include \"awt.h\"\n-\n-    #include <windows.h>\n-    #include <d3d9.h>\n-    #include \"Trace.h\"\n-\n-    #define DebugPrintD3DError(res, msg) \\\n-        J2dTraceLn1(J2D_TRACE_ERROR, \"D3D Error: \" msg \" res=%d\", res)\n-\n-#endif \/*D3D_PPL_DLL*\/\n+#define DebugPrintD3DError(res, msg) \\\n+    J2dTraceLn1(J2D_TRACE_ERROR, \"D3D Error: \" msg \" res=%d\", res)\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DPipeline.h","additions":8,"deletions":35,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-class D3DPIPELINE_API D3DPipelineManager\n+class D3DPipelineManager\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DPipelineManager.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -45,1 +45,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -57,1 +57,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -69,1 +69,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -88,1 +88,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -105,1 +105,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -117,1 +117,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -138,1 +138,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -245,1 +245,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -277,1 +277,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -352,2 +352,0 @@\n-#ifndef D3D_PPL_DLL\n-\n@@ -391,2 +389,0 @@\n-\n-#endif \/\/ D3D_PPL_DLL\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DRenderer.cpp","additions":10,"deletions":14,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -40,1 +40,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -44,1 +44,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -48,1 +48,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -54,1 +54,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -58,1 +58,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -61,1 +61,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -67,1 +67,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -74,1 +74,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n@@ -80,1 +80,1 @@\n-HRESULT D3DPIPELINE_API\n+HRESULT\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DRenderer.h","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-class D3DPIPELINE_API D3DVertexCacher {\n+class D3DVertexCacher {\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DVertexCacher.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}