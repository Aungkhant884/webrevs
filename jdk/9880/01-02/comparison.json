{"files":[{"patch":"@@ -64,12 +64,15 @@\n-  if ((mem_limit = cgroup_subsystem->memory_limit_in_bytes()) > 0 &&\n-       mem_limit < host_memory) {\n-    \/\/ We need to update the amount of physical memory now that\n-    \/\/ cgroup subsystem files have been processed and has been\n-    \/\/ determined to be less than the physical host memory.\n-    os::Linux::set_physical_memory(mem_limit);\n-    log_info(os, container)(\"Memory Limit is: \" JLONG_FORMAT, mem_limit);\n-  } else if (log_is_enabled(Trace, os, container) && mem_limit >= host_memory) {\n-    log_trace(os, container)(\"Container memory limit exceeded or equal to physical\"\n-                             \" memory! container mem: \" JLONG_FORMAT \", host mem: \" JLONG_FORMAT,\n-                             mem_limit, host_memory);\n-    log_trace(os, container)(\"Ignoring container memory limit.\");\n+\n+  mem_limit = cgroup_subsystem->memory_limit_in_bytes();\n+  if (mem_limit > 0) {\n+    if (mem_limit < host_memory) {\n+      \/\/ We need to update the amount of physical memory now that\n+      \/\/ cgroup subsystem files have been processed and has been\n+      \/\/ determined to be less than the physical host memory.\n+      os::Linux::set_physical_memory(mem_limit);\n+      log_info(os, container)(\"Memory Limit is: \" JLONG_FORMAT, mem_limit);\n+    } else if (log_is_enabled(Trace, os, container)) {\n+      log_trace(os, container)(\"Container memory limit exceeded or equal to physical\"\n+                               \" memory! container mem: \" JLONG_FORMAT \", host mem: \" JLONG_FORMAT,\n+                               mem_limit, host_memory);\n+      log_trace(os, container)(\"Ignoring container memory limit.\");\n+    }\n","filename":"src\/hotspot\/os\/linux\/osContainer_linux.cpp","additions":15,"deletions":12,"binary":false,"changes":27,"status":"modified"}]}