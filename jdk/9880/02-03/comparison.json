{"files":[{"patch":"@@ -47,1 +47,0 @@\n-  jlong mem_limit;\n@@ -65,16 +64,0 @@\n-  mem_limit = cgroup_subsystem->memory_limit_in_bytes();\n-  if (mem_limit > 0) {\n-    if (mem_limit < host_memory) {\n-      \/\/ We need to update the amount of physical memory now that\n-      \/\/ cgroup subsystem files have been processed and has been\n-      \/\/ determined to be less than the physical host memory.\n-      os::Linux::set_physical_memory(mem_limit);\n-      log_info(os, container)(\"Memory Limit is: \" JLONG_FORMAT, mem_limit);\n-    } else if (log_is_enabled(Trace, os, container)) {\n-      log_trace(os, container)(\"Container memory limit exceeded or equal to physical\"\n-                               \" memory! container mem: \" JLONG_FORMAT \", host mem: \" JLONG_FORMAT,\n-                               mem_limit, host_memory);\n-      log_trace(os, container)(\"Ignoring container memory limit.\");\n-    }\n-  }\n-\n@@ -82,1 +65,0 @@\n-\n","filename":"src\/hotspot\/os\/linux\/osContainer_linux.cpp","additions":0,"deletions":18,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -222,2 +222,2 @@\n-    jlong mem_limit;\n-    if ((mem_limit = OSContainer::memory_limit_in_bytes()) > 0 && mem_limit < phys_mem) {\n+    jlong mem_limit = OSContainer::memory_limit_in_bytes();\n+    if (mem_limit > 0 && mem_limit < phys_mem) {\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -62,1 +62,0 @@\n-  static void set_physical_memory(julong phys_mem) { _physical_memory = phys_mem; }\n","filename":"src\/hotspot\/os\/linux\/os_linux.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-            testBadMemoryLimit();\n+            testContainerMemExceedsPhysical();\n@@ -109,1 +109,1 @@\n-    private static void testBadMemoryLimit()\n+    private static void testContainerMemExceedsPhysical()\n","filename":"test\/hotspot\/jtreg\/containers\/docker\/TestMemoryAwareness.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}