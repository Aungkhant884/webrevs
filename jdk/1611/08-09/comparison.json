{"files":[{"patch":"@@ -26,1 +26,2 @@\n-GENDATA_FONT_CONFIG_DST := $(SUPPORT_OUTPUTDIR)\/modules_libs\/$(MODULE)\n+FONTCONFIG_DATA_DIR := $(MODULE_SRC)\/$(OPENJDK_TARGET_OS)\/data\/fontconfig\n+FONTCONFIG_SRC_FILE := $(FONTCONFIG_DATA_DIR)\/fontconfig.properties\n@@ -28,1 +29,3 @@\n-GENDATA_FONT_CONFIG_DATA_DIR ?= $(MODULE_SRC)\/share\/data\/fontconfig\n+FONTCONFIG_DEST_DIR := $(SUPPORT_OUTPUTDIR)\/modules_libs\/$(MODULE)\n+FONTCONFIG_OUT_FILE := $(FONTCONFIG_DEST_DIR)\/fontconfig.properties.src\n+FONTCONFIG_OUT_BIN_FILE := $(FONTCONFIG_DEST_DIR)\/fontconfig.properties.bfc\n@@ -30,2 +33,3 @@\n-GENDATA_FONT_CONFIG_SRC_FILES := \\\n-    $(wildcard $(GENDATA_FONT_CONFIG_DATA_DIR)\/$(OPENJDK_TARGET_OS).*)\n+ifneq ($(findstring $(LOG_LEVEL), debug trace), )\n+  FONTCONFIG_VERBOSE_FLAG := -verbose\n+endif\n@@ -33,0 +37,2 @@\n+# Not all OSes have a fontconfig file\n+ifneq ($(wildcard $(FONTCONFIG_SRC_FILE)), )\n@@ -34,2 +40,3 @@\n-$(GENDATA_FONT_CONFIG_DST)\/%.src: \\\n-    $(GENDATA_FONT_CONFIG_DATA_DIR)\/$(OPENJDK_TARGET_OS).%\n+  # Copy properties file as-is\n+  $(FONTCONFIG_OUT_FILE): $(FONTCONFIG_SRC_FILE)\n+\t$(call LogInfo, Copying fontconfig.properties)\n@@ -38,3 +45,5 @@\n-$(GENDATA_FONT_CONFIG_DST)\/%.bfc: \\\n-    $(GENDATA_FONT_CONFIG_DATA_DIR)\/$(OPENJDK_TARGET_OS).%.properties \\\n-    $(BUILD_TOOLS_JDK)\n+  TARGETS += $(FONTCONFIG_OUT_FILE)\n+\n+  # Generate binary representation\n+  $(FONTCONFIG_OUT_BIN_FILE): $(FONTCONFIG_SRC_FILE) $(BUILD_TOOLS_JDK)\n+\t$(call LogInfo, Compiling fontconfig.properties to binary)\n@@ -43,1 +52,1 @@\n-\t$(TOOL_COMPILEFONTCONFIG) $< $@\n+\t$(TOOL_COMPILEFONTCONFIG) $(FONTCONFIG_VERBOSE_FLAG) $< $@\n@@ -46,0 +55,1 @@\n+  TARGETS += $(FONTCONFIG_OUT_BIN_FILE)\n@@ -47,6 +57,1 @@\n-GENDATA_FONT_CONFIGS := $(patsubst $(GENDATA_FONT_CONFIG_DATA_DIR)\/$(OPENJDK_TARGET_OS).%, \\\n-    $(GENDATA_FONT_CONFIG_DST)\/%.src, $(GENDATA_FONT_CONFIG_SRC_FILES))\n-GENDATA_BFONT_CONFIGS := $(patsubst $(GENDATA_FONT_CONFIG_DATA_DIR)\/$(OPENJDK_TARGET_OS).%.properties, \\\n-    $(GENDATA_FONT_CONFIG_DST)\/%.bfc, $(GENDATA_FONT_CONFIG_SRC_FILES))\n-\n-TARGETS := $(GENDATA_FONT_CONFIGS) $(GENDATA_BFONT_CONFIGS)\n+endif\n\\ No newline at end of file\n","filename":"make\/modules\/java.desktop\/gendata\/GendataFontConfig.gmk","additions":21,"deletions":16,"binary":false,"changes":37,"status":"modified"},{"patch":"","filename":"src\/java.desktop\/aix\/data\/fontconfig\/fontconfig.properties","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/java.desktop\/share\/data\/fontconfig\/aix.fontconfig.properties","status":"renamed"},{"patch":"","filename":"src\/java.desktop\/bsd\/data\/fontconfig\/fontconfig.properties","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/java.desktop\/share\/data\/fontconfig\/bsd.fontconfig.properties","status":"renamed"},{"patch":"","filename":"src\/java.desktop\/macosx\/data\/fontconfig\/fontconfig.properties","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/java.desktop\/share\/data\/fontconfig\/macosx.fontconfig.properties","status":"renamed"},{"patch":"","filename":"src\/java.desktop\/windows\/data\/fontconfig\/fontconfig.properties","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/java.desktop\/share\/data\/fontconfig\/windows.fontconfig.properties","status":"renamed"}]}