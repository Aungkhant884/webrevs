{"files":[{"patch":"@@ -1568,2 +1568,1 @@\n-    bool processing_is_mt = rp->processing_is_mt();\n-    uint active_workers = (processing_is_mt ? _g1h->workers()->active_workers() : 1U);\n+    uint active_workers = (ParallelRefProcEnabled ? _g1h->workers()->active_workers() : 1U);\n@@ -1572,5 +1571,0 @@\n-    \/\/ Parallel processing task executor.\n-    G1CMRefProcTaskExecutor par_task_executor(_g1h, this,\n-                                              _g1h->workers(), active_workers);\n-    AbstractRefProcTaskExecutor* executor = (processing_is_mt ? &par_task_executor : NULL);\n-\n@@ -1587,0 +1581,5 @@\n+    \/\/ Parallel processing task executor.\n+    G1CMRefProcTaskExecutor par_task_executor(_g1h, this,\n+                                              _g1h->workers(), active_workers);\n+    AbstractRefProcTaskExecutor* executor = (rp->processing_is_mt() ? &par_task_executor : NULL);\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -40,3 +40,1 @@\n-  if (_reference_processor->processing_is_mt()) {\n-    _reference_processor->set_active_mt_degree(_collector->workers());\n-  }\n+  _reference_processor->set_active_mt_degree(_collector->workers());\n@@ -46,3 +44,1 @@\n-  if (_reference_processor->processing_is_mt()) {\n-    _reference_processor->set_active_mt_degree(_old_mt_degree);\n-  }\n+  _reference_processor->set_active_mt_degree(_old_mt_degree);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCReferenceProcessorExecutor.cpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2128,0 +2128,1 @@\n+    ref_processor()->set_active_mt_degree(active_gc_threads);\n@@ -2129,2 +2130,0 @@\n-      ref_processor()->set_active_mt_degree(active_gc_threads);\n-\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1376,1 +1376,1 @@\n-  if (!_rp->processing_is_mt() || !_rp->adjust_no_of_processing_threads() || (ReferencesPerThread == 0)) {\n+  if (!_rp->adjust_no_of_processing_threads() || (ReferencesPerThread == 0)) {\n","filename":"src\/hotspot\/share\/gc\/shared\/referenceProcessor.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}