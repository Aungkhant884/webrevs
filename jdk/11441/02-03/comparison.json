{"files":[{"patch":"@@ -36,1 +36,0 @@\n-import org.testng.annotations.BeforeMethod;\n@@ -39,2 +38,0 @@\n-import java.io.IOException;\n-import java.io.UncheckedIOException;\n@@ -46,1 +43,0 @@\n-import java.util.stream.Stream;\n@@ -54,1 +50,2 @@\n-    private Path tempDir;\n+    private static final String JAR_FILE_NAME = \"test.jar\";\n+    private static final String FILE_NAME = \"test.txt\";\n@@ -56,6 +53,0 @@\n-    @BeforeMethod\n-    private void setUp() throws Exception {\n-        tempDir = Files.createTempDirectory(\"temp\");\n-    }\n-\n-    \/** Remove dirs & files needed for test. *\/\n@@ -63,15 +54,3 @@\n-    private void cleanup() {\n-        deleteRecursively(tempDir);\n-    }\n-\n-    private static void deleteRecursively(Path path) {\n-        try {\n-            if (Files.isDirectory(path)) {\n-                try (Stream<Path> s = Files.list(path)) {\n-                    s.forEach(p -> deleteRecursively(p));\n-                }\n-            }\n-            Files.delete(path);\n-        } catch (IOException e) {\n-            throw new UncheckedIOException(e);\n-        }\n+    private void cleanup() throws Exception {\n+        Files.deleteIfExists(Path.of(JAR_FILE_NAME));\n+        Files.deleteIfExists(Path.of(FILE_NAME));\n@@ -81,4 +60,3 @@\n-    public void run() throws Exception {\n-        Path entryPath = Files.writeString(tempDir.resolve(\"test.txt\"), \"Some text...\");\n-        Path jar = tempDir.resolve(\"test.jar\");\n-        String[] jarArgs = new String[] {\"cf\", jar.toString(), entryPath.toString()};\n+    public void testDirectoryCompressionMethod() throws Exception {\n+        Files.writeString(Path.of(FILE_NAME), \"Some text...\");\n+        String[] jarArgs = new String[] {\"cf\", JAR_FILE_NAME, FILE_NAME};\n@@ -88,1 +66,1 @@\n-        try (JarFile jarFile = new JarFile(jar.toFile())) {\n+        try (JarFile jarFile = new JarFile(JAR_FILE_NAME)) {\n","filename":"test\/jdk\/tools\/jar\/ManifestDirectoryCompression.java","additions":9,"deletions":31,"binary":false,"changes":40,"status":"modified"}]}