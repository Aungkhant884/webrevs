{"files":[{"patch":"@@ -48,0 +48,8 @@\n+TARGETS += $(patsubst %, $(BUILDTOOLS_OUTPUTDIR)\/gensrc\/%\/module-info.java, \\\n+    $(INTERIM_LANGTOOLS_MODULES))\n+\n+################################################################################\n+# Generate interim versions of the ToolProvider.java files for the interim\n+# langtools modules, which will allow to load javac from the interim\n+# jdk.compiler.\n+\n@@ -57,4 +65,0 @@\n-TARGETS += $(patsubst %, $(BUILDTOOLS_OUTPUTDIR)\/gensrc\/%\/module-info.java, \\\n-    $(INTERIM_LANGTOOLS_MODULES)) \\\n-    $(BUILDTOOLS_OUTPUTDIR)\/gensrc\/java.compiler.interim\/javax\/tools\/ToolProvider.java\n-\n@@ -64,0 +68,7 @@\n+TARGETS += $(BUILDTOOLS_OUTPUTDIR)\/gensrc\/java.compiler.interim\/javax\/tools\/ToolProvider.java\n+\n+################################################################################\n+# Use the up-to-date PreviewFeature.java and NoPreview.java from the current\n+# sources, instead of the versions from the boot JDK, as javac may be referring\n+# to constants from the up-to-date versions.\n+\n@@ -92,1 +103,1 @@\n-                     $($1.interim_EXTRA_FILES), \\\n+          $($1.interim_EXTRA_FILES), \\\n","filename":"make\/CompileInterimLangtools.gmk","additions":16,"deletions":5,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -405,1 +405,1 @@\n-    $1_MODFILES := $$($1_BIN)$$($1_MODULE_SUBDIR)\/_the.$1_batch.modfiles\n+    $1_MODFILELIST := $$($1_BIN)$$($1_MODULE_SUBDIR)\/_the.$1_batch.modfiles\n@@ -453,1 +453,1 @@\n-\t\t$$(call LogWarn, Compiling $$(words $$($1_SRCS)) files for $1)\n+\t\t$$(call LogWarn, Compiling up to $$(words $$($1_SRCS)) files for $1)\n@@ -455,1 +455,2 @@\n-\t\t$$(call WriteFile, \"-XDmodifiedInputs=$$? \", $$($1_MODFILES))\n+\t\t$$(eval $1_MODFILES := $$?)\n+\t\t$$(eval $$(call ListPathsSafely, $1_MODFILES, $$($1_MODFILELIST)))\n@@ -464,1 +465,1 @@\n-\t\t        @$$($1_MODFILES) \\\n+\t\t        -XDmodifiedInputs=$$($1_MODFILELIST) \\\n","filename":"make\/common\/JavaCompilation.gmk","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -154,1 +154,1 @@\n-            Set<String> modified = new HashSet<>(Arrays.asList(modifiedInputs.split(\" \")));\n+            Set<String> modified = new HashSet<>(Files.readAllLines(Paths.get(modifiedInputs)));\n","filename":"make\/jdk\/src\/classes\/build\/tools\/depend\/Depend.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}