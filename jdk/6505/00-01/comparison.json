{"files":[{"patch":"@@ -13,1 +13,0 @@\n-import java.io.OutputStreamWriter;\n@@ -59,2 +58,1 @@\n-        this.encoding = encoding != null ? encoding :\n-            Charset.forName(new OutputStreamWriter(System.out).getEncoding(), Charset.defaultCharset());\n+        this.encoding = encoding != null ? encoding : System.out.charset();\n","filename":"src\/jdk.internal.le\/share\/classes\/jdk\/internal\/org\/jline\/terminal\/impl\/AbstractTerminal.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.io.OutputStreamWriter;\n@@ -33,1 +32,0 @@\n-import java.nio.charset.Charset;\n@@ -68,2 +66,2 @@\n-        outputs.put(\"out\", st -> System.setOut(new PrintStream(st, true, getPrintStreamCharset(System.out))));\n-        outputs.put(\"err\", st -> System.setErr(new PrintStream(st, true, getPrintStreamCharset(System.err))));\n+        outputs.put(\"out\", st -> System.setOut(new PrintStream(st, true, System.out.charset())));\n+        outputs.put(\"err\", st -> System.setErr(new PrintStream(st, true, System.err.charset())));\n@@ -75,6 +73,0 @@\n-    \/\/ Get PrintStream charset\n-    private static Charset getPrintStreamCharset(PrintStream ps) {\n-        return Charset.forName(new OutputStreamWriter(ps).getEncoding(),\n-            Charset.defaultCharset());\n-    }\n-\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/jshell\/execution\/RemoteExecutionControl.java","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"}]}