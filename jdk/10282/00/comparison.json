{"files":[{"patch":"@@ -458,3 +458,2 @@\n-  intptr_t *sp = (intptr_t *)os::Aix::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", sp);\n-  print_hex_dump(st, (address)sp, (address)(sp + 128), sizeof(intptr_t));\n+  address sp = (address)os::Aix::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/aix_ppc\/os_aix_ppc.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -472,3 +472,2 @@\n-  intptr_t *sp = (intptr_t *)os::Bsd::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" INTPTR_FORMAT \")\", (intptr_t)sp);\n-  print_hex_dump(st, (address)sp, (address)(sp + 8*sizeof(intptr_t)), sizeof(intptr_t));\n+  address sp = (address)os::Bsd::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/bsd_aarch64\/os_bsd_aarch64.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -856,3 +856,2 @@\n-  intptr_t *sp = (intptr_t *)os::Bsd::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" INTPTR_FORMAT \")\", (intptr_t)sp);\n-  print_hex_dump(st, (address)sp, (address)(sp + 8*sizeof(intptr_t)), sizeof(intptr_t));\n+  address sp = (address)os::Bsd::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/bsd_x86\/os_bsd_x86.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -344,3 +344,2 @@\n-  intptr_t *sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(sp));\n-  print_hex_dump(st, (address)sp, (address)(sp + 8*sizeof(intptr_t)), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/os_linux_aarch64.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -478,3 +478,2 @@\n-  intptr_t *sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" INTPTR_FORMAT \")\", p2i(sp));\n-  print_hex_dump(st, (address)sp, (address)(sp + 8*sizeof(intptr_t)), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_arm\/os_linux_arm.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -472,3 +472,2 @@\n-  intptr_t *sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(sp));\n-  print_hex_dump(st, (address)sp, (address)(sp + 128), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_ppc\/os_linux_ppc.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -353,3 +353,2 @@\n-  intptr_t *frame_sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(frame_sp));\n-  print_hex_dump(st, (address)frame_sp, (address)(frame_sp + 64), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_riscv\/os_linux_riscv.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -444,3 +444,2 @@\n-  intptr_t *sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(sp));\n-  print_hex_dump(st, (address)sp, (address)(sp + 128), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_s390\/os_linux_s390.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -582,3 +582,2 @@\n-  intptr_t *sp = (intptr_t *)os::Linux::ucontext_get_sp(uc);\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(sp));\n-  print_hex_dump(st, (address)sp, (address)(sp + 8), sizeof(intptr_t));\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -215,3 +215,2 @@\n-  intptr_t *sp = (intptr_t *)uc->Sp;\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", sp);\n-  print_hex_dump(st, (address)sp, (address)(sp + 32), sizeof(intptr_t));\n+  address sp = (address)uc->Sp;\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/windows_aarch64\/os_windows_aarch64.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -452,3 +452,2 @@\n-  intptr_t *sp = (intptr_t *)uc->REG_SP;\n-  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", sp);\n-  print_hex_dump(st, (address)sp, (address)(sp + 32), sizeof(intptr_t));\n+  address sp = (address)uc->REG_SP;\n+  print_stack(st, sp, sizeof(intptr_t));\n","filename":"src\/hotspot\/os_cpu\/windows_x86\/os_windows_x86.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -938,0 +938,5 @@\n+void os::print_stack(outputStream* st, address sp, int unitsize) {\n+  st->print_cr(\"Top of Stack: (sp=\" PTR_FORMAT \")\", p2i(sp));\n+  print_hex_dump(st, sp, sp + 512, unitsize);\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -766,0 +766,1 @@\n+  static void print_stack(outputStream* st, address sp, int unitsize);\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}