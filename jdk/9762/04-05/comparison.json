{"files":[{"patch":"@@ -57,10 +57,4 @@\n-        if (type == UserDefinedFileAttributeView.class) {\n-            return (V) new BsdUserDefinedFileAttributeView(UnixPath.toUnixPath(obj),\n-                    Util.followLinks(options));\n-        }\n-        if (type == BasicFileAttributeView.class) {\n-            UnixPath file = UnixPath.toUnixPath(obj);\n-            boolean followLinks = Util.followLinks(options);\n-            return (V) BsdFileAttributeViews.createBasicView(file, followLinks);\n-        }\n-        if (type == PosixFileAttributeView.class) {\n+        if (type == BasicFileAttributeView.class ||\n+            type == PosixFileAttributeView.class ||\n+            type == UserDefinedFileAttributeView.class) {\n+\n@@ -69,1 +63,9 @@\n-            return (V) BsdFileAttributeViews.createPosixView(file, followLinks);\n+\n+            if (type == BasicFileAttributeView.class)\n+                return (V) BsdFileAttributeViews.createBasicView(file,\n+                                                                 followLinks);\n+            else if (type == PosixFileAttributeView.class)\n+                return (V) BsdFileAttributeViews.createPosixView(file,\n+                                                                 followLinks);\n+            \/\/ user-defined is the only possibility\n+            return (V) new BsdUserDefinedFileAttributeView(file, followLinks);\n@@ -71,0 +73,1 @@\n+\n@@ -79,15 +82,3 @@\n-        if (name.equals(\"user\")) {\n-            return new BsdUserDefinedFileAttributeView(UnixPath.toUnixPath(obj),\n-                    Util.followLinks(options));\n-        }\n-        if (name.equals(\"basic\")) {\n-            UnixPath file = UnixPath.toUnixPath(obj);\n-            boolean followLinks = Util.followLinks(options);\n-            return BsdFileAttributeViews.createBasicView(file, followLinks);\n-        }\n-        if (name.equals(\"posix\")) {\n-            UnixPath file = UnixPath.toUnixPath(obj);\n-            boolean followLinks = Util.followLinks(options);\n-            return BsdFileAttributeViews.createPosixView(file, followLinks);\n-        }\n-        if (name.equals(\"unix\")) {\n+        if (name.equals(\"basic\") || name.equals(\"posix\") ||\n+            name.equals(\"unix\")  || name.equals(\"user\")) {\n+\n@@ -96,1 +87,12 @@\n-            return BsdFileAttributeViews.createUnixView(file, followLinks);\n+\n+            if (name.equals(\"basic\"))\n+                return BsdFileAttributeViews.createBasicView(file, followLinks);\n+\n+            if (name.equals(\"posix\"))\n+                return BsdFileAttributeViews.createPosixView(file, followLinks);\n+\n+            if (name.equals(\"unix\"))\n+                return BsdFileAttributeViews.createUnixView(file, followLinks);\n+\n+            \/\/ user-defined is the only possibility\n+            return new BsdUserDefinedFileAttributeView(file, followLinks);\n@@ -98,0 +100,1 @@\n+\n","filename":"src\/java.base\/macosx\/classes\/sun\/nio\/fs\/BsdFileSystemProvider.java","additions":30,"deletions":27,"binary":false,"changes":57,"status":"modified"}]}