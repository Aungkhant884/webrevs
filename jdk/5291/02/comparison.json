{"files":[{"patch":"@@ -606,3 +606,1 @@\n-        if (getCoder() != asb.getCoder()) {\n-            inflate();\n-        }\n+        inflateIfNeededFor(asb);\n@@ -1715,2 +1713,8 @@\n-    private void putStringAt(int index, String str, int off, int end) {\n-        if (getCoder() != str.coder()) {\n+    private void inflateIfNeededFor(String input) {\n+        if (COMPACT_STRINGS && (coder != input.coder())) {\n+            inflate();\n+        }\n+    }\n+\n+    private void inflateIfNeededFor(AbstractStringBuilder input) {\n+        if (COMPACT_STRINGS && (coder != input.getCoder())) {\n@@ -1719,0 +1723,4 @@\n+    }\n+\n+    private void putStringAt(int index, String str, int off, int end) {\n+        inflateIfNeededFor(str);\n@@ -1723,1 +1731,2 @@\n-        putStringAt(index, str, 0, str.length());\n+        inflateIfNeededFor(str);\n+        str.getBytes(value, index, coder);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/AbstractStringBuilder.java","additions":15,"deletions":6,"binary":false,"changes":21,"status":"modified"}]}