{"files":[{"patch":"@@ -710,1 +710,1 @@\n-              _out->print(\"\\\"%s\\\"\", (ascii_value != NULL) ? ascii_value : \"\");\n+              _out->print_cr(\"\\\"%s\\\"\", (ascii_value != NULL) ? ascii_value : \"\");\n","filename":"src\/hotspot\/share\/ci\/ciInstanceKlass.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -131,1 +131,0 @@\n-  int   _buffer_pos;\n@@ -156,1 +155,0 @@\n-    _buffer_pos = 0;\n@@ -192,4 +190,0 @@\n-    \/\/ Restore the _buffer contents for error reporting\n-    for (int i = 0; i < _buffer_pos; i++) {\n-      if (_buffer[i] == '\\0') _buffer[i] = ' ';\n-    }\n@@ -235,0 +229,4 @@\n+  \/\/ Ignore the rest of the line\n+  void skip_remaining() {\n+    _bufptr = &_bufptr[strlen(_bufptr)]; \/\/ skip ahead to terminator\n+  }\n@@ -584,0 +582,1 @@\n+    int buffer_pos = 0;\n@@ -585,1 +584,1 @@\n-      if (_buffer_pos + 1 >= _buffer_length) {\n+      if (buffer_pos + 1 >= _buffer_length) {\n@@ -597,1 +596,1 @@\n-        _buffer[_buffer_pos++] = c;\n+        _buffer[buffer_pos++] = c;\n@@ -602,2 +601,1 @@\n-    _buffer[_buffer_pos] = '\\0'; \/\/ NL or EOF\n-    _buffer_pos = 0;\n+    _buffer[buffer_pos] = '\\0'; \/\/ NL or EOF\n@@ -617,1 +615,2 @@\n-        tty->print_cr(\"Error while parsing line %d: %s\\n\", line_no, _error_message);\n+        int pos = _bufptr - _buffer + 1;\n+        tty->print_cr(\"Error while parsing line %d at position %d: %s\\n\", line_no, pos, _error_message);\n@@ -635,1 +634,5 @@\n-      \/\/ ignore\n+      \/\/ comment line, print or ignore\n+      if (Verbose) {\n+        tty->print_cr(\"# %s\", _bufptr);\n+      }\n+      skip_remaining();\n@@ -655,0 +658,3 @@\n+    if (!had_error() && *_bufptr != '\\0') {\n+      report_error(\"line not properly terminated\");\n+    }\n@@ -880,3 +886,7 @@\n-    if (is_comment && Verbose) {\n-      const char* hidden = parse_string();\n-      tty->print_cr(\"Found %s for %s\", k->name()->as_quoted_ascii(), hidden);\n+    \/\/ comment, print or ignore\n+    if (is_comment) {\n+      if (Verbose) {\n+        const char* hidden = parse_string();\n+        tty->print_cr(\"Found %s for %s\", k->name()->as_quoted_ascii(), hidden);\n+      }\n+      skip_remaining();\n@@ -993,0 +1003,1 @@\n+      skip_remaining();\n","filename":"src\/hotspot\/share\/ci\/ciReplay.cpp","additions":26,"deletions":15,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -84,0 +84,6 @@\n+        private static final String emptyString;\n+\n+        static {\n+          emptyString = \"\";\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/ciReplay\/CiReplayBase.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}