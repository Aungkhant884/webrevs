{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+import java.net.URLClassLoader;\n@@ -62,0 +63,1 @@\n+import sun.security.tools.PathList;\n@@ -155,0 +157,1 @@\n+    String pathlist = null;\n@@ -249,1 +252,14 @@\n-                ClassLoader cl = ClassLoader.getSystemClassLoader();\n+                ClassLoader cl;\n+                if (pathlist != null) {\n+                    String path = null;\n+                    path = PathList.appendPath(\n+                            path, System.getProperty(\"java.class.path\"));\n+                    path = PathList.appendPath(\n+                            path, System.getProperty(\"env.class.path\"));\n+                    path = PathList.appendPath(path, pathlist);\n+\n+                    URL[] urls = PathList.pathToURLs(path);\n+                    cl = new URLClassLoader(urls);\n+                } else {\n+                    cl = ClassLoader.getSystemClassLoader();\n+                }\n@@ -437,0 +453,3 @@\n+            } else if (collator.compare(flags, \"-providerpath\") == 0) {\n+                if (++n == args.length) usageNoArg();\n+                pathlist = args[n];\n@@ -708,0 +727,3 @@\n+        System.out.println(rb.getString\n+                (\".providerPath.option\"));\n+        System.out.println();\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Main.java","additions":24,"deletions":2,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -122,0 +122,2 @@\n+        {\".providerPath.option\",\n+                \"[-providerPath <list>]      provider classpath\"},\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/security\/tools\/jarsigner\/Resources.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 4906940 8130302 8194152\n+ * @bug 4906940 8130302 8194152 8281175\n@@ -84,5 +84,0 @@\n-        \/\/ legacy use (-providerPath only supported by keytool)\n-        testKeytool(\"-providerPath mods\/test.dummy \" +\n-                \"-providerClass org.test.dummy.DummyProvider -providerArg full\",\n-                0, \"loadProviderByClass: org.test.dummy.DummyProvider\");\n-\n@@ -90,1 +85,1 @@\n-        testBoth(\"-J-cp -Jmods\/test.dummy \" +\n+        testBoth(\"-providerpath mods\/test.dummy \" +\n@@ -95,1 +90,1 @@\n-        testBoth(\"-J-cp -Jmods\/test.dummy \" +\n+        testBoth(\"-providerpath mods\/test.dummy \" +\n@@ -100,1 +95,1 @@\n-        testBoth(\"-J-cp -Jmods\/test.dummy \" +\n+        testBoth(\"-providerpath mods\/test.dummy \" +\n@@ -105,1 +100,1 @@\n-        testBoth(\"-J-cp -Jmods\/test.dummy \" +\n+        testBoth(\"-providerpath mods\/test.dummy \" +\n@@ -110,1 +105,1 @@\n-        testBoth(\"-J-cp -Jmods\/test.dummy \" +\n+        testBoth(\"-providerpath mods\/test.dummy \" +\n","filename":"test\/jdk\/sun\/security\/tools\/jarsigner\/AltProvider.java","additions":7,"deletions":12,"binary":false,"changes":19,"status":"modified"}]}