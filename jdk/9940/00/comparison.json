{"files":[{"patch":"@@ -35,7 +35,0 @@\n-import java.awt.BorderLayout;\n-import java.io.IOException;\n-import java.io.ObjectInput;\n-import java.io.ObjectOutput;\n-import java.io.Serializable;\n-import javax.swing.*;\n-import javax.swing.border.Border;\n@@ -49,6 +42,1 @@\n-import org.openide.util.Exceptions;\n-import org.openide.util.Lookup;\n-import org.openide.util.LookupEvent;\n-import org.openide.util.LookupListener;\n-import org.openide.util.NbBundle;\n-import org.openide.util.Utilities;\n+import org.openide.util.*;\n@@ -59,0 +47,8 @@\n+import javax.swing.*;\n+import javax.swing.border.Border;\n+import java.awt.*;\n+import java.io.IOException;\n+import java.io.ObjectInput;\n+import java.io.ObjectOutput;\n+import java.io.Serializable;\n+\n@@ -100,2 +96,3 @@\n-        Border b = (Border) UIManager.get(\"Nb.Editor.Toolbar.border\"); \/\/NOI18N\n-        toolbar.setBorder(b);\n+        toolbar.setBorder((Border) UIManager.get(\"Nb.Editor.Toolbar.border\")); \/\/NOI18N\n+        toolbar.setMinimumSize(new Dimension(0,0)); \/\/ MacOS BUG with ToolbarWithOverflow\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/OutlineTopComponent.java","additions":12,"deletions":15,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -33,11 +33,0 @@\n-import java.awt.BorderLayout;\n-import java.awt.event.ActionEvent;\n-import java.awt.event.ActionListener;\n-import java.io.*;\n-import java.util.*;\n-import java.util.logging.Level;\n-import java.util.logging.Logger;\n-import javax.script.*;\n-import javax.swing.JComboBox;\n-import javax.swing.UIManager;\n-import javax.swing.border.Border;\n@@ -62,0 +51,15 @@\n+import javax.script.ScriptContext;\n+import javax.script.ScriptEngine;\n+import javax.script.ScriptEngineManager;\n+import javax.script.ScriptException;\n+import javax.swing.*;\n+import javax.swing.border.Border;\n+import java.awt.*;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.io.*;\n+import java.util.List;\n+import java.util.*;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+\n@@ -363,2 +367,3 @@\n-        Border b = (Border) UIManager.get(\"Nb.Editor.Toolbar.border\"); \/\/NOI18N\n-        toolBar.setBorder(b);\n+        toolBar.setBorder((Border) UIManager.get(\"Nb.Editor.Toolbar.border\")); \/\/NOI18N\n+        toolBar.setMinimumSize(new Dimension(0,0)); \/\/ MacOS BUG with ToolbarWithOverflow\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/FilterWindow\/src\/main\/java\/com\/sun\/hotspot\/igv\/filterwindow\/FilterTopComponent.java","additions":18,"deletions":13,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -26,6 +26,6 @@\n-import com.sun.hotspot.igv.data.ChangedEvent;\n-import com.sun.hotspot.igv.data.ChangedListener;\n-import com.sun.hotspot.igv.data.GraphDocument;\n-import com.sun.hotspot.igv.data.Group;\n-import com.sun.hotspot.igv.data.InputNode;\n-import com.sun.hotspot.igv.data.InputBlock;\n+import com.lowagie.text.Document;\n+import com.lowagie.text.Rectangle;\n+import com.lowagie.text.pdf.PdfContentByte;\n+import com.lowagie.text.pdf.PdfGraphics2D;\n+import com.lowagie.text.pdf.PdfTemplate;\n+import com.lowagie.text.pdf.PdfWriter;\n@@ -33,0 +33,1 @@\n+import com.sun.hotspot.igv.data.*;\n@@ -40,0 +41,1 @@\n+import com.sun.hotspot.igv.settings.Settings;\n@@ -42,1 +44,0 @@\n-import com.sun.hotspot.igv.settings.Settings;\n@@ -44,14 +45,0 @@\n-import java.awt.*;\n-import java.awt.event.ActionEvent;\n-import java.awt.event.HierarchyBoundsListener;\n-import java.awt.event.HierarchyEvent;\n-import java.awt.event.KeyEvent;\n-import java.awt.event.KeyListener;\n-import java.beans.PropertyChangeEvent;\n-import java.beans.PropertyChangeListener;\n-import java.io.*;\n-import java.nio.charset.StandardCharsets;\n-import java.util.List;\n-import java.util.*;\n-import javax.swing.*;\n-import javax.swing.border.Border;\n@@ -61,7 +48,0 @@\n-import com.lowagie.text.Document;\n-import com.lowagie.text.Rectangle;\n-import com.lowagie.text.pdf.PdfWriter;\n-import com.lowagie.text.pdf.PdfContentByte;\n-import com.lowagie.text.pdf.PdfTemplate;\n-import com.lowagie.text.pdf.PdfGraphics2D;\n-import org.w3c.dom.DOMImplementation;\n@@ -82,1 +62,0 @@\n-import org.openide.windows.Mode;\n@@ -84,1 +63,12 @@\n-import org.openide.windows.WindowManager;\n+import org.w3c.dom.DOMImplementation;\n+\n+import javax.swing.*;\n+import javax.swing.border.Border;\n+import java.awt.*;\n+import java.awt.event.*;\n+import java.beans.PropertyChangeEvent;\n+import java.beans.PropertyChangeListener;\n+import java.io.*;\n+import java.nio.charset.StandardCharsets;\n+import java.util.List;\n+import java.util.*;\n@@ -86,1 +76,0 @@\n-import static java.nio.charset.StandardCharsets.UTF_8;\n@@ -95,1 +84,0 @@\n-    private Toolbar toolBar;\n@@ -113,10 +101,3 @@\n-\n-    private static final Component quicksearch;\n-    static {\n-        Action searchAction = Utilities.actionsForPath(\"Actions\/Search\").get(0);\n-        quicksearch = ((Presenter.Toolbar) searchAction).getToolbarPresenter();\n-        Dimension preferredSize = quicksearch.getPreferredSize();\n-        preferredSize = new Dimension((int) preferredSize.getWidth() * 2, (int) preferredSize.getHeight());\n-        quicksearch.setMinimumSize(preferredSize); \/\/ necessary for GTK LAF\n-        quicksearch.setPreferredSize(preferredSize);\n-    }\n+    private JPanel topPanel;\n+    private Toolbar quickSearchToolbar;\n+    private static final JPanel quickSearchPresenter = (JPanel) ((Presenter.Toolbar) Utilities.actionsForPath(\"Actions\/Search\").get(0)).getToolbarPresenter();\n@@ -211,3 +192,4 @@\n-        toolBar = new Toolbar();\n-        Border b = (Border) UIManager.get(\"Nb.Editor.Toolbar.border\"); \/\/NOI18N\n-        toolBar.setBorder(b);\n+        Toolbar toolBar = new Toolbar();\n+        toolBar.setBorder((Border) UIManager.get(\"Nb.Editor.Toolbar.border\")); \/\/NOI18N\n+        toolBar.setMinimumSize(new Dimension(0,0)); \/\/ MacOS BUG with ToolbarWithOverflow\n+\n@@ -327,1 +309,0 @@\n-\n@@ -329,1 +310,17 @@\n-        toolBar.add(quicksearch);\n+\n+        quickSearchToolbar = new Toolbar();\n+        quickSearchToolbar.setLayout(new BoxLayout(quickSearchToolbar, BoxLayout.LINE_AXIS));\n+        quickSearchToolbar.setBorder((Border) UIManager.get(\"Nb.Editor.Toolbar.border\")); \/\/NOI18N\n+        quickSearchPresenter.setMinimumSize(quickSearchPresenter.getPreferredSize());\n+        quickSearchPresenter.setAlignmentX(Component.RIGHT_ALIGNMENT);\n+        quickSearchToolbar.add(quickSearchPresenter);\n+\n+        \/\/ Needed to for toolBar to use maximal available width\n+        JPanel toolbarPanel = new JPanel(new GridLayout(1, 0));\n+        toolbarPanel.add(toolBar);\n+\n+        topPanel = new JPanel();\n+        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n+        topPanel.add(toolbarPanel);\n+        topPanel.add(quickSearchToolbar);\n+        container.add(BorderLayout.NORTH, topPanel);\n@@ -661,1 +658,0 @@\n-        toolBar.add(quicksearch);\n@@ -664,0 +660,1 @@\n+        quickSearchToolbar.add(quickSearchPresenter);\n@@ -670,0 +667,1 @@\n+        quickSearchToolbar.add(quickSearchPresenter);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorTopComponent.java","additions":46,"deletions":48,"binary":false,"changes":94,"status":"modified"}]}