{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -471,1 +471,2 @@\n-static void check_and_push(context_type *context, const void *ptr, int kind);\n+static void check_and_push(context_type *context, void *ptr, int kind);\n+static void check_and_push_const(context_type *context, const void *ptr, int kind);\n@@ -607,1 +608,1 @@\n-    check_and_push(context, name, VM_STRING_UTF);\n+    check_and_push_const(context, name, VM_STRING_UTF);\n@@ -1308,1 +1309,1 @@\n-        check_and_push(context, methodname, VM_STRING_UTF);\n+        check_and_push_const(context, methodname, VM_STRING_UTF);\n@@ -1357,1 +1358,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -1655,1 +1656,1 @@\n-            check_and_push(context, classname, VM_STRING_UTF);\n+            check_and_push_const(context, classname, VM_STRING_UTF);\n@@ -1810,1 +1811,1 @@\n-    check_and_push(context, signature, VM_STRING_UTF);\n+    check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -2053,1 +2054,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -2079,1 +2080,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -2379,1 +2380,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -2761,1 +2762,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -2783,1 +2784,1 @@\n-            check_and_push(context, signature, VM_STRING_UTF);\n+            check_and_push_const(context, signature, VM_STRING_UTF);\n@@ -3624,1 +3625,1 @@\n-    check_and_push(context, classname, VM_STRING_UTF);\n+    check_and_push_const(context, classname, VM_STRING_UTF);\n@@ -3825,1 +3826,1 @@\n-                    buffer = calloc(length + 1, sizeof(char));\n+                    buffer = malloc(length + 1);\n@@ -4145,1 +4146,1 @@\n-static void check_and_push(context_type *context, const void *ptr, int kind)\n+static void check_and_push(context_type *context, void *ptr, int kind)\n@@ -4157,1 +4158,1 @@\n-            free_block((void *)ptr, kind);\n+            free_block(ptr, kind);\n@@ -4162,1 +4163,1 @@\n-    p->ptr = (void *)ptr;\n+    p->ptr = ptr;\n@@ -4167,0 +4168,4 @@\n+static void check_and_push_const(context_type *context, const void *ptr, int kind) {\n+  check_and_push(context, (void*)ptr, kind);\n+}\n+\n","filename":"src\/java.base\/share\/native\/libverify\/check_code.c","additions":22,"deletions":17,"binary":false,"changes":39,"status":"modified"}]}