{"files":[{"patch":"@@ -279,1 +279,4 @@\n-        if (length <= 0)\n+        long position = position();\n+        long size = length - position;\n+\n+        if (length <= 0 || size <= 0)\n@@ -282,1 +285,0 @@\n-        long size = length - position();\n@@ -284,2 +286,3 @@\n-            String msg = String.format(\"Required array size too large: %d = %d - %d\",\n-                size, length, position());\n+            String msg =\n+                String.format(\"Required array size too large: %d = %d - %d\",\n+                    size, length, position);\n@@ -288,2 +291,0 @@\n-        if (size <= 0L)\n-            return new byte[0];\n@@ -321,0 +322,1 @@\n+\n@@ -322,2 +324,2 @@\n-        if (length <= 0)\n-            return super.readNBytes(len);\n+        long position = position();\n+        long size = length - position;\n@@ -325,3 +327,2 @@\n-        long size = length - position();\n-        if (size <= 0L)\n-            return new byte[0];\n+        if (length <= 0 || size <= 0)\n+            return super.readNBytes(len);\n","filename":"src\/java.base\/share\/classes\/java\/io\/FileInputStream.java","additions":12,"deletions":11,"binary":false,"changes":23,"status":"modified"}]}