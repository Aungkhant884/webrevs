{"files":[{"patch":"@@ -49,1 +49,0 @@\n-\n@@ -52,4 +51,15 @@\n-    assert(_collector->live_words(region_index) > _collector->scope()->region_compaction_threshold() ||\n-         !r->is_starts_humongous() ||\n-         _collector->mark_bitmap()->is_marked(cast_to_oop(r->bottom())),\n-         \"must be, otherwise reclaimed earlier\");\n+#ifdef ASSERT\n+    if (r->is_humongous()) {\n+      oop obj = cast_to_oop(r->humongous_start_region()->bottom());\n+      assert(_collector->mark_bitmap()->is_marked(obj), \"must be live\");\n+    } else if (r->is_open_archive()) {\n+      bool is_empty = (_collector->live_words(r->hrm_index()) == 0);\n+      assert(!is_empty, \"should contain at least one live obj\");\n+    } else if (r->is_closed_archive()) {\n+      \/\/ should early-return above\n+      ShouldNotReachHere();\n+    } else {\n+      assert(_collector->live_words(region_index) > _collector->scope()->region_compaction_threshold(),\n+             \"should be quite full\");\n+    }\n+#endif\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCCompactTask.cpp","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"}]}