{"files":[{"patch":"@@ -402,19 +402,0 @@\n-static inline bool target_needs_trampoline(Address entry) {\n-  if (entry.rspec().type() == relocInfo::runtime_call_type) {\n-    \/\/ Runtime calls are statically bound.\n-    \/\/ Once they are generated neither a caller nor a callee address cannot be changed.\n-    \/\/ Check whether a far branch is needed to reach the target.\n-    return target_needs_far_branch(entry.target());\n-  } else {\n-    assert(entry.rspec().type() == relocInfo::opt_virtual_call_type\n-           || entry.rspec().type() == relocInfo::static_call_type\n-           || entry.rspec().type() == relocInfo::virtual_call_type, \"wrong reloc type: not Java method call\");\n-    \/\/ Other calls are Java calls.\n-    \/\/ A callee address can be changed at any time as a result of\n-    \/\/ callee deoptimization or the callee being C1 compiled has become C2 compiled.\n-    \/\/ If CodeCache size > 128M, such calls must have reserved trampolines for cases\n-    \/\/ when a new callee address out of 128M range.\n-    return MacroAssembler::far_branches();\n-  }\n-}\n-\n@@ -582,1 +563,0 @@\n-\n@@ -589,2 +569,11 @@\n-\n-  bool need_trampoline = target_needs_trampoline(entry);\n+  assert(CodeCache::contains(entry.target()), \"target outside CodeCache\");\n+\n+  \/\/ Runtime calls are statically bound.\n+  \/\/ Once they are generated a call site cannot be changed.\n+  \/\/ Use target_needs_far_branch to check whether a far branch is needed.\n+  \/\/ For Java calls a callee can be changed at any time as a result of\n+  \/\/ callee deoptimization or the callee being C1 compiled has become C2 compiled.\n+  \/\/ If CodeCache size > 128M, such Java calls must have reserved trampolines for cases\n+  \/\/ when a new callee address out of 128M range.\n+  bool need_trampoline = (entry.rspec().type() == relocInfo::runtime_call_type) ?\n+      target_needs_far_branch(entry.target()) : far_branches();\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":11,"deletions":22,"binary":false,"changes":33,"status":"modified"}]}