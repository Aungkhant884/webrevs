{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,1 +50,1 @@\n- * The test consists of two cases as follows:                           <BR>\n+ * The test consists of one test case as follows:                       <BR>\n@@ -53,2 +53,0 @@\n- * - both debuggee's threads are locked up at synchronized block and    <BR>\n- *   are suspended by java.lang.Thread.suspend() method;                <BR>\n@@ -214,1 +212,3 @@\n-        log2(\"......interrupting the thread2\");\n+        log2(\"......thread2 is \" + (thread2.isVirtual() ? \"\" : \"not \") + \"a virtual thread\");\n+\n+        log2(\"......interrupting thread2\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/interrupt\/interrupt001.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -68,1 +68,1 @@\n-    private static interrupt001aThread thread2 = null;\n+    private static Thread thread2 = null;\n@@ -70,1 +70,1 @@\n-    private static interrupt001aThread thread3 = null;\n+    private static Thread thread3 = null;\n@@ -105,1 +105,1 @@\n-                synchronized (interrupt001aThread.lockingObject) {\n+                synchronized (interrupt001aTask.lockingObject) {\n@@ -145,3 +145,4 @@\n-    private static interrupt001aThread threadStart(String threadName) {\n-        interrupt001aThread resultThread = new interrupt001aThread(threadName);\n-        synchronized (resultThread.waitnotifyObj) {\n+    private static Thread threadStart(String threadName) {\n+        interrupt001aTask resultRunnable = new interrupt001aTask(threadName);\n+        Thread resultThread = JDIThreadFactory.newThread(resultRunnable, threadName);\n+        synchronized (resultRunnable.waitnotifyObj) {\n@@ -151,2 +152,2 @@\n-                while (!resultThread.ready)\n-                    resultThread.waitnotifyObj.wait();\n+                while (!resultRunnable.ready)\n+                    resultRunnable.waitnotifyObj.wait();\n@@ -208,1 +209,1 @@\n-class interrupt001aThread extends Thread {\n+class interrupt001aTask extends NamedTask {\n@@ -210,2 +211,2 @@\n-    public interrupt001aThread(String threadName) {\n-        super(threadName);\n+    public interrupt001aTask(String taskName) {\n+        super(taskName);\n@@ -238,1 +239,1 @@\n-        interrupt001a.log2(Thread.currentThread().getName() + \" : \" + str);\n+        interrupt001a.log2(getName() + \" : \" + str);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jdi\/ThreadReference\/interrupt\/interrupt001a.java","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"}]}