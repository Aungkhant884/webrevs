{"files":[{"patch":"@@ -34,27 +34,0 @@\n-    private static final boolean IS_PREVIEW = getIsPreview();\n-\n-    \/**\n-     * { @return true if vm is in preview mode }\n-     *\/\n-    public static boolean isPreview() {\n-        return IS_PREVIEW;\n-    }\n-\n-    \/*\n-     * TODO: not perfect, if user adds \"--enable-preview\" after class argument then will get false positive.\n-     *\/\n-    private static boolean getIsPreview() {\n-        String[] args = VM.getRuntimeArguments();\n-\n-        if (args != null) {\n-            for (String arg : args) {\n-                if (\"--enable-preview\".equals(arg)) {\n-                    return true;\n-                }\n-            }\n-        }\n-\n-        return false;\n-    }\n-\n-\n@@ -176,1 +149,1 @@\n-            if (!isPreview()) {\n+            if (!PreviewFeatures.isEnabled()) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/MainMethodFinder.java","additions":1,"deletions":28,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -88,0 +88,1 @@\n+import jdk.internal.misc.PreviewFeatures;\n@@ -894,1 +895,1 @@\n-        if (!MainMethodFinder.isPreview()) {\n+        if (!PreviewFeatures.isEnabled()) {\n","filename":"src\/java.base\/share\/classes\/sun\/launcher\/LauncherHelper.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -89,0 +89,1 @@\n+import jdk.internal.misc.PreviewFeatures;\n@@ -437,1 +438,1 @@\n-            if (!MainMethodFinder.isPreview() && (!isStatic(main) || !isPublic(main))) {\n+            if (!PreviewFeatures.isEnabled() && (!isStatic(main) || !isPublic(main))) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/launcher\/Main.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}