{"files":[{"patch":"@@ -46,0 +46,1 @@\n+import javax.swing.UnsupportedLookAndFeelException;\n@@ -55,1 +56,0 @@\n-        UIManager.setLookAndFeel(\"com.sun.java.swing.plaf.gtk.GTKLookAndFeel\");\n@@ -58,6 +58,4 @@\n-        try {\n-            SwingUtilities.invokeAndWait(() -> {\n-                createAndShowUI();\n-            });\n-            robot.waitForIdle();\n-            robot.delay(1000);\n+        for (UIManager.LookAndFeelInfo laf :\n+                UIManager.getInstalledLookAndFeels()) {\n+            System.out.println(\"Testing LAF: \" + laf.getClassName());\n+            SwingUtilities.invokeAndWait(() -> setLookAndFeel(laf));\n@@ -65,3 +63,6 @@\n-            Point pt = fileChooser.getLocationOnScreen();\n-            int frameHeight = frame.getHeight();\n-            ClickMouse(pt, 0, frameHeight, 50);\n+            try {\n+                SwingUtilities.invokeAndWait(() -> {\n+                    createAndShowUI();\n+                });\n+                robot.waitForIdle();\n+                robot.delay(1000);\n@@ -69,4 +70,3 @@\n-            pt = getSelectedFilesButton.getLocationOnScreen();\n-            int btnWidth = getSelectedFilesButton.getWidth();\n-            int btnHeight = getSelectedFilesButton.getHeight();\n-            ClickMouse(pt, btnWidth, btnHeight, 0);\n+                Point pt = fileChooser.getLocationOnScreen();\n+                int frameHeight = frame.getHeight();\n+                ClickMouse(pt, 0, frameHeight, 50);\n@@ -74,10 +74,16 @@\n-            if (!passed)\n-                throw new RuntimeException(\"getSelectedFiles returned empty array.\");\n-            else\n-                System.out.println(\"passed\");\n-        } finally {\n-            SwingUtilities.invokeAndWait(() -> {\n-                if (frame != null) {\n-                    frame.dispose();\n-                }\n-            });\n+                pt = getSelectedFilesButton.getLocationOnScreen();\n+                int btnWidth = getSelectedFilesButton.getWidth();\n+                int btnHeight = getSelectedFilesButton.getHeight();\n+                ClickMouse(pt, btnWidth, btnHeight, 0);\n+\n+                if (!passed)\n+                    throw new RuntimeException(\"getSelectedFiles returned empty array.\");\n+                else\n+                    System.out.println(\"passed\");\n+            } finally {\n+                SwingUtilities.invokeAndWait(() -> {\n+                    if (frame != null) {\n+                        frame.dispose();\n+                    }\n+                });\n+            }\n@@ -115,0 +121,11 @@\n+    private static void setLookAndFeel(UIManager.LookAndFeelInfo laf) {\n+        try {\n+            UIManager.setLookAndFeel(laf.getClassName());\n+        } catch (UnsupportedLookAndFeelException ignored) {\n+            System.out.println(\"Unsupported LAF: \" + laf.getClassName());\n+        } catch (ClassNotFoundException | InstantiationException\n+                 | IllegalAccessException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n","filename":"test\/jdk\/com\/sun\/java\/swing\/plaf\/gtk\/TestFileChooserSingleDirectorySelection.java","additions":41,"deletions":24,"binary":false,"changes":65,"status":"modified"}]}