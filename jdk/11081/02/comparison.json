{"files":[{"patch":"@@ -632,1 +632,1 @@\n-      -DJNIEXPORT='__attribute__((visibility(\\\"hidden\\\")))'\"\n+      -DJNIEXPORT='[[gnu::visibility(\\\"hidden\\\")]]'\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,5 +64,0 @@\n-ifeq ($(VERSION_BUILD), )\n-  # Hotspot cannot handle an empty build number\n-  VERSION_BUILD := 0\n-endif\n-\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -211,1 +211,1 @@\n-  static ALWAYSINLINE void patch(address a, int msb, int lsb, uint64_t val) {\n+  ALWAYSINLINE static void patch(address a, int msb, int lsb, uint64_t val) {\n","filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-  int ALWAYSINLINE run(address insn_addr, address &target) {\n+  ALWAYSINLINE int run(address insn_addr, address &target) {\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3389,1 +3389,1 @@\n-static void NOINLINE\n+NOINLINE static void\n@@ -3431,1 +3431,1 @@\n-static void NOINLINE\n+NOINLINE static void\n","filename":"src\/hotspot\/cpu\/x86\/sharedRuntime_x86_64.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -604,1 +604,1 @@\n-static void NOINLINE _expand_stack_to(address bottom) {\n+NOINLINE static void _expand_stack_to(address bottom) {\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -233,1 +233,2 @@\n-static int SCANF_ARGS(2, 0) vread_statdata(const char* procfile, _SCANFMT_ const char* fmt, va_list args) {\n+SCANF_ARGS(2, 0)\n+static int vread_statdata(const char* procfile, _SCANFMT_ const char* fmt, va_list args) {\n@@ -262,1 +263,2 @@\n-static int SCANF_ARGS(2, 3) read_statdata(const char* procfile, _SCANFMT_ const char* fmt, ...) {\n+SCANF_ARGS(2, 3)\n+static int read_statdata(const char* procfile, _SCANFMT_ const char* fmt, ...) {\n@@ -397,1 +399,2 @@\n-static int SCANF_ARGS(1, 2) parse_stat(_SCANFMT_ const char* fmt, ...) {\n+SCANF_ARGS(1, 2)\n+static int parse_stat(_SCANFMT_ const char* fmt, ...) {\n","filename":"src\/hotspot\/os\/linux\/os_perf_linux.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -35,0 +35,2 @@\n+static unsigned __stdcall thread_native_entry(Thread*);\n+\n","filename":"src\/hotspot\/os\/windows\/os_windows.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-PRAGMA_DISABLE_MSVC_WARNING(4172)\n+PRAGMA_DISABLE_VISCPP_WARNING(4172)\n","filename":"src\/hotspot\/os_cpu\/windows_aarch64\/os_windows_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -335,1 +335,1 @@\n-PRAGMA_DISABLE_MSVC_WARNING(4172)\n+PRAGMA_DISABLE_VISCPP_WARNING(4172)\n","filename":"src\/hotspot\/os_cpu\/windows_x86\/os_windows_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -65,1 +65,2 @@\n-  void print(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void print(const char* format, ...);\n","filename":"src\/hotspot\/share\/c1\/c1_CFGPrinter.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -482,2 +482,2 @@\n-  static void fail_stop(const char *msg, ...) ATTRIBUTE_PRINTF(1, 2);\n-  static void fail_continue(const char *msg, ...) ATTRIBUTE_PRINTF(1, 2);\n+  ATTRIBUTE_PRINTF(1, 2) static void fail_stop(const char *msg, ...);\n+  ATTRIBUTE_PRINTF(1, 2) static void fail_continue(const char *msg, ...);\n","filename":"src\/hotspot\/share\/cds\/filemap.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -435,2 +435,2 @@\n-  void verify_error(ErrorContext ctx, const char* fmt, ...) ATTRIBUTE_PRINTF(3, 4);\n-  void class_format_error(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(3, 4) void verify_error(ErrorContext ctx, const char* fmt, ...);\n+  ATTRIBUTE_PRINTF(2, 3) void class_format_error(const char* fmt, ...);\n","filename":"src\/hotspot\/share\/classfile\/verifier.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-  void va_tag(bool push, const char* format, va_list ap) ATTRIBUTE_PRINTF(3, 0);\n+  ATTRIBUTE_PRINTF(3, 0) void va_tag(bool push, const char* format, va_list ap);\n@@ -72,1 +72,2 @@\n-  void      set_context(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void      set_context(const char* format, ...);\n","filename":"src\/hotspot\/share\/compiler\/compileLog.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -63,0 +63,1 @@\n+  ATTRIBUTE_PRINTF(2, 0)\n@@ -65,1 +66,1 @@\n-                           va_list args) ATTRIBUTE_PRINTF(2, 0);\n+                           va_list args);\n@@ -70,0 +71,1 @@\n+  ATTRIBUTE_PRINTF(2, 0)\n@@ -72,1 +74,1 @@\n-                     va_list args) ATTRIBUTE_PRINTF(2, 0);\n+                     va_list args);\n@@ -74,0 +76,1 @@\n+  ATTRIBUTE_PRINTF(2, 0)\n@@ -78,1 +81,1 @@\n-                               DEBUG_ONLY(COMMA int line)) ATTRIBUTE_PRINTF(2, 0);\n+                               DEBUG_ONLY(COMMA int line));\n@@ -97,1 +100,2 @@\n-  void write(const char* format, ...) ATTRIBUTE_PRINTF(2, 3) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void write(const char* format, ...) {\n@@ -104,1 +108,2 @@\n-  void write_and_debug(const char* format, ...) ATTRIBUTE_PRINTF(2, 3) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void write_and_debug(const char* format, ...) {\n","filename":"src\/hotspot\/share\/gc\/shared\/gcLogPrecious.hpp","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -987,1 +987,2 @@\n-    ZColumn left(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) {\n+    ATTRIBUTE_PRINTF(2, 3)\n+    ZColumn left(const char* fmt, ...) {\n@@ -1002,1 +1003,2 @@\n-    ZColumn right(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) {\n+    ATTRIBUTE_PRINTF(2, 3)\n+    ZColumn right(const char* fmt, ...) {\n@@ -1025,1 +1027,2 @@\n-    ZColumn center(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) {\n+    ATTRIBUTE_PRINTF(2, 3)\n+    ZColumn center(const char* fmt, ...) {\n","filename":"src\/hotspot\/share\/gc\/z\/zStat.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -176,1 +176,1 @@\n-  static void vlog(int level, const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n+  ATTRIBUTE_PRINTF(2, 0) static void vlog(int level, const char* format, va_list ap);\n@@ -179,1 +179,1 @@\n-  static void vtrace(int level, const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n+  ATTRIBUTE_PRINTF(2, 0) static void vtrace(int level, const char* format, va_list ap);\n@@ -183,5 +183,5 @@\n-  static void event(int level, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  static void event1(const char* format, ...) ATTRIBUTE_PRINTF(1, 2);\n-  static void event2(const char* format, ...) ATTRIBUTE_PRINTF(1, 2);\n-  static void event3(const char* format, ...) ATTRIBUTE_PRINTF(1, 2);\n-  static void event4(const char* format, ...) ATTRIBUTE_PRINTF(1, 2);\n+  ATTRIBUTE_PRINTF(2, 3) static void event(int level, const char* format, ...);\n+  ATTRIBUTE_PRINTF(1, 2) static void event1(const char* format, ...);\n+  ATTRIBUTE_PRINTF(1, 2) static void event2(const char* format, ...);\n+  ATTRIBUTE_PRINTF(1, 2) static void event3(const char* format, ...);\n+  ATTRIBUTE_PRINTF(1, 2) static void event4(const char* format, ...);\n","filename":"src\/hotspot\/share\/jvmci\/jvmci.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -347,1 +347,1 @@\n-  void fthrow_error(const char* file, int line, const char* format, ...) ATTRIBUTE_PRINTF(4, 5);\n+  ATTRIBUTE_PRINTF(4, 5) void fthrow_error(const char* file, int line, const char* format, ...);\n","filename":"src\/hotspot\/share\/jvmci\/jvmciEnv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -156,1 +156,1 @@\n-  LogImpl& name(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) { \\\n+  ATTRIBUTE_PRINTF(2, 3) LogImpl& name(const char* fmt, ...) { \\\n@@ -192,1 +192,2 @@\n-  static void print(const char* fmt, ...) ATTRIBUTE_PRINTF(1, 2) {\n+  ATTRIBUTE_PRINTF(1, 2)\n+  static void print(const char* fmt, ...) {\n","filename":"src\/hotspot\/share\/logging\/log.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-  LogHandle& name(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) { \\\n+  ATTRIBUTE_PRINTF(2, 3) LogHandle& name(const char* fmt, ...) { \\\n@@ -93,1 +93,2 @@\n-  void print(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void print(const char* fmt, ...) {\n","filename":"src\/hotspot\/share\/logging\/logHandle.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -124,2 +124,2 @@\n-  LogMessageBuffer& v##name(const char* fmt, va_list args) ATTRIBUTE_PRINTF(2, 0); \\\n-  LogMessageBuffer& name(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 0) LogMessageBuffer& v##name(const char* fmt, va_list args); \\\n+  ATTRIBUTE_PRINTF(2, 3) LogMessageBuffer& name(const char* fmt, ...);\n","filename":"src\/hotspot\/share\/logging\/logMessageBuffer.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -151,1 +151,2 @@\n-  void print(const char* fmt, ...) ATTRIBUTE_PRINTF(2, 3) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void print(const char* fmt, ...) {\n","filename":"src\/hotspot\/share\/logging\/logStream.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -410,3 +410,6 @@\n-  void  error_work                          (const char *format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n-  void  report_error                        (const char *format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void  verify_error                        (const char *format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void  error_work                          (const char *format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void  report_error                        (const char *format, ...);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void  verify_error                        (const char *format, ...);\n","filename":"src\/hotspot\/share\/oops\/generateOopMap.hpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -83,0 +83,2 @@\n+#define EMPTY(ARG)        (0-ARG-1)==1 && (ARG+0)!=-2\n+\n@@ -89,0 +91,3 @@\n+#if EMPTY(VERSION_BUILD)\n+int Abstract_VM_Version::_vm_build_number = 0;\n+#else\n@@ -90,0 +95,3 @@\n+#endif\n+\n+#undef EMPTY\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-  typedef jint (JNICALL *vfprintf_hook_t)(FILE *fp, const char *format, va_list args)  ATTRIBUTE_PRINTF(2, 0);\n+  typedef jint (JNICALL *vfprintf_hook_t ATTRIBUTE_PRINTF(2, 0))(FILE *fp, const char *format, va_list args);\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -322,1 +322,2 @@\n-  static void printError(bool verbose, const char* msg, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void printError(bool verbose, const char* msg, ...);\n","filename":"src\/hotspot\/share\/runtime\/flags\/jvmFlag.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-  void set_name(const char* format, ...)  ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3) void set_name(const char* format, ...);\n","filename":"src\/hotspot\/share\/runtime\/nonJavaThread.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -740,2 +740,2 @@\n-  static int vsnprintf(char* buf, size_t len, const char* fmt, va_list args) ATTRIBUTE_PRINTF(3, 0);\n-  static int snprintf(char* buf, size_t len, const char* fmt, ...) ATTRIBUTE_PRINTF(3, 4);\n+  ATTRIBUTE_PRINTF(3, 0) static int vsnprintf(char* buf, size_t len, const char* fmt, va_list args);\n+  ATTRIBUTE_PRINTF(3, 4) static int snprintf(char* buf, size_t len, const char* fmt, ...);\n","filename":"src\/hotspot\/share\/runtime\/os.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-#define PRAGMA_DISABLE_GCC_WARNING(name)\n+#define PRAGMA_DISABLE_GCC_WARNING(opt)\n@@ -47,2 +47,2 @@\n-#ifndef PRAGMA_DISABLE_MSVC_WARNING\n-#define PRAGMA_DISABLE_MSVC_WARNING(num)\n+#ifndef PRAGMA_DISABLE_VISCPP_WARNING\n+#define PRAGMA_DISABLE_VISCPP_WARNING(num)\n","filename":"src\/hotspot\/share\/utilities\/compilerWarnings.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n-#define ATTRIBUTE_PRINTF(fmt,vargs)  __attribute__((format(printf, fmt, vargs)))\n+#define ATTRIBUTE_PRINTF(fmt,vargs)  [[gnu::format(printf, fmt, vargs)]]\n@@ -34,1 +34,1 @@\n-#define ATTRIBUTE_SCANF(fmt,vargs)  __attribute__((format(scanf, fmt, vargs)))\n+#define ATTRIBUTE_SCANF(fmt,vargs)  [[gnu::format(scanf, fmt, vargs)]]\n@@ -37,3 +37,11 @@\n-#define PRAGMA_DISABLE_GCC_WARNING_AUX(x) _Pragma(#x)\n-#define PRAGMA_DISABLE_GCC_WARNING(option_string) \\\n-  PRAGMA_DISABLE_GCC_WARNING_AUX(GCC diagnostic ignored option_string)\n+#if defined(__clang_major__) && \\\n+      (__clang_major__ >= 4 || \\\n+      (__clang_major__ >= 3 && __clang_minor__ >= 1)) || \\\n+    ((__GNUC__ == 4) && (__GNUC_MINOR__ >= 6)) || (__GNUC__ > 4)\n+\/\/ Tested to work with clang version 3.1 and better.\n+#define PRAGMA_DIAG_PUSH             _Pragma(\"GCC diagnostic push\")\n+#define PRAGMA_DIAG_POP              _Pragma(\"GCC diagnostic pop\")\n+\n+#endif \/\/ clang\/gcc version check\n+\n+#define PRAGMA_DISABLE_GCC_WARNING(opt) PRAGMA(GCC diagnostic ignored opt)\n@@ -59,12 +67,1 @@\n-#define PRAGMA_NONNULL_IGNORED \\\n-  PRAGMA_DISABLE_GCC_WARNING(\"-Wnonnull\")\n-\n-#if defined(__clang_major__) && \\\n-      (__clang_major__ >= 4 || \\\n-      (__clang_major__ >= 3 && __clang_minor__ >= 1)) || \\\n-    ((__GNUC__ == 4) && (__GNUC_MINOR__ >= 6)) || (__GNUC__ > 4)\n-\/\/ Tested to work with clang version 3.1 and better.\n-#define PRAGMA_DIAG_PUSH             _Pragma(\"GCC diagnostic push\")\n-#define PRAGMA_DIAG_POP              _Pragma(\"GCC diagnostic pop\")\n-\n-#endif \/\/ clang\/gcc version check\n+#define PRAGMA_NONNULL_IGNORED PRAGMA_DISABLE_GCC_WARNING(\"-Wnonnull\")\n@@ -88,1 +85,1 @@\n-  extern \"C\" __attribute__((__warning__(alternative))) signature;\n+  extern \"C\" [[gnu::warning(alternative)]] signature;\n","filename":"src\/hotspot\/share\/utilities\/compilerWarnings_gcc.hpp","additions":15,"deletions":18,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -28,2 +28,2 @@\n-#define PRAGMA_DIAG_PUSH __pragma(warning(push))\n-#define PRAGMA_DIAG_POP  __pragma(warning(pop))\n+#define PRAGMA_DIAG_PUSH _Pragma(\"warning(push)\")\n+#define PRAGMA_DIAG_POP  _Pragma(\"warning(pop)\")\n@@ -31,1 +31,1 @@\n-#define PRAGMA_DISABLE_MSVC_WARNING(num) __pragma(warning(disable : num))\n+#define PRAGMA_DISABLE_VISCPP_WARNING(num) PRAGMA(warning(disable : num))\n@@ -64,1 +64,1 @@\n-  PRAGMA_DISABLE_MSVC_WARNING(4996)             \\\n+  PRAGMA_DISABLE_VISCPP_WARNING(4996)           \\\n","filename":"src\/hotspot\/share\/utilities\/compilerWarnings_visCPP.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -166,0 +166,1 @@\n+ATTRIBUTE_PRINTF(4, 5)\n@@ -167,1 +168,1 @@\n-                     const char* detail_fmt, ...) ATTRIBUTE_PRINTF(4, 5);\n+                     const char* detail_fmt, ...);\n@@ -170,1 +171,3 @@\n-void report_fatal(VMErrorType error_type, const char* file, int line, const char* detail_fmt, ...) ATTRIBUTE_PRINTF(4, 5);\n+ATTRIBUTE_PRINTF(4, 5)\n+void report_fatal(VMErrorType error_type, const char* file, int line, const char* detail_fmt, ...);\n+ATTRIBUTE_PRINTF(5, 6)\n@@ -172,1 +175,1 @@\n-                             const char* detail_fmt, ...) ATTRIBUTE_PRINTF(5, 6);\n+                             const char* detail_fmt, ...);\n@@ -178,1 +181,1 @@\n-void warning(const char* format, ...) ATTRIBUTE_PRINTF(1, 2);\n+ATTRIBUTE_PRINTF(1, 2) void warning(const char* format, ...);\n","filename":"src\/hotspot\/share\/utilities\/debug.hpp","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -172,1 +172,2 @@\n-  void logv(Thread* thread, const char* format, va_list ap) ATTRIBUTE_PRINTF(3, 0) {\n+  ATTRIBUTE_PRINTF(3, 0)\n+  void logv(Thread* thread, const char* format, va_list ap) {\n@@ -183,1 +184,2 @@\n-  void log(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(3, 4) {\n+  ATTRIBUTE_PRINTF(3, 4)\n+  void log(Thread* thread, const char* format, ...) {\n@@ -257,1 +259,2 @@\n-  static void log(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log(Thread* thread, const char* format, ...);\n@@ -259,1 +262,2 @@\n-  static void log_vm_operation(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_vm_operation(Thread* thread, const char* format, ...);\n@@ -262,1 +266,2 @@\n-  static void log_exception(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_exception(Thread* thread, const char* format, ...);\n@@ -265,1 +270,2 @@\n-  static void log_redefinition(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_redefinition(Thread* thread, const char* format, ...);\n@@ -269,1 +275,2 @@\n-  static void log_class_loading(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_class_loading(Thread* thread, const char* format, ...);\n@@ -271,1 +278,2 @@\n-  static void log_deopt_message(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_deopt_message(Thread* thread, const char* format, ...);\n@@ -273,1 +281,2 @@\n-  static void log_dll_message(Thread* thread, const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  static void log_dll_message(Thread* thread, const char* format, ...);\n@@ -468,1 +477,2 @@\n-  void log_start(const char* format, va_list argp) ATTRIBUTE_PRINTF(2, 0);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void log_start(const char* format, va_list argp);\n@@ -481,2 +491,2 @@\n-  EventMarkWithLogFunction(const char* format, ...) ATTRIBUTE_PRINTF(2, 3) :\n-      EventMarkBase(log_function) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  EventMarkWithLogFunction(const char* format, ...) : EventMarkBase(log_function) {\n","filename":"src\/hotspot\/share\/utilities\/events.hpp","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -147,0 +147,1 @@\n+  ATTRIBUTE_PRINTF(5, 6)\n@@ -148,1 +149,1 @@\n-                     const char* format, ...) ATTRIBUTE_PRINTF(5, 6);\n+                     const char* format, ...);\n","filename":"src\/hotspot\/share\/utilities\/exceptions.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -45,1 +45,2 @@\n-  FormatBufferResource(const char * format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  FormatBufferResource(const char * format, ...);\n@@ -54,1 +55,1 @@\n-  inline FormatBuffer(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3) inline FormatBuffer(const char* format, ...);\n@@ -56,4 +57,4 @@\n-  inline FormatBuffer(FormatBufferDummy dummy, const char* format, va_list ap) ATTRIBUTE_PRINTF(3, 0);\n-  inline void append(const char* format, ...)  ATTRIBUTE_PRINTF(2, 3);\n-  inline void print(const char* format, ...)  ATTRIBUTE_PRINTF(2, 3);\n-  inline void printv(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n+  ATTRIBUTE_PRINTF(3, 0) inline FormatBuffer(FormatBufferDummy dummy, const char* format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 3) inline void append(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 3) inline void print(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 0) inline void printv(const char* format, va_list ap);\n","filename":"src\/hotspot\/share\/utilities\/formatBuffer.hpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-#define ATTRIBUTE_ALIGNED(x)\n+#define ATTRIBUTE_ALIGNED(x) alignas(x)\n@@ -440,1 +440,1 @@\n-typedef u_char*       address;\n+typedef uint8_t*      address;\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -155,7 +155,3 @@\n-#define NOINLINE     __attribute__ ((noinline))\n-#define ALWAYSINLINE inline __attribute__ ((always_inline))\n-#define ATTRIBUTE_FLATTEN __attribute__ ((flatten))\n-\n-\/\/ Alignment\n-\/\/\n-#define ATTRIBUTE_ALIGNED(x) __attribute__((aligned(x)))\n+#define NOINLINE     [[gnu::noinline]]\n+#define ALWAYSINLINE [[gnu::always_inline]]\n+#define ATTRIBUTE_FLATTEN [[gnu::flatten]]\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions_gcc.hpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -125,3 +125,0 @@\n-\/\/ Alignment\n-#define ATTRIBUTE_ALIGNED(x) __declspec(align(x))\n-\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions_visCPP.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-  void error(JSON_ERROR e, const char* format, ...) ATTRIBUTE_PRINTF(3, 4);\n+  ATTRIBUTE_PRINTF(3, 4) void error(JSON_ERROR e, const char* format, ...);\n","filename":"src\/hotspot\/share\/utilities\/json.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,4 @@\n+\/\/ For when Pragmas need to be reliably nested in macros. Also handles\n+\/\/ quotation marks, so use sites are not required to pass string literals\n+#define PRAGMA(str) _Pragma(#str)\n+\n","filename":"src\/hotspot\/share\/utilities\/macros.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -59,0 +59,1 @@\n+   ATTRIBUTE_PRINTF(3, 0)\n@@ -62,1 +63,1 @@\n-                                   size_t& result_len)  ATTRIBUTE_PRINTF(3, 0);\n+                                   size_t& result_len);\n@@ -65,1 +66,1 @@\n-   void do_vsnprintf_and_write_with_automatic_buffer(const char* format, va_list ap, bool add_cr) ATTRIBUTE_PRINTF(2, 0);\n+   ATTRIBUTE_PRINTF(2, 0) void do_vsnprintf_and_write_with_automatic_buffer(const char* format, va_list ap, bool add_cr);\n@@ -67,1 +68,1 @@\n-   void do_vsnprintf_and_write_with_scratch_buffer(const char* format, va_list ap, bool add_cr) ATTRIBUTE_PRINTF(2, 0);\n+   ATTRIBUTE_PRINTF(2, 0) void do_vsnprintf_and_write_with_scratch_buffer(const char* format, va_list ap, bool add_cr);\n@@ -69,1 +70,1 @@\n-   void do_vsnprintf_and_write(const char* format, va_list ap, bool add_cr) ATTRIBUTE_PRINTF(2, 0);\n+   ATTRIBUTE_PRINTF(2, 0) void do_vsnprintf_and_write(const char* format, va_list ap, bool add_cr);\n@@ -94,4 +95,4 @@\n-   void print(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-   void print_cr(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-   void vprint(const char *format, va_list argptr) ATTRIBUTE_PRINTF(2, 0);\n-   void vprint_cr(const char* format, va_list argptr) ATTRIBUTE_PRINTF(2, 0);\n+   ATTRIBUTE_PRINTF(2, 3) void print(const char* format, ...);\n+   ATTRIBUTE_PRINTF(2, 3) void print_cr(const char* format, ...);\n+   ATTRIBUTE_PRINTF(2, 0) void vprint(const char *format, va_list argptr);\n+   ATTRIBUTE_PRINTF(2, 0) void vprint_cr(const char* format, va_list argptr);\n","filename":"src\/hotspot\/share\/utilities\/ostream.hpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -157,0 +157,1 @@\n+  ATTRIBUTE_PRINTF(6, 7)\n@@ -158,1 +159,1 @@\n-                             void* context, const char* detail_fmt, ...) ATTRIBUTE_PRINTF(6, 7);\n+                             void* context, const char* detail_fmt, ...);\n@@ -160,0 +161,1 @@\n+  ATTRIBUTE_PRINTF(3, 0)\n@@ -162,1 +164,1 @@\n-                             const char* filename, int lineno, size_t size) ATTRIBUTE_PRINTF(3, 0);\n+                             const char* filename, int lineno, size_t size);\n@@ -167,0 +169,1 @@\n+  ATTRIBUTE_PRINTF(6, 0)\n@@ -168,1 +171,1 @@\n-                             const char* detail_fmt, va_list detail_args) ATTRIBUTE_PRINTF(6, 0);\n+                             const char* detail_fmt, va_list detail_args);\n@@ -170,0 +173,1 @@\n+  ATTRIBUTE_PRINTF(6, 0)\n@@ -172,1 +176,1 @@\n-                             va_list detail_args) ATTRIBUTE_PRINTF(6, 0);\n+                             va_list detail_args);\n","filename":"src\/hotspot\/share\/utilities\/vmError.hpp","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -83,1 +83,2 @@\n-  void          va_tag(bool push, const char* format, va_list ap) ATTRIBUTE_PRINTF(3, 0);\n+  ATTRIBUTE_PRINTF(3, 0)\n+  void          va_tag(bool push, const char* format, va_list ap);\n@@ -112,3 +113,6 @@\n-  void          elem(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void    begin_elem(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void      end_elem(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void          elem(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void    begin_elem(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void      end_elem(const char* format, ...);\n@@ -116,3 +120,6 @@\n-  void          head(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void    begin_head(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void      end_head(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void          head(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void    begin_head(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void      end_head(const char* format, ...);\n@@ -120,1 +127,2 @@\n-  void          done(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);  \/\/ xxx_done event, plus tail\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void          done(const char* format, ...);  \/\/ xxx_done event, plus tail\n@@ -125,5 +133,10 @@\n-  void       va_elem(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n-  void va_begin_elem(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n-  void       va_head(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n-  void va_begin_head(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n-  void       va_done(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void       va_elem(const char* format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void va_begin_elem(const char* format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void       va_head(const char* format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void va_begin_head(const char* format, va_list ap);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void       va_done(const char* format, va_list ap);\n@@ -133,2 +146,4 @@\n-  void          text(const char* format, ...) ATTRIBUTE_PRINTF(2, 3);\n-  void       va_text(const char* format, va_list ap) ATTRIBUTE_PRINTF(2, 0) {\n+  ATTRIBUTE_PRINTF(2, 3)\n+  void          text(const char* format, ...);\n+  ATTRIBUTE_PRINTF(2, 0)\n+  void       va_text(const char* format, va_list ap) {\n","filename":"src\/hotspot\/share\/utilities\/xmlstream.hpp","additions":30,"deletions":15,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+#include <stdalign.h>\n@@ -52,1 +53,1 @@\n-    __declspec(align(8)) jlong tmp[2];\n+    alignas(8) jlong tmp[2];\n@@ -81,1 +82,1 @@\n-    __declspec(align(8)) jlong tmp[3];\n+    alignas(8) jlong tmp[3];\n@@ -199,1 +200,1 @@\n-    __declspec(align(8)) jlong tmp[5];\n+    alignas(8) jlong tmp[5];\n","filename":"src\/java.prefs\/windows\/native\/libprefs\/WindowsPreferences.c","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -26,0 +26,2 @@\n+#include <stdalign.h>\n+\n@@ -1191,2 +1193,2 @@\n-#if defined (_WIN32) && defined (_MSC_VER)\n-  __declspec(align(8))\n+#ifdef _WIN32\n+  alignas(8)\n","filename":"src\/java.security.jgss\/share\/native\/libj2gss\/GSSLibStub.c","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,0 +26,2 @@\n+#include <stdalign.h>\n+\n@@ -418,2 +420,2 @@\n-#if defined (_WIN32) && defined (_MSC_VER)\n-    __declspec(align(8))\n+#ifdef _WIN32\n+    alignas(8)\n@@ -449,2 +451,2 @@\n-#if defined (_WIN32) && defined (_MSC_VER)\n-    __declspec(align(8))\n+#ifdef _WIN32\n+    alignas(8)\n","filename":"src\/jdk.jdwp.agent\/share\/native\/libjdwp\/ArrayReferenceImpl.c","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -241,0 +241,3 @@\n+\/\/ For reliable macro expansion involving pragmas\n+#define JP_PRAGMA(str) _Pragma(#str)\n+\n@@ -271,1 +274,1 @@\n-        __pragma(comment(linker, \"\/EXPORT:\" __FUNCTION__ \"=\" __FUNCDNAME__)); \\\n+        JP_PRAGMA(comment(linker, \"\/EXPORT:\" __FUNCTION__ \"=\" __FUNCDNAME__)); \\\n@@ -290,1 +293,1 @@\n-    __pragma(comment(linker, \"\/INCLUDE:\" JP_CA_MANGLED_NAME(name)))\n+    JP_PRAGMA(comment(linker, \"\/INCLUDE:\" JP_CA_MANGLED_NAME(name)))\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/MsiCA.h","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-  void log(uint level, const char* format, ...) ATTRIBUTE_PRINTF(3, 4);\n+  ATTRIBUTE_PRINTF(3, 4) void log(uint level, const char* format, ...);\n","filename":"test\/hotspot\/gtest\/utilities\/test_json.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}