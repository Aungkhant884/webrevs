{"files":[{"patch":"@@ -1870,3 +1870,3 @@\n-  INSN(rori,    0b0010011, 0b101, 0b011000);\n-  INSN(slli_uw, 0b0011011, 0b001, 0b000010);\n-  INSN(bexti,   0b0010011, 0b101, 0b010010);\n+  INSN(rori,     0b0010011, 0b101, 0b011000);\n+  INSN(_slli_uw, 0b0011011, 0b001, 0b000010);\n+  INSN(bexti,    0b0010011, 0b101, 0b010010);\n@@ -2790,1 +2790,7 @@\n-    _slli(Rd, Rs1, shamt);                                                                   \\\n+    if (shamt != 0) {                                                                        \\\n+      _slli(Rd, Rs1, shamt);                                                                 \\\n+    } else {                                                                                 \\\n+      if(Rd != Rs1) {                                                                        \\\n+        addi(Rd, Rs1, 0);                                                                    \\\n+      }                                                                                      \\\n+    }                                                                                        \\\n@@ -2805,1 +2811,7 @@\n-    NORMAL_NAME(Rd, Rs1, shamt);                                                             \\\n+    if (shamt != 0) {                                                                        \\\n+      NORMAL_NAME(Rd, Rs1, shamt);                                                           \\\n+    } else {                                                                                 \\\n+      if(Rd != Rs1) {                                                                        \\\n+        addi(Rd, Rs1, 0);                                                                    \\\n+      }                                                                                      \\\n+    }                                                                                        \\\n","filename":"src\/hotspot\/cpu\/riscv\/assembler_riscv.hpp","additions":17,"deletions":5,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -691,2 +691,1 @@\n-        slli(ch2, ch2, 40);\n-        srli(ch2, ch2, 32);\n+        slli_uw(ch2, ch2, 8);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4338,0 +4338,9 @@\n+void MacroAssembler::slli_uw(Register Rd, Register Rs, int shamt) {\n+  if (UseZba) {\n+    _slli_uw(Rd, Rs, shamt);\n+  } else {\n+    slli(Rd, Rs, shamt+32);\n+    srli(Rd, Rd, 32);\n+  }\n+}\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1219,0 +1219,3 @@\n+  \/\/ 32-bit shift left by shamt and zero extend\n+  void slli_uw(Register Rd, Register Rs, int shamt);\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}