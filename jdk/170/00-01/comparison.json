{"files":[{"patch":"@@ -181,2 +181,2 @@\n-                .onMalformedInput(CodingErrorAction.REPLACE)\n-                .onUnmappableCharacter(CodingErrorAction.REPLACE);\n+                .onMalformedInput(CodingErrorAction.REPORT)\n+                .onUnmappableCharacter(CodingErrorAction.REPORT);\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/ParseUtil.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-@Fork(value = 1, warmups = 0, jvmArgsAppend = \"--add-exports=java.base\/sun.net.www=ALL-UNNAMED\")\n+@Fork(value = 1, jvmArgsAppend = \"--add-exports=java.base\/sun.net.www=ALL-UNNAMED\")\n@@ -50,4 +50,3 @@\n-    private static URL url;\n-    private static MethodHandles.Lookup LOOKUP;\n-    private static MethodHandle MH_DECODE;\n-    private static MethodHandle MH_TO_URI;\n+    private static final MethodHandles.Lookup LOOKUP;\n+    private static final MethodHandle MH_DECODE;\n+    private static final MethodHandle MH_TO_URI;\n@@ -55,7 +54,9 @@\n-    @Setup\n-    public void setup() throws Exception {\n-        LOOKUP = MethodHandles.lookup();\n-        url = new URL(\"https:\/\/example.com\/xyz\/abc\/def?query=#30\");\n-        Class<?> c = Class.forName(\"sun.net.www.ParseUtil\");\n-        MH_DECODE = LOOKUP.findStatic(c, \"decode\", methodType(String.class, String.class));\n-        MH_TO_URI = LOOKUP.findStatic(c, \"toURI\", methodType(URI.class, URL.class));\n+    static {\n+        try {\n+            LOOKUP = MethodHandles.lookup();\n+            Class<?> c = Class.forName(\"sun.net.www.ParseUtil\");\n+            MH_DECODE = LOOKUP.findStatic(c, \"decode\", methodType(String.class, String.class));\n+            MH_TO_URI = LOOKUP.findStatic(c, \"toURI\", methodType(URI.class, URL.class));\n+        } catch (ClassNotFoundException | NoSuchMethodException | IllegalAccessException e) {\n+            throw new ExceptionInInitializerError(e);\n+        }\n@@ -65,1 +66,0 @@\n-    @CompilerControl(CompilerControl.Mode.DONT_INLINE)\n@@ -71,1 +71,0 @@\n-    @CompilerControl(CompilerControl.Mode.DONT_INLINE)\n@@ -73,0 +72,1 @@\n+        URL url = new URL(\"https:\/\/example.com\/xyz\/abc\/def?query=#30\");\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/net\/ThreadLocalParseUtil.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}