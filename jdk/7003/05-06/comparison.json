{"files":[{"patch":"@@ -1205,1 +1205,1 @@\n-void set_signal_handler(int sig) {\n+void set_signal_handler(int sig, bool do_check = true) {\n@@ -1249,1 +1249,1 @@\n-  do_check_signal_periodically[sig] = true;\n+  do_check_signal_periodically[sig] = do_check;\n@@ -1288,4 +1288,4 @@\n-    \/\/ This is just for initialization phase. os::initialize_jdk_signal_support() will overwrite\n-    \/\/ the signal handler of BREAK_SIGNAL later. Intercepting the signal here reduces the risk\n-    \/\/ that an attach client accidentally forces HotSpot to quit prematurely.\n-    set_signal_handler(BREAK_SIGNAL);\n+    \/\/ This is just for early initialization phase. Intercepting the signal here reduces the risk\n+    \/\/ that an attach client accidentally forces HotSpot to quit prematurely. We skip the periodic\n+    \/\/ check because late initialization will overwrite it to UserHandler.\n+    set_signal_handler(BREAK_SIGNAL, false);\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}