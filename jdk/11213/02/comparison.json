{"files":[{"patch":"@@ -193,1 +193,0 @@\n-java\/awt\/Scrollbar\/ScrollbarMouseWheelTest\/ScrollbarMouseWheelTest.java 8196018 windows-all,linux-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -24,2 +24,11 @@\n-import java.awt.*;\n-import java.awt.event.*;\n+import java.awt.AWTException;\n+import java.awt.Component;\n+import java.awt.Frame;\n+import java.awt.GridLayout;\n+import java.awt.Panel;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.Scrollbar;\n+import java.awt.Toolkit;\n+import java.awt.event.MouseWheelEvent;\n+import java.awt.event.MouseWheelListener;\n@@ -35,1 +44,5 @@\n-        implements MouseWheelListener, WindowListener {\n+        implements MouseWheelListener {\n+\n+    final static boolean isWindows =\n+            Toolkit.getDefaultToolkit().getClass()\n+                    .getName().equals(\"sun.awt.windows.WToolkit\");\n@@ -37,1 +50,0 @@\n-    final static String tk = Toolkit.getDefaultToolkit().getClass().getName();\n@@ -44,1 +56,1 @@\n-    final static int PANEL_REPS = tk.equals(\"sun.awt.windows.WToolkit\")? REPS * 2: REPS;\n+    final static int PANEL_REPS = isWindows ? REPS * 2: REPS;\n@@ -49,6 +61,0 @@\n-    class Sema {\n-        boolean flag;\n-        boolean getVal() { return flag;}\n-        void setVal(boolean b) { flag = b;}\n-    }\n-    Sema sema = new Sema();\n@@ -58,2 +64,2 @@\n-    int sb1upevents, sb2upevents, pnlupevents;\n-    int sb1downevents, sb2downevents, pnldownevents;\n+    volatile int sb1upevents, sb2upevents, pnlupevents;\n+    volatile int sb1downevents, sb2downevents, pnldownevents;\n@@ -72,1 +78,0 @@\n-\n@@ -75,1 +80,1 @@\n-        robot.setAutoDelay(500);\n+        robot.setAutoDelay(250);\n@@ -80,1 +85,0 @@\n-        frame.addWindowListener(this);\n@@ -95,8 +99,3 @@\n-        \/\/ When Frame is active, start testing (handled in windowActivated())\n-        while (true) {\n-            synchronized (sema) {\n-                if (sema.getVal()) {\n-                    break;\n-                }\n-            }\n-        }\n+        robot.waitForIdle();\n+        robot.delay(1000);\n+\n@@ -111,0 +110,3 @@\n+\n+        robot.delay(500);\n+\n@@ -112,0 +114,1 @@\n+\n@@ -169,13 +172,0 @@\n-\n-    public void windowActivated(WindowEvent we) {\n-        synchronized (sema) {\n-            sema.setVal(true);\n-        }\n-    }\n-\n-    public void windowClosed(WindowEvent we) {}\n-    public void windowClosing(WindowEvent we) {}\n-    public void windowDeactivated(WindowEvent we) {}\n-    public void windowDeiconified(WindowEvent we) {}\n-    public void windowIconified(WindowEvent we) {}\n-    public void windowOpened(WindowEvent we) {}\n","filename":"test\/jdk\/java\/awt\/Scrollbar\/ScrollbarMouseWheelTest\/ScrollbarMouseWheelTest.java","additions":27,"deletions":37,"binary":false,"changes":64,"status":"modified"}]}