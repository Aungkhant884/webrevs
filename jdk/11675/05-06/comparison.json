{"files":[{"patch":"@@ -112,0 +112,1 @@\n+  assert(_iteration_thread == Thread::current() || _iteration_thread == nullptr, \"should not mutate while iterating in another thread\");\n@@ -130,0 +131,1 @@\n+  assert(_iteration_thread == Thread::current() || _iteration_thread == nullptr, \"should not mutate while iterating in another thread\");\n@@ -143,0 +145,1 @@\n+  assert(_iteration_thread == Thread::current() || _iteration_thread == nullptr, \"should not mutate while iterating in another thread\");\n@@ -164,0 +167,1 @@\n+  assert(_iteration_thread == Thread::current() || _iteration_thread == nullptr, \"should not mutate while iterating in another thread\");\n@@ -173,0 +177,1 @@\n+  DEBUG_ONLY(_iteration_thread = Thread::current();)\n@@ -176,0 +181,1 @@\n+  DEBUG_ONLY(_iteration_thread = nullptr;)\n@@ -216,0 +222,1 @@\n+  assert(_iteration_thread == Thread::current() || _iteration_thread == nullptr, \"should not mutate while iterating in another thread\");\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CodeCacheRemSet.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -91,0 +91,1 @@\n+  DEBUG_ONLY(mutable Thread* _iteration_thread;)\n@@ -93,1 +94,1 @@\n-  G1CodeRootSet() : _table(nullptr) {}\n+  G1CodeRootSet() : _table(nullptr) DEBUG_ONLY(COMMA _iteration_thread(nullptr)) {}\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CodeCacheRemSet.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -172,0 +172,1 @@\n+    MutexLocker ml(&_m, Mutex::_no_safepoint_check_flag);\n","filename":"src\/hotspot\/share\/gc\/g1\/heapRegionRemSet.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}