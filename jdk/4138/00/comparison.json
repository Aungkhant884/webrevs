{"files":[{"patch":"@@ -181,1 +181,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -754,0 +753,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -759,0 +759,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -802,0 +803,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -805,0 +807,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -824,0 +827,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -831,0 +835,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1256,0 +1261,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1261,0 +1267,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -3500,1 +3507,2 @@\n-        common = AccessController.doPrivileged(new PrivilegedAction<>() {\n+        @SuppressWarnings(\"removal\")\n+        ForkJoinPool tmp = AccessController.doPrivileged(new PrivilegedAction<>() {\n@@ -3503,0 +3511,1 @@\n+        common = tmp;\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -51,1 +51,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -114,6 +113,4 @@\n-        final String encs[] = {null};\n-\n-        AccessController.doPrivileged(\n-                new PrivilegedAction<Object>() {\n-\n-                    public Object run() {\n+        @SuppressWarnings(\"removal\")\n+        final String enc = AccessController.doPrivileged(\n+                new PrivilegedAction<String>() {\n+                    public String run() {\n@@ -122,2 +119,1 @@\n-                        encs[0] = System.getProperty(\"file.encoding\", \"ISO8859_1\");\n-                        return null;\n+                        return System.getProperty(\"file.encoding\", \"ISO8859_1\");\n@@ -138,1 +134,1 @@\n-        encoding = encs[0];\n+        encoding = enc;\n@@ -554,0 +550,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -924,0 +921,1 @@\n+    @SuppressWarnings(\"removal\")\n","filename":"src\/java.base\/share\/classes\/sun\/net\/ftp\/impl\/FtpClient.java","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -62,1 +62,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -90,0 +89,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/jpeg\/JPEGImageReader.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -66,1 +66,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -176,0 +175,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/jpeg\/JPEGImageWriter.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -217,1 +217,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -509,0 +508,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -630,0 +630,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -634,1 +635,2 @@\n-        s = java.security.AccessController.doPrivileged(\n+        @SuppressWarnings(\"removal\")\n+        String s2 = java.security.AccessController.doPrivileged(\n@@ -636,1 +638,1 @@\n-        incRate = (s != null) ? Integer.parseInt(s) : 100;\n+        incRate = (s2 != null) ? Integer.parseInt(s2) : 100;\n@@ -715,0 +717,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -977,0 +980,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -1430,0 +1434,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -6256,0 +6261,1 @@\n+             @SuppressWarnings(\"removal\")\n@@ -8991,0 +8997,1 @@\n+    @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Component.java","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -97,1 +97,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -1579,4 +1578,4 @@\n-    private static final boolean isJavaAwtSmartInvalidate;\n-    static {\n-        \/\/ Don't lazy-read because every app uses invalidate()\n-        isJavaAwtSmartInvalidate = AccessController.doPrivileged(\n+    \/\/ Don't lazy-read because every app uses invalidate()\n+    @SuppressWarnings(\"removal\")\n+    private static final boolean isJavaAwtSmartInvalidate\n+            = AccessController.doPrivileged(\n@@ -1584,1 +1583,0 @@\n-    }\n@@ -2637,0 +2635,1 @@\n+        @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Container.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -67,1 +67,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -87,0 +86,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/DefaultKeyboardFocusManager.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -137,1 +137,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -400,0 +399,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -519,0 +519,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1381,0 +1382,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1395,0 +1397,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n@@ -1468,0 +1475,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1807,0 +1815,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1876,0 +1885,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1941,0 +1951,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1993,0 +2004,1 @@\n+        @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Toolkit.java","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -167,1 +167,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -418,0 +417,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -421,1 +421,2 @@\n-        s = java.security.AccessController.doPrivileged(\n+        @SuppressWarnings(\"removal\")\n+        String s2 = java.security.AccessController.doPrivileged(\n@@ -423,1 +424,1 @@\n-        locationByPlatformProp = (s != null && s.equals(\"true\"));\n+        locationByPlatformProp = (s2 != null && s2.equals(\"true\"));\n@@ -1401,0 +1402,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1705,0 +1707,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -2255,0 +2258,1 @@\n+        @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Window.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -69,1 +69,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -215,1 +214,2 @@\n-        volatileImageBufferEnabled = \"true\".equals(AccessController.\n+        @SuppressWarnings(\"removal\")\n+        var t1 = \"true\".equals(AccessController.\n@@ -218,0 +218,1 @@\n+        volatileImageBufferEnabled = t1;\n@@ -222,1 +223,2 @@\n-        nativeDoubleBuffering = \"true\".equals(AccessController.doPrivileged(\n+        @SuppressWarnings(\"removal\")\n+        var t2 = \"true\".equals(AccessController.doPrivileged(\n@@ -224,0 +226,2 @@\n+        nativeDoubleBuffering = t2;\n+        @SuppressWarnings(\"removal\")\n@@ -238,1 +242,2 @@\n-        HANDLE_TOP_LEVEL_PAINT = \"true\".equals(AccessController.doPrivileged(\n+        @SuppressWarnings(\"removal\")\n+        var t3 = \"true\".equals(AccessController.doPrivileged(\n@@ -240,0 +245,1 @@\n+        HANDLE_TOP_LEVEL_PAINT = t3;\n@@ -610,0 +616,1 @@\n+                    @SuppressWarnings(\"removal\")\n@@ -611,0 +618,1 @@\n+                    @SuppressWarnings(\"removal\")\n@@ -741,0 +749,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -742,0 +751,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -847,0 +857,1 @@\n+                @SuppressWarnings(\"removal\")\n@@ -848,0 +859,1 @@\n+                @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/RepaintManager.java","additions":16,"deletions":4,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -116,1 +116,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -124,0 +123,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n@@ -671,0 +675,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -679,0 +684,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -898,0 +904,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -905,0 +912,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1112,0 +1120,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -1152,0 +1161,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1195,0 +1205,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -1228,0 +1239,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1754,0 +1766,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1857,0 +1870,1 @@\n+    @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/SunToolkit.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -65,1 +65,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -269,0 +268,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n@@ -309,0 +313,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1115,0 +1120,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1449,0 +1455,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1742,0 +1749,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -2207,0 +2215,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -2955,0 +2964,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -3072,0 +3082,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -3436,0 +3447,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -3475,0 +3487,1 @@\n+    @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/SunFontManager.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -107,1 +107,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -338,0 +337,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n@@ -507,0 +511,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -761,0 +766,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -782,0 +788,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -851,0 +858,1 @@\n+            @SuppressWarnings(\"removal\")\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSPrinterJob.java","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -316,1 +316,0 @@\n-    @SuppressWarnings(\"removal\")\n@@ -597,10 +596,13 @@\n-            (OSInfo.getOSType() == OSInfo.OSType.WINDOWS &&\n-             OSInfo.getWindowsVersion().compareTo(OSInfo.WINDOWS_XP) >= 0) &&\n-            AccessController.doPrivileged(new GetPropertyAction(\"swing.noxp\")) == null) {\n-\n-            \/\/ These desktop properties are not used directly, but are needed to\n-            \/\/ trigger realoading of UI's.\n-            this.themeActive = new TriggerDesktopProperty(\"win.xpstyle.themeActive\");\n-            this.dllName     = new TriggerDesktopProperty(\"win.xpstyle.dllName\");\n-            this.colorName   = new TriggerDesktopProperty(\"win.xpstyle.colorName\");\n-            this.sizeName    = new TriggerDesktopProperty(\"win.xpstyle.sizeName\");\n+                (OSInfo.getOSType() == OSInfo.OSType.WINDOWS &&\n+                OSInfo.getWindowsVersion().compareTo(OSInfo.WINDOWS_XP) >= 0)) {\n+            @SuppressWarnings(\"removal\")\n+            String prop = AccessController.doPrivileged(new GetPropertyAction(\"swing.noxp\"));\n+            if (prop == null) {\n+\n+                \/\/ These desktop properties are not used directly, but are needed to\n+                \/\/ trigger realoading of UI's.\n+                this.themeActive = new TriggerDesktopProperty(\"win.xpstyle.themeActive\");\n+                this.dllName = new TriggerDesktopProperty(\"win.xpstyle.dllName\");\n+                this.colorName = new TriggerDesktopProperty(\"win.xpstyle.colorName\");\n+                this.sizeName = new TriggerDesktopProperty(\"win.xpstyle.sizeName\");\n+            }\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsLookAndFeel.java","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -155,1 +155,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -157,2 +156,0 @@\n-    \/\/ The global LogManager object\n-    private static final LogManager manager;\n@@ -223,19 +220,22 @@\n-    static {\n-        manager = AccessController.doPrivileged(new PrivilegedAction<LogManager>() {\n-            @Override\n-            public LogManager run() {\n-                LogManager mgr = null;\n-                String cname = null;\n-                try {\n-                    cname = System.getProperty(\"java.util.logging.manager\");\n-                    if (cname != null) {\n-                        try {\n-                            @SuppressWarnings(\"deprecation\")\n-                            Object tmp = ClassLoader.getSystemClassLoader()\n-                                .loadClass(cname).newInstance();\n-                            mgr = (LogManager) tmp;\n-                        } catch (ClassNotFoundException ex) {\n-                            @SuppressWarnings(\"deprecation\")\n-                            Object tmp = Thread.currentThread()\n-                                .getContextClassLoader().loadClass(cname).newInstance();\n-                            mgr = (LogManager) tmp;\n+    \/\/ The global LogManager object\n+    @SuppressWarnings(\"removal\")\n+    private static final LogManager manager = AccessController.doPrivileged(\n+            new PrivilegedAction<LogManager>() {\n+                @Override\n+                public LogManager run() {\n+                    LogManager mgr = null;\n+                    String cname = null;\n+                    try {\n+                        cname = System.getProperty(\"java.util.logging.manager\");\n+                        if (cname != null) {\n+                            try {\n+                                @SuppressWarnings(\"deprecation\")\n+                                Object tmp = ClassLoader.getSystemClassLoader()\n+                                        .loadClass(cname).newInstance();\n+                                mgr = (LogManager) tmp;\n+                            } catch (ClassNotFoundException ex) {\n+                                @SuppressWarnings(\"deprecation\")\n+                                Object tmp = Thread.currentThread()\n+                                        .getContextClassLoader().loadClass(cname).newInstance();\n+                                mgr = (LogManager) tmp;\n+                            }\n@@ -243,0 +243,3 @@\n+                    } catch (Exception ex) {\n+                        System.err.println(\"Could not load Logmanager \\\"\" + cname + \"\\\"\");\n+                        ex.printStackTrace();\n@@ -244,8 +247,4 @@\n-                } catch (Exception ex) {\n-                    System.err.println(\"Could not load Logmanager \\\"\" + cname + \"\\\"\");\n-                    ex.printStackTrace();\n-                }\n-                if (mgr == null) {\n-                    mgr = new LogManager();\n-                }\n-                return mgr;\n+                    if (mgr == null) {\n+                        mgr = new LogManager();\n+                    }\n+                    return mgr;\n@@ -253,3 +252,2 @@\n-            }\n-        });\n-    }\n+                }\n+            });\n@@ -310,0 +308,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -341,0 +340,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -465,0 +465,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -554,0 +555,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -856,0 +858,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -964,0 +967,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1229,0 +1233,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -1248,0 +1253,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -2431,0 +2437,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -2616,0 +2623,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -2617,0 +2625,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -2621,0 +2630,1 @@\n+        @SuppressWarnings(\"removal\")\n@@ -2713,0 +2723,1 @@\n+            @SuppressWarnings(\"removal\")\n@@ -2735,0 +2746,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatic() {\n","filename":"src\/java.logging\/share\/classes\/java\/util\/logging\/LogManager.java","additions":49,"deletions":33,"binary":false,"changes":82,"status":"modified"},{"patch":"@@ -122,1 +122,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -2069,1 +2068,3 @@\n-            constr = (Constructor<?>) AccessController.doPrivileged(action);\n+            @SuppressWarnings(\"removal\")\n+            Constructor<?> tmp = (Constructor<?>) AccessController.doPrivileged(action);\n+            constr = tmp;\n@@ -2213,0 +2214,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -2226,0 +2228,1 @@\n+    @SuppressWarnings(\"removal\")\n","filename":"src\/java.management.rmi\/share\/classes\/javax\/management\/remote\/rmi\/RMIConnector.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -56,1 +56,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -86,0 +85,5 @@\n+        initStatic();\n+    }\n+\n+    @SuppressWarnings(\"removal\")\n+    private static void initStatis() {\n","filename":"src\/jdk.accessibility\/windows\/classes\/com\/sun\/java\/accessibility\/internal\/AccessBridge.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -73,1 +73,0 @@\n-@SuppressWarnings(\"removal\")\n@@ -86,1 +85,2 @@\n-        AccessController.doPrivileged(new PrivilegedAction<Object>() {\n+        @SuppressWarnings(\"removal\")\n+        var dummy = AccessController.doPrivileged(new PrivilegedAction<Object>() {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/wrapper\/PKCS11.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}