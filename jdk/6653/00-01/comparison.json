{"files":[{"patch":"@@ -88,5 +88,0 @@\n-# define A\n-# define B\n-# define C\n-# define D\n-# define E\n@@ -98,16 +93,16 @@\n-  \/\/        class                                     type field\n-  ADD_EXCL(\"java\/lang\/ClassLoader\",                      A \"scl\");\n-  ADD_EXCL(\"java\/lang\/invoke\/InvokerBytecodeGenerator\",  B \"DONTINLINE_SIG\",\n-                                                         B \"FORCEINLINE_SIG\",\n-                                                         B \"HIDDEN_SIG\",\n-                                                         B \"INJECTEDPROFILE_SIG\",\n-                                                         B \"LF_COMPILED_SIG\");\n-  ADD_EXCL(\"java\/lang\/Module\",                           A \"ALL_UNNAMED_MODULE\",\n-                                                         A \"ALL_UNNAMED_MODULE_SET\",\n-                                                         A \"EVERYONE_MODULE\",\n-                                                         A \"EVERYONE_SET\");\n-  ADD_EXCL(\"java\/lang\/System\",                           A \"bootLayer\");\n-  ADD_EXCL(\"java\/lang\/VersionProps\",                     C \"VENDOR_URL_BUG\",\n-                                                         C \"VENDOR_URL_VM_BUG\",\n-                                                         C \"VENDOR_VERSION\");\n-  ADD_EXCL(\"java\/net\/URL$DefaultFactory\",                B \"PREFIX\");  \/\/ FIXME: JDK-8276561\n+  \/\/       class                                         field                     type\n+  ADD_EXCL(\"java\/lang\/ClassLoader\",                      \"scl\");                   \/\/ A \n+  ADD_EXCL(\"java\/lang\/invoke\/InvokerBytecodeGenerator\",  \"DONTINLINE_SIG\",         \/\/ B\n+                                                         \"FORCEINLINE_SIG\",        \/\/ B\n+                                                         \"HIDDEN_SIG\",             \/\/ B\n+                                                         \"INJECTEDPROFILE_SIG\",    \/\/ B\n+                                                         \"LF_COMPILED_SIG\");       \/\/ B\n+  ADD_EXCL(\"java\/lang\/Module\",                           \"ALL_UNNAMED_MODULE\",     \/\/ A\n+                                                         \"ALL_UNNAMED_MODULE_SET\", \/\/ A\n+                                                         \"EVERYONE_MODULE\",        \/\/ A\n+                                                         \"EVERYONE_SET\");          \/\/ A\n+  ADD_EXCL(\"java\/lang\/System\",                           \"bootLayer\");             \/\/ A\n+  ADD_EXCL(\"java\/lang\/VersionProps\",                     \"VENDOR_URL_BUG\",         \/\/ C\n+                                                         \"VENDOR_URL_VM_BUG\",      \/\/ C\n+                                                         \"VENDOR_VERSION\");        \/\/ C\n+  ADD_EXCL(\"java\/net\/URL$DefaultFactory\",                \"PREFIX\");                \/\/ B FIXME: JDK-8276561\n@@ -117,12 +112,12 @@\n-  ADD_EXCL(\"java\/util\/HashSet\",                          E \"PRESENT\");\n-  ADD_EXCL(\"jdk\/internal\/loader\/BuiltinClassLoader\",     A \"packageToModule\");\n-  ADD_EXCL(\"jdk\/internal\/loader\/ClassLoaders\",           A \"BOOT_LOADER\",\n-                                                         A \"APP_LOADER\",\n-                                                         A \"PLATFORM_LOADER\");\n-  ADD_EXCL(\"jdk\/internal\/loader\/URLClassPath\",           B \"JAVA_VERSION\");\n-  ADD_EXCL(\"jdk\/internal\/module\/Builder\",                D \"cachedVersion\");\n-  ADD_EXCL(\"jdk\/internal\/module\/ModuleLoaderMap$Mapper\", A \"APP_CLASSLOADER\",\n-                                                         A \"APP_LOADER_INDEX\",\n-                                                         A \"PLATFORM_CLASSLOADER\",\n-                                                         A \"PLATFORM_LOADER_INDEX\");\n-  ADD_EXCL(\"jdk\/internal\/module\/ServicesCatalog\",        A \"CLV\");\n+  ADD_EXCL(\"java\/util\/HashSet\",                          \"PRESENT\");               \/\/ E\n+  ADD_EXCL(\"jdk\/internal\/loader\/BuiltinClassLoader\",     \"packageToModule\");       \/\/ A\n+  ADD_EXCL(\"jdk\/internal\/loader\/ClassLoaders\",           \"BOOT_LOADER\",            \/\/ A\n+                                                         \"APP_LOADER\",             \/\/ A\n+                                                         \"PLATFORM_LOADER\");       \/\/ A\n+  ADD_EXCL(\"jdk\/internal\/loader\/URLClassPath\",           \"JAVA_VERSION\");          \/\/ B\n+  ADD_EXCL(\"jdk\/internal\/module\/Builder\",                \"cachedVersion\");         \/\/ D\n+  ADD_EXCL(\"jdk\/internal\/module\/ModuleLoaderMap$Mapper\", \"APP_CLASSLOADER\",        \/\/ A\n+                                                         \"APP_LOADER_INDEX\",       \/\/ A\n+                                                         \"PLATFORM_CLASSLOADER\",   \/\/ A\n+                                                         \"PLATFORM_LOADER_INDEX\"); \/\/ A\n+  ADD_EXCL(\"jdk\/internal\/module\/ServicesCatalog\",        \"CLV\");                   \/\/ A\n@@ -131,2 +126,2 @@\n-  ADD_EXCL(\"jdk\/internal\/reflect\/Reflection\",            E \"methodFilterMap\");\n-  ADD_EXCL(\"jdk\/internal\/util\/StaticProperty\",           C \"FILE_ENCODING\");\n+  ADD_EXCL(\"jdk\/internal\/reflect\/Reflection\",            \"methodFilterMap\");       \/\/ E\n+  ADD_EXCL(\"jdk\/internal\/util\/StaticProperty\",           \"FILE_ENCODING\");         \/\/ C\n@@ -135,5 +130,0 @@\n-# undef A\n-# undef B\n-# undef C\n-# undef D\n-# undef E\n@@ -226,1 +216,1 @@\n-    ls.print_cr(\"Field: %s::%s\", info->_holder->external_name(), info->_name->as_C_string());\n+    ls.print_cr(\"Field: %s::%s\", info->_holder->internal_name(), info->_name->as_C_string());\n","filename":"src\/hotspot\/share\/cds\/cdsHeapVerifier.cpp","additions":31,"deletions":41,"binary":false,"changes":72,"status":"modified"},{"patch":"@@ -364,1 +364,1 @@\n-\/\/ the archived value equals (in object address) to the runtime value of\n+\/\/ ensure the archived value equals (in object address) to the runtime value of\n","filename":"src\/hotspot\/share\/cds\/heapShared.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -219,1 +219,1 @@\n-    assert(0 <= i && i <= enum_klass_static_fields_addr()->_num, \"must be\");\n+    assert(0 <= i && i < enum_klass_static_fields_addr()->_num, \"must be\");\n@@ -224,1 +224,1 @@\n-    assert(0 <= i && i <= enum_klass_static_fields_addr()->_num, \"must be\");\n+    assert(0 <= i && i < enum_klass_static_fields_addr()->_num, \"must be\");\n","filename":"src\/hotspot\/share\/cds\/runTimeClassInfo.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}