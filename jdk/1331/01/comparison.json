{"files":[{"patch":"@@ -0,0 +1,107 @@\n+\/*\n+ * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.jpackage.tests;\n+\n+import jdk.jpackage.test.PackageTest;\n+import jdk.jpackage.test.PackageType;\n+import jdk.jpackage.test.Annotations.Test;\n+\n+\/**\n+ * Test --vendor parameter. Output of the test should be\n+ * vendortest*.* package bundle. The output package should provide the\n+ * same functionality as the default package with the default value of vendor\n+ * property overridden.\n+ *\n+ * Linux DEB:\n+ *\n+ * Value of \"Maintainer\" property of .deb package should start with \"Test Vendor\" string.\n+ *\n+ * Linux RPM:\n+ *\n+ * Value of \"Vendor\" property of .rpm package should be set to \"Test Vendor\" string.\n+ *\n+ * Mac:\n+ *\n+ * --vendor parameter is ignored.\n+ *\n+ * Windows:\n+ *\n+ * Publisher value displayed in the Add\/Remove Programs should be set\n+ * to \"Test Vendor\" string.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @summary Test --vendor jpackage command option\n+ * @library ..\/..\/..\/..\/helpers\n+ * @key jpackagePlatformPackage\n+ * @requires (os.family == \"windows\")\n+ * @requires jpackage.test.SQETest != null\n+ * @build jdk.jpackage.test.*\n+ * @modules jdk.jpackage\/jdk.jpackage.internal\n+ * @compile VendorTest.java\n+ * @run main\/othervm\/timeout=360 -Xmx512m jdk.jpackage.test.Main\n+ *  --jpt-run=jdk.jpackage.tests.VendorTest\n+ *\/\n+\n+\/*\n+ * @test\n+ * @summary Test --vendor jpackage command option\n+ * @library ..\/..\/..\/..\/helpers\n+ * @key jpackagePlatformPackage\n+ * @requires (os.family != \"mac\")\n+ * @requires jpackage.test.SQETest == null\n+ * @build jdk.jpackage.test.*\n+ * @modules jdk.jpackage\/jdk.jpackage.internal\n+ * @compile VendorTest.java\n+ * @run main\/othervm\/timeout=360 -Xmx512m jdk.jpackage.test.Main\n+ *  --jpt-run=jdk.jpackage.tests.VendorTest\n+ *\/\n+public class VendorTest {\n+\n+    @Test\n+    public static void test() {\n+        final String vendorValue = \"Test Vendor\";\n+\n+        new PackageTest()\n+        .configureHelloApp()\n+        .addBundleDesktopIntegrationVerifier(false)\n+        .addInitializer(cmd -> {\n+            cmd.addArguments(\"--vendor\", vendorValue);\n+        })\n+        .forTypes(PackageType.LINUX_DEB)\n+        .addBundlePropertyVerifier(\"Maintainer\", value -> {\n+            return value.startsWith(vendorValue + \" \");\n+        }, \"starts with\")\n+        .forTypes(PackageType.LINUX_RPM)\n+        .addBundlePropertyVerifier(\"Vendor\", value -> {\n+            return value.equals(vendorValue);\n+        }, \"equals to\")\n+        .forTypes(PackageType.WIN_MSI)\n+        .addBundlePropertyVerifier(\"Manufacturer\", value -> {\n+            return value.equals(vendorValue);\n+        }, \"equals to\")\n+        .run();\n+    }\n+}\n","filename":"test\/jdk\/tools\/jpackage\/share\/jdk\/jpackage\/tests\/VendorTest.java","additions":107,"deletions":0,"binary":false,"changes":107,"status":"added"}]}