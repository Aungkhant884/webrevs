{"files":[{"patch":"@@ -39,2 +39,0 @@\n-import java.math.BigDecimal;\n-import java.math.RoundingMode;\n@@ -315,9 +313,0 @@\n-            \/\/ border and corner scaling\n-            int corner = (int) Math.round(CORNER * at.getScaleX());\n-            \/\/ loop constraint for bulk of the border\n-            int loopCount = (int) Math.round(5 * at.getScaleX());\n-\n-            \/\/ midpoint at which highlight & shadow lines\n-            \/\/ are positioned on the border\n-            int midPoint = loopCount \/ 2;\n-\n@@ -331,0 +320,2 @@\n+            \/\/ loop constraint for bulk of the border\n+            int loopCount = (int) Math.round(5 * at.getScaleX());\n@@ -333,1 +324,2 @@\n-                g.drawRect(x+i,y+i,width-(i*2)-1, height-(i*2)-1);\n+                g.drawRect(x + i,y + i,width - (i * 2) - 1,\n+                        height - (i * 2) - 1);\n@@ -337,0 +329,6 @@\n+                \/\/ border and corner scaling\n+                int corner = (int) Math.round(CORNER * at.getScaleX());\n+                \/\/ midpoint at which highlight & shadow lines\n+                \/\/ are positioned on the border\n+                int midPoint = loopCount \/ 2;\n+\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalBorders.java","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-import javax.imageio.ImageIO;\n@@ -43,0 +42,1 @@\n+import javax.imageio.ImageIO;\n@@ -183,6 +183,7 @@\n-            isVertical ? i : (iFrameLoc.x + MIDPOINT),\n-            isHorizontal ? i : (iFrameLoc.y + MIDPOINT)))) {\n-                saveMRImage(borderDirection + \"_uiScale\" + uiScale + \".png\");\n-                errorLog.append(\"At uiScale: \"+ uiScale +\n-                \", Red background color detected at \"\n-                + borderDirection + \" border\\n\");\n+                    isVertical ? i : (iFrameLoc.x + MIDPOINT),\n+                    isHorizontal ? i : (iFrameLoc.y + MIDPOINT)))) {\n+                createMRIScreenCapture(borderDirection + \"_uiScale\"\n+                        + uiScale + \".png\");\n+                errorLog.append(\"At uiScale: \" + uiScale\n+                        + \", Red background color detected at \"\n+                        + borderDirection + \" border\\n\");\n@@ -219,3 +220,4 @@\n-            saveMRImage(cornerLocation + \"_uiScale\" + uiScale + \".png\");\n-            errorLog.append(\"At uiScale: \"+ uiScale + \", Red background color\" +\n-                    \" detected at \" + cornerLocation +  \" corner\\n\");\n+            createMRIScreenCapture(cornerLocation + \"_uiScale\"\n+                    + uiScale + \".png\");\n+            errorLog.append(\"At uiScale: \"+ uiScale + \", Red background color\"\n+                    + \" detected at \" + cornerLocation +  \" corner\\n\");\n@@ -246,3 +248,1 @@\n-\n-    private static void saveMRImage(String filename) {\n-        Image nativeResImage;\n+    private static void createMRIScreenCapture(String filename) {\n@@ -251,7 +251,2 @@\n-\n-        if (resolutionVariants.size() > 1) {\n-            nativeResImage = resolutionVariants.get(1);\n-        } else {\n-            nativeResImage = resolutionVariants.get(0);\n-        }\n-\n+        RenderedImage image = (RenderedImage) resolutionVariants.get(\n+                resolutionVariants.size() > 1 ? 1 : 0);\n@@ -259,1 +254,1 @@\n-            ImageIO.write((RenderedImage) nativeResImage,\n+            ImageIO.write(image,\n","filename":"test\/jdk\/javax\/swing\/JInternalFrame\/InternalFrameBorderTest.java","additions":16,"deletions":21,"binary":false,"changes":37,"status":"modified"}]}