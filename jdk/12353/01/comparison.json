{"files":[{"patch":"@@ -1013,0 +1013,14 @@\n+    } else if (input.build_os == \"windows\") {\n+        \/\/ On windows, add the devkit debugger to the path in all the run-test profiles\n+        \/\/ to make them available to the jtreg failure handler.\n+        var archDir = \"x64\";\n+        if (input.build_arch == \"aarch64\") {\n+            archDir = \"arm64\"\n+        }\n+        windowsRunTestExtra = {\n+            environment_path: [\n+                input.get(\"devkit\", \"install_path\") + \"\/10\/Debuggers\/\" + archDir\n+            ]\n+        }\n+        profiles[\"run-test\"] = concatObjects(profiles[\"run-test\"], windowsRunTestExtra);\n+        profiles[\"run-test-prebuilt\"] = concatObjects(profiles[\"run-test-prebuilt\"], windowsRunTestExtra);\n@@ -1054,1 +1068,1 @@\n-        windows_x64: \"VS2022-17.1.0+1.0\",\n+        windows_x64: \"VS2022-17.1.0+1.1\",\n","filename":"make\/conf\/jib-profiles.js","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,6 @@\n+#\n+# To include the debugger tools for the jtreg failure_handler, those need to\n+# be explicitly added to the Windows SDK installation first. That is done\n+# through Windows Settings - Apps, find the Windows Software Development Kit\n+# installation, click modify, and add the debugger tools.\n+#\n@@ -200,0 +206,11 @@\n+if [ -d \"$SDK_INSTALL_DIR\/Debuggers\" ]; then\n+    mkdir -p $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/lib\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/arm64\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/x64\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/x86\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/lib\/arm64\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/lib\/\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/lib\/x64\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/lib\/\n+    cp -r \"$SDK_INSTALL_DIR\/Debuggers\/lib\/x86\" $DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/lib\/\n+else\n+    echo \"No SDK debuggers found, skipping\"\n+fi\n@@ -214,1 +231,1 @@\n-echo-info \"DEVKIT_TOOLCHAIN_PATH_x86=\\\"\\$DEVKIT_ROOT\/VC\/bin\/x86:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86\\\"\"\n+echo-info \"DEVKIT_TOOLCHAIN_PATH_x86=\\\"\\$DEVKIT_ROOT\/VC\/bin\/x86:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86:\\$DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/x86\\\"\"\n@@ -221,1 +238,1 @@\n-echo-info \"DEVKIT_TOOLCHAIN_PATH_x86_64=\\\"\\$DEVKIT_ROOT\/VC\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86\\\"\"\n+echo-info \"DEVKIT_TOOLCHAIN_PATH_x86_64=\\\"\\$DEVKIT_ROOT\/VC\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86:\\$DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/x64\\\"\"\n@@ -229,1 +246,1 @@\n-echo-info \"DEVKIT_TOOLCHAIN_PATH_aarch64=\\\"\\$DEVKIT_ROOT\/VC\/bin\/arm64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86\\\"\"\n+echo-info \"DEVKIT_TOOLCHAIN_PATH_aarch64=\\\"\\$DEVKIT_ROOT\/VC\/bin\/arm64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x64:\\$DEVKIT_ROOT\/$SDK_VERSION\/bin\/x86:\\$DEVKIT_ROOT\/$SDK_VERSION\/Debuggers\/arm64\\\"\"\n","filename":"make\/devkit\/createWindowsDevkit.sh","additions":21,"deletions":4,"binary":false,"changes":25,"status":"modified"}]}