{"files":[{"patch":"@@ -41,1 +41,0 @@\n-import java.util.Locale;\n@@ -51,0 +50,1 @@\n+import sun.net.util.URLUtil;\n@@ -443,1 +443,1 @@\n-        protocol = toLowerCase(protocol);\n+        protocol = URLUtil.lowerCaseProtocol(protocol);\n@@ -636,1 +636,1 @@\n-                    String s = toLowerCase(spec.substring(start, i));\n+                    String s = URLUtil.lowerCaseProtocol(spec.substring(start, i));\n@@ -1383,12 +1383,0 @@\n-    \/**\n-     * Returns the protocol in lower case. Special cases known protocols\n-     * to avoid loading locale classes during startup.\n-     *\/\n-    static String toLowerCase(String protocol) {\n-        if (protocol.equals(\"jrt\") || protocol.equals(\"file\") || protocol.equals(\"jar\")) {\n-            return protocol;\n-        } else {\n-            return protocol.toLowerCase(Locale.ROOT);\n-        }\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/java\/net\/URL.java","additions":3,"deletions":15,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -46,0 +46,2 @@\n+\n+import sun.net.util.URLUtil;\n@@ -1095,1 +1097,1 @@\n-        protocol = protocol.toLowerCase(Locale.US);\n+        protocol = URLUtil.lowerCaseProtocol(protocol);\n@@ -1111,1 +1113,1 @@\n-        Boolean protoDefault = defaultCaching.get(protocol.toLowerCase(Locale.US));\n+        Boolean protoDefault = defaultCaching.get(URLUtil.lowerCaseProtocol(protocol));\n","filename":"src\/java.base\/share\/classes\/java\/net\/URLConnection.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+import java.util.Locale;\n@@ -53,2 +54,1 @@\n-            protocol = protocol.toLowerCase();\n-            strForm.append(protocol);\n+            strForm.append(lowerCaseProtocol(protocol));\n@@ -61,2 +61,3 @@\n-            host = host.toLowerCase();\n-            strForm.append(host);\n+            if (!host.isEmpty()) {\n+                strForm.append(host.toLowerCase());\n+            }\n@@ -83,0 +84,16 @@\n+    \/**\n+     * Returns the protocol in lower case. Special cases known protocols\n+     * to avoid loading locale classes during startup.\n+     *\/\n+    public static String lowerCaseProtocol(String protocol) {\n+        if (protocol.equals(\"jrt\")) {\n+            return \"jrt\";\n+        } else if (protocol.equals(\"file\")) {\n+            return \"file\";\n+        } else if (protocol.equals(\"jar\")) {\n+            return \"jar\";\n+        } else {\n+            return protocol.toLowerCase(Locale.ROOT);\n+        }\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/net\/util\/URLUtil.java","additions":21,"deletions":4,"binary":false,"changes":25,"status":"modified"}]}