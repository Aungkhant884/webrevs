{"files":[{"patch":"@@ -1695,1 +1695,1 @@\n-                                            BasicType bt, REDUCTION_OP op) {\n+                                            BasicType bt, int opc) {\n@@ -1703,2 +1703,3 @@\n-  switch (op) {\n-    case REDUCTION_OP::ADD:\n+  switch (opc) {\n+    case Op_AddReductionVI:\n+    case Op_AddReductionVL:\n@@ -1707,1 +1708,1 @@\n-    case REDUCTION_OP::AND:\n+    case Op_AndReductionV:\n@@ -1710,1 +1711,1 @@\n-    case REDUCTION_OP::OR:\n+    case Op_OrReductionV:\n@@ -1713,1 +1714,1 @@\n-    case REDUCTION_OP::XOR:\n+    case Op_XorReductionV:\n@@ -1716,1 +1717,1 @@\n-    case REDUCTION_OP::MAX:\n+    case Op_MaxReductionV:\n@@ -1719,1 +1720,1 @@\n-    case REDUCTION_OP::MIN:\n+    case Op_MinReductionV:\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -200,1 +200,1 @@\n-                          BasicType bt, REDUCTION_OP op);\n+                          BasicType bt, int opc);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1303,3 +1303,0 @@\n-\/\/ reduction related operations\n-enum REDUCTION_OP {ADD, AND, OR, XOR, MAX, MIN};\n-\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -812,1 +812,3 @@\n-  predicate(Matcher::vector_element_basic_type(n->in(2)) != T_LONG);\n+  predicate(Matcher::vector_element_basic_type(n->in(2)) == T_BYTE || \n+            Matcher::vector_element_basic_type(n->in(2)) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n->in(2)) == T_INT);\n@@ -822,1 +824,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::AND);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -838,1 +840,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::AND);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -846,1 +848,3 @@\n-  predicate(Matcher::vector_element_basic_type(n->in(2)) != T_LONG);\n+  predicate(Matcher::vector_element_basic_type(n->in(2)) == T_BYTE || \n+            Matcher::vector_element_basic_type(n->in(2)) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n->in(2)) == T_INT);\n@@ -856,1 +860,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::OR);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -872,1 +876,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::OR);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -880,1 +884,3 @@\n-  predicate(Matcher::vector_element_basic_type(n->in(2)) != T_LONG);\n+  predicate(Matcher::vector_element_basic_type(n->in(2)) == T_BYTE || \n+            Matcher::vector_element_basic_type(n->in(2)) == T_SHORT ||\n+            Matcher::vector_element_basic_type(n->in(2)) == T_INT);\n@@ -890,1 +896,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::XOR);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -906,1 +912,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::XOR);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -926,1 +932,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::ADD);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -942,1 +948,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::ADD);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -994,1 +1000,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::MAX);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -1008,1 +1014,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::MAX);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -1026,1 +1032,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::MIN);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n@@ -1040,1 +1046,1 @@\n-                           $src1$$Register, as_VectorRegister($src2$$reg), bt, REDUCTION_OP::MIN);\n+                           $src1$$Register, as_VectorRegister($src2$$reg), bt, this->ideal_Opcode());\n","filename":"src\/hotspot\/cpu\/riscv\/riscv_v.ad","additions":21,"deletions":15,"binary":false,"changes":36,"status":"modified"}]}