{"files":[{"patch":"@@ -203,1 +203,1 @@\n-      bool needs_new_entry = update_inherited_vtable(ik(), mh, super_vtable_len, -1, checkconstraints, CHECK);\n+      bool needs_new_entry = update_inherited_vtable(mh, super_vtable_len, -1, checkconstraints, CHECK);\n@@ -227,1 +227,1 @@\n-          bool needs_new_entry = update_inherited_vtable(ik(), mh, super_vtable_len, i, checkconstraints, CHECK);\n+          bool needs_new_entry = update_inherited_vtable(mh, super_vtable_len, i, checkconstraints, CHECK);\n@@ -231,3 +231,1 @@\n-            \/\/ Refetch this default method in case of redefinition in safepoint above.\n-            Method* method = default_methods->at(i);\n-            put_method_at(method, initialized);\n+            put_method_at(mh(), initialized);\n@@ -380,1 +378,1 @@\n-bool klassVtable::update_inherited_vtable(InstanceKlass* klass, const methodHandle& target_method,\n+bool klassVtable::update_inherited_vtable(const methodHandle& target_method,\n@@ -385,1 +383,2 @@\n-  assert(klass->is_instance_klass(), \"must be InstanceKlass\");\n+\n+  InstanceKlass* klass = ik();\n@@ -498,4 +497,0 @@\n-        \/\/ Speculatively set the vtable index before the constraint check safepoint\n-        \/\/ redefines this method, which is possible if it is a default method.\n-        put_method_at(target_method(), i);\n-\n@@ -539,0 +534,1 @@\n+        put_method_at(target_method(), i);\n","filename":"src\/hotspot\/share\/oops\/klassVtable.cpp","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -119,1 +119,4 @@\n-  bool update_inherited_vtable(InstanceKlass* klass, const methodHandle& target_method, int super_vtable_len, int default_index, bool checkconstraints, TRAPS);\n+  bool update_inherited_vtable(const methodHandle& target_method,\n+                               int super_vtable_len,\n+                               int default_index,\n+                               bool checkconstraints, TRAPS);\n","filename":"src\/hotspot\/share\/oops\/klassVtable.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}