{"files":[{"patch":"@@ -37,1 +37,1 @@\n-  _obj(storage->allocate()) {\n+    _obj(storage->allocate()) {\n","filename":"src\/hotspot\/share\/oops\/weakHandle.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -244,0 +244,1 @@\n+#ifdef ASSERT\n@@ -247,3 +248,0 @@\n-  \/\/ ThreadService::get_current_contended_monitor() can call here via\n-  \/\/ the VMThread so sanity check it.\n-  guarantee(self->is_Java_thread() || self->is_VM_thread(), \"must be\");\n@@ -251,0 +249,1 @@\n+    \/\/ Mostly called from JavaThreads so sanity check the thread state.\n@@ -259,1 +258,5 @@\n-    guarantee(jt->is_active_Java_thread(), \"must be active JavaThread\");\n+    assert(jt->is_active_Java_thread(), \"must be active JavaThread\");\n+  } else {\n+    \/\/ However, ThreadService::get_current_contended_monitor()\n+    \/\/ can call here via the VMThread so sanity check it.\n+    assert(self->is_VM_thread(), \"must be\");\n@@ -262,0 +265,1 @@\n+#endif \/\/ ASSERT\n@@ -264,0 +268,1 @@\n+#ifdef ASSERT\n@@ -265,0 +270,1 @@\n+#endif\n@@ -279,0 +285,1 @@\n+#ifdef ASSERT\n@@ -280,0 +287,1 @@\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.cpp","additions":12,"deletions":4,"binary":false,"changes":16,"status":"modified"}]}