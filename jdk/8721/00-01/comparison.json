{"files":[{"patch":"@@ -26,0 +26,2 @@\n+   @library \/java\/awt\/regtesthelpers\n+   @build PassFailJFrame\n@@ -34,1 +36,0 @@\n-import java.awt.FlowLayout;\n@@ -43,1 +44,0 @@\n-import javax.swing.JTextArea;\n@@ -50,3 +50,0 @@\n-import java.util.concurrent.atomic.AtomicReference;\n-import java.util.concurrent.CountDownLatch;\n-import java.util.concurrent.TimeUnit;\n@@ -56,3 +53,10 @@\n-    static JFrame frame;\n-    static final CountDownLatch latch = new CountDownLatch(1);\n-    private static AtomicReference<Boolean> testResult = new AtomicReference<>(false);\n+    static String instructions\n+            = \"INSTRUCTIONS:\" +\n+            \"\\n 1. This is a Windows specific test. If you are not on \" +\n+            \"Windows, press Pass.\" +\n+            \"\\n 2. Check if the Left insets(margins) is set visually \" +\n+            \"similar to other three sides around Radio Button and CheckBox\" +\n+            \"(insets set to 20 on all 4 sides).\" +\n+            \"\\n 3. If Left insets(margins) appear Empty, press Fail, \" +\n+            \"else press Pass.\";\n+    static PassFailJFrame passFailJFrame;\n@@ -65,0 +69,1 @@\n+                    passFailJFrame = new PassFailJFrame(instructions);\n@@ -66,1 +71,3 @@\n-                    createUI();\n+                    \/\/Adding the Test Frame to handle dispose\n+                    PassFailJFrame.addTestFrame(testObj);\n+                    PassFailJFrame.positionTestFrame(testObj, PassFailJFrame.Position.HORIZONTAL);\n@@ -72,75 +79,1 @@\n-\n-        boolean status = latch.await(5, TimeUnit.MINUTES);\n-\n-        if (!status) {\n-            System.out.println(\"Test timed out.\");\n-        }\n-\n-        onCompletion(testResult);\n-\n-    }\n-\n-    public static void createUI() throws Exception {\n-        frame = new JFrame();\n-        JPanel mainControlPanel = new JPanel(new BorderLayout());\n-        JPanel resultButtonPanel = new JPanel(new FlowLayout());\n-\n-        JTextArea instructionTextArea = new JTextArea();\n-\n-        String instructions\n-                = \"INSTRUCTIONS:\" +\n-                \"\\n 1. This is a Windows specific test. If you are not on \" +\n-                \"Windows, press Pass.\" +\n-                \"\\n 2. Check if the Left insets(margins) is set visually \" +\n-                \"similar to other three sides around Radio Button and CheckBox\" +\n-                \"(insets set to 20 on all 4 sides).\" +\n-                \"\\n 3. If Left insets(margins) appear Empty, press Fail, \" +\n-                \"else press Pass.\";\n-\n-        instructionTextArea.setText(instructions);\n-        instructionTextArea.setEnabled(false);\n-        instructionTextArea.setDisabledTextColor(Color.black);\n-        instructionTextArea.setBackground(Color.white);\n-\n-        mainControlPanel.add(instructionTextArea,BorderLayout.NORTH);\n-        JButton passButton = new JButton(\"Pass\");\n-        passButton.setActionCommand(\"Pass\");\n-\n-        passButton.addActionListener((ActionEvent e) -> {\n-            testResult.set(true);\n-            latch.countDown();\n-        });\n-\n-        JButton failButton = new JButton(\"Fail\");\n-        failButton.setActionCommand(\"Fail\");\n-        failButton.addActionListener((ActionEvent e) -> {\n-            testResult.set(false);\n-            latch.countDown();\n-        });\n-\n-        resultButtonPanel.add(passButton);\n-        resultButtonPanel.add(failButton);\n-        mainControlPanel.add(resultButtonPanel);\n-        frame.getContentPane().add(mainControlPanel,BorderLayout.SOUTH);\n-\n-        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n-        frame.setLocation(500,50);\n-        frame.setSize(400, 150);\n-        frame.pack();\n-        frame.setVisible(true);\n-\n-        Thread.sleep(1000);\n-    }\n-\n-    private static void disposeUI()\n-    {\n-        testObj.dispose();\n-        frame.dispose();\n-    }\n-    private static void onCompletion(AtomicReference<Boolean> res)\n-    {\n-        disposeUI();\n-        if (res.toString() == \"false\")\n-        {\n-            throw new RuntimeException(\"Test Failed\");\n-        }\n+        passFailJFrame.awaitAndCheck();\n@@ -157,1 +90,0 @@\n-\n@@ -160,1 +92,0 @@\n-\n@@ -174,1 +105,0 @@\n-\n@@ -178,1 +108,0 @@\n-\n@@ -208,1 +137,0 @@\n-        setDefaultCloseOperation(EXIT_ON_CLOSE);\n@@ -211,1 +139,0 @@\n-        Thread.sleep(1000);\n@@ -224,1 +151,1 @@\n-\n+    \/\/Changing the Look and Feel on user selection\n@@ -231,1 +158,0 @@\n-\n","filename":"test\/jdk\/javax\/swing\/JRadioButton\/bug4380543.java","additions":18,"deletions":92,"binary":false,"changes":110,"status":"modified"}]}