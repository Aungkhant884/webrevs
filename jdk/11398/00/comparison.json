{"files":[{"patch":"@@ -29,1 +29,1 @@\n- *              -nativepath:<path-to-build-dir>\/support\/test\/jdk\/jtreg\/native\/manual\/lib\/ \\\n+ *              -nativepath:<path-to-build-dir>\/images\/test\/jdk\/jtreg\/native\/ \\\n@@ -41,2 +41,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -53,2 +53,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -65,2 +65,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -77,2 +77,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -82,1 +82,1 @@\n-\/* @test id=Downcall-F\n+\/* @test id=DowncallScope-F\n@@ -85,1 +85,1 @@\n- * @build NativeTestHelper CallGeneratorHelper TestDowncall\n+ * @build NativeTestHelper CallGeneratorHelper TestDowncallBase\n@@ -89,2 +89,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   TestDowncall\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   TestDowncallScope\n@@ -93,1 +93,1 @@\n-\/* @test id=Downcall-T\n+\/* @test id=DowncallScope-T\n@@ -96,1 +96,1 @@\n- * @build NativeTestHelper CallGeneratorHelper TestDowncall\n+ * @build NativeTestHelper CallGeneratorHelper TestDowncallBase\n@@ -100,2 +100,24 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   TestDowncall\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   TestDowncallScope\n+ *\/\n+\n+\/* @test id=DowncallStack-F\n+ * @enablePreview\n+ * @requires ((os.arch == \"amd64\" | os.arch == \"x86_64\") & sun.arch.data.model == \"64\") | os.arch == \"aarch64\"\n+ * @build NativeTestHelper CallGeneratorHelper TestDowncallBase\n+ *\n+ * @run testng\/othervm\/native\/manual\n+ *   --enable-native-access=ALL-UNNAMED\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   TestDowncallStack\n+ *\/\n+\n+\/* @test id=DowncallStack-T\n+ * @enablePreview\n+ * @requires ((os.arch == \"amd64\" | os.arch == \"x86_64\") & sun.arch.data.model == \"64\") | os.arch == \"aarch64\"\n+ * @build NativeTestHelper CallGeneratorHelper TestDowncallBase\n+ *\n+ * @run testng\/othervm\/native\/manual\n+ *   --enable-native-access=ALL-UNNAMED\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   TestDowncallStack\n@@ -111,2 +133,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -123,2 +145,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -135,2 +157,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -147,2 +169,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -159,2 +181,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -171,2 +193,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -183,2 +205,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -195,2 +217,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -207,2 +229,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -219,2 +241,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=false\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=false\n@@ -231,2 +253,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=false\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=false\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -243,2 +265,2 @@\n- *   -Djdk.internal.foreign.ProgrammableInvoker.USE_SPEC=true\n- *   -Djdk.internal.foreign.ProgrammableUpcallHandler.USE_SPEC=true\n+ *   -Djdk.internal.foreign.DowncallLinker.USE_SPEC=true\n+ *   -Djdk.internal.foreign.UpcallLinker.USE_SPEC=true\n@@ -247,0 +269,11 @@\n+\n+\/*\n+ * @test id=VarArgs\n+ * @enablePreview\n+ * @requires ((os.arch == \"amd64\" | os.arch == \"x86_64\") & sun.arch.data.model == \"64\") | os.arch == \"aarch64\"\n+ * @build NativeTestHelper CallGeneratorHelper\n+ *\n+ * @run testng\/othervm\/native\/manual\n+ *   --enable-native-access=ALL-UNNAMED\n+ *   TestVarArgs\n+ *\/\n","filename":"test\/jdk\/java\/foreign\/TestMatrix.java","additions":74,"deletions":41,"binary":false,"changes":115,"status":"modified"}]}