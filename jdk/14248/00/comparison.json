{"files":[{"patch":"@@ -401,2 +401,3 @@\n-  const uint _gc_id;\n-  bool       _success;\n+  const uint           _gc_id;\n+  const GCCause::Cause _gc_cause;\n+  bool                 _success;\n@@ -405,1 +406,1 @@\n-  VM_ZOperation()\n+  VM_ZOperation(GCCause::Cause gc_cause)\n@@ -407,0 +408,1 @@\n+      _gc_cause(gc_cause),\n@@ -409,0 +411,4 @@\n+  virtual const char* cause() const {\n+    return GCCause::to_string(_gc_cause);\n+  }\n+\n@@ -561,0 +567,3 @@\n+  VM_ZMarkStartYoungAndOld()\n+    : VM_ZOperation(ZDriver::major()->gc_cause()) {}\n+\n@@ -581,1 +590,16 @@\n-class VM_ZMarkStartYoung : public VM_ZOperation {\n+class VM_ZYoungOperation : public VM_ZOperation {\n+private:\n+  static ZDriver* driver() {\n+    if (ZGeneration::young()->type() == ZYoungType::minor) {\n+      return ZDriver::minor();\n+    } else {\n+      return ZDriver::major();\n+    }\n+  }\n+\n+public:\n+  VM_ZYoungOperation()\n+    : VM_ZOperation(driver()->gc_cause()) {}\n+};\n+\n+class VM_ZMarkStartYoung : public VM_ZYoungOperation {\n@@ -629,1 +653,1 @@\n-class VM_ZMarkEndYoung : public VM_ZOperation {\n+class VM_ZMarkEndYoung : public VM_ZYoungOperation {\n@@ -788,1 +812,2 @@\n-class VM_ZRelocateStartYoung : public VM_ZOperation {\n+class VM_ZRelocateStartYoung : public VM_ZYoungOperation {\n+\n@@ -1050,0 +1075,3 @@\n+  VM_ZMarkEndOld()\n+    : VM_ZOperation(ZDriver::major()->gc_cause()) {}\n+\n@@ -1128,0 +1156,3 @@\n+  VM_ZRelocateStartOld()\n+    : VM_ZOperation(ZDriver::major()->gc_cause()) {}\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zGeneration.cpp","additions":37,"deletions":6,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -241,0 +241,2 @@\n+  const char* cause() const { return _op->name(); }\n+\n","filename":"src\/hotspot\/share\/runtime\/handshake.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -177,0 +177,2 @@\n+  \/\/ Extra information about what triggered this operation.\n+  virtual const char* cause() const { return nullptr; }\n","filename":"src\/hotspot\/share\/runtime\/vmOperation.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -410,1 +410,8 @@\n-  EventMarkVMOperation em(\"Executing %sVM operation: %s\", prev_vm_operation != nullptr ? \"nested \" : \"\", op->name());\n+\n+  const char* const cause = op->cause();\n+  EventMarkVMOperation em(\"Executing %sVM operation: %s%s%s%s\",\n+      prev_vm_operation != nullptr ? \"nested \" : \"\",\n+      op->name(),\n+      cause != nullptr ? \" (\" : \"\",\n+      cause != nullptr ? cause : \"\",\n+      cause != nullptr ? \")\" : \"\");\n","filename":"src\/hotspot\/share\/runtime\/vmThread.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}