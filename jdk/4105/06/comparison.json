{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -116,2 +116,2 @@\n-            else if (out instanceof PrintWriter)\n-                context.put(Log.errKey, ((PrintWriter) out));\n+            else if (out instanceof PrintWriter pout)\n+                context.put(Log.errKey, pout);\n@@ -123,2 +123,2 @@\n-                if (fileManager instanceof BaseFileManager) {\n-                    ((BaseFileManager) fileManager).autoClose = true;\n+                if (fileManager instanceof BaseFileManager bfm) {\n+                    bfm.autoClose = true;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/api\/JavadocTool.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -473,1 +473,1 @@\n-            if (type instanceof TypeElement) {\n+            if (type instanceof TypeElement te) {\n@@ -475,1 +475,1 @@\n-                        new HtmlLinkInfo(configuration, context, (TypeElement)(type)));\n+                        new HtmlLinkInfo(configuration, context, te));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ClassWriterImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -410,4 +410,4 @@\n-            } else if (o instanceof String) {\n-                c.add((String) o);\n-            } else if (o instanceof Content) {\n-                c.add((Content) o);\n+            } else if (o instanceof String str) {\n+                c.add(str);\n+            } else if (o instanceof Content con) {\n+                c.add(con);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Contents.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -357,2 +357,1 @@\n-        if (overviewpath != null && getFileManager() instanceof StandardJavaFileManager) {\n-            StandardJavaFileManager fm = (StandardJavaFileManager) getFileManager();\n+        if (overviewpath != null && getFileManager() instanceof StandardJavaFileManager fm) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlConfiguration.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1126,2 +1126,2 @@\n-                if (this instanceof ClassWriterImpl) {\n-                    containing = ((ClassWriterImpl) this).getTypeElement();\n+                if (this instanceof ClassWriterImpl writer) {\n+                    containing = writer.getTypeElement();\n@@ -2132,5 +2132,5 @@\n-        if (element instanceof PackageElement) {\n-            stylesheets.addAll(getModuleStylesheets((PackageElement)element));\n-            basePath = docPaths.forPackage((PackageElement)element);\n-        } else if (element instanceof ModuleElement) {\n-            basePath = DocPaths.forModule((ModuleElement)element);\n+        if (element instanceof PackageElement pkg) {\n+            stylesheets.addAll(getModuleStylesheets(pkg));\n+            basePath = docPaths.forPackage(pkg);\n+        } else if (element instanceof ModuleElement mdle) {\n+            basePath = DocPaths.forModule(mdle);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -54,2 +54,1 @@\n-        output.append(o instanceof String ?\n-            (String) o : ((LinkOutputImpl)o).toString());\n+        output.append(o instanceof String s ? s : ((LinkOutputImpl) o).toString());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/LinkOutputImpl.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-            if (elem instanceof PackageElement && configuration.docEnv.isIncluded(elem)\n+            if (elem instanceof PackageElement pkg && configuration.docEnv.isIncluded(elem)\n@@ -180,1 +180,1 @@\n-                convertPackage((PackageElement) elem, outputdir);\n+                convertPackage(pkg, outputdir);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SourceToHTMLConverter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -158,2 +158,1 @@\n-        } else if (element instanceof DocletElement) {\n-            DocletElement e = (DocletElement) element;\n+        } else if (element instanceof DocletElement e) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SystemPropertiesWriter.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -323,1 +323,1 @@\n-                htmlWriter instanceof ClassWriterImpl) {\n+                htmlWriter instanceof ClassWriterImpl writer) {\n@@ -328,1 +328,1 @@\n-                    ((ClassWriterImpl) htmlWriter).getTypeElement().getQualifiedName() + \".\" +\n+                    writer.getTypeElement().getQualifiedName() + \".\" +\n@@ -509,2 +509,1 @@\n-                        if (e instanceof DocletElement) {\n-                            DocletElement de = (DocletElement) e;\n+                        if (e instanceof DocletElement de) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TagletWriterImpl.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -55,2 +55,2 @@\n-        if (content instanceof ContentBuilder) {\n-            contents.addAll(((ContentBuilder) content).contents);\n+        if (content instanceof ContentBuilder cb) {\n+            contents.addAll(cb.contents);\n@@ -68,2 +68,2 @@\n-            if (c != null && c instanceof TextBuilder) {\n-                tb = (TextBuilder) c;\n+            if (c instanceof TextBuilder tbi) {\n+                tb = tbi;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/ContentBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -177,2 +177,2 @@\n-        if (content instanceof ContentBuilder) {\n-            ((ContentBuilder) content).contents.forEach(this::add);\n+        if (content instanceof ContentBuilder cb) {\n+            cb.contents.forEach(this::add);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlTree.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -372,1 +372,1 @@\n-            if (t instanceof ParamTree && ((ParamTree) t).getName().getName() == component) {\n+            if (t instanceof ParamTree pt && pt.getName().getName() == component) {\n@@ -423,2 +423,1 @@\n-                if (e instanceof DocletElement) {\n-                    DocletElement de = (DocletElement)e;\n+                if (e instanceof DocletElement de) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/CommentUtils.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -319,2 +319,2 @@\n-                    t -> (t instanceof UnknownBlockTagTree)\n-                            && ((UnknownBlockTagTree) t).getTagName().equals(\"propertyDescription\"));\n+                    t -> (t instanceof UnknownBlockTagTree tree)\n+                            && (tree.getTagName().equals(\"propertyDescription\")));\n@@ -334,2 +334,2 @@\n-                t -> (t instanceof UnknownBlockTagTree)\n-                        && ((UnknownBlockTagTree) t).getTagName().equals(\"defaultValue\"));\n+                t -> (t instanceof UnknownBlockTagTree tree)\n+                        && (tree.getTagName().equals(\"defaultValue\")));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/builders\/MemberSummaryBuilder.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -226,2 +226,1 @@\n-        if (fileManager instanceof StandardJavaFileManager) {\n-            StandardJavaFileManager sfm = (StandardJavaFileManager)fileManager;\n+        if (fileManager instanceof StandardJavaFileManager sfm) {\n@@ -556,2 +555,1 @@\n-                if (e instanceof DocletElement) {\n-                    DocletElement de = (DocletElement) e;\n+                if (e instanceof DocletElement de) {\n@@ -756,1 +754,1 @@\n-                    + format((t instanceof SimpleTaglet) && !((SimpleTaglet) t).enabled, \"disabled\"));\n+                    + format((t instanceof SimpleTaglet st) && !st.enabled, \"disabled\"));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/TagletManager.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -266,2 +266,1 @@\n-            if (element.getKind() == ElementKind.MODULE && taglet instanceof BaseTaglet) {\n-                BaseTaglet t = (BaseTaglet) taglet;\n+            if (element.getKind() == ElementKind.MODULE && taglet instanceof BaseTaglet t) {\n@@ -283,1 +282,1 @@\n-            if (taglet instanceof SimpleTaglet && !((SimpleTaglet) taglet).enabled) {\n+            if (taglet instanceof SimpleTaglet st && !st.enabled) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/TagletWriter.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -77,2 +77,2 @@\n-            exception = input.docTreeInfo.docTree instanceof ThrowsTree\n-                    ? ch.getException((ThrowsTree) input.docTreeInfo.docTree) : null;\n+            exception = input.docTreeInfo.docTree instanceof ThrowsTree tt\n+                    ? ch.getException(tt) : null;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/ThrowsTaglet.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-        return (other instanceof DocPath) && path.equals(((DocPath)other).path);\n+        return (other instanceof DocPath dp) && path.equals(dp.path);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPath.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -399,2 +399,2 @@\n-        if (element instanceof ModuleElement) {\n-            item = moduleItems.get(utils.getModuleName((ModuleElement)element));\n+        if (element instanceof ModuleElement me) {\n+            item = moduleItems.get(utils.getModuleName(me));\n@@ -402,3 +402,2 @@\n-        else if (element instanceof PackageElement) {\n-            PackageElement packageElement = (PackageElement)element;\n-            ModuleElement moduleElement = utils.containingModule(packageElement);\n+        else if (element instanceof PackageElement pkg) {\n+            ModuleElement moduleElement = utils.containingModule(pkg);\n@@ -406,1 +405,1 @@\n-            item = (pkgMap != null) ? pkgMap.get(utils.getPackageName(packageElement)) : null;\n+            item = (pkgMap != null) ? pkgMap.get(utils.getPackageName(pkg)) : null;\n@@ -627,2 +626,1 @@\n-            if (conn instanceof HttpURLConnection) {\n-                HttpURLConnection http = (HttpURLConnection)conn;\n+            if (conn instanceof HttpURLConnection http) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/Extern.java","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -1739,1 +1739,1 @@\n-            if (baseCollator instanceof RuleBasedCollator) {\n+            if (baseCollator instanceof RuleBasedCollator rbc) {\n@@ -1743,1 +1743,1 @@\n-                    return new RuleBasedCollator(((RuleBasedCollator) baseCollator).getRules()\n+                    return new RuleBasedCollator(rbc.getRules()\n@@ -2335,2 +2335,2 @@\n-            else if (val instanceof String)\n-                return sourceForm((String) val);\n+            else if (val instanceof String s)\n+                return sourceForm(s);\n@@ -2634,4 +2634,4 @@\n-            if (taglet instanceof BaseTaglet) {\n-                return ((BaseTaglet) taglet).accepts(t);\n-            } else if (t instanceof UnknownBlockTagTree) {\n-                return ((UnknownBlockTagTree) t).getTagName().equals(taglet.getName());\n+            if (taglet instanceof BaseTaglet bt) {\n+                return bt.accepts(t);\n+            } else if (t instanceof UnknownBlockTagTree tree) {\n+                return tree.getTagName().equals(taglet.getName());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/Utils.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -594,1 +594,1 @@\n-        if (tsi.tag != null && tsi.tree instanceof StartElementTree) {\n+        if (tsi.tag != null && tsi.tree instanceof StartElementTree startTree) {\n@@ -600,2 +600,2 @@\n-                DocTree tree = (endTree != null) ? endTree : tsi.tree;\n-                Name treeName = ((StartElementTree) tsi.tree).getName();\n+                DocTree tree = (endTree != null) ? endTree : startTree;\n+                Name treeName = startTree.getName();\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclint\/Checker.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1165,2 +1165,1 @@\n-            if (obj instanceof ModulePackage) {\n-                ModulePackage that = (ModulePackage)obj;\n+            if (obj instanceof ModulePackage that) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/tool\/ElementsTable.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -161,2 +161,2 @@\n-            StandardJavaFileManager fm = toolEnv.fileManager instanceof StandardJavaFileManager\n-                    ? (StandardJavaFileManager) toolEnv.fileManager\n+            StandardJavaFileManager fm = toolEnv.fileManager instanceof StandardJavaFileManager sfm\n+                    ? sfm\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/tool\/JavadocTool.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-        if (instance == null || !(instance instanceof Messager))\n+        if (!(instance instanceof Messager m))\n@@ -71,1 +71,1 @@\n-        return (Messager)instance;\n+        return m;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/tool\/Messager.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -143,2 +143,2 @@\n-        if (log instanceof Messager) {\n-            messager = (Messager) log;\n+        if (log instanceof Messager m){\n+            messager = m;\n@@ -369,2 +369,2 @@\n-            if (fileManager instanceof BaseFileManager) {\n-                ((BaseFileManager) fileManager).autoClose = true;\n+            if (fileManager instanceof BaseFileManager bfm) {\n+                bfm.autoClose = true;\n@@ -436,3 +436,2 @@\n-            if (fileManager != null\n-                    && fileManager instanceof BaseFileManager\n-                    && ((BaseFileManager) fileManager).autoClose) {\n+            if (fileManager instanceof BaseFileManager bfm\n+                    && bfm.autoClose) {\n@@ -521,2 +520,2 @@\n-        if (fileManager instanceof BaseFileManager) {\n-            ((BaseFileManager) fileManager).handleOptions(options.fileManagerOptions());\n+        if (fileManager instanceof BaseFileManager bfm) {\n+            bfm.handleOptions(options.fileManagerOptions());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/tool\/Start.java","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -151,2 +151,2 @@\n-        if (fileManager instanceof JavacFileManager) {\n-            ((JavacFileManager)fileManager).setSymbolFileEnabled(false);\n+        if (fileManager instanceof JavacFileManager jfm) {\n+            jfm.setSymbolFileEnabled(false);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/tool\/ToolEnvironment.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}