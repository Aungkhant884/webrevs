{"files":[{"patch":"@@ -28,2 +28,0 @@\n- * @modules jdk.compiler\n- *          jdk.jartool\/sun.tools.jar\n@@ -33,1 +31,0 @@\n-import java.io.File;\n@@ -37,7 +34,1 @@\n-import java.util.ArrayList;\n-import java.util.List;\n-import javax.tools.DiagnosticCollector;\n-import javax.tools.JavaFileObject;\n-import javax.tools.StandardJavaFileManager;\n-import javax.tools.StandardLocation;\n-import javax.tools.ToolProvider;\n+import java.util.spi.ToolProvider;\n@@ -63,1 +54,1 @@\n-        sun.tools.jar.Main jarGenerator = new sun.tools.jar.Main(System.out, System.err, \"jar\");\n+        ToolProvider jarTool = ToolProvider.findFirst(\"jar\").orElseThrow(() -> new RuntimeException(\"jar tool not found\"));\n@@ -72,1 +63,1 @@\n-        jarGenerator.run(new String[] {\"--create\", \"--file\", \"foo.jar\", \"-C\", \"out\", \".\"});\n+        jarTool.run(System.out, System.err, new String[] {\"--create\", \"--file\", \"foo.jar\", \"-C\", \"out\", \".\"});\n@@ -76,2 +67,2 @@\n-        jarGenerator = new sun.tools.jar.Main(System.out, System.err, \"jar\");\n-        if (!jarGenerator.run(new String[]{\"--validate\", \"--file\", \"foo.jar\"})) {\n+        jarTool = ToolProvider.findFirst(\"jar\").orElseThrow(() -> new RuntimeException(\"jar tool not found\"));\n+        if (jarTool.run(System.out, System.err, new String[]{\"--validate\", \"--file\", \"foo.jar\"}) != 0) {\n","filename":"test\/langtools\/tools\/javac\/sealed\/ValidateJarWithSealedAndRecord.java","additions":5,"deletions":14,"binary":false,"changes":19,"status":"modified"}]}