{"files":[{"patch":"@@ -331,1 +331,15 @@\n-            return load(this, name, isBuiltin, loadLibraryOnlyIfPresent);\n+            return load(this, name, isBuiltin, throwExceptionIfFail());\n+        }\n+\n+        @SuppressWarnings(\"removal\")\n+        private boolean throwExceptionIfFail() {\n+            if (loadLibraryOnlyIfPresent) return true;\n+\n+            \/\/ If the file exists but fails to load, UnsatisfiedLinkException thrown by the VM\n+            \/\/ will include the error message from dlopen to provide diagnostic information\n+            return AccessController.doPrivileged(new PrivilegedAction<>() {\n+                public Boolean run() {\n+                    File file = new File(name);\n+                    return file.exists();\n+                }\n+            });\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/loader\/NativeLibraries.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}