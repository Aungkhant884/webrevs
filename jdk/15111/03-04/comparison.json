{"files":[{"patch":"@@ -117,1 +117,1 @@\n-static volatile int _items_count = 0;\n+static volatile size_t _items_count = 0;\n@@ -668,1 +668,1 @@\n-  VerifyCompStrings() : _table((_items_count \/ 8) + 1, 0 \/* do not resize *\/), _errors(0) {}\n+  VerifyCompStrings() : _table(unsigned(_items_count \/ 8) + 1, 0 \/* do not resize *\/), _errors(0) {}\n@@ -804,2 +804,2 @@\n-  if (_items_count > max_jint) {\n-    fatal(\"Too many strings to be archived: %d\", _items_count);\n+  if (_items_count > (size_t)max_jint) {\n+    fatal(\"Too many strings to be archived: \" SIZE_FORMAT, _items_count);\n@@ -808,1 +808,1 @@\n-  int total = _items_count;\n+  int total = (int)_items_count;\n@@ -828,1 +828,1 @@\n-      log_error(cds)(\"Too many strings to be archived: %d\", _items_count);\n+      log_error(cds)(\"Too many strings to be archived: \" SIZE_FORMAT, _items_count);\n@@ -891,1 +891,1 @@\n-  CompactHashtableWriter writer(_items_count, ArchiveBuilder::string_stats());\n+  CompactHashtableWriter writer((int)_items_count, ArchiveBuilder::string_stats());\n","filename":"src\/hotspot\/share\/classfile\/stringTable.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-static volatile int    _items_count = 0;\n+static volatile size_t _items_count = 0;\n@@ -660,1 +660,4 @@\n-  return CompactHashtableWriter::estimate_size(_items_count);\n+  if (_items_count > (size_t)max_jint) {\n+    fatal(\"Too many symbols to be archived: \" SIZE_FORMAT, _items_count);\n+  }\n+  return CompactHashtableWriter::estimate_size(int(_items_count));\n@@ -664,1 +667,1 @@\n-  CompactHashtableWriter writer(_items_count, ArchiveBuilder::symbol_stats());\n+  CompactHashtableWriter writer(int(_items_count), ArchiveBuilder::symbol_stats());\n","filename":"src\/hotspot\/share\/classfile\/symbolTable.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}