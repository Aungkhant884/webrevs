{"files":[{"patch":"@@ -5320,27 +5320,0 @@\n-void C2_MacroAssembler::float_class_check_vfp(int opcode, Register dst, XMMRegister src, KRegister tmp) {\n-  uint8_t imm8;\n-  switch (opcode) {\n-  \/\/ allows future usecases (ex: isNaN, isFinite)\n-    case Op_IsInfiniteF:\n-      imm8 = 0x18;\n-      break;\n-    default:\n-      assert(false, \"%s\", NodeClassNames[opcode]);\n-  }\n-  vfpclassss(tmp, src, imm8);\n-  kmovbl(dst, tmp);\n-}\n-\n-void C2_MacroAssembler::double_class_check_vfp(int opcode, Register dst, XMMRegister src, KRegister tmp) {\n-  uint8_t imm8;\n-  switch (opcode) {\n-    \/\/ allows future usecases (ex: isNaN, isFinite)\n-    case Op_IsInfiniteD:\n-      imm8 = 0x18;\n-      break;\n-    default:\n-      assert(false, \"%s\", NodeClassNames[opcode]);\n-  }\n-  vfpclasssd(tmp, src, imm8);\n-  kmovbl(dst, tmp);\n-}\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":0,"deletions":27,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -351,2 +351,0 @@\n-  void float_class_check_vfp(int opcode, Register dst, XMMRegister src, KRegister tmp);\n-  void double_class_check_vfp(int opcode, Register dst, XMMRegister src, KRegister tmp);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -10148,1 +10148,0 @@\n-  predicate(VM_Version::supports_avx512dq());\n@@ -10153,2 +10152,2 @@\n-    int opcode = this->ideal_Opcode();\n-    __ float_class_check_vfp(opcode, $dst$$Register, $src$$XMMRegister, $ktmp$$KRegister);\n+    __ vfpclassss($ktmp$$KRegister, $src$$XMMRegister, 0x18);\n+    __ kmovbl($dst$$Register, $ktmp$$KRegister);\n@@ -10161,1 +10160,0 @@\n-  predicate(VM_Version::supports_avx512dq());\n@@ -10166,2 +10164,2 @@\n-    int opcode = this->ideal_Opcode();\n-      __ double_class_check_vfp(opcode, $dst$$Register, $src$$XMMRegister, $ktmp$$KRegister);\n+    __ vfpclasssd($ktmp$$KRegister, $src$$XMMRegister, 0x18);\n+    __ kmovbl($dst$$Register, $ktmp$$KRegister);\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"}]}