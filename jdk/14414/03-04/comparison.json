{"files":[{"patch":"@@ -5692,1 +5692,0 @@\n-\/\/ - Z_R0_scratch: will be destroyed\n@@ -5695,2 +5694,0 @@\n-  const Register zero = Z_R0_scratch;\n-\n@@ -5739,2 +5736,0 @@\n-  z_lgf(tmp, Address(Z_thread, JavaThread::lock_stack_top_offset()));\n-  z_afi(tmp, -oopSize);\n@@ -5742,2 +5737,4 @@\n-  z_lghi(zero, 0); \/\/ Z_R0_scratch\n-  z_stg(zero, Address(Z_thread, tmp));\n+  z_lgf(tmp, Address(Z_thread, JavaThread::lock_stack_top_offset()));\n+  z_aghi(tmp, -oopSize);\n+  z_agr(tmp, Z_thread);\n+  z_xc(0, oopSize-1, tmp, 0, tmp);  \/\/ wipe out lock-stack entry\n@@ -5745,1 +5742,1 @@\n-  z_st(tmp, Address(Z_thread, JavaThread::lock_stack_top_offset()));\n+  z_alsi(in_bytes(JavaThread::lock_stack_top_offset()), Z_thread, -oopSize);  \/\/ pop object\n","filename":"src\/hotspot\/cpu\/s390\/macroAssembler_s390.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"}]}