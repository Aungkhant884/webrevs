{"files":[{"patch":"@@ -833,2 +833,0 @@\n-        String fileName;\n-\n@@ -872,11 +870,5 @@\n-                    if (standardProfileExists(\"PYCC.pf\"))\n-                    {\n-                        ProfileDeferralInfo pInfo =\n-                            new ProfileDeferralInfo(\"PYCC.pf\",\n-                                                    ColorSpace.TYPE_3CLR, 3,\n-                                                    CLASS_DISPLAY);\n-                        PYCCprofile = getDeferredInstance(pInfo);\n-                    } else {\n-                        throw new IllegalArgumentException(\n-                                \"Can't load standard profile: PYCC.pf\");\n-                    }\n+                    ProfileDeferralInfo pInfo =\n+                        new ProfileDeferralInfo(\"PYCC.pf\",\n+                                                ColorSpace.TYPE_3CLR, 3,\n+                                                CLASS_DISPLAY);\n+                    PYCCprofile = getDeferredInstance(pInfo);\n@@ -1853,11 +1845,0 @@\n-    \/**\n-     * Checks whether built-in profile specified by fileName exists.\n-     *\/\n-    private static boolean standardProfileExists(final String fileName) {\n-        return AccessController.doPrivileged(new PrivilegedAction<Boolean>() {\n-                public Boolean run() {\n-                    return PCMM.class.getResource(\"profiles\/\"+fileName) != null;\n-                }\n-            });\n-    }\n-\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/color\/ICC_Profile.java","additions":5,"deletions":24,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+import java.awt.color.CMMException;\n@@ -30,4 +31,0 @@\n-import java.awt.color.CMMException;\n-import java.awt.image.BufferedImage;\n-import java.awt.image.Raster;\n-import java.awt.image.WritableRaster;\n@@ -35,1 +32,1 @@\n-import java.security.PrivilegedAction;\n+\n@@ -106,5 +103,0 @@\n-        public void freeProfile(Profile p) {\n-            System.err.printf(cName + \".freeProfile(ID=%s)\\n\", p.toString());\n-            tcmm.freeProfile(p);\n-        }\n-\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/CMSManager.java","additions":3,"deletions":11,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,1 +36,0 @@\n-    public void freeProfile(Profile p);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/PCMM.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2006, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,17 +62,0 @@\n-    \/**\n-     * Removes a ProfileActivator object from the vector of ProfileActivator\n-     * objects whose activate method will be called if the CMM needs to be\n-     * activated.\n-     *\/\n-    public static void unregisterDeferral(ProfileActivator pa) {\n-\n-        if (!deferring) {\n-            return;\n-        }\n-        if (aVector == null) {\n-            return;\n-        }\n-        aVector.removeElement(pa);\n-        return;\n-    }\n-\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/ProfileDeferralMgr.java","additions":1,"deletions":18,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,1 @@\n+\n@@ -59,6 +60,0 @@\n-\n-    @Override\n-    public void freeProfile(Profile p) {\n-        \/\/ we use disposer, so this method does nothing\n-    }\n-\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMS.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"}]}