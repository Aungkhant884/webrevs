{"files":[{"patch":"@@ -285,1 +285,1 @@\n-                JstatdTest::isJstadReady, getJstatdCmd());\n+                JstatdTest::isJstatdReady, getJstatdCmd());\n@@ -305,2 +305,2 @@\n-    private static boolean isJstadReady(String line) {\n-        if (line.contains(\"Port already in use\")) {\n+    private static boolean isJstatdReady(String line) {\n+        if (line.contains(\"Port already in use\") || line.contains(\"Could not bind\")) {\n@@ -325,0 +325,1 @@\n+        int tries = 0;\n@@ -326,1 +327,1 @@\n-            while (jstatdThread == null) {\n+            while (jstatdThread == null && ++tries <= 10) {\n@@ -342,1 +343,0 @@\n-\n@@ -345,1 +345,3 @@\n-\n+            if (jstatdThread == null) {\n+                throw new RuntimeException(\"Cannot start jstatd.\");\n+            }\n","filename":"test\/jdk\/sun\/tools\/jstatd\/JstatdTest.java","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"}]}