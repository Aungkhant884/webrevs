{"files":[{"patch":"@@ -29,0 +29,1 @@\n+ * @library \/test\/lib\n@@ -47,0 +48,1 @@\n+import java.net.URISyntaxException;\n@@ -50,0 +52,2 @@\n+import jdk.test.lib.net.URIBuilder;\n+\n@@ -64,1 +68,1 @@\n-    String testContentLenURI;\n+    URI testContentLengthURI;\n@@ -67,1 +71,1 @@\n-    public void setup() throws IOException {\n+    public void setup() throws IOException, URISyntaxException {\n@@ -74,2 +78,5 @@\n-        testContentLenURI = \"http:\/\/\" + testContentLengthServer.getAddress().getHostString() +\n-                             \":\" + testContentLengthServer.getAddress().getPort();\n+        testContentLengthURI = URIBuilder.newBuilder()\n+                .scheme(\"http\")\n+                .loopback()\n+                .port(testContentLengthServer.getAddress().getPort())\n+                .build();\n@@ -79,1 +86,1 @@\n-        testLog.println(\"Request URI for Client: \" + testContentLenURI);\n+        testLog.println(\"Request URI for Client: \" + testContentLengthURI);\n@@ -95,1 +102,1 @@\n-                .uri(URI.create(testContentLenURI + NO_BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + NO_BODY_PATH))\n@@ -109,1 +116,1 @@\n-                .uri(URI.create(testContentLenURI + BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + BODY_PATH))\n@@ -123,1 +130,1 @@\n-                .uri(URI.create(testContentLenURI + NO_BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + NO_BODY_PATH))\n@@ -137,1 +144,1 @@\n-                .uri(URI.create(testContentLenURI + BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + BODY_PATH))\n@@ -151,1 +158,1 @@\n-                .uri(URI.create(testContentLenURI + NO_BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + NO_BODY_PATH))\n@@ -165,1 +172,1 @@\n-                .uri(URI.create(testContentLenURI + BODY_PATH))\n+                .uri(URI.create(testContentLengthURI + BODY_PATH))\n","filename":"test\/jdk\/java\/net\/httpclient\/ContentLengthHeaderTest.java","additions":18,"deletions":11,"binary":false,"changes":29,"status":"modified"}]}