{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -253,0 +253,4 @@\n+\/\/ An initial guess at the rate for pause-time card refinement for one\n+\/\/ thread, used when computing the default initial green zone value.\n+const double InitialPauseTimeCardRefinementRate = 200.0;\n+\n@@ -254,2 +258,1 @@\n-  size_t green = G1ConcRefinementGreenZone;\n-  const char* name = \"G1ConcRefinementGreenZone\";\n+  size_t green;\n@@ -257,2 +260,7 @@\n-    green = ParallelGCThreads;\n-    name = \"ParallelGCThreads\";\n+    const double rate = InitialPauseTimeCardRefinementRate * ParallelGCThreads;\n+    \/\/ The time budget for pause-time card refinement.\n+    const double ms = MaxGCPauseMillis * (G1RSetUpdatingPauseTimePercent \/ 100.0);\n+    green = rate * ms;\n+  } else {\n+    green = configuration_buffers_to_cards(G1ConcRefinementGreenZone,\n+                                           \"G1ConcRefinementGreenZone\");\n@@ -260,1 +268,0 @@\n-  green = configuration_buffers_to_cards(green, name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.cpp","additions":13,"deletions":6,"binary":false,"changes":19,"status":"modified"}]}