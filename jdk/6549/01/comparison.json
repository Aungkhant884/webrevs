{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -254,2 +254,1 @@\n-  size_t green = G1ConcRefinementGreenZone;\n-  const char* name = \"G1ConcRefinementGreenZone\";\n+  size_t green;\n@@ -257,2 +256,10 @@\n-    green = ParallelGCThreads;\n-    name = \"ParallelGCThreads\";\n+    \/\/ rate_1 is a relatively conservative guess at the rate for pause-time\n+    \/\/ card refinement by one thread.\n+    const double rate_1 = 200.0; \/\/ cards\/ms\/thread\n+    const double rate_n = rate_1 * ParallelGCThreads;\n+    \/\/ The time budget for pause-time card refinement.\n+    const double ms = MaxGCPauseMillis * (G1RSetUpdatingPauseTimePercent \/ 100.0);\n+    green = rate_n * ms;\n+  } else {\n+    green = configuration_buffers_to_cards(G1ConcRefinementGreenZone,\n+                                           \"G1ConcRefinementGreenZone\");\n@@ -260,1 +267,0 @@\n-  green = configuration_buffers_to_cards(green, name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.cpp","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"}]}