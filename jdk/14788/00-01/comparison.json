{"files":[{"patch":"@@ -24,1 +24,3 @@\n-public class lookupswitchp1 version 50:0 {\n+\/\/ This test generates a npairs that overflows int so lookupswitch is an invalid bytecode\n+\n+public class LookupSwitchp1 version 50:0 {\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/LookupSwitchp1.jasm","additions":3,"deletions":1,"binary":false,"changes":4,"previous_filename":"test\/hotspot\/jtreg\/runtime\/verifier\/lookupswitchp1.jasm","status":"renamed"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ This test generates (high - lo) that overflows int so tableswitch is an invalid bytecode\n+\/\/ If treated as unsigned lo > high but the tableswitch operands are signed int.\n+\n+public class TableSwitchp1 version 50:0 {\n+\n+public static Method runTable:\"()V\"\n+\tstack 4 locals 3\n+{\n+    iconst_0;\n+    bytecode 170; \/\/ tableswitch\n+    bytecode 0,0; \/\/ padding\n+    bytecode 0,0,0,15; \/\/ default target == L16\n+    bytecode 0x80,0,0,0; \/\/ 0x80000000 low\n+    bytecode 0x7F,0xFF,0xFF,0xFF; \/\/ 0x7fffffff high\n+    \/\/ no jump table, but gets past verifier\n+  L16:\n+    iconst_0;\n+    ireturn;\n+}\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/TableSwitchp1.jasm","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -31,1 +31,1 @@\n- * @compile tableswitchp1.jasm lookupswitchp1.jasm\n+ * @compile TableSwitchp1.jasm LookupSwitchp1.jasm\n@@ -40,1 +40,1 @@\n-                tableswitchp1.runTable();\n+                TableSwitchp1.runTable();\n@@ -42,1 +42,1 @@\n-                lookupswitchp1.runLookup();\n+                LookupSwitchp1.runLookup();\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/TestTableSwitch.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1,40 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-public class tableswitchp1 version 50:0 {\n-\n-public static Method runTable:\"()V\"\n-\tstack 4 locals 3\n-{\n-    iconst_0;\n-    bytecode 170; \/\/ tableswitch\n-    bytecode 0,0; \/\/ padding\n-    bytecode 0,0,0,15; \/\/ default target == L16\n-    bytecode 0x80,0,0,0; \/\/ 0x80000000 low\n-    bytecode 0x7F,0xFF,0xFF,0xFF; \/\/ 0x7fffffff high\n-    \/\/ no jump table, but gets past verifier\n-  L16:\n-    iconst_0;\n-    ireturn;\n-}\n-}\n","filename":"test\/hotspot\/jtreg\/runtime\/verifier\/tableswitchp1.jasm","additions":0,"deletions":40,"binary":false,"changes":40,"status":"deleted"}]}