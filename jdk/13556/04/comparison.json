{"files":[{"patch":"@@ -1518,0 +1518,1 @@\n+  st->fill_to(60);\n@@ -1523,1 +1524,1 @@\n-      if (java_lang_Thread::is_daemon(thread_obj)) st->print(\" daemon\");\n+      st->print(java_lang_Thread::is_daemon(thread_obj) ? \" daemon\" : \"       \");\n@@ -1531,2 +1532,3 @@\n-  st->print(\", stack(\" PTR_FORMAT \",\" PTR_FORMAT \")\",\n-            p2i(stack_end()), p2i(stack_base()));\n+  st->print(\", stack(\" PTR_FORMAT \",\" PTR_FORMAT \") (\" PROPERFMT \")\",\n+            p2i(stack_end()), p2i(stack_base()),\n+            PROPERFMTARGS(stack_size()));\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -486,0 +486,1 @@\n+    st->fill_to(67);\n@@ -487,3 +488,3 @@\n-      st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n-                p2i(stack_end()), p2i(stack_base()));\n-      st->print(\" [id=%d]\", osthread()->thread_id());\n+      st->print(\" [id=%d, stack(\" PTR_FORMAT \",\" PTR_FORMAT \") (\" PROPERFMT \")]\",\n+                osthread()->thread_id(), p2i(stack_end()), p2i(stack_base()),\n+                PROPERFMTARGS(stack_size()));\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -1301,0 +1301,1 @@\n+  unsigned _num_printed;\n@@ -1304,1 +1305,2 @@\n-   _st(st), _current(current), _buf(buf), _buflen(buflen), _found_current(found_current) {}\n+   _st(st), _current(current), _buf(buf), _buflen(buflen), _found_current(found_current),\n+   _num_printed(0) {}\n@@ -1307,0 +1309,1 @@\n+    _num_printed++;\n@@ -1309,0 +1312,2 @@\n+\n+  unsigned num_printed() const { return _num_printed; }\n@@ -1322,0 +1327,1 @@\n+  unsigned num_java = 0;\n@@ -1324,0 +1330,1 @@\n+    num_java++;\n@@ -1325,0 +1332,1 @@\n+  st->print_cr(\"Total: %u\", num_java);\n@@ -1328,0 +1336,3 @@\n+  unsigned num_other = ((VMThread::vm_thread() != nullptr) ? 1 : 0) +\n+      ((WatcherThread::watcher_thread() != nullptr) ? 1 : 0) +\n+      ((AsyncLogWriter::instance() != nullptr)  ? 1 : 0);\n@@ -1335,0 +1346,1 @@\n+    num_other += print_closure.num_printed();\n@@ -1341,0 +1353,1 @@\n+    num_other++;\n@@ -1343,0 +1356,1 @@\n+  st->print_cr(\"Total: %u\", num_other);\n@@ -1346,1 +1360,2 @@\n-  print_threads_compiling(st, buf, buflen);\n+  unsigned num = print_threads_compiling(st, buf, buflen);\n+  st->print_cr(\"Total: %u\", num);\n@@ -1349,1 +1364,2 @@\n-void Threads::print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form) {\n+unsigned Threads::print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form) {\n+  unsigned num = 0;\n@@ -1363,0 +1379,1 @@\n+        num++;\n@@ -1366,0 +1383,1 @@\n+  return num;\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":21,"deletions":3,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -131,1 +131,2 @@\n-  static void print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form = false);\n+  \/\/ Print threads busy compiling, and returns the number of printed threads.\n+  static unsigned print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form = false);\n","filename":"src\/hotspot\/share\/runtime\/threads.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}