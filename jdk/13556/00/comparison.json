{"files":[{"patch":"@@ -1518,0 +1518,1 @@\n+  st->fill_to(60);\n@@ -1523,1 +1524,1 @@\n-      if (java_lang_Thread::is_daemon(thread_obj)) st->print(\" daemon\");\n+      st->print(java_lang_Thread::is_daemon(thread_obj) ? \" daemon\" : \"       \");\n@@ -1531,2 +1532,3 @@\n-  st->print(\", stack(\" PTR_FORMAT \",\" PTR_FORMAT \")\",\n-            p2i(stack_end()), p2i(stack_base()));\n+  st->print(\", stack(\" PTR_FORMAT \",\" PTR_FORMAT \") (\" PROPERFMT \")\",\n+            p2i(stack_end()), p2i(stack_base()),\n+            PROPERFMTARGS((size_t)(stack_base() - stack_end())));\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -486,0 +486,1 @@\n+    st->fill_to(60);\n@@ -487,2 +488,3 @@\n-      st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"]\",\n-                p2i(stack_end()), p2i(stack_base()));\n+      st->print(\" [stack: \" PTR_FORMAT \",\" PTR_FORMAT \"] (\" PROPERFMT \")\",\n+                p2i(stack_end()), p2i(stack_base()),\n+                PROPERFMTARGS((size_t)(stack_base() - stack_end())));\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1299,0 +1299,1 @@\n+  unsigned _num_printed;\n@@ -1302,1 +1303,2 @@\n-   _st(st), _current(current), _buf(buf), _buflen(buflen), _found_current(found_current) {}\n+   _st(st), _current(current), _buf(buf), _buflen(buflen), _found_current(found_current),\n+   _num_printed(0) {}\n@@ -1305,0 +1307,1 @@\n+    _num_printed++;\n@@ -1307,0 +1310,2 @@\n+\n+  unsigned num_printed() const { return _num_printed; }\n@@ -1320,0 +1325,1 @@\n+  unsigned num_java = 0;\n@@ -1322,0 +1328,1 @@\n+    num_java++;\n@@ -1323,0 +1330,1 @@\n+  st->print_cr(\"Total: %u\", num_java);\n@@ -1326,0 +1334,1 @@\n+  unsigned num_other = 3;\n@@ -1333,0 +1342,1 @@\n+    num_other += print_closure.num_printed();\n@@ -1338,0 +1348,1 @@\n+    num_other += print_closure.num_printed();\n@@ -1344,0 +1355,1 @@\n+    num_other++;\n@@ -1346,0 +1358,1 @@\n+  st->print_cr(\"Total: %u\", num_other);\n@@ -1349,1 +1362,2 @@\n-  print_threads_compiling(st, buf, buflen);\n+  unsigned num = print_threads_compiling(st, buf, buflen);\n+  st->print_cr(\"Total: %u\", num);\n@@ -1352,1 +1366,2 @@\n-void Threads::print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form) {\n+unsigned Threads::print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form) {\n+  unsigned num = 0;\n@@ -1366,0 +1381,1 @@\n+        num++;\n@@ -1369,0 +1385,1 @@\n+  return num;\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -131,1 +131,2 @@\n-  static void print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form = false);\n+  \/\/ Print threads busy compiling, and returns the number of printed threads.\n+  static unsigned print_threads_compiling(outputStream* st, char* buf, int buflen, bool short_form = false);\n","filename":"src\/hotspot\/share\/runtime\/threads.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}