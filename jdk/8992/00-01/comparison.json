{"files":[{"patch":"@@ -158,1 +158,1 @@\n-  op.do_thread(current_thread);\n+  Handshake::execute(&op, &tlh, current_thread);\n","filename":"src\/hotspot\/share\/prims\/jvmtiExtensions.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -355,1 +355,3 @@\n-  assert(self != target, \"don't attempt to Handshake yourself\");\n+  if (self == target) {\n+    hs_cl->do_thread(self);\n+  }\n","filename":"src\/hotspot\/share\/runtime\/handshake.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -72,5 +72,0 @@\n-\n-  \/\/ For all methods which takes a target thread:\n-  \/\/ Do not Handshake::execute a HandshakeClosure if the target thread\n-  \/\/ is_handshake_safe_for the current thread. Instead use HandshakeClosure::do_thread.\n-\n","filename":"src\/hotspot\/share\/runtime\/handshake.hpp","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"}]}