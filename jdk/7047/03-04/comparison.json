{"files":[{"patch":"@@ -209,2 +209,3 @@\n-  size_t marked_words_in_regions[_evac_failure_regions->max_regions()];\n-  memset(marked_words_in_regions, 0, sizeof marked_words_in_regions);\n+  uint max_regions = _evac_failure_regions->max_regions();\n+  size_t* marked_words_in_regions = NEW_C_HEAP_ARRAY(size_t, max_regions, mtGC);\n+  memset(marked_words_in_regions, 0, sizeof(size_t) * max_regions);\n@@ -216,0 +217,2 @@\n+  Ticks start = Ticks::now();\n+  G1GCPhaseTimes* phase_times = G1CollectedHeap::heap()->phase_times();\n@@ -223,0 +226,3 @@\n+  phase_times->record_or_add_time_secs(G1GCPhaseTimes::SyncMarkedWordInRetainedRegions, worker_id, (Ticks::now() - start).seconds());\n+\n+  FREE_C_HEAP_ARRAY(size_t, marked_words_in_regions);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailure.cpp","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -109,0 +109,1 @@\n+  _gc_par_phases[SyncMarkedWordInRetainedRegions] = new WorkerDataArray<double>(\"SyncMarkedWordInRetainedRegions\", \"Sync Marked Words In Retained Regions (ms):\", max_gc_threads);\n@@ -498,0 +499,1 @@\n+    debug_phase(_gc_par_phases[SyncMarkedWordInRetainedRegions], 1);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -84,0 +84,1 @@\n+    SyncMarkedWordInRetainedRegions,\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}