{"files":[{"patch":"@@ -83,1 +83,1 @@\n-void G1EvacFailureRegions::initialize_chunks(uint num_workers) {\n+void G1EvacFailureRegions::initialize_chunks(uint num_workers, const char* task_name) {\n@@ -86,1 +86,1 @@\n-                                 num_workers);\n+                                 num_workers, task_name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailureRegions.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-  void initialize_chunks(uint active_workers);\n+  void initialize_chunks(uint active_workers, const char* task_name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailureRegions.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -141,1 +141,0 @@\n-  _gc_par_phases[RemoveSelfForwardsInChunks]->create_thread_work_items(\"Chunks Per Region:\", RemoveSelfForwardChunksPerRegion);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -156,1 +156,0 @@\n-    RemoveSelfForwardChunksPerRegion,\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-void G1ScanChunksInHeapRegions::initialize(const uint* evac_failure_regions, uint evac_failure_regions_length, uint num_workers) {\n+void G1ScanChunksInHeapRegions::initialize(const uint* evac_failure_regions, uint evac_failure_regions_length, uint num_workers, const char* task_name) {\n@@ -85,1 +85,2 @@\n-  G1CollectedHeap::heap()->phase_times()->record_or_add_thread_work_item(G1GCPhaseTimes::RemoveSelfForwardsInChunks, 0, _chunks_per_region, G1GCPhaseTimes::RemoveSelfForwardChunksPerRegion);\n+  log_debug(gc, ergo)(\"Running %s using %u workers for removing self forwards with %u chunks per region\",\n+                      task_name, num_workers, _chunk_size);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1HeapRegionChunk.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-  void initialize(const uint* evac_failure_regions, uint evac_failure_regions_length, uint num_workers);\n+  void initialize(const uint* evac_failure_regions, uint evac_failure_regions_length, uint num_workers, const char* task_name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1HeapRegionChunk.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -105,0 +105,1 @@\n+  const char* _task_name;\n@@ -107,1 +108,1 @@\n-  RemoveSelfForwardPtrsTask(G1EvacFailureRegions* evac_failure_regions) :\n+  RemoveSelfForwardPtrsTask(G1EvacFailureRegions* evac_failure_regions, const char* task_name) :\n@@ -110,1 +111,2 @@\n-    _evac_failure_regions(evac_failure_regions) { }\n+    _evac_failure_regions(evac_failure_regions),\n+    _task_name(task_name) { }\n@@ -122,1 +124,1 @@\n-    _evac_failure_regions->initialize_chunks(num_workers);\n+    _evac_failure_regions->initialize_chunks(num_workers, _task_name);\n@@ -126,0 +128,2 @@\n+const char* G1PostEvacuateCollectionSetCleanupTask1::_name = \"Post Evacuate Cleanup 1\";\n+\n@@ -128,1 +132,1 @@\n-  G1BatchedTask(\"Post Evacuate Cleanup 1\", G1CollectedHeap::heap()->phase_times())\n+  G1BatchedTask(_name, G1CollectedHeap::heap()->phase_times())\n@@ -139,1 +143,1 @@\n-    RemoveSelfForwardPtrsTask* remove_self_forward_task = new RemoveSelfForwardPtrsTask(evac_failure_regions);\n+    RemoveSelfForwardPtrsTask* remove_self_forward_task = new RemoveSelfForwardPtrsTask(evac_failure_regions, _name);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp","additions":9,"deletions":5,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+  static const char* _name;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}