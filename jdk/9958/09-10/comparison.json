{"files":[{"patch":"@@ -221,1 +221,0 @@\n-    \/\/private static final int TIMEOUT = 200;\n@@ -226,1 +225,1 @@\n-     * isProxySet and serverReady variables should be set by server thread before proceeding to client thread(main).\n+     * isProxySet variable should be set by server thread before proceeding to client thread(main).\n@@ -229,1 +228,0 @@\n-    \/\/private volatile boolean serverReady = false;\n@@ -280,0 +278,328 @@\n+   \n+   \/* here is the complete table of server_response, client system properties input and expected cached timeout at client side *\/\n+   \n+    \/\/ScNo=ScenarioNumber \n+   \/* ScNo  |SERVER RESPONSE                                  | CLIENT SYSTEM PROPERTIES INPUT                                     | EXPECTED CACHED TIMEOUT AT CLIENT SIDE\n+    ************************************************************************************************************************************************************************\n+    *    0  |  Connection: keep-alive                         | No Input Provided                                                  |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    1  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=100                                   |  Client Timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    2  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.proxy=200                                    |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    3  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200|  Client Timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    4  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=-100                                  |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    5  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.proxy=-200                                   |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    6  |  Connection: keep-alive                         |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    7  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=0                                     |  Connection Closed Immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    8  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.proxy=0                                      |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *    9  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    |  Connection Closed Immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   10  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-100 |  Connection Closed Immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   11  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 |  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   12  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  |  Timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   13  |  Connection: keep-alive                         | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=100  |  Connection Closed Immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   14  |  Connection: keep-alive                         |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200|  Timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   15  |  Connection: keep-alive                         |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200|  Default Timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   16  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | No Input Provided                                                  |  Timeout set to 20\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   17  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=100                                   |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   18  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.proxy=100                                    |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   19  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200|  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   20  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=-100                                  |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   21  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.proxy=-200                                   |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   22  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   23  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=0                                     |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   24  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.proxy=0                                      |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   25  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   26  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-100 |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   27  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   28  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   29  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=100  |  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   30  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200|  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   31  |Connection: keep-alive\\r\\nKeep-alive: timeout=20 |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200|  Timeout set to 20\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   32  |Proxy-Connection: keep-alive                     | No Input Provided                                                  | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   33  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=100                                   | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   34  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.proxy=100                                    | Client timeout set to 200\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   35  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| Client timeout set to 200\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   36  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=-100                                  | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   37  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.proxy=-200                                   | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   38  |Proxy-Connection: keep-alive                     |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   39  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=0                                     | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   40  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.proxy=0                                      | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   41  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   42  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   43  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   44  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   45  |Proxy-Connection: keep-alive                     | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | Timeout set to 200\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   46  |Proxy-Connection: keep-alive                     |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   47  |Proxy-Connection: keep-alive                     |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| Timeout set to 200\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   48  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| No Input Provided                                                  | Default timeout set to 60\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   49  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=100                                   | Default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   50  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.proxy=200                                    | client timeout set to 200\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   51  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 200\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   52  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=-100                                  | default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   53  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.proxy=-200                                   | default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   54  |Connection:keep-alive\\r\\nProxy-connection:keep-alive|-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | default timeout set to 60\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   55  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=0                                     | default timeout set to 60\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   56  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.proxy=0                                      | close connection immediately\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   57  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   58  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | default timeout set to 60\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   59  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | close connection immediately\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   60  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | close connection immediately\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   61  |Connection:keep-alive\\r\\nProxy-connection:keep-alive| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | client timeout set to 200\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   62  |Connection:keep-alive\\r\\nProxy-connection:keep-alive|-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| default timeout set to 60\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   63  |Connection:keep-alive\\r\\nProxy-connection:keep-alive|-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 200\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   64  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| No Input Provided                                                  | client timeout set to 120\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   65  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=100                                   | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   66  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.proxy=100                                    | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   67  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   68  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=-100                                  | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   69  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.proxy=-200                                   | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   70  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120|-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   71  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=0                                     | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   72  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.proxy=0                                      | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   73  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   74  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   75  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   76  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   77  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   78  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120|-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   79  |Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120|-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 120\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   80  |No Input                                             | No Input Provided                                                  | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   81  |No Input                                             | -Dhttp.keepAlive.time.server=100                                   | client timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   82  |No Input                                             | -Dhttp.keepAlive.time.proxy=200                                    | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   83  |No Input                                             | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| client timeot set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   84  |No Input                                             | -Dhttp.keepAlive.time.server=-100                                  | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   85  |No Input                                             | -Dhttp.keepAlive.time.proxy=-200                                   | default timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   86  |No Input                                             |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | default timeout set to 5 \n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   87  |No Input                                             | -Dhttp.keepAlive.time.server=0                                     | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   88  |No Input                                             | -Dhttp.keepAlive.time.proxy=0                                      | default timeout set to 5 \n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   89  |No Input                                             | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   90  |No Input                                             | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   91  |No Input                                             | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | default timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   92  |No Input                                             | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | client timeout set to 100\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   93  |No Input                                             | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | close connection immediately\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   94  |No Input                                             |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| client timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   95  |No Input                                             |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| default timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   96  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | No Input Provided                                                  | default timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   97  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=100                                   | client timeout set to 100\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   98  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.proxy=200                                    | default timeout set to 5\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *   99  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  100  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=-100                                  | default timeout set to 5\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  101  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.proxy=-200                                   | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  102  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  103  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=0                                     | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  104  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.proxy=0                                      | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  105  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  106  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  107  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  108  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | client timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  109  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  110  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| client timeout set to 100\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  111  |Connection: keep-alive\\r\\nKeep-alive: timeout=-20    |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| default timeout set to 5\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  112  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | No Input Provided                                                  | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  113  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=100                                   | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  114  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.proxy=200                                    | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  115  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  116  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=-100                                  | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  117  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.proxy=-200                                   | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  118  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  119  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=0                                     | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  120  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.proxy=0                                      | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  121  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  122  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  123  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  124  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  125  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  126  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  127  |Connection: keep-alive\\r\\nKeep-alive: timeout=0      |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  128  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| No Input Provided                                                  | default timeout set to 60\n+    --------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  129  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=100                                   | default timeout set to 60\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  130  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.proxy=200                                    | client timeout set to 200\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  131  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 200\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  132  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=-100                                  | default timeout set to 60\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  133  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.proxy=-200                                   | default timeout set to 60\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  134  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20|-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | default timeout set to 60\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  135  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=0                                     | default timeout set to 60\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  136  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.proxy=0                                      | close connection immediately\n+    *---------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  137  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  138  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | default timeout set to 60\n+    *-----------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  139  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  140  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  141  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20| -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | client timeout set to 20\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  142  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20|-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| default timeout set to 60\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  143  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=-20|-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| client timeout set to 200\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  144  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | No Input Provided                                                  | close connection immediately \n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  145  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=100                                   | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  146  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.proxy=200                                    | close connection immediately \n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  147  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  148  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=-100                                  | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  149  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.proxy=-200                                   | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  150  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  |-Dhttp.keepAlive.time.server=-100&&-Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *-----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  151  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=0                                     | close connection immediately\n+    *----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  152  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.proxy=0                                      | close connection immediately\n+    *--------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  153  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=0    | close connection immediately\n+    *-----------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  154  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=-200 | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  155  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=0 | close connection immediately\n+    *------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  156  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=0  | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  157  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  | -Dhttp.keepAlive.time.server=0 && -Dhttp.keepAlive.time.proxy=200  | close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  158  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  |-Dhttp.keepAlive.time.server=100 && -Dhttp.keepAlive.time.proxy=-200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *  159  |Proxy-Connection:keep-alive\\r\\nKeep-alive:timeout=0  |-Dhttp.keepAlive.time.server=-100 && -Dhttp.keepAlive.time.proxy=200| close connection immediately\n+    *-------------------------------------------------------------------------------------------------------------------------------------------------------------------\n+    *\/\n+\n@@ -335,0 +661,3 @@\n+    \/*\n+     * Returns SERVER_RESPONSE based on scenarioNumber\n+     *\/\n@@ -336,0 +665,4 @@\n+        \/*\n+         *  ServerResponse from scenario 0 to 15\n+         *  SERVER_RESPONSE:Connection:keep-alive\n+         *\/\n@@ -338,1 +671,6 @@\n-        } else if (scenarioNumber >= 16 && scenarioNumber <= 31){\n+        } \n+        \/*\n+         * ServerResponse from scenario 16 to 31\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=20\n+         *\/\n+        else if (scenarioNumber >= 16 && scenarioNumber <= 31){\n@@ -340,1 +678,6 @@\n-        } else if (scenarioNumber >= 32 && scenarioNumber <= 47){\n+        } \n+        \/*\n+         * ServerResponse from scenario 32 to 47\n+         * SERVER_RESPONSE=Proxy-Connection: keep-alive\n+         *\/\n+        else if (scenarioNumber >= 32 && scenarioNumber <= 47){\n@@ -342,1 +685,6 @@\n-        } else if (scenarioNumber >= 48 && scenarioNumber <= 63){\n+        } \n+        \/*\n+         * ServerResponse from 48 to 63\n+         * SERVER_RESPONSE=Connection:keep-alive\\r\\nProxy-connection:keep-alive\n+         *\/\n+        else if (scenarioNumber >= 48 && scenarioNumber <= 63){\n@@ -344,0 +692,4 @@\n+        \/*\n+         * ServerResponse from 64 to 79\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=120\n+         *\/\n@@ -346,1 +698,6 @@\n-        } else if (scenarioNumber >= 80 && scenarioNumber <= 95){\n+        } \n+        \/*\n+         * ServerResponse from 80 to 95\n+         * SERVER_RESPONSE=No Input\n+         *\/\n+        else if (scenarioNumber >= 80 && scenarioNumber <= 95){\n@@ -348,1 +705,6 @@\n-        } else if (scenarioNumber >= 96 && scenarioNumber <= 111){\n+        } \n+        \/*\n+         * ServerResponse from 96 to 111\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=-20 \n+         *\/   \n+        else if (scenarioNumber >= 96 && scenarioNumber <= 111){\n@@ -350,1 +712,6 @@\n-        } else if (scenarioNumber >= 112 && scenarioNumber <= 127){\n+        } \n+        \/*\n+         * ServerResponse from 112 to 127\n+         * SERVER_RESPONSE=Connection: keep-alive\\r\\nKeep-alive: timeout=0\n+         *\/\n+        else if (scenarioNumber >= 112 && scenarioNumber <= 127){\n@@ -352,1 +719,6 @@\n-        } else if (scenarioNumber >= 128 && scenarioNumber <= 143){\n+        } \n+        \/*\n+         * ServerResponse from 128 to 143\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=-20\n+         *\/\n+        else if (scenarioNumber >= 128 && scenarioNumber <= 143){\n@@ -354,1 +726,6 @@\n-        } else if (scenarioNumber >= 144 && scenarioNumber <= 159){\n+        } \n+        \/*\n+         * ServerResponse from 144 to 159\n+         * SERVER_RESPONSE=Proxy-connection:keep-alive\\r\\nKeep-alive:timeout=0\n+         *\/\n+        else if (scenarioNumber >= 144 && scenarioNumber <= 159){\n@@ -377,1 +754,0 @@\n-        \/\/serverReady = false;\n@@ -503,3 +879,0 @@\n-        \/\/while (!serverReady) {\n-        \/\/    Thread.sleep(TIMEOUT);\n-        \/\/}\n@@ -547,43 +920,43 @@\n-            Field field = Class.forName(\"sun.net.www.protocol.http.HttpURLConnection\").getDeclaredField(\"http\");\n-            field.setAccessible(true);\n-            HttpClient httpClient = (HttpClient) field.get(httpUrlConnection);\n-            \/\/    System.out.println(\"httpclient=\" + httpClient);\n-            Field keepAliveField = Class.forName(\"sun.net.www.http.HttpClient\").getDeclaredField(\"kac\");\n-            keepAliveField.setAccessible(true);\n-            KeepAliveCache keepAliveCache = (KeepAliveCache) keepAliveField.get(httpClient);\n-            System.out.println(\"keepAliveCache\" + keepAliveCache);\n-            System.out.println(\"SERVER URL:\" + httpUrlConnection.getURL());\n-            \/*\n-             * create KeepAliveKey(URL,Object) object and compare created KeepAliveKey and\n-             * existing using equals() method: KeepAliveKey.equals()\n-             *\/\n-            Class keepAliveKeyClass = Class.forName(\"sun.net.www.http.KeepAliveKey\");\n-            \/\/    System.out.println(\"keepAliveKeyClass=\" + keepAliveKeyClass);\n-            Constructor keepAliveKeyClassconstructor = keepAliveKeyClass.getDeclaredConstructors()[0];\n-            keepAliveKeyClassconstructor.setAccessible(true);\n-            Object expectedKeepAliveKey = keepAliveKeyClassconstructor.newInstance(httpUrlConnection.getURL(), null);\n-            System.out.println(\"ExpectedKeepAliveKey=\" + expectedKeepAliveKey);\n-            Object clientVectorObjectInMap = keepAliveCache.get(expectedKeepAliveKey);\n-            System.out.println(\"ClientVector=\" + clientVectorObjectInMap);\n-            HttpClient httpClientCached = keepAliveCache.get(httpUrlConnection.getURL(), null);\n-            System.out.println(\"HttpClient in Cache:\" + httpClientCached);\n-            if(httpClientCached != null) {\n-                System.out.println(\"KeepingAlive:\" + httpClientCached.isKeepingAlive());\n-                System.out.println(\"UsingProxy:\" + httpClientCached.getUsingProxy());\n-                System.out.println(\"ProxiedHost:\" + httpClientCached.getProxyHostUsed());\n-                System.out.println(\"ProxiedPort:\" + httpClientCached.getProxyPortUsed());\n-                System.out.println(\"ProxyPortUsingSystemProperty:\" + System.getProperty(\"http.proxyPort\"));\n-                System.out.println(\"ProxyHostUsingSystemProperty:\" + System.getProperty(\"http.proxyHost\"));\n-                System.out.println(\"http.keepAlive.time.server=\" + System.getProperty(\"http.keepAlive.time.server\"));\n-                System.out.println(\"http.keepAlive.time.proxy=\" + System.getProperty(\"http.keepAlive.time.proxy\"));\n-                Class clientVectorClass = Class.forName(\"sun.net.www.http.ClientVector\");\n-                \/\/      System.out.println(\"clientVectorClass=\" + clientVectorClass);\n-                Field napField = clientVectorClass.getDeclaredField(\"nap\");\n-                napField.setAccessible(true);\n-                int napValue = (int) napField.get(clientVectorObjectInMap);\n-                int actualValue = napValue \/ 1000;\n-                \/\/      System.out.println(\"nap=\" + napValue \/ 1000);\n-                System.out.printf(\"ExpectedOutput:%d ActualOutput:%d \", expectedValues[scenarioNumber], actualValue);\n-                System.out.println();\n-                if (expectedValues[scenarioNumber] != actualValue) {\n-                    throw new RuntimeException(\n+       Field field = Class.forName(\"sun.net.www.protocol.http.HttpURLConnection\").getDeclaredField(\"http\");\n+       field.setAccessible(true);\n+       HttpClient httpClient = (HttpClient) field.get(httpUrlConnection);\n+       \/\/    System.out.println(\"httpclient=\" + httpClient);\n+       Field keepAliveField = Class.forName(\"sun.net.www.http.HttpClient\").getDeclaredField(\"kac\");\n+       keepAliveField.setAccessible(true);\n+       KeepAliveCache keepAliveCache = (KeepAliveCache) keepAliveField.get(httpClient);\n+       System.out.println(\"keepAliveCache\" + keepAliveCache);\n+       System.out.println(\"SERVER URL:\" + httpUrlConnection.getURL());\n+       \/*\n+        * create KeepAliveKey(URL,Object) object and compare created KeepAliveKey and\n+        * existing using equals() method: KeepAliveKey.equals()\n+        *\/\n+       Class keepAliveKeyClass = Class.forName(\"sun.net.www.http.KeepAliveKey\");\n+       \/\/    System.out.println(\"keepAliveKeyClass=\" + keepAliveKeyClass);\n+       Constructor keepAliveKeyClassconstructor = keepAliveKeyClass.getDeclaredConstructors()[0];\n+       keepAliveKeyClassconstructor.setAccessible(true);\n+       Object expectedKeepAliveKey = keepAliveKeyClassconstructor.newInstance(httpUrlConnection.getURL(), null);\n+       System.out.println(\"ExpectedKeepAliveKey=\" + expectedKeepAliveKey);\n+       Object clientVectorObjectInMap = keepAliveCache.get(expectedKeepAliveKey);\n+       System.out.println(\"ClientVector=\" + clientVectorObjectInMap);\n+       HttpClient httpClientCached = keepAliveCache.get(httpUrlConnection.getURL(), null);\n+       System.out.println(\"HttpClient in Cache:\" + httpClientCached);\n+       if(httpClientCached != null) {\n+            System.out.println(\"KeepingAlive:\" + httpClientCached.isKeepingAlive());\n+            System.out.println(\"UsingProxy:\" + httpClientCached.getUsingProxy());\n+            System.out.println(\"ProxiedHost:\" + httpClientCached.getProxyHostUsed());\n+            System.out.println(\"ProxiedPort:\" + httpClientCached.getProxyPortUsed());\n+            System.out.println(\"ProxyPortUsingSystemProperty:\" + System.getProperty(\"http.proxyPort\"));\n+            System.out.println(\"ProxyHostUsingSystemProperty:\" + System.getProperty(\"http.proxyHost\"));\n+            System.out.println(\"http.keepAlive.time.server=\" + System.getProperty(\"http.keepAlive.time.server\"));\n+            System.out.println(\"http.keepAlive.time.proxy=\" + System.getProperty(\"http.keepAlive.time.proxy\"));\n+            Class clientVectorClass = Class.forName(\"sun.net.www.http.ClientVector\");\n+            \/\/      System.out.println(\"clientVectorClass=\" + clientVectorClass);\n+            Field napField = clientVectorClass.getDeclaredField(\"nap\");\n+            napField.setAccessible(true);\n+            int napValue = (int) napField.get(clientVectorObjectInMap);\n+            int actualValue = napValue \/ 1000;\n+            \/\/      System.out.println(\"nap=\" + napValue \/ 1000);\n+            System.out.printf(\"ExpectedOutput:%d ActualOutput:%d \", expectedValues[scenarioNumber], actualValue);\n+            System.out.println();\n+            if (expectedValues[scenarioNumber] != actualValue) {\n+                throw new RuntimeException(\n@@ -591,4 +964,4 @@\n-                }\n-            } else {\n-                \/\/executed when value is not cached.\n-                String expected = expectedValues[scenarioNumber] == 0 ? NOT_CACHED\n+            }\n+        } else {\n+            \/\/executed when value is not cached.\n+            String expected = expectedValues[scenarioNumber] == 0 ? NOT_CACHED\n@@ -596,2 +969,2 @@\n-                System.out.println(\"ExpectedOutput:\" + expected + \" ActualOutput:\" + NOT_CACHED);\n-                if (!expected.equalsIgnoreCase(NOT_CACHED)) {\n+            System.out.println(\"ExpectedOutput:\" + expected + \" ActualOutput:\" + NOT_CACHED);\n+            if (!expected.equalsIgnoreCase(NOT_CACHED)) {\n@@ -599,1 +972,0 @@\n-                }\n@@ -601,0 +973,1 @@\n+       }\n","filename":"test\/jdk\/sun\/net\/www\/http\/HttpClient\/KeepAliveTest.java","additions":438,"deletions":65,"binary":false,"changes":503,"status":"modified"}]}