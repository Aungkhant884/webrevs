{"files":[{"patch":"@@ -86,0 +86,2 @@\n+# TODO: Should merge once JDK-8294314 is in.\n+\n@@ -105,0 +107,1 @@\n+    DISABLED_WARNINGS_gcc_test_signals.cpp := cast-function-type, \\\n","filename":"make\/hotspot\/lib\/CompileGtest.gmk","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-    misleading-indentation cast-function-type shift-negative-value\n+    misleading-indentation shift-negative-value\n@@ -147,0 +147,2 @@\n+# TODO: Should merge once JDK-8294314 is in.\n+\n@@ -159,0 +161,1 @@\n+    DISABLED_WARNINGS_gcc_signals_posix.cpp := cast-function-type, \\\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -312,1 +312,1 @@\n-void TemplateTable::ldc(bool wide)\n+void TemplateTable::ldc(LdcType type)\n@@ -317,1 +317,1 @@\n-  if (wide) {\n+  if (is_ldc_wide(type)) {\n@@ -346,1 +346,1 @@\n-  __ mov(c_rarg1, wide);\n+  __ mov(c_rarg1, is_ldc_wide(type) ? 1 : 0);\n@@ -379,1 +379,1 @@\n-void TemplateTable::fast_aldc(bool wide)\n+void TemplateTable::fast_aldc(LdcType type)\n","filename":"src\/hotspot\/cpu\/aarch64\/templateTable_aarch64.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -367,1 +367,1 @@\n-void TemplateTable::ldc(bool wide) {\n+void TemplateTable::ldc(LdcType type) {\n@@ -376,1 +376,1 @@\n-  if (wide) {\n+  if (is_ldc_wide(type)) {\n@@ -404,1 +404,1 @@\n-  __ mov(R1, wide);\n+  __ mov(R1, is_ldc_wide(type) ? 1 : 0);\n@@ -432,1 +432,1 @@\n-void TemplateTable::fast_aldc(bool wide) {\n+void TemplateTable::fast_aldc(LdcType type) {\n@@ -434,1 +434,1 @@\n-  int index_size = wide ? sizeof(u2) : sizeof(u1);\n+  int index_size = is_ldc_wide(type) ? sizeof(u2) : sizeof(u1);\n","filename":"src\/hotspot\/cpu\/arm\/templateTable_arm.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -240,1 +240,1 @@\n-void TemplateTable::ldc(bool wide) {\n+void TemplateTable::ldc(LdcType type) {\n@@ -304,1 +304,1 @@\n-void TemplateTable::fast_aldc(bool wide) {\n+void TemplateTable::fast_aldc(LdcType type) {\n","filename":"src\/hotspot\/cpu\/ppc\/templateTable_ppc_64.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -288,1 +288,1 @@\n-void TemplateTable::ldc(bool wide) {\n+void TemplateTable::ldc(LdcType type) {\n@@ -292,1 +292,1 @@\n-  if (wide) {\n+  if (is_ldc_wide(type)) {\n@@ -323,1 +323,1 @@\n-  __ mv(c_rarg1, wide);\n+  __ mv(c_rarg1, is_ldc_wide(type) ? 1 : 0);\n@@ -357,1 +357,1 @@\n-void TemplateTable::fast_aldc(bool wide) {\n+void TemplateTable::fast_aldc(LdcType type) {\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -381,1 +381,1 @@\n-void TemplateTable::ldc(bool wide) {\n+void TemplateTable::ldc(LdcType type) {\n@@ -387,1 +387,1 @@\n-  if (wide) {\n+  if (is_ldc_wide(type)) {\n@@ -415,1 +415,1 @@\n-  __ load_const_optimized(Z_ARG2, wide);\n+  __ load_const_optimized(Z_ARG2, is_ldc_wide(type) ? 1 : 0);\n@@ -451,1 +451,1 @@\n-void TemplateTable::fast_aldc(bool wide) {\n+void TemplateTable::fast_aldc(LdcType type) {\n","filename":"src\/hotspot\/cpu\/s390\/templateTable_s390.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -353,1 +353,1 @@\n-void TemplateTable::ldc(bool wide) {\n+void TemplateTable::ldc(LdcType type) {\n@@ -358,1 +358,1 @@\n-  if (wide) {\n+  if (is_ldc_wide(type)) {\n@@ -386,1 +386,1 @@\n-  __ movl(rarg, wide);\n+  __ movl(rarg, is_ldc_wide(type) ? 1 : 0);\n@@ -418,1 +418,1 @@\n-void TemplateTable::fast_aldc(bool wide) {\n+void TemplateTable::fast_aldc(LdcType type) {\n@@ -424,1 +424,1 @@\n-  int index_size = wide ? sizeof(u2) : sizeof(u1);\n+  int index_size = is_ldc_wide(type) ? sizeof(u2) : sizeof(u1);\n","filename":"src\/hotspot\/cpu\/x86\/templateTable_x86.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1727,1 +1727,1 @@\n-  act.sa_handler = (void (*)(int)) SR_handler;\n+  act.sa_handler = CAST_FROM_FN_PTR(sa_handler_t, SR_handler);\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -205,2 +205,2 @@\n-void TemplateTable::def(Bytecodes::Code code, int flags, TosState in, TosState out, void (*gen)(bool arg    ), bool arg) {\n-  def(code, flags, in, out, (Template::generator)gen, (int)arg);\n+void TemplateTable::def(Bytecodes::Code code, int flags, TosState in, TosState out, void (*gen)(LdcType ldct), LdcType ldct) {\n+  def(code, flags, in, out, (Template::generator)gen, (int)ldct);\n@@ -253,2 +253,2 @@\n-  def(Bytecodes::_ldc                 , ubcp|____|clvm|____, vtos, vtos, ldc                 ,  false       );\n-  def(Bytecodes::_ldc_w               , ubcp|____|clvm|____, vtos, vtos, ldc                 ,  true        );\n+  def(Bytecodes::_ldc                 , ubcp|____|clvm|____, vtos, vtos, ldc                 ,  ldc_normal  );\n+  def(Bytecodes::_ldc_w               , ubcp|____|clvm|____, vtos, vtos, ldc                 ,  ldc_wide    );\n@@ -487,2 +487,2 @@\n-  def(Bytecodes::_fast_aldc           , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  false       );\n-  def(Bytecodes::_fast_aldc_w         , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  true        );\n+  def(Bytecodes::_fast_aldc           , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  ldc_normal  );\n+  def(Bytecodes::_fast_aldc_w         , ubcp|____|clvm|____, vtos, atos, fast_aldc           ,  ldc_wide    );\n","filename":"src\/hotspot\/share\/interpreter\/templateTable.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -86,0 +86,1 @@\n+  enum LdcType   { ldc_normal = 0, ldc_wide = 1 }; \/\/ LDC type\n@@ -108,0 +109,5 @@\n+  static bool is_ldc_wide(LdcType type) {\n+    assert(type == ldc_wide || type == ldc_normal, \"sanity\");\n+    return (type == ldc_wide);\n+  }\n+\n@@ -131,1 +137,1 @@\n-  static void ldc(bool wide);\n+  static void ldc(LdcType type);\n@@ -133,1 +139,1 @@\n-  static void fast_aldc(bool wide);\n+  static void fast_aldc(LdcType type);\n@@ -330,1 +336,1 @@\n-  static void def(Bytecodes::Code code, int flags, TosState in, TosState out, void (*gen)(bool arg    ), bool arg    );\n+  static void def(Bytecodes::Code code, int flags, TosState in, TosState out, void (*gen)(LdcType ldct), LdcType ldct);\n","filename":"src\/hotspot\/share\/interpreter\/templateTable.hpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"}]}