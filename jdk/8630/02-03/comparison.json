{"files":[{"patch":"@@ -3922,1 +3922,4 @@\n-  static RuntimeStub* generate_jfr_stub(const char* name, address entrypoint) {\n+  \/\/ For c2: c_rarg0 is junk, call to runtime to write a checkpoint.\n+  \/\/ It returns a jobject handle to the event writer.\n+  \/\/ The handle is dereferenced and the return value is the event writer oop.\n+  static RuntimeStub* generate_jfr_write_checkpoint() {\n@@ -3937,1 +3940,1 @@\n-    CodeBuffer code(name, insts_size, locs_size);\n+    CodeBuffer code(\"jfr_write_checkpoint\", insts_size, locs_size);\n@@ -3947,1 +3950,1 @@\n-    __ call_VM_leaf(entrypoint, 1);\n+    __ call_VM_leaf(CAST_FROM_FN_PTR(address, JfrIntrinsicSupport::write_checkpoint), 1);\n@@ -3956,1 +3959,1 @@\n-      RuntimeStub::new_runtime_stub(name, &code, frame_complete,\n+      RuntimeStub::new_runtime_stub(\"jfr_write_checkpoint\", &code, frame_complete,\n@@ -3962,14 +3965,0 @@\n-  \/\/ For c2: c_rarg0 is junk, call to runtime to write a checkpoint.\n-  \/\/ It returns a jobject handle to the event writer.\n-  \/\/ The handle is dereferenced and the return value is the event writer oop.\n-  RuntimeStub* generate_jfr_write_checkpoint() {\n-    return generate_jfr_stub(\"jfr_write_checkpoint\",\n-                              CAST_FROM_FN_PTR(address, JfrIntrinsicSupport::write_checkpoint));\n-  }\n-\n-  \/\/ For c1: call the corresponding runtime routine, it returns a jobject handle to the event writer.\n-  \/\/ The handle is dereferenced and the return value is the event writer oop.\n-  RuntimeStub* generate_jfr_get_event_writer() {\n-    return generate_jfr_stub(\"jfr_get_event_writer\",\n-                              CAST_FROM_FN_PTR(address, JfrIntrinsicSupport::event_writer));\n-  }\n@@ -4076,2 +4065,0 @@\n-    JFR_ONLY(StubRoutines::_jfr_get_event_writer_stub = generate_jfr_get_event_writer();)\n-    JFR_ONLY(StubRoutines::_jfr_get_event_writer = StubRoutines::_jfr_get_event_writer_stub->entry_point();)\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_32.cpp","additions":7,"deletions":20,"binary":false,"changes":27,"status":"modified"}]}