{"files":[{"patch":"@@ -5207,1 +5207,1 @@\n-  _debug_file_printer->print(phase_name, (Node*)C->root(), C->types());\n+  _debug_file_printer->print(phase_name, (Node*)C->root());\n@@ -5217,1 +5217,1 @@\n-  _debug_network_printer->print(phase_name, (Node*)C->root(), C->types());\n+  _debug_network_printer->print(phase_name, (Node*)C->root());\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -349,1 +349,1 @@\n-void IdealGraphPrinter::visit_node(Node *n, bool edges, VectorSet* temp_set, const Type_Array* types) {\n+void IdealGraphPrinter::visit_node(Node *n, bool edges, VectorSet* temp_set) {\n@@ -387,2 +387,4 @@\n-      if (types != nullptr) {\n-        const Type* pt = (*types)[node->_idx];\n+      if (C->types() != nullptr && C->matcher() == nullptr) {\n+        \/\/ Phase types maintained during optimization (GVN, IGVN, CCP) are\n+        \/\/ available and valid (not in code generation phase).\n+        const Type* pt = (*C->types())[node->_idx];\n@@ -744,1 +746,1 @@\n-void IdealGraphPrinter::walk_nodes(Node* start, bool edges, VectorSet* temp_set, const Type_Array* types) {\n+void IdealGraphPrinter::walk_nodes(Node* start, bool edges, VectorSet* temp_set) {\n@@ -765,1 +767,1 @@\n-    visit_node(n, edges, temp_set, types);\n+    visit_node(n, edges, temp_set);\n@@ -783,1 +785,1 @@\n-    print(name, (Node *) C->root(), C->types());\n+    print(name, (Node *) C->root());\n@@ -788,1 +790,1 @@\n-void IdealGraphPrinter::print(const char *name, Node *node, const Type_Array* types) {\n+void IdealGraphPrinter::print(const char *name, Node *node) {\n@@ -792,6 +794,0 @@\n-  if (C->matcher() != nullptr) {\n-    \/\/ Code generation phase, the types maintained during optimization (GVN,\n-    \/\/ IGVN, CCP) are not valid anymore.\n-    types = nullptr;\n-  }\n-\n@@ -818,1 +814,1 @@\n-  walk_nodes(node, false, &temp_set, types);\n+  walk_nodes(node, false, &temp_set);\n@@ -822,1 +818,1 @@\n-  walk_nodes(node, true, &temp_set, types);\n+  walk_nodes(node, true, &temp_set);\n","filename":"src\/hotspot\/share\/opto\/idealGraphPrinter.cpp","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -43,1 +43,0 @@\n-class Type_Array;\n@@ -102,1 +101,1 @@\n-  void visit_node(Node *n, bool edges, VectorSet* temp_set, const Type_Array* types);\n+  void visit_node(Node *n, bool edges, VectorSet* temp_set);\n@@ -107,1 +106,1 @@\n-  void walk_nodes(Node *start, bool edges, VectorSet* temp_set, const Type_Array* types);\n+  void walk_nodes(Node *start, bool edges, VectorSet* temp_set);\n@@ -136,1 +135,1 @@\n-  void print(const char *name, Node *root, const Type_Array* types);\n+  void print(const char *name, Node *root);\n","filename":"src\/hotspot\/share\/opto\/idealGraphPrinter.hpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}