{"files":[{"patch":"@@ -300,1 +300,1 @@\n-            closeSocket(socket);\n+            closeOpenedSocket(socket);\n@@ -378,13 +378,0 @@\n-    \/\/ close the socket when the error happens\n-    private void closeSocket (Socket socket) {\n-        if (socket != null && !socket.isClosed()) {\n-            try {\n-                socket.close();\n-            } catch (IOException ioe) {\n-                if (debug) {\n-                    System.err.println(\"Connection: createSocket failed with \" + ioe);\n-                }\n-            }\n-        }\n-    }\n-\n@@ -668,1 +655,1 @@\n-                    closeOpenedSocket();\n+                    closeOpenedSocket(sock);\n@@ -721,1 +708,1 @@\n-    private void closeOpenedSocket() {\n+    private void closeOpenedSocket(Socket socket) {\n@@ -723,1 +710,2 @@\n-            sock.close();\n+            if(socket != null && !socket.isClosed())\n+                socket.close();\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/jndi\/ldap\/Connection.java","additions":5,"deletions":17,"binary":false,"changes":22,"status":"modified"}]}