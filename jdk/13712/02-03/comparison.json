{"files":[{"patch":"@@ -200,1 +200,0 @@\n-        String mainClassName = topLevelClassNames.getFirst();\n@@ -202,0 +201,1 @@\n+        String firstClassName = topLevelClassNames.getFirst();\n@@ -203,1 +203,1 @@\n-            firstClass = context.loadApplicationClass(parentLoader, mainClassName);\n+            firstClass = context.loadApplicationClass(parentLoader, firstClassName);\n@@ -205,1 +205,1 @@\n-            throw new Fault(Errors.CantFindClass(mainClassName));\n+            throw new Fault(Errors.CantFindClass(firstClassName));\n@@ -238,1 +238,1 @@\n-                throw new Fault(Errors.CantFindMainMethod(mainClassName));\n+                throw new Fault(Errors.CantFindMainMethod(firstClassName));\n@@ -242,0 +242,4 @@\n+        \/\/ selected main method instance points back to its declaring class\n+        Class<?> mainClass = mainMethod.getDeclaringClass();\n+        String mainClassName = mainClass.getName();\n+\n@@ -260,1 +264,1 @@\n-                constructor = firstClass.getDeclaredConstructor();\n+                constructor = mainClass.getDeclaredConstructor();\n@@ -277,1 +281,1 @@\n-            Object receiver = isStatic ? firstClass : instance;\n+            Object receiver = isStatic ? mainClass : instance;\n@@ -295,1 +299,1 @@\n-        return firstClass;\n+        return mainClass;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/launcher\/SourceLauncher.java","additions":11,"deletions":7,"binary":false,"changes":18,"status":"modified"}]}