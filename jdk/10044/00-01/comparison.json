{"files":[{"patch":"@@ -65,3 +65,7 @@\n-    \/\/ cached hash of this module to avoid needing to compute it many times.\n-    \/\/ For safety reasons under concurrent updates, we need to wrap the\n-    \/\/ hash\/algo pair into the final wrapper.\n+    \/\/ Single-slot cache of this module's hash to avoid needing to compute\n+    \/\/ it many times. If there is a significant number of hash algorithms\n+    \/\/ used in the future, consider extending this cache to full\n+    \/\/ ConcurrentMap<String,byte[]>.\n+    \/\/\n+    \/\/ For correctness under concurrent updates, we need to wrap the fields\n+    \/\/ updated at the same time with the final wrapper.\n@@ -153,4 +157,2 @@\n-        if (ch != null) {\n-            if (ch.algorithm.equals(algorithm)) {\n-                return ch.hash;\n-            }\n+        if (ch != null && ch.algorithm.equals(algorithm)) {\n+            return ch.hash;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/module\/ModuleReferenceImpl.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"}]}