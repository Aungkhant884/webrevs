{"files":[{"patch":"@@ -810,0 +810,6 @@\n+\n+  \/\/ Perform handshake to flush out dead oops\n+  {\n+    ShenandoahTimingsTracker t(ShenandoahPhaseTimings::conc_weak_roots_rendezvous);\n+    heap->rendezvous_threads();\n+  }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentGC.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1554,0 +1554,11 @@\n+class ShenandoahRendezvousClosure : public HandshakeClosure {\n+public:\n+  inline ShenandoahRendezvousClosure() : HandshakeClosure(\"ShenandoahRendezvous\") {}\n+  inline void do_thread(Thread* thread) {}\n+};\n+\n+void ShenandoahHeap::rendezvous_threads() {\n+  ShenandoahRendezvousClosure cl;\n+  Handshake::execute(&cl);\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -129,0 +129,1 @@\n+  friend class ShenandoahUnload;\n@@ -374,0 +375,1 @@\n+  void rendezvous_threads();\n@@ -375,1 +377,0 @@\n-\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -85,0 +85,1 @@\n+  f(conc_weak_roots_rendezvous,                     \"  Rendezvous\")                    \\\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahPhaseTimings.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -136,6 +136,0 @@\n-class ShenandoahRendezvousClosure : public HandshakeClosure {\n-public:\n-  inline ShenandoahRendezvousClosure() : HandshakeClosure(\"ShenandoahRendezvous\") {}\n-  inline void do_thread(Thread* thread) {}\n-};\n-\n@@ -175,2 +169,1 @@\n-    ShenandoahRendezvousClosure cl;\n-    Handshake::execute(&cl);\n+    heap->rendezvous_threads();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahUnload.cpp","additions":1,"deletions":8,"binary":false,"changes":9,"status":"modified"}]}