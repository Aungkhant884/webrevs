{"files":[{"patch":"@@ -891,5 +891,8 @@\n-        synchronized (device) {\n-            Insets insets = device.getInsets();\n-            if (insets == null) {\n-                insets = getScreenInsetsImpl(gc);\n-                device.setInsets(insets);\n+        Insets insets = device.getInsets();\n+        if (insets == null) {\n+            synchronized (device) {\n+                insets = device.getInsets();\n+                if (insets == null) {\n+                    insets = getScreenInsetsImpl(gc);\n+                    device.setInsets(insets);\n+                }\n@@ -897,2 +900,0 @@\n-\n-            return (Insets)insets.clone();\n@@ -900,0 +901,1 @@\n+        return (Insets) insets.clone();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XToolkit.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -71,2 +71,2 @@\n-    private Rectangle bounds;\n-    private Insets    insets;\n+    private volatile Rectangle bounds;\n+    private volatile Insets insets;\n@@ -138,3 +138,1 @@\n-        synchronized (this) {\n-            return bounds.getBounds();\n-        }\n+        return bounds.getBounds();\n@@ -144,3 +142,1 @@\n-        synchronized (this) {\n-            return insets;\n-        }\n+        return insets;\n@@ -151,3 +147,1 @@\n-        synchronized (this) {\n-            insets = newInsets;\n-        }\n+        insets = newInsets;\n@@ -157,3 +151,1 @@\n-        synchronized (this) {\n-            insets = null;\n-        }\n+        insets = null;\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11GraphicsDevice.java","additions":6,"deletions":14,"binary":false,"changes":20,"status":"modified"}]}