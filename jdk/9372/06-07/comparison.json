{"files":[{"patch":"@@ -52,1 +52,0 @@\n-    exports java.lang.management.internal.mBeans;\n","filename":"src\/java.management\/share\/classes\/module-info.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -45,2 +45,0 @@\n-import jdk.internal.platform.Metrics;\n-import jdk.internal.platform.SystemMetrics;\n@@ -66,2 +64,0 @@\n-    private static final String CONTAINER_MBEAN_NAME =\n-            \"java.lang:type=Container\";\n@@ -75,5 +71,0 @@\n-        MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\n-        ContainerInfo containerInfoMBean = getContainerInfoMBean();\n-        if (containerInfoMBean != null) {\n-            addMBean(mbs, containerInfoMBean, CONTAINER_MBEAN_NAME);\n-        }\n@@ -419,1 +410,0 @@\n-    private static ContainerInfo containerInfoMBean = null;\n@@ -421,9 +411,0 @@\n-    private static synchronized ContainerInfo getContainerInfoMBean() {\n-        if (containerInfoMBean == null) {\n-            Metrics containerMetrics = SystemMetrics.instance();\n-            if (containerMetrics != null) {\n-                containerInfoMBean = new ContainerInfo(containerMetrics);\n-            }\n-        }\n-        return containerInfoMBean;\n-    }\n","filename":"src\/java.management\/share\/classes\/sun\/management\/ManagementFactoryHelper.java","additions":0,"deletions":19,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-package java.lang.management.internal.mBeans;\n+package com.sun.management;\n","filename":"src\/jdk.management\/share\/classes\/com\/sun\/management\/ContainerInfoMXBean.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"src\/java.management\/share\/classes\/java\/lang\/management\/internal\/mBeans\/ContainerInfoMXBean.java","status":"renamed"},{"patch":"@@ -24,1 +24,1 @@\n-package sun.management;\n+package com.sun.management.internal;\n@@ -28,1 +28,1 @@\n-import java.lang.management.internal.mBeans.ContainerInfoMXBean;\n+import com.sun.management.ContainerInfoMXBean;\n","filename":"src\/jdk.management\/share\/classes\/com\/sun\/management\/internal\/ContainerInfo.java","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"src\/java.management\/share\/classes\/sun\/management\/ContainerInfo.java","status":"renamed"},{"patch":"@@ -43,1 +43,4 @@\n-import javax.management.DynamicMBean;\n+import javax.management.*;\n+\n+import jdk.internal.platform.Metrics;\n+import jdk.internal.platform.SystemMetrics;\n@@ -45,0 +48,1 @@\n+import sun.management.Util;\n@@ -51,0 +55,2 @@\n+    private static final String CONTAINER_MBEAN_NAME =\n+        \"java.lang:type=Container\";\n@@ -55,0 +61,1 @@\n+    private static ContainerInfo containerInfoMBean = null;\n@@ -61,0 +68,7 @@\n+        MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\n+        ContainerInfo containerInfoMBean = getContainerInfoMBean();\n+        if (containerInfoMBean != null) {\n+            try {\n+                mbs.registerMBean(containerInfoMBean, new ObjectName(CONTAINER_MBEAN_NAME));\n+            } catch (InstanceAlreadyExistsException|MBeanRegistrationException|NotCompliantMBeanException|MalformedObjectNameException e) {}\n+        }\n@@ -284,0 +298,11 @@\n+\n+    private static synchronized com.sun.management.internal.ContainerInfo getContainerInfoMBean() {\n+        if (containerInfoMBean == null) {\n+            Metrics containerMetrics = SystemMetrics.instance();\n+            if (containerMetrics != null) {\n+                containerInfoMBean = new ContainerInfo(containerMetrics);\n+            }\n+        }\n+        return containerInfoMBean;\n+    }\n+\n","filename":"src\/jdk.management\/share\/classes\/com\/sun\/management\/internal\/PlatformMBeanProviderImpl.java","additions":26,"deletions":1,"binary":false,"changes":27,"status":"modified"}]}