{"files":[{"patch":"@@ -712,1 +712,9 @@\n-  virtual int memory_size() const { return vect_type()->length_in_bytes(); }\n+  virtual int memory_size() const {\n+    if (type()->isa_vect() != NULL) {\n+      return vect_type()->length_in_bytes();\n+    } else {\n+      \/\/ It's possible to be non-vector type during C2's optimization (e.g., Type::TOP).\n+      \/\/ Return 0 for this case.\n+      return 0;\n+    }\n+  }\n@@ -756,1 +764,9 @@\n-  virtual int memory_size() const { return vect_type()->length_in_bytes(); }\n+  virtual int memory_size() const {\n+    if (in(MemNode::ValueIn)->bottom_type()->isa_vect() != NULL) {\n+      return vect_type()->length_in_bytes();\n+    } else {\n+      \/\/ It's possible to be non-vector type during C2's optimization (e.g., Type::TOP).\n+      \/\/ Return 0 for this case.\n+      return 0;\n+    }\n+  }\n","filename":"src\/hotspot\/share\/opto\/vectornode.hpp","additions":18,"deletions":2,"binary":false,"changes":20,"status":"modified"}]}