{"files":[{"patch":"@@ -27,1 +27,1 @@\n- * @run testng TestArrays\n+ * @run testng\/othervm -Dforeign.restricted=permit TestArrays\n@@ -108,2 +108,1 @@\n-    @Test(expectedExceptions = { UnsupportedOperationException.class,\n-                                 IllegalArgumentException.class })\n+    @Test(expectedExceptions = { UnsupportedOperationException.class })\n@@ -111,1 +110,3 @@\n-        MemorySegment.allocateNative((long) Integer.MAX_VALUE * 2).toByteArray();\n+        try (MemorySegment segment = MemorySegment.ofNativeRestricted(MemoryAddress.NULL, (long)Integer.MAX_VALUE + 10L, null, null, null)) {\n+            segment.toByteArray();\n+        }\n","filename":"test\/jdk\/java\/foreign\/TestArrays.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @run testng TestByteBuffer\n+ * @run testng\/othervm -Dforeign.restricted=permit TestByteBuffer\n@@ -464,1 +464,1 @@\n-        try (MemorySegment segment = MemorySegment.allocateNative((long)Integer.MAX_VALUE + 10L)) {\n+        try (MemorySegment segment = MemorySegment.ofNativeRestricted(MemoryAddress.NULL, (long)Integer.MAX_VALUE + 10L, null, null, null)) {\n","filename":"test\/jdk\/java\/foreign\/TestByteBuffer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}