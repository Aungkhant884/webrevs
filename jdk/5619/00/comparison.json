{"files":[{"patch":"@@ -265,1 +265,2 @@\n-            \/\/ AKA 11.x; compute the version number from the letter in the ProductBuildVersion\n+            \/\/ AKA 11+ Read the *real* ProductVersion from the hidden link to avoid SYSTEM_VERSION_COMPAT\n+            \/\/ If not found, fallback below to the SystemVersion.plist\n@@ -267,1 +268,1 @@\n-                             @\"\/System\/Library\/CoreServices\/SystemVersion.plist\"];\n+                             @\"\/System\/Library\/CoreServices\/.SystemVersionPlatform.plist\"];\n@@ -269,8 +270,2 @@\n-                NSString *nsBuildVerStr = [version objectForKey : @\"ProductBuildVersion\"];\n-                if (nsBuildVerStr != NULL && nsBuildVerStr.length >= 3) {\n-                    int letter = [nsBuildVerStr characterAtIndex:2];\n-                    if (letter >= 'B' && letter <= 'Z') {\n-                        int vers = letter - 'A' - 1;\n-                        asprintf(&osVersionCStr, \"11.%d\", vers);\n-                    }\n-                }\n+                NSString *nsVerStr = [version objectForKey : @\"ProductVersion\"];\n+                osVersionCStr = strdup([nsVerStr UTF8String]);\n","filename":"src\/java.base\/macosx\/native\/libjava\/java_props_macosx.c","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"}]}