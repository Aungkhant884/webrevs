{"files":[{"patch":"@@ -268,8 +268,5 @@\n-     *     String name = getFileName().toString();\n-     *     int lastDot = name.lastIndexOf('.');\n-     *     if (lastDot > 0)\n-     *         lastDot == name.length() - 1) ?\n-     *             Optional.of(\"\") :\n-     *             Optional.of(name.substring(lastDot + 1));\n-     *     else\n-     *         Optional.empty();\n+     * if (lastDot <= 0)\n+     *     return Optional.empty();\n+     * return lastDot == name.length() - 1 ?\n+     *     Optional.of(\"\") :\n+     *     Optional.of(name.substring(lastDot + 1));\n@@ -278,3 +275,3 @@\n-     * @return  an {@code Optional} which either contains the file name of\n-     *          this path, or is {@link Optional#empty empty} if the extension\n-    *           is indeterminate\n+     * @return  an {@code Optional} which either contains the file name\n+     *          extension of this path, or is {@link Optional#empty empty}\n+     *          if the extension is not found\n@@ -326,4 +323,0 @@\n-        String thisExtension = getExtension().orElse(null);\n-        if (thisExtension == null)\n-            return Optional.empty();\n-\n@@ -331,2 +324,6 @@\n-        if (ext.equals(thisExtension))\n-            return Optional.of(ext);\n+\n+        Optional<String> extension = getExtension();\n+        String thisExtension = null;\n+        if (extension.isEmpty() ||\n+            (thisExtension = extension.get()).equals(ext))\n+            return extension;\n","filename":"src\/java.base\/share\/classes\/java\/nio\/file\/Path.java","additions":14,"deletions":17,"binary":false,"changes":31,"status":"modified"}]}