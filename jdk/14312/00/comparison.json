{"files":[{"patch":"@@ -359,1 +359,1 @@\n-                .filter(i -> !(i.isElementItem() || i.isTagItem()))\n+                .filter(i -> !(i.isElementItem() || i.isTagItem() || i.isSectionItem()))\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/IndexWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -417,1 +417,8 @@\n-        return getDocTree() != null;\n+        return getDocTree() != null && getDocTree().getKind().tagName != null;\n+    }\n+\n+    \/**\n+     * {@return {@code true} if this index item is for a HTML heading\/section in a doc comment}\n+     *\/\n+    public boolean isSectionItem() {\n+        return getDocTree() != null && getDocTree().getKind() == DocTree.Kind.START_ELEMENT;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/IndexItem.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8289332 8286470\n+ * @bug 8289332 8286470 8309471\n@@ -97,0 +97,4 @@\n+        checkIds();\n+        checkSearchIndex();\n+        checkHtmlIndex();\n+    }\n@@ -98,0 +102,1 @@\n+    private void checkIds() {\n@@ -133,0 +138,3 @@\n+    }\n+\n+    private void checkSearchIndex() {\n@@ -156,0 +164,6 @@\n+\n+    private void checkHtmlIndex() {\n+        \/\/ Make sure section links are not included in static index pages\n+        checkOutput(\"index-all.html\", false,\n+                \"Header\", \"heading\", \"Duplicate\", \"Embedded\");\n+    }\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testAutoHeaderId\/TestAutoHeaderId.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}