{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -245,0 +245,1 @@\n+    NewMultiArray* nma;\n@@ -249,0 +250,5 @@\n+    } else if ((nma = x->array()->as_NewMultiArray()) != NULL) {\n+      if ((length = nma->dims()->at(0)->as_Constant()) != NULL) {\n+        assert(length->type()->as_IntConstant() != NULL, \"array length must be integer\");\n+        set_constant(length->type()->as_IntConstant()->value());\n+      }\n","filename":"src\/hotspot\/share\/c1\/c1_Canonicalizer.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -987,0 +987,1 @@\n+      (array->as_Constant() != NULL) ||\n@@ -988,1 +989,2 @@\n-      (array->as_NewArray() && array->as_NewArray()->length() && array->as_NewArray()->length()->type()->is_constant())) {\n+      (array->as_NewArray() && array->as_NewArray()->length() && array->as_NewArray()->length()->type()->is_constant()) ||\n+      (array->as_NewMultiArray() && array->as_NewMultiArray()->dims()->at(0)->type()->is_constant())) {\n@@ -1004,0 +1006,1 @@\n+      (array->as_Constant() != NULL) ||\n@@ -1005,1 +1008,2 @@\n-      (array->as_NewArray() && array->as_NewArray()->length() && array->as_NewArray()->length()->type()->is_constant())) {\n+      (array->as_NewArray() && array->as_NewArray()->length() && array->as_NewArray()->length()->type()->is_constant()) ||\n+      (array->as_NewMultiArray() && array->as_NewMultiArray()->dims()->at(0)->type()->is_constant())) {\n","filename":"src\/hotspot\/share\/c1\/c1_GraphBuilder.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"}]}