{"files":[{"patch":"@@ -43,2 +43,14 @@\n-import java.awt.*;\n-import java.awt.image.*;\n+import java.awt.Color;\n+import java.awt.Component;\n+import java.awt.Dimension;\n+import java.awt.Graphics;\n+import java.awt.Graphics2D;\n+import java.awt.GraphicsConfiguration;\n+import java.awt.Image;\n+import java.awt.Insets;\n+import java.awt.Point;\n+import java.awt.Rectangle;\n+import java.awt.Toolkit;\n+import java.awt.image.BufferedImage;\n+import java.awt.image.DataBufferInt;\n+import java.awt.image.WritableRaster;\n@@ -46,1 +58,0 @@\n-import java.util.*;\n@@ -48,3 +59,18 @@\n-import javax.swing.*;\n-import javax.swing.border.*;\n-import javax.swing.plaf.*;\n+import java.util.HashMap;\n+import javax.swing.AbstractButton;\n+import javax.swing.CellRendererPane;\n+import javax.swing.JButton;\n+import javax.swing.JCheckBox;\n+import javax.swing.JComboBox;\n+import javax.swing.JComponent;\n+import javax.swing.JRadioButton;\n+import javax.swing.JToolBar;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+import javax.swing.border.AbstractBorder;\n+import javax.swing.border.Border;\n+import javax.swing.border.EmptyBorder;\n+import javax.swing.border.LineBorder;\n+import javax.swing.plaf.ColorUIResource;\n+import javax.swing.plaf.InsetsUIResource;\n+import javax.swing.plaf.UIResource;\n@@ -60,4 +86,4 @@\n-import static com.sun.java.swing.plaf.windows.TMSchema.*;\n-\n-import java.lang.Math;\n-\n+import static com.sun.java.swing.plaf.windows.TMSchema.Part;\n+import static com.sun.java.swing.plaf.windows.TMSchema.Prop;\n+import static com.sun.java.swing.plaf.windows.TMSchema.State;\n+import static com.sun.java.swing.plaf.windows.TMSchema.TypeEnum;\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/XPStyle.java","additions":36,"deletions":10,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -47,1 +47,0 @@\n-\n@@ -49,1 +48,1 @@\n-                         = new HashMap<Integer, Map<String, Long>>();\n+            = new HashMap<Integer, Map<String, Long>>();\n@@ -89,2 +88,1 @@\n-        if(dpiAwareWidgetToTheme.containsKey(dpi))\n-        {\n+        if(dpiAwareWidgetToTheme.containsKey(dpi)) {\n@@ -106,9 +104,3 @@\n-            if(dpiAwareWidgetToTheme.containsKey(dpi))\n-            {\n-                if (!dpiAwareWidgetToTheme.get(dpi).isEmpty())\n-                {\n-                    dpiAwareWidgetToTheme.get(dpi).put(widget, theme);\n-                }\n-            }\n-            else\n-            {\n+            if (dpiAwareWidgetToTheme.get(dpi) != null) {\n+                dpiAwareWidgetToTheme.get(dpi).put(widget, theme);\n+            } else {\n@@ -135,3 +127,4 @@\n-                        for (Long value :\n-                             dpiAwareWidgetToTheme.get(dpi).values()) {\n-                            closeTheme(value);\n+                        for (Map <String, Long> dpiVal: dpiAwareWidgetToTheme.values()) {\n+                            for (Long value : dpiVal.values()) {\n+                                closeTheme(value);\n+                            }\n@@ -153,1 +146,1 @@\n-        if(dpiAwareWidgetToTheme.containsKey(dpi))\n+        if (dpiAwareWidgetToTheme.get(dpi) != null)\n@@ -179,1 +172,2 @@\n-            \/* We get the part size vased on the theme for current screen DPI and pass it to paintBackground *\/\n+            \/* We get the part size based on the theme for current screen DPI\n+            and pass it to paintBackground *\/\n@@ -181,5 +175,2 @@\n-            paintBackground(buffer,\n-                            getTheme(widget, dpi),\n-                            part, state,\n-                            (int)d.getWidth(),\n-                            (int)d.getHeight() , w, h, stride);\n+            paintBackground(buffer, getTheme(widget, dpi), part, state,\n+                            d.width, d.height , w, h, stride);\n@@ -339,2 +330,1 @@\n-            return getThemeBackgroundContentMargins(getTheme(widget,\n-                                                             defaultDPI),\n+            return getThemeBackgroundContentMargins(getTheme(widget, defaultDPI),\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/ThemeReader.java","additions":15,"deletions":25,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -241,1 +241,1 @@\n-(JNIEnv* env, jclass klass, jstring widget, jint dpi) {\n+(JNIEnv *env, jclass klass, jstring widget, jint dpi) {\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/ThemeReader.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}