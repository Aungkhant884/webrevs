{"files":[{"patch":"@@ -31,1 +31,0 @@\n-com\/sun\/jdi\/JdbMethodExitTest.java 8285422 generic-all\n","filename":"test\/jdk\/ProblemList-Virtual.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -156,1 +156,0 @@\n-        System.out.println(\"threadid=\"+Thread.currentThread().getId());\n@@ -205,3 +204,8 @@\n-        Integer threadId = Integer.parseInt(\n-                new OutputAnalyzer(getDebuggeeOutput())\n-                        .firstMatch(\"^threadid=(.*)$\", 1));\n+\n+        \/\/ In order to find the main threadId, we need to parse a line from the \"threads\"\n+        \/\/ command output that looks something like:\n+        \/\/    (java.lang.VirtualThread)694            main            running (at breakpoint)\n+        OutputAnalyzer o = execCommand(JdbCommand.threads());\n+        String match = o.firstMatch(\"^\\\\s*\\\\(.+\\\\)(\\\\d+)\\\\s+main\\\\s+running.+$\", 1);\n+        Integer threadId = Integer.parseInt(match);\n+\n","filename":"test\/jdk\/com\/sun\/jdi\/JdbMethodExitTest.java","additions":9,"deletions":5,"binary":false,"changes":14,"status":"modified"}]}