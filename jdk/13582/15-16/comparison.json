{"files":[{"patch":"@@ -40,1 +40,1 @@\n-    _num_regions(((heap.end() - heap.start()) \/ region_size_words) + 1),\n+    _num_regions(align_up(pointer_delta(heap.end(), heap.start()), region_size_words) \/ region_size_words),\n@@ -45,1 +45,1 @@\n-  assert(_region_size_words_shift <= NUM_COMPRESSED_BITS, \"regions must not be larger than maximum addressing bits allow\");\n+  assert(_region_size_words_shift <= NUM_OFFSET_BITS, \"regions must not be larger than maximum addressing bits allow\");\n@@ -47,1 +47,1 @@\n-  if (UseSerialGC && heap_size_words <= (1 << NUM_COMPRESSED_BITS)) {\n+  if (UseSerialGC && heap_size_words <= (1 << NUM_OFFSET_BITS)) {\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n- * We divide the heap into number of logical regions. Each region spans maximum of 2^NUM_COMPRESSED_BITS words.\n+ * We divide the heap into number of logical regions. Each region spans maximum of 2^NUM_OFFSET_BITS words.\n@@ -111,2 +111,2 @@\n-  \/\/ How many bits we use for the compressed pointer\n-  static const int NUM_COMPRESSED_BITS = 32 - OFFSET_BITS_SHIFT;\n+  \/\/ How many bits we use for the offset\n+  static const int NUM_OFFSET_BITS = 32 - OFFSET_BITS_SHIFT;\n@@ -165,1 +165,1 @@\n-  static const size_t TABLE_SIZE = 128;\n+  static const size_t TABLE_SIZE = 1024;\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}