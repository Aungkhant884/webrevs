{"files":[{"patch":"@@ -39,1 +39,1 @@\n-  static void initialize(MemRegion heap, size_t region_size_words_shift);\n+  static void initialize(MemRegion heap, size_t region_size_words);\n","filename":"src\/hotspot\/share\/gc\/shared\/gcForwarding.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -136,1 +136,1 @@\n-  GCForwarding::initialize(_reserved, SpaceAlignment);\n+  GCForwarding::initialize(_reserved, SpaceAlignment \/ HeapWordSize);\n","filename":"src\/hotspot\/share\/gc\/shared\/genCollectedHeap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -129,3 +129,4 @@\n-  assert(val < TABLE_SIZE, \"must fit in table: val: \" UINT64_FORMAT \", table-size: \" UINTX_FORMAT \", table-size-bits: %d\",\n-         val, TABLE_SIZE, log2i_exact(TABLE_SIZE));\n-  return static_cast<size_t>(val);\n+  size_t idx = static_cast<size_t>(val);\n+  assert(idx < TABLE_SIZE, \"must fit in table: idx: \" SIZE_FORMAT \", table-size: \" SIZE_FORMAT \", table-size-bits: %d\",\n+         idx, TABLE_SIZE, log2i_exact(TABLE_SIZE));\n+  return idx;\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -62,7 +62,8 @@\n- *    0                        32                     64\n- *    [TT|F|A|OOOOOOOOOOOOOOOOO|......................]\n- *      ^----------------------------------------------- normal lock bits, would record \"object is forwarded\"\n- *        ^--------------------------------------------- fallback bit (explained below)\n- *          ^------------------------------------------- alternate region select\n- *            ^----------------------------------------- in-region offset\n- *                              ^----------------------- compressed class pointer (not handled, but also *not touched* by this code)\n+ *    64                       32                     0\n+ *    [........................|OOOOOOOOOOOOOOO|A|F|TT]\n+ *                                                  ^--- normal lock bits, would record \"object is forwarded\"\n+ *                                                ^----- fallback bit (explained below)\n+ *                                              ^------- alternate region select\n+ *                              ^----------------------- in-region offset\n+ *     ^------------------------------------------------ protected area, *not touched* by this code, useful for\n+ *                                                       compressed class pointer with compact object headers\n@@ -93,1 +94,1 @@\n-  static const uintptr_t MARK_LOWER_HALF_MASK = 0xffffffff;\n+  static const uintptr_t MARK_LOWER_HALF_MASK = right_n_bits(32);\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.hpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}