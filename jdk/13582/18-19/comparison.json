{"files":[{"patch":"@@ -133,11 +133,17 @@\n-  HeapWord* found = _table[idx]._from;\n-  if (found != nullptr) {\n-    if (found != from) {\n-      FallbackTableEntry* entry = NEW_C_HEAP_OBJ(FallbackTableEntry, mtGC);\n-      entry->_next = _table[idx]._next;\n-      entry->_from = _table[idx]._from;\n-      entry->_to = _table[idx]._to;\n-      _table[idx]._next = entry;\n-    } \/\/ Else fall-through and update entry below.\n-  } else {\n-    assert(_table[idx]._next == nullptr, \"next-link should be null here\");\n+  FallbackTableEntry* head = &_table[idx];\n+  FallbackTableEntry* entry = head;\n+  \/\/ Search existing entry in chain starting at idx.\n+  while (entry != nullptr) {\n+    if (entry->_from == from) {\n+      break;\n+    }\n+    entry = entry->_next;\n+  }\n+  if (entry == nullptr) {\n+    \/\/ No entry found, create new one and insert after head.\n+    FallbackTableEntry* new_entry = NEW_C_HEAP_OBJ(FallbackTableEntry, mtGC);\n+    new_entry->_next = head->_next;\n+    new_entry->_from = head->_from;\n+    new_entry->_to   = head->_to;\n+    head->_next = new_entry;\n+    entry = head; \/\/ Set from and to fields below.\n@@ -145,2 +151,3 @@\n-  _table[idx]._from = from;\n-  _table[idx]._to   = to;\n+  \/\/ Set from and to in new or found entry.\n+  entry->_from = from;\n+  entry->_to   = to;\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.cpp","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -126,1 +126,0 @@\n-  inline bool region_contains(HeapWord* region_base, HeapWord* addr) const;\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,4 +41,0 @@\n-bool SlidingForwarding::region_contains(HeapWord* region_base, HeapWord* addr) const {\n-  return (region_base <= addr) && (addr < (region_base + _region_size_words));\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/shared\/slidingForwarding.inline.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"}]}