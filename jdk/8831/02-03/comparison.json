{"files":[{"patch":"@@ -739,1 +739,0 @@\n-    \/\/ HeapUsage = GC heap\n@@ -743,1 +742,0 @@\n-    \/\/ NonHeapUsage = CodeHeaps + Metaspace\n","filename":"src\/hotspot\/share\/services\/management.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -187,3 +187,2 @@\n-\/\/ Any NonHeap pools would be counted into Non-Heap memory by MemoryMXBean.getNonHeapMemoryUsage.\n-\/\/ Make sure that it behaves as you expected if you want to add a new type of NonHeap pool, and\n-\/\/ update comments in jmm_GetMemoryUsage\n+\/\/ Note, any NonHeap pools would be counted into Non-Heap memory by MemoryMXBean.getNonHeapMemoryUsage.\n+\/\/ Make sure that it behaves as you expected if you want to add a new type of NonHeap pool\n","filename":"src\/hotspot\/share\/services\/memoryPool.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -30,3 +30,0 @@\n- * Depending on command line option the test checks either Metaspace or\n- * Compressed Class Space area.\n- *\n@@ -130,4 +127,0 @@\n-    \/**\n-     * Looks up for memory pool name.\n-     * @param args command line options\n-     *\/\n@@ -138,6 +131,0 @@\n-    private void printUsage() {\n-        System.err.println(\"Usage: \");\n-        System.err.println(\"java [-Xms..] [-XX:MetaspaceSize=..]  [-XX:MaxMetaspaceSize=..] \\\\\");\n-        System.err.println(\"    \" + MemoryUsageTest.class.getCanonicalName());\n-    }\n-\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/metaspace\/gc\/MemoryUsageTest.java","additions":0,"deletions":13,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-go -noclassgc -XX:MaxMetaspaceSize=16m -XX:CompressedClassSpaceSize=4m LowMemoryTest2\n+go -noclassgc -XX:MaxMetaspaceSize=4m LowMemoryTest2\n","filename":"test\/jdk\/java\/lang\/management\/MemoryMXBean\/LowMemoryTest2.sh","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,0 +82,10 @@\n+    \/\/ Hotspot VM 19 removes Compressed Class Space pool as it's a part of Metaspace\n+    \/\/ It expected to have the following memory pools:\n+    \/\/ - HEAP      G1 Eden Space\n+    \/\/ - HEAP      G1 Old Gen\n+    \/\/ - HEAP      G1 Survivor Space\n+    \/\/ - NON_HEAP  CodeHeap 'non-nmethods' (between one and three depending on the -XX:SegmentedCodeCache option)\n+    \/\/ - NON_HEAP  Metaspace\n+    \/\/ - NON_HEAP  CodeHeap 'profiled nmethods'\n+    \/\/ - NON_HEAP  CodeHeap 'non-profiled nmethods'\n+\n","filename":"test\/jdk\/java\/lang\/management\/MemoryMXBean\/MemoryTest.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}