{"files":[{"patch":"@@ -691,1 +691,4 @@\n-    Uncontrolled shutdown is, of course, an exception to this rule.\n+    Uncontrolled shutdown and Agent Start-Up failure\n+    (<internallink id=\"onload\"><code>Agent_OnLoad<\/code><\/internallink> and\n+    <internallink id=\"onattach\"><code>Agent_OnAttach<\/code><\/internallink>) are, of course,\n+    an exception to this rule.\n","filename":"src\/hotspot\/share\/prims\/jvmti.xml","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2736,0 +2736,3 @@\n+        if (!agent_lib->is_static_lib()) {\n+          os::dll_unload(library);\n+        }\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,1 @@\n- * @bug 8165736\n+ * @bug 8165736 8252657\n@@ -39,0 +39,1 @@\n+            \/\/ Check return code\n@@ -41,0 +42,4 @@\n+\n+            \/\/ Check loaded libraries\n+            output = executor.execute(\"VM.dynlibs\");\n+            output.shouldNotContain(libpath);\n","filename":"test\/hotspot\/jtreg\/serviceability\/dcmd\/jvmti\/AttachFailed\/AttachReturnError.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}