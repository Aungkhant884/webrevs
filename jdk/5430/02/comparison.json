{"files":[{"patch":"@@ -35,1 +35,0 @@\n-import java.util.stream.Collectors;\n@@ -38,2 +37,0 @@\n-import static org.testng.Assert.assertTrue;\n-\n@@ -71,1 +68,1 @@\n-            naive += Math.pow(DoubleStream.of(rand).reduce((x, y) -> x+y).getAsDouble() - sum[0], 2);\n+            naive += square(DoubleStream.of(rand).reduce((x, y) -> x+y).getAsDouble() - sum[0]);\n@@ -74,1 +71,1 @@\n-            jdkSequentialStreamError += Math.pow(DoubleStream.of(rand).sum() - sum[0], 2);\n+            jdkSequentialStreamError += square(DoubleStream.of(rand).sum() - sum[0]);\n@@ -76,1 +73,1 @@\n-            goodSequentialStreamError += Math.pow(computeFinalSum(DoubleStream.of(rand).collect(doubleSupplier,objDoubleConsumer,goodCollectorConsumer)) - sum[0], 2);\n+            goodSequentialStreamError += square(computeFinalSum(DoubleStream.of(rand).collect(doubleSupplier,objDoubleConsumer,goodCollectorConsumer)) - sum[0]);\n@@ -79,1 +76,1 @@\n-            jdkParallelStreamError += Math.pow(DoubleStream.of(rand).parallel().sum() - sum[0], 2);\n+            jdkParallelStreamError += square(DoubleStream.of(rand).parallel().sum() - sum[0]);\n@@ -82,1 +79,1 @@\n-            goodParallelStreamError += Math.pow(computeFinalSum(DoubleStream.of(rand).parallel().collect(doubleSupplier,objDoubleConsumer,goodCollectorConsumer)) - sum[0], 2);\n+            goodParallelStreamError += square(computeFinalSum(DoubleStream.of(rand).parallel().collect(doubleSupplier,objDoubleConsumer,goodCollectorConsumer)) - sum[0]);\n@@ -85,1 +82,1 @@\n-            badParallelStreamError += Math.pow(computeFinalSum(DoubleStream.of(rand).parallel().collect(doubleSupplier,objDoubleConsumer,badCollectorConsumer)) - sum[0], 2);\n+            badParallelStreamError += square(computeFinalSum(DoubleStream.of(rand).parallel().collect(doubleSupplier,objDoubleConsumer,badCollectorConsumer)) - sum[0]);\n@@ -90,3 +87,0 @@\n-        Assert.assertEquals(goodSequentialStreamError, 0.0);\n-        Assert.assertEquals(goodSequentialStreamError, jdkSequentialStreamError);\n-\n@@ -94,1 +88,1 @@\n-        Assert.assertTrue(badParallelStreamError > goodParallelStreamError);\n+        Assert.assertTrue(badParallelStreamError > jdkParallelStreamError);\n@@ -96,0 +90,1 @@\n+        Assert.assertTrue(goodSequentialStreamError >= jdkSequentialStreamError);\n@@ -101,0 +96,4 @@\n+    private static double square(double arg) {\n+        return arg * arg;\n+    }\n+\n","filename":"test\/jdk\/java\/util\/DoubleStreamSums\/CompensatedSums.java","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"}]}