{"files":[{"patch":"@@ -1045,0 +1045,7 @@\n+void ShenandoahBarrierSetC2::maybe_step_over_cmpp_inputs(Node*& in1, Node*& in2) const {\n+  if (in1->bottom_type() == TypePtr::NULL_PTR &&\n+      (in2->Opcode() != Op_ShenandoahLoadReferenceBarrier || !((ShenandoahLoadReferenceBarrierNode*)in2)->is_native())) {\n+    in2 = step_over_gc_barrier(in2);\n+  }\n+}\n+\n@@ -1062,8 +1069,2 @@\n-    if (in1->bottom_type() == TypePtr::NULL_PTR &&\n-        (in1->Opcode() != Op_ShenandoahLoadReferenceBarrier || !((ShenandoahLoadReferenceBarrierNode*)in1)->is_native())) {\n-      in2 = step_over_gc_barrier(in2);\n-    }\n-    if (in2->bottom_type() == TypePtr::NULL_PTR &&\n-        (in2->Opcode() != Op_ShenandoahLoadReferenceBarrier || !((ShenandoahLoadReferenceBarrierNode*)in2)->is_native())) {\n-      in1 = step_over_gc_barrier(in1);\n-    }\n+    maybe_step_over_cmpp_inputs(in1, in2);\n+    maybe_step_over_cmpp_inputs(in2, in1);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -84,0 +84,2 @@\n+  void maybe_step_over_cmpp_inputs(Node*& in1, Node*& in2) const;\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c2\/shenandoahBarrierSetC2.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}