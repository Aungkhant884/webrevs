{"files":[{"patch":"@@ -134,1 +134,1 @@\n-      cld->oops_do(&_oop_closure, ClassLoaderData::_claim_none, \/*clear_modified_oops*\/true);\n+      cld->oops_do(&_oop_closure, ClassLoaderData::_claim_strong, \/*clear_modified_oops*\/true);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psClosure.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-    class_loader_data,\n","filename":"src\/hotspot\/share\/gc\/parallel\/psRootType.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -90,1 +90,0 @@\n-  PSScavengeRootsClosure roots_closure(pm);\n@@ -94,7 +93,0 @@\n-    case ParallelRootType::class_loader_data:\n-      {\n-        PSScavengeCLDClosure cld_closure(pm);\n-        ClassLoaderDataGraph::cld_do(&cld_closure);\n-      }\n-      break;\n-\n@@ -333,0 +325,8 @@\n+    {\n+      PSPromotionManager* pm = PSPromotionManager::gc_thread_promotion_manager(worker_id);\n+      PSScavengeCLDClosure cld_closure(pm);\n+      ClassLoaderDataGraph::cld_do(&cld_closure);\n+      \/\/ Do the real work\n+      pm->drain_stacks(false);\n+    }\n+\n@@ -489,0 +489,3 @@\n+    \/\/ Need to clear claim bits for the next GC.\n+    ClassLoaderDataGraph::clear_claimed_marks();\n+\n","filename":"src\/hotspot\/share\/gc\/parallel\/psScavenge.cpp","additions":11,"deletions":8,"binary":false,"changes":19,"status":"modified"}]}