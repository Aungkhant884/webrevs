{"files":[{"patch":"@@ -610,2 +610,11 @@\n-    address ret_pc = *(address*)(real_fp() - return_addr_offset);\n-    values.describe(frame_no, real_fp() - return_addr_offset,\n+    intptr_t* ret_pc_loc;\n+    intptr_t* fp_loc;\n+    if (is_interpreted_frame()) {\n+      ret_pc_loc = fp() + return_addr_offset;\n+      fp_loc = fp();\n+    } else {\n+      ret_pc_loc = real_fp() - return_addr_offset;\n+      fp_loc = real_fp() - sender_sp_offset;\n+    }\n+    address ret_pc = *(address*)ret_pc_loc;\n+    values.describe(frame_no, ret_pc_loc,\n@@ -613,1 +622,1 @@\n-    values.describe(-1, real_fp() - sender_sp_offset, \"saved fp\", 2); \/\/ \"unowned\" as value belongs to sender\n+    values.describe(-1, fp_loc, \"saved fp\", 0); \/\/ \"unowned\" as value belongs to sender\n","filename":"src\/hotspot\/cpu\/aarch64\/frame_aarch64.cpp","additions":12,"deletions":3,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -623,2 +623,11 @@\n-    address ret_pc = *(address*)(real_fp() - return_addr_offset);\n-    values.describe(frame_no, real_fp() - return_addr_offset,\n+    intptr_t* ret_pc_loc;\n+    intptr_t* fp_loc;\n+    if (is_interpreted_frame()) {\n+      ret_pc_loc = fp() + return_addr_offset;\n+      fp_loc = fp();\n+    } else {\n+      ret_pc_loc = real_fp() - return_addr_offset;\n+      fp_loc = real_fp() - sender_sp_offset;\n+    }\n+    address ret_pc = *(address*)ret_pc_loc;\n+    values.describe(frame_no, ret_pc_loc,\n@@ -626,1 +635,1 @@\n-    values.describe(-1, real_fp() - sender_sp_offset, \"saved fp\", 2); \/\/ \"unowned\" as value belongs to sender\n+    values.describe(-1, fp_loc, \"saved fp\", 0); \/\/ \"unowned\" as value belongs to sender\n","filename":"src\/hotspot\/cpu\/x86\/frame_x86.cpp","additions":12,"deletions":3,"binary":false,"changes":15,"status":"modified"}]}