{"files":[{"patch":"@@ -300,3 +300,3 @@\n-     * is less than 1 or greater than n, where n is the number of providers,\n-     * the provider (if not already installed) is inserted at the end of\n-     * the list, or at the n + 1 position.\n+     * is less than 1 or greater than n, where n is the number of installed\n+     * providers, the provider (if not already installed) is inserted at\n+     * the end ofthe list, or at the n + 1 position.\n","filename":"src\/java.base\/share\/classes\/java\/security\/Security.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -84,0 +84,16 @@\n+        \/\/Ensure that providers inserted at position 0 or > n are placed\n+        \/\/at the n+1st position\n+        class NextProvider extends Provider {\n+            public NextProvider() { super(\"Bar\", \"47.23\", \"none\"); }\n+        }\n+        Provider r = new NextProvider();\n+        Security.insertProviderAt(r,0);\n+        if (plen() != n+2 || Security.getProviders()[n+1] != r) {\n+            throw new Exception(\"Provider inserted at zero not at pos n+1\");\n+        }\n+        Security.removeProvider(r.getName());\n+        Security.insertProviderAt(r, n+5);\n+        if (plen() != n+2 || Security.getProviders()[n+1] != r) {\n+            throw new Exception(\"Provider inserted at n+5 not at pos n+1\");\n+        }\n+\n","filename":"test\/jdk\/java\/security\/Provider\/ChangeProviders.java","additions":17,"deletions":1,"binary":false,"changes":18,"status":"modified"}]}