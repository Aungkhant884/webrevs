{"files":[{"patch":"@@ -58,1 +58,2 @@\n-    private static volatile Point spinnerLocationOnScreen;\n+    private static volatile Point spinnerUpButtonCenter;\n+    private static volatile Point spinnerDownButtonCenter;\n@@ -60,4 +61,0 @@\n-    private static volatile int spinnerEditorWidth;\n-    private static volatile int spinnerButtonWidth;\n-    private static volatile int spinnerQuarterHeight;\n-\n@@ -108,4 +105,0 @@\n-                    spinnerLocationOnScreen = spinner.getLocationOnScreen();\n-                    spinnerEditorWidth = spinner.getEditor().getWidth();\n-                    spinnerButtonWidth = spinner.getWidth() - spinnerEditorWidth;\n-                    spinnerQuarterHeight = spinner.getHeight() \/ 4;\n@@ -114,8 +107,12 @@\n-                Point spinnerUpButtonCenter = new Point();\n-                spinnerUpButtonCenter.x = spinnerLocationOnScreen.x + spinnerEditorWidth\n-                        + (spinnerButtonWidth \/ 2);\n-                spinnerUpButtonCenter.y = spinnerLocationOnScreen.y + spinnerQuarterHeight;\n-\n-                Point spinnerDownButtonCenter = new Point();\n-                spinnerDownButtonCenter.x = spinnerUpButtonCenter.x;\n-                spinnerDownButtonCenter.y = spinnerLocationOnScreen.y + (3 * spinnerQuarterHeight);\n+                SwingUtilities.invokeAndWait(() -> {\n+                    Point loc = spinner.getLocationOnScreen();\n+                    int editorWidth = spinner.getEditor().getWidth();\n+                    int buttonWidth = spinner.getWidth() - editorWidth;\n+                    int quarterHeight = spinner.getHeight() \/ 4;\n+\n+                    spinnerUpButtonCenter = new Point(loc.x + editorWidth\n+                            + (buttonWidth \/ 2),\n+                            loc.y + quarterHeight);\n+                    spinnerDownButtonCenter = new Point(spinnerUpButtonCenter.x,\n+                            loc.y + (3 * quarterHeight));\n+                });\n","filename":"test\/jdk\/javax\/swing\/JSpinner\/4515999\/JSpinnerMouseAndKeyPressTest.java","additions":14,"deletions":17,"binary":false,"changes":31,"status":"modified"}]}