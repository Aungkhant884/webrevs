{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,6 @@\n-import java.nio.file.*;\n+import java.nio.file.Files;\n+import java.nio.file.FileSystem;\n+import java.nio.file.Path;\n+import java.nio.file.WatchEvent;\n+import java.nio.file.WatchKey;\n+import java.nio.file.WatchService;\n@@ -37,0 +42,2 @@\n+import java.util.HashMap;\n+import java.util.Map;\n@@ -45,0 +52,2 @@\n+    static final Map<Path,Integer> pathToTime = new HashMap<>();\n+\n@@ -46,1 +55,2 @@\n-        SensitivityWatchEventModifier[] sensitivtives =\n+        pathToTime.clear();\n+        SensitivityWatchEventModifier[] sensitivities =\n@@ -49,2 +59,2 @@\n-            SensitivityWatchEventModifier sensivity =\n-                sensitivtives[ rand.nextInt(sensitivtives.length) ];\n+            SensitivityWatchEventModifier sensitivity =\n+                sensitivities[rand.nextInt(sensitivities.length)];\n@@ -52,1 +62,3 @@\n-            dir.register(watcher, new WatchEvent.Kind<?>[]{ ENTRY_MODIFY }, sensivity);\n+            dir.register(watcher, new WatchEvent.Kind<?>[]{ ENTRY_MODIFY },\n+                sensitivity);\n+            pathToTime.put(dir, sensitivity.sensitivityValueInSeconds());\n@@ -111,1 +123,4 @@\n-                    throw new RuntimeException(\"No ENTRY_MODIFY event received for \" + file);\n+                    Path parent = file.getParent();\n+                    String msg = String.format(\"No ENTRY_MODIFY event received for %s (dir: %s, sensitivity: %d)\",\n+                            file, parent, pathToTime.get(parent));\n+                    throw new RuntimeException(msg);\n","filename":"test\/jdk\/java\/nio\/file\/WatchService\/SensitivityModifier.java","additions":22,"deletions":7,"binary":false,"changes":29,"status":"modified"}]}