{"files":[{"patch":"@@ -62,1 +62,1 @@\n-        Lookup first = doLookup(false);\n+        Lookup first = doLookup(false, 0);\n@@ -66,1 +66,1 @@\n-        Lookup second = doLookup(false);\n+        Lookup second = doLookup(false, 0);\n@@ -72,1 +72,1 @@\n-        Lookup third = doLookup(true);\n+        Lookup third = doLookup(true, 0);\n@@ -90,2 +90,3 @@\n-        doLookup(false);\n-        Thread.sleep(5000);\n+        long timeout = System.nanoTime() + TimeUnit.SECONDS.toNanos(12);\n+        doLookup(false, Long.MAX_VALUE);\n+        Thread.sleep(9000);\n@@ -108,1 +109,1 @@\n-                doLookup(true);\n+                doLookup(true, timeout);\n@@ -126,1 +127,1 @@\n-    private static Lookup doLookup(boolean error) {\n+    private static Lookup doLookup(boolean error, long timeout) {\n@@ -137,2 +138,4 @@\n-            Assert.assertEquals(firstTimestamp, secondTimestamp,\n-                                \"Only one positive lookup is expected with caching enabled\");\n+            if (timeout == 0 || timeout - System.nanoTime() > 0) {\n+                Assert.assertEquals(firstTimestamp, secondTimestamp,\n+                        \"Only one positive lookup is expected with caching enabled\");\n+            }\n","filename":"test\/jdk\/java\/net\/spi\/InetAddressResolverProvider\/AddressesStaleCachingTest.java","additions":12,"deletions":9,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-networkaddress.cache.ttl=2\n+networkaddress.cache.ttl=7\n","filename":"test\/jdk\/java\/net\/spi\/InetAddressResolverProvider\/props\/CacheStale.props","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}