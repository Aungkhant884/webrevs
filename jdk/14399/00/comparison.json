{"files":[{"patch":"@@ -1389,1 +1389,1 @@\n-           || holder == vmClasses::VirtualThread_klass()\n+           || holder == vmClasses::BaseVirtualThread_klass()\n","filename":"src\/hotspot\/share\/prims\/jvm.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,5 @@\n+import jdk.internal.vm.annotation.ForceInline;\n+import jdk.internal.vm.annotation.Hidden;\n+\n+import java.lang.ref.Reference;\n+\n@@ -66,0 +71,8 @@\n+\n+    @Hidden\n+    @ForceInline\n+    protected void runWith(Object bindings, Runnable op) {\n+        ensureMaterializedForStackWalk(bindings);\n+        op.run();\n+        Reference.reachabilityFence(bindings);\n+    }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/BaseVirtualThread.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -436,1 +436,2 @@\n-                task.run();\n+                Object bindings = scopedValueBindings();\n+                runWith(bindings, task);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/ThreadBuilders.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import java.lang.ref.Reference;\n@@ -337,8 +336,0 @@\n-    @Hidden\n-    @ForceInline\n-    private void runWith(Object bindings, Runnable op) {\n-        ensureMaterializedForStackWalk(bindings);\n-        op.run();\n-        Reference.reachabilityFence(bindings);\n-    }\n-\n","filename":"src\/java.base\/share\/classes\/java\/lang\/VirtualThread.java","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"}]}