{"files":[{"patch":"@@ -36,0 +36,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -55,1 +56,1 @@\n-        File dir = new File(System.getProperty(\"user.dir\"));\n+        File dir = CDSTestUtils.getOutputDirAsFile();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/DirClasspathTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        String java_home_dst = System.getProperty(\"user.dir\") + File.separator + \"moved_jdk\";\n+        String java_home_dst = CDSTestUtils.getOutputDir() + File.separator + \"moved_jdk\";\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/MoveJDKTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2019, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,0 +42,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -46,1 +47,1 @@\n-  private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+  private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/RelativePath.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-    private static final String JSA_FILE_PREFIX = System.getProperty(\"user.dir\") +\n+    private static final String JSA_FILE_PREFIX = CDSTestUtils.getOutputDir() +\n@@ -118,1 +118,1 @@\n-        File dir = new File(System.getProperty(\"user.dir\"));\n+        File dir = CDSTestUtils.getOutputDirAsFile();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestCommon.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -43,1 +44,1 @@\n-        File dir = new File(System.getProperty(\"user.dir\"));\n+        File dir = CDSTestUtils.getOutputDirAsFile();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/UnusedCPDuringDump.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -49,1 +50,1 @@\n-        Path userDir = Paths.get(System.getProperty(\"user.dir\"));\n+        Path userDir = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedIntegerCacheTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,0 +43,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -51,1 +52,1 @@\n-        Path userDir = Paths.get(System.getProperty(\"user.dir\"));\n+        Path userDir = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/cacheObject\/ArchivedModuleComboTest.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -61,1 +62,1 @@\n-        String classList = System.getProperty(\"user.dir\") + File.separator +\n+        String classList = CDSTestUtils.getOutputDir() + File.separator +\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicLotsOfClasses.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -49,1 +50,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/MainModuleOnly.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -42,1 +43,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/UnsupportedBaseArchive.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -52,1 +53,1 @@\n-        File dir = new File(System.getProperty(\"user.dir\"));\n+        File dir = CDSTestUtils.getOutputDirAsFile();\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/UnusedCPDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -66,1 +67,1 @@\n-            System.getProperty(\"user.dir\") + File.separator + \"GCSharedStringDuringDump_gen.txt\";\n+            CDSTestUtils.getOutputDir() + File.separator + \"GCSharedStringDuringDump_gen.txt\";\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/javaldr\/GCSharedStringsDuringDump.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/NewModuleFinderTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -43,1 +44,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/AddModules.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -42,1 +43,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/AddOpens.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -43,1 +44,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/AddReads.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -44,1 +45,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/ExportModule.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,0 +40,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -53,1 +54,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/JvmtiAddPath.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -50,1 +51,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/MainModuleOnly.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -43,1 +44,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/ModulePathAndCP.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -40,0 +40,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -44,1 +45,1 @@\n-    private static final Path USER_DIR = Paths.get(System.getProperty(\"user.dir\"));\n+    private static final Path USER_DIR = Paths.get(CDSTestUtils.getOutputDir());\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/modulepath\/OptimizeModuleHandlingTest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -47,1 +48,1 @@\n-    static String sharedArchiveConfigFile = System.getProperty(\"user.dir\") + File.separator + \"SharedStringsHumongous_gen.txt\";\n+    static String sharedArchiveConfigFile = CDSTestUtils.getOutputDir() + File.separator + \"SharedStringsHumongous_gen.txt\";\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/sharedStrings\/SharedStringsHumongous.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,1 @@\n+import jdk.test.lib.cds.CDSTestUtils;\n@@ -41,1 +42,1 @@\n-    static String sharedArchiveConfigFile = System.getProperty(\"user.dir\") + File.separator + \"SharedStringsStress_gen.txt\";\n+    static String sharedArchiveConfigFile = CDSTestUtils.getOutputDir() + File.separator + \"SharedStringsStress_gen.txt\";\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/sharedStrings\/SharedStringsStress.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -497,0 +497,4 @@\n+    public static File getOutputDirAsFile() {\n+        return outputDirAsFile;\n+    }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/cds\/CDSTestUtils.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}