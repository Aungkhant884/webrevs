{"files":[{"patch":"@@ -50,1 +50,0 @@\n-  template(PrintJNI)                              \\\n","filename":"src\/hotspot\/share\/runtime\/vmOperation.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -180,4 +180,0 @@\n-void VM_PrintJNI::doit() {\n-  JNIHandles::print_on(_out);\n-}\n-\n@@ -497,0 +493,1 @@\n+  \/\/ thread stacks\n@@ -498,1 +495,3 @@\n-  _print_jni.doit();\n+  \/\/ JNI global handles\n+  JNIHandles::print_on(_out);\n+  \/\/ Deadlock detection\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -142,1 +142,1 @@\n- private:\n+ protected:\n@@ -144,0 +144,1 @@\n+ private:\n@@ -161,10 +162,0 @@\n-class VM_PrintJNI: public VM_Operation {\n- private:\n-  outputStream* _out;\n- public:\n-  VM_PrintJNI()                         { _out = tty; }\n-  VM_PrintJNI(outputStream* out)        { _out = out; }\n-  VMOp_Type type() const                { return VMOp_PrintJNI; }\n-  void doit();\n-};\n-\n@@ -275,1 +266,0 @@\n-   VM_PrintJNI _print_jni;\n@@ -279,1 +269,1 @@\n-  VM_ExtendedPrintThreads() : VM_PrintThreads(), _print_jni(), _find_dead_locks(tty) {}\n+  VM_ExtendedPrintThreads() : VM_PrintThreads(), _find_dead_locks(tty) {}\n@@ -282,1 +272,1 @@\n-      _print_jni(out), _find_dead_locks(out) {}\n+      _find_dead_locks(out) {}\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.hpp","additions":4,"deletions":14,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -186,3 +186,0 @@\n-  \/\/ thread stacks\n-  \/\/ JNI global handles\n-  \/\/ Deadlock detection\n","filename":"src\/hotspot\/share\/services\/attachListener.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -537,11 +537,2 @@\n-  \/\/ thread stacks\n-  VM_PrintThreads op1(output(), _locks.value(), _extended.value());\n-  VMThread::execute(&op1);\n-\n-  \/\/ JNI global handles\n-  VM_PrintJNI op2(output());\n-  VMThread::execute(&op2);\n-\n-  \/\/ Deadlock detection\n-  VM_FindDeadlocks op3(output());\n-  VMThread::execute(&op3);\n+  VM_ExtendedPrintThreads op(output(), _locks.value(), _extended.value());\n+  VMThread::execute(&op);\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"}]}