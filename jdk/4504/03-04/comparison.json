{"files":[{"patch":"@@ -402,1 +402,1 @@\n-        VM_ExtendedPrintThreads op;\n+        VM_PrintThreads op(tty, PrintConcurrentLocks, false, true);\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -171,0 +171,3 @@\n+  if (_print_jni) {\n+    JNIHandles::print_on(_out);\n+  }\n@@ -492,7 +495,0 @@\n-void VM_ExtendedPrintThreads::doit() {\n-  \/\/ thread stacks\n-  VM_PrintThreads::doit();\n-  \/\/ JNI global handles\n-  JNIHandles::print_on(_out);\n-}\n-\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -142,2 +142,0 @@\n- protected:\n-  outputStream* _out;\n@@ -145,0 +143,1 @@\n+  outputStream* _out;\n@@ -147,0 +146,1 @@\n+  bool _print_jni;\n@@ -149,1 +149,1 @@\n-    : _out(tty), _print_concurrent_locks(PrintConcurrentLocks), _print_extended_info(false)\n+    : _out(tty), _print_concurrent_locks(PrintConcurrentLocks), _print_extended_info(false), _print_jni(false)\n@@ -151,2 +151,3 @@\n-  VM_PrintThreads(outputStream* out, bool print_concurrent_locks, bool print_extended_info)\n-    : _out(out), _print_concurrent_locks(print_concurrent_locks), _print_extended_info(print_extended_info)\n+  VM_PrintThreads(outputStream* out, bool print_concurrent_locks, bool print_extended_info, bool print_jni = false)\n+    : _out(out), _print_concurrent_locks(print_concurrent_locks), _print_extended_info(print_extended_info),\n+      _print_jni(print_jni)\n@@ -264,12 +265,0 @@\n-class VM_ExtendedPrintThreads: public VM_PrintThreads {\n- public:\n-  VM_ExtendedPrintThreads() : VM_PrintThreads() {}\n-  VM_ExtendedPrintThreads(outputStream* out, bool print_concurrent_locks, bool print_extended_info)\n-    : VM_PrintThreads(out, print_concurrent_locks, print_extended_info) {}\n-\n-  VMOp_Type type() const {\n-    return VMOp_ExtendedPrintThreads;\n-  }\n-  void doit();\n-};\n-\n","filename":"src\/hotspot\/share\/runtime\/vmOperations.hpp","additions":6,"deletions":17,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -187,1 +187,1 @@\n-  VM_ExtendedPrintThreads op1(out, print_concurrent_locks, print_extended_info);\n+  VM_PrintThreads op1(out, print_concurrent_locks, print_extended_info, true);\n","filename":"src\/hotspot\/share\/services\/attachListener.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -538,1 +538,1 @@\n-  VM_ExtendedPrintThreads op1(output(), _locks.value(), _extended.value());\n+  VM_PrintThreads op1(output(), _locks.value(), _extended.value(), true);\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}