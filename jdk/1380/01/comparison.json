{"files":[{"patch":"@@ -138,2 +138,14 @@\n-  BOOL result = RemoveDirectoryW(abs_path);\n-  EXPECT_TRUE(result) << \"Failed to delete directory \\\"\" << path << \"\\\": \" << GetLastError();\n+  const int retry_count = 20;\n+\n+  \/\/ If the directory cannot be deleted directly, a file in it might be kept\n+  \/\/ open by a virus scanner. Try a few times, since this should be temporary.\n+  for (int i = 0; i <= retry_count; ++i) {\n+    BOOL result = RemoveDirectoryW(abs_path);\n+\n+    if (!result && (i < retry_count)) {\n+      Sleep(1);\n+    } else {\n+      EXPECT_TRUE(result) << \"Failed to delete directory \\\"\" << path << \"\\\": \" << GetLastError();\n+      return;\n+    }\n+  }\n","filename":"test\/hotspot\/gtest\/runtime\/test_os_windows.cpp","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}