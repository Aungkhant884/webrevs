{"files":[{"patch":"@@ -236,1 +236,1 @@\n-      \/\/ use loop to null out the fields\n+       \/\/ use loop to null out the fields\n@@ -238,0 +238,1 @@\n+       const int unroll = 8; \/\/ Number of stp(zr) instructions we'll unroll\n@@ -239,5 +240,3 @@\n-       mov(index,  words \/ 8);\n-\n-       const int unroll = 8; \/\/ Number of str(zr) instructions we'll unroll\n-       int remainder = words % unroll;\n-       lea(rscratch1, Address(obj, hdr_size_in_bytes + remainder * BytesPerWord));\n+       int remainder = (words & ((unroll - 1) * 2)) >> 1;\n+       mov(index,  words \/ (unroll * 2));\n+       lea(rscratch1, Address(obj, hdr_size_in_bytes + remainder * 2 * BytesPerWord));\n@@ -253,1 +252,1 @@\n-         str(zr, Address(rscratch1, i * wordSize));\n+         stp(zr, zr, Address(rscratch1, i * 2 * BytesPerWord));\n@@ -257,1 +256,1 @@\n-       add(rscratch1, rscratch1, unroll * wordSize);\n+       add(rscratch1, rscratch1, unroll * 2 * BytesPerWord);\n@@ -260,0 +259,3 @@\n+       if (words % 2 != 0) {\n+         str(zr, Address(rscratch1, -(unroll * 2 * BytesPerWord)));\n+       }\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_MacroAssembler_aarch64.cpp","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"}]}