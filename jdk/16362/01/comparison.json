{"files":[{"patch":"@@ -1077,1 +1077,20 @@\n-\/\/ Float and Double Conversion Instruction\n+enum {\n+  fclass_minf       = 1 << 0,   \/\/ negative infinite\n+  fclass_mnorm      = 1 << 1,   \/\/ negative normal number\n+  fclass_msubnorm   = 1 << 2,   \/\/ negative subnormal number\n+  fclass_mzero      = 1 << 3,   \/\/ negative zero\n+  fclass_pzero      = 1 << 4,   \/\/ positive zero\n+  fclass_psubnorm   = 1 << 5,   \/\/ positive subnormal number\n+  fclass_pnorm      = 1 << 6,   \/\/ positive normal number\n+  fclass_pinf       = 1 << 7,   \/\/ positive infinite\n+  fclass_snan       = 1 << 8,   \/\/ signaling NaN\n+  fclass_qnan       = 1 << 9,   \/\/ quiet NaN\n+  fclass_zero       = fclass_mzero    | fclass_pzero,\n+  fclass_subnorm    = fclass_msubnorm | fclass_psubnorm,\n+  fclass_norm       = fclass_mnorm    | fclass_pnorm,\n+  fclass_inf        = fclass_minf     | fclass_pinf,\n+  fclass_nan        = fclass_snan     | fclass_qnan,\n+  fclass_finite     = fclass_zero     | fclass_subnorm   | fclass_norm,\n+};\n+\n+\/\/ Float and Double Conversion\/Classify Instruction\n","filename":"src\/hotspot\/cpu\/riscv\/assembler_riscv.hpp","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -1574,1 +1574,1 @@\n-  andi(t0, t0, 0b1100000000); \/\/if src1 or src2 is quiet or signaling NaN then return NaN\n+  andi(t0, t0, Assembler::fclass_nan); \/\/ if src1 or src2 is quiet or signaling NaN then return NaN\n@@ -1672,6 +1672,2 @@\n-  \/\/bitmask 0b1100011000 specifies this bits:\n-  \/\/ 3 - src is -0\n-  \/\/ 4 - src is +0\n-  \/\/ 8 - src is signaling NaN\n-  \/\/ 9 - src is a quiet NaN\n-  andi(tmp1, tmp1, 0b1100011000);\n+  \/\/ check if input is -0, +0, signaling NaN or quiet NaN\n+  andi(tmp1, tmp1, Assembler::fclass_zero | Assembler::fclass_nan);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -4231,1 +4231,1 @@\n-  andi(tmp, tmp, 0b1100000000);                                                           \\\n+  andi(tmp, tmp, Assembler::fclass_nan);                                                  \\\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7295,1 +7295,1 @@\n-    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), 0b0010000001);\n+    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), Assembler::fclass_inf);\n@@ -7310,1 +7310,1 @@\n-    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), 0b0010000001);\n+    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), Assembler::fclass_inf);\n@@ -7325,1 +7325,1 @@\n-    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), 0b0001111110);\n+    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), Assembler::fclass_finite);\n@@ -7340,1 +7340,1 @@\n-    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), 0b0001111110);\n+    __ andi(as_Register($dst$$reg), as_Register($dst$$reg), Assembler::fclass_finite);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}