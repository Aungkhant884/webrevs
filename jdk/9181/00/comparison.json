{"files":[{"patch":"@@ -1600,1 +1600,16 @@\n-  assert(thread != NULL, \"Missing current thread in SR_handler\");\n+\n+  \/\/ The suspend\/resume signal may have been sent from outside the process, deliberately or\n+  \/\/ accidentally. In that case the receiving thread may not be attached to the VM. We handle\n+  \/\/ that case by asserting (debug VM) resp. writing a diagnostic message to tty and\n+  \/\/ otherwise ignoring the stray signal (release VMs).\n+  \/\/ We print the siginfo as part of the diagnostics, which also contains the sender pid of\n+  \/\/ the stray signal.\n+  if (thread == nullptr) {\n+    stringStream ss;\n+    ss.print_raw(\"Non-attached thread received stray SR signal (\");\n+    os::print_siginfo(&ss, siginfo);\n+    ss.print_raw(\").\");\n+    assert(thread != NULL, \"%s.\", ss.base());\n+    tty->print_cr(\"%s\", ss.base());\n+    return;\n+  }\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"}]}