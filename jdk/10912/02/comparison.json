{"files":[{"patch":"@@ -48,0 +48,1 @@\n+<li><a href=\"#support-for-checking-standards-conforming-code\">Support for checking standards conforming code<\/a><\/li>\n@@ -242,1 +243,1 @@\n-<p>Large portions of the JDK consists of native code, that needs to be compiled to be able to run on the target platform. In theory, toolchain and operating system should be independent factors, but in practice there's more or less a one-to-one correlation between target operating system and toolchain.<\/p>\n+<p>Large portions of the JDK consists of native code, that needs to be compiled to be able to run on the target platform. In theory, toolchain and operating system should be independent factors, but in practice there's more or less a one-to-one correlation between target operating system and toolchain. There are ongoing efforts to loosen this strict coupling between compiler and operating system (see <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-8288293\">JDK-8288293<\/a>) but it will likely be a very long time before this goal can be realized.<\/p>\n@@ -312,0 +313,2 @@\n+<h3 id=\"support-for-checking-standards-conforming-code\">Support for checking standards conforming code<\/h3>\n+<p>The make system has a strict mode that enforces conforming code based on the standard that is used by the build, which can be useful to ensure that native code behaves strictly according to said standard. This option can by enabled by passing <code>--enable-conforming-compilation<\/code> during configure, but is off by default. If you just want to compile a working JDK it is not recommended that you set this flag, as it is mainly meant to aid developers that are working with native code.<\/p>\n","filename":"doc\/building.html","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -314,1 +314,4 @@\n-one-to-one correlation between target operating system and toolchain.\n+one-to-one correlation between target operating system and toolchain. There are\n+ongoing efforts to loosen this strict coupling between compiler and operating\n+system (see [JDK-8288293](https:\/\/bugs.openjdk.org\/browse\/JDK-8288293)) but it\n+will likely be a very long time before this goal can be realized.\n@@ -403,0 +406,9 @@\n+### Support for checking standards conforming code\n+\n+The make system has a strict mode that enforces conforming code based on the\n+standard that is used by the build, which can be useful to ensure that native code\n+behaves strictly according to said standard. This option can by enabled by passing\n+`--enable-conforming-compilation` during configure, but is off by default.\n+If you just want to compile a working JDK it is not recommended that you set this\n+flag, as it is mainly meant to aid developers that are working with native code.\n+\n","filename":"doc\/building.md","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -503,0 +503,7 @@\n+    if test \"x$ENABLE_CONFORMING_COMPILATION\" = xtrue; then\n+      # -Werror=pedantic is not equivalent to -pedantic-errors on gcc, if code that\n+      # conforms is desired both have to be set\n+      TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -pedantic-errors -Werror=pedantic\"\n+      TOOLCHAIN_CFLAGS_JDK=\"$TOOLCHAIN_CFLAGS_JDK -pedantic-errors -Werror=pedantic\"\n+    fi\n+\n@@ -526,0 +533,5 @@\n+    if test \"x$ENABLE_CONFORMING_COMPILATION\" = xtrue; then\n+      TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -pedantic-errors\"\n+      TOOLCHAIN_CFLAGS_JDK=\"$TOOLCHAIN_CFLAGS_JDK -pedantic-errors\"\n+    fi\n+\n@@ -535,0 +547,4 @@\n+    if test \"x$ENABLE_CONFORMING_COMPILATION\" = xtrue; then\n+      TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -permissive-\"\n+      TOOLCHAIN_CFLAGS_JDK=\"$TOOLCHAIN_CFLAGS_JDK -permissive-\"\n+    fi\n","filename":"make\/autoconf\/flags-cflags.m4","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -105,0 +105,8 @@\n+  # Should the compiler only accept code that strictly conforms to the standard used by\n+  # the build?\n+  UTIL_ARG_ENABLE(NAME: conforming-compilation, DEFAULT: false,\n+      RESULT: ENABLE_CONFORMING_COMPILATION,\n+      DESC: [enforce conforming code during compilation],\n+      CHECKING_MSG: [if compiler should enforce conforming code (conforming-compilation)])\n+  AC_SUBST(ENABLE_CONFORMING_COMPILATION)\n+\n","filename":"make\/autoconf\/jdk-options.m4","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -333,0 +333,2 @@\n+ENABLE_CONFORMING_COMPILATION := @ENABLE_CONFORMING_COMPILATION@\n+\n","filename":"make\/autoconf\/spec.gmk.in","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}