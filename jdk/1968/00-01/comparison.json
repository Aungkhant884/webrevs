{"files":[{"patch":"@@ -451,2 +451,1 @@\n-                \/\/ don't change exception in case of SocketException\n-                throw se;\n+                handleException(se);\n@@ -1676,3 +1675,2 @@\n-        \/\/ Don't close the Socket in case of timeouts, interrupts or SocketException.\n-        if (cause instanceof InterruptedIOException ||\n-                cause instanceof SocketException) {\n+        \/\/ Don't close the Socket in case of timeouts or interrupts.\n+        if (cause instanceof InterruptedIOException) {\n@@ -1700,0 +1698,5 @@\n+        if (cause instanceof SocketException) {\n+            conContext.teardownTransport(cause, alert, false);\n+            throw (SocketException)cause;\n+        }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLSocketImpl.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -83,1 +83,0 @@\n-\n@@ -372,0 +371,10 @@\n+        teardownTransport(closeReason, alert, recvFatalAlert);\n+\n+        if (closeReason instanceof SSLException) {\n+            throw (SSLException)closeReason;\n+        } else {\n+            throw (RuntimeException)closeReason;\n+        }\n+    }\n+\n+    void teardownTransport(Exception closeReason, Alert alert, boolean recvFatalAlert) {\n@@ -439,6 +448,0 @@\n-\n-        if (closeReason instanceof SSLException) {\n-            throw (SSLException)closeReason;\n-        } else {\n-            throw (RuntimeException)closeReason;\n-        }\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/TransportContext.java","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"}]}