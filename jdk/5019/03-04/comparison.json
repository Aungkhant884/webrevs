{"files":[{"patch":"@@ -28,0 +28,5 @@\n+import java.io.IOException;\n+\n+import jdk.jfr.internal.LogLevel;\n+import jdk.jfr.internal.LogTag;\n+import jdk.jfr.internal.Logger;\n@@ -31,0 +36,2 @@\n+import static java.nio.file.LinkOption.*;\n+\n@@ -116,2 +123,12 @@\n-        if (!path.toFile().canWrite()) {\n-            throw new IllegalArgumentException(\"Cannot write JFR emergency dump to \" + path.toString());\n+        if (path.toFile().canWrite()) {\n+            try {\n+                jvm.setDumpPath(path.toPath().toRealPath(NOFOLLOW_LINKS).toString());\n+            } catch (IOException e) {\n+                if (Logger.shouldLog(LogTag.JFR_SYSTEM_SETTING, LogLevel.WARN)) {\n+                    Logger.log(LogTag.JFR_SYSTEM_SETTING, LogLevel.WARN, \"Error occurred in path resolution: \" + e.toString());\n+                }\n+            }\n+        } else {\n+            if (Logger.shouldLog(LogTag.JFR_SYSTEM_SETTING, LogLevel.WARN)) {\n+                Logger.log(LogTag.JFR_SYSTEM_SETTING, LogLevel.WARN, \"Cannot write JFR emergency dump to \" + path.toString());\n+            }\n@@ -119,1 +136,0 @@\n-        jvm.setDumpPath(path.toPath().toAbsolutePath().toString());\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/Options.java","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}