{"files":[{"patch":"@@ -2783,1 +2783,1 @@\n-Handle java_lang_Throwable::get_cause_simple(Handle throwable, TRAPS) {\n+Handle java_lang_Throwable::get_cause_simple(JavaThread* current, Handle throwable) {\n@@ -2789,1 +2789,1 @@\n-  ResourceMark rm(THREAD);\n+  ResourceMark rm(current);\n@@ -2794,1 +2794,1 @@\n-    st.print(\"[in thread \\\"%s\\\"]\", THREAD->name());\n+    st.print(\"[in thread \\\"%s\\\"]\", current->name());\n@@ -2796,1 +2796,1 @@\n-    st.print(\"%s [in thread \\\"%s\\\"]\", message->as_C_string(), THREAD->name());\n+    st.print(\"%s [in thread \\\"%s\\\"]\", message->as_C_string(), current->name());\n@@ -2800,2 +2800,1 @@\n-  CLEAR_PENDING_EXCEPTION;\n-  return Exceptions::new_exception(THREAD, exception_name, st.as_string());\n+  return Exceptions::new_exception(current, exception_name, st.as_string());\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -619,1 +619,1 @@\n-  static Handle get_cause_simple(Handle throwable, TRAPS);\n+  static Handle get_cause_simple(JavaThread* current, Handle throwable);\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -986,1 +986,0 @@\n-    cause = java_lang_Throwable::get_cause_simple(exception, THREAD);\n@@ -988,0 +987,1 @@\n+    cause = java_lang_Throwable::get_cause_simple(THREAD, exception);\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,2 @@\n- * @bug 1234567\n+ * @bug 8302491\n+ * @requires vm.compMode != \"Xint\"\n@@ -78,2 +79,2 @@\n-            throw new RuntimeException(\"Error: Expected exception wasn't thrown.\");\n-        }catch (Throwable t){\n+            throw new RuntimeException(\"Error: Any expected exception wasn't thrown\");\n+        }catch (NoClassDefFoundError t){\n@@ -83,0 +84,2 @@\n+        } catch (Throwable t) {\n+            System.err.println(\"Exception NoClassDefFoundError wasn't thrown\");\n","filename":"test\/hotspot\/jtreg\/runtime\/ClassInitErrors\/TestNoClassDefFoundCause.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}