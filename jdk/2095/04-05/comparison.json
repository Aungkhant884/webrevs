{"files":[{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2012, 2021 SAP SE. All rights reserved.\n+ * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2015 SAP SE. All rights reserved.\n@@ -32,5 +32,0 @@\n-#ifdef COMPILER2\n-#include \"opto\/compile.hpp\"\n-#include \"opto\/node.hpp\"\n-#include \"opto\/output.hpp\"\n-#endif\n@@ -58,18 +53,0 @@\n-\/\/ Check if estimating generated code size\n-bool Assembler::in_scratch_emit_size() {\n-#ifdef COMPILER2\n-  Thread* thread = Thread::current();\n-\n-  if (!thread->is_Compiler_thread()) {\n-    return false;\n-  }\n-\n-  AbstractCompiler* comp = ((CompilerThread *)thread)->compiler();\n-\n-  return comp->is_c2() && comp->is_initialized() &&\n-      Compile::current()->output()->in_scratch_emit_size();\n-#else\n-  return false;\n-#endif\n-}\n-\n","filename":"src\/hotspot\/cpu\/ppc\/assembler_ppc.cpp","additions":2,"deletions":25,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -1342,2 +1342,0 @@\n-  static bool in_scratch_emit_size();\n-\n","filename":"src\/hotspot\/cpu\/ppc\/assembler_ppc.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1163,1 +1163,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -1172,1 +1172,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -1181,1 +1181,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -1190,1 +1190,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -1199,1 +1199,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -1208,1 +1208,1 @@\n-  if (is_aligned(current_offset + BytesPerInstWord, 64) || Assembler::in_scratch_emit_size()) {\n+  if (is_aligned(current_offset + BytesPerInstWord, 64)) {\n@@ -5906,1 +5906,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n@@ -5995,1 +5995,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n@@ -6023,1 +6023,1 @@\n-  size(12);\n+  size(4);\n@@ -8644,1 +8644,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n@@ -8735,1 +8735,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n@@ -8789,1 +8789,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n@@ -12134,1 +12134,1 @@\n-  ins_alignment(4);\n+  ins_alignment(2);\n","filename":"src\/hotspot\/cpu\/ppc\/ppc.ad","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"}]}