{"files":[{"patch":"@@ -45,0 +45,11 @@\n+\/*\n+ * SSLSocketImpl::startHandshake internally checks that the socket is not closed or\n+ * broken and still connected, so this test needs the server to close the socket\n+ * after those verifications are performed to reproduce the scenario. Using a\n+ * CountDownLatch in the test before calling startHandshake does not guarantee that.\n+ * Using a CountDownLatch after startHandshake does not work either since the client\n+ * keeps waiting for a server response, which is blocked waiting for the latch.\n+ *\n+ * Therefore, we can only guarantee the socket is not yet closed when the handshake\n+ * is requested by looking at the client thread stack\n+ *\/\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSocketImpl\/CloseSocket.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"}]}