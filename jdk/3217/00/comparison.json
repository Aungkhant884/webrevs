{"files":[{"patch":"@@ -187,4 +187,11 @@\n-                \/\/ copy from buffer into backing array\n-                int off = dst.arrayOffset() + pos + Unsafe.ARRAY_BYTE_BASE_OFFSET;\n-                unsafe.copyMemory(null, address, dst.array(), off, n);\n-                dst.position(pos + n);\n+                if (dst.hasArray()) {\n+                    \/\/ copy from buffer into backing array\n+                    int off = dst.arrayOffset() + pos + Unsafe.ARRAY_BYTE_BASE_OFFSET;\n+                    unsafe.copyMemory(null, address, dst.array(), off, n);\n+                    dst.position(pos + n);\n+                } else {\n+                    \/\/ backing array not accessible so transfer via temporary array\n+                    byte[] tmp = new byte[n];\n+                    unsafe.copyMemory(null, address, tmp, 0, n);\n+                    dst.put(tmp);\n+                }\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixUserDefinedFileAttributeView.java","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"}]}