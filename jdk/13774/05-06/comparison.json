{"files":[{"patch":"@@ -169,0 +169,1 @@\n+  HeapInspection inspect;\n@@ -171,4 +172,7 @@\n-      \/\/ The GC provided a WorkerThreads to be used during a safepoint.\n-      \/\/ Can't run with more threads than provided by the WorkerThreads.\n-      const uint capped_parallel_thread_num = MIN2(_parallel_thread_num, workers->max_workers());\n-      WithActiveWorkers with_active_workers(workers, capped_parallel_thread_num);\n+    \/\/ The GC provided a WorkerThreads to be used during a safepoint.\n+    \/\/ Can't run with more threads than provided by the WorkerThreads.\n+    const uint capped_parallel_thread_num = MIN2(_parallel_thread_num, workers->max_workers());\n+    WithActiveWorkers with_active_workers(workers, capped_parallel_thread_num);\n+    inspect.heap_inspection(_out, workers);\n+  } else {\n+    inspect.heap_inspection(_out, nullptr);\n@@ -176,2 +180,0 @@\n-  HeapInspection inspect;\n-  inspect.heap_inspection(_out, workers);\n","filename":"src\/hotspot\/share\/gc\/shared\/gcVMOperations.cpp","additions":8,"deletions":6,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -569,2 +569,0 @@\n-  ResourceMark rm;\n-\n@@ -572,0 +570,1 @@\n+    ResourceMark rm;\n@@ -581,0 +580,1 @@\n+  ResourceMark rm;\n","filename":"src\/hotspot\/share\/memory\/heapInspection.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}