{"files":[{"patch":"@@ -27,3 +27,3 @@\n- * @test TestMixedGCLiveThreshold\n- * @summary Test G1MixedGCLiveThresholdPercent. Fill up a region to at least 1\/3 region-size,\n- * the region should not be selected for mixed GC cycle if liveness is above threshold.\n+ * @test id=0percent\n+ * @summary Test G1MixedGCLiveThresholdPercent=0. Fill up a region to at least 33 percent,\n+ * the region should not be selected for mixed GC cycle.\n@@ -34,1 +34,23 @@\n- * @run driver gc.g1.TestMixedGCLiveThreshold\n+ * @run driver gc.g1.TestMixedGCLiveThreshold 0 false\n+ *\/\n+\n+\/*\n+ * @test id=25percent\n+ * @summary Test G1MixedGCLiveThresholdPercent=25. Fill up a region to at least 33 percent,\n+ * the region should not be selected for mixed GC cycle.\n+ * @requires vm.gc.G1\n+ * @library \/test\/lib\n+ * @build sun.hotspot.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller sun.hotspot.WhiteBox\n+ * @run driver gc.g1.TestMixedGCLiveThreshold 25 false\n+ *\/\n+\n+\/*\n+ * @test id=100percent\n+ * @summary Test G1MixedGCLiveThresholdPercent=100. Fill up a region to at least 33 percent,\n+ * the region should be selected for mixed GC cycle.\n+ * @requires vm.gc.G1\n+ * @library \/test\/lib\n+ * @build sun.hotspot.WhiteBox\n+ * @run driver jdk.test.lib.helpers.ClassFileInstaller sun.hotspot.WhiteBox\n+ * @run driver gc.g1.TestMixedGCLiveThreshold 100 true\n@@ -51,8 +73,3 @@\n-        \/\/ -XX:G1MixedGCLiveThresholdPercent=0\n-        testMixedGCLiveThresholdPercent(0, false);\n-\n-        \/\/ -XX:G1MixedGCLiveThresholdPercent=25\n-        testMixedGCLiveThresholdPercent(25, false);\n-\n-        \/\/ -XX:G1MixedGCLiveThresholdPercent=100\n-        testMixedGCLiveThresholdPercent(100, true);\n+        int liveThresholdPercent = Integer.parseInt(args[0]);\n+        boolean expectRebuild = Boolean.parseBoolean(args[1]);\n+        testMixedGCLiveThresholdPercent(liveThresholdPercent, expectRebuild);\n@@ -74,0 +91,1 @@\n+        output.reportDiagnosticSummary();\n@@ -84,0 +102,2 @@\n+                                       \/\/ Parallel full gc can distribute live objects into different regions.\n+                                       \"-XX:ParallelGCThreads=1\",\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestMixedGCLiveThreshold.java","additions":32,"deletions":12,"binary":false,"changes":44,"status":"modified"}]}