{"files":[{"patch":"@@ -4925,1 +4925,1 @@\n-  ALLOW_CALL(\"lseek64\", return ::lseek64(fd, offset, whence))\n+  ALLOW_C_FUNCTION(lseek64, return ::lseek64(fd, offset, whence);)\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -664,1 +664,1 @@\n-  ALLOW_CALL(\"lseek\", return (jlong)::lseek(fd, offset, whence))\n+  ALLOW_C_FUNCTION(lseek, return (jlong)::lseek(fd, offset, whence);)\n@@ -666,1 +666,1 @@\n-  ALLOW_CALL(\"lseek64\", return (jlong)::lseek64(fd, offset, whence))\n+  ALLOW_C_FUNCTION(lseek64, return (jlong)::lseek64(fd, offset, whence);)\n@@ -671,1 +671,1 @@\n-  ALLOW_CALL(\"fsync\", return ::fsync(fd))\n+  ALLOW_C_FUNCTION(fsync, return ::fsync(fd);)\n@@ -676,1 +676,1 @@\n-  ALLOW_CALL(\"ftruncate\", return ::ftruncate(fd, length))\n+  ALLOW_C_FUNCTION(ftruncate, return ::ftruncate(fd, length);)\n@@ -678,1 +678,1 @@\n-  ALLOW_CALL(\"ftruncate64\", return ::ftruncate64(fd, length))\n+  ALLOW_C_FUNCTION(ftruncate64, return ::ftruncate64(fd, length);)\n@@ -687,1 +687,1 @@\n-  ALLOW_CALL(\"fdopen\", return ::fdopen(fd, mode))\n+  ALLOW_C_FUNCTION(fdopen, return ::fdopen(fd, mode);)\n@@ -692,1 +692,1 @@\n-  ALLOW_CALL(\"write\", RESTARTABLE(::write(fd, buf, (size_t) nBytes), res))\n+  ALLOW_C_FUNCTION(write, RESTARTABLE(::write(fd, buf, (size_t) nBytes), res);)\n@@ -701,1 +701,1 @@\n-  ALLOW_CALL(\"flockfile\", ::flockfile(fp))\n+  ALLOW_C_FUNCTION(flockfile, ::flockfile(fp);)\n@@ -705,1 +705,1 @@\n-  ALLOW_CALL(\"funlockfile\", ::funlockfile(fp))\n+  ALLOW_C_FUNCTION(funlockfile, ::funlockfile(fp);)\n@@ -710,1 +710,1 @@\n-  ALLOW_CALL(\"opendir\", return ::opendir(dirname))\n+  ALLOW_C_FUNCTION(opendir, return ::opendir(dirname);)\n@@ -715,1 +715,1 @@\n-  ALLOW_CALL(\"readdir\", return ::readdir(dirp))\n+  ALLOW_C_FUNCTION(readdir, return ::readdir(dirp);)\n@@ -720,1 +720,1 @@\n-  ALLOW_CALL(\"closedir\", return ::closedir(dirp))\n+  ALLOW_C_FUNCTION(closedir, return ::closedir(dirp);)\n@@ -728,1 +728,1 @@\n-  ALLOW_CALL(\"recv\", RESTARTABLE_RETURN_INT(::recv(fd, buf, nBytes, flags)))\n+  ALLOW_C_FUNCTION(recv, RESTARTABLE_RETURN_INT(::recv(fd, buf, nBytes, flags));)\n@@ -732,1 +732,1 @@\n-  ALLOW_CALL(\"send\", RESTARTABLE_RETURN_INT(::send(fd, buf, nBytes, flags)))\n+  ALLOW_C_FUNCTION(send, RESTARTABLE_RETURN_INT(::send(fd, buf, nBytes, flags));)\n@@ -740,1 +740,1 @@\n-  ALLOW_CALL(\"connect\", RESTARTABLE_RETURN_INT(::connect(fd, him, len)))\n+  ALLOW_C_FUNCTION(connect, RESTARTABLE_RETURN_INT(::connect(fd, him, len));)\n@@ -873,1 +873,1 @@\n-  ALLOW_CALL(\"stat\", return ::stat(path, sbuf))\n+  ALLOW_C_FUNCTION(stat, return ::stat(path, sbuf);)\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -1272,1 +1272,1 @@\n-  ALLOW_CALL(\"fopen\", FILE* file = ::fopen(path, modified_mode))\n+  ALLOW_C_FUNCTION(fopen, FILE* file = ::fopen(path, modified_mode);)\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,2 +77,2 @@\n-#ifndef ALLOW_CALL\n-#define ALLOW_CALL(name, invocation) invocation;\n+#ifndef ALLOW_C_FUNCTION\n+#define ALLOW_C_FUNCTION(name, invocation) invocation\n","filename":"src\/hotspot\/share\/utilities\/compilerWarnings.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-#define ALLOW_CALL(name, invocation) \\\n+#define ALLOW_C_FUNCTION(name, invocation) \\\n@@ -77,1 +77,1 @@\n-invocation; \\\n+invocation \\\n@@ -88,1 +88,1 @@\n-FORBID_C_FUNCTION(int      ftruncate64(int, off_t),                   \"use os::ftruncate\");\n+FORBID_C_FUNCTION(int      ftruncate64(int, off64_t),                 \"use os::ftruncate\");\n@@ -93,1 +93,1 @@\n-FORBID_C_FUNCTION(off_t    lseek64(int, off_t, int),                  \"use os::lseek\");\n+FORBID_C_FUNCTION(off64_t  lseek64(int, off64_t, int),                \"use os::lseek\");\n","filename":"src\/hotspot\/share\/utilities\/compilerWarnings_gcc.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -281,1 +281,1 @@\n-      ALLOW_CALL(\"abort\", ::abort())\n+      ALLOW_C_FUNCTION(abort, ::abort();)\n","filename":"test\/hotspot\/gtest\/gtestMain.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}