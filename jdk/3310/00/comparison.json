{"files":[{"patch":"@@ -239,1 +239,1 @@\n-  Thread *thread = Thread::current();\n+  Thread* current = Thread::current();\n@@ -258,2 +258,2 @@\n-  HandleMark hm(thread);   \/\/ make sure any handles created are deleted\n-                           \/\/ before the stack walk again.\n+  HandleMark hm(current);   \/\/ make sure any handles created are deleted\n+                            \/\/ before the stack walk again.\n@@ -262,1 +262,1 @@\n-    redefine_single_class(_class_defs[i].klass, _scratch_classes[i], thread);\n+    redefine_single_class(current, _class_defs[i].klass, _scratch_classes[i]);\n@@ -272,1 +272,1 @@\n-  AdjustAndCleanMetadata adjust_and_clean_metadata(thread);\n+  AdjustAndCleanMetadata adjust_and_clean_metadata(current);\n@@ -291,1 +291,1 @@\n-    CheckClass check_class(thread);\n+    CheckClass check_class(current);\n@@ -3787,1 +3787,1 @@\n-void VM_RedefineClasses::update_jmethod_ids(Thread* thread) {\n+void VM_RedefineClasses::update_jmethod_ids() {\n@@ -3793,2 +3793,2 @@\n-      methodHandle new_method_h(thread, _matching_new_methods[j]);\n-      Method::change_method_associated_with_jmethod_id(jmid, new_method_h());\n+      Method* new_method = _matching_new_methods[j];\n+      Method::change_method_associated_with_jmethod_id(jmid, new_method);\n@@ -4206,2 +4206,2 @@\n-void VM_RedefineClasses::redefine_single_class(jclass the_jclass,\n-       InstanceKlass* scratch_class, TRAPS) {\n+void VM_RedefineClasses::redefine_single_class(Thread* current, jclass the_jclass,\n+                                               InstanceKlass* scratch_class) {\n@@ -4209,1 +4209,1 @@\n-  HandleMark hm(THREAD);   \/\/ make sure handles from this call are freed\n+  HandleMark hm(current);   \/\/ make sure handles from this call are freed\n@@ -4231,1 +4231,1 @@\n-  update_jmethod_ids(THREAD);\n+  update_jmethod_ids();\n@@ -4419,1 +4419,1 @@\n-    AOTLoader::load_for_klass(the_class, THREAD);\n+    AOTLoader::load_for_klass(the_class, current);\n@@ -4447,1 +4447,1 @@\n-    ResourceMark rm(THREAD);\n+    ResourceMark rm(current);\n@@ -4453,1 +4453,1 @@\n-    Events::log_redefinition(THREAD, \"redefined class name=%s, count=%d\",\n+    Events::log_redefinition(current, \"redefined class name=%s, count=%d\",\n","filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -410,1 +410,1 @@\n-  void update_jmethod_ids(Thread* thread);\n+  void update_jmethod_ids();\n@@ -418,2 +418,2 @@\n-  void redefine_single_class(jclass the_jclass,\n-    InstanceKlass* scratch_class_oop, TRAPS);\n+  void redefine_single_class(Thread* current, jclass the_jclass,\n+                             InstanceKlass* scratch_class_oop);\n","filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}