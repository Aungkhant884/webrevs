{"files":[{"patch":"@@ -586,10 +586,2 @@\n-  STEP_IF(\"test secondary crash in step condition\",\n-    _verbose && TestCrashInErrorHandler == TEST_SECONDARY_CRASH &&\n-    [&](){\n-      st->print_cr(\"Will crash now (TestCrashInErrorHandler=%u)...\",\n-        TestCrashInErrorHandler);\n-      controlled_crash(TestCrashInErrorHandler);\n-      return true;\n-    }())\n-\n-  STEP_IF(\"test missing ResourceMark does not crash\", _verbose && TestCrashInErrorHandler == TEST_RESOURCE_MARK_CRASH)\n+  STEP_IF(\"test missing ResourceMark does not crash\",\n+      _verbose && TestCrashInErrorHandler == TEST_RESOURCE_MARK_CRASH)\n@@ -604,1 +596,2 @@\n-  STEP_IF(\"setup for test unresponsive error reporting step\", _verbose && TestUnresponsiveErrorHandler)\n+  STEP_IF(\"setup for test unresponsive error reporting step\",\n+      _verbose && TestUnresponsiveErrorHandler)\n@@ -611,1 +604,2 @@\n-  #define TIMEOUT_TEST_STEP STEP_IF(\"test unresponsive error reporting step\", _verbose && TestUnresponsiveErrorHandler) \\\n+  #define TIMEOUT_TEST_STEP STEP_IF(\"test unresponsive error reporting step\", \\\n+      _verbose && TestUnresponsiveErrorHandler) \\\n@@ -717,1 +711,1 @@\n-  STEP_IF(\"printing problematic frame\", _context)\n+  STEP_IF(\"printing problematic frame\", _context != nullptr)\n@@ -778,1 +772,2 @@\n-  STEP_IF(\"printing current compile task\", _verbose && _thread && _thread->is_Compiler_thread())\n+  STEP_IF(\"printing current compile task\",\n+      _verbose && _thread != nullptr && _thread->is_Compiler_thread())\n@@ -840,1 +835,2 @@\n-  STEP_IF(\"printing target Java thread stack\", _verbose && _thread && (_thread->is_Named_thread()))\n+  STEP_IF(\"printing target Java thread stack\",\n+      _verbose && _thread != nullptr && (_thread->is_Named_thread()))\n@@ -849,1 +845,1 @@\n-  STEP_IF(\"printing siginfo\", _verbose && _siginfo)\n+  STEP_IF(\"printing siginfo\", _verbose && _siginfo != nullptr)\n@@ -855,1 +851,1 @@\n-  STEP_IF(\"CDS archive access warning\", _verbose && _siginfo)\n+  STEP_IF(\"CDS archive access warning\", _verbose && _siginfo != nullptr)\n@@ -860,1 +856,1 @@\n-  STEP_IF(\"printing registers\", _verbose && _context)\n+  STEP_IF(\"printing registers\", _verbose && _context != nullptr)\n@@ -865,1 +861,2 @@\n-  STEP_IF(\"printing register info\", _verbose && _context && _thread && Universe::is_fully_initialized())\n+  STEP_IF(\"printing register info\",\n+      _verbose && _context != nullptr && _thread != nullptr && Universe::is_fully_initialized())\n@@ -879,1 +876,2 @@\n-  STEP_IF(\"inspecting top of stack\", _verbose && _context && _thread && Universe::is_fully_initialized())\n+  STEP_IF(\"inspecting top of stack\",\n+      _verbose && _context != nullptr && _thread != nullptr && Universe::is_fully_initialized())\n@@ -940,1 +938,1 @@\n-  STEP_IF(\"printing VM operation\", _verbose && _thread && _thread->is_VM_thread())\n+  STEP_IF(\"printing VM operation\", _verbose && _thread != nullptr && _thread->is_VM_thread())\n@@ -988,1 +986,2 @@\n-  STEP_IF(\"printing number of OutOfMemoryError and StackOverflow exceptions\", _verbose && Exceptions::has_exception_counts())\n+  STEP_IF(\"printing number of OutOfMemoryError and StackOverflow exceptions\",\n+      _verbose && Exceptions::has_exception_counts())\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":21,"deletions":22,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -93,2 +93,0 @@\n-        Pattern.compile(\"Will crash now \\\\(TestCrashInErrorHandler=14\\\\)...\"),\n-        Pattern.compile(\"\\\\[error occurred during error reporting \\\\(test secondary crash in step condition\\\\).*\\\\]\"),\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/SecondaryErrorTest.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}