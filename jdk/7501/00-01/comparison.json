{"files":[{"patch":"@@ -5079,4 +5079,4 @@\n-            \/\/We set groupSize to the number of chars in the given subsequence\n-            \/\/but this is an upper bound we can reduce if we spot 2-char\n-            \/\/codepoints.\n-            int groupSize = groupSizeChars;\n+            \/\/ We set groupCodepoints to the number of chars\n+            \/\/ in the given subsequence but this is an upper bound estimate\n+            \/\/ we reduce by one if we spot 2-char codepoints.\n+            int groupCodepoints = groupSizeChars;\n@@ -5084,1 +5084,1 @@\n-            for (int index=0; index<groupSize; index++) {\n+            for (int index=0; index<groupCodepoints; index++) {\n@@ -5100,2 +5100,1 @@\n-                int xIncr = Character.charCount(c1);\n-                x += xIncr;\n+                x += Character.charCount(c1);\n@@ -5104,1 +5103,1 @@\n-                if(xIncr > 1) {\n+                if(c1 >= Character.MIN_SUPPLEMENTARY_CODE_POINT) {\n@@ -5107,1 +5106,1 @@\n-                    groupSize--;\n+                    groupCodepoints--;\n","filename":"src\/java.base\/share\/classes\/java\/util\/regex\/Pattern.java","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"}]}