{"files":[{"patch":"@@ -1256,1 +1256,1 @@\n-        if (options.noComment()){\n+        if (options.noComment()) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -321,1 +321,2 @@\n-            HtmlTree cell = HtmlTree.DIV(cellStyle, c);\n+            \/\/ Replace empty content with HtmlTree.EMPTY to make sure the cell isn't dropped\n+            HtmlTree cell = HtmlTree.DIV(cellStyle, !c.isEmpty() ? c : HtmlTree.EMPTY);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/Table.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -60,0 +60,16 @@\n+        checkHtmlTableContents();\n+    }\n+\n+    @Test\n+    public void testNoComment() {\n+        javadoc(\"-d\", \"out-nocomment\",\n+                \"-nocomment\",\n+                \"-sourcepath\", testSrc,\n+                \"-use\",\n+                \"pkg1\", \"pkg2\");\n+        checkExit(Exit.OK);\n+\n+        checkHtmlTableTag();\n+        checkHtmlTableCaptions();\n+        checkHtmlTableHeaders();\n+        checkHtmlTableContentsNoComment();\n@@ -523,0 +539,294 @@\n+\n+    \/*\n+     * Test for validating HTML table contents.\n+     *\/\n+    void checkHtmlTableContents() {\n+        \/\/Package summary\n+        checkOutput(\"pkg1\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"I1.html\" title=\"interface in pkg1\">I1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">A sample interface used to test table tags.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C1.html\" title=\"class in pkg1\">C1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">A test class.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C2.ModalExclusionType.html\" title=\"enum in pkg2\">C2.ModalExclusionType<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">A sample enum.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C3.html\" title=\"annotation in pkg2\">C3<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Test Annotation class.<\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Class documentation\n+        checkOutput(\"pkg1\/C1.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first odd-row-color\"><code><a href=\"..\/pkg2\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second odd-row-color\"><code><span class=\"member-name-link\"><a href=\"#field\">field<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last odd-row-color\">\n+                    <div class=\"block\">Test field for class.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color method-summary-table-tab2 method-summary-ta\\\n+                    ble-tab4 method-summary-table\"><code>void<\/code><\/div>\n+                    <div class=\"col-second even-row-color method-summary-table-tab2 method-summary-t\\\n+                    able-tab4 method-summary-table\"><code><span class=\"member-name-link\"><a href=\"#m\\\n+                    ethod1(int,int)\">method1<\/a><\/span>&#8203;(int&nbsp;a,\n+                     int&nbsp;b)<\/code><\/div>\n+                    <div class=\"col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table\">\n+                    <div class=\"block\">Method that is implemented.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C2.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/pkg1\/C1.html\" title=\"class in pkg1\">C1<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#field\">field<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">A test field.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color method-summary-table-tab2 method-summary-ta\\\n+                    ble-tab4 method-summary-table\"><code><a href=\"..\/pkg1\/C1.html\" title=\"class in p\\\n+                    kg1\">C1<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color method-summary-table-tab2 method-summary-t\\\n+                    able-tab4 method-summary-table\"><code><span class=\"member-name-link\"><a href=\"#m\\\n+                    ethod(pkg1.C1)\">method<\/a><\/span>&#8203;(<a href=\"..\/pkg1\/C1.html\" title=\"class \\\n+                    in pkg1\">C1<\/a>&nbsp;param)<\/code><\/div>\n+                    <div class=\"col-last even-row-color method-summary-table-tab2 method-summary-tab\\\n+                    le-tab4 method-summary-table\">\n+                    <div class=\"block\">A sample method.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C2.ModalExclusionType.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first odd-row-color\"><code><span class=\"member-name-link\"><a hre\\\n+                    f=\"#NO_EXCLUDE\">NO_EXCLUDE<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last odd-row-color\">\n+                    <div class=\"block\">Test comment.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C3.html\", true,\n+                \"\"\"\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#value()\">value<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Comment.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C4.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code>boolean<\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#value()\">value<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\">&nbsp;<\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Class use documentation\n+        checkOutput(\"pkg1\/class-use\/I1.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"#pkg1\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Test package 1 used to test table tags.<\/div>\n+                    <\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/class-use\/C2.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><span class=\"type-name-label\">C1.<\/span><\\\n+                    code><span class=\"member-name-link\"><a href=\"..\/..\/pkg1\/C1.html#field\">field<\/a>\\\n+                    <\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Test field for class.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><span class=\"type-name-label\">C1.<\/span><\\\n+                    code><span class=\"member-name-link\"><a href=\"..\/..\/pkg1\/C1.html#method(pkg2.C2)\"\\\n+                    >method<\/a><\/span>&#8203;(<a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a>&nbsp\\\n+                    ;param)<\/code><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Method thats does some processing.<\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Package use documentation\n+        checkOutput(\"pkg1\/package-use.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"#pkg1\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">Test package 1 used to test table tags.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"class-use\/C1.html#pkg2\">C1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"block\">A test class.<\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Deprecated\n+        checkOutput(\"deprecated-list.html\", true,\n+                \"\"\"\n+                    <div class=\"col-deprecated-item-name even-row-color\"><a href=\"pkg2\/C2.html#dep_field\">pkg2.C2.dep_field<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"deprecation-comment\">don't use this field anymore.<\/div>\n+                    <\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-deprecated-item-name even-row-color\"><a href=\"pkg1\/C1.html#deprecatedMethod()\">pkg1.C1.deprecatedMethod()<\/a><\/div>\n+                    <div class=\"col-last even-row-color\">\n+                    <div class=\"deprecation-comment\">don't use this anymore.<\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Constant values\n+        checkOutput(\"constant-values.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code id=\"pkg1.C1.CONSTANT1\">public&nbsp;s\\\n+                    tatic&nbsp;final&nbsp;<a href=\"https:\/\/download.java.net\/java\/early_access\/jdk16\\\n+                    \/docs\/api\/java.base\/java\/lang\/String.html\" title=\"class or interface in java.lan\\\n+                    g\" class=\"external-link\">String<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"pkg1\/C1.html#CONSTANT1\">CO\\\n+                    NSTANT1<\/a><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><code>\"C1\"<\/code><\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Overview Summary\n+        checkOutput(\"index.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color all-packages-table-tab1 all-packages-table\"\\\n+                    ><a href=\"pkg1\/package-summary.html\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color all-packages-table-tab1 all-packages-table\">\n+                    <div class=\"block\">Test package 1 used to test table tags.<\/div>\n+                    <\/div>\"\"\");\n+    }\n+\n+    \/*\n+     * Test for validating HTML table contents with -nocomment option.\n+     *\/\n+    void checkHtmlTableContentsNoComment() {\n+        \/\/Package summary\n+        checkOutput(\"pkg1\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"I1.html\" title=\"interface in pkg1\">I1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C1.html\" title=\"class in pkg1\">C1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/package-summary.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C2.ModalExclusionType.html\" title=\"enum in pkg2\">C2.ModalExclusionType<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"C3.html\" title=\"annotation in pkg2\">C3<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        \/\/ Class documentation\n+        checkOutput(\"pkg1\/C1.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first odd-row-color\"><code><a href=\"..\/pkg2\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second odd-row-color\"><code><span class=\"member-name-link\"><a href=\"#field\">field<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last odd-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color method-summary-table-tab2 method-summary-ta\\\n+                    ble-tab4 method-summary-table\"><code>void<\/code><\/div>\n+                    <div class=\"col-second even-row-color method-summary-table-tab2 method-summary-t\\\n+                    able-tab4 method-summary-table\"><code><span class=\"member-name-link\"><a href=\"#m\\\n+                    ethod1(int,int)\">method1<\/a><\/span>&#8203;(int&nbsp;a,\n+                     int&nbsp;b)<\/code><\/div>\n+                    <div class=\"col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C2.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/pkg1\/C1.html\" title=\"class in pkg1\">C1<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#field\">field<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color method-summary-table-tab2 method-summary-ta\\\n+                    ble-tab4 method-summary-table\"><code><a href=\"..\/pkg1\/C1.html\" title=\"class in p\\\n+                    kg1\">C1<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color method-summary-table-tab2 method-summary-t\\\n+                    able-tab4 method-summary-table\"><code><span class=\"member-name-link\"><a href=\"#m\\\n+                    ethod(pkg1.C1)\">method<\/a><\/span>&#8203;(<a href=\"..\/pkg1\/C1.html\" title=\"class \\\n+                    in pkg1\">C1<\/a>&nbsp;param)<\/code><\/div>\n+                    <div class=\"col-last even-row-color method-summary-table-tab2 method-summary-tab\\\n+                    le-tab4 method-summary-table\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C2.ModalExclusionType.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first odd-row-color\"><code><span class=\"member-name-link\"><a hre\\\n+                    f=\"#NO_EXCLUDE\">NO_EXCLUDE<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last odd-row-color\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C3.html\", true,\n+                \"\"\"\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#value()\">value<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/C4.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code>boolean<\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><span class=\"member-name-link\"><a href=\"#value()\">value<\/a><\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Class use documentation\n+        checkOutput(\"pkg1\/class-use\/I1.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"#pkg1\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        checkOutput(\"pkg2\/class-use\/C2.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><span class=\"type-name-label\">C1.<\/span><\\\n+                    code><span class=\"member-name-link\"><a href=\"..\/..\/pkg1\/C1.html#field\">field<\/a>\\\n+                    <\/span><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code><a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><span class=\"type-name-label\">C1.<\/span><\\\n+                    code><span class=\"member-name-link\"><a href=\"..\/..\/pkg1\/C1.html#method(pkg2.C2)\"\\\n+                    >method<\/a><\/span>&#8203;(<a href=\"..\/C2.html\" title=\"class in pkg2\">C2<\/a>&nbsp\\\n+                    ;param)<\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        \/\/ Package use documentation\n+        checkOutput(\"pkg1\/package-use.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"#pkg1\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><a href=\"class-use\/C1.html#pkg2\">C1<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        \/\/ Deprecated\n+        checkOutput(\"deprecated-list.html\", true,\n+                \"\"\"\n+                    <div class=\"col-deprecated-item-name even-row-color\"><a href=\"pkg2\/C2.html#dep_field\">pkg2.C2.dep_field<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\",\n+                \"\"\"\n+                    <div class=\"col-deprecated-item-name even-row-color\"><a href=\"pkg1\/C1.html#deprecatedMethod()\">pkg1.C1.deprecatedMethod()<\/a><\/div>\n+                    <div class=\"col-last even-row-color\"><\/div>\"\"\");\n+\n+        \/\/ Constant values\n+        checkOutput(\"constant-values.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color\"><code id=\"pkg1.C1.CONSTANT1\">public&nbsp;s\\\n+                    tatic&nbsp;final&nbsp;<a href=\"https:\/\/download.java.net\/java\/early_access\/jdk16\\\n+                    \/docs\/api\/java.base\/java\/lang\/String.html\" title=\"class or interface in java.lan\\\n+                    g\" class=\"external-link\">String<\/a><\/code><\/div>\n+                    <div class=\"col-second even-row-color\"><code><a href=\"pkg1\/C1.html#CONSTANT1\">CO\\\n+                    NSTANT1<\/a><\/code><\/div>\n+                    <div class=\"col-last even-row-color\"><code>\"C1\"<\/code><\/div>\n+                    <\/div>\"\"\");\n+\n+        \/\/ Overview Summary\n+        checkOutput(\"index.html\", true,\n+                \"\"\"\n+                    <div class=\"col-first even-row-color all-packages-table-tab1 all-packages-table\"\\\n+                    ><a href=\"pkg1\/package-summary.html\">pkg1<\/a><\/div>\n+                    <div class=\"col-last even-row-color all-packages-table-tab1 all-packages-table\"><\/div>\"\"\");\n+    }\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlTableTags\/TestHtmlTableTags.java","additions":310,"deletions":0,"binary":false,"changes":310,"status":"modified"}]}