{"files":[{"patch":"@@ -138,0 +138,1 @@\n+                \/\/ Send a reset if there is still unconsumed data in the input stream\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/BodyOutputStream.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -154,1 +154,5 @@\n-            conn.outputQ.put(new ResetFrame(streamid, ResetFrame.NO_ERROR));\n+            \/\/ Put a reset frame on the outputQ if there is still unconsumed data in the input stream and output stream\n+            \/\/ is going to be marked closed.\n+            if (is instanceof BodyInputStream bis && (!bis.isEof() || bis.q.size() > 0)) {\n+                conn.outputQ.put(new ResetFrame(streamid, ResetFrame.NO_ERROR));\n+            }\n","filename":"test\/jdk\/java\/net\/httpclient\/lib\/jdk\/httpclient\/test\/lib\/http2\/Http2TestExchangeImpl.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}