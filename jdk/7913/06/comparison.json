{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * This class specifies a parameter spec for RSASSA-PSS signature scheme,\n+ * This class specifies a parameter spec for the RSASSA-PSS signature scheme,\n@@ -35,1 +35,1 @@\n- * <p>Its ASN.1 definition in PKCS#1 standard is described below:\n+ * <p>Its ASN.1 definition in the PKCS #1 standard is described below:\n@@ -67,6 +67,0 @@\n- * <p>Note: the PSSParameterSpec.DEFAULT uses the following:\n- *     message digest  -- \"SHA-1\"\n- *     mask generation function (mgf) -- \"MGF1\"\n- *     parameters for mgf -- MGF1ParameterSpec.SHA1\n- *     SaltLength   -- 20\n- *     TrailerField -- 1\n@@ -97,1 +91,1 @@\n-     * The {@code TrailerFieldBC} constant as defined in PKCS#1\n+     * The {@code TrailerFieldBC} constant as defined in the PKCS #1 standard.\n@@ -105,0 +99,8 @@\n+     * @deprecated This field uses the default values defined in the PKCS #1\n+     *         standard. Some of these defaults are no longer recommended due\n+     *         to advances in cryptanalysis -- see the\n+     *         <a href=\"https:\/\/tools.ietf.org\/rfc\/rfc8017.txt\">PKCS#1 v2.2<\/a>\n+     *         standard for more details. Thus, it is recommended to create\n+     *         a new {@code PSSParameterSpec} with the desired parameter values\n+     *         using\n+     *         {@link #PSSParameterSpec(String, String, AlgorithmParameterSpec, int, int) PSSParameterSpec}.\n@@ -108,0 +110,1 @@\n+    @Deprecated(since=\"19\")\n@@ -129,1 +132,1 @@\n-     * @param saltLen      the length of salt\n+     * @param saltLen      the length of salt in bytes\n@@ -160,1 +163,1 @@\n-     * defined in PKCS#1.\n+     * defined in the PKCS #1 standard.\n@@ -162,2 +165,1 @@\n-     * @param saltLen the length of salt in bytes to be used in PKCS#1\n-     *         PSS encoding\n+     * @param saltLen the length of salt in bytes\n@@ -166,0 +168,8 @@\n+     * @deprecated This constructor uses the default values defined in\n+     *         the PKCS #1 standard except for the salt length. Some of these\n+     *         defaults are no longer recommended due to advances in\n+     *         cryptanalysis -- see the\n+     *         <a href=\"https:\/\/tools.ietf.org\/rfc\/rfc8017.txt\">PKCS#1 v2.2<\/a>\n+     *         standard for more details. Thus, it is recommended to explicitly\n+     *         specify all desired parameter values with\n+     *         {@link #PSSParameterSpec(String, String, AlgorithmParameterSpec, int, int) PSSParameterSpec}.\n@@ -167,0 +177,1 @@\n+    @Deprecated(since=\"19\")\n","filename":"src\/java.base\/share\/classes\/java\/security\/spec\/PSSParameterSpec.java","additions":25,"deletions":14,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -37,1 +37,0 @@\n-import static java.security.spec.PSSParameterSpec.DEFAULT;\n@@ -84,6 +83,6 @@\n-        \/\/ first initialize with the DEFAULT values before\n-        \/\/ retrieving from the encoding bytes\n-        String mdName = DEFAULT.getDigestAlgorithm();\n-        MGF1ParameterSpec mgfSpec = (MGF1ParameterSpec) DEFAULT.getMGFParameters();\n-        int saltLength = DEFAULT.getSaltLength();\n-        int trailerField = DEFAULT.getTrailerField();\n+        \/\/ first initialize with the ASN.1 DEFAULT values defined in PKCS #1\n+        \/\/ v2.2 since the encoding bytes may not define all fields\n+        String mdName = \"SHA-1\";\n+        MGF1ParameterSpec mgfSpec = MGF1ParameterSpec.SHA1;\n+        int saltLength = 20;\n+        int trailerField = PSSParameterSpec.TRAILER_FIELD_BC;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/rsa\/PSSParameters.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"}]}