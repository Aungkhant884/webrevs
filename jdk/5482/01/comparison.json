{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -131,1 +131,1 @@\n-        return (focusable != null && focusable instanceof JComponent && ((JComponent)focusable).hasFocus());\n+        return (focusable instanceof JComponent jComponent) && jComponent.hasFocus();\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaBorder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -148,1 +148,1 @@\n-        if (c == null || !(c instanceof AbstractButton)) return new Insets(0, 0, 0, 0);\n+        if (!(c instanceof AbstractButton button)) return new Insets(0, 0, 0, 0);\n@@ -150,1 +150,1 @@\n-        Insets margin = ((AbstractButton)c).getMargin();\n+        Insets margin = button.getMargin();\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaButtonBorder.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -601,2 +601,1 @@\n-        if (!editable && arrowButton != null && arrowButton instanceof AquaComboBoxButton) {\n-            final AquaComboBoxButton button = (AquaComboBoxButton)arrowButton;\n+        if (!editable && arrowButton instanceof final AquaComboBoxButton button) {\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaComboBoxUI.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -522,1 +522,1 @@\n-        if (o != null && o instanceof String) newProp = parseTraversableProperty((String)o);\n+        if (o instanceof String s) newProp = parseTraversableProperty(s);\n@@ -529,1 +529,1 @@\n-        if (o != null && o instanceof String) newProp = parseTraversableProperty((String)o);\n+        if (o instanceof String s) newProp = parseTraversableProperty(s);\n@@ -1988,1 +1988,1 @@\n-        if (o != null && o instanceof String) sGlobalPackageIsTraversable = parseTraversableProperty((String)o);\n+        if (o instanceof String s) sGlobalPackageIsTraversable = parseTraversableProperty(s);\n@@ -1992,1 +1992,1 @@\n-        if (o != null && o instanceof String) sGlobalApplicationIsTraversable = parseTraversableProperty((String)o);\n+        if (o instanceof String s) sGlobalApplicationIsTraversable = parseTraversableProperty(s);\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaFileChooserUI.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -191,2 +191,2 @@\n-        if (popupFactory != null && popupFactory instanceof ScreenPopupFactory) {\n-            ((ScreenPopupFactory)popupFactory).setActive(false);\n+        if (popupFactory instanceof ScreenPopupFactory spf) {\n+            spf.setActive(false);\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaLookAndFeel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -78,2 +78,1 @@\n-        if (parent != null && parent instanceof JFrame) {\n-            final JFrame frameParent = (JFrame)parent;\n+        if (parent instanceof JFrame frameParent) {\n@@ -129,2 +128,2 @@\n-                    if (owningWindow != null && owningWindow instanceof JFrame) {\n-                        ((AquaMenuBarUI)mbui).setScreenMenuBar((JFrame)owningWindow);\n+                    if (owningWindow instanceof JFrame frame) {\n+                        ((AquaMenuBarUI)mbui).setScreenMenuBar(frame);\n@@ -157,2 +156,2 @@\n-                    if (owningWindow != null && owningWindow instanceof JFrame) {\n-                        ((AquaMenuBarUI)mbui).clearScreenMenuBar((JFrame)owningWindow);\n+                    if (owningWindow instanceof JFrame frame) {\n+                        ((AquaMenuBarUI)mbui).clearScreenMenuBar(frame);\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaRootPaneUI.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -269,2 +269,2 @@\n-        if (shouldPaintArrowThumbProperty != null && shouldPaintArrowThumbProperty instanceof Boolean) {\n-            return ((Boolean)shouldPaintArrowThumbProperty).booleanValue();\n+        if (shouldPaintArrowThumbProperty instanceof Boolean b) {\n+            return b;\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaSliderUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -106,1 +106,1 @@\n-        if (headerUI == null || !(headerUI instanceof AquaTableHeaderUI)) return;\n+        if (!(headerUI instanceof AquaTableHeaderUI aquaHeaderUI)) return;\n@@ -108,1 +108,0 @@\n-        final AquaTableHeaderUI aquaHeaderUI = (AquaTableHeaderUI)headerUI;\n@@ -148,2 +147,1 @@\n-        if (value == null || !(value instanceof Integer)) return null;\n-        final int columnIndex = ((Integer)value).intValue();\n+        if (!(value instanceof Integer columnIndex)) return null;\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaTableHeaderUI.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -354,5 +354,2 @@\n-        if (parent != null) {\n-            if (parent instanceof ScreenMenu) {\n-                final ScreenMenu sm = (ScreenMenu)parent;\n-                sm.setChildVisible(fInvoker, b);\n-            }\n+        if (parent instanceof ScreenMenu sm) {\n+            sm.setChildVisible(fInvoker, b);\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/ScreenMenu.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -286,1 +286,1 @@\n-        if (realFont == null || !(realFont instanceof CFont)) return false;\n+        if (!(realFont instanceof CFont cFont)) return false;\n@@ -288,1 +288,1 @@\n-        CFont newFont = new CFont((CFont)realFont, logicalFamilyName);\n+        CFont newFont = new CFont(cFont, logicalFamilyName);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CFontManager.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -629,2 +629,2 @@\n-                if (c == null || !(c instanceof Accessible)) return null;\n-                return CAccessible.getCAccessible((Accessible)c);\n+                if (!(c instanceof Accessible accessible)) return null;\n+                return CAccessible.getCAccessible(accessible);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CAccessibility.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -247,1 +247,1 @@\n-            if (value == null || !(value instanceof java.io.File)) {\n+            if (!(value instanceof java.io.File file)) {\n@@ -252,1 +252,1 @@\n-            final String filename = ((java.io.File)value).getAbsolutePath();\n+            final String filename = file.getAbsolutePath();\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CPlatformWindow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -848,1 +848,1 @@\n-        if (media == null || !(media instanceof MediaSizeName)) {\n+        if (!(media instanceof MediaSizeName msn)) {\n@@ -851,1 +851,1 @@\n-        MediaSize size = MediaSize.getMediaSizeForName((MediaSizeName) media);\n+        MediaSize size = MediaSize.getMediaSizeForName(msn);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CPrinterJob.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -213,4 +213,2 @@\n-        if (imageMetadata != null\n-            && imageMetadata instanceof BMPMetadata)\n-        {\n-            bmpImageMetadata = (BMPMetadata)imageMetadata;\n+        if (imageMetadata instanceof BMPMetadata bmp) {\n+            bmpImageMetadata = bmp;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/bmp\/BMPImageWriter.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-        return o != null && o instanceof SimpleCMYKColorSpace;\n+        return o instanceof SimpleCMYKColorSpace;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/common\/SimpleCMYKColorSpace.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -251,2 +251,1 @@\n-                if (applicationExtensionData == null ||\n-                    !(applicationExtensionData instanceof byte[])) {\n+                if (!(applicationExtensionData instanceof byte[])) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/gif\/GIFWritableImageMetadata.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -374,2 +374,2 @@\n-        if ((param != null) && (param instanceof JPEGImageWriteParam)) {\n-            jparam = (JPEGImageWriteParam) param;\n+        if (param instanceof JPEGImageWriteParam p) {\n+            jparam = p;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/jpeg\/JPEGMetadata.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -277,2 +277,2 @@\n-            if(param != null && param instanceof JPEGImageWriteParam) {\n-                JPEGParam = (JPEGImageWriteParam)param;\n+            if (param instanceof JPEGImageWriteParam p) {\n+                JPEGParam = p;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFBaseJPEGCompressor.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2898,1 +2898,1 @@\n-                if(thumb == null || !(thumb instanceof BufferedImage)) {\n+                if (!(thumb instanceof BufferedImage)) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFImageWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -790,2 +790,2 @@\n-            if (value != null && value instanceof FileFilter) {\n-                setText(((FileFilter)value).getDescription());\n+            if (value instanceof FileFilter fileFilter) {\n+                setText(fileFilter.getDescription());\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifFileChooserUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -113,1 +113,1 @@\n-                        if(cnt != null && cnt instanceof JMenuBar) {\n+                        if (cnt instanceof JMenuBar menuBar) {\n@@ -115,2 +115,2 @@\n-                            me[0]=(MenuElement)cnt;\n-                            me[1]=menu;\n+                            me[0] = menuBar;\n+                            me[1] = menu;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifMenuUI.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -579,2 +579,1 @@\n-                if (newR != null) {\n-                    if ((newR instanceof MidiOutDevice.MidiOutReceiver)\n+                if ((newR instanceof MidiOutDevice.MidiOutReceiver newReceiver)\n@@ -582,2 +581,1 @@\n-                        midiOutReceiver = ((MidiOutDevice.MidiOutReceiver) newR);\n-                    }\n+                    midiOutReceiver = newReceiver;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/AbstractMidiDevice.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -296,2 +296,1 @@\n-            if (interpolation != null && (interpolation instanceof String)) {\n-                String resamplerType = (String) interpolation;\n+            if (interpolation instanceof String resamplerType) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/AudioFloatFormatConverter.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -118,1 +118,1 @@\n-        if ((fullInfo != null) && (fullInfo instanceof Port.Info)) {\n+        if (fullInfo instanceof Port.Info) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/PortMixer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -105,2 +105,1 @@\n-            if (interpolation != null && (interpolation instanceof String)) {\n-                String resamplerType = (String) interpolation;\n+            if (interpolation instanceof String resamplerType) {\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftMixingDataLine.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -578,1 +578,1 @@\n-        if (instrument == null || (!(instrument instanceof ModelInstrument))) {\n+        if (!(instrument instanceof ModelInstrument modelInstrument)) {\n@@ -583,1 +583,1 @@\n-        instruments.add((ModelInstrument)instrument);\n+        instruments.add(modelInstrument);\n@@ -589,1 +589,1 @@\n-        if (instrument == null || (!(instrument instanceof ModelInstrument))) {\n+        if (!(instrument instanceof ModelInstrument modelInstrument)) {\n@@ -596,1 +596,1 @@\n-        String pat = patchToString(instrument.getPatch());\n+        String pat = patchToString(modelInstrument.getPatch());\n@@ -845,1 +845,1 @@\n-            if (ins == null || !(ins instanceof ModelInstrument)) {\n+            if (!(ins instanceof ModelInstrument modelInstrument)) {\n@@ -849,1 +849,1 @@\n-            instruments.add((ModelInstrument)ins);\n+            instruments.add(modelInstrument);\n@@ -874,1 +874,1 @@\n-            if (ins == null || !(ins instanceof ModelInstrument)) {\n+            if (!(ins instanceof ModelInstrument modelInstrument)) {\n@@ -878,1 +878,1 @@\n-            instruments.add((ModelInstrument)ins);\n+            instruments.add(modelInstrument);\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftSynthesizer.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -358,2 +358,1 @@\n-            while (comp != null && comp.peer != null &&\n-                   (comp.peer instanceof LightweightPeer)) {\n+            while (comp != null && (comp.peer instanceof LightweightPeer)) {\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/AWTEvent.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -4958,2 +4958,2 @@\n-                if (inputContext != null && inputContext instanceof sun.awt.im.InputContext) {\n-                    ((sun.awt.im.InputContext)inputContext).disableNativeIM();\n+                if (inputContext instanceof sun.awt.im.InputContext ctx) {\n+                    ctx.disableNativeIM();\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Component.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3894,1 +3894,1 @@\n-                if (c != null && c instanceof Accessible) {\n+                if (c instanceof Accessible accessible) {\n@@ -3897,1 +3897,1 @@\n-                        null, ((Accessible) c).getAccessibleContext());\n+                        null, accessible.getAccessibleContext());\n@@ -3902,1 +3902,1 @@\n-                if (c != null && c instanceof Accessible) {\n+                if (c instanceof Accessible accessible) {\n@@ -3905,1 +3905,1 @@\n-                        ((Accessible) c).getAccessibleContext(), null);\n+                        accessible.getAccessibleContext(), null);\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Container.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -376,2 +376,1 @@\n-            (parent != null && parent instanceof MenuComponent &&\n-             ((MenuComponent)parent).newEventsOnly)) {\n+            (parent instanceof MenuComponent mc && mc.newEventsOnly)) {\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/MenuComponent.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -796,1 +796,1 @@\n-        if (component == null || !(component instanceof Autoscroll)) return;\n+        if (!(component instanceof Autoscroll)) return;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/dnd\/DropTarget.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,1 +108,1 @@\n-        if (outpixbuf == null || !(outpixbuf instanceof int[])) {\n+        if (!(outpixbuf instanceof int[])) {\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/AreaAveragingScaleFilter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1188,1 +1188,1 @@\n-        if ((o == null) || !(o instanceof ComponentSampleModel)) {\n+        if (!(o instanceof ComponentSampleModel that)) {\n@@ -1192,1 +1192,0 @@\n-        ComponentSampleModel that = (ComponentSampleModel)o;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/ComponentSampleModel.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -658,1 +658,1 @@\n-        if ((o == null) || !(o instanceof MultiPixelPackedSampleModel)) {\n+        if (!(o instanceof MultiPixelPackedSampleModel that)) {\n@@ -662,1 +662,0 @@\n-        MultiPixelPackedSampleModel that = (MultiPixelPackedSampleModel)o;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/MultiPixelPackedSampleModel.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -129,2 +129,2 @@\n-        if (o != null && o instanceof String) {\n-            val = ((String) o) + \", \" + val;\n+        if (o instanceof String s) {\n+            val = s + \", \" + val;\n@@ -197,2 +197,2 @@\n-        if (outpixbuf != null && outpixbuf instanceof byte[]) {\n-            outpix = (byte[]) outpixbuf;\n+        if (outpixbuf instanceof byte[] outbytes) {\n+            outpix = outbytes;\n@@ -238,2 +238,2 @@\n-        if (outpixbuf != null && outpixbuf instanceof int[]) {\n-            outpix = (int[]) outpixbuf;\n+        if (outpixbuf instanceof int[] outints) {\n+            outpix = outints;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/ReplicateScaleFilter.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -757,1 +757,1 @@\n-        if ((o == null) || !(o instanceof SinglePixelPackedSampleModel)) {\n+        if (!(o instanceof SinglePixelPackedSampleModel that)) {\n@@ -761,1 +761,0 @@\n-        SinglePixelPackedSampleModel that = (SinglePixelPackedSampleModel)o;\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/SinglePixelPackedSampleModel.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -410,2 +410,1 @@\n-        if (obj != null && obj instanceof IndexedPropertyDescriptor) {\n-            IndexedPropertyDescriptor other = (IndexedPropertyDescriptor)obj;\n+        if (obj instanceof IndexedPropertyDescriptor other) {\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/IndexedPropertyDescriptor.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -506,2 +506,1 @@\n-        if (obj != null && obj instanceof PropertyDescriptor) {\n-            PropertyDescriptor other = (PropertyDescriptor)obj;\n+        if (obj instanceof PropertyDescriptor other) {\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/PropertyDescriptor.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -331,2 +331,1 @@\n-            if ((o == null) ||\n-                !(o instanceof ImageTypeSpecifier.Interleaved)) {\n+            if (!(o instanceof Interleaved that)) {\n@@ -336,3 +335,0 @@\n-            ImageTypeSpecifier.Interleaved that =\n-                (ImageTypeSpecifier.Interleaved)o;\n-\n@@ -475,2 +471,1 @@\n-            if ((o == null) ||\n-                !(o instanceof ImageTypeSpecifier.Banded)) {\n+            if (!(o instanceof Banded that)) {\n@@ -480,3 +475,0 @@\n-            ImageTypeSpecifier.Banded that =\n-                (ImageTypeSpecifier.Banded)o;\n-\n@@ -1098,1 +1090,1 @@\n-        if ((o == null) || !(o instanceof ImageTypeSpecifier)) {\n+        if (!(o instanceof ImageTypeSpecifier that)) {\n@@ -1102,1 +1094,0 @@\n-        ImageTypeSpecifier that = (ImageTypeSpecifier)o;\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/ImageTypeSpecifier.java","additions":4,"deletions":13,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -540,4 +540,2 @@\n-        return\n-            obj != null &&\n-            obj instanceof DocFlavor &&\n-            getStringValue().equals (((DocFlavor) obj).getStringValue());\n+        return obj instanceof DocFlavor other &&\n+                getStringValue().equals(other.getStringValue());\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/DocFlavor.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -144,4 +144,3 @@\n-            return (o != null &&\n-                    o instanceof Map.Entry &&\n-                    getKey().equals (((Map.Entry) o).getKey()) &&\n-                    getValue().equals(((Map.Entry) o).getValue()));\n+            return o instanceof Map.Entry<?, ?> entry &&\n+                    getKey().equals(entry.getKey()) &&\n+                    getValue().equals(entry.getValue());\n@@ -293,3 +292,2 @@\n-        return(obj != null &&\n-               obj instanceof MimeType &&\n-               getStringValue().equals(((MimeType) obj).getStringValue()));\n+        return obj instanceof MimeType mimeType &&\n+                getStringValue().equals(mimeType.getStringValue());\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/MimeType.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -118,3 +118,2 @@\n-        return (object != null &&\n-                object instanceof DateTimeSyntax &&\n-                value.equals(((DateTimeSyntax) object).value));\n+        return object instanceof DateTimeSyntax other &&\n+                value.equals(other.value);\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/DateTimeSyntax.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -348,4 +348,2 @@\n-        return\n-           attribute != null &&\n-           attribute instanceof Attribute &&\n-           attribute.equals(attrMap.get(attribute.getCategory()));\n+        return attribute != null &&\n+                attribute.equals(attrMap.get(attribute.getCategory()));\n@@ -444,1 +442,1 @@\n-        if (object == null || !(object instanceof AttributeSet)) {\n+        if (!(object instanceof AttributeSet aset)) {\n@@ -448,1 +446,0 @@\n-        AttributeSet aset = (AttributeSet)object;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/HashAttributeSet.java","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -111,3 +111,2 @@\n-\n-        return (object != null && object instanceof IntegerSyntax &&\n-                value == ((IntegerSyntax) object).value);\n+        return object instanceof IntegerSyntax other &&\n+                value == other.value;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/IntegerSyntax.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -270,7 +270,3 @@\n-\n-        return(object != null &&\n-               object instanceof ResolutionSyntax &&\n-               this.crossFeedResolution ==\n-               ((ResolutionSyntax) object).crossFeedResolution &&\n-               this.feedResolution ==\n-               ((ResolutionSyntax) object).feedResolution);\n+        return object instanceof ResolutionSyntax other &&\n+                this.crossFeedResolution == other.crossFeedResolution &&\n+                this.feedResolution == other.feedResolution;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/ResolutionSyntax.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -486,1 +486,1 @@\n-        if (object != null && object instanceof SetOfIntegerSyntax) {\n+        if (object instanceof SetOfIntegerSyntax other) {\n@@ -488,1 +488,1 @@\n-            int[][] otherMembers = ((SetOfIntegerSyntax) object).members;\n+            int[][] otherMembers = other.members;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/SetOfIntegerSyntax.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -267,4 +267,3 @@\n-        return(object != null &&\n-               object instanceof Size2DSyntax &&\n-               this.x == ((Size2DSyntax) object).x &&\n-               this.y == ((Size2DSyntax) object).y);\n+        return object instanceof Size2DSyntax size2DSyntax &&\n+                this.x == size2DSyntax.x &&\n+                this.y == size2DSyntax.y;\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/Size2DSyntax.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -135,4 +135,3 @@\n-        return(object != null &&\n-               object instanceof TextSyntax &&\n-               this.value.equals (((TextSyntax) object).value) &&\n-               this.locale.equals (((TextSyntax) object).locale));\n+        return object instanceof TextSyntax other &&\n+                this.value.equals(other.value) &&\n+                this.locale.equals(other.locale);\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/TextSyntax.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -104,3 +104,2 @@\n-        return(object != null &&\n-               object instanceof URISyntax &&\n-               this.uri.equals (((URISyntax) object).uri));\n+        return object instanceof URISyntax other &&\n+                this.uri.equals(other.uri);\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/URISyntax.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -93,3 +93,3 @@\n-        return(object != null && object instanceof Media &&\n-               object.getClass() == this.getClass() &&\n-               ((Media)object).getValue() == this.getValue());\n+        return object instanceof Media other &&\n+                object.getClass() == this.getClass() &&\n+                other.getValue() == this.getValue();\n","filename":"src\/java.desktop\/share\/classes\/javax\/print\/attribute\/standard\/Media.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -196,1 +196,1 @@\n-            if (newValue == null || !(newValue instanceof Boolean)) {\n+            if (!(newValue instanceof Boolean)) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/AbstractAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -2397,2 +2397,2 @@\n-                if (ac != null && ac instanceof AccessibleIcon) {\n-                    return new AccessibleIcon[] { (AccessibleIcon)ac };\n+                if (ac instanceof AccessibleIcon ai) {\n+                    return new AccessibleIcon[] { ai };\n@@ -2444,2 +2444,2 @@\n-                if (model != null && model instanceof DefaultButtonModel) {\n-                    ButtonGroup group = ((DefaultButtonModel)model).getGroup();\n+                if (model instanceof DefaultButtonModel defaultModel) {\n+                    ButtonGroup group = defaultModel.getGroup();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/AbstractButton.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -1420,2 +1420,2 @@\n-            while (container != null && (container instanceof JComponent)) {\n-                debugOptions |= info.getDebugOptions((JComponent)container);\n+            while (container instanceof JComponent jc) {\n+                debugOptions |= info.getDebugOptions(jc);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DebugGraphics.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2003,2 +2003,1 @@\n-            if (a != null &&\n-                a instanceof javax.swing.plaf.basic.ComboPopup) {\n+            if (a instanceof javax.swing.plaf.basic.ComboPopup popup) {\n@@ -2007,1 +2006,1 @@\n-                JList<?> list = ((javax.swing.plaf.basic.ComboPopup)a).getList();\n+                JList<?> list = popup.getList();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JComboBox.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -881,2 +881,1 @@\n-            if (paintingChild != null &&\n-                (paintingChild instanceof JComponent) &&\n+            if ((paintingChild instanceof JComponent) &&\n@@ -3639,1 +3638,1 @@\n-                if ((to == null) || !(to instanceof JComponent)) {\n+                if (!(to instanceof JComponent target)) {\n@@ -3643,1 +3642,1 @@\n-                if ((from == null) || !(from instanceof JComponent)) {\n+                if (!(from instanceof JComponent jFocusOwner)) {\n@@ -3647,1 +3646,0 @@\n-                JComponent target = (JComponent) to;\n@@ -3652,1 +3650,0 @@\n-                JComponent jFocusOwner = (JComponent)from;\n@@ -3777,1 +3774,1 @@\n-                if (c != null && c instanceof Accessible) {\n+                if (c instanceof Accessible) {\n@@ -3785,1 +3782,1 @@\n-                if (c != null && c instanceof Accessible) {\n+                if (c instanceof Accessible) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JComponent.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1236,1 +1236,1 @@\n-        if(getParent() != null && getParent() instanceof JLayeredPane) {\n+        if (getParent() instanceof JLayeredPane p) {\n@@ -1239,1 +1239,0 @@\n-            JLayeredPane p = (JLayeredPane)getParent();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JInternalFrame.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1113,2 +1113,2 @@\n-                if (ac != null && ac instanceof AccessibleIcon) {\n-                    return new AccessibleIcon[] { (AccessibleIcon)ac };\n+                if (ac instanceof AccessibleIcon ai) {\n+                    return new AccessibleIcon[] { ai };\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JLabel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2952,2 +2952,2 @@\n-                if (oldValue != null && oldValue instanceof ListModel) {\n-                    ((ListModel) oldValue).removeListDataListener(this);\n+                if (oldValue instanceof ListModel<?> oldModel) {\n+                    oldModel.removeListDataListener(this);\n@@ -2955,2 +2955,2 @@\n-                if (newValue != null && newValue instanceof ListModel) {\n-                    ((ListModel) newValue).addListDataListener(this);\n+                if (newValue instanceof ListModel<?> newModel) {\n+                    newModel.addListDataListener(this);\n@@ -2962,2 +2962,2 @@\n-                if (oldValue != null && oldValue instanceof ListSelectionModel) {\n-                    ((ListSelectionModel) oldValue).removeListSelectionListener(this);\n+                if (oldValue instanceof ListSelectionModel oldModel) {\n+                    oldModel.removeListSelectionListener(this);\n@@ -2965,2 +2965,2 @@\n-                if (newValue != null && newValue instanceof ListSelectionModel) {\n-                    ((ListSelectionModel) newValue).addListSelectionListener(this);\n+                if (newValue instanceof ListSelectionModel newModel) {\n+                    newModel.addListSelectionListener(this);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JList.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -1601,1 +1601,1 @@\n-            if (mi != null && mi instanceof JMenu) {\n+            if (mi instanceof JMenu) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JMenu.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -709,3 +709,1 @@\n-        if (c != null && c instanceof JComponent &&\n-            ((JComponent)c).processKeyBinding(ks, e, condition, pressed)) {\n-\n+        if (c instanceof JComponent jc && jc.processKeyBinding(ks, e, condition, pressed)) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JMenuBar.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2333,2 +2333,2 @@\n-        \/\/ Save the icon, if its Serializable.\n-        if(icon != null && icon instanceof Serializable) {\n+        \/\/ Save the icon, if it's Serializable.\n+        if (icon instanceof Serializable) {\n@@ -2338,2 +2338,2 @@\n-        \/\/ Save the message, if its Serializable.\n-        if(message != null && message instanceof Serializable) {\n+        \/\/ Save the message, if it's Serializable.\n+        if (message instanceof Serializable) {\n@@ -2343,1 +2343,1 @@\n-        \/\/ Save the treeModel, if its Serializable.\n+        \/\/ Save the treeModel, if it's Serializable.\n@@ -2357,2 +2357,2 @@\n-        \/\/ Save the initialValue, if its Serializable.\n-        if(initialValue != null && initialValue instanceof Serializable) {\n+        \/\/ Save the initialValue, if it's Serializable.\n+        if (initialValue instanceof Serializable) {\n@@ -2362,2 +2362,2 @@\n-        \/\/ Save the value, if its Serializable.\n-        if(value != null && value instanceof Serializable) {\n+        \/\/ Save the value, if it's Serializable.\n+        if (value instanceof Serializable) {\n@@ -2367,1 +2367,1 @@\n-        \/\/ Save the selectionValues, if its Serializable.\n+        \/\/ Save the selectionValues, if it's Serializable.\n@@ -2384,2 +2384,2 @@\n-        \/\/ Save the inputValue, if its Serializable.\n-        if(inputValue != null && inputValue instanceof Serializable) {\n+        \/\/ Save the inputValue, if it's Serializable.\n+        if (inputValue instanceof Serializable) {\n@@ -2389,3 +2389,2 @@\n-        \/\/ Save the initialSelectionValue, if its Serializable.\n-        if(initialSelectionValue != null &&\n-           initialSelectionValue instanceof Serializable) {\n+        \/\/ Save the initialSelectionValue, if it's Serializable.\n+        if (initialSelectionValue instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JOptionPane.java","additions":14,"deletions":15,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -991,2 +991,1 @@\n-              (mp.getInvoker().getParent() != null) &&\n-              (mp.getInvoker().getParent() instanceof JPopupMenu)\n+              (mp.getInvoker().getParent() instanceof JPopupMenu popupMenu)\n@@ -994,1 +993,1 @@\n-            mp = (JPopupMenu) mp.getInvoker().getParent();\n+            mp = popupMenu;\n@@ -1333,2 +1332,2 @@\n-        \/\/ Save the invoker, if its Serializable.\n-        if(invoker != null && invoker instanceof Serializable) {\n+        \/\/ Save the invoker if != null, (Component implements Serializable)\n+        if (invoker != null) {\n@@ -1338,2 +1337,2 @@\n-        \/\/ Save the popup, if its Serializable.\n-        if(popup != null && popup instanceof Serializable) {\n+        \/\/ Save the popup, if it's Serializable.\n+        if (popup instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JPopupMenu.java","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -1021,2 +1021,2 @@\n-        if (labelTable != null && (labelTable instanceof PropertyChangeListener)) {\n-            removePropertyChangeListener((PropertyChangeListener) labelTable);\n+        if (labelTable instanceof PropertyChangeListener listener) {\n+            removePropertyChangeListener(listener);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JSlider.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -6761,2 +6761,2 @@\n-                if (oldValue != null && oldValue instanceof TableModel) {\n-                    ((TableModel) oldValue).removeTableModelListener(this);\n+                if (oldValue instanceof TableModel oldModel) {\n+                    oldModel.removeTableModelListener(this);\n@@ -6764,2 +6764,2 @@\n-                if (newValue != null && newValue instanceof TableModel) {\n-                    ((TableModel) newValue).addTableModelListener(this);\n+                if (newValue instanceof TableModel newModel) {\n+                    newModel.addTableModelListener(this);\n@@ -6774,3 +6774,2 @@\n-                    if (oldValue != null &&\n-                        oldValue instanceof ListSelectionModel) {\n-                        ((ListSelectionModel) oldValue).removeListSelectionListener(this);\n+                    if (oldValue instanceof ListSelectionModel oldModel) {\n+                        oldModel.removeListSelectionListener(this);\n@@ -6778,3 +6777,2 @@\n-                    if (newValue != null &&\n-                        newValue instanceof ListSelectionModel) {\n-                        ((ListSelectionModel) newValue).addListSelectionListener(this);\n+                    if (newValue instanceof ListSelectionModel newModel) {\n+                        newModel.addListSelectionListener(this);\n@@ -6785,3 +6783,2 @@\n-                    if (oldValue != null &&\n-                        oldValue instanceof ListSelectionModel) {\n-                        ((ListSelectionModel) oldValue).removeListSelectionListener(this);\n+                    if (oldValue instanceof ListSelectionModel oldModel) {\n+                        oldModel.removeListSelectionListener(this);\n@@ -6789,3 +6786,2 @@\n-                    if (newValue != null &&\n-                        newValue instanceof ListSelectionModel) {\n-                        ((ListSelectionModel) newValue).addListSelectionListener(this);\n+                    if (newValue instanceof ListSelectionModel newModel) {\n+                        newModel.addListSelectionListener(this);\n@@ -6802,2 +6798,1 @@\n-                if (oldValue != null && oldValue instanceof TableColumnModel) {\n-                    TableColumnModel tcm = (TableColumnModel) oldValue;\n+                if (oldValue instanceof TableColumnModel tcm) {\n@@ -6807,2 +6802,1 @@\n-                if (newValue != null && newValue instanceof TableColumnModel) {\n-                    TableColumnModel tcm = (TableColumnModel) newValue;\n+                if (newValue instanceof TableColumnModel tcm) {\n@@ -6816,2 +6810,2 @@\n-                if (oldValue != null && oldValue instanceof TableCellEditor) {\n-                    ((TableCellEditor) oldValue).removeCellEditorListener(this);\n+                if (oldValue instanceof TableCellEditor oldEditor) {\n+                    oldEditor.removeCellEditorListener(this);\n@@ -6819,2 +6813,2 @@\n-                if (newValue != null && newValue instanceof TableCellEditor) {\n-                    ((TableCellEditor) newValue).addCellEditorListener(this);\n+                if (newValue instanceof TableCellEditor newEditor) {\n+                    newEditor.addCellEditorListener(this);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTable.java","additions":18,"deletions":24,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -3131,2 +3131,2 @@\n-        \/\/ Save the cellRenderer, if its Serializable.\n-        if(cellRenderer != null && cellRenderer instanceof Serializable) {\n+        \/\/ Save the cellRenderer, if it's Serializable.\n+        if (cellRenderer instanceof Serializable) {\n@@ -3136,2 +3136,2 @@\n-        \/\/ Save the cellEditor, if its Serializable.\n-        if(cellEditor != null && cellEditor instanceof Serializable) {\n+        \/\/ Save the cellEditor, if it's Serializable.\n+        if (cellEditor instanceof Serializable) {\n@@ -3141,2 +3141,2 @@\n-        \/\/ Save the treeModel, if its Serializable.\n-        if(treeModel != null && treeModel instanceof Serializable) {\n+        \/\/ Save the treeModel, if it's Serializable.\n+        if (treeModel instanceof Serializable) {\n@@ -3146,2 +3146,2 @@\n-        \/\/ Save the selectionModel, if its Serializable.\n-        if(selectionModel != null && selectionModel instanceof Serializable) {\n+        \/\/ Save the selectionModel, if it's Serializable.\n+        if (selectionModel instanceof Serializable) {\n@@ -5418,8 +5418,6 @@\n-                if (parent != null) {\n-                    if (parent instanceof AccessibleJTreeNode) {\n-                        Point parentLoc = ((AccessibleJTreeNode) parent).getLocationInJTree();\n-                        if (parentLoc != null && r != null) {\n-                            r.translate(-parentLoc.x, -parentLoc.y);\n-                        } else {\n-                            return null;        \/\/ not visible!\n-                        }\n+                if (parent instanceof AccessibleJTreeNode treeNode) {\n+                    Point parentLoc = treeNode.getLocationInJTree();\n+                    if (parentLoc != null && r != null) {\n+                        r.translate(-parentLoc.x, -parentLoc.y);\n+                    } else {\n+                        return null;        \/\/ not visible!\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTree.java","additions":14,"deletions":16,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,2 +75,2 @@\n-                if (o != null && o instanceof ChangeListener) {\n-                    msm.addChangeListener((ChangeListener) o);\n+                if (o instanceof ChangeListener listener) {\n+                    msm.addChangeListener(listener);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/MenuSelectionManager.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -932,1 +932,1 @@\n-                if (c == root || c == null || !(c instanceof JComponent)) {\n+                if (c == root || !(c instanceof JComponent)) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/RepaintManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -457,1 +457,1 @@\n-        if ((value == null) || !(value instanceof Date)) {\n+        if (!(value instanceof Date date)) {\n@@ -460,2 +460,2 @@\n-        if (!value.equals(this.value.getTime())) {\n-            this.value.setTime((Date)value);\n+        if (!date.equals(this.value.getTime())) {\n+            this.value.setTime(date);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SpinnerDateModel.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -455,1 +455,1 @@\n-        if ((value == null) || !(value instanceof Number)) {\n+        if (!(value instanceof Number number)) {\n@@ -458,2 +458,2 @@\n-        if (!value.equals(this.value)) {\n-            this.value = (Number)value;\n+        if (!number.equals(this.value)) {\n+            this.value = number;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SpinnerNumberModel.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2057,2 +2057,2 @@\n-        Image iconImage = (icon != null && (icon instanceof ImageIcon)) ?\n-                           ((ImageIcon)icon).getImage() : null;\n+        Image iconImage = (icon instanceof ImageIcon i) ?\n+                           i.getImage() : null;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SwingUtilities.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1275,3 +1275,3 @@\n-                    if (dtListener != null && dtListener instanceof DropHandler) {\n-                        ((DropHandler)dtListener).cleanup(false);\n-                    }\n+                if (dtListener instanceof DropHandler dropHandler) {\n+                    dropHandler.cleanup(false);\n+                }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/TransferHandler.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -286,1 +286,1 @@\n-            if ((l!=null) && (l instanceof Serializable)) {\n+            if (l instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/event\/EventListenerList.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -569,4 +569,1 @@\n-                    if (policy != null && policy instanceof\n-                            SortingFocusTraversalPolicy) {\n-                        SortingFocusTraversalPolicy sPolicy =\n-                            (SortingFocusTraversalPolicy)policy;\n+                    if (policy instanceof SortingFocusTraversalPolicy sPolicy) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicDesktopPaneUI.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -581,3 +581,2 @@\n-        if (northPane != null &&\n-                northPane instanceof BasicInternalFrameTitlePane) {\n-            ((BasicInternalFrameTitlePane)northPane).uninstallListeners();\n+        if (northPane instanceof BasicInternalFrameTitlePane tp) {\n+            tp.uninstallListeners();\n@@ -1617,3 +1616,2 @@\n-            if (getNorthPane() != null &&\n-                getNorthPane() instanceof BasicInternalFrameTitlePane) {\n-                  result = new Dimension(getNorthPane().getMinimumSize());\n+            if (getNorthPane() instanceof BasicInternalFrameTitlePane tp) {\n+                  result = new Dimension(tp.getMinimumSize());\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicInternalFrameUI.java","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -300,1 +300,1 @@\n-                if(cnt != null && cnt instanceof JMenuBar) {\n+                if (cnt instanceof JMenuBar menuBar) {\n@@ -307,1 +307,1 @@\n-                        me[0] = (MenuElement) cnt;\n+                        me[0] = menuBar;\n@@ -313,1 +313,1 @@\n-                        me[0] = (MenuElement)cnt;\n+                        me[0] = menuBar;\n@@ -515,1 +515,1 @@\n-                    if(cnt != null && cnt instanceof JMenuBar) {\n+                    if (cnt instanceof JMenuBar menuBar) {\n@@ -517,2 +517,2 @@\n-                        me[0]=(MenuElement)cnt;\n-                        me[1]=menu;\n+                        me[0] = menuBar;\n+                        me[1] = menu;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicMenuUI.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -967,7 +967,4 @@\n-        if(inputComponent != null && (inputComponent instanceof JTextField)) {\n-            optionPane.setInputValue(((JTextField)inputComponent).getText());\n-\n-        } else if(inputComponent != null &&\n-                  (inputComponent instanceof JComboBox)) {\n-            optionPane.setInputValue(((JComboBox)inputComponent)\n-                                     .getSelectedItem());\n+        if (inputComponent instanceof JTextField textField) {\n+            optionPane.setInputValue(textField.getText());\n+        } else if (inputComponent instanceof JComboBox<?> comboBox) {\n+            optionPane.setInputValue(comboBox.getSelectedItem());\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicOptionPaneUI.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -200,2 +200,2 @@\n-        if (editor != null && editor instanceof JSpinner.DefaultEditor) {\n-            JTextField tf = ((JSpinner.DefaultEditor)editor).getTextField();\n+        if (editor instanceof JSpinner.DefaultEditor defaultEditor) {\n+            JTextField tf = defaultEditor.getTextField();\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSpinnerUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -347,1 +347,1 @@\n-        if (b == null || !(b instanceof UIResource)) {\n+        if (!(b instanceof UIResource)) {\n@@ -2362,2 +2362,1 @@\n-            if (c!=null && c instanceof JSplitPane) {\n-                JSplitPane sp = (JSplitPane)c;\n+            if (c instanceof JSplitPane sp) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSplitPaneUI.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -538,1 +538,0 @@\n-        Container container;\n@@ -543,2 +542,1 @@\n-            ((container = header.getParent().getParent()) == null) ||\n-            !(container instanceof JScrollPane) ||\n+            !(header.getParent().getParent() instanceof JScrollPane) ||\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTableHeaderUI.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -936,14 +936,12 @@\n-            if (table.isEditing() && editorComp != null) {\n-                if (editorComp instanceof JComponent) {\n-                    JComponent component = (JComponent)editorComp;\n-                    map = component.getInputMap(JComponent.WHEN_FOCUSED);\n-                    Object binding = (map != null) ? map.get(keyStroke) : null;\n-                    if (binding == null) {\n-                        map = component.getInputMap(JComponent.\n-                                         WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);\n-                        binding = (map != null) ? map.get(keyStroke) : null;\n-                    }\n-                    if (binding != null) {\n-                        ActionMap am = component.getActionMap();\n-                        Action action = (am != null) ? am.get(binding) : null;\n-                        if (action != null && SwingUtilities.\n+            if (table.isEditing() && editorComp instanceof JComponent component) {\n+                map = component.getInputMap(JComponent.WHEN_FOCUSED);\n+                Object binding = (map != null) ? map.get(keyStroke) : null;\n+                if (binding == null) {\n+                    map = component.getInputMap(JComponent.\n+                            WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);\n+                    binding = (map != null) ? map.get(keyStroke) : null;\n+                }\n+                if (binding != null) {\n+                    ActionMap am = component.getActionMap();\n+                    Action action = (am != null) ? am.get(binding) : null;\n+                    if (action != null && SwingUtilities.\n@@ -951,3 +949,2 @@\n-                                         e.getModifiers())) {\n-                            e.consume();\n-                        }\n+                                    e.getModifiers())) {\n+                        e.consume();\n@@ -1488,2 +1485,2 @@\n-            if (parent != null && parent instanceof JScrollPane) {\n-                LookAndFeel.installBorder((JScrollPane)parent, \"Table.scrollPaneBorder\");\n+            if (parent instanceof JScrollPane scrollPane) {\n+                LookAndFeel.installBorder(scrollPane, \"Table.scrollPaneBorder\");\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTableUI.java","additions":17,"deletions":20,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -185,2 +185,1 @@\n-            if ((o != null) && (o instanceof JTextComponent.KeyBinding[])) {\n-                JTextComponent.KeyBinding[] bindings = (JTextComponent.KeyBinding[]) o;\n+            if (o instanceof JTextComponent.KeyBinding[] bindings) {\n@@ -539,2 +538,1 @@\n-        if ( editorKit != null\n-             && editorKit instanceof DefaultEditorKit) {\n+        if (editorKit instanceof DefaultEditorKit) {\n@@ -620,3 +618,2 @@\n-                if (obj != null\n-                    && obj instanceof DefaultEditorKit.InsertBreakAction) {\n-                    Action action =  new TextActionWrapper((TextAction)obj);\n+                if (obj instanceof DefaultEditorKit.InsertBreakAction breakAction) {\n+                    Action action = new TextActionWrapper(breakAction);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTextUI.java","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -657,2 +657,2 @@\n-            if(p != null && p instanceof Window)\n-                frame = (Window) p;\n+            if (p instanceof Window window)\n+                frame = window;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicToolBarUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1134,4 +1134,2 @@\n-        if(currentCellRenderer != null &&\n-           (currentCellRenderer instanceof DefaultTreeCellRenderer)) {\n-            DefaultTreeCellEditor editor = new DefaultTreeCellEditor\n-                        (tree, (DefaultTreeCellRenderer)currentCellRenderer);\n+        if (currentCellRenderer instanceof DefaultTreeCellRenderer defaultRenderer) {\n+            DefaultTreeCellEditor editor = new DefaultTreeCellEditor(tree, defaultRenderer);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTreeUI.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1147,2 +1147,2 @@\n-            if (value != null && value instanceof FileFilter) {\n-                setText(((FileFilter)value).getDescription());\n+            if (value instanceof FileFilter fileFilter) {\n+                setText(fileFilter.getDescription());\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalFileChooserUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -150,2 +150,1 @@\n-            if (o != null && o instanceof Integer) {\n-                Integer rate = (Integer)o;\n+            if (o instanceof Integer rate) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTextFieldUI.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -206,3 +206,2 @@\n-        if(renderer != null && (renderer instanceof DefaultTreeCellRenderer)) {\n-            editor = new SynthTreeCellEditor(tree, (DefaultTreeCellRenderer)\n-                                             renderer);\n+        if (renderer instanceof DefaultTreeCellRenderer defaultRenderer) {\n+            editor = new SynthTreeCellEditor(tree, defaultRenderer);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTreeUI.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -1153,3 +1153,3 @@\n-                if(v != null && v instanceof CompositeView) {\n-                    return ((CompositeView)v).flipEastAndWestAtEnds(position,\n-                                                                    bias);\n+                if (v instanceof CompositeView compositeView) {\n+                    return compositeView.flipEastAndWestAtEnds(position,\n+                                                               bias);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/BoxView.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -441,1 +441,1 @@\n-        if ((paragraph != null) && (paragraph instanceof AbstractElement)) {\n+        if (paragraph instanceof AbstractElement abstractElement) {\n@@ -444,2 +444,2 @@\n-                StyleChangeUndoableEdit edit = new StyleChangeUndoableEdit((AbstractElement)paragraph, s);\n-                ((AbstractElement)paragraph).setResolveParent(s);\n+                StyleChangeUndoableEdit edit = new StyleChangeUndoableEdit(abstractElement, s);\n+                abstractElement.setResolveParent(s);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/DefaultStyledDocument.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -3309,2 +3309,1 @@\n-            if (doc != null && doc instanceof StyledDocument) {\n-                StyledDocument sDoc = (StyledDocument)doc;\n+            if (doc instanceof StyledDocument sDoc) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/JTextComponent.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -375,2 +375,2 @@\n-            if (childInfo != null && childInfo instanceof Accessible) {\n-                return (Accessible)childInfo;\n+            if (childInfo instanceof Accessible accessibleChild) {\n+                return accessibleChild;\n@@ -1219,3 +1219,2 @@\n-                if (model != null && model instanceof StyledDocument) {\n-                    StyledDocument doc = (StyledDocument)model;\n-                    return model.getText(offset, length);\n+                if (model instanceof StyledDocument doc) {\n+                    return doc.getText(offset, length);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/AccessibleHTML.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -1612,2 +1612,2 @@\n-                if (o != null && o instanceof AttributeSet) {\n-                    translateAttributes(tag, (AttributeSet)o, cssAttrSet);\n+                if (o instanceof AttributeSet as) {\n+                    translateAttributes(tag, as, cssAttrSet);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/CSS.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,1 +75,1 @@\n-            if (value != null && (value instanceof String)) {\n+            if (value instanceof String s) {\n@@ -77,1 +77,1 @@\n-                    size = Integer.parseInt((String)value);\n+                    size = Integer.parseInt(s);\n@@ -83,2 +83,2 @@\n-            if (value != null && (value instanceof CSS.LengthValue)) {\n-                widthValue = (CSS.LengthValue)value;\n+            if (value instanceof CSS.LengthValue lv) {\n+                widthValue = lv;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HRuleView.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -904,2 +904,2 @@\n-            if (maps != null && (maps instanceof Hashtable)) {\n-                return (Map)((Hashtable)maps).get(name);\n+            if (maps instanceof Hashtable<?, ?> hashtable) {\n+                return (Map) hashtable.get(name);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLDocument.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -845,2 +845,2 @@\n-            if (useMap != null && (useMap instanceof String)) {\n-                Map m = hdoc.getMap((String)useMap);\n+            if (useMap instanceof String s) {\n+                Map m = hdoc.getMap(s);\n@@ -1476,6 +1476,2 @@\n-                Container parentContainer;\n-                if (container != null\n-                    && (container instanceof javax.swing.JEditorPane)\n-                    && (parentContainer = container.getParent()) != null\n-                    && (parentContainer instanceof javax.swing.JViewport)) {\n-                    JViewport viewPort = (JViewport)parentContainer;\n+                if ((container instanceof JEditorPane)\n+                        && (container.getParent() instanceof JViewport viewPort)) {\n@@ -2396,3 +2392,3 @@\n-            if (view != null && view instanceof ObjectView) {\n-                Component comp = ((ObjectView)view).getComponent();\n-                if (comp != null && comp instanceof Accessible) {\n+            if (view instanceof ObjectView objectView) {\n+                Component comp = objectView.getComponent();\n+                if (comp instanceof Accessible) {\n@@ -2482,1 +2478,1 @@\n-            if (d == null || !(d instanceof HTMLDocument)) {\n+            if (!(d instanceof HTMLDocument doc)) {\n@@ -2485,1 +2481,0 @@\n-            HTMLDocument doc = (HTMLDocument)d;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLEditorKit.java","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -311,3 +311,1 @@\n-            if (nameTag != null && endTag != null &&\n-                (endTag instanceof String) &&\n-                endTag.equals(\"true\")) {\n+            if (nameTag != null && \"true\".equals(endTag)) {\n@@ -735,2 +733,2 @@\n-                if (o != null && o instanceof AttributeSet) {\n-                    writeAttributes((AttributeSet)o);\n+                if (o instanceof AttributeSet as) {\n+                    writeAttributes(as);\n@@ -816,2 +814,2 @@\n-                if (o != null && o instanceof AttributeSet) {\n-                    writeAttributes((AttributeSet)o);\n+                if (o instanceof AttributeSet as) {\n+                    writeAttributes(as);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLWriter.java","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -274,2 +274,1 @@\n-            if (end != null && (end instanceof String) &&\n-                ((String)end).equals(\"true\")) {\n+            if (\"true\".equals(end)) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HiddenTagView.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -184,1 +184,1 @@\n-        if (stringCoords == null || !(stringCoords instanceof String)) {\n+        if (!(stringCoords instanceof String s)) {\n@@ -188,2 +188,1 @@\n-        StringTokenizer    st = new StringTokenizer((String)stringCoords,\n-                                                    \", \\t\\n\\r\");\n+        StringTokenizer    st = new StringTokenizer(s, \", \\t\\n\\r\");\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/Map.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2214,2 +2214,1 @@\n-                    if (value != null &&\n-                        (value instanceof String)) {\n+                    if (value instanceof String s) {\n@@ -2217,1 +2216,1 @@\n-                            int iValue = Integer.parseInt((String)value);\n+                            int iValue = Integer.parseInt(s);\n@@ -2747,2 +2746,1 @@\n-                                    if (o != null && o instanceof AttributeSet) {\n-                                        AttributeSet attr = (AttributeSet)o;\n+                                    if (o instanceof AttributeSet attr) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/StyleSheet.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -395,1 +395,1 @@\n-            if (basis != null && basis instanceof Style) {\n+            if (basis instanceof Style) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/rtf\/RTFGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1300,2 +1300,2 @@\n-        \/\/ Save the userObject, if its Serializable.\n-        if(userObject != null && userObject instanceof Serializable) {\n+        \/\/ Save the userObject, if it's Serializable.\n+        if (userObject instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultMutableTreeNode.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -693,2 +693,2 @@\n-        \/\/ Save the root, if its Serializable.\n-        if(root != null && root instanceof Serializable) {\n+        \/\/ Save the root, if it's Serializable.\n+        if (root instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultTreeModel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1221,1 +1221,1 @@\n-        if(rowMapper != null && rowMapper instanceof Serializable) {\n+        if (rowMapper instanceof Serializable) {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultTreeSelectionModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -793,2 +793,2 @@\n-        if (inputMethod != null && inputMethod instanceof InputMethodAdapter) {\n-            ((InputMethodAdapter)inputMethod).stopListening();\n+        if (inputMethod instanceof InputMethodAdapter adapter) {\n+            adapter.stopListening();\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/im\/InputContext.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -184,3 +184,1 @@\n-        if (file2 == null || !(file2 instanceof ShellFolder)\n-            || ((file2 instanceof ShellFolder) && ((ShellFolder)file2).isFileSystem())) {\n-\n+        if (!(file2 instanceof ShellFolder sf) || sf.isFileSystem()) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/shell\/ShellFolder.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -767,2 +767,2 @@\n-            if (obj != null && obj instanceof Number) {\n-                return max(0, min(1, ((Number)obj).floatValue()));\n+            if (obj instanceof Number number) {\n+                return max(0, min(1, number.floatValue()));\n@@ -781,2 +781,2 @@\n-            if (obj != null && obj instanceof NumericShaper) {\n-                return (NumericShaper)obj;\n+            if (obj instanceof NumericShaper shaper) {\n+                return shaper;\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/AttributeValues.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -416,1 +416,1 @@\n-        if (dialog == null || !(dialog instanceof CompositeFont)) {\n+        if (!(dialog instanceof CompositeFont dialog2D)) {\n@@ -419,1 +419,0 @@\n-        CompositeFont dialog2D = (CompositeFont)dialog;\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/FontUtilities.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -323,2 +323,1 @@\n-                if (media != null && media instanceof MediaSizeName) {\n-                    MediaSizeName msn = (MediaSizeName)media;\n+                if (media instanceof MediaSizeName msn) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSStreamPrintService.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -898,2 +898,2 @@\n-            boolean tracking = o != null && (o instanceof Number) &&\n-                (((Number)o).floatValue() != 0f);\n+            boolean tracking = (o instanceof Number n) &&\n+                (n.floatValue() != 0f);\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PathGraphics.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -457,2 +457,2 @@\n-            if (media != null  && media instanceof MediaSizeName) {\n-                mediaSize = MediaSize.getMediaSizeForName((MediaSizeName)media);\n+            if (media instanceof MediaSizeName msn) {\n+                mediaSize = MediaSize.getMediaSizeForName(msn);\n@@ -597,3 +597,3 @@\n-        Media msn = (Media)attributes.get(Media.class);\n-        if (msn != null && msn instanceof MediaSizeName) {\n-            MediaType mType = unMapMedia((MediaSizeName)msn);\n+        Media media = (Media)attributes.get(Media.class);\n+        if (media instanceof MediaSizeName msn) {\n+            MediaType mType = unMapMedia(msn);\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PrintJob2D.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1623,1 +1623,1 @@\n-            if (media == null || !(media instanceof MediaSizeName)) {\n+            if (!(media instanceof MediaSizeName)) {\n@@ -1626,2 +1626,1 @@\n-            if (media != null && (media instanceof MediaSizeName)) {\n-                MediaSizeName msn = (MediaSizeName)media;\n+            if (media instanceof MediaSizeName msn) {\n@@ -1709,1 +1708,1 @@\n-            if (media == null || !(media instanceof MediaSizeName)) {\n+            if (!(media instanceof MediaSizeName)) {\n@@ -1712,2 +1711,1 @@\n-            if (media != null && (media instanceof MediaSizeName)) {\n-                MediaSizeName msn = (MediaSizeName)media;\n+            if (media instanceof MediaSizeName msn) {\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ServiceDialog.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -135,2 +135,2 @@\n-        if (iValue == null || !(iValue instanceof Number)) {\n-            return defaultValue;\n+        if (iValue instanceof Number number) {\n+            return number.intValue();\n@@ -138,1 +138,1 @@\n-        return ((Number)iValue).intValue();\n+        return defaultValue;\n@@ -149,2 +149,2 @@\n-        if (iValue == null || !(iValue instanceof Insets)) {\n-            return defaultValue;\n+        if (iValue instanceof Insets insets) {\n+            return insets;\n@@ -152,1 +152,1 @@\n-        return (Insets)iValue;\n+        return defaultValue;\n@@ -163,2 +163,2 @@\n-        if (iValue == null || !(iValue instanceof Boolean)) {\n-            return defaultValue;\n+        if (iValue instanceof Boolean b) {\n+            return b;\n@@ -166,1 +166,1 @@\n-        return ((Boolean)iValue).booleanValue();\n+        return defaultValue;\n@@ -177,2 +177,2 @@\n-        if (iValue == null || !(iValue instanceof Color)) {\n-            return defaultValue;\n+        if (iValue instanceof Color color) {\n+            return color;\n@@ -180,1 +180,1 @@\n-        return (Color)iValue;\n+        return defaultValue;\n@@ -190,2 +190,2 @@\n-        if (iValue == null || !(iValue instanceof Icon)) {\n-            return defaultValue;\n+        if (iValue instanceof Icon icon) {\n+            return icon;\n@@ -193,1 +193,1 @@\n-        return (Icon)iValue;\n+        return defaultValue;\n@@ -203,2 +203,2 @@\n-        if (iValue == null || !(iValue instanceof Border)) {\n-            return defaultValue;\n+        if (iValue instanceof Border border) {\n+            return border;\n@@ -206,1 +206,1 @@\n-        return (Border)iValue;\n+        return defaultValue;\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/DefaultLookup.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -381,2 +381,2 @@\n-        if ((value == null) || !(value instanceof Integer)) {\n-            value = 0;\n+        if (value instanceof Integer intValue) {\n+            return intValue;\n@@ -384,1 +384,1 @@\n-        return (Integer) value;\n+        return 0;\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/MenuItemLayoutHelper.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -1368,2 +1368,2 @@\n-        if (gc != null && gc instanceof X11GraphicsConfig) {\n-            newVisual = ((X11GraphicsConfig)gc).getVisual();\n+        if (gc instanceof X11GraphicsConfig x11Config) {\n+            newVisual = x11Config.getVisual();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XComponentPeer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -570,2 +570,1 @@\n-        if (parent != null && parent instanceof XEmbeddedFramePeer) {\n-            XEmbeddedFramePeer embedded = (XEmbeddedFramePeer)parent;\n+        if (parent instanceof XEmbeddedFramePeer embedded) {\n@@ -580,2 +579,1 @@\n-        if (parent != null && parent instanceof XEmbeddedFramePeer) {\n-            XEmbeddedFramePeer embedded = (XEmbeddedFramePeer)parent;\n+        if (parent instanceof XEmbeddedFramePeer embedded) {\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XEmbedCanvasPeer.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -306,1 +306,1 @@\n-        while (!(peer instanceof XWindow))\n+        while (!(peer instanceof XWindow window))\n@@ -312,3 +312,1 @@\n-        if (peer != null && peer instanceof XWindow)\n-            return ((XWindow)peer).getContentWindow();\n-        else return 0;\n+        return window.getContentWindow();\n@@ -330,2 +328,2 @@\n-        if (peer != null && peer instanceof XWindow)\n-            return (XWindow) peer;\n+        if (peer instanceof XWindow xWindow)\n+            return xWindow;\n@@ -930,3 +928,1 @@\n-            if (child != null && child instanceof XWindow &&\n-                !child.isEventDisabled(xev))\n-            {\n+            if (child instanceof XWindow && !child.isEventDisabled(xev)) {\n@@ -1441,3 +1437,2 @@\n-                if (wpeer == null\n-                    || !(wpeer instanceof XDecoratedPeer)\n-                    || ((XDecoratedPeer)wpeer).configure_seen)\n+                if (!(wpeer instanceof XDecoratedPeer xDecoratedPeer)\n+                        || xDecoratedPeer.configure_seen)\n@@ -1450,1 +1445,1 @@\n-                                         ((XDecoratedPeer)wpeer).getContentWindow(),\n+                                         xDecoratedPeer.getContentWindow(),\n@@ -1454,1 +1449,1 @@\n-                    pt = new Point(((XBaseWindow)wpeer).getAbsoluteX(), ((XBaseWindow)wpeer).getAbsoluteY());\n+                    pt = new Point(xDecoratedPeer.getAbsoluteX(), xDecoratedPeer.getAbsoluteY());\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XWindow.java","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -421,4 +421,4 @@\n-            if (childPeer != null && childPeer instanceof XWindowPeer) {\n-                if (((XWindowPeer)childPeer).winAttr.iconsInherited) {\n-                    ((XWindowPeer)childPeer).winAttr.icons = icons;\n-                    ((XWindowPeer)childPeer).recursivelySetIcon(icons);\n+            if (childPeer instanceof XWindowPeer xWindowPeer) {\n+                if (xWindowPeer.winAttr.iconsInherited) {\n+                    xWindowPeer.winAttr.icons = icons;\n+                    xWindowPeer.recursivelySetIcon(icons);\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XWindowPeer.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -210,3 +210,2 @@\n-        if(sg2d.composite != null\n-                && sg2d.composite instanceof AlphaComposite) {\n-            aComp = (AlphaComposite) sg2d.composite;\n+        if (sg2d.composite instanceof AlphaComposite alphaComposite) {\n+            aComp = alphaComposite;\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/xr\/XRSurfaceData.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -674,2 +674,1 @@\n-            if (media != null && media instanceof MediaSizeName) {\n-                MediaSizeName msn = (MediaSizeName)media;\n+            if (media instanceof MediaSizeName msn) {\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/IPPPrintService.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -369,2 +369,1 @@\n-             if (customTray != null &&\n-                 customTray instanceof CustomMediaTray) {\n+             if (customTray != null) {\n","filename":"src\/java.desktop\/unix\/classes\/sun\/print\/UnixPrintJob.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1224,2 +1224,2 @@\n-            if (value != null && value instanceof FileFilter) {\n-                setText(((FileFilter)value).getDescription());\n+            if (value instanceof FileFilter fileFilter) {\n+                setText(fileFilter.getDescription());\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsFileChooserUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -543,1 +543,1 @@\n-        if (o == null || !(o instanceof Win32ShellFolder2)) {\n+        if (!(o instanceof Win32ShellFolder2 rhs)) {\n@@ -550,1 +550,0 @@\n-        Win32ShellFolder2 rhs = (Win32ShellFolder2) o;\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/shell\/Win32ShellFolder2.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -734,2 +734,1 @@\n-                        if (media == null ||\n-                            !(media instanceof MediaTray)) {\n+                        if (!(media instanceof MediaTray)) {\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPrinterJob.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}