[{"commit":{"message":"8292395: [testbug] VectorGatherScatterTest.java fails on SVE with -XX:MaxVectorSize=8 after JDK-8288397\n\nThis test case was introduced in JDK-8288397 to check the misused\nregister issue for gather load\/scatter store rules. `I_SPECIES` was set\nintentionally as half of the length of `L_SPECIES` so as to trigger the\nregister issue.\n\nHowever, if \"-XX:MaxVectorSize=8\" is specified from command line,\ninvalid vector size, i.e. 32-bit, is set for IntVector, leading to the\nclinit failure, while initializing `I_SPECIES`.\n\nTo bypass this failure, we check \"MaxVectorSize\" option at the\n\"requires\" annotation part in this patch, that is, we limit the minimal\nvalue of \"MaxVectorSize\" as 16 bytes.\n\nTesting:\n\n1. We ran the test case on 512-bit SVE machine with 1) the default\nMaxVectorSize, 2) MaxVectorSize=8 and 3) MaxVectorSize=16, and the test\npassed. Note that in 2), this test case is actullay not selected since\nthe condition at the \"requires\" annotation is not satisfied.\n\n2. We also manually checked that this patch doesn't change the\nfunctionality of this test case, i.e. checking the register issue."},"files":[{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorGatherScatterTest.java"}],"sha":"ac64473633b958c02a70ec5d000431917111978b"}]