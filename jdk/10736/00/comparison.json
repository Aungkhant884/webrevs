{"files":[{"patch":"@@ -722,0 +722,2 @@\n+  JvmtiTagMap::flush_all_object_free_events();\n+\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,7 +120,2 @@\n-        \/\/ Do a short delay to make sure all ClassUnloadEvents have been sent\n-        \/\/ before VMDeathEvent is generated.\n-        try {\n-            Thread.sleep(5000);\n-        } catch (InterruptedException e) {\n-        }\n-\n+        \/\/ We rely on JVMTI to post all pending ObjectFree events at VM shutdown.\n+        \/\/ It will trigger the JDWP agent to synthesize expected ClassUnloadEvents events.\n","filename":"test\/jdk\/com\/sun\/jdi\/ClassUnloadEventTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"}]}