{"files":[{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2014, 2020, Red Hat Inc. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Red Hat Inc. All rights reserved.\n@@ -2660,6 +2660,6 @@\n-#define INSN(NAME, op)                                                     \\\n-  void NAME(Register Rd, FloatRegister Vn, SIMD_RegVariant T, int idx) {   \\\n-    starti;                                                                \\\n-    f(0, 31), f(T==D ? 1:0, 30), f(0b001110000, 29, 21);                   \\\n-    f(((idx<<1)|1)<<(int)T, 20, 16), f(op, 15, 10);                        \\\n-    rf(Vn, 5), rf(Rd, 0);                                                  \\\n+  void umov(Register Rd, FloatRegister Vn, SIMD_RegVariant T, int idx) {\n+    starti;\n+    assert(T != Q, \"invalid register variant\");\n+    f(0, 31), f(T == D ? 1 : 0, 30), f(0b001110000, 29, 21);\n+    f(((idx << 1) | 1) << (int)T, 20, 16), f(0b001111, 15, 10);\n+    rf(Vn, 5), rf(Rd, 0);\n@@ -2668,3 +2668,7 @@\n-  INSN(umov, 0b001111);\n-  INSN(smov, 0b001011);\n-#undef INSN\n+  void smov(Register Rd, FloatRegister Vn, SIMD_RegVariant T, int idx) {\n+    starti;\n+    assert(T < D, \"invalid register variant\");\n+    f(0, 31), f(1, 30), f(0b001110000, 29, 21);\n+    f(((idx << 1) | 1) << (int)T, 20, 16), f(0b001011, 15, 10);\n+    rf(Vn, 5), rf(Rd, 0);\n+  }\n","filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.hpp","additions":15,"deletions":11,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -1502,0 +1502,7 @@\n+                        [\"smov\",   \"__ smov(r0, v1, __ S, 0);\",                          \"smov\\tx0, v1.s[0]\"],\n+                        [\"smov\",   \"__ smov(r0, v1, __ H, 1);\",                          \"smov\\tx0, v1.h[1]\"],\n+                        [\"smov\",   \"__ smov(r0, v1, __ B, 2);\",                          \"smov\\tx0, v1.b[2]\"],\n+                        [\"umov\",   \"__ umov(r0, v1, __ D, 0);\",                          \"umov\\tx0, v1.d[0]\"],\n+                        [\"umov\",   \"__ umov(r0, v1, __ S, 1);\",                          \"umov\\tw0, v1.s[1]\"],\n+                        [\"umov\",   \"__ umov(r0, v1, __ H, 2);\",                          \"umov\\tw0, v1.h[2]\"],\n+                        [\"umov\",   \"__ umov(r0, v1, __ B, 3);\",                          \"umov\\tw0, v1.b[3]\"],\n","filename":"test\/hotspot\/gtest\/aarch64\/aarch64-asmtest.py","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -688,0 +688,7 @@\n+    __ smov(r0, v1, __ S, 0);                          \/\/       smov    x0, v1.s[0]\n+    __ smov(r0, v1, __ H, 1);                          \/\/       smov    x0, v1.h[1]\n+    __ smov(r0, v1, __ B, 2);                          \/\/       smov    x0, v1.b[2]\n+    __ umov(r0, v1, __ D, 0);                          \/\/       umov    x0, v1.d[0]\n+    __ umov(r0, v1, __ S, 1);                          \/\/       umov    w0, v1.s[1]\n+    __ umov(r0, v1, __ H, 2);                          \/\/       umov    w0, v1.h[2]\n+    __ umov(r0, v1, __ B, 3);                          \/\/       umov    w0, v1.b[3]\n@@ -925,7 +932,7 @@\n-    0x14000000,     0x17ffffd7,     0x140002d4,     0x94000000,\n-    0x97ffffd4,     0x940002d1,     0x3400000a,     0x34fffa2a,\n-    0x340059ca,     0x35000008,     0x35fff9c8,     0x35005968,\n-    0xb400000b,     0xb4fff96b,     0xb400590b,     0xb500001d,\n-    0xb5fff91d,     0xb50058bd,     0x10000013,     0x10fff8b3,\n-    0x10005853,     0x90000013,     0x36300016,     0x3637f836,\n-    0x363057d6,     0x3758000c,     0x375ff7cc,     0x3758576c,\n+    0x14000000,     0x17ffffd7,     0x140002db,     0x94000000,\n+    0x97ffffd4,     0x940002d8,     0x3400000a,     0x34fffa2a,\n+    0x34005aaa,     0x35000008,     0x35fff9c8,     0x35005a48,\n+    0xb400000b,     0xb4fff96b,     0xb40059eb,     0xb500001d,\n+    0xb5fff91d,     0xb500599d,     0x10000013,     0x10fff8b3,\n+    0x10005933,     0x90000013,     0x36300016,     0x3637f836,\n+    0x363058b6,     0x3758000c,     0x375ff7cc,     0x3758584c,\n@@ -936,13 +943,13 @@\n-    0x54005540,     0x54000001,     0x54fff541,     0x540054e1,\n-    0x54000002,     0x54fff4e2,     0x54005482,     0x54000002,\n-    0x54fff482,     0x54005422,     0x54000003,     0x54fff423,\n-    0x540053c3,     0x54000003,     0x54fff3c3,     0x54005363,\n-    0x54000004,     0x54fff364,     0x54005304,     0x54000005,\n-    0x54fff305,     0x540052a5,     0x54000006,     0x54fff2a6,\n-    0x54005246,     0x54000007,     0x54fff247,     0x540051e7,\n-    0x54000008,     0x54fff1e8,     0x54005188,     0x54000009,\n-    0x54fff189,     0x54005129,     0x5400000a,     0x54fff12a,\n-    0x540050ca,     0x5400000b,     0x54fff0cb,     0x5400506b,\n-    0x5400000c,     0x54fff06c,     0x5400500c,     0x5400000d,\n-    0x54fff00d,     0x54004fad,     0x5400000e,     0x54ffefae,\n-    0x54004f4e,     0x5400000f,     0x54ffef4f,     0x54004eef,\n+    0x54005620,     0x54000001,     0x54fff541,     0x540055c1,\n+    0x54000002,     0x54fff4e2,     0x54005562,     0x54000002,\n+    0x54fff482,     0x54005502,     0x54000003,     0x54fff423,\n+    0x540054a3,     0x54000003,     0x54fff3c3,     0x54005443,\n+    0x54000004,     0x54fff364,     0x540053e4,     0x54000005,\n+    0x54fff305,     0x54005385,     0x54000006,     0x54fff2a6,\n+    0x54005326,     0x54000007,     0x54fff247,     0x540052c7,\n+    0x54000008,     0x54fff1e8,     0x54005268,     0x54000009,\n+    0x54fff189,     0x54005209,     0x5400000a,     0x54fff12a,\n+    0x540051aa,     0x5400000b,     0x54fff0cb,     0x5400514b,\n+    0x5400000c,     0x54fff06c,     0x540050ec,     0x5400000d,\n+    0x54fff00d,     0x5400508d,     0x5400000e,     0x54ffefae,\n+    0x5400502e,     0x5400000f,     0x54ffef4f,     0x54004fcf,\n@@ -980,1 +987,1 @@\n-    0xbd1b1869,     0x58003f3b,     0x1800000b,     0xf8945060,\n+    0xbd1b1869,     0x5800401b,     0x1800000b,     0xf8945060,\n@@ -1058,49 +1065,51 @@\n-    0x4e071fe1,     0x4cc0ac3f,     0x05a08020,     0x04b0e3e0,\n-    0x0470e7e1,     0x042f9c20,     0x043f9c35,     0x047f9c20,\n-    0x04ff9c20,     0x04299420,     0x04319160,     0x0461943e,\n-    0x04a19020,     0x042053ff,     0x047f5401,     0x25208028,\n-    0x2538cfe0,     0x2578d001,     0x25b8efe2,     0x25f8f007,\n-    0xa400a3e0,     0xa4a8a7ea,     0xa547a814,     0xa4084ffe,\n-    0xa55c53e0,     0xa5e1540b,     0xe400fbf6,     0xe408ffff,\n-    0xe547e400,     0xe4014be0,     0xe4a84fe0,     0xe5f15000,\n-    0x858043e0,     0x85a043ff,     0xe59f5d08,     0x1e601000,\n-    0x1e603000,     0x1e621000,     0x1e623000,     0x1e641000,\n-    0x1e643000,     0x1e661000,     0x1e663000,     0x1e681000,\n-    0x1e683000,     0x1e6a1000,     0x1e6a3000,     0x1e6c1000,\n-    0x1e6c3000,     0x1e6e1000,     0x1e6e3000,     0x1e701000,\n-    0x1e703000,     0x1e721000,     0x1e723000,     0x1e741000,\n-    0x1e743000,     0x1e761000,     0x1e763000,     0x1e781000,\n-    0x1e783000,     0x1e7a1000,     0x1e7a3000,     0x1e7c1000,\n-    0x1e7c3000,     0x1e7e1000,     0x1e7e3000,     0xf8238358,\n-    0xf83702af,     0xf8231118,     0xf8392214,     0xf8313022,\n-    0xf8205098,     0xf82343ec,     0xf83c734a,     0xf82261ec,\n-    0xf8bf81a1,     0xf8bd0260,     0xf8ac12d1,     0xf8ad23dc,\n-    0xf8bf3341,     0xf8bc53c4,     0xf8a443c6,     0xf8ba7130,\n-    0xf8a8600c,     0xf8f48301,     0xf8e20120,     0xf8f8121a,\n-    0xf8fe2143,     0xf8f7308a,     0xf8f05162,     0xf8e841ea,\n-    0xf8f17142,     0xf8ec61ec,     0xf86d80e2,     0xf874021a,\n-    0xf8641082,     0xf86c22b0,     0xf8703170,     0xf8755197,\n-    0xf87a4397,     0xf86e730b,     0xf86163ec,     0xb82a80f0,\n-    0xb82201a3,     0xb8331211,     0xb8232161,     0xb83e3105,\n-    0xb82f53dd,     0xb82040f4,     0xb8347397,     0xb835633b,\n-    0xb8a582e1,     0xb8b000bf,     0xb8ac1389,     0xb8af22dd,\n-    0xb8bf33f3,     0xb8a551ee,     0xb8bf4370,     0xb8b47190,\n-    0xb8ab60c9,     0xb8fe8371,     0xb8fc00fe,     0xb8ea1154,\n-    0xb8e42238,     0xb8f13076,     0xb8fd52cf,     0xb8f342d3,\n-    0xb8e270cf,     0xb8ec6170,     0xb86d8037,     0xb87e00b3,\n-    0xb8711202,     0xb876214d,     0xb875337d,     0xb86c507b,\n-    0xb861431f,     0xb8737131,     0xb87c61fb,     0xce367a86,\n-    0xce1e6858,     0xce768d51,     0xce910451,     0xce768338,\n-    0xce6c8622,     0xcec08363,     0xce708b9d,     0x04e900da,\n-    0x042404f1,     0x6596012f,     0x65d40b62,     0x65c00745,\n-    0x0456a72e,     0x04c0175b,     0x04109418,     0x041ab006,\n-    0x0413812f,     0x04118b65,     0x04101694,     0x04d7aa0a,\n-    0x045eb046,     0x04c81c5d,     0x044a1dd6,     0x040112fb,\n-    0x04dcad42,     0x65809aca,     0x658d9603,     0x65c69201,\n-    0x65878d8c,     0x65c28290,     0x04dda4e5,     0x65c2be0c,\n-    0x6580a386,     0x65c1a624,     0x658dae6d,     0x65819638,\n-    0x65f318ca,     0x65a030cd,     0x65a8532e,     0x65bb76d6,\n-    0x04144e23,     0x04407ce4,     0x04363270,     0x04b6312f,\n-    0x047e30b9,     0x041a356d,     0x04982a8d,     0x04192c99,\n-    0x04c828d1,     0x04ca3e04,     0x658729da,     0x65863c6b,\n-    0x65d83aa1,     0x04812a2e,\n+    0x4e071fe1,     0x4e042c20,     0x4e062c20,     0x4e052c20,\n+    0x4e083c20,     0x0e0c3c20,     0x0e0a3c20,     0x0e073c20,\n+    0x4cc0ac3f,     0x05a08020,     0x04b0e3e0,     0x0470e7e1,\n+    0x042f9c20,     0x043f9c35,     0x047f9c20,     0x04ff9c20,\n+    0x04299420,     0x04319160,     0x0461943e,     0x04a19020,\n+    0x042053ff,     0x047f5401,     0x25208028,     0x2538cfe0,\n+    0x2578d001,     0x25b8efe2,     0x25f8f007,     0xa400a3e0,\n+    0xa4a8a7ea,     0xa547a814,     0xa4084ffe,     0xa55c53e0,\n+    0xa5e1540b,     0xe400fbf6,     0xe408ffff,     0xe547e400,\n+    0xe4014be0,     0xe4a84fe0,     0xe5f15000,     0x858043e0,\n+    0x85a043ff,     0xe59f5d08,     0x1e601000,     0x1e603000,\n+    0x1e621000,     0x1e623000,     0x1e641000,     0x1e643000,\n+    0x1e661000,     0x1e663000,     0x1e681000,     0x1e683000,\n+    0x1e6a1000,     0x1e6a3000,     0x1e6c1000,     0x1e6c3000,\n+    0x1e6e1000,     0x1e6e3000,     0x1e701000,     0x1e703000,\n+    0x1e721000,     0x1e723000,     0x1e741000,     0x1e743000,\n+    0x1e761000,     0x1e763000,     0x1e781000,     0x1e783000,\n+    0x1e7a1000,     0x1e7a3000,     0x1e7c1000,     0x1e7c3000,\n+    0x1e7e1000,     0x1e7e3000,     0xf8238358,     0xf83702af,\n+    0xf8231118,     0xf8392214,     0xf8313022,     0xf8205098,\n+    0xf82343ec,     0xf83c734a,     0xf82261ec,     0xf8bf81a1,\n+    0xf8bd0260,     0xf8ac12d1,     0xf8ad23dc,     0xf8bf3341,\n+    0xf8bc53c4,     0xf8a443c6,     0xf8ba7130,     0xf8a8600c,\n+    0xf8f48301,     0xf8e20120,     0xf8f8121a,     0xf8fe2143,\n+    0xf8f7308a,     0xf8f05162,     0xf8e841ea,     0xf8f17142,\n+    0xf8ec61ec,     0xf86d80e2,     0xf874021a,     0xf8641082,\n+    0xf86c22b0,     0xf8703170,     0xf8755197,     0xf87a4397,\n+    0xf86e730b,     0xf86163ec,     0xb82a80f0,     0xb82201a3,\n+    0xb8331211,     0xb8232161,     0xb83e3105,     0xb82f53dd,\n+    0xb82040f4,     0xb8347397,     0xb835633b,     0xb8a582e1,\n+    0xb8b000bf,     0xb8ac1389,     0xb8af22dd,     0xb8bf33f3,\n+    0xb8a551ee,     0xb8bf4370,     0xb8b47190,     0xb8ab60c9,\n+    0xb8fe8371,     0xb8fc00fe,     0xb8ea1154,     0xb8e42238,\n+    0xb8f13076,     0xb8fd52cf,     0xb8f342d3,     0xb8e270cf,\n+    0xb8ec6170,     0xb86d8037,     0xb87e00b3,     0xb8711202,\n+    0xb876214d,     0xb875337d,     0xb86c507b,     0xb861431f,\n+    0xb8737131,     0xb87c61fb,     0xce367a86,     0xce1e6858,\n+    0xce768d51,     0xce910451,     0xce768338,     0xce6c8622,\n+    0xcec08363,     0xce708b9d,     0x04e900da,     0x042404f1,\n+    0x6596012f,     0x65d40b62,     0x65c00745,     0x0456a72e,\n+    0x04c0175b,     0x04109418,     0x041ab006,     0x0413812f,\n+    0x04118b65,     0x04101694,     0x04d7aa0a,     0x045eb046,\n+    0x04c81c5d,     0x044a1dd6,     0x040112fb,     0x04dcad42,\n+    0x65809aca,     0x658d9603,     0x65c69201,     0x65878d8c,\n+    0x65c28290,     0x04dda4e5,     0x65c2be0c,     0x6580a386,\n+    0x65c1a624,     0x658dae6d,     0x65819638,     0x65f318ca,\n+    0x65a030cd,     0x65a8532e,     0x65bb76d6,     0x04144e23,\n+    0x04407ce4,     0x04363270,     0x04b6312f,     0x047e30b9,\n+    0x041a356d,     0x04982a8d,     0x04192c99,     0x04c828d1,\n+    0x04ca3e04,     0x658729da,     0x65863c6b,     0x65d83aa1,\n+    0x04812a2e,\n","filename":"test\/hotspot\/gtest\/aarch64\/asmtest.out.h","additions":79,"deletions":70,"binary":false,"changes":149,"status":"modified"}]}