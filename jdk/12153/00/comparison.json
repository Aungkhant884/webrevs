{"files":[{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,3 +28,1 @@\n-#   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,\n-#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n-#   2011, 2012 Free Software Foundation, Inc.\n+#   Copyright 1992-2022 Free Software Foundation, Inc.\n@@ -32,1 +30,3 @@\n-timestamp='2012-02-10'\n+# shellcheck disable=SC2006,SC2268 # see below for rationale\n+\n+timestamp='2022-09-17'\n@@ -36,1 +36,1 @@\n-# the Free Software Foundation; either version 2 of the License, or\n+# the Free Software Foundation, either version 3 of the License, or\n@@ -45,1 +45,1 @@\n-# along with this program; if not, see <http:\/\/www.gnu.org\/licenses\/>.\n+# along with this program; if not, see <https:\/\/www.gnu.org\/licenses\/>.\n@@ -50,6 +50,3 @@\n-# the same distribution terms that you use for the rest of that program.\n-\n-\n-# Originally written by Per Bothner.  Please send patches (context\n-# diff format) to <config-patches@gnu.org> and include a ChangeLog\n-# entry.\n+# the same distribution terms that you use for the rest of that\n+# program.  This Exception is an additional permission under section 7\n+# of the GNU General Public License, version 3 (\"GPLv3\").\n@@ -57,3 +54,1 @@\n-# This script attempts to guess a canonical system name similar to\n-# config.sub.  If it succeeds, it prints the system name on stdout, and\n-# exits with 0.  Otherwise, it exits with 1.\n+# Originally written by Per Bothner; maintained since 2000 by Ben Elliston.\n@@ -62,1 +57,12 @@\n-# http:\/\/git.savannah.gnu.org\/gitweb\/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD\n+# https:\/\/git.savannah.gnu.org\/cgit\/config.git\/plain\/config.guess\n+#\n+# Please send patches to <config-patches@gnu.org>.\n+\n+\n+# The \"shellcheck disable\" line above the timestamp inhibits complaints\n+# about features and limitations of the classic Bourne shell that were\n+# superseded or lifted in POSIX.  However, this script identifies a wide\n+# variety of pre-POSIX systems that do not have POSIX shells at all, and\n+# even some reasonably current systems (Solaris 10 as case-in-point) still\n+# have a pre-POSIX \/bin\/sh.\n+\n@@ -71,1 +77,1 @@\n-Operation modes:\n+Options:\n@@ -82,3 +88,1 @@\n-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000,\n-2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012\n-Free Software Foundation, Inc.\n+Copyright 1992-2022 Free Software Foundation, Inc.\n@@ -118,1 +122,2 @@\n-trap 'exit 1' 1 2 15\n+# Just in case it came from the environment.\n+GUESS=\n@@ -130,24 +135,30 @@\n-set_cc_for_build='\n-trap \"exitcode=\\$?; (rm -f \\$tmpfiles 2>\/dev\/null; rmdir \\$tmp 2>\/dev\/null) && exit \\$exitcode\" 0 ;\n-trap \"rm -f \\$tmpfiles 2>\/dev\/null; rmdir \\$tmp 2>\/dev\/null; exit 1\" 1 2 13 15 ;\n-: ${TMPDIR=\/tmp} ;\n- { tmp=`(umask 077 && mktemp -d \"$TMPDIR\/cgXXXXXX\") 2>\/dev\/null` && test -n \"$tmp\" && test -d \"$tmp\" ; } ||\n- { test -n \"$RANDOM\" && tmp=$TMPDIR\/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||\n- { tmp=$TMPDIR\/cg-$$ && (umask 077 && mkdir $tmp) && echo \"Warning: creating insecure temp directory\" >&2 ; } ||\n- { echo \"$me: cannot create a temporary directory in $TMPDIR\" >&2 ; exit 1 ; } ;\n-dummy=$tmp\/dummy ;\n-tmpfiles=\"$dummy.c $dummy.o $dummy.rel $dummy\" ;\n-case $CC_FOR_BUILD,$HOST_CC,$CC in\n- ,,)    echo \"int x;\" > $dummy.c ;\n-\tfor c in cc gcc c89 c99 ; do\n-\t  if ($c -c -o $dummy.o $dummy.c) >\/dev\/null 2>&1 ; then\n-\t     CC_FOR_BUILD=\"$c\"; break ;\n-\t  fi ;\n-\tdone ;\n-\tif test x\"$CC_FOR_BUILD\" = x ; then\n-\t  CC_FOR_BUILD=no_compiler_found ;\n-\tfi\n-\t;;\n- ,,*)   CC_FOR_BUILD=$CC ;;\n- ,*,*)  CC_FOR_BUILD=$HOST_CC ;;\n-esac ; set_cc_for_build= ;'\n+tmp=\n+# shellcheck disable=SC2172\n+trap 'test -z \"$tmp\" || rm -fr \"$tmp\"' 0 1 2 13 15\n+\n+set_cc_for_build() {\n+    # prevent multiple calls if $tmp is already set\n+    test \"$tmp\" && return 0\n+    : \"${TMPDIR=\/tmp}\"\n+    # shellcheck disable=SC2039,SC3028\n+    { tmp=`(umask 077 && mktemp -d \"$TMPDIR\/cgXXXXXX\") 2>\/dev\/null` && test -n \"$tmp\" && test -d \"$tmp\" ; } ||\n+\t{ test -n \"$RANDOM\" && tmp=$TMPDIR\/cg$$-$RANDOM && (umask 077 && mkdir \"$tmp\" 2>\/dev\/null) ; } ||\n+\t{ tmp=$TMPDIR\/cg-$$ && (umask 077 && mkdir \"$tmp\" 2>\/dev\/null) && echo \"Warning: creating insecure temp directory\" >&2 ; } ||\n+\t{ echo \"$me: cannot create a temporary directory in $TMPDIR\" >&2 ; exit 1 ; }\n+    dummy=$tmp\/dummy\n+    case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in\n+\t,,)    echo \"int x;\" > \"$dummy.c\"\n+\t       for driver in cc gcc c89 c99 ; do\n+\t\t   if ($driver -c -o \"$dummy.o\" \"$dummy.c\") >\/dev\/null 2>&1 ; then\n+\t\t       CC_FOR_BUILD=$driver\n+\t\t       break\n+\t\t   fi\n+\t       done\n+\t       if test x\"$CC_FOR_BUILD\" = x ; then\n+\t\t   CC_FOR_BUILD=no_compiler_found\n+\t       fi\n+\t       ;;\n+\t,,*)   CC_FOR_BUILD=$CC ;;\n+\t,*,*)  CC_FOR_BUILD=$HOST_CC ;;\n+    esac\n+}\n@@ -157,1 +168,1 @@\n-if (test -f \/.attbin\/uname) >\/dev\/null 2>&1 ; then\n+if test -f \/.attbin\/uname ; then\n@@ -163,1 +174,1 @@\n-UNAME_SYSTEM=`(uname -s) 2>\/dev\/null`  || UNAME_SYSTEM=unknown\n+UNAME_SYSTEM=`(uname -s) 2>\/dev\/null` || UNAME_SYSTEM=unknown\n@@ -166,0 +177,39 @@\n+case $UNAME_SYSTEM in\n+Linux|GNU|GNU\/*)\n+\tLIBC=unknown\n+\n+\tset_cc_for_build\n+\tcat <<-EOF > \"$dummy.c\"\n+\t#include <features.h>\n+\t#if defined(__UCLIBC__)\n+\tLIBC=uclibc\n+\t#elif defined(__dietlibc__)\n+\tLIBC=dietlibc\n+\t#elif defined(__GLIBC__)\n+\tLIBC=gnu\n+\t#else\n+\t#include <stdarg.h>\n+\t\/* First heuristic to detect musl libc.  *\/\n+\t#ifdef __DEFINED_va_list\n+\tLIBC=musl\n+\t#endif\n+\t#endif\n+\tEOF\n+\tcc_set_libc=`$CC_FOR_BUILD -E \"$dummy.c\" 2>\/dev\/null | grep '^LIBC' | sed 's, ,,g'`\n+\teval \"$cc_set_libc\"\n+\n+\t# Second heuristic to detect musl libc.\n+\tif [ \"$LIBC\" = unknown ] &&\n+\t   command -v ldd >\/dev\/null &&\n+\t   ldd --version 2>&1 | grep -q ^musl; then\n+\t\tLIBC=musl\n+\tfi\n+\n+\t# If the system lacks a compiler, then just pick glibc.\n+\t# We could probably try harder.\n+\tif [ \"$LIBC\" = unknown ]; then\n+\t\tLIBC=gnu\n+\tfi\n+\t;;\n+esac\n+\n@@ -168,1 +218,1 @@\n-case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n+case $UNAME_MACHINE:$UNAME_SYSTEM:$UNAME_RELEASE:$UNAME_VERSION in\n@@ -180,4 +230,6 @@\n-\tsysctl=\"sysctl -n hw.machine_arch\"\n-\tUNAME_MACHINE_ARCH=`(\/sbin\/$sysctl 2>\/dev\/null || \\\n-\t    \/usr\/sbin\/$sysctl 2>\/dev\/null || echo unknown)`\n-\tcase \"${UNAME_MACHINE_ARCH}\" in\n+\tUNAME_MACHINE_ARCH=`(uname -p 2>\/dev\/null || \\\n+\t    \/sbin\/sysctl -n hw.machine_arch 2>\/dev\/null || \\\n+\t    \/usr\/sbin\/sysctl -n hw.machine_arch 2>\/dev\/null || \\\n+\t    echo unknown)`\n+\tcase $UNAME_MACHINE_ARCH in\n+\t    aarch64eb) machine=aarch64_be-unknown ;;\n@@ -189,1 +241,6 @@\n-\t    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;\n+\t    earmv*)\n+\t\tarch=`echo \"$UNAME_MACHINE_ARCH\" | sed -e 's,^e\\(armv[0-9]\\).*$,\\1,'`\n+\t\tendian=`echo \"$UNAME_MACHINE_ARCH\" | sed -ne 's,^.*\\(eb\\)$,\\1,p'`\n+\t\tmachine=${arch}${endian}-unknown\n+\t\t;;\n+\t    *) machine=$UNAME_MACHINE_ARCH-unknown ;;\n@@ -192,2 +249,5 @@\n-\t# to ELF recently, or will in the future.\n-\tcase \"${UNAME_MACHINE_ARCH}\" in\n+\t# to ELF recently (or will in the future) and ABI.\n+\tcase $UNAME_MACHINE_ARCH in\n+\t    earm*)\n+\t\tos=netbsdelf\n+\t\t;;\n@@ -195,1 +255,1 @@\n-\t\teval $set_cc_for_build\n+\t\tset_cc_for_build\n@@ -210,0 +270,7 @@\n+\t# Determine ABI tags.\n+\tcase $UNAME_MACHINE_ARCH in\n+\t    earm*)\n+\t\texpr='s\/^earmv[0-9]\/-eabi\/;s\/eb$\/\/'\n+\t\tabi=`echo \"$UNAME_MACHINE_ARCH\" | sed -e \"$expr\"`\n+\t\t;;\n+\tesac\n@@ -215,1 +282,1 @@\n-\tcase \"${UNAME_VERSION}\" in\n+\tcase $UNAME_VERSION in\n@@ -220,1 +287,1 @@\n-\t\trelease=`echo ${UNAME_RELEASE}|sed -e 's\/[-_].*\/\\.\/'`\n+\t\trelease=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-_].*\/\/' | cut -d. -f1,2`\n@@ -226,2 +293,6 @@\n-\techo \"${machine}-${os}${release}\"\n-\texit ;;\n+\tGUESS=$machine-${os}${release}${abi-}\n+\t;;\n+    *:Bitrig:*:*)\n+\tUNAME_MACHINE_ARCH=`arch | sed 's\/Bitrig.\/\/'`\n+\tGUESS=$UNAME_MACHINE_ARCH-unknown-bitrig$UNAME_RELEASE\n+\t;;\n@@ -230,2 +301,13 @@\n-\techo ${UNAME_MACHINE_ARCH}-unknown-openbsd${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE_ARCH-unknown-openbsd$UNAME_RELEASE\n+\t;;\n+    *:SecBSD:*:*)\n+\tUNAME_MACHINE_ARCH=`arch | sed 's\/SecBSD.\/\/'`\n+\tGUESS=$UNAME_MACHINE_ARCH-unknown-secbsd$UNAME_RELEASE\n+\t;;\n+    *:LibertyBSD:*:*)\n+\tUNAME_MACHINE_ARCH=`arch | sed 's\/^.*BSD\\.\/\/'`\n+\tGUESS=$UNAME_MACHINE_ARCH-unknown-libertybsd$UNAME_RELEASE\n+\t;;\n+    *:MidnightBSD:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-midnightbsd$UNAME_RELEASE\n+\t;;\n@@ -233,2 +315,2 @@\n-\techo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-ekkobsd$UNAME_RELEASE\n+\t;;\n@@ -236,2 +318,5 @@\n-\techo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-solidbsd$UNAME_RELEASE\n+\t;;\n+    *:OS108:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-os108_$UNAME_RELEASE\n+\t;;\n@@ -239,2 +324,2 @@\n-\techo powerpc-unknown-mirbsd${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=powerpc-unknown-mirbsd$UNAME_RELEASE\n+\t;;\n@@ -242,2 +327,14 @@\n-\techo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-mirbsd$UNAME_RELEASE\n+\t;;\n+    *:Sortix:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-sortix\n+\t;;\n+    *:Twizzler:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-twizzler\n+\t;;\n+    *:Redox:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-redox\n+\t;;\n+    mips:OSF1:*.*)\n+\tGUESS=mips-dec-osf1\n+\t;;\n@@ -245,0 +342,2 @@\n+\t# Reset EXIT trap before exiting to avoid spurious non-zero exit code.\n+\ttrap '' 0\n@@ -258,1 +357,1 @@\n-\tcase \"$ALPHA_CPU_TYPE\" in\n+\tcase $ALPHA_CPU_TYPE in\n@@ -260,1 +359,1 @@\n-\t\tUNAME_MACHINE=\"alpha\" ;;\n+\t\tUNAME_MACHINE=alpha ;;\n@@ -262,1 +361,1 @@\n-\t\tUNAME_MACHINE=\"alpha\" ;;\n+\t\tUNAME_MACHINE=alpha ;;\n@@ -264,1 +363,1 @@\n-\t\tUNAME_MACHINE=\"alpha\" ;;\n+\t\tUNAME_MACHINE=alpha ;;\n@@ -266,1 +365,1 @@\n-\t\tUNAME_MACHINE=\"alphaev5\" ;;\n+\t\tUNAME_MACHINE=alphaev5 ;;\n@@ -268,1 +367,1 @@\n-\t\tUNAME_MACHINE=\"alphaev56\" ;;\n+\t\tUNAME_MACHINE=alphaev56 ;;\n@@ -270,1 +369,1 @@\n-\t\tUNAME_MACHINE=\"alphapca56\" ;;\n+\t\tUNAME_MACHINE=alphapca56 ;;\n@@ -272,1 +371,1 @@\n-\t\tUNAME_MACHINE=\"alphapca57\" ;;\n+\t\tUNAME_MACHINE=alphapca57 ;;\n@@ -274,1 +373,1 @@\n-\t\tUNAME_MACHINE=\"alphaev6\" ;;\n+\t\tUNAME_MACHINE=alphaev6 ;;\n@@ -276,1 +375,1 @@\n-\t\tUNAME_MACHINE=\"alphaev67\" ;;\n+\t\tUNAME_MACHINE=alphaev67 ;;\n@@ -278,1 +377,1 @@\n-\t\tUNAME_MACHINE=\"alphaev68\" ;;\n+\t\tUNAME_MACHINE=alphaev68 ;;\n@@ -280,1 +379,1 @@\n-\t\tUNAME_MACHINE=\"alphaev68\" ;;\n+\t\tUNAME_MACHINE=alphaev68 ;;\n@@ -282,1 +381,1 @@\n-\t\tUNAME_MACHINE=\"alphaev68\" ;;\n+\t\tUNAME_MACHINE=alphaev68 ;;\n@@ -284,1 +383,1 @@\n-\t\tUNAME_MACHINE=\"alphaev69\" ;;\n+\t\tUNAME_MACHINE=alphaev69 ;;\n@@ -286,1 +385,1 @@\n-\t\tUNAME_MACHINE=\"alphaev7\" ;;\n+\t\tUNAME_MACHINE=alphaev7 ;;\n@@ -288,1 +387,1 @@\n-\t\tUNAME_MACHINE=\"alphaev79\" ;;\n+\t\tUNAME_MACHINE=alphaev79 ;;\n@@ -295,14 +394,3 @@\n-\techo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's\/^[PVTX]\/\/' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n-\t# Reset EXIT trap before exiting to avoid spurious non-zero exit code.\n-\texitcode=$?\n-\ttrap '' 0\n-\texit $exitcode ;;\n-    Alpha\\ *:Windows_NT*:*)\n-\t# How do we know it's Interix rather than the generic POSIX subsystem?\n-\t# Should we change UNAME_MACHINE based on the output of uname instead\n-\t# of the specific Alpha model?\n-\techo alpha-pc-interix\n-\texit ;;\n-    21064:Windows_NT:50:3)\n-\techo alpha-dec-winnt3.5\n-\texit ;;\n+\tOSF_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/^[PVTX]\/\/' | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`\n+\tGUESS=$UNAME_MACHINE-dec-osf$OSF_REL\n+\t;;\n@@ -310,2 +398,2 @@\n-\techo m68k-unknown-sysv4\n-\texit ;;\n+\tGUESS=m68k-unknown-sysv4\n+\t;;\n@@ -313,2 +401,2 @@\n-\techo ${UNAME_MACHINE}-unknown-amigaos\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-amigaos\n+\t;;\n@@ -316,2 +404,2 @@\n-\techo ${UNAME_MACHINE}-unknown-morphos\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-morphos\n+\t;;\n@@ -319,2 +407,2 @@\n-\techo i370-ibm-openedition\n-\texit ;;\n+\tGUESS=i370-ibm-openedition\n+\t;;\n@@ -322,2 +410,2 @@\n-\techo s390-ibm-zvmoe\n-\texit ;;\n+\tGUESS=s390-ibm-zvmoe\n+\t;;\n@@ -325,2 +413,2 @@\n-\techo powerpc-ibm-os400\n-\texit ;;\n+\tGUESS=powerpc-ibm-os400\n+\t;;\n@@ -328,5 +416,5 @@\n-\techo arm-acorn-riscix${UNAME_RELEASE}\n-\texit ;;\n-    arm:riscos:*:*|arm:RISCOS:*:*)\n-\techo arm-unknown-riscos\n-\texit ;;\n+\tGUESS=arm-acorn-riscix$UNAME_RELEASE\n+\t;;\n+    arm*:riscos:*:*|arm*:RISCOS:*:*)\n+\tGUESS=arm-unknown-riscos\n+\t;;\n@@ -334,2 +422,2 @@\n-\techo hppa1.1-hitachi-hiuxmpp\n-\texit ;;\n+\tGUESS=hppa1.1-hitachi-hiuxmpp\n+\t;;\n@@ -338,6 +426,5 @@\n-\tif test \"`(\/bin\/universe) 2>\/dev\/null`\" = att ; then\n-\t\techo pyramid-pyramid-sysv3\n-\telse\n-\t\techo pyramid-pyramid-bsd\n-\tfi\n-\texit ;;\n+\tcase `(\/bin\/universe) 2>\/dev\/null` in\n+\t    att) GUESS=pyramid-pyramid-sysv3 ;;\n+\t    *)   GUESS=pyramid-pyramid-bsd   ;;\n+\tesac\n+\t;;\n@@ -345,2 +432,2 @@\n-\techo pyramid-pyramid-svr4\n-\texit ;;\n+\tGUESS=pyramid-pyramid-svr4\n+\t;;\n@@ -348,2 +435,2 @@\n-\techo sparc-icl-nx6\n-\texit ;;\n+\tGUESS=sparc-icl-nx6\n+\t;;\n@@ -352,2 +439,3 @@\n-\t    sparc) echo sparc-icl-nx7; exit ;;\n-\tesac ;;\n+\t    sparc) GUESS=sparc-icl-nx7 ;;\n+\tesac\n+\t;;\n@@ -355,2 +443,3 @@\n-\techo ${UNAME_MACHINE}-ibm-solaris2`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=$UNAME_MACHINE-ibm-solaris2$SUN_REL\n+\t;;\n@@ -358,2 +447,3 @@\n-\techo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=sparc-hal-solaris2$SUN_REL\n+\t;;\n@@ -361,2 +451,3 @@\n-\techo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=sparc-sun-solaris2$SUN_REL\n+\t;;\n@@ -364,2 +455,2 @@\n-\techo i386-pc-auroraux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=i386-pc-auroraux$UNAME_RELEASE\n+\t;;\n@@ -367,2 +458,2 @@\n-\teval $set_cc_for_build\n-\tSUN_ARCH=\"i386\"\n+\tset_cc_for_build\n+\tSUN_ARCH=i386\n@@ -372,1 +463,1 @@\n-\tif [ \"$CC_FOR_BUILD\" != 'no_compiler_found' ]; then\n+\tif test \"$CC_FOR_BUILD\" != no_compiler_found; then\n@@ -374,1 +465,1 @@\n-\t\t(CCOPTS= $CC_FOR_BUILD -E - 2>\/dev\/null) | \\\n+\t\t(CCOPTS=\"\" $CC_FOR_BUILD -m64 -E - 2>\/dev\/null) | \\\n@@ -377,1 +468,1 @@\n-\t\tSUN_ARCH=\"x86_64\"\n+\t\tSUN_ARCH=x86_64\n@@ -380,2 +471,3 @@\n-\techo ${SUN_ARCH}-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=$SUN_ARCH-pc-solaris2$SUN_REL\n+\t;;\n@@ -386,2 +478,3 @@\n-\techo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=sparc-sun-solaris3$SUN_REL\n+\t;;\n@@ -389,1 +482,1 @@\n-\tcase \"`\/usr\/bin\/arch -k`\" in\n+\tcase `\/usr\/bin\/arch -k` in\n@@ -395,2 +488,3 @@\n-\techo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's\/-\/_\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/-\/_\/'`\n+\tGUESS=sparc-sun-sunos$SUN_REL\n+\t;;\n@@ -398,2 +492,2 @@\n-\techo m68k-sun-sunos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-sun-sunos$UNAME_RELEASE\n+\t;;\n@@ -402,2 +496,2 @@\n-\ttest \"x${UNAME_RELEASE}\" = \"x\" && UNAME_RELEASE=3\n-\tcase \"`\/bin\/arch`\" in\n+\ttest \"x$UNAME_RELEASE\" = x && UNAME_RELEASE=3\n+\tcase `\/bin\/arch` in\n@@ -405,1 +499,1 @@\n-\t\techo m68k-sun-sunos${UNAME_RELEASE}\n+\t\tGUESS=m68k-sun-sunos$UNAME_RELEASE\n@@ -408,1 +502,1 @@\n-\t\techo sparc-sun-sunos${UNAME_RELEASE}\n+\t\tGUESS=sparc-sun-sunos$UNAME_RELEASE\n@@ -411,1 +505,1 @@\n-\texit ;;\n+\t;;\n@@ -413,2 +507,2 @@\n-\techo sparc-auspex-sunos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sparc-auspex-sunos$UNAME_RELEASE\n+\t;;\n@@ -424,2 +518,2 @@\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-atari-mint$UNAME_RELEASE\n+\t;;\n@@ -427,2 +521,2 @@\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-atari-mint$UNAME_RELEASE\n+\t;;\n@@ -430,2 +524,2 @@\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-atari-mint$UNAME_RELEASE\n+\t;;\n@@ -433,2 +527,2 @@\n-\techo m68k-milan-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-milan-mint$UNAME_RELEASE\n+\t;;\n@@ -436,2 +530,2 @@\n-\techo m68k-hades-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-hades-mint$UNAME_RELEASE\n+\t;;\n@@ -439,2 +533,2 @@\n-\techo m68k-unknown-mint${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-unknown-mint$UNAME_RELEASE\n+\t;;\n@@ -442,2 +536,2 @@\n-\techo m68k-apple-machten${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-apple-machten$UNAME_RELEASE\n+\t;;\n@@ -445,2 +539,2 @@\n-\techo powerpc-apple-machten${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=powerpc-apple-machten$UNAME_RELEASE\n+\t;;\n@@ -448,2 +542,2 @@\n-\techo mips-dec-mach_bsd4.3\n-\texit ;;\n+\tGUESS=mips-dec-mach_bsd4.3\n+\t;;\n@@ -451,2 +545,2 @@\n-\techo mips-dec-ultrix${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=mips-dec-ultrix$UNAME_RELEASE\n+\t;;\n@@ -454,2 +548,2 @@\n-\techo vax-dec-ultrix${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=vax-dec-ultrix$UNAME_RELEASE\n+\t;;\n@@ -457,2 +551,2 @@\n-\techo clipper-intergraph-clix${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=clipper-intergraph-clix$UNAME_RELEASE\n+\t;;\n@@ -460,2 +554,2 @@\n-\teval $set_cc_for_build\n-\tsed 's\/^\t\/\/' << EOF >$dummy.c\n+\tset_cc_for_build\n+\tsed 's\/^\t\/\/' << EOF > \"$dummy.c\"\n@@ -470,1 +564,1 @@\n-\t  printf (\"mips-mips-riscos%ssysv\\n\", argv[1]); exit (0);\n+\t  printf (\"mips-mips-riscos%ssysv\\\\n\", argv[1]); exit (0);\n@@ -473,1 +567,1 @@\n-\t  printf (\"mips-mips-riscos%ssvr4\\n\", argv[1]); exit (0);\n+\t  printf (\"mips-mips-riscos%ssvr4\\\\n\", argv[1]); exit (0);\n@@ -476,1 +570,1 @@\n-\t  printf (\"mips-mips-riscos%sbsd\\n\", argv[1]); exit (0);\n+\t  printf (\"mips-mips-riscos%sbsd\\\\n\", argv[1]); exit (0);\n@@ -482,3 +576,3 @@\n-\t$CC_FOR_BUILD -o $dummy $dummy.c &&\n-\t  dummyarg=`echo \"${UNAME_RELEASE}\" | sed -n 's\/\\([0-9]*\\).*\/\\1\/p'` &&\n-\t  SYSTEM_NAME=`$dummy $dummyarg` &&\n+\t$CC_FOR_BUILD -o \"$dummy\" \"$dummy.c\" &&\n+\t  dummyarg=`echo \"$UNAME_RELEASE\" | sed -n 's\/\\([0-9]*\\).*\/\\1\/p'` &&\n+\t  SYSTEM_NAME=`\"$dummy\" \"$dummyarg\"` &&\n@@ -486,2 +580,2 @@\n-\techo mips-mips-riscos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=mips-mips-riscos$UNAME_RELEASE\n+\t;;\n@@ -489,2 +583,2 @@\n-\techo powerpc-motorola-powermax\n-\texit ;;\n+\tGUESS=powerpc-motorola-powermax\n+\t;;\n@@ -492,2 +586,2 @@\n-\techo powerpc-harris-powermax\n-\texit ;;\n+\tGUESS=powerpc-harris-powermax\n+\t;;\n@@ -495,2 +589,2 @@\n-\techo powerpc-harris-powermax\n-\texit ;;\n+\tGUESS=powerpc-harris-powermax\n+\t;;\n@@ -498,2 +592,2 @@\n-\techo powerpc-harris-powerunix\n-\texit ;;\n+\tGUESS=powerpc-harris-powerunix\n+\t;;\n@@ -501,2 +595,2 @@\n-\techo m88k-harris-cxux7\n-\texit ;;\n+\tGUESS=m88k-harris-cxux7\n+\t;;\n@@ -504,2 +598,2 @@\n-\techo m88k-motorola-sysv4\n-\texit ;;\n+\tGUESS=m88k-motorola-sysv4\n+\t;;\n@@ -507,2 +601,2 @@\n-\techo m88k-motorola-sysv3\n-\texit ;;\n+\tGUESS=m88k-motorola-sysv3\n+\t;;\n@@ -512,1 +606,1 @@\n-\tif [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]\n+\tif test \"$UNAME_PROCESSOR\" = mc88100 || test \"$UNAME_PROCESSOR\" = mc88110\n@@ -514,2 +608,2 @@\n-\t    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \\\n-\t       [ ${TARGET_BINARY_INTERFACE}x = x ]\n+\t    if test \"$TARGET_BINARY_INTERFACE\"x = m88kdguxelfx || \\\n+\t       test \"$TARGET_BINARY_INTERFACE\"x = x\n@@ -517,1 +611,1 @@\n-\t\techo m88k-dg-dgux${UNAME_RELEASE}\n+\t\tGUESS=m88k-dg-dgux$UNAME_RELEASE\n@@ -519,1 +613,1 @@\n-\t\techo m88k-dg-dguxbcs${UNAME_RELEASE}\n+\t\tGUESS=m88k-dg-dguxbcs$UNAME_RELEASE\n@@ -522,1 +616,1 @@\n-\t    echo i586-dg-dgux${UNAME_RELEASE}\n+\t    GUESS=i586-dg-dgux$UNAME_RELEASE\n@@ -524,1 +618,1 @@\n-\texit ;;\n+\t;;\n@@ -526,2 +620,2 @@\n-\techo m88k-dolphin-sysv3\n-\texit ;;\n+\tGUESS=m88k-dolphin-sysv3\n+\t;;\n@@ -530,2 +624,2 @@\n-\techo m88k-motorola-sysv3\n-\texit ;;\n+\tGUESS=m88k-motorola-sysv3\n+\t;;\n@@ -533,2 +627,2 @@\n-\techo m88k-tektronix-sysv3\n-\texit ;;\n+\tGUESS=m88k-tektronix-sysv3\n+\t;;\n@@ -536,2 +630,2 @@\n-\techo m68k-tektronix-bsd\n-\texit ;;\n+\tGUESS=m68k-tektronix-bsd\n+\t;;\n@@ -539,2 +633,3 @@\n-\techo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e 's\/-\/_\/g'`\n-\texit ;;\n+\tIRIX_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/-\/_\/g'`\n+\tGUESS=mips-sgi-irix$IRIX_REL\n+\t;;\n@@ -542,2 +637,2 @@\n-\techo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id\n-\texit ;;               # Note that: echo \"'`uname -s`'\" gives 'AIX '\n+\tGUESS=romp-ibm-aix    # uname -m gives an 8 hex-code CPU id\n+\t;;                    # Note that: echo \"'`uname -s`'\" gives 'AIX '\n@@ -545,2 +640,2 @@\n-\techo i386-ibm-aix\n-\texit ;;\n+\tGUESS=i386-ibm-aix\n+\t;;\n@@ -548,1 +643,1 @@\n-\tif [ -x \/usr\/bin\/oslevel ] ; then\n+\tif test -x \/usr\/bin\/oslevel ; then\n@@ -551,1 +646,1 @@\n-\t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n+\t\tIBM_REV=$UNAME_VERSION.$UNAME_RELEASE\n@@ -553,2 +648,2 @@\n-\techo ${UNAME_MACHINE}-ibm-aix${IBM_REV}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-ibm-aix$IBM_REV\n+\t;;\n@@ -557,2 +652,2 @@\n-\t\teval $set_cc_for_build\n-\t\tsed 's\/^\t\t\/\/' << EOF >$dummy.c\n+\t\tset_cc_for_build\n+\t\tsed 's\/^\t\t\/\/' << EOF > \"$dummy.c\"\n@@ -569,1 +664,1 @@\n-\t\tif $CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy`\n+\t\tif $CC_FOR_BUILD -o \"$dummy\" \"$dummy.c\" && SYSTEM_NAME=`\"$dummy\"`\n@@ -571,1 +666,1 @@\n-\t\t\techo \"$SYSTEM_NAME\"\n+\t\t\tGUESS=$SYSTEM_NAME\n@@ -573,1 +668,1 @@\n-\t\t\techo rs6000-ibm-aix3.2.5\n+\t\t\tGUESS=rs6000-ibm-aix3.2.5\n@@ -576,1 +671,1 @@\n-\t\techo rs6000-ibm-aix3.2.4\n+\t\tGUESS=rs6000-ibm-aix3.2.4\n@@ -578,1 +673,1 @@\n-\t\techo rs6000-ibm-aix3.2\n+\t\tGUESS=rs6000-ibm-aix3.2\n@@ -580,1 +675,1 @@\n-\texit ;;\n+\t;;\n@@ -583,1 +678,1 @@\n-\tif \/usr\/sbin\/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >\/dev\/null 2>&1; then\n+\tif \/usr\/sbin\/lsattr -El \"$IBM_CPU_ID\" | grep ' POWER' >\/dev\/null 2>&1; then\n@@ -588,2 +683,3 @@\n-\tif [ -x \/usr\/bin\/oslevel ] ; then\n-\t\tIBM_REV=`\/usr\/bin\/oslevel`\n+\tif test -x \/usr\/bin\/lslpp ; then\n+\t\tIBM_REV=`\/usr\/bin\/lslpp -Lqc bos.rte.libc | \\\n+\t\t\t   awk -F: '{ print $3 }' | sed s\/[0-9]*$\/0\/`\n@@ -591,1 +687,1 @@\n-\t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n+\t\tIBM_REV=$UNAME_VERSION.$UNAME_RELEASE\n@@ -593,2 +689,2 @@\n-\techo ${IBM_ARCH}-ibm-aix${IBM_REV}\n-\texit ;;\n+\tGUESS=$IBM_ARCH-ibm-aix$IBM_REV\n+\t;;\n@@ -596,5 +692,5 @@\n-\techo rs6000-ibm-aix\n-\texit ;;\n-    ibmrt:4.4BSD:*|romp-ibm:BSD:*)\n-\techo romp-ibm-bsd4.4\n-\texit ;;\n+\tGUESS=rs6000-ibm-aix\n+\t;;\n+    ibmrt:4.4BSD:*|romp-ibm:4.4BSD:*)\n+\tGUESS=romp-ibm-bsd4.4\n+\t;;\n@@ -602,2 +698,2 @@\n-\techo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to\n-\texit ;;                             # report: romp-ibm BSD 4.3\n+\tGUESS=romp-ibm-bsd$UNAME_RELEASE    # 4.3 with uname added to\n+\t;;                                  # report: romp-ibm BSD 4.3\n@@ -605,2 +701,2 @@\n-\techo rs6000-bull-bosx\n-\texit ;;\n+\tGUESS=rs6000-bull-bosx\n+\t;;\n@@ -608,2 +704,2 @@\n-\techo m68k-bull-sysv3\n-\texit ;;\n+\tGUESS=m68k-bull-sysv3\n+\t;;\n@@ -611,2 +707,2 @@\n-\techo m68k-hp-bsd\n-\texit ;;\n+\tGUESS=m68k-hp-bsd\n+\t;;\n@@ -614,2 +710,2 @@\n-\techo m68k-hp-bsd4.4\n-\texit ;;\n+\tGUESS=m68k-hp-bsd4.4\n+\t;;\n@@ -617,4 +713,4 @@\n-\tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*.[0B]*\/\/'`\n-\tcase \"${UNAME_MACHINE}\" in\n-\t    9000\/31? )            HP_ARCH=m68000 ;;\n-\t    9000\/[34]?? )         HP_ARCH=m68k ;;\n+\tHPUX_REV=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*.[0B]*\/\/'`\n+\tcase $UNAME_MACHINE in\n+\t    9000\/31?)            HP_ARCH=m68000 ;;\n+\t    9000\/[34]??)         HP_ARCH=m68k ;;\n@@ -622,1 +718,1 @@\n-\t\tif [ -x \/usr\/bin\/getconf ]; then\n+\t\tif test -x \/usr\/bin\/getconf; then\n@@ -625,3 +721,3 @@\n-\t\t    case \"${sc_cpu_version}\" in\n-\t\t      523) HP_ARCH=\"hppa1.0\" ;; # CPU_PA_RISC1_0\n-\t\t      528) HP_ARCH=\"hppa1.1\" ;; # CPU_PA_RISC1_1\n+\t\t    case $sc_cpu_version in\n+\t\t      523) HP_ARCH=hppa1.0 ;; # CPU_PA_RISC1_0\n+\t\t      528) HP_ARCH=hppa1.1 ;; # CPU_PA_RISC1_1\n@@ -629,4 +725,4 @@\n-\t\t\tcase \"${sc_kernel_bits}\" in\n-\t\t\t  32) HP_ARCH=\"hppa2.0n\" ;;\n-\t\t\t  64) HP_ARCH=\"hppa2.0w\" ;;\n-\t\t\t  '') HP_ARCH=\"hppa2.0\" ;;   # HP-UX 10.20\n+\t\t\tcase $sc_kernel_bits in\n+\t\t\t  32) HP_ARCH=hppa2.0n ;;\n+\t\t\t  64) HP_ARCH=hppa2.0w ;;\n+\t\t\t  '') HP_ARCH=hppa2.0 ;;   # HP-UX 10.20\n@@ -636,3 +732,3 @@\n-\t\tif [ \"${HP_ARCH}\" = \"\" ]; then\n-\t\t    eval $set_cc_for_build\n-\t\t    sed 's\/^\t\t\/\/' << EOF >$dummy.c\n+\t\tif test \"$HP_ARCH\" = \"\"; then\n+\t\t    set_cc_for_build\n+\t\t    sed 's\/^\t\t\/\/' << EOF > \"$dummy.c\"\n@@ -671,1 +767,1 @@\n-\t\t    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>\/dev\/null) && HP_ARCH=`$dummy`\n+\t\t    (CCOPTS=\"\" $CC_FOR_BUILD -o \"$dummy\" \"$dummy.c\" 2>\/dev\/null) && HP_ARCH=`\"$dummy\"`\n@@ -675,1 +771,1 @@\n-\tif [ ${HP_ARCH} = \"hppa2.0w\" ]\n+\tif test \"$HP_ARCH\" = hppa2.0w\n@@ -677,1 +773,1 @@\n-\t    eval $set_cc_for_build\n+\t    set_cc_for_build\n@@ -688,1 +784,1 @@\n-\t    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E - 2>\/dev\/null) |\n+\t    if echo __LP64__ | (CCOPTS=\"\" $CC_FOR_BUILD -E - 2>\/dev\/null) |\n@@ -691,1 +787,1 @@\n-\t\tHP_ARCH=\"hppa2.0w\"\n+\t\tHP_ARCH=hppa2.0w\n@@ -693,1 +789,1 @@\n-\t\tHP_ARCH=\"hppa64\"\n+\t\tHP_ARCH=hppa64\n@@ -696,2 +792,2 @@\n-\techo ${HP_ARCH}-hp-hpux${HPUX_REV}\n-\texit ;;\n+\tGUESS=$HP_ARCH-hp-hpux$HPUX_REV\n+\t;;\n@@ -699,3 +795,3 @@\n-\tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*.[0B]*\/\/'`\n-\techo ia64-hp-hpux${HPUX_REV}\n-\texit ;;\n+\tHPUX_REV=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*.[0B]*\/\/'`\n+\tGUESS=ia64-hp-hpux$HPUX_REV\n+\t;;\n@@ -703,2 +799,2 @@\n-\teval $set_cc_for_build\n-\tsed 's\/^\t\/\/' << EOF >$dummy.c\n+\tset_cc_for_build\n+\tsed 's\/^\t\/\/' << EOF > \"$dummy.c\"\n@@ -729,1 +825,1 @@\n-\t$CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy` &&\n+\t$CC_FOR_BUILD -o \"$dummy\" \"$dummy.c\" && SYSTEM_NAME=`\"$dummy\"` &&\n@@ -731,5 +827,5 @@\n-\techo unknown-hitachi-hiuxwe2\n-\texit ;;\n-    9000\/7??:4.3bsd:*:* | 9000\/8?[79]:4.3bsd:*:* )\n-\techo hppa1.1-hp-bsd\n-\texit ;;\n+\tGUESS=unknown-hitachi-hiuxwe2\n+\t;;\n+    9000\/7??:4.3bsd:*:* | 9000\/8?[79]:4.3bsd:*:*)\n+\tGUESS=hppa1.1-hp-bsd\n+\t;;\n@@ -737,2 +833,2 @@\n-\techo hppa1.0-hp-bsd\n-\texit ;;\n+\tGUESS=hppa1.0-hp-bsd\n+\t;;\n@@ -740,5 +836,5 @@\n-\techo hppa1.0-hp-mpeix\n-\texit ;;\n-    hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )\n-\techo hppa1.1-hp-osf\n-\texit ;;\n+\tGUESS=hppa1.0-hp-mpeix\n+\t;;\n+    hp7??:OSF1:*:* | hp8?[79]:OSF1:*:*)\n+\tGUESS=hppa1.1-hp-osf\n+\t;;\n@@ -746,2 +842,2 @@\n-\techo hppa1.0-hp-osf\n-\texit ;;\n+\tGUESS=hppa1.0-hp-osf\n+\t;;\n@@ -749,2 +845,2 @@\n-\tif [ -x \/usr\/sbin\/sysversion ] ; then\n-\t    echo ${UNAME_MACHINE}-unknown-osf1mk\n+\tif test -x \/usr\/sbin\/sysversion ; then\n+\t    GUESS=$UNAME_MACHINE-unknown-osf1mk\n@@ -752,1 +848,1 @@\n-\t    echo ${UNAME_MACHINE}-unknown-osf1\n+\t    GUESS=$UNAME_MACHINE-unknown-osf1\n@@ -754,1 +850,1 @@\n-\texit ;;\n+\t;;\n@@ -756,2 +852,2 @@\n-\techo hppa1.1-hp-lites\n-\texit ;;\n+\tGUESS=hppa1.1-hp-lites\n+\t;;\n@@ -759,2 +855,2 @@\n-\techo c1-convex-bsd\n-\texit ;;\n+\tGUESS=c1-convex-bsd\n+\t;;\n@@ -768,2 +864,2 @@\n-\techo c34-convex-bsd\n-\texit ;;\n+\tGUESS=c34-convex-bsd\n+\t;;\n@@ -771,2 +867,2 @@\n-\techo c38-convex-bsd\n-\texit ;;\n+\tGUESS=c38-convex-bsd\n+\t;;\n@@ -774,2 +870,2 @@\n-\techo c4-convex-bsd\n-\texit ;;\n+\tGUESS=c4-convex-bsd\n+\t;;\n@@ -777,2 +873,3 @@\n-\techo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's\/\\.[^.]*$\/.X\/'\n-\texit ;;\n+\tCRAY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/\\.[^.]*$\/.X\/'`\n+\tGUESS=ymp-cray-unicos$CRAY_REL\n+\t;;\n@@ -780,1 +877,1 @@\n-\techo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \\\n+\techo \"$UNAME_MACHINE\"-cray-unicos\"$UNAME_RELEASE\" \\\n@@ -786,2 +883,3 @@\n-\techo t90-cray-unicos${UNAME_RELEASE} | sed -e 's\/\\.[^.]*$\/.X\/'\n-\texit ;;\n+\tCRAY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/\\.[^.]*$\/.X\/'`\n+\tGUESS=t90-cray-unicos$CRAY_REL\n+\t;;\n@@ -789,2 +887,3 @@\n-\techo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's\/\\.[^.]*$\/.X\/'\n-\texit ;;\n+\tCRAY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/\\.[^.]*$\/.X\/'`\n+\tGUESS=alphaev5-cray-unicosmk$CRAY_REL\n+\t;;\n@@ -792,2 +891,3 @@\n-\techo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's\/\\.[^.]*$\/.X\/'\n-\texit ;;\n+\tCRAY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/\\.[^.]*$\/.X\/'`\n+\tGUESS=sv1-cray-unicos$CRAY_REL\n+\t;;\n@@ -795,2 +895,3 @@\n-\techo craynv-cray-unicosmp${UNAME_RELEASE} | sed -e 's\/\\.[^.]*$\/.X\/'\n-\texit ;;\n+\tCRAY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/\\.[^.]*$\/.X\/'`\n+\tGUESS=craynv-cray-unicosmp$CRAY_REL\n+\t;;\n@@ -798,5 +899,5 @@\n-\tFUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n-\tFUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's\/\\\/\/\/'`\n-\tFUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's\/ \/_\/'`\n-\techo \"${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\"\n-\texit ;;\n+\tFUJITSU_PROC=`uname -m | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz`\n+\tFUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's\/\\\/\/\/'`\n+\tFUJITSU_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/ \/_\/'`\n+\tGUESS=${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\n+\t;;\n@@ -804,4 +905,4 @@\n-\tFUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's\/\\\/\/\/'`\n-\tFUJITSU_REL=`echo ${UNAME_RELEASE} | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's\/ \/_\/'`\n-\techo \"sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\"\n-\texit ;;\n+\tFUJITSU_SYS=`uname -p | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's\/\\\/\/\/'`\n+\tFUJITSU_REL=`echo \"$UNAME_RELEASE\" | tr ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz | sed -e 's\/ \/_\/'`\n+\tGUESS=sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\n+\t;;\n@@ -809,2 +910,2 @@\n-\techo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-bsdi$UNAME_RELEASE\n+\t;;\n@@ -812,2 +913,2 @@\n-\techo sparc-unknown-bsdi${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sparc-unknown-bsdi$UNAME_RELEASE\n+\t;;\n@@ -815,2 +916,15 @@\n-\techo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-bsdi$UNAME_RELEASE\n+\t;;\n+    arm:FreeBSD:*:*)\n+\tUNAME_PROCESSOR=`uname -p`\n+\tset_cc_for_build\n+\tif echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>\/dev\/null \\\n+\t    | grep -q __ARM_PCS_VFP\n+\tthen\n+\t    FREEBSD_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-(].*\/\/'`\n+\t    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabi\n+\telse\n+\t    FREEBSD_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-(].*\/\/'`\n+\t    GUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL-gnueabihf\n+\tfi\n+\t;;\n@@ -819,1 +933,1 @@\n-\tcase ${UNAME_PROCESSOR} in\n+\tcase $UNAME_PROCESSOR in\n@@ -821,3 +935,3 @@\n-\t\techo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's\/[-(].*\/\/'` ;;\n-\t    *)\n-\t\techo ${UNAME_PROCESSOR}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's\/[-(].*\/\/'` ;;\n+\t\tUNAME_PROCESSOR=x86_64 ;;\n+\t    i386)\n+\t\tUNAME_PROCESSOR=i586 ;;\n@@ -825,1 +939,3 @@\n-\texit ;;\n+\tFREEBSD_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-(].*\/\/'`\n+\tGUESS=$UNAME_PROCESSOR-unknown-freebsd$FREEBSD_REL\n+\t;;\n@@ -827,2 +943,5 @@\n-\techo ${UNAME_MACHINE}-pc-cygwin\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-cygwin\n+\t;;\n+    *:MINGW64*:*)\n+\tGUESS=$UNAME_MACHINE-pc-mingw64\n+\t;;\n@@ -830,9 +949,5 @@\n-\techo ${UNAME_MACHINE}-pc-mingw32\n-\texit ;;\n-    i*:MSYS*:*)\n-\techo ${UNAME_MACHINE}-pc-msys\n-\texit ;;\n-    i*:windows32*:*)\n-\t# uname -m includes \"-pc\" on this system.\n-\techo ${UNAME_MACHINE}-mingw32\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-mingw32\n+\t;;\n+    *:MSYS*:*)\n+\tGUESS=$UNAME_MACHINE-pc-msys\n+\t;;\n@@ -840,2 +955,5 @@\n-\techo ${UNAME_MACHINE}-pc-pw32\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-pw32\n+\t;;\n+    *:SerenityOS:*:*)\n+        GUESS=$UNAME_MACHINE-pc-serenity\n+        ;;\n@@ -843,1 +961,1 @@\n-\tcase ${UNAME_MACHINE} in\n+\tcase $UNAME_MACHINE in\n@@ -845,2 +963,2 @@\n-\t\techo i586-pc-interix${UNAME_RELEASE}\n-\t\texit ;;\n+\t\tGUESS=i586-pc-interix$UNAME_RELEASE\n+\t\t;;\n@@ -848,2 +966,2 @@\n-\t\techo x86_64-unknown-interix${UNAME_RELEASE}\n-\t\texit ;;\n+\t\tGUESS=x86_64-unknown-interix$UNAME_RELEASE\n+\t\t;;\n@@ -851,2 +969,2 @@\n-\t\techo ia64-unknown-interix${UNAME_RELEASE}\n-\t\texit ;;\n+\t\tGUESS=ia64-unknown-interix$UNAME_RELEASE\n+\t\t;;\n@@ -854,12 +972,0 @@\n-    [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)\n-\techo i${UNAME_MACHINE}-pc-mks\n-\texit ;;\n-    8664:Windows_NT:*)\n-\techo x86_64-pc-mks\n-\texit ;;\n-    i*:Windows_NT*:* | Pentium*:Windows_NT*:*)\n-\t# How do we know it's Interix rather than the generic POSIX subsystem?\n-\t# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we\n-\t# UNAME_MACHINE based on the output of uname instead of i386?\n-\techo i586-pc-interix\n-\texit ;;\n@@ -867,2 +973,2 @@\n-\techo ${UNAME_MACHINE}-pc-uwin\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-uwin\n+\t;;\n@@ -870,5 +976,2 @@\n-\techo x86_64-unknown-cygwin\n-\texit ;;\n-    p*:CYGWIN*:*)\n-\techo powerpcle-unknown-cygwin\n-\texit ;;\n+\tGUESS=x86_64-pc-cygwin\n+\t;;\n@@ -876,2 +979,3 @@\n-\techo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's\/[^.]*\/\/'`\n-\texit ;;\n+\tSUN_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[^.]*\/\/'`\n+\tGUESS=powerpcle-unknown-solaris2$SUN_REL\n+\t;;\n@@ -880,2 +984,4 @@\n-\techo `echo ${UNAME_MACHINE}|sed -e 's,[-\/].*$,,'`-unknown-gnu`echo ${UNAME_RELEASE}|sed -e 's,\/.*$,,'`\n-\texit ;;\n+\tGNU_ARCH=`echo \"$UNAME_MACHINE\" | sed -e 's,[-\/].*$,,'`\n+\tGNU_REL=`echo \"$UNAME_RELEASE\" | sed -e 's,\/.*$,,'`\n+\tGUESS=$GNU_ARCH-unknown-$LIBC$GNU_REL\n+\t;;\n@@ -884,5 +990,13 @@\n-\techo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed 's,^[^\/]*\/,,' | tr '[A-Z]' '[a-z]'``echo ${UNAME_RELEASE}|sed -e 's\/[-(].*\/\/'`-gnu\n-\texit ;;\n-    i*86:Minix:*:*)\n-\techo ${UNAME_MACHINE}-pc-minix\n-\texit ;;\n+\tGNU_SYS=`echo \"$UNAME_SYSTEM\" | sed 's,^[^\/]*\/,,' | tr \"[:upper:]\" \"[:lower:]\"`\n+\tGNU_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-(].*\/\/'`\n+\tGUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC\n+\t;;\n+    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)\n+\tGUESS=\"$UNAME_MACHINE-pc-managarm-mlibc\"\n+\t;;\n+    *:[Mm]anagarm:*:*)\n+\tGUESS=\"$UNAME_MACHINE-unknown-managarm-mlibc\"\n+\t;;\n+    *:Minix:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-minix\n+\t;;\n@@ -890,2 +1004,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -894,2 +1008,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -897,1 +1011,1 @@\n-\tcase `sed -n '\/^cpu model\/s\/^.*: \\(.*\\)\/\\1\/p' < \/proc\/cpuinfo` in\n+\tcase `sed -n '\/^cpu model\/s\/^.*: \\(.*\\)\/\\1\/p' \/proc\/cpuinfo 2>\/dev\/null` in\n@@ -907,3 +1021,6 @@\n-\tif test \"$?\" = 0 ; then LIBC=\"libc1\" ; else LIBC=\"\" ; fi\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}\n-\texit ;;\n+\tif test \"$?\" = 0 ; then LIBC=gnulibc1 ; fi\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n+    arc:Linux:*:* | arceb:Linux:*:* | arc32:Linux:*:* | arc64:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -911,1 +1028,1 @@\n-\teval $set_cc_for_build\n+\tset_cc_for_build\n@@ -915,1 +1032,1 @@\n-\t    echo ${UNAME_MACHINE}-unknown-linux-gnu\n+\t    GUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n@@ -920,1 +1037,1 @@\n-\t\techo ${UNAME_MACHINE}-unknown-linux-gnueabi\n+\t\tGUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabi\n@@ -922,1 +1039,1 @@\n-\t\techo ${UNAME_MACHINE}-unknown-linux-gnueabihf\n+\t\tGUESS=$UNAME_MACHINE-unknown-linux-${LIBC}eabihf\n@@ -925,1 +1042,1 @@\n-\texit ;;\n+\t;;\n@@ -927,2 +1044,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -930,2 +1047,2 @@\n-\techo ${UNAME_MACHINE}-axis-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-axis-linux-$LIBC\n+\t;;\n@@ -933,2 +1050,5 @@\n-\techo ${UNAME_MACHINE}-axis-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-axis-linux-$LIBC\n+\t;;\n+    e2k:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -936,2 +1056,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -939,2 +1059,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -942,10 +1062,2 @@\n-\tLIBC=gnu\n-\teval $set_cc_for_build\n-\tsed 's\/^\t\/\/' << EOF >$dummy.c\n-\t#ifdef __dietlibc__\n-\tLIBC=dietlibc\n-\t#endif\n-EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>\/dev\/null | grep '^LIBC'`\n-\techo \"${UNAME_MACHINE}-pc-linux-${LIBC}\"\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-linux-$LIBC\n+\t;;\n@@ -953,2 +1065,8 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n+    k1om:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n+    loongarch32:Linux:*:* | loongarch64:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -956,2 +1074,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -959,2 +1077,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -962,2 +1080,4 @@\n-\teval $set_cc_for_build\n-\tsed 's\/^\t\/\/' << EOF >$dummy.c\n+\tset_cc_for_build\n+\tIS_GLIBC=0\n+\ttest x\"${LIBC}\" = xgnu && IS_GLIBC=1\n+\tsed 's\/^\t\/\/' << EOF > \"$dummy.c\"\n@@ -965,2 +1085,28 @@\n-\t#undef ${UNAME_MACHINE}\n-\t#undef ${UNAME_MACHINE}el\n+\t#undef mips\n+\t#undef mipsel\n+\t#undef mips64\n+\t#undef mips64el\n+\t#if ${IS_GLIBC} && defined(_ABI64)\n+\tLIBCABI=gnuabi64\n+\t#else\n+\t#if ${IS_GLIBC} && defined(_ABIN32)\n+\tLIBCABI=gnuabin32\n+\t#else\n+\tLIBCABI=${LIBC}\n+\t#endif\n+\t#endif\n+\n+\t#if ${IS_GLIBC} && defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6\n+\tCPU=mipsisa64r6\n+\t#else\n+\t#if ${IS_GLIBC} && !defined(__mips64) && defined(__mips_isa_rev) && __mips_isa_rev>=6\n+\tCPU=mipsisa32r6\n+\t#else\n+\t#if defined(__mips64)\n+\tCPU=mips64\n+\t#else\n+\tCPU=mips\n+\t#endif\n+\t#endif\n+\t#endif\n+\n@@ -968,1 +1114,1 @@\n-\tCPU=${UNAME_MACHINE}el\n+\tMIPS_ENDIAN=el\n@@ -971,1 +1117,1 @@\n-\tCPU=${UNAME_MACHINE}\n+\tMIPS_ENDIAN=\n@@ -973,1 +1119,1 @@\n-\tCPU=\n+\tMIPS_ENDIAN=\n@@ -977,2 +1123,12 @@\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>\/dev\/null | grep '^CPU'`\n-\ttest x\"${CPU}\" != x && { echo \"${CPU}-unknown-linux-gnu\"; exit; }\n+\tcc_set_vars=`$CC_FOR_BUILD -E \"$dummy.c\" 2>\/dev\/null | grep '^CPU\\|^MIPS_ENDIAN\\|^LIBCABI'`\n+\teval \"$cc_set_vars\"\n+\ttest \"x$CPU\" != x && { echo \"$CPU${MIPS_ENDIAN}-unknown-linux-$LIBCABI\"; exit; }\n+\t;;\n+    mips64el:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n+    openrisc*:Linux:*:*)\n+\tGUESS=or1k-unknown-linux-$LIBC\n+\t;;\n+    or32:Linux:*:* | or1k*:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n@@ -980,3 +1136,0 @@\n-    or32:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n@@ -984,2 +1137,2 @@\n-\techo sparc-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=sparc-unknown-linux-$LIBC\n+\t;;\n@@ -987,2 +1140,2 @@\n-\techo hppa64-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=hppa64-unknown-linux-$LIBC\n+\t;;\n@@ -992,3 +1145,3 @@\n-\t  PA7*) echo hppa1.1-unknown-linux-gnu ;;\n-\t  PA8*) echo hppa2.0-unknown-linux-gnu ;;\n-\t  *)    echo hppa-unknown-linux-gnu ;;\n+\t  PA7*) GUESS=hppa1.1-unknown-linux-$LIBC ;;\n+\t  PA8*) GUESS=hppa2.0-unknown-linux-$LIBC ;;\n+\t  *)    GUESS=hppa-unknown-linux-$LIBC ;;\n@@ -996,1 +1149,1 @@\n-\texit ;;\n+\t;;\n@@ -998,2 +1151,2 @@\n-\techo powerpc64-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=powerpc64-unknown-linux-$LIBC\n+\t;;\n@@ -1001,2 +1154,11 @@\n-\techo powerpc-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=powerpc-unknown-linux-$LIBC\n+\t;;\n+    ppc64le:Linux:*:*)\n+\tGUESS=powerpc64le-unknown-linux-$LIBC\n+\t;;\n+    ppcle:Linux:*:*)\n+\tGUESS=powerpcle-unknown-linux-$LIBC\n+\t;;\n+    riscv32:Linux:*:* | riscv32be:Linux:*:* | riscv64:Linux:*:* | riscv64be:Linux:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1004,2 +1166,2 @@\n-\techo ${UNAME_MACHINE}-ibm-linux\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-ibm-linux-$LIBC\n+\t;;\n@@ -1007,2 +1169,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1010,2 +1172,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1013,2 +1175,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1016,2 +1178,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1019,2 +1181,2 @@\n-\techo ${UNAME_MACHINE}-dec-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-dec-linux-$LIBC\n+\t;;\n@@ -1022,2 +1184,23 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tset_cc_for_build\n+\tCPU=$UNAME_MACHINE\n+\tLIBCABI=$LIBC\n+\tif test \"$CC_FOR_BUILD\" != no_compiler_found; then\n+\t    ABI=64\n+\t    sed 's\/^\t    \/\/' << EOF > \"$dummy.c\"\n+\t    #ifdef __i386__\n+\t    ABI=x86\n+\t    #else\n+\t    #ifdef __ILP32__\n+\t    ABI=x32\n+\t    #endif\n+\t    #endif\n+EOF\n+\t    cc_set_abi=`$CC_FOR_BUILD -E \"$dummy.c\" 2>\/dev\/null | grep '^ABI' | sed 's, ,,g'`\n+\t    eval \"$cc_set_abi\"\n+\t    case $ABI in\n+\t\tx86) CPU=i686 ;;\n+\t\tx32) LIBCABI=${LIBC}x32 ;;\n+\t    esac\n+\tfi\n+\tGUESS=$CPU-pc-linux-$LIBCABI\n+\t;;\n@@ -1025,2 +1208,2 @@\n-\techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-linux-$LIBC\n+\t;;\n@@ -1031,2 +1214,2 @@\n-\techo i386-sequent-sysv4\n-\texit ;;\n+\tGUESS=i386-sequent-sysv4\n+\t;;\n@@ -1039,2 +1222,2 @@\n-\techo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION\n+\t;;\n@@ -1044,2 +1227,2 @@\n-\techo ${UNAME_MACHINE}-pc-os2-emx\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-os2-emx\n+\t;;\n@@ -1047,2 +1230,2 @@\n-\techo ${UNAME_MACHINE}-unknown-stop\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-stop\n+\t;;\n@@ -1050,2 +1233,2 @@\n-\techo ${UNAME_MACHINE}-unknown-atheos\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-atheos\n+\t;;\n@@ -1053,2 +1236,2 @@\n-\techo ${UNAME_MACHINE}-pc-syllable\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-syllable\n+\t;;\n@@ -1056,2 +1239,2 @@\n-\techo i386-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=i386-unknown-lynxos$UNAME_RELEASE\n+\t;;\n@@ -1059,4 +1242,4 @@\n-\techo ${UNAME_MACHINE}-pc-msdosdjgpp\n-\texit ;;\n-    i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)\n-\tUNAME_REL=`echo ${UNAME_RELEASE} | sed 's\/\\\/MP$\/\/'`\n+\tGUESS=$UNAME_MACHINE-pc-msdosdjgpp\n+\t;;\n+    i*86:*:4.*:*)\n+\tUNAME_REL=`echo \"$UNAME_RELEASE\" | sed 's\/\\\/MP$\/\/'`\n@@ -1064,1 +1247,1 @@\n-\t\techo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}\n+\t\tGUESS=$UNAME_MACHINE-univel-sysv$UNAME_REL\n@@ -1066,1 +1249,1 @@\n-\t\techo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}\n+\t\tGUESS=$UNAME_MACHINE-pc-sysv$UNAME_REL\n@@ -1068,1 +1251,1 @@\n-\texit ;;\n+\t;;\n@@ -1076,2 +1259,2 @@\n-\techo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}\n+\t;;\n@@ -1081,1 +1264,1 @@\n-\t\techo ${UNAME_MACHINE}-pc-isc$UNAME_REL\n+\t\tGUESS=$UNAME_MACHINE-pc-isc$UNAME_REL\n@@ -1091,1 +1274,1 @@\n-\t\techo ${UNAME_MACHINE}-pc-sco$UNAME_REL\n+\t\tGUESS=$UNAME_MACHINE-pc-sco$UNAME_REL\n@@ -1093,1 +1276,1 @@\n-\t\techo ${UNAME_MACHINE}-pc-sysv32\n+\t\tGUESS=$UNAME_MACHINE-pc-sysv32\n@@ -1095,1 +1278,1 @@\n-\texit ;;\n+\t;;\n@@ -1101,1 +1284,1 @@\n-\t# prints for the \"djgpp\" host, or else GDB configury will decide that\n+\t# prints for the \"djgpp\" host, or else GDB configure will decide that\n@@ -1103,2 +1286,2 @@\n-\techo i586-pc-msdosdjgpp\n-\texit ;;\n+\tGUESS=i586-pc-msdosdjgpp\n+\t;;\n@@ -1106,2 +1289,2 @@\n-\techo i386-pc-mach3\n-\texit ;;\n+\tGUESS=i386-pc-mach3\n+\t;;\n@@ -1109,2 +1292,2 @@\n-\techo i860-intel-osf1\n-\texit ;;\n+\tGUESS=i860-intel-osf1\n+\t;;\n@@ -1113,1 +1296,1 @@\n-\t  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4\n+\t  GUESS=i860-stardent-sysv$UNAME_RELEASE    # Stardent Vistra i860-SVR4\n@@ -1115,1 +1298,1 @@\n-\t  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4\n+\t  GUESS=i860-unknown-sysv$UNAME_RELEASE     # Unknown i860-SVR4\n@@ -1117,1 +1300,1 @@\n-\texit ;;\n+\t;;\n@@ -1120,2 +1303,2 @@\n-\techo m68010-convergent-sysv\n-\texit ;;\n+\tGUESS=m68010-convergent-sysv\n+\t;;\n@@ -1123,2 +1306,2 @@\n-\techo m68k-convergent-sysv\n-\texit ;;\n+\tGUESS=m68k-convergent-sysv\n+\t;;\n@@ -1126,2 +1309,2 @@\n-\techo m68k-diab-dnix\n-\texit ;;\n+\tGUESS=m68k-diab-dnix\n+\t;;\n@@ -1135,1 +1318,1 @@\n-\t  && { echo i486-ncr-sysv4.3${OS_REL}; exit; }\n+\t  && { echo i486-ncr-sysv4.3\"$OS_REL\"; exit; }\n@@ -1137,1 +1320,1 @@\n-\t  && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;\n+\t  && { echo i586-ncr-sysv4.3\"$OS_REL\"; exit; } ;;\n@@ -1146,1 +1329,1 @@\n-\t    && { echo i486-ncr-sysv4.3${OS_REL}; exit; }\n+\t    && { echo i486-ncr-sysv4.3\"$OS_REL\"; exit; }\n@@ -1148,1 +1331,1 @@\n-\t    && { echo i586-ncr-sysv4.3${OS_REL}; exit; }\n+\t    && { echo i586-ncr-sysv4.3\"$OS_REL\"; exit; }\n@@ -1150,1 +1333,1 @@\n-\t    && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;\n+\t    && { echo i586-ncr-sysv4.3\"$OS_REL\"; exit; } ;;\n@@ -1152,2 +1335,2 @@\n-\techo m68k-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-unknown-lynxos$UNAME_RELEASE\n+\t;;\n@@ -1155,2 +1338,2 @@\n-\techo m68k-atari-sysv4\n-\texit ;;\n+\tGUESS=m68k-atari-sysv4\n+\t;;\n@@ -1158,2 +1341,2 @@\n-\techo sparc-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sparc-unknown-lynxos$UNAME_RELEASE\n+\t;;\n@@ -1161,2 +1344,2 @@\n-\techo rs6000-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=rs6000-unknown-lynxos$UNAME_RELEASE\n+\t;;\n@@ -1164,2 +1347,2 @@\n-\techo powerpc-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=powerpc-unknown-lynxos$UNAME_RELEASE\n+\t;;\n@@ -1167,2 +1350,2 @@\n-\techo mips-dde-sysv${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=mips-dde-sysv$UNAME_RELEASE\n+\t;;\n@@ -1170,2 +1353,2 @@\n-\techo mips-sni-sysv4\n-\texit ;;\n+\tGUESS=mips-sni-sysv4\n+\t;;\n@@ -1173,2 +1356,2 @@\n-\techo mips-sni-sysv4\n-\texit ;;\n+\tGUESS=mips-sni-sysv4\n+\t;;\n@@ -1178,1 +1361,1 @@\n-\t\techo ${UNAME_MACHINE}-sni-sysv4\n+\t\tGUESS=$UNAME_MACHINE-sni-sysv4\n@@ -1180,1 +1363,1 @@\n-\t\techo ns32k-sni-sysv\n+\t\tGUESS=ns32k-sni-sysv\n@@ -1182,1 +1365,1 @@\n-\texit ;;\n+\t;;\n@@ -1185,2 +1368,2 @@\n-\techo i586-unisys-sysv4\n-\texit ;;\n+\tGUESS=i586-unisys-sysv4\n+\t;;\n@@ -1190,2 +1373,2 @@\n-\techo hppa1.1-stratus-sysv4\n-\texit ;;\n+\tGUESS=hppa1.1-stratus-sysv4\n+\t;;\n@@ -1194,2 +1377,2 @@\n-\techo i860-stratus-sysv4\n-\texit ;;\n+\tGUESS=i860-stratus-sysv4\n+\t;;\n@@ -1198,2 +1381,2 @@\n-\techo ${UNAME_MACHINE}-stratus-vos\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-stratus-vos\n+\t;;\n@@ -1202,2 +1385,2 @@\n-\techo hppa1.1-stratus-vos\n-\texit ;;\n+\tGUESS=hppa1.1-stratus-vos\n+\t;;\n@@ -1205,2 +1388,2 @@\n-\techo m68k-apple-aux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=m68k-apple-aux$UNAME_RELEASE\n+\t;;\n@@ -1208,2 +1391,2 @@\n-\techo mips-sony-newsos6\n-\texit ;;\n+\tGUESS=mips-sony-newsos6\n+\t;;\n@@ -1211,2 +1394,2 @@\n-\tif [ -d \/usr\/nec ]; then\n-\t\techo mips-nec-sysv${UNAME_RELEASE}\n+\tif test -d \/usr\/nec; then\n+\t\tGUESS=mips-nec-sysv$UNAME_RELEASE\n@@ -1214,1 +1397,1 @@\n-\t\techo mips-unknown-sysv${UNAME_RELEASE}\n+\t\tGUESS=mips-unknown-sysv$UNAME_RELEASE\n@@ -1216,1 +1399,1 @@\n-\texit ;;\n+\t;;\n@@ -1218,2 +1401,2 @@\n-\techo powerpc-be-beos\n-\texit ;;\n+\tGUESS=powerpc-be-beos\n+\t;;\n@@ -1221,2 +1404,2 @@\n-\techo powerpc-apple-beos\n-\texit ;;\n+\tGUESS=powerpc-apple-beos\n+\t;;\n@@ -1224,2 +1407,2 @@\n-\techo i586-pc-beos\n-\texit ;;\n+\tGUESS=i586-pc-beos\n+\t;;\n@@ -1227,2 +1410,8 @@\n-\techo i586-pc-haiku\n-\texit ;;\n+\tGUESS=i586-pc-haiku\n+\t;;\n+    ppc:Haiku:*:*)\t# Haiku running on Apple PowerPC\n+\tGUESS=powerpc-apple-haiku\n+\t;;\n+    *:Haiku:*:*)\t# Haiku modern gcc (not bound by BeOS compat)\n+\tGUESS=$UNAME_MACHINE-unknown-haiku\n+\t;;\n@@ -1230,2 +1419,2 @@\n-\techo sx4-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx4-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1233,2 +1422,2 @@\n-\techo sx5-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx5-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1236,2 +1425,2 @@\n-\techo sx6-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx6-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1239,2 +1428,2 @@\n-\techo sx7-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx7-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1242,2 +1431,2 @@\n-\techo sx8-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx8-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1245,2 +1434,5 @@\n-\techo sx8r-nec-superux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=sx8r-nec-superux$UNAME_RELEASE\n+\t;;\n+    SX-ACE:SUPER-UX:*:*)\n+\tGUESS=sxace-nec-superux$UNAME_RELEASE\n+\t;;\n@@ -1248,2 +1440,2 @@\n-\techo powerpc-apple-rhapsody${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=powerpc-apple-rhapsody$UNAME_RELEASE\n+\t;;\n@@ -1251,2 +1443,5 @@\n-\techo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-apple-rhapsody$UNAME_RELEASE\n+\t;;\n+    arm64:Darwin:*:*)\n+\tGUESS=aarch64-apple-darwin$UNAME_RELEASE\n+\t;;\n@@ -1254,1 +1449,1 @@\n-\tUNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown\n+\tUNAME_PROCESSOR=`uname -p`\n@@ -1256,10 +1451,0 @@\n-\t    i386)\n-\t\teval $set_cc_for_build\n-\t\tif [ \"$CC_FOR_BUILD\" != 'no_compiler_found' ]; then\n-\t\t  if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \\\n-\t\t      (CCOPTS= $CC_FOR_BUILD -E - 2>\/dev\/null) | \\\n-\t\t      grep IS_64BIT_ARCH >\/dev\/null\n-\t\t  then\n-\t\t      UNAME_PROCESSOR=\"x86_64\"\n-\t\t  fi\n-\t\tfi ;;\n@@ -1268,2 +1453,32 @@\n-\techo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}\n-\texit ;;\n+\tif command -v xcode-select > \/dev\/null 2> \/dev\/null && \\\n+\t\t! xcode-select --print-path > \/dev\/null 2> \/dev\/null ; then\n+\t    # Avoid executing cc if there is no toolchain installed as\n+\t    # cc will be a stub that puts up a graphical alert\n+\t    # prompting the user to install developer tools.\n+\t    CC_FOR_BUILD=no_compiler_found\n+\telse\n+\t    set_cc_for_build\n+\tfi\n+\tif test \"$CC_FOR_BUILD\" != no_compiler_found; then\n+\t    if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \\\n+\t\t   (CCOPTS=\"\" $CC_FOR_BUILD -E - 2>\/dev\/null) | \\\n+\t\t   grep IS_64BIT_ARCH >\/dev\/null\n+\t    then\n+\t\tcase $UNAME_PROCESSOR in\n+\t\t    i386) UNAME_PROCESSOR=x86_64 ;;\n+\t\t    powerpc) UNAME_PROCESSOR=powerpc64 ;;\n+\t\tesac\n+\t    fi\n+\t    # On 10.4-10.6 one might compile for PowerPC via gcc -arch ppc\n+\t    if (echo '#ifdef __POWERPC__'; echo IS_PPC; echo '#endif') | \\\n+\t\t   (CCOPTS=\"\" $CC_FOR_BUILD -E - 2>\/dev\/null) | \\\n+\t\t   grep IS_PPC >\/dev\/null\n+\t    then\n+\t\tUNAME_PROCESSOR=powerpc\n+\t    fi\n+\telif test \"$UNAME_PROCESSOR\" = i386 ; then\n+\t    # uname -m returns i386 or x86_64\n+\t    UNAME_PROCESSOR=$UNAME_MACHINE\n+\tfi\n+\tGUESS=$UNAME_PROCESSOR-apple-darwin$UNAME_RELEASE\n+\t;;\n@@ -1272,1 +1487,1 @@\n-\tif test \"$UNAME_PROCESSOR\" = \"x86\"; then\n+\tif test \"$UNAME_PROCESSOR\" = x86; then\n@@ -1276,2 +1491,2 @@\n-\techo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_PROCESSOR-$UNAME_MACHINE-nto-qnx$UNAME_RELEASE\n+\t;;\n@@ -1279,11 +1494,17 @@\n-\techo i386-pc-qnx\n-\texit ;;\n-    NEO-?:NONSTOP_KERNEL:*:*)\n-\techo neo-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n-    NSE-?:NONSTOP_KERNEL:*:*)\n-\techo nse-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n-    NSR-?:NONSTOP_KERNEL:*:*)\n-\techo nsr-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=i386-pc-qnx\n+\t;;\n+    NEO-*:NONSTOP_KERNEL:*:*)\n+\tGUESS=neo-tandem-nsk$UNAME_RELEASE\n+\t;;\n+    NSE-*:NONSTOP_KERNEL:*:*)\n+\tGUESS=nse-tandem-nsk$UNAME_RELEASE\n+\t;;\n+    NSR-*:NONSTOP_KERNEL:*:*)\n+\tGUESS=nsr-tandem-nsk$UNAME_RELEASE\n+\t;;\n+    NSV-*:NONSTOP_KERNEL:*:*)\n+\tGUESS=nsv-tandem-nsk$UNAME_RELEASE\n+\t;;\n+    NSX-*:NONSTOP_KERNEL:*:*)\n+\tGUESS=nsx-tandem-nsk$UNAME_RELEASE\n+\t;;\n@@ -1291,2 +1512,2 @@\n-\techo mips-compaq-nonstopux\n-\texit ;;\n+\tGUESS=mips-compaq-nonstopux\n+\t;;\n@@ -1294,2 +1515,2 @@\n-\techo bs2000-siemens-sysv\n-\texit ;;\n+\tGUESS=bs2000-siemens-sysv\n+\t;;\n@@ -1297,2 +1518,2 @@\n-\techo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-$UNAME_SYSTEM-$UNAME_RELEASE\n+\t;;\n@@ -1303,1 +1524,1 @@\n-\tif test \"$cputype\" = \"386\"; then\n+\tif test \"${cputype-}\" = 386; then\n@@ -1305,2 +1526,2 @@\n-\telse\n-\t    UNAME_MACHINE=\"$cputype\"\n+\telif test \"x${cputype-}\" != x; then\n+\t    UNAME_MACHINE=$cputype\n@@ -1308,2 +1529,2 @@\n-\techo ${UNAME_MACHINE}-unknown-plan9\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-plan9\n+\t;;\n@@ -1311,2 +1532,2 @@\n-\techo pdp10-unknown-tops10\n-\texit ;;\n+\tGUESS=pdp10-unknown-tops10\n+\t;;\n@@ -1314,2 +1535,2 @@\n-\techo pdp10-unknown-tenex\n-\texit ;;\n+\tGUESS=pdp10-unknown-tenex\n+\t;;\n@@ -1317,2 +1538,2 @@\n-\techo pdp10-dec-tops20\n-\texit ;;\n+\tGUESS=pdp10-dec-tops20\n+\t;;\n@@ -1320,2 +1541,2 @@\n-\techo pdp10-xkl-tops20\n-\texit ;;\n+\tGUESS=pdp10-xkl-tops20\n+\t;;\n@@ -1323,2 +1544,2 @@\n-\techo pdp10-unknown-tops20\n-\texit ;;\n+\tGUESS=pdp10-unknown-tops20\n+\t;;\n@@ -1326,2 +1547,2 @@\n-\techo pdp10-unknown-its\n-\texit ;;\n+\tGUESS=pdp10-unknown-its\n+\t;;\n@@ -1329,2 +1550,2 @@\n-\techo mips-sei-seiux${UNAME_RELEASE}\n-\texit ;;\n+\tGUESS=mips-sei-seiux$UNAME_RELEASE\n+\t;;\n@@ -1332,2 +1553,3 @@\n-\techo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e 's\/[-(].*\/\/'`\n-\texit ;;\n+\tDRAGONFLY_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/[-(].*\/\/'`\n+\tGUESS=$UNAME_MACHINE-unknown-dragonfly$DRAGONFLY_REL\n+\t;;\n@@ -1336,4 +1558,4 @@\n-\tcase \"${UNAME_MACHINE}\" in\n-\t    A*) echo alpha-dec-vms ; exit ;;\n-\t    I*) echo ia64-dec-vms ; exit ;;\n-\t    V*) echo vax-dec-vms ; exit ;;\n+\tcase $UNAME_MACHINE in\n+\t    A*) GUESS=alpha-dec-vms ;;\n+\t    I*) GUESS=ia64-dec-vms ;;\n+\t    V*) GUESS=vax-dec-vms ;;\n@@ -1342,2 +1564,2 @@\n-\techo i386-pc-xenix\n-\texit ;;\n+\tGUESS=i386-pc-xenix\n+\t;;\n@@ -1345,2 +1567,3 @@\n-\techo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's\/ .*$\/\/'\n-\texit ;;\n+\tSKYOS_REL=`echo \"$UNAME_RELEASE\" | sed -e 's\/ .*$\/\/'`\n+\tGUESS=$UNAME_MACHINE-pc-skyos$SKYOS_REL\n+\t;;\n@@ -1348,5 +1571,8 @@\n-\techo ${UNAME_MACHINE}-pc-rdos\n-\texit ;;\n-    i*86:AROS:*:*)\n-\techo ${UNAME_MACHINE}-pc-aros\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-pc-rdos\n+\t;;\n+    i*86:Fiwix:*:*)\n+\tGUESS=$UNAME_MACHINE-pc-fiwix\n+\t;;\n+    *:AROS:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-aros\n+\t;;\n@@ -1354,2 +1580,8 @@\n-\techo ${UNAME_MACHINE}-unknown-esx\n-\texit ;;\n+\tGUESS=$UNAME_MACHINE-unknown-esx\n+\t;;\n+    amd64:Isilon\\ OneFS:*:*)\n+\tGUESS=x86_64-unknown-onefs\n+\t;;\n+    *:Unleashed:*:*)\n+\tGUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE\n+\t;;\n@@ -1358,2 +1590,5 @@\n-#echo '(No uname command or uname output not recognized.)' 1>&2\n-#echo \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" 1>&2\n+# Do we have a guess based on uname results?\n+if test \"x$GUESS\" != x; then\n+    echo \"$GUESS\"\n+    exit\n+fi\n@@ -1361,2 +1596,3 @@\n-eval $set_cc_for_build\n-cat >$dummy.c <<EOF\n+# No uname command or uname output not recognized.\n+set_cc_for_build\n+cat > \"$dummy.c\" <<EOF\n@@ -1364,2 +1600,10 @@\n-# include <sys\/types.h>\n-# include <sys\/utsname.h>\n+#include <sys\/types.h>\n+#include <sys\/utsname.h>\n+#endif\n+#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)\n+#if defined (vax) || defined (__vax) || defined (__vax__) || defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)\n+#include <signal.h>\n+#if defined(_SIZE_T_) || defined(SIGLOST)\n+#include <sys\/utsname.h>\n+#endif\n+#endif\n@@ -1378,1 +1622,1 @@\n-\t\"4\"\n+  \"4\"\n@@ -1380,3 +1624,1 @@\n-\t\"\"\n-#endif\n-\t); exit (0);\n+  \"\"\n@@ -1384,0 +1626,1 @@\n+  ); exit (0);\n@@ -1385,7 +1628,0 @@\n-\n-#if defined (__arm) && defined (__acorn) && defined (__unix)\n-  printf (\"arm-acorn-riscix\\n\"); exit (0);\n-#endif\n-\n-#if defined (hp300) && !defined (hpux)\n-  printf (\"m68k-hp-bsd\\n\"); exit (0);\n@@ -1433,11 +1669,1 @@\n-    struct utsname un;\n-\n-    uname(&un);\n-\n-    if (strncmp(un.version, \"V2\", 2) == 0) {\n-\tprintf (\"i386-sequent-ptx2\\n\"); exit (0);\n-    }\n-    if (strncmp(un.version, \"V1\", 2) == 0) { \/* XXX is V1 correct? *\/\n-\tprintf (\"i386-sequent-ptx1\\n\"); exit (0);\n-    }\n-    printf (\"i386-sequent-ptx\\n\"); exit (0);\n+  struct utsname un;\n@@ -1445,0 +1671,8 @@\n+  uname(&un);\n+  if (strncmp(un.version, \"V2\", 2) == 0) {\n+    printf (\"i386-sequent-ptx2\\n\"); exit (0);\n+  }\n+  if (strncmp(un.version, \"V1\", 2) == 0) { \/* XXX is V1 correct? *\/\n+    printf (\"i386-sequent-ptx1\\n\"); exit (0);\n+  }\n+  printf (\"i386-sequent-ptx\\n\"); exit (0);\n@@ -1448,18 +1682,35 @@\n-# if !defined (ultrix)\n-#  include <sys\/param.h>\n-#  if defined (BSD)\n-#   if BSD == 43\n-      printf (\"vax-dec-bsd4.3\\n\"); exit (0);\n-#   else\n-#    if BSD == 199006\n-      printf (\"vax-dec-bsd4.3reno\\n\"); exit (0);\n-#    else\n-      printf (\"vax-dec-bsd\\n\"); exit (0);\n-#    endif\n-#   endif\n-#  else\n-    printf (\"vax-dec-bsd\\n\"); exit (0);\n-#  endif\n-# else\n-    printf (\"vax-dec-ultrix\\n\"); exit (0);\n-# endif\n+#if !defined (ultrix)\n+#include <sys\/param.h>\n+#if defined (BSD)\n+#if BSD == 43\n+  printf (\"vax-dec-bsd4.3\\n\"); exit (0);\n+#else\n+#if BSD == 199006\n+  printf (\"vax-dec-bsd4.3reno\\n\"); exit (0);\n+#else\n+  printf (\"vax-dec-bsd\\n\"); exit (0);\n+#endif\n+#endif\n+#else\n+  printf (\"vax-dec-bsd\\n\"); exit (0);\n+#endif\n+#else\n+#if defined(_SIZE_T_) || defined(SIGLOST)\n+  struct utsname un;\n+  uname (&un);\n+  printf (\"vax-dec-ultrix%s\\n\", un.release); exit (0);\n+#else\n+  printf (\"vax-dec-ultrix\\n\"); exit (0);\n+#endif\n+#endif\n+#endif\n+#if defined(ultrix) || defined(_ultrix) || defined(__ultrix) || defined(__ultrix__)\n+#if defined(mips) || defined(__mips) || defined(__mips__) || defined(MIPS) || defined(__MIPS__)\n+#if defined(_SIZE_T_) || defined(SIGLOST)\n+  struct utsname *un;\n+  uname (&un);\n+  printf (\"mips-dec-ultrix%s\\n\", un.release); exit (0);\n+#else\n+  printf (\"mips-dec-ultrix\\n\"); exit (0);\n+#endif\n+#endif\n@@ -1476,1 +1727,1 @@\n-$CC_FOR_BUILD -o $dummy $dummy.c 2>\/dev\/null && SYSTEM_NAME=`$dummy` &&\n+$CC_FOR_BUILD -o \"$dummy\" \"$dummy.c\" 2>\/dev\/null && SYSTEM_NAME=`\"$dummy\"` &&\n@@ -1480,0 +1731,1 @@\n+test -d \/usr\/apollo && { echo \"$ISP-apollo-$SYSTYPE\"; exit; }\n@@ -1481,1 +1733,1 @@\n-test -d \/usr\/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit; }\n+echo \"$0: unable to guess system type\" >&2\n@@ -1483,1 +1735,4 @@\n-# Convex versions that predate uname can use getsysinfo(1)\n+case $UNAME_MACHINE:$UNAME_SYSTEM in\n+    mips:Linux | mips64:Linux)\n+\t# If we got here on MIPS GNU\/Linux, output extra information.\n+\tcat >&2 <<EOF\n@@ -1485,23 +1740,5 @@\n-if [ -x \/usr\/convex\/getsysinfo ]\n-then\n-    case `getsysinfo -f cpu_type` in\n-    c1*)\n-\techo c1-convex-bsd\n-\texit ;;\n-    c2*)\n-\tif getsysinfo -f scalar_acc\n-\tthen echo c32-convex-bsd\n-\telse echo c2-convex-bsd\n-\tfi\n-\texit ;;\n-    c34*)\n-\techo c34-convex-bsd\n-\texit ;;\n-    c38*)\n-\techo c38-convex-bsd\n-\texit ;;\n-    c4*)\n-\techo c4-convex-bsd\n-\texit ;;\n-    esac\n-fi\n+NOTE: MIPS GNU\/Linux systems require a C compiler to fully recognize\n+the system type. Please install a C compiler and try again.\n+EOF\n+\t;;\n+esac\n@@ -1510,1 +1747,0 @@\n-$0: unable to guess system type\n@@ -1512,3 +1748,3 @@\n-This script, last modified $timestamp, has failed to recognize\n-the operating system you are using. It is advised that you\n-download the most up to date version of the config scripts from\n+This script (version $timestamp), has failed to recognize the\n+operating system you are using. If your script is old, overwrite *all*\n+copies of config.guess and config.sub with the latest versions from:\n@@ -1516,1 +1752,1 @@\n-  http:\/\/git.savannah.gnu.org\/gitweb\/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD\n+  https:\/\/git.savannah.gnu.org\/cgit\/config.git\/plain\/config.guess\n@@ -1518,1 +1754,2 @@\n-  http:\/\/git.savannah.gnu.org\/gitweb\/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD\n+  https:\/\/git.savannah.gnu.org\/cgit\/config.git\/plain\/config.sub\n+EOF\n@@ -1520,4 +1757,10 @@\n-If the version you run ($0) is already up to date, please\n-send the following data and any information you think might be\n-pertinent to <config-patches@gnu.org> in order to provide the needed\n-information to handle your system.\n+our_year=`echo $timestamp | sed 's,-.*,,'`\n+thisyear=`date +%Y`\n+# shellcheck disable=SC2003\n+script_age=`expr \"$thisyear\" - \"$our_year\"`\n+if test \"$script_age\" -lt 3 ; then\n+   cat >&2 <<EOF\n+\n+If $0 has already been updated, send the following data and any\n+information you think might be pertinent to config-patches@gnu.org to\n+provide the necessary information to handle your system.\n@@ -1542,4 +1785,4 @@\n-UNAME_MACHINE = ${UNAME_MACHINE}\n-UNAME_RELEASE = ${UNAME_RELEASE}\n-UNAME_SYSTEM  = ${UNAME_SYSTEM}\n-UNAME_VERSION = ${UNAME_VERSION}\n+UNAME_MACHINE = \"$UNAME_MACHINE\"\n+UNAME_RELEASE = \"$UNAME_RELEASE\"\n+UNAME_SYSTEM  = \"$UNAME_SYSTEM\"\n+UNAME_VERSION = \"$UNAME_VERSION\"\n@@ -1547,0 +1790,1 @@\n+fi\n@@ -1551,1 +1795,1 @@\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n+# eval: (add-hook 'before-save-hook 'time-stamp)\n","filename":"make\/autoconf\/build-aux\/autoconf-config.guess","additions":987,"deletions":743,"binary":false,"changes":1730,"status":"modified"},{"patch":"@@ -4,1 +4,1 @@\n-# Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,3 +29,1 @@\n-#   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,\n-#   2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008\n-#   Free Software Foundation, Inc.\n+#   Copyright 1992-2022 Free Software Foundation, Inc.\n@@ -33,1 +31,1 @@\n-timestamp='2008-01-16'\n+# shellcheck disable=SC2006,SC2268 # see below for rationale\n@@ -35,7 +33,5 @@\n-# This file is (in principle) common to ALL GNU software.\n-# The presence of a machine in this file suggests that SOME GNU software\n-# can handle that machine.  It does not imply ALL GNU software can.\n-#\n-# This file is free software; you can redistribute it and\/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2 of the License, or\n+timestamp='2022-09-17'\n+\n+# This file is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License as published by\n+# the Free Software Foundation, either version 3 of the License, or\n@@ -44,4 +40,4 @@\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n+# This program is distributed in the hope that it will be useful, but\n+# WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+# General Public License for more details.\n@@ -50,3 +46,1 @@\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA\n-# 02110-1301, USA.\n+# along with this program; if not, see <https:\/\/www.gnu.org\/licenses\/>.\n@@ -57,1 +51,3 @@\n-# the same distribution terms that you use for the rest of that program.\n+# the same distribution terms that you use for the rest of that\n+# program.  This Exception is an additional permission under section 7\n+# of the GNU General Public License, version 3 (\"GPLv3\").\n@@ -60,2 +56,1 @@\n-# Please send patches to <config-patches@gnu.org>.  Submit a context\n-# diff and a properly formatted ChangeLog entry.\n+# Please send patches to <config-patches@gnu.org>.\n@@ -68,0 +63,3 @@\n+# You can get the latest version of this script from:\n+# https:\/\/git.savannah.gnu.org\/cgit\/config.git\/plain\/config.sub\n+\n@@ -83,0 +81,7 @@\n+# The \"shellcheck disable\" line above the timestamp inhibits complaints\n+# about features and limitations of the classic Bourne shell that were\n+# superseded or lifted in POSIX.  However, this script identifies a wide\n+# variety of pre-POSIX systems that do not have POSIX shells at all, and\n+# even some reasonably current systems (Solaris 10 as case-in-point) still\n+# have a pre-POSIX \/bin\/sh.\n+\n@@ -86,2 +91,1 @@\n-Usage: $0 [OPTION] CPU-MFR-OPSYS\n-       $0 [OPTION] ALIAS\n+Usage: $0 [OPTION] CPU-MFR-OPSYS or ALIAS\n@@ -91,1 +95,1 @@\n-Operation modes:\n+Options:\n@@ -101,2 +105,1 @@\n-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001,\n-2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.\n+Copyright 1992-2022 Free Software Foundation, Inc.\n@@ -124,1 +127,1 @@\n-       echo \"$me: invalid option $1$help\"\n+       echo \"$me: invalid option $1$help\" >&2\n@@ -129,1 +132,1 @@\n-       echo $1\n+       echo \"$1\"\n@@ -145,17 +148,7 @@\n-# Separate what the user gave into CPU-COMPANY and OS or KERNEL-OS (if any).\n-# Here we must recognize all the valid KERNEL-OS combinations.\n-maybe_os=`echo $1 | sed 's\/^\\(.*\\)-\\([^-]*-[^-]*\\)$\/\\2\/'`\n-case $maybe_os in\n-  nto-qnx* | linux-gnu* | linux-dietlibc | linux-newlib* | linux-uclibc* | \\\n-  uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | \\\n-  storm-chaos* | os2-emx* | rtmk-nova*)\n-    os=-$maybe_os\n-    basic_machine=`echo $1 | sed 's\/^\\(.*\\)-\\([^-]*-[^-]*\\)$\/\\1\/'`\n-    ;;\n-  *)\n-    basic_machine=`echo $1 | sed 's\/-[^-]*$\/\/'`\n-    if [ $basic_machine != $1 ]\n-    then os=`echo $1 | sed 's\/.*-\/-\/'`\n-    else os=; fi\n-    ;;\n-esac\n+# Split fields of configuration type\n+# shellcheck disable=SC2162\n+saved_IFS=$IFS\n+IFS=\"-\" read field1 field2 field3 field4 <<EOF\n+$1\n+EOF\n+IFS=$saved_IFS\n@@ -163,62 +156,5 @@\n-### Let's recognize common machines as not being operating systems so\n-### that things like config.sub decstation-3100 work.  We also\n-### recognize some manufacturers as not being operating systems, so we\n-### can provide default operating systems below.\n-case $os in\n-\t-sun*os*)\n-\t\t# Prevent following clause from handling this invalid input.\n-\t\t;;\n-\t-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \\\n-\t-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \\\n-\t-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \\\n-\t-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\\\n-\t-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \\\n-\t-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \\\n-\t-apple | -axis | -knuth | -cray)\n-\t\tos=\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-sim | -cisco | -oki | -wec | -winbond)\n-\t\tos=\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-scout)\n-\t\t;;\n-\t-wrs)\n-\t\tos=-vxworks\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-chorusos*)\n-\t\tos=-chorusos\n-\t\tbasic_machine=$1\n-\t\t;;\n- \t-chorusrdb)\n- \t\tos=-chorusrdb\n-\t\tbasic_machine=$1\n- \t\t;;\n-\t-hiux*)\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\t-sco6)\n-\t\tos=-sco5v6\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n-\t\t;;\n-\t-sco5)\n-\t\tos=-sco3.2v5\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n-\t\t;;\n-\t-sco4)\n-\t\tos=-sco3.2v4\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n-\t\t;;\n-\t-sco3.2.[4-9]*)\n-\t\tos=`echo $os | sed -e 's\/sco3.2.\/sco3.2v\/'`\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n-\t\t;;\n-\t-sco3.2v[4-9]*)\n-\t\t# Don't forget version if it is 3.2v4 or newer.\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n-\t\t;;\n-\t-sco5v6*)\n-\t\t# Don't forget version if it is 3.2v4 or newer.\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n+# Separate into logical components for further validation\n+case $1 in\n+\t*-*-*-*-*)\n+\t\techo Invalid configuration \\`\"$1\"\\': more than four components >&2\n+\t\texit 1\n@@ -226,3 +162,3 @@\n-\t-sco*)\n-\t\tos=-sco3.2v2\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n+\t*-*-*-*)\n+\t\tbasic_machine=$field1-$field2\n+\t\tbasic_os=$field3-$field4\n@@ -230,2 +166,21 @@\n-\t-udk*)\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n+\t*-*-*)\n+\t\t# Ambiguous whether COMPANY is present, or skipped and KERNEL-OS is two\n+\t\t# parts\n+\t\tmaybe_os=$field2-$field3\n+\t\tcase $maybe_os in\n+\t\t\tnto-qnx* | linux-* | uclinux-uclibc* \\\n+\t\t\t| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \\\n+\t\t\t| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \\\n+\t\t\t| storm-chaos* | os2-emx* | rtmk-nova* | managarm-*)\n+\t\t\t\tbasic_machine=$field1\n+\t\t\t\tbasic_os=$maybe_os\n+\t\t\t\t;;\n+\t\t\tandroid-linux)\n+\t\t\t\tbasic_machine=$field1-unknown\n+\t\t\t\tbasic_os=linux-android\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\tbasic_machine=$field1-$field2\n+\t\t\t\tbasic_os=$field3\n+\t\t\t\t;;\n+\t\tesac\n@@ -233,3 +188,39 @@\n-\t-isc)\n-\t\tos=-isc2.2\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n+\t*-*)\n+\t\t# A lone config we happen to match not fitting any pattern\n+\t\tcase $field1-$field2 in\n+\t\t\tdecstation-3100)\n+\t\t\t\tbasic_machine=mips-dec\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\t*-*)\n+\t\t\t\t# Second component is usually, but not always the OS\n+\t\t\t\tcase $field2 in\n+\t\t\t\t\t# Prevent following clause from handling this valid os\n+\t\t\t\t\tsun*os*)\n+\t\t\t\t\t\tbasic_machine=$field1\n+\t\t\t\t\t\tbasic_os=$field2\n+\t\t\t\t\t\t;;\n+\t\t\t\t\tzephyr*)\n+\t\t\t\t\t\tbasic_machine=$field1-unknown\n+\t\t\t\t\t\tbasic_os=$field2\n+\t\t\t\t\t\t;;\n+\t\t\t\t\t# Manufacturers\n+\t\t\t\t\tdec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \\\n+\t\t\t\t\t| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \\\n+\t\t\t\t\t| unicom* | ibm* | next | hp | isi* | apollo | altos* \\\n+\t\t\t\t\t| convergent* | ncr* | news | 32* | 3600* | 3100* \\\n+\t\t\t\t\t| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \\\n+\t\t\t\t\t| ultra | tti* | harris | dolphin | highlevel | gould \\\n+\t\t\t\t\t| cbm | ns | masscomp | apple | axis | knuth | cray \\\n+\t\t\t\t\t| microblaze* | sim | cisco \\\n+\t\t\t\t\t| oki | wec | wrs | winbond)\n+\t\t\t\t\t\tbasic_machine=$field1-$field2\n+\t\t\t\t\t\tbasic_os=\n+\t\t\t\t\t\t;;\n+\t\t\t\t\t*)\n+\t\t\t\t\t\tbasic_machine=$field1\n+\t\t\t\t\t\tbasic_os=$field2\n+\t\t\t\t\t\t;;\n+\t\t\t\tesac\n+\t\t\t;;\n+\t\tesac\n@@ -237,2 +228,453 @@\n-\t-clix*)\n-\t\tbasic_machine=clipper-intergraph\n+\t*)\n+\t\t# Convert single-component short-hands not valid as part of\n+\t\t# multi-component configurations.\n+\t\tcase $field1 in\n+\t\t\t386bsd)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\ta29khif)\n+\t\t\t\tbasic_machine=a29k-amd\n+\t\t\t\tbasic_os=udi\n+\t\t\t\t;;\n+\t\t\tadobe68k)\n+\t\t\t\tbasic_machine=m68010-adobe\n+\t\t\t\tbasic_os=scout\n+\t\t\t\t;;\n+\t\t\talliant)\n+\t\t\t\tbasic_machine=fx80-alliant\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\taltos | altos3068)\n+\t\t\t\tbasic_machine=m68k-altos\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tam29k)\n+\t\t\t\tbasic_machine=a29k-none\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tamdahl)\n+\t\t\t\tbasic_machine=580-amdahl\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tamiga)\n+\t\t\t\tbasic_machine=m68k-unknown\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tamigaos | amigados)\n+\t\t\t\tbasic_machine=m68k-unknown\n+\t\t\t\tbasic_os=amigaos\n+\t\t\t\t;;\n+\t\t\tamigaunix | amix)\n+\t\t\t\tbasic_machine=m68k-unknown\n+\t\t\t\tbasic_os=sysv4\n+\t\t\t\t;;\n+\t\t\tapollo68)\n+\t\t\t\tbasic_machine=m68k-apollo\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tapollo68bsd)\n+\t\t\t\tbasic_machine=m68k-apollo\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\taros)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=aros\n+\t\t\t\t;;\n+\t\t\taux)\n+\t\t\t\tbasic_machine=m68k-apple\n+\t\t\t\tbasic_os=aux\n+\t\t\t\t;;\n+\t\t\tbalance)\n+\t\t\t\tbasic_machine=ns32k-sequent\n+\t\t\t\tbasic_os=dynix\n+\t\t\t\t;;\n+\t\t\tblackfin)\n+\t\t\t\tbasic_machine=bfin-unknown\n+\t\t\t\tbasic_os=linux\n+\t\t\t\t;;\n+\t\t\tcegcc)\n+\t\t\t\tbasic_machine=arm-unknown\n+\t\t\t\tbasic_os=cegcc\n+\t\t\t\t;;\n+\t\t\tconvex-c1)\n+\t\t\t\tbasic_machine=c1-convex\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tconvex-c2)\n+\t\t\t\tbasic_machine=c2-convex\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tconvex-c32)\n+\t\t\t\tbasic_machine=c32-convex\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tconvex-c34)\n+\t\t\t\tbasic_machine=c34-convex\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tconvex-c38)\n+\t\t\t\tbasic_machine=c38-convex\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\tcray)\n+\t\t\t\tbasic_machine=j90-cray\n+\t\t\t\tbasic_os=unicos\n+\t\t\t\t;;\n+\t\t\tcrds | unos)\n+\t\t\t\tbasic_machine=m68k-crds\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tda30)\n+\t\t\t\tbasic_machine=m68k-da30\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tdecstation | pmax | pmin | dec3100 | decstatn)\n+\t\t\t\tbasic_machine=mips-dec\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tdelta88)\n+\t\t\t\tbasic_machine=m88k-motorola\n+\t\t\t\tbasic_os=sysv3\n+\t\t\t\t;;\n+\t\t\tdicos)\n+\t\t\t\tbasic_machine=i686-pc\n+\t\t\t\tbasic_os=dicos\n+\t\t\t\t;;\n+\t\t\tdjgpp)\n+\t\t\t\tbasic_machine=i586-pc\n+\t\t\t\tbasic_os=msdosdjgpp\n+\t\t\t\t;;\n+\t\t\tebmon29k)\n+\t\t\t\tbasic_machine=a29k-amd\n+\t\t\t\tbasic_os=ebmon\n+\t\t\t\t;;\n+\t\t\tes1800 | OSE68k | ose68k | ose | OSE)\n+\t\t\t\tbasic_machine=m68k-ericsson\n+\t\t\t\tbasic_os=ose\n+\t\t\t\t;;\n+\t\t\tgmicro)\n+\t\t\t\tbasic_machine=tron-gmicro\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tgo32)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=go32\n+\t\t\t\t;;\n+\t\t\th8300hms)\n+\t\t\t\tbasic_machine=h8300-hitachi\n+\t\t\t\tbasic_os=hms\n+\t\t\t\t;;\n+\t\t\th8300xray)\n+\t\t\t\tbasic_machine=h8300-hitachi\n+\t\t\t\tbasic_os=xray\n+\t\t\t\t;;\n+\t\t\th8500hms)\n+\t\t\t\tbasic_machine=h8500-hitachi\n+\t\t\t\tbasic_os=hms\n+\t\t\t\t;;\n+\t\t\tharris)\n+\t\t\t\tbasic_machine=m88k-harris\n+\t\t\t\tbasic_os=sysv3\n+\t\t\t\t;;\n+\t\t\thp300 | hp300hpux)\n+\t\t\t\tbasic_machine=m68k-hp\n+\t\t\t\tbasic_os=hpux\n+\t\t\t\t;;\n+\t\t\thp300bsd)\n+\t\t\t\tbasic_machine=m68k-hp\n+\t\t\t\tbasic_os=bsd\n+\t\t\t\t;;\n+\t\t\thppaosf)\n+\t\t\t\tbasic_machine=hppa1.1-hp\n+\t\t\t\tbasic_os=osf\n+\t\t\t\t;;\n+\t\t\thppro)\n+\t\t\t\tbasic_machine=hppa1.1-hp\n+\t\t\t\tbasic_os=proelf\n+\t\t\t\t;;\n+\t\t\ti386mach)\n+\t\t\t\tbasic_machine=i386-mach\n+\t\t\t\tbasic_os=mach\n+\t\t\t\t;;\n+\t\t\tisi68 | isi)\n+\t\t\t\tbasic_machine=m68k-isi\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tm68knommu)\n+\t\t\t\tbasic_machine=m68k-unknown\n+\t\t\t\tbasic_os=linux\n+\t\t\t\t;;\n+\t\t\tmagnum | m3230)\n+\t\t\t\tbasic_machine=mips-mips\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tmerlin)\n+\t\t\t\tbasic_machine=ns32k-utek\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tmingw64)\n+\t\t\t\tbasic_machine=x86_64-pc\n+\t\t\t\tbasic_os=mingw64\n+\t\t\t\t;;\n+\t\t\tmingw32)\n+\t\t\t\tbasic_machine=i686-pc\n+\t\t\t\tbasic_os=mingw32\n+\t\t\t\t;;\n+\t\t\tmingw32ce)\n+\t\t\t\tbasic_machine=arm-unknown\n+\t\t\t\tbasic_os=mingw32ce\n+\t\t\t\t;;\n+\t\t\tmonitor)\n+\t\t\t\tbasic_machine=m68k-rom68k\n+\t\t\t\tbasic_os=coff\n+\t\t\t\t;;\n+\t\t\tmorphos)\n+\t\t\t\tbasic_machine=powerpc-unknown\n+\t\t\t\tbasic_os=morphos\n+\t\t\t\t;;\n+\t\t\tmoxiebox)\n+\t\t\t\tbasic_machine=moxie-unknown\n+\t\t\t\tbasic_os=moxiebox\n+\t\t\t\t;;\n+\t\t\tmsdos)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=msdos\n+\t\t\t\t;;\n+\t\t\tmsys)\n+\t\t\t\tbasic_machine=i686-pc\n+\t\t\t\tbasic_os=msys\n+\t\t\t\t;;\n+\t\t\tmvs)\n+\t\t\t\tbasic_machine=i370-ibm\n+\t\t\t\tbasic_os=mvs\n+\t\t\t\t;;\n+\t\t\tnacl)\n+\t\t\t\tbasic_machine=le32-unknown\n+\t\t\t\tbasic_os=nacl\n+\t\t\t\t;;\n+\t\t\tncr3000)\n+\t\t\t\tbasic_machine=i486-ncr\n+\t\t\t\tbasic_os=sysv4\n+\t\t\t\t;;\n+\t\t\tnetbsd386)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=netbsd\n+\t\t\t\t;;\n+\t\t\tnetwinder)\n+\t\t\t\tbasic_machine=armv4l-rebel\n+\t\t\t\tbasic_os=linux\n+\t\t\t\t;;\n+\t\t\tnews | news700 | news800 | news900)\n+\t\t\t\tbasic_machine=m68k-sony\n+\t\t\t\tbasic_os=newsos\n+\t\t\t\t;;\n+\t\t\tnews1000)\n+\t\t\t\tbasic_machine=m68030-sony\n+\t\t\t\tbasic_os=newsos\n+\t\t\t\t;;\n+\t\t\tnecv70)\n+\t\t\t\tbasic_machine=v70-nec\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tnh3000)\n+\t\t\t\tbasic_machine=m68k-harris\n+\t\t\t\tbasic_os=cxux\n+\t\t\t\t;;\n+\t\t\tnh[45]000)\n+\t\t\t\tbasic_machine=m88k-harris\n+\t\t\t\tbasic_os=cxux\n+\t\t\t\t;;\n+\t\t\tnindy960)\n+\t\t\t\tbasic_machine=i960-intel\n+\t\t\t\tbasic_os=nindy\n+\t\t\t\t;;\n+\t\t\tmon960)\n+\t\t\t\tbasic_machine=i960-intel\n+\t\t\t\tbasic_os=mon960\n+\t\t\t\t;;\n+\t\t\tnonstopux)\n+\t\t\t\tbasic_machine=mips-compaq\n+\t\t\t\tbasic_os=nonstopux\n+\t\t\t\t;;\n+\t\t\tos400)\n+\t\t\t\tbasic_machine=powerpc-ibm\n+\t\t\t\tbasic_os=os400\n+\t\t\t\t;;\n+\t\t\tOSE68000 | ose68000)\n+\t\t\t\tbasic_machine=m68000-ericsson\n+\t\t\t\tbasic_os=ose\n+\t\t\t\t;;\n+\t\t\tos68k)\n+\t\t\t\tbasic_machine=m68k-none\n+\t\t\t\tbasic_os=os68k\n+\t\t\t\t;;\n+\t\t\tparagon)\n+\t\t\t\tbasic_machine=i860-intel\n+\t\t\t\tbasic_os=osf\n+\t\t\t\t;;\n+\t\t\tparisc)\n+\t\t\t\tbasic_machine=hppa-unknown\n+\t\t\t\tbasic_os=linux\n+\t\t\t\t;;\n+\t\t\tpsp)\n+\t\t\t\tbasic_machine=mipsallegrexel-sony\n+\t\t\t\tbasic_os=psp\n+\t\t\t\t;;\n+\t\t\tpw32)\n+\t\t\t\tbasic_machine=i586-unknown\n+\t\t\t\tbasic_os=pw32\n+\t\t\t\t;;\n+\t\t\trdos | rdos64)\n+\t\t\t\tbasic_machine=x86_64-pc\n+\t\t\t\tbasic_os=rdos\n+\t\t\t\t;;\n+\t\t\trdos32)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=rdos\n+\t\t\t\t;;\n+\t\t\trom68k)\n+\t\t\t\tbasic_machine=m68k-rom68k\n+\t\t\t\tbasic_os=coff\n+\t\t\t\t;;\n+\t\t\tsa29200)\n+\t\t\t\tbasic_machine=a29k-amd\n+\t\t\t\tbasic_os=udi\n+\t\t\t\t;;\n+\t\t\tsei)\n+\t\t\t\tbasic_machine=mips-sei\n+\t\t\t\tbasic_os=seiux\n+\t\t\t\t;;\n+\t\t\tsequent)\n+\t\t\t\tbasic_machine=i386-sequent\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tsps7)\n+\t\t\t\tbasic_machine=m68k-bull\n+\t\t\t\tbasic_os=sysv2\n+\t\t\t\t;;\n+\t\t\tst2000)\n+\t\t\t\tbasic_machine=m68k-tandem\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tstratus)\n+\t\t\t\tbasic_machine=i860-stratus\n+\t\t\t\tbasic_os=sysv4\n+\t\t\t\t;;\n+\t\t\tsun2)\n+\t\t\t\tbasic_machine=m68000-sun\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tsun2os3)\n+\t\t\t\tbasic_machine=m68000-sun\n+\t\t\t\tbasic_os=sunos3\n+\t\t\t\t;;\n+\t\t\tsun2os4)\n+\t\t\t\tbasic_machine=m68000-sun\n+\t\t\t\tbasic_os=sunos4\n+\t\t\t\t;;\n+\t\t\tsun3)\n+\t\t\t\tbasic_machine=m68k-sun\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tsun3os3)\n+\t\t\t\tbasic_machine=m68k-sun\n+\t\t\t\tbasic_os=sunos3\n+\t\t\t\t;;\n+\t\t\tsun3os4)\n+\t\t\t\tbasic_machine=m68k-sun\n+\t\t\t\tbasic_os=sunos4\n+\t\t\t\t;;\n+\t\t\tsun4)\n+\t\t\t\tbasic_machine=sparc-sun\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tsun4os3)\n+\t\t\t\tbasic_machine=sparc-sun\n+\t\t\t\tbasic_os=sunos3\n+\t\t\t\t;;\n+\t\t\tsun4os4)\n+\t\t\t\tbasic_machine=sparc-sun\n+\t\t\t\tbasic_os=sunos4\n+\t\t\t\t;;\n+\t\t\tsun4sol2)\n+\t\t\t\tbasic_machine=sparc-sun\n+\t\t\t\tbasic_os=solaris2\n+\t\t\t\t;;\n+\t\t\tsun386 | sun386i | roadrunner)\n+\t\t\t\tbasic_machine=i386-sun\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\t\tsv1)\n+\t\t\t\tbasic_machine=sv1-cray\n+\t\t\t\tbasic_os=unicos\n+\t\t\t\t;;\n+\t\t\tsymmetry)\n+\t\t\t\tbasic_machine=i386-sequent\n+\t\t\t\tbasic_os=dynix\n+\t\t\t\t;;\n+\t\t\tt3e)\n+\t\t\t\tbasic_machine=alphaev5-cray\n+\t\t\t\tbasic_os=unicos\n+\t\t\t\t;;\n+\t\t\tt90)\n+\t\t\t\tbasic_machine=t90-cray\n+\t\t\t\tbasic_os=unicos\n+\t\t\t\t;;\n+\t\t\ttoad1)\n+\t\t\t\tbasic_machine=pdp10-xkl\n+\t\t\t\tbasic_os=tops20\n+\t\t\t\t;;\n+\t\t\ttpf)\n+\t\t\t\tbasic_machine=s390x-ibm\n+\t\t\t\tbasic_os=tpf\n+\t\t\t\t;;\n+\t\t\tudi29k)\n+\t\t\t\tbasic_machine=a29k-amd\n+\t\t\t\tbasic_os=udi\n+\t\t\t\t;;\n+\t\t\tultra3)\n+\t\t\t\tbasic_machine=a29k-nyu\n+\t\t\t\tbasic_os=sym1\n+\t\t\t\t;;\n+\t\t\tv810 | necv810)\n+\t\t\t\tbasic_machine=v810-nec\n+\t\t\t\tbasic_os=none\n+\t\t\t\t;;\n+\t\t\tvaxv)\n+\t\t\t\tbasic_machine=vax-dec\n+\t\t\t\tbasic_os=sysv\n+\t\t\t\t;;\n+\t\t\tvms)\n+\t\t\t\tbasic_machine=vax-dec\n+\t\t\t\tbasic_os=vms\n+\t\t\t\t;;\n+\t\t\tvsta)\n+\t\t\t\tbasic_machine=i386-pc\n+\t\t\t\tbasic_os=vsta\n+\t\t\t\t;;\n+\t\t\tvxworks960)\n+\t\t\t\tbasic_machine=i960-wrs\n+\t\t\t\tbasic_os=vxworks\n+\t\t\t\t;;\n+\t\t\tvxworks68)\n+\t\t\t\tbasic_machine=m68k-wrs\n+\t\t\t\tbasic_os=vxworks\n+\t\t\t\t;;\n+\t\t\tvxworks29k)\n+\t\t\t\tbasic_machine=a29k-wrs\n+\t\t\t\tbasic_os=vxworks\n+\t\t\t\t;;\n+\t\t\txbox)\n+\t\t\t\tbasic_machine=i686-pc\n+\t\t\t\tbasic_os=mingw32\n+\t\t\t\t;;\n+\t\t\tymp)\n+\t\t\t\tbasic_machine=ymp-cray\n+\t\t\t\tbasic_os=unicos\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\tbasic_machine=$1\n+\t\t\t\tbasic_os=\n+\t\t\t\t;;\n+\t\tesac\n@@ -240,2 +682,9 @@\n-\t-isc*)\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-pc\/'`\n+esac\n+\n+# Decode 1-component or ad-hoc basic machines\n+case $basic_machine in\n+\t# Here we handle the default manufacturer of certain CPU types.  It is in\n+\t# some cases the only manufacturer, in others, it is the most popular.\n+\tw89k)\n+\t\tcpu=hppa1.1\n+\t\tvendor=winbond\n@@ -243,2 +692,3 @@\n-\t-lynx*)\n-\t\tos=-lynxos\n+\top50n)\n+\t\tcpu=hppa1.1\n+\t\tvendor=oki\n@@ -246,2 +696,3 @@\n-\t-ptx*)\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86-.*\/86-sequent\/'`\n+\top60c)\n+\t\tcpu=hppa1.1\n+\t\tvendor=oki\n@@ -249,2 +700,3 @@\n-\t-windowsnt*)\n-\t\tos=`echo $os | sed -e 's\/windowsnt\/winnt\/'`\n+\tibm*)\n+\t\tcpu=i370\n+\t\tvendor=ibm\n@@ -252,2 +704,3 @@\n-\t-psos*)\n-\t\tos=-psos\n+\torion105)\n+\t\tcpu=clipper\n+\t\tvendor=highlevel\n@@ -255,3 +708,3 @@\n-\t-mint | -mint[0-9]*)\n-\t\tbasic_machine=m68k-atari\n-\t\tos=-mint\n+\tmac | mpw | mac-mpw)\n+\t\tcpu=m68k\n+\t\tvendor=apple\n@@ -259,68 +712,3 @@\n-esac\n-\n-# Decode aliases for certain CPU-COMPANY combinations.\n-case $basic_machine in\n-\t# Recognize the basic CPU types without company name.\n-\t# Some are omitted here because they have special meanings below.\n-\t1750a | 580 \\\n-\t| a29k \\\n-\t| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \\\n-\t| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \\\n-\t| am33_2.0 \\\n-\t| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr | avr32 \\\n-\t| bfin \\\n-\t| c4x | clipper \\\n-\t| d10v | d30v | dlx | dsp16xx \\\n-\t| fido | fr30 | frv \\\n-\t| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \\\n-\t| i370 | i860 | i960 | ia64 \\\n-\t| ip2k | iq2000 \\\n-\t| m32c | m32r | m32rle | m68000 | m68k | m88k \\\n-\t| maxq | mb | microblaze | mcore | mep \\\n-\t| mips | mipsbe | mipseb | mipsel | mipsle \\\n-\t| mips16 \\\n-\t| mips64 | mips64el \\\n-\t| mips64vr | mips64vrel \\\n-\t| mips64orion | mips64orionel \\\n-\t| mips64vr4100 | mips64vr4100el \\\n-\t| mips64vr4300 | mips64vr4300el \\\n-\t| mips64vr5000 | mips64vr5000el \\\n-\t| mips64vr5900 | mips64vr5900el \\\n-\t| mipsisa32 | mipsisa32el \\\n-\t| mipsisa32r2 | mipsisa32r2el \\\n-\t| mipsisa64 | mipsisa64el \\\n-\t| mipsisa64r2 | mipsisa64r2el \\\n-\t| mipsisa64sb1 | mipsisa64sb1el \\\n-\t| mipsisa64sr71k | mipsisa64sr71kel \\\n-\t| mipstx39 | mipstx39el \\\n-\t| mn10200 | mn10300 \\\n-\t| mt \\\n-\t| msp430 \\\n-\t| nios | nios2 \\\n-\t| ns16k | ns32k \\\n-\t| or32 \\\n-\t| pdp10 | pdp11 | pj | pjl \\\n-\t| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \\\n-\t| pyramid \\\n-\t| score \\\n-\t| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \\\n-\t| sh64 | sh64le \\\n-\t| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \\\n-\t| sparcv8 | sparcv9 | sparcv9b | sparcv9v \\\n-\t| spu | strongarm \\\n-\t| tahoe | thumb | tic4x | tic80 | tron \\\n-\t| v850 | v850e \\\n-\t| we32k \\\n-\t| x86 | xc16x | xscale | xscalee[bl] | xstormy16 | xtensa \\\n-\t| z8k)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\t;;\n-\tm6811 | m68hc11 | m6812 | m68hc12)\n-\t\t# Motorola 68HC11\/12.\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\tos=-none\n-\t\t;;\n-\tm88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)\n-\t\t;;\n-\tms1)\n-\t\tbasic_machine=mt-unknown\n+\tpmac | pmac-mpw)\n+\t\tcpu=powerpc\n+\t\tvendor=apple\n@@ -329,77 +717,0 @@\n-\t# We use `pc' rather than `unknown'\n-\t# because (1) that's what they normally are, and\n-\t# (2) the word \"unknown\" tends to confuse beginning users.\n-\ti*86 | x86_64)\n-\t  basic_machine=$basic_machine-pc\n-\t  ;;\n-\t# Object if more than one company name word.\n-\t*-*-*)\n-\t\techo Invalid configuration \\`$1\\': machine \\`$basic_machine\\' not recognized 1>&2\n-\t\texit 1\n-\t\t;;\n-\t# Recognize the basic CPU types with company name.\n-\t580-* \\\n-\t| a29k-* \\\n-\t| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \\\n-\t| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \\\n-\t| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \\\n-\t| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \\\n-\t| avr-* | avr32-* \\\n-\t| bfin-* | bs2000-* \\\n-\t| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \\\n-\t| clipper-* | craynv-* | cydra-* \\\n-\t| d10v-* | d30v-* | dlx-* \\\n-\t| elxsi-* \\\n-\t| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \\\n-\t| h8300-* | h8500-* \\\n-\t| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \\\n-\t| i*86-* | i860-* | i960-* | ia64-* \\\n-\t| ip2k-* | iq2000-* \\\n-\t| m32c-* | m32r-* | m32rle-* \\\n-\t| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \\\n-\t| m88110-* | m88k-* | maxq-* | mcore-* \\\n-\t| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \\\n-\t| mips16-* \\\n-\t| mips64-* | mips64el-* \\\n-\t| mips64vr-* | mips64vrel-* \\\n-\t| mips64orion-* | mips64orionel-* \\\n-\t| mips64vr4100-* | mips64vr4100el-* \\\n-\t| mips64vr4300-* | mips64vr4300el-* \\\n-\t| mips64vr5000-* | mips64vr5000el-* \\\n-\t| mips64vr5900-* | mips64vr5900el-* \\\n-\t| mipsisa32-* | mipsisa32el-* \\\n-\t| mipsisa32r2-* | mipsisa32r2el-* \\\n-\t| mipsisa64-* | mipsisa64el-* \\\n-\t| mipsisa64r2-* | mipsisa64r2el-* \\\n-\t| mipsisa64sb1-* | mipsisa64sb1el-* \\\n-\t| mipsisa64sr71k-* | mipsisa64sr71kel-* \\\n-\t| mipstx39-* | mipstx39el-* \\\n-\t| mmix-* \\\n-\t| mt-* \\\n-\t| msp430-* \\\n-\t| nios-* | nios2-* \\\n-\t| none-* | np1-* | ns16k-* | ns32k-* \\\n-\t| orion-* \\\n-\t| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \\\n-\t| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \\\n-\t| pyramid-* \\\n-\t| romp-* | rs6000-* \\\n-\t| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \\\n-\t| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \\\n-\t| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \\\n-\t| sparclite-* \\\n-\t| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | strongarm-* | sv1-* | sx?-* \\\n-\t| tahoe-* | thumb-* \\\n-\t| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \\\n-\t| tron-* \\\n-\t| v850-* | v850e-* | vax-* \\\n-\t| we32k-* \\\n-\t| x86-* | x86_64-* | xc16x-* | xps100-* | xscale-* | xscalee[bl]-* \\\n-\t| xstormy16-* | xtensa*-* \\\n-\t| ymp-* \\\n-\t| z8k-*)\n-\t\t;;\n-\t# Recognize the basic CPU types without company name, with glob match.\n-\txtensa*)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\t;;\n@@ -408,4 +719,0 @@\n-\t386bsd)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-bsd\n-\t\t;;\n@@ -413,1 +720,2 @@\n-\t\tbasic_machine=m68000-att\n+\t\tcpu=m68000\n+\t\tvendor=att\n@@ -416,79 +724,2 @@\n-\t\tbasic_machine=we32k-att\n-\t\t;;\n-\ta29khif)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n-\t\t;;\n-    \tabacus)\n-\t\tbasic_machine=abacus-unknown\n-\t\t;;\n-\tadobe68k)\n-\t\tbasic_machine=m68010-adobe\n-\t\tos=-scout\n-\t\t;;\n-\talliant | fx80)\n-\t\tbasic_machine=fx80-alliant\n-\t\t;;\n-\taltos | altos3068)\n-\t\tbasic_machine=m68k-altos\n-\t\t;;\n-\tam29k)\n-\t\tbasic_machine=a29k-none\n-\t\tos=-bsd\n-\t\t;;\n-\tamd64)\n-\t\tbasic_machine=x86_64-pc\n-\t\t;;\n-\tamd64-*)\n-\t\tbasic_machine=x86_64-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tamdahl)\n-\t\tbasic_machine=580-amdahl\n-\t\tos=-sysv\n-\t\t;;\n-\tamiga | amiga-*)\n-\t\tbasic_machine=m68k-unknown\n-\t\t;;\n-\tamigaos | amigados)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-amigaos\n-\t\t;;\n-\tamigaunix | amix)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-sysv4\n-\t\t;;\n-\tapollo68)\n-\t\tbasic_machine=m68k-apollo\n-\t\tos=-sysv\n-\t\t;;\n-\tapollo68bsd)\n-\t\tbasic_machine=m68k-apollo\n-\t\tos=-bsd\n-\t\t;;\n-\taux)\n-\t\tbasic_machine=m68k-apple\n-\t\tos=-aux\n-\t\t;;\n-\tbalance)\n-\t\tbasic_machine=ns32k-sequent\n-\t\tos=-dynix\n-\t\t;;\n-\tblackfin)\n-\t\tbasic_machine=bfin-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tblackfin-*)\n-\t\tbasic_machine=bfin-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\tos=-linux\n-\t\t;;\n-\tc90)\n-\t\tbasic_machine=c90-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tconvex-c1)\n-\t\tbasic_machine=c1-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c2)\n-\t\tbasic_machine=c2-convex\n-\t\tos=-bsd\n+\t\tcpu=we32k\n+\t\tvendor=att\n@@ -496,42 +727,4 @@\n-\tconvex-c32)\n-\t\tbasic_machine=c32-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c34)\n-\t\tbasic_machine=c34-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c38)\n-\t\tbasic_machine=c38-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tcray | j90)\n-\t\tbasic_machine=j90-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tcraynv)\n-\t\tbasic_machine=craynv-cray\n-\t\tos=-unicosmp\n-\t\t;;\n-\tcr16)\n-\t\tbasic_machine=cr16-unknown\n-\t\tos=-elf\n-\t\t;;\n-\tcrds | unos)\n-\t\tbasic_machine=m68k-crds\n-\t\t;;\n-\tcrisv32 | crisv32-* | etraxfs*)\n-\t\tbasic_machine=crisv32-axis\n-\t\t;;\n-\tcris | cris-* | etrax*)\n-\t\tbasic_machine=cris-axis\n-\t\t;;\n-\tcrx)\n-\t\tbasic_machine=crx-unknown\n-\t\tos=-elf\n-\t\t;;\n-\tda30 | da30-*)\n-\t\tbasic_machine=m68k-da30\n-\t\t;;\n-\tdecstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)\n-\t\tbasic_machine=mips-dec\n+\tbluegene*)\n+\t\tcpu=powerpc\n+\t\tvendor=ibm\n+\t\tbasic_os=cnk\n@@ -540,2 +733,3 @@\n-\t\tbasic_machine=pdp10-dec\n-\t\tos=-tops10\n+\t\tcpu=pdp10\n+\t\tvendor=dec\n+\t\tbasic_os=tops10\n@@ -544,2 +738,3 @@\n-\t\tbasic_machine=pdp10-dec\n-\t\tos=-tops20\n+\t\tcpu=pdp10\n+\t\tvendor=dec\n+\t\tbasic_os=tops20\n@@ -549,9 +744,2 @@\n-\t\tbasic_machine=m68k-motorola\n-\t\t;;\n-\tdelta88)\n-\t\tbasic_machine=m88k-motorola\n-\t\tos=-sysv3\n-\t\t;;\n-\tdjgpp)\n-\t\tbasic_machine=i586-pc\n-\t\tos=-msdosdjgpp\n+\t\tcpu=m68k\n+\t\tvendor=motorola\n@@ -559,15 +747,4 @@\n-\tdpx20 | dpx20-*)\n-\t\tbasic_machine=rs6000-bull\n-\t\tos=-bosx\n-\t\t;;\n-\tdpx2* | dpx2*-bull)\n-\t\tbasic_machine=m68k-bull\n-\t\tos=-sysv3\n-\t\t;;\n-\tebmon29k)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-ebmon\n-\t\t;;\n-\telxsi)\n-\t\tbasic_machine=elxsi-elxsi\n-\t\tos=-bsd\n+\tdpx2*)\n+\t\tcpu=m68k\n+\t\tvendor=bull\n+\t\tbasic_os=sysv3\n@@ -576,1 +753,2 @@\n-\t\tbasic_machine=ns32k-encore\n+\t\tcpu=ns32k\n+\t\tvendor=encore\n@@ -578,3 +756,4 @@\n-\tes1800 | OSE68k | ose68k | ose | OSE)\n-\t\tbasic_machine=m68k-ericsson\n-\t\tos=-ose\n+\telxsi)\n+\t\tcpu=elxsi\n+\t\tvendor=elxsi\n+\t\tbasic_os=${basic_os:-bsd}\n@@ -583,1 +762,2 @@\n-\t\tbasic_machine=i860-alliant\n+\t\tcpu=i860\n+\t\tvendor=alliant\n@@ -586,9 +766,2 @@\n-\t\tbasic_machine=ns32k-ns\n-\t\t;;\n-\tgmicro)\n-\t\tbasic_machine=tron-gmicro\n-\t\tos=-sysv\n-\t\t;;\n-\tgo32)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-go32\n+\t\tcpu=ns32k\n+\t\tvendor=ns\n@@ -597,29 +770,3 @@\n-\t\tbasic_machine=hppa1.1-hitachi\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\th8300hms)\n-\t\tbasic_machine=h8300-hitachi\n-\t\tos=-hms\n-\t\t;;\n-\th8300xray)\n-\t\tbasic_machine=h8300-hitachi\n-\t\tos=-xray\n-\t\t;;\n-\th8500hms)\n-\t\tbasic_machine=h8500-hitachi\n-\t\tos=-hms\n-\t\t;;\n-\tharris)\n-\t\tbasic_machine=m88k-harris\n-\t\tos=-sysv3\n-\t\t;;\n-\thp300-*)\n-\t\tbasic_machine=m68k-hp\n-\t\t;;\n-\thp300bsd)\n-\t\tbasic_machine=m68k-hp\n-\t\tos=-bsd\n-\t\t;;\n-\thp300hpux)\n-\t\tbasic_machine=m68k-hp\n-\t\tos=-hpux\n+\t\tcpu=hppa1.1\n+\t\tvendor=hitachi\n+\t\tbasic_os=hiuxwe2\n@@ -628,1 +775,2 @@\n-\t\tbasic_machine=hppa1.0-hp\n+\t\tcpu=hppa1.0\n+\t\tvendor=hp\n@@ -631,1 +779,2 @@\n-\t\tbasic_machine=m68000-hp\n+\t\tcpu=m68000\n+\t\tvendor=hp\n@@ -634,1 +783,2 @@\n-\t\tbasic_machine=m68k-hp\n+\t\tcpu=m68k\n+\t\tvendor=hp\n@@ -637,1 +787,2 @@\n-\t\tbasic_machine=hppa1.0-hp\n+\t\tcpu=hppa1.0\n+\t\tvendor=hp\n@@ -640,1 +791,2 @@\n-\t\tbasic_machine=hppa1.1-hp\n+\t\tcpu=hppa1.1\n+\t\tvendor=hp\n@@ -644,1 +796,2 @@\n-\t\tbasic_machine=hppa1.1-hp\n+\t\tcpu=hppa1.1\n+\t\tvendor=hp\n@@ -648,1 +801,2 @@\n-\t\tbasic_machine=hppa1.1-hp\n+\t\tcpu=hppa1.1\n+\t\tvendor=hp\n@@ -651,1 +805,2 @@\n-\t\tbasic_machine=hppa1.1-hp\n+\t\tcpu=hppa1.1\n+\t\tvendor=hp\n@@ -654,8 +809,2 @@\n-\t\tbasic_machine=hppa1.0-hp\n-\t\t;;\n-\thppa-next)\n-\t\tos=-nextstep3\n-\t\t;;\n-\thppaosf)\n-\t\tbasic_machine=hppa1.1-hp\n-\t\tos=-osf\n+\t\tcpu=hppa1.0\n+\t\tvendor=hp\n@@ -663,8 +812,0 @@\n-\thppro)\n-\t\tbasic_machine=hppa1.1-hp\n-\t\tos=-proelf\n-\t\t;;\n-\ti370-ibm* | ibm*)\n-\t\tbasic_machine=i370-ibm\n-\t\t;;\n-# I'm not sure what \"Sysv32\" means.  Should this be sysv3.2?\n@@ -672,2 +813,3 @@\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86.*\/86-pc\/'`\n-\t\tos=-sysv32\n+\t\tcpu=`echo \"$1\" | sed -e 's\/86.*\/86\/'`\n+\t\tvendor=pc\n+\t\tbasic_os=sysv32\n@@ -676,2 +818,3 @@\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86.*\/86-pc\/'`\n-\t\tos=-sysv4\n+\t\tcpu=`echo \"$1\" | sed -e 's\/86.*\/86\/'`\n+\t\tvendor=pc\n+\t\tbasic_os=sysv4\n@@ -680,2 +823,3 @@\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86.*\/86-pc\/'`\n-\t\tos=-sysv\n+\t\tcpu=`echo \"$1\" | sed -e 's\/86.*\/86\/'`\n+\t\tvendor=pc\n+\t\tbasic_os=sysv\n@@ -684,6 +828,3 @@\n-\t\tbasic_machine=`echo $1 | sed -e 's\/86.*\/86-pc\/'`\n-\t\tos=-solaris2\n-\t\t;;\n-\ti386mach)\n-\t\tbasic_machine=i386-mach\n-\t\tos=-mach\n+\t\tcpu=`echo \"$1\" | sed -e 's\/86.*\/86\/'`\n+\t\tvendor=pc\n+\t\tbasic_os=solaris2\n@@ -691,3 +832,4 @@\n-\ti386-vsta | vsta)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-vsta\n+\tj90 | j90-cray)\n+\t\tcpu=j90\n+\t\tvendor=cray\n+\t\tbasic_os=${basic_os:-unicos}\n@@ -696,3 +838,4 @@\n-\t\tbasic_machine=mips-sgi\n-\t\tcase $os in\n-\t\t    -irix*)\n+\t\tcpu=mips\n+\t\tvendor=sgi\n+\t\tcase $basic_os in\n+\t\t    irix*)\n@@ -701,1 +844,1 @@\n-\t\t\tos=-irix4\n+\t\t\tbasic_os=irix4\n@@ -705,31 +848,0 @@\n-\tisi68 | isi)\n-\t\tbasic_machine=m68k-isi\n-\t\tos=-sysv\n-\t\t;;\n-\tm68knommu)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tm68knommu-*)\n-\t\tbasic_machine=m68k-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\tos=-linux\n-\t\t;;\n-\tm88k-omron*)\n-\t\tbasic_machine=m88k-omron\n-\t\t;;\n-\tmagnum | m3230)\n-\t\tbasic_machine=mips-mips\n-\t\tos=-sysv\n-\t\t;;\n-\tmerlin)\n-\t\tbasic_machine=ns32k-utek\n-\t\tos=-sysv\n-\t\t;;\n-\tmingw32)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-mingw32\n-\t\t;;\n-\tmingw32ce)\n-\t\tbasic_machine=arm-unknown\n-\t\tos=-mingw32ce\n-\t\t;;\n@@ -737,26 +849,2 @@\n-\t\tbasic_machine=m68000-convergent\n-\t\t;;\n-\t*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)\n-\t\tbasic_machine=m68k-atari\n-\t\tos=-mint\n-\t\t;;\n-\tmips3*-*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's\/mips3\/mips64\/'`\n-\t\t;;\n-\tmips3*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's\/mips3\/mips64\/'`-unknown\n-\t\t;;\n-\tmonitor)\n-\t\tbasic_machine=m68k-rom68k\n-\t\tos=-coff\n-\t\t;;\n-\tmorphos)\n-\t\tbasic_machine=powerpc-unknown\n-\t\tos=-morphos\n-\t\t;;\n-\tmsdos)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-msdos\n-\t\t;;\n-\tms1-*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's\/ms1-\/mt-\/'`\n+\t\tcpu=m68000\n+\t\tvendor=convergent\n@@ -764,23 +852,4 @@\n-\tmvs)\n-\t\tbasic_machine=i370-ibm\n-\t\tos=-mvs\n-\t\t;;\n-\tncr3000)\n-\t\tbasic_machine=i486-ncr\n-\t\tos=-sysv4\n-\t\t;;\n-\tnetbsd386)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-netbsd\n-\t\t;;\n-\tnetwinder)\n-\t\tbasic_machine=armv4l-rebel\n-\t\tos=-linux\n-\t\t;;\n-\tnews | news700 | news800 | news900)\n-\t\tbasic_machine=m68k-sony\n-\t\tos=-newsos\n-\t\t;;\n-\tnews1000)\n-\t\tbasic_machine=m68030-sony\n-\t\tos=-newsos\n+\t*mint | mint[0-9]* | *MiNT | *MiNT[0-9]*)\n+\t\tcpu=m68k\n+\t\tvendor=atari\n+\t\tbasic_os=mint\n@@ -789,11 +858,11 @@\n-\t\tbasic_machine=mips-sony\n-\t\tos=-newsos\n-\t\t;;\n-\tnecv70)\n-\t\tbasic_machine=v70-nec\n-\t\tos=-sysv\n-\t\t;;\n-\tnext | m*-next )\n-\t\tbasic_machine=m68k-next\n-\t\tcase $os in\n-\t\t    -nextstep* )\n+\t\tcpu=mips\n+\t\tvendor=sony\n+\t\tbasic_os=newsos\n+\t\t;;\n+\tnext | m*-next)\n+\t\tcpu=m68k\n+\t\tvendor=next\n+\t\tcase $basic_os in\n+\t\t    openstep*)\n+\t\t        ;;\n+\t\t    nextstep*)\n@@ -801,2 +870,2 @@\n-\t\t    -ns2*)\n-\t\t      os=-nextstep2\n+\t\t    ns2*)\n+\t\t      basic_os=nextstep2\n@@ -805,1 +874,1 @@\n-\t\t      os=-nextstep3\n+\t\t      basic_os=nextstep3\n@@ -809,20 +878,0 @@\n-\tnh3000)\n-\t\tbasic_machine=m68k-harris\n-\t\tos=-cxux\n-\t\t;;\n-\tnh[45]000)\n-\t\tbasic_machine=m88k-harris\n-\t\tos=-cxux\n-\t\t;;\n-\tnindy960)\n-\t\tbasic_machine=i960-intel\n-\t\tos=-nindy\n-\t\t;;\n-\tmon960)\n-\t\tbasic_machine=i960-intel\n-\t\tos=-mon960\n-\t\t;;\n-\tnonstopux)\n-\t\tbasic_machine=mips-compaq\n-\t\tos=-nonstopux\n-\t\t;;\n@@ -830,4 +879,2 @@\n-\t\tbasic_machine=np1-gould\n-\t\t;;\n-\tnsr-tandem)\n-\t\tbasic_machine=nsr-tandem\n+\t\tcpu=np1\n+\t\tvendor=gould\n@@ -836,17 +883,3 @@\n-\t\tbasic_machine=hppa1.1-oki\n-\t\tos=-proelf\n-\t\t;;\n-\topenrisc | openrisc-*)\n-\t\tbasic_machine=or32-unknown\n-\t\t;;\n-\tos400)\n-\t\tbasic_machine=powerpc-ibm\n-\t\tos=-os400\n-\t\t;;\n-\tOSE68000 | ose68000)\n-\t\tbasic_machine=m68000-ericsson\n-\t\tos=-ose\n-\t\t;;\n-\tos68k)\n-\t\tbasic_machine=m68k-none\n-\t\tos=-os68k\n+\t\tcpu=hppa1.1\n+\t\tvendor=oki\n+\t\tbasic_os=proelf\n@@ -855,14 +888,3 @@\n-\t\tbasic_machine=hppa1.1-hitachi\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\tparagon)\n-\t\tbasic_machine=i860-intel\n-\t\tos=-osf\n-\t\t;;\n-\tparisc)\n-\t\tbasic_machine=hppa-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tparisc-*)\n-\t\tbasic_machine=hppa-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\tos=-linux\n+\t\tcpu=hppa1.1\n+\t\tvendor=hitachi\n+\t\tbasic_os=hiuxwe2\n@@ -871,1 +893,2 @@\n-\t\tbasic_machine=sparc-tti\n+\t\tcpu=sparc\n+\t\tvendor=tti\n@@ -874,7 +897,2 @@\n-\t\tbasic_machine=m68k-tti\n-\t\t;;\n-\tpc532 | pc532-*)\n-\t\tbasic_machine=ns32k-pc532\n-\t\t;;\n-\tpc98)\n-\t\tbasic_machine=i386-pc\n+\t\tcpu=m68k\n+\t\tvendor=tti\n@@ -882,26 +900,3 @@\n-\tpc98-*)\n-\t\tbasic_machine=i386-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tpentium | p5 | k5 | k6 | nexgen | viac3)\n-\t\tbasic_machine=i586-pc\n-\t\t;;\n-\tpentiumpro | p6 | 6x86 | athlon | athlon_*)\n-\t\tbasic_machine=i686-pc\n-\t\t;;\n-\tpentiumii | pentium2 | pentiumiii | pentium3)\n-\t\tbasic_machine=i686-pc\n-\t\t;;\n-\tpentium4)\n-\t\tbasic_machine=i786-pc\n-\t\t;;\n-\tpentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)\n-\t\tbasic_machine=i586-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tpentiumpro-* | p6-* | 6x86-* | athlon-*)\n-\t\tbasic_machine=i686-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tpentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)\n-\t\tbasic_machine=i686-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tpentium4-*)\n-\t\tbasic_machine=i786-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n+\tpc532)\n+\t\tcpu=ns32k\n+\t\tvendor=pc532\n@@ -910,3 +905,2 @@\n-\t\tbasic_machine=pn-gould\n-\t\t;;\n-\tpower)\tbasic_machine=power-ibm\n+\t\tcpu=pn\n+\t\tvendor=gould\n@@ -914,19 +908,3 @@\n-\tppc)\tbasic_machine=powerpc-unknown\n-\t\t;;\n-\tppc-*)\tbasic_machine=powerpc-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tppcle | powerpclittle | ppc-le | powerpc-little)\n-\t\tbasic_machine=powerpcle-unknown\n-\t\t;;\n-\tppcle-* | powerpclittle-*)\n-\t\tbasic_machine=powerpcle-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tppc64)\tbasic_machine=powerpc64-unknown\n-\t\t;;\n-\tppc64-*) basic_machine=powerpc64-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n-\t\t;;\n-\tppc64le | powerpc64little | ppc64-le | powerpc64-little)\n-\t\tbasic_machine=powerpc64le-unknown\n-\t\t;;\n-\tppc64le-* | powerpc64little-*)\n-\t\tbasic_machine=powerpc64le-`echo $basic_machine | sed 's\/^[^-]*-\/\/'`\n+\tpower)\n+\t\tcpu=power\n+\t\tvendor=ibm\n@@ -935,13 +913,2 @@\n-\t\tbasic_machine=i386-ibm\n-\t\t;;\n-\tpw32)\n-\t\tbasic_machine=i586-unknown\n-\t\tos=-pw32\n-\t\t;;\n-\trdos)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-rdos\n-\t\t;;\n-\trom68k)\n-\t\tbasic_machine=m68k-rom68k\n-\t\tos=-coff\n+\t\tcpu=i386\n+\t\tvendor=ibm\n@@ -950,1 +917,2 @@\n-\t\tbasic_machine=mips-siemens\n+\t\tcpu=mips\n+\t\tvendor=siemens\n@@ -953,4 +921,2 @@\n-\t\tbasic_machine=romp-ibm\n-\t\t;;\n-\ts390 | s390-*)\n-\t\tbasic_machine=s390-ibm\n+\t\tcpu=romp\n+\t\tvendor=ibm\n@@ -958,6 +924,4 @@\n-\ts390x | s390x-*)\n-\t\tbasic_machine=s390x-ibm\n-\t\t;;\n-\tsa29200)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n+\tsde)\n+\t\tcpu=mipsisa32\n+\t\tvendor=sde\n+\t\tbasic_os=${basic_os:-elf}\n@@ -965,2 +929,4 @@\n-\tsb1)\n-\t\tbasic_machine=mipsisa64sb1-unknown\n+\tsimso-wrs)\n+\t\tcpu=sparclite\n+\t\tvendor=wrs\n+\t\tbasic_os=vxworks\n@@ -968,2 +934,3 @@\n-\tsb1el)\n-\t\tbasic_machine=mipsisa64sb1el-unknown\n+\ttower | tower-32)\n+\t\tcpu=m68k\n+\t\tvendor=ncr\n@@ -971,3 +938,3 @@\n-\tsde)\n-\t\tbasic_machine=mipsisa32-sde\n-\t\tos=-elf\n+\tvpp*|vx|vx-*)\n+\t\tcpu=f301\n+\t\tvendor=fujitsu\n@@ -975,3 +942,3 @@\n-\tsei)\n-\t\tbasic_machine=mips-sei\n-\t\tos=-seiux\n+\tw65)\n+\t\tcpu=w65\n+\t\tvendor=wdc\n@@ -979,2 +946,4 @@\n-\tsequent)\n-\t\tbasic_machine=i386-sequent\n+\tw89k-*)\n+\t\tcpu=hppa1.1\n+\t\tvendor=winbond\n+\t\tbasic_os=proelf\n@@ -982,3 +951,3 @@\n-\tsh)\n-\t\tbasic_machine=sh-hitachi\n-\t\tos=-hms\n+\tnone)\n+\t\tcpu=none\n+\t\tvendor=none\n@@ -986,2 +955,3 @@\n-\tsh5el)\n-\t\tbasic_machine=sh5le-unknown\n+\tleon|leon[3-9])\n+\t\tcpu=sparc\n+\t\tvendor=$basic_machine\n@@ -989,2 +959,3 @@\n-\tsh64)\n-\t\tbasic_machine=sh64-unknown\n+\tleon-*|leon[3-9]-*)\n+\t\tcpu=sparc\n+\t\tvendor=`echo \"$basic_machine\" | sed 's\/-.*\/\/'`\n@@ -992,3 +963,8 @@\n-\tsparclite-wrs | simso-wrs)\n-\t\tbasic_machine=sparclite-wrs\n-\t\tos=-vxworks\n+\n+\t*-*)\n+\t\t# shellcheck disable=SC2162\n+\t\tsaved_IFS=$IFS\n+\t\tIFS=\"-\" read cpu vendor <<EOF\n+$basic_machine\n+EOF\n+\t\tIFS=$saved_IFS\n@@ -996,3 +972,6 @@\n-\tsps7)\n-\t\tbasic_machine=m68k-bull\n-\t\tos=-sysv2\n+\t# We use `pc' rather than `unknown'\n+\t# because (1) that's what they normally are, and\n+\t# (2) the word \"unknown\" tends to confuse beginning users.\n+\ti*86 | x86_64)\n+\t\tcpu=$basic_machine\n+\t\tvendor=pc\n@@ -1000,2 +979,5 @@\n-\tspur)\n-\t\tbasic_machine=spur-unknown\n+\t# These rules are duplicated from below for sake of the special case above;\n+\t# i.e. things that normalized to x86 arches should also default to \"pc\"\n+\tpc98)\n+\t\tcpu=i386\n+\t\tvendor=pc\n@@ -1003,2 +985,3 @@\n-\tst2000)\n-\t\tbasic_machine=m68k-tandem\n+\tx64 | amd64)\n+\t\tcpu=x86_64\n+\t\tvendor=pc\n@@ -1006,3 +989,4 @@\n-\tstratus)\n-\t\tbasic_machine=i860-stratus\n-\t\tos=-sysv4\n+\t# Recognize the basic CPU types without company name.\n+\t*)\n+\t\tcpu=$basic_machine\n+\t\tvendor=unknown\n@@ -1010,2 +994,11 @@\n-\tsun2)\n-\t\tbasic_machine=m68000-sun\n+esac\n+\n+unset -v basic_machine\n+\n+# Decode basic machines in the full and proper CPU-Company form.\n+case $cpu-$vendor in\n+\t# Here we handle the default manufacturer of certain CPU types in canonical form. It is in\n+\t# some cases the only manufacturer, in others, it is the most popular.\n+\tcraynv-unknown)\n+\t\tvendor=cray\n+\t\tbasic_os=${basic_os:-unicosmp}\n@@ -1013,3 +1006,3 @@\n-\tsun2os3)\n-\t\tbasic_machine=m68000-sun\n-\t\tos=-sunos3\n+\tc90-unknown | c90-cray)\n+\t\tvendor=cray\n+\t\tbasic_os=${Basic_os:-unicos}\n@@ -1017,3 +1010,2 @@\n-\tsun2os4)\n-\t\tbasic_machine=m68000-sun\n-\t\tos=-sunos4\n+\tfx80-unknown)\n+\t\tvendor=alliant\n@@ -1021,3 +1013,2 @@\n-\tsun3os3)\n-\t\tbasic_machine=m68k-sun\n-\t\tos=-sunos3\n+\tromp-unknown)\n+\t\tvendor=ibm\n@@ -1025,3 +1016,2 @@\n-\tsun3os4)\n-\t\tbasic_machine=m68k-sun\n-\t\tos=-sunos4\n+\tmmix-unknown)\n+\t\tvendor=knuth\n@@ -1029,3 +1019,2 @@\n-\tsun4os3)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-sunos3\n+\tmicroblaze-unknown | microblazeel-unknown)\n+\t\tvendor=xilinx\n@@ -1033,3 +1022,2 @@\n-\tsun4os4)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-sunos4\n+\trs6000-unknown)\n+\t\tvendor=ibm\n@@ -1037,3 +1025,2 @@\n-\tsun4sol2)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-solaris2\n+\tvax-unknown)\n+\t\tvendor=dec\n@@ -1041,2 +1028,2 @@\n-\tsun3 | sun3-*)\n-\t\tbasic_machine=m68k-sun\n+\tpdp11-unknown)\n+\t\tvendor=dec\n@@ -1044,2 +1031,2 @@\n-\tsun4)\n-\t\tbasic_machine=sparc-sun\n+\twe32k-unknown)\n+\t\tvendor=att\n@@ -1047,2 +1034,2 @@\n-\tsun386 | sun386i | roadrunner)\n-\t\tbasic_machine=i386-sun\n+\tcydra-unknown)\n+\t\tvendor=cydrome\n@@ -1050,3 +1037,2 @@\n-\tsv1)\n-\t\tbasic_machine=sv1-cray\n-\t\tos=-unicos\n+\ti370-ibm*)\n+\t\tvendor=ibm\n@@ -1054,3 +1040,2 @@\n-\tsymmetry)\n-\t\tbasic_machine=i386-sequent\n-\t\tos=-dynix\n+\torion-unknown)\n+\t\tvendor=highlevel\n@@ -1058,3 +1043,3 @@\n-\tt3e)\n-\t\tbasic_machine=alphaev5-cray\n-\t\tos=-unicos\n+\txps-unknown | xps100-unknown)\n+\t\tcpu=xps100\n+\t\tvendor=honeywell\n@@ -1062,3 +1047,6 @@\n-\tt90)\n-\t\tbasic_machine=t90-cray\n-\t\tos=-unicos\n+\n+\t# Here we normalize CPU types with a missing or matching vendor\n+\tarmh-unknown | armh-alt)\n+\t\tcpu=armv7l\n+\t\tvendor=alt\n+\t\tbasic_os=${basic_os:-linux-gnueabihf}\n@@ -1066,3 +1054,4 @@\n-\ttic54x | c54x*)\n-\t\tbasic_machine=tic54x-unknown\n-\t\tos=-coff\n+\tdpx20-unknown | dpx20-bull)\n+\t\tcpu=rs6000\n+\t\tvendor=bull\n+\t\tbasic_os=${basic_os:-bosx}\n@@ -1070,3 +1059,4 @@\n-\ttic55x | c55x*)\n-\t\tbasic_machine=tic55x-unknown\n-\t\tos=-coff\n+\n+\t# Here we normalize CPU types irrespective of the vendor\n+\tamd64-*)\n+\t\tcpu=x86_64\n@@ -1074,3 +1064,3 @@\n-\ttic6x | c6x*)\n-\t\tbasic_machine=tic6x-unknown\n-\t\tos=-coff\n+\tblackfin-*)\n+\t\tcpu=bfin\n+\t\tbasic_os=linux\n@@ -1078,3 +1068,2 @@\n-\ttile*)\n-\t\tbasic_machine=tile-unknown\n-\t\tos=-linux-gnu\n+\tc54x-*)\n+\t\tcpu=tic54x\n@@ -1082,2 +1071,2 @@\n-\ttx39)\n-\t\tbasic_machine=mipstx39-unknown\n+\tc55x-*)\n+\t\tcpu=tic55x\n@@ -1085,2 +1074,2 @@\n-\ttx39el)\n-\t\tbasic_machine=mipstx39el-unknown\n+\tc6x-*)\n+\t\tcpu=tic6x\n@@ -1088,3 +1077,3 @@\n-\ttoad1)\n-\t\tbasic_machine=pdp10-xkl\n-\t\tos=-tops20\n+\te500v[12]-*)\n+\t\tcpu=powerpc\n+\t\tbasic_os=${basic_os}\"spe\"\n@@ -1092,2 +1081,2 @@\n-\ttower | tower-32)\n-\t\tbasic_machine=m68k-ncr\n+\tmips3*-*)\n+\t\tcpu=mips64\n@@ -1095,3 +1084,2 @@\n-\ttpf)\n-\t\tbasic_machine=s390x-ibm\n-\t\tos=-tpf\n+\tms1-*)\n+\t\tcpu=mt\n@@ -1099,3 +1087,3 @@\n-\tudi29k)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n+\tm68knommu-*)\n+\t\tcpu=m68k\n+\t\tbasic_os=linux\n@@ -1103,3 +1091,2 @@\n-\tultra3)\n-\t\tbasic_machine=a29k-nyu\n-\t\tos=-sym1\n+\tm9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)\n+\t\tcpu=s12z\n@@ -1107,3 +1094,2 @@\n-\tv810 | necv810)\n-\t\tbasic_machine=v810-nec\n-\t\tos=-none\n+\topenrisc-*)\n+\t\tcpu=or32\n@@ -1111,3 +1097,3 @@\n-\tvaxv)\n-\t\tbasic_machine=vax-dec\n-\t\tos=-sysv\n+\tparisc-*)\n+\t\tcpu=hppa\n+\t\tbasic_os=linux\n@@ -1115,3 +1101,2 @@\n-\tvms)\n-\t\tbasic_machine=vax-dec\n-\t\tos=-vms\n+\tpentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)\n+\t\tcpu=i586\n@@ -1119,2 +1104,2 @@\n-\tvpp*|vx|vx-*)\n-\t\tbasic_machine=f301-fujitsu\n+\tpentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)\n+\t\tcpu=i686\n@@ -1122,3 +1107,2 @@\n-\tvxworks960)\n-\t\tbasic_machine=i960-wrs\n-\t\tos=-vxworks\n+\tpentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)\n+\t\tcpu=i686\n@@ -1126,3 +1110,2 @@\n-\tvxworks68)\n-\t\tbasic_machine=m68k-wrs\n-\t\tos=-vxworks\n+\tpentium4-*)\n+\t\tcpu=i786\n@@ -1130,3 +1113,2 @@\n-\tvxworks29k)\n-\t\tbasic_machine=a29k-wrs\n-\t\tos=-vxworks\n+\tpc98-*)\n+\t\tcpu=i386\n@@ -1134,3 +1116,2 @@\n-\tw65*)\n-\t\tbasic_machine=w65-wdc\n-\t\tos=-none\n+\tppc-* | ppcbe-*)\n+\t\tcpu=powerpc\n@@ -1138,3 +1119,2 @@\n-\tw89k-*)\n-\t\tbasic_machine=hppa1.1-winbond\n-\t\tos=-proelf\n+\tppcle-* | powerpclittle-*)\n+\t\tcpu=powerpcle\n@@ -1142,3 +1122,2 @@\n-\txbox)\n-\t\tbasic_machine=i686-pc\n-\t\tos=-mingw32\n+\tppc64-*)\n+\t\tcpu=powerpc64\n@@ -1146,2 +1125,2 @@\n-\txps | xps100)\n-\t\tbasic_machine=xps100-honeywell\n+\tppc64le-* | powerpc64little-*)\n+\t\tcpu=powerpc64le\n@@ -1149,3 +1128,2 @@\n-\tymp)\n-\t\tbasic_machine=ymp-cray\n-\t\tos=-unicos\n+\tsb1-*)\n+\t\tcpu=mipsisa64sb1\n@@ -1153,3 +1131,2 @@\n-\tz8k-*-coff)\n-\t\tbasic_machine=z8k-unknown\n-\t\tos=-sim\n+\tsb1el-*)\n+\t\tcpu=mipsisa64sb1el\n@@ -1157,3 +1134,2 @@\n-\tnone)\n-\t\tbasic_machine=none-none\n-\t\tos=-none\n+\tsh5e[lb]-*)\n+\t\tcpu=`echo \"$cpu\" | sed 's\/^\\(sh.\\)e\\(.\\)$\/\\1\\2e\/'`\n@@ -1161,5 +1137,2 @@\n-\n-# Here we handle the default manufacturer of certain CPU types.  It is in\n-# some cases the only manufacturer, in others, it is the most popular.\n-\tw89k)\n-\t\tbasic_machine=hppa1.1-winbond\n+\tspur-*)\n+\t\tcpu=spur\n@@ -1167,2 +1140,2 @@\n-\top50n)\n-\t\tbasic_machine=hppa1.1-oki\n+\tstrongarm-* | thumb-*)\n+\t\tcpu=arm\n@@ -1170,2 +1143,2 @@\n-\top60c)\n-\t\tbasic_machine=hppa1.1-oki\n+\ttx39-*)\n+\t\tcpu=mipstx39\n@@ -1173,2 +1146,2 @@\n-\tromp)\n-\t\tbasic_machine=romp-ibm\n+\ttx39el-*)\n+\t\tcpu=mipstx39el\n@@ -1176,2 +1149,2 @@\n-\tmmix)\n-\t\tbasic_machine=mmix-knuth\n+\tx64-*)\n+\t\tcpu=x86_64\n@@ -1179,2 +1152,2 @@\n-\trs6000)\n-\t\tbasic_machine=rs6000-ibm\n+\txscale-* | xscalee[bl]-*)\n+\t\tcpu=`echo \"$cpu\" | sed 's\/^xscale\/arm\/'`\n@@ -1182,2 +1155,2 @@\n-\tvax)\n-\t\tbasic_machine=vax-dec\n+\tarm64-* | aarch64le-*)\n+\t\tcpu=aarch64\n@@ -1185,3 +1158,5 @@\n-\tpdp10)\n-\t\t# there are many clones, so DEC is not a safe bet\n-\t\tbasic_machine=pdp10-unknown\n+\n+\t# Recognize the canonical CPU Types that limit and\/or modify the\n+\t# company names they are paired with.\n+\tcr16-*)\n+\t\tbasic_os=${basic_os:-elf}\n@@ -1189,2 +1164,3 @@\n-\tpdp11)\n-\t\tbasic_machine=pdp11-dec\n+\tcrisv32-* | etraxfs*-*)\n+\t\tcpu=crisv32\n+\t\tvendor=axis\n@@ -1192,2 +1168,3 @@\n-\twe32k)\n-\t\tbasic_machine=we32k-att\n+\tcris-* | etrax*-*)\n+\t\tcpu=cris\n+\t\tvendor=axis\n@@ -1195,2 +1172,2 @@\n-\tsh[1234] | sh[24]a | sh[34]eb | sh[1234]le | sh[23]ele)\n-\t\tbasic_machine=sh-unknown\n+\tcrx-*)\n+\t\tbasic_os=${basic_os:-elf}\n@@ -1198,2 +1175,3 @@\n-\tsparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)\n-\t\tbasic_machine=sparc-sun\n+\tneo-tandem)\n+\t\tcpu=neo\n+\t\tvendor=tandem\n@@ -1201,2 +1179,3 @@\n-\tcydra)\n-\t\tbasic_machine=cydra-cydrome\n+\tnse-tandem)\n+\t\tcpu=nse\n+\t\tvendor=tandem\n@@ -1204,2 +1183,3 @@\n-\torion)\n-\t\tbasic_machine=orion-highlevel\n+\tnsr-tandem)\n+\t\tcpu=nsr\n+\t\tvendor=tandem\n@@ -1207,2 +1187,3 @@\n-\torion105)\n-\t\tbasic_machine=clipper-highlevel\n+\tnsv-tandem)\n+\t\tcpu=nsv\n+\t\tvendor=tandem\n@@ -1210,2 +1191,3 @@\n-\tmac | mpw | mac-mpw)\n-\t\tbasic_machine=m68k-apple\n+\tnsx-tandem)\n+\t\tcpu=nsx\n+\t\tvendor=tandem\n@@ -1213,2 +1195,3 @@\n-\tpmac | pmac-mpw)\n-\t\tbasic_machine=powerpc-apple\n+\tmipsallegrexel-sony)\n+\t\tcpu=mipsallegrexel\n+\t\tvendor=sony\n@@ -1216,2 +1199,2 @@\n-\t*-unknown)\n-\t\t# Make sure to match an already-canonicalized machine name.\n+\ttile*-*)\n+\t\tbasic_os=${basic_os:-linux-gnu}\n@@ -1219,0 +1202,1 @@\n+\n@@ -1220,2 +1204,114 @@\n-\t\techo Invalid configuration \\`$1\\': machine \\`$basic_machine\\' not recognized 1>&2\n-\t\texit 1\n+\t\t# Recognize the canonical CPU types that are allowed with any\n+\t\t# company name.\n+\t\tcase $cpu in\n+\t\t\t1750a | 580 \\\n+\t\t\t| a29k \\\n+\t\t\t| aarch64 | aarch64_be \\\n+\t\t\t| abacus \\\n+\t\t\t| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \\\n+\t\t\t| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \\\n+\t\t\t| alphapca5[67] | alpha64pca5[67] \\\n+\t\t\t| am33_2.0 \\\n+\t\t\t| amdgcn \\\n+\t\t\t| arc | arceb | arc32 | arc64 \\\n+\t\t\t| arm | arm[lb]e | arme[lb] | armv* \\\n+\t\t\t| avr | avr32 \\\n+\t\t\t| asmjs \\\n+\t\t\t| ba \\\n+\t\t\t| be32 | be64 \\\n+\t\t\t| bfin | bpf | bs2000 \\\n+\t\t\t| c[123]* | c30 | [cjt]90 | c4x \\\n+\t\t\t| c8051 | clipper | craynv | csky | cydra \\\n+\t\t\t| d10v | d30v | dlx | dsp16xx \\\n+\t\t\t| e2k | elxsi | epiphany \\\n+\t\t\t| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \\\n+\t\t\t| h8300 | h8500 \\\n+\t\t\t| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \\\n+\t\t\t| hexagon \\\n+\t\t\t| i370 | i*86 | i860 | i960 | ia16 | ia64 \\\n+\t\t\t| ip2k | iq2000 \\\n+\t\t\t| k1om \\\n+\t\t\t| le32 | le64 \\\n+\t\t\t| lm32 \\\n+\t\t\t| loongarch32 | loongarch64 \\\n+\t\t\t| m32c | m32r | m32rle \\\n+\t\t\t| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k \\\n+\t\t\t| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x \\\n+\t\t\t| m88110 | m88k | maxq | mb | mcore | mep | metag \\\n+\t\t\t| microblaze | microblazeel \\\n+\t\t\t| mips | mipsbe | mipseb | mipsel | mipsle \\\n+\t\t\t| mips16 \\\n+\t\t\t| mips64 | mips64eb | mips64el \\\n+\t\t\t| mips64octeon | mips64octeonel \\\n+\t\t\t| mips64orion | mips64orionel \\\n+\t\t\t| mips64r5900 | mips64r5900el \\\n+\t\t\t| mips64vr | mips64vrel \\\n+\t\t\t| mips64vr4100 | mips64vr4100el \\\n+\t\t\t| mips64vr4300 | mips64vr4300el \\\n+\t\t\t| mips64vr5000 | mips64vr5000el \\\n+\t\t\t| mips64vr5900 | mips64vr5900el \\\n+\t\t\t| mipsisa32 | mipsisa32el \\\n+\t\t\t| mipsisa32r2 | mipsisa32r2el \\\n+\t\t\t| mipsisa32r3 | mipsisa32r3el \\\n+\t\t\t| mipsisa32r5 | mipsisa32r5el \\\n+\t\t\t| mipsisa32r6 | mipsisa32r6el \\\n+\t\t\t| mipsisa64 | mipsisa64el \\\n+\t\t\t| mipsisa64r2 | mipsisa64r2el \\\n+\t\t\t| mipsisa64r3 | mipsisa64r3el \\\n+\t\t\t| mipsisa64r5 | mipsisa64r5el \\\n+\t\t\t| mipsisa64r6 | mipsisa64r6el \\\n+\t\t\t| mipsisa64sb1 | mipsisa64sb1el \\\n+\t\t\t| mipsisa64sr71k | mipsisa64sr71kel \\\n+\t\t\t| mipsr5900 | mipsr5900el \\\n+\t\t\t| mipstx39 | mipstx39el \\\n+\t\t\t| mmix \\\n+\t\t\t| mn10200 | mn10300 \\\n+\t\t\t| moxie \\\n+\t\t\t| mt \\\n+\t\t\t| msp430 \\\n+\t\t\t| nds32 | nds32le | nds32be \\\n+\t\t\t| nfp \\\n+\t\t\t| nios | nios2 | nios2eb | nios2el \\\n+\t\t\t| none | np1 | ns16k | ns32k | nvptx \\\n+\t\t\t| open8 \\\n+\t\t\t| or1k* \\\n+\t\t\t| or32 \\\n+\t\t\t| orion \\\n+\t\t\t| picochip \\\n+\t\t\t| pdp10 | pdp11 | pj | pjl | pn | power \\\n+\t\t\t| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \\\n+\t\t\t| pru \\\n+\t\t\t| pyramid \\\n+\t\t\t| riscv | riscv32 | riscv32be | riscv64 | riscv64be \\\n+\t\t\t| rl78 | romp | rs6000 | rx \\\n+\t\t\t| s390 | s390x \\\n+\t\t\t| score \\\n+\t\t\t| sh | shl \\\n+\t\t\t| sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \\\n+\t\t\t| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \\\n+\t\t\t| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \\\n+\t\t\t| sparclite \\\n+\t\t\t| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \\\n+\t\t\t| spu \\\n+\t\t\t| tahoe \\\n+\t\t\t| thumbv7* \\\n+\t\t\t| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \\\n+\t\t\t| tron \\\n+\t\t\t| ubicom32 \\\n+\t\t\t| v70 | v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \\\n+\t\t\t| vax \\\n+\t\t\t| visium \\\n+\t\t\t| w65 \\\n+\t\t\t| wasm32 | wasm64 \\\n+\t\t\t| we32k \\\n+\t\t\t| x86 | x86_64 | xc16x | xgate | xps100 \\\n+\t\t\t| xstormy16 | xtensa* \\\n+\t\t\t| ymp \\\n+\t\t\t| z8k | z80)\n+\t\t\t\t;;\n+\n+\t\t\t*)\n+\t\t\t\techo Invalid configuration \\`\"$1\"\\': machine \\`\"$cpu-$vendor\"\\' not recognized 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\tesac\n@@ -1226,3 +1322,3 @@\n-case $basic_machine in\n-\t*-digital*)\n-\t\tbasic_machine=`echo $basic_machine | sed 's\/digital.*\/dec\/'`\n+case $vendor in\n+\tdigital*)\n+\t\tvendor=dec\n@@ -1230,2 +1326,2 @@\n-\t*-commodore*)\n-\t\tbasic_machine=`echo $basic_machine | sed 's\/commodore.*\/cbm\/'`\n+\tcommodore*)\n+\t\tvendor=cbm\n@@ -1239,1 +1335,1 @@\n-if [ x\"$os\" != x\"\" ]\n+if test x$basic_os != x\n@@ -1241,0 +1337,45 @@\n+\n+# First recognize some ad-hoc cases, or perhaps split kernel-os, or else just\n+# set os.\n+case $basic_os in\n+\tgnu\/linux*)\n+\t\tkernel=linux\n+\t\tos=`echo \"$basic_os\" | sed -e 's|gnu\/linux|gnu|'`\n+\t\t;;\n+\tos2-emx)\n+\t\tkernel=os2\n+\t\tos=`echo \"$basic_os\" | sed -e 's|os2-emx|emx|'`\n+\t\t;;\n+\tnto-qnx*)\n+\t\tkernel=nto\n+\t\tos=`echo \"$basic_os\" | sed -e 's|nto-qnx|qnx|'`\n+\t\t;;\n+\t*-*)\n+\t\t# shellcheck disable=SC2162\n+\t\tsaved_IFS=$IFS\n+\t\tIFS=\"-\" read kernel os <<EOF\n+$basic_os\n+EOF\n+\t\tIFS=$saved_IFS\n+\t\t;;\n+\t# Default OS when just kernel was specified\n+\tnto*)\n+\t\tkernel=nto\n+\t\tos=`echo \"$basic_os\" | sed -e 's|nto|qnx|'`\n+\t\t;;\n+\tlinux*)\n+\t\tkernel=linux\n+\t\tos=`echo \"$basic_os\" | sed -e 's|linux|gnu|'`\n+\t\t;;\n+\tmanagarm*)\n+\t\tkernel=managarm\n+\t\tos=`echo \"$basic_os\" | sed -e 's|managarm|mlibc|'`\n+\t\t;;\n+\t*)\n+\t\tkernel=\n+\t\tos=$basic_os\n+\t\t;;\n+esac\n+\n+# Now, normalize the OS (knowing we just have one component, it's not a kernel,\n+# etc.)\n@@ -1242,5 +1383,5 @@\n-        # First match some system type aliases\n-        # that might get confused with valid system types.\n-\t# -solaris* is a basic system type, with this one exception.\n-\t-solaris1 | -solaris1.*)\n-\t\tos=`echo $os | sed -e 's|solaris1|sunos4|'`\n+\t# First match some system type aliases that might get confused\n+\t# with valid system types.\n+\t# solaris* is a basic system type, with this one exception.\n+\tauroraux)\n+\t\tos=auroraux\n@@ -1248,2 +1389,2 @@\n-\t-solaris)\n-\t\tos=-solaris2\n+\tbluegene*)\n+\t\tos=cnk\n@@ -1251,2 +1392,2 @@\n-\t-svr4*)\n-\t\tos=-sysv4\n+\tsolaris1 | solaris1.*)\n+\t\tos=`echo \"$os\" | sed -e 's|solaris1|sunos4|'`\n@@ -1254,2 +1395,2 @@\n-\t-unixware*)\n-\t\tos=-sysv4.2uw\n+\tsolaris)\n+\t\tos=solaris2\n@@ -1257,2 +1398,2 @@\n-\t-gnu\/linux*)\n-\t\tos=`echo $os | sed -e 's|gnu\/linux|linux-gnu|'`\n+\tunixware*)\n+\t\tos=sysv4.2uw\n@@ -1260,38 +1401,3 @@\n-\t# First accept the basic system types.\n-\t# The portable systems comes first.\n-\t# Each alternative MUST END IN A *, to match a version number.\n-\t# -sysv* is not here because it comes later, after sysvr4.\n-\t-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \\\n-\t      | -*vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]*\\\n-\t      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \\\n-\t      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \\\n-\t      | -aos* \\\n-\t      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \\\n-\t      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \\\n-\t      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \\\n-\t      | -openbsd* | -solidbsd* \\\n-\t      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \\\n-\t      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \\\n-\t      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \\\n-\t      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \\\n-\t      | -chorusos* | -chorusrdb* \\\n-\t      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \\\n-\t      | -mingw32* | -linux-gnu* | -linux-newlib* | -linux-uclibc* \\\n-\t      | -uxpv* | -beos* | -mpeix* | -udk* \\\n-\t      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \\\n-\t      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \\\n-\t      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \\\n-\t      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \\\n-\t      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \\\n-\t      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \\\n-\t      | -skyos* | -haiku* | -rdos* | -toppers* | -drops*)\n-\t# Remember, each alternative MUST END IN *, to match a version number.\n-\t\t;;\n-\t-qnx*)\n-\t\tcase $basic_machine in\n-\t\t    x86-* | i*86-*)\n-\t\t\t;;\n-\t\t    *)\n-\t\t\tos=-nto$os\n-\t\t\t;;\n-\t\tesac\n+\t# es1800 is here to avoid being matched by es* (a different OS)\n+\tes1800*)\n+\t\tos=ose\n@@ -1299,1 +1405,3 @@\n-\t-nto-qnx*)\n+\t# Some version numbers need modification\n+\tchorusos*)\n+\t\tos=chorusos\n@@ -1301,2 +1409,2 @@\n-\t-nto*)\n-\t\tos=`echo $os | sed -e 's|nto|nto-qnx|'`\n+\tisc)\n+\t\tos=isc2.2\n@@ -1304,3 +1412,2 @@\n-\t-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \\\n-\t      | -windows* | -osx | -abug | -netware* | -os9* | -beos* | -haiku* \\\n-\t      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)\n+\tsco6)\n+\t\tos=sco5v6\n@@ -1308,2 +1415,2 @@\n-\t-mac*)\n-\t\tos=`echo $os | sed -e 's|mac|macos|'`\n+\tsco5)\n+\t\tos=sco3.2v5\n@@ -1311,2 +1418,2 @@\n-\t-linux-dietlibc)\n-\t\tos=-linux-dietlibc\n+\tsco4)\n+\t\tos=sco3.2v4\n@@ -1314,2 +1421,2 @@\n-\t-linux*)\n-\t\tos=`echo $os | sed -e 's|linux|linux-gnu|'`\n+\tsco3.2.[4-9]*)\n+\t\tos=`echo \"$os\" | sed -e 's\/sco3.2.\/sco3.2v\/'`\n@@ -1317,2 +1424,2 @@\n-\t-sunos5*)\n-\t\tos=`echo $os | sed -e 's|sunos5|solaris2|'`\n+\tsco*v* | scout)\n+\t\t# Don't match below\n@@ -1320,2 +1427,2 @@\n-\t-sunos6*)\n-\t\tos=`echo $os | sed -e 's|sunos6|solaris3|'`\n+\tsco*)\n+\t\tos=sco3.2v2\n@@ -1323,2 +1430,2 @@\n-\t-opened*)\n-\t\tos=-openedition\n+\tpsos*)\n+\t\tos=psos\n@@ -1326,2 +1433,2 @@\n-        -os400*)\n-\t\tos=-os400\n+\tqnx*)\n+\t\tos=qnx\n@@ -1329,2 +1436,2 @@\n-\t-wince*)\n-\t\tos=-wince\n+\thiux*)\n+\t\tos=hiuxwe2\n@@ -1332,2 +1439,2 @@\n-\t-osfrose*)\n-\t\tos=-osfrose\n+\tlynx*178)\n+\t\tos=lynxos178\n@@ -1335,2 +1442,2 @@\n-\t-osf*)\n-\t\tos=-osf\n+\tlynx*5)\n+\t\tos=lynxos5\n@@ -1338,2 +1445,2 @@\n-\t-utek*)\n-\t\tos=-bsd\n+\tlynxos*)\n+\t\t# don't get caught up in next wildcard\n@@ -1341,2 +1448,2 @@\n-\t-dynix*)\n-\t\tos=-bsd\n+\tlynx*)\n+\t\tos=lynxos\n@@ -1344,2 +1451,2 @@\n-\t-acis*)\n-\t\tos=-aos\n+\tmac[0-9]*)\n+\t\tos=`echo \"$os\" | sed -e 's|mac|macos|'`\n@@ -1347,2 +1454,2 @@\n-\t-atheos*)\n-\t\tos=-atheos\n+\topened*)\n+\t\tos=openedition\n@@ -1350,2 +1457,2 @@\n-\t-syllable*)\n-\t\tos=-syllable\n+\tos400*)\n+\t\tos=os400\n@@ -1353,2 +1460,2 @@\n-\t-386bsd)\n-\t\tos=-bsd\n+\tsunos5*)\n+\t\tos=`echo \"$os\" | sed -e 's|sunos5|solaris2|'`\n@@ -1356,2 +1463,2 @@\n-\t-ctix* | -uts*)\n-\t\tos=-sysv\n+\tsunos6*)\n+\t\tos=`echo \"$os\" | sed -e 's|sunos6|solaris3|'`\n@@ -1359,2 +1466,2 @@\n-\t-nova*)\n-\t\tos=-rtmk-nova\n+\twince*)\n+\t\tos=wince\n@@ -1362,2 +1469,2 @@\n-\t-ns2 )\n-\t\tos=-nextstep2\n+\tutek*)\n+\t\tos=bsd\n@@ -1365,2 +1472,2 @@\n-\t-nsk*)\n-\t\tos=-nsk\n+\tdynix*)\n+\t\tos=bsd\n@@ -1368,3 +1475,2 @@\n-\t# Preserve the version number of sinix5.\n-\t-sinix5.*)\n-\t\tos=`echo $os | sed -e 's|sinix|sysv|'`\n+\tacis*)\n+\t\tos=aos\n@@ -1372,2 +1478,2 @@\n-\t-sinix*)\n-\t\tos=-sysv4\n+\tatheos*)\n+\t\tos=atheos\n@@ -1375,2 +1481,2 @@\n-        -tpf*)\n-\t\tos=-tpf\n+\tsyllable*)\n+\t\tos=syllable\n@@ -1378,2 +1484,8 @@\n-\t-triton*)\n-\t\tos=-sysv3\n+\t386bsd)\n+\t\tos=bsd\n+\t\t;;\n+\tctix* | uts*)\n+\t\tos=sysv\n+\t\t;;\n+\tnova*)\n+\t\tos=rtmk-nova\n@@ -1381,2 +1493,2 @@\n-\t-oss*)\n-\t\tos=-sysv3\n+\tns2)\n+\t\tos=nextstep2\n@@ -1384,2 +1496,3 @@\n-\t-svr4)\n-\t\tos=-sysv4\n+\t# Preserve the version number of sinix5.\n+\tsinix5.*)\n+\t\tos=`echo \"$os\" | sed -e 's|sinix|sysv|'`\n@@ -1387,2 +1500,2 @@\n-\t-svr3)\n-\t\tos=-sysv3\n+\tsinix*)\n+\t\tos=sysv4\n@@ -1390,2 +1503,2 @@\n-\t-sysvr4)\n-\t\tos=-sysv4\n+\ttpf*)\n+\t\tos=tpf\n@@ -1393,2 +1506,2 @@\n-\t# This must come after -sysvr4.\n-\t-sysv*)\n+\ttriton*)\n+\t\tos=sysv3\n@@ -1396,2 +1509,2 @@\n-\t-ose*)\n-\t\tos=-ose\n+\toss*)\n+\t\tos=sysv3\n@@ -1399,2 +1512,2 @@\n-\t-es1800*)\n-\t\tos=-ose\n+\tsvr4*)\n+\t\tos=sysv4\n@@ -1402,2 +1515,2 @@\n-\t-xenix)\n-\t\tos=-xenix\n+\tsvr3)\n+\t\tos=sysv3\n@@ -1405,2 +1518,2 @@\n-\t-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)\n-\t\tos=-mint\n+\tsysvr4)\n+\t\tos=sysv4\n@@ -1408,2 +1521,2 @@\n-\t-aros*)\n-\t\tos=-aros\n+\tose*)\n+\t\tos=ose\n@@ -1411,2 +1524,2 @@\n-\t-kaos*)\n-\t\tos=-kaos\n+\t*mint | mint[0-9]* | *MiNT | MiNT[0-9]*)\n+\t\tos=mint\n@@ -1414,2 +1527,2 @@\n-\t-zvmoe)\n-\t\tos=-zvmoe\n+\tdicos*)\n+\t\tos=dicos\n@@ -1417,1 +1530,12 @@\n-\t-none)\n+\tpikeos*)\n+\t\t# Until real need of OS specific support for\n+\t\t# particular features comes up, bare metal\n+\t\t# configurations are quite functional.\n+\t\tcase $cpu in\n+\t\t    arm*)\n+\t\t\tos=eabi\n+\t\t\t;;\n+\t\t    *)\n+\t\t\tos=elf\n+\t\t\t;;\n+\t\tesac\n@@ -1420,4 +1544,1 @@\n-\t\t# Get rid of the `-' at the beginning of $os.\n-\t\tos=`echo $os | sed 's\/[^-]*-\/\/'`\n-\t\techo Invalid configuration \\`$1\\': system \\`$os\\' not recognized 1>&2\n-\t\texit 1\n+\t\t# No normalization, but not necessarily accepted, that comes below.\n@@ -1426,0 +1547,1 @@\n+\n@@ -1438,3 +1560,4 @@\n-case $basic_machine in\n-        score-*)\n-\t\tos=-elf\n+kernel=\n+case $cpu-$vendor in\n+\tscore-*)\n+\t\tos=elf\n@@ -1442,2 +1565,2 @@\n-        spu-*)\n-\t\tos=-elf\n+\tspu-*)\n+\t\tos=elf\n@@ -1446,1 +1569,1 @@\n-\t\tos=-riscix1.2\n+\t\tos=riscix1.2\n@@ -1449,1 +1572,2 @@\n-\t\tos=-linux\n+\t\tkernel=linux\n+\t\tos=gnu\n@@ -1452,1 +1576,4 @@\n-\t\tos=-aout\n+\t\tos=aout\n+\t\t;;\n+\tc4x-* | tic4x-*)\n+\t\tos=coff\n@@ -1454,2 +1581,17 @@\n-        c4x-* | tic4x-*)\n-        \tos=-coff\n+\tc8051-*)\n+\t\tos=elf\n+\t\t;;\n+\tclipper-intergraph)\n+\t\tos=clix\n+\t\t;;\n+\thexagon-*)\n+\t\tos=elf\n+\t\t;;\n+\ttic54x-*)\n+\t\tos=coff\n+\t\t;;\n+\ttic55x-*)\n+\t\tos=coff\n+\t\t;;\n+\ttic6x-*)\n+\t\tos=coff\n@@ -1459,1 +1601,1 @@\n-\t\tos=-tops20\n+\t\tos=tops20\n@@ -1462,1 +1604,1 @@\n-\t\tos=-none\n+\t\tos=none\n@@ -1465,1 +1607,1 @@\n-\t\tos=-ultrix4.2\n+\t\tos=ultrix4.2\n@@ -1468,1 +1610,1 @@\n-\t\tos=-domain\n+\t\tos=domain\n@@ -1471,1 +1613,1 @@\n-\t\tos=-sunos4.0.2\n+\t\tos=sunos4.0.2\n@@ -1474,4 +1616,1 @@\n-\t\tos=-sunos3\n-\t\t# This also exists in the configure program, but was not the\n-\t\t# default.\n-\t\t# os=-sunos4\n+\t\tos=sunos3\n@@ -1480,1 +1619,1 @@\n-\t\tos=-aout\n+\t\tos=aout\n@@ -1482,2 +1621,2 @@\n-        mep-*)\n-\t\tos=-elf\n+\tmep-*)\n+\t\tos=elf\n@@ -1486,1 +1625,1 @@\n-\t\tos=-elf\n+\t\tos=elf\n@@ -1489,1 +1628,1 @@\n-\t\tos=-elf\n+\t\tos=elf\n@@ -1492,1 +1631,1 @@\n-\t\tos=-coff\n+\t\tos=coff\n@@ -1495,1 +1634,1 @@\n-\t\tos=-sysv3\n+\t\tos=sysv3\n@@ -1498,1 +1637,1 @@\n-\t\tos=-sunos4.1.1\n+\t\tos=sunos4.1.1\n@@ -1500,2 +1639,2 @@\n-\t*-be)\n-\t\tos=-beos\n+\tpru-*)\n+\t\tos=elf\n@@ -1503,2 +1642,2 @@\n-\t*-haiku)\n-\t\tos=-haiku\n+\t*-be)\n+\t\tos=beos\n@@ -1507,1 +1646,1 @@\n-\t\tos=-aix\n+\t\tos=aix\n@@ -1509,2 +1648,2 @@\n-    \t*-knuth)\n-\t\tos=-mmixware\n+\t*-knuth)\n+\t\tos=mmixware\n@@ -1513,1 +1652,1 @@\n-\t\tos=-proelf\n+\t\tos=proelf\n@@ -1516,1 +1655,1 @@\n-\t\tos=-proelf\n+\t\tos=proelf\n@@ -1519,1 +1658,1 @@\n-\t\tos=-proelf\n+\t\tos=proelf\n@@ -1522,1 +1661,1 @@\n-\t\tos=-hpux\n+\t\tos=hpux\n@@ -1525,1 +1664,1 @@\n-\t\tos=-hiux\n+\t\tos=hiux\n@@ -1528,1 +1667,1 @@\n-\t\tos=-sysv\n+\t\tos=sysv\n@@ -1531,1 +1670,1 @@\n-\t\tos=-amigaos\n+\t\tos=amigaos\n@@ -1534,1 +1673,1 @@\n-\t\tos=-dgux\n+\t\tos=dgux\n@@ -1537,1 +1676,1 @@\n-\t\tos=-sysv3\n+\t\tos=sysv3\n@@ -1540,1 +1679,1 @@\n-\t\tos=-rtu\n+\t\tos=rtu\n@@ -1543,1 +1682,1 @@\n-\t\tos=-luna\n+\t\tos=luna\n@@ -1545,2 +1684,2 @@\n-\t*-next )\n-\t\tos=-nextstep\n+\t*-next)\n+\t\tos=nextstep\n@@ -1549,1 +1688,1 @@\n-\t\tos=-ptx\n+\t\tos=ptx\n@@ -1552,1 +1691,1 @@\n-\t\tos=-unos\n+\t\tos=unos\n@@ -1555,1 +1694,1 @@\n-\t\tos=-genix\n+\t\tos=genix\n@@ -1558,4 +1697,1 @@\n-\t\tos=-mvs\n-\t\t;;\n-\t*-next)\n-\t\tos=-nextstep3\n+\t\tos=mvs\n@@ -1564,1 +1700,1 @@\n-\t\tos=-sysv\n+\t\tos=sysv\n@@ -1567,1 +1703,1 @@\n-\t\tos=-bsd\n+\t\tos=bsd\n@@ -1570,1 +1706,1 @@\n-\t\tos=-bsd\n+\t\tos=bsd\n@@ -1573,1 +1709,1 @@\n-\t\tos=-irix\n+\t\tos=irix\n@@ -1576,1 +1712,1 @@\n-\t\tos=-sysv4\n+\t\tos=sysv4\n@@ -1579,1 +1715,1 @@\n-\t\tos=-rtu\n+\t\tos=rtu\n@@ -1582,1 +1718,1 @@\n-\t\tos=-uxpv\n+\t\tos=uxpv\n@@ -1585,1 +1721,1 @@\n-\t\tos=-coff\n+\t\tos=coff\n@@ -1588,1 +1724,1 @@\n-\t\tos=-coff\n+\t\tos=coff\n@@ -1591,1 +1727,1 @@\n-\t\tos=-macos\n+\t\tos=macos\n@@ -1594,1 +1730,4 @@\n-\t\tos=-mint\n+\t\tos=mint\n+\t\t;;\n+\t*-wrs)\n+\t\tos=vxworks\n@@ -1597,1 +1736,1 @@\n-\t\tos=-none\n+\t\tos=none\n@@ -1600,0 +1739,1 @@\n+\n@@ -1602,0 +1742,105 @@\n+# Now, validate our (potentially fixed-up) OS.\n+case $os in\n+\t# Sometimes we do \"kernel-libc\", so those need to count as OSes.\n+\tmusl* | newlib* | relibc* | uclibc*)\n+\t\t;;\n+\t# Likewise for \"kernel-abi\"\n+\teabi* | gnueabi*)\n+\t\t;;\n+\t# VxWorks passes extra cpu info in the 4th filed.\n+\tsimlinux | simwindows | spe)\n+\t\t;;\n+\t# Now accept the basic system types.\n+\t# The portable systems comes first.\n+\t# Each alternative MUST end in a * to match a version number.\n+\tgnu* | android* | bsd* | mach* | minix* | genix* | ultrix* | irix* \\\n+\t     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]* \\\n+\t     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \\\n+\t     | sym* |  plan9* | psp* | sim* | xray* | os68k* | v88r* \\\n+\t     | hiux* | abug | nacl* | netware* | windows* \\\n+\t     | os9* | macos* | osx* | ios* \\\n+\t     | mpw* | magic* | mmixware* | mon960* | lnews* \\\n+\t     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \\\n+\t     | aos* | aros* | cloudabi* | sortix* | twizzler* \\\n+\t     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \\\n+\t     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \\\n+\t     | mirbsd* | netbsd* | dicos* | openedition* | ose* \\\n+\t     | bitrig* | openbsd* | secbsd* | solidbsd* | libertybsd* | os108* \\\n+\t     | ekkobsd* | freebsd* | riscix* | lynxos* | os400* \\\n+\t     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \\\n+\t     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \\\n+\t     | udi* | lites* | ieee* | go32* | aux* | hcos* \\\n+\t     | chorusrdb* | cegcc* | glidix* | serenity* \\\n+\t     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \\\n+\t     | midipix* | mingw32* | mingw64* | mint* \\\n+\t     | uxpv* | beos* | mpeix* | udk* | moxiebox* \\\n+\t     | interix* | uwin* | mks* | rhapsody* | darwin* \\\n+\t     | openstep* | oskit* | conix* | pw32* | nonstopux* \\\n+\t     | storm-chaos* | tops10* | tenex* | tops20* | its* \\\n+\t     | os2* | vos* | palmos* | uclinux* | nucleus* | morphos* \\\n+\t     | scout* | superux* | sysv* | rtmk* | tpf* | windiss* \\\n+\t     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \\\n+\t     | skyos* | haiku* | rdos* | toppers* | drops* | es* \\\n+\t     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \\\n+\t     | midnightbsd* | amdhsa* | unleashed* | emscripten* | wasi* \\\n+\t     | nsk* | powerunix* | genode* | zvmoe* | qnx* | emx* | zephyr* \\\n+\t     | fiwix* | mlibc* )\n+\t\t;;\n+\t# This one is extra strict with allowed versions\n+\tsco3.2v2 | sco3.2v[4-9]* | sco5v6*)\n+\t\t# Don't forget version if it is 3.2v4 or newer.\n+\t\t;;\n+\tnone)\n+\t\t;;\n+\tkernel* )\n+\t\t# Restricted further below\n+\t\t;;\n+\t*)\n+\t\techo Invalid configuration \\`\"$1\"\\': OS \\`\"$os\"\\' not recognized 1>&2\n+\t\texit 1\n+\t\t;;\n+esac\n+\n+# As a final step for OS-related things, validate the OS-kernel combination\n+# (given a valid OS), if there is a kernel.\n+case $kernel-$os in\n+\tlinux-gnu* | linux-dietlibc* | linux-android* | linux-newlib* \\\n+\t\t   | linux-musl* | linux-relibc* | linux-uclibc* )\n+\t\t;;\n+\tuclinux-uclibc* )\n+\t\t;;\n+\tmanagarm-mlibc* | managarm-kernel* )\n+\t\t;;\n+\t-dietlibc* | -newlib* | -musl* | -relibc* | -uclibc* | -mlibc* )\n+\t\t# These are just libc implementations, not actual OSes, and thus\n+\t\t# require a kernel.\n+\t\techo \"Invalid configuration \\`$1': libc \\`$os' needs explicit kernel.\" 1>&2\n+\t\texit 1\n+\t\t;;\n+\t-kernel* )\n+\t\techo \"Invalid configuration \\`$1': \\`$os' needs explicit kernel.\" 1>&2\n+\t\texit 1\n+\t\t;;\n+\t*-kernel* )\n+\t\techo \"Invalid configuration \\`$1': \\`$kernel' does not support \\`$os'.\" 1>&2\n+\t\texit 1\n+\t\t;;\n+\tkfreebsd*-gnu* | kopensolaris*-gnu*)\n+\t\t;;\n+\tvxworks-simlinux | vxworks-simwindows | vxworks-spe)\n+\t\t;;\n+\tnto-qnx*)\n+\t\t;;\n+\tos2-emx)\n+\t\t;;\n+\t*-eabi* | *-gnueabi*)\n+\t\t;;\n+\t-*)\n+\t\t# Blank kernel with real OS is always fine.\n+\t\t;;\n+\t*-*)\n+\t\techo \"Invalid configuration \\`$1': Kernel \\`$kernel' not known to work with OS \\`$os'.\" 1>&2\n+\t\texit 1\n+\t\t;;\n+esac\n+\n@@ -1604,5 +1849,4 @@\n-vendor=unknown\n-case $basic_machine in\n-\t*-unknown)\n-\t\tcase $os in\n-\t\t\t-riscix*)\n+case $vendor in\n+\tunknown)\n+\t\tcase $cpu-$os in\n+\t\t\t*-riscix*)\n@@ -1611,1 +1855,1 @@\n-\t\t\t-sunos*)\n+\t\t\t*-sunos*)\n@@ -1614,1 +1858,1 @@\n-\t\t\t-aix*)\n+\t\t\t*-cnk* | *-aix*)\n@@ -1617,1 +1861,1 @@\n-\t\t\t-beos*)\n+\t\t\t*-beos*)\n@@ -1620,1 +1864,1 @@\n-\t\t\t-hpux*)\n+\t\t\t*-hpux*)\n@@ -1623,1 +1867,1 @@\n-\t\t\t-mpeix*)\n+\t\t\t*-mpeix*)\n@@ -1626,1 +1870,1 @@\n-\t\t\t-hiux*)\n+\t\t\t*-hiux*)\n@@ -1629,1 +1873,1 @@\n-\t\t\t-unos*)\n+\t\t\t*-unos*)\n@@ -1632,1 +1876,1 @@\n-\t\t\t-dgux*)\n+\t\t\t*-dgux*)\n@@ -1635,1 +1879,1 @@\n-\t\t\t-luna*)\n+\t\t\t*-luna*)\n@@ -1638,1 +1882,1 @@\n-\t\t\t-genix*)\n+\t\t\t*-genix*)\n@@ -1641,1 +1885,7 @@\n-\t\t\t-mvs* | -opened*)\n+\t\t\t*-clix*)\n+\t\t\t\tvendor=intergraph\n+\t\t\t\t;;\n+\t\t\t*-mvs* | *-opened*)\n+\t\t\t\tvendor=ibm\n+\t\t\t\t;;\n+\t\t\t*-os400*)\n@@ -1644,1 +1894,1 @@\n-\t\t\t-os400*)\n+\t\t\ts390-* | s390x-*)\n@@ -1647,1 +1897,1 @@\n-\t\t\t-ptx*)\n+\t\t\t*-ptx*)\n@@ -1650,1 +1900,1 @@\n-\t\t\t-tpf*)\n+\t\t\t*-tpf*)\n@@ -1653,1 +1903,1 @@\n-\t\t\t-vxsim* | -vxworks* | -windiss*)\n+\t\t\t*-vxsim* | *-vxworks* | *-windiss*)\n@@ -1656,1 +1906,1 @@\n-\t\t\t-aux*)\n+\t\t\t*-aux*)\n@@ -1659,1 +1909,1 @@\n-\t\t\t-hms*)\n+\t\t\t*-hms*)\n@@ -1662,1 +1912,1 @@\n-\t\t\t-mpw* | -macos*)\n+\t\t\t*-mpw* | *-macos*)\n@@ -1665,1 +1915,1 @@\n-\t\t\t-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)\n+\t\t\t*-*mint | *-mint[0-9]* | *-*MiNT | *-MiNT[0-9]*)\n@@ -1668,1 +1918,1 @@\n-\t\t\t-vos*)\n+\t\t\t*-vos*)\n@@ -1672,1 +1922,0 @@\n-\t\tbasic_machine=`echo $basic_machine | sed \"s\/unknown\/$vendor\/\"`\n@@ -1676,1 +1925,1 @@\n-echo $basic_machine$os\n+echo \"$cpu-$vendor-${kernel:+$kernel-}$os\"\n@@ -1680,1 +1929,1 @@\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n+# eval: (add-hook 'before-save-hook 'time-stamp)\n","filename":"make\/autoconf\/build-aux\/autoconf-config.sub","additions":1414,"deletions":1165,"binary":false,"changes":2579,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,11 +40,0 @@\n-    elif [ `uname -m` = mips64el ]; then\n-      OUT=mips64el-unknown-linux-gnu\n-    # Test and fix little endian PowerPC64.\n-    elif [ `uname -m` = ppc64le ]; then\n-      OUT=powerpc64le-unknown-linux-gnu\n-    # Test and fix LoongArch64.\n-    elif [ `uname -m` = loongarch64 ]; then\n-      OUT=loongarch64-unknown-linux-gnu\n-    # Test and fix RISC-V.\n-    elif [ `uname -m` = riscv64 ]; then\n-      OUT=riscv64-unknown-linux-gnu\n@@ -67,11 +56,0 @@\n-# Detect C library.\n-# Use '-gnu'  suffix on systems that use glibc.\n-# Use '-musl' suffix on systems that use the musl libc.\n-echo $OUT | grep -- -linux- > \/dev\/null 2> \/dev\/null\n-if test $? = 0; then\n-  libc_vendor=`ldd --version 2>&1 | sed -n '1s\/.*\\(musl\\).*\/\\1\/p'`\n-  if [ x\"${libc_vendor}\" = x\"musl\" ]; then\n-    OUT=`echo $OUT | sed 's\/-gnu\/-musl\/'`\n-  fi\n-fi\n-\n@@ -117,12 +95,0 @@\n-# Test and fix cpu on macos-aarch64, uname -p reports arm, buildsys expects aarch64\n-echo $OUT | grep arm-apple-darwin > \/dev\/null 2> \/dev\/null\n-if test $? != 0; then\n-  # The GNU version of uname may be on the PATH which reports arm64 instead\n-  echo $OUT | grep arm64-apple-darwin > \/dev\/null 2> \/dev\/null\n-fi\n-if test $? = 0; then\n-  if [ `uname -m` = arm64 ]; then\n-    OUT=aarch64`echo $OUT | sed -e 's\/[^-]*\/\/'`\n-  fi\n-fi\n-\n","filename":"make\/autoconf\/build-aux\/config.guess","additions":1,"deletions":35,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,5 +32,0 @@\n-if echo $* | grep linux-musl >\/dev\/null ; then\n-    echo $*\n-    exit\n-fi\n-\n@@ -43,21 +38,0 @@\n-# Allow msys2\n-if echo $* | grep pc-msys >\/dev\/null ; then\n-    echo $*\n-    exit\n-fi\n-\n-# Canonicalize for riscv which autoconf-config.sub doesn't handle\n-if echo $* | grep '^riscv\\(32\\|64\\)-linux' >\/dev\/null ; then\n-    result=`echo $@ | sed 's\/linux\/unknown-linux\/'`\n-    echo $result\n-    exit\n-fi\n-\n-# Filter out everything that doesn't begin with \"aarch64-\"\n-if ! echo $* | grep '^aarch64-' >\/dev\/null ; then\n-    . $DIR\/autoconf-config.sub \"$@\"\n-    # autoconf-config.sub exits, so we never reach here, but just in\n-    # case we do:\n-    exit\n-fi\n-\n@@ -68,4 +42,0 @@\n-        aarch64-* )\n-            config=`echo $1 | sed 's\/^aarch64-\/arm-\/'`\n-            sub_args=\"$sub_args $config\"\n-            shift; ;;\n@@ -84,2 +54,0 @@\n-result=`echo $result | sed \"s\/^arm-\/aarch64-\/\"`\n-\n","filename":"make\/autoconf\/build-aux\/config.sub","additions":1,"deletions":33,"binary":false,"changes":34,"status":"modified"}]}