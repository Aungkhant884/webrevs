{"files":[{"patch":"@@ -479,1 +479,1 @@\n-        if (!(o instanceof Map))\n+        if (!(o instanceof Map<?, ?> m))\n@@ -481,1 +481,0 @@\n-        Map<?,?> m = (Map<?,?>) o;\n@@ -691,4 +690,3 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-            return eq(key, e.getKey()) && eq(value, e.getValue());\n+            return o instanceof Map.Entry<?, ?> e\n+                    && eq(key, e.getKey())\n+                    && eq(value, e.getValue());\n@@ -825,4 +823,3 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-            return eq(key, e.getKey()) && eq(value, e.getValue());\n+            return o instanceof Map.Entry<?, ?> e\n+                    && eq(key, e.getKey())\n+                    && eq(value, e.getValue());\n","filename":"src\/java.base\/share\/classes\/java\/util\/AbstractMap.java","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -1069,1 +1069,1 @@\n-        if (!(obj instanceof BitSet))\n+        if (!(obj instanceof BitSet set))\n@@ -1074,2 +1074,0 @@\n-        BitSet set = (BitSet) obj;\n-\n","filename":"src\/java.base\/share\/classes\/java\/util\/BitSet.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1778,6 +1778,3 @@\n-                if (!(o instanceof Set))\n-                    return false;\n-                Set<?> s = (Set<?>) o;\n-                if (s.size() != c.size())\n-                    return false;\n-                return containsAll(s); \/\/ Invokes safe containsAll() above\n+                return o instanceof Set<?> s\n+                        && s.size() == c.size()\n+                        && containsAll(s); \/\/ Invokes safe containsAll() above\n@@ -1808,5 +1805,3 @@\n-                    if (!(o instanceof Map.Entry))\n-                        return false;\n-                    Map.Entry<?,?> t = (Map.Entry<?,?>)o;\n-                    return eq(e.getKey(),   t.getKey()) &&\n-                           eq(e.getValue(), t.getValue());\n+                    return o instanceof Map.Entry<?, ?> t\n+                            && eq(e.getKey(),   t.getKey())\n+                            && eq(e.getValue(), t.getValue());\n@@ -3936,5 +3931,2 @@\n-                if (!(o instanceof Map.Entry))\n-                    return false;\n-                Map.Entry<?,?> e = (Map.Entry<?,?>) o;\n-                return s.contains(\n-                    (e instanceof CheckedEntry) ? e : checkedEntry(e, valueType));\n+                return o instanceof Map.Entry<?, ?> e\n+                        && s.contains((e instanceof CheckedEntry) ? e : checkedEntry(e, valueType));\n@@ -3984,5 +3976,3 @@\n-                if (!(o instanceof Set))\n-                    return false;\n-                Set<?> that = (Set<?>) o;\n-                return that.size() == s.size()\n-                    && containsAll(that); \/\/ Invokes safe containsAll() above\n+                return o instanceof Set<?> that\n+                        && that.size() == s.size()\n+                        && containsAll(that); \/\/ Invokes safe containsAll() above\n@@ -5254,2 +5244,1 @@\n-            if (o instanceof CopiesList) {\n-                CopiesList<?> other = (CopiesList<?>) o;\n+            if (o instanceof CopiesList<?> other) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/Collections.java","additions":12,"deletions":23,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -331,2 +331,1 @@\n-        if (m instanceof EnumMap) {\n-            EnumMap<?, ?> em = (EnumMap<?, ?>)m;\n+        if (m instanceof EnumMap<?, ?> em) {\n@@ -476,4 +475,2 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n-            return containsMapping(entry.getKey(), entry.getValue());\n+            return o instanceof Map.Entry<?, ?> entry\n+                    && containsMapping(entry.getKey(), entry.getValue());\n@@ -482,4 +479,2 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n-            return removeMapping(entry.getKey(), entry.getValue());\n+            return o instanceof Map.Entry<?, ?> entry\n+                    && removeMapping(entry.getKey(), entry.getValue());\n@@ -609,1 +604,1 @@\n-                if (!(o instanceof Map.Entry))\n+                if (!(o instanceof Map.Entry<?, ?> e))\n@@ -612,1 +607,0 @@\n-                Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n@@ -658,1 +652,1 @@\n-        if (!(o instanceof Map))\n+        if (!(o instanceof Map<?, ?> m))\n@@ -661,1 +655,0 @@\n-        Map<?,?> m = (Map<?,?>)o;\n","filename":"src\/java.base\/share\/classes\/java\/util\/EnumMap.java","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -3021,2 +3021,1 @@\n-            } else if (arg instanceof Byte) {\n-                byte i = (Byte) arg;\n+            } else if (arg instanceof Byte i) {\n@@ -3027,2 +3026,1 @@\n-            } else if (arg instanceof Short) {\n-                short i = (Short) arg;\n+            } else if (arg instanceof Short i) {\n@@ -3033,2 +3031,1 @@\n-            } else if (arg instanceof Integer) {\n-                int i = (Integer) arg;\n+            } else if (arg instanceof Integer i) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/Formatter.java","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -310,7 +310,4 @@\n-            if (o instanceof Map.Entry) {\n-                Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-                if (Objects.equals(key, e.getKey()) &&\n-                    Objects.equals(value, e.getValue()))\n-                    return true;\n-            }\n-            return false;\n+\n+            return o instanceof Map.Entry<?, ?> e\n+                    && Objects.equals(key, e.getKey())\n+                    && Objects.equals(value, e.getValue());\n@@ -1103,1 +1100,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> e))\n@@ -1105,1 +1102,0 @@\n-            Map.Entry<?,?> e = (Map.Entry<?,?>) o;\n@@ -1111,2 +1107,1 @@\n-            if (o instanceof Map.Entry) {\n-                Map.Entry<?,?> e = (Map.Entry<?,?>) o;\n+            if (o instanceof Map.Entry<?, ?> e) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/HashMap.java","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -717,1 +717,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> entry))\n@@ -719,1 +719,0 @@\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n@@ -732,1 +731,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> entry))\n@@ -734,1 +733,0 @@\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>) o;\n@@ -819,1 +817,1 @@\n-        if (!(o instanceof Map))\n+        if (!(o instanceof Map<?, ?> t))\n@@ -821,1 +819,0 @@\n-        Map<?,?> t = (Map<?,?>) o;\n@@ -1396,1 +1393,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> e))\n@@ -1398,1 +1395,0 @@\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n","filename":"src\/java.base\/share\/classes\/java\/util\/Hashtable.java","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -645,2 +645,1 @@\n-        } else if (o instanceof IdentityHashMap) {\n-            IdentityHashMap<?,?> m = (IdentityHashMap<?,?>) o;\n+        } else if (o instanceof IdentityHashMap<?, ?> m) {\n@@ -657,2 +656,1 @@\n-        } else if (o instanceof Map) {\n-            Map<?,?> m = (Map<?,?>)o;\n+        } else if (o instanceof Map<?, ?> m) {\n@@ -891,5 +889,3 @@\n-                if (!(o instanceof Map.Entry))\n-                    return false;\n-                Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-                return (e.getKey() == unmaskNull(traversalTable[index]) &&\n-                       e.getValue() == traversalTable[index+1]);\n+                return o instanceof Map.Entry<?, ?> e\n+                        && e.getKey() == unmaskNull(traversalTable[index])\n+                        && e.getValue() == traversalTable[index+1];\n@@ -1192,4 +1188,2 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n-            return containsMapping(entry.getKey(), entry.getValue());\n+            return o instanceof Entry<?, ?> entry\n+                    && containsMapping(entry.getKey(), entry.getValue());\n@@ -1198,4 +1192,2 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n-            return removeMapping(entry.getKey(), entry.getValue());\n+            return o instanceof Entry<?, ?> entry\n+                    && removeMapping(entry.getKey(), entry.getValue());\n","filename":"src\/java.base\/share\/classes\/java\/util\/IdentityHashMap.java","additions":9,"deletions":17,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -251,1 +251,1 @@\n-        if (!(c instanceof JumboEnumSet))\n+        if (!(c instanceof JumboEnumSet<?> es))\n@@ -254,1 +254,0 @@\n-        JumboEnumSet<?> es = (JumboEnumSet<?>)c;\n@@ -273,1 +272,1 @@\n-        if (!(c instanceof JumboEnumSet))\n+        if (!(c instanceof JumboEnumSet<?> es))\n@@ -276,1 +275,0 @@\n-        JumboEnumSet<?> es = (JumboEnumSet<?>)c;\n@@ -299,1 +297,1 @@\n-        if (!(c instanceof JumboEnumSet))\n+        if (!(c instanceof JumboEnumSet<?> es))\n@@ -302,1 +300,0 @@\n-        JumboEnumSet<?> es = (JumboEnumSet<?>)c;\n@@ -320,1 +317,1 @@\n-        if (!(c instanceof JumboEnumSet))\n+        if (!(c instanceof JumboEnumSet<?> es))\n@@ -323,1 +320,0 @@\n-        JumboEnumSet<?> es = (JumboEnumSet<?>)c;\n@@ -353,1 +349,1 @@\n-        if (!(o instanceof JumboEnumSet))\n+        if (!(o instanceof JumboEnumSet<?> es))\n@@ -356,1 +352,0 @@\n-        JumboEnumSet<?> es = (JumboEnumSet<?>)o;\n","filename":"src\/java.base\/share\/classes\/java\/util\/JumboEnumSet.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -104,4 +104,3 @@\n-        if (!(o instanceof Map.Entry))\n-            return false;\n-        Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-        return key.equals(e.getKey()) && value.equals(e.getValue());\n+        return o instanceof Map.Entry<?, ?> e\n+                && key.equals(e.getKey())\n+                && value.equals(e.getValue());\n","filename":"src\/java.base\/share\/classes\/java\/util\/KeyValueHolder.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -684,1 +684,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> e))\n@@ -686,1 +686,0 @@\n-            Map.Entry<?,?> e = (Map.Entry<?,?>) o;\n@@ -692,2 +691,1 @@\n-            if (o instanceof Map.Entry) {\n-                Map.Entry<?,?> e = (Map.Entry<?,?>) o;\n+            if (o instanceof Map.Entry<?, ?> e) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/LinkedHashMap.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -888,1 +888,1 @@\n-            if (!(obj instanceof LocaleKey)) {\n+            if (!(obj instanceof LocaleKey other)) {\n@@ -891,1 +891,0 @@\n-            LocaleKey other = (LocaleKey)obj;\n@@ -3344,6 +3343,3 @@\n-            if (!(obj instanceof LanguageRange)) {\n-                return false;\n-            }\n-            LanguageRange other = (LanguageRange)obj;\n-            return range.equals(other.range)\n-                   && weight == other.weight;\n+            return obj instanceof LanguageRange other\n+                    && range.equals(other.range)\n+                    && weight == other.weight;\n","filename":"src\/java.base\/share\/classes\/java\/util\/Locale.java","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -426,6 +426,2 @@\n-        if (!(obj instanceof Optional)) {\n-            return false;\n-        }\n-\n-        Optional<?> other = (Optional<?>) obj;\n-        return Objects.equals(value, other.value);\n+        return obj instanceof Optional<?> other\n+                && Objects.equals(value, other.value);\n","filename":"src\/java.base\/share\/classes\/java\/util\/Optional.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -298,8 +298,4 @@\n-        if (!(obj instanceof OptionalDouble)) {\n-            return false;\n-        }\n-\n-        OptionalDouble other = (OptionalDouble) obj;\n-        return (isPresent && other.isPresent)\n-               ? Double.compare(value, other.value) == 0\n-               : isPresent == other.isPresent;\n+        return obj instanceof OptionalDouble other\n+                && (isPresent && other.isPresent\n+                ? Double.compare(value, other.value) == 0\n+                : isPresent == other.isPresent);\n","filename":"src\/java.base\/share\/classes\/java\/util\/OptionalDouble.java","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -296,6 +296,2 @@\n-        if (!(obj instanceof OptionalInt)) {\n-            return false;\n-        }\n-\n-        OptionalInt other = (OptionalInt) obj;\n-        return (isPresent && other.isPresent)\n+        return obj instanceof OptionalInt other\n+                && (isPresent && other.isPresent\n@@ -303,1 +299,1 @@\n-                : isPresent == other.isPresent;\n+                : isPresent == other.isPresent);\n","filename":"src\/java.base\/share\/classes\/java\/util\/OptionalInt.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -296,6 +296,2 @@\n-        if (!(obj instanceof OptionalLong)) {\n-            return false;\n-        }\n-\n-        OptionalLong other = (OptionalLong) obj;\n-        return (isPresent && other.isPresent)\n+        return obj instanceof OptionalLong other\n+                && (isPresent && other.isPresent\n@@ -303,1 +299,1 @@\n-                : isPresent == other.isPresent;\n+                : isPresent == other.isPresent);\n","filename":"src\/java.base\/share\/classes\/java\/util\/OptionalLong.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -190,5 +190,0 @@\n-        if (!(p instanceof PropertyPermission))\n-            return false;\n-\n-        PropertyPermission that = (PropertyPermission) p;\n-\n@@ -197,2 +192,3 @@\n-\n-        return ((this.mask & that.mask) == that.mask) && super.implies(that);\n+        return p instanceof PropertyPermission that\n+                && ((this.mask & that.mask) == that.mask)\n+                && super.implies(that);\n@@ -214,7 +210,3 @@\n-        if (! (obj instanceof PropertyPermission))\n-            return false;\n-\n-        PropertyPermission that = (PropertyPermission) obj;\n-\n-        return (this.mask == that.mask) &&\n-            (this.getName().equals(that.getName()));\n+        return obj instanceof PropertyPermission that\n+                && this.mask == that.mask\n+                && this.getName().equals(that.getName());\n@@ -474,1 +466,1 @@\n-        if (! (permission instanceof PropertyPermission))\n+        if (! (permission instanceof PropertyPermission pp))\n@@ -481,1 +473,0 @@\n-        PropertyPermission pp = (PropertyPermission) permission;\n@@ -526,1 +517,1 @@\n-        if (! (permission instanceof PropertyPermission))\n+        if (! (permission instanceof PropertyPermission pp))\n@@ -529,1 +520,0 @@\n-        PropertyPermission pp = (PropertyPermission) permission;\n","filename":"src\/java.base\/share\/classes\/java\/util\/PropertyPermission.java","additions":8,"deletions":18,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -199,1 +199,1 @@\n-        if (!(c instanceof RegularEnumSet))\n+        if (!(c instanceof RegularEnumSet<?> es))\n@@ -202,1 +202,0 @@\n-        RegularEnumSet<?> es = (RegularEnumSet<?>)c;\n@@ -218,1 +217,1 @@\n-        if (!(c instanceof RegularEnumSet))\n+        if (!(c instanceof RegularEnumSet<?> es))\n@@ -221,1 +220,0 @@\n-        RegularEnumSet<?> es = (RegularEnumSet<?>)c;\n@@ -244,1 +242,1 @@\n-        if (!(c instanceof RegularEnumSet))\n+        if (!(c instanceof RegularEnumSet<?> es))\n@@ -247,1 +245,0 @@\n-        RegularEnumSet<?> es = (RegularEnumSet<?>)c;\n@@ -265,1 +262,1 @@\n-        if (!(c instanceof RegularEnumSet))\n+        if (!(c instanceof RegularEnumSet<?> es))\n@@ -268,1 +265,0 @@\n-        RegularEnumSet<?> es = (RegularEnumSet<?>)c;\n@@ -297,1 +293,1 @@\n-        if (!(o instanceof RegularEnumSet))\n+        if (!(o instanceof RegularEnumSet<?> es))\n@@ -300,1 +296,0 @@\n-        RegularEnumSet<?> es = (RegularEnumSet<?>)o;\n","filename":"src\/java.base\/share\/classes\/java\/util\/RegularEnumSet.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2667,1 +2667,1 @@\n-        if ((typeCache != null) && (typeCache instanceof BigInteger)\n+        if ((typeCache != null) && (typeCache instanceof BigInteger val)\n@@ -2669,1 +2669,0 @@\n-            BigInteger val = (BigInteger)typeCache;\n@@ -2733,2 +2732,1 @@\n-        if ((typeCache != null) && (typeCache instanceof BigDecimal)) {\n-            BigDecimal val = (BigDecimal)typeCache;\n+        if ((typeCache != null) && (typeCache instanceof BigDecimal val)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/Scanner.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -821,5 +821,2 @@\n-            if (!(ob instanceof ProviderImpl))\n-                return false;\n-            @SuppressWarnings(\"unchecked\")\n-            ProviderImpl<?> that = (ProviderImpl<?>)ob;\n-            return this.service == that.service\n+            return ob instanceof @SuppressWarnings(\"unchecked\")ProviderImpl<?> that\n+                    && this.service == that.service\n","filename":"src\/java.base\/share\/classes\/java\/util\/ServiceLoader.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -881,2 +881,1 @@\n-    public boolean equals(Object obj)\n-    {\n+    public boolean equals(Object obj) {\n@@ -886,3 +885,0 @@\n-        if (!(obj instanceof SimpleTimeZone)) {\n-            return false;\n-        }\n@@ -890,4 +886,3 @@\n-        SimpleTimeZone that = (SimpleTimeZone) obj;\n-\n-        return getID().equals(that.getID()) &&\n-            hasSameRules(that);\n+        return obj instanceof SimpleTimeZone that\n+                && getID().equals(that.getID())\n+                && hasSameRules(that);\n@@ -907,22 +902,20 @@\n-        if (!(other instanceof SimpleTimeZone)) {\n-            return false;\n-        }\n-        SimpleTimeZone that = (SimpleTimeZone) other;\n-        return rawOffset == that.rawOffset &&\n-            useDaylight == that.useDaylight &&\n-            (!useDaylight\n-             \/\/ Only check rules if using DST\n-             || (dstSavings == that.dstSavings &&\n-                 startMode == that.startMode &&\n-                 startMonth == that.startMonth &&\n-                 startDay == that.startDay &&\n-                 startDayOfWeek == that.startDayOfWeek &&\n-                 startTime == that.startTime &&\n-                 startTimeMode == that.startTimeMode &&\n-                 endMode == that.endMode &&\n-                 endMonth == that.endMonth &&\n-                 endDay == that.endDay &&\n-                 endDayOfWeek == that.endDayOfWeek &&\n-                 endTime == that.endTime &&\n-                 endTimeMode == that.endTimeMode &&\n-                 startYear == that.startYear));\n+        return other instanceof SimpleTimeZone that\n+                && rawOffset == that.rawOffset\n+                && useDaylight == that.useDaylight\n+                && (!useDaylight ||\n+                        \/\/ Only check rules if using DST\n+                        (dstSavings == that.dstSavings\n+                        && startMode == that.startMode\n+                        && startMonth == that.startMonth\n+                        && startDay == that.startDay\n+                        && startDayOfWeek == that.startDayOfWeek\n+                        && startTime == that.startTime\n+                        && startTimeMode == that.startTimeMode\n+                        && endMode == that.endMode\n+                        && endMonth == that.endMonth\n+                        && endDay == that.endDay\n+                        && endDayOfWeek == that.endDayOfWeek\n+                        && endTime == that.endTime\n+                        && endTimeMode == that.endTimeMode\n+                        && startYear == that.startYear)\n+                    );\n","filename":"src\/java.base\/share\/classes\/java\/util\/SimpleTimeZone.java","additions":24,"deletions":31,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -1344,1 +1344,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> entry))\n@@ -1346,1 +1346,0 @@\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>) o;\n@@ -1353,1 +1352,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> entry))\n@@ -1355,1 +1354,0 @@\n-            Map.Entry<?,?> entry = (Map.Entry<?,?>) o;\n@@ -1966,1 +1964,1 @@\n-                if (!(o instanceof Map.Entry))\n+                if (!(o instanceof Entry<?, ?> entry))\n@@ -1968,1 +1966,0 @@\n-                Map.Entry<?,?> entry = (Map.Entry<?,?>) o;\n@@ -1978,1 +1975,1 @@\n-                if (!(o instanceof Map.Entry))\n+                if (!(o instanceof Entry<?, ?> entry))\n@@ -1980,1 +1977,0 @@\n-                Map.Entry<?,?> entry = (Map.Entry<?,?>) o;\n@@ -2428,5 +2424,3 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-\n-            return valEquals(key,e.getKey()) && valEquals(value,e.getValue());\n+            return o instanceof Map.Entry<?, ?> e\n+                    && valEquals(key,e.getKey())\n+                    && valEquals(value,e.getValue());\n","filename":"src\/java.base\/share\/classes\/java\/util\/TreeMap.java","additions":7,"deletions":13,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -302,1 +302,1 @@\n-            m instanceof TreeMap) {\n+                m instanceof TreeMap<E, Object> map) {\n@@ -304,1 +304,0 @@\n-            TreeMap<E,Object> map = (TreeMap<E, Object>) m;\n","filename":"src\/java.base\/share\/classes\/java\/util\/TreeSet.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -622,1 +622,1 @@\n-        if (!(o instanceof Map.Entry))\n+        if (!(o instanceof Map.Entry<?, ?> entry))\n@@ -625,1 +625,0 @@\n-        Map.Entry<?,?> entry = (Map.Entry<?,?>)o;\n@@ -740,1 +739,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> e))\n@@ -742,1 +741,0 @@\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n@@ -980,5 +978,3 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-            Entry<K,V> candidate = getEntry(e.getKey());\n-            return candidate != null && candidate.equals(e);\n+            return o instanceof Map.Entry<?, ?> e\n+                    && getEntry(e.getKey()) != null\n+                    && getEntry(e.getKey()).equals(e);\n","filename":"src\/java.base\/share\/classes\/java\/util\/WeakHashMap.java","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -1149,1 +1149,1 @@\n-                        else if (f instanceof TreeBin) {\n+                        else if (f instanceof TreeBin<K, V> t) {\n@@ -1151,1 +1151,0 @@\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n@@ -1352,1 +1351,1 @@\n-            if (!(o instanceof Map))\n+            if (!(o instanceof Map<?, ?> m))\n@@ -1354,1 +1353,0 @@\n-            Map<?,?> m = (Map<?,?>) o;\n@@ -1750,1 +1748,1 @@\n-                        else if (f instanceof TreeBin) {\n+                        else if (f instanceof TreeBin<K, V> t) {\n@@ -1752,1 +1750,0 @@\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n@@ -1846,1 +1843,1 @@\n-                        else if (f instanceof TreeBin) {\n+                        else if (f instanceof TreeBin<K, V> t) {\n@@ -1848,1 +1845,0 @@\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n@@ -1966,1 +1962,1 @@\n-                        else if (f instanceof TreeBin) {\n+                        else if (f instanceof TreeBin<K, V> t) {\n@@ -1968,1 +1964,0 @@\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n@@ -2078,1 +2073,1 @@\n-                        else if (f instanceof TreeBin) {\n+                        else if (f instanceof TreeBin<K, V> t) {\n@@ -2080,1 +2075,0 @@\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n@@ -2516,2 +2510,1 @@\n-                        else if (f instanceof TreeBin) {\n-                            TreeBin<K,V> t = (TreeBin<K,V>)f;\n+                        else if (f instanceof TreeBin<K, V> t) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ConcurrentHashMap.java","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -1711,1 +1711,1 @@\n-        if (!(o instanceof Map))\n+        if (!(o instanceof Map<?, ?> m))\n@@ -1713,1 +1713,0 @@\n-        Map<?,?> m = (Map<?,?>) o;\n@@ -2301,1 +2300,1 @@\n-            if (!(o instanceof Map.Entry))\n+            if (!(o instanceof Map.Entry<?, ?> e))\n@@ -2303,1 +2302,0 @@\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n@@ -2308,5 +2306,2 @@\n-            if (!(o instanceof Map.Entry))\n-                return false;\n-            Map.Entry<?,?> e = (Map.Entry<?,?>)o;\n-            return m.remove(e.getKey(),\n-                            e.getValue());\n+            return o instanceof Map.Entry<?, ?> e\n+                    && m.remove(e.getKey(), e.getValue());\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ConcurrentSkipListMap.java","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -981,1 +981,1 @@\n-        if (!(o instanceof List))\n+        if (!(o instanceof List<?> list))\n@@ -984,1 +984,0 @@\n-        List<?> list = (List<?>)o;\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/CopyOnWriteArrayList.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1927,2 +1927,1 @@\n-                            if (t instanceof CountedCompleter) {\n-                                CountedCompleter<?> f = (CountedCompleter<?>)t;\n+                            if (t instanceof CountedCompleter<?> f) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ForkJoinPool.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -251,2 +251,1 @@\n-            if (other instanceof ScheduledFutureTask) {\n-                ScheduledFutureTask<?> x = (ScheduledFutureTask<?>)other;\n+            if (other instanceof ScheduledFutureTask<?> x) {\n@@ -381,2 +380,1 @@\n-            if (e instanceof RunnableScheduledFuture) {\n-                RunnableScheduledFuture<?> t = (RunnableScheduledFuture<?>)e;\n+            if (e instanceof RunnableScheduledFuture<?> t) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/concurrent\/ScheduledThreadPoolExecutor.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -517,6 +517,2 @@\n-            if (o instanceof Name) {\n-                Name other = (Name)o;\n-                return other.name.equalsIgnoreCase(name);\n-            } else {\n-                return false;\n-            }\n+            return o instanceof Name other\n+                    && other.name.equalsIgnoreCase(name);\n","filename":"src\/java.base\/share\/classes\/java\/util\/jar\/Attributes.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -554,2 +554,1 @@\n-        if (cs instanceof VerifierCodeSource) {\n-            VerifierCodeSource vcs = (VerifierCodeSource) cs;\n+        if (cs instanceof VerifierCodeSource vcs) {\n@@ -557,1 +556,1 @@\n-                return ((VerifierCodeSource) cs).getPrivateSigners();\n+                return vcs.getPrivateSigners();\n@@ -620,2 +619,1 @@\n-            if (obj instanceof VerifierCodeSource) {\n-                VerifierCodeSource that = (VerifierCodeSource) obj;\n+            if (obj instanceof VerifierCodeSource that) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/jar\/JarVerifier.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -382,7 +382,3 @@\n-        if (o instanceof Manifest) {\n-            Manifest m = (Manifest)o;\n-            return attr.equals(m.getMainAttributes()) &&\n-                   entries.equals(m.getEntries());\n-        } else {\n-            return false;\n-        }\n+        return o instanceof Manifest m\n+                && attr.equals(m.getMainAttributes())\n+                && entries.equals(m.getEntries());\n","filename":"src\/java.base\/share\/classes\/java\/util\/jar\/Manifest.java","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -3086,2 +3086,1 @@\n-        if (node instanceof Ques) {\n-            Ques ques = (Ques) node;\n+        if (node instanceof Ques ques) {\n@@ -3101,2 +3100,1 @@\n-        } else if (node instanceof Curly) {\n-            Curly curly = (Curly) node;\n+        } else if (node instanceof Curly curly) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/regex\/Pattern.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -134,2 +134,1 @@\n-            } else if (node instanceof Pattern.Curly) {\n-                Pattern.Curly c = (Pattern.Curly)node;\n+            } else if (node instanceof Pattern.Curly c) {\n@@ -140,2 +139,1 @@\n-            } else if (node instanceof Pattern.GroupCurly) {\n-                Pattern.GroupCurly gc = (Pattern.GroupCurly)node;\n+            } else if (node instanceof Pattern.GroupCurly gc) {\n@@ -147,2 +145,1 @@\n-            } else if (node instanceof Pattern.GroupHead) {\n-                Pattern.GroupHead head = (Pattern.GroupHead)node;\n+            } else if (node instanceof Pattern.GroupHead head) {\n@@ -160,2 +157,1 @@\n-            } else if (node instanceof Pattern.Branch) {\n-                Pattern.Branch b = (Pattern.Branch)node;\n+            } else if (node instanceof Pattern.Branch b) {\n@@ -189,2 +185,1 @@\n-            } else if (node instanceof Pattern.CharPropertyGreedy) {\n-                Pattern.CharPropertyGreedy gcp = (Pattern.CharPropertyGreedy)node;\n+            } else if (node instanceof Pattern.CharPropertyGreedy gcp) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/regex\/PrintPattern.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1221,2 +1221,1 @@\n-                if (obj instanceof Key) {\n-                    Key key = (Key)obj;\n+                if (obj instanceof Key key) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/ZipFile.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}