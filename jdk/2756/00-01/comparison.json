{"files":[{"patch":"@@ -1025,2 +1025,2 @@\n-    private int setGraphicsMode(int mode) {\n-        return setGraphicsMode(getPrintDC(), mode);\n+    private void setGraphicsMode(int mode) {\n+        setGraphicsMode(getPrintDC(), mode);\n@@ -1532,1 +1532,1 @@\n-     * Set the GDI graphics mode to {@code GM_ADVANCED}\n+     * Set the GDI graphics {@code mode}\n@@ -1538,1 +1538,1 @@\n-    protected native int setGraphicsMode(long printDC, int mode);\n+    protected native void setGraphicsMode(long printDC, int mode);\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPrinterJob.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1944,1 +1944,3 @@\n-    return (jint) ::SetGraphicsMode((HDC)printDC, GM_ADVANCED);\n+    int oldGraphicsMode = ::SetGraphicsMode((HDC)printDC, GM_ADVANCED);\n+    DASSERT(oldGraphicsMode != 0);\n+    return (jint) oldGraphicsMode;\n@@ -1952,1 +1954,1 @@\n- * Signature: (JI)I\n+ * Signature: (JI)V\n@@ -1954,1 +1956,1 @@\n-JNIEXPORT jint JNICALL Java_sun_awt_windows_WPrinterJob_setGraphicsMode\n+JNIEXPORT void JNICALL Java_sun_awt_windows_WPrinterJob_setGraphicsMode\n@@ -1958,1 +1960,2 @@\n-    return (jint) ::SetGraphicsMode((HDC)printDC, mode);\n+    int oldGraphicsMode = ::SetGraphicsMode((HDC)printDC, mode);\n+    DASSERT(oldGraphicsMode != 0);\n@@ -1960,1 +1963,1 @@\n-    CATCH_BAD_ALLOC_RET(0);\n+    CATCH_BAD_ALLOC;\n@@ -1981,1 +1984,2 @@\n-    ::ModifyWorldTransform((HDC)printDC, &xForm, MWT_RIGHTMULTIPLY);\n+    BOOL result = ::ModifyWorldTransform((HDC)printDC, &xForm, MWT_RIGHTMULTIPLY);\n+    DASSERT(result);\n@@ -1998,1 +2002,2 @@\n-    ::GetWorldTransform((HDC)printDC, &xForm);\n+    BOOL result = ::GetWorldTransform((HDC)printDC, &xForm);\n+    DASSERT(result);\n@@ -2033,2 +2038,0 @@\n-    ::SetWorldTransform((HDC)printDC, &xForm);\n-\n@@ -2037,0 +2040,3 @@\n+    BOOL result = ::SetWorldTransform((HDC)printDC, &xForm);\n+    DASSERT(result);\n+\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_PrintJob.cpp","additions":15,"deletions":9,"binary":false,"changes":24,"status":"modified"}]}