{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -199,0 +199,6 @@\n+            case \"EMOJI\" -> EMOJI();\n+            case \"EMOJI_PRESENTATION\" -> EMOJI_PRESENTATION();\n+            case \"EMOJI_MODIFIER\" -> EMOJI_MODIFIER();\n+            case \"EMOJI_MODIFIER_BASE\" -> EMOJI_MODIFIER_BASE();\n+            case \"EMOJI_COMPONENT\" -> EMOJI_COMPONENT();\n+            case \"EXTENDED_PICTOGRAPHIC\" -> EXTENDED_PICTOGRAPHIC();\n@@ -424,0 +430,23 @@\n+    \/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n+\n+    \/**\n+     * Emoji related binary properties\n+     *\/\n+    static final CharPredicate EMOJI() {\n+        return Character::isEmoji;\n+    }\n+    static final CharPredicate EMOJI_PRESENTATION() {\n+        return Character::isEmojiPresentation;\n+    }\n+    static final CharPredicate EMOJI_MODIFIER() {\n+        return Character::isEmojiModifier;\n+    }\n+    static final CharPredicate EMOJI_MODIFIER_BASE() {\n+        return Character::isEmojiModifierBase;\n+    }\n+    static final CharPredicate EMOJI_COMPONENT() {\n+        return Character::isEmojiComponent;\n+    }\n+    static final CharPredicate EXTENDED_PICTOGRAPHIC() {\n+        return Character::isExtendedPictographic;\n+    }\n","filename":"src\/java.base\/share\/classes\/java\/util\/regex\/CharPredicates.java","additions":30,"deletions":1,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -641,0 +641,6 @@\n+ *   <li> Emoji\n+ *   <li> Emoji_Presentation\n+ *   <li> Emoji_Modifier\n+ *   <li> Emoji_Modifier_Base\n+ *   <li> Emoji_Component\n+ *   <li> Extended_Pictographic\n","filename":"src\/java.base\/share\/classes\/java\/util\/regex\/Pattern.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n- * 8280403 8264160 8281315\n+ * 8280403 8264160 8281315 8305107\n@@ -52,1 +52,0 @@\n-import java.nio.file.Path;\n@@ -65,0 +64,2 @@\n+import static java.lang.Character.*;\n+\n@@ -130,1 +131,1 @@\n-        char[] ca = Character.toChars(codePoint);\n+        char[] ca = toChars(codePoint);\n@@ -416,1 +417,1 @@\n-        assert (Character.getType('\\u030a') == Character.NON_SPACING_MARK);\n+        assert (getType('\\u030a') == NON_SPACING_MARK);\n@@ -966,8 +967,8 @@\n-            check(\"{javaLowerCase}\", c, Character.isLowerCase(c));\n-            check(\"{javaUpperCase}\", c, Character.isUpperCase(c));\n-            check(\"{javaUpperCase}+\", c, Character.isUpperCase(c));\n-            check(\"{javaTitleCase}\", c, Character.isTitleCase(c));\n-            check(\"{javaDigit}\", c, Character.isDigit(c));\n-            check(\"{javaDefined}\", c, Character.isDefined(c));\n-            check(\"{javaLetter}\", c, Character.isLetter(c));\n-            check(\"{javaLetterOrDigit}\", c, Character.isLetterOrDigit(c));\n+            check(\"{javaLowerCase}\", c, isLowerCase(c));\n+            check(\"{javaUpperCase}\", c, isUpperCase(c));\n+            check(\"{javaUpperCase}+\", c, isUpperCase(c));\n+            check(\"{javaTitleCase}\", c, isTitleCase(c));\n+            check(\"{javaDigit}\", c, isDigit(c));\n+            check(\"{javaDefined}\", c, isDefined(c));\n+            check(\"{javaLetter}\", c, isLetter(c));\n+            check(\"{javaLetterOrDigit}\", c, isLetterOrDigit(c));\n@@ -975,1 +976,1 @@\n-                  Character.isJavaIdentifierStart(c));\n+                  isJavaIdentifierStart(c));\n@@ -977,1 +978,1 @@\n-                  Character.isJavaIdentifierPart(c));\n+                  isJavaIdentifierPart(c));\n@@ -979,1 +980,1 @@\n-                  Character.isUnicodeIdentifierStart(c));\n+                  isUnicodeIdentifierStart(c));\n@@ -981,1 +982,1 @@\n-                  Character.isUnicodeIdentifierPart(c));\n+                  isUnicodeIdentifierPart(c));\n@@ -983,5 +984,5 @@\n-                  Character.isIdentifierIgnorable(c));\n-            check(\"{javaSpaceChar}\", c, Character.isSpaceChar(c));\n-            check(\"{javaWhitespace}\", c, Character.isWhitespace(c));\n-            check(\"{javaISOControl}\", c, Character.isISOControl(c));\n-            check(\"{javaMirrored}\", c, Character.isMirrored(c));\n+                  isIdentifierIgnorable(c));\n+            check(\"{javaSpaceChar}\", c, isSpaceChar(c));\n+            check(\"{javaWhitespace}\", c, isWhitespace(c));\n+            check(\"{javaISOControl}\", c, isISOControl(c));\n+            check(\"{javaMirrored}\", c, isMirrored(c));\n@@ -993,11 +994,11 @@\n-            int c = generator.nextInt(Character.MAX_CODE_POINT\n-                                      - Character.MIN_SUPPLEMENTARY_CODE_POINT)\n-                        + Character.MIN_SUPPLEMENTARY_CODE_POINT;\n-            check(\"{javaLowerCase}\", c, Character.isLowerCase(c));\n-            check(\"{javaUpperCase}\", c, Character.isUpperCase(c));\n-            check(\"{javaUpperCase}+\", c, Character.isUpperCase(c));\n-            check(\"{javaTitleCase}\", c, Character.isTitleCase(c));\n-            check(\"{javaDigit}\", c, Character.isDigit(c));\n-            check(\"{javaDefined}\", c, Character.isDefined(c));\n-            check(\"{javaLetter}\", c, Character.isLetter(c));\n-            check(\"{javaLetterOrDigit}\", c, Character.isLetterOrDigit(c));\n+            int c = generator.nextInt(MAX_CODE_POINT\n+                                      - MIN_SUPPLEMENTARY_CODE_POINT)\n+                        + MIN_SUPPLEMENTARY_CODE_POINT;\n+            check(\"{javaLowerCase}\", c, isLowerCase(c));\n+            check(\"{javaUpperCase}\", c, isUpperCase(c));\n+            check(\"{javaUpperCase}+\", c, isUpperCase(c));\n+            check(\"{javaTitleCase}\", c, isTitleCase(c));\n+            check(\"{javaDigit}\", c, isDigit(c));\n+            check(\"{javaDefined}\", c, isDefined(c));\n+            check(\"{javaLetter}\", c, isLetter(c));\n+            check(\"{javaLetterOrDigit}\", c, isLetterOrDigit(c));\n@@ -1005,1 +1006,1 @@\n-                  Character.isJavaIdentifierStart(c));\n+                  isJavaIdentifierStart(c));\n@@ -1007,1 +1008,1 @@\n-                  Character.isJavaIdentifierPart(c));\n+                  isJavaIdentifierPart(c));\n@@ -1009,1 +1010,1 @@\n-                  Character.isUnicodeIdentifierStart(c));\n+                  isUnicodeIdentifierStart(c));\n@@ -1011,1 +1012,1 @@\n-                  Character.isUnicodeIdentifierPart(c));\n+                  isUnicodeIdentifierPart(c));\n@@ -1013,5 +1014,5 @@\n-                  Character.isIdentifierIgnorable(c));\n-            check(\"{javaSpaceChar}\", c, Character.isSpaceChar(c));\n-            check(\"{javaWhitespace}\", c, Character.isWhitespace(c));\n-            check(\"{javaISOControl}\", c, Character.isISOControl(c));\n-            check(\"{javaMirrored}\", c, Character.isMirrored(c));\n+                  isIdentifierIgnorable(c));\n+            check(\"{javaSpaceChar}\", c, isSpaceChar(c));\n+            check(\"{javaWhitespace}\", c, isWhitespace(c));\n+            check(\"{javaISOControl}\", c, isISOControl(c));\n+            check(\"{javaMirrored}\", c, isMirrored(c));\n@@ -1747,1 +1748,1 @@\n-                patternToBe.append(Character.toChars(Character.MIN_SUPPLEMENTARY_CODE_POINT\n+                patternToBe.append(toChars(MIN_SUPPLEMENTARY_CODE_POINT\n@@ -3165,1 +3166,1 @@\n-        doBnM(Character.MIN_SUPPLEMENTARY_CODE_POINT - 10);\n+        doBnM(MIN_SUPPLEMENTARY_CODE_POINT - 10);\n@@ -3177,2 +3178,2 @@\n-                    if (Character.isSupplementaryCodePoint(ch)) {\n-                        patternBuffer.append(Character.toChars(ch));\n+                    if (isSupplementaryCodePoint(ch)) {\n+                        patternBuffer.append(toChars(ch));\n@@ -3204,2 +3205,2 @@\n-                    if (Character.isSupplementaryCodePoint(ch)) {\n-                        s.append(Character.toChars(ch));\n+                    if (isSupplementaryCodePoint(ch)) {\n+                        s.append(toChars(ch));\n@@ -3216,1 +3217,1 @@\n-            if (Character.isLowSurrogate(s.charAt(insertIndex)))\n+            if (isLowSurrogate(s.charAt(insertIndex)))\n@@ -3240,1 +3241,1 @@\n-        doSlice(Character.MAX_VALUE);\n+        doSlice(MAX_VALUE);\n@@ -3242,1 +3243,1 @@\n-        doSlice(Character.MAX_CODE_POINT);\n+        doSlice(MAX_CODE_POINT);\n@@ -3252,1 +3253,1 @@\n-                while (!Character.isLetterOrDigit(randomChar))\n+                while (!isLetterOrDigit(randomChar))\n@@ -3254,2 +3255,2 @@\n-                if (Character.isSupplementaryCodePoint(randomChar)) {\n-                    patternBuffer.append(Character.toChars(randomChar));\n+                if (isSupplementaryCodePoint(randomChar)) {\n+                    patternBuffer.append(toChars(randomChar));\n@@ -3271,1 +3272,1 @@\n-                    while (!Character.isLetterOrDigit(randomChar))\n+                    while (!isLetterOrDigit(randomChar))\n@@ -3273,2 +3274,2 @@\n-                    if (Character.isSupplementaryCodePoint(randomChar)) {\n-                        s.append(Character.toChars(randomChar));\n+                    if (isSupplementaryCodePoint(randomChar)) {\n+                        s.append(toChars(randomChar));\n@@ -3285,1 +3286,1 @@\n-            if (Character.isLowSurrogate(s.charAt(insertIndex)))\n+            if (isLowSurrogate(s.charAt(insertIndex)))\n@@ -3627,1 +3628,1 @@\n-        Character.UnicodeScript lastScript = Character.UnicodeScript.of(0);\n+        UnicodeScript lastScript = UnicodeScript.of(0);\n@@ -3632,1 +3633,1 @@\n-        Character.UnicodeBlock lastBlock = Character.UnicodeBlock.of(0);\n+        UnicodeBlock lastBlock = UnicodeBlock.of(0);\n@@ -3634,1 +3635,1 @@\n-        for (int cp = 1; cp < Character.MAX_CODE_POINT; cp++) {\n+        for (int cp = 1; cp < MAX_CODE_POINT; cp++) {\n@@ -3640,1 +3641,1 @@\n-            Character.UnicodeScript script = Character.UnicodeScript.of(cp);\n+            UnicodeScript script = UnicodeScript.of(cp);\n@@ -3642,1 +3643,1 @@\n-            String str = new String(Character.toChars(cp));\n+            String str = new String(toChars(cp));\n@@ -3651,1 +3652,1 @@\n-            Matcher other = (script == Character.UnicodeScript.COMMON)? unknown : common;\n+            Matcher other = (script == UnicodeScript.COMMON)? unknown : common;\n@@ -3658,1 +3659,1 @@\n-            Character.UnicodeBlock block = Character.UnicodeBlock.of(cp);\n+            UnicodeBlock block = UnicodeBlock.of(cp);\n@@ -3670,1 +3671,1 @@\n-            other = (block == Character.UnicodeBlock.BASIC_LATIN)? greek : latin;\n+            other = (block == UnicodeBlock.BASIC_LATIN)? greek : latin;\n@@ -3702,1 +3703,1 @@\n-             String s = \"A\" + new String(Character.toChars(cp)) + \"B\";\n+             String s = \"A\" + new String(toChars(cp)) + \"B\";\n@@ -3705,2 +3706,2 @@\n-                                               (int) Character.toChars(cp)[0],\n-                                               (int) Character.toChars(cp)[1]);\n+                                               (int) toChars(cp)[0],\n+                                               (int) toChars(cp)[1]);\n@@ -3718,15 +3719,13 @@\n-        Matcher lower  = Pattern.compile(\"\\\\p{Lower}\").matcher(\"\");\n-        Matcher upper  = Pattern.compile(\"\\\\p{Upper}\").matcher(\"\");\n-        Matcher ASCII  = Pattern.compile(\"\\\\p{ASCII}\").matcher(\"\");\n-        Matcher alpha  = Pattern.compile(\"\\\\p{Alpha}\").matcher(\"\");\n-        Matcher digit  = Pattern.compile(\"\\\\p{Digit}\").matcher(\"\");\n-        Matcher alnum  = Pattern.compile(\"\\\\p{Alnum}\").matcher(\"\");\n-        Matcher punct  = Pattern.compile(\"\\\\p{Punct}\").matcher(\"\");\n-        Matcher graph  = Pattern.compile(\"\\\\p{Graph}\").matcher(\"\");\n-        Matcher print  = Pattern.compile(\"\\\\p{Print}\").matcher(\"\");\n-        Matcher blank  = Pattern.compile(\"\\\\p{Blank}\").matcher(\"\");\n-        Matcher cntrl  = Pattern.compile(\"\\\\p{Cntrl}\").matcher(\"\");\n-        Matcher xdigit = Pattern.compile(\"\\\\p{XDigit}\").matcher(\"\");\n-        Matcher space  = Pattern.compile(\"\\\\p{Space}\").matcher(\"\");\n-        Matcher bound  = Pattern.compile(\"\\\\b\").matcher(\"\");\n-        Matcher word   = Pattern.compile(\"\\\\w++\").matcher(\"\");\n+        Matcher lower    = Pattern.compile(\"\\\\p{Lower}\").matcher(\"\");\n+        Matcher upper    = Pattern.compile(\"\\\\p{Upper}\").matcher(\"\");\n+        Matcher alpha    = Pattern.compile(\"\\\\p{Alpha}\").matcher(\"\");\n+        Matcher digit    = Pattern.compile(\"\\\\p{Digit}\").matcher(\"\");\n+        Matcher alnum    = Pattern.compile(\"\\\\p{Alnum}\").matcher(\"\");\n+        Matcher punct    = Pattern.compile(\"\\\\p{Punct}\").matcher(\"\");\n+        Matcher graph    = Pattern.compile(\"\\\\p{Graph}\").matcher(\"\");\n+        Matcher print    = Pattern.compile(\"\\\\p{Print}\").matcher(\"\");\n+        Matcher blank    = Pattern.compile(\"\\\\p{Blank}\").matcher(\"\");\n+        Matcher cntrl    = Pattern.compile(\"\\\\p{Cntrl}\").matcher(\"\");\n+        Matcher xdigit   = Pattern.compile(\"\\\\p{XDigit}\").matcher(\"\");\n+        Matcher space    = Pattern.compile(\"\\\\p{Space}\").matcher(\"\");\n+        Matcher word     = Pattern.compile(\"\\\\w++\").matcher(\"\");\n@@ -3734,15 +3733,14 @@\n-        Matcher lowerU  = Pattern.compile(\"\\\\p{Lower}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher upperU  = Pattern.compile(\"\\\\p{Upper}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher ASCIIU  = Pattern.compile(\"\\\\p{ASCII}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher alphaU  = Pattern.compile(\"\\\\p{Alpha}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher digitU  = Pattern.compile(\"\\\\p{Digit}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher alnumU  = Pattern.compile(\"\\\\p{Alnum}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher punctU  = Pattern.compile(\"\\\\p{Punct}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher graphU  = Pattern.compile(\"\\\\p{Graph}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher printU  = Pattern.compile(\"\\\\p{Print}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher blankU  = Pattern.compile(\"\\\\p{Blank}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher cntrlU  = Pattern.compile(\"\\\\p{Cntrl}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher xdigitU = Pattern.compile(\"\\\\p{XDigit}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher spaceU  = Pattern.compile(\"\\\\p{Space}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher boundU  = Pattern.compile(\"\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher wordU   = Pattern.compile(\"\\\\w\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher lowerU   = Pattern.compile(\"\\\\p{Lower}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher upperU   = Pattern.compile(\"\\\\p{Upper}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher alphaU   = Pattern.compile(\"\\\\p{Alpha}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher digitU   = Pattern.compile(\"\\\\p{Digit}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher alnumU   = Pattern.compile(\"\\\\p{Alnum}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher punctU   = Pattern.compile(\"\\\\p{Punct}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher graphU   = Pattern.compile(\"\\\\p{Graph}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher printU   = Pattern.compile(\"\\\\p{Print}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher blankU   = Pattern.compile(\"\\\\p{Blank}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher cntrlU   = Pattern.compile(\"\\\\p{Cntrl}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher xdigitU  = Pattern.compile(\"\\\\p{XDigit}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher spaceU   = Pattern.compile(\"\\\\p{Space}\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher boundU   = Pattern.compile(\"\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher wordU    = Pattern.compile(\"\\\\w\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n@@ -3754,3 +3752,3 @@\n-        Matcher bwb    = Pattern.compile(\"\\\\b\\\\w\\\\b\").matcher(\"\");\n-        Matcher bwbU   = Pattern.compile(\"\\\\b\\\\w++\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n-        Matcher bwbEU  = Pattern.compile(\"(?U)\\\\b\\\\w++\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher bwb      = Pattern.compile(\"\\\\b\\\\w\\\\b\").matcher(\"\");\n+        Matcher bwbU     = Pattern.compile(\"\\\\b\\\\w++\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n+        Matcher bwbEU    = Pattern.compile(\"(?U)\\\\b\\\\w++\\\\b\", Pattern.UNICODE_CHARACTER_CLASS).matcher(\"\");\n@@ -3758,8 +3756,8 @@\n-        Matcher lowerP  = Pattern.compile(\"\\\\p{IsLowerCase}\").matcher(\"\");\n-        Matcher upperP  = Pattern.compile(\"\\\\p{IsUpperCase}\").matcher(\"\");\n-        Matcher titleP  = Pattern.compile(\"\\\\p{IsTitleCase}\").matcher(\"\");\n-        Matcher letterP = Pattern.compile(\"\\\\p{IsLetter}\").matcher(\"\");\n-        Matcher alphaP  = Pattern.compile(\"\\\\p{IsAlphabetic}\").matcher(\"\");\n-        Matcher ideogP  = Pattern.compile(\"\\\\p{IsIdeographic}\").matcher(\"\");\n-        Matcher cntrlP  = Pattern.compile(\"\\\\p{IsControl}\").matcher(\"\");\n-        Matcher spaceP  = Pattern.compile(\"\\\\p{IsWhiteSpace}\").matcher(\"\");\n+        Matcher lowerP   = Pattern.compile(\"\\\\p{IsLowerCase}\").matcher(\"\");\n+        Matcher upperP   = Pattern.compile(\"\\\\p{IsUpperCase}\").matcher(\"\");\n+        Matcher titleP   = Pattern.compile(\"\\\\p{IsTitleCase}\").matcher(\"\");\n+        Matcher letterP  = Pattern.compile(\"\\\\p{IsLetter}\").matcher(\"\");\n+        Matcher alphaP   = Pattern.compile(\"\\\\p{IsAlphabetic}\").matcher(\"\");\n+        Matcher ideogP   = Pattern.compile(\"\\\\p{IsIdeographic}\").matcher(\"\");\n+        Matcher cntrlP   = Pattern.compile(\"\\\\p{IsControl}\").matcher(\"\");\n+        Matcher spaceP   = Pattern.compile(\"\\\\p{IsWhiteSpace}\").matcher(\"\");\n@@ -3767,1 +3765,1 @@\n-        Matcher nonCCPP = Pattern.compile(\"\\\\p{IsNoncharacterCodePoint}\").matcher(\"\");\n+        Matcher nonCCPP  = Pattern.compile(\"\\\\p{IsNoncharacterCodePoint}\").matcher(\"\");\n@@ -3769,0 +3767,7 @@\n+        \/\/ Emoji properties\n+        Matcher emojiP   = Pattern.compile(\"\\\\p{IsEmoji}\").matcher(\"\");\n+        Matcher emojiPP  = Pattern.compile(\"\\\\p{IsEmoji_Presentation}\").matcher(\"\");\n+        Matcher emojiMP  = Pattern.compile(\"\\\\p{IsEmoji_Modifier}\").matcher(\"\");\n+        Matcher emojiMBP = Pattern.compile(\"\\\\p{IsEmoji_Modifier_Base}\").matcher(\"\");\n+        Matcher emojiCP  = Pattern.compile(\"\\\\p{IsEmoji_Component}\").matcher(\"\");\n+        Matcher extPP    = Pattern.compile(\"\\\\p{IsExtended_Pictographic}\").matcher(\"\");\n@@ -3770,4 +3775,4 @@\n-        Matcher lowerJ  = Pattern.compile(\"\\\\p{javaLowerCase}\").matcher(\"\");\n-        Matcher upperJ  = Pattern.compile(\"\\\\p{javaUpperCase}\").matcher(\"\");\n-        Matcher alphaJ  = Pattern.compile(\"\\\\p{javaAlphabetic}\").matcher(\"\");\n-        Matcher ideogJ  = Pattern.compile(\"\\\\p{javaIdeographic}\").matcher(\"\");\n+        Matcher lowerJ   = Pattern.compile(\"\\\\p{javaLowerCase}\").matcher(\"\");\n+        Matcher upperJ   = Pattern.compile(\"\\\\p{javaUpperCase}\").matcher(\"\");\n+        Matcher alphaJ   = Pattern.compile(\"\\\\p{javaAlphabetic}\").matcher(\"\");\n+        Matcher ideogJ   = Pattern.compile(\"\\\\p{javaIdeographic}\").matcher(\"\");\n@@ -3775,1 +3780,1 @@\n-        Matcher gcC  = Pattern.compile(\"\\\\p{C}\").matcher(\"\");\n+        Matcher gcC      = Pattern.compile(\"\\\\p{C}\").matcher(\"\");\n@@ -3778,2 +3783,2 @@\n-            String str = new String(Character.toChars(cp));\n-            int type = Character.getType(cp);\n+            String str = new String(toChars(cp));\n+            int type = getType(cp);\n@@ -3781,5 +3786,5 @@\n-                POSIX_ASCII.isLower(cp)   != lower.reset(str).matches()  ||\n-                Character.isLowerCase(cp) != lowerU.reset(str).matches() ||\n-                Character.isLowerCase(cp) != lowerP.reset(str).matches() ||\n-                Character.isLowerCase(cp) != lowerEU.reset(str).matches()||\n-                Character.isLowerCase(cp) != lowerJ.reset(str).matches()||\n+                POSIX_ASCII.isLower(cp)      != lower.reset(str).matches()  ||\n+                isLowerCase(cp)              != lowerU.reset(str).matches() ||\n+                isLowerCase(cp)              != lowerP.reset(str).matches() ||\n+                isLowerCase(cp)              != lowerEU.reset(str).matches()||\n+                isLowerCase(cp)              != lowerJ.reset(str).matches()||\n@@ -3787,4 +3792,4 @@\n-                POSIX_ASCII.isUpper(cp)   != upper.reset(str).matches()  ||\n-                POSIX_Unicode.isUpper(cp) != upperU.reset(str).matches() ||\n-                Character.isUpperCase(cp) != upperP.reset(str).matches() ||\n-                Character.isUpperCase(cp) != upperJ.reset(str).matches() ||\n+                POSIX_ASCII.isUpper(cp)      != upper.reset(str).matches()  ||\n+                POSIX_Unicode.isUpper(cp)    != upperU.reset(str).matches() ||\n+                isUpperCase(cp)              != upperP.reset(str).matches() ||\n+                isUpperCase(cp)              != upperJ.reset(str).matches() ||\n@@ -3792,4 +3797,4 @@\n-                POSIX_ASCII.isAlpha(cp)   != alpha.reset(str).matches()  ||\n-                POSIX_Unicode.isAlpha(cp) != alphaU.reset(str).matches() ||\n-                Character.isAlphabetic(cp)!= alphaP.reset(str).matches() ||\n-                Character.isAlphabetic(cp)!= alphaJ.reset(str).matches() ||\n+                POSIX_ASCII.isAlpha(cp)      != alpha.reset(str).matches()  ||\n+                POSIX_Unicode.isAlpha(cp)    != alphaU.reset(str).matches() ||\n+                isAlphabetic(cp)             != alphaP.reset(str).matches() ||\n+                isAlphabetic(cp)             != alphaJ.reset(str).matches() ||\n@@ -3797,2 +3802,2 @@\n-                POSIX_ASCII.isDigit(cp)   != digit.reset(str).matches()  ||\n-                Character.isDigit(cp)     != digitU.reset(str).matches() ||\n+                POSIX_ASCII.isDigit(cp)      != digit.reset(str).matches()  ||\n+                isDigit(cp)                  != digitU.reset(str).matches() ||\n@@ -3800,2 +3805,2 @@\n-                POSIX_ASCII.isAlnum(cp)   != alnum.reset(str).matches()  ||\n-                POSIX_Unicode.isAlnum(cp) != alnumU.reset(str).matches() ||\n+                POSIX_ASCII.isAlnum(cp)      != alnum.reset(str).matches()  ||\n+                POSIX_Unicode.isAlnum(cp)    != alnumU.reset(str).matches() ||\n@@ -3803,2 +3808,2 @@\n-                POSIX_ASCII.isPunct(cp)   != punct.reset(str).matches()  ||\n-                POSIX_Unicode.isPunct(cp) != punctU.reset(str).matches() ||\n+                POSIX_ASCII.isPunct(cp)      != punct.reset(str).matches()  ||\n+                POSIX_Unicode.isPunct(cp)    != punctU.reset(str).matches() ||\n@@ -3806,3 +3811,3 @@\n-                POSIX_ASCII.isGraph(cp)   != graph.reset(str).matches()  ||\n-                POSIX_Unicode.isGraph(cp) != graphU.reset(str).matches() ||\n-                POSIX_Unicode.isGraph(cp) != graphEU.reset(str).matches()||\n+                POSIX_ASCII.isGraph(cp)      != graph.reset(str).matches()  ||\n+                POSIX_Unicode.isGraph(cp)    != graphU.reset(str).matches() ||\n+                POSIX_Unicode.isGraph(cp)    != graphEU.reset(str).matches()||\n@@ -3811,2 +3816,2 @@\n-                                          != blank.reset(str).matches()  ||\n-                POSIX_Unicode.isBlank(cp) != blankU.reset(str).matches() ||\n+                                             != blank.reset(str).matches()  ||\n+                POSIX_Unicode.isBlank(cp)    != blankU.reset(str).matches() ||\n@@ -3814,2 +3819,2 @@\n-                POSIX_ASCII.isPrint(cp)   != print.reset(str).matches()  ||\n-                POSIX_Unicode.isPrint(cp) != printU.reset(str).matches() ||\n+                POSIX_ASCII.isPrint(cp)      != print.reset(str).matches()  ||\n+                POSIX_Unicode.isPrint(cp)    != printU.reset(str).matches() ||\n@@ -3817,3 +3822,3 @@\n-                POSIX_ASCII.isCntrl(cp)   != cntrl.reset(str).matches()  ||\n-                POSIX_Unicode.isCntrl(cp) != cntrlU.reset(str).matches() ||\n-                (Character.CONTROL == type) != cntrlP.reset(str).matches() ||\n+                POSIX_ASCII.isCntrl(cp)      != cntrl.reset(str).matches()  ||\n+                POSIX_Unicode.isCntrl(cp)    != cntrlU.reset(str).matches() ||\n+                (CONTROL == type)            != cntrlP.reset(str).matches() ||\n@@ -3824,3 +3829,3 @@\n-                POSIX_ASCII.isSpace(cp)   != space.reset(str).matches()  ||\n-                POSIX_Unicode.isSpace(cp) != spaceU.reset(str).matches() ||\n-                POSIX_Unicode.isSpace(cp) != spaceP.reset(str).matches() ||\n+                POSIX_ASCII.isSpace(cp)      != space.reset(str).matches()  ||\n+                POSIX_Unicode.isSpace(cp)    != spaceU.reset(str).matches() ||\n+                POSIX_Unicode.isSpace(cp)    != spaceP.reset(str).matches() ||\n@@ -3828,3 +3833,3 @@\n-                POSIX_ASCII.isWord(cp)   != word.reset(str).matches()  ||\n-                POSIX_Unicode.isWord(cp) != wordU.reset(str).matches() ||\n-                POSIX_Unicode.isWord(cp) != wordEU.reset(str).matches()||\n+                POSIX_ASCII.isWord(cp)       != word.reset(str).matches()  ||\n+                POSIX_Unicode.isWord(cp)     != wordU.reset(str).matches() ||\n+                POSIX_Unicode.isWord(cp)     != wordEU.reset(str).matches()||\n@@ -3832,2 +3837,2 @@\n-                POSIX_ASCII.isWord(cp) != bwb.reset(str).matches() ||\n-                POSIX_Unicode.isWord(cp) != bwbU.reset(str).matches() ||\n+                POSIX_ASCII.isWord(cp)       != bwb.reset(str).matches() ||\n+                POSIX_Unicode.isWord(cp)     != bwbU.reset(str).matches() ||\n@@ -3835,7 +3840,16 @@\n-                Character.isTitleCase(cp) != titleP.reset(str).matches() ||\n-                Character.isLetter(cp)    != letterP.reset(str).matches()||\n-                Character.isIdeographic(cp) != ideogP.reset(str).matches() ||\n-                Character.isIdeographic(cp) != ideogJ.reset(str).matches() ||\n-                (Character.UNASSIGNED == type) == definedP.reset(str).matches() ||\n-                POSIX_Unicode.isNoncharacterCodePoint(cp) != nonCCPP.reset(str).matches() ||\n-                POSIX_Unicode.isJoinControl(cp) != joinCrtl.reset(str).matches() ||\n+                isTitleCase(cp)              != titleP.reset(str).matches() ||\n+                isLetter(cp)                 != letterP.reset(str).matches()||\n+                isIdeographic(cp)            != ideogP.reset(str).matches() ||\n+                isIdeographic(cp)            != ideogJ.reset(str).matches() ||\n+                (UNASSIGNED == type)         == definedP.reset(str).matches() ||\n+                POSIX_Unicode.isNoncharacterCodePoint(cp)\n+                                             != nonCCPP.reset(str).matches() ||\n+                POSIX_Unicode.isJoinControl(cp)\n+                                             != joinCrtl.reset(str).matches() ||\n+                \/\/ Emoji properties\n+                isEmoji(cp)                  != emojiP.reset(str).matches() ||\n+                isEmojiPresentation(cp)      != emojiPP.reset(str).matches() ||\n+                isEmojiModifier(cp)          != emojiMP.reset(str).matches() ||\n+                isEmojiModifierBase(cp)      != emojiMBP.reset(str).matches() ||\n+                isEmojiComponent(cp)         != emojiCP.reset(str).matches() ||\n+                isExtendedPictographic(cp)   != extPP.reset(str).matches() ||\n@@ -3843,4 +3857,4 @@\n-                (Character.CONTROL == type || Character.FORMAT == type ||\n-                 Character.PRIVATE_USE == type || Character.SURROGATE == type ||\n-                 Character.UNASSIGNED == type)\n-                != gcC.reset(str).matches()) {\n+                (CONTROL == type || FORMAT == type ||\n+                 PRIVATE_USE == type || SURROGATE == type ||\n+                 UNASSIGNED == type)\n+                                             != gcC.reset(str).matches()) {\n@@ -3864,3 +3878,3 @@\n-        for (int cp = 0; cp < Character.MAX_CODE_POINT; cp++) {\n-            if (!Character.isValidCodePoint(cp) ||\n-                Character.getType(cp) == Character.UNASSIGNED)\n+        for (int cp = 0; cp < MAX_CODE_POINT; cp++) {\n+            if (!isValidCodePoint(cp) ||\n+                getType(cp) == UNASSIGNED)\n@@ -3868,1 +3882,1 @@\n-            String str = new String(Character.toChars(cp));\n+            String str = new String(toChars(cp));\n@@ -3870,1 +3884,1 @@\n-            String p = \"\\\\N{\" + Character.getName(cp) + \"}\";\n+            String p = \"\\\\N{\" + getName(cp) + \"}\";\n@@ -3873,1 +3887,1 @@\n-            p = \"[\\\\N{\" + Character.getName(cp) + \"}]\";\n+            p = \"[\\\\N{\" + getName(cp) + \"}]\";\n@@ -3881,1 +3895,1 @@\n-            String p = \"[\\\\N{\" + Character.getName(start) + \"}-\\\\N{\" + Character.getName(end) + \"}]\";\n+            String p = \"[\\\\N{\" + getName(start) + \"}-\\\\N{\" + getName(end) + \"}]\";\n@@ -3884,1 +3898,1 @@\n-                str = new String(Character.toChars(cp));\n+                str = new String(toChars(cp));\n@@ -3887,1 +3901,1 @@\n-            str = new String(Character.toChars(end + 10));\n+            str = new String(toChars(end + 10));\n@@ -3898,2 +3912,2 @@\n-                if (!Character.isValidCodePoint(cp) ||\n-                    Character.getType(cp) == Character.UNASSIGNED)\n+                if (!isValidCodePoint(cp) ||\n+                    getType(cp) == UNASSIGNED)\n@@ -3901,1 +3915,1 @@\n-                sb.append(\"\\\\N{\").append(Character.getName(cp)).append(\"}\");\n+                sb.append(\"\\\\N{\").append(getName(cp)).append(\"}\");\n@@ -4597,1 +4611,1 @@\n-        for(int cp = 0; cp <= Character.MAX_CODE_POINT; cp++){\n+        for(int cp = 0; cp <= MAX_CODE_POINT; cp++){\n@@ -4609,1 +4623,1 @@\n-        if (Character.isBmpCodePoint(cp)) {\n+        if (isBmpCodePoint(cp)) {\n@@ -4612,2 +4626,2 @@\n-            cpString = \"\" + Character.highSurrogate(cp) +\n-                    Character.lowSurrogate(cp);\n+            cpString = \"\" + highSurrogate(cp) +\n+                    lowSurrogate(cp);\n","filename":"test\/jdk\/java\/util\/regex\/RegExTest.java","additions":196,"deletions":182,"binary":false,"changes":378,"status":"modified"}]}