{"files":[{"patch":"@@ -1036,2 +1036,2 @@\n-    private boolean isVector(Value vectorValue) {\n-        return vectorValue.getPlatformKind().getVectorLength() > 1;\n+    private boolean isVector(Value value) {\n+        return value.getPlatformKind().getVectorLength() > 1;\n@@ -1050,1 +1050,10 @@\n-            Tag tag = kind == JavaKind.Object ? (isVector(reg) ? REGISTER_VECTOR : isNarrowOop(reg) ? REGISTER_NARROW_OOP : REGISTER_OOP) : REGISTER_PRIMITIVE;\n+            Tag tag;\n+            if (kind == JavaKind.Object) {\n+                if (isVector(reg)) {\n+                    tag = REGISTER_VECTOR;\n+                } else {\n+                    tag = isNarrowOop(reg) ? REGISTER_NARROW_OOP : REGISTER_OOP;\n+                }\n+            } else {\n+                tag = REGISTER_PRIMITIVE;\n+            }\n@@ -1055,1 +1064,10 @@\n-            Tag tag = kind == JavaKind.Object ? (isVector(slot) ? STACK_SLOT_VECTOR : isNarrowOop(slot) ? STACK_SLOT_NARROW_OOP : STACK_SLOT_OOP) : STACK_SLOT_PRIMITIVE;\n+            Tag tag;\n+            if (kind == JavaKind.Object) {\n+                if (isVector(slot)) {\n+                    tag = STACK_SLOT_VECTOR;\n+                } else {\n+                    tag = isNarrowOop(slot) ? STACK_SLOT_NARROW_OOP : STACK_SLOT_OOP;\n+                }\n+            } else {\n+                tag = STACK_SLOT_PRIMITIVE;\n+            }\n","filename":"src\/jdk.internal.vm.ci\/share\/classes\/jdk\/vm\/ci\/hotspot\/HotSpotCompiledCodeStream.java","additions":22,"deletions":4,"binary":false,"changes":26,"status":"modified"}]}