{"files":[{"patch":"@@ -106,4 +106,1 @@\n-    if (os::uncommit_memory((char *) low_addr, len)) {\n-      log_warning(os, thread)(\"Attempt to deallocate stack guard pages failed.\");\n-    }\n-    return;\n+    vm_exit_out_of_memory(len, OOM_MPROTECT_ERROR, \"memory to guard stack pages\");\n","filename":"src\/hotspot\/share\/runtime\/stackOverflow.cpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -152,1 +152,2 @@\n-  OOM_MMAP_ERROR   = 0xe0000002\n+  OOM_MMAP_ERROR   = 0xe0000002,\n+  OOM_MPROTECT_ERROR = 0xe0000003\n","filename":"src\/hotspot\/share\/utilities\/debug.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -513,0 +513,1 @@\n+       case OOM_MPROTECT_ERROR:\n@@ -516,1 +517,2 @@\n-                                                 \"(mmap) failed to map \");\n+                     (_id == (int)OOM_MMAP_ERROR)   ? \"(mmap) failed to map \" :\n+                                                      \"(mprotect) failed to protect \");\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -135,2 +135,0 @@\n-vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted001\/TestDescription.java 8253916 linux-all\n-vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted004\/TestDescription.java 8253916 linux-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+ * @bug 8253916\n@@ -40,1 +41,1 @@\n- * @run main\/othervm\/native\/timeout=240\n+ * @run main\/othervm\/native\/manual\/timeout=240\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted001\/TestDescription.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+ * @bug 8253916\n@@ -42,1 +43,1 @@\n- * @run main\/othervm\/native\n+ * @run main\/othervm\/native\/manual\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted004\/TestDescription.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}