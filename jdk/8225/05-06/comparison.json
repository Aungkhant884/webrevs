{"files":[{"patch":"@@ -674,6 +674,8 @@\n-  trace->num_frames = ticks_unknown_state;\n-  AsyncGetCallTraceCallBack cb(trace, depth, ucontext);\n-  os::ThreadCrashProtection crash_protection;\n-  if (!crash_protection.call(cb)) {\n-    if (trace->num_frames >= 0) {\n-      trace->num_frames = ticks_unknown_state;\n+  if (CrashProtectAsyncGetCallTrace) {\n+    trace->num_frames = ticks_unknown_state;\n+    AsyncGetCallTraceCallBack cb(trace, depth, ucontext);\n+    os::ThreadCrashProtection crash_protection;\n+    if (!crash_protection.call(cb)) {\n+      if (trace->num_frames >= 0) {\n+        trace->num_frames = ticks_unknown_state;\n+      }\n@@ -681,0 +683,2 @@\n+  } else {\n+    asyncGetCallTraceImpl(trace, depth, ucontext);\n","filename":"src\/hotspot\/share\/prims\/forte.cpp","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2031,0 +2031,3 @@\n+                                                                            \\\n+  product(bool, CrashProtectAsyncGetCallTrace, true,                        \\\n+                \"Catch segmentation fault in AsyncGetCallTrace silently \")  \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}