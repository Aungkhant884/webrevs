{"files":[{"patch":"@@ -509,1 +509,1 @@\n-  JavaThread* thread;\n+  JavaThread* thread = JavaThread::current();\n@@ -511,2 +511,1 @@\n-  if (trace->env_id == NULL ||\n-      (thread = JavaThread::thread_from_jni_environment(trace->env_id))->is_exiting()) {\n+  if (trace->env_id == NULL || thread->is_terminated() || thread->is_exiting()) {\n@@ -524,1 +523,1 @@\n-  assert(JavaThread::current() == thread,\n+  assert(thread == JavaThread::thread_from_jni_environment(trace->env_id),\n","filename":"src\/hotspot\/share\/prims\/forte.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"}]}