{"files":[{"patch":"@@ -50,0 +50,1 @@\n+        private static int CYCLE = 1000;\n@@ -53,0 +54,1 @@\n+                int iteration = 0;\n@@ -54,0 +56,1 @@\n+                        GarbageProducer garbageProducer = new GeneratedClassProducer();\n@@ -55,2 +58,10 @@\n-                                log.info(\"Iteration: \" + stresser.getIteration());\n-                                WhiteBox.getWhiteBox().fullGC();\n+                                garbageProducer.create(512L);\n+                                if(iteration++ > CYCLE) {\n+                                    \/\/ Unload once every cycle.\n+                                    iteration = 0;\n+                                    garbageProducer = null;\n+                                    \/\/ Perform GC so that\n+                                    \/\/ class gets unloaded\n+                                    WhiteBox.getWhiteBox().fullGC();\n+                                    garbageProducer = new GeneratedClassProducer();\n+                               }\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/gc\/gctests\/LoadUnloadGC2\/LoadUnloadGC2.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"}]}