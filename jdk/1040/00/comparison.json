{"files":[{"patch":"@@ -326,3 +326,3 @@\n-    vm_exit_during_cds_dumping(\n-      err_msg(\"Out of memory. Please run with a larger Java heap, current MaxHeapSize = \" SIZE_FORMAT \"M\",\n-              MaxHeapSize\/M));\n+    vm_direct_exit(-1,\n+      err_msg(\"Out of memory. Please run with a larger Java heap, current MaxHeapSize = \"\n+              SIZE_FORMAT \"M\", MaxHeapSize\/M));\n","filename":"src\/hotspot\/share\/memory\/archiveUtils.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1034,1 +1034,1 @@\n-      vm_exit_during_initialization(\"VM exits due to exception, use -Xlog:cds,exceptions=trace for detail\");\n+      vm_direct_exit(-1, \"VM exits due to exception, use -Xlog:cds,exceptions=trace for detail\");\n","filename":"src\/hotspot\/share\/memory\/heapShared.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -581,0 +581,7 @@\n+void vm_direct_exit(int code, const char* message) {\n+  if (message != nullptr) {\n+    tty->print_cr(\"%s\", message);\n+  }\n+  vm_direct_exit(code);\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,0 +38,1 @@\n+extern void vm_direct_exit(int code, const char* message);\n","filename":"src\/hotspot\/share\/runtime\/java.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}