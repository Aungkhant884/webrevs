{"files":[{"patch":"@@ -28,1 +28,0 @@\n- * @library \/test\/lib\n@@ -36,1 +35,0 @@\n-import jdk.test.lib.Platform;\n@@ -132,1 +130,1 @@\n-        int m = def.deflate(out1);\n+        int m = 0;\n@@ -134,0 +132,8 @@\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream(len);\n+        while (!def.finished()) {\n+            int temp_counter = def.deflate(out1);\n+            m += temp_counter;\n+            baos.write(out1, 0, temp_counter);\n+        }\n+        out1 = baos.toByteArray();\n+        baos.reset();\n@@ -136,1 +142,1 @@\n-        int n = inf.inflate(out2);\n+        int n = 0;\n@@ -138,0 +144,7 @@\n+        while (!inf.finished()) {\n+            int temp_counter = inf.inflate(out2);\n+            n += temp_counter;\n+            baos.write(out2, 0,  temp_counter);\n+        }\n+        out2 = baos.toByteArray();\n+        baos.close();\n@@ -273,1 +286,1 @@\n-        byte[] dataOut1 = new byte[dataIn.length + 1024 * (Platform.isS390x() ? 64 : 1)];\n+        byte[] dataOut1 = new byte[dataIn.length + 1024];\n","filename":"test\/jdk\/java\/util\/zip\/DeInflate.java","additions":18,"deletions":5,"binary":false,"changes":23,"status":"modified"}]}