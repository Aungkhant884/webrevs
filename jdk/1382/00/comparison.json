{"files":[{"patch":"@@ -223,1 +223,0 @@\n-  ExternalAddress cardtable((address) ct->byte_map_base());\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/g1\/g1BarrierSetAssembler_aarch64.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -4432,12 +4432,3 @@\n-  if (is_valid_AArch64_address((address)byte_map_base)) {\n-    \/\/ Strictly speaking the byte_map_base isn't an address at all,\n-    \/\/ and it might even be negative.\n-    uint64_t offset;\n-    adrp(reg, ExternalAddress((address)byte_map_base), offset);\n-    \/\/ We expect offset to be zero with most collectors.\n-    if (offset != 0) {\n-      add(reg, reg, offset);\n-    }\n-  } else {\n-    mov(reg, (uint64_t)byte_map_base);\n-  }\n+  \/\/ Strictly speaking the byte_map_base isn't an address at all, and it might\n+  \/\/ even be negative. It is thus materialised as a constant.\n+  mov(reg, (uint64_t)byte_map_base);\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":3,"deletions":12,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -735,5 +735,4 @@\n-  address target = _target;\n-  if (target == NULL) {\n-    \/\/ An absolute embedded reference to an external location,\n-    \/\/ which means there is nothing to fix here.\n-    return;\n+  if (_target != NULL) {\n+    \/\/ Probably this reference is absolute,  not relative, so the following is\n+    \/\/ probably a no-op.\n+    set_value(_target);\n@@ -741,4 +740,5 @@\n-  \/\/ Probably this reference is absolute, not relative, so the\n-  \/\/ following is probably a no-op.\n-  assert(src->section_index_of(target) == CodeBuffer::SECT_NONE, \"sanity\");\n-  set_value(target);\n+  \/\/ If target is NULL, this is  an absolute embedded reference to an external\n+  \/\/ location, which means  there is nothing to fix here.  In either case, the\n+  \/\/ resulting target should be an \"external\" address.\n+  postcond(src->section_index_of(target()) == CodeBuffer::SECT_NONE);\n+  postcond(dest->section_index_of(target()) == CodeBuffer::SECT_NONE);\n","filename":"src\/hotspot\/share\/code\/relocInfo.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"}]}