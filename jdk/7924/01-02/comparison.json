{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,2 +53,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-                \"-Duser.language=en\", \"-Duser.country=US\", className);\n+        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(className);\n@@ -68,2 +67,1 @@\n-        pb = ProcessTools.createJavaProcessBuilder(\n-                \"-Duser.language=en\", \"-Duser.country=US\", className);\n+        pb = ProcessTools.createJavaProcessBuilder(className);\n","filename":"test\/hotspot\/jtreg\/runtime\/classFileParserBug\/TestEmptyBootstrapMethodsAttr.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -91,1 +91,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createJavaProcessBuilderWithLocale(false,\n","filename":"test\/jdk\/jdk\/internal\/misc\/VM\/RuntimeArguments.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -245,3 +245,0 @@\n-        } else {\n-            options.add(\"-J-Duser.language=en\");\n-            options.add(\"-J-Duser.country=us\");\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/testLocaleOption\/TestLocaleOption.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -128,1 +128,1 @@\n-                .options(\"-XDrawDiagnostics\", \"-J-Duser.language=en\", \"-J-Duser.country=US\")\n+                .options(\"-XDrawDiagnostics\")\n@@ -141,1 +141,1 @@\n-                    .options(\"-Xlint:path\", \"-XDrawDiagnostics\", \"-J-Duser.language=en\", \"-J-Duser.country=US\")\n+                    .options(\"-Xlint:path\", \"-XDrawDiagnostics\")\n","filename":"test\/langtools\/tools\/javac\/T8132562\/ClassPathWithDoubleQuotesTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -209,1 +209,0 @@\n-                .options(\"-J-Duser.language=en\", \"-J-Duser.country=US\")\n","filename":"test\/langtools\/tools\/javac\/options\/smokeTests\/OptionSmokeTest.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -134,2 +134,1 @@\n-                  .options(\"-J-Duser.language=en\", \"-J-Duser.country=US\",\n-                           \"-J--class-path=\" + System.getProperty(\"test.classes\"),\n+                  .options(\"-J--class-path=\" + System.getProperty(\"test.classes\"),\n","filename":"test\/langtools\/tools\/javac\/platform\/PlatformProviderTest.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,1 @@\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n+import java.util.*;\n@@ -299,0 +294,1 @@\n+     * The default locale will set to US to produce english output.\n@@ -345,0 +341,2 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n@@ -382,0 +380,1 @@\n+            Locale.setDefault(defaultLocale);\n@@ -392,0 +391,3 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n+\n@@ -394,1 +396,3 @@\n-        return com.sun.tools.javac.Main.compile(argsArray, pw);\n+        int exitCode = com.sun.tools.javac.Main.compile(argsArray, pw);\n+        Locale.setDefault(defaultLocale);\n+        return exitCode;\n@@ -401,0 +405,4 @@\n+\n+        args.add(\"-J-Duser.language=en\");\n+        args.add(\"-J-Duser.country=US\");\n+\n","filename":"test\/langtools\/tools\/lib\/toolbox\/JavacTask.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,1 @@\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n+import java.util.*;\n@@ -272,0 +267,1 @@\n+     * The default locale will set to US to produce english output.\n@@ -311,0 +307,2 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n@@ -339,0 +337,1 @@\n+            Locale.setDefault(defaultLocale);\n@@ -349,0 +348,3 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n+\n@@ -351,1 +353,3 @@\n-        return jdk.javadoc.internal.tool.Main.execute(argsArray, pw);\n+        int exitCode = jdk.javadoc.internal.tool.Main.execute(argsArray, pw);\n+        Locale.setDefault(defaultLocale);\n+        return exitCode;\n@@ -358,0 +362,4 @@\n+\n+        args.add(1,\"-J-Duser.language=en\");\n+        args.add(2,\"-J-Duser.country=US\");\n+\n","filename":"test\/langtools\/tools\/lib\/toolbox\/JavadocTask.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -292,0 +292,1 @@\n+     * The created jvm default locale will set to US to produce english output.\n@@ -297,0 +298,4 @@\n+        return createJavaProcessBuilderWithLocale(true,command);\n+    }\n+\n+    public static ProcessBuilder createJavaProcessBuilderWithLocale(boolean setUSLocale,String... command) {\n@@ -302,0 +307,5 @@\n+        if (setUSLocale) {\n+            args.add(\"-Duser.language=en\");\n+            args.add(\"-Duser.country=US\");\n+        }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/process\/ProcessTools.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}