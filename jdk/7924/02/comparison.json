{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -91,1 +91,1 @@\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n+        ProcessBuilder pb = ProcessTools.createJavaProcessBuilderWithLocale(false,\n","filename":"test\/jdk\/jdk\/internal\/misc\/VM\/RuntimeArguments.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,0 +59,2 @@\n+                \"-J-Duser.language=en\",\n+                \"-J-Duser.country=US\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/6964914\/TestStdDoclet.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -72,0 +72,2 @@\n+                \"-J-Duser.language=en\",\n+                \"-J-Duser.country=US\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/6964914\/TestUserDoclet.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -109,1 +109,2 @@\n-        setArgs(\"-classpath\", \".\", \/\/ insulates us from ambient classpath\n+        setArgs(\"-J-Duser.language=en\", \"-J-Duser.country=US\",\n+                \"-classpath\", \".\", \/\/ insulates us from ambient classpath\n@@ -120,1 +121,3 @@\n-        setArgs(\"-classpath\", \".\", \/\/ ambient classpath insulation\n+        setArgs(\"-J-Duser.language=en\",\n+                \"-J-Duser.country=US\",\n+                \"-classpath\", \".\", \/\/ ambient classpath insulation\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/EnsureNewOldDoclet.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -83,1 +83,1 @@\n-        Result r = run(\"jdeps --multi-release 9  -v missing.jar\");\n+        Result r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US --multi-release 9  -v missing.jar\");\n@@ -86,1 +86,1 @@\n-        r = run(\"jdeps -v Version.jar\");\n+        r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US -v Version.jar\");\n@@ -118,1 +118,1 @@\n-        r = run(\"jdeps --multi-release 8  -v Version.jar\");\n+        r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US --multi-release 8  -v Version.jar\");\n@@ -121,1 +121,1 @@\n-        r = run(\"jdeps --multi-release 9.1  -v Version.jar\");\n+        r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US --multi-release 9.1  -v Version.jar\");\n@@ -130,1 +130,1 @@\n-        Result r = run(\"jdeps -v -R -cp Version.jar \" + path);\n+        Result r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US -v -R -cp Version.jar \" + path);\n@@ -133,1 +133,1 @@\n-        r = run(\"jdeps -v -R -cp Version.jar --module-path Foo.jar -multi-release 9 \" + path);\n+        r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US -v -R -cp Version.jar --module-path Foo.jar -multi-release 9 \" + path);\n@@ -211,1 +211,1 @@\n-        r = run(\"jdeps -v -R -cp Version.jar --module-path  Foo.jar --multi-release 9.1 \" + path);\n+        r = run(\"jdeps -J-Duser.language=en -J-Duser.country=US -v -R -cp Version.jar --module-path  Foo.jar --multi-release 9.1 \" + path);\n","filename":"test\/langtools\/tools\/jdeps\/MultiReleaseJar.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,1 @@\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n+import java.util.*;\n@@ -299,0 +294,1 @@\n+     * The default locale will set to US to produce english output.\n@@ -345,0 +341,2 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n@@ -382,0 +380,1 @@\n+            Locale.setDefault(defaultLocale);\n@@ -392,0 +391,3 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n+\n@@ -394,1 +396,3 @@\n-        return com.sun.tools.javac.Main.compile(argsArray, pw);\n+        int exitCode = com.sun.tools.javac.Main.compile(argsArray, pw);\n+        Locale.setDefault(defaultLocale);\n+        return exitCode;\n@@ -401,0 +405,4 @@\n+\n+        args.add(\"-J-Duser.language=en\");\n+        args.add(\"-J-Duser.country=US\");\n+\n","filename":"test\/langtools\/tools\/lib\/toolbox\/JavacTask.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,6 +31,1 @@\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.Collections;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n+import java.util.*;\n@@ -272,0 +267,1 @@\n+     * The default locale will set to US to produce english output.\n@@ -311,0 +307,2 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n@@ -339,0 +337,1 @@\n+            Locale.setDefault(defaultLocale);\n@@ -349,0 +348,3 @@\n+        Locale defaultLocale = Locale.getDefault();\n+        Locale.setDefault(Locale.ENGLISH);\n+\n@@ -351,1 +353,3 @@\n-        return jdk.javadoc.internal.tool.Main.execute(argsArray, pw);\n+        int exitCode = jdk.javadoc.internal.tool.Main.execute(argsArray, pw);\n+        Locale.setDefault(defaultLocale);\n+        return exitCode;\n@@ -358,0 +362,4 @@\n+\n+        args.add(1,\"-J-Duser.language=en\");\n+        args.add(2,\"-J-Duser.country=US\");\n+\n","filename":"test\/langtools\/tools\/lib\/toolbox\/JavadocTask.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -292,0 +292,1 @@\n+     * The created jvm default locale will set to US to produce english output.\n@@ -297,0 +298,4 @@\n+        return createJavaProcessBuilderWithLocale(true,command);\n+    }\n+\n+    public static ProcessBuilder createJavaProcessBuilderWithLocale(boolean setUSLocale,String... command) {\n@@ -302,0 +307,5 @@\n+        if (setUSLocale) {\n+            args.add(\"-Duser.language=en\");\n+            args.add(\"-Duser.country=US\");\n+        }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/process\/ProcessTools.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}