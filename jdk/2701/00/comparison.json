{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -239,2 +239,2 @@\n-            \/\/ The last 2 etypes are now weak ones\n-            return Arrays.copyOfRange(result, 0, result.length - 2);\n+            \/\/ The last 4 etypes are now weak ones\n+            return Arrays.copyOfRange(result, 0, result.length - 4);\n","filename":"src\/java.security.jgss\/share\/classes\/sun\/security\/krb5\/internal\/crypto\/EType.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6960894 8194486\n+ * @bug 6960894 8194486 8139348\n@@ -48,1 +48,1 @@\n-                    \"default_tgs_enctypes=des3-cbc-sha1\");\n+                    \"default_tgs_enctypes=aes128-sha1\");\n","filename":"test\/jdk\/sun\/security\/krb5\/auto\/NewSalt.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6932525 6951366 6959292 8194486\n+ * @bug 6932525 6951366 6959292 8194486 8139348\n@@ -30,0 +30,1 @@\n+ * @compile -XDignore.symbol.file W83.java\n@@ -35,1 +36,0 @@\n-import java.io.File;\n@@ -52,1 +52,2 @@\n-        KDC.saveConfig(OneKDC.KRB5_CONF, kdc);\n+        KDC.saveConfig(OneKDC.KRB5_CONF, kdc,\n+                \"allow_weak_crypto = true\");\n","filename":"test\/jdk\/sun\/security\/krb5\/auto\/W83.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,1 +37,1 @@\n- * @bug 6950546\n+ * @bug 6950546 8139348\n@@ -52,0 +52,3 @@\n+        \/\/ This test uses a krb5.conf file that only permits\n+        \/\/ 3 etypes: aes128-cts(17) aes256-cts(18) aes128-sha2(19).\n+\n@@ -53,1 +56,1 @@\n-        check(1,16,1,23,1,17);\n+        check(1,17,1,18,1,19);\n@@ -55,1 +58,1 @@\n-        check(0,16,0,23,0,17);\n+        check(0,17,0,18,0,19);\n@@ -57,1 +60,1 @@\n-        check(0,16,0,23,0,17,1,16,1,23,1,17);\n+        check(0,17,0,18,0,19,1,17,1,18,1,19);\n@@ -59,1 +62,1 @@\n-        check(0,16,0,23,0,17,1,16,1,23,1,17,2,16,2,23,2,17);\n+        check(0,17,0,18,0,19,1,17,1,18,1,19,2,17,2,18,2,19);\n@@ -61,1 +64,1 @@\n-        check(3,16,3,23,3,17);\n+        check(3,17,3,18,3,19);\n@@ -63,1 +66,1 @@\n-        check(3,16,3,23,3,17,4,16,4,23,4,17);\n+        check(3,17,3,18,3,19,4,17,4,18,4,19);\n@@ -65,1 +68,1 @@\n-        check(3,16,3,23,3,17,4,16,4,23,4,17,5,16,5,23,5,17);\n+        check(3,17,3,18,3,19,4,17,4,18,4,19,5,17,5,18,5,19);\n@@ -67,1 +70,1 @@\n-        check(3,16,3,23,3,17,4,16,4,23,4,17,5,16,5,23,5,17,6,16,6,23,6,17);\n+        check(3,17,3,18,3,19,4,17,4,18,4,19,5,17,5,18,5,19,6,17,6,18,6,19);\n@@ -69,3 +72,1 @@\n-        check(4,16,4,23,4,17,5,16,5,23,5,17,6,16,6,23,6,17);\n-        ktab(\"-d me -e 16 6\");\n-        check(4,16,4,23,4,17,5,16,5,23,5,17,6,23,6,17);\n+        check(4,17,4,18,4,19,5,17,5,18,5,19,6,17,6,18,6,19);\n@@ -73,3 +74,5 @@\n-        check(4,16,4,23,4,17,5,16,5,23,5,17,6,23);\n-        ktab(\"-d me -e 16 5\");\n-        check(4,16,4,23,4,17,5,23,5,17,6,23);\n+        check(4,17,4,18,4,19,5,17,5,18,5,19,6,18,6,19);\n+        ktab(\"-d me -e 19 6\");\n+        check(4,17,4,18,4,19,5,17,5,18,5,19,6,18);\n+        ktab(\"-d me -e 17 5\");\n+        check(4,17,4,18,4,19,5,18,5,19,6,18);\n@@ -77,1 +80,1 @@\n-        check(4,16,5,17,6,23);\n+        check(4,17,5,19,6,18);\n@@ -84,1 +87,1 @@\n-        check(4,16,5,17,6,23);\n+        check(4,17,5,19,6,18);\n","filename":"test\/jdk\/sun\/security\/krb5\/tools\/KtabCheck.java","additions":21,"deletions":18,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-default_tkt_enctypes = des3-cbc-sha1 rc4-hmac aes128-cts\n+default_tkt_enctypes = aes128-cts aes256-cts aes128-sha2\n","filename":"test\/jdk\/sun\/security\/krb5\/tools\/onlythree.conf","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}