{"files":[{"patch":"@@ -183,7 +183,1 @@\n-    if (!DS_lockCache()) {\n-        return 0;\n-    }\n-\n-    HRESULT hr=::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE);\n-    if(hr != S_OK || hr != S_FALSE || hr != RPC_E_CHANGED_MODE) {\n-        DS_unlockCache();\n+    if (!DS_lockCache() || FAILED(::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE))) {\n@@ -192,1 +186,0 @@\n-\n@@ -233,5 +226,1 @@\n-\n-    if(hr != RPC_E_CHANGED_MODE){\n-        ::CoUninitialize();\n-    }\n-\n+    ::CoUninitialize();\n@@ -268,7 +257,1 @@\n-    if (desc->deviceID < 0){\n-        DS_unlockCache();\n-        return FALSE;\n-    }\n-\n-    HRESULT hr=::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE);\n-    if(hr != S_OK || hr != S_FALSE || hr != RPC_E_CHANGED_MODE) {\n+    if (desc->deviceID < 0 || FAILED(::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE))) {\n@@ -287,5 +270,1 @@\n-\n-    if(hr != RPC_E_CHANGED_MODE){\n-        ::CoUninitialize();\n-    }\n-\n+    ::CoUninitialize();\n","filename":"src\/java.desktop\/windows\/native\/libjsound\/PLATFORM_API_WinOS_DirectSound.cpp","additions":4,"deletions":25,"binary":false,"changes":29,"status":"modified"}]}