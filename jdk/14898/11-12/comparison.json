{"files":[{"patch":"@@ -183,1 +183,7 @@\n-    if (!DS_lockCache() || FAILED(::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE))) {\n+    if (!DS_lockCache()) {\n+        return 0;\n+    }\n+\n+    HRESULT hr=::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE);\n+    if(hr != S_OK || hr != S_FALSE || hr != RPC_E_CHANGED_MODE) {\n+        DS_unlockCache();\n@@ -186,0 +192,1 @@\n+\n@@ -226,1 +233,5 @@\n-    ::CoUninitialize();\n+\n+    if(hr != RPC_E_CHANGED_MODE) {\n+        ::CoUninitialize();\n+    }\n+\n@@ -257,1 +268,1 @@\n-    if (desc->deviceID < 0 || FAILED(::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE))) {\n+    if (desc->deviceID < 0) {\n@@ -262,0 +273,6 @@\n+    HRESULT hr=::CoInitializeEx(NULL, COINIT_MULTITHREADED | COINIT_DISABLE_OLE1DDE);\n+    if(hr != S_OK || hr != S_FALSE || hr != RPC_E_CHANGED_MODE) {\n+        DS_unlockCache();\n+        return 0;\n+    }\n+\n@@ -270,1 +287,5 @@\n-    ::CoUninitialize();\n+\n+    if(hr != RPC_E_CHANGED_MODE) {\n+        ::CoUninitialize();\n+    }\n+\n","filename":"src\/java.desktop\/windows\/native\/libjsound\/PLATFORM_API_WinOS_DirectSound.cpp","additions":25,"deletions":4,"binary":false,"changes":29,"status":"modified"},{"patch":"","filename":"test\/jdk\/javax\/sound\/sampled\/Lines\/OpenLineAfterScreenLock.java","additions":0,"deletions":0,"binary":false,"changes":0,"status":"modified"}]}