{"files":[{"patch":"@@ -178,1 +178,1 @@\n-        private static final int ARGS_ATTEMPTS = 5;\n+        private static final int ARGS_ATTEMPTS = 3;\n@@ -181,3 +181,10 @@\n-            \/\/ As we have seen test timeouts due to missing a notification,\n-            \/\/ we should retry this attempt to check arguments for a match.\n-            for (int i=0; i<ARGS_ATTEMPTS; i++) {\n+            VmIdentifier vmid = null;\n+            try {\n+                vmid = new VmIdentifier(\"\/\/\" + id.intValue());\n+            } catch (URISyntaxException e) {\n+                System.out.println(\"hasMainArgs(\" + id + \"): \" + e);\n+                return false;\n+            }\n+            \/\/ Retry a failing attempt to check arguments for a match,\n+            \/\/ as not recognizing a test process will cause timeout and failure.\n+            for (int i = 0; i < ARGS_ATTEMPTS; i++) {\n@@ -185,1 +192,0 @@\n-                    VmIdentifier vmid = new VmIdentifier(\"\/\/\" + id.intValue());\n@@ -187,3 +193,7 @@\n-                        String monitoredArgs = MonitoredVmUtil.mainArgs(target);\n-                    if (monitoredArgs != null && monitoredArgs.contains(args)) {\n-                        System.out.println(\"hasMainArgs(\" + id + \"): yes\");\n+                    String monitoredArgs = MonitoredVmUtil.mainArgs(target);\n+                    System.out.println(\"hasMainArgs(\" + id + \"): has main args: '\" + monitoredArgs + \"'\");\n+                    if (monitoredArgs == null || monitoredArgs.equals(\"Unknown\")) {\n+                        System.out.println(\"hasMainArgs(\" + id + \"): retry\" );\n+                        takeNap();\n+                        continue;\n+                    } else if (monitoredArgs.contains(args)) {\n@@ -194,2 +204,2 @@\n-                } catch (URISyntaxException | MonitorException e) {\n-                    \/\/ Pocess probably not running or not ours, e.g.\n+                } catch (MonitorException e) {\n+                    \/\/ Process probably not running or not ours, e.g.\n@@ -199,1 +209,0 @@\n-                takeNap();\n@@ -334,1 +343,1 @@\n-            Thread.sleep(100);\n+            Thread.sleep(1000);\n","filename":"test\/jdk\/sun\/jvmstat\/monitor\/MonitoredVm\/MonitorVmStartTerminate.java","additions":21,"deletions":12,"binary":false,"changes":33,"status":"modified"}]}