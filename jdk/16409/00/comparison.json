{"files":[{"patch":"@@ -181,1 +181,1 @@\n-    _bci2block_successors.at_put_grow(cur_bci, BlockList());\n+    _bci2block_successors.at_put_grow(cur_bci, BlockList(), BlockList());\n","filename":"src\/hotspot\/share\/c1\/c1_GraphBuilder.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -404,2 +404,20 @@\n-\n-  E at_grow(int i, const E& fill = E()) {\n+private:\n+  static void default_fill(E* ptr) {\n+    new ((void*)ptr) E();\n+  }\n+public:\n+  template<typename Filler = decltype(default_fill),\n+           ENABLE_IF(std::is_function<Filler>::value)>\n+  E at_grow(int i, Filler filler = default_fill) {\n+    assert(0 <= i, \"negative index %d\", i);\n+    if (i >= this->_len) {\n+      if (i >= this->_capacity) grow(i);\n+      for (int j = this->_len; j <= i; j++)\n+        filler(&this->_data[j]);\n+      this->_len = i + 1;\n+    }\n+    return this->_data[i];\n+  }\n+  template<typename Filler,\n+           ENABLE_IF(!std::is_function<Filler>::value)>\n+  E at_grow(int i, Filler fill) {\n@@ -411,1 +429,1 @@\n-      this->_len = i+1;\n+      this->_len = i + 1;\n@@ -416,1 +434,3 @@\n-  void at_put_grow(int i, const E& elem, const E& fill = E()) {\n+  template<typename Filler = decltype(default_fill),\n+           ENABLE_IF(std::is_function<Filler>::value)>\n+  void at_put_grow(int i, const E& elem, Filler filler = default_fill) {\n@@ -421,1 +441,1 @@\n-        this->_data[j] = fill;\n+        filler(&this->_data[j]);\n@@ -427,0 +447,13 @@\n+  template<typename Filler,\n+           ENABLE_IF(!std::is_function<Filler>::value)>\n+  void at_put_grow(int i, const E& elem, Filler fill) {\n+    assert(0 <= i, \"negative index %d\", i);\n+    if (i >= this->_len) {\n+      if (i >= this->_capacity) grow(i);\n+      for (int j = this->_len; j < i; j++)\n+        this->_data[j] = fill;\n+      this->_len = i + 1;\n+    }\n+    this->_data[i] = elem;\n+  }\n+\n","filename":"src\/hotspot\/share\/utilities\/growableArray.hpp","additions":38,"deletions":5,"binary":false,"changes":43,"status":"modified"}]}