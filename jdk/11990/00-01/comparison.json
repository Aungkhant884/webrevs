{"files":[{"patch":"@@ -3695,2 +3695,0 @@\n-  Node* final_iv = new SubINode(exact_limit, cl->stride());\n-  phase->register_new_node(final_iv, cl->in(LoopNode::EntryControl));\n@@ -3702,1 +3700,3 @@\n-  phase->_igvn.replace_input_of(final_iv, 1, cast_ii);\n+\n+  Node* final_iv = new SubINode(cast_ii, cl->stride());\n+  phase->register_new_node(final_iv, cl->in(LoopNode::EntryControl));\n","filename":"src\/hotspot\/share\/opto\/loopTransform.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n- *                   -XX:CompileOnly=compiler.loopopts.TestRemoveEmptyCountedLoop::test,compiler.loopopts.TestRemoveEmptyCountedLoop::test2\n+ *                   -XX:CompileOnly=compiler.loopopts.TestRemoveEmptyCountedLoop::test*\n@@ -34,1 +34,1 @@\n- *                   -XX:CompileOnly=compiler.loopopts.TestRemoveEmptyCountedLoop::test,compiler.loopopts.TestRemoveEmptyCountedLoop::test2\n+ *                   -XX:CompileOnly=compiler.loopopts.TestRemoveEmptyCountedLoop::test*\n@@ -42,6 +42,7 @@\n-    public void test() {\n-      int k = 3;\n-      for (int i=9; i>0; i--) {\n-        for (int j=2; j<i; j++) {\n-          k = k;\n-          k = (1 % j);\n+    public static void test1() {\n+        int k = 3;\n+        for (int i=9; i>0; i--) {\n+            for (int j=2; j<i; j++) {\n+                k = k;\n+                k = (1 % j);\n+            }\n@@ -49,1 +50,0 @@\n-      }\n@@ -52,11 +52,11 @@\n-    public void test2() {\n-      int k = 3;\n-      for (int i=9; i>0; i--) {\n-          int j = 2;\n-          do {\n-              try {\n-                  k = k;\n-                  k = (1 % j);\n-              } catch (Exception e) {}\n-          } while (++j < i);\n-      }\n+    public static void test2() {\n+        int k = 3;\n+        for (int i=9; i>0; i--) {\n+            int j = 2;\n+            do {\n+                try {\n+                    k = k;\n+                    k = (1 % j);\n+                } catch (Exception e) {}\n+            } while (++j < i);\n+        }\n@@ -66,3 +66,2 @@\n-        TestRemoveEmptyCountedLoop _instance = new TestRemoveEmptyCountedLoop();\n-        _instance.test();\n-        _instance.test2();\n+        test1();\n+        test2();\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/TestRemoveEmptyCountedLoop.java","additions":22,"deletions":23,"binary":false,"changes":45,"status":"modified"}]}