{"files":[{"patch":"@@ -1228,0 +1228,3 @@\n+        \/\/ find the first proxy interface that inherits the default method\n+        \/\/ i.e. the declaring class of the default method is a superinterface\n+        \/\/ of the proxy interface\n@@ -1231,5 +1234,8 @@\n-        for (Class<?> intf : proxyInterfaces) {\n-            assert intf != declaringClass;\n-            visited.add(intf);\n-            deque.add(intf);\n-\n+        for (Class<?> proxyIntf : proxyInterfaces) {\n+            assert proxyIntf != declaringClass;\n+            visited.add(proxyIntf);\n+            deque.add(proxyIntf);\n+\n+            \/\/ for each proxy interface, traverse its subinterfaces with\n+            \/\/ breadth-first search to find a subinterface declaring the\n+            \/\/ default method\n@@ -1243,1 +1249,1 @@\n-                        Method m = intf.getMethod(method.getName(), method.getParameterTypes());\n+                        Method m = proxyIntf.getMethod(method.getName(), method.getParameterTypes());\n@@ -1245,1 +1251,1 @@\n-                            return intf;\n+                            return proxyIntf;\n@@ -1261,0 +1267,1 @@\n+                            \/\/ fast-path as the matching subinterface is found\n@@ -1276,2 +1283,2 @@\n-     * Returns a Lookup object for the lookup class which is the class of this\n-     * proxy instance.\n+     * This method invokes the proxy's proxyClassLookup method to get a\n+     * Lookup on the proxy class.\n@@ -1296,1 +1303,0 @@\n-\n","filename":"src\/java.base\/share\/classes\/java\/lang\/reflect\/Proxy.java","additions":16,"deletions":10,"binary":false,"changes":26,"status":"modified"}]}