{"files":[{"patch":"@@ -95,1 +95,1 @@\n-    ShenandoahHeap* const _heap;\n+  ShenandoahHeap* const _heap;\n@@ -97,3 +97,3 @@\n-    inline ShenandoahEvacuateUpdateRootClosureBase();\n-    inline virtual void do_oop(oop* p);\n-    inline virtual void do_oop(narrowOop* p);\n+  inline ShenandoahEvacuateUpdateRootClosureBase();\n+  inline void do_oop(oop* p);\n+  inline void do_oop(narrowOop* p);\n@@ -101,2 +101,2 @@\n-    template <class T>\n-    inline void do_oop_work(T* p, Thread* t);\n+  template <class T>\n+  inline void do_oop_work(T* p, Thread* t);\n@@ -105,1 +105,8 @@\n-using ShenandoahEvacuateUpdateMetadataClosure = ShenandoahEvacuateUpdateRootClosureBase<false>;\n+class ShenandoahEvacuateUpdateMetadataClosure : public ShenandoahEvacuateUpdateRootClosureBase<false> {\n+private:\n+  Thread* const _thread;\n+public:\n+  inline ShenandoahEvacuateUpdateMetadataClosure();\n+  inline void do_oop(oop* p);\n+  inline void do_oop(narrowOop* p);\n+};\n@@ -111,2 +118,2 @@\n-  inline virtual void do_oop(oop* p);\n-  inline virtual void do_oop(narrowOop* p);\n+  inline void do_oop(oop* p);\n+  inline void do_oop(narrowOop* p);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahClosures.hpp","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -153,0 +153,12 @@\n+ShenandoahEvacuateUpdateMetadataClosure::ShenandoahEvacuateUpdateMetadataClosure() :\n+  ShenandoahEvacuateUpdateRootClosureBase<false>(), _thread(Thread::current()) {\n+}\n+\n+void ShenandoahEvacuateUpdateMetadataClosure::do_oop(oop* p) {\n+  do_oop_work(p, _thread);\n+}\n+\n+void ShenandoahEvacuateUpdateMetadataClosure::do_oop(narrowOop* p) {\n+  do_oop_work(p, _thread);\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahClosures.inline.hpp","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}