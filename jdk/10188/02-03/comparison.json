{"files":[{"patch":"@@ -97,5 +97,0 @@\n-            \/\/ clone failed so roll back\n-            try {\n-                unlink(dst);\n-            } catch (UnixException ignore) { }\n-\n@@ -134,9 +129,12 @@\n-            int res = clone(source, target, flags.followLinks);\n-\n-            if (res == 0) {\n-                \/\/ copy owner (not done by clonefile)\n-                try {\n-                    chown(target, attrs.uid(), attrs.gid());\n-                } catch (UnixException x) {\n-                    if (flags.failIfUnableToCopyPosix)\n-                        x.rethrowAsIOException(target);\n+            try {\n+                int res = clone(source, target, flags.followLinks);\n+\n+                if (res == 0) {\n+                    \/\/ copy owner (not done by clonefile)\n+                    try {\n+                        chown(target, attrs.uid(), attrs.gid());\n+                    } catch (UnixException x) {\n+                        if (flags.failIfUnableToCopyPosix)\n+                            x.rethrowAsIOException(target);\n+                    }\n+                    return;\n@@ -144,1 +142,7 @@\n-                return;\n+            } catch (IOException e) {\n+                \/\/ clone or chown failed so roll back\n+                try {\n+                    unlink(target);\n+                } catch (UnixException ignore) { }\n+\n+                throw e;\n","filename":"src\/java.base\/macosx\/classes\/sun\/nio\/fs\/BsdFileSystem.java","additions":19,"deletions":15,"binary":false,"changes":34,"status":"modified"}]}