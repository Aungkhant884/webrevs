{"files":[{"patch":"@@ -207,2 +207,4 @@\n-      CFLAGS_DEBUG_OPTIONS=\"-fstack-protector-all --param ssp-buffer-size=1\"\n-      CXXFLAGS_DEBUG_OPTIONS=\"-fstack-protector-all --param ssp-buffer-size=1\"\n+      # Not all versions of gcc support -fstack-protector-all\n+      STACK_PROTECTOR_ALL_CFLAG=\"-fstack-protector-all\"\n+      FLAGS_COMPILER_CHECK_ARGUMENTS(ARGUMENT: [STACK_PROTECTOR_ALL_CFLAG],\n+        IF_FALSE: [STACK_PROTECTOR_ALL_CFLAG=\"\"])\n@@ -210,1 +212,4 @@\n-      JVM_CFLAGS_SYMBOLS=\"$JVM_CFLAGS_SYMBOLS -fstack-protector-all --param ssp-buffer-size=1\"\n+      CFLAGS_DEBUG_OPTIONS=\"$STACK_PROTECTOR_ALL_CFLAG --param ssp-buffer-size=1\"\n+      CXXFLAGS_DEBUG_OPTIONS=\"$STACK_PROTECTOR_ALL_CFLAG --param ssp-buffer-size=1\"\n+\n+      JVM_CFLAGS_SYMBOLS=\"$JVM_CFLAGS_SYMBOLS $STACK_PROTECTOR_ALL_CFLAG --param ssp-buffer-size=1\"\n@@ -455,2 +460,10 @@\n-    TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -fcheck-new -fstack-protector\"\n-    TOOLCHAIN_CFLAGS_JDK=\"-pipe -fstack-protector\"\n+    TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM -fcheck-new\"\n+    TOOLCHAIN_CFLAGS_JDK=\"-pipe\"\n+\n+    # Not all versions of gcc support -fstack-protector\n+    STACK_PROTECTOR_CFLAG=\"-fstack-protector\"\n+    FLAGS_COMPILER_CHECK_ARGUMENTS(ARGUMENT: [$STACK_PROTECTOR_CFLAG],\n+      IF_FALSE: [STACK_PROTECTOR_CFLAG=\"\"])\n+    TOOLCHAIN_CFLAGS_JVM=\"$TOOLCHAIN_CFLAGS_JVM $STACK_PROTECTOR_CFLAG\"\n+    TOOLCHAIN_CFLAGS_JDK=\"$TOOLCHAIN_CFLAGS_JDK $STACK_PROTECTOR_CFLAG\"\n+\n","filename":"make\/autoconf\/flags-cflags.m4","additions":18,"deletions":5,"binary":false,"changes":23,"status":"modified"}]}