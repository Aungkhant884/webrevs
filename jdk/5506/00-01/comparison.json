{"files":[{"patch":"@@ -30,1 +30,1 @@\n-\tfile_extensions=.saveme,.dump,.hqx,.arc,.o,.a,.bin,.exe,.z,.gz\n+\tfile_extensions=.saveme,.dump,.hqx,.arc,.o,.a,.bin,.exe,.z\n@@ -256,0 +256,4 @@\n+image\/webp: \\\n+\tdescription=WEBP image;\\\n+\tfile_extensions=.webp;\n+\n@@ -266,1 +270,1 @@\n-    description=Javascript File;\\\n+    description=JavaScript File;\\\n@@ -271,1 +275,1 @@\n-\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el;\\\n+\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el,.php,.adoc,.py;\\\n@@ -283,0 +287,8 @@\n+text\/csv: \\\n+\tdescription=CSV File;\\\n+\tfile_extensions=.csv;\n+\n+text\/markdown: \\\n+    description=Markdown File;\\\n+    file_extensions=.md,.markdown\n+\n@@ -324,1 +336,1 @@\n-\tdescription=Wordpad Document;\\\n+\tdescription=WordPad Document;\\\n@@ -327,2 +339,18 @@\n-application\/xls: \\\n-\tdescription=XLS File;\\\n+application\/gzip: \\\n+\tdescription=GZip File;\\\n+\tfile_extensions=.gz;\n+\n+application\/vnd.oasis.opendocument.presentation: \\\n+\tdescription=OpenDocument presentation document;\\\n+\tfile_extensions=.odp;\n+\n+application\/vnd.oasis.opendocument.spreadsheet: \\\n+\tdescription=OpenDocument spreadsheet document;\\\n+\tfile_extensions=.ods;\n+\n+application\/vnd.oasis.opendocument.text: \\\n+\tdescription=OpenDocument text document;\\\n+\tfile_extensions=.odt;\n+\n+application\/vnd.ms-excel: \\\n+    description=Microsoft Excel File;\\\n@@ -331,1 +359,1 @@\n-application\/xlsx: \\\n+application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet: \\\n@@ -335,5 +363,1 @@\n-application\/csv: \\\n-\tdescription=CSV File;\\\n-\tfile_extensions=.csv;\n-\n-application\/pptx: \\\n+application\/vnd.openxmlformats-officedocument.presentationml.presentation: \\\n@@ -343,2 +367,2 @@\n-application\/ppt: \\\n-\tdescription=PPT File;\\\n+application\/vnd.ms-powerpoint: \\\n+\tdescription=Microsoft PowerPoint File;\\\n@@ -347,2 +371,2 @@\n-application\/7z: \\\n-\tdescription=7z File;\\\n+application\/x-7z-compressed: \\\n+\tdescription=7-Zip File;\\\n@@ -351,2 +375,2 @@\n-application\/doc: \\\n-\tdescription=DOC File;\\\n+application\/msword: \\\n+\tdescription=Microsoft Word File;\\\n@@ -355,1 +379,1 @@\n-application\/docx: \\\n+application\/vnd.openxmlformats-officedocument.wordprocessingml.document: \\\n@@ -359,5 +383,1 @@\n-application\/php: \\\n-\tdescription=PHP File;\\\n-\tfile_extensions=.php;\n-\n-application\/rar: \\\n+application\/vnd.rar: \\\n@@ -375,1 +395,1 @@\n-application\/jar: \\\n+application\/java-archive: \\\n","filename":"src\/java.base\/unix\/classes\/sun\/net\/www\/content-types.properties","additions":45,"deletions":25,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-\tfile_extensions=.saveme,.dump,.hqx,.arc,.obj,.lib,.bin,.exe,.gz\n+\tfile_extensions=.saveme,.dump,.hqx,.arc,.obj,.lib,.bin,.exe\n@@ -46,1 +46,1 @@\n-\tdescription=Wordpad Document;\\\n+\tdescription=WordPad Document;\\\n@@ -51,0 +51,4 @@\n+application\/gzip: \\\n+\tdescription=GZip File;\\\n+\tfile_extensions=.gz;\n+\n@@ -253,0 +257,4 @@\n+image\/webp: \\\n+\tdescription=WEBP image;\\\n+\tfile_extensions=.webp;\n+\n@@ -263,1 +271,1 @@\n-    description=Javascript File;\\\n+    description=JavaScript File;\\\n@@ -268,1 +276,1 @@\n-\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el;\\\n+\tfile_extensions=.text,.c,.cc,.c++,.h,.pl,.txt,.java,.el,.php,.adoc,.py;\\\n@@ -280,0 +288,8 @@\n+text\/csv: \\\n+\tdescription=CSV File;\\\n+\tfile_extensions=.csv;\n+\n+text\/markdown: \\\n+    description=Markdown File;\\\n+    file_extensions=.md,.markdown\n+\n@@ -320,2 +336,14 @@\n-application\/xls: \\\n-\tdescription=XLS File;\\\n+application\/vnd.oasis.opendocument.presentation: \\\n+\tdescription=OpenDocument presentation document;\\\n+\tfile_extensions=.odp;\n+\n+application\/vnd.oasis.opendocument.spreadsheet: \\\n+\tdescription=OpenDocument spreadsheet document;\\\n+\tfile_extensions=.ods;\n+\n+application\/vnd.oasis.opendocument.text: \\\n+\tdescription=OpenDocument text document;\\\n+\tfile_extensions=.odt;\n+\n+application\/vnd.ms-excel: \\\n+\tdescription=Microsoft Excel File;\\\n@@ -324,1 +352,1 @@\n-application\/xlsx: \\\n+application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet: \\\n@@ -328,5 +356,1 @@\n-application\/csv: \\\n-\tdescription=CSV File;\\\n-\tfile_extensions=.csv;\n-\n-application\/pptx: \\\n+application\/vnd.openxmlformats-officedocument.presentationml.presentation: \\\n@@ -336,2 +360,2 @@\n-application\/ppt: \\\n-\tdescription=PPT File;\\\n+application\/vnd.ms-powerpoint: \\\n+\tdescription=Microsoft PowerPoint File;\\\n@@ -340,2 +364,2 @@\n-application\/7z: \\\n-\tdescription=7z File;\\\n+application\/x-7z-compressed: \\\n+\tdescription=7-Zip File;\\\n@@ -344,2 +368,2 @@\n-application\/doc: \\\n-\tdescription=DOC File;\\\n+application\/msword: \\\n+\tdescription=Microsoft Word File;\\\n@@ -348,1 +372,1 @@\n-application\/docx: \\\n+application\/vnd.openxmlformats-officedocument.wordprocessingml.document: \\\n@@ -352,5 +376,1 @@\n-application\/php: \\\n-\tdescription=PHP File;\\\n-\tfile_extensions=.php;\n-\n-application\/rar: \\\n+application\/vnd.rar: \\\n@@ -368,2 +388,3 @@\n-application\/jar: \\\n-\tdescription=JAR File;\n+application\/java-archive: \\\n+\tdescription=JAR File;\\\n+    file_extensions=.jar;\n","filename":"src\/java.base\/windows\/classes\/sun\/net\/www\/content-types.properties","additions":47,"deletions":26,"binary":false,"changes":73,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import java.util.List;\n@@ -98,1 +99,1 @@\n-    static int checkContentTypes(String[] extensions, String[] expectedTypes)\n+    static int checkContentTypes(ExType[] exTypes)\n@@ -100,5 +101,0 @@\n-        if (extensions.length != expectedTypes.length) {\n-            System.err.println(\"Parameter array lengths differ\");\n-            return 1;\n-        }\n-\n@@ -106,2 +102,3 @@\n-        for (int i = 0; i < extensions.length; i++) {\n-            String extension = extensions[i];\n+        for (int i = 0; i < exTypes.length; i++) {\n+            String extension = exTypes[i].extension();\n+            List<String> expectedTypes = exTypes[i].expectedTypes();\n@@ -115,1 +112,1 @@\n-                } else if (!type.equals(expectedTypes[i])) {\n+                } else if (!expectedTypes.contains(type)) {\n@@ -117,1 +114,1 @@\n-                        type, expectedTypes[i]);\n+                        type, expectedTypes);\n@@ -159,23 +156,32 @@\n-        String[] extensions = new String[]{\n-                \"jpg\",\n-                \"mp3\",\n-                \"mp4\",\n-                \"pdf\",\n-                \"png\",\n-                \"webm\",\n-                \"css\",\n-                \"js\",\n-                \"bz2\",\n-                \"csv\",\n-                \"doc\",\n-                \"docx\",\n-                \"jar\",\n-                \"json\",\n-                \"php\",\n-                \"ppt\",\n-                \"pptx\",\n-                \"rar\",\n-                \"rtf\",\n-                \"xls\",\n-                \"xlsx\",\n-                \"7z\"\n+        var exTypes = new ExType[] {\n+                new ExType(\"adoc\", List.of(\"text\/plain\")),\n+                new ExType(\"bz2\", List.of(\"application\/bz2\", \"application\/x-bzip2\")),\n+                new ExType(\"css\", List.of(\"text\/css\")),\n+                new ExType(\"csv\", List.of(\"text\/csv\")),\n+                new ExType(\"doc\", List.of(\"application\/msword\")),\n+                new ExType(\"docx\", List.of(\"application\/vnd.openxmlformats-officedocument.wordprocessingml.document\")),\n+                new ExType(\"gz\", List.of(\"application\/gzip\", \"application\/x-gzip\")),\n+                new ExType(\"jar\", List.of(\"application\/java-archive\", \"application\/x-java-archive\")),\n+                new ExType(\"jpg\", List.of(\"image\/jpeg\")),\n+                new ExType(\"js\", List.of(\"text\/javascript\", \"application\/javascript\")),\n+                new ExType(\"json\", List.of(\"application\/json\")),\n+                new ExType(\"markdown\", List.of(\"text\/markdown\")),\n+                new ExType(\"md\", List.of(\"text\/markdown\")),\n+                new ExType(\"mp3\", List.of(\"audio\/mpeg\")),\n+                new ExType(\"mp4\", List.of(\"video\/mp4\")),\n+                new ExType(\"odp\", List.of(\"application\/vnd.oasis.opendocument.presentation\")),\n+                new ExType(\"ods\", List.of(\"application\/vnd.oasis.opendocument.spreadsheet\")),\n+                new ExType(\"odt\", List.of(\"application\/vnd.oasis.opendocument.text\")),\n+                new ExType(\"pdf\", List.of(\"application\/pdf\")),\n+                new ExType(\"php\", List.of(\"text\/plain\", \"text\/php\")),\n+                new ExType(\"png\", List.of(\"image\/png\")),\n+                new ExType(\"ppt\", List.of(\"application\/vnd.ms-powerpoint\")),\n+                new ExType(\"pptx\",List.of(\"application\/vnd.openxmlformats-officedocument.presentationml.presentation\")),\n+                new ExType(\"py\", List.of(\"text\/plain\", \"text\/x-python-script\")),\n+                new ExType(\"rar\", List.of(\"application\/vnd.rar\")),\n+                new ExType(\"rtf\", List.of(\"application\/rtf\", \"text\/rtf\")),\n+                new ExType(\"webm\", List.of(\"video\/webm\")),\n+                new ExType(\"webp\", List.of(\"image\/webp\")),\n+                new ExType(\"xls\", List.of(\"application\/vnd.ms-excel\")),\n+                new ExType(\"xlsx\", List.of(\"application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet\")),\n+                new ExType(\"7z\", List.of(\"application\/x-7z-compressed\")),\n@@ -183,25 +189,1 @@\n-        String[] expectedTypes = new String[] {\n-                \"image\/jpeg\",\n-                \"audio\/mpeg\",\n-                \"video\/mp4\",\n-                \"application\/pdf\",\n-                \"image\/png\",\n-                \"video\/webm\",\n-                \"text\/css\",\n-                \"text\/javascript\",\n-                \"application\/bz2\",\n-                \"application\/csv\",\n-                \"application\/doc\",\n-                \"application\/docx\",\n-                \"application\/jar\",\n-                \"application\/json\",\n-                \"application\/php\",\n-                \"application\/pptx\",\n-                \"application\/pptx\",\n-                \"application\/rar\",\n-                \"application\/rtf\",\n-                \"application\/xls\",\n-                \"application\/xlsx\",\n-                \"application\/7z\"\n-        };\n-        failures += checkContentTypes(extensions, expectedTypes);\n+        failures += checkContentTypes(exTypes);\n@@ -213,0 +195,2 @@\n+\n+    record ExType(String extension, List<String> expectedTypes) { }\n","filename":"test\/jdk\/java\/nio\/file\/Files\/probeContentType\/Basic.java","additions":42,"deletions":58,"binary":false,"changes":100,"status":"modified"}]}