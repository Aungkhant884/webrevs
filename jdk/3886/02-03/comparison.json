{"files":[{"patch":"@@ -181,2 +181,0 @@\n-        \/\/ Use a temporay file name\n-        String tempArchiveFileName = archiveFileName;\n@@ -184,3 +182,0 @@\n-        if (keepArchive && archiveFile.exists()) {\n-             tempArchiveFileName = archiveFileName + \".jcmd\";\n-        }\n@@ -190,1 +185,1 @@\n-          jcmd +=  \" \" + tempArchiveFileName;\n+          jcmd +=  \" \" + archiveFileName;\n@@ -198,3 +193,2 @@\n-            checkFileExistence(tempArchiveFileName, true);\n-            runWithArchiveFile(tempArchiveFileName, useBoot, messages);\n-            File tempArchiveFile = new File(tempArchiveFileName);\n+            checkFileExistence(archiveFileName, true);\n+            runWithArchiveFile(archiveFileName, useBoot, messages);\n@@ -202,5 +196,1 @@\n-\t\ttempArchiveFile.delete();\n-            } else {\n-                if (tempArchiveFileName != archiveFileName) {\n-                    tempArchiveFile.renameTo(archiveFile);\n-                }\n+\t\tarchiveFile.delete();\n@@ -209,1 +199,3 @@\n-            checkFileExistence(tempArchiveFileName, false);\n+            if (!keepArchive) {\n+                checkFileExistence(archiveFileName, false);\n+            }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jcmd\/JCmdTestDumpBase.java","additions":7,"deletions":15,"binary":false,"changes":22,"status":"modified"}]}