[{"commit":{"message":"Add comment for special value usage."},"files":[{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorCastShape128Test.java"}],"sha":"bf094065cf935168f950b2cb2b46fbd652c233c2"},{"commit":{"message":"8282764: AArch64: compiler\/vectorapi\/reshape\/TestVectorCastNeon.java failed with incorrect result\n\nVector API long to float conversion operation on NEON converts vector\nof 2 longs to 2 floats. In current implementation, we convert 2 longs\nto 2 doubles first and then converts 2 doubles to 2 floats. However,\nthis two-steps conversion may have two roundings, while the expected\nbehavior, conversion from long to float directly, has only one\nrounding. This will result in inconsistent result. E.g. for the\nfailure test case:\n\n```\njshell> long l = 0x561a524000000001L;\nl ==> 6204361871487664129\n\njshell> float l2f = (float)l;\nl2f ==> 6.2043621E18\n\njshell> float l2d2f = (float)((double)l);\nl2d2f ==> 6.2043616E18\n```\n\nSince we don't have NEON instruction to support vector long to float\nconversion, we fix the codegen by doing it in scalar operation one\nelement by one element.\n\nTEST: vector api jtreg tests passed."},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_neon.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_neon_ad.m4"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorCastShape128Test.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX1.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX2.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512BW.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastAVX512DQ.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastNeon.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorCastSVE.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/TestVectorReinterpret.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/reshape\/utils\/VectorReshapeHelper.java"}],"sha":"790fa68f76494f3c246b64ee5314105b5a0f1b1d"}]