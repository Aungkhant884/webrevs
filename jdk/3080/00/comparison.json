{"files":[{"patch":"@@ -99,1 +99,0 @@\n-  uintx _claim_token;\n@@ -104,2 +103,1 @@\n-    _cl(cl),\n-    _claim_token(Threads::thread_claim_token()) {}\n+    _cl(cl) {}\n@@ -108,8 +106,6 @@\n-    if (thread->claim_threads_do(true, _claim_token)) {\n-      \/\/ Transfer any partial buffer to the qset for completed buffer processing.\n-      _satb_qset.flush_queue(ShenandoahThreadLocalData::satb_mark_queue(thread));\n-      if (thread->is_Java_thread()) {\n-        if (_cl != NULL) {\n-          ResourceMark rm;\n-          thread->oops_do(_cl, NULL);\n-        }\n+    \/\/ Transfer any partial buffer to the qset for completed buffer processing.\n+    _satb_qset.flush_queue(ShenandoahThreadLocalData::satb_mark_queue(thread));\n+    if (thread->is_Java_thread()) {\n+      if (_cl != NULL) {\n+        ResourceMark rm;\n+        thread->oops_do(_cl, NULL);\n@@ -150,1 +146,1 @@\n-      Threads::threads_do(&tc);\n+      Threads::possibly_parallel_threads_do(true \/*par*\/, &tc);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentMark.cpp","additions":8,"deletions":12,"binary":false,"changes":20,"status":"modified"}]}