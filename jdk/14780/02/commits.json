[{"commit":{"message":"Revert resolved class to unresolved for comparison\n\nremove is_unresolved_class_mismatch"},"files":[{"filename":"src\/hotspot\/share\/oops\/constantPool.cpp"},{"filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp"}],"sha":"05071a56c7d47954bb0752b6b96b6d6eacd43df9"},{"commit":{"message":"add jtreg test for leak"},"files":[{"filename":"test\/hotspot\/jtreg\/TEST.groups"},{"filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/RedefineClasses\/RedefineLeakThrowable.java"}],"sha":"2ff1721b2cfaab0d0de125a7880e80f63dc6a64f"},{"commit":{"message":"8308762: Metaspace leak with Instrumentation.retransform\n\nFix a small leak in constant pool merging during retransformation of\na class. If this class has a catch block with Throwable, the class\nThrowable is pre-resolved in the constant pool, while all the other\nclasses are in a unresolved state. So the constant pool merging\nprocess was considering the entry with pre-resolved class as different\ncompared to the destination and create a new entry. We now try to\nconsider it as equal specially for Methodref\/Fieldref."},"files":[{"filename":"src\/hotspot\/share\/oops\/constantPool.cpp"},{"filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.cpp"},{"filename":"src\/hotspot\/share\/prims\/jvmtiRedefineClasses.hpp"}],"sha":"bf523df72ad2372dac26066ced6b1fd982fac196"}]