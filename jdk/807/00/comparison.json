{"files":[{"patch":"@@ -51,1 +51,0 @@\n-Disassembler::decode_func Disassembler::_decode_instructions = NULL;\n@@ -55,2 +54,0 @@\n-static const char decode_instructions_name[] = \"decode_instructions\";\n-static bool use_new_version = true;\n@@ -764,1 +761,1 @@\n-    return use_new_version ?\n+    return\n@@ -770,7 +767,1 @@\n-                                                    options(), 0\/*nice new line*\/)\n-      :\n-      (address)\n-      (*Disassembler::_decode_instructions)(start, end,\n-                                            NULL, (void*) xmlout,\n-                                            NULL, (void*) out,\n-                                            options());\n+                                                    options(), 0\/*nice new line*\/);\n@@ -779,1 +770,1 @@\n-  return use_new_version ?\n+  return\n@@ -785,7 +776,1 @@\n-                                                  options(), 0\/*nice new line*\/)\n-    :\n-    (address)\n-    (*Disassembler::_decode_instructions)(start, end,\n-                                          &event_to_env,  (void*) this,\n-                                          &printf_to_env, (void*) this,\n-                                          options());\n+                                                  options(), 0\/*nice new line*\/);\n@@ -881,1 +866,1 @@\n-  \/\/ load the decoder function to use (new or old version).\n+  \/\/ load the decoder function to use.\n@@ -886,8 +871,0 @@\n-  if (_decode_instructions_virtual == NULL && _library != NULL) {\n-    \/\/ could not spot in new version, try old version\n-    _decode_instructions = CAST_TO_FN_PTR(Disassembler::decode_func,\n-                                          os::dll_lookup(_library, decode_instructions_name));\n-    use_new_version = false;\n-  } else {\n-    use_new_version = true;\n-  }\n@@ -895,1 +872,1 @@\n-  _library_usable        = _decode_instructions_virtual != NULL || _decode_instructions != NULL;\n+  _library_usable        = _decode_instructions_virtual != NULL;\n","filename":"src\/hotspot\/share\/compiler\/disassembler.cpp","additions":6,"deletions":29,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -54,7 +54,0 @@\n-  \/\/ this is the type of the dll entry point for old version:\n-  typedef void* (*decode_func)(void* start_va, void* end_va,\n-                               void* (*event_callback)(void*, const char*, void*),\n-                               void* event_stream,\n-                               int (*printf_callback)(void*, const char*, ...),\n-                               void* printf_stream,\n-                               const char* options);\n@@ -68,1 +61,0 @@\n-  static decode_func _decode_instructions;\n@@ -91,1 +83,1 @@\n-    if (!_tried_to_load_library \/* && !UseAbstractDisassembler *\/) {\n+    if (!_tried_to_load_library) {\n@@ -94,1 +86,1 @@\n-    return ! _library_usable \/* || UseAbstractDisassembler *\/;  \/\/ Not available until DecodeErrorFile is supported.\n+    return ! _library_usable;\n","filename":"src\/hotspot\/share\/compiler\/disassembler.hpp","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"}]}