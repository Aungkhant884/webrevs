{"files":[{"patch":"@@ -286,1 +286,1 @@\n-  bool _is_empty;\n+  bool _is_old_gen_empty;\n@@ -291,3 +291,1 @@\n-                    HeapWord* gen_top,\n-                    uint active_workers,\n-                    bool is_empty) :\n+                    uint active_workers) :\n@@ -298,1 +296,1 @@\n-      _gen_top(gen_top),\n+      _gen_top(old_gen->object_space()->top()),\n@@ -300,1 +298,1 @@\n-      _is_empty(is_empty),\n+      _is_old_gen_empty(old_gen->object_space()->is_empty()),\n@@ -302,0 +300,1 @@\n+    assert(_old_gen != NULL, \"Sanity\");\n@@ -305,0 +304,1 @@\n+    assert(worker_id < _active_workers, \"Sanity\");\n@@ -307,1 +307,1 @@\n-    if (!_is_empty) {\n+    if (!_is_old_gen_empty) {\n@@ -310,7 +310,0 @@\n-\n-      assert(_old_gen != NULL, \"Sanity\");\n-      \/\/ There are no old-to-young pointers if the old gen is empty.\n-      assert(!_old_gen->object_space()->is_empty(), \"Should not be called is there is no work\");\n-      assert(_old_gen->object_space()->contains(_gen_top) || _gen_top == _old_gen->object_space()->top(), \"Sanity\");\n-      assert(worker_id < ParallelGCThreads, \"Sanity\");\n-\n@@ -456,6 +449,0 @@\n-    \/\/ We need to save the old top values before\n-    \/\/ creating the promotion_manager. We pass the top\n-    \/\/ values to the card_table, to prevent it from\n-    \/\/ straying into the promotion labs.\n-    HeapWord* old_top = old_gen->object_space()->top();\n-\n@@ -475,1 +462,1 @@\n-      ScavengeRootsTask task(old_gen, old_top, active_workers, old_gen->object_space()->is_empty());\n+      ScavengeRootsTask task(old_gen, active_workers);\n","filename":"src\/hotspot\/share\/gc\/parallel\/psScavenge.cpp","additions":8,"deletions":21,"binary":false,"changes":29,"status":"modified"}]}