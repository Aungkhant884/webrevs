{"files":[{"patch":"@@ -50,1 +50,1 @@\n-volatile NMT_TrackingLevel MemTracker::_tracking_level = NMT_unknown;\n+NMT_TrackingLevel MemTracker::_tracking_level = NMT_unknown;\n","filename":"src\/hotspot\/share\/services\/memTracker.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -234,4 +234,1 @@\n-  static volatile NMT_TrackingLevel   _tracking_level;\n-  \/\/ If NMT option value passed by launcher through environment\n-  \/\/ variable is valid\n-  static bool                         _is_nmt_env_valid;\n+  static NMT_TrackingLevel   _tracking_level;\n","filename":"src\/hotspot\/share\/services\/memTracker.hpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -162,1 +162,0 @@\n-bool NMTPreInit::_nmt_was_initialized = false;\n@@ -183,2 +182,1 @@\n-  assert(_nmt_was_initialized == false, \"just once\");\n-  _nmt_was_initialized = true;\n+  assert(MemTracker::is_initialized() == false, \"just once\");\n","filename":"src\/hotspot\/share\/services\/nmtPreInit.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include \"services\/memTracker.hpp\" \/\/ for MemTracker::is_initialized()\n@@ -220,1 +221,0 @@\n-  static bool _nmt_was_initialized;\n@@ -230,1 +230,1 @@\n-    assert(!_nmt_was_initialized, \"lookup map cannot be modified after NMT initialization\");\n+    assert(!MemTracker::is_initialized(), \"lookup map cannot be modified after NMT initialization\");\n@@ -245,1 +245,1 @@\n-    assert(!_nmt_was_initialized, \"lookup map cannot be modified after NMT initialization\");\n+    assert(!MemTracker::is_initialized(), \"lookup map cannot be modified after NMT initialization\");\n@@ -259,3 +259,0 @@\n-  \/\/ Returns true if we are still in pre-init phase, false if post-init\n-  static bool in_preinit_phase()  { return _nmt_was_initialized == false; }\n-\n@@ -267,1 +264,1 @@\n-    if (!_nmt_was_initialized) {\n+    if (!MemTracker::is_initialized()) {\n@@ -287,1 +284,1 @@\n-    if (!_nmt_was_initialized) {\n+    if (!MemTracker::is_initialized()) {\n@@ -326,1 +323,1 @@\n-    if (!_nmt_was_initialized) {\n+    if (!MemTracker::is_initialized()) {\n","filename":"src\/hotspot\/share\/services\/nmtPreInit.hpp","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"services\/memTracker.hpp\"\n@@ -77,1 +78,1 @@\n-    assert(NMTPreInit::in_preinit_phase(),\n+    assert(!MemTracker::is_initialized(),\n@@ -115,1 +116,1 @@\n-    assert(NMTPreInit::in_preinit_phase() == false,\n+    assert(!MemTracker::is_initialized() == false,\n@@ -129,1 +130,1 @@\n-    assert(NMTPreInit::in_preinit_phase() == false,\n+    assert(!MemTracker::is_initialized() == false,\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmtpreinit.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}