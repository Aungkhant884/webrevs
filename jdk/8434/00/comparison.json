{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-    int codepage;\n+    int codepage = 0;\n@@ -72,1 +72,4 @@\n-    if (GetLocaleInfo(lcid,\n+    if (lcid == 0) { \/\/ for sun.jnu.encoding\n+        codepage = GetACP();\n+        _itoa_s(codepage, ret + 2, 14, 10);\n+    } else if (GetLocaleInfo(lcid,\n@@ -74,5 +77,2 @@\n-                      ret+2, 14) == 0) {\n-        codepage = 1252;\n-        strcpy(ret+2, \"1252\");\n-    } else {\n-        codepage = atoi(ret+2);\n+                      ret + 2, 14) != 0) {\n+        codepage = atoi(ret + 2);\n@@ -663,1 +663,0 @@\n-        LCID systemDefaultLCID = GetSystemDefaultLCID();\n@@ -696,1 +695,1 @@\n-            sprops.sun_jnu_encoding = getEncodingInternal(systemDefaultLCID);\n+            sprops.sun_jnu_encoding = getEncodingInternal(0);\n","filename":"src\/java.base\/windows\/native\/libjava\/java_props_md.c","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"}]}