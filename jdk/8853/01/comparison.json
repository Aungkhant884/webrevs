{"files":[{"patch":"@@ -1,1 +1,1 @@\n-## PC\/SC Lite v1.8.26\n+## PC\/SC Lite v1.9.5\n@@ -6,0 +6,2 @@\n+The main parts of the code are using the BSD-like licence bellow:\n+\n@@ -10,25 +12,11 @@\n-Redistribution and use in source and binary forms, with or without\n-modification, are permitted provided that the following conditions\n-are met:\n-\n-1. Redistributions of source code must retain the above copyright\n-   notice, this list of conditions and the following disclaimer.\n-2. Redistributions in binary form must reproduce the above copyright\n-   notice, this list of conditions and the following disclaimer in the\n-   documentation and\/or other materials provided with the distribution.\n-3. The name of the author may not be used to endorse or promote products\n-   derived from this software without specific prior written permission.\n-\n-Changes to this license can be made only by the copyright author with\n-explicit written consent.\n-\n-THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n-IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n-OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n-IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n-INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n-NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n-DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n-THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n-THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n+\n+    1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n+    2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and\/or other materials provided with the distribution.\n+    3. The name of the author may not be used to endorse or promote products derived from this software without specific prior written permission.\n+\n+Changes to this license can be made only by the copyright author with explicit written consent.\n+\n+THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+\n+Some source code files are using other licences. See the COPYING file for details.\n","filename":"src\/java.smartcardio\/unix\/legal\/pcsclite.md","additions":14,"deletions":26,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-#define MAX_ATR_SIZE                  33      \/**< Maximum ATR size *\/\n+#define MAX_ATR_SIZE            33    \/**< Maximum ATR size *\/\n@@ -61,1 +61,1 @@\n-\/* Set structure elements alignment on bytes\n+\/* Set structure elements aligment on bytes\n@@ -69,6 +69,6 @@\n-      const char *szReader;\n-      void *pvUserData;\n-      DWORD dwCurrentState;\n-      DWORD dwEventState;\n-      DWORD cbAtr;\n-      unsigned char rgbAtr[MAX_ATR_SIZE];\n+    const char *szReader;\n+    void *pvUserData;\n+    DWORD dwCurrentState;\n+    DWORD dwEventState;\n+    DWORD cbAtr;\n+    unsigned char rgbAtr[MAX_ATR_SIZE];\n@@ -81,2 +81,2 @@\n-      unsigned long dwProtocol;      \/**< Protocol identifier *\/\n-      unsigned long cbPciLength;      \/**< Protocol Control Inf Length *\/\n+    unsigned long dwProtocol;    \/**< Protocol identifier *\/\n+    unsigned long cbPciLength;    \/**< Protocol Control Inf Length *\/\n@@ -95,3 +95,3 @@\n-#define SCARD_PCI_T0      (&g_rgSCardT0Pci) \/**< protocol control information (PCI) for T=0 *\/\n-#define SCARD_PCI_T1      (&g_rgSCardT1Pci) \/**< protocol control information (PCI) for T=1 *\/\n-#define SCARD_PCI_RAW      (&g_rgSCardRawPci) \/**< protocol control information (PCI) for RAW protocol *\/\n+#define SCARD_PCI_T0    (&g_rgSCardT0Pci) \/**< protocol control information (PCI) for T=0 *\/\n+#define SCARD_PCI_T1    (&g_rgSCardT1Pci) \/**< protocol control information (PCI) for T=1 *\/\n+#define SCARD_PCI_RAW    (&g_rgSCardRawPci) \/**< protocol control information (PCI) for RAW protocol *\/\n@@ -107,1 +107,1 @@\n-#define SCARD_S_SUCCESS                  ((LONG)0x00000000) \/**< No error was encountered. *\/\n+#define SCARD_S_SUCCESS            ((LONG)0x00000000) \/**< No error was encountered. *\/\n@@ -109,1 +109,1 @@\n-#define SCARD_F_INTERNAL_ERROR            ((LONG)0x80100001) \/**< An internal consistency check failed. *\/\n+#define SCARD_F_INTERNAL_ERROR        ((LONG)0x80100001) \/**< An internal consistency check failed. *\/\n@@ -111,1 +111,1 @@\n-#define SCARD_E_CANCELLED            ((LONG)0x80100002) \/**< The action was cancelled by an SCardCancel request. *\/\n+#define SCARD_E_CANCELLED        ((LONG)0x80100002) \/**< The action was cancelled by an SCardCancel request. *\/\n@@ -113,1 +113,1 @@\n-#define SCARD_E_INVALID_HANDLE            ((LONG)0x80100003) \/**< The supplied handle was invalid. *\/\n+#define SCARD_E_INVALID_HANDLE        ((LONG)0x80100003) \/**< The supplied handle was invalid. *\/\n@@ -115,1 +115,1 @@\n-#define SCARD_E_INVALID_PARAMETER      ((LONG)0x80100004) \/**< One or more of the supplied parameters could not be properly interpreted. *\/\n+#define SCARD_E_INVALID_PARAMETER    ((LONG)0x80100004) \/**< One or more of the supplied parameters could not be properly interpreted. *\/\n@@ -117,1 +117,1 @@\n-#define SCARD_E_INVALID_TARGET            ((LONG)0x80100005) \/**< Registry startup information is missing or invalid. *\/\n+#define SCARD_E_INVALID_TARGET        ((LONG)0x80100005) \/**< Registry startup information is missing or invalid. *\/\n@@ -119,1 +119,1 @@\n-#define SCARD_E_NO_MEMORY            ((LONG)0x80100006) \/**< Not enough memory available to complete this command. *\/\n+#define SCARD_E_NO_MEMORY        ((LONG)0x80100006) \/**< Not enough memory available to complete this command. *\/\n@@ -121,1 +121,1 @@\n-#define SCARD_F_WAITED_TOO_LONG            ((LONG)0x80100007) \/**< An internal consistency timer has expired. *\/\n+#define SCARD_F_WAITED_TOO_LONG        ((LONG)0x80100007) \/**< An internal consistency timer has expired. *\/\n@@ -123,1 +123,1 @@\n-#define SCARD_E_INSUFFICIENT_BUFFER      ((LONG)0x80100008) \/**< The data buffer to receive returned data is too small for the returned data. *\/\n+#define SCARD_E_INSUFFICIENT_BUFFER    ((LONG)0x80100008) \/**< The data buffer to receive returned data is too small for the returned data. *\/\n@@ -125,1 +125,1 @@\n-#define SCARD_E_UNKNOWN_READER            ((LONG)0x80100009) \/**< The specified reader name is not recognized. *\/\n+#define SCARD_E_UNKNOWN_READER        ((LONG)0x80100009) \/**< The specified reader name is not recognized. *\/\n@@ -127,1 +127,1 @@\n-#define SCARD_E_TIMEOUT                  ((LONG)0x8010000A) \/**< The user-specified timeout value has expired. *\/\n+#define SCARD_E_TIMEOUT            ((LONG)0x8010000A) \/**< The user-specified timeout value has expired. *\/\n@@ -129,1 +129,1 @@\n-#define SCARD_E_SHARING_VIOLATION      ((LONG)0x8010000B) \/**< The smart card cannot be accessed because of other connections outstanding. *\/\n+#define SCARD_E_SHARING_VIOLATION    ((LONG)0x8010000B) \/**< The smart card cannot be accessed because of other connections outstanding. *\/\n@@ -131,1 +131,1 @@\n-#define SCARD_E_NO_SMARTCARD            ((LONG)0x8010000C) \/**< The operation requires a Smart Card, but no Smart Card is currently in the device. *\/\n+#define SCARD_E_NO_SMARTCARD        ((LONG)0x8010000C) \/**< The operation requires a Smart Card, but no Smart Card is currently in the device. *\/\n@@ -133,1 +133,1 @@\n-#define SCARD_E_UNKNOWN_CARD            ((LONG)0x8010000D) \/**< The specified smart card name is not recognized. *\/\n+#define SCARD_E_UNKNOWN_CARD        ((LONG)0x8010000D) \/**< The specified smart card name is not recognized. *\/\n@@ -135,1 +135,1 @@\n-#define SCARD_E_CANT_DISPOSE            ((LONG)0x8010000E) \/**< The system could not dispose of the media in the requested manner. *\/\n+#define SCARD_E_CANT_DISPOSE        ((LONG)0x8010000E) \/**< The system could not dispose of the media in the requested manner. *\/\n@@ -137,1 +137,1 @@\n-#define SCARD_E_PROTO_MISMATCH            ((LONG)0x8010000F) \/**< The requested protocols are incompatible with the protocol currently in use with the smart card. *\/\n+#define SCARD_E_PROTO_MISMATCH        ((LONG)0x8010000F) \/**< The requested protocols are incompatible with the protocol currently in use with the smart card. *\/\n@@ -139,1 +139,1 @@\n-#define SCARD_E_NOT_READY            ((LONG)0x80100010) \/**< The reader or smart card is not ready to accept commands. *\/\n+#define SCARD_E_NOT_READY        ((LONG)0x80100010) \/**< The reader or smart card is not ready to accept commands. *\/\n@@ -141,1 +141,1 @@\n-#define SCARD_E_INVALID_VALUE            ((LONG)0x80100011) \/**< One or more of the supplied parameters values could not be properly interpreted. *\/\n+#define SCARD_E_INVALID_VALUE        ((LONG)0x80100011) \/**< One or more of the supplied parameters values could not be properly interpreted. *\/\n@@ -143,1 +143,1 @@\n-#define SCARD_E_SYSTEM_CANCELLED      ((LONG)0x80100012) \/**< The action was cancelled by the system, presumably to log off or shut down. *\/\n+#define SCARD_E_SYSTEM_CANCELLED    ((LONG)0x80100012) \/**< The action was cancelled by the system, presumably to log off or shut down. *\/\n@@ -145,1 +145,1 @@\n-#define SCARD_F_COMM_ERROR            ((LONG)0x80100013) \/**< An internal communications error has been detected. *\/\n+#define SCARD_F_COMM_ERROR        ((LONG)0x80100013) \/**< An internal communications error has been detected. *\/\n@@ -147,1 +147,1 @@\n-#define SCARD_F_UNKNOWN_ERROR            ((LONG)0x80100014) \/**< An internal error has been detected, but the source is unknown. *\/\n+#define SCARD_F_UNKNOWN_ERROR        ((LONG)0x80100014) \/**< An internal error has been detected, but the source is unknown. *\/\n@@ -149,1 +149,1 @@\n-#define SCARD_E_INVALID_ATR            ((LONG)0x80100015) \/**< An ATR obtained from the registry is not a valid ATR string. *\/\n+#define SCARD_E_INVALID_ATR        ((LONG)0x80100015) \/**< An ATR obtained from the registry is not a valid ATR string. *\/\n@@ -151,1 +151,1 @@\n-#define SCARD_E_NOT_TRANSACTED            ((LONG)0x80100016) \/**< An attempt was made to end a non-existent transaction. *\/\n+#define SCARD_E_NOT_TRANSACTED        ((LONG)0x80100016) \/**< An attempt was made to end a non-existent transaction. *\/\n@@ -153,1 +153,1 @@\n-#define SCARD_E_READER_UNAVAILABLE      ((LONG)0x80100017) \/**< The specified reader is not currently available for use. *\/\n+#define SCARD_E_READER_UNAVAILABLE    ((LONG)0x80100017) \/**< The specified reader is not currently available for use. *\/\n@@ -155,1 +155,1 @@\n-#define SCARD_P_SHUTDOWN            ((LONG)0x80100018) \/**< The operation has been aborted to allow the server application to exit. *\/\n+#define SCARD_P_SHUTDOWN        ((LONG)0x80100018) \/**< The operation has been aborted to allow the server application to exit. *\/\n@@ -157,1 +157,1 @@\n-#define SCARD_E_PCI_TOO_SMALL            ((LONG)0x80100019) \/**< The PCI Receive buffer was too small. *\/\n+#define SCARD_E_PCI_TOO_SMALL        ((LONG)0x80100019) \/**< The PCI Receive buffer was too small. *\/\n@@ -159,1 +159,1 @@\n-#define SCARD_E_READER_UNSUPPORTED      ((LONG)0x8010001A) \/**< The reader driver does not meet minimal requirements for support. *\/\n+#define SCARD_E_READER_UNSUPPORTED    ((LONG)0x8010001A) \/**< The reader driver does not meet minimal requirements for support. *\/\n@@ -161,1 +161,1 @@\n-#define SCARD_E_DUPLICATE_READER      ((LONG)0x8010001B) \/**< The reader driver did not produce a unique reader name. *\/\n+#define SCARD_E_DUPLICATE_READER    ((LONG)0x8010001B) \/**< The reader driver did not produce a unique reader name. *\/\n@@ -163,1 +163,1 @@\n-#define SCARD_E_CARD_UNSUPPORTED      ((LONG)0x8010001C) \/**< The smart card does not meet minimal requirements for support. *\/\n+#define SCARD_E_CARD_UNSUPPORTED    ((LONG)0x8010001C) \/**< The smart card does not meet minimal requirements for support. *\/\n@@ -165,1 +165,1 @@\n-#define SCARD_E_NO_SERVICE            ((LONG)0x8010001D) \/**< The Smart card resource manager is not running. *\/\n+#define SCARD_E_NO_SERVICE        ((LONG)0x8010001D) \/**< The Smart card resource manager is not running. *\/\n@@ -167,1 +167,1 @@\n-#define SCARD_E_SERVICE_STOPPED            ((LONG)0x8010001E) \/**< The Smart card resource manager has shut down. *\/\n+#define SCARD_E_SERVICE_STOPPED        ((LONG)0x8010001E) \/**< The Smart card resource manager has shut down. *\/\n@@ -169,1 +169,1 @@\n-#define SCARD_E_UNEXPECTED            ((LONG)0x8010001F) \/**< An unexpected card error has occurred. *\/\n+#define SCARD_E_UNEXPECTED        ((LONG)0x8010001F) \/**< An unexpected card error has occurred. *\/\n@@ -171,1 +171,1 @@\n-#define SCARD_E_UNSUPPORTED_FEATURE      ((LONG)0x8010001F) \/**< This smart card does not support the requested feature. *\/\n+#define SCARD_E_UNSUPPORTED_FEATURE    ((LONG)0x8010001F) \/**< This smart card does not support the requested feature. *\/\n@@ -173,1 +173,1 @@\n-#define SCARD_E_ICC_INSTALLATION      ((LONG)0x80100020) \/**< No primary provider can be found for the smart card. *\/\n+#define SCARD_E_ICC_INSTALLATION    ((LONG)0x80100020) \/**< No primary provider can be found for the smart card. *\/\n@@ -175,1 +175,1 @@\n-#define SCARD_E_ICC_CREATEORDER            ((LONG)0x80100021) \/**< The requested order of object creation is not supported. *\/\n+#define SCARD_E_ICC_CREATEORDER        ((LONG)0x80100021) \/**< The requested order of object creation is not supported. *\/\n@@ -177,1 +177,1 @@\n-\/* #define SCARD_E_UNSUPPORTED_FEATURE      ((LONG)0x80100022) \/ **< This smart card does not support the requested feature. *\/\n+\/* #define SCARD_E_UNSUPPORTED_FEATURE    ((LONG)0x80100022) \/ **< This smart card does not support the requested feature. *\/\n@@ -179,1 +179,1 @@\n-#define SCARD_E_DIR_NOT_FOUND            ((LONG)0x80100023) \/**< The identified directory does not exist in the smart card. *\/\n+#define SCARD_E_DIR_NOT_FOUND        ((LONG)0x80100023) \/**< The identified directory does not exist in the smart card. *\/\n@@ -181,1 +181,1 @@\n-#define SCARD_E_FILE_NOT_FOUND            ((LONG)0x80100024) \/**< The identified file does not exist in the smart card. *\/\n+#define SCARD_E_FILE_NOT_FOUND        ((LONG)0x80100024) \/**< The identified file does not exist in the smart card. *\/\n@@ -183,1 +183,1 @@\n-#define SCARD_E_NO_DIR                  ((LONG)0x80100025) \/**< The supplied path does not represent a smart card directory. *\/\n+#define SCARD_E_NO_DIR            ((LONG)0x80100025) \/**< The supplied path does not represent a smart card directory. *\/\n@@ -185,1 +185,1 @@\n-#define SCARD_E_NO_FILE                  ((LONG)0x80100026) \/**< The supplied path does not represent a smart card file. *\/\n+#define SCARD_E_NO_FILE            ((LONG)0x80100026) \/**< The supplied path does not represent a smart card file. *\/\n@@ -187,1 +187,1 @@\n-#define SCARD_E_NO_ACCESS            ((LONG)0x80100027) \/**< Access is denied to this file. *\/\n+#define SCARD_E_NO_ACCESS        ((LONG)0x80100027) \/**< Access is denied to this file. *\/\n@@ -189,1 +189,1 @@\n-#define SCARD_E_WRITE_TOO_MANY            ((LONG)0x80100028) \/**< The smart card does not have enough memory to store the information. *\/\n+#define SCARD_E_WRITE_TOO_MANY        ((LONG)0x80100028) \/**< The smart card does not have enough memory to store the information. *\/\n@@ -191,1 +191,1 @@\n-#define SCARD_E_BAD_SEEK            ((LONG)0x80100029) \/**< There was an error trying to set the smart card file object pointer. *\/\n+#define SCARD_E_BAD_SEEK        ((LONG)0x80100029) \/**< There was an error trying to set the smart card file object pointer. *\/\n@@ -193,1 +193,1 @@\n-#define SCARD_E_INVALID_CHV            ((LONG)0x8010002A) \/**< The supplied PIN is incorrect. *\/\n+#define SCARD_E_INVALID_CHV        ((LONG)0x8010002A) \/**< The supplied PIN is incorrect. *\/\n@@ -195,1 +195,1 @@\n-#define SCARD_E_UNKNOWN_RES_MNG            ((LONG)0x8010002B) \/**< An unrecognized error code was returned from a layered component. *\/\n+#define SCARD_E_UNKNOWN_RES_MNG        ((LONG)0x8010002B) \/**< An unrecognized error code was returned from a layered component. *\/\n@@ -197,1 +197,1 @@\n-#define SCARD_E_NO_SUCH_CERTIFICATE      ((LONG)0x8010002C) \/**< The requested certificate does not exist. *\/\n+#define SCARD_E_NO_SUCH_CERTIFICATE    ((LONG)0x8010002C) \/**< The requested certificate does not exist. *\/\n@@ -199,1 +199,1 @@\n-#define SCARD_E_CERTIFICATE_UNAVAILABLE      ((LONG)0x8010002D) \/**< The requested certificate could not be obtained. *\/\n+#define SCARD_E_CERTIFICATE_UNAVAILABLE    ((LONG)0x8010002D) \/**< The requested certificate could not be obtained. *\/\n@@ -203,1 +203,1 @@\n-#define SCARD_E_COMM_DATA_LOST            ((LONG)0x8010002F) \/**< A communications error with the smart card has been detected. Retry the operation. *\/\n+#define SCARD_E_COMM_DATA_LOST        ((LONG)0x8010002F) \/**< A communications error with the smart card has been detected. Retry the operation. *\/\n@@ -205,1 +205,1 @@\n-#define SCARD_E_NO_KEY_CONTAINER      ((LONG)0x80100030) \/**< The requested key container does not exist on the smart card. *\/\n+#define SCARD_E_NO_KEY_CONTAINER    ((LONG)0x80100030) \/**< The requested key container does not exist on the smart card. *\/\n@@ -207,1 +207,1 @@\n-#define SCARD_E_SERVER_TOO_BUSY            ((LONG)0x80100031) \/**< The Smart Card Resource Manager is too busy to complete this operation. *\/\n+#define SCARD_E_SERVER_TOO_BUSY        ((LONG)0x80100031) \/**< The Smart Card Resource Manager is too busy to complete this operation. *\/\n@@ -210,1 +210,1 @@\n-#define SCARD_W_UNSUPPORTED_CARD      ((LONG)0x80100065) \/**< The reader cannot communicate with the card, due to ATR string configuration conflicts. *\/\n+#define SCARD_W_UNSUPPORTED_CARD    ((LONG)0x80100065) \/**< The reader cannot communicate with the card, due to ATR string configuration conflicts. *\/\n@@ -212,1 +212,1 @@\n-#define SCARD_W_UNRESPONSIVE_CARD      ((LONG)0x80100066) \/**< The smart card is not responding to a reset. *\/\n+#define SCARD_W_UNRESPONSIVE_CARD    ((LONG)0x80100066) \/**< The smart card is not responding to a reset. *\/\n@@ -214,1 +214,1 @@\n-#define SCARD_W_UNPOWERED_CARD            ((LONG)0x80100067) \/**< Power has been removed from the smart card, so that further communication is not possible. *\/\n+#define SCARD_W_UNPOWERED_CARD        ((LONG)0x80100067) \/**< Power has been removed from the smart card, so that further communication is not possible. *\/\n@@ -216,1 +216,1 @@\n-#define SCARD_W_RESET_CARD            ((LONG)0x80100068) \/**< The smart card has been reset, so any shared state information is invalid. *\/\n+#define SCARD_W_RESET_CARD        ((LONG)0x80100068) \/**< The smart card has been reset, so any shared state information is invalid. *\/\n@@ -218,1 +218,1 @@\n-#define SCARD_W_REMOVED_CARD            ((LONG)0x80100069) \/**< The smart card has been removed, so further communication is not possible. *\/\n+#define SCARD_W_REMOVED_CARD        ((LONG)0x80100069) \/**< The smart card has been removed, so further communication is not possible. *\/\n@@ -221,1 +221,1 @@\n-#define SCARD_W_SECURITY_VIOLATION      ((LONG)0x8010006A) \/**< Access was denied because of a security violation. *\/\n+#define SCARD_W_SECURITY_VIOLATION    ((LONG)0x8010006A) \/**< Access was denied because of a security violation. *\/\n@@ -223,1 +223,1 @@\n-#define SCARD_W_WRONG_CHV            ((LONG)0x8010006B) \/**< The card cannot be accessed because the wrong PIN was presented. *\/\n+#define SCARD_W_WRONG_CHV        ((LONG)0x8010006B) \/**< The card cannot be accessed because the wrong PIN was presented. *\/\n@@ -225,1 +225,1 @@\n-#define SCARD_W_CHV_BLOCKED            ((LONG)0x8010006C) \/**< The card cannot be accessed because the maximum number of PIN entry attempts has been reached. *\/\n+#define SCARD_W_CHV_BLOCKED        ((LONG)0x8010006C) \/**< The card cannot be accessed because the maximum number of PIN entry attempts has been reached. *\/\n@@ -227,1 +227,1 @@\n-#define SCARD_W_EOF                  ((LONG)0x8010006D) \/**< The end of the smart card file has been reached. *\/\n+#define SCARD_W_EOF            ((LONG)0x8010006D) \/**< The end of the smart card file has been reached. *\/\n@@ -229,1 +229,1 @@\n-#define SCARD_W_CANCELLED_BY_USER      ((LONG)0x8010006E) \/**< The user pressed \"Cancel\" on a Smart Card Selection Dialog. *\/\n+#define SCARD_W_CANCELLED_BY_USER    ((LONG)0x8010006E) \/**< The user pressed \"Cancel\" on a Smart Card Selection Dialog. *\/\n@@ -231,1 +231,1 @@\n-#define SCARD_W_CARD_NOT_AUTHENTICATED      ((LONG)0x8010006F) \/**< No PIN was presented to the smart card. *\/\n+#define SCARD_W_CARD_NOT_AUTHENTICATED    ((LONG)0x8010006F) \/**< No PIN was presented to the smart card. *\/\n@@ -233,5 +233,5 @@\n-#define SCARD_AUTOALLOCATE (DWORD)(-1)      \/**< see SCardFreeMemory() *\/\n-#define SCARD_SCOPE_USER            0x0000      \/**< Scope in user space *\/\n-#define SCARD_SCOPE_TERMINAL            0x0001      \/**< Scope in terminal *\/\n-#define SCARD_SCOPE_SYSTEM            0x0002      \/**< Scope in system *\/\n-#define SCARD_SCOPE_GLOBAL            0x0003      \/**< Scope is global *\/\n+#define SCARD_AUTOALLOCATE (DWORD)(-1)    \/**< see SCardFreeMemory() *\/\n+#define SCARD_SCOPE_USER        0x0000    \/**< Scope in user space *\/\n+#define SCARD_SCOPE_TERMINAL        0x0001    \/**< Scope in terminal *\/\n+#define SCARD_SCOPE_SYSTEM        0x0002    \/**< Scope in system *\/\n+#define SCARD_SCOPE_GLOBAL        0x0003    \/**< Scope is global *\/\n@@ -239,6 +239,6 @@\n-#define SCARD_PROTOCOL_UNDEFINED      0x0000      \/**< protocol not set *\/\n-#define SCARD_PROTOCOL_UNSET SCARD_PROTOCOL_UNDEFINED      \/* backward compat *\/\n-#define SCARD_PROTOCOL_T0            0x0001      \/**< T=0 active protocol. *\/\n-#define SCARD_PROTOCOL_T1            0x0002      \/**< T=1 active protocol. *\/\n-#define SCARD_PROTOCOL_RAW            0x0004      \/**< Raw active protocol. *\/\n-#define SCARD_PROTOCOL_T15            0x0008      \/**< T=15 protocol. *\/\n+#define SCARD_PROTOCOL_UNDEFINED    0x0000    \/**< protocol not set *\/\n+#define SCARD_PROTOCOL_UNSET SCARD_PROTOCOL_UNDEFINED    \/* backward compat *\/\n+#define SCARD_PROTOCOL_T0        0x0001    \/**< T=0 active protocol. *\/\n+#define SCARD_PROTOCOL_T1        0x0002    \/**< T=1 active protocol. *\/\n+#define SCARD_PROTOCOL_RAW        0x0004    \/**< Raw active protocol. *\/\n+#define SCARD_PROTOCOL_T15        0x0008    \/**< T=15 protocol. *\/\n@@ -246,1 +246,1 @@\n-#define SCARD_PROTOCOL_ANY            (SCARD_PROTOCOL_T0|SCARD_PROTOCOL_T1)      \/**< IFD determines prot. *\/\n+#define SCARD_PROTOCOL_ANY        (SCARD_PROTOCOL_T0|SCARD_PROTOCOL_T1)    \/**< IFD determines prot. *\/\n@@ -248,3 +248,3 @@\n-#define SCARD_SHARE_EXCLUSIVE            0x0001      \/**< Exclusive mode only *\/\n-#define SCARD_SHARE_SHARED            0x0002      \/**< Shared mode only *\/\n-#define SCARD_SHARE_DIRECT            0x0003      \/**< Raw mode only *\/\n+#define SCARD_SHARE_EXCLUSIVE        0x0001    \/**< Exclusive mode only *\/\n+#define SCARD_SHARE_SHARED        0x0002    \/**< Shared mode only *\/\n+#define SCARD_SHARE_DIRECT        0x0003    \/**< Raw mode only *\/\n@@ -252,4 +252,4 @@\n-#define SCARD_LEAVE_CARD            0x0000      \/**< Do nothing on close *\/\n-#define SCARD_RESET_CARD            0x0001      \/**< Reset on close *\/\n-#define SCARD_UNPOWER_CARD            0x0002      \/**< Power down on close *\/\n-#define SCARD_EJECT_CARD            0x0003      \/**< Eject on close *\/\n+#define SCARD_LEAVE_CARD        0x0000    \/**< Do nothing on close *\/\n+#define SCARD_RESET_CARD        0x0001    \/**< Reset on close *\/\n+#define SCARD_UNPOWER_CARD        0x0002    \/**< Power down on close *\/\n+#define SCARD_EJECT_CARD        0x0003    \/**< Eject on close *\/\n@@ -257,7 +257,7 @@\n-#define SCARD_UNKNOWN                  0x0001      \/**< Unknown state *\/\n-#define SCARD_ABSENT                  0x0002      \/**< Card is absent *\/\n-#define SCARD_PRESENT                  0x0004      \/**< Card is present *\/\n-#define SCARD_SWALLOWED                  0x0008      \/**< Card not powered *\/\n-#define SCARD_POWERED                  0x0010      \/**< Card is powered *\/\n-#define SCARD_NEGOTIABLE            0x0020      \/**< Ready for PTS *\/\n-#define SCARD_SPECIFIC                  0x0040      \/**< PTS has been set *\/\n+#define SCARD_UNKNOWN            0x0001    \/**< Unknown state *\/\n+#define SCARD_ABSENT            0x0002    \/**< Card is absent *\/\n+#define SCARD_PRESENT            0x0004    \/**< Card is present *\/\n+#define SCARD_SWALLOWED            0x0008    \/**< Card not powered *\/\n+#define SCARD_POWERED            0x0010    \/**< Card is powered *\/\n+#define SCARD_NEGOTIABLE        0x0020    \/**< Ready for PTS *\/\n+#define SCARD_SPECIFIC            0x0040    \/**< PTS has been set *\/\n@@ -265,12 +265,12 @@\n-#define SCARD_STATE_UNAWARE            0x0000      \/**< App wants status *\/\n-#define SCARD_STATE_IGNORE            0x0001      \/**< Ignore this reader *\/\n-#define SCARD_STATE_CHANGED            0x0002      \/**< State has changed *\/\n-#define SCARD_STATE_UNKNOWN            0x0004      \/**< Reader unknown *\/\n-#define SCARD_STATE_UNAVAILABLE            0x0008      \/**< Status unavailable *\/\n-#define SCARD_STATE_EMPTY            0x0010      \/**< Card removed *\/\n-#define SCARD_STATE_PRESENT            0x0020      \/**< Card inserted *\/\n-#define SCARD_STATE_ATRMATCH            0x0040      \/**< ATR matches card *\/\n-#define SCARD_STATE_EXCLUSIVE            0x0080      \/**< Exclusive Mode *\/\n-#define SCARD_STATE_INUSE            0x0100      \/**< Shared Mode *\/\n-#define SCARD_STATE_MUTE            0x0200      \/**< Unresponsive card *\/\n-#define SCARD_STATE_UNPOWERED            0x0400      \/**< Unpowered card *\/\n+#define SCARD_STATE_UNAWARE        0x0000    \/**< App wants status *\/\n+#define SCARD_STATE_IGNORE        0x0001    \/**< Ignore this reader *\/\n+#define SCARD_STATE_CHANGED        0x0002    \/**< State has changed *\/\n+#define SCARD_STATE_UNKNOWN        0x0004    \/**< Reader unknown *\/\n+#define SCARD_STATE_UNAVAILABLE        0x0008    \/**< Status unavailable *\/\n+#define SCARD_STATE_EMPTY        0x0010    \/**< Card removed *\/\n+#define SCARD_STATE_PRESENT        0x0020    \/**< Card inserted *\/\n+#define SCARD_STATE_ATRMATCH        0x0040    \/**< ATR matches card *\/\n+#define SCARD_STATE_EXCLUSIVE        0x0080    \/**< Exclusive Mode *\/\n+#define SCARD_STATE_INUSE        0x0100    \/**< Shared Mode *\/\n+#define SCARD_STATE_MUTE        0x0200    \/**< Unresponsive card *\/\n+#define SCARD_STATE_UNPOWERED        0x0400    \/**< Unpowered card *\/\n@@ -279,1 +279,1 @@\n-#define INFINITE                  0xFFFFFFFF      \/**< Infinite timeout *\/\n+#define INFINITE            0xFFFFFFFF    \/**< Infinite timeout *\/\n@@ -282,1 +282,1 @@\n-#define PCSCLITE_VERSION_NUMBER            \"1.8.26\"      \/**< Current version *\/\n+#define PCSCLITE_VERSION_NUMBER        \"1.9.5\"    \/**< Current version *\/\n@@ -284,1 +284,1 @@\n-#define PCSCLITE_MAX_READERS_CONTEXTS                  16\n+#define PCSCLITE_MAX_READERS_CONTEXTS            16\n@@ -286,1 +286,1 @@\n-#define MAX_READERNAME                  128\n+#define MAX_READERNAME            128\n@@ -289,1 +289,1 @@\n-#define SCARD_ATR_LENGTH            MAX_ATR_SIZE      \/**< Maximum ATR size *\/\n+#define SCARD_ATR_LENGTH        MAX_ATR_SIZE    \/**< Maximum ATR size *\/\n@@ -295,1 +295,1 @@\n- * to accommodate the transmit_struct\n+ * to accomodate the transmit_struct\n@@ -297,2 +297,2 @@\n-#define MAX_BUFFER_SIZE                  264      \/**< Maximum Tx\/Rx Buffer for short APDU *\/\n-#define MAX_BUFFER_SIZE_EXTENDED      (4 + 3 + (1<<16) + 3 + 2)      \/**< enhanced (64K + APDU + Lc + Le + SW) Tx\/Rx Buffer *\/\n+#define MAX_BUFFER_SIZE            264    \/**< Maximum Tx\/Rx Buffer for short APDU *\/\n+#define MAX_BUFFER_SIZE_EXTENDED    (4 + 3 + (1<<16) + 3 + 2)    \/**< enhanced (64K + APDU + Lc + Le + SW) Tx\/Rx Buffer *\/\n","filename":"src\/java.smartcardio\/unix\/native\/libj2pcsc\/MUSCLE\/pcsclite.h","additions":120,"deletions":120,"binary":false,"changes":240,"status":"modified"},{"patch":"@@ -52,3 +52,3 @@\n-      PCSC_API LONG SCardEstablishContext(DWORD dwScope,\n-            \/*@null@*\/ LPCVOID pvReserved1, \/*@null@*\/ LPCVOID pvReserved2,\n-            \/*@out@*\/ LPSCARDCONTEXT phContext);\n+    PCSC_API LONG SCardEstablishContext(DWORD dwScope,\n+        \/*@null@*\/ LPCVOID pvReserved1, \/*@null@*\/ LPCVOID pvReserved2,\n+        \/*@out@*\/ LPSCARDCONTEXT phContext);\n@@ -56,1 +56,1 @@\n-      PCSC_API LONG SCardReleaseContext(SCARDCONTEXT hContext);\n+    PCSC_API LONG SCardReleaseContext(SCARDCONTEXT hContext);\n@@ -58,1 +58,1 @@\n-      PCSC_API LONG SCardIsValidContext(SCARDCONTEXT hContext);\n+    PCSC_API LONG SCardIsValidContext(SCARDCONTEXT hContext);\n@@ -60,5 +60,5 @@\n-      PCSC_API LONG SCardConnect(SCARDCONTEXT hContext,\n-            LPCSTR szReader,\n-            DWORD dwShareMode,\n-            DWORD dwPreferredProtocols,\n-            \/*@out@*\/ LPSCARDHANDLE phCard, \/*@out@*\/ LPDWORD pdwActiveProtocol);\n+    PCSC_API LONG SCardConnect(SCARDCONTEXT hContext,\n+        LPCSTR szReader,\n+        DWORD dwShareMode,\n+        DWORD dwPreferredProtocols,\n+        \/*@out@*\/ LPSCARDHANDLE phCard, \/*@out@*\/ LPDWORD pdwActiveProtocol);\n@@ -66,4 +66,4 @@\n-      PCSC_API LONG SCardReconnect(SCARDHANDLE hCard,\n-            DWORD dwShareMode,\n-            DWORD dwPreferredProtocols,\n-            DWORD dwInitialization, \/*@out@*\/ LPDWORD pdwActiveProtocol);\n+    PCSC_API LONG SCardReconnect(SCARDHANDLE hCard,\n+        DWORD dwShareMode,\n+        DWORD dwPreferredProtocols,\n+        DWORD dwInitialization, \/*@out@*\/ LPDWORD pdwActiveProtocol);\n@@ -71,1 +71,1 @@\n-      PCSC_API LONG SCardDisconnect(SCARDHANDLE hCard, DWORD dwDisposition);\n+    PCSC_API LONG SCardDisconnect(SCARDHANDLE hCard, DWORD dwDisposition);\n@@ -73,1 +73,1 @@\n-      PCSC_API LONG SCardBeginTransaction(SCARDHANDLE hCard);\n+    PCSC_API LONG SCardBeginTransaction(SCARDHANDLE hCard);\n@@ -75,1 +75,1 @@\n-      PCSC_API LONG SCardEndTransaction(SCARDHANDLE hCard, DWORD dwDisposition);\n+    PCSC_API LONG SCardEndTransaction(SCARDHANDLE hCard, DWORD dwDisposition);\n@@ -77,7 +77,7 @@\n-      PCSC_API LONG SCardStatus(SCARDHANDLE hCard,\n-            \/*@null@*\/ \/*@out@*\/ LPSTR mszReaderName,\n-            \/*@null@*\/ \/*@out@*\/ LPDWORD pcchReaderLen,\n-            \/*@null@*\/ \/*@out@*\/ LPDWORD pdwState,\n-            \/*@null@*\/ \/*@out@*\/ LPDWORD pdwProtocol,\n-            \/*@null@*\/ \/*@out@*\/ LPBYTE pbAtr,\n-            \/*@null@*\/ \/*@out@*\/ LPDWORD pcbAtrLen);\n+    PCSC_API LONG SCardStatus(SCARDHANDLE hCard,\n+        \/*@null@*\/ \/*@out@*\/ LPSTR mszReaderName,\n+        \/*@null@*\/ \/*@out@*\/ LPDWORD pcchReaderLen,\n+        \/*@null@*\/ \/*@out@*\/ LPDWORD pdwState,\n+        \/*@null@*\/ \/*@out@*\/ LPDWORD pdwProtocol,\n+        \/*@null@*\/ \/*@out@*\/ LPBYTE pbAtr,\n+        \/*@null@*\/ \/*@out@*\/ LPDWORD pcbAtrLen);\n@@ -85,3 +85,3 @@\n-      PCSC_API LONG SCardGetStatusChange(SCARDCONTEXT hContext,\n-            DWORD dwTimeout,\n-            SCARD_READERSTATE *rgReaderStates, DWORD cReaders);\n+    PCSC_API LONG SCardGetStatusChange(SCARDCONTEXT hContext,\n+        DWORD dwTimeout,\n+        SCARD_READERSTATE *rgReaderStates, DWORD cReaders);\n@@ -89,4 +89,4 @@\n-      PCSC_API LONG SCardControl(SCARDHANDLE hCard, DWORD dwControlCode,\n-            LPCVOID pbSendBuffer, DWORD cbSendLength,\n-            \/*@out@*\/ LPVOID pbRecvBuffer, DWORD cbRecvLength,\n-            LPDWORD lpBytesReturned);\n+    PCSC_API LONG SCardControl(SCARDHANDLE hCard, DWORD dwControlCode,\n+        LPCVOID pbSendBuffer, DWORD cbSendLength,\n+        \/*@out@*\/ LPVOID pbRecvBuffer, DWORD cbRecvLength,\n+        LPDWORD lpBytesReturned);\n@@ -94,5 +94,5 @@\n-      PCSC_API LONG SCardTransmit(SCARDHANDLE hCard,\n-            const SCARD_IO_REQUEST *pioSendPci,\n-            LPCBYTE pbSendBuffer, DWORD cbSendLength,\n-            \/*@out@*\/ SCARD_IO_REQUEST *pioRecvPci,\n-            \/*@out@*\/ LPBYTE pbRecvBuffer, LPDWORD pcbRecvLength);\n+    PCSC_API LONG SCardTransmit(SCARDHANDLE hCard,\n+        const SCARD_IO_REQUEST *pioSendPci,\n+        LPCBYTE pbSendBuffer, DWORD cbSendLength,\n+        \/*@out@*\/ SCARD_IO_REQUEST *pioRecvPci,\n+        \/*@out@*\/ LPBYTE pbRecvBuffer, LPDWORD pcbRecvLength);\n@@ -100,2 +100,2 @@\n-      PCSC_API LONG SCardListReaderGroups(SCARDCONTEXT hContext,\n-            \/*@out@*\/ LPSTR mszGroups, LPDWORD pcchGroups);\n+    PCSC_API LONG SCardListReaderGroups(SCARDCONTEXT hContext,\n+        \/*@out@*\/ LPSTR mszGroups, LPDWORD pcchGroups);\n@@ -103,4 +103,4 @@\n-      PCSC_API LONG SCardListReaders(SCARDCONTEXT hContext,\n-            \/*@null@*\/ \/*@out@*\/ LPCSTR mszGroups,\n-            \/*@null@*\/ \/*@out@*\/ LPSTR mszReaders,\n-            \/*@out@*\/ LPDWORD pcchReaders);\n+    PCSC_API LONG SCardListReaders(SCARDCONTEXT hContext,\n+        \/*@null@*\/ \/*@out@*\/ LPCSTR mszGroups,\n+        \/*@null@*\/ \/*@out@*\/ LPSTR mszReaders,\n+        \/*@out@*\/ LPDWORD pcchReaders);\n@@ -108,1 +108,1 @@\n-      PCSC_API LONG SCardFreeMemory(SCARDCONTEXT hContext, LPCVOID pvMem);\n+    PCSC_API LONG SCardFreeMemory(SCARDCONTEXT hContext, LPCVOID pvMem);\n@@ -110,1 +110,1 @@\n-      PCSC_API LONG SCardCancel(SCARDCONTEXT hContext);\n+    PCSC_API LONG SCardCancel(SCARDCONTEXT hContext);\n@@ -112,2 +112,2 @@\n-      PCSC_API LONG SCardGetAttrib(SCARDHANDLE hCard, DWORD dwAttrId,\n-            \/*@out@*\/ LPBYTE pbAttr, LPDWORD pcbAttrLen);\n+    PCSC_API LONG SCardGetAttrib(SCARDHANDLE hCard, DWORD dwAttrId,\n+        \/*@out@*\/ LPBYTE pbAttr, LPDWORD pcbAttrLen);\n@@ -115,2 +115,2 @@\n-      PCSC_API LONG SCardSetAttrib(SCARDHANDLE hCard, DWORD dwAttrId,\n-            LPCBYTE pbAttr, DWORD cbAttrLen);\n+    PCSC_API LONG SCardSetAttrib(SCARDHANDLE hCard, DWORD dwAttrId,\n+        LPCBYTE pbAttr, DWORD cbAttrLen);\n@@ -123,1 +123,0 @@\n-\n","filename":"src\/java.smartcardio\/unix\/native\/libj2pcsc\/MUSCLE\/winscard.h","additions":48,"deletions":49,"binary":false,"changes":97,"status":"modified"}]}