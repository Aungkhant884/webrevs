{"files":[{"patch":"@@ -5302,1 +5302,1 @@\n-    if (n->is_CMove()) {\n+    if (n->is_CMove() || n->is_ConstraintCast()) {\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8237007\n+ * @bug 8237007 8260637\n@@ -36,1 +36,1 @@\n-    private static Object field1;\n+    private static A field1;\n@@ -42,2 +42,3 @@\n-            test(true, true, new Object());\n-            test(false, false, new Object());\n+            test1(true, true, new Object());\n+            test1(false, false, new Object());\n+            test2(new Object(), 0, 10);\n@@ -47,1 +48,1 @@\n-    private static Object test(boolean flag, boolean flag2, Object o2) {\n+    private static Object test1(boolean flag, boolean flag2, Object o2) {\n@@ -64,0 +65,26 @@\n+\n+    private static int test2(Object o2, int start, int stop) {\n+        A a1 = null;\n+        A a2 = null;\n+        int v = 0;\n+        for (int i = start; i < stop; i++) {\n+            a2 = new A();\n+            a1 = new A();\n+            a1.a = a2;\n+            barrier = 0x42; \/\/ Membar\n+            if (o2 == null) { \/\/ hoisted out of loop\n+            }\n+            A a3 = a1.a;\n+            v = a3.f; \/\/ null check optimized out by EA but CastPP left in\n+        }\n+\n+        a1.f = 0x42;\n+        a2.f = 0x42;\n+\n+        return v;\n+    }\n+\n+    static class A {\n+        A a;\n+        int f;\n+    }\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/compiler\/LRBRightAfterMemBar.java","additions":32,"deletions":5,"binary":false,"changes":37,"status":"modified"}]}