{"files":[{"patch":"@@ -76,2 +76,2 @@\n-          \"product builds. If specified, the static field named \"           \\\n-          \"\\\"archivedObjects\\\" in this class is stored into the CDS \"       \\\n+          \"product builds. This flag specifies a class whose static \"       \\\n+          \"field named \\\"archivedObjects\\\" is stored into the CDS \"         \\\n","filename":"src\/hotspot\/share\/cds\/cds_globals.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1618,2 +1618,2 @@\n-  assert(p[num_slots - 2].klass_name == NULL, \"must have empty slot\");\n-  assert(p[num_slots - 1].klass_name == NULL, \"must have empty slot\");\n+  assert(p[num_slots - 2].klass_name == NULL, \"must have empty slot that's patched below\");\n+  assert(p[num_slots - 1].klass_name == NULL, \"must have empty slot that marks the end of the list\");\n","filename":"src\/hotspot\/share\/cds\/heapShared.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1053,4 +1053,7 @@\n-    if (!scp_entry->is_modules_image()) {\n-      assert(HeapShared::is_a_test_class_in_unnamed_module(ik),\n-             \"Loading non-bootstrap classes before the module system is initialized\");\n-    }\n+    \/\/ At this point, no modules have been defined yet. KlassSubGraphInfo::check_allowed_klass()\n+    \/\/ has restricted the classes can be loaded at this step to be only:\n+    \/\/ [1] scp_entry->is_modules_image(): classes in java.base, or,\n+    \/\/ [2] HeapShared::is_a_test_class_in_unnamed_module(ik): classes in bootstrap\/unnamed module\n+    assert(scp_entry->is_modules_image() || HeapShared::is_a_test_class_in_unnamed_module(ik),\n+           \"only these classes can be loaded before the module system is initialized\");\n+    assert(class_loader.is_null(), \"sanity\");\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}