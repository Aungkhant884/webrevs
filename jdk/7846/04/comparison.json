{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,0 @@\n-#include <stdlib.h>\n@@ -28,0 +27,2 @@\n+#include <stdlib.h>\n+#include <string.h>\n@@ -29,0 +30,3 @@\n+#include \"check_classname.h\"\n+#include \"java_lang_ClassLoader.h\"\n+#include \"jlong.h\"\n@@ -31,1 +35,0 @@\n-#include \"jlong.h\"\n@@ -33,3 +36,0 @@\n-#include \"check_classname.h\"\n-#include \"java_lang_ClassLoader.h\"\n-#include <string.h>\n@@ -91,1 +91,1 @@\n-        return 0;\n+        return NULL;\n@@ -99,1 +99,1 @@\n-        return 0;\n+        return NULL;\n@@ -102,1 +102,2 @@\n-    \/\/ On AIX malloc(0) returns NULL which looks like an out-of-memory condition; so adjust it to malloc(1)\n+    \/\/ On AIX malloc(0) returns NULL which looks like an out-of-memory\n+    \/\/ condition; so adjust it to malloc(1)\n@@ -104,1 +105,1 @@\n-    body = (jbyte *)malloc(length == 0 ? 1 : length);\n+        body = (jbyte *)malloc(length == 0 ? 1 : length);\n@@ -106,1 +107,1 @@\n-    body = (jbyte *)malloc(length);\n+        body = (jbyte *)malloc(length);\n@@ -109,1 +110,1 @@\n-    if (body == 0) {\n+    if (body == NULL) {\n@@ -111,1 +112,1 @@\n-        return 0;\n+        return NULL;\n@@ -116,1 +117,1 @@\n-    if ((*env)->ExceptionOccurred(env))\n+    if ((*env)->ExceptionOccurred(env)) {\n@@ -118,0 +119,1 @@\n+    }\n@@ -176,1 +178,1 @@\n-    if (body == 0) {\n+    if (body == NULL) {\n@@ -178,1 +180,1 @@\n-        return 0;\n+        return NULL;\n@@ -236,1 +238,1 @@\n-        return 0;\n+        return NULL;\n@@ -244,1 +246,1 @@\n-        return 0;\n+        return NULL;\n@@ -247,1 +249,2 @@\n-    \/\/ On AIX malloc(0) returns NULL which looks like an out-of-memory condition; so adjust it to malloc(1)\n+    \/\/ On AIX malloc(0) returns NULL which looks like an out-of-memory\n+    \/\/ condition; so adjust it to malloc(1)\n@@ -249,1 +252,1 @@\n-    body = (jbyte *)malloc(length == 0 ? 1 : length);\n+        body = (jbyte *)malloc(length == 0 ? 1 : length);\n@@ -251,1 +254,1 @@\n-    body = (jbyte *)malloc(length);\n+        body = (jbyte *)malloc(length);\n@@ -254,1 +257,1 @@\n-    if (body == 0) {\n+    if (body == NULL) {\n@@ -256,1 +259,1 @@\n-        return 0;\n+        return NULL;\n@@ -296,1 +299,1 @@\n-        return 0;\n+        return NULL;\n@@ -325,1 +328,1 @@\n-        return 0;\n+        return NULL;\n","filename":"src\/java.base\/share\/native\/libjava\/ClassLoader.c","additions":28,"deletions":25,"binary":false,"changes":53,"status":"modified"}]}