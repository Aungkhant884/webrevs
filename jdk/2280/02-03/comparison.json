{"files":[{"patch":"@@ -803,3 +803,1 @@\n-  {\n-    ClassLoaderDataGraph::roots_cld_do(strong_cld_closure, weak_cld_closure);\n-  }\n+  ClassLoaderDataGraph::roots_cld_do(strong_cld_closure, weak_cld_closure);\n@@ -813,4 +811,2 @@\n-  {\n-    if (UseAOT) {\n-      AOTLoader::oops_do(strong_roots);\n-    }\n+  if (UseAOT) {\n+    AOTLoader::oops_do(strong_roots);\n@@ -819,3 +815,1 @@\n-  {\n-    OopStorageSet::strong_oops_do(strong_roots);\n-  }\n+  OopStorageSet::strong_oops_do(strong_roots);\n@@ -823,3 +817,2 @@\n-  {\n-    if (so & SO_ScavengeCodeCache) {\n-      assert(code_roots != NULL, \"must supply closure for code cache\");\n+  if (so & SO_ScavengeCodeCache) {\n+    assert(code_roots != NULL, \"must supply closure for code cache\");\n@@ -827,5 +820,5 @@\n-      \/\/ We only visit parts of the CodeCache when scavenging.\n-      ScavengableNMethods::nmethods_do(code_roots);\n-    }\n-    if (so & SO_AllCodeCache) {\n-      assert(code_roots != NULL, \"must supply closure for code cache\");\n+    \/\/ We only visit parts of the CodeCache when scavenging.\n+    ScavengableNMethods::nmethods_do(code_roots);\n+  }\n+  if (so & SO_AllCodeCache) {\n+    assert(code_roots != NULL, \"must supply closure for code cache\");\n@@ -833,8 +826,3 @@\n-      \/\/ CMSCollector uses this to do intermediate-strength collections.\n-      \/\/ We scan the entire code cache, since CodeCache::do_unloading is not called.\n-      CodeCache::blobs_do(code_roots);\n-    }\n-    \/\/ Verify that the code cache contents are not subject to\n-    \/\/ movement by a scavenging collection.\n-    DEBUG_ONLY(CodeBlobToOopClosure assert_code_is_non_scavengable(&assert_is_non_scavengable_closure, !CodeBlobToOopClosure::FixRelocations));\n-    DEBUG_ONLY(ScavengableNMethods::asserted_non_scavengable_nmethods_do(&assert_code_is_non_scavengable));\n+    \/\/ CMSCollector uses this to do intermediate-strength collections.\n+    \/\/ We scan the entire code cache, since CodeCache::do_unloading is not called.\n+    CodeCache::blobs_do(code_roots);\n@@ -842,0 +830,4 @@\n+  \/\/ Verify that the code cache contents are not subject to\n+  \/\/ movement by a scavenging collection.\n+  DEBUG_ONLY(CodeBlobToOopClosure assert_code_is_non_scavengable(&assert_is_non_scavengable_closure, !CodeBlobToOopClosure::FixRelocations));\n+  DEBUG_ONLY(ScavengableNMethods::asserted_non_scavengable_nmethods_do(&assert_code_is_non_scavengable));\n","filename":"src\/hotspot\/share\/gc\/shared\/genCollectedHeap.cpp","additions":18,"deletions":26,"binary":false,"changes":44,"status":"modified"}]}