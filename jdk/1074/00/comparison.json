{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,2 @@\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n@@ -47,4 +49,1 @@\n-        File temp1 = File.createTempFile(\"imageio\", \".tmp\");\n-        temp1.deleteOnExit();\n-        ImageOutputStream fios = ImageIO.createImageOutputStream(temp1);\n-\n+        File temp1 = File.createTempFile(\"StreamFlush_fis_\", \".tmp\");\n@@ -52,3 +51,12 @@\n-        File temp2 = File.createTempFile(\"imageio\", \".tmp\");\n-        temp2.deleteOnExit();\n-        FileOutputStream fos2 = new FileOutputStream(temp2);\n+        File temp2 = File.createTempFile(\"StreamFlush_bos_\", \".tmp\");\n+        try (ImageOutputStream fios = ImageIO.createImageOutputStream(temp1);\n+             FileOutputStream fos2 = new FileOutputStream(temp2)) {\n+            test(temp1, fios, temp2, fos2);\n+        } finally {\n+            Files.delete(Paths.get(temp1.getAbsolutePath()));\n+            Files.delete(Paths.get(temp2.getAbsolutePath()));\n+        }\n+    }\n+\n+    private static void test(File temp1, ImageOutputStream fios, File temp2,\n+                             FileOutputStream fos2) throws IOException {\n","filename":"test\/jdk\/javax\/imageio\/stream\/StreamFlush.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"}]}