{"files":[{"patch":"@@ -38,0 +38,1 @@\n+#include \"runtime\/mutexLocker.hpp\"\n@@ -105,3 +106,6 @@\n-      if (SINGLE_THREADED) ClassLoaderDataGraph_lock->lock();\n-      f(clds);\n-      if (SINGLE_THREADED) ClassLoaderDataGraph_lock->unlock();\n+      if (SINGLE_THREADED){\n+        MutexLocker ml(ClassLoaderDataGraph_lock, Mutex::_no_safepoint_check_flag);\n+        f(clds);\n+      } else {\n+        f(clds);\n+      }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahRootProcessor.inline.hpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}