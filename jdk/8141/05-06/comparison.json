{"files":[{"patch":"@@ -31,0 +31,2 @@\n+import java.awt.event.WindowAdapter;\n+import java.awt.event.WindowEvent;\n@@ -46,1 +48,1 @@\n-public class PrintAllPagesTest {\n+public class PrintAllPagesTest extends WindowAdapter {\n@@ -51,2 +53,1 @@\n-    final static CountDownLatch latch = new CountDownLatch(1);\n-    static  boolean ret = false;\n+    static final CountDownLatch latch = new CountDownLatch(1);\n@@ -58,1 +59,0 @@\n-                createUI();\n@@ -60,0 +60,1 @@\n+                createUI();\n@@ -65,1 +66,3 @@\n-                    ret = table.print();\n+                    if (!table.print()) {\n+                        throw new RuntimeException(\"Printing cancelled\");\n+                    }\n@@ -71,4 +74,0 @@\n-            if (!testResult) {\n-                throw new RuntimeException(\"Only 1st page is printed out of multiple pages\");\n-            }\n-\n@@ -123,1 +122,0 @@\n-        f.setUndecorated(true);\n@@ -127,0 +125,1 @@\n+        f.addWindowListener(new PrintAllPagesTest());\n@@ -136,1 +135,1 @@\n-        dialog = new JDialog();\n+        dialog = new JDialog(f, \"Instructions for Table Print Test\");\n@@ -160,0 +159,6 @@\n+        dialog.addWindowListener(new PrintAllPagesTest());\n+    }\n+\n+    @Override\n+    public void windowClosing(WindowEvent e) {\n+        latch.countDown();\n","filename":"test\/jdk\/javax\/swing\/JTable\/PrintAllPagesTest.java","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"}]}