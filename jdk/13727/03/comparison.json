{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -457,1 +457,8 @@\n-            consumer = SSLHandshake.HELLO_REQUEST;\n+\n+            \/\/ If we're in server mode, we want the consumer to be null so\n+            \/\/ that we don't attempt to cast a Server object as a Client object\n+            \/\/ further down in the stack. Having the consumer be null forces\n+            \/\/ the check a few lines later to pass and throws the message for\n+            \/\/ \"Unexpected handshake message\".\n+            consumer = conContext.sslConfig.isClientMode ?\n+                    SSLHandshake.HELLO_REQUEST : null;\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/HandshakeContext.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"}]}