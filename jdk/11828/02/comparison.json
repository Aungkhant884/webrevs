{"files":[{"patch":"@@ -801,0 +801,2 @@\n+  INSN(fcvt_s_h, 0b1010011, 0b00010, 0b0100000);\n+  INSN(fcvt_h_s, 0b1010011, 0b00000, 0b0100010);\n@@ -1057,0 +1059,1 @@\n+  INSN(fmv_h_x,  0b1010011, 0b000, 0b00000, 0b1111010);\n@@ -1077,0 +1080,1 @@\n+  INSN(fmv_x_h,  0b1010011, 0b000, 0b00000, 0b1110010);\n","filename":"src\/hotspot\/cpu\/riscv\/assembler_riscv.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -106,0 +106,1 @@\n+  product(bool, UseZfhmin, false, EXPERIMENTAL, \"Use Zfhmin instructions\")       \\\n","filename":"src\/hotspot\/cpu\/riscv\/globals_riscv.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1845,0 +1845,4 @@\n+\n+    case Op_ConvF2HF:\n+    case Op_ConvHF2F:\n+      return UseZfhmin;\n@@ -8138,0 +8142,38 @@\n+\/\/ float <-> half float\n+\n+instruct convHF2F_reg_reg(fRegF dst, iRegINoSp src, fRegF tmp) %{\n+  predicate(UseZfhmin);\n+  match(Set dst (ConvHF2F src));\n+  effect(TEMP tmp);\n+\n+  ins_cost(XFER_COST);\n+  format %{ \"fmv.h.x $tmp, $src\\t#@convHF2F_reg_reg\\n\\t\"\n+            \"fcvt.s.h $dst, $tmp\\t#@convHF2F_reg_reg\"\n+  %}\n+\n+  ins_encode %{\n+    __ fmv_h_x($tmp$$FloatRegister, $src$$Register);\n+    __ fcvt_s_h($dst$$FloatRegister, $tmp$$FloatRegister);\n+  %}\n+\n+  ins_pipe(fp_i2f);\n+%}\n+\n+instruct convF2HF_reg_reg(iRegINoSp dst, fRegF src, fRegF tmp) %{\n+  predicate(UseZfhmin);\n+  match(Set dst (ConvF2HF src));\n+  effect(TEMP tmp);\n+\n+  ins_cost(XFER_COST);\n+  format %{ \"fcvt.h.s $tmp, $src\\t#@convF2HF_reg_reg\\n\\t\"\n+            \"fmv.x.h $dst, $tmp\\t#@convF2HF_reg_reg\"\n+  %}\n+\n+  ins_encode %{\n+    __ fcvt_h_s($tmp$$FloatRegister, $src$$FloatRegister);\n+    __ fmv_x_h($dst$$Register, $tmp$$FloatRegister);\n+  %}\n+\n+  ins_pipe(fp_f2i);\n+%}\n+\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":42,"deletions":0,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -62,0 +62,3 @@\n+    if (FLAG_IS_DEFAULT(UseZbs)) {\n+      FLAG_SET_DEFAULT(UseZbs, true);\n+    }\n@@ -74,0 +77,3 @@\n+    if (FLAG_IS_DEFAULT(UseZfhmin)) {\n+      FLAG_SET_DEFAULT(UseZfhmin, true);\n+    }\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}