{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -187,1 +187,1 @@\n-    private transient Reference<T> discovered;\n+    private transient Reference<?> discovered;\n@@ -223,1 +223,1 @@\n-    private static native Reference<Object> getAndClearReferencePendingList();\n+    private static native Reference<?> getAndClearReferencePendingList();\n@@ -235,0 +235,10 @@\n+    \/*\n+     * Enqueue a Reference taken from the pending list.  Calling this method\n+     * takes us from the Reference<?> domain of the pending list elements to\n+     * having a Reference<T> with a correspondingly typed queue.\n+     *\/\n+    private void enqueueFromPending() {\n+        var q = queue;\n+        if (q != ReferenceQueue.NULL) q.enqueue(this);\n+    }\n+\n@@ -244,1 +254,1 @@\n-        Reference<Object> pendingList;\n+        Reference<?> pendingList;\n@@ -250,1 +260,1 @@\n-            Reference<Object> ref = pendingList;\n+            Reference<?> ref = pendingList;\n@@ -263,2 +273,1 @@\n-                ReferenceQueue<? super Object> q = ref.queue;\n-                if (q != ReferenceQueue.NULL) q.enqueue(ref);\n+                ref.enqueueFromPending();\n","filename":"src\/java.base\/share\/classes\/java\/lang\/ref\/Reference.java","additions":16,"deletions":7,"binary":false,"changes":23,"status":"modified"}]}