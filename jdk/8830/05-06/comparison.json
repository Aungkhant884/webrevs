{"files":[{"patch":"@@ -35,0 +35,1 @@\n+import java.util.concurrent.atomic.AtomicReference;\n@@ -47,1 +48,0 @@\n-    static Boolean PassFailStatus = true;\n@@ -49,2 +49,2 @@\n-    private static JScrollPane jScrollPane = null;\n-    private static JTable table = null;\n+    private static final AtomicReference<Throwable> exception =\n+            new AtomicReference<>();\n@@ -58,7 +58,3 @@\n-                try {\n-                    Thread.currentThread().setUncaughtExceptionHandler(new ExceptionCheck());\n-                    initialize();\n-                    \/\/Adding the Test Frame to handle dispose\n-                } catch (Exception e) {\n-                    e.printStackTrace();\n-                }\n+                Thread.currentThread().setUncaughtExceptionHandler(\n+                        new ExceptionCheck());\n+                initialize();\n@@ -71,3 +67,5 @@\n-        if (!PassFailStatus) {\n-            frame.dispose();\n-            throw new RuntimeException(\"Test Case Failed. NPE raised!\");\n+        SwingUtilities.invokeAndWait(frame::dispose);\n+\n+        if (exception.get() != null) {\n+            throw new RuntimeException(\"Test Case Failed. NPE raised!\",\n+                    exception.get());\n@@ -76,1 +74,0 @@\n-        frame.dispose();\n@@ -82,2 +79,2 @@\n-        table = new JTable(new MyModel());\n-        jScrollPane = new JScrollPane();\n+        JTable table = new JTable(new MyModel());\n+        JScrollPane jScrollPane = new JScrollPane();\n@@ -103,2 +100,2 @@\n-            PassFailStatus = false;\n-            System.out.println(\"Uncaught Exception Handled : \" + e);\n+            exception.set(e);\n+            System.err.println(\"Uncaught Exception Handled : \" + e);\n@@ -127,2 +124,5 @@\n-        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n-            return render.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n+        public Component getTableCellRendererComponent(JTable table,\n+                                                       Object value, boolean isSelected,\n+                                                       boolean hasFocus, int row, int column) {\n+            return render.getTableCellRendererComponent(\n+                    table, value, isSelected, hasFocus, row, column);\n","filename":"test\/jdk\/javax\/swing\/JTableHeader\/TableRendererTest.java","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"}]}