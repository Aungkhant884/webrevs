{"files":[{"patch":"@@ -36,1 +36,0 @@\n-    \/\/ Note: not normal main(String[] args)\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/daemonDestroy\/Main.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -49,0 +49,2 @@\n+import java.util.ArrayList;\n+import java.util.List;\n@@ -60,3 +62,7 @@\n-        ProcessBuilder pb = new ProcessBuilder(launcher.toString(),\n-                                               \"-Djava.class.path=\" + Utils.TEST_CLASS_PATH,\n-                                               args.length > 0 ? \"1\" : \"\");\n+        List<String> cmd = new ArrayList<>();\n+        cmd.add(launcher.toString());\n+        cmd.add(\"-Djava.class.path=\" + Utils.TEST_CLASS_PATH);\n+        if (args.length > 0) {\n+            cmd.add(\"daemon\");\n+        }\n+        ProcessBuilder pb = new ProcessBuilder(cmd);\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/daemonDestroy\/TestDaemonDestroy.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    fprintf(stderr, \"Usage: main <classpath property> [1]\\n\");\n+    fprintf(stderr, \"Usage: main <classpath property> [daemon]\\n\");\n@@ -81,1 +81,2 @@\n-  if (argc > 2 && argv[2][0] == '1') {\n+  \/\/ Any additional arg implies to use a daemon thread.\n+  if (argc > 2) {\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/daemonDestroy\/exedaemonDestroy.c","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}