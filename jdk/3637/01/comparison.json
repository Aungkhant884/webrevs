{"files":[{"patch":"@@ -377,1 +377,15 @@\n-      \/\/ Hoist it up to the end of the test block.\n+      \/\/ Hoist it up to the end of the test block together with its inputs if they exist.\n+      for (uint i = 2; i < val->req(); i++) {\n+        \/\/ DecodeN has 2 regular inputs + optional MachTemp or load Base inputs.\n+        Node *temp = val->in(i);\n+        Block *tempb = get_block_for_node(temp);\n+        if (!tempb->dominates(block)) {\n+          assert(block->dominates(tempb), \"sanity check: temp node placement\");\n+          \/\/ We only expect nodes without further inputs, like MachTemp or load Base.\n+          assert(temp->req() == 0 || (temp->req() == 1 && temp->in(0) == (Node*)C->root()),\n+                 \"need for recursive hoisting not expected\");\n+          tempb->find_remove(temp);\n+          block->add_inst(temp);\n+          map_node_to_block(temp, block);\n+        }\n+      }\n","filename":"src\/hotspot\/share\/opto\/lcm.cpp","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}