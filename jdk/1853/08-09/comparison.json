{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 1998, Oracle and\/or its affiliates. All rights reserved.\n@@ -117,7 +117,18 @@\n-            try (OutputStream os = new FileOutputStream(ofn)) {\n-                is.transferTo(os);\n-            } catch (IOException e) {\n-                \/\/System.err.println(\"Exception in input or output stream\");\n-                \/\/e.printStackTrace();\n-            } finally {\n-                is.close();\n+            try {\n+                OutputStream os = new FileOutputStream(ofn);\n+                byte buf[] = new byte[2048];\n+                int i = 0;\n+                try {\n+                    while ((i = is.read(buf)) >= 0) {\n+                        os.write(buf, 0, i);\n+                    }\n+                } catch(IOException e) {\n+                  \/\/System.err.println(\"Exception in write loop \" + i);\n+                  \/\/e.printStackTrace();\n+                } finally {\n+                    os.close();\n+                    is.close();\n+                }\n+            } catch(IOException e) {\n+              \/\/System.err.println(\"Exception in input or output stream\");\n+              \/\/e.printStackTrace();\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/MimeLauncher.java","additions":19,"deletions":8,"binary":false,"changes":27,"status":"modified"}]}