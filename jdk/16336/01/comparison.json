{"files":[{"patch":"@@ -804,9 +804,1 @@\n-\n-\n-jlong as_long(LARGE_INTEGER x) {\n-  jlong result = 0; \/\/ initialization to avoid warning\n-  set_high(&result, x.HighPart);\n-  set_low(&result, x.LowPart);\n-  return result;\n-}\n-\n+static double nanos_per_count; \/\/ NANOSECS_PER_SEC \/ performance_frequency\n@@ -817,1 +809,1 @@\n-  return as_long(count) - initial_performance_count;\n+  return count.QuadPart - initial_performance_count;\n@@ -981,1 +973,2 @@\n-  performance_frequency = as_long(count);\n+  performance_frequency = count.QuadPart;\n+  nanos_per_count = NANOSECS_PER_SEC \/ (double)performance_frequency;\n@@ -983,1 +976,1 @@\n-  initial_performance_count = as_long(count);\n+  initial_performance_count = count.QuadPart;\n@@ -1085,3 +1078,2 @@\n-    double current = as_long(current_count);\n-    double freq = performance_frequency;\n-    jlong time = (jlong)((current\/freq) * NANOSECS_PER_SEC);\n+    double current = current_count.QuadPart;\n+    jlong time = (jlong)(current * nanos_per_count);\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":7,"deletions":15,"binary":false,"changes":22,"status":"modified"}]}