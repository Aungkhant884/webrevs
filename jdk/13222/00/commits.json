[{"commit":{"message":"8303553: AArch64: Add BCAX backend rule\n\nWe can use BCAX[1][2] to merge a bit clear and an exclusive-OR operation.\nFor example, on a 128-bit aarch64 machine which supports NEON and SHA3,\nfollowing instruction sequence:\n\n```\n...\nbic     v16.16b, v16.16b, v17.16b\neor     v16.16b, v16.16b, v18.16b\n...\n```\n\ncan be optimized to:\n\n```\n...\nbcax    v16.16b, v17.16b, v16.16b, v18.16b\n...\n```\n\nThis patch adds backend rules for BCAX, and we can gain almost 10%\nperformance lift on a 128-bit aarch64 machine which supports NEON and\nSHA3. Similar performance uplift can also be observed on SVE2.\n\nPerformance_Before:\n\n```\nBenchmark                 Score(op\/ms)     Error\nTestByte#size(2048)       9779.361         47.184\nTestInt#size(2048)        3028.617         7.292\nTestLong#size(2048)       1331.216         1.815\nTestShort#size(2048)      5828.089         8.975\n```\n\nPerformance_BCAX_NEON:\n\n```\nBenchmark                 Score(op\/ms)     Error\nTestByte#size(2048)       10510.371        34.931\nTestInt#size(2048)        3437.512         81.318\nTestLong#size(2048)       1461.023         0.679\nTestShort#size(2048)      6238.210         26.452\n```\n\n[1]: https:\/\/developer.arm.com\/documentation\/ddi0596\/2021-12\/SIMD-FP-Instructions\/BCAX--Bit-Clear-and-XOR-\n[2]: https:\/\/developer.arm.com\/documentation\/ddi0602\/2022-12\/SVE-Instructions\/BCAX--Bitwise-clear-and-exclusive-OR-?lang=en\n\nTEST_LABEL: n2\nJDK_SCOPE: test\/hotspot\/jtreg\/compiler\/vectorization\/TestBcaxAArch64.java\n\nJira: ENTLLT-5451\nChange-Id: I2d5d7de22e73be38641ff839c38de91277eb2c44"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4"},{"filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.hpp"},{"filename":"test\/hotspot\/gtest\/aarch64\/aarch64-asmtest.py"},{"filename":"test\/hotspot\/gtest\/aarch64\/asmtest.out.h"},{"filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/IRNode.java"},{"filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestBcaxAArch64.java"},{"filename":"test\/micro\/org\/openjdk\/bench\/vm\/compiler\/aarch64\/TestBcax.java"},{"filename":"test\/micro\/org\/openjdk\/bench\/vm\/compiler\/aarch64\/TestEor3.java"}],"sha":"52a0c4ad68201f4e820bb119cf22965d1d9693b9"}]