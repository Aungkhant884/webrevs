{"files":[{"patch":"@@ -2668,3 +2668,1 @@\n-  if (!rewrite_existing) {\n-    oflags |= O_EXCL;\n-  }\n+  oflags |= rewrite_existing ? O_TRUNC : O_EXCL;\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2358,3 +2358,1 @@\n-  if (!rewrite_existing) {\n-    oflags |= O_EXCL;\n-  }\n+  oflags |= rewrite_existing ? O_TRUNC : O_EXCL;\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4952,3 +4952,1 @@\n-  if (!rewrite_existing) {\n-    oflags |= O_EXCL;\n-  }\n+  oflags |= rewrite_existing ? O_TRUNC : O_EXCL;\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4734,3 +4734,1 @@\n-  if (!rewrite_existing) {\n-    oflags |= _O_EXCL;\n-  }\n+  oflags |= rewrite_existing ? O_TRUNC : O_EXCL;\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -472,1 +472,1 @@\n-  _rewrite(\"-rewrite\", \"If specified, the dump file will be rewritten if it exists\",\n+  _overwrite(\"-overwrite\", \"If specified, the dump file will be overwritten if it exists\",\n@@ -477,1 +477,1 @@\n-  _dcmdparser.add_dcmd_option(&_rewrite);\n+  _dcmdparser.add_dcmd_option(&_overwrite);\n@@ -496,1 +496,1 @@\n-  dumper.dump(_filename.value(), output(), (int) level, _rewrite.value());\n+  dumper.dump(_filename.value(), output(), (int) level, _overwrite.value());\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -317,1 +317,1 @@\n-  DCmdArgument<bool> _rewrite;\n+  DCmdArgument<bool> _overwrite;\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1908,1 +1908,1 @@\n-int HeapDumper::dump(const char* path, outputStream* out, int compression, bool rewrite) {\n+int HeapDumper::dump(const char* path, outputStream* out, int compression, bool overwrite) {\n@@ -1931,1 +1931,1 @@\n-  DumpWriter writer(new (std::nothrow) FileWriter(path, rewrite), compressor);\n+  DumpWriter writer(new (std::nothrow) FileWriter(path, overwrite), compressor);\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-  int dump(const char* path, outputStream* out = NULL, int compression = -1, bool rewrite = false);\n+  int dump(const char* path, outputStream* out = NULL, int compression = -1, bool overwrite = false);\n","filename":"src\/hotspot\/share\/services\/heapDumper.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-  _fd = os::create_binary_file(_path, _rewrite);\n+  _fd = os::create_binary_file(_path, _overwrite);\n","filename":"src\/hotspot\/share\/services\/heapDumperCompression.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-  bool _rewrite;\n+  bool _overwrite;\n@@ -68,1 +68,1 @@\n-  FileWriter(char const* path, bool rewrite) : _path(path), _rewrite(rewrite), _fd(-1) { }\n+  FileWriter(char const* path, bool overwrite) : _path(path), _overwrite(overwrite), _fd(-1) { }\n","filename":"src\/hotspot\/share\/services\/heapDumperCompression.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-    public void run(CommandExecutor executor, boolean rewrite) throws IOException {\n+    public void run(CommandExecutor executor, boolean overwrite) throws IOException {\n@@ -55,1 +55,1 @@\n-        if (!rewrite && dump.exists()) {\n+        if (!overwrite && dump.exists()) {\n@@ -57,1 +57,1 @@\n-        } else if (rewrite) {\n+        } else if (overwrite) {\n@@ -61,1 +61,1 @@\n-        String cmd = \"GC.heap_dump \" + (rewrite ? \"-rewrite \" : \"\") + heapDumpArgs + \" \" + dump.getAbsolutePath();\n+        String cmd = \"GC.heap_dump \" + (overwrite ? \"-overwrite \" : \"\") + heapDumpArgs + \" \" + dump.getAbsolutePath();\n","filename":"test\/hotspot\/jtreg\/serviceability\/dcmd\/gc\/HeapDumpTest.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}