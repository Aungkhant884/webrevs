{"files":[{"patch":"@@ -109,1 +109,1 @@\n-\n+     *\n@@ -239,0 +239,4 @@\n+\n+            \/\/ notify JVMTI after unmount\n+            notifyJvmtiUnmount(\/*hide*\/false);\n+\n@@ -306,1 +310,0 @@\n-    @ChangesCurrentThread\n@@ -451,0 +454,2 @@\n+\n+        \/\/ LockSupport.park\/parkNanos\n@@ -455,3 +460,0 @@\n-            \/\/ notify JVMTI that unmount has completed, thread is parked\n-            notifyJvmtiUnmount(\/*hide*\/false);\n-\n@@ -468,2 +470,2 @@\n-        } else if (s == YIELDING) {   \/\/ Thread.yield\n-            setState(RUNNABLE);\n+            return;\n+        }\n@@ -471,2 +473,3 @@\n-            \/\/ notify JVMTI that unmount has completed, thread is runnable\n-            notifyJvmtiUnmount(\/*hide*\/false);\n+        \/\/ Thread.yield\n+        if (s == YIELDING) {\n+            setState(RUNNABLE);\n@@ -480,2 +483,1 @@\n-        } else {\n-            assert false;\n+            return;\n@@ -483,0 +485,2 @@\n+\n+        assert false;\n@@ -489,1 +493,1 @@\n-        afterDone(true, true);\n+        afterDone(true);\n@@ -497,1 +501,0 @@\n-     * @param executed true if the thread executed, false if it failed to start\n@@ -499,1 +502,1 @@\n-    private void afterDone(boolean notifyContainer, boolean executed) {\n+    private void afterDone(boolean notifyContainer) {\n@@ -503,4 +506,0 @@\n-        if (executed) {\n-            notifyJvmtiUnmount(\/*hide*\/false);\n-        }\n-\n@@ -555,1 +554,1 @@\n-                afterDone(addedToContainer, \/*executed*\/false);\n+                afterDone(addedToContainer);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/VirtualThread.java","additions":18,"deletions":19,"binary":false,"changes":37,"status":"modified"}]}