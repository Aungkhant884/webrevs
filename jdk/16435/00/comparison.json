{"files":[{"patch":"@@ -29,0 +29,1 @@\n+import org.openjdk.jmh.annotations.Level;\n@@ -55,1 +56,0 @@\n-@State(Scope.Thread)\n@@ -66,8 +66,0 @@\n-    Provider p;\n-    static byte[] pk;\n-    static byte[] msg;\n-    static byte[] sig;\n-    static Signature v;\n-\n-    @Param({\"noop\"})\n-    private String test;\n@@ -81,9 +73,1 @@\n-    @Setup\n-    public void setup() throws Exception {\n-        p = Security.getProvider(\"SUN\");\n-        if (p == null) {\n-            throw new Exception (\"Can't load \\\"Sun\\\" provider\");\n-        }\n-    }\n-\n-    public Signature getVerifier(byte[] pk) throws Exception {\n+    public static Signature getVerifier(byte[] pk) throws Exception {\n@@ -98,5 +82,2 @@\n-    @Benchmark\n-    public void verify() throws Exception {\n-        if (v == null) {\n-            return;\n-        }\n+    public static void verify(Signature v, byte[] pk, byte[] msg, byte[] sig)\n+            throws Exception {\n@@ -110,0 +91,1 @@\n+    @State(Scope.Thread)\n@@ -111,0 +93,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -115,1 +101,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -226,0 +212,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -229,0 +219,1 @@\n+    @State(Scope.Thread)\n@@ -230,0 +221,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -234,1 +229,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -382,0 +377,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -385,0 +384,1 @@\n+    @State(Scope.Thread)\n@@ -386,0 +386,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -390,1 +394,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -491,0 +495,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -494,0 +502,1 @@\n+    @State(Scope.Thread)\n@@ -495,0 +504,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -499,1 +512,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -605,0 +618,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -608,0 +625,1 @@\n+    @State(Scope.Thread)\n@@ -609,0 +627,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -613,1 +635,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -747,0 +769,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -750,0 +776,1 @@\n+    @State(Scope.Thread)\n@@ -751,0 +778,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -755,1 +786,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -894,0 +925,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -898,0 +933,1 @@\n+    @State(Scope.Thread)\n@@ -899,0 +935,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -903,1 +943,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -1122,0 +1162,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -1126,0 +1170,1 @@\n+    @State(Scope.Thread)\n@@ -1127,0 +1172,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -1131,1 +1180,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -1355,0 +1404,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -1359,0 +1412,1 @@\n+    @State(Scope.Thread)\n@@ -1360,0 +1414,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -1364,1 +1422,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -1588,0 +1646,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n@@ -1592,0 +1654,1 @@\n+    @State(Scope.Thread)\n@@ -1593,0 +1656,4 @@\n+        Signature v;\n+        byte[] pk;\n+        byte[] msg;\n+        byte[] sig;\n@@ -1597,1 +1664,1 @@\n-        @Setup\n+        @Setup(Level.Trial)\n@@ -1826,0 +1893,4 @@\n+        @Benchmark\n+        public void verify() throws Exception {\n+            HSS.verify(v, pk, msg, sig);\n+        }\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/security\/HSS.java","additions":104,"deletions":33,"binary":false,"changes":137,"status":"modified"}]}