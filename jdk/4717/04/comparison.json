{"files":[{"patch":"@@ -88,2 +88,3 @@\n-        try (PositionDataInputStream in = new PositionDataInputStream(\n-                new BufferedInputStream(new FileInputStream(heapFile)))) {\n+        try (FileInputStream fis = new FileInputStream(heapFile);\n+             BufferedInputStream bis = new BufferedInputStream(fis);\n+             PositionDataInputStream in = new PositionDataInputStream(bis)) {\n@@ -98,3 +99,3 @@\n-                try (PositionDataInputStream in2 = new PositionDataInputStream(\n-                        new BufferedInputStream(access.asStream(0)))) {\n-                    i = in2.readInt();\n+                try (BufferedInputStream gzBis = new BufferedInputStream(access.asStream(0));\n+                     PositionDataInputStream pdin = new PositionDataInputStream(gzBis)) {\n+                    i = pdin.readInt();\n@@ -103,1 +104,1 @@\n-                            = new HprofReader(access.asFileBuffer(), in2, dumpNumber,\n+                            = new HprofReader(access.asFileBuffer(), pdin, dumpNumber,\n@@ -139,2 +140,3 @@\n-        try (PositionDataInputStream in = new PositionDataInputStream(\n-                new BufferedInputStream(new FileInputStream(heapFile)))) {\n+        try (FileInputStream fis= new FileInputStream(heapFile);\n+             BufferedInputStream bis = new BufferedInputStream(fis);\n+             PositionDataInputStream in = new PositionDataInputStream(bis)) {\n@@ -154,3 +156,3 @@\n-                try {\n-                    GZIPInputStream gis = new GZIPInputStream(new FileInputStream(heapFile));\n-                    FileOutputStream fos = new FileOutputStream(out);\n+                try (FileInputStream heapFis = new FileInputStream(heapFile);\n+                     GZIPInputStream gis = new GZIPInputStream(heapFis);\n+                     FileOutputStream fos = new FileOutputStream(out)) {\n@@ -167,4 +169,4 @@\n-                try {\n-                    PositionDataInputStream in2 = new PositionDataInputStream(\n-                        new BufferedInputStream(new FileInputStream(out)));\n-                    i = in2.readInt();\n+                try (FileInputStream outFis = new FileInputStream(out);\n+                     BufferedInputStream outBis = new BufferedInputStream(outFis);\n+                     PositionDataInputStream pdin = new PositionDataInputStream(outBis)) {\n+                    i = pdin.readInt();\n@@ -173,1 +175,1 @@\n-                            = new HprofReader(deCompressedFile, in2, dumpNumber,\n+                            = new HprofReader(deCompressedFile, pdin, dumpNumber,\n","filename":"test\/lib\/jdk\/test\/lib\/hprof\/parser\/Reader.java","additions":18,"deletions":16,"binary":false,"changes":34,"status":"modified"}]}