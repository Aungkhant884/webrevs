{"files":[{"patch":"@@ -229,1 +229,1 @@\n-                 $(call SET_SHARED_LIBRARY_ORIGIN), \\\n+                  $(call SET_SHARED_LIBRARY_ORIGIN), \\\n@@ -239,13 +239,12 @@\n-ifeq ($(call isTargetOs, linux)+$(call isTargetCpu, x86_64)+$(INCLUDE_COMPILER2), true+true+true)\n-  ifeq ($(TOOLCHAIN_TYPE), gcc)\n-    $(eval $(call SetupJdkLibrary, BUILD_LIB_SIMD_SORT, \\\n-        NAME := simdsort, \\\n-        TOOLCHAIN := TOOLCHAIN_LINK_CXX, \\\n-        OPTIMIZATION := HIGH, \\\n-        CFLAGS := $(CFLAGS_JDKLIB), \\\n-        CXXFLAGS := $(CXXFLAGS_JDKLIB), \\\n-        LDFLAGS := $(LDFLAGS_JDKLIB) \\\n-            $(call SET_SHARED_LIBRARY_ORIGIN), \\\n-        LIBS := $(LIBCXX), \\\n-        LIBS_linux := -lc -lm -ldl, \\\n-    ))\n+ifeq ($(call isTargetOs, linux)+$(call isTargetCpu, x86_64)+$(INCLUDE_COMPILER2)+$(filter $(TOOLCHAIN_TYPE), gcc), true+true+true+gcc)\n+  $(eval $(call SetupJdkLibrary, BUILD_LIB_SIMD_SORT, \\\n+      NAME := simdsort, \\\n+      TOOLCHAIN := TOOLCHAIN_LINK_CXX, \\\n+      OPTIMIZATION := HIGH, \\\n+      CFLAGS := $(CFLAGS_JDKLIB), \\\n+      CXXFLAGS := $(CXXFLAGS_JDKLIB), \\\n+      LDFLAGS := $(LDFLAGS_JDKLIB) \\\n+          $(call SET_SHARED_LIBRARY_ORIGIN), \\\n+      LIBS := $(LIBCXX), \\\n+      LIBS_linux := -lc -lm -ldl, \\\n+  ))\n@@ -253,2 +252,1 @@\n-    TARGETS += $(BUILD_LIB_SIMD_SORT)\n-  endif\n+  TARGETS += $(BUILD_LIB_SIMD_SORT)\n","filename":"make\/modules\/java.base\/Lib.gmk","additions":14,"deletions":16,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -29,2 +29,2 @@\n- * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:DisableIntrinsic=_arraySort,_arrayPartition, Sorting -shortrun\n- * @run main\/othervm -XX:CompileThreshold=1 -XX:-TieredCompilation Sorting -shortrun\n+ * @run main\/othervm -XX:+UnlockDiagnosticVMOptions -XX:DisableIntrinsic=_arraySort,_arrayPartition Sorting -shortrun\n+ * @run main\/othervm -XX:-TieredCompilation -XX:CompileCommand=CompileThresholdScaling,java.util.DualPivotQuicksort::sort,0.0001 Sorting -shortrun\n","filename":"test\/jdk\/java\/util\/Arrays\/Sorting.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}