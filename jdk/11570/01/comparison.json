{"files":[{"patch":"@@ -13680,0 +13680,308 @@\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_reg_lt(iRegINoSp dst, iRegI src1, iRegI src2, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE src2, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"cselw $dst, $src1, $src2 lt\\t\"  %}\n+\n+  ins_encode %{\n+    __ cselw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             as_Register($src2$$reg),\n+             Assembler::LT);\n+  %}\n+\n+  ins_pipe(icond_reg_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_reg_gt(iRegINoSp dst, iRegI src1, iRegI src2, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE src2, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"cselw $dst, $src1, $src2 gt\\t\"  %}\n+\n+  ins_encode %{\n+    __ cselw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             as_Register($src2$$reg),\n+             Assembler::GT);\n+  %}\n+\n+  ins_pipe(icond_reg_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_imm0_lt(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"cselw $dst, $src1, zr lt\\t\"  %}\n+\n+  ins_encode %{\n+    __ cselw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::LT);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_imm0_gt(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"cselw $dst, $src1, zr gt\\t\"  %}\n+\n+  ins_encode %{\n+    __ cselw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::GT);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_imm1_le(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"csincw $dst, $src1, zr le\\t\"  %}\n+\n+  ins_encode %{\n+    __ csincw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::LE);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_imm1_gt(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"csincw $dst, $src1, zr gt\\t\"  %}\n+\n+  ins_encode %{\n+    __ csincw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::GT);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_immM1_lt(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"csinvw $dst, $src1, zr lt\\t\"  %}\n+\n+  ins_encode %{\n+    __ csinvw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::LT);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmovI_reg_immM1_ge(iRegINoSp dst, iRegI src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"csinvw $dst, $src1, zr ge\\t\"  %}\n+\n+  ins_encode %{\n+    __ csinvw(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::GE);\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_reg_imm0(iRegINoSp dst, iRegI src, immI0 imm)\n+%{\n+  match(Set dst (MinI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm0_lt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_imm0_reg(iRegINoSp dst, immI0 imm, iRegI src)\n+%{\n+  match(Set dst (MinI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm0_lt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_reg_imm1(iRegINoSp dst, iRegI src, immI_1 imm)\n+%{\n+  match(Set dst (MinI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm1_le(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_imm1_reg(iRegINoSp dst, immI_1 imm, iRegI src)\n+%{\n+  match(Set dst (MinI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm1_le(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_reg_immM1(iRegINoSp dst, iRegI src, immI_M1 imm)\n+%{\n+  match(Set dst (MinI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_immM1_lt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct minI_immM1_reg(iRegINoSp dst, immI_M1 imm, iRegI src)\n+%{\n+  match(Set dst (MinI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_immM1_lt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_reg_imm0(iRegINoSp dst, iRegI src, immI0 imm)\n+%{\n+  match(Set dst (MaxI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm0_gt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_imm0_reg(iRegINoSp dst, immI0 imm, iRegI src)\n+%{\n+  match(Set dst (MaxI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm0_gt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_reg_imm1(iRegINoSp dst, iRegI src, immI_1 imm)\n+%{\n+  match(Set dst (MaxI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm1_gt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_imm1_reg(iRegINoSp dst, immI_1 imm, iRegI src)\n+%{\n+  match(Set dst (MaxI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_imm1_gt(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_reg_immM1(iRegINoSp dst, iRegI src, immI_M1 imm)\n+%{\n+  match(Set dst (MaxI src imm));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_immM1_ge(dst, src, cr);\n+  %}\n+%}\n+\n+\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct maxI_immM1_reg(iRegINoSp dst, immI_M1 imm, iRegI src)\n+%{\n+  match(Set dst (MaxI imm src));\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    compI_reg_imm0(cr, src);\n+    cmovI_reg_immM1_ge(dst, src, cr);\n+  %}\n+%}\n+\n@@ -15690,1 +15998,2 @@\n-instruct cmovI_reg_reg_lt(iRegINoSp dst, iRegI src1, iRegI src2, rFlagsReg cr)\n+\/\/ Like compI_reg_reg or compI_reg_immI0 but without match rule and second zero parameter.\n+instruct compI_reg_imm0(rFlagsReg cr, iRegI src1)\n@@ -15692,1 +16001,1 @@\n-  effect( DEF dst, USE src1, USE src2, USE cr );\n+  effect(DEF cr, USE src1);\n@@ -15694,2 +16003,2 @@\n-  ins_cost(INSN_COST * 2);\n-  format %{ \"cselw $dst, $src1, $src2 lt\\t\"  %}\n+  ins_cost(INSN_COST);\n+  format %{ \"cmpw $src1, 0\" %}\n@@ -15698,4 +16007,1 @@\n-    __ cselw(as_Register($dst$$reg),\n-             as_Register($src1$$reg),\n-             as_Register($src2$$reg),\n-             Assembler::LT);\n+    __ cmpw(as_Register($src1$$reg), 0);\n@@ -15704,1 +16010,1 @@\n-  ins_pipe(icond_reg_reg);\n+  ins_pipe(icmp_reg_imm);\n@@ -15707,1 +16013,1 @@\n-instruct minI_rReg(iRegINoSp dst, iRegI src1, iRegI src2)\n+instruct minI_reg_reg(iRegINoSp dst, iRegI src1, iRegI src2)\n@@ -15719,1 +16025,0 @@\n-\/\/ FROM HERE\n@@ -15721,16 +16026,1 @@\n-instruct cmovI_reg_reg_gt(iRegINoSp dst, iRegI src1, iRegI src2, rFlagsReg cr)\n-%{\n-  effect( DEF dst, USE src1, USE src2, USE cr );\n-\n-  ins_cost(INSN_COST * 2);\n-  format %{ \"cselw $dst, $src1, $src2 gt\\t\"  %}\n-\n-  ins_encode %{\n-    __ cselw(as_Register($dst$$reg),\n-             as_Register($src1$$reg),\n-             as_Register($src2$$reg),\n-             Assembler::GT);\n-  %}\n-\n-  ins_pipe(icond_reg_reg);\n-%}\n+\/\/ FROM HERE\n@@ -15738,1 +16028,1 @@\n-instruct maxI_rReg(iRegINoSp dst, iRegI src1, iRegI src2)\n+instruct maxI_reg_reg(iRegINoSp dst, iRegI src1, iRegI src2)\n@@ -15749,0 +16039,1 @@\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":319,"deletions":28,"binary":false,"changes":347,"status":"modified"},{"patch":"@@ -31,0 +31,3 @@\n+define(`upcase', `translit(`$*', `a-z', `A-Z')')dnl\n+define(`downcase', `translit(`$*', `A-Z', `a-z')')dnl\n+dnl\n@@ -542,0 +545,78 @@\n+define(`CMOV_INSN', `\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmov$1_reg_reg_$3(iReg$1NoSp dst, iReg$1 src1, iReg$1 src2, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE src2, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"$2 $dst, $src1, $src2 $3\\t\"  %}\n+\n+  ins_encode %{\n+    __ $2(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             as_Register($src2$$reg),\n+             Assembler::upcase($3));\n+  %}\n+\n+  ins_pipe(icond_reg_reg);\n+%}\n+')dnl\n+CMOV_INSN(I, cselw, lt)\n+CMOV_INSN(I, cselw, gt)\n+dnl\n+define(`CMOV_DRAW_INSN', `\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+instruct cmov$1_reg_imm$2_$4(iReg$1NoSp dst, iReg$1 src1, rFlagsReg cr)\n+%{\n+  effect(DEF dst, USE src1, USE cr);\n+\n+  ins_cost(INSN_COST * 2);\n+  format %{ \"$3 $dst, $src1, zr $4\\t\"  %}\n+\n+  ins_encode %{\n+    __ $3(as_Register($dst$$reg),\n+             as_Register($src1$$reg),\n+             zr,\n+             Assembler::upcase($4));\n+  %}\n+\n+  ins_pipe(icond_reg);\n+%}\n+')dnl\n+CMOV_DRAW_INSN(I, 0, cselw, lt)\n+CMOV_DRAW_INSN(I, 0, cselw, gt)\n+CMOV_DRAW_INSN(I, 1, csincw, le)\n+CMOV_DRAW_INSN(I, 1, csincw, gt)\n+CMOV_DRAW_INSN(I, M1, csinvw, lt)\n+CMOV_DRAW_INSN(I, M1, csinvw, ge)\n+dnl\n+define(`MINMAX_DRAW_INSN', `\/\/ This pattern is automatically generated from aarch64_ad.m4\n+\/\/ DO NOT EDIT ANYTHING IN THIS SECTION OF THE FILE\n+ifelse($6,,\n+instruct downcase($1)$2_reg_imm$4(iReg$2NoSp dst, iReg$2 src, imm$2$3$4 imm),\n+instruct downcase($1)$2_imm$4_reg(iReg$2NoSp dst, imm$2$3$4 imm, iReg$2 src))\n+%{\n+  ifelse($6,,\n+  match(Set dst ($1$2 src imm));,\n+  match(Set dst ($1$2 imm src));)\n+  ins_cost(INSN_COST * 2);\n+  expand %{\n+    rFlagsReg cr;\n+    comp$2_reg_imm0(cr, src);\n+    cmov$2_reg_imm$4_$5(dst, src, cr);\n+  %}\n+%}\n+')dnl\n+MINMAX_DRAW_INSN(Min, I,  , 0, lt)\n+MINMAX_DRAW_INSN(Min, I,  , 0, lt, rev)\n+MINMAX_DRAW_INSN(Min, I, _, 1, le)\n+MINMAX_DRAW_INSN(Min, I, _, 1, le, rev)\n+MINMAX_DRAW_INSN(Min, I, _, M1, lt)\n+MINMAX_DRAW_INSN(Min, I, _, M1, lt, rev)\n+dnl\n+MINMAX_DRAW_INSN(Max, I,  , 0, gt)\n+MINMAX_DRAW_INSN(Max, I,  , 0, gt, rev)\n+MINMAX_DRAW_INSN(Max, I, _, 1, gt)\n+MINMAX_DRAW_INSN(Max, I, _, 1, gt, rev)\n+MINMAX_DRAW_INSN(Max, I, _, M1, ge)\n+MINMAX_DRAW_INSN(Max, I, _, M1, ge, rev)\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_ad.m4","additions":81,"deletions":0,"binary":false,"changes":81,"status":"modified"},{"patch":"@@ -0,0 +1,91 @@\n+\/*\n+ * Copyright (c) 2022, BELLSOFT. All rights reserved.\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+* @test\n+* @bug 8153837\n+* @summary Test integer min and max intrinsics\n+* @requires vm.flavor == \"server\" & (vm.opt.TieredStopAtLevel == null | vm.opt.TieredStopAtLevel == 4)\n+* @library \/test\/lib \/\n+* @modules java.base\/jdk.internal.misc\n+*\n+* @build jdk.test.whitebox.WhiteBox\n+* @run driver jdk.test.lib.helpers.ClassFileInstaller jdk.test.whitebox.WhiteBox\n+*\n+* @run main\/othervm -Xbootclasspath\/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI\n+*                   -server -XX:-BackgroundCompilation -XX:-UseOnStackReplacement\n+*                   compiler.intrinsics.math.TestMinMaxIntrinsics\n+*\/\n+\n+package compiler.intrinsics.math;\n+\n+import java.lang.reflect.Method;\n+import java.util.function.IntUnaryOperator;\n+import java.util.function.IntBinaryOperator;\n+import jdk.test.whitebox.WhiteBox;\n+\n+import static jdk.test.lib.Asserts.assertEQ;\n+import static jdk.test.lib.Asserts.assertTrue;\n+import static compiler.whitebox.CompilerWhiteBoxTest.COMP_LEVEL_FULL_OPTIMIZATION;\n+\n+public class TestMinMaxIntrinsics {\n+\n+    static WhiteBox wb = WhiteBox.getWhiteBox();\n+    static int[] intCases = { Integer.MIN_VALUE, -2, -1, 0, 1, 2, Integer.MAX_VALUE };\n+\n+    static void test(IntUnaryOperator std, IntUnaryOperator alt) throws ReflectiveOperationException {\n+        assertEQ(std.applyAsInt(0), alt.applyAsInt(0), \"Basic check\");\n+        var method = alt.getClass().getDeclaredMethod(\"applyAsInt\", int.class);\n+        wb.enqueueMethodForCompilation(method, COMP_LEVEL_FULL_OPTIMIZATION);\n+        assertTrue(wb.isMethodCompiled(method), \"Should be compiled\");\n+        for (int a : intCases) {\n+            assertEQ(std.applyAsInt(a), alt.applyAsInt(a), String.format(\"Failed on %d\", a));\n+        }\n+    }\n+\n+    static void test(IntBinaryOperator std, IntBinaryOperator alt) throws ReflectiveOperationException {\n+        assertEQ(std.applyAsInt(0, 0), alt.applyAsInt(0, 0), \"Basic check\");\n+        var method = alt.getClass().getDeclaredMethod(\"applyAsInt\", int.class, int.class);\n+        wb.enqueueMethodForCompilation(method, COMP_LEVEL_FULL_OPTIMIZATION);\n+        assertTrue(wb.isMethodCompiled(method), \"Should be compiled\");\n+        for (int a : intCases) {\n+            for (int b : intCases) {\n+                assertEQ(std.applyAsInt(a, b), alt.applyAsInt(a, b), String.format(\"Failed on %d, %d\", a, b));\n+            }\n+        }\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        test(a -> (a <= 0) ? a : 0, a -> Math.min(a, 0));\n+        test(a -> (a <= 1) ? a : 1, a -> Math.min(a, 1));\n+        test(a -> (a <= -1) ? a : -1, a -> Math.min(a, -1));\n+\n+        test(a -> (a >= 0) ? a : 0, a -> Math.max(a, 0));\n+        test(a -> (a >= 1) ? a : 1, a -> Math.max(a, 1));\n+        test(a -> (a >= -1) ? a : -1, a -> Math.max(a, -1));\n+\n+        test((a, b) -> (a <= b) ? a : b, (a, b) -> Math.min(a, b));\n+        test((a, b) -> (a >= b) ? a : b, (a, b) -> Math.max(a, b));\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/intrinsics\/math\/TestMinMaxIntrinsics.java","additions":91,"deletions":0,"binary":false,"changes":91,"status":"added"}]}