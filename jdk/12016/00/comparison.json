{"files":[{"patch":"@@ -28,0 +28,1 @@\n+#include \"logging\/log.hpp\"\n@@ -29,0 +30,1 @@\n+#include \"runtime\/thread.hpp\"\n@@ -231,1 +233,3 @@\n-    while (bucket < bucket_at(sz)) {\n+    int cnt = _number_of_entries;\n+\n+    while (cnt > 0 && bucket < bucket_at(sz)) {\n@@ -237,0 +241,1 @@\n+        --cnt;\n@@ -240,0 +245,6 @@\n+\n+    Thread* current = Thread::current_or_null();\n+    \/\/ AsyncLog itself uses ResourceHashtable. We need to avoid recursion here.\n+    if (current == nullptr || strcmp(current->name(), \"AsyncLog Thread\")) {\n+      log_debug(hashtables)(\"table_size = %d, break at %ld\", sz, (bucket - table()));\n+    }\n","filename":"src\/hotspot\/share\/utilities\/resourceHash.hpp","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"}]}