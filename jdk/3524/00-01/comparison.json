{"files":[{"patch":"@@ -107,1 +107,1 @@\n-TEST_VM_ASSERT_MSG(MutexRank, mutex_wait_access_leaf,\n+TEST_VM_ASSERT_MSG(MutexRank, mutex_lock_access_leaf,\n@@ -122,1 +122,1 @@\n-TEST_VM_ASSERT_MSG(MutexRank, mutex_wait_tty_special,\n+TEST_VM_ASSERT_MSG(MutexRank, mutex_lock_tty_special,\n@@ -200,2 +200,2 @@\n-                   \".* Attempting to acquire lock monitor_rank_leaf\/11 out of order with lock monitor_rank_access\/1 \"\n-                   \"-- possible deadlock\") {\n+                   \".* Attempting to wait on monitor monitor_rank_access\/1 while holding lock monitor_rank_tty\/3 \"\n+                   \"-- possible deadlock. Should not block\\\\(wait\\\\) while holding a lock of rank special.\") {\n@@ -205,0 +205,1 @@\n+  Monitor* monitor_rank_tty = new Monitor(Mutex::tty, \"monitor_rank_tty\", false, Mutex::_safepoint_check_never);\n@@ -206,1 +207,0 @@\n-  Monitor* monitor_rank_leaf = new Monitor(Mutex::leaf, \"monitor_rank_leaf\", false, Mutex::_safepoint_check_never);\n@@ -208,0 +208,1 @@\n+  monitor_rank_tty->lock_without_safepoint_check();\n@@ -209,3 +210,1 @@\n-  monitor_rank_leaf->lock_without_safepoint_check();\n-  monitor_rank_leaf->wait_without_safepoint_check(1);\n-  monitor_rank_leaf->unlock();\n+  monitor_rank_access->wait_without_safepoint_check(1);\n@@ -213,0 +212,1 @@\n+  monitor_rank_tty->unlock();\n@@ -216,2 +216,2 @@\n-                   \".* Attempting to acquire lock monitor_rank_special\/6 out of order with lock monitor_rank_tty\/3 \"\n-                   \"-- possible deadlock\") {\n+                   \".* Attempting to wait on monitor monitor_rank_tty\/3 while holding lock monitor_rank_special\/6 \"\n+                   \"-- possible deadlock. Should not block\\\\(wait\\\\) while holding a lock of rank special.\") {\n@@ -221,1 +221,0 @@\n-  Monitor* monitor_rank_tty = new Monitor(Mutex::tty, \"monitor_rank_tty\", false, Mutex::_safepoint_check_never);\n@@ -223,0 +222,1 @@\n+  Monitor* monitor_rank_tty = new Monitor(Mutex::tty, \"monitor_rank_tty\", false, Mutex::_safepoint_check_never);\n@@ -224,1 +224,0 @@\n-  monitor_rank_tty->lock_without_safepoint_check();\n@@ -226,2 +225,2 @@\n-  monitor_rank_special->wait_without_safepoint_check(1);\n-  monitor_rank_special->unlock();\n+  monitor_rank_tty->lock_without_safepoint_check();\n+  monitor_rank_tty->wait_without_safepoint_check(1);\n@@ -229,0 +228,1 @@\n+  monitor_rank_special->unlock();\n","filename":"test\/hotspot\/gtest\/runtime\/test_mutex_rank.cpp","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}