{"files":[{"patch":"@@ -336,1 +336,1 @@\n-         * Warn about use of preview features.\n+         * Warn about use of preview features and incubating modules.\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Lint.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,0 +120,1 @@\n+import com.sun.tools.javac.code.Lint;\n@@ -137,0 +138,1 @@\n+    private final Lint lint;\n@@ -188,0 +190,1 @@\n+        lint = Lint.instance(context);\n@@ -1354,4 +1357,5 @@\n-        String incubatingModules = filterAlreadyWarnedIncubatorModules(result.stream()\n-                .filter(msym -> msym.resolutionFlags.contains(ModuleResolutionFlags.WARN_INCUBATING))\n-                .map(msym -> msym.name.toString()))\n-                .collect(Collectors.joining(\",\"));\n+        if (lint.isEnabled(LintCategory.PREVIEW)) {\n+            String incubatingModules = filterAlreadyWarnedIncubatorModules(result.stream()\n+                    .filter(msym -> msym.resolutionFlags.contains(ModuleResolutionFlags.WARN_INCUBATING))\n+                    .map(msym -> msym.name.toString()))\n+                    .collect(Collectors.joining(\",\"));\n@@ -1359,2 +1363,3 @@\n-        if (!incubatingModules.isEmpty()) {\n-            log.warning(Warnings.IncubatingModules(incubatingModules));\n+            if (!incubatingModules.isEmpty()) {\n+                log.warning(Warnings.IncubatingModules(incubatingModules));\n+            }\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Modules.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -283,1 +283,1 @@\n-    Warn about use of preview language features.\n+    Warn about use of preview language features and incubating modules.\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/javac.properties","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -752,1 +752,2 @@\n-\\f[V]preview\\f[R]: Warns about the use of preview language features.\n+\\f[V]preview\\f[R]: Warns about the use of preview language features and\n+incubating modules.\n","filename":"src\/jdk.compiler\/share\/man\/javac.1","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8171177\n+ * @bug 8171177 8187591\n@@ -241,0 +241,10 @@\n+\n+        \/\/test disable lint preview\n+        new JavacTask(tb)\n+                .options(\"--module-path\", classes.toString(),\n+                         \"-XDrawDiagnostics\",\n+                         \"-Xlint:-preview\",\n+                         \"-Werror\")\n+                .outdir(testModuleClasses)\n+                .files(findJavaFiles(testModuleSrc))\n+                .run(Expect.SUCCESS);\n","filename":"test\/langtools\/tools\/javac\/modules\/IncubatingTest.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}