{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,1 +66,1 @@\n-    Robot robot = null;\n+    static Robot robot = null;\n@@ -109,9 +109,0 @@\n-        if (robot == null) {\n-            try {\n-                robot = new Robot();\n-            }\n-            catch (Exception e) {\n-                errorMessage = \"Problems creating Robot\";\n-                return false;\n-            }\n-        }\n@@ -178,0 +169,1 @@\n+        robot.waitForIdle();\n@@ -200,4 +192,6 @@\n-                if (bitDepth == 24 ||\n-                        (dmUnique.getWidth() == dm.getWidth() &&\n-                         dmUnique.getHeight() == dm.getHeight() &&\n-                         dmUnique.getBitDepth() == dm.getBitDepth())) {\n+                int width = dm.getWidth();\n+                int height = dm.getHeight();\n+                if (bitDepth == 24 || width <= 800 || height <= 600 ||\n+                        (dmUnique.getWidth() == width &&\n+                         dmUnique.getHeight() == height &&\n+                         dmUnique.getBitDepth() == bitDepth)) {\n@@ -268,1 +262,2 @@\n-    public static void main(String args[]) {\n+    public static void main(String args[]) throws Exception {\n+        robot = new Robot();\n@@ -277,0 +272,1 @@\n+            DisplayMode currentDM = gd.getDisplayMode();\n@@ -295,0 +291,2 @@\n+                gd.setDisplayMode(currentDM);\n+                gd.setFullScreenWindow(null);\n@@ -302,1 +300,1 @@\n-            delay(4000);\n+            delay(10000);\n","filename":"test\/jdk\/java\/awt\/GraphicsDevice\/DisplayModes\/CycleDMImage.java","additions":15,"deletions":17,"binary":false,"changes":32,"status":"modified"}]}