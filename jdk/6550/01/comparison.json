{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,0 +35,6 @@\n+double G1ConcurrentRefineStats::refinement_rate_ms() const {\n+  \/\/ Report 0 when no time recorded because no refinement performed.\n+  double secs = refinement_time().seconds();\n+  return (secs > 0) ? (refined_cards() \/ (secs * MILLIUNITS)) : 0.0;\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineStats.cpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,3 @@\n+  \/\/ Refinement rate, in cards per ms.\n+  double refinement_rate_ms() const;\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineStats.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -134,3 +134,2 @@\n-    log_debug(gc, refine)(\"Deactivated worker %d, off threshold: \" SIZE_FORMAT\n-                          \", current: \" SIZE_FORMAT\n-                          \", refined cards: \" SIZE_FORMAT,\n+    log_debug(gc, refine)(\"Deactivated worker %d, off threshold: %zu, \"\n+                          \"cards: %zu, refined %zu, rate %1.2fc\/ms\",\n@@ -139,1 +138,2 @@\n-                          total_stats.refined_cards());\n+                          total_stats.refined_cards(),\n+                          total_stats.refinement_rate_ms());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineThread.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}