{"files":[{"patch":"@@ -53,1 +53,1 @@\n-        DockerTestUtils.buildJdkDockerImage(imageName, \"Dockerfile-BasicTest\", \"jdk-docker\");\n+        DockerTestUtils.buildJdkContainerImage(imageName);\n@@ -69,1 +69,2 @@\n-                \"150M\", Integer.toString(((int) Math.pow(2, 20)) * (150 - 100))\n+                \"150M\", Integer.toString(((int) Math.pow(2, 20)) * (150 - 100)),\n+                true\n@@ -73,1 +74,2 @@\n-                \"256M\", Integer.toString(((int) Math.pow(2, 20)) * (256 - 128))\n+                \"256M\", Integer.toString(((int) Math.pow(2, 20)) * (256 - 128)),\n+                true\n@@ -77,1 +79,7 @@\n-                \"1500M\", Integer.toString(((int) Math.pow(2, 20)) * (1500 - 1024))\n+                \"1500M\", Integer.toString(((int) Math.pow(2, 20)) * (1500 - 1024)),\n+                true\n+            );\n+            testOperatingSystemMXBeanAwareness(\n+                \"1G\", Integer.toString(((int) Math.pow(2, 20)) * 1024),\n+                \"1500M\", Integer.toString(0),\n+                false\n@@ -140,1 +148,1 @@\n-            String swapAllocation, String expectedSwap) throws Exception {\n+            String swapAllocation, String expectedSwap, boolean isUseSwap) throws Exception {\n@@ -153,0 +161,6 @@\n+        if (!isUseSwap) {\n+            opts.addDockerOpts(\"--memory-swappiness\", \"0\");\n+        } else {\n+            opts.addDockerOpts(\"--memory-swappiness\", \"60\");\n+        }\n+\n","filename":"test\/hotspot\/jtreg\/containers\/docker\/TestMemoryAwareness.java","additions":19,"deletions":5,"binary":false,"changes":24,"status":"modified"}]}