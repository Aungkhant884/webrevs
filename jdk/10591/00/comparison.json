{"files":[{"patch":"@@ -286,0 +286,4 @@\n+void ClassLoaderData::verify_not_claimed(int claim) {\n+  assert((_claim & claim) == 0, \"Found claim: %d bits in _claim: %d\", claim, _claim);\n+}\n+\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -212,0 +212,1 @@\n+  void verify_not_claimed(int claim);\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -74,0 +74,9 @@\n+\n+void ClassLoaderDataGraph::verify_claimed_marks_cleared(int claim) {\n+#ifdef ASSERT\n+ for (ClassLoaderData* cld = Atomic::load_acquire(&_head); cld != NULL; cld = cld->next()) {\n+    cld->verify_not_claimed(claim);\n+  }\n+#endif\n+}\n+\n","filename":"src\/hotspot\/share\/classfile\/classLoaderDataGraph.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+  static void verify_claimed_marks_cleared(int claim);\n","filename":"src\/hotspot\/share\/classfile\/classLoaderDataGraph.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#include \"classfile\/classLoaderDataGraph.hpp\"\n@@ -224,0 +225,3 @@\n+  \/\/ Verification\n+  ClassLoaderDataGraph::verify_claimed_marks_cleared(ClassLoaderData::_claim_strong);\n+\n@@ -338,0 +342,4 @@\n+\n+  \/\/ Clear old markings claim bits.\n+  \/\/ Note: Clearing _claim_strong also clears _claim_finalizable.\n+  ClassLoaderDataGraph::clear_claimed_marks(ClassLoaderData::_claim_strong);\n","filename":"src\/hotspot\/share\/gc\/z\/zHeap.cpp","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n-#include \"classfile\/classLoaderData.hpp\"\n+#include \"classfile\/classLoaderDataGraph.hpp\"\n@@ -239,0 +239,3 @@\n+\n+  \/\/ Clear claimed CLD bits\n+  ClassLoaderDataGraph::clear_claimed_marks(ClassLoaderData::_claim_other);\n","filename":"src\/hotspot\/share\/gc\/z\/zHeapIterator.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -108,1 +108,1 @@\n-    ClassLoaderDataGraph::clear_claimed_marks(cld_claim);\n+    ClassLoaderDataGraph::verify_claimed_marks_cleared(cld_claim);\n","filename":"src\/hotspot\/share\/gc\/z\/zRootsIterator.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}