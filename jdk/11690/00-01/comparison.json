{"files":[{"patch":"@@ -1744,0 +1744,1 @@\n+  assert(val > 0, \"VTMS_transition_disable_count should never be negative\");\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -152,1 +152,1 @@\n-  JvmtiVTMSTransitionDisabler disabler(thread);;\n+  JvmtiVTMSTransitionDisabler disabler(thread);\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -248,1 +248,4 @@\n-JvmtiVTMSTransitionDisabler::JvmtiVTMSTransitionDisabler(jthread vthread) {\n+\/\/ no-op if vthread is non-NULL and not a virtual thread\n+JvmtiVTMSTransitionDisabler::JvmtiVTMSTransitionDisabler(jthread vthread)\n+  : _is_SR(false), _vthread(vthread)\n+{\n@@ -252,1 +255,1 @@\n-  if (Thread::current_or_null() == NULL) {\n+  if (Thread::current_or_null() == nullptr) {\n@@ -255,3 +258,1 @@\n-  _is_SR = false;\n-  _vthread = vthread;\n-  if (_vthread != NULL) {\n+  if (_vthread != nullptr) {\n@@ -265,1 +266,3 @@\n-JvmtiVTMSTransitionDisabler::JvmtiVTMSTransitionDisabler(bool is_SR) {\n+JvmtiVTMSTransitionDisabler::JvmtiVTMSTransitionDisabler(bool is_SR)\n+  : _is_SR(is_SR), _vthread(nullptr)\n+{\n@@ -269,1 +272,1 @@\n-  if (Thread::current_or_null() == NULL) {\n+  if (Thread::current_or_null() == nullptr) {\n@@ -272,2 +275,0 @@\n-  _is_SR = is_SR;\n-  _vthread = NULL;\n@@ -281,1 +282,1 @@\n-  if (Thread::current_or_null() == NULL) {\n+  if (Thread::current_or_null() == nullptr) {\n@@ -284,1 +285,1 @@\n-  if (_vthread != NULL) {\n+  if (_vthread != nullptr) {\n@@ -299,1 +300,1 @@\n-    return;\n+    return; \/\/ no-op if _vthread is not a virtual thread\n@@ -372,1 +373,1 @@\n-    return;\n+    return; \/\/ no-op if _vthread is n virtual thread\n@@ -486,1 +487,1 @@\n-     _VTMS_transition_disable_for_all_count > 0) {\n+      _VTMS_transition_disable_for_all_count > 0) {\n","filename":"src\/hotspot\/share\/prims\/jvmtiThreadState.cpp","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"}]}