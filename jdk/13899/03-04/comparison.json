{"files":[{"patch":"@@ -61,1 +61,1 @@\n- * an executable JAR then the main manifest of the JAR file can include the\n+ * an executable JAR, then the main manifest of the JAR file can include the\n@@ -64,2 +64,2 @@\n- * JVM starts the agent, by loading the agent class and invoking its {@code agentmain}\n- * method, before the application {@code main} method is invoked.\n+ * JVM starts the agent by loading the agent class and invoking its {@code agentmain}\n+ * method. The method is invoked before the application {@code main} method is invoked.\n@@ -105,4 +105,4 @@\n- * in the JAR file. The JVM starts the agent, by loading the agent class and invoking\n- * its {@code premain} method, before the application {@code main} method is invoked.\n- * The {@code premain} method has one of two possible signatures. The JVM first\n- * attempts to invoke the following method on the agent class:\n+ * in the JAR file. The JVM starts the agent by loading the agent class and invoking its\n+ * {@code premain} method. The method is invoked before the application {@code main}\n+ * method is invoked. The {@code premain} method has one of two possible signatures.\n+ * The JVM first attempts to invoke the following method on the agent class:\n@@ -146,1 +146,1 @@\n- * but typically the application has already started and its {@code main} method has\n+ * but typically the application has already started, and its {@code main} method has\n@@ -193,2 +193,2 @@\n- * is started using a command-line option. When the agent is started in a running JVM\n- * the {@code premain} method is not invoked.\n+ * is started using a command-line option. The {@code premain} method is not invoked\n+ * when the agent is started in a running JVM.\n@@ -253,1 +253,1 @@\n- * executable JAR file then this attribute, if present, specifies the binary name\n+ * executable JAR file, then this attribute, if present, specifies the binary name\n@@ -255,2 +255,2 @@\n- * The agent is started, by invoking the agent class {@code agentmain} method,\n- * before the application {@code main} method is invoked. <\/dd>\n+ * The agent is started by invoking the agent class {@code agentmain} method. It is\n+ * invoked before the application {@code main} method is invoked. <\/dd>\n@@ -261,2 +261,2 @@\n- * The agent is started, by invoking the agent class {@code premain} method,\n- * before the application {@code main} method is invoked.\n+ * The agent is started by invoking the agent class {@code premain} method. It is\n+ * invoked before the application {@code main} method is invoked.\n@@ -267,1 +267,1 @@\n- * the JVM has started then this attribute specifies the binary name of the Java\n+ * the JVM has started, then this attribute specifies the binary name of the Java\n","filename":"src\/java.instrument\/share\/classes\/java\/lang\/instrument\/package-info.java","additions":16,"deletions":16,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -83,8 +83,2 @@\n-        String libname;\n-        if (Platform.isWindows()) {\n-            libname = JVMTI_AGENT_LIB + \".dll\";\n-        } else if (Platform.isOSX()) {\n-            libname = \"lib\" + JVMTI_AGENT_LIB + \".dylib\";\n-        } else {\n-            libname = \"lib\" + JVMTI_AGENT_LIB + \".so\";\n-        }\n+        String prefix = Platform.isWindows() ? \"\" : \"lib\";\n+        String libname = prefix + JVMTI_AGENT_LIB + \".\" + Platform.sharedLibraryExt();\n@@ -121,1 +115,1 @@\n-                    .addToolArg(\"\"+pid)\n+                    .addToolArg(Long.toString(pid))\n@@ -180,1 +174,1 @@\n-                    VirtualMachine vm = VirtualMachine.attach(\"\"+pid);\n+                    VirtualMachine vm = VirtualMachine.attach(Long.toString(pid));\n@@ -197,1 +191,1 @@\n-            Stream<String> s2 = Stream.of(\"Application\", \"\"+listener.getLocalPort());\n+            Stream<String> s2 = Stream.of(\"Application\", Integer.toString(listener.getLocalPort()));\n","filename":"test\/jdk\/com\/sun\/tools\/attach\/warnings\/DynamicLoadWarningTest.java","additions":5,"deletions":11,"binary":false,"changes":16,"status":"modified"}]}