{"files":[{"patch":"@@ -47,3 +47,0 @@\n-TOOL_COMPILEPROPERTIES = $(JAVA_SMALL) -cp $(BUILDTOOLS_OUTPUTDIR)\/jdk_tools_classes \\\n-    build.tools.compileproperties.CompileProperties\n-\n","filename":"make\/ToolsJdk.gmk","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -0,0 +1,43 @@\n+#\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.  Oracle designates this\n+# particular file as subject to the \"Classpath\" exception as provided\n+# by Oracle in the LICENSE file that accompanied this code.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+include Execute.gmk\n+include TextFileProcessing.gmk\n+include ToolsJdk.gmk\n+\n+################################################################################\n+# Sets up a rule that creates a version.properties file in the gensrc output\n+# directory.\n+# Param 1 - Variable to add generated file name to\n+# Param 2 - Name of version.properties file including packages from the src\n+#           root.\n+define SetupVersionProperties\n+  $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/$$(strip $2):\n+\t$$(call MakeTargetDir)\n+\t$(PRINTF) \"jdk=$(VERSION_NUMBER)\\nfull=$(VERSION_STRING)\\nrelease=$(VERSION_SHORT)\\n\" \\\n+\t    > $$@\n+\n+  $$(strip $1) += $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/$$(strip $2)\n+endef\n","filename":"make\/common\/modules\/GensrcCommon.gmk","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -1,30 +0,0 @@\n-#\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.  Oracle designates this\n-# particular file as subject to the \"Classpath\" exception as provided\n-# by Oracle in the LICENSE file that accompanied this code.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-include Execute.gmk\n-include JavaCompilation.gmk\n-include NativeCompilation.gmk\n-include TextFileProcessing.gmk\n-include ToolsJdk.gmk\n","filename":"make\/common\/modules\/GensrcCommonJdk.gmk","additions":0,"deletions":30,"binary":false,"changes":30,"status":"deleted"},{"patch":"@@ -1,129 +0,0 @@\n-#\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.  Oracle designates this\n-# particular file as subject to the \"Classpath\" exception as provided\n-# by Oracle in the LICENSE file that accompanied this code.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-include JavaCompilation.gmk\n-\n-################################################################################\n-# The compileprops tools compiles a properties file into a resource bundle.\n-TOOL_COMPILEPROPS_CMD := $(JAVA_SMALL) -cp $(BUILDTOOLS_OUTPUTDIR)\/langtools_tools_classes \\\n-    compileproperties.CompileProperties -quiet\n-\n-################################################################################\n-# The compileprops tools compiles a properties file into an enum-like class.\n-TOOL_PARSEPROPS_CMD := $(JAVA_SMALL) -cp $(BUILDTOOLS_OUTPUTDIR)\/langtools_tools_classes \\\n-    propertiesparser.PropertiesParser\n-\n-\n-################################################################################\n-# Sets up a rule that creates a version.properties file in the gensrc output\n-# directory.\n-# Param 1 - Variable to add generated file name to\n-# Param 2 - Name of version.properties file including packages from the src\n-#           root.\n-define SetupVersionProperties\n-  $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/$$(strip $2):\n-\t$$(call MakeTargetDir)\n-\t$(PRINTF) \"jdk=$(VERSION_NUMBER)\\nfull=$(VERSION_STRING)\\nrelease=$(VERSION_SHORT)\\n\" \\\n-\t    > $$@\n-\n-  $$(strip $1) += $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/$$(strip $2)\n-endef\n-\n-################################################################################\n-# Finds all properties files in the module source and creates a rule that runs\n-# CompileProperties on them into the gensrc dir.\n-# Param 1 - Variable to add targets to\n-# Param 2 - Extra properties files to process\n-define SetupCompileProperties\n-  # Lookup the properties that need to be compiled into resource bundles.\n-  PROPSOURCES := $2 \\\n-      $$(call FindFiles, $(TOPDIR)\/src\/$(MODULE)\/share\/classes, *.properties)\n-\n-  # Filter out any excluded translations\n-  PROPSOURCES := $$(call FilterExcludedTranslations, $$(PROPSOURCES), .properties)\n-\n-  # Convert ...\/src\/<module>\/share\/classes\/com\/sun\/tools\/javac\/resources\/javac_zh_CN.properties\n-  # to ...\/langtools\/gensrc\/<module>\/com\/sun\/tools\/javac\/resources\/javac_zh_CN.java\n-  # Strip away prefix and suffix, leaving for example only:\n-  # \"<module>\/share\/classes\/com\/sun\/tools\/javac\/resources\/javac_zh_CN\"\n-  PROPJAVAS := $$(patsubst $(TOPDIR)\/src\/%, \\\n-      $(SUPPORT_OUTPUTDIR)\/gensrc\/%, \\\n-      $$(patsubst %.properties, %.java, \\\n-      $$(subst \/share\/classes,, $$(PROPSOURCES))))\n-\n-  # Generate the package dirs for the to be generated java files. Sort to remove\n-  # duplicates.\n-  PROPDIRS := $$(sort $$(dir $$(PROPJAVAS)))\n-\n-  # Now generate a sequence of:\n-  # \"-compile ...javac_zh_CN.properties ...javac_zh_CN.java java.util.ListResourceBundle\"\n-  # suitable to be fed into the CompileProperties command.\n-  PROPCMDLINE := $$(subst _SPACE_, $(SPACE), \\\n-      $$(join $$(addprefix -compile_SPACE_, $$(PROPSOURCES)), \\\n-      $$(addsuffix _SPACE_java.util.ListResourceBundle, \\\n-      $$(addprefix _SPACE_, $$(PROPJAVAS)))))\n-\n-  # Now setup the rule for the generation of the resource bundles.\n-  PROPS_BASE := $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/_the_props\n-  $$(PROPS_BASE): $$(PROPSOURCES)\n-\t$$(call MakeDir, $$(@D) $$(PROPDIRS))\n-\t$(FIND) $$(@D) -name \"*.java\" -a ! -name \"*Properties.java\" $(FIND_DELETE)\n-\t$(ECHO) Compiling $$(words $$(PROPSOURCES)) properties into resource bundles for $(MODULE)\n-\t$$(call ExecuteWithLog, $$(PROPS_BASE)_exec, \\\n-\t    $(TOOL_COMPILEPROPS_CMD) $$(PROPCMDLINE))\n-\t$(TOUCH) $$@\n-\n-  $$(strip $1) += $$(PROPS_BASE)\n-endef\n-\n-################################################################################\n-# Parse property files in given location and generate a Java-like enum in the gensrc folder.\n-# Param 1 - Variable to add targets to\n-# Param 2 - Extra properties files to process\n-define SetupParseProperties\n-  # property files to process\n-  PARSEPROPSOURCES := $$(addprefix $(TOPDIR)\/src\/$(MODULE)\/share\/classes\/, $2)\n-  PARSEPROPSOURCES := $$(call FilterExcludedTranslations, $$(PARSEPROPSOURCES), .properties)\n-\n-  PARSEPROPALLDIRS := $$(patsubst $(TOPDIR)\/src\/$(MODULE)\/share\/classes\/%, \\\n-      $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/%, \\\n-      $$(dir $$(PARSEPROPSOURCES)))\n-\n-  PARSEPROPDIRS := $$(sort $$(PARSEPROPALLDIRS))\n-\n-  PARSEPROPCMDLINE := $$(subst _SPACE_, $$(SPACE), \\\n-    $$(join $$(foreach var,$$(PARSEPROPSOURCES),$$(addprefix -compile_SPACE_,$$(var))), \\\n-    $$(addprefix _SPACE_, $$(PARSEPROPALLDIRS))))\n-\n-  # Now setup the rule for the generation of the resource bundles.\n-  $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/_the_parsed_props: $$(PARSEPROPSOURCES)\n-\t$$(call MakeDir, $$(@D) $$(PARSEPROPDIRS))\n-\t$(FIND) $$(@D) -name \"*Properties.java\" $(FIND_DELETE)\n-\t$(ECHO) Parsing $$(words $$(PARSEPROPSOURCES)) properties into enum-like class for $(MODULE)\n-\t$(TOOL_PARSEPROPS_CMD) $$(PARSEPROPCMDLINE)\n-\t$(TOUCH) $$@\n-\n-  $$(strip $1) += $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/_the_parsed_props\n-endef\n-\n","filename":"make\/common\/modules\/GensrcCommonLangtools.gmk","additions":0,"deletions":129,"binary":false,"changes":129,"status":"deleted"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,2 @@\n+include JavaCompilation.gmk\n+\n@@ -59,0 +61,1 @@\n+# EXTRA_FILES Also include these specifically named files\n@@ -61,0 +64,1 @@\n+# TYPE    Wether to use \"langtools\" or normal compiler.\n@@ -73,0 +77,2 @@\n+  $1_SRC_FILES += $$($1_EXTRA_FILES)\n+\n@@ -105,0 +111,15 @@\n+  $1_EXEC_MARKER := $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/_the.$1.exec\n+\n+  ifeq ($$($1_TYPE), langtools)\n+    $1_TOOL := -cp $(BUILDTOOLS_OUTPUTDIR)\/langtools_tools_classes \\\n+    compileproperties.CompileProperties\n+    $1_TOOL_DEPS := $(BUILD_TOOLS_LANGTOOLS)\n+  else\n+    $1_TOOL := -cp $(BUILDTOOLS_OUTPUTDIR)\/jdk_tools_classes \\\n+    build.tools.compileproperties.CompileProperties\n+    $1_TOOL_DEPS := $(BUILD_TOOLS_JDK)\n+  endif\n+\n+  ifeq ($(findstring $(LOG_LEVEL), debug trace), )\n+    $1_QUIET := -quiet\n+  endif\n@@ -107,1 +128,1 @@\n-  $$($1_TARGET): $$($1_SRC_FILES) $$($1_JAVAS) $(BUILD_TOOLS_JDK)\n+  $$($1_TARGET): $$($1_SRC_FILES) $$($1_JAVAS) $$($1_TOOL_DEPS)\n@@ -111,1 +132,2 @@\n-\t$(TOOL_COMPILEPROPERTIES) -quiet @$$($1_CMDLINE_FILE)\n+\t$$(call ExecuteWithLog, $$($1_EXEC_MARKER), \\\n+\t    $(JAVA_SMALL) $$($1_TOOL) $$($1_QUIET) @$$($1_CMDLINE_FILE))\n@@ -123,2 +145,0 @@\n-\n-################################################################################\n","filename":"make\/common\/modules\/GensrcProperties.gmk","additions":25,"deletions":5,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -104,7 +104,4 @@\n-        \/* Original usage *\/\n-        if (args.length == 2 && args[0].charAt(0) != '-' ) {\n-            ok = createFile(args[0], args[1], \"java.util.ListResourceBundle\");\n-        } else if (args.length == 3) {\n-            ok = createFile(args[0], args[1], args[2]);\n-        } else if (args.length == 0) {\n-            usage(log);\n+\n+        ok = parseOptions(args);\n+        if ( ok && compileCount == 0 ) {\n+            log.error(\"options parsed but no files to compile\", null);\n@@ -112,0 +109,4 @@\n+        }\n+        \/* Need at least one file. *\/\n+        if ( !ok ) {\n+            usage(log);\n@@ -113,14 +114,3 @@\n-            \/* New batch usage *\/\n-            ok = parseOptions(args);\n-            if ( ok && compileCount == 0 ) {\n-                log.error(\"options parsed but no files to compile\", null);\n-                ok = false;\n-            }\n-            \/* Need at least one file. *\/\n-            if ( !ok ) {\n-                usage(log);\n-            } else {\n-                \/* Process files *\/\n-                for ( int i = 0; i < compileCount && ok ; i++ ) {\n-                    ok = createFile(propfiles[i], outfiles[i], supers[i]);\n-                }\n+            \/* Process files *\/\n+            for ( int i = 0; i < compileCount && ok ; i++ ) {\n+                ok = createFile(propfiles[i], outfiles[i], supers[i]);\n@@ -129,0 +119,1 @@\n+\n@@ -156,2 +147,2 @@\n-            } else if ( \"-optionsfile\".equals(args[i]) && i+1 < args.length ) {\n-                String filename = args[++i];\n+            } else if ( args[i].startsWith(\"@\") && args[i].length() > 1 ) {\n+                String filename = args[i].substring(1);\n@@ -164,1 +155,1 @@\n-                        log.error(\"The -optionsfile file is empty\", null);\n+                        log.error(\"The @-file file is empty\", null);\n@@ -170,1 +161,1 @@\n-                            log.error(\"Cannot read all of -optionsfile file\", null);\n+                            log.error(\"Cannot read all of @-file file\", null);\n@@ -286,3 +277,1 @@\n-        log.info(\"    java CompileProperties path_to_properties_file path_to_java_output_file [super_class]\");\n-        log.info(\"      -OR-\");\n-        log.info(\"    java CompileProperties {-compile path_to_properties_file path_to_java_output_file super_class} -or- -optionsfile filename\");\n+        log.info(\"    java CompileProperties {-compile path_to_properties_file path_to_java_output_file super_class} -or- @optionsfile\");\n@@ -292,2 +281,2 @@\n-        log.info(\"    java CompileProperties -optionsfile option_file\");\n-        log.info(\"option_file contains: -compile test.properties test.java java.util.ListResourceBundle\");\n+        log.info(\"    java CompileProperties @optionsfile\");\n+        log.info(\"optionsfile contains: -compile test.properties test.java java.util.ListResourceBundle\");\n","filename":"make\/langtools\/tools\/compileproperties\/CompileProperties.java","additions":20,"deletions":31,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/java.base\/Gensrc.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/java.desktop\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/java.logging\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.charsets\/Gensrc.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,3 @@\n-include GensrcCommonLangtools.gmk\n+include GensrcCommon.gmk\n+include GensrcProperties.gmk\n+include Execute.gmk\n@@ -28,1 +30,1 @@\n-$(eval $(call SetupVersionProperties,JAVAC_VERSION, \\\n+$(eval $(call SetupVersionProperties, JAVAC_VERSION, \\\n@@ -31,2 +33,6 @@\n-$(eval $(call SetupCompileProperties,COMPILE_PROPERTIES, \\\n-    $(JAVAC_VERSION)))\n+$(eval $(call SetupCompileProperties, COMPILE_PROPERTIES, \\\n+    SRC_DIRS := $(TOPDIR)\/src\/$(MODULE)\/share\/classes, \\\n+    EXTRA_FILES := $(JAVAC_VERSION), \\\n+    CLASS := java.util.ListResourceBundle, \\\n+    TYPE := langtools, \\\n+))\n@@ -34,3 +40,1 @@\n-$(eval $(call SetupParseProperties,PARSE_PROPERTIES, \\\n-\tcom\/sun\/tools\/javac\/resources\/compiler.properties \\\n-\tcom\/sun\/tools\/javac\/resources\/launcher.properties))\n+TARGETS += $(COMPILE_PROPERTIES)\n@@ -38,1 +42,33 @@\n-TARGETS += $(COMPILE_PROPERTIES) $(PARSE_PROPERTIES)\n+################################################################################\n+#\n+# Compile properties files into enum-like classes using the propertiesparser tool\n+#\n+\n+# To avoid reevaluating the compilation setup for the tools each time this file\n+# is included, the following trick is used to be able to declare a dependency on\n+# the built tools.\n+BUILD_TOOLS_LANGTOOLS := $(call SetupJavaCompilationCompileTarget, \\\n+    BUILD_TOOLS_LANGTOOLS, $(BUILDTOOLS_OUTPUTDIR)\/langtools_tools_classes)\n+\n+TOOL_PARSEPROPERTIES_CMD := $(JAVA_SMALL) -cp $(BUILDTOOLS_OUTPUTDIR)\/langtools_tools_classes \\\n+    propertiesparser.PropertiesParser\n+\n+PARSEPROPERTIES_PACKAGE := com\/sun\/tools\/javac\/resources\n+PARSEPROPERTIES_FILES := compiler.properties launcher.properties\n+\n+PARSEPROPERTIES_SRC := $(addprefix \\\n+    $(MODULE_SRC)\/share\/classes\/$(PARSEPROPERTIES_PACKAGE)\/, \\\n+    $(PARSEPROPERTIES_FILES))\n+\n+PARSEPROPERTIES_ARGS := $(foreach file, $(PARSEPROPERTIES_SRC), \\\n+    -compile $(file) \\\n+    $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE)\/$(PARSEPROPERTIES_PACKAGE)\/)\n+\n+$(eval $(call SetupExecute, PARSEPROPERTIES, \\\n+    WARN := Generating classes for $(PARSEPROPERTIES_FILES), \\\n+    DEPS := $(PARSEPROPERTIES_SRC) $(BUILD_TOOLS_LANGTOOLS), \\\n+    OUTPUT_DIR := $(SUPPORT_OUTPUTDIR)\/gensrc\/$(MODULE), \\\n+    COMMAND := $(TOOL_PARSEPROPERTIES_CMD) $(PARSEPROPERTIES_ARGS), \\\n+))\n+\n+TARGETS += $(PARSEPROPERTIES)\n","filename":"make\/modules\/jdk.compiler\/Gensrc.gmk","additions":45,"deletions":9,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.httpserver\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.jartool\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,2 @@\n-include GensrcCommonLangtools.gmk\n+include GensrcCommon.gmk\n+include GensrcProperties.gmk\n@@ -28,4 +29,1 @@\n-$(eval $(call SetupVersionProperties,OLD_JAVADOC_VERSION,\\\n-    com\/sun\/tools\/javadoc\/resources\/version.properties))\n-\n-$(eval $(call SetupVersionProperties,JAVADOC_VERSION,\\\n+$(eval $(call SetupVersionProperties, JAVADOC_VERSION,\\\n@@ -34,1 +32,6 @@\n-$(eval $(call SetupCompileProperties,COMPILE_PROPERTIES, $(JAVADOC_VERSION)))\n+$(eval $(call SetupCompileProperties, COMPILE_PROPERTIES, \\\n+    SRC_DIRS := $(TOPDIR)\/src\/$(MODULE)\/share\/classes, \\\n+    EXTRA_FILES := $(JAVADOC_VERSION), \\\n+    CLASS := java.util.ListResourceBundle, \\\n+    TYPE := langtools, \\\n+))\n","filename":"make\/modules\/jdk.javadoc\/Gensrc.gmk","additions":10,"deletions":7,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,2 @@\n-include GensrcCommonLangtools.gmk\n+include GensrcCommon.gmk\n+include GensrcProperties.gmk\n@@ -28,1 +29,1 @@\n-$(eval $(call SetupVersionProperties,JAVAP_VERSION, \\\n+$(eval $(call SetupVersionProperties, JAVAP_VERSION, \\\n@@ -31,1 +32,1 @@\n-$(eval $(call SetupVersionProperties,JDEPS_VERSION,\\\n+$(eval $(call SetupVersionProperties, JDEPS_VERSION,\\\n@@ -34,2 +35,6 @@\n-$(eval $(call SetupCompileProperties,COMPILE_PROPERTIES,\\\n-    $(JDEPS_VERSION) $(JAVAP_VERSION)))\n+$(eval $(call SetupCompileProperties, COMPILE_PROPERTIES, \\\n+    SRC_DIRS := $(TOPDIR)\/src\/$(MODULE)\/share\/classes, \\\n+    EXTRA_FILES := $(JDEPS_VERSION) $(JAVAP_VERSION), \\\n+    CLASS := java.util.ListResourceBundle, \\\n+    TYPE := langtools, \\\n+))\n","filename":"make\/modules\/jdk.jdeps\/Gensrc.gmk","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.jdi\/Gensrc.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.jlink\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.jpackage\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,2 @@\n-include GensrcCommonLangtools.gmk\n+include GensrcCommon.gmk\n+include GensrcProperties.gmk\n@@ -28,1 +29,1 @@\n-$(eval $(call SetupVersionProperties,JSHELL_VERSION, \\\n+$(eval $(call SetupVersionProperties, JSHELL_VERSION, \\\n@@ -31,2 +32,6 @@\n-$(eval $(call SetupCompileProperties,COMPILE_PROPERTIES, \\\n-    $(JSHELL_VERSION) $(JAVAH_VERSION)))\n+$(eval $(call SetupCompileProperties, COMPILE_PROPERTIES, \\\n+    SRC_DIRS := $(TOPDIR)\/src\/$(MODULE)\/share\/classes, \\\n+    EXTRA_FILES := $(JSHELL_VERSION), \\\n+    CLASS := java.util.ListResourceBundle, \\\n+    TYPE := langtools, \\\n+))\n","filename":"make\/modules\/jdk.jshell\/Gensrc.gmk","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.localedata\/Gensrc.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n-include GensrcCommonJdk.gmk\n+include GensrcCommon.gmk\n","filename":"make\/modules\/jdk.management.agent\/Gensrc.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}