{"files":[{"patch":"@@ -359,0 +359,8 @@\n+  # Check if it's GNU date\n+  check_date=`$DATE --version 2>&1 | $GREP GNU`\n+  if test \"x$check_date\" != x; then\n+    IS_GNU_DATE=yes\n+  else\n+    IS_GNU_DATE=no\n+  fi\n+\n","filename":"make\/autoconf\/basic_tools.m4","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -202,0 +202,6 @@\n+  elif test \"x$SOURCE_DATE_EPOCH\" != x; then\n+    if test \"x$IS_GNU_DATE\" = xyes; then\n+      COPYRIGHT_YEAR=`date --date=@$SOURCE_DATE_EPOCH +%Y`\n+    else\n+      COPYRIGHT_YEAR=`date -j -f %s $SOURCE_DATE_EPOCH +%Y`\n+    fi\n","filename":"make\/autoconf\/jdk-options.m4","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -117,0 +117,1 @@\n+    static int copyrightYear;\n@@ -220,0 +221,4 @@\n+                    case \"-year\":\n+                        copyrightYear = Integer.parseInt(args[++i]);\n+                        break;\n+\n@@ -238,1 +243,1 @@\n-                severe(\"unknown or imcomplete arg(s): \" + currentArg);\n+                severe(\"unknown or incomplete arg(s): \" + currentArg);\n@@ -263,0 +268,4 @@\n+        if (copyrightYear == 0) {\n+            copyrightYear = ZonedDateTime.now(ZoneId.of(\"America\/Los_Angeles\")).getYear();\n+        }\n+\n@@ -295,0 +304,1 @@\n+                + \"\\t-year year     copyright year in output%n\"\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/CLDRConverter.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import java.util.Date;\n@@ -134,2 +135,1 @@\n-    static String getOracleCopyright() {\n-        int year = getYear();\n+    static String getOracleCopyright(int year) {\n@@ -143,2 +143,1 @@\n-    static String getOpenJDKCopyright() {\n-        int year = getYear();\n+    static String getOpenJDKCopyright(int year) {\n@@ -148,5 +147,0 @@\n-    private static int getYear() {\n-        return new GregorianCalendar(TimeZone.getTimeZone(\"America\/Los_Angeles\"),\n-                                         Locale.US).get(Calendar.YEAR);\n-    }\n-\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/CopyrightHeaders.java","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -201,1 +201,1 @@\n-            out.println(CopyrightHeaders.getOpenJDKCopyright());\n+            out.println(CopyrightHeaders.getOpenJDKCopyright(CLDRConverter.copyrightYear));\n@@ -269,1 +269,1 @@\n-            out.printf(CopyrightHeaders.getOpenJDKCopyright());\n+            out.printf(CopyrightHeaders.getOpenJDKCopyright(CLDRConverter.copyrightYear));\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/ResourceBundleGenerator.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,2 +33,0 @@\n-import java.time.ZoneId;\n-import java.time.ZonedDateTime;\n@@ -37,0 +35,3 @@\n+import java.util.Calendar;\n+import java.util.Date;\n+import java.util.GregorianCalendar;\n@@ -40,0 +41,1 @@\n+import java.util.TimeZone;\n@@ -55,1 +57,1 @@\n-        if (args.length != 2) {\n+        if (args.length != 3) {\n@@ -57,1 +59,1 @@\n-                    + \" language-subtag-registry.txt LocaleEquivalentMaps.java\");\n+                    + \" language-subtag-registry.txt LocaleEquivalentMaps.java copyrightYear\");\n@@ -60,0 +62,1 @@\n+        copyrightYear = Integer.parseInt(args[2]);\n@@ -66,0 +69,1 @@\n+    private static int copyrightYear;\n@@ -249,3 +253,1 @@\n-        int year = ZonedDateTime.now(ZoneId\n-                .of(\"America\/Los_Angeles\")).getYear();\n-        return String.format(Locale.US, COPYRIGHT, year);\n+        return String.format(Locale.US, COPYRIGHT, copyrightYear);\n","filename":"make\/jdk\/src\/classes\/build\/tools\/generatelsrequivmaps\/EquivMapsGenerator.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -65,0 +65,1 @@\n+\t    -year $(COPYRIGHT_YEAR) \\\n@@ -102,1 +103,1 @@\n-\t$(TOOL_GENERATELSREQUIVMAPS) $< $@\n+\t$(TOOL_GENERATELSREQUIVMAPS) $< $@ $(COPYRIGHT_YEAR)\n","filename":"make\/modules\/java.base\/Gensrc.gmk","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+\t    -year $(COPYRIGHT_YEAR) \\\n","filename":"make\/modules\/jdk.localedata\/Gensrc.gmk","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}