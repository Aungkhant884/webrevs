{"files":[{"patch":"@@ -49,1 +49,1 @@\n-  private static void checkFlag(long maxram, int maxrampercent, boolean expectcoop) throws Exception {\n+  private static void checkFlag(long ulimit, long maxram, int maxrampercent, boolean expectcoop) throws Exception {\n@@ -58,1 +58,1 @@\n-    ProcessBuilder pb = new ProcessBuilder(\"sh\", \"-c\", \"ulimit -v 10485760;\" + cmd);\n+    ProcessBuilder pb = new ProcessBuilder(\"sh\", \"-c\", \"ulimit -v \" + ulimit + \";\" + cmd);\n@@ -84,4 +84,4 @@\n-    \/\/ Args: MaxRAM , MaxRAMPercentage, expect coop\n-    \/\/ Having MaxRAMPercentage set explicitly instead of relying on its default value indeed makes the test more resilient.\n-    checkFlag(32 * oneG, 100, true);\n-    checkFlag(128 * oneG, 100, true);\n+    \/\/ Args: ulimit, max_ram, max_ram_percent, expected_coop\n+    \/\/ Setting MaxRAMPercentage explicitly to make the test more resilient.\n+    checkFlag(10 * oneG, 32 * oneG, 100, true);\n+    checkFlag(10 * oneG, 128 * oneG, 100, true);\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestUseCompressedOopsFlagsWithUlimit.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}