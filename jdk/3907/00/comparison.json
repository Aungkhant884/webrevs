{"files":[{"patch":"@@ -5200,3 +5200,11 @@\n-                for (ClassSymbol supertypeSym : sealedSupers) {\n-                    if (!supertypeSym.permitted.contains(c.type.tsym)) {\n-                        log.error(TreeInfo.diagnosticPositionFor(c.type.tsym, env.tree), Errors.CantInheritFromSealed(supertypeSym));\n+                if (!c.type.isCompound()) {\n+                    for (ClassSymbol supertypeSym : sealedSupers) {\n+                        if (!supertypeSym.permitted.contains(c.type.tsym)) {\n+                            log.error(TreeInfo.diagnosticPositionFor(c.type.tsym, env.tree), Errors.CantInheritFromSealed(supertypeSym));\n+                        }\n+                    }\n+                    if (!c.isNonSealed() && !c.isFinal() && !c.isSealed()) {\n+                        log.error(TreeInfo.diagnosticPositionFor(c, env.tree),\n+                                c.isInterface() ?\n+                                        Errors.NonSealedOrSealedExpected :\n+                                        Errors.NonSealedSealedOrFinalExpected);\n@@ -5204,6 +5212,0 @@\n-                }\n-                if (!c.isNonSealed() && !c.isFinal() && !c.isSealed()) {\n-                    log.error(TreeInfo.diagnosticPositionFor(c, env.tree),\n-                            c.isInterface() ?\n-                                    Errors.NonSealedOrSealedExpected :\n-                                    Errors.NonSealedSealedOrFinalExpected);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Attr.java","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -1257,0 +1257,12 @@\n+\n+    public void testIntersectionWithSealedClasses() {\n+        assertOK(\n+                \"\"\"\n+                class A { }\n+                sealed interface I permits B { }\n+                final class B extends A implements I { }\n+\n+                class Foo<X extends A & I> {}\n+                \"\"\"\n+        );\n+    }\n","filename":"test\/langtools\/tools\/javac\/sealed\/SealedCompilationTests.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}