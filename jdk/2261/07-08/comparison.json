{"files":[{"patch":"@@ -37,0 +37,1 @@\n+import com.sun.tools.attach.AttachOperationFailedException;\n@@ -214,0 +215,1 @@\n+        String extraArgKV = \"\"; \/* whole key=value string of extra argument, e.g. parallel=1 *\/\n@@ -243,0 +245,1 @@\n+                extraArgKV = subopt;\n@@ -267,1 +270,7 @@\n-            executeCommandForPid(pid, \"dumpheapext\", filename, liveopt, more_args);\n+            try {\n+              executeCommandForPid(pid, \"dumpheapext\", filename, liveopt, more_args);\n+            } catch (AttachOperationFailedException e) {\n+                \/\/ target to an old jvm which could not accept extra arguments.\n+                System.err.println(\"Fail: invalid option: '\" + extraArgKV +\"'\");\n+                usage(1);\n+            }\n","filename":"src\/jdk.jcmd\/share\/classes\/sun\/tools\/jmap\/JMap.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"}]}