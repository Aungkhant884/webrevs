{"files":[{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os\/aix\/safepointMechanism_aix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -63,1 +64,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -40,0 +41,1 @@\n+#include \"osContainer_linux.hpp\"\n@@ -42,1 +44,0 @@\n-#include \"osContainer_linux.hpp\"\n@@ -67,1 +68,0 @@\n-#include \"signals_posix.hpp\"\n@@ -69,1 +69,0 @@\n-#include \"services\/memTracker.hpp\"\n@@ -71,0 +70,1 @@\n+#include \"signals_posix.hpp\"\n@@ -76,1 +76,0 @@\n-#include \"utilities\/events.hpp\"\n@@ -78,1 +77,1 @@\n-#include \"utilities\/growableArray.hpp\"\n+#include \"utilities\/events.hpp\"\n@@ -80,0 +79,1 @@\n+#include \"utilities\/growableArray.hpp\"\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -31,7 +32,0 @@\n-#include \"runtime\/globals_extension.hpp\"\n-#include \"runtime\/osThread.hpp\"\n-#include \"runtime\/frame.inline.hpp\"\n-#include \"runtime\/interfaceSupport.inline.hpp\"\n-#include \"runtime\/sharedRuntime.hpp\"\n-#include \"services\/attachListener.hpp\"\n-#include \"services\/memTracker.hpp\"\n@@ -40,0 +34,3 @@\n+#include \"runtime\/frame.inline.hpp\"\n+#include \"runtime\/globals_extension.hpp\"\n+#include \"runtime\/interfaceSupport.inline.hpp\"\n@@ -42,0 +39,1 @@\n+#include \"runtime\/osThread.hpp\"\n@@ -44,0 +42,2 @@\n+#include \"runtime\/sharedRuntime.hpp\"\n+#include \"services\/attachListener.hpp\"\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -38,1 +39,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os\/posix\/perfMemory_posix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -66,1 +67,0 @@\n-#include \"runtime\/threads.hpp\"\n@@ -68,0 +68,1 @@\n+#include \"runtime\/threads.hpp\"\n@@ -71,1 +72,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -36,1 +37,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os\/windows\/perfMemory_windows.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -51,1 +52,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,0 @@\n-#include \"logging\/logStream.hpp\"\n@@ -50,0 +49,1 @@\n+#include \"logging\/logStream.hpp\"\n@@ -55,0 +55,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -66,1 +67,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/cds\/filemap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-#include \"cds\/classListWriter.hpp\"\n+#include \"cds\/cds_globals.hpp\"\n@@ -34,0 +34,1 @@\n+#include \"cds\/classListWriter.hpp\"\n@@ -48,1 +49,0 @@\n-#include \"classfile\/symbolTable.hpp\"\n@@ -50,0 +50,1 @@\n+#include \"classfile\/symbolTable.hpp\"\n@@ -66,0 +67,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -80,1 +82,0 @@\n-#include \"runtime\/vmThread.hpp\"\n@@ -82,0 +83,1 @@\n+#include \"runtime\/vmThread.hpp\"\n@@ -83,1 +85,0 @@\n-#include \"services\/memTracker.hpp\"\n@@ -86,1 +87,0 @@\n-#include \"utilities\/ostream.hpp\"\n@@ -88,0 +88,1 @@\n+#include \"utilities\/ostream.hpp\"\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -42,1 +43,0 @@\n-#include \"services\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/compiler\/compilationMemoryStatistic.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -32,3 +33,0 @@\n-#include \"services\/memTracker.hpp\"\n-\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1BlockOffsetTable.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -67,0 +67,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -76,1 +77,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -33,1 +34,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/g1\/g1PageBasedVirtualSpace.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -33,1 +34,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RegionToSpaceMapper.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -31,1 +32,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/parallel\/objectStartArray.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -32,1 +33,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/parallel\/parMarkBitMap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-#include \"gc\/parallel\/parallelArguments.hpp\"\n@@ -29,0 +28,1 @@\n+#include \"gc\/parallel\/parallelArguments.hpp\"\n@@ -38,0 +38,1 @@\n+#include \"gc\/shared\/gcInitLogger.hpp\"\n@@ -41,1 +42,0 @@\n-#include \"gc\/shared\/gcInitLogger.hpp\"\n@@ -50,0 +50,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -55,1 +56,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/parallel\/parallelScavengeHeap.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -70,0 +70,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -83,1 +84,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -35,1 +36,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/serial\/serialBlockOffsetTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -36,1 +37,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTable.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-#include \"gc\/shared\/cardTableBarrierSetAssembler.hpp\"\n@@ -30,0 +29,1 @@\n+#include \"gc\/shared\/cardTableBarrierSetAssembler.hpp\"\n@@ -34,0 +34,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -36,1 +37,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/cardTableBarrierSet.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -42,1 +43,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shared\/oopStorage.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-#include \"services\/memTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahCollectionSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -79,0 +79,2 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -88,2 +90,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -38,1 +39,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/x\/xPhysicalMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-#include \"services\/memTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/x\/xVirtualMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-#include \"services\/memTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/gc\/z\/zNMT.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,2 +28,2 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/nmtUsage.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/nmtUsage.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/periodic\/jfrNativeMemoryEvent.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-#include \"services\/nmtUsage.hpp\"\n+#include \"nmt\/nmtUsage.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/periodic\/jfrNativeMemoryEvent.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,2 +36,0 @@\n-#include \"jfr\/recorder\/checkpoint\/types\/jfrType.hpp\"\n-#include \"jfr\/recorder\/jfrRecorder.hpp\"\n@@ -40,0 +38,2 @@\n+#include \"jfr\/recorder\/checkpoint\/types\/jfrType.hpp\"\n+#include \"jfr\/recorder\/jfrRecorder.hpp\"\n@@ -41,1 +41,0 @@\n-#include \"jfr\/writers\/jfrJavaEventWriter.hpp\"\n@@ -43,0 +42,1 @@\n+#include \"jfr\/writers\/jfrJavaEventWriter.hpp\"\n@@ -48,0 +48,1 @@\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -56,1 +57,0 @@\n-#include \"services\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/recorder\/checkpoint\/types\/jfrType.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -40,1 +41,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/recorder\/checkpoint\/types\/jfrTypeManager.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/recorder\/storage\/jfrVirtualMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -32,1 +33,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/utilities\/jfrAllocation.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/jfr\/utilities\/jfrHashtable.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -34,1 +35,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/allocation.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"nmt\/memTracker.inline.hpp\"\n@@ -36,1 +37,0 @@\n-#include \"services\/memTracker.inline.hpp\"\n","filename":"src\/hotspot\/share\/memory\/arena.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -28,1 +29,0 @@\n-#include \"runtime\/os.hpp\"\n@@ -30,1 +30,1 @@\n-#include \"services\/memTracker.hpp\"\n+#include \"runtime\/os.hpp\"\n","filename":"src\/hotspot\/share\/memory\/heap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,0 +36,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -39,1 +40,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/heapInspection.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,0 @@\n-#include \"memory\/metaspaceCriticalAllocation.hpp\"\n@@ -45,1 +44,1 @@\n-#include \"memory\/metaspaceTracer.hpp\"\n+#include \"memory\/metaspaceCriticalAllocation.hpp\"\n@@ -47,0 +46,1 @@\n+#include \"memory\/metaspaceTracer.hpp\"\n@@ -50,0 +50,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -57,1 +58,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/metaspace.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -34,1 +35,0 @@\n-#include \"services\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/memory\/metaspace\/metaspaceDCmd.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -47,1 +48,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/metaspace\/virtualSpaceNode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/resourceArea.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-#include \"services\/memTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/resourceArea.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -36,1 +37,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/memory\/virtualspace.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_ALLOCATIONSITE_HPP\n-#define SHARE_SERVICES_ALLOCATIONSITE_HPP\n+#ifndef SHARE_NMT_ALLOCATIONSITE_HPP\n+#define SHARE_NMT_ALLOCATIONSITE_HPP\n@@ -55,1 +55,1 @@\n-#endif \/\/ SHARE_SERVICES_ALLOCATIONSITE_HPP\n+#endif \/\/ SHARE_NMT_ALLOCATIONSITE_HPP\n","filename":"src\/hotspot\/share\/nmt\/allocationSite.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"src\/hotspot\/share\/services\/allocationSite.hpp","status":"renamed"},{"patch":"@@ -27,1 +27,1 @@\n-#include \"services\/mallocHeader.inline.hpp\"\n+#include \"nmt\/mallocHeader.inline.hpp\"\n@@ -29,0 +29,1 @@\n+#include \"nmt\/mallocSiteTable.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/mallocSiteTable.hpp\"\n@@ -35,1 +35,0 @@\n-\n","filename":"src\/hotspot\/share\/nmt\/mallocHeader.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"previous_filename":"src\/hotspot\/share\/services\/mallocHeader.cpp","status":"renamed"},{"patch":"@@ -26,2 +26,2 @@\n-#ifndef SHARE_SERVICES_MALLOCHEADER_HPP\n-#define SHARE_SERVICES_MALLOCHEADER_HPP\n+#ifndef SHARE_NMT_MALLOCHEADER_HPP\n+#define SHARE_NMT_MALLOCHEADER_HPP\n@@ -168,1 +168,1 @@\n-#endif \/\/ SHARE_SERVICES_MALLOCHEADER_HPP\n+#endif \/\/ SHARE_NMT_MALLOCHEADER_HPP\n","filename":"src\/hotspot\/share\/nmt\/mallocHeader.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"src\/hotspot\/share\/services\/mallocHeader.hpp","status":"renamed"},{"patch":"@@ -26,2 +26,2 @@\n-#ifndef SHARE_SERVICES_MALLOCHEADER_INLINE_HPP\n-#define SHARE_SERVICES_MALLOCHEADER_INLINE_HPP\n+#ifndef SHARE_NMT_MALLOCHEADER_INLINE_HPP\n+#define SHARE_NMT_MALLOCHEADER_INLINE_HPP\n@@ -29,1 +29,1 @@\n-#include \"services\/mallocHeader.hpp\"\n+#include \"nmt\/mallocHeader.hpp\"\n@@ -166,1 +166,1 @@\n-#endif \/\/ SHARE_SERVICES_MALLOCHEADER_INLINE_HPP\n+#endif \/\/ SHARE_NMT_MALLOCHEADER_INLINE_HPP\n","filename":"src\/hotspot\/share\/nmt\/mallocHeader.inline.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/mallocHeader.inline.hpp","status":"renamed"},{"patch":"@@ -26,1 +26,0 @@\n-\n@@ -28,0 +27,1 @@\n+#include \"nmt\/mallocSiteTable.hpp\"\n@@ -29,1 +29,0 @@\n-#include \"services\/mallocSiteTable.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/mallocSiteTable.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"previous_filename":"src\/hotspot\/share\/services\/mallocSiteTable.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_MALLOCSITETABLE_HPP\n-#define SHARE_SERVICES_MALLOCSITETABLE_HPP\n+#ifndef SHARE_NMT_MALLOCSITETABLE_HPP\n+#define SHARE_NMT_MALLOCSITETABLE_HPP\n@@ -29,0 +29,3 @@\n+#include \"nmt\/allocationSite.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -30,3 +33,0 @@\n-#include \"services\/allocationSite.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n@@ -201,1 +201,1 @@\n-#endif \/\/ SHARE_SERVICES_MALLOCSITETABLE_HPP\n+#endif \/\/ SHARE_NMT_MALLOCSITETABLE_HPP\n","filename":"src\/hotspot\/share\/nmt\/mallocSiteTable.hpp","additions":6,"deletions":6,"binary":false,"changes":12,"previous_filename":"src\/hotspot\/share\/services\/mallocSiteTable.hpp","status":"renamed"},{"patch":"@@ -32,0 +32,4 @@\n+#include \"nmt\/mallocHeader.inline.hpp\"\n+#include \"nmt\/mallocSiteTable.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -37,1 +41,0 @@\n-#include \"services\/mallocHeader.inline.hpp\"\n@@ -39,3 +42,0 @@\n-#include \"services\/mallocSiteTable.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/mallocTracker.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/mallocTracker.cpp","status":"renamed"},{"patch":"@@ -26,2 +26,2 @@\n-#ifndef SHARE_SERVICES_MALLOCTRACKER_HPP\n-#define SHARE_SERVICES_MALLOCTRACKER_HPP\n+#ifndef SHARE_NMT_MALLOCTRACKER_HPP\n+#define SHARE_NMT_MALLOCTRACKER_HPP\n@@ -30,0 +30,2 @@\n+#include \"nmt\/mallocHeader.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -32,2 +34,0 @@\n-#include \"services\/mallocHeader.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n@@ -318,1 +318,1 @@\n-#endif \/\/ SHARE_SERVICES_MALLOCTRACKER_HPP\n+#endif \/\/ SHARE_NMT_MALLOCTRACKER_HPP\n","filename":"src\/hotspot\/share\/nmt\/mallocTracker.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"previous_filename":"src\/hotspot\/share\/services\/mallocTracker.hpp","status":"renamed"},{"patch":"@@ -26,2 +26,2 @@\n-#ifndef SHARE_SERVICES_MALLOCTRACKER_INLINE_HPP\n-#define SHARE_SERVICES_MALLOCTRACKER_INLINE_HPP\n+#ifndef SHARE_NMT_MALLOCTRACKER_INLINE_HPP\n+#define SHARE_NMT_MALLOCTRACKER_INLINE_HPP\n@@ -29,0 +29,1 @@\n+#include \"nmt\/mallocTracker.hpp\"\n@@ -30,1 +31,0 @@\n-#include \"services\/mallocTracker.hpp\"\n@@ -72,1 +72,1 @@\n-#endif \/\/ SHARE_SERVICES_MALLOCTRACKER_INLINE_HPP\n+#endif \/\/ SHARE_NMT_MALLOCTRACKER_INLINE_HPP\n","filename":"src\/hotspot\/share\/nmt\/mallocTracker.inline.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/mallocTracker.inline.hpp","status":"renamed"},{"patch":"@@ -29,0 +29,2 @@\n+#include \"nmt\/memBaseline.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -31,2 +33,0 @@\n-#include \"services\/memBaseline.hpp\"\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/memBaseline.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"src\/hotspot\/share\/services\/memBaseline.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_MEMBASELINE_HPP\n-#define SHARE_SERVICES_MEMBASELINE_HPP\n+#ifndef SHARE_NMT_MEMBASELINE_HPP\n+#define SHARE_NMT_MEMBASELINE_HPP\n@@ -29,0 +29,4 @@\n+#include \"nmt\/mallocSiteTable.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -30,4 +34,0 @@\n-#include \"services\/mallocSiteTable.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n@@ -215,1 +215,1 @@\n-#endif \/\/ SHARE_SERVICES_MEMBASELINE_HPP\n+#endif \/\/ SHARE_NMT_MEMBASELINE_HPP\n","filename":"src\/hotspot\/share\/nmt\/memBaseline.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"previous_filename":"src\/hotspot\/share\/services\/memBaseline.hpp","status":"renamed"},{"patch":"@@ -29,4 +29,4 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memReporter.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memReporter.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/memReporter.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/memReporter.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_MEMREPORTER_HPP\n-#define SHARE_SERVICES_MEMREPORTER_HPP\n+#ifndef SHARE_NMT_MEMREPORTER_HPP\n+#define SHARE_NMT_MEMREPORTER_HPP\n@@ -29,0 +29,4 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memBaseline.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -30,4 +34,0 @@\n-#include \"services\/memBaseline.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n@@ -268,1 +268,1 @@\n-#endif \/\/ SHARE_SERVICES_MEMREPORTER_HPP\n+#endif \/\/ SHARE_NMT_MEMREPORTER_HPP\n","filename":"src\/hotspot\/share\/nmt\/memReporter.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"previous_filename":"src\/hotspot\/share\/services\/memReporter.hpp","status":"renamed"},{"patch":"@@ -30,0 +30,7 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memBaseline.hpp\"\n+#include \"nmt\/memReporter.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/nmtPreInit.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n@@ -33,1 +40,0 @@\n-#include \"runtime\/vmThread.hpp\"\n@@ -35,2 +41,1 @@\n-#include \"services\/memBaseline.hpp\"\n-#include \"services\/memReporter.hpp\"\n+#include \"runtime\/vmThread.hpp\"\n@@ -38,5 +43,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n-#include \"services\/nmtPreInit.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/memTracker.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"previous_filename":"src\/hotspot\/share\/services\/memTracker.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_MEMTRACKER_HPP\n-#define SHARE_SERVICES_MEMTRACKER_HPP\n+#ifndef SHARE_NMT_MEMTRACKER_HPP\n+#define SHARE_NMT_MEMTRACKER_HPP\n@@ -28,0 +28,4 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -30,4 +34,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n@@ -253,1 +253,1 @@\n-#endif \/\/ SHARE_SERVICES_MEMTRACKER_HPP\n+#endif \/\/ SHARE_NMT_MEMTRACKER_HPP\n","filename":"src\/hotspot\/share\/nmt\/memTracker.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"previous_filename":"src\/hotspot\/share\/services\/memTracker.hpp","status":"renamed"},{"patch":"@@ -0,0 +1,39 @@\n+\/*\n+ * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2023 SAP SE. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#ifndef SHARE_NMT_MEMTRACKER_INLINE_HPP\n+#define SHARE_NMT_MEMTRACKER_INLINE_HPP\n+\n+#include \"nmt\/mallocTracker.inline.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+\n+inline bool MemTracker::check_exceeds_limit(size_t s, MEMFLAGS f) {\n+  if (!enabled()) {\n+    return false;\n+  }\n+  return MallocTracker::check_exceeds_limit(s, f);\n+}\n+\n+#endif \/\/ SHARE_NMT_MEMTRACKER_INLINE_HPP\n","filename":"src\/hotspot\/share\/nmt\/memTracker.inline.hpp","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"},{"patch":"@@ -25,1 +25,1 @@\n-#include \"services\/nmtCommon.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/nmtCommon.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"src\/hotspot\/share\/services\/nmtCommon.cpp","status":"renamed"},{"patch":"@@ -27,2 +27,2 @@\n-#ifndef SHARE_SERVICES_NMTCOMMON_HPP\n-#define SHARE_SERVICES_NMTCOMMON_HPP\n+#ifndef SHARE_NMT_NMTCOMMON_HPP\n+#define SHARE_NMT_NMTCOMMON_HPP\n@@ -142,1 +142,1 @@\n-#endif \/\/ SHARE_SERVICES_NMTCOMMON_HPP\n+#endif \/\/ SHARE_NMT_NMTCOMMON_HPP\n","filename":"src\/hotspot\/share\/nmt\/nmtCommon.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"src\/hotspot\/share\/services\/nmtCommon.hpp","status":"renamed"},{"patch":"@@ -26,0 +26,3 @@\n+#include \"nmt\/memReporter.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/nmtDCmd.hpp\"\n@@ -27,1 +30,0 @@\n-#include \"runtime\/vmThread.hpp\"\n@@ -29,3 +31,1 @@\n-#include \"services\/nmtDCmd.hpp\"\n-#include \"services\/memReporter.hpp\"\n-#include \"services\/memTracker.hpp\"\n+#include \"runtime\/vmThread.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/nmtDCmd.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/nmtDCmd.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_NMTDCMD_HPP\n-#define SHARE_SERVICES_NMTDCMD_HPP\n+#ifndef SHARE_NMT_NMTDCMD_HPP\n+#define SHARE_NMT_NMTDCMD_HPP\n@@ -28,0 +28,2 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memBaseline.hpp\"\n@@ -30,2 +32,0 @@\n-#include \"services\/memBaseline.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n@@ -73,1 +73,1 @@\n-#endif \/\/ SHARE_SERVICES_NMTDCMD_HPP\n+#endif \/\/ SHARE_NMT_NMTDCMD_HPP\n","filename":"src\/hotspot\/share\/nmt\/nmtDCmd.hpp","additions":5,"deletions":5,"binary":false,"changes":10,"previous_filename":"src\/hotspot\/share\/services\/nmtDCmd.hpp","status":"renamed"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/nmtPreInit.hpp\"\n@@ -28,1 +29,0 @@\n-#include \"services\/nmtPreInit.hpp\"\n@@ -31,1 +31,0 @@\n-#include \"utilities\/ostream.hpp\"\n@@ -33,0 +32,1 @@\n+#include \"utilities\/ostream.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/nmtPreInit.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"previous_filename":"src\/hotspot\/share\/services\/nmtPreInit.cpp","status":"renamed"},{"patch":"@@ -26,2 +26,2 @@\n-#ifndef SHARE_SERVICES_NMT_PREINIT_HPP\n-#define SHARE_SERVICES_NMT_PREINIT_HPP\n+#ifndef SHARE_NMT_NMT_PREINIT_HPP\n+#define SHARE_NMT_NMT_PREINIT_HPP\n@@ -30,5 +30,1 @@\n-#ifdef ASSERT\n-#include \"runtime\/atomic.hpp\"\n-#endif\n-#include \"services\/memTracker.hpp\"\n-#include \"utilities\/checkedCast.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -39,0 +35,4 @@\n+#ifdef ASSERT\n+#include \"runtime\/atomic.hpp\"\n+#endif\n+\n@@ -381,1 +381,1 @@\n-#endif \/\/ SHARE_SERVICES_NMT_PREINIT_HPP\n+#endif \/\/ SHARE_NMT_NMT_PREINIT_HPP\n","filename":"src\/hotspot\/share\/nmt\/nmtPreInit.hpp","additions":8,"deletions":8,"binary":false,"changes":16,"previous_filename":"src\/hotspot\/share\/services\/nmtPreInit.hpp","status":"renamed"},{"patch":"@@ -26,0 +26,5 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/nmtUsage.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -27,5 +32,0 @@\n-#include \"services\/nmtCommon.hpp\"\n-#include \"services\/nmtUsage.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/nmtUsage.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"previous_filename":"src\/hotspot\/share\/services\/nmtUsage.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_NMTUSAGE_HPP\n-#define SHARE_SERVICES_NMTUSAGE_HPP\n+#ifndef SHARE_NMT_NMTUSAGE_HPP\n+#define SHARE_NMT_NMTUSAGE_HPP\n@@ -68,1 +68,1 @@\n-#endif \/\/ SHARE_SERVICES_NMTUSAGE_HPP\n+#endif \/\/ SHARE_NMT_NMTUSAGE_HPP\n","filename":"src\/hotspot\/share\/nmt\/nmtUsage.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"src\/hotspot\/share\/services\/nmtUsage.hpp","status":"renamed"},{"patch":"@@ -27,0 +27,4 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -28,4 +32,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/threadStackTracker.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/threadStackTracker.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_THREADSTACKTRACKER_HPP\n-#define SHARE_SERVICES_THREADSTACKTRACKER_HPP\n+#ifndef SHARE_NMT_THREADSTACKTRACKER_HPP\n+#define SHARE_NMT_THREADSTACKTRACKER_HPP\n@@ -28,4 +28,3 @@\n-#include \"services\/allocationSite.hpp\"\n-#include \"services\/mallocSiteTable.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n-#include \"utilities\/nativeCallStack.hpp\"\n+#include \"nmt\/allocationSite.hpp\"\n+#include \"nmt\/mallocSiteTable.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -33,0 +32,1 @@\n+#include \"utilities\/nativeCallStack.hpp\"\n@@ -85,1 +85,1 @@\n-#endif \/\/ SHARE_SERVICES_THREADSTACKTRACKER_HPP\n+#endif \/\/ SHARE_NMT_THREADSTACKTRACKER_HPP\n","filename":"src\/hotspot\/share\/nmt\/threadStackTracker.hpp","additions":7,"deletions":7,"binary":false,"changes":14,"previous_filename":"src\/hotspot\/share\/services\/threadStackTracker.hpp","status":"renamed"},{"patch":"@@ -26,1 +26,0 @@\n-#include \"memory\/metaspaceUtils.hpp\"\n@@ -28,0 +27,4 @@\n+#include \"memory\/metaspaceUtils.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/threadStackTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -30,3 +33,0 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/threadStackTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"previous_filename":"src\/hotspot\/share\/services\/virtualMemoryTracker.cpp","status":"renamed"},{"patch":"@@ -25,2 +25,2 @@\n-#ifndef SHARE_SERVICES_VIRTUALMEMORYTRACKER_HPP\n-#define SHARE_SERVICES_VIRTUALMEMORYTRACKER_HPP\n+#ifndef SHARE_NMT_VIRTUALMEMORYTRACKER_HPP\n+#define SHARE_NMT_VIRTUALMEMORYTRACKER_HPP\n@@ -31,2 +31,2 @@\n-#include \"services\/allocationSite.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n+#include \"nmt\/allocationSite.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -37,1 +37,0 @@\n-\n@@ -416,1 +415,1 @@\n-#endif \/\/ SHARE_SERVICES_VIRTUALMEMORYTRACKER_HPP\n+#endif \/\/ SHARE_NMT_VIRTUALMEMORYTRACKER_HPP\n","filename":"src\/hotspot\/share\/nmt\/virtualMemoryTracker.hpp","additions":5,"deletions":6,"binary":false,"changes":11,"previous_filename":"src\/hotspot\/share\/services\/virtualMemoryTracker.hpp","status":"renamed"},{"patch":"@@ -44,1 +44,0 @@\n-#include \"logging\/logTag.hpp\"\n@@ -46,0 +45,1 @@\n+#include \"logging\/logTag.hpp\"\n@@ -52,0 +52,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -75,1 +76,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -60,1 +61,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/precompiled\/precompiled.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -91,1 +92,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -59,0 +59,2 @@\n+#include \"nmt\/mallocSiteTable.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -91,1 +93,0 @@\n-#include \"services\/mallocSiteTable.hpp\"\n@@ -93,1 +94,0 @@\n-#include \"services\/memTracker.hpp\"\n@@ -124,2 +124,0 @@\n-#include \"os_linux.hpp\"\n-#include \"osContainer_linux.hpp\"\n@@ -127,0 +125,2 @@\n+#include \"osContainer_linux.hpp\"\n+#include \"os_linux.hpp\"\n","filename":"src\/hotspot\/share\/prims\/whitebox.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -62,1 +63,0 @@\n-#include \"services\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,0 +35,2 @@\n+#include \"nmt\/memTracker.hpp\"\n+#include \"prims\/downcallLinker.hpp\"\n@@ -37,2 +39,0 @@\n-#include \"prims\/downcallLinker.hpp\"\n-#include \"runtime\/globals.hpp\"\n@@ -42,0 +42,1 @@\n+#include \"runtime\/globals.hpp\"\n@@ -48,1 +49,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/init.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -79,1 +80,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/java.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,0 +42,5 @@\n+#include \"nmt\/mallocHeader.inline.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.inline.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n+#include \"nmt\/nmtPreInit.hpp\"\n@@ -44,1 +49,0 @@\n-#include \"prims\/jvmtiAgent.hpp\"\n@@ -46,0 +50,1 @@\n+#include \"prims\/jvmtiAgent.hpp\"\n@@ -66,5 +71,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/mallocHeader.inline.hpp\"\n-#include \"services\/memTracker.inline.hpp\"\n-#include \"services\/nmtPreInit.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -28,1 +29,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/park.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -34,1 +35,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/safepointMechanism.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -48,1 +49,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -59,1 +60,0 @@\n-#include \"prims\/jvmtiAgentList.hpp\"\n@@ -61,0 +61,1 @@\n+#include \"prims\/jvmtiAgentList.hpp\"\n@@ -64,1 +65,0 @@\n-#include \"runtime\/handles.inline.hpp\"\n@@ -66,0 +66,1 @@\n+#include \"runtime\/handles.inline.hpp\"\n@@ -86,1 +87,0 @@\n-#include \"runtime\/threads.hpp\"\n@@ -88,0 +88,1 @@\n+#include \"runtime\/threads.hpp\"\n@@ -95,1 +96,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/runtime\/threads.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"classfile\/classLoaderDataGraph.hpp\"\n@@ -29,1 +30,0 @@\n-#include \"classfile\/classLoaderDataGraph.hpp\"\n@@ -43,0 +43,1 @@\n+#include \"nmt\/nmtDCmd.hpp\"\n@@ -62,1 +63,0 @@\n-#include \"services\/nmtDCmd.hpp\"\n@@ -70,1 +70,0 @@\n-#include \"trimCHeapDCmd.hpp\"\n@@ -72,0 +71,1 @@\n+#include \"trimCHeapDCmd.hpp\"\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-#include \"services\/nmtCommon.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/services\/mallocLimit.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,39 +0,0 @@\n-\/*\n- * Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2023 SAP SE. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-\n-#ifndef SHARE_SERVICES_MEMTRACKER_INLINE_HPP\n-#define SHARE_SERVICES_MEMTRACKER_INLINE_HPP\n-\n-#include \"services\/mallocTracker.inline.hpp\"\n-#include \"services\/memTracker.hpp\"\n-\n-inline bool MemTracker::check_exceeds_limit(size_t s, MEMFLAGS f) {\n-  if (!enabled()) {\n-    return false;\n-  }\n-  return MallocTracker::check_exceeds_limit(s, f);\n-}\n-\n-#endif \/\/ SHARE_SERVICES_MEMTRACKER_INLINE_HPP\n","filename":"src\/hotspot\/share\/services\/memTracker.inline.hpp","additions":0,"deletions":39,"binary":false,"changes":39,"status":"deleted"},{"patch":"@@ -40,0 +40,3 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -57,3 +60,0 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-#include \"services\/nmtCommon.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n","filename":"src\/hotspot\/share\/utilities\/nativeCallStack.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -47,1 +48,0 @@\n-#include \"runtime\/javaThread.inline.hpp\"\n@@ -49,0 +49,1 @@\n+#include \"runtime\/javaThread.inline.hpp\"\n@@ -58,1 +59,0 @@\n-#include \"runtime\/vmThread.hpp\"\n@@ -60,0 +60,1 @@\n+#include \"runtime\/vmThread.hpp\"\n@@ -61,1 +62,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -28,1 +29,0 @@\n-#include \"services\/memTracker.hpp\"\n@@ -31,1 +31,1 @@\n-#include \"unittest.hpp\"\n+\n@@ -33,0 +33,1 @@\n+#include \"unittest.hpp\"\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_buffer_overflow_detection.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"nmt\/mallocHeader.inline.hpp\"\n+#include \"nmt\/mallocTracker.hpp\"\n@@ -28,3 +30,2 @@\n-#include \"services\/mallocHeader.inline.hpp\"\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_cornercases.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"nmt\/mallocHeader.inline.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -28,2 +30,2 @@\n-#include \"services\/mallocHeader.inline.hpp\"\n-#include \"services\/memTracker.hpp\"\n+\n+#include \"testutils.hpp\"\n@@ -34,1 +36,0 @@\n-#include \"testutils.hpp\"\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_locationprinting.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/nmtCommon.hpp\"\n@@ -29,2 +31,0 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/nmtCommon.hpp\"\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_malloclimit.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,0 +26,2 @@\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -27,2 +29,0 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_reserved_region.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"nmt\/mallocTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n@@ -28,2 +30,1 @@\n-#include \"services\/mallocTracker.hpp\"\n-#include \"services\/memTracker.hpp\"\n+\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmt_totals.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,0 +27,2 @@\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/nmtPreInit.hpp\"\n@@ -28,2 +30,0 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/nmtPreInit.hpp\"\n@@ -32,0 +32,1 @@\n+\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmtpreinit.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"nmt\/nmtPreInit.hpp\"\n@@ -29,1 +30,0 @@\n-#include \"services\/nmtPreInit.hpp\"\n@@ -32,0 +32,1 @@\n+\n","filename":"test\/hotspot\/gtest\/nmt\/test_nmtpreinitmap.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -25,0 +25,2 @@\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n@@ -26,2 +28,0 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n","filename":"test\/hotspot\/gtest\/runtime\/test_committed_virtualmemory.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"nmt\/memTracker.hpp\"\n@@ -32,1 +33,0 @@\n-#include \"services\/memTracker.hpp\"\n","filename":"test\/hotspot\/gtest\/runtime\/test_os.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,2 +36,2 @@\n-#include \"services\/memTracker.hpp\"\n-#include \"services\/virtualMemoryTracker.hpp\"\n+#include \"nmt\/memTracker.hpp\"\n+#include \"nmt\/virtualMemoryTracker.hpp\"\n","filename":"test\/hotspot\/gtest\/runtime\/test_virtualMemoryTracker.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}