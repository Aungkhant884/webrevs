{"files":[{"patch":"@@ -173,16 +173,6 @@\n-        if (errno == ENOTSUP) {\n-            \/* Try fsync() in case F_FULLSYUNC is not implemented on the\n-             * file system.\n-             *\/\n-            result = fsync(fd);\n-        } else {\n-            struct statfs fbuf;\n-            int errno_fcntl = errno;\n-            if (fstatfs(fd, &fbuf) == 0) {\n-                if ((fbuf.f_flags & MNT_LOCAL) == 0) {\n-                    \/* Try fsync() in case file is not local. *\/\n-                    result = fsync(fd);\n-                }\n-            } else {\n-                \/* fstatfs() failed so reinstate errno from fcntl(). *\/\n-                errno = errno_fcntl;\n+        struct statfs fbuf;\n+        int errno_fcntl = errno;\n+        if (fstatfs(fd, &fbuf) == 0) {\n+            if ((fbuf.f_flags & MNT_LOCAL) == 0) {\n+                \/* Try fsync() in case file is not local. *\/\n+                result = fsync(fd);\n@@ -190,0 +180,3 @@\n+        } else {\n+            \/* fstatfs() failed so restore errno from fcntl(). *\/\n+            errno = errno_fcntl;\n","filename":"src\/java.base\/unix\/native\/libnio\/ch\/FileDispatcherImpl.c","additions":9,"deletions":16,"binary":false,"changes":25,"status":"modified"}]}