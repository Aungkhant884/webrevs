{"files":[{"patch":"@@ -39,0 +39,18 @@\n+HASH:=\\#\n+\n+define IfAppend\n+$(if $(strip $1),$(strip $1)$(strip $2),)\n+endef\n+\n+define IfPrepend\n+$(if $(strip $1),$(strip $2)$(strip $1),)\n+endef\n+\n+define TestID\n+$(subst .java,,$(subst .java$(HASH),,$(suffix $(notdir $1))))\n+endef\n+\n+define HashTestID\n+$(call IfPrepend,$(call TestID,$1),$(HASH))\n+endef\n+\n@@ -359,0 +377,1 @@\n+$(call IfAppend, \\\n@@ -387,1 +406,1 @@\n-  )\n+  ),$(call HashTestID,$1))\n@@ -422,0 +441,5 @@\n+define ParseTestSelection\n+$(strip $(foreach parser,ParseCustomTestSelection ParseGtestTestSelection ParseMicroTestSelection ParseJtregTestSelection ParseSpecialTestSelection \\\n+ ,$(call $(parser),$1)))\n+endef\n+\n@@ -424,20 +448,2 @@\n-TESTS_TO_RUN :=\n-$(foreach test, $(TEST), \\\n-  $(eval PARSED_TESTS := $(call ParseCustomTestSelection, $(test))) \\\n-  $(if $(strip $(PARSED_TESTS)), , \\\n-    $(eval PARSED_TESTS += $(call ParseGtestTestSelection, $(test))) \\\n-  ) \\\n-  $(if $(strip $(PARSED_TESTS)), , \\\n-    $(eval PARSED_TESTS += $(call ParseMicroTestSelection, $(test))) \\\n-  ) \\\n-  $(if $(strip $(PARSED_TESTS)), , \\\n-    $(eval PARSED_TESTS += $(call ParseJtregTestSelection, $(test))) \\\n-  ) \\\n-  $(if $(strip $(PARSED_TESTS)), , \\\n-    $(eval PARSED_TESTS += $(call ParseSpecialTestSelection, $(test))) \\\n-  ) \\\n-  $(if $(strip $(PARSED_TESTS)), , \\\n-    $(eval UNKNOWN_TEST := $(test)) \\\n-  ) \\\n-  $(eval TESTS_TO_RUN += $(PARSED_TESTS)) \\\n-)\n+TESTS_TO_RUN:=$(strip $(foreach test,$(TEST),$(call ParseTestSelection,$(test))))\n+UNKNOWN_TEST:=$(strip $(foreach test,$(TEST),$(if $(call ParseTestSelection,$(test)),,$(test))))\n@@ -451,3 +457,0 @@\n-TESTS_TO_RUN := $(strip $(TESTS_TO_RUN))\n-\n-\n","filename":"make\/RunTests.gmk","additions":27,"deletions":24,"binary":false,"changes":51,"status":"modified"}]}