{"files":[{"patch":"@@ -245,1 +245,15 @@\n-  __ tbz(rscratch2, ShenandoahHeap::HAS_FORWARDED_BITPOS, heap_stable);\n+  if (is_strong) {\n+    __ tbz(rscratch2, ShenandoahHeap::HAS_FORWARDED_BITPOS, heap_stable);\n+  } else {\n+    if (dst == rscratch1) {\n+      __ push(rscratch1, sp);\n+    }\n+    __ mov(rscratch1, ShenandoahHeap::HAS_FORWARDED | ShenandoahHeap::WEAK_ROOTS);\n+    __ tst(rscratch1, rscratch2);\n+\n+    if (dst == rscratch1) {\n+      __ pop(rscratch1, sp);\n+    }\n+\n+    __ br(Assembler::EQ, heap_stable);\n+  }\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/shenandoah\/shenandoahBarrierSetAssembler_aarch64.cpp","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}