{"files":[{"patch":"@@ -31,1 +31,0 @@\n-import javax.swing.Timer;\n@@ -39,0 +38,2 @@\n+import java.util.Timer;\n+import java.util.TimerTask;\n@@ -60,1 +61,4 @@\n-    private static final Timer timerCloseSession;\n+    private static volatile TimerTask timerTask = null;\n+    private static final Timer timerCloseSession\n+            = new Timer(\"auto-close screencast session\");\n+\n@@ -88,10 +92,0 @@\n-\n-        if (IS_NATIVE_LOADED) {\n-            timerCloseSession =\n-                    new Timer(DELAY_BEFORE_SESSION_CLOSE, e -> closeSession());\n-\n-            timerCloseSession.setRepeats(false);\n-            timerCloseSession.start();\n-        } else {\n-            timerCloseSession = null;\n-        }\n@@ -125,0 +119,15 @@\n+    private static void timerCloseSessionRestart() {\n+        if (timerTask != null) {\n+            timerTask.cancel();\n+        }\n+\n+        timerTask = new TimerTask() {\n+            @Override\n+            public void run() {\n+                closeSession();\n+            }\n+        };\n+\n+        timerCloseSession.schedule(timerTask, DELAY_BEFORE_SESSION_CLOSE);\n+    }\n+\n@@ -130,1 +139,1 @@\n-        timerCloseSession.restart();\n+        timerCloseSessionRestart();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/screencast\/ScreencastHelper.java","additions":22,"deletions":13,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -129,0 +129,1 @@\n+        screenSpace.screenCount = 0;\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/screencast_pipewire.c","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}