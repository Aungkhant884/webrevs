{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,1 @@\n+import org.xml.sax.Locator;\n@@ -108,1 +109,8 @@\n-                System.out.println(xmlEvent);\n+                if (xmlEvent.begin > 0 && xmlEvent.end > 0) {\n+                    String lines[] = xml.split(\"\\\\r?\\\\n\");\n+                    for (int i = xmlEvent.begin - 1; i < xmlEvent.end; i++) {\n+                        System.out.println(i + \" \" + lines[i]);\n+                    }\n+                } else {\n+                    System.out.println(\"Could not locate XML position\");\n+                }\n@@ -167,0 +175,2 @@\n+        private int begin = -1;\n+        private int end = -1;\n@@ -175,0 +185,1 @@\n+        private Locator locator;\n@@ -179,0 +190,4 @@\n+        public void setDocumentLocator(Locator locator) {\n+            this.locator = locator;\n+        }\n+\n@@ -190,1 +205,3 @@\n-                objects.push(new XMLEvent(attrs.getValue(\"type\")));\n+                XMLEvent event = new XMLEvent(attrs.getValue(\"type\"));\n+                event.begin = locator.getLineNumber();\n+                objects.push(event);\n@@ -226,1 +243,3 @@\n-                    events.add((XMLEvent) value);\n+                    XMLEvent event = (XMLEvent) value;\n+                    event.end = locator.getLineNumber();\n+                    events.add(event);\n","filename":"test\/jdk\/jdk\/jfr\/tool\/TestPrintXML.java","additions":23,"deletions":4,"binary":false,"changes":27,"status":"modified"}]}