{"files":[{"patch":"@@ -33,0 +33,1 @@\n+import org.openjdk.jmh.annotations.Param;\n@@ -46,5 +47,1 @@\n-    public RandomGenerator rngL128X128MixRandom;\n-    public RandomGenerator rngL128X256MixRandom;\n-    public RandomGenerator rngL128X1024MixRandom;\n-    public static long[] buffer;\n-    public static final int SIZE = 1024;\n+    public RandomGenerator randomGenerator;\n@@ -52,7 +49,2 @@\n-    @Setup\n-    public void setup() {\n-        buffer = new long[SIZE];\n-        rngL128X128MixRandom = RandomGeneratorFactory.of(\"L128X128MixRandom\").create(42);\n-        rngL128X256MixRandom = RandomGeneratorFactory.of(\"L128X256MixRandom\").create(174);\n-        rngL128X1024MixRandom = RandomGeneratorFactory.of(\"L128X1024MixRandom\").create(308);\n-    }\n+    @Param({\"L128X128MixRandom\", \"L128X256MixRandom\", \"L128X1024MixRandom\"})\n+    String randomGeneratorName;\n@@ -60,9 +52,1 @@\n-    @Benchmark\n-    public long testL128X128MixRandomNextLong() {\n-        return rngL128X128MixRandom.nextLong();\n-    }\n-\n-    @Benchmark\n-    public long testL128X256MixRandomNextLong() {\n-        return rngL128X256MixRandom.nextLong();\n-    }\n+    public static long[] buffer;\n@@ -70,4 +54,2 @@\n-    @Benchmark\n-    public long testL128X1024MixRandomNextLong() {\n-        return rngL128X1024MixRandom.nextLong();\n-    }\n+    @Param(\"1024\")\n+    int size;\n@@ -75,4 +57,4 @@\n-    @Benchmark\n-    @Fork(1)\n-    public void testL128X128MixRandomNextLongLoop() {\n-        for (int i = 0; i < SIZE; i++) buffer[i] = rngL128X128MixRandom.nextLong();\n+    @Setup\n+    public void setup() {\n+        buffer = new long[size];\n+        randomGenerator = RandomGeneratorFactory.of(randomGeneratorName).create(randomGeneratorName.hashCode());\n@@ -82,3 +64,2 @@\n-    @Fork(1)\n-    public void testL128X256MixRandomNextLongLoop() {\n-        for (int i = 0; i < SIZE; i++) buffer[i] = rngL128X256MixRandom.nextLong();\n+    public long testNextLong() {\n+        return randomGenerator.nextLong();\n@@ -89,2 +70,2 @@\n-    public void testL128X1024MixRandomNextLongLoop() {\n-        for (int i = 0; i < SIZE; i++) buffer[i] = rngL128X1024MixRandom.nextLong();\n+    public void testFillBufferWithNextLong() {\n+        for (int i = 0; i < size; i++) buffer[i] = randomGenerator.nextLong();\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/util\/RandomGeneratorNext.java","additions":15,"deletions":34,"binary":false,"changes":49,"status":"modified"}]}