{"files":[{"patch":"@@ -8465,1 +8465,1 @@\n-instruct absI_rReg(rRegI dst, rRegI src, rRegI tmp, rFlagsReg cr)\n+instruct absI_rReg(rRegI dst, rRegI src, rFlagsReg cr)\n@@ -8468,13 +8468,8 @@\n-  effect(TEMP dst, TEMP tmp, KILL cr);\n-  format %{ \"movl $tmp, $src\\n\\t\"\n-            \"sarl $tmp, 31\\n\\t\"\n-            \"movl $dst, $src\\n\\t\"\n-            \"xorl $dst, $tmp\\n\\t\"\n-            \"subl $dst, $tmp\\n\"\n-          %}\n-  ins_encode %{\n-    __ movl($tmp$$Register, $src$$Register);\n-    __ sarl($tmp$$Register, 31);\n-    __ movl($dst$$Register, $src$$Register);\n-    __ xorl($dst$$Register, $tmp$$Register);\n-    __ subl($dst$$Register, $tmp$$Register);\n+  effect(TEMP dst, KILL cr);\n+  format %{ \"xorl    $dst, $dst\\n\\t\"\n+            \"subl    $dst, $src\\n\\t\"\n+            \"cmovllt $dst, $src\" %}\n+  ins_encode %{\n+    __ xorl($dst$$Register, $dst$$Register);\n+    __ subl($dst$$Register, $src$$Register);\n+    __ cmovl(Assembler::less, $dst$$Register, $src$$Register);\n@@ -8487,1 +8482,1 @@\n-instruct absL_rReg(rRegL dst, rRegL src, rRegL tmp, rFlagsReg cr)\n+instruct absL_rReg(rRegL dst, rRegL src, rFlagsReg cr)\n@@ -8490,13 +8485,8 @@\n-  effect(TEMP dst, TEMP tmp, KILL cr);\n-  format %{ \"movq $tmp, $src\\n\\t\"\n-            \"sarq $tmp, 63\\n\\t\"\n-            \"movq $dst, $src\\n\\t\"\n-            \"xorq $dst, $tmp\\n\\t\"\n-            \"subq $dst, $tmp\\n\"\n-          %}\n-  ins_encode %{\n-    __ movq($tmp$$Register, $src$$Register);\n-    __ sarq($tmp$$Register, 63);\n-    __ movq($dst$$Register, $src$$Register);\n-    __ xorq($dst$$Register, $tmp$$Register);\n-    __ subq($dst$$Register, $tmp$$Register);\n+  effect(TEMP dst, KILL cr);\n+  format %{ \"xorl    $dst, $dst\\n\\t\"\n+            \"subq    $dst, $src\\n\\t\"\n+            \"cmovqlt $dst, $src\" %}\n+  ins_encode %{\n+    __ xorl($dst$$Register, $dst$$Register);\n+    __ subq($dst$$Register, $src$$Register);\n+    __ cmovq(Assembler::less, $dst$$Register, $src$$Register);\n","filename":"src\/hotspot\/cpu\/x86\/x86_64.ad","additions":18,"deletions":28,"binary":false,"changes":46,"status":"modified"}]}