{"files":[{"patch":"@@ -687,0 +687,1 @@\n+    AC_MSG_CHECKING([if $1 is x86])\n@@ -688,2 +689,13 @@\n-      # Force compatibility with i586 on 32 bit intel platforms.\n-      $1_CFLAGS_CPU=\"-march=i586\"\n+      AC_MSG_RESULT([yes])\n+      AC_MSG_CHECKING([if control flow protection is enabled by additional compiler flags])\n+      if echo \"${EXTRA_CFLAGS}${EXTRA_CXXFLAGS}${EXTRA_ASFLAGS}\" | ${GREP} -q 'fcf-protection' ; then\n+        # cf-protection requires CMOV and thus i686\n+        $1_CFLAGS_CPU=\"-march=i686\"\n+        AC_MSG_RESULT([yes, forcing ${$1_CFLAGS_CPU}])\n+      else\n+        # Force compatibility with i586 on 32 bit intel platforms.\n+        $1_CFLAGS_CPU=\"-march=i586\"\n+        AC_MSG_RESULT([no, forcing ${$1_CFLAGS_CPU}])\n+      fi\n+    else\n+      AC_MSG_RESULT([no])\n","filename":"make\/autoconf\/flags-cflags.m4","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}