{"files":[{"patch":"@@ -94,5 +94,1 @@\n-                    || storetype.equalsIgnoreCase(\"Windows-ROOT\")\n-                    || storetype.equalsIgnoreCase(\"Windows-MY-CURRENTUSER\")\n-                    || storetype.equalsIgnoreCase(\"Windows-ROOT-CURRENTUSER\")\n-                    || storetype.equalsIgnoreCase(\"Windows-MY-LOCALMACHINE\")\n-                    || storetype.equalsIgnoreCase(\"Windows-ROOT-LOCALMACHINE\"));\n+                    || storetype.equalsIgnoreCase(\"Windows-ROOT\"));\n@@ -109,8 +105,0 @@\n-        } else if(storetype.equalsIgnoreCase(\"Windows-MY-CURRENTUSER\")) {\n-            return \"Windows-MY-CURRENTUSER\";\n-        } else if(storetype.equalsIgnoreCase(\"Windows-ROOT-CURRENTUSER\")) {\n-            return \"Windows-ROOT-CURRENTUSER\";\n-        } else if(storetype.equalsIgnoreCase(\"Windows-MY-LOCALMACHINE\")) {\n-            return \"Windows-MY-LOCALMACHINE\";\n-        } else if(storetype.equalsIgnoreCase(\"Windows-ROOT-LOCALMACHINE\")) {\n-            return \"Windows-ROOT-LOCALMACHINE\";\n","filename":"src\/java.base\/share\/classes\/sun\/security\/tools\/KeyStoreUtil.java","additions":1,"deletions":13,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-            super(\"MY\", \"CURRENTUSER\");\n+            super(\"MY\");\n@@ -65,13 +65,1 @@\n-            super(\"ROOT\", \"CURRENTUSER\");\n-        }\n-    }\n-\n-    public static final class MYLocalMachine extends CKeyStore {\n-        public MYLocalMachine() {\n-            super(\"MY\", \"LOCALMACHINE\");\n-        }\n-    }\n-\n-    public static final class ROOTLocalMachine extends CKeyStore {\n-        public ROOTLocalMachine() {\n-            super(\"ROOT\", \"LOCALMACHINE\");\n+            super(\"ROOT\");\n@@ -235,7 +223,1 @@\n-    \/*\n-     * The keystore location.\n-     * Case is not significant.\n-     *\/\n-    private final String storeLocation;\n-\n-    CKeyStore(String storeName, String storeLocation) {\n+    CKeyStore(String storeName) {\n@@ -254,1 +236,0 @@\n-        this.storeLocation = storeLocation;\n@@ -727,1 +708,1 @@\n-            loadKeysOrCertificateChains(getName(), getLocation());\n+            loadKeysOrCertificateChains(getName());\n@@ -850,7 +831,0 @@\n-    \/**\n-     * Returns the location of the keystore.\n-     *\/\n-    private String getLocation() {\n-        return storeLocation;\n-    }\n-\n@@ -861,1 +835,0 @@\n-     * @param location Location of keystore.\n@@ -863,2 +836,2 @@\n-    private native void loadKeysOrCertificateChains(String name,\n-        String location) throws KeyStoreException;\n+    private native void loadKeysOrCertificateChains(String name)\n+            throws KeyStoreException;\n","filename":"src\/jdk.crypto.mscapi\/windows\/classes\/sun\/security\/mscapi\/CKeyStore.java","additions":6,"deletions":33,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-                    if (algo.equals(\"Windows-MY\") || algo.equals(\"Windows-MY-CURRENTUSER\")) {\n+                    if (algo.equals(\"Windows-MY\")) {\n@@ -96,5 +96,1 @@\n-                    } else if (algo.equals(\"Windows-ROOT\") || algo.equals(\"Windows-ROOT-CURRENTUSER\")) {\n-                        return new CKeyStore.ROOT();\n-                    } else if (algo.equals(\"Windows-MY-LOCALMACHINE\")) {\n-                        return new CKeyStore.ROOT();\n-                    } else if (algo.equals(\"Windows-ROOT-LOCALMACHINE\")) {\n+                    } else if (algo.equals(\"Windows-ROOT\")) {\n@@ -172,2 +168,0 @@\n-                putService(new ProviderService(p, \"KeyStore\",\n-                            \"Windows-MY-CURRENTUSER\", \"sun.security.mscapi.CKeyStore$MY\"));\n@@ -176,6 +170,0 @@\n-                putService(new ProviderService(p, \"KeyStore\",\n-                            \"Windows-ROOT-CURRENTUSER\", \"sun.security.mscapi.CKeyStore$ROOT\"));\n-                putService(new ProviderService(p, \"KeyStore\",\n-                            \"Windows-MY-LOCALMACHINE\", \"sun.security.mscapi.CKeyStore$MYLocalMachine\"));\n-                putService(new ProviderService(p, \"KeyStore\",\n-                            \"Windows-ROOT-LOCALMACHINE\", \"sun.security.mscapi.CKeyStore$ROOTLocalMachine\"));\n","filename":"src\/jdk.crypto.mscapi\/windows\/classes\/sun\/security\/mscapi\/SunMSCAPI.java","additions":2,"deletions":14,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -389,1 +389,1 @@\n- * Signature: (Ljava\/lang\/String;Ljava\/lang\/String;)V\n+ * Signature: (Ljava\/lang\/String;)V\n@@ -392,1 +392,1 @@\n-  (JNIEnv *env, jobject obj, jstring jCertStoreName, jstring jCertStoreLocation)\n+  (JNIEnv *env, jobject obj, jstring jCertStoreName)\n@@ -405,1 +405,0 @@\n-    const char* pszCertStoreLocation = NULL;\n@@ -419,1 +418,1 @@\n-        if ((pszCertStoreLocation = env->GetStringUTFChars(jCertStoreLocation, NULL))\n+        if ((hCertStore = ::CertOpenSystemStore(NULL, pszCertStoreName))\n@@ -421,14 +420,0 @@\n-            __leave;\n-        }\n-\n-        if (strcmp(pszCertStoreLocation, \"LOCALMACHINE\") == 0)\n-        {\n-            hCertStore = ::CertOpenStore(CERT_STORE_PROV_SYSTEM_A, 0, NULL,\n-                CERT_SYSTEM_STORE_LOCAL_MACHINE, pszCertStoreName);\n-        }\n-        else\n-        {\n-            hCertStore = ::CertOpenSystemStore(NULL, pszCertStoreName);\n-        }\n-\n-        if (hCertStore == NULL) {\n@@ -487,1 +472,1 @@\n-            HCRYPTPROV_OR_NCRYPT_KEY_HANDLE hCryptProv = NULL;\n+            HCRYPTPROV hCryptProv = NULL;\n","filename":"src\/jdk.crypto.mscapi\/windows\/native\/libsunmscapi\/security.cpp","additions":4,"deletions":19,"binary":false,"changes":23,"status":"modified"}]}