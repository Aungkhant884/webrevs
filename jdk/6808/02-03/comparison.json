{"files":[{"patch":"@@ -43,1 +43,1 @@\n- * @bug 8274569 8278584\n+ * @bug 8274569\n@@ -49,1 +49,12 @@\n- * @run testng\/othervm -XX:-TieredCompilation -XX:CompileThreshold=100 -DcheckResult=true compiler.vectorapi.VectorMaskLoadStoreTest\n+ * @run testng\/othervm -XX:-TieredCompilation -XX:CompileThreshold=100 compiler.vectorapi.VectorMaskLoadStoreTest\n+ *\/\n+\n+\/**\n+ * @test\n+ * @bug 8278584\n+ * @library \/test\/lib\n+ * @summary Test the codegen for C2's VectorLongToMaskNode\n+ * @modules jdk.incubator.vector\n+ *\n+ * @run testng\/othervm -XX:-TieredCompilation -XX:CompileThreshold=100 -XX:+UnlockDiagnosticVMOptions\n+ *                     -XX:DisableIntrinsic=_VectorMaskOp compiler.vectorapi.VectorMaskLoadStoreTest\n@@ -56,1 +67,0 @@\n-    private static boolean checkResult = Boolean.parseBoolean(System.getProperty(\"checkResult\"));\n@@ -61,1 +71,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n@@ -67,1 +77,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n@@ -73,1 +83,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFFFFFL);\n@@ -79,1 +89,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & -1L);\n+        Assert.assertEquals(mask.toLong(), val & -1L);\n@@ -85,1 +95,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFL);\n@@ -91,1 +101,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n@@ -97,1 +107,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n@@ -103,1 +113,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFFFFFL);\n@@ -109,1 +119,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x3L);\n+        Assert.assertEquals(mask.toLong(), val & 0x3L);\n@@ -115,1 +125,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFL);\n@@ -121,1 +131,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n@@ -127,1 +137,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n@@ -133,1 +143,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x1L);\n+        Assert.assertEquals(mask.toLong(), val & 0x1L);\n@@ -139,1 +149,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x3L);\n+        Assert.assertEquals(mask.toLong(), val & 0x3L);\n@@ -145,1 +155,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFL);\n@@ -151,1 +161,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n@@ -157,1 +167,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x3L);\n+        Assert.assertEquals(mask.toLong(), val & 0x3L);\n@@ -163,1 +173,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFL);\n@@ -169,1 +179,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n@@ -175,1 +185,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFFFL);\n@@ -181,1 +191,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x1L);\n+        Assert.assertEquals(mask.toLong(), val & 0x1L);\n@@ -187,1 +197,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0x3L);\n+        Assert.assertEquals(mask.toLong(), val & 0x3L);\n@@ -193,1 +203,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFL);\n@@ -199,1 +209,1 @@\n-        if (checkResult) Assert.assertEquals(mask.toLong(), val & 0xFFL);\n+        Assert.assertEquals(mask.toLong(), val & 0xFFL);\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorMaskLoadStoreTest.java","additions":37,"deletions":27,"binary":false,"changes":64,"status":"modified"}]}