{"files":[{"patch":"@@ -1380,1 +1380,1 @@\n-  element_compare(a1, a2, result, cnt, tmp1, tmp2, v0, v2, v0, elem_size == 1, DONE);\n+  element_compare(a1, a2, result, cnt, tmp1, tmp2, v2, v4, v2, elem_size == 1, DONE);\n@@ -1390,1 +1390,1 @@\n-\/\/ base, cnt, v0, v1 and t0 are clobbered.\n+\/\/ base, cnt, v4, v5, v6, v7 and t0 are clobbered.\n@@ -1396,1 +1396,1 @@\n-  vxor_vv(v0, v0, v0);\n+  vxor_vv(v4, v4, v4);\n@@ -1400,1 +1400,1 @@\n-  vse64_v(v0, base);\n+  vse64_v(v4, base);\n@@ -1433,1 +1433,1 @@\n-  element_compare(a1, a2, result, cnt1, tmp1, tmp2, v0, v2, v0, elem_size == 1, DONE);\n+  element_compare(a1, a2, result, cnt1, tmp1, tmp2, v2, v4, v2, elem_size == 1, DONE);\n@@ -1469,1 +1469,1 @@\n-    element_compare(str1, str2, zr, cnt2, tmp1, tmp2, v2, v4, v1, encLL, DIFFERENCE);\n+    element_compare(str1, str2, zr, cnt2, tmp1, tmp2, v2, v4, v2, encLL, DIFFERENCE);\n@@ -1474,2 +1474,2 @@\n-    VectorRegister vstr1 = encLU ? v4 : v0;\n-    VectorRegister vstr2 = encLU ? v0 : v4;\n+    VectorRegister vstr1 = encLU ? v8 : v4;\n+    VectorRegister vstr2 = encLU ? v4 : v8;\n@@ -1483,2 +1483,2 @@\n-    vmsne_vv(v0, vstr2, vstr1);\n-    vfirst_m(tmp2, v0);\n+    vmsne_vv(v4, vstr2, vstr1);\n+    vfirst_m(tmp2, v4);\n@@ -1492,0 +1492,1 @@\n+\n@@ -1510,1 +1511,1 @@\n-  vle8_v(v2, src);\n+  vle8_v(v6, src);\n@@ -1512,2 +1513,2 @@\n-  vzext_vf2(v0, v2);\n-  vse16_v(v0, dst);\n+  vzext_vf2(v4, v6);\n+  vse16_v(v4, dst);\n@@ -1576,3 +1577,3 @@\n-  vle8_v(v0, ary);\n-  vmslt_vx(v0, v0, zr);\n-  vfirst_m(tmp, v0);\n+  vle8_v(v4, ary);\n+  vmslt_vx(v4, v4, zr);\n+  vfirst_m(tmp, v4);\n@@ -1606,3 +1607,3 @@\n-  vlex_v(v0, str1, sew);\n-  vmseq_vx(v0, v0, ch);\n-  vfirst_m(tmp2, v0);\n+  vlex_v(v4, str1, sew);\n+  vmseq_vx(v4, v4, ch);\n+  vfirst_m(tmp2, v4);\n","filename":"src\/hotspot\/cpu\/riscv\/c2_MacroAssembler_riscv.cpp","additions":20,"deletions":19,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -917,0 +917,20 @@\n+\/\/ class for vector register v8\n+reg_class v8_reg(\n+    V8, V8_H, V8_J, V8_K\n+);\n+\n+\/\/ class for vector register v9\n+reg_class v9_reg(\n+    V9, V9_H, V9_J, V9_K\n+);\n+\n+\/\/ class for vector register v10\n+reg_class v10_reg(\n+    V10, V10_H, V10_J, V10_K\n+);\n+\n+\/\/ class for vector register v11\n+reg_class v11_reg(\n+    V11, V11_H, V11_J, V11_K\n+);\n+\n@@ -3631,0 +3651,40 @@\n+operand vReg_V8()\n+%{\n+  constraint(ALLOC_IN_RC(v8_reg));\n+  match(VecA);\n+  match(vReg);\n+  op_cost(0);\n+  format %{ %}\n+  interface(REG_INTER);\n+%}\n+\n+operand vReg_V9()\n+%{\n+  constraint(ALLOC_IN_RC(v9_reg));\n+  match(VecA);\n+  match(vReg);\n+  op_cost(0);\n+  format %{ %}\n+  interface(REG_INTER);\n+%}\n+\n+operand vReg_V10()\n+%{\n+  constraint(ALLOC_IN_RC(v10_reg));\n+  match(VecA);\n+  match(vReg);\n+  op_cost(0);\n+  format %{ %}\n+  interface(REG_INTER);\n+%}\n+\n+operand vReg_V11()\n+%{\n+  constraint(ALLOC_IN_RC(v11_reg));\n+  match(VecA);\n+  match(vReg);\n+  op_cost(0);\n+  format %{ %}\n+  interface(REG_INTER);\n+%}\n+\n@@ -9943,1 +10003,1 @@\n-  match(Set result (StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -9961,1 +10021,1 @@\n-  match(Set result (StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -9978,1 +10038,1 @@\n-  match(Set result (StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -9996,1 +10056,1 @@\n-  match(Set result (StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":64,"deletions":4,"binary":false,"changes":68,"status":"modified"},{"patch":"@@ -3030,2 +3030,2 @@\n-                         iRegI_R10 result, vReg_V1 v1,\n-                         vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, rFlagsReg cr)\n+                         iRegI_R10 result, vReg_V2 v2,\n+                         vReg_V3 v3, vReg_V4 v4, vReg_V5 v5, rFlagsReg cr)\n@@ -3035,1 +3035,1 @@\n-  effect(USE_KILL str1, USE_KILL str2, USE_KILL cnt, TEMP v1, TEMP v2, TEMP v3, TEMP v0, KILL cr);\n+  effect(USE_KILL str1, USE_KILL str2, USE_KILL cnt, TEMP v2, TEMP v3, TEMP v4, TEMP v5, KILL cr);\n@@ -3047,2 +3047,2 @@\n-                         iRegI_R10 result, vReg_V1 v1,\n-                         vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, rFlagsReg cr)\n+                         iRegI_R10 result, vReg_V2 v2,\n+                         vReg_V3 v3, vReg_V4 v4, vReg_V5 v5, rFlagsReg cr)\n@@ -3052,1 +3052,1 @@\n-  effect(USE_KILL str1, USE_KILL str2, USE_KILL cnt, TEMP v1, TEMP v2, TEMP v3, TEMP v0, KILL cr);\n+  effect(USE_KILL str1, USE_KILL str2, USE_KILL cnt, TEMP v2, TEMP v3, TEMP v4, TEMP v5, KILL cr);\n@@ -3064,1 +3064,1 @@\n-                        vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, iRegP_R28 tmp, rFlagsReg cr)\n+                        vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5, iRegP_R28 tmp, rFlagsReg cr)\n@@ -3068,1 +3068,1 @@\n-  effect(KILL tmp, USE_KILL ary1, USE_KILL ary2, TEMP v1, TEMP v2, TEMP v3, TEMP v0, KILL cr);\n+  effect(KILL tmp, USE_KILL ary1, USE_KILL ary2, TEMP v2, TEMP v3, TEMP v4, TEMP v5, KILL cr);\n@@ -3079,1 +3079,1 @@\n-                        vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, iRegP_R28 tmp, rFlagsReg cr)\n+                        vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5, iRegP_R28 tmp, rFlagsReg cr)\n@@ -3083,1 +3083,1 @@\n-  effect(KILL tmp, USE_KILL ary1, USE_KILL ary2, TEMP v1, TEMP v2, TEMP v3, TEMP v0, KILL cr);\n+  effect(KILL tmp, USE_KILL ary1, USE_KILL ary2, TEMP v2, TEMP v3, TEMP v4, TEMP v5, KILL cr);\n@@ -3094,2 +3094,2 @@\n-                          iRegI_R10 result, vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5,\n-                          vRegMask_V0 v0, iRegP_R28 tmp1, iRegL_R29 tmp2)\n+                          iRegI_R10 result, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5,\n+                          iRegP_R28 tmp1, iRegL_R29 tmp2)\n@@ -3098,1 +3098,1 @@\n-  match(Set result(StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -3100,1 +3100,1 @@\n-         TEMP v1, TEMP v2, TEMP v3, TEMP v4, TEMP v5, TEMP v0);\n+         TEMP v2, TEMP v3, TEMP v4, TEMP v5);\n@@ -3113,2 +3113,2 @@\n-                          iRegI_R10 result, vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5,\n-                          vRegMask_V0 v0, iRegP_R28 tmp1, iRegL_R29 tmp2)\n+                          iRegI_R10 result, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4, vReg_V5 v5,\n+                          iRegP_R28 tmp1, iRegL_R29 tmp2)\n@@ -3117,1 +3117,1 @@\n-  match(Set result(StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -3119,1 +3119,1 @@\n-         TEMP v1, TEMP v2, TEMP v3, TEMP v4, TEMP v5, TEMP v0);\n+         TEMP v2, TEMP v3, TEMP v4, TEMP v5);\n@@ -3132,3 +3132,3 @@\n-                           iRegI_R10 result, vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4,\n-                           vReg_V5 v5, vReg_V6 v6, vReg_V7 v7,\n-                           vRegMask_V0 v0, iRegP_R28 tmp1, iRegL_R29 tmp2)\n+                           iRegI_R10 result, vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7,\n+                           vReg_V8 v8, vReg_V9 v9, vReg_V10 v10, vReg_V11 v11,\n+                           iRegP_R28 tmp1, iRegL_R29 tmp2)\n@@ -3137,1 +3137,1 @@\n-  match(Set result(StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -3139,1 +3139,1 @@\n-         TEMP v1, TEMP v2, TEMP v3, TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP v0);\n+         TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP v8, TEMP v9, TEMP v10, TEMP v11);\n@@ -3151,3 +3151,3 @@\n-                           iRegI_R10 result, vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vReg_V4 v4,\n-                           vReg_V5 v5, vReg_V6 v6, vReg_V7 v7,\n-                           vRegMask_V0 v0, iRegP_R28 tmp1, iRegL_R29 tmp2)\n+                           iRegI_R10 result, vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7,\n+                           vReg_V8 v8, vReg_V9 v9, vReg_V10 v10, vReg_V11 v11,\n+                           iRegP_R28 tmp1, iRegL_R29 tmp2)\n@@ -3156,1 +3156,1 @@\n-  match(Set result(StrComp(Binary str1 cnt1)(Binary str2 cnt2)));\n+  match(Set result (StrComp (Binary str1 cnt1) (Binary str2 cnt2)));\n@@ -3158,1 +3158,1 @@\n-         TEMP v1, TEMP v2, TEMP v3, TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP v0);\n+         TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP v8, TEMP v9, TEMP v10, TEMP v11);\n@@ -3172,1 +3172,1 @@\n-                         vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, iRegLNoSp tmp)\n+                         vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7, iRegLNoSp tmp)\n@@ -3176,1 +3176,1 @@\n-  effect(TEMP v1, TEMP v2, TEMP v3, TEMP v0, TEMP tmp, USE_KILL src, USE_KILL dst, USE_KILL len);\n+  effect(TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP tmp, USE_KILL src, USE_KILL dst, USE_KILL len);\n@@ -3199,1 +3199,1 @@\n-  ins_pipe( pipe_class_memory );\n+  ins_pipe(pipe_class_memory);\n@@ -3216,1 +3216,1 @@\n-  ins_pipe( pipe_slow );\n+  ins_pipe(pipe_class_memory);\n@@ -3220,1 +3220,1 @@\n-                          vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0, iRegLNoSp tmp)\n+                          vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7, iRegLNoSp tmp)\n@@ -3224,1 +3224,1 @@\n-  effect(TEMP_DEF result, USE_KILL ary, USE_KILL len, TEMP v1, TEMP v2, TEMP v3, TEMP tmp, TEMP v0);\n+  effect(TEMP_DEF result, USE_KILL ary, USE_KILL len, TEMP v4, TEMP v5, TEMP v6, TEMP v7, TEMP tmp);\n@@ -3231,1 +3231,1 @@\n-  ins_pipe(pipe_slow);\n+  ins_pipe(pipe_class_memory);\n@@ -3236,1 +3236,1 @@\n-                               vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0)\n+                               vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7)\n@@ -3241,1 +3241,1 @@\n-         TEMP tmp1, TEMP tmp2, TEMP v1, TEMP v2, TEMP v3, TEMP v0);\n+         TEMP tmp1, TEMP tmp2, TEMP v4, TEMP v5, TEMP v6, TEMP v7);\n@@ -3256,1 +3256,1 @@\n-                               vReg_V1 v1, vReg_V2 v2, vReg_V3 v3, vRegMask_V0 v0)\n+                               vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7)\n@@ -3261,1 +3261,1 @@\n-         TEMP tmp1, TEMP tmp2, TEMP v1, TEMP v2, TEMP v3, TEMP v0);\n+         TEMP tmp1, TEMP tmp2, TEMP v4, TEMP v5, TEMP v6, TEMP v7);\n@@ -3276,1 +3276,1 @@\n-                             vReg_V1 vReg1, vReg_V2 vReg2, vReg_V3 vReg3, vRegMask_V0 v0)\n+                             vReg_V4 v4, vReg_V5 v5, vReg_V6 v6, vReg_V7 v7)\n@@ -3280,1 +3280,1 @@\n-  effect(USE_KILL cnt, USE_KILL base, TEMP vReg1, TEMP vReg2, TEMP vReg3, TEMP v0);\n+  effect(USE_KILL cnt, USE_KILL base, TEMP v4, TEMP v5, TEMP v6, TEMP v7);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv_v.ad","additions":41,"deletions":41,"binary":false,"changes":82,"status":"modified"}]}