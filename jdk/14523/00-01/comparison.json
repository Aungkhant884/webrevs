{"files":[{"patch":"@@ -1506,0 +1506,2 @@\n+\n+  BUILD_HOTSPOT_JTREG_EXCLUDE += libNativeException.c\n","filename":"make\/test\/JtregNativeHotspot.gmk","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -288,1 +288,1 @@\n-LONG WINAPI Uncaugh_Exception_Handler(struct _EXCEPTION_POINTERS* exceptionInfo);\n+LONG WINAPI Uncaught_Exception_Handler(struct _EXCEPTION_POINTERS* exceptionInfo);\n@@ -402,1 +402,1 @@\n-  prev_uef_handler = SetUnhandledExceptionFilter(Uncaugh_Exception_Handler);\n+  prev_uef_handler = SetUnhandledExceptionFilter(Uncaught_Exception_Handler);\n@@ -2535,1 +2535,1 @@\n-LONG WINAPI Uncaugh_Exception_Handler(struct _EXCEPTION_POINTERS* exceptionInfo) {\n+LONG WINAPI Uncaught_Exception_Handler(struct _EXCEPTION_POINTERS* exceptionInfo) {\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -37,4 +37,0 @@\n-import java.lang.foreign.FunctionDescriptor;\n-import java.lang.foreign.Linker;\n-import java.lang.foreign.SymbolLookup;\n-import java.lang.invoke.MethodHandle;\n@@ -51,5 +47,1 @@\n-            MethodHandle mh = Linker.nativeLinker().downcallHandle(\n-                    SymbolLookup.loaderLookup().find(\"throw_exception\").orElseThrow(),\n-                    FunctionDescriptor.ofVoid());\n-\n-            mh.invokeExact(); \/\/ throws native exception\n+            throwException();\n@@ -57,0 +49,2 @@\n+\n+        static native void throwException();\n@@ -64,2 +58,0 @@\n-                \"--enable-preview\",\n-                \"--enable-native-access=ALL-UNNAMED\",\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/UncaughtNativeExceptionTest.java","additions":3,"deletions":11,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -24,2 +24,1 @@\n-#ifdef _WIN64\n-\/\/ Windows only\n+#include <jni.h>\n@@ -31,2 +30,2 @@\n-__declspec(dllexport) void throw_exception() {\n-    RaiseException(EX_CODE, EXCEPTION_NONCONTINUABLE, 0, NULL);\n+JNIEXPORT void JNICALL Java_UncaughtNativeExceptionTest_00024Crasher_throwException(JNIEnv* env, jclass cls) {\n+  RaiseException(EX_CODE, EXCEPTION_NONCONTINUABLE, 0, NULL);\n@@ -34,2 +33,0 @@\n-\n-#endif\n","filename":"test\/hotspot\/jtreg\/runtime\/ErrorHandling\/libNativeException.c","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"}]}