{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,0 +25,1 @@\n+import java.awt.Dimension;\n@@ -27,0 +28,1 @@\n+import java.awt.Rectangle;\n@@ -28,0 +30,4 @@\n+import java.awt.Toolkit;\n+import java.awt.image.BufferedImage;\n+import java.io.File;\n+import java.io.IOException;\n@@ -30,0 +36,2 @@\n+import javax.imageio.ImageIO;\n+\n@@ -61,0 +69,1 @@\n+            robot.waitForIdle();\n@@ -71,2 +80,2 @@\n-            Color pixel = robot.getPixelColor(p.x + frame.getWidth() \/ 2,\n-                                              p.y + frame.getHeight() \/ 2);\n+            p.translate(frame.getWidth() \/ 2, frame.getHeight() \/ 2);\n+            Color pixel = robot.getPixelColor(p.x, p.y);\n@@ -76,1 +85,2 @@\n-            if (attempt > 10) {\n+            frame.repaint();\n+            if (attempt > 11) {\n@@ -79,0 +89,10 @@\n+                System.err.println(\"Point: \" + p);\n+                Dimension screenSize =\n+                        Toolkit.getDefaultToolkit().getScreenSize();\n+                BufferedImage screen = robot.createScreenCapture(\n+                        new Rectangle(screenSize));\n+                try {\n+                    File output = new File(\"ScreenCapture.png\");\n+                    System.err.println(\"Dump screen to: \" + output);\n+                    ImageIO.write(screen, \"png\", output);\n+                } catch (IOException ex) {}\n","filename":"test\/jdk\/java\/awt\/Robot\/CheckCommonColors\/CheckCommonColors.java","additions":24,"deletions":4,"binary":false,"changes":28,"status":"modified"}]}