{"files":[{"patch":"@@ -26,2 +26,0 @@\n-#include \"memory\/allocation.hpp\"\n-#include \"memory\/resourceArea.hpp\"\n@@ -29,1 +27,1 @@\n-#include \"utilities\/defaultStream.hpp\"\n+#include \"utilities\/ostream.hpp\"\n@@ -32,0 +30,1 @@\n+#include <errno.h>\n@@ -47,1 +46,0 @@\n-    ResourceMark rm;\n@@ -52,2 +50,2 @@\n-    ASSERT_NE(sigaction(SIGFPE, &act, &old_SIGFPE_act), -1) << \"Setting SIGFPE handler failed\";\n-    ASSERT_NE(sigaction(SIGILL, &act, &old_SIGILL_act), -1) << \"Setting SIGILL handler failed\";\n+    ASSERT_NE(sigaction(SIGFPE, &act, &old_SIGFPE_act), -1) << \"Setting SIGFPE handler failed (errno)\";\n+    ASSERT_NE(sigaction(SIGILL, &act, &old_SIGILL_act), -1) << \"Setting SIGILL handler failed (errno)\";\n@@ -59,1 +57,1 @@\n-    char* res = st.as_string();\n+    char* res = (char *)st.base(); \/\/ res can't be const because some strstr()'s have non-const first args.\n@@ -62,2 +60,2 @@\n-    ASSERT_NE(sigaction(SIGFPE, &act, &old_SIGFPE_act), -1) << \"Restoring SIGFPE handler failed\";\n-    ASSERT_NE(sigaction(SIGILL, &act, &old_SIGILL_act), -1) << \"Restoring SIGILL handler failed\";\n+    ASSERT_NE(sigaction(SIGFPE, &act, &old_SIGFPE_act), -1) << \"Restoring SIGFPE handler failed (errno)\";\n+    ASSERT_NE(sigaction(SIGILL, &act, &old_SIGILL_act), -1) << \"Restoring SIGILL handler failed (errno)\";\n@@ -76,1 +74,1 @@\n-TEST_VM(PosixSignalTest, check_handlers) {\n+TEST_OTHER_VM(PosixSignalTest, check_handlers) {\n","filename":"test\/hotspot\/gtest\/runtime\/test_signals.cpp","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"}]}