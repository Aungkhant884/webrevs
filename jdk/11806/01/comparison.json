{"files":[{"patch":"@@ -99,5 +99,3 @@\n-    static long createTransform(\n-        LCMSProfile[] profiles, int renderingIntent,\n-        int inFormatter, boolean isInIntPacked,\n-        int outFormatter, boolean isOutIntPacked,\n-        Object disposerRef)\n+    static long createTransform(LCMSProfile[] profiles, int renderingIntent,\n+                                int inFormatter, int outFormatter,\n+                                Object disposerRef)\n@@ -116,1 +114,1 @@\n-                    isInIntPacked, outFormatter, isOutIntPacked, disposerRef);\n+                                         outFormatter, disposerRef);\n@@ -122,5 +120,5 @@\n-    private static native long createNativeTransform(\n-        long[] profileIDs, int renderingIntent,\n-        int inFormatter, boolean isInIntPacked,\n-        int outFormatter, boolean isOutIntPacked,\n-        Object disposerRef);\n+    private static native long createNativeTransform(long[] profileIDs,\n+                                                     int renderingIntent,\n+                                                     int inFormatter,\n+                                                     int outFormatter,\n+                                                     Object disposerRef);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMS.java","additions":9,"deletions":11,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import java.nio.ByteOrder;\n@@ -39,0 +40,2 @@\n+import static java.nio.ByteOrder.LITTLE_ENDIAN;\n+\n@@ -62,1 +65,2 @@\n-\n+    private static final int SWAP_ENDIAN =\n+            ByteOrder.nativeOrder() == LITTLE_ENDIAN ? DOSWAP : 0;\n@@ -67,1 +71,0 @@\n-    boolean isIntPacked = false;\n@@ -146,2 +149,1 @@\n-                l.pixelType = PT_ARGB_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ARGB_8 ^ SWAP_ENDIAN;\n@@ -150,2 +152,1 @@\n-                l.pixelType = PT_ARGB_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ARGB_8 ^ SWAP_ENDIAN;\n@@ -154,2 +155,1 @@\n-                l.pixelType = PT_ABGR_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ABGR_8 ^ SWAP_ENDIAN;\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMSImageLayout.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -56,1 +56,0 @@\n-        private boolean isInIntPacked;\n@@ -58,1 +57,0 @@\n-        private boolean isOutIntPacked;\n@@ -61,4 +59,1 @@\n-            return inFormatter == in.pixelType\n-                    && isInIntPacked == in.isIntPacked\n-                    && outFormatter == out.pixelType\n-                    && isOutIntPacked == out.isIntPacked;\n+            return inFormatter == in.pixelType && outFormatter == out.pixelType;\n@@ -118,2 +113,0 @@\n-                    tfm.isInIntPacked = in.isIntPacked;\n-\n@@ -121,2 +114,0 @@\n-                    tfm.isOutIntPacked = out.isIntPacked;\n-\n@@ -125,3 +116,1 @@\n-                                                  tfm.isInIntPacked,\n-                                                  tfm.outFormatter,\n-                                                  tfm.isOutIntPacked, tfm);\n+                                                  tfm.outFormatter, tfm);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMSTransform.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -145,2 +145,1 @@\n-   jint inFormatter, jboolean isInIntPacked,\n-   jint outFormatter, jboolean isOutIntPacked, jobject disposerRef)\n+   jint inFormatter, jint outFormatter, jobject disposerRef)\n@@ -161,10 +160,0 @@\n-#ifdef _LITTLE_ENDIAN\n-    \/* Reversing data packed into int for LE archs *\/\n-    if (isInIntPacked) {\n-        inFormatter ^= DOSWAP_SH(1);\n-    }\n-    if (isOutIntPacked) {\n-        outFormatter ^= DOSWAP_SH(1);\n-    }\n-#endif\n-\n","filename":"src\/java.desktop\/share\/native\/liblcms\/LCMS.c","additions":1,"deletions":12,"binary":false,"changes":13,"status":"modified"}]}