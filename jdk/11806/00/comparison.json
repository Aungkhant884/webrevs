{"files":[{"patch":"@@ -99,5 +99,3 @@\n-    static long createTransform(\n-        LCMSProfile[] profiles, int renderingIntent,\n-        int inFormatter, boolean isInIntPacked,\n-        int outFormatter, boolean isOutIntPacked,\n-        Object disposerRef)\n+    static long createTransform(LCMSProfile[] profiles, int renderingIntent,\n+                                int inFormatter, int outFormatter,\n+                                Object disposerRef)\n@@ -116,1 +114,1 @@\n-                    isInIntPacked, outFormatter, isOutIntPacked, disposerRef);\n+                                         outFormatter, disposerRef);\n@@ -122,5 +120,5 @@\n-    private static native long createNativeTransform(\n-        long[] profileIDs, int renderingIntent,\n-        int inFormatter, boolean isInIntPacked,\n-        int outFormatter, boolean isOutIntPacked,\n-        Object disposerRef);\n+    private static native long createNativeTransform(long[] profileIDs,\n+                                                     int renderingIntent,\n+                                                     int inFormatter,\n+                                                     int outFormatter,\n+                                                     Object disposerRef);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMS.java","additions":9,"deletions":11,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import java.nio.ByteOrder;\n@@ -38,0 +39,2 @@\n+import static java.nio.ByteOrder.LITTLE_ENDIAN;\n+\n@@ -69,0 +72,2 @@\n+    private static final int SWAP_ENDIAN =\n+            ByteOrder.nativeOrder() == LITTLE_ENDIAN ? DOSWAP : 0;\n@@ -73,1 +78,0 @@\n-    boolean isIntPacked = false;\n@@ -165,2 +169,1 @@\n-                l.pixelType = PT_ARGB_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ARGB_8 ^ SWAP_ENDIAN;\n@@ -169,2 +172,1 @@\n-                l.pixelType = PT_ARGB_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ARGB_8 ^ SWAP_ENDIAN;\n@@ -173,2 +175,1 @@\n-                l.pixelType = PT_ABGR_8;\n-                l.isIntPacked = true;\n+                l.pixelType = PT_ABGR_8 ^ SWAP_ENDIAN;\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMSImageLayout.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -59,1 +59,0 @@\n-        private boolean isInIntPacked;\n@@ -61,1 +60,0 @@\n-        private boolean isOutIntPacked;\n@@ -64,4 +62,1 @@\n-            return inFormatter == in.pixelType\n-                    && isInIntPacked == in.isIntPacked\n-                    && outFormatter == out.pixelType\n-                    && isOutIntPacked == out.isIntPacked;\n+            return inFormatter == in.pixelType && outFormatter == out.pixelType;\n@@ -121,2 +116,0 @@\n-                    tfm.isInIntPacked = in.isIntPacked;\n-\n@@ -124,2 +117,0 @@\n-                    tfm.isOutIntPacked = out.isIntPacked;\n-\n@@ -128,3 +119,1 @@\n-                                                  tfm.isInIntPacked,\n-                                                  tfm.outFormatter,\n-                                                  tfm.isOutIntPacked, tfm);\n+                                                  tfm.outFormatter, tfm);\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/cmm\/lcms\/LCMSTransform.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -145,2 +145,1 @@\n-   jint inFormatter, jboolean isInIntPacked,\n-   jint outFormatter, jboolean isOutIntPacked, jobject disposerRef)\n+   jint inFormatter, jint outFormatter, jobject disposerRef)\n@@ -161,10 +160,0 @@\n-#ifdef _LITTLE_ENDIAN\n-    \/* Reversing data packed into int for LE archs *\/\n-    if (isInIntPacked) {\n-        inFormatter ^= DOSWAP_SH(1);\n-    }\n-    if (isOutIntPacked) {\n-        outFormatter ^= DOSWAP_SH(1);\n-    }\n-#endif\n-\n","filename":"src\/java.desktop\/share\/native\/liblcms\/LCMS.c","additions":1,"deletions":12,"binary":false,"changes":13,"status":"modified"}]}