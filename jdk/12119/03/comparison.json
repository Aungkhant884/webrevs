{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -700,0 +700,5 @@\n+     *\n+     * @param  noShare\n+     *         {@code true} if the resulting string MUST NOT share the byte array,\n+     *         {@code false} if the byte array can be exclusively used to construct\n+     *         the string and is not modified or used for any other purpose.\n@@ -701,1 +706,1 @@\n-    static String newStringUTF8NoRepl(byte[] bytes, int offset, int length) {\n+    static String newStringUTF8NoRepl(byte[] bytes, int offset, int length, boolean noShare) {\n@@ -712,1 +717,5 @@\n-                return new String(Arrays.copyOfRange(bytes, offset, offset + length), LATIN1);\n+                if (noShare || length != bytes.length) {\n+                    return new String(Arrays.copyOfRange(bytes, offset, offset + length), LATIN1);\n+                } else {\n+                    return new String(bytes, LATIN1);\n+                }\n@@ -780,1 +789,1 @@\n-            return newStringUTF8NoRepl(src, 0, src.length);\n+            return newStringUTF8NoRepl(src, 0, src.length, false);\n@@ -802,0 +811,2 @@\n+            if (COMPACT_STRINGS)\n+                return new String(src, LATIN1);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/String.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2475,1 +2475,1 @@\n-                return String.newStringUTF8NoRepl(bytes, off, len);\n+                return String.newStringUTF8NoRepl(bytes, off, len, true);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}