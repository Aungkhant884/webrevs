{"files":[{"patch":"@@ -62,1 +62,2 @@\n-    private static final String TEST_CLASSES = System.getProperty(\"test.class.path\");\n+    private static final String TEST_CLASSPATH = System.getProperty(\"test.class.path\");\n+    private static final String TEST_CLASSES = System.getProperty(\"test.classes\");\n@@ -79,1 +80,1 @@\n-            { \"StateTest\", List.of(StateTest.class.getName()) },\n+            { \"StateTest\", List.of(StateTest.class.getName(), \"-Dtest.classes=\"+TEST_CLASSES)},\n@@ -88,1 +89,0 @@\n-\n@@ -91,0 +91,1 @@\n+                                                           \"-Dtest.classes=\" + TEST_CLASSES,\n@@ -97,0 +98,1 @@\n+                                                           \"-Dtest.classes=\" + TEST_CLASSES,\n@@ -118,1 +120,1 @@\n-        env.put(\"CLASSPATH\", TEST_CLASSES);\n+        env.put(\"CLASSPATH\", TEST_CLASSPATH);\n","filename":"test\/jdk\/java\/nio\/channels\/spi\/SelectorProvider\/inheritedChannel\/InheritedChannelTest.java","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -40,1 +40,3 @@\n-import java.io.*;\n+import java.io.IOException;\n+import java.io.FileOutputStream;\n+import java.io.PrintStream;\n@@ -48,0 +50,1 @@\n+import java.nio.file.Path;\n@@ -55,1 +58,1 @@\n-        println(\"check\");\n+        println(\"check \" + okay);\n@@ -61,0 +64,1 @@\n+    static String logDir;\n@@ -62,1 +66,1 @@\n-    static boolean inited = false;\n+    static boolean initialized = false;\n@@ -64,2 +68,3 @@\n-    static void init() {\n-        if (inited)\n+    \/\/ Opens named log file in ${test.classes}\n+    static void initLogFile() {\n+        if (initialized)\n@@ -67,0 +72,1 @@\n+\n@@ -68,1 +74,2 @@\n-            FileOutputStream f = new FileOutputStream(\"statetest.txt\", true);\n+            Path path = Path.of(logDir, \"statetest.txt\");\n+            FileOutputStream f = new FileOutputStream(path.toFile(), true);\n@@ -71,1 +78,1 @@\n-        inited = true;\n+        initialized = true;\n@@ -75,1 +82,1 @@\n-        init();\n+        initLogFile();\n@@ -96,0 +103,1 @@\n+            logDir = System.getProperty(\"test.classes\");\n","filename":"test\/jdk\/java\/nio\/channels\/spi\/SelectorProvider\/inheritedChannel\/StateTestService.java","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-\/\/ \n+\/\/\n@@ -11,1 +11,2 @@\n-    permission java.io.FilePermission \"statetest.txt\", \"read,write\";\n+    permission java.io.FilePermission \"${test.classes}${\/}statetest.txt\", \"read,write\";\n+    permission java.util.PropertyPermission \"test.classes\", \"read\";\n","filename":"test\/jdk\/java\/nio\/channels\/spi\/SelectorProvider\/inheritedChannel\/java.policy.fail","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-\/\/ \n+\/\/\n@@ -11,1 +11,2 @@\n-    permission java.io.FilePermission \"statetest.txt\", \"read,write\";\n+    permission java.io.FilePermission \"${test.classes}${\/}statetest.txt\", \"read,write,delete\";\n+    permission java.util.PropertyPermission \"test.classes\", \"read\";\n","filename":"test\/jdk\/java\/nio\/channels\/spi\/SelectorProvider\/inheritedChannel\/java.policy.pass","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}