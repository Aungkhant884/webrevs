{"files":[{"patch":"@@ -29,1 +29,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -34,8 +34,0 @@\n-\/*\n- * This test is just a sanity check and does not check for the correct\n- * value.  The correct value should be checked manually:\n- * Solaris\/Linux:\n- *   1. In a shell, as user who started java process, enter the command\n- *      \"limit -h descriptors\"\n- *\/\n-\n@@ -43,0 +35,1 @@\n+\n@@ -50,3 +43,1 @@\n-    \/\/ Careful with these values.\n-    \/\/ Min count for pass dynamically determined below.\n-    private static long       min_count_for_pass = 1;\n+    private static long       minCountForPass = 1;\n@@ -54,3 +45,1 @@\n-\n-    private static boolean trace = false;\n-\n+    \n@@ -58,3 +47,0 @@\n-        if (args.length > 0 && args[0].equals(\"trace\")) {\n-            trace = true;\n-        }\n@@ -62,3 +48,3 @@\n-        long min_count = mbean.getOpenFileDescriptorCount();\n-        if (min_count > 0) {\n-            min_count_for_pass = min_count;\n+        long minCount = mbean.getOpenFileDescriptorCount();\n+        if (minCount > 0) {\n+            minCountForPass = minCount;\n@@ -69,3 +55,1 @@\n-        if (trace) {\n-            System.out.println(\"Max file descriptor count: \" + count);\n-        }\n+        System.out.println(\"Max file descriptor count: \" + count);\n@@ -73,1 +57,1 @@\n-        if (count < min_count_for_pass || count > MAX_COUNT_FOR_PASS) {\n+        if (count < minCountForPass || count > MAX_COUNT_FOR_PASS) {\n@@ -76,1 +60,1 @@\n-                                       \"(MIN = \" + min_count_for_pass + \"; \" +\n+                                       \"(MIN = \" + minCountForPass + \"; \" +\n","filename":"test\/jdk\/com\/sun\/management\/UnixOperatingSystemMXBean\/GetMaxFileDescriptorCount.java","additions":10,"deletions":26,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- * @requires os.family == \"linux\"\n+ * @requires os.family != \"windows\"\n@@ -34,8 +34,0 @@\n-\/*\n- * This test is just a sanity check and does not check for the correct\n- * value.  The correct value should be checked manually:\n- * Solaris\/Linux:\n- *   1. Find the pid of the java process.\n- *   2. In a shell, enter the command: \"ls -1 \/proc\/<pid>\/fd | wc -l\"\n- *\/\n-\n@@ -48,1 +40,1 @@\n-        (UnixOperatingSystemMXBean)ManagementFactory.getOperatingSystemMXBean();\n+        (UnixOperatingSystemMXBean) ManagementFactory.getOperatingSystemMXBean();\n@@ -50,1 +42,0 @@\n-    \/\/ Careful with these values.\n@@ -52,4 +43,1 @@\n-    \/\/ Max count for pass dynamically determined below\n-    private static long       max_count_for_pass = Long.MAX_VALUE;\n-\n-    private static boolean trace = false;\n+    private static long       maxCountForPass = Long.MAX_VALUE;\n@@ -58,3 +46,0 @@\n-        if (args.length > 0 && args[0].equals(\"trace\")) {\n-            trace = true;\n-        }\n@@ -62,3 +47,3 @@\n-        long max_count = mbean.getMaxFileDescriptorCount();\n-        if (max_count > 0) {\n-            max_count_for_pass = max_count;\n+        long maxCount = mbean.getMaxFileDescriptorCount();\n+        if (maxCount > 0) {\n+            maxCountForPass = maxCount;\n@@ -69,3 +54,1 @@\n-        if (trace) {\n-            System.out.println(\"Open file descriptor count: \" + count);\n-        }\n+        System.out.println(\"Open file descriptor count: \" + count);\n@@ -73,1 +56,1 @@\n-        if (count < MIN_COUNT_FOR_PASS || count > max_count_for_pass) {\n+        if (count < MIN_COUNT_FOR_PASS || count > maxCountForPass) {\n@@ -77,1 +60,1 @@\n-                                       \"MAX = \" + max_count_for_pass + \")\");\n+                                       \"MAX = \" + maxCountForPass + \")\");\n","filename":"test\/jdk\/com\/sun\/management\/UnixOperatingSystemMXBean\/GetOpenFileDescriptorCount.java","additions":9,"deletions":26,"binary":false,"changes":35,"status":"modified"}]}