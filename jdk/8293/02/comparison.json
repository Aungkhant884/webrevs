{"files":[{"patch":"@@ -40,0 +40,1 @@\n+    private static JFrame frame;\n@@ -41,3 +42,11 @@\n-    public static void main(String[] args) throws InterruptedException {\n-        SwingUtilities.invokeLater(new Test8019180());\n-        LATCH.await();\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            SwingUtilities.invokeLater(new Test8019180());\n+            LATCH.await();\n+        } finally {\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (frame != null) {\n+                    frame.dispose();\n+                }\n+            });\n+        }\n@@ -50,14 +59,17 @@\n-        if (this.test == null) {\n-            this.test = new JComboBox<>(ITEMS);\n-            this.test.addActionListener(this.test);\n-            JFrame frame = new JFrame();\n-            frame.add(test);\n-            frame.pack();\n-            frame.setVisible(true);\n-            SwingUtilities.invokeLater(this);\n-        } else {\n-            int index = this.test.getSelectedIndex();\n-            this.test.setSelectedIndex(1 + index);\n-            if (0 > this.test.getSelectedIndex()) {\n-                System.err.println(\"ERROR: no selection\");\n-                System.exit(8019180);\n+        try {\n+            if (this.test == null) {\n+                this.test = new JComboBox<>(ITEMS);\n+                this.test.addActionListener(this.test);\n+                frame = new JFrame();\n+                frame.add(test);\n+                frame.setLocationRelativeTo(null);\n+                frame.pack();\n+                frame.setVisible(true);\n+                SwingUtilities.invokeLater(this);\n+            } else {\n+                int index = this.test.getSelectedIndex();\n+                this.test.setSelectedIndex(1 + index);\n+                if (0 > this.test.getSelectedIndex()) {\n+                    System.err.println(\"ERROR: no selection\");\n+                    throw new RuntimeException(\"Combobox not selected\");\n+                }\n@@ -65,1 +77,1 @@\n-            SwingUtilities.getWindowAncestor(this.test).dispose();\n+        } finally {\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/8019180\/Test8019180.java","additions":30,"deletions":18,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-        System.exit(1);\n+        throw new RuntimeException(throwable);\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/8013442\/Test8013442.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-        System.exit(1);\n+        throw new RuntimeException(throwable);\n","filename":"test\/jdk\/javax\/swing\/plaf\/basic\/BasicTabbedPaneUI\/Test6943780.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-        System.exit(1);\n+        throw new RuntimeException(exception);\n","filename":"test\/jdk\/javax\/swing\/plaf\/synth\/Test8015926.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-        System.exit(1);\n+        throw new RuntimeException(throwable);\n","filename":"test\/jdk\/javax\/swing\/text\/AbstractDocument\/6968363\/Test6968363.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-                System.exit(1);\n+                throw new RuntimeException(throwable);\n","filename":"test\/jdk\/javax\/swing\/text\/html\/parser\/Test8017492.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}