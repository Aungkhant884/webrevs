{"files":[{"patch":"@@ -540,3 +540,3 @@\n-instruct reduce_$1$2$3(vReg$3 dst, vReg$3 $4src, vec$5 vsrc) %{\n-  predicate(n->in(2)->bottom_type()->is_vect()->element_basic_type() == T_`'ifelse($3, F, FLOAT, DOUBLE));\n-  match(Set dst (ifelse($1, max, Max, Min)ReductionV $4src vsrc));\n+instruct reduce_$1$4$5(vReg$5 dst, vReg$5 $6src, vec$7 vsrc) %{\n+  predicate(n->in(2)->bottom_type()->is_vect()->element_basic_type() == T_`'ifelse($5, F, FLOAT, DOUBLE));\n+  match(Set dst (ifelse($1, max, Max, Min)ReductionV $6src vsrc));\n@@ -545,2 +545,2 @@\n-  format %{ \"ifelse($2, 2, f$1p, f$1v) $dst, ifelse($2, 2, $vsrc`, 'ifelse($3, F, S, D), ` T4S, $vsrc')\\n\\t\"\n-            \"f$1`'ifelse($3, F, s, d) $dst, $dst, $$4src\\t# $1 reduction$2$3\" %}\n+  format %{ \"$2 $dst, ifelse($4, 2, $vsrc`, 'ifelse($5, F, S, D), ` T4S, $vsrc')\\n\\t\"\n+            \"$3 $dst, $dst, $$6src\\t# $1 reduction$4$5\" %}\n@@ -548,2 +548,4 @@\n-    __ ifelse($2, 2, f$1p, f$1v)(as_FloatRegister($dst$$reg), ifelse($2, 4, `__ T4S, ')as_FloatRegister($vsrc$$reg)ifelse($2$3, 2F, `, __ S', $2$3, 2D, `, __ D'));\n-    __ f$1`'ifelse($3, F, s, d)(as_FloatRegister($dst$$reg), as_FloatRegister($dst$$reg), as_FloatRegister($$4src$$reg));\n+    __ $2(as_FloatRegister($dst$$reg), ifelse($4, 4, `__ T4S, as_FloatRegister($vsrc$$reg))',\n+                                              $4$5, 2F, `as_FloatRegister($vsrc$$reg), __ S)',\n+                                              $4$5, 2D, `as_FloatRegister($vsrc$$reg), __ D)');\n+    __ $3(as_FloatRegister($dst$$reg), as_FloatRegister($dst$$reg), as_FloatRegister($$6src$$reg));\n@@ -553,7 +555,7 @@\n-dnl                $1   $2 $3 $4 $5\n-REDUCE_MINMAX_FORD(max, 2, F, f, D)\n-REDUCE_MINMAX_FORD(max, 4, F, f, X)\n-REDUCE_MINMAX_FORD(max, 2, D, d, X)\n-REDUCE_MINMAX_FORD(min, 2, F, f, D)\n-REDUCE_MINMAX_FORD(min, 4, F, f, X)\n-REDUCE_MINMAX_FORD(min, 2, D, d, X)\n+dnl                $1   $2     $3     $4 $5 $6 $7\n+REDUCE_MINMAX_FORD(max, fmaxp, fmaxs, 2, F, f, D)\n+REDUCE_MINMAX_FORD(max, fmaxv, fmaxs, 4, F, f, X)\n+REDUCE_MINMAX_FORD(max, fmaxp, fmaxd, 2, D, d, X)\n+REDUCE_MINMAX_FORD(min, fminp, fmins, 2, F, f, D)\n+REDUCE_MINMAX_FORD(min, fminv, fmins, 4, F, f, X)\n+REDUCE_MINMAX_FORD(min, fminp, fmind, 2, D, d, X)\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_neon_ad.m4","additions":16,"deletions":14,"binary":false,"changes":30,"status":"modified"}]}