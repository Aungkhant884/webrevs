{"files":[{"patch":"@@ -160,1 +160,1 @@\n-    int           argi  = 1;             \/* index into old array *\/\n+    int           argi  = 0;             \/* index into old array *\/\n@@ -162,6 +162,1 @@\n-#ifdef __linux__\n-    const char* executable = \"\/proc\/self\/exe\";\n-#else\n-    const char* executable = argv[0];\n-#endif\n-\n+    int           error = 0;             \/* getJavaPath error *\/\n@@ -174,2 +169,11 @@\n-     * to our current position, which is in executable. *\/\n-    if (getJavaPath(executable, java, RELATIVE_DEPTH) != 0) {\n+     * to our current position, which is in argv[0]. *\/\n+    error = getJavaPath(argv[argi++], java, RELATIVE_DEPTH);\n+#ifdef __linux__\n+    \/* Try to read the symbolic link to the current binary\n+     * if the java path can not be resolved from argv[0]. *\/\n+    if (error != 0) {\n+        error = getJavaPath(\"\/proc\/self\/exe\", java, RELATIVE_DEPTH);\n+    }\n+#endif\n+\n+    if (error != 0) {\n","filename":"src\/java.base\/unix\/native\/launcher\/jexec.c","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"}]}