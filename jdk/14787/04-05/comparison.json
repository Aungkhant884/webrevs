{"files":[{"patch":"@@ -190,0 +190,7 @@\n+        } catch (RunImageLinkException re) {\n+            \/\/ might be thrown in the run-image link case. Populate the\n+            \/\/ actual reason.\n+            if (JlinkTask.DEBUG) {\n+                re.printStackTrace();\n+            }\n+            throw re.getReason();\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/ImageFileCreator.java","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -546,0 +546,5 @@\n+        \/\/ Print info message when a run-image link is being performed\n+        if (log != null && !config.useModulePath()) {\n+            log.println(\"'jmods' folder not present, performing a run-image based link.\");\n+        }\n+\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/JlinkTask.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    private static final String OTHER_RESOURCES_FILE = \"jmod_resources\";\n+    private static final String OTHER_RESOURCES_FILE = \"runimage_resources\";\n@@ -217,0 +217,1 @@\n+        private static final String MISMATCH_FORMAT = \"%s has been modified. Please double check!%s%n\";\n@@ -266,1 +267,0 @@\n-                            String msg = String.format(\"%s has been modified. Please double check!%n\", path.toString());\n@@ -268,0 +268,2 @@\n+                                String hint = \" You may force the link with '--unlock-run-image'.\";\n+                                String msg = String.format(MISMATCH_FORMAT, path.toString(), hint);\n@@ -271,0 +273,1 @@\n+                                String msg = String.format(MISMATCH_FORMAT, path.toString(), \"\");\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/RunImageArchive.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-public final class AddJmodResourcesPlugin extends AbstractPlugin {\n+public final class AddRunImageResourcesPlugin extends AbstractPlugin {\n@@ -60,1 +60,1 @@\n-    private static final String NAME = \"add-jmod-resources\";\n+    private static final String NAME = \"add-run-image-resources\";\n@@ -65,1 +65,1 @@\n-    private static final String RESPATH = \"\/%s\/jmod_resources\";\n+    private static final String RESPATH = \"\/%s\/runimage_resources\";\n@@ -82,1 +82,1 @@\n-    public AddJmodResourcesPlugin() {\n+    public AddRunImageResourcesPlugin() {\n@@ -168,2 +168,2 @@\n-            \/\/ getting the content(). Populate the actual reason.\n-            throw e.getReason();\n+            \/\/ getting the content(). Propagate this specific exeption.\n+            throw e;\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/plugins\/AddRunImageResourcesPlugin.java","additions":6,"deletions":6,"binary":false,"changes":12,"previous_filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/plugins\/AddJmodResourcesPlugin.java","status":"renamed"},{"patch":"@@ -210,2 +210,2 @@\n-add-jmod-resources.description=\\\n-Add a resource file for jmod-listings without jmods\n+add-run-image-resources.description=\\\n+Add a resource file that is later used for run image-based links\n@@ -213,3 +213,4 @@\n-add-jmod-resources.usage=\\\n-\\  --add-jmod-resources   Add a resource file, '\/<module-name>\/jmod_resources', listing\\\n-                          all resource files other than classes\/resources within it.\n+add-run-image-resources.usage=\\\n+\\  --add-run-image-resources   Add a resource file, ''\/<module-name>\/runimage_resources'', listing\\n\\\n+\\                              all resource files other than classes\/resources within it. This\\n\\\n+\\                              plugin is required for run-image-based links.\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/resources\/plugins.properties","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-        jdk.tools.jlink.internal.plugins.AddJmodResourcesPlugin,\n+        jdk.tools.jlink.internal.plugins.AddRunImageResourcesPlugin,\n","filename":"src\/jdk.jlink\/share\/classes\/module-info.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}