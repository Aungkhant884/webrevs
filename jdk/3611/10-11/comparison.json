{"files":[{"patch":"@@ -82,10 +82,0 @@\n-#define HANDLE_IF_HAS_EXCEPTION                                                                         \\\n-  if (HAS_PENDING_EXCEPTION) {                                                                          \\\n-    if (!PENDING_EXCEPTION->is_a(vmClasses::OutOfMemoryError_klass())) {                                \\\n-      log_error(cds)(\"%s: %s\", PENDING_EXCEPTION->klass()->external_name(),                             \\\n-                     java_lang_String::as_utf8_string(java_lang_Throwable::message(PENDING_EXCEPTION)));\\\n-      CLEAR_PENDING_EXCEPTION;                                                                          \\\n-    }                                                                                                   \\\n-    return;                                                                                             \\\n-  }\n-\n@@ -123,1 +113,13 @@\n-  HANDLE_IF_HAS_EXCEPTION;\n+  if (HAS_PENDING_EXCEPTION) {\n+    if (!PENDING_EXCEPTION->is_a(vmClasses::OutOfMemoryError_klass())) {\n+      log_error(cds)(\"%s: %s\", PENDING_EXCEPTION->klass()->external_name(),\n+                     java_lang_String::as_utf8_string(java_lang_Throwable::message(PENDING_EXCEPTION)));\n+      if (DumpSharedSpaces) {\n+        log_error(cds)(\"Failed to generate LambdaForm holder classes. Is your classlist out of date?\");\n+      } else {\n+        log_error(cds)(\"Failed to generate LambdaForm holder classes. Was the base archive generated with an outdated classlist?\");\n+      }\n+      CLEAR_PENDING_EXCEPTION;\n+    }\n+    return;\n+  }\n@@ -141,1 +143,0 @@\n-    HANDLE_IF_HAS_EXCEPTION;\n","filename":"src\/hotspot\/share\/cds\/lambdaFormInvokers.cpp","additions":13,"deletions":12,"binary":false,"changes":25,"status":"modified"}]}