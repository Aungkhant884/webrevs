{"files":[{"patch":"@@ -890,8 +890,10 @@\n-        final X11GraphicsDevice device = (X11GraphicsDevice) gc.getDevice();\n-        Insets insets = device.getInsets();\n-        if (insets == null) {\n-            synchronized (device) {\n-                insets = device.getInsets();\n-                if (insets == null) {\n-                    insets = getScreenInsetsImpl(gc);\n-                    device.setInsets(insets);\n+        final GraphicsDevice gd = gc.getDevice();\n+        if (gd instanceof X11GraphicsDevice x11Device) {\n+            Insets insets = x11Device.getInsets();\n+            if (insets == null) {\n+                synchronized (x11Device) {\n+                    insets = x11Device.getInsets();\n+                    if (insets == null) {\n+                        insets = getScreenInsetsImpl(gc);\n+                        x11Device.setInsets(insets);\n+                    }\n@@ -900,0 +902,3 @@\n+            return (Insets) insets.clone();\n+        } else {\n+            return super.getScreenInsets(gc);\n@@ -901,1 +906,0 @@\n-        return (Insets) insets.clone();\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XToolkit.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -462,1 +462,0 @@\n-java\/awt\/Toolkit\/GetScreenInsetsCustomGC\/GetScreenInsetsCustomGC.java 8308875 linux-x64\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}