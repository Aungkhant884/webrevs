{"files":[{"patch":"@@ -560,3 +560,5 @@\n-                \/\/ token wasn't a terminating one.  Special case: within braces,\n-                \/\/ comma can proceed semicolon, e.g. the values list in enum\n-                if (ct.kind.isStart() && !prevTK.isOkToTerminate() && prevTK != COMMA) {\n+                \/\/ token wasn't a terminating one.  Special cases:\n+                \/\/ -within braces, comma can procede semicolon, e.g. the values list in enum\n+                \/\/ -arrow can be followed by a throw, e.g. in a switch\/switch expression\n+                if (ct.kind.isStart() && !prevTK.isOkToTerminate() && prevTK != COMMA &&\n+                    !(prevTK == ARROW && ct.kind == THROW)) {\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/jshell\/CompletenessAnalyzer.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8149524 8131024 8165211 8080071 8130454 8167343 8129559 8114842 8182268 8223782 8235474 8246774\n+ * @bug 8149524 8131024 8165211 8080071 8130454 8167343 8129559 8114842 8182268 8223782 8235474 8246774 8276149\n@@ -226,0 +226,6 @@\n+        \/\/JDK-8276149:\n+        \"void t(int i) { int v = switch (i) { case 0 -> \",\n+        \"void t(int i) { int v = switch (i) { case 0 -> {\",\n+        \"void t(int i) { int v = switch (i) { case 0 -> a = b;\",\n+        \"void t(int i) { int v = switch (i) { case 0 -> System.err.println(1);\",\n+        \"void t(int i) { int v = switch (i) { case 0 -> throw new IllegalStateException();\",\n","filename":"test\/langtools\/jdk\/jshell\/CompletenessTest.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"}]}