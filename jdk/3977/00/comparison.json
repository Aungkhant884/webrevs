{"files":[{"patch":"@@ -329,0 +329,1 @@\n+                setPackageSymbols.scan(pd);\n@@ -392,0 +393,25 @@\n+        \/\/where:\n+        \/\/set package Symbols to the package expression:\n+        private final TreeScanner setPackageSymbols = new TreeScanner() {\n+            Symbol currentPackage;\n+\n+            @Override\n+            public void visitIdent(JCIdent tree) {\n+                tree.sym = currentPackage;\n+                tree.type = currentPackage.type;\n+            }\n+\n+            @Override\n+            public void visitSelect(JCFieldAccess tree) {\n+                tree.sym = currentPackage;\n+                tree.type = currentPackage.type;\n+                currentPackage = currentPackage.owner;\n+                super.visitSelect(tree);\n+            }\n+\n+            @Override\n+            public void visitPackageDef(JCPackageDecl tree) {\n+                currentPackage = tree.packge;\n+                scan(tree.pid);\n+            }\n+        };\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Enter.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8012929 8243074\n+ * @bug 8012929 8243074 8266281\n","filename":"test\/langtools\/tools\/javac\/api\/TestGetElementReference.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -24,2 +24,2 @@\n-package test;\n-\/*getElement:PACKAGE:test*\/\n+package test\/*getElement:PACKAGE:test*\/.nested\/*getElement:PACKAGE:test.nested*\/;\n+\/*getElement:PACKAGE:test.nested*\/\n@@ -27,1 +27,1 @@\n-import static test.TestGetElementReferenceData.Sub.*;\n+import static test.nested.TestGetElementReferenceData.Sub.*;\n@@ -36,2 +36,2 @@\n-        utility\/*getElement:METHOD:test.TestGetElementReferenceData.Base.utility()*\/();\n-        target(TestGetElementReferenceData :: test\/*getElement:METHOD:test.TestGetElementReferenceData.test()*\/);\n+        utility\/*getElement:METHOD:test.nested.TestGetElementReferenceData.Base.utility()*\/();\n+        target(TestGetElementReferenceData :: test\/*getElement:METHOD:test.nested.TestGetElementReferenceData.test()*\/);\n@@ -45,1 +45,1 @@\n-    public static class Sub extends @TypeAnnotation( \/*getElement:ANNOTATION_TYPE:test.TestGetElementReferenceData.TypeAnnotation*\/) Base {\n+    public static class Sub extends @TypeAnnotation( \/*getElement:ANNOTATION_TYPE:test.nested.TestGetElementReferenceData.TypeAnnotation*\/) Base {\n","filename":"test\/langtools\/tools\/javac\/api\/TestGetElementReferenceData.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8240658\n+ * @bug 8240658 8266281\n","filename":"test\/langtools\/tools\/javac\/api\/lambdaErrorRecovery\/TestGetTypeMirrorReference.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-package test;\n+package test\/*getTypeMirror:PACKAGE:test*\/;\n","filename":"test\/langtools\/tools\/javac\/api\/lambdaErrorRecovery\/TestGetTypeMirrorReferenceData.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}