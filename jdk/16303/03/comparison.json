{"files":[{"patch":"@@ -508,0 +508,9 @@\n+enum Ept { EPT_THREAD, EPT_PROCESS, EPT_PROCESS_DIE };\n+\/\/ Wrapper around _endthreadex(), exit() and _exit()\n+[[noreturn]]\n+static void exit_process_or_thread(Ept what, int code);\n+\n+\/\/ The handler passed to _beginthreadex().\n+\/\/ Called with the associated Thread* as the argument.\n+static unsigned __stdcall thread_native_entry(void*);\n+\n@@ -513,1 +522,1 @@\n-unsigned __stdcall os::win32::thread_native_entry(void* t) {\n+static unsigned __stdcall thread_native_entry(void* t) {\n@@ -561,1 +570,2 @@\n-  return (unsigned)os::win32::exit_process_or_thread(os::win32::EPT_THREAD, res);\n+  exit_process_or_thread(EPT_THREAD, res);\n+  return res;\n@@ -748,1 +758,1 @@\n-                             &os::win32::thread_native_entry,\n+                             &thread_native_entry,\n@@ -1213,1 +1223,1 @@\n-    win32::exit_process_or_thread(win32::EPT_PROCESS, 1);\n+    exit_process_or_thread(EPT_PROCESS, 1);\n@@ -1237,1 +1247,1 @@\n-  win32::exit_process_or_thread(win32::EPT_PROCESS, 1);\n+  exit_process_or_thread(EPT_PROCESS, 1);\n@@ -1242,1 +1252,1 @@\n-  win32::exit_process_or_thread(win32::EPT_PROCESS_DIE, -1);\n+  exit_process_or_thread(EPT_PROCESS_DIE, -1);\n@@ -4108,1 +4118,1 @@\n-int os::win32::exit_process_or_thread(Ept what, int exit_code) {\n+static void exit_process_or_thread(Ept what, int code) {\n@@ -4278,1 +4288,1 @@\n-    _endthreadex((unsigned)exit_code);\n+    _endthreadex((unsigned)code);\n@@ -4280,1 +4290,1 @@\n-    ALLOW_C_FUNCTION(::exit, ::exit(exit_code);)\n+    ALLOW_C_FUNCTION(::exit, ::exit(code);)\n@@ -4282,1 +4292,1 @@\n-    ALLOW_C_FUNCTION(::_exit, ::_exit(exit_code);)\n+    ALLOW_C_FUNCTION(::_exit, ::_exit(code);)\n@@ -4286,1 +4296,1 @@\n-  return exit_code;\n+  os::infinite_sleep();\n@@ -4864,1 +4874,1 @@\n-  win32::exit_process_or_thread(win32::EPT_PROCESS, num);\n+  exit_process_or_thread(EPT_PROCESS, num);\n@@ -4868,1 +4878,1 @@\n-  win32::exit_process_or_thread(win32::EPT_PROCESS_DIE, num);\n+  exit_process_or_thread(EPT_PROCESS_DIE, num);\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":23,"deletions":13,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -73,7 +73,0 @@\n-  \/\/ The handler passed to _beginthreadex().\n-  \/\/ Called with the associated Thread* as the argument.\n-  static unsigned __stdcall thread_native_entry(void*);\n-\n-  enum Ept { EPT_THREAD, EPT_PROCESS, EPT_PROCESS_DIE };\n-  \/\/ Wrapper around _endthreadex(), exit() and _exit()\n-  static int exit_process_or_thread(Ept what, int exit_code);\n","filename":"src\/hotspot\/os\/windows\/os_windows.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -71,3 +71,2 @@\n-  RaiseFailFastException(static_cast<PEXCEPTION_RECORD>(exrecord),\n-                         static_cast<PCONTEXT>(context),\n-                         flags);\n+  RaiseFailFastException(static_cast<PEXCEPTION_RECORD>(exrecord), static_cast<PCONTEXT>(context), flags);\n+  os::infinite_sleep();\n","filename":"src\/hotspot\/os\/windows\/vmError_windows.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -147,1 +147,1 @@\n-  WINDOWS_ONLY(ATTRIBUTE_NORETURN static void raise_fail_fast(void* exrecord, void* context);)\n+  WINDOWS_ONLY([[noreturn]] static void raise_fail_fast(void* exrecord, void* context);)\n","filename":"src\/hotspot\/share\/utilities\/vmError.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}