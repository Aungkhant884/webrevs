{"files":[{"patch":"@@ -761,1 +761,1 @@\n-  jint state;\n+  jint state = get_thread_state_base(thread_oop, jt);;\n@@ -764,4 +764,2 @@\n-    state = JVMTI_THREAD_STATE_ALIVE | JVMTI_THREAD_STATE_WAITING |\n-            JVMTI_THREAD_STATE_WAITING_INDEFINITELY;\n-  } else {\n-    state = get_thread_state_base(thread_oop, jt);\n+    state &= ~JVMTI_THREAD_STATE_RUNNABLE; \n+    state |= JVMTI_THREAD_STATE_WAITING | JVMTI_THREAD_STATE_WAITING_INDEFINITELY;\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"}]}