{"files":[{"patch":"@@ -3534,3 +3534,7 @@\n-  void *p = mmap(NULL, page_size, PROT_READ|PROT_WRITE,\n-                 MAP_ANONYMOUS|MAP_PRIVATE|MAP_HUGETLB,\n-                 -1, 0);\n+\n+  int flags = MAP_ANONYMOUS | MAP_PRIVATE | MAP_HUGETLB;\n+  if (page_size != default_large_page_size()) {\n+    flags |= (exact_log2(page_size) << MAP_HUGE_SHIFT);\n+  }\n+\n+  void *p = mmap(NULL, page_size, PROT_READ|PROT_WRITE, flags, -1, 0);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}