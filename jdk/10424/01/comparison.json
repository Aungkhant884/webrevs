{"files":[{"patch":"@@ -1962,5 +1962,6 @@\n-        HandshakeClosure(\"GetStackTraceClosure\"), _java_thread(java_thread), _depth(0), _retry_handshake(false) {\n-      \/\/ Pick some initial length\n-      int init_length = MaxJavaStackTraceDepth \/ 2;\n-      _methods = new GrowableArray<Method*>(init_length);\n-      _bcis = new GrowableArray<int>(init_length);\n+        HandshakeClosure(\"GetStackTraceClosure\"), _java_thread(java_thread), _depth(0), _retry_handshake(false),\n+        _methods(nullptr), _bcis(nullptr) {\n+    }\n+    ~GetStackTraceClosure() {\n+      delete _methods;\n+      delete _bcis;\n@@ -2003,0 +2004,5 @@\n+      \/\/ Pick minimum length that will cover most cases\n+      int init_length = 64;\n+      _methods = new (ResourceObj::C_HEAP, mtInternal) GrowableArray<Method*>(init_length, mtInternal);\n+      _bcis = new (ResourceObj::C_HEAP, mtInternal) GrowableArray<int>(init_length, mtInternal);\n+\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"}]}