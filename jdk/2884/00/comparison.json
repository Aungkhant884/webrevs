{"files":[{"patch":"@@ -975,6 +975,9 @@\n-  Klass* klass = SystemDictionary::resolve_or_null(vmSymbols::jdk_internal_vm_PostVMInitHook(), THREAD);\n-  if (klass != NULL) {\n-    JavaValue result(T_VOID);\n-    JavaCalls::call_static(&result, klass, vmSymbols::run_method_name(),\n-                           vmSymbols::void_method_signature(),\n-                           CHECK);\n+  \/\/ Java code can interfere with running gtests.\n+  if (!ExecutingUnitTests) {\n+    Klass* klass = SystemDictionary::resolve_or_null(vmSymbols::jdk_internal_vm_PostVMInitHook(), THREAD);\n+    if (klass != NULL) {\n+      JavaValue result(T_VOID);\n+      JavaCalls::call_static(&result, klass, vmSymbols::run_method_name(),\n+                             vmSymbols::void_method_signature(),\n+                             CHECK);\n+    }\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"}]}