{"files":[{"patch":"@@ -0,0 +1,1054 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8144992\n+ * @requires vm.jvmti\n+ * @run main\/othervm\/native -agentlib:TestManyBreakpoints\n+ *                          -Xlog:gc+metaspace\n+ *                          -Xint\n+ *                          -XX:MetaspaceSize=16K -XX:MaxMetaspaceSize=64M\n+ *                          serviceability.jvmti.SetBreakpoint.TestManyBreakpoints\n+ *\/\n+\n+package serviceability.jvmti.SetBreakpoint;\n+\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+\n+public class TestManyBreakpoints {\n+\n+  public static void main(String[] args) throws Exception {\n+    URL url = TestManyBreakpoints.class.getProtectionDomain().getCodeSource().getLocation();\n+    for (int c = 0; c < 50; c++) {\n+      System.out.println(\"Batch \" + c);\n+      URLClassLoader loader = new URLClassLoader(new URL[] {url}, null);\n+      Class.forName(Target.class.getName(), true, loader);\n+    }\n+  }\n+\n+  static class Target {\n+    void m1() {}\n+    void m2() {}\n+    void m3() {}\n+    void m4() {}\n+    void m5() {}\n+    void m6() {}\n+    void m7() {}\n+    void m8() {}\n+    void m9() {}\n+    void m10() {}\n+    void m11() {}\n+    void m12() {}\n+    void m13() {}\n+    void m14() {}\n+    void m15() {}\n+    void m16() {}\n+    void m17() {}\n+    void m18() {}\n+    void m19() {}\n+    void m20() {}\n+    void m21() {}\n+    void m22() {}\n+    void m23() {}\n+    void m24() {}\n+    void m25() {}\n+    void m26() {}\n+    void m27() {}\n+    void m28() {}\n+    void m29() {}\n+    void m30() {}\n+    void m31() {}\n+    void m32() {}\n+    void m33() {}\n+    void m34() {}\n+    void m35() {}\n+    void m36() {}\n+    void m37() {}\n+    void m38() {}\n+    void m39() {}\n+    void m40() {}\n+    void m41() {}\n+    void m42() {}\n+    void m43() {}\n+    void m44() {}\n+    void m45() {}\n+    void m46() {}\n+    void m47() {}\n+    void m48() {}\n+    void m49() {}\n+    void m50() {}\n+    void m51() {}\n+    void m52() {}\n+    void m53() {}\n+    void m54() {}\n+    void m55() {}\n+    void m56() {}\n+    void m57() {}\n+    void m58() {}\n+    void m59() {}\n+    void m60() {}\n+    void m61() {}\n+    void m62() {}\n+    void m63() {}\n+    void m64() {}\n+    void m65() {}\n+    void m66() {}\n+    void m67() {}\n+    void m68() {}\n+    void m69() {}\n+    void m70() {}\n+    void m71() {}\n+    void m72() {}\n+    void m73() {}\n+    void m74() {}\n+    void m75() {}\n+    void m76() {}\n+    void m77() {}\n+    void m78() {}\n+    void m79() {}\n+    void m80() {}\n+    void m81() {}\n+    void m82() {}\n+    void m83() {}\n+    void m84() {}\n+    void m85() {}\n+    void m86() {}\n+    void m87() {}\n+    void m88() {}\n+    void m89() {}\n+    void m90() {}\n+    void m91() {}\n+    void m92() {}\n+    void m93() {}\n+    void m94() {}\n+    void m95() {}\n+    void m96() {}\n+    void m97() {}\n+    void m98() {}\n+    void m99() {}\n+    void m100() {}\n+    void m101() {}\n+    void m102() {}\n+    void m103() {}\n+    void m104() {}\n+    void m105() {}\n+    void m106() {}\n+    void m107() {}\n+    void m108() {}\n+    void m109() {}\n+    void m110() {}\n+    void m111() {}\n+    void m112() {}\n+    void m113() {}\n+    void m114() {}\n+    void m115() {}\n+    void m116() {}\n+    void m117() {}\n+    void m118() {}\n+    void m119() {}\n+    void m120() {}\n+    void m121() {}\n+    void m122() {}\n+    void m123() {}\n+    void m124() {}\n+    void m125() {}\n+    void m126() {}\n+    void m127() {}\n+    void m128() {}\n+    void m129() {}\n+    void m130() {}\n+    void m131() {}\n+    void m132() {}\n+    void m133() {}\n+    void m134() {}\n+    void m135() {}\n+    void m136() {}\n+    void m137() {}\n+    void m138() {}\n+    void m139() {}\n+    void m140() {}\n+    void m141() {}\n+    void m142() {}\n+    void m143() {}\n+    void m144() {}\n+    void m145() {}\n+    void m146() {}\n+    void m147() {}\n+    void m148() {}\n+    void m149() {}\n+    void m150() {}\n+    void m151() {}\n+    void m152() {}\n+    void m153() {}\n+    void m154() {}\n+    void m155() {}\n+    void m156() {}\n+    void m157() {}\n+    void m158() {}\n+    void m159() {}\n+    void m160() {}\n+    void m161() {}\n+    void m162() {}\n+    void m163() {}\n+    void m164() {}\n+    void m165() {}\n+    void m166() {}\n+    void m167() {}\n+    void m168() {}\n+    void m169() {}\n+    void m170() {}\n+    void m171() {}\n+    void m172() {}\n+    void m173() {}\n+    void m174() {}\n+    void m175() {}\n+    void m176() {}\n+    void m177() {}\n+    void m178() {}\n+    void m179() {}\n+    void m180() {}\n+    void m181() {}\n+    void m182() {}\n+    void m183() {}\n+    void m184() {}\n+    void m185() {}\n+    void m186() {}\n+    void m187() {}\n+    void m188() {}\n+    void m189() {}\n+    void m190() {}\n+    void m191() {}\n+    void m192() {}\n+    void m193() {}\n+    void m194() {}\n+    void m195() {}\n+    void m196() {}\n+    void m197() {}\n+    void m198() {}\n+    void m199() {}\n+    void m200() {}\n+    void m201() {}\n+    void m202() {}\n+    void m203() {}\n+    void m204() {}\n+    void m205() {}\n+    void m206() {}\n+    void m207() {}\n+    void m208() {}\n+    void m209() {}\n+    void m210() {}\n+    void m211() {}\n+    void m212() {}\n+    void m213() {}\n+    void m214() {}\n+    void m215() {}\n+    void m216() {}\n+    void m217() {}\n+    void m218() {}\n+    void m219() {}\n+    void m220() {}\n+    void m221() {}\n+    void m222() {}\n+    void m223() {}\n+    void m224() {}\n+    void m225() {}\n+    void m226() {}\n+    void m227() {}\n+    void m228() {}\n+    void m229() {}\n+    void m230() {}\n+    void m231() {}\n+    void m232() {}\n+    void m233() {}\n+    void m234() {}\n+    void m235() {}\n+    void m236() {}\n+    void m237() {}\n+    void m238() {}\n+    void m239() {}\n+    void m240() {}\n+    void m241() {}\n+    void m242() {}\n+    void m243() {}\n+    void m244() {}\n+    void m245() {}\n+    void m246() {}\n+    void m247() {}\n+    void m248() {}\n+    void m249() {}\n+    void m250() {}\n+    void m251() {}\n+    void m252() {}\n+    void m253() {}\n+    void m254() {}\n+    void m255() {}\n+    void m256() {}\n+    void m257() {}\n+    void m258() {}\n+    void m259() {}\n+    void m260() {}\n+    void m261() {}\n+    void m262() {}\n+    void m263() {}\n+    void m264() {}\n+    void m265() {}\n+    void m266() {}\n+    void m267() {}\n+    void m268() {}\n+    void m269() {}\n+    void m270() {}\n+    void m271() {}\n+    void m272() {}\n+    void m273() {}\n+    void m274() {}\n+    void m275() {}\n+    void m276() {}\n+    void m277() {}\n+    void m278() {}\n+    void m279() {}\n+    void m280() {}\n+    void m281() {}\n+    void m282() {}\n+    void m283() {}\n+    void m284() {}\n+    void m285() {}\n+    void m286() {}\n+    void m287() {}\n+    void m288() {}\n+    void m289() {}\n+    void m290() {}\n+    void m291() {}\n+    void m292() {}\n+    void m293() {}\n+    void m294() {}\n+    void m295() {}\n+    void m296() {}\n+    void m297() {}\n+    void m298() {}\n+    void m299() {}\n+    void m300() {}\n+    void m301() {}\n+    void m302() {}\n+    void m303() {}\n+    void m304() {}\n+    void m305() {}\n+    void m306() {}\n+    void m307() {}\n+    void m308() {}\n+    void m309() {}\n+    void m310() {}\n+    void m311() {}\n+    void m312() {}\n+    void m313() {}\n+    void m314() {}\n+    void m315() {}\n+    void m316() {}\n+    void m317() {}\n+    void m318() {}\n+    void m319() {}\n+    void m320() {}\n+    void m321() {}\n+    void m322() {}\n+    void m323() {}\n+    void m324() {}\n+    void m325() {}\n+    void m326() {}\n+    void m327() {}\n+    void m328() {}\n+    void m329() {}\n+    void m330() {}\n+    void m331() {}\n+    void m332() {}\n+    void m333() {}\n+    void m334() {}\n+    void m335() {}\n+    void m336() {}\n+    void m337() {}\n+    void m338() {}\n+    void m339() {}\n+    void m340() {}\n+    void m341() {}\n+    void m342() {}\n+    void m343() {}\n+    void m344() {}\n+    void m345() {}\n+    void m346() {}\n+    void m347() {}\n+    void m348() {}\n+    void m349() {}\n+    void m350() {}\n+    void m351() {}\n+    void m352() {}\n+    void m353() {}\n+    void m354() {}\n+    void m355() {}\n+    void m356() {}\n+    void m357() {}\n+    void m358() {}\n+    void m359() {}\n+    void m360() {}\n+    void m361() {}\n+    void m362() {}\n+    void m363() {}\n+    void m364() {}\n+    void m365() {}\n+    void m366() {}\n+    void m367() {}\n+    void m368() {}\n+    void m369() {}\n+    void m370() {}\n+    void m371() {}\n+    void m372() {}\n+    void m373() {}\n+    void m374() {}\n+    void m375() {}\n+    void m376() {}\n+    void m377() {}\n+    void m378() {}\n+    void m379() {}\n+    void m380() {}\n+    void m381() {}\n+    void m382() {}\n+    void m383() {}\n+    void m384() {}\n+    void m385() {}\n+    void m386() {}\n+    void m387() {}\n+    void m388() {}\n+    void m389() {}\n+    void m390() {}\n+    void m391() {}\n+    void m392() {}\n+    void m393() {}\n+    void m394() {}\n+    void m395() {}\n+    void m396() {}\n+    void m397() {}\n+    void m398() {}\n+    void m399() {}\n+    void m400() {}\n+    void m401() {}\n+    void m402() {}\n+    void m403() {}\n+    void m404() {}\n+    void m405() {}\n+    void m406() {}\n+    void m407() {}\n+    void m408() {}\n+    void m409() {}\n+    void m410() {}\n+    void m411() {}\n+    void m412() {}\n+    void m413() {}\n+    void m414() {}\n+    void m415() {}\n+    void m416() {}\n+    void m417() {}\n+    void m418() {}\n+    void m419() {}\n+    void m420() {}\n+    void m421() {}\n+    void m422() {}\n+    void m423() {}\n+    void m424() {}\n+    void m425() {}\n+    void m426() {}\n+    void m427() {}\n+    void m428() {}\n+    void m429() {}\n+    void m430() {}\n+    void m431() {}\n+    void m432() {}\n+    void m433() {}\n+    void m434() {}\n+    void m435() {}\n+    void m436() {}\n+    void m437() {}\n+    void m438() {}\n+    void m439() {}\n+    void m440() {}\n+    void m441() {}\n+    void m442() {}\n+    void m443() {}\n+    void m444() {}\n+    void m445() {}\n+    void m446() {}\n+    void m447() {}\n+    void m448() {}\n+    void m449() {}\n+    void m450() {}\n+    void m451() {}\n+    void m452() {}\n+    void m453() {}\n+    void m454() {}\n+    void m455() {}\n+    void m456() {}\n+    void m457() {}\n+    void m458() {}\n+    void m459() {}\n+    void m460() {}\n+    void m461() {}\n+    void m462() {}\n+    void m463() {}\n+    void m464() {}\n+    void m465() {}\n+    void m466() {}\n+    void m467() {}\n+    void m468() {}\n+    void m469() {}\n+    void m470() {}\n+    void m471() {}\n+    void m472() {}\n+    void m473() {}\n+    void m474() {}\n+    void m475() {}\n+    void m476() {}\n+    void m477() {}\n+    void m478() {}\n+    void m479() {}\n+    void m480() {}\n+    void m481() {}\n+    void m482() {}\n+    void m483() {}\n+    void m484() {}\n+    void m485() {}\n+    void m486() {}\n+    void m487() {}\n+    void m488() {}\n+    void m489() {}\n+    void m490() {}\n+    void m491() {}\n+    void m492() {}\n+    void m493() {}\n+    void m494() {}\n+    void m495() {}\n+    void m496() {}\n+    void m497() {}\n+    void m498() {}\n+    void m499() {}\n+    void m500() {}\n+    void m501() {}\n+    void m502() {}\n+    void m503() {}\n+    void m504() {}\n+    void m505() {}\n+    void m506() {}\n+    void m507() {}\n+    void m508() {}\n+    void m509() {}\n+    void m510() {}\n+    void m511() {}\n+    void m512() {}\n+    void m513() {}\n+    void m514() {}\n+    void m515() {}\n+    void m516() {}\n+    void m517() {}\n+    void m518() {}\n+    void m519() {}\n+    void m520() {}\n+    void m521() {}\n+    void m522() {}\n+    void m523() {}\n+    void m524() {}\n+    void m525() {}\n+    void m526() {}\n+    void m527() {}\n+    void m528() {}\n+    void m529() {}\n+    void m530() {}\n+    void m531() {}\n+    void m532() {}\n+    void m533() {}\n+    void m534() {}\n+    void m535() {}\n+    void m536() {}\n+    void m537() {}\n+    void m538() {}\n+    void m539() {}\n+    void m540() {}\n+    void m541() {}\n+    void m542() {}\n+    void m543() {}\n+    void m544() {}\n+    void m545() {}\n+    void m546() {}\n+    void m547() {}\n+    void m548() {}\n+    void m549() {}\n+    void m550() {}\n+    void m551() {}\n+    void m552() {}\n+    void m553() {}\n+    void m554() {}\n+    void m555() {}\n+    void m556() {}\n+    void m557() {}\n+    void m558() {}\n+    void m559() {}\n+    void m560() {}\n+    void m561() {}\n+    void m562() {}\n+    void m563() {}\n+    void m564() {}\n+    void m565() {}\n+    void m566() {}\n+    void m567() {}\n+    void m568() {}\n+    void m569() {}\n+    void m570() {}\n+    void m571() {}\n+    void m572() {}\n+    void m573() {}\n+    void m574() {}\n+    void m575() {}\n+    void m576() {}\n+    void m577() {}\n+    void m578() {}\n+    void m579() {}\n+    void m580() {}\n+    void m581() {}\n+    void m582() {}\n+    void m583() {}\n+    void m584() {}\n+    void m585() {}\n+    void m586() {}\n+    void m587() {}\n+    void m588() {}\n+    void m589() {}\n+    void m590() {}\n+    void m591() {}\n+    void m592() {}\n+    void m593() {}\n+    void m594() {}\n+    void m595() {}\n+    void m596() {}\n+    void m597() {}\n+    void m598() {}\n+    void m599() {}\n+    void m600() {}\n+    void m601() {}\n+    void m602() {}\n+    void m603() {}\n+    void m604() {}\n+    void m605() {}\n+    void m606() {}\n+    void m607() {}\n+    void m608() {}\n+    void m609() {}\n+    void m610() {}\n+    void m611() {}\n+    void m612() {}\n+    void m613() {}\n+    void m614() {}\n+    void m615() {}\n+    void m616() {}\n+    void m617() {}\n+    void m618() {}\n+    void m619() {}\n+    void m620() {}\n+    void m621() {}\n+    void m622() {}\n+    void m623() {}\n+    void m624() {}\n+    void m625() {}\n+    void m626() {}\n+    void m627() {}\n+    void m628() {}\n+    void m629() {}\n+    void m630() {}\n+    void m631() {}\n+    void m632() {}\n+    void m633() {}\n+    void m634() {}\n+    void m635() {}\n+    void m636() {}\n+    void m637() {}\n+    void m638() {}\n+    void m639() {}\n+    void m640() {}\n+    void m641() {}\n+    void m642() {}\n+    void m643() {}\n+    void m644() {}\n+    void m645() {}\n+    void m646() {}\n+    void m647() {}\n+    void m648() {}\n+    void m649() {}\n+    void m650() {}\n+    void m651() {}\n+    void m652() {}\n+    void m653() {}\n+    void m654() {}\n+    void m655() {}\n+    void m656() {}\n+    void m657() {}\n+    void m658() {}\n+    void m659() {}\n+    void m660() {}\n+    void m661() {}\n+    void m662() {}\n+    void m663() {}\n+    void m664() {}\n+    void m665() {}\n+    void m666() {}\n+    void m667() {}\n+    void m668() {}\n+    void m669() {}\n+    void m670() {}\n+    void m671() {}\n+    void m672() {}\n+    void m673() {}\n+    void m674() {}\n+    void m675() {}\n+    void m676() {}\n+    void m677() {}\n+    void m678() {}\n+    void m679() {}\n+    void m680() {}\n+    void m681() {}\n+    void m682() {}\n+    void m683() {}\n+    void m684() {}\n+    void m685() {}\n+    void m686() {}\n+    void m687() {}\n+    void m688() {}\n+    void m689() {}\n+    void m690() {}\n+    void m691() {}\n+    void m692() {}\n+    void m693() {}\n+    void m694() {}\n+    void m695() {}\n+    void m696() {}\n+    void m697() {}\n+    void m698() {}\n+    void m699() {}\n+    void m700() {}\n+    void m701() {}\n+    void m702() {}\n+    void m703() {}\n+    void m704() {}\n+    void m705() {}\n+    void m706() {}\n+    void m707() {}\n+    void m708() {}\n+    void m709() {}\n+    void m710() {}\n+    void m711() {}\n+    void m712() {}\n+    void m713() {}\n+    void m714() {}\n+    void m715() {}\n+    void m716() {}\n+    void m717() {}\n+    void m718() {}\n+    void m719() {}\n+    void m720() {}\n+    void m721() {}\n+    void m722() {}\n+    void m723() {}\n+    void m724() {}\n+    void m725() {}\n+    void m726() {}\n+    void m727() {}\n+    void m728() {}\n+    void m729() {}\n+    void m730() {}\n+    void m731() {}\n+    void m732() {}\n+    void m733() {}\n+    void m734() {}\n+    void m735() {}\n+    void m736() {}\n+    void m737() {}\n+    void m738() {}\n+    void m739() {}\n+    void m740() {}\n+    void m741() {}\n+    void m742() {}\n+    void m743() {}\n+    void m744() {}\n+    void m745() {}\n+    void m746() {}\n+    void m747() {}\n+    void m748() {}\n+    void m749() {}\n+    void m750() {}\n+    void m751() {}\n+    void m752() {}\n+    void m753() {}\n+    void m754() {}\n+    void m755() {}\n+    void m756() {}\n+    void m757() {}\n+    void m758() {}\n+    void m759() {}\n+    void m760() {}\n+    void m761() {}\n+    void m762() {}\n+    void m763() {}\n+    void m764() {}\n+    void m765() {}\n+    void m766() {}\n+    void m767() {}\n+    void m768() {}\n+    void m769() {}\n+    void m770() {}\n+    void m771() {}\n+    void m772() {}\n+    void m773() {}\n+    void m774() {}\n+    void m775() {}\n+    void m776() {}\n+    void m777() {}\n+    void m778() {}\n+    void m779() {}\n+    void m780() {}\n+    void m781() {}\n+    void m782() {}\n+    void m783() {}\n+    void m784() {}\n+    void m785() {}\n+    void m786() {}\n+    void m787() {}\n+    void m788() {}\n+    void m789() {}\n+    void m790() {}\n+    void m791() {}\n+    void m792() {}\n+    void m793() {}\n+    void m794() {}\n+    void m795() {}\n+    void m796() {}\n+    void m797() {}\n+    void m798() {}\n+    void m799() {}\n+    void m800() {}\n+    void m801() {}\n+    void m802() {}\n+    void m803() {}\n+    void m804() {}\n+    void m805() {}\n+    void m806() {}\n+    void m807() {}\n+    void m808() {}\n+    void m809() {}\n+    void m810() {}\n+    void m811() {}\n+    void m812() {}\n+    void m813() {}\n+    void m814() {}\n+    void m815() {}\n+    void m816() {}\n+    void m817() {}\n+    void m818() {}\n+    void m819() {}\n+    void m820() {}\n+    void m821() {}\n+    void m822() {}\n+    void m823() {}\n+    void m824() {}\n+    void m825() {}\n+    void m826() {}\n+    void m827() {}\n+    void m828() {}\n+    void m829() {}\n+    void m830() {}\n+    void m831() {}\n+    void m832() {}\n+    void m833() {}\n+    void m834() {}\n+    void m835() {}\n+    void m836() {}\n+    void m837() {}\n+    void m838() {}\n+    void m839() {}\n+    void m840() {}\n+    void m841() {}\n+    void m842() {}\n+    void m843() {}\n+    void m844() {}\n+    void m845() {}\n+    void m846() {}\n+    void m847() {}\n+    void m848() {}\n+    void m849() {}\n+    void m850() {}\n+    void m851() {}\n+    void m852() {}\n+    void m853() {}\n+    void m854() {}\n+    void m855() {}\n+    void m856() {}\n+    void m857() {}\n+    void m858() {}\n+    void m859() {}\n+    void m860() {}\n+    void m861() {}\n+    void m862() {}\n+    void m863() {}\n+    void m864() {}\n+    void m865() {}\n+    void m866() {}\n+    void m867() {}\n+    void m868() {}\n+    void m869() {}\n+    void m870() {}\n+    void m871() {}\n+    void m872() {}\n+    void m873() {}\n+    void m874() {}\n+    void m875() {}\n+    void m876() {}\n+    void m877() {}\n+    void m878() {}\n+    void m879() {}\n+    void m880() {}\n+    void m881() {}\n+    void m882() {}\n+    void m883() {}\n+    void m884() {}\n+    void m885() {}\n+    void m886() {}\n+    void m887() {}\n+    void m888() {}\n+    void m889() {}\n+    void m890() {}\n+    void m891() {}\n+    void m892() {}\n+    void m893() {}\n+    void m894() {}\n+    void m895() {}\n+    void m896() {}\n+    void m897() {}\n+    void m898() {}\n+    void m899() {}\n+    void m900() {}\n+    void m901() {}\n+    void m902() {}\n+    void m903() {}\n+    void m904() {}\n+    void m905() {}\n+    void m906() {}\n+    void m907() {}\n+    void m908() {}\n+    void m909() {}\n+    void m910() {}\n+    void m911() {}\n+    void m912() {}\n+    void m913() {}\n+    void m914() {}\n+    void m915() {}\n+    void m916() {}\n+    void m917() {}\n+    void m918() {}\n+    void m919() {}\n+    void m920() {}\n+    void m921() {}\n+    void m922() {}\n+    void m923() {}\n+    void m924() {}\n+    void m925() {}\n+    void m926() {}\n+    void m927() {}\n+    void m928() {}\n+    void m929() {}\n+    void m930() {}\n+    void m931() {}\n+    void m932() {}\n+    void m933() {}\n+    void m934() {}\n+    void m935() {}\n+    void m936() {}\n+    void m937() {}\n+    void m938() {}\n+    void m939() {}\n+    void m940() {}\n+    void m941() {}\n+    void m942() {}\n+    void m943() {}\n+    void m944() {}\n+    void m945() {}\n+    void m946() {}\n+    void m947() {}\n+    void m948() {}\n+    void m949() {}\n+    void m950() {}\n+    void m951() {}\n+    void m952() {}\n+    void m953() {}\n+    void m954() {}\n+    void m955() {}\n+    void m956() {}\n+    void m957() {}\n+    void m958() {}\n+    void m959() {}\n+    void m960() {}\n+    void m961() {}\n+    void m962() {}\n+    void m963() {}\n+    void m964() {}\n+    void m965() {}\n+    void m966() {}\n+    void m967() {}\n+    void m968() {}\n+    void m969() {}\n+    void m970() {}\n+    void m971() {}\n+    void m972() {}\n+    void m973() {}\n+    void m974() {}\n+    void m975() {}\n+    void m976() {}\n+    void m977() {}\n+    void m978() {}\n+    void m979() {}\n+    void m980() {}\n+    void m981() {}\n+    void m982() {}\n+    void m983() {}\n+    void m984() {}\n+    void m985() {}\n+    void m986() {}\n+    void m987() {}\n+    void m988() {}\n+    void m989() {}\n+    void m990() {}\n+    void m991() {}\n+    void m992() {}\n+    void m993() {}\n+    void m994() {}\n+    void m995() {}\n+    void m996() {}\n+    void m997() {}\n+    void m998() {}\n+    void m999() {}\n+    void m1000() {}\n+  }\n+\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/SetBreakpoint\/TestManyBreakpoints.java","additions":1054,"deletions":0,"binary":false,"changes":1054,"status":"added"},{"patch":"@@ -0,0 +1,73 @@\n+\/*\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+#include <string.h>\n+#include <stdio.h>\n+\n+#include \"jvmti.h\"\n+\n+#define SUBCLASS_NAME \"Lserviceability\/jvmti\/SetBreakpoint\/TestManyBreakpoints$Target\"\n+\n+static jvmtiEnv *jvmti = NULL;\n+\n+void JNICALL classprepare(jvmtiEnv* jvmti_env, JNIEnv* jni_env, jthread thread, jclass klass) {\n+    char* buf;\n+    (*jvmti)->GetClassSignature(jvmti, klass, &buf, NULL);\n+    if (strncmp(buf, SUBCLASS_NAME, strlen(SUBCLASS_NAME)) == 0) {\n+        jint nMethods;\n+        jmethodID* methods;\n+        int i;\n+\n+        (*jvmti)->GetClassMethods(jvmti, klass, &nMethods, &methods);\n+        printf(\"Setting breakpoints in %s\\n\", buf);\n+        fflush(stdout);\n+        for (i = 0; i < nMethods; i++) {\n+            (*jvmti)->SetBreakpoint(jvmti, methods[i], 0);\n+        }\n+    }\n+}\n+\n+\n+void JNICALL breakpoint(jvmtiEnv* jvmti_env, JNIEnv* jni_env, jthread thread, jmethodID method, jlocation location) {\n+   \/\/ Do nothing\n+}\n+\n+JNIEXPORT jint JNICALL Agent_OnLoad(JavaVM* vm, char* options, void* reserved) {\n+    jvmtiCapabilities capa;\n+    jvmtiEventCallbacks cbs = {0};\n+\n+    (*vm)->GetEnv(vm, (void**)&jvmti, JVMTI_VERSION_1_0);\n+\n+    memset(&capa, 0, sizeof(capa));\n+    capa.can_generate_breakpoint_events = 1;\n+    capa.can_generate_single_step_events = 1;\n+    (*jvmti)->AddCapabilities(jvmti, &capa);\n+\n+    cbs.ClassPrepare = classprepare;\n+    cbs.Breakpoint = breakpoint;\n+    (*jvmti)->SetEventCallbacks(jvmti, &cbs, sizeof(cbs));\n+    (*jvmti)->SetEventNotificationMode(jvmti, JVMTI_ENABLE, JVMTI_EVENT_CLASS_PREPARE, NULL);\n+    (*jvmti)->SetEventNotificationMode(jvmti, JVMTI_ENABLE, JVMTI_EVENT_BREAKPOINT, NULL);\n+\n+    return 0;\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/SetBreakpoint\/libTestManyBreakpoints.c","additions":73,"deletions":0,"binary":false,"changes":73,"status":"added"}]}