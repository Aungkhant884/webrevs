{"files":[{"patch":"@@ -218,8 +218,22 @@\n-   # try some common locations, before giving up\n-   if [ -f \"\/usr\/share\/ant\/lib\/ant.jar\" ] ; then\n-     ANT_HOME=\"\/usr\/share\/ant\"\n-   elif [ -f \"\/usr\/local\/Cellar\/ant\/1.9.4\/libexec\/lib\/ant.jar\" ] ; then\n-     ANT_HOME=\"\/usr\/local\/Cellar\/ant\/1.9.4\/libexec\"\n-   else\n-     echo \"FATAL: cannot find ant. Try setting ANT_HOME.\" >&2; exit 1\n-   fi\n+  # try some common locations\n+  if [ -f \"\/usr\/share\/ant\/lib\/ant.jar\" ] ; then\n+    ANT_HOME=\"\/usr\/share\/ant\"\n+  else\n+    try_ant=$(ls \/opt\/homebrew\/Cellar\/ant\/*\/libexec\/lib\/ant.jar 2> \/dev\/null | sort -r | head -n 1)\n+    if [ \"x$try_ant\" != \"x\" ] ; then\n+      ANT_HOME=$(cd $(dirname $try_ant)\/.. && pwd)\n+    else\n+      try_ant=$(ls \/usr\/local\/Cellar\/ant\/*\/libexec\/lib\/ant.jar 2> \/dev\/null | sort -r | head -n 1)\n+      if [ \"x$try_ant\" != \"x\" ] ; then\n+        ANT_HOME=$(cd $(dirname $try_ant)\/.. && pwd)\n+      fi\n+    fi\n+  fi\n+else\n+  if [ ! -f \"$ANT_HOME\/lib\/ant.jar\" ] ; then\n+     echo \"FATAL: ANT_HOME is incorrect. Try removing it and use autodetection, or fix the value\" >&2; exit 1\n+  fi\n+fi\n+\n+if [ \"x$ANT_HOME\" = \"x\" ] ; then\n+   echo \"FATAL: cannot find ant. Try setting ANT_HOME.\" >&2; exit 1\n@@ -233,1 +247,1 @@\n-else \n+else\n","filename":"bin\/idea.sh","additions":23,"deletions":9,"binary":false,"changes":32,"status":"modified"}]}