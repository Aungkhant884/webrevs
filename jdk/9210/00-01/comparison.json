{"files":[{"patch":"@@ -3342,0 +3342,3 @@\n+compiler.err.dc.invalid.html=\\\n+    invalid HTML\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -533,1 +533,1 @@\n-            \/\/ depending of combined length of type parameters and return type.\n+            \/\/ depending on the combined length of type parameters and return type.\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Signatures.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -155,1 +155,0 @@\n-                        case '\\n':\n@@ -157,1 +156,5 @@\n-                            \/\/ Ignore line separators to get consistent results across platforms.\n+                            \/\/ Skip the \"\\r\" to get consistent results across platforms.\n+                            if (i + 1 < htmlText.length() && htmlText.charAt(i + 1) == '\\n') {\n+                                i++;\n+                            }\n+                            count++;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/RawHtml.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -69,1 +69,14 @@\n-        return string.length();\n+        return charCount(string);\n+    }\n+\n+    static int charCount(CharSequence cs) {\n+        int count = 0;\n+        for (int i = 0; i < cs.length(); i++) {\n+            \/\/ Windows uses \"\\r\\n\" as line separator while UNIX uses \"\\n\".\n+            \/\/ Skip the \"\\r\" to get consistent results across platforms.\n+            if (cs.charAt(i) == '\\r' && (i + 1 < cs.length()) && cs.charAt(i + 1) == '\\n') {\n+                i++;\n+            }\n+            count++;\n+        }\n+        return count;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/Text.java","additions":14,"deletions":1,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-        return stringBuilder.length();\n+        return Text.charCount(stringBuilder);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/TextBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+                \"-Xdoclint:none\",\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testTypeAnnotations\/TestTypeAnnotations.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -24,1 +24,1 @@\n-\/\/ key: compiler.err.dc.bad.entity\n+\/\/ key: compiler.err.dc.invalid.html\n@@ -30,2 +30,2 @@\n-\/** & *\/\n-class BadEntity { }\n+\/** <![CDATA[ *\/\n+class InvalidHtml { }\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/InvalidHtml.java","additions":3,"deletions":3,"binary":false,"changes":6,"previous_filename":"test\/langtools\/tools\/javac\/diags\/examples\/BadEntity.java","status":"copied"}]}