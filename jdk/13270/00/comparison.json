{"files":[{"patch":"@@ -519,10 +519,4 @@\n-  {\n-    ttyUnlocker ttyul;  \/\/ release tty lock to avoid ordering problems\n-    MutexLocker ml(current, Compile_lock);\n-    Klass* kls;\n-    if (!require_local) {\n-      kls = SystemDictionary::find_constrained_instance_or_array_klass(current, sym, loader);\n-    } else {\n-      kls = SystemDictionary::find_instance_or_array_klass(current, sym, loader, domain);\n-    }\n-    found_klass = kls;\n+  if (!require_local) {\n+    found_klass = SystemDictionary::find_constrained_instance_or_array_klass(current, sym, loader);\n+  } else {\n+    found_klass = SystemDictionary::find_instance_or_array_klass(current, sym, loader, domain);\n","filename":"src\/hotspot\/share\/ci\/ciEnv.cpp","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -1356,5 +1356,1 @@\n-    { \/\/ Grabbing the Compile_lock prevents systemDictionary updates\n-      \/\/ during compilations.\n-      MutexLocker mu(THREAD, Compile_lock);\n-      update_dictionary(THREAD, loaded_class, loader_data);\n-    }\n+    update_dictionary(THREAD, loaded_class, loader_data);\n@@ -1421,6 +1417,3 @@\n-  {\n-    MutexLocker mu_r(THREAD, Compile_lock);\n-    \/\/ Add to systemDictionary - so other classes can see it.\n-    \/\/ Grabs and releases SystemDictionary_lock\n-    update_dictionary(THREAD, k, loader_data);\n-  }\n+  \/\/ Add to systemDictionary - so other classes can see it.\n+  \/\/ Grabs and releases SystemDictionary_lock\n+  update_dictionary(THREAD, k, loader_data);\n@@ -1687,5 +1680,1 @@\n-  \/\/ Compile_lock prevents systemDictionary updates during compilations\n-  assert_locked_or_safepoint(Compile_lock);\n-  Symbol* name  = k->name();\n-\n-  MutexLocker mu1(SystemDictionary_lock);\n+  MonitorLocker mu1(SystemDictionary_lock);\n@@ -1694,0 +1683,1 @@\n+  Symbol* name  = k->name();\n@@ -1699,1 +1689,1 @@\n-  SystemDictionary_lock->notify_all();\n+  mu1.notify_all();\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":7,"deletions":17,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -1675,8 +1675,4 @@\n-  {\n-    ttyUnlocker ttyul;  \/\/ release tty lock to avoid ordering problems\n-    MutexLocker ml(THREAD, Compile_lock);\n-    if (!require_local) {\n-      found_klass = SystemDictionary::find_constrained_instance_or_array_klass(THREAD, sym, loader);\n-    } else {\n-      found_klass = SystemDictionary::find_instance_or_array_klass(THREAD, sym, loader, domain);\n-    }\n+  if (!require_local) {\n+    found_klass = SystemDictionary::find_constrained_instance_or_array_klass(THREAD, sym, loader);\n+  } else {\n+    found_klass = SystemDictionary::find_instance_or_array_klass(THREAD, sym, loader, domain);\n","filename":"src\/hotspot\/share\/jvmci\/jvmciRuntime.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"}]}