{"files":[{"patch":"@@ -45,8 +45,0 @@\n-  \/\/ prevent divide-by-zero\n-  if (ro_all < 1) {\n-    ro_all = 1;\n-  }\n-  if (rw_all < 1) {\n-    rw_all = 1;\n-  }\n-\n@@ -105,2 +97,5 @@\n-  assert(all_ro_bytes == ro_all, \"everything should have been counted\");\n-  assert(all_rw_bytes == rw_all, \"everything should have been counted\");\n+  msg.flush();\n+\n+  assert(all_ro_bytes == ro_all && all_rw_bytes == rw_all,\n+         \"everything should have been counted (used\/counted: ro %d\/%d, rw %d\/%d\",\n+         ro_all, all_ro_bytes, rw_all, all_rw_bytes);\n","filename":"src\/hotspot\/share\/cds\/dumpAllocStats.cpp","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"}]}