{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2013, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,4 +40,2 @@\n-    private static final Charset jnuEncoding =\n-        Charset.forName(\n-            GetPropertyAction.privilegedGetProperty(\"sun.jnu.encoding\"),\n-            sun.nio.cs.UTF_8.INSTANCE);\n+    private static final Charset jnuEncoding = Charset.forName(\n+        GetPropertyAction.privilegedGetProperty(\"sun.jnu.encoding\"));\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/fs\/Util.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -744,3 +744,0 @@\n-            fastEncoding = NO_FAST_ENCODING;\n-            jnuEncoding = (jstring)(*env)->NewGlobalRef(env, enc);\n-            (*env)->DeleteLocalRef(env, enc);\n@@ -748,1 +745,0 @@\n-            \/\/ Replace jnuEncoding with UTF-8, if it is not supported\n@@ -754,1 +750,5 @@\n-                                            jnuEncoding).z == JNI_FALSE) {\n+                                            enc).z == JNI_TRUE) {\n+                fastEncoding = NO_FAST_ENCODING;\n+                jnuEncoding = (jstring)(*env)->NewGlobalRef(env, enc);\n+            } else {\n+                \/\/ jnuEncoding falls back to UTF-8\n@@ -757,0 +757,1 @@\n+                    (*env)->DeleteLocalRef(env, enc);\n@@ -759,1 +760,0 @@\n-                (*env)->DeleteGlobalRef(env, jnuEncoding);\n@@ -764,0 +764,1 @@\n+            (*env)->DeleteLocalRef(env, enc);\n","filename":"src\/java.base\/share\/native\/libjava\/jni_util.c","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"}]}