{"files":[{"patch":"@@ -2346,3 +2346,3 @@\n-    uint64_t sum = 0;\n-    uint64_t weighted_sum = 0;\n-    for (int i = 0; i <= n; i++) { sum += histo[i]; weighted_sum += (i*histo[i]); }\n+    double sum = 0;\n+    double weighted_sum = 0;\n+    for (int i = 0; i <= n; i++) { sum += (double)histo[i]; weighted_sum += (double)(i*histo[i]); }\n@@ -2350,2 +2350,2 @@\n-      uint64_t rest = sum;\n-      double percent = (double)sum \/ 100;\n+      double rest = sum;\n+      double percent = sum \/ 100;\n@@ -2353,1 +2353,1 @@\n-        rest -= histo[i];\n+        rest -= (double)histo[i];\n@@ -2356,2 +2356,2 @@\n-      tty->print_cr(\"rest: \" INT64_FORMAT_W(12) \" (%5.1f%%)\", rest, (double)rest \/ percent);\n-      tty->print_cr(\"(avg. %s = %3.1f, max = %d)\", name, (double)weighted_sum \/ (double)sum, n);\n+      tty->print_cr(\"rest: \" INT64_FORMAT_W(12) \" (%5.1f%%)\", (int64_t)rest, rest \/ percent);\n+      tty->print_cr(\"(avg. %s = %3.1f, max = %d)\", name, weighted_sum \/ sum, n);\n@@ -2361,1 +2361,1 @@\n-      tty->print_cr(\"Histogram generation failed for %s. n = %d, sum = %zu\", name, n, sum);\n+      tty->print_cr(\"Histogram generation failed for %s. n = %d, sum = %7.5f\", name, n, sum);\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"}]}