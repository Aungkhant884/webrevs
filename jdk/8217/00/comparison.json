{"files":[{"patch":"@@ -2188,0 +2188,9 @@\n+static void print_container_helper(outputStream* st, jlong j, const char* header) {\n+  st->print(\"%s\", header);\n+  if (j > 0) {\n+    st->print_cr(UINT64_FORMAT \" k\", uint64_t(j) \/ 1024);\n+  } else {\n+    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n+}\n+\n@@ -2243,39 +2252,5 @@\n-  jlong j = OSContainer::memory_limit_in_bytes();\n-  st->print(\"memory_limit_in_bytes: \");\n-  if (j > 0) {\n-    st->print_cr(JLONG_FORMAT, j);\n-  } else {\n-    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n-  }\n-\n-  j = OSContainer::memory_and_swap_limit_in_bytes();\n-  st->print(\"memory_and_swap_limit_in_bytes: \");\n-  if (j > 0) {\n-    st->print_cr(JLONG_FORMAT, j);\n-  } else {\n-    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n-  }\n-\n-  j = OSContainer::memory_soft_limit_in_bytes();\n-  st->print(\"memory_soft_limit_in_bytes: \");\n-  if (j > 0) {\n-    st->print_cr(JLONG_FORMAT, j);\n-  } else {\n-    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n-  }\n-\n-  j = OSContainer::OSContainer::memory_usage_in_bytes();\n-  st->print(\"memory_usage_in_bytes: \");\n-  if (j > 0) {\n-    st->print_cr(JLONG_FORMAT, j);\n-  } else {\n-    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n-  }\n-\n-  j = OSContainer::OSContainer::memory_max_usage_in_bytes();\n-  st->print(\"memory_max_usage_in_bytes: \");\n-  if (j > 0) {\n-    st->print_cr(JLONG_FORMAT, j);\n-  } else {\n-    st->print_cr(\"%s\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n-  }\n+  print_container_helper(st, OSContainer::memory_limit_in_bytes(), \"memory_limit_in_bytes: \");\n+  print_container_helper(st, OSContainer::memory_and_swap_limit_in_bytes(), \"memory_and_swap_limit_in_bytes: \");\n+  print_container_helper(st, OSContainer::memory_soft_limit_in_bytes(), \"memory_soft_limit_in_bytes: \");\n+  print_container_helper(st, OSContainer::OSContainer::memory_usage_in_bytes(), \"memory_usage_in_bytes: \");\n+  print_container_helper(st, OSContainer::OSContainer::memory_max_usage_in_bytes(), \"memory_max_usage_in_bytes: \");\n@@ -2283,1 +2258,1 @@\n-  j = OSContainer::OSContainer::pids_max();\n+  jlong j = OSContainer::OSContainer::pids_max();\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":15,"deletions":40,"binary":false,"changes":55,"status":"modified"}]}