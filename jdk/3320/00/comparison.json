{"files":[{"patch":"@@ -936,1 +936,1 @@\n-  if (has_class_mirror_holder()) out->print(\" has a class holder\");\n+  if (has_class_mirror_holder()) out->print(\" has_class_mirror_holder\");\n@@ -944,2 +944,3 @@\n-  out->print(\" handles count %d\", _handles.count());\n-  out->print(\" dependencies %d\", _dependency_count);\n+  out->print(\" handles:%d\", _handles.count());\n+  out->print(\" dependency_count:%d\", _dependency_count);\n+  out->print(\" keep_alive:%d\", _keep_alive);\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -532,2 +532,0 @@\n-static GrowableArray<ClassLoaderData*>* _loaded_cld = NULL;\n-\n@@ -535,0 +533,4 @@\n+  GrowableArray<ClassLoaderData*>* _loaded_cld;\n+public:\n+  CollectCLDClosure(GrowableArray<ClassLoaderData*>* loaded_cld) : _loaded_cld(loaded_cld){}\n+\n@@ -536,3 +538,0 @@\n-    if (_loaded_cld == NULL) {\n-      _loaded_cld = new (ResourceObj::C_HEAP, mtClassShared)GrowableArray<ClassLoaderData*>(10, mtClassShared);\n-    }\n@@ -568,1 +567,3 @@\n-  CollectCLDClosure collect_cld;\n+  ResourceMark rm;\n+  GrowableArray<ClassLoaderData*> loaded_cld;\n+  CollectCLDClosure collect_cld(&loaded_cld);\n@@ -576,2 +577,2 @@\n-    for (int i = 0; i < _loaded_cld->length(); i++) {\n-      ClassLoaderData* cld = _loaded_cld->at(i);\n+    for (int i = 0; i < loaded_cld.length(); i++) {\n+      ClassLoaderData* cld = loaded_cld.at(i);\n@@ -595,2 +596,2 @@\n-  for (int i = 0; i < _loaded_cld->length(); i++) {\n-    ClassLoaderData* cld = _loaded_cld->at(i);\n+  for (int i = 0; i < loaded_cld.length(); i++) {\n+    ClassLoaderData* cld = loaded_cld.at(i);\n@@ -599,0 +600,1 @@\n+  loaded_cld.trunc_to(0);\n","filename":"src\/hotspot\/share\/memory\/metaspaceShared.cpp","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"}]}