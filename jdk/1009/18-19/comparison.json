{"files":[{"patch":"@@ -168,15 +168,7 @@\n-      if (heap->has_forwarded_objects()) {\n-        ShenandoahMarkResolveRefsClosure resolve_mark_cl(q, rp);\n-        MarkingCodeBlobClosure blobsCl(&resolve_mark_cl, !CodeBlobToOopClosure::FixRelocations);\n-        ShenandoahSATBAndRemarkCodeRootsThreadsClosure tc(&cl,\n-                                                          ShenandoahStoreValEnqueueBarrier ? &resolve_mark_cl : NULL,\n-                                                          do_nmethods ? &blobsCl : NULL);\n-        Threads::threads_do(&tc);\n-      } else {\n-        ShenandoahMarkRefsClosure mark_cl(q, rp);\n-        MarkingCodeBlobClosure blobsCl(&mark_cl, !CodeBlobToOopClosure::FixRelocations);\n-        ShenandoahSATBAndRemarkCodeRootsThreadsClosure tc(&cl,\n-                                                          ShenandoahStoreValEnqueueBarrier ? &mark_cl : NULL,\n-                                                          do_nmethods ? &blobsCl : NULL);\n-        Threads::threads_do(&tc);\n-      }\n+      assert(!heap->has_forwarded_objects(), \"Not expected\");\n+      ShenandoahMarkRefsClosure mark_cl(q, rp);\n+      MarkingCodeBlobClosure blobsCl(&mark_cl, !CodeBlobToOopClosure::FixRelocations);\n+      ShenandoahSATBAndRemarkCodeRootsThreadsClosure tc(&cl,\n+                                                        ShenandoahStoreValEnqueueBarrier ? &mark_cl : NULL,\n+                                                        do_nmethods ? &blobsCl : NULL);\n+      Threads::threads_do(&tc);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentMark.cpp","additions":7,"deletions":15,"binary":false,"changes":22,"status":"modified"}]}