{"files":[{"patch":"@@ -30,1 +30,1 @@\n- * @requires vm.gc == \"G1\" | vm.gc == \"Shenandoah\"\n+ * @requires vm.gc.G1\n@@ -36,1 +36,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationAgeThreshold\n+ * @run driver gc.stringdedup.TestStringDeduplicationAgeThreshold G1\n@@ -43,1 +43,1 @@\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.Shenandoah\n@@ -49,1 +49,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationAgeThreshold G1\n+ * @run driver gc.stringdedup.TestStringDeduplicationAgeThreshold Shenandoah\n@@ -54,1 +54,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationAgeThreshold.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @requires vm.gc == \"G1\" | vm.gc == \"Shenandoah\"\n+ * @requires vm.gc.G1\n@@ -36,1 +36,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationFullGC\n+ * @run driver gc.stringdedup.TestStringDeduplicationFullGC G1\n@@ -43,1 +43,1 @@\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.Shenandoah\n@@ -49,1 +49,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationFullGC G1\n+ * @run driver gc.stringdedup.TestStringDeduplicationFullGC Shenandoah\n@@ -54,1 +54,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationFullGC.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -30,14 +30,1 @@\n- * @requires vm.gc == \"G1\"\n- * @library \/test\/lib\n- * @library \/\n- * @modules java.base\/jdk.internal.misc:open\n- * @modules java.base\/java.lang:open\n- *          java.management\n- * @run driver gc.stringdedup.TestStringDeduplicationInterned\n- *\/\n-\n-\/*\n- * @test TestStringDeduplicationInterned\n- * @summary Test string deduplication of interned strings\n- * @bug 8029075\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.G1\n@@ -54,1 +41,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationInterned.java","additions":2,"deletions":15,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @requires vm.gc == \"G1\" | vm.gc == \"Shenandoah\"\n+ * @requires vm.gc.G1\n@@ -36,1 +36,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationPrintOptions\n+ * @run driver gc.stringdedup.TestStringDeduplicationPrintOptions G1\n@@ -43,1 +43,1 @@\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.Shenandoah\n@@ -49,1 +49,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationPrintOptions G1\n+ * @run driver gc.stringdedup.TestStringDeduplicationPrintOptions Shenandoah\n@@ -54,1 +54,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationPrintOptions.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @requires vm.gc == \"G1\" | vm.gc == \"Shenandoah\"\n+ * @requires vm.gc.G1\n@@ -36,1 +36,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationTableResize\n+ * @run driver gc.stringdedup.TestStringDeduplicationTableResize G1\n@@ -43,1 +43,1 @@\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.Shenandoah\n@@ -49,1 +49,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationTableResize G1\n+ * @run driver gc.stringdedup.TestStringDeduplicationTableResize Shenandoah\n@@ -54,1 +54,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationTableResize.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-    private static String overridingGC = null;\n+    private static String selectedGC = null;\n@@ -68,4 +68,2 @@\n-    public static void maybeOverrideGC(String[] args) {\n-        if (args.length > 0) {\n-            overridingGC = args[0];\n-        }\n+    public static void selectGC(String[] args) {\n+        selectedGC = args[0];\n@@ -237,3 +235,1 @@\n-        if (overridingGC != null) {\n-            args.add(\"-XX:+Use\" + overridingGC + \"GC\");\n-        }\n+        args.add(\"-XX:+Use\" + selectedGC + \"GC\");\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationTools.java","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * @requires vm.gc == \"G1\" | vm.gc == \"Shenandoah\"\n+ * @requires vm.gc.G1\n@@ -36,1 +36,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationYoungGC\n+ * @run driver gc.stringdedup.TestStringDeduplicationYoungGC G1\n@@ -43,1 +43,1 @@\n- * @requires vm.gc == \"null\" & vm.gc.G1\n+ * @requires vm.gc.Shenandoah\n@@ -49,1 +49,1 @@\n- * @run driver gc.stringdedup.TestStringDeduplicationYoungGC G1\n+ * @run driver gc.stringdedup.TestStringDeduplicationYoungGC Shenandoah\n@@ -54,1 +54,1 @@\n-        TestStringDeduplicationTools.maybeOverrideGC(args);\n+        TestStringDeduplicationTools.selectGC(args);\n","filename":"test\/hotspot\/jtreg\/gc\/stringdedup\/TestStringDeduplicationYoungGC.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}