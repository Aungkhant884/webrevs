{"files":[{"patch":"@@ -2843,0 +2843,4 @@\n+  if (!VerifyBeforeGC) {\n+    return;\n+  }\n+  Ticks start = Ticks::now();\n@@ -2853,0 +2857,1 @@\n+  phase_times()->record_verify_before_time_ms((Ticks::now() - start).seconds() * MILLIUNITS);\n@@ -2856,0 +2861,5 @@\n+  if (!VerifyAfterGC) {\n+    return;\n+  }\n+  Ticks start = Ticks::now();\n+  \/\/ Inject evacuation failure tag into type if needed.\n@@ -2868,0 +2878,1 @@\n+  phase_times()->record_verify_after_time_ms((Ticks::now() - start).seconds() * MILLIUNITS);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -607,3 +607,1 @@\n-double G1HeapVerifier::verify(G1VerifyType type, VerifyOption vo, const char* msg) {\n-  double verify_time_ms = 0.0;\n-\n+void G1HeapVerifier::verify(G1VerifyType type, VerifyOption vo, const char* msg) {\n@@ -611,1 +609,0 @@\n-    double verify_start = os::elapsedTime();\n@@ -614,1 +611,0 @@\n-    verify_time_ms = (os::elapsedTime() - verify_start) * 1000;\n@@ -616,2 +612,0 @@\n-\n-  return verify_time_ms;\n@@ -621,4 +615,1 @@\n-  if (VerifyBeforeGC) {\n-    double verify_time_ms = verify(type, VerifyOption_G1UsePrevMarking, \"Before GC\");\n-    _g1h->phase_times()->record_verify_before_time_ms(verify_time_ms);\n-  }\n+  verify(type, VerifyOption_G1UsePrevMarking, \"Before GC\");\n@@ -628,4 +619,1 @@\n-  if (VerifyAfterGC) {\n-    double verify_time_ms = verify(type, VerifyOption_G1UsePrevMarking, \"After GC\");\n-    _g1h->phase_times()->record_verify_after_time_ms(verify_time_ms);\n-  }\n+  verify(type, VerifyOption_G1UsePrevMarking, \"After GC\");\n","filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.cpp","additions":3,"deletions":15,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+#include \"utilities\/ticks.hpp\"\n@@ -82,1 +83,1 @@\n-  double verify(G1VerifyType type, VerifyOption vo, const char* msg);\n+  void verify(G1VerifyType type, VerifyOption vo, const char* msg);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}