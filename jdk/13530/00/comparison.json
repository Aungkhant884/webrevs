{"files":[{"patch":"@@ -129,0 +129,1 @@\n+    updatePaths();\n@@ -137,0 +138,1 @@\n+    updatePaths(executableName);\n@@ -412,0 +414,37 @@\n+  private void updatePaths() {\n+    if (imagePath == null) {\n+      \/\/ look up for images on the base of PATH environment variable\n+      imagePath = System.getenv(\"PATH\");\n+    }\n+    if (symbolPath == null) {\n+      \/\/ expected that sybmols lay next to related images\n+      symbolPath = imagePath;\n+    }\n+  }\n+\n+  private void updatePaths(String executableName) {\n+    if (imagePath == null) {\n+        StringBuilder images = new StringBuilder();\n+        \/\/ look for images next to given executable...\n+        File executable = new File(executableName);\n+        File executable_folder = executable.getParentFile();\n+        images.append(executable_folder.getAbsolutePath());\n+        images.append(';');\n+        \/\/ ...then in <server> subfolder...\n+        File jvm_folder = new File(executable_folder, \"server\");\n+        images.append(jvm_folder.getAbsolutePath());\n+        images.append(';');\n+        \/\/ ...and finally using PATH environment variable\n+        images.append(System.getenv(\"PATH\"));\n+        imagePath = images.toString();\n+    }\n+    if (symbolPath == null) {\n+      StringBuilder symbols = new StringBuilder();\n+      \/\/ request Windows symbol table from remote server...\n+      symbols.append(\"srv*https:\/\/msdl.microsoft.com\/download\/symbols;\");\n+      \/\/ ...and look for symbols next to related images\n+      symbols.append(imagePath);\n+      symbolPath = symbols.toString();\n+    }\n+  }\n+\n@@ -616,4 +655,0 @@\n-    if (imagePath == null) {\n-      imagePath = System.getenv(\"PATH\");\n-    }\n-\n@@ -623,5 +658,0 @@\n-    \/\/ mostly, debug files would be find where .dll's, .exe's are found.\n-    if (symbolPath == null) {\n-      symbolPath = imagePath;\n-    }\n-\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/debugger\/windbg\/WindbgDebuggerLocal.java","additions":39,"deletions":9,"binary":false,"changes":48,"status":"modified"}]}