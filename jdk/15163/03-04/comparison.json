{"files":[{"patch":"@@ -114,1 +114,1 @@\n-    \/\/ Limit the maximum certificate chain length accepted from clients\n+    \/\/ Limit the certificate chain length accepted from clients\n@@ -117,1 +117,1 @@\n-    \/\/ Limit the maximum certificate chain length accepted from servers\n+    \/\/ Limit the certificate chain length accepted from servers\n@@ -142,0 +142,4 @@\n+        boolean globalPropSet = false;\n+        boolean clientPropSet = false;\n+        boolean serverPropSet = false;\n+\n@@ -145,1 +149,1 @@\n-        if (certLen == null || (int)certLen < 0) {\n+        if (certLen == null || certLen < 0) {\n@@ -147,0 +151,2 @@\n+        } else {\n+            globalPropSet = true;\n@@ -151,3 +157,3 @@\n-        int clientLen = GetIntegerAction.privilegedGetProperty(\n-                \"jdk.tls.maxClientCertificateChainLength\", 8);\n-        if (clientLen < 0) {\n+        Integer clientLen = GetIntegerAction.privilegedGetProperty(\n+                \"jdk.tls.maxClientCertificateChainLength\");\n+        if (clientLen == null || clientLen < 0) {\n@@ -155,0 +161,2 @@\n+        } else {\n+            clientPropSet = true;\n@@ -158,3 +166,3 @@\n-        int serverLen = GetIntegerAction.privilegedGetProperty(\n-                \"jdk.tls.maxServerCertificateChainLength\", 10);\n-        if (serverLen < 0) {\n+        Integer serverLen = GetIntegerAction.privilegedGetProperty(\n+                \"jdk.tls.maxServerCertificateChainLength\");\n+        if (serverLen == null || serverLen < 0) {\n@@ -162,0 +170,2 @@\n+        } else {\n+            serverPropSet = true;\n@@ -172,2 +182,2 @@\n-        if (maxCertificateChainLength > 0) {\n-            if (clientLen == 8) {\n+        if (globalPropSet) {\n+            if (!clientPropSet) {\n@@ -176,1 +186,1 @@\n-            if (serverLen == 10) {\n+            if (!serverPropSet) {\n","filename":"src\/java.base\/share\/classes\/sun\/security\/ssl\/SSLConfiguration.java","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"}]}