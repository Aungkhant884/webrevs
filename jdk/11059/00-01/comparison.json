{"files":[{"patch":"@@ -513,2 +513,5 @@\n-#ifdef AMD64\n-  unsigned char code_buffer[8];\n+#ifdef _LP64\n+  union {\n+    jlong cb_long;\n+    unsigned char code_buffer[8];\n+  } u;\n@@ -516,1 +519,1 @@\n-  assert(sizeof(code_buffer)==sizeof(jlong), \"sanity check\");\n+  u.cb_long = *(jlong *)verified_entry;\n@@ -521,6 +524,2 @@\n-  \/\/ save extra 3 bytes\n-  *(jlong *) code_buffer = *(jlong *) verified_entry;\n-  code_buffer[0] = instruction_code;\n-  *(int32_t*)(code_buffer + 1) = (int32_t)disp;\n-\n-  check_verified_entry_alignment(entry, verified_entry);\n+  u.code_buffer[0] = instruction_code;\n+  *(int32_t*)(u.code_buffer + 1) = (int32_t)disp;\n@@ -528,1 +527,1 @@\n-  Atomic::store((jlong *) verified_entry, *(jlong *) code_buffer);\n+  Atomic::store((jlong *) verified_entry, u.cb_long);\n","filename":"src\/hotspot\/cpu\/x86\/nativeInst_x86.cpp","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"}]}