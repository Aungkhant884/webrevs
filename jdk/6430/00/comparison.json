{"files":[{"patch":"@@ -234,1 +234,1 @@\n-    G1CardSet::G1CardSetPtrIterator* _scan_f;\n+    G1CardSet::CardSetPtrClosure* _scan_f;\n@@ -236,1 +236,1 @@\n-    explicit G1CardSetHashTableScan(G1CardSet::G1CardSetPtrIterator* f) : _scan_f(f) { }\n+    explicit G1CardSetHashTableScan(G1CardSet::CardSetPtrClosure* f) : _scan_f(f) { }\n@@ -287,1 +287,1 @@\n-  void iterate_safepoint(G1CardSet::G1CardSetPtrIterator* cl2) {\n+  void iterate_safepoint(G1CardSet::CardSetPtrClosure* cl2) {\n@@ -292,1 +292,1 @@\n-  void iterate(G1CardSet::G1CardSetPtrIterator* cl2) {\n+  void iterate(G1CardSet::CardSetPtrClosure* cl2) {\n@@ -824,1 +824,1 @@\n-void G1CardSet::iterate_containers(G1CardSetPtrIterator* found, bool at_safepoint) {\n+void G1CardSet::iterate_containers(CardSetPtrClosure* found, bool at_safepoint) {\n@@ -832,0 +832,1 @@\n+\/\/ Applied to all card (ranges) of the containers.\n@@ -833,1 +834,1 @@\n-class G1ContainerCards {\n+class G1ContainerCardsClosure {\n@@ -838,1 +839,1 @@\n-  G1ContainerCards(Closure& iter, uint region_idx) : _iter(iter), _region_idx(region_idx) { }\n+  G1ContainerCardsClosure(Closure& iter, uint region_idx) : _iter(iter), _region_idx(region_idx) { }\n@@ -854,1 +855,1 @@\n-class G1CardSetIterateCardsIterator : public G1CardSet::G1CardSetPtrIterator {\n+class G1CardSetContainersClosure : public G1CardSet::CardSetPtrClosure {\n@@ -860,2 +861,2 @@\n-  G1CardSetIterateCardsIterator(G1CardSet* card_set,\n-                                Closure& iter) :\n+  G1CardSetContainersClosure(G1CardSet* card_set,\n+                             Closure& iter) :\n@@ -871,2 +872,2 @@\n-void G1CardSet::iterate_cards(G1CardSetCardIterator& iter) {\n-  G1CardSetIterateCardsIterator<G1CardSetCardIterator, G1ContainerCards> cl(this, iter);\n+void G1CardSet::iterate_cards(CardClosure& iter) {\n+  G1CardSetContainersClosure<CardClosure, G1ContainerCardsClosure> cl(this, iter);\n@@ -889,1 +890,1 @@\n-  class GetNumberOfContainers : public G1CardSetPtrIterator {\n+  class GetNumberOfContainers : public CardSetPtrClosure {\n@@ -893,1 +894,1 @@\n-    GetNumberOfContainers() : G1CardSetPtrIterator(), _count(0) { }\n+    GetNumberOfContainers() : CardSetPtrClosure(), _count(0) { }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardSet.cpp","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -358,1 +358,1 @@\n-  class G1CardSetPtrIterator {\n+  class CardSetPtrClosure {\n@@ -363,1 +363,1 @@\n-  void iterate_containers(G1CardSetPtrIterator* iter, bool safepoint = false);\n+  void iterate_containers(CardSetPtrClosure* iter, bool safepoint = false);\n@@ -365,1 +365,1 @@\n-  class G1CardSetCardIterator {\n+  class CardClosure {\n@@ -370,1 +370,1 @@\n-  void iterate_cards(G1CardSetCardIterator& iter);\n+  void iterate_cards(CardClosure& iter);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardSet.hpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-class G1HeapRegionRemSetMergeCardIterator : public G1CardSet::G1CardSetPtrIterator {\n+class G1HeapRegionRemSetMergeCardClosure : public G1CardSet::CardSetPtrClosure {\n@@ -90,1 +90,1 @@\n-  G1HeapRegionRemSetMergeCardIterator(G1CardSet* card_set,\n+  G1HeapRegionRemSetMergeCardClosure(G1CardSet* card_set,\n@@ -111,4 +111,4 @@\n-  G1HeapRegionRemSetMergeCardIterator<CardOrRangeVisitor, G1ContainerCardsOrRanges> cl2(&_card_set,\n-                                                                                        cl,\n-                                                                                        _card_set.config()->log2_card_region_per_heap_region(),\n-                                                                                        _card_set.config()->log2_cards_per_card_region());\n+  G1HeapRegionRemSetMergeCardClosure<CardOrRangeVisitor, G1ContainerCardsOrRanges> cl2(&_card_set,\n+                                                                                       cl,\n+                                                                                       _card_set.config()->log2_card_region_per_heap_region(),\n+                                                                                       _card_set.config()->log2_cards_per_card_region());\n","filename":"src\/hotspot\/share\/gc\/g1\/heapRegionRemSet.inline.hpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-  class G1CountCardsClosure : public G1CardSet::G1CardSetCardIterator {\n+  class G1CountCardsClosure : public G1CardSet::CardClosure {\n@@ -85,1 +85,1 @@\n-  static void iterate_cards(G1CardSet* card_set, G1CardSet::G1CardSetCardIterator* cl);\n+  static void iterate_cards(G1CardSet* card_set, G1CardSet::CardClosure* cl);\n@@ -104,1 +104,1 @@\n-class G1CheckCardClosure : public G1CardSet::G1CardSetCardIterator {\n+class G1CheckCardClosure : public G1CardSet::CardClosure {\n@@ -166,1 +166,1 @@\n-class G1CountCardsOccupied : public G1CardSet::G1CardSetPtrIterator {\n+class G1CountCardsOccupied : public G1CardSet::CardSetPtrClosure {\n@@ -181,1 +181,1 @@\n-  class CheckIterator : public G1CardSet::G1CardSetCardIterator {\n+  class CheckIterator : public G1CardSet::CardClosure {\n","filename":"test\/hotspot\/gtest\/gc\/g1\/test_g1CardSet.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}