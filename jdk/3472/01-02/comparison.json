{"files":[{"patch":"@@ -49,1 +49,1 @@\n-    private final @Stable MemberName[] memberName_table;\n+    final @Stable MemberName[] memberName_table;\n@@ -114,1 +114,10 @@\n-            mn = resolveMemberName(mode);\n+            mn = resolveMemberName(mode, false);\n+        }\n+        return mn;\n+    }\n+\n+    @ForceInline\n+    final MemberName getMemberNameOrNull(int mode) {\n+        MemberName mn = memberName_table[mode];\n+        if (mn == null) {\n+            mn = resolveMemberName(mode, true);\n@@ -120,1 +129,1 @@\n-    private final MemberName resolveMemberName(int mode) {\n+    MemberName resolveMemberName(int mode, boolean graceful) {\n@@ -129,1 +138,5 @@\n-            throw new InternalError(\"Failed resolving VarHandle member name\", e);\n+            if (graceful) {\n+                return null;\n+            } else {\n+                throw new UnsupportedOperationException();\n+            }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/VarForm.java","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -1941,5 +1941,0 @@\n-\n-        @ForceInline\n-        static MemberName getMemberName(int ordinal, VarForm vform) {\n-            return vform.getMemberName(ordinal);\n-        }\n@@ -2048,1 +2043,1 @@\n-        return AccessMode.getMemberName(accessMode.ordinal(), vform) != null;\n+        return vform.getMemberNameOrNull(accessMode.ordinal()) != null;\n@@ -2071,2 +2066,1 @@\n-        MemberName mn = AccessMode.getMemberName(accessMode.ordinal(), vform);\n-        if (mn != null) {\n+        if (isAccessModeSupported(accessMode)) {\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/VarHandle.java","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"}]}