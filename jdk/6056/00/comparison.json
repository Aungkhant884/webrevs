{"files":[{"patch":"@@ -488,1 +488,0 @@\n-java\/awt\/Component\/NativeInLightShow\/NativeInLightShow.java 8202932 linux-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,1 +27,1 @@\n-  @bug 4140484\n+  @bug 4140484 8202932\n@@ -29,1 +29,0 @@\n-  @author Your Name: art@sparc.spb.su\n@@ -33,2 +32,7 @@\n-import java.awt.*;\n-import java.awt.event.*;\n+import java.awt.BorderLayout;\n+import java.awt.Button;\n+import java.awt.Container;\n+import java.awt.Frame;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.event.InputEvent;\n@@ -40,2 +44,1 @@\n-public class NativeInLightShow\n-{\n+public class NativeInLightShow {\n@@ -43,19 +46,4 @@\n-    static boolean buttonPressed = false;\n-    public static void main(String args[]) throws Exception {\n-        Frame f = new Frame(\"Test\");\n-\n-        Robot robot = null;\n-        robot = new Robot();\n-        robot.setAutoDelay(50);\n-\n-        Container c = new Container();\n-        c.setLayout(new BorderLayout());\n-        Button b = new Button(\"I'm should be visible!\");\n-        b.addActionListener(new ActionListener()\n-        {\n-            public void actionPerformed(ActionEvent e) {\n-                System.out.println(\"Test PASSED\");\n-                buttonPressed = true;\n-            }\n-        });\n-        c.add(b);\n+    static volatile boolean buttonPressed = false;\n+\n+    public static void main(String[] args) throws Exception {\n+        Frame frame = new Frame(\"Test\");\n@@ -63,1 +51,1 @@\n-        f.add(c);\n+        Robot robot = new Robot();\n@@ -65,1 +53,7 @@\n-        f.pack();\n+        Container container = new Container();\n+        container.setLayout(new BorderLayout());\n+        Button button = new Button(\"I'm should be visible!\");\n+        button.addActionListener(e -> {\n+            System.out.println(\"Test PASSED\");\n+            buttonPressed = true;\n+        });\n@@ -67,2 +61,6 @@\n-        c.setVisible(false);\n-        c.setVisible(true);\n+        container.add(button);\n+        frame.add(container);\n+        frame.pack();\n+\n+        container.setVisible(false);\n+        container.setVisible(true);\n@@ -73,1 +71,2 @@\n-        f.setVisible(true);\n+        frame.setLocationRelativeTo(null);\n+        frame.setVisible(true);\n@@ -77,1 +76,1 @@\n-        Point buttonLocation = b.getLocationOnScreen();\n+        Point buttonLocation = button.getLocationOnScreen();\n@@ -80,2 +79,2 @@\n-        robot.mousePress(InputEvent.BUTTON1_MASK);\n-        robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -85,1 +84,1 @@\n-        robot.delay(100);\n+        robot.delay(500);\n@@ -87,0 +86,1 @@\n+        frame.dispose();\n@@ -92,1 +92,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/Component\/NativeInLightShow\/NativeInLightShow.java","additions":35,"deletions":36,"binary":false,"changes":71,"status":"modified"}]}