{"files":[{"patch":"@@ -62,0 +62,4 @@\n+        public Folder getFolder() {\n+            return folder;\n+        }\n+\n@@ -140,0 +144,5 @@\n+    public boolean isRootNode() {\n+        Folder folder = getFolder();\n+        return (folder != null && folder instanceof GraphDocument);\n+    }\n+\n@@ -152,0 +161,4 @@\n+\n+    public Folder getFolder() {\n+        return children.getFolder();\n+    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/FolderNode.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -40,2 +40,1 @@\n-import javax.swing.SwingUtilities;\n-import javax.swing.UIManager;\n+import javax.swing.*;\n@@ -74,0 +73,3 @@\n+    private SaveAllAction saveAllAction;\n+    private RemoveAllAction removeAllAction;\n+\n@@ -97,1 +99,0 @@\n-\n@@ -104,1 +105,0 @@\n-\n@@ -106,1 +106,4 @@\n-        toolbar.add(SaveAllAction.get(SaveAllAction.class));\n+\n+        saveAllAction = SaveAllAction.get(SaveAllAction.class);\n+        saveAllAction.setEnabled(false);\n+        toolbar.add(saveAllAction);\n@@ -109,1 +112,4 @@\n-        toolbar.add(RemoveAllAction.get(RemoveAllAction.class));\n+\n+        removeAllAction = RemoveAllAction.get(RemoveAllAction.class);\n+        removeAllAction.setEnabled(false);\n+        toolbar.add(removeAllAction);\n@@ -116,0 +122,8 @@\n+\n+        document.getChangedEvent().addListener(g -> documentChanged());\n+    }\n+\n+    private void documentChanged() {\n+        boolean enableButton = !document.getElements().isEmpty();\n+        saveAllAction.setEnabled(enableButton);\n+        removeAllAction.setEnabled(enableButton);\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/OutlineTopComponent.java","additions":20,"deletions":6,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+import com.sun.hotspot.igv.coordinator.FolderNode;\n@@ -75,1 +76,9 @@\n-        return nodes.length > 0;\n+        if (nodes.length > 0) {\n+            for (Node n : nodes) {\n+                if ((n instanceof FolderNode) && ((FolderNode) n).isRootNode()) {\n+                    return false;\n+                }\n+            }\n+            return true;\n+        }\n+        return false;\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/RemoveAction.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,3 @@\n+import com.sun.hotspot.igv.coordinator.FolderNode;\n+import com.sun.hotspot.igv.coordinator.OutlineTopComponent;\n+import com.sun.hotspot.igv.data.Folder;\n@@ -52,1 +55,1 @@\n-\n+        final OutlineTopComponent component = OutlineTopComponent.findInstance();\n@@ -54,3 +57,9 @@\n-        for (Node n : activatedNodes) {\n-            Group group = n.getLookup().lookup(Group.class);\n-            doc.addElement(group);\n+        for (Node node : activatedNodes) {\n+            if (node instanceof FolderNode) {\n+                FolderNode folderNode = (FolderNode) node;\n+                Folder folder = folderNode.getFolder();\n+                if (folder instanceof Group) {\n+                    Group group = (Group) folder;\n+                    doc.addElement(group);\n+                }\n+            }\n@@ -58,1 +67,0 @@\n-\n@@ -118,4 +126,7 @@\n-\n-        int cnt = 0;\n-        for (Node n : nodes) {\n-            cnt += n.getLookup().lookupAll(Group.class).size();\n+        if (nodes.length > 0) {\n+            for (Node n : nodes) {\n+                if (!(n instanceof FolderNode) || ((FolderNode) n).isRootNode()) {\n+                    return false;\n+                }\n+            }\n+            return true;\n@@ -123,2 +134,1 @@\n-\n-        return cnt > 0;\n+        return false;\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/SaveAsAction.java","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"}]}