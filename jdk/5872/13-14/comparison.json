{"files":[{"patch":"@@ -71,0 +71,2 @@\n+     * <p> Would only allocate new buffer when either the old one be too small or it be destroyed during GC.\n+     *\n@@ -77,3 +79,2 @@\n-        if (ref == null || (buffer = ref.get()) == null || buffer.length < size) {\n-            buffer = new byte[size];\n-            this.skipBufferReference = new SoftReference<>(buffer);\n+        if (ref != null && (buffer = ref.get()) != null && buffer.length >= size) {\n+            return buffer;\n@@ -81,0 +82,3 @@\n+        \/\/ allocate new or larger buffer\n+        buffer = new byte[size];\n+        this.skipBufferReference = new SoftReference<>(buffer);\n","filename":"src\/java.base\/share\/classes\/java\/io\/InputStream.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}