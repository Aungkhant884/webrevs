{"files":[{"patch":"@@ -91,0 +91,1 @@\n+#include \"utilities\/pair.hpp\"\n@@ -1641,9 +1642,3 @@\n-struct F {\n-  int _off;\n-  int _pos;\n-  F(int off, int pos) : _off(off), _pos(pos) {}\n-  F() : _off(0), _pos(0) {}\n-};\n-\n-static int compare_fields_by_offset(F* a, F* b) {\n-  return a->_off - b->_off;\n+\/\/ first in Pair is offset, second is index.\n+static int compare_fields_by_offset(Pair<int,int>* a, Pair<int,int>* b) {\n+  return a->first - b->first;\n@@ -1660,1 +1655,1 @@\n-  GrowableArray<F> fields_sorted;\n+  GrowableArray<Pair<int,int> > fields_sorted;\n@@ -1665,1 +1660,1 @@\n-      F f(fs.offset(), fs.index());\n+      Pair<int,int> f(fs.offset(), fs.index());\n@@ -1676,2 +1671,2 @@\n-      fd.reinitialize(this, fields_sorted.at(i)._pos);\n-      assert(!fd.is_static() && fd.offset() == fields_sorted.at(i)._off, \"only nonstatic fields\");\n+      fd.reinitialize(this, fields_sorted.at(i).second);\n+      assert(!fd.is_static() && fd.offset() == fields_sorted.at(i).first, \"only nonstatic fields\");\n","filename":"src\/hotspot\/share\/oops\/instanceKlass.cpp","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"}]}