{"files":[{"patch":"@@ -124,1 +124,1 @@\n-    private int moduleDescriptorsPerMethod;\n+    private int moduleDescriptorsPerMethod = 75;\n@@ -128,4 +128,0 @@\n-        this(75);\n-    }\n-\n-    public SystemModulesPlugin(int moduleDescriptorsPerMethod) {\n@@ -133,1 +129,0 @@\n-        this.moduleDescriptorsPerMethod = moduleDescriptorsPerMethod;\n@@ -152,1 +147,8 @@\n-            throw new IllegalArgumentException(getName() + \": \" + arg);\n+            String[] split = arg.split(\"=\");\n+            if (split.length != 2) {\n+                throw new IllegalArgumentException(getName() + \": \" + arg);\n+            }\n+            if (split[0].equals(\"batch-size\")) {\n+                throw new IllegalArgumentException(getName() + \": \" + arg);\n+            }\n+            this.moduleDescriptorsPerMethod = Integer.parseInt(split[1]);\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/internal\/plugins\/SystemModulesPlugin.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -150,3 +150,3 @@\n-system-modules.argument=retainModuleTarget\n-\n-system-modules.description=Fast loading of module descriptors (always enabled)\n+system-modules.argument=batch-size=<N> sets the batch size of module descriptors\\n\\\n+\\                       to avoid exceeding the method length limit.  The default\\n\\\n+\\                       batch size is 75.\n@@ -155,2 +155,5 @@\n-\\  --system-modules retainModuleTarget\\n\\\n-\\                            Fast loading of module descriptors (always enabled)\n+\\  --system-modules [batch-size=<N>]\\n\\\n+\\                            The batch size specifies the maximum number of modules\\n\\\n+\\                            be handled in one method to workaround if the generated\\n\\\n+\\                            bytecode exceeds the method size limit. The default\\n\\\n+\\                            batch size is 75.\n","filename":"src\/jdk.jlink\/share\/classes\/jdk\/tools\/jlink\/resources\/plugins.properties","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}