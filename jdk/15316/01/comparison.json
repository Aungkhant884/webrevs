{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,8 +24,0 @@\n-\/*\n- * @test\n- * @key headful\n- * @bug     4529206\n- * @summary JToolBar - setFloating does not work correctly\n- * @run     main bug4529206\n- *\/\n-\n@@ -35,2 +27,0 @@\n-import java.awt.event.ActionEvent;\n-import java.awt.event.ActionListener;\n@@ -44,0 +34,8 @@\n+\/*\n+ * @test\n+ * @key headful\n+ * @bug 4529206\n+ * @summary JToolBar - setFloating does not work correctly\n+ * @run main bug4529206\n+ *\/\n+\n@@ -61,5 +59,1 @@\n-        jButton1.addActionListener(new ActionListener() {\n-            public void actionPerformed(ActionEvent e) {\n-                buttonPressed(e);\n-            }\n-        });\n+        jButton1.addActionListener(e -> buttonPressed());\n@@ -80,1 +74,1 @@\n-    private static void buttonPressed(ActionEvent e) {\n+    private static void buttonPressed() {\n@@ -86,5 +80,1 @@\n-            SwingUtilities.invokeAndWait(new Runnable() {\n-                public void run() {\n-                    test();\n-                }\n-            });\n+            SwingUtilities.invokeAndWait(() -> test());\n@@ -92,1 +82,1 @@\n-            robot.waitForIdle();\n+            robot.setAutoWaitForIdle(true);\n@@ -95,3 +85,2 @@\n-            SwingUtilities.invokeAndWait(() -> {\n-                makeToolbarFloat();\n-            });\n+            SwingUtilities.invokeAndWait(() -> makeToolbarFloat());\n+            robot.delay(300);\n@@ -99,7 +88,4 @@\n-            robot.waitForIdle();\n-            SwingUtilities.invokeAndWait(new Runnable() {\n-                public void run() {\n-                    if (frame.isFocused()) {\n-                        throw\n-                          new RuntimeException(\"setFloating does not work correctly\");\n-                    }\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (frame.isFocused()) {\n+                    throw\n+                      new RuntimeException(\"setFloating does not work correctly\");\n","filename":"test\/jdk\/javax\/swing\/JToolBar\/4529206\/bug4529206.java","additions":19,"deletions":33,"binary":false,"changes":52,"status":"modified"}]}