{"files":[{"patch":"@@ -106,1 +106,2 @@\n-        MethodHandle invoker = cachedVHInvoker(VH_INV_GENERIC, ak);\n+        boolean isExact = false;\n+        MethodHandle invoker = cachedVHInvoker(isExact, ak);\n@@ -108,2 +109,2 @@\n-        invoker = makeVarHandleMethodInvoker(ak, false);\n-        return setCachedVHInvoker(VH_INV_GENERIC, ak, invoker);\n+        invoker = makeVarHandleMethodInvoker(ak, isExact);\n+        return setCachedVHInvoker(isExact, ak, invoker);\n@@ -114,1 +115,2 @@\n-        MethodHandle invoker = cachedVHInvoker(VH_INV_EXACT, ak);\n+        boolean isExact = true;\n+        MethodHandle invoker = cachedVHInvoker(isExact, ak);\n@@ -116,2 +118,2 @@\n-        invoker = makeVarHandleMethodInvoker(ak, true);\n-        return setCachedVHInvoker(VH_INV_EXACT, ak, invoker);\n+        invoker = makeVarHandleMethodInvoker(ak, isExact);\n+        return setCachedVHInvoker(isExact, ak, invoker);\n@@ -131,2 +133,3 @@\n-    private MethodHandle cachedVHInvoker(int idx, VarHandle.AccessMode ak) {\n-        return cachedInvoker(idx + ak.ordinal());\n+    private MethodHandle cachedVHInvoker(boolean isExact, VarHandle.AccessMode ak) {\n+        int baseIndex = (isExact ? VH_INV_EXACT : VH_INV_GENERIC);\n+        return cachedInvoker(baseIndex + ak.ordinal());\n@@ -135,2 +138,3 @@\n-    private MethodHandle setCachedVHInvoker(int idx, VarHandle.AccessMode ak, final MethodHandle invoker) {\n-        return setCachedInvoker(idx + ak.ordinal(), invoker);\n+    private MethodHandle setCachedVHInvoker(boolean isExact, VarHandle.AccessMode ak, final MethodHandle invoker) {\n+        int baseIndex = (isExact ? VH_INV_EXACT : VH_INV_GENERIC);\n+        return setCachedInvoker(baseIndex + ak.ordinal(), invoker);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/Invokers.java","additions":14,"deletions":10,"binary":false,"changes":24,"status":"modified"}]}