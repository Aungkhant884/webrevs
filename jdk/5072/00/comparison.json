{"files":[{"patch":"@@ -195,1 +195,1 @@\n-    G1CardSetHashTableValue* _value;\n+    G1CardSetHashTableValue* _value = nullptr;\n@@ -250,1 +250,1 @@\n-  CardSetPtr get(uint region_idx) {\n+  G1CardSetHashTableValue* get(uint region_idx) {\n@@ -254,4 +254,2 @@\n-    if (_table.get(Thread::current(), lookup, found)) {\n-      return found.value()->_card_set;\n-    }\n-    return nullptr;\n+    _table.get(Thread::current(), lookup, found);\n+    return found.value();\n@@ -614,2 +612,1 @@\n-    bool should_grow_table = false;\n-    G1CardSetHashTableValue* table_entry = get_or_add_card_set(card_region, &should_grow_table);\n+    G1CardSetHashTableValue* table_entry = get_card_set(card_region);\n@@ -659,1 +656,1 @@\n-G1CardSet::CardSetPtr G1CardSet::get_card_set(uint card_region) {\n+G1CardSetHashTableValue* G1CardSet::get_card_set(uint card_region) {\n@@ -712,2 +709,2 @@\n-  CardSetPtr card_set = get_card_set(card_region);\n-  if (card_set == nullptr) {\n+  G1CardSetHashTableValue* table_entry = get_card_set(card_region);\n+  if (table_entry == nullptr) {\n@@ -715,1 +712,4 @@\n-  } else if (card_set == FullCardSet) {\n+  }\n+\n+  CardSetPtr card_set = table_entry->_card_set;\n+  if (card_set == FullCardSet) {\n@@ -739,2 +739,2 @@\n-  CardSetPtr card_set = get_card_set(card_region);\n-  if (card_set == nullptr) {\n+  G1CardSetHashTableValue* table_entry = get_card_set(card_region);\n+  if (table_entry == nullptr) {\n@@ -743,1 +743,4 @@\n-  } else if (card_set == FullCardSet) {\n+  }\n+\n+  CardSetPtr card_set = table_entry->_card_set;\n+  if (card_set == FullCardSet) {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardSet.cpp","additions":18,"deletions":15,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -257,1 +257,1 @@\n-  CardSetPtr get_card_set(uint card_region);\n+  G1CardSetHashTableValue* get_card_set(uint card_region);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardSet.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}