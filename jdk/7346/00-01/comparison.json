{"files":[{"patch":"@@ -30,0 +30,5 @@\n+    public static final char PACKAGE_SEPARATOR_INTERNAL = '\/';\n+    public static final char HIDDEN_SEPARATOR_INTERNAL = '.';\n+    public static final char PACKAGE_SEPARATOR_JAVA = HIDDEN_SEPARATOR_INTERNAL;\n+    public static final char HIDDEN_SEPARATOR_JAVA = PACKAGE_SEPARATOR_INTERNAL;\n+\n@@ -127,1 +132,2 @@\n-                String result = replacePackageAndHiddenSeparators(name.substring(1, name.length() - 1), '\/', '.');\n+                String type = name.substring(1, name.length() - 1);\n+                String result = replacePackageAndHiddenSeparators(type, PACKAGE_SEPARATOR_INTERNAL, HIDDEN_SEPARATOR_INTERNAL);\n@@ -129,1 +135,1 @@\n-                    final int lastDot = result.lastIndexOf('.');\n+                    final int lastDot = result.lastIndexOf(HIDDEN_SEPARATOR_INTERNAL);\n@@ -137,1 +143,5 @@\n-                return classForNameCompatible ? replacePackageAndHiddenSeparators(name, '\/', '.') : internalNameToJava(name.substring(1), qualified, false) + \"[]\";\n+                if (classForNameCompatible) {\n+                    return replacePackageAndHiddenSeparators(name, PACKAGE_SEPARATOR_INTERNAL, HIDDEN_SEPARATOR_INTERNAL);\n+                } else {\n+                    return internalNameToJava(name.substring(1), qualified, false) + \"[]\";\n+                }\n@@ -218,1 +228,1 @@\n-            return replacePackageAndHiddenSeparators(className, '.', '\/');\n+            return replacePackageAndHiddenSeparators(className, PACKAGE_SEPARATOR_JAVA, HIDDEN_SEPARATOR_JAVA);\n@@ -257,1 +267,3 @@\n-                result.append(\"L\").append(replacePackageAndHiddenSeparators(base,'.', '\/')).append(\";\");\n+                result.append(\"L\")\n+                        .append(replacePackageAndHiddenSeparators(base, PACKAGE_SEPARATOR_JAVA, HIDDEN_SEPARATOR_JAVA))\n+                        .append(\";\");\n","filename":"src\/jdk.internal.vm.ci\/share\/classes\/jdk.vm.ci.meta\/src\/jdk\/vm\/ci\/meta\/MetaUtil.java","additions":17,"deletions":5,"binary":false,"changes":22,"status":"modified"}]}