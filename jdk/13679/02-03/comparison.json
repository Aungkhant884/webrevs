{"files":[{"patch":"@@ -1702,1 +1702,1 @@\n-     * {@link ##legacy_tags_replacement Legacy tags} table.\n+     * {@link ##legacy_tags Legacy tags} table.\n@@ -1799,1 +1799,1 @@\n-     * <p>This implements the 'Language-Tag' production of BCP47, and\n+     * <p id=\"legacy_tags\">This implements the 'Language-Tag' production of BCP47, and\n@@ -1809,1 +1809,1 @@\n-     * <table class=\"striped\" id=\"legacy_tags_replacement\">\n+     * <table class=\"striped\">\n@@ -1841,1 +1841,1 @@\n-     * <table class=\"striped\" id=\"legacy_tags_no_replacement\">\n+     * <table class=\"striped\">\n","filename":"src\/java.base\/share\/classes\/java\/util\/Locale.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    private boolean wellFormed;\n+    private ParseStatus parseSts;\n@@ -206,1 +206,0 @@\n-            tag.wellFormed = false;\n@@ -214,2 +213,0 @@\n-        } else {\n-            tag.wellFormed = true;\n@@ -217,0 +214,1 @@\n+        tag.parseSts = sts;\n@@ -413,0 +411,1 @@\n+        LanguageTag parsedTag = parse(tag, null);\n@@ -414,2 +413,3 @@\n-        if (!parse(tag, null).wellFormed) {\n-            throw new IllformedLocaleException(\"Ill formed tag\");\n+        if (parsedTag.parseSts.errorMsg != null) {\n+            throw new IllformedLocaleException(String.format(\"Ill formed tag:\" +\n+                    \" %s\", parsedTag.parseSts.errorMsg));\n","filename":"src\/java.base\/share\/classes\/sun\/util\/locale\/LanguageTag.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n@@ -39,0 +40,1 @@\n+import java.util.IllformedLocaleException;\n@@ -48,1 +50,1 @@\n- * In addition, the method is tested to ensure that IllegalArgumentException and\n+ * In addition, the method is tested to ensure that IllformedLocaleException and\n@@ -55,1 +57,1 @@\n-    public void TestWellFormedTags(String tag, String foldedTag) {\n+    public void wellFormedTags(String tag, String foldedTag) {\n@@ -61,5 +63,3 @@\n-    public void TestIllFormedTags(String tag) {\n-        try {\n-            Locale.caseFoldLanguageTag(tag);\n-            throw new RuntimeException(\"$$$ Failure: ill formed tags should throw IAE\");\n-        } catch (IllegalArgumentException ignored) {}\n+    public void illFormedTags(String tag) {\n+        assertThrows(IllformedLocaleException.class, () ->\n+                Locale.caseFoldLanguageTag(tag));\n@@ -69,5 +69,3 @@\n-    public void TestNPE() {\n-        try {\n-            Locale.caseFoldLanguageTag(null);\n-            throw new RuntimeException(\"$$$ Failure: NPE should be thrown when tag is null\");\n-        } catch (NullPointerException ignored) {}\n+    public void throwNPE() {\n+        assertThrows(NullPointerException.class, () ->\n+                Locale.caseFoldLanguageTag(null));\n","filename":"test\/jdk\/java\/util\/Locale\/CaseFoldLanguageTagTest.java","additions":10,"deletions":12,"binary":false,"changes":22,"status":"modified"}]}