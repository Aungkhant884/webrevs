{"files":[{"patch":"@@ -118,1 +118,1 @@\n-  if (_buffer[_position] & (1 << (7 - _byte_pos))) {\n+  if (_buffer[_position] & (1 << (7 - _bit_pos))) {\n@@ -121,1 +121,1 @@\n-  if (++_byte_pos == 8) {\n+  if (++_bit_pos == 8) {\n@@ -123,1 +123,1 @@\n-    _byte_pos = 0;\n+    _bit_pos = 0;\n@@ -129,2 +129,2 @@\n-  uint8_t b1 = _buffer[_position] << _byte_pos;\n-  uint8_t b2 = _buffer[++_position] >> (8 - _byte_pos);\n+  uint8_t b1 = _buffer[_position] << _bit_pos;\n+  uint8_t b2 = _buffer[++_position] >> (8 - _bit_pos);\n@@ -153,1 +153,1 @@\n-  if (_byte_pos == 0) {\n+  if (_bit_pos == 0) {\n@@ -157,1 +157,1 @@\n-  write(_curr_byte << (8 - _byte_pos));\n+  write(_curr_byte << (8 - _bit_pos));\n@@ -159,1 +159,1 @@\n-  _byte_pos = 0;\n+  _bit_pos = 0;\n@@ -165,1 +165,1 @@\n-  if (++_byte_pos == 8) {\n+  if (++_bit_pos == 8) {\n@@ -168,1 +168,1 @@\n-    _byte_pos = 0;\n+    _bit_pos = 0;\n@@ -173,2 +173,2 @@\n-  write((_curr_byte << (8 - _byte_pos)) | (b >> _byte_pos));\n-  _curr_byte = (0xff >> (8 - _byte_pos)) & b;\n+  write((_curr_byte << (8 - _bit_pos)) | (b >> _bit_pos));\n+  _curr_byte = (0xff >> (8 - _bit_pos)) & b;\n@@ -195,4 +195,1 @@\n-  const int min_expansion = UNSIGNED5::MAX_LENGTH;\n-  if (nsize < min_expansion*2) {\n-    nsize = min_expansion*2;\n-  }\n+  assert(nsize > _position, \"sanity\");\n","filename":"src\/hotspot\/share\/code\/compressedStream.cpp","additions":13,"deletions":16,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-  size_t  _byte_pos {0}; \/\/ current bit offset\n+  size_t  _bit_pos {0}; \/\/ current bit offset\n@@ -136,1 +136,1 @@\n-    _byte_pos = 0;\n+    _bit_pos = 0;\n","filename":"src\/hotspot\/share\/code\/compressedStream.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}