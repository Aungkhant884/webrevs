{"files":[{"patch":"@@ -30,0 +30,1 @@\n+import java.io.IOException;\n@@ -50,9 +51,16 @@\n-        FileSystemView fsv = FileSystemView.getFileSystemView();\n-        Icon icon = fsv.getSystemIcon(new File(dir + sep + filename));\n-        if (icon instanceof ImageIcon) {\n-            Image image = ((ImageIcon)icon).getImage();\n-            if (image instanceof MultiResolutionImage) {\n-                Image variant = ((MultiResolutionImage)image).getResolutionVariant(16, 16);\n-                if (variant.getWidth(null) != 16) {\n-                    throw new RuntimeException(\"Default file icon has size of \" +\n-                            variant.getWidth(null) + \" instead of 16\");\n+        File testFile = new File(dir + sep + filename);\n+        try {\n+            if (!testFile.exists()) {\n+                testFile.createNewFile();\n+                testFile.deleteOnExit();\n+            }\n+            FileSystemView fsv = FileSystemView.getFileSystemView();\n+            Icon icon = fsv.getSystemIcon(new File(dir + sep + filename));\n+            if (icon instanceof ImageIcon) {\n+                Image image = ((ImageIcon) icon).getImage();\n+                if (image instanceof MultiResolutionImage) {\n+                    Image variant = ((MultiResolutionImage) image).getResolutionVariant(16, 16);\n+                    if (variant.getWidth(null) != 16) {\n+                        throw new RuntimeException(\"Default file icon has size of \" +\n+                                variant.getWidth(null) + \" instead of 16\");\n+                    }\n@@ -61,0 +69,2 @@\n+        } catch (IOException ioe) {\n+            throw new RuntimeException(\"Unexpected error while creating the test file: \" + ioe.getLocalizedMessage());\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/FileSystemView\/WindowsDefaultIconSizeTest.java","additions":19,"deletions":9,"binary":false,"changes":28,"status":"modified"},{"patch":"","filename":"test\/jdk\/javax\/swing\/JFileChooser\/FileSystemView\/test.not","additions":0,"deletions":0,"binary":false,"changes":0,"status":"deleted"}]}