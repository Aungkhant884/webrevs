{"files":[{"patch":"@@ -67,0 +67,3 @@\n+<p>When tests fail or timeout, jtreg runs its failure handler to capture necessary data from the system where the test was run. This data can then be used to analyze the test failures. Collecting this data involves running various commands (which are listed in files residing in <code>test\/failure_handler\/src\/share\/conf<\/code>) and some of these commands use <code>sudo<\/code>. If the system's <code>sudoers<\/code> file isn't configured to allow running these commands, then it can result in password being prompted during the failure handler execution. Typically, when running locally, collecting this additional data isn't always necessary. To disable running the failure handler, use <code>--enable-jtreg-failure-handler=no<\/code> when running <code>configure<\/code>. If, however, you want to let the failure handler to run and don't want to be prompted for sudo password, then you can configure your <code>sudoers<\/code> file appropriately. Please read the necessary documentation of your operating system to see how to do that; here we only show one possible way of doing that - edit the <code>\/etc\/sudoers.d\/sudoers<\/code> file to include the following line:<\/p>\n+<pre><code>johndoe ALL=(ALL) NOPASSWD: \/sbin\/dmesg<\/code><\/pre>\n+<p>This line configures <code>sudo<\/code> to <em>not<\/em> prompt for password for the <code>\/sbin\/dmesg<\/code> command (this is one of the commands that is listed in the files at <code>test\/failure_handler\/src\/share\/conf<\/code>), for the user <code>johndoe<\/code>. Here <code>johndoe<\/code> is the user account under which the jtreg tests are run. Replace the username with a relevant user account of your system.<\/p>\n","filename":"doc\/testing.html","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -46,0 +46,25 @@\n+When tests fail or timeout, jtreg runs its failure handler to capture necessary\n+data from the system where the test was run. This data can then be used to\n+analyze the test failures. Collecting this data involves running various commands\n+(which are listed in files residing in `test\/failure_handler\/src\/share\/conf`)\n+and some of these commands use `sudo`. If the system's `sudoers` file isn't\n+configured to allow running these commands, then it can result in password being\n+prompted during the failure handler execution. Typically, when running locally,\n+collecting this additional data isn't always necessary. To disable running the\n+failure handler, use `--enable-jtreg-failure-handler=no` when running `configure`.\n+If, however, you want to let the failure handler to run and don't want to be\n+prompted for sudo password, then you can configure your `sudoers` file\n+appropriately. Please read the necessary documentation of your operating system\n+to see how to do that; here we only show one possible way of doing that - edit\n+the `\/etc\/sudoers.d\/sudoers` file to include the following line:\n+\n+```\n+johndoe ALL=(ALL) NOPASSWD: \/sbin\/dmesg\n+```\n+\n+This line configures `sudo` to _not_ prompt for password for the `\/sbin\/dmesg`\n+command (this is one of the commands that is listed in the files\n+at `test\/failure_handler\/src\/share\/conf`), for the user `johndoe`. Here `johndoe`\n+is the user account under which the jtreg tests are run. Replace the username\n+with a relevant user account of your system.\n+\n","filename":"doc\/testing.md","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}