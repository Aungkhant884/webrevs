{"files":[{"patch":"@@ -31,1 +31,0 @@\n-import java.lang.reflect.Member;\n@@ -51,1 +50,0 @@\n-import jdk.internal.reflect.CallerSensitive;\n@@ -80,1 +78,1 @@\n- * <p>\n+ * <h2><a id=\"set-security-manager\">Setting a Security Manager<\/a><\/h2>\n@@ -99,2 +97,5 @@\n- * \"{@code disallow}\" then a security manager will not be set at startup and\n- * cannot be set dynamically (the\n+ * \"{@code allow}\", then a security manager will not be set at startup but can\n+ * be set dynamically. If the Java virtual machine is started with the\n+ * {@code java.security.manager} system property not set or set to the special\n+ * token \"{@code disallow}\", then a security manager will not be set at startup\n+ * and cannot be set dynamically (the\n@@ -102,4 +103,1 @@\n- * method will throw an {@code UnsupportedOperationException}). If the\n- * {@code java.security.manager} system property is not set or is set to the\n- * special token \"{@code allow}\", then a security manager will not be set at\n- * startup but can be set dynamically. Finally, if the\n+ * method will throw an {@code UnsupportedOperationException}). Finally, if the\n@@ -130,2 +128,1 @@\n- *   <td>Success or throws {@code SecurityException} if not permitted by\n- * the currently installed security manager<\/td>\n+ *   <td>Throws {@code UnsupportedOperationException}<\/td>\n@@ -151,1 +148,1 @@\n- *   <td>Always throws {@code UnsupportedOperationException}<\/td>\n+ *   <td>Throws {@code UnsupportedOperationException}<\/td>\n@@ -170,2 +167,0 @@\n- * <p> A future release of the JDK may change the default value of the\n- * {@code java.security.manager} system property to \"{@code disallow}\".\n@@ -175,1 +170,1 @@\n- * <p>\n+ * <h2><a id=\"check-permission\">Checking Permissions<\/a><\/h2>\n","filename":"src\/java.base\/share\/classes\/java\/lang\/SecurityManager.java","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -364,1 +364,1 @@\n-     * started with the system property {@code java.security.manager} set to\n+     * started with the system property {@code java.security.manager} not set or set to\n@@ -366,1 +366,3 @@\n-     * method cannot be used to set a security manager.\n+     * method cannot be used to set a security manager. See the following\n+     * <a href=\"SecurityManager.html#set-security-manager\">section of the\n+     * {@code SecurityManager} class specification<\/a> for more details.\n@@ -2231,1 +2233,1 @@\n-            allowSecurityManager = MAYBE;\n+            allowSecurityManager = NEVER;\n","filename":"src\/java.base\/share\/classes\/java\/lang\/System.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8191053\n+ * @bug 8191053 8270380\n@@ -38,1 +38,1 @@\n-        boolean disallow = \"disallow\".equals(prop);\n+        boolean disallow = !\"allow\".equals(prop);\n","filename":"test\/jdk\/java\/lang\/System\/AllowSecurityManager.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8266459 8268349 8269543\n+ * @bug 8266459 8268349 8269543 8270380\n@@ -56,1 +56,1 @@\n-            allowTest(null, testClasses);\n+            disallowTest(null, testClasses);\n@@ -69,1 +69,1 @@\n-            allowTest(null, \"a.jar\");\n+            disallowTest(null, \"a.jar\");\n","filename":"test\/jdk\/java\/lang\/System\/SecurityManagerWarnings.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @run testng\/othervm Basic\n+ * @run testng\/othervm -Djava.security.manager=allow Basic\n","filename":"test\/jdk\/sun\/security\/pkcs11\/KeyStore\/Basic.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-${TESTJAVA}${FS}bin${FS}java ${TEST_ARGS} MultipleLogins useSimplePolicy || exit 11\n+${TESTJAVA}${FS}bin${FS}java ${TEST_ARGS} -Djava.security.manager=allow MultipleLogins useSimplePolicy || exit 11\n","filename":"test\/jdk\/sun\/security\/pkcs11\/Provider\/MultipleLogins.sh","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}