{"files":[{"patch":"@@ -294,1 +294,1 @@\n-    private static boolean isUseSharedSpacesDisabled() {\n+    public static boolean isUseSharedSpacesDisabled() {\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/DynamicArchiveTestBase.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -183,4 +183,8 @@\n-        run2(null, topArchiveName,\n-             \"-XX:+RecordDynamicDumpInfo\",\n-             \"-cp\", appJar, mainClass)\n-            .assertAbnormalExit(\"-XX:+RecordDynamicDumpInfo is unsupported when a dynamic CDS archive is specified in -XX:SharedArchiveFile:\");\n+        if (isUseSharedSpacesDisabled()) {\n+            System.out.println(\"This test is not applicable when JTREG tests are executed with -Xshare:off, or if the JDK doesn't have a default archive.\");\n+        } else {\n+          run2(null, topArchiveName,\n+               \"-XX:+RecordDynamicDumpInfo\",\n+               \"-cp\", appJar, mainClass)\n+              .assertAbnormalExit(\"-XX:+RecordDynamicDumpInfo is unsupported when a dynamic CDS archive is specified in -XX:SharedArchiveFile:\");\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/SharedArchiveFileOption.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"}]}