{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -238,0 +238,2 @@\n+  \/\/ Start the ceiling with the estimate for one thread.\n+  set_in_use_list_ceiling(AvgMonitorsPerThreadEstimate);\n@@ -252,1 +254,2 @@\n-\/\/ Start the ceiling with the estimate for one thread.\n+\/\/ Start the ceiling with the estimate for one thread in initialize()\n+\/\/ which is called after cmd line options are processed.\n@@ -255,1 +258,1 @@\n-static jint _in_use_list_ceiling = AvgMonitorsPerThreadEstimate;\n+static jint _in_use_list_ceiling = 0;\n@@ -1180,0 +1183,4 @@\n+void ObjectSynchronizer::set_in_use_list_ceiling(size_t new_value) {\n+  _in_use_list_ceiling = new_value;\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -134,0 +134,1 @@\n+  static void set_in_use_list_ceiling(size_t new_value);\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.hpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1110,1 +1110,1 @@\n-  if (Threads_lock->try_lock()) {\n+  if (Threads_lock->try_lock_without_rank_check()) {\n","filename":"src\/hotspot\/share\/runtime\/threadSMR.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}