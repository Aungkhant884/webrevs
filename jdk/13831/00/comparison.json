{"files":[{"patch":"@@ -302,0 +302,2 @@\n+        f = DocFile.createFileForOutput(configuration, DocPaths.LINK_SVG);\n+        f.copyResource(DocPaths.RESOURCES.resolve(DocPaths.LINK_SVG), true, true);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDoclet.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,3 +34,2 @@\n-    copyToClipboard: \"##REPLACE:doclet.Copy_to_clipboard##\",\n-    copyUrlToClipboard: \"##REPLACE:doclet.Copy_url_to_clipboard##\",\n-    copiedToClipboard: \"##REPLACE:doclet.Copied_to_clipboard##\"\n+    linkIcon: \"##REPLACE:doclet.Link_icon##\",\n+    linkToSection: \"##REPLACE:doclet.Link_to_section##\"\n@@ -412,1 +411,1 @@\n-        \/\/ Create copy-to-clipboard buttons for headers with an associated id attribute\n+        \/\/ Create anchor liniks for headers with an associated id attribute\n@@ -416,4 +415,3 @@\n-            hdr.append($(\"<button class='copy copy-header' onclick='copyUrl(this)' aria-label='\"\n-                + messages.copyUrlToClipboard +\"'> \" + \"<img src='\" + pathtoroot + \"copy.svg' alt='\" +\n-                messages.copyUrlToClipboard + \"'> \" + \"<span data-copied='\" + messages.copiedToClipboard +\n-                \"'>\" + messages.copyToClipboard + \"<\/span><\/button>\"));\n+            hdr.append(\" <a href='#\" + id + \"' class='anchor-link' aria-label='\" + messages.linkToSection\n+                + \"'><img src='\" + pathtoroot + \"link.svg' alt='\" + messages.linkIcon +\"' tabindex='0'\"\n+                + \" style='width: 0.9em; height: 0.9em; vertical-align: baseline;'><\/a>\");\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/search.js.template","additions":6,"deletions":8,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2010, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -76,0 +76,2 @@\n+doclet.Link_icon=Link icon\n+doclet.Link_to_section=Link to this section\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,31 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+ Copyright (c) 2023, Oracle and\/or its affiliates. All rights reserved.\n+ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\n+ This code is free software; you can redistribute it and\/or modify it\n+ under the terms of the GNU General Public License version 2 only, as\n+ published by the Free Software Foundation.  Oracle designates this\n+ particular file as subject to the \"Classpath\" exception as provided\n+ by Oracle in the LICENSE file that accompanied this code.\n+\n+ This code is distributed in the hope that it will be useful, but WITHOUT\n+ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ version 2 for more details (a copy is included in the LICENSE file that\n+ accompanied this code).\n+\n+ You should have received a copy of the GNU General Public License version\n+ 2 along with this work; if not, write to the Free Software Foundation,\n+ Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+\n+ Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ or visit www.oracle.com if you need additional information or have any\n+ questions.\n+-->\n+\n+<svg version=\"1.1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 256 256\" fill=\"#505050\">\n+    <path d=\"M32 239.3c18.2 16.7 57.1 15.4 74.5-1.7l30.9-32c8.3-8.8 4.8-15.1.7-19.9-4.7-3-12-8.1-20.4.5l-29.4 29.6a29.4 29.4 0 0 1-39.4.9l-8-7c-8.8-9.4-11-28.3-.8-38.8l49.8-51.3c7.2-6.6 21.3-10 36.1-2.4 6.9 5.4 15.6 15.7 26 6.2 9.9-11.2 2.9-20.4-10-29.3-18.7-12.6-52-14.8-70.4 3.8L17 154.2c-20 20.2-11.3 58 1.7 71.5a69 69 0 0 0 13.2 13.6z\"\/>\n+    <path d=\"M223.2 17.5c-18.4-16.6-57.3-15.3-74.6 2l-30.8 31.9c-8.3 9-4.8 15.2-.7 20 4.8 3 12.1 8 20.5-.6 4.8-5 29.3-29.6 29.3-29.6a29.4 29.4 0 0 1 39.4-1l8 6.8c8.8 9.5 11 28.3.9 38.9l-49.6 51.4c-7.2 6.7-21.3 10.1-36.1 2.6-7-5.4-15.7-15.7-26.1-6.2-9.8 11.2-2.8 20.4 10.2 29.3 18.7 12.5 52 14.7 70.3-4l54.4-56.5c20-20.3 11.2-58-1.9-71.5a69 69 0 0 0-13.2-13.5Z\"\/>\n+<\/svg>\n\\ No newline at end of file\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/link.svg","additions":31,"deletions":0,"binary":false,"changes":31,"status":"added"},{"patch":"@@ -207,19 +207,0 @@\n-\/\/ Copy the link to the adjacent header to the clipboard\n-function copyUrl(button) {\n-    var id;\n-    var header = button.parentElement;\n-    if (header.hasAttribute(\"id\")) {\n-        id = header.getAttribute(\"id\");\n-    } else if (header.parentElement.tagName === 'SECTION' && header.parentElement.hasAttribute(\"id\")) {\n-        id = header.parentElement.getAttribute(\"id\");\n-    } else if (header.firstElementChild && header.firstElementChild.tagName === \"A\"\n-                                        && header.firstElementChild.hasAttribute(\"id\")) {\n-        id = header.firstElementChild.getAttribute(\"id\");\n-    }\n-    var url = document.location.href;\n-    if (url.indexOf(\"#\") > -1) {\n-        url = url.substring(0, url.indexOf(\"#\"));\n-    }\n-    copyToClipboard(url + \"#\" + id);\n-    switchCopyLabel(button, button.lastElementChild);\n-}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/script.js","additions":0,"deletions":19,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -914,0 +914,15 @@\n+\/*\n+ * Styles for header\/section anchor links\n+ *\/\n+a.anchor-link {\n+    opacity: 0;\n+    transition: opacity 0.1s;\n+}\n+:hover > a.anchor-link {\n+    opacity: 80%;\n+}\n+a.anchor-link:hover,\n+a.anchor-link:focus-visible,\n+a.anchor-link.visible {\n+    opacity: 100%;\n+}\n@@ -957,11 +972,0 @@\n-\/* header\/section copy button *\/\n-button.copy-header {\n-    margin: 0 0.2em;\n-    padding: 0 4px;\n-    height: 1.16em;\n-    opacity: 0;\n-}\n-button.copy-header img {\n-    height: 0.88em;\n-    top: 0.1em;\n-}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":15,"deletions":11,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -100,0 +100,3 @@\n+    \/** The name of the link icon file. *\/\n+    public static final DocPath LINK_SVG = DocPath.create(\"link.svg\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/DocPaths.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-        removeAll(styleSheetNames, \"result-highlight\", \"result-item\", \"copy-header\",\n+        removeAll(styleSheetNames, \"result-highlight\", \"result-item\", \"anchor-link\",\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/checkStylesheetClasses\/CheckStylesheetClasses.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -204,0 +204,1 @@\n+            \"link.svg\",\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/api\/basic\/APITest.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}