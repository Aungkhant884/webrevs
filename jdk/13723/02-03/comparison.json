{"files":[{"patch":"@@ -1674,2 +1674,3 @@\n-  \/\/ on a ThreadsList. There will be a release when the Theads_lock is\n-  \/\/ dropped somewhere in the caller, but let's be more proactive.\n+  \/\/ on a ThreadsList. We don't want to wait for the release when the\n+  \/\/ Theads_lock is dropped somewhere in the caller since the JavaThread*\n+  \/\/ is already visible to JVM\/TI via the ThreadsList.\n@@ -2112,2 +2113,4 @@\n-  \/\/ on a ThreadsList.\n-  java_lang_Thread::set_thread(thread_oop(), target); \/\/ isAlive == true now\n+  \/\/ on a ThreadsList. We don't want to wait for the release when the\n+  \/\/ Theads_lock is dropped when the 'mu' destructor is run since the\n+  \/\/ JavaThread* is already visible to JVM\/TI via the ThreadsList.\n+  java_lang_Thread::release_set_thread(thread_oop(), target); \/\/ isAlive == true now\n","filename":"src\/hotspot\/share\/runtime\/javaThread.cpp","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}