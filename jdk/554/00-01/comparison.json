{"files":[{"patch":"@@ -172,1 +172,7 @@\n-        for (int id : getDisplayIDs()) {\n+\n+        int[] displayIDs = getDisplayIDs();\n+        if (displayIDs.length == 0) {\n+            \/\/ we could throw AWTError in this case.\n+            displayIDs = new int[]{mainDisplayID};\n+        }\n+        for (int id : displayIDs) {\n@@ -176,0 +182,2 @@\n+        \/\/ fetch the main display again, the old value might be outdated\n+        mainDisplayID = getMainDisplayID();\n@@ -178,1 +186,1 @@\n-        \/\/ most probably one more \"displayReconfiguration\" is on the road\n+        \/\/ most probably one more \"displayReconfiguration\" is on the road if not\n@@ -180,1 +188,1 @@\n-            devices.put(mainDisplayID, new CGraphicsDevice(mainDisplayID));\n+            mainDisplayID = displayIDs[0]; \/\/ best we can do\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/awt\/CGraphicsEnvironment.java","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"}]}