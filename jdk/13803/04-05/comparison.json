{"files":[{"patch":"@@ -45,1 +45,3 @@\n-    private static final boolean useScreencast;\n+    private static final String screenshotMethod;\n+    private static final String METHOD_X11 = \"x11\";\n+    private static final String METHOD_SCREENCAST = \"dbusScreencast\";\n@@ -62,6 +64,7 @@\n-        useScreencast = Boolean.parseBoolean(\n-                AccessController.doPrivileged(\n-                        new GetPropertyAction(\n-                                \"awt.robot.screencastEnabled\",\n-                                String.valueOf(isOnWayland)\n-                        )));\n+        screenshotMethod = AccessController.doPrivileged(\n+                new GetPropertyAction(\n+                        \"awt.robot.screenshotMethod\",\n+                        isOnWayland\n+                                ? METHOD_SCREENCAST\n+                                : METHOD_X11\n+                ));\n@@ -71,1 +74,1 @@\n-    private final X11GraphicsConfig  xgc;\n+    private final X11GraphicsConfig xgc;\n@@ -122,1 +125,2 @@\n-        if (useScreencast && ScreencastHelper.isAvailable()) {\n+        if (screenshotMethod.equals(METHOD_SCREENCAST)\n+                && ScreencastHelper.isAvailable()) {\n@@ -133,1 +137,2 @@\n-        if (useScreencast && ScreencastHelper.isAvailable()) {\n+        if (screenshotMethod.equals(METHOD_SCREENCAST)\n+                && ScreencastHelper.isAvailable()) {\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XRobotPeer.java","additions":15,"deletions":10,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-                                \"awt.robot.screencastDebug\",\n+                                \"awt.robot.screenshotDebug\",\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/screencast\/ScreencastHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}