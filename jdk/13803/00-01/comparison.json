{"files":[{"patch":"@@ -194,1 +194,1 @@\n-    BUILD_LIBPIPEWIRE_HEADER_DIRS := \\\n+    LIBPIPEWIRE_HEADER_DIRS := \\\n@@ -206,1 +206,1 @@\n-        $(BUILD_LIBPIPEWIRE_HEADER_DIRS)\n+        $(LIBPIPEWIRE_HEADER_DIRS)\n","filename":"make\/modules\/java.desktop\/lib\/Awt2dLibraries.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1886,4 +1886,0 @@\n-    public boolean isRunningOnWayland() {\n-        return false;\n-    }\n-\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/SunToolkit.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -424,31 +424,0 @@\n-\n-    private static volatile Boolean isOnWayland = null;\n-\n-    @SuppressWarnings(\"removal\")\n-    public static boolean isOnWayland() {\n-        Boolean result = isOnWayland;\n-        if (result == null) {\n-            synchronized (GTK_LOCK) {\n-                result = isOnWayland;\n-                if (result == null) {\n-                    isOnWayland\n-                            = result\n-                            = AccessController.doPrivileged(\n-                            (PrivilegedAction<Boolean>) () -> {\n-                                final String display =\n-                                        System.getenv(\"WAYLAND_DISPLAY\");\n-\n-                                return display != null\n-                                        && !display.trim().isEmpty();\n-                            }\n-                    );\n-                }\n-            }\n-        }\n-        return result;\n-    }\n-\n-    @Override\n-    public boolean isRunningOnWayland() {\n-        return isOnWayland();\n-    }\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/UNIXToolkit.java","additions":0,"deletions":31,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-    private static final int DENIED = -11; \/\/defined in native code\n+    private static final int DENIED = -11;\n@@ -62,1 +62,1 @@\n-    public static synchronized void getRGBPixels(\n+    public static void getRGBPixels(\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/screencast\/ScreencastHelper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -602,1 +602,1 @@\n-    pipewire_libhandle = dlopen(\"libpipewire-0.3.so.0\",\n+    pipewire_libhandle = dlopen(VERSIONED_JNI_LIB_NAME(\"pipewire-0.3\", \"0\"),\n@@ -722,1 +722,1 @@\n-                         ? token = (*env)->GetStringUTFChars(env, jtoken, NULL)\n+                         ? (*env)->GetStringUTFChars(env, jtoken, NULL)\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/screencast_pipewire.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,2 +64,0 @@\n-void debug_screencast(const char *__restrict fmt, ...);\n-\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/screencast_pipewire.h","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}