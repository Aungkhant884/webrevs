{"files":[{"patch":"@@ -883,0 +883,6 @@\n+                    java.io.StringWriter sw = new java.io.StringWriter();\n+                    ite.printStackTrace\n+                            (new java.io.PrintWriter(sw));\n+                    sw.flush();\n+                    le = new LoginException(sw.toString());\n+\n","filename":"src\/java.base\/share\/classes\/javax\/security\/auth\/login\/LoginContext.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,95 @@\n+\/*\n+ *\n+ * Copyright (c) 2001, 2002, Oracle and\/or its affiliates. All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or\n+ * without modification, are permitted provided that the following\n+ * conditions are met:\n+ *\n+ * -Redistributions of source code must retain the above copyright\n+ * notice, this  list of conditions and the following disclaimer.\n+ *\n+ * -Redistribution in binary form must reproduct the above copyright\n+ * notice, this list of conditions and the following disclaimer in\n+ * the documentation and\/or other materials provided with the\n+ * distribution.\n+ *\n+ * Neither the name of Oracle nor the names of\n+ * contributors may be used to endorse or promote products derived\n+ * from this software without specific prior written permission.\n+ *\n+ * This software is provided \"AS IS,\" without a warranty of any\n+ * kind. ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND\n+ * WARRANTIES, INCLUDING ANY IMPLIED WARRANTY OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT, ARE HEREBY\n+ * EXCLUDED. SUN AND ITS LICENSORS SHALL NOT BE LIABLE FOR ANY\n+ * DAMAGES OR LIABILITIES  SUFFERED BY LICENSEE AS A RESULT OF  OR\n+ * RELATING TO USE, MODIFICATION OR DISTRIBUTION OF THE SOFTWARE OR\n+ * ITS DERIVATIVES. IN NO EVENT WILL SUN OR ITS LICENSORS BE LIABLE\n+ * FOR ANY LOST REVENUE, PROFIT OR DATA, OR FOR DIRECT, INDIRECT,\n+ * SPECIAL, CONSEQUENTIAL, INCIDENTAL OR PUNITIVE DAMAGES, HOWEVER\n+ * CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF\n+ * THE USE OF OR INABILITY TO USE SOFTWARE, EVEN IF SUN HAS BEEN\n+ * ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\n+ *\n+ * You acknowledge that Software is not designed, licensed or\n+ * intended for use in the design, construction, operation or\n+ * maintenance of any nuclear facility.\n+ *\/\n+\n+import javax.security.auth.*;\n+import javax.security.auth.callback.*;\n+import javax.security.auth.login.*;\n+import com.sun.security.auth.callback.TextCallbackHandler;\n+\n+\/*\n+ * @test\n+ * @bug 8215916\n+ * @summary This Sample application attempts to authenticate a user\n+ * and reports whether or not the authentication was successful.\n+ * @compile JaasAcn.java\n+ * @run main\/othervm -Djava.security.auth.login.config=file:${test.src}\/jaas.conf -Djava.security.debug=logincontext JaasAcn\n+ *\/\n+\n+\/**\n+ * This JaasAcn application attempts to authenticate a user\n+ * and reports whether or not the authentication was successful.\n+ *\/\n+public class JaasAcn {\n+\n+    public static void main(String[] args) {\n+\n+        \/\/ Obtain a LoginContext, needed for authentication. Tell it\n+        \/\/ to use the LoginModule implementation specified by the\n+        \/\/ entry named \"JaasSample\" in the JAAS login configuration\n+        \/\/ file and to also use the specified CallbackHandler.\n+        LoginContext lc = null;\n+        try {\n+            lc = new LoginContext(\"JaasSample\", new TextCallbackHandler());\n+        } catch (LoginException le) {\n+            System.err.println(\"Cannot create LoginContext. \"\n+                + le.getMessage());\n+            System.exit(-1);\n+        } catch (SecurityException se) {\n+            System.err.println(\"Cannot create LoginContext. \"\n+                + se.getMessage());\n+            System.exit(-1);\n+        }\n+\n+        try {\n+\n+            \/\/ attempt authentication\n+            lc.login();\n+\n+        } catch (LoginException le) {\n+\n+            System.err.println(\"Authentication failed:\");\n+            System.err.println(\"  \" + le.getMessage());\n+            System.exit(-1);\n+\n+        }\n+\n+        System.out.println(\"Authentication succeeded!\");\n+\n+    }\n+}\n","filename":"test\/jdk\/javax\/security\/auth\/login\/LoginContext\/UnixJaasLogin\/JaasAcn.java","additions":95,"deletions":0,"binary":false,"changes":95,"status":"added"},{"patch":"@@ -0,0 +1,8 @@\n+\/** Login Configuration for the JaasAcn and\n+ ** JaasAzn Applications \n+ **\/\n+\n+JaasSample {\n+   com.sun.security.auth.module.UnixLoginModule optional debug=true;\n+};\n+\n","filename":"test\/jdk\/javax\/security\/auth\/login\/LoginContext\/UnixJaasLogin\/jaas.conf","additions":8,"deletions":0,"binary":false,"changes":8,"status":"added"}]}