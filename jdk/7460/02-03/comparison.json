{"files":[{"patch":"@@ -36,1 +36,0 @@\n-\n@@ -42,0 +41,1 @@\n+ * @bug 8281738\n@@ -43,1 +43,1 @@\n- * ActionEvent on focused Button or not.\n+ *          ActionEvent on focused Button or not.\n@@ -67,2 +67,1 @@\n-                SwingUtilities.invokeAndWait(() -> frame = new JFrame());\n-                robot.waitForIdle();\n+                AtomicBoolean lafSetSuccess = new AtomicBoolean(false);\n@@ -70,2 +69,5 @@\n-                    setLookAndFeel(laf);\n-                    createUI();\n+                    lafSetSuccess.set(setLookAndFeel(laf));\n+                    \/\/ Call createUI() only if setting LnF succeeded.\n+                    if (lafSetSuccess.get()) {\n+                        createUI();\n+                    }\n@@ -73,0 +75,5 @@\n+                \/\/ If setting LnF failed, then just get next LnF and continue.\n+                if (!lafSetSuccess.get()) {\n+                    continue;\n+                }\n+                robot.waitForIdle();\n@@ -106,1 +113,1 @@\n-    private static void setLookAndFeel(String lafName) {\n+    private static boolean setLookAndFeel(String lafName) {\n@@ -111,0 +118,1 @@\n+            return false;\n@@ -115,0 +123,1 @@\n+        return true;\n@@ -118,0 +127,1 @@\n+        frame = new JFrame();\n","filename":"test\/jdk\/javax\/swing\/JButton\/SpaceKeyActivatesButton.java","additions":17,"deletions":7,"binary":false,"changes":24,"status":"modified"}]}