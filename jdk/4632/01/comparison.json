{"files":[{"patch":"@@ -4207,2 +4207,6 @@\n-  template <class T> void do_oop_work(T* p) {\n-    T heap_oop = RawAccess<>::oop_load(p);\n+public:\n+  RegisterNMethodOopClosure(G1CollectedHeap* g1h, nmethod* nm) :\n+    _g1h(g1h), _nm(nm) {}\n+\n+  void do_oop(oop* p) {\n+    oop heap_oop = RawAccess<>::oop_load(p);\n@@ -4222,6 +4226,1 @@\n-public:\n-  RegisterNMethodOopClosure(G1CollectedHeap* g1h, nmethod* nm) :\n-    _g1h(g1h), _nm(nm) {}\n-\n-  void do_oop(oop* p)       { do_oop_work(p); }\n-  void do_oop(narrowOop* p) { do_oop_work(p); }\n+  void do_oop(narrowOop* p) { ShouldNotReachHere(); }\n@@ -4234,2 +4233,6 @@\n-  template <class T> void do_oop_work(T* p) {\n-    T heap_oop = RawAccess<>::oop_load(p);\n+public:\n+  UnregisterNMethodOopClosure(G1CollectedHeap* g1h, nmethod* nm) :\n+    _g1h(g1h), _nm(nm) {}\n+\n+  void do_oop(oop* p) {\n+    oop heap_oop = RawAccess<>::oop_load(p);\n@@ -4248,6 +4251,1 @@\n-public:\n-  UnregisterNMethodOopClosure(G1CollectedHeap* g1h, nmethod* nm) :\n-    _g1h(g1h), _nm(nm) {}\n-\n-  void do_oop(oop* p)       { do_oop_work(p); }\n-  void do_oop(narrowOop* p) { do_oop_work(p); }\n+  void do_oop(narrowOop* p) { ShouldNotReachHere(); }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":14,"deletions":16,"binary":false,"changes":30,"status":"modified"}]}