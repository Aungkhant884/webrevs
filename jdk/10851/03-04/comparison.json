{"files":[{"patch":"@@ -38,2 +38,2 @@\n-    static int MAX_TRIES = 3;\n-    static String GREETINGS_MESSAGE = \"Greetings from SelectWhenRefused!\";\n+    static final int MAX_TRIES = 3;\n+    static final String GREETINGS_MESSAGE = \"Greetings from SelectWhenRefused!\";\n@@ -65,1 +65,1 @@\n-                    ignoreStrayWakeup = checkUnexpectedWakeup(dc, sel.selectedKeys());\n+                    ignoreStrayWakeup = checkUnexpectedWakeup(sel.selectedKeys());\n@@ -74,2 +74,0 @@\n-                } else {\n-                    break;\n@@ -77,0 +75,1 @@\n+                break;\n@@ -113,1 +112,1 @@\n-                    ignoreStrayWakeup = checkUnexpectedWakeup(dc, sel.selectedKeys());\n+                    ignoreStrayWakeup = checkUnexpectedWakeup(sel.selectedKeys());\n@@ -136,1 +135,1 @@\n-    static boolean checkUnexpectedWakeup(DatagramChannel dc, Set<SelectionKey> selectedKeys) {\n+    static boolean checkUnexpectedWakeup(Set<SelectionKey> selectedKeys) {\n@@ -145,0 +144,1 @@\n+                DatagramChannel datagramChannel = (DatagramChannel) key.channel();\n@@ -146,1 +146,1 @@\n-                SocketAddress sa = dc.receive(buf);\n+                SocketAddress sa = datagramChannel.receive(buf);\n@@ -148,1 +148,3 @@\n-                System.out.format(\"received %s at %s from %s%n\", message, dc.getLocalAddress(), sa);\n+                if (sa != null) {\n+                    System.out.format(\"received %s at %s from %s%n\", message, datagramChannel.getLocalAddress(), sa);\n+                }\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/SelectWhenRefused.java","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"}]}