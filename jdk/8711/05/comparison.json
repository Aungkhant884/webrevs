{"files":[{"patch":"@@ -360,0 +360,5 @@\n+     * <p>\n+     * In cases where this method is called from a context where there is no\n+     * caller frame on the stack (e.g. when called directly from a JNI\n+     * attached thread), the system class loader is used.\n+     *\n@@ -383,1 +388,3 @@\n-        return forName0(className, true, ClassLoader.getClassLoader(caller), caller);\n+        ClassLoader loader = (caller == null) ? ClassLoader.getSystemClassLoader()\n+                                              : ClassLoader.getClassLoader(caller);\n+        return forName0(className, true, loader, caller);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Class.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-#include <stdio.h>\n@@ -33,0 +32,1 @@\n+#include <iostream>\n@@ -51,1 +51,1 @@\n-        ::printf(\"ERROR: %s::%s, %s\\n\", nm.c_str(), method.c_str(), msg.c_str());\n+        std::cerr << \"ERROR: \" << nm << \"::\" << method << \", \" << msg << std::endl;\n@@ -205,1 +205,1 @@\n-    ::printf(\"ERROR: %s\\n\", msg.c_str());\n+    std::cerr << \"ERROR: \" << msg << std::endl;\n","filename":"test\/jdk\/jni\/nullCaller\/CallHelper.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @bug 8280902 8281000 8281003 8281006\n+ * @bug 8280902 8281000 8281003 8281006 8281001\n","filename":"test\/jdk\/jni\/nullCaller\/NullCallerTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -86,1 +86,0 @@\n-\/* coming soon\n@@ -91,1 +90,0 @@\n-*\/\n","filename":"test\/jdk\/jni\/nullCaller\/exeNullCallerTest.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}