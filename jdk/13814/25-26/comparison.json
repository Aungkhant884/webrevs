{"files":[{"patch":"@@ -36,0 +36,1 @@\n+    private static boolean testFailed = false;\n@@ -61,0 +62,4 @@\n+        if (testFailed) {\n+            throw new RuntimeException(\"TEST FAILED\");\n+        }\n+\n@@ -161,2 +166,1 @@\n-            System.out.println(\"Unexpected exception thrown.\");\n-            e.printStackTrace(System.out);\n+            reportUnexpected(e, \"during join\");\n@@ -211,2 +215,1 @@\n-                System.out.println(\"Unexpected exception thrown.\");\n-                e.printStackTrace(System.out);\n+                reportUnexpected(e, \"during join\");\n@@ -269,2 +272,1 @@\n-                System.out.println(\"Unexpected exception thrown.\");\n-                e.printStackTrace(System.out);\n+                reportUnexpected(e, \"during join\");\n@@ -303,0 +305,6 @@\n+    private static void reportUnexpected(Exception e, String reason) {\n+        System.out.println(\"Unexpected exception thrown \" + reason + \".\");\n+        e.printStackTrace(System.out);\n+        testFailed = true;\n+    }\n+\n@@ -307,1 +315,0 @@\n-            System.out.println(\"Unexpected exception thrown.\");\n@@ -362,2 +369,1 @@\n-                        System.out.println(\"Unexpected exception thrown while !done.\");\n-                        e.printStackTrace(System.out);\n+                        reportUnexpected(e, \"while !done\");\n@@ -379,2 +385,1 @@\n-                        System.out.println(\"Unexpected exception thrown while !done1.\");\n-                        e.printStackTrace(System.out);\n+                        reportUnexpected(e, \"while !done1\");\n","filename":"test\/jdk\/com\/sun\/management\/ThreadMXBean\/ThreadAllocatedMemory.java","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -148,3 +148,1 @@\n-                System.out.println(\"Unexpected exception thrown.\");\n-                e.printStackTrace(System.out);\n-                testFailed = true;\n+                reportUnexpected(e, \"during join\");\n@@ -177,0 +175,6 @@\n+    private static void reportUnexpected(Exception e, String reason) {\n+        System.out.println(\"Unexpected exception thrown \" + reason + \".\");\n+        e.printStackTrace(System.out);\n+        testFailed = true;\n+    }\n+\n@@ -181,1 +185,0 @@\n-            System.out.println(\"Unexpected exception thrown.\");\n@@ -225,3 +228,1 @@\n-                        System.out.println(\"Unexpected exception thrown.\");\n-                        e.printStackTrace(System.out);\n-                        testFailed = true;\n+                        reportUnexpected(e, \"while !done\");\n@@ -240,3 +241,1 @@\n-                        System.out.println(\"Unexpected exception thrown.\");\n-                        e.printStackTrace(System.out);\n-                        testFailed = true;\n+                        reportUnexpected(e, \"while !done\");\n","filename":"test\/jdk\/com\/sun\/management\/ThreadMXBean\/ThreadAllocatedMemoryArray.java","additions":9,"deletions":10,"binary":false,"changes":19,"status":"modified"}]}