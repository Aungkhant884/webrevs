{"files":[{"patch":"@@ -113,3 +113,5 @@\n-    \/\/ atomic load\/store to avoid readers seeing a partial update\n-    jlong old = Atomic::load(&_exited_allocated_bytes);\n-    Atomic::store(&_exited_allocated_bytes, old + size);\n+    \/\/ atomic store to avoid readers seeing a partial update. Also need\n+    \/\/ acquire\/release because the hardware might move a subsequent\n+    \/\/ store to _exited_allocated_bytes above this one.\n+    jlong old = Atomic::load_acquire(&_exited_allocated_bytes);\n+    Atomic::release_store(&_exited_allocated_bytes, old + size);\n","filename":"src\/hotspot\/share\/services\/threadService.hpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}