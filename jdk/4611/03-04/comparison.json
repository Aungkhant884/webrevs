{"files":[{"patch":"@@ -123,0 +123,2 @@\n+        final AtomicLong pausesCount = new AtomicLong();\n+        final AtomicLong cyclesCount = new AtomicLong();\n@@ -137,0 +139,1 @@\n+                            pausesCount.incrementAndGet();\n@@ -139,0 +142,1 @@\n+                            cyclesCount.incrementAndGet();\n@@ -169,1 +173,1 @@\n-        long minExpected = 1;\n+        long minExpected = 10;\n@@ -173,2 +177,2 @@\n-            actualPauses = pausesDuration.get();\n-            actualCycles = cyclesDuration.get();\n+            actualPauses = pausesCount.get();\n+            actualCycles = cyclesCount.get();\n@@ -178,2 +182,2 @@\n-                actualPauses = pausesDuration.get();\n-                actualCycles = cyclesDuration.get();\n+                actualPauses = pausesCount.get();\n+                actualCycles = cyclesCount.get();\n@@ -185,3 +189,21 @@\n-        String msg = \"Pauses expected = [\" + minExpected + \"; +inf], actual = \" + actualPauses + \"\\n\" +\n-                     \"Cycles expected = [\" + minExpected + \"; +inf], actual = \" + actualCycles + \"\\n\" +\n-                     \"Pauses duration (\" + actualPauses + \") is expected to be smaller than cycles duration (\" + actualCycles + \")\";\n+        {\n+            String msg = \"Pauses expected = [\" + minExpected + \"; +inf], actual = \" + actualPauses;\n+            if (minExpected <= actualPauses) {\n+                System.out.println(msg);\n+            } else {\n+                throw new IllegalStateException(msg);\n+            }\n+        }\n+\n+        {\n+            String msg = \"Cycles expected = [\" + minExpected + \"; +inf], actual = \" + actualCycles;\n+            if (minExpected <= actualCycles) {\n+                System.out.println(msg);\n+            } else {\n+                throw new IllegalStateException(msg);\n+            }\n+        }\n+\n+        {\n+            long actualPauseDuration = pausesDuration.get();\n+            long actualCycleDuration = cyclesDuration.get();\n@@ -189,4 +211,7 @@\n-        if (minExpected <= actualPauses && minExpected <= actualCycles && actualPauses <= actualCycles) {\n-            System.out.println(msg);\n-        } else {\n-            throw new IllegalStateException(msg);\n+            String msg = \"Pauses duration (\" + actualPauseDuration + \") is expected to be not larger than cycles duration (\" + actualCycleDuration + \")\";\n+\n+            if (actualPauseDuration <= actualCycleDuration) {\n+                System.out.println(msg);\n+            } else {\n+                throw new IllegalStateException(msg);\n+            }\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/mxbeans\/TestPauseNotifications.java","additions":37,"deletions":12,"binary":false,"changes":49,"status":"modified"}]}