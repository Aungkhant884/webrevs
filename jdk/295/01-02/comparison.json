{"files":[{"patch":"@@ -122,2 +122,3 @@\n-    if (strrchr(*mount_path, '\/')) {\n-      *(strrchr(*mount_path, '\/')) = '\\0';\n+    char* last_slash = strrchr(*mount_path, '\/');\n+    if (last_slash != NULL) {\n+      *last_slash = '\\0'; \/\/ truncate controller\n@@ -315,8 +316,0 @@\n-      if (strstr(tmpmount, mount_path == NULL ? \"\/sys\/fs\/cgroup\" : mount_path) != tmpmount) {\n-        \/\/ Skip controllers created manually or by cset\/cpuset (https:\/\/github.com\/lpechacek\/cpuset). E.g.:\n-        \/\/ 121 32 0:37 \/ \/cpusets rw,relatime shared:69 - cgroup none rw,cpuset\n-        \/\/ Controllers beloning to a Cgroup are usually mounted under \"\/sys\/fs\/cgroup\" while\n-        \/\/ manually mounted controllers are under \"\/cpusets\" or \"\/dev\/cpuset\".\n-        log_info(os, container)(\"%s not mounted at %s, skipping!\", tmpmount, mount_path == NULL ? \"\/sys\/fs\/cgroup\" : mount_path);\n-        continue;\n-      }\n@@ -332,0 +325,8 @@\n+          if (strstr(tmpmount, mount_path == NULL ? \"\/sys\/fs\/cgroup\" : mount_path) != tmpmount) {\n+            \/\/ Skip controllers created manually or by cset\/cpuset (https:\/\/github.com\/lpechacek\/cpuset). E.g.:\n+            \/\/ 121 32 0:37 \/ \/cpusets rw,relatime shared:69 - cgroup none rw,cpuset\n+            \/\/ Controllers belonging to a Cgroup are usually mounted under \"\/sys\/fs\/cgroup\" while\n+            \/\/ manually mounted controllers are under \"\/cpusets\" or \"\/dev\/cpuset\".\n+            log_info(os, container)(\"%s not mounted at %s, skipping!\", tmpmount, mount_path == NULL ? \"\/sys\/fs\/cgroup\" : mount_path);\n+            break;\n+          }\n","filename":"src\/hotspot\/os\/linux\/cgroupSubsystem_linux.cpp","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-            \"44 30 0:40 \/ \/sys\/fs\/cgroup\/freezer rw,nosuid,nodev,noexec,relatime shared:16 - cgroup none rw,seclabel,freezer\";\n+            \"44 30 0:40 \/ \/sys\/fs\/cgroup\/freezer rw,nosuid,nodev,noexec,relatime shared:16 - cgroup none rw,seclabel,freezer\\n\";\n","filename":"test\/hotspot\/jtreg\/containers\/cgroup\/CgroupSubsystemFactory.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}