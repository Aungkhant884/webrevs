{"files":[{"patch":"@@ -61,0 +61,3 @@\n+#ifndef MFD_HUGE_2MB\n+#define MFD_HUGE_2MB                     0x54000000U\n+#endif\n@@ -207,1 +210,1 @@\n-  const int extra_flags = ZLargePages::is_explicit() ? MFD_HUGETLB : 0;\n+  const int extra_flags = ZLargePages::is_explicit() ? (MFD_HUGETLB | MFD_HUGE_2MB) : 0;\n@@ -212,1 +215,2 @@\n-                          ((ZLargePages::is_explicit() && err == EINVAL) ? \"Hugepages not supported\" : err.to_string()));\n+                          (ZLargePages::is_explicit() && (err == EINVAL || err == ENODEV)) ?\n+                          \"Hugepages (2M) not supported\" : err.to_string());\n","filename":"src\/hotspot\/os\/linux\/gc\/z\/zPhysicalMemoryBacking_linux.cpp","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -75,0 +75,5 @@\n+  \/\/ Only 2M large pages is supported\n+  if (!FLAG_IS_DEFAULT(LargePageSizeInBytes) && LargePageSizeInBytes != 2 * M) {\n+    vm_exit_during_initialization(\"Invalid -XX:LargePageSizeInBytes (only 2M large pages is supported)\");\n+  }\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zArguments.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}