{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import java.util.concurrent.atomic.AtomicBoolean;\n@@ -32,0 +33,1 @@\n+import javax.swing.SwingUtilities;\n@@ -49,2 +51,2 @@\n-    private static boolean result = true;\n-    private static boolean newFolderFound = false;\n+    private static volatile boolean result = true;\n+    private static volatile boolean newFolderFound = false;\n@@ -52,1 +54,1 @@\n-    public static void main(String[] args) {\n+    public static void main(String[] args) throws Exception {\n@@ -63,2 +65,3 @@\n-            boolean readOnly = true;\n-            createAndTestCustomFileChooser(readOnly);\n+            final AtomicBoolean readOnly = new AtomicBoolean(true);\n+            SwingUtilities.invokeAndWait(\n+                    () -> createAndTestCustomFileChooser(readOnly.get()));\n@@ -74,1 +77,3 @@\n-                createAndTestCustomFileChooser(readOnly = false);\n+                readOnly.set(false);\n+                SwingUtilities.invokeAndWait(\n+                        () -> createAndTestCustomFileChooser(readOnly.get()));\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/4525475\/JFileChooserReadOnlyTest.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}