{"files":[{"patch":"@@ -28,1 +28,0 @@\n-import java.util.concurrent.atomic.AtomicBoolean;\n@@ -38,0 +37,1 @@\n+\n@@ -65,1 +65,0 @@\n-            final AtomicBoolean readOnly = new AtomicBoolean(true);\n@@ -67,2 +66,2 @@\n-                    () -> createAndTestCustomFileChooser(readOnly.get()));\n-            System.out.println(\"Its a Read Only JFileChooser \" +\n+                        () -> createAndTestCustomFileChooser(true));\n+            System.out.println(\"It's a read-only JFileChooser \" +\n@@ -76,0 +75,7 @@\n+            \/* Skipping Motif and Aqua L&Fs, because for Motif L&F, the 'New\n+            Folder' button is not shown anywhere irrespective of what we set in\n+            UI defaults in any platform and the Aqua L&F behaves similar to the\n+            native FileChooser always, like for 'Open' dialog it will not show\n+            the 'New Folder' button, but it will show the 'New Folder' button\n+             for 'Save' dialog.\n+             *\/\n@@ -77,1 +83,0 @@\n-                readOnly.set(false);\n@@ -79,2 +84,2 @@\n-                        () -> createAndTestCustomFileChooser(readOnly.get()));\n-                System.out.println(\"Its a not a Read Only JFileChooser \" +\n+                        () -> createAndTestCustomFileChooser(false));\n+                System.out.println(\"It's not a read-only JFileChooser \" +\n@@ -103,1 +108,1 @@\n-        result = readOnly ^ newFolderFound;\n+        result = result && (readOnly ^ newFolderFound);\n@@ -108,4 +113,1 @@\n-        for (int i = 0; i < n; i++) {\n-            if (newFolderFound) {\n-                break;\n-            }\n+        for (int i = 0; i < n && !newFolderFound; i++) {\n@@ -116,8 +118,6 @@\n-                if (action != null) {\n-                    String name = (String) action.getValue(Action.NAME);\n-                    if (name != null && name.equals(\"New Folder\")) {\n-                        newFolderFound = true;\n-                        System.out.println(\n-                                \"New Folder Button Found when readOnly = \" +\n-                                readOnly);\n-                    }\n+                if (action != null &&\n+                    \"New Folder\".equals(action.getValue(Action.NAME))) {\n+                    newFolderFound = true;\n+                    System.out.println(\n+                            \"New Folder Button Found when readOnly = \" +\n+                            readOnly);\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/4525475\/JFileChooserReadOnlyTest.java","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"}]}