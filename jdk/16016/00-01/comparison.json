{"files":[{"patch":"@@ -484,1 +484,1 @@\n-  CDS_JAVA_HEAP_ONLY(Modules::dump_module_name();)\n+  CDS_JAVA_HEAP_ONLY(Modules::dump_main_module_name();)\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -567,1 +567,1 @@\n-void Modules::dump_module_name() {\n+void Modules::dump_main_module_name() {\n","filename":"src\/hotspot\/share\/classfile\/modules.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-  static void dump_module_name() NOT_CDS_JAVA_HEAP_RETURN;\n+  static void dump_main_module_name() NOT_CDS_JAVA_HEAP_RETURN;\n","filename":"src\/hotspot\/share\/classfile\/modules.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -471,3 +471,3 @@\n-        \/\/ if -Xshare:dump and mainModule are specified, check if the mainModule\n-        \/\/ is a builtin JDK module. If so, set canArchive to true so that the\n-        \/\/ module graph can be archived.\n+        \/\/ If -Xshare:dump and mainModule are specified, check if the mainModule\n+        \/\/ is in the runtime image and not in the upgrade module path. If so,\n+        \/\/ set canArchive to true so that the module graph can be archived.\n@@ -478,1 +478,1 @@\n-                if (mainModuleLocation != null && mainModuleLocation.getScheme().equals(\"jrt\")) {\n+                if (mainModuleLocation != null && mainModuleLocation.getScheme().equalsIgnoreCase(\"jrt\")) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/module\/ModuleBootstrap.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+ * @run driver ModuleOption\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/jigsaw\/module\/ModuleOption.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}