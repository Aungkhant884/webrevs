{"files":[{"patch":"@@ -402,3 +402,1 @@\n-#ifndef PRODUCT\n-\n-extern \"C\" void blob(CodeBlob* cb) {\n+extern \"C\" JNIEXPORT void blob(CodeBlob* cb) {\n@@ -410,1 +408,1 @@\n-extern \"C\" void dump_vtable(address p) {\n+extern \"C\" JNIEXPORT void dump_vtable(address p) {\n@@ -417,1 +415,1 @@\n-extern \"C\" void nm(intptr_t p) {\n+extern \"C\" JNIEXPORT void nm(intptr_t p) {\n@@ -429,1 +427,1 @@\n-extern \"C\" void disnm(intptr_t p) {\n+extern \"C\" JNIEXPORT void disnm(intptr_t p) {\n@@ -444,1 +442,1 @@\n-extern \"C\" void printnm(intptr_t p) {\n+extern \"C\" JNIEXPORT void printnm(intptr_t p) {\n@@ -456,1 +454,1 @@\n-extern \"C\" void universe() {\n+extern \"C\" JNIEXPORT void universe() {\n@@ -462,1 +460,1 @@\n-extern \"C\" void verify() {\n+extern \"C\" JNIEXPORT void verify() {\n@@ -479,1 +477,1 @@\n-extern \"C\" void pp(void* p) {\n+extern \"C\" JNIEXPORT void pp(void* p) {\n@@ -491,5 +489,1 @@\n-\/\/ pv: print vm-printable object\n-extern \"C\" void pa(intptr_t p)   { ((AllocatedObj*) p)->print(); }\n-extern \"C\" void findpc(intptr_t x);\n-\n-#endif \/\/ !PRODUCT\n+extern \"C\" JNIEXPORT void findpc(intptr_t x);\n@@ -497,1 +491,1 @@\n-extern \"C\" void ps() { \/\/ print stack\n+extern \"C\" JNIEXPORT void ps() { \/\/ print stack\n@@ -501,1 +495,0 @@\n-\n@@ -529,1 +522,1 @@\n-extern \"C\" void pfl() {\n+extern \"C\" JNIEXPORT void pfl() {\n@@ -541,3 +534,1 @@\n-#ifndef PRODUCT\n-\n-extern \"C\" void psf() { \/\/ print stack frames\n+extern \"C\" JNIEXPORT void psf() { \/\/ print stack frames\n@@ -557,1 +548,1 @@\n-extern \"C\" void threads() {\n+extern \"C\" JNIEXPORT void threads() {\n@@ -563,1 +554,1 @@\n-extern \"C\" void psd() {\n+extern \"C\" JNIEXPORT void psd() {\n@@ -568,1 +559,0 @@\n-#endif \/\/ !PRODUCT\n@@ -570,1 +560,1 @@\n-extern \"C\" void pss() { \/\/ print all stacks\n+extern \"C\" JNIEXPORT void pss() { \/\/ print all stacks\n@@ -576,1 +566,1 @@\n-#ifndef PRODUCT\n+\/\/ #ifndef PRODUCT\n@@ -578,1 +568,1 @@\n-extern \"C\" void debug() {               \/\/ to set things up for compiler debugging\n+extern \"C\" JNIEXPORT void debug() {               \/\/ to set things up for compiler debugging\n@@ -580,1 +570,1 @@\n-  WizardMode = true;\n+  NOT_PRODUCT(WizardMode = true;)\n@@ -587,1 +577,1 @@\n-extern \"C\" void ndebug() {              \/\/ undo debug()\n+extern \"C\" JNIEXPORT void ndebug() {              \/\/ undo debug()\n@@ -595,1 +585,1 @@\n-extern \"C\" void flush()  {\n+extern \"C\" JNIEXPORT void flush()  {\n@@ -600,1 +590,1 @@\n-extern \"C\" void events() {\n+extern \"C\" JNIEXPORT void events() {\n@@ -605,1 +595,1 @@\n-extern \"C\" Method* findm(intptr_t pc) {\n+extern \"C\" JNIEXPORT Method* findm(intptr_t pc) {\n@@ -612,1 +602,1 @@\n-extern \"C\" nmethod* findnm(intptr_t addr) {\n+extern \"C\" JNIEXPORT nmethod* findnm(intptr_t addr) {\n@@ -619,1 +609,1 @@\n-extern \"C\" void hsfind(intptr_t x) {\n+extern \"C\" JNIEXPORT void hsfind(intptr_t x) {\n@@ -625,1 +615,1 @@\n-extern \"C\" void find(intptr_t x) {\n+extern \"C\" JNIEXPORT void find(intptr_t x) {\n@@ -631,1 +621,1 @@\n-extern \"C\" void findpc(intptr_t x) {\n+extern \"C\" JNIEXPORT void findpc(intptr_t x) {\n@@ -638,1 +628,1 @@\n-extern \"C\" void findbcp(intptr_t method, intptr_t bcp) {\n+extern \"C\" JNIEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n@@ -657,1 +647,0 @@\n-  tty->print_cr(\"  pv(intptr_t p)- ((PrintableResourceObj*) p)->print()\");\n@@ -682,1 +671,2 @@\n-extern \"C\" void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n+#ifndef PRODUCT\n+extern \"C\" JNIEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n@@ -699,1 +689,1 @@\n-extern \"C\" void pns2() { \/\/ print native stack\n+extern \"C\" JNIEXPORT void pns2() { \/\/ print native stack\n@@ -711,0 +701,1 @@\n+#endif\n@@ -712,1 +703,0 @@\n-#endif \/\/ !PRODUCT\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":31,"deletions":41,"binary":false,"changes":72,"status":"modified"}]}