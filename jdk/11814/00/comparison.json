{"files":[{"patch":"@@ -55,0 +55,1 @@\n+import com.sun.tools.javac.code.Symbol;\n@@ -1034,1 +1035,8 @@\n-                result.addAll(at.getElements().getAllMembers(element));\n+                at.getElements().getAllMembers(element).forEach(m -> result.add(\n+                    element.equals(m.getEnclosingElement())\n+                        ? m\n+                        : (m instanceof Symbol.MethodSymbol ms)\n+                            ? ms.clone((Symbol)element)\n+                            : (m instanceof Symbol.VarSymbol vs)\n+                                ? vs.clone((Symbol)element)\n+                                : m));\n@@ -1683,0 +1691,5 @@\n+    private Element getOriginalEnclosingElement(Element el) {\n+        if (el instanceof Symbol s) el = s.baseSymbol();\n+        return el.getEnclosingElement();\n+    }\n+\n@@ -1733,1 +1746,1 @@\n-                return appendDot(elementHeader(at, el.getEnclosingElement(), includeParameterNames, false)) + el.getSimpleName() + \":\" + el.asType();\n+                return appendDot(elementHeader(at, getOriginalEnclosingElement(el), includeParameterNames, false)) + el.getSimpleName() + \":\" + el.asType();\n@@ -1735,1 +1748,1 @@\n-                return appendDot(elementHeader(at, el.getEnclosingElement(), includeParameterNames, false)) + el.getSimpleName();\n+                return appendDot(elementHeader(at, getOriginalEnclosingElement(el), includeParameterNames, false)) + el.getSimpleName();\n@@ -1756,1 +1769,1 @@\n-                String clazz = elementHeader(at, el.getEnclosingElement(), includeParameterNames, false);\n+                String clazz = elementHeader(at, getOriginalEnclosingElement(el), includeParameterNames, false);\n","filename":"src\/jdk.jshell\/share\/classes\/jdk\/jshell\/SourceCodeAnalysisImpl.java","additions":17,"deletions":4,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8131025 8141092 8153761 8145263 8131019 8175886 8176184 8176241 8176110 8177466 8197439 8221759 8234896 8240658 8278039 8286206\n+ * @bug 8131025 8141092 8153761 8145263 8131019 8175886 8176184 8176241 8176110 8177466 8197439 8221759 8234896 8240658 8278039 8286206 8296789\n@@ -794,0 +794,6 @@\n+\n+    \/\/JDK-8296789\n+    public void testParentMembers() {\n+        assertEval(\"var sb=new StringBuilder();\");\n+        assertCompletionIncludesExcludes(\"sb.|\", true, Set.of(\"capacity()\", \"setLength(\"), Set.of(\"maybeLatin1\"));\n+    }\n","filename":"test\/langtools\/jdk\/jshell\/CompletionSuggestionTest.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}