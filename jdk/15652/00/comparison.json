{"files":[{"patch":"@@ -1546,4 +1546,0 @@\n-\n-            int packed = (int) StringLatin1.PACKED_DIGITS[r];\n-            int inflated = ((packed & 0xFF00) << 8) | (packed & 0xFF);\n-\n@@ -1551,1 +1547,4 @@\n-            ByteArrayLittleEndian.setInt(buf, charPos << 1, inflated);\n+            ByteArrayLittleEndian.setInt(\n+                    buf,\n+                    charPos << 1,\n+                    inflatePacked(r));\n@@ -1556,3 +1555,0 @@\n-            int packed = (int) StringLatin1.PACKED_DIGITS[-i];\n-            int inflated = ((packed & 0xFF00) << 8) | (packed & 0xFF);\n-\n@@ -1560,1 +1556,4 @@\n-            ByteArrayLittleEndian.setInt(buf, charPos << 1, inflated);\n+            ByteArrayLittleEndian.setInt(\n+                    buf,\n+                    charPos << 1,\n+                    inflatePacked(-i));\n@@ -1593,4 +1592,0 @@\n-\n-            int packed = (int) StringLatin1.PACKED_DIGITS[(int)((q * 100) - i)];\n-            int inflated = ((packed & 0xFF00) << 8) | (packed & 0xFF);\n-\n@@ -1598,1 +1593,4 @@\n-            ByteArrayLittleEndian.setInt(buf, charPos << 1, inflated);\n+            ByteArrayLittleEndian.setInt(\n+                    buf,\n+                    charPos << 1,\n+                    inflatePacked((int)((q * 100) - i)));\n@@ -1607,4 +1605,0 @@\n-\n-            int packed = (int) StringLatin1.PACKED_DIGITS[(q2 * 100) - i2];\n-            int inflated = ((packed & 0xFF00) << 8) | (packed & 0xFF);\n-\n@@ -1612,1 +1606,4 @@\n-            ByteArrayLittleEndian.setInt(buf, charPos << 1, inflated);\n+            ByteArrayLittleEndian.setInt(\n+                    buf,\n+                    charPos << 1,\n+                    inflatePacked((q2 * 100) - i2));\n@@ -1619,5 +1616,4 @@\n-\n-            int packed = (int) StringLatin1.PACKED_DIGITS[-i2];\n-            int inflated = ((packed & 0xFF00) << 8) | (packed & 0xFF);\n-\n-            ByteArrayLittleEndian.setInt(buf, charPos << 1, inflated);\n+            ByteArrayLittleEndian.setInt(\n+                    buf,\n+                    charPos << 1,\n+                    inflatePacked(-i2));\n@@ -1633,0 +1629,6 @@\n+\n+    private static int inflatePacked(int v) {\n+        int packed = (int) StringLatin1.PACKED_DIGITS[v];\n+        return ((packed & 0xFF) << HI_BYTE_SHIFT)\n+                | ((packed & 0xFF00) << LO_BYTE_SHIFT);\n+    }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/StringUTF16.java","additions":26,"deletions":24,"binary":false,"changes":50,"status":"modified"}]}