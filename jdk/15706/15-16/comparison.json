{"files":[{"patch":"@@ -303,0 +303,1 @@\n+     * @throws IllegalArgumentException if the classfile format is unsupported or invalid\n@@ -311,0 +312,1 @@\n+     * @throws IllegalArgumentException if the classfile format is unsupported or invalid\n","filename":"src\/java.base\/share\/classes\/java\/lang\/classfile\/ClassFile.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -88,0 +88,3 @@\n+        if (readU2(6) > ClassFile.latestMajorVersion()) {\n+            throw new IllegalArgumentException(\"Unsupported class file version: \" + readU2(6));\n+        }\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/ClassReaderImpl.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -463,1 +463,1 @@\n-                    default -> throw new UnsupportedOperationException(\"unknown wide instruction: \" + bclow);\n+                    default -> throw new IllegalArgumentException(\"unknown wide instruction: \" + bclow);\n@@ -478,1 +478,1 @@\n-                    throw new UnsupportedOperationException(\"unknown instruction: \" + bc);\n+                    throw new IllegalArgumentException(\"unknown instruction: \" + bc);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/classfile\/impl\/CodeImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -82,0 +82,6 @@\n+\n+    @Test\n+    void testSupportedClassVersion() {\n+        var cf = ClassFile.of();\n+        assertThrows(IllegalArgumentException.class, () -> cf.parse(cf.build(ClassDesc.of(\"ClassFromFuture\"), cb -> cb.withVersion(ClassFile.latestMajorVersion() + 1, 0))));\n+    }\n","filename":"test\/jdk\/jdk\/classfile\/LimitsTest.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}