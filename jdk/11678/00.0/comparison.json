{"files":[{"patch":"@@ -2550,1 +2550,2 @@\n-            (ctrl->in(0)->as_If()->proj_out_or_null(1-ctrl->as_Proj()->_con) == NULL ||\n+           !is_zero_trip_guard_if(ctrl->in(0)->as_If()) &&\n+           (ctrl->in(0)->as_If()->proj_out_or_null(1-ctrl->as_Proj()->_con) == NULL ||\n@@ -2559,0 +2560,16 @@\n+bool CountedLoopNode::is_zero_trip_guard_if(const IfNode* iff) {\n+  if (iff->in(1) == NULL || !iff->in(1)->is_Bool()) {\n+    return false;\n+  }\n+  if (iff->in(1)->in(1) == NULL || iff->in(1)->in(1)->Opcode() != Op_CmpI) {\n+    return false;\n+  }\n+  if (iff->in(1)->in(1)->in(1) != NULL && iff->in(1)->in(1)->in(1)->Opcode() == Op_OpaqueZeroTripGuard) {\n+    return true;\n+  }\n+  if (iff->in(1)->in(1)->in(2) != NULL && iff->in(1)->in(1)->in(2)->Opcode() == Op_OpaqueZeroTripGuard) {\n+    return true;\n+  }\n+  return false;\n+}\n+\n@@ -5462,1 +5479,1 @@\n-  if (iffm == NULL || !iffm->is_If()) {\n+  if (iffm == NULL || iffm->Opcode() != Op_If) {\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":19,"deletions":2,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+#include <type_traits>\n@@ -1291,0 +1292,4 @@\n+\/\/ Converts any type T to a reference type.\n+template<typename T>\n+std::add_rvalue_reference_t<T> declval() noexcept;\n+\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -81,1 +81,0 @@\n-gc\/TestFullGCCount.java 8298296 linux-x64\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}