{"files":[{"patch":"@@ -700,1 +700,1 @@\n-  template(dumpSharedArchive_signature,                     \"(ZLjava\/lang\/String;)V\")                             \\\n+  template(dumpSharedArchive_signature,                     \"(ZLjava\/lang\/String;)Ljava\/lang\/String;\")            \\\n","filename":"src\/hotspot\/share\/classfile\/vmSymbols.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -967,1 +967,1 @@\n-    output()->print_cr(\"Static dump:\");\n+    output()->print(\"Static dump: \");\n@@ -970,1 +970,1 @@\n-    output()->print_cr(\"Dynamic dump:\");\n+    output()->print(\"Dynamic dump: \");\n@@ -991,1 +991,1 @@\n-  JavaValue result(T_VOID);\n+  JavaValue result(T_OBJECT);\n@@ -1000,0 +1000,6 @@\n+  if (!HAS_PENDING_EXCEPTION) {\n+    assert(result.get_type() == T_OBJECT, \"Sanity check\");\n+    \/\/ result contains the archive name\n+    char* archive_name = java_lang_String::as_utf8_string(result.get_oop());\n+    output()->print_cr(\"%s\", archive_name);\n+  }\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -257,0 +257,1 @@\n+    * @return The archive name if successfully dumped.\n@@ -258,1 +259,1 @@\n-    private static void dumpSharedArchive(boolean isStatic, String fileName) throws Exception {\n+    private static String dumpSharedArchive(boolean isStatic, String fileName) throws Exception {\n@@ -336,1 +337,3 @@\n-        System.out.println((isStatic ? \"Static\" : \" Dynamic\") + \" dump to file \" + cwd + File.separator + archiveFileName);\n+        String archiveFilePath = cwd + File.separator + archiveFileName;\n+        System.out.println(\"The process was attached by jcmd and do a \" + (isStatic ? \"static\" : \"dynamic\") + \" dump to file \" + archiveFilePath);\n+        return archiveFilePath;\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/CDS.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}