{"files":[{"patch":"@@ -284,1 +284,1 @@\n-            int size = Utils.remaining(items, Integer.MAX_VALUE);\n+            long expectedSize = Utils.remaining(items);\n@@ -288,2 +288,6 @@\n-                while (bytesWritten < size) {\n-                    bytesWritten += out.write(buffers);\n+                while (bytesWritten < expectedSize) {\n+                    long n = out.write(buffers);\n+                    if (n <= 0) {\n+                        throw new IOException(\"zero bytes written\");\n+                    }\n+                    bytesWritten += n;\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/ResponseSubscribers.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"}]}