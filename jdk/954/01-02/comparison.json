{"files":[{"patch":"@@ -3989,0 +3989,1 @@\n+\n@@ -3990,0 +3991,1 @@\n+    \/\/ 'n' is loop invariant. Skip range check dependent CastII nodes before checking if 'n' is dominating the pre loop.\n@@ -3998,1 +4000,0 @@\n-    }\n@@ -4000,5 +4001,7 @@\n-    if (invariant(n)) {\n-      _negate_invar = negate;\n-      _invar = n;\n-      NOT_PRODUCT(_tracer.offset_plus_k_10(n, _invar, _negate_invar, _offset);)\n-      return true;\n+      \/\/ Check if 'n' can really be used as invariant (not in main loop and dominating the pre loop).\n+      if (invariant(n)) {\n+        _negate_invar = negate;\n+        _invar = n;\n+        NOT_PRODUCT(_tracer.offset_plus_k_10(n, _invar, _negate_invar, _offset);)\n+        return true;\n+      }\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"}]}