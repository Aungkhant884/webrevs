{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,2 +29,0 @@\n-import java.io.File;\n-import java.io.FileInputStream;\n@@ -36,0 +34,2 @@\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n@@ -173,8 +173,6 @@\n-            while (c.isArray()) {\n-                c = c.getComponentType();\n-            }\n-            String baseName = c.getName();\n-            int index = baseName.lastIndexOf('.');\n-            if (index != -1) {\n-                name = baseName.substring(0, index).replace('.', '\/')\n-                    +\"\/\"+name;\n+            if (!c.isPrimitive()) {\n+                String baseName = c.getPackageName();\n+                if (!baseName.isEmpty()) {\n+                    name = baseName.replace('.', '\/') + \"\/\"\n+                            + name;\n+                }\n@@ -195,2 +193,1 @@\n-                Module m = c.getModule();\n-                return c.getModule().getResourceAsStream(resolveName(c,name));\n+                return c.getModule().getResourceAsStream(resolveName(c, name));\n@@ -217,3 +214,1 @@\n-                String pathname = javahome + File.separator +\n-                        \"conf\" + File.separator + filename;\n-                return new FileInputStream(pathname);\n+                return Files.newInputStream(Path.of(javahome, \"conf\", filename));\n@@ -275,1 +270,1 @@\n-        List<String> list = new ArrayList<>();\n+        List<URL> list = new ArrayList<>();\n@@ -277,10 +272,1 @@\n-            list.add(parser.nextToken());\n-        }\n-        String[] url = new String[list.size()];\n-        for (int i = 0; i < url.length; i++) {\n-            url[i] = list.get(i);\n-        }\n-\n-        URL[] urlArray = new URL[url.length];\n-        for (int i = 0; i < urlArray.length; i++) {\n-            urlArray[i] = new URL(url[i]);\n+            list.add(new URL(parser.nextToken()));\n@@ -288,1 +274,1 @@\n-        return urlArray;\n+        return list.toArray(new URL[0]);\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/naming\/internal\/VersionHelper.java","additions":14,"deletions":28,"binary":false,"changes":42,"status":"modified"}]}