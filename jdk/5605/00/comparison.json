{"files":[{"patch":"@@ -88,1 +88,1 @@\n-  friend class G1ScanInYoungSetter;\n+  friend class G1SkipCardEnqueueSetter;\n@@ -90,1 +90,1 @@\n-  enum ScanningInYoungValues {\n+  enum SkipCardEnqueueTristate {\n@@ -96,1 +96,1 @@\n-  ScanningInYoungValues _scanning_in_young;\n+  SkipCardEnqueueTristate _skip_card_enqueue;\n@@ -100,1 +100,1 @@\n-    G1ScanClosureBase(g1h, par_scan_state), _scanning_in_young(Uninitialized) { }\n+    G1ScanClosureBase(g1h, par_scan_state), _skip_card_enqueue(Uninitialized) { }\n@@ -114,2 +114,2 @@\n-\/\/ RAII object to properly set the _scanning_in_young field in G1ScanEvacuatedObjClosure.\n-class G1ScanInYoungSetter : public StackObj {\n+\/\/ RAII object to properly set the _skip_card_enqueue field in G1ScanEvacuatedObjClosure.\n+class G1SkipCardEnqueueSetter : public StackObj {\n@@ -119,3 +119,3 @@\n-  G1ScanInYoungSetter(G1ScanEvacuatedObjClosure* closure, bool new_value) : _closure(closure) {\n-    assert(_closure->_scanning_in_young == G1ScanEvacuatedObjClosure::Uninitialized, \"Must not be set\");\n-    _closure->_scanning_in_young = new_value ? G1ScanEvacuatedObjClosure::True : G1ScanEvacuatedObjClosure::False;\n+  G1SkipCardEnqueueSetter(G1ScanEvacuatedObjClosure* closure, bool new_value) : _closure(closure) {\n+    assert(_closure->_skip_card_enqueue == G1ScanEvacuatedObjClosure::Uninitialized, \"Must not be set\");\n+    _closure->_skip_card_enqueue = new_value ? G1ScanEvacuatedObjClosure::True : G1ScanEvacuatedObjClosure::False;\n@@ -124,2 +124,2 @@\n-  ~G1ScanInYoungSetter() {\n-    DEBUG_ONLY(_closure->_scanning_in_young = G1ScanEvacuatedObjClosure::Uninitialized;)\n+  ~G1SkipCardEnqueueSetter() {\n+    DEBUG_ONLY(_closure->_skip_card_enqueue = G1ScanEvacuatedObjClosure::Uninitialized;)\n","filename":"src\/hotspot\/share\/gc\/g1\/g1OopClosures.hpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -91,2 +91,2 @@\n-    assert(_scanning_in_young != Uninitialized, \"Scan location has not been initialized.\");\n-    if (_scanning_in_young == True) {\n+    assert(_skip_card_enqueue != Uninitialized, \"Scan location has not been initialized.\");\n+    if (_skip_card_enqueue == True) {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1OopClosures.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -245,1 +245,1 @@\n-  G1ScanInYoungSetter x(&_scanner, hr->is_young());\n+  G1SkipCardEnqueueSetter x(&_scanner, hr->is_young());\n@@ -277,1 +277,1 @@\n-  G1ScanInYoungSetter x(&_scanner, dest_attr.is_young());\n+  G1SkipCardEnqueueSetter x(&_scanner, dest_attr.is_young());\n@@ -522,1 +522,1 @@\n-    G1ScanInYoungSetter x(&_scanner, dest_attr.is_young());\n+    G1SkipCardEnqueueSetter x(&_scanner, dest_attr.is_young());\n@@ -609,1 +609,1 @@\n-    G1ScanInYoungSetter x(&_scanner, r->is_young());\n+    G1SkipCardEnqueueSetter x(&_scanner, r->is_young());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}