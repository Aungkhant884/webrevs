{"files":[{"patch":"@@ -694,1 +694,1 @@\n-  tty->print(\"Bitmap(\" SIZE_FORMAT \"):\", size());\n+  st->print(\"Bitmap (\" SIZE_FORMAT \" bits):\", size());\n@@ -696,1 +696,8 @@\n-    tty->print(\"%c\", at(index) ? '1' : '0');\n+    if ((index % 64) == 0) {\n+      st->cr();\n+      st->print(SIZE_FORMAT_W(5) \":\", index);\n+    }\n+    if ((index % 8) == 0) {\n+      st->print(\" \");\n+    }\n+    st->print(\"%c\", at(index) ? 'S' : '.');\n@@ -698,1 +705,1 @@\n-  tty->cr();\n+  st->cr();\n","filename":"src\/hotspot\/share\/utilities\/bitMap.cpp","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#include \"logging\/logStream.hpp\"\n@@ -98,0 +99,15 @@\n+#ifndef PRODUCT\n+\n+  static void testPrintOn(BitMap::idx_t size) {\n+    ResourceMark rm;\n+\n+    ResourceBitMap map(size);\n+    if (size > 0) {\n+      map.set_bit(size \/ 2);\n+    }\n+\n+    LogStreamHandle(Info, test) stream;\n+    map.print_on(&stream);\n+  }\n+\n+#endif\n@@ -151,0 +167,10 @@\n+\n+#ifndef PRODUCT\n+\n+TEST_VM(BitMap, print_on) {\n+  BitMapTest::testPrintOn(0);\n+  BitMapTest::testPrintOn(BitMapTest::BITMAP_SIZE >> 3);\n+  BitMapTest::testPrintOn(BitMapTest::BITMAP_SIZE);\n+}\n+\n+#endif\n","filename":"test\/hotspot\/gtest\/utilities\/test_bitMap.cpp","additions":26,"deletions":0,"binary":false,"changes":26,"status":"modified"}]}