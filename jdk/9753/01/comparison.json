{"files":[{"patch":"@@ -531,1 +531,1 @@\n-                xml.writeAttribute(\"Command\", \"Open\");\n+                xml.writeAttribute(\"Command\", \"!(loc.ContextMenuCommandLabel)\");\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/WixAppImageFragmentBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -15,0 +15,1 @@\n+  <String Id=\"ContextMenuCommandLabel\">Open with [ProductName]<\/String>\n","filename":"src\/jdk.jpackage\/windows\/classes\/jdk\/jpackage\/internal\/resources\/MsiInstallerStrings_en.wxl","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -286,0 +286,12 @@\n+\n+            if (TKit.isWindows()) {\n+                \/\/ Verify context menu label in registry.\n+                String progId = WindowsHelper.queryRegistryValue(\n+                        String.format(\"HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Classes\\\\%s\", fa.getSuffix()), \"\");\n+                TKit.assertNotNull(progId, \"context menu progId found\");\n+                String contextMenuLabel = WindowsHelper.queryRegistryValue(\n+                        String.format(\"HKEY_CLASSES_ROOT\\\\%s\\\\shell\\\\open\", progId), \"\");\n+                TKit.assertNotNull(contextMenuLabel, \"context menu label found\");\n+                String appName = cmd.getArgumentValue(\"--name\");\n+                TKit.assertTrue(String.format(\"Open with %s\", appName).equals(contextMenuLabel), \"context menu label text\");\n+            }\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/PackageTest.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -359,1 +359,1 @@\n-    private static String queryRegistryValue(String keyPath, String valueName) {\n+    static String queryRegistryValue(String keyPath, String valueName) {\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/WindowsHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}