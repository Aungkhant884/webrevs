{"files":[{"patch":"@@ -24,1 +24,0 @@\n-#include <iostream>\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -27,2 +27,2 @@\n-* @run main\/othervm -XX:+UsePopCountInstruction compiler.vectorization.TestPopCountVectorLong\n-* @run main\/othervm -XX:+UsePopCountInstruction -XX:MaxVectorSize=8 compiler.vectorization.TestPopCountVectorLong\n+* @library \/test\/lib \/\n+* @run driver compiler.vectorization.TestPopCountVectorLong\n@@ -32,0 +32,1 @@\n+import compiler.lib.ir_framework.*;\n@@ -34,0 +35,1 @@\n+\n@@ -41,13 +43,1 @@\n-        TestPopCountVectorLong test = new TestPopCountVectorLong();\n-\n-        for (int i = 0; i < 10_000; ++i) {\n-          test.vectorizeBitCount();\n-        }\n-        System.out.println(\"Checking popcount result\");\n-        test.checkResult();\n-\n-        for (int i = 0; i < 10_000; ++i) {\n-          test.vectorizeBitCount();\n-        }\n-        System.out.println(\"Checking popcount result\");\n-        test.checkResult();\n+        TestFramework.run(TestPopCountVectorLong.class);\n@@ -65,0 +55,3 @@\n+    @Test \/\/ needs to be run in (fast) debug mode\n+    @Warmup(10000)\n+    @IR(counts = {\"PopCountVL\", \"9\"}) \/\/9 PopCountVL nodes are generated for a long[] of LEN=1024\n@@ -69,0 +62,1 @@\n+        checkResult();\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorization\/TestPopCountVectorLong.java","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"}]}