[{"commit":{"message":"8264207: CodeStrings does not honour fixed address assumption.\n\n+ Introduce a simple gtest for CodeString\/s support in CodeBuffer\/CodeBlob.\n\n+ Split \/CodeStrings\/  into two different abstractions;  strings associated\n  by an offset, and strings with a fixed address.\n  - Let the  first be  \/Assembly Code  Remarks\/, *AsmRemarks*,  providing a\n    simple mapping, \/offset\/ -> \/remark\/.\n  - Let the second be \/Debug  Printout Strings\/, *DbgStrings*, supporting a\n    fixed address assumption such that:\n      for each string A and B, if A = B -> &A = &B.\n  - Use a  reference counting scheme to  ensure that both types  of strings\n    are deallocated properly, when no longer in use.\n+ Remove \/CodeStrings\/ from Stub interface.\n  - Replace with internal use in the interpreter code, propagating the code\n    (assembly) remarks directly to the final codelet.\n+ Remove  \/CodeBuffer\/  self  destruction,  overwriting  memory before  all\n  deconstructors have been executed.\n  - Replace with sentinel deconstructor to do the bidding.\n+ Stub code  generated into a single common \/CodeBuffer\/  (holding a number\n  of stubs) will  not print the assembly remarks correctly  (except for the\n  very first stub code section).\n  - Introduce a displacement to correct the offset.\n+ Remove old CodeString\/s implementation."},"files":[{"filename":"src\/hotspot\/share\/asm\/codeBuffer.cpp"},{"filename":"src\/hotspot\/share\/asm\/codeBuffer.hpp"},{"filename":"src\/hotspot\/share\/code\/codeBlob.cpp"},{"filename":"src\/hotspot\/share\/code\/codeBlob.hpp"},{"filename":"src\/hotspot\/share\/code\/icBuffer.hpp"},{"filename":"src\/hotspot\/share\/code\/stubs.cpp"},{"filename":"src\/hotspot\/share\/code\/stubs.hpp"},{"filename":"src\/hotspot\/share\/compiler\/disassembler.cpp"},{"filename":"src\/hotspot\/share\/compiler\/disassembler.hpp"},{"filename":"src\/hotspot\/share\/interpreter\/interpreter.cpp"},{"filename":"src\/hotspot\/share\/interpreter\/interpreter.hpp"},{"filename":"src\/hotspot\/share\/interpreter\/interpreterRuntime.cpp"},{"filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp"},{"filename":"src\/hotspot\/share\/runtime\/stubCodeGenerator.cpp"},{"filename":"src\/hotspot\/share\/runtime\/stubCodeGenerator.hpp"},{"filename":"test\/hotspot\/gtest\/code\/test_codestrings.cpp"}],"sha":"f2eeefc936393734b833ad5be95f2b1006f8de3d"}]