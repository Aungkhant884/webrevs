{"files":[{"patch":"@@ -3786,13 +3786,13 @@\n-struct PreprocessedArguments final : public CHeapObj<mtArguments> {\n-  PreprocessedArguments() : initial_vm_options_args(\"\"),\n-                            initial_java_tool_options_args(\"env_var='JAVA_TOOL_OPTIONS'\"),\n-                            initial_java_options_args(\"env_var='_JAVA_OPTIONS'\"),\n-                            mod_cmd_args(\"cmd_line_args\"),\n-                            mod_vm_options_args(\"vm_options_args\"),\n-                            mod_java_tool_options_args(\"env_var='JAVA_TOOL_OPTIONS'\"),\n-                            mod_java_options_args(\"env_var='_JAVA_OPTIONS'\") {}\n-\n-  PreprocessedArguments(const PreprocessedArguments&) = delete;\n-  PreprocessedArguments(PreprocessedArguments&&) = delete;\n-  PreprocessedArguments& operator=(const PreprocessedArguments&) = delete;\n-  PreprocessedArguments& operator=(PreprocessedArguments&&) = delete;\n+static const char* const hotspotrc = \".hotspotrc\";\n+\n+class Arguments::PreprocessedImpl final : public CHeapObj<mtArguments> {\n+ public:\n+  PreprocessedImpl() : initial_vm_options_args(\"\"),\n+                       initial_java_tool_options_args(\"env_var='JAVA_TOOL_OPTIONS'\"),\n+                       initial_java_options_args(\"env_var='_JAVA_OPTIONS'\"),\n+                       mod_cmd_args(\"cmd_line_args\"),\n+                       mod_vm_options_args(\"vm_options_args\"),\n+                       mod_java_tool_options_args(\"env_var='JAVA_TOOL_OPTIONS'\"),\n+                       mod_java_options_args(\"env_var='_JAVA_OPTIONS'\") {}\n+\n+  NONCOPYABLE(PreprocessedImpl);\n@@ -3824,1 +3824,1 @@\n-    delete static_cast<PreprocessedArguments*>(_impl);\n+    delete _impl;\n@@ -3833,1 +3833,1 @@\n-  const char* hotspotrc = \".hotspotrc\";\n+  \/\/ If flag \"-XX:Flags=flags-file\" is used it will be the first option to be processed.\n@@ -3835,1 +3835,1 @@\n-  PreprocessedArguments* result = new PreprocessedArguments();\n+  PreprocessedImpl* result = new PreprocessedImpl();\n@@ -3906,1 +3906,1 @@\n-    if (!process_settings_file(\".hotspotrc\", false,\n+    if (!process_settings_file(hotspotrc, false,\n@@ -3928,1 +3928,1 @@\n-  const PreprocessedArguments* args = static_cast<const PreprocessedArguments*>(preproc_args._impl);\n+  const PreprocessedImpl* args = preproc_args._impl;\n@@ -3931,2 +3931,0 @@\n-  const char* hotspotrc = \".hotspotrc\";\n-\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":18,"deletions":20,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -242,0 +242,3 @@\n+\n+  class PreprocessedImpl;\n+\n@@ -278,1 +281,2 @@\n-    void* _impl = nullptr;\n+    \/\/ Actual implementation defined in source file instead of the header.\n+    PreprocessedImpl* _impl = nullptr;\n@@ -285,4 +289,1 @@\n-    Preprocessed(const Preprocessed&) = delete;\n-    Preprocessed(Preprocessed&&) = delete;\n-    Preprocessed& operator=(const Preprocessed&) = delete;\n-    Preprocessed& operator=(Preprocessed&&) = delete;\n+    NONCOPYABLE(Preprocessed);\n@@ -294,1 +295,0 @@\n-\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}