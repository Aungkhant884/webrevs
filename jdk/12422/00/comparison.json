{"files":[{"patch":"@@ -697,1 +697,1 @@\n-  if (NMTPreInit::handle_realloc(&rc, memblock, size)) {\n+  if (NMTPreInit::handle_realloc(&rc, memblock, size, memflags)) {\n@@ -730,0 +730,2 @@\n+    assert(memflags == header->flags(), \"weird NMT flags mismatch (new:\\\"%s\\\" != old:\\\"%s\\\")\\n\",\n+           NMTUtil::flag_to_name(memflags), NMTUtil::flag_to_name(header->flags()));\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -175,2 +175,2 @@\n-void* NMTPreInit::do_os_malloc(size_t size) {\n-  return os::malloc(size, mtNMT);\n+void* NMTPreInit::do_os_malloc(size_t size, MEMFLAGS memflags) {\n+  return os::malloc(size, memflags);\n","filename":"src\/hotspot\/share\/services\/nmtPreInit.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -251,1 +251,1 @@\n-  static void* do_os_malloc(size_t size);\n+  static void* do_os_malloc(size_t size, MEMFLAGS memflags);\n@@ -279,1 +279,1 @@\n-  static bool handle_realloc(void** rc, void* old_p, size_t new_size) {\n+  static bool handle_realloc(void** rc, void* old_p, size_t new_size, MEMFLAGS memflags) {\n@@ -308,1 +308,1 @@\n-        void* p_new = do_os_malloc(new_size);\n+        void* p_new = do_os_malloc(new_size, memflags);\n","filename":"src\/hotspot\/share\/services\/nmtPreInit.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}