{"files":[{"patch":"@@ -229,1 +229,2 @@\n-    private static final WeakHashMap<ClassLoader, Set<Provider<LoginModule>>> cacheServiceProviders = new WeakHashMap<>();\n+    private static final WeakHashMap<ClassLoader, Set<Provider<LoginModule>>> providersCache =\n+        new WeakHashMap<>();\n@@ -701,2 +702,2 @@\n-                    synchronized(cacheServiceProviders){\n-                        lmProviders = cacheServiceProviders.get(contextClassLoader);\n+                    synchronized(providersCache){\n+                        lmProviders = providersCache.get(contextClassLoader);\n@@ -704,1 +705,1 @@\n-                            if (debug != null)\n+                            if (debug != null){\n@@ -706,0 +707,1 @@\n+                            }\n@@ -716,1 +718,1 @@\n-                            cacheServiceProviders.put(contextClassLoader,lmProviders);\n+                            providersCache.put(contextClassLoader,lmProviders);\n@@ -718,7 +720,6 @@\n-                        for ( Provider<LoginModule> lm: lmProviders){\n-                            if (lm.type().getName().equals(name)){\n-                                moduleStack[i].module = lm.get();\n-                                if (debug != null) {\n-                                    debug.println(name + \" loaded as a service\");\n-                                }\n-                                break;\n+                    }    \n+                    for (Provider<LoginModule> lm: lmProviders){\n+                        if (lm.type().getName().equals(name)){\n+                            moduleStack[i].module = lm.get();\n+                            if (debug != null) {\n+                                debug.println(name + \" loaded as a service\");\n@@ -726,0 +727,1 @@\n+                            break;\n","filename":"src\/java.base\/share\/classes\/javax\/security\/auth\/login\/LoginContext.java","additions":14,"deletions":12,"binary":false,"changes":26,"status":"modified"}]}