{"files":[{"patch":"@@ -81,0 +81,25 @@\n+\n+    @Test\n+    @IR(counts = {IRNode.UNREACHED_TRAP, \"0\"})\n+    public static void testNoTrapAfterDeopt(boolean shouldThrow) {\n+        try {\n+            outOfLine(shouldThrow);\n+        } catch (IllegalStateException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n+    @Run(test = \"testNoTrapAfterDeopt\", mode = RunMode.STANDALONE)\n+    public static void runNoTrapAfterDeopt() {\n+        for (int i = 0; i < 20_000; i++) { \/\/ tier 4\n+            testNoTrapAfterDeopt(false);\n+        }\n+\n+        \/\/ should have trap\n+\n+        testNoTrapAfterDeopt(true); \/\/ deopt + mark ex handler as entered\n+\n+        for (int i = 0; i < 20_000; i++) { \/\/ tier 4 again\n+            testNoTrapAfterDeopt(false); \/\/ should have no trap\n+        }\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestPrunedExHandler.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}