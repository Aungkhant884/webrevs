{"files":[{"patch":"@@ -26,0 +26,1 @@\n+ * @bug 8284161 8287103\n@@ -43,0 +44,2 @@\n+    private static volatile boolean lock2Held;\n+\n@@ -56,1 +59,3 @@\n-                try { Thread.sleep(1000); } catch (Exception e) { }\n+                while (!lock2Held) {\n+                    try { Thread.sleep(10); } catch (Exception e) { }\n+                }\n@@ -68,1 +73,1 @@\n-                try { Thread.sleep(1000); } catch (Exception e) { }\n+                lock2Held = true;\n","filename":"test\/jdk\/java\/lang\/management\/ThreadMXBean\/VirtualThreadDeadlocks.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}