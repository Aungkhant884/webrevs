{"files":[{"patch":"@@ -63,2 +63,1 @@\n-  \/\/ flush live bytes to regions\n-  marker->flush_mark_region_cache();\n+  marker->flush_mark_stats_cache();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCMarkTask.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -47,2 +47,2 @@\n-    _mark_region_cache(mark_stats, G1RegionMarkStatsCache::RegionMarkStatsCacheSize) {\n-  _mark_region_cache.reset();\n+    _mark_stats_cache(mark_stats, G1RegionMarkStatsCache::RegionMarkStatsCacheSize) {\n+  _mark_stats_cache.reset();\n@@ -74,2 +74,2 @@\n-void G1FullGCMarker::flush_mark_region_cache() {\n-  _mark_region_cache.evict_all();\n+void G1FullGCMarker::flush_mark_stats_cache() {\n+  _mark_stats_cache.evict_all();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCMarker.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-  G1RegionMarkStatsCache _mark_region_cache;\n+  G1RegionMarkStatsCache _mark_stats_cache;\n@@ -107,1 +107,2 @@\n-  void flush_mark_region_cache();\n+  \/\/ Flush live bytes to regions\n+  void flush_mark_stats_cache();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCMarker.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-  _mark_region_cache.add_live_words(hr_index, (size_t)obj->size());\n+  _mark_stats_cache.add_live_words(hr_index, (size_t)obj->size());\n","filename":"src\/hotspot\/share\/gc\/g1\/g1FullGCMarker.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,2 +55,0 @@\n-\/\/ Reset liveness of all cache entries to their default values,\n-\/\/ initialize _region_idx to avoid initial cache miss.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RegionMarkStatsCache.cpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -76,4 +76,0 @@\n-\n-    bool is_clear() const {\n-      return _region_idx == 0 && _stats.is_clear();\n-    }\n@@ -101,2 +97,2 @@\n-  \/\/ Number of entries in the per-task stats entry. This seems enough to have a very\n-  \/\/ low cache miss rate.\n+  \/\/ Number of entries in the per-task stats entry. This value seems enough\n+  \/\/ to have a very low cache miss rate.\n@@ -125,1 +121,2 @@\n-  \/\/ Reset all cache entries to their default values.\n+  \/\/ Reset liveness of all cache entries to their default values,\n+  \/\/ initialize _region_idx to avoid initial cache miss.\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RegionMarkStatsCache.hpp","additions":4,"deletions":7,"binary":false,"changes":11,"status":"modified"}]}