{"files":[{"patch":"@@ -237,0 +237,1 @@\n+  nonstatic_field(InstanceKlass,               _nest_members,                                 Array<jushort>*)                       \\\n@@ -244,0 +245,1 @@\n+  nonstatic_field(InstanceKlass,               _nest_host_index,                              u2)                                    \\\n","filename":"src\/hotspot\/share\/runtime\/vmStructs.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -80,0 +80,1 @@\n+    nestMembers          = type.getAddressField(\"_nest_members\");\n@@ -86,0 +87,1 @@\n+    nestHostIndex        = new CIntField(type.getCIntegerField(\"_nest_host_index\"), 0);\n@@ -145,0 +147,1 @@\n+  private static AddressField  nestMembers;\n@@ -151,0 +154,1 @@\n+  private static CIntField nestHostIndex;\n@@ -377,0 +381,1 @@\n+  public short     getNestHostIndex()       { return                (short) nestHostIndex.getValue(this); }\n@@ -903,0 +908,5 @@\n+  public U2Array getNestMembers() {\n+    Address addr = getAddress().getAddressAt(nestMembers.getOffset());\n+    return VMObjectFactory.newObject(U2Array.class, addr);\n+  }\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/oops\/InstanceKlass.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -55,0 +55,2 @@\n+    protected short  _nestHostIndex;\n+    protected short  _nestMembersIndex;\n@@ -146,0 +148,8 @@\n+        Short nestHostIndex = utf8ToIndex.get(\"NestHost\");\n+        _nestHostIndex = (nestHostIndex != null)? nestHostIndex.shortValue() : 0;\n+        if (DEBUG) debugMessage(\"NestHost index = \" + _nestHostIndex);\n+\n+        Short nestMembersIndex = utf8ToIndex.get(\"NestMembers\");\n+        _nestMembersIndex = (nestMembersIndex != null)? nestMembersIndex.shortValue() : 0;\n+        if (DEBUG) debugMessage(\"NestMembers index = \" + _nestMembersIndex);\n+\n@@ -783,0 +793,11 @@\n+        short nestHost = klass.getNestHostIndex();\n+        if (nestHost != 0) {\n+            classAttributeCount++;\n+        }\n+\n+        U2Array nestMembers = klass.getNestMembers();\n+        final int numNestMembers = nestMembers.length();\n+        if (numNestMembers != 0) {\n+            classAttributeCount++;\n+        }\n+\n@@ -838,0 +859,17 @@\n+        if (nestHost != 0) {\n+            writeIndex(_nestHostIndex);\n+            final int nestHostAttrLen = 2;\n+            dos.writeInt(nestHostAttrLen);\n+            dos.writeShort(nestHost);\n+        }\n+\n+        if (numNestMembers != 0) {\n+           writeIndex(_nestMembersIndex);\n+           final int nestMembersAttrLen = 2 + numNestMembers * 2;\n+           dos.writeInt(nestMembersAttrLen);\n+           dos.writeShort(numNestMembers);\n+           for (int index = 0; index < numNestMembers; index++) {\n+               dos.writeShort(nestMembers.at(index));\n+           }\n+        }\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/tools\/jcore\/ClassWriter.java","additions":38,"deletions":0,"binary":false,"changes":38,"status":"modified"}]}