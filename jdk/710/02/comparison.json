{"files":[{"patch":"@@ -49,2 +49,0 @@\n-    protected Navigation navBar;\n-\n@@ -60,26 +58,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.OVERVIEW, path);\n-    }\n-\n-    \/**\n-     * Adds the top text (from the -top option), the upper\n-     * navigation bar, and then the title (from the\"-header\"\n-     * option), at the top of page.\n-     *\n-     * @param header the documentation tree to which the navigation bar header will be added\n-     *\/\n-    protected void addNavigationBarHeader(Content header) {\n-        addTop(header);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        header.add(navBar.getContent(Navigation.Position.TOP));\n-    }\n-\n-    \/**\n-     * Adds the lower navigation bar and the bottom text\n-     * (from the -bottom option) at the bottom of page.\n-     *\n-     * @param footer the documentation tree to which the navigation bar footer will be added\n-     *\/\n-    protected void addNavigationBarFooter(Content footer) {\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -126,2 +98,0 @@\n-        Content header = new ContentBuilder();\n-        addNavigationBarHeader(header);\n@@ -131,2 +101,0 @@\n-        Content footer = HtmlTree.FOOTER();\n-        addNavigationBarFooter(footer);\n@@ -134,1 +102,1 @@\n-                .setHeader(header)\n+                .setHeader(getHeader(PageMode.OVERVIEW))\n@@ -136,1 +104,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AbstractOverviewIndexWriter.java","additions":2,"deletions":34,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -96,5 +96,0 @@\n-        Content header = new ContentBuilder();\n-        addTop(header);\n-        Navigation navBar = new Navigation(null, configuration, PageMode.ALL_CLASSES, path);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        header.add(navBar.getContent(Navigation.Position.TOP));\n@@ -105,4 +100,0 @@\n-        Content footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -111,1 +102,1 @@\n-                .setHeader(header)\n+                .setHeader(getHeader(PageMode.ALL_CLASSES))\n@@ -113,1 +104,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AllClassesIndexWriter.java","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -77,5 +77,0 @@\n-        Content headerContent = new ContentBuilder();\n-        Navigation navBar = new Navigation(null, configuration, PageMode.ALL_PACKAGES, path);\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -88,4 +83,0 @@\n-        Content footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -94,1 +85,1 @@\n-                .setHeader(headerContent)\n+                .setHeader(getHeader(PageMode.ALL_PACKAGES))\n@@ -97,1 +88,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/AllPackagesIndexWriter.java","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -97,1 +97,0 @@\n-    private final Navigation navBar;\n@@ -150,1 +149,0 @@\n-        this.navBar = new Navigation(typeElement, configuration, PageMode.USE, path);\n@@ -230,5 +228,1 @@\n-        HtmlTree footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n-        bodyContents.setFooter(footer);\n+        bodyContents.setFooter(getFooter());\n@@ -428,11 +422,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        Content mdleLinkContent = getModuleLink(utils.elementUtils.getModuleOf(typeElement),\n-                contents.moduleLabel);\n-        navBar.setNavLinkModule(mdleLinkContent);\n-        Content classLinkContent = getLink(new LinkInfoImpl(\n-                configuration, LinkInfoImpl.Kind.CLASS_USE_HEADER, typeElement)\n-                .label(resources.getText(\"doclet.Class\")));\n-        navBar.setNavLinkClass(classLinkContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -446,1 +429,1 @@\n-        bodyContents.setHeader(headerContent).addMainContent(div);\n+        bodyContents.setHeader(getHeader(PageMode.USE, typeElement)).addMainContent(div);\n@@ -449,0 +432,12 @@\n+\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n+        Content mdleLinkContent = getModuleLink(utils.elementUtils.getModuleOf(typeElement),\n+                contents.moduleLabel);\n+        Content classLinkContent = getLink(new LinkInfoImpl(\n+                configuration, LinkInfoImpl.Kind.CLASS_USE_HEADER, typeElement)\n+                .label(resources.getText(\"doclet.Class\")));\n+        return super.getNavBar(pageMode, element)\n+                .setNavLinkModule(mdleLinkContent)\n+                .setNavLinkClass(classLinkContent);\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ClassUseWriter.java","additions":14,"deletions":19,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -93,2 +93,0 @@\n-    private final Navigation navBar;\n-\n@@ -106,1 +104,0 @@\n-        this.navBar = new Navigation(typeElement, configuration, PageMode.CLASS, path);\n@@ -112,8 +109,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(typeElement),\n-                contents.moduleLabel);\n-        navBar.setNavLinkModule(linkContent);\n-        navBar.setMemberSummaryBuilder(configuration.getBuilderFactory().getMemberSummaryBuilder(this));\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -149,1 +138,1 @@\n-        bodyContents.setHeader(headerContent)\n+        bodyContents.setHeader(getHeader(PageMode.CLASS, typeElement))\n@@ -160,0 +149,9 @@\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n+        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(element),\n+                contents.moduleLabel);\n+        return super.getNavBar(pageMode, element)\n+                .setNavLinkModule(linkContent)\n+                .setMemberSummaryBuilder(configuration.getBuilderFactory().getMemberSummaryBuilder(this));\n+    }\n+\n@@ -163,5 +161,1 @@\n-        Content htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ClassWriterImpl.java","additions":11,"deletions":17,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -76,2 +76,0 @@\n-    private final Navigation navBar;\n-\n@@ -91,1 +89,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.CONSTANT_VALUES, path);\n@@ -99,5 +96,1 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n-        bodyContents.setHeader(headerContent);\n+        bodyContents.setHeader(getHeader(PageMode.CONSTANT_VALUES));\n@@ -274,5 +267,1 @@\n-        Content htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ConstantsSummaryWriterImpl.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -210,2 +210,0 @@\n-    private final Navigation navBar;\n-\n@@ -221,1 +219,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.DEPRECATED, path);\n@@ -298,5 +295,1 @@\n-        HtmlTree htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n@@ -359,5 +352,1 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n-        bodyContents.setHeader(headerContent);\n+        bodyContents.setHeader(getHeader(PageMode.DEPRECATED));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/DeprecatedListWriter.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -67,1 +67,0 @@\n-    private Navigation navBar;\n@@ -199,1 +198,3 @@\n-        HtmlDocletWriter docletWriter = new DocFileWriter(configuration, dfilePath, element);\n+        PackageElement pkg = dfElement.getPackageElement();\n+\n+        HtmlDocletWriter docletWriter = new DocFileWriter(configuration, dfilePath, element, pkg);\n@@ -207,11 +208,0 @@\n-        PackageElement pkg = dfElement.getPackageElement();\n-        this.navBar = new Navigation(element, configuration, PageMode.DOC_FILE, docletWriter.path);\n-        Content headerContent = new ContentBuilder();\n-        docletWriter.addTop(headerContent);\n-        Content mdleLinkContent = docletWriter.getModuleLink(utils.elementUtils.getModuleOf(pkg),\n-                docletWriter.contents.moduleLabel);\n-        navBar.setNavLinkModule(mdleLinkContent);\n-        Content pkgLinkContent = docletWriter.getPackageLink(pkg, docletWriter.contents.packageLabel);\n-        navBar.setNavLinkPackage(pkgLinkContent);\n-        navBar.setUserHeader(docletWriter.getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -223,4 +213,0 @@\n-        navBar.setUserFooter(docletWriter.getUserHeaderFooter(false));\n-        Content footer = HtmlTree.FOOTER();\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        docletWriter.addBottom(footer);\n@@ -228,1 +214,1 @@\n-                .setHeader(headerContent)\n+                .setHeader(docletWriter.getHeader(PageMode.DOC_FILE, element))\n@@ -230,1 +216,1 @@\n-                .setFooter(footer));\n+                .setFooter(docletWriter.getFooter()));\n@@ -294,0 +280,1 @@\n+        private final PackageElement pkg;\n@@ -298,3 +285,4 @@\n-         * @param configuration the configuration of this doclet.\n-         * @param path          the file to be generated.\n-         * @param e             the anchoring element.\n+         * @param configuration the configuration of this doclet\n+         * @param path          the file to be generated\n+         * @param e             the anchoring element\n+         * @param pkg           the package containing the doc file\n@@ -302,1 +290,1 @@\n-        public DocFileWriter(HtmlConfiguration configuration, DocPath path, Element e) {\n+        public DocFileWriter(HtmlConfiguration configuration, DocPath path, Element e, PackageElement pkg) {\n@@ -311,0 +299,11 @@\n+            this.pkg = pkg;\n+        }\n+\n+        @Override\n+        protected Navigation getNavBar(PageMode pageMode, Element element) {\n+            Content mdleLinkContent = getModuleLink(utils.elementUtils.getModuleOf(element),\n+                    contents.moduleLabel);\n+            Content pkgLinkContent = getPackageLink(pkg, contents.packageLabel);\n+            return super.getNavBar(pageMode, element)\n+                    .setNavLinkModule(mdleLinkContent)\n+                    .setNavLinkPackage(pkgLinkContent);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/DocFilesHandlerImpl.java","additions":22,"deletions":23,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -54,2 +54,0 @@\n-    private final Navigation navBar;\n-\n@@ -70,1 +68,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.HELP, path);\n@@ -96,4 +93,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -102,4 +95,0 @@\n-        HtmlTree footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -107,1 +96,1 @@\n-                .setHeader(headerContent)\n+                .setHeader(getHeader(PageMode.HELP))\n@@ -109,1 +98,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HelpWriter.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -490,1 +490,2 @@\n-     * Get user specified header and the footer.\n+     * Returns a {@code <header>} element, containing the user \"top\" text, if any,\n+     * amd the main navigation bar.\n@@ -492,2 +493,3 @@\n-     * @param header if true print the user provided header else print the\n-     * user provided footer.\n+     * @param pageMode the pageMode used to configure the navigation bar\n+     *\n+     * @return the {@code <header>} element\n@@ -495,13 +497,2 @@\n-    public Content getUserHeaderFooter(boolean header) {\n-        String content;\n-        if (header) {\n-            content = replaceDocRootDir(options.header());\n-        } else {\n-            if (options.footer().length() != 0) {\n-                content = replaceDocRootDir(options.footer());\n-            } else {\n-                content = replaceDocRootDir(options.header());\n-            }\n-        }\n-        Content rawContent = new RawHtml(content);\n-        return rawContent;\n+    protected HtmlTree getHeader(Navigation.PageMode pageMode) {\n+        return getHeader(pageMode, null);\n@@ -511,1 +502,18 @@\n-     * Adds the user specified top.\n+     * Returns a {@code <header>} element, containing the user \"top\" text, if any,\n+     * amd the main navigation bar.\n+     *\n+     * @param pageMode the page mode used to configure the navigation bar\n+     * @param element  the element used to configure the navigation bar\n+     *\n+     * @return the {@code <header>} element\n+     *\/\n+    protected HtmlTree getHeader(Navigation.PageMode pageMode, Element element) {\n+        return HtmlTree.HEADER()\n+                .add(new RawHtml(replaceDocRootDir(options.top())))\n+                .add(getNavBar(pageMode, element).getContent());\n+    }\n+\n+    \/**\n+     * Returns a basic navigation bar for a kind of page and element.\n+     *\n+     * @apiNote the result may be further configured by overriding this method\n@@ -513,1 +521,3 @@\n-     * @param htmlTree the content tree to which user specified top will be added\n+     * @param pageMode the page mode\n+     * @param element  the defining element for the navigation bar, or {@code null} if none\n+     * @return the basic navigation bar\n@@ -515,3 +525,3 @@\n-    public void addTop(Content htmlTree) {\n-        Content top = new RawHtml(replaceDocRootDir(options.top()));\n-        htmlTree.add(top);\n+    protected Navigation getNavBar(Navigation.PageMode pageMode, Element element) {\n+        return new Navigation(element, configuration, pageMode, path)\n+                .setUserHeader(new RawHtml(replaceDocRootDir(options.header())));\n@@ -521,1 +531,2 @@\n-     * Adds the user specified bottom.\n+     * Returns a {@code <footer>} element containing the user's \"bottom\" text,\n+     * or {@code null} if there is no such text.\n@@ -523,1 +534,1 @@\n-     * @param htmlTree the content tree to which user specified bottom will be added\n+     * @return the {@code <footer>} element or {@code null}.\n@@ -525,5 +536,9 @@\n-    public void addBottom(Content htmlTree) {\n-        Content bottom = new RawHtml(replaceDocRootDir(options.bottom()));\n-        Content small = HtmlTree.SMALL(bottom);\n-        Content p = HtmlTree.P(HtmlStyle.legalCopy, small);\n-        htmlTree.add(p);\n+    public HtmlTree getFooter() {\n+        String bottom = options.bottom();\n+        return (bottom == null || bottom.isEmpty())\n+                ? null\n+                : HtmlTree.FOOTER()\n+                    .add(new HtmlTree(TagName.HR))\n+                    .add(HtmlTree.P(HtmlStyle.legalCopy,\n+                            HtmlTree.SMALL(\n+                                    new RawHtml(replaceDocRootDir(bottom)))));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlDocletWriter.java","additions":43,"deletions":28,"binary":false,"changes":71,"status":"modified"},{"patch":"@@ -114,6 +114,0 @@\n-\n-    \/**\n-     * Argument for command-line option {@code -footer}.\n-     *\/\n-    private String footer = \"\";\n-\n@@ -238,1 +232,1 @@\n-                        footer = args.get(0);\n+                        messages.warning(\"doclet.footer_specified\");\n@@ -502,1 +496,0 @@\n-        utils.checkJavaScriptInOption(\"-footer\", footer);\n@@ -596,7 +589,0 @@\n-    \/**\n-     * Argument for command-line option {@code -footer}.\n-     *\/\n-    String footer() {\n-        return footer;\n-    }\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlOptions.java","additions":1,"deletions":15,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -126,5 +126,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        Navigation navBar = new Navigation(null, configuration, PageMode.INDEX, path);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -137,4 +132,0 @@\n-        HtmlTree footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -142,1 +133,1 @@\n-                .setHeader(headerContent)\n+                .setHeader(getHeader(PageMode.INDEX))\n@@ -147,1 +138,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/IndexWriter.java","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -46,6 +46,0 @@\n-    \/**\n-     * Marker to identify start of bottom navigation bar.\n-     *\/\n-    public static final Comment START_OF_BOTTOM_NAVBAR =\n-            new Comment(\"======= START OF BOTTOM NAVBAR ======\");\n-\n@@ -58,6 +52,0 @@\n-    \/**\n-     * Marker to identify end of bottom navigation bar.\n-     *\/\n-    public static final Comment END_OF_BOTTOM_NAVBAR =\n-            new Comment(\"======== END OF BOTTOM NAVBAR =======\");\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/MarkerComments.java","additions":0,"deletions":12,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -163,2 +163,0 @@\n-    private final Navigation navBar;\n-\n@@ -177,1 +175,0 @@\n-        this.navBar = new Navigation(mdle, configuration, PageMode.MODULE, path);\n@@ -189,9 +186,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setDisplaySummaryModuleDescLink(!utils.getFullBody(mdle).isEmpty() && !options.noComment());\n-        navBar.setDisplaySummaryModulesLink(display(requires) || display(indirectModules));\n-        navBar.setDisplaySummaryPackagesLink(display(packages) || display(indirectPackages)\n-                || display(indirectOpenPackages));\n-        navBar.setDisplaySummaryServicesLink(displayServices(uses, usesTrees) || displayServices(provides.keySet(), providesTrees));\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -211,1 +199,1 @@\n-        bodyContents.setHeader(headerContent)\n+        bodyContents.setHeader(getHeader(PageMode.MODULE, mdle))\n@@ -216,0 +204,10 @@\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n+        return super.getNavBar(pageMode, element)\n+                .setDisplaySummaryModuleDescLink(!utils.getFullBody(mdle).isEmpty() && !options.noComment())\n+                .setDisplaySummaryModulesLink(display(requires) || display(indirectModules))\n+                .setDisplaySummaryPackagesLink(display(packages) || display(indirectPackages)\n+                        || display(indirectOpenPackages))\n+                .setDisplaySummaryServicesLink(displayServices(uses, usesTrees) || displayServices(provides.keySet(), providesTrees));\n+    }\n+\n@@ -843,5 +841,1 @@\n-        Content htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/ModuleWriterImpl.java","additions":12,"deletions":18,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -83,1 +83,0 @@\n-    private Content userFooter;\n@@ -107,21 +106,0 @@\n-    enum Position {\n-        BOTTOM(MarkerComments.START_OF_BOTTOM_NAVBAR, MarkerComments.END_OF_BOTTOM_NAVBAR),\n-        TOP(MarkerComments.START_OF_TOP_NAVBAR, MarkerComments.END_OF_TOP_NAVBAR);\n-\n-        final Content startOfNav;\n-        final Content endOfNav;\n-\n-        Position(Content startOfNav, Content endOfNav) {\n-            this.startOfNav = startOfNav;\n-            this.endOfNav = endOfNav;\n-        }\n-\n-        Content startOfNav() {\n-            return startOfNav;\n-        }\n-\n-        Content endOfNav() {\n-            return endOfNav;\n-        }\n-    }\n-\n@@ -195,5 +173,0 @@\n-    public Navigation setUserFooter(Content userFooter) {\n-        this.userFooter = userFooter;\n-        return this;\n-    }\n-\n@@ -201,1 +174,1 @@\n-     * Add the links for the main navigation.\n+     * Adds the links for the main navigation.\n@@ -359,1 +332,1 @@\n-     * Add the summary links to the sub-navigation.\n+     * Adds the summary links to the sub-navigation.\n@@ -439,1 +412,1 @@\n-     * Add the navigation summary link.\n+     * Adds the navigation summary link.\n@@ -464,1 +437,1 @@\n-     * Add the navigation Type summary link.\n+     * Adds the navigation Type summary link.\n@@ -554,1 +527,1 @@\n-     * Add the navigation Type summary link.\n+     * Adds the navigation Type summary link.\n@@ -601,1 +574,1 @@\n-     * Add the detail links to sub-navigation.\n+     * Adds the detail links to sub-navigation.\n@@ -643,1 +616,1 @@\n-     * Add the navigation Type detail link.\n+     * Adds the navigation Type detail link.\n@@ -692,1 +665,1 @@\n-     * Add the navigation Annotation Type detail link.\n+     * Adds the navigation Annotation Type detail link.\n@@ -726,1 +699,1 @@\n-     * Add the navigation Annotation Type detail link.\n+     * Adds the navigation Annotation Type detail link.\n@@ -909,1 +882,1 @@\n-     * Get the navigation content.\n+     * Returns the navigation content.\n@@ -911,2 +884,1 @@\n-     * @param posn the position for the navigation bar\n-     * @return the navigation contents\n+     * @return the navigation content\n@@ -914,1 +886,1 @@\n-    public Content getContent(Position posn) {\n+    public Content getContent() {\n@@ -922,31 +894,9 @@\n-        SectionName navListSection;\n-        Content aboutContent;\n-        boolean addSearch;\n-        switch (posn) {\n-            case TOP:\n-                tree.add(Position.TOP.startOfNav());\n-                navDiv.setStyle(HtmlStyle.topNav)\n-                        .setId(SectionName.NAVBAR_TOP.getName())\n-                        .add(HtmlTree.DIV(HtmlStyle.skipNav,\n-                                links.createLink(SectionName.SKIP_NAVBAR_TOP, skipNavLinks,\n-                                        skipNavLinks.toString(), \"\")));\n-                navListSection = SectionName.NAVBAR_TOP_FIRSTROW;\n-                aboutContent = userHeader;\n-                addSearch = options.createIndex();\n-                break;\n-\n-            case BOTTOM:\n-                tree.add(Position.BOTTOM.startOfNav());\n-                navDiv.setStyle(HtmlStyle.bottomNav)\n-                        .setId(SectionName.NAVBAR_BOTTOM.getName())\n-                        .add(HtmlTree.DIV(HtmlStyle.skipNav,\n-                                links.createLink(SectionName.SKIP_NAVBAR_BOTTOM, skipNavLinks,\n-                                        skipNavLinks.toString(), \"\")));\n-                navListSection = SectionName.NAVBAR_BOTTOM_FIRSTROW;\n-                aboutContent = userFooter;\n-                addSearch = false;\n-                break;\n-\n-            default:\n-                throw new Error();\n-        }\n+        tree.add(MarkerComments.START_OF_TOP_NAVBAR);\n+        navDiv.setStyle(HtmlStyle.topNav)\n+                .setId(SectionName.NAVBAR_TOP.getName())\n+                .add(HtmlTree.DIV(HtmlStyle.skipNav,\n+                        links.createLink(SectionName.SKIP_NAVBAR_TOP, skipNavLinks,\n+                                skipNavLinks.toString(), \"\")));\n+        SectionName navListSection = SectionName.NAVBAR_TOP_FIRSTROW;\n+        Content aboutContent = userHeader;\n+        boolean addSearch = options.createIndex();\n@@ -982,6 +932,3 @@\n-        switch (posn) {\n-            case TOP:\n-                tree.add(Position.TOP.endOfNav());\n-                tree.add(HtmlTree.SPAN(HtmlStyle.skipNav, EMPTY_COMMENT)\n-                        .setId(SectionName.SKIP_NAVBAR_TOP.getName()));\n-                break;\n+        tree.add(MarkerComments.END_OF_TOP_NAVBAR);\n+        tree.add(HtmlTree.SPAN(HtmlStyle.skipNav, EMPTY_COMMENT)\n+                .setId(SectionName.SKIP_NAVBAR_TOP.getName()));\n@@ -989,5 +936,0 @@\n-            case BOTTOM:\n-                tree.add(Position.BOTTOM.endOfNav());\n-                tree.add(HtmlTree.SPAN(HtmlStyle.skipNav, EMPTY_COMMENT)\n-                        .setId(SectionName.SKIP_NAVBAR_BOTTOM.getName()));\n-        }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Navigation.java","additions":24,"deletions":82,"binary":false,"changes":106,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import javax.lang.model.element.Element;\n@@ -59,2 +60,0 @@\n-    private final Navigation navBar;\n-\n@@ -73,1 +72,0 @@\n-        this.navBar = new Navigation(packageElement, configuration, PageMode.TREE, path);\n@@ -115,5 +113,1 @@\n-        HtmlTree footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n-        bodyContents.setFooter(footer);\n+        bodyContents.setFooter(getFooter());\n@@ -133,2 +127,6 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n+        bodyContents.setHeader(getHeader(PageMode.TREE, packageElement));\n+        return bodyTree;\n+    }\n+\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n@@ -137,5 +135,2 @@\n-        navBar.setNavLinkModule(linkContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n-        bodyContents.setHeader(headerContent);\n-        return bodyTree;\n+        return super.getNavBar(pageMode, element)\n+                .setNavLinkModule(linkContent);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/PackageTreeWriter.java","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import javax.lang.model.element.Element;\n@@ -64,1 +65,0 @@\n-    private final Navigation navBar;\n@@ -102,1 +102,0 @@\n-        this.navBar = new Navigation(packageElement, configuration, PageMode.USE, path);\n@@ -134,5 +133,1 @@\n-        HtmlTree footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n-        bodyContents.setFooter(footer);\n+        bodyContents.setFooter(getFooter());\n@@ -239,7 +234,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(packageElement),\n-                contents.moduleLabel);\n-        navBar.setNavLinkModule(linkContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -253,1 +241,1 @@\n-        bodyContents.setHeader(headerContent)\n+        bodyContents.setHeader(getHeader(PageMode.USE, packageElement))\n@@ -257,0 +245,8 @@\n+\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n+        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(element),\n+                contents.moduleLabel);\n+        return super.getNavBar(pageMode, element)\n+                .setNavLinkModule(linkContent);\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/PackageUseWriter.java","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -31,0 +31,1 @@\n+import javax.lang.model.element.Element;\n@@ -77,2 +78,0 @@\n-    private final Navigation navBar;\n-\n@@ -97,1 +96,0 @@\n-        this.navBar = new Navigation(packageElement, configuration, PageMode.PACKAGE, path);\n@@ -103,7 +101,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(packageElement),\n-                contents.moduleLabel);\n-        navBar.setNavLinkModule(linkContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -130,1 +121,1 @@\n-        bodyContents.setHeader(headerContent)\n+        bodyContents.setHeader(getHeader(PageMode.PACKAGE, packageElement))\n@@ -140,0 +131,8 @@\n+    @Override\n+    protected Navigation getNavBar(PageMode pageMode, Element element) {\n+        Content linkContent = getModuleLink(utils.elementUtils.getModuleOf(packageElement),\n+                contents.moduleLabel);\n+        return super.getNavBar(pageMode, element)\n+                .setNavLinkModule(linkContent);\n+    }\n+\n@@ -264,5 +263,1 @@\n-        Content htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/PackageWriterImpl.java","additions":11,"deletions":16,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -58,2 +58,0 @@\n-    private final Navigation navBar;\n-\n@@ -66,1 +64,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.SERIALIZED_FORM, path);\n@@ -79,4 +76,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -87,1 +80,1 @@\n-        bodyContents.setHeader(headerContent)\n+        bodyContents.setHeader(getHeader(PageMode.SERIALIZED_FORM))\n@@ -244,5 +237,1 @@\n-        Content htmlTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        htmlTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(htmlTree);\n-        bodyContents.setFooter(htmlTree);\n+        bodyContents.setFooter(getFooter());\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SerializedFormWriterImpl.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -66,2 +66,0 @@\n-    private final Navigation navBar;\n-\n@@ -81,1 +79,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.SYSTEM_PROPERTIES, path);\n@@ -111,4 +108,0 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n@@ -117,4 +110,0 @@\n-        Content footer = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footer.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footer);\n@@ -122,1 +111,1 @@\n-                .setHeader(headerContent)\n+                .setHeader(getHeader(PageMode.SYSTEM_PROPERTIES))\n@@ -127,1 +116,1 @@\n-                .setFooter(footer));\n+                .setFooter(getFooter()));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SystemPropertiesWriter.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -69,2 +69,0 @@\n-    private final Navigation navBar;\n-\n@@ -84,1 +82,0 @@\n-        this.navBar = new Navigation(null, configuration, PageMode.TREE, path);\n@@ -121,4 +118,0 @@\n-        HtmlTree footerTree = HtmlTree.FOOTER();\n-        navBar.setUserFooter(getUserHeaderFooter(false));\n-        footerTree.add(navBar.getContent(Navigation.Position.BOTTOM));\n-        addBottom(footerTree);\n@@ -127,1 +120,1 @@\n-                .setFooter(footerTree));\n+                .setFooter(getFooter()));\n@@ -178,5 +171,1 @@\n-        Content headerContent = new ContentBuilder();\n-        addTop(headerContent);\n-        navBar.setUserHeader(getUserHeaderFooter(true));\n-        headerContent.add(navBar.getContent(Navigation.Position.TOP));\n-        bodyContents.setHeader(headerContent);\n+        bodyContents.setHeader(getHeader(PageMode.TREE));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/TreeWriter.java","additions":2,"deletions":13,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -34,0 +34,1 @@\n+import java.util.Objects;\n@@ -50,2 +51,2 @@\n-    private Content header = HtmlTree.EMPTY;\n-    private Content footer = HtmlTree.EMPTY;\n+    private HtmlTree header = null;\n+    private HtmlTree footer = null;\n@@ -58,2 +59,2 @@\n-    public BodyContents setHeader(Content header) {\n-        this.header = header;\n+    public BodyContents setHeader(HtmlTree header) {\n+        this.header = Objects.requireNonNull(header);\n@@ -63,1 +64,1 @@\n-    public BodyContents setFooter(Content footer) {\n+    public BodyContents setFooter(HtmlTree footer) {\n@@ -91,3 +92,4 @@\n-        HtmlTree flexHeader = HtmlTree.HEADER()\n-                .setStyle(HtmlStyle.flexHeader)\n-                .add(header);\n+        if (header == null)\n+            throw new NullPointerException();\n+\n+        HtmlTree flexHeader = header.addStyle(HtmlStyle.flexHeader);\n@@ -97,1 +99,1 @@\n-                .add(footer);\n+                .add(footer == null ? HtmlTree.EMPTY : footer);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/BodyContents.java","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -100,5 +100,0 @@\n-    \/**\n-     * The class for the overall {@code div} element containing the {@code footer} element for the page.\n-     *\/\n-    bottomNav,\n-\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyle.java","additions":0,"deletions":5,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -494,1 +494,1 @@\n-# L10N: do not localize the option names --no-frames\n+# L10N: do not localize the option name --no-frames\n@@ -498,0 +498,5 @@\n+\n+# L10N: do not localize the option name -footer\n+doclet.footer_specified=\\\n+    The -footer option is no longer supported and will be ignored.\\n\\\n+    It may be removed in a future release.\n\\ No newline at end of file\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -155,13 +155,0 @@\n-.bottom-nav {\n-    margin-top:10px;\n-    background-color:#4D7A97;\n-    color:#FFFFFF;\n-    float:left;\n-    padding:0;\n-    width:100%;\n-    clear:right;\n-    height:2.8em;\n-    padding-top:10px;\n-    overflow:hidden;\n-    font-size:12px;\n-}\n@@ -210,1 +197,1 @@\n-.top-nav a:link, .top-nav a:active, .top-nav a:visited, .bottom-nav a:link, .bottom-nav a:active, .bottom-nav a:visited {\n+.top-nav a:link, .top-nav a:active, .top-nav a:visited {\n@@ -215,1 +202,1 @@\n-.top-nav a:hover, .bottom-nav a:hover {\n+.top-nav a:hover {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":2,"deletions":15,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -59,8 +59,0 @@\n-                    <\/span>\"\"\",\n-                \/\/ Bottom navbar <a href>\n-                \"\"\"\n-                    <a href=\"#skip.navbar.bottom\" title=\"Skip navigation links\">Skip navigation links<\/a>\"\"\",\n-                \/\/ Bottom navbar <span id>\n-                \"\"\"\n-                    <span class=\"skip-nav\" id=\"skip.navbar.bottom\">\n-                    <!--   -->\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/AccessSkipNav\/AccessSkipNav.java","additions":0,"deletions":8,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -74,12 +74,1 @@\n-                \/\/ check bottom navbar\n-                \"\"\"\n-                    <a href=\"..\/..\/module-summary.html\">Module<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/package-summary.html\">Package<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/overview-tree.html\">Tree<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/deprecated-list.html\">Deprecated<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/index-all.html\">Index<\/a>\"\"\",\n-                \"phi-FOOTER-phi\",\n+                \/\/ check footer\n@@ -122,12 +111,1 @@\n-                \/\/ check bottom navbar\n-                \"\"\"\n-                    <a href=\"..\/..\/module-summary.html\">Module<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/package-summary.html\">Package<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/overview-tree.html\">Tree<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/deprecated-list.html\">Deprecated<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/index-all.html\">Index<\/a>\"\"\",\n-                \"phi-FOOTER-phi\",\n+                \/\/ check footer\n@@ -154,12 +132,1 @@\n-                \/\/ check bottom navbar\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/..\/module-summary.html\">Module<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/package-summary.html\">Package<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/..\/..\/overview-tree.html\">Tree<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/..\/..\/deprecated-list.html\">Deprecated<\/a>\"\"\",\n-                \"\"\"\n-                    <a href=\"..\/..\/..\/..\/..\/index-all.html\">Index<\/a>\"\"\",\n-                \"phi-FOOTER-phi\",\n+                \/\/ check footer\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testCopyFiles\/TestCopyFiles.java","additions":3,"deletions":36,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+                \"-bottom\", \"bottom text\",\n@@ -85,2 +86,4 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\"\"\");\n+                    <footer role=\"contentinfo\"> \"\"\",\n+                \"\"\"\n+                    bottom text\"\"\"\n+        );\n@@ -98,0 +101,1 @@\n+                \"-bottom\", \"bottom text\",\n@@ -112,2 +116,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -134,0 +139,1 @@\n+                \"-bottom\", \"bottom text\",\n@@ -147,2 +153,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\"\"\"\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\"\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlLandmarkRegions\/TestHtmlLandmarkRegions.java","additions":13,"deletions":6,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -49,0 +49,1 @@\n+                \"-bottom\", \"bottom text\",\n@@ -63,0 +64,1 @@\n+                \"-bottom\", \"bottom text\",\n@@ -86,3 +88,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -110,3 +112,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -150,3 +152,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\" );\n@@ -171,3 +173,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -200,3 +202,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -221,3 +223,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -244,3 +246,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -280,3 +282,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -300,3 +302,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -338,3 +340,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -388,3 +390,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -429,3 +431,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -461,3 +463,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -488,3 +490,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -515,3 +517,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -553,3 +555,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n@@ -582,3 +584,3 @@\n-                    <footer role=\"contentinfo\">\n-                    <nav role=\"navigation\">\n-                    <!-- ======= START OF BOTTOM NAVBAR ====== -->\"\"\");\n+                    <footer role=\"contentinfo\">\"\"\",\n+                \"\"\"\n+                    bottom text\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlVersion\/TestHtmlVersion.java","additions":53,"deletions":51,"binary":false,"changes":104,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-    public void testHeaderFooter() {\n+    public void testHeader() {\n@@ -50,1 +50,0 @@\n-                \"-footer\", \"Test footer\",\n@@ -57,3 +56,1 @@\n-                    <div class=\"about-language\">Test header<\/div>\"\"\",\n-                \"\"\"\n-                    <div class=\"about-language\">Test footer<\/div>\"\"\");\n+                    <div class=\"about-language\">Test header<\/div>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testOptions\/TestOptions.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -106,1 +106,0 @@\n-        FTR(\"-footer\", \"lorem #COMMENT ipsum\", \"package p; public class C { }\"),\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/TestScriptInComment.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}