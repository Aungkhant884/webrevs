{"files":[{"patch":"@@ -1761,0 +1761,9 @@\n+static bool get_version_ex(OSVERSIONINFOEX* osvi) {\n+  \/\/ GetVersionEx is deprecated, but there doesn't seem to be a better\n+  \/\/ option for the places where we're using it.\n+  PRAGMA_DIAG_PUSH\n+  PRAGMA_DISABLE_MSVC_WARNING(4996) \/\/ Disable deprecation warning.\n+  return GetVersionEx((OSVERSIONINFO *)osvi);\n+  PRAGMA_DIAG_POP\n+}\n+\n@@ -1772,1 +1781,1 @@\n-  if (!GetVersionEx((OSVERSIONINFO *)&osvi)) {\n+  if (!get_version_ex(&osvi)) {\n@@ -3921,1 +3930,1 @@\n-  GetVersionEx((OSVERSIONINFO*)&oi);\n+  get_version_ex(&oi);\n@@ -3924,6 +3933,3 @@\n-    {\n-      int os_vers = oi.dwMajorVersion * 1000 + oi.dwMinorVersion;\n-      if (oi.wProductType == VER_NT_DOMAIN_CONTROLLER ||\n-          oi.wProductType == VER_NT_SERVER) {\n-        _is_windows_server = true;\n-      }\n+    if (oi.wProductType == VER_NT_DOMAIN_CONTROLLER ||\n+        oi.wProductType == VER_NT_SERVER) {\n+      _is_windows_server = true;\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"}]}