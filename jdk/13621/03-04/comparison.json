{"files":[{"patch":"@@ -47,1 +47,1 @@\n-    public int count = 0;\n+    public volatile int count = 0;\n","filename":"test\/jdk\/java\/awt\/ScrollPane\/ComponentScrollTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,0 +48,2 @@\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n@@ -53,1 +55,2 @@\n-    private Object lock = new Object();\n+    private final Object lock = new Object();\n+    static CountDownLatch go = new CountDownLatch(1);\n@@ -81,7 +84,6 @@\n-                        if (e.getID() == MouseEvent.MOUSE_PRESSED) {\n-                            if (e.getSource() == ScrollPaneLimitation.child\n-                                    && e.getY() > SCROLL_POS) {\n-                                mouseWasPressed = true;\n-                                synchronized (lock) {\n-                                    lock.notify();\n-                                }\n+                        if (e.getID() == MouseEvent.MOUSE_PRESSED &&\n+                                e.getSource() == ScrollPaneLimitation.child\n+                                && e.getY() > SCROLL_POS) {\n+                            mouseWasPressed = true;\n+                            synchronized (lock) {\n+                                lock.notify();\n@@ -139,7 +141,1 @@\n-            synchronized (lock) {\n-                try {\n-                    lock.wait(3000);\n-                } catch (InterruptedException e) {\n-                    throw new RuntimeException(\"test was interrupted\");\n-                }\n-            }\n+            go.await(3, TimeUnit.SECONDS);\n","filename":"test\/jdk\/java\/awt\/ScrollPane\/ScrollPaneLimitation.java","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -90,0 +90,3 @@\n+            robot.delay(1000);\n+            robot.waitForIdle();\n+            \n@@ -127,13 +130,0 @@\n-        public void doWait() throws InterruptedException {\n-            synchronized (lock) {\n-                if (state) {\n-                    return;\n-                }\n-                waiting++;\n-                synchronized (this) {\n-                    wait();\n-                }\n-                waiting--;\n-            }\n-        }\n-\n","filename":"test\/jdk\/java\/awt\/ScrollPane\/ScrollPaneRemoveAdd.java","additions":3,"deletions":13,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -72,0 +72,2 @@\n+            vScroll = (ScrollPaneAdjustable) sp.getVAdjustable();\n+            hScroll = (ScrollPaneAdjustable) sp.getHAdjustable();\n@@ -74,2 +76,1 @@\n-        vScroll = (ScrollPaneAdjustable) sp.getVAdjustable();\n-        hScroll = (ScrollPaneAdjustable) sp.getHAdjustable();\n+\n@@ -106,1 +107,1 @@\n-        } finally{\n+        } finally {\n","filename":"test\/jdk\/java\/awt\/ScrollPane\/ScrollPaneWindowsTest.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -84,2 +84,1 @@\n-                int i;\n-                i = (int) (sp.getScrollPosition().getX());\n+                int i = (int) (sp.getScrollPosition().getX());\n","filename":"test\/jdk\/java\/awt\/ScrollPane\/ScrollPositionIntact.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"}]}