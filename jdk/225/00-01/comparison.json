{"files":[{"patch":"@@ -2596,4 +2596,4 @@\n-\/\/ The correct thread state of a suspended thread is _thread_blocked. With that state\n-\/\/ safepoint\/handshake code will count it as safepoint\/handshake safe. Also it allows\n-\/\/ another thread to continue if it is waiting in is_ext_suspend_completed() for this\n-\/\/ thread to change state from _thread_in_native_trans to the target state.\n+\/\/ We have to set the thread state directly to _thread_blocked so that it will\n+\/\/ be seen to be safepoint\/handshake safe whilst suspended. This is also\n+\/\/ necessary to allow a thread in is_ext_suspend_completed, that observed the\n+\/\/ _thread_in_native_trans state, to proceed.\n","filename":"src\/hotspot\/share\/runtime\/thread.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}