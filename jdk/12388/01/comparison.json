{"files":[{"patch":"@@ -41,0 +41,3 @@\n+  if (jt->is_attaching_via_jni()) {\n+    return false;\n+  }\n","filename":"src\/hotspot\/share\/jfr\/utilities\/jfrThreadIterator.cpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3468,0 +3468,2 @@\n+  \/\/ We hoist the read for the thread id to ensure the thread is assigned an id (lazy assignment).\n+  const traceid thread_id = JFR_JVM_THREAD_ID(jt);\n@@ -3470,1 +3472,1 @@\n-    event.set_thread(JFR_JVM_THREAD_ID(jt));\n+    event.set_thread(thread_id);\n@@ -3839,0 +3841,3 @@\n+  \/\/ Please keep this inside the _attaching_via_jni section.\n+  post_thread_start_event(thread);\n+\n@@ -3853,2 +3858,0 @@\n-  post_thread_start_event(thread);\n-\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"}]}