{"files":[{"patch":"@@ -53,1 +53,1 @@\n-  inline void do_chunked_array_start(ShenandoahObjToScanQueue* q, T* cl, oop array);\n+  inline void do_chunked_array_start(ShenandoahObjToScanQueue* q, T* cl, oop array, bool strong);\n@@ -56,1 +56,1 @@\n-  inline void do_chunked_array(ShenandoahObjToScanQueue* q, T* cl, oop array, int chunk, int pow);\n+  inline void do_chunked_array(ShenandoahObjToScanQueue* q, T* cl, oop array, int chunk, int pow, bool strong);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentMark.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -48,1 +48,2 @@\n-  cl->set_strong(task->is_strong());\n+  bool strong = task->is_strong();\n+  cl->set_strong(strong);\n@@ -56,1 +57,1 @@\n-      do_chunked_array_start<T>(q, cl, obj);\n+      do_chunked_array_start<T>(q, cl, obj, strong);\n@@ -72,1 +73,1 @@\n-    do_chunked_array<T>(q, cl, obj, task->chunk(), task->pow());\n+    do_chunked_array<T>(q, cl, obj, task->chunk(), task->pow(), strong);\n@@ -106,1 +107,1 @@\n-inline void ShenandoahConcurrentMark::do_chunked_array_start(ShenandoahObjToScanQueue* q, T* cl, oop obj) {\n+inline void ShenandoahConcurrentMark::do_chunked_array_start(ShenandoahObjToScanQueue* q, T* cl, oop obj, bool strong) {\n@@ -137,1 +138,1 @@\n-      bool pushed = q->push(ShenandoahMarkTask(array, false, false, 1, pow));\n+      bool pushed = q->push(ShenandoahMarkTask(array, false, strong, 1, pow));\n@@ -150,1 +151,1 @@\n-        bool pushed = q->push(ShenandoahMarkTask(array, false, false, left_chunk, pow));\n+        bool pushed = q->push(ShenandoahMarkTask(array, false, strong, left_chunk, pow));\n@@ -168,1 +169,1 @@\n-inline void ShenandoahConcurrentMark::do_chunked_array(ShenandoahObjToScanQueue* q, T* cl, oop obj, int chunk, int pow) {\n+inline void ShenandoahConcurrentMark::do_chunked_array(ShenandoahObjToScanQueue* q, T* cl, oop obj, int chunk, int pow, bool strong) {\n@@ -179,1 +180,1 @@\n-    bool pushed = q->push(ShenandoahMarkTask(array, false, false, chunk - 1, pow));\n+    bool pushed = q->push(ShenandoahMarkTask(array, false, strong, chunk - 1, pow));\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentMark.inline.hpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}