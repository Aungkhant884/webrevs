{"files":[{"patch":"@@ -173,0 +173,1 @@\n+  assert(buflen >= 1, \"invalid argument\");\n@@ -176,3 +177,2 @@\n-    struct stat statbuf;\n-    fstat(fd, &statbuf);\n-    ssize_t read_sz = read(fd, buf, statbuf.st_size);\n+    ssize_t read_sz = read(fd, buf, buflen);\n+    buf[buflen - 1] = '\\0';\n@@ -181,3 +181,4 @@\n-      char *tok = buf;\n-      while ((tok = (char*)memchr(tok, 0, statbuf.st_size - (tok - buf) - 1)) != NULL) {\n-        *tok = ' ';\n+      for (char *ch = buf; ch < buf + read_sz; ch++) {\n+        if (*ch == '\\0') {\n+          *ch = ' ';\n+        }\n","filename":"src\/hotspot\/os_cpu\/linux_aarch64\/vm_version_linux_aarch64.cpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -103,0 +103,1 @@\n+  assert(buflen >= 1, \"invalid argument\");\n","filename":"src\/hotspot\/os_cpu\/windows_aarch64\/vm_version_windows_aarch64.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}