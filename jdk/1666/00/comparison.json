{"files":[{"patch":"@@ -743,1 +743,0 @@\n-javax\/swing\/JComboBox\/6559152\/bug6559152.java 8196090 windows-all,macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -71,0 +71,1 @@\n+        setLocationRelativeTo(null);\n@@ -86,1 +87,1 @@\n-                robot.setAutoDelay(20);\n+                robot.setAutoDelay(100);\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/4199622\/bug4199622.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -62,0 +62,1 @@\n+        setLocationRelativeTo(null);\n@@ -111,1 +112,0 @@\n-            robot.waitForIdle();\n@@ -115,1 +115,0 @@\n-            robot.waitForIdle();\n@@ -117,3 +116,0 @@\n-            robot.waitForIdle();\n-            robot.keyRelease(KeyEvent.VK_SHIFT);\n-            robot.waitForIdle();\n@@ -121,0 +117,1 @@\n+            robot.keyRelease(KeyEvent.VK_SHIFT);\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/4515752\/DefaultButtonTest.java","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -66,0 +66,1 @@\n+        setLocationRelativeTo(null);\n@@ -81,1 +82,1 @@\n-        robot.setAutoDelay(20);\n+        robot.setAutoDelay(100);\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/4743225\/bug4743225.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -30,3 +30,0 @@\n- * @author Mikhail Lapshin\n- * @library \/lib\/client\n- * @build ExtendedRobot\n@@ -36,1 +33,5 @@\n-import javax.swing.*;\n+import javax.swing.DefaultCellEditor;\n+import javax.swing.JComponent;\n+import javax.swing.JFrame;\n+import javax.swing.JComboBox;\n+import javax.swing.SwingUtilities;\n@@ -38,1 +39,2 @@\n-import java.awt.*;\n+import javax.swing.JTable;\n+import java.awt.Point;\n@@ -40,0 +42,2 @@\n+import java.awt.event.InputEvent;\n+import java.awt.Robot;\n@@ -42,3 +46,4 @@\n-    private JFrame frame;\n-    private JComboBox cb;\n-    private ExtendedRobot robot;\n+    private static JFrame frame;\n+    private static JComboBox cb;\n+    private static Robot robot;\n+    private static Point p = null;\n@@ -47,1 +52,2 @@\n-        final bug6559152 test = new bug6559152();\n+        robot = new Robot();\n+        robot.setAutoDelay(100);\n@@ -49,6 +55,5 @@\n-            SwingUtilities.invokeAndWait(new Runnable() {\n-                public void run() {\n-                    test.setupUI();\n-                }\n-            });\n-            test.test();\n+            SwingUtilities.invokeAndWait(() -> setupUI());\n+            blockTillDisplayed(cb);\n+            robot.waitForIdle();\n+            robot.delay(1000);\n+            test();\n@@ -56,2 +61,2 @@\n-            if (test.frame != null) {\n-                test.frame.dispose();\n+            if (frame != null) {\n+                SwingUtilities.invokeAndWait(() -> frame.dispose());\n@@ -62,1 +67,16 @@\n-    private void setupUI() {\n+    static void blockTillDisplayed(JComponent comp) throws Exception {\n+        while (p == null) {\n+            try {\n+                SwingUtilities.invokeAndWait(() -> {\n+                    p = comp.getLocationOnScreen();\n+                });\n+            } catch (IllegalStateException e) {\n+                try {\n+                    Thread.sleep(1000);\n+                } catch (InterruptedException ie) {\n+                }\n+            }\n+        }\n+    }\n+\n+    private static void setupUI() {\n@@ -75,1 +95,0 @@\n-        frame.setLocationRelativeTo(null);\n@@ -77,0 +96,1 @@\n+        frame.setLocationRelativeTo(null);\n@@ -79,3 +99,4 @@\n-    private void test() throws Exception {\n-        robot = new ExtendedRobot();\n-        robot.waitForIdle();\n+    private static void test() throws Exception {\n+        robot.mouseMove(p.x, p.y);\n+        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n@@ -87,2 +108,3 @@\n-    private void testImpl() throws Exception {\n-        robot.type(KeyEvent.VK_DOWN);\n+    private static void testImpl() throws Exception {\n+        robot.keyPress(KeyEvent.VK_DOWN);\n+        robot.keyRelease(KeyEvent.VK_DOWN);\n@@ -90,1 +112,2 @@\n-        robot.type(KeyEvent.VK_DOWN);\n+        robot.keyPress(KeyEvent.VK_DOWN);\n+        robot.keyRelease(KeyEvent.VK_DOWN);\n@@ -92,1 +115,2 @@\n-        robot.type(KeyEvent.VK_ENTER);\n+        robot.keyPress(KeyEvent.VK_ENTER);\n+        robot.keyRelease(KeyEvent.VK_ENTER);\n@@ -95,1 +119,1 @@\n-    private void checkResult() {\n+    private static void checkResult() {\n","filename":"test\/jdk\/javax\/swing\/JComboBox\/6559152\/bug6559152.java","additions":51,"deletions":27,"binary":false,"changes":78,"status":"modified"}]}