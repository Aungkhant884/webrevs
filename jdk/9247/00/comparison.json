{"files":[{"patch":"@@ -27,1 +27,0 @@\n- * @modules java.management\n@@ -33,0 +32,1 @@\n+import jdk.test.lib.process.ProcessTools;\n@@ -219,0 +219,26 @@\n+\n+        {\n+            try {\n+                \/\/ Verify the exception message\n+                OutputAnalyzer out = ProcessTools.executeProcess(\"true\");\n+                out.shouldHaveExitValue(1);\n+                throw new RuntimeException(\"'shouldHaveExitValue' should have thrown an exception\");\n+            } catch (Throwable ex) {\n+                if (!ex.getMessage().equals(\"Expected to get exit value of [1], exit value is: [0]\")) {\n+                    throw new RuntimeException(\"Unexpected message: \" + ex.getMessage());\n+                }\n+            }\n+        }\n+\n+        {\n+            try {\n+                \/\/ Verify the exception message\n+                OutputAnalyzer out = ProcessTools.executeProcess(\"true\");\n+                out.shouldNotHaveExitValue(0);\n+                throw new RuntimeException(\"'shouldNotHaveExitValue' should have thrown an exception\");\n+            } catch (Throwable ex) {\n+                if (!ex.getMessage().equals(\"Unexpected to get exit value of [0], exit value is: [0]\")) {\n+                    throw new RuntimeException(\"Unexpected message: \" + ex.getMessage());\n+                }\n+            }\n+        }\n","filename":"test\/lib-test\/jdk\/test\/lib\/process\/OutputAnalyzerTest.java","additions":27,"deletions":1,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -221,1 +221,1 @@\n-            throw new RuntimeException(\"'\" + expectedString + \"' missing from stdout\/stderr \\n\");\n+            throw new RuntimeException(\"'\" + expectedString + \"' missing from stdout\/stderr\");\n@@ -236,1 +236,1 @@\n-            throw new RuntimeException(\"'\" + expectedString + \"' missing from stdout \\n\");\n+            throw new RuntimeException(\"'\" + expectedString + \"' missing from stdout\");\n@@ -251,1 +251,1 @@\n-            throw new RuntimeException(\"'\" + expectedString + \"' missing from stderr \\n\");\n+            throw new RuntimeException(\"'\" + expectedString + \"' missing from stderr\");\n@@ -267,1 +267,1 @@\n-            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stdout \\n\");\n+            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stdout\");\n@@ -271,1 +271,1 @@\n-            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stderr \\n\");\n+            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stderr\");\n@@ -305,1 +305,1 @@\n-            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stdout \\n\");\n+            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stdout\");\n@@ -320,1 +320,1 @@\n-            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stderr \\n\");\n+            throw new RuntimeException(\"'\" + notExpectedString + \"' found in stderr\");\n@@ -341,1 +341,1 @@\n-                  + \"' missing from stdout\/stderr \\n\");\n+                  + \"' missing from stdout\/stderr\");\n@@ -359,1 +359,1 @@\n-                  + \"' missing from stdout \\n\");\n+                  + \"' missing from stdout\");\n@@ -377,1 +377,1 @@\n-                  + \"' missing from stderr \\n\");\n+                  + \"' missing from stderr\");\n@@ -396,1 +396,1 @@\n-                    + \"' found in stdout: '\" + matcher.group() + \"' \\n\");\n+                    + \"' found in stdout: '\" + matcher.group() + \"'\");\n@@ -404,1 +404,1 @@\n-                    + \"' found in stderr: '\" + matcher.group() + \"' \\n\");\n+                    + \"' found in stderr: '\" + matcher.group() + \"'\");\n@@ -423,1 +423,1 @@\n-                    + \"' found in stdout \\n\");\n+                    + \"' found in stdout\");\n@@ -441,1 +441,1 @@\n-                    + \"' found in stderr \\n\");\n+                    + \"' found in stderr\");\n@@ -490,1 +490,1 @@\n-                    + expectedExitValue + \"]\\n\");\n+                    + expectedExitValue + \"], exit value is: [\" + getExitValue() + \"]\");\n@@ -505,1 +505,1 @@\n-                    + notExpectedExitValue + \"]\\n\");\n+                    + notExpectedExitValue + \"], exit value is: [\" + getExitValue() + \"]\");\n@@ -640,1 +640,1 @@\n-                  + \"' missing from stderr \\n\");\n+                  + \"' missing from stderr\");\n","filename":"test\/lib\/jdk\/test\/lib\/process\/OutputAnalyzer.java","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"}]}