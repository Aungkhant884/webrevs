{"files":[{"patch":"@@ -796,0 +796,1 @@\n+      log_info(metaspace)(\"Reserving compressed class space anywhere\");\n","filename":"src\/hotspot\/share\/memory\/metaspace.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,1 +104,0 @@\n-runtime\/CompressedOops\/CompressedClassPointers.java 8305765 generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,2 @@\n-    static final String logging_option = \"-Xlog:gc+metaspace=trace,cds=trace\";\n+    static final String logging_option = \"-Xlog:gc+metaspace=trace,metaspace=info,cds=trace\";\n+    static final String reserveCCSAnywhere = \"Reserving compressed class space anywhere\";\n@@ -59,0 +60,9 @@\n+    \/\/ Returns true if the output indicates that the ccs is reserved anywhere.\n+    static boolean isCCSReservedAnywhere(OutputAnalyzer output) {\n+        if (output.getOutput().contains(reserveCCSAnywhere)) {\n+            return true;\n+        } else {\n+            return false;\n+        }\n+    }\n+\n@@ -70,1 +80,1 @@\n-        if (testNarrowKlassBase()) {\n+        if (testNarrowKlassBase() && !isCCSReservedAnywhere(output)) {\n@@ -87,1 +97,1 @@\n-        if (testNarrowKlassBase()) {\n+        if (testNarrowKlassBase() && !isCCSReservedAnywhere(output)) {\n@@ -105,1 +115,1 @@\n-        if (testNarrowKlassBase() && !Platform.isPPC() && !Platform.isOSX()) {\n+        if (testNarrowKlassBase() && !Platform.isPPC() && !Platform.isOSX() && !isCCSReservedAnywhere(output)) {\n@@ -131,1 +141,1 @@\n-            if (!(Platform.isAArch64() && Platform.isOSX())) { \/\/ see JDK-8262895\n+            if (!(Platform.isAArch64() && Platform.isOSX())  && !isCCSReservedAnywhere(output)) { \/\/ see JDK-8262895\n@@ -214,1 +224,3 @@\n-        output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        if (!isCCSReservedAnywhere(output)) {\n+            output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        }\n@@ -230,1 +242,3 @@\n-        output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        if (!isCCSReservedAnywhere(output)) {\n+            output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        }\n@@ -250,1 +264,3 @@\n-        output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        if (!isCCSReservedAnywhere(output)) {\n+            output.shouldContain(\"Narrow klass base: 0x0000000000000000\");\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/CompressedOops\/CompressedClassPointers.java","additions":25,"deletions":9,"binary":false,"changes":34,"status":"modified"}]}