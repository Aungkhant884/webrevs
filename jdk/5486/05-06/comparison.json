{"files":[{"patch":"@@ -805,3 +805,3 @@\n-                    FileTime lastModified = f.lastModified() == 0 ? null : FileTime.fromMillis(f.lastModified());\n-                    byte[] fileContent = Files.readAllBytes(f.toPath());\n-                    ModuleInfoEntry mie = new StreamedModuleInfoEntry(name, fileContent, lastModified);\n+                    Path path = f.toPath();\n+                    byte[] fileContent = Files.readAllBytes(path);\n+                    ModuleInfoEntry mie = new StreamedModuleInfoEntry(name, fileContent, Files.getLastModifiedTime(path));\n@@ -951,2 +951,1 @@\n-                FileTime lastModified = e.getTime() == -1 ? null : FileTime.fromMillis(e.getTime());\n-                moduleInfos.putIfAbsent(name, new StreamedModuleInfoEntry(name, zis.readAllBytes(), lastModified));\n+                moduleInfos.putIfAbsent(name, new StreamedModuleInfoEntry(name, zis.readAllBytes(), e.getLastModifiedTime()));\n@@ -1042,1 +1041,2 @@\n-            byte[] bytes = mi.getValue().readAllBytes();\n+            ModuleInfoEntry mie = mi.getValue();\n+            byte[] bytes = mie.readAllBytes();\n@@ -1044,2 +1044,2 @@\n-            FileTime lastModified = mi.getValue().getLastModifiedTime();\n-            e.setTime(lastModified == null ? System.currentTimeMillis() : lastModified.toMillis());\n+            FileTime lastModified = mie.getLastModifiedTime();\n+            e.setLastModifiedTime(lastModified != null ? lastModified : FileTime.fromMillis(System.currentTimeMillis()));\n@@ -1773,1 +1773,1 @@\n-            return entry.getTime() == -1 ? null : FileTime.fromMillis(entry.getTime());\n+            return entry.getLastModifiedTime();\n@@ -1860,2 +1860,1 @@\n-                    FileTime lastModified = e.getTime() == -1 ? null : FileTime.fromMillis(e.getTime());\n-                    infos.add(new StreamedModuleInfoEntry(ename, zis.readAllBytes(), lastModified));\n+                    infos.add(new StreamedModuleInfoEntry(ename, zis.readAllBytes(), e.getLastModifiedTime()));\n","filename":"src\/jdk.jartool\/share\/classes\/sun\/tools\/jar\/Main.java","additions":10,"deletions":11,"binary":false,"changes":21,"status":"modified"}]}