{"files":[{"patch":"@@ -1150,1 +1150,1 @@\n-provided by your OS. On Debian\/Ubuntu systems, one could use `qemu-deboostrap` to\n+provided by your OS. On Debian\/Ubuntu systems, one could use `debootstrap` to\n@@ -1165,1 +1165,1 @@\n-    sudo qemu-debootstrap \\\n+    sudo debootstrap \\\n@@ -1173,0 +1173,3 @@\n+    # An alternative mirror is `https:\/\/deb.debian.org\/debian\/`.\n+    # If the target architecture is `riscv64`,\n+    # the path should be `debian-ports` instead of `debian`.\n@@ -1220,0 +1223,1 @@\n+  riscv64       sid          riscv64       riscv64-linux-gnu        (all)\n@@ -1229,0 +1233,38 @@\n+### Building for RISC-V\n+\n+The RISC-V community provides a basic\n+[GNU compiler toolchain](https:\/\/github.com\/riscv-collab\/riscv-gnu-toolchain).\n+But the [external libraries](#External-Library-Requirements) required by OpenJDK\n+complicate the building process. The placeholder `<toolchain-installed-path>`\n+shown below is the path where you want to install the toolchain.\n+\n+  * Install the RISC-V GNU compiler toolchain:\n+    ```\n+    git clone --recursive https:\/\/github.com\/riscv-collab\/riscv-gnu-toolchain\n+    cd riscv-gnu-toolchain\n+    .\/configure --prefix=<toolchain-installed-path>\n+    make linux\n+    export PATH=<toolchain-installed-path>\/bin:$PATH\n+    ```\n+\n+  * Cross-compile all the required libraries:\n+    ```\n+    # An example for libffi\n+    git clone https:\/\/github.com\/libffi\/libffi\n+    cd libffi\n+    .\/configure --host=riscv64-unknown-linux-gnu --prefix=<toolchain-installed-path>\/sysroot\/usr\n+    make\n+    make install\n+    ```\n+\n+  * Configure and build OpenJDK:\n+    ```\n+    bash configure \\\n+      --with-boot-jdk=$BOOT_JDK \\\n+      --openjdk-target=riscv64-linux-gnu \\\n+      --with-sysroot=<toolchain-installed-path>\/sysroot \\\n+      --with-toolchain-path=<toolchain-installed-path>\/bin \\\n+      --with-extra-path=<toolchain-installed-path>\/bin\n+    make images\n+    ```\n+\n","filename":"doc\/building.md","additions":44,"deletions":2,"binary":false,"changes":46,"status":"modified"}]}