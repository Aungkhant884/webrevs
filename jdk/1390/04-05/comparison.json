{"files":[{"patch":"@@ -3220,1 +3220,1 @@\n-    os::print_memory_mappings((char*)base, size, tty);\n+    os::print_memory_mappings(base, size, tty);\n@@ -6001,1 +6001,1 @@\n-    v[i] = SafeFetch32((int*)p + i, errval);\n+    v[i] = SafeFetchN((intptr_t*)p + i, errval);\n@@ -6003,1 +6003,1 @@\n-        SafeFetch32((int*)p + i, ~errval) == ~errval) {\n+        SafeFetchN((intptr_t*)p + i, ~errval) == ~errval) {\n@@ -6073,2 +6073,1 @@\n-      int dummy;\n-      if (os::dll_address_to_library_name(allocation_base, buf, sizeof(buf), &dummy)) {\n+      if (os::dll_address_to_library_name(allocation_base, buf, sizeof(buf), NULL)) {\n@@ -6108,1 +6107,1 @@\n-  if (p == NULL) { \/\/ Lets skip the zero pages.\n+  if (p == nullptr) { \/\/ Lets skip the zero pages.\n@@ -6141,2 +6140,2 @@\n-      static const address end_phys = (address)(LP64_ONLY(0x7ffffffffffULL) NOT_LP64(3*G));\n-      if (p >= end_phys) {\n+      static const address end_virt = (address)(LP64_ONLY(0x7ffffffffffULL) NOT_LP64(3*G));\n+      if (p >= end_virt) {\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1742,1 +1742,1 @@\n-  os::print_memory_mappings(NULL, (size_t)-1, st);\n+  os::print_memory_mappings(nullptr, (size_t)-1, st);\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -504,1 +504,1 @@\n-  if (start != NULL) {\n+  if (start != nullptr) {\n@@ -523,1 +523,12 @@\n-  test_show_mappings(NULL, 0);\n+  \/\/ Reserve a small range and fill it with a marker string, should show up\n+  \/\/ on implementations displaying range snippets\n+  char* p = os::reserve_memory(1 * M, mtInternal);\n+  if (p != nullptr) {\n+    if (os::commit_memory(p, 1 * M, false)) {\n+      strcpy(p, \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\");\n+    }\n+  }\n+  test_show_mappings(nullptr, 0);\n+  if (p != nullptr) {\n+    os::release_memory(p, 1 * M);\n+  }\n","filename":"test\/hotspot\/gtest\/runtime\/test_os.cpp","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"}]}