{"files":[{"patch":"@@ -115,1 +115,0 @@\n-\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableSpace.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -641,2 +641,2 @@\n-  WorkGang* workers = Thread::current()->is_VM_thread() ?\n-                      &ParallelScavengeHeap::heap()->workers() : NULL;\n+  WorkGang* workers = &ParallelScavengeHeap::heap()->workers();\n+\n@@ -797,3 +797,0 @@\n-    WorkGang* workers = Thread::current()->is_VM_thread() ?\n-                        &ParallelScavengeHeap::heap()->workers() : NULL;\n-\n@@ -804,1 +801,1 @@\n-                                workers);\n+                                &ParallelScavengeHeap::heap()->workers());\n","filename":"src\/hotspot\/share\/gc\/parallel\/psYoungGen.cpp","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#include \"precompiled.hpp\"\n@@ -27,0 +28,2 @@\n+#include \"runtime\/globals.hpp\"\n+#include \"runtime\/os.hpp\"\n@@ -28,1 +31,16 @@\n-void PretouchTask::work(uint worker_id) {\n+PretouchTask::PretouchTask(const char* task_name, char* start_address, char* end_address, size_t page_size) :\n+    AbstractGangTask(task_name),\n+    _cur_addr(start_address),\n+    _start_addr(start_address),\n+    _end_addr(end_address),\n+    _page_size(0) {\n+#ifdef LINUX\n+  _page_size = UseTransparentHugePages ? (size_t)os::vm_page_size(): page_size;\n+#else\n+  _page_size = page_size;\n+#endif\n+}\n+\n+size_t PretouchTask::chunk_size() {\n+  return PreTouchParallelChunkSize;\n+}\n@@ -30,0 +48,1 @@\n+void PretouchTask::work(uint worker_id) {\n@@ -44,1 +63,0 @@\n-\n@@ -47,1 +65,0 @@\n-\n","filename":"src\/hotspot\/share\/gc\/shared\/preTouchTask.cpp","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -29,2 +29,0 @@\n-#include \"runtime\/globals.hpp\"\n-#include \"runtime\/os.hpp\"\n@@ -33,2 +31,0 @@\n-\n-private:\n@@ -41,12 +37,1 @@\n-  PretouchTask(const char* task_name, char* start_address, char* end_address, size_t page_size) :\n-    AbstractGangTask(task_name),\n-    _cur_addr(start_address),\n-    _start_addr(start_address),\n-    _end_addr(end_address),\n-    _page_size(0) {\n-#ifdef LINUX\n-    _page_size = UseTransparentHugePages ? (size_t)os::vm_page_size(): page_size;\n-#else\n-    _page_size = page_size;\n-#endif\n-  }\n+  PretouchTask(const char* task_name, char* start_address, char* end_address, size_t page_size);\n@@ -56,1 +41,1 @@\n-  static size_t chunk_size()              { return PreTouchParallelChunkSize; }\n+  static size_t chunk_size();\n@@ -58,2 +43,2 @@\n-  static void pretouch(const char* task_name, char* start_address, char* end_address, size_t page_size,\n-                       WorkGang* pretouch_gang);\n+  static void pretouch(const char* task_name, char* start_address, char* end_address,\n+                       size_t page_size, WorkGang* pretouch_gang);\n","filename":"src\/hotspot\/share\/gc\/shared\/preTouchTask.hpp","additions":4,"deletions":19,"binary":false,"changes":23,"status":"modified"}]}