{"files":[{"patch":"@@ -473,5 +473,3 @@\n-                try {\n-                    if (parent == null) {\n-                        return null;\n-                    }\n-                    final Point p = parent.getLocationOnScreen();\n+                if (parent == null) {\n+                    return null;\n+                }\n@@ -479,2 +477,6 @@\n-                    \/\/ Make it into local coords\n-                    final Point localPoint = new Point((int) (hitPointX - p.getX()), (int) (hitPointY - p.getY()));\n+                final Point p;\n+                try {\n+                    p = parent.getLocationOnScreen();\n+                } catch (IllegalComponentStateException ice) {\n+                    return null;\n+                }\n@@ -482,2 +484,2 @@\n-                    final Component component = parent.findComponentAt(localPoint);\n-                    if (component == null) return null;\n+                \/\/ Make it into local coords\n+                final Point localPoint = new Point((int)(hitPointX - p.getX()), (int)(hitPointY - p.getY()));\n@@ -485,2 +487,2 @@\n-                    final AccessibleContext axContext = component.getAccessibleContext();\n-                    if (axContext == null) return null;\n+                final Component component = parent.findComponentAt(localPoint);\n+                if (component == null) return null;\n@@ -488,2 +490,2 @@\n-                    final AccessibleComponent axComponent = axContext.getAccessibleComponent();\n-                    if (axComponent == null) return null;\n+                final AccessibleContext axContext = component.getAccessibleContext();\n+                if (axContext == null) return null;\n@@ -491,7 +493,2 @@\n-                    final int numChildren = axContext.getAccessibleChildrenCount();\n-                    if (numChildren > 0) {\n-                        \/\/ It has children, check to see which one is hit.\n-                        final Point p2 = axComponent.getLocationOnScreen();\n-                        final Point localP2 = new Point((int) (hitPointX - p2.getX()), (int) (hitPointY - p2.getY()));\n-                        return CAccessible.getCAccessible(axComponent.getAccessibleAt(localP2));\n-                    }\n+                final AccessibleComponent axComponent = axContext.getAccessibleComponent();\n+                if (axComponent == null) return null;\n@@ -499,4 +496,6 @@\n-                    if (!(component instanceof Accessible)) return null;\n-                    return CAccessible.getCAccessible((Accessible) component);\n-                } catch (IllegalComponentStateException ice) {\n-                    return null;\n+                final int numChildren = axContext.getAccessibleChildrenCount();\n+                if (numChildren > 0) {\n+                    \/\/ It has children, check to see which one is hit.\n+                    final Point p2 = axComponent.getLocationOnScreen();\n+                    final Point localP2 = new Point((int)(hitPointX - p2.getX()), (int)(hitPointY - p2.getY()));\n+                    return CAccessible.getCAccessible(axComponent.getAccessibleAt(localP2));\n@@ -504,0 +503,3 @@\n+\n+                if (!(component instanceof Accessible)) return null;\n+                return CAccessible.getCAccessible((Accessible)component);\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CAccessibility.java","additions":26,"deletions":24,"binary":false,"changes":50,"status":"modified"}]}