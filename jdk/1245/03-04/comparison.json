{"files":[{"patch":"@@ -4150,1 +4150,2 @@\n-    static const __vector unsigned char expand_permute_val = {\n+    static const unsigned char VEC_ALIGN constant_block[160] = {\n+      \/\/ expand_permute_val, offset = 0\n@@ -4155,1 +4156,1 @@\n-      0, 13, 14, 15 ) };\n+      0, 13, 14, 15 ),\n@@ -4157,1 +4158,1 @@\n-    static const __vector unsigned char expand_rshift_val = {\n+      \/\/ expand_rshift_val, offset = 16\n@@ -4162,1 +4163,1 @@\n-      0, 6, 4, 2 ) };\n+      0, 6, 4, 2 ),\n@@ -4164,1 +4165,1 @@\n-    static const __vector unsigned char expand_rshift_mask_val = {\n+      \/\/ expand_rshift_mask_val, offset = 32\n@@ -4169,1 +4170,1 @@\n-      0b00000000, 0b00000011, 0b00001111, 0b00111111 ) };\n+      0b00000000, 0b00000011, 0b00001111, 0b00111111 ),\n@@ -4171,1 +4172,1 @@\n-    static const __vector unsigned char expand_lshift_val = {\n+      \/\/ expand_lshift_val, offset = 48\n@@ -4176,1 +4177,1 @@\n-      0, 2, 4, 0 ) };\n+      0, 2, 4, 0 ),\n@@ -4178,1 +4179,1 @@\n-    static const __vector unsigned char expand_lshift_mask_val = {\n+      \/\/ expand_lshift_mask_val, offset = 64\n@@ -4183,1 +4184,1 @@\n-      0b00111111, 0b00111100, 0b00110000, 0b00000000 ) };\n+      0b00111111, 0b00111100, 0b00110000, 0b00000000 ),\n@@ -4185,1 +4186,1 @@\n-    static const __vector unsigned char base64_00_15 = {\n+      \/\/ base64_00_15, offset = 80\n@@ -4187,2 +4188,3 @@\n-      'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P' ) };\n-    static const __vector unsigned char base64_16_31 = {\n+      'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P' ),\n+\n+      \/\/ base64_16_31, offset = 96\n@@ -4190,2 +4192,3 @@\n-      'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f' ) };\n-    static const __vector unsigned char base64_32_47 = {\n+      'Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f' ),\n+\n+      \/\/ base64_32_47, offset = 112\n@@ -4193,2 +4196,3 @@\n-      'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v' ) };\n-    static const __vector unsigned char base64_48_63 = {\n+      'g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v' ),\n+\n+      \/\/ base64_48_63, offset = 128\n@@ -4196,2 +4200,3 @@\n-      'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','\/' ) };\n-    static const __vector unsigned char base64_48_63_URL = {\n+      'w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','\/' ),\n+\n+      \/\/ base64_48_63_URL, offset = 144\n@@ -4268,1 +4273,1 @@\n-    __ load_const_optimized(const_ptr, (address)&expand_permute_val, tmp_reg);\n+    __ load_const_optimized(const_ptr, (address)&constant_block, tmp_reg);\n@@ -4270,16 +4275,7 @@\n-    __ load_const_optimized(const_ptr, (address)&expand_rshift_val, tmp_reg);\n-    __ lxv(expand_rshift->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&expand_rshift_mask_val, tmp_reg);\n-    __ lxv(expand_rshift_mask->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&expand_lshift_val, tmp_reg);\n-    __ lxv(expand_lshift->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&expand_lshift_mask_val, tmp_reg);\n-    __ lxv(expand_lshift_mask->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&base64_00_15, tmp_reg);\n-    __ lxv(vec_base64_00_15->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&base64_16_31, tmp_reg);\n-    __ lxv(vec_base64_16_31->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&base64_32_47, tmp_reg);\n-    __ lxv(vec_base64_32_47->to_vsr(), 0, const_ptr);\n-    __ load_const_optimized(const_ptr, (address)&base64_48_63, tmp_reg);\n-    __ lxv(vec_base64_48_63->to_vsr(), 0, const_ptr);\n+    __ lxv(expand_rshift->to_vsr(), 16, const_ptr);\n+    __ lxv(expand_rshift_mask->to_vsr(), 32, const_ptr);\n+    __ lxv(expand_lshift->to_vsr(), 48, const_ptr);\n+    __ lxv(expand_lshift_mask->to_vsr(), 64, const_ptr);\n+    __ lxv(vec_base64_00_15->to_vsr(), 80, const_ptr);\n+    __ lxv(vec_base64_16_31->to_vsr(), 96, const_ptr);\n+    __ lxv(vec_base64_32_47->to_vsr(), 112, const_ptr);\n@@ -4296,2 +4292,1 @@\n-    __ load_const_optimized(const_ptr, (address)&base64_48_63_URL, tmp_reg);\n-    __ lxv(vec_base64_48_63->to_vsr(), 0, const_ptr);\n+    __ lxv(vec_base64_48_63->to_vsr(), 144, const_ptr);\n@@ -4301,2 +4296,1 @@\n-    __ load_const_optimized(const_ptr, (address)&base64_48_63, tmp_reg);\n-    __ lxv(vec_base64_48_63->to_vsr(), 0, const_ptr);\n+    __ lxv(vec_base64_48_63->to_vsr(), 128, const_ptr);\n","filename":"src\/hotspot\/cpu\/ppc\/stubGenerator_ppc.cpp","additions":34,"deletions":40,"binary":false,"changes":74,"status":"modified"}]}