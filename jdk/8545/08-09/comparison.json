{"files":[{"patch":"@@ -401,1 +401,1 @@\n-      remove_unstable_if(dead->as_CallStaticJava());\n+      remove_unstable_if_trap(dead->as_CallStaticJava());\n@@ -441,1 +441,1 @@\n-  remove_useless_unstable_ifs(useful); \/\/ remove useless unstable_if traps\n+  remove_useless_unstable_if_traps(useful);          \/\/ remove useless unstable_if traps\n@@ -794,1 +794,1 @@\n-  preprocess_unstable_ifs();\n+  preprocess_unstable_if_traps();\n@@ -1871,1 +1871,1 @@\n-void Compile::remove_useless_unstable_ifs(Unique_Node_List& useful) {\n+void Compile::remove_useless_unstable_if_traps(Unique_Node_List& useful) {\n@@ -1886,1 +1886,1 @@\n-void Compile::remove_unstable_if(CallStaticJavaNode* unc) {\n+void Compile::remove_unstable_if_trap(CallStaticJavaNode* unc) {\n@@ -1901,1 +1901,1 @@\n-void Compile::preprocess_unstable_ifs() {\n+void Compile::preprocess_unstable_if_traps() {\n@@ -1916,1 +1916,1 @@\n-void Compile::process_for_unstable_ifs(PhaseIterGVN& igvn) {\n+void Compile::process_for_unstable_if_traps(PhaseIterGVN& igvn) {\n@@ -1946,1 +1946,1 @@\n-        Node *local = unc->local(jvms, i);\n+        Node* local = unc->local(jvms, i);\n@@ -1948,1 +1948,1 @@\n-        \/\/ yield when local looks like an operand to secure reexecution.\n+        \/\/ give up when the local looks like an operand to secure reexecution.\n@@ -2250,1 +2250,1 @@\n-  process_for_unstable_ifs(igvn);\n+  process_for_unstable_if_traps(igvn);\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -737,2 +737,6 @@\n-  void process_for_unstable_ifs(PhaseIterGVN& igvn);\n-  void preprocess_unstable_ifs();\n+\n+  void remove_unstable_if_trap(CallStaticJavaNode* trap);\n+  void remove_useless_unstable_if_traps(Unique_Node_List &useful);\n+  void preprocess_unstable_if_traps();\n+  void process_for_unstable_if_traps(PhaseIterGVN& igvn);\n+\n@@ -808,1 +812,0 @@\n-  void         remove_unstable_if(CallStaticJavaNode* trap);\n@@ -981,1 +984,0 @@\n-  void remove_useless_unstable_ifs(Unique_Node_List &useful);\n","filename":"src\/hotspot\/share\/opto\/compile.hpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -844,1 +844,1 @@\n-        igvn->C->remove_unstable_if(dom_unc);\n+        igvn->C->remove_unstable_if_trap(dom_unc);\n","filename":"src\/hotspot\/share\/opto\/ifnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1593,1 +1593,4 @@\n-    C->record_unstable_if(new UnstableIfTrap(call->as_CallStaticJava(), path));\n+\n+    if (call != nullptr) {\n+      C->record_unstable_if(new UnstableIfTrap(call->as_CallStaticJava(), path));\n+    }\n","filename":"src\/hotspot\/share\/opto\/parse2.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}