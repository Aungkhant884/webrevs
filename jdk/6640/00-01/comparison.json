{"files":[{"patch":"@@ -1031,1 +1031,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n","filename":"src\/hotspot\/os\/posix\/perfMemory_posix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1837,1 +1837,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n","filename":"src\/hotspot\/os\/windows\/perfMemory_windows.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -285,1 +285,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n","filename":"src\/hotspot\/share\/gc\/z\/zPhysicalMemory.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1789,1 +1789,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n@@ -1803,1 +1803,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n@@ -1872,1 +1872,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n@@ -1908,1 +1908,1 @@\n-  if (MemTracker::tracking_level() >= NMT_summary) {\n+  if (MemTracker::enabled()) {\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -116,1 +116,1 @@\n-  assert(MemTracker::tracking_level() >= NMT_summary, \"Sanity\");\n+  assert(MemTracker::enabled(), \"Sanity\");\n","filename":"src\/hotspot\/share\/services\/mallocTracker.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-  if (tracking_level() >= NMT_summary) {\n+  if (enabled()) {\n@@ -129,3 +129,2 @@\n-    NMT_TrackingLevel level = tracking_level();\n-    if (level >= NMT_summary) {\n-      report(level == NMT_summary, output, 1);\n+    if (enabled()) {\n+      report(tracking_level() == NMT_summary, output, 1);\n","filename":"src\/hotspot\/share\/services\/memTracker.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -52,0 +52,1 @@\n+  static inline bool enabled() { return false; }\n@@ -139,0 +140,4 @@\n+  static inline bool enabled() {\n+    return _tracking_level >= NMT_summary;\n+  }\n+\n@@ -173,1 +178,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -179,1 +184,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -186,1 +191,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -196,1 +201,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -206,1 +211,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -217,1 +222,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -232,1 +237,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -241,1 +246,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -250,1 +255,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n@@ -258,1 +263,1 @@\n-    if (tracking_level() < NMT_summary) return;\n+    if (!enabled()) return;\n","filename":"src\/hotspot\/share\/services\/memTracker.hpp","additions":15,"deletions":10,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -31,0 +31,4 @@\n+STATIC_ASSERT(NMT_off > NMT_unknown);\n+STATIC_ASSERT(NMT_summary > NMT_off);\n+STATIC_ASSERT(NMT_detail > NMT_summary);\n+\n@@ -35,1 +39,0 @@\n-\n","filename":"src\/hotspot\/share\/services\/nmtCommon.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -228,1 +228,0 @@\n-  public native boolean NMTChangeTrackingLevel();\n","filename":"test\/lib\/jdk\/test\/whitebox\/WhiteBox.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -229,1 +229,0 @@\n-  public native boolean NMTChangeTrackingLevel();\n","filename":"test\/lib\/sun\/hotspot\/WhiteBox.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}