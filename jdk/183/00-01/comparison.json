{"files":[{"patch":"@@ -101,3 +101,2 @@\n-  double time_sec = os::elapsedTime();\n-  _recent_prev_end_times_for_all_gcs_sec->add(time_sec);\n-  _prev_collection_pause_end_ms = time_sec * 1000.0;\n+  _recent_prev_end_times_for_all_gcs_sec->add(os::elapsedTime());\n+  _prev_collection_pause_end_ms = os::elapsedTime() * 1000.0;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Analytics.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -532,1 +532,1 @@\n-    size_t rs_length_prediction = rs_length * 110 \/ 100;\n+    size_t rs_length_prediction = rs_length * 1100 \/ 1000;\n@@ -663,1 +663,1 @@\n-void G1Policy::record_concurrent_mark_init_end() {\n+void G1Policy::record_concurrent_mark_init_end(double mark_init_elapsed_time_ms) {\n@@ -760,1 +760,1 @@\n-    record_concurrent_mark_init_end();\n+    record_concurrent_mark_init_end(0.0);\n@@ -1307,1 +1307,1 @@\n-void G1Policy::update_pause_time_stats(PauseKind kind, double start_time_sec, double end_time_sec){\n+void G1Policy::update_gc_pause_time_ratios(PauseKind kind, double start_time_sec, double end_time_sec){\n@@ -1328,1 +1328,1 @@\n-    update_pause_time_stats(kind, start, end);\n+    update_gc_pause_time_ratios(kind, start, end);\n@@ -1408,1 +1408,1 @@\n-\n+  size_t result = region_num \/ gc_num;\n@@ -1410,1 +1410,3 @@\n-  size_t result = (region_num + gc_num -1) \/ gc_num;\n+  if (result * gc_num < region_num) {\n+    result += 1;\n+  }\n@@ -1423,1 +1425,1 @@\n-\n+  size_t result = region_num * perc \/ 100;\n@@ -1425,1 +1427,3 @@\n-  size_t result = ((region_num * perc) + 99) \/ 100;\n+  if (100 * result < region_num * perc) {\n+    result += 1;\n+  }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -331,1 +331,1 @@\n-  void record_concurrent_mark_init_end();\n+  void record_concurrent_mark_init_end(double mark_init_elapsed_time_ms);\n@@ -442,1 +442,1 @@\n-  void update_pause_time_stats(PauseKind kind, double start_sec, double end_sec);\n+  void update_gc_pause_time_ratios(PauseKind kind, double start_sec, double end_sec);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}