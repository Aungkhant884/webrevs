{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -701,0 +701,2 @@\n+ *\n+ * Returns -1 on failure.\n@@ -778,2 +780,1 @@\n-    assert(currentQueryIndex >= 0 &&\n-           currentQueryIndex < numberOfJavaProcessesAtInitialization);\n+    assert(currentQueryIndex < numberOfJavaProcessesAtInitialization);\n@@ -1313,5 +1314,4 @@\n-\n-    if (getPerformanceData(&processTotalCPULoad[currentQueryIndex].query,\n-                           processTotalCPULoad[currentQueryIndex].counter,\n-                           &cv,\n-                           PDH_FMT_DOUBLE | PDH_FMT_NOCAP100) == 0) {\n+    if (currentQueryIndex >= 0 && getPerformanceData(&processTotalCPULoad[currentQueryIndex].query,\n+                                                     processTotalCPULoad[currentQueryIndex].counter,\n+                                                     &cv,\n+                                                     PDH_FMT_DOUBLE | PDH_FMT_NOCAP100) == 0) {\n","filename":"src\/jdk.management\/windows\/native\/libmanagement_ext\/OperatingSystemImpl.c","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"}]}