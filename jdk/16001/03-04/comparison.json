{"files":[{"patch":"@@ -483,4 +483,0 @@\n-        visitVarDef(tree.sym, tree.init);\n-    }\n-\n-    private void visitVarDef(VarSymbol sym, JCExpression expr) {\n@@ -489,1 +485,1 @@\n-        if (suppressed.contains(sym))\n+        if (suppressed.contains(tree.sym))\n@@ -493,3 +489,3 @@\n-        scan(expr);\n-        if (isParamOrVar(sym))\n-            refs.replaceExprs(depth, indirection -> new VarRef(sym, indirection));\n+        scan(tree.init);\n+        if (isParamOrVar(tree.sym))\n+            refs.replaceExprs(depth, direct -> new VarRef(tree.sym, direct));\n@@ -686,1 +682,2 @@\n-            visitVarDef(foreach.var.sym, foreach.expr);\n+            scan(foreach.expr);\n+            refs.discardExprs(depth);       \/\/ we don't handle iterator() yet\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/ThisEscapeAnalyzer.java","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -606,2 +606,2 @@\n-    public static class ThisAssertionError {\n-        public ThisAssertionError() {\n+    public static class ThisEscapeAssertionError {\n+        public ThisEscapeAssertionError() {\n@@ -613,3 +613,3 @@\n-    public static class ThisAssertionError2 {\n-        public ThisAssertionError2() {\n-            ThisAssertionError2[] array = new ThisAssertionError2[] { this };\n+    public static class ThisEscapeAssertionError2 {\n+        public ThisEscapeAssertionError2() {\n+            ThisEscapeAssertionError2[] array = new ThisEscapeAssertionError2[] { this };\n","filename":"test\/langtools\/tools\/javac\/warnings\/ThisEscape.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}