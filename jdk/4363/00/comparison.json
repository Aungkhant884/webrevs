{"files":[{"patch":"@@ -44,1 +44,8 @@\n-    size_t used_bytes = tlab().used_bytes();\n+    \/\/ These reads are unsynchronized and unordered with the thread updating its tlab pointers.\n+    \/\/ Use only if top > start && used_bytes <= max_tlab_size_bytes.\n+    const HeapWord* const top = tlab().top();\n+    const HeapWord* const start = tlab().start();\n+    if (top <= start) {\n+      return allocated_bytes;\n+    }\n+    const size_t used_bytes = pointer_delta(top, start, 1);\n","filename":"src\/hotspot\/share\/runtime\/thread.inline.hpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}