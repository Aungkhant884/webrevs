{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+import java.util.ArrayList;\n@@ -31,1 +32,0 @@\n-import java.util.Vector;\n@@ -310,1 +310,1 @@\n-        Vector<CryptoPermission> permVector = new Vector<>(2);\n+        ArrayList<CryptoPermission> permList = new ArrayList<>(2);\n@@ -337,1 +337,1 @@\n-                    permVector.addElement(thisCp);\n+                    permList.add(thisCp);\n@@ -341,1 +341,1 @@\n-                    permVector.addElement(thatCp);\n+                    permList.add(thatCp);\n@@ -346,2 +346,1 @@\n-        CryptoPermission[] ret = new CryptoPermission[permVector.size()];\n-        permVector.copyInto(ret);\n+        CryptoPermission[] ret = permList.toArray(new CryptoPermission[0]);\n@@ -366,1 +365,1 @@\n-        Vector<CryptoPermission> permVector = new Vector<>(1);\n+        ArrayList<CryptoPermission> permList = new ArrayList<>(1);\n@@ -374,1 +373,1 @@\n-                permVector.addElement(cp);\n+                permList.add(cp);\n@@ -377,1 +376,1 @@\n-                    permVector.addElement(\n+                    permList.add(\n@@ -383,1 +382,1 @@\n-                    permVector.addElement(\n+                    permList.add(\n@@ -391,2 +390,1 @@\n-        CryptoPermission[] ret = new CryptoPermission[permVector.size()];\n-        permVector.copyInto(ret);\n+        CryptoPermission[] ret = permList.toArray(new CryptoPermission[0]);\n","filename":"src\/java.base\/share\/classes\/javax\/crypto\/CryptoPermissions.java","additions":11,"deletions":13,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,1 @@\n+import java.util.ArrayList;\n@@ -257,1 +258,1 @@\n-            Vector<Integer> paramsV = new Vector<>(1);\n+            ArrayList<Integer> paramsV = new ArrayList<>(1);\n@@ -261,1 +262,1 @@\n-                    paramsV.addElement(match());\n+                    paramsV.add(match());\n@@ -265,1 +266,1 @@\n-                        paramsV.addElement(Integer.MAX_VALUE);\n+                        paramsV.add(Integer.MAX_VALUE);\n@@ -273,2 +274,1 @@\n-            Integer[] params = new Integer[paramsV.size()];\n-            paramsV.copyInto(params);\n+            Integer[] params = paramsV.toArray(new Integer[0]);\n@@ -461,1 +461,1 @@\n-        Vector<CryptoPermission> result = new Vector<>();\n+        ArrayList<CryptoPermission> result = new ArrayList<>();\n@@ -472,1 +472,1 @@\n-                    result.addElement(CryptoAllPermission.INSTANCE);\n+                    result.add(CryptoAllPermission.INSTANCE);\n@@ -475,1 +475,1 @@\n-                        result.addElement(new CryptoPermission(\n+                        result.add(new CryptoPermission(\n@@ -481,1 +481,1 @@\n-                        result.addElement(new CryptoPermission(\n+                        result.add(new CryptoPermission(\n@@ -490,3 +490,1 @@\n-        CryptoPermission[] ret = new CryptoPermission[result.size()];\n-        result.copyInto(ret);\n-\n+        CryptoPermission[] ret = result.toArray(new CryptoPermission[0]);\n","filename":"src\/java.base\/share\/classes\/javax\/crypto\/CryptoPolicyParser.java","additions":11,"deletions":13,"binary":false,"changes":24,"status":"modified"}]}