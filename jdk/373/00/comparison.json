{"files":[{"patch":"@@ -393,1 +393,4 @@\n-  T** current = &_first;\n+  T* const next = _first;\n+  _first = (T*)this;\n+  return next;\n+}\n@@ -395,7 +398,18 @@\n-  while (*current != NULL) {\n-    \/\/ First sort by group, then by name\n-    const int group_cmp = strcmp((*current)->group(), group());\n-    const int name_cmp = strcmp((*current)->name(), name());\n-    if ((group_cmp > 0) || (group_cmp == 0 && name_cmp > 0)) {\n-      break;\n-    }\n+template <typename T>\n+void ZStatIterableValue<T>::sort() {\n+  T* first_unsorted = _first;\n+  _first = NULL;\n+\n+  while (first_unsorted != NULL) {\n+    T* const value = first_unsorted;\n+    first_unsorted = value->_next;\n+    value->_next = NULL;\n+\n+    T** current = &_first;\n+\n+    while (*current != NULL) {\n+      \/\/ First sort by group, then by name\n+      const int group_cmp = strcmp((*current)->group(), value->group());\n+      if ((group_cmp > 0) || (group_cmp == 0 && strcmp((*current)->name(), value->name()) > 0)) {\n+        break;\n+      }\n@@ -403,1 +417,4 @@\n-    current = &(*current)->_next;\n+      current = &(*current)->_next;\n+    }\n+    value->_next = *current;\n+    *current = value;\n@@ -405,4 +422,0 @@\n-\n-  T* const next = *current;\n-  *current = (T*)this;\n-  return next;\n@@ -885,0 +898,2 @@\n+  ZStatSampler::sort();\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zStat.cpp","additions":28,"deletions":13,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -104,0 +104,2 @@\n+  static void sort();\n+\n","filename":"src\/hotspot\/share\/gc\/z\/zStat.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"}]}