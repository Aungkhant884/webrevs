{"files":[{"patch":"@@ -3903,1 +3903,2 @@\n-            directory = new HashMap<>((int)(universe.length \/ 0.75f) + 1);\n+            final int size = universe.length;\n+            directory = new HashMap<>(size + (size + 2) \/ 3);\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Class.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -243,0 +243,9 @@\n+    \/**\n+     * use for calculate HashMap capacity, using default load factor 0.75\n+     * @param size size\n+     * @return HashMap capacity under default load factor\n+     *\/\n+    private static int calculateHashMapCapacity(int size){\n+        return size + (size + 2) \/ 3;\n+    }\n+\n@@ -254,1 +263,1 @@\n-        this(Math.max((int) Math.ceil(m.size() \/ DEFAULT_LOAD_FACTOR),\n+        this(Math.max(calculateHashMapCapacity(m.size()),\n","filename":"src\/java.base\/share\/classes\/java\/util\/WeakHashMap.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -70,2 +70,2 @@\n-\n-        int initialCapacity = (int)(e.getEnumConstants().length \/ 0.75f) + 1;\n+        final int size = e.getEnumConstants().length;\n+        int initialCapacity = size + (size + 2) \/ 3;\n","filename":"test\/jdk\/java\/lang\/Enum\/ConstantDirectoryOptimalCapacity.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}