{"files":[{"patch":"@@ -241,13 +241,0 @@\n-    \/**\n-     * use for calculate HashMap capacity, using default load factor 0.75\n-     *\n-     * @param size size\n-     * @return HashMap capacity under default load factor\n-     *\/\n-    private static int calculateHashMapCapacity(int size) {\n-        if (size > (int) (Integer.MAX_VALUE * 0.75)) {\n-            return Integer.MAX_VALUE;\n-        }\n-        return size + (size + 2) \/ 3;\n-    }\n-\n@@ -265,1 +252,1 @@\n-        this(Math.max(calculateHashMapCapacity(m.size()),\n+        this(Math.max((int) Math.min(((m.size() * 4L + 2L) \/ 3L), Integer.MAX_VALUE),\n","filename":"src\/java.base\/share\/classes\/java\/util\/WeakHashMap.java","additions":1,"deletions":14,"binary":false,"changes":15,"status":"modified"}]}