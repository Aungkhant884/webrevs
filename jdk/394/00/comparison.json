{"files":[{"patch":"@@ -216,0 +216,1 @@\n+             constraint(AVX3ThresholdConstraintFunc,AfterErgo)              \\\n","filename":"src\/hotspot\/cpu\/x86\/globals_x86.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1165,7 +1165,0 @@\n-  if (!FLAG_IS_DEFAULT(AVX3Threshold)) {\n-    if (!is_power_of_2(AVX3Threshold)) {\n-      warning(\"AVX3Threshold must be a power of 2\");\n-      FLAG_SET_DEFAULT(AVX3Threshold, 4096);\n-    }\n-  }\n-\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -288,0 +288,11 @@\n+JVMFlag::Error AVX3ThresholdConstraintFunc(int value, bool verbose) {\n+  if (value != 0 && !is_power_of_2(value)) {\n+    JVMFlag::printError(verbose,\n+                        \"AVX3Threshold ( %d ) must be 0 or \"\n+                        \"a power of two value between 0 and MAX_INT\\n\", value);\n+    return JVMFlag::VIOLATES_CONSTRAINT;\n+  }\n+\n+  return JVMFlag::SUCCESS;\n+}\n+\n","filename":"src\/hotspot\/share\/runtime\/flags\/jvmFlagConstraintsCompiler.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+  f(int,   AVX3ThresholdConstraintFunc)                 \\\n","filename":"src\/hotspot\/share\/runtime\/flags\/jvmFlagConstraintsCompiler.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -87,1 +87,0 @@\n-        assert CodeUtil.isPowerOf2(useAVX3Threshold) : \"AVX3Threshold must be power of 2\";\n","filename":"src\/jdk.internal.vm.compiler\/share\/classes\/org.graalvm.compiler.lir.amd64\/src\/org\/graalvm\/compiler\/lir\/amd64\/AMD64ArrayCompareToOp.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -74,1 +74,0 @@\n-        assert CodeUtil.isPowerOf2(useAVX3Threshold) : \"AVX3Threshold must be power of 2\";\n","filename":"src\/jdk.internal.vm.compiler\/share\/classes\/org.graalvm.compiler.lir.amd64\/src\/org\/graalvm\/compiler\/lir\/amd64\/AMD64StringLatin1InflateOp.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -79,1 +79,0 @@\n-        assert CodeUtil.isPowerOf2(useAVX3Threshold) : \"AVX3Threshold must be power of 2\";\n","filename":"src\/jdk.internal.vm.compiler\/share\/classes\/org.graalvm.compiler.lir.amd64\/src\/org\/graalvm\/compiler\/lir\/amd64\/AMD64StringUTF16CompressOp.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}