{"files":[{"patch":"@@ -109,0 +109,1 @@\n+    public final Content helpSubNavLabel;\n@@ -133,0 +134,2 @@\n+    public final Content navHelpNavigation;\n+    public final Content navHelpPages;\n@@ -255,0 +258,1 @@\n+        helpSubNavLabel = getContent(\"doclet.Help_Sub_Nav\");\n@@ -279,0 +283,2 @@\n+        navHelpNavigation = getContent(\"doclet.navNavigation\");\n+        navHelpPages = getContent(\"doclet.navPages\");\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Contents.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -50,0 +50,6 @@\n+    \/**\n+     * Standard third-level heading for sundry pages that do\n+     * not have their own page group.\n+     *\/\n+    static final TagName SUB_HEADING = TagName.H3;\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Headings.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+import jdk.javadoc.internal.doclets.formats.html.markup.HtmlId;\n@@ -39,0 +40,1 @@\n+import jdk.javadoc.internal.doclets.toolkit.util.DocLink;\n@@ -60,0 +62,5 @@\n+    Content overviewLink;\n+    Content indexLink;\n+    Content allClassesLink;\n+    Content allPackagesLink;\n+\n@@ -68,0 +75,9 @@\n+\n+        \/\/ yes, INDEX is correct in the following line\n+        overviewLink = links.createLink(DocPaths.INDEX, resources.getText(\"doclet.Overview\"));\n+        allPackagesLink = links.createLink(DocPaths.ALLPACKAGES_INDEX, resources.getText(\"doclet.All_Packages\"));\n+        allClassesLink = links.createLink(DocPaths.ALLCLASSES_INDEX, resources.getText(\"doclet.All_Classes\"));\n+        DocPath dp = options.splitIndex()\n+                ? DocPaths.INDEX_FILES.resolve(DocPaths.indexN(1))\n+                : DocPaths.INDEX_ALL;\n+        indexLink = links.createLink(dp, resources.getText(\"doclet.Index\"));\n@@ -103,4 +119,2 @@\n-     * Add the help file contents from the resource file to the content tree. While adding the\n-     * help file contents it also keeps track of user options. If \"-notree\"\n-     * is used, then the \"overview-tree.html\" will not get added and hence\n-     * help information also will not get added.\n+     * Adds the help file contents from the resource file to the content tree. While adding the\n+     * help file contents it also keeps track of user options.\n@@ -108,1 +122,6 @@\n-     * @param contentTree the content tree to which the help file contents will be added\n+     * The general organization is:\n+     * <ul>\n+     * <li>Heading, and TOC\n+     * <li>Navigation help\n+     * <li>Page-specific help\n+     * <\/ul>\n@@ -111,8 +130,104 @@\n-        \/\/ Heading\n-        Content heading = HtmlTree.HEADING(Headings.PAGE_TITLE_HEADING, HtmlStyle.title,\n-                getContent(\"doclet.help.main_heading\"));\n-        Content div = HtmlTree.DIV(HtmlStyle.header, heading);\n-        Content intro = HtmlTree.DIV(HtmlStyle.subTitle,\n-                getContent(\"doclet.help.intro\"));\n-        div.add(intro);\n-        contentTree.add(div);\n+        HtmlTree mainTOC = new HtmlTree(TagName.UL).setStyle(HtmlStyle.helpTOC);\n+\n+\n+\n+        contentTree.add(HtmlTree.HEADING(Headings.PAGE_TITLE_HEADING, HtmlStyle.title,\n+                                        getContent(\"doclet.help.main_heading\")))\n+                .add(mainTOC)\n+                .add(new HtmlTree(TagName.HR))\n+                .add(getNavigationSection(mainTOC))\n+                .add(new HtmlTree(TagName.HR))\n+                .add(getPageKindSection(mainTOC))\n+                .add(new HtmlTree(TagName.HR))\n+                .add(HtmlTree.SPAN(HtmlStyle.helpFootnote,\n+                        getContent(\"doclet.help.footnote\")));\n+    }\n+\n+    \/**\n+     * Creates the navigation help, adding an entry into the main table-of-contents.\n+     *\n+     * The general organization is:\n+     * <ul>\n+     * <li>General notes\n+     * <li>Search\n+     * <\/ul>\n+     *\n+     * @param mainTOC the main table-of-contents\n+     *\n+     * @return the content containing the help\n+     *\/\n+    private Content getNavigationSection(HtmlTree mainTOC) {\n+        Content content = new ContentBuilder();\n+\n+        Content navHeading = contents.getContent(\"doclet.help.navigation.head\");\n+        HtmlTree navSection = HtmlTree.DIV(HtmlStyle.subTitle)\n+                .add(HtmlTree.HEADING(Headings.CONTENT_HEADING, navHeading).setId(HtmlIds.HELP_NAVIGATION))\n+                .add(contents.getContent(\"doclet.help.navigation.intro\", overviewLink));\n+        if (options.createIndex()) {\n+            Content links = new ContentBuilder();\n+            if (!configuration.packages.isEmpty()) {\n+                links.add(allPackagesLink);\n+                links.add(\", \");\n+            }\n+            links.add(allClassesLink);\n+            navSection.add(\" \")\n+                    .add(contents.getContent(\"doclet.help.navigation.index\", indexLink, links));\n+        }\n+        content.add(navSection);\n+\n+        HtmlTree subTOC = new HtmlTree(TagName.UL).setStyle(HtmlStyle.helpSubTOC);\n+\n+        HtmlTree section;\n+\n+        \/\/ Search\n+        if (options.createIndex()) {\n+            section = newHelpSection(getContent(\"doclet.help.search.head\"), subTOC, HtmlIds.HELP_SEARCH);\n+            Content searchIntro = HtmlTree.P(getContent(\"doclet.help.search.intro\"));\n+            Content searchExamples = new HtmlTree(TagName.UL).setStyle(HtmlStyle.helpSectionList);\n+            for (String[] example : SEARCH_EXAMPLES) {\n+                searchExamples.add(HtmlTree.LI(\n+                        getContent(\"doclet.help.search.example\",\n+                                HtmlTree.CODE(Text.of(example[0])), example[1])));\n+            }\n+            Content searchSpecLink = HtmlTree.A(\n+                    resources.getText(\"doclet.help.search.spec.url\", configuration.getDocletVersion().feature()),\n+                    getContent(\"doclet.help.search.spec.title\"));\n+            Content searchRefer = HtmlTree.P(getContent(\"doclet.help.search.refer\", searchSpecLink));\n+            section.add(searchIntro)\n+                    .add(searchExamples)\n+                    .add(searchRefer);\n+            navSection.add(section);\n+        }\n+\n+        mainTOC.add(HtmlTree.LI(new ContentBuilder(\n+                links.createLink(DocLink.fragment(HtmlIds.HELP_NAVIGATION.name()), navHeading),\n+                Text.of(\": \"), subTOC)));\n+\n+        return content;\n+    }\n+\n+\n+    \/**\n+     * Creates the page-specific help, adding an entry into the main table-of-contents.\n+     *\n+     * The general organization is:\n+     * <ul>\n+     * <li>Overview\n+     * <li>Declaration pages: module, package, classes\n+     * <li>Derived info for declarations: use and tree\n+     * <li>General summary info: deprecated, preview\n+     * <li>Detailed summary info: constant values, serialized form, system properties\n+     * <li>Index info: all packages, all classes, full index\n+     * <\/ul>\n+     *\n+     * @param mainTOC the main table-of-contents\n+     *\n+     * @return the content containing the help\n+     *\/\n+    private Content getPageKindSection(HtmlTree mainTOC) {\n+        Content pageKindsHeading = contents.getContent(\"doclet.help.page_kinds.head\");\n+        HtmlTree pageKindsSection = HtmlTree.DIV(HtmlStyle.subTitle)\n+                .add(HtmlTree.HEADING(Headings.CONTENT_HEADING, pageKindsHeading).setId(HtmlIds.HELP_PAGES))\n+                .add(contents.getContent(\"doclet.help.page_kinds.intro\"));\n+\n+        HtmlTree subTOC = new HtmlTree(TagName.UL).setStyle(HtmlStyle.helpSubTOC);\n@@ -124,1 +239,1 @@\n-            section = newHelpSection(contents.overviewLabel);\n+            section = newHelpSection(contents.overviewLabel, PageMode.OVERVIEW, subTOC);\n@@ -128,2 +243,0 @@\n-            Content overviewLink = links.createLink(\n-                    DocPaths.INDEX, resources.getText(\"doclet.Overview\"));\n@@ -131,1 +244,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -136,1 +249,1 @@\n-            section = newHelpSection(contents.moduleLabel);\n+            section = newHelpSection(contents.moduleLabel, PageMode.MODULE, subTOC);\n@@ -144,1 +257,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -148,1 +261,1 @@\n-        section = newHelpSection(contents.packageLabel)\n+        section = newHelpSection(contents.packageLabel, PageMode.PACKAGE, subTOC)\n@@ -157,1 +270,1 @@\n-        contentTree.add(section);\n+        pageKindsSection.add(section);\n@@ -160,1 +273,12 @@\n-        section = newHelpSection(getContent(\"doclet.help.class_interface.head\"))\n+        Content notes = new ContentBuilder(\n+                HtmlTree.SPAN(HtmlStyle.helpNote, getContent(\"doclet.help.class_interface.note\")),\n+                Text.of(\" \"),\n+                getContent(\"doclet.help.class_interface.anno\"),\n+                Text.of(\" \"),\n+                getContent(\"doclet.help.class_interface.enum\"),\n+                Text.of(\" \"),\n+                getContent(\"doclet.help.class_interface.record\"),\n+                Text.of(\" \"),\n+                getContent(\"doclet.help.class_interface.property\"));\n+\n+        section = newHelpSection(getContent(\"doclet.help.class_interface.head\"), PageMode.CLASS, subTOC)\n@@ -172,0 +296,1 @@\n+                        contents.enumConstantSummary,\n@@ -175,1 +300,3 @@\n-                        contents.methodSummary))\n+                        contents.methodSummary,\n+                        contents.annotateTypeRequiredMemberSummaryLabel,\n+                        contents.annotateTypeOptionalMemberSummaryLabel))\n@@ -178,0 +305,1 @@\n+                        contents.enumConstantDetailLabel,\n@@ -181,14 +309,5 @@\n-                        contents.methodDetailLabel))\n-                .add(HtmlTree.P(getContent(\"doclet.help.class_interface.summary\")));\n-        contentTree.add(section);\n-\n-        \/\/ Annotation Types\n-        section = newHelpSection(contents.annotationType)\n-                .add(HtmlTree.P(getContent(\"doclet.help.annotation_type.intro\")))\n-                .add(newHelpSectionList(\n-                        getContent(\"doclet.help.annotation_type.declaration\"),\n-                        getContent(\"doclet.help.annotation_type.description\"),\n-                        contents.annotateTypeRequiredMemberSummaryLabel,\n-                        contents.annotateTypeOptionalMemberSummaryLabel,\n-                        contents.annotationTypeMemberDetail));\n-        contentTree.add(section);\n+                        contents.methodDetailLabel,\n+                        contents.annotationTypeMemberDetail))\n+                .add(HtmlTree.P(notes))\n+                .add(HtmlTree.P(getContent(\"doclet.help.class_interface.member_order\")));\n+        pageKindsSection.add(section);\n@@ -196,9 +315,3 @@\n-        \/\/ Enums\n-        section = newHelpSection(contents.enum_)\n-                .add(HtmlTree.P(getContent(\"doclet.help.enum.intro\")))\n-                .add(newHelpSectionList(\n-                        getContent(\"doclet.help.enum.declaration\"),\n-                        getContent(\"doclet.help.enum.definition\"),\n-                        contents.enumConstantSummary,\n-                        contents.enumConstantDetailLabel));\n-        contentTree.add(section);\n+        section = newHelpSection(getContent(\"doclet.help.other_files.head\"), PageMode.DOC_FILE, subTOC)\n+                .add(HtmlTree.P(getContent(\"doclet.help.other_files.body\")));\n+        pageKindsSection.add(section);\n@@ -208,1 +321,1 @@\n-            section = newHelpSection(getContent(\"doclet.help.use.head\"))\n+            section = newHelpSection(getContent(\"doclet.help.use.head\"), PageMode.USE, subTOC)\n@@ -210,1 +323,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -215,1 +328,1 @@\n-            section = newHelpSection(getContent(\"doclet.help.tree.head\"));\n+            section = newHelpSection(getContent(\"doclet.help.tree.head\"), PageMode.TREE, subTOC);\n@@ -223,1 +336,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -228,1 +341,1 @@\n-            section = newHelpSection(contents.deprecatedAPI);\n+            section = newHelpSection(contents.deprecatedAPI, PageMode.DEPRECATED, subTOC);\n@@ -232,1 +345,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -237,1 +350,1 @@\n-            section = newHelpSection(contents.previewAPI);\n+            section = newHelpSection(contents.previewAPI, PageMode.PREVIEW, subTOC);\n@@ -241,19 +354,1 @@\n-            contentTree.add(section);\n-        }\n-\n-        \/\/ Index\n-        if (options.createIndex()) {\n-            DocPath dp = options.splitIndex()\n-                    ? DocPaths.INDEX_FILES.resolve(DocPaths.indexN(1))\n-                    : DocPaths.INDEX_ALL;\n-            Content indexLink = links.createLink(dp, resources.getText(\"doclet.Index\"));\n-            section = newHelpSection(getContent(\"doclet.help.index.head\"))\n-                    .add(HtmlTree.P(getContent(\"doclet.help.index.body\", indexLink)));\n-            contentTree.add(section);\n-        }\n-\n-        \/\/ Serialized Form\n-        if (configuration.conditionalPages.contains(HtmlConfiguration.ConditionalPage.SERIALIZED_FORM)) {\n-            section = newHelpSection(contents.serializedForm)\n-                    .add(HtmlTree.P(getContent(\"doclet.help.serial_form.body\")));\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -264,1 +359,1 @@\n-            section = newHelpSection(contents.constantsSummaryTitle);\n+            section = newHelpSection(contents.constantsSummaryTitle, PageMode.CONSTANT_VALUES, subTOC);\n@@ -268,1 +363,8 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n+        }\n+\n+        \/\/ Serialized Form\n+        if (configuration.conditionalPages.contains(HtmlConfiguration.ConditionalPage.SERIALIZED_FORM)) {\n+            section = newHelpSection(contents.serializedForm, PageMode.SERIALIZED_FORM, subTOC)\n+                    .add(HtmlTree.P(getContent(\"doclet.help.serial_form.body\")));\n+            pageKindsSection.add(section);\n@@ -273,1 +375,1 @@\n-            section = newHelpSection(contents.systemPropertiesLabel);\n+            section = newHelpSection(contents.systemPropertiesLabel, PageMode.SYSTEM_PROPERTIES, subTOC);\n@@ -277,1 +379,1 @@\n-            contentTree.add(section);\n+            pageKindsSection.add(section);\n@@ -280,1 +382,1 @@\n-        \/\/ Search\n+        \/\/ Index\n@@ -282,7 +384,4 @@\n-            section = newHelpSection(getContent(\"doclet.help.search.head\"));\n-            Content searchIntro = HtmlTree.P(getContent(\"doclet.help.search.intro\"));\n-            Content searchExamples = new HtmlTree(TagName.UL).setStyle(HtmlStyle.helpSectionList);\n-            for (String[] example : SEARCH_EXAMPLES) {\n-                searchExamples.add(HtmlTree.LI(\n-                        getContent(\"doclet.help.search.example\",\n-                                HtmlTree.CODE(Text.of(example[0])), example[1])));\n+            if (!configuration.packages.isEmpty()) {\n+                section = newHelpSection(getContent(\"doclet.help.all_packages.head\"), PageMode.ALL_PACKAGES, subTOC)\n+                        .add(HtmlTree.P(getContent(\"doclet.help.all_packages.body\", allPackagesLink)));\n+                pageKindsSection.add(section);\n@@ -290,8 +389,14 @@\n-            Content searchSpecLink = HtmlTree.A(\n-                    resources.getText(\"doclet.help.search.spec.url\", configuration.getDocletVersion().feature()),\n-                    getContent(\"doclet.help.search.spec.title\"));\n-            Content searchRefer = HtmlTree.P(getContent(\"doclet.help.search.refer\", searchSpecLink));\n-            section.add(searchIntro)\n-                    .add(searchExamples)\n-                    .add(searchRefer);\n-            contentTree.add(section);\n+\n+            section = newHelpSection(getContent(\"doclet.help.all_classes.head\"), PageMode.ALL_CLASSES, subTOC)\n+                    .add(HtmlTree.P(getContent(\"doclet.help.all_classes.body\", allClassesLink)));\n+            pageKindsSection.add(section);\n+\n+            Content links = new ContentBuilder();\n+            if (!configuration.packages.isEmpty()) {\n+                links.add(allPackagesLink);\n+                links.add(\", \");\n+            }\n+            links.add(allClassesLink);\n+            section = newHelpSection(getContent(\"doclet.help.index.head\"), PageMode.INDEX, subTOC)\n+                    .add(HtmlTree.P(getContent(\"doclet.help.index.body\", indexLink, links)));\n+            pageKindsSection.add(section);\n@@ -300,3 +405,5 @@\n-        contentTree.add(new HtmlTree(TagName.HR))\n-                .add(HtmlTree.SPAN(HtmlStyle.helpFootnote,\n-                            getContent(\"doclet.help.footnote\")));\n+        mainTOC.add(HtmlTree.LI(new ContentBuilder(\n+                links.createLink(DocLink.fragment(HtmlIds.HELP_PAGES.name()), pageKindsHeading),\n+                Text.of(\": \"), subTOC)));\n+\n+        return pageKindsSection;\n@@ -317,1 +424,4 @@\n-    private HtmlTree newHelpSection(Content headingContent) {\n+    private HtmlTree newHelpSection(Content headingContent, HtmlTree toc, HtmlId id) {\n+        Content link = links.createLink(DocLink.fragment(id.name()), headingContent);\n+        toc.add(HtmlTree.LI(link));\n+\n@@ -319,1 +429,6 @@\n-                HtmlTree.HEADING(Headings.CONTENT_HEADING, headingContent));\n+                HtmlTree.HEADING(Headings.SUB_HEADING, headingContent))\n+                .setId(id);\n+    }\n+\n+    private HtmlTree newHelpSection(Content headingContent, Navigation.PageMode pm, HtmlTree toc) {\n+        return newHelpSection(headingContent, toc, htmlIds.forPage(pm));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HelpWriter.java","additions":212,"deletions":97,"binary":false,"changes":309,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import java.util.Locale;\n@@ -80,0 +81,3 @@\n+    static final HtmlId HELP_NAVIGATION = HtmlId.of(\"help-navigation\");\n+    static final HtmlId HELP_PAGES = HtmlId.of(\"help-pages\");\n+    static final HtmlId HELP_SEARCH = HtmlId.of(\"help-search\");\n@@ -444,0 +448,7 @@\n+    \/**\n+     * Returns an id for the \"preview\" section for an element.\n+     *\n+     * @param el the element\n+     *\n+     * @return the id\n+     *\/\n@@ -451,0 +462,11 @@\n+\n+    \/**\n+     * Returns an id for the entry on the HELP page for a kind of generated page.\n+     *\n+     * @param page the kind of page\n+     *\n+     * @return the id\n+     *\/\n+    public HtmlId forPage(Navigation.PageMode page) {\n+        return HtmlId.of(page.name().toLowerCase(Locale.ROOT).replace(\"_\", \"-\"));\n+    }\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlIds.java","additions":22,"deletions":0,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -390,0 +390,1 @@\n+\n@@ -422,0 +423,12 @@\n+\n+            case HELP:\n+                addContentToList(listContents,\n+                        links.createLink(HtmlIds.HELP_NAVIGATION, contents.navHelpNavigation));\n+                addContentToList(listContents,\n+                        links.createLink(HtmlIds.HELP_PAGES, contents.navHelpPages));\n+                Content li = HtmlTree.LI(contents.helpSubNavLabel);\n+                li.add(Entity.NO_BREAK_SPACE);\n+                tree.add(li);\n+                addListToNav(listContents, tree);\n+                break;\n+\n@@ -604,1 +617,1 @@\n-                                        getMemberSummaryWriter(kind));\n+                                getMemberSummaryWriter(kind));\n@@ -887,1 +900,2 @@\n-            tree.add(HtmlTree.LI(links.createLink(pathToRoot.resolve(helpfilenm),\n+            tree.add(HtmlTree.LI(links.createLink(\n+                    new DocLink(pathToRoot.resolve(helpfilenm), htmlIds.forPage(documentedPage).name()),\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/Navigation.java","additions":16,"deletions":2,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -63,3 +63,0 @@\n-    helpFootnote,\n-    helpSection,\n-    helpSectionList,\n@@ -719,1 +716,38 @@\n-    treePage;\n+    treePage,\n+    \/\/<\/editor-fold>\n+\n+    \/\/<editor-fold desc=\"page styles for <body> elements\">\n+    \/\/\n+    \/\/ The following constants are used for the class of the {@code <body>} element\n+    \/\/ for the corresponding pages.\n+\n+    \/**\n+     * The class of the footnote at the bottom of the page.\n+     *\/\n+    helpFootnote,\n+\n+    \/**\n+     * The class of the \"Note:\" prefix.\n+     *\/\n+    helpNote,\n+\n+    \/**\n+     * The class of each subsection in the page.\n+     *\/\n+    helpSection,\n+\n+    \/**\n+     * The class of lists in a subsection in the page.\n+     *\/\n+    helpSectionList,\n+\n+    \/**\n+     * The class of the top level list for the table of contents for the page.\n+     *\/\n+    helpTOC(\"help-toc\"),\n+\n+    \/**\n+     * The class of the second-level lists in the table of contents for the page.\n+     *\/\n+    helpSubTOC(\"help-subtoc\");\n+\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/markup\/HtmlStyle.java","additions":38,"deletions":4,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -56,0 +56,1 @@\n+doclet.Help_Sub_Nav=Help:\n@@ -69,0 +70,2 @@\n+doclet.navNavigation=Navigation\n+doclet.navPages=Pages\n@@ -146,4 +149,16 @@\n-    How This API Document Is Organized\n-doclet.help.intro=\\\n-    This API (Application Programming Interface) document has pages corresponding to the items in \\\n-    the navigation bar, described as follows.\n+    JavaDoc Help\n+doclet.help.navigation.head=\\\n+    Navigation\n+# 0: link to the Overview page\n+doclet.help.navigation.intro=\\\n+    Starting from the {0} page, you can browse the documentation using the links \\\n+    in each page, and in the navigation bar at the top of each page.\n+# 0: link to the Index;  1: short list of links\n+doclet.help.navigation.index=\\\n+    The {0} and Search box allow you to navigate to specific declarations and summary pages, \\\n+    including: {1}\n+doclet.help.page_kinds.head=\\\n+    Kinds of Pages\n+doclet.help.page_kinds.intro=\\\n+    The following sections describe the different kinds of pages in this collection.\n+# 0: link to the Overview page\n@@ -153,0 +168,1 @@\n+# 0: link to the Overview page\n@@ -158,1 +174,1 @@\n-    each. These pages may contain six categories:\n+    each. These pages may contain the following categories:\n@@ -161,1 +177,1 @@\n-    and services, with a summary for each. These pages may contain three categories:\n+    and services, with a summary for each. These pages may contain the following categories:\n@@ -165,3 +181,4 @@\n-    Each class, interface, nested class and nested interface has its own separate page. Each of \\\n-    these pages has three sections consisting of a class\/interface description, summary tables, \\\n-    and detailed member descriptions:\n+    Each class, interface, nested class and nested interface has its own separate page. \\\n+    Each of these pages has three sections consisting of a declaration and description, \\\n+    member summary tables, and detailed member descriptions. Entries in each of these \\\n+    sections are omitted if they are empty or not applicable.\n@@ -180,1 +197,1 @@\n-doclet.help.class_interface.summary=\\\n+doclet.help.class_interface.member_order=\\\n@@ -183,0 +200,15 @@\n+doclet.help.class_interface.note=\\\n+    Note:\n+doclet.help.class_interface.anno=\\\n+    Annotation interfaces have required and optional elements, but not methods.\n+doclet.help.class_interface.enum=\\\n+    Only enum classes have enum constants.\n+doclet.help.class_interface.record=\\\n+    The components of a record class are displayed as part of the declaration of the record class.\n+doclet.help.class_interface.property=\\\n+    Properties are a feature of JavaFX.\n+doclet.help.other_files.head=\\\n+    Other Files\n+doclet.help.other_files.body=\\\n+    Packages and modules may contain pages with additional information related to the \\\n+    declarations nearby.\n@@ -188,1 +220,1 @@\n-    package. Given a class or interface A, its \"Use\" page includes subclasses of A, fields declared \\\n+    package. Given a class or interface A, its Use page includes subclasses of A, fields declared \\\n@@ -191,1 +223,1 @@\n-    the \"Use\" link in the navigation bar.\n+    the USE link in the navigation bar.\n@@ -194,0 +226,1 @@\n+# 0: link to main Class Hierarchy page;  1: java.lang.Object\n@@ -199,1 +232,1 @@\n-    When viewing the Overview page, clicking on \"Tree\" displays the hierarchy for all packages.\n+    When viewing the Overview page, clicking on TREE displays the hierarchy for all packages.\n@@ -201,1 +234,1 @@\n-    When viewing a particular package, class or interface page, clicking on \"Tree\" displays the \\\n+    When viewing a particular package, class or interface page, clicking on TREE displays the \\\n@@ -203,0 +236,1 @@\n+# 0: link to the Deprecated summary page\n@@ -207,0 +241,1 @@\n+# 0: link to the Preview summary page\n@@ -212,0 +247,1 @@\n+# 0: link to Index page;  1: list of links to pages\n@@ -214,1 +250,12 @@\n-    and fields, as well as lists of all packages and all classes.\n+    and fields in the documentation, as well as summary pages such as {1}.\n+doclet.help.all_classes.head=\\\n+    All Classes\n+# 0: link to All Classes page\n+doclet.help.all_classes.body=\\\n+    The {0} page contains an alphabetic index of all classes and interfaces contained in the \\\n+    documentation, including annotation interfaces, enum classes, and record classes.\n+doclet.help.all_packages.head=\\\n+    All Packages\n+# 0: link to All Packages page\n+doclet.help.all_packages.body=\\\n+    The {0} page contains an alphabetic index of all packages contained in the documentation.\n@@ -221,0 +268,1 @@\n+# 0: link to Constant Values page\n@@ -223,0 +271,1 @@\n+# 0: link to System Properties page\n@@ -228,1 +277,1 @@\n-    Each enum has its own separate page with the following sections:\n+    Each enum class has its own separate page with the following sections:\n@@ -231,4 +280,0 @@\n-doclet.help.enum.declaration=\\\n-    Enum Declaration\n-doclet.help.enum.definition=\\\n-    Enum Description\n@@ -251,1 +296,1 @@\n-    using \"camel-case\" abbreviations. For example:\n+    using \"camelCase\" abbreviations. For example:\n@@ -255,1 +300,1 @@\n-doclet.help.search.refer=Refer to {0} for a full description of search features.\n+doclet.help.search.refer=Refer to the {0} for a full description of search features.\n@@ -259,1 +304,1 @@\n-doclet.help.search.spec.title=the Javadoc Search Specification\n+doclet.help.search.spec.title=Javadoc Search Specification\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/resources\/standard.properties","additions":68,"deletions":23,"binary":false,"changes":91,"status":"modified"},{"patch":"@@ -115,1 +115,0 @@\n-# doclet.malformed_html_link_tag=<a> tag is malformed:\\n\"{0}\"\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -678,0 +678,12 @@\n+ul.help-subtoc > li {\n+  display: inline-block;\n+  padding-right: 5px;\n+  font-size: smaller;\n+}\n+ul.help-subtoc > li::before {\n+  content: \"\\2022\" ;\n+  padding-right:2px;\n+}\n+span.help-note {\n+    font-style: italic;\n+}\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,3 +59,2 @@\n-                    <\/div>\n-                    <section class=\"help-section\">\n-                    <h2>Package<\/h2>\"\"\",\n+                    <section class=\"help-section\" id=\"package\">\n+                    <h3>Package<\/h3>\"\"\",\n@@ -69,2 +68,2 @@\n-                    <section class=\"help-section\">\n-                    <h2>Class or Interface<\/h2>\"\"\",\n+                    <section class=\"help-section\" id=\"class\">\n+                    <h3>Class or Interface<\/h3>\"\"\",\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHelpFile\/TestHelpFile.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,1 +92,1 @@\n-            <li><a href=\"..\/help-doc.html\">Help<\/a><\/li>\"\"\");\n+            <li><a href=\"..\/help-doc.html#class\">Help<\/a><\/li>\"\"\");\n@@ -105,1 +105,1 @@\n-                    <li><a href=\"test-help.html\">Help<\/a><\/li>\"\"\");\n+                    <li><a href=\"test-help.html#class\">Help<\/a><\/li>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHelpOption\/TestHelpOption.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -7,0 +7,7 @@\n+<p id=\"all-classes\">All Classes<\/p>\n+<p id=\"all-packages\">All Packages<\/p>\n+<p id=\"class\">Class<\/p>\n+<p id=\"help\">Help<\/p>\n+<p id=\"index\">Index<\/p>\n+<p id=\"package\">Package<\/p>\n+<p id=\"tree\">Tree<\/p>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHelpOption\/test-help.html","additions":7,"deletions":0,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -326,1 +326,1 @@\n-                    <div class=\"header\">\"\"\",\n+                    <h1 class=\"title\">JavaDoc Help<\/h1>\"\"\",\n@@ -328,2 +328,2 @@\n-                    <section class=\"help-section\">\n-                    <h2>Overview<\/h2>\n+                    <section class=\"help-section\" id=\"overview\">\n+                    <h3>Overview<\/h3>\n@@ -332,2 +332,2 @@\n-                    <section class=\"help-section\">\n-                    <h2>Package<\/h2>\n+                    <section class=\"help-section\" id=\"package\">\n+                    <h3>Package<\/h3>\n@@ -336,2 +336,2 @@\n-                    <section class=\"help-section\">\n-                    <h2>Class or Interface<\/h2>\n+                    <section class=\"help-section\" id=\"class\">\n+                    <h3>Class or Interface<\/h3>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlVersion\/TestHtmlVersion.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -234,1 +234,5 @@\n-        private List<String> excludeFiles = List.of(\"overview-tree.html\",\"package-tree.html\",\"module-summary.html\");\n+        private List<String> excludeFiles = List.of(\n+                \"overview-tree.html\",\n+                \"package-tree.html\",\n+                \"module-summary.html\",\n+                \"help-doc.html\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSingletonLists\/TestSingletonLists.java","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}