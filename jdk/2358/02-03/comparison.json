{"files":[{"patch":"@@ -935,5 +935,5 @@\n-  Register parent_frame_resize = R6_ARG4, \/\/ Frame will grow by this number of bytes.\n-           top_frame_size      = R7_ARG5,\n-           Rconst_method       = R8_ARG6,\n-           Rconst_pool         = R9_ARG7,\n-           R10_tmp             = R10_ARG8;\n+  Register Rparent_frame_resize = R6_ARG4, \/\/ Frame will grow by this number of bytes.\n+           Rtop_frame_size      = R7_ARG5,\n+           Rconst_method        = R8_ARG6,\n+           Rconst_pool          = R9_ARG7,\n+           Rmirror              = R10_ARG8;\n@@ -941,1 +941,2 @@\n-  assert_different_registers(Rsize_of_parameters, Rsize_of_locals, parent_frame_resize, top_frame_size);\n+  assert_different_registers(Rsize_of_parameters, Rsize_of_locals, Rparent_frame_resize, Rtop_frame_size,\n+                             Rconst_method, Rconst_pool);\n@@ -952,2 +953,2 @@\n-    __ addi(top_frame_size, Rsize_of_parameters, 2);\n-    __ cmpwi(CCR0, top_frame_size, Argument::n_register_parameters);\n+    __ addi(Rtop_frame_size, Rsize_of_parameters, 2);\n+    __ cmpwi(CCR0, Rtop_frame_size, Argument::n_register_parameters);\n@@ -955,1 +956,1 @@\n-    __ li(top_frame_size, Argument::n_register_parameters);\n+    __ li(Rtop_frame_size, Argument::n_register_parameters);\n@@ -958,2 +959,2 @@\n-    __ sldi(top_frame_size, top_frame_size, Interpreter::logStackElementSize);\n-    __ sub(parent_frame_resize, R1_SP, R15_esp); \/\/ <0, off by Interpreter::stackElementSize!\n+    __ sldi(Rtop_frame_size, Rtop_frame_size, Interpreter::logStackElementSize);\n+    __ sub(Rparent_frame_resize, R1_SP, R15_esp); \/\/ <0, off by Interpreter::stackElementSize!\n@@ -965,1 +966,1 @@\n-    __ lhz(top_frame_size, in_bytes(ConstMethod::max_stack_offset()), Rconst_method);\n+    __ lhz(Rtop_frame_size, in_bytes(ConstMethod::max_stack_offset()), Rconst_method);\n@@ -967,3 +968,3 @@\n-    __ sub(parent_frame_resize, R1_SP, R15_esp); \/\/ <0, off by Interpreter::stackElementSize!\n-    __ sldi(top_frame_size, top_frame_size, Interpreter::logStackElementSize);\n-    __ add(parent_frame_resize, parent_frame_resize, R11_scratch1);\n+    __ sub(Rparent_frame_resize, R1_SP, R15_esp); \/\/ <0, off by Interpreter::stackElementSize!\n+    __ sldi(Rtop_frame_size, Rtop_frame_size, Interpreter::logStackElementSize);\n+    __ add(Rparent_frame_resize, Rparent_frame_resize, R11_scratch1);\n@@ -973,1 +974,1 @@\n-  __ addi(top_frame_size, top_frame_size, frame::abi_reg_args_size + frame::ijava_state_size);\n+  __ addi(Rtop_frame_size, Rtop_frame_size, frame::abi_reg_args_size + frame::ijava_state_size);\n@@ -976,1 +977,1 @@\n-  __ addi(parent_frame_resize, parent_frame_resize, frame::abi_minframe_size - Interpreter::stackElementSize);\n+  __ addi(Rparent_frame_resize, Rparent_frame_resize, frame::abi_minframe_size - Interpreter::stackElementSize);\n@@ -978,3 +979,3 @@\n-  __ round_to(top_frame_size, frame::alignment_in_bytes);\n-  __ round_to(parent_frame_resize, frame::alignment_in_bytes);\n-  \/\/ parent_frame_resize = (locals-parameters) - (ESP-SP-ABI48) Rounded to frame alignment size.\n+  __ round_to(Rtop_frame_size, frame::alignment_in_bytes);\n+  __ round_to(Rparent_frame_resize, frame::alignment_in_bytes);\n+  \/\/ Rparent_frame_resize = (locals-parameters) - (ESP-SP-ABI48) Rounded to frame alignment size.\n@@ -988,1 +989,1 @@\n-    __ add(R11_scratch1, parent_frame_resize, top_frame_size);\n+    __ add(R11_scratch1, Rparent_frame_resize, Rtop_frame_size);\n@@ -1016,2 +1017,2 @@\n-  __ neg(parent_frame_resize, parent_frame_resize);\n-  __ resize_frame(parent_frame_resize, R11_scratch1);\n+  __ neg(Rparent_frame_resize, Rparent_frame_resize);\n+  __ resize_frame(Rparent_frame_resize, R11_scratch1);\n@@ -1021,3 +1022,3 @@\n-  __ ld(R10_tmp, ConstantPool::pool_holder_offset_in_bytes(), Rconst_pool);\n-  __ ld(R10_tmp, in_bytes(Klass::java_mirror_offset()), R10_tmp);\n-  __ resolve_oop_handle(R10_tmp, R11_scratch1, R12_scratch2, MacroAssembler::PRESERVATION_FRAME_LR_GP_REGS);\n+  __ ld(Rmirror, ConstantPool::pool_holder_offset_in_bytes(), Rconst_pool);\n+  __ ld(Rmirror, in_bytes(Klass::java_mirror_offset()), Rmirror);\n+  __ resolve_oop_handle(Rmirror, R11_scratch1, R12_scratch2, MacroAssembler::PRESERVATION_FRAME_LR_GP_REGS);\n@@ -1030,1 +1031,1 @@\n-  __ std(R10_tmp, _ijava_state_neg(mirror), R1_SP);\n+  __ std(Rmirror, _ijava_state_neg(mirror), R1_SP);\n@@ -1052,1 +1053,1 @@\n-  __ subf(R12_scratch2, top_frame_size, R1_SP);\n+  __ subf(R12_scratch2, Rtop_frame_size, R1_SP);\n@@ -1057,1 +1058,1 @@\n-  __ push_frame(top_frame_size, R11_scratch1);\n+  __ push_frame(Rtop_frame_size, R11_scratch1);\n","filename":"src\/hotspot\/cpu\/ppc\/templateInterpreterGenerator_ppc.cpp","additions":30,"deletions":29,"binary":false,"changes":59,"status":"modified"},{"patch":"@@ -3365,1 +3365,1 @@\n-    const Register Rparam_count = Rscratch1;\n+    Register Rparam_count = Rscratch1;\n","filename":"src\/hotspot\/cpu\/ppc\/templateTable_ppc_64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}