{"files":[{"patch":"@@ -34,0 +34,1 @@\n+import jdk.jfr.internal.Utils;\n@@ -93,3 +94,0 @@\n-        if (c <= 0) {\n-           throw new IOException(\"Invalid chunk size: \" + c);\n-        }\n@@ -125,1 +123,2 @@\n-        while (true) {\n+        int retryCount = 1000; \/\/ Same as RecordingInput::pollCount\n+        while (retryCount-- > 0) {\n@@ -170,0 +169,1 @@\n+            Utils.takeNap(1);\n@@ -171,0 +171,1 @@\n+        throw new IOException(\"Recording file is stuck or invalid.\");\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/consumer\/ChunkHeader.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}