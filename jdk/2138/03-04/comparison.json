{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import java.util.Iterator;\n@@ -35,2 +36,1 @@\n-    private final List<RepositoryChunk> chunks;\n-    private int nextIndex = 0;\n+    private final Iterator<RepositoryChunk> chunks;\n@@ -41,3 +41,3 @@\n-    ChunkInputStream(List<RepositoryChunk> inputChunks) throws IOException {\n-        chunks = new ArrayList<>(inputChunks.size());\n-        for (RepositoryChunk c : inputChunks) {\n+    ChunkInputStream(List<RepositoryChunk> chunks) throws IOException {\n+        List<RepositoryChunk> l = new ArrayList<>(chunks.size());\n+        for (RepositoryChunk c : chunks) {\n@@ -45,1 +45,1 @@\n-            chunks.add(c);\n+            l.add(c);\n@@ -48,0 +48,1 @@\n+        this.chunks = l.iterator();\n@@ -71,1 +72,1 @@\n-        if (nextIndex >= chunks.size()) {\n+        if (!chunks.hasNext()) {\n@@ -74,1 +75,1 @@\n-        currentChunk = chunks.get(nextIndex++);\n+        currentChunk = chunks.next();\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/ChunkInputStream.java","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}