{"files":[{"patch":"@@ -63,2 +63,2 @@\n-    const jchar* chars = (*env)->GetStringChars(env, root, NULL);\n-    if (chars == NULL) {\n+    const jchar* strchars = (*env)->GetStringChars(env, root, NULL);\n+    if (strchars == NULL) {\n@@ -80,1 +80,1 @@\n-    LPCWSTR path = (LPCWSTR)chars;\n+    LPCWSTR path = (LPCWSTR)strchars;\n@@ -87,0 +87,1 @@\n+            (*env)->ReleaseStringChars(env, root, strchars);\n@@ -91,0 +92,1 @@\n+        (*env)->ReleaseStringChars(env, root, strchars);\n@@ -113,0 +115,1 @@\n+            (*env)->ReleaseStringChars(env, root, strchars);\n@@ -117,0 +120,1 @@\n+        (*env)->ReleaseStringChars(env, root, strchars);\n@@ -127,0 +131,15 @@\n+    int len = (int)(*env)->GetStringLength(env, root);\n+    char* chars = (char*)malloc(len*sizeof(char) + 1);\n+    if (chars == NULL) {\n+        (*env)->ReleaseStringChars(env, root, strchars);\n+        JNU_ThrowByNameWithLastError(env, \"java\/lang\/RuntimeException\",\n+                                     \"malloc\");\n+        return JNI_FALSE;\n+    }\n+\n+    for (int i = 0; i < len; i++) {\n+        chars[i] = (char)strchars[i];\n+    }\n+    chars[len] = '\\0';\n+    (*env)->ReleaseStringChars(env, root, strchars);\n+\n@@ -129,1 +148,1 @@\n-    (*env)->ReleaseStringChars(env, root, chars);\n+    free(chars);\n","filename":"test\/jdk\/java\/io\/File\/libGetXSpace.c","additions":23,"deletions":4,"binary":false,"changes":27,"status":"modified"}]}