{"files":[{"patch":"@@ -99,2 +99,0 @@\n-  \/\/ Compute maximal alignment.\n-  int align = _consts.alignment() + _insts.alignment() + _stubs.alignment();\n@@ -104,0 +102,3 @@\n+  assert(SECT_LIMIT == 3, \"total_size explicitly lists all section alignments\");\n+  int total_size = code_size + _consts.alignment() + _insts.alignment() + _stubs.alignment() + SECT_LIMIT * slop;\n+\n@@ -105,1 +106,1 @@\n-  set_blob(BufferBlob::create(_name, code_size + align + slop * SECT_LIMIT));\n+  set_blob(BufferBlob::create(_name, total_size));\n","filename":"src\/hotspot\/share\/asm\/codeBuffer.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -665,0 +665,4 @@\n+\n+  assert((CodeBuffer::SECT_INSTS == CodeBuffer::SECT_STUBS - 1) &&\n+         (CodeBuffer::SECT_CONSTS == CodeBuffer::SECT_INSTS - 1), \"sections order: consts, insts, stubs\");\n+  \/\/ buffer content: [contants + code_align] + [code + stubs_align] + [stubs]\n","filename":"src\/hotspot\/share\/jvmci\/jvmciCodeInstaller.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -88,0 +88,1 @@\n+    \/\/ DataSectionAlignment value matches the alignment of the CodeBuffer::SECT_CONSTS code section\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/errors\/TestInvalidCompilationResult.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -119,1 +119,1 @@\n-        int dataSectionAlignment = 8;\n+        int dataSectionAlignment = 8; \/\/ CodeBuffer::SECT_CONSTS code section alignment\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/events\/JvmciNotifyInstallEventTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -319,1 +319,1 @@\n-        int dataSectionAlignment = 8;\n+        int dataSectionAlignment = 8; \/\/ CodeBuffer::SECT_CONSTS code section alignment\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/jdk.vm.ci.code.test\/src\/jdk\/vm\/ci\/code\/test\/TestAssembler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}