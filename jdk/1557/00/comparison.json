{"files":[{"patch":"@@ -100,1 +100,0 @@\n-<li><a href=\"#setting-up-a-repository-for-pushing-changes-defpath\">Setting Up a Repository for Pushing Changes (defpath)<\/a><\/li>\n@@ -105,1 +104,0 @@\n-<li><a href=\"#learn-about-mercurial\">Learn About Mercurial<\/a><\/li>\n@@ -119,1 +117,1 @@\n-<p>If you are eager to try out building the JDK, these simple steps works most of the time. They assume that you have installed Mercurial (and Cygwin if running on Windows) and cloned the top-level JDK repository that you want to build.<\/p>\n+<p>If you are eager to try out building the JDK, these simple steps works most of the time. They assume that you have installed Git (and Cygwin if running on Windows) and cloned the top-level JDK repository that you want to build.<\/p>\n@@ -122,1 +120,1 @@\n-<code>hg clone http:\/\/hg.openjdk.java.net\/jdk\/jdk<\/code><\/p><\/li>\n+<code>git clone https:\/\/git.openjdk.java.net\/jdk\/<\/code><\/p><\/li>\n@@ -138,2 +136,2 @@\n-<p>Make sure you are getting the correct version. As of JDK 10, the source is no longer split into separate repositories so you only need to clone one single repository. At the <a href=\"http:\/\/hg.openjdk.java.net\/\">OpenJDK Mercurial server<\/a> you can see a list of all available repositories. If you want to build an older version, e.g. JDK 8, it is recommended that you get the <code>jdk8u<\/code> forest, which contains incremental updates, instead of the <code>jdk8<\/code> forest, which was frozen at JDK 8 GA.<\/p>\n-<p>If you are new to Mercurial, a good place to start is the <a href=\"http:\/\/www.mercurial-scm.org\/guide\">Mercurial Beginner's Guide<\/a>. The rest of this document assumes a working knowledge of Mercurial.<\/p>\n+<p>Make sure you are getting the correct version. As of JDK 10, the source is no longer split into separate repositories so you only need to clone one single repository. At the <a href=\"https:\/\/git.openjdk.java.net\/\">OpenJDK Git site<\/a> you can see a list of all available repositories. If you want to build an older version, e.g. JDK 11, it is recommended that you get the <code>jdk11u<\/code> repo, which contains incremental updates, instead of the <code>jdk11<\/code> repo, which was frozen at JDK 11 GA.<\/p>\n+<p>If you are new to Git, a good place to start is the book <a href=\"https:\/\/git-scm.com\/book\/en\/v2\">Pro Git<\/a>. The rest of this document assumes a working knowledge of Git.<\/p>\n@@ -150,1 +148,5 @@\n-<li><p>Clone the JDK repository using the Cygwin command line <code>hg<\/code> client as instructed in this document. That is, do <em>not<\/em> use another Mercurial client such as TortoiseHg.<\/p><\/li>\n+<li><p>You need to install a git client. You have two choices, Cygwin git or Git for Windows. Unfortunately there are pros and cons with each choice.<\/p>\n+<ul>\n+<li><p>The Cygwin <code>git<\/code> client has no line ending issues and understands Cygwin paths (which are used throughout the JDK build system). However, it does not currently work well with the Skara CLI tooling. Please see the <a href=\"https:\/\/wiki.openjdk.java.net\/display\/SKARA\/Skara#Skara-Git\">Skara wiki on Git clients<\/a> for up-to-date information about the Skara git client support.<\/p><\/li>\n+<li><p>The <a href=\"https:\/\/gitforwindows.org\">Git for Windows<\/a> client has issues with line endings, and do not understand Cygwin paths. It does work well with the Skara CLI tooling, however. To alleviate the line ending problems, make sure you set <code>core.autocrlf<\/code> to <code>false<\/code> (this is asked during installation).<\/p><\/li>\n+<\/ul><\/li>\n@@ -197,1 +199,1 @@\n-<p>Internally in the build system, all paths are represented as Unix-style paths, e.g. <code>\/cygdrive\/c\/hg\/jdk9\/Makefile<\/code> rather than <code>C:\\hg\\jdk9\\Makefile<\/code>. This rule also applies to input to the build system, e.g. in arguments to <code>configure<\/code>. So, use <code>--with-msvcr-dll=\/cygdrive\/c\/msvcr100.dll<\/code> rather than <code>--with-msvcr-dll=c:\\msvcr100.dll<\/code>. For details on this conversion, see the section on <a href=\"#fixpath\">Fixpath<\/a>.<\/p>\n+<p>Internally in the build system, all paths are represented as Unix-style paths, e.g. <code>\/cygdrive\/c\/git\/jdk\/Makefile<\/code> rather than <code>C:\\git\\jdk\\Makefile<\/code>. This rule also applies to input to the build system, e.g. in arguments to <code>configure<\/code>. So, use <code>--with-msvcr-dll=\/cygdrive\/c\/msvcr100.dll<\/code> rather than <code>--with-msvcr-dll=c:\\msvcr100.dll<\/code>. For details on this conversion, see the section on <a href=\"#fixpath\">Fixpath<\/a>.<\/p>\n@@ -761,1 +763,1 @@\n-\/localhome\/hg\/jdk9-sandbox\/hotspot\/src\/share\/vm\/services\/psMemoryPool.cpp:1:1: error: &#39;failhere&#39; does not name a type\n+\/localhome\/git\/jdk-sandbox\/hotspot\/src\/share\/vm\/services\/psMemoryPool.cpp:1:1: error: &#39;failhere&#39; does not name a type\n@@ -764,1 +766,1 @@\n-* All command lines available in \/localhome\/hg\/jdk9-sandbox\/build\/linux-x64\/make-support\/failure-logs.\n+* All command lines available in \/localhome\/git\/jdk-sandbox\/build\/linux-x64\/make-support\/failure-logs.\n@@ -768,1 +770,1 @@\n-lib\/CompileJvm.gmk:207: recipe for target &#39;\/localhome\/hg\/jdk9-sandbox\/build\/linux-x64\/hotspot\/variant-server\/libjvm\/objs\/psMemoryPool.o&#39; failed\n+lib\/CompileJvm.gmk:207: recipe for target &#39;\/localhome\/git\/jdk-sandbox\/build\/linux-x64\/hotspot\/variant-server\/libjvm\/objs\/psMemoryPool.o&#39; failed\n@@ -795,1 +797,1 @@\n-<p>Run <code>hg pull -u<\/code> to make sure you have the latest changes.<\/p><\/li>\n+<p>Run <code>git pull origin master<\/code> to make sure you have the latest changes.<\/p><\/li>\n@@ -804,2 +806,2 @@\n-<li><p>Re-clone the Mercurial repository<\/p>\n-<p>Sometimes the Mercurial repository gets in a state that causes the product to be un-buildable. In such a case, the simplest solution is often the &quot;sledgehammer approach&quot;: delete the entire repository, and re-clone it. If you have local changes, save them first to a different location using <code>hg export<\/code>.<\/p><\/li>\n+<li><p>Re-clone the Git repository<\/p>\n+<p>Sometimes the Git repository gets in a state that causes the product to be un-buildable. In such a case, the simplest solution is often the &quot;sledgehammer approach&quot;: delete the entire repository, and re-clone it. If you have local changes, save them first to a different location using <code>git format-patch<\/code>.<\/p><\/li>\n@@ -824,13 +826,0 @@\n-<h3 id=\"setting-up-a-repository-for-pushing-changes-defpath\">Setting Up a Repository for Pushing Changes (defpath)<\/h3>\n-<p>To help you prepare a proper push path for a Mercurial repository, there exists a useful tool known as <a href=\"http:\/\/openjdk.java.net\/projects\/code-tools\/defpath\">defpath<\/a>. It will help you setup a proper push path for pushing changes to the JDK.<\/p>\n-<p>Install the extension by cloning <code>http:\/\/hg.openjdk.java.net\/code-tools\/defpath<\/code> and updating your <code>.hgrc<\/code> file. Here's one way to do this:<\/p>\n-<pre><code>cd ~\n-mkdir hg-ext\n-cd hg-ext\n-hg clone http:\/\/hg.openjdk.java.net\/code-tools\/defpath\n-cat &lt;&lt; EOT &gt;&gt; ~\/.hgrc\n-[extensions]\n-defpath=~\/hg-ext\/defpath\/defpath.py\n-EOT<\/code><\/pre>\n-<p>You can now setup a proper push path using:<\/p>\n-<pre><code>hg defpath -d -u &lt;your OpenJDK username&gt;<\/code><\/pre>\n@@ -889,8 +878,0 @@\n-<h3 id=\"learn-about-mercurial\">Learn About Mercurial<\/h3>\n-<p>To become an efficient JDK developer, it is recommended that you invest in learning Mercurial properly. Here are some links that can get you started:<\/p>\n-<ul>\n-<li><a href=\"http:\/\/www.mercurial-scm.org\/wiki\/GitConcepts\">Mercurial for git users<\/a><\/li>\n-<li><a href=\"http:\/\/www.mercurial-scm.org\/wiki\/Tutorial\">The official Mercurial tutorial<\/a><\/li>\n-<li><a href=\"http:\/\/hginit.com\/\">hg init<\/a><\/li>\n-<li><a href=\"http:\/\/hgbook.red-bean.com\/read\/\">Mercurial: The Definitive Guide<\/a><\/li>\n-<\/ul>\n","filename":"doc\/building.html","additions":16,"deletions":35,"binary":false,"changes":51,"status":"modified"}]}