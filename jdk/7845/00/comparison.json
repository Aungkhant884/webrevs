{"files":[{"patch":"@@ -112,0 +112,10 @@\n+    private byte readFileState() throws IOException {\n+        byte fs;\n+        input.positionPhysical(absoluteChunkStart + FILE_STATE_POSITION);\n+        while ((fs = input.readPhysicalByte()) == UPDATING_CHUNK_HEADER) {\n+            Utils.takeNap(1);\n+            input.positionPhysical(absoluteChunkStart + FILE_STATE_POSITION);\n+        }\n+        return fs;\n+    }\n+\n@@ -114,6 +124,1 @@\n-            byte fileState1;\n-            input.positionPhysical(absoluteChunkStart + FILE_STATE_POSITION);\n-            while ((fileState1 = input.readPhysicalByte()) == UPDATING_CHUNK_HEADER) {\n-                Utils.takeNap(1);\n-                input.positionPhysical(absoluteChunkStart + FILE_STATE_POSITION);\n-            }\n+            byte fileState1 = readFileState();\n@@ -172,1 +177,0 @@\n-            input.positionPhysical(absoluteChunkStart + FILE_STATE_POSITION);\n@@ -174,2 +178,2 @@\n-                byte filestate = input.readPhysicalByte();\n-                if (filestate == 0) {\n+                byte fileState = readFileState();\n+                if (fileState == 0) {\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/consumer\/ChunkHeader.java","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"}]}