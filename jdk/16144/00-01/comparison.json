{"files":[{"patch":"@@ -186,1 +186,1 @@\n-            while (!inputQ.isEmpty()) {\n+            while (!inputQ.isEmpty() && errorRef.get() == null) {\n@@ -1379,3 +1379,1 @@\n-            var subscriber = this.responseSubscriber;\n-            if (subscriber == null) subscriber = this.pendingResponseSubscriber;\n-            if (subscriber != null) {\n+            if (responseSubscriber != null || pendingResponseSubscriber != null) {\n@@ -1385,5 +1383,0 @@\n-                if (subscriber instanceof Http2StreamResponseSubscriber<?> rs) {\n-                    \/\/ make sure the subscriber is stopped.\n-                    if (debug.on()) debug.log(\"closing response subscriber stream %s\", streamid);\n-                    rs.complete(errorRef.get());\n-                }\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Stream.java","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"}]}