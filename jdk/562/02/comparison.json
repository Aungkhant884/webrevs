{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,1 @@\n-                                             mlib_s32, mlib_s32, void *);\n+                                             mlib_s32, mlib_s32, const void *);\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/medialib\/awt_ImagingLib.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,0 +46,7 @@\n+#ifdef STATIC_BUILD\n+extern void Java_sun_xawt_motif_XsessionWMcommand(JNIEnv *env, jobject this,\n+jobject frame, jstring jcommand);\n+\n+extern void Java_sun_xawt_motif_XsessionWMcommand_New(JNIEnv *env, jobjectArray jarray);\n+#endif\n+\n@@ -121,1 +128,1 @@\n-\n+#ifndef STATIC_BUILD\n@@ -127,1 +134,1 @@\n-\n+#endif\n@@ -159,0 +166,1 @@\n+#ifndef STATIC_BUILD\n@@ -161,0 +169,1 @@\n+#endif\n@@ -169,0 +178,2 @@\n+\n+#ifndef STATIC_BUILD\n@@ -176,1 +187,1 @@\n-\n+#endif\n@@ -201,1 +212,1 @@\n-\n+#ifndef STATIC_BUILD\n@@ -208,1 +219,3 @@\n-\n+#else\n+    XsessionWMcommand = (XsessionWMcommand_type *)Java_sun_xawt_motif_XsessionWMcommand;\n+#endif\n@@ -228,1 +241,1 @@\n-\n+#ifndef STATIC_BUILD\n@@ -235,0 +248,3 @@\n+#else\n+    XsessionWMcommand = (XsessionWMcommand_New_type *)Java_sun_xawt_motif_XsessionWMcommand_New;\n+#endif\n@@ -241,0 +257,11 @@\n+\n+#ifdef STATIC_BUILD\n+__attribute__((weak)) void Java_sun_xawt_motif_XsessionWMcommand_New(JNIEnv *env, jobjectArray jarray)\n+{\n+}\n+\n+__attribute__((weak)) void Java_sun_xawt_motif_XsessionWMcommand(JNIEnv *env, jobject this,\n+        jobject frame, jstring jcommand)\n+{\n+}\n+#endif\n","filename":"src\/java.desktop\/unix\/native\/libawt\/awt\/awt_LoadLibrary.c","additions":34,"deletions":7,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,4 @@\n+#ifdef STATIC_BUILD\n+#include \"mlib_image.h\"\n+#endif\n+\n@@ -42,0 +46,37 @@\n+#ifdef STATIC_BUILD\n+\/\/ Mapping functions to their names for runtime check\n+static mlibFnS_t sMlibFnsStatic[] = {\n+    {j2d_mlib_ImageConvMxN, \"j2d_mlib_ImageConvMxN\"},\n+    {j2d_mlib_ImageAffine, \"j2d_mlib_ImageAffine\"},\n+    {j2d_mlib_ImageLookUp, \"j2d_mlib_ImageLookUp\"},\n+    {j2d_mlib_ImageConvKernelConvert, \"j2d_mlib_ImageConvKernelConvert\"},\n+};\n+\n+mlib_status awt_getImagingLib(JNIEnv *env, mlibFnS_t *sMlibFns,\n+                              mlibSysFnS_t *sMlibSysFns) {\n+    mlibFnS_t *mptr;\n+    int i;\n+    char *fName;\n+    mlibSysFnS_t tempSysFns;\n+    mlib_status ret = MLIB_SUCCESS;\n+\n+    tempSysFns.createFP = j2d_mlib_ImageCreate;\n+    tempSysFns.createStructFP = j2d_mlib_ImageCreateStruct;\n+    tempSysFns.deleteImageFP = j2d_mlib_ImageDelete;\n+    *sMlibSysFns = tempSysFns;\n+\n+    mptr = sMlibFns;\n+    i = 0;\n+    while (mptr[i].fname != NULL) {\n+        fName = mptr[i].fname;\n+        if(strcmp(fName, sMlibFnsStatic[i].fname) == 0) {\n+            mptr[i].fptr = sMlibFnsStatic[i].fptr;\n+        } else {\n+            ret = MLIB_FAILURE;\n+        }\n+        i++;\n+    }\n+\n+    return ret;\n+}\n+#else\n@@ -124,0 +165,1 @@\n+#endif\n","filename":"src\/java.desktop\/unix\/native\/libawt\/awt\/awt_Mlib.c","additions":43,"deletions":1,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -303,0 +303,2 @@\n+#ifndef STATIC_BUILD\n+\/\/ The same function exists in libawt.a::awt_LoadLibrary.c\n@@ -306,0 +308,1 @@\n+#endif\n@@ -814,1 +817,2 @@\n-Java_sun_awt_motif_XsessionWMcommand(JNIEnv *env, jobject this,\n+#ifdef STATIC_BUILD\n+Java_sun_xawt_motif_XsessionWMcommand(JNIEnv *env, jobject this,\n@@ -816,0 +820,4 @@\n+#else\n+Java_sun_awt_motif_XsessionWMcommand(JNIEnv *env, jobject this,\n+        jobject frame, jstring jcommand)\n+#endif\n@@ -859,0 +867,3 @@\n+#ifdef STATIC_BUILD\n+Java_sun_xawt_motif_XsessionWMcommand_New(JNIEnv *env, jobjectArray jarray)\n+#else\n@@ -860,0 +871,1 @@\n+#endif\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/xawt\/XToolkit.c","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"}]}