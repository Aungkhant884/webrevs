{"files":[{"patch":"@@ -1147,2 +1147,3 @@\n-  <Event name=\"HeapDump\" category=\"Java Virtual Machine, Diagnostics\" label=\"Heap Dump\" stackTrace=\"true\" thread=\"true\">\n-    <Field type=\"string\" name=\"destination\" label=\"Destination\" \/>\n+  <Event name=\"HeapDump\" category=\"Java Virtual Machine, Diagnostics\" label=\"Heap Dump\" description=\"Information about a successfully written Java Heap dump\"\n+    stackTrace=\"true\" thread=\"true\">\n+    <Field type=\"string\" name=\"destination\" label=\"Destination path of the dump\" \/>\n@@ -1151,1 +1152,3 @@\n-    <Field type=\"boolean\" name=\"onOutOfMemoryError\" label=\"On Out of Memory Error\" \/>\n+    <Field type=\"boolean\" name=\"onOutOfMemoryError\" label=\"Heap dump on Out of Memory Error\" \/>\n+    <Field type=\"boolean\" name=\"overwrite\" label=\"Overwrite\" description=\"Heap dump overwrites previous file location if it exists\" \/>\n+    <Field type=\"int\" name=\"compression\" label=\"Compression Level\" description=\"Compression level of the Dump, if larger than 0 we use gzip compressoion with this level\" \/>\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -2428,0 +2428,2 @@\n+    event.set_overwrite(overwrite);\n+    event.set_compression(compression);\n@@ -2429,0 +2431,2 @@\n+  } else {\n+    log_debug(cds, heap)(\"Error %s while dumping heap\", error());\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -68,0 +68,2 @@\n+            Events.assertField(e, \"compression\").equal(-1);\n+            Events.assertField(e, \"overwrite\").equal(false);\n","filename":"test\/jdk\/jdk\/jfr\/event\/diagnostics\/TestHeapDump.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"}]}