{"files":[{"patch":"@@ -31,1 +31,1 @@\n- * PPC64 CallArranger specialized for ABI v1.\n+ * PPC64 CallArranger specialized for AIX.\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/abi\/ppc64\/aix\/AixCallArranger.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-    private static final boolean IS_AIX = System.getProperty(\"os.name\").startsWith(\"AIX\");\n+    private static Linker LINKER = Linker.nativeLinker();\n@@ -43,1 +43,1 @@\n-    public static final ValueLayout.OfBoolean C_BOOL = ValueLayout.JAVA_BOOLEAN;\n+    public static final ValueLayout.OfBoolean C_BOOL = (ValueLayout.OfBoolean) LINKER.canonicalLayouts().get(\"bool\");\n@@ -47,1 +47,1 @@\n-    public static final ValueLayout.OfByte C_CHAR = ValueLayout.JAVA_BYTE;\n+    public static final ValueLayout.OfByte C_CHAR = (ValueLayout.OfByte) LINKER.canonicalLayouts().get(\"char\");\n@@ -51,1 +51,1 @@\n-    public static final ValueLayout.OfShort C_SHORT = ValueLayout.JAVA_SHORT;\n+    public static final ValueLayout.OfShort C_SHORT = (ValueLayout.OfShort) LINKER.canonicalLayouts().get(\"short\");\n@@ -55,2 +55,1 @@\n-    public static final ValueLayout.OfInt C_INT = ValueLayout.JAVA_INT;\n-\n+    public static final ValueLayout.OfInt C_INT = (ValueLayout.OfInt) LINKER.canonicalLayouts().get(\"int\");\n@@ -60,1 +59,1 @@\n-    public static final ValueLayout.OfLong C_LONG_LONG = ValueLayout.JAVA_LONG;\n+    public static final ValueLayout.OfLong C_LONG_LONG = (ValueLayout.OfLong) LINKER.canonicalLayouts().get(\"long\");\n@@ -64,1 +63,1 @@\n-    public static final ValueLayout.OfFloat C_FLOAT = ValueLayout.JAVA_FLOAT;\n+    public static final ValueLayout.OfFloat C_FLOAT = (ValueLayout.OfFloat) LINKER.canonicalLayouts().get(\"float\");\n@@ -68,1 +67,1 @@\n-    public static final ValueLayout.OfDouble C_DOUBLE = ValueLayout.JAVA_DOUBLE.withByteAlignment(IS_AIX ? 4 : 8);\n+    public static final ValueLayout.OfDouble C_DOUBLE = (ValueLayout.OfDouble) LINKER.canonicalLayouts().get(\"double\");\n@@ -76,2 +75,0 @@\n-    private static Linker LINKER = Linker.nativeLinker();\n-\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/lang\/foreign\/CLayouts.java","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+import java.lang.foreign.Linker;\n@@ -32,2 +33,0 @@\n-    private static final boolean IS_AIX = System.getProperty(\"os.name\").startsWith(\"AIX\");\n-\n@@ -43,0 +42,2 @@\n+    private static Linker LINKER = Linker.nativeLinker();\n+\n@@ -60,1 +61,1 @@\n-            return ValueLayout.JAVA_INT;\n+            return (ValueLayout.OfInt) LINKER.canonicalLayouts().get(\"int\");\n@@ -67,1 +68,1 @@\n-            return ValueLayout.JAVA_DOUBLE.withByteAlignment(IS_AIX ? 4 : 8);\n+            return (ValueLayout.OfDouble) LINKER.canonicalLayouts().get(\"double\");\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/lang\/foreign\/pointers\/NativeType.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"}]}