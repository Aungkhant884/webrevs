{"files":[{"patch":"@@ -82,2 +82,2 @@\n-        ByteArrayOutputStream bais = new ByteArrayOutputStream();\n-        PrintStream printStream = new PrintStream(bais);\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+        PrintStream printStream = new PrintStream(baos);\n@@ -85,6 +85,9 @@\n-        System.setErr(printStream);\n-        ToolProvider.getSystemJavaCompiler()\n-                .getTask(null, null, null, Arrays.asList(\"-XDrawDiagnostics\", \"-Xlint:serial\"), null, files)\n-                .call();\n-        tb.checkEqual(expected, Arrays.asList(bais.toString().split(lineSeparator)));\n-        System.setErr(prev);\n+        try {\n+            System.setErr(printStream);\n+            ToolProvider.getSystemJavaCompiler()\n+                    .getTask(null, null, null, Arrays.asList(\"-XDrawDiagnostics\", \"-Xlint:serial\"), null, files)\n+                    .call();\n+            tb.checkEqual(expected, Arrays.asList(baos.toString().split(lineSeparator)));\n+        } finally {\n+            System.setErr(prev);\n+        }\n","filename":"test\/langtools\/tools\/javac\/api\/8198317\/T8198317.java","additions":11,"deletions":8,"binary":false,"changes":19,"status":"modified"}]}