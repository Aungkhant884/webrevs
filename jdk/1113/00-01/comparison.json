{"files":[{"patch":"@@ -951,1 +951,1 @@\n-         ? _code->oop_at_phantom(i)\n+         ? _code->oop_at(i)\n","filename":"src\/hotspot\/share\/code\/dependencies.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,8 +109,9 @@\n-    Thread* thr = Thread::current();\n-    if (thr->is_Java_thread()) {\n-      return NULL;\n-    } else {\n-      \/\/ This path is sometimes (rarely) taken by GC threads.\n-      \/\/ See e.g.: https:\/\/bugs.openjdk.java.net\/browse\/JDK-8237874\n-      return obj;\n-    }\n+    return NULL;\n+  }\n+\n+  \/\/ Prevent resurrection of unreachable objects that are visited during\n+  \/\/ concurrent class-unloading.\n+  if (HasDecorator<decorators, AS_NO_KEEPALIVE>::value && obj != NULL &&\n+      _heap->has_forwarded_objects() &&\n+      !_heap->marking_context()->is_marked(obj)) {\n+    return obj;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahBarrierSet.inline.hpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}