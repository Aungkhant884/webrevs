{"files":[{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.view.DiagramViewModel;\n@@ -27,1 +28,0 @@\n-import javax.swing.Action;\n@@ -32,2 +32,0 @@\n-import org.openide.util.HelpCtx;\n-import org.openide.util.ImageUtilities;\n@@ -35,1 +33,0 @@\n-import org.openide.util.actions.CallableSystemAction;\n@@ -47,6 +44,1 @@\n-public final class CenterSelectedNodesAction extends CallableSystemAction {\n-\n-    public CenterSelectedNodesAction() {\n-        putValue(Action.SHORT_DESCRIPTION, getDescription());\n-        putValue(Action.SMALL_ICON , ImageUtilities.loadImageIcon(iconResource(), true));\n-    }\n+public final class CenterSelectedNodesAction extends ModelAwareAction {\n@@ -55,5 +47,2 @@\n-    public void performAction() {\n-        EditorTopComponent editor = EditorTopComponent.getActive();\n-        if (editor != null) {\n-            editor.centerSelectedNodes();\n-        }\n+    protected String iconResource() {\n+        return \"com\/sun\/hotspot\/igv\/view\/images\/centerSelectedNodes.svg\"; \/\/ NOI18N\n@@ -67,4 +56,0 @@\n-    private String getDescription() {\n-        return NbBundle.getMessage(NextDiagramAction.class, \"HINT_CenterSelectedNodesAction\");\n-    }\n-\n@@ -72,2 +57,2 @@\n-    public HelpCtx getHelpCtx() {\n-        return HelpCtx.DEFAULT_HELP;\n+    protected String getDescription() {\n+        return NbBundle.getMessage(NextDiagramAction.class, \"HINT_CenterSelectedNodesAction\");\n@@ -77,2 +62,5 @@\n-    protected boolean asynchronous() {\n-        return false;\n+    public void performAction(DiagramViewModel model) {\n+        EditorTopComponent editor = EditorTopComponent.findEditorForGraph(model.getGraph());\n+        if (editor != null) {\n+            editor.centerSelectedNodes();\n+        }\n@@ -82,2 +70,2 @@\n-    protected String iconResource() {\n-        return \"com\/sun\/hotspot\/igv\/view\/images\/centerSelectedNodes.svg\"; \/\/ NOI18N\n+    public boolean isEnabled(DiagramViewModel model) {\n+        return !model.getSelectedNodes().isEmpty();\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/CenterSelectedNodesAction.java","additions":13,"deletions":25,"binary":false,"changes":38,"status":"modified"}]}