{"files":[{"patch":"@@ -177,0 +177,1 @@\n+                provider.getChangedEvent().addListener((InputGraphProvider graphProvider) -> resultChanged(null));\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/java\/com\/sun\/hotspot\/igv\/bytecodes\/BytecodeViewTopComponent.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -143,0 +143,1 @@\n+                provider.getChangedEvent().addListener((InputGraphProvider graphProvider) -> resultChanged(null));\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/ControlFlowTopComponent.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -241,1 +241,0 @@\n-                System.out.println(\"updateGraphSelection provider\");\n@@ -245,1 +244,0 @@\n-                    System.out.println(\"updateGraphSelection graph\");\n@@ -259,2 +257,0 @@\n-                System.out.println(\"updateGraphSelection selection \" + selection);\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/OutlineTopComponent.java","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import com.sun.hotspot.igv.data.ChangedEvent;\n@@ -37,0 +38,2 @@\n+    ChangedEvent<InputGraphProvider> getChangedEvent();\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/services\/InputGraphProvider.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -63,1 +63,0 @@\n-    private ChangedEvent<DiagramViewModel> groupChangedEvent;\n@@ -99,3 +98,8 @@\n-        boolean groupChanged = (group == newModel.group);\n-        this.group = newModel.group;\n-        if (groupChanged) {\n+        if (group != newModel.group) {\n+            if (group != null) {\n+                group.getChangedEvent().removeListener(groupContentChangedListener);\n+            }\n+            this.group = newModel.group;\n+            if (group != null) {\n+                group.getChangedEvent().addListener(groupContentChangedListener);\n+            }\n@@ -126,4 +130,0 @@\n-        if (groupChanged) {\n-            groupChangedEvent.fire();\n-        }\n-\n@@ -216,0 +216,1 @@\n+        group.getChangedEvent().addListener(groupContentChangedListener);\n@@ -230,3 +231,0 @@\n-        groupChangedEvent = new ChangedEvent<>(this);\n-        groupChangedEvent.addListener(groupChangedListener);\n-        groupChangedEvent.fire();\n@@ -237,3 +235,0 @@\n-    private final ChangedListener<DiagramViewModel> groupChangedListener = new ChangedListener<DiagramViewModel>() {\n-\n-        private Group oldGroup;\n@@ -241,9 +236,0 @@\n-        @Override\n-        public void changed(DiagramViewModel source) {\n-            if (oldGroup != null) {\n-                oldGroup.getChangedEvent().removeListener(groupContentChangedListener);\n-            }\n-            group.getChangedEvent().addListener(groupContentChangedListener);\n-            oldGroup = group;\n-        }\n-    };\n@@ -514,0 +500,1 @@\n+        getChangedEvent().fire();\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":10,"deletions":23,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import com.sun.hotspot.igv.data.ChangedEvent;\n@@ -46,0 +47,8 @@\n+        this.changedEvent = new ChangedEvent<>(this);\n+    }\n+\n+    private ChangedEvent<InputGraphProvider> changedEvent;\n+\n+    @Override\n+    public ChangedEvent<InputGraphProvider> getChangedEvent() {\n+        return changedEvent;\n@@ -71,0 +80,2 @@\n+\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorInputGraphProvider.java","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -87,1 +87,0 @@\n-    private InstanceContent graphContent;\n@@ -211,2 +210,0 @@\n-        graphContent = new InstanceContent();\n-        this.associateLookup(new ProxyLookup(new Lookup[]{scene.getLookup(), new AbstractLookup(graphContent), new AbstractLookup(content)}));\n@@ -215,0 +212,1 @@\n+        content.add(graphProvider);\n@@ -216,0 +214,1 @@\n+        this.associateLookup(new ProxyLookup(new Lookup[]{scene.getLookup(), new AbstractLookup(content)}));\n@@ -483,0 +482,2 @@\n+    private EditorInputGraphProvider graphProvider = new EditorInputGraphProvider(EditorTopComponent.this);\n+\n@@ -488,3 +489,1 @@\n-            Collection<Object> list = new ArrayList<>();\n-            list.add(new EditorInputGraphProvider(EditorTopComponent.this));\n-            graphContent.set(list, null);\n+            graphProvider.getChangedEvent().fire();\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorTopComponent.java","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"}]}