{"files":[{"patch":"@@ -761,0 +761,1 @@\n+        Path absDir = null;\n@@ -762,1 +763,1 @@\n-            dir = dir.toAbsolutePath();\n+            absDir = dir.toAbsolutePath();\n@@ -768,1 +769,1 @@\n-        Path parent = dir.getParent();\n+        Path parent = absDir.getParent();\n@@ -781,1 +782,1 @@\n-                throw new FileSystemException(dir.toString(), null,\n+                throw new FileSystemException(absDir.toString(), null,\n@@ -790,1 +791,1 @@\n-        for (Path name: parent.relativize(dir)) {\n+        for (Path name: parent.relativize(absDir)) {\n","filename":"src\/java.base\/share\/classes\/java\/nio\/file\/Files.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,1 @@\n- * @bug 8032220 8293792\n+ * @bug 8032220 8293792 8307976\n@@ -123,0 +123,8 @@\n+\n+        \/\/ the returned path should not be absolute\n+        Path temp = Path.of(\".temp\/temp.abc\/temp.def\");\n+        Files.deleteIfExists(temp);\n+        Files.deleteIfExists(temp.getParent());\n+        temp.toFile().deleteOnExit();\n+        Path a = Files.createDirectories(temp);\n+        assertFalse(a.isAbsolute(), a + \" should not be absolute\");\n","filename":"test\/jdk\/java\/nio\/file\/Files\/CreateDirectories.java","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"}]}