{"files":[{"patch":"@@ -29,1 +29,1 @@\n- * @run  main\/othervm -Xcomp -XX:-PartialPeelLoop -XX:CompileCommand=compileonly,TestMaxLoopOptsCountReached::test TestMaxLoopOptsCountReached\n+ * @run main\/othervm -Xcomp -XX:-PartialPeelLoop -XX:CompileCommand=compileonly,TestMaxLoopOptsCountReached::test TestMaxLoopOptsCountReached\n@@ -34,87 +34,92 @@\n- public class TestMaxLoopOptsCountReached {\n-   static Long a = Long.valueOf(42);\n-   class A {\n-     static String e(long f, boolean b, String g, Level h, String s,\n-                     Object... i) {\n-       return \"message\" + s + new String() + g;\n-     }\n-   }\n-   public static void main(String[] args) {\n-     test(null, \"\", null, null);\n-     test(null, \"\", null, null);\n-   }\n-   static void test(Integer o, String g, String name, Object obj) {\n-     for (Level q : Level.values())\n-       for (Level r : Level.values())\n-         A.e(a.longValue(), q != Level.OFF, g, null, null);\n-     for (Level q : Level.values())\n-       for (Level r : Level.values())\n-         A.e(a.longValue(), q != Level.OFF, g, null, null);\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-     }\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-     }\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-       for (Level r : Level.values())\n-         ;\n-     }\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values())\n-         ;\n-       for (Level r : Level.values())\n-         ;\n-     }\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values()) {\n-         String msg = q + \"message\";\n-         String val =\n-             (q != Level.OFF || name != msg)\n-                 ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n-                 : null;\n-       }\n-       for (Level r : Level.values())\n-         ;\n-     }\n-     for (Level q : Level.values()) {\n-       for (Level r : Level.values())\n-         ;\n-       for (Level r : Level.values())\n-         ;\n-     }\n-   }\n- }\n+public class TestMaxLoopOptsCountReached {\n+\n+    static Long a = Long.valueOf(42);\n+\n+    class A {\n+\n+        static String e(long f, boolean b, String g, Level h, String s,\n+                        Object... i) {\n+            return \"message\" + s + new String() + g;\n+        }\n+    }\n+\n+    public static void main(String[] args) {\n+        test(null, \"\", null, null);\n+        test(null, \"\", null, null);\n+    }\n+\n+    static void test(Integer o, String g, String name, Object obj) {\n+        for (Level q : Level.values())\n+            for (Level r : Level.values())\n+                A.e(a.longValue(), q != Level.OFF, g, null, null);\n+        for (Level q : Level.values())\n+            for (Level r : Level.values())\n+                A.e(a.longValue(), q != Level.OFF, g, null, null);\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+        }\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+        }\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+            for (Level r : Level.values())\n+                ;\n+        }\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values())\n+                ;\n+            for (Level r : Level.values())\n+                ;\n+        }\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values()) {\n+                String msg = q + \"message\";\n+                String val =\n+                        (q != Level.OFF || name != msg)\n+                                ? A.e(a.longValue(), q != Level.OFF, g, null, null, \"foo\")\n+                                : null;\n+            }\n+            for (Level r : Level.values())\n+                ;\n+        }\n+        for (Level q : Level.values()) {\n+            for (Level r : Level.values())\n+                ;\n+            for (Level r : Level.values())\n+                ;\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/TestMaxLoopOptsCountReached.java","additions":93,"deletions":88,"binary":false,"changes":181,"status":"modified"}]}