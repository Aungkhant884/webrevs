{"files":[{"patch":"@@ -118,1 +118,1 @@\n-  return _malloc_total + _vm_total.reserved;\n+  return _malloc_total + _vm_total.committed;\n","filename":"src\/hotspot\/share\/services\/nmtUsage.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -150,0 +150,11 @@\n+    private static void verifyTotalDiffBetweenReservedAndCommitted(List<RecordedEvent> events) throws Exception {\n+        RecordedEvent firstTotal = events.stream()\n+                .filter(e -> e.getEventType().getName().equals(UsageTotalEvent))\n+                .findFirst().orElse(null);\n+\n+        \/\/ Verify that the first total event has more reserved than committed memory.\n+        long firstReserved = firstTotal.getLong(\"reserved\");\n+        long firstCommitted = firstTotal.getLong(\"committed\");\n+        assertGreaterThan(firstReserved, firstCommitted, \"initial reserved should be greater than initial committed\");\n+    }\n+\n@@ -170,0 +181,1 @@\n+                verifyTotalDiffBetweenReservedAndCommitted(events);\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestNativeMemoryUsageEvents.java","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"}]}