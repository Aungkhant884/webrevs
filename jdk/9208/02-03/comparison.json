{"files":[{"patch":"@@ -199,1 +199,1 @@\n-    private static final ConcurrentMap<WeekFieldsKey, WeekFields> CACHE = new ConcurrentHashMap<>(4, 0.75f, 2);\n+    private static final ConcurrentMap<String, WeekFields> CACHE = new ConcurrentHashMap<>(4, 0.75f, 2);\n@@ -329,5 +329,10 @@\n-        WeekFieldsKey key = new WeekFieldsKey(firstDayOfWeek, minimalDaysInFirstWeek);\n-        return CACHE.computeIfAbsent(key, k -> new WeekFields(k.firstDayOfWeek, k.minimalDaysInFirstWeek));\n-    }\n-\n-    private record WeekFieldsKey(DayOfWeek firstDayOfWeek, int minimalDaysInFirstWeek) {\n+        String key = firstDayOfWeek.toString() + minimalDaysInFirstWeek;\n+        WeekFields rules = CACHE.get(key);\n+        if (rules == null) {\n+            rules = new WeekFields(firstDayOfWeek, minimalDaysInFirstWeek);\n+            WeekFields prev = CACHE.putIfAbsent(key, rules);\n+            if (prev != null) {\n+                rules = prev;\n+            }\n+        }\n+        return rules;\n","filename":"src\/java.base\/share\/classes\/java\/time\/temporal\/WeekFields.java","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"}]}