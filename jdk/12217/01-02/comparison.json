{"files":[{"patch":"@@ -568,2 +568,3 @@\n-static int check_info_file(const char* fpath, const char* virt1,\n-                           const char* virt2) {\n+static bool check_info_file(const char* fpath,\n+                            const char* virt1, VirtualizationType vt1,\n+                            const char* virt2, VirtualizationType vt2) {\n@@ -577,0 +578,1 @@\n+      Abstract_VM_Version::_detected_virtualization = vt1;\n@@ -578,1 +580,1 @@\n-      return 1;\n+      return true;\n@@ -581,0 +583,1 @@\n+      Abstract_VM_Version::_detected_virtualization = vt2;\n@@ -582,1 +585,1 @@\n-      return 2;\n+      return true;\n@@ -586,1 +589,1 @@\n-  return 0;\n+  return false;\n@@ -594,3 +597,1 @@\n-  int resp = check_info_file(pname_file, \"KVM\", \"VMWare\");\n-  if (resp == 1) {\n-    Abstract_VM_Version::_detected_virtualization = KVM;\n+  if (check_info_file(pname_file, \"KVM\", KVM, \"VMWare\", VMWare)) {\n@@ -599,7 +600,1 @@\n-  if (resp == 2) {\n-    Abstract_VM_Version::_detected_virtualization = VMWare;\n-    return;\n-  }\n-  if (check_info_file(tname_file, \"Xen\", NULL) == 1) {\n-    Abstract_VM_Version::_detected_virtualization = XenHVM;\n-  }\n+  check_info_file(tname_file, \"Xen\", XenHVM, NULL, NoDetectedVirtualization);\n","filename":"src\/hotspot\/cpu\/aarch64\/vm_version_aarch64.cpp","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -74,0 +74,2 @@\n+ public:\n+\n@@ -76,1 +78,0 @@\n- public:\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.hpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}