[{"commit":{"message":"8282926: AArch64: Optimize out WHILELO with PTRUE\n\nThis patch uses PTRUE instruction instead of WHILELO instruction to\ncreate vector masks for certain length. It would be more efficient than\nWHILELO instruction according to the software optimization guide of\nNeoverse N2[1], Neoverse V1[2], and A64FX[3].\n\nThe final code changes as shown below:\n\nBefore:\n\n    0x0000ffff6d4747b4:   orr     x8, xzr, #0x10\n    0x0000ffff6d4747b8:   whilelo p0.b, xzr, x8\n\nAfter:\n\n    0x0000ffff89476aec:   ptrue   p0.b, vl16\n\nThe micro benchmark improves 15% ~ 20% in my SVE test system.\n\n[TEST]\njdk\/incubator\/vector, hotspot\/compiler\/vectorapi passed on my SVE test\nmachine.\n\n[1] https:\/\/developer.arm.com\/documentation\/PJDOC-466751330-18256\/0001\n[2] https:\/\/developer.arm.com\/documentation\/pjdoc466751330-9685\/latest\/\n[3] https:\/\/github.com\/fujitsu\/A64FX\/blob\/master\/doc\/A64FX_Microarchitecture_Manual_en_1.6.pdf\n\nChange-Id: I0626003c13d9cf5245b2d4c44867cbadf6947f9c"},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_sve.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_sve_ad.m4"},{"filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.hpp"}],"sha":"841b7040fc719bedc9ffd9d27d7d5a6bcec87ddf"}]