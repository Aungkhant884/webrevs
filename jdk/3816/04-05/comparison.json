{"files":[{"patch":"@@ -71,1 +71,1 @@\n-    static final int EPOLLONESHOT   = (1 << 31);\n+    static final int EPOLLONESHOT = (1 << 31);\n@@ -77,1 +77,4 @@\n-        return UNSAFE.allocateMemory(count * SIZEOF_EPOLLEVENT);\n+        long size = (long) count * SIZEOF_EPOLLEVENT;\n+        long base = UNSAFE.allocateMemory(size);\n+        UNSAFE.setMemory(base, size, (byte) 0);\n+        return base;\n@@ -101,0 +104,10 @@\n+    \/**\n+     * Return event->data.socket as an int file descriptor\n+     *\/\n+    static int getDescriptor(long eventAddress) {\n+        long s = getSocket(eventAddress);\n+        int fd = (int) s;\n+        assert ((long) fd) == s;\n+        return fd;\n+    }\n+\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/ch\/WEPoll.java","additions":15,"deletions":2,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -169,1 +169,1 @@\n-            int fd = (int) WEPoll.getSocket(event);\n+            int fd = WEPoll.getDescriptor(event);\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/ch\/WEPollSelectorImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}