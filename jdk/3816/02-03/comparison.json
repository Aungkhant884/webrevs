{"files":[{"patch":"@@ -56,1 +56,1 @@\n-    private static final int OFFSETOF_FD         = dataOffset();\n+    private static final int OFFSETOF_SOCK       = dataOffset();\n@@ -94,7 +94,0 @@\n-    \/**\n-     * Returns event->data.fd\n-     *\/\n-    static int getDescriptor(long eventAddress) {\n-        return UNSAFE.getInt(eventAddress + OFFSETOF_FD);\n-    }\n-\n@@ -105,1 +98,1 @@\n-        return UNSAFE.getLong(eventAddress + OFFSETOF_FD);\n+        return UNSAFE.getLong(eventAddress + OFFSETOF_SOCK);\n","filename":"src\/java.base\/windows\/classes\/sun\/nio\/ch\/WEPoll.java","additions":2,"deletions":9,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -70,3 +70,3 @@\n-        ServerSocketChannel listener = ServerSocketChannel.open();\n-        listener.bind(new InetSocketAddress(0));\n-        SocketAddress remote = listener.getLocalAddress();\n+        try (ServerSocketChannel listener = ServerSocketChannel.open()) {\n+            listener.bind(new InetSocketAddress(0));\n+            SocketAddress remote = listener.getLocalAddress();\n@@ -74,5 +74,5 @@\n-        for (int i = 0; i < nchannels; i++) {\n-            SocketChannel sc = SocketChannel.open(remote);\n-            sc.configureBlocking(false);\n-            sc.register(sel, SelectionKey.OP_READ);\n-            clients.add(sc);\n+            for (int i = 0; i < nchannels; i++) {\n+                SocketChannel sc = SocketChannel.open(remote);\n+                sc.configureBlocking(false);\n+                sc.register(sel, SelectionKey.OP_READ);\n+                clients.add(sc);\n@@ -80,3 +80,3 @@\n-            SocketChannel peer = listener.accept();\n-            peers.add(peer);\n-        }\n+                SocketChannel peer = listener.accept();\n+                peers.add(peer);\n+            }\n@@ -84,3 +84,4 @@\n-        for (int i = nready - 1; i >= 0; i--) {\n-            SocketChannel peer = peers.get(i);\n-            peer.write(ByteBuffer.allocate(1));\n+            for (int i = nready - 1; i >= 0; i--) {\n+                SocketChannel peer = peers.get(i);\n+                peer.write(ByteBuffer.allocate(1));\n+            }\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/nio\/channels\/SelectOne.java","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"}]}