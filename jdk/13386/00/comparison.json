{"files":[{"patch":"@@ -431,0 +431,4 @@\n+                                                                            \\\n+  product(uint64_t, AbortVMOnSafepointTimeoutDelay, 0, DIAGNOSTIC,          \\\n+          \"Delay in milliseconds for option AbortVMOnSafepointTimeout\")     \\\n+          range(0, max_jlong)                                               \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -70,0 +70,1 @@\n+#include \"services\/management.hpp\"\n@@ -787,1 +788,1 @@\n-  if (AbortVMOnSafepointTimeout) {\n+  if (AbortVMOnSafepointTimeout && Management::ticks_to_ms(os::elapsed_counter()) > (jlong)AbortVMOnSafepointTimeoutDelay) {\n","filename":"src\/hotspot\/share\/runtime\/safepoint.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}