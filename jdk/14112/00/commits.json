[{"commit":{"message":"8308339: AArch64: Remove extra `UseSVE` Predicate in ad file\n\nIf a match rule belongs to one of the following situations, we\ncan remove extra `UseSVE` Predicate:\n\n1. If any src operand type is `pReg`, which is SVE specific, we\ncan remove `Predicate(UseSVE > 0)`. But if only dst operand\ntype is `pReg`, we can't remove `Predicate(UseSVE > 0)`, since\nthe DFA of matcher selects by src operands and instruction cost,\nnot involving dst operand.\n\n2. If matcher can use src operand type, i.e., `pReg` or `vReg`,\nto distinguish sve from neon, we can remove\n`Predicate(UseSVE == 0)` for rules on neon.\n\n3. When the condition in `Predicate()` is false on current\nplatform, it's definitely impossible to generate the\ncorresponding node pattern from C2. Then we can remove\n`Predicate()`, like removing `predicate(UseSVE > 0)` for all\n`PopulateIndex` rules.\n\nAfter the patch, the code size of libjvm.so decreased from 25.42M to\n25.39M, by 25.3K.\n\nTesting:\n  No new failures found on tier 1 - 3.\n  No significant performance regression compared with master."},"files":[{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad"},{"filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4"}],"sha":"2b805d3cdbdd86f463bba09bc962f739a3176146"}]