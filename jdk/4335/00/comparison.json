{"files":[{"patch":"@@ -1585,1 +1585,1 @@\n-        __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_trunc()));\n+        __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_trunc()));\n@@ -1588,1 +1588,1 @@\n-        __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+        __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n","filename":"src\/hotspot\/cpu\/x86\/c1_LIRAssembler_x86.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -447,1 +447,1 @@\n-      __ cmpw(Address(rsp, fpu_state_off * VMRegImpl::stack_slot_size), StubRoutines::fpu_cntrl_wrd_std());\n+      __ cmpw(Address(rsp, fpu_state_off * VMRegImpl::stack_slot_size), StubRoutines::x86::fpu_cntrl_wrd_std());\n@@ -457,1 +457,1 @@\n-      __ movw(Address(rsp, fpu_state_off * VMRegImpl::stack_slot_size), StubRoutines::fpu_cntrl_wrd_std());\n+      __ movw(Address(rsp, fpu_state_off * VMRegImpl::stack_slot_size), StubRoutines::x86::fpu_cntrl_wrd_std());\n","filename":"src\/hotspot\/cpu\/x86\/c1_Runtime1_x86.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4583,1 +4583,1 @@\n-  assert((fs->_control_word._value & 0xffff) == StubRoutines::_fpu_cntrl_wrd_std,\n+  assert((fs->_control_word._value & 0xffff) == StubRoutines::x86::fpu_cntrl_wrd_std(),\n@@ -4649,1 +4649,1 @@\n-      ldmxcsr(ExternalAddress(StubRoutines::addr_mxcsr_std()));\n+      ldmxcsr(ExternalAddress(StubRoutines::x86::addr_mxcsr_std()));\n@@ -5170,1 +5170,1 @@\n-    fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_24()));\n+    fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_24()));\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-    __ cmpw(Address(rsp, 0), StubRoutines::fpu_cntrl_wrd_std());\n+    __ cmpw(Address(rsp, 0), StubRoutines::x86::fpu_cntrl_wrd_std());\n@@ -188,1 +188,1 @@\n-    __ movw(Address(rsp, 0), StubRoutines::fpu_cntrl_wrd_std());\n+    __ movw(Address(rsp, 0), StubRoutines::x86::fpu_cntrl_wrd_std());\n@@ -195,1 +195,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -1933,1 +1933,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -2412,1 +2412,1 @@\n-  __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+  __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n","filename":"src\/hotspot\/cpu\/x86\/sharedRuntime_x86_32.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -165,1 +165,1 @@\n-      ExternalAddress mxcsr_std(StubRoutines::addr_mxcsr_std());\n+      ExternalAddress mxcsr_std(StubRoutines::x86::addr_mxcsr_std());\n@@ -173,1 +173,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -449,1 +449,1 @@\n-      ExternalAddress mxcsr_std(StubRoutines::addr_mxcsr_std());\n+      ExternalAddress mxcsr_std(StubRoutines::x86::addr_mxcsr_std());\n@@ -493,1 +493,1 @@\n-      ExternalAddress fpu_std(StubRoutines::addr_fpu_cntrl_wrd_std());\n+      ExternalAddress fpu_std(StubRoutines::x86::addr_fpu_cntrl_wrd_std());\n@@ -3860,1 +3860,1 @@\n-    StubRoutines::_fpu_cntrl_wrd_std   = 0x027F;\n+    StubRoutines::x86::_fpu_cntrl_wrd_std   = 0x027F;\n@@ -3862,1 +3862,1 @@\n-    StubRoutines::_fpu_cntrl_wrd_trunc = 0x0D7F;\n+    StubRoutines::x86::_fpu_cntrl_wrd_trunc = 0x0D7F;\n@@ -3864,1 +3864,1 @@\n-    StubRoutines::_fpu_cntrl_wrd_24    = 0x007F;\n+    StubRoutines::x86::_fpu_cntrl_wrd_24    = 0x007F;\n@@ -3866,1 +3866,1 @@\n-    StubRoutines::_mxcsr_std           = 0x1F80;\n+    StubRoutines::x86::_mxcsr_std           = 0x1F80;\n@@ -3899,6 +3899,4 @@\n-    StubRoutines::x86::_verify_mxcsr_entry                 = generate_verify_mxcsr();\n-    StubRoutines::x86::_verify_fpu_cntrl_wrd_entry         = generate_verify_fpu_cntrl_wrd();\n-    StubRoutines::_d2i_wrapper                              = generate_d2i_wrapper(T_INT,\n-                                                                                   CAST_FROM_FN_PTR(address, SharedRuntime::d2i));\n-    StubRoutines::_d2l_wrapper                              = generate_d2i_wrapper(T_LONG,\n-                                                                                   CAST_FROM_FN_PTR(address, SharedRuntime::d2l));\n+    StubRoutines::x86::_verify_mxcsr_entry         = generate_verify_mxcsr();\n+    StubRoutines::x86::_verify_fpu_cntrl_wrd_entry = generate_verify_fpu_cntrl_wrd();\n+    StubRoutines::x86::_d2i_wrapper                = generate_d2i_wrapper(T_INT,  CAST_FROM_FN_PTR(address, SharedRuntime::d2i));\n+    StubRoutines::x86::_d2l_wrapper                = generate_d2i_wrapper(T_LONG, CAST_FROM_FN_PTR(address, SharedRuntime::d2l));\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_32.cpp","additions":12,"deletions":14,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -292,1 +292,1 @@\n-      ExternalAddress mxcsr_std(StubRoutines::addr_mxcsr_std());\n+      ExternalAddress mxcsr_std(StubRoutines::x86::addr_mxcsr_std());\n@@ -605,1 +605,1 @@\n-      ExternalAddress mxcsr_std(StubRoutines::addr_mxcsr_std());\n+      ExternalAddress mxcsr_std(StubRoutines::x86::addr_mxcsr_std());\n@@ -6716,6 +6716,0 @@\n-    \/\/ Round to nearest, 53-bit mode, exceptions masked\n-    StubRoutines::_fpu_cntrl_wrd_std   = 0x027F;\n-    \/\/ Round to zero, 53-bit mode, exception mased\n-    StubRoutines::_fpu_cntrl_wrd_trunc = 0x0D7F;\n-    \/\/ Round to nearest, 24-bit mode, exceptions masked\n-    StubRoutines::_fpu_cntrl_wrd_24    = 0x007F;\n@@ -6723,1 +6717,1 @@\n-    StubRoutines::_mxcsr_std           = 0x1F80;\n+    StubRoutines::x86::_mxcsr_std = 0x1F80;\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -99,0 +99,6 @@\n+  static address _d2i_wrapper;\n+  static address _d2l_wrapper;\n+\n+  static jint    _fpu_cntrl_wrd_std;\n+  static jint    _fpu_cntrl_wrd_24;\n+  static jint    _fpu_cntrl_wrd_trunc;\n@@ -105,1 +111,5 @@\n-\n+  static address d2i_wrapper()                { return _d2i_wrapper; }\n+  static address d2l_wrapper()                { return _d2l_wrapper; }\n+  static address addr_fpu_cntrl_wrd_std()     { return (address)&_fpu_cntrl_wrd_std;   }\n+  static address addr_fpu_cntrl_wrd_24()      { return (address)&_fpu_cntrl_wrd_24;    }\n+  static address addr_fpu_cntrl_wrd_trunc()   { return (address)&_fpu_cntrl_wrd_trunc; }\n@@ -109,0 +119,1 @@\n+  static jint    fpu_cntrl_wrd_std()          { return _fpu_cntrl_wrd_std; }\n@@ -112,0 +123,2 @@\n+  static jint    _mxcsr_std;\n+\n@@ -228,0 +241,1 @@\n+  static address addr_mxcsr_std()        { return (address)&_mxcsr_std; }\n","filename":"src\/hotspot\/cpu\/x86\/stubRoutines_x86.hpp","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -37,0 +37,9 @@\n+address StubRoutines::x86::_d2i_wrapper = NULL;\n+address StubRoutines::x86::_d2l_wrapper = NULL;\n+\n+jint StubRoutines::x86::_fpu_cntrl_wrd_std   = 0;\n+jint StubRoutines::x86::_fpu_cntrl_wrd_24    = 0;\n+jint StubRoutines::x86::_fpu_cntrl_wrd_trunc = 0;\n+\n+jint StubRoutines::x86::_mxcsr_std = 0;\n+\n","filename":"src\/hotspot\/cpu\/x86\/stubRoutines_x86_32.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -34,0 +34,2 @@\n+jint    StubRoutines::x86::_mxcsr_std = 0;\n+\n@@ -44,1 +46,1 @@\n-address StubRoutines::x86::_method_entry_barrier = NULL;\n+address StubRoutines::x86::_method_entry_barrier = NULL;\n\\ No newline at end of file\n","filename":"src\/hotspot\/cpu\/x86\/stubRoutines_x86_64.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1053,1 +1053,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n","filename":"src\/hotspot\/cpu\/x86\/templateInterpreterGenerator_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -486,1 +486,1 @@\n-    ExternalAddress mxcsr_std(StubRoutines::addr_mxcsr_std());\n+    ExternalAddress mxcsr_std(StubRoutines::x86::addr_mxcsr_std());\n","filename":"src\/hotspot\/cpu\/x86\/universalUpcallHandler_x86_64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -691,1 +691,1 @@\n-    _masm.fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+    _masm.fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -1771,1 +1771,1 @@\n-      __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+      __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -1785,1 +1785,1 @@\n-      masm.fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_24()));\n+      masm.fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_24()));\n@@ -2881,1 +2881,1 @@\n-    emit_d32(cbuf,(int)StubRoutines::addr_fpu_cntrl_wrd_trunc());\n+    emit_d32(cbuf,(int)StubRoutines::x86::addr_fpu_cntrl_wrd_trunc());\n@@ -2895,2 +2895,2 @@\n-        ? (int)StubRoutines::addr_fpu_cntrl_wrd_24()\n-        : (int)StubRoutines::addr_fpu_cntrl_wrd_std());\n+        ? (int)StubRoutines::x86::addr_fpu_cntrl_wrd_24()\n+        : (int)StubRoutines::x86::addr_fpu_cntrl_wrd_std());\n@@ -2910,1 +2910,1 @@\n-    emit_d32_reloc(cbuf, (StubRoutines::d2i_wrapper() - cbuf.insts_end()) - 4, runtime_call_Relocation::spec(), RELOC_IMM32 );\n+    emit_d32_reloc(cbuf, (StubRoutines::x86::d2i_wrapper() - cbuf.insts_end()) - 4, runtime_call_Relocation::spec(), RELOC_IMM32 );\n@@ -2917,1 +2917,1 @@\n-    emit_d32(cbuf,(int)StubRoutines::addr_fpu_cntrl_wrd_trunc());\n+    emit_d32(cbuf,(int)StubRoutines::x86::addr_fpu_cntrl_wrd_trunc());\n@@ -2931,2 +2931,2 @@\n-        ? (int)StubRoutines::addr_fpu_cntrl_wrd_24()\n-        : (int)StubRoutines::addr_fpu_cntrl_wrd_std());\n+        ? (int)StubRoutines::x86::addr_fpu_cntrl_wrd_24()\n+        : (int)StubRoutines::x86::addr_fpu_cntrl_wrd_std());\n@@ -2952,1 +2952,1 @@\n-    emit_d32_reloc(cbuf, (StubRoutines::d2l_wrapper() - cbuf.insts_end()) - 4, runtime_call_Relocation::spec(), RELOC_IMM32 );\n+    emit_d32_reloc(cbuf, (StubRoutines::x86::d2l_wrapper() - cbuf.insts_end()) - 4, runtime_call_Relocation::spec(), RELOC_IMM32 );\n@@ -10783,1 +10783,1 @@\n-    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::d2i_wrapper())));\n+    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::x86::d2i_wrapper())));\n@@ -10839,1 +10839,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_trunc()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_trunc()));\n@@ -10843,1 +10843,1 @@\n-      __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_24()));\n+      __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_24()));\n@@ -10845,1 +10845,1 @@\n-      __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+      __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -10858,1 +10858,1 @@\n-    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::d2l_wrapper())));\n+    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::x86::d2l_wrapper())));\n@@ -10913,1 +10913,1 @@\n-    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::d2i_wrapper())));\n+    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::x86::d2i_wrapper())));\n@@ -10970,1 +10970,1 @@\n-    __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_trunc()));\n+    __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_trunc()));\n@@ -10974,1 +10974,1 @@\n-      __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_24()));\n+      __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_24()));\n@@ -10976,1 +10976,1 @@\n-      __ fldcw(ExternalAddress(StubRoutines::addr_fpu_cntrl_wrd_std()));\n+      __ fldcw(ExternalAddress(StubRoutines::x86::addr_fpu_cntrl_wrd_std()));\n@@ -10989,1 +10989,1 @@\n-    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::d2l_wrapper())));\n+    __ call(RuntimeAddress(CAST_FROM_FN_PTR(address, StubRoutines::x86::d2l_wrapper())));\n","filename":"src\/hotspot\/cpu\/x86\/x86_32.ad","additions":21,"deletions":21,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -2401,1 +2401,1 @@\n-  \/\/ we can't use StubRoutines::addr_mxcsr_std()\n+  \/\/ we can't use StubRoutines::x86::addr_mxcsr_std()\n","filename":"src\/hotspot\/os\/windows\/os_windows.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -618,1 +618,1 @@\n-  address fpu_cntrl = StubRoutines::addr_fpu_cntrl_wrd_std();\n+  address fpu_cntrl = StubRoutines::x86::addr_fpu_cntrl_wrd_std();\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -75,7 +75,0 @@\n-address StubRoutines::_d2i_wrapper                              = NULL;\n-address StubRoutines::_d2l_wrapper                              = NULL;\n-\n-jint    StubRoutines::_fpu_cntrl_wrd_std                        = 0;\n-jint    StubRoutines::_fpu_cntrl_wrd_24                         = 0;\n-jint    StubRoutines::_fpu_cntrl_wrd_trunc                      = 0;\n-jint    StubRoutines::_mxcsr_std                                = 0;\n","filename":"src\/hotspot\/share\/runtime\/stubRoutines.cpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -153,7 +153,0 @@\n-  static address _d2i_wrapper;\n-  static address _d2l_wrapper;\n-\n-  static jint    _fpu_cntrl_wrd_std;\n-  static jint    _fpu_cntrl_wrd_24;\n-  static jint    _fpu_cntrl_wrd_trunc;\n-  static jint    _mxcsr_std;\n@@ -323,9 +316,0 @@\n-  static address d2i_wrapper()                             { return _d2i_wrapper; }\n-  static address d2l_wrapper()                             { return _d2l_wrapper; }\n-  static jint    fpu_cntrl_wrd_std()                       { return _fpu_cntrl_wrd_std;   }\n-  static address addr_fpu_cntrl_wrd_std()                  { return (address)&_fpu_cntrl_wrd_std;   }\n-  static address addr_fpu_cntrl_wrd_24()                   { return (address)&_fpu_cntrl_wrd_24;   }\n-  static address addr_fpu_cntrl_wrd_trunc()                { return (address)&_fpu_cntrl_wrd_trunc; }\n-  static address addr_mxcsr_std()                          { return (address)&_mxcsr_std; }\n-\n-\n","filename":"src\/hotspot\/share\/runtime\/stubRoutines.hpp","additions":0,"deletions":16,"binary":false,"changes":16,"status":"modified"}]}