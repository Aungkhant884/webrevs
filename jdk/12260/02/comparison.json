{"files":[{"patch":"@@ -298,1 +298,4 @@\n-    private String extractOsInfo(String s) {\n+    private String extractInfo(String s) {\n+        if (s == null) {\n+            return null;\n+        }\n@@ -301,0 +304,1 @@\n+        s = s.replace(' ', '_');\n@@ -326,2 +330,2 @@\n-                    osName = props.getProperty(\"DISTRIB_ID\");\n-                    osVersion =  props.getProperty(\"DISTRIB_RELEASE\");\n+                    osName = extractInfo(props.getProperty(\"DISTRIB_ID\"));\n+                    osVersion = extractInfo(props.getProperty(\"DISTRIB_RELEASE\"));\n@@ -345,5 +349,7 @@\n-                osName = props.getProperty(\"NAME\");\n-                osVersion = props.getProperty(\"VERSION_ID\");\n-                osName = extractOsInfo(osName);\n-                if (osName.equals(\"SLES\")) osName = \"SuSE\";\n-                osVersion = extractOsInfo(osVersion);\n+                osName = extractInfo(props.getProperty(\"NAME\"));\n+                osVersion = extractInfo(props.getProperty(\"VERSION_ID\"));\n+                if (osName.equals(\"SLES\")) {\n+                    osName = \"SuSE\";\n+                } else {\n+                    osName = extractInfo(props.getProperty(\"ID\"));\n+                }\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/FcFontConfiguration.java","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -114,2 +114,2 @@\n-                    osName = props.getProperty(\"DISTRIB_ID\");\n-                    osVersion =  props.getProperty(\"DISTRIB_RELEASE\");\n+                    osName = extractInfo(props.getProperty(\"DISTRIB_ID\"));\n+                    osVersion = extractInfo(props.getProperty(\"DISTRIB_RELEASE\"));\n@@ -121,5 +121,7 @@\n-                    osName = props.getProperty(\"NAME\");\n-                    osVersion = props.getProperty(\"VERSION_ID\");\n-                    osName = extractOsInfo(osName);\n-                    if (osName.equals(\"SLES\")) osName = \"SuSE\";\n-                    osVersion = extractOsInfo(osVersion);\n+                    osName = extractInfo(props.getProperty(\"NAME\"));\n+                    osVersion = extractInfo(props.getProperty(\"VERSION_ID\"));\n+                    if (osName.equals(\"SLES\")) {\n+                        osName = \"SuSE\";\n+                    } else {\n+                        osName = extractInfo(props.getProperty(\"ID\"));\n+                    }\n@@ -146,1 +148,4 @@\n-    private String extractOsInfo(String s) {\n+    private String extractInfo(String s) {\n+        if (s == null) {\n+            return null;\n+        }\n@@ -149,0 +154,1 @@\n+        s = s.replace(' ', '_');\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/MFontConfiguration.java","additions":14,"deletions":8,"binary":false,"changes":22,"status":"modified"}]}