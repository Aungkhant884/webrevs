{"files":[{"patch":"@@ -372,2 +372,5 @@\n-  log_develop_trace(gc, scavenge)(\"{promotion-failure %s \" PTR_FORMAT \" (%d)}\", obj->klass()->internal_name(), p2i(obj), obj->size());\n-\n+  if (log_develop_is_enabled(Trace, gc, scavenge)) {\n+    ResourceMark rm; \/\/ required by internal_name()\n+    log_develop_trace(gc, scavenge)(\"{promotion-failure %s \" PTR_FORMAT \" (%d)}\",\n+            obj->klass()->internal_name(), p2i(obj), obj->size());\n+  }\n","filename":"src\/hotspot\/share\/gc\/parallel\/psPromotionManager.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -270,5 +270,7 @@\n-    log_develop_trace(gc, scavenge)(\"{%s %s \" PTR_FORMAT \" -> \" PTR_FORMAT \" (%d)}\",\n-                                    new_obj_is_tenured ? \"copying\" : \"tenuring\",\n-                                    new_obj->klass()->internal_name(),\n-                                    p2i((void *)o), p2i((void *)new_obj), new_obj->size());\n-\n+    if (log_develop_is_enabled(Trace, gc, scavenge)) {\n+      ResourceMark rm; \/\/ required by internal_name()\n+      log_develop_trace(gc, scavenge)(\"{%s %s \" PTR_FORMAT \" -> \" PTR_FORMAT \" (%d)}\",\n+                                      new_obj_is_tenured ? \"copying\" : \"tenuring\",\n+                                      new_obj->klass()->internal_name(),\n+                                      p2i((void*) o), p2i((void*) new_obj), new_obj->size());\n+    }\n","filename":"src\/hotspot\/share\/gc\/parallel\/psPromotionManager.inline.hpp","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -472,1 +472,0 @@\n-    ResourceMark rm;\n@@ -498,1 +497,0 @@\n-    ResourceMark rm;\n@@ -517,1 +515,0 @@\n-    ResourceMark rm;\n","filename":"src\/hotspot\/share\/gc\/shared\/referenceProcessor.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}