{"files":[{"patch":"@@ -801,5 +801,0 @@\n-  \/\/ Safepoint on backedge not supported\n-  if (x->in(LoopNode::LoopBackControl)->Opcode() == Op_SafePoint) {\n-    return false;\n-  }\n-\n@@ -1070,0 +1065,3 @@\n+\n+  \/\/ Safepoint on backedge not supported\n+  assert(x->in(LoopNode::LoopBackControl)->Opcode() != Op_SafePoint, \"no safepoint on backedge\");\n@@ -1243,3 +1241,3 @@\n-  if (iv_bt == T_INT &&\n-      x->in(LoopNode::LoopBackControl)->Opcode() == Op_SafePoint &&\n-      LoopStripMiningIter != 0) {\n+  if (x->in(LoopNode::LoopBackControl)->Opcode() == Op_SafePoint &&\n+      (iv_bt == T_INT && LoopStripMiningIter != 0) ||\n+      iv_bt == T_LONG) {\n@@ -1629,3 +1627,0 @@\n-  \/\/ Prevent a safepoint on the backedge from becoming dead\n-  Node* hook = new Node(1);\n-  hook->init_req(0, x->in(LoopNode::LoopBackControl));\n@@ -1633,1 +1628,0 @@\n-  hook->destruct(&_igvn);\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"}]}