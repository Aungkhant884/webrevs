{"files":[{"patch":"@@ -472,1 +472,1 @@\n-        model.getGraphChangedEvent().addListener(m -> addUndo());\n+        model.getGraphChangedEvent().addListener(m -> graphChanged());\n@@ -481,1 +481,1 @@\n-                    centerSelectedFigures();\n+                    centerRootNode();\n@@ -635,0 +635,25 @@\n+    private void graphChanged() {\n+        update();\n+        centerRootNode();\n+        addUndo();\n+    }\n+\n+    private void centerRootNode() {\n+        if (getModel().getSelectedNodes().isEmpty()) {\n+            Figure rootFigure = getModel().getDiagram().getRootFigure();\n+            if (rootFigure != null) {\n+                int rootId = rootFigure.getInputNode().getId();\n+                if (!getModel().getHiddenNodes().contains(rootId)) {\n+                    FigureWidget rootWidget = getWidget(rootFigure);\n+                    if (rootWidget != null) {\n+                        Rectangle bounds = rootWidget.getBounds();\n+                        if (bounds != null) {\n+                            Point location = rootWidget.getLocation();\n+                            centerRectangle(new Rectangle(location.x, location.y, bounds.width, bounds.height));\n+                        }\n+                    }\n+                }\n+            }\n+        }\n+    }\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramScene.java","additions":27,"deletions":2,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -410,4 +410,0 @@\n-        if (selectedNodes.isEmpty()) {\n-            selectRootNode();\n-        }\n-        diagramChangedEvent.fire();\n@@ -419,10 +415,0 @@\n-    private void selectRootNode() {\n-        Figure figure = diagram.getRootFigure();\n-        if (figure != null) {\n-            int rootId = figure.getInputNode().getId();\n-            if (!hiddenNodes.contains(rootId)) {\n-                setSelectedNodes(Collections.singleton(rootId));\n-            }\n-        }\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":0,"deletions":14,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -151,1 +151,1 @@\n-        diagramViewModel.getDiagramChangedEvent().addListener(model -> {\n+        diagramViewModel.getGraphChangedEvent().addListener(model -> {\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorTopComponent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}