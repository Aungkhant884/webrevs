{"files":[{"patch":"@@ -24,0 +24,1 @@\n+import javax.xml.XMLConstants;\n@@ -42,20 +43,18 @@\n-            try {\n-                XMLStreamReader xmlReader = XMLInputFactory.newInstance()\n-                                                           .createXMLStreamReader(r);\n-                String testSuite = null;\n-                String testCase = null;\n-                while (xmlReader.hasNext()) {\n-                    switch (xmlReader.next()) {\n-                        case XMLStreamConstants.START_ELEMENT:\n-                            switch (xmlReader.getLocalName()) {\n-                                case \"testsuite\":\n-                                    testSuite = xmlReader.getAttributeValue(\"\", \"name\");\n-                                    break;\n-                                case \"testcase\":\n-                                    testCase = xmlReader.getAttributeValue(\"\", \"name\");\n-                                    break;\n-                                case \"failure\":\n-                                    failedTests.add(testSuite + \"::\" + testCase);\n-                                default:\n-                                    \/\/ ignore\n-                            }\n+            XMLInputFactory factory = XMLInputFactory.newInstance();\n+            factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, \"\");\n+            factory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, \"\");\n+            XMLStreamReader xmlReader = factory.createXMLStreamReader(r);\n+            String testSuite = null;\n+            String testCase = null;\n+            while (xmlReader.hasNext()) {\n+                int code = xmlReader.next();\n+                if (code == XMLStreamConstants.START_ELEMENT) {\n+                    switch (xmlReader.getLocalName()) {\n+                        case \"testsuite\":\n+                            testSuite = xmlReader.getAttributeValue(\"\", \"name\");\n+                            break;\n+                        case \"testcase\":\n+                            testCase = xmlReader.getAttributeValue(\"\", \"name\");\n+                            break;\n+                        case \"failure\":\n+                            failedTests.add(testSuite + \"::\" + testCase);\n@@ -67,2 +66,0 @@\n-            } catch (XMLStreamException e) {\n-                throw new IllegalArgumentException(\"can't open parse xml \" + file, e);\n@@ -70,0 +67,2 @@\n+        } catch (XMLStreamException e) {\n+            throw new IllegalArgumentException(\"can't open parse xml \" + file, e);\n","filename":"test\/hotspot\/jtreg\/gtest\/GTestResultParser.java","additions":21,"deletions":22,"binary":false,"changes":43,"status":"modified"}]}