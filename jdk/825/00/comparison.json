{"files":[{"patch":"@@ -37,3 +37,7 @@\n-  \/\/ FIXME: Share code with ciMethodHandle::get_vmtarget\n-  Metadata* vmtarget = java_lang_invoke_MemberName::vmtarget(get_oop());\n-  if (vmtarget->is_method())\n+  return get_vmtarget_method(get_oop());\n+}\n+\n+ciMethod* ciMemberName::get_vmtarget_method(oop mname) {\n+  ASSERT_IN_VM;\n+  Metadata* vmtarget = java_lang_invoke_MemberName::vmtarget(mname);\n+  if (vmtarget->is_method()) {\n@@ -41,3 +45,4 @@\n-  \/\/ FIXME: What if the vmtarget is a Klass?\n-  assert(false, \"\");\n-  return NULL;\n+  } else {\n+    fatal(\"vmtarget should be a method\");\n+    return NULL; \/\/ silence compiler warnings\n+  }\n","filename":"src\/hotspot\/share\/ci\/ciMemberName.cpp","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -42,0 +42,2 @@\n+\n+  static ciMethod* get_vmtarget_method(oop mname);\n","filename":"src\/hotspot\/share\/ci\/ciMemberName.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"ci\/ciMemberName.hpp\"\n@@ -39,7 +40,1 @@\n-  \/\/ FIXME: Share code with ciMemberName::get_vmtarget\n-  Metadata* vmtarget = java_lang_invoke_MemberName::vmtarget(vmentry_oop);\n-  if (vmtarget->is_method())\n-    return CURRENT_ENV->get_method((Method*) vmtarget);\n-  \/\/ FIXME: What if the vmtarget is a Klass?\n-  assert(false, \"\");\n-  return NULL;\n+  return ciMemberName::get_vmtarget_method(vmentry_oop);\n","filename":"src\/hotspot\/share\/ci\/ciMethodHandle.cpp","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"}]}