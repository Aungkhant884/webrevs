{"files":[{"patch":"@@ -53,2 +53,2 @@\n-           \"This lock should %s have a safepoint check for Java threads: %s\",\n-           _safepoint_check_required ? \"always\" : \"never\", name());\n+           \"This lock should never have a safepoint check for Java threads: %s\",\n+           name());\n@@ -68,2 +68,2 @@\n-         \"This lock should %s have a safepoint check for Java threads: %s\",\n-         _safepoint_check_required ? \"always\" : \"never\", name());\n+         \"This lock should always have a safepoint check for Java threads: %s\",\n+         name());\n","filename":"src\/hotspot\/share\/runtime\/mutex.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -102,4 +102,2 @@\n-  enum {\n-    _allow_vm_block_flag        = true,\n-    _as_suspend_equivalent_flag = true\n-  };\n+  static const bool _allow_vm_block_flag        = true;\n+  static const bool _as_suspend_equivalent_flag = true;\n@@ -127,1 +125,1 @@\n-  enum SafepointCheckFlag {\n+  enum class SafepointCheckFlag {\n@@ -131,0 +129,5 @@\n+  \/\/ Bring the enumerator names into class scope.\n+  static const SafepointCheckFlag _safepoint_check_flag =\n+    SafepointCheckFlag::_safepoint_check_flag;\n+  static const SafepointCheckFlag _no_safepoint_check_flag =\n+    SafepointCheckFlag::_no_safepoint_check_flag;\n@@ -132,1 +135,1 @@\n-  enum SafepointCheckRequired {\n+  enum class SafepointCheckRequired {\n@@ -141,0 +144,7 @@\n+  \/\/ Bring the enumerator names into class scope.\n+  static const SafepointCheckRequired _safepoint_check_never =\n+    SafepointCheckRequired::_safepoint_check_never;\n+  static const SafepointCheckRequired _safepoint_check_sometimes =\n+    SafepointCheckRequired::_safepoint_check_sometimes;\n+  static const SafepointCheckRequired _safepoint_check_always =\n+    SafepointCheckRequired::_safepoint_check_always;\n","filename":"src\/hotspot\/share\/runtime\/mutex.hpp","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -301,1 +301,1 @@\n-    _no_safepoint_check(flag) {\n+    _no_safepoint_check(flag == Mutex::_no_safepoint_check_flag) {\n","filename":"src\/hotspot\/share\/runtime\/mutexLocker.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}