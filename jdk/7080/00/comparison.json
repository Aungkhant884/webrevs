{"files":[{"patch":"@@ -227,1 +227,1 @@\n-LIR_Opr LIRGenerator::load_immediate(int x, BasicType type) {\n+LIR_Opr LIRGenerator::load_immediate(jlong x, BasicType type) {\n@@ -237,1 +237,2 @@\n-    r = LIR_OprFact::intConst(x);\n+    assert(min_jint <= x && x <= max_jint, \"in range\");\n+    r = LIR_OprFact::intConst((jint)x);\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_LIRGenerator_aarch64.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -288,1 +288,1 @@\n-LIR_Opr LIRGenerator::load_immediate(int x, BasicType type) {\n+LIR_Opr LIRGenerator::load_immediate(jlong x, BasicType type) {\n","filename":"src\/hotspot\/cpu\/arm\/c1_LIRGenerator_arm.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -245,1 +245,1 @@\n-LIR_Opr LIRGenerator::load_immediate(int x, BasicType type) {\n+LIR_Opr LIRGenerator::load_immediate(jlong x, BasicType type) {\n@@ -250,1 +250,2 @@\n-    r = LIR_OprFact::intConst(x);\n+    assert(min_jint <= x && x <= max_jint, \"in range\");\n+    r = LIR_OprFact::intConst((jint)x);\n","filename":"src\/hotspot\/cpu\/ppc\/c1_LIRGenerator_ppc.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -194,1 +194,1 @@\n-LIR_Opr LIRGenerator::load_immediate(int x, BasicType type) {\n+LIR_Opr LIRGenerator::load_immediate(jlong x, BasicType type) {\n@@ -199,1 +199,2 @@\n-    r = LIR_OprFact::intConst(x);\n+    assert(min_jint <= x && x <= max_jint, \"in range\");\n+    r = LIR_OprFact::intConst((jint)x);\n","filename":"src\/hotspot\/cpu\/s390\/c1_LIRGenerator_s390.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -214,1 +214,1 @@\n-LIR_Opr LIRGenerator::load_immediate(int x, BasicType type) {\n+LIR_Opr LIRGenerator::load_immediate(jlong x, BasicType type) {\n@@ -219,1 +219,2 @@\n-    r = LIR_OprFact::intConst(x);\n+    assert(min_jint <= x && x <= max_jint, \"in range\");\n+    r = LIR_OprFact::intConst((jint)x);\n","filename":"src\/hotspot\/cpu\/x86\/c1_LIRGenerator_x86.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1351,2 +1351,2 @@\n-  jlong mask = ~(jlong) right_n_bits(LogBytesPerLong);\n-  __ logical_and(result_reg, LIR_OprFact::longConst(mask), result_reg);\n+  LIR_Opr mask = load_immediate(~(jlong) right_n_bits(LogBytesPerLong), T_LONG);\n+  __ logical_and(result_reg, mask, result_reg);\n@@ -1365,2 +1365,2 @@\n-  LIR_Opr hss = LIR_OprFact::intConst(Klass::_lh_header_size_shift);\n-  LIR_Opr hsm = LIR_OprFact::intConst(Klass::_lh_header_size_mask);\n+  LIR_Opr hss = load_immediate(Klass::_lh_header_size_shift, T_INT);\n+  LIR_Opr hsm = load_immediate(Klass::_lh_header_size_mask, T_INT);\n@@ -1377,1 +1377,1 @@\n-  LIR_Opr l2esm = LIR_OprFact::intConst(Klass::_lh_log2_element_size_mask);\n+  LIR_Opr l2esm = load_immediate(Klass::_lh_log2_element_size_mask, T_INT);\n@@ -1417,1 +1417,2 @@\n-    __ logical_and(length, LIR_OprFact::longConst(~round_mask), length);\n+    LIR_Opr round_mask_opr = load_immediate(~(jlong)round_mask, T_LONG);\n+    __ logical_and(length, round_mask_opr, length);\n@@ -1423,1 +1424,2 @@\n-    __ logical_and(length_int, LIR_OprFact::intConst(~round_mask), length_int);\n+    LIR_Opr round_mask_opr = load_immediate(~round_mask, T_INT);\n+    __ logical_and(length_int, round_mask_opr, length_int);\n","filename":"src\/hotspot\/share\/c1\/c1_LIRGenerator.cpp","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -218,1 +218,1 @@\n-  LIR_Opr load_immediate(int x, BasicType type);\n+  LIR_Opr load_immediate(jlong x, BasicType type);\n","filename":"src\/hotspot\/share\/c1\/c1_LIRGenerator.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}