{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -292,3 +292,0 @@\n-\n-        private SimpleDateFormat df = new SimpleDateFormat(\"yyyyMMddhhmmss\");\n-\n@@ -329,5 +326,1 @@\n-                Date d = null;\n-                try {\n-                    d = df.parse(s);\n-                } catch (ParseException ex) {\n-                }\n+                Date d = parseRfc3659TimeValue(s);\n@@ -340,5 +333,1 @@\n-                Date d = null;\n-                try {\n-                    d = df.parse(s);\n-                } catch (ParseException ex) {\n-                }\n+                Date d = parseRfc3659TimeValue(s);\n@@ -1752,5 +1741,2 @@\n-    private static String[] MDTMformats = {\n-        \"yyyyMMddHHmmss.SSS\",\n-        \"yyyyMMddHHmmss\"\n-    };\n-    private static SimpleDateFormat[] dateFormats = new SimpleDateFormat[MDTMformats.length];\n+\n+    private static final SimpleDateFormat[] dateFormats;\n@@ -1759,2 +1745,7 @@\n-        for (int i = 0; i < MDTMformats.length; i++) {\n-            dateFormats[i] = new SimpleDateFormat(MDTMformats[i]);\n+        String[] formats = {\n+            \"yyyyMMddHHmmss.SSS\",\n+            \"yyyyMMddHHmmss\"\n+        };\n+        dateFormats = new SimpleDateFormat[formats.length];\n+        for (int i = 0; i < formats.length; ++i) {\n+            dateFormats[i] = new SimpleDateFormat(formats[i]);\n@@ -1781,10 +1772,1 @@\n-            Date d = null;\n-            for (SimpleDateFormat dateFormat : dateFormats) {\n-                try {\n-                    d = dateFormat.parse(s);\n-                } catch (ParseException ex) {\n-                }\n-                if (d != null) {\n-                    return d;\n-                }\n-            }\n+            return parseRfc3659TimeValue(s);\n@@ -1795,0 +1777,14 @@\n+    private static Date parseRfc3659TimeValue(String s) {\n+        Date d = null;\n+        for (SimpleDateFormat dateFormat : dateFormats) {\n+            try {\n+                d = dateFormat.parse(s);\n+            } catch (ParseException ex) {\n+            }\n+            if (d != null) {\n+                return d;\n+            }\n+        }\n+        return d;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/net\/ftp\/impl\/FtpClient.java","additions":27,"deletions":31,"binary":false,"changes":58,"status":"modified"}]}