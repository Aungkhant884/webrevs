{"files":[{"patch":"@@ -703,1 +703,1 @@\n-            return UnixDomainSockets.getUNNAMED();\n+            return UnixDomainSockets.unnamed();\n@@ -707,1 +707,1 @@\n-                return UnixDomainSockets.getUNNAMED();\n+                return UnixDomainSockets.unnamed();\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/SocketChannelImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-    private static class UNNAMEDHolder {\n+    private static class UnnamedHolder {\n@@ -76,1 +76,1 @@\n-            addr = getUNNAMED();\n+            addr = unnamed();\n@@ -138,1 +138,5 @@\n-            Path path = Path.of(dir, \"socket_\" + rnd);\n+            final Path path = Path.of(dir, \"socket_\" + rnd);\n+            if (path.getFileSystem().provider() != sun.nio.fs.DefaultFileSystemProvider.instance()) {\n+                throw new UnsupportedOperationException(\n+                        \"Unix Domain Sockets not supported on non-default file system\");\n+            }\n@@ -142,2 +146,0 @@\n-        } catch (IllegalArgumentException e) {\n-            throw new UnsupportedOperationException(\"Unix Domain Sockets not supported on non-default file system\");\n@@ -167,0 +169,4 @@\n+    static UnixDomainSocketAddress unnamed() {\n+        return UnnamedHolder.UNNAMED;\n+    }\n+\n@@ -185,4 +191,0 @@\n-\n-    static UnixDomainSocketAddress getUNNAMED() {\n-        return UNNAMEDHolder.UNNAMED;\n-    }\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/UnixDomainSockets.java","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"}]}