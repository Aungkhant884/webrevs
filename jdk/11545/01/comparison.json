{"files":[{"patch":"@@ -260,5 +260,11 @@\n-     * the only period in the file name string is its first character, then\n-     * the extension is {@code null}. Otherwise, the extension is the substring\n-     * after the last period in the file name string. If this last period is\n-     * also the last character in the file name string, then the  extension is\n-     * {@linkplain String#isEmpty empty}.\n+     * the only period in the file name string is its first character,  then\n+     * the extension is {@linkplain String#isEmpty empty}. Otherwise, the\n+     * extension is the substring starting with the last period in the file\n+     * name string. If this last period is also the last character in the file\n+     * name string, then the extension contains only a single period character.\n+     *\n+     * @apiNote\n+     * Unless no extension is found, in which case an empty string is returned,\n+     * the returned extension includes the period separator character. For\n+     * example, the extension which would be returned for a path with file name\n+     * \"photograph.jpg\" is \".jpg\".\n@@ -270,5 +276,1 @@\n-     * if (lastPeriod <= 0)\n-     *     return null;\n-     * return (lastPeriod == fileName.length() - 1)\n-     *     ? \"\"\n-     *     : fileName.substring(lastPeriod + 1);\n+     * return lastPeriod <= 0 ? return \"\" : fileName.substring(lastPeriod);\n@@ -277,2 +279,3 @@\n-     * @return  the file name extension of this path, which might be the\n-     *          empty string, or {@code null} if no extension is found\n+     * @return  the non-{@code null} file extension of this path's file name,\n+     *          possibly only a single period character, or an empty string if\n+     *          no extension is found\n@@ -283,0 +286,1 @@\n+        \/\/ empty extension if the file name is null\n@@ -285,1 +289,1 @@\n-            return null;\n+            return \"\";\n@@ -287,0 +291,1 @@\n+        \/\/ locate the last dot in the file name string\n@@ -288,5 +293,1 @@\n-        int length = fileNameString.length();\n-\n-        \/\/ An empty or unity length file name string has a null extension\n-        if (length > 1) {\n-            int lastPeriodIndex = fileNameString.lastIndexOf('.');\n+        int lastDot = fileNameString.lastIndexOf('.');\n@@ -294,11 +295,3 @@\n-            \/\/ Indeterminate if there is no period character or\n-            \/\/ only the first character is a period character\n-            if (lastPeriodIndex > 0) {\n-                if (lastPeriodIndex == length - 1) {\n-                    \/\/ empty string\n-                    return \"\";\n-                } else {\n-                    return fileNameString.substring(lastPeriodIndex + 1);\n-                }\n-            }\n-        }\n+        \/\/ empty  extension if no dot or the last dot is the first character\n+        if (lastDot <= 0)\n+            return \"\";\n@@ -306,1 +299,2 @@\n-        return null;\n+        \/\/ the extension is the substring starting at the index of the last dot\n+        return fileNameString.substring(lastDot);\n","filename":"src\/java.base\/share\/classes\/java\/nio\/file\/Path.java","additions":24,"deletions":30,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -45,32 +45,44 @@\n-            {\"\",               null},\n-            {\".\",              null},\n-            {\"..\",             \"\"},\n-            {\"...\",            \"\"},\n-            {\"....\",           \"\"},\n-            {\".....\",          \"\"},\n-            {\"aa\",             null},\n-            {\"a.\",             \"\"},\n-            {\".a\",             null},\n-            {\"..a\",            \"a\"},\n-            {\"...a\",           \"a\"},\n-            {\"....a\",          \"a\"},\n-            {\".a.b\",           \"b\"},\n-            {\"...a.b\",         \"b\"},\n-            {\"...a.b.\",        \"\"},\n-            {\"..foo\",          \"foo\"},\n-            {\"foo.\",           \"\"},\n-            {\"test.\",          \"\"},\n-            {\"test..\",         \"\"},\n-            {\"test...\",        \"\"},\n-            {\"test.rb\",        \"rb\"},\n-            {\"a\/b\/d\/test.rb\" , \"rb\"},\n-            {\".a\/b\/d\/test.rb\", \"rb\"},\n-            {\"test\",           null},\n-            {\".profile\",       null},\n-            {\".profile.sh\",    \"sh\"},\n-            {\"foo.tar.gz\",     \"gz\"},\n-            {\"foo.bar.\",       \"\"},\n-            {\"archive.zip\",    \"zip\"},\n-            {\"compress.gzip\",  \"gzip\"},\n-            {\"waitwhat.&$!#%\", \"&$!#%\"},\n-            {\"6.283185307\",    \"283185307\"}\n+            {\"\",               \"\"},\n+            {\".\",              \"\"},\n+            {\"..\",             \".\"},\n+            {\"...\",            \".\"},\n+            {\"....\",           \".\"},\n+            {\".....\",          \".\"},\n+            {\"aa\",             \"\"},\n+            {\"a.\",             \".\"},\n+            {\".a\",             \"\"},\n+            {\"..a\",            \".a\"},\n+            {\"...a\",           \".a\"},\n+            {\"....a\",          \".a\"},\n+            {\".a.b\",           \".b\"},\n+            {\"...a.b\",         \".b\"},\n+            {\"...a.b.\",        \".\"},\n+            {\"a..b\",           \".b\"},\n+            {\"a..b.c\",         \".c\"},\n+            {\"a.b..c\",         \".c\"},\n+            {\"a..b.\",          \".\"},\n+            {\".a..b\",          \".b\"},\n+            {\".a..b.c\",        \".c\"},\n+            {\".a.b..c\",        \".c\"},\n+            {\".a..b.\",         \".\"},\n+            {\"..a..b\",         \".b\"},\n+            {\"..a..b.c\",       \".c\"},\n+            {\"..a.b..c\",       \".c\"},\n+            {\"..a..b.\",        \".\"},\n+            {\"..foo\",          \".foo\"},\n+            {\"foo.\",           \".\"},\n+            {\"test.\",          \".\"},\n+            {\"test..\",         \".\"},\n+            {\"test...\",        \".\"},\n+            {\"test.rb\",        \".rb\"},\n+            {\"a\/b\/d\/test.rb\" , \".rb\"},\n+            {\".a\/b\/d\/test.rb\", \".rb\"},\n+            {\"test\",           \"\"},\n+            {\".profile\",       \"\"},\n+            {\".profile.sh\",    \".sh\"},\n+            {\"foo.tar.gz\",     \".gz\"},\n+            {\"foo.bar.\",       \".\"},\n+            {\"archive.zip\",    \".zip\"},\n+            {\"compress.gzip\",  \".gzip\"},\n+            {\"waitwhat.&$!#%\", \".&$!#%\"},\n+            {\"6.283185307\",    \".283185307\"}\n","filename":"test\/jdk\/java\/nio\/file\/Path\/Extensions.java","additions":44,"deletions":32,"binary":false,"changes":76,"status":"modified"}]}