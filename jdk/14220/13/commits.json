[{"commit":{"message":"Fix jfr test, correcting name"},"files":[{"filename":"test\/jdk\/jdk\/jfr\/event\/gc\/collection\/TestG1ParallelPhases.java"}],"sha":"74ef63dcf8405e0012dde7ba395f7bf943cc08f9"},{"commit":{"message":"Remove debugging changes"},"files":[],"sha":"7659c8fb3bfc513fb1740c73fc2ad35eb988e437"},{"commit":{"message":"More simplifications\n\nCorrectly use live_bytes in set_live_bytes()\n\nSome includes, fix using live bytes in set_live_bytes()"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailureRegions.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"}],"sha":"e00b36a53bd1b65e126aec1f02e201f68cbae751"},{"commit":{"message":"retained regions length helper"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.inline.hpp"}],"sha":"253c26969c2850462e7ecb270af26746ed7ee6e3"},{"commit":{"message":"Some late changes"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.hpp"},{"filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java"}],"sha":"10b93075c1f2485f2bd1f64346bff305a74b370f"},{"commit":{"message":"Update retained region's top\/stats at the end only; move pre_concurrent_start to before determining collection set to simplify condition what regions to set tams for"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailureRegions.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.inline.hpp"}],"sha":"7ab25331684ddf53831d9bbeb269ed10bd31ae00"},{"commit":{"message":"Merge branch 'master' into pr\/14219"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java"}],"sha":"9d0e3d86adc2c6a19fae689939870af8bcabf331"},{"commit":{"message":"Merge branch 'master' into 8140326-consider-putting-regions-evac-failed-into-collection-set"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.inline.hpp"}],"sha":"755a40ab521fa2e3f0e423c0fcd0826f8d2a5b18"},{"commit":{"message":"ayang review4: fix comment"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"}],"sha":"9ff2bfc4bac7f4858490828b86acfc6313763ab4"},{"commit":{"message":"ayang review3\n- More documentation\n- some renames\n- also exclude collection set regions from initial TAMS update as it is likely they will not fail evacuation"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.inline.hpp"}],"sha":"901edcbdf72d85afa6e549bd9b232374132dea0f"},{"commit":{"message":"ayang review:\n- do not add retained regions time during base time calculation when finalizing young gen\n- add marking state (tams, bitmap, live bytes) verification at the end of a concurrent start pause (with -XX:+VerifyAfterGC)"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1HeapVerifier.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.inline.hpp"},{"filename":"test\/jdk\/jdk\/jfr\/event\/gc\/collection\/TestG1ParallelPhases.java"}],"sha":"2bb1fdaa223dd047f8add970d076d3d10af26b17"},{"commit":{"message":"ayang review:\n- improve comment in ClearRetainedRegionData (formerly ClearRetainedRegionBitmap) about why we need to clear marking data here\n- added separate flag for threshold for retaining evacuation failed regions\n- fix bug in calculating total base time"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1_globals.hpp"},{"filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java"}],"sha":"533508588eb2dac6afce078c70e72537f3e0aec2"},{"commit":{"message":"More debug option removal"},"files":[],"sha":"a304afedb7ff3894ad0027748dbc7f6fe633dd48"},{"commit":{"message":"Remove debug options for tests"},"files":[],"sha":"beb682aed88953a6fd54d3faef79c26bef5f2f36"},{"commit":{"message":"iwalulya review #1"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetChooser.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"}],"sha":"364fa8239f490e84eb678216173cff8a78cfa887"},{"commit":{"message":"Doc additions"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp"}],"sha":"a957eaacb6e23a0ab7e76b2a59daedb3f8fbfdeb"},{"commit":{"message":"Fix trailing whitespace"},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"}],"sha":"24d7c4992ca6db6faba9a929795afb2053fe292e"},{"commit":{"message":"This change adds management of retained regions, i.e. trying to evacuate evacuation failed\nregions asap.\n\nIt consists of several changes:\n\n* collect dirty cards into evacuation failed regions proactively (always). In my tests, the\n  amount of cards\/live objects has been very small. Dirty cards are put into the global\n  refinement buffer always, assuming that we will keep most if not all evacuation failed\n  regions.\n\n* post evac phase 2 will determine whether the region will be retained (kept for \"immediate\"\n  evacuation) or not.\n\n* these regions will be collected in a new \"from retained\" set in the collection set\n  candidates. Having the \"from retained\" and \"from marking\" sets separate in the collection\n  set candidates is ultimately easier than to use a single list and the picking stuff from\n  it.\n    * particularly wrt to making sure that mixed gcs preferentially pick from the \"from\n      marking\" list first, then second from the \"from retained\" list.\n\n* changes to determining the collection set:\n  * at any time before gc (determining young gen length) if there are entries in the retained\n    collection set candidates set (\"retained set\" in the following) g1 reserves up to 20% of\n    max gc pause time for it (random number) to make sure that these are cleared out asap to\n    free memory.\n  * during gc, the collection set is preferentially (first) populated with regions from the\n    \"from marking\" candidates (these are the important regions to get cleaned out), second\n    from the \"from retained\" list.\n\n* changes to end of gc\/marking\n  * retained regions will not be marked through during concurrent mark, i.e. they are\n    considered outside of the snapshot. So they are added to the \"root regions\" during the\n    concurrent start pause.\n    This may be a performance issue (we can't do a gc until all root regions have been\n    marked through), but so far since evacuation failure regions are typically very sparsely\n    populated, this is very fast."},"files":[{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetCandidates.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetChooser.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1CollectionSetChooser.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentMark.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRebuildAndScrub.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1EvacFailureRegions.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1ParScanThreadState.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCEvacFailureInjector.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCPostEvacuateTasks.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.inline.hpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegionRemSet.cpp"},{"filename":"src\/hotspot\/share\/gc\/g1\/heapRegionRemSet.hpp"},{"filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java"}],"sha":"263ff2856bd8d456cc795bf03332a1da54fa4e0d"}]