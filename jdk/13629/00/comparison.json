{"files":[{"patch":"@@ -32,2 +32,2 @@\n-# Setup the most fundamental tools that relies on not much else to set up,\n-# but is used by much of the early bootstrap code.\n+# Setup the most fundamental tools which rely on not much else to set up,\n+# but are used by much of the early bootstrap code.\n@@ -45,1 +45,21 @@\n-  # First are all the fundamental required tools.\n+  # Required tools\n+  UTIL_REQUIRE_PROGS(ECHO, echo)\n+  UTIL_REQUIRE_PROGS(TR, tr)\n+  UTIL_REQUIRE_PROGS(UNAME, uname)\n+  UTIL_REQUIRE_PROGS(WC, wc)\n+\n+  # Required tools with some special treatment\n+  UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])\n+  UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])\n+\n+  # Tools only needed on some platforms\n+  UTIL_LOOKUP_PROGS(PATHTOOL, cygpath wslpath)\n+  UTIL_LOOKUP_PROGS(CMD, cmd.exe, $PATH:\/cygdrive\/c\/windows\/system32:\/mnt\/c\/windows\/system32:\/c\/windows\/system32)\n+])\n+\n+###############################################################################\n+# Setup further tools that should be resolved early but after setting up\n+# build platform and path handling.\n+AC_DEFUN_ONCE([BASIC_SETUP_TOOLS],\n+[\n+  # Required tools\n@@ -53,1 +73,0 @@\n-  UTIL_REQUIRE_PROGS(ECHO, echo)\n@@ -75,3 +94,0 @@\n-  UTIL_REQUIRE_PROGS(TR, tr)\n-  UTIL_REQUIRE_PROGS(UNAME, uname)\n-  UTIL_REQUIRE_PROGS(WC, wc)\n@@ -80,1 +96,1 @@\n-  # Then required tools that require some special treatment.\n+  # Required tools with some special treatment\n@@ -82,1 +98,0 @@\n-  UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])\n@@ -84,1 +99,0 @@\n-  UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])\n@@ -93,2 +107,1 @@\n-  # These are only needed on some platforms\n-  UTIL_LOOKUP_PROGS(PATHTOOL, cygpath wslpath)\n+  # Tools only needed on some platforms\n@@ -96,1 +109,0 @@\n-  UTIL_LOOKUP_PROGS(CMD, cmd.exe, $PATH:\/cygdrive\/c\/windows\/system32:\/mnt\/c\/windows\/system32:\/c\/windows\/system32)\n","filename":"make\/autoconf\/basic_tools.m4","additions":25,"deletions":13,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -89,0 +89,1 @@\n+BASIC_SETUP_TOOLS\n","filename":"make\/autoconf\/configure.ac","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}