{"files":[{"patch":"@@ -65,2 +65,1 @@\n-    private static long stringPrepend(long lengthCoder, byte[] buffer,\n-                                            String value) throws Throwable {\n+    private static long stringPrepend(long lengthCoder, byte[] buffer, String value) {\n@@ -100,1 +99,1 @@\n-                          boolean parentheses, int groupSize, long value) throws Throwable {\n+                          boolean parentheses, int groupSize, long value) {\n@@ -131,1 +130,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -139,1 +138,1 @@\n-        private long prependLatin1(long lengthCoder, byte[] buffer) throws Throwable {\n+        private long prependLatin1(long lengthCoder, byte[] buffer) {\n@@ -180,1 +179,1 @@\n-        private long prependUTF16(long lengthCoder, byte[] buffer) throws Throwable {\n+        private long prependUTF16(long lengthCoder, byte[] buffer) {\n@@ -250,1 +249,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -258,1 +257,1 @@\n-        protected long prependLatin1(long lengthCoder, byte[] buffer) throws Throwable {\n+        protected long prependLatin1(long lengthCoder, byte[] buffer) {\n@@ -271,1 +270,1 @@\n-        protected long prependUTF16(long lengthCoder, byte[] buffer) throws Throwable {\n+        protected long prependUTF16(long lengthCoder, byte[] buffer) {\n@@ -318,1 +317,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -326,1 +325,1 @@\n-        protected long prependLatin1(long lengthCoder, byte[] buffer) throws Throwable {\n+        protected long prependLatin1(long lengthCoder, byte[] buffer) {\n@@ -343,1 +342,1 @@\n-        protected long prependUTF16(long lengthCoder, byte[] buffer) throws Throwable {\n+        protected long prependUTF16(long lengthCoder, byte[] buffer) {\n@@ -383,1 +382,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -412,1 +411,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -438,1 +437,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -474,1 +473,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n@@ -597,1 +596,1 @@\n-        public long prepend(long lengthCoder, byte[] buffer) throws Throwable {\n+        public long prepend(long lengthCoder, byte[] buffer) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/FormatItem.java","additions":16,"deletions":17,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -85,9 +85,0 @@\n-    \/**\n-     * For values from 0 to 99 return a short encoding a pair of ASCII-encoded digit characters in little-endian\n-     * @param i value to convert\n-     * @return a short encoding a pair of ASCII-encoded digit characters\n-     *\/\n-    public static short digitPair(int i) {\n-        return DIGITS[i];\n-    }\n-\n@@ -182,1 +173,1 @@\n-            ByteArrayLittleEndian.setShort(buf, charPos, DIGITS[r]);\n+            writeDigitPairLatin1(buf, charPos, r);\n@@ -188,1 +179,1 @@\n-            ByteArrayLittleEndian.setShort(buf, charPos, DIGITS[-i]);\n+            writeDigitPairLatin1(buf, charPos, -i);\n@@ -231,1 +222,1 @@\n-            ByteArrayLittleEndian.setShort(buf, charPos, DIGITS[(int)((q * 100) - i)]);\n+            writeDigitPairLatin1(buf, charPos, (int)((q * 100) - i));\n@@ -241,1 +232,1 @@\n-            ByteArrayLittleEndian.setShort(buf, charPos, DIGITS[(q2 * 100) - i2]);\n+            writeDigitPairLatin1(buf, charPos, (q2 * 100) - i2);\n@@ -248,1 +239,1 @@\n-            ByteArrayLittleEndian.setShort(buf, charPos, DIGITS[-i2]);\n+            writeDigitPairLatin1(buf, charPos, -i2);\n@@ -284,1 +275,1 @@\n-            putPair(buf, charPos, r);\n+            writeDigitPairUTF16(buf, charPos, r);\n@@ -290,1 +281,1 @@\n-            putPair(buf, charPos, -i);\n+            writeDigitPairUTF16(buf, charPos, -i);\n@@ -324,1 +315,1 @@\n-            putPair(buf, charPos, (int)((q * 100) - i));\n+            writeDigitPairUTF16(buf, charPos, (int)((q * 100) - i));\n@@ -334,1 +325,1 @@\n-            putPair(buf, charPos, (q2 * 100) - i2);\n+            writeDigitPairUTF16(buf, charPos, (q2 * 100) - i2);\n@@ -341,1 +332,1 @@\n-            putPair(buf, charPos, -i2);\n+            writeDigitPairUTF16(buf, charPos, -i2);\n@@ -352,2 +343,8 @@\n-    private static void putPair(byte[] buf, int charPos, int v) {\n-        int packed = (int) DecimalDigits.digitPair(v);\n+    private static void writeDigitPairLatin1(byte[] buf, int charPos, int value) {\n+        short pair = DIGITS[value];\n+        buf[charPos] = (byte)(pair);\n+        buf[charPos + 1] = (byte)(pair >> 8);\n+    }\n+\n+    private static void writeDigitPairUTF16(byte[] buf, int charPos, int value) {\n+        int packed = (int) DIGITS[value];\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/DecimalDigits.java","additions":18,"deletions":21,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -129,1 +129,1 @@\n-            int digits = DIGITS[(int) (value & 0xFF)];\n+            putPair(buffer, index, (int) (value & 0xFF));\n@@ -131,2 +131,0 @@\n-            buffer[--index] = (byte) (digits >> 8);\n-            buffer[--index] = (byte) (digits & 0xFF);\n@@ -159,1 +157,2 @@\n-            int digits = DIGITS[(int) (value & 0xFF)];\n+            index -= 2;\n+            putPair(buffer, index, (int) (value & 0xFF));\n@@ -161,2 +160,0 @@\n-            JLA.putCharUTF16(buffer, --index, (byte) (digits >> 8));\n-            JLA.putCharUTF16(buffer, --index, (byte) (digits & 0xFF));\n@@ -186,0 +183,6 @@\n+\n+    private static void putPair(byte[] buf, int charPos, int v) {\n+        int packed = (int) DIGITS[v];\n+        JLA.putCharUTF16(buf, charPos, packed & 0xFF);\n+        JLA.putCharUTF16(buf, charPos + 1, packed >> 8);\n+    }\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/HexDigits.java","additions":9,"deletions":6,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -118,1 +118,2 @@\n-            int digits = DIGITS[(int) (value & 0x3F)];\n+            index -= 2;\n+            putPair(buffer, index, (int) (value & 0x3F));\n@@ -120,2 +121,0 @@\n-            JLA.putCharUTF16(buffer, --index, digits >> 8);\n-            JLA.putCharUTF16(buffer, --index, digits & 0xFF);\n@@ -144,0 +143,6 @@\n+\n+    private static void putPair(byte[] buf, int charPos, int v) {\n+        int packed = (int) DIGITS[v];\n+        JLA.putCharUTF16(buf, charPos, packed & 0xFF);\n+        JLA.putCharUTF16(buf, charPos + 1, packed >> 8);\n+    }\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/OctalDigits.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"}]}