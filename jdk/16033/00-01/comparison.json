{"files":[{"patch":"@@ -4419,1 +4419,2 @@\n-                case DateTime.YEAR_2:               {\/\/ 'y' (00 - 99)\n+                case DateTime.YEAR_2:                 \/\/ 'y' (00 - 99)\n+                case DateTime.YEAR_4:               { \/\/ 'Y' (0000 - 9999)\n@@ -4430,21 +4431,0 @@\n-                case DateTime.YEAR_4:               { \/\/ 'Y' (0000 - 9999)\n-                    int i = t.get(ChronoField.YEAR);\n-                    if (i < 0) {\n-                        sb.append('-');\n-                        i = -i;\n-                    } else if (i > 9999) {\n-                        sb.append('+');\n-                    }\n-\n-                    if (i < 1000) {\n-                        sb.append('0');\n-                        if (i < 100) {\n-                            sb.append('0');\n-                            if (i < 10) {\n-                                sb.append('0');\n-                            }\n-                        }\n-                    }\n-                    sb.append(i);\n-                    break;\n-                }\n@@ -4512,4 +4492,31 @@\n-                    char sep = '-';\n-                    print(fmt, sb, t, DateTime.YEAR_4, l).append(sep);\n-                    print(fmt, sb, t, DateTime.MONTH, l).append(sep);\n-                    print(fmt, sb, t, DateTime.DAY_OF_MONTH_0, l);\n+                    \/\/ ISO_STANDAR_DTE does not need to deal with Locale\n+                    int year = t.get(ChronoField.YEAR);\n+                    int month = t.get(ChronoField.MONTH_OF_YEAR);\n+                    int dayOfMonth = t.get(ChronoField.DAY_OF_MONTH);\n+\n+                    if (year < 0) {\n+                        sb.append('-');\n+                        year = -year;\n+                    } else if (year > 9999) {\n+                        sb.append('+');\n+                    }\n+                    if (year < 1000) {\n+                        sb.append('0');\n+                        if (year < 100) {\n+                            sb.append('0');\n+                            if (year < 10) {\n+                                sb.append('0');\n+                            }\n+                        }\n+                    }\n+                    sb.append(year)\n+                      .append('-');\n+                    if (month < 10) {\n+                        sb.append('0');\n+                    }\n+                    sb.append(month)\n+                      .append('-');\n+                    if (dayOfMonth < 10) {\n+                        sb.append('0');\n+                    }\n+                    sb.append(dayOfMonth);\n","filename":"src\/java.base\/share\/classes\/java\/util\/Formatter.java","additions":33,"deletions":26,"binary":false,"changes":59,"status":"modified"},{"patch":"@@ -456,0 +456,1 @@\n+        test(\"%tF\", \"2023-01-13\", LocalDate.of(2023, 1, 13));\n@@ -457,1 +458,2 @@\n-        test(\"%tF\", \"-2023-10-03\", LocalDate.of(-2023, 10, 3));\n+        test(\"%tF\", \"0001-10-03\", LocalDate.of(1, 10, 3));\n+        test(\"%tF\", \"0012-10-03\", LocalDate.of(12, 10, 3));\n@@ -459,1 +461,0 @@\n-        test(\"%tF\", \"-0123-10-03\", LocalDate.of(-123, 10, 3));\n@@ -461,0 +462,4 @@\n+        test(\"%tF\", \"-0001-10-03\", LocalDate.of(-1, 10, 3));\n+        test(\"%tF\", \"-0012-10-03\", LocalDate.of(-12, 10, 3));\n+        test(\"%tF\", \"-0123-10-03\", LocalDate.of(-123, 10, 3));\n+        test(\"%tF\", \"-1234-10-03\", LocalDate.of(-1234, 10, 3));\n@@ -462,0 +467,7 @@\n+\n+        \/\/ %tF No longer localize printed numbers\n+        Locale locale = Locale.getDefault();\n+        Locale.setDefault(\n+                Locale.forLanguageTag(\"th-TH-u-nu-thai\"));\n+        test(\"%tF\", \"2023-01-13\", LocalDate.of(2023, 1, 13));\n+        Locale.setDefault(locale);\n","filename":"test\/jdk\/java\/util\/Formatter\/BasicDateTime.java","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}