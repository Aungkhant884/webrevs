{"files":[{"patch":"@@ -1604,8 +1604,0 @@\n-    case Op_VectorLongToMask:\n-      if (UseAVX < 1) {\n-        return false;\n-      }\n-      if (UseAVX < 3 && !VM_Version::supports_bmi2()) {\n-        return false;\n-      }\n-      break;\n@@ -1853,0 +1845,8 @@\n+    case Op_VectorLongToMask:\n+      if (UseAVX < 1 || !is_LP64) {\n+        return false;\n+      }\n+      if (UseAVX < 3 && !VM_Version::supports_bmi2()) {\n+        return false;\n+      }\n+      break;\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -799,0 +799,1 @@\n+  Node* bits                      = argument(3);\n@@ -851,1 +852,0 @@\n-  Node* bits = argument(3); \/\/ long\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1510,1 +1510,4 @@\n-     if (src->Opcode() == Op_VectorStoreMask) {\n+     if (dst_type->isa_vectmask() == NULL) {\n+       if (src->Opcode() != Op_VectorStoreMask) {\n+         return NULL;\n+       }\n","filename":"src\/hotspot\/share\/opto\/vectornode.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}