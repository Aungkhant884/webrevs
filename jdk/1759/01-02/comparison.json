{"files":[{"patch":"@@ -24,0 +24,5 @@\n+import java.awt.Component;\n+import java.awt.Graphics;\n+import java.awt.image.BufferedImage;\n+import java.io.File;\n+import java.io.IOException;\n@@ -26,0 +31,1 @@\n+import javax.imageio.ImageIO;\n@@ -67,3 +73,1 @@\n-\n-        View rootView = editor.getUI().getRootView(editor);\n-        rootView.setSize(Integer.MAX_VALUE, Integer.MAX_VALUE); \/\/ layout\n+        editor.setSize(editor.getPreferredSize()); \/\/ layout\n@@ -118,0 +122,14 @@\n+    private static void captureImage(Component comp, String path) {\n+        try {\n+            BufferedImage capture = new BufferedImage(comp.getWidth(),\n+                    comp.getHeight(), BufferedImage.TYPE_INT_ARGB);\n+            Graphics g = capture.getGraphics();\n+            comp.paint(g);\n+            g.dispose();\n+\n+            ImageIO.write(capture, \"png\", new File(path));\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n@@ -119,1 +137,1 @@\n-        bug8257665 test = new bug8257665();\n+        TestWrongCSSFontSize test = new TestWrongCSSFontSize();\n@@ -127,0 +145,4 @@\n+            } finally {\n+                if (args.length == 1) {\n+                    captureImage(test.editor, args[0]);\n+                }\n","filename":"test\/jdk\/javax\/swing\/text\/html\/StyleSheet\/TestWrongCSSFontSize.java","additions":26,"deletions":4,"binary":false,"changes":30,"status":"modified"}]}