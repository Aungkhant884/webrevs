{"files":[{"patch":"@@ -64,4 +64,2 @@\n-  size_t buffer = Atomic::add(&_num_buffers, num, memory_order_relaxed);\n-  size_t mem = Atomic::add(&_mem_size, mem_size, memory_order_relaxed);\n-  assert(buffer >= num, \"Must be\");\n-  assert(mem >= mem_size, \"Must be\");\n+  Atomic::add(&_num_buffers, num, memory_order_relaxed);\n+  Atomic::add(&_mem_size, mem_size, memory_order_relaxed);\n@@ -73,4 +71,2 @@\n-  size_t num_buffers = Atomic::add(&_num_buffers, (size_t)1, memory_order_relaxed);\n-  size_t mem_size = Atomic::add(&_mem_size, elem.elem_size(), memory_order_relaxed);\n-  assert(num_buffers >= (size_t)1, \"Must be\");\n-  assert(mem_size >= elem.elem_size(), \"Must be\");\n+  Atomic::inc(&_num_buffers, memory_order_relaxed);\n+  Atomic::add(&_mem_size, elem.elem_size(), memory_order_relaxed);\n@@ -91,2 +87,2 @@\n-    size_t num_buffers = Atomic::sub(&_num_buffers, (size_t)1,memory_order_relaxed);\n-    size_t mem_size = Atomic::sub(&_mem_size, result->mem_size(), memory_order_relaxed);\n+    Atomic::sub(&_num_buffers, (size_t)1,memory_order_relaxed);\n+    Atomic::sub(&_mem_size, result->mem_size(), memory_order_relaxed);\n@@ -107,2 +103,2 @@\n-    size_t buffers = Atomic::sub(&_num_buffers, num_buffers, memory_order_relaxed);\n-    size_t mem = Atomic::sub(&_mem_size, mem_size, memory_order_relaxed);\n+    Atomic::sub(&_num_buffers, num_buffers, memory_order_relaxed);\n+    Atomic::sub(&_mem_size, mem_size, memory_order_relaxed);\n@@ -146,0 +142,1 @@\n+    next->set_next(nullptr);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1SegmentedArray.inline.hpp","additions":9,"deletions":12,"binary":false,"changes":21,"status":"modified"}]}