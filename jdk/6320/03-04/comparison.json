{"files":[{"patch":"@@ -531,0 +531,1 @@\n+#ifdef PRODUCT\n@@ -532,1 +533,1 @@\n-\n+#endif\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -24,0 +24,4 @@\n+import java.util.Arrays;\n+import java.util.ArrayList;\n+\n+import jdk.test.lib.Platform;\n@@ -42,8 +46,11 @@\n-    public static final String[][] DEPRECATED_OPTIONS = {\n-        \/\/ deprecated non-alias flags:\n-        {\"MaxGCMinorPauseMillis\",     \"1032\"},\n-        {\"MaxRAMFraction\",            \"8\"},\n-        {\"MinRAMFraction\",            \"2\"},\n-        {\"InitialRAMFraction\",        \"64\"},\n-        {\"TLABStats\",                 \"false\"},\n-        {\"AllowRedefinitionToAddDeleteMethods\", \"true\"},\n+    public static final String[][] DEPRECATED_OPTIONS;\n+    static {\n+        ArrayList<String[]> deprecated = new ArrayList(\n+          Arrays.asList(new String[][] {\n+            \/\/ deprecated non-alias flags:\n+            {\"MaxGCMinorPauseMillis\",     \"1032\"},\n+            {\"MaxRAMFraction\",            \"8\"},\n+            {\"MinRAMFraction\",            \"2\"},\n+            {\"InitialRAMFraction\",        \"64\"},\n+            {\"TLABStats\",                 \"false\"},\n+            {\"AllowRedefinitionToAddDeleteMethods\", \"true\"},\n@@ -51,3 +58,9 @@\n-        \/\/ deprecated alias flags (see also aliased_jvm_flags):\n-        {\"DefaultMaxRAMFraction\", \"4\"},\n-        {\"CreateMinidumpOnCrash\", \"false\"}\n+            \/\/ deprecated alias flags (see also aliased_jvm_flags):\n+            {\"DefaultMaxRAMFraction\", \"4\"},\n+            {\"CreateMinidumpOnCrash\", \"false\"}\n+          }\n+        ));\n+        if (!Platform.isDebugBuild()) {\n+            deprecated.add(new String[]{\"UseHeavyMonitors\", \"false\"});\n+        }\n+        DEPRECATED_OPTIONS = deprecated.toArray(new String[][]{});\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/VMDeprecatedOptions.java","additions":24,"deletions":11,"binary":false,"changes":35,"status":"modified"}]}