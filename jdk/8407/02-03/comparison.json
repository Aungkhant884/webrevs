{"files":[{"patch":"@@ -64,0 +64,4 @@\n+    private static int failCount = 0;\n+    private static String currentLaf = new String();\n+    private static StringBuffer failedLafs = new StringBuffer();\n+\n@@ -72,0 +76,1 @@\n+                currentLaf = laf.getName();\n@@ -82,0 +87,8 @@\n+\n+        if(!failedLafs.isEmpty()) {\n+            if(failCount > 1) {\n+                failedLafs.setLength(failedLafs.length() - 2);\n+            }\n+            throw new RuntimeException(\"HTML image not centered in button \" +\n+                    \"for these L&F's: \" + failedLafs);\n+        }\n@@ -114,3 +127,5 @@\n-                ImageIO.write(image, \"png\",\n-                        new File(testDir + \"\/fail_image.png\"));\n-                throw new RuntimeException(\"HTML image not centered in button\");\n+                failCount++;\n+                ImageIO.write(image, \"png\", new File(testDir + \"\/fail_image_\" +\n+                        currentLaf.replaceAll(\"[^\\\\w\\\\s]\",\"\") + \".png\"));\n+                failedLafs.append(currentLaf + \", \");\n+                break;\n","filename":"test\/jdk\/javax\/swing\/JButton\/HtmlButtonImageTest\/HtmlButtonImageTest.java","additions":18,"deletions":3,"binary":false,"changes":21,"status":"modified"}]}