{"files":[{"patch":"@@ -1840,0 +1840,9 @@\n+void Deoptimization::print_ul(CompiledMethod* nm, intptr_t pc, frame& fr, const char* name_sig,\n+                              int trap_bci, int osr_bci, const char* reason_name,\n+                              const char* reason_action) {\n+  log_debug(deoptimization)(\n+      \"cid=%d %s pc=\" INTPTR_FORMAT \" relative_pc=\" INTPTR_FORMAT \" level=%d %s @ %d %d %s -> %s\",\n+      nm->compile_id(), (nm->is_osr_method() ? \"%\" : \"\"), pc, fr.pc() - nm->code_begin(),\n+      nm->comp_level(), name_sig, trap_bci, osr_bci, reason_name, reason_action);\n+}\n+\n@@ -1934,0 +1943,2 @@\n+      bool is_osr = nm->is_osr_method();\n+      int osr_bci = is_osr ? nm->osr_entry_bci() : -1;\n@@ -1938,0 +1949,2 @@\n+      intptr_t pc = p2i(fr.pc());\n+\n@@ -1939,10 +1952,1 @@\n-      log_debug(deoptimization)(\"cid=%d %s pc=\" INTPTR_FORMAT \" relative_pc=\" INTPTR_FORMAT \" level=%d %s @ %d %s -> %s\",\n-                                nm->compile_id(),\n-                                (nm->is_osr_method() ? \"osr\" : \"\"),\n-                                p2i(fr.pc()),\n-                                fr.pc() - nm->code_begin(),\n-                                nm->comp_level(),\n-                                name_sig,\n-                                trap_bci,\n-                                reason_name,\n-                                reason_action);\n+      print_ul(nm, pc, fr, name_sig, trap_bci, osr_bci, reason_name, reason_action);\n@@ -1950,1 +1954,1 @@\n-                                reason_name, reason_action, p2i(fr.pc()),\n+                                reason_name, reason_action, pc,\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.cpp","additions":15,"deletions":11,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -47,1 +47,2 @@\n- public:\n+\n+public:\n@@ -167,0 +168,5 @@\n+\n+  static void print_ul(CompiledMethod* nm, intptr_t pc, frame& fr, const char* name_sig,\n+                       int trap_bci, int osr_bci, const char* reason_name,\n+                       const char* reason_action);\n+\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.hpp","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"}]}