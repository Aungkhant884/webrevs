{"files":[{"patch":"@@ -122,2 +122,1 @@\n-# Define a native toolchain configuration that can be used by\n-# SetupNativeCompilation calls\n+# Create an Eclipse Workspace with the specified nature\n@@ -142,2 +141,7 @@\n-  # Create both unconditionally and kill 2 birds with one stone\n-  $$(shell mkdir -p $(IDE_OUTPUTDIR)\/.settings)\n+  # ifneq ($$(findstring $$($1_NATURE), HOTSPOT NATIVE FULL), )\n+  #   ifeq ($(TOOLCHAIN_TYPE), microsoft)\n+  #     $$(error Visual C++ is not yet supported as an indexer for native workspaces!)\n+  #   endif\n+  # endif\n+\n+  $$(shell mkdir -p $(IDE_OUTPUTDIR))\n@@ -242,1 +246,1 @@\n-    # For some strange reason Eclipse requires the binary parsers be listed for the workspace to be recognised as a C\/C++ one\n+    # For some strange reason Eclipse requires that the binary parsers be listed for the workspace to be recognised as a C\/C++ one\n@@ -256,0 +260,2 @@\n+    # $$(call AppendFile,                        <toolChain id=\"org.eclipse.cdt.build.core.prefbase.toolchain.$(call RandomDigits, 9)\" name=\"C\/C++ Compiler\" superClass=\"org.eclipse.cdt.build.core.prefbase.toolchain\">, $(NATIVE_FILE))\n+    # $$(call AppendFile,                            <targetPlatform id=\"org.eclipse.cdt.build.core.prefbase.toolchain.$(call RandomDigits, 9).$(WORKSPACE_ID)\" name=\"\"\/>, $(NATIVE_FILE))\n@@ -309,0 +315,2 @@\n+    $$(shell mkdir -p $(IDE_OUTPUTDIR)\/.settings)\n+\n@@ -331,1 +339,4 @@\n-    # This would also be helpful for when we eventually make this system more flexible and able to work with Visual C++ too.\n+    # This would also be a helpful reference for when we eventually make this system more\n+    # flexible and able to work with Visual C++ too. (I say we, but I'm likely to be the\n+    # only one insane enough to be willing to go through the pain that such an overhaul\n+    # would put anyone through...)\n@@ -340,6 +351,17 @@\n-    #                <language id=\"org.eclipse.cdt.core.g++\">\n-    #                    <resource project-relative-path=\"\">\n-    #                        <entry kind=\"macro\" name=\"PRODUCT\" value=\"\"\/>\n-    #                        <entry kind=\"macro\" name=\"_WINDOWS\" value=\"\"\/>\n-    #                    <\/resource>\n-    #                <\/language>\n+    $$(call AppendFile,                <language id=\"org.eclipse.cdt.core.gcc\">, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                   <resource project-relative-path=\"\">, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                       <entry kind=\"macro\" name=\"PRODUCT\" value=\"\"\/>, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                       <entry kind=\"macro\" name=\"_WINDOWS\" value=\"\"\/>, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                   <\/resource>, $(LANGUAGE_SETTINGS))\n+    $$(call AppendFile,                <\/language>, $(LANGUAGE_SETTINGS))\n+    $$(call AppendFile,           <\/provider>, $(LANGUAGE_SETTINGS))\n+\n+    $$(call EmitEmptyLine, $(LANGUAGE_SETTINGS))\n+\n+    $$(call AppendFile,            <provider class=\"org.eclipse.cdt.core.language.settings.providers.LanguageSettingsGenericProvider\" id=\"org.eclipse.cdt.ui.UserLanguageSettingsProvider\" name=\"CDT User Setting Entries\" prefer-non-shared=\"true\" store-entries-with-project=\"true\">, $(LANGUAGE_SETTINGS))\n+    $$(call AppendFile,                <language id=\"org.eclipse.cdt.core.g++\">, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                    <resource project-relative-path=\"\">, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                        <entry kind=\"macro\" name=\"PRODUCT\" value=\"\"\/>, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                        <entry kind=\"macro\" name=\"_WINDOWS\" value=\"\"\/>, $(LANGUAGE_SETTINGS))\n+    # $$(call AppendFile,                    <\/resource>, $(LANGUAGE_SETTINGS))\n+    $$(call AppendFile,                <\/language>, $(LANGUAGE_SETTINGS))\n@@ -372,2 +394,2 @@\n-    # If CDT support was indicated there's no harm in including make, the cost of\n-    # indexing the make system is virtually non-existent\n+    # CDT includes a Makefile editor, so if CDT support was indicated there's no harm in\n+    # including the make sources as well, since the cost of indexing them is miniscule\n@@ -375,1 +397,0 @@\n-\n","filename":"make\/ide\/eclipse\/CreateWorkspace.gmk","additions":36,"deletions":15,"binary":false,"changes":51,"status":"modified"}]}