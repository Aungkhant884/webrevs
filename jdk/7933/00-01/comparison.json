{"files":[{"patch":"@@ -1841,1 +1841,1 @@\n-    PhaseStringOpts pso(initial_gvn(), for_igvn());\n+    PhaseStringOpts pso(initial_gvn());\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -46,0 +46,2 @@\n+  bool                _multiple;       \/\/ indicates this is a fusion of two or more\n+                                       \/\/ separate StringBuilders\n@@ -68,1 +70,2 @@\n-    _end(end) {\n+    _end(end),\n+    _multiple(false) {\n@@ -188,1 +191,1 @@\n-      log->head(\"replace_string_concat arguments='%d'\", num_arguments());\n+      log->head(\"replace_string_concat arguments='%d' multiple='%d'\", num_arguments(), _multiple);\n@@ -306,0 +309,1 @@\n+  result->_multiple = true;\n@@ -379,1 +383,2 @@\n-  uint encount = 0;\n+\n+  uint encountered = 0;\n@@ -385,1 +390,1 @@\n-      encount++;\n+      encountered++;\n@@ -399,1 +404,1 @@\n-  Atomic::add(&_stropts_encount, encount);\n+  Atomic::add(&_stropts_total, encountered);\n@@ -627,1 +632,1 @@\n-PhaseStringOpts::PhaseStringOpts(PhaseGVN* gvn, Unique_Node_List*):\n+PhaseStringOpts::PhaseStringOpts(PhaseGVN* gvn):\n@@ -2056,1 +2061,1 @@\n-uint PhaseStringOpts::_stropts_encount = 0;\n+uint PhaseStringOpts::_stropts_total = 0;\n@@ -2059,1 +2064,1 @@\n-  tty->print_cr(\"StringConcat: %4d\/%4d\/%4d(replaced\/merged\/encounter)\", _stropts_replaced, _stropts_merged, _stropts_encount);\n+  tty->print_cr(\"StringConcat: %4d\/%4d\/%4d(replaced\/merged\/total)\", _stropts_replaced, _stropts_merged, _stropts_total);\n","filename":"src\/hotspot\/share\/opto\/stringopts.cpp","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -115,1 +115,1 @@\n-  PhaseStringOpts(PhaseGVN* gvn, Unique_Node_List* worklist);\n+  PhaseStringOpts(PhaseGVN* gvn);\n@@ -122,1 +122,1 @@\n-  static uint _stropts_encount;\n+  static uint _stropts_total;\n","filename":"src\/hotspot\/share\/opto\/stringopts.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}