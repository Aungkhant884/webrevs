{"files":[{"patch":"@@ -528,1 +528,41 @@\n-#end[char]\n+    public $Type$Buffer put(int index, CharSequence csq, int start, int end) {\n+#if[rw]\n+        Objects.checkFromToIndex(start, end, csq.length());\n+        Objects.checkIndex(index, limit());\n+        if (end - start > limit() - index)\n+            throw new BufferOverflowException();\n+\n+        \/\/\n+        \/\/ Cannot delegate to put(int,CharBuffer,int,int) until after the check\n+        \/\/ for BufferOverflowException as that method would instead throw an\n+        \/\/ IndexOutOfBoundsException for the same condition\n+        \/\/\n+        if (csq instanceof CharBuffer cb)\n+            return put(index, cb, start, end - start);\n+\n+        if (csq instanceof String ||\n+            csq instanceof StringBuilder ||\n+            csq instanceof StringBuffer) {\n+\n+            char[] buf = new char[Math.min(APPEND_BUF_SIZE, end - start)];\n+            while (start < end) {\n+                int count = end - start;\n+                if (count > buf.length)\n+                    count = buf.length;\n+\n+                if (csq instanceof String str) {\n+                    str.getChars(start, start + count, buf, 0);\n+                } else if (csq instanceof StringBuilder sb) {\n+                    sb.getChars(start, start + count, buf, 0);\n+                } else if (csq instanceof StringBuffer sb) {\n+                    sb.getChars(start, start + count, buf, 0);\n+                }\n+\n+                putArray(index, buf, 0, count);\n+\n+                start += count;\n+                index += count;\n+            }\n+\n+            return this;\n+        }\n@@ -530,0 +570,7 @@\n+        return super.put(index, csq, start, end);\n+#else[rw]\n+        throw new ReadOnlyBufferException();\n+#end[rw]\n+    }\n+\n+#end[char]\n","filename":"src\/java.base\/share\/classes\/java\/nio\/Direct-X-Buffer.java.template","additions":48,"deletions":1,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -355,0 +355,32 @@\n+    public $Type$Buffer put(int index, CharSequence csq, int start, int end) {\n+#if[rw]\n+        Objects.checkFromToIndex(start, end, csq.length());\n+        Objects.checkIndex(index, limit());\n+        if (end - start > limit() - index)\n+            throw new BufferOverflowException();\n+\n+        \/\/\n+        \/\/ Cannot delegate to put(int,CharBuffer,int,int) until after the check\n+        \/\/ for BufferOverflowException as that method would instead throw an\n+        \/\/ IndexOutOfBoundsException for the same condition\n+        \/\/\n+        if (csq instanceof CharBuffer cb)\n+            return put(index, cb, start, end - start);\n+\n+        if (csq instanceof String str) {\n+            str.getChars(start, end, hb, ix(index)); \n+            return this;\n+        } else if (csq instanceof StringBuffer strbuf) {\n+            strbuf.getChars(start, end, hb, ix(index));\n+            return this;\n+        } else if (csq instanceof StringBuilder strbld) {\n+            strbld.getChars(start, end, hb, ix(index));\n+            return this;\n+        }\n+\n+        return super.put(index, csq, start, end);\n+#else[rw]\n+        throw new ReadOnlyBufferException();\n+#end[rw]\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/nio\/Heap-X-Buffer.java.template","additions":32,"deletions":0,"binary":false,"changes":32,"status":"modified"}]}