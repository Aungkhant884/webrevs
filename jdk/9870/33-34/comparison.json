{"files":[{"patch":"@@ -95,1 +95,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n@@ -109,1 +109,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n@@ -192,1 +192,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n@@ -254,1 +254,1 @@\n-            JNU_ThrowByNameWithLastError(env,\n+            JNU_ThrowByNameWithStrerror(env,\n@@ -277,1 +277,1 @@\n-                JNU_ThrowByNameWithLastError(env,\n+                JNU_ThrowByNameWithStrerror(env,\n","filename":"src\/java.base\/macosx\/native\/libjava\/ProcessHandleImpl_macosx.c","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -104,1 +104,1 @@\n-JNU_ThrowByNameWithLastError(JNIEnv *env, const char *name,\n+JNU_ThrowByNameWithStrerror(JNIEnv *env, const char *name,\n@@ -132,1 +132,1 @@\n-JNU_ThrowPerrorByNameWithMessage\n+JNU_ThrowByNamePerror\n","filename":"src\/java.base\/share\/native\/libjava\/jni_util.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-JNU_ThrowByNameWithLastError(JNIEnv *env, const char *name,\n+JNU_ThrowByNameWithStrerror(JNIEnv *env, const char *name,\n@@ -89,1 +89,1 @@\n-JNU_ThrowPerrorByNameWithMessage\n+JNU_ThrowByNamePerror\n","filename":"src\/java.base\/share\/native\/libjava\/jni_util.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -98,1 +98,5 @@\n-            if (snprintf(buffer, len + 1, __VA_ARGS__) > -1) perror(buffer); \\\n+            if (snprintf(buffer, len + 1, __VA_ARGS__) > -1) { \\\n+                perror(buffer); \\\n+            } else { \\\n+                fprintf(stderr, \"Failed to write to error buffer while logging error\\n\"); \\\n+            } \\\n@@ -100,1 +104,1 @@\n-            fprintf(stderr, \"JLI_Perror failed\\n\"); \\\n+            fprintf(stderr, \"Failed to allocate error buffer while logging error\\n\"); \\\n@@ -102,1 +106,2 @@\n-    } ((void) 0)\n+    } \\\n+    ((void) 0)\n","filename":"src\/java.base\/share\/native\/libjli\/jli_util.h","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -540,1 +540,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n","filename":"src\/java.base\/unix\/native\/libjava\/ProcessHandleImpl_unix.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n- * Call JNU_ThrowByNameWithLastError for java.io.IOException.\n+ * Call JNU_ThrowByNameWithStrerror for java.io.IOException.\n@@ -47,1 +47,1 @@\n-    JNU_ThrowByNameWithLastError(env, \"java\/io\/IOException\", defaultDetail);\n+    JNU_ThrowByNameWithStrerror(env, \"java\/io\/IOException\", defaultDetail);\n","filename":"src\/java.base\/unix\/native\/libjava\/jni_util_md.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -685,1 +685,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1132,1 +1132,1 @@\n-            JNU_ThrowPerrorByNameWithMessage\n+            JNU_ThrowByNamePerror\n@@ -1154,1 +1154,1 @@\n-                JNU_ThrowPerrorByNameWithMessage\n+                JNU_ThrowByNamePerror\n@@ -1159,1 +1159,1 @@\n-            JNU_ThrowPerrorByNameWithMessage\n+            JNU_ThrowByNamePerror\n@@ -1183,1 +1183,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1192,1 +1192,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1328,1 +1328,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1352,1 +1352,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1397,1 +1397,1 @@\n-                JNU_ThrowPerrorByNameWithMessage\n+                JNU_ThrowByNamePerror\n@@ -1402,1 +1402,1 @@\n-            JNU_ThrowPerrorByNameWithMessage\n+            JNU_ThrowByNamePerror\n@@ -1422,1 +1422,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1433,1 +1433,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1503,1 +1503,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1512,1 +1512,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1634,1 +1634,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1674,1 +1674,1 @@\n-                JNU_ThrowPerrorByNameWithMessage\n+                JNU_ThrowByNamePerror\n@@ -1679,1 +1679,1 @@\n-            JNU_ThrowPerrorByNameWithMessage\n+            JNU_ThrowByNamePerror\n@@ -1695,1 +1695,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1739,1 +1739,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n@@ -1835,1 +1835,1 @@\n-        JNU_ThrowPerrorByNameWithMessage\n+        JNU_ThrowByNamePerror\n","filename":"src\/java.base\/unix\/native\/libnet\/NetworkInterface.c","additions":20,"deletions":20,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-    JNU_ThrowPerrorByNameWithMessage(env, name, defaultDetail);\n+    JNU_ThrowByNamePerror(env, name, defaultDetail);\n@@ -88,1 +88,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\", msg);\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\", msg);\n","filename":"src\/java.base\/unix\/native\/libnet\/net_util_md.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -221,1 +221,1 @@\n-            JNU_ThrowByNameWithLastError(env,\n+            JNU_ThrowByNameWithStrerror(env,\n@@ -233,1 +233,1 @@\n-            JNU_ThrowByNameWithLastError(env,\n+            JNU_ThrowByNameWithStrerror(env,\n@@ -247,1 +247,1 @@\n-            JNU_ThrowByNameWithLastError(env,\n+            JNU_ThrowByNameWithStrerror(env,\n@@ -260,1 +260,1 @@\n-            JNU_ThrowByNameWithLastError(env,\n+            JNU_ThrowByNameWithStrerror(env,\n@@ -509,1 +509,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n@@ -568,1 +568,1 @@\n-        JNU_ThrowByNameWithLastError(env,\n+        JNU_ThrowByNameWithStrerror(env,\n@@ -947,1 +947,1 @@\n-    JNU_ThrowByNameWithLastError(env, xn, \"NioSocketError\");\n+    JNU_ThrowByNameWithStrerror(env, xn, \"NioSocketError\");\n","filename":"src\/java.base\/unix\/native\/libnio\/ch\/Net.c","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/net\/SocketException\", errmsg);\n+            JNU_ThrowByNameWithStrerror(env, \"java\/net\/SocketException\", errmsg);\n","filename":"src\/jdk.net\/linux\/native\/libextnet\/LinuxSocketOptions.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/net\/SocketException\", errmsg);\n+            JNU_ThrowByNameWithStrerror(env, \"java\/net\/SocketException\", errmsg);\n","filename":"src\/jdk.net\/macosx\/native\/libextnet\/MacOSXSocketOptions.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/net\/SocketException\", errmsg);\n+            JNU_ThrowByNameWithStrerror(env, \"java\/net\/SocketException\", errmsg);\n","filename":"src\/jdk.net\/windows\/native\/libextnet\/WindowsSocketOptions.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -148,1 +148,1 @@\n-    JNU_ThrowByNameWithLastError(env, xn, \"NioSocketError\");\n+    JNU_ThrowByNameWithStrerror(env, xn, \"NioSocketError\");\n@@ -194,1 +194,1 @@\n-            JNU_ThrowByNameWithLastError(env, \"java\/lang\/UnsupportedOperationException\",\n+            JNU_ThrowByNameWithStrerror(env, \"java\/lang\/UnsupportedOperationException\",\n@@ -504,1 +504,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -525,1 +525,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -545,1 +545,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -559,1 +559,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -583,1 +583,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -609,1 +609,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -634,1 +634,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -652,1 +652,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n@@ -678,1 +678,1 @@\n-        JNU_ThrowByNameWithLastError(env, JNU_JAVANETPKG \"SocketException\",\n+        JNU_ThrowByNameWithStrerror(env, JNU_JAVANETPKG \"SocketException\",\n","filename":"src\/jdk.sctp\/unix\/native\/libsctp\/SctpNet.c","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"}]}