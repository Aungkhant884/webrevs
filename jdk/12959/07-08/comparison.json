{"files":[{"patch":"@@ -33,1 +33,1 @@\n- * @run testng DataDescriptorSignatureMissing\n+ * @run junit DataDescriptorSignatureMissing\n@@ -36,1 +36,2 @@\n-import org.testng.annotations.Test;\n+\n+import org.junit.jupiter.api.Test;\n@@ -44,2 +45,1 @@\n-import static org.testng.Assert.assertEquals;\n-import static org.testng.Assert.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.*;\n@@ -63,2 +63,2 @@\n-            assertEquals(first.getName(), \"first\");\n-            assertEquals(in.readAllBytes(), \"first\".getBytes(StandardCharsets.UTF_8));\n+            assertEquals(\"first\", first.getName());\n+            assertArrayEquals(\"first\".getBytes(StandardCharsets.UTF_8), in.readAllBytes());\n@@ -68,2 +68,2 @@\n-            assertEquals(second.getName(), \"second\");\n-            assertEquals(in.readAllBytes(), \"second\".getBytes(StandardCharsets.UTF_8));\n+            assertEquals(\"second\", second.getName());\n+            assertArrayEquals(\"second\".getBytes(StandardCharsets.UTF_8), in.readAllBytes());\n@@ -75,1 +75,34 @@\n-     * Produce a ZIP file where the first entry has a signature-less data descriptor\n+     * The 'Data descriptor' record is used to facilitate ZIP streaming. If the size of an\n+     * entry is unknown at the time the LOC header is written, bit 3 of the General Purpose Bit Flag\n+     * is set, and the File data is immediately followed by the 'Data descriptor' record. This record\n+     * then contains the compressed and uncompressed sizes of the entry and also the CRC value.\n+     *\n+     * The 'Data descriptor' record is usually preceded by the recommended, but optional\n+     * signature value 0x08074b50.\n+     *\n+     * A ZIP entry in streaming mode has the following structure:\n+     *\n+     *  ------  Local File Header  ------\n+     *  000000  signature          0x04034b50\n+     *  000004  version            20\n+     *  000006  flags              0x0808   # Notice bit 3 is set\n+     *  [..] Omitted for brevity\n+     *\n+     *  ------  File Data  ------\n+     *  000035  data               7 bytes\n+     *\n+     *  ------  Data Descriptor  ------\n+     *  000042  signature          0x08074b50\n+     *  000046  crc                0x3610a686\n+     *  000050  csize              7\n+     *  000054  size               5\n+     *\n+     * A signature-less data descriptor will look like the following:\n+     *\n+     *  ------  Data Descriptor  ------\n+     *  000042  crc                0x3610a686\n+     *  000046  csize              7\n+     *  000050  size               5\n+     *\n+     * This method produces a ZIP with two entries, where the first entry\n+     * is made signature-less.\n","filename":"test\/jdk\/java\/util\/zip\/DataDescriptorSignatureMissing.java","additions":42,"deletions":9,"binary":false,"changes":51,"status":"modified"}]}