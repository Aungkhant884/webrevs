{"files":[{"patch":"@@ -2325,1 +2325,3 @@\n-                new FieldValues(slots[i].desc, true);\n+                if (slots[i].hasData) {\n+                    new FieldValues(slots[i].desc, true);\n+                }\n@@ -2547,1 +2549,0 @@\n-\n@@ -2561,3 +2562,0 @@\n-            primValues = new byte[desc.getPrimDataSize()];\n-            objValues = new Object[desc.getNumObjFields()];\n-            objHandles = new int[objValues.length];\n@@ -2565,1 +2563,5 @@\n-            bin.readFully(primValues, 0, primValues.length, false);\n+            int primDataSize = desc.getPrimDataSize();\n+            primValues = (primDataSize > 0) ? new byte[primDataSize] : null;\n+            if (primDataSize > 0) {\n+                bin.readFully(primValues, 0, primDataSize, false);\n+            }\n@@ -2568,0 +2570,2 @@\n+            objValues = (numObjFields > 0) ? new Object[numObjFields] : null;\n+            objHandles = (numObjFields > 0) ? new int[numObjFields] : null;\n","filename":"src\/java.base\/share\/classes\/java\/io\/ObjectInputStream.java","additions":10,"deletions":6,"binary":false,"changes":16,"status":"modified"}]}