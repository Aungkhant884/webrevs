{"files":[{"patch":"@@ -41,1 +41,0 @@\n-import jdk.test.lib.util.ForceGC;\n@@ -44,1 +43,0 @@\n-import javax.net.ssl.SSLSocket;\n@@ -46,1 +44,0 @@\n-import java.io.InputStream;\n@@ -48,2 +45,0 @@\n-import java.lang.ref.WeakReference;\n-import java.net.SocketException;\n@@ -51,1 +46,0 @@\n-import java.util.Arrays;\n@@ -56,1 +50,1 @@\n-        if (args.length == 0) {\n+        if (args.length > 0) {\n@@ -66,2 +60,1 @@\n-            String clientCipherSuites = \"-Djdk.tls.client.cipherSuites=TLS_RSA_WITH_AES_128_CBC_SHA\";\n-            String serverCipherSuites = \"-Djdk.tls.server.cipherSuites=TLS_RSA_WITH_AES_128_CBC_SHA\";\n+            String clientTLSVersion = \"-Djdk.tls.client.protocols=TLSv1.2\";\n@@ -71,2 +64,2 @@\n-            List<String> jvmArgs = List.of(clientCipherSuites,\n-                    serverCipherSuites,\n+            List<String> jvmArgs = List.of(\n+                    clientTLSVersion,\n@@ -80,1 +73,1 @@\n-                output.asLines().forEach(System.out::println); \/\/ will\n+                output.asLines().forEach(System.out::println); \/\/ No need to dump the output unless the test fails\n@@ -83,2 +76,7 @@\n-            output.shouldContain(\"SSLSocket close failed. Debug info only. Exception details:\");\n-            output.shouldContain(\"SSLSocket duplex close failed. Debug info only. Exception details:\");\n+\n+            try {\n+                output.shouldContain(\"SSLSocket duplex close failed. Debug info only. Exception details:\");\n+            } catch (Exception ex) {\n+                output.asLines().forEach(System.out::println); \/\/ No need to dump the output unless the test fails\n+                throw ex;\n+            }\n@@ -90,1 +88,1 @@\n-        String urlString = serverAddress.getHostAddress() + serverPort + \"\/\";\n+        String urlString = \"https:\/\/localhost:\" + serverPort + \"\/\";\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSocketImpl\/IgnorableExceptionMessages.java","additions":13,"deletions":15,"binary":false,"changes":28,"status":"modified"}]}