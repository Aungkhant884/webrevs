{"files":[{"patch":"@@ -259,1 +259,2 @@\n-            if (ke != null && ke.getErrorCode() ==\n+            if (ke != null) {\n+                if (ke.getErrorCode() ==\n@@ -261,1 +262,5 @@\n-                ibuf = send(obuf, tempKdc, true);\n+                    ibuf = send(obuf, tempKdc, true);\n+                } else if (ke.getErrorCode() ==\n+                        Krb5.KDC_ERR_SVC_UNAVAILABLE) {\n+                    throw new KrbException(\"A service is not available\");\n+                }\n","filename":"src\/java.security.jgss\/share\/classes\/sun\/security\/krb5\/KdcComm.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -253,0 +253,1 @@\n+    public static final int KDC_ERR_SVC_UNAVAILABLE      = 29;   \/\/A service is not available\n","filename":"src\/java.security.jgss\/share\/classes\/sun\/security\/krb5\/internal\/Krb5.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}