{"files":[{"patch":"@@ -82,26 +82,0 @@\n-    \/**\n-     * Invalidates the currentContext field to ensure that we properly\n-     * revalidate the MTLContext (make it current, etc.) next time through\n-     * the validate() method.  This is typically invoked from methods\n-     * that affect the current context state (e.g. disposing a context or\n-     * surface).\n-     *\/\n-    public static void invalidateCurrentContext() {\n-        \/\/ assert MTLRenderQueue.getInstance().lock.isHeldByCurrentThread();\n-\n-        \/\/ invalidate the current Java-level context so that we\n-        \/\/ revalidate everything the next time around\n-        if (currentContext != null) {\n-            currentContext.invalidateContext();\n-            currentContext = null;\n-        }\n-\n-        \/\/ invalidate the context reference at the native level, and\n-        \/\/ then flush the queue so that we have no pending operations\n-        \/\/ dependent on the current context\n-        MTLRenderQueue rq = MTLRenderQueue.getInstance();\n-        rq.ensureCapacity(4);\n-        rq.getBuffer().putInt(INVALIDATE_CONTEXT);\n-        rq.flushNow();\n-    }\n-\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/java2d\/metal\/MTLContext.java","additions":0,"deletions":26,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -148,3 +148,0 @@\n-            \/\/ getMTLConfigInfo() creates new MTLContext, so we should first\n-            \/\/ invalidate the current Java-level context and flush the queue...\n-            MTLContext.invalidateCurrentContext();\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/java2d\/metal\/MTLGraphicsConfig.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -670,10 +670,0 @@\n-                case sun_java2d_pipe_BufferedOpCodes_INVALIDATE_CONTEXT:\n-                {\n-                    CHECK_PREVIOUS_OP(MTL_OP_OTHER);\n-                    \/\/ invalidate the references to the current context and\n-                    \/\/ destination surface that are maintained at the native level\n-                    if (mtlc != NULL) {\n-                        commitEncodedCommands();\n-                        RESET_PREVIOUS_OP();\n-                        [mtlc reset];\n-                    }\n@@ -681,9 +671,0 @@\n-                    MTLTR_FreeGlyphCaches();\n-                    if (dstOps != NULL) {\n-                        MTLSD_Delete(env, dstOps);\n-                    }\n-\n-                    mtlc = NULL;\n-                    dstOps = NULL;\n-                    break;\n-                }\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLRenderQueue.m","additions":0,"deletions":19,"binary":false,"changes":19,"status":"modified"}]}