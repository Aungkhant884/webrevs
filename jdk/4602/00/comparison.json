{"files":[{"patch":"@@ -1611,0 +1611,1 @@\n+    mark_as_seen_on_stack();\n","filename":"src\/hotspot\/share\/code\/nmethod.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2209,0 +2209,1 @@\n+  assert(!nm->is_zombie(), \"nmethod zombie in post_compiled_method_load\");\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -965,1 +965,4 @@\n-  \/\/ Post and destroy queue nodes\n+  \/\/ Post events while nmethods are still in the queue and can't be unloaded or made zombie\n+  for (QueueNode* node = _queue_head; node != NULL; node = node->next()) {\n+    node->event().post_compiled_method_load_event(env);\n+  }\n@@ -967,2 +970,1 @@\n-     JvmtiDeferredEvent event = dequeue();\n-     event.post_compiled_method_load_event(env);\n+    dequeue();\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -114,1 +114,0 @@\n-serviceability\/jvmti\/CompiledMethodLoad\/Zombie.java 8245877 linux-aarch64\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}