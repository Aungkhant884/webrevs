{"files":[{"patch":"@@ -666,10 +666,4 @@\n-  if test \"x$FLAGS_CPU_BITS\" = x64; then\n-    # -D_LP64=1 is only set on linux and mac. Setting on windows causes diff in\n-    # unpack200.exe.\n-    if test \"x$FLAGS_OS\" = xlinux || test \"x$FLAGS_OS\" = xmacosx; then\n-      $1_DEFINES_CPU_JDK=\"${$1_DEFINES_CPU_JDK} -D_LP64=1\"\n-    fi\n-    if test \"x$FLAGS_OS\" != xaix; then\n-      # xlc on AIX defines _LP64=1 by default and issues a warning if we redefine it.\n-      $1_DEFINES_CPU_JVM=\"${$1_DEFINES_CPU_JVM} -D_LP64=1\"\n-    fi\n+  if test \"x$FLAGS_CPU_BITS\" = x64 && test \"x$FLAGS_OS\" != xaix; then\n+    # xlc on AIX defines _LP64=1 by default and issues a warning if we redefine it.\n+    $1_DEFINES_CPU_JDK=\"${$1_DEFINES_CPU_JDK} -D_LP64=1\"\n+    $1_DEFINES_CPU_JVM=\"${$1_DEFINES_CPU_JVM} -D_LP64=1\"\n","filename":"make\/autoconf\/flags-cflags.m4","additions":4,"deletions":10,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -25,0 +25,1 @@\n+#include \"jlong.h\"\n@@ -31,1 +32,1 @@\n-    return (jlong) p;\n+    return ptr_to_jlong(p);\n@@ -36,1 +37,1 @@\n-    free((Point*) thisPoint);\n+    free(jlong_to_ptr(thisPoint));\n@@ -41,1 +42,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = jlong_to_ptr(thisPoint);\n@@ -47,1 +48,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = jlong_to_ptr(thisPoint);\n@@ -53,1 +54,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = jlong_to_ptr(thisPoint);\n@@ -59,1 +60,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = jlong_to_ptr(thisPoint);\n","filename":"test\/micro\/org\/openjdk\/bench\/jdk\/incubator\/foreign\/points\/support\/libJNIPoint.c","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"}]}