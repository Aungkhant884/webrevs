{"files":[{"patch":"@@ -667,3 +667,1 @@\n-    # -D_LP64=1 is only set on linux and mac. Setting on windows causes diff in\n-    # unpack200.exe.\n-    if test \"x$FLAGS_OS\" = xlinux || test \"x$FLAGS_OS\" = xmacosx; then\n+    if test \"x$FLAGS_OS\" = xlinux || test \"x$FLAGS_OS\" = xmacosx || test \"x$FLAGS_OS\" = xwindows; then\n","filename":"make\/autoconf\/flags-cflags.m4","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,0 +28,8 @@\n+#ifdef _LP64\n+#define JLONG_TO_PTR(value, type) ((type*) (value))\n+#define PTR_TO_JLONG(value) ((jlong) (value))\n+#else\n+#define JLONG_TO_PTR(value, type) ((type*) (jint) (value))\n+#define PTR_TO_JLONG(value) ((jlong) (jint) (value))\n+#endif\n+\n@@ -31,1 +39,1 @@\n-    return (jlong) p;\n+    return PTR_TO_JLONG(p);\n@@ -36,1 +44,1 @@\n-    free((Point*) thisPoint);\n+    free(JLONG_TO_PTR(thisPoint, Point));\n@@ -41,1 +49,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = JLONG_TO_PTR(thisPoint, Point);\n@@ -47,1 +55,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = JLONG_TO_PTR(thisPoint, Point);\n@@ -53,1 +61,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = JLONG_TO_PTR(thisPoint, Point);\n@@ -59,1 +67,1 @@\n-    Point* point = (Point*) thisPoint;\n+    Point* point = JLONG_TO_PTR(thisPoint, Point);\n","filename":"test\/micro\/org\/openjdk\/bench\/jdk\/incubator\/foreign\/points\/support\/libJNIPoint.c","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"}]}