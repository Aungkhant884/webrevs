{"files":[{"patch":"@@ -579,1 +579,1 @@\n-  assert(lockObject() != NULL, \"unexpected double_lock_wait\");\n+  assert(lockObject() != NULL, \"lockObject must be non-NULL\");\n@@ -582,2 +582,2 @@\n-  assert(calledholdinglock,\"must hold lock for notify\");\n-  assert(!is_parallelCapable(lockObject), \"unexpected double_lock_wait\");\n+  assert(calledholdinglock, \"must hold lock for notify\");\n+  assert(!is_parallelCapable(lockObject), \"lockObject must not be parallelCapable\");\n@@ -586,1 +586,1 @@\n-  intx recursions =  ObjectSynchronizer::complete_exit(lockObject, thread);\n+  intx recursions = ObjectSynchronizer::complete_exit(lockObject, thread);\n@@ -1104,1 +1104,0 @@\n-  assert(st != NULL, \"invariant\");\n@@ -1633,1 +1632,0 @@\n-  HandleMark hm(THREAD);\n@@ -1635,1 +1633,1 @@\n-  assert(loader_data->class_loader() == class_loader(), \"they are the same\");\n+  assert(loader_data->class_loader() == class_loader(), \"they must be the same\");\n@@ -1677,2 +1675,0 @@\n-    assert(name_hash == placeholders()->compute_hash(name_h), \"they're the same\");\n-\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":5,"deletions":9,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -1033,0 +1033,1 @@\n+      unsigned int d_hash = dictionary->compute_hash(name);\n@@ -1034,3 +1035,0 @@\n-\n-      \/\/ Make sure we are synchronized on the class loader before we proceed\n-      \/\/\n@@ -1039,5 +1037,2 @@\n-      \/\/ which are parallel-capable loaders, so this lock is NOT taken.\n-      Handle lockObject = compute_loader_lock_object(THREAD, class_loader);\n-      check_loader_lock_contention(THREAD, lockObject);\n-      ObjectLocker ol(lockObject, THREAD);\n-\n+      \/\/ which are parallel-capable loaders, so a lock here is NOT taken.\n+      assert(is_parallelCapable(class_loader), \"ObjectLocker not required\");\n@@ -1046,1 +1041,0 @@\n-        unsigned int d_hash = dictionary->compute_hash(name);\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.cpp","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"}]}