{"files":[{"patch":"@@ -136,1 +136,5 @@\n-#ifndef LP64 \/\/ Since this is a hot path, do this only if really needed.\n+    debug_only(if (UseMallocOnly) return malloc(x);)\n+    \/\/ JDK-8270308: Amalloc guarantees 64-bit alignment and we need to ensure that in case the preceding\n+    \/\/ allocation was AmallocWords. Note though that padding plays havoc with arenas holding packed arrays,\n+    \/\/ like HandleAreas. Those areas should never mix Amalloc.. calls with differing alignment.\n+#ifndef LP64 \/\/ Since this is a hot path, and on 64-bit Amalloc and AmallocWords are identical, restrict this alignment to 32-bit.\n@@ -140,1 +144,0 @@\n-    debug_only(if (UseMallocOnly) return malloc(x);)\n","filename":"src\/hotspot\/share\/memory\/arena.hpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}