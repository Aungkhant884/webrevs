{"files":[{"patch":"@@ -1269,9 +1269,0 @@\n-address Method::from_compiled_entry_no_trampoline() const {\n-  CompiledMethod *code = Atomic::load_acquire(&_code);\n-  if (code) {\n-    return code->verified_entry_point();\n-  } else {\n-    return adapter()->get_c2i_entry();\n-  }\n-}\n-\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -150,1 +150,0 @@\n-  address from_compiled_entry_no_trampoline() const;\n","filename":"src\/hotspot\/share\/oops\/method.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2100,2 +2100,0 @@\n-  address entry_point = moop->from_compiled_entry_no_trampoline();\n-\n@@ -2112,0 +2110,8 @@\n+  \/\/ Result from nmethod::is_unloading is not stable across safepoints.\n+  NoSafepointVerifier nsv;\n+\n+  CompiledMethod* callee = moop->code();\n+  if (callee == NULL) {\n+    return;\n+  }\n+\n@@ -2113,1 +2119,1 @@\n-  if (cb == NULL || !cb->is_compiled() || entry_point == moop->get_c2i_entry()) {\n+  if (cb == NULL || !cb->is_compiled() || callee->is_unloading()) {\n@@ -2171,0 +2177,1 @@\n+      address entry_point = callee->verified_entry_point();\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntime.cpp","additions":10,"deletions":3,"binary":false,"changes":13,"status":"modified"}]}