{"files":[{"patch":"@@ -54,12 +54,22 @@\n-            System.out.println(\"orig font \" + origFont);\n-            UIManager.setLookAndFeel(\"javax.swing.plaf.nimbus.NimbusLookAndFeel\");\n-            SwingUtilities.updateComponentTreeUI(fc);\n-            System.out.println(\"Nimbus font \" + fc.getFont());\n-            SwingUtilities.invokeAndWait(() -> setLookAndFeel(laf));\n-            SwingUtilities.updateComponentTreeUI(fc);\n-            Font curFont = fc.getFont();\n-            System.out.println(\"current font \" + curFont);\n-            if (curFont != null && !curFont.equals(origFont)) {\n-                throw new RuntimeException(\n-                     \"JFileChooser font did not reset after Look & Feel change\");\n-            }\n+            System.out.println(\" orig font \" + origFont);\n+            for (UIManager.LookAndFeelInfo newLaF :\n+                UIManager.getInstalledLookAndFeels()) {\n+                if (laf.equals(newLaF)) {\n+                    \/\/ Skip same laf\n+                    continue;\n+                }\n+                System.out.println(\"Transition to L&F: \" + newLaF);\n+                SwingUtilities.invokeAndWait(() -> setLookAndFeel(newLaF));\n+                SwingUtilities.updateComponentTreeUI(fc);\n+                SwingUtilities.invokeAndWait(() -> setLookAndFeel(laf));\n+                System.out.println(\"Back to L&F: \" + laf);\n+                SwingUtilities.updateComponentTreeUI(fc);\n+                Font curFont = fc.getFont();\n+                System.out.println(\"current font \" + curFont);\n+                if (curFont != null && !curFont.equals(origFont)) {\n+                    throw new RuntimeException(\n+                         \"JFileChooser font did not reset after Look & Feel change\");\n+                }\n+\t    }\n+\t    System.out.println(\"\");\n+\t    System.out.println(\"\");\n@@ -69,0 +79,1 @@\n+\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/JFileChooserFontReset.java","additions":23,"deletions":12,"binary":false,"changes":35,"status":"modified"}]}