{"files":[{"patch":"@@ -2440,0 +2440,4 @@\n+bool Matcher::supports_vector_variable_rotates(VectorNode *n) {\n+  return false; \/\/ not supported\n+}\n+\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1000,0 +1000,4 @@\n+bool Matcher::supports_vector_variable_rotates(VectorNode *n) {\n+  return false; \/\/ not supported\n+}\n+\n","filename":"src\/hotspot\/cpu\/arm\/arm.ad","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2156,0 +2156,4 @@\n+bool Matcher::supports_vector_variable_rotates(VectorNode *n) {\n+  return false; \/\/ not supported\n+}\n+\n","filename":"src\/hotspot\/cpu\/ppc\/ppc.ad","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1553,0 +1553,4 @@\n+bool Matcher::supports_vector_variable_rotates(VectorNode *n) {\n+  return false; \/\/ not supported\n+}\n+\n","filename":"src\/hotspot\/cpu\/s390\/s390.ad","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1817,0 +1817,5 @@\n+bool Matcher::supports_vector_variable_rotates(VectorNode *n) {\n+  BasicType bt = n->vect_type()->element_basic_type();\n+  return match_rule_supported_vector(n->Opcode(), n->length(), bt);\n+}\n+\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -351,0 +351,3 @@\n+  \/\/ Does the CPU supports vector vairable rotate instructions?\n+  static bool supports_vector_variable_rotates(VectorNode *n);\n+\n","filename":"src\/hotspot\/share\/opto\/matcher.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1175,1 +1175,2 @@\n-  if (!Matcher::match_rule_supported_vector(Op_RotateLeftV, vlen, bt)) {\n+  if ((!in(2)->is_Con() && !Matcher::supports_vector_variable_rotates(this)) ||\n+       !Matcher::match_rule_supported_vector(Op_RotateLeftV, vlen, bt)) {\n@@ -1184,1 +1185,2 @@\n-  if (!Matcher::match_rule_supported_vector(Op_RotateRightV, vlen, bt)) {\n+  if ((!in(2)->is_Con() && !Matcher::supports_vector_variable_rotates(this)) ||\n+       !Matcher::match_rule_supported_vector(Op_RotateRightV, vlen, bt)) {\n","filename":"src\/hotspot\/share\/opto\/vectornode.cpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}