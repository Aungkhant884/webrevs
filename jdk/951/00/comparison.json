{"files":[{"patch":"@@ -772,1 +772,0 @@\n-javax\/swing\/JFileChooser\/8021253\/bug8021253.java 8169954 windows-all,linux-all,macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+    private static JFrame frame;\n@@ -52,0 +53,3 @@\n+        try {\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(100);\n@@ -53,8 +57,5 @@\n-        Robot robot = new Robot();\n-        robot.setAutoDelay(50);\n-\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            public void run() {\n-                createAndShowGUI();\n-            }\n-        });\n+            SwingUtilities.invokeAndWait(new Runnable() {\n+                public void run() {\n+                    createAndShowGUI();\n+                }\n+            });\n@@ -62,1 +63,2 @@\n-        robot.waitForIdle();\n+            robot.waitForIdle();\n+            robot.delay(1000);\n@@ -64,5 +66,5 @@\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            public void run() {\n-                fileChooser.setSelectedFile(file);\n-            }\n-        });\n+            SwingUtilities.invokeAndWait(new Runnable() {\n+                public void run() {\n+                    fileChooser.setSelectedFile(file);\n+                }\n+            });\n@@ -70,1 +72,1 @@\n-        robot.waitForIdle();\n+            robot.waitForIdle();\n@@ -72,3 +74,3 @@\n-        robot.keyPress(KeyEvent.VK_ENTER);\n-        robot.keyRelease(KeyEvent.VK_ENTER);\n-        robot.waitForIdle();\n+            robot.keyPress(KeyEvent.VK_ENTER);\n+            robot.keyRelease(KeyEvent.VK_ENTER);\n+            robot.waitForIdle();\n@@ -76,2 +78,7 @@\n-        if (!defaultKeyPressed) {\n-            throw new RuntimeException(\"Default button is not pressed\");\n+            if (!defaultKeyPressed) {\n+                throw new RuntimeException(\"Default button is not pressed\");\n+            }\n+        } finally {\n+            if (frame != null) {\n+                SwingUtilities.invokeAndWait(frame::dispose);\n+            }\n@@ -85,1 +92,1 @@\n-        final JFrame frame = new JFrame(\"Test\");\n+        frame = new JFrame(\"Test\");\n@@ -100,0 +107,1 @@\n+        frame.setLocationRelativeTo(null);\n","filename":"test\/jdk\/javax\/swing\/JFileChooser\/8021253\/bug8021253.java","additions":29,"deletions":21,"binary":false,"changes":50,"status":"modified"}]}