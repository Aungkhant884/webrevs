{"files":[{"patch":"@@ -26,0 +26,4 @@\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n@@ -29,1 +33,0 @@\n-import javax.swing.JTextField;\n@@ -39,1 +42,1 @@\n- * @summary Check whether typing <Enter> key generates\n+ * @summary Check whether pressing <Enter> key generates\n@@ -74,1 +77,0 @@\n-        panel.add(new JTextField(\"Text field\"));\n@@ -90,1 +92,7 @@\n-        for (UIManager.LookAndFeelInfo laf : UIManager.getInstalledLookAndFeels()) {\n+        \/\/Filter out Windows related LnFs.\n+        List<String> winlafs = Arrays.stream(UIManager.getInstalledLookAndFeels())\n+                .filter(laf -> laf.getName().startsWith(\"Windows\"))\n+                .map(laf -> laf.getClassName())\n+                .collect(Collectors.toList());\n+\n+        for (String laf : winlafs) {\n@@ -93,7 +101,5 @@\n-                String lafName = laf.getClassName();\n-                if (lafName.endsWith(\"WindowsLookAndFeel\") || lafName.endsWith(\"WindowsClassicLookAndFeel\")) {\n-                    System.out.println(\"Testing L&F: \" + lafName);\n-                    SwingUtilities.invokeAndWait(() -> {\n-                        setLookAndFeel(lafName);\n-                        createUI();\n-                    });\n+                System.out.println(\"Testing L&F: \" + laf);\n+                SwingUtilities.invokeAndWait(() -> {\n+                    setLookAndFeel(laf);\n+                    createUI();\n+                });\n@@ -101,4 +107,4 @@\n-                    robot.waitForIdle();\n-                    robot.keyPress(KeyEvent.VK_ENTER);\n-                    robot.keyRelease(KeyEvent.VK_ENTER);\n-                    robot.waitForIdle();\n+                robot.waitForIdle();\n+                robot.keyPress(KeyEvent.VK_ENTER);\n+                robot.keyRelease(KeyEvent.VK_ENTER);\n+                robot.waitForIdle();\n@@ -106,5 +112,2 @@\n-                    if (buttonPressed) {\n-                        System.out.println(\"Test Passed for L&F: \" + lafName);\n-                    } else {\n-                        throw new RuntimeException(\"Test Failed, button not pressed for L&F: \" + lafName);\n-                    }\n+                if (buttonPressed) {\n+                    System.out.println(\"Test Passed for L&F: \" + laf);\n@@ -112,1 +115,1 @@\n-                    System.out.println(\"Skipping L&F: \" + lafName);\n+                    throw new RuntimeException(\"Test Failed, button not pressed for L&F: \" + laf);\n@@ -114,0 +117,1 @@\n+\n","filename":"test\/jdk\/javax\/swing\/JButton\/4659800\/EnterKeyActivatesButton.java","additions":25,"deletions":21,"binary":false,"changes":46,"status":"modified"}]}