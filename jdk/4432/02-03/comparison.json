{"files":[{"patch":"@@ -48,0 +48,1 @@\n+import java.net.ProxySelector;\n@@ -88,2 +89,1 @@\n-            System.setProperty(\"https.proxyPort\",\n-                        Integer.toString(proxy.getLocalPort()));\n+            ProxySelector.setDefault(ProxySelector.of(new InetSocketAddress(firstNonLoAddress, proxy.getLocalPort())));\n@@ -184,1 +184,1 @@\n-        if(uc.getResponseCode() == 400) {\n+        if(uc.getResponseCode() != 200) {\n@@ -186,1 +186,1 @@\n-            throw new RuntimeException(\"Test failed : bad http request\");\n+            throw new RuntimeException(\"Test failed : bad http request with response code : \"+ uc.getResponseCode());\n","filename":"test\/jdk\/sun\/net\/www\/protocol\/https\/HttpsURLConnection\/B6216082.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"}]}