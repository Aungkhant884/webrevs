{"files":[{"patch":"@@ -39,0 +39,2 @@\n+    private static Robot robot = null;\n+\n@@ -58,0 +60,18 @@\n+\n+        BufferedImage capture = null;\n+        try {\n+            Thread.sleep(500);\n+            if (robot == null) robot = new Robot();\n+            Point pt1 = getLocationOnScreen();\n+            Rectangle rect = new Rectangle(pt1.x, pt1.y, 400, 400);\n+            capture = robot.createScreenCapture(rect);\n+        } catch (Exception e) {\n+            throw new RuntimeException(\"Problems handling Robot\");\n+        }\n+        \/\/ Test pixels\n+        testRegion(capture, \"green\",          0,   0, 400,  10, 0xff00ff00);\n+        testRegion(capture, \"original red\",   0,  10,  50, 400, 0xffff0000);\n+        testRegion(capture, \"background\",    50,  10,  60, 400, 0xff000000);\n+        testRegion(capture, \"in-between\",    60,  10, 110,  20, 0xff000000);\n+        testRegion(capture, \"copied red\",    60,  20, 110, 400, 0xffff0000);\n+        testRegion(capture, \"background\",   110,  10, 400, 400, 0xff000000);\n@@ -95,2 +115,0 @@\n-        \/\/ Grab the screen region\n-        BufferedImage capture = null;\n@@ -98,12 +116,4 @@\n-            Robot robot = new Robot();\n-            robot.waitForIdle();\n-            robot.delay(2000);\n-            Point pt1 = test.getLocationOnScreen();\n-            Rectangle rect = new Rectangle(pt1.x, pt1.y, 400, 400);\n-            capture = robot.createScreenCapture(rect);\n-        } catch (Exception e) {\n-            throw new RuntimeException(\"Problems creating Robot\");\n-        } finally {\n-            if (!show) {\n-                frame.dispose();\n-            }\n+            Thread.sleep(3000);\n+        } catch (InterruptedException ex) {}\n+        if (!show) {\n+            frame.dispose();\n@@ -111,8 +121,0 @@\n-\n-        \/\/ Test pixels\n-        testRegion(capture, \"green\",          0,   0, 400,  10, 0xff00ff00);\n-        testRegion(capture, \"original red\",   0,  10,  50, 400, 0xffff0000);\n-        testRegion(capture, \"background\",    50,  10,  60, 400, 0xff000000);\n-        testRegion(capture, \"in-between\",    60,  10, 110,  20, 0xff000000);\n-        testRegion(capture, \"copied red\",    60,  20, 110, 400, 0xffff0000);\n-        testRegion(capture, \"background\",   110,  10, 400, 400, 0xff000000);\n","filename":"test\/jdk\/java\/awt\/Graphics2D\/CopyAreaOOB.java","additions":24,"deletions":22,"binary":false,"changes":46,"status":"modified"}]}