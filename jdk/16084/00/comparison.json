{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import java.io.IOException;\n@@ -29,0 +30,1 @@\n+import java.nio.file.attribute.PosixFileAttributeView;\n@@ -30,1 +32,0 @@\n-import java.io.IOException;\n@@ -103,0 +104,4 @@\n+        \/\/ POSIX attributes not supported on FAT\n+        if (type == PosixFileAttributeView.class &&\n+            entry().fstype().equals(\"msdos\"))\n+            return false;\n","filename":"src\/java.base\/macosx\/classes\/sun\/nio\/fs\/BsdFileStore.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -48,0 +48,12 @@\n+    private static final String FAT32_TYPE;\n+    static {\n+        if (Platform.isLinux())\n+            FAT32_TYPE = \"vfat\";\n+        else if (Platform.isOSX())\n+            FAT32_TYPE = \"msdos\";\n+        else if (Platform.isWindows())\n+            FAT32_TYPE = \"FAT32\";\n+        else\n+            FAT32_TYPE = \"unknown\";\n+    }\n+\n@@ -51,0 +63,1 @@\n+    private static boolean targetVolumeIsFAT32 = false;\n@@ -68,0 +81,2 @@\n+            targetVolumeIsFAT32 = fileStore2.type().equals(FAT32_TYPE);\n+\n@@ -101,0 +116,1 @@\n+            targetVolumeIsFAT32 = false;\n@@ -134,4 +150,9 @@\n-\n-            if (time1 != time2) {\n-                System.err.format(\"File time for %s is %s\\n\", attrs1.fileKey(), attrs1.lastModifiedTime());\n-                System.err.format(\"File time for %s is %s\\n\", attrs2.fileKey(), attrs2.lastModifiedTime());\n+            long delta = Math.abs(Math.subtractExact(time1, time2));\n+\n+            \/\/ FAT32 volumes have a time stamp resolution of 2 seconds for\n+            \/\/ last modified time (write time)\n+            if ((delta != 0 && !targetVolumeIsFAT32) || delta > 2) {\n+                System.err.format(\"File time for %s is %s\\n\",\n+                                  attrs1.fileKey(), attrs1.lastModifiedTime());\n+                System.err.format(\"File time for %s is %s\\n\",\n+                                  attrs2.fileKey(), attrs2.lastModifiedTime());\n","filename":"test\/jdk\/java\/nio\/file\/Files\/CopyAndMove.java","additions":25,"deletions":4,"binary":false,"changes":29,"status":"modified"}]}