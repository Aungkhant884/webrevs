{"files":[{"patch":"@@ -735,1 +735,0 @@\n-javax\/swing\/JColorChooser\/Test6827032.java 8197825 windows-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-\n+    private static JFrame frame;\n@@ -46,9 +46,34 @@\n-        UIManager.setLookAndFeel(new NimbusLookAndFeel());\n-\n-        Robot robot = new Robot();\n-        robot.setAutoDelay(50);\n-\n-\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            public void run() {\n-                createAndShowGUI();\n+        try {\n+            UIManager.setLookAndFeel(new NimbusLookAndFeel());\n+\n+            Robot robot = new Robot();\n+            robot.setAutoDelay(100);\n+\n+            SwingUtilities.invokeAndWait(new Runnable() {\n+                public void run() {\n+                    createAndShowGUI();\n+                }\n+            });\n+\n+            robot.waitForIdle();\n+            robot.delay(1000);\n+\n+            SwingUtilities.invokeAndWait(new Runnable() {\n+                public void run() {\n+                    Component previewPanel = Util.findSubComponent(cc, \"javax.swing.colorchooser.DefaultPreviewPanel\");\n+                    \/\/Component previewPanel = findSubComponent(cc, \"javax.swing.colorchooser.DefaultPreviewPanel\");\n+                    point = previewPanel.getLocationOnScreen();\n+                }\n+            });\n+\n+            point.translate(5, 5);\n+\n+            robot.mouseMove(point.x, point.y);\n+            robot.waitForIdle();\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.waitForIdle();\n+            robot.delay(1000);\n+        } finally {\n+            if (frame != null) {\n+                SwingUtilities.invokeAndWait(() -> frame.dispose());\n@@ -56,16 +81,1 @@\n-        });\n-\n-        robot.waitForIdle();\n-\n-        SwingUtilities.invokeAndWait(new Runnable() {\n-            public void run() {\n-                Component previewPanel = Util.findSubComponent(cc, \"javax.swing.colorchooser.DefaultPreviewPanel\");\n-                point = previewPanel.getLocationOnScreen();\n-            }\n-        });\n-\n-        point.translate(5, 5);\n-\n-        robot.mouseMove(point.x, point.y);\n-        robot.mousePress(InputEvent.BUTTON1_MASK);\n-        robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+        }\n@@ -76,1 +86,1 @@\n-        JFrame frame = new JFrame(Test6827032.class.getName());\n+        frame = new JFrame(Test6827032.class.getName());\n@@ -82,0 +92,1 @@\n+        frame.setLocationRelativeTo(null);\n","filename":"test\/jdk\/javax\/swing\/JColorChooser\/Test6827032.java","additions":38,"deletions":27,"binary":false,"changes":65,"status":"modified"}]}