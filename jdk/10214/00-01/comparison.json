{"files":[{"patch":"@@ -163,0 +163,1 @@\n+          --with-jmod-compress=zip-1\n","filename":".github\/workflows\/build-cross-compile.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -125,0 +125,1 @@\n+          --with-jmod-compress=zip-1\n","filename":".github\/workflows\/build-linux.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -100,0 +100,1 @@\n+          --with-jmod-compress=zip-1\n","filename":".github\/workflows\/build-macos.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -113,0 +113,1 @@\n+          --with-jmod-compress=zip-1\n","filename":".github\/workflows\/build-windows.yml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -240,9 +240,1 @@\n-  ifneq ($(JMOD_COMPRESS), )\n-    # User override\n-    JMOD_FLAGS += --compress $(JMOD_COMPRESS)\n-  else\n-    # Final JMODs are recompiled often, so pay with little extra space,\n-    # but win a lot of CPU time back with the lightest compression level\n-    # possible.\n-    JMOD_FLAGS += --compress zip-1\n-  endif\n+  JMOD_FLAGS += --compress $(JMOD_COMPRESS)\n","filename":"make\/CreateJmods.gmk","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -481,6 +481,6 @@\n-  AC_ARG_WITH(jmod-compress, [AS_HELP_STRING([--with-jmod-compress],\n-    [specify alternative JMOD compression])])\n-  AC_MSG_CHECKING([for JMOD compression])\n-  if test \"x$with_jmod_compress\" != \"x\"; then\n-    JMOD_COMPRESS=\"$with_jmod_compress\"\n-    AC_MSG_RESULT([$JMOD_COMPRESS])\n+  # Final JMODs are recompiled often during development, and java.base JMOD\n+  # includes the JVM libraries. In release mode, prefer to compress JMODs fully.\n+  # In debug mode, pay with a little extra space, but win a lot of CPU time back\n+  # with the lightest (but still some) compression.\n+  if test \"x$DEBUG_LEVEL\" = xrelease; then\n+    DEFAULT_JMOD_COMPRESS=\"zip-6\"\n@@ -488,1 +488,1 @@\n-    AC_MSG_RESULT([default])\n+    DEFAULT_JMOD_COMPRESS=\"zip-1\"\n@@ -490,0 +490,7 @@\n+\n+  UTIL_ARG_WITH(NAME: jmod-compress, TYPE: string,\n+    VALID_VALUES: [zip-0 zip-1 zip-2 zip-3 zip-4 zip-5 zip-6 zip-7 zip-8 zip-9],\n+    DEFAULT: $DEFAULT_JMOD_COMPRESS,\n+    CHECKING_MSG: [for JMOD compression type],\n+    DESC: [specify JMOD compression type (zip-[0-9])]\n+  )\n","filename":"make\/autoconf\/jdk-options.m4","additions":14,"deletions":7,"binary":false,"changes":21,"status":"modified"}]}