{"files":[{"patch":"@@ -214,19 +214,11 @@\n-        SocketException ex = null;\n-        switch (data[1]) {\n-        case 90:\n-            \/\/ Success!\n-            external_address = endpoint;\n-            break;\n-        case 91:\n-            ex = new SocketException(\"SOCKS request rejected\");\n-            break;\n-        case 92:\n-            ex = new SocketException(\"SOCKS server couldn't reach destination\");\n-            break;\n-        case 93:\n-            ex = new SocketException(\"SOCKS authentication failed\");\n-            break;\n-        default:\n-            ex = new SocketException(\"Reply from SOCKS server contains bad status\");\n-            break;\n-        }\n+        SocketException ex = switch (data[1]) {\n+            case 90 -> {\n+                \/\/ Success!\n+                external_address = endpoint;\n+                yield null;\n+            }\n+            case 91 -> new SocketException(\"SOCKS request rejected\");\n+            case 92 -> new SocketException(\"SOCKS server couldn't reach destination\");\n+            case 93 -> new SocketException(\"SOCKS authentication failed\");\n+            default -> new SocketException(\"Reply from SOCKS server contains bad status\");\n+        };\n","filename":"src\/java.base\/share\/classes\/java\/net\/SocksSocketImpl.java","additions":11,"deletions":19,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -2806,3 +2806,2 @@\n-                FileVisitResult result;\n-                switch (ev.type()) {\n-                    case ENTRY :\n+                FileVisitResult result = switch (ev.type()) {\n+                    case ENTRY -> {\n@@ -2812,1 +2811,1 @@\n-                            result = visitor.visitFile(ev.file(), ev.attributes());\n+                            yield visitor.visitFile(ev.file(), ev.attributes());\n@@ -2814,1 +2813,1 @@\n-                            result = visitor.visitFileFailed(ev.file(), ioe);\n+                            yield visitor.visitFileFailed(ev.file(), ioe);\n@@ -2816,4 +2815,3 @@\n-                        break;\n-\n-                    case START_DIRECTORY :\n-                        result = visitor.preVisitDirectory(ev.file(), ev.attributes());\n+                    }\n+                    case START_DIRECTORY -> {\n+                        var res = visitor.preVisitDirectory(ev.file(), ev.attributes());\n@@ -2824,2 +2822,2 @@\n-                        if (result == FileVisitResult.SKIP_SUBTREE ||\n-                            result == FileVisitResult.SKIP_SIBLINGS)\n+                        if (res == FileVisitResult.SKIP_SUBTREE ||\n+                            res == FileVisitResult.SKIP_SIBLINGS)\n@@ -2827,4 +2825,4 @@\n-                        break;\n-\n-                    case END_DIRECTORY :\n-                        result = visitor.postVisitDirectory(ev.file(), ev.ioeException());\n+                        yield res;\n+                    }\n+                    case END_DIRECTORY -> {\n+                        var res = visitor.postVisitDirectory(ev.file(), ev.ioeException());\n@@ -2833,7 +2831,6 @@\n-                        if (result == FileVisitResult.SKIP_SIBLINGS)\n-                            result = FileVisitResult.CONTINUE;\n-                        break;\n-\n-                    default :\n-                        throw new AssertionError(\"Should not get here\");\n-                }\n+                        if (res == FileVisitResult.SKIP_SIBLINGS)\n+                            res = FileVisitResult.CONTINUE;\n+                        yield res;\n+                    }\n+                    default -> throw new AssertionError(\"Should not get here\");\n+                };\n","filename":"src\/java.base\/share\/classes\/java\/nio\/file\/Files.java","additions":19,"deletions":22,"binary":false,"changes":41,"status":"modified"}]}