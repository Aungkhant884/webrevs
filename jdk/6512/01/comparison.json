{"files":[{"patch":"@@ -5015,1 +5015,1 @@\n-  bool use64byteVector = MaxVectorSize == 64 && AVX3Threshold == 0;\n+  bool use64byteVector = (MaxVectorSize == 64) && (VM_Version::avx3_threshold() == 0);\n@@ -5079,1 +5079,1 @@\n-  bool use64byteVector = MaxVectorSize > 32 && AVX3Threshold == 0;\n+  bool use64byteVector = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n@@ -5322,2 +5322,2 @@\n-          \/\/ If number of bytes to fill < AVX3Threshold, perform fill using AVX2\n-          cmpl(count, AVX3Threshold);\n+          \/\/ If number of bytes to fill < VM_Version::avx3_threshold(), perform fill using AVX2\n+          cmpl(count, VM_Version::avx3_threshold());\n@@ -8724,1 +8724,1 @@\n-  if (AVX3Threshold != 0  || MaxVectorSize == 32) {\n+  if ((VM_Version::avx3_threshold() != 0)  || (MaxVectorSize == 32)) {\n@@ -8727,1 +8727,1 @@\n-      cmpq(count, AVX3Threshold >> shift);\n+      cmpq(count, VM_Version::avx3_threshold() >> shift);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -117,1 +117,1 @@\n-  bool avx3 = MaxVectorSize > 32 && AVX3Threshold == 0;\n+  bool avx3 = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86_arrayCopy_avx3.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1388,1 +1388,1 @@\n-    bool use64byteVector = MaxVectorSize > 32 && AVX3Threshold == 0;\n+    bool use64byteVector = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n@@ -1451,1 +1451,1 @@\n-      if (AVX3Threshold != 0) {\n+      if (VM_Version::avx3_threshold() != 0) {\n@@ -1463,1 +1463,1 @@\n-      if (MaxVectorSize < 64  || AVX3Threshold != 0) {\n+      if ((MaxVectorSize < 64)  || (VM_Version::avx3_threshold() != 0)) {\n@@ -1606,1 +1606,1 @@\n-    bool use64byteVector = MaxVectorSize > 32 && AVX3Threshold == 0;\n+    bool use64byteVector = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n@@ -1671,1 +1671,1 @@\n-      if (MaxVectorSize > 32 && AVX3Threshold != 0) {\n+      if ((MaxVectorSize > 32) && (VM_Version::avx3_threshold() != 0)) {\n@@ -1676,1 +1676,1 @@\n-      if (MaxVectorSize < 64  || AVX3Threshold != 0) {\n+      if ((MaxVectorSize < 64)  || (VM_Version::avx3_threshold() != 0)) {\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -914,0 +914,5 @@\n+  \/\/ The Intel platforms that supports the serialize instruction\n+  \/\/ has improved implementation of 64-byte load\/stores.\n+  static int avx3_threshold() { return ((is_intel_family_core() &&\n+                                supports_serialize()) ? 0: AVX3Threshold); }\n+\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.hpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}