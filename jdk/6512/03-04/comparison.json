{"files":[{"patch":"@@ -8709,0 +8709,1 @@\n+  int avx3threshold = VM_Version::avx3_threshold();\n@@ -8724,1 +8725,1 @@\n-  if ((VM_Version::avx3_threshold() != 0)  || (MaxVectorSize == 32)) {\n+  if ((avx3threshold != 0)  || (MaxVectorSize == 32)) {\n@@ -8727,1 +8728,1 @@\n-      cmpq(count, VM_Version::avx3_threshold() >> shift);\n+      cmpq(count, avx3threshold >> shift);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1387,2 +1387,2 @@\n-\n-    bool use64byteVector = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n+    int avx3threshold = VM_Version::avx3_threshold(); \n+    bool use64byteVector = (MaxVectorSize > 32) && (avx3threshold == 0);\n@@ -1451,1 +1451,1 @@\n-      if (VM_Version::avx3_threshold() != 0) {\n+      if (avx3threshold != 0) {\n@@ -1463,1 +1463,1 @@\n-      if ((MaxVectorSize < 64)  || (VM_Version::avx3_threshold() != 0)) {\n+      if ((MaxVectorSize < 64)  || (avx3threshold != 0)) {\n@@ -1606,1 +1606,2 @@\n-    bool use64byteVector = (MaxVectorSize > 32) && (VM_Version::avx3_threshold() == 0);\n+    int avx3threshold = VM_Version::avx3_threshold();\n+    bool use64byteVector = (MaxVectorSize > 32) && (avx3threshold == 0);\n@@ -1671,1 +1672,1 @@\n-      if ((MaxVectorSize > 32) && (VM_Version::avx3_threshold() != 0)) {\n+      if ((MaxVectorSize > 32) && (avx3threshold != 0)) {\n@@ -1676,1 +1677,1 @@\n-      if ((MaxVectorSize < 64)  || (VM_Version::avx3_threshold() != 0)) {\n+      if ((MaxVectorSize < 64)  || (avx3threshold != 0)) {\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1887,6 +1887,3 @@\n-  if (FLAG_IS_DEFAULT(AVX3Threshold)) {\n-    return ((is_intel_family_core() &&\n-             supports_serialize()) ? 0: AVX3Threshold);\n-  } else {\n-    return AVX3Threshold;\n-  }\n+  return (is_intel_family_core() &&\n+          supports_serialize() &&\n+          FLAG_IS_DEFAULT(AVX3Threshold)) ? 0 : AVX3Threshold;\n","filename":"src\/hotspot\/cpu\/x86\/vm_version_x86.cpp","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"}]}