{"files":[{"patch":"@@ -95,1 +95,3 @@\n-runtime\/InvocationTests\/invokevirtualTests.java 8271125 generic-all\n+runtime\/InvocationTests\/invokevirtualTests.java#current-int 8271125 generic-all\n+runtime\/InvocationTests\/invokevirtualTests.java#current-comp 8271125 generic-all\n+runtime\/InvocationTests\/invokevirtualTests.java#old-int 8271125 generic-all\n","filename":"test\/hotspot\/jtreg\/ProblemList.txt","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test\n+ * @test id=special\n@@ -37,2 +37,0 @@\n- *          invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n- *          invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java invokeinterface\/Generator.java\n@@ -40,1 +38,33 @@\n- * @run driver\/timeout=1800 invocationC1Tests\n+ * @run driver\/timeout=1800 invocationC1Tests special\n+ *\/\n+\n+\/*\n+ * @test id=virtual\n+ * @bug 8226956\n+ * @summary Run invocation tests against C1 compiler\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invocationC1Tests virtual\n+ *\/\n+\n+\/*\n+ * @test id=interface\n+ * @bug 8226956\n+ * @summary Run invocation tests against C1 compiler\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java invokeinterface\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invocationC1Tests interface\n@@ -76,0 +106,5 @@\n+        if (args.length < 1) {\n+            throw new IllegalArgumentException(\"Should provide the test name\");\n+        }\n+        String testName = args[0];\n+\n@@ -79,3 +114,14 @@\n-        runTest(\"invokespecial.Generator\", String.valueOf(major_version));\n-        runTest(\"invokeinterface.Generator\", String.valueOf(major_version));\n-        runTest(\"invokevirtual.Generator\", String.valueOf(major_version));\n+\n+        switch (testName) {\n+            case \"special\":\n+                runTest(\"invokespecial.Generator\", String.valueOf(major_version));\n+                break;\n+            case \"virtual\":\n+                runTest(\"invokevirtual.Generator\", String.valueOf(major_version));\n+                break;\n+            case \"interface\":\n+                runTest(\"invokeinterface.Generator\", String.valueOf(major_version));\n+                break;\n+            default:\n+                throw new IllegalArgumentException(\"Unknown test name: \" + testName);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invocationC1Tests.java","additions":53,"deletions":7,"binary":false,"changes":60,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test\n+ * @test id=special\n@@ -36,2 +36,0 @@\n- *          invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n- *          invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java invokeinterface\/Generator.java\n@@ -39,1 +37,31 @@\n- * @run driver\/timeout=1800 invocationOldCHATests\n+ * @run driver\/timeout=1800 invocationOldCHATests special\n+ *\/\n+\n+\/*\n+ * @test id=virtual\n+ * @summary Run invocation tests with old CHA (-XX:-UseVtableBasedCHA)\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invocationOldCHATests virtual\n+ *\/\n+\n+\/*\n+ * @test id=interface\n+ * @summary Run invocation tests with old CHA (-XX:-UseVtableBasedCHA)\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java invokeinterface\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invocationOldCHATests interface\n@@ -75,0 +103,5 @@\n+        if (args.length < 1) {\n+            throw new IllegalArgumentException(\"Should provide the test name\");\n+        }\n+        String testName = args[0];\n+\n@@ -78,3 +111,14 @@\n-        runTest(\"invokespecial.Generator\", String.valueOf(major_version));\n-        runTest(\"invokeinterface.Generator\", String.valueOf(major_version));\n-        runTest(\"invokevirtual.Generator\", String.valueOf(major_version));\n+\n+        switch (testName) {\n+            case \"special\":\n+                runTest(\"invokespecial.Generator\", String.valueOf(major_version));\n+                break;\n+            case \"virtual\":\n+                runTest(\"invokevirtual.Generator\", String.valueOf(major_version));\n+                break;\n+            case \"interface\":\n+                runTest(\"invokeinterface.Generator\", String.valueOf(major_version));\n+                break;\n+            default:\n+                throw new IllegalArgumentException(\"Unknown test name: \" + testName);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invocationOldCHATests.java","additions":51,"deletions":7,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test\n+ * @test id=current-int\n@@ -39,1 +39,35 @@\n- * @run driver\/timeout=1800 invokeinterfaceTests\n+ * @run driver\/timeout=1800 invokeinterfaceTests current-int\n+ *\/\n+\n+\/*\n+ * @test id=current-comp\n+ * @bug 8224137\n+ * @summary Run invokeinterface invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java\n+ *          invokeinterface\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokeinterfaceTests current-comp\n+ *\/\n+\n+\/*\n+ * @test id=old-int\n+ * @bug 8224137\n+ * @summary Run invokeinterface invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokeinterface\/Checker.java invokeinterface\/ClassGenerator.java\n+ *          invokeinterface\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokeinterfaceTests old-int\n@@ -74,0 +108,5 @@\n+        if (args.length < 1) {\n+            throw new IllegalArgumentException(\"Should provide the test name\");\n+        }\n+        String testName = args[0];\n+\n@@ -77,2 +116,0 @@\n-        runTest(String.valueOf(major_version), \"-Xint\");\n-        runTest(String.valueOf(major_version), \"-Xcomp\");\n@@ -80,2 +117,14 @@\n-        \/\/ Test old class file version.\n-        runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+        switch (testName) {\n+            case \"current-int\":\n+                runTest(String.valueOf(major_version), \"-Xint\");\n+                break;\n+            case \"current-comp\":\n+                runTest(String.valueOf(major_version), \"-Xcomp\");\n+                break;\n+            case \"old-int\":\n+                \/\/ Test old class file version.\n+                runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+                break;\n+            default:\n+                throw new IllegalArgumentException(\"Unknown test name: \" + testName);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokeinterfaceTests.java","additions":55,"deletions":6,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test\n+ * @test id=current-int\n@@ -38,1 +38,33 @@\n- * @run driver\/timeout=1800 invokespecialTests\n+ * @run driver\/timeout=1800 invokespecialTests current-int\n+ *\/\n+\n+\/*\n+ * @test id=current-comp\n+ * @bug 8224137\n+ * @summary Run invokespecial invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokespecial\/Checker.java invokespecial\/ClassGenerator.java invokespecial\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokespecialTests current-comp\n+ *\/\n+\n+\/*\n+ * @test id=old-int\n+ * @bug 8224137\n+ * @summary Run invokespecial invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokespecial\/Checker.java invokespecial\/ClassGenerator.java invokespecial\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokespecialTests old-int\n@@ -73,0 +105,5 @@\n+        if (args.length < 1) {\n+            throw new IllegalArgumentException(\"Should provide the test name\");\n+        }\n+        String testName = args[0];\n+\n@@ -76,2 +113,0 @@\n-        runTest(String.valueOf(major_version), \"-Xint\");\n-        runTest(String.valueOf(major_version), \"-Xcomp\");\n@@ -79,2 +114,14 @@\n-        \/\/ Test old class file version.\n-        runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+        switch (testName) {\n+            case \"current-int\":\n+                runTest(String.valueOf(major_version), \"-Xint\");\n+                break;\n+            case \"current-comp\":\n+                runTest(String.valueOf(major_version), \"-Xcomp\");\n+                break;\n+            case \"old-int\":\n+                \/\/ Test old class file version.\n+                runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+                break;\n+            default:\n+                throw new IllegalArgumentException(\"Unknown test name: \" + testName);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokespecialTests.java","additions":53,"deletions":6,"binary":false,"changes":59,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @test\n+ * @test id=current-int\n@@ -38,1 +38,33 @@\n- * @run driver\/timeout=1800 invokevirtualTests\n+ * @run driver\/timeout=1800 invokevirtualTests current-int\n+ *\/\n+\n+\/*\n+ * @test id=current-comp\n+ * @bug 8224137\n+ * @summary Run invokevirtual invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokevirtualTests current-comp\n+ *\/\n+\n+\/*\n+ * @test id=old-int\n+ * @bug 8224137\n+ * @summary Run invokevirtual invocation tests\n+ * @requires vm.flagless\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.org.objectweb.asm\n+ *          java.base\/jdk.internal.misc\n+ * @compile shared\/AbstractGenerator.java shared\/AccessCheck.java shared\/AccessType.java\n+ *          shared\/Caller.java shared\/ExecutorGenerator.java shared\/Utils.java\n+ *          shared\/ByteArrayClassLoader.java shared\/Checker.java shared\/GenericClassGenerator.java\n+ * @compile invokevirtual\/Checker.java invokevirtual\/ClassGenerator.java invokevirtual\/Generator.java\n+ *\n+ * @run driver\/timeout=1800 invokevirtualTests old-int\n@@ -73,0 +105,5 @@\n+        if (args.length < 1) {\n+            throw new IllegalArgumentException(\"Should provide the test name\");\n+        }\n+        String testName = args[0];\n+\n@@ -76,2 +113,0 @@\n-        runTest(String.valueOf(major_version), \"-Xint\");\n-        runTest(String.valueOf(major_version), \"-Xcomp\");\n@@ -79,2 +114,14 @@\n-        \/\/ Test old class file version.\n-        runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+        switch (testName) {\n+            case \"current-int\":\n+                runTest(String.valueOf(major_version), \"-Xint\");\n+                break;\n+            case \"current-comp\":\n+                runTest(String.valueOf(major_version), \"-Xcomp\");\n+                break;\n+            case \"old-int\":\n+                \/\/ Test old class file version.\n+                runTest(\"51\", \"-Xint\"); \/\/ JDK-7\n+                break;\n+            default:\n+                throw new IllegalArgumentException(\"Unknown test name: \" + testName);\n+        }\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/invokevirtualTests.java","additions":53,"deletions":6,"binary":false,"changes":59,"status":"modified"}]}