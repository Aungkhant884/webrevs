{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2000, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2000, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,0 +36,1 @@\n+import jdk.internal.util.Preconditions;\n@@ -750,3 +751,8 @@\n-        if ((i < 0) || (nb > limit - i))\n-            throw new IndexOutOfBoundsException();\n-        return i;\n+        return Preconditions.checkIndex(i, limit - nb + 1,\n+            (x, y) -> {\n+                String msg = i < 0\n+                    ? \"position (\" + i + \") < 0\"\n+                    : \"position (\" + i + \") + length (\" + nb + \") > limit (\" + limit + \")\";\n+                return new IndexOutOfBoundsException(msg);\n+            }\n+        );\n","filename":"src\/java.base\/share\/classes\/java\/nio\/Buffer.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"}]}