{"files":[{"patch":"@@ -166,1 +166,0 @@\n-            scaleFactor = at.getScaleX();\n@@ -168,0 +167,1 @@\n+            scaleFactor = Math.min(at.getScaleX(), at.getScaleY());\n@@ -169,2 +169,4 @@\n-            \/\/ if m01 or m10 is non-zero, then there is a rotation or shear\n-            \/\/ skip resetting the transform\n+            \/* Deactivate the HiDPI scaling transform,\n+             * so we can do paint operations in the device\n+             * pixel coordinate system instead of the logical coordinate system.\n+             *\/\n@@ -175,5 +177,2 @@\n-                if (c instanceof JInternalFrame) {\n-                    stkWidth = clipRound(Math.min(at.getScaleX(), at.getScaleY()));\n-                } else {\n-                    stkWidth = (int) Math.floor(Math.min(at.getScaleX(), at.getScaleY()));\n-                }\n+                stkWidth = c instanceof JInternalFrame ?\n+                        clipRound(scaleFactor) : (int) Math.floor(scaleFactor);\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/SwingUtilities3.java","additions":7,"deletions":8,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -65,1 +65,0 @@\n-import static sun.java2d.pipe.Region.clipRound;\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalBorders.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}