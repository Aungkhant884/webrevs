{"files":[{"patch":"@@ -47,2 +47,0 @@\n-#include \"jfr\/jfrEvents.hpp\"\n-#include \"jfr\/support\/jfrThreadId.hpp\"\n@@ -103,0 +101,3 @@\n+#if INCLUDE_JFR\n+#include \"jfr\/jfr.hpp\"\n+#endif\n@@ -3466,18 +3467,0 @@\n-static void post_thread_start_event(const JavaThread* jt) {\n-  assert(jt != nullptr, \"invariant\");\n-  EventThreadStart event;\n-  if (event.should_commit()) {\n-    event.set_thread(JFR_JVM_THREAD_ID(jt));\n-    event.set_parentThread((traceid)0);\n-#if INCLUDE_JFR\n-    if (EventThreadStart::is_stacktrace_enabled()) {\n-      jt->jfr_thread_local()->set_cached_stack_trace_id((traceid)0);\n-      event.commit();\n-      jt->jfr_thread_local()->clear_cached_stack_trace();\n-    } else\n-#endif\n-    {\n-      event.commit();\n-    }\n-  }\n-}\n@@ -3618,1 +3601,1 @@\n-    post_thread_start_event(thread);\n+    JFR_ONLY(Jfr::on_thread_start(thread);)\n@@ -3853,1 +3836,1 @@\n-  post_thread_start_event(thread);\n+  JFR_ONLY(Jfr::on_thread_start(thread);)\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":5,"deletions":22,"binary":false,"changes":27,"status":"modified"}]}