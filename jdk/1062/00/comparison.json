{"files":[{"patch":"@@ -464,1 +464,0 @@\n-\n@@ -485,2 +484,2 @@\n-           tty->print_cr(\"is_supported_invokedynamic check failed for cp_index %d\", pool_index);\n-           continue;\n+          log_debug(cds, lambda)(\"is_supported_invokedynamic check failed for cp_index %d\", pool_index);\n+          continue;\n","filename":"src\/hotspot\/share\/classfile\/classListParser.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-  log_info(cds)(\"Replaced class %s, old: %p  new: %p\", name, klass, result);\n+  log_info(cds, lambda)(\"Replaced class %s, old: %p  new: %p\", name, klass, result);\n","filename":"src\/hotspot\/share\/classfile\/lambdaFormInvokers.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,0 +43,1 @@\n+#include \"logging\/logStream.hpp\"\n@@ -1927,0 +1928,1 @@\n+  LogTarget(Debug, cds, lambda) log;\n@@ -1928,3 +1930,4 @@\n-    DEBUG_ONLY(\n-      tty->print_cr(\"bsi check failed\");\n-      tty->print_cr(\"    bsi->arg_values().not_null() %d\", bsi->arg_values().not_null());\n+    if (log.is_enabled()) {\n+      LogStream log_stream(log);\n+      log.print(\"bsi check failed\");\n+      log.print(\"    bsi->arg_values().not_null() %d\", bsi->arg_values().not_null());\n@@ -1932,2 +1935,2 @@\n-        tty->print_cr(\"    bsi->arg_values()->is_objArray() %d\", bsi->arg_values()->is_objArray());\n-        bsi->print();\n+        log.print(\"    bsi->arg_values()->is_objArray() %d\", bsi->arg_values()->is_objArray());\n+        bsi->print_msg_on(&log_stream);\n@@ -1935,1 +1938,1 @@\n-    )\n+    }\n@@ -1941,4 +1944,4 @@\n-    DEBUG_ONLY(\n-      tty->print_cr(\"bsm check failed\");\n-      tty->print_cr(\"    bsm.is_null() %d\", bsm.is_null());\n-      tty->print_cr(\"    java_lang_invoke_DirectMethodHandle::is_instance(bsm()) %d\",\n+    if (log.is_enabled()) {\n+      log.print(\"bsm check failed\");\n+      log.print(\"    bsm.is_null() %d\", bsm.is_null());\n+      log.print(\"    java_lang_invoke_DirectMethodHandle::is_instance(bsm()) %d\",\n@@ -1946,1 +1949,1 @@\n-    )\n+    }\n@@ -1957,1 +1960,1 @@\n-    DEBUG_ONLY(\n+    if (log.is_enabled()) {\n@@ -1959,5 +1962,5 @@\n-      tty->print_cr(\"method check failed\");\n-      tty->print_cr(\"    klass_name() %s\", method->klass_name()->as_C_string());\n-      tty->print_cr(\"    name() %s\", method->name()->as_C_string());\n-      tty->print_cr(\"    signature() %s\", method->signature()->as_C_string());\n-    )\n+      log.print(\"method check failed\");\n+      log.print(\"    klass_name() %s\", method->klass_name()->as_C_string());\n+      log.print(\"    name() %s\", method->name()->as_C_string());\n+      log.print(\"    signature() %s\", method->signature()->as_C_string());\n+    }\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.cpp","additions":20,"deletions":17,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -98,0 +98,1 @@\n+  LOG_TAG(lambda) \\\n","filename":"src\/hotspot\/share\/logging\/logTag.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -45,1 +45,2 @@\n-                        \"@lambda-proxy WrongBSM 7\"));\n+                        \"@lambda-proxy WrongBSM 7\"),\n+        \"-Xlog:cds+lambda=debug\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/BadBSM.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-            OutputAnalyzer output = TestCommon.dump(appJar, appClasses);\n+            OutputAnalyzer output = TestCommon.dump(appJar, appClasses, \"-Xlog:cds+lambda=debug\");\n@@ -66,1 +66,1 @@\n-            OutputAnalyzer output = TestCommon.dump(appJar, appClasses, \"-Xlog:cds\");\n+            OutputAnalyzer output = TestCommon.dump(appJar, appClasses, \"-Xlog:cds\", \"-Xlog:cds+lambda=debug\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/ClassListFormatBase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}