{"files":[{"patch":"@@ -2002,8 +2002,7 @@\n-              \/\/ Initialize object (if nonzero size and need) and then the header.\n-              \/\/ If the TLAB isn't pre-zeroed then we'll have to do it.\n-              if (!ZeroTLAB) {\n-                HeapWord* to_zero = cast_from_oop<HeapWord*>(result) + sizeof(oopDesc) \/ oopSize;\n-                obj_size -= sizeof(oopDesc) \/ oopSize;\n-                if (obj_size > 0 ) {\n-                  memset(to_zero, 0, obj_size * HeapWordSize);\n-                }\n+              \/\/ Note that TLAB is not initialized regardless of ZeroTLAB setting,\n+              \/\/ see if we need to initialize the object body.\n+              size_t hdr_size = oopDesc::header_size();\n+              size_t body_size = obj_size - hdr_size;\n+              if (body_size > 0) {\n+                HeapWord* body_start = cast_from_oop<HeapWord*>(result) + hdr_size;\n+                memset(body_start, 0, body_size * HeapWordSize);\n@@ -2011,0 +2010,2 @@\n+\n+              \/\/ Initialize the object header.\n@@ -2018,0 +2019,1 @@\n+\n","filename":"src\/hotspot\/share\/interpreter\/zero\/bytecodeInterpreter.cpp","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"}]}