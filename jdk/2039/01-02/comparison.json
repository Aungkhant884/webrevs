{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2013, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6854712 7171570 8010748 8025287 8256895\n+ * @bug 6854712 7171570 8010748 8025287\n@@ -28,2 +28,0 @@\n- * @modules java.base\/sun.security.util\n- *          java.base\/sun.security.x509\n@@ -40,2 +38,0 @@\n-import sun.security.util.ObjectIdentifier;\n-import sun.security.x509.PKIXExtensions;\n@@ -45,1 +41,0 @@\n-    private static final int DEFAULT_NONCE_BYTES = 16;\n@@ -113,30 +108,0 @@\n-\n-        System.setProperty(\"jdk.security.certpath.ocspNonce\", \"true\");\n-        cpv = CertPathValidator.getInstance(\"PKIX\");\n-        cpc = cpv.getRevocationChecker();\n-        prc = (PKIXRevocationChecker)cpc;\n-\n-        prc.init(false);\n-\n-        System.out.println(\"Testing that getOcspExtensions returns non-empty list if \" +\n-                           \"system property jdk.security.certpath.ocspNonce=true\");\n-        requireNotEmpty(prc.getOcspExtensions(), \"getOcspExtensions()\");\n-\n-        List<Extension> ocspExtensions;\n-        byte[] nonce = null;\n-        ocspExtensions = prc.getOcspExtensions();\n-\n-        for (Extension ext : ocspExtensions) {\n-            if (ext.getId().equals(PKIXExtensions.OCSPNonce_Id.toString())) {\n-                nonce = ext.getValue();\n-            }\n-        }\n-\n-        if (nonce == null) {\n-            throw new Exception(\"FAILED: default nonce should be set in OCSP extensions\");\n-        } else {\n-            \/\/ tag + length + default nonce 16 bytes\n-            if (nonce.length != DEFAULT_NONCE_BYTES + 2) {\n-                throw new Exception(\"FAILED: default nonce should not be \" + nonce.length + \" bytes long\");\n-            }\n-        }\n@@ -161,6 +126,0 @@\n-    }\n-\n-    static void requireNotEmpty(List<?> l, String msg) throws Exception {\n-        if (l.isEmpty()) {\n-            throw new Exception(\"FAILED: \" + msg +\" must return a non-empty list\");\n-        }\n","filename":"test\/jdk\/java\/security\/cert\/PKIXRevocationChecker\/UnitTest.java","additions":2,"deletions":43,"binary":false,"changes":45,"status":"modified"}]}