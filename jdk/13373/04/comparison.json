{"files":[{"patch":"@@ -1292,3 +1292,4 @@\n-  product(intx, SafepointTimeoutDelay, 10000,                               \\\n-          \"Delay in milliseconds for option SafepointTimeout\")              \\\n-          range(0, max_intx LP64_ONLY(\/MICROUNITS))                         \\\n+  product(double, SafepointTimeoutDelay, 10000,                             \\\n+          \"Delay in milliseconds for option SafepointTimeout; \"             \\\n+          \"supports sub-millisecond resolution with fractional values.\")    \\\n+          range(0, max_jlongDouble LP64_ONLY(\/MICROUNITS))                  \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -382,1 +382,1 @@\n-    safepoint_limit_time = SafepointTracing::start_of_safepoint() + (jlong)SafepointTimeoutDelay * (NANOUNITS \/ MILLIUNITS);\n+    safepoint_limit_time = SafepointTracing::start_of_safepoint() + (jlong)(SafepointTimeoutDelay * NANOSECS_PER_MILLISEC);\n@@ -798,1 +798,1 @@\n-    fatal(\"Safepoint sync time longer than \" INTX_FORMAT \"ms detected when executing %s.\",\n+    fatal(\"Safepoint sync time longer than %.6f ms detected when executing %s.\",\n","filename":"src\/hotspot\/share\/runtime\/safepoint.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,2 +38,2 @@\n-  public static void testDoubleFlagWithValue(String value) throws Exception {\n-    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\"-XX:SweeperThreshold=\" + value, \"-version\");\n+  public static void testDoubleFlagWithValue(String flag, String value) throws Exception {\n+    ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(flag + \"=\" + value, \"-version\");\n@@ -46,2 +46,2 @@\n-    \/\/ Test double format\n-    testDoubleFlagWithValue(\"10.0\");\n+    \/\/ Test double format for -XX:SweeperThreshold\n+    testDoubleFlagWithValue(\"-XX:SweeperThreshold\", \"10.0\");\n@@ -49,2 +49,8 @@\n-    \/\/ Test integer format\n-    testDoubleFlagWithValue(\"10\");\n+    \/\/ Test integer format -XX:SweeperThreshold\n+    testDoubleFlagWithValue(\"-XX:SweeperThreshold\", \"10\");\n+\n+    \/\/ Test double format for -XX:SafepointTimeoutDelay\n+    testDoubleFlagWithValue(\"-XX:SafepointTimeoutDelay\", \"5.0\");\n+\n+    \/\/ Test integer format -XX:SafepointTimeoutDelay\n+    testDoubleFlagWithValue(\"-XX:SafepointTimeoutDelay\", \"5\");\n","filename":"test\/hotspot\/jtreg\/runtime\/CommandLine\/DoubleFlagWithIntegerValue.java","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"}]}