{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,2 +26,0 @@\n-#include <assert.h>\n-#include <errno.h>\n@@ -29,1 +27,1 @@\n-#include <string.h>\n+#include <assert.h>\n@@ -31,3 +29,0 @@\n-#include \"check_classname.h\"\n-#include \"java_lang_ClassLoader.h\"\n-#include \"jlong.h\"\n@@ -36,0 +31,1 @@\n+#include \"jlong.h\"\n@@ -37,0 +33,3 @@\n+#include \"check_classname.h\"\n+#include \"java_lang_ClassLoader.h\"\n+#include <string.h>\n@@ -92,1 +91,1 @@\n-        return NULL;\n+        return 0;\n@@ -100,1 +99,1 @@\n-        return NULL;\n+        return 0;\n@@ -106,1 +105,5 @@\n-    body = (jbyte *)malloc(length < 1 ? 1 : length);\n+    #ifdef _AIX\n+    body = (jbyte *)malloc(length == 0 ? 1 : length);\n+    #else\n+    body = (jbyte *)malloc(length);\n+    #endif\n@@ -108,1 +111,1 @@\n-    if (body == NULL) {\n+    if (body == 0) {\n@@ -110,1 +113,1 @@\n-        return NULL;\n+        return 0;\n@@ -115,1 +118,1 @@\n-    if ((*env)->ExceptionOccurred(env)) {\n+    if ((*env)->ExceptionOccurred(env))\n@@ -117,1 +120,0 @@\n-    }\n@@ -176,1 +178,1 @@\n-    if (body == NULL) {\n+    if (body == 0) {\n@@ -178,1 +180,1 @@\n-        return NULL;\n+        return 0;\n@@ -236,1 +238,1 @@\n-        return NULL;\n+        return 0;\n@@ -244,1 +246,1 @@\n-        return NULL;\n+        return 0;\n@@ -250,1 +252,5 @@\n-    body = (jbyte *)malloc(length < 1 ? 1 : length);\n+    #ifdef _AIX\n+    body = (jbyte *)malloc(length == 0 ? 1 : length);\n+    #else\n+    body = (jbyte *)malloc(length);\n+    #endif\n@@ -252,1 +258,1 @@\n-    if (body == NULL) {\n+    if (body == 0) {\n@@ -254,1 +260,1 @@\n-        return NULL;\n+        return 0;\n@@ -294,1 +300,1 @@\n-        return NULL;\n+        return 0;\n@@ -323,1 +329,1 @@\n-        return NULL;\n+        return 0;\n","filename":"src\/java.base\/share\/native\/libjava\/ClassLoader.c","additions":29,"deletions":23,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8262913 8283225\n+ * @bug 8262913\n","filename":"test\/hotspot\/jtreg\/runtime\/DefineClass\/NullClassBytesTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}