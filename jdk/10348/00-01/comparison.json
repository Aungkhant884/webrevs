{"files":[{"patch":"@@ -1922,0 +1922,6 @@\n+                          void test3() {\n+                              try (final AutoCloseable withFinal = null) {}\n+                          }\n+                          void test4() {\n+                              try (final @Ann AutoCloseable withAnnotationFinal = null) {}\n+                          }\n@@ -1932,0 +1938,1 @@\n+            boolean modifiersHaveFinal;\n@@ -1936,0 +1943,1 @@\n+                boolean prevModifiersHaveFinal = modifiersHaveFinal;\n@@ -1938,1 +1946,3 @@\n-                    modifiersHaveSpan = node.getName().contentEquals(\"withAnnotation\");\n+                    modifiersHaveFinal = node.getName().toString().contains(\"Final\");\n+                    modifiersHaveSpan = modifiersHaveFinal ||\n+                                        node.getName().toString().contains(\"Annotation\");\n@@ -1941,0 +1951,1 @@\n+                    modifiersHaveFinal = prevModifiersHaveFinal;\n@@ -1956,2 +1967,8 @@\n-                if (node.getFlags().contains(Modifier.FINAL)) {\n-                    throw new AssertionError(\"Unexpected final modified.\");\n+                if (modifiersHaveFinal) {\n+                    if (!node.getFlags().contains(Modifier.FINAL)) {\n+                        throw new AssertionError(\"Expected final missing.\");\n+                    }\n+                } else {\n+                    if (node.getFlags().contains(Modifier.FINAL)) {\n+                        throw new AssertionError(\"Unexpected final modified.\");\n+                    }\n","filename":"test\/langtools\/tools\/javac\/parser\/JavacParserTest.java","additions":20,"deletions":3,"binary":false,"changes":23,"status":"modified"}]}