{"files":[{"patch":"@@ -247,2 +247,2 @@\n-`--build=x86_64-unknown-linux-gnu --host=x86_64-unknown-linux-gnu` to\n-`configure`.\n+`--build=x86_64-unknown-linux-gnu --openjdk-target=x86_64-unknown-linux-gnu`\n+to `configure`.\n@@ -989,1 +989,1 @@\n-This will automatically set the `--build`, `--host` and `--target` options for\n+This will automatically set the `--host` and `--target` options for\n@@ -994,0 +994,5 @@\n+If `--build` has not been explicitly passed to configure, `--openjdk-target`\n+will autodetect the build platform and internally set the flag automatically,\n+otherwise the platform that was explicitly passed to `--build` will be used\n+instead.\n+\n","filename":"doc\/building.md","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -277,1 +277,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_build_set=true ;;\n@@ -279,1 +279,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_unsafe_crosscompile=\"$conf_unsafe_crosscompile $conf_option\" ;;\n@@ -281,1 +281,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_unsafe_crosscompile=\"$conf_unsafe_crosscompile $conf_option\" ;;\n@@ -290,1 +290,1 @@\n-if test \"x$conf_legacy_crosscompile\" != \"x\"; then\n+if test \"x$conf_unsafe_crosscompile\" != \"x\"; then\n@@ -292,4 +292,4 @@\n-    echo \"Error: Specifying --openjdk-target together with autoconf\"\n-    echo \"legacy cross-compilation flags is not supported.\"\n-    echo \"You specified: --openjdk-target=$conf_openjdk_target and $conf_legacy_crosscompile.\"\n-    echo \"The recommended use is just --openjdk-target.\"\n+    echo \"Error: --openjdk-target was specified together with\"\n+    echo \"incompatible autoconf cross-compilation flags.\"\n+    echo \"You specified: --openjdk-target=$conf_openjdk_target and $conf_unsafe_crosscompile.\"\n+    echo \"It is recommended that you only use --openjdk-target.\"\n@@ -298,2 +298,2 @@\n-    echo \"Warning: You are using legacy autoconf cross-compilation flags.\"\n-    echo \"It is recommended that you use --openjdk-target instead.\"\n+    echo \"Warning: You are using unsafe autoconf cross-compilation flags.\"\n+    echo \"It is highly recommended that you use --openjdk-target instead.\"\n@@ -305,2 +305,7 @@\n-  conf_build_platform=`sh $conf_script_dir\/build-aux\/config.guess`\n-  conf_processed_arguments=(\"--build=$conf_build_platform\" \"--host=$conf_openjdk_target\" \"--target=$conf_openjdk_target\" \"${conf_processed_arguments[@]}\")\n+  conf_processed_arguments=(\"--host=$conf_openjdk_target\" \"--target=$conf_openjdk_target\" \"${conf_processed_arguments[@]}\")\n+  \n+  # If --build has been explicitly set don't override that flag with our own\n+  if test \"x$conf_build_set\" != xtrue; then\n+    conf_build_platform=`sh $conf_script_dir\/build-aux\/config.guess`\n+    conf_processed_arguments=(\"--build=$conf_build_platform\" \"${conf_processed_arguments[@]}\")\n+  fi\n@@ -344,1 +349,3 @@\n-                          --build=<current platform>\n+                          --build=<current platform>, or the platform you\n+                          have provided if you have explicitly passed\n+                          --build to configure\n","filename":"make\/autoconf\/configure","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"}]}