{"files":[{"patch":"@@ -247,2 +247,1 @@\n-`--build=x86_64-unknown-linux-gnu --host=x86_64-unknown-linux-gnu` to\n-`configure`.\n+`--current-platform=x86_64-unknown-linux-gnu --openjdk-target=x86_64-unknown-linux-gnu` to `configure`.\n@@ -989,4 +988,11 @@\n-This will automatically set the `--build`, `--host` and `--target` options for\n-autoconf, which can otherwise be confusing. (In autoconf terminology, the\n-\"target\" is known as \"host\", and \"target\" is used for building a Canadian\n-cross-compiler.)\n+This will automatically set the `--host` and `--target` options for\n+autoconf, and if `--current-platform` is not set, `--build` as well, which can otherwise be confusing. (In autoconf terminology, the \"target\" is known as \"host\",\n+and \"target\" is used for building a Canadian cross-compiler.)\n+\n+### Specifying the Build Platform\n+\n+You can explicitly specify the build platform when compiling, by simply \n+passing the `--current-platform=<platform>` argument to `configure`.\n+This will set the `--build` option for autoconf, but it *will* override\n+platform autodetection for the build platform, so be sure that you know what\n+you are doing when using this option.\n","filename":"doc\/building.md","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -277,1 +277,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_build_set=true\n@@ -279,1 +279,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_unsafe_crosscompile=\"$conf_unsafe_crosscompile $conf_option\" ;;\n@@ -281,1 +281,1 @@\n-      conf_legacy_crosscompile=\"$conf_legacy_crosscompile $conf_option\" ;;\n+      conf_unsafe_crosscompile=\"$conf_unsafe_crosscompile $conf_option\" ;;\n@@ -290,1 +290,1 @@\n-if test \"x$conf_legacy_crosscompile\" != \"x\"; then\n+if test \"x$conf_unsafe_crosscompile\" != \"x\"; then\n@@ -292,4 +292,4 @@\n-    echo \"Error: Specifying --openjdk-target together with autoconf\"\n-    echo \"legacy cross-compilation flags is not supported.\"\n-    echo \"You specified: --openjdk-target=$conf_openjdk_target and $conf_legacy_crosscompile.\"\n-    echo \"The recommended use is just --openjdk-target.\"\n+    echo \"Error: --openjdk-target was specified together with\"\n+    echo \"incompatible autoconf cross-compilation flags.\"\n+    echo \"You specified: --openjdk-target=$conf_openjdk_target and $conf_unsafe_crosscompile.\"\n+    echo \"It is recommended that you only use --openjdk-target.\"\n@@ -298,2 +298,2 @@\n-    echo \"Warning: You are using legacy autoconf cross-compilation flags.\"\n-    echo \"It is recommended that you use --openjdk-target instead.\"\n+    echo \"Warning: You are using unsafe autoconf cross-compilation flags.\"\n+    echo \"It is highly recommended that you use --openjdk-target instead.\"\n@@ -305,2 +305,7 @@\n-  conf_build_platform=`sh $conf_script_dir\/build-aux\/config.guess`\n-  conf_processed_arguments=(\"--build=$conf_build_platform\" \"--host=$conf_openjdk_target\" \"--target=$conf_openjdk_target\" \"${conf_processed_arguments[@]}\")\n+  conf_processed_arguments=(\"--host=$conf_openjdk_target\" \"--target=$conf_openjdk_target\" \"${conf_processed_arguments[@]}\")\n+  \n+  # If --build has been explicitly set don't override that flag with our own\n+  if test \"x$conf_build_set\" != xtrue; then\n+    conf_build_platform=`sh $conf_script_dir\/build-aux\/config.guess`\n+    conf_processed_arguments=(\"--build=$conf_build_platform\" \"${conf_processed_arguments[@]}\")\n+  fi\n@@ -344,1 +349,3 @@\n-                          --build=<current platform>\n+                          --build=<current platform>, or the platform you\n+                          have provided if you have explicitly passed\n+                          --build to configure\n","filename":"make\/autoconf\/configure","additions":20,"deletions":13,"binary":false,"changes":33,"status":"modified"}]}