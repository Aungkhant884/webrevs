{"files":[{"patch":"@@ -99,0 +99,2 @@\n+  product(bool, UseRVA20U64, false, EXPERIMENTAL, \"Use RVA20U64 profile\")           \\\n+  product(bool, UseRVA22U64, false, EXPERIMENTAL, \"Use RVA22U64 profile\")           \\\n@@ -103,0 +105,1 @@\n+  product(bool, UseZic64b, false, EXPERIMENTAL, \"Use Zic64b instructions\")       \\\n","filename":"src\/hotspot\/cpu\/riscv\/globals_riscv.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -39,0 +39,42 @@\n+  if (UseRVA20U64) {\n+    if (FLAG_IS_DEFAULT(UseRVC)) {\n+      FLAG_SET_DEFAULT(UseRVC, true);\n+    }\n+  }\n+  if (UseRVA22U64) {\n+    if (FLAG_IS_DEFAULT(UseRVC)) {\n+      FLAG_SET_DEFAULT(UseRVC, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZba)) {\n+      FLAG_SET_DEFAULT(UseZba, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZbb)) {\n+      FLAG_SET_DEFAULT(UseZbb, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZic64b)) {\n+      FLAG_SET_DEFAULT(UseZic64b, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZicbom)) {\n+      FLAG_SET_DEFAULT(UseZicbom, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZicbop)) {\n+      FLAG_SET_DEFAULT(UseZicbop, true);\n+    }\n+    if (FLAG_IS_DEFAULT(UseZicboz)) {\n+      FLAG_SET_DEFAULT(UseZicboz, true);\n+    }\n+  }\n+\n+  if (UseZic64b) {\n+    if (CacheLineSize != 64) {\n+      assert(!FLAG_IS_DEFAULT(CacheLineSize), \"default cache line size should be 64 bytes\");\n+      warning(\"CacheLineSize is assumed to be 64 bytes because Zic64b is enabled\");\n+      FLAG_SET_DEFAULT(CacheLineSize, 64);\n+    }\n+  } else {\n+    if (!FLAG_IS_DEFAULT(CacheLineSize) && !is_power_of_2(CacheLineSize)) {\n+      warning(\"CacheLineSize must be a power of 2\");\n+      FLAG_SET_DEFAULT(CacheLineSize, DEFAULT_CACHE_LINE_SIZE);\n+    }\n+  }\n+\n@@ -47,5 +89,0 @@\n-  if (!FLAG_IS_DEFAULT(CacheLineSize) && !is_power_of_2(CacheLineSize)) {\n-    warning(\"CacheLineSize must be a power of 2\");\n-    FLAG_SET_DEFAULT(CacheLineSize, DEFAULT_CACHE_LINE_SIZE);\n-  }\n-\n","filename":"src\/hotspot\/cpu\/riscv\/vm_version_riscv.cpp","additions":42,"deletions":5,"binary":false,"changes":47,"status":"modified"}]}