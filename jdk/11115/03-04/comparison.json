{"files":[{"patch":"@@ -28,0 +28,2 @@\n+#define remaining_buflen(buffer, position) (sizeof(buffer) - (position - buffer))\n+\n@@ -1536,1 +1538,1 @@\n-      snprintf(s, (buflen - (s - buf)), \"\/*%s*\/(\",(char*)i._key);\n+      snprintf(s, remaining_buflen(buf, s), \"\/*%s*\/(\",(char*)i._key);\n","filename":"src\/hotspot\/share\/adlc\/formssel.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,0 +29,2 @@\n+#define remaining_buflen(buffer, position) (sizeof(buffer) - (position - buffer))\n+\n@@ -2570,1 +2572,1 @@\n-      ib += snprintf(ib, (buflen - (ib - idxbuf)), \"  unsigned idx_%-5s = mach_constant_base_node_input(); \\t\/\/ %s, \\t%s\\n\",\n+      ib += snprintf(ib, remaining_buflen(idxbuf, ib), \"  unsigned idx_%-5s = mach_constant_base_node_input(); \\t\/\/ %s, \\t%s\\n\",\n@@ -2572,1 +2574,1 @@\n-      nb += snprintf(nb, (buflen - (nb - nbuf)), \"  Node    *n_%-7s = lookup(idx_%s);\\n\", name, name);\n+      nb += snprintf(nb, remaining_buflen(nbuf, nb), \"  Node    *n_%-7s = lookup(idx_%s);\\n\", name, name);\n@@ -2579,1 +2581,1 @@\n-      ib += snprintf(ib, (buflen - (ib - idxbuf)), \"  unsigned idx_%-5s = idx%d; \\t\/\/ %s, \\t%s\\n\",\n+      ib += snprintf(ib, remaining_buflen(idxbuf, ib), \"  unsigned idx_%-5s = idx%d; \\t\/\/ %s, \\t%s\\n\",\n@@ -2581,2 +2583,2 @@\n-      nb += snprintf(nb, (buflen - (nb - nbuf)), \"  Node    *n_%-7s = lookup(idx_%s);\\n\", name, name);\n-      ob += snprintf(ob, (buflen - (ob - opbuf)), \"  %sOper *op_%s = (%sOper *)opnd_array(%d);\\n\", type, name, type, idx);\n+      nb += snprintf(nb, remaining_buflen(nbuf, nb), \"  Node    *n_%-7s = lookup(idx_%s);\\n\", name, name);\n+      ob += snprintf(ob, remaining_buflen(opbuf, ob), \"  %sOper *op_%s = (%sOper *)opnd_array(%d);\\n\", type, name, type, idx);\n","filename":"src\/hotspot\/share\/adlc\/output_c.cpp","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"filename":"src\/hotspot\/share\/runtime\/.interfaceSupport.inline.hpp.swp","binary":true,"status":"added"}]}