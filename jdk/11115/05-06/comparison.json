{"files":[{"patch":"@@ -225,2 +225,2 @@\n-  os::snprintf(buf, sizeof(buf), \"0x%02x:0x%x:0x%03x:%d\", _cpu, _variant, _model, _revision);\n-  if (_model2) os::snprintf(buf+strlen(buf), sizeof(buf) - strlen(buf), \"(0x%03x)\", _model2);\n+  int buf_used_len = os::snprintf(buf, sizeof(buf), \"0x%02x:0x%x:0x%03x:%d\", _cpu, _variant, _model, _revision);\n+  if (_model2) os::snprintf(buf + buf_used_len, sizeof(buf) - buf_used_len, \"(0x%03x)\", _model2);\n","filename":"src\/hotspot\/cpu\/aarch64\/vm_version_aarch64.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -251,1 +251,1 @@\n-  os::snprintf(ver_str, sizeof(ver_str), \"%d\", ATTACH_PROTOCOL_VER);\n+  size_t ver_str_len = os::snprintf(ver_str, sizeof(ver_str), \"%d\", ATTACH_PROTOCOL_VER);\n@@ -260,1 +260,1 @@\n-  const int max_len = (sizeof(ver_str) + 1) + (AttachOperation::name_length_max + 1) +\n+  const int max_len = (ver_str_len + 1) + (AttachOperation::name_length_max + 1) +\n@@ -291,1 +291,1 @@\n-          if ((strlen(buf) != strlen(ver_str)) ||\n+          if ((strlen(buf) != ver_str_len) ||\n@@ -294,2 +294,2 @@\n-            os::snprintf(msg, sizeof(msg), \"%d\\n\", ATTACH_ERROR_BADVERSION);\n-            write_fully(s, msg, strlen(msg));\n+            int msg_len = os::snprintf(msg, sizeof(msg), \"%d\\n\", ATTACH_ERROR_BADVERSION);\n+            write_fully(s, msg, msg_len);\n@@ -414,2 +414,2 @@\n-  os::snprintf(msg, sizeof(msg), \"%d\\n\", result);\n-  int rc = BsdAttachListener::write_fully(this->socket(), msg, strlen(msg));\n+  int msg_len = os::snprintf(msg, sizeof(msg), \"%d\\n\", result);\n+  int rc = BsdAttachListener::write_fully(this->socket(), msg, msg_len);\n","filename":"src\/hotspot\/os\/bsd\/attachListener_bsd.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -536,3 +536,2 @@\n-    int printed = snprintf(args, 37, \"0x%x, 0x%x, %u\",\n-      resources_used, resources_used_exclusively, element_count);\n-    assert(printed <= 36, \"overflow\");\n+    snprintf(args, 37, \"0x%x, 0x%x, %u\",\n+        resources_used, resources_used_exclusively, element_count);\n","filename":"src\/hotspot\/share\/adlc\/output_c.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2524,1 +2524,0 @@\n-  size_t buf_off;\n@@ -2528,1 +2527,1 @@\n-  os::snprintf(buf, buf_size, \"\\tat %s.%s(\", klass_name, method_name);\n+  size_t buf_off = os::snprintf(buf, buf_size, \"\\tat %s.%s(\", klass_name, method_name);\n@@ -2532,1 +2531,0 @@\n-    buf_off = (int)strlen(buf);\n@@ -2534,1 +2532,1 @@\n-      os::snprintf(buf + buf_off, buf_size - buf_off, \"%s@%s\/\", module_name, module_version);\n+      buf_off += os::snprintf(buf + buf_off, buf_size - buf_off, \"%s@%s\/\", module_name, module_version);\n@@ -2536,1 +2534,1 @@\n-      os::snprintf(buf + buf_off, buf_size - buf_off, \"%s\/\", module_name);\n+      buf_off += os::snprintf(buf + buf_off, buf_size - buf_off, \"%s\/\", module_name);\n@@ -2549,1 +2547,0 @@\n-      buf_off = (int)strlen(buf);\n@@ -2552,1 +2549,1 @@\n-        os::snprintf(buf + buf_off, buf_size - buf_off, \"%s:%d)\", source_file_name, line_number);\n+        buf_off += os::snprintf(buf + buf_off, buf_size - buf_off, \"%s:%d)\", source_file_name, line_number);\n@@ -2555,1 +2552,1 @@\n-        os::snprintf(buf + buf_off, buf_size - buf_off, \"%s)\", source_file_name);\n+        buf_off += os::snprintf(buf + buf_off, buf_size - buf_off, \"%s)\", source_file_name);\n@@ -2558,1 +2555,1 @@\n-        os::snprintf(buf + buf_off, buf_size - buf_off, \"Unknown Source)\");\n+        buf_off += os::snprintf(buf + buf_off, buf_size - buf_off, \"Unknown Source)\");\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":6,"deletions":9,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -780,1 +780,2 @@\n-      char xn[12]; os::snprintf(xn, sizeof(xn), \"x%d\", j);\n+      char xn[12];\n+      os::snprintf(xn, sizeof(xn), \"x%d\", j);\n","filename":"src\/hotspot\/share\/code\/dependencies.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -227,1 +227,1 @@\n-      os::snprintf(p, 7, \"\\\\u%04x\", c);\n+      os::snprintf(p, 7, \"\\\\u%04x\", c);  \/\/ counting terminating zero in\n","filename":"src\/hotspot\/share\/utilities\/utf8.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}