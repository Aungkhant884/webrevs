{"files":[{"patch":"@@ -27,1 +27,0 @@\n- * @author Mike McCloskey\n@@ -52,1 +51,2 @@\n-             Actor a = new Actor(r.port())) {\n+             Actor a = new Actor(r.getSocketAddress())\n+        ) {\n@@ -79,1 +79,1 @@\n-        final int port;\n+        final SocketAddress socketAddress;\n@@ -82,2 +82,2 @@\n-        Actor(int port) throws IOException {\n-            this.port = port;\n+        Actor(SocketAddress socketAddress) throws IOException {\n+            this.socketAddress = socketAddress;\n@@ -92,3 +92,1 @@\n-                InetAddress address = InetAddress.getLoopbackAddress();\n-                InetSocketAddress isa = new InetSocketAddress(address, port);\n-                dc.connect(isa);\n+                dc.connect(socketAddress);\n@@ -97,1 +95,1 @@\n-                log.println(\"Actor attempting to write to Reactor at \" + isa.toString());\n+                log.println(\"Actor attempting to write to Reactor at \" + socketAddress.toString());\n@@ -102,2 +100,4 @@\n-                    InetSocketAddress otherAddress = new InetSocketAddress(address, (port == 3333 ? 3332 : 3333));\n-                    log.println(\"Testing if Actor throws already connected exception when attempting to send to \" + otherAddress.toString());\n+                    int port = dc.socket().getLocalPort();\n+                    InetAddress loopback = InetAddress.getLoopbackAddress();\n+                    InetSocketAddress otherAddress = new InetSocketAddress(loopback, (port == 3333 ? 3332 : 3333));\n+                    log.println(\"Testing if Actor throws AlreadyConnectedException\" + otherAddress.toString());\n@@ -117,1 +117,1 @@\n-                log.println(\"Actor received from Reactor at \" + isa + \": \" + cb);\n+                log.println(\"Actor received from Reactor at \" + socketAddress + \": \" + cb);\n@@ -139,2 +139,2 @@\n-        int port() {\n-            return dc.socket().getLocalPort();\n+        SocketAddress getSocketAddress() throws IOException {\n+            return dc.getLocalAddress();\n","filename":"test\/jdk\/java\/nio\/channels\/DatagramChannel\/Connect.java","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}