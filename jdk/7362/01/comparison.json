{"files":[{"patch":"@@ -42,4 +42,5 @@\n-  \/\/ We need to adapt the configured number of stack protection pages given\n-  \/\/ in 4K pages to the actual os page size. We must do this before setting\n-  \/\/ up minimal stack sizes etc. in os::init_2().\n-  size_t alignment = 4*K;\n+  \/\/ We need to adapt the configured number of stack protection pages to the\n+  \/\/ actual OS page size. We must do this before setting up minimal stack\n+  \/\/ sizes etc. in os::init_2(). The option values are given in the 4K units,\n+  \/\/ matching the smallest page size in supported platforms.\n+  size_t unit = 4*K;\n@@ -48,1 +49,1 @@\n-  _stack_red_zone_size = align_up(StackRedPages * alignment, page_size);\n+  _stack_red_zone_size = align_up(StackRedPages * unit, page_size);\n@@ -51,1 +52,1 @@\n-  _stack_yellow_zone_size = align_up(StackYellowPages * alignment, page_size);\n+  _stack_yellow_zone_size = align_up(StackYellowPages * unit, page_size);\n@@ -54,1 +55,1 @@\n-  _stack_reserved_zone_size = align_up(StackReservedPages * alignment, page_size);\n+  _stack_reserved_zone_size = align_up(StackReservedPages * unit, page_size);\n@@ -66,1 +67,1 @@\n-  _stack_shadow_zone_size = align_up(StackShadowPages * alignment, page_size);\n+  _stack_shadow_zone_size = align_up(StackShadowPages * unit, page_size);\n","filename":"src\/hotspot\/share\/runtime\/stackOverflow.cpp","additions":9,"deletions":8,"binary":false,"changes":17,"status":"modified"}]}