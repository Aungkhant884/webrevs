{"files":[{"patch":"@@ -42,3 +42,3 @@\n-  const size_t        _scale;  \/\/ report in this scale\n-  outputStream* const _output; \/\/ destination\n-  static const size_t default_scale = K;\n+  size_t        _scale;  \/\/ report in this scale\n+  outputStream* _output; \/\/ destination\n+\n@@ -46,4 +46,4 @@\n-  MemReporterBase(outputStream* out = NULL, size_t scale = 0) :\n-    _scale(scale == 0 ? default_scale : scale),\n-    _output(out == NULL ? tty : out)\n-  {}\n+  MemReporterBase(outputStream* out = NULL, size_t scale = K)\n+    : _scale(scale) {\n+    _output = (out == NULL) ? tty : out;\n+  }\n@@ -106,1 +106,1 @@\n-    size_t scale = 0) : MemReporterBase(output, scale),\n+    size_t scale = K) : MemReporterBase(output, scale),\n@@ -131,1 +131,1 @@\n-  MemDetailReporter(MemBaseline& baseline, outputStream* output, size_t scale = 0) :\n+  MemDetailReporter(MemBaseline& baseline, outputStream* output, size_t scale = K) :\n@@ -168,1 +168,1 @@\n-    outputStream* output, size_t scale = 0) : MemReporterBase(output, scale),\n+    outputStream* output, size_t scale = K) : MemReporterBase(output, scale),\n@@ -207,1 +207,1 @@\n-    outputStream* output, size_t scale = 0) :\n+    outputStream* output, size_t scale = K) :\n","filename":"src\/hotspot\/share\/services\/memReporter.hpp","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -173,6 +173,0 @@\n-\/\/ Make a final report or report for hs_err file.\n-void MemTracker::error_report(outputStream* output) {\n-  if (tracking_level() >= NMT_summary) {\n-    report(true, output, K);  \/\/ just print summary for error case.\n-  }\n-}\n@@ -190,3 +184,1 @@\n-      \/\/ Print in whatever level we gave; print with scale=1 to use this\n-      \/\/ final report to find leaks.\n-      report(level == NMT_summary, output, 1);\n+      report(level == NMT_summary, output);\n@@ -197,1 +189,1 @@\n-void MemTracker::report(bool summary_only, outputStream* output, size_t scale) {\n+void MemTracker::report(bool summary_only, outputStream* output) {\n@@ -202,1 +194,1 @@\n-      MemSummaryReporter rpt(baseline, output, scale);\n+      MemSummaryReporter rpt(baseline, output);\n@@ -205,1 +197,1 @@\n-      MemDetailReporter rpt(baseline, output, scale);\n+      MemDetailReporter rpt(baseline, output);\n@@ -210,1 +202,1 @@\n-      MetaspaceUtils::print_basic_report(output, scale);\n+      MetaspaceUtils::print_basic_report(output, K);\n","filename":"src\/hotspot\/share\/services\/memTracker.cpp","additions":5,"deletions":13,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -290,1 +290,6 @@\n-  static void error_report(outputStream* output);\n+  static void error_report(outputStream* output) {\n+    if (tracking_level() >= NMT_summary) {\n+      report(true, output);  \/\/ just print summary for error case.\n+    }\n+   }\n+\n@@ -306,1 +311,1 @@\n-  static void report(bool summary_only, outputStream* output, size_t scale);\n+  static void report(bool summary_only, outputStream* output);\n","filename":"src\/hotspot\/share\/services\/memTracker.hpp","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"}]}