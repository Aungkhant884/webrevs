{"files":[{"patch":"@@ -920,2 +920,2 @@\n-                try (var srcAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(src);\n-                     var dstAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n+                try (var srcGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(src);\n+                     var dstGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n@@ -1598,1 +1598,1 @@\n-                    try (var acquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n+                    try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n","filename":"src\/java.base\/share\/classes\/com\/sun\/crypto\/provider\/GaloisCounterMode.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -782,1 +782,2 @@\n-                \/\/ We are not using a lambda here because this would create a circular dependency with lambda factories.\n+                \/\/ We are not using a lambda here because this would create\n+                \/\/ a circular dependency with lambda factories.\n@@ -785,1 +786,1 @@\n-                    public void close() throws RuntimeException {}\n+                    public void close() {}\n","filename":"src\/java.base\/share\/classes\/java\/nio\/Buffer.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/Adler32.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/CRC32.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -177,1 +177,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(buffer)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/CRC32C.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -344,1 +344,1 @@\n-                try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(dictionary)) {\n+                try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(dictionary)) {\n@@ -594,1 +594,1 @@\n-                    try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n+                    try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n@@ -718,1 +718,1 @@\n-                    try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                    try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n@@ -739,1 +739,1 @@\n-                    try (var inAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                    try (var inGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n@@ -742,1 +742,1 @@\n-                            try (var outAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                            try (var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n@@ -766,1 +766,1 @@\n-                        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/Deflater.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -266,1 +266,1 @@\n-                try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(dictionary)) {\n+                try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(dictionary)) {\n@@ -390,1 +390,1 @@\n-                            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n+                            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n@@ -526,1 +526,1 @@\n-                            try (var outputAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n@@ -550,1 +550,1 @@\n-                            try (var inputAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n+                            try (var inGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(input)) {\n@@ -553,1 +553,1 @@\n-                                    try (var outputAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                                    try (var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n@@ -575,1 +575,1 @@\n-                                try (var outputAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n+                                try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(output)) {\n","filename":"src\/java.base\/share\/classes\/java\/util\/zip\/Inflater.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -113,1 +113,1 @@\n-     * try (var handler = acquireSessionAsAutoCloseable(buffer)) {\n+     * try (var guard = acquireSessionAsAutoCloseable(buffer)) {\n@@ -161,1 +161,1 @@\n-        void close() throws RuntimeException;\n+        void close();\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaNioAccess.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -788,1 +788,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n@@ -941,1 +941,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/DatagramChannelImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -33,2 +33,6 @@\n-    \/\/ Note: Use of the returned address must be guarded if this DirectBuffer is backed by a memory session that is\n-    \/\/ explicitly closeable or else the result is undefined including silent memory mutation and JVM crashes.\n+    \/\/ Use of the returned address must be guarded if this DirectBuffer\n+    \/\/ is backed by a memory session that is explicitly closeable.\n+    \/\/\n+    \/\/ Failure to do this means the outcome is undefined including\n+    \/\/ silent unrelated memory mutation and JVM crashes.\n+    \/\/\n@@ -36,1 +40,2 @@\n-    \/\/ try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+    \/\/\n+    \/\/ try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/DirectBuffer.java","additions":8,"deletions":3,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -183,1 +183,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(dst)) {\n@@ -247,1 +247,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(src)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(src)) {\n","filename":"src\/java.base\/unix\/classes\/sun\/nio\/fs\/UnixUserDefinedFileAttributeView.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -742,2 +742,2 @@\n-        try (var inAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n-             var outAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n+        try (var inGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n+             var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11AEADCipher.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -695,2 +695,2 @@\n-        try (var inAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n-             var outAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n+        try (var inGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n+             var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n@@ -896,1 +896,1 @@\n-        try (var outAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n+        try (var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Cipher.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -314,1 +314,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Digest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -564,2 +564,2 @@\n-        try (var inAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n-             var outAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n+        try (var inGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(inBuffer);\n+             var outGuard = NIO_ACCESS.acquireSessionAsAutoCloseable(outBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11KeyWrapCipher.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -279,1 +279,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Mac.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -632,1 +632,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11PSSSignature.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -597,1 +597,1 @@\n-            try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n+            try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(byteBuffer)) {\n","filename":"src\/jdk.crypto.cryptoki\/share\/classes\/sun\/security\/pkcs11\/P11Signature.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -848,1 +848,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n@@ -1040,1 +1040,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpChannelImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -591,1 +591,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n@@ -919,1 +919,1 @@\n-        try (var sessionAcquisition = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n+        try (var guard = NIO_ACCESS.acquireSessionAsAutoCloseable(bb)) {\n","filename":"src\/jdk.sctp\/unix\/classes\/sun\/nio\/ch\/sctp\/SctpMultiChannelImpl.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}