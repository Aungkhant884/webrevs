{"files":[{"patch":"@@ -149,2 +149,1 @@\n-    private final transient ConcurrentMap<Integer, ZoneOffsetTransition[]> lastRulesCache =\n-                new ConcurrentHashMap<Integer, ZoneOffsetTransition[]>();\n+    private final transient ConcurrentMap<Integer, ZoneOffsetTransition[]> lastRulesCache;\n@@ -262,4 +261,11 @@\n-        Object[] temp = lastRules.toArray();\n-        ZoneOffsetTransitionRule[] rulesArray = Arrays.copyOf(temp, temp.length, ZoneOffsetTransitionRule[].class);\n-        if (rulesArray.length > 16) {\n-            throw new IllegalArgumentException(\"Too many transition rules\");\n+        if (lastRules.size() > 0) {\n+            Object[] temp = lastRules.toArray();\n+            ZoneOffsetTransitionRule[] rulesArray = Arrays.copyOf(temp, temp.length, ZoneOffsetTransitionRule[].class);\n+            if (rulesArray.length > 16) {\n+                throw new IllegalArgumentException(\"Too many transition rules\");\n+            }\n+            this.lastRules = rulesArray;\n+            this.lastRulesCache = new ConcurrentHashMap<>();\n+        } else {\n+            this.lastRules = EMPTY_LASTRULES;\n+            this.lastRulesCache = null;\n@@ -267,1 +273,0 @@\n-        this.lastRules = rulesArray;\n@@ -291,0 +296,1 @@\n+        this.lastRulesCache = (lastRules.length > 0) ? new ConcurrentHashMap<>() : null;\n@@ -327,0 +333,1 @@\n+        this.lastRulesCache = null;\n","filename":"src\/java.base\/share\/classes\/java\/time\/zone\/ZoneRules.java","additions":14,"deletions":7,"binary":false,"changes":21,"status":"modified"}]}