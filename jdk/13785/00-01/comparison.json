{"files":[{"patch":"@@ -57,1 +57,1 @@\n-          _memory_manager(\"Epsilon Heap\", \"\"),\n+          _memory_manager(\"Epsilon Heap\"),\n","filename":"src\/hotspot\/share\/gc\/epsilon\/epsilonHeap.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -91,3 +91,3 @@\n-  _young_gc_memory_manager(\"G1 Young Generation\", \"end of minor GC\"),\n-  _full_gc_memory_manager(\"G1 Old Generation\", \"end of major GC\"),\n-  _conc_gc_memory_manager(\"G1 Concurrent GC\", \"end of concurrent GC pause\"),\n+  _young_gc_memory_manager(\"G1 Young Generation\"),\n+  _full_gc_memory_manager(\"G1 Old Generation\"),\n+  _conc_gc_memory_manager(\"G1 Concurrent GC\"),\n@@ -354,0 +354,1 @@\n+                                     const char* end_message,\n@@ -358,1 +359,3 @@\n-       G1CollectedHeap::heap()->gc_cause(), all_memory_pools_affected) {\n+       G1CollectedHeap::heap()->gc_cause(),\n+       end_message,\n+       all_memory_pools_affected) {\n@@ -372,0 +375,1 @@\n+                    \"end of minor GC\",\n@@ -378,1 +382,2 @@\n-                    &monitoring_support->_full_gc_memory_manager) {\n+                    &monitoring_support->_full_gc_memory_manager,\n+                    \"end of major GC\") {\n@@ -384,1 +389,2 @@\n-                    &monitoring_support->_conc_gc_memory_manager) {\n+                    &monitoring_support->_conc_gc_memory_manager,\n+                    \"end of concurrent GC pause\") {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1MonitoringSupport.cpp","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -247,0 +247,1 @@\n+                    const char* end_message,\n","filename":"src\/hotspot\/share\/gc\/g1\/g1MonitoringSupport.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -150,2 +150,2 @@\n-  _young_manager = new GCMemoryManager(\"PS Scavenge\", \"end of minor GC\");\n-  _old_manager = new GCMemoryManager(\"PS MarkSweep\", \"end of major GC\");\n+  _young_manager = new GCMemoryManager(\"PS Scavenge\");\n+  _old_manager = new GCMemoryManager(\"PS MarkSweep\");\n","filename":"src\/hotspot\/share\/gc\/parallel\/parallelScavengeHeap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1752,1 +1752,1 @@\n-    TraceMemoryManagerStats tms(heap->old_gc_manager(), gc_cause);\n+    TraceMemoryManagerStats tms(heap->old_gc_manager(), gc_cause, \"end of major GC\");\n","filename":"src\/hotspot\/share\/gc\/parallel\/psParallelCompact.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -411,1 +411,1 @@\n-    TraceMemoryManagerStats tms(heap->young_gc_manager(), gc_cause);\n+    TraceMemoryManagerStats tms(heap->young_gc_manager(), gc_cause, \"end of minor GC\");\n","filename":"src\/hotspot\/share\/gc\/parallel\/psScavenge.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,2 +48,2 @@\n-  _young_manager = new GCMemoryManager(\"Copy\", \"end of minor GC\");\n-  _old_manager = new GCMemoryManager(\"MarkSweepCompact\", \"end of major GC\");\n+  _young_manager = new GCMemoryManager(\"Copy\");\n+  _old_manager = new GCMemoryManager(\"MarkSweepCompact\");\n","filename":"src\/hotspot\/share\/gc\/serial\/serialHeap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -435,1 +435,1 @@\n-  TraceMemoryManagerStats tmms(gen->gc_manager(), gc_cause());\n+  TraceMemoryManagerStats tmms(gen->gc_manager(), gc_cause(), heap()->is_young_gen(gen) ? \"end of minor GC\" : \"end of major GC\");\n","filename":"src\/hotspot\/share\/gc\/shared\/genCollectedHeap.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -480,2 +480,2 @@\n-  _stw_memory_manager(\"Shenandoah Pauses\", \"end of GC pause\"),\n-  _cycle_memory_manager(\"Shenandoah Cycles\", \"end of GC cycle\"),\n+  _stw_memory_manager(\"Shenandoah Pauses\"),\n+  _cycle_memory_manager(\"Shenandoah Cycles\"),\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahHeap.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+          \"end of GC cycle\",\n@@ -79,0 +80,1 @@\n+          notification_message,\n@@ -86,2 +88,1 @@\n-          \/* countCollection = *\/         true,\n-          \/* notificationMessage = *\/     notification_message\n+          \/* countCollection = *\/         true\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahUtils.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -113,1 +113,0 @@\n-                                                           const char* end_message,\n@@ -115,1 +114,1 @@\n-    GCMemoryManager(name, end_message) {\n+    GCMemoryManager(name) {\n@@ -123,2 +122,2 @@\n-    _cycle_memory_manager(\"ZGC Cycles\", \"end of GC cycle\", &_memory_pool),\n-    _pause_memory_manager(\"ZGC Pauses\", \"end of GC pause\", &_memory_pool),\n+    _cycle_memory_manager(\"ZGC Cycles\", &_memory_pool),\n+    _pause_memory_manager(\"ZGC Pauses\", &_memory_pool),\n@@ -150,0 +149,1 @@\n+                          \"end of GC cycle\", \n@@ -164,0 +164,1 @@\n+                          \"end of GC pause\", \n","filename":"src\/hotspot\/share\/gc\/z\/zServiceability.cpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -47,1 +47,0 @@\n-                               const char* end_message,\n","filename":"src\/hotspot\/share\/gc\/z\/zServiceability.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -179,2 +179,2 @@\n-GCMemoryManager::GCMemoryManager(const char* name, const char* gc_end_message) :\n-  MemoryManager(name), _gc_end_message(gc_end_message) {\n+GCMemoryManager::GCMemoryManager(const char* name) :\n+  MemoryManager(name) {\n@@ -244,1 +244,2 @@\n-                             bool recordGCEndTime, bool countCollection,\n+                             bool recordGCEndTime,\n+                             bool countCollection,\n@@ -246,1 +247,2 @@\n-                             bool allMemoryPoolsAffected, const char* notificationMessage) {\n+                             bool allMemoryPoolsAffected,\n+                             const char* message) {\n@@ -296,1 +298,0 @@\n-      const char* message = notificationMessage != nullptr ? notificationMessage : _gc_end_message;\n","filename":"src\/hotspot\/share\/services\/memoryManager.cpp","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -143,1 +143,0 @@\n-  const char*  _gc_end_message;\n@@ -147,1 +146,1 @@\n-  GCMemoryManager(const char* name, const char* gc_end_message);\n+  GCMemoryManager(const char* name);\n@@ -170,1 +169,1 @@\n-                bool allMemoryPoolsAffected, const char* notificationMessage = nullptr);\n+                bool allMemoryPoolsAffected, const char* message);\n","filename":"src\/hotspot\/share\/services\/memoryManager.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-                           bool allMemoryPoolsAffected, const char* notificationMessage) {\n+                           bool allMemoryPoolsAffected, const char* message) {\n@@ -189,1 +189,1 @@\n-                  countCollection, cause, allMemoryPoolsAffected, notificationMessage);\n+                  countCollection, cause, allMemoryPoolsAffected, message);\n@@ -223,0 +223,1 @@\n+                                                 const char* end_message,\n@@ -230,6 +231,5 @@\n-                                                 bool countCollection,\n-                                                 const char* notificationMessage) {\n-  initialize(gc_memory_manager, cause, allMemoryPoolsAffected,\n-             recordGCBeginTime, recordPreGCUsage, recordPeakUsage,\n-             recordPostGCUsage, recordAccumulatedGCTime, recordGCEndTime,\n-             countCollection, notificationMessage);\n+                                                 bool countCollection) {\n+  initialize(gc_memory_manager, cause, end_message,\n+             allMemoryPoolsAffected, recordGCBeginTime, recordPreGCUsage,\n+             recordPeakUsage, recordPostGCUsage, recordAccumulatedGCTime,\n+             recordGCEndTime, countCollection);\n@@ -242,0 +242,1 @@\n+                                         const char* end_message,\n@@ -249,2 +250,1 @@\n-                                         bool countCollection,\n-                                         const char* notificationMessage) {\n+                                         bool countCollection) {\n@@ -252,0 +252,2 @@\n+  _cause = cause;\n+  _end_message = end_message;\n@@ -260,2 +262,0 @@\n-  _cause = cause;\n-  _notificationMessage = notificationMessage;\n@@ -270,1 +270,1 @@\n-                        _notificationMessage);\n+                        _end_message);\n","filename":"src\/hotspot\/share\/services\/memoryService.cpp","additions":13,"deletions":13,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -119,10 +119,10 @@\n-  bool         _allMemoryPoolsAffected;\n-  bool         _recordGCBeginTime;\n-  bool         _recordPreGCUsage;\n-  bool         _recordPeakUsage;\n-  bool         _recordPostGCUsage;\n-  bool         _recordAccumulatedGCTime;\n-  bool         _recordGCEndTime;\n-  bool         _countCollection;\n-  GCCause::Cause _cause;\n-  const char*  _notificationMessage;\n+  GCCause::Cause   _cause;\n+  const char*      _end_message;\n+  bool             _allMemoryPoolsAffected;\n+  bool             _recordGCBeginTime;\n+  bool             _recordPreGCUsage;\n+  bool             _recordPeakUsage;\n+  bool             _recordPostGCUsage;\n+  bool             _recordAccumulatedGCTime;\n+  bool             _recordGCEndTime;\n+  bool             _countCollection;\n@@ -133,0 +133,1 @@\n+                          const char* end_message,\n@@ -140,2 +141,1 @@\n-                          bool countCollection = true,\n-                          const char* notificationMessage = nullptr);\n+                          bool countCollection = true);\n@@ -145,0 +145,1 @@\n+                  const char* end_message,\n@@ -152,2 +153,1 @@\n-                  bool countCollection,\n-                  const char* notificationMessage = nullptr);\n+                  bool countCollection);\n","filename":"src\/hotspot\/share\/services\/memoryService.hpp","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"}]}