{"files":[{"patch":"@@ -148,1 +148,0 @@\n-java\/awt\/KeyboardFocusmanager\/TypeAhead\/TestDialogTypeAhead.java 8198626 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,3 +29,0 @@\n-  @library    ..\/..\/regtesthelpers\n-  @modules java.desktop\/sun.awt\n-  @build      Util\n@@ -35,2 +32,20 @@\n-import java.awt.*;\n-import java.awt.event.*;\n+\n+import java.awt.AWTEvent;\n+import java.awt.Button;\n+import java.awt.Component;\n+import java.awt.DefaultKeyboardFocusManager;\n+import java.awt.Dialog;\n+import java.awt.Dimension;\n+import java.awt.EventQueue;\n+import java.awt.Frame;\n+import java.awt.KeyboardFocusManager;\n+import java.awt.Point;\n+import java.awt.Robot;\n+import java.awt.Toolkit;\n+import java.awt.event.AWTEventListener;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.event.FocusAdapter;\n+import java.awt.event.FocusEvent;\n+import java.awt.event.KeyAdapter;\n+import java.awt.event.KeyEvent;\n@@ -52,2 +67,11 @@\n-        app.init();\n-        app.start();\n+        try {\n+            app.init();\n+            app.start();\n+        } finally {\n+            if (d != null) {\n+                d.dispose();\n+            }\n+            if (f != null) {\n+                f.dispose();\n+            }\n+        }\n@@ -76,2 +100,0 @@\n-                    d.dispose();\n-                    f.dispose();\n@@ -83,0 +105,1 @@\n+\n@@ -96,1 +119,1 @@\n-\n+                    d.setVisible(true);\n@@ -104,2 +127,0 @@\n-\n-                    d.setVisible(true);\n@@ -115,0 +136,1 @@\n+            robot.setAutoDelay(100);\n@@ -131,0 +153,2 @@\n+        waitForIdle();\n+\n@@ -152,1 +176,0 @@\n-\n@@ -155,1 +178,1 @@\n-    private void moveMouseOver(Container c) {\n+    private void moveMouseOver(Component c) {\n@@ -158,1 +181,2 @@\n-        robot.mouseMove(p.x + (int)(d.getWidth()\/2), p.y + (int)(d.getHeight()\/2));\n+        robot.mouseMove(p.x + (int)(d.getWidth()\/2),\n+                p.y + (int)(d.getHeight()\/2));\n@@ -212,1 +236,4 @@\n-            throw new RuntimeException(\"Can't make \" + comp + \" focused, current owner is \" + KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner());\n+            throw new RuntimeException(\"Can't make \" + comp + \" focused,\"\n+                    + \"current owner is \"\n+                    + KeyboardFocusManager\n+                    .getCurrentKeyboardFocusManager().getFocusOwner());\n@@ -260,1 +287,0 @@\n-\n","filename":"test\/jdk\/java\/awt\/KeyboardFocusmanager\/TypeAhead\/TestDialogTypeAhead.java","additions":44,"deletions":18,"binary":false,"changes":62,"status":"modified"}]}