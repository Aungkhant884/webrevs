{"files":[{"patch":"@@ -41,0 +41,1 @@\n+    static volatile boolean field;\n@@ -50,1 +51,5 @@\n-        return result == 0;\n+        if (result == 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -58,1 +63,5 @@\n-        return result != 0;\n+        if (result != 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -66,1 +75,5 @@\n-        return result == 0;\n+        if (result == 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -74,1 +87,5 @@\n-        return result != 0;\n+        if (result != 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -82,1 +99,5 @@\n-        return result == 0;\n+        if (result == 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -90,1 +111,5 @@\n-        return result != 0;\n+        if (result != 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -98,1 +123,5 @@\n-        return result == 0;\n+        if (result == 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -106,1 +135,5 @@\n-        return result != 0;\n+        if (result != 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -110,1 +143,1 @@\n-    @Arguments({Argument.NUMBER_42, Argument.NUMBER_42}) \/\/ TODO switch to Argument.RANDOM_EACH once conditional moving works with the peephole\n+    @Arguments({Argument.RANDOM_EACH, Argument.RANDOM_EACH})\n@@ -114,1 +147,5 @@\n-        return result > 0;\n+        if (result > 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n@@ -118,1 +155,1 @@\n-    @Arguments({Argument.NUMBER_42, Argument.NUMBER_42}) \/\/ TODO switch to Argument.RANDOM_EACH once conditional moving works with the peephole\n+    @Arguments({Argument.RANDOM_EACH, Argument.RANDOM_EACH})\n@@ -122,1 +159,5 @@\n-        return result > 0;\n+        if (result > 0) {\n+            field = true;\n+            return true;\n+        }\n+        return false;\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestTestRemovalPeephole.java","additions":53,"deletions":12,"binary":false,"changes":65,"status":"modified"}]}