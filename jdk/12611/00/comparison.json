{"files":[{"patch":"@@ -2606,10 +2606,0 @@\n-class VerifyRegionRemSetClosure : public HeapRegionClosure {\n-  public:\n-    bool do_heap_region(HeapRegion* hr) {\n-      if (!hr->is_archive() && !hr->is_continues_humongous()) {\n-        hr->verify_rem_set();\n-      }\n-      return false;\n-    }\n-};\n-\n@@ -2647,5 +2637,0 @@\n-  if (VerifyRememberedSets) {\n-    log_info(gc, verify)(\"[Verifying RemSets before GC]\");\n-    VerifyRegionRemSetClosure v_cl;\n-    heap_region_iterate(&v_cl);\n-  }\n@@ -2662,5 +2647,0 @@\n-  if (VerifyRememberedSets) {\n-    log_info(gc, verify)(\"[Verifying RemSets after GC]\");\n-    VerifyRegionRemSetClosure v_cl;\n-    heap_region_iterate(&v_cl);\n-  }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":0,"deletions":20,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -632,39 +632,0 @@\n-void HeapRegion::verify_rem_set(VerifyOption vo, bool* failures) const {\n-  G1CollectedHeap* g1h = G1CollectedHeap::heap();\n-  *failures = false;\n-  HeapWord* p = bottom();\n-  HeapWord* prev_p = NULL;\n-  VerifyRemSetClosure vr_cl(g1h, vo);\n-  while (p < top()) {\n-    oop obj = cast_to_oop(p);\n-    size_t obj_size = block_size(p);\n-\n-    if (!g1h->is_obj_dead_cond(obj, this, vo)) {\n-      if (oopDesc::is_oop(obj)) {\n-        vr_cl.set_containing_obj(obj);\n-        obj->oop_iterate(&vr_cl);\n-\n-        if (vr_cl.has_failures()) {\n-          *failures = true;\n-        }\n-        if (vr_cl.num_failures() >= G1MaxVerifyFailures) {\n-          return;\n-        }\n-      } else {\n-        log_error(gc, verify)(PTR_FORMAT \" not an oop\", p2i(obj));\n-        *failures = true;\n-        return;\n-      }\n-    }\n-\n-    prev_p = p;\n-    p += obj_size;\n-  }\n-}\n-\n-void HeapRegion::verify_rem_set() const {\n-  bool failures = false;\n-  verify_rem_set(VerifyOption::G1UseConcMarking, &failures);\n-  guarantee(!failures, \"HeapRegion RemSet verification failed\");\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp","additions":0,"deletions":39,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -588,3 +588,0 @@\n-\n-  void verify_rem_set(VerifyOption vo, bool* failures) const;\n-  void verify_rem_set() const;\n","filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"}]}