{"files":[{"patch":"@@ -687,5 +687,6 @@\n-  \/\/ It is actually ok to allocate handles in a leaf method. It causes no safepoints,\n-  \/\/ but makes the entry a little slower. There is however a little dance we have to\n-  \/\/ do in debug mode to get around the NoHandleMark code in the JRT_LEAF macro\n-  \/\/ Beware though because allocating Handles must have a HandleMark or else the\n-  \/\/ Handles will be leaked.\n+  \/\/ JRT_LEAF methods don't normally allocate handles and there is a\n+  \/\/ NoHandleMark to enforce that. It is actually safe to use Handles\n+  \/\/ in a JRT_LEAF method, and sometimes desirable, but to do so we\n+  \/\/ must use ResetNoHandleMark to bypass the NoHandleMark, and\n+  \/\/ then use a HandleMark to ensure any Handles we do create are\n+  \/\/ cleaned up in this scope.\n","filename":"src\/hotspot\/share\/runtime\/deoptimization.cpp","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"}]}