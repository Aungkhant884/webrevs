{"files":[{"patch":"@@ -701,1 +701,12 @@\n-     public static void assertDirectoryExists(Path path) {\n+    public static void assertPathNotEmptyDirectory(Path path) {\n+        if (Files.isDirectory(path)) {\n+            ThrowingRunnable.toRunnable(() -> {\n+                try (var files = Files.list(path)) {\n+                    TKit.assertFalse(files.findFirst().isEmpty(), String.format\n+                            (\"Check [%s] is not an empty directory\", path));\n+                }\n+            }).run();\n+         }\n+    }\n+\n+    public static void assertDirectoryExists(Path path) {\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/TKit.java","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -113,4 +113,6 @@\n-        exe.installHandler = cmd -> {\n-            cmd.verifyIsOfType(PackageType.WIN_EXE);\n-            new Executor().setExecutable(cmd.outputBundle()).execute();\n-        };\n+        \/\/ can't have install handler without also having uninstall handler\n+        \/\/ so following is commented out for now\n+        \/\/ exe.installHandler = cmd -> {\n+        \/\/     cmd.verifyIsOfType(PackageType.WIN_EXE);\n+        \/\/     new Executor().setExecutable(cmd.outputBundle()).execute();\n+        \/\/ };\n@@ -210,1 +212,1 @@\n-                TKit.assertPathExists(shortcutPath.getParent(), false);\n+                TKit.assertPathNotEmptyDirectory(shortcutPath.getParent());\n","filename":"test\/jdk\/tools\/jpackage\/helpers\/jdk\/jpackage\/test\/WindowsHelper.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}