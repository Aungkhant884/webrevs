{"files":[{"patch":"@@ -217,2 +217,1 @@\n-  \/\/ TODO: GPRS: 5 + FPRS: 8 + Flags:1?\n-  const int nbytes_save = (5 + 8 + 1) * BytesPerWord;\n+  const int nbytes_save = (5 + 8) * BytesPerWord;\n@@ -243,1 +242,1 @@\n-  __ save_volatile_regs(Z_SP, frame::z_abi_160_size, true, true);\n+  __ save_volatile_regs(Z_SP, frame::z_abi_160_size, true, false);\n@@ -248,1 +247,1 @@\n-  __ restore_volatile_regs(Z_SP, frame::z_abi_160_size, true, true);\n+  __ restore_volatile_regs(Z_SP, frame::z_abi_160_size, true, false);\n","filename":"src\/hotspot\/cpu\/s390\/gc\/g1\/g1BarrierSetAssembler_s390.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -161,0 +161,5 @@\n+  Register Rtmp1, Rtmp2, Rtmp3;\n+  Rtmp1 = Z_R1_scratch;\n+  Rtmp2 = Z_R7;\n+  Rtmp3 = Z_R8;\n+\n@@ -168,2 +173,2 @@\n-  __ load_method_holder(Z_R0_scratch, Z_method);\n-  __ z_lg(Z_R0_scratch, in_bytes(InstanceKlass::class_loader_data_offset()), Z_R0_scratch);\n+  __ load_method_holder(Rtmp1, Z_method);\n+  __ z_lg(Rtmp1, in_bytes(InstanceKlass::class_loader_data_offset()), Rtmp1);\n@@ -172,2 +177,2 @@\n-  __ z_llgf(Z_R1_scratch, in_bytes(ClassLoaderData::keep_alive_offset()), Z_R0_scratch);\n-  __ z_cfi(Z_R1_scratch, 0);\n+  __ z_llgf(Rtmp2, in_bytes(ClassLoaderData::keep_alive_offset()), Rtmp1);\n+  __ z_cfi(Rtmp2, 0);\n@@ -177,3 +182,3 @@\n-  __ z_lg(Z_R1_scratch, in_bytes(ClassLoaderData::holder_offset()), Z_R0_scratch);\n-  __ resolve_weak_handle(Address(Z_R1_scratch), Z_R1_scratch, Z_R0_scratch, Z_R2);\n-  __ z_cfi(Z_R1_scratch, 0);\n+  __ z_lg(Rtmp2, in_bytes(ClassLoaderData::holder_offset()), Rtmp1);\n+  __ resolve_weak_handle(Address(Rtmp2), Rtmp2, Rtmp1, Rtmp3);\n+  __ z_cfi(Rtmp2, 0);\n@@ -184,2 +189,2 @@\n-  __ load_const_optimized(Z_R1_scratch, SharedRuntime::get_handle_wrong_method_stub());\n-  __ z_br(Z_R1_scratch); \/\/ Does not return\n+  __ load_const_optimized(Rtmp1, SharedRuntime::get_handle_wrong_method_stub());\n+  __ z_br(Rtmp1); \/\/ Does not return\n","filename":"src\/hotspot\/cpu\/s390\/gc\/shared\/barrierSetAssembler_s390.cpp","additions":14,"deletions":9,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -2382,0 +2382,3 @@\n+  BarrierSetAssembler* bs = BarrierSet::barrier_set()->barrier_set_assembler();\n+  bs->c2i_entry_barrier(masm);\n+\n@@ -2384,1 +2387,2 @@\n-  return AdapterHandlerLibrary::new_entry(fingerprint, i2c_entry, c2i_entry, c2i_unverified_entry, c2i_no_clinit_check_entry);\n+  return AdapterHandlerLibrary::new_entry(fingerprint, i2c_entry, c2i_entry,\n+                                          c2i_unverified_entry, c2i_no_clinit_check_entry);\n","filename":"src\/hotspot\/cpu\/s390\/sharedRuntime_s390.cpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}