{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -110,0 +110,1 @@\n+    private boolean timeToDie = false;\n@@ -131,1 +132,8 @@\n-                waitingMonitor.wait(cm01t002.timeout);\n+                long maxTime = System.currentTimeMillis() + cm01t002.timeout;\n+                while (!timeToDie) {\n+                    long timeout = maxTime - System.currentTimeMillis();\n+                    if (timeout <= 0) {\n+                        break;\n+                    }\n+                    waitingMonitor.wait(timeout);\n+                }\n@@ -147,0 +155,1 @@\n+            timeToDie = true;\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/capability\/CM01\/cm01t002.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -102,0 +102,5 @@\n+    if (thread == NULL) {\n+        nsk_lcomplain(__FILE__, __LINE__, \"tested thread not found\\n\");\n+        return NSK_FALSE;\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/capability\/CM01\/cm01t002\/cm01t002.cpp","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}