{"files":[{"patch":"@@ -242,21 +242,0 @@\n-    private void setHighlighted(boolean b) {\n-        this.highlighted = b;\n-        Set<Object> highlightedObjects = new HashSet<>(scene.getHighlightedObjects());\n-        Set<Object> highlightedObjectsChange = new HashSet<>();\n-        for (Connection c : connections) {\n-            if (c.hasSlots()) {\n-                highlightedObjectsChange.add(c.getTo());\n-                highlightedObjectsChange.add(c.getTo().getVertex());\n-                highlightedObjectsChange.add(c.getFrom());\n-                highlightedObjectsChange.add(c.getFrom().getVertex());\n-            }\n-        }\n-        if(b) {\n-            highlightedObjects.addAll(highlightedObjectsChange);\n-        } else {\n-            highlightedObjects.removeAll(highlightedObjectsChange);\n-        }\n-        scene.setHighlightedObjects(highlightedObjects);\n-        this.revalidate(true);\n-    }\n-\n@@ -276,1 +255,5 @@\n-            setRecursiveHighlighted(state.isHovered());\n+            boolean enableHighlighting = state.isHovered();\n+            highlightPredecessors(enableHighlighting);\n+            setHighlighted(enableHighlighting);\n+            recursiveHighlightSuccessors(enableHighlighting);\n+            highlightVertices(enableHighlighting);\n@@ -280,5 +263,5 @@\n-    private void setRecursiveHighlighted(boolean b) {\n-        LineWidget cur = predecessor;\n-        while (cur != null) {\n-            cur.setHighlighted(b);\n-            cur = cur.predecessor;\n+    private void highlightPredecessors(boolean enable) {\n+        LineWidget predecessorLineWidget = predecessor;\n+        while (predecessorLineWidget != null) {\n+            predecessorLineWidget.setHighlighted(enable);\n+            predecessorLineWidget = predecessorLineWidget.predecessor;\n@@ -286,0 +269,1 @@\n+    }\n@@ -287,2 +271,5 @@\n-        highlightSuccessors(b);\n-        this.setHighlighted(b);\n+    private void recursiveHighlightSuccessors(boolean enable) {\n+        for (LineWidget successorLineWidget : successors) {\n+            successorLineWidget.setHighlighted(enable);\n+            successorLineWidget.recursiveHighlightSuccessors(enable);\n+        }\n@@ -291,4 +278,15 @@\n-    private void highlightSuccessors(boolean b) {\n-        for (LineWidget s : successors) {\n-            s.setHighlighted(b);\n-            s.highlightSuccessors(b);\n+    private void highlightVertices(boolean enable) {\n+        Set<Object> highlightedObjects = new HashSet<>(scene.getHighlightedObjects());\n+        Set<Object> highlightedObjectsChange = new HashSet<>();\n+        for (Connection c : connections) {\n+            if (c.hasSlots()) {\n+                highlightedObjectsChange.add(c.getTo());\n+                highlightedObjectsChange.add(c.getTo().getVertex());\n+                highlightedObjectsChange.add(c.getFrom());\n+                highlightedObjectsChange.add(c.getFrom().getVertex());\n+            }\n+        }\n+        if(enable) {\n+            highlightedObjects.addAll(highlightedObjectsChange);\n+        } else {\n+            highlightedObjects.removeAll(highlightedObjectsChange);\n@@ -296,0 +294,6 @@\n+        scene.setHighlightedObjects(highlightedObjects);\n+    }\n+\n+    private void setHighlighted(boolean enable) {\n+        highlighted = enable;\n+        revalidate(true);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/LineWidget.java","additions":37,"deletions":33,"binary":false,"changes":70,"status":"modified"}]}