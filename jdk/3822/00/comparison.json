{"files":[{"patch":"@@ -807,1 +807,7 @@\n-        AlgorithmParameters algParams = null;\n+        AlgorithmParameters algParams;\n+\n+        byte[] salt = getSalt();\n+        if (KnownOIDs.findMatch(algorithm) == KnownOIDs.PBEWithMD5AndDES) {\n+            \/\/ PBEWithMD5AndDES requires a 8-byte salt\n+            salt = Arrays.copyOf(salt, 8);\n+        }\n@@ -811,1 +817,1 @@\n-                new PBEParameterSpec(getSalt(), iterationCount);\n+                new PBEParameterSpec(salt, iterationCount);\n","filename":"src\/java.base\/share\/classes\/sun\/security\/pkcs12\/PKCS12KeyStore.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n- * @bug 8076190 8242151 8153005\n+ * @bug 8076190 8242151 8153005 8266293\n@@ -196,0 +196,9 @@\n+\n+        \/\/ 8266293\n+        test(c++,\n+                Map.of(\"keystore.pkcs12.keyProtectionAlgorithm\", \"PBEWithMD5AndDES\",\n+                        \"keystore.pkcs12.certProtectionAlgorithm\", \"PBEWithMD5AndDES\"),\n+                Map.of(),\n+                PBEWithMD5AndDES, 10000,\n+                PBEWithMD5AndDES, 10000,\n+                SHA_256, 10000);\n","filename":"test\/jdk\/sun\/security\/pkcs12\/ParamsPreferences.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"}]}