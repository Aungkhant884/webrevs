{"files":[{"patch":"@@ -185,1 +185,1 @@\n-               \"ppc64%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s\",\n+               \"ppc64%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s\",\n@@ -202,1 +202,0 @@\n-               (has_tm()      ? \" rtm\"     : \"\"),\n@@ -615,1 +614,0 @@\n-  \/\/ feature rtm_m is determined by OS\n@@ -627,31 +625,0 @@\n-\n-#ifdef AIX\n-  \/\/ To enable it on AIX it's necessary POWER8 or above and at least AIX 7.2.\n-  \/\/ Actually, this is supported since AIX 7.1.. Unfortunately, this first\n-  \/\/ contained bugs, so that it can only be enabled after AIX 7.1.3.30.\n-  \/\/ The Java property os.version, which is used in RTM tests to decide\n-  \/\/ whether the feature is available, only knows major and minor versions.\n-  \/\/ We don't want to change this property, as user code might depend on it.\n-  \/\/ So the tests can not check on subversion 3.30, and we only enable RTM\n-  \/\/ with AIX 7.2.\n-  if (has_lqarx() && !has_brw()) { \/\/ POWER8 or POWER9\n-    if (os::Aix::os_version() >= 0x07020000) { \/\/ At least AIX 7.2.\n-      _features |= rtm_m;\n-    }\n-  }\n-#endif\n-#if defined(LINUX) && defined(VM_LITTLE_ENDIAN)\n-  unsigned long auxv = getauxval(AT_HWCAP2);\n-\n-  if (auxv & PPC_FEATURE2_HTM_NOSC) {\n-    if (auxv & PPC_FEATURE2_HAS_HTM) {\n-      \/\/ TM on POWER8 and POWER9 in compat mode (VM) is supported by the JVM.\n-      \/\/ TM on POWER9 DD2.1 NV (baremetal) is not supported by the JVM (TM on\n-      \/\/ POWER9 DD2.1 NV has a few issues that need a couple of firmware\n-      \/\/ and kernel workarounds, so there is a new mode only supported\n-      \/\/ on non-virtualized P9 machines called HTM with no Suspend Mode).\n-      \/\/ TM on POWER9 D2.2+ NV is not supported at all by Linux.\n-      _features |= rtm_m;\n-    }\n-  }\n-#endif\n","filename":"src\/hotspot\/cpu\/ppc\/vm_version_ppc.cpp","additions":1,"deletions":34,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -76,1 +76,0 @@\n-    rtm_m                 = (1 << rtm    ),\n@@ -119,1 +118,0 @@\n-  static bool has_tm()      { return (_features & rtm_m) != 0; }\n","filename":"src\/hotspot\/cpu\/ppc\/vm_version_ppc.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"}]}