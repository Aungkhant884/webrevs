{"files":[{"patch":"@@ -27,0 +27,1 @@\n+#include \"logging\/logAsyncFlusher.hpp\"\n@@ -281,0 +282,9 @@\n+  \/\/ Handle jcmd VM.log disable\n+  \/\/ ts->disable_outputs() above deletes output_list with RCU synchronization.\n+  \/\/ Therefore, no new logging entry will enter asynchronous queue after then.\n+  \/\/ flush pending entries before the LogOutput instances die.\n+  LogAsyncFlusher* async = LogAsyncFlusher::instance();\n+  if (async != nullptr) {\n+    async->flush();\n+  }\n+\n","filename":"src\/hotspot\/share\/logging\/logConfiguration.cpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -493,1 +493,1 @@\n-  out->print(\"filecount=%u,filesize=\" SIZE_FORMAT \"%s\", _file_count,\n+  out->print(\"filecount=%u,filesize=\" SIZE_FORMAT \"%s,async=%s\", _file_count,\n@@ -495,1 +495,2 @@\n-             proper_unit_for_byte_size(_rotate_size));\n+             proper_unit_for_byte_size(_rotate_size),\n+             _async_mode ? \"true\" : \"false\");\n","filename":"src\/hotspot\/share\/logging\/logFileOutput.cpp","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"}]}