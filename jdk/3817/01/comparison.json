{"files":[{"patch":"@@ -168,1 +168,1 @@\n-        if (!tags.isEmpty()) {\n+        if (!tags.isEmpty() && !tags.get(0).getDescription().isEmpty()) {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlSerialFieldWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        SerializedFormWriter.SerialMethodWriter{\n+        SerializedFormWriter.SerialMethodWriter {\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/HtmlSerialMethodWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import javax.lang.model.element.PackageElement;\n@@ -32,0 +33,1 @@\n+import jdk.javadoc.internal.doclets.formats.html.markup.ContentBuilder;\n@@ -109,1 +111,1 @@\n-     * @param packageName the package header to write\n+     * @param packageElement the package element to write\n@@ -113,1 +115,1 @@\n-    public Content getPackageHeader(String packageName) {\n+    public Content getPackageHeader(PackageElement packageElement) {\n@@ -117,1 +119,1 @@\n-        heading.add(packageName);\n+        heading.add(getPackageLink(packageElement, Text.of(utils.getPackageName(packageElement))));\n@@ -162,8 +164,10 @@\n-\n-        \/\/Print the heading.\n-        Content className = superClassLink == null ?\n-            contents.getContent(\n-            \"doclet.Class_0_implements_serializable\", classLink) :\n-            contents.getContent(\n-            \"doclet.Class_0_extends_implements_serializable\", classLink,\n-            superClassLink);\n+        Content interfaceLink = getLink(new HtmlLinkInfo(configuration, HtmlLinkInfo.Kind.SERIALIZED_FORM,\n+                utils.isExternalizable(typeElement)\n+                        ? utils.getExternalizableType()\n+                        : utils.getSerializableType()));\n+\n+        \/\/ Print the heading.\n+        Content className = new ContentBuilder();\n+        className.add(utils.getTypeElementKindName(typeElement, false));\n+        className.add(Entity.NO_BREAK_SPACE);\n+        className.add(classLink);\n@@ -171,0 +175,9 @@\n+        \/\/ Print a simplified signature.\n+        Content signature = new ContentBuilder();\n+        signature.add(\"class \");\n+        signature.add(typeElement.getSimpleName());\n+        signature.add(\" extends \");\n+        signature.add(superClassLink);\n+        signature.add(\" implements \");\n+        signature.add(interfaceLink);\n+        section.add(HtmlTree.DIV(HtmlStyle.typeSignature, signature));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/formats\/html\/SerializedFormWriterImpl.java","additions":24,"deletions":11,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import javax.lang.model.element.PackageElement;\n@@ -80,1 +81,1 @@\n-     * @param packageName the package header to write\n+     * @param packageElement the package element to write\n@@ -83,1 +84,1 @@\n-    Content getPackageHeader(String packageName);\n+    Content getPackageHeader(PackageElement packageElement);\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/SerializedFormWriter.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -196,2 +196,1 @@\n-        packageSerializedTree.add(writer.getPackageHeader(\n-                utils.getPackageName(currentPackage)));\n+        packageSerializedTree.add(writer.getPackageHeader(currentPackage));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/builders\/SerializedFormBuilder.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -35,2 +35,0 @@\n-doclet.Class_0_implements_serializable=Class {0} implements Serializable\n-doclet.Class_0_extends_implements_serializable=Class {0} extends {1} implements Serializable\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/doclets.properties","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-    font-size:13px;\n+    font-size:15px;\n@@ -60,1 +60,1 @@\n-    font-size:12px;\n+    font-size:14px;\n@@ -63,1 +63,1 @@\n-    font-size:11px;\n+    font-size:13px;\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/resources\/stylesheet.css","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -72,0 +72,1 @@\n+import static com.sun.source.doctree.DocTree.Kind.PARAM;\n@@ -597,0 +598,1 @@\n+        serializedFormTags.add(allTaglets.get(PARAM.tagName));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/taglets\/TagletManager.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-                    <h2 title=\"Package\">Package&nbsp;pkg1<\/h2>\"\"\",\n+                    <h2 title=\"Package\">Package&nbsp;<a href=\"pkg1\/package-summary.html\">pkg1<\/a><\/h2>\"\"\",\n@@ -97,1 +97,1 @@\n-                    <h3>Class <a href=\"pkg1\/C1.html\" title=\"class in pkg1\">pkg1.C1<\/a> extends java.lang.Object implements Serializable<\/h3>\"\"\",\n+                    <h3>Class&nbsp;<a href=\"pkg1\/C1.html\" title=\"class in pkg1\">pkg1.C1<\/a><\/h3>\"\"\",\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHeadings\/TestHeadings.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -224,1 +224,0 @@\n-                    &nbsp;\n@@ -238,0 +237,2 @@\n+                    <dt>Parameters:<\/dt>\n+                    <dd><code>s<\/code> - ObjectInputStream<\/dd>\n@@ -313,1 +314,0 @@\n-                    &nbsp;\n@@ -327,0 +327,2 @@\n+                    <dt>Parameters:<\/dt>\n+                    <dd><code>s<\/code> - ObjectInputStream<\/dd>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlDefinitionListTag\/TestHtmlDefinitionListTag.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -243,1 +243,1 @@\n-                    <h2 title=\"Package\">Package&nbsp;pkg<\/h2>\n+                    <h2 title=\"Package\">Package&nbsp;<a href=\"pkg\/package-summary.html\">pkg<\/a><\/h2>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testHtmlVersion\/TestHtmlVersion.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 4341304 4485668 4966728 8032066 8071982 8192933 8215307\n+ * @bug 4341304 4485668 4966728 8032066 8071982 8192933 8215307 8232644\n@@ -75,6 +75,13 @@\n-                \"<h3>Class pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass \"\n-                + \"extends java.lang.Object implements Serializable<\/h3>\",\n-                \"<h3>Class pkg1.PrivateIncludeInnerClass.PriInnerClass extends \"\n-                + \"java.lang.Object implements Serializable<\/h3>\",\n-                \"<h3>Class pkg1.ProtectedInnerClass.ProInnerClass extends \"\n-                + \"java.lang.Object implements Serializable<\/h3>\");\n+                \"\"\"\n+                    <h3>Class&nbsp;pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/h3>\n+                    <div class=\"type-signature\">class ProNestedInnerClass extends java.lang.Object i\\\n+                    mplements java.io.Serializable<\/div>\n+                    \"\"\",\n+                \"\"\"\n+                    <h3>Class&nbsp;pkg1.PrivateIncludeInnerClass.PriInnerClass<\/h3>\n+                    <div class=\"type-signature\">class PriInnerClass extends java.lang.Object impleme\\\n+                    nts java.io.Serializable<\/div>\"\"\",\n+                \"\"\"\n+                    <h3>Class&nbsp;pkg1.ProtectedInnerClass.ProInnerClass<\/h3>\n+                    <div class=\"type-signature\">class ProInnerClass extends java.lang.Object impleme\\\n+                    nts java.io.Serializable<\/div>\"\"\");\n@@ -84,3 +91,3 @@\n-                    <h3>Class <a href=\"pkg1\/NestedInnerClass.InnerClass.ProNestedInnerClass.html\" ti\\\n-                    tle=\"class in pkg1\">pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/a> ext\\\n-                    ends java.lang.Object implements Serializable<\/h3>\"\"\",\n+                    <h3>Class&nbsp;<a href=\"pkg1\/NestedInnerClass.InnerClass.ProNestedInnerClass.htm\\\n+                    l\" title=\"class in pkg1\">pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/a\\\n+                    ><\/h3>\"\"\",\n@@ -88,3 +95,2 @@\n-                    <h3>Class <a href=\"pkg1\/PrivateInnerClass.PriInnerClass.html\" title=\"class in pk\\\n-                    g1\">pkg1.PrivateInnerClass.PriInnerClass<\/a> extends java.lang.Object implements\\\n-                     Serializable<\/h3>\"\"\",\n+                    <h3>Class&nbsp;<a href=\"pkg1\/PrivateInnerClass.PriInnerClass.html\" title=\"class \\\n+                    in pkg1\">pkg1.PrivateInnerClass.PriInnerClass<\/a><\/h3>\"\"\",\n@@ -92,5 +98,3 @@\n-                    <h3>Class <a href=\"pkg1\/ProtectedInnerClass.ProInnerClass.html\" title=\"class in \\\n-                    pkg1\">pkg1.ProtectedInnerClass.ProInnerClass<\/a> extends java.lang.Object implem\\\n-                    ents Serializable<\/h3>\"\"\",\n-                \"<h3>Class pkg1.PublicExcludeInnerClass.PubInnerClass extends java.lang.Object implements \"\n-                + \"Serializable<\/h3>\");\n+                    <h3>Class&nbsp;<a href=\"pkg1\/ProtectedInnerClass.ProInnerClass.html\" title=\"class in \\\n+                    pkg1\">pkg1.ProtectedInnerClass.ProInnerClass<\/a><\/h3>\"\"\",\n+                \"<h3>Class&nbsp;pkg1.PublicExcludeInnerClass.PubInnerClass<\/h3>\");\n@@ -126,3 +130,5 @@\n-                    <h3>Class <a href=\"pkg1\/NestedInnerClass.InnerClass.ProNestedInnerClass.html\" ti\\\n-                    tle=\"class in pkg1\">pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/a> ext\\\n-                    ends java.lang.Object implements Serializable<\/h3>\"\"\",\n+                    <h3>Class&nbsp;<a href=\"pkg1\/NestedInnerClass.InnerClass.ProNestedInnerClass.htm\\\n+                    l\" title=\"class in pkg1\">pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/a\\\n+                    ><\/h3>\n+                    <div class=\"type-signature\">class ProNestedInnerClass extends java.lang.Object i\\\n+                    mplements java.io.Serializable<\/div>\"\"\",\n@@ -130,3 +136,4 @@\n-                    <h3>Class <a href=\"pkg1\/PrivateIncludeInnerClass.PriInnerClass.html\" title=\"clas\\\n-                    s in pkg1\">pkg1.PrivateIncludeInnerClass.PriInnerClass<\/a> extends java.lang.Obj\\\n-                    ect implements Serializable<\/h3>\"\"\",\n+                    <h3>Class&nbsp;<a href=\"pkg1\/PrivateIncludeInnerClass.PriInnerClass.html\" title=\\\n+                    \"class in pkg1\">pkg1.PrivateIncludeInnerClass.PriInnerClass<\/a><\/h3>\n+                    <div class=\"type-signature\">class PriInnerClass extends java.lang.Object impleme\\\n+                    nts java.io.Serializable<\/div>\"\"\",\n@@ -134,3 +141,4 @@\n-                    <h3>Class <a href=\"pkg1\/ProtectedInnerClass.ProInnerClass.html\" title=\"class in \\\n-                    pkg1\">pkg1.ProtectedInnerClass.ProInnerClass<\/a> extends java.lang.Object implem\\\n-                    ents Serializable<\/h3>\"\"\");\n+                    <h3>Class&nbsp;<a href=\"pkg1\/ProtectedInnerClass.ProInnerClass.html\" title=\"clas\\\n+                    s in pkg1\">pkg1.ProtectedInnerClass.ProInnerClass<\/a><\/h3>\n+                    <div class=\"type-signature\">class ProInnerClass extends java.lang.Object impleme\\\n+                    nts java.io.Serializable<\/div>\"\"\");\n@@ -139,10 +147,6 @@\n-                \"<h3>Class pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass \"\n-                + \"extends java.lang.Object implements Serializable<\/h3>\",\n-                \"<h3>Class pkg1.PrivateInnerClass.PriInnerClass extends \"\n-                + \"java.lang.Object implements Serializable<\/h3>\",\n-                \"<h3>Class pkg1.ProtectedInnerClass.ProInnerClass extends \"\n-                + \"java.lang.Object implements Serializable<\/h3>\",\n-                \"\"\"\n-                    <h3>Class <a href=\"pkg1\/PublicExcludeInnerClass.PubInnerClass.html\" title=\"class\\\n-                     in pkg1\">pkg1.PublicExcludeInnerClass.PubInnerClass<\/a> extends java.lang.Objec\\\n-                    t implements Serializable<\/h3>\"\"\");\n+                \"<h3>Class&nbsp;pkg1.NestedInnerClass.InnerClass.ProNestedInnerClass<\/h3>\",\n+                \"<h3>Class&nbsp;pkg1.PrivateInnerClass.PriInnerClass<\/h3>\",\n+                \"<h3>Class&nbsp;pkg1.ProtectedInnerClass.ProInnerClass<\/h3>\",\n+                \"\"\"\n+                    <h3>Class&nbsp;<a href=\"pkg1\/PublicExcludeInnerClass.PubInnerClass.html\" title=\"class\\\n+                     in pkg1\">pkg1.PublicExcludeInnerClass.PubInnerClass<\/a><\/h3>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSerializedForm\/TestSerializedForm.java","additions":41,"deletions":37,"binary":false,"changes":78,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2009, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2009, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6802694 8025633 8026567 8183511 8074407 8182765\n+ * @bug 6802694 8025633 8026567 8183511 8074407 8182765 8232644\n@@ -109,1 +109,0 @@\n-                    &nbsp;\n@@ -123,0 +122,2 @@\n+                    <dt>Parameters:<\/dt>\n+                    <dd><code>s<\/code> - ObjectInputStream<\/dd>\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSerializedFormDeprecationInfo\/TestSerializedFormDeprecationInfo.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -47,0 +47,1 @@\n+                \"--no-platform-links\",\n@@ -53,2 +54,3 @@\n-                    <a href=\"pkg\/SubClass.html\" title=\"class in pkg\">pkg.SubClass<\/a> extends <a hre\\\n-                    f=\"pkg\/SuperClass.html\" title=\"class in pkg\">SuperClass<\/a>\"\"\");\n+                    <h3>Class&nbsp;<a href=\"pkg\/SubClass.html\" title=\"class in pkg\">pkg.SubClass<\/a><\/h3>\n+                    <div class=\"type-signature\">class SubClass extends <a href=\"pkg\/SuperClass.html\" tit\\\n+                    le=\"class in pkg\">SuperClass<\/a> implements java.io.Serializable<\/div>\"\"\");\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testSuperclassInSerialForm\/TestSuperClassInSerialForm.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"}]}