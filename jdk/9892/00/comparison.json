{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+            assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetBooleanPlain(base, offset, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n+            boolean x = UNSAFE.getBoolean(base, offset);\n+            assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n+            boolean x = UNSAFE.getBoolean(base, offset);\n+            assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetBooleanAcquire(base, offset, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -235,1 +249,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n@@ -237,1 +251,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetBooleanRelease(base, offset, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n+            boolean x = UNSAFE.getBoolean(base, offset);\n+            assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -245,1 +266,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSet boolean\");\n+            boolean x = UNSAFE.getBoolean(base, offset);\n+            assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetBoolean(base, offset, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n@@ -247,1 +275,1 @@\n-            assertEquals(x, true, \"weakCompareAndSet boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestBoolean.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -244,1 +244,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n@@ -246,1 +246,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetBytePlain(base, offset, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n+            byte x = UNSAFE.getByte(base, offset);\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -254,1 +261,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n+            byte x = UNSAFE.getByte(base, offset);\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetByteAcquire(base, offset, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -256,1 +270,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -264,1 +278,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n@@ -266,1 +280,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetByteRelease(base, offset, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n+            byte x = UNSAFE.getByte(base, offset);\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -274,1 +295,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet byte\");\n+            assertEquals(success, true, \"success weakCompareAndSet byte\");\n+            byte x = UNSAFE.getByte(base, offset);\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetByte(base, offset, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSet byte\");\n@@ -276,1 +304,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestByte.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -262,1 +262,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n@@ -264,1 +264,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetCharPlain(base, offset, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n+            char x = UNSAFE.getChar(base, offset);\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -272,1 +279,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n+            char x = UNSAFE.getChar(base, offset);\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetCharAcquire(base, offset, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -274,1 +288,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -282,1 +296,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n@@ -284,1 +298,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetCharRelease(base, offset, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n+            char x = UNSAFE.getChar(base, offset);\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -292,1 +313,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet char\");\n+            assertEquals(success, true, \"success weakCompareAndSet char\");\n+            char x = UNSAFE.getChar(base, offset);\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetChar(base, offset, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSet char\");\n@@ -294,1 +322,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestChar.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -244,1 +244,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n@@ -246,1 +246,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetDoublePlain(base, offset, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n+            double x = UNSAFE.getDouble(base, offset);\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -254,1 +261,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+            double x = UNSAFE.getDouble(base, offset);\n+            assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetDoubleAcquire(base, offset, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -256,1 +270,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -264,1 +278,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n@@ -266,1 +280,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetDoubleRelease(base, offset, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n+            double x = UNSAFE.getDouble(base, offset);\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -274,1 +295,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet double\");\n+            assertEquals(success, true, \"success weakCompareAndSet double\");\n+            double x = UNSAFE.getDouble(base, offset);\n+            assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetDouble(base, offset, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -276,1 +304,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestDouble.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -244,1 +244,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n@@ -246,1 +246,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetFloatPlain(base, offset, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n+            float x = UNSAFE.getFloat(base, offset);\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -254,1 +261,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+            float x = UNSAFE.getFloat(base, offset);\n+            assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetFloatAcquire(base, offset, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -256,1 +270,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -264,1 +278,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n@@ -266,1 +280,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetFloatRelease(base, offset, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n+            float x = UNSAFE.getFloat(base, offset);\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -274,1 +295,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet float\");\n+            assertEquals(success, true, \"success weakCompareAndSet float\");\n+            float x = UNSAFE.getFloat(base, offset);\n+            assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetFloat(base, offset, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -276,1 +304,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestFloat.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -262,1 +262,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n@@ -264,1 +264,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetIntPlain(base, offset, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n+            int x = UNSAFE.getInt(base, offset);\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -272,1 +279,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+            int x = UNSAFE.getInt(base, offset);\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetIntAcquire(base, offset, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -274,1 +288,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -282,1 +296,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n@@ -284,1 +298,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetIntRelease(base, offset, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n+            int x = UNSAFE.getInt(base, offset);\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -292,1 +313,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet int\");\n+            assertEquals(success, true, \"success weakCompareAndSet int\");\n+            int x = UNSAFE.getInt(base, offset);\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetInt(base, offset, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -294,1 +322,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestInt.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -262,1 +262,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n@@ -264,1 +264,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetLongPlain(base, offset, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n+            long x = UNSAFE.getLong(base, offset);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -272,1 +279,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+            long x = UNSAFE.getLong(base, offset);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetLongAcquire(base, offset, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -274,1 +288,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -282,1 +296,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n@@ -284,1 +298,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetLongRelease(base, offset, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n+            long x = UNSAFE.getLong(base, offset);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -292,1 +313,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet long\");\n+            assertEquals(success, true, \"success weakCompareAndSet long\");\n+            long x = UNSAFE.getLong(base, offset);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetLong(base, offset, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -294,1 +322,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestLong.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain Object\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain Object\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetPlain Object value\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetPlain Object value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetReferencePlain(base, offset, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain Object\");\n+            Object x = UNSAFE.getReference(base, offset);\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain Object value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire Object\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire Object\");\n+            Object x = UNSAFE.getReference(base, offset);\n+            assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire Object\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetReferenceAcquire(base, offset, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire Object\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSetAcquire Object\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire Object value\");\n@@ -235,1 +249,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease Object\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease Object\");\n@@ -237,1 +251,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetRelease Object\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetRelease Object\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetReferenceRelease(base, offset, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease Object\");\n+            Object x = UNSAFE.getReference(base, offset);\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease Object value\");\n@@ -245,1 +266,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet Object\");\n+            assertEquals(success, true, \"success weakCompareAndSet Object\");\n+            Object x = UNSAFE.getReference(base, offset);\n+            assertEquals(x, \"foo\", \"success weakCompareAndSet Object\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetReference(base, offset, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSet Object\");\n@@ -247,1 +275,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSet Object\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSet Object value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestObject.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -262,1 +262,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n@@ -264,1 +264,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetShortPlain(base, offset, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n+            short x = UNSAFE.getShort(base, offset);\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -272,1 +279,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n+            short x = UNSAFE.getShort(base, offset);\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetShortAcquire(base, offset, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -274,1 +288,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -282,1 +296,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n@@ -284,1 +298,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetShortRelease(base, offset, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n+            short x = UNSAFE.getShort(base, offset);\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -292,1 +313,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet short\");\n+            assertEquals(success, true, \"success weakCompareAndSet short\");\n+            short x = UNSAFE.getShort(base, offset);\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSetShort(base, offset, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSet short\");\n@@ -294,1 +322,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/JdkInternalMiscUnsafeAccessTestShort.java","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestBoolean.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestByte.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestChar.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestDouble.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestFloat.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestInt.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestLong.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestObject.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/SunMiscUnsafeAccessTestShort.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -306,1 +306,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n@@ -308,1 +308,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSet$MethodAffix$Plain(base, offset, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n+            $type$ x = UNSAFE.get$MethodAffix$(base, offset);\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -316,1 +323,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+            $type$ x = UNSAFE.get$MethodAffix$(base, offset);\n+            assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSet$MethodAffix$Acquire(base, offset, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -318,1 +332,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -326,1 +340,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n@@ -328,1 +342,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSet$MethodAffix$Release(base, offset, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n+            $type$ x = UNSAFE.get$MethodAffix$(base, offset);\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -336,1 +357,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+            $type$ x = UNSAFE.get$MethodAffix$(base, offset);\n+            assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+        }\n+\n+        {\n+            boolean success = UNSAFE.weakCompareAndSet$MethodAffix$(base, offset, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -338,1 +366,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n","filename":"test\/hotspot\/jtreg\/compiler\/unsafe\/X-UnsafeAccessTest.java.template","additions":37,"deletions":9,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -509,1 +509,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n@@ -511,1 +511,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+            assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n+            boolean x = (boolean) vh.get(recv);\n+            assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -519,1 +526,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n+            boolean x = (boolean) vh.get(recv);\n+            assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -521,1 +535,1 @@\n-            assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -529,1 +543,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n+            boolean x = (boolean) vh.get(recv);\n+            assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n@@ -531,1 +552,1 @@\n-            assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -539,1 +560,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSet boolean\");\n@@ -541,1 +562,8 @@\n-            assertEquals(x, true, \"weakCompareAndSet boolean value\");\n+            assertEquals(x, true, \"success weakCompareAndSet boolean value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n+            boolean x = (boolean) vh.get(recv);\n+            assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n@@ -769,1 +797,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n+            boolean x = (boolean) vh.get();\n+            assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n@@ -771,1 +806,1 @@\n-            assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+            assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -779,1 +814,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n+            boolean x = (boolean) vh.get();\n+            assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -781,1 +823,1 @@\n-            assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -789,1 +831,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n@@ -791,1 +833,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n+            boolean x = (boolean) vh.get();\n+            assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -799,1 +848,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSet boolean\");\n+            boolean x = (boolean) vh.get();\n+            assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n@@ -801,1 +857,1 @@\n-            assertEquals(x, true, \"weakCompareAndSet boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n@@ -1032,1 +1088,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n+                boolean x = (boolean) vh.get(array, i);\n+                assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, true, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n@@ -1034,1 +1097,1 @@\n-                assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+                assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -1042,1 +1105,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n@@ -1044,1 +1107,8 @@\n-                assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+                assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, false, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n+                boolean x = (boolean) vh.get(array, i);\n+                assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -1052,1 +1122,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n+                boolean x = (boolean) vh.get(array, i);\n+                assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, true, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n@@ -1054,1 +1131,1 @@\n-                assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+                assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -1062,1 +1139,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSet boolean\");\n+                boolean x = (boolean) vh.get(array, i);\n+                assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, false, false);\n+                assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n@@ -1064,1 +1148,1 @@\n-                assertEquals(x, true, \"weakCompareAndSet boolean\");\n+                assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessBoolean.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n@@ -489,1 +489,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n+            byte x = (byte) vh.get(recv);\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -497,1 +504,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n+            byte x = (byte) vh.get(recv);\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -499,1 +513,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -507,1 +521,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n+            byte x = (byte) vh.get(recv);\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n@@ -509,1 +530,1 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -517,1 +538,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet byte\");\n+            assertEquals(success, true, \"success weakCompareAndSet byte\");\n@@ -519,1 +540,8 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSet byte value\");\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSet byte\");\n+            byte x = (byte) vh.get(recv);\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n@@ -763,1 +791,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n+            byte x = (byte) vh.get();\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain((byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n@@ -765,1 +800,1 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -773,1 +808,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n+            byte x = (byte) vh.get();\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire((byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -775,1 +817,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -783,1 +825,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n@@ -785,1 +827,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease((byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n+            byte x = (byte) vh.get();\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -793,1 +842,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet byte\");\n+            assertEquals(success, true, \"success weakCompareAndSet byte\");\n+            byte x = (byte) vh.get();\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet((byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSet byte\");\n@@ -795,1 +851,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n@@ -1042,1 +1098,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n+                byte x = (byte) vh.get(array, i);\n+                assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, (byte)0x01, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n@@ -1044,1 +1107,1 @@\n-                assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+                assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -1052,1 +1115,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n@@ -1054,1 +1117,8 @@\n-                assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+                assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, (byte)0x23, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n+                byte x = (byte) vh.get(array, i);\n+                assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -1062,1 +1132,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n+                byte x = (byte) vh.get(array, i);\n+                assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, (byte)0x01, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n@@ -1064,1 +1141,1 @@\n-                assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+                assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -1072,1 +1149,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet byte\");\n+                assertEquals(success, true, \"success weakCompareAndSet byte\");\n+                byte x = (byte) vh.get(array, i);\n+                assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, (byte)0x23, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSet byte\");\n@@ -1074,1 +1158,1 @@\n-                assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+                assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessByte.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n@@ -489,1 +489,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n+            char x = (char) vh.get(recv);\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -497,1 +504,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n+            char x = (char) vh.get(recv);\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -499,1 +513,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -507,1 +521,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n+            char x = (char) vh.get(recv);\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n@@ -509,1 +530,1 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -517,1 +538,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet char\");\n+            assertEquals(success, true, \"success weakCompareAndSet char\");\n@@ -519,1 +540,8 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSet char value\");\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSet char value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSet char\");\n+            char x = (char) vh.get(recv);\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n@@ -763,1 +791,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n+            char x = (char) vh.get();\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain('\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n@@ -765,1 +800,1 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -773,1 +808,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n+            char x = (char) vh.get();\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire('\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -775,1 +817,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -783,1 +825,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n@@ -785,1 +827,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease('\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n+            char x = (char) vh.get();\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -793,1 +842,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet char\");\n+            assertEquals(success, true, \"success weakCompareAndSet char\");\n+            char x = (char) vh.get();\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet('\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSet char\");\n@@ -795,1 +851,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n@@ -1042,1 +1098,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n+                char x = (char) vh.get(array, i);\n+                assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, '\\u0123', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n@@ -1044,1 +1107,1 @@\n-                assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+                assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -1052,1 +1115,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n@@ -1054,1 +1117,8 @@\n-                assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+                assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, '\\u4567', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n+                char x = (char) vh.get(array, i);\n+                assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -1062,1 +1132,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n+                char x = (char) vh.get(array, i);\n+                assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, '\\u0123', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n@@ -1064,1 +1141,1 @@\n-                assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+                assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -1072,1 +1149,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet char\");\n+                assertEquals(success, true, \"success weakCompareAndSet char\");\n+                char x = (char) vh.get(array, i);\n+                assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, '\\u4567', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSet char\");\n@@ -1074,1 +1158,1 @@\n-                assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+                assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessChar.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -557,1 +557,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n@@ -559,1 +559,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n+            double x = (double) vh.get(recv);\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -567,1 +574,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+            double x = (double) vh.get(recv);\n+            assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -569,1 +583,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -577,1 +591,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n+            double x = (double) vh.get(recv);\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n@@ -579,1 +600,1 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -587,1 +608,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet double\");\n+            assertEquals(success, true, \"success weakCompareAndSet double\");\n@@ -589,1 +610,8 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSet double value\");\n+            assertEquals(x, 1.0d, \"success weakCompareAndSet double value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSet double\");\n+            double x = (double) vh.get(recv);\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n@@ -785,1 +813,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n+            double x = (double) vh.get();\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n@@ -787,1 +822,1 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -795,1 +830,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+            double x = (double) vh.get();\n+            assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -797,1 +839,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -805,1 +847,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n@@ -807,1 +849,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n+            double x = (double) vh.get();\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -815,1 +864,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet double\");\n+            assertEquals(success, true, \"success weakCompareAndSet double\");\n+            double x = (double) vh.get();\n+            assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -817,1 +873,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n@@ -1016,1 +1072,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n+                double x = (double) vh.get(array, i);\n+                assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, 1.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n@@ -1018,1 +1081,1 @@\n-                assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+                assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -1026,1 +1089,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n@@ -1028,1 +1091,8 @@\n-                assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+                assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, 2.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n+                double x = (double) vh.get(array, i);\n+                assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -1036,1 +1106,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n+                double x = (double) vh.get(array, i);\n+                assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, 1.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n@@ -1038,1 +1115,1 @@\n-                assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+                assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -1046,1 +1123,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet double\");\n+                assertEquals(success, true, \"success weakCompareAndSet double\");\n+                double x = (double) vh.get(array, i);\n+                assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, 2.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -1048,1 +1132,1 @@\n-                assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+                assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessDouble.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -557,1 +557,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n@@ -559,1 +559,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n+            float x = (float) vh.get(recv);\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -567,1 +574,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+            float x = (float) vh.get(recv);\n+            assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -569,1 +583,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -577,1 +591,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n+            float x = (float) vh.get(recv);\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n@@ -579,1 +600,1 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -587,1 +608,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet float\");\n+            assertEquals(success, true, \"success weakCompareAndSet float\");\n@@ -589,1 +610,8 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSet float value\");\n+            assertEquals(x, 1.0f, \"success weakCompareAndSet float value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSet float\");\n+            float x = (float) vh.get(recv);\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n@@ -785,1 +813,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n+            float x = (float) vh.get();\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n@@ -787,1 +822,1 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -795,1 +830,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+            float x = (float) vh.get();\n+            assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -797,1 +839,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -805,1 +847,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n@@ -807,1 +849,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n+            float x = (float) vh.get();\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -815,1 +864,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet float\");\n+            assertEquals(success, true, \"success weakCompareAndSet float\");\n+            float x = (float) vh.get();\n+            assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -817,1 +873,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n@@ -1016,1 +1072,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n+                float x = (float) vh.get(array, i);\n+                assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, 1.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n@@ -1018,1 +1081,1 @@\n-                assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+                assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -1026,1 +1089,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n@@ -1028,1 +1091,8 @@\n-                assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+                assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, 2.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n+                float x = (float) vh.get(array, i);\n+                assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -1036,1 +1106,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n+                float x = (float) vh.get(array, i);\n+                assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, 1.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n@@ -1038,1 +1115,1 @@\n-                assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+                assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -1046,1 +1123,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet float\");\n+                assertEquals(success, true, \"success weakCompareAndSet float\");\n+                float x = (float) vh.get(array, i);\n+                assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, 2.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -1048,1 +1132,1 @@\n-                assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+                assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessFloat.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n@@ -489,1 +489,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n+            int x = (int) vh.get(recv);\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -497,1 +504,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+            int x = (int) vh.get(recv);\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -499,1 +513,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -507,1 +521,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n+            int x = (int) vh.get(recv);\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n@@ -509,1 +530,1 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -517,1 +538,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet int\");\n+            assertEquals(success, true, \"success weakCompareAndSet int\");\n@@ -519,1 +540,8 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSet int value\");\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSet int value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSet int\");\n+            int x = (int) vh.get(recv);\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n@@ -763,1 +791,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n+            int x = (int) vh.get();\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n@@ -765,1 +800,1 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -773,1 +808,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+            int x = (int) vh.get();\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -775,1 +817,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -783,1 +825,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n@@ -785,1 +827,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n+            int x = (int) vh.get();\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -793,1 +842,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet int\");\n+            assertEquals(success, true, \"success weakCompareAndSet int\");\n+            int x = (int) vh.get();\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -795,1 +851,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n@@ -1042,1 +1098,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n+                int x = (int) vh.get(array, i);\n+                assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, 0x01234567, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n@@ -1044,1 +1107,1 @@\n-                assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+                assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -1052,1 +1115,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n@@ -1054,1 +1117,8 @@\n-                assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+                assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, 0x89ABCDEF, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n+                int x = (int) vh.get(array, i);\n+                assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -1062,1 +1132,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n+                int x = (int) vh.get(array, i);\n+                assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, 0x01234567, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n@@ -1064,1 +1141,1 @@\n-                assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+                assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -1072,1 +1149,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet int\");\n+                assertEquals(success, true, \"success weakCompareAndSet int\");\n+                int x = (int) vh.get(array, i);\n+                assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, 0x89ABCDEF, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -1074,1 +1158,1 @@\n-                assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+                assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessInt.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n@@ -489,1 +489,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n+            long x = (long) vh.get(recv);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -497,1 +504,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+            long x = (long) vh.get(recv);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -499,1 +513,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -507,1 +521,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n+            long x = (long) vh.get(recv);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n@@ -509,1 +530,1 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -517,1 +538,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet long\");\n+            assertEquals(success, true, \"success weakCompareAndSet long\");\n@@ -519,1 +540,8 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long value\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSet long\");\n+            long x = (long) vh.get(recv);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n@@ -763,1 +791,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n+            long x = (long) vh.get();\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n@@ -765,1 +800,1 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -773,1 +808,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+            long x = (long) vh.get();\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -775,1 +817,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -783,1 +825,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n@@ -785,1 +827,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n+            long x = (long) vh.get();\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -793,1 +842,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet long\");\n+            assertEquals(success, true, \"success weakCompareAndSet long\");\n+            long x = (long) vh.get();\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -795,1 +851,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n@@ -1042,1 +1098,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n+                long x = (long) vh.get(array, i);\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n@@ -1044,1 +1107,1 @@\n-                assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -1052,1 +1115,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n@@ -1054,1 +1117,8 @@\n-                assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+                assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n+                long x = (long) vh.get(array, i);\n+                assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -1062,1 +1132,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n+                long x = (long) vh.get(array, i);\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n@@ -1064,1 +1141,1 @@\n-                assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -1072,1 +1149,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet long\");\n+                assertEquals(success, true, \"success weakCompareAndSet long\");\n+                long x = (long) vh.get(array, i);\n+                assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -1074,1 +1158,1 @@\n-                assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+                assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessLong.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -487,1 +487,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n@@ -489,1 +489,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n+            short x = (short) vh.get(recv);\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -497,1 +504,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n+            short x = (short) vh.get(recv);\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -499,1 +513,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -507,1 +521,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n+            short x = (short) vh.get(recv);\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n@@ -509,1 +530,1 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -517,1 +538,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet short\");\n+            assertEquals(success, true, \"success weakCompareAndSet short\");\n@@ -519,1 +540,8 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSet short value\");\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSet short value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSet short\");\n+            short x = (short) vh.get(recv);\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n@@ -763,1 +791,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n+            short x = (short) vh.get();\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain((short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n@@ -765,1 +800,1 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -773,1 +808,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n+            short x = (short) vh.get();\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire((short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -775,1 +817,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -783,1 +825,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n@@ -785,1 +827,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease((short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n+            short x = (short) vh.get();\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -793,1 +842,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet short\");\n+            assertEquals(success, true, \"success weakCompareAndSet short\");\n+            short x = (short) vh.get();\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet((short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSet short\");\n@@ -795,1 +851,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n@@ -1042,1 +1098,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n+                short x = (short) vh.get(array, i);\n+                assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, (short)0x0123, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n@@ -1044,1 +1107,1 @@\n-                assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+                assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -1052,1 +1115,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n@@ -1054,1 +1117,8 @@\n-                assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+                assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, (short)0x4567, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n+                short x = (short) vh.get(array, i);\n+                assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -1062,1 +1132,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n+                short x = (short) vh.get(array, i);\n+                assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, (short)0x0123, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n@@ -1064,1 +1141,1 @@\n-                assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+                assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -1072,1 +1149,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet short\");\n+                assertEquals(success, true, \"success weakCompareAndSet short\");\n+                short x = (short) vh.get(array, i);\n+                assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, (short)0x4567, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSet short\");\n@@ -1074,1 +1158,1 @@\n-                assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+                assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessShort.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -586,1 +586,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n@@ -588,1 +588,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n+            String x = (String) vh.get(recv);\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -596,1 +603,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n+            String x = (String) vh.get(recv);\n+            assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n@@ -598,1 +612,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -606,1 +620,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n+            String x = (String) vh.get(recv);\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease String\");\n@@ -608,1 +629,1 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease String value\");\n@@ -616,1 +637,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet String\");\n+            assertEquals(success, true, \"success weakCompareAndSet String\");\n@@ -618,1 +639,8 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSet String value\");\n+            assertEquals(x, \"foo\", \"success weakCompareAndSet String value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSet String\");\n+            String x = (String) vh.get(recv);\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSet String value\");\n@@ -798,1 +826,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n+            String x = (String) vh.get();\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(\"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n@@ -800,1 +835,1 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -808,1 +843,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n+            String x = (String) vh.get();\n+            assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(\"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n@@ -810,1 +852,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -818,1 +860,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n@@ -820,1 +862,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(\"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease String\");\n+            String x = (String) vh.get();\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease String value\");\n@@ -828,1 +877,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet String\");\n+            assertEquals(success, true, \"success weakCompareAndSet String\");\n+            String x = (String) vh.get();\n+            assertEquals(x, \"foo\", \"success weakCompareAndSet String\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(\"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSet String\");\n@@ -830,1 +886,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSet String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSet String value\");\n@@ -1013,1 +1069,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n+                String x = (String) vh.get(array, i);\n+                assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, \"foo\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n@@ -1015,1 +1078,1 @@\n-                assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+                assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -1023,1 +1086,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n@@ -1025,1 +1088,8 @@\n-                assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+                assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, \"bar\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n+                String x = (String) vh.get(array, i);\n+                assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -1033,1 +1103,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n+                String x = (String) vh.get(array, i);\n+                assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, \"foo\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease String\");\n@@ -1035,1 +1112,1 @@\n-                assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+                assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease String value\");\n@@ -1043,1 +1120,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet String\");\n+                assertEquals(success, true, \"success weakCompareAndSet String\");\n+                String x = (String) vh.get(array, i);\n+                assertEquals(x, \"foo\", \"success weakCompareAndSet String\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, \"bar\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSet String\");\n@@ -1045,1 +1129,1 @@\n-                assertEquals(x, \"foo\", \"weakCompareAndSet String\");\n+                assertEquals(x, \"foo\", \"failing weakCompareAndSet String value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestAccessString.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsChar.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -1085,1 +1085,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n@@ -1087,1 +1087,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain double value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain double value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain double value\");\n@@ -1095,1 +1102,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -1097,1 +1111,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire double\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire double value\");\n@@ -1105,1 +1119,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n@@ -1107,1 +1121,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease double\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease double value\");\n@@ -1115,1 +1136,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet double\");\n+                    assertEquals(success, true, \"success weakCompareAndSet double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -1117,1 +1145,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet double\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet double value\");\n@@ -1258,1 +1286,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n@@ -1260,1 +1288,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain double value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain double value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain double value\");\n@@ -1268,1 +1303,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -1270,1 +1312,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire double\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire double value\");\n@@ -1278,1 +1320,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n@@ -1280,1 +1322,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease double\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease double value\");\n@@ -1288,1 +1337,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet double\");\n+                    assertEquals(success, true, \"success weakCompareAndSet double\");\n+                    double x = (double) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet double\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -1290,1 +1346,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet double\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet double value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsDouble.java","additions":73,"deletions":17,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -1085,1 +1085,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n@@ -1087,1 +1087,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain float value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain float value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain float value\");\n@@ -1095,1 +1102,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -1097,1 +1111,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire float\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire float value\");\n@@ -1105,1 +1119,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n@@ -1107,1 +1121,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease float\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease float value\");\n@@ -1115,1 +1136,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet float\");\n+                    assertEquals(success, true, \"success weakCompareAndSet float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -1117,1 +1145,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet float\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet float value\");\n@@ -1258,1 +1286,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n@@ -1260,1 +1288,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain float value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain float value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain float value\");\n@@ -1268,1 +1303,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -1270,1 +1312,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire float\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire float value\");\n@@ -1278,1 +1320,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n@@ -1280,1 +1322,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease float\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease float value\");\n@@ -1288,1 +1337,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet float\");\n+                    assertEquals(success, true, \"success weakCompareAndSet float\");\n+                    float x = (float) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet float\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -1290,1 +1346,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet float\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet float value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsFloat.java","additions":73,"deletions":17,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -1269,1 +1269,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n@@ -1271,1 +1271,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain int value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain int value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain int value\");\n@@ -1279,1 +1286,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -1281,1 +1295,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire int\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire int value\");\n@@ -1289,1 +1303,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n@@ -1291,1 +1305,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease int\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease int value\");\n@@ -1299,1 +1320,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet int\");\n+                    assertEquals(success, true, \"success weakCompareAndSet int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -1301,1 +1329,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet int\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet int value\");\n@@ -1552,1 +1580,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n@@ -1554,1 +1582,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain int value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain int value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain int value\");\n@@ -1562,1 +1597,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -1564,1 +1606,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire int\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire int value\");\n@@ -1572,1 +1614,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n@@ -1574,1 +1616,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease int\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease int value\");\n@@ -1582,1 +1631,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet int\");\n+                    assertEquals(success, true, \"success weakCompareAndSet int\");\n+                    int x = (int) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet int\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -1584,1 +1640,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet int\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet int value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsInt.java","additions":73,"deletions":17,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -1269,1 +1269,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n@@ -1271,1 +1271,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain long value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain long value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain long value\");\n@@ -1279,1 +1286,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -1281,1 +1295,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire long\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire long value\");\n@@ -1289,1 +1303,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n@@ -1291,1 +1305,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease long\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease long value\");\n@@ -1299,1 +1320,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet long\");\n+                    assertEquals(success, true, \"success weakCompareAndSet long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -1301,1 +1329,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet long\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet long value\");\n@@ -1552,1 +1580,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n@@ -1554,1 +1582,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain long value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain long value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain long value\");\n@@ -1562,1 +1597,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -1564,1 +1606,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire long\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire long value\");\n@@ -1572,1 +1614,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n@@ -1574,1 +1616,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease long\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease long value\");\n@@ -1582,1 +1631,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet long\");\n+                    assertEquals(success, true, \"success weakCompareAndSet long\");\n+                    long x = (long) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet long\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -1584,1 +1640,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet long\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet long value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsLong.java","additions":73,"deletions":17,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestByteArrayAsShort.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+            assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSet boolean\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, true, \"weakCompareAndSet boolean\");\n+            assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n@@ -449,1 +477,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n@@ -451,1 +486,1 @@\n-            assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+            assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -459,1 +494,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -461,1 +503,1 @@\n-            assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -469,1 +511,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n@@ -471,1 +513,8 @@\n-            assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+            assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(true, false);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, false, \"failing weakCompareAndSetRelease boolean value\");\n@@ -479,1 +528,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet boolean\");\n+            assertEquals(success, true, \"success weakCompareAndSet boolean\");\n+            boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(false, false);\n+            assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n@@ -481,1 +537,1 @@\n-            assertEquals(x, true, \"weakCompareAndSet boolean\");\n+            assertEquals(x, true, \"failing weakCompareAndSetRe boolean value\");\n@@ -708,1 +764,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain boolean\");\n+                boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, false, \"success weakCompareAndSetPlain boolean value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, true, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain boolean\");\n@@ -710,1 +773,1 @@\n-                assertEquals(x, false, \"weakCompareAndSetPlain boolean value\");\n+                assertEquals(x, false, \"failing weakCompareAndSetPlain boolean value\");\n@@ -718,1 +781,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire boolean\");\n@@ -720,1 +783,8 @@\n-                assertEquals(x, true, \"weakCompareAndSetAcquire boolean\");\n+                assertEquals(x, true, \"success weakCompareAndSetAcquire boolean\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, false, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n+                boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, true, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -728,1 +798,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease boolean\");\n+                boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, false, \"success weakCompareAndSetRelease boolean\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, true, false);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire boolean\");\n@@ -730,1 +807,1 @@\n-                assertEquals(x, false, \"weakCompareAndSetRelease boolean\");\n+                assertEquals(x, false, \"failing weakCompareAndSetAcquire boolean value\");\n@@ -738,1 +815,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet boolean\");\n+                assertEquals(success, true, \"success weakCompareAndSet boolean\");\n+                boolean x = (boolean) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, true, \"success weakCompareAndSet boolean\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, false, false);\n+                assertEquals(success, false, \"failing weakCompareAndSet boolean\");\n@@ -740,1 +824,1 @@\n-                assertEquals(x, true, \"weakCompareAndSet boolean\");\n+                assertEquals(x, true, \"failing weakCompareAndSet boolean value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessBoolean.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, (byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet byte\");\n+            assertEquals(success, true, \"success weakCompareAndSet byte\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, (byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSet byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n@@ -471,1 +499,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact((byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n@@ -473,1 +508,1 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -481,1 +516,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact((byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -483,1 +525,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -491,1 +533,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n@@ -493,1 +535,8 @@\n-            assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+            assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact((byte)0x01, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (byte)0x23, \"failing weakCompareAndSetRelease byte value\");\n@@ -501,1 +550,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet byte\");\n+            assertEquals(success, true, \"success weakCompareAndSet byte\");\n+            byte x = (byte) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact((byte)0x23, (byte)0x45);\n+            assertEquals(success, false, \"failing weakCompareAndSet byte\");\n@@ -503,1 +559,1 @@\n-            assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+            assertEquals(x, (byte)0x01, \"failing weakCompareAndSetRe byte value\");\n@@ -752,1 +808,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain byte\");\n+                byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (byte)0x23, \"success weakCompareAndSetPlain byte value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, (byte)0x01, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain byte\");\n@@ -754,1 +817,1 @@\n-                assertEquals(x, (byte)0x23, \"weakCompareAndSetPlain byte value\");\n+                assertEquals(x, (byte)0x23, \"failing weakCompareAndSetPlain byte value\");\n@@ -762,1 +825,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire byte\");\n@@ -764,1 +827,8 @@\n-                assertEquals(x, (byte)0x01, \"weakCompareAndSetAcquire byte\");\n+                assertEquals(x, (byte)0x01, \"success weakCompareAndSetAcquire byte\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, (byte)0x23, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n+                byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (byte)0x01, \"failing weakCompareAndSetAcquire byte value\");\n@@ -772,1 +842,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease byte\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease byte\");\n+                byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (byte)0x23, \"success weakCompareAndSetRelease byte\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, (byte)0x01, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire byte\");\n@@ -774,1 +851,1 @@\n-                assertEquals(x, (byte)0x23, \"weakCompareAndSetRelease byte\");\n+                assertEquals(x, (byte)0x23, \"failing weakCompareAndSetAcquire byte value\");\n@@ -782,1 +859,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet byte\");\n+                assertEquals(success, true, \"success weakCompareAndSet byte\");\n+                byte x = (byte) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (byte)0x01, \"success weakCompareAndSet byte\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, (byte)0x23, (byte)0x45);\n+                assertEquals(success, false, \"failing weakCompareAndSet byte\");\n@@ -784,1 +868,1 @@\n-                assertEquals(x, (byte)0x01, \"weakCompareAndSet byte\");\n+                assertEquals(x, (byte)0x01, \"failing weakCompareAndSet byte value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessByte.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, '\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet char\");\n+            assertEquals(success, true, \"success weakCompareAndSet char\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, '\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSet char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n@@ -471,1 +499,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact('\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n@@ -473,1 +508,1 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -481,1 +516,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact('\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -483,1 +525,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -491,1 +533,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n@@ -493,1 +535,8 @@\n-            assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+            assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact('\\u0123', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, '\\u4567', \"failing weakCompareAndSetRelease char value\");\n@@ -501,1 +550,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet char\");\n+            assertEquals(success, true, \"success weakCompareAndSet char\");\n+            char x = (char) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact('\\u4567', '\\u89AB');\n+            assertEquals(success, false, \"failing weakCompareAndSet char\");\n@@ -503,1 +559,1 @@\n-            assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+            assertEquals(x, '\\u0123', \"failing weakCompareAndSetRe char value\");\n@@ -752,1 +808,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain char\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain char\");\n+                char x = (char) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, '\\u4567', \"success weakCompareAndSetPlain char value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, '\\u0123', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain char\");\n@@ -754,1 +817,1 @@\n-                assertEquals(x, '\\u4567', \"weakCompareAndSetPlain char value\");\n+                assertEquals(x, '\\u4567', \"failing weakCompareAndSetPlain char value\");\n@@ -762,1 +825,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire char\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire char\");\n@@ -764,1 +827,8 @@\n-                assertEquals(x, '\\u0123', \"weakCompareAndSetAcquire char\");\n+                assertEquals(x, '\\u0123', \"success weakCompareAndSetAcquire char\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, '\\u4567', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n+                char x = (char) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, '\\u0123', \"failing weakCompareAndSetAcquire char value\");\n@@ -772,1 +842,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease char\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease char\");\n+                char x = (char) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, '\\u4567', \"success weakCompareAndSetRelease char\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, '\\u0123', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire char\");\n@@ -774,1 +851,1 @@\n-                assertEquals(x, '\\u4567', \"weakCompareAndSetRelease char\");\n+                assertEquals(x, '\\u4567', \"failing weakCompareAndSetAcquire char value\");\n@@ -782,1 +859,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet char\");\n+                assertEquals(success, true, \"success weakCompareAndSet char\");\n+                char x = (char) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, '\\u0123', \"success weakCompareAndSet char\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, '\\u4567', '\\u89AB');\n+                assertEquals(success, false, \"failing weakCompareAndSet char\");\n@@ -784,1 +868,1 @@\n-                assertEquals(x, '\\u0123', \"weakCompareAndSet char\");\n+                assertEquals(x, '\\u0123', \"failing weakCompareAndSet char value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessChar.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, 1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet double\");\n+            assertEquals(success, true, \"success weakCompareAndSet double\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+            assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, 2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSet double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n@@ -393,1 +421,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n@@ -395,1 +430,1 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -403,1 +438,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -405,1 +447,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -413,1 +455,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n@@ -415,1 +457,8 @@\n-            assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+            assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(1.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 2.0d, \"failing weakCompareAndSetRelease double value\");\n@@ -423,1 +472,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet double\");\n+            assertEquals(success, true, \"success weakCompareAndSet double\");\n+            double x = (double) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(2.0d, 3.0d);\n+            assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -425,1 +481,1 @@\n-            assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+            assertEquals(x, 1.0d, \"failing weakCompareAndSetRe double value\");\n@@ -596,1 +652,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain double\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain double\");\n+                double x = (double) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 2.0d, \"success weakCompareAndSetPlain double value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, 1.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain double\");\n@@ -598,1 +661,1 @@\n-                assertEquals(x, 2.0d, \"weakCompareAndSetPlain double value\");\n+                assertEquals(x, 2.0d, \"failing weakCompareAndSetPlain double value\");\n@@ -606,1 +669,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire double\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire double\");\n@@ -608,1 +671,8 @@\n-                assertEquals(x, 1.0d, \"weakCompareAndSetAcquire double\");\n+                assertEquals(x, 1.0d, \"success weakCompareAndSetAcquire double\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 2.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n+                double x = (double) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 1.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -616,1 +686,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease double\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease double\");\n+                double x = (double) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 2.0d, \"success weakCompareAndSetRelease double\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 1.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire double\");\n@@ -618,1 +695,1 @@\n-                assertEquals(x, 2.0d, \"weakCompareAndSetRelease double\");\n+                assertEquals(x, 2.0d, \"failing weakCompareAndSetAcquire double value\");\n@@ -626,1 +703,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet double\");\n+                assertEquals(success, true, \"success weakCompareAndSet double\");\n+                double x = (double) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 1.0d, \"success weakCompareAndSet double\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, 2.0d, 3.0d);\n+                assertEquals(success, false, \"failing weakCompareAndSet double\");\n@@ -628,1 +712,1 @@\n-                assertEquals(x, 1.0d, \"weakCompareAndSet double\");\n+                assertEquals(x, 1.0d, \"failing weakCompareAndSet double value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessDouble.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, 1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet float\");\n+            assertEquals(success, true, \"success weakCompareAndSet float\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+            assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, 2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSet float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n@@ -393,1 +421,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n@@ -395,1 +430,1 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -403,1 +438,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -405,1 +447,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -413,1 +455,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n@@ -415,1 +457,8 @@\n-            assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+            assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(1.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 2.0f, \"failing weakCompareAndSetRelease float value\");\n@@ -423,1 +472,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet float\");\n+            assertEquals(success, true, \"success weakCompareAndSet float\");\n+            float x = (float) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(2.0f, 3.0f);\n+            assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -425,1 +481,1 @@\n-            assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+            assertEquals(x, 1.0f, \"failing weakCompareAndSetRe float value\");\n@@ -596,1 +652,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain float\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain float\");\n+                float x = (float) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 2.0f, \"success weakCompareAndSetPlain float value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, 1.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain float\");\n@@ -598,1 +661,1 @@\n-                assertEquals(x, 2.0f, \"weakCompareAndSetPlain float value\");\n+                assertEquals(x, 2.0f, \"failing weakCompareAndSetPlain float value\");\n@@ -606,1 +669,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire float\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire float\");\n@@ -608,1 +671,8 @@\n-                assertEquals(x, 1.0f, \"weakCompareAndSetAcquire float\");\n+                assertEquals(x, 1.0f, \"success weakCompareAndSetAcquire float\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 2.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n+                float x = (float) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 1.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -616,1 +686,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease float\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease float\");\n+                float x = (float) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 2.0f, \"success weakCompareAndSetRelease float\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 1.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire float\");\n@@ -618,1 +695,1 @@\n-                assertEquals(x, 2.0f, \"weakCompareAndSetRelease float\");\n+                assertEquals(x, 2.0f, \"failing weakCompareAndSetAcquire float value\");\n@@ -626,1 +703,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet float\");\n+                assertEquals(success, true, \"success weakCompareAndSet float\");\n+                float x = (float) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 1.0f, \"success weakCompareAndSet float\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, 2.0f, 3.0f);\n+                assertEquals(success, false, \"failing weakCompareAndSet float\");\n@@ -628,1 +712,1 @@\n-                assertEquals(x, 1.0f, \"weakCompareAndSet float\");\n+                assertEquals(x, 1.0f, \"failing weakCompareAndSet float value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessFloat.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, 0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet int\");\n+            assertEquals(success, true, \"success weakCompareAndSet int\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, 0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSet int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n@@ -471,1 +499,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n@@ -473,1 +508,1 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -481,1 +516,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -483,1 +525,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -491,1 +533,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n@@ -493,1 +535,8 @@\n-            assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+            assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(0x01234567, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetRelease int value\");\n@@ -501,1 +550,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet int\");\n+            assertEquals(success, true, \"success weakCompareAndSet int\");\n+            int x = (int) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(0x89ABCDEF, 0xCAFEBABE);\n+            assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -503,1 +559,1 @@\n-            assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+            assertEquals(x, 0x01234567, \"failing weakCompareAndSetRe int value\");\n@@ -752,1 +808,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain int\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain int\");\n+                int x = (int) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetPlain int value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, 0x01234567, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain int\");\n@@ -754,1 +817,1 @@\n-                assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetPlain int value\");\n+                assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetPlain int value\");\n@@ -762,1 +825,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire int\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire int\");\n@@ -764,1 +827,8 @@\n-                assertEquals(x, 0x01234567, \"weakCompareAndSetAcquire int\");\n+                assertEquals(x, 0x01234567, \"success weakCompareAndSetAcquire int\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 0x89ABCDEF, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n+                int x = (int) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x01234567, \"failing weakCompareAndSetAcquire int value\");\n@@ -772,1 +842,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease int\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease int\");\n+                int x = (int) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x89ABCDEF, \"success weakCompareAndSetRelease int\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 0x01234567, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire int\");\n@@ -774,1 +851,1 @@\n-                assertEquals(x, 0x89ABCDEF, \"weakCompareAndSetRelease int\");\n+                assertEquals(x, 0x89ABCDEF, \"failing weakCompareAndSetAcquire int value\");\n@@ -782,1 +859,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet int\");\n+                assertEquals(success, true, \"success weakCompareAndSet int\");\n+                int x = (int) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x01234567, \"success weakCompareAndSet int\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, 0x89ABCDEF, 0xCAFEBABE);\n+                assertEquals(success, false, \"failing weakCompareAndSet int\");\n@@ -784,1 +868,1 @@\n-                assertEquals(x, 0x01234567, \"weakCompareAndSet int\");\n+                assertEquals(x, 0x01234567, \"failing weakCompareAndSet int value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessInt.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet long\");\n+            assertEquals(success, true, \"success weakCompareAndSet long\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSet long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n@@ -471,1 +499,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n@@ -473,1 +508,1 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -481,1 +516,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -483,1 +525,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -491,1 +533,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n@@ -493,1 +535,8 @@\n-            assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetRelease long value\");\n@@ -501,1 +550,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet long\");\n+            assertEquals(success, true, \"success weakCompareAndSet long\");\n+            long x = (long) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+            assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -503,1 +559,1 @@\n-            assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+            assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetRe long value\");\n@@ -752,1 +808,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain long\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain long\");\n+                long x = (long) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetPlain long value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain long\");\n@@ -754,1 +817,1 @@\n-                assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetPlain long value\");\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetPlain long value\");\n@@ -762,1 +825,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire long\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire long\");\n@@ -764,1 +827,8 @@\n-                assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSetAcquire long\");\n+                assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSetAcquire long\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n+                long x = (long) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSetAcquire long value\");\n@@ -772,1 +842,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease long\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease long\");\n+                long x = (long) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"success weakCompareAndSetRelease long\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, 0x0123456789ABCDEFL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire long\");\n@@ -774,1 +851,1 @@\n-                assertEquals(x, 0xCAFEBABECAFEBABEL, \"weakCompareAndSetRelease long\");\n+                assertEquals(x, 0xCAFEBABECAFEBABEL, \"failing weakCompareAndSetAcquire long value\");\n@@ -782,1 +859,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet long\");\n+                assertEquals(success, true, \"success weakCompareAndSet long\");\n+                long x = (long) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, 0x0123456789ABCDEFL, \"success weakCompareAndSet long\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, 0xCAFEBABECAFEBABEL, 0xDEADBEEFDEADBEEFL);\n+                assertEquals(success, false, \"failing weakCompareAndSet long\");\n@@ -784,1 +868,1 @@\n-                assertEquals(x, 0x0123456789ABCDEFL, \"weakCompareAndSet long\");\n+                assertEquals(x, 0x0123456789ABCDEFL, \"failing weakCompareAndSet long value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessLong.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, (short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet short\");\n+            assertEquals(success, true, \"success weakCompareAndSet short\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, (short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSet short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n@@ -471,1 +499,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact((short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n@@ -473,1 +508,1 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -481,1 +516,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact((short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -483,1 +525,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -491,1 +533,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n@@ -493,1 +535,8 @@\n-            assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+            assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact((short)0x0123, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (short)0x4567, \"failing weakCompareAndSetRelease short value\");\n@@ -501,1 +550,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet short\");\n+            assertEquals(success, true, \"success weakCompareAndSet short\");\n+            short x = (short) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact((short)0x4567, (short)0x89AB);\n+            assertEquals(success, false, \"failing weakCompareAndSet short\");\n@@ -503,1 +559,1 @@\n-            assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+            assertEquals(x, (short)0x0123, \"failing weakCompareAndSetRe short value\");\n@@ -752,1 +808,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain short\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain short\");\n+                short x = (short) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (short)0x4567, \"success weakCompareAndSetPlain short value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, (short)0x0123, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain short\");\n@@ -754,1 +817,1 @@\n-                assertEquals(x, (short)0x4567, \"weakCompareAndSetPlain short value\");\n+                assertEquals(x, (short)0x4567, \"failing weakCompareAndSetPlain short value\");\n@@ -762,1 +825,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire short\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire short\");\n@@ -764,1 +827,8 @@\n-                assertEquals(x, (short)0x0123, \"weakCompareAndSetAcquire short\");\n+                assertEquals(x, (short)0x0123, \"success weakCompareAndSetAcquire short\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, (short)0x4567, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n+                short x = (short) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (short)0x0123, \"failing weakCompareAndSetAcquire short value\");\n@@ -772,1 +842,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease short\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease short\");\n+                short x = (short) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (short)0x4567, \"success weakCompareAndSetRelease short\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, (short)0x0123, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire short\");\n@@ -774,1 +851,1 @@\n-                assertEquals(x, (short)0x4567, \"weakCompareAndSetRelease short\");\n+                assertEquals(x, (short)0x4567, \"failing weakCompareAndSetAcquire short value\");\n@@ -782,1 +859,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet short\");\n+                assertEquals(success, true, \"success weakCompareAndSet short\");\n+                short x = (short) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, (short)0x0123, \"success weakCompareAndSet short\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, (short)0x4567, (short)0x89AB);\n+                assertEquals(success, false, \"failing weakCompareAndSet short\");\n@@ -784,1 +868,1 @@\n-                assertEquals(x, (short)0x0123, \"weakCompareAndSet short\");\n+                assertEquals(x, (short)0x0123, \"failing weakCompareAndSet short value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessShort.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -215,1 +215,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n@@ -217,1 +217,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -225,1 +232,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n@@ -227,1 +241,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -235,1 +249,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, \"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease String\");\n@@ -237,1 +258,1 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease String value\");\n@@ -245,1 +266,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet String\");\n+            assertEquals(success, true, \"success weakCompareAndSet String\");\n@@ -247,1 +268,8 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSet String\");\n+            assertEquals(x, \"foo\", \"success weakCompareAndSet String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, \"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSet String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSet String value\");\n@@ -371,1 +399,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(\"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n@@ -373,1 +408,1 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -381,1 +416,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(\"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n@@ -383,1 +425,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -391,1 +433,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n@@ -393,1 +435,8 @@\n-            assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+            assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(\"foo\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, \"bar\", \"failing weakCompareAndSetRelease String value\");\n@@ -401,1 +450,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet String\");\n+            assertEquals(success, true, \"success weakCompareAndSet String\");\n+            String x = (String) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, \"foo\", \"success weakCompareAndSet String\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(\"bar\", \"baz\");\n+            assertEquals(success, false, \"failing weakCompareAndSet String\");\n@@ -403,1 +459,1 @@\n-            assertEquals(x, \"foo\", \"weakCompareAndSet String\");\n+            assertEquals(x, \"foo\", \"failing weakCompareAndSetRe String value\");\n@@ -552,1 +608,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain String\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain String\");\n+                String x = (String) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, \"bar\", \"success weakCompareAndSetPlain String value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, \"foo\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain String\");\n@@ -554,1 +617,1 @@\n-                assertEquals(x, \"bar\", \"weakCompareAndSetPlain String value\");\n+                assertEquals(x, \"bar\", \"failing weakCompareAndSetPlain String value\");\n@@ -562,1 +625,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire String\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire String\");\n@@ -564,1 +627,8 @@\n-                assertEquals(x, \"foo\", \"weakCompareAndSetAcquire String\");\n+                assertEquals(x, \"foo\", \"success weakCompareAndSetAcquire String\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, \"bar\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n+                String x = (String) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, \"foo\", \"failing weakCompareAndSetAcquire String value\");\n@@ -572,1 +642,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease String\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease String\");\n+                String x = (String) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, \"bar\", \"success weakCompareAndSetRelease String\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, \"foo\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire String\");\n@@ -574,1 +651,1 @@\n-                assertEquals(x, \"bar\", \"weakCompareAndSetRelease String\");\n+                assertEquals(x, \"bar\", \"failing weakCompareAndSetAcquire String value\");\n@@ -582,1 +659,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet String\");\n+                assertEquals(success, true, \"success weakCompareAndSet String\");\n+                String x = (String) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, \"foo\", \"success weakCompareAndSet String\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, \"bar\", \"baz\");\n+                assertEquals(success, false, \"failing weakCompareAndSet String\");\n@@ -584,1 +668,1 @@\n-                assertEquals(x, \"foo\", \"weakCompareAndSet String\");\n+                assertEquals(x, \"foo\", \"failing weakCompareAndSet String value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/VarHandleTestMethodHandleAccessString.java","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -729,1 +729,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n@@ -731,1 +731,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain(recv, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n+            $type$ x = ($type$) vh.get(recv);\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -739,1 +746,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+            $type$ x = ($type$) vh.get(recv);\n+            assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire(recv, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -741,1 +755,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -749,1 +763,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n+            $type$ x = ($type$) vh.get(recv);\n+            assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease(recv, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n@@ -751,1 +772,1 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -759,1 +780,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSet $type$\");\n@@ -761,1 +782,8 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSet $type$ value\");\n+            assertEquals(x, $value1$, \"success weakCompareAndSet $type$ value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet(recv, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n+            $type$ x = ($type$) vh.get(recv);\n+            assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n@@ -1106,1 +1134,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n+            $type$ x = ($type$) vh.get();\n+            assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetPlain($value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n@@ -1108,1 +1143,1 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -1116,1 +1151,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+            $type$ x = ($type$) vh.get();\n+            assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetAcquire($value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -1118,1 +1160,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -1126,1 +1168,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n@@ -1128,1 +1170,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSetRelease($value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n+            $type$ x = ($type$) vh.get();\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -1136,1 +1185,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+            $type$ x = ($type$) vh.get();\n+            assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+        }\n+\n+        {\n+            boolean success = vh.weakCompareAndSet($value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -1138,1 +1194,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n@@ -1486,1 +1542,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n+                $type$ x = ($type$) vh.get(array, i);\n+                assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetPlain(array, i, $value1$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n@@ -1488,1 +1551,1 @@\n-                assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+                assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -1496,1 +1559,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n@@ -1498,1 +1561,8 @@\n-                assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+                assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetAcquire(array, i, $value2$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n+                $type$ x = ($type$) vh.get(array, i);\n+                assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -1506,1 +1576,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n+                $type$ x = ($type$) vh.get(array, i);\n+                assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSetRelease(array, i, $value1$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n@@ -1508,1 +1585,1 @@\n-                assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+                assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -1516,1 +1593,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+                $type$ x = ($type$) vh.get(array, i);\n+                assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+            }\n+\n+            {\n+                boolean success = vh.weakCompareAndSet(array, i, $value2$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -1518,1 +1602,1 @@\n-                assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+                assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/X-VarHandleTestAccess.java.template","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -1630,1 +1630,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n@@ -1632,1 +1632,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain $type$ value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain $type$ value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -1640,1 +1647,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -1642,1 +1656,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire $type$\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -1650,1 +1664,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n@@ -1652,1 +1666,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease $type$\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -1660,1 +1681,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -1662,1 +1690,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet $type$\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet $type$ value\");\n@@ -1919,1 +1947,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n@@ -1921,1 +1949,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetPlain $type$ value\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetPlain $type$ value\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetPlain(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -1929,1 +1964,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSetAcquire $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetAcquire(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -1931,1 +1973,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSetAcquire $type$\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -1939,1 +1981,1 @@\n-                    assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n@@ -1941,1 +1983,8 @@\n-                    assertEquals(x, VALUE_2, \"weakCompareAndSetRelease $type$\");\n+                    assertEquals(x, VALUE_2, \"success weakCompareAndSetRelease $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSetRelease(array, i, VALUE_1, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_2, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -1949,1 +1998,8 @@\n-                    assertEquals(success, true, \"weakCompareAndSet $type$\");\n+                    assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+                    $type$ x = ($type$) vh.get(array, i);\n+                    assertEquals(x, VALUE_1, \"success weakCompareAndSet $type$\");\n+                }\n+\n+                {\n+                    boolean success = vh.weakCompareAndSet(array, i, VALUE_2, VALUE_3);\n+                    assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -1951,1 +2007,1 @@\n-                    assertEquals(x, VALUE_1, \"weakCompareAndSet $type$\");\n+                    assertEquals(x, VALUE_1, \"failing weakCompareAndSet $type$ value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/X-VarHandleTestByteArrayView.java.template","additions":73,"deletions":17,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -216,1 +216,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n@@ -218,1 +218,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(recv, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -226,1 +233,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(recv, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -228,1 +242,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -236,1 +250,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact(recv, $value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n@@ -238,1 +259,1 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -246,1 +267,1 @@\n-            assertEquals(success, true, \"weakCompareAndSet $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSet $type$\");\n@@ -248,1 +269,8 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+            assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(recv, $value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(recv);\n+            assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n@@ -511,1 +539,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact($value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n@@ -513,1 +548,1 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -521,1 +556,8 @@\n-            assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact($value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -523,1 +565,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -531,1 +573,1 @@\n-            assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n@@ -533,1 +575,8 @@\n-            assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+            assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_RELEASE).invokeExact($value1$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSetRelease $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, $value2$, \"failing weakCompareAndSetRelease $type$ value\");\n@@ -541,1 +590,8 @@\n-            assertEquals(success, true, \"weakCompareAndSet $type$\");\n+            assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+            $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact();\n+            assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+        }\n+\n+        {\n+            boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact($value2$, $value3$);\n+            assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -543,1 +599,1 @@\n-            assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+            assertEquals(x, $value1$, \"failing weakCompareAndSetRe $type$ value\");\n@@ -831,1 +887,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetPlain $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetPlain $type$\");\n+                $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, $value2$, \"success weakCompareAndSetPlain $type$ value\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_PLAIN).invokeExact(array, i, $value1$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetPlain $type$\");\n@@ -833,1 +896,1 @@\n-                assertEquals(x, $value2$, \"weakCompareAndSetPlain $type$ value\");\n+                assertEquals(x, $value2$, \"failing weakCompareAndSetPlain $type$ value\");\n@@ -841,1 +904,1 @@\n-                assertEquals(success, true, \"weakCompareAndSetAcquire $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetAcquire $type$\");\n@@ -843,1 +906,8 @@\n-                assertEquals(x, $value1$, \"weakCompareAndSetAcquire $type$\");\n+                assertEquals(x, $value1$, \"success weakCompareAndSetAcquire $type$\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, $value2$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n+                $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, $value1$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -851,1 +921,8 @@\n-                assertEquals(success, true, \"weakCompareAndSetRelease $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSetRelease $type$\");\n+                $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, $value2$, \"success weakCompareAndSetRelease $type$\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET_ACQUIRE).invokeExact(array, i, $value1$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSetAcquire $type$\");\n@@ -853,1 +930,1 @@\n-                assertEquals(x, $value2$, \"weakCompareAndSetRelease $type$\");\n+                assertEquals(x, $value2$, \"failing weakCompareAndSetAcquire $type$ value\");\n@@ -861,1 +938,8 @@\n-                assertEquals(success, true, \"weakCompareAndSet $type$\");\n+                assertEquals(success, true, \"success weakCompareAndSet $type$\");\n+                $type$ x = ($type$) hs.get(TestAccessMode.GET).invokeExact(array, i);\n+                assertEquals(x, $value1$, \"success weakCompareAndSet $type$\");\n+            }\n+\n+            {\n+                boolean success = (boolean) hs.get(TestAccessMode.WEAK_COMPARE_AND_SET).invokeExact(array, i, $value2$, $value3$);\n+                assertEquals(success, false, \"failing weakCompareAndSet $type$\");\n@@ -863,1 +947,1 @@\n-                assertEquals(x, $value1$, \"weakCompareAndSet $type$\");\n+                assertEquals(x, $value1$, \"failing weakCompareAndSet $type$ value\");\n","filename":"test\/jdk\/java\/lang\/invoke\/VarHandles\/X-VarHandleTestMethodHandleAccess.java.template","additions":109,"deletions":25,"binary":false,"changes":134,"status":"modified"}]}