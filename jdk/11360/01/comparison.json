{"files":[{"patch":"@@ -32,0 +32,1 @@\n+#include \"runtime\/javaThread.inline.hpp\"\n@@ -244,1 +245,7 @@\n-  if (JavaThread::current()->is_attaching_via_jni()) {\n+  \/\/\n+  \/\/ Thread which is not an active Java thread should also not block.\n+  \/\/ This can happen during VM init when main thread is still not an\n+  \/\/ active Java thread.\n+  JavaThread* current = JavaThread::current();\n+  if (current->is_attaching_via_jni() ||\n+      current->is_active_Java_thread()) {\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahPacer.cpp","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"}]}