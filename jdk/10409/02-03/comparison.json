{"files":[{"patch":"@@ -452,4 +452,0 @@\n-            \/\/ Integer overlfow\n-            if (i + 1 < i) {\n-                break;\n-            }\n@@ -501,0 +497,3 @@\n+        if (index0 == Integer.MAX_VALUE || index1 == Integer.MAX_VALUE) {\n+            throw new IndexOutOfBoundsException(\"index == Integer.MAX_VALUE\");\n+        }\n@@ -695,0 +694,1 @@\n+     *         or equal to Integer.MAX_VALUE\n@@ -698,0 +698,6 @@\n+        if (index0 < 0 || index1 < 0) {\n+            throw new IndexOutOfBoundsException(\"index is negative\");\n+        }\n+        if (index0 == Integer.MAX_VALUE || index1 == Integer.MAX_VALUE) {\n+            throw new IndexOutOfBoundsException(\"index is equal to MAX_VALUE\");\n+        }\n@@ -700,2 +706,1 @@\n-        int gapLength = ((rmMaxIndex - rmMinIndex) + 1) > (rmMaxIndex - rmMinIndex)\n-                ? ((rmMaxIndex - rmMinIndex) + 1) : (rmMaxIndex - rmMinIndex);\n+        int gapLength = (rmMaxIndex - rmMinIndex) + 1;\n@@ -707,7 +712,1 @@\n-\n-            if ((i + gapLength) >= gapLength) {\n-                setState(i, value.get(i + gapLength));\n-            } else {\n-                setState(i, value.get(gapLength));\n-                break;\n-            }\n+            setState(i, value.get(i + gapLength));\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DefaultListSelectionModel.java","additions":12,"deletions":13,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -39,0 +39,1 @@\n+        boolean passed = false;\n@@ -41,1 +42,8 @@\n-        selectionModel.removeIndexInterval(0, Integer.MAX_VALUE);\n+        try {\n+            selectionModel.removeIndexInterval(0, Integer.MAX_VALUE);\n+        } catch (IndexOutOfBoundsException e) {\n+            passed = true;\n+        }\n+        if (!passed) {\n+            throw new RuntimeException(\"IOOBE not thrown\");\n+        }\n@@ -45,0 +53,1 @@\n+        boolean passed = false;\n@@ -46,2 +55,9 @@\n-        selectionModel.setSelectionInterval(Integer.MAX_VALUE - 1, Integer.MAX_VALUE);\n-        selectionModel.removeIndexInterval(0, Integer.MAX_VALUE);\n+        try {\n+            selectionModel.setSelectionInterval(Integer.MAX_VALUE - 1, Integer.MAX_VALUE);\n+        } catch (IndexOutOfBoundsException e) {\n+            passed = true;\n+        }\n+        if (!passed) {\n+            throw new RuntimeException(\"IOOBE not thrown\");\n+        }\n+        selectionModel.removeIndexInterval(0, 1);\n","filename":"test\/jdk\/javax\/swing\/TestDefListModelException.java","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}