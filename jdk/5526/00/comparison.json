{"files":[{"patch":"@@ -35,0 +35,3 @@\n+  # The target dir matches the name of VM variant\n+  TARGET_JVM_VARIANT_PATH=$JVM_VARIANT_MAIN\n+\n@@ -36,9 +39,0 @@\n-  # For any of the variants server, client, minimal or zero, the dir matches the\n-  # variant name. The \"main\" variant should be used for linking. For the\n-  # rest, the dir is just server.\n-  if HOTSPOT_CHECK_JVM_VARIANT(server) || HOTSPOT_CHECK_JVM_VARIANT(client) \\\n-      || HOTSPOT_CHECK_JVM_VARIANT(minimal) || HOTSPOT_CHECK_JVM_VARIANT(zero); then\n-    TARGET_JVM_VARIANT_PATH=$JVM_VARIANT_MAIN\n-  else\n-    TARGET_JVM_VARIANT_PATH=server\n-  fi\n","filename":"make\/autoconf\/flags-ldflags.m4","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -86,9 +86,0 @@\n-  # All \"special\" variants share the same output directory (\"server\")\n-  VALID_MULTIPLE_JVM_VARIANTS=\"server client minimal zero\"\n-  UTIL_GET_NON_MATCHING_VALUES(INVALID_MULTIPLE_VARIANTS, $JVM_VARIANTS, \\\n-      $VALID_MULTIPLE_JVM_VARIANTS)\n-  if  test \"x$INVALID_MULTIPLE_VARIANTS\" != x && \\\n-      test \"x$BUILDING_MULTIPLE_JVM_VARIANTS\" = xtrue; then\n-    AC_MSG_ERROR([You can only build multiple variants using these variants: '$VALID_MULTIPLE_JVM_VARIANTS'])\n-  fi\n-\n","filename":"make\/autoconf\/hotspot.m4","additions":0,"deletions":9,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -37,7 +37,1 @@\n-ifneq ($(filter client minimal zero, $(JVM_VARIANT)), )\n-  JVM_VARIANT_SUBDIR := $(JVM_VARIANT)\n-else\n-  # Use 'server' as default target directory name for all other variants.\n-  JVM_VARIANT_SUBDIR := server\n-endif\n-JVM_LIB_OUTPUTDIR := $(LIB_OUTPUTDIR)\/$(JVM_VARIANT_SUBDIR)\n+JVM_LIB_OUTPUTDIR := $(LIB_OUTPUTDIR)\/$(JVM_VARIANT)\n","filename":"make\/hotspot\/HotspotCommon.gmk","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -98,6 +98,0 @@\n-# Any variant other than server, client, minimal, or zero is represented as server in\n-# the cfg file.\n-VALID_CFG_VARIANTS := server client minimal zero\n-CFG_VARIANTS := $(filter $(VALID_CFG_VARIANTS), $(JVM_VARIANTS)) \\\n-    $(if $(filter-out $(VALID_CFG_VARIANTS), $(JVM_VARIANTS)), server)\n-\n@@ -106,2 +100,2 @@\n-    $(if $(filter $(DEFAULT_CFG_VARIANT), $(CFG_VARIANTS)), $(DEFAULT_CFG_VARIANT)) \\\n-    $(filter-out $(DEFAULT_CFG_VARIANT), $(CFG_VARIANTS))\n+    $(if $(filter $(DEFAULT_CFG_VARIANT), $(JVM_VARIANTS)), $(DEFAULT_CFG_VARIANT)) \\\n+    $(filter-out $(DEFAULT_CFG_VARIANT), $(JVM_VARIANTS))\n","filename":"make\/modules\/java.base\/Copy.gmk","additions":2,"deletions":8,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -159,5 +159,2 @@\n-      # The subdir is the same as the variant for client, minimal or zero, for all\n-      # others it's server.\n-      VARIANT_SUBDIRS := $(filter client minimal zero, $(JVM_VARIANTS)) \\\n-          $(if $(filter-out client minimal zero, $(JVM_VARIANTS)), server)\n-      $(foreach v, $(VARIANT_SUBDIRS), $(eval $(call CreateSymlinks,$v)))\n+      # The subdir is the same as the variant\n+      $(foreach v, $(JVM_VARIANTS), $(eval $(call CreateSymlinks,$v)))\n","filename":"make\/modules\/java.base\/Lib.gmk","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"}]}