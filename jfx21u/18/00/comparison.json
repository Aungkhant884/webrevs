{"files":[{"patch":"@@ -88,1 +88,1 @@\n-            if (isNormalTaskbarApp()) {\n+            if (isTriggerReactivation()) {\n@@ -370,3 +370,3 @@\n-    native private boolean _isNormalTaskbarApp();\n-    boolean isNormalTaskbarApp() {\n-        return _isNormalTaskbarApp();\n+    native private boolean _isTriggerReactivation();\n+    boolean isTriggerReactivation() {\n+        return _isTriggerReactivation();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/mac\/MacApplication.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-static BOOL isNormalTaskbarApp = NO;\n+static BOOL triggerReactivation = NO;\n@@ -268,1 +268,1 @@\n-    if (isNormalTaskbarApp && firstActivation) {\n+    if (triggerReactivation && firstActivation) {\n@@ -301,1 +301,1 @@\n-    if (isNormalTaskbarApp && shouldReactivate) {\n+    if (triggerReactivation && shouldReactivate) {\n@@ -539,1 +539,10 @@\n-                isNormalTaskbarApp = YES;\n+                triggerReactivation = YES;\n+\n+                \/\/ The workaround of deactivating and reactivating\n+                \/\/ the application so that the system menu bar works\n+                \/\/ correctly is no longer needed (and no longer works\n+                \/\/ anyway) as of macOS 14\n+                if (@available(macOS 14.0, *)) {\n+                    triggerReactivation = NO;\n+                }\n+\n@@ -1069,1 +1078,1 @@\n- * Method:    _isNormalTaskbarApp\n+ * Method:    _isTriggerReactivation\n@@ -1072,1 +1081,1 @@\n-JNIEXPORT jboolean JNICALL Java_com_sun_glass_ui_mac_MacApplication__1isNormalTaskbarApp\n+JNIEXPORT jboolean JNICALL Java_com_sun_glass_ui_mac_MacApplication__1isTriggerReactivation\n@@ -1075,2 +1084,2 @@\n-    LOG(\"Java_com_sun_glass_ui_mac_MacApplication__1isNormalTaskbarApp\");\n-    return isNormalTaskbarApp;\n+    LOG(\"Java_com_sun_glass_ui_mac_MacApplication__1isTriggerReactivation\");\n+    return triggerReactivation;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassApplication.m","additions":17,"deletions":8,"binary":false,"changes":25,"status":"modified"}]}