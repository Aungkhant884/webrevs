{"files":[{"patch":"@@ -336,1 +336,2 @@\n-                                                  dcmdArgInfo *infoArray);\n+                                                  dcmdArgInfo *infoArray,\n+                                                  jint count);\n","filename":"src\/hotspot\/share\/include\/jmm.h","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1999,1 +1999,1 @@\n-          jstring command, dcmdArgInfo* infoArray))\n+          jstring command, dcmdArgInfo* infoArray, jint count))\n@@ -2023,2 +2023,4 @@\n-  if (array->length() == 0) {\n-    return;\n+  const int num_args = array->length();\n+  if (num_args != count) {\n+    assert(false, \"jmm_GetDiagnosticCommandArgumentsInfo count mismatch (%d vs %d)\", count, num_args);\n+    THROW_MSG(vmSymbols::java_lang_InternalError(), \"jmm_GetDiagnosticCommandArgumentsInfo count mismatch\");\n@@ -2026,1 +2028,1 @@\n-  for (int i = 0; i < array->length(); i++) {\n+  for (int i = 0; i < num_args; i++) {\n","filename":"src\/hotspot\/share\/services\/management.cpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-                                                   dcmd_arg_info_array);\n+                                                   dcmd_arg_info_array, num_arg);\n","filename":"src\/jdk.management\/share\/native\/libmanagement_ext\/DiagnosticCommandImpl.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}