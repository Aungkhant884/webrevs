{"files":[{"patch":"@@ -46,1 +46,1 @@\n-class NimbusIcon implements SynthIcon, UIResource {\n+class NimbusIcon implements SynthIcon {\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/NimbusIcon.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27355,1 +27355,1 @@\n-               <matte red=\"0\" green=\"0\" blue=\"0\" alpha=\"0\" uiDefaultParentName=\"text\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"true\"\/>\n+               <matte red=\"0\" green=\"0\" blue=\"0\" alpha=\"0\" uiDefaultParentName=\"text\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"false\"\/>\n@@ -27358,1 +27358,1 @@\n-               <matte red=\"255\" green=\"255\" blue=\"255\" alpha=\"255\" uiDefaultParentName=\"nimbusLightBackground\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"true\"\/>\n+               <matte red=\"255\" green=\"255\" blue=\"255\" alpha=\"255\" uiDefaultParentName=\"nimbusLightBackground\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"false\"\/>\n@@ -27382,1 +27382,1 @@\n-                  <matte red=\"255\" green=\"255\" blue=\"255\" alpha=\"255\" uiDefaultParentName=\"nimbusSelectedText\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"true\"\/>\n+                  <matte red=\"255\" green=\"255\" blue=\"255\" alpha=\"255\" uiDefaultParentName=\"nimbusSelectedText\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"false\"\/>\n@@ -27385,1 +27385,1 @@\n-                  <matte red=\"57\" green=\"105\" blue=\"138\" alpha=\"255\" uiDefaultParentName=\"nimbusSelectionBackground\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"true\"\/>\n+                  <matte red=\"57\" green=\"105\" blue=\"138\" alpha=\"255\" uiDefaultParentName=\"nimbusSelectionBackground\" hueOffset=\"0.0\" saturationOffset=\"0.0\" brightnessOffset=\"0.0\" alphaOffset=\"0\" uiResource=\"false\"\/>\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/skin.laf","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1,100 +0,0 @@\n-\/*\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-import javax.swing.UIManager;\n-import javax.swing.UnsupportedLookAndFeelException;\n-import javax.swing.plaf.UIResource;\n-import javax.swing.plaf.nimbus.NimbusLookAndFeel;\n-import java.awt.Color;\n-\n-\/**\n- * @test\n- * @bug 8249674\n- * @summary  Nimbus JTree renderer properties persist across L&F changes\n- * @key headful\n- * @run main NimbusPropertiesDoNotImplUIResource\n- *\/\n-\n-public class NimbusPropertiesDoNotImplUIResource {\n-    private static final String[] defPropertyKeys = new String[] {\n-            \"Tree.leafIcon\", \"Tree.closedIcon\",\n-            \"Tree.openIcon\", \"Tree.selectionForeground\",\n-            \"Tree.textForeground\", \"Tree.selectionBackground\",\n-            \"Tree.textBackground\", \"Tree.selectionBorderColor\"};\n-    private static String failedKeys = null;\n-\n-    public static void main(String[] args) throws Exception {\n-        UIManager.LookAndFeelInfo[] installedLookAndFeels;\n-        installedLookAndFeels = UIManager.getInstalledLookAndFeels();\n-\n-        for (UIManager.LookAndFeelInfo LF : installedLookAndFeels) {\n-            try {\n-                UIManager.setLookAndFeel(LF.getClassName());\n-                failedKeys = null;\n-                for (String propertyKey : defPropertyKeys) {\n-                    verifyProperty(propertyKey);\n-                }\n-                if(failedKeys != null) {\n-                    throw new RuntimeException(\"JTree renderer Properties \" +\n-                            failedKeys + \" are not instance of UIResource for \"\n-                            + LF.getClassName());\n-                }\n-            } catch(UnsupportedLookAndFeelException e) {\n-                System.out.println(\"Note: LookAndFeel \" + LF.getClassName()\n-                        + \" is not supported on this configuration\");\n-            }\n-        }\n-\n-        \/\/Check that the both uiResource option true and false are working for\n-        \/\/getDerivedColor method of NimbusLookAndFeel\n-        UIManager.setLookAndFeel(\"javax.swing.plaf.nimbus.NimbusLookAndFeel\");\n-        Color color1 = ((NimbusLookAndFeel)UIManager.getLookAndFeel())\n-                .getDerivedColor(\"text\", 0, 0, 0, 0, false);\n-        if(color1 instanceof UIResource) {\n-            throw new RuntimeException(\"color1 should not be instance of \" +\n-                    \"UIResource\");\n-        }\n-\n-        Color color2 = ((NimbusLookAndFeel)UIManager.getLookAndFeel())\n-                .getDerivedColor(\"text\", 0, 0, 0, 0, true);\n-        if(!(color2 instanceof UIResource)) {\n-            throw new RuntimeException(\"color2 should be instance of \" +\n-                    \"UIResource\");\n-        }\n-\n-    }\n-\n-    private static void verifyProperty(String propertyKey) {\n-        Object property = UIManager.get(propertyKey);\n-        if (property == null) {\n-            return;\n-        }\n-        if (!(property instanceof UIResource)) {\n-            if(failedKeys == null) {\n-                failedKeys = \":\" + propertyKey;\n-            } else {\n-                failedKeys += \",\" + propertyKey;\n-            }\n-        }\n-    }\n-}\n","filename":"test\/jdk\/javax\/swing\/plaf\/nimbus\/NimbusPropertiesDoNotImplUIResource.java","additions":0,"deletions":100,"binary":false,"changes":100,"status":"deleted"}]}