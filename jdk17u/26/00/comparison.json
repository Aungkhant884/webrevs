{"files":[{"patch":"@@ -319,0 +319,22 @@\n+void ShenandoahAsserts::assert_marked_weak(void *interior_loc, oop obj, const char *file, int line) {\n+  assert_correct(interior_loc, obj, file, line);\n+\n+  ShenandoahHeap* heap = ShenandoahHeap::heap();\n+  if (!heap->marking_context()->is_marked_weak(obj)) {\n+    print_failure(_safe_all, obj, interior_loc, NULL, \"Shenandoah assert_marked_weak failed\",\n+                  \"Object should be marked weakly\",\n+                  file, line);\n+  }\n+}\n+\n+void ShenandoahAsserts::assert_marked_strong(void *interior_loc, oop obj, const char *file, int line) {\n+  assert_correct(interior_loc, obj, file, line);\n+\n+  ShenandoahHeap* heap = ShenandoahHeap::heap();\n+  if (!heap->marking_context()->is_marked_strong(obj)) {\n+    print_failure(_safe_all, obj, interior_loc, NULL, \"Shenandoah assert_marked_strong failed\",\n+                  \"Object should be marked strongly\",\n+                  file, line);\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAsserts.cpp","additions":22,"deletions":0,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -64,0 +64,2 @@\n+  static void assert_marked_weak(void* interior_loc, oop obj, const char* file, int line);\n+  static void assert_marked_strong(void* interior_loc, oop obj, const char* file, int line);\n@@ -110,0 +112,14 @@\n+#define shenandoah_assert_marked_weak_if(interior_loc, obj, condition) \\\n+  if (condition)    ShenandoahAsserts::assert_marked_weak(interior_loc, obj, __FILE__, __LINE__)\n+#define shenandoah_assert_marked_weak_except(interior_loc, obj, exception) \\\n+  if (!(exception)) ShenandoahAsserts::assert_marked_weak(interior_loc, obj, __FILE__, __LINE__)\n+#define shenandoah_assert_marked_weak(interior_loc, obj) \\\n+                    ShenandoahAsserts::assert_marked_weak(interior_loc, obj, __FILE__, __LINE__)\n+\n+#define shenandoah_assert_marked_strong_if(interior_loc, obj, condition) \\\n+  if (condition)    ShenandoahAsserts::assert_marked_strong(interior_loc, obj, __FILE__, __LINE__)\n+#define shenandoah_assert_marked_strong_except(interior_loc, obj, exception) \\\n+  if (!(exception)) ShenandoahAsserts::assert_marked_strong(interior_loc, obj, __FILE__, __LINE__)\n+#define shenandoah_assert_marked_strong(interior_loc, obj) \\\n+                    ShenandoahAsserts::assert_marked_strong(interior_loc, obj, __FILE__, __LINE__)\n+\n@@ -171,0 +187,8 @@\n+#define shenandoah_assert_marked_weak_if(interior_loc, obj, condition)\n+#define shenandoah_assert_marked_weak_except(interior_loc, obj, exception)\n+#define shenandoah_assert_marked_weak(interior_loc, obj)\n+\n+#define shenandoah_assert_marked_strong_if(interior_loc, obj, condition)\n+#define shenandoah_assert_marked_strong_except(interior_loc, obj, exception)\n+#define shenandoah_assert_marked_strong(interior_loc, obj)\n+\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahAsserts.hpp","additions":24,"deletions":0,"binary":false,"changes":24,"status":"modified"}]}