{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,0 +30,2 @@\n+ * @library .. \/test\/lib\n+ * @build jdk.test.lib.Platform\n@@ -40,0 +42,1 @@\n+import java.nio.file.NoSuchFileException;\n@@ -45,0 +48,2 @@\n+import jdk.test.lib.Platform;\n+import jdk.test.lib.Platform;\n@@ -54,4 +59,0 @@\n-    private static final String OS_NAME = System.getProperty(\"os.name\");\n-    private static final boolean IS_MAC = OS_NAME.startsWith(\"Mac\");\n-    private static final boolean IS_WIN = OS_NAME.startsWith(\"Windows\");\n-\n@@ -154,1 +155,1 @@\n-                        name = IS_WIN ? m.group(1) : m.group(4);\n+                        name = Platform.isWindows() ? m.group(1) : m.group(4);\n@@ -223,0 +224,6 @@\n+            } catch (NoSuchFileException nsfe) {\n+                \/\/ On Linux, ignore the NSFE if the path is one of the\n+                \/\/ \/run\/user\/$UID mounts created by pam_systemd(8) as it\n+                \/\/ might be deleted during the test\n+                if (!Platform.isLinux() || s.name().indexOf(\"\/run\/user\") == -1)\n+                    throw new RuntimeException(nsfe);\n@@ -232,1 +239,1 @@\n-            if (!IS_MAC || blockSize != 512 || numBlocks % 2 == 0\n+            if (!Platform.isOSX() || blockSize != 512 || numBlocks % 2 == 0\n@@ -241,1 +248,1 @@\n-        long tsp = (!IS_WIN ? us : fs);\n+        long tsp = (!Platform.isWindows() ? us : fs);\n","filename":"test\/jdk\/java\/io\/File\/GetXSpace.java","additions":15,"deletions":8,"binary":false,"changes":23,"status":"modified"}]}