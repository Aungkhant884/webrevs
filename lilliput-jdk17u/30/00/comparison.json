{"files":[{"patch":"@@ -75,3 +75,6 @@\n-    if (mark.has_displaced_mark_helper()) {\n-      mark = mark.displaced_mark_helper();\n-    }\n+    if (UseCompactObjectHeaders) {\n+      if (mark.has_displaced_mark_helper()) {\n+        mark = mark.displaced_mark_helper();\n+      }\n+      obj->set_mark(markWord::prototype().set_marked().set_narrow_klass(mark.narrow_klass()));\n+    } else\n@@ -79,1 +82,3 @@\n-    obj->set_mark(markWord::prototype().set_marked() LP64_ONLY(.set_narrow_klass(mark.narrow_klass())));\n+    {\n+      obj->set_mark(markWord::prototype().set_marked());\n+    }\n","filename":"src\/hotspot\/share\/jfr\/leakprofiler\/chains\/objectSampleMarker.hpp","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"}]}