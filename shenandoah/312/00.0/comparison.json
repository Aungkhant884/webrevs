{"files":[{"patch":"@@ -606,1 +606,1 @@\n-    if (!is_empty(queue)) {\n+    if (!queue.is_empty()) {\n@@ -610,4 +610,0 @@\n-private:\n-  bool is_empty(SATBMarkQueue& queue) {\n-    return queue.buffer() == nullptr || queue.index() == queue.capacity();\n-  }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahVerifier.cpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -133,1 +133,1 @@\n-    private static final long MAX_REWRITE_TIME = 30*1000; \/\/ ms\n+    private static final long MAX_REWRITE_TIME_NS = 30L * 1_000_000_000L; \/\/ 30s in ns\n@@ -231,1 +231,1 @@\n-        long timeBeforeRewrite = System.currentTimeMillis();\n+        long timeBeforeRewriteNanos = System.nanoTime();\n@@ -249,1 +249,1 @@\n-                if (System.currentTimeMillis() - timeBeforeRewrite >= MAX_REWRITE_TIME) {\n+                if (System.nanoTime() - timeBeforeRewriteNanos >= MAX_REWRITE_TIME_NS) {\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/TestStringDedupStress.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    private static final int TIME_MSEC = 120000;\n+    private static final long TIME_NSEC = 120L * 1_000_000_000L;\n@@ -83,3 +83,3 @@\n-        long start = System.currentTimeMillis();\n-        long current = start;\n-        while (current - start < TIME_MSEC) {\n+        long startNanos = System.nanoTime();\n+        long currentNanos = startNanos;\n+        while (currentNanos - startNanos < TIME_NSEC) {\n@@ -89,1 +89,1 @@\n-            current = System.currentTimeMillis();\n+            currentNanos = System.nanoTime();\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/jni\/TestJNIGlobalRefs.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -147,1 +147,1 @@\n-        final long startTime = System.currentTimeMillis();\n+        final long startTimeNanos = System.nanoTime();\n@@ -194,2 +194,2 @@\n-        long spentTime = System.currentTimeMillis() - startTime;\n-        long maxTries = (Utils.adjustTimeout(Utils.DEFAULT_TEST_TIMEOUT) - spentTime) \/ STEP_MS \/ 4;\n+        long spentTimeNanos = System.nanoTime() - startTimeNanos;\n+        long maxTries = (Utils.adjustTimeout(Utils.DEFAULT_TEST_TIMEOUT) - (spentTimeNanos \/ 1_000_000L)) \/ STEP_MS \/ 4;\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/mxbeans\/TestChurnNotifications.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-        final long startTime = System.currentTimeMillis();\n+        final long startTimeNanos = System.nanoTime();\n@@ -188,2 +188,2 @@\n-        long spentTime = System.currentTimeMillis() - startTime;\n-        long maxTries = (Utils.adjustTimeout(Utils.DEFAULT_TEST_TIMEOUT) - spentTime) \/ STEP_MS \/ 4;\n+        long spentTimeNanos = System.nanoTime() - startTimeNanos;\n+        long maxTries = (Utils.adjustTimeout(Utils.DEFAULT_TEST_TIMEOUT) - (spentTimeNanos \/ 1_000_000L)) \/ STEP_MS \/ 4;\n","filename":"test\/hotspot\/jtreg\/gc\/shenandoah\/mxbeans\/TestPauseNotifications.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}