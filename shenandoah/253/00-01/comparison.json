{"files":[{"patch":"@@ -1230,1 +1230,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Init Mark\", \" (unload classes)\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Init Mark\", \" (unload classes)\");\n@@ -1232,1 +1232,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Init Mark\", \"\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Init Mark\", \"\");\n@@ -1242,1 +1242,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Final Mark\", \" (unload classes)\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Final Mark\", \" (unload classes)\");\n@@ -1244,1 +1244,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Final Mark\", \"\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Final Mark\", \"\");\n@@ -1253,1 +1253,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Concurrent marking\", \" (unload classes)\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Concurrent marking\", \" (unload classes)\");\n@@ -1255,1 +1255,1 @@\n-    SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Concurrent marking\", \"\");\n+    SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Concurrent marking\", \"\");\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentGC.cpp","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -445,0 +445,1 @@\n+  const ShenandoahHeap* heap = ShenandoahHeap::heap();\n@@ -447,1 +448,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (<UNSET>)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (<UNSET>)\");\n@@ -449,1 +450,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (Outside of Cycle)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (Outside of Cycle)\");\n@@ -451,1 +452,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (Roots)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (Roots)\");\n@@ -453,1 +454,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (Mark)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (Mark)\");\n@@ -455,1 +456,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (Evacuation)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (Evacuation)\");\n@@ -457,1 +458,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (Update Refs)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (Update Refs)\");\n@@ -460,1 +461,1 @@\n-      SHENANDOAH_RETURN_EVENT_MESSAGE(_generation->type(), \"Pause Degenerated GC\", \" (?)\");\n+      SHENANDOAH_RETURN_EVENT_MESSAGE(heap, _generation->type(), \"Pause Degenerated GC\", \" (?)\");\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahDegeneratedGC.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -47,12 +47,15 @@\n-#define SHENANDOAH_RETURN_EVENT_MESSAGE(generation_type, prefix, postfix) \\\n-  switch (generation_type) {                                              \\\n-    case GLOBAL:                                                          \\\n-      return prefix \"\" postfix;                                           \\\n-    case YOUNG:                                                           \\\n-      return prefix \" (YOUNG)\" postfix;                                   \\\n-    case OLD:                                                             \\\n-      return prefix \" (OLD)\" postfix;                                     \\\n-    default:                                                              \\\n-      ShouldNotReachHere();                                               \\\n-      return prefix \" (?)\" postfix;                                       \\\n-  }                                                                       \\\n+#define SHENANDOAH_RETURN_EVENT_MESSAGE(heap, generation_type, prefix, postfix) \\\n+  if (!heap->mode()->is_generational()) {                                       \\\n+    return prefix \"\" postfix;                                                   \\\n+  }                                                                             \\\n+  switch (generation_type) {                                                    \\\n+    case GLOBAL:                                                                \\\n+      return prefix \" (GLOBAL)\" postfix;                                        \\\n+    case YOUNG:                                                                 \\\n+      return prefix \" (YOUNG)\" postfix;                                         \\\n+    case OLD:                                                                   \\\n+      return prefix \" (OLD)\" postfix;                                           \\\n+    default:                                                                    \\\n+      ShouldNotReachHere();                                                     \\\n+      return prefix \" (?)\" postfix;                                             \\\n+  }                                                                             \\\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahUtils.hpp","additions":15,"deletions":12,"binary":false,"changes":27,"status":"modified"}]}