{"files":[{"patch":"@@ -113,0 +113,26 @@\n+void AbsSeq::merge(AbsSeq& abs2, bool clear_this) {\n+\n+  if (num() == 0) return;  \/\/ nothing to do\n+\n+  abs2._num += _num;\n+  abs2._sum += _sum;\n+  abs2._sum_of_squares += _sum_of_squares;\n+\n+  \/\/ Decaying stats need a bit more thought\n+  assert(abs2._alpha == _alpha, \"Caution: merge incompatible?\");\n+  \/\/ Until JDK-8298902 is fixed, we taint the decaying statistics\n+  if (abs2._davg != NAN) {\n+    abs2._davg = NAN;\n+    abs2._dvariance = NAN;\n+  }\n+\n+  if (clear_this) {\n+    _num = 0;\n+    _sum = 0;\n+    _sum_of_squares = 0;\n+    _davg = 0;\n+    _dvariance = 0;\n+  }\n+}\n+\n+\n@@ -140,0 +166,16 @@\n+void NumberSeq::merge(NumberSeq& nseq2, bool clear_this) {\n+\n+  if (num() == 0) return;  \/\/ nothing to do\n+\n+  nseq2._last = _last;   \/\/ this is newer than that\n+  nseq2._maximum = MAX2(_maximum, nseq2._maximum);\n+\n+  AbsSeq::merge(nseq2, clear_this);\n+\n+  if (clear_this) {\n+    _last = 0;\n+    _maximum = 0;\n+    assert(num() == 0, \"Not cleared\");\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/utilities\/numberSeq.cpp","additions":42,"deletions":0,"binary":false,"changes":42,"status":"modified"}]}