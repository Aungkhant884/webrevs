{"files":[{"patch":"@@ -38,1 +38,0 @@\n-  assert(!generation->is_old(), \"Young heuristics only accept the young generation\");\n@@ -139,1 +138,1 @@\n-  size_t promo_expedite_threshold = (heap->young_generation()->max_capacity() * ShenandoahEvacReserve) \/ 512;\n+  size_t promo_expedite_threshold = percent_of(heap->young_generation()->max_capacity(), ShenandoahExpeditePromotionsThreshold);\n@@ -153,1 +152,1 @@\n-  if (mixed_candidates > 0) {\n+  if (mixed_candidates > ShenandoahExpediteMixedThreshold && !heap->is_concurrent_weak_root_in_progress()) {\n@@ -155,0 +154,3 @@\n+    \/\/ If concurrent weak root processing is in progress, it means the old cycle has chosen mixed collection\n+    \/\/ candidates, but has not completed. There is no point in trying to start the young cycle before the old\n+    \/\/ cycle completes.\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahYoungHeuristics.cpp","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -147,0 +147,10 @@\n+  product(uintx, ShenandoahExpeditePromotionsThreshold, 5, EXPERIMENTAL,    \\\n+          \"When Shenandoah expects to promote at least this percentage \"    \\\n+          \"of the young generation, trigger a young collection to \"         \\\n+          \"expedite these promotions.\")                                     \\\n+          range(0,100)                                                      \\\n+                                                                            \\\n+  product(uintx, ShenandoahExpediteMixedThreshold, 10, EXPERIMENTAL,        \\\n+          \"When there are this many old regions waiting to be collected, \"  \\\n+          \"trigger a mixed collection immediately.\")                        \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoah_globals.hpp","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}