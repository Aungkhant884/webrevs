{"files":[{"patch":"@@ -191,3 +191,4 @@\n-  \/\/ Global marking has completed. We need to fill in any unmarked objects in the old generation\n-  \/\/ so that subsequent remembered set scans will not walk pointers into reclaimed memory.\n-  if (!heap->cancelled_gc() && heap->mode()->is_generational() && _generation->is_global()) {\n+  \/\/ Global marking has completed and we may have collected regions with no live objects.\n+  \/\/ We need to fill in any unmarked objects in the old generation so that subsequent\n+  \/\/ remembered set scans will not walk pointers into reclaimed memory.\n+  if (heap->mode()->is_generational() && _generation->is_global()) {\n@@ -227,1 +228,4 @@\n-    \/\/ We chose not to evacuate because we found sufficient immediate garbage.\n+    \/\/ We chose not to evacuate because we found sufficient immediate garbage. Note that we\n+    \/\/ do not check for cancellation here because, at this point, the cycle is effectively\n+    \/\/ complete. If the cycle has been cancelled here, the control thread will detect it at\n+    \/\/ on its next iteration and run a degenerated young cycle.\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentGC.cpp","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"}]}