{"files":[{"patch":"@@ -907,1 +907,1 @@\n-  uint nworkers = heap->workers()->active_workers();\n+  size_t nworkers = heap->workers()->active_workers();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahGeneration.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -706,0 +706,4 @@\n+  \/\/ Global card stats (cumulative)\n+  HdrSeq _card_stats_scan_rs;\n+  HdrSeq _card_stats_update_refs;\n+  \/\/ Per worker card stats (multiplexed by phase)\n@@ -772,0 +776,12 @@\n+  HdrSeq* card_stats_for_phase(CardStatLogType t) {\n+    switch (t) {\n+      case CARD_STAT_SCAN_RS:\n+        return &_card_stats_scan_rs;\n+      case CARD_STAT_UPDATE_REFS:\n+        return &_card_stats_update_refs;\n+      default:\n+        guarantee(false, \"No such CardStatLogType\");\n+    }\n+    return nullptr; \/\/ Quiet compiler\n+  }\n+\n@@ -908,0 +924,1 @@\n+  \/\/ Log stats related to card\/RS stats for given phase t\n@@ -910,1 +927,4 @@\n-  void log_card_stats(uint worker_id) PRODUCT_RETURN;\n+  \/\/ Log stats for given worker id related into given cumulative card\/RS stats\n+  void log_worker_card_stats(uint worker_id, HdrSeq* cum_stats) PRODUCT_RETURN;\n+  \/\/ Merge the stats from worked_id into the given summary stats, and clear the worker_id's stats.\n+  void merge_worker_card_stats_cumulative(HdrSeq* worker_stats, HdrSeq* cum_stats) PRODUCT_RETURN;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahScanRemembered.hpp","additions":21,"deletions":1,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -806,0 +806,1 @@\n+  HdrSeq* cum_stats = card_stats_for_phase(t);\n@@ -808,1 +809,1 @@\n-    log_card_stats(i);\n+    log_worker_card_stats(i, cum_stats);\n@@ -813,1 +814,1 @@\n-void ShenandoahScanRemembered<RememberedSet>::log_card_stats(uint worker_id) {\n+void ShenandoahScanRemembered<RememberedSet>::log_worker_card_stats(uint worker_id, HdrSeq* cum_stats) {\n@@ -815,0 +816,1 @@\n+  \n@@ -824,0 +826,1 @@\n+    merge_worker_card_stats_cumulative(worker_card_stats, cum_stats);\n@@ -826,0 +829,6 @@\n+\n+template<typename RememberedSet>\n+void ShenandoahScanRemembered<RememberedSet>::merge_worker_card_stats_cumulative(\n+  HdrSeq* worker_stats, HdrSeq* cum_stats) {\n+  guarantee(false, \"NYI\");\n+}\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahScanRemembered.inline.hpp","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"}]}