{"files":[{"patch":"@@ -769,1 +769,0 @@\n-      ShenandoahGeneration* young_gen = heap->young_generation();\n@@ -798,3 +797,7 @@\n-        \/\/ Arm nmethods\/stack for concurrent processing\n-        ShenandoahCodeRoots::arm_nmethods();\n-        ShenandoahStackWatermark::change_epoch_id();\n+        if (!heap->collection_set()->is_empty()) {\n+          \/\/ Iff objects will be evaluated, arm the nmethod barriers. These will be disarmed\n+          \/\/ under the same condition (established in preprare_concurrent_roots) after strong\n+          \/\/ root evacuation has completed (see op_strong_roots).\n+          ShenandoahCodeRoots::arm_nmethods();\n+          ShenandoahStackWatermark::change_epoch_id();\n+        }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahConcurrentGC.cpp","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"}]}