{"files":[{"patch":"@@ -72,1 +72,0 @@\n-  size_t lost_evacuation_capacity = 0;\n@@ -88,4 +87,3 @@\n-\n-    \/\/ It's probably overkill to compensate with lost_evacuation_capacity.  But it's the safe thing to do and\n-    \/\/  has minimal impact on content of primed collection set.\n-    if (r->get_live_data_bytes() + lost_evacuation_capacity <= remaining_old_evacuation_budget) {\n+    size_t lost_evacuation_capacity += r->free();\n+    size_t live_data_for_evacuation = r->get_live_data_bytes();\n+    if (live_data_for_evacuation + lost_evacuation_capacity <= remaining_old_evacuation_budget) {\n@@ -93,2 +91,1 @@\n-      lost_evacuation_capacity += r->free();\n-      remaining_old_evacuation_budget -= r->get_live_data_bytes();\n+      remaining_old_evacuation_budget -= (live_data_for_evacuation + lost_evacuation_capacity);\n@@ -97,1 +94,1 @@\n-      evacuated_old_bytes += r->get_live_data_bytes();\n+      evacuated_old_bytes += live_data_for_evacuation;y\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"}]}