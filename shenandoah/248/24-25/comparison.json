{"files":[{"patch":"@@ -276,1 +276,1 @@\n-  \/\/ Note that regular regions may be promoted in place with no garbage but also with very little live data.  When we \"compact\"\n+  \/\/ Some regular regions may have been promoted in place with no garbage but also with very little live data.  When we \"compact\"\n@@ -281,2 +281,2 @@\n-  \/\/ Any old-gen region that contains (ShenandoahOldGarbageThreshold (default value 25))% garbage or more is to\n-  \/\/ be evacuated.\n+  \/\/ Any old-gen region that contains (ShenandoahOldGarbageThreshold (default value 25)% garbage or more is to be\n+  \/\/ added to the list of candidates for subsequent mixed evacuations.\n@@ -300,3 +300,2 @@\n-    size_t region_garbage = candidates[i]._region->garbage();\n-    size_t unused = ShenandoahHeapRegion::region_size_bytes() - candidates[i]._u._live_data;\n-    if (unused < garbage_threshold) {\n+    size_t live = candidates[i]._u._live_data;\n+    if (live > live_threshold) {\n@@ -307,0 +306,2 @@\n+    size_t region_garbage = candidates[i]._region->garbage();\n+    size_t region_free = candidates[i]._region->free();\n@@ -308,1 +309,1 @@\n-    unfragmented += unused;\n+    unfragmented += region_free;\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/heuristics\/shenandoahOldHeuristics.cpp","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}