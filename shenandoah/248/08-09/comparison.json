{"files":[{"patch":"@@ -216,7 +216,6 @@\n-\t  \/\/ if (old_bootstrap_requested && (_requested_generation == OLD)), this starts the bootstrap GC that\n-\t  \/\/  immediately follows the preparatory young GC.\n-\t  \/\/ But we will abandon the planned bootstrap GC if a GLOBAL GC has been now been requested.\n-\t  generation = _requested_generation;\n-\t  old_bootstrap_requested = false;\n-\t}\n-\n+          \/\/ if (old_bootstrap_requested && (_requested_generation == OLD)), this starts the bootstrap GC that\n+          \/\/  immediately follows the preparatory young GC.\n+          \/\/ But we will abandon the planned bootstrap GC if a GLOBAL GC has been now been requested.\n+          generation = _requested_generation;\n+          old_bootstrap_requested = false;\n+        }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahControlThread.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -531,1 +531,1 @@\n-\tHeapWord* fill_addr = r->top();\n+        HeapWord* fill_addr = r->top();\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahFreeSet.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,0 +109,7 @@\n+\n+  \/\/ During initialization of the JVM, we search for the correct old-gen size by initally performing old-gen\n+  \/\/ collection when old-gen usage is 50% more (INITIAL_GROWTH_BEFORE_COMPACTION) than the initial old-gen size\n+  \/\/ estimate (3.125% of heap).  The next old-gen trigger occurs when old-gen grows 25% larger than its live\n+  \/\/ memory at the end of the first old-gen collection.  Then we trigger again when old-gen growns 12.5%\n+  \/\/ more than its live memory at the end of the previous old-gen collection.  Thereafter, we trigger each time\n+  \/\/ old-gen grows more than 12.5% following the end of its previous old-gen collection.\n@@ -112,1 +119,5 @@\n-  \/\/ First old-collection trigger is at 4.6875% of heap size: i.e. 50% grown beyond 3.125%\n+  \/\/ INITIAL_LIVE_FRACTION represents the initial guess of how large old-gen should be.  We estimate that old-gen\n+  \/\/ needs to consume 3.125% of the total heap size.  And we \"pretend\" that we start out with this amount of live\n+  \/\/ old-gen memory.  The first old-collection trigger will occur when old-gen occupies 50% more than this initial\n+  \/\/ approximation of the old-gen memory requirement, in other words when old-gen usage is 150% of 3.125%, which\n+  \/\/ is 4.6875% of the total heap size.\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahOldGeneration.hpp","additions":12,"deletions":1,"binary":false,"changes":13,"status":"modified"}]}