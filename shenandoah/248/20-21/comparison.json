{"files":[{"patch":"@@ -449,1 +449,7 @@\n-      generation_capacity += transferred_regions * ShenandoahHeapRegion::region_size_bytes();\n+      if (generation->is_old()) {\n+\t\/\/ Promoted-in-place regions are labeled as old, but generation->soft_max_capacity() has not yet been increased\n+\tgeneration_capacity += transferred_regions * ShenandoahHeapRegion::region_size_bytes();\n+      } else if (generation->is_young()) {\n+\t\/\/ Promoted-in-place regions are labeled as old, but generation->soft_max_capacity() has not yet been decreased\n+\tgeneration_capacity -= transferred_regions * ShenandoahHeapRegion::region_size_bytes();\n+      }\n@@ -462,1 +468,8 @@\n-      humongous_waste += promoted_waste;\n+      if (generation->is_old()) {\n+\t\/\/ Promoted-in-place regions are labeled as old, but generation->get_humongous_waste() has not yet been increased\n+\thumongous_waste += promoted_waste;\n+      } else if (generation->is_young()) {\n+\t\/\/ Promoted-in-place regions are labeled as old, but generation->get_humongous_waste() has not yet been decreased\n+\tassert(humongous_waste >= promoted_waste, \"Cannot promote in place more waste than exists in young\");\n+\thumongous_waste -= promoted_waste;\n+      }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahVerifier.cpp","additions":15,"deletions":2,"binary":false,"changes":17,"status":"modified"}]}