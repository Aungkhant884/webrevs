{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2015, Oracle and\/or its affiliates. All rights reserved.\n@@ -108,3 +108,1 @@\n-  this->record_stack_base_and_size();\n-  this->initialize_thread_local_storage();\n-  this->set_active_handles(JNIHandleBlock::allocate_block());\n+  initialize_in_thread();\n@@ -226,6 +224,0 @@\n-void ConcurrentMarkSweepThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"%s\\\" \", name());\n-  Thread::print_on(st);\n-  st->cr();\n-}\n-\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/concurrentMarkSweep\/concurrentMarkSweepThread.cpp","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -97,2 +97,0 @@\n-  void print_on(outputStream* st) const;\n-  void print() const                                  { print_on(tty); }\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/concurrentMarkSweep\/concurrentMarkSweepThread.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -61,0 +61,3 @@\n+\n+  \/\/ set name\n+  set_name(\"G1 Concurrent Refinement Thread#%d\", worker_id);\n@@ -250,9 +253,0 @@\n-void ConcurrentG1RefineThread::print() const {\n-  print_on(tty);\n-}\n-\n-void ConcurrentG1RefineThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"G1 Concurrent Refinement Thread#%d\\\" \", _worker_id);\n-  Thread::print_on(st);\n-  st->cr();\n-}\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/concurrentG1RefineThread.cpp","additions":3,"deletions":9,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -80,4 +80,0 @@\n-  \/\/ Printing\n-  void print() const;\n-  void print_on(outputStream* st) const;\n-\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/concurrentG1RefineThread.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -49,0 +49,2 @@\n+\n+  set_name(\"G1 Main Concurrent Mark GC Thread\");\n@@ -321,10 +323,0 @@\n-void ConcurrentMarkThread::print() const {\n-  print_on(tty);\n-}\n-\n-void ConcurrentMarkThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"G1 Main Concurrent Mark GC Thread\\\" \");\n-  Thread::print_on(st);\n-  st->cr();\n-}\n-\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/concurrentMarkThread.cpp","additions":2,"deletions":10,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -69,4 +69,0 @@\n-  \/\/ Printing\n-  void print_on(outputStream* st) const;\n-  void print() const;\n-\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/concurrentMarkThread.hpp","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -56,6 +56,0 @@\n-void G1StringDedupThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"%s\\\" \", name());\n-  Thread::print_on(st);\n-  st->cr();\n-}\n-\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/g1StringDedupThread.cpp","additions":0,"deletions":6,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -55,1 +55,0 @@\n-  virtual void print_on(outputStream* st) const;\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/g1\/g1StringDedupThread.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n- * Copyright (c) 2002, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2015, Oracle and\/or its affiliates. All rights reserved.\n@@ -92,6 +92,0 @@\n-void GCTaskThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"%s\\\" \", name());\n-  Thread::print_on(st);\n-  st->cr();\n-}\n-\n@@ -107,0 +101,1 @@\n+  this->initialize_named_thread();\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/parallelScavenge\/gcTaskThread.cpp","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -72,2 +72,0 @@\n-  void print_on(outputStream* st) const;\n-  void print() const                                { print_on(tty); }\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/parallelScavenge\/gcTaskThread.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2015, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,0 +58,1 @@\n+  this->initialize_named_thread();\n","filename":"hotspot\/src\/share\/vm\/gc_implementation\/shared\/concurrentGCThread.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1234,0 +1234,11 @@\n+void NamedThread::initialize_named_thread() {\n+  set_native_thread_name(name());\n+}\n+\n+void NamedThread::print_on(outputStream* st) const {\n+  st->print(\"\\\"%s\\\" \", name());\n+  Thread::print_on(st);\n+  st->cr();\n+}\n+\n+\n","filename":"hotspot\/src\/share\/vm\/runtime\/thread.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -573,1 +573,1 @@\n-  void print_on(outputStream* st) const;\n+  virtual void print_on(outputStream* st) const;\n@@ -712,0 +712,1 @@\n+  void initialize_named_thread();\n@@ -716,0 +717,1 @@\n+  virtual void print_on(outputStream* st) const;\n@@ -760,1 +762,0 @@\n-  void print() const { print_on(tty); }\n@@ -1467,1 +1468,0 @@\n-  void print() const { print_on(tty); }\n","filename":"hotspot\/src\/share\/vm\/runtime\/thread.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -257,1 +257,1 @@\n-  this->set_native_thread_name(this->name());\n+  this->initialize_named_thread();\n@@ -358,6 +358,0 @@\n-void VMThread::print_on(outputStream* st) const {\n-  st->print(\"\\\"%s\\\" \", name());\n-  Thread::print_on(st);\n-  st->cr();\n-}\n-\n","filename":"hotspot\/src\/share\/vm\/runtime\/vmThread.cpp","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -134,3 +134,0 @@\n-  \/\/ Debugging\n-  void print_on(outputStream* st) const;\n-  void print() const                              { print_on(tty); }\n","filename":"hotspot\/src\/share\/vm\/runtime\/vmThread.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2015, Oracle and\/or its affiliates. All rights reserved.\n@@ -248,0 +248,1 @@\n+  this->initialize_named_thread();\n","filename":"hotspot\/src\/share\/vm\/utilities\/workgroup.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}