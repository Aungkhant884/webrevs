{"files":[{"patch":"@@ -189,1 +189,1 @@\n-    \/\/ but it's not in the 10.9 SDK.  So, call it via objc_msgSend_stret.\n+    \/\/ but it's not in the 10.9 SDK.  So, call it via NSInvocation.\n@@ -191,3 +191,7 @@\n-        OSVerStruct (*procInfoFn)(id rec, SEL sel) = (OSVerStruct(*)(id, SEL))objc_msgSend_stret;\n-        OSVerStruct osVer = procInfoFn([NSProcessInfo processInfo],\n-                                       @selector(operatingSystemVersion));\n+        OSVerStruct osVer;\n+        NSMethodSignature *sig = [[NSProcessInfo processInfo] methodSignatureForSelector:\n+                @selector(operatingSystemVersion)];\n+        NSInvocation *invoke = [NSInvocation invocationWithMethodSignature:sig];\n+        invoke.selector = @selector(operatingSystemVersion);\n+        [invoke invokeWithTarget:[NSProcessInfo processInfo]];\n+        [invoke getReturnValue:&osVer];\n","filename":"jdk\/src\/solaris\/native\/java\/lang\/java_props_macosx.c","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"}]}