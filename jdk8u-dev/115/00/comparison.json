{"files":[{"patch":"@@ -29,0 +29,5 @@\n+import java.nio.file.FileVisitResult;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.SimpleFileVisitor;\n+import java.nio.file.attribute.BasicFileAttributes;\n@@ -63,2 +68,2 @@\n-        if (dbdirFile.exists() == false) {\n-            dbdirFile.mkdir();\n+        if (dbdirFile.exists()) {\n+            deleteDir(dbdirFile.toPath());\n@@ -66,0 +71,1 @@\n+        dbdirFile.mkdir();\n@@ -93,0 +99,19 @@\n+    private static void deleteDir(final Path directory) throws IOException {\n+        Files.walkFileTree(directory, new SimpleFileVisitor<Path>() {\n+\n+            @Override\n+            public FileVisitResult visitFile(Path file,\n+                    BasicFileAttributes attrs) throws IOException {\n+                Files.delete(file);\n+                return FileVisitResult.CONTINUE;\n+            }\n+\n+            @Override\n+            public FileVisitResult postVisitDirectory(Path dir, IOException exc)\n+                    throws IOException {\n+                Files.delete(dir);\n+                return FileVisitResult.CONTINUE;\n+            }\n+        });\n+    }\n+\n","filename":"jdk\/test\/sun\/security\/pkcs11\/SecmodTest.java","additions":27,"deletions":2,"binary":false,"changes":29,"status":"modified"}]}