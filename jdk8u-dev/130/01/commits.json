[{"commit":{"message":"8253714: [cgroups v2] Soft memory limit incorrectly using memory.high\n\nThe early implementation of cgroups v2 support was done with\ncrun 0.8 and it contained a bug which set memory.high over\nmemory.low when --memory-reservation was being used as a CLI\noption.\n\nThis bug has been fixed in later crun versions, starting with\ncrun 0.11. Use memory.low in OpenJDK as well.\n\nBackport-of: ff6843ca4842498791061f924c545fa9469cc1dc"},"files":[{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV2Subsystem_linux.cpp"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv2\/CgroupV2Subsystem.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTesterCgroupV2.java"}],"sha":"f1344e0ecd76b0dddddb55386b75454093e14b62"},{"commit":{"message":"8237479: 8230305 causes slowdebug build failure\n\nDeclare methods as pure virtual.\n\nBackport-of: 4ca06995855b5c974321d7b3622d661b8d27ba76"},"files":[{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.hpp"}],"sha":"ce82cd311b834e7cb02391fb91ce9a5889d75b13"},{"commit":{"message":"substitute os::strerror for strerror\n\nos::strerror was introduced in 8148425 (strerror() function is not\nthread-safe), which is probably out of scope for backporting (at least\nas part of this cgroups v2 effort). Replace uses of os::strerror with\n(thread unsafe) strerror, in common with the rest of JDK8u."},"files":[{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.hpp"}],"sha":"d217ab9db1f9f06ed76b0a82c47abfee81aee2a5"},{"commit":{"message":"Rework use of newer logging API to tty->print_cr\n\nRemove includes of log.hpp that doesn't exist in jdk8u\n\nlog_(debug|trace) to tty->print_cr guarded by PrintContainerInfo"},"files":[{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.hpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV1Subsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV2Subsystem_linux.cpp"}],"sha":"ed53156179f8493dadaa4e29fd40cd2352978cda"},{"commit":{"message":"8230305: Cgroups v2: Container awareness\n\nImplement Cgroups v2 container awareness in hotspot\n\nReviewed-by: bobv, dholmes"},"files":[{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupSubsystem_linux.hpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV1Subsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV1Subsystem_linux.hpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV2Subsystem_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/cgroupV2Subsystem_linux.hpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/osContainer_linux.cpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/osContainer_linux.hpp"},{"filename":"hotspot\/src\/os\/linux\/vm\/os_linux.hpp"},{"filename":"hotspot\/test\/runtime\/containers\/docker\/TestCPUAwareness.java"}],"sha":"6b7efcf20f48fa96dfed8ea351046c386b9a334d"},{"commit":{"message":"TestCgroupSubsystemController: rework use of Files.writeString"},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/cgroup\/TestCgroupSubsystemController.java"}],"sha":"0ea3c608f3150e76e9307d6bd9c0d5245aade765"},{"commit":{"message":"CgroupSubsystemController: fix library paths\n\nWe need the testlibrary copy of FileUtils but the test.lib.util copy of\nUtils (method createTempDirectory is missing from the testlib copy)"},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/cgroup\/TestCgroupSubsystemController.java"}],"sha":"f7700c7db775c627430494283f266f015e7d3182"},{"commit":{"message":"TestCgroupSubsystemController: fix jtreg @library path"},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/cgroup\/TestCgroupSubsystemController.java"}],"sha":"42b133e4d7cf4ea0ff165dfebd0dac3e9d7f7bab"},{"commit":{"message":"Replace Arrays.compare with Arrays.equals\n\njdk8u does not have Arrays.compare()"},"files":[{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTesterCgroupV1.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTesterCgroupV2.java"}],"sha":"c8018b7de73427f5db2566caaffadaf15e6e02d2"},{"commit":{"message":"incorporate (part of) 8275713: TestDockerMemoryMetrics test fails on recent runc\n\nThe main hunk from 8275713 was rolled up in the changes for 8231111.\nThis line is also necessary."},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/MetricsMemoryTester.java"}],"sha":"9703ab3bf831d5c7789d5d1cad515679ca1d31c7"},{"commit":{"message":"update mapfile for new JNI method name"},"files":[{"filename":"jdk\/make\/lib\/CoreLibraries.gmk"},{"filename":"jdk\/make\/mapfiles\/libjava\/mapfile-linux"}],"sha":"d99896cd075bd2d72ee9be63755e84c606512e1f"},{"commit":{"message":"tests for the backport\n\ntwo files had fairly significant merge conflicts, eyeball only to resolve\n\nhaven't run any of them yet -- will depend on the rest of the patch"},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/cgroup\/TestCgroupMetrics.java"},{"filename":"jdk\/test\/jdk\/internal\/platform\/cgroup\/TestCgroupSubsystemController.java"},{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/MetricsCpuTester.java"},{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/MetricsMemoryTester.java"},{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/TestDockerCpuMetrics.java"},{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/TestDockerMemoryMetrics.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/CPUSetsReader.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/CgroupMetricsTester.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTester.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTesterCgroupV1.java"},{"filename":"jdk\/test\/lib\/jdk\/test\/lib\/containers\/cgroup\/MetricsTesterCgroupV2.java"}],"sha":"b8034adeb5fc3afcc1d1092e346f734f6438958c"},{"commit":{"message":"CgroupSubsystemFactory: remove logging lines\n\njdk8u doesn't have java.lang.System.Logger. There's no existing logging\nin place for other classes in the Metrics\/platform\/etc family that I can\nsee, so remove it."},"files":[{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupSubsystemFactory.java"}],"sha":"64a1de55572a975449255a7e99181e24fec471e1"},{"commit":{"message":"Metrics => CgroupV1Subsystem.java\n\nunshuffle, rename, resolve unclean hunks although I'm not sure why they\ndidn't apply, they look trivial and the context is the same, will look\ncloser"},"files":[{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/CgroupV1Subsystem.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/Metrics.java"}],"sha":"42786f69c7e0eb2bd0540e69d8fa382d113d8d5b"},{"commit":{"message":"Metrics.java: easy commit, mostly doc-only hunks"},"files":[{"filename":"jdk\/src\/share\/classes\/jdk\/internal\/platform\/Metrics.java"}],"sha":"a9357d3ef20a4afa5d4ad0fcbed1e7919f8636ad"},{"commit":{"message":"LauncherHelper: resolve conflicts\n\nconflicts in import lines, 11+ have module-related imports not\napplicable to 8u. Other hunks applied OK. No further inspection\nperformed yet."},"files":[{"filename":"jdk\/src\/share\/classes\/sun\/launcher\/LauncherHelper.java"}],"sha":"ddbd65b12f86841bf4ac765cf4ec2d3d9718d8d8"},{"commit":{"message":"OperatingSystemImpl.java - easy hunk"},"files":[{"filename":"jdk\/src\/solaris\/classes\/sun\/management\/OperatingSystemImpl.java"}],"sha":"007563d5b69b28883a2b16f9e52179099e40546a"},{"commit":{"message":"rename+patch JNI function"},"files":[{"filename":"jdk\/src\/linux\/native\/jdk\/internal\/platform\/cgroupv1\/CgroupMetrics.c"},{"filename":"jdk\/src\/linux\/native\/jdk\/internal\/platform\/cgroupv1\/Metrics.c"}],"sha":"08d17b013768a73a785f9abae1d2b1f5b97a9685"},{"commit":{"message":"step 1: files deleted by original commit\n\nrm {src\/java.base => jdk\/src}\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/SubSystem.java"},"files":[{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/SubSystem.java"}],"sha":"5521206084baa086e0e9f03bf809720c99d9966c"},{"commit":{"message":"step 0: new files\n\ncommit files newly introduced in 19f26f725fd (11u-dev backport of\n4def210a22faaec6b47912dd314e6365ea48d28f), with paths rewritten:\n\n  {src\/java.base => jdk\/src}\/linux\/classes\/jdk\/internal\/platform\n\nFiles not otherwise modified for 8u compatibility yet."},"files":[{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupInfo.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupMetrics.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupSubsystem.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupSubsystemController.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupSubsystemFactory.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupUtil.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupV1Metrics.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/CgroupV1MetricsImpl.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/CgroupV1MemorySubSystemController.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv1\/CgroupV1SubsystemController.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv2\/CgroupV2Subsystem.java"},{"filename":"jdk\/src\/linux\/classes\/jdk\/internal\/platform\/cgroupv2\/CgroupV2SubsystemController.java"}],"sha":"8ec4f62b3577848309f138e41c5ed2a106c81158"},{"commit":{"message":"8206456: [TESTBUG] docker jtreg tests fail on systems without cpuset.effective_cpus \/ cpuset.effective_mem\n\nReviewed-by: mbaesken, mchung"},"files":[{"filename":"jdk\/test\/jdk\/internal\/platform\/docker\/MetricsCpuTester.java"}],"sha":"91dc4a09994f68e01d8f42bb8b399ba2666d0750"}]