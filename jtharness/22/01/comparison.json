{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.util.OptionalLong;\n@@ -44,1 +45,1 @@\n-    private long localFileLastModified;\n+    private OptionalLong localFileLastModified = OptionalLong.empty();\n@@ -46,1 +47,1 @@\n-    private long remoteURLLastModified;\n+    private OptionalLong remoteURLLastModified = OptionalLong.empty();\n@@ -81,2 +82,2 @@\n-        if (localFileLastModified == 0) {\n-            localFileLastModified = localFile.lastModified();\n+        if (localFileLastModified.isEmpty()) {\n+            localFileLastModified = OptionalLong.of(localFile.lastModified());\n@@ -84,1 +85,1 @@\n-        return localFileLastModified;\n+        return localFileLastModified.getAsLong();\n@@ -105,1 +106,1 @@\n-        if (remoteURLLastModified == 0) {\n+        if (remoteURLLastModified.isEmpty()) {\n@@ -108,1 +109,1 @@\n-            remoteURLLastModified = c.getLastModified();\n+            remoteURLLastModified = OptionalLong.of(c.getLastModified());\n@@ -111,1 +112,1 @@\n-        return remoteURLLastModified;\n+        return remoteURLLastModified.getAsLong();\n@@ -127,1 +128,1 @@\n-        return remoteURLLastModified > localFileLastModified;\n+        return remoteURLLastModified.getAsLong() > localFileLastModified.getAsLong();\n@@ -149,1 +150,2 @@\n-        remoteURLLastModified = c.getLastModified();\n+        long remoteURLLastModified = c.getLastModified();\n+        this.remoteURLLastModified = OptionalLong.of(remoteURLLastModified);\n","filename":"src\/com\/sun\/javatest\/ExcludeListUpdateHandler.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -50,0 +50,1 @@\n+import java.util.OptionalLong;\n@@ -103,1 +104,1 @@\n-    private long currFileLastModified;\n+    private OptionalLong currFileLastModified = OptionalLong.empty();\n@@ -1129,1 +1130,1 @@\n-            currFileLastModified = f.lastModified();\n+            currFileLastModified = OptionalLong.of(f.lastModified());\n@@ -1132,1 +1133,1 @@\n-            currFileLastModified = 0;\n+            currFileLastModified = OptionalLong.empty();\n@@ -1212,1 +1213,1 @@\n-        currFileLastModified = file.lastModified();\n+        currFileLastModified = OptionalLong.of(file.lastModified());\n@@ -1446,1 +1447,1 @@\n-        currFileLastModified = file.lastModified();\n+        currFileLastModified = OptionalLong.of(file.lastModified());\n@@ -1618,2 +1619,2 @@\n-        return f != null && f.exists() && ((currFileLastModified == 0)\n-                || (f.lastModified() > currFileLastModified));\n+        return f != null && f.exists() && (currFileLastModified.isEmpty()\n+                || (f.lastModified() > currFileLastModified.getAsLong()));\n","filename":"src\/com\/sun\/javatest\/InterviewParameters.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import java.util.OptionalLong;\n@@ -66,1 +67,1 @@\n-    private long lastScanDate;\n+    private OptionalLong lastScanDate = OptionalLong.empty();\n@@ -280,1 +281,1 @@\n-        return lastScanDate != 0;\n+        return lastScanDate.isPresent();\n@@ -778,1 +779,1 @@\n-            lastScanDate = table.getLastModifiedTime(thisDir);\n+            lastScanDate = OptionalLong.of(table.getLastModifiedTime(thisDir));\n@@ -793,1 +794,1 @@\n-        if (lmd <= lastScanDate) {\n+        if (lastScanDate.isEmpty() || lmd <= lastScanDate.getAsLong()) {\n@@ -816,1 +817,1 @@\n-        lastScanDate = lmd;\n+        lastScanDate = OptionalLong.of(lmd);\n@@ -895,1 +896,1 @@\n-                (table != null && table.isFinderScanSuppressed() && lastScanDate == 0)) {\n+                (table != null && table.isFinderScanSuppressed() && !isUpToDate())) {\n@@ -906,1 +907,1 @@\n-            if (thisScanDate <= lastScanDate) {\n+            if (lastScanDate.isEmpty() || thisScanDate <= lastScanDate.getAsLong()) {\n@@ -921,1 +922,1 @@\n-            long cachedScanDate = lastScanDate;\n+            OptionalLong cachedScanDate = lastScanDate;\n@@ -924,1 +925,1 @@\n-            lastScanDate = thisScanDate;\n+            lastScanDate = OptionalLong.of(thisScanDate);\n@@ -934,1 +935,1 @@\n-                    if (table.getLastModifiedTime(file) > cachedScanDate) {\n+                    if (cachedScanDate.isEmpty() || table.getLastModifiedTime(file) > cachedScanDate.getAsLong()) {\n@@ -1187,1 +1188,2 @@\n-        if (table.getLastModifiedTime(fileToScan) > lastScanDate ||\n+        if (lastScanDate.isEmpty() ||\n+                table.getLastModifiedTime(fileToScan) > lastScanDate.getAsLong() ||\n","filename":"src\/com\/sun\/javatest\/TRT_TreeNode.java","additions":13,"deletions":11,"binary":false,"changes":24,"status":"modified"}]}