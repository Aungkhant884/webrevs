{"files":[{"patch":"@@ -26,1 +26,1 @@\n-<project name=\"jtharness\" default=\"build\" basedir=\"..\">\n+<project name=\"jtharness\" default=\"build\" basedir=\"..\" xmlns:if=\"ant:if\" xmlns:unless=\"ant:unless\">\n@@ -244,1 +244,1 @@\n-    <target name=\"jar\" depends=\"jar.check,stamp\" unless=\"javatest.jar.ok\" description=\"Build JAR.\">\n+    <target name=\"jar\" depends=\"jar.check,stamp, generate.release.file\" unless=\"javatest.jar.ok\" description=\"Build JAR.\">\n@@ -259,0 +259,17 @@\n+    <target name=\"generate.release.file\">\n+        <tstamp>\n+            <format property=\"BUILD_DATE\" pattern=\"MMM dd, YYYY\" locale=\"en,GB\"\/>\n+        <\/tstamp>\n+        <available file=\"git\" type=\"file\" filepath=\"${env.PATH}\" property=\"GIT_FOUND\"\/>\n+        <exec if:set=\"GIT_FOUND\" executable=\"git\"\n+              failonerror=\"false\"\n+              failifexecutionfails=\"false\"\n+              outputproperty=\"BUILT_FROM_COMMIT\">\n+            <arg line=\"log -1 --format=%H\"\/>\n+        <\/exec>\n+        <echo unless:set=\"GIT_FOUND\">'git' command not found on the system path, unable to identify latest commit ID<\/echo>\n+        <echo file=\"${BUILD_DIR}\/binaries\/release\">JTHARNESS_VERSION=${build.version} ${build.number}${line.separator}<\/echo>\n+        <echo append=\"true\" file=\"${BUILD_DIR}\/binaries\/release\">BUILD_DATE=${BUILD_DATE}${line.separator}<\/echo>\n+        <echo if:set=\"BUILT_FROM_COMMIT\" append=\"true\" file=\"${BUILD_DIR}\/binaries\/release\">SOURCE=jtharness:${BUILT_FROM_COMMIT}${line.separator}<\/echo>\n+    <\/target>\n+\n","filename":"build\/build.xml","additions":19,"deletions":2,"binary":false,"changes":21,"status":"modified"}]}