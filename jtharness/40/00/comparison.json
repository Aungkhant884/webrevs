{"files":[{"patch":"@@ -61,0 +61,1 @@\n+import java.util.concurrent.ConcurrentHashMap;\n@@ -97,1 +98,0 @@\n-    static Map<String, WorkDirLogHandler> handlersMap = new HashMap<>();\n@@ -1482,0 +1482,1 @@\n+        private static final Map<String, WorkDirLogHandler> handlersMap = new ConcurrentHashMap<>();\n@@ -1489,6 +1490,5 @@\n-                if (!handlersMap.containsKey(wd.getLogFileName())) {\n-                    WorkDirLogHandler wdlh = new WorkDirLogHandler(ts.getObservedFile(wd));\n-                    handlersMap.put(wd.getLogFileName(), wdlh);\n-                }\n-\n-                addHandler(handlersMap.get(wd.getLogFileName()));\n+                addHandler(\n+                        handlersMap.computeIfAbsent(\n+                                wd.getLogFileName(), fileName -> new WorkDirLogHandler(ts.getObservedFile(wd))\n+                        )\n+                );\n","filename":"src\/com\/sun\/javatest\/TestSuite.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"}]}