{"files":[{"patch":"@@ -29,1 +29,1 @@\n-<project name=\"jt_gui_test\" default=\"init\" xmlns:ivy=\"antlib:org.apache.ivy.ant\">\n+<project name=\"jt_gui_test\" default=\"init\">\n@@ -136,1 +136,1 @@\n-\t<target name=\"create\" unless=\"jt_gui_test.ignore_init\">\n+\t<target name=\"create\" depends=\"replace\" unless=\"jt_gui_test.ignore_init\">\n@@ -143,1 +143,1 @@\n-\n+\t\t<loadfile property=\"message\" srcFile=\"src\/local.properties\" \/>\n@@ -154,0 +154,8 @@\n+\t<target name=\"replace\">\n+\t\t<replace file=\"src\/local.properties\" token=\"javatest_jar\" value=\"javatest.jar\"\/>\n+\t\t<replace file=\"src\/local.properties\" token=\"jemmy_jar\" value=\"jemmy.jar\"\/>\n+\t\t<replace file=\"src\/local.properties\" token=\"junit_jar\" value=\"junit.jar\"\/>\n+\t\t<replace file=\"src\/local.properties\" token=\"hamcrest_jar\" value=\"hamcrest.jar\"\/>\n+\t\t<replace file=\"src\/local.properties\" token=\"jh_jar\" value=\"jh.jar\"\/>\n+\t<\/target>\n+\n","filename":"jt_gui_tests\/src\/gui-test.xml","additions":11,"deletions":3,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-\/\/\tthrow new UnsupportedOperationException(\"Not yet implemented\");\n+    \/\/throw new UnsupportedOperationException(\"Not yet implemented\");\n@@ -45,145 +45,145 @@\n-\tpublic enum AuditTabs {Summary, BadResultFile, BadChecksum, BadDescription, BadTestClasses}; \n-\tprivate AuditTabs openedTab;\n-\tprivate JFrameOperator mainFrame; \n-\tprivate boolean isOptionsOpened; \n-\t\n-\tpublic static class AuditOptions {\n-\t    JDialogOperator dialog; \n-\t    \n-\t    public AuditOptions(JDialogOperator dialog) {\n-\t\tthis.dialog = dialog;\n-\t    }\n-\t    public AuditOptions(AuditTool audit) {\n-\t\tnew JMenuOperator(audit.getFrame(), \"Audit\").pushMenu(new String[] {\"Audit\", \"Options\"});\n-\t\tdialog = findDialog();\n-\t    }\n-\t    public AuditOptions() {\n-\t\tdialog = findDialog();\n-\t    }\n-\t    \n-\t    public void setTestsuite(String testsuite) {\n-\/\/\t\tgetComboBox(dialog, \"Test Suite:\").getTextField().typeText(testsuite);\n-\t\tgetComboBox(dialog, \"Test Suite:\").typeText(testsuite);\n-\t    }\n-\t    public void setWorkdir(String workdir) {\n-\t\tgetComboBox(dialog, \"Work Directory:\").typeText(workdir);\/\/getTextField().typeText(workdir);\n-\t    }\n-\t    public void setConfigFile(String config) {\n-\t\tgetComboBox(dialog, \"Configuration File:\").typeText(config);\/\/getTextField().typeText(config);\n-\t    }\n-\n-\t    public void pushStartAudit() {\n-\t\t\n-\t\tnew JButtonOperator(dialog, \"Start Audit\").getFocus();\n-\t\tnew JButtonOperator(dialog, \"Start Audit\").push(); \n-\t    }\n-\t    public void pushCancel() {\n-\t\tnew JButtonOperator(dialog, \"Cancel\").push(); \n-\t    }\n-\t    public void pushHelp() {\n-\t\tnew JButtonOperator(dialog, \"Help\").push(); \n-\t    }\n-\t    \n-\t    public JDialogOperator getDialog() {\n-\t\treturn dialog;\n-\t    }\n-\t    public static JDialogOperator findDialog() {\n-\t\treturn new JDialogOperator(\"Audit Test Results: Options\");\n-\t    }\n-\t}\n-\t\n-\tpublic static void openAuditTool(JFrameOperator mainFrame) {\n-\t    new JMenuOperator(mainFrame, \"Tools\").pushMenu(new String[] {\"Tools\", \"Test Results Auditor\"});\n-\t}\n-\n-\tpublic static void waitForLoading(AuditTool tool) throws InterruptedException {\n-\t    int t = 0; \n-\t    while(tool.getSummary().contains(\"<p style=\\\"margin-top: 0\\\">\")) {\n-\t\tThread.sleep(100);\n-\t\tt+=100;\n-\t\tif(t > 60000)\n-\t\t    throw new InterruptedException();\n-\t    }\n-\t}\n-\t\n-\tpublic AuditTool(JFrameOperator mainFrame) {\n-\t    this.mainFrame = mainFrame;\n-\t    openAuditTool(mainFrame);\n-\t    isOptionsOpened = true;\n-\t}\n-\t\n-\t\/\/ testsuite and config can be null\n-\tpublic AuditTool(JFrameOperator mainFrame, String testsuite, String workdir, String config) {\n-\t    this.mainFrame = mainFrame;\n-\t    openAuditTool(mainFrame);\n-\t    AuditOptions options = new AuditOptions();\n-\t    options.setConfigFile(config);\n-\t    options.setTestsuite(testsuite);\n-\t    options.setWorkdir(workdir);\n-\t    options.pushStartAudit();\n-\t    openedTab = AuditTabs.Summary;\n-\t    isOptionsOpened = false;\n-\t}\n-\t\n-\tpublic JFrameOperator getFrame() {\n-\t    return mainFrame; \n-\t}\n-\t\n-\tpublic AuditOptions openOptions() {\n-\t    return new AuditOptions(this);\n-\t}\n-\t\n-\tpublic void setOptions(String testsuite, String workdir, String config) {\n-\t    AuditOptions newOptinos;\n-\t    if(!isOptionsOpened) { \n-\t\tnewOptinos = openOptions();\n-\t    } else {\n-\t\tnewOptinos = new AuditOptions();\n-\t    }\n-\n-\t    newOptinos.setConfigFile(config);\n-\t    newOptinos.setTestsuite(testsuite);\n-\t    newOptinos.setWorkdir(workdir);\n-\t}\n-\t\n-\tpublic String getSummary() {\n-\t    if(openedTab != AuditTabs.Summary) {\n-\t\topenTab(AuditTabs.Summary);\n-\t    }\n-\t    return new JEditorPaneOperator(mainFrame, new NameComponentChooser(\"smry.html\")).getText();\n-\t}\n-\t\n-\tpublic String getBadResultFile() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getBadChecksum() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getBadDescription() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getBadTestClasses() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getUsedTestSuite() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getUsedWorkDirectory() {\n-\t    return null;\n-\t}\n-\t\n-\tpublic String getUsedConfigFile() {\n-\t    return null;\n-\t}\n-\t\n-\tprivate void openTab(AuditTabs tab) {\n-\t}\n-\t\n-\tpublic AuditOptions findAuditOptions() {\n-\t    return new AuditOptions();\n-\t}\n+    public enum AuditTabs {Summary, BadResultFile, BadChecksum, BadDescription, BadTestClasses};\n+    private AuditTabs openedTab;\n+    private JFrameOperator mainFrame;\n+    private boolean isOptionsOpened;\n+\n+    public static class AuditOptions {\n+        JDialogOperator dialog;\n+\n+        public AuditOptions(JDialogOperator dialog) {\n+        this.dialog = dialog;\n+        }\n+        public AuditOptions(AuditTool audit) {\n+        new JMenuOperator(audit.getFrame(), \"Audit\").pushMenu(new String[] {\"Audit\", \"Options\"});\n+        dialog = findDialog();\n+        }\n+        public AuditOptions() {\n+        dialog = findDialog();\n+        }\n+\n+        public void setTestsuite(String testsuite) {\n+\/\/      getComboBox(dialog, \"Test Suite:\").getTextField().typeText(testsuite);\n+        getComboBox(dialog, \"Test Suite:\").typeText(testsuite);\n+        }\n+        public void setWorkdir(String workdir) {\n+        getComboBox(dialog, \"Work Directory:\").typeText(workdir);\/\/getTextField().typeText(workdir);\n+        }\n+        public void setConfigFile(String config) {\n+        getComboBox(dialog, \"Configuration File:\").typeText(config);\/\/getTextField().typeText(config);\n+        }\n+\n+        public void pushStartAudit() {\n+\n+        new JButtonOperator(dialog, \"Start Audit\").getFocus();\n+        new JButtonOperator(dialog, \"Start Audit\").push();\n+        }\n+        public void pushCancel() {\n+        new JButtonOperator(dialog, \"Cancel\").push();\n+        }\n+        public void pushHelp() {\n+        new JButtonOperator(dialog, \"Help\").push();\n+        }\n+\n+        public JDialogOperator getDialog() {\n+        return dialog;\n+        }\n+        public static JDialogOperator findDialog() {\n+        return new JDialogOperator(\"Audit Test Results: Options\");\n+        }\n+    }\n+\n+    public static void openAuditTool(JFrameOperator mainFrame) {\n+        new JMenuOperator(mainFrame, \"Tools\").pushMenu(new String[] {\"Tools\", \"Test Results Auditor\"});\n+    }\n+\n+    public static void waitForLoading(AuditTool tool) throws InterruptedException {\n+        int t = 0;\n+        while(tool.getSummary().contains(\"<p style=\\\"margin-top: 0\\\">\")) {\n+        Thread.sleep(100);\n+        t+=100;\n+        if(t > 60000)\n+            throw new InterruptedException();\n+        }\n+    }\n+\n+    public AuditTool(JFrameOperator mainFrame) {\n+        this.mainFrame = mainFrame;\n+        openAuditTool(mainFrame);\n+        isOptionsOpened = true;\n+    }\n+\n+    \/\/ testsuite and config can be null\n+    public AuditTool(JFrameOperator mainFrame, String testsuite, String workdir, String config) {\n+        this.mainFrame = mainFrame;\n+        openAuditTool(mainFrame);\n+        AuditOptions options = new AuditOptions();\n+        options.setConfigFile(config);\n+        options.setTestsuite(testsuite);\n+        options.setWorkdir(workdir);\n+        options.pushStartAudit();\n+        openedTab = AuditTabs.Summary;\n+        isOptionsOpened = false;\n+    }\n+\n+    public JFrameOperator getFrame() {\n+        return mainFrame;\n+    }\n+\n+    public AuditOptions openOptions() {\n+        return new AuditOptions(this);\n+    }\n+\n+    public void setOptions(String testsuite, String workdir, String config) {\n+        AuditOptions newOptinos;\n+        if(!isOptionsOpened) {\n+        newOptinos = openOptions();\n+        } else {\n+        newOptinos = new AuditOptions();\n+        }\n+\n+        newOptinos.setConfigFile(config);\n+        newOptinos.setTestsuite(testsuite);\n+        newOptinos.setWorkdir(workdir);\n+    }\n+\n+    public String getSummary() {\n+        if(openedTab != AuditTabs.Summary) {\n+        openTab(AuditTabs.Summary);\n+        }\n+        return new JEditorPaneOperator(mainFrame, new NameComponentChooser(\"smry.html\")).getText();\n+    }\n+\n+    public String getBadResultFile() {\n+        return null;\n+    }\n+\n+    public String getBadChecksum() {\n+        return null;\n+    }\n+\n+    public String getBadDescription() {\n+        return null;\n+    }\n+\n+    public String getBadTestClasses() {\n+        return null;\n+    }\n+\n+    public String getUsedTestSuite() {\n+        return null;\n+    }\n+\n+    public String getUsedWorkDirectory() {\n+        return null;\n+    }\n+\n+    public String getUsedConfigFile() {\n+        return null;\n+    }\n+\n+    private void openTab(AuditTabs tab) {\n+    }\n+\n+    public AuditOptions findAuditOptions() {\n+        return new AuditOptions();\n+    }\n","filename":"jt_gui_tests\/src\/gui\/src\/jthtest\/Audit\/Audit.java","additions":146,"deletions":146,"binary":false,"changes":292,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-jhalljar = .\/src\/lib\/jh.jar\n+jhalljar = .\/src\/lib\/jh_jar\n@@ -32,1 +32,1 @@\n-jhjar = .\/src\/lib\/jh.jar\n+jhjar = .\/src\/lib\/jh_jar\n@@ -37,2 +37,2 @@\n-hamcrestlib=.\/src\/lib\/hamcrest.jar\n-junitlib = .\/src\/lib\/junit.jar\n+hamcrestlib=.\/src\/lib\/hamcrest_jar\n+junitlib = .\/src\/lib\/junit_jar\n@@ -42,1 +42,1 @@\n-jemmylib = .\/src\/lib\/jemmy.jar\n+jemmylib = .\/src\/lib\/jemmy_jar\n@@ -47,1 +47,1 @@\n-javatestjar_path = .\/javatest.jar\n+javatestjar_path = .\/javatest_jar\n","filename":"jt_gui_tests\/src\/local.properties","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"}]}