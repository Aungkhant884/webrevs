{"files":[{"patch":"@@ -124,1 +124,5 @@\n-    CFLAGS_DEBUG_SYMBOLS=\"-g1\"\n+    if test \"x$XLC_USES_CLANG\" = xtrue; then\n+      CFLAGS_DEBUG_SYMBOLS=\"-g1\"\n+    else\n+      CFLAGS_DEBUG_SYMBOLS=\"-g\"\n+    fi\n","filename":"make\/autoconf\/flags-cflags.m4","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -291,2 +291,1 @@\n-    else\n-      AC_MSG_ERROR([xlclang++ version output check failed, output: $XLCLANG_VERSION_OUTPUT])\n+      XLC_USES_CLANG=true\n@@ -300,1 +299,1 @@\n-  TOOLCHAIN_CC_BINARY_xlc=\"xlclang\"\n+  TOOLCHAIN_CC_BINARY_xlc=\"xlc_r\"\n@@ -306,1 +305,9 @@\n-  TOOLCHAIN_CXX_BINARY_xlc=\"xlclang++\"\n+  TOOLCHAIN_CXX_BINARY_xlc=\"xlC_r\"\n+\n+  if test \"x$OPENJDK_TARGET_OS\" = xaix; then\n+    if test \"x$XLC_USES_CLANG\" = xtrue; then\n+      AC_MSG_NOTICE([xlclang++ detected, using it])\n+      TOOLCHAIN_CC_BINARY_xlc=\"xlclang\"\n+      TOOLCHAIN_CXX_BINARY_xlc=\"xlclang++\"\n+    fi\n+  fi\n","filename":"make\/autoconf\/toolchain.m4","additions":11,"deletions":4,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -521,1 +521,1 @@\n-  trcVerbose(\"Can use 64K pages dynamically with shared memory: %s\",\n+  trcVerbose(\"Can use 64K pages dynamically with shared meory: %s\",\n@@ -1436,1 +1436,1 @@\n-  st->print_cr(\"  Can use 64K pages dynamically with shared memory:  %s\",\n+  st->print_cr(\"  Can use 64K pages dynamically with shared meory:  %s\",\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -170,1 +170,4 @@\n-private:\n+  \/\/ xlC on AIX can't compile test_oopStorage.cpp with following private\n+  \/\/ classes. C++03 introduced access for nested classes with DR45, but xlC\n+  \/\/ version 12 rejects it.\n+NOT_AIX( private: )\n@@ -209,0 +212,1 @@\n+\n","filename":"src\/hotspot\/share\/gc\/shared\/oopStorage.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -223,0 +223,3 @@\n+#ifdef __IBMCPP__\n+ public:\n+#endif\n","filename":"src\/hotspot\/share\/memory\/allocation.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -54,13 +54,0 @@\n-\/\/ check for xlc16 or higher\n-#ifdef __ibmxl_version__\n-  #if __ibmxl_version__ < 16\n-  #error \"xlc < 16 not supported\"\n-  #endif\n-#else\n-  #error \"xlc < 16 not supported, macro __ibmxl_version__ not found\"\n-#endif\n-\n-#ifndef _AIX\n-#error \"missing AIX-specific definition _AIX\"\n-#endif\n-\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions_xlc.hpp","additions":0,"deletions":13,"binary":false,"changes":13,"status":"modified"}]}