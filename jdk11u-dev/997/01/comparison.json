{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2013 SAP SE. All rights reserved.\n+ * Copyright (c) 2012, 2019 SAP SE. All rights reserved.\n@@ -37,0 +37,6 @@\n+\/\/ distinguish old xlc and xlclang++, where\n+\/\/ <ibmdemangle.h> is suggested but not found in GA release (might come with a fix)\n+#if defined(__clang__)\n+#define DISABLE_DEMANGLE\n+\/\/ #include <ibmdemangle.h>\n+#else\n@@ -38,0 +44,2 @@\n+#endif\n+\n@@ -240,0 +248,1 @@\n+#ifndef DISABLE_DEMANGLE\n@@ -252,0 +261,1 @@\n+#endif\n","filename":"src\/hotspot\/os\/aix\/porting_aix.cpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-#if !defined(USE_XLC_PREFETCH_WRITE_BUILTIN)\n+#if !defined(USE_XLC_BUILTINS)\n","filename":"src\/hotspot\/os_cpu\/aix_ppc\/prefetch_aix_ppc.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3907,1 +3907,1 @@\n-  UNSUPPORTED_OPTION(AllocateHeapAt);\n+  UNSUPPORTED_OPTION_NULL(AllocateHeapAt);\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -668,1 +668,13 @@\n-#endif \/\/ SHARE_VM_RUNTIME_ARGUMENTS_HPP\n+\/\/ similar to UNSUPPORTED_OPTION but sets flag to NULL\n+#define UNSUPPORTED_OPTION_NULL(opt)                     \\\n+do {                                                     \\\n+  if (opt) {                                             \\\n+    if (FLAG_IS_CMDLINE(opt)) {                          \\\n+      warning(\"-XX flag \" #opt \" not supported in this VM\"); \\\n+    }                                                    \\\n+    FLAG_SET_DEFAULT(opt, NULL);                         \\\n+  }                                                      \\\n+} while(0)\n+\n+\n+#endif \/\/ SHARE_RUNTIME_ARGUMENTS_HPP\n","filename":"src\/hotspot\/share\/runtime\/arguments.hpp","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 1998, 2018, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2012, 2017 SAP SE. All rights reserved.\n+ * Copyright (c) 1998, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2019 SAP SE. All rights reserved.\n@@ -56,0 +56,1 @@\n+\n@@ -58,11 +59,1 @@\n-  #if __IBMCPP__ < 1000\n-  \/\/ the funtion prototype for __dcbtst(void *) is missing in XLC V8.0\n-  \/\/ I could compile a little test, where I provided the prototype.\n-  \/\/ The generated code was correct there. This is the prototype:\n-  \/\/ extern \"builtin\" void __dcbtst (void *);\n-  \/\/ For now we don't make use of it when compiling with XLC V8.0\n-  #else\n-  \/\/ __IBMCPP__ >= 1000\n-  \/\/ XLC V10 provides the prototype for __dcbtst (void *);\n-  #define USE_XLC_PREFETCH_WRITE_BUILTIN\n-  #endif\n+\/\/ XLC V10 and higher provide the prototype for __dcbtst (void *);\n@@ -72,10 +63,3 @@\n-\/\/ On Linux NULL is defined as a special type '__null'. Assigning __null to\n-\/\/ integer variable will cause gcc warning. Use NULL_WORD in places where a\n-\/\/ pointer is stored as integer value.  On some platforms, sizeof(intptr_t) >\n-\/\/ sizeof(void*), so here we want something which is integer type, but has the\n-\/\/ same size as a pointer.\n-#ifdef __GNUC__\n-  #error XLC and __GNUC__?\n-#else\n-  #define NULL_WORD  NULL\n-#endif\n+\/\/ Some platform\/tool-chain combinations can't assign NULL to an integer\n+\/\/ type so we define NULL_WORD to use in those contexts. For xlc they are the same.\n+#define NULL_WORD  NULL\n@@ -87,10 +71,7 @@\n-\/\/ (see jmv_aix.h).\n-#ifdef AIX\n-  #include <dirent.h>\n-  #ifdef _LP64\n-    #undef NULL\n-    #define NULL 0L\n-  #else\n-    #ifndef NULL\n-      #define NULL 0\n-    #endif\n+#include <dirent.h>\n+#ifdef _LP64\n+  #undef NULL\n+  #define NULL 0L\n+#else\n+  #ifndef NULL\n+    #define NULL 0\n@@ -98,1 +79,1 @@\n-#endif \/\/ AIX\n+#endif\n@@ -111,1 +92,0 @@\n-#ifdef AIX\n@@ -114,3 +94,0 @@\n-#else\n-#error \"missing platform-specific definition here\"\n-#endif\n@@ -119,1 +96,0 @@\n-\n@@ -123,1 +99,0 @@\n-\n@@ -125,1 +100,0 @@\n-\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions_xlc.hpp","additions":15,"deletions":41,"binary":false,"changes":56,"status":"modified"}]}