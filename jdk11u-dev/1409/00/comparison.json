{"files":[{"patch":"@@ -380,3 +380,1 @@\n-#ifndef PRODUCT\n-\n-extern \"C\" void blob(CodeBlob* cb) {\n+extern \"C\" JNIEXPORT void blob(CodeBlob* cb) {\n@@ -388,1 +386,1 @@\n-extern \"C\" void dump_vtable(address p) {\n+extern \"C\" JNIEXPORT void dump_vtable(address p) {\n@@ -395,1 +393,1 @@\n-extern \"C\" void nm(intptr_t p) {\n+extern \"C\" JNIEXPORT void nm(intptr_t p) {\n@@ -407,1 +405,1 @@\n-extern \"C\" void disnm(intptr_t p) {\n+extern \"C\" JNIEXPORT void disnm(intptr_t p) {\n@@ -422,1 +420,1 @@\n-extern \"C\" void printnm(intptr_t p) {\n+extern \"C\" JNIEXPORT void printnm(intptr_t p) {\n@@ -434,1 +432,1 @@\n-extern \"C\" void universe() {\n+extern \"C\" JNIEXPORT void universe() {\n@@ -440,1 +438,1 @@\n-extern \"C\" void verify() {\n+extern \"C\" JNIEXPORT void verify() {\n@@ -457,1 +455,1 @@\n-extern \"C\" void pp(void* p) {\n+extern \"C\" JNIEXPORT void pp(void* p) {\n@@ -459,1 +457,1 @@\n-  FlagSetting fl(PrintVMMessages, true);\n+  NOT_PRODUCT(FlagSetting fl(PrintVMMessages, true);)\n@@ -470,5 +468,1 @@\n-\/\/ pv: print vm-printable object\n-extern \"C\" void pa(intptr_t p)   { ((AllocatedObj*) p)->print(); }\n-extern \"C\" void findpc(intptr_t x);\n-\n-#endif \/\/ !PRODUCT\n+extern \"C\" JNIEXPORT void findpc(intptr_t x);\n@@ -476,1 +470,1 @@\n-extern \"C\" void ps() { \/\/ print stack\n+extern \"C\" JNIEXPORT void ps() { \/\/ print stack\n@@ -480,1 +474,0 @@\n-\n@@ -508,1 +501,1 @@\n-extern \"C\" void pfl() {\n+extern \"C\" JNIEXPORT void pfl() {\n@@ -520,3 +513,1 @@\n-#ifndef PRODUCT\n-\n-extern \"C\" void psf() { \/\/ print stack frames\n+extern \"C\" JNIEXPORT void psf() { \/\/ print stack frames\n@@ -536,1 +527,1 @@\n-extern \"C\" void threads() {\n+extern \"C\" JNIEXPORT void threads() {\n@@ -542,1 +533,1 @@\n-extern \"C\" void psd() {\n+extern \"C\" JNIEXPORT void psd() {\n@@ -547,3 +538,1 @@\n-#endif \/\/ !PRODUCT\n-\n-extern \"C\" void pss() { \/\/ print all stacks\n+extern \"C\" JNIEXPORT void pss() { \/\/ print all stacks\n@@ -555,1 +544,1 @@\n-#ifndef PRODUCT\n+\/\/#ifndef PRODUCT\n@@ -557,1 +546,1 @@\n-extern \"C\" void debug() {               \/\/ to set things up for compiler debugging\n+extern \"C\"JNIEXPORT  void debug() {               \/\/ to set things up for compiler debugging\n@@ -559,2 +548,3 @@\n-  WizardMode = true;\n-  PrintVMMessages = PrintCompilation = true;\n+  NOT_PRODUCT(WizardMode = true);\n+  NOT_PRODUCT(PrintVMMessages = true);\n+  PrintCompilation = true;\n@@ -566,1 +556,1 @@\n-extern \"C\" void ndebug() {              \/\/ undo debug()\n+extern \"C\" JNIEXPORT void ndebug() {              \/\/ undo debug()\n@@ -574,1 +564,1 @@\n-extern \"C\" void flush()  {\n+extern \"C\" JNIEXPORT void flush()  {\n@@ -579,1 +569,1 @@\n-extern \"C\" void events() {\n+extern \"C\" JNIEXPORT void events() {\n@@ -584,1 +574,1 @@\n-extern \"C\" Method* findm(intptr_t pc) {\n+extern \"C\" JNIEXPORT Method* findm(intptr_t pc) {\n@@ -591,1 +581,1 @@\n-extern \"C\" nmethod* findnm(intptr_t addr) {\n+extern \"C\" JNIEXPORT nmethod* findnm(intptr_t addr) {\n@@ -598,1 +588,1 @@\n-extern \"C\" void hsfind(intptr_t x) {\n+extern \"C\" JNIEXPORT void hsfind(intptr_t x) {\n@@ -604,1 +594,1 @@\n-extern \"C\" void find(intptr_t x) {\n+extern \"C\" JNIEXPORT void find(intptr_t x) {\n@@ -610,1 +600,1 @@\n-extern \"C\" void findpc(intptr_t x) {\n+extern \"C\" JNIEXPORT void findpc(intptr_t x) {\n@@ -617,1 +607,1 @@\n-extern \"C\" void findbcp(intptr_t method, intptr_t bcp) {\n+extern \"C\" JNIEXPORT void findbcp(intptr_t method, intptr_t bcp) {\n@@ -636,1 +626,0 @@\n-  tty->print_cr(\"  pv(intptr_t p)- ((PrintableResourceObj*) p)->print()\");\n@@ -661,1 +650,2 @@\n-extern \"C\" void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n+#ifndef PRODUCT\n+extern \"C\" JNIEXPORT void pns(void* sp, void* fp, void* pc) { \/\/ print native stack\n@@ -678,1 +668,1 @@\n-extern \"C\" void pns2() { \/\/ print native stack\n+extern \"C\" JNIEXPORT void pns2() { \/\/ print native stack\n@@ -690,0 +680,1 @@\n+#endif\n@@ -691,1 +682,0 @@\n-#endif \/\/ !PRODUCT\n","filename":"src\/hotspot\/share\/utilities\/debug.cpp","additions":34,"deletions":44,"binary":false,"changes":78,"status":"modified"}]}