{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,0 +28,1 @@\n+ * @run main\/othervm Timeout\n@@ -31,0 +32,3 @@\n+\/\/ The SunJSSE provider cannot use System Properties in samevm\/agentvm mode.\n+\/\/ Please run JSSE test in othervm mode.\n+\n@@ -39,2 +43,1 @@\n-\/\/        try {\n-            SSLServerSocketFactory ssf =\n+        SSLServerSocketFactory ssf =\n@@ -42,1 +45,1 @@\n-            SSLServerSocket ss = (SSLServerSocket)ssf.createServerSocket();\n+        try (SSLServerSocket ss = (SSLServerSocket)ssf.createServerSocket()) {\n@@ -45,11 +48,10 @@\n-\/\/                try {\n-                    if (protocols[i].equals(\"SSLv2Hello\")) {\n-                        continue;\n-                    }\n-                    SSLContext sslc = SSLContext.getInstance(protocols[i]);\n-                    SSLSessionContext sslsc = sslc.getServerSessionContext();\n-                    System.out.println(\"Protocol: \" + protocols[i]);\n-                    sslsc.setSessionTimeout(Integer.MAX_VALUE);\n-                    int newtime = sslsc.getSessionTimeout();\n-                    if (newtime != Integer.MAX_VALUE) {\n-                        throw new Exception (\"Expected timeout: \" +\n+                if (protocols[i].equals(\"SSLv2Hello\")) {\n+                    continue;\n+                }\n+                SSLContext sslc = SSLContext.getInstance(protocols[i]);\n+                SSLSessionContext sslsc = sslc.getServerSessionContext();\n+                System.out.println(\"Protocol: \" + protocols[i]);\n+                sslsc.setSessionTimeout(Integer.MAX_VALUE);\n+                int newtime = sslsc.getSessionTimeout();\n+                if (newtime != Integer.MAX_VALUE) {\n+                    throw new Exception (\"Expected timeout: \" +\n@@ -58,3 +60,1 @@\n-                    }\n-\/\/                } catch (Exception e) {\n-\/\/                }\n+                }\n@@ -62,3 +62,1 @@\n-\/\/        } catch (Exception e) {\n-\/\/            System.out.println(e);\n-\/\/        }\n+        }\n","filename":"test\/jdk\/sun\/security\/ssl\/SSLSessionContextImpl\/Timeout.java","additions":19,"deletions":21,"binary":false,"changes":40,"status":"modified"}]}