{"files":[{"patch":"@@ -57,0 +57,1 @@\n+import jdk.test.lib.Utils;\n@@ -167,1 +168,10 @@\n-            cmds = List.of(\"printmdo -a\", \"printall\", \"jstack -v\");\n+            List testJavaOpts = Arrays.asList(Utils.getTestJavaOpts());\n+\n+            if (testJavaOpts.contains(\"-Xcomp\") && testJavaOpts.contains(\"-XX:TieredStopAtLevel=1\")) {\n+                \/\/ No MDOs are allocated in -XX:TieredStopAtLevel=1 + -Xcomp mode\n+                \/\/ The reason is methods being compiled aren't hot enough\n+                \/\/ Let's not call printmdo in such scenario\n+                cmds = List.of(\"printall\", \"jstack -v\");\n+            } else {\n+                cmds = List.of(\"printmdo -a\", \"printall\", \"jstack -v\");\n+            }\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/ClhsdbCDSCore.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"}]}