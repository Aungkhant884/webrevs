{"files":[{"patch":"@@ -2448,1 +2448,1 @@\n-  st->print(\"container_type: %s\\n\", p_ct != NULL ? p_ct : \"failed\");\n+  st->print(\"container_type: %s\\n\", p_ct != NULL ? p_ct : \"not supported\");\n@@ -2451,1 +2451,1 @@\n-  st->print(\"cpu_cpuset_cpus: %s\\n\", p != NULL ? p : \"failed\");\n+  st->print(\"cpu_cpuset_cpus: %s\\n\", p != NULL ? p : \"not supported\");\n@@ -2455,1 +2455,1 @@\n-  st->print(\"cpu_memory_nodes: %s\\n\", p != NULL ? p : \"failed\");\n+  st->print(\"cpu_memory_nodes: %s\\n\", p != NULL ? p : \"not supported\");\n@@ -2459,0 +2459,1 @@\n+  st->print(\"active_processor_count: \");\n@@ -2460,1 +2461,1 @@\n-    st->print(\"active_processor_count: %d\\n\", i);\n+    st->print(\"%d\\n\", i);\n@@ -2462,1 +2463,1 @@\n-    st->print(\"active_processor_count: failed\\n\");\n+    st->print(\"not supported\\n\");\n@@ -2466,1 +2467,6 @@\n-  st->print(\"cpu_quota: %d\\n\", i);\n+  st->print(\"cpu_quota: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no quota\");\n+  }\n@@ -2469,1 +2475,6 @@\n-  st->print(\"cpu_period: %d\\n\", i);\n+  st->print(\"cpu_period: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no period\");\n+  }\n@@ -2472,1 +2483,6 @@\n-  st->print(\"cpu_shares: %d\\n\", i);\n+  st->print(\"cpu_shares: \");\n+  if (i > 0) {\n+    st->print(\"%d\\n\", i);\n+  } else {\n+    st->print(\"%s\\n\", i == OSCONTAINER_ERROR ? \"not supported\" : \"no shares\");\n+  }\n@@ -2475,1 +2491,6 @@\n-  st->print(\"memory_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2478,1 +2499,6 @@\n-  st->print(\"memory_and_swap_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_and_swap_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2481,1 +2507,6 @@\n-  st->print(\"memory_soft_limit_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_soft_limit_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2484,1 +2515,6 @@\n-  st->print(\"memory_usage_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_usage_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n@@ -2487,1 +2523,6 @@\n-  st->print(\"memory_max_usage_in_bytes: \" JLONG_FORMAT \"\\n\", j);\n+  st->print(\"memory_max_usage_in_bytes: \");\n+  if (j > 0) {\n+    st->print(JLONG_FORMAT \"\\n\", j);\n+  } else {\n+    st->print(\"%s\\n\", j == OSCONTAINER_ERROR ? \"not supported\" : \"unlimited\");\n+  }\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":54,"deletions":13,"binary":false,"changes":67,"status":"modified"}]}