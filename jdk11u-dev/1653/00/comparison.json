{"files":[{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2018, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -106,2 +106,0 @@\n-    HEADERS_TO_CHECK=\"X11\/extensions\/shape.h X11\/extensions\/Xrender.h X11\/extensions\/XTest.h X11\/Intrinsic.h\"\n-    # There is no Xrandr extension on AIX\n@@ -109,1 +107,19 @@\n-      HEADERS_TO_CHECK=\"$HEADERS_TO_CHECK X11\/extensions\/Xrandr.h\"\n+      AC_CHECK_HEADERS([X11\/extensions\/shape.h X11\/extensions\/Xrender.h X11\/extensions\/XTest.h X11\/Intrinsic.h X11\/extensions\/Xrandr.h],\n+          [X11_HEADERS_OK=yes],\n+          [X11_HEADERS_OK=no; break],\n+          [\n+            # include <X11\/Xlib.h>\n+            # include <X11\/Xutil.h>\n+          ]\n+      )\n+    else\n+      # There is no Xrandr extension on AIX. Code is duplicated to avoid autoconf\n+      # 2.71+ warning \"AC_CHECK_HEADERS: you should use literals\"\n+      AC_CHECK_HEADERS([X11\/extensions\/shape.h X11\/extensions\/Xrender.h X11\/extensions\/XTest.h X11\/Intrinsic.h],\n+          [X11_HEADERS_OK=yes],\n+          [X11_HEADERS_OK=no; break],\n+          [\n+            # include <X11\/Xlib.h>\n+            # include <X11\/Xutil.h>\n+          ]\n+      )\n@@ -112,10 +128,0 @@\n-    # Need to include Xlib.h and Xutil.h to avoid \"present but cannot be compiled\" warnings on Solaris 10\n-    AC_CHECK_HEADERS([$HEADERS_TO_CHECK],\n-        [X11_HEADERS_OK=yes],\n-        [X11_HEADERS_OK=no; break],\n-        [\n-          # include <X11\/Xlib.h>\n-          # include <X11\/Xutil.h>\n-        ]\n-    )\n-\n","filename":"make\/autoconf\/lib-x11.m4","additions":20,"deletions":14,"binary":false,"changes":34,"status":"modified"}]}