{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -25,1 +25,0 @@\n-package java.beans;\n@@ -27,6 +26,1 @@\n-import com.sun.beans.TypeResolver;\n-import com.sun.beans.WeakCache;\n-import com.sun.beans.finder.ClassFinder;\n-import com.sun.beans.introspect.ClassInfo;\n-import com.sun.beans.introspect.EventSetInfo;\n-import com.sun.beans.introspect.PropertyInfo;\n+package java.beans;\n@@ -35,1 +29,0 @@\n-\n@@ -42,2 +35,0 @@\n-\n-import java.util.Map;\n@@ -45,1 +36,1 @@\n-import java.util.Arrays;\n+import java.util.EventObject;\n@@ -48,1 +39,0 @@\n-import java.util.EventObject;\n@@ -50,0 +40,1 @@\n+import java.util.Map;\n@@ -52,0 +43,5 @@\n+import com.sun.beans.TypeResolver;\n+import com.sun.beans.finder.ClassFinder;\n+import com.sun.beans.introspect.ClassInfo;\n+import com.sun.beans.introspect.EventSetInfo;\n+import com.sun.beans.introspect.PropertyInfo;\n@@ -118,3 +114,0 @@\n-    \/\/ Static Caches to speed up introspection.\n-    private static final WeakCache<Class<?>, Method[]> declaredMethodCache = new WeakCache<>();\n-\n@@ -200,4 +193,1 @@\n-        BeanInfo beanInfo;\n-        synchronized (declaredMethodCache) {\n-            beanInfo = context.getBeanInfo(beanClass);\n-        }\n+        BeanInfo beanInfo = context.getBeanInfo(beanClass);\n@@ -206,3 +196,1 @@\n-            synchronized (declaredMethodCache) {\n-                context.putBeanInfo(beanClass, beanInfo);\n-            }\n+            context.putBeanInfo(beanClass, beanInfo);\n@@ -377,1 +365,0 @@\n-\n@@ -379,4 +366,1 @@\n-        synchronized (declaredMethodCache) {\n-            ThreadGroupContext.getContext().clearBeanInfoCache();\n-            declaredMethodCache.clear();\n-        }\n+        ThreadGroupContext.getContext().clearBeanInfoCache();\n@@ -405,4 +389,1 @@\n-        synchronized (declaredMethodCache) {\n-            ThreadGroupContext.getContext().removeBeanInfo(clz);\n-            declaredMethodCache.put(clz, null);\n-        }\n+        ThreadGroupContext.getContext().removeBeanInfo(clz);\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/Introspector.java","additions":13,"deletions":32,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -91,1 +91,1 @@\n-    BeanInfo getBeanInfo(Class<?> type) {\n+    synchronized BeanInfo getBeanInfo(Class<?> type) {\n@@ -97,1 +97,1 @@\n-    BeanInfo putBeanInfo(Class<?> type, BeanInfo info) {\n+    synchronized BeanInfo putBeanInfo(Class<?> type, BeanInfo info) {\n@@ -104,1 +104,1 @@\n-    void removeBeanInfo(Class<?> type) {\n+    synchronized void removeBeanInfo(Class<?> type) {\n@@ -110,1 +110,1 @@\n-    void clearBeanInfoCache() {\n+    synchronized void clearBeanInfoCache() {\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/ThreadGroupContext.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"}]}