{"files":[{"patch":"@@ -226,1 +226,1 @@\n-            setupLogicalFonts(\"Serif\", \"Times\", \"Times\");\n+            setupLogicalFonts(\"Serif\", \"Times\", \"Times New Roman\");\n@@ -252,1 +252,7 @@\n-        System.err.println(\"Warning: the fonts \\\"\" + realName + \"\\\" and \\\"\" + fallbackName + \"\\\" are not available for the Java logical font \\\"\" + logicalName + \"\\\", which may have unexpected appearance or behavior. Re-enable the \\\"\"+ realName +\"\\\" font to remove this warning.\");\n+        if (FontUtilities.debugFonts()) {\n+            FontUtilities.logSevere(\n+                \"The fonts \\\"\" + realName + \"\\\" and \\\"\" + fallbackName +\n+                \"\\\" are not available for the Java logical font \\\"\" + logicalName +\n+                \"\\\", which may have unexpected appearance or behavior. Re-enable the \\\"\"+\n+                realName +\"\\\" font to remove this warning.\");\n+        }\n@@ -262,1 +268,6 @@\n-            System.err.println(\"Warning: the font \\\"\" + realName + \"\\\" is not available, so \\\"\" + fallbackName + \"\\\" has been substituted, but may have unexpected appearance or behavor. Re-enable the \\\"\"+ realName +\"\\\" font to remove this warning.\");\n+            if (FontUtilities.debugFonts()) {\n+                FontUtilities.logWarning(\n+                    \"The font \\\"\" + realName + \"\\\" is not available, so \\\"\" + fallbackName +\n+                    \"\\\" has been substituted, but may have unexpected appearance or behavor. Re-enable the \\\"\" +\n+                    realName +\"\\\" font to remove this warning.\");\n+             }\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CFontManager.java","additions":14,"deletions":3,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -0,0 +1,51 @@\n+\/*\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8273358\n+ * @summary Verify logical fonts are as expected.\n+ * @run main\/othervm LogicalFontsTest\n+ *\/\n+\n+import java.awt.Font;\n+\n+public class LogicalFontsTest {\n+\n+    public static void main(String[] args) {\n+        test(Font.SANS_SERIF);\n+        test(Font.SERIF);\n+        test(Font.MONOSPACED);\n+        test(Font.DIALOG);\n+        test(Font.DIALOG_INPUT);\n+     }\n+\n+     static void test(String fontName) {\n+         System.out.println(\"name=\"+fontName);\n+         Font font = new Font(fontName, Font.PLAIN, 12);\n+         System.out.println(\"font = \" + font);\n+         if (!fontName.equalsIgnoreCase(font.getFamily())) {\n+             throw new RuntimeException(\"Requested \" + fontName + \" but got \" + font);\n+         }\n+     }\n+}\n","filename":"test\/jdk\/java\/awt\/FontClass\/LogicalFontsTest.java","additions":51,"deletions":0,"binary":false,"changes":51,"status":"added"}]}