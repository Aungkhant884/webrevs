{"files":[{"patch":"@@ -418,1 +418,1 @@\n-  jlong next_arg(BasicType expectedType) {\n+  jlong next_arg() {\n@@ -447,1 +447,1 @@\n-  ArgumentPusher(Symbol* signature, JavaCallArguments*  jca, jlong argument, bool is_static) : SignatureIterator(signature) {\n+  ArgumentPusher(Symbol* signature, JavaCallArguments*  jca, jlong argument) : SignatureIterator(signature) {\n@@ -457,5 +457,5 @@\n-  inline void do_bool()   { if (!is_return_type()) _jca->push_int((jboolean) next_arg(T_BOOLEAN)); }\n-  inline void do_char()   { if (!is_return_type()) _jca->push_int((jchar) next_arg(T_CHAR)); }\n-  inline void do_short()  { if (!is_return_type()) _jca->push_int((jint)  next_arg(T_SHORT)); }\n-  inline void do_byte()   { if (!is_return_type()) _jca->push_int((jbyte) next_arg(T_BYTE)); }\n-  inline void do_int()    { if (!is_return_type()) _jca->push_int((jint)  next_arg(T_INT)); }\n+  inline void do_bool()   { if (!is_return_type()) _jca->push_int((jboolean) next_arg()); }\n+  inline void do_char()   { if (!is_return_type()) _jca->push_int((jchar) next_arg()); }\n+  inline void do_short()  { if (!is_return_type()) _jca->push_int((jint)  next_arg()); }\n+  inline void do_byte()   { if (!is_return_type()) _jca->push_int((jbyte) next_arg()); }\n+  inline void do_int()    { if (!is_return_type()) _jca->push_int((jint)  next_arg()); }\n@@ -463,1 +463,1 @@\n-  inline void do_long()   { if (!is_return_type()) _jca->push_long((jlong) next_arg(T_LONG)); }\n+  inline void do_long()   { if (!is_return_type()) _jca->push_long((jlong) next_arg()); }\n@@ -485,2 +485,3 @@\n-  ArgumentPusher jap(signature, &jca, argument, mh->is_static());\n-  JavaValue result(jap.get_ret_type());\n+  ArgumentPusher jap(signature, &jca, argument);\n+  BasicType return_type = jap.get_ret_type();\n+  JavaValue result(return_type);\n@@ -489,1 +490,1 @@\n-  if (jap.get_ret_type() == T_VOID) {\n+  if (return_type == T_VOID) {\n@@ -491,1 +492,1 @@\n-  } else if (jap.get_ret_type() == T_OBJECT || jap.get_ret_type() == T_ARRAY) {\n+  } else if (return_type == T_OBJECT || return_type == T_ARRAY) {\n@@ -497,1 +498,1 @@\n-    switch (jap.get_ret_type()) {\n+    switch (return_type) {\n@@ -507,0 +508,1 @@\n+      case T_FLOAT:\n@@ -509,3 +511,0 @@\n-        return value->j;\n-      case T_FLOAT:\n-        return value->f;\n@@ -513,1 +512,1 @@\n-        return value->d;\n+        return value->j;\n@@ -515,1 +514,1 @@\n-        ShouldNotReachHere();\n+        fatal(\"Unexpected type %s\", type2name(return_type));\n","filename":"src\/hotspot\/share\/jvmci\/jvmciRuntime.cpp","additions":17,"deletions":18,"binary":false,"changes":35,"status":"modified"}]}