{"files":[{"patch":"@@ -56,2 +56,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetAvailableProcessors, jvmti, &processors))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetAvailableProcessors(&processors))) {\n@@ -160,3 +159,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetAvailableProcessors\/getavailproc001\/getavailproc001.cpp","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -193,2 +193,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetCapabilities, jvmti, &caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps))) {\n@@ -300,3 +299,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetCapabilities\/getcaps002\/getcaps002.cpp","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -61,2 +61,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (testedClass =\n-            NSK_CPP_STUB2(FindClass, jni, CLASS_NAME)) != NULL))\n+    if (!NSK_JNI_VERIFY(jni, (testedClass = jni->FindClass(CLASS_NAME)) != NULL))\n@@ -65,2 +64,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (testedClass = (jclass)\n-            NSK_CPP_STUB2(NewGlobalRef, jni, testedClass)) != NULL))\n+    if (!NSK_JNI_VERIFY(jni, (testedClass = (jclass) jni->NewGlobalRef(testedClass)) != NULL))\n@@ -71,2 +69,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, testedClass,\n-                FIELD_NAME, FIELD_SIGNATURE)) != NULL))\n+            jni->GetStaticFieldID(testedClass, FIELD_NAME, FIELD_SIGNATURE)) != NULL))\n@@ -85,2 +82,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature, jvmti,\n-                classes[i], &signature, &generic)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetClassSignature(classes[i], &signature, &generic)))\n@@ -95,1 +91,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)signature);\n+            jvmti->Deallocate((unsigned char*)signature);\n@@ -98,1 +94,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)generic);\n+            jvmti->Deallocate((unsigned char*)generic);\n@@ -122,2 +118,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni,\n-                testedClass, testedFieldID)) != NULL)) {\n+            jni->GetStaticObjectField(testedClass, testedFieldID)) != NULL)) {\n@@ -127,2 +122,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassLoaderClasses, jvmti,\n-            testedClassLoader, &classCount, &classes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetClassLoaderClasses(testedClassLoader, &classCount, &classes))) {\n@@ -146,1 +140,1 @@\n-        NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)classes);\n+        jvmti->Deallocate((unsigned char*)classes);\n@@ -155,2 +149,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni,\n-                testedClass, testedFieldID)) != NULL)) {\n+            jni->GetStaticObjectField(testedClass, testedFieldID)) != NULL)) {\n@@ -160,2 +153,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassLoaderClasses, jvmti,\n-            testedClassLoader, &classCount, &classes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetClassLoaderClasses(testedClassLoader, &classCount, &classes))) {\n@@ -186,1 +178,1 @@\n-        NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)classes);\n+        jvmti->Deallocate((unsigned char*)classes);\n@@ -188,1 +180,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass));\n+    NSK_TRACE(jni->DeleteGlobalRef(testedClass));\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetClassLoaderClasses\/clsldrclss002\/clsldrclss002.cpp","additions":13,"deletions":21,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -61,2 +61,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature,\n-            jvmti, testedCls, &sign, &gen_sign))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetClassSignature(testedCls, &sign, &gen_sign))) {\n@@ -84,2 +83,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                jvmti, (unsigned char*) sign))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) sign))) {\n@@ -89,2 +87,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                    jvmti, (unsigned char*) gen_sign))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) gen_sign))) {\n@@ -107,2 +104,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (testedCls = NSK_CPP_STUB2(\n-                FindClass, jni, class_sig[i][1])) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (testedCls = jni->FindClass(class_sig[i][1])) != NULL)) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetClassSignature\/getclsig006\/getclsig006.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -73,2 +73,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetCurrentThreadCpuTime, jvmti, (jlong *)time))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCurrentThreadCpuTime((jlong *)time))) {\n@@ -263,2 +262,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -287,2 +285,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -340,2 +337,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -356,3 +352,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetCurrentThreadCpuTime\/curthrcputime001\/curthrcputime001.cpp","additions":5,"deletions":11,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-            NSK_CPP_STUB2(GetCurrentThreadCpuTimerInfo, jvmti, info))) {\n+            jvmti->GetCurrentThreadCpuTimerInfo(info))) {\n@@ -263,1 +263,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -279,2 +279,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetCurrentThreadCpuTimerInfo\/curthrtimerinfo001\/curthrtimerinfo001.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -90,7 +90,1 @@\n-    if (NSK_CPP_STUB3(\n-            GetEnv\n-            , vm\n-            , (void **) &jvmti\n-            , JVMTI_VERSION_1_1\n-            ) != JNI_OK || jvmti == NULL)\n-    {\n+    if (vm->GetEnv((void **) &jvmti, JVMTI_VERSION_1_1) != JNI_OK || jvmti == NULL) {\n@@ -101,7 +95,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(\n-                    GetCapabilities\n-                    , jvmti\n-                    , &caps)\n-                )\n-       )\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -113,7 +101,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(\n-                    AddCapabilities\n-                    , jvmti\n-                    , &caps)\n-                )\n-       )\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -126,9 +108,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(\n-                    SetEventCallbacks\n-                    , jvmti\n-                    , &callbacks\n-                    , sizeof(callbacks)\n-                    )\n-                )\n-       )\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -138,10 +112,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB4(\n-                    SetEventNotificationMode\n-                    , jvmti\n-                    , JVMTI_ENABLE\n-                    , JVMTI_EVENT_CLASS_FILE_LOAD_HOOK\n-                    , NULL\n-                    )\n-                )\n-       )\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetEnv\/GetEnv001\/GetEnv001.cpp","additions":5,"deletions":40,"binary":false,"changes":45,"status":"modified"},{"patch":"@@ -56,2 +56,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetEnvironmentLocalStorage, jvmti, &storage))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetEnvironmentLocalStorage(&storage))) {\n@@ -161,3 +160,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetEnvironmentLocalStorage\/getenvstor001\/getenvstor001.cpp","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -155,1 +155,1 @@\n-                NSK_CPP_STUB3(GetErrorName, jvmti, errors[i].err, &name)))\n+                jvmti->GetErrorName(errors[i].err, &name)))\n@@ -162,2 +162,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)name)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*)name)))\n@@ -175,1 +174,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -197,1 +196,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -200,1 +199,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &curr_phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&curr_phase)))\n@@ -213,1 +212,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -227,1 +226,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -273,3 +272,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(CreateRawMonitor, jvmti,\n-                \"_access_lock\", &access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"_access_lock\", &access_lock)))\n@@ -278,1 +275,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -291,3 +288,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -298,2 +293,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_VM_INIT, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n@@ -304,2 +298,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetErrorName\/geterrname001\/geterrname001.cpp","additions":12,"deletions":19,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-            NSK_CPP_STUB3(GetErrorName, jvmti, (jvmtiError)(-1), &name)))\n+                               jvmti->GetErrorName((jvmtiError)(-1), &name)))\n@@ -56,1 +56,1 @@\n-            NSK_CPP_STUB3(GetErrorName, jvmti, JVMTI_ERROR_NONE, NULL)))\n+                               jvmti->GetErrorName(JVMTI_ERROR_NONE, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetErrorName\/geterrname002\/geterrname002.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,2 +57,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(GetExtensionEvents, jvmti, &extCount, &extList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetExtensionEvents(&extCount, &extList))) {\n@@ -222,2 +221,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)extList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*)extList))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetExtensionEvents\/extevents001\/extevents001.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -56,2 +56,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(GetExtensionFunctions, jvmti, &extCount, &extList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetExtensionFunctions(&extCount, &extList))) {\n@@ -233,2 +232,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)extList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*)extList))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetExtensionFunctions\/extfuncs001\/extfuncs001.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -95,2 +95,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB6(GetFieldName,\n-            jvmti, testedCls, testedFld, &name, &sign, &gen_sign))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetFieldName(testedCls, testedFld, &name, &sign, &gen_sign))) {\n@@ -119,2 +118,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                jvmti, (unsigned char*) name)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) name)))\n@@ -122,2 +120,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                jvmti, (unsigned char*) sign)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) sign)))\n@@ -126,2 +123,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                    jvmti, (unsigned char*) gen_sign)))\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) gen_sign)))\n@@ -139,2 +135,1 @@\n-    jclass objCls = NSK_CPP_STUB2(GetObjectClass,\n-        jni, obj);\n+    jclass objCls = jni->GetObjectClass(obj);\n@@ -149,3 +144,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedFld = NSK_CPP_STUB4(\n-                    GetFieldID, jni, objCls,\n-                    fld_sig[i][0], fld_sig[i][2])) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedFld = jni->GetFieldID(objCls, fld_sig[i][0], fld_sig[i][2])) != NULL)) {\n@@ -159,3 +152,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedFld = NSK_CPP_STUB4(\n-                    GetStaticFieldID, jni, objCls,\n-                    fld_sig[i][0], fld_sig[i][2])) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedFld = jni->GetStaticFieldID(objCls, fld_sig[i][0], fld_sig[i][2])) != NULL)) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetFieldName\/getfldnm005\/getfldnm005.cpp","additions":7,"deletions":16,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -67,1 +67,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetJLocationFormat, jvmti, &format)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetJLocationFormat(&format)))\n@@ -88,1 +88,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -91,1 +91,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &curr_phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&curr_phase)))\n@@ -100,1 +100,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetJLocationFormat, jvmti, &format)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetJLocationFormat(&format)))\n@@ -109,1 +109,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -124,1 +124,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -131,1 +131,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetJLocationFormat, jvmti, &format)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetJLocationFormat(&format)))\n@@ -176,3 +176,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(CreateRawMonitor, jvmti,\n-                \"_access_lock\", &access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"_access_lock\", &access_lock)))\n@@ -181,1 +179,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -188,1 +186,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetJLocationFormat, jvmti, &format)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetJLocationFormat(&format)))\n@@ -199,3 +197,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -206,2 +202,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_VM_INIT, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n@@ -212,2 +207,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetJLocationFormat\/getjlocfmt001\/getjlocfmt001.cpp","additions":14,"deletions":20,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -49,2 +49,1 @@\n-    if (!NSK_JVMTI_VERIFY_CODE(JVMTI_ERROR_NULL_POINTER,\n-            NSK_CPP_STUB2(GetJLocationFormat, jvmti, NULL)))\n+    if (!NSK_JVMTI_VERIFY_CODE(JVMTI_ERROR_NULL_POINTER, jvmti->GetJLocationFormat(NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetJLocationFormat\/getjlocfmt002\/getjlocfmt002.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -63,2 +63,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature, jvmti,\n-                classes[i], &signature, &generic)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetClassSignature(classes[i], &signature, &generic)))\n@@ -73,1 +72,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)signature);\n+            jvmti->Deallocate((unsigned char*)signature);\n@@ -76,1 +75,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)generic);\n+            jvmti->Deallocate((unsigned char*)generic);\n@@ -94,2 +93,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetLoadedClasses, jvmti,\n-            &classCount, &classes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetLoadedClasses(&classCount, &classes))) {\n@@ -127,1 +125,1 @@\n-        NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)classes);\n+        jvmti->Deallocate((unsigned char*)classes);\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetLoadedClasses\/loadedclss002\/loadedclss002.cpp","additions":5,"deletions":7,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -102,3 +102,1 @@\n-            methInfo[i].mid = NSK_CPP_STUB4(GetMethodID,\n-                jni_env, testedCls,\n-                methInfo[i].m_name, methInfo[i].m_sign);\n+            methInfo[i].mid = jni_env->GetMethodID(testedCls, methInfo[i].m_name, methInfo[i].m_sign);\n@@ -106,3 +104,1 @@\n-            methInfo[i].mid = NSK_CPP_STUB4(GetStaticMethodID,\n-                jni_env, testedCls,\n-                methInfo[i].m_name, methInfo[i].m_sign);\n+            methInfo[i].mid = jni_env->GetStaticMethodID(testedCls, methInfo[i].m_name, methInfo[i].m_sign);\n@@ -118,2 +114,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetLocalVariableTable,\n-                jvmti, methInfo[i].mid, &count, &lv_table))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetLocalVariableTable(methInfo[i].mid, &count, &lv_table))) {\n@@ -175,2 +170,1 @@\n-    jclass testedCls = NSK_CPP_STUB2(GetObjectClass,\n-        env, testedObj);\n+    jclass testedCls = env->GetObjectClass(testedObj);\n@@ -208,2 +202,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -212,2 +205,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetLocalVariableTable\/localtab004\/localtab004.cpp","additions":6,"deletions":14,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -110,3 +110,1 @@\n-            methInfo[i].mid = NSK_CPP_STUB4(GetMethodID,\n-                jni_env, testedCls,\n-                methInfo[i].m_name, methInfo[i].m_sign);\n+            methInfo[i].mid = jni_env->GetMethodID(testedCls, methInfo[i].m_name, methInfo[i].m_sign);\n@@ -114,3 +112,1 @@\n-            methInfo[i].mid = NSK_CPP_STUB4(GetStaticMethodID,\n-                jni_env, testedCls,\n-                methInfo[i].m_name, methInfo[i].m_sign);\n+            methInfo[i].mid = jni_env->GetStaticMethodID(testedCls, methInfo[i].m_name, methInfo[i].m_sign);\n@@ -126,2 +122,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetLocalVariableTable,\n-                jvmti, methInfo[i].mid, &count, &lv_table))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetLocalVariableTable(methInfo[i].mid, &count, &lv_table))) {\n@@ -181,2 +176,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                    jvmti, (unsigned char*) lv_table))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) lv_table))) {\n@@ -196,2 +190,1 @@\n-    jclass testedCls = NSK_CPP_STUB2(GetObjectClass,\n-        env, testedObj);\n+    jclass testedCls = env->GetObjectClass(testedObj);\n@@ -229,2 +222,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -233,2 +225,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetLocalVariableTable\/localtab005\/localtab005.cpp","additions":7,"deletions":16,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -92,2 +92,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(GetMethodName,\n-            jvmti, testedMeth, &name, &sign, &gen_sign))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetMethodName(testedMeth, &name, &sign, &gen_sign))) {\n@@ -115,2 +114,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                jvmti, (unsigned char*) name))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) name))) {\n@@ -119,2 +117,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                jvmti, (unsigned char*) sign))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) sign))) {\n@@ -124,2 +121,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-                    jvmti, (unsigned char*) gen_sign))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate((unsigned char*) gen_sign))) {\n@@ -138,2 +134,1 @@\n-    jclass objCls = NSK_CPP_STUB2(GetObjectClass,\n-        jni, testedObj);\n+    jclass objCls = jni->GetObjectClass(testedObj);\n@@ -148,3 +143,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedMeth = NSK_CPP_STUB4(GetMethodID,\n-                    jni, objCls, meth_sig[clsIdx][i][0],\n-                    meth_sig[clsIdx][i][2])) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedMeth = jni->GetMethodID(objCls, meth_sig[clsIdx][i][0], meth_sig[clsIdx][i][2])) != NULL)) {\n@@ -158,3 +151,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedMeth = NSK_CPP_STUB4(GetStaticMethodID,\n-                    jni, objCls, meth_sig[clsIdx][i][0],\n-                    meth_sig[clsIdx][i][2])) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedMeth = jni->GetStaticMethodID(objCls, meth_sig[clsIdx][i][0], meth_sig[clsIdx][i][2])) != NULL)) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetMethodName\/methname003\/methname003.cpp","additions":7,"deletions":16,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -63,2 +63,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (debugeeClass =\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (debugeeClass = jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -72,2 +71,1 @@\n-                    NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                                    OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n+                    jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n@@ -81,2 +79,1 @@\n-                    NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                            objectField)) != NULL)) {\n+                    jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -89,2 +86,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedObject =\n-                    NSK_CPP_STUB2(NewGlobalRef, jni, testedObject)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedObject = jni->NewGlobalRef(testedObject)) != NULL)) {\n@@ -100,2 +96,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(GetObjectHashCode, jvmti, testedObject, &objectHashCode))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetObjectHashCode(testedObject, &objectHashCode))) {\n@@ -113,2 +108,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(GetObjectHashCode, jvmti, testedObject, &hashCode))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetObjectHashCode(testedObject, &hashCode))) {\n@@ -144,1 +138,1 @@\n-                    NSK_CPP_STUB3(GetObjectHashCode, jvmti, testedObject, &hashCode))) {\n+                    jvmti->GetObjectHashCode(testedObject, &hashCode))) {\n@@ -165,1 +159,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedObject));\n+            NSK_TRACE(jni->DeleteGlobalRef(testedObject));\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetObjectHashCode\/objhashcode001\/objhashcode001.cpp","additions":8,"deletions":14,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -60,2 +60,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (debugeeClass =\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (debugeeClass = jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -69,2 +68,1 @@\n-                    NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                                    OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n+                    jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n@@ -78,2 +76,1 @@\n-                    NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                            objectField)) != NULL)) {\n+                    jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -86,2 +83,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (testedObject =\n-                    NSK_CPP_STUB2(NewGlobalRef, jni, testedObject)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (testedObject = jni->NewGlobalRef(testedObject)) != NULL)) {\n@@ -97,2 +93,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(GetObjectSize, jvmti, testedObject, &objectSize))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetObjectSize(testedObject, &objectSize))) {\n@@ -116,2 +111,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(GetObjectSize, jvmti, testedObject, &size))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetObjectSize(testedObject, &size))) {\n@@ -145,2 +139,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(GetObjectSize, jvmti, testedObject, &size))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetObjectSize(testedObject, &size))) {\n@@ -166,1 +159,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedObject));\n+            NSK_TRACE(jni->DeleteGlobalRef(testedObject));\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetObjectSize\/objsize001\/objsize001.cpp","additions":8,"deletions":15,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -66,3 +66,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (size * sizeof(jobject)),\n-                                                    (unsigned char**)objects))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((size * sizeof(jobject)), (unsigned char**)objects))) {\n@@ -74,3 +72,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (tagsCount * sizeof(jlong)),\n-                                                    (unsigned char**)tags))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((tagsCount * sizeof(jlong)), (unsigned char**)tags))) {\n@@ -94,2 +90,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (debugeeClass =\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (debugeeClass = jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -103,2 +98,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECTS_FIELD_NAME, OBJECTS_FIELD_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECTS_FIELD_NAME, OBJECTS_FIELD_SIG)) != NULL)) {\n@@ -112,2 +106,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -123,2 +116,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (arrayLen =\n-                NSK_CPP_STUB2(GetArrayLength, jni, arrayObject)) == size)) {\n+        if (!NSK_JNI_VERIFY(jni, (arrayLen = jni->GetArrayLength(arrayObject)) == size)) {\n@@ -134,2 +126,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (object =\n-                NSK_CPP_STUB3(GetObjectArrayElement, jni, arrayObject, k)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (object = jni->GetObjectArrayElement(arrayObject, k)) != NULL)) {\n@@ -139,2 +130,1 @@\n-            if (!NSK_JNI_VERIFY(jni, (object =\n-                NSK_CPP_STUB2(NewGlobalRef, jni, object)) != NULL)) {\n+            if (!NSK_JNI_VERIFY(jni, (object = jni->NewGlobalRef(object)) != NULL)) {\n@@ -165,1 +155,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, objects[k]));\n+            NSK_TRACE(jni->DeleteGlobalRef(objects[k]));\n@@ -172,1 +162,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objects))) {\n+            jvmti->Deallocate((unsigned char*)objects))) {\n@@ -181,1 +171,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)tags))) {\n+            jvmti->Deallocate((unsigned char*)tags))) {\n@@ -200,2 +190,1 @@\n-            NSK_CPP_STUB6(GetObjectsWithTags, jvmti, tagsCount, tags,\n-                &taggedObjectsCount, &taggedObjectsList, &taggedObjectsTags))) {\n+            jvmti->GetObjectsWithTags(tagsCount, tags, &taggedObjectsCount, &taggedObjectsList, &taggedObjectsTags))) {\n@@ -261,1 +250,1 @@\n-                if (NSK_CPP_STUB3(IsSameObject, jni, object, foundObject)) {\n+                if (jni->IsSameObject(object, foundObject)) {\n@@ -298,1 +287,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)taggedObjectsList))) {\n+            jvmti->Deallocate((unsigned char*)taggedObjectsList))) {\n@@ -303,1 +292,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)taggedObjectsTags))) {\n+            jvmti->Deallocate((unsigned char*)taggedObjectsTags))) {\n@@ -341,2 +330,1 @@\n-                    if (!NSK_JVMTI_VERIFY(\n-                            NSK_CPP_STUB3(SetTag, jvmti, object, tags[i]))) {\n+                    if (!NSK_JVMTI_VERIFY(jvmti->SetTag(object, tags[i]))) {\n@@ -387,2 +375,1 @@\n-                    if (!NSK_JVMTI_VERIFY(\n-                            NSK_CPP_STUB3(SetTag, jvmti, object, tag))) {\n+                    if (!NSK_JVMTI_VERIFY(jvmti->SetTag(object, tag))) {\n@@ -458,2 +445,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetObjectsWithTags\/objwithtags001\/objwithtags001.cpp","additions":18,"deletions":32,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -55,1 +55,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -63,1 +63,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -71,1 +71,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -78,1 +78,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -86,1 +86,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -96,1 +96,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -105,1 +105,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -115,1 +115,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -125,1 +125,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -135,1 +135,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -142,1 +142,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -157,1 +157,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -166,1 +166,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -176,1 +176,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -186,1 +186,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -196,1 +196,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -203,1 +203,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -211,1 +211,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(access_lock)))\n@@ -218,1 +218,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -226,1 +226,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, access_lock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(access_lock)))\n@@ -245,1 +245,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -292,2 +292,1 @@\n-            NSK_CPP_STUB3(CreateRawMonitor, jvmti,\n-                \"_access_lock\", &access_lock)))\n+            jvmti->CreateRawMonitor(\"_access_lock\", &access_lock)))\n@@ -298,1 +297,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n@@ -308,1 +307,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -318,2 +317,1 @@\n-            NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                &callbacks, sizeof(callbacks))))\n+            jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -324,2 +322,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_VM_START, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_START, NULL)))\n@@ -330,2 +327,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_VM_INIT, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n@@ -336,2 +332,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_NATIVE_METHOD_BIND, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_NATIVE_METHOD_BIND, NULL)))\n@@ -342,2 +337,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n@@ -348,2 +342,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_VM_DEATH, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n@@ -376,1 +369,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase, jvmti, &phase)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPhase(&phase)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetPhase\/getphase001\/getphase001.cpp","additions":32,"deletions":39,"binary":false,"changes":71,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-            NSK_CPP_STUB2(GetPhase, jvmti, NULL)))\n+            jvmti->GetPhase(NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetPhase\/getphase002\/getphase002.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -133,1 +133,1 @@\n-            NSK_CPP_STUB2(GetPotentialCapabilities, jvmti, &caps))) {\n+            jvmti->GetPotentialCapabilities(&caps))) {\n@@ -236,2 +236,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetPotentialCapabilities\/getpotcaps001\/getpotcaps001.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-            NSK_CPP_STUB3(GetSystemProperties, jvmti, &count, &properties))) {\n+            jvmti->GetSystemProperties(&count, &properties))) {\n@@ -78,1 +78,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)properties))) {\n+            jvmti->Deallocate((unsigned char*)properties))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetSystemProperties\/getsysprops001\/getsysprops001.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-            NSK_CPP_STUB3(GetSystemProperties, jvmti, &count, &properties))) {\n+            jvmti->GetSystemProperties(&count, &properties))) {\n@@ -111,1 +111,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)properties))) {\n+            jvmti->Deallocate((unsigned char*)properties))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetSystemProperties\/getsysprops002\/getsysprops002.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-            NSK_CPP_STUB3(GetSystemProperties, jvmti, &count, &properties))) {\n+            jvmti->GetSystemProperties(&count, &properties))) {\n@@ -68,1 +68,1 @@\n-                    NSK_CPP_STUB3(GetSystemProperty, jvmti, properties[i], &value))) {\n+                    jvmti->GetSystemProperty(properties[i], &value))) {\n@@ -84,1 +84,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)value))) {\n+                    jvmti->Deallocate((unsigned char*)value))) {\n@@ -93,1 +93,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)properties))) {\n+            jvmti->Deallocate((unsigned char*)properties))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetSystemProperty\/getsysprop001\/getsysprop001.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-            NSK_CPP_STUB3(GetSystemProperty, jvmti, desc->name, &value))) {\n+            jvmti->GetSystemProperty(desc->name, &value))) {\n@@ -76,1 +76,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)value))) {\n+            jvmti->Deallocate((unsigned char*)value))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetSystemProperty\/getsysprop002\/getsysprop002.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -72,2 +72,1 @@\n-                    NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                                    OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n+                    jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, OBJECT_CLASS_SIG)) != NULL)) {\n@@ -81,2 +80,1 @@\n-                    NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                            objectField)) != NULL)) {\n+                    jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -90,1 +88,1 @@\n-                    NSK_CPP_STUB2(NewGlobalRef, jni, testedObject)) != NULL)) {\n+                    jni->NewGlobalRef(testedObject)) != NULL)) {\n@@ -103,1 +101,1 @@\n-                    NSK_CPP_STUB3(GetTag, jvmti, testedObject, &objectTag))) {\n+                    jvmti->GetTag(testedObject, &objectTag))) {\n@@ -123,1 +121,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedObject));\n+            NSK_TRACE(jni->DeleteGlobalRef(testedObject));\n@@ -167,1 +165,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetTag\/gettag001\/gettag001.cpp","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-            NSK_CPP_STUB3(GetThreadCpuTime, jvmti, NULL, (jlong *)time))) {\n+            jvmti->GetThreadCpuTime(NULL, (jlong *)time))) {\n@@ -264,1 +264,1 @@\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+                jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -288,1 +288,1 @@\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+                jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -341,1 +341,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -357,2 +357,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetThreadCpuTime\/thrcputime001\/thrcputime001.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -76,2 +76,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(GetThreadCpuTime, jvmti, thread, (jlong *)time))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetThreadCpuTime(thread, (jlong *)time))) {\n@@ -268,2 +267,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -285,2 +283,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (testedThread =\n-                NSK_CPP_STUB2(NewGlobalRef, jni, thread)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (testedThread = jni->NewGlobalRef(thread)) != NULL)) {\n@@ -305,2 +302,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, thread, &threadInfo))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GetThreadInfo(thread, &threadInfo))) {\n@@ -327,1 +323,1 @@\n-        NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedThread));\n+        NSK_TRACE(jni->DeleteGlobalRef(testedThread));\n@@ -368,2 +364,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -384,3 +379,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetThreadCpuTime\/thrcputime002\/thrcputime002.cpp","additions":7,"deletions":14,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-            NSK_CPP_STUB2(GetThreadCpuTimerInfo, jvmti, info))) {\n+            jvmti->GetThreadCpuTimerInfo(info))) {\n@@ -263,1 +263,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -279,2 +279,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetThreadCpuTimerInfo\/thrtimerinfo001\/thrtimerinfo001.cpp","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-                    NSK_CPP_STUB3(GetTopThreadGroups, jvmti, &topGroupsCount, &topGroups))) {\n+                    jvmti->GetTopThreadGroups(&topGroupsCount, &topGroups))) {\n@@ -113,2 +113,1 @@\n-                    NSK_CPP_STUB6(GetThreadGroupChildren, jvmti, rootGroup,\n-                                    &threadsCount, &threads, &groupsCount, &groups))) {\n+                    jvmti->GetThreadGroupChildren(rootGroup, &threadsCount, &threads, &groupsCount, &groups))) {\n@@ -145,1 +144,1 @@\n-                            NSK_CPP_STUB3(GetThreadGroupInfo, jvmti, groups[i], &info))) {\n+                            jvmti->GetThreadGroupInfo(groups[i], &info))) {\n@@ -224,1 +223,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)groups))) {\n+                    jvmti->Deallocate((unsigned char*)groups))) {\n@@ -228,1 +227,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)threads))) {\n+                    jvmti->Deallocate((unsigned char*)threads))) {\n@@ -261,2 +260,1 @@\n-                NSK_CPP_STUB6(GetThreadGroupChildren, jvmti, group,\n-                                &threadsCount, &threads, &groupsCount, &groups))) {\n+                jvmti->GetThreadGroupChildren(group, &threadsCount, &threads, &groupsCount, &groups))) {\n@@ -293,1 +291,1 @@\n-                        NSK_CPP_STUB3(GetThreadInfo, jvmti, threads[i], &info))) {\n+                        jvmti->GetThreadInfo(threads[i], &info))) {\n@@ -317,1 +315,1 @@\n-                NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)groups))) {\n+                jvmti->Deallocate((unsigned char*)groups))) {\n@@ -321,1 +319,1 @@\n-                NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)threads))) {\n+                jvmti->Deallocate((unsigned char*)threads))) {\n@@ -342,2 +340,1 @@\n-                NSK_CPP_STUB6(GetThreadGroupChildren, jvmti, groupsList[i],\n-                                &threadsCount, &threads, &groupsCount, &groups))) {\n+                jvmti->GetThreadGroupChildren(groupsList[i], &threadsCount, &threads, &groupsCount, &groups))) {\n@@ -360,1 +357,1 @@\n-                            NSK_CPP_STUB3(GetThreadGroupInfo, jvmti, groups[i], &info))) {\n+                            jvmti->GetThreadGroupInfo(groups[i], &info))) {\n@@ -379,1 +376,1 @@\n-                NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)groups))) {\n+                jvmti->Deallocate((unsigned char*)groups))) {\n@@ -383,1 +380,1 @@\n-                NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)threads))) {\n+                jvmti->Deallocate((unsigned char*)threads))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetThreadGroupChildren\/getthrdgrpchld001\/getthrdgrpchld001.cpp","additions":13,"deletions":16,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-                NSK_CPP_STUB3(GetThreadLocalStorage, jvmti, testedThread, &storage))) {\n+                jvmti->GetThreadLocalStorage(testedThread, &storage))) {\n@@ -79,1 +79,1 @@\n-                NSK_CPP_STUB3(GetThreadLocalStorage, jvmti, NULL, &storage))) {\n+                jvmti->GetThreadLocalStorage(NULL, &storage))) {\n@@ -94,1 +94,1 @@\n-        NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedThread));\n+        NSK_TRACE(jni->DeleteGlobalRef(testedThread));\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetThreadLocalStorage\/getthrdstor001\/getthrdstor001.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-            NSK_CPP_STUB2(GetTime, jvmti, (jlong *)time))) {\n+            jvmti->GetTime((jlong *)time))) {\n@@ -189,2 +189,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetTime\/gettime001\/gettime001.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-            NSK_CPP_STUB2(GetTimerInfo, jvmti, info))) {\n+            jvmti->GetTimerInfo(info))) {\n@@ -206,2 +206,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GetTimerInfo\/timerinfo001\/timerinfo001.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-           NSK_CPP_STUB3(GetAllThreads, jvmti, &threads_count, &threads)))\n+           jvmti->GetAllThreads(&threads_count, &threads)))\n@@ -73,1 +73,1 @@\n-                NSK_CPP_STUB3(GetThreadInfo, jvmti, threads[i], &info)))\n+                jvmti->GetThreadInfo(threads[i], &info)))\n@@ -92,1 +92,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)threads)))\n+            jvmti->Deallocate((unsigned char*)threads)))\n@@ -115,2 +115,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(InterruptThread,\n-                jvmti, runningThread)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->InterruptThread(runningThread)))\n@@ -124,2 +123,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(InterruptThread,\n-                jvmti, waitingThread)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->InterruptThread(waitingThread)))\n@@ -133,2 +131,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(InterruptThread,\n-                jvmti, sleepingThread)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->InterruptThread(sleepingThread)))\n@@ -176,1 +173,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/InterruptThread\/intrpthrd001\/intrpthrd001.cpp","additions":7,"deletions":10,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-            NSK_CPP_STUB3(IsMethodObsolete, jvmti, method, &obsolete))) {\n+            jvmti->IsMethodObsolete(method, &obsolete))) {\n@@ -86,2 +86,1 @@\n-            NSK_CPP_STUB6(GetStackTrace, jvmti, thread, 0, MAX_STACK_DEPTH,\n-                                                    frameStack, &frameCount))) {\n+            jvmti->GetStackTrace(thread, 0, MAX_STACK_DEPTH, frameStack, &frameCount))) {\n@@ -107,2 +106,1 @@\n-                    NSK_CPP_STUB5(GetMethodName, jvmti, frameStack[i].method,\n-                                                        &name, &signature, &generic))) {\n+                    jvmti->GetMethodName(frameStack[i].method, &name, &signature, &generic))) {\n@@ -125,1 +123,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)name))) {\n+                    jvmti->Deallocate((unsigned char*)name))) {\n@@ -129,1 +127,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)signature))) {\n+                    jvmti->Deallocate((unsigned char*)signature))) {\n@@ -133,1 +131,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)generic))) {\n+                    jvmti->Deallocate((unsigned char*)generic))) {\n@@ -159,1 +157,1 @@\n-            NSK_CPP_STUB3(RedefineClasses, jvmti, 1, &classDef))) {\n+            jvmti->RedefineClasses(1, &classDef))) {\n@@ -179,1 +177,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -187,2 +185,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            CLASSFILE_FIELD_NAME, CLASSFILE_FIELD_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, CLASSFILE_FIELD_NAME, CLASSFILE_FIELD_SIG)) != NULL)) {\n@@ -196,2 +193,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, fieldID)) != NULL)) {\n@@ -204,1 +200,1 @@\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+            jni->GetArrayLength(array)) > 0)) {\n@@ -213,2 +209,1 @@\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+                jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -222,1 +217,1 @@\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+            jvmti->Allocate(*size, bytes))) {\n@@ -234,1 +229,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -267,1 +262,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, TESTED_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(TESTED_CLASS_NAME)) != NULL)) {\n@@ -275,1 +270,1 @@\n-                    NSK_CPP_STUB2(NewGlobalRef, jni, testedClass)) != NULL)) {\n+                    jni->NewGlobalRef(testedClass)) != NULL)) {\n@@ -283,2 +278,1 @@\n-                    NSK_CPP_STUB4(GetStaticMethodID, jni, testedClass,\n-                                    STATIC_METHOD_NAME, STATIC_METHOD_SIG)) != NULL)) {\n+                    jni->GetStaticMethodID(testedClass, STATIC_METHOD_NAME, STATIC_METHOD_SIG)) != NULL)) {\n@@ -292,2 +286,1 @@\n-                    NSK_CPP_STUB4(GetMethodID, jni, testedClass,\n-                                    INSTANCE_METHOD_NAME, INSTANCE_METHOD_SIG)) != NULL)) {\n+                    jni->GetMethodID(testedClass, INSTANCE_METHOD_NAME, INSTANCE_METHOD_SIG)) != NULL)) {\n@@ -345,1 +338,1 @@\n-                        NSK_CPP_STUB2(Deallocate, jvmti, classfileBytes))) {\n+                        jvmti->Deallocate(classfileBytes))) {\n@@ -350,1 +343,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedThread));\n+            NSK_TRACE(jni->DeleteGlobalRef(testedThread));\n@@ -353,1 +346,1 @@\n-            NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass));\n+            NSK_TRACE(jni->DeleteGlobalRef(testedClass));\n@@ -397,1 +390,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IsMethodObsolete\/isobsolete001\/isobsolete001.cpp","additions":22,"deletions":29,"binary":false,"changes":51,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -137,3 +137,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -156,1 +154,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -164,1 +162,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -172,1 +170,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -180,2 +178,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -189,2 +186,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -198,2 +194,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -207,2 +202,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -216,2 +210,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -315,1 +308,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -433,3 +426,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap, jvmti,\n-                        JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback,\n-                        &fakeUserData))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback, &fakeUserData))) {\n@@ -545,1 +536,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -555,2 +546,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap001\/iterheap001.cpp","additions":16,"deletions":26,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -137,3 +137,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -156,1 +154,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -164,1 +162,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -172,1 +170,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -180,2 +178,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -189,2 +186,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -198,2 +194,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -207,2 +202,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -216,2 +210,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -315,1 +308,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -441,3 +434,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap, jvmti,\n-                        JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallback,\n-                        &fakeUserData))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallback, &fakeUserData))) {\n@@ -553,1 +544,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -563,2 +554,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap002\/iterheap002.cpp","additions":16,"deletions":26,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -137,3 +137,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -156,1 +154,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -164,1 +162,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -172,1 +170,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -180,2 +178,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -189,2 +186,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -198,2 +194,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -207,2 +202,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -216,2 +210,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -315,1 +308,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -442,3 +435,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap, jvmti,\n-                        JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallback,\n-                        &fakeUserData))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallback, &fakeUserData))) {\n@@ -554,1 +545,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -564,2 +555,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap003\/iterheap003.cpp","additions":16,"deletions":26,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -68,3 +68,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (sizeof(ObjectDesc)),\n-                                               (unsigned char**)&objectDescBuf))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((sizeof(ObjectDesc)), (unsigned char**)&objectDescBuf))) {\n@@ -100,1 +98,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescArr[ind]))) {\n+            jvmti->Deallocate((unsigned char*)objectDescArr[ind]))) {\n@@ -136,3 +134,1 @@\n-                        NSK_CPP_STUB4(IterateOverHeap, jvmti,\n-                            JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallbackForFirstIteration,\n-                            &fakeUserData))) {\n+                        jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallbackForFirstIteration, &fakeUserData))) {\n@@ -154,3 +150,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(Allocate, jvmti, (objectDescCount * sizeof(ObjectDesc*)),\n-                                      (unsigned char**)&objectDescArr))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Allocate((objectDescCount * sizeof(ObjectDesc*)), (unsigned char**)&objectDescArr))) {\n@@ -162,3 +156,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                    NSK_CPP_STUB3(Allocate, jvmti, (objectDescCount * sizeof(unsigned char)),\n-                                      &deallocatedFlagsArr))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Allocate((objectDescCount * sizeof(unsigned char)), &deallocatedFlagsArr))) {\n@@ -189,3 +181,1 @@\n-                        NSK_CPP_STUB4(IterateOverHeap, jvmti,\n-                            JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallbackForSecondIteration,\n-                            &fakeUserData))) {\n+                        jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallbackForSecondIteration, &fakeUserData))) {\n@@ -205,1 +195,1 @@\n-                           NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescArr[ind]))) {\n+                           jvmti->Deallocate((unsigned char*)objectDescArr[ind]))) {\n@@ -214,1 +204,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescArr))) {\n+                    jvmti->Deallocate((unsigned char*)objectDescArr))) {\n@@ -219,1 +209,1 @@\n-                    NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)deallocatedFlagsArr))) {\n+                    jvmti->Deallocate((unsigned char*)deallocatedFlagsArr))) {\n@@ -261,1 +251,1 @@\n-            NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+            jvmti->AddCapabilities(&caps))) {\n@@ -265,2 +255,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap004\/iterheap004.cpp","additions":11,"deletions":22,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-            NSK_CPP_STUB3(CreateRawMonitor, st_jvmti, name, &monitor_ptr))) {\n+            st_jvmti->CreateRawMonitor(name, &monitor_ptr))) {\n@@ -60,1 +60,1 @@\n-            NSK_CPP_STUB2(RawMonitorEnter, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorEnter(monitor_ptr))) {\n@@ -67,1 +67,1 @@\n-            NSK_CPP_STUB2(RawMonitorEnter, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorEnter(monitor_ptr))) {\n@@ -73,1 +73,1 @@\n-            NSK_CPP_STUB3(RawMonitorWait, st_jvmti, monitor_ptr, (jlong)100))) {\n+            st_jvmti->RawMonitorWait(monitor_ptr, (jlong)100))) {\n@@ -78,1 +78,1 @@\n-            NSK_CPP_STUB2(RawMonitorNotify, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorNotify(monitor_ptr))) {\n@@ -83,1 +83,1 @@\n-            NSK_CPP_STUB2(RawMonitorNotifyAll, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorNotifyAll(monitor_ptr))) {\n@@ -88,1 +88,1 @@\n-            NSK_CPP_STUB2(RawMonitorExit, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorExit(monitor_ptr))) {\n@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB2(RawMonitorExit, st_jvmti, monitor_ptr))) {\n+            st_jvmti->RawMonitorExit(monitor_ptr))) {\n@@ -101,1 +101,1 @@\n-            NSK_CPP_STUB2(DestroyRawMonitor, st_jvmti, monitor_ptr))) {\n+            st_jvmti->DestroyRawMonitor(monitor_ptr))) {\n@@ -122,5 +122,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap,\n-                        jvmti,\n-                        JVMTI_HEAP_OBJECT_EITHER,\n-                        heapObjectCallback,\n-                        &fakeUserData))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback, &fakeUserData))) {\n@@ -177,1 +173,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap005\/iterheap005.cpp","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-            NSK_CPP_STUB2(SetEnvironmentLocalStorage, st_jvmti, storage_data ))) {\n+            st_jvmti->SetEnvironmentLocalStorage(storage_data ))) {\n@@ -54,1 +54,1 @@\n-            NSK_CPP_STUB2(GetEnvironmentLocalStorage, st_jvmti, &storage_ptr))) {\n+            st_jvmti->GetEnvironmentLocalStorage(&storage_ptr))) {\n@@ -76,5 +76,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap,\n-                        jvmti,\n-                        JVMTI_HEAP_OBJECT_EITHER,\n-                        heapObjectCallback,\n-                        (void *)storage_data))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback, (void *)storage_data))) {\n@@ -138,1 +134,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap006\/iterheap006.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-            NSK_CPP_STUB2(GetCurrentThreadCpuTimerInfo, st_jvmti, &timer_info1 ))) {\n+            st_jvmti->GetCurrentThreadCpuTimerInfo(&timer_info1 ))) {\n@@ -68,1 +68,1 @@\n-            NSK_CPP_STUB2(GetCurrentThreadCpuTime, st_jvmti, &nanos ))) {\n+            st_jvmti->GetCurrentThreadCpuTime(&nanos ))) {\n@@ -74,1 +74,1 @@\n-            NSK_CPP_STUB2(GetTimerInfo, st_jvmti, &timer_info2 ))) {\n+            st_jvmti->GetTimerInfo(&timer_info2 ))) {\n@@ -94,1 +94,1 @@\n-            NSK_CPP_STUB2(GetTime, st_jvmti, &nanos ))) {\n+            st_jvmti->GetTime(&nanos ))) {\n@@ -116,5 +116,1 @@\n-                    NSK_CPP_STUB4(IterateOverHeap,\n-                        jvmti,\n-                        JVMTI_HEAP_OBJECT_EITHER,\n-                        heapObjectCallback,\n-                        (void *)user_data))) {\n+                    jvmti->IterateOverHeap(JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback, (void *)user_data))) {\n@@ -167,1 +163,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverHeap\/iterheap007\/iterheap007.cpp","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -139,3 +139,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -158,1 +156,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -166,1 +164,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -174,1 +172,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -182,1 +180,1 @@\n-            NSK_CPP_STUB2(NewGlobalRef, jni, chainObjectClass)) != NULL)) {\n+            jni->NewGlobalRef(chainObjectClass)) != NULL)) {\n@@ -190,2 +188,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -199,2 +196,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -208,2 +204,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -217,2 +212,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -226,2 +220,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -237,1 +230,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, *testedClass, testedClassTag))) {\n+            jvmti->SetTag(*testedClass, testedClassTag))) {\n@@ -332,1 +325,1 @@\n-        NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass));\n+        NSK_TRACE(jni->DeleteGlobalRef(testedClass));\n@@ -338,1 +331,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -453,3 +446,1 @@\n-                    NSK_CPP_STUB5(IterateOverInstancesOfClass, jvmti,\n-                        testedClass, JVMTI_HEAP_OBJECT_EITHER,\n-                        heapObjectCallback, &fakeUserData))) {\n+                    jvmti->IterateOverInstancesOfClass(testedClass, JVMTI_HEAP_OBJECT_EITHER, heapObjectCallback, &fakeUserData))) {\n@@ -564,1 +555,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -574,2 +565,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverInstancesOfClass\/iterinstcls001\/iterinstcls001.cpp","additions":19,"deletions":29,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -139,3 +139,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -158,1 +156,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -166,1 +164,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -174,1 +172,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -182,1 +180,1 @@\n-            NSK_CPP_STUB2(NewGlobalRef, jni, chainObjectClass)) != NULL)) {\n+            jni->NewGlobalRef(chainObjectClass)) != NULL)) {\n@@ -190,2 +188,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -199,2 +196,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -208,2 +204,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -217,2 +212,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -226,2 +220,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -237,1 +230,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, *testedClass, testedClassTag))) {\n+            jvmti->SetTag(*testedClass, testedClassTag))) {\n@@ -332,1 +325,1 @@\n-        NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass));\n+        NSK_TRACE(jni->DeleteGlobalRef(testedClass));\n@@ -338,1 +331,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -461,3 +454,1 @@\n-                    NSK_CPP_STUB5(IterateOverInstancesOfClass, jvmti,\n-                        testedClass, JVMTI_HEAP_OBJECT_TAGGED,\n-                        heapObjectCallback, &fakeUserData))) {\n+                    jvmti->IterateOverInstancesOfClass(testedClass, JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallback, &fakeUserData))) {\n@@ -572,1 +563,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -582,2 +573,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverInstancesOfClass\/iterinstcls002\/iterinstcls002.cpp","additions":19,"deletions":29,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -95,1 +95,1 @@\n-            NSK_CPP_STUB3(GetObjectField, jni, firstObject, firstField)) != NULL)) {\n+            jni->GetObjectField(firstObject, firstField)) != NULL)) {\n@@ -102,1 +102,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, obj, objTag))) {\n+            jvmti->SetTag(obj, objTag))) {\n@@ -114,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB2(DeleteLocalRef, jni, obj));\n+    NSK_TRACE(jni->DeleteLocalRef(obj));\n@@ -139,3 +139,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, (*objectsCount * sizeof(ObjectDesc)),\n-                                                    (unsigned char**)objectDescList))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate((*objectsCount * sizeof(ObjectDesc)), (unsigned char**)objectDescList))) {\n@@ -158,1 +156,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -166,1 +164,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(ROOT_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -174,1 +172,1 @@\n-            NSK_CPP_STUB2(FindClass, jni, CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n+            jni->FindClass(CHAIN_OBJECT_CLASS_NAME)) != NULL)) {\n@@ -182,1 +180,1 @@\n-            NSK_CPP_STUB2(NewGlobalRef, jni, chainObjectClass)) != NULL)) {\n+            jni->NewGlobalRef(chainObjectClass)) != NULL)) {\n@@ -190,2 +188,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, debugeeClass,\n-                            OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetStaticFieldID(debugeeClass, OBJECT_FIELD_NAME, ROOT_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -199,2 +196,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, REACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -208,2 +204,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, rootObjectClass,\n-                        UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(rootObjectClass, UNREACHABLE_CHAIN_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -217,2 +212,1 @@\n-            NSK_CPP_STUB4(GetFieldID, jni, chainObjectClass,\n-                            TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n+            jni->GetFieldID(chainObjectClass, TAIL_FIELD_NAME, CHAIN_OBJECT_CLASS_SIG)) != NULL)) {\n@@ -226,2 +220,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, debugeeClass,\n-                                                    objectField)) != NULL)) {\n+            jni->GetStaticObjectField(debugeeClass, objectField)) != NULL)) {\n@@ -237,1 +230,1 @@\n-            NSK_CPP_STUB3(SetTag, jvmti, *testedClass, testedClassTag))) {\n+            jvmti->SetTag(*testedClass, testedClassTag))) {\n@@ -332,1 +325,1 @@\n-        NSK_TRACE(NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass));\n+        NSK_TRACE(jni->DeleteGlobalRef(testedClass));\n@@ -338,1 +331,1 @@\n-            NSK_CPP_STUB2(Deallocate, jvmti, (unsigned char*)objectDescList))) {\n+            jvmti->Deallocate((unsigned char*)objectDescList))) {\n@@ -462,3 +455,1 @@\n-                    NSK_CPP_STUB5(IterateOverInstancesOfClass, jvmti,\n-                        testedClass, JVMTI_HEAP_OBJECT_UNTAGGED,\n-                        heapObjectCallback, &fakeUserData))) {\n+                    jvmti->IterateOverInstancesOfClass(testedClass, JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallback, &fakeUserData))) {\n@@ -573,1 +564,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n@@ -583,2 +574,1 @@\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+                jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverInstancesOfClass\/iterinstcls003\/iterinstcls003.cpp","additions":19,"deletions":29,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -64,3 +64,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, st_jvmti, (sizeof(ObjectDesc)),\n-                             (unsigned char**)&objectDescBuf))) {\n+    if (!NSK_JVMTI_VERIFY(st_jvmti->Allocate((sizeof(ObjectDesc)), (unsigned char**)&objectDescBuf))) {\n@@ -86,2 +84,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(Deallocate, st_jvmti, (unsigned char*)objectDescBuf))) {\n+    if (!NSK_JVMTI_VERIFY(st_jvmti->Deallocate((unsigned char*)objectDescBuf))) {\n@@ -118,6 +115,1 @@\n-                        NSK_CPP_STUB5(IterateOverInstancesOfClass,\n-                            jvmti,\n-                            debugeeClass,\n-                            JVMTI_HEAP_OBJECT_UNTAGGED,\n-                            heapObjectCallback1,\n-                            &userData))) {\n+                        jvmti->IterateOverInstancesOfClass(debugeeClass, JVMTI_HEAP_OBJECT_UNTAGGED, heapObjectCallback1, &userData))) {\n@@ -142,6 +134,1 @@\n-                        NSK_CPP_STUB5(IterateOverInstancesOfClass,\n-                            jvmti,\n-                            debugeeClass,\n-                            JVMTI_HEAP_OBJECT_TAGGED,\n-                            heapObjectCallback2,\n-                            &userData))) {\n+                        jvmti->IterateOverInstancesOfClass(debugeeClass, JVMTI_HEAP_OBJECT_TAGGED, heapObjectCallback2, &userData))) {\n@@ -203,1 +190,1 @@\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+                jvmti->AddCapabilities(&caps))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/IterateOverInstancesOfClass\/iterinstcls004\/iterinstcls004.cpp","additions":5,"deletions":18,"binary":false,"changes":23,"status":"modified"}]}