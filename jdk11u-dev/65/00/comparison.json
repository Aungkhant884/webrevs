{"files":[{"patch":"@@ -67,0 +67,7 @@\n+            \/\/ start with allocating a small block\n+            long firstSegmentSizedAddress = 0;\n+            firstSegmentSizedAddress = allocate(0);\n+            if (firstSegmentSizedAddress == 0) {\n+                throw new RuntimeException(\"Test failed: Failed allocating first segment-sized blob\");\n+            }\n+\n@@ -72,2 +79,4 @@\n-            \/\/ Allocate segment-sized blocks in first code heap.\n-            long lastSegmentSizedAddress = 0; \/\/ Address of the last segment-sized blob allocated\n+            \/\/ Allocate segment-sized blocks in first code heap until it runs out\n+            \/\/ Remember the last one\n+            \/\/ Use the pre-allocated one as backup if the code cache is already completely full.\n+            long lastSegmentSizedAddress = firstSegmentSizedAddress;\n","filename":"test\/hotspot\/jtreg\/compiler\/codecache\/stress\/ReturnBlobToWrongHeapTest.java","additions":11,"deletions":2,"binary":false,"changes":13,"status":"modified"}]}