{"files":[{"patch":"@@ -195,2 +195,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetCapabilities, jvmti, &caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps))) {\n@@ -219,2 +218,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(AddCapabilities, jvmti, caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(caps))) {\n@@ -317,3 +315,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AddCapabilities\/addcaps001\/addcaps001.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -195,2 +195,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetCapabilities, jvmti, &caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps))) {\n@@ -219,2 +218,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(AddCapabilities, jvmti, caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(caps))) {\n@@ -234,2 +232,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetPotentialCapabilities, jvmti, caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPotentialCapabilities(caps))) {\n@@ -337,3 +334,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AddCapabilities\/addcaps002\/addcaps002.cpp","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -60,2 +60,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetCapabilities, jvmti, &caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps))) {\n@@ -74,2 +73,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(AddCapabilities, jvmti, caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(caps))) {\n@@ -89,2 +87,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB2(GetPotentialCapabilities, jvmti, caps))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPotentialCapabilities(caps))) {\n@@ -186,3 +183,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AddCapabilities\/addcaps003\/addcaps003.cpp","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-        NSK_CPP_STUB2(FindClass, jni, ATTACH002_TARGET_APP_CLASS_NAME)) != NULL)) {\n+        jni->FindClass(ATTACH002_TARGET_APP_CLASS_NAME)) != NULL)) {\n@@ -82,1 +82,1 @@\n-            (NSK_CPP_STUB4(RegisterNatives, jni, appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n+            (jni->RegisterNatives(appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n@@ -208,1 +208,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -225,1 +225,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach002\/attach002Agent00.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -115,1 +115,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach002a\/attach002aAgent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -133,1 +133,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach008\/attach008Agent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -85,2 +85,1 @@\n-        if (!NSK_JVMTI_VERIFY( NSK_CPP_STUB4(\n-                SetEventNotificationMode, jvmti, JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, thread) ) ) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, thread) ) ) {\n@@ -145,1 +144,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach009\/attach009Agent00.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPotentialCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetPotentialCapabilities(&caps)) ) {\n@@ -78,1 +78,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach012\/attach012Agent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB1(DisposeEnvironment, jvmti))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->DisposeEnvironment())) {\n@@ -107,1 +107,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach014\/attach014Agent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach015\/attach015Agent00.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach015\/attach015Agent01.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-    return NSK_CPP_STUB2(FindClass, jni, LOADED_CLASS_NAME) ? JNI_TRUE : JNI_FALSE;\n+    return jni->FindClass(LOADED_CLASS_NAME) ? JNI_TRUE : JNI_FALSE;\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach015\/attach015Target.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,2 +74,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, gcFinishMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(gcFinishMonitor))) {\n@@ -79,2 +78,1 @@\n-        if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-                RawMonitorNotify, jvmti, gcFinishMonitor))) {\n+        if (NSK_JVMTI_VERIFY(jvmti->RawMonitorNotify(gcFinishMonitor))) {\n@@ -84,1 +82,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, gcFinishMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(gcFinishMonitor))) {\n@@ -99,2 +97,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, gcFinishMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(gcFinishMonitor))) {\n@@ -103,2 +100,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(\n-                    RawMonitorWait, jvmti, gcFinishMonitor, 0))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorWait(gcFinishMonitor, 0))) {\n@@ -109,1 +105,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, gcFinishMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(gcFinishMonitor))) {\n@@ -125,2 +121,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(\n-            RunAgentThread, jvmti, thread, auxiliaryThreadFunction, NULL, JVMTI_THREAD_NORM_PRIORITY ))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RunAgentThread(thread, auxiliaryThreadFunction, NULL, JVMTI_THREAD_NORM_PRIORITY ))) {\n@@ -164,1 +159,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"GCFinishMonitor\", &gcFinishMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"GCFinishMonitor\", &gcFinishMonitor))) {\n@@ -173,1 +168,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -180,1 +175,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach020\/attach020Agent00.cpp","additions":10,"deletions":15,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetTag, jvmti, obj, TAG_VALUE))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetTag(obj, TAG_VALUE))) {\n@@ -98,1 +98,1 @@\n-        NSK_CPP_STUB2(FindClass, jni, ATTACH021_TARGET_APP_CLASS_NAME)) != NULL)) {\n+        jni->FindClass(ATTACH021_TARGET_APP_CLASS_NAME)) != NULL)) {\n@@ -103,1 +103,1 @@\n-            (NSK_CPP_STUB4(RegisterNatives, jni, appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n+            (jni->RegisterNatives(appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n@@ -145,1 +145,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -151,1 +151,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach021\/attach021Agent00.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -87,3 +87,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, objectFreeMonitor))) {\n-\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(objectFreeMonitor))) {\n@@ -92,1 +90,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, objectFreeMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(objectFreeMonitor))) {\n@@ -110,1 +108,1 @@\n-        NSK_CPP_STUB2(FindClass, jni, ATTACH022_TARGET_APP_CLASS_NAME)) != NULL)) {\n+        jni->FindClass(ATTACH022_TARGET_APP_CLASS_NAME)) != NULL)) {\n@@ -115,1 +113,1 @@\n-            (NSK_CPP_STUB4(RegisterNatives, jni, appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n+            (jni->RegisterNatives(appClass, nativeMethods, nativeMethodsNumber) == 0))) {\n@@ -139,2 +137,1 @@\n-        if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-                RawMonitorEnter, jvmti, objectTagMonitor))) {\n+        if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(objectTagMonitor))) {\n@@ -143,2 +140,1 @@\n-\n-            if (!NSK_JVMTI_VERIFY( NSK_CPP_STUB3(SetTag, jvmti, object, tagValue))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->SetTag(object, tagValue))) {\n@@ -152,1 +148,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, objectTagMonitor))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(objectTagMonitor))) {\n@@ -198,1 +194,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"ObjectTagMonitor\", &objectTagMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"ObjectTagMonitor\", &objectTagMonitor))) {\n@@ -202,1 +198,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"ObjectFreeMonitor\", &objectFreeMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"ObjectFreeMonitor\", &objectFreeMonitor))) {\n@@ -210,1 +206,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -217,1 +213,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach022\/attach022Agent00.cpp","additions":11,"deletions":15,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -132,1 +132,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach037\/attach037Agent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach038\/attach038Agent00.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,2 +71,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(\n-            RunAgentThread, jvmti, thread, startedThreadFunction, NULL, JVMTI_THREAD_NORM_PRIORITY ))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RunAgentThread(thread, startedThreadFunction, NULL, JVMTI_THREAD_NORM_PRIORITY ))) {\n@@ -158,1 +157,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach039\/attach039Agent00.cpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -69,1 +69,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetAllThreads, jvmti, &threadsCount, &threads))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->GetAllThreads(&threadsCount, &threads))) {\n@@ -97,2 +97,1 @@\n-        if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-                RawMonitorEnter, jvmti, threadsCounterMonitor))) {\n+        if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(threadsCounterMonitor))) {\n@@ -106,1 +105,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, threadsCounterMonitor))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(threadsCounterMonitor))) {\n@@ -148,1 +147,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"threadsCounterMonitor\", &threadsCounterMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"threadsCounterMonitor\", &threadsCounterMonitor))) {\n@@ -154,1 +153,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach040\/attach040Agent00.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-    if(!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetThreadGroupInfo, jvmti, group, &groupInfo))) {\n+    if(!NSK_JVMTI_VERIFY(jvmti->GetThreadGroupInfo(group, &groupInfo))) {\n@@ -64,1 +64,1 @@\n-    if(!NSK_JVMTI_VERIFY(NSK_CPP_STUB6(GetThreadGroupChildren, jvmti, group, &threadsCount, &threads, &groupsCount, &groups))) {\n+    if(!NSK_JVMTI_VERIFY(jvmti->GetThreadGroupChildren(group, &threadsCount, &threads, &groupsCount, &groups))) {\n@@ -121,1 +121,1 @@\n-        if(!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetTopThreadGroups, jvmti, &groupsCount, &topGroups))) {\n+        if(!NSK_JVMTI_VERIFY(jvmti->GetTopThreadGroups(&groupsCount, &topGroups))) {\n@@ -175,1 +175,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach041\/attach041Agent00.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-        if(!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetAllThreads, jvmti, &threadsCount, &threads))) {\n+        if(!NSK_JVMTI_VERIFY(jvmti->GetAllThreads(&threadsCount, &threads))) {\n@@ -88,1 +88,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetThreadState, jvmti, threads[i], &threadState))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->GetThreadState(threads[i], &threadState))) {\n@@ -139,1 +139,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach042\/attach042Agent00.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -60,2 +60,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, eventsCounterMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(eventsCounterMonitor))) {\n@@ -72,1 +71,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, eventsCounterMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(eventsCounterMonitor))) {\n@@ -112,1 +111,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"attach045-agent00-eventsCounterMonitor\", &eventsCounterMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"attach045-agent00-eventsCounterMonitor\", &eventsCounterMonitor))) {\n@@ -118,1 +117,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach045\/attach045Agent00.cpp","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetLoadedClasses, jvmti, &loadedClassesCount, &loadedClasses))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetLoadedClasses(&loadedClassesCount, &loadedClasses))) {\n@@ -70,2 +70,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, eventsCounterMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(eventsCounterMonitor))) {\n@@ -83,1 +82,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, eventsCounterMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(eventsCounterMonitor))) {\n@@ -123,1 +122,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"attach045-agent01-eventsCounterMonitor\", &eventsCounterMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"attach045-agent01-eventsCounterMonitor\", &eventsCounterMonitor))) {\n@@ -129,1 +128,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach045\/attach045Agent01.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetAllThreads, jvmti, &threadsCount, &threads))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetAllThreads(&threadsCount, &threads))) {\n@@ -73,2 +73,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, eventsCounterMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(eventsCounterMonitor))) {\n@@ -89,1 +88,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, eventsCounterMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(eventsCounterMonitor))) {\n@@ -143,1 +142,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"attach045-agent02-eventsCounterMonitor\", &eventsCounterMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"attach045-agent02-eventsCounterMonitor\", &eventsCounterMonitor))) {\n@@ -150,1 +149,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach045\/attach045Agent02.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -71,2 +71,1 @@\n-    if (NSK_JVMTI_VERIFY(NSK_CPP_STUB2(\n-            RawMonitorEnter, jvmti, eventsCounterMonitor))) {\n+    if (NSK_JVMTI_VERIFY(jvmti->RawMonitorEnter(eventsCounterMonitor))) {\n@@ -82,1 +81,1 @@\n-            if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB1(ForceGarbageCollection, jvmti)))\n+            if (!NSK_JVMTI_VERIFY(jvmti->ForceGarbageCollection()))\n@@ -92,1 +91,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit, jvmti, eventsCounterMonitor))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->RawMonitorExit(eventsCounterMonitor))) {\n@@ -133,1 +132,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor, jvmti, \"attach045-agent03-eventsCounterMonitor\", &eventsCounterMonitor))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"attach045-agent03-eventsCounterMonitor\", &eventsCounterMonitor))) {\n@@ -139,1 +138,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -145,1 +144,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach045\/attach045Agent03.cpp","additions":6,"deletions":7,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -116,1 +116,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)) ) {\n@@ -122,1 +122,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks, jvmti, &eventCallbacks, sizeof(eventCallbacks))) ) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))) ) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/AttachOnDemand\/attach046\/attach046Agent00.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -70,9 +70,5 @@\n-        if (!NSK_JNI_VERIFY(env, (mid = NSK_CPP_STUB4(GetMethodID,\n-                env, klass, METHODS[i][0], METHODS[i][1])) != NULL))\n-            NSK_CPP_STUB2(FatalError, env,\n-                \"failed to get ID for the java method\\n\");\n-\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetBreakpoint,\n-                jvmti_env, mid, 0)))\n-            NSK_CPP_STUB2(FatalError, env,\n-                \"failed to set breakpoint\\n\");\n+        if (!NSK_JNI_VERIFY(env, (mid = env->GetMethodID(klass, METHODS[i][0], METHODS[i][1])) != NULL))\n+            env->FatalError(\"failed to get ID for the java method\\n\");\n+\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->SetBreakpoint(mid, 0)))\n+            env->FatalError(\"failed to set breakpoint\\n\");\n@@ -91,4 +87,2 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature,\n-                                            jvmti_env, klass, &sig, &generic)))\n-            NSK_CPP_STUB2(FatalError, env,\n-                          \"failed to obtain a class signature\\n\");\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->GetClassSignature(klass, &sig, &generic)))\n+            env->FatalError(\"failed to obtain a class signature\\n\");\n@@ -119,2 +113,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetThreadInfo,\n-            jvmti_env, thread, &thr_info))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetThreadInfo(thread, &thr_info))) {\n@@ -149,2 +142,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(GetMethodDeclaringClass,\n-            jvmti_env, method, &klass))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetMethodDeclaringClass(method, &klass))) {\n@@ -155,2 +147,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature,\n-            jvmti_env, klass, &clsSig, &generic))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetClassSignature(klass, &clsSig, &generic))) {\n@@ -172,2 +163,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(GetMethodName,\n-            jvmti_env, method, &methNam, &methSig, NULL))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetMethodName(method, &methNam, &methSig, NULL))) {\n@@ -189,2 +179,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-            jvmti_env, (unsigned char*) methNam))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Deallocate((unsigned char*) methNam))) {\n@@ -194,2 +183,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-            jvmti_env, (unsigned char*) methSig))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Deallocate((unsigned char*) methSig))) {\n@@ -263,2 +251,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -267,2 +254,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -280,2 +266,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -286,2 +271,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_START, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_START, NULL)))\n@@ -289,2 +273,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, NULL)))\n@@ -292,2 +275,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_BREAKPOINT, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_BREAKPOINT, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/Breakpoint\/breakpoint001\/breakpoint001.cpp","additions":19,"deletions":37,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -96,2 +96,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -101,2 +100,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_FILE_LOAD_HOOK, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk001\/classfloadhk001.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -133,1 +133,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -139,2 +139,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -148,3 +147,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -157,2 +154,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -170,1 +166,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -193,1 +189,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -243,2 +239,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, origClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(origClassBytes))) {\n@@ -321,2 +316,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -335,2 +329,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk002\/classfloadhk002.cpp","additions":10,"deletions":17,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -138,1 +138,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -144,2 +144,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -153,3 +152,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -162,2 +159,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -175,1 +171,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -190,1 +186,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -197,2 +193,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -205,2 +200,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB2(NewGlobalRef, jni, obj)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->NewGlobalRef(obj)) != NULL)) {\n@@ -232,1 +226,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -289,1 +283,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, classLoader);\n+            jni->DeleteGlobalRef(classLoader);\n@@ -292,2 +286,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, origClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(origClassBytes))) {\n@@ -334,1 +327,1 @@\n-        } else if (!NSK_CPP_STUB3(IsSameObject, jni, loader, classLoader)) {\n+        } else if (!jni->IsSameObject(loader, classLoader)) {\n@@ -383,2 +376,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -397,2 +389,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk003\/classfloadhk003.cpp","additions":15,"deletions":24,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -72,1 +72,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -78,2 +78,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -87,3 +86,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -96,2 +93,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -109,1 +105,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -132,1 +128,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -274,2 +270,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -288,2 +283,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk004\/classfloadhk004.cpp","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -134,1 +134,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -140,2 +140,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -149,3 +148,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -158,2 +155,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -171,1 +167,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -194,1 +190,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -336,2 +332,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -350,2 +345,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk005\/classfloadhk005.cpp","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -131,1 +131,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -139,1 +139,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -145,2 +145,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -154,3 +153,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -163,2 +160,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -176,1 +172,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -191,1 +187,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -198,2 +194,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -206,2 +201,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB2(NewGlobalRef, jni, obj)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->NewGlobalRef(obj)) != NULL)) {\n@@ -226,2 +220,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(RedefineClasses, jvmti, 1, &classDef))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RedefineClasses(1, &classDef))) {\n@@ -253,1 +246,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -312,1 +305,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass);\n+            jni->DeleteGlobalRef(testedClass);\n@@ -315,2 +308,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, redefClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(redefClassBytes))) {\n@@ -350,1 +342,1 @@\n-        } else if (!NSK_CPP_STUB3(IsSameObject, jni, class_being_redefined, testedClass)) {\n+        } else if (!jni->IsSameObject(class_being_redefined, testedClass)) {\n@@ -400,2 +392,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -414,2 +405,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk006\/classfloadhk006.cpp","additions":16,"deletions":26,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -135,1 +135,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -143,1 +143,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -149,2 +149,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -158,3 +157,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -167,2 +164,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -180,1 +176,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -195,1 +191,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -202,2 +198,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -210,2 +205,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB2(NewGlobalRef, jni, obj)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->NewGlobalRef(obj)) != NULL)) {\n@@ -230,2 +224,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(RedefineClasses, jvmti, 1, &classDef))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RedefineClasses(1, &classDef))) {\n@@ -257,1 +250,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -322,1 +315,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, classLoader);\n+            jni->DeleteGlobalRef(classLoader);\n@@ -325,1 +318,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass);\n+            jni->DeleteGlobalRef(testedClass);\n@@ -328,2 +321,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, redefClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(redefClassBytes))) {\n@@ -363,1 +355,1 @@\n-        } else if (!NSK_CPP_STUB3(IsSameObject, jni, loader, classLoader)) {\n+        } else if (!jni->IsSameObject(loader, classLoader)) {\n@@ -376,1 +368,1 @@\n-        } else if (!NSK_CPP_STUB3(IsSameObject, jni, class_being_redefined, testedClass)) {\n+        } else if (!jni->IsSameObject(class_being_redefined, testedClass)) {\n@@ -426,2 +418,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -440,2 +431,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk007\/classfloadhk007.cpp","additions":18,"deletions":28,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -81,1 +81,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -87,2 +87,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -96,3 +95,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -105,2 +102,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -118,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -133,1 +129,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -140,2 +136,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -148,2 +143,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB2(NewGlobalRef, jni, obj)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->NewGlobalRef(obj)) != NULL)) {\n@@ -168,2 +162,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(RedefineClasses, jvmti, 1, &classDef))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RedefineClasses(1, &classDef))) {\n@@ -195,1 +188,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -261,1 +254,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass);\n+            jni->DeleteGlobalRef(testedClass);\n@@ -264,2 +257,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, redefClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(redefClassBytes))) {\n@@ -362,2 +354,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -376,2 +367,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk008\/classfloadhk008.cpp","additions":15,"deletions":25,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -73,1 +73,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -81,1 +81,1 @@\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+            jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -87,2 +87,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (*size =\n-            NSK_CPP_STUB2(GetArrayLength, jni, array)) > 0)) {\n+    if (!NSK_JNI_VERIFY(jni, (*size = jni->GetArrayLength(array)) > 0)) {\n@@ -96,3 +95,1 @@\n-        if (!NSK_JNI_VERIFY(jni, (elements =\n-                NSK_CPP_STUB3(GetByteArrayElements, jni, array,\n-                                                            &isCopy)) != NULL)) {\n+        if (!NSK_JNI_VERIFY(jni, (elements = jni->GetByteArrayElements(array, &isCopy)) != NULL)) {\n@@ -105,2 +102,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(Allocate, jvmti, *size, bytes))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->Allocate(*size, bytes))) {\n@@ -118,1 +114,1 @@\n-    NSK_TRACE(NSK_CPP_STUB4(ReleaseByteArrayElements, jni, array, elements, JNI_ABORT));\n+    NSK_TRACE(jni->ReleaseByteArrayElements(array, elements, JNI_ABORT));\n@@ -133,1 +129,1 @@\n-            NSK_CPP_STUB4(GetStaticFieldID, jni, cls, fieldName, fieldSig)) != NULL)) {\n+            jni->GetStaticFieldID(cls, fieldName, fieldSig)) != NULL)) {\n@@ -140,2 +136,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB3(GetStaticObjectField, jni, cls, fieldID)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->GetStaticObjectField(cls, fieldID)) != NULL)) {\n@@ -148,2 +143,1 @@\n-    if (!NSK_JNI_VERIFY(jni, (obj =\n-            NSK_CPP_STUB2(NewGlobalRef, jni, obj)) != NULL)) {\n+    if (!NSK_JNI_VERIFY(jni, (obj = jni->NewGlobalRef(obj)) != NULL)) {\n@@ -168,2 +162,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(RedefineClasses, jvmti, 1, &classDef))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->RedefineClasses(1, &classDef))) {\n@@ -195,1 +188,1 @@\n-                    NSK_CPP_STUB2(FindClass, jni, DEBUGEE_CLASS_NAME)) != NULL)) {\n+                    jni->FindClass(DEBUGEE_CLASS_NAME)) != NULL)) {\n@@ -261,1 +254,1 @@\n-            NSK_CPP_STUB2(DeleteGlobalRef, jni, testedClass);\n+            jni->DeleteGlobalRef(testedClass);\n@@ -264,2 +257,1 @@\n-            if (!NSK_JVMTI_VERIFY(\n-                        NSK_CPP_STUB2(Deallocate, jvmti, redefClassBytes))) {\n+            if (!NSK_JVMTI_VERIFY(jvmti->Deallocate(redefClassBytes))) {\n@@ -362,2 +354,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps))) {\n@@ -376,2 +367,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti, &callbacks, size))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, size))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassFileLoadHook\/classfloadhk009\/classfloadhk009.cpp","additions":15,"deletions":25,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -101,4 +101,2 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter,\n-            jvmti_env, countLock)))\n-        NSK_CPP_STUB2(FatalError, jni_env,\n-                \"failed to enter a raw monitor\\n\");\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorEnter(countLock)))\n+        jni_env->FatalError(\"failed to enter a raw monitor\\n\");\n@@ -108,4 +106,2 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit,\n-        jvmti_env, countLock)))\n-        NSK_CPP_STUB2(FatalError, jni_env,\n-                \"failed to exit a raw monitor\\n\");\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorExit(countLock)))\n+        jni_env->FatalError(\"failed to exit a raw monitor\\n\");\n@@ -122,2 +118,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(GetClassSignature,\n-            jvmti_env, klass, &sig, &generic))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetClassSignature(klass, &sig, &generic))) {\n@@ -187,2 +182,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor,\n-            jvmti, \"_counter_lock\", &countLock)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->CreateRawMonitor(\"_counter_lock\", &countLock)))\n@@ -194,2 +188,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -199,2 +192,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_CLASS_LOAD, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ClassLoad\/classload001\/classload001.cpp","additions":8,"deletions":16,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -48,2 +48,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GenerateEvents,\n-            jvmti_env, JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GenerateEvents(JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n@@ -66,2 +65,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(GetMethodName,\n-            jvmti_env, method, &name, &sig, &generic))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetMethodName(method, &name, &sig, &generic))) {\n@@ -75,2 +73,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase,\n-            jvmti_env, &phase))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetPhase(&phase))) {\n@@ -125,2 +122,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -129,2 +125,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -141,2 +136,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -146,2 +140,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n@@ -149,2 +142,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_LOAD, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_LOAD, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/CompiledMethodLoad\/compmethload001\/compmethload001.cpp","additions":8,"deletions":16,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -50,2 +50,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GenerateEvents,\n-            jvmti_env, JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GenerateEvents(JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n@@ -67,2 +66,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB5(GetMethodName,\n-            jvmti_env, method, &name, &sig, &generic))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetMethodName(method, &name, &sig, &generic))) {\n@@ -97,2 +95,2 @@\n-        NSK_CPP_STUB2(Deallocate, jvmti_env, (unsigned char*)name);\n-        NSK_CPP_STUB2(Deallocate, jvmti_env, (unsigned char*)sig);\n+        jvmti_env->Deallocate((unsigned char*)name);\n+        jvmti_env->Deallocate((unsigned char*)sig);\n@@ -107,2 +105,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetPhase,\n-            jvmti_env, &phase))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->GetPhase(&phase))) {\n@@ -169,2 +166,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -173,2 +169,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -186,2 +181,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -191,2 +185,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL)))\n@@ -194,2 +187,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_LOAD, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_LOAD, NULL)))\n@@ -197,2 +189,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_UNLOAD, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_COMPILED_METHOD_UNLOAD, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/CompiledMethodUnload\/compmethunload001\/compmethunload001.cpp","additions":11,"deletions":20,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -121,2 +121,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -126,2 +125,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_DATA_DUMP_REQUEST, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_DATA_DUMP_REQUEST, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DataDumpRequest\/datadumpreq001\/datadumpreq001.cpp","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -57,2 +57,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB1(DisposeEnvironment, jvmti))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->DisposeEnvironment())) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DisposeEnvironment\/disposeenv001\/disposeenv001.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -48,2 +48,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_DISABLE,\n-                                JVMTI_EVENT_VM_DEATH, NULL))) {\n+            jvmti->SetEventNotificationMode(JVMTI_DISABLE, JVMTI_EVENT_VM_DEATH, NULL))) {\n@@ -56,2 +55,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB1(DisposeEnvironment, jvmti))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti->DisposeEnvironment())) {\n@@ -98,3 +96,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks)))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks)))) {\n@@ -106,2 +102,1 @@\n-                NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                                    JVMTI_EVENT_VM_DEATH, NULL))) {\n+                jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL))) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DisposeEnvironment\/disposeenv002\/disposeenv002.cpp","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -119,3 +119,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-            NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -126,2 +124,1 @@\n-            NSK_CPP_STUB4(SetEventNotificationMode, jvmti, JVMTI_ENABLE,\n-                JVMTI_EVENT_DYNAMIC_CODE_GENERATED, NULL)))\n+            jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_DYNAMIC_CODE_GENERATED, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/DynamicCodeGenerated\/dyncodgen001\/dyncodgen001.cpp","additions":2,"deletions":5,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -48,5 +48,1 @@\n-                NSK_CPP_STUB2(\n-                    SuspendThread\n-                    , jvmti\n-                    , earlyReturnThread\n-                )\n+                jvmti                    ->SuspendThread                    (earlyReturnThread                )\n@@ -70,5 +66,1 @@\n-                NSK_CPP_STUB2(\n-                    ResumeThread\n-                    , jvmti\n-                    , earlyReturnThread\n-                )\n+                jvmti                    ->ResumeThread                    (earlyReturnThread                )\n@@ -93,6 +85,1 @@\n-                NSK_CPP_STUB3(\n-                    ForceEarlyReturnObject\n-                    , jvmti\n-                    , earlyReturnThread\n-                    , valueToReturn\n-                    )\n+                jvmti                    ->ForceEarlyReturnObject                    (earlyReturnThread                    , valueToReturn                    )\n@@ -117,6 +104,1 @@\n-                NSK_CPP_STUB3(\n-                    ForceEarlyReturnInt\n-                    , jvmti\n-                    , earlyReturnThread\n-                    , valueToReturn\n-                    )\n+                jvmti                    ->ForceEarlyReturnInt                    (earlyReturnThread                    , valueToReturn                    )\n@@ -141,6 +123,1 @@\n-                NSK_CPP_STUB3(\n-                    ForceEarlyReturnLong\n-                    , jvmti\n-                    , earlyReturnThread\n-                    , valueToReturn\n-                    )\n+                jvmti                    ->ForceEarlyReturnLong                    (earlyReturnThread                    , valueToReturn                    )\n@@ -165,6 +142,1 @@\n-                NSK_CPP_STUB3(\n-                    ForceEarlyReturnFloat\n-                    , jvmti\n-                    , earlyReturnThread\n-                    , valueToReturn\n-                    )\n+                jvmti                    ->ForceEarlyReturnFloat                    (earlyReturnThread                    , valueToReturn                    )\n@@ -189,6 +161,1 @@\n-                NSK_CPP_STUB3(\n-                    ForceEarlyReturnDouble\n-                    , jvmti\n-                    , earlyReturnThread\n-                    , valueToReturn\n-                    )\n+                jvmti                    ->ForceEarlyReturnDouble                    (earlyReturnThread                    , valueToReturn                    )\n@@ -212,5 +179,1 @@\n-                NSK_CPP_STUB2(\n-                    ForceEarlyReturnVoid\n-                    , jvmti\n-                    , earlyReturnThread\n-                    )\n+                jvmti                    ->ForceEarlyReturnVoid                    (earlyReturnThread                    )\n@@ -248,5 +211,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(\n-                    GetCapabilities\n-                    , jvmti\n-                    , &caps)\n+    if (!NSK_JVMTI_VERIFY(jvmti                    ->GetCapabilities                    (&caps)\n@@ -261,5 +220,1 @@\n-    if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(\n-                    AddCapabilities\n-                    , jvmti\n-                    , &caps)\n+    if (!NSK_JVMTI_VERIFY(jvmti                    ->AddCapabilities                    (&caps)\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ForceEarlyReturn\/ForceEarlyReturn001\/ForceEarlyReturn001.cpp","additions":10,"deletions":55,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -48,2 +48,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB1(ForceGarbageCollection, jvmti))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->ForceGarbageCollection())) {\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ForceGarbageCollection\/forcegc001\/forcegc001.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -57,2 +57,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB1(ForceGarbageCollection, jvmti))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->ForceGarbageCollection())) {\n@@ -117,1 +116,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -125,3 +124,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ForceGarbageCollection\/forcegc002\/forcegc002.cpp","additions":3,"deletions":6,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -54,2 +54,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor,\n-            jvmti_env, \"_lock\", &_lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->CreateRawMonitor(\"_lock\", &_lock))) {\n@@ -66,2 +65,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter,\n-            jvmti_env, _lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorEnter(_lock))) {\n@@ -78,2 +76,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(RawMonitorWait,\n-                jvmti_env, _lock, (jlong)10))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorWait(_lock, (jlong)10))) {\n@@ -90,2 +87,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorNotify,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorNotify(_lock))) {\n@@ -102,2 +98,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorNotifyAll,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorNotifyAll(_lock))) {\n@@ -114,2 +109,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorExit(_lock))) {\n@@ -126,2 +120,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(DestroyRawMonitor,\n-            jvmti_env, _lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->DestroyRawMonitor(_lock))) {\n@@ -140,2 +133,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(Allocate,\n-            jvmti_env, MEM_SIZE, &mem))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Allocate(MEM_SIZE, &mem))) {\n@@ -153,2 +145,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-            jvmti_env, mem))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Deallocate(mem))) {\n@@ -212,2 +203,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -216,2 +206,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -228,2 +217,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -233,2 +221,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n@@ -236,2 +223,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_FINISH, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_FINISH, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GarbageCollectionFinish\/gcfinish001\/gcfinish001.cpp","additions":14,"deletions":28,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -120,2 +120,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -124,2 +123,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -137,2 +135,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -142,2 +139,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n@@ -145,2 +141,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_START, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_START, NULL)))\n@@ -148,2 +143,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_FINISH, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_FINISH, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GarbageCollectionStart\/gcstart001\/gcstart001.cpp","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -54,2 +54,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(CreateRawMonitor,\n-            jvmti_env, \"_lock\", &_lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->CreateRawMonitor(\"_lock\", &_lock))) {\n@@ -66,2 +65,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorEnter,\n-            jvmti_env, _lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorEnter(_lock))) {\n@@ -79,2 +77,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(RawMonitorWait,\n-                jvmti_env, _lock, (jlong)10))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorWait(_lock, (jlong)10))) {\n@@ -91,2 +88,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorNotify,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorNotify(_lock))) {\n@@ -103,2 +99,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorNotifyAll,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorNotifyAll(_lock))) {\n@@ -115,2 +110,1 @@\n-        if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(RawMonitorExit,\n-                jvmti_env, _lock))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti_env->RawMonitorExit(_lock))) {\n@@ -127,2 +121,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(DestroyRawMonitor,\n-            jvmti_env, _lock))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->DestroyRawMonitor(_lock))) {\n@@ -141,2 +134,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(Allocate,\n-            jvmti_env, MEM_SIZE, &mem))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Allocate(MEM_SIZE, &mem))) {\n@@ -154,2 +146,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(Deallocate,\n-            jvmti_env, mem))) {\n+    if (!NSK_JVMTI_VERIFY(jvmti_env->Deallocate(mem))) {\n@@ -213,2 +204,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(AddCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -217,2 +207,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB2(GetCapabilities,\n-            jvmti, &caps)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->GetCapabilities(&caps)))\n@@ -229,2 +218,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB3(SetEventCallbacks,\n-            jvmti, &callbacks, sizeof(callbacks))))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks))))\n@@ -234,2 +222,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_DEATH, NULL)))\n@@ -237,2 +224,1 @@\n-    if (!NSK_JVMTI_VERIFY(NSK_CPP_STUB4(SetEventNotificationMode,\n-            jvmti, JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_START, NULL)))\n+    if (!NSK_JVMTI_VERIFY(jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_GARBAGE_COLLECTION_START, NULL)))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GarbageCollectionStart\/gcstart002\/gcstart002.cpp","additions":14,"deletions":28,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -102,2 +102,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(GenerateEvents, jvmti, JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GenerateEvents(JVMTI_EVENT_COMPILED_METHOD_LOAD))) {\n@@ -107,2 +106,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(GenerateEvents, jvmti, JVMTI_EVENT_DYNAMIC_CODE_GENERATED))) {\n+        if (!NSK_JVMTI_VERIFY(jvmti->GenerateEvents(JVMTI_EVENT_DYNAMIC_CODE_GENERATED))) {\n@@ -198,2 +196,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB2(AddCapabilities, jvmti, &caps)))\n+        if (!NSK_JVMTI_VERIFY(jvmti->AddCapabilities(&caps)))\n@@ -210,3 +207,1 @@\n-        if (!NSK_JVMTI_VERIFY(\n-                NSK_CPP_STUB3(SetEventCallbacks, jvmti,\n-                                    &eventCallbacks, sizeof(eventCallbacks))))\n+        if (!NSK_JVMTI_VERIFY(jvmti->SetEventCallbacks(&eventCallbacks, sizeof(eventCallbacks))))\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/GenerateEvents\/genevents001\/genevents001.cpp","additions":4,"deletions":9,"binary":false,"changes":13,"status":"modified"}]}