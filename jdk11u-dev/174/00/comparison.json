{"files":[{"patch":"@@ -1255,1 +1255,1 @@\n-         * deliver {@code buffersize} bytes of data to each invocation of the\n+         * deliver {@code bufferSize} bytes of data to each invocation of the\n","filename":"src\/java.net.http\/share\/classes\/java\/net\/http\/HttpResponse.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,0 +43,1 @@\n+import java.util.concurrent.atomic.AtomicBoolean;\n@@ -59,0 +60,1 @@\n+    private final AtomicBoolean subscribed = new AtomicBoolean();\n@@ -75,0 +77,6 @@\n+        Objects.requireNonNull(subscription);\n+        if (!subscribed.compareAndSet(false, true)) {\n+            subscription.cancel();\n+            return;\n+        }\n+\n@@ -85,0 +93,1 @@\n+        Objects.requireNonNull(item);\n@@ -94,0 +103,1 @@\n+        Objects.requireNonNull(throwable);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/LineSubscriberAdapter.java","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -87,0 +87,1 @@\n+            Objects.requireNonNull(subscription);\n@@ -97,0 +98,1 @@\n+            Objects.requireNonNull(items);\n@@ -107,0 +109,1 @@\n+            Objects.requireNonNull(throwable);\n@@ -134,0 +137,1 @@\n+        private final AtomicBoolean subscribed = new AtomicBoolean();\n@@ -173,0 +177,6 @@\n+            Objects.requireNonNull(subscription);\n+            if (!subscribed.compareAndSet(false, true)) {\n+                subscription.cancel();\n+                return;\n+            }\n+\n@@ -414,0 +424,1 @@\n+            Objects.requireNonNull(s);\n@@ -542,0 +553,1 @@\n+            Objects.requireNonNull(subscription);\n@@ -556,0 +568,1 @@\n+            Objects.requireNonNull(throwable);\n@@ -822,0 +835,2 @@\n+        private final AtomicBoolean subscribed = new AtomicBoolean();\n+\n@@ -824,1 +839,6 @@\n-            subscriptionCF.complete(subscription);\n+            Objects.requireNonNull(subscription);\n+            if (!subscribed.compareAndSet(false, true)) {\n+                subscription.cancel();\n+            } else {\n+                subscriptionCF.complete(subscription);\n+            }\n@@ -829,0 +849,1 @@\n+            Objects.requireNonNull(item);\n@@ -856,0 +877,1 @@\n+            Objects.requireNonNull(throwable);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/ResponseSubscribers.java","additions":23,"deletions":1,"binary":false,"changes":24,"status":"modified"}]}