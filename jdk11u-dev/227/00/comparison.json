{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -61,1 +61,2 @@\n-        File tmpFile = new File(inOutClassFile.getPath() + \"tmp\");\n+        File tmpFile = new File(inOutClassFile.getPath() + \"tmp-out\");\n+        File tmpInOutClassFile = new File(inOutClassFile.getPath() + \"tmp-in\");\n@@ -63,1 +64,6 @@\n-        new InstallSDE(inOutClassFile, attrFile, tmpFile, verbose);\n+        \/\/ Workaround delayed file deletes on Windows using a tmp file name\n+        if (!inOutClassFile.renameTo(tmpInOutClassFile)) {\n+            throw new IOException(\"inOutClassFile.renameTo(tmpInOutClassFile) failed\");\n+        }\n+\n+        new InstallSDE(tmpInOutClassFile, attrFile, tmpFile, verbose);\n@@ -65,2 +71,2 @@\n-        if (!inOutClassFile.delete()) {\n-            throw new IOException(\"inOutClassFile.delete() failed\");\n+        if (!tmpInOutClassFile.delete()) {\n+            throw new IOException(\"tmpInOutClassFile.delete() failed\");\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jdi\/sde\/InstallSDE.java","additions":11,"deletions":5,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -873,2 +873,0 @@\n-com\/sun\/jdi\/sde\/SourceDebugExtensionTest.java                   8158066 windows-all\n-\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,4 +34,12 @@\n-        File tmpFile = new File(inOutClassFile.getPath() + \"tmp\");\n-        new InstallSDE(inOutClassFile, attrFile, tmpFile);\n-        if (!inOutClassFile.delete()) {\n-            throw new IOException(\"inOutClassFile.delete() failed\");\n+        File tmpFile = new File(inOutClassFile.getPath() + \"tmp-out\");\n+        File tmpInOutClassFile = new File(inOutClassFile.getPath() + \"tmp-in\");\n+\n+        \/\/ Workaround delayed file deletes on Windows using a tmp file name\n+        if (!inOutClassFile.renameTo(tmpInOutClassFile)) {\n+            throw new IOException(\"tmp copy of inOutClassFile failed\");\n+        }\n+\n+        new InstallSDE(tmpInOutClassFile, attrFile, tmpFile);\n+\n+        if (!tmpInOutClassFile.delete()) {\n+            throw new IOException(\"tmpInOutClassFile.delete() failed\");\n","filename":"test\/jdk\/com\/sun\/jdi\/sde\/InstallSDE.java","additions":12,"deletions":4,"binary":false,"changes":16,"status":"modified"}]}