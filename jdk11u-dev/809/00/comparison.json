{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -1192,1 +1192,1 @@\n-        case PATTERN_MONTH:            \/\/ 'M' (context seinsive)\n+        case PATTERN_MONTH:            \/\/ 'M' (context sensitive)\n@@ -2036,1 +2036,1 @@\n-                    Map<String, Integer> map = getDisplayNamesMap(field, locale);\n+                    Map<String, Integer> map = getDisplayContextNamesMap(field, locale);\n@@ -2452,0 +2452,16 @@\n+    \/**\n+     * Obtains display names map, taking the context into account. Currently only\n+     * the month name pattern 'M' is context dependent.\n+     *\/\n+    private Map<String, Integer> getDisplayContextNamesMap(int field, Locale locale) {\n+        Map<String, Integer> map = calendar.getDisplayNames(field,\n+            forceStandaloneForm ? Calendar.SHORT_STANDALONE : Calendar.SHORT_FORMAT, locale);\n+        \/\/ Get the LONG style\n+        Map<String, Integer> m = calendar.getDisplayNames(field,\n+            forceStandaloneForm ? Calendar.LONG_STANDALONE : Calendar.LONG_FORMAT, locale);\n+        if (m != null) {\n+            map.putAll(m);\n+        }\n+        return map;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/java\/text\/SimpleDateFormat.java","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +27,1 @@\n+ *      8216969\n@@ -1208,0 +1209,14 @@\n+\n+    public void Test8216969() throws Exception {\n+        Locale locale = new Locale(\"ru\");\n+        String format = \"\\u0434\\u0435\\u043a\";\n+        String standalone = \"\\u0434\\u0435\\u043a.\";\n+\n+        \/\/ Check that format form is used so that the dot is parsed correctly.\n+        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"dd MMM.yyyy\", locale);\n+        System.out.println(simpleDateFormat.parse(\"28 \" + format + \".2018\"));\n+\n+        \/\/ Check that standalone form is used.\n+        simpleDateFormat = new SimpleDateFormat(\"MMM\", locale);\n+        System.out.println(simpleDateFormat.parse(standalone));\n+    }\n","filename":"test\/jdk\/java\/text\/Format\/DateFormat\/DateFormatTest.java","additions":16,"deletions":1,"binary":false,"changes":17,"status":"modified"}]}