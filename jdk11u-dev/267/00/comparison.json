{"files":[{"patch":"@@ -106,1 +106,1 @@\n-            argcount = 8;\n+            argcount = 9;\n@@ -377,3 +377,3 @@\n-                    \"membar_release (elided)\",\n-                    \"stlrw\",\n-                    \"membar_volatile (elided)\",\n+                    \"membar_release \\\\(elided\\\\)\",\n+                    useCompressedOops ? \"stlrw?\" : \"stlr\",\n+                    \"membar_volatile \\\\(elided\\\\)\",\n@@ -454,1 +454,1 @@\n-                    \"strw\",\n+                    useCompressedOops ? \"strw?\" : \"str\",\n@@ -567,3 +567,3 @@\n-                    \"membar_release (elided)\",\n-                    \"cmpxchgw_acq_shenandoah\",\n-                    \"membar_acquire (elided)\",\n+                    \"membar_release \\\\(elided\\\\)\",\n+                    useCompressedOops ? \"cmpxchgw?_acq_shenandoah\" : \"cmpxchg_acq_shenandoah\",\n+                    \"membar_acquire \\\\(elided\\\\)\",\n@@ -636,0 +636,11 @@\n+            case \"Shenandoah\":\n+            case \"ShenandoahIU\":\n+                \/\/ For volatile CAS, Shenanodoah generates normal\n+                \/\/ graphs with a shenandoah-specific cmpxchg\n+                matches = new String[] {\n+                    \"membar_release\",\n+                    useCompressedOops ? \"cmpxchgw?_shenandoah\" : \"cmpxchg_shenandoah\",\n+                    \"membar_acquire\",\n+                    \"ret\"\n+                };\n+                break;\n@@ -824,1 +835,1 @@\n-                    \"cmpxchgw_shenandoah\",\n+                    useCompressedOops ? \"cmpxchgw?_shenandoah\" : \"cmpxchg_shenandoah\",\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestVolatiles.java","additions":20,"deletions":9,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -45,1 +45,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -48,1 +48,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -51,1 +51,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -54,1 +54,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -57,1 +57,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -60,1 +60,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -63,1 +63,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -66,1 +66,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n@@ -69,1 +69,1 @@\n- * @run driver compiler.c2.aarch64.TestVolatilesSerial\n+ * @run driver compiler.c2.aarch64.TestVolatilesShenandoah\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/aarch64\/TestVolatilesShenandoah.java","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"}]}