{"files":[{"patch":"@@ -547,0 +547,18 @@\n+#ifdef _LP64\n+  union {\n+    jlong cb_long;\n+    unsigned char code_buffer[8];\n+  } u;\n+\n+  u.cb_long = *(jlong *)verified_entry;\n+\n+  intptr_t disp = (intptr_t)dest - ((intptr_t)verified_entry + 1 + 4);\n+  guarantee(disp == (intptr_t)(int32_t)disp, \"must be 32-bit offset\");\n+\n+  u.code_buffer[0] = instruction_code;\n+  *(int32_t*)(u.code_buffer + 1) = (int32_t)disp;\n+\n+  Atomic::store(u.cb_long, (jlong *) verified_entry);\n+  ICache::invalidate_range(verified_entry, 8);\n+\n+#else\n@@ -550,3 +568,0 @@\n-#ifdef AMD64\n-  guarantee(disp == (intptr_t)(int32_t)disp, \"must be 32-bit offset\");\n-#endif \/\/ AMD64\n@@ -583,0 +598,1 @@\n+#endif \/\/ _LP64\n","filename":"src\/hotspot\/cpu\/x86\/nativeInst_x86.cpp","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}