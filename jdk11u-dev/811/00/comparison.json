{"files":[{"patch":"@@ -127,2 +127,2 @@\n-    z_abi_160* sender_abi = (z_abi_160*) fp;\n-    intptr_t* sender_sp = (intptr_t*) sender_abi->callers_sp;\n+    z_abi_16* sender_abi = (z_abi_16*) fp;\n+    intptr_t* sender_sp = (intptr_t*) fp;\n@@ -152,1 +152,1 @@\n-        return false;\n+      return false;\n@@ -319,2 +319,2 @@\n-\n-  Method* m = *interpreter_frame_method_addr();\n+  \/\/ Need to use \"unchecked\" versions to avoid \"z_istate_magic_number\" assertion.\n+  Method* m = (Method*)(ijava_state_unchecked()->method);\n@@ -335,2 +335,1 @@\n-\n-  address  bcp    = interpreter_frame_bcp();\n+  address bcp = (address)(ijava_state_unchecked()->bcp);\n@@ -342,1 +341,1 @@\n-  ConstantPoolCache* cp = *interpreter_frame_cache_addr();\n+  ConstantPoolCache* cp = (ConstantPoolCache*)(ijava_state_unchecked()->cpoolCache);\n@@ -346,2 +345,1 @@\n-\n-  address locals =  (address) *interpreter_frame_locals_addr();\n+  address locals = (address)(ijava_state_unchecked()->locals);\n","filename":"src\/hotspot\/cpu\/s390\/frame_s390.cpp","additions":8,"deletions":10,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 2016, 2019, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2016, 2019 SAP SE. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022 SAP SE. All rights reserved.\n@@ -61,2 +61,1 @@\n-    frame ret_frame((intptr_t*)uc->uc_mcontext.gregs[15\/*Z_SP*\/],\n-                   (address)uc->uc_mcontext.psw.addr);\n+    address pc = (address)uc->uc_mcontext.psw.addr;\n@@ -64,1 +63,1 @@\n-    if (ret_frame.pc() == NULL) {\n+    if (pc == NULL) {\n@@ -69,0 +68,2 @@\n+    frame ret_frame((intptr_t*)uc->uc_mcontext.gregs[15\/*Z_SP*\/], pc);\n+\n@@ -103,1 +104,1 @@\n-      if (stack_base() >= (address)istate && (address)istate > stack_end()) {\n+      if (!(stack_base() >= (address)istate && (address)istate > stack_end())) {\n","filename":"src\/hotspot\/os_cpu\/linux_s390\/thread_linux_s390.cpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"}]}