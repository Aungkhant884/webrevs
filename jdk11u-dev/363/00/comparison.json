{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-        if (reason == null)\n+        if (failureReason() == null) {\n@@ -41,0 +41,1 @@\n+        }\n@@ -46,1 +47,1 @@\n-        reason = r;\n+        reason.append(String.format(\"%n - %s\", r));\n@@ -51,1 +52,1 @@\n-        return reason;\n+        return reason.length() > 0 ? reason.toString() : null;\n@@ -63,1 +64,1 @@\n-    private String reason;\n+    private final StringBuilder reason = new StringBuilder();\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/AsyncCloseTest.java","additions":6,"deletions":5,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -43,1 +43,1 @@\n-        s = new DatagramSocket();\n+        s = new DatagramSocket(0, InetAddress.getLoopbackAddress());\n@@ -63,1 +63,1 @@\n-            failed(\"DatagramSocket.receive(DatagramPacket) returned unexpectly!!\");\n+            failed(\"DatagramSocket.receive(DatagramPacket) returned unexpectly!!\" + \" - \" + p.getAddress());\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/DatagramSocket_receive.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2018, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        ss = new ServerSocket(0);\n+        ss = new ServerSocket(0, 0, InetAddress.getLoopbackAddress());\n@@ -59,1 +59,1 @@\n-            failed(\"ServerSocket.accept() returned unexpectly!!\");\n+            failed(\"ServerSocket.accept() returned unexpectly!!\" + \" - \" + s);\n","filename":"test\/jdk\/java\/net\/Socket\/asyncClose\/ServerSocket_accept.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}