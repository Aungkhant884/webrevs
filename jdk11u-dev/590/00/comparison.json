{"files":[{"patch":"@@ -1191,1 +1191,1 @@\n-  ::exit(1);\n+  ::_exit(1);\n","filename":"src\/hotspot\/os\/aix\/os_aix.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1095,1 +1095,1 @@\n-  ::exit(1);\n+  ::_exit(1);\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1515,1 +1515,1 @@\n-  ::exit(1);\n+  ::_exit(1);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2268,1 +2268,0 @@\n-\n","filename":"src\/hotspot\/os\/posix\/os_posix.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1346,1 +1346,1 @@\n-  ::exit(1);\n+  ::_exit(1);\n","filename":"src\/hotspot\/os\/solaris\/os_solaris.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1344,3 +1344,0 @@\n-  if (SuppressFatalErrorMessage) {\n-      os::abort(CreateCoredumpOnCrash);\n-  }\n@@ -1351,0 +1348,4 @@\n+    if (SuppressFatalErrorMessage) {\n+      os::abort(CreateCoredumpOnCrash);\n+    }\n+\n@@ -1403,5 +1404,7 @@\n-      char msgbuf[64];\n-      jio_snprintf(msgbuf, sizeof(msgbuf),\n-                   \"[thread \" INTX_FORMAT \" also had an error]\",\n-                   mytid);\n-      out.print_raw_cr(msgbuf);\n+      if (!SuppressFatalErrorMessage) {\n+        char msgbuf[64];\n+        jio_snprintf(msgbuf, sizeof(msgbuf),\n+                     \"[thread \" INTX_FORMAT \" also had an error]\",\n+                     mytid);\n+        out.print_raw_cr(msgbuf);\n+      }\n@@ -1409,1 +1412,2 @@\n-      \/\/ error reporting is not MT-safe, block current thread\n+      \/\/ Error reporting is not MT-safe, nor can we let the current thread\n+      \/\/ proceed, so we block it.\n@@ -1414,1 +1418,3 @@\n-        out.print_raw_cr(\"[Too many errors, abort]\");\n+        if (!SuppressFatalErrorMessage) {\n+          out.print_raw_cr(\"[Too many errors, abort]\");\n+        }\n@@ -1418,0 +1424,7 @@\n+      if (SuppressFatalErrorMessage) {\n+        \/\/ If we already hit a secondary error during abort, then calling\n+        \/\/ it again is likely to hit another one. But eventually, if we\n+        \/\/ don't deadlock somewhere, we will call os::die() above.\n+        os::abort(CreateCoredumpOnCrash);\n+      }\n+\n","filename":"src\/hotspot\/share\/utilities\/vmError.cpp","additions":23,"deletions":10,"binary":false,"changes":33,"status":"modified"}]}