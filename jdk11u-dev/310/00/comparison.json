{"files":[{"patch":"@@ -39,2 +39,0 @@\n-    static boolean isCatalinaOrAbove = isMacOSXCatalinaOrAbove();\n-    static boolean isBigSurOrAbove = isMacOSXBigSurOrAbove();\n@@ -43,5 +41,2 @@\n-        return currentMacOSXVersionMatchesGivenVersionRange(16, true, false, true);\n-    }\n-\n-    static boolean isMacOSXCatalinaOrAbove() {\n-        return currentMacOSXVersionMatchesGivenVersionRange(15, true, false, true);\n+        return currentMacOSXVersionMatchesGivenVersionRange(10, 16, true,\n+                false, true);\n@@ -55,1 +50,2 @@\n-        return currentMacOSXVersionMatchesGivenVersionRange(6, true, true, false);\n+        return currentMacOSXVersionMatchesGivenVersionRange(10, 6, true,\n+                true, false);\n@@ -59,1 +55,5 @@\n-        return currentMacOSXVersionMatchesGivenVersionRange(version, true, false, false);\n+        return isCurrentMacOSXVersion(10, version);\n+    }\n+\n+    static boolean isCurrentMacOSXVersion(final int major, final int minor) {\n+        return currentMacOSXVersionMatchesGivenVersionRange(major, minor, true, false, false);\n@@ -65,1 +65,7 @@\n-        \/\/ split the \"10.x.y\" version number\n+        return currentMacOSXVersionMatchesGivenVersionRange(10, version, inclusive, matchBelow, matchAbove);\n+    }\n+\n+    static boolean currentMacOSXVersionMatchesGivenVersionRange(\n+            final int majorVersion, final int minorVersion, final boolean inclusive,\n+            final boolean matchBelow, final boolean matchAbove) {\n+        \/\/ split the \"x.y.z\" version number\n@@ -69,2 +75,0 @@\n-        \/\/ sanity check the \"10.\" part of the version\n-        if (!fragments[0].equals(\"10\")) return false;\n@@ -75,0 +79,1 @@\n+            int majorVers = Integer.parseInt(fragments[0]);\n@@ -77,3 +82,7 @@\n-            if (inclusive && minorVers == version) return true;\n-            if (matchBelow && minorVers < version) return true;\n-            if (matchAbove && minorVers > version) return true;\n+            if (inclusive && majorVers == majorVersion && minorVers == minorVersion) return true;\n+            if (matchBelow &&\n+                    (majorVers < majorVersion ||\n+                            (majorVers == majorVersion && minorVers < minorVersion))) return true;\n+            if (matchAbove &&\n+                    (majorVers > majorVersion ||\n+                            (majorVers == majorVersion && minorVers > minorVersion))) return true;\n","filename":"src\/java.desktop\/macosx\/classes\/apple\/laf\/JRSUIUtils.java","additions":24,"deletions":15,"binary":false,"changes":39,"status":"modified"}]}