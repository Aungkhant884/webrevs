{"files":[{"patch":"@@ -796,0 +796,37 @@\n+    if test \"x$OPENJDK_BUILD_OS\" = xsolaris; then\n+      # objcopy prior to 2.21.1 on solaris is broken and is not usable.\n+      # Rewrite objcopy version output to VALID_VERSION or BAD_VERSION.\n+      # - version number is last blank separate word on first line\n+      # - version number formats that have been seen:\n+      #   - <major>.<minor>\n+      #   - <major>.<minor>.<micro>\n+      OBJCOPY_VERSION=`$OBJCOPY --version | $HEAD -n 1`\n+      # The outer [ ] is to prevent m4 from eating the [] in the sed expression.\n+      [ OBJCOPY_VERSION_CHECK=`$ECHO $OBJCOPY_VERSION | $SED -n \\\n+            -e 's\/.* \/\/' \\\n+            -e '\/^[01]\\.\/b bad' \\\n+            -e '\/^2\\.\/{' \\\n+            -e '  s\/^2\\.\/\/' \\\n+            -e '  \/^[0-9]$\/b bad' \\\n+            -e '  \/^[0-9]\\.\/b bad' \\\n+            -e '  \/^1[0-9]$\/b bad' \\\n+            -e '  \/^1[0-9]\\.\/b bad' \\\n+            -e '  \/^20\\.\/b bad' \\\n+            -e '  \/^21\\.0$\/b bad' \\\n+            -e '  \/^21\\.0\\.\/b bad' \\\n+            -e '}' \\\n+            -e ':good' \\\n+            -e 's\/.*\/VALID_VERSION\/p' \\\n+            -e 'q' \\\n+            -e ':bad' \\\n+            -e 's\/.*\/BAD_VERSION\/p' \\\n+            -e 'q'` ]\n+      if test \"x$OBJCOPY_VERSION_CHECK\" = xBAD_VERSION; then\n+        OBJCOPY=\n+        AC_MSG_WARN([Ignoring found objcopy since it is broken (prior to 2.21.1). No debug symbols will be generated.])\n+        AC_MSG_NOTICE([objcopy reports version $OBJCOPY_VERSION])\n+        AC_MSG_NOTICE([Note: patch 149063-01 or newer contains the correct Solaris 10 SPARC version])\n+        AC_MSG_NOTICE([Note: patch 149064-01 or newer contains the correct Solaris 10 X86 version])\n+        AC_MSG_NOTICE([Note: Solaris 11 Update 1 contains the correct version])\n+      fi\n+    fi\n","filename":"make\/autoconf\/toolchain.m4","additions":37,"deletions":0,"binary":false,"changes":37,"status":"modified"}]}