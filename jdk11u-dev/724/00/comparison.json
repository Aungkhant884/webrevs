{"files":[{"patch":"@@ -254,8 +254,5 @@\n-#ifdef ASSERT\n-  {\n-    ResourceMark rm;\n-    assert(is_native() && bcp == code_base() || contains(bcp) || VMError::is_error_reported(),\n-           \"bcp doesn't belong to this method: bcp: \" INTPTR_FORMAT \", method: %s\",\n-           p2i(bcp), name_and_sig_as_C_string());\n-  }\n-#endif\n+  \/\/ Do not have a ResourceMark here because AsyncGetCallTrace stack walking code\n+  \/\/ may call this after interrupting a nested ResourceMark.\n+  assert(is_native() && bcp == code_base() || contains(bcp) || VMError::is_error_reported(),\n+         \"bcp doesn't belong to this method. bcp: \" INTPTR_FORMAT, p2i(bcp));\n+\n","filename":"src\/hotspot\/share\/oops\/method.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -817,1 +817,0 @@\n-    RegisterMap reg_map(java_thread);\n@@ -819,0 +818,1 @@\n+    RegisterMap reg_map(java_thread, false \/* update_map *\/);\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}