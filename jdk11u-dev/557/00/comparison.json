{"files":[{"patch":"@@ -857,1 +857,1 @@\n-        macosx_x64: \"Xcode9.4-MacOSX10.13+1.0\",\n+        macosx_x64: \"Xcode10.1-MacOSX10.14+1.0\",\n","filename":"make\/conf\/jib-profiles.js","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,5 +51,2 @@\n-SDK_VERSION=\"MacOSX10.13\"\n-if [ ! -e \"$XCODE_APP\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/${SDK_VERSION}.sdk\" ]; then\n-    echo \"Expected SDK version not found: ${SDK_VERSION}\"\n-    exit 1\n-fi\n+SDK_VERSION=\"$(ls $XCODE_APP\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs \\\n+    | grep [0-9] | sort -r | head -n1 | sed 's\/\\.sdk\/\/')\"\n@@ -61,0 +58,1 @@\n+echo \"SDK version: $SDK_VERSION\"\n","filename":"make\/devkit\/createMacosxDevkit.sh","additions":4,"deletions":6,"binary":false,"changes":10,"previous_filename":"make\/devkit\/createMacosxDevkit9.sh","status":"renamed"},{"patch":"@@ -1,161 +0,0 @@\n-#!\/bin\/bash\n-#\n-# Copyright (c) 2015, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.  Oracle designates this\n-# particular file as subject to the \"Classpath\" exception as provided\n-# by Oracle in the LICENSE file that accompanied this code.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# This script copies part of an Xcode installer into a devkit suitable\n-# for building OpenJDK and OracleJDK. The installation .dmg files for Xcode\n-# and the aux tools need to be available.\n-# erik.joelsson@oracle.com\n-\n-USAGE=\"$0 <Xcode.dmg> <XQuartz.dmg> <gnu make binary> [<auxtools.dmg>]\"\n-\n-if [ \"$1\" = \"\" ] || [ \"$2\" = \"\" ]; then\n-    echo $USAGE\n-    exit 1\n-fi\n-\n-XCODE_DMG=\"$1\"\n-XQUARTZ_DMG=\"$2\"\n-GNU_MAKE=\"$3\"\n-AUXTOOLS_DMG=\"$4\"\n-\n-SCRIPT_DIR=\"$(cd \"$(dirname $0)\" > \/dev\/null && pwd)\"\n-BUILD_DIR=\"${SCRIPT_DIR}\/..\/..\/build\/devkit\"\n-\n-# Mount XCODE_DMG\n-if [ -e \"\/Volumes\/Xcode\" ]; then\n-    hdiutil detach \/Volumes\/Xcode\n-fi\n-hdiutil attach $XCODE_DMG\n-\n-# Find the version of Xcode\n-XCODE_VERSION=\"$(\/Volumes\/Xcode\/Xcode.app\/Contents\/Developer\/usr\/bin\/xcodebuild -version \\\n-    | awk '\/Xcode\/ { print $2 }' )\"\n-SDK_VERSION=\"MacOSX10.9\"\n-if [ ! -e \"\/Volumes\/Xcode\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/${SDK_VERSION}.sdk\" ]; then\n-    echo \"Expected SDK version not found: ${SDK_VERSION}\"\n-    exit 1\n-fi\n-\n-DEVKIT_ROOT=\"${BUILD_DIR}\/Xcode${XCODE_VERSION}-${SDK_VERSION}\"\n-DEVKIT_BUNDLE=\"${DEVKIT_ROOT}.tar.gz\"\n-\n-echo \"Xcode version: $XCODE_VERSION\"\n-echo \"Creating devkit in $DEVKIT_ROOT\"\n-\n-################################################################################\n-# Copy files to root\n-mkdir -p $DEVKIT_ROOT\n-if [ ! -d $DEVKIT_ROOT\/Xcode.app ]; then\n-    echo \"Copying Xcode.app...\"\n-    cp -RH \"\/Volumes\/Xcode\/Xcode.app\" $DEVKIT_ROOT\/\n-fi\n-# Trim out some seemingly unneeded parts to save space.\n-rm -rf $DEVKIT_ROOT\/Xcode.app\/Contents\/Applications\n-rm -rf $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/iPhone*\n-rm -rf $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Documentation\n-rm -rf $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/usr\/share\/man\n-( cd $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs \\\n-    && rm -rf `ls | grep -v ${SDK_VERSION}` )\n-rm -rf $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/${SDK_VERSION}.sdk\/usr\/share\/man\n-\n-hdiutil detach \/Volumes\/Xcode\n-\n-################################################################################\n-# Copy Freetype into sysroot\n-if [ -e \"\/Volumes\/XQuartz-*\" ]; then\n-    hdiutil detach \/Volumes\/XQuartz-*\n-fi\n-hdiutil attach $XQUARTZ_DMG\n-\n-echo \"Copying freetype...\"\n-rm -rf \/tmp\/XQuartz\n-pkgutil --expand \/Volumes\/XQuartz-*\/XQuartz.pkg \/tmp\/XQuartz\/\n-rm -rf \/tmp\/x11\n-mkdir \/tmp\/x11\n-cd \/tmp\/x11\n-cat \/tmp\/XQuartz\/x11.pkg\/Payload | gunzip -dc | cpio -i\n-\n-mkdir -p $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\/usr\/X11\/include\/\n-mkdir -p $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\/usr\/X11\/lib\/\n-cp -RH opt\/X11\/include\/freetype2 \\\n-    $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\/usr\/X11\/include\/\n-cp -RH opt\/X11\/include\/ft2build.h \\\n-    $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\/usr\/X11\/include\/\n-cp -RH opt\/X11\/lib\/libfreetype.* \\\n-    $DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\/usr\/X11\/lib\/\n-\n-cd -\n-\n-hdiutil detach \/Volumes\/XQuartz-*\n-\n-################################################################################\n-# Copy gnu make\n-mkdir -p $DEVKIT_ROOT\/bin\n-cp $GNU_MAKE $DEVKIT_ROOT\/bin\n-\n-################################################################################\n-# Optionally copy PackageMaker\n-\n-if [ -e \"$AUXTOOLS_DMG\" ]; then\n-    if [ -e \"\/Volumes\/Auxiliary Tools\" ]; then\n-        hdiutil detach \"\/Volumes\/Auxiliary Tools\"\n-    fi\n-    hdiutil attach $AUXTOOLS_DMG\n-\n-    echo \"Copying PackageMaker.app...\"\n-    cp -RH \"\/Volumes\/Auxiliary Tools\/PackageMaker.app\" $DEVKIT_ROOT\/\n-\n-    hdiutil detach \"\/Volumes\/Auxiliary Tools\"\n-fi\n-\n-################################################################################\n-# Generate devkit.info\n-\n-echo-info() {\n-    echo \"$1\" >> $DEVKIT_ROOT\/devkit.info\n-}\n-\n-echo \"Generating devkit.info...\"\n-rm -f $DEVKIT_ROOT\/devkit.info\n-echo-info \"# This file describes to configure how to interpret the contents of this devkit\"\n-echo-info \"# The parameters used to create this devkit were:\"\n-echo-info \"# $*\"\n-echo-info \"DEVKIT_NAME=\\\"Xcode $XCODE_VERSION (devkit)\\\"\"\n-echo-info \"DEVKIT_TOOLCHAIN_PATH=\\\"\\$DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Toolchains\/XcodeDefault.xctoolchain\/usr\/bin:\\$DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/usr\/bin\\\"\"\n-echo-info \"DEVKIT_SYSROOT=\\\"\\$DEVKIT_ROOT\/Xcode.app\/Contents\/Developer\/Platforms\/MacOSX.platform\/Developer\/SDKs\/MacOSX10.9.sdk\\\"\"\n-echo-info \"DEVKIT_EXTRA_PATH=\\\"\\$DEVKIT_ROOT\/bin:\\$DEVKIT_ROOT\/PackageMaker.app\/Contents\/MacOS:\\$DEVKIT_TOOLCHAIN_PATH\\\"\"\n-\n-################################################################################\n-# Copy this script\n-\n-echo \"Copying this script...\"\n-cp $0 $DEVKIT_ROOT\/\n-\n-################################################################################\n-# Create bundle\n-\n-echo \"Creating bundle...\"\n-(cd $DEVKIT_ROOT && tar c - . | gzip - > \"$DEVKIT_BUNDLE\")\n","filename":"make\/devkit\/createMacosxDevkit6.sh","additions":0,"deletions":161,"binary":false,"changes":161,"status":"deleted"}]}