{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,2 @@\n+import java.util.regex.Pattern;\n+import java.util.regex.Matcher;\n@@ -80,2 +82,12 @@\n-        if ( args == null || args.length < 1 ) {\n-            System.err.println(\"TEST BUG: Classes directory should be the first argument. Check .cfg file.\");\n+        String testclasspath = System.getProperty(\"test.class.path\");\n+        String [] testpaths = testclasspath.split(System.getProperty(\"path.separator\"));\n+        String classesDir = \"\";\n+\n+        Pattern pattern = Pattern.compile(\"^(.*)classes(.*)vmTestbase(.*)$\");\n+        for (int i = 0 ; i < testpaths.length; i++) {\n+            if (pattern.matcher(testpaths[i]).matches()) {\n+                classesDir = testpaths[i];\n+            }\n+        }\n+        if (classesDir.equals(\"\")) {\n+            System.err.println(\"TEST BUG: Classes directory not found in test,class.path.\");\n@@ -84,2 +96,0 @@\n-\n-        String classesDir = args[0];\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted003.java","additions":15,"deletions":5,"binary":false,"changes":20,"status":"modified"},{"patch":"","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted003\/TEST.properties","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/serviceability\/sa\/sadebugd\/TEST.properties","status":"copied"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,0 @@\n- *      ..\/..\/classes\/0\/vmTestbase\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted003\/TestDescription.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,0 @@\n- * @ignore 7013634 6606767\n@@ -47,1 +46,1 @@\n- *      -XX:MaxMetaspaceSize=8m\n+ *      -XX:MaxMetaspaceSize=9m\n@@ -50,1 +49,0 @@\n- *      .\/bin\/classes\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/ResourceExhausted\/resexhausted004\/TestDescription.java","additions":2,"deletions":4,"binary":false,"changes":6,"status":"modified"}]}