{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -51,0 +51,1 @@\n+import java.util.concurrent.CountDownLatch;\n@@ -70,0 +71,1 @@\n+        CountDownLatch latch = new CountDownLatch(1);\n@@ -72,1 +74,1 @@\n-            ss = new DatagramSocket(0);\n+            ss = new DatagramSocket(0, getHost());\n@@ -80,1 +82,1 @@\n-            InetAddress localhost = InetAddress.getByName(\"localhost\"); \/\/.getLocalHost();\n+            InetAddress localhost = lookupLocalHost();\n@@ -96,1 +98,1 @@\n-\n+                latch.await(); \/\/ wait for the client to receive the packet\n@@ -105,0 +107,4 @@\n+    static InetAddress lookupLocalHost() throws UnknownHostException {\n+        return InetAddress.getByName(\"localhost\"); \/\/.getLocalHost();\n+    }\n+\n@@ -108,1 +114,1 @@\n-        try (DatagramSocket s = new DatagramSocket(0)) {\n+        try (DatagramSocket s = new DatagramSocket(0, lookupLocalHost())) {\n@@ -121,1 +127,1 @@\n-        DatagramSocket client = new DatagramSocket(0);\n+        DatagramSocket client = new DatagramSocket(0, lookupLocalHost());\n@@ -133,0 +139,2 @@\n+        svr.latch.countDown(); \/\/ unblock the server\n+\n","filename":"test\/jdk\/java\/net\/DatagramSocket\/UnreferencedDatagramSockets.java","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"}]}