{"files":[{"patch":"@@ -112,2 +112,2 @@\n-            \/\/ linger interval\n-            s1.setSendBufferSize(128*1024);\n+        \/\/ linger interval\n+        s1.setSendBufferSize(128*1024);\n@@ -118,2 +118,2 @@\n-            Thread thr = new Thread(new Sender(s1));\n-        thr.start();\n+        Thread senderThread = new Thread(new Sender(s1));\n+        senderThread.start();\n@@ -122,3 +122,3 @@\n-            Other other = new Other(ss.getLocalPort(), 5000);\n-        thr = new Thread(other);\n-        thr.start();\n+        Other other = new Other(ss.getLocalPort(), 5000);\n+        Thread otherThread = new Thread(other);\n+        otherThread.start();\n@@ -127,3 +127,3 @@\n-            System.out.println (\"Main sleep 1000\");\n-            Thread.sleep(1000);\n-            System.out.println (\"Main continue\");\n+        System.out.println (\"Main sleep 1000\");\n+        Thread.sleep(1000);\n+        System.out.println (\"Main continue\");\n@@ -132,1 +132,2 @@\n-            (new Thread(new Closer(s1))).start();\n+        Thread closerThread = new Thread(new Closer(s1));\n+        closerThread.start();\n@@ -134,1 +135,1 @@\n-            System.out.println (\"Main sleep 15000\");\n+        System.out.println (\"Main sleep 15000\");\n@@ -136,2 +137,2 @@\n-            Thread.sleep(15000);\n-            System.out.println (\"Main closing serversocket\");\n+        Thread.sleep(15000);\n+        System.out.println (\"Main closing serversocket\");\n@@ -141,1 +142,1 @@\n-            if (!other.connected()) {\n+        if (!other.connected()) {\n@@ -144,0 +145,6 @@\n+\n+        \/\/ await termination of all test related threads\n+        senderThread.join(60_000);\n+        otherThread.join(60_000);\n+        closerThread.join(60_000);\n+\n","filename":"test\/jdk\/java\/net\/Socket\/LingerTest.java","additions":22,"deletions":15,"binary":false,"changes":37,"status":"modified"}]}