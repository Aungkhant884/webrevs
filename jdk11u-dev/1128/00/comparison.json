{"files":[{"patch":"@@ -47,0 +47,1 @@\n+import static javax.accessibility.AccessibleContext.ACCESSIBLE_VALUE_PROPERTY;\n@@ -109,7 +110,0 @@\n-        if (c instanceof JProgressBar) {\n-            JProgressBar pb = (JProgressBar) c;\n-            pb.addChangeListener(new AXProgressChangeNotifier());\n-        } else if (c instanceof JSlider) {\n-            JSlider slider = (JSlider) c;\n-            slider.addChangeListener(new AXProgressChangeNotifier());\n-        }\n@@ -172,0 +166,7 @@\n+                } else if (name.compareTo(ACCESSIBLE_VALUE_PROPERTY) == 0) {\n+                    AccessibleRole thisRole = accessible.getAccessibleContext()\n+                                                        .getAccessibleRole();\n+                    if (thisRole == AccessibleRole.SLIDER ||\n+                            thisRole == AccessibleRole.PROGRESS_BAR) {\n+                        valueChanged(ptr);\n+                    }\n@@ -177,6 +178,0 @@\n-    private class AXProgressChangeNotifier implements ChangeListener {\n-        @Override\n-        public void stateChanged(ChangeEvent e) {\n-            if (ptr != 0) valueChanged(ptr);\n-        }\n-    }\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CAccessible.java","additions":8,"deletions":13,"binary":false,"changes":21,"status":"modified"}]}