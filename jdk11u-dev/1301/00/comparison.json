{"files":[{"patch":"@@ -275,1 +275,1 @@\n-\t( cd $(OUTPUTDIR) && PATH=\"$(ORIGINAL_PATH)\" \\\n+\t( cd $(CONFIGURE_START_DIR) && PATH=\"$(ORIGINAL_PATH)\" \\\n","filename":"make\/Init.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -620,1 +620,1 @@\n-  CURDIR=\"$PWD\"\n+  CONFIGURE_START_DIR=\"$PWD\"\n@@ -643,0 +643,1 @@\n+  AC_SUBST(CONFIGURE_START_DIR)\n@@ -645,1 +646,1 @@\n-  BASIC_FIXUP_PATH(CURDIR)\n+  BASIC_FIXUP_PATH(CONFIGURE_START_DIR)\n@@ -876,3 +877,4 @@\n-  if test \"x$CURDIR\" = \"x$TOPDIR\" || test \"x$CURDIR\" = \"x$CUSTOM_ROOT\" \\\n-      || test \"x$CURDIR\" = \"x$TOPDIR\/make\/autoconf\" \\\n-      || test \"x$CURDIR\" = \"x$TOPDIR\/make\" ; then\n+  if test \"x$CONFIGURE_START_DIR\" = \"x$TOPDIR\" \\\n+      || test \"x$CONFIGURE_START_DIR\" = \"x$CUSTOM_ROOT\" \\\n+      || test \"x$CONFIGURE_START_DIR\" = \"x$TOPDIR\/make\/autoconf\" \\\n+      || test \"x$CONFIGURE_START_DIR\" = \"x$TOPDIR\/make\" ; then\n@@ -899,1 +901,1 @@\n-      CONF_NAME=`$ECHO $CURDIR | $SED -e \"s!^${TOPDIR}\/build\/!!\"`\n+      CONF_NAME=`$ECHO $CONFIGURE_START_DIR | $SED -e \"s!^${TOPDIR}\/build\/!!\"`\n@@ -901,1 +903,1 @@\n-    OUTPUTDIR=\"$CURDIR\"\n+    OUTPUTDIR=\"$CONFIGURE_START_DIR\"\n@@ -921,1 +923,1 @@\n-        AC_MSG_NOTICE([Current directory is $CURDIR.])\n+        AC_MSG_NOTICE([Current directory is $CONFIGURE_START_DIR.])\n@@ -928,1 +930,1 @@\n-        AC_MSG_ERROR([Will not continue creating configuration in $CURDIR])\n+        AC_MSG_ERROR([Will not continue creating configuration in $CONFIGURE_START_DIR])\n","filename":"make\/autoconf\/basics.m4","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -432,0 +432,31 @@\n+<<<<<<< HEAD\n+=======\n+    elif test \"x$OPENJDK_BUILD_OS_ENV\" = xwindows.wsl; then\n+      FIXPATH=\"$FIXPATH_BIN -w\"\n+    fi\n+    FIXPATH_SRC_W=\"$FIXPATH_SRC\"\n+    FIXPATH_BIN_W=\"$FIXPATH_BIN\"\n+    BASIC_WINDOWS_REWRITE_AS_WINDOWS_MIXED_PATH([FIXPATH_SRC_W])\n+    BASIC_WINDOWS_REWRITE_AS_WINDOWS_MIXED_PATH([FIXPATH_BIN_W])\n+    $RM -rf $FIXPATH_BIN $FIXPATH_DIR\n+    $MKDIR -p $FIXPATH_DIR $CONFIGURESUPPORT_OUTPUTDIR\/bin\n+    cd $FIXPATH_DIR\n+    $CC $FIXPATH_SRC_W -Fe$FIXPATH_BIN_W > $FIXPATH_DIR\/fixpath1.log 2>&1\n+    cd $CONFIGURE_START_DIR\n+\n+    if test ! -x $FIXPATH_BIN; then\n+      AC_MSG_RESULT([no])\n+      cat $FIXPATH_DIR\/fixpath1.log\n+      AC_MSG_ERROR([Could not create $FIXPATH_BIN])\n+    fi\n+    AC_MSG_RESULT([yes])\n+\n+    if test \"x$OPENJDK_BUILD_OS_ENV\" = \"xwindows.wsl\"; then\n+      OLD_WSLENV=\"$WSLENV\"\n+      WSLENV=`$ECHO $WSLENV | $SED 's\/PATH\\\/l:\/\/'`\n+      BASIC_APPEND_TO_PATH(WSLENV, \"FIXPATH_PATH\")\n+      export WSLENV\n+      export FIXPATH_PATH=$VS_PATH_WINDOWS\n+      AC_MSG_NOTICE([FIXPATH_PATH is $FIXPATH_PATH])\n+      AC_MSG_NOTICE([Rewriting WSLENV from $OLD_WSLENV to $WSLENV])\n+>>>>>>> 0974861dd80 (8221907: make reconfigure breaks when configured with relative paths)\n@@ -438,1 +469,1 @@\n-    cd $CURDIR\n+    cd $CONFIGURE_START_DIR\n","filename":"make\/autoconf\/basics_windows.m4","additions":32,"deletions":1,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -35,0 +35,2 @@\n+# The current directory when configure was run\n+CONFIGURE_START_DIR:=@CONFIGURE_START_DIR@\n@@ -143,0 +145,1 @@\n+<<<<<<< HEAD\n@@ -146,0 +149,3 @@\n+=======\n+\n+>>>>>>> 0974861dd80 (8221907: make reconfigure breaks when configured with relative paths)\n","filename":"make\/autoconf\/spec.gmk.in","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -448,0 +448,1 @@\n+<<<<<<< HEAD\n@@ -450,0 +451,4 @@\n+=======\n+      $CMD \/c extract-vs-env.bat | $CAT\n+      cd $CONFIGURE_START_DIR\n+>>>>>>> 0974861dd80 (8221907: make reconfigure breaks when configured with relative paths)\n","filename":"make\/autoconf\/toolchain_windows.m4","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"}]}