{"files":[{"patch":"@@ -30,4 +30,18 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:+UseTLAB TestAlignment\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:-UseTLAB TestAlignment\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:+UseTLAB -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestAlignment\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:-UseTLAB -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestAlignment\n+ *\n+ * @run main\/othervm -Xmx64m -XX:+UseTLAB\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlignment\n+ *\n+ * @run main\/othervm -Xmx64m -XX:-UseTLAB\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlignment\n+ *\n+ * @run main\/othervm -Xmx64m -XX:+UseTLAB\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestAlignment\n+ *\n+ * @run main\/othervm -Xmx64m -XX:-UseTLAB\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestAlignment\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestAlignment.java","additions":18,"deletions":4,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -28,7 +28,25 @@\n- * @summary Basic sanity test for Epsilon\n- * @run main\/othervm -Xms128m -Xmx1g                     -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n- * @run main\/othervm -Xms128m -Xmx1g -XX:-AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n- * @run main\/othervm -Xms128m -Xmx1g -XX:+AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n- * @run main\/othervm          -Xmx1g                     -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n- * @run main\/othervm          -Xmx1g -XX:-AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n- * @run main\/othervm          -Xmx1g -XX:+AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestAlwaysPretouch\n+ * @summary Test that pre-touch works\n+ *\n+ * @run main\/othervm -Xms64m -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n+ *\n+ * @run main\/othervm -Xms64m -Xmx256m -XX:-AlwaysPreTouch\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n+ *\n+ * @run main\/othervm -Xms64m -Xmx256m -XX:+AlwaysPreTouch\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n+ *\n+ * @run main\/othervm -Xmx256m -XX:-AlwaysPreTouch\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n+ *\n+ * @run main\/othervm -Xmx256m -XX:+AlwaysPreTouch\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestAlwaysPretouch\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestAlwaysPretouch.java","additions":25,"deletions":7,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -32,5 +32,18 @@\n- * @run main\/othervm -Xmx1g                                        -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestArraycopyCheckcast\n- * @run main\/othervm -Xmx1g -Xint                                  -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestArraycopyCheckcast\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp                         -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestArraycopyCheckcast\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestArraycopyCheckcast\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:-TieredCompilation  -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestArraycopyCheckcast\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestArraycopyCheckcast\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestArraycopyCheckcast\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestArraycopyCheckcast\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestArraycopyCheckcast\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestArraycopyCheckcast.java","additions":18,"deletions":5,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @requires vm.gc.Epsilon & !vm.graal.enabled & os.maxMemory > 1G\n+ * @requires vm.gc.Epsilon & !vm.graal.enabled\n@@ -30,5 +30,3 @@\n- * @run main\/othervm -Xmx1g                                        -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xint                                  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp                         -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:-TieredCompilation  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n@@ -36,5 +34,33 @@\n- * @run main\/othervm -Xmx1g                                        -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xint                                  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp                         -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:-TieredCompilation  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestByteArrays\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestByteArrays\n@@ -48,1 +74,1 @@\n-  static int COUNT = Integer.getInteger(\"count\", 3000); \/\/ ~500 MB allocation\n+  static int COUNT = Integer.getInteger(\"count\", 500); \/\/ ~100 MB allocation\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestByteArrays.java","additions":38,"deletions":12,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -33,1 +33,4 @@\n- * @run main\/othervm -Xmx1g -XX:MetaspaceSize=1m -XX:MaxMetaspaceSize=64m -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -Xlog:gc+metaspace TestClasses\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:MetaspaceSize=1m -XX:MaxMetaspaceSize=64m -Xlog:gc -Xlog:gc+metaspace\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestClasses\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestClasses.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-    passWith(\"-Xmx128m\",\n+    passWith(\"-Xmx64m\",\n@@ -61,1 +61,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -66,1 +66,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -72,8 +72,1 @@\n-    failWith(\"-Xmx128m\",\n-             \"-Xbatch\",\n-             \"-Xcomp\",\n-             \"-XX:+UnlockExperimentalVMOptions\",\n-             \"-XX:+UseEpsilonGC\",\n-             TestDieDefault.Workload.class.getName());\n-\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -87,1 +80,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieDefault.java","additions":5,"deletions":12,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-    passWith(\"-Xmx128m\",\n+    passWith(\"-Xmx64m\",\n@@ -68,1 +68,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -74,1 +74,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -81,9 +81,1 @@\n-    failWith(\"-Xmx128m\",\n-             \"-Xbatch\",\n-             \"-Xcomp\",\n-             \"-XX:+UnlockExperimentalVMOptions\",\n-             \"-XX:+UseEpsilonGC\",\n-             \"-XX:+HeapDumpOnOutOfMemoryError\",\n-             TestDieWithHeapDump.Workload.class.getName());\n-\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -98,1 +90,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieWithHeapDump.java","additions":5,"deletions":13,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-    passWith(\"-Xmx128m\",\n+    passWith(\"-Xmx64m\",\n@@ -66,1 +66,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -72,1 +72,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -79,9 +79,1 @@\n-    failWith(\"-Xmx128m\",\n-             \"-Xbatch\",\n-             \"-Xcomp\",\n-             \"-XX:+UnlockExperimentalVMOptions\",\n-             \"-XX:+UseEpsilonGC\",\n-             \"-XX:OnOutOfMemoryError=echo \" + ON_ERR_MSG,\n-             TestDieWithOnError.Workload.class.getName());\n-\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n@@ -96,1 +88,1 @@\n-    failWith(\"-Xmx128m\",\n+    failWith(\"-Xmx64m\",\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestDieWithOnError.java","additions":5,"deletions":13,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @requires vm.gc.Epsilon & !vm.graal.enabled & os.maxMemory > 1G\n+ * @requires vm.gc.Epsilon & !vm.graal.enabled\n@@ -30,6 +30,24 @@\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:-EpsilonElasticTLAB                               TestElasticTLAB\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=1   TestElasticTLAB\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=1.1 TestElasticTLAB\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=2.0 TestElasticTLAB\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=42  TestElasticTLAB\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=100 TestElasticTLAB\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:-EpsilonElasticTLAB\n+ *                   TestElasticTLAB\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=1\n+ *                   TestElasticTLAB\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=1.1\n+ *                   TestElasticTLAB\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=2.0\n+ *                   TestElasticTLAB\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:EpsilonTLABElasticity=100\n+ *                   TestElasticTLAB\n@@ -43,1 +61,1 @@\n-  static int COUNT = Integer.getInteger(\"count\", 3000); \/\/ ~500 MB allocation\n+  static int COUNT = Integer.getInteger(\"count\", 500); \/\/ ~100 MB allocation\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestElasticTLAB.java","additions":26,"deletions":8,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -27,1 +27,1 @@\n- * @requires vm.gc.Epsilon & !vm.graal.enabled & os.maxMemory > 1G\n+ * @requires vm.gc.Epsilon & !vm.graal.enabled\n@@ -30,3 +30,14 @@\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:-EpsilonElasticTLABDecay                               TestElasticTLABDecay\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:+EpsilonElasticTLABDecay -XX:EpsilonTLABDecayTime=1    TestElasticTLABDecay\n- * @run main\/othervm -Xmx1g -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -XX:+EpsilonElasticTLAB -XX:+EpsilonElasticTLABDecay -XX:EpsilonTLABDecayTime=100  TestElasticTLABDecay\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:-EpsilonElasticTLABDecay\n+ *                   TestElasticTLABDecay\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:+EpsilonElasticTLABDecay -XX:EpsilonTLABDecayTime=1\n+ *                   TestElasticTLABDecay\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:+EpsilonElasticTLAB -XX:+EpsilonElasticTLABDecay -XX:EpsilonTLABDecayTime=100\n+ *                   TestElasticTLABDecay\n@@ -40,1 +51,1 @@\n-  static int COUNT = Integer.getInteger(\"count\", 3000); \/\/ ~500 MB allocation\n+  static int COUNT = Integer.getInteger(\"count\", 500); \/\/ ~100 MB allocation\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestElasticTLABDecay.java","additions":16,"deletions":5,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -30,1 +30,4 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestEpsilonEnabled\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestEpsilonEnabled\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestEpsilonEnabled.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,1 +29,2 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestHelloWorld\n+ * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestHelloWorld\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestHelloWorld.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,1 +29,3 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc*=trace TestLogTrace\n+ * @run main\/othervm -Xmx256m -Xlog:gc*=trace\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestLogTrace\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestLogTrace.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,5 +30,3 @@\n- * @run main\/othervm -Xmx128m -Xss512k                                        -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xint                                  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp                         -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp -XX:-TieredCompilation  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m -Xss512k\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n@@ -36,5 +34,33 @@\n- * @run main\/othervm -Xmx128m -Xss512k                                        -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xint                                  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp                         -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n- * @run main\/othervm -Xmx128m -Xss512k -Xbatch -Xcomp -XX:-TieredCompilation  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestManyThreads\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m -Xss512k\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m -Xss512k\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m -Xss512k\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m -Xss512k\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m -Xss512k\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m -Xss512k\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m -Xss512k\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestManyThreads\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestManyThreads.java","additions":36,"deletions":10,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -31,9 +31,43 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1     TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1K    TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1M    TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=12345 TestMaxTLAB\n- *\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1     -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1K    -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=1M    -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestMaxTLAB\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -Xmx128m -XX:+UseEpsilonGC -XX:EpsilonMaxTLABSize=12345 -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16 TestMaxTLAB\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1K\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1M\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=12345\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1K\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=1M\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestMaxTLAB\n+ *\n+ * @run main\/othervm -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonMaxTLABSize=12345\n+ *                   -XX:+IgnoreUnrecognizedVMOptions -XX:ObjectAlignmentInBytes=16\n+ *                   TestMaxTLAB\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestMaxTLAB.java","additions":43,"deletions":9,"binary":false,"changes":52,"status":"modified"},{"patch":"@@ -32,3 +32,15 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC          -Xmx1g TestMemoryMXBeans   -1 1024\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xms1g   -Xmx1g TestMemoryMXBeans 1024 1024\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xms128m -Xmx1g TestMemoryMXBeans  128 1024\n+ *\n+ * @run main\/othervm -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestMemoryMXBeans\n+ *                   -1 256\n+ *\n+ * @run main\/othervm -Xmx256m -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestMemoryMXBeans\n+ *                   256 256\n+ *\n+ * @run main\/othervm -Xms64m -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestMemoryMXBeans\n+ *                   64 256\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestMemoryMXBeans.java","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * @requires vm.gc.Epsilon & !vm.graal.enabled & os.maxMemory >= 2G\n+ * @requires vm.gc.Epsilon & !vm.graal.enabled\n@@ -32,1 +32,4 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xmx1g -Xms1g TestMemoryPools\n+ *\n+ * @run main\/othervm -Xms64m -Xmx64m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestMemoryPools\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestMemoryPools.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -30,5 +30,3 @@\n- * @run main\/othervm -Xmx128m                                        -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xint                                  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp                         -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp -XX:-TieredCompilation  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n@@ -36,5 +34,33 @@\n- * @run main\/othervm -Xmx128m                                        -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xint                                  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp                         -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n- * @run main\/othervm -Xmx128m -Xbatch -Xcomp -XX:-TieredCompilation  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestObjects\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestObjects\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestObjects.java","additions":36,"deletions":10,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -29,3 +29,15 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonPrintHeapSteps=0    TestPrintHeapSteps\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonPrintHeapSteps=1    TestPrintHeapSteps\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonPrintHeapSteps=1000 TestPrintHeapSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonPrintHeapSteps=0\n+ *                   TestPrintHeapSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonPrintHeapSteps=1\n+ *                   TestPrintHeapSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonPrintHeapSteps=1000\n+ *                   TestPrintHeapSteps\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestPrintHeapSteps.java","additions":15,"deletions":3,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -31,5 +31,3 @@\n- * @run main\/othervm -Xmx1g                                        -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xint                                  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp                         -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:-TieredCompilation  -XX:+UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n@@ -37,5 +35,33 @@\n- * @run main\/othervm -Xmx1g                                        -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xint                                  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp                         -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:TieredStopAtLevel=1 -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n- * @run main\/othervm -Xmx1g -Xbatch -Xcomp -XX:-TieredCompilation  -XX:-UseTLAB -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC TestRefArrays\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:+UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xint\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:TieredStopAtLevel=1\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n+ *\n+ * @run main\/othervm -XX:-UseTLAB -Xmx256m\n+ *                   -Xbatch -Xcomp -XX:-TieredCompilation\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   TestRefArrays\n@@ -49,1 +75,1 @@\n-  static int COUNT = Integer.getInteger(\"count\", 1000); \/\/ ~500 MB allocation\n+  static int COUNT = Integer.getInteger(\"count\", 200); \/\/ ~100 MB allocation\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestRefArrays.java","additions":37,"deletions":11,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -29,4 +29,20 @@\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonUpdateCountersStep=1    TestUpdateCountersSteps\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonUpdateCountersStep=10   TestUpdateCountersSteps\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonUpdateCountersStep=100  TestUpdateCountersSteps\n- * @run main\/othervm -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC -Xlog:gc -XX:EpsilonUpdateCountersStep=1000 TestUpdateCountersSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonUpdateCountersStep=1\n+ *                   TestUpdateCountersSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonUpdateCountersStep=10\n+ *                   TestUpdateCountersSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonUpdateCountersStep=100\n+ *                   TestUpdateCountersSteps\n+ *\n+ * @run main\/othervm -Xmx64m -Xlog:gc\n+ *                   -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n+ *                   -XX:EpsilonUpdateCountersStep=1000\n+ *                   TestUpdateCountersSteps\n","filename":"test\/hotspot\/jtreg\/gc\/epsilon\/TestUpdateCountersSteps.java","additions":20,"deletions":4,"binary":false,"changes":24,"status":"modified"}]}