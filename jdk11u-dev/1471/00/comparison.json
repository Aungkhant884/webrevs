{"files":[{"patch":"@@ -665,0 +665,3 @@\n+  \/\/ Note: this code runs on startup, and therefore should not be slow,\n+  \/\/ see JDK-8283200.\n+\n@@ -666,3 +669,13 @@\n-  char data[2048] = {0}; \/\/ lines should fit in 2K buf\n-  size_t len = sizeof(data);\n-  FILE *fp = fopen(\"\/proc\/cpuinfo\", \"r\");\n+\n+  \/\/ Attempt 1 (faster): Read the microcode version off the sysfs.\n+  FILE *fp = fopen(\"\/sys\/devices\/system\/cpu\/cpu0\/microcode\/version\", \"r\");\n+  if (fp) {\n+    int read = fscanf(fp, \"%x\", &result);\n+    fclose(fp);\n+    if (read > 0) {\n+      return result;\n+    }\n+  }\n+\n+  \/\/ Attempt 2 (slower): Read the microcode version off the procfs.\n+  fp = fopen(\"\/proc\/cpuinfo\", \"r\");\n@@ -670,0 +683,2 @@\n+    char data[2048] = {0}; \/\/ lines should fit in 2K buf\n+    size_t len = sizeof(data);\n@@ -681,0 +696,1 @@\n+\n","filename":"src\/hotspot\/os_cpu\/linux_x86\/os_linux_x86.cpp","additions":19,"deletions":3,"binary":false,"changes":22,"status":"modified"}]}