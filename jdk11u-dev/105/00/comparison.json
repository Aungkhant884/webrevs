{"files":[{"patch":"@@ -49,0 +49,24 @@\n+static void save_xmm_registers(MacroAssembler* masm) {\n+    __ subptr(rsp, 64);\n+    __ movdbl(Address(rsp, 0), xmm0);\n+    __ movdbl(Address(rsp, 8), xmm1);\n+    __ movdbl(Address(rsp, 16), xmm2);\n+    __ movdbl(Address(rsp, 24), xmm3);\n+    __ movdbl(Address(rsp, 32), xmm4);\n+    __ movdbl(Address(rsp, 40), xmm5);\n+    __ movdbl(Address(rsp, 48), xmm6);\n+    __ movdbl(Address(rsp, 56), xmm7);\n+}\n+\n+static void restore_xmm_registers(MacroAssembler* masm) {\n+    __ movdbl(xmm0, Address(rsp, 0));\n+    __ movdbl(xmm1, Address(rsp, 8));\n+    __ movdbl(xmm2, Address(rsp, 16));\n+    __ movdbl(xmm3, Address(rsp, 24));\n+    __ movdbl(xmm4, Address(rsp, 32));\n+    __ movdbl(xmm5, Address(rsp, 40));\n+    __ movdbl(xmm6, Address(rsp, 48));\n+    __ movdbl(xmm7, Address(rsp, 56));\n+    __ addptr(rsp, 64);\n+}\n+\n@@ -293,0 +317,1 @@\n+  save_xmm_registers(masm);\n@@ -294,0 +319,1 @@\n+  restore_xmm_registers(masm);\n@@ -429,9 +455,1 @@\n-    __ subptr(rsp, 64);\n-    __ movdbl(Address(rsp, 0), xmm0);\n-    __ movdbl(Address(rsp, 8), xmm1);\n-    __ movdbl(Address(rsp, 16), xmm2);\n-    __ movdbl(Address(rsp, 24), xmm3);\n-    __ movdbl(Address(rsp, 32), xmm4);\n-    __ movdbl(Address(rsp, 40), xmm5);\n-    __ movdbl(Address(rsp, 48), xmm6);\n-    __ movdbl(Address(rsp, 56), xmm7);\n+    save_xmm_registers(masm);\n@@ -454,9 +472,1 @@\n-    __ movdbl(xmm0, Address(rsp, 0));\n-    __ movdbl(xmm1, Address(rsp, 8));\n-    __ movdbl(xmm2, Address(rsp, 16));\n-    __ movdbl(xmm3, Address(rsp, 24));\n-    __ movdbl(xmm4, Address(rsp, 32));\n-    __ movdbl(xmm5, Address(rsp, 40));\n-    __ movdbl(xmm6, Address(rsp, 48));\n-    __ movdbl(xmm7, Address(rsp, 56));\n-    __ addptr(rsp, 64);\n+    restore_xmm_registers(masm);\n","filename":"src\/hotspot\/cpu\/x86\/gc\/shenandoah\/shenandoahBarrierSetAssembler_x86.cpp","additions":28,"deletions":18,"binary":false,"changes":46,"status":"modified"}]}