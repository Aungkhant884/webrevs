{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -27,0 +27,3 @@\n+ * @library \/test\/lib\n+ * @build jdk.test.lib.Utils\n+ * @run main StackTraceTest\n@@ -33,0 +36,1 @@\n+import jdk.test.lib.Utils;\n@@ -36,4 +40,8 @@\n-        URL url;\n-        try (ServerSocket ss = new ServerSocket(0)) {  \/\/ refusing socket\n-            url = new URL(\"http:\/\/localhost:\" + ss.getLocalPort() + \"\/\");\n-        }\n+        InetSocketAddress refusing = Utils.refusingEndpoint();\n+        int port = refusing.getPort();\n+        String host = refusing.getAddress().getHostAddress();\n+        if (host.contains(\":\"))\n+            host = \"[\" + host + \"]\";\n+        URL url = URI.create(\"http:\/\/\" + host + \":\" + port + \"\/\").toURL();\n+        System.out.println(\"URL: \" + url);\n+\n","filename":"test\/jdk\/sun\/net\/www\/protocol\/http\/StackTraceTest.java","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"}]}