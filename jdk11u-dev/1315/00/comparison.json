{"files":[{"patch":"@@ -615,7 +615,0 @@\n-  BASIC_PATH_PROGS(PANDOC, pandoc)\n-  if test -n \"$PANDOC\"; then\n-    ENABLE_PANDOC=\"true\"\n-  else\n-    ENABLE_PANDOC=\"false\"\n-  fi\n-  AC_SUBST(ENABLE_PANDOC)\n@@ -1203,0 +1196,1 @@\n+  BASIC_SETUP_PANDOC\n@@ -1400,0 +1394,28 @@\n+################################################################################\n+#\n+# Setup Pandoc\n+#\n+AC_DEFUN_ONCE([BASIC_SETUP_PANDOC],\n+[\n+  BASIC_PATH_PROGS(PANDOC, pandoc)\n+\n+  PANDOC_MARKDOWN_FLAG=\"markdown\"\n+  if test -n \"$PANDOC\"; then\n+    AC_MSG_CHECKING(if the pandoc smart extension needs to be disabled for markdown)\n+    if $PANDOC --list-extensions | $GREP -q '\\+smart'; then\n+      AC_MSG_RESULT([yes])\n+      PANDOC_MARKDOWN_FLAG=\"markdown-smart\"\n+    else\n+      AC_MSG_RESULT([no])\n+    fi\n+  fi\n+\n+  if test -n \"$PANDOC\"; then\n+    ENABLE_PANDOC=\"true\"\n+  else\n+    ENABLE_PANDOC=\"false\"\n+  fi\n+  AC_SUBST(ENABLE_PANDOC)\n+  AC_SUBST(PANDOC_MARKDOWN_FLAG)\n+])\n+\n","filename":"make\/autoconf\/basics.m4","additions":29,"deletions":7,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -785,0 +785,1 @@\n+PANDOC_MARKDOWN_FLAG:=@PANDOC_MARKDOWN_FLAG@\n","filename":"make\/autoconf\/spec.gmk.in","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -83,1 +83,2 @@\n-\t    $$(PANDOC) $$($1_OPTIONS) -f markdown-smart -t $$($1_FORMAT) --standalone \\\n+\t    $$(PANDOC) $$($1_OPTIONS) -f $$(PANDOC_MARKDOWN_FLAG) \\\n+\t    -t $$($1_FORMAT) --standalone \\\n","filename":"make\/common\/ProcessMarkdown.gmk","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}