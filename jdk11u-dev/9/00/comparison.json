{"files":[{"patch":"@@ -2,2 +2,2 @@\n- * Copyright (c) 2008, 2019, Oracle and\/or its affiliates. All rights reserved.\n- * Copyright (c) 2015 SAP SE. All rights reserved.\n+ * Copyright (c) 2008, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2020 SAP SE. All rights reserved.\n@@ -60,0 +60,7 @@\n+\n+JNIEXPORT jint JNICALL\n+Java_com_sun_management_internal_OperatingSystemImpl_getHostOnlineCpuCount0\n+(JNIEnv *env, jobject mbean)\n+{\n+    return -1;\n+}\n","filename":"src\/jdk.management\/aix\/native\/libmanagement_ext\/UnixOperatingSystem.c","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -367,0 +367,12 @@\n+\n+JNIEXPORT jint JNICALL\n+Java_com_sun_management_internal_OperatingSystemImpl_getHostOnlineCpuCount0\n+(JNIEnv *env, jobject mbean)\n+{\n+    int n = sysconf(_SC_NPROCESSORS_ONLN);\n+    if (n <= 0) {\n+        n = 1;\n+    }\n+    return n;\n+}\n+\n","filename":"src\/jdk.management\/linux\/native\/libmanagement_ext\/UnixOperatingSystem.c","additions":12,"deletions":0,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -176,0 +176,8 @@\n+\n+JNIEXPORT jint JNICALL\n+Java_com_sun_management_internal_OperatingSystemImpl_getHostOnlineCpuCount0\n+(JNIEnv *env, jobject mbean)\n+{\n+    return -1;\n+}\n+\n","filename":"src\/jdk.management\/macosx\/native\/libmanagement_ext\/UnixOperatingSystem.c","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -161,0 +161,4 @@\n+                    \/\/ in case the effectiveCPUSetCpus are not available, attempt to use just cpusets.cpus\n+                    if (cpuSet == null || cpuSet.length <= 0) {\n+                        cpuSet = containerMetrics.getCpuSetCpus();\n+                    }\n@@ -185,1 +189,1 @@\n-            return containerMetrics.getCpuSetCpus().length == getHostConfiguredCpuCount0();\n+            return containerMetrics.getCpuSetCpus().length == getHostOnlineCpuCount0();\n@@ -203,0 +207,1 @@\n+    private native int getHostOnlineCpuCount0();\n","filename":"src\/jdk.management\/unix\/classes\/com\/sun\/management\/internal\/OperatingSystemImpl.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"}]}