{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import jdk.test.lib.Platform;\n@@ -30,0 +31,2 @@\n+import java.util.ArrayList;\n+import java.util.List;\n@@ -107,0 +110,1 @@\n+    final boolean hasCoops = Platform.is64bit();\n@@ -109,7 +113,15 @@\n-    final String[] jvmArgs = {\n-      useCoops ? \"-XX:+UseCompressedOops\" : \"-XX:-UseCompressedOops\",\n-      gcArg,\n-      \"-Xmx256m\",\n-      \"-Xlog:gc,gc+metaspace=info\",\n-      TestSizeTransitions.Run.class.getName()\n-    };\n+\n+    if (!hasCoops && useCoops) {\n+       \/\/ No need to run this configuration.\n+       System.out.println(\"Skipping test.\");\n+       return;\n+    }\n+\n+    List<String> jvmArgs = new ArrayList<>();\n+    if (hasCoops) {\n+      jvmArgs.add(useCoops ? \"-XX:+UseCompressedOops\" : \"-XX:-UseCompressedOops\");\n+    }\n+    jvmArgs.add(gcArg);\n+    jvmArgs.add(\"-Xmx256m\");\n+    jvmArgs.add(\"-Xlog:gc,gc+metaspace=info\");\n+    jvmArgs.add(TestSizeTransitions.Run.class.getName());\n","filename":"test\/hotspot\/jtreg\/gc\/metaspace\/TestSizeTransitions.java","additions":19,"deletions":7,"binary":false,"changes":26,"status":"modified"}]}