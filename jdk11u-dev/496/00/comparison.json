{"files":[{"patch":"@@ -760,1 +760,0 @@\n-javax\/swing\/MultiUIDefaults\/4300666\/bug4300666.java 7105119 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2020, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,1 @@\n-import javax.swing.*;\n+import java.awt.EventQueue;\n@@ -32,1 +32,3 @@\n-public class bug4300666 {\n+import javax.swing.UIDefaults;\n+import javax.swing.UIManager;\n+import javax.swing.UnsupportedLookAndFeelException;\n@@ -34,3 +36,23 @@\n-    public static void main(final String[] args) {\n-        UIDefaults d = UIManager.getDefaults();\n-        d.toString();\n+import static javax.swing.UIManager.getInstalledLookAndFeels;\n+\n+public final class bug4300666 {\n+\n+    public static void main(final String[] args) throws Exception {\n+        for (UIManager.LookAndFeelInfo laf : getInstalledLookAndFeels()) {\n+            EventQueue.invokeAndWait(() -> setLookAndFeel(laf));\n+            EventQueue.invokeAndWait(() -> {\n+                UIDefaults d = UIManager.getDefaults();\n+                d.toString();\n+            });\n+        }\n+    }\n+\n+    private static void setLookAndFeel(UIManager.LookAndFeelInfo laf) {\n+        try {\n+            UIManager.setLookAndFeel(laf.getClassName());\n+        } catch (UnsupportedLookAndFeelException ignored) {\n+            System.out.println(\"Unsupported L&F: \" + laf.getClassName());\n+        } catch (ClassNotFoundException | InstantiationException\n+                | IllegalAccessException e) {\n+            throw new RuntimeException(e);\n+        }\n","filename":"test\/jdk\/javax\/swing\/MultiUIDefaults\/4300666\/bug4300666.java","additions":28,"deletions":6,"binary":false,"changes":34,"status":"modified"}]}