{"files":[{"patch":"@@ -127,1 +127,1 @@\n-            long initOld = HeapRegionUsageTool.getOldUsage().getInit();\n+            long initHeap = HeapRegionUsageTool.getHeapUsage().getInit();\n@@ -131,1 +131,2 @@\n-            long expectedNewSize = HeapRegionUsageTool.alignDown(initOld \/ expectedRatio,\n+            \/\/ See GenArguments::scale_by_NewRatio_aligned for calculation in the JVM.\n+            long expectedNewSize = HeapRegionUsageTool.alignDown(initHeap \/ (expectedRatio + 1),\n@@ -148,1 +149,1 @@\n-            long initOld = HeapRegionUsageTool.getOldUsage().getInit();\n+            long initHeap = HeapRegionUsageTool.getHeapUsage().getInit();\n@@ -152,1 +153,2 @@\n-            long alignedDownNewSize = HeapRegionUsageTool.alignDown(initOld \/ expectedRatio,\n+            \/\/ See GenArguments::scale_by_NewRatio_aligned for calculation in the JVM.\n+            long alignedDownNewSize = HeapRegionUsageTool.alignDown(initHeap \/ (expectedRatio + 1),\n","filename":"test\/hotspot\/jtreg\/gc\/arguments\/TestNewRatioFlag.java","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"}]}