{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2019, Oracle and\/or its affiliates. All rights reserved.\n@@ -686,0 +686,10 @@\n+\n+  static oop mask_dormant_archived_object(oop o) {\n+    if (o != NULL && o->klass()->java_mirror() == NULL) {\n+      \/\/ Ignore this object since the corresponding java mirror is not loaded.\n+      \/\/ Might be a dormant archive object.\n+      return NULL;\n+    } else {\n+      return o;\n+    }\n+  }\n@@ -761,0 +771,7 @@\n+      if (o != NULL && log_is_enabled(Debug, cds, heap) && mask_dormant_archived_object(o) == NULL) {\n+        ResourceMark rm;\n+        log_debug(cds, heap)(\"skipped dormant archived object \" INTPTR_FORMAT \" (%s) referenced by \" INTPTR_FORMAT \" (%s)\",\n+                             p2i(o), o->klass()->external_name(),\n+                             p2i(obj), obj->klass()->external_name());\n+      }\n+      o = mask_dormant_archived_object(o);\n@@ -958,5 +975,0 @@\n-  if (k->java_mirror() == NULL) {\n-    \/\/ Ignoring this object since the corresponding java mirror is not loaded.\n-    \/\/ Might be a dormant archive object.\n-    return;\n-  }\n@@ -1148,0 +1160,7 @@\n+    if (o != NULL && log_is_enabled(Debug, cds, heap) && mask_dormant_archived_object(o) == NULL) {\n+      ResourceMark rm;\n+      log_debug(cds, heap)(\"skipped dormant archived object \" INTPTR_FORMAT \" (%s) referenced by \" INTPTR_FORMAT \" (%s)\",\n+                           p2i(o), o->klass()->external_name(),\n+                           p2i(array), array->klass()->external_name());\n+    }\n+    o = mask_dormant_archived_object(o);\n@@ -1427,0 +1446,5 @@\n+  if (DumperSupport::mask_dormant_archived_object(o) == NULL) {\n+    log_debug(cds, heap)(\"skipped dormant archived object \" INTPTR_FORMAT \" (%s)\", p2i(o), o->klass()->external_name());\n+    return;\n+  }\n+\n","filename":"src\/hotspot\/share\/services\/heapDumper.cpp","additions":30,"deletions":6,"binary":false,"changes":36,"status":"modified"}]}