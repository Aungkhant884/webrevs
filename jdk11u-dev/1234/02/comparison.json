{"files":[{"patch":"@@ -66,1 +66,1 @@\n-    int codepage;\n+    int codepage = 0;\n@@ -72,1 +72,4 @@\n-    if (GetLocaleInfo(lcid,\n+    if (lcid == 0) { \/\/ for sun.jnu.encoding\n+        codepage = GetACP();\n+        _itoa_s(codepage, ret + 2, 14, 10);\n+    } else if (GetLocaleInfo(lcid,\n@@ -74,4 +77,2 @@\n-                      ret+2, 14) == 0) {\n-        codepage = 1252;\n-    } else {\n-        codepage = atoi(ret+2);\n+                      ret + 2, 14) != 0) {\n+        codepage = atoi(ret + 2);\n@@ -82,0 +83,1 @@\n+    case 65001:\n@@ -670,1 +672,0 @@\n-        LCID systemDefaultLCID = GetSystemDefaultLCID();\n@@ -709,1 +710,4 @@\n-            sprops.sun_jnu_encoding = getEncodingInternal(systemDefaultLCID);\n+            sprops.sun_jnu_encoding = getEncodingInternal(0);\n+            if (sprops.sun_jnu_encoding == NULL) {\n+                sprops.sun_jnu_encoding = \"UTF-8\";\n+            }\n","filename":"src\/java.base\/windows\/native\/libjava\/java_props_md.c","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"},{"patch":"","filename":"src\/utils\/LogCompilation\/target\/test-classes\/hotspot_pid23756.log","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/utils\/LogCompilation\/src\/test\/resources\/hotspot_pid23756.log","status":"copied"},{"patch":"","filename":"src\/utils\/LogCompilation\/target\/test-classes\/hotspot_pid25109.log","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"src\/utils\/LogCompilation\/src\/test\/resources\/hotspot_pid25109.log","status":"copied"}]}