{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,1 +24,1 @@\n-\/**\n+\/*\n@@ -27,1 +27,2 @@\n- * @summary  Verifies if moving focus via custom ButtonModel causes crash\n+ * @summary  Verifies if moving focus to JToggleButton with DefaultButtonModel\n+ *           that is added to a ButtonGroup doesn't throw ClassCastException\n@@ -33,2 +34,0 @@\n-import java.awt.Container;\n-import java.awt.Point;\n@@ -40,1 +39,0 @@\n-import javax.swing.JComponent;\n@@ -48,2 +46,0 @@\n-    private JPanel panel;\n-    private volatile Point p = null;\n@@ -61,0 +57,1 @@\n+            robot.delay(1000);\n@@ -67,1 +64,5 @@\n-            if (frame != null) { SwingUtilities.invokeAndWait(()->frame.dispose()); }\n+            SwingUtilities.invokeAndWait(() -> {\n+                if (frame != null) {\n+                    frame.dispose();\n+                }\n+            });\n@@ -72,1 +73,0 @@\n-\n@@ -75,2 +75,0 @@\n-        Container contentPane = frame.getContentPane();\n-        ButtonModel model = new DefaultButtonModel();\n@@ -78,0 +76,1 @@\n+        ButtonModel model = new DefaultButtonModel();\n@@ -80,1 +79,2 @@\n-        panel = new JPanel(new BorderLayout());\n+\n+        JPanel panel = new JPanel(new BorderLayout());\n@@ -83,1 +83,2 @@\n-        contentPane.add(panel);\n+\n+        frame.getContentPane().add(panel);\n","filename":"test\/jdk\/javax\/swing\/DefaultButtonModel\/DefaultButtonModelCrashTest.java","additions":15,"deletions":14,"binary":false,"changes":29,"status":"modified"}]}