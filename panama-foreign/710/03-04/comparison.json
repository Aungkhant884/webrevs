{"files":[{"patch":"@@ -164,1 +164,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfBooleanImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfBooleanImpl.of(order);\n@@ -192,1 +192,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfByteImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfByteImpl.of(order);\n@@ -220,1 +220,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfCharImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfCharImpl.of(order);\n@@ -248,1 +248,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfShortImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfShortImpl.of(order);\n@@ -276,1 +276,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfIntImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfIntImpl.of(order);\n@@ -304,1 +304,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfFloatImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfFloatImpl.of(order);\n@@ -332,1 +332,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfLongImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfLongImpl.of(order);\n@@ -360,1 +360,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfDoubleImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfDoubleImpl.of(order);\n@@ -410,1 +410,1 @@\n-            return MemoryLayoutUtil.createIfNeeded(ValueLayouts.OfAddressImpl.ofNativeOrder(), order);\n+            return ValueLayouts.OfAddressImpl.of(order);\n@@ -423,1 +423,1 @@\n-    OfAddress ADDRESS = ValueLayouts.OfAddressImpl.ofNativeOrder();\n+    OfAddress ADDRESS = OfAddress.of(ByteOrder.nativeOrder());\n@@ -433,1 +433,1 @@\n-    OfByte JAVA_BYTE = ValueLayouts.OfByteImpl.ofNativeOrder();\n+    OfByte JAVA_BYTE = OfByte.of(ByteOrder.nativeOrder());\n@@ -443,1 +443,1 @@\n-    OfBoolean JAVA_BOOLEAN = ValueLayouts.OfBooleanImpl.ofNativeOrder();\n+    OfBoolean JAVA_BOOLEAN = OfBoolean.of(ByteOrder.nativeOrder());\n@@ -453,1 +453,1 @@\n-    OfChar JAVA_CHAR = ValueLayouts.OfCharImpl.ofNativeOrder();\n+    OfChar JAVA_CHAR = OfChar.of(ByteOrder.nativeOrder());\n@@ -463,1 +463,1 @@\n-    OfShort JAVA_SHORT = ValueLayouts.OfShortImpl.ofNativeOrder();\n+    OfShort JAVA_SHORT = OfShort.of(ByteOrder.nativeOrder());\n@@ -473,1 +473,1 @@\n-    OfInt JAVA_INT = ValueLayouts.OfIntImpl.ofNativeOrder();\n+    OfInt JAVA_INT = OfInt.of(ByteOrder.nativeOrder());\n@@ -483,1 +483,1 @@\n-    OfLong JAVA_LONG = ValueLayouts.OfLongImpl.ofNativeOrder();\n+    OfLong JAVA_LONG = OfLong.of(ByteOrder.nativeOrder());\n@@ -493,1 +493,1 @@\n-    OfFloat JAVA_FLOAT = ValueLayouts.OfFloatImpl.ofNativeOrder();\n+    OfFloat JAVA_FLOAT = OfFloat.of(ByteOrder.nativeOrder());\n@@ -503,1 +503,1 @@\n-    OfDouble JAVA_DOUBLE = ValueLayouts.OfDoubleImpl.ofNativeOrder();\n+    OfDouble JAVA_DOUBLE = OfDouble.of(ByteOrder.nativeOrder());\n","filename":"src\/java.base\/share\/classes\/java\/lang\/foreign\/ValueLayout.java","additions":18,"deletions":18,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -216,2 +216,0 @@\n-        private static final OfBoolean NATIVE_ORDER = new OfBooleanImpl(ByteOrder.nativeOrder());\n-\n@@ -237,2 +235,2 @@\n-        public static OfBoolean ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfBoolean of(ByteOrder order) {\n+            return new OfBooleanImpl(order);\n@@ -250,2 +248,0 @@\n-        private static final OfByte NATIVE_ORDER = new OfByteImpl(ByteOrder.nativeOrder());\n-\n@@ -271,2 +267,2 @@\n-        public static OfByte ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfByte of(ByteOrder order) {\n+            return new OfByteImpl(order);\n@@ -305,2 +301,2 @@\n-        public static OfChar ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfChar of(ByteOrder order) {\n+            return new OfCharImpl(order);\n@@ -339,2 +335,2 @@\n-        public static OfShort ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfShort of(ByteOrder order) {\n+            return new OfShortImpl(order);\n@@ -373,2 +369,2 @@\n-        public static OfInt ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfInt of(ByteOrder order) {\n+            return new OfIntImpl(order);\n@@ -407,2 +403,2 @@\n-        public static OfFloat ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfFloat of(ByteOrder order) {\n+            return new OfFloatImpl(order);\n@@ -441,2 +437,2 @@\n-        public static OfLong ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfLong of(ByteOrder order) {\n+            return new OfLongImpl(order);\n@@ -454,2 +450,0 @@\n-        private static final OfDouble NATIVE_ORDER = new OfDoubleImpl(ByteOrder.nativeOrder());\n-\n@@ -475,2 +469,2 @@\n-        public static OfDouble ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfDouble of(ByteOrder order) {\n+            return new OfDoubleImpl(order);\n@@ -489,2 +483,0 @@\n-        private static final OfAddress NATIVE_ORDER = new OfAddressImpl(ByteOrder.nativeOrder());\n-\n@@ -538,2 +530,2 @@\n-        public static OfAddress ofNativeOrder() {\n-            return NATIVE_ORDER;\n+        public static OfAddress of(ByteOrder order) {\n+            return new OfAddressImpl(order);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/layout\/ValueLayouts.java","additions":18,"deletions":26,"binary":false,"changes":44,"status":"modified"}]}