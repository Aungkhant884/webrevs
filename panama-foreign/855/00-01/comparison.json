{"files":[{"patch":"@@ -130,1 +130,1 @@\n-        long buf = UNSAFE.allocateMemory(alignedSize);\n+        long buf = allocateMemoryWrapper(alignedSize);\n@@ -153,0 +153,8 @@\n+    private static long allocateMemoryWrapper(long size) {\n+        try {\n+            return UNSAFE.allocateMemory(size);\n+        } catch (IllegalArgumentException ex) {\n+            throw new OutOfMemoryError();\n+        }\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/NativeMemorySegmentImpl.java","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -160,1 +160,1 @@\n-            arena.allocate(Long.MAX_VALUE, 2);\n+             arena.allocate(Long.MAX_VALUE, 2);\n","filename":"test\/jdk\/java\/foreign\/TestSegmentAllocators.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}