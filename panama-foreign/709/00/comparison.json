{"files":[{"patch":"@@ -57,2 +57,0 @@\n-import static java.lang.foreign.ValueLayout.JAVA_BYTE;\n-\n@@ -68,1 +66,3 @@\n-public abstract non-sealed class AbstractMemorySegmentImpl implements MemorySegment, SegmentAllocator, Scoped, BiFunction<String, List<Number>, RuntimeException> {\n+public abstract sealed class AbstractMemorySegmentImpl\n+        implements MemorySegment, SegmentAllocator, Scoped, BiFunction<String, List<Number>, RuntimeException>\n+        permits HeapMemorySegmentImpl, NativeMemorySegmentImpl {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/AbstractMemorySegmentImpl.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-public abstract class HeapMemorySegmentImpl extends AbstractMemorySegmentImpl {\n+public abstract sealed class HeapMemorySegmentImpl extends AbstractMemorySegmentImpl {\n@@ -95,1 +95,1 @@\n-    public static class OfByte extends HeapMemorySegmentImpl {\n+    public static final class OfByte extends HeapMemorySegmentImpl {\n@@ -128,1 +128,1 @@\n-    public static class OfChar extends HeapMemorySegmentImpl {\n+    public static final class OfChar extends HeapMemorySegmentImpl {\n@@ -161,1 +161,1 @@\n-    public static class OfShort extends HeapMemorySegmentImpl {\n+    public static final class OfShort extends HeapMemorySegmentImpl {\n@@ -194,1 +194,1 @@\n-    public static class OfInt extends HeapMemorySegmentImpl {\n+    public static final class OfInt extends HeapMemorySegmentImpl {\n@@ -227,1 +227,1 @@\n-    public static class OfLong extends HeapMemorySegmentImpl {\n+    public static final class OfLong extends HeapMemorySegmentImpl {\n@@ -260,1 +260,1 @@\n-    public static class OfFloat extends HeapMemorySegmentImpl {\n+    public static final class OfFloat extends HeapMemorySegmentImpl {\n@@ -293,1 +293,1 @@\n-    public static class OfDouble extends HeapMemorySegmentImpl {\n+    public static final class OfDouble extends HeapMemorySegmentImpl {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/HeapMemorySegmentImpl.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -55,1 +55,3 @@\n-public abstract non-sealed class MemorySessionImpl implements MemorySession, SegmentAllocator {\n+public abstract sealed class MemorySessionImpl\n+        implements MemorySession, SegmentAllocator\n+        permits ConfinedSession, MemorySessionImpl.GlobalSessionImpl, SharedSession {\n@@ -259,1 +261,1 @@\n-    static class GlobalSessionImpl extends MemorySessionImpl {\n+    static final class GlobalSessionImpl extends MemorySessionImpl {\n@@ -310,1 +312,1 @@\n-    static class ImplicitSession extends SharedSession {\n+    static final class ImplicitSession extends SharedSession {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/MemorySessionImpl.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-public class NativeMemorySegmentImpl extends AbstractMemorySegmentImpl {\n+public sealed class NativeMemorySegmentImpl extends AbstractMemorySegmentImpl permits MappedMemorySegmentImpl {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/NativeMemorySegmentImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-class SharedSession extends MemorySessionImpl {\n+sealed class SharedSession extends MemorySessionImpl permits MemorySessionImpl.ImplicitSession {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/SharedSession.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}