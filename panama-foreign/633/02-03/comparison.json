{"files":[{"patch":"@@ -110,2 +110,2 @@\n-    public NativeSymbol findNativeOrThrow(String name) {\n-        return this.getClass().getClassLoader().findNative(name).orElseThrow();\n+    public static NativeSymbol findNativeOrThrow(Class<?> clazz, String name) {\n+        return clazz.getClassLoader().findNative(name).orElseThrow();\n","filename":"test\/jdk\/java\/foreign\/NativeTestHelper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-                findNativeOrThrow(\"struct_func\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class,\"struct_func\"),\n@@ -74,1 +74,1 @@\n-                findNativeOrThrow(\"addr_func_6\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func_6\"),\n@@ -116,1 +116,1 @@\n-                findNativeOrThrow(\"addr_func\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func\"),\n@@ -131,1 +131,1 @@\n-                findNativeOrThrow(\"addr_func\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func\"),\n@@ -142,1 +142,1 @@\n-                findNativeOrThrow(\"addr_func_cb\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func_cb\"),\n@@ -154,1 +154,1 @@\n-                findNativeOrThrow(\"addr_func_cb\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func_cb\"),\n@@ -166,1 +166,1 @@\n-                findNativeOrThrow(\"addr_func_cb\"),\n+                findNativeOrThrow(SafeFunctionAccessTest.class, \"addr_func_cb\"),\n","filename":"test\/jdk\/java\/foreign\/SafeFunctionAccessTest.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-        NativeSymbol addr = findNativeOrThrow(fName);\n+        NativeSymbol addr = findNativeOrThrow(TestDowncall.class, fName);\n@@ -87,1 +87,1 @@\n-        NativeSymbol addr = findNativeOrThrow(\"s\" + fName);\n+        NativeSymbol addr = findNativeOrThrow(TestDowncall.class, \"s\" + fName);\n","filename":"test\/jdk\/java\/foreign\/TestDowncall.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-            NativeSymbol ma = findNativeOrThrow(name);\n+            NativeSymbol ma = findNativeOrThrow(TestIntrinsics.class, name);\n@@ -96,1 +96,1 @@\n-            NativeSymbol ma = findNativeOrThrow(\"empty\");\n+            NativeSymbol ma = findNativeOrThrow(TestIntrinsics.class, \"empty\");\n@@ -111,1 +111,1 @@\n-            NativeSymbol ma = findNativeOrThrow(\"identity_va\");\n+            NativeSymbol ma = findNativeOrThrow(TestIntrinsics.class, \"identity_va\");\n@@ -124,1 +124,1 @@\n-                NativeSymbol ma = findNativeOrThrow(\"invoke_high_arity\" + i);\n+                NativeSymbol ma = findNativeOrThrow(TestIntrinsics.class, \"invoke_high_arity\" + i);\n","filename":"test\/jdk\/java\/foreign\/TestIntrinsics.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-        NativeSymbol addr = findNativeOrThrow(fName);\n+        NativeSymbol addr = findNativeOrThrow(TestUpcallAsync.class, fName);\n","filename":"test\/jdk\/java\/foreign\/TestUpcallAsync.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-                    new NativeTestHelper().findNativeOrThrow(\"do_upcall\"),\n+                    findNativeOrThrow(TestUpcallHighArity.class, \"do_upcall\"),\n","filename":"test\/jdk\/java\/foreign\/TestUpcallHighArity.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-        NativeSymbol addr = findNativeOrThrow(fName);\n+        NativeSymbol addr = findNativeOrThrow(TestUpcallScope.class, fName);\n","filename":"test\/jdk\/java\/foreign\/TestUpcallScope.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-        NativeSymbol addr = findNativeOrThrow(\"s\" + fName);\n+        NativeSymbol addr = findNativeOrThrow(TestUpcallStack.class, \"s\" + fName);\n","filename":"test\/jdk\/java\/foreign\/TestUpcallStack.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-                new NativeTestHelper().findNativeOrThrow(\"do_upcall\"),\n+                findNativeOrThrow(TestUpcallStructScope.class, \"do_upcall\"),\n","filename":"test\/jdk\/java\/foreign\/TestUpcallStructScope.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-    static final NativeSymbol VARARGS_ADDR = new NativeTestHelper().findNativeOrThrow(\"varargs\");\n+    static final NativeSymbol VARARGS_ADDR = findNativeOrThrow(TestVarArgs.class, \"varargs\");\n","filename":"test\/jdk\/java\/foreign\/TestVarArgs.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-                    new NativeTestHelper().findNativeOrThrow(\"asyncStackWalk\"),\n+                    findNativeOrThrow(TestAsyncStackWalk.class, \"asyncStackWalk\"),\n","filename":"test\/jdk\/java\/foreign\/stackwalk\/TestAsyncStackWalk.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -107,1 +107,1 @@\n-                    new NativeTestHelper().findNativeOrThrow(\"foo\"),\n+                    findNativeOrThrow(TestStackWalk.class, \"foo\"),\n","filename":"test\/jdk\/java\/foreign\/stackwalk\/TestStackWalk.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-        return abi.downcallHandle(new NativeTestHelper().findNativeOrThrow(symbol), fd);\n+        return abi.downcallHandle(findNativeOrThrow(VaListTest.class, symbol), fd);\n","filename":"test\/jdk\/java\/foreign\/valist\/VaListTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -58,3 +58,3 @@\n-        funcA = new NativeTestHelper().findNativeOrThrow(\"funcA\");\n-        funcB = new NativeTestHelper().findNativeOrThrow(\"funcB\");\n-        funcC = new NativeTestHelper().findNativeOrThrow(\"funcC\");\n+        funcA = findNativeOrThrow(TestVirtualCalls.class, \"funcA\");\n+        funcB = findNativeOrThrow(TestVirtualCalls.class, \"funcB\");\n+        funcC = findNativeOrThrow(TestVirtualCalls.class, \"funcC\");\n","filename":"test\/jdk\/java\/foreign\/virtual\/TestVirtualCalls.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"}]}