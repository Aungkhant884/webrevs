{"files":[{"patch":"@@ -88,1 +88,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, byte value) {\n+    default MemorySegment allocate(ValueLayout layout, byte value) {\n@@ -106,1 +106,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, short value) {\n+    default MemorySegment allocate(ValueLayout layout, short value) {\n@@ -124,1 +124,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, int value) {\n+    default MemorySegment allocate(ValueLayout layout, int value) {\n@@ -142,1 +142,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, float value) {\n+    default MemorySegment allocate(ValueLayout layout, float value) {\n@@ -160,1 +160,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, long value) {\n+    default MemorySegment allocate(ValueLayout layout, long value) {\n@@ -178,1 +178,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, double value) {\n+    default MemorySegment allocate(ValueLayout layout, double value) {\n@@ -186,1 +186,2 @@\n-     * Allocate a block of memory in this native scope with given layout and initialize it with given address value.\n+     * Allocate a block of memory in this native scope with given layout and initialize it with given address value\n+     * (expressed as an {@link Addressable} instance).\n@@ -197,1 +198,1 @@\n-    default MemorySegment allocate(MemoryLayout layout, MemoryAddress value) {\n+    default MemorySegment allocate(ValueLayout layout, Addressable value) {\n@@ -202,2 +203,2 @@\n-            case 4: return allocate(layout, (int)value.toRawLongValue());\n-            case 8: return allocate(layout, value.toRawLongValue());\n+            case 4: return allocate(layout, (int)value.address().toRawLongValue());\n+            case 8: return allocate(layout, value.address().toRawLongValue());\n@@ -325,1 +326,1 @@\n-    default MemorySegment allocateArray(ValueLayout elementLayout, MemoryAddress[] array) {\n+    default MemorySegment allocateArray(ValueLayout elementLayout, Addressable[] array) {\n@@ -331,1 +332,1 @@\n-                            .mapToInt(a -> (int)a.toRawLongValue()).toArray(),\n+                            .mapToInt(a -> (int)a.address().toRawLongValue()).toArray(),\n@@ -334,1 +335,1 @@\n-                            .mapToLong(MemoryAddress::toRawLongValue).toArray(),\n+                            .mapToLong(a -> a.address().toRawLongValue()).toArray(),\n","filename":"src\/jdk.incubator.foreign\/share\/classes\/jdk\/incubator\/foreign\/NativeScope.java","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"}]}