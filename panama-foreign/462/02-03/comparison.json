{"files":[{"patch":"@@ -154,1 +154,2 @@\n-        append(MEMBER_MODS + \" \" + type.getSimpleName() + \" \" + javaName + \"$get(MemorySegment \" + safeParameterName(\"seg\") + \") {\\n\");\n+        String seg = safeParameterName(\"seg\");\n+        append(MEMBER_MODS + \" \" + type.getSimpleName() + \" \" + javaName + \"$get(MemorySegment \" + seg + \") {\\n\");\n@@ -158,1 +159,1 @@\n-                + vhConstant.accessExpression() + \".get(\" + safeParameterName(\"seg\") + \");\\n\");\n+                + vhConstant.accessExpression() + \".get(\" + seg + \");\\n\");\n@@ -168,2 +169,4 @@\n-        String param = MemorySegment.class.getSimpleName() + \" \" + safeParameterName(\"seg\");\n-        append(MEMBER_MODS + \" void \" + javaName + \"$set( \" + param + \", \" + type.getSimpleName() + \" \" + safeParameterName(\"x\") + \") {\\n\");\n+        String seg = safeParameterName(\"seg\");\n+        String x = safeParameterName(\"x\");\n+        String param = MemorySegment.class.getSimpleName() + \" \" + seg;\n+        append(MEMBER_MODS + \" void \" + javaName + \"$set( \" + param + \", \" + type.getSimpleName() + \" \" + x + \") {\\n\");\n@@ -172,1 +175,1 @@\n-        append(vhConstant.accessExpression() + \".set(\" + safeParameterName(\"seg\") + \", \" + safeParameterName(\"x\") + \");\\n\");\n+        append(vhConstant.accessExpression() + \".set(\" + seg + \", \" + x + \");\\n\");\n@@ -193,1 +196,2 @@\n-        append(MEMBER_MODS + \" MemorySegment \" + javaName + \"$slice(MemorySegment \" + safeParameterName(\"seg\") + \") {\\n\");\n+        String seg = safeParameterName(\"seg\");\n+        append(MEMBER_MODS + \" MemorySegment \" + javaName + \"$slice(MemorySegment \" + seg + \") {\\n\");\n@@ -197,1 +201,1 @@\n-        append(safeParameterName(\"seg\"));\n+        append(seg);\n@@ -300,1 +304,3 @@\n-        String params = MemorySegment.class.getSimpleName() + \" \" + safeParameterName(\"seg\") + \", long \" + safeParameterName(\"index\");\n+        String index = safeParameterName(\"index\");\n+        String seg = safeParameterName(\"seg\");\n+        String params = MemorySegment.class.getSimpleName() + \" \" + seg + \", long \" + index;\n@@ -307,1 +313,1 @@\n-        append(safeParameterName(\"seg\"));\n+        append(seg);\n@@ -309,1 +315,1 @@\n-        append(safeParameterName(\"index\"));\n+        append(index);\n@@ -320,2 +326,5 @@\n-        String params = MemorySegment.class.getSimpleName() + \" \" + safeParameterName(\"seg\") +\n-            \", long \" + safeParameterName(\"index\") + \", \" + type.getSimpleName() + \" \" + safeParameterName(\"x\");\n+        String index = safeParameterName(\"index\");\n+        String seg = safeParameterName(\"seg\");\n+        String x = safeParameterName(\"x\");\n+        String params = MemorySegment.class.getSimpleName() + \" \" + seg +\n+            \", long \" + index + \", \" + type.getSimpleName() + \" \" + x;\n@@ -327,1 +336,1 @@\n-        append(safeParameterName(\"seg\"));\n+        append(seg);\n@@ -329,1 +338,1 @@\n-        append(safeParameterName(\"index\"));\n+        append(index);\n@@ -331,1 +340,1 @@\n-        append(safeParameterName(\"x\"));\n+        append(x);\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/jextract\/impl\/StructBuilder.java","additions":24,"deletions":15,"binary":false,"changes":39,"status":"modified"}]}