{"files":[{"patch":"@@ -879,1 +879,1 @@\n-                 .withOwnerThread(null)\n+                 .share()\n","filename":"src\/jdk.incubator.foreign\/share\/classes\/jdk\/incubator\/foreign\/MemorySegment.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-                    .withOwnerThread(null);\n+                    .share();\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/clang\/TranslationUnit.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -4215,1 +4215,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -4234,1 +4234,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -4253,1 +4253,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -4272,1 +4272,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -5230,1 +5230,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -5758,1 +5758,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -6026,1 +6026,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -6045,1 +6045,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n@@ -7826,1 +7826,1 @@\n-            return scope.register(allocate(fi));\n+            return allocate(fi).handoff(scope);\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/clang\/libclang\/Index_h.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-                    .withOwnerThread(null))).orElse(null);\n+                    .share())).orElse(null);\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/clang\/libclang\/RuntimeHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-        builder.append(\"return scope.register(allocate(fi));\\n\");\n+        builder.append(\"return allocate(fi).handoff(scope);\\n\");\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/jextract\/impl\/FunctionalInterfaceBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-                    .withOwnerThread(null))).orElse(null);\n+                    .share())).orElse(null);\n","filename":"src\/jdk.incubator.jextract\/share\/classes\/jdk\/internal\/jextract\/impl\/resources\/RuntimeHelper.java.template","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-            sum = scope.register(sum);\n+            sum = sum.handoff(scope);\n","filename":"test\/jdk\/tools\/jextract\/test8246400\/LibTest8246400Test.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}