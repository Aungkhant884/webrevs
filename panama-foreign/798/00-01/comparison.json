{"files":[{"patch":"@@ -51,1 +51,0 @@\n-        Objects.requireNonNull(name);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/layout\/AbstractLayout.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -96,1 +96,1 @@\n-            return duplicator().dup(order, bitAlignment(), name());\n+            return dup(order, bitAlignment(), name());\n@@ -146,1 +146,1 @@\n-            return duplicator().dup(order(), bitAlignment, name);\n+            return dup(order(), bitAlignment, name);\n@@ -149,6 +149,1 @@\n-        abstract ValueLayoutDuplicator<V> duplicator();\n-\n-        @FunctionalInterface\n-        interface ValueLayoutDuplicator<V> {\n-            V dup(ByteOrder order, long bitAlignment, Optional<String> name);\n-        }\n+        abstract V dup(ByteOrder order, long bitAlignment, Optional<String> name);\n@@ -201,2 +196,2 @@\n-        ValueLayoutDuplicator<OfBooleanImpl> duplicator() {\n-            return OfBooleanImpl::new;\n+        OfBooleanImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfBooleanImpl(order, bitAlignment, name);\n@@ -217,2 +212,2 @@\n-        ValueLayoutDuplicator<OfByteImpl> duplicator() {\n-            return OfByteImpl::new;\n+        OfByteImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfByteImpl(order, bitAlignment, name);\n@@ -233,2 +228,2 @@\n-        ValueLayoutDuplicator<OfCharImpl> duplicator() {\n-            return OfCharImpl::new;\n+        OfCharImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfCharImpl(order, bitAlignment, name);\n@@ -249,2 +244,2 @@\n-        ValueLayoutDuplicator<OfShortImpl> duplicator() {\n-            return OfShortImpl::new;\n+        OfShortImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfShortImpl(order, bitAlignment, name);\n@@ -265,2 +260,2 @@\n-        ValueLayoutDuplicator<OfIntImpl> duplicator() {\n-            return OfIntImpl::new;\n+        OfIntImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfIntImpl(order, bitAlignment, name);\n@@ -281,2 +276,2 @@\n-        ValueLayoutDuplicator<OfFloatImpl> duplicator() {\n-            return OfFloatImpl::new;\n+        OfFloatImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfFloatImpl(order, bitAlignment, name);\n@@ -297,2 +292,2 @@\n-        ValueLayoutDuplicator<OfLongImpl> duplicator() {\n-            return OfLongImpl::new;\n+        OfLongImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfLongImpl(order, bitAlignment, name);\n@@ -313,2 +308,2 @@\n-        ValueLayoutDuplicator<OfDoubleImpl> duplicator() {\n-            return OfDoubleImpl::new;\n+        OfDoubleImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfDoubleImpl(order, bitAlignment, name);\n@@ -333,3 +328,2 @@\n-        ValueLayoutDuplicator<OfAddressImpl> duplicator() {\n-            return (order, bitAlignment, name) ->\n-                    new OfAddressImpl(order, bitSize(), bitAlignment, targetLayout, name);\n+        OfAddressImpl dup(ByteOrder order, long bitAlignment, Optional<String> name) {\n+            return new OfAddressImpl(order, bitSize(), bitAlignment,targetLayout, name);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/layout\/ValueLayouts.java","additions":21,"deletions":27,"binary":false,"changes":48,"status":"modified"}]}