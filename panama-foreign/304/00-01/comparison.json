{"files":[{"patch":"@@ -199,2 +199,2 @@\n-        } catch (Scope.ScopedAccessException ex) {\n-            throw new IllegalStateException(\"This segment is already closed\");\n+        } finally {\n+            Reference.reachabilityFence(scope);\n@@ -231,2 +231,3 @@\n-        } catch (Scope.ScopedAccessException ex) {\n-            throw new IllegalStateException(\"This segment is already closed\");\n+        } finally {\n+            Reference.reachabilityFence(aScope);\n+            Reference.reachabilityFence(bScope);\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/X-ScopedMemoryAccess.java.template","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -160,1 +160,1 @@\n-try (MemorySegment segment = MemorySegment.allocateNative(SEQUENCE_LAYOUT).share()) {\n+try (MemorySegment segment = MemorySegment.allocateNative(SEQUENCE_LAYOUT).withOwnerThread(null)) {\n","filename":"src\/jdk.incubator.foreign\/share\/classes\/jdk\/incubator\/foreign\/MemorySegment.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}