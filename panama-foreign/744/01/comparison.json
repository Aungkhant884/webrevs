{"files":[{"patch":"@@ -45,1 +45,1 @@\n-        echo \"::set-output name=value::$value\"\n+        echo \"value=$value\" >> $GITHUB_OUTPUT\n","filename":".github\/actions\/config\/action.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-          echo '::set-output name=failure::true'\n+          echo 'failure=true' >> $GITHUB_OUTPUT\n","filename":".github\/actions\/do-build\/action.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-        echo \"::set-output name=value::$platform_prefix\"\n+        echo \"value=$platform_prefix\" >> $GITHUB_OUTPUT\n@@ -108,1 +108,1 @@\n-        echo '::set-output name=path::bootjdk\/jdk'\n+        echo 'path=bootjdk\/jdk' >> $GITHUB_OUTPUT\n","filename":".github\/actions\/get-bootjdk\/action.yml","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -106,3 +106,3 @@\n-        echo \"::set-output name=jdk::$jdk_dir\"\n-        echo \"::set-output name=symbols::$symbols_dir\"\n-        echo \"::set-output name=tests::$tests_dir\"\n+        echo \"jdk=$jdk_dir\" >> $GITHUB_OUTPUT\n+        echo \"symbols=$symbols_dir\" >> $GITHUB_OUTPUT\n+        echo \"tests=$tests_dir\" >> $GITHUB_OUTPUT\n","filename":".github\/actions\/get-bundles\/action.yml","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-        echo '::set-output name=path::gtest'\n+        echo 'path=gtest' >> $GITHUB_OUTPUT\n","filename":".github\/actions\/get-gtest\/action.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-        echo '::set-output name=path::jtreg\/installed'\n+        echo 'path=jtreg\/installed' >> $GITHUB_OUTPUT\n","filename":".github\/actions\/get-jtreg\/action.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-          echo '::set-output name=bundles-found::true'\n+          echo 'bundles-found=true' >> $GITHUB_OUTPUT\n@@ -67,1 +67,1 @@\n-          echo '::set-output name=bundles-found::false'\n+          echo 'bundles-found=false' >> $GITHUB_OUTPUT\n","filename":".github\/actions\/upload-bundles\/action.yml","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+GITHUB_OUTPUT=\"$2\"\n@@ -44,1 +45,1 @@\n-  echo '::set-output name=error-message::Unspecified test suite failure. Please see log for job for details.'\n+  echo 'error-message=Unspecified test suite failure. Please see log for job for details.' >> $GITHUB_OUTPUT\n@@ -48,2 +49,2 @@\n-echo '::set-output name=failure::true'\n-echo \"::set-output name=error-message::Test run reported $failure_count test failure(s) and $error_count error(s). See summary for details.\"\n+echo 'failure=true' >> $GITHUB_OUTPUT\n+echo \"error-message=Test run reported $failure_count test failure(s) and $error_count error(s). See summary for details.\" >> $GITHUB_OUTPUT\n","filename":".github\/scripts\/gen-test-summary.sh","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -105,1 +105,1 @@\n-            echo '::set-output name=suffix:::${{ inputs.apt-architecture }}'\n+            echo 'suffix=:${{ inputs.apt-architecture }}' >> $GITHUB_OUTPUT\n","filename":".github\/workflows\/build-linux.yml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -113,8 +113,8 @@\n-          echo \"::set-output name=linux-x64::$(check_platform linux-x64 linux x64)\"\n-          echo \"::set-output name=linux-x86::$(check_platform linux-x86 linux x86)\"\n-          echo \"::set-output name=linux-x64-variants::$(check_platform linux-x64-variants variants)\"\n-          echo \"::set-output name=linux-cross-compile::$(check_platform linux-cross-compile cross-compile)\"\n-          echo \"::set-output name=macos-x64::$(check_platform macos-x64 macos x64)\"\n-          echo \"::set-output name=macos-aarch64::$(check_platform macos-aarch64 macos aarch64)\"\n-          echo \"::set-output name=windows-x64::$(check_platform windows-x64 windows x64)\"\n-          echo \"::set-output name=windows-aarch64::$(check_platform windows-aarch64 windows aarch64)\"\n+          echo \"linux-x64=$(check_platform linux-x64 linux x64)\" >> $GITHUB_OUTPUT\n+          echo \"linux-x86=$(check_platform linux-x86 linux x86)\" >> $GITHUB_OUTPUT\n+          echo \"linux-x64-variants=$(check_platform linux-x64-variants variants)\" >> $GITHUB_OUTPUT\n+          echo \"linux-cross-compile=$(check_platform linux-cross-compile cross-compile)\" >> $GITHUB_OUTPUT\n+          echo \"macos-x64=$(check_platform macos-x64 macos x64)\" >> $GITHUB_OUTPUT\n+          echo \"macos-aarch64=$(check_platform macos-aarch64 macos aarch64)\" >> $GITHUB_OUTPUT\n+          echo \"windows-x64=$(check_platform windows-x64 windows x64)\" >> $GITHUB_OUTPUT\n+          echo \"windows-aarch64=$(check_platform windows-aarch64 windows aarch64)\" >> $GITHUB_OUTPUT\n","filename":".github\/workflows\/main.yml","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -141,1 +141,1 @@\n-            echo \"::set-output name=value::\"\n+            echo \"value=\" >> $GITHUB_OUTPUT\n@@ -143,1 +143,1 @@\n-            echo \"::set-output name=value::$PATH\"\n+            echo \"value=$PATH\" >> $GITHUB_OUTPUT\n@@ -157,1 +157,1 @@\n-          && bash .\/.github\/scripts\/gen-test-summary.sh \"$GITHUB_STEP_SUMMARY\"\n+          && bash .\/.github\/scripts\/gen-test-summary.sh \"$GITHUB_STEP_SUMMARY\" \"$GITHUB_OUTPUT\"\n@@ -190,1 +190,1 @@\n-          echo \"::set-output name=artifact-name::$artifact_name\"\n+          echo \"artifact-name=$artifact_name\" >> $GITHUB_OUTPUT\n","filename":".github\/workflows\/test.yml","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -10,2 +10,3 @@\n-See <https:\/\/openjdk.org\/> for more information about\n-the OpenJDK Community and the JDK.\n+See <https:\/\/openjdk.org\/> for more information about the OpenJDK\n+Community and the JDK and see <https:\/\/bugs.openjdk.org> for JDK issue\n+tracking.\n","filename":"README.md","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2015, 2016, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -138,0 +138,22 @@\n+# Returns a shell-escaped version of the argument given.\n+shell_quote() {\n+  if [[ -n \"$1\" ]]; then\n+    # Uses only shell-safe characters?  No quoting needed.\n+    # '=' is a zsh meta-character, but only in word-initial position.\n+    if echo \"$1\" | grep '^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\\.:,%\/+=_-]\\{1,\\}$' > \/dev\/null \\\n+        && ! echo \"$1\" | grep '^=' > \/dev\/null; then\n+      quoted=\"$1\"\n+    else\n+      if echo \"$1\" | grep \"[\\'!]\" > \/dev\/null; then\n+        # csh does history expansion within single quotes, but not\n+        # when backslash-escaped!\n+        local quoted_quote=\"'\\\\''\" quoted_exclam=\"'\\\\!'\"\n+        word=\"${1\/\/\\'\/${quoted_quote}}\"\n+        word=\"${1\/\/\\!\/${quoted_exclam}}\"\n+      fi\n+      quoted=\"'$1'\"\n+    fi\n+    echo \"$quoted\"\n+  fi\n+}\n+\n@@ -154,0 +176,12 @@\n+\n+# Save the original command line\n+conf_quoted_arguments=()\n+for conf_option; do\n+  conf_quoted_arguments=(\"${conf_quoted_arguments[@]}\" \"$(shell_quote \"$conf_option\")\")\n+done\n+export REAL_CONFIGURE_COMMAND_LINE=\"${conf_quoted_arguments[@]}\"\n+\n+myfulldir=\"$(cd \"${mydir}\" > \/dev\/null && pwd)\"\n+export REAL_CONFIGURE_COMMAND_EXEC_FULL=\"$BASH $myfulldir\/$myname\"\n+export REAL_CONFIGURE_COMMAND_EXEC_SHORT=\"$myname\"\n+\n","filename":"bin\/jib.sh","additions":35,"deletions":1,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -280,1 +280,4 @@\n-        ifneq ($(CONFIGURE_COMMAND_LINE), )\n+        ifneq ($(REAL_CONFIGURE_COMMAND_EXEC_FULL), )\n+\t  $(ECHO) \"Re-running configure using original command line '$(REAL_CONFIGURE_COMMAND_EXEC_SHORT) $(REAL_CONFIGURE_COMMAND_LINE)'\"\n+\t  $(eval RECONFIGURE_COMMAND := $(REAL_CONFIGURE_COMMAND_EXEC_FULL) $(REAL_CONFIGURE_COMMAND_LINE))\n+        else ifneq ($(CONFIGURE_COMMAND_LINE), )\n@@ -282,0 +285,1 @@\n+\t  $(eval RECONFIGURE_COMMAND := $(BASH) $(TOPDIR)\/configure $(CONFIGURE_COMMAND_LINE))\n@@ -284,0 +288,1 @@\n+\t  $(eval RECONFIGURE_COMMAND := $(BASH) $(TOPDIR)\/configure)\n@@ -288,1 +293,1 @@\n-\t    $(BASH) $(TOPDIR)\/configure $(CONFIGURE_COMMAND_LINE) )\n+\t    $(RECONFIGURE_COMMAND) )\n","filename":"make\/Init.gmk","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -34,0 +34,5 @@\n+  # We might have the original command line if the wrapper was called by some\n+  # other script.\n+  AC_SUBST(REAL_CONFIGURE_COMMAND_EXEC_SHORT)\n+  AC_SUBST(REAL_CONFIGURE_COMMAND_EXEC_FULL)\n+  AC_SUBST(REAL_CONFIGURE_COMMAND_LINE)\n","filename":"make\/autoconf\/basic.m4","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -281,0 +281,5 @@\n+  if test \"x$REAL_CONFIGURE_COMMAND_EXEC_FULL\" != x; then\n+    printf \"\\n\"\n+    printf \"The original configure invocation was '$REAL_CONFIGURE_COMMAND_EXEC_SHORT $REAL_CONFIGURE_COMMAND_LINE'.\\n\"\n+  fi\n+\n","filename":"make\/autoconf\/help.m4","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -137,0 +137,2 @@\n+  BINUTILS_DIR=\"$CONFIGURESUPPORT_OUTPUTDIR\/binutils\"\n+\n@@ -144,4 +146,8 @@\n-  if test -e $BINUTILS_SRC\/bfd\/libbfd.a && \\\n-      test -e $BINUTILS_SRC\/opcodes\/libopcodes.a && \\\n-      test -e $BINUTILS_SRC\/libiberty\/libiberty.a && \\\n-      test -e $BINUTILS_SRC\/zlib\/libz.a; then\n+  if ! test -d $BINUTILS_DIR; then\n+    $MKDIR -p $BINUTILS_DIR\n+  fi\n+\n+  if test -e $BINUTILS_DIR\/bfd\/libbfd.a && \\\n+      test -e $BINUTILS_DIR\/opcodes\/libopcodes.a && \\\n+      test -e $BINUTILS_DIR\/libiberty\/libiberty.a && \\\n+      test -e $BINUTILS_DIR\/zlib\/libz.a; then\n@@ -187,1 +193,1 @@\n-    AC_MSG_NOTICE([configure command line: .\/configure --disable-nls CFLAGS=\"$binutils_cflags\" CC=\"$binutils_cc\" $binutils_target])\n+    AC_MSG_NOTICE([configure command line: cd $BINUTILS_DIR && $BINUTILS_SRC\/configure --disable-nls CFLAGS=\"$binutils_cflags\" CC=\"$binutils_cc\" AR=\"$AR\" $binutils_target])\n@@ -189,3 +195,3 @@\n-    cd \"$BINUTILS_SRC\"\n-    .\/configure --disable-nls CFLAGS=\"$binutils_cflags\" CC=\"$binutils_cc\" $binutils_target\n-    if test $? -ne 0 || ! test -e $BINUTILS_SRC\/Makefile; then\n+    cd \"$BINUTILS_DIR\"\n+    $BINUTILS_SRC\/configure --disable-nls CFLAGS=\"$binutils_cflags\" CC=\"$binutils_cc\" AR=\"$AR\" $binutils_target\n+    if test $? -ne 0 || ! test -e $BINUTILS_DIR\/Makefile; then\n@@ -204,2 +210,0 @@\n-\n-  BINUTILS_DIR=\"$BINUTILS_SRC\"\n@@ -241,2 +245,8 @@\n-        test -e $BINUTILS_DIR\/libiberty\/libiberty.a; then\n-      HSDIS_CFLAGS=\"-I$BINUTILS_DIR\/include -I$BINUTILS_DIR\/bfd -DLIBARCH_$OPENJDK_TARGET_CPU_LEGACY_LIB\"\n+        test -e $BINUTILS_DIR\/libiberty\/libiberty.a && \\\n+        test -e $BINUTILS_DIR\/zlib\/libz.a; then\n+      HSDIS_CFLAGS=\"-DLIBARCH_$OPENJDK_TARGET_CPU_LEGACY_LIB\"\n+      if test -n \"$BINUTILS_SRC\"; then\n+        HSDIS_CFLAGS=\"$HSDIS_CFLAGS -I$BINUTILS_SRC\/include -I$BINUTILS_DIR\/bfd\"\n+      else\n+        HSDIS_CFLAGS=\"$HSDIS_CFLAGS -I$BINUTILS_DIR\/include -I$BINUTILS_DIR\/bfd\"\n+      fi\n","filename":"make\/autoconf\/lib-hsdis.m4","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -38,0 +38,5 @@\n+# How configure was originally called, if not called directly\n+REAL_CONFIGURE_COMMAND_EXEC_SHORT := @REAL_CONFIGURE_COMMAND_EXEC_SHORT@\n+REAL_CONFIGURE_COMMAND_EXEC_FULL := @REAL_CONFIGURE_COMMAND_EXEC_FULL@\n+REAL_CONFIGURE_COMMAND_LINE := @REAL_CONFIGURE_COMMAND_LINE@\n+\n","filename":"make\/autoconf\/spec.gmk.in","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -197,1 +197,1 @@\n-MAX_PARAMS := 36\n+MAX_PARAMS := 96\n","filename":"make\/common\/MakeBase.gmk","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -352,1 +352,1 @@\n-        $$($$($1_BASE)_SYSROOT_CFLAGS) $$($1_WARNINGS_FLAGS)\n+        $$($$($1_BASE)_SYSROOT_CFLAGS)\n@@ -354,1 +354,1 @@\n-        $$($$($1_BASE)_SYSROOT_CFLAGS) $$($1_EXTRA_CXXFLAGS) $$($1_WARNINGS_FLAGS)\n+        $$($$($1_BASE)_SYSROOT_CFLAGS) $$($1_EXTRA_CXXFLAGS)\n@@ -359,0 +359,1 @@\n+      $1_CFLAGS += $$($1_WARNINGS_FLAGS)\n@@ -364,0 +365,1 @@\n+      $1_CFLAGS += $$($1_WARNINGS_FLAGS)\n@@ -387,0 +389,1 @@\n+      $1_CXXFLAGS += $$($1_WARNINGS_FLAGS)\n","filename":"make\/common\/NativeCompilation.gmk","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+    -I$(TOPDIR)\/src\/java.desktop\/share\/native\/include \\\n","filename":"make\/common\/modules\/LauncherCommon.gmk","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -105,0 +105,1 @@\n+    DISABLED_WARNINGS_gcc_test_threadCpuLoad.cpp := address, \\\n@@ -108,0 +109,2 @@\n+    DISABLED_WARNINGS_clang_test_g1ServiceThread.cpp := delete-abstract-non-virtual-dtor, \\\n+    DISABLED_WARNINGS_clang_test_logDecorations.cpp := missing-field-initializers, \\\n","filename":"make\/hotspot\/lib\/CompileGtest.gmk","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -86,8 +86,13 @@\n-DISABLED_WARNINGS_gcc := parentheses comment unknown-pragmas address \\\n-    delete-non-virtual-dtor char-subscripts array-bounds int-in-bool-context \\\n-    ignored-qualifiers  missing-field-initializers implicit-fallthrough \\\n-    empty-body strict-overflow sequence-point maybe-uninitialized \\\n-    misleading-indentation cast-function-type shift-negative-value\n-\n-ifeq ($(call check-jvm-feature, zero), true)\n-  DISABLED_WARNINGS_gcc += return-type switch clobbered\n+DISABLED_WARNINGS_gcc := array-bounds comment delete-non-virtual-dtor \\\n+    empty-body ignored-qualifiers implicit-fallthrough int-in-bool-context \\\n+    maybe-uninitialized missing-field-initializers parentheses \\\n+    shift-negative-value unknown-pragmas\n+\n+DISABLED_WARNINGS_clang := ignored-qualifiers sometimes-uninitialized \\\n+    missing-braces delete-non-abstract-non-virtual-dtor unknown-pragmas\n+\n+ifneq ($(DEBUG_LEVEL), release)\n+  # Assert macro gives warning\n+  DISABLED_WARNINGS_clang += tautological-constant-out-of-range-compare\n+  # Some reasonable asserts produce warnings on GCC <= 7\n+  DISABLED_WARNINGS_gcc += strict-overflow\n@@ -96,6 +101,0 @@\n-DISABLED_WARNINGS_clang := tautological-compare \\\n-    undefined-var-template sometimes-uninitialized unknown-pragmas \\\n-    delete-non-virtual-dtor missing-braces char-subscripts \\\n-    ignored-qualifiers missing-field-initializers mismatched-tags \\\n-    shift-negative-value misleading-indentation\n-\n@@ -104,2 +103,1 @@\n-DISABLED_WARNINGS_microsoft := 4100 4127 4146 4201 4244 4291 4351 \\\n-    4511 4512 4514 4624\n+DISABLED_WARNINGS_microsoft := 4624 4244 4291 4146 4127\n@@ -159,0 +157,6 @@\n+    DISABLED_WARNINGS_gcc_ad_$(HOTSPOT_TARGET_CPU_ARCH).cpp := nonnull, \\\n+    DISABLED_WARNINGS_gcc_cgroupV1Subsystem_linux.cpp := address, \\\n+    DISABLED_WARNINGS_gcc_cgroupV2Subsystem_linux.cpp := address, \\\n+    DISABLED_WARNINGS_gcc_interp_masm_x86.cpp := uninitialized, \\\n+    DISABLED_WARNINGS_gcc_postaloc.cpp := address, \\\n+    DISABLED_WARNINGS_gcc_templateTable.cpp := cast-function-type, \\\n@@ -160,0 +164,10 @@\n+    DISABLED_WARNINGS_clang_arguments.cpp := missing-field-initializers, \\\n+    DISABLED_WARNINGS_clang_codeBuffer.cpp := tautological-undefined-compare, \\\n+    DISABLED_WARNINGS_clang_directivesParser.cpp := missing-field-initializers, \\\n+    DISABLED_WARNINGS_clang_g1ParScanThreadState.cpp := delete-abstract-non-virtual-dtor, \\\n+    DISABLED_WARNINGS_clang_g1YoungGCPostEvacuateTasks.cpp := delete-abstract-non-virtual-dtor, \\\n+    DISABLED_WARNINGS_clang_management.cpp := missing-field-initializers, \\\n+    DISABLED_WARNINGS_clang_os_posix.cpp := mismatched-tags missing-field-initializers, \\\n+    DISABLED_WARNINGS_clang_postaloc.cpp := tautological-undefined-compare, \\\n+    DISABLED_WARNINGS_clang_vm_version_x86.cpp := missing-field-initializers, \\\n+    DISABLED_WARNINGS_clang_zTracer.cpp := undefined-var-template, \\\n","filename":"make\/hotspot\/lib\/CompileJvm.gmk","additions":30,"deletions":16,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -36,4 +36,0 @@\n-  BUILD_LIBJVM_assembler_x86.cpp_CXXFLAGS := -Wno-maybe-uninitialized\n-  BUILD_LIBJVM_cardTableBarrierSetAssembler_x86.cpp_CXXFLAGS := -Wno-maybe-uninitialized\n-  BUILD_LIBJVM_interp_masm_x86.cpp_CXXFLAGS := -Wno-uninitialized\n-  BUILD_LIBJVM_ad_$(HOTSPOT_TARGET_CPU_ARCH).cpp_CXXFLAGS := -Wno-nonnull\n","filename":"make\/hotspot\/lib\/JvmOverrideFiles.gmk","additions":0,"deletions":4,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -208,3 +208,1 @@\n-            if (!(\"no\".equals(cldrBundles[i]) || cldrBundles[i].startsWith(\"no_\"))) {\n-                parentsMap.putAll(CLDRConverter.getCLDRBundle(cldrBundles[i]));\n-            }\n+            parentsMap.putAll(CLDRConverter.getCLDRBundle(cldrBundles[i]));\n","filename":"make\/jdk\/src\/classes\/build\/tools\/cldrconverter\/Bundle.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -87,1 +87,1 @@\n-    LIBS_windows := jvm.lib ws2_32.lib $(WIN_JAVA_LIB) \\\n+    LIBS_windows := jvm.lib Mswsock.lib ws2_32.lib $(WIN_JAVA_LIB) \\\n","filename":"make\/modules\/java.base\/Lib.gmk","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -370,0 +370,1 @@\n+      include \\\n@@ -479,0 +480,1 @@\n+    include \\\n@@ -657,0 +659,2 @@\n+  LIBSPLASHSCREEN_HEADER_DIRS += include\n+\n","filename":"make\/modules\/java.desktop\/lib\/Awt2dLibraries.gmk","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -42,1 +42,0 @@\n-    DISABLED_WARNINGS_gcc := unused-function, \\\n","filename":"make\/modules\/java.instrument\/Lib.gmk","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -50,1 +50,2 @@\n-          $(call SET_SHARED_LIBRARY_ORIGIN) \\\n+          $(call SET_SHARED_LIBRARY_ORIGIN), \\\n+      LIBS := Secur32.lib, \\\n","filename":"make\/modules\/java.security.jgss\/Lib.gmk","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,3 +62,5 @@\n-    DISABLED_WARNINGS_microsoft := 4267, \\\n-    DISABLED_WARNINGS_gcc := sign-compare pointer-arith, \\\n-    DISABLED_WARNINGS_clang := sign-compare pointer-arith format-nonliteral, \\\n+    DISABLED_WARNINGS_gcc := sign-compare, \\\n+    DISABLED_WARNINGS_gcc_ps_core.c := pointer-arith, \\\n+    DISABLED_WARNINGS_clang := sign-compare, \\\n+    DISABLED_WARNINGS_clang_libproc_impl.c := format-nonliteral, \\\n+    DISABLED_WARNINGS_clang_sadis.c := format-nonliteral, \\\n","filename":"make\/modules\/jdk.hotspot.agent\/Lib.gmk","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,3 +55,5 @@\n-    DISABLED_WARNINGS_gcc := unused-function, \\\n-    DISABLED_WARNINGS_clang := sometimes-uninitialized format-nonliteral \\\n-        self-assign, \\\n+    DISABLED_WARNINGS_gcc_SDE.c := unused-function, \\\n+    DISABLED_WARNINGS_clang_error_messages.c := format-nonliteral, \\\n+    DISABLED_WARNINGS_clang_EventRequestImpl.c := self-assign, \\\n+    DISABLED_WARNINGS_clang_inStream.c := sometimes-uninitialized, \\\n+    DISABLED_WARNINGS_clang_log_messages.c := format-nonliteral, \\\n","filename":"make\/modules\/jdk.jdwp.agent\/Lib.gmk","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -77,1 +77,2 @@\n-    LIBS_windows := $(LIBCXX), \\\n+    LIBS_windows := $(LIBCXX) user32.lib ole32.lib msi.lib shlwapi.lib \\\n+        Shell32.lib, \\\n@@ -127,1 +128,2 @@\n-      LIBS := $(LIBCXX), \\\n+      LIBS := $(LIBCXX) advapi32.lib ole32.lib msi.lib user32.lib \\\n+          shlwapi.lib Shell32.lib, \\\n@@ -147,2 +149,2 @@\n-      LIBS := $(LIBCXX), \\\n-      LIBS_windows := User32.lib, \\\n+      LIBS := $(LIBCXX) ole32.lib msi.lib User32.lib shlwapi.lib \\\n+          Shell32.lib, \\\n@@ -166,1 +168,1 @@\n-      LIBS := $(LIBCXX), \\\n+      LIBS := $(LIBCXX) ole32.lib msi.lib user32.lib shlwapi.lib Shell32.lib, \\\n","filename":"make\/modules\/jdk.jpackage\/Lib.gmk","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2015, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,0 @@\n-    DISABLED_WARNINGS_clang := format-nonliteral, \\\n","filename":"make\/modules\/jdk.management\/Lib.gmk","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n-# Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,2 +37,0 @@\n-        DISABLED_WARNINGS_gcc := undef, \\\n-        DISABLED_WARNINGS_clang := undef, \\\n","filename":"make\/modules\/jdk.sctp\/Lib.gmk","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -4907,1 +4907,1 @@\n-  \/\/match(iRegP_R5);\n+  match(iRegP_R5);\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64.ad","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -460,2 +460,1 @@\n-instruct vloadconB(vReg dst, immI0 src) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_BYTE);\n+instruct vloadcon(vReg dst, immI0 src) %{\n@@ -463,1 +462,1 @@\n-  format %{ \"vloadconB $dst, $src\\t# load\/generate iota indices\" %}\n+  format %{ \"vloadcon $dst, $src\\t# load\/generate iota indices\" %}\n@@ -465,0 +464,1 @@\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -468,1 +468,6 @@\n-      __ lea(rscratch1, ExternalAddress(StubRoutines::aarch64::vector_iota_indices()));\n+      \/\/ The iota indices are ordered by type B\/S\/I\/L\/F\/D, and the offset between two types is 16.\n+      int offset = exact_log2(type2aelembytes(bt)) << 4;\n+      if (is_floating_point_type(bt)) {\n+        offset += 32;\n+      }\n+      __ lea(rscratch1, ExternalAddress(StubRoutines::aarch64::vector_iota_indices() + offset));\n@@ -475,1 +480,5 @@\n-      __ sve_index($dst$$FloatRegister, __ B, 0, 1);\n+      Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n+      __ sve_index($dst$$FloatRegister, size, 0, 1);\n+      if (is_floating_point_type(bt)) {\n+        __ sve_scvtf($dst$$FloatRegister, size, ptrue, $dst$$FloatRegister, size);\n+      }\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector.ad","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -399,2 +399,1 @@\n-instruct vloadconB(vReg dst, immI0 src) %{\n-  predicate(Matcher::vector_element_basic_type(n) == T_BYTE);\n+instruct vloadcon(vReg dst, immI0 src) %{\n@@ -402,1 +401,1 @@\n-  format %{ \"vloadconB $dst, $src\\t# load\/generate iota indices\" %}\n+  format %{ \"vloadcon $dst, $src\\t# load\/generate iota indices\" %}\n@@ -404,0 +403,1 @@\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -407,1 +407,6 @@\n-      __ lea(rscratch1, ExternalAddress(StubRoutines::aarch64::vector_iota_indices()));\n+      \/\/ The iota indices are ordered by type B\/S\/I\/L\/F\/D, and the offset between two types is 16.\n+      int offset = exact_log2(type2aelembytes(bt)) << 4;\n+      if (is_floating_point_type(bt)) {\n+        offset += 32;\n+      }\n+      __ lea(rscratch1, ExternalAddress(StubRoutines::aarch64::vector_iota_indices() + offset));\n@@ -414,1 +419,5 @@\n-      __ sve_index($dst$$FloatRegister, __ B, 0, 1);\n+      Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n+      __ sve_index($dst$$FloatRegister, size, 0, 1);\n+      if (is_floating_point_type(bt)) {\n+        __ sve_scvtf($dst$$FloatRegister, size, ptrue, $dst$$FloatRegister, size);\n+      }\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_vector_ad.m4","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-      break;\n+    break;\n","filename":"src\/hotspot\/cpu\/aarch64\/assembler_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -980,1 +980,1 @@\n-\/\/ Clobbers: rscratch1 if hardware doesn't support FEAT_BITPERM.\n+\/\/ Clobbers: rscratch1, if UseSVE=1 or the hardware doesn't support FEAT_BITPERM.\n@@ -998,15 +998,2 @@\n-  if (UseSVE > 0 && !VM_Version::supports_svebitperm()) {\n-    \/\/ Compress the lowest 8 bytes.\n-    fmovd(dst, vtmp1);\n-    bytemask_compress(dst);\n-    if (lane_cnt <= 8) return;\n-\n-    \/\/ Repeat on higher bytes and join the results.\n-    \/\/ Compress 8 bytes in each iteration.\n-    for (int idx = 1; idx < (lane_cnt \/ 8); idx++) {\n-      sve_extract_integral(rscratch1, T_LONG, vtmp1, idx, vtmp2);\n-      bytemask_compress(rscratch1);\n-      orr(dst, dst, rscratch1, Assembler::LSL, idx << 3);\n-    }\n-  } else if (UseSVE == 2 && VM_Version::supports_svebitperm()) {\n-    \/\/ Given by the vector with value 0x00 or 0x01 in each byte, the basic idea\n+  if (UseSVE > 1 && VM_Version::supports_svebitperm()) {\n+    \/\/ Given a vector with the value 0x00 or 0x01 in each byte, the basic idea\n@@ -1014,3 +1001,3 @@\n-    \/\/ to the lack of cross-lane bit-compress instruction, here we use BEXT\n-    \/\/ (bit-compress in each lane) with the biggest lane size (T = D) and\n-    \/\/ concatenates the results then.\n+    \/\/ to the lack of a cross-lane bit-compress instruction, we use BEXT\n+    \/\/ (bit-compress in each lane) with the biggest lane size (T = D) then\n+    \/\/ concatenate the results.\n@@ -1045,0 +1032,13 @@\n+  } else if (UseSVE > 0) {\n+    \/\/ Compress the lowest 8 bytes.\n+    fmovd(dst, vtmp1);\n+    bytemask_compress(dst);\n+    if (lane_cnt <= 8) return;\n+\n+    \/\/ Repeat on higher bytes and join the results.\n+    \/\/ Compress 8 bytes in each iteration.\n+    for (int idx = 1; idx < (lane_cnt \/ 8); idx++) {\n+      sve_extract_integral(rscratch1, T_LONG, vtmp1, idx, vtmp2);\n+      bytemask_compress(rscratch1);\n+      orr(dst, dst, rscratch1, Assembler::LSL, idx << 3);\n+    }\n","filename":"src\/hotspot\/cpu\/aarch64\/c2_MacroAssembler_aarch64.cpp","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-                                  Register start, Register end, Register tmp, RegSet saved_regs) {}\n+                                  Register start, Register count, Register tmp, RegSet saved_regs) {}\n","filename":"src\/hotspot\/cpu\/aarch64\/gc\/shared\/barrierSetAssembler_aarch64.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -284,1 +284,1 @@\n-  load_heap_oop(result, Address(result, index, Address::uxtw(LogBytesPerHeapOop)));\n+  load_heap_oop(result, Address(result, index, Address::uxtw(LogBytesPerHeapOop)), tmp, rscratch2);\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1893,18 +1893,0 @@\n-void MacroAssembler::atomic_incw(Register counter_addr, Register tmp, Register tmp2) {\n-  if (UseLSE) {\n-    mov(tmp, 1);\n-    ldadd(Assembler::word, tmp, zr, counter_addr);\n-    return;\n-  }\n-  Label retry_load;\n-  prfm(Address(counter_addr), PSTL1STRM);\n-  bind(retry_load);\n-  \/\/ flush and load exclusive from the memory location\n-  ldxrw(tmp, counter_addr);\n-  addw(tmp, tmp, 1);\n-  \/\/ if we store+flush with no intervening write tmp will be zero\n-  stxrw(tmp2, tmp, counter_addr);\n-  cbnzw(tmp2, retry_load);\n-}\n-\n-\n@@ -2079,1 +2061,1 @@\n-void MacroAssembler::load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed, Register dst2) {\n+void MacroAssembler::load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed) {\n@@ -2089,1 +2071,1 @@\n-void MacroAssembler::store_sized_value(Address dst, Register src, size_t size_in_bytes, Register src2) {\n+void MacroAssembler::store_sized_value(Address dst, Register src, size_t size_in_bytes) {\n@@ -4414,1 +4396,1 @@\n-                                     Address dst, Register src,\n+                                     Address dst, Register val,\n@@ -4420,1 +4402,1 @@\n-    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -4422,1 +4404,1 @@\n-    bs->store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -4436,1 +4418,1 @@\n-void MacroAssembler::store_heap_oop(Address dst, Register src, Register tmp1,\n+void MacroAssembler::store_heap_oop(Address dst, Register val, Register tmp1,\n@@ -4438,1 +4420,1 @@\n-  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, src, tmp1, tmp2, tmp3);\n+  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, val, tmp1, tmp2, tmp3);\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":7,"deletions":25,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -113,7 +113,0 @@\n-  \/\/ Helper functions for statistics gathering.\n-  \/\/ Unconditional atomic increment.\n-  void atomic_incw(Register counter_addr, Register tmp, Register tmp2);\n-  void atomic_incw(Address counter_addr, Register tmp1, Register tmp2, Register tmp3) {\n-    lea(tmp1, counter_addr);\n-    atomic_incw(tmp1, tmp2, tmp3);\n-  }\n@@ -660,2 +653,2 @@\n-  void load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed, Register dst2 = noreg);\n-  void store_sized_value(Address dst, Register src, size_t size_in_bytes, Register src2 = noreg);\n+  void load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed);\n+  void store_sized_value(Address dst, Register src, size_t size_in_bytes);\n@@ -853,1 +846,1 @@\n-  void access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register src,\n+  void access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register val,\n@@ -856,2 +849,2 @@\n-  void load_heap_oop(Register dst, Address src, Register tmp1 = noreg,\n-                     Register tmp2 = noreg, DecoratorSet decorators = 0);\n+  void load_heap_oop(Register dst, Address src, Register tmp1,\n+                     Register tmp2, DecoratorSet decorators = 0);\n@@ -859,4 +852,4 @@\n-  void load_heap_oop_not_null(Register dst, Address src, Register tmp1 = noreg,\n-                              Register tmp2 = noreg, DecoratorSet decorators = 0);\n-  void store_heap_oop(Address dst, Register src, Register tmp1 = noreg,\n-                      Register tmp2 = noreg, Register tmp3 = noreg, DecoratorSet decorators = 0);\n+  void load_heap_oop_not_null(Register dst, Address src, Register tmp1,\n+                              Register tmp2, DecoratorSet decorators = 0);\n+  void store_heap_oop(Address dst, Register val, Register tmp1,\n+                      Register tmp2, Register tmp3, DecoratorSet decorators = 0);\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.hpp","additions":9,"deletions":16,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -139,1 +139,1 @@\n-  __ load_heap_oop(method_temp, Address(recv, NONZERO(java_lang_invoke_MethodHandle::form_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(recv, NONZERO(java_lang_invoke_MethodHandle::form_offset())), temp2, rscratch2);\n@@ -141,1 +141,1 @@\n-  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_LambdaForm::vmentry_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_LambdaForm::vmentry_offset())), temp2, rscratch2);\n@@ -143,1 +143,1 @@\n-  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_MemberName::method_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_MemberName::method_offset())), temp2, rscratch2);\n@@ -340,1 +340,1 @@\n-        __ load_heap_oop(temp2_defc, member_clazz, temp3);\n+        __ load_heap_oop(temp2_defc, member_clazz, temp3, rscratch2);\n@@ -368,1 +368,1 @@\n-      __ load_heap_oop(rmethod, member_vmtarget);\n+      __ load_heap_oop(rmethod, member_vmtarget, temp3, rscratch2);\n@@ -376,1 +376,1 @@\n-      __ load_heap_oop(rmethod, member_vmtarget);\n+      __ load_heap_oop(rmethod, member_vmtarget, temp3, rscratch2);\n@@ -418,1 +418,1 @@\n-      __ load_heap_oop(temp3_intf, member_clazz);\n+      __ load_heap_oop(temp3_intf, member_clazz, temp2, rscratch2);\n","filename":"src\/hotspot\/cpu\/aarch64\/methodHandles_aarch64.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -991,4 +991,65 @@\n-\/\/ defined in stubGenerator_aarch64.cpp\n-OopMap* continuation_enter_setup(MacroAssembler* masm, int& stack_slots);\n-void fill_continuation_entry(MacroAssembler* masm);\n-void continuation_enter_cleanup(MacroAssembler* masm);\n+\/\/ on exit, sp points to the ContinuationEntry\n+static OopMap* continuation_enter_setup(MacroAssembler* masm, int& stack_slots) {\n+  assert(ContinuationEntry::size() % VMRegImpl::stack_slot_size == 0, \"\");\n+  assert(in_bytes(ContinuationEntry::cont_offset())  % VMRegImpl::stack_slot_size == 0, \"\");\n+  assert(in_bytes(ContinuationEntry::chunk_offset()) % VMRegImpl::stack_slot_size == 0, \"\");\n+\n+  stack_slots += (int)ContinuationEntry::size()\/wordSize;\n+  __ sub(sp, sp, (int)ContinuationEntry::size()); \/\/ place Continuation metadata\n+\n+  OopMap* map = new OopMap(((int)ContinuationEntry::size() + wordSize)\/ VMRegImpl::stack_slot_size, 0 \/* arg_slots*\/);\n+  ContinuationEntry::setup_oopmap(map);\n+\n+  __ ldr(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n+  __ str(rscratch1, Address(sp, ContinuationEntry::parent_offset()));\n+  __ mov(rscratch1, sp); \/\/ we can't use sp as the source in str\n+  __ str(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n+\n+  return map;\n+}\n+\n+\/\/ on entry c_rarg1 points to the continuation\n+\/\/          sp points to ContinuationEntry\n+\/\/          c_rarg3 -- isVirtualThread\n+static void fill_continuation_entry(MacroAssembler* masm) {\n+#ifdef ASSERT\n+  __ movw(rscratch1, ContinuationEntry::cookie_value());\n+  __ strw(rscratch1, Address(sp, ContinuationEntry::cookie_offset()));\n+#endif\n+\n+  __ str (c_rarg1, Address(sp, ContinuationEntry::cont_offset()));\n+  __ strw(c_rarg3, Address(sp, ContinuationEntry::flags_offset()));\n+  __ str (zr,      Address(sp, ContinuationEntry::chunk_offset()));\n+  __ strw(zr,      Address(sp, ContinuationEntry::argsize_offset()));\n+  __ strw(zr,      Address(sp, ContinuationEntry::pin_count_offset()));\n+\n+  __ ldr(rscratch1, Address(rthread, JavaThread::cont_fastpath_offset()));\n+  __ str(rscratch1, Address(sp, ContinuationEntry::parent_cont_fastpath_offset()));\n+  __ ldr(rscratch1, Address(rthread, JavaThread::held_monitor_count_offset()));\n+  __ str(rscratch1, Address(sp, ContinuationEntry::parent_held_monitor_count_offset()));\n+\n+  __ str(zr, Address(rthread, JavaThread::cont_fastpath_offset()));\n+  __ str(zr, Address(rthread, JavaThread::held_monitor_count_offset()));\n+}\n+\n+\/\/ on entry, sp points to the ContinuationEntry\n+\/\/ on exit, rfp points to the spilled rfp in the entry frame\n+static void continuation_enter_cleanup(MacroAssembler* masm) {\n+#ifndef PRODUCT\n+  Label OK;\n+  __ ldr(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n+  __ cmp(sp, rscratch1);\n+  __ br(Assembler::EQ, OK);\n+  __ stop(\"incorrect sp1\");\n+  __ bind(OK);\n+#endif\n+\n+  __ ldr(rscratch1, Address(sp, ContinuationEntry::parent_cont_fastpath_offset()));\n+  __ str(rscratch1, Address(rthread, JavaThread::cont_fastpath_offset()));\n+  __ ldr(rscratch1, Address(sp, ContinuationEntry::parent_held_monitor_count_offset()));\n+  __ str(rscratch1, Address(rthread, JavaThread::held_monitor_count_offset()));\n+\n+  __ ldr(rscratch2, Address(sp, ContinuationEntry::parent_offset()));\n+  __ str(rscratch2, Address(rthread, JavaThread::cont_entry_offset()));\n+  __ add(rfp, sp, (int)ContinuationEntry::size());\n+}\n","filename":"src\/hotspot\/cpu\/aarch64\/sharedRuntime_aarch64.cpp","additions":65,"deletions":4,"binary":false,"changes":69,"status":"modified"},{"patch":"@@ -79,4 +79,0 @@\n-OopMap* continuation_enter_setup(MacroAssembler* masm, int& stack_slots);\n-void fill_continuation_entry(MacroAssembler* masm);\n-void continuation_enter_cleanup(MacroAssembler* masm);\n-\n@@ -633,0 +629,1 @@\n+    \/\/ B\n@@ -635,0 +632,15 @@\n+    \/\/ H\n+    __ emit_data64(0x0003000200010000, relocInfo::none);\n+    __ emit_data64(0x0007000600050004, relocInfo::none);\n+    \/\/ S\n+    __ emit_data64(0x0000000100000000, relocInfo::none);\n+    __ emit_data64(0x0000000300000002, relocInfo::none);\n+    \/\/ D\n+    __ emit_data64(0x0000000000000000, relocInfo::none);\n+    __ emit_data64(0x0000000000000001, relocInfo::none);\n+    \/\/ S - FP\n+    __ emit_data64(0x3F80000000000000, relocInfo::none); \/\/ 0.0f, 1.0f\n+    __ emit_data64(0x4040000040000000, relocInfo::none); \/\/ 2.0f, 3.0f\n+    \/\/ D - FP\n+    __ emit_data64(0x0000000000000000, relocInfo::none); \/\/ 0.0d\n+    __ emit_data64(0x3FF0000000000000, relocInfo::none); \/\/ 1.0d\n@@ -7849,1 +7861,3 @@\n-    StubRoutines::aarch64::_vector_iota_indices    = generate_iota_indices(\"iota_indices\");\n+    if (UseSVE == 0) {\n+      StubRoutines::aarch64::_vector_iota_indices = generate_iota_indices(\"iota_indices\");\n+    }\n@@ -8019,72 +8033,0 @@\n-\n-\n-#undef __\n-#define __ masm->\n-\n-\/\/ on exit, sp points to the ContinuationEntry\n-OopMap* continuation_enter_setup(MacroAssembler* masm, int& stack_slots) {\n-  assert(ContinuationEntry::size() % VMRegImpl::stack_slot_size == 0, \"\");\n-  assert(in_bytes(ContinuationEntry::cont_offset())  % VMRegImpl::stack_slot_size == 0, \"\");\n-  assert(in_bytes(ContinuationEntry::chunk_offset()) % VMRegImpl::stack_slot_size == 0, \"\");\n-\n-  stack_slots += (int)ContinuationEntry::size()\/wordSize;\n-  __ sub(sp, sp, (int)ContinuationEntry::size()); \/\/ place Continuation metadata\n-\n-  OopMap* map = new OopMap(((int)ContinuationEntry::size() + wordSize)\/ VMRegImpl::stack_slot_size, 0 \/* arg_slots*\/);\n-  ContinuationEntry::setup_oopmap(map);\n-\n-  __ ldr(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n-  __ str(rscratch1, Address(sp, ContinuationEntry::parent_offset()));\n-  __ mov(rscratch1, sp); \/\/ we can't use sp as the source in str\n-  __ str(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n-\n-  return map;\n-}\n-\n-\/\/ on entry c_rarg1 points to the continuation\n-\/\/          sp points to ContinuationEntry\n-\/\/          c_rarg3 -- isVirtualThread\n-void fill_continuation_entry(MacroAssembler* masm) {\n-#ifdef ASSERT\n-  __ movw(rscratch1, ContinuationEntry::cookie_value());\n-  __ strw(rscratch1, Address(sp, ContinuationEntry::cookie_offset()));\n-#endif\n-\n-  __ str (c_rarg1, Address(sp, ContinuationEntry::cont_offset()));\n-  __ strw(c_rarg3, Address(sp, ContinuationEntry::flags_offset()));\n-  __ str (zr,      Address(sp, ContinuationEntry::chunk_offset()));\n-  __ strw(zr,      Address(sp, ContinuationEntry::argsize_offset()));\n-  __ strw(zr,      Address(sp, ContinuationEntry::pin_count_offset()));\n-\n-  __ ldr(rscratch1, Address(rthread, JavaThread::cont_fastpath_offset()));\n-  __ str(rscratch1, Address(sp, ContinuationEntry::parent_cont_fastpath_offset()));\n-  __ ldr(rscratch1, Address(rthread, JavaThread::held_monitor_count_offset()));\n-  __ str(rscratch1, Address(sp, ContinuationEntry::parent_held_monitor_count_offset()));\n-\n-  __ str(zr, Address(rthread, JavaThread::cont_fastpath_offset()));\n-  __ str(zr, Address(rthread, JavaThread::held_monitor_count_offset()));\n-}\n-\n-\/\/ on entry, sp points to the ContinuationEntry\n-\/\/ on exit, rfp points to the spilled rfp in the entry frame\n-void continuation_enter_cleanup(MacroAssembler* masm) {\n-#ifndef PRODUCT\n-  Label OK;\n-  __ ldr(rscratch1, Address(rthread, JavaThread::cont_entry_offset()));\n-  __ cmp(sp, rscratch1);\n-  __ br(Assembler::EQ, OK);\n-  __ stop(\"incorrect sp1\");\n-  __ bind(OK);\n-#endif\n-\n-  __ ldr(rscratch1, Address(sp, ContinuationEntry::parent_cont_fastpath_offset()));\n-  __ str(rscratch1, Address(rthread, JavaThread::cont_fastpath_offset()));\n-  __ ldr(rscratch1, Address(sp, ContinuationEntry::parent_held_monitor_count_offset()));\n-  __ str(rscratch1, Address(rthread, JavaThread::held_monitor_count_offset()));\n-\n-  __ ldr(rscratch2, Address(sp, ContinuationEntry::parent_offset()));\n-  __ str(rscratch2, Address(rthread, JavaThread::cont_entry_offset()));\n-  __ add(rfp, sp, (int)ContinuationEntry::size());\n-}\n-\n-#undef __\n","filename":"src\/hotspot\/cpu\/aarch64\/stubGenerator_aarch64.cpp","additions":19,"deletions":77,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -1981,9 +1981,2 @@\n-  Register rscratch3 = r0;\n-  __ push(rscratch1);\n-  __ push(rscratch2);\n-  __ push(rscratch3);\n-  __ mov(rscratch3, (address) &BytecodeCounter::_counter_value);\n-  __ atomic_add(noreg, 1, rscratch3);\n-  __ pop(rscratch3);\n-  __ pop(rscratch2);\n-  __ pop(rscratch1);\n+  __ mov(r10, (address) &BytecodeCounter::_counter_value);\n+  __ atomic_addw(noreg, 1, r10);\n@@ -1992,3 +1985,4 @@\n-void TemplateInterpreterGenerator::histogram_bytecode(Template* t) { ; }\n-\n-void TemplateInterpreterGenerator::histogram_bytecode_pair(Template* t) { ; }\n+void TemplateInterpreterGenerator::histogram_bytecode(Template* t) {\n+  __ mov(r10, (address) &BytecodeHistogram::_counters[t->bytecode()]);\n+  __ atomic_addw(noreg, 1, r10);\n+}\n@@ -1996,0 +1990,21 @@\n+void TemplateInterpreterGenerator::histogram_bytecode_pair(Template* t) {\n+  \/\/ Calculate new index for counter:\n+  \/\/   _index = (_index >> log2_number_of_codes) |\n+  \/\/            (bytecode << log2_number_of_codes);\n+  Register index_addr = rscratch1;\n+  Register index = rscratch2;\n+  __ mov(index_addr, (address) &BytecodePairHistogram::_index);\n+  __ ldrw(index, index_addr);\n+  __ mov(r10,\n+         ((int)t->bytecode()) << BytecodePairHistogram::log2_number_of_codes);\n+  __ orrw(index, r10, index, Assembler::LSR,\n+          BytecodePairHistogram::log2_number_of_codes);\n+  __ strw(index, index_addr);\n+\n+  \/\/ Bump bucket contents:\n+  \/\/   _counters[_index] ++;\n+  Register counter_addr = rscratch1;\n+  __ mov(r10, (address) &BytecodePairHistogram::_counters);\n+  __ lea(counter_addr, Address(r10, index, Address::lsl(LogBytesPerInt)));\n+  __ atomic_addw(noreg, 1, counter_addr);\n+}\n","filename":"src\/hotspot\/cpu\/aarch64\/templateInterpreterGenerator_aarch64.cpp","additions":27,"deletions":12,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-  static void assert_is_rfp(VMReg r) PRODUCT_RETURN\n+  static void assert_is_rfp(VMReg r) NOT_DEBUG_RETURN\n","filename":"src\/hotspot\/cpu\/arm\/smallRegisterMap_arm.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -401,1 +401,1 @@\n-inline void MacroAssembler::store_heap_oop(Register d, RegisterOrConstant offs, Register s1,\n+inline void MacroAssembler::store_heap_oop(Register val, RegisterOrConstant offs, Register base,\n@@ -405,1 +405,1 @@\n-  access_store_at(T_OBJECT, decorators | IN_HEAP, s1, offs, d, tmp1, tmp2, tmp3, preservation_level);\n+  access_store_at(T_OBJECT, decorators | IN_HEAP, base, offs, val, tmp1, tmp2, tmp3, preservation_level);\n","filename":"src\/hotspot\/cpu\/ppc\/macroAssembler_ppc.inline.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-  static void assert_is_rfp(VMReg r) PRODUCT_RETURN\n+  static void assert_is_rfp(VMReg r) NOT_DEBUG_RETURN\n","filename":"src\/hotspot\/cpu\/ppc\/smallRegisterMap_ppc.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1845,0 +1845,21 @@\n+public:\n+  \/\/ Emit a relocation.\n+  void relocate(RelocationHolder const& rspec, int format = 0) {\n+    AbstractAssembler::relocate(rspec, format);\n+  }\n+  void relocate(relocInfo::relocType rtype, int format = 0) {\n+    AbstractAssembler::relocate(rtype, format);\n+  }\n+  template <typename Callback>\n+  void relocate(RelocationHolder const& rspec, Callback emit_insts, int format = 0) {\n+    AbstractAssembler::relocate(rspec, format);\n+    IncompressibleRegion ir(this);  \/\/ relocations\n+    emit_insts();\n+  }\n+  template <typename Callback>\n+  void relocate(relocInfo::relocType rtype, Callback emit_insts, int format = 0) {\n+    AbstractAssembler::relocate(rtype, format);\n+    IncompressibleRegion ir(this);  \/\/ relocations\n+    emit_insts();\n+  }\n+\n@@ -2726,1 +2747,1 @@\n-  Assembler(CodeBuffer* code) : AbstractAssembler(code), _in_compressible_region(false) {}\n+  Assembler(CodeBuffer* code) : AbstractAssembler(code), _in_compressible_region(true) {}\n","filename":"src\/hotspot\/cpu\/riscv\/assembler_riscv.hpp","additions":22,"deletions":1,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -45,2 +45,3 @@\n-  __ relocate(safepoint_pc.rspec());\n-  __ la(t0, safepoint_pc.target());\n+  __ relocate(safepoint_pc.rspec(), [&] {\n+    __ la(t0, safepoint_pc.target());\n+  });\n@@ -104,3 +105,6 @@\n-  int32_t off = 0;\n-  __ la_patchable(ra, RuntimeAddress(Runtime1::entry_for(stub_id)), off);\n-  __ jalr(ra, ra, off);\n+  RuntimeAddress target(Runtime1::entry_for(stub_id));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(ra, target, offset);\n+    __ jalr(ra, ra, offset);\n+  });\n","filename":"src\/hotspot\/cpu\/riscv\/c1_CodeStubs_riscv.cpp","additions":9,"deletions":5,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -1412,3 +1412,5 @@\n-  int32_t off = 0;\n-  __ la_patchable(exceptionPC->as_register(), pc_for_athrow, off);\n-  __ addi(exceptionPC->as_register(), exceptionPC->as_register(), off);\n+  __ relocate(pc_for_athrow.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(exceptionPC->as_register(), pc_for_athrow, offset);\n+    __ addi(exceptionPC->as_register(), exceptionPC->as_register(), offset);\n+  });\n@@ -1842,3 +1844,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, RuntimeAddress(dest), offset);\n-    __ jalr(x1, t0, offset);\n+    RuntimeAddress target(dest);\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n","filename":"src\/hotspot\/cpu\/riscv\/c1_LIRAssembler_riscv.cpp","additions":11,"deletions":6,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -70,3 +70,6 @@\n-  int32_t off = 0;\n-  la_patchable(t0, RuntimeAddress(entry), off);\n-  jalr(x1, t0, off);\n+  RuntimeAddress target(entry);\n+  relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    la_patchable(t0, target, offset);\n+    jalr(x1, t0, offset);\n+  });\n@@ -570,3 +573,6 @@\n-  int32_t off = 0;\n-  __ la_patchable(t0, RuntimeAddress(target), off);\n-  __ jalr(x1, t0, off);\n+  RuntimeAddress addr(target);\n+  __ relocate(addr.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, addr, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n","filename":"src\/hotspot\/cpu\/riscv\/c1_Runtime1_riscv.cpp","additions":12,"deletions":6,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -41,3 +41,4 @@\n-  InternalAddress safepoint_pc(masm.pc() - masm.offset() + entry->_safepoint_offset);\n-  masm.relocate(safepoint_pc.rspec());\n-  __ la(t0, safepoint_pc.target());\n+  InternalAddress safepoint_pc(__ pc() - __ offset() + entry->_safepoint_offset);\n+  __ relocate(safepoint_pc.rspec(), [&] {\n+    __ la(t0, safepoint_pc.target());\n+  });\n","filename":"src\/hotspot\/cpu\/riscv\/c2_safepointPollStubTable_riscv.cpp","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-                                  Register start, Register end, Register tmp, RegSet saved_regs) {}\n+                                  Register start, Register count, Register tmp, RegSet saved_regs) {}\n","filename":"src\/hotspot\/cpu\/riscv\/gc\/shared\/barrierSetAssembler_riscv.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -341,3 +341,7 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, stub->slow_path(), offset);\n-    __ jalr(x1, t0, offset);\n+\n+    Address target(stub->slow_path());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n","filename":"src\/hotspot\/cpu\/riscv\/gc\/z\/zBarrierSetAssembler_riscv.cpp","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -185,3 +185,6 @@\n-  int32_t offset = 0;\n-  la_patchable(xdispatch, ExternalAddress((address)Interpreter::dispatch_table()), offset);\n-  addi(xdispatch, xdispatch, offset);\n+  ExternalAddress target((address)Interpreter::dispatch_table());\n+  relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    la_patchable(xdispatch, target, offset);\n+    addi(xdispatch, xdispatch, offset);\n+  });\n@@ -287,1 +290,1 @@\n-  load_heap_oop(result, Address(result, 0));\n+  load_heap_oop(result, Address(result, 0), tmp, t1);\n","filename":"src\/hotspot\/cpu\/riscv\/interp_masm_riscv.cpp","additions":7,"deletions":4,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -76,4 +76,6 @@\n-  Label slow;\n-  int32_t offset = 0;\n-  __ la_patchable(rcounter_addr, SafepointSynchronize::safepoint_counter_addr(), offset);\n-  __ addi(rcounter_addr, rcounter_addr, offset);\n+  Address target(SafepointSynchronize::safepoint_counter_addr());\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(rcounter_addr, target, offset);\n+    __ addi(rcounter_addr, rcounter_addr, offset);\n+  });\n@@ -81,0 +83,1 @@\n+  Label slow;\n@@ -93,5 +96,6 @@\n-    int32_t offset2;\n-    __ la_patchable(result,\n-                    ExternalAddress((address) JvmtiExport::get_field_access_count_addr()),\n-                    offset2);\n-    __ lwu(result, Address(result, offset2));\n+    ExternalAddress target((address) JvmtiExport::get_field_access_count_addr());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(result, target, offset);\n+      __ lwu(result, Address(result, offset));\n+    });\n@@ -172,3 +176,6 @@\n-    int32_t tmp_offset = 0;\n-    __ la_patchable(t0, ExternalAddress(slow_case_addr), tmp_offset);\n-    __ jalr(x1, t0, tmp_offset);\n+    ExternalAddress target(slow_case_addr);\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n","filename":"src\/hotspot\/cpu\/riscv\/jniFastGetField_riscv.cpp","additions":19,"deletions":12,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+#include \"gc\/shared\/collectedHeap.hpp\"\n@@ -310,3 +311,6 @@\n-    int32_t offset = 0;\n-    la_patchable(t0, RuntimeAddress(StubRoutines::forward_exception_entry()), offset);\n-    jalr(x0, t0, offset);\n+    RuntimeAddress target(StubRoutines::forward_exception_entry());\n+    relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(t0, target, offset);\n+      jalr(x0, t0, offset);\n+    });\n@@ -385,3 +389,6 @@\n-  int32_t offset = 0;\n-  la_patchable(t1, ExternalAddress(StubRoutines::verify_oop_subroutine_entry_address()), offset);\n-  ld(t1, Address(t1, offset));\n+  ExternalAddress target(StubRoutines::verify_oop_subroutine_entry_address());\n+  relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    la_patchable(t1, target, offset);\n+    ld(t1, Address(t1, offset));\n+  });\n@@ -424,3 +431,6 @@\n-  int32_t offset = 0;\n-  la_patchable(t1, ExternalAddress(StubRoutines::verify_oop_subroutine_entry_address()), offset);\n-  ld(t1, Address(t1, offset));\n+  ExternalAddress target(StubRoutines::verify_oop_subroutine_entry_address());\n+  relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    la_patchable(t1, target, offset);\n+    ld(t1, Address(t1, offset));\n+  });\n@@ -766,2 +776,3 @@\n-        relocate(adr.rspec());\n-        movptr(Rd, adr.target());\n+        relocate(adr.rspec(), [&] {\n+          movptr(Rd, adr.target());\n+        });\n@@ -887,2 +898,3 @@\n-        relocate(adr.rspec());                                     \\\n-        NAME(adr.target(), temp);                                  \\\n+        relocate(adr.rspec(), [&] {                                \\\n+          NAME(adr.target(), temp);                                \\\n+        });                                                        \\\n@@ -1195,2 +1207,0 @@\n-  CompressibleRegion cr(this);\n-\n@@ -1217,2 +1227,0 @@\n-  CompressibleRegion cr(this);\n-\n@@ -1240,1 +1248,0 @@\n-  CompressibleRegion cr(this);\n@@ -1261,1 +1268,0 @@\n-  CompressibleRegion cr(this);\n@@ -1285,1 +1291,0 @@\n-  CompressibleRegion cr(this);\n@@ -1301,1 +1306,0 @@\n-  CompressibleRegion cr(this);\n@@ -1318,1 +1322,0 @@\n-  CompressibleRegion cr(this);\n@@ -1333,1 +1336,0 @@\n-  CompressibleRegion cr(this);\n@@ -1346,1 +1348,0 @@\n-  CompressibleRegion cr(this);\n@@ -1368,1 +1369,0 @@\n-  CompressibleRegion cr(this);\n@@ -1587,3 +1587,6 @@\n-      int32_t offset = 0;\n-      la_patchable(xheapbase, ExternalAddress(CompressedOops::ptrs_base_addr()), offset);\n-      ld(xheapbase, Address(xheapbase, offset));\n+      ExternalAddress target(CompressedOops::ptrs_base_addr());\n+      relocate(target.rspec(), [&] {\n+        int32_t offset;\n+        la_patchable(xheapbase, target, offset);\n+        ld(xheapbase, Address(xheapbase, offset));\n+      });\n@@ -1596,2 +1599,3 @@\n-  relocate(dest.rspec());\n-  movptr(Rd, dest.target());\n+  relocate(dest.rspec(), [&] {\n+    movptr(Rd, dest.target());\n+  });\n@@ -1733,1 +1737,1 @@\n-void MacroAssembler::load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed, Register dst2) {\n+void MacroAssembler::load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed) {\n@@ -1743,1 +1747,1 @@\n-void MacroAssembler::store_sized_value(Address dst, Register src, size_t size_in_bytes, Register src2) {\n+void MacroAssembler::store_sized_value(Address dst, Register src, size_t size_in_bytes) {\n@@ -2022,2 +2026,6 @@\n-  _masm->la_patchable(t0, ExternalAddress((address)flag_addr), offset);\n-  _masm->lbu(t0, Address(t0, offset));\n+  ExternalAddress target((address)flag_addr);\n+  _masm->relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    _masm->la_patchable(t0, target, offset);\n+    _masm->lbu(t0, Address(t0, offset));\n+  });\n@@ -2089,1 +2097,1 @@\n-                                     Address dst, Register src,\n+                                     Address dst, Register val,\n@@ -2095,1 +2103,1 @@\n-    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -2097,1 +2105,1 @@\n-    bs->store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -2264,1 +2272,1 @@\n-void MacroAssembler::store_heap_oop(Address dst, Register src, Register tmp1,\n+void MacroAssembler::store_heap_oop(Address dst, Register val, Register tmp1,\n@@ -2266,1 +2274,1 @@\n-  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, src, tmp1, tmp2, tmp3);\n+  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, val, tmp1, tmp2, tmp3);\n@@ -2767,1 +2775,0 @@\n-  int32_t offset = 0;\n@@ -2771,2 +2778,5 @@\n-    la_patchable(tmp, entry, offset);\n-    jalr(x0, tmp, offset);\n+    relocate(entry.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(tmp, entry, offset);\n+      jalr(x0, tmp, offset);\n+    });\n@@ -2786,1 +2796,0 @@\n-  int32_t offset = 0;\n@@ -2790,2 +2799,5 @@\n-    la_patchable(tmp, entry, offset);\n-    jalr(x1, tmp, offset); \/\/ link\n+    relocate(entry.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(tmp, entry, offset);\n+      jalr(x1, tmp, offset); \/\/ link\n+    });\n@@ -3027,1 +3039,0 @@\n-  relocate(dest.rspec());\n@@ -3067,3 +3078,6 @@\n-    int32_t offset = 0;\n-    la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, SharedRuntime::enable_stack_reserved_zone)), offset);\n-    jalr(x1, t0, offset);\n+    RuntimeAddress target(CAST_FROM_FN_PTR(address, SharedRuntime::enable_stack_reserved_zone));\n+    relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(t0, target, offset);\n+      jalr(x1, t0, offset);\n+    });\n@@ -3075,3 +3089,6 @@\n-    offset = 0;\n-    la_patchable(t0, RuntimeAddress(StubRoutines::throw_delayed_StackOverflowError_entry()), offset);\n-    jalr(x0, t0, offset);\n+    target = RuntimeAddress(StubRoutines::throw_delayed_StackOverflowError_entry());\n+    relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(t0, target, offset);\n+      jalr(x0, t0, offset);\n+    });\n@@ -3091,2 +3108,3 @@\n-  relocate(rtype);\n-  lwu(zr, Address(r, offset));\n+  relocate(rtype, [&] {\n+    lwu(zr, Address(r, offset));\n+  });\n@@ -3106,2 +3124,3 @@\n-  relocate(oop_Relocation::spec(oop_index));\n-  li32(dst, 0xDEADBEEF);\n+  relocate(oop_Relocation::spec(oop_index), [&] {\n+    li32(dst, 0xDEADBEEF);\n+  });\n@@ -3118,2 +3137,3 @@\n-  relocate(metadata_Relocation::spec(index));\n-  li32(dst, nk);\n+  relocate(metadata_Relocation::spec(index), [&] {\n+    li32(dst, nk);\n+  });\n@@ -3166,2 +3186,3 @@\n-  relocate(entry.rspec());\n-  jal(target);\n+  relocate(entry.rspec(), [&] {\n+    jal(target);\n+  });\n@@ -3175,0 +3196,1 @@\n+  IncompressibleRegion ir(this);  \/\/ relocations\n@@ -3206,2 +3228,2 @@\n-  relocate(trampoline_stub_Relocation::spec(code()->insts()->start() +\n-                                            insts_call_instruction_offset));\n+  RelocationHolder rh = trampoline_stub_Relocation::spec(code()->insts()->start() +\n+                                                         insts_call_instruction_offset);\n@@ -3209,12 +3231,13 @@\n-\n-  \/\/ Now, create the trampoline stub's code:\n-  \/\/ - load the call\n-  \/\/ - call\n-  Label target;\n-  ld(t0, target);  \/\/ auipc + ld\n-  jr(t0);          \/\/ jalr\n-  bind(target);\n-  assert(offset() - stub_start_offset == NativeCallTrampolineStub::data_offset,\n-         \"should be\");\n-  assert(offset() % wordSize == 0, \"bad alignment\");\n-  emit_int64((intptr_t)dest);\n+  relocate(rh, [&] {\n+    \/\/ Now, create the trampoline stub's code:\n+    \/\/ - load the call\n+    \/\/ - call\n+    Label target;\n+    ld(t0, target);  \/\/ auipc + ld\n+    jr(t0);          \/\/ jalr\n+    bind(target);\n+    assert(offset() - stub_start_offset == NativeCallTrampolineStub::data_offset,\n+           \"should be\");\n+    assert(offset() % wordSize == 0, \"bad alignment\");\n+    emit_int64((int64_t)dest);\n+  });\n@@ -3288,3 +3311,5 @@\n-  int32_t offset;\n-  la_patchable(t0, src2, offset);\n-  ld(t0, Address(t0, offset));\n+  relocate(src2.rspec(), [&] {\n+    int32_t offset;\n+    la_patchable(t0, src2, offset);\n+    ld(t0, Address(t0, offset));\n+  });\n@@ -4475,0 +4500,1 @@\n+  RuntimeAddress target(dest);\n@@ -4476,1 +4502,1 @@\n-    far_call(RuntimeAddress(dest));\n+    far_call(target);\n@@ -4478,3 +4504,5 @@\n-    int32_t offset = 0;\n-    la_patchable(tmp, RuntimeAddress(dest), offset);\n-    jalr(x1, tmp, offset);\n+    relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      la_patchable(tmp, target, offset);\n+      jalr(x1, tmp, offset);\n+    });\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":109,"deletions":81,"binary":false,"changes":190,"status":"modified"},{"patch":"@@ -194,1 +194,1 @@\n-                       Register src, Register tmp1, Register tmp2, Register tmp3);\n+                       Register val, Register tmp1, Register tmp2, Register tmp3);\n@@ -209,6 +209,6 @@\n-  void load_heap_oop(Register dst, Address src, Register tmp1 = noreg,\n-                     Register tmp2 = noreg, DecoratorSet decorators = 0);\n-  void load_heap_oop_not_null(Register dst, Address src, Register tmp1 = noreg,\n-                              Register tmp2 = noreg, DecoratorSet decorators = 0);\n-  void store_heap_oop(Address dst, Register src, Register tmp1 = noreg,\n-                      Register tmp2 = noreg, Register tmp3 = noreg, DecoratorSet decorators = 0);\n+  void load_heap_oop(Register dst, Address src, Register tmp1,\n+                     Register tmp2, DecoratorSet decorators = 0);\n+  void load_heap_oop_not_null(Register dst, Address src, Register tmp1,\n+                              Register tmp2, DecoratorSet decorators = 0);\n+  void store_heap_oop(Address dst, Register val, Register tmp1,\n+                      Register tmp2, Register tmp3, DecoratorSet decorators = 0);\n@@ -401,2 +401,2 @@\n-  void load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed, Register dst2 = noreg);\n-  void store_sized_value(Address dst, Register src, size_t size_in_bytes, Register src2 = noreg);\n+  void load_sized_value(Register dst, Address src, size_t size_in_bytes, bool is_signed);\n+  void store_sized_value(Address dst, Register src, size_t size_in_bytes);\n@@ -497,1 +497,2 @@\n-    relocate(InternalAddress(dest).rspec());\n+    relocate(InternalAddress(dest).rspec());                                \\\n+    IncompressibleRegion ir(this);  \/* relocations *\/\n@@ -668,1 +669,2 @@\n-    relocate(InternalAddress(dest).rspec());\n+    relocate(InternalAddress(dest).rspec());                                \\\n+    IncompressibleRegion ir(this);  \/* relocations *\/\n@@ -689,2 +691,3 @@\n-        relocate(adr.rspec());                                                                     \\\n-        NAME(Rd, adr.target());                                                                    \\\n+        relocate(adr.rspec(), [&] {                                                                \\\n+          NAME(Rd, adr.target());                                                                  \\\n+        });                                                                                        \\\n@@ -746,2 +749,3 @@\n-        relocate(adr.rspec());                                                                     \\\n-        NAME(Rd, adr.target(), temp);                                                              \\\n+        relocate(adr.rspec(), [&] {                                                                \\\n+          NAME(Rd, adr.target(), temp);                                                            \\\n+        });                                                                                        \\\n@@ -803,2 +807,3 @@\n-        relocate(adr.rspec());                                                                     \\\n-        NAME(Rs, adr.target(), temp);                                                              \\\n+        relocate(adr.rspec(), [&] {                                                                \\\n+          NAME(Rs, adr.target(), temp);                                                            \\\n+        });                                                                                        \\\n@@ -846,2 +851,3 @@\n-        relocate(adr.rspec());                                                                     \\\n-        NAME(Rs, adr.target(), temp);                                                              \\\n+        relocate(adr.rspec(), [&] {                                                                \\\n+          NAME(Rs, adr.target(), temp);                                                            \\\n+        });                                                                                        \\\n@@ -1245,3 +1251,6 @@\n-      int32_t offset = 0;\n-      la_patchable(dest, InternalAddress(const_addr.target()), offset);\n-      ld(dest, Address(dest, offset));\n+      InternalAddress target(const_addr.target());\n+      relocate(target.rspec(), [&] {\n+        int32_t offset;\n+        la_patchable(dest, target, offset);\n+        ld(dest, Address(dest, offset));\n+      });\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.hpp","additions":31,"deletions":22,"binary":false,"changes":53,"status":"modified"},{"patch":"@@ -139,1 +139,1 @@\n-  __ load_heap_oop(method_temp, Address(recv, NONZERO(java_lang_invoke_MethodHandle::form_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(recv, NONZERO(java_lang_invoke_MethodHandle::form_offset())), temp2, t1);\n@@ -141,1 +141,1 @@\n-  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_LambdaForm::vmentry_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_LambdaForm::vmentry_offset())), temp2, t1);\n@@ -143,1 +143,1 @@\n-  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_MemberName::method_offset())), temp2);\n+  __ load_heap_oop(method_temp, Address(method_temp, NONZERO(java_lang_invoke_MemberName::method_offset())), temp2, t1);\n@@ -324,1 +324,1 @@\n-        __ load_heap_oop(temp2_defc, member_clazz, temp3);\n+        __ load_heap_oop(temp2_defc, member_clazz, temp3, t1);\n@@ -351,1 +351,1 @@\n-        __ load_heap_oop(xmethod, member_vmtarget);\n+        __ load_heap_oop(xmethod, member_vmtarget, temp3, t1);\n@@ -359,1 +359,1 @@\n-        __ load_heap_oop(xmethod, member_vmtarget);\n+        __ load_heap_oop(xmethod, member_vmtarget, temp3, t1);\n@@ -400,1 +400,1 @@\n-        __ load_heap_oop(temp3_intf, member_clazz);\n+        __ load_heap_oop(temp3_intf, member_clazz, temp2, t1);\n","filename":"src\/hotspot\/cpu\/riscv\/methodHandles_riscv.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+#include \"runtime\/safepoint.hpp\"\n","filename":"src\/hotspot\/cpu\/riscv\/nativeInst_riscv.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1227,1 +1227,0 @@\n-  Assembler::CompressibleRegion cr(&_masm);\n@@ -1535,1 +1534,0 @@\n-      Assembler::CompressibleRegion cr(&_masm);\n@@ -1556,1 +1554,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -2111,1 +2108,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -2138,1 +2134,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -2560,1 +2555,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -2567,1 +2561,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -2583,1 +2576,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4568,1 +4560,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4584,1 +4575,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4615,1 +4605,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4647,1 +4636,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4678,1 +4666,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -4724,1 +4711,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5009,1 +4995,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5039,1 +5024,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5070,1 +5054,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5101,1 +5084,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5146,1 +5128,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -5162,1 +5143,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6344,1 +6324,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6360,1 +6339,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6377,1 +6355,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6394,1 +6371,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6410,1 +6386,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6426,1 +6401,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6443,1 +6417,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6459,1 +6432,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6477,1 +6449,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6494,1 +6465,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6511,1 +6481,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6527,1 +6496,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6657,1 +6625,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6813,1 +6780,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6849,1 +6815,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6868,1 +6833,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -6904,1 +6868,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7458,1 +7421,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7475,1 +7437,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7492,1 +7453,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7525,1 +7485,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7558,1 +7517,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7575,1 +7533,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7592,1 +7549,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7625,1 +7581,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7827,1 +7782,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7843,1 +7797,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -7998,1 +7951,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8153,1 +8105,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8171,1 +8122,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8268,1 +8218,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8305,1 +8254,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8324,1 +8272,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8361,1 +8308,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8380,1 +8326,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n@@ -8399,1 +8344,0 @@\n-    Assembler::CompressibleRegion cr(&_masm);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":0,"deletions":56,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -342,3 +342,6 @@\n-  int32_t offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, SharedRuntime::fixup_callers_callsite)), offset);\n-  __ jalr(x1, t0, offset);\n+  RuntimeAddress target(CAST_FROM_FN_PTR(address, SharedRuntime::fixup_callers_callsite));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -1290,3 +1293,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address)&DTraceMethodProbes), offset);\n-    __ lbu(t0, Address(t0, offset));\n+    ExternalAddress target((address)&DTraceMethodProbes);\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lbu(t0, Address(t0, offset));\n+    });\n@@ -1493,3 +1499,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address)&DTraceMethodProbes), offset);\n-    __ lbu(t0, Address(t0, offset));\n+    ExternalAddress target((address)&DTraceMethodProbes);\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lbu(t0, Address(t0, offset));\n+    });\n@@ -1626,3 +1635,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, JavaThread::check_special_condition_for_native_trans)), offset);\n-    __ jalr(x1, t0, offset);\n+    RuntimeAddress target(CAST_FROM_FN_PTR(address, JavaThread::check_special_condition_for_native_trans));\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n@@ -1800,3 +1812,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::uncommon_trap)), offset);\n-    __ jalr(x1, t0, offset);\n+    RuntimeAddress target(CAST_FROM_FN_PTR(address, Deoptimization::uncommon_trap));\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n@@ -1894,3 +1909,6 @@\n-  int32_t offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::fetch_unroll_info)), offset);\n-  __ jalr(x1, t0, offset);\n+  RuntimeAddress target(CAST_FROM_FN_PTR(address, Deoptimization::fetch_unroll_info));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -2038,3 +2056,6 @@\n-  offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::unpack_frames)), offset);\n-  __ jalr(x1, t0, offset);\n+  target = RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::unpack_frames));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -2130,5 +2151,6 @@\n-  int32_t offset = 0;\n-  __ la_patchable(t0,\n-        RuntimeAddress(CAST_FROM_FN_PTR(address,\n-                                        Deoptimization::uncommon_trap)), offset);\n-  __ jalr(x1, t0, offset);\n+  RuntimeAddress target(CAST_FROM_FN_PTR(address, Deoptimization::uncommon_trap));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -2256,3 +2278,6 @@\n-  offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::unpack_frames)), offset);\n-  __ jalr(x1, t0, offset);\n+  target = RuntimeAddress(CAST_FROM_FN_PTR(address, Deoptimization::unpack_frames));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -2327,3 +2352,6 @@\n-  int32_t offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(call_ptr), offset);\n-  __ jalr(x1, t0, offset);\n+  RuntimeAddress target(call_ptr);\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n@@ -2437,3 +2465,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, RuntimeAddress(destination), offset);\n-    __ jalr(x1, t0, offset);\n+    RuntimeAddress target(destination);\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ jalr(x1, t0, offset);\n+    });\n@@ -2568,3 +2599,6 @@\n-  int32_t offset = 0;\n-  __ la_patchable(t0, RuntimeAddress(CAST_FROM_FN_PTR(address, OptoRuntime::handle_exception_C)), offset);\n-  __ jalr(x1, t0, offset);\n+  RuntimeAddress target(CAST_FROM_FN_PTR(address, OptoRuntime::handle_exception_C));\n+  __ relocate(target.rspec(), [&] {\n+    int32_t offset;\n+    __ la_patchable(t0, target, offset);\n+    __ jalr(x1, t0, offset);\n+  });\n","filename":"src\/hotspot\/cpu\/riscv\/sharedRuntime_riscv.cpp","additions":72,"deletions":38,"binary":false,"changes":110,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-  static void assert_is_rfp(VMReg r) PRODUCT_RETURN\n+  static void assert_is_rfp(VMReg r) NOT_DEBUG_RETURN\n","filename":"src\/hotspot\/cpu\/riscv\/smallRegisterMap_riscv.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1445,0 +1445,11 @@\n+\/\/ Method entry for java.lang.Thread.currentThread\n+address TemplateInterpreterGenerator::generate_currentThread() {\n+  address entry_point = __ pc();\n+\n+  __ ld(x10, Address(xthread, JavaThread::vthread_offset()));\n+  __ resolve_oop_handle(x10, t0, t1);\n+  __ ret();\n+\n+  return entry_point;\n+}\n+\n","filename":"src\/hotspot\/cpu\/riscv\/templateInterpreterGenerator_riscv.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -2266,3 +2266,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address) JvmtiExport::get_field_access_count_addr()), offset);\n-    __ lwu(x10, Address(t0, offset));\n+    ExternalAddress target((address) JvmtiExport::get_field_access_count_addr());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lwu(x10, Address(t0, offset));\n+    });\n@@ -2482,3 +2485,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address)JvmtiExport::get_field_modification_count_addr()), offset);\n-    __ lwu(x10, Address(t0, offset));\n+    ExternalAddress target((address)JvmtiExport::get_field_modification_count_addr());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lwu(x10, Address(t0, offset));\n+    });\n@@ -2781,3 +2787,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address)JvmtiExport::get_field_modification_count_addr()), offset);\n-    __ lwu(c_rarg3, Address(t0, offset));\n+    ExternalAddress target((address)JvmtiExport::get_field_modification_count_addr());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lwu(c_rarg3, Address(t0, offset));\n+    });\n@@ -2917,3 +2926,6 @@\n-    int32_t offset = 0;\n-    __ la_patchable(t0, ExternalAddress((address)JvmtiExport::get_field_access_count_addr()), offset);\n-    __ lwu(x12, Address(t0, offset));\n+    ExternalAddress target((address)JvmtiExport::get_field_access_count_addr());\n+    __ relocate(target.rspec(), [&] {\n+      int32_t offset;\n+      __ la_patchable(t0, target, offset);\n+      __ lwu(x12, Address(t0, offset));\n+    });\n","filename":"src\/hotspot\/cpu\/riscv\/templateTable_riscv.cpp","additions":24,"deletions":12,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -141,1 +141,1 @@\n-#ifdef ASSERT\n+#ifndef PRODUCT\n","filename":"src\/hotspot\/cpu\/s390\/assembler_s390.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -169,1 +169,1 @@\n-  void asm_assert_ijava_state_magic(Register tmp) PRODUCT_RETURN;\n+  void asm_assert_ijava_state_magic(Register tmp) NOT_DEBUG_RETURN;\n","filename":"src\/hotspot\/cpu\/s390\/interp_masm_s390.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-  static void assert_is_rfp(VMReg r) PRODUCT_RETURN\n+  static void assert_is_rfp(VMReg r) NOT_DEBUG_RETURN\n","filename":"src\/hotspot\/cpu\/s390\/smallRegisterMap_s390.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -7222,1 +7222,1 @@\n-void Assembler::vpmullq(XMMRegister dst, XMMRegister nds, XMMRegister src, int vector_len) {\n+void Assembler::evpmullq(XMMRegister dst, XMMRegister nds, XMMRegister src, int vector_len) {\n@@ -7257,1 +7257,1 @@\n-void Assembler::vpmullq(XMMRegister dst, XMMRegister nds, Address src, int vector_len) {\n+void Assembler::evpmullq(XMMRegister dst, XMMRegister nds, Address src, int vector_len) {\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2522,1 +2522,1 @@\n-  void vpmullq(XMMRegister dst, XMMRegister nds, XMMRegister src, int vector_len);\n+  void evpmullq(XMMRegister dst, XMMRegister nds, XMMRegister src, int vector_len);\n@@ -2526,1 +2526,1 @@\n-  void vpmullq(XMMRegister dst, XMMRegister nds, Address src, int vector_len);\n+  void evpmullq(XMMRegister dst, XMMRegister nds, Address src, int vector_len);\n","filename":"src\/hotspot\/cpu\/x86\/assembler_x86.hpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1694,14 +1694,8 @@\n-void C2_MacroAssembler::load_iota_indices(XMMRegister dst, int vlen_in_bytes) {\n-  ExternalAddress addr(StubRoutines::x86::vector_iota_indices());\n-  if (vlen_in_bytes <= 4) {\n-    movdl(dst, addr);\n-  } else if (vlen_in_bytes == 8) {\n-    movq(dst, addr);\n-  } else if (vlen_in_bytes == 16) {\n-    movdqu(dst, addr, noreg);\n-  } else if (vlen_in_bytes == 32) {\n-    vmovdqu(dst, addr, noreg);\n-  } else {\n-    assert(vlen_in_bytes == 64, \"%d\", vlen_in_bytes);\n-    evmovdqub(dst, k0, addr, false \/*merge*\/, Assembler::AVX_512bit, noreg);\n-  }\n+void C2_MacroAssembler::load_iota_indices(XMMRegister dst, int vlen_in_bytes, BasicType bt) {\n+  \/\/ The iota indices are ordered by type B\/S\/I\/L\/F\/D, and the offset between two types is 64.\n+  int offset = exact_log2(type2aelembytes(bt)) << 6;\n+  if (is_floating_point_type(bt)) {\n+    offset += 128;\n+  }\n+  ExternalAddress addr(StubRoutines::x86::vector_iota_indices() + offset);\n+  load_vector(dst, addr, vlen_in_bytes);\n@@ -1760,1 +1754,1 @@\n-                            vpmullq(dst, dst, src, vector_len); break;\n+                            evpmullq(dst, dst, src, vector_len); break;\n@@ -1808,1 +1802,1 @@\n-    case Op_MulReductionVL: vpmullq(dst, src1, src2, vector_len); break;\n+    case Op_MulReductionVL: evpmullq(dst, src1, src2, vector_len); break;\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":10,"deletions":16,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-  void load_iota_indices(XMMRegister dst, int vlen_in_bytes);\n+  void load_iota_indices(XMMRegister dst, int vlen_in_bytes, BasicType bt);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5107,1 +5107,1 @@\n-void MacroAssembler::access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register src,\n+void MacroAssembler::access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register val,\n@@ -5113,1 +5113,1 @@\n-    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->BarrierSetAssembler::store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -5115,1 +5115,1 @@\n-    bs->store_at(this, decorators, type, dst, src, tmp1, tmp2, tmp3);\n+    bs->store_at(this, decorators, type, dst, val, tmp1, tmp2, tmp3);\n@@ -5130,1 +5130,1 @@\n-void MacroAssembler::store_heap_oop(Address dst, Register src, Register tmp1,\n+void MacroAssembler::store_heap_oop(Address dst, Register val, Register tmp1,\n@@ -5132,1 +5132,1 @@\n-  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, src, tmp1, tmp2, tmp3);\n+  access_store_at(T_OBJECT, IN_HEAP | decorators, dst, val, tmp1, tmp2, tmp3);\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -355,1 +355,1 @@\n-  void access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register src,\n+  void access_store_at(BasicType type, DecoratorSet decorators, Address dst, Register val,\n@@ -362,1 +362,1 @@\n-  void store_heap_oop(Address dst, Register src, Register tmp1 = noreg,\n+  void store_heap_oop(Address dst, Register val, Register tmp1 = noreg,\n@@ -1979,4 +1979,0 @@\n-\n-  OopMap* continuation_enter_setup(int& stack_slots);\n-  void fill_continuation_entry(Register reg_cont_obj, Register reg_flags);\n-  void continuation_enter_cleanup();\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86.hpp","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1,122 +0,0 @@\n-\/*\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-\n-#include \"precompiled.hpp\"\n-#include \"runtime\/continuation.hpp\"\n-#include \"runtime\/continuationEntry.hpp\"\n-#include \"runtime\/javaThread.hpp\"\n-#include \"macroAssembler_x86.hpp\"\n-\n-\/\/---------------------------- continuation_enter_setup ---------------------------\n-\/\/\n-\/\/ Arguments:\n-\/\/   None.\n-\/\/\n-\/\/ Results:\n-\/\/   rsp: pointer to blank ContinuationEntry\n-\/\/\n-\/\/ Kills:\n-\/\/   rax\n-\/\/\n-OopMap* MacroAssembler::continuation_enter_setup(int& stack_slots) {\n-  assert(ContinuationEntry::size() % VMRegImpl::stack_slot_size == 0, \"\");\n-  assert(in_bytes(ContinuationEntry::cont_offset())  % VMRegImpl::stack_slot_size == 0, \"\");\n-  assert(in_bytes(ContinuationEntry::chunk_offset()) % VMRegImpl::stack_slot_size == 0, \"\");\n-\n-  stack_slots += checked_cast<int>(ContinuationEntry::size()) \/ wordSize;\n-  subptr(rsp, checked_cast<int32_t>(ContinuationEntry::size()));\n-\n-  int frame_size = (checked_cast<int>(ContinuationEntry::size()) + wordSize) \/ VMRegImpl::stack_slot_size;\n-  OopMap* map = new OopMap(frame_size, 0);\n-  ContinuationEntry::setup_oopmap(map);\n-\n-  movptr(rax, Address(r15_thread, JavaThread::cont_entry_offset()));\n-  movptr(Address(rsp, ContinuationEntry::parent_offset()), rax);\n-  movptr(Address(r15_thread, JavaThread::cont_entry_offset()), rsp);\n-\n-  return map;\n-}\n-\n-\/\/---------------------------- fill_continuation_entry ---------------------------\n-\/\/\n-\/\/ Arguments:\n-\/\/   rsp: pointer to blank Continuation entry\n-\/\/   reg_cont_obj: pointer to the continuation\n-\/\/   reg_flags: flags\n-\/\/\n-\/\/ Results:\n-\/\/   rsp: pointer to filled out ContinuationEntry\n-\/\/\n-\/\/ Kills:\n-\/\/   rax\n-\/\/\n-void MacroAssembler::fill_continuation_entry(Register reg_cont_obj, Register reg_flags) {\n-  assert_different_registers(rax, reg_cont_obj, reg_flags);\n-#ifdef ASSERT\n-  movl(Address(rsp, ContinuationEntry::cookie_offset()), ContinuationEntry::cookie_value());\n-#endif\n-  movptr(Address(rsp, ContinuationEntry::cont_offset()), reg_cont_obj);\n-  movl  (Address(rsp, ContinuationEntry::flags_offset()), reg_flags);\n-  movptr(Address(rsp, ContinuationEntry::chunk_offset()), 0);\n-  movl(Address(rsp, ContinuationEntry::argsize_offset()), 0);\n-  movl(Address(rsp, ContinuationEntry::pin_count_offset()), 0);\n-\n-  movptr(rax, Address(r15_thread, JavaThread::cont_fastpath_offset()));\n-  movptr(Address(rsp, ContinuationEntry::parent_cont_fastpath_offset()), rax);\n-  movq(rax, Address(r15_thread, JavaThread::held_monitor_count_offset()));\n-  movq(Address(rsp, ContinuationEntry::parent_held_monitor_count_offset()), rax);\n-\n-  movptr(Address(r15_thread, JavaThread::cont_fastpath_offset()), 0);\n-  movq(Address(r15_thread, JavaThread::held_monitor_count_offset()), 0);\n-}\n-\n-\/\/---------------------------- continuation_enter_cleanup ---------------------------\n-\/\/\n-\/\/ Arguments:\n-\/\/   rsp: pointer to the ContinuationEntry\n-\/\/\n-\/\/ Results:\n-\/\/   rsp: pointer to the spilled rbp in the entry frame\n-\/\/\n-\/\/ Kills:\n-\/\/   rbx\n-\/\/\n-void MacroAssembler::continuation_enter_cleanup() {\n-#ifdef ASSERT\n-  Label L_good_sp;\n-  cmpptr(rsp, Address(r15_thread, JavaThread::cont_entry_offset()));\n-  jcc(Assembler::equal, L_good_sp);\n-  stop(\"Incorrect rsp at continuation_enter_cleanup\");\n-  bind(L_good_sp);\n-#endif\n-\n-  movptr(rbx, Address(rsp, ContinuationEntry::parent_cont_fastpath_offset()));\n-  movptr(Address(r15_thread, JavaThread::cont_fastpath_offset()), rbx);\n-  movq(rbx, Address(rsp, ContinuationEntry::parent_held_monitor_count_offset()));\n-  movq(Address(r15_thread, JavaThread::held_monitor_count_offset()), rbx);\n-\n-  movptr(rbx, Address(rsp, ContinuationEntry::parent_offset()));\n-  movptr(Address(r15_thread, JavaThread::cont_entry_offset()), rbx);\n-  addptr(rsp, checked_cast<int32_t>(ContinuationEntry::size()));\n-}\n","filename":"src\/hotspot\/cpu\/x86\/macroAssembler_x86_64.cpp","additions":0,"deletions":122,"binary":false,"changes":122,"status":"deleted"},{"patch":"@@ -194,0 +194,4 @@\n+      case Op_MulVB:\n+        return 7;\n+      case Op_MulVL:\n+        return VM_Version::supports_avx512vldq() ? 0 : 6;\n@@ -195,1 +199,1 @@\n-      case Op_VectorCastD2X: {\n+      case Op_VectorCastD2X:\n@@ -197,1 +201,0 @@\n-      }\n@@ -213,1 +216,1 @@\n-      case Op_RoundVD: {\n+      case Op_RoundVD:\n@@ -215,1 +218,0 @@\n-      }\n","filename":"src\/hotspot\/cpu\/x86\/matcher_x86.hpp","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -1274,0 +1274,94 @@\n+\n+\/\/---------------------------- continuation_enter_setup ---------------------------\n+\/\/\n+\/\/ Arguments:\n+\/\/   None.\n+\/\/\n+\/\/ Results:\n+\/\/   rsp: pointer to blank ContinuationEntry\n+\/\/\n+\/\/ Kills:\n+\/\/   rax\n+\/\/\n+static OopMap* continuation_enter_setup(MacroAssembler* masm, int& stack_slots) {\n+  assert(ContinuationEntry::size() % VMRegImpl::stack_slot_size == 0, \"\");\n+  assert(in_bytes(ContinuationEntry::cont_offset())  % VMRegImpl::stack_slot_size == 0, \"\");\n+  assert(in_bytes(ContinuationEntry::chunk_offset()) % VMRegImpl::stack_slot_size == 0, \"\");\n+\n+  stack_slots += checked_cast<int>(ContinuationEntry::size()) \/ wordSize;\n+  __ subptr(rsp, checked_cast<int32_t>(ContinuationEntry::size()));\n+\n+  int frame_size = (checked_cast<int>(ContinuationEntry::size()) + wordSize) \/ VMRegImpl::stack_slot_size;\n+  OopMap* map = new OopMap(frame_size, 0);\n+  ContinuationEntry::setup_oopmap(map);\n+\n+  __ movptr(rax, Address(r15_thread, JavaThread::cont_entry_offset()));\n+  __ movptr(Address(rsp, ContinuationEntry::parent_offset()), rax);\n+  __ movptr(Address(r15_thread, JavaThread::cont_entry_offset()), rsp);\n+\n+  return map;\n+}\n+\n+\/\/---------------------------- fill_continuation_entry ---------------------------\n+\/\/\n+\/\/ Arguments:\n+\/\/   rsp: pointer to blank Continuation entry\n+\/\/   reg_cont_obj: pointer to the continuation\n+\/\/   reg_flags: flags\n+\/\/\n+\/\/ Results:\n+\/\/   rsp: pointer to filled out ContinuationEntry\n+\/\/\n+\/\/ Kills:\n+\/\/   rax\n+\/\/\n+static void fill_continuation_entry(MacroAssembler* masm, Register reg_cont_obj, Register reg_flags) {\n+  assert_different_registers(rax, reg_cont_obj, reg_flags);\n+#ifdef ASSERT\n+  __ movl(Address(rsp, ContinuationEntry::cookie_offset()), ContinuationEntry::cookie_value());\n+#endif\n+  __ movptr(Address(rsp, ContinuationEntry::cont_offset()), reg_cont_obj);\n+  __ movl  (Address(rsp, ContinuationEntry::flags_offset()), reg_flags);\n+  __ movptr(Address(rsp, ContinuationEntry::chunk_offset()), 0);\n+  __ movl(Address(rsp, ContinuationEntry::argsize_offset()), 0);\n+  __ movl(Address(rsp, ContinuationEntry::pin_count_offset()), 0);\n+\n+  __ movptr(rax, Address(r15_thread, JavaThread::cont_fastpath_offset()));\n+  __ movptr(Address(rsp, ContinuationEntry::parent_cont_fastpath_offset()), rax);\n+  __ movq(rax, Address(r15_thread, JavaThread::held_monitor_count_offset()));\n+  __ movq(Address(rsp, ContinuationEntry::parent_held_monitor_count_offset()), rax);\n+\n+  __ movptr(Address(r15_thread, JavaThread::cont_fastpath_offset()), 0);\n+  __ movq(Address(r15_thread, JavaThread::held_monitor_count_offset()), 0);\n+}\n+\n+\/\/---------------------------- continuation_enter_cleanup ---------------------------\n+\/\/\n+\/\/ Arguments:\n+\/\/   rsp: pointer to the ContinuationEntry\n+\/\/\n+\/\/ Results:\n+\/\/   rsp: pointer to the spilled rbp in the entry frame\n+\/\/\n+\/\/ Kills:\n+\/\/   rbx\n+\/\/\n+void static continuation_enter_cleanup(MacroAssembler* masm) {\n+#ifdef ASSERT\n+  Label L_good_sp;\n+  __ cmpptr(rsp, Address(r15_thread, JavaThread::cont_entry_offset()));\n+  __ jcc(Assembler::equal, L_good_sp);\n+  __ stop(\"Incorrect rsp at continuation_enter_cleanup\");\n+  __ bind(L_good_sp);\n+#endif\n+\n+  __ movptr(rbx, Address(rsp, ContinuationEntry::parent_cont_fastpath_offset()));\n+  __ movptr(Address(r15_thread, JavaThread::cont_fastpath_offset()), rbx);\n+  __ movq(rbx, Address(rsp, ContinuationEntry::parent_held_monitor_count_offset()));\n+  __ movq(Address(r15_thread, JavaThread::held_monitor_count_offset()), rbx);\n+\n+  __ movptr(rbx, Address(rsp, ContinuationEntry::parent_offset()));\n+  __ movptr(Address(r15_thread, JavaThread::cont_entry_offset()), rbx);\n+  __ addptr(rsp, checked_cast<int32_t>(ContinuationEntry::size()));\n+}\n+\n@@ -1333,1 +1427,1 @@\n-    OopMap* map = __ continuation_enter_setup(stack_slots);\n+    OopMap* map = continuation_enter_setup(masm, stack_slots);\n@@ -1339,1 +1433,1 @@\n-    __ fill_continuation_entry(reg_cont_obj, reg_is_virtual);\n+    fill_continuation_entry(masm, reg_cont_obj, reg_is_virtual);\n@@ -1368,1 +1462,1 @@\n-  OopMap* map = __ continuation_enter_setup(stack_slots);\n+  OopMap* map = continuation_enter_setup(masm, stack_slots);\n@@ -1375,1 +1469,1 @@\n-  __ fill_continuation_entry(reg_cont_obj, reg_is_virtual);\n+  fill_continuation_entry(masm, reg_cont_obj, reg_is_virtual);\n@@ -1418,1 +1512,1 @@\n-  __ continuation_enter_cleanup();\n+  continuation_enter_cleanup(masm);\n@@ -1426,1 +1520,1 @@\n-  __ continuation_enter_cleanup();\n+  continuation_enter_cleanup(masm);\n@@ -1490,1 +1584,1 @@\n-  __ continuation_enter_cleanup();\n+  continuation_enter_cleanup(masm);\n","filename":"src\/hotspot\/cpu\/x86\/sharedRuntime_x86_64.cpp","additions":101,"deletions":7,"binary":false,"changes":108,"status":"modified"},{"patch":"@@ -814,1 +814,1 @@\n-\n+  \/\/ B\n@@ -823,1 +823,45 @@\n-\n+  \/\/ W\n+  __ emit_data64(0x0003000200010000, relocInfo::none);\n+  __ emit_data64(0x0007000600050004, relocInfo::none);\n+  __ emit_data64(0x000B000A00090008, relocInfo::none);\n+  __ emit_data64(0x000F000E000D000C, relocInfo::none);\n+  __ emit_data64(0x0013001200110010, relocInfo::none);\n+  __ emit_data64(0x0017001600150014, relocInfo::none);\n+  __ emit_data64(0x001B001A00190018, relocInfo::none);\n+  __ emit_data64(0x001F001E001D001C, relocInfo::none);\n+  \/\/ D\n+  __ emit_data64(0x0000000100000000, relocInfo::none);\n+  __ emit_data64(0x0000000300000002, relocInfo::none);\n+  __ emit_data64(0x0000000500000004, relocInfo::none);\n+  __ emit_data64(0x0000000700000006, relocInfo::none);\n+  __ emit_data64(0x0000000900000008, relocInfo::none);\n+  __ emit_data64(0x0000000B0000000A, relocInfo::none);\n+  __ emit_data64(0x0000000D0000000C, relocInfo::none);\n+  __ emit_data64(0x0000000F0000000E, relocInfo::none);\n+  \/\/ Q\n+  __ emit_data64(0x0000000000000000, relocInfo::none);\n+  __ emit_data64(0x0000000000000001, relocInfo::none);\n+  __ emit_data64(0x0000000000000002, relocInfo::none);\n+  __ emit_data64(0x0000000000000003, relocInfo::none);\n+  __ emit_data64(0x0000000000000004, relocInfo::none);\n+  __ emit_data64(0x0000000000000005, relocInfo::none);\n+  __ emit_data64(0x0000000000000006, relocInfo::none);\n+  __ emit_data64(0x0000000000000007, relocInfo::none);\n+  \/\/ D - FP\n+  __ emit_data64(0x3F80000000000000, relocInfo::none); \/\/ 0.0f, 1.0f\n+  __ emit_data64(0x4040000040000000, relocInfo::none); \/\/ 2.0f, 3.0f\n+  __ emit_data64(0x40A0000040800000, relocInfo::none); \/\/ 4.0f, 5.0f\n+  __ emit_data64(0x40E0000040C00000, relocInfo::none); \/\/ 6.0f, 7.0f\n+  __ emit_data64(0x4110000041000000, relocInfo::none); \/\/ 8.0f, 9.0f\n+  __ emit_data64(0x4130000041200000, relocInfo::none); \/\/ 10.0f, 11.0f\n+  __ emit_data64(0x4150000041400000, relocInfo::none); \/\/ 12.0f, 13.0f\n+  __ emit_data64(0x4170000041600000, relocInfo::none); \/\/ 14.0f, 15.0f\n+  \/\/ Q - FP\n+  __ emit_data64(0x0000000000000000, relocInfo::none); \/\/ 0.0d\n+  __ emit_data64(0x3FF0000000000000, relocInfo::none); \/\/ 1.0d\n+  __ emit_data64(0x4000000000000000, relocInfo::none); \/\/ 2.0d\n+  __ emit_data64(0x4008000000000000, relocInfo::none); \/\/ 3.0d\n+  __ emit_data64(0x4010000000000000, relocInfo::none); \/\/ 4.0d\n+  __ emit_data64(0x4014000000000000, relocInfo::none); \/\/ 5.0d\n+  __ emit_data64(0x4018000000000000, relocInfo::none); \/\/ 6.0d\n+  __ emit_data64(0x401c000000000000, relocInfo::none); \/\/ 7.0d\n","filename":"src\/hotspot\/cpu\/x86\/stubGenerator_x86_64.cpp","additions":46,"deletions":2,"binary":false,"changes":48,"status":"modified"},{"patch":"@@ -1737,1 +1737,0 @@\n-    case Op_MulVL:\n@@ -5643,3 +5642,2 @@\n-instruct mulB_reg(vec dst, vec src1, vec src2, vec tmp) %{\n-  predicate(Matcher::vector_length(n) == 4 ||\n-            Matcher::vector_length(n) == 8);\n+instruct vmul8B(vec dst, vec src1, vec src2, vec xtmp) %{\n+  predicate(Matcher::vector_length_in_bytes(n) <= 8);\n@@ -5647,2 +5645,2 @@\n-  effect(TEMP dst, TEMP tmp);\n-  format %{\"vector_mulB $dst,$src1,$src2\" %}\n+  effect(TEMP dst, TEMP xtmp);\n+  format %{ \"mulVB   $dst, $src1, $src2\\t! using $xtmp as TEMP\" %}\n@@ -5651,5 +5649,5 @@\n-    __ pmovsxbw($tmp$$XMMRegister, $src1$$XMMRegister);\n-    __ pmovsxbw($dst$$XMMRegister, $src2$$XMMRegister);\n-    __ pmullw($tmp$$XMMRegister, $dst$$XMMRegister);\n-    __ movdqu($dst$$XMMRegister, ExternalAddress(vector_short_to_byte_mask()), noreg);\n-    __ pand($dst$$XMMRegister, $tmp$$XMMRegister);\n+    __ pmovsxbw($dst$$XMMRegister, $src1$$XMMRegister);\n+    __ pmovsxbw($xtmp$$XMMRegister, $src2$$XMMRegister);\n+    __ pmullw($dst$$XMMRegister, $xtmp$$XMMRegister);\n+    __ psllw($dst$$XMMRegister, 8);\n+    __ psrlw($dst$$XMMRegister, 8);\n@@ -5661,2 +5659,2 @@\n-instruct mul16B_reg(vec dst, vec src1, vec src2, vec tmp1, vec tmp2) %{\n-  predicate(Matcher::vector_length(n) == 16 && UseAVX <= 1);\n+instruct vmulB(vec dst, vec src1, vec src2, vec xtmp) %{\n+  predicate(UseAVX == 0 && Matcher::vector_length_in_bytes(n) > 8);\n@@ -5664,2 +5662,2 @@\n-  effect(TEMP dst, TEMP tmp1, TEMP tmp2);\n-  format %{\"vector_mulB $dst,$src1,$src2\" %}\n+  effect(TEMP dst, TEMP xtmp);\n+  format %{ \"mulVB   $dst, $src1, $src2\\t! using $xtmp as TEMP\" %}\n@@ -5668,18 +5666,20 @@\n-    __ pmovsxbw($tmp1$$XMMRegister, $src1$$XMMRegister);\n-    __ pmovsxbw($tmp2$$XMMRegister, $src2$$XMMRegister);\n-    __ pmullw($tmp1$$XMMRegister, $tmp2$$XMMRegister);\n-    __ pshufd($tmp2$$XMMRegister, $src1$$XMMRegister, 0xEE);\n-    __ pshufd($dst$$XMMRegister, $src2$$XMMRegister, 0xEE);\n-    __ pmovsxbw($tmp2$$XMMRegister, $tmp2$$XMMRegister);\n-    __ pmovsxbw($dst$$XMMRegister, $dst$$XMMRegister);\n-    __ pmullw($tmp2$$XMMRegister, $dst$$XMMRegister);\n-    __ movdqu($dst$$XMMRegister, ExternalAddress(vector_short_to_byte_mask()), noreg);\n-    __ pand($tmp2$$XMMRegister, $dst$$XMMRegister);\n-    __ pand($dst$$XMMRegister, $tmp1$$XMMRegister);\n-    __ packuswb($dst$$XMMRegister, $tmp2$$XMMRegister);\n-  %}\n-  ins_pipe( pipe_slow );\n-%}\n-\n-instruct vmul16B_reg_avx(vec dst, vec src1, vec src2, vec tmp) %{\n-  predicate(Matcher::vector_length(n) == 16 && UseAVX > 1);\n+    \/\/ Odd-index elements\n+    __ movdqu($dst$$XMMRegister, $src1$$XMMRegister);\n+    __ psrlw($dst$$XMMRegister, 8);\n+    __ movdqu($xtmp$$XMMRegister, $src2$$XMMRegister);\n+    __ psrlw($xtmp$$XMMRegister, 8);\n+    __ pmullw($dst$$XMMRegister, $xtmp$$XMMRegister);\n+    __ psllw($dst$$XMMRegister, 8);\n+    \/\/ Even-index elements\n+    __ movdqu($xtmp$$XMMRegister, $src1$$XMMRegister);\n+    __ pmullw($xtmp$$XMMRegister, $src2$$XMMRegister);\n+    __ psllw($xtmp$$XMMRegister, 8);\n+    __ psrlw($xtmp$$XMMRegister, 8);\n+    \/\/ Combine\n+    __ por($dst$$XMMRegister, $xtmp$$XMMRegister);\n+  %}\n+  ins_pipe( pipe_slow );\n+%}\n+\n+instruct vmulB_reg(vec dst, vec src1, vec src2, vec xtmp1, vec xtmp2) %{\n+  predicate(UseAVX > 0 && Matcher::vector_length_in_bytes(n) > 8);\n@@ -5687,2 +5687,2 @@\n-  effect(TEMP dst, TEMP tmp);\n-  format %{\"vector_mulB $dst,$src1,$src2\" %}\n+  effect(TEMP xtmp1, TEMP xtmp2);\n+  format %{ \"vmulVB  $dst, $src1, $src2\\t! using $xtmp1, $xtmp2 as TEMP\" %}\n@@ -5690,61 +5690,12 @@\n-  int vlen_enc = Assembler::AVX_256bit;\n-    __ vpmovsxbw($tmp$$XMMRegister, $src1$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($dst$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n-    __ vpmullw($tmp$$XMMRegister, $tmp$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vmovdqu($dst$$XMMRegister, ExternalAddress(vector_short_to_byte_mask()), noreg);\n-    __ vpand($dst$$XMMRegister, $dst$$XMMRegister, $tmp$$XMMRegister, vlen_enc);\n-    __ vextracti128_high($tmp$$XMMRegister, $dst$$XMMRegister);\n-    __ vpackuswb($dst$$XMMRegister, $dst$$XMMRegister, $tmp$$XMMRegister, 0);\n-  %}\n-  ins_pipe( pipe_slow );\n-%}\n-\n-instruct vmul32B_reg_avx(vec dst, vec src1, vec src2, vec tmp1, vec tmp2) %{\n-  predicate(Matcher::vector_length(n) == 32);\n-  match(Set dst (MulVB src1 src2));\n-  effect(TEMP dst, TEMP tmp1, TEMP tmp2);\n-  format %{\"vector_mulB $dst,$src1,$src2\" %}\n-  ins_encode %{\n-    assert(UseAVX > 1, \"required\");\n-    int vlen_enc = Assembler::AVX_256bit;\n-    __ vextracti128_high($tmp1$$XMMRegister, $src1$$XMMRegister);\n-    __ vextracti128_high($dst$$XMMRegister, $src2$$XMMRegister);\n-    __ vpmovsxbw($tmp1$$XMMRegister, $tmp1$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpmullw($tmp1$$XMMRegister, $tmp1$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($tmp2$$XMMRegister, $src1$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($dst$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n-    __ vpmullw($tmp2$$XMMRegister, $tmp2$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vmovdqu($dst$$XMMRegister, ExternalAddress(vector_short_to_byte_mask()), noreg);\n-    __ vpbroadcastd($dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpand($tmp1$$XMMRegister, $tmp1$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpand($dst$$XMMRegister, $dst$$XMMRegister, $tmp2$$XMMRegister, vlen_enc);\n-    __ vpackuswb($dst$$XMMRegister, $dst$$XMMRegister, $tmp1$$XMMRegister, vlen_enc);\n-    __ vpermq($dst$$XMMRegister, $dst$$XMMRegister, 0xD8, vlen_enc);\n-  %}\n-  ins_pipe( pipe_slow );\n-%}\n-\n-instruct vmul64B_reg_avx(vec dst, vec src1, vec src2, vec tmp1, vec tmp2) %{\n-  predicate(Matcher::vector_length(n) == 64);\n-  match(Set dst (MulVB src1 src2));\n-  effect(TEMP dst, TEMP tmp1, TEMP tmp2);\n-  format %{\"vector_mulB $dst,$src1,$src2\\n\\t\" %}\n-  ins_encode %{\n-    assert(UseAVX > 2, \"required\");\n-    int vlen_enc = Assembler::AVX_512bit;\n-    __ vextracti64x4_high($tmp1$$XMMRegister, $src1$$XMMRegister);\n-    __ vextracti64x4_high($dst$$XMMRegister, $src2$$XMMRegister);\n-    __ vpmovsxbw($tmp1$$XMMRegister, $tmp1$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpmullw($tmp1$$XMMRegister, $tmp1$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($tmp2$$XMMRegister, $src1$$XMMRegister, vlen_enc);\n-    __ vpmovsxbw($dst$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n-    __ vpmullw($tmp2$$XMMRegister, $tmp2$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vmovdqu($dst$$XMMRegister, ExternalAddress(vector_short_to_byte_mask()), noreg);\n-    __ vpbroadcastd($dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpand($tmp1$$XMMRegister, $tmp1$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpand($tmp2$$XMMRegister, $tmp2$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-    __ vpackuswb($dst$$XMMRegister, $tmp1$$XMMRegister, $tmp2$$XMMRegister, vlen_enc);\n-    __ evmovdquq($tmp2$$XMMRegister, ExternalAddress(vector_byte_perm_mask()), vlen_enc, noreg);\n-    __ vpermq($dst$$XMMRegister, $tmp2$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n+    int vlen_enc = vector_length_encoding(this);\n+    \/\/ Odd-index elements\n+    __ vpsrlw($xtmp2$$XMMRegister, $src1$$XMMRegister, 8, vlen_enc);\n+    __ vpsrlw($xtmp1$$XMMRegister, $src2$$XMMRegister, 8, vlen_enc);\n+    __ vpmullw($xtmp2$$XMMRegister, $xtmp1$$XMMRegister, $xtmp2$$XMMRegister, vlen_enc);\n+    __ vpsllw($xtmp2$$XMMRegister, $xtmp2$$XMMRegister, 8, vlen_enc);\n+    \/\/ Even-index elements\n+    __ vpmullw($xtmp1$$XMMRegister, $src1$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n+    __ vpsllw($xtmp1$$XMMRegister, $xtmp1$$XMMRegister, 8, vlen_enc);\n+    __ vpsrlw($xtmp1$$XMMRegister, $xtmp1$$XMMRegister, 8, vlen_enc);\n+    \/\/ Combine\n+    __ vpor($dst$$XMMRegister, $xtmp1$$XMMRegister, $xtmp2$$XMMRegister, vlen_enc);\n@@ -5759,1 +5710,1 @@\n-  format %{ \"pmullw $dst,$src\\t! mul packedS\" %}\n+  format %{ \"pmullw  $dst,$src\\t! mul packedS\" %}\n@@ -5825,2 +5776,4 @@\n-instruct vmulL_reg(vec dst, vec src1, vec src2) %{\n-  predicate(VM_Version::supports_avx512dq());\n+instruct evmulL_reg(vec dst, vec src1, vec src2) %{\n+  predicate((Matcher::vector_length_in_bytes(n) == 64 &&\n+             VM_Version::supports_avx512dq()) ||\n+            VM_Version::supports_avx512vldq());\n@@ -5828,1 +5781,1 @@\n-  format %{ \"vpmullq $dst,$src1,$src2\\t! mul packedL\" %}\n+  format %{ \"evpmullq $dst,$src1,$src2\\t! mul packedL\" %}\n@@ -5832,1 +5785,1 @@\n-    __ vpmullq($dst$$XMMRegister, $src1$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n+    __ evpmullq($dst$$XMMRegister, $src1$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n@@ -5837,3 +5790,5 @@\n-instruct vmulL_mem(vec dst, vec src, memory mem) %{\n-  predicate(VM_Version::supports_avx512dq() &&\n-              (Matcher::vector_length_in_bytes(n->in(1)) > 8));\n+instruct evmulL_mem(vec dst, vec src, memory mem) %{\n+  predicate((Matcher::vector_length_in_bytes(n) == 64 &&\n+             VM_Version::supports_avx512dq()) ||\n+            (Matcher::vector_length_in_bytes(n) > 8 &&\n+             VM_Version::supports_avx512vldq()));\n@@ -5841,1 +5796,1 @@\n-  format %{ \"vpmullq $dst,$src,$mem\\t! mul packedL\" %}\n+  format %{ \"evpmullq $dst,$src,$mem\\t! mul packedL\" %}\n@@ -5845,1 +5800,1 @@\n-    __ vpmullq($dst$$XMMRegister, $src$$XMMRegister, $mem$$Address, vlen_enc);\n+    __ evpmullq($dst$$XMMRegister, $src$$XMMRegister, $mem$$Address, vlen_enc);\n@@ -5850,12 +5805,5 @@\n-instruct mul2L_reg(vec dst, vec src2, legVec tmp) %{\n-  predicate(Matcher::vector_length(n) == 2 && !VM_Version::supports_avx512dq());\n-  match(Set dst (MulVL dst src2));\n-  effect(TEMP dst, TEMP tmp);\n-  format %{ \"pshufd $tmp,$src2, 177\\n\\t\"\n-            \"pmulld $tmp,$dst\\n\\t\"\n-            \"phaddd $tmp,$tmp\\n\\t\"\n-            \"pmovzxdq $tmp,$tmp\\n\\t\"\n-            \"psllq $tmp, 32\\n\\t\"\n-            \"pmuludq $dst,$src2\\n\\t\"\n-            \"paddq $dst,$tmp\\n\\t! mul packed2L\" %}\n-\n+instruct vmulL(vec dst, vec src1, vec src2, vec xtmp) %{\n+  predicate(UseAVX == 0);\n+  match(Set dst (MulVL src1 src2));\n+  effect(TEMP dst, TEMP xtmp);\n+  format %{ \"mulVL   $dst, $src1, $src2\\t! using $xtmp as TEMP\" %}\n@@ -5864,8 +5812,10 @@\n-    int vlen_enc = Assembler::AVX_128bit;\n-    __ pshufd($tmp$$XMMRegister, $src2$$XMMRegister, 177);\n-    __ pmulld($tmp$$XMMRegister, $dst$$XMMRegister);\n-    __ phaddd($tmp$$XMMRegister, $tmp$$XMMRegister);\n-    __ pmovzxdq($tmp$$XMMRegister, $tmp$$XMMRegister);\n-    __ psllq($tmp$$XMMRegister, 32);\n-    __ pmuludq($dst$$XMMRegister, $src2$$XMMRegister);\n-    __ paddq($dst$$XMMRegister, $tmp$$XMMRegister);\n+    \/\/ Get the lo-hi products, only the lower 32 bits is in concerns\n+    __ pshufd($xtmp$$XMMRegister, $src2$$XMMRegister, 0xB1);\n+    __ pmulld($xtmp$$XMMRegister, $src1$$XMMRegister);\n+    __ pshufd($dst$$XMMRegister, $xtmp$$XMMRegister, 0xB1);\n+    __ paddd($dst$$XMMRegister, $xtmp$$XMMRegister);\n+    __ psllq($dst$$XMMRegister, 32);\n+    \/\/ Get the lo-lo products\n+    __ movdqu($xtmp$$XMMRegister, $src1$$XMMRegister);\n+    __ pmuludq($xtmp$$XMMRegister, $src2$$XMMRegister);\n+    __ paddq($dst$$XMMRegister, $xtmp$$XMMRegister);\n@@ -5876,2 +5826,6 @@\n-instruct vmul4L_reg_avx(vec dst, vec src1, vec src2, legVec tmp, legVec tmp1) %{\n-  predicate(Matcher::vector_length(n) == 4 && !VM_Version::supports_avx512dq());\n+instruct vmulL_reg(vec dst, vec src1, vec src2, vec xtmp1, vec xtmp2) %{\n+  predicate(UseAVX > 0 &&\n+            ((Matcher::vector_length_in_bytes(n) == 64 &&\n+              !VM_Version::supports_avx512dq()) ||\n+             (Matcher::vector_length_in_bytes(n) < 64 &&\n+              !VM_Version::supports_avx512vldq())));\n@@ -5879,8 +5833,2 @@\n-  effect(TEMP tmp1, TEMP tmp);\n-  format %{ \"vpshufd $tmp,$src2\\n\\t\"\n-            \"vpmulld $tmp,$src1,$tmp\\n\\t\"\n-            \"vphaddd $tmp,$tmp,$tmp\\n\\t\"\n-            \"vpmovzxdq $tmp,$tmp\\n\\t\"\n-            \"vpsllq $tmp,$tmp\\n\\t\"\n-            \"vpmuludq $tmp1,$src1,$src2\\n\\t\"\n-            \"vpaddq $dst,$tmp,$tmp1\\t! mul packed4L\" %}\n+  effect(TEMP xtmp1, TEMP xtmp2);\n+  format %{ \"vmulVL  $dst, $src1, $src2\\t! using $xtmp1, $xtmp2 as TEMP\" %}\n@@ -5888,9 +5836,10 @@\n-    int vlen_enc = Assembler::AVX_256bit;\n-    __ vpshufd($tmp$$XMMRegister, $src2$$XMMRegister, 177, vlen_enc);\n-    __ vpmulld($tmp$$XMMRegister, $src1$$XMMRegister, $tmp$$XMMRegister, vlen_enc);\n-    __ vextracti128_high($tmp1$$XMMRegister, $tmp$$XMMRegister);\n-    __ vphaddd($tmp$$XMMRegister, $tmp$$XMMRegister, $tmp1$$XMMRegister, vlen_enc);\n-    __ vpmovzxdq($tmp$$XMMRegister, $tmp$$XMMRegister, vlen_enc);\n-    __ vpsllq($tmp$$XMMRegister, $tmp$$XMMRegister, 32, vlen_enc);\n-    __ vpmuludq($tmp1$$XMMRegister, $src1$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n-    __ vpaddq($dst$$XMMRegister, $tmp$$XMMRegister, $tmp1$$XMMRegister, vlen_enc);\n+    int vlen_enc = vector_length_encoding(this);\n+    \/\/ Get the lo-hi products, only the lower 32 bits is in concerns\n+    __ vpshufd($xtmp1$$XMMRegister, $src2$$XMMRegister, 0xB1, vlen_enc);\n+    __ vpmulld($xtmp1$$XMMRegister, $src1$$XMMRegister, $xtmp1$$XMMRegister, vlen_enc);\n+    __ vpshufd($xtmp2$$XMMRegister, $xtmp1$$XMMRegister, 0xB1, vlen_enc);\n+    __ vpaddd($xtmp2$$XMMRegister, $xtmp2$$XMMRegister, $xtmp1$$XMMRegister, vlen_enc);\n+    __ vpsllq($xtmp2$$XMMRegister, $xtmp2$$XMMRegister, 32, vlen_enc);\n+    \/\/ Get the lo-lo products\n+    __ vpmuludq($xtmp1$$XMMRegister, $src1$$XMMRegister, $src2$$XMMRegister, vlen_enc);\n+    __ vpaddq($dst$$XMMRegister, $xtmp1$$XMMRegister, $xtmp2$$XMMRegister, vlen_enc);\n@@ -8454,1 +8403,0 @@\n-  predicate(Matcher::vector_element_basic_type(n) == T_BYTE);\n@@ -8459,1 +8407,2 @@\n-     __ load_iota_indices($dst$$XMMRegister, vlen_in_bytes);\n+     BasicType bt = Matcher::vector_element_basic_type(this);\n+     __ load_iota_indices($dst$$XMMRegister, vlen_in_bytes, bt);\n@@ -8471,1 +8420,1 @@\n-     int vlen = Matcher::vector_length(this);\n+     int vlen_in_bytes = Matcher::vector_length_in_bytes(this);\n@@ -8475,4 +8424,1 @@\n-     __ load_iota_indices($dst$$XMMRegister, vlen);\n-     if (elem_bt != T_BYTE) {\n-       __ vconvert_b2x(elem_bt, $dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-     }\n+     __ load_iota_indices($dst$$XMMRegister, vlen_in_bytes, elem_bt);\n@@ -8490,1 +8436,1 @@\n-     int vlen = Matcher::vector_length(this);\n+     int vlen_in_bytes = Matcher::vector_length_in_bytes(this);\n@@ -8494,4 +8440,1 @@\n-     __ load_iota_indices($dst$$XMMRegister, vlen);\n-     if (elem_bt != T_BYTE) {\n-       __ vconvert_b2x(elem_bt, $dst$$XMMRegister, $dst$$XMMRegister, vlen_enc);\n-     }\n+     __ load_iota_indices($dst$$XMMRegister, vlen_in_bytes, elem_bt);\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":100,"deletions":157,"binary":false,"changes":257,"status":"modified"},{"patch":"@@ -86,1 +86,5 @@\n-          \"Use fast method entry code for accessor methods\")\n+          \"Use fast method entry code for accessor methods\")                \\\n+                                                                            \\\n+  product(bool, DecodeErrorContext, false, DIAGNOSTIC,                      \\\n+          \"Try to decode the architecture-specific context for better \"     \\\n+          \"diagnostics\")\n","filename":"src\/hotspot\/cpu\/zero\/globals_zero.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-  static void assert_is_rfp(VMReg r) PRODUCT_RETURN\n+  static void assert_is_rfp(VMReg r) NOT_DEBUG_RETURN\n","filename":"src\/hotspot\/cpu\/zero\/smallRegisterMap_zero.inline.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -119,0 +119,11 @@\n+  \/\/ Enable error context decoding on known platforms\n+#if defined(IA32) || defined(AMD64) || defined(ARM) || \\\n+    defined(AARCH64) || defined(PPC) || defined(RISCV) || \\\n+    defined(S390)\n+  if (FLAG_IS_DEFAULT(DecodeErrorContext)) {\n+    FLAG_SET_DEFAULT(DecodeErrorContext, true);\n+  }\n+#else\n+  UNSUPPORTED_OPTION(DecodeErrorContext);\n+#endif\n+\n","filename":"src\/hotspot\/cpu\/zero\/vm_version_zero.cpp","additions":11,"deletions":0,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -4243,1 +4243,1 @@\n-  void* p = ::mmap(NULL, size, PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0);\n+  void* p = ::mmap(NULL, size, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0);\n@@ -4249,1 +4249,1 @@\n-  int res = ::mprotect(p, size, PROT_WRITE|PROT_EXEC);\n+  int res = ::mprotect(p, size, PROT_READ|PROT_WRITE|PROT_EXEC);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,0 +38,2 @@\n+  #elif defined(X86)\n+  #define SYS_membarrier 375\n@@ -42,0 +44,2 @@\n+  #elif defined(ALPHA)\n+  #define SYS_membarrier 517\n","filename":"src\/hotspot\/os\/linux\/systemMemoryBarrier_linux.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -605,6 +605,0 @@\n-    } else if (ZERO_ONLY(true) NOT_ZERO(false)) {\n-      \/\/ Non-arch-specific Zero code does not really know the pc.\n-      \/\/ This can be alleviated by making arch-specific os::Posix::ucontext_get_pc\n-      \/\/ available for Zero for known architectures. But for generic Zero\n-      \/\/ code, it would still remain unknown.\n-      pc = NULL;\n@@ -667,6 +661,1 @@\n-    \/\/ For Zero, we ignore the crash context, because:\n-    \/\/  a) The crash would be in C++ interpreter code, so context is not really relevant;\n-    \/\/  b) Generic Zero code would not be able to parse it, so when generic error\n-    \/\/     reporting code asks e.g. about frames on stack, Zero would experience\n-    \/\/     a secondary ShouldNotCallThis() crash.\n-    VMError::report_and_die(t, sig, pc, info, NOT_ZERO(ucVoid) ZERO_ONLY(NULL));\n+    VMError::report_and_die(t, sig, pc, info, ucVoid);\n@@ -798,1 +787,1 @@\n-static void SR_handler(int sig, siginfo_t* siginfo, ucontext_t* context);\n+static void SR_handler(int sig, siginfo_t* siginfo, void* ucVoid);\n@@ -1600,2 +1589,2 @@\n-static void suspend_save_context(OSThread *osthread, siginfo_t* siginfo, ucontext_t* context) {\n-  osthread->set_ucontext(context);\n+static void suspend_save_context(OSThread *osthread, siginfo_t* siginfo, void* ucVoid) {\n+  osthread->set_ucontext((ucontext_t*)ucVoid);\n@@ -1618,1 +1607,1 @@\n-static void SR_handler(int sig, siginfo_t* siginfo, ucontext_t* context) {\n+static void SR_handler(int sig, siginfo_t* siginfo, void* ucVoid) {\n@@ -1661,1 +1650,1 @@\n-    suspend_save_context(osthread, siginfo, context);\n+    suspend_save_context(osthread, siginfo, ucVoid);\n@@ -1727,1 +1716,1 @@\n-  act.sa_handler = (void (*)(int)) SR_handler;\n+  act.sa_sigaction = SR_handler;\n","filename":"src\/hotspot\/os\/posix\/signals_posix.cpp","additions":7,"deletions":18,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -90,2 +90,24 @@\n-  ShouldNotCallThis();\n-  return NULL; \/\/ silence compile warnings\n+  if (DecodeErrorContext) {\n+#if defined(IA32)\n+    return (address)uc->uc_mcontext.gregs[REG_EIP];\n+#elif defined(AMD64)\n+    return (address)uc->uc_mcontext.gregs[REG_RIP];\n+#elif defined(ARM)\n+    return (address)uc->uc_mcontext.arm_pc;\n+#elif defined(AARCH64)\n+    return (address)uc->uc_mcontext.pc;\n+#elif defined(PPC)\n+    return (address)uc->uc_mcontext.regs->nip;\n+#elif defined(RISCV)\n+    return (address)uc->uc_mcontext.__gregs[REG_PC];\n+#elif defined(S390)\n+    return (address)uc->uc_mcontext.psw.addr;\n+#else\n+    \/\/ Non-arch-specific Zero code does not really know the PC.\n+    \/\/ If possible, add the arch-specific definition in this method.\n+    fatal(\"Cannot handle ucontext_get_pc\");\n+#endif\n+  }\n+\n+  \/\/ Answer the default and hope for the best\n+  return nullptr;\n@@ -94,1 +116,1 @@\n-void os::Posix::ucontext_set_pc(ucontext_t * uc, address pc) {\n+void os::Posix::ucontext_set_pc(ucontext_t* uc, address pc) {\n@@ -98,0 +120,54 @@\n+intptr_t* os::Linux::ucontext_get_sp(const ucontext_t* uc) {\n+  if (DecodeErrorContext) {\n+#if defined(IA32)\n+    return (intptr_t*)uc->uc_mcontext.gregs[REG_UESP];\n+#elif defined(AMD64)\n+    return (intptr_t*)uc->uc_mcontext.gregs[REG_RSP];\n+#elif defined(ARM)\n+    return (intptr_t*)uc->uc_mcontext.arm_sp;\n+#elif defined(AARCH64)\n+    return (intptr_t*)uc->uc_mcontext.sp;\n+#elif defined(PPC)\n+    return (intptr_t*)uc->uc_mcontext.regs->gpr[1\/*REG_SP*\/];\n+#elif defined(RISCV)\n+    return (intptr_t*)uc->uc_mcontext.__gregs[REG_SP];\n+#elif defined(S390)\n+    return (intptr_t*)uc->uc_mcontext.gregs[15\/*REG_SP*\/];\n+#else\n+    \/\/ Non-arch-specific Zero code does not really know the SP.\n+    \/\/ If possible, add the arch-specific definition in this method.\n+    fatal(\"Cannot handle ucontext_get_sp\");\n+#endif\n+  }\n+\n+  \/\/ Answer the default and hope for the best\n+  return nullptr;\n+}\n+\n+intptr_t* os::Linux::ucontext_get_fp(const ucontext_t* uc) {\n+  if (DecodeErrorContext) {\n+#if defined(IA32)\n+    return (intptr_t*)uc->uc_mcontext.gregs[REG_EBP];\n+#elif defined(AMD64)\n+    return (intptr_t*)uc->uc_mcontext.gregs[REG_RBP];\n+#elif defined(ARM)\n+    return (intptr_t*)uc->uc_mcontext.arm_fp;\n+#elif defined(AARCH64)\n+    return (intptr_t*)uc->uc_mcontext.regs[29 \/* REG_FP *\/];\n+#elif defined(PPC)\n+    return nullptr;\n+#elif defined(RISCV)\n+    return (intptr_t*)uc->uc_mcontext.__gregs[8 \/* REG_FP *\/];\n+#elif defined(S390)\n+    return nullptr;\n+#else\n+    \/\/ Non-arch-specific Zero code does not really know the FP.\n+    \/\/ If possible, add the arch-specific definition in this method.\n+    fatal(\"Cannot handle ucontext_get_fp\");\n+#endif\n+  }\n+\n+  \/\/ Answer the default and hope for the best\n+  return nullptr;\n+}\n+\n@@ -101,2 +177,22 @@\n-  ShouldNotCallThis();\n-  return NULL; \/\/ silence compile warnings\n+  address epc;\n+  const ucontext_t* uc = (const ucontext_t*)ucVoid;\n+\n+  if (uc != NULL) {\n+    epc = os::Posix::ucontext_get_pc(uc);\n+    if (ret_sp) {\n+      *ret_sp = (intptr_t*) os::Linux::ucontext_get_sp(uc);\n+    }\n+    if (ret_fp) {\n+      *ret_fp = (intptr_t*) os::Linux::ucontext_get_fp(uc);\n+    }\n+  } else {\n+    epc = NULL;\n+    if (ret_sp) {\n+      *ret_sp = nullptr;\n+    }\n+    if (ret_fp) {\n+      *ret_fp = nullptr;\n+    }\n+  }\n+\n+  return epc;\n@@ -106,2 +202,12 @@\n-  ShouldNotCallThis();\n-  return frame(NULL, NULL); \/\/ silence compile warnings\n+  \/\/ This code is only called from error handler to get PC and SP.\n+  \/\/ We don't have the ready ZeroFrame* at this point, so fake the\n+  \/\/ frame with bare minimum.\n+  if (ucVoid != NULL) {\n+    const ucontext_t* uc = (const ucontext_t*)ucVoid;\n+    frame dummy = frame();\n+    dummy.set_pc(os::Posix::ucontext_get_pc(uc));\n+    dummy.set_sp((intptr_t*)os::Linux::ucontext_get_sp(uc));\n+    return dummy;\n+  } else {\n+    return frame(nullptr, nullptr);\n+  }\n@@ -291,2 +397,2 @@\n-void os::print_context(outputStream* st, const void* context) {\n-  ShouldNotCallThis();\n+void os::print_context(outputStream* st, const void* ucVoid) {\n+  st->print_cr(\"No context information.\");\n@@ -295,2 +401,13 @@\n-void os::print_tos_pc(outputStream *st, const void *context) {\n-  ShouldNotCallThis();\n+void os::print_tos_pc(outputStream *st, const void* ucVoid) {\n+  const ucontext_t* uc = (const ucontext_t*)ucVoid;\n+\n+  address sp = (address)os::Linux::ucontext_get_sp(uc);\n+  print_tos(st, sp);\n+  st->cr();\n+\n+  \/\/ Note: it may be unsafe to inspect memory near pc. For example, pc may\n+  \/\/ point to garbage if entry point in an nmethod is corrupted. Leave\n+  \/\/ this at the end, and hope for the best.\n+  address pc = os::Posix::ucontext_get_pc(uc);\n+  print_instructions(st, pc, sizeof(char));\n+  st->cr();\n@@ -299,2 +416,2 @@\n-void os::print_register_info(outputStream *st, const void *context) {\n-  ShouldNotCallThis();\n+void os::print_register_info(outputStream *st, const void* ucVoid) {\n+  st->print_cr(\"No register info.\");\n","filename":"src\/hotspot\/os_cpu\/linux_zero\/os_linux_zero.cpp","additions":130,"deletions":13,"binary":false,"changes":143,"status":"modified"},{"patch":"@@ -455,0 +455,4 @@\n+    _consts.initialize_outer(this, SECT_CONSTS);\n+    _insts.initialize_outer(this,  SECT_INSTS);\n+    _stubs.initialize_outer(this,  SECT_STUBS);\n+\n@@ -469,3 +473,0 @@\n-    _consts.initialize_outer(this,  SECT_CONSTS);\n-    _insts.initialize_outer(this,   SECT_INSTS);\n-    _stubs.initialize_outer(this,   SECT_STUBS);\n@@ -755,1 +756,1 @@\n-  if (CodeBuffer::SECT_STUBS) {\n+  if (section == CodeBuffer::SECT_STUBS) {\n","filename":"src\/hotspot\/share\/asm\/codeBuffer.hpp","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -536,1 +536,1 @@\n-                                                 do_stub(opAllocObj->_stub);\n+      if (opAllocObj->_stub != nullptr)          do_stub(opAllocObj->_stub);\n@@ -836,1 +836,1 @@\n-                                                  do_stub(opTypeCheck->_stub);\n+      if (opTypeCheck->_stub != nullptr)          do_stub(opTypeCheck->_stub);\n@@ -845,15 +845,12 @@\n-      LIR_OpCompareAndSwap* opCompareAndSwap = (LIR_OpCompareAndSwap*)op;\n-\n-      assert(opCompareAndSwap->_addr->is_valid(),      \"used\");\n-      assert(opCompareAndSwap->_cmp_value->is_valid(), \"used\");\n-      assert(opCompareAndSwap->_new_value->is_valid(), \"used\");\n-      if (opCompareAndSwap->_info)                    do_info(opCompareAndSwap->_info);\n-                                                      do_input(opCompareAndSwap->_addr);\n-                                                      do_temp(opCompareAndSwap->_addr);\n-                                                      do_input(opCompareAndSwap->_cmp_value);\n-                                                      do_temp(opCompareAndSwap->_cmp_value);\n-                                                      do_input(opCompareAndSwap->_new_value);\n-                                                      do_temp(opCompareAndSwap->_new_value);\n-      if (opCompareAndSwap->_tmp1->is_valid())        do_temp(opCompareAndSwap->_tmp1);\n-      if (opCompareAndSwap->_tmp2->is_valid())        do_temp(opCompareAndSwap->_tmp2);\n-      if (opCompareAndSwap->_result->is_valid())      do_output(opCompareAndSwap->_result);\n+      LIR_OpCompareAndSwap* opCmpAndSwap = (LIR_OpCompareAndSwap*)op;\n+\n+      if (opCmpAndSwap->_info)                              do_info(opCmpAndSwap->_info);\n+      assert(opCmpAndSwap->_addr->is_valid(), \"used\");      do_input(opCmpAndSwap->_addr);\n+                                                            do_temp(opCmpAndSwap->_addr);\n+      assert(opCmpAndSwap->_cmp_value->is_valid(), \"used\"); do_input(opCmpAndSwap->_cmp_value);\n+                                                            do_temp(opCmpAndSwap->_cmp_value);\n+      assert(opCmpAndSwap->_new_value->is_valid(), \"used\"); do_input(opCmpAndSwap->_new_value);\n+                                                            do_temp(opCmpAndSwap->_new_value);\n+      if (opCmpAndSwap->_tmp1->is_valid())                  do_temp(opCmpAndSwap->_tmp1);\n+      if (opCmpAndSwap->_tmp2->is_valid())                  do_temp(opCmpAndSwap->_tmp2);\n+      if (opCmpAndSwap->_result->is_valid())                do_output(opCmpAndSwap->_result);\n@@ -871,2 +868,6 @@\n-      if (opAllocArray->_klass->is_valid())           do_input(opAllocArray->_klass); do_temp(opAllocArray->_klass);\n-      if (opAllocArray->_len->is_valid())             do_input(opAllocArray->_len);   do_temp(opAllocArray->_len);\n+      if (opAllocArray->_klass->is_valid()) {         do_input(opAllocArray->_klass);\n+                                                      do_temp(opAllocArray->_klass);\n+                                            }\n+      if (opAllocArray->_len->is_valid())   {         do_input(opAllocArray->_len);\n+                                                      do_temp(opAllocArray->_len);\n+                                            }\n@@ -878,1 +879,1 @@\n-                                                      do_stub(opAllocArray->_stub);\n+      if (opAllocArray->_stub != nullptr)             do_stub(opAllocArray->_stub);\n","filename":"src\/hotspot\/share\/c1\/c1_LIR.cpp","additions":21,"deletions":20,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -1169,2 +1169,2 @@\n-                                   GrowableArray<ArchiveHeapOopmapInfo>* closed_heap_oopmaps,\n-                                   GrowableArray<ArchiveHeapOopmapInfo>* open_heap_oopmaps) {\n+                                   GrowableArray<ArchiveHeapBitmapInfo>* closed_heap_bitmaps,\n+                                   GrowableArray<ArchiveHeapBitmapInfo>* open_heap_bitmaps) {\n@@ -1179,1 +1179,1 @@\n-  char* bitmap = mapinfo->write_bitmap_region(ArchivePtrMarker::ptrmap(), closed_heap_oopmaps, open_heap_oopmaps,\n+  char* bitmap = mapinfo->write_bitmap_region(ArchivePtrMarker::ptrmap(), closed_heap_bitmaps, open_heap_bitmaps,\n@@ -1185,1 +1185,1 @@\n-                                        closed_heap_oopmaps,\n+                                        closed_heap_bitmaps,\n@@ -1190,1 +1190,1 @@\n-                                        open_heap_oopmaps,\n+                                        open_heap_bitmaps,\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.cpp","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-struct ArchiveHeapOopmapInfo;\n+struct ArchiveHeapBitmapInfo;\n@@ -409,2 +409,2 @@\n-                     GrowableArray<ArchiveHeapOopmapInfo>* closed_heap_oopmaps,\n-                     GrowableArray<ArchiveHeapOopmapInfo>* open_heap_oopmaps);\n+                     GrowableArray<ArchiveHeapBitmapInfo>* closed_heap_oopmaps,\n+                     GrowableArray<ArchiveHeapBitmapInfo>* open_heap_oopmaps);\n","filename":"src\/hotspot\/share\/cds\/archiveBuilder.hpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-    fill_failed_loaded_region();\n+    fill_failed_loaded_heap();\n@@ -83,1 +83,0 @@\n-  SystemDictionaryShared::update_archived_mirror_native_pointers();\n@@ -174,1 +173,1 @@\n-                                             int num_loaded_regions) {\n+                                                    int num_loaded_regions) {\n@@ -317,1 +316,1 @@\n-      \/\/ in fill_failed_loaded_region(), and it will eventually be GC'ed.\n+      \/\/ in fill_failed_loaded_heap(), and it will eventually be GC'ed.\n@@ -342,0 +341,1 @@\n+    r->set_mapped_base((char*)load_address);\n@@ -395,5 +395,5 @@\n-    HeapWord* bottom = (HeapWord*)_loaded_heap_bottom;\n-    HeapWord* top    = (HeapWord*)_loaded_heap_top;\n-\n-    MemRegion archive_space = MemRegion(bottom, top);\n-    Universe::heap()->complete_loaded_archive_space(archive_space);\n+    \/\/ These operations are needed only when the heap is loaded (not mapped).\n+    finish_loaded_heap();\n+    if (VerifyArchivedFields > 0) {\n+      verify_loaded_heap();\n+    }\n@@ -401,0 +401,2 @@\n+  patch_native_pointers();\n+}\n@@ -402,3 +404,7 @@\n-  if (VerifyArchivedFields <= 0 || !is_loaded()) {\n-    return;\n-  }\n+void ArchiveHeapLoader::finish_loaded_heap() {\n+  HeapWord* bottom = (HeapWord*)_loaded_heap_bottom;\n+  HeapWord* top    = (HeapWord*)_loaded_heap_top;\n+\n+  MemRegion archive_space = MemRegion(bottom, top);\n+  Universe::heap()->complete_loaded_archive_space(archive_space);\n+}\n@@ -406,0 +412,1 @@\n+void ArchiveHeapLoader::verify_loaded_heap() {\n@@ -427,1 +434,1 @@\n-void ArchiveHeapLoader::fill_failed_loaded_region() {\n+void ArchiveHeapLoader::fill_failed_loaded_heap() {\n@@ -437,0 +444,33 @@\n+class PatchNativePointers: public BitMapClosure {\n+  Metadata** _start;\n+\n+ public:\n+  PatchNativePointers(Metadata** start) : _start(start) {}\n+\n+  bool do_bit(size_t offset) {\n+    Metadata** p = _start + offset;\n+    *p = (Metadata*)(address(*p) + MetaspaceShared::relocation_delta());\n+    \/\/ Currently we have only Klass pointers in heap objects.\n+    \/\/ This needs to be relaxed when we support other types of native\n+    \/\/ pointers such as Method.\n+    assert(((Klass*)(*p))->is_klass(), \"must be\");\n+    return true;\n+  }\n+};\n+\n+void ArchiveHeapLoader::patch_native_pointers() {\n+  if (MetaspaceShared::relocation_delta() == 0) {\n+    return;\n+  }\n+\n+  for (int i = MetaspaceShared::first_archive_heap_region;\n+       i <= MetaspaceShared::last_archive_heap_region; i++) {\n+    FileMapRegion* r = FileMapInfo::current_info()->space_at(i);\n+    if (r->mapped_base() != NULL && r->has_ptrmap()) {\n+      log_info(cds, heap)(\"Patching native pointers in heap region %d\", i);\n+      BitMapView bm = r->ptrmap_view();\n+      PatchNativePointers patcher((Metadata**)r->mapped_base());\n+      bm.iterate(&patcher);\n+    }\n+  }\n+}\n","filename":"src\/hotspot\/share\/cds\/archiveHeapLoader.cpp","additions":53,"deletions":13,"binary":false,"changes":66,"status":"modified"},{"patch":"@@ -149,1 +149,4 @@\n-  static void fill_failed_loaded_region();\n+  static void patch_native_pointers();\n+  static void finish_loaded_heap();\n+  static void verify_loaded_heap();\n+  static void fill_failed_loaded_heap();\n","filename":"src\/hotspot\/share\/cds\/archiveHeapLoader.hpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -1495,0 +1495,23 @@\n+void FileMapRegion::init_bitmaps(ArchiveHeapBitmapInfo oopmap, ArchiveHeapBitmapInfo ptrmap) {\n+  _oopmap_offset = oopmap._bm_region_offset;\n+  _oopmap_size_in_bits = oopmap._size_in_bits;\n+\n+  _ptrmap_offset = ptrmap._bm_region_offset;\n+  _ptrmap_size_in_bits = ptrmap._size_in_bits;\n+}\n+\n+BitMapView FileMapRegion::bitmap_view(bool is_oopmap) {\n+  char* bitmap_base = FileMapInfo::current_info()->map_bitmap_region();\n+  bitmap_base += is_oopmap ? _oopmap_offset : _ptrmap_offset;\n+  size_t size_in_bits = is_oopmap ? _oopmap_size_in_bits : _ptrmap_size_in_bits;\n+  return BitMapView((BitMap::bm_word_t*)(bitmap_base), size_in_bits);\n+}\n+\n+BitMapView FileMapRegion::oopmap_view() {\n+  return bitmap_view(true);\n+}\n+\n+BitMapView FileMapRegion::ptrmap_view() {\n+  assert(has_ptrmap(), \"must be\");\n+  return bitmap_view(false);\n+}\n@@ -1569,4 +1592,4 @@\n-size_t FileMapInfo::set_oopmaps_offset(GrowableArray<ArchiveHeapOopmapInfo>* oopmaps, size_t curr_size) {\n-  for (int i = 0; i < oopmaps->length(); i++) {\n-    oopmaps->at(i)._offset = curr_size;\n-    curr_size += oopmaps->at(i)._oopmap_size_in_bytes;\n+size_t FileMapInfo::set_bitmaps_offset(GrowableArray<ArchiveHeapBitmapInfo>* bitmaps, size_t curr_size) {\n+  for (int i = 0; i < bitmaps->length(); i++) {\n+    bitmaps->at(i)._bm_region_offset = curr_size;\n+    curr_size += bitmaps->at(i)._size_in_bytes;\n@@ -1577,4 +1600,4 @@\n-size_t FileMapInfo::write_oopmaps(GrowableArray<ArchiveHeapOopmapInfo>* oopmaps, size_t curr_offset, char* buffer) {\n-  for (int i = 0; i < oopmaps->length(); i++) {\n-    memcpy(buffer + curr_offset, oopmaps->at(i)._oopmap, oopmaps->at(i)._oopmap_size_in_bytes);\n-    curr_offset += oopmaps->at(i)._oopmap_size_in_bytes;\n+size_t FileMapInfo::write_bitmaps(GrowableArray<ArchiveHeapBitmapInfo>* bitmaps, size_t curr_offset, char* buffer) {\n+  for (int i = 0; i < bitmaps->length(); i++) {\n+    memcpy(buffer + curr_offset, bitmaps->at(i)._map, bitmaps->at(i)._size_in_bytes);\n+    curr_offset += bitmaps->at(i)._size_in_bytes;\n@@ -1586,2 +1609,2 @@\n-                                       GrowableArray<ArchiveHeapOopmapInfo>* closed_oopmaps,\n-                                       GrowableArray<ArchiveHeapOopmapInfo>* open_oopmaps,\n+                                       GrowableArray<ArchiveHeapBitmapInfo>* closed_bitmaps,\n+                                       GrowableArray<ArchiveHeapBitmapInfo>* open_bitmaps,\n@@ -1592,3 +1615,3 @@\n-  if (closed_oopmaps != NULL && open_oopmaps != NULL) {\n-    size_in_bytes = set_oopmaps_offset(closed_oopmaps, size_in_bytes);\n-    size_in_bytes = set_oopmaps_offset(open_oopmaps, size_in_bytes);\n+  if (closed_bitmaps != NULL && open_bitmaps != NULL) {\n+    size_in_bytes = set_bitmaps_offset(closed_bitmaps, size_in_bytes);\n+    size_in_bytes = set_bitmaps_offset(open_bitmaps, size_in_bytes);\n@@ -1601,3 +1624,3 @@\n-  if (closed_oopmaps != NULL && open_oopmaps != NULL) {\n-    size_t curr_offset = write_oopmaps(closed_oopmaps, ptrmap->size_in_bytes(), buffer);\n-    write_oopmaps(open_oopmaps, curr_offset, buffer);\n+  if (closed_bitmaps != NULL && open_bitmaps != NULL) {\n+    size_t curr_offset = write_bitmaps(closed_bitmaps, ptrmap->size_in_bytes(), buffer);\n+    write_bitmaps(open_bitmaps, curr_offset, buffer);\n@@ -1642,1 +1665,1 @@\n-                                       GrowableArray<ArchiveHeapOopmapInfo>* oopmaps,\n+                                       GrowableArray<ArchiveHeapBitmapInfo>* bitmaps,\n@@ -1668,2 +1691,4 @@\n-      space_at(region_idx)->init_oopmap(oopmaps->at(i)._offset,\n-                                        oopmaps->at(i)._oopmap_size_in_bits);\n+      int oopmap_idx = i * 2;\n+      int ptrmap_idx = i * 2 + 1;\n+      space_at(region_idx)->init_bitmaps(bitmaps->at(oopmap_idx),\n+                                         bitmaps->at(ptrmap_idx));\n@@ -2310,0 +2335,2 @@\n+\n+    si->set_mapped_base(base);\n","filename":"src\/hotspot\/share\/cds\/filemap.cpp","additions":46,"deletions":19,"binary":false,"changes":65,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+class BitMapView;\n@@ -105,5 +106,5 @@\n-struct ArchiveHeapOopmapInfo {\n-  address _oopmap;               \/\/ bitmap for relocating embedded oops\n-  size_t  _offset;               \/\/ this oopmap is stored at this offset from the bottom of the BM region\n-  size_t  _oopmap_size_in_bits;\n-  size_t  _oopmap_size_in_bytes;\n+struct ArchiveHeapBitmapInfo {\n+  address _map;               \/\/ bitmap for relocating embedded oops\n+  size_t  _bm_region_offset;  \/\/ this bitmap is stored at this offset from the bottom of the BM region\n+  size_t  _size_in_bits;\n+  size_t  _size_in_bytes;\n@@ -140,0 +141,1 @@\n+  BitMapView bitmap_view(bool is_oopmap);\n@@ -159,1 +161,1 @@\n-  char*  mapped_base()              const { assert_is_not_heap_region(); return _mapped_base; }\n+  char*  mapped_base()              const { return _mapped_base; }\n@@ -173,5 +175,4 @@\n-\n-  void init_oopmap(size_t oopmap_offset, size_t size_in_bits) {\n-    _oopmap_offset = oopmap_offset;\n-    _oopmap_size_in_bits = size_in_bits;\n-  }\n+  void init_bitmaps(ArchiveHeapBitmapInfo oopmap, ArchiveHeapBitmapInfo ptrmap);\n+  BitMapView oopmap_view();\n+  BitMapView ptrmap_view();\n+  bool has_ptrmap()                  { return _ptrmap_size_in_bits != 0; }\n@@ -447,2 +448,2 @@\n-                            GrowableArray<ArchiveHeapOopmapInfo>* closed_oopmaps,\n-                            GrowableArray<ArchiveHeapOopmapInfo>* open_oopmaps,\n+                            GrowableArray<ArchiveHeapBitmapInfo>* closed_bitmaps,\n+                            GrowableArray<ArchiveHeapBitmapInfo>* open_bitmaps,\n@@ -451,1 +452,1 @@\n-                            GrowableArray<ArchiveHeapOopmapInfo>* oopmaps,\n+                            GrowableArray<ArchiveHeapBitmapInfo>* bitmaps,\n@@ -576,2 +577,2 @@\n-  static size_t set_oopmaps_offset(GrowableArray<ArchiveHeapOopmapInfo> *oopmaps, size_t curr_size);\n-  static size_t write_oopmaps(GrowableArray<ArchiveHeapOopmapInfo> *oopmaps, size_t curr_offset, char* buffer);\n+  static size_t set_bitmaps_offset(GrowableArray<ArchiveHeapBitmapInfo> *bitmaps, size_t curr_size);\n+  static size_t write_bitmaps(GrowableArray<ArchiveHeapBitmapInfo> *bitmaps, size_t curr_offset, char* buffer);\n","filename":"src\/hotspot\/share\/cds\/filemap.hpp","additions":17,"deletions":16,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -85,0 +85,1 @@\n+GrowableArrayCHeap<Metadata**, mtClassShared>* HeapShared::_native_pointers = NULL;\n@@ -323,0 +324,1 @@\n+    mark_native_pointers(obj, archived_oop);\n@@ -356,0 +358,26 @@\n+void HeapShared::mark_native_pointers(oop orig_obj, oop archived_obj) {\n+  if (java_lang_Class::is_instance(orig_obj)) {\n+    mark_one_native_pointer(archived_obj, java_lang_Class::klass_offset());\n+    mark_one_native_pointer(archived_obj, java_lang_Class::array_klass_offset());\n+  }\n+}\n+\n+void HeapShared::mark_one_native_pointer(oop archived_obj, int offset) {\n+  Metadata* ptr = archived_obj->metadata_field_acquire(offset);\n+  if (ptr != NULL) {\n+    \/\/ Set the native pointer to the requested address (at runtime, if the metadata\n+    \/\/ is mapped at the default location, it will be at this address).\n+    address buffer_addr = ArchiveBuilder::current()->get_buffered_addr((address)ptr);\n+    address requested_addr = ArchiveBuilder::current()->to_requested(buffer_addr);\n+    archived_obj->metadata_field_put(offset, (Metadata*)requested_addr);\n+\n+    \/\/ Remember this pointer. At runtime, if the metadata is mapped at a non-default\n+    \/\/ location, the pointer needs to be patched (see ArchiveHeapLoader::patch_native_pointers()).\n+    _native_pointers->append(archived_obj->field_addr<Metadata*>(offset));\n+\n+    log_debug(cds, heap, mirror)(\n+        \"Marked metadata field at %d: \" PTR_FORMAT \" ==> \" PTR_FORMAT,\n+         offset, p2i(ptr), p2i(requested_addr));\n+  }\n+}\n+\n@@ -1635,0 +1663,1 @@\n+    _native_pointers = new GrowableArrayCHeap<Metadata**, mtClassShared>(2048);\n@@ -1800,0 +1829,29 @@\n+\n+ResourceBitMap HeapShared::calculate_ptrmap(MemRegion region) {\n+  size_t num_bits = region.byte_size() \/ sizeof(Metadata*);\n+  ResourceBitMap oopmap(num_bits);\n+\n+  Metadata** start = (Metadata**)region.start();\n+  Metadata** end   = (Metadata**)region.end();\n+\n+  int num_non_null_ptrs = 0;\n+  int len = _native_pointers->length();\n+  for (int i = 0; i < len; i++) {\n+    Metadata** p = _native_pointers->at(i);\n+    if (start <= p && p < end) {\n+      assert(*p != NULL, \"must be non-null\");\n+      num_non_null_ptrs ++;\n+      size_t idx = p - start;\n+      oopmap.set_bit(idx);\n+    }\n+  }\n+\n+  log_info(cds, heap)(\"calculate_ptrmap: marked %d non-null native pointers out of \"\n+                      SIZE_FORMAT \" possible locations\", num_non_null_ptrs, num_bits);\n+  if (num_non_null_ptrs > 0) {\n+    return oopmap;\n+  } else {\n+    return ResourceBitMap(0);\n+  }\n+}\n+\n","filename":"src\/hotspot\/share\/cds\/heapShared.cpp","additions":58,"deletions":0,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -163,0 +163,1 @@\n+  static GrowableArrayCHeap<Metadata**, mtClassShared>* _native_pointers;\n@@ -314,0 +315,2 @@\n+  static void mark_native_pointers(oop orig_obj, oop archived_obj);\n+  static void mark_one_native_pointer(oop archived_obj, int offset);\n@@ -362,1 +365,2 @@\n-  static ResourceBitMap calculate_oopmap(MemRegion region);\n+  static ResourceBitMap calculate_oopmap(MemRegion region); \/\/ marks all the oop pointers\n+  static ResourceBitMap calculate_ptrmap(MemRegion region); \/\/ marks all the native pointers\n","filename":"src\/hotspot\/share\/cds\/heapShared.hpp","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -441,2 +441,2 @@\n-  GrowableArray<ArchiveHeapOopmapInfo> *_closed_heap_oopmaps;\n-  GrowableArray<ArchiveHeapOopmapInfo> *_open_heap_oopmaps;\n+  GrowableArray<ArchiveHeapBitmapInfo> *_closed_heap_bitmaps;\n+  GrowableArray<ArchiveHeapBitmapInfo> *_open_heap_bitmaps;\n@@ -445,3 +445,5 @@\n-  void dump_heap_oopmaps() NOT_CDS_JAVA_HEAP_RETURN;\n-  void dump_heap_oopmaps(GrowableArray<MemRegion>* regions,\n-                                 GrowableArray<ArchiveHeapOopmapInfo>* oopmaps);\n+  void dump_heap_bitmaps() NOT_CDS_JAVA_HEAP_RETURN;\n+  void dump_heap_bitmaps(GrowableArray<MemRegion>* regions,\n+                         GrowableArray<ArchiveHeapBitmapInfo>* bitmaps);\n+  void dump_one_heap_bitmap(MemRegion region, GrowableArray<ArchiveHeapBitmapInfo>* bitmaps,\n+                            ResourceBitMap bitmap, bool is_oopmap);\n@@ -460,2 +462,2 @@\n-    _closed_heap_oopmaps(NULL),\n-    _open_heap_oopmaps(NULL) {}\n+    _closed_heap_bitmaps(NULL),\n+    _open_heap_bitmaps(NULL) {}\n@@ -507,1 +509,1 @@\n-  dump_heap_oopmaps();\n+  dump_heap_bitmaps();\n@@ -569,2 +571,2 @@\n-                        _closed_heap_oopmaps,\n-                        _open_heap_oopmaps);\n+                        _closed_heap_bitmaps,\n+                        _open_heap_bitmaps);\n@@ -902,1 +904,1 @@\n-void VM_PopulateDumpSharedSpace::dump_heap_oopmaps() {\n+void VM_PopulateDumpSharedSpace::dump_heap_bitmaps() {\n@@ -904,2 +906,2 @@\n-    _closed_heap_oopmaps = new GrowableArray<ArchiveHeapOopmapInfo>(2);\n-    dump_heap_oopmaps(_closed_heap_regions, _closed_heap_oopmaps);\n+    _closed_heap_bitmaps = new GrowableArray<ArchiveHeapBitmapInfo>(2);\n+    dump_heap_bitmaps(_closed_heap_regions, _closed_heap_bitmaps);\n@@ -907,2 +909,2 @@\n-    _open_heap_oopmaps = new GrowableArray<ArchiveHeapOopmapInfo>(2);\n-    dump_heap_oopmaps(_open_heap_regions, _open_heap_oopmaps);\n+    _open_heap_bitmaps = new GrowableArray<ArchiveHeapBitmapInfo>(2);\n+    dump_heap_bitmaps(_open_heap_regions, _open_heap_bitmaps);\n@@ -912,18 +914,8 @@\n-void VM_PopulateDumpSharedSpace::dump_heap_oopmaps(GrowableArray<MemRegion>* regions,\n-                                                   GrowableArray<ArchiveHeapOopmapInfo>* oopmaps) {\n-  for (int i=0; i<regions->length(); i++) {\n-    ResourceBitMap oopmap = HeapShared::calculate_oopmap(regions->at(i));\n-    size_t size_in_bits = oopmap.size();\n-    size_t size_in_bytes = oopmap.size_in_bytes();\n-    uintptr_t* buffer = (uintptr_t*)NEW_C_HEAP_ARRAY(char, size_in_bytes, mtInternal);\n-    oopmap.write_to(buffer, size_in_bytes);\n-    log_info(cds, heap)(\"Oopmap = \" INTPTR_FORMAT \" (\" SIZE_FORMAT_W(6) \" bytes) for heap region \"\n-                        INTPTR_FORMAT \" (\" SIZE_FORMAT_W(8) \" bytes)\",\n-                        p2i(buffer), size_in_bytes,\n-                        p2i(regions->at(i).start()), regions->at(i).byte_size());\n-\n-    ArchiveHeapOopmapInfo info;\n-    info._oopmap = (address)buffer;\n-    info._oopmap_size_in_bits = size_in_bits;\n-    info._oopmap_size_in_bytes = size_in_bytes;\n-    oopmaps->append(info);\n+void VM_PopulateDumpSharedSpace::dump_heap_bitmaps(GrowableArray<MemRegion>* regions,\n+                                                   GrowableArray<ArchiveHeapBitmapInfo>* bitmaps) {\n+  for (int i = 0; i < regions->length(); i++) {\n+    MemRegion region = regions->at(i);\n+    ResourceBitMap oopmap = HeapShared::calculate_oopmap(region);\n+    ResourceBitMap ptrmap = HeapShared::calculate_ptrmap(region);\n+    dump_one_heap_bitmap(region, bitmaps, oopmap, true);\n+    dump_one_heap_bitmap(region, bitmaps, ptrmap, false);\n@@ -932,0 +924,29 @@\n+\n+void VM_PopulateDumpSharedSpace::dump_one_heap_bitmap(MemRegion region,\n+                                                      GrowableArray<ArchiveHeapBitmapInfo>* bitmaps,\n+                                                      ResourceBitMap bitmap, bool is_oopmap) {\n+  size_t size_in_bits = bitmap.size();\n+  size_t size_in_bytes;\n+  uintptr_t* buffer;\n+\n+  if (size_in_bits > 0) {\n+    size_in_bytes = bitmap.size_in_bytes();\n+    buffer = (uintptr_t*)NEW_C_HEAP_ARRAY(char, size_in_bytes, mtInternal);\n+    bitmap.write_to(buffer, size_in_bytes);\n+  } else {\n+    size_in_bytes = 0;\n+    buffer = NULL;\n+  }\n+\n+  log_info(cds, heap)(\"%s = \" INTPTR_FORMAT \" (\" SIZE_FORMAT_W(6) \" bytes) for heap region \"\n+                      INTPTR_FORMAT \" (\" SIZE_FORMAT_W(8) \" bytes)\",\n+                      is_oopmap ? \"Oopmap\" : \"Ptrmap\",\n+                      p2i(buffer), size_in_bytes,\n+                      p2i(region.start()), region.byte_size());\n+\n+  ArchiveHeapBitmapInfo info;\n+  info._map = (address)buffer;\n+  info._size_in_bits = size_in_bits;\n+  info._size_in_bytes = size_in_bytes;\n+  bitmaps->append(info);\n+}\n","filename":"src\/hotspot\/share\/cds\/metaspaceShared.cpp","additions":54,"deletions":33,"binary":false,"changes":87,"status":"modified"},{"patch":"@@ -607,1 +607,0 @@\n-  bool resizable = false;\n@@ -610,1 +609,0 @@\n-    resizable = true;\n@@ -615,1 +613,0 @@\n-    resizable = true;\n@@ -618,1 +615,0 @@\n-    resizable = true;\n@@ -620,4 +616,1 @@\n-  if (!DynamicallyResizeSystemDictionaries || DumpSharedSpaces) {\n-    resizable = false;\n-  }\n-  return new Dictionary(this, size, resizable);\n+  return new Dictionary(this, size);\n","filename":"src\/hotspot\/share\/classfile\/classLoaderData.cpp","additions":1,"deletions":8,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -56,2 +56,2 @@\n-Dictionary::Dictionary(ClassLoaderData* loader_data, size_t table_size, bool resizable)\n-  : _resizable(resizable), _number_of_entries(0), _loader_data(loader_data) {\n+Dictionary::Dictionary(ClassLoaderData* loader_data, size_t table_size)\n+  : _number_of_entries(0), _loader_data(loader_data) {\n@@ -107,2 +107,1 @@\n-  return (_resizable &&\n-         (_number_of_entries > (_resize_load_trigger * table_size())) &&\n+  return ((_number_of_entries > (_resize_load_trigger * table_size())) &&\n@@ -483,2 +482,2 @@\n-  st->print_cr(\"Java dictionary (table_size=%d, classes=%d, resizable=%s)\",\n-               table_size(), _number_of_entries, BOOL_TO_STR(_resizable));\n+  st->print_cr(\"Java dictionary (table_size=%d, classes=%d)\",\n+               table_size(), _number_of_entries);\n","filename":"src\/hotspot\/share\/classfile\/dictionary.cpp","additions":5,"deletions":6,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-  bool _resizable;\n@@ -66,1 +65,1 @@\n-  Dictionary(ClassLoaderData* loader_data, size_t table_size, bool resizable = false);\n+  Dictionary(ClassLoaderData* loader_data, size_t table_size);\n","filename":"src\/hotspot\/share\/classfile\/dictionary.hpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1120,15 +1120,0 @@\n-static void set_klass_field_in_archived_mirror(oop mirror_obj, int offset, Klass* k) {\n-  assert(java_lang_Class::is_instance(mirror_obj), \"must be\");\n-  \/\/ this is the copy of k in the output buffer\n-  Klass* copy = ArchiveBuilder::get_buffered_klass(k);\n-\n-  \/\/ This is the address of k, if the archive is loaded at the requested location\n-  Klass* def = ArchiveBuilder::current()->to_requested(copy);\n-\n-  log_debug(cds, heap, mirror)(\n-      \"Relocate mirror metadata field at %d from \" PTR_FORMAT \" ==> \" PTR_FORMAT,\n-      offset, p2i(k), p2i(def));\n-\n-  mirror_obj->metadata_field_put(offset, def);\n-}\n-\n@@ -1145,5 +1130,0 @@\n-      Klass *ak = (Klass*)(archived_m->metadata_field(_array_klass_offset));\n-      assert(ak != NULL || t == T_VOID, \"should not be NULL\");\n-      if (ak != NULL) {\n-        set_klass_field_in_archived_mirror(archived_m, _array_klass_offset, ak);\n-      }\n@@ -1263,11 +1243,0 @@\n-  \/\/ The archived mirror's field at _klass_offset is still pointing to the original\n-  \/\/ klass. Updated the field in the archived mirror to point to the relocated\n-  \/\/ klass in the archive.\n-  set_klass_field_in_archived_mirror(archived_mirror, _klass_offset, as_Klass(mirror));\n-\n-  \/\/ The field at _array_klass_offset is pointing to the original one dimension\n-  \/\/ higher array klass if exists. Relocate the pointer.\n-  Klass *arr = array_klass_acquire(mirror);\n-  if (arr != NULL) {\n-    set_klass_field_in_archived_mirror(archived_mirror, _array_klass_offset, arr);\n-  }\n@@ -1277,27 +1246,0 @@\n-void java_lang_Class::update_archived_primitive_mirror_native_pointers(oop archived_mirror) {\n-  if (MetaspaceShared::relocation_delta() != 0) {\n-    assert(archived_mirror->metadata_field(_klass_offset) == NULL, \"must be for primitive class\");\n-\n-    Klass* ak = ((Klass*)archived_mirror->metadata_field(_array_klass_offset));\n-    if (ak != NULL) {\n-      archived_mirror->metadata_field_put(_array_klass_offset,\n-          (Klass*)(address(ak) + MetaspaceShared::relocation_delta()));\n-    }\n-  }\n-}\n-\n-void java_lang_Class::update_archived_mirror_native_pointers(oop archived_mirror) {\n-  assert(MetaspaceShared::relocation_delta() != 0, \"must be\");\n-\n-  Klass* k = ((Klass*)archived_mirror->metadata_field(_klass_offset));\n-  archived_mirror->metadata_field_put(_klass_offset,\n-      (Klass*)(address(k) + MetaspaceShared::relocation_delta()));\n-\n-  Klass* ak = ((Klass*)archived_mirror->metadata_field(_array_klass_offset));\n-  if (ak != NULL) {\n-    archived_mirror->metadata_field_put(_array_klass_offset,\n-        (Klass*)(address(ak) + MetaspaceShared::relocation_delta()));\n-  }\n-}\n-\n-\n@@ -3907,1 +3849,3 @@\n-  if (!ik->is_initialized())  ik->initialize(CHECK_NULL);\n+  if (!ik->is_initialized()) {\n+    ik->initialize(CHECK_NULL);\n+  }\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.cpp","additions":3,"deletions":59,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -256,2 +256,0 @@\n-  static void update_archived_primitive_mirror_native_pointers(oop archived_mirror) NOT_CDS_JAVA_HEAP_RETURN;\n-  static void update_archived_mirror_native_pointers(oop archived_mirror) NOT_CDS_JAVA_HEAP_RETURN;\n","filename":"src\/hotspot\/share\/classfile\/javaClasses.hpp","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -611,1 +611,0 @@\n-  assert(event->should_commit(), \"invariant\");\n","filename":"src\/hotspot\/share\/classfile\/systemDictionary.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1553,70 +1553,0 @@\n-\n-#if INCLUDE_CDS_JAVA_HEAP\n-\n-class ArchivedMirrorPatcher {\n-protected:\n-  static void update(Klass* k) {\n-    if (k->has_archived_mirror_index()) {\n-      oop m = k->archived_java_mirror();\n-      if (m != NULL) {\n-        java_lang_Class::update_archived_mirror_native_pointers(m);\n-      }\n-    }\n-  }\n-\n-public:\n-  static void update_array_klasses(Klass* ak) {\n-    while (ak != NULL) {\n-      update(ak);\n-      ak = ArrayKlass::cast(ak)->higher_dimension();\n-    }\n-  }\n-\n-  void do_value(const RunTimeClassInfo* info) {\n-    InstanceKlass* ik = info->_klass;\n-    update(ik);\n-    update_array_klasses(ik->array_klasses());\n-  }\n-};\n-\n-class ArchivedLambdaMirrorPatcher : public ArchivedMirrorPatcher {\n-public:\n-  void do_value(const RunTimeLambdaProxyClassInfo* info) {\n-    InstanceKlass* ik = info->proxy_klass_head();\n-    while (ik != NULL) {\n-      update(ik);\n-      Klass* k = ik->next_link();\n-      ik = (k != NULL) ? InstanceKlass::cast(k) : NULL;\n-    }\n-  }\n-};\n-\n-void SystemDictionaryShared::update_archived_mirror_native_pointers_for(RunTimeSharedDictionary* dict) {\n-  ArchivedMirrorPatcher patcher;\n-  dict->iterate(&patcher);\n-}\n-\n-void SystemDictionaryShared::update_archived_mirror_native_pointers_for(LambdaProxyClassDictionary* dict) {\n-  ArchivedLambdaMirrorPatcher patcher;\n-  dict->iterate(&patcher);\n-}\n-\n-void SystemDictionaryShared::update_archived_mirror_native_pointers() {\n-  if (!ArchiveHeapLoader::are_archived_mirrors_available()) {\n-    return;\n-  }\n-  if (MetaspaceShared::relocation_delta() == 0) {\n-    return;\n-  }\n-  \/\/ mirrors are not archived for the classes in the dynamic archive\n-  update_archived_mirror_native_pointers_for(&_static_archive._builtin_dictionary);\n-  update_archived_mirror_native_pointers_for(&_static_archive._unregistered_dictionary);\n-  update_archived_mirror_native_pointers_for(&_static_archive._lambda_proxy_class_dictionary);\n-\n-  for (int t = T_BOOLEAN; t <= T_LONG; t++) {\n-    Klass* k = Universe::typeArrayKlassObj((BasicType)t);\n-    ArchivedMirrorPatcher::update_array_klasses(k);\n-  }\n-  ArchivedMirrorPatcher::update_array_klasses(Universe::fillerArrayKlassObj());\n-}\n-#endif\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.cpp","additions":0,"deletions":70,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -349,8 +349,0 @@\n-\n-#if INCLUDE_CDS_JAVA_HEAP\n-private:\n-  static void update_archived_mirror_native_pointers_for(RunTimeSharedDictionary* dict);\n-  static void update_archived_mirror_native_pointers_for(LambdaProxyClassDictionary* dict);\n-public:\n-  static void update_archived_mirror_native_pointers() NOT_CDS_RETURN;\n-#endif\n","filename":"src\/hotspot\/share\/classfile\/systemDictionaryShared.hpp","additions":0,"deletions":8,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1181,0 +1181,12 @@\n+                                                                                                                                               \\\n+  do_intrinsic(_IndexVector, jdk_internal_vm_vector_VectorSupport, index_vector_op_name, index_vector_op_sig, F_S)                             \\\n+    do_signature(index_vector_op_sig, \"(Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"I\"                                                                                                     \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                         \\\n+                                       \"I\"                                                                                                     \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                                                  \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$IndexOperation;)\"                                                \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                        \\\n+    do_name(index_vector_op_name, \"indexVector\")                                                                                               \\\n+                                                                                                                                               \\\n@@ -1289,1 +1301,1 @@\n-  LAST_COMPILER_INLINE = _VectorCompressExpand,\n+  LAST_COMPILER_INLINE = _IndexVector,\n","filename":"src\/hotspot\/share\/classfile\/vmIntrinsics.hpp","additions":13,"deletions":1,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -993,1 +993,1 @@\n-    EventJitRestart event;\n+    EventJITRestart event;\n","filename":"src\/hotspot\/share\/code\/codeCache.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2096,1 +2096,4 @@\n-  if (PrintCompilation) {\n+  elapsedTimer time;\n+\n+  DirectiveSet* directive = task->directive();\n+  if (directive->PrintCompilationOption) {\n@@ -2100,1 +2103,0 @@\n-  elapsedTimer time;\n@@ -2117,2 +2119,0 @@\n-\n-  DirectiveSet* directive;\n@@ -2125,1 +2125,0 @@\n-    assert(!method->is_native(), \"no longer compile natives\");\n@@ -2127,3 +2126,1 @@\n-    \/\/ Look up matching directives\n-    directive = DirectivesStack::getMatchingDirective(method, comp);\n-    task->set_directive(directive);\n+    assert(!method->is_native(), \"no longer compile natives\");\n","filename":"src\/hotspot\/share\/compiler\/compileBroker.cpp","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -120,1 +120,2 @@\n-  _directive = NULL;\n+  AbstractCompiler* comp = compiler();\n+  _directive = DirectivesStack::getMatchingDirective(method, comp);\n","filename":"src\/hotspot\/share\/compiler\/compileTask.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -89,1 +89,1 @@\n-  const DirectiveSet*  _directive;\n+  DirectiveSet*  _directive;\n@@ -130,2 +130,1 @@\n-  void         set_directive(const DirectiveSet* directive) { _directive = directive; }\n-  const DirectiveSet* directive() const          { return _directive; }\n+  DirectiveSet* directive() const                { return _directive; }\n","filename":"src\/hotspot\/share\/compiler\/compileTask.hpp","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -45,0 +45,1 @@\n+    cflags(PrintCompilation,        bool, PrintCompilation, PrintCompilation) \\\n","filename":"src\/hotspot\/share\/compiler\/compilerDirectives.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -61,0 +61,1 @@\n+  option(PrintCompilation, \"PrintCompilation\", Bool) \\\n","filename":"src\/hotspot\/share\/compiler\/compilerOracle.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Red Hat, Inc. All rights reserved.\n+ * Copyright (c) 2017, 2022, Red Hat, Inc. All rights reserved.\n@@ -77,4 +77,0 @@\n-void EpsilonHeap::post_initialize() {\n-  CollectedHeap::post_initialize();\n-}\n-\n","filename":"src\/hotspot\/share\/gc\/epsilon\/epsilonHeap.cpp","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -72,1 +72,0 @@\n-  virtual void post_initialize();\n","filename":"src\/hotspot\/share\/gc\/epsilon\/epsilonHeap.hpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -81,1 +81,2 @@\n-    _rs_length_diff_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _young_rs_length_diff_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _mixed_rs_length_diff_seq(new TruncatedSeq(TruncatedSeqLength)),\n@@ -84,2 +85,3 @@\n-    _young_card_merge_to_scan_ratio_seq(new TruncatedSeq(TruncatedSeqLength)),\n-    _mixed_card_merge_to_scan_ratio_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _dirtied_cards_in_thread_buffers_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _young_card_scan_to_merge_ratio_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _mixed_card_scan_to_merge_ratio_seq(new TruncatedSeq(TruncatedSeqLength)),\n@@ -94,2 +96,4 @@\n-    _pending_cards_seq(new TruncatedSeq(TruncatedSeqLength)),\n-    _rs_length_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _young_pending_cards_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _mixed_pending_cards_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _young_rs_length_seq(new TruncatedSeq(TruncatedSeqLength)),\n+    _mixed_rs_length_seq(new TruncatedSeq(TruncatedSeqLength)),\n@@ -107,1 +111,1 @@\n-  _rs_length_diff_seq->add(rs_length_diff_defaults[index]);\n+  _young_rs_length_diff_seq->add(rs_length_diff_defaults[index]);\n@@ -112,1 +116,1 @@\n-  _young_card_merge_to_scan_ratio_seq->add(young_card_merge_to_scan_ratio_defaults[index]);\n+  _young_card_scan_to_merge_ratio_seq->add(young_card_merge_to_scan_ratio_defaults[index]);\n@@ -172,2 +176,6 @@\n-void G1Analytics::report_cost_per_card_scan_ms(double cost_per_card_ms, bool for_young_gc) {\n-  if (for_young_gc) {\n+void G1Analytics::report_dirtied_cards_in_thread_buffers(size_t cards) {\n+  _dirtied_cards_in_thread_buffers_seq->add(double(cards));\n+}\n+\n+void G1Analytics::report_cost_per_card_scan_ms(double cost_per_card_ms, bool for_young_only_phase) {\n+  if  (for_young_only_phase) {\n@@ -180,2 +188,2 @@\n-void G1Analytics::report_cost_per_card_merge_ms(double cost_per_card_ms, bool for_young_gc) {\n-  if (for_young_gc) {\n+void G1Analytics::report_cost_per_card_merge_ms(double cost_per_card_ms, bool for_young_only_phase) {\n+  if  (for_young_only_phase) {\n@@ -188,3 +196,3 @@\n-void G1Analytics::report_card_merge_to_scan_ratio(double merge_to_scan_ratio, bool for_young_gc) {\n-  if (for_young_gc) {\n-    _young_card_merge_to_scan_ratio_seq->add(merge_to_scan_ratio);\n+void G1Analytics::report_card_scan_to_merge_ratio(double merge_to_scan_ratio, bool for_young_only_phase) {\n+  if (for_young_only_phase) {\n+    _young_card_scan_to_merge_ratio_seq->add(merge_to_scan_ratio);\n@@ -192,1 +200,1 @@\n-    _mixed_card_merge_to_scan_ratio_seq->add(merge_to_scan_ratio);\n+    _mixed_card_scan_to_merge_ratio_seq->add(merge_to_scan_ratio);\n@@ -196,2 +204,6 @@\n-void G1Analytics::report_rs_length_diff(double rs_length_diff) {\n-  _rs_length_diff_seq->add(rs_length_diff);\n+void G1Analytics::report_rs_length_diff(double rs_length_diff, bool for_young_only_phase) {\n+  if  (for_young_only_phase) {\n+    _young_rs_length_diff_seq->add(rs_length_diff);\n+  } else {\n+    _mixed_rs_length_diff_seq->add(rs_length_diff);\n+  }\n@@ -220,2 +232,6 @@\n-void G1Analytics::report_pending_cards(double pending_cards) {\n-  _pending_cards_seq->add(pending_cards);\n+void G1Analytics::report_pending_cards(double pending_cards, bool for_young_only_phase) {\n+  if  (for_young_only_phase) {\n+    _young_pending_cards_seq->add(pending_cards);\n+  } else {\n+    _mixed_pending_cards_seq->add(pending_cards);\n+  }\n@@ -224,2 +240,6 @@\n-void G1Analytics::report_rs_length(double rs_length) {\n-  _rs_length_seq->add(rs_length);\n+void G1Analytics::report_rs_length(double rs_length, bool for_young_only_phase) {\n+  if  (for_young_only_phase) {\n+    _young_rs_length_seq->add(rs_length);\n+  } else {\n+    _mixed_rs_length_seq->add(rs_length);\n+  }\n@@ -244,3 +264,7 @@\n-size_t G1Analytics::predict_scan_card_num(size_t rs_length, bool for_young_gc) const {\n-  if (for_young_gc || !enough_samples_available(_mixed_card_merge_to_scan_ratio_seq)) {\n-    return (size_t)(rs_length * predict_in_unit_interval(_young_card_merge_to_scan_ratio_seq));\n+size_t G1Analytics::predict_dirtied_cards_in_thread_buffers() const {\n+  return predict_size(_dirtied_cards_in_thread_buffers_seq);\n+}\n+\n+size_t G1Analytics::predict_scan_card_num(size_t rs_length, bool for_young_only_phase) const {\n+  if (for_young_only_phase || !enough_samples_available(_mixed_card_scan_to_merge_ratio_seq)) {\n+    return (size_t)(rs_length * predict_in_unit_interval(_young_card_scan_to_merge_ratio_seq));\n@@ -248,1 +272,1 @@\n-    return (size_t)(rs_length * predict_in_unit_interval(_mixed_card_merge_to_scan_ratio_seq));\n+    return (size_t)(rs_length * predict_in_unit_interval(_mixed_card_scan_to_merge_ratio_seq));\n@@ -252,2 +276,2 @@\n-double G1Analytics::predict_card_merge_time_ms(size_t card_num, bool for_young_gc) const {\n-  if (for_young_gc || !enough_samples_available(_mixed_cost_per_card_merge_ms_seq)) {\n+double G1Analytics::predict_card_merge_time_ms(size_t card_num, bool for_young_only_phase) const {\n+  if  (for_young_only_phase || !enough_samples_available(_mixed_cost_per_card_merge_ms_seq)) {\n@@ -260,2 +284,2 @@\n-double G1Analytics::predict_card_scan_time_ms(size_t card_num, bool for_young_gc) const {\n-  if (for_young_gc || !enough_samples_available(_mixed_cost_per_card_scan_ms_seq)) {\n+double G1Analytics::predict_card_scan_time_ms(size_t card_num, bool for_young_only_phase) const {\n+  if  (for_young_only_phase || !enough_samples_available(_mixed_cost_per_card_scan_ms_seq)) {\n@@ -304,2 +328,6 @@\n-size_t G1Analytics::predict_rs_length() const {\n-  return predict_size(_rs_length_seq) + predict_size(_rs_length_diff_seq);\n+size_t G1Analytics::predict_rs_length(bool for_young_only_phase) const {\n+  if  (for_young_only_phase || !enough_samples_available(_mixed_rs_length_seq)) {\n+    return predict_size(_young_rs_length_seq) + predict_size(_young_rs_length_diff_seq);\n+  } else {\n+    return predict_size(_mixed_rs_length_seq) + predict_size(_mixed_rs_length_diff_seq);\n+  }\n@@ -308,2 +336,6 @@\n-size_t G1Analytics::predict_pending_cards() const {\n-  return predict_size(_pending_cards_seq);\n+size_t G1Analytics::predict_pending_cards(bool for_young_only_phase) const {\n+  if (for_young_only_phase || !enough_samples_available(_mixed_pending_cards_seq)) {\n+    return predict_size(_young_pending_cards_seq);\n+  } else {\n+    return predict_size(_mixed_pending_cards_seq);\n+  }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Analytics.cpp","additions":66,"deletions":34,"binary":false,"changes":100,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -48,1 +48,2 @@\n-  TruncatedSeq* _rs_length_diff_seq;\n+  TruncatedSeq* _young_rs_length_diff_seq;\n+  TruncatedSeq* _mixed_rs_length_diff_seq;\n@@ -51,1 +52,2 @@\n-  \/\/ The ratio between the number of merged cards and actually scanned cards, for\n+  TruncatedSeq* _dirtied_cards_in_thread_buffers_seq;\n+  \/\/ The ratio between the number of scanned cards and actually merged cards, for\n@@ -53,2 +55,2 @@\n-  TruncatedSeq* _young_card_merge_to_scan_ratio_seq;\n-  TruncatedSeq* _mixed_card_merge_to_scan_ratio_seq;\n+  TruncatedSeq* _young_card_scan_to_merge_ratio_seq;\n+  TruncatedSeq* _mixed_card_scan_to_merge_ratio_seq;\n@@ -70,2 +72,4 @@\n-  TruncatedSeq* _pending_cards_seq;\n-  TruncatedSeq* _rs_length_seq;\n+  TruncatedSeq* _young_pending_cards_seq;\n+  TruncatedSeq* _mixed_pending_cards_seq;\n+  TruncatedSeq* _young_rs_length_seq;\n+  TruncatedSeq* _mixed_rs_length_seq;\n@@ -126,4 +130,5 @@\n-  void report_cost_per_card_scan_ms(double cost_per_remset_card_ms, bool for_young_gc);\n-  void report_cost_per_card_merge_ms(double cost_per_card_ms, bool for_young_gc);\n-  void report_card_merge_to_scan_ratio(double cards_per_entry_ratio, bool for_young_gc);\n-  void report_rs_length_diff(double rs_length_diff);\n+  void report_dirtied_cards_in_thread_buffers(size_t num_cards);\n+  void report_cost_per_card_scan_ms(double cost_per_remset_card_ms, bool for_young_only_phase);\n+  void report_cost_per_card_merge_ms(double cost_per_card_ms, bool for_young_only_phase);\n+  void report_card_scan_to_merge_ratio(double cards_per_entry_ratio, bool for_young_only_phase);\n+  void report_rs_length_diff(double rs_length_diff, bool for_young_only_phase);\n@@ -134,2 +139,2 @@\n-  void report_pending_cards(double pending_cards);\n-  void report_rs_length(double rs_length);\n+  void report_pending_cards(double pending_cards, bool for_young_only_phase);\n+  void report_rs_length(double rs_length, bool for_young_only_phase);\n@@ -142,0 +147,1 @@\n+  size_t predict_dirtied_cards_in_thread_buffers() const;\n@@ -143,3 +149,3 @@\n-  \/\/ Predict how many cards in a remembered set of length rs_length will need to\n-  \/\/ be scanned in addition to the pending log buffer cards.\n-  size_t predict_scan_card_num(size_t rs_length, bool for_young_gc) const;\n+  \/\/ Predict how many of the given remembered set of length rs_length will add to\n+  \/\/ the number of total cards scanned.\n+  size_t predict_scan_card_num(size_t rs_length, bool for_young_only_phase) const;\n@@ -147,2 +153,2 @@\n-  double predict_card_merge_time_ms(size_t card_num, bool for_young_gc) const;\n-  double predict_card_scan_time_ms(size_t card_num, bool for_young_gc) const;\n+  double predict_card_merge_time_ms(size_t card_num, bool for_young_only_phase) const;\n+  double predict_card_scan_time_ms(size_t card_num, bool for_young_only_phase) const;\n@@ -164,2 +170,2 @@\n-  size_t predict_rs_length() const;\n-  size_t predict_pending_cards() const;\n+  size_t predict_rs_length(bool for_young_only_phase) const;\n+  size_t predict_pending_cards(bool for_young_only_phase) const;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Analytics.hpp","additions":26,"deletions":20,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -180,1 +180,7 @@\n-  if (FLAG_IS_DEFAULT(G1ConcRefinementThreads)) {\n+  if (!G1UseConcRefinement) {\n+    if (!FLAG_IS_DEFAULT(G1ConcRefinementThreads)) {\n+      log_warning(gc, ergo)(\"Ignoring -XX:G1ConcRefinementThreads \"\n+                            \"because of -XX:-G1UseConcRefinement\");\n+    }\n+    FLAG_SET_DEFAULT(G1ConcRefinementThreads, 0);\n+  } else if (FLAG_IS_DEFAULT(G1ConcRefinementThreads)) {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Arguments.cpp","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -103,3 +103,1 @@\n-  \/\/ Returns the number of dirtied cards that were not yet dirty. This result may\n-  \/\/ be inaccurate as it does not perform the dirtying atomically.\n-  inline size_t mark_range_dirty(size_t start_card_index, size_t num_cards);\n+  inline void mark_range_dirty(size_t start_card_index, size_t num_cards);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardTable.hpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-inline size_t G1CardTable::mark_range_dirty(size_t start_card_index, size_t num_cards) {\n+inline void G1CardTable::mark_range_dirty(size_t start_card_index, size_t num_cards) {\n@@ -50,2 +50,0 @@\n-  size_t result = 0;\n-\n@@ -60,1 +58,0 @@\n-      result += sizeof(value);\n@@ -70,1 +67,0 @@\n-          result++;\n@@ -77,2 +73,0 @@\n-\n-  return result;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CardTable.inline.hpp","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1536,1 +1536,1 @@\n-  _cr = G1ConcurrentRefine::create(&ecode);\n+  _cr = G1ConcurrentRefine::create(policy(), &ecode);\n@@ -1716,3 +1716,0 @@\n-  \/\/ Initialize and schedule sampling task on service thread.\n-  _rem_set->initialize_sampling_task(service_thread());\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1CollectedHeap.cpp","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+#include \"gc\/g1\/g1CollectionSet.hpp\"\n@@ -30,0 +31,4 @@\n+#include \"gc\/g1\/g1Policy.hpp\"\n+#include \"gc\/g1\/heapRegion.inline.hpp\"\n+#include \"gc\/g1\/heapRegionRemSet.inline.hpp\"\n+#include \"gc\/shared\/gc_globals.hpp\"\n@@ -33,1 +38,0 @@\n-#include \"runtime\/globals_extension.hpp\"\n@@ -35,1 +39,1 @@\n-#include \"runtime\/javaThread.hpp\"\n+#include \"runtime\/mutexLocker.hpp\"\n@@ -37,1 +41,0 @@\n-#include \"utilities\/formatBuffer.hpp\"\n@@ -39,1 +42,0 @@\n-#include \"utilities\/pair.hpp\"\n@@ -43,1 +45,1 @@\n-  G1ConcurrentRefineThread* result = NULL;\n+  G1ConcurrentRefineThread* result = nullptr;\n@@ -47,1 +49,1 @@\n-  if (result == NULL || result->osthread() == NULL) {\n+  if (result == nullptr || result->osthread() == nullptr) {\n@@ -50,1 +52,5 @@\n-                    result == NULL ? \"memory\" : \"OS threads\");\n+                    result == nullptr ? \"memory\" : \"OS threads\");\n+    if (result != nullptr) {\n+      delete result;\n+      result = nullptr;\n+    }\n@@ -57,1 +63,0 @@\n-  _primary_thread(nullptr),\n@@ -59,3 +64,2 @@\n-  _num_max_threads(0)\n-{\n-}\n+  _max_num_threads(0)\n+{}\n@@ -64,4 +68,13 @@\n-  for (uint i = 0; i < _num_max_threads; i++) {\n-    G1ConcurrentRefineThread* t = _threads[i];\n-    if (t != NULL) {\n-      delete t;\n+  if (_threads != nullptr) {\n+    for (uint i = 0; i < _max_num_threads; i++) {\n+      G1ConcurrentRefineThread* t = _threads[i];\n+      if (t == nullptr) {\n+#ifdef ASSERT\n+        for (uint j = i + 1; j < _max_num_threads; ++j) {\n+          assert(_threads[j] == nullptr, \"invariant\");\n+        }\n+#endif \/\/ ASSERT\n+        break;\n+      } else {\n+        delete t;\n+      }\n@@ -69,0 +82,1 @@\n+    FREE_C_HEAP_ARRAY(G1ConcurrentRefineThread*, _threads);\n@@ -70,1 +84,0 @@\n-  FREE_C_HEAP_ARRAY(G1ConcurrentRefineThread*, _threads);\n@@ -73,1 +86,1 @@\n-jint G1ConcurrentRefineThreadControl::initialize(G1ConcurrentRefine* cr, uint num_max_threads) {\n+jint G1ConcurrentRefineThreadControl::initialize(G1ConcurrentRefine* cr, uint max_num_threads) {\n@@ -76,1 +89,1 @@\n-  _num_max_threads = num_max_threads;\n+  _max_num_threads = max_num_threads;\n@@ -78,1 +91,2 @@\n-  _threads = NEW_C_HEAP_ARRAY(G1ConcurrentRefineThread*, num_max_threads, mtGC);\n+  if (max_num_threads > 0) {\n+    _threads = NEW_C_HEAP_ARRAY(G1ConcurrentRefineThread*, max_num_threads, mtGC);\n@@ -80,3 +94,2 @@\n-  if (num_max_threads > 0) {\n-    auto primary = G1PrimaryConcurrentRefineThread::create(cr);\n-    if (primary == nullptr) {\n+    _threads[0] = create_refinement_thread(0, true);\n+    if (_threads[0] == nullptr) {\n@@ -86,1 +99,0 @@\n-    _threads[0] = _primary_thread = primary;\n@@ -88,2 +100,2 @@\n-    for (uint i = 1; i < num_max_threads; ++i) {\n-      if (UseDynamicNumberOfGCThreads) {\n+    if (UseDynamicNumberOfGCThreads) {\n+      for (uint i = 1; i < max_num_threads; ++i) {\n@@ -91,1 +103,3 @@\n-      } else {\n+      }\n+    } else {\n+      for (uint i = 1; i < max_num_threads; ++i) {\n@@ -104,8 +118,6 @@\n-void G1ConcurrentRefineThreadControl::maybe_activate_next(uint cur_worker_id) {\n-  assert(cur_worker_id < _num_max_threads,\n-         \"Activating another thread from %u not allowed since there can be at most %u\",\n-         cur_worker_id, _num_max_threads);\n-  if (cur_worker_id == (_num_max_threads - 1)) {\n-    \/\/ Already the last thread, there is no more thread to activate.\n-    return;\n-  }\n+#ifdef ASSERT\n+void G1ConcurrentRefineThreadControl::assert_current_thread_is_primary_refinement_thread() const {\n+  assert(_threads != nullptr, \"No threads\");\n+  assert(Thread::current() == _threads[0], \"Not primary thread\");\n+}\n+#endif \/\/ ASSERT\n@@ -113,1 +125,2 @@\n-  uint worker_id = cur_worker_id + 1;\n+bool G1ConcurrentRefineThreadControl::activate(uint worker_id) {\n+  assert(worker_id < _max_num_threads, \"precondition\");\n@@ -115,7 +128,6 @@\n-  if (thread_to_activate == NULL) {\n-    \/\/ Still need to create the thread...\n-    _threads[worker_id] = create_refinement_thread(worker_id, false);\n-    thread_to_activate = _threads[worker_id];\n-  }\n-  if (thread_to_activate != NULL) {\n-    thread_to_activate->activate();\n+  if (thread_to_activate == nullptr) {\n+    thread_to_activate = create_refinement_thread(worker_id, false);\n+    if (thread_to_activate == nullptr) {\n+      return false;\n+    }\n+    _threads[worker_id] = thread_to_activate;\n@@ -123,0 +135,2 @@\n+  thread_to_activate->activate();\n+  return true;\n@@ -126,1 +140,1 @@\n-  for (uint i = 0; i < _num_max_threads; i++) {\n+  for (uint i = 0; i < _max_num_threads; i++) {\n@@ -134,1 +148,1 @@\n-  for (uint i = 0; i < _num_max_threads; i++) {\n+  for (uint i = 0; i < _max_num_threads; i++) {\n@@ -141,62 +155,4 @@\n-\/\/ Arbitrary but large limits, to simplify some of the zone calculations.\n-\/\/ The general idea is to allow expressions like\n-\/\/   MIN2(x OP y, max_XXX_zone)\n-\/\/ without needing to check for overflow in \"x OP y\", because the\n-\/\/ ranges for x and y have been restricted.\n-STATIC_ASSERT(sizeof(LP64_ONLY(jint) NOT_LP64(jshort)) <= (sizeof(size_t)\/2));\n-const size_t max_yellow_zone = LP64_ONLY(max_jint) NOT_LP64(max_jshort);\n-const size_t max_green_zone = max_yellow_zone \/ 2;\n-const size_t max_red_zone = INT_MAX; \/\/ For dcqs.set_max_cards.\n-STATIC_ASSERT(max_yellow_zone <= max_red_zone);\n-\n-\/\/ Range check assertions for green zone values.\n-#define assert_zone_constraints_g(green)                        \\\n-  do {                                                          \\\n-    size_t azc_g_green = (green);                               \\\n-    assert(azc_g_green <= max_green_zone,                       \\\n-           \"green exceeds max: \" SIZE_FORMAT, azc_g_green);     \\\n-  } while (0)\n-\n-\/\/ Range check assertions for green and yellow zone values.\n-#define assert_zone_constraints_gy(green, yellow)                       \\\n-  do {                                                                  \\\n-    size_t azc_gy_green = (green);                                      \\\n-    size_t azc_gy_yellow = (yellow);                                    \\\n-    assert_zone_constraints_g(azc_gy_green);                            \\\n-    assert(azc_gy_yellow <= max_yellow_zone,                            \\\n-           \"yellow exceeds max: \" SIZE_FORMAT, azc_gy_yellow);          \\\n-    assert(azc_gy_green <= azc_gy_yellow,                               \\\n-           \"green (\" SIZE_FORMAT \") exceeds yellow (\" SIZE_FORMAT \")\",  \\\n-           azc_gy_green, azc_gy_yellow);                                \\\n-  } while (0)\n-\n-\/\/ Range check assertions for green, yellow, and red zone values.\n-#define assert_zone_constraints_gyr(green, yellow, red)                 \\\n-  do {                                                                  \\\n-    size_t azc_gyr_green = (green);                                     \\\n-    size_t azc_gyr_yellow = (yellow);                                   \\\n-    size_t azc_gyr_red = (red);                                         \\\n-    assert_zone_constraints_gy(azc_gyr_green, azc_gyr_yellow);          \\\n-    assert(azc_gyr_red <= max_red_zone,                                 \\\n-           \"red exceeds max: \" SIZE_FORMAT, azc_gyr_red);               \\\n-    assert(azc_gyr_yellow <= azc_gyr_red,                               \\\n-           \"yellow (\" SIZE_FORMAT \") exceeds red (\" SIZE_FORMAT \")\",    \\\n-           azc_gyr_yellow, azc_gyr_red);                                \\\n-  } while (0)\n-\n-\/\/ Logging tag sequence for refinement control updates.\n-#define CTRL_TAGS gc, ergo, refine\n-\n-\/\/ For logging zone values, ensuring consistency of level and tags.\n-#define LOG_ZONES(...) log_debug( CTRL_TAGS )(__VA_ARGS__)\n-\n-\/\/ Convert configuration values in units of buffers to number of cards.\n-static size_t configuration_buffers_to_cards(size_t value, const char* value_name) {\n-  if (value == 0) return 0;\n-  size_t res = value * G1UpdateBufferSize;\n-\n-  if (res \/ value != G1UpdateBufferSize) { \/\/ Check overflow\n-    vm_exit_during_initialization(err_msg(\"configuration_buffers_to_cards: \"\n-      \"(%s = \" SIZE_FORMAT \") * (G1UpdateBufferSize = \" SIZE_FORMAT \") overflow!\", value_name, value, G1UpdateBufferSize));\n-  }\n-  return res;\n+uint64_t G1ConcurrentRefine::adjust_threads_period_ms() const {\n+  \/\/ Instead of a fixed value, this could be a command line option.  But then\n+  \/\/ we might also want to allow configuration of adjust_threads_wait_ms().\n+  return 50;\n@@ -205,25 +161,3 @@\n-\/\/ Package for pair of refinement thread activation and deactivation\n-\/\/ thresholds.  The activation and deactivation levels are resp. the first\n-\/\/ and second values of the pair.\n-typedef Pair<size_t, size_t> Thresholds;\n-inline size_t activation_level(const Thresholds& t) { return t.first; }\n-inline size_t deactivation_level(const Thresholds& t) { return t.second; }\n-\n-static Thresholds calc_thresholds(size_t green_zone,\n-                                  size_t yellow_zone,\n-                                  uint worker_id) {\n-  double yellow_size = yellow_zone - green_zone;\n-  double step = yellow_size \/ G1ConcurrentRefine::max_num_threads();\n-  if (worker_id == 0) {\n-    \/\/ Potentially activate worker 0 more aggressively, to keep\n-    \/\/ available buffers near green_zone value.  When yellow_size is\n-    \/\/ large we don't want to allow a full step to accumulate before\n-    \/\/ doing any processing, as that might lead to significantly more\n-    \/\/ than green_zone buffers to be processed during pause.  So limit\n-    \/\/ to an extra half buffer per pause-time processing thread.\n-    step = MIN2(step, configuration_buffers_to_cards(ParallelGCThreads, \"ParallelGCThreads\") \/ 2.0);\n-  }\n-  size_t activate_offset = static_cast<size_t>(ceil(step * (worker_id + 1)));\n-  size_t deactivate_offset = static_cast<size_t>(floor(step * worker_id));\n-  return Thresholds(green_zone + activate_offset,\n-                    green_zone + deactivate_offset);\n+static size_t minimum_pending_cards_target() {\n+  \/\/ One buffer per thread.\n+  return ParallelGCThreads * G1UpdateBufferSize;\n@@ -232,4 +166,7 @@\n-G1ConcurrentRefine::G1ConcurrentRefine(size_t green_zone,\n-                                       size_t yellow_zone,\n-                                       size_t red_zone,\n-                                       size_t min_yellow_zone_size) :\n+G1ConcurrentRefine::G1ConcurrentRefine(G1Policy* policy) :\n+  _policy(policy),\n+  _threads_wanted(0),\n+  _pending_cards_target(PendingCardsTargetUninitialized),\n+  _last_adjust(),\n+  _needs_adjust(false),\n+  _threads_needed(policy, adjust_threads_period_ms()),\n@@ -237,7 +174,2 @@\n-  _green_zone(green_zone),\n-  _yellow_zone(yellow_zone),\n-  _red_zone(red_zone),\n-  _min_yellow_zone_size(min_yellow_zone_size)\n-{\n-  assert_zone_constraints_gyr(green_zone, yellow_zone, red_zone);\n-}\n+  _dcqs(G1BarrierSet::dirty_card_queue_set())\n+{}\n@@ -246,53 +178,1 @@\n-  jint result = _thread_control.initialize(this, max_num_threads());\n-  if (result != JNI_OK) return result;\n-\n-  G1DirtyCardQueueSet& dcqs = G1BarrierSet::dirty_card_queue_set();\n-  dcqs.set_max_cards(red_zone());\n-  if (max_num_threads() > 0) {\n-    G1PrimaryConcurrentRefineThread* primary_thread = _thread_control.primary_thread();\n-    primary_thread->update_notify_threshold(primary_activation_threshold());\n-    dcqs.set_refinement_notification_thread(primary_thread);\n-  }\n-\n-  return JNI_OK;\n-}\n-\n-static size_t calc_min_yellow_zone_size() {\n-  size_t step = configuration_buffers_to_cards(G1ConcRefinementThresholdStep, \"G1ConcRefinementThresholdStep\");\n-  uint n_workers = G1ConcurrentRefine::max_num_threads();\n-  if ((max_yellow_zone \/ step) < n_workers) {\n-    return max_yellow_zone;\n-  } else {\n-    return step * n_workers;\n-  }\n-}\n-\n-\/\/ An initial guess at the rate for pause-time card refinement for one\n-\/\/ thread, used when computing the default initial green zone value.\n-const double InitialPauseTimeCardRefinementRate = 200.0;\n-\n-static size_t calc_init_green_zone() {\n-  size_t green;\n-  if (FLAG_IS_DEFAULT(G1ConcRefinementGreenZone)) {\n-    const double rate = InitialPauseTimeCardRefinementRate * ParallelGCThreads;\n-    \/\/ The time budget for pause-time card refinement.\n-    const double ms = MaxGCPauseMillis * (G1RSetUpdatingPauseTimePercent \/ 100.0);\n-    green = rate * ms;\n-  } else {\n-    green = configuration_buffers_to_cards(G1ConcRefinementGreenZone,\n-                                           \"G1ConcRefinementGreenZone\");\n-  }\n-  return MIN2(green, max_green_zone);\n-}\n-\n-static size_t calc_init_yellow_zone(size_t green, size_t min_size) {\n-  size_t config = configuration_buffers_to_cards(G1ConcRefinementYellowZone, \"G1ConcRefinementYellowZone\");\n-  size_t size = 0;\n-  if (FLAG_IS_DEFAULT(G1ConcRefinementYellowZone)) {\n-    size = green * 2;\n-  } else if (green < config) {\n-    size = config - green;\n-  }\n-  size = MAX2(size, min_size);\n-  size = MIN2(size, max_yellow_zone);\n-  return MIN2(green + size, max_yellow_zone);\n+  return _thread_control.initialize(this, max_num_threads());\n@@ -301,28 +181,2 @@\n-static size_t calc_init_red_zone(size_t green, size_t yellow) {\n-  size_t size = yellow - green;\n-  if (!FLAG_IS_DEFAULT(G1ConcRefinementRedZone)) {\n-    size_t config = configuration_buffers_to_cards(G1ConcRefinementRedZone, \"G1ConcRefinementRedZone\");\n-    if (yellow < config) {\n-      size = MAX2(size, config - yellow);\n-    }\n-  }\n-  return MIN2(yellow + size, max_red_zone);\n-}\n-\n-G1ConcurrentRefine* G1ConcurrentRefine::create(jint* ecode) {\n-  size_t min_yellow_zone_size = calc_min_yellow_zone_size();\n-  size_t green_zone = calc_init_green_zone();\n-  size_t yellow_zone = calc_init_yellow_zone(green_zone, min_yellow_zone_size);\n-  size_t red_zone = calc_init_red_zone(green_zone, yellow_zone);\n-\n-  LOG_ZONES(\"Initial Refinement Zones: \"\n-            \"green: \" SIZE_FORMAT \", \"\n-            \"yellow: \" SIZE_FORMAT \", \"\n-            \"red: \" SIZE_FORMAT \", \"\n-            \"min yellow size: \" SIZE_FORMAT,\n-            green_zone, yellow_zone, red_zone, min_yellow_zone_size);\n-\n-  G1ConcurrentRefine* cr = new G1ConcurrentRefine(green_zone,\n-                                                  yellow_zone,\n-                                                  red_zone,\n-                                                  min_yellow_zone_size);\n+G1ConcurrentRefine* G1ConcurrentRefine::create(G1Policy* policy, jint* ecode) {\n+  G1ConcurrentRefine* cr = new G1ConcurrentRefine(policy);\n@@ -330,0 +184,4 @@\n+  if (*ecode != 0) {\n+    delete cr;\n+    cr = nullptr;\n+  }\n@@ -348,10 +206,48 @@\n-static size_t calc_new_green_zone(size_t green,\n-                                  double logged_cards_scan_time,\n-                                  size_t processed_logged_cards,\n-                                  double goal_ms) {\n-  \/\/ Adjust green zone based on whether we're meeting the time goal.\n-  \/\/ Limit to max_green_zone.\n-  const double inc_k = 1.1, dec_k = 0.9;\n-  if (logged_cards_scan_time > goal_ms) {\n-    if (green > 0) {\n-      green = static_cast<size_t>(green * dec_k);\n+void G1ConcurrentRefine::update_pending_cards_target(double logged_cards_time_ms,\n+                                                     size_t processed_logged_cards,\n+                                                     size_t predicted_thread_buffer_cards,\n+                                                     double goal_ms) {\n+  size_t minimum = minimum_pending_cards_target();\n+  if ((processed_logged_cards < minimum) || (logged_cards_time_ms == 0.0)) {\n+    log_debug(gc, ergo, refine)(\"Unchanged pending cards target: %zu\",\n+                                _pending_cards_target);\n+    return;\n+  }\n+\n+  \/\/ Base the pending cards budget on the measured rate.\n+  double rate = processed_logged_cards \/ logged_cards_time_ms;\n+  size_t budget = static_cast<size_t>(goal_ms * rate);\n+  \/\/ Deduct predicted cards in thread buffers to get target.\n+  size_t new_target = budget - MIN2(budget, predicted_thread_buffer_cards);\n+  \/\/ Add some hysteresis with previous values.\n+  if (is_pending_cards_target_initialized()) {\n+    new_target = (new_target + _pending_cards_target) \/ 2;\n+  }\n+  \/\/ Apply minimum target.\n+  new_target = MAX2(new_target, minimum_pending_cards_target());\n+  _pending_cards_target = new_target;\n+  log_debug(gc, ergo, refine)(\"New pending cards target: %zu\", new_target);\n+}\n+\n+void G1ConcurrentRefine::adjust_after_gc(double logged_cards_time_ms,\n+                                         size_t processed_logged_cards,\n+                                         size_t predicted_thread_buffer_cards,\n+                                         double goal_ms) {\n+  if (!G1UseConcRefinement) return;\n+\n+  update_pending_cards_target(logged_cards_time_ms,\n+                              processed_logged_cards,\n+                              predicted_thread_buffer_cards,\n+                              goal_ms);\n+  if (_thread_control.max_num_threads() == 0) {\n+    \/\/ If no refinement threads then the mutator threshold is the target.\n+    _dcqs.set_mutator_refinement_threshold(_pending_cards_target);\n+  } else {\n+    \/\/ Provisionally make the mutator threshold unlimited, to be updated by\n+    \/\/ the next periodic adjustment.  Because card state may have changed\n+    \/\/ drastically, record that adjustment is needed and kick the primary\n+    \/\/ thread, in case it is waiting.\n+    _dcqs.set_mutator_refinement_threshold(SIZE_MAX);\n+    _needs_adjust = true;\n+    if (is_pending_cards_target_initialized()) {\n+      _thread_control.activate(0);\n@@ -359,4 +255,0 @@\n-  } else if (logged_cards_scan_time < goal_ms &&\n-             processed_logged_cards > green) {\n-    green = static_cast<size_t>(MAX2(green * inc_k, green + 1.0));\n-    green = MIN2(green, max_green_zone);\n@@ -364,1 +256,0 @@\n-  return green;\n@@ -367,4 +258,6 @@\n-static size_t calc_new_yellow_zone(size_t green, size_t min_yellow_size) {\n-  size_t size = green * 2;\n-  size = MAX2(size, min_yellow_size);\n-  return MIN2(green + size, max_yellow_zone);\n+\/\/ Wake up the primary thread less frequently when the time available until\n+\/\/ the next GC is longer.  But don't increase the wait time too rapidly.\n+\/\/ This reduces the number of primary thread wakeups that just immediately\n+\/\/ go back to waiting, while still being responsive to behavior changes.\n+static uint64_t compute_adjust_wait_time_ms(double available_ms) {\n+  return static_cast<uint64_t>(sqrt(available_ms) * 4.0);\n@@ -373,2 +266,12 @@\n-static size_t calc_new_red_zone(size_t green, size_t yellow) {\n-  return MIN2(yellow + (yellow - green), max_red_zone);\n+uint64_t G1ConcurrentRefine::adjust_threads_wait_ms() const {\n+  assert_current_thread_is_primary_refinement_thread();\n+  if (is_pending_cards_target_initialized()) {\n+    double available_ms = _threads_needed.predicted_time_until_next_gc_ms();\n+    uint64_t wait_time_ms = compute_adjust_wait_time_ms(available_ms);\n+    return MAX2(wait_time_ms, adjust_threads_period_ms());\n+  } else {\n+    \/\/ If target not yet initialized then wait forever (until explicitly\n+    \/\/ activated).  This happens during startup, when we don't bother with\n+    \/\/ refinement.\n+    return 0;\n+  }\n@@ -377,24 +280,38 @@\n-void G1ConcurrentRefine::update_zones(double logged_cards_scan_time,\n-                                      size_t processed_logged_cards,\n-                                      double goal_ms) {\n-  log_trace( CTRL_TAGS )(\"Updating Refinement Zones: \"\n-                         \"logged cards scan time: %.3fms, \"\n-                         \"processed cards: \" SIZE_FORMAT \", \"\n-                         \"goal time: %.3fms\",\n-                         logged_cards_scan_time,\n-                         processed_logged_cards,\n-                         goal_ms);\n-\n-  _green_zone = calc_new_green_zone(_green_zone,\n-                                    logged_cards_scan_time,\n-                                    processed_logged_cards,\n-                                    goal_ms);\n-  _yellow_zone = calc_new_yellow_zone(_green_zone, _min_yellow_zone_size);\n-  _red_zone = calc_new_red_zone(_green_zone, _yellow_zone);\n-\n-  assert_zone_constraints_gyr(_green_zone, _yellow_zone, _red_zone);\n-  LOG_ZONES(\"Updated Refinement Zones: \"\n-            \"green: \" SIZE_FORMAT \", \"\n-            \"yellow: \" SIZE_FORMAT \", \"\n-            \"red: \" SIZE_FORMAT,\n-            _green_zone, _yellow_zone, _red_zone);\n+class G1ConcurrentRefine::RemSetSamplingClosure : public HeapRegionClosure {\n+  G1CollectionSet* _cset;\n+  size_t _sampled_rs_length;\n+\n+public:\n+  explicit RemSetSamplingClosure(G1CollectionSet* cset) :\n+    _cset(cset), _sampled_rs_length(0) {}\n+\n+  bool do_heap_region(HeapRegion* r) override {\n+    size_t rs_length = r->rem_set()->occupied();\n+    _sampled_rs_length += rs_length;\n+    \/\/ Update the collection set policy information for this region.\n+    _cset->update_young_region_prediction(r, rs_length);\n+    return false;\n+  }\n+\n+  size_t sampled_rs_length() const { return _sampled_rs_length; }\n+};\n+\n+\/\/ Adjust the target length (in regions) of the young gen, based on the the\n+\/\/ current length of the remembered sets.\n+\/\/\n+\/\/ At the end of the GC G1 determines the length of the young gen based on\n+\/\/ how much time the next GC can take, and when the next GC may occur\n+\/\/ according to the MMU.\n+\/\/\n+\/\/ The assumption is that a significant part of the GC is spent on scanning\n+\/\/ the remembered sets (and many other components), so this thread constantly\n+\/\/ reevaluates the prediction for the remembered set scanning costs, and potentially\n+\/\/ resizes the young gen. This may do a premature GC or even increase the young\n+\/\/ gen size to keep pause time length goal.\n+void G1ConcurrentRefine::adjust_young_list_target_length() {\n+  if (_policy->use_adaptive_young_list_length()) {\n+    G1CollectionSet* cset = G1CollectedHeap::heap()->collection_set();\n+    RemSetSamplingClosure cl{cset};\n+    cset->iterate(&cl);\n+    _policy->revise_young_list_target_length(cl.sampled_rs_length());\n+  }\n@@ -403,4 +320,2 @@\n-void G1ConcurrentRefine::adjust(double logged_cards_scan_time,\n-                                size_t processed_logged_cards,\n-                                double goal_ms) {\n-  G1DirtyCardQueueSet& dcqs = G1BarrierSet::dirty_card_queue_set();\n+bool G1ConcurrentRefine::adjust_threads_periodically() {\n+  assert_current_thread_is_primary_refinement_thread();\n@@ -408,2 +323,7 @@\n-  if (G1UseAdaptiveConcRefinement) {\n-    update_zones(logged_cards_scan_time, processed_logged_cards, goal_ms);\n+  \/\/ Check whether it's time to do a periodic adjustment.\n+  if (!_needs_adjust) {\n+    Tickspan since_adjust = Ticks::now() - _last_adjust;\n+    if (since_adjust.milliseconds() >= adjust_threads_period_ms()) {\n+      _needs_adjust = true;\n+    }\n+  }\n@@ -411,4 +331,18 @@\n-    \/\/ Change the barrier params\n-    if (max_num_threads() > 0) {\n-      size_t threshold = primary_activation_threshold();\n-      _thread_control.primary_thread()->update_notify_threshold(threshold);\n+  \/\/ If needed, try to adjust threads wanted.\n+  if (_needs_adjust) {\n+    \/\/ Getting used young bytes requires holding Heap_lock.  But we can't use\n+    \/\/ normal lock and block until available.  Blocking on the lock could\n+    \/\/ deadlock with a GC VMOp that is holding the lock and requesting a\n+    \/\/ safepoint.  Instead try to lock, and if fail then skip adjustment for\n+    \/\/ this iteration of the thread, do some refinement work, and retry the\n+    \/\/ adjustment later.\n+    if (Heap_lock->try_lock()) {\n+      size_t used_bytes = _policy->estimate_used_young_bytes_locked();\n+      Heap_lock->unlock();\n+      adjust_young_list_target_length();\n+      size_t young_bytes = _policy->young_list_target_length() * HeapRegion::GrainBytes;\n+      size_t available_bytes = young_bytes - MIN2(young_bytes, used_bytes);\n+      adjust_threads_wanted(available_bytes);\n+      _needs_adjust = false;\n+      _last_adjust = Ticks::now();\n+      return true;\n@@ -416,1 +350,0 @@\n-    dcqs.set_max_cards(red_zone());\n@@ -419,6 +352,51 @@\n-  size_t curr_queue_size = dcqs.num_cards();\n-  if ((dcqs.max_cards() > 0) &&\n-      (curr_queue_size >= yellow_zone())) {\n-    dcqs.set_max_cards_padding(curr_queue_size);\n-  } else {\n-    dcqs.set_max_cards_padding(0);\n+  return false;\n+}\n+\n+bool G1ConcurrentRefine::is_in_last_adjustment_period() const {\n+  return _threads_needed.predicted_time_until_next_gc_ms() <= adjust_threads_period_ms();\n+}\n+\n+void G1ConcurrentRefine::adjust_threads_wanted(size_t available_bytes) {\n+  assert_current_thread_is_primary_refinement_thread();\n+  size_t num_cards = _dcqs.num_cards();\n+  size_t mutator_threshold = SIZE_MAX;\n+  uint old_wanted = Atomic::load(&_threads_wanted);\n+\n+  _threads_needed.update(old_wanted,\n+                         available_bytes,\n+                         num_cards,\n+                         _pending_cards_target);\n+  uint new_wanted = _threads_needed.threads_needed();\n+  if (new_wanted > _thread_control.max_num_threads()) {\n+    \/\/ If running all the threads can't reach goal, turn on refinement by\n+    \/\/ mutator threads.  Using target as the threshold may be stronger\n+    \/\/ than required, but will do the most to get us under goal, and we'll\n+    \/\/ reevaluate with the next adjustment.\n+    mutator_threshold = _pending_cards_target;\n+    new_wanted = _thread_control.max_num_threads();\n+  } else if (is_in_last_adjustment_period()) {\n+    \/\/ If very little time remains until GC, enable mutator refinement.  If\n+    \/\/ the target has been reached, this keeps the number of pending cards on\n+    \/\/ target even if refinement threads deactivate in the meantime.  And if\n+    \/\/ the target hasn't been reached, this prevents things from getting\n+    \/\/ worse.\n+    mutator_threshold = _pending_cards_target;\n+  }\n+  Atomic::store(&_threads_wanted, new_wanted);\n+  _dcqs.set_mutator_refinement_threshold(mutator_threshold);\n+  log_debug(gc, refine)(\"Concurrent refinement: wanted %u, cards: %zu, \"\n+                        \"predicted: %zu, time: %1.2fms\",\n+                        new_wanted,\n+                        num_cards,\n+                        _threads_needed.predicted_cards_at_next_gc(),\n+                        _threads_needed.predicted_time_until_next_gc_ms());\n+  \/\/ Activate newly wanted threads.  The current thread is the primary\n+  \/\/ refinement thread, so is already active.\n+  for (uint i = MAX2(old_wanted, 1u); i < new_wanted; ++i) {\n+    if (!_thread_control.activate(i)) {\n+      \/\/ Failed to allocate and activate thread.  Stop trying to activate, and\n+      \/\/ instead use mutator threads to make up the gap.\n+      Atomic::store(&_threads_wanted, i);\n+      _dcqs.set_mutator_refinement_threshold(_pending_cards_target);\n+      break;\n+    }\n@@ -428,0 +406,30 @@\n+void G1ConcurrentRefine::reduce_threads_wanted() {\n+  assert_current_thread_is_primary_refinement_thread();\n+  if (!_needs_adjust) {         \/\/ Defer if adjustment request is active.\n+    uint wanted = Atomic::load(&_threads_wanted);\n+    if (wanted > 0) {\n+      Atomic::store(&_threads_wanted, --wanted);\n+    }\n+    \/\/ If very little time remains until GC, enable mutator refinement.  If\n+    \/\/ the target has been reached, this keeps the number of pending cards on\n+    \/\/ target even as refinement threads deactivate in the meantime.\n+    if (is_in_last_adjustment_period()) {\n+      _dcqs.set_mutator_refinement_threshold(_pending_cards_target);\n+    }\n+  }\n+}\n+\n+bool G1ConcurrentRefine::is_thread_wanted(uint worker_id) const {\n+  return worker_id < Atomic::load(&_threads_wanted);\n+}\n+\n+bool G1ConcurrentRefine::is_thread_adjustment_needed() const {\n+  assert_current_thread_is_primary_refinement_thread();\n+  return _needs_adjust;\n+}\n+\n+void G1ConcurrentRefine::record_thread_adjustment_needed() {\n+  assert_current_thread_is_primary_refinement_thread();\n+  _needs_adjust = true;\n+}\n+\n@@ -442,15 +450,0 @@\n-size_t G1ConcurrentRefine::activation_threshold(uint worker_id) const {\n-  Thresholds thresholds = calc_thresholds(_green_zone, _yellow_zone, worker_id);\n-  return activation_level(thresholds);\n-}\n-\n-size_t G1ConcurrentRefine::deactivation_threshold(uint worker_id) const {\n-  Thresholds thresholds = calc_thresholds(_green_zone, _yellow_zone, worker_id);\n-  return deactivation_level(thresholds);\n-}\n-\n-size_t G1ConcurrentRefine::primary_activation_threshold() const {\n-  assert(max_num_threads() > 0, \"No primary refinement thread\");\n-  return activation_threshold(0);\n-}\n-\n@@ -461,23 +454,5 @@\n-void G1ConcurrentRefine::maybe_activate_more_threads(uint worker_id, size_t num_cur_cards) {\n-  if (num_cur_cards > activation_threshold(worker_id + 1)) {\n-    _thread_control.maybe_activate_next(worker_id);\n-  }\n-}\n-\n-bool G1ConcurrentRefine::do_refinement_step(uint worker_id,\n-                                            G1ConcurrentRefineStats* stats) {\n-  G1DirtyCardQueueSet& dcqs = G1BarrierSet::dirty_card_queue_set();\n-\n-  size_t curr_cards = dcqs.num_cards();\n-  \/\/ If the number of the cards falls down into the yellow zone,\n-  \/\/ that means that the transition period after the evacuation pause has ended.\n-  if (curr_cards <= yellow_zone()) {\n-    dcqs.discard_max_cards_padding();\n-  }\n-\n-  maybe_activate_more_threads(worker_id, curr_cards);\n-\n-  \/\/ Process the next buffer, if there are enough left.\n-  return dcqs.refine_completed_buffer_concurrently(worker_id + worker_id_offset(),\n-                                                   deactivation_threshold(worker_id),\n-                                                   stats);\n+bool G1ConcurrentRefine::try_refinement_step(uint worker_id,\n+                                             size_t stop_at,\n+                                             G1ConcurrentRefineStats* stats) {\n+  uint adjusted_id = worker_id + worker_id_offset();\n+  return _dcqs.refine_completed_buffer_concurrently(adjusted_id, stop_at, stats);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.cpp","additions":298,"deletions":323,"binary":false,"changes":621,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+#include \"gc\/g1\/g1ConcurrentRefineThreadsNeeded.hpp\"\n@@ -32,0 +33,1 @@\n+#include \"utilities\/macros.hpp\"\n@@ -36,1 +38,2 @@\n-class G1PrimaryConcurrentRefineThread;\n+class G1DirtyCardQueueSet;\n+class G1Policy;\n@@ -43,1 +46,0 @@\n-  G1PrimaryConcurrentRefineThread* _primary_thread;\n@@ -45,1 +47,1 @@\n-  uint _num_max_threads;\n+  uint _max_num_threads;\n@@ -50,0 +52,3 @@\n+\n+  NONCOPYABLE(G1ConcurrentRefineThreadControl);\n+\n@@ -54,1 +59,1 @@\n-  jint initialize(G1ConcurrentRefine* cr, uint num_max_threads);\n+  jint initialize(G1ConcurrentRefine* cr, uint max_num_threads);\n@@ -56,5 +61,1 @@\n-  G1PrimaryConcurrentRefineThread* primary_thread() const {\n-    assert(_num_max_threads > 0, \"precondition\");\n-    assert(_primary_thread != nullptr, \"uninitialized\");\n-    return _primary_thread;\n-  }\n+  void assert_current_thread_is_primary_refinement_thread() const NOT_DEBUG_RETURN;\n@@ -62,3 +63,8 @@\n-  \/\/ If there is a \"successor\" thread that can be activated given the current id,\n-  \/\/ activate it.\n-  void maybe_activate_next(uint cur_worker_id);\n+  uint max_num_threads() const { return _max_num_threads; }\n+\n+  \/\/ Activate the indicated thread.  If the thread has not yet been allocated,\n+  \/\/ allocate and then activate.  If allocation is needed and fails, return\n+  \/\/ false.  Otherwise return true.\n+  \/\/ precondition: worker_id < max_num_threads().\n+  \/\/ precondition: current thread is not the designated worker.\n+  bool activate(uint worker_id);\n@@ -70,8 +76,33 @@\n-\/\/ Controls refinement threads and their activation based on the number of\n-\/\/ cards currently available in the global dirty card queue.\n-\/\/ Refinement threads obtain work from the queue (a buffer at a time) based\n-\/\/ on these thresholds. They are activated gradually based on the amount of\n-\/\/ work to do.\n-\/\/ Refinement thread n activates thread n+1 if the instance of this class determines there\n-\/\/ is enough work available. Threads deactivate themselves if the current amount of\n-\/\/ available cards falls below their individual threshold.\n+\/\/ Controls concurrent refinement.\n+\/\/\n+\/\/ Mutator threads produce dirty cards, which need to be examined for updates\n+\/\/ to the remembered sets (refinement).  There is a pause-time budget for\n+\/\/ processing these dirty cards (see -XX:G1RSetUpdatingPauseTimePercent).  The\n+\/\/ purpose of concurrent refinement is to (attempt to) ensure the number of\n+\/\/ pending dirty cards at the start of a GC can be processed within that time\n+\/\/ budget.\n+\/\/\n+\/\/ Concurrent refinement is performed by a combination of dedicated threads\n+\/\/ and by mutator threads as they produce dirty cards.  If configured to not\n+\/\/ have any dedicated threads (-XX:G1ConcRefinementThreads=0) then all\n+\/\/ concurrent refinement work is performed by mutator threads.  When there are\n+\/\/ dedicated threads, they generally do most of the concurrent refinement\n+\/\/ work, to minimize throughput impact of refinement work on mutator threads.\n+\/\/\n+\/\/ This class determines the target number of dirty cards pending for the next\n+\/\/ GC.  It also owns the dedicated refinement threads and controls their\n+\/\/ activation in order to achieve that target.\n+\/\/\n+\/\/ There are two kinds of dedicated refinement threads, a single primary\n+\/\/ thread and some number of secondary threads.  When active, all refinement\n+\/\/ threads take buffers of dirty cards from the dirty card queue and process\n+\/\/ them.  Between buffers they query this owning object to find out whether\n+\/\/ they should continue running, deactivating themselves if not.\n+\/\/\n+\/\/ The primary thread drives the control system that determines how many\n+\/\/ refinement threads should be active.  If inactive, it wakes up periodically\n+\/\/ to recalculate the number of active threads needed, and activates\n+\/\/ additional threads as necessary.  While active it also periodically\n+\/\/ recalculates the number wanted and activates more threads if needed.  It\n+\/\/ also reduces the number of wanted threads when the target has been reached,\n+\/\/ triggering deactivations.\n@@ -79,0 +110,7 @@\n+  G1Policy* _policy;\n+  volatile uint _threads_wanted;\n+  size_t _pending_cards_target;\n+  Ticks _last_adjust;\n+  Ticks _last_deactivate;\n+  bool _needs_adjust;\n+  G1ConcurrentRefineThreadsNeeded _threads_needed;\n@@ -80,31 +118,3 @@\n-  \/*\n-   * The value of the completed dirty card queue length falls into one of 3 zones:\n-   * green, yellow, red. If the value is in [0, green) nothing is\n-   * done, the buffered cards are left unprocessed to enable the caching effect of the\n-   * dirtied cards. In the yellow zone [green, yellow) the concurrent refinement\n-   * threads are gradually activated. In [yellow, red) all threads are\n-   * running. If the length becomes red (max queue length) the mutators start\n-   * processing cards too.\n-   *\n-   * There are some interesting cases (when G1UseAdaptiveConcRefinement\n-   * is turned off):\n-   * 1) green = yellow = red = 0. In this case the mutator will process all\n-   *    cards. Except for those that are created by the deferred updates\n-   *    machinery during a collection.\n-   * 2) green = 0. Means no caching. Can be a good way to minimize the\n-   *    amount of time spent updating remembered sets during a collection.\n-   *\/\n-  size_t _green_zone;\n-  size_t _yellow_zone;\n-  size_t _red_zone;\n-  size_t _min_yellow_zone_size;\n-\n-  G1ConcurrentRefine(size_t green_zone,\n-                     size_t yellow_zone,\n-                     size_t red_zone,\n-                     size_t min_yellow_zone_size);\n-\n-  \/\/ Update green\/yellow\/red zone values based on how well goals are being met.\n-  void update_zones(double logged_cards_scan_time,\n-                    size_t processed_logged_cards,\n-                    double goal_ms);\n+  G1DirtyCardQueueSet& _dcqs;\n+\n+  G1ConcurrentRefine(G1Policy* policy);\n@@ -113,1 +123,0 @@\n-  void maybe_activate_more_threads(uint worker_id, size_t num_cur_cards);\n@@ -116,0 +125,29 @@\n+\n+  void assert_current_thread_is_primary_refinement_thread() const {\n+    _thread_control.assert_current_thread_is_primary_refinement_thread();\n+  }\n+\n+  \/\/ For the first few collection cycles we don't have a target (and so don't\n+  \/\/ do any concurrent refinement), because there hasn't been enough pause\n+  \/\/ time refinement work to be done to make useful predictions.  We use\n+  \/\/ SIZE_MAX as a special marker value to indicate we're in this state.\n+  static const size_t PendingCardsTargetUninitialized = SIZE_MAX;\n+  bool is_pending_cards_target_initialized() const {\n+    return _pending_cards_target != PendingCardsTargetUninitialized;\n+  }\n+\n+  void update_pending_cards_target(double logged_cards_scan_time_ms,\n+                                   size_t processed_logged_cards,\n+                                   size_t predicted_thread_buffer_cards,\n+                                   double goal_ms);\n+\n+  uint64_t adjust_threads_period_ms() const;\n+  bool is_in_last_adjustment_period() const;\n+\n+  class RemSetSamplingClosure;  \/\/ Helper class for adjusting young length.\n+  void adjust_young_list_target_length();\n+\n+  void adjust_threads_wanted(size_t available_bytes);\n+\n+  NONCOPYABLE(G1ConcurrentRefine);\n+\n@@ -120,2 +158,2 @@\n-  \/\/ G1ConcurrentRefine instance. Otherwise, returns NULL with error code.\n-  static G1ConcurrentRefine* create(jint* ecode);\n+  \/\/ G1ConcurrentRefine instance. Otherwise, returns nullptr with error code.\n+  static G1ConcurrentRefine* create(G1Policy* policy, jint* ecode);\n@@ -123,0 +161,1 @@\n+  \/\/ Stop all the refinement threads.\n@@ -125,6 +164,40 @@\n-  \/\/ The minimum number of pending cards for activation of the primary\n-  \/\/ refinement thread.\n-  size_t primary_activation_threshold() const;\n-\n-  \/\/ Adjust refinement thresholds based on work done during the pause and the goal time.\n-  void adjust(double logged_cards_scan_time, size_t processed_logged_cards, double goal_ms);\n+  \/\/ Called at the end of a GC to prepare for refinement during the next\n+  \/\/ concurrent phase.  Updates the target for the number of pending dirty\n+  \/\/ cards.  Updates the mutator refinement threshold.  Ensures the primary\n+  \/\/ refinement thread (if it exists) is active, so it will adjust the number\n+  \/\/ of running threads.\n+  void adjust_after_gc(double logged_cards_scan_time_ms,\n+                       size_t processed_logged_cards,\n+                       size_t predicted_thread_buffer_cards,\n+                       double goal_ms);\n+\n+  \/\/ Target number of pending dirty cards at the start of the next GC.\n+  size_t pending_cards_target() const { return _pending_cards_target; }\n+\n+  \/\/ May recalculate the number of refinement threads that should be active in\n+  \/\/ order to meet the pending cards target.  Returns true if adjustment was\n+  \/\/ performed, and clears any pending request.  Returns false if the\n+  \/\/ adjustment period has not expired, or because a timed or requested\n+  \/\/ adjustment could not be performed immediately and so was deferred.\n+  \/\/ precondition: current thread is the primary refinement thread.\n+  bool adjust_threads_periodically();\n+\n+  \/\/ The amount of time (in ms) the primary refinement thread should sleep\n+  \/\/ when it is inactive.  It requests adjustment whenever it is reactivated.\n+  \/\/ precondition: current thread is the primary refinement thread.\n+  uint64_t adjust_threads_wait_ms() const;\n+\n+  \/\/ Record a request for thread adjustment as soon as possible.\n+  \/\/ precondition: current thread is the primary refinement thread.\n+  void record_thread_adjustment_needed();\n+\n+  \/\/ Test whether there is a pending request for thread adjustment.\n+  \/\/ precondition: current thread is the primary refinement thread.\n+  bool is_thread_adjustment_needed() const;\n+\n+  \/\/ Reduce the number of active threads wanted.\n+  \/\/ precondition: current thread is the primary refinement thread.\n+  void reduce_threads_wanted();\n+\n+  \/\/ Test whether the thread designated by worker_id should be active.\n+  bool is_thread_wanted(uint worker_id) const;\n@@ -136,4 +209,0 @@\n-  \/\/ Cards in the dirty card queue set.\n-  size_t activation_threshold(uint worker_id) const;\n-  size_t deactivation_threshold(uint worker_id) const;\n-\n@@ -143,1 +212,3 @@\n-  bool do_refinement_step(uint worker_id, G1ConcurrentRefineStats* stats);\n+  bool try_refinement_step(uint worker_id,\n+                           size_t stop_at,\n+                           G1ConcurrentRefineStats* stats);\n@@ -150,5 +221,0 @@\n-\n-  \/\/ Cards in the dirty card queue set.\n-  size_t green_zone() const      { return _green_zone;  }\n-  size_t yellow_zone() const     { return _yellow_zone; }\n-  size_t red_zone() const        { return _red_zone;    }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefine.hpp","additions":136,"deletions":70,"binary":false,"changes":206,"status":"modified"},{"patch":"@@ -33,3 +33,0 @@\n-#include \"runtime\/atomic.hpp\"\n-#include \"runtime\/init.hpp\"\n-#include \"runtime\/javaThread.hpp\"\n@@ -37,1 +34,6 @@\n-#include \"runtime\/safepoint.hpp\"\n+#include \"runtime\/os.hpp\"\n+#include \"runtime\/thread.hpp\"\n+#include \"utilities\/debug.hpp\"\n+#include \"utilities\/formatBuffer.hpp\"\n+#include \"utilities\/globalDefinitions.hpp\"\n+#include \"utilities\/ticks.hpp\"\n@@ -43,1 +45,3 @@\n-  _refinement_stats(new G1ConcurrentRefineStats()),\n+  _notifier(Mutex::nosafepoint, FormatBuffer<>(\"G1 Refine#%d\", worker_id), true),\n+  _requested_active(false),\n+  _refinement_stats(),\n@@ -51,4 +55,0 @@\n-G1ConcurrentRefineThread::~G1ConcurrentRefineThread() {\n-  delete _refinement_stats;\n-}\n-\n@@ -59,26 +59,15 @@\n-    \/\/ For logging.\n-    G1ConcurrentRefineStats start_stats = *_refinement_stats;\n-    G1ConcurrentRefineStats total_stats; \/\/ Accumulate over activation.\n-\n-    {\n-      SuspendibleThreadSetJoiner sts_join;\n-\n-      log_debug(gc, refine)(\"Activated worker %d, on threshold: %zu, current: %zu\",\n-                            _worker_id, _cr->activation_threshold(_worker_id),\n-                            G1BarrierSet::dirty_card_queue_set().num_cards());\n-\n-      while (!should_terminate()) {\n-        if (sts_join.should_yield()) {\n-          \/\/ Accumulate changed stats before possible GC that resets stats.\n-          total_stats += *_refinement_stats - start_stats;\n-          sts_join.yield();\n-          \/\/ Reinitialize baseline stats after safepoint.\n-          start_stats = *_refinement_stats;\n-          continue;             \/\/ Re-check for termination after yield delay.\n-        }\n-\n-        if (!_cr->do_refinement_step(_worker_id, _refinement_stats)) {\n-          if (maybe_deactivate()) {\n-            break;\n-          }\n-        }\n+    SuspendibleThreadSetJoiner sts_join;\n+    G1ConcurrentRefineStats active_stats_start = _refinement_stats;\n+    report_active(\"Activated\");\n+    while (!should_terminate()) {\n+      if (sts_join.should_yield()) {\n+        report_inactive(\"Paused\", _refinement_stats - active_stats_start);\n+        sts_join.yield();\n+        \/\/ Reset after yield rather than accumulating across yields, else a\n+        \/\/ very long running thread could overflow.\n+        active_stats_start = _refinement_stats;\n+        report_active(\"Resumed\");\n+      } else if (maybe_deactivate()) {\n+        break;\n+      } else {\n+        do_refinement_step();\n@@ -87,9 +76,1 @@\n-\n-    total_stats += *_refinement_stats - start_stats;\n-    log_debug(gc, refine)(\"Deactivated worker %d, off threshold: %zu, \"\n-                          \"cards: %zu, refined %zu, rate %1.2fc\/ms\",\n-                          _worker_id, _cr->deactivation_threshold(_worker_id),\n-                          G1BarrierSet::dirty_card_queue_set().num_cards(),\n-                          total_stats.refined_cards(),\n-                          total_stats.refinement_rate_ms());\n-\n+    report_inactive(\"Deactivated\", _refinement_stats - active_stats_start);\n@@ -106,2 +87,5 @@\n-void G1ConcurrentRefineThread::stop_service() {\n-  activate();\n+void G1ConcurrentRefineThread::report_active(const char* reason) const {\n+  log_trace(gc, refine)(\"%s worker %u, current: %zu\",\n+                        reason,\n+                        _worker_id,\n+                        G1BarrierSet::dirty_card_queue_set().num_cards());\n@@ -110,8 +94,9 @@\n-G1PrimaryConcurrentRefineThread*\n-G1PrimaryConcurrentRefineThread::create(G1ConcurrentRefine* cr) {\n-  G1PrimaryConcurrentRefineThread* crt =\n-    new (std::nothrow) G1PrimaryConcurrentRefineThread(cr);\n-  if (crt != nullptr) {\n-    crt->create_and_start();\n-  }\n-  return crt;\n+void G1ConcurrentRefineThread::report_inactive(const char* reason,\n+                                               const G1ConcurrentRefineStats& stats) const {\n+  log_trace(gc, refine)\n+           (\"%s worker %u, cards: %zu, refined %zu, rate %1.2fc\/ms\",\n+            reason,\n+            _worker_id,\n+            G1BarrierSet::dirty_card_queue_set().num_cards(),\n+            stats.refined_cards(),\n+            stats.refinement_rate_ms());\n@@ -120,10 +105,7 @@\n-G1PrimaryConcurrentRefineThread::G1PrimaryConcurrentRefineThread(G1ConcurrentRefine* cr) :\n-  G1ConcurrentRefineThread(cr, 0),\n-  _notifier(0),\n-  _threshold(0)\n-{}\n-\n-void G1PrimaryConcurrentRefineThread::stop_service() {\n-  G1DirtyCardQueueSet& dcqs = G1BarrierSet::dirty_card_queue_set();\n-  dcqs.set_refinement_notification_thread(nullptr);\n-  G1ConcurrentRefineThread::stop_service();\n+void G1ConcurrentRefineThread::activate() {\n+  assert(this != Thread::current(), \"precondition\");\n+  MonitorLocker ml(&_notifier, Mutex::_no_safepoint_check_flag);\n+  if (!_requested_active || should_terminate()) {\n+    _requested_active = true;\n+    ml.notify();\n+  }\n@@ -132,15 +114,1 @@\n-\/\/ The primary refinement thread is notified when buffers\/cards are added to\n-\/\/ the dirty card queue.  That can happen in fairly arbitrary contexts.\n-\/\/ This means there may be arbitrary other locks held when notifying.  We\n-\/\/ also don't want to have to take a lock on the fairly common notification\n-\/\/ path, as contention for that lock can significantly impact performance.\n-\/\/\n-\/\/ We use a semaphore to implement waiting and unblocking, to avoid\n-\/\/ lock rank checking issues.  (We could alternatively use an\n-\/\/ arbitrarily low ranked mutex.)  The atomic variable _threshold is\n-\/\/ used to decide when to signal the semaphore.  When its value is\n-\/\/ SIZE_MAX then the thread is running.  Otherwise, the thread should\n-\/\/ be requested to run when notified that the number of cards has\n-\/\/ exceeded the threshold value.\n-\n-bool G1PrimaryConcurrentRefineThread::wait_for_completed_buffers() {\n+bool G1ConcurrentRefineThread::maybe_deactivate() {\n@@ -148,3 +116,8 @@\n-  _notifier.wait();\n-  assert(Atomic::load(&_threshold) == SIZE_MAX || should_terminate(), \"incorrect state\");\n-  return !should_terminate();\n+  if (cr()->is_thread_wanted(_worker_id)) {\n+    return false;\n+  } else {\n+    MutexLocker ml(&_notifier, Mutex::_no_safepoint_check_flag);\n+    bool requested = _requested_active;\n+    _requested_active = false;\n+    return !requested;  \/\/ Deactivate only if not recently requested active.\n+  }\n@@ -153,1 +126,1 @@\n-bool G1PrimaryConcurrentRefineThread::maybe_deactivate() {\n+bool G1ConcurrentRefineThread::try_refinement_step(size_t stop_at) {\n@@ -155,7 +128,1 @@\n-  assert(Atomic::load(&_threshold) == SIZE_MAX, \"incorrect state\");\n-  Atomic::store(&_threshold, cr()->primary_activation_threshold());\n-  \/\/ Always deactivate when no refinement work found.  New refinement\n-  \/\/ work may have arrived after we tried, but checking for that would\n-  \/\/ still be racy.  Instead, the next time additional work is made\n-  \/\/ available we'll get reactivated.\n-  return true;\n+  return _cr->try_refinement_step(_worker_id, stop_at, &_refinement_stats);\n@@ -164,11 +131,2 @@\n-void G1PrimaryConcurrentRefineThread::activate() {\n-  assert(this != Thread::current(), \"precondition\");\n-  \/\/ The thread is running when notifications are disabled, so shouldn't\n-  \/\/ signal is this case.  But there's a race between stop requests and\n-  \/\/ maybe_deactivate, so also signal if stop requested.\n-  size_t threshold = Atomic::load(&_threshold);\n-  if (((threshold != SIZE_MAX) &&\n-       (threshold == Atomic::cmpxchg(&_threshold, threshold, SIZE_MAX))) ||\n-      should_terminate()) {\n-    _notifier.signal();\n-  }\n+void G1ConcurrentRefineThread::stop_service() {\n+  activate();\n@@ -177,15 +135,21 @@\n-void G1PrimaryConcurrentRefineThread::notify(size_t num_cards) {\n-  \/\/ Only activate if the number of pending cards exceeds the activation\n-  \/\/ threshold.  Notification is disabled when the thread is running, by\n-  \/\/ setting _threshold to SIZE_MAX.  A relaxed load is sufficient; we don't\n-  \/\/ need to be precise about this.\n-  if (num_cards > Atomic::load(&_threshold)) {\n-    \/\/ Discard notifications occurring during a safepoint.  A GC safepoint\n-    \/\/ may dirty some cards (such as during reference processing), possibly\n-    \/\/ leading to notification.  End-of-GC update_notify_threshold activates\n-    \/\/ the primary thread if needed.  Non-GC safepoints are expected to\n-    \/\/ rarely (if ever) dirty cards, so defer activation to a post-safepoint\n-    \/\/ notification.\n-    if (!SafepointSynchronize::is_at_safepoint()) {\n-      activate();\n-    }\n+\/\/ The (single) primary thread drives the controller for the refinement threads.\n+class G1PrimaryConcurrentRefineThread final : public G1ConcurrentRefineThread {\n+  bool wait_for_completed_buffers() override;\n+  bool maybe_deactivate() override;\n+  void do_refinement_step() override;\n+\n+public:\n+  G1PrimaryConcurrentRefineThread(G1ConcurrentRefine* cr) :\n+    G1ConcurrentRefineThread(cr, 0)\n+  {}\n+};\n+\n+\/\/ When inactive, the primary thread periodically wakes up and requests\n+\/\/ adjustment of the number of active refinement threads.\n+bool G1PrimaryConcurrentRefineThread::wait_for_completed_buffers() {\n+  assert(this == Thread::current(), \"precondition\");\n+  MonitorLocker ml(notifier(), Mutex::_no_safepoint_check_flag);\n+  if (!requested_active() && !should_terminate()) {\n+    \/\/ Rather than trying to be smart about spurious wakeups, we just treat\n+    \/\/ them as timeouts.\n+    ml.wait(cr()->adjust_threads_wait_ms());\n@@ -193,0 +157,3 @@\n+  \/\/ Record adjustment needed whenever reactivating.\n+  cr()->record_thread_adjustment_needed();\n+  return !should_terminate();\n@@ -195,13 +162,19 @@\n-void G1PrimaryConcurrentRefineThread::update_notify_threshold(size_t threshold) {\n-#ifdef ASSERT\n-  if (is_init_completed()) {\n-    assert_at_safepoint();\n-    assert(Thread::current()->is_VM_thread(), \"precondition\");\n-  }\n-#endif \/\/ ASSERT\n-  \/\/ If _threshold is SIZE_MAX then the thread is active and the value\n-  \/\/ of _threshold shouldn't be changed.\n-  if (Atomic::load(&_threshold) != SIZE_MAX) {\n-    Atomic::store(&_threshold, threshold);\n-    if (G1BarrierSet::dirty_card_queue_set().num_cards() > threshold) {\n-      activate();\n+bool G1PrimaryConcurrentRefineThread::maybe_deactivate() {\n+  \/\/ Don't deactivate while needing to adjust the number of active threads.\n+  return !cr()->is_thread_adjustment_needed() &&\n+         G1ConcurrentRefineThread::maybe_deactivate();\n+}\n+\n+void G1PrimaryConcurrentRefineThread::do_refinement_step() {\n+  \/\/ Try adjustment first.  If it succeeds then don't do any refinement this\n+  \/\/ round.  This thread may have just woken up but no threads are currently\n+  \/\/ needed, which is common.  In this case we want to just go back to\n+  \/\/ waiting, with a minimum of fuss; in particular, don't do any \"premature\"\n+  \/\/ refinement.  However, adjustment may be pending but temporarily\n+  \/\/ blocked. In that case we *do* try refinement, rather than possibly\n+  \/\/ uselessly spinning while waiting for adjustment to succeed.\n+  if (!cr()->adjust_threads_periodically()) {\n+    \/\/ No adjustment, so try refinement, with the target as a cuttoff.\n+    if (!try_refinement_step(cr()->pending_cards_target())) {\n+      \/\/ Refinement was cut off, so proceed with fewer threads.\n+      cr()->reduce_threads_wanted();\n@@ -213,3 +186,0 @@\n-  Monitor _notifier;\n-  bool _requested_active;\n-\n@@ -217,1 +187,1 @@\n-  bool maybe_deactivate() override;\n+  void do_refinement_step() override;\n@@ -220,3 +190,5 @@\n-  G1SecondaryConcurrentRefineThread(G1ConcurrentRefine* cr, uint worker_id);\n-\n-  void activate() override;\n+  G1SecondaryConcurrentRefineThread(G1ConcurrentRefine* cr, uint worker_id) :\n+    G1ConcurrentRefineThread(cr, worker_id)\n+  {\n+    assert(worker_id > 0, \"precondition\");\n+  }\n@@ -225,9 +197,0 @@\n-G1SecondaryConcurrentRefineThread::G1SecondaryConcurrentRefineThread(G1ConcurrentRefine* cr,\n-                                                                     uint worker_id) :\n-  G1ConcurrentRefineThread(cr, worker_id),\n-  _notifier(Mutex::nosafepoint, this->name(), true),\n-  _requested_active(false)\n-{\n-  assert(worker_id > 0, \"precondition\");\n-}\n-\n@@ -236,2 +199,2 @@\n-  MonitorLocker ml(&_notifier, Mutex::_no_safepoint_check_flag);\n-  while (!_requested_active && !should_terminate()) {\n+  MonitorLocker ml(notifier(), Mutex::_no_safepoint_check_flag);\n+  while (!requested_active() && !should_terminate()) {\n@@ -243,10 +206,1 @@\n-void G1SecondaryConcurrentRefineThread::activate() {\n-  assert(this != Thread::current(), \"precondition\");\n-  MonitorLocker ml(&_notifier, Mutex::_no_safepoint_check_flag);\n-  if (!_requested_active || should_terminate()) {\n-    _requested_active = true;\n-    ml.notify();\n-  }\n-}\n-\n-bool G1SecondaryConcurrentRefineThread::maybe_deactivate() {\n+void G1SecondaryConcurrentRefineThread::do_refinement_step() {\n@@ -254,4 +208,8 @@\n-  MutexLocker ml(&_notifier, Mutex::_no_safepoint_check_flag);\n-  bool requested = _requested_active;\n-  _requested_active = false;\n-  return !requested;            \/\/ Deactivate if not recently requested active.\n+  \/\/ Secondary threads ignore the target and just drive the number of pending\n+  \/\/ dirty cards down.  The primary thread is responsible for noticing the\n+  \/\/ target has been reached and reducing the number of wanted threads.  This\n+  \/\/ makes the control of wanted threads all under the primary, while avoiding\n+  \/\/ useless spinning by secondary threads until the primary thread notices.\n+  \/\/ (Useless spinning is still possible if there are no pending cards, but\n+  \/\/ that should rarely happen.)\n+  try_refinement_step(0);\n@@ -262,3 +220,6 @@\n-  assert(worker_id > 0, \"precondition\");\n-  G1ConcurrentRefineThread* crt =\n-    new (std::nothrow) G1SecondaryConcurrentRefineThread(cr, worker_id);\n+  G1ConcurrentRefineThread* crt;\n+  if (worker_id == 0) {\n+    crt = new (std::nothrow) G1PrimaryConcurrentRefineThread(cr);\n+  } else {\n+    crt = new (std::nothrow) G1SecondaryConcurrentRefineThread(cr, worker_id);\n+  }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineThread.cpp","additions":125,"deletions":164,"binary":false,"changes":289,"status":"modified"},{"patch":"@@ -28,0 +28,1 @@\n+#include \"gc\/g1\/g1ConcurrentRefineStats.hpp\"\n@@ -29,3 +30,2 @@\n-#include \"memory\/padded.hpp\"\n-#include \"runtime\/semaphore.hpp\"\n-#include \"utilities\/macros.hpp\"\n+#include \"runtime\/mutex.hpp\"\n+#include \"utilities\/globalDefinitions.hpp\"\n@@ -35,1 +35,0 @@\n-class G1ConcurrentRefineStats;\n@@ -46,1 +45,4 @@\n-  G1ConcurrentRefineStats* _refinement_stats;\n+  Monitor _notifier;\n+  bool _requested_active;\n+\n+  G1ConcurrentRefineStats _refinement_stats;\n@@ -57,0 +59,3 @@\n+  Monitor* notifier() { return &_notifier; }\n+  bool requested_active() const { return _requested_active; }\n+\n@@ -61,2 +66,1 @@\n-  \/\/ Called when no refinement work found for this thread.\n-  \/\/ Returns true if should deactivate.\n+  \/\/ Deactivate if appropriate.  Returns true if deactivated.\n@@ -64,1 +68,14 @@\n-  virtual bool maybe_deactivate() = 0;\n+  virtual bool maybe_deactivate();\n+\n+  \/\/ Attempt to do some refinement work.\n+  \/\/ precondition: this is the current thread.\n+  virtual void do_refinement_step() = 0;\n+\n+  \/\/ Helper for do_refinement_step implementations.  Try to perform some\n+  \/\/ refinement work, limited by stop_at.  Returns true if any refinement work\n+  \/\/ was performed, false if no work available per stop_at.\n+  \/\/ precondition: this is the current thread.\n+  bool try_refinement_step(size_t stop_at);\n+\n+  void report_active(const char* reason) const;\n+  void report_inactive(const char* reason, const G1ConcurrentRefineStats& stats) const;\n@@ -73,1 +90,3 @@\n-  virtual ~G1ConcurrentRefineThread();\n+  virtual ~G1ConcurrentRefineThread() = default;\n+\n+  uint worker_id() const { return _worker_id; }\n@@ -77,1 +96,5 @@\n-  virtual void activate() = 0;\n+  void activate();\n+\n+  G1ConcurrentRefineStats* refinement_stats() {\n+    return &_refinement_stats;\n+  }\n@@ -79,2 +102,2 @@\n-  G1ConcurrentRefineStats* refinement_stats() const {\n-    return _refinement_stats;\n+  const G1ConcurrentRefineStats* refinement_stats() const {\n+    return &_refinement_stats;\n@@ -87,33 +110,0 @@\n-\/\/ Singleton special refinement thread, registered with the dirty card queue.\n-\/\/ This thread supports notification of increases to the number of cards in\n-\/\/ the dirty card queue, which may trigger activation of this thread when it\n-\/\/ is not already running.\n-class G1PrimaryConcurrentRefineThread final : public G1ConcurrentRefineThread {\n-  \/\/ Support for activation.  The thread waits on this semaphore when idle.\n-  \/\/ Calls to activate signal it to wake the thread.\n-  Semaphore _notifier;\n-  DEFINE_PAD_MINUS_SIZE(0, DEFAULT_CACHE_LINE_SIZE, 0);\n-  \/\/ Used as both the activation threshold and also the \"is active\" state.\n-  \/\/ The value is SIZE_MAX when the thread is active, otherwise the threshold\n-  \/\/ for signaling the semaphore.\n-  volatile size_t _threshold;\n-  DEFINE_PAD_MINUS_SIZE(1, DEFAULT_CACHE_LINE_SIZE, sizeof(size_t));\n-\n-  bool wait_for_completed_buffers() override;\n-  bool maybe_deactivate() override;\n-\n-  G1PrimaryConcurrentRefineThread(G1ConcurrentRefine* cr);\n-\n-  void stop_service() override;\n-\n-public:\n-  static G1PrimaryConcurrentRefineThread* create(G1ConcurrentRefine* cr);\n-\n-  void activate() override;\n-\n-  \/\/ Used by the write barrier support to activate the thread if needed when\n-  \/\/ there are new refinement buffers.\n-  void notify(size_t num_cards);\n-  void update_notify_threshold(size_t threshold);\n-};\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineThread.hpp","additions":35,"deletions":45,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -0,0 +1,143 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#include \"precompiled.hpp\"\n+#include \"gc\/g1\/g1Analytics.hpp\"\n+#include \"gc\/g1\/g1ConcurrentRefineThreadsNeeded.hpp\"\n+#include \"gc\/g1\/heapRegion.hpp\"\n+#include \"gc\/g1\/g1Policy.hpp\"\n+#include \"utilities\/globalDefinitions.hpp\"\n+#include <math.h>\n+\n+G1ConcurrentRefineThreadsNeeded::G1ConcurrentRefineThreadsNeeded(G1Policy* policy,\n+                                                                 double update_period_ms) :\n+  _policy(policy),\n+  _update_period_ms(update_period_ms),\n+  _predicted_time_until_next_gc_ms(0.0),\n+  _predicted_cards_at_next_gc(0),\n+  _threads_needed(0)\n+{}\n+\n+\/\/ Estimate how many concurrent refinement threads we need to run to achieve\n+\/\/ the target number of card by the time the next GC happens.  There are\n+\/\/ several secondary goals we'd like to achieve while meeting that goal.\n+\/\/\n+\/\/ 1. Minimize the number of refinement threads running at once.\n+\/\/\n+\/\/ 2. Minimize the number of activations and deactivations for the\n+\/\/ refinement threads that run.\n+\/\/\n+\/\/ 3. Delay performing refinement work.  Having more dirty cards waiting to\n+\/\/ be refined can be beneficial, as further writes to the same card don't\n+\/\/ create more work.\n+void G1ConcurrentRefineThreadsNeeded::update(uint active_threads,\n+                                             size_t available_bytes,\n+                                             size_t num_cards,\n+                                             size_t target_num_cards) {\n+  const G1Analytics* analytics = _policy->analytics();\n+\n+  \/\/ Estimate time until next GC, based on remaining bytes available for\n+  \/\/ allocation and the allocation rate.\n+  double alloc_region_rate = analytics->predict_alloc_rate_ms();\n+  double alloc_bytes_rate = alloc_region_rate * HeapRegion::GrainBytes;\n+  if (alloc_bytes_rate == 0.0) {\n+    \/\/ A zero rate indicates we don't yet have data to use for predictions.\n+    \/\/ Since we don't have any idea how long until the next GC, use a time of\n+    \/\/ zero.\n+    _predicted_time_until_next_gc_ms = 0.0;\n+  } else {\n+    \/\/ If the heap size is large and the allocation rate is small, we can get\n+    \/\/ a predicted time until next GC that is so large it can cause problems\n+    \/\/ (such as overflow) in other calculations.  Limit the prediction to one\n+    \/\/ hour, which is still large in this context.\n+    const double one_hour_ms = 60.0 * 60.0 * MILLIUNITS;\n+    double raw_time_ms = available_bytes \/ alloc_bytes_rate;\n+    _predicted_time_until_next_gc_ms = MIN2(raw_time_ms, one_hour_ms);\n+  }\n+\n+  \/\/ Estimate number of cards that need to be processed before next GC.  There\n+  \/\/ are no incoming cards when time is short, because in that case the\n+  \/\/ controller activates refinement by mutator threads to stay on target even\n+  \/\/ if threads deactivate in the meantime.  This also covers the case of not\n+  \/\/ having a real prediction of time until GC.\n+  size_t incoming_cards = 0;\n+  if (_predicted_time_until_next_gc_ms > _update_period_ms) {\n+    double incoming_rate = analytics->predict_dirtied_cards_rate_ms();\n+    double raw_cards = incoming_rate * _predicted_time_until_next_gc_ms;\n+    incoming_cards = static_cast<size_t>(raw_cards);\n+  }\n+  size_t total_cards = num_cards + incoming_cards;\n+  _predicted_cards_at_next_gc = total_cards;\n+\n+  \/\/ No concurrent refinement needed.\n+  if (total_cards <= target_num_cards) {\n+    \/\/ We don't expect to exceed the target before the next GC.\n+    _threads_needed = 0;\n+    return;\n+  }\n+\n+  \/\/ The calculation of the number of threads needed isn't very stable when\n+  \/\/ time is short, and can lead to starting up lots of threads for not much\n+  \/\/ profit.  If we're in the last update period, don't change the number of\n+  \/\/ threads running, other than to treat the current thread as running.  That\n+  \/\/ might not be sufficient, but hopefully we were already reasonably close.\n+  \/\/ We won't accumulate more because mutator refinement will be activated.\n+  if (_predicted_time_until_next_gc_ms <= _update_period_ms) {\n+    _threads_needed = MAX2(active_threads, 1u);\n+    return;\n+  }\n+\n+  \/\/ Estimate the number of cards that need to be refined before the next GC\n+  \/\/ to meet the goal.\n+  size_t cards_needed = total_cards - target_num_cards;\n+\n+  \/\/ Estimate the rate at which a thread can refine cards.  If we don't yet\n+  \/\/ have an estimate then only request one running thread, since we do have\n+  \/\/ excess cards to process.  Just one thread might not be sufficient, but\n+  \/\/ we don't have any idea how many we actually need.  Eventually the\n+  \/\/ prediction machinery will warm up and we'll be able to get estimates.\n+  double refine_rate = analytics->predict_concurrent_refine_rate_ms();\n+  if (refine_rate == 0.0) {\n+    _threads_needed = 1;\n+    return;\n+  }\n+\n+  \/\/ Estimate the number of refinement threads we need to run in order to\n+  \/\/ reach the goal in time.\n+  double thread_capacity = refine_rate * _predicted_time_until_next_gc_ms;\n+  double nthreads = cards_needed \/ thread_capacity;\n+\n+  \/\/ Decide how to round nthreads to an integral number of threads.  Always\n+  \/\/ rounding up is contrary to delaying refinement work.  But when we're\n+  \/\/ close to the next GC we want to drive toward the target, so round up\n+  \/\/ then.  The rest of the time we round to nearest, trying to remain near\n+  \/\/ the middle of the range.\n+  if (_predicted_time_until_next_gc_ms <= _update_period_ms * 5.0) {\n+    nthreads = ::ceil(nthreads);\n+  } else {\n+    nthreads = ::round(nthreads);\n+  }\n+\n+  _threads_needed = static_cast<uint>(MIN2<size_t>(nthreads, UINT_MAX));\n+}\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineThreadsNeeded.cpp","additions":143,"deletions":0,"binary":false,"changes":143,"status":"added"},{"patch":"@@ -0,0 +1,70 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#ifndef SHARE_GC_G1_G1CONCURRENTREFINETHREADSNEEDED_HPP\n+#define SHARE_GC_G1_G1CONCURRENTREFINETHREADSNEEDED_HPP\n+\n+#include \"memory\/allocation.hpp\"\n+#include \"utilities\/globalDefinitions.hpp\"\n+\n+class G1Analytics;\n+class G1Policy;\n+\n+\/\/ Used to compute the number of refinement threads that need to be running\n+\/\/ in order to have the number of pending cards below the policy-directed\n+\/\/ goal when the next GC occurs.\n+class G1ConcurrentRefineThreadsNeeded : public CHeapObj<mtGC> {\n+  G1Policy* _policy;\n+  double _update_period_ms;\n+  double _predicted_time_until_next_gc_ms;\n+  size_t _predicted_cards_at_next_gc;\n+  uint _threads_needed;\n+\n+public:\n+  G1ConcurrentRefineThreadsNeeded(G1Policy* policy, double update_period_ms);\n+\n+  \/\/ Update the number of running refinement threads needed to reach the\n+  \/\/ target before the next GC.\n+  void update(uint active_threads,\n+              size_t available_bytes,\n+              size_t num_cards,\n+              size_t target_num_cards);\n+\n+  \/\/ Estimate of the number of active refinement threads needed to reach the\n+  \/\/ target before the next GC.\n+  uint threads_needed() const { return _threads_needed; }\n+\n+  \/\/ Estimate of the time until the next GC.\n+  double predicted_time_until_next_gc_ms() const {\n+    return _predicted_time_until_next_gc_ms;\n+  }\n+\n+  \/\/ Estimate of the number of pending cards at the next GC if no further\n+  \/\/ refinement is performed.\n+  size_t predicted_cards_at_next_gc() const {\n+    return _predicted_cards_at_next_gc;\n+  }\n+};\n+\n+#endif \/\/ SHARE_GC_G1_G1CONCURRENTREFINETHREADSNEEDED_HPP\n","filename":"src\/hotspot\/share\/gc\/g1\/g1ConcurrentRefineThreadsNeeded.hpp","additions":70,"deletions":0,"binary":false,"changes":70,"status":"added"},{"patch":"@@ -70,1 +70,0 @@\n-  _refinement_notification_thread(nullptr),\n@@ -72,0 +71,1 @@\n+  _mutator_refinement_threshold(SIZE_MAX),\n@@ -75,2 +75,0 @@\n-  _max_cards(MaxCardsUnlimited),\n-  _padded_max_cards(MaxCardsUnlimited),\n@@ -129,11 +127,6 @@\n-  size_t new_num_cards = Atomic::add(&_num_cards, buffer_size() - cbn->index());\n-  {\n-    \/\/ Perform push in CS.  The old tail may be popped while the push is\n-    \/\/ observing it (attaching it to the new buffer).  We need to ensure it\n-    \/\/ can't be reused until the push completes, to avoid ABA problems.\n-    GlobalCounter::CriticalSection cs(Thread::current());\n-    _completed.push(*cbn);\n-  }\n-  if (_refinement_notification_thread != nullptr) {\n-    _refinement_notification_thread->notify(new_num_cards);\n-  }\n+  Atomic::add(&_num_cards, buffer_size() - cbn->index());\n+  \/\/ Perform push in CS.  The old tail may be popped while the push is\n+  \/\/ observing it (attaching it to the new buffer).  We need to ensure it\n+  \/\/ can't be reused until the push completes, to avoid ABA problems.\n+  GlobalCounter::CriticalSection cs(Thread::current());\n+  _completed.push(*cbn);\n@@ -496,1 +489,1 @@\n-  if (Atomic::load(&_num_cards) <= Atomic::load(&_padded_max_cards)) {\n+  if (Atomic::load(&_num_cards) <= Atomic::load(&_mutator_refinement_threshold)) {\n@@ -545,0 +538,3 @@\n+  \/\/ Disable mutator refinement until concurrent refinement decides otherwise.\n+  set_mutator_refinement_threshold(SIZE_MAX);\n+\n@@ -560,3 +556,0 @@\n-  \/\/ Iterate over all the threads, if we find a partial log add it to\n-  \/\/ the global list of logs.  Temporarily turn off the limit on the number\n-  \/\/ of outstanding buffers.\n@@ -564,2 +557,0 @@\n-  size_t old_limit = max_cards();\n-  set_max_cards(MaxCardsUnlimited);\n@@ -567,0 +558,5 @@\n+  \/\/ Disable mutator refinement until concurrent refinement decides otherwise.\n+  set_mutator_refinement_threshold(SIZE_MAX);\n+\n+  \/\/ Iterate over all the threads, if we find a partial log add it to\n+  \/\/ the global list of logs.\n@@ -582,1 +578,0 @@\n-  set_max_cards(old_limit);\n@@ -619,7 +614,2 @@\n-size_t G1DirtyCardQueueSet::max_cards() const {\n-  return _max_cards;\n-}\n-\n-void G1DirtyCardQueueSet::set_max_cards(size_t value) {\n-  _max_cards = value;\n-  Atomic::store(&_padded_max_cards, value);\n+size_t G1DirtyCardQueueSet::mutator_refinement_threshold() const {\n+  return Atomic::load(&_mutator_refinement_threshold);\n@@ -628,14 +618,2 @@\n-void G1DirtyCardQueueSet::set_max_cards_padding(size_t padding) {\n-  \/\/ Compute sum, clipping to max.\n-  size_t limit = _max_cards + padding;\n-  if (limit < padding) {        \/\/ Check for overflow.\n-    limit = MaxCardsUnlimited;\n-  }\n-  Atomic::store(&_padded_max_cards, limit);\n-}\n-\n-void G1DirtyCardQueueSet::discard_max_cards_padding() {\n-  \/\/ Being racy here is okay, since all threads store the same value.\n-  if (_max_cards != Atomic::load(&_padded_max_cards)) {\n-    Atomic::store(&_padded_max_cards, _max_cards);\n-  }\n+void G1DirtyCardQueueSet::set_mutator_refinement_threshold(size_t value) {\n+  Atomic::store(&_mutator_refinement_threshold, value);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1DirtyCardQueue.cpp","additions":20,"deletions":42,"binary":false,"changes":62,"status":"modified"},{"patch":"@@ -159,4 +159,1 @@\n-  \/\/ The refinement notification thread, for activation when the notification\n-  \/\/ threshold is reached.  nullptr if there aren't any refinement threads.\n-  G1PrimaryConcurrentRefineThread* _refinement_notification_thread;\n-  DEFINE_PAD_MINUS_SIZE(1, DEFAULT_CACHE_LINE_SIZE, sizeof(G1PrimaryConcurrentRefineThread*));\n+  DEFINE_PAD_MINUS_SIZE(0, DEFAULT_CACHE_LINE_SIZE, 0);\n@@ -165,0 +162,4 @@\n+  DEFINE_PAD_MINUS_SIZE(1, DEFAULT_CACHE_LINE_SIZE, sizeof(size_t));\n+  \/\/ If the queue contains more cards than configured here, the\n+  \/\/ mutator must start doing some of the concurrent refinement work.\n+  volatile size_t _mutator_refinement_threshold;\n@@ -177,6 +178,0 @@\n-  \/\/ If the queue contains more cards than configured here, the\n-  \/\/ mutator must start doing some of the concurrent refinement work.\n-  size_t _max_cards;\n-  volatile size_t _padded_max_cards;\n-  static const size_t MaxCardsUnlimited = SIZE_MAX;\n-\n@@ -230,2 +225,2 @@\n-  \/\/ are more than max_cards (possibly padded) cards in the completed\n-  \/\/ buffers.  Updates stats.\n+  \/\/ are more than mutator_refinement_threshold cards in the completed buffers.\n+  \/\/ Updates stats.\n@@ -255,6 +250,0 @@\n-  \/\/ Record the primary concurrent refinement thread.  This is the thread to\n-  \/\/ be notified when num_cards() exceeds the refinement notification threshold.\n-  void set_refinement_notification_thread(G1PrimaryConcurrentRefineThread* thread) {\n-    _refinement_notification_thread = thread;\n-  }\n-\n@@ -296,9 +285,2 @@\n-  \/\/ Threshold for mutator threads to also do refinement when there\n-  \/\/ are concurrent refinement threads.\n-  size_t max_cards() const;\n-\n-  \/\/ Set threshold for mutator threads to also do refinement.\n-  void set_max_cards(size_t value);\n-\n-  \/\/ Artificially increase mutator refinement threshold.\n-  void set_max_cards_padding(size_t padding);\n+  \/\/ Number of cards above which mutator threads should do refinement.\n+  size_t mutator_refinement_threshold() const;\n@@ -306,2 +288,2 @@\n-  \/\/ Discard artificial increase of mutator refinement threshold.\n-  void discard_max_cards_padding();\n+  \/\/ Set number of cards above which mutator threads should do refinement.\n+  void set_mutator_refinement_threshold(size_t value);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1DirtyCardQueue.hpp","additions":11,"deletions":29,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -115,1 +115,1 @@\n-    MergeRSDirtyCards,\n+    MergeRSCards,\n@@ -122,1 +122,1 @@\n-      \"Dirty Cards\" };\n+      \"Merged Cards\" };\n@@ -393,1 +393,4 @@\n-    return _cur_collection_initial_evac_time_ms + _cur_optional_evac_time_ms;\n+    return _cur_collection_initial_evac_time_ms +\n+           _cur_optional_evac_time_ms +\n+           _cur_merge_heap_roots_time_ms +\n+           _cur_optional_merge_heap_roots_time_ms;\n","filename":"src\/hotspot\/share\/gc\/g1\/g1GCPhaseTimes.hpp","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+#include \"gc\/g1\/g1Allocator.hpp\"\n@@ -76,1 +77,0 @@\n-  _rs_length_prediction(0),\n@@ -183,11 +183,5 @@\n-  \/\/ One could argue that any useful eden length to keep any MMU wouldn't be zero, but\n-  \/\/ in theory this is possible. Other constraints enforce a minimum eden size of one\n-  \/\/ region anyway.\n-  uint desired_min_length = 0;\n-  if (use_adaptive_young_list_length()) {\n-    double now_sec = os::elapsedTime();\n-    double when_ms = _mmu_tracker->when_max_gc_sec(now_sec) * 1000.0;\n-    double alloc_rate_ms = _analytics->predict_alloc_rate_ms();\n-    desired_min_length = (uint) ceil(alloc_rate_ms * when_ms);\n-  }\n-  return desired_min_length;\n+  assert(use_adaptive_young_list_length(), \"precondition\");\n+  double now_sec = os::elapsedTime();\n+  double when_ms = _mmu_tracker->when_max_gc_sec(now_sec) * 1000.0;\n+  double alloc_rate_ms = _analytics->predict_alloc_rate_ms();\n+  return (uint) ceil(alloc_rate_ms * when_ms);\n@@ -197,1 +191,3 @@\n-  update_young_length_bounds(_analytics->predict_rs_length());\n+  bool for_young_only_phase = collector_state()->in_young_only_phase();\n+  update_young_length_bounds(_analytics->predict_pending_cards(for_young_only_phase),\n+                             _analytics->predict_rs_length(for_young_only_phase));\n@@ -200,2 +196,4 @@\n-void G1Policy::update_young_length_bounds(size_t rs_length) {\n-  _young_list_desired_length = calculate_young_desired_length(rs_length);\n+void G1Policy::update_young_length_bounds(size_t pending_cards, size_t rs_length) {\n+  uint old_young_list_target_length = _young_list_target_length;\n+\n+  _young_list_desired_length = calculate_young_desired_length(pending_cards, rs_length);\n@@ -205,1 +203,4 @@\n-  log_debug(gc, ergo, heap)(\"Young list lengths: desired: %u, target: %u, max: %u\",\n+  log_trace(gc, ergo, heap)(\"Young list length update: pending cards %zu rs_length %zu old target %u desired: %u target: %u max: %u\",\n+                            pending_cards,\n+                            rs_length,\n+                            old_young_list_target_length,\n@@ -224,1 +225,1 @@\n-uint G1Policy::calculate_young_desired_length(size_t rs_length) const {\n+uint G1Policy::calculate_young_desired_length(size_t pending_cards, size_t rs_length) const {\n@@ -259,1 +260,0 @@\n-    const size_t pending_cards = _analytics->predict_pending_cards();\n@@ -489,1 +489,1 @@\n-    predicted_region_evac_time_ms += predict_region_total_time_ms(r, false \/* for_young_gc *\/);\n+    predicted_region_evac_time_ms += predict_region_total_time_ms(r, false \/* for_young_only_phase *\/);\n@@ -519,1 +519,1 @@\n-void G1Policy::revise_young_list_target_length_if_necessary(size_t rs_length) {\n+void G1Policy::revise_young_list_target_length(size_t rs_length) {\n@@ -522,16 +522,4 @@\n-  if (rs_length > _rs_length_prediction) {\n-    \/\/ add 10% to avoid having to recalculate often\n-    size_t rs_length_prediction = rs_length * 1100 \/ 1000;\n-    update_rs_length_prediction(rs_length_prediction);\n-    update_young_length_bounds(rs_length_prediction);\n-  }\n-}\n-\n-void G1Policy::update_rs_length_prediction() {\n-  update_rs_length_prediction(_analytics->predict_rs_length());\n-}\n-\n-void G1Policy::update_rs_length_prediction(size_t prediction) {\n-  if (collector_state()->in_young_only_phase() && use_adaptive_young_list_length()) {\n-    _rs_length_prediction = prediction;\n-  }\n+  size_t thread_buffer_cards = _analytics->predict_dirtied_cards_in_thread_buffers();\n+  G1DirtyCardQueueSet& dcqs = G1BarrierSet::dirty_card_queue_set();\n+  size_t pending_cards = dcqs.num_cards() + thread_buffer_cards;\n+  update_young_length_bounds(pending_cards, rs_length);\n@@ -572,1 +560,0 @@\n-  update_rs_length_prediction();\n@@ -632,0 +619,5 @@\n+void G1Policy::record_concatenate_dirty_card_logs(Tickspan concat_time, size_t num_cards) {\n+  _analytics->report_dirtied_cards_in_thread_buffers(num_cards);\n+  phase_times()->record_concatenate_dirty_card_logs_time_ms(concat_time.seconds() * MILLIUNITS);\n+}\n+\n@@ -696,1 +688,1 @@\n-  return other_time_ms(pause_time_ms) - phase_times()->total_rebuild_freelist_time_ms();\n+  return other_time_ms(pause_time_ms) - (young_other_time_ms() + non_young_other_time_ms());\n@@ -752,0 +744,1 @@\n+  bool is_young_only_pause = G1GCPauseTypeHelper::is_young_only_pause(this_pause);\n@@ -805,1 +798,1 @@\n-    assert(G1GCPauseTypeHelper::is_young_only_pause(this_pause), \"must be\");\n+    assert(is_young_only_pause, \"must be\");\n@@ -812,12 +805,10 @@\n-    size_t const total_log_buffer_cards = p->sum_thread_work_items(G1GCPhaseTimes::MergeHCC, G1GCPhaseTimes::MergeHCCDirtyCards) +\n-                                          p->sum_thread_work_items(G1GCPhaseTimes::MergeLB, G1GCPhaseTimes::MergeLBDirtyCards);\n-    \/\/ Update prediction for card merge; MergeRSDirtyCards includes the cards from the Eager Reclaim phase.\n-    size_t const total_cards_merged = p->sum_thread_work_items(G1GCPhaseTimes::MergeRS, G1GCPhaseTimes::MergeRSDirtyCards) +\n-                                      p->sum_thread_work_items(G1GCPhaseTimes::OptMergeRS, G1GCPhaseTimes::MergeRSDirtyCards) +\n-                                      total_log_buffer_cards;\n-\n-    \/\/ The threshold for the number of cards in a given sampling which we consider\n-    \/\/ large enough so that the impact from setup and other costs is negligible.\n-    size_t const CardsNumSamplingThreshold = 10;\n-\n-    if (total_cards_merged > CardsNumSamplingThreshold) {\n+    \/\/ Update prediction for card merge.\n+    size_t const merged_cards_from_log_buffers = p->sum_thread_work_items(G1GCPhaseTimes::MergeHCC, G1GCPhaseTimes::MergeHCCDirtyCards) +\n+                                                 p->sum_thread_work_items(G1GCPhaseTimes::MergeLB, G1GCPhaseTimes::MergeLBDirtyCards);\n+    \/\/ MergeRSCards includes the cards from the Eager Reclaim phase.\n+    size_t const merged_cards_from_rs = p->sum_thread_work_items(G1GCPhaseTimes::MergeRS, G1GCPhaseTimes::MergeRSCards) +\n+                                        p->sum_thread_work_items(G1GCPhaseTimes::OptMergeRS, G1GCPhaseTimes::MergeRSCards);\n+    size_t const total_cards_merged = merged_cards_from_rs +\n+                                      merged_cards_from_log_buffers;\n+\n+    if (total_cards_merged >= G1NumCardsCostSampleThreshold) {\n@@ -829,2 +820,1 @@\n-      _analytics->report_cost_per_card_merge_ms(avg_time_merge_cards \/ total_cards_merged,\n-                                                G1GCPauseTypeHelper::is_young_only_pause(this_pause));\n+      _analytics->report_cost_per_card_merge_ms(avg_time_merge_cards \/ total_cards_merged, is_young_only_pause);\n@@ -837,1 +827,1 @@\n-    if (total_cards_scanned > CardsNumSamplingThreshold) {\n+    if (total_cards_scanned >= G1NumCardsCostSampleThreshold) {\n@@ -841,2 +831,1 @@\n-      _analytics->report_cost_per_card_scan_ms(avg_time_dirty_card_scan \/ total_cards_scanned,\n-                                               G1GCPauseTypeHelper::is_young_only_pause(this_pause));\n+      _analytics->report_cost_per_card_scan_ms(avg_time_dirty_card_scan \/ total_cards_scanned, is_young_only_pause);\n@@ -847,3 +836,1 @@\n-    \/\/ Cards from the remembered sets are all cards not duplicated by cards from\n-    \/\/ the logs.\n-    \/\/ Due to duplicates in the log buffers, the number of actually scanned cards\n+    \/\/ Due to duplicates in the log buffers, the number of scanned cards\n@@ -851,4 +838,4 @@\n-    const size_t from_rs_length_cards = (total_cards_scanned > total_log_buffer_cards) ? total_cards_scanned - total_log_buffer_cards : 0;\n-    double merge_to_scan_ratio = 0.0;\n-    if (total_cards_scanned > 0) {\n-      merge_to_scan_ratio = (double) from_rs_length_cards \/ total_cards_scanned;\n+    const size_t scanned_cards_from_rs = (total_cards_scanned > merged_cards_from_log_buffers) ? total_cards_scanned - merged_cards_from_log_buffers : 0;\n+    double scan_to_merge_ratio = 0.0;\n+    if (merged_cards_from_rs > 0) {\n+      scan_to_merge_ratio = (double)scanned_cards_from_rs \/ merged_cards_from_rs;\n@@ -856,2 +843,1 @@\n-    _analytics->report_card_merge_to_scan_ratio(merge_to_scan_ratio,\n-                                                G1GCPauseTypeHelper::is_young_only_pause(this_pause));\n+    _analytics->report_card_scan_to_merge_ratio(scan_to_merge_ratio, is_young_only_pause);\n@@ -861,1 +847,1 @@\n-    _analytics->report_rs_length_diff(rs_length_diff);\n+    _analytics->report_rs_length_diff(rs_length_diff, is_young_only_pause);\n@@ -886,5 +872,2 @@\n-    \/\/ During mixed gc we do not use them for young gen sizing.\n-    if (G1GCPauseTypeHelper::is_young_only_pause(this_pause)) {\n-      _analytics->report_pending_cards((double) _pending_cards_at_gc_start);\n-      _analytics->report_rs_length((double) _rs_length);\n-    }\n+    _analytics->report_pending_cards((double) _pending_cards_at_gc_start, is_young_only_pause);\n+    _analytics->report_rs_length((double) _rs_length, is_young_only_pause);\n@@ -901,1 +884,0 @@\n-  update_rs_length_prediction();\n@@ -917,1 +899,1 @@\n-    \/\/ the marking threads may have received an uncharacterisic amount of cpu time\n+    \/\/ the marking threads may have received an uncharacteristic amount of cpu time\n@@ -925,1 +907,1 @@\n-  double scan_logged_cards_time_goal_ms = _mmu_tracker->max_gc_time() * MILLIUNITS * G1RSetUpdatingPauseTimePercent \/ 100.0;\n+  double logged_cards_time_goal_ms = _mmu_tracker->max_gc_time() * MILLIUNITS * G1RSetUpdatingPauseTimePercent \/ 100.0;\n@@ -927,1 +909,1 @@\n-  if (scan_logged_cards_time_goal_ms < merge_hcc_time_ms) {\n+  if (logged_cards_time_goal_ms < merge_hcc_time_ms) {\n@@ -930,1 +912,1 @@\n-                                scan_logged_cards_time_goal_ms, merge_hcc_time_ms);\n+                                logged_cards_time_goal_ms, merge_hcc_time_ms);\n@@ -932,1 +914,1 @@\n-    scan_logged_cards_time_goal_ms = 0;\n+    logged_cards_time_goal_ms = 0;\n@@ -934,1 +916,1 @@\n-    scan_logged_cards_time_goal_ms -= merge_hcc_time_ms;\n+    logged_cards_time_goal_ms -= merge_hcc_time_ms;\n@@ -937,4 +919,10 @@\n-  double const logged_cards_time = logged_cards_processing_time();\n-\n-  log_debug(gc, ergo, refine)(\"Concurrent refinement times: Logged Cards Scan time goal: %1.2fms Logged Cards Scan time: %1.2fms HCC time: %1.2fms\",\n-                              scan_logged_cards_time_goal_ms, logged_cards_time, merge_hcc_time_ms);\n+  double const logged_cards_time_ms = logged_cards_processing_time();\n+  size_t logged_cards =\n+    phase_times()->sum_thread_work_items(G1GCPhaseTimes::MergeLB,\n+                                         G1GCPhaseTimes::MergeLBDirtyCards);\n+  size_t hcc_cards =\n+    phase_times()->sum_thread_work_items(G1GCPhaseTimes::MergeHCC,\n+                                         G1GCPhaseTimes::MergeHCCDirtyCards);\n+  bool exceeded_goal = logged_cards_time_goal_ms < logged_cards_time_ms;\n+  size_t predicted_thread_buffer_cards = _analytics->predict_dirtied_cards_in_thread_buffers();\n+  G1ConcurrentRefine* cr = _g1h->concurrent_refine();\n@@ -942,3 +930,15 @@\n-  _g1h->concurrent_refine()->adjust(logged_cards_time,\n-                                    phase_times()->sum_thread_work_items(G1GCPhaseTimes::MergeLB, G1GCPhaseTimes::MergeLBDirtyCards),\n-                                    scan_logged_cards_time_goal_ms);\n+  log_debug(gc, ergo, refine)\n+           (\"GC refinement: goal: %zu + %zu \/ %1.2fms, actual: %zu \/ %1.2fms, HCC: %zu \/ %1.2fms%s\",\n+            cr->pending_cards_target(),\n+            predicted_thread_buffer_cards,\n+            logged_cards_time_goal_ms,\n+            logged_cards,\n+            logged_cards_time_ms,\n+            hcc_cards,\n+            merge_hcc_time_ms,\n+            (exceeded_goal ? \" (exceeded goal)\" : \"\"));\n+\n+  cr->adjust_after_gc(logged_cards_time_ms,\n+                      logged_cards,\n+                      predicted_thread_buffer_cards,\n+                      logged_cards_time_goal_ms);\n@@ -1035,1 +1035,2 @@\n-  size_t rs_length = _analytics->predict_rs_length();\n+  bool for_young_only_phase = collector_state()->in_young_only_phase();\n+  size_t rs_length = _analytics->predict_rs_length(for_young_only_phase);\n@@ -1066,1 +1067,1 @@\n-                                                 bool for_young_gc) const {\n+                                                 bool for_young_only_phase) const {\n@@ -1068,1 +1069,1 @@\n-  size_t scan_card_num = _analytics->predict_scan_card_num(rs_length, for_young_gc);\n+  size_t scan_card_num = _analytics->predict_scan_card_num(rs_length, for_young_only_phase);\n@@ -1084,2 +1085,2 @@\n-double G1Policy::predict_region_total_time_ms(HeapRegion* hr, bool for_young_gc) const {\n-  return predict_region_non_copy_time_ms(hr, for_young_gc) + predict_region_copy_time_ms(hr);\n+double G1Policy::predict_region_total_time_ms(HeapRegion* hr, bool for_young_only_phase) const {\n+  return predict_region_non_copy_time_ms(hr, for_young_only_phase) + predict_region_copy_time_ms(hr);\n@@ -1104,0 +1105,10 @@\n+size_t G1Policy::estimate_used_young_bytes_locked() const {\n+  assert_lock_strong(Heap_lock);\n+  G1Allocator* allocator = _g1h->allocator();\n+  uint used = _g1h->young_regions_count();\n+  uint alloc = allocator->num_nodes();\n+  uint full = used - MIN2(used, alloc);\n+  size_t bytes_used = full * HeapRegion::GrainBytes;\n+  return bytes_used + allocator->used_in_alloc_regions();\n+}\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.cpp","additions":101,"deletions":90,"binary":false,"changes":191,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,0 +39,1 @@\n+#include \"utilities\/ticks.hpp\"\n@@ -107,2 +108,0 @@\n-  size_t _rs_length_prediction;\n-\n@@ -150,2 +149,2 @@\n-  double predict_region_non_copy_time_ms(HeapRegion* hr, bool for_young_gc) const;\n-  double predict_region_total_time_ms(HeapRegion* hr, bool for_young_gc) const;\n+  double predict_region_non_copy_time_ms(HeapRegion* hr, bool for_young_only_phase) const;\n+  double predict_region_total_time_ms(HeapRegion* hr, bool for_young_only_phase) const;\n@@ -197,2 +196,2 @@\n-  \/\/ If no rs_length parameter is passed, predict the RS length using the\n-  \/\/ prediction model, otherwise use the given rs_length as the prediction.\n+  \/\/ If no parameters are passed, predict pending cards and the RS length using\n+  \/\/ the prediction model.\n@@ -200,1 +199,1 @@\n-  void update_young_length_bounds(size_t rs_length);\n+  void update_young_length_bounds(size_t pending_cards, size_t rs_length);\n@@ -228,1 +227,1 @@\n-  uint calculate_young_desired_length(size_t rs_length) const;\n+  uint calculate_young_desired_length(size_t pending_cards, size_t rs_length) const;\n@@ -235,3 +234,0 @@\n-  void update_rs_length_prediction();\n-  void update_rs_length_prediction(size_t prediction);\n-\n@@ -298,1 +294,1 @@\n-  void revise_young_list_target_length_if_necessary(size_t rs_length);\n+  void revise_young_list_target_length(size_t rs_length);\n@@ -303,0 +299,2 @@\n+  void record_concatenate_dirty_card_logs(Tickspan concat_time, size_t num_cards);\n+\n@@ -397,0 +395,4 @@\n+  \/\/ Return an estimate of the number of bytes used in young gen.\n+  \/\/ precondition: holding Heap_lock\n+  size_t estimate_used_young_bytes_locked() const;\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1Policy.hpp","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -43,1 +43,0 @@\n-#include \"gc\/g1\/g1ServiceThread.hpp\"\n@@ -51,1 +50,0 @@\n-#include \"gc\/shared\/suspendibleThreadSet.hpp\"\n@@ -471,112 +469,0 @@\n-class G1YoungRemSetSamplingClosure : public HeapRegionClosure {\n-  SuspendibleThreadSetJoiner* _sts;\n-  size_t _regions_visited;\n-  size_t _sampled_rs_length;\n-public:\n-  G1YoungRemSetSamplingClosure(SuspendibleThreadSetJoiner* sts) :\n-    HeapRegionClosure(), _sts(sts), _regions_visited(0), _sampled_rs_length(0) { }\n-\n-  virtual bool do_heap_region(HeapRegion* r) {\n-    size_t rs_length = r->rem_set()->occupied();\n-    _sampled_rs_length += rs_length;\n-\n-    \/\/ Update the collection set policy information for this region\n-    G1CollectedHeap::heap()->collection_set()->update_young_region_prediction(r, rs_length);\n-\n-    _regions_visited++;\n-\n-    if (_regions_visited == 10) {\n-      if (_sts->should_yield()) {\n-        _sts->yield();\n-        \/\/ A gc may have occurred and our sampling data is stale and further\n-        \/\/ traversal of the collection set is unsafe\n-        return true;\n-      }\n-      _regions_visited = 0;\n-    }\n-    return false;\n-  }\n-\n-  size_t sampled_rs_length() const { return _sampled_rs_length; }\n-};\n-\n-\/\/ Task handling young gen remembered set sampling.\n-class G1RemSetSamplingTask : public G1ServiceTask {\n-  \/\/ Helper to account virtual time.\n-  class VTimer {\n-    double _start;\n-  public:\n-    VTimer() : _start(os::elapsedVTime()) { }\n-    double duration() { return os::elapsedVTime() - _start; }\n-  };\n-\n-  double _vtime_accum;  \/\/ Accumulated virtual time.\n-  void update_vtime_accum(double duration) {\n-    _vtime_accum += duration;\n-  }\n-\n-  \/\/ Sample the current length of remembered sets for young.\n-  \/\/\n-  \/\/ At the end of the GC G1 determines the length of the young gen based on\n-  \/\/ how much time the next GC can take, and when the next GC may occur\n-  \/\/ according to the MMU.\n-  \/\/\n-  \/\/ The assumption is that a significant part of the GC is spent on scanning\n-  \/\/ the remembered sets (and many other components), so this thread constantly\n-  \/\/ reevaluates the prediction for the remembered set scanning costs, and potentially\n-  \/\/ G1Policy resizes the young gen. This may do a premature GC or even\n-  \/\/ increase the young gen size to keep pause time length goal.\n-  void sample_young_list_rs_length(SuspendibleThreadSetJoiner* sts){\n-    G1CollectedHeap* g1h = G1CollectedHeap::heap();\n-    G1Policy* policy = g1h->policy();\n-    VTimer vtime;\n-\n-    if (policy->use_adaptive_young_list_length()) {\n-      G1YoungRemSetSamplingClosure cl(sts);\n-\n-      G1CollectionSet* g1cs = g1h->collection_set();\n-      g1cs->iterate(&cl);\n-\n-      if (cl.is_complete()) {\n-        policy->revise_young_list_target_length_if_necessary(cl.sampled_rs_length());\n-      }\n-    }\n-    update_vtime_accum(vtime.duration());\n-  }\n-\n-  \/\/ There is no reason to do the sampling if a GC occurred recently. We use the\n-  \/\/ G1ConcRefinementServiceIntervalMillis as the metric for recently and calculate\n-  \/\/ the diff to the last GC. If the last GC occurred longer ago than the interval\n-  \/\/ 0 is returned.\n-  jlong reschedule_delay_ms() {\n-    Tickspan since_last_gc = G1CollectedHeap::heap()->time_since_last_collection();\n-    jlong delay = (jlong) (G1ConcRefinementServiceIntervalMillis - since_last_gc.milliseconds());\n-    return MAX2<jlong>(0L, delay);\n-  }\n-\n-public:\n-  G1RemSetSamplingTask(const char* name) : G1ServiceTask(name) { }\n-  virtual void execute() {\n-    SuspendibleThreadSetJoiner sts;\n-\n-    \/\/ Reschedule if a GC happened too recently.\n-    jlong delay_ms = reschedule_delay_ms();\n-    if (delay_ms > 0) {\n-      schedule(delay_ms);\n-      return;\n-    }\n-\n-    \/\/ Do the actual sampling.\n-    sample_young_list_rs_length(&sts);\n-    schedule(G1ConcRefinementServiceIntervalMillis);\n-  }\n-\n-  double vtime_accum() {\n-    \/\/ Only report vtime if supported by the os.\n-    if (!os::supports_vtime()) {\n-      return 0.0;\n-    }\n-    return _vtime_accum;\n-  }\n-};\n-\n@@ -591,2 +477,1 @@\n-  _hot_card_cache(hot_card_cache),\n-  _sampling_task(NULL) {\n+  _hot_card_cache(hot_card_cache) {\n@@ -597,1 +482,0 @@\n-  delete _sampling_task;\n@@ -604,11 +488,0 @@\n-void G1RemSet::initialize_sampling_task(G1ServiceThread* thread) {\n-  assert(_sampling_task == NULL, \"Sampling task already initialized\");\n-  _sampling_task = new G1RemSetSamplingTask(\"Remembered Set Sampling Task\");\n-  thread->register_task(_sampling_task);\n-}\n-\n-double G1RemSet::sampling_task_vtime() {\n-  assert(_sampling_task != NULL, \"Must have been initialized\");\n-  return _sampling_task->vtime_accum();\n-}\n-\n@@ -1119,2 +992,2 @@\n-    void inc_cards_dirty(size_t increment = 1) {\n-      _merged[G1GCPhaseTimes::MergeRSDirtyCards] += increment;\n+    void inc_remset_cards(size_t increment = 1) {\n+      _merged[G1GCPhaseTimes::MergeRSCards] += increment;\n@@ -1175,1 +1048,0 @@\n-        _stats.inc_cards_dirty();\n@@ -1178,0 +1050,1 @@\n+      _stats.inc_remset_cards();\n@@ -1198,1 +1071,1 @@\n-      assert(tag < G1GCPhaseTimes::MergeRSDirtyCards, \"invalid tag %u\", tag);\n+      assert(tag < G1GCPhaseTimes::MergeRSCards, \"invalid tag %u\", tag);\n@@ -1208,2 +1081,2 @@\n-      size_t num_dirtied = _ct->mark_range_dirty(_region_base_idx + start_card_idx, length);\n-      _stats.inc_cards_dirty(num_dirtied);\n+      _ct->mark_range_dirty(_region_base_idx + start_card_idx, length);\n+      _stats.inc_remset_cards(length);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.cpp","additions":7,"deletions":134,"binary":false,"changes":141,"status":"modified"},{"patch":"@@ -73,1 +73,0 @@\n-  G1RemSetSamplingTask*  _sampling_task;\n@@ -90,6 +89,0 @@\n-  \/\/ Initialize and schedule young remembered set sampling task.\n-  void initialize_sampling_task(G1ServiceThread* thread);\n-\n-  \/\/ Accumulated vtime used by the sampling task.\n-  double sampling_task_vtime();\n-\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSet.hpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -55,2 +55,0 @@\n-\n-  set_sampling_task_vtime(g1h->rem_set()->sampling_task_vtime());\n@@ -73,2 +71,1 @@\n-  _rs_threads_vtimes(NEW_C_HEAP_ARRAY(double, _num_vtimes, mtGC)),\n-  _sampling_task_vtime(0.0f) {\n+  _rs_threads_vtimes(NEW_C_HEAP_ARRAY(double, _num_vtimes, mtGC)) {\n@@ -92,2 +89,0 @@\n-\n-  set_sampling_task_vtime(other->sampling_task_vtime());\n@@ -103,2 +98,0 @@\n-\n-  _sampling_task_vtime = other->sampling_task_vtime() - _sampling_task_vtime;\n@@ -332,2 +325,0 @@\n-    out->print_cr(\" Sampling task time (ms)\");\n-    out->print_cr(\"         %5.3f\", sampling_task_vtime() * MILLIUNITS);\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSetSummary.cpp","additions":2,"deletions":11,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,2 +40,0 @@\n-  double _sampling_task_vtime;\n-\n@@ -43,3 +41,0 @@\n-  void set_sampling_task_vtime(double value) {\n-    _sampling_task_vtime = value;\n-  }\n@@ -63,4 +58,0 @@\n-\n-  double sampling_task_vtime() const {\n-    return _sampling_task_vtime;\n-  }\n","filename":"src\/hotspot\/share\/gc\/g1\/g1RemSetSummary.hpp","additions":1,"deletions":10,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -470,0 +470,10 @@\n+void G1YoungCollector::flush_dirty_card_queues() {\n+  Ticks start = Ticks::now();\n+  G1DirtyCardQueueSet& qset = G1BarrierSet::dirty_card_queue_set();\n+  size_t old_cards = qset.num_cards();\n+  qset.concatenate_logs();\n+  size_t added_cards = qset.num_cards() - old_cards;\n+  Tickspan concat_time = Ticks::now() - start;\n+  policy()->record_concatenate_dirty_card_logs(concat_time, added_cards);\n+}\n+\n@@ -486,8 +496,3 @@\n-  {\n-    \/\/ Flush dirty card queues to qset, so later phases don't need to account\n-    \/\/ for partially filled per-thread queues and such.\n-    Ticks start = Ticks::now();\n-    G1BarrierSet::dirty_card_queue_set().concatenate_logs();\n-    Tickspan dt = Ticks::now() - start;\n-    phase_times()->record_concatenate_dirty_card_logs_time_ms(dt.seconds() * MILLIUNITS);\n-  }\n+  \/\/ Flush dirty card queues to qset, so later phases don't need to account\n+  \/\/ for partially filled per-thread queues and such.\n+  flush_dirty_card_queues();\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.cpp","additions":13,"deletions":8,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -102,0 +102,2 @@\n+  void flush_dirty_card_queues();\n+\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungCollector.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-bool G1YoungGCEvacFailureInjector::arm_if_needed_for_gc_type(bool for_young_gc,\n+bool G1YoungGCEvacFailureInjector::arm_if_needed_for_gc_type(bool for_young_only_phase,\n@@ -70,1 +70,1 @@\n-  if (for_young_gc) {\n+  if (for_young_only_phase) {\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCEvacFailureInjector.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-  bool arm_if_needed_for_gc_type(bool for_young_gc,\n+  bool arm_if_needed_for_gc_type(bool for_young_only_phase,\n","filename":"src\/hotspot\/share\/gc\/g1\/g1YoungGCEvacFailureInjector.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2001, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2001, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -171,30 +171,0 @@\n-  product(size_t, G1ConcRefinementYellowZone, 0,                            \\\n-          \"Number of enqueued update buffers that will \"                    \\\n-          \"trigger concurrent processing. Will be selected ergonomically \"  \\\n-          \"by default.\")                                                    \\\n-          range(0, max_intx)                                                \\\n-                                                                            \\\n-  product(size_t, G1ConcRefinementRedZone, 0,                               \\\n-          \"Maximum number of enqueued update buffers before mutator \"       \\\n-          \"threads start processing new ones instead of enqueueing them. \"  \\\n-          \"Will be selected ergonomically by default.\")                     \\\n-          range(0, max_intx)                                                \\\n-                                                                            \\\n-  product(size_t, G1ConcRefinementGreenZone, 0,                             \\\n-          \"The number of update buffers that are left in the queue by the \" \\\n-          \"concurrent processing threads. Will be selected ergonomically \"  \\\n-          \"by default.\")                                                    \\\n-          range(0, max_intx)                                                \\\n-                                                                            \\\n-  product(uintx, G1ConcRefinementServiceIntervalMillis, 300,                \\\n-          \"The G1 service thread wakes up every specified number of \"       \\\n-          \"milliseconds to do miscellaneous work.\")                         \\\n-          range(0, max_jint)                                                \\\n-                                                                            \\\n-  product(size_t, G1ConcRefinementThresholdStep, 2,                         \\\n-          \"Each time the remembered set update queue increases by this \"    \\\n-          \"amount activate the next refinement thread if available. \"       \\\n-          \"The actual step size will be selected ergonomically by \"         \\\n-          \"default, with this value used to determine a lower bound.\")      \\\n-          range(1, SIZE_MAX)                                                \\\n-                                                                            \\\n@@ -207,3 +177,3 @@\n-  product(bool, G1UseAdaptiveConcRefinement, true,                          \\\n-          \"Select green, yellow and red zones adaptively to meet the \"      \\\n-          \"the pause requirements.\")                                        \\\n+  product(bool, G1UseConcRefinement, true, DIAGNOSTIC,                      \\\n+          \"Control whether concurrent refinement is performed. \"            \\\n+          \"Disabling effectively ignores G1RSetUpdatingPauseTimePercent\")   \\\n@@ -380,0 +350,5 @@\n+  product(uint, G1NumCardsCostSampleThreshold, 1000, DIAGNOSTIC,            \\\n+          \"Threshold for the number of cards when reporting card cost \"     \\\n+          \"related prediction sample. That sample must involve the same or \"\\\n+          \"more than that number of cards to be used.\")                     \\\n+                                                                            \\\n","filename":"src\/hotspot\/share\/gc\/g1\/g1_globals.hpp","additions":9,"deletions":34,"binary":false,"changes":43,"status":"modified"},{"patch":"@@ -150,1 +150,1 @@\n-  double region_elapsed_time_ms = policy->predict_region_total_time_ms(this, false \/* for_young_gc *\/);\n+  double region_elapsed_time_ms = policy->predict_region_total_time_ms(this, false \/* for_young_only_phase *\/);\n","filename":"src\/hotspot\/share\/gc\/g1\/heapRegion.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -159,13 +159,10 @@\n-      assert(_addr->is_valid(),      \"used\");\n-      assert(_cmp_value->is_valid(), \"used\");\n-      assert(_new_value->is_valid(), \"used\");\n-      if (_info)                    state->do_info(_info);\n-                                    state->do_input(_addr);\n-                                    state->do_temp(_addr);\n-                                    state->do_input(_cmp_value);\n-                                    state->do_temp(_cmp_value);\n-                                    state->do_input(_new_value);\n-                                    state->do_temp(_new_value);\n-      if (_tmp1->is_valid())        state->do_temp(_tmp1);\n-      if (_tmp2->is_valid())        state->do_temp(_tmp2);\n-      if (_result->is_valid())      state->do_output(_result);\n+    if (_info)                              state->do_info(_info);\n+    assert(_addr->is_valid(), \"used\");      state->do_input(_addr);\n+                                            state->do_temp(_addr);\n+    assert(_cmp_value->is_valid(), \"used\"); state->do_input(_cmp_value);\n+                                            state->do_temp(_cmp_value);\n+    assert(_new_value->is_valid(), \"used\"); state->do_input(_new_value);\n+                                            state->do_temp(_new_value);\n+    if (_tmp1->is_valid())                  state->do_temp(_tmp1);\n+    if (_tmp2->is_valid())                  state->do_temp(_tmp2);\n+    if (_result->is_valid())                state->do_output(_result);\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/c1\/shenandoahBarrierSetC1.hpp","additions":10,"deletions":13,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-#define CURRENT_CDS_ARCHIVE_VERSION 14\n+#define CURRENT_CDS_ARCHIVE_VERSION 15\n@@ -58,1 +58,2 @@\n-  size_t  _oopmap_offset;     \/\/ Bitmap for relocating embedded oops (offset from SharedBaseAddress).\n+  size_t  _oopmap_offset;     \/\/ Bitmap for relocating oop fields in archived heap objects.\n+                              \/\/ (The base address is the bottom of the BM region)\n@@ -60,0 +61,3 @@\n+  size_t  _ptrmap_offset;     \/\/ Bitmap for relocating native pointer fields in archived heap objects.\n+                              \/\/ (The base address is the bottom of the BM region).\n+  size_t  _ptrmap_size_in_bits;\n","filename":"src\/hotspot\/share\/include\/cds.h","additions":6,"deletions":2,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -136,1 +136,1 @@\n-#if defined(AMD64) || defined(AARCH64)\n+#if defined(AMD64) || defined(AARCH64) || defined(RISCV64)\n","filename":"src\/hotspot\/share\/interpreter\/abstractInterpreter.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -204,1 +204,1 @@\n-#if defined(AMD64) || defined(AARCH64)\n+#if defined(AMD64) || defined(AARCH64) || defined(RISCV64)\n@@ -359,1 +359,0 @@\n-  if (PrintBytecodeHistogram)                                    histogram_bytecode(t);\n@@ -363,0 +362,1 @@\n+  if (PrintBytecodeHistogram)                                    histogram_bytecode(t);\n@@ -436,1 +436,1 @@\n-#if defined(AMD64) || defined(AARCH64)\n+#if defined(AMD64) || defined(AARCH64) || defined(RISCV64)\n","filename":"src\/hotspot\/share\/interpreter\/templateInterpreterGenerator.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-#if defined(AMD64) || defined(AARCH64)\n+#if defined(AMD64) || defined(AARCH64) || defined(RISCV64)\n","filename":"src\/hotspot\/share\/interpreter\/templateInterpreterGenerator.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -59,4 +59,0 @@\n-static bool is_module_available(outputStream* output, TRAPS) {\n-  return JfrJavaSupport::is_jdk_jfr_module_available(output, THREAD);\n-}\n-\n@@ -75,1 +71,22 @@\n-  return is_disabled(out) || !is_module_available(out, THREAD);\n+  if (is_disabled(out)) {\n+    return true;\n+  }\n+  if (!JfrJavaSupport::is_jdk_jfr_module_available()) {\n+    JfrJavaSupport::load_jdk_jfr_module(THREAD);\n+    if (HAS_PENDING_EXCEPTION) {\n+      \/\/ Log exception here, but let is_jdk_jfr_module_available(out, THREAD)\n+      \/\/ handle output to the user.\n+      ResourceMark rm(THREAD);\n+      oop throwable = PENDING_EXCEPTION;\n+      assert(throwable != nullptr, \"invariant\");\n+      oop msg = java_lang_Throwable::message(throwable);\n+      if (msg != nullptr) {\n+        char* text = java_lang_String::as_utf8_string(msg);\n+        if (text != nullptr) {\n+          log_debug(jfr, startup)(\"Flight Recorder can not be enabled. %s\", text);\n+        }\n+      }\n+      CLEAR_PENDING_EXCEPTION;\n+    }\n+  }\n+  return !JfrJavaSupport::is_jdk_jfr_module_available(out, THREAD);\n","filename":"src\/hotspot\/share\/jfr\/dcmd\/jfrDcmds.cpp","additions":22,"deletions":5,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -48,0 +48,1 @@\n+#include \"runtime\/javaCalls.hpp\"\n@@ -628,0 +629,17 @@\n+\n+\n+void JfrJavaSupport::load_jdk_jfr_module(TRAPS) {\n+  DEBUG_ONLY(JfrJavaSupport::check_java_thread_in_vm(THREAD));\n+  ResourceMark rm(THREAD);\n+  HandleMark hm(THREAD);\n+  Handle h_module_name = java_lang_String::create_from_str(JDK_JFR_MODULE_NAME, CHECK);\n+  JavaValue result(T_OBJECT);\n+  JavaCalls::call_static(&result,\n+    vmClasses::module_Modules_klass(),\n+    vmSymbols::loadModule_name(),\n+    vmSymbols::loadModule_signature(),\n+    h_module_name,\n+    CHECK\n+  );\n+}\n+\n","filename":"src\/hotspot\/share\/jfr\/jni\/jfrJavaSupport.cpp","additions":18,"deletions":0,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -99,0 +99,1 @@\n+  static void load_jdk_jfr_module(TRAPS);\n","filename":"src\/hotspot\/share\/jfr\/jni\/jfrJavaSupport.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -569,1 +569,1 @@\n-  <Event name=\"JitRestart\" category=\"Java Virtual Machine, Compiler\" label=\"JIT Restart\" stackTrace=\"false\" startTime=\"false\" thread=\"true\">\n+  <Event name=\"JITRestart\" category=\"Java Virtual Machine, Compiler\" label=\"JIT Restart\" stackTrace=\"false\" startTime=\"false\" thread=\"true\">\n","filename":"src\/hotspot\/share\/jfr\/metadata\/metadata.xml","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-  static const char field[] = \"FILE_DELTA_CHANGE\";\n+  static const char field[] = \"CHUNK_ROTATION_MONITOR\";\n","filename":"src\/hotspot\/share\/jfr\/recorder\/repository\/jfrChunkRotation.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -55,0 +55,1 @@\n+  template(jfr_chunk_rotation_monitor,                                \"jdk\/jfr\/internal\/JVM$ChunkRotationMonitor\")   \\\n","filename":"src\/hotspot\/share\/jfr\/support\/jfrIntrinsics.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -238,1 +238,2 @@\n-  char c, k = 0;\n+  char c;\n+  int k = 0;\n","filename":"src\/hotspot\/share\/libadt\/dict.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -261,3 +261,0 @@\n-      if (mirror_oop != NULL) { \/\/ may be null if archived heap is disabled\n-        java_lang_Class::update_archived_primitive_mirror_native_pointers(mirror_oop);\n-      }\n","filename":"src\/hotspot\/share\/memory\/universe.cpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -779,0 +779,1 @@\n+  case vmIntrinsics::_IndexVector:\n","filename":"src\/hotspot\/share\/opto\/c2compiler.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -719,0 +719,2 @@\n+  case vmIntrinsics::_IndexVector:\n+    return inline_index_vector();\n","filename":"src\/hotspot\/share\/opto\/library_call.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -351,0 +351,1 @@\n+  bool inline_index_vector();\n","filename":"src\/hotspot\/share\/opto\/library_call.hpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -1397,1 +1397,1 @@\n-    Node* scaled_iv_plus_offset = scaled_iv_plus_offset = new AddINode(scaled_iv, L_2);\n+    Node* scaled_iv_plus_offset = new AddINode(scaled_iv, L_2);\n","filename":"src\/hotspot\/share\/opto\/loopnode.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1751,1 +1751,1 @@\n-  assert(t->meet(t0) == t, \"Not monotonic\");\n+  assert(t->meet(t0) == t->remove_speculative(), \"Not monotonic\");\n","filename":"src\/hotspot\/share\/opto\/phaseX.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1847,0 +1847,14 @@\n+\/\/ Clear the unused cmove pack and its related packs from superword candidate packset.\n+void SuperWord::remove_cmove_and_related_packs(Node_List* cmove_pk) {\n+  Node* cmove = cmove_pk->at(0);\n+  Node* bol = cmove->as_CMove()->in(CMoveNode::Condition);\n+  if (my_pack(bol)) {\n+    remove_pack(my_pack(bol));\n+  }\n+  Node* cmp = bol->in(1);\n+  if (my_pack(cmp)) {\n+    remove_pack(my_pack(cmp));\n+  }\n+  remove_pack(cmove_pk);\n+}\n+\n@@ -1848,1 +1862,1 @@\n-\/\/ Merge CMoveD into new vector-nodes\n+\/\/ Merge qualified CMoveD into new vector-nodes\n@@ -1870,0 +1884,1 @@\n+\/\/ Also delete unqualified CMove pack from the packset and clear all info.\n@@ -1873,1 +1888,8 @@\n-    _cmovev_kit.make_cmovevd_pack(_packset.at(i));\n+    Node_List* pk = _packset.at(i);\n+    if (_cmovev_kit.is_cmove_pack_candidate(pk)) {\n+      if (_cmovev_kit.can_merge_cmove_pack(pk)) {\n+        _cmovev_kit.make_cmove_pack(pk);\n+      } else {\n+        remove_cmove_and_related_packs(pk);\n+      }\n+    }\n@@ -1875,0 +1897,1 @@\n+\n@@ -1912,10 +1935,5 @@\n-Node_List* CMoveKit::make_cmovevd_pack(Node_List* cmovd_pk) {\n-  Node *cmovd = cmovd_pk->at(0);\n-  if (!cmovd->is_CMove()) {\n-    return NULL;\n-  }\n-  if (cmovd->Opcode() != Op_CMoveF && cmovd->Opcode() != Op_CMoveD) {\n-    return NULL;\n-  }\n-  if (pack(cmovd) != NULL) { \/\/ already in the cmov pack\n-    return NULL;\n+bool CMoveKit::is_cmove_pack_candidate(Node_List* cmove_pk) {\n+  Node* cmove = cmove_pk->at(0);\n+  if ((cmove->Opcode() != Op_CMoveF && cmove->Opcode() != Op_CMoveD) ||\n+      pack(cmove) != NULL \/* already in the cmove pack *\/) {\n+    return false;\n@@ -1923,3 +1941,11 @@\n-  if (cmovd->in(0) != NULL) {\n-    NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmovevd_pack: CMoveD %d has control flow, escaping...\", cmovd->_idx); cmovd->dump();})\n-    return NULL;\n+  return true;\n+}\n+\n+\/\/ Determine if the current pack is an ideal cmove pack, and if its related packs,\n+\/\/ i.e. bool node pack and cmp node pack, can be successfully merged for vectorization.\n+bool CMoveKit::can_merge_cmove_pack(Node_List* cmove_pk) {\n+  Node* cmove = cmove_pk->at(0);\n+\n+  if (cmove->in(0) != NULL) {\n+    NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmove_pack: CMove %d has control flow, escaping...\", cmove->_idx); cmove->dump();})\n+    return false;\n@@ -1928,8 +1954,8 @@\n-  Node* bol = cmovd->as_CMove()->in(CMoveNode::Condition);\n-  if (!bol->is_Bool()\n-      || bol->outcnt() != 1\n-      || !_sw->same_generation(bol, cmovd)\n-      || bol->in(0) != NULL  \/\/ BoolNode has control flow!!\n-      || _sw->my_pack(bol) == NULL) {\n-      NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmovevd_pack: Bool %d does not fit CMoveD %d for building vector, escaping...\", bol->_idx, cmovd->_idx); bol->dump();})\n-      return NULL;\n+  Node* bol = cmove->as_CMove()->in(CMoveNode::Condition);\n+  if (!bol->is_Bool() ||\n+      bol->outcnt() != 1 ||\n+      !_sw->same_generation(bol, cmove) ||\n+      bol->in(0) != NULL || \/\/ BoolNode has control flow!!\n+      _sw->my_pack(bol) == NULL) {\n+      NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmove_pack: Bool %d does not fit CMove %d for building vector, escaping...\", bol->_idx, cmove->_idx); bol->dump();})\n+    return false;\n@@ -1938,2 +1964,2 @@\n-  if (bool_pk->size() != cmovd_pk->size() ) {\n-    return NULL;\n+  if (bool_pk->size() != cmove_pk->size() ) {\n+    return false;\n@@ -1942,8 +1968,8 @@\n-  Node* cmpd = bol->in(1);\n-  if (!cmpd->is_Cmp()\n-      || cmpd->outcnt() != 1\n-      || !_sw->same_generation(cmpd, cmovd)\n-      || cmpd->in(0) != NULL  \/\/ CmpDNode has control flow!!\n-      || _sw->my_pack(cmpd) == NULL) {\n-      NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmovevd_pack: CmpD %d does not fit CMoveD %d for building vector, escaping...\", cmpd->_idx, cmovd->_idx); cmpd->dump();})\n-      return NULL;\n+  Node* cmp = bol->in(1);\n+  if (!cmp->is_Cmp() ||\n+      cmp->outcnt() != 1 ||\n+      !_sw->same_generation(cmp, cmove) ||\n+      cmp->in(0) != NULL || \/\/ CmpNode has control flow!!\n+      _sw->my_pack(cmp) == NULL) {\n+      NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmove_pack: Cmp %d does not fit CMove %d for building vector, escaping...\", cmp->_idx, cmove->_idx); cmp->dump();})\n+    return false;\n@@ -1951,3 +1977,3 @@\n-  Node_List* cmpd_pk = _sw->my_pack(cmpd);\n-  if (cmpd_pk->size() != cmovd_pk->size() ) {\n-    return NULL;\n+  Node_List* cmp_pk = _sw->my_pack(cmp);\n+  if (cmp_pk->size() != cmove_pk->size() ) {\n+    return false;\n@@ -1956,3 +1982,3 @@\n-  if (!test_cmpd_pack(cmpd_pk, cmovd_pk)) {\n-    NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmovevd_pack: cmpd pack for CmpD %d failed vectorization test\", cmpd->_idx); cmpd->dump();})\n-    return NULL;\n+  if (!test_cmpd_pack(cmp_pk, cmove_pk)) {\n+    NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print(\"CMoveKit::make_cmove_pack: cmp pack for Cmp %d failed vectorization test\", cmp->_idx); cmp->dump();})\n+    return false;\n@@ -1961,2 +1987,14 @@\n-  Node_List* new_cmpd_pk = new Node_List();\n-  uint sz = cmovd_pk->size() - 1;\n+  return true;\n+}\n+\n+\/\/ Create a new cmove pack to substitute the old one, map all info to the\n+\/\/ new pack and delete the old cmove pack and related packs from the packset.\n+void CMoveKit::make_cmove_pack(Node_List* cmove_pk) {\n+  Node* cmove = cmove_pk->at(0);\n+  Node* bol = cmove->as_CMove()->in(CMoveNode::Condition);\n+  Node_List* bool_pk = _sw->my_pack(bol);\n+  Node* cmp = bol->in(1);\n+  Node_List* cmp_pk = _sw->my_pack(cmp);\n+\n+  Node_List* new_cmove_pk = new Node_List();\n+  uint sz = cmove_pk->size() - 1;\n@@ -1964,1 +2002,1 @@\n-    Node* cmov = cmovd_pk->at(i);\n+    Node* cmov = cmove_pk->at(i);\n@@ -1966,1 +2004,1 @@\n-    Node* cmp  = cmpd_pk->at(i);\n+    Node* cmp  = cmp_pk->at(i);\n@@ -1968,1 +2006,1 @@\n-    new_cmpd_pk->insert(i, cmov);\n+    new_cmove_pk->insert(i, cmov);\n@@ -1970,3 +2008,3 @@\n-    map(cmov, new_cmpd_pk);\n-    map(bol, new_cmpd_pk);\n-    map(cmp, new_cmpd_pk);\n+    map(cmov, new_cmove_pk);\n+    map(bol, new_cmove_pk);\n+    map(cmp, new_cmove_pk);\n@@ -1974,1 +2012,1 @@\n-    _sw->set_my_pack(cmov, new_cmpd_pk); \/\/ and keep old packs for cmp and bool\n+    _sw->set_my_pack(cmov, new_cmove_pk); \/\/ and keep old packs for cmp and bool\n@@ -1976,1 +2014,1 @@\n-  _sw->_packset.remove(cmovd_pk);\n+  _sw->_packset.remove(cmove_pk);\n@@ -1978,4 +2016,3 @@\n-  _sw->_packset.remove(cmpd_pk);\n-  _sw->_packset.append(new_cmpd_pk);\n-  NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print_cr(\"CMoveKit::make_cmovevd_pack: added syntactic CMoveD pack\"); _sw->print_pack(new_cmpd_pk);})\n-  return new_cmpd_pk;\n+  _sw->_packset.remove(cmp_pk);\n+  _sw->_packset.append(new_cmove_pk);\n+  NOT_PRODUCT(if(_sw->is_trace_cmov()) {tty->print_cr(\"CMoveKit::make_cmove_pack: added syntactic CMove pack\"); _sw->print_pack(new_cmove_pk);})\n@@ -3678,0 +3715,10 @@\n+\/\/------------------------------remove_pack------------------------------\n+\/\/ Remove the pack in the packset\n+void SuperWord::remove_pack(Node_List* p) {\n+  for (uint i = 0; i < p->size(); i++) {\n+    Node* s = p->at(i);\n+    set_my_pack(s, NULL);\n+  }\n+  _packset.remove(p);\n+}\n+\n","filename":"src\/hotspot\/share\/opto\/superword.cpp","additions":100,"deletions":53,"binary":false,"changes":153,"status":"modified"},{"patch":"@@ -218,1 +218,5 @@\n-  Node_List* make_cmovevd_pack(Node_List* cmovd_pk);\n+  \/\/ If the input pack is a cmove candidate, return true, otherwise return false.\n+  bool is_cmove_pack_candidate(Node_List* cmove_pk);\n+  \/\/ Determine if the current cmove pack can be vectorized.\n+  bool can_merge_cmove_pack(Node_List* cmove_pk);\n+  void make_cmove_pack(Node_List* cmovd_pk);\n@@ -539,0 +543,2 @@\n+  \/\/ Clear the unused cmove pack and its related packs from superword candidate packset.\n+  void remove_cmove_and_related_packs(Node_List* cmove_pk);\n@@ -587,0 +593,2 @@\n+  \/\/ Remove the pack in the packset\n+  void remove_pack(Node_List* p);\n","filename":"src\/hotspot\/share\/opto\/superword.hpp","additions":9,"deletions":1,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2847,0 +2847,152 @@\n+\n+\/\/ public static\n+\/\/ <V extends Vector<E>,\n+\/\/  E,\n+\/\/  S extends VectorSpecies<E>>\n+\/\/  V indexVector(Class<? extends V> vClass, Class<E> eClass,\n+\/\/                int length,\n+\/\/                V v, int step, S s,\n+\/\/                IndexOperation<V, S> defaultImpl)\n+bool LibraryCallKit::inline_index_vector() {\n+  const TypeInstPtr* vector_klass = gvn().type(argument(0))->isa_instptr();\n+  const TypeInstPtr* elem_klass   = gvn().type(argument(1))->isa_instptr();\n+  const TypeInt*     vlen         = gvn().type(argument(2))->isa_int();\n+\n+  if (vector_klass == NULL || elem_klass == NULL || vlen == NULL ||\n+      vector_klass->const_oop() == NULL || !vlen->is_con() ||\n+      elem_klass->const_oop() == NULL) {\n+    if (C->print_intrinsics()) {\n+      tty->print_cr(\"  ** missing constant: vclass=%s etype=%s vlen=%s\",\n+                    NodeClassNames[argument(0)->Opcode()],\n+                    NodeClassNames[argument(1)->Opcode()],\n+                    NodeClassNames[argument(2)->Opcode()]);\n+    }\n+    return false; \/\/ not enough info for intrinsification\n+  }\n+\n+  if (!is_klass_initialized(vector_klass)) {\n+    if (C->print_intrinsics()) {\n+      tty->print_cr(\"  ** klass argument not initialized\");\n+    }\n+    return false;\n+  }\n+\n+  ciType* elem_type = elem_klass->const_oop()->as_instance()->java_mirror_type();\n+  if (!elem_type->is_primitive_type()) {\n+    if (C->print_intrinsics()) {\n+      tty->print_cr(\"  ** not a primitive bt=%d\", elem_type->basic_type());\n+    }\n+    return false; \/\/ should be primitive type\n+  }\n+\n+  int num_elem = vlen->get_con();\n+  BasicType elem_bt = elem_type->basic_type();\n+\n+  \/\/ Check whether the iota index generation op is supported by the current hardware\n+  if (!arch_supports_vector(Op_VectorLoadConst, num_elem, elem_bt, VecMaskNotUsed)) {\n+    if (C->print_intrinsics()) {\n+      tty->print_cr(\"  ** not supported: vlen=%d etype=%s\", num_elem, type2name(elem_bt));\n+    }\n+    return false; \/\/ not supported\n+  }\n+\n+  int mul_op = VectorSupport::vop2ideal(VectorSupport::VECTOR_OP_MUL, elem_bt);\n+  int vmul_op = VectorNode::opcode(mul_op, elem_bt);\n+  bool needs_mul = true;\n+  Node* scale = argument(4);\n+  const TypeInt* scale_type = gvn().type(scale)->isa_int();\n+  \/\/ Multiply is not needed if the scale is a constant \"1\".\n+  if (scale_type && scale_type->is_con() && scale_type->get_con() == 1) {\n+    needs_mul = false;\n+  } else {\n+    \/\/ Check whether the vector multiply op is supported by the current hardware\n+    if (!arch_supports_vector(vmul_op, num_elem, elem_bt, VecMaskNotUsed)) {\n+      if (C->print_intrinsics()) {\n+        tty->print_cr(\"  ** not supported: vlen=%d etype=%s\", num_elem, type2name(elem_bt));\n+      }\n+      return false; \/\/ not supported\n+    }\n+\n+    \/\/ Check whether the scalar cast op is supported by the current hardware\n+    if (is_floating_point_type(elem_bt) || elem_bt == T_LONG) {\n+      int cast_op = elem_bt == T_LONG ? Op_ConvI2L :\n+                    elem_bt == T_FLOAT? Op_ConvI2F : Op_ConvI2D;\n+      if (!Matcher::match_rule_supported(cast_op)) {\n+        if (C->print_intrinsics()) {\n+          tty->print_cr(\"  ** Rejected op (%s) because architecture does not support it\",\n+                        NodeClassNames[cast_op]);\n+        }\n+        return false; \/\/ not supported\n+      }\n+    }\n+  }\n+\n+  ciKlass* vbox_klass = vector_klass->const_oop()->as_instance()->java_lang_Class_klass();\n+  const TypeInstPtr* vbox_type = TypeInstPtr::make_exact(TypePtr::NotNull, vbox_klass);\n+  Node* opd = unbox_vector(argument(3), vbox_type, elem_bt, num_elem);\n+  if (opd == NULL) {\n+    if (C->print_intrinsics()) {\n+      tty->print_cr(\"  ** unbox failed vector=%s\",\n+                    NodeClassNames[argument(3)->Opcode()]);\n+    }\n+    return false;\n+  }\n+\n+  int add_op = VectorSupport::vop2ideal(VectorSupport::VECTOR_OP_ADD, elem_bt);\n+  int vadd_op = VectorNode::opcode(add_op, elem_bt);\n+  bool needs_add = true;\n+  \/\/ The addition is not needed if all the element values of \"opd\" are zero\n+  if (VectorNode::is_all_zeros_vector(opd)) {\n+    needs_add = false;\n+  } else {\n+    \/\/ Check whether the vector addition op is supported by the current hardware\n+    if (!arch_supports_vector(vadd_op, num_elem, elem_bt, VecMaskNotUsed)) {\n+      if (C->print_intrinsics()) {\n+        tty->print_cr(\"  ** not supported: vlen=%d etype=%s\", num_elem, type2name(elem_bt));\n+      }\n+      return false; \/\/ not supported\n+    }\n+  }\n+\n+  \/\/ Compute the iota indice vector\n+  const TypeVect* vt = TypeVect::make(elem_bt, num_elem);\n+  Node* index = gvn().transform(new VectorLoadConstNode(gvn().makecon(TypeInt::ZERO), vt));\n+\n+  \/\/ Broadcast the \"scale\" to a vector, and multiply the \"scale\" with iota indice vector.\n+  if (needs_mul) {\n+    switch (elem_bt) {\n+      case T_BOOLEAN: \/\/ fall-through\n+      case T_BYTE:    \/\/ fall-through\n+      case T_SHORT:   \/\/ fall-through\n+      case T_CHAR:    \/\/ fall-through\n+      case T_INT: {\n+        \/\/ no conversion needed\n+        break;\n+      }\n+      case T_LONG: {\n+        scale = gvn().transform(new ConvI2LNode(scale));\n+        break;\n+      }\n+      case T_FLOAT: {\n+        scale = gvn().transform(new ConvI2FNode(scale));\n+        break;\n+      }\n+      case T_DOUBLE: {\n+        scale = gvn().transform(new ConvI2DNode(scale));\n+        break;\n+      }\n+      default: fatal(\"%s\", type2name(elem_bt));\n+    }\n+    scale = gvn().transform(VectorNode::scalar2vector(scale, num_elem, Type::get_const_basic_type(elem_bt)));\n+    index = gvn().transform(VectorNode::make(vmul_op, index, scale, vt));\n+  }\n+\n+  \/\/ Add \"opd\" if addition is needed.\n+  if (needs_add) {\n+    index = gvn().transform(VectorNode::make(vadd_op, opd, index, vt));\n+  }\n+  Node* vbox = box_vector(index, vbox_type, elem_bt, num_elem);\n+  set_result(vbox);\n+  C->set_max_vector_size(MAX2(C->max_vector_size(), (uint)(num_elem * type2aelembytes(elem_bt))));\n+  return true;\n+}\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":152,"deletions":0,"binary":false,"changes":152,"status":"modified"},{"patch":"@@ -5834,0 +5834,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -5876,0 +5878,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -5887,0 +5892,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -5916,0 +5923,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -5925,0 +5935,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -5969,0 +5981,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -5977,0 +5992,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6018,0 +6035,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6026,0 +6046,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6067,0 +6089,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6075,0 +6100,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6116,0 +6143,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6124,0 +6154,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6175,0 +6207,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6185,0 +6220,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6234,0 +6271,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6242,0 +6282,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6288,0 +6330,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6296,0 +6341,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6342,0 +6389,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n@@ -6350,0 +6400,2 @@\n+        <p\/>\n+        The specified thread must be suspended or must be the current thread.\n@@ -6396,0 +6448,3 @@\n+        <error id=\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\">\n+          Thread was not suspended and was not the current thread.\n+        <\/error>\n","filename":"src\/hotspot\/share\/prims\/jvmti.xml","additions":55,"deletions":0,"binary":false,"changes":55,"status":"modified"},{"patch":"@@ -2249,0 +2249,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2250,2 +2259,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2254,1 +2261,1 @@\n-                                     current_thread, depth, slot);\n+                                     current_thread, depth, slot, self);\n@@ -2262,7 +2269,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, current_thread, depth, slot);\n+    VM_GetOrSetLocal op(java_thread, current_thread, depth, slot, self);\n@@ -2289,0 +2290,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2290,2 +2300,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2294,1 +2302,1 @@\n-                                   current_thread, depth);\n+                                   current_thread, depth, self);\n@@ -2302,7 +2310,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetReceiver op(java_thread, current_thread, depth);\n+    VM_GetReceiver op(java_thread, current_thread, depth, self);\n@@ -2330,0 +2332,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2331,2 +2342,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2335,1 +2344,1 @@\n-                                     depth, slot, T_INT);\n+                                     depth, slot, T_INT, self);\n@@ -2343,7 +2352,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_INT);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_INT, self);\n@@ -2371,0 +2374,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2372,2 +2384,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2376,1 +2386,1 @@\n-                                     depth, slot, T_LONG);\n+                                     depth, slot, T_LONG, self);\n@@ -2384,7 +2394,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_LONG);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_LONG, self);\n@@ -2412,0 +2416,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2413,2 +2426,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2417,1 +2428,1 @@\n-                                     depth, slot, T_FLOAT);\n+                                     depth, slot, T_FLOAT, self);\n@@ -2425,7 +2436,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_FLOAT);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_FLOAT, self);\n@@ -2453,0 +2458,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2454,2 +2468,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2458,1 +2470,1 @@\n-                                     depth, slot, T_DOUBLE);\n+                                     depth, slot, T_DOUBLE, self);\n@@ -2466,7 +2478,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_DOUBLE);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_DOUBLE, self);\n@@ -2493,0 +2499,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2496,2 +2511,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2500,1 +2513,1 @@\n-                                     depth, slot, T_OBJECT, val);\n+                                     depth, slot, T_OBJECT, val, self);\n@@ -2505,7 +2518,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_OBJECT, val);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_OBJECT, val, self);\n@@ -2529,0 +2536,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2532,2 +2548,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2536,1 +2550,1 @@\n-                                     depth, slot, T_INT, val);\n+                                     depth, slot, T_INT, val, self);\n@@ -2541,7 +2555,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_INT, val);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_INT, val, self);\n@@ -2565,0 +2573,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2568,2 +2585,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2572,1 +2587,1 @@\n-                                     depth, slot, T_LONG, val);\n+                                     depth, slot, T_LONG, val, self);\n@@ -2577,7 +2592,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_LONG, val);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_LONG, val, self);\n@@ -2601,0 +2610,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2604,2 +2622,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2608,1 +2624,1 @@\n-                                     depth, slot, T_FLOAT, val);\n+                                     depth, slot, T_FLOAT, val, self);\n@@ -2613,7 +2629,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_FLOAT, val);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_FLOAT, val, self);\n@@ -2637,0 +2647,9 @@\n+  ThreadsListHandle tlh(current_thread);\n+\n+  JavaThread* java_thread = NULL;\n+  oop thread_obj = NULL;\n+  jvmtiError err = get_threadOop_and_JavaThread(tlh.list(), thread, &java_thread, &thread_obj);\n+  if (err != JVMTI_ERROR_NONE) {\n+    return err;\n+  }\n+  bool self = is_JavaThread_current(java_thread, thread_obj);\n@@ -2640,2 +2659,0 @@\n-  jvmtiError err = JVMTI_ERROR_NONE;\n-  oop thread_obj = current_thread_obj_or_resolve_external_guard(thread);\n@@ -2644,1 +2661,1 @@\n-                                     depth, slot, T_DOUBLE, val);\n+                                     depth, slot, T_DOUBLE, val, self);\n@@ -2649,7 +2666,1 @@\n-    ThreadsListHandle tlh(current_thread);\n-    JavaThread* java_thread = NULL;\n-    err = get_JavaThread(tlh.list(), thread, &java_thread);\n-    if (err != JVMTI_ERROR_NONE) {\n-      return err;\n-    }\n-    VM_GetOrSetLocal op(java_thread, depth, slot, T_DOUBLE, val);\n+    VM_GetOrSetLocal op(java_thread, depth, slot, T_DOUBLE, val, self);\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnv.cpp","additions":121,"deletions":110,"binary":false,"changes":231,"status":"modified"},{"patch":"@@ -174,0 +174,15 @@\n+  \/\/ Return true if the thread identified with a pair <jt,thr_obj> is current.\n+  \/\/ A passive carrier thread is not treated as current.\n+  static bool is_JavaThread_current(JavaThread* jt, oop thr_obj) {\n+    JavaThread* current = JavaThread::current();\n+    \/\/ jt can be NULL in case of a virtual thread\n+    if (jt == NULL || jt != current) {\n+      return false;\n+    }\n+    oop cur_obj = current->jvmti_vthread();\n+\n+    \/\/ cur_obj == NULL is true for normal platform threads only\n+    \/\/ otherwise it can be virtual or carrier thread.\n+    return cur_obj == NULL || cur_obj == thr_obj;\n+  }\n+\n","filename":"src\/hotspot\/share\/prims\/jvmtiEnvBase.hpp","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -722,0 +722,2 @@\n+  JvmtiTagMap::flush_all_object_free_events();\n+\n","filename":"src\/hotspot\/share\/prims\/jvmtiExport.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -435,1 +435,1 @@\n-                                           jint index, BasicType type, jvalue value, bool set)\n+                                           jint index, BasicType type, jvalue value, bool set, bool self)\n@@ -443,0 +443,1 @@\n+  , _self(self)\n@@ -746,2 +747,2 @@\n-VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type)\n-  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, _DEFAULT_VALUE, false),\n+VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, bool self)\n+  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, _DEFAULT_VALUE, false, self),\n@@ -754,2 +755,2 @@\n-VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, jvalue value)\n-  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, value, true),\n+VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, jvalue value, bool self)\n+  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, value, true, self),\n@@ -762,2 +763,2 @@\n-VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, JavaThread* calling_thread, jint depth, int index)\n-  : VM_BaseGetOrSetLocal(calling_thread, depth, index, T_OBJECT, _DEFAULT_VALUE, false),\n+VM_GetOrSetLocal::VM_GetOrSetLocal(JavaThread* thread, JavaThread* calling_thread, jint depth, int index, bool self)\n+  : VM_BaseGetOrSetLocal(calling_thread, depth, index, T_OBJECT, _DEFAULT_VALUE, false, self),\n@@ -788,0 +789,4 @@\n+  if (!(_self || _thread->is_carrier_thread_suspended())) {\n+    _result = JVMTI_ERROR_THREAD_NOT_SUSPENDED;\n+    return NULL;\n+  }\n@@ -802,2 +807,2 @@\n-    JavaThread* thread, JavaThread* caller_thread, jint depth)\n-    : VM_GetOrSetLocal(thread, caller_thread, depth, 0) {}\n+    JavaThread* thread, JavaThread* caller_thread, jint depth, bool self)\n+    : VM_GetOrSetLocal(thread, caller_thread, depth, 0, self) {}\n@@ -813,2 +818,2 @@\n-                                                             jint index, BasicType type)\n-  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, _DEFAULT_VALUE, false)\n+                                                             jint index, BasicType type, bool self)\n+  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, _DEFAULT_VALUE, false, self)\n@@ -822,2 +827,2 @@\n-                                                             jint index, BasicType type, jvalue value)\n-  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, value, true)\n+                                                             jint index, BasicType type, jvalue value, bool self)\n+  : VM_BaseGetOrSetLocal((JavaThread*)NULL, depth, index, type, value, true, self)\n@@ -831,2 +836,2 @@\n-                                                             jint depth, int index)\n-  : VM_BaseGetOrSetLocal(calling_thread, depth, index, T_OBJECT, _DEFAULT_VALUE, false)\n+                                                             jint depth, int index, bool self)\n+  : VM_BaseGetOrSetLocal(calling_thread, depth, index, T_OBJECT, _DEFAULT_VALUE, false, self)\n@@ -847,0 +852,5 @@\n+  if (!(_self || JvmtiVTSuspender::is_vthread_suspended(_vthread_h()))) {\n+    _result = JVMTI_ERROR_THREAD_NOT_SUSPENDED;\n+    return NULL;\n+  }\n+\n@@ -881,2 +891,2 @@\n-    JvmtiEnv* env, Handle vthread_h, JavaThread* caller_thread, jint depth)\n-    : VM_VirtualThreadGetOrSetLocal(env, vthread_h, caller_thread, depth, 0) {}\n+    JvmtiEnv* env, Handle vthread_h, JavaThread* caller_thread, jint depth, bool self)\n+    : VM_VirtualThreadGetOrSetLocal(env, vthread_h, caller_thread, depth, 0, self) {}\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.cpp","additions":27,"deletions":17,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -322,0 +322,1 @@\n+  bool        _self;\n@@ -337,1 +338,1 @@\n-                       BasicType type, jvalue value, bool set);\n+                       BasicType type, jvalue value, bool set, bool self);\n@@ -361,1 +362,1 @@\n-  VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type);\n+  VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, bool self);\n@@ -364,1 +365,1 @@\n-  VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, jvalue value);\n+  VM_GetOrSetLocal(JavaThread* thread, jint depth, jint index, BasicType type, jvalue value, bool self);\n@@ -367,2 +368,1 @@\n-  VM_GetOrSetLocal(JavaThread* thread, JavaThread* calling_thread, jint depth,\n-                   int index);\n+  VM_GetOrSetLocal(JavaThread* thread, JavaThread* calling_thread, jint depth, int index, bool self);\n@@ -382,1 +382,1 @@\n-  VM_GetReceiver(JavaThread* thread, JavaThread* calling_thread, jint depth);\n+  VM_GetReceiver(JavaThread* thread, JavaThread* calling_thread, jint depth, bool self);\n@@ -396,1 +396,1 @@\n-  VM_VirtualThreadGetOrSetLocal(JvmtiEnv* env, Handle vthread_h, jint depth, jint index, BasicType type);\n+  VM_VirtualThreadGetOrSetLocal(JvmtiEnv* env, Handle vthread_h, jint depth, jint index, BasicType type, bool self);\n@@ -400,1 +400,1 @@\n-                                jint index, BasicType type, jvalue value);\n+                                jint index, BasicType type, jvalue value, bool self);\n@@ -404,1 +404,1 @@\n-                                jint depth, int index);\n+                                jint depth, int index, bool self);\n@@ -416,1 +416,1 @@\n-  VM_VirtualThreadGetReceiver(JvmtiEnv* env, Handle vthread_h, JavaThread* calling_thread, jint depth);\n+  VM_VirtualThreadGetReceiver(JvmtiEnv* env, Handle vthread_h, JavaThread* calling_thread, jint depth, bool self);\n","filename":"src\/hotspot\/share\/prims\/jvmtiImpl.hpp","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -756,1 +756,0 @@\n-  assert(event->should_commit(), \"invariant\");\n","filename":"src\/hotspot\/share\/prims\/unsafe.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -242,0 +242,4 @@\n+      #elif _MSC_VER == 1932\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.2 (VS2022)\"\n+      #elif _MSC_VER == 1933\n+        #define HOTSPOT_BUILD_COMPILER \"MS VC++ 17.3 (VS2022)\"\n","filename":"src\/hotspot\/share\/runtime\/abstract_vm_version.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -44,1 +44,0 @@\n-#include \"metaprogramming\/enableIf.hpp\"\n@@ -65,0 +64,1 @@\n+#include \"utilities\/parseInteger.hpp\"\n@@ -555,0 +555,7 @@\n+  { \"G1ConcRefinementGreenZone\",    JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+  { \"G1ConcRefinementYellowZone\",   JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+  { \"G1ConcRefinementRedZone\",      JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+  { \"G1ConcRefinementThresholdStep\", JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+  { \"G1UseAdaptiveConcRefinement\",  JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+  { \"G1ConcRefinementServiceIntervalMillis\", JDK_Version::undefined(), JDK_Version::jdk(20), JDK_Version::undefined() },\n+\n@@ -748,109 +755,0 @@\n-template <typename T, ENABLE_IF(std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 4)> \/\/ signed 32-bit\n-static bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n-  \/\/ Don't use strtol -- on 64-bit builds, \"long\" could be either 32- or 64-bits\n-  \/\/ so the range tests could be tautological and might cause compiler warnings.\n-  STATIC_ASSERT(sizeof(long long) >= 8); \/\/ C++ specification\n-  errno = 0; \/\/ errno is thread safe\n-  long long v = strtoll(s, endptr, base);\n-  if (errno != 0 || v < min_jint || v > max_jint) {\n-    return false;\n-  }\n-  *result = static_cast<T>(v);\n-  return true;\n-}\n-\n-template <typename T, ENABLE_IF(!std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 4)> \/\/ unsigned 32-bit\n-static bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n-  if (s[0] == '-') {\n-    return false;\n-  }\n-  \/\/ Don't use strtoul -- same reason as above.\n-  STATIC_ASSERT(sizeof(unsigned long long) >= 8); \/\/ C++ specification\n-  errno = 0; \/\/ errno is thread safe\n-  unsigned long long v = strtoull(s, endptr, base);\n-  if (errno != 0 || v > max_juint) {\n-    return false;\n-  }\n-  *result = static_cast<T>(v);\n-  return true;\n-}\n-\n-template <typename T, ENABLE_IF(std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 8)> \/\/ signed 64-bit\n-static bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n-  errno = 0; \/\/ errno is thread safe\n-  *result = strtoll(s, endptr, base);\n-  return errno == 0;\n-}\n-\n-template <typename T, ENABLE_IF(!std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 8)> \/\/ unsigned 64-bit\n-static bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n-  if (s[0] == '-') {\n-    return false;\n-  }\n-  errno = 0; \/\/ errno is thread safe\n-  *result = strtoull(s, endptr, base);\n-  return errno == 0;\n-}\n-\n-template<typename T>\n-static bool multiply_by_1k(T& n) {\n-  if (n >= std::numeric_limits<T>::min() \/ 1024 &&\n-      n <= std::numeric_limits<T>::max() \/ 1024) {\n-    n *= 1024;\n-    return true;\n-  } else {\n-    return false;\n-  }\n-}\n-\n-\/\/ All of the integral types that can be used for command line options:\n-\/\/   int, uint, intx, uintx, uint64_t, size_t\n-\/\/\n-\/\/ In all supported platforms, these types can be mapped to only 4 native types:\n-\/\/    {signed, unsigned} x {32-bit, 64-bit}\n-\/\/\n-\/\/ We use SFINAE to pick the correct parse_integer_impl() function\n-template<typename T>\n-static bool parse_integer(const char *s, T* result) {\n-  if (!isdigit(s[0]) && s[0] != '-') {\n-    \/\/ strtoll\/strtoull may allow leading spaces. Forbid it.\n-    return false;\n-  }\n-\n-  T n = 0;\n-  bool is_hex = (s[0] == '0' && (s[1] == 'x' || s[1] == 'X')) ||\n-                (s[0] == '-' && s[1] == '0' && (s[2] == 'x' || s[3] == 'X'));\n-  char* remainder;\n-\n-  if (!parse_integer_impl(s, &remainder, (is_hex ? 16 : 10), &n)) {\n-    return false;\n-  }\n-\n-  \/\/ Fail if no number was read at all or if the remainder contains more than a single non-digit character.\n-  if (remainder == s || strlen(remainder) > 1) {\n-    return false;\n-  }\n-\n-  switch (*remainder) {\n-    case 'T': case 't':\n-      if (!multiply_by_1k(n)) return false;\n-      \/\/ fall-through\n-    case 'G': case 'g':\n-      if (!multiply_by_1k(n)) return false;\n-      \/\/ fall-through\n-    case 'M': case 'm':\n-      if (!multiply_by_1k(n)) return false;\n-      \/\/ fall-through\n-    case 'K': case 'k':\n-      if (!multiply_by_1k(n)) return false;\n-      break;\n-    case '\\0':\n-      break;\n-    default:\n-      return false;\n-  }\n-\n-  *result = n;\n-  return true;\n-}\n-\n@@ -2062,0 +1960,8 @@\n+#if INCLUDE_JFR\n+  if (status && (FlightRecorderOptions || StartFlightRecording)) {\n+    if (!create_numbered_module_property(\"jdk.module.addmods\", \"jdk.jfr\", addmods_count++)) {\n+      return false;\n+    }\n+  }\n+#endif\n+\n","filename":"src\/hotspot\/share\/runtime\/arguments.cpp","additions":16,"deletions":110,"binary":false,"changes":126,"status":"modified"},{"patch":"@@ -242,1 +242,1 @@\n-  \/\/ - dest is of type D*, an integral or pointer type.\n+  \/\/ - dest is of type D*, where D is an integral or pointer type.\n@@ -246,0 +246,1 @@\n+  \/\/ - if D is a pointer type P*, sizeof(P) == 1.\n@@ -260,3 +261,11 @@\n-  \/\/ When D is a pointer type P*, both add_and_fetch and fetch_and_add\n-  \/\/ treat it as if it were an uintptr_t; they do not perform any\n-  \/\/ scaling of add_value, as that has already been done by the caller.\n+  \/\/ When the destination type D of the Atomic operation is a pointer type P*,\n+  \/\/ the addition must scale the add_value by sizeof(P) to add that many bytes\n+  \/\/ to the destination value.  Rather than requiring each platform deal with\n+  \/\/ this, the shared part of the implementation performs some adjustments\n+  \/\/ before and after calling the platform operation.  It ensures the pointee\n+  \/\/ type of the destination value passed to the platform operation has size\n+  \/\/ 1, casting if needed.  It also scales add_value by sizeof(P).  The result\n+  \/\/ of the platform operation is cast back to P*.  This means the platform\n+  \/\/ operation does not need to account for the scaling.  It also makes it\n+  \/\/ easy for the platform to implement one of add_and_fetch or fetch_and_add\n+  \/\/ in terms of the other (which is a common approach).\n@@ -692,3 +701,0 @@\n-  typedef typename Conditional<IsSigned<I>::value,\n-                               intptr_t,\n-                               uintptr_t>::type CI;\n@@ -696,2 +702,24 @@\n-  static CI scale_addend(CI add_value) {\n-    return add_value * sizeof(P);\n+  \/\/ Type of the scaled addend.  An integral type of the same size as a\n+  \/\/ pointer, and the same signedness as I.\n+  using SI = typename Conditional<IsSigned<I>::value, intptr_t, uintptr_t>::type;\n+\n+  \/\/ Type of the unscaled destination.  A pointer type with pointee size == 1.\n+  using UP = const char*;\n+\n+  \/\/ Scale add_value by the size of the pointee.\n+  static SI scale_addend(SI add_value) {\n+    return add_value * SI(sizeof(P));\n+  }\n+\n+  \/\/ Casting between P* and UP* here intentionally uses C-style casts,\n+  \/\/ because reinterpret_cast can't cast away cv qualifiers.  Using copy_cv\n+  \/\/ would be an alternative if it existed.\n+\n+  \/\/ Unscale dest to a char* pointee for consistency with scaled addend.\n+  static UP volatile* unscale_dest(P* volatile* dest) {\n+    return (UP volatile*) dest;\n+  }\n+\n+  \/\/ Convert the unscaled char* result to a P*.\n+  static P* scale_result(UP result) {\n+    return (P*) result;\n@@ -700,3 +728,4 @@\n-  static P* add_and_fetch(P* volatile* dest, I add_value, atomic_memory_order order) {\n-    CI addend = add_value;\n-    return PlatformAdd<sizeof(P*)>().add_and_fetch(dest, scale_addend(addend), order);\n+  static P* add_and_fetch(P* volatile* dest, I addend, atomic_memory_order order) {\n+    return scale_result(PlatformAdd<sizeof(P*)>().add_and_fetch(unscale_dest(dest),\n+                                                                scale_addend(addend),\n+                                                                order));\n@@ -704,3 +733,5 @@\n-  static P* fetch_and_add(P* volatile* dest, I add_value, atomic_memory_order order) {\n-    CI addend = add_value;\n-    return PlatformAdd<sizeof(P*)>().fetch_and_add(dest, scale_addend(addend), order);\n+\n+  static P* fetch_and_add(P* volatile* dest, I addend, atomic_memory_order order) {\n+    return scale_result(PlatformAdd<sizeof(P*)>().fetch_and_add(unscale_dest(dest),\n+                                                                scale_addend(addend),\n+                                                                order));\n","filename":"src\/hotspot\/share\/runtime\/atomic.hpp","additions":46,"deletions":15,"binary":false,"changes":61,"status":"modified"},{"patch":"@@ -679,3 +679,0 @@\n-  product(bool, DynamicallyResizeSystemDictionaries, true, DIAGNOSTIC,      \\\n-          \"Dynamically resize system dictionaries as needed\")               \\\n-                                                                            \\\n","filename":"src\/hotspot\/share\/runtime\/globals.hpp","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1419,0 +1419,6 @@\n+static inline bool is_excluded(const Klass* monitor_klass) {\n+  assert(monitor_klass != nullptr, \"invariant\");\n+  NOT_JFR_RETURN_(false);\n+  JFR_ONLY(return vmSymbols::jfr_chunk_rotation_monitor() == monitor_klass->name());\n+}\n+\n@@ -1426,1 +1432,5 @@\n-  event->set_monitorClass(monitor->object()->klass());\n+  const Klass* monitor_klass = monitor->object()->klass();\n+  if (is_excluded(monitor_klass)) {\n+    return;\n+  }\n+  event->set_monitorClass(monitor_klass);\n","filename":"src\/hotspot\/share\/runtime\/objectMonitor.cpp","additions":11,"deletions":1,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -658,0 +658,5 @@\n+  \/\/ Check for overflow.\n+  if (outer_size < size) {\n+    return NULL;\n+  }\n+\n","filename":"src\/hotspot\/share\/runtime\/os.cpp","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -195,1 +195,2 @@\n-    for(j=0,fw=0.0;j<=jx;j++) fw += x[j]*f[jx+i-j]; q[i] = fw;\n+    for(j=0,fw=0.0;j<=jx;j++) fw += x[j]*f[jx+i-j];\n+    q[i] = fw;\n","filename":"src\/hotspot\/share\/runtime\/sharedRuntimeTrig.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1203,1 +1203,0 @@\n-  assert(event->should_commit(), \"invariant\");\n","filename":"src\/hotspot\/share\/runtime\/synchronizer.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -261,1 +261,0 @@\n-  assert(event->should_commit(), \"invariant\");\n","filename":"src\/hotspot\/share\/runtime\/vmThread.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -113,0 +113,1 @@\n+#define INT32_FORMAT_X           \"0x%\"        PRIx32\n@@ -116,0 +117,1 @@\n+#define UINT32_FORMAT_X          \"0x%\"        PRIx32\n","filename":"src\/hotspot\/share\/utilities\/globalDefinitions.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,173 @@\n+\/*\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022 SAP SE. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\n+ *\/\n+\n+#ifndef SHARE_UTILITIES_PARSE_INTEGER_HPP\n+#define SHARE_UTILITIES_PARSE_INTEGER_HPP\n+\n+#include \"metaprogramming\/enableIf.hpp\"\n+#include \"utilities\/debug.hpp\"\n+#include \"utilities\/globalDefinitions.hpp\"\n+#include \"utilities\/macros.hpp\"\n+\n+#include <errno.h>\n+#include <limits>\n+#include <stdlib.h>\n+\n+\/\/ *************************************************************************\n+\/\/ ** Attention compatibility!                                            **\n+\/\/ ** These functions are used to parse JVM arguments (-XX). Be careful   **\n+\/\/ ** with behavioral changes here.                                       **\n+\/\/ *************************************************************************\n+\n+\n+template <typename T, ENABLE_IF(std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 4)> \/\/ signed 32-bit\n+inline bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n+  \/\/ Don't use strtol -- on 64-bit builds, \"long\" could be either 32- or 64-bits\n+  \/\/ so the range tests could be tautological and might cause compiler warnings.\n+  STATIC_ASSERT(sizeof(long long) >= 8); \/\/ C++ specification\n+  errno = 0; \/\/ errno is thread safe\n+  long long v = strtoll(s, endptr, base);\n+  if (errno != 0 || v < min_jint || v > max_jint) {\n+    return false;\n+  }\n+  *result = static_cast<T>(v);\n+  return true;\n+}\n+\n+template <typename T, ENABLE_IF(!std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 4)> \/\/ unsigned 32-bit\n+inline bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n+  if (s[0] == '-') {\n+    return false;\n+  }\n+  \/\/ Don't use strtoul -- same reason as above.\n+  STATIC_ASSERT(sizeof(unsigned long long) >= 8); \/\/ C++ specification\n+  errno = 0; \/\/ errno is thread safe\n+  unsigned long long v = strtoull(s, endptr, base);\n+  if (errno != 0 || v > max_juint) {\n+    return false;\n+  }\n+  *result = static_cast<T>(v);\n+  return true;\n+}\n+\n+template <typename T, ENABLE_IF(std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 8)> \/\/ signed 64-bit\n+inline bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n+  errno = 0; \/\/ errno is thread safe\n+  *result = strtoll(s, endptr, base);\n+  return errno == 0;\n+}\n+\n+template <typename T, ENABLE_IF(!std::is_signed<T>::value), ENABLE_IF(sizeof(T) == 8)> \/\/ unsigned 64-bit\n+inline bool parse_integer_impl(const char *s, char **endptr, int base, T* result) {\n+  if (s[0] == '-') {\n+    return false;\n+  }\n+  errno = 0; \/\/ errno is thread safe\n+  *result = strtoull(s, endptr, base);\n+  return errno == 0;\n+}\n+\n+\n+\/\/ Helper for parse_memory_size\n+template<typename T>\n+inline bool multiply_by_1k(T& n) {\n+  if (n >= std::numeric_limits<T>::min() \/ 1024 &&\n+      n <= std::numeric_limits<T>::max() \/ 1024) {\n+    n *= 1024;\n+    return true;\n+  } else {\n+    return false;\n+  }\n+}\n+\n+\/\/ Parses a memory size in the form \"<number>[<unit>]\" with valid units being\n+\/\/ \"k\", \"K\", \"m\", \"M\", \"g\", \"G\", \"t\", \"T\". Unit omitted means bytes. If unit is given,\n+\/\/ no space is allowed between number and unit. Number can be in either decimal form\n+\/\/ or in hexadecimal form, the latter must start with \"0x\".\n+\/\/\n+\/\/ Valid template arguments for T are signed\/unsigned 32\/64-bit values.\n+\/\/\n+\/\/ This function will parse until it encounters unparseable parts, then\n+\/\/ stop. If it read no valid memory size, it will fail.\n+\/\/\n+\/\/ Example: \"1024M:oom\" will yield true, result=1G, endptr pointing to \":oom\"\n+\n+template<typename T>\n+static bool parse_integer(const char *s, char **endptr, T* result) {\n+\n+  if (!isdigit(s[0]) && s[0] != '-') {\n+    \/\/ strtoll\/strtoull may allow leading spaces. Forbid it.\n+    return false;\n+  }\n+\n+  T n = 0;\n+  bool is_hex = (s[0] == '0' && (s[1] == 'x' || s[1] == 'X')) ||\n+                (s[0] == '-' && s[1] == '0' && (s[2] == 'x' || s[3] == 'X'));\n+  char* remainder;\n+\n+  if (!parse_integer_impl<T>(s, &remainder, (is_hex ? 16 : 10), &n)) {\n+    return false;\n+  }\n+  \/\/ Nothing parsed? That is an error too.\n+  if (remainder == s) {\n+    return false;\n+  }\n+\n+  switch (*remainder) {\n+    case 'T': case 't':\n+      if (!multiply_by_1k(n)) return false;\n+      \/\/ fall-through\n+    case 'G': case 'g':\n+      if (!multiply_by_1k(n)) return false;\n+      \/\/ fall-through\n+    case 'M': case 'm':\n+      if (!multiply_by_1k(n)) return false;\n+      \/\/ fall-through\n+    case 'K': case 'k':\n+      if (!multiply_by_1k(n)) return false;\n+      remainder ++; \/\/ shave off parsed unit char\n+      break;\n+    default:\n+      \/\/ nothing. Return remainder unparsed.\n+      break;\n+  };\n+\n+  *result = n;\n+  *endptr = remainder;\n+  return true;\n+}\n+\n+\/\/ Same as parse_integer(const char *s, char **endptr, T* result), but does not allow unrecognizable\n+\/\/ characters. No remainder are allowed here.\n+\/\/ Example: \"100m\" - okay, \"100m:oom\" -> not okay\n+template<typename T>\n+static bool parse_integer(const char *s, T* result) {\n+  char* remainder;\n+  bool rc = parse_integer(s, &remainder, result);\n+  rc = rc && (*remainder == '\\0');\n+  return rc;\n+}\n+\n+#endif \/\/ SHARE_UTILITIES_PARSE_INTEGER_HPP\n","filename":"src\/hotspot\/share\/utilities\/parseInteger.hpp","additions":173,"deletions":0,"binary":false,"changes":173,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -120,1 +120,2 @@\n-        if (type2 == null || (v != Version.NTLM && nonce == null)) {\n+        if (type2 == null || (v != Version.NTLM && nonce == null) ||\n+                (nonce != null && nonce.length != 8)) {\n@@ -122,1 +123,1 @@\n-                    \"type2 and nonce cannot be null\");\n+                    \"type2 cannot be null, and nonce must be 8-byte long\");\n","filename":"src\/java.base\/share\/classes\/com\/sun\/security\/ntlm\/Client.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -227,1 +227,1 @@\n-        void writeSecurityBuffer(int offset, byte[] data) {\n+        void writeSecurityBuffer(int offset, byte[] data) throws NTLMException {\n@@ -229,1 +229,1 @@\n-                writeShort(offset+4, current);\n+                writeInt(offset+4, current);\n@@ -232,0 +232,4 @@\n+                if (len > 65535) {\n+                    throw new NTLMException(NTLMException.INVALID_INPUT,\n+                            \"Invalid data length \" + len);\n+                }\n@@ -237,1 +241,1 @@\n-                writeShort(offset+4, current);\n+                writeInt(offset+4, current);\n@@ -243,1 +247,1 @@\n-        void writeSecurityBuffer(int offset, String str, boolean unicode) {\n+        void writeSecurityBuffer(int offset, String str, boolean unicode) throws NTLMException {\n","filename":"src\/java.base\/share\/classes\/com\/sun\/security\/ntlm\/NTLM.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -68,0 +68,5 @@\n+    \/**\n+     * If an invalid input is provided.\n+     *\/\n+    public static final int INVALID_INPUT = 7;\n+\n","filename":"src\/java.base\/share\/classes\/com\/sun\/security\/ntlm\/NTLMException.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2012, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -88,1 +88,1 @@\n-        if (nonce == null) {\n+        if (nonce == null || nonce.length != 8) {\n@@ -90,1 +90,1 @@\n-                    \"nonce cannot be null\");\n+                    \"nonce must be 8-byte long\");\n","filename":"src\/java.base\/share\/classes\/com\/sun\/security\/ntlm\/Server.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1994, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1994, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,2 +60,2 @@\n-    private byte bytearr[] = new byte[80];\n-    private char chararr[] = new char[80];\n+    private byte[] bytearr = new byte[80];\n+    private char[] chararr = new char[80];\n@@ -248,4 +248,1 @@\n-        int ch = in.read();\n-        if (ch < 0)\n-            throw new EOFException();\n-        return (ch != 0);\n+        return readUnsignedByte() != 0;\n@@ -271,4 +268,1 @@\n-        int ch = in.read();\n-        if (ch < 0)\n-            throw new EOFException();\n-        return (byte)(ch);\n+        return (byte) readUnsignedByte();\n@@ -318,5 +312,1 @@\n-        int ch1 = in.read();\n-        int ch2 = in.read();\n-        if ((ch1 | ch2) < 0)\n-            throw new EOFException();\n-        return (short)((ch1 << 8) + (ch2 << 0));\n+        return (short) readUnsignedShort();\n@@ -343,0 +333,1 @@\n+        InputStream in = this.in;\n@@ -368,5 +359,1 @@\n-        int ch1 = in.read();\n-        int ch2 = in.read();\n-        if ((ch1 | ch2) < 0)\n-            throw new EOFException();\n-        return (char)((ch1 << 8) + (ch2 << 0));\n+        return (char) readUnsignedShort();\n@@ -393,0 +380,1 @@\n+        InputStream in = this.in;\n@@ -402,1 +390,1 @@\n-    private byte readBuffer[] = new byte[8];\n+    private final byte[] readBuffer = new byte[8];\n@@ -477,1 +465,1 @@\n-    private char lineBuffer[];\n+    private char[] lineBuffer;\n@@ -508,1 +496,1 @@\n-        char buf[] = lineBuffer;\n+        char[] buf = lineBuffer;\n@@ -637,1 +625,1 @@\n-                    char2 = (int) bytearr[count-1];\n+                    char2 = bytearr[count-1];\n@@ -650,2 +638,2 @@\n-                    char2 = (int) bytearr[count-2];\n-                    char3 = (int) bytearr[count-1];\n+                    char2 = bytearr[count-2];\n+                    char3 = bytearr[count-1];\n","filename":"src\/java.base\/share\/classes\/java\/io\/DataInputStream.java","additions":15,"deletions":27,"binary":false,"changes":42,"status":"modified"},{"patch":"@@ -65,1 +65,0 @@\n-import static java.io.ObjectStreamField.*;\n@@ -1567,1 +1566,1 @@\n-            appendClassSignature(sb, paramTypes[i]);\n+            sb.append(paramTypes[i].descriptorString());\n@@ -1570,1 +1569,1 @@\n-        appendClassSignature(sb, retType);\n+        sb.append(retType.descriptorString());\n@@ -1884,1 +1883,1 @@\n-            signature = getClassSignature(field.getType());\n+            signature = field.getType().descriptorString();\n","filename":"src\/java.base\/share\/classes\/java\/io\/ObjectStreamClass.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1996, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1996, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -127,52 +127,0 @@\n-    \/**\n-     * Returns JVM type signature for given primitive.\n-     *\/\n-    private static String getPrimitiveSignature(Class<?> cl) {\n-        if (cl == Integer.TYPE)\n-            return \"I\";\n-        else if (cl == Byte.TYPE)\n-            return \"B\";\n-        else if (cl == Long.TYPE)\n-            return \"J\";\n-        else if (cl == Float.TYPE)\n-            return \"F\";\n-        else if (cl == Double.TYPE)\n-            return \"D\";\n-        else if (cl == Short.TYPE)\n-            return \"S\";\n-        else if (cl == Character.TYPE)\n-            return \"C\";\n-        else if (cl == Boolean.TYPE)\n-            return \"Z\";\n-        else if (cl == Void.TYPE)\n-            return \"V\";\n-        else\n-            throw new InternalError();\n-    }\n-\n-    \/**\n-     * Returns JVM type signature for given class.\n-     *\/\n-    static String getClassSignature(Class<?> cl) {\n-        if (cl.isPrimitive()) {\n-            return getPrimitiveSignature(cl);\n-        } else {\n-            return appendClassSignature(new StringBuilder(), cl).toString();\n-        }\n-    }\n-\n-    static StringBuilder appendClassSignature(StringBuilder sbuf, Class<?> cl) {\n-        while (cl.isArray()) {\n-            sbuf.append('[');\n-            cl = cl.getComponentType();\n-        }\n-\n-        if (cl.isPrimitive()) {\n-            sbuf.append(getPrimitiveSignature(cl));\n-        } else {\n-            sbuf.append('L').append(cl.getName().replace('.', '\/')).append(';');\n-        }\n-\n-        return sbuf;\n-    }\n-\n@@ -193,1 +141,1 @@\n-        signature = getClassSignature(ftype).intern();\n+        signature = ftype.descriptorString().intern();\n@@ -350,1 +298,1 @@\n-            typeSignature = sig = getClassSignature(type).intern();\n+            typeSignature = sig = type.descriptorString().intern();\n","filename":"src\/java.base\/share\/classes\/java\/io\/ObjectStreamField.java","additions":3,"deletions":55,"binary":false,"changes":58,"status":"modified"},{"patch":"@@ -172,1 +172,1 @@\n- * <dd>The two floating-point values represent the the same IEEE 754\n+ * <dd>The two floating-point values represent the same IEEE 754\n@@ -175,2 +175,2 @@\n- * exponent}, and significand components of the\n- * floating-point values are the same. Under this relation:\n+ * exponent}, and significand components of the floating-point values\n+ * are the same. Under this relation:\n","filename":"src\/java.base\/share\/classes\/java\/lang\/Double.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -288,18 +288,0 @@\n-    List<Object> classDataValues() {\n-        final List<ClassData> cd = classData;\n-        return switch(cd.size()) {\n-            case 0 -> List.of();\n-            case 1 -> List.of(cd.get(0).value);\n-            case 2 -> List.of(cd.get(0).value, cd.get(1).value);\n-            case 3 -> List.of(cd.get(0).value, cd.get(1).value, cd.get(2).value);\n-            case 4 -> List.of(cd.get(0).value, cd.get(1).value, cd.get(2).value, cd.get(3).value);\n-            default -> {\n-                Object[] data = new Object[classData.size()];\n-                for (int i = 0; i < classData.size(); i++) {\n-                    data[i] = classData.get(i).value;\n-                }\n-                yield List.of(data);\n-            }\n-        };\n-    }\n-\n@@ -363,0 +345,26 @@\n+    \/**\n+     * Returns the class data object that will be passed to `Lookup.defineHiddenClassWithClassData`.\n+     * The classData is loaded in the <clinit> method of the generated class.\n+     * If the class data contains only one single object, this method returns  that single object.\n+     * If the class data contains more than one objects, this method returns a List.\n+     *\n+     * This method returns null if no class data.\n+     *\/\n+    private Object classDataValues() {\n+        final List<ClassData> cd = classData;\n+        return switch (cd.size()) {\n+            case 0 -> null;             \/\/ special case (classData is not used by <clinit>)\n+            case 1 -> cd.get(0).value;  \/\/ special case (single object)\n+            case 2 -> List.of(cd.get(0).value, cd.get(1).value);\n+            case 3 -> List.of(cd.get(0).value, cd.get(1).value, cd.get(2).value);\n+            case 4 -> List.of(cd.get(0).value, cd.get(1).value, cd.get(2).value, cd.get(3).value);\n+            default -> {\n+                Object[] data = new Object[classData.size()];\n+                for (int i = 0; i < classData.size(); i++) {\n+                    data[i] = classData.get(i).value;\n+                }\n+                yield List.of(data);\n+            }\n+        };\n+    }\n+\n@@ -382,10 +390,2 @@\n-        \/\/ we should optimize one single element case that does not need to create a List\n-        mv.visitTypeInsn(Opcodes.CHECKCAST, \"java\/util\/List\");\n-        mv.visitVarInsn(Opcodes.ASTORE, 0);\n-        int index = 0;\n-        for (ClassData p : classData) {\n-            \/\/ initialize the static field\n-            mv.visitVarInsn(Opcodes.ALOAD, 0);\n-            emitIconstInsn(mv, index++);\n-            mv.visitMethodInsn(Opcodes.INVOKEINTERFACE, \"java\/util\/List\",\n-                               \"get\", \"(I)Ljava\/lang\/Object;\", true);\n+        if (classData.size() == 1) {\n+            ClassData p = classData.get(0);\n@@ -394,0 +394,13 @@\n+        } else {\n+            mv.visitTypeInsn(Opcodes.CHECKCAST, \"java\/util\/List\");\n+            mv.visitVarInsn(Opcodes.ASTORE, 0);\n+            int index = 0;\n+            for (ClassData p : classData) {\n+                \/\/ initialize the static field\n+                mv.visitVarInsn(Opcodes.ALOAD, 0);\n+                emitIconstInsn(mv, index++);\n+                mv.visitMethodInsn(Opcodes.INVOKEINTERFACE, \"java\/util\/List\",\n+                                   \"get\", \"(I)Ljava\/lang\/Object;\", true);\n+                mv.visitTypeInsn(Opcodes.CHECKCAST, p.desc.substring(1, p.desc.length()-1));\n+                mv.visitFieldInsn(Opcodes.PUTSTATIC, className, p.name, p.desc);\n+            }\n","filename":"src\/java.base\/share\/classes\/java\/lang\/invoke\/InvokerBytecodeGenerator.java","additions":42,"deletions":29,"binary":false,"changes":71,"status":"modified"},{"patch":"@@ -34,0 +34,4 @@\n+import java.io.InvalidObjectException;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectStreamException;\n+import java.io.StreamCorruptedException;\n@@ -1050,0 +1054,9 @@\n+    \/**\n+     * Accept no subclasses.\n+     *\/\n+    private static BigInteger toStrictBigInteger(BigInteger val) {\n+        return (val.getClass() == BigInteger.class) ?\n+            val :\n+            new BigInteger(val.toByteArray().clone());\n+    }\n+\n@@ -1059,2 +1072,2 @@\n-        intVal = val;\n-        intCompact = compactValFor(val);\n+        intVal = toStrictBigInteger(val);\n+        intCompact = compactValFor(intVal);\n@@ -1074,1 +1087,1 @@\n-        this(val,0,mc);\n+        this(toStrictBigInteger(val), 0, mc);\n@@ -1088,2 +1101,2 @@\n-        this.intVal = unscaledVal;\n-        this.intCompact = compactValFor(unscaledVal);\n+        this.intVal = toStrictBigInteger(unscaledVal);\n+        this.intCompact = compactValFor(this.intVal);\n@@ -1107,0 +1120,1 @@\n+        unscaledVal = toStrictBigInteger(unscaledVal);\n@@ -4256,0 +4270,2 @@\n+        private static final long scaleOffset\n+                = unsafe.objectFieldOffset(BigDecimal.class, \"scale\");\n@@ -4257,2 +4273,4 @@\n-        static void setIntCompact(BigDecimal bd, long val) {\n-            unsafe.putLong(bd, intCompactOffset, val);\n+        static void setIntValAndScale(BigDecimal bd, BigInteger intVal, int scale) {\n+            unsafe.putReference(bd, intValOffset, intVal);\n+            unsafe.putInt(bd, scaleOffset, scale);\n+            unsafe.putLong(bd, intCompactOffset, compactValFor(intVal));\n@@ -4277,7 +4295,7 @@\n-        \/\/ Read in all fields\n-        s.defaultReadObject();\n-        \/\/ validate possibly bad fields\n-        if (intVal == null) {\n-            String message = \"BigDecimal: null intVal in stream\";\n-            throw new java.io.StreamCorruptedException(message);\n-        \/\/ [all values of scale are now allowed]\n+        \/\/ prepare to read the fields\n+        ObjectInputStream.GetField fields = s.readFields();\n+        BigInteger serialIntVal = (BigInteger) fields.get(\"intVal\", null);\n+\n+        \/\/ Validate field data\n+        if (serialIntVal == null) {\n+            throw new StreamCorruptedException(\"Null or missing intVal in BigDecimal stream\");\n@@ -4285,1 +4303,16 @@\n-        UnsafeHolder.setIntCompact(this, compactValFor(intVal));\n+        \/\/ Validate provenance of serialIntVal object\n+        serialIntVal = toStrictBigInteger(serialIntVal);\n+\n+        \/\/ Any integer value is valid for scale\n+        int serialScale = fields.get(\"scale\", 0);\n+\n+        UnsafeHolder.setIntValAndScale(this, serialIntVal, serialScale);\n+    }\n+\n+    \/**\n+     * Serialization without data not supported for this class.\n+     *\/\n+    @java.io.Serial\n+    private void readObjectNoData()\n+        throws ObjectStreamException {\n+        throw new InvalidObjectException(\"Deserialized BigDecimal objects need data\");\n","filename":"src\/java.base\/share\/classes\/java\/math\/BigDecimal.java","additions":48,"deletions":15,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import java.io.InvalidObjectException;\n@@ -36,0 +37,1 @@\n+import java.io.ObjectStreamException;\n@@ -871,0 +873,4 @@\n+    * @implNote Due to the nature of the underlying algorithm,\n+    *          and depending on the size of {@code this},\n+    *          this method could consume a large amount of memory, up to\n+    *          exhaustion of available heap space, or could run for a long time.\n@@ -3883,0 +3889,5 @@\n+     * @throws ArithmeticException {@code this} is too large.\n+     * @implNote Due to the nature of the underlying primality test algorithm,\n+     *          and depending on the size of {@code this} and {@code certainty},\n+     *          this method could consume a large amount of memory, up to\n+     *          exhaustion of available heap space, or could run for a long time.\n@@ -4830,3 +4841,2 @@\n-        \/\/ Read the alternate persistent fields that we care about\n-        int sign = fields.get(\"signum\", -2);\n-        byte[] magnitude = (byte[])fields.get(\"magnitude\", null);\n+        \/\/ Read and validate the alternate persistent fields that we\n+        \/\/ care about, signum and magnitude\n@@ -4834,1 +4844,2 @@\n-        \/\/ Validate signum\n+        \/\/ Read and validate signum\n+        int sign = fields.get(\"signum\", -2);\n@@ -4841,0 +4852,4 @@\n+\n+        \/\/ Read and validate magnitude\n+        byte[] magnitude = (byte[])fields.get(\"magnitude\", null);\n+        magnitude = magnitude.clone(); \/\/ defensive copy\n@@ -4849,0 +4864,7 @@\n+        \/\/ Equivalent to checkRange() on mag local without assigning\n+        \/\/ this.mag field\n+        if (mag.length > MAX_MAG_LENGTH ||\n+            (mag.length == MAX_MAG_LENGTH && mag[0] < 0)) {\n+            throw new java.io.StreamCorruptedException(\"BigInteger: Out of the supported range\");\n+        }\n+\n@@ -4850,1 +4872,2 @@\n-        UnsafeHolder.putSign(this, sign);\n+        UnsafeHolder.putSignAndMag(this, sign, mag);\n+    }\n@@ -4852,9 +4875,7 @@\n-        \/\/ Calculate mag field from magnitude and discard magnitude\n-        UnsafeHolder.putMag(this, mag);\n-        if (mag.length >= MAX_MAG_LENGTH) {\n-            try {\n-                checkRange();\n-            } catch (ArithmeticException e) {\n-                throw new java.io.StreamCorruptedException(\"BigInteger: Out of the supported range\");\n-            }\n-        }\n+    \/**\n+     * Serialization without data not supported for this class.\n+     *\/\n+    @java.io.Serial\n+    private void readObjectNoData()\n+        throws ObjectStreamException {\n+        throw new InvalidObjectException(\"Deserialized BigInteger objects need data\");\n@@ -4872,1 +4893,1 @@\n-        static void putSign(BigInteger bi, int sign) {\n+        static void putSignAndMag(BigInteger bi, int sign, int[] magnitude) {\n@@ -4874,3 +4895,0 @@\n-        }\n-\n-        static void putMag(BigInteger bi, int[] magnitude) {\n","filename":"src\/java.base\/share\/classes\/java\/math\/BigInteger.java","additions":36,"deletions":18,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -173,0 +173,12 @@\n+ * <p>\n+ * All {@code URL} constructors may throw {@link MalformedURLException}.\n+ * In particular, if the underlying {@link URLStreamHandler}\n+ * implementation rejects, or is known to reject, any of the parameters,\n+ * {@link MalformedURLException} may be thrown.\n+ * Typically, a constructor that calls the stream handler's {@linkplain\n+ * URLStreamHandler#parseURL(URL, String, int, int) parseURL method} may\n+ * throw {@code MalformedURLException} if the underlying stream handler\n+ * implementation of that method throws {@code IllegalArgumentException}.\n+ * However, which checks are performed, or not, by the stream handlers\n+ * is implementation dependent, and callers should not rely on such\n+ * checks for full URL validation.\n@@ -355,1 +367,3 @@\n-     *                  is a negative number other than -1\n+     *                  is a negative number other than -1, or if the\n+     *                  underlying stream handler implementation rejects,\n+     *                  or is known to reject, the {@code URL}\n@@ -383,1 +397,3 @@\n-     * @throws     MalformedURLException  if an unknown protocol is specified.\n+     * @throws     MalformedURLException  if an unknown protocol is specified,\n+     *                        or if the underlying stream handler implementation\n+     *                        rejects, or is known to reject, the {@code URL}\n@@ -418,1 +434,3 @@\n-     *                    is a negative number other than -1\n+     *                    is a negative number other than -1,\n+     *                    or if the underlying stream handler implementation\n+     *                    rejects, or is known to reject, the {@code URL}\n@@ -513,1 +531,4 @@\n-     *               of the associated protocol.\n+     *               of the associated protocol, or the\n+     *               underlying stream handler's {@linkplain\n+     *               URLStreamHandler#parseURL parseURL method} throws\n+     *               {@code IllegalArgumentException}\n@@ -525,1 +546,1 @@\n-     * RFC2396 &quot;Uniform Resource Identifiers : Generic * Syntax&quot; :\n+     * RFC2396 &quot;Uniform Resource Identifiers : Generic Syntax&quot; :\n@@ -557,0 +578,4 @@\n+     * @implSpec Parsing the URL includes calling the {@link\n+     * URLStreamHandler#parseURL(URL, String, int, int) parseURL} method on the\n+     * selected handler.\n+     *\n@@ -562,1 +587,4 @@\n-     *               of the associated protocol.\n+     *               of the associated protocol, or the\n+     *               underlying stream handler's {@linkplain\n+     *               URLStreamHandler#parseURL parseURL method} throws\n+     *               {@code IllegalArgumentException}\n@@ -578,0 +606,4 @@\n+     * @implSpec Parsing the URL includes calling the {@link\n+     * URLStreamHandler#parseURL(URL, String, int, int) parseURL} method on the\n+     * selected handler.\n+     *\n@@ -584,1 +616,4 @@\n-     *               of the associated protocol.\n+     *               of the associated protocol, or the\n+     *               underlying stream handler's {@linkplain\n+     *               URLStreamHandler#parseURL(URL, String, int, int)\n+     *               parseURL method} throws {@code IllegalArgumentException}\n","filename":"src\/java.base\/share\/classes\/java\/net\/URL.java","additions":42,"deletions":7,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1995, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1995, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -132,0 +132,4 @@\n+     * @throws IllegalArgumentException if the implementation of the protocol\n+     *                  handler rejects any of the given parameters\n+     * @throws NullPointerException if {@code u} is {@code null},\n+     *                  or if {@code start < limit} and {@code spec} is {@code null}\n@@ -500,0 +504,3 @@\n+     * @throws IllegalArgumentException if the implementation of the protocol\n+     *                    handler rejects any of the given parameters\n+     * @throws NullPointerException if {@code u} is {@code null}\n@@ -507,4 +514,17 @@\n-                                        \"this handler\");\n-        } else if (host != null && u.isBuiltinStreamHandler(this)) {\n-            String s = IPAddressUtil.checkHostString(host);\n-            if (s != null) throw new IllegalArgumentException(s);\n+                    \"this handler\");\n+        }\n+        \/\/ if early parsing, perform additional checks here rather than waiting\n+        \/\/ for openConnection()\n+        boolean earlyURLParsing = IPAddressUtil.earlyURLParsing();\n+        boolean isBuiltInHandler = u.isBuiltinStreamHandler(this);\n+        if (host != null && isBuiltInHandler) {\n+            String errMsg = IPAddressUtil.checkHostString(host);\n+            if (errMsg != null) throw new IllegalArgumentException(errMsg);\n+        }\n+        if (userInfo != null && isBuiltInHandler && earlyURLParsing) {\n+            String errMsg = IPAddressUtil.checkUserInfo(userInfo);\n+            if (errMsg != null) throw new IllegalArgumentException(errMsg);\n+        }\n+        if (authority != null && isBuiltInHandler && earlyURLParsing) {\n+            String errMsg = IPAddressUtil.checkAuth(authority);\n+            if (errMsg != null) throw new IllegalArgumentException(errMsg);\n@@ -529,0 +549,3 @@\n+     * @throws IllegalArgumentException if the implementation of the protocol\n+     *                    handler rejects any of the given parameters\n+     * @throws NullPointerException if {@code u} is {@code null}\n","filename":"src\/java.base\/share\/classes\/java\/net\/URLStreamHandler.java","additions":28,"deletions":5,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -149,1 +149,3 @@\n- * therefore unspecified.\n+ * therefore unspecified.  In this mode the behavior of the method to\n+ * {@linkplain #write(ByteBuffer,long) write at a given position} is also\n+ * system-dependent.\n@@ -196,1 +198,3 @@\n-     *     therefore unspecified. This option may not be used in conjunction\n+     *     therefore unspecified. The effect of {@linkplain\n+     *     #write(ByteBuffer,long) writing at a given position} with this option\n+     *     present is unspecified. This option may not be used in conjunction\n@@ -812,0 +816,3 @@\n+     * <p> If the file is open in <a href=\"#append-mode\">append mode<\/a>, then\n+     * the effect of invoking this method is unspecified.\n+     *\n","filename":"src\/java.base\/share\/classes\/java\/nio\/channels\/FileChannel.java","additions":9,"deletions":2,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -33,0 +33,1 @@\n+import jdk.internal.access.JavaSecurityPropertiesAccess;\n@@ -66,0 +67,3 @@\n+    \/* cache a copy for recording purposes *\/\n+    private static Properties initialSecurityProperties;\n+\n@@ -82,0 +86,7 @@\n+        \/\/ Set up JavaSecurityPropertiesAccess in SharedSecrets\n+        SharedSecrets.setJavaSecurityPropertiesAccess(new JavaSecurityPropertiesAccess() {\n+            @Override\n+            public Properties getInitialProperties() {\n+                return initialSecurityProperties;\n+            }\n+        });\n@@ -107,0 +118,8 @@\n+        initialSecurityProperties = (Properties) props.clone();\n+        if (sdebug != null) {\n+            for (String key : props.stringPropertyNames()) {\n+                sdebug.println(\"Initial security property: \" + key + \"=\" +\n+                    props.getProperty(key));\n+            }\n+        }\n+\n","filename":"src\/java.base\/share\/classes\/java\/security\/Security.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -156,1 +156,1 @@\n-     * the array will not affect this UnsolvedPermission.\n+     * the array will not affect this UnresolvedPermission.\n@@ -168,0 +168,6 @@\n+        \/\/ Perform a defensive copy and reassign certs if we have a non-null\n+        \/\/ reference\n+        if (certs != null) {\n+            certs = certs.clone();\n+        }\n+\n@@ -171,0 +177,1 @@\n+\n@@ -173,1 +180,1 @@\n-            for (int i=0; i<certs.length; i++) {\n+            for (int i = 0; i < certs.length; i++) {\n@@ -176,3 +183,3 @@\n-                    \/\/ entire cert array\n-                    this.certs = certs.clone();\n-                    break;\n+                    \/\/ entire cert array.  No further processing is necessary.\n+                    this.certs = certs;\n+                    return;\n@@ -182,12 +189,9 @@\n-            if (this.certs == null) {\n-                \/\/ Go through the list of certs and see if all the certs are\n-                \/\/ signer certs.\n-                int i = 0;\n-                int count = 0;\n-                while (i < certs.length) {\n-                    count++;\n-                    while (((i+1) < certs.length) &&\n-                           ((X509Certificate)certs[i]).getIssuerX500Principal().equals(\n-                               ((X509Certificate)certs[i+1]).getSubjectX500Principal())) {\n-                        i++;\n-                    }\n+            \/\/ Go through the list of certs and see if all the certs are\n+            \/\/ signer certs.\n+            int i = 0;\n+            int count = 0;\n+            while (i < certs.length) {\n+                count++;\n+                while (((i + 1) < certs.length) &&\n+                       ((X509Certificate)certs[i]).getIssuerX500Principal().equals(\n+                           ((X509Certificate)certs[i + 1]).getSubjectX500Principal())) {\n@@ -196,5 +200,8 @@\n-                if (count == certs.length) {\n-                    \/\/ All the certs are signer certs, so we store the entire\n-                    \/\/ array\n-                    this.certs = certs.clone();\n-                }\n+                i++;\n+            }\n+            if (count == certs.length) {\n+                \/\/ All the certs are signer certs, so we store the entire\n+                \/\/ array.  No further processing is needed.\n+                this.certs = certs;\n+                return;\n+            }\n@@ -202,17 +209,10 @@\n-                if (this.certs == null) {\n-                    \/\/ extract the signer certs\n-                    ArrayList<java.security.cert.Certificate> signerCerts =\n-                        new ArrayList<>();\n-                    i = 0;\n-                    while (i < certs.length) {\n-                        signerCerts.add(certs[i]);\n-                        while (((i+1) < certs.length) &&\n-                            ((X509Certificate)certs[i]).getIssuerX500Principal().equals(\n-                              ((X509Certificate)certs[i+1]).getSubjectX500Principal())) {\n-                            i++;\n-                        }\n-                        i++;\n-                    }\n-                    this.certs =\n-                        new java.security.cert.Certificate[signerCerts.size()];\n-                    signerCerts.toArray(this.certs);\n+            \/\/ extract the signer certs\n+            ArrayList<java.security.cert.Certificate> signerCerts =\n+                new ArrayList<>();\n+            i = 0;\n+            while (i < certs.length) {\n+                signerCerts.add(certs[i]);\n+                while (((i + 1) < certs.length) &&\n+                    ((X509Certificate)certs[i]).getIssuerX500Principal().equals(\n+                      ((X509Certificate)certs[i + 1]).getSubjectX500Principal())) {\n+                    i++;\n@@ -220,0 +220,1 @@\n+                i++;\n@@ -221,0 +222,3 @@\n+            this.certs =\n+                new java.security.cert.Certificate[signerCerts.size()];\n+            signerCerts.toArray(this.certs);\n@@ -313,0 +317,1 @@\n+    @Override\n@@ -333,0 +338,1 @@\n+    @Override\n@@ -405,1 +411,1 @@\n-\n+    @Override\n@@ -425,0 +431,1 @@\n+    @Override\n@@ -494,0 +501,1 @@\n+    @Override\n@@ -505,1 +513,1 @@\n-\n+    @Override\n","filename":"src\/java.base\/share\/classes\/java\/security\/UnresolvedPermission.java","additions":49,"deletions":41,"binary":false,"changes":90,"status":"modified"},{"patch":"@@ -355,0 +355,5 @@\n+    \/**\n+     * RegEx to parse number part of a compact number text\n+     *\/\n+    private transient Pattern numberPattern;\n+\n@@ -591,2 +596,2 @@\n-            int iPart = getIntegerPart(number, divisor);\n-            if (checkIncrement(iPart, compactDataIndex, divisor)) {\n+            double val = getNumberValue(number, divisor);\n+            if (checkIncrement(val, compactDataIndex, divisor)) {\n@@ -594,1 +599,1 @@\n-                iPart = getIntegerPart(number, divisor);\n+                val = getNumberValue(number, divisor);\n@@ -596,2 +601,2 @@\n-            String prefix = getAffix(false, true, isNegative, compactDataIndex, iPart);\n-            String suffix = getAffix(false, false, isNegative, compactDataIndex, iPart);\n+            String prefix = getAffix(false, true, isNegative, compactDataIndex, val);\n+            String suffix = getAffix(false, false, isNegative, compactDataIndex, val);\n@@ -601,1 +606,1 @@\n-                if (!placeHolderPatterns.get(compactDataIndex).get(iPart).isEmpty()) {\n+                if (!placeHolderPatterns.get(compactDataIndex).get(val).isEmpty()) {\n@@ -664,2 +669,2 @@\n-            int iPart = getIntegerPart(number, divisor);\n-            if (checkIncrement(iPart, compactDataIndex, divisor)) {\n+            double val = getNumberValue(number, divisor);\n+            if (checkIncrement(val, compactDataIndex, divisor)) {\n@@ -667,1 +672,1 @@\n-                iPart = getIntegerPart(number, divisor);\n+                val = getNumberValue(number, divisor);\n@@ -669,2 +674,2 @@\n-            String prefix = getAffix(false, true, isNegative, compactDataIndex, iPart);\n-            String suffix = getAffix(false, false, isNegative, compactDataIndex, iPart);\n+            String prefix = getAffix(false, true, isNegative, compactDataIndex, val);\n+            String suffix = getAffix(false, false, isNegative, compactDataIndex, val);\n@@ -673,1 +678,1 @@\n-                if (!placeHolderPatterns.get(compactDataIndex).get(iPart).isEmpty()) {\n+                if (!placeHolderPatterns.get(compactDataIndex).get(val).isEmpty()) {\n@@ -763,2 +768,2 @@\n-            int iPart = getIntegerPart(number.doubleValue(), divisor.doubleValue());\n-            if (checkIncrement(iPart, compactDataIndex, divisor.doubleValue())) {\n+            double val = getNumberValue(number.doubleValue(), divisor.doubleValue());\n+            if (checkIncrement(val, compactDataIndex, divisor.doubleValue())) {\n@@ -766,1 +771,1 @@\n-                iPart = getIntegerPart(number.doubleValue(), divisor.doubleValue());\n+                val = getNumberValue(number.doubleValue(), divisor.doubleValue());\n@@ -768,2 +773,2 @@\n-            String prefix = getAffix(false, true, isNegative, compactDataIndex, iPart);\n-            String suffix = getAffix(false, false, isNegative, compactDataIndex, iPart);\n+            String prefix = getAffix(false, true, isNegative, compactDataIndex, val);\n+            String suffix = getAffix(false, false, isNegative, compactDataIndex, val);\n@@ -772,1 +777,1 @@\n-                if (!placeHolderPatterns.get(compactDataIndex).get(iPart).isEmpty()) {\n+                if (!placeHolderPatterns.get(compactDataIndex).get(val).isEmpty()) {\n@@ -834,2 +839,2 @@\n-            int iPart = getIntegerPart(number.doubleValue(), divisor.doubleValue());\n-            if (checkIncrement(iPart, compactDataIndex, divisor.doubleValue())) {\n+            double val = getNumberValue(number.doubleValue(), divisor.doubleValue());\n+            if (checkIncrement(val, compactDataIndex, divisor.doubleValue())) {\n@@ -837,1 +842,1 @@\n-                iPart = getIntegerPart(number.doubleValue(), divisor.doubleValue());\n+                val = getNumberValue(number.doubleValue(), divisor.doubleValue());\n@@ -839,2 +844,2 @@\n-            String prefix = getAffix(false, true, isNegative, compactDataIndex, iPart);\n-            String suffix = getAffix(false, false, isNegative, compactDataIndex, iPart);\n+            String prefix = getAffix(false, true, isNegative, compactDataIndex, val);\n+            String suffix = getAffix(false, false, isNegative, compactDataIndex, val);\n@@ -843,1 +848,1 @@\n-                if (!placeHolderPatterns.get(compactDataIndex).get(iPart).isEmpty()) {\n+                if (!placeHolderPatterns.get(compactDataIndex).get(val).isEmpty()) {\n@@ -882,1 +887,1 @@\n-    private String getAffix(boolean isExpanded, boolean isPrefix, boolean isNegative, int compactDataIndex, int iPart) {\n+    private String getAffix(boolean isExpanded, boolean isPrefix, boolean isNegative, int compactDataIndex, double val) {\n@@ -887,1 +892,1 @@\n-                .get(compactDataIndex).get(iPart);\n+                .get(compactDataIndex).get(val);\n@@ -1590,2 +1595,2 @@\n-            String positivePrefix = getAffix(true, true, false, compactIndex, (int)num);\n-            String negativePrefix = getAffix(true, true, true, compactIndex, (int)num);\n+            String positivePrefix = getAffix(true, true, false, compactIndex, num);\n+            String negativePrefix = getAffix(true, true, true, compactIndex, num);\n@@ -1739,1 +1744,0 @@\n-    private static final Pattern DIGITS = Pattern.compile(\"\\\\p{Nd}+\");\n@@ -1748,0 +1752,3 @@\n+        if (numberPattern == null) {\n+            numberPattern = Pattern.compile(\"[\\\\Q\" + symbols.getDecimalSeparator() + \"\\\\E\\\\p{Nd}]+\");\n+        }\n@@ -1751,1 +1758,1 @@\n-            Matcher m = DIGITS.matcher(text);\n+            Matcher m = numberPattern.matcher(text);\n@@ -1754,2 +1761,1 @@\n-                int cp = digits.codePointAt(0);\n-                if (Character.isDigit(cp)) {\n+                if (Character.isDigit(digits.codePointAt(0))) {\n@@ -1757,0 +1763,1 @@\n+                        .filter(cp -> cp != symbols.getDecimalSeparator())\n@@ -1912,4 +1919,4 @@\n-            String positivePrefix = getAffix(true, true, false, compactIndex, (int)num);\n-            String negativePrefix = getAffix(true, true, true, compactIndex, (int)num);\n-            String positiveSuffix = getAffix(true, false, false, compactIndex, (int)num);\n-            String negativeSuffix = getAffix(true, false, true, compactIndex, (int)num);\n+            String positivePrefix = getAffix(true, true, false, compactIndex, num);\n+            String negativePrefix = getAffix(true, true, true, compactIndex, num);\n+            String positiveSuffix = getAffix(true, false, false, compactIndex, num);\n+            String negativeSuffix = getAffix(true, false, true, compactIndex, num);\n@@ -2410,3 +2417,4 @@\n-    private int getIntegerPart(double number, double divisor) {\n-        return BigDecimal.valueOf(number)\n-                .divide(BigDecimal.valueOf(divisor), roundingMode).intValue();\n+    private double getNumberValue(double number, double divisor) {\n+        var num = BigDecimal.valueOf(number)\n+                .divide(BigDecimal.valueOf(divisor), roundingMode);\n+        return getMaximumFractionDigits() > 0 ? num.doubleValue() : num.intValue();\n@@ -2415,3 +2423,3 @@\n-    \/\/ Checks whether the iPart is incremented by the BigDecimal division in\n-    \/\/ getIntegerPart(), and affects the compact number index.\n-    private boolean checkIncrement(int iPart, int index, double divisor) {\n+    \/\/ Checks whether the val is incremented by the BigDecimal division in\n+    \/\/ getNumberValue(), and affects the compact number index.\n+    private boolean checkIncrement(double val, int index, double divisor) {\n@@ -2422,1 +2430,1 @@\n-                return Math.log10(iPart) == Math.log10(nextDiv) - Math.log10(divisor);\n+                return Math.log10(val) == Math.log10(nextDiv) - Math.log10(divisor);\n","filename":"src\/java.base\/share\/classes\/java\/text\/CompactNumberFormat.java","additions":51,"deletions":43,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.internal.access;\n+\n+import java.util.Properties;\n+\n+public interface JavaSecurityPropertiesAccess {\n+    Properties getInitialProperties();\n+}\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/JavaSecurityPropertiesAccess.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -33,0 +33,1 @@\n+import java.security.Security;\n@@ -86,0 +87,1 @@\n+    private static JavaSecurityPropertiesAccess javaSecurityPropertiesAccess;\n@@ -346,0 +348,13 @@\n+    public static void setJavaSecurityPropertiesAccess(JavaSecurityPropertiesAccess jspa) {\n+        javaSecurityPropertiesAccess = jspa;\n+    }\n+\n+    public static JavaSecurityPropertiesAccess getJavaSecurityPropertiesAccess() {\n+        var access = javaSecurityPropertiesAccess;\n+        if (access == null) {\n+            ensureClassInitialized(Security.class);\n+            access = javaSecurityPropertiesAccess;\n+        }\n+        return access;\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/access\/SharedSecrets.java","additions":15,"deletions":0,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -243,1 +243,1 @@\n-    \/\/FIXME @IntrinsicCandidate\n+    @IntrinsicCandidate\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/vm\/vector\/VectorSupport.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -168,0 +168,1 @@\n+        jdk.jfr,\n","filename":"src\/java.base\/share\/classes\/module-info.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -430,0 +430,10 @@\n+    \/\/ excluded delims: \"<>\\\" \" - we don't include % and # here\n+    private static final long L_EXCLUDED_DELIMS = 0x5000000500000000L;\n+    private static final long H_EXCLUDED_DELIMS = 0x0L;\n+    \/\/ unwise \"{}|\\\\^[]`\";\n+    private static final long L_UNWISE = 0x0L;\n+    private static final long H_UNWISE = 0x3800000178000000L;\n+    private static final long L_FRAGMENT = 0x0000000800000000L;\n+    private static final long H_FRAGMENT = 0x0L;\n+    private static final long L_QUERY = 0x8000000000000000L;\n+    private static final long H_QUERY = 0x0L;\n@@ -482,1 +492,5 @@\n-    private static String checkUserInfo(String str) {\n+    \/\/ Check user-info component.\n+    \/\/ This method returns an error message if a problem\n+    \/\/ is found. The caller is expected to use that message to\n+    \/\/ throw an exception.\n+    public static String checkUserInfo(String str) {\n@@ -484,2 +498,2 @@\n-        int index = scan(str, L_EXCLUDE & ~L_COLON,\n-                H_EXCLUDE & ~H_COLON);\n+        int index = scan(str, MASKS.L_USERINFO_MASK,\n+                MASKS.H_USERINFO_MASK);\n@@ -501,2 +515,1 @@\n-                            L_NON_PRINTABLE | L_IPV6_DELIMS,\n-                            H_NON_PRINTABLE | H_IPV6_DELIMS);\n+                            MASKS.L_SCOPE_MASK, MASKS.H_SCOPE_MASK);\n@@ -512,1 +525,2 @@\n-            index = scan(str, L_EXCLUDE, H_EXCLUDE);\n+            index = scan(str, L_EXCLUDE | MASKS.L_HOSTNAME_MASK,\n+                    H_EXCLUDE | MASKS.H_HOSTNAME_MASK, OTHERS);\n@@ -521,1 +535,8 @@\n-    private static String checkAuth(String str) {\n+    \/\/ Simple checks for the authority component.\n+    \/\/ Deeper checks on the various parts of a server-based\n+    \/\/ authority component may be performed by calling\n+    \/\/ #checkAuthority(URL url)\n+    \/\/ This method returns an error message if a problem\n+    \/\/ is found. The caller is expected to use that message to\n+    \/\/ throw an exception.\n+    public static String checkAuth(String str) {\n@@ -532,2 +553,5 @@\n-    \/\/ check authority of hierarchical URL. Appropriate for\n-    \/\/ HTTP-like protocol handlers\n+    \/\/ check authority of hierarchical (server based) URL.\n+    \/\/ Appropriate for HTTP-like protocol handlers\n+    \/\/ This method returns an error message if a problem\n+    \/\/ is found. The caller is expected to use that message to\n+    \/\/ throw an exception.\n@@ -549,2 +573,6 @@\n-    \/\/ minimal syntax checks - deeper check may be performed\n-    \/\/ by the appropriate protocol handler\n+    \/\/ minimal syntax checks if delayed parsing is\n+    \/\/ enabled - deeper check will be performed\n+    \/\/ later by the appropriate protocol handler\n+    \/\/ This method returns an error message if a problem\n+    \/\/ is found. The caller is expected to use that message to\n+    \/\/ throw an exception.\n@@ -554,6 +582,12 @@\n-        int index = scan(s = url.getUserInfo(),\n-                L_NON_PRINTABLE | L_SLASH,\n-                H_NON_PRINTABLE | H_SLASH);\n-        if (index >= 0) {\n-            return \"Illegal character found in authority: \"\n-                    + describeChar(s.charAt(index));\n+        boolean earlyURLParsing = earlyURLParsing();\n+        String userInfo = url.getUserInfo();\n+        if (earlyURLParsing) {\n+            if ((s = checkUserInfo(userInfo)) != null) return s;\n+        } else {\n+            int index = scan(s = userInfo,\n+                    L_NON_PRINTABLE | L_SLASH,\n+                    H_NON_PRINTABLE | H_SLASH);\n+            if (index >= 0) {\n+                return \"Illegal character found in authority: \"\n+                        + describeChar(s.charAt(index));\n+            }\n@@ -561,1 +595,2 @@\n-        if ((s = checkHostString(url.getHost())) != null) {\n+        String host = url.getHost();\n+        if ((s = checkHostString(host)) != null) {\n@@ -567,0 +602,4 @@\n+    \/\/ Check host component.\n+    \/\/ This method returns an error message if a problem\n+    \/\/ is found. The caller is expected to use that message to\n+    \/\/ throw an exception.\n@@ -569,7 +608,12 @@\n-        int index = scan(host,\n-                L_NON_PRINTABLE | L_SLASH,\n-                H_NON_PRINTABLE | H_SLASH,\n-                OTHERS);\n-        if (index >= 0) {\n-            return \"Illegal character found in host: \"\n-                    + describeChar(host.charAt(index));\n+        if (earlyURLParsing()) {\n+            \/\/ also validate IPv6 literal format if present\n+            return checkHost(host);\n+        } else {\n+            int index = scan(host,\n+                    MASKS.L_HOSTNAME_MASK,\n+                    MASKS.H_HOSTNAME_MASK,\n+                    OTHERS);\n+            if (index >= 0) {\n+                return \"Illegal character found in host: \"\n+                        + describeChar(host.charAt(index));\n+            }\n@@ -806,0 +850,8 @@\n+    public static boolean earlyURLParsing() {\n+        return !MASKS.DELAY_URL_PARSING_SP_VALUE;\n+    }\n+\n+    public static boolean delayURLParsing() {\n+        return MASKS.DELAY_URL_PARSING_SP_VALUE;\n+    }\n+\n@@ -820,0 +872,29 @@\n+    private static class MASKS {\n+        private static final String DELAY_URL_PARSING_SP = \"jdk.net.url.delayParsing\";\n+        private static final boolean DELAY_URL_PARSING_SP_VALUE;\n+        static final long L_USERINFO_MASK = L_EXCLUDE & ~L_COLON;\n+        static final long H_USERINFO_MASK = H_EXCLUDE & ~H_COLON;\n+        static final long L_HOSTNAME_MASK;\n+        static final long H_HOSTNAME_MASK;\n+        static final long L_SCOPE_MASK;\n+        static final long H_SCOPE_MASK;\n+        static {\n+            var value = GetPropertyAction.privilegedGetProperty(\n+                    DELAY_URL_PARSING_SP, \"false\");\n+            DELAY_URL_PARSING_SP_VALUE = value.isEmpty()\n+                    || Boolean.parseBoolean(value);\n+            if (DELAY_URL_PARSING_SP_VALUE) {\n+                L_HOSTNAME_MASK = L_NON_PRINTABLE | L_SLASH;\n+                H_HOSTNAME_MASK = H_NON_PRINTABLE | H_SLASH;\n+                L_SCOPE_MASK = L_NON_PRINTABLE | L_IPV6_DELIMS;\n+                H_SCOPE_MASK = H_NON_PRINTABLE | H_IPV6_DELIMS;\n+            } else {\n+                \/\/ the hostname mask can also forbid [ ] brackets, because IPv6 should be\n+                \/\/ checked early before the mask is used when earlier parsing checks are performed\n+                L_HOSTNAME_MASK = L_NON_PRINTABLE | L_SLASH | L_UNWISE | L_EXCLUDED_DELIMS;\n+                H_HOSTNAME_MASK = H_NON_PRINTABLE | H_SLASH | H_UNWISE | H_EXCLUDED_DELIMS;\n+                L_SCOPE_MASK = L_NON_PRINTABLE | L_IPV6_DELIMS | L_SLASH | L_BACKSLASH | L_FRAGMENT | L_QUERY;\n+                H_SCOPE_MASK = H_NON_PRINTABLE | H_IPV6_DELIMS | H_SLASH | H_BACKSLASH | H_FRAGMENT | H_QUERY;\n+            }\n+        }\n+    }\n","filename":"src\/java.base\/share\/classes\/sun\/net\/util\/IPAddressUtil.java","additions":106,"deletions":25,"binary":false,"changes":131,"status":"modified"},{"patch":"@@ -162,1 +162,1 @@\n-    static URL checkURL(URL u) throws IllegalArgumentException {\n+    private static URL checkURL(URL u) throws MalformedURLException {\n@@ -165,2 +165,1 @@\n-                Exception mfue = new MalformedURLException(\"Illegal character in URL\");\n-                throw new IllegalArgumentException(mfue.getMessage(), mfue);\n+                throw new MalformedURLException(\"Illegal character in URL\");\n@@ -169,4 +168,3 @@\n-        String s = IPAddressUtil.checkAuthority(u);\n-        if (s != null) {\n-            Exception mfue = new MalformedURLException(s);\n-            throw new IllegalArgumentException(mfue.getMessage(), mfue);\n+        String errMsg = IPAddressUtil.checkAuthority(u);\n+        if (errMsg != null) {\n+            throw new MalformedURLException(errMsg);\n@@ -182,1 +180,1 @@\n-    public FtpURLConnection(URL url) {\n+    public FtpURLConnection(URL url) throws MalformedURLException {\n@@ -189,1 +187,1 @@\n-    FtpURLConnection(URL url, Proxy p) {\n+    FtpURLConnection(URL url, Proxy p) throws MalformedURLException {\n","filename":"src\/java.base\/share\/classes\/sun\/net\/www\/protocol\/ftp\/FtpURLConnection.java","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -505,2 +505,1 @@\n-    static void checkBufferPositionAligned(ByteBuffer bb,\n-                                                     int pos, int alignment)\n+    static void checkBufferPositionAligned(ByteBuffer bb, int pos, int alignment)\n@@ -509,2 +508,3 @@\n-        if (bb.alignmentOffset(pos, alignment) != 0) {\n-            throw new IOException(\"Current location of the bytebuffer (\"\n+        final int alignmentOffset = bb.alignmentOffset(pos, alignment);\n+        if (alignmentOffset != 0) {\n+            throw new IOException(\"Current position of the bytebuffer (\"\n@@ -512,1 +512,1 @@\n-                + alignment + \")\");\n+                + alignment + \"): alignment offset = \" + alignmentOffset);\n@@ -516,2 +516,1 @@\n-    static void checkRemainingBufferSizeAligned(int rem,\n-                                                          int alignment)\n+    static void checkRemainingBufferSizeAligned(int rem, int alignment)\n@@ -527,2 +526,1 @@\n-    static void checkChannelPositionAligned(long position,\n-                                                      int alignment)\n+    static void checkChannelPositionAligned(long position, int alignment)\n","filename":"src\/java.base\/share\/classes\/sun\/nio\/ch\/Util.java","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2006, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2006, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -350,0 +350,35 @@\n+    \/\/ Partial Public key validation as described in NIST SP 800-186 Appendix D.1.1.1.\n+    \/\/ The extra step in the full validation (described in Appendix D.1.1.2) is implemented\n+    \/\/ as sun.security.ec.ECOperations#checkOrder inside the jdk.crypto.ec module.\n+    public static void validatePublicKey(ECPoint point, ECParameterSpec spec)\n+            throws InvalidKeyException {\n+        BigInteger p;\n+        if (spec.getCurve().getField() instanceof ECFieldFp f) {\n+            p = f.getP();\n+        } else {\n+            throw new InvalidKeyException(\"Only curves over prime fields are supported\");\n+        }\n+\n+        \/\/ 1. If Q is the point at infinity, output REJECT\n+        if (point.equals(ECPoint.POINT_INFINITY)) {\n+            throw new InvalidKeyException(\"Public point is at infinity\");\n+        }\n+        \/\/ 2. Verify that x and y are integers in the interval [0, p-1]. Output REJECT if verification fails.\n+        BigInteger x = point.getAffineX();\n+        if (x.signum() < 0 || x.compareTo(p) >= 0) {\n+            throw new InvalidKeyException(\"Public point x is not in the interval [0, p-1]\");\n+        }\n+        BigInteger y = point.getAffineY();\n+        if (y.signum() < 0 || y.compareTo(p) >= 0) {\n+            throw new InvalidKeyException(\"Public point y is not in the interval [0, p-1]\");\n+        }\n+        \/\/ 3. Verify that (x, y) is a point on the W_a,b by checking that (x, y) satisfies the defining\n+        \/\/ equation y^2 = x^3 + a x + b where computations are carried out in GF(p). Output REJECT\n+        \/\/ if verification fails.\n+        BigInteger left = y.modPow(BigInteger.TWO, p);\n+        BigInteger right = x.pow(3).add(spec.getCurve().getA().multiply(x)).add(spec.getCurve().getB()).mod(p);\n+        if (!left.equals(right)) {\n+            throw new InvalidKeyException(\"Public point is not on the curve\");\n+        }\n+    }\n+\n","filename":"src\/java.base\/share\/classes\/sun\/security\/util\/ECUtil.java","additions":36,"deletions":1,"binary":false,"changes":37,"status":"modified"},{"patch":"@@ -1379,1 +1379,1 @@\n-# JNDI Object Factories Filter\n+# Global JNDI Object Factories Filter\n@@ -1385,1 +1385,2 @@\n-# with the same format as jdk.serialFilter.\n+# with the same format as jdk.serialFilter. Limit patterns specified in the filter property\n+# are unused.\n@@ -1387,3 +1388,3 @@\n-# Each pattern is matched against the factory class name to allow or disallow it's\n-# instantiation. The access to a factory class is allowed unless the filter returns\n-# REJECTED.\n+# Each class name pattern is matched against the factory class name to allow or disallow its\n+# instantiation. The access to a factory class is allowed if the filter returns\n+# ALLOWED.\n@@ -1401,0 +1402,52 @@\n+#\n+# Protocol Specific JNDI\/LDAP Object Factories Filter\n+#\n+# This filter is used by the JNDI\/LDAP provider implementation in the JDK to further control the\n+# set of object factory classes which will be allowed to instantiate objects from object\n+# references bound to LDAP contexts. The factory class named by the reference instance will\n+# be matched against this filter. The filter property supports pattern-based filter syntax\n+# with the same format as jdk.serialFilter. Limit patterns specified in the filter property\n+# are unused.\n+#\n+# Each class name pattern is matched against the factory class name to allow or disallow its\n+# instantiation. The access to a factory class is allowed only when it is not rejected by this filter\n+# or by the global filter defined by \"jdk.jndi.object.factoriesFilter\", and at least one of these\n+# two filters returns ALLOWED.\n+#\n+# Note: This property is currently used by the JDK Reference implementation.\n+# It is not guaranteed to be examined and used by other implementations.\n+#\n+# If the system property jdk.jndi.ldap.object.factoriesFilter is also specified, it supersedes\n+# the security property value defined here. The default value of the property is\n+# \"java.naming\/com.sun.jndi.ldap.**;!*\".\n+#\n+# The default pattern value allows any object factory class defined in the java.naming module\n+# to be specified by the reference instance, but rejects any other.\n+#jdk.jndi.ldap.object.factoriesFilter=java.naming\/com.sun.jndi.ldap.**;!*\n+\n+#\n+# Protocol Specific JNDI\/RMI Object Factories Filter\n+#\n+# This filter is used by the JNDI\/RMI provider implementation in the JDK to further control the\n+# set of object factory classes which will be allowed to instantiate objects from object\n+# references bound to RMI names. The factory class named by the reference instance will\n+# be matched against this filter. The filter property supports pattern-based filter syntax\n+# with the same format as jdk.serialFilter. Limit patterns specified in the filter property\n+# are unused.\n+#\n+# Each class name pattern is matched against the factory class name to allow or disallow its\n+# instantiation. The access to a factory class is allowed only when it is not rejected by this filter\n+# or by the global filter defined by \"jdk.jndi.object.factoriesFilter\", and at least one of these\n+# two filters returns ALLOWED.\n+#\n+# Note: This property is currently used by the JDK Reference implementation.\n+# It is not guaranteed to be examined and used by other implementations.\n+#\n+# If the system property jdk.jndi.rmi.object.factoriesFilter is also specified, it supersedes\n+# the security property value defined here. The default value of the property is\n+# \"jdk.naming.rmi\/com.sun.jndi.rmi.**;!*\".\n+#\n+# The default pattern value allows any object factory class defined in the jdk.naming.rmi module\n+# to be specified by the reference instance, but rejects any other.\n+#jdk.jndi.rmi.object.factoriesFilter=jdk.naming.rmi\/com.sun.jndi.rmi.**;!*\n+\n","filename":"src\/java.base\/share\/conf\/security\/java.security","additions":58,"deletions":5,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-## zlib v1.2.11\n+## zlib v1.2.13\n@@ -6,1 +6,1 @@\n-Copyright (C) 1995-2017 Jean-loup Gailly and Mark Adler\n+Copyright (C) 1995-2022 Jean-loup Gailly and Mark Adler\n","filename":"src\/java.base\/share\/legal\/zlib.md","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -3,1 +3,1 @@\n-zlib 1.2.11 is a general purpose data compression library.  All the code is\n+zlib 1.2.13 is a general purpose data compression library.  All the code is\n@@ -6,1 +6,1 @@\n-https:\/\/tools.ietf.org\/html\/rfc1950 (zlib format), rfc1951 (deflate format) and\n+http:\/\/tools.ietf.org\/html\/rfc1950 (zlib format), rfc1951 (deflate format) and\n@@ -34,1 +34,1 @@\n-The changes made in version 1.2.11 are documented in the file ChangeLog.\n+The changes made in version 1.2.13 are documented in the file ChangeLog.\n@@ -87,1 +87,1 @@\n- (C) 1995-2017 Jean-loup Gailly and Mark Adler\n+ (C) 1995-2022 Jean-loup Gailly and Mark Adler\n@@ -111,1 +111,4 @@\n-Gailly and Mark Adler; it does not include third-party code.\n+Gailly and Mark Adler; it does not include third-party code.  We make all\n+contributions to and distributions of this project solely in our personal\n+capacity, and are not conveying any rights to any intellectual property of\n+any third parties.\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/README","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-int ZEXPORT compress2 (dest, destLen, source, sourceLen, level)\n+int ZEXPORT compress2(dest, destLen, source, sourceLen, level)\n@@ -92,1 +92,1 @@\n-int ZEXPORT compress (dest, destLen, source, sourceLen)\n+int ZEXPORT compress(dest, destLen, source, sourceLen)\n@@ -105,1 +105,1 @@\n-uLong ZEXPORT compressBound (sourceLen)\n+uLong ZEXPORT compressBound(sourceLen)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/compress.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -29,434 +29,3276 @@\n-local const z_crc_t FAR crc_table[TBLS][256] =\n-{\n-  {\n-    0x00000000UL, 0x77073096UL, 0xee0e612cUL, 0x990951baUL, 0x076dc419UL,\n-    0x706af48fUL, 0xe963a535UL, 0x9e6495a3UL, 0x0edb8832UL, 0x79dcb8a4UL,\n-    0xe0d5e91eUL, 0x97d2d988UL, 0x09b64c2bUL, 0x7eb17cbdUL, 0xe7b82d07UL,\n-    0x90bf1d91UL, 0x1db71064UL, 0x6ab020f2UL, 0xf3b97148UL, 0x84be41deUL,\n-    0x1adad47dUL, 0x6ddde4ebUL, 0xf4d4b551UL, 0x83d385c7UL, 0x136c9856UL,\n-    0x646ba8c0UL, 0xfd62f97aUL, 0x8a65c9ecUL, 0x14015c4fUL, 0x63066cd9UL,\n-    0xfa0f3d63UL, 0x8d080df5UL, 0x3b6e20c8UL, 0x4c69105eUL, 0xd56041e4UL,\n-    0xa2677172UL, 0x3c03e4d1UL, 0x4b04d447UL, 0xd20d85fdUL, 0xa50ab56bUL,\n-    0x35b5a8faUL, 0x42b2986cUL, 0xdbbbc9d6UL, 0xacbcf940UL, 0x32d86ce3UL,\n-    0x45df5c75UL, 0xdcd60dcfUL, 0xabd13d59UL, 0x26d930acUL, 0x51de003aUL,\n-    0xc8d75180UL, 0xbfd06116UL, 0x21b4f4b5UL, 0x56b3c423UL, 0xcfba9599UL,\n-    0xb8bda50fUL, 0x2802b89eUL, 0x5f058808UL, 0xc60cd9b2UL, 0xb10be924UL,\n-    0x2f6f7c87UL, 0x58684c11UL, 0xc1611dabUL, 0xb6662d3dUL, 0x76dc4190UL,\n-    0x01db7106UL, 0x98d220bcUL, 0xefd5102aUL, 0x71b18589UL, 0x06b6b51fUL,\n-    0x9fbfe4a5UL, 0xe8b8d433UL, 0x7807c9a2UL, 0x0f00f934UL, 0x9609a88eUL,\n-    0xe10e9818UL, 0x7f6a0dbbUL, 0x086d3d2dUL, 0x91646c97UL, 0xe6635c01UL,\n-    0x6b6b51f4UL, 0x1c6c6162UL, 0x856530d8UL, 0xf262004eUL, 0x6c0695edUL,\n-    0x1b01a57bUL, 0x8208f4c1UL, 0xf50fc457UL, 0x65b0d9c6UL, 0x12b7e950UL,\n-    0x8bbeb8eaUL, 0xfcb9887cUL, 0x62dd1ddfUL, 0x15da2d49UL, 0x8cd37cf3UL,\n-    0xfbd44c65UL, 0x4db26158UL, 0x3ab551ceUL, 0xa3bc0074UL, 0xd4bb30e2UL,\n-    0x4adfa541UL, 0x3dd895d7UL, 0xa4d1c46dUL, 0xd3d6f4fbUL, 0x4369e96aUL,\n-    0x346ed9fcUL, 0xad678846UL, 0xda60b8d0UL, 0x44042d73UL, 0x33031de5UL,\n-    0xaa0a4c5fUL, 0xdd0d7cc9UL, 0x5005713cUL, 0x270241aaUL, 0xbe0b1010UL,\n-    0xc90c2086UL, 0x5768b525UL, 0x206f85b3UL, 0xb966d409UL, 0xce61e49fUL,\n-    0x5edef90eUL, 0x29d9c998UL, 0xb0d09822UL, 0xc7d7a8b4UL, 0x59b33d17UL,\n-    0x2eb40d81UL, 0xb7bd5c3bUL, 0xc0ba6cadUL, 0xedb88320UL, 0x9abfb3b6UL,\n-    0x03b6e20cUL, 0x74b1d29aUL, 0xead54739UL, 0x9dd277afUL, 0x04db2615UL,\n-    0x73dc1683UL, 0xe3630b12UL, 0x94643b84UL, 0x0d6d6a3eUL, 0x7a6a5aa8UL,\n-    0xe40ecf0bUL, 0x9309ff9dUL, 0x0a00ae27UL, 0x7d079eb1UL, 0xf00f9344UL,\n-    0x8708a3d2UL, 0x1e01f268UL, 0x6906c2feUL, 0xf762575dUL, 0x806567cbUL,\n-    0x196c3671UL, 0x6e6b06e7UL, 0xfed41b76UL, 0x89d32be0UL, 0x10da7a5aUL,\n-    0x67dd4accUL, 0xf9b9df6fUL, 0x8ebeeff9UL, 0x17b7be43UL, 0x60b08ed5UL,\n-    0xd6d6a3e8UL, 0xa1d1937eUL, 0x38d8c2c4UL, 0x4fdff252UL, 0xd1bb67f1UL,\n-    0xa6bc5767UL, 0x3fb506ddUL, 0x48b2364bUL, 0xd80d2bdaUL, 0xaf0a1b4cUL,\n-    0x36034af6UL, 0x41047a60UL, 0xdf60efc3UL, 0xa867df55UL, 0x316e8eefUL,\n-    0x4669be79UL, 0xcb61b38cUL, 0xbc66831aUL, 0x256fd2a0UL, 0x5268e236UL,\n-    0xcc0c7795UL, 0xbb0b4703UL, 0x220216b9UL, 0x5505262fUL, 0xc5ba3bbeUL,\n-    0xb2bd0b28UL, 0x2bb45a92UL, 0x5cb36a04UL, 0xc2d7ffa7UL, 0xb5d0cf31UL,\n-    0x2cd99e8bUL, 0x5bdeae1dUL, 0x9b64c2b0UL, 0xec63f226UL, 0x756aa39cUL,\n-    0x026d930aUL, 0x9c0906a9UL, 0xeb0e363fUL, 0x72076785UL, 0x05005713UL,\n-    0x95bf4a82UL, 0xe2b87a14UL, 0x7bb12baeUL, 0x0cb61b38UL, 0x92d28e9bUL,\n-    0xe5d5be0dUL, 0x7cdcefb7UL, 0x0bdbdf21UL, 0x86d3d2d4UL, 0xf1d4e242UL,\n-    0x68ddb3f8UL, 0x1fda836eUL, 0x81be16cdUL, 0xf6b9265bUL, 0x6fb077e1UL,\n-    0x18b74777UL, 0x88085ae6UL, 0xff0f6a70UL, 0x66063bcaUL, 0x11010b5cUL,\n-    0x8f659effUL, 0xf862ae69UL, 0x616bffd3UL, 0x166ccf45UL, 0xa00ae278UL,\n-    0xd70dd2eeUL, 0x4e048354UL, 0x3903b3c2UL, 0xa7672661UL, 0xd06016f7UL,\n-    0x4969474dUL, 0x3e6e77dbUL, 0xaed16a4aUL, 0xd9d65adcUL, 0x40df0b66UL,\n-    0x37d83bf0UL, 0xa9bcae53UL, 0xdebb9ec5UL, 0x47b2cf7fUL, 0x30b5ffe9UL,\n-    0xbdbdf21cUL, 0xcabac28aUL, 0x53b39330UL, 0x24b4a3a6UL, 0xbad03605UL,\n-    0xcdd70693UL, 0x54de5729UL, 0x23d967bfUL, 0xb3667a2eUL, 0xc4614ab8UL,\n-    0x5d681b02UL, 0x2a6f2b94UL, 0xb40bbe37UL, 0xc30c8ea1UL, 0x5a05df1bUL,\n-    0x2d02ef8dUL\n-#ifdef BYFOUR\n-  },\n-  {\n-    0x00000000UL, 0x191b3141UL, 0x32366282UL, 0x2b2d53c3UL, 0x646cc504UL,\n-    0x7d77f445UL, 0x565aa786UL, 0x4f4196c7UL, 0xc8d98a08UL, 0xd1c2bb49UL,\n-    0xfaefe88aUL, 0xe3f4d9cbUL, 0xacb54f0cUL, 0xb5ae7e4dUL, 0x9e832d8eUL,\n-    0x87981ccfUL, 0x4ac21251UL, 0x53d92310UL, 0x78f470d3UL, 0x61ef4192UL,\n-    0x2eaed755UL, 0x37b5e614UL, 0x1c98b5d7UL, 0x05838496UL, 0x821b9859UL,\n-    0x9b00a918UL, 0xb02dfadbUL, 0xa936cb9aUL, 0xe6775d5dUL, 0xff6c6c1cUL,\n-    0xd4413fdfUL, 0xcd5a0e9eUL, 0x958424a2UL, 0x8c9f15e3UL, 0xa7b24620UL,\n-    0xbea97761UL, 0xf1e8e1a6UL, 0xe8f3d0e7UL, 0xc3de8324UL, 0xdac5b265UL,\n-    0x5d5daeaaUL, 0x44469febUL, 0x6f6bcc28UL, 0x7670fd69UL, 0x39316baeUL,\n-    0x202a5aefUL, 0x0b07092cUL, 0x121c386dUL, 0xdf4636f3UL, 0xc65d07b2UL,\n-    0xed705471UL, 0xf46b6530UL, 0xbb2af3f7UL, 0xa231c2b6UL, 0x891c9175UL,\n-    0x9007a034UL, 0x179fbcfbUL, 0x0e848dbaUL, 0x25a9de79UL, 0x3cb2ef38UL,\n-    0x73f379ffUL, 0x6ae848beUL, 0x41c51b7dUL, 0x58de2a3cUL, 0xf0794f05UL,\n-    0xe9627e44UL, 0xc24f2d87UL, 0xdb541cc6UL, 0x94158a01UL, 0x8d0ebb40UL,\n-    0xa623e883UL, 0xbf38d9c2UL, 0x38a0c50dUL, 0x21bbf44cUL, 0x0a96a78fUL,\n-    0x138d96ceUL, 0x5ccc0009UL, 0x45d73148UL, 0x6efa628bUL, 0x77e153caUL,\n-    0xbabb5d54UL, 0xa3a06c15UL, 0x888d3fd6UL, 0x91960e97UL, 0xded79850UL,\n-    0xc7cca911UL, 0xece1fad2UL, 0xf5facb93UL, 0x7262d75cUL, 0x6b79e61dUL,\n-    0x4054b5deUL, 0x594f849fUL, 0x160e1258UL, 0x0f152319UL, 0x243870daUL,\n-    0x3d23419bUL, 0x65fd6ba7UL, 0x7ce65ae6UL, 0x57cb0925UL, 0x4ed03864UL,\n-    0x0191aea3UL, 0x188a9fe2UL, 0x33a7cc21UL, 0x2abcfd60UL, 0xad24e1afUL,\n-    0xb43fd0eeUL, 0x9f12832dUL, 0x8609b26cUL, 0xc94824abUL, 0xd05315eaUL,\n-    0xfb7e4629UL, 0xe2657768UL, 0x2f3f79f6UL, 0x362448b7UL, 0x1d091b74UL,\n-    0x04122a35UL, 0x4b53bcf2UL, 0x52488db3UL, 0x7965de70UL, 0x607eef31UL,\n-    0xe7e6f3feUL, 0xfefdc2bfUL, 0xd5d0917cUL, 0xcccba03dUL, 0x838a36faUL,\n-    0x9a9107bbUL, 0xb1bc5478UL, 0xa8a76539UL, 0x3b83984bUL, 0x2298a90aUL,\n-    0x09b5fac9UL, 0x10aecb88UL, 0x5fef5d4fUL, 0x46f46c0eUL, 0x6dd93fcdUL,\n-    0x74c20e8cUL, 0xf35a1243UL, 0xea412302UL, 0xc16c70c1UL, 0xd8774180UL,\n-    0x9736d747UL, 0x8e2de606UL, 0xa500b5c5UL, 0xbc1b8484UL, 0x71418a1aUL,\n-    0x685abb5bUL, 0x4377e898UL, 0x5a6cd9d9UL, 0x152d4f1eUL, 0x0c367e5fUL,\n-    0x271b2d9cUL, 0x3e001cddUL, 0xb9980012UL, 0xa0833153UL, 0x8bae6290UL,\n-    0x92b553d1UL, 0xddf4c516UL, 0xc4eff457UL, 0xefc2a794UL, 0xf6d996d5UL,\n-    0xae07bce9UL, 0xb71c8da8UL, 0x9c31de6bUL, 0x852aef2aUL, 0xca6b79edUL,\n-    0xd37048acUL, 0xf85d1b6fUL, 0xe1462a2eUL, 0x66de36e1UL, 0x7fc507a0UL,\n-    0x54e85463UL, 0x4df36522UL, 0x02b2f3e5UL, 0x1ba9c2a4UL, 0x30849167UL,\n-    0x299fa026UL, 0xe4c5aeb8UL, 0xfdde9ff9UL, 0xd6f3cc3aUL, 0xcfe8fd7bUL,\n-    0x80a96bbcUL, 0x99b25afdUL, 0xb29f093eUL, 0xab84387fUL, 0x2c1c24b0UL,\n-    0x350715f1UL, 0x1e2a4632UL, 0x07317773UL, 0x4870e1b4UL, 0x516bd0f5UL,\n-    0x7a468336UL, 0x635db277UL, 0xcbfad74eUL, 0xd2e1e60fUL, 0xf9ccb5ccUL,\n-    0xe0d7848dUL, 0xaf96124aUL, 0xb68d230bUL, 0x9da070c8UL, 0x84bb4189UL,\n-    0x03235d46UL, 0x1a386c07UL, 0x31153fc4UL, 0x280e0e85UL, 0x674f9842UL,\n-    0x7e54a903UL, 0x5579fac0UL, 0x4c62cb81UL, 0x8138c51fUL, 0x9823f45eUL,\n-    0xb30ea79dUL, 0xaa1596dcUL, 0xe554001bUL, 0xfc4f315aUL, 0xd7626299UL,\n-    0xce7953d8UL, 0x49e14f17UL, 0x50fa7e56UL, 0x7bd72d95UL, 0x62cc1cd4UL,\n-    0x2d8d8a13UL, 0x3496bb52UL, 0x1fbbe891UL, 0x06a0d9d0UL, 0x5e7ef3ecUL,\n-    0x4765c2adUL, 0x6c48916eUL, 0x7553a02fUL, 0x3a1236e8UL, 0x230907a9UL,\n-    0x0824546aUL, 0x113f652bUL, 0x96a779e4UL, 0x8fbc48a5UL, 0xa4911b66UL,\n-    0xbd8a2a27UL, 0xf2cbbce0UL, 0xebd08da1UL, 0xc0fdde62UL, 0xd9e6ef23UL,\n-    0x14bce1bdUL, 0x0da7d0fcUL, 0x268a833fUL, 0x3f91b27eUL, 0x70d024b9UL,\n-    0x69cb15f8UL, 0x42e6463bUL, 0x5bfd777aUL, 0xdc656bb5UL, 0xc57e5af4UL,\n-    0xee530937UL, 0xf7483876UL, 0xb809aeb1UL, 0xa1129ff0UL, 0x8a3fcc33UL,\n-    0x9324fd72UL\n-  },\n-  {\n-    0x00000000UL, 0x01c26a37UL, 0x0384d46eUL, 0x0246be59UL, 0x0709a8dcUL,\n-    0x06cbc2ebUL, 0x048d7cb2UL, 0x054f1685UL, 0x0e1351b8UL, 0x0fd13b8fUL,\n-    0x0d9785d6UL, 0x0c55efe1UL, 0x091af964UL, 0x08d89353UL, 0x0a9e2d0aUL,\n-    0x0b5c473dUL, 0x1c26a370UL, 0x1de4c947UL, 0x1fa2771eUL, 0x1e601d29UL,\n-    0x1b2f0bacUL, 0x1aed619bUL, 0x18abdfc2UL, 0x1969b5f5UL, 0x1235f2c8UL,\n-    0x13f798ffUL, 0x11b126a6UL, 0x10734c91UL, 0x153c5a14UL, 0x14fe3023UL,\n-    0x16b88e7aUL, 0x177ae44dUL, 0x384d46e0UL, 0x398f2cd7UL, 0x3bc9928eUL,\n-    0x3a0bf8b9UL, 0x3f44ee3cUL, 0x3e86840bUL, 0x3cc03a52UL, 0x3d025065UL,\n-    0x365e1758UL, 0x379c7d6fUL, 0x35dac336UL, 0x3418a901UL, 0x3157bf84UL,\n-    0x3095d5b3UL, 0x32d36beaUL, 0x331101ddUL, 0x246be590UL, 0x25a98fa7UL,\n-    0x27ef31feUL, 0x262d5bc9UL, 0x23624d4cUL, 0x22a0277bUL, 0x20e69922UL,\n-    0x2124f315UL, 0x2a78b428UL, 0x2bbade1fUL, 0x29fc6046UL, 0x283e0a71UL,\n-    0x2d711cf4UL, 0x2cb376c3UL, 0x2ef5c89aUL, 0x2f37a2adUL, 0x709a8dc0UL,\n-    0x7158e7f7UL, 0x731e59aeUL, 0x72dc3399UL, 0x7793251cUL, 0x76514f2bUL,\n-    0x7417f172UL, 0x75d59b45UL, 0x7e89dc78UL, 0x7f4bb64fUL, 0x7d0d0816UL,\n-    0x7ccf6221UL, 0x798074a4UL, 0x78421e93UL, 0x7a04a0caUL, 0x7bc6cafdUL,\n-    0x6cbc2eb0UL, 0x6d7e4487UL, 0x6f38fadeUL, 0x6efa90e9UL, 0x6bb5866cUL,\n-    0x6a77ec5bUL, 0x68315202UL, 0x69f33835UL, 0x62af7f08UL, 0x636d153fUL,\n-    0x612bab66UL, 0x60e9c151UL, 0x65a6d7d4UL, 0x6464bde3UL, 0x662203baUL,\n-    0x67e0698dUL, 0x48d7cb20UL, 0x4915a117UL, 0x4b531f4eUL, 0x4a917579UL,\n-    0x4fde63fcUL, 0x4e1c09cbUL, 0x4c5ab792UL, 0x4d98dda5UL, 0x46c49a98UL,\n-    0x4706f0afUL, 0x45404ef6UL, 0x448224c1UL, 0x41cd3244UL, 0x400f5873UL,\n-    0x4249e62aUL, 0x438b8c1dUL, 0x54f16850UL, 0x55330267UL, 0x5775bc3eUL,\n-    0x56b7d609UL, 0x53f8c08cUL, 0x523aaabbUL, 0x507c14e2UL, 0x51be7ed5UL,\n-    0x5ae239e8UL, 0x5b2053dfUL, 0x5966ed86UL, 0x58a487b1UL, 0x5deb9134UL,\n-    0x5c29fb03UL, 0x5e6f455aUL, 0x5fad2f6dUL, 0xe1351b80UL, 0xe0f771b7UL,\n-    0xe2b1cfeeUL, 0xe373a5d9UL, 0xe63cb35cUL, 0xe7fed96bUL, 0xe5b86732UL,\n-    0xe47a0d05UL, 0xef264a38UL, 0xeee4200fUL, 0xeca29e56UL, 0xed60f461UL,\n-    0xe82fe2e4UL, 0xe9ed88d3UL, 0xebab368aUL, 0xea695cbdUL, 0xfd13b8f0UL,\n-    0xfcd1d2c7UL, 0xfe976c9eUL, 0xff5506a9UL, 0xfa1a102cUL, 0xfbd87a1bUL,\n-    0xf99ec442UL, 0xf85cae75UL, 0xf300e948UL, 0xf2c2837fUL, 0xf0843d26UL,\n-    0xf1465711UL, 0xf4094194UL, 0xf5cb2ba3UL, 0xf78d95faUL, 0xf64fffcdUL,\n-    0xd9785d60UL, 0xd8ba3757UL, 0xdafc890eUL, 0xdb3ee339UL, 0xde71f5bcUL,\n-    0xdfb39f8bUL, 0xddf521d2UL, 0xdc374be5UL, 0xd76b0cd8UL, 0xd6a966efUL,\n-    0xd4efd8b6UL, 0xd52db281UL, 0xd062a404UL, 0xd1a0ce33UL, 0xd3e6706aUL,\n-    0xd2241a5dUL, 0xc55efe10UL, 0xc49c9427UL, 0xc6da2a7eUL, 0xc7184049UL,\n-    0xc25756ccUL, 0xc3953cfbUL, 0xc1d382a2UL, 0xc011e895UL, 0xcb4dafa8UL,\n-    0xca8fc59fUL, 0xc8c97bc6UL, 0xc90b11f1UL, 0xcc440774UL, 0xcd866d43UL,\n-    0xcfc0d31aUL, 0xce02b92dUL, 0x91af9640UL, 0x906dfc77UL, 0x922b422eUL,\n-    0x93e92819UL, 0x96a63e9cUL, 0x976454abUL, 0x9522eaf2UL, 0x94e080c5UL,\n-    0x9fbcc7f8UL, 0x9e7eadcfUL, 0x9c381396UL, 0x9dfa79a1UL, 0x98b56f24UL,\n-    0x99770513UL, 0x9b31bb4aUL, 0x9af3d17dUL, 0x8d893530UL, 0x8c4b5f07UL,\n-    0x8e0de15eUL, 0x8fcf8b69UL, 0x8a809decUL, 0x8b42f7dbUL, 0x89044982UL,\n-    0x88c623b5UL, 0x839a6488UL, 0x82580ebfUL, 0x801eb0e6UL, 0x81dcdad1UL,\n-    0x8493cc54UL, 0x8551a663UL, 0x8717183aUL, 0x86d5720dUL, 0xa9e2d0a0UL,\n-    0xa820ba97UL, 0xaa6604ceUL, 0xaba46ef9UL, 0xaeeb787cUL, 0xaf29124bUL,\n-    0xad6fac12UL, 0xacadc625UL, 0xa7f18118UL, 0xa633eb2fUL, 0xa4755576UL,\n-    0xa5b73f41UL, 0xa0f829c4UL, 0xa13a43f3UL, 0xa37cfdaaUL, 0xa2be979dUL,\n-    0xb5c473d0UL, 0xb40619e7UL, 0xb640a7beUL, 0xb782cd89UL, 0xb2cddb0cUL,\n-    0xb30fb13bUL, 0xb1490f62UL, 0xb08b6555UL, 0xbbd72268UL, 0xba15485fUL,\n-    0xb853f606UL, 0xb9919c31UL, 0xbcde8ab4UL, 0xbd1ce083UL, 0xbf5a5edaUL,\n-    0xbe9834edUL\n-  },\n-  {\n-    0x00000000UL, 0xb8bc6765UL, 0xaa09c88bUL, 0x12b5afeeUL, 0x8f629757UL,\n-    0x37def032UL, 0x256b5fdcUL, 0x9dd738b9UL, 0xc5b428efUL, 0x7d084f8aUL,\n-    0x6fbde064UL, 0xd7018701UL, 0x4ad6bfb8UL, 0xf26ad8ddUL, 0xe0df7733UL,\n-    0x58631056UL, 0x5019579fUL, 0xe8a530faUL, 0xfa109f14UL, 0x42acf871UL,\n-    0xdf7bc0c8UL, 0x67c7a7adUL, 0x75720843UL, 0xcdce6f26UL, 0x95ad7f70UL,\n-    0x2d111815UL, 0x3fa4b7fbUL, 0x8718d09eUL, 0x1acfe827UL, 0xa2738f42UL,\n-    0xb0c620acUL, 0x087a47c9UL, 0xa032af3eUL, 0x188ec85bUL, 0x0a3b67b5UL,\n-    0xb28700d0UL, 0x2f503869UL, 0x97ec5f0cUL, 0x8559f0e2UL, 0x3de59787UL,\n-    0x658687d1UL, 0xdd3ae0b4UL, 0xcf8f4f5aUL, 0x7733283fUL, 0xeae41086UL,\n-    0x525877e3UL, 0x40edd80dUL, 0xf851bf68UL, 0xf02bf8a1UL, 0x48979fc4UL,\n-    0x5a22302aUL, 0xe29e574fUL, 0x7f496ff6UL, 0xc7f50893UL, 0xd540a77dUL,\n-    0x6dfcc018UL, 0x359fd04eUL, 0x8d23b72bUL, 0x9f9618c5UL, 0x272a7fa0UL,\n-    0xbafd4719UL, 0x0241207cUL, 0x10f48f92UL, 0xa848e8f7UL, 0x9b14583dUL,\n-    0x23a83f58UL, 0x311d90b6UL, 0x89a1f7d3UL, 0x1476cf6aUL, 0xaccaa80fUL,\n-    0xbe7f07e1UL, 0x06c36084UL, 0x5ea070d2UL, 0xe61c17b7UL, 0xf4a9b859UL,\n-    0x4c15df3cUL, 0xd1c2e785UL, 0x697e80e0UL, 0x7bcb2f0eUL, 0xc377486bUL,\n-    0xcb0d0fa2UL, 0x73b168c7UL, 0x6104c729UL, 0xd9b8a04cUL, 0x446f98f5UL,\n-    0xfcd3ff90UL, 0xee66507eUL, 0x56da371bUL, 0x0eb9274dUL, 0xb6054028UL,\n-    0xa4b0efc6UL, 0x1c0c88a3UL, 0x81dbb01aUL, 0x3967d77fUL, 0x2bd27891UL,\n-    0x936e1ff4UL, 0x3b26f703UL, 0x839a9066UL, 0x912f3f88UL, 0x299358edUL,\n-    0xb4446054UL, 0x0cf80731UL, 0x1e4da8dfUL, 0xa6f1cfbaUL, 0xfe92dfecUL,\n-    0x462eb889UL, 0x549b1767UL, 0xec277002UL, 0x71f048bbUL, 0xc94c2fdeUL,\n-    0xdbf98030UL, 0x6345e755UL, 0x6b3fa09cUL, 0xd383c7f9UL, 0xc1366817UL,\n-    0x798a0f72UL, 0xe45d37cbUL, 0x5ce150aeUL, 0x4e54ff40UL, 0xf6e89825UL,\n-    0xae8b8873UL, 0x1637ef16UL, 0x048240f8UL, 0xbc3e279dUL, 0x21e91f24UL,\n-    0x99557841UL, 0x8be0d7afUL, 0x335cb0caUL, 0xed59b63bUL, 0x55e5d15eUL,\n-    0x47507eb0UL, 0xffec19d5UL, 0x623b216cUL, 0xda874609UL, 0xc832e9e7UL,\n-    0x708e8e82UL, 0x28ed9ed4UL, 0x9051f9b1UL, 0x82e4565fUL, 0x3a58313aUL,\n-    0xa78f0983UL, 0x1f336ee6UL, 0x0d86c108UL, 0xb53aa66dUL, 0xbd40e1a4UL,\n-    0x05fc86c1UL, 0x1749292fUL, 0xaff54e4aUL, 0x322276f3UL, 0x8a9e1196UL,\n-    0x982bbe78UL, 0x2097d91dUL, 0x78f4c94bUL, 0xc048ae2eUL, 0xd2fd01c0UL,\n-    0x6a4166a5UL, 0xf7965e1cUL, 0x4f2a3979UL, 0x5d9f9697UL, 0xe523f1f2UL,\n-    0x4d6b1905UL, 0xf5d77e60UL, 0xe762d18eUL, 0x5fdeb6ebUL, 0xc2098e52UL,\n-    0x7ab5e937UL, 0x680046d9UL, 0xd0bc21bcUL, 0x88df31eaUL, 0x3063568fUL,\n-    0x22d6f961UL, 0x9a6a9e04UL, 0x07bda6bdUL, 0xbf01c1d8UL, 0xadb46e36UL,\n-    0x15080953UL, 0x1d724e9aUL, 0xa5ce29ffUL, 0xb77b8611UL, 0x0fc7e174UL,\n-    0x9210d9cdUL, 0x2aacbea8UL, 0x38191146UL, 0x80a57623UL, 0xd8c66675UL,\n-    0x607a0110UL, 0x72cfaefeUL, 0xca73c99bUL, 0x57a4f122UL, 0xef189647UL,\n-    0xfdad39a9UL, 0x45115eccUL, 0x764dee06UL, 0xcef18963UL, 0xdc44268dUL,\n-    0x64f841e8UL, 0xf92f7951UL, 0x41931e34UL, 0x5326b1daUL, 0xeb9ad6bfUL,\n-    0xb3f9c6e9UL, 0x0b45a18cUL, 0x19f00e62UL, 0xa14c6907UL, 0x3c9b51beUL,\n-    0x842736dbUL, 0x96929935UL, 0x2e2efe50UL, 0x2654b999UL, 0x9ee8defcUL,\n-    0x8c5d7112UL, 0x34e11677UL, 0xa9362eceUL, 0x118a49abUL, 0x033fe645UL,\n-    0xbb838120UL, 0xe3e09176UL, 0x5b5cf613UL, 0x49e959fdUL, 0xf1553e98UL,\n-    0x6c820621UL, 0xd43e6144UL, 0xc68bceaaUL, 0x7e37a9cfUL, 0xd67f4138UL,\n-    0x6ec3265dUL, 0x7c7689b3UL, 0xc4caeed6UL, 0x591dd66fUL, 0xe1a1b10aUL,\n-    0xf3141ee4UL, 0x4ba87981UL, 0x13cb69d7UL, 0xab770eb2UL, 0xb9c2a15cUL,\n-    0x017ec639UL, 0x9ca9fe80UL, 0x241599e5UL, 0x36a0360bUL, 0x8e1c516eUL,\n-    0x866616a7UL, 0x3eda71c2UL, 0x2c6fde2cUL, 0x94d3b949UL, 0x090481f0UL,\n-    0xb1b8e695UL, 0xa30d497bUL, 0x1bb12e1eUL, 0x43d23e48UL, 0xfb6e592dUL,\n-    0xe9dbf6c3UL, 0x516791a6UL, 0xccb0a91fUL, 0x740cce7aUL, 0x66b96194UL,\n-    0xde0506f1UL\n-  },\n-  {\n-    0x00000000UL, 0x96300777UL, 0x2c610eeeUL, 0xba510999UL, 0x19c46d07UL,\n-    0x8ff46a70UL, 0x35a563e9UL, 0xa395649eUL, 0x3288db0eUL, 0xa4b8dc79UL,\n-    0x1ee9d5e0UL, 0x88d9d297UL, 0x2b4cb609UL, 0xbd7cb17eUL, 0x072db8e7UL,\n-    0x911dbf90UL, 0x6410b71dUL, 0xf220b06aUL, 0x4871b9f3UL, 0xde41be84UL,\n-    0x7dd4da1aUL, 0xebe4dd6dUL, 0x51b5d4f4UL, 0xc785d383UL, 0x56986c13UL,\n-    0xc0a86b64UL, 0x7af962fdUL, 0xecc9658aUL, 0x4f5c0114UL, 0xd96c0663UL,\n-    0x633d0ffaUL, 0xf50d088dUL, 0xc8206e3bUL, 0x5e10694cUL, 0xe44160d5UL,\n-    0x727167a2UL, 0xd1e4033cUL, 0x47d4044bUL, 0xfd850dd2UL, 0x6bb50aa5UL,\n-    0xfaa8b535UL, 0x6c98b242UL, 0xd6c9bbdbUL, 0x40f9bcacUL, 0xe36cd832UL,\n-    0x755cdf45UL, 0xcf0dd6dcUL, 0x593dd1abUL, 0xac30d926UL, 0x3a00de51UL,\n-    0x8051d7c8UL, 0x1661d0bfUL, 0xb5f4b421UL, 0x23c4b356UL, 0x9995bacfUL,\n-    0x0fa5bdb8UL, 0x9eb80228UL, 0x0888055fUL, 0xb2d90cc6UL, 0x24e90bb1UL,\n-    0x877c6f2fUL, 0x114c6858UL, 0xab1d61c1UL, 0x3d2d66b6UL, 0x9041dc76UL,\n-    0x0671db01UL, 0xbc20d298UL, 0x2a10d5efUL, 0x8985b171UL, 0x1fb5b606UL,\n-    0xa5e4bf9fUL, 0x33d4b8e8UL, 0xa2c90778UL, 0x34f9000fUL, 0x8ea80996UL,\n-    0x18980ee1UL, 0xbb0d6a7fUL, 0x2d3d6d08UL, 0x976c6491UL, 0x015c63e6UL,\n-    0xf4516b6bUL, 0x62616c1cUL, 0xd8306585UL, 0x4e0062f2UL, 0xed95066cUL,\n-    0x7ba5011bUL, 0xc1f40882UL, 0x57c40ff5UL, 0xc6d9b065UL, 0x50e9b712UL,\n-    0xeab8be8bUL, 0x7c88b9fcUL, 0xdf1ddd62UL, 0x492dda15UL, 0xf37cd38cUL,\n-    0x654cd4fbUL, 0x5861b24dUL, 0xce51b53aUL, 0x7400bca3UL, 0xe230bbd4UL,\n-    0x41a5df4aUL, 0xd795d83dUL, 0x6dc4d1a4UL, 0xfbf4d6d3UL, 0x6ae96943UL,\n-    0xfcd96e34UL, 0x468867adUL, 0xd0b860daUL, 0x732d0444UL, 0xe51d0333UL,\n-    0x5f4c0aaaUL, 0xc97c0dddUL, 0x3c710550UL, 0xaa410227UL, 0x10100bbeUL,\n-    0x86200cc9UL, 0x25b56857UL, 0xb3856f20UL, 0x09d466b9UL, 0x9fe461ceUL,\n-    0x0ef9de5eUL, 0x98c9d929UL, 0x2298d0b0UL, 0xb4a8d7c7UL, 0x173db359UL,\n-    0x810db42eUL, 0x3b5cbdb7UL, 0xad6cbac0UL, 0x2083b8edUL, 0xb6b3bf9aUL,\n-    0x0ce2b603UL, 0x9ad2b174UL, 0x3947d5eaUL, 0xaf77d29dUL, 0x1526db04UL,\n-    0x8316dc73UL, 0x120b63e3UL, 0x843b6494UL, 0x3e6a6d0dUL, 0xa85a6a7aUL,\n-    0x0bcf0ee4UL, 0x9dff0993UL, 0x27ae000aUL, 0xb19e077dUL, 0x44930ff0UL,\n-    0xd2a30887UL, 0x68f2011eUL, 0xfec20669UL, 0x5d5762f7UL, 0xcb676580UL,\n-    0x71366c19UL, 0xe7066b6eUL, 0x761bd4feUL, 0xe02bd389UL, 0x5a7ada10UL,\n-    0xcc4add67UL, 0x6fdfb9f9UL, 0xf9efbe8eUL, 0x43beb717UL, 0xd58eb060UL,\n-    0xe8a3d6d6UL, 0x7e93d1a1UL, 0xc4c2d838UL, 0x52f2df4fUL, 0xf167bbd1UL,\n-    0x6757bca6UL, 0xdd06b53fUL, 0x4b36b248UL, 0xda2b0dd8UL, 0x4c1b0aafUL,\n-    0xf64a0336UL, 0x607a0441UL, 0xc3ef60dfUL, 0x55df67a8UL, 0xef8e6e31UL,\n-    0x79be6946UL, 0x8cb361cbUL, 0x1a8366bcUL, 0xa0d26f25UL, 0x36e26852UL,\n-    0x95770cccUL, 0x03470bbbUL, 0xb9160222UL, 0x2f260555UL, 0xbe3bbac5UL,\n-    0x280bbdb2UL, 0x925ab42bUL, 0x046ab35cUL, 0xa7ffd7c2UL, 0x31cfd0b5UL,\n-    0x8b9ed92cUL, 0x1daede5bUL, 0xb0c2649bUL, 0x26f263ecUL, 0x9ca36a75UL,\n-    0x0a936d02UL, 0xa906099cUL, 0x3f360eebUL, 0x85670772UL, 0x13570005UL,\n-    0x824abf95UL, 0x147ab8e2UL, 0xae2bb17bUL, 0x381bb60cUL, 0x9b8ed292UL,\n-    0x0dbed5e5UL, 0xb7efdc7cUL, 0x21dfdb0bUL, 0xd4d2d386UL, 0x42e2d4f1UL,\n-    0xf8b3dd68UL, 0x6e83da1fUL, 0xcd16be81UL, 0x5b26b9f6UL, 0xe177b06fUL,\n-    0x7747b718UL, 0xe65a0888UL, 0x706a0fffUL, 0xca3b0666UL, 0x5c0b0111UL,\n-    0xff9e658fUL, 0x69ae62f8UL, 0xd3ff6b61UL, 0x45cf6c16UL, 0x78e20aa0UL,\n-    0xeed20dd7UL, 0x5483044eUL, 0xc2b30339UL, 0x612667a7UL, 0xf71660d0UL,\n-    0x4d476949UL, 0xdb776e3eUL, 0x4a6ad1aeUL, 0xdc5ad6d9UL, 0x660bdf40UL,\n-    0xf03bd837UL, 0x53aebca9UL, 0xc59ebbdeUL, 0x7fcfb247UL, 0xe9ffb530UL,\n-    0x1cf2bdbdUL, 0x8ac2bacaUL, 0x3093b353UL, 0xa6a3b424UL, 0x0536d0baUL,\n-    0x9306d7cdUL, 0x2957de54UL, 0xbf67d923UL, 0x2e7a66b3UL, 0xb84a61c4UL,\n-    0x021b685dUL, 0x942b6f2aUL, 0x37be0bb4UL, 0xa18e0cc3UL, 0x1bdf055aUL,\n-    0x8def022dUL\n-  },\n-  {\n-    0x00000000UL, 0x41311b19UL, 0x82623632UL, 0xc3532d2bUL, 0x04c56c64UL,\n-    0x45f4777dUL, 0x86a75a56UL, 0xc796414fUL, 0x088ad9c8UL, 0x49bbc2d1UL,\n-    0x8ae8effaUL, 0xcbd9f4e3UL, 0x0c4fb5acUL, 0x4d7eaeb5UL, 0x8e2d839eUL,\n-    0xcf1c9887UL, 0x5112c24aUL, 0x1023d953UL, 0xd370f478UL, 0x9241ef61UL,\n-    0x55d7ae2eUL, 0x14e6b537UL, 0xd7b5981cUL, 0x96848305UL, 0x59981b82UL,\n-    0x18a9009bUL, 0xdbfa2db0UL, 0x9acb36a9UL, 0x5d5d77e6UL, 0x1c6c6cffUL,\n-    0xdf3f41d4UL, 0x9e0e5acdUL, 0xa2248495UL, 0xe3159f8cUL, 0x2046b2a7UL,\n-    0x6177a9beUL, 0xa6e1e8f1UL, 0xe7d0f3e8UL, 0x2483dec3UL, 0x65b2c5daUL,\n-    0xaaae5d5dUL, 0xeb9f4644UL, 0x28cc6b6fUL, 0x69fd7076UL, 0xae6b3139UL,\n-    0xef5a2a20UL, 0x2c09070bUL, 0x6d381c12UL, 0xf33646dfUL, 0xb2075dc6UL,\n-    0x715470edUL, 0x30656bf4UL, 0xf7f32abbUL, 0xb6c231a2UL, 0x75911c89UL,\n-    0x34a00790UL, 0xfbbc9f17UL, 0xba8d840eUL, 0x79dea925UL, 0x38efb23cUL,\n-    0xff79f373UL, 0xbe48e86aUL, 0x7d1bc541UL, 0x3c2ade58UL, 0x054f79f0UL,\n-    0x447e62e9UL, 0x872d4fc2UL, 0xc61c54dbUL, 0x018a1594UL, 0x40bb0e8dUL,\n-    0x83e823a6UL, 0xc2d938bfUL, 0x0dc5a038UL, 0x4cf4bb21UL, 0x8fa7960aUL,\n-    0xce968d13UL, 0x0900cc5cUL, 0x4831d745UL, 0x8b62fa6eUL, 0xca53e177UL,\n-    0x545dbbbaUL, 0x156ca0a3UL, 0xd63f8d88UL, 0x970e9691UL, 0x5098d7deUL,\n-    0x11a9ccc7UL, 0xd2fae1ecUL, 0x93cbfaf5UL, 0x5cd76272UL, 0x1de6796bUL,\n-    0xdeb55440UL, 0x9f844f59UL, 0x58120e16UL, 0x1923150fUL, 0xda703824UL,\n-    0x9b41233dUL, 0xa76bfd65UL, 0xe65ae67cUL, 0x2509cb57UL, 0x6438d04eUL,\n-    0xa3ae9101UL, 0xe29f8a18UL, 0x21cca733UL, 0x60fdbc2aUL, 0xafe124adUL,\n-    0xeed03fb4UL, 0x2d83129fUL, 0x6cb20986UL, 0xab2448c9UL, 0xea1553d0UL,\n-    0x29467efbUL, 0x687765e2UL, 0xf6793f2fUL, 0xb7482436UL, 0x741b091dUL,\n-    0x352a1204UL, 0xf2bc534bUL, 0xb38d4852UL, 0x70de6579UL, 0x31ef7e60UL,\n-    0xfef3e6e7UL, 0xbfc2fdfeUL, 0x7c91d0d5UL, 0x3da0cbccUL, 0xfa368a83UL,\n-    0xbb07919aUL, 0x7854bcb1UL, 0x3965a7a8UL, 0x4b98833bUL, 0x0aa99822UL,\n-    0xc9fab509UL, 0x88cbae10UL, 0x4f5def5fUL, 0x0e6cf446UL, 0xcd3fd96dUL,\n-    0x8c0ec274UL, 0x43125af3UL, 0x022341eaUL, 0xc1706cc1UL, 0x804177d8UL,\n-    0x47d73697UL, 0x06e62d8eUL, 0xc5b500a5UL, 0x84841bbcUL, 0x1a8a4171UL,\n-    0x5bbb5a68UL, 0x98e87743UL, 0xd9d96c5aUL, 0x1e4f2d15UL, 0x5f7e360cUL,\n-    0x9c2d1b27UL, 0xdd1c003eUL, 0x120098b9UL, 0x533183a0UL, 0x9062ae8bUL,\n-    0xd153b592UL, 0x16c5f4ddUL, 0x57f4efc4UL, 0x94a7c2efUL, 0xd596d9f6UL,\n-    0xe9bc07aeUL, 0xa88d1cb7UL, 0x6bde319cUL, 0x2aef2a85UL, 0xed796bcaUL,\n-    0xac4870d3UL, 0x6f1b5df8UL, 0x2e2a46e1UL, 0xe136de66UL, 0xa007c57fUL,\n-    0x6354e854UL, 0x2265f34dUL, 0xe5f3b202UL, 0xa4c2a91bUL, 0x67918430UL,\n-    0x26a09f29UL, 0xb8aec5e4UL, 0xf99fdefdUL, 0x3accf3d6UL, 0x7bfde8cfUL,\n-    0xbc6ba980UL, 0xfd5ab299UL, 0x3e099fb2UL, 0x7f3884abUL, 0xb0241c2cUL,\n-    0xf1150735UL, 0x32462a1eUL, 0x73773107UL, 0xb4e17048UL, 0xf5d06b51UL,\n-    0x3683467aUL, 0x77b25d63UL, 0x4ed7facbUL, 0x0fe6e1d2UL, 0xccb5ccf9UL,\n-    0x8d84d7e0UL, 0x4a1296afUL, 0x0b238db6UL, 0xc870a09dUL, 0x8941bb84UL,\n-    0x465d2303UL, 0x076c381aUL, 0xc43f1531UL, 0x850e0e28UL, 0x42984f67UL,\n-    0x03a9547eUL, 0xc0fa7955UL, 0x81cb624cUL, 0x1fc53881UL, 0x5ef42398UL,\n-    0x9da70eb3UL, 0xdc9615aaUL, 0x1b0054e5UL, 0x5a314ffcUL, 0x996262d7UL,\n-    0xd85379ceUL, 0x174fe149UL, 0x567efa50UL, 0x952dd77bUL, 0xd41ccc62UL,\n-    0x138a8d2dUL, 0x52bb9634UL, 0x91e8bb1fUL, 0xd0d9a006UL, 0xecf37e5eUL,\n-    0xadc26547UL, 0x6e91486cUL, 0x2fa05375UL, 0xe836123aUL, 0xa9070923UL,\n-    0x6a542408UL, 0x2b653f11UL, 0xe479a796UL, 0xa548bc8fUL, 0x661b91a4UL,\n-    0x272a8abdUL, 0xe0bccbf2UL, 0xa18dd0ebUL, 0x62defdc0UL, 0x23efe6d9UL,\n-    0xbde1bc14UL, 0xfcd0a70dUL, 0x3f838a26UL, 0x7eb2913fUL, 0xb924d070UL,\n-    0xf815cb69UL, 0x3b46e642UL, 0x7a77fd5bUL, 0xb56b65dcUL, 0xf45a7ec5UL,\n-    0x370953eeUL, 0x763848f7UL, 0xb1ae09b8UL, 0xf09f12a1UL, 0x33cc3f8aUL,\n-    0x72fd2493UL\n-  },\n-  {\n-    0x00000000UL, 0x376ac201UL, 0x6ed48403UL, 0x59be4602UL, 0xdca80907UL,\n-    0xebc2cb06UL, 0xb27c8d04UL, 0x85164f05UL, 0xb851130eUL, 0x8f3bd10fUL,\n-    0xd685970dUL, 0xe1ef550cUL, 0x64f91a09UL, 0x5393d808UL, 0x0a2d9e0aUL,\n-    0x3d475c0bUL, 0x70a3261cUL, 0x47c9e41dUL, 0x1e77a21fUL, 0x291d601eUL,\n-    0xac0b2f1bUL, 0x9b61ed1aUL, 0xc2dfab18UL, 0xf5b56919UL, 0xc8f23512UL,\n-    0xff98f713UL, 0xa626b111UL, 0x914c7310UL, 0x145a3c15UL, 0x2330fe14UL,\n-    0x7a8eb816UL, 0x4de47a17UL, 0xe0464d38UL, 0xd72c8f39UL, 0x8e92c93bUL,\n-    0xb9f80b3aUL, 0x3cee443fUL, 0x0b84863eUL, 0x523ac03cUL, 0x6550023dUL,\n-    0x58175e36UL, 0x6f7d9c37UL, 0x36c3da35UL, 0x01a91834UL, 0x84bf5731UL,\n-    0xb3d59530UL, 0xea6bd332UL, 0xdd011133UL, 0x90e56b24UL, 0xa78fa925UL,\n-    0xfe31ef27UL, 0xc95b2d26UL, 0x4c4d6223UL, 0x7b27a022UL, 0x2299e620UL,\n-    0x15f32421UL, 0x28b4782aUL, 0x1fdeba2bUL, 0x4660fc29UL, 0x710a3e28UL,\n-    0xf41c712dUL, 0xc376b32cUL, 0x9ac8f52eUL, 0xada2372fUL, 0xc08d9a70UL,\n-    0xf7e75871UL, 0xae591e73UL, 0x9933dc72UL, 0x1c259377UL, 0x2b4f5176UL,\n-    0x72f11774UL, 0x459bd575UL, 0x78dc897eUL, 0x4fb64b7fUL, 0x16080d7dUL,\n-    0x2162cf7cUL, 0xa4748079UL, 0x931e4278UL, 0xcaa0047aUL, 0xfdcac67bUL,\n-    0xb02ebc6cUL, 0x87447e6dUL, 0xdefa386fUL, 0xe990fa6eUL, 0x6c86b56bUL,\n-    0x5bec776aUL, 0x02523168UL, 0x3538f369UL, 0x087faf62UL, 0x3f156d63UL,\n-    0x66ab2b61UL, 0x51c1e960UL, 0xd4d7a665UL, 0xe3bd6464UL, 0xba032266UL,\n-    0x8d69e067UL, 0x20cbd748UL, 0x17a11549UL, 0x4e1f534bUL, 0x7975914aUL,\n-    0xfc63de4fUL, 0xcb091c4eUL, 0x92b75a4cUL, 0xa5dd984dUL, 0x989ac446UL,\n-    0xaff00647UL, 0xf64e4045UL, 0xc1248244UL, 0x4432cd41UL, 0x73580f40UL,\n-    0x2ae64942UL, 0x1d8c8b43UL, 0x5068f154UL, 0x67023355UL, 0x3ebc7557UL,\n-    0x09d6b756UL, 0x8cc0f853UL, 0xbbaa3a52UL, 0xe2147c50UL, 0xd57ebe51UL,\n-    0xe839e25aUL, 0xdf53205bUL, 0x86ed6659UL, 0xb187a458UL, 0x3491eb5dUL,\n-    0x03fb295cUL, 0x5a456f5eUL, 0x6d2fad5fUL, 0x801b35e1UL, 0xb771f7e0UL,\n-    0xeecfb1e2UL, 0xd9a573e3UL, 0x5cb33ce6UL, 0x6bd9fee7UL, 0x3267b8e5UL,\n-    0x050d7ae4UL, 0x384a26efUL, 0x0f20e4eeUL, 0x569ea2ecUL, 0x61f460edUL,\n-    0xe4e22fe8UL, 0xd388ede9UL, 0x8a36abebUL, 0xbd5c69eaUL, 0xf0b813fdUL,\n-    0xc7d2d1fcUL, 0x9e6c97feUL, 0xa90655ffUL, 0x2c101afaUL, 0x1b7ad8fbUL,\n-    0x42c49ef9UL, 0x75ae5cf8UL, 0x48e900f3UL, 0x7f83c2f2UL, 0x263d84f0UL,\n-    0x115746f1UL, 0x944109f4UL, 0xa32bcbf5UL, 0xfa958df7UL, 0xcdff4ff6UL,\n-    0x605d78d9UL, 0x5737bad8UL, 0x0e89fcdaUL, 0x39e33edbUL, 0xbcf571deUL,\n-    0x8b9fb3dfUL, 0xd221f5ddUL, 0xe54b37dcUL, 0xd80c6bd7UL, 0xef66a9d6UL,\n-    0xb6d8efd4UL, 0x81b22dd5UL, 0x04a462d0UL, 0x33cea0d1UL, 0x6a70e6d3UL,\n-    0x5d1a24d2UL, 0x10fe5ec5UL, 0x27949cc4UL, 0x7e2adac6UL, 0x494018c7UL,\n-    0xcc5657c2UL, 0xfb3c95c3UL, 0xa282d3c1UL, 0x95e811c0UL, 0xa8af4dcbUL,\n-    0x9fc58fcaUL, 0xc67bc9c8UL, 0xf1110bc9UL, 0x740744ccUL, 0x436d86cdUL,\n-    0x1ad3c0cfUL, 0x2db902ceUL, 0x4096af91UL, 0x77fc6d90UL, 0x2e422b92UL,\n-    0x1928e993UL, 0x9c3ea696UL, 0xab546497UL, 0xf2ea2295UL, 0xc580e094UL,\n-    0xf8c7bc9fUL, 0xcfad7e9eUL, 0x9613389cUL, 0xa179fa9dUL, 0x246fb598UL,\n-    0x13057799UL, 0x4abb319bUL, 0x7dd1f39aUL, 0x3035898dUL, 0x075f4b8cUL,\n-    0x5ee10d8eUL, 0x698bcf8fUL, 0xec9d808aUL, 0xdbf7428bUL, 0x82490489UL,\n-    0xb523c688UL, 0x88649a83UL, 0xbf0e5882UL, 0xe6b01e80UL, 0xd1dadc81UL,\n-    0x54cc9384UL, 0x63a65185UL, 0x3a181787UL, 0x0d72d586UL, 0xa0d0e2a9UL,\n-    0x97ba20a8UL, 0xce0466aaUL, 0xf96ea4abUL, 0x7c78ebaeUL, 0x4b1229afUL,\n-    0x12ac6fadUL, 0x25c6adacUL, 0x1881f1a7UL, 0x2feb33a6UL, 0x765575a4UL,\n-    0x413fb7a5UL, 0xc429f8a0UL, 0xf3433aa1UL, 0xaafd7ca3UL, 0x9d97bea2UL,\n-    0xd073c4b5UL, 0xe71906b4UL, 0xbea740b6UL, 0x89cd82b7UL, 0x0cdbcdb2UL,\n-    0x3bb10fb3UL, 0x620f49b1UL, 0x55658bb0UL, 0x6822d7bbUL, 0x5f4815baUL,\n-    0x06f653b8UL, 0x319c91b9UL, 0xb48adebcUL, 0x83e01cbdUL, 0xda5e5abfUL,\n-    0xed3498beUL\n-  },\n-  {\n-    0x00000000UL, 0x6567bcb8UL, 0x8bc809aaUL, 0xeeafb512UL, 0x5797628fUL,\n-    0x32f0de37UL, 0xdc5f6b25UL, 0xb938d79dUL, 0xef28b4c5UL, 0x8a4f087dUL,\n-    0x64e0bd6fUL, 0x018701d7UL, 0xb8bfd64aUL, 0xddd86af2UL, 0x3377dfe0UL,\n-    0x56106358UL, 0x9f571950UL, 0xfa30a5e8UL, 0x149f10faUL, 0x71f8ac42UL,\n-    0xc8c07bdfUL, 0xada7c767UL, 0x43087275UL, 0x266fcecdUL, 0x707fad95UL,\n-    0x1518112dUL, 0xfbb7a43fUL, 0x9ed01887UL, 0x27e8cf1aUL, 0x428f73a2UL,\n-    0xac20c6b0UL, 0xc9477a08UL, 0x3eaf32a0UL, 0x5bc88e18UL, 0xb5673b0aUL,\n-    0xd00087b2UL, 0x6938502fUL, 0x0c5fec97UL, 0xe2f05985UL, 0x8797e53dUL,\n-    0xd1878665UL, 0xb4e03addUL, 0x5a4f8fcfUL, 0x3f283377UL, 0x8610e4eaUL,\n-    0xe3775852UL, 0x0dd8ed40UL, 0x68bf51f8UL, 0xa1f82bf0UL, 0xc49f9748UL,\n-    0x2a30225aUL, 0x4f579ee2UL, 0xf66f497fUL, 0x9308f5c7UL, 0x7da740d5UL,\n-    0x18c0fc6dUL, 0x4ed09f35UL, 0x2bb7238dUL, 0xc518969fUL, 0xa07f2a27UL,\n-    0x1947fdbaUL, 0x7c204102UL, 0x928ff410UL, 0xf7e848a8UL, 0x3d58149bUL,\n-    0x583fa823UL, 0xb6901d31UL, 0xd3f7a189UL, 0x6acf7614UL, 0x0fa8caacUL,\n-    0xe1077fbeUL, 0x8460c306UL, 0xd270a05eUL, 0xb7171ce6UL, 0x59b8a9f4UL,\n-    0x3cdf154cUL, 0x85e7c2d1UL, 0xe0807e69UL, 0x0e2fcb7bUL, 0x6b4877c3UL,\n-    0xa20f0dcbUL, 0xc768b173UL, 0x29c70461UL, 0x4ca0b8d9UL, 0xf5986f44UL,\n-    0x90ffd3fcUL, 0x7e5066eeUL, 0x1b37da56UL, 0x4d27b90eUL, 0x284005b6UL,\n-    0xc6efb0a4UL, 0xa3880c1cUL, 0x1ab0db81UL, 0x7fd76739UL, 0x9178d22bUL,\n-    0xf41f6e93UL, 0x03f7263bUL, 0x66909a83UL, 0x883f2f91UL, 0xed589329UL,\n-    0x546044b4UL, 0x3107f80cUL, 0xdfa84d1eUL, 0xbacff1a6UL, 0xecdf92feUL,\n-    0x89b82e46UL, 0x67179b54UL, 0x027027ecUL, 0xbb48f071UL, 0xde2f4cc9UL,\n-    0x3080f9dbUL, 0x55e74563UL, 0x9ca03f6bUL, 0xf9c783d3UL, 0x176836c1UL,\n-    0x720f8a79UL, 0xcb375de4UL, 0xae50e15cUL, 0x40ff544eUL, 0x2598e8f6UL,\n-    0x73888baeUL, 0x16ef3716UL, 0xf8408204UL, 0x9d273ebcUL, 0x241fe921UL,\n-    0x41785599UL, 0xafd7e08bUL, 0xcab05c33UL, 0x3bb659edUL, 0x5ed1e555UL,\n-    0xb07e5047UL, 0xd519ecffUL, 0x6c213b62UL, 0x094687daUL, 0xe7e932c8UL,\n-    0x828e8e70UL, 0xd49eed28UL, 0xb1f95190UL, 0x5f56e482UL, 0x3a31583aUL,\n-    0x83098fa7UL, 0xe66e331fUL, 0x08c1860dUL, 0x6da63ab5UL, 0xa4e140bdUL,\n-    0xc186fc05UL, 0x2f294917UL, 0x4a4ef5afUL, 0xf3762232UL, 0x96119e8aUL,\n-    0x78be2b98UL, 0x1dd99720UL, 0x4bc9f478UL, 0x2eae48c0UL, 0xc001fdd2UL,\n-    0xa566416aUL, 0x1c5e96f7UL, 0x79392a4fUL, 0x97969f5dUL, 0xf2f123e5UL,\n-    0x05196b4dUL, 0x607ed7f5UL, 0x8ed162e7UL, 0xebb6de5fUL, 0x528e09c2UL,\n-    0x37e9b57aUL, 0xd9460068UL, 0xbc21bcd0UL, 0xea31df88UL, 0x8f566330UL,\n-    0x61f9d622UL, 0x049e6a9aUL, 0xbda6bd07UL, 0xd8c101bfUL, 0x366eb4adUL,\n-    0x53090815UL, 0x9a4e721dUL, 0xff29cea5UL, 0x11867bb7UL, 0x74e1c70fUL,\n-    0xcdd91092UL, 0xa8beac2aUL, 0x46111938UL, 0x2376a580UL, 0x7566c6d8UL,\n-    0x10017a60UL, 0xfeaecf72UL, 0x9bc973caUL, 0x22f1a457UL, 0x479618efUL,\n-    0xa939adfdUL, 0xcc5e1145UL, 0x06ee4d76UL, 0x6389f1ceUL, 0x8d2644dcUL,\n-    0xe841f864UL, 0x51792ff9UL, 0x341e9341UL, 0xdab12653UL, 0xbfd69aebUL,\n-    0xe9c6f9b3UL, 0x8ca1450bUL, 0x620ef019UL, 0x07694ca1UL, 0xbe519b3cUL,\n-    0xdb362784UL, 0x35999296UL, 0x50fe2e2eUL, 0x99b95426UL, 0xfcdee89eUL,\n-    0x12715d8cUL, 0x7716e134UL, 0xce2e36a9UL, 0xab498a11UL, 0x45e63f03UL,\n-    0x208183bbUL, 0x7691e0e3UL, 0x13f65c5bUL, 0xfd59e949UL, 0x983e55f1UL,\n-    0x2106826cUL, 0x44613ed4UL, 0xaace8bc6UL, 0xcfa9377eUL, 0x38417fd6UL,\n-    0x5d26c36eUL, 0xb389767cUL, 0xd6eecac4UL, 0x6fd61d59UL, 0x0ab1a1e1UL,\n-    0xe41e14f3UL, 0x8179a84bUL, 0xd769cb13UL, 0xb20e77abUL, 0x5ca1c2b9UL,\n-    0x39c67e01UL, 0x80fea99cUL, 0xe5991524UL, 0x0b36a036UL, 0x6e511c8eUL,\n-    0xa7166686UL, 0xc271da3eUL, 0x2cde6f2cUL, 0x49b9d394UL, 0xf0810409UL,\n-    0x95e6b8b1UL, 0x7b490da3UL, 0x1e2eb11bUL, 0x483ed243UL, 0x2d596efbUL,\n-    0xc3f6dbe9UL, 0xa6916751UL, 0x1fa9b0ccUL, 0x7ace0c74UL, 0x9461b966UL,\n-    0xf10605deUL\n+local const z_crc_t FAR crc_table[] = {\n+    0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\n+    0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\n+    0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\n+    0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\n+    0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\n+    0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n+    0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\n+    0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n+    0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\n+    0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\n+    0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\n+    0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n+    0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\n+    0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\n+    0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\n+    0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n+    0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\n+    0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n+    0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\n+    0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\n+    0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\n+    0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\n+    0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\n+    0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n+    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\n+    0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\n+    0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\n+    0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\n+    0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\n+    0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n+    0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\n+    0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n+    0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\n+    0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\n+    0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\n+    0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n+    0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\n+    0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\n+    0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\n+    0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n+    0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\n+    0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n+    0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\n+    0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\n+    0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\n+    0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\n+    0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\n+    0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n+    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\n+    0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\n+    0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\n+    0x2d02ef8d};\n+\n+#ifdef W\n+\n+#if W == 8\n+\n+local const z_word_t FAR crc_big_table[] = {\n+    0x0000000000000000, 0x9630077700000000, 0x2c610eee00000000,\n+    0xba51099900000000, 0x19c46d0700000000, 0x8ff46a7000000000,\n+    0x35a563e900000000, 0xa395649e00000000, 0x3288db0e00000000,\n+    0xa4b8dc7900000000, 0x1ee9d5e000000000, 0x88d9d29700000000,\n+    0x2b4cb60900000000, 0xbd7cb17e00000000, 0x072db8e700000000,\n+    0x911dbf9000000000, 0x6410b71d00000000, 0xf220b06a00000000,\n+    0x4871b9f300000000, 0xde41be8400000000, 0x7dd4da1a00000000,\n+    0xebe4dd6d00000000, 0x51b5d4f400000000, 0xc785d38300000000,\n+    0x56986c1300000000, 0xc0a86b6400000000, 0x7af962fd00000000,\n+    0xecc9658a00000000, 0x4f5c011400000000, 0xd96c066300000000,\n+    0x633d0ffa00000000, 0xf50d088d00000000, 0xc8206e3b00000000,\n+    0x5e10694c00000000, 0xe44160d500000000, 0x727167a200000000,\n+    0xd1e4033c00000000, 0x47d4044b00000000, 0xfd850dd200000000,\n+    0x6bb50aa500000000, 0xfaa8b53500000000, 0x6c98b24200000000,\n+    0xd6c9bbdb00000000, 0x40f9bcac00000000, 0xe36cd83200000000,\n+    0x755cdf4500000000, 0xcf0dd6dc00000000, 0x593dd1ab00000000,\n+    0xac30d92600000000, 0x3a00de5100000000, 0x8051d7c800000000,\n+    0x1661d0bf00000000, 0xb5f4b42100000000, 0x23c4b35600000000,\n+    0x9995bacf00000000, 0x0fa5bdb800000000, 0x9eb8022800000000,\n+    0x0888055f00000000, 0xb2d90cc600000000, 0x24e90bb100000000,\n+    0x877c6f2f00000000, 0x114c685800000000, 0xab1d61c100000000,\n+    0x3d2d66b600000000, 0x9041dc7600000000, 0x0671db0100000000,\n+    0xbc20d29800000000, 0x2a10d5ef00000000, 0x8985b17100000000,\n+    0x1fb5b60600000000, 0xa5e4bf9f00000000, 0x33d4b8e800000000,\n+    0xa2c9077800000000, 0x34f9000f00000000, 0x8ea8099600000000,\n+    0x18980ee100000000, 0xbb0d6a7f00000000, 0x2d3d6d0800000000,\n+    0x976c649100000000, 0x015c63e600000000, 0xf4516b6b00000000,\n+    0x62616c1c00000000, 0xd830658500000000, 0x4e0062f200000000,\n+    0xed95066c00000000, 0x7ba5011b00000000, 0xc1f4088200000000,\n+    0x57c40ff500000000, 0xc6d9b06500000000, 0x50e9b71200000000,\n+    0xeab8be8b00000000, 0x7c88b9fc00000000, 0xdf1ddd6200000000,\n+    0x492dda1500000000, 0xf37cd38c00000000, 0x654cd4fb00000000,\n+    0x5861b24d00000000, 0xce51b53a00000000, 0x7400bca300000000,\n+    0xe230bbd400000000, 0x41a5df4a00000000, 0xd795d83d00000000,\n+    0x6dc4d1a400000000, 0xfbf4d6d300000000, 0x6ae9694300000000,\n+    0xfcd96e3400000000, 0x468867ad00000000, 0xd0b860da00000000,\n+    0x732d044400000000, 0xe51d033300000000, 0x5f4c0aaa00000000,\n+    0xc97c0ddd00000000, 0x3c71055000000000, 0xaa41022700000000,\n+    0x10100bbe00000000, 0x86200cc900000000, 0x25b5685700000000,\n+    0xb3856f2000000000, 0x09d466b900000000, 0x9fe461ce00000000,\n+    0x0ef9de5e00000000, 0x98c9d92900000000, 0x2298d0b000000000,\n+    0xb4a8d7c700000000, 0x173db35900000000, 0x810db42e00000000,\n+    0x3b5cbdb700000000, 0xad6cbac000000000, 0x2083b8ed00000000,\n+    0xb6b3bf9a00000000, 0x0ce2b60300000000, 0x9ad2b17400000000,\n+    0x3947d5ea00000000, 0xaf77d29d00000000, 0x1526db0400000000,\n+    0x8316dc7300000000, 0x120b63e300000000, 0x843b649400000000,\n+    0x3e6a6d0d00000000, 0xa85a6a7a00000000, 0x0bcf0ee400000000,\n+    0x9dff099300000000, 0x27ae000a00000000, 0xb19e077d00000000,\n+    0x44930ff000000000, 0xd2a3088700000000, 0x68f2011e00000000,\n+    0xfec2066900000000, 0x5d5762f700000000, 0xcb67658000000000,\n+    0x71366c1900000000, 0xe7066b6e00000000, 0x761bd4fe00000000,\n+    0xe02bd38900000000, 0x5a7ada1000000000, 0xcc4add6700000000,\n+    0x6fdfb9f900000000, 0xf9efbe8e00000000, 0x43beb71700000000,\n+    0xd58eb06000000000, 0xe8a3d6d600000000, 0x7e93d1a100000000,\n+    0xc4c2d83800000000, 0x52f2df4f00000000, 0xf167bbd100000000,\n+    0x6757bca600000000, 0xdd06b53f00000000, 0x4b36b24800000000,\n+    0xda2b0dd800000000, 0x4c1b0aaf00000000, 0xf64a033600000000,\n+    0x607a044100000000, 0xc3ef60df00000000, 0x55df67a800000000,\n+    0xef8e6e3100000000, 0x79be694600000000, 0x8cb361cb00000000,\n+    0x1a8366bc00000000, 0xa0d26f2500000000, 0x36e2685200000000,\n+    0x95770ccc00000000, 0x03470bbb00000000, 0xb916022200000000,\n+    0x2f26055500000000, 0xbe3bbac500000000, 0x280bbdb200000000,\n+    0x925ab42b00000000, 0x046ab35c00000000, 0xa7ffd7c200000000,\n+    0x31cfd0b500000000, 0x8b9ed92c00000000, 0x1daede5b00000000,\n+    0xb0c2649b00000000, 0x26f263ec00000000, 0x9ca36a7500000000,\n+    0x0a936d0200000000, 0xa906099c00000000, 0x3f360eeb00000000,\n+    0x8567077200000000, 0x1357000500000000, 0x824abf9500000000,\n+    0x147ab8e200000000, 0xae2bb17b00000000, 0x381bb60c00000000,\n+    0x9b8ed29200000000, 0x0dbed5e500000000, 0xb7efdc7c00000000,\n+    0x21dfdb0b00000000, 0xd4d2d38600000000, 0x42e2d4f100000000,\n+    0xf8b3dd6800000000, 0x6e83da1f00000000, 0xcd16be8100000000,\n+    0x5b26b9f600000000, 0xe177b06f00000000, 0x7747b71800000000,\n+    0xe65a088800000000, 0x706a0fff00000000, 0xca3b066600000000,\n+    0x5c0b011100000000, 0xff9e658f00000000, 0x69ae62f800000000,\n+    0xd3ff6b6100000000, 0x45cf6c1600000000, 0x78e20aa000000000,\n+    0xeed20dd700000000, 0x5483044e00000000, 0xc2b3033900000000,\n+    0x612667a700000000, 0xf71660d000000000, 0x4d47694900000000,\n+    0xdb776e3e00000000, 0x4a6ad1ae00000000, 0xdc5ad6d900000000,\n+    0x660bdf4000000000, 0xf03bd83700000000, 0x53aebca900000000,\n+    0xc59ebbde00000000, 0x7fcfb24700000000, 0xe9ffb53000000000,\n+    0x1cf2bdbd00000000, 0x8ac2baca00000000, 0x3093b35300000000,\n+    0xa6a3b42400000000, 0x0536d0ba00000000, 0x9306d7cd00000000,\n+    0x2957de5400000000, 0xbf67d92300000000, 0x2e7a66b300000000,\n+    0xb84a61c400000000, 0x021b685d00000000, 0x942b6f2a00000000,\n+    0x37be0bb400000000, 0xa18e0cc300000000, 0x1bdf055a00000000,\n+    0x8def022d00000000};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_word_t FAR crc_big_table[] = {\n+    0x00000000, 0x96300777, 0x2c610eee, 0xba510999, 0x19c46d07,\n+    0x8ff46a70, 0x35a563e9, 0xa395649e, 0x3288db0e, 0xa4b8dc79,\n+    0x1ee9d5e0, 0x88d9d297, 0x2b4cb609, 0xbd7cb17e, 0x072db8e7,\n+    0x911dbf90, 0x6410b71d, 0xf220b06a, 0x4871b9f3, 0xde41be84,\n+    0x7dd4da1a, 0xebe4dd6d, 0x51b5d4f4, 0xc785d383, 0x56986c13,\n+    0xc0a86b64, 0x7af962fd, 0xecc9658a, 0x4f5c0114, 0xd96c0663,\n+    0x633d0ffa, 0xf50d088d, 0xc8206e3b, 0x5e10694c, 0xe44160d5,\n+    0x727167a2, 0xd1e4033c, 0x47d4044b, 0xfd850dd2, 0x6bb50aa5,\n+    0xfaa8b535, 0x6c98b242, 0xd6c9bbdb, 0x40f9bcac, 0xe36cd832,\n+    0x755cdf45, 0xcf0dd6dc, 0x593dd1ab, 0xac30d926, 0x3a00de51,\n+    0x8051d7c8, 0x1661d0bf, 0xb5f4b421, 0x23c4b356, 0x9995bacf,\n+    0x0fa5bdb8, 0x9eb80228, 0x0888055f, 0xb2d90cc6, 0x24e90bb1,\n+    0x877c6f2f, 0x114c6858, 0xab1d61c1, 0x3d2d66b6, 0x9041dc76,\n+    0x0671db01, 0xbc20d298, 0x2a10d5ef, 0x8985b171, 0x1fb5b606,\n+    0xa5e4bf9f, 0x33d4b8e8, 0xa2c90778, 0x34f9000f, 0x8ea80996,\n+    0x18980ee1, 0xbb0d6a7f, 0x2d3d6d08, 0x976c6491, 0x015c63e6,\n+    0xf4516b6b, 0x62616c1c, 0xd8306585, 0x4e0062f2, 0xed95066c,\n+    0x7ba5011b, 0xc1f40882, 0x57c40ff5, 0xc6d9b065, 0x50e9b712,\n+    0xeab8be8b, 0x7c88b9fc, 0xdf1ddd62, 0x492dda15, 0xf37cd38c,\n+    0x654cd4fb, 0x5861b24d, 0xce51b53a, 0x7400bca3, 0xe230bbd4,\n+    0x41a5df4a, 0xd795d83d, 0x6dc4d1a4, 0xfbf4d6d3, 0x6ae96943,\n+    0xfcd96e34, 0x468867ad, 0xd0b860da, 0x732d0444, 0xe51d0333,\n+    0x5f4c0aaa, 0xc97c0ddd, 0x3c710550, 0xaa410227, 0x10100bbe,\n+    0x86200cc9, 0x25b56857, 0xb3856f20, 0x09d466b9, 0x9fe461ce,\n+    0x0ef9de5e, 0x98c9d929, 0x2298d0b0, 0xb4a8d7c7, 0x173db359,\n+    0x810db42e, 0x3b5cbdb7, 0xad6cbac0, 0x2083b8ed, 0xb6b3bf9a,\n+    0x0ce2b603, 0x9ad2b174, 0x3947d5ea, 0xaf77d29d, 0x1526db04,\n+    0x8316dc73, 0x120b63e3, 0x843b6494, 0x3e6a6d0d, 0xa85a6a7a,\n+    0x0bcf0ee4, 0x9dff0993, 0x27ae000a, 0xb19e077d, 0x44930ff0,\n+    0xd2a30887, 0x68f2011e, 0xfec20669, 0x5d5762f7, 0xcb676580,\n+    0x71366c19, 0xe7066b6e, 0x761bd4fe, 0xe02bd389, 0x5a7ada10,\n+    0xcc4add67, 0x6fdfb9f9, 0xf9efbe8e, 0x43beb717, 0xd58eb060,\n+    0xe8a3d6d6, 0x7e93d1a1, 0xc4c2d838, 0x52f2df4f, 0xf167bbd1,\n+    0x6757bca6, 0xdd06b53f, 0x4b36b248, 0xda2b0dd8, 0x4c1b0aaf,\n+    0xf64a0336, 0x607a0441, 0xc3ef60df, 0x55df67a8, 0xef8e6e31,\n+    0x79be6946, 0x8cb361cb, 0x1a8366bc, 0xa0d26f25, 0x36e26852,\n+    0x95770ccc, 0x03470bbb, 0xb9160222, 0x2f260555, 0xbe3bbac5,\n+    0x280bbdb2, 0x925ab42b, 0x046ab35c, 0xa7ffd7c2, 0x31cfd0b5,\n+    0x8b9ed92c, 0x1daede5b, 0xb0c2649b, 0x26f263ec, 0x9ca36a75,\n+    0x0a936d02, 0xa906099c, 0x3f360eeb, 0x85670772, 0x13570005,\n+    0x824abf95, 0x147ab8e2, 0xae2bb17b, 0x381bb60c, 0x9b8ed292,\n+    0x0dbed5e5, 0xb7efdc7c, 0x21dfdb0b, 0xd4d2d386, 0x42e2d4f1,\n+    0xf8b3dd68, 0x6e83da1f, 0xcd16be81, 0x5b26b9f6, 0xe177b06f,\n+    0x7747b718, 0xe65a0888, 0x706a0fff, 0xca3b0666, 0x5c0b0111,\n+    0xff9e658f, 0x69ae62f8, 0xd3ff6b61, 0x45cf6c16, 0x78e20aa0,\n+    0xeed20dd7, 0x5483044e, 0xc2b30339, 0x612667a7, 0xf71660d0,\n+    0x4d476949, 0xdb776e3e, 0x4a6ad1ae, 0xdc5ad6d9, 0x660bdf40,\n+    0xf03bd837, 0x53aebca9, 0xc59ebbde, 0x7fcfb247, 0xe9ffb530,\n+    0x1cf2bdbd, 0x8ac2baca, 0x3093b353, 0xa6a3b424, 0x0536d0ba,\n+    0x9306d7cd, 0x2957de54, 0xbf67d923, 0x2e7a66b3, 0xb84a61c4,\n+    0x021b685d, 0x942b6f2a, 0x37be0bb4, 0xa18e0cc3, 0x1bdf055a,\n+    0x8def022d};\n+\n+#endif\n+\n+#if N == 1\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xccaa009e, 0x4225077d, 0x8e8f07e3, 0x844a0efa,\n+    0x48e00e64, 0xc66f0987, 0x0ac50919, 0xd3e51bb5, 0x1f4f1b2b,\n+    0x91c01cc8, 0x5d6a1c56, 0x57af154f, 0x9b0515d1, 0x158a1232,\n+    0xd92012ac, 0x7cbb312b, 0xb01131b5, 0x3e9e3656, 0xf23436c8,\n+    0xf8f13fd1, 0x345b3f4f, 0xbad438ac, 0x767e3832, 0xaf5e2a9e,\n+    0x63f42a00, 0xed7b2de3, 0x21d12d7d, 0x2b142464, 0xe7be24fa,\n+    0x69312319, 0xa59b2387, 0xf9766256, 0x35dc62c8, 0xbb53652b,\n+    0x77f965b5, 0x7d3c6cac, 0xb1966c32, 0x3f196bd1, 0xf3b36b4f,\n+    0x2a9379e3, 0xe639797d, 0x68b67e9e, 0xa41c7e00, 0xaed97719,\n+    0x62737787, 0xecfc7064, 0x205670fa, 0x85cd537d, 0x496753e3,\n+    0xc7e85400, 0x0b42549e, 0x01875d87, 0xcd2d5d19, 0x43a25afa,\n+    0x8f085a64, 0x562848c8, 0x9a824856, 0x140d4fb5, 0xd8a74f2b,\n+    0xd2624632, 0x1ec846ac, 0x9047414f, 0x5ced41d1, 0x299dc2ed,\n+    0xe537c273, 0x6bb8c590, 0xa712c50e, 0xadd7cc17, 0x617dcc89,\n+    0xeff2cb6a, 0x2358cbf4, 0xfa78d958, 0x36d2d9c6, 0xb85dde25,\n+    0x74f7debb, 0x7e32d7a2, 0xb298d73c, 0x3c17d0df, 0xf0bdd041,\n+    0x5526f3c6, 0x998cf358, 0x1703f4bb, 0xdba9f425, 0xd16cfd3c,\n+    0x1dc6fda2, 0x9349fa41, 0x5fe3fadf, 0x86c3e873, 0x4a69e8ed,\n+    0xc4e6ef0e, 0x084cef90, 0x0289e689, 0xce23e617, 0x40ace1f4,\n+    0x8c06e16a, 0xd0eba0bb, 0x1c41a025, 0x92cea7c6, 0x5e64a758,\n+    0x54a1ae41, 0x980baedf, 0x1684a93c, 0xda2ea9a2, 0x030ebb0e,\n+    0xcfa4bb90, 0x412bbc73, 0x8d81bced, 0x8744b5f4, 0x4beeb56a,\n+    0xc561b289, 0x09cbb217, 0xac509190, 0x60fa910e, 0xee7596ed,\n+    0x22df9673, 0x281a9f6a, 0xe4b09ff4, 0x6a3f9817, 0xa6959889,\n+    0x7fb58a25, 0xb31f8abb, 0x3d908d58, 0xf13a8dc6, 0xfbff84df,\n+    0x37558441, 0xb9da83a2, 0x7570833c, 0x533b85da, 0x9f918544,\n+    0x111e82a7, 0xddb48239, 0xd7718b20, 0x1bdb8bbe, 0x95548c5d,\n+    0x59fe8cc3, 0x80de9e6f, 0x4c749ef1, 0xc2fb9912, 0x0e51998c,\n+    0x04949095, 0xc83e900b, 0x46b197e8, 0x8a1b9776, 0x2f80b4f1,\n+    0xe32ab46f, 0x6da5b38c, 0xa10fb312, 0xabcaba0b, 0x6760ba95,\n+    0xe9efbd76, 0x2545bde8, 0xfc65af44, 0x30cfafda, 0xbe40a839,\n+    0x72eaa8a7, 0x782fa1be, 0xb485a120, 0x3a0aa6c3, 0xf6a0a65d,\n+    0xaa4de78c, 0x66e7e712, 0xe868e0f1, 0x24c2e06f, 0x2e07e976,\n+    0xe2ade9e8, 0x6c22ee0b, 0xa088ee95, 0x79a8fc39, 0xb502fca7,\n+    0x3b8dfb44, 0xf727fbda, 0xfde2f2c3, 0x3148f25d, 0xbfc7f5be,\n+    0x736df520, 0xd6f6d6a7, 0x1a5cd639, 0x94d3d1da, 0x5879d144,\n+    0x52bcd85d, 0x9e16d8c3, 0x1099df20, 0xdc33dfbe, 0x0513cd12,\n+    0xc9b9cd8c, 0x4736ca6f, 0x8b9ccaf1, 0x8159c3e8, 0x4df3c376,\n+    0xc37cc495, 0x0fd6c40b, 0x7aa64737, 0xb60c47a9, 0x3883404a,\n+    0xf42940d4, 0xfeec49cd, 0x32464953, 0xbcc94eb0, 0x70634e2e,\n+    0xa9435c82, 0x65e95c1c, 0xeb665bff, 0x27cc5b61, 0x2d095278,\n+    0xe1a352e6, 0x6f2c5505, 0xa386559b, 0x061d761c, 0xcab77682,\n+    0x44387161, 0x889271ff, 0x825778e6, 0x4efd7878, 0xc0727f9b,\n+    0x0cd87f05, 0xd5f86da9, 0x19526d37, 0x97dd6ad4, 0x5b776a4a,\n+    0x51b26353, 0x9d1863cd, 0x1397642e, 0xdf3d64b0, 0x83d02561,\n+    0x4f7a25ff, 0xc1f5221c, 0x0d5f2282, 0x079a2b9b, 0xcb302b05,\n+    0x45bf2ce6, 0x89152c78, 0x50353ed4, 0x9c9f3e4a, 0x121039a9,\n+    0xdeba3937, 0xd47f302e, 0x18d530b0, 0x965a3753, 0x5af037cd,\n+    0xff6b144a, 0x33c114d4, 0xbd4e1337, 0x71e413a9, 0x7b211ab0,\n+    0xb78b1a2e, 0x39041dcd, 0xf5ae1d53, 0x2c8e0fff, 0xe0240f61,\n+    0x6eab0882, 0xa201081c, 0xa8c40105, 0x646e019b, 0xeae10678,\n+    0x264b06e6},\n+   {0x00000000, 0xa6770bb4, 0x979f1129, 0x31e81a9d, 0xf44f2413,\n+    0x52382fa7, 0x63d0353a, 0xc5a73e8e, 0x33ef4e67, 0x959845d3,\n+    0xa4705f4e, 0x020754fa, 0xc7a06a74, 0x61d761c0, 0x503f7b5d,\n+    0xf64870e9, 0x67de9cce, 0xc1a9977a, 0xf0418de7, 0x56368653,\n+    0x9391b8dd, 0x35e6b369, 0x040ea9f4, 0xa279a240, 0x5431d2a9,\n+    0xf246d91d, 0xc3aec380, 0x65d9c834, 0xa07ef6ba, 0x0609fd0e,\n+    0x37e1e793, 0x9196ec27, 0xcfbd399c, 0x69ca3228, 0x582228b5,\n+    0xfe552301, 0x3bf21d8f, 0x9d85163b, 0xac6d0ca6, 0x0a1a0712,\n+    0xfc5277fb, 0x5a257c4f, 0x6bcd66d2, 0xcdba6d66, 0x081d53e8,\n+    0xae6a585c, 0x9f8242c1, 0x39f54975, 0xa863a552, 0x0e14aee6,\n+    0x3ffcb47b, 0x998bbfcf, 0x5c2c8141, 0xfa5b8af5, 0xcbb39068,\n+    0x6dc49bdc, 0x9b8ceb35, 0x3dfbe081, 0x0c13fa1c, 0xaa64f1a8,\n+    0x6fc3cf26, 0xc9b4c492, 0xf85cde0f, 0x5e2bd5bb, 0x440b7579,\n+    0xe27c7ecd, 0xd3946450, 0x75e36fe4, 0xb044516a, 0x16335ade,\n+    0x27db4043, 0x81ac4bf7, 0x77e43b1e, 0xd19330aa, 0xe07b2a37,\n+    0x460c2183, 0x83ab1f0d, 0x25dc14b9, 0x14340e24, 0xb2430590,\n+    0x23d5e9b7, 0x85a2e203, 0xb44af89e, 0x123df32a, 0xd79acda4,\n+    0x71edc610, 0x4005dc8d, 0xe672d739, 0x103aa7d0, 0xb64dac64,\n+    0x87a5b6f9, 0x21d2bd4d, 0xe47583c3, 0x42028877, 0x73ea92ea,\n+    0xd59d995e, 0x8bb64ce5, 0x2dc14751, 0x1c295dcc, 0xba5e5678,\n+    0x7ff968f6, 0xd98e6342, 0xe86679df, 0x4e11726b, 0xb8590282,\n+    0x1e2e0936, 0x2fc613ab, 0x89b1181f, 0x4c162691, 0xea612d25,\n+    0xdb8937b8, 0x7dfe3c0c, 0xec68d02b, 0x4a1fdb9f, 0x7bf7c102,\n+    0xdd80cab6, 0x1827f438, 0xbe50ff8c, 0x8fb8e511, 0x29cfeea5,\n+    0xdf879e4c, 0x79f095f8, 0x48188f65, 0xee6f84d1, 0x2bc8ba5f,\n+    0x8dbfb1eb, 0xbc57ab76, 0x1a20a0c2, 0x8816eaf2, 0x2e61e146,\n+    0x1f89fbdb, 0xb9fef06f, 0x7c59cee1, 0xda2ec555, 0xebc6dfc8,\n+    0x4db1d47c, 0xbbf9a495, 0x1d8eaf21, 0x2c66b5bc, 0x8a11be08,\n+    0x4fb68086, 0xe9c18b32, 0xd82991af, 0x7e5e9a1b, 0xefc8763c,\n+    0x49bf7d88, 0x78576715, 0xde206ca1, 0x1b87522f, 0xbdf0599b,\n+    0x8c184306, 0x2a6f48b2, 0xdc27385b, 0x7a5033ef, 0x4bb82972,\n+    0xedcf22c6, 0x28681c48, 0x8e1f17fc, 0xbff70d61, 0x198006d5,\n+    0x47abd36e, 0xe1dcd8da, 0xd034c247, 0x7643c9f3, 0xb3e4f77d,\n+    0x1593fcc9, 0x247be654, 0x820cede0, 0x74449d09, 0xd23396bd,\n+    0xe3db8c20, 0x45ac8794, 0x800bb91a, 0x267cb2ae, 0x1794a833,\n+    0xb1e3a387, 0x20754fa0, 0x86024414, 0xb7ea5e89, 0x119d553d,\n+    0xd43a6bb3, 0x724d6007, 0x43a57a9a, 0xe5d2712e, 0x139a01c7,\n+    0xb5ed0a73, 0x840510ee, 0x22721b5a, 0xe7d525d4, 0x41a22e60,\n+    0x704a34fd, 0xd63d3f49, 0xcc1d9f8b, 0x6a6a943f, 0x5b828ea2,\n+    0xfdf58516, 0x3852bb98, 0x9e25b02c, 0xafcdaab1, 0x09baa105,\n+    0xfff2d1ec, 0x5985da58, 0x686dc0c5, 0xce1acb71, 0x0bbdf5ff,\n+    0xadcafe4b, 0x9c22e4d6, 0x3a55ef62, 0xabc30345, 0x0db408f1,\n+    0x3c5c126c, 0x9a2b19d8, 0x5f8c2756, 0xf9fb2ce2, 0xc813367f,\n+    0x6e643dcb, 0x982c4d22, 0x3e5b4696, 0x0fb35c0b, 0xa9c457bf,\n+    0x6c636931, 0xca146285, 0xfbfc7818, 0x5d8b73ac, 0x03a0a617,\n+    0xa5d7ada3, 0x943fb73e, 0x3248bc8a, 0xf7ef8204, 0x519889b0,\n+    0x6070932d, 0xc6079899, 0x304fe870, 0x9638e3c4, 0xa7d0f959,\n+    0x01a7f2ed, 0xc400cc63, 0x6277c7d7, 0x539fdd4a, 0xf5e8d6fe,\n+    0x647e3ad9, 0xc209316d, 0xf3e12bf0, 0x55962044, 0x90311eca,\n+    0x3646157e, 0x07ae0fe3, 0xa1d90457, 0x579174be, 0xf1e67f0a,\n+    0xc00e6597, 0x66796e23, 0xa3de50ad, 0x05a95b19, 0x34414184,\n+    0x92364a30},\n+   {0x00000000, 0xcb5cd3a5, 0x4dc8a10b, 0x869472ae, 0x9b914216,\n+    0x50cd91b3, 0xd659e31d, 0x1d0530b8, 0xec53826d, 0x270f51c8,\n+    0xa19b2366, 0x6ac7f0c3, 0x77c2c07b, 0xbc9e13de, 0x3a0a6170,\n+    0xf156b2d5, 0x03d6029b, 0xc88ad13e, 0x4e1ea390, 0x85427035,\n+    0x9847408d, 0x531b9328, 0xd58fe186, 0x1ed33223, 0xef8580f6,\n+    0x24d95353, 0xa24d21fd, 0x6911f258, 0x7414c2e0, 0xbf481145,\n+    0x39dc63eb, 0xf280b04e, 0x07ac0536, 0xccf0d693, 0x4a64a43d,\n+    0x81387798, 0x9c3d4720, 0x57619485, 0xd1f5e62b, 0x1aa9358e,\n+    0xebff875b, 0x20a354fe, 0xa6372650, 0x6d6bf5f5, 0x706ec54d,\n+    0xbb3216e8, 0x3da66446, 0xf6fab7e3, 0x047a07ad, 0xcf26d408,\n+    0x49b2a6a6, 0x82ee7503, 0x9feb45bb, 0x54b7961e, 0xd223e4b0,\n+    0x197f3715, 0xe82985c0, 0x23755665, 0xa5e124cb, 0x6ebdf76e,\n+    0x73b8c7d6, 0xb8e41473, 0x3e7066dd, 0xf52cb578, 0x0f580a6c,\n+    0xc404d9c9, 0x4290ab67, 0x89cc78c2, 0x94c9487a, 0x5f959bdf,\n+    0xd901e971, 0x125d3ad4, 0xe30b8801, 0x28575ba4, 0xaec3290a,\n+    0x659ffaaf, 0x789aca17, 0xb3c619b2, 0x35526b1c, 0xfe0eb8b9,\n+    0x0c8e08f7, 0xc7d2db52, 0x4146a9fc, 0x8a1a7a59, 0x971f4ae1,\n+    0x5c439944, 0xdad7ebea, 0x118b384f, 0xe0dd8a9a, 0x2b81593f,\n+    0xad152b91, 0x6649f834, 0x7b4cc88c, 0xb0101b29, 0x36846987,\n+    0xfdd8ba22, 0x08f40f5a, 0xc3a8dcff, 0x453cae51, 0x8e607df4,\n+    0x93654d4c, 0x58399ee9, 0xdeadec47, 0x15f13fe2, 0xe4a78d37,\n+    0x2ffb5e92, 0xa96f2c3c, 0x6233ff99, 0x7f36cf21, 0xb46a1c84,\n+    0x32fe6e2a, 0xf9a2bd8f, 0x0b220dc1, 0xc07ede64, 0x46eaacca,\n+    0x8db67f6f, 0x90b34fd7, 0x5bef9c72, 0xdd7beedc, 0x16273d79,\n+    0xe7718fac, 0x2c2d5c09, 0xaab92ea7, 0x61e5fd02, 0x7ce0cdba,\n+    0xb7bc1e1f, 0x31286cb1, 0xfa74bf14, 0x1eb014d8, 0xd5ecc77d,\n+    0x5378b5d3, 0x98246676, 0x852156ce, 0x4e7d856b, 0xc8e9f7c5,\n+    0x03b52460, 0xf2e396b5, 0x39bf4510, 0xbf2b37be, 0x7477e41b,\n+    0x6972d4a3, 0xa22e0706, 0x24ba75a8, 0xefe6a60d, 0x1d661643,\n+    0xd63ac5e6, 0x50aeb748, 0x9bf264ed, 0x86f75455, 0x4dab87f0,\n+    0xcb3ff55e, 0x006326fb, 0xf135942e, 0x3a69478b, 0xbcfd3525,\n+    0x77a1e680, 0x6aa4d638, 0xa1f8059d, 0x276c7733, 0xec30a496,\n+    0x191c11ee, 0xd240c24b, 0x54d4b0e5, 0x9f886340, 0x828d53f8,\n+    0x49d1805d, 0xcf45f2f3, 0x04192156, 0xf54f9383, 0x3e134026,\n+    0xb8873288, 0x73dbe12d, 0x6eded195, 0xa5820230, 0x2316709e,\n+    0xe84aa33b, 0x1aca1375, 0xd196c0d0, 0x5702b27e, 0x9c5e61db,\n+    0x815b5163, 0x4a0782c6, 0xcc93f068, 0x07cf23cd, 0xf6999118,\n+    0x3dc542bd, 0xbb513013, 0x700de3b6, 0x6d08d30e, 0xa65400ab,\n+    0x20c07205, 0xeb9ca1a0, 0x11e81eb4, 0xdab4cd11, 0x5c20bfbf,\n+    0x977c6c1a, 0x8a795ca2, 0x41258f07, 0xc7b1fda9, 0x0ced2e0c,\n+    0xfdbb9cd9, 0x36e74f7c, 0xb0733dd2, 0x7b2fee77, 0x662adecf,\n+    0xad760d6a, 0x2be27fc4, 0xe0beac61, 0x123e1c2f, 0xd962cf8a,\n+    0x5ff6bd24, 0x94aa6e81, 0x89af5e39, 0x42f38d9c, 0xc467ff32,\n+    0x0f3b2c97, 0xfe6d9e42, 0x35314de7, 0xb3a53f49, 0x78f9ecec,\n+    0x65fcdc54, 0xaea00ff1, 0x28347d5f, 0xe368aefa, 0x16441b82,\n+    0xdd18c827, 0x5b8cba89, 0x90d0692c, 0x8dd55994, 0x46898a31,\n+    0xc01df89f, 0x0b412b3a, 0xfa1799ef, 0x314b4a4a, 0xb7df38e4,\n+    0x7c83eb41, 0x6186dbf9, 0xaada085c, 0x2c4e7af2, 0xe712a957,\n+    0x15921919, 0xdececabc, 0x585ab812, 0x93066bb7, 0x8e035b0f,\n+    0x455f88aa, 0xc3cbfa04, 0x089729a1, 0xf9c19b74, 0x329d48d1,\n+    0xb4093a7f, 0x7f55e9da, 0x6250d962, 0xa90c0ac7, 0x2f987869,\n+    0xe4c4abcc},\n+   {0x00000000, 0x3d6029b0, 0x7ac05360, 0x47a07ad0, 0xf580a6c0,\n+    0xc8e08f70, 0x8f40f5a0, 0xb220dc10, 0x30704bc1, 0x0d106271,\n+    0x4ab018a1, 0x77d03111, 0xc5f0ed01, 0xf890c4b1, 0xbf30be61,\n+    0x825097d1, 0x60e09782, 0x5d80be32, 0x1a20c4e2, 0x2740ed52,\n+    0x95603142, 0xa80018f2, 0xefa06222, 0xd2c04b92, 0x5090dc43,\n+    0x6df0f5f3, 0x2a508f23, 0x1730a693, 0xa5107a83, 0x98705333,\n+    0xdfd029e3, 0xe2b00053, 0xc1c12f04, 0xfca106b4, 0xbb017c64,\n+    0x866155d4, 0x344189c4, 0x0921a074, 0x4e81daa4, 0x73e1f314,\n+    0xf1b164c5, 0xccd14d75, 0x8b7137a5, 0xb6111e15, 0x0431c205,\n+    0x3951ebb5, 0x7ef19165, 0x4391b8d5, 0xa121b886, 0x9c419136,\n+    0xdbe1ebe6, 0xe681c256, 0x54a11e46, 0x69c137f6, 0x2e614d26,\n+    0x13016496, 0x9151f347, 0xac31daf7, 0xeb91a027, 0xd6f18997,\n+    0x64d15587, 0x59b17c37, 0x1e1106e7, 0x23712f57, 0x58f35849,\n+    0x659371f9, 0x22330b29, 0x1f532299, 0xad73fe89, 0x9013d739,\n+    0xd7b3ade9, 0xead38459, 0x68831388, 0x55e33a38, 0x124340e8,\n+    0x2f236958, 0x9d03b548, 0xa0639cf8, 0xe7c3e628, 0xdaa3cf98,\n+    0x3813cfcb, 0x0573e67b, 0x42d39cab, 0x7fb3b51b, 0xcd93690b,\n+    0xf0f340bb, 0xb7533a6b, 0x8a3313db, 0x0863840a, 0x3503adba,\n+    0x72a3d76a, 0x4fc3feda, 0xfde322ca, 0xc0830b7a, 0x872371aa,\n+    0xba43581a, 0x9932774d, 0xa4525efd, 0xe3f2242d, 0xde920d9d,\n+    0x6cb2d18d, 0x51d2f83d, 0x167282ed, 0x2b12ab5d, 0xa9423c8c,\n+    0x9422153c, 0xd3826fec, 0xeee2465c, 0x5cc29a4c, 0x61a2b3fc,\n+    0x2602c92c, 0x1b62e09c, 0xf9d2e0cf, 0xc4b2c97f, 0x8312b3af,\n+    0xbe729a1f, 0x0c52460f, 0x31326fbf, 0x7692156f, 0x4bf23cdf,\n+    0xc9a2ab0e, 0xf4c282be, 0xb362f86e, 0x8e02d1de, 0x3c220dce,\n+    0x0142247e, 0x46e25eae, 0x7b82771e, 0xb1e6b092, 0x8c869922,\n+    0xcb26e3f2, 0xf646ca42, 0x44661652, 0x79063fe2, 0x3ea64532,\n+    0x03c66c82, 0x8196fb53, 0xbcf6d2e3, 0xfb56a833, 0xc6368183,\n+    0x74165d93, 0x49767423, 0x0ed60ef3, 0x33b62743, 0xd1062710,\n+    0xec660ea0, 0xabc67470, 0x96a65dc0, 0x248681d0, 0x19e6a860,\n+    0x5e46d2b0, 0x6326fb00, 0xe1766cd1, 0xdc164561, 0x9bb63fb1,\n+    0xa6d61601, 0x14f6ca11, 0x2996e3a1, 0x6e369971, 0x5356b0c1,\n+    0x70279f96, 0x4d47b626, 0x0ae7ccf6, 0x3787e546, 0x85a73956,\n+    0xb8c710e6, 0xff676a36, 0xc2074386, 0x4057d457, 0x7d37fde7,\n+    0x3a978737, 0x07f7ae87, 0xb5d77297, 0x88b75b27, 0xcf1721f7,\n+    0xf2770847, 0x10c70814, 0x2da721a4, 0x6a075b74, 0x576772c4,\n+    0xe547aed4, 0xd8278764, 0x9f87fdb4, 0xa2e7d404, 0x20b743d5,\n+    0x1dd76a65, 0x5a7710b5, 0x67173905, 0xd537e515, 0xe857cca5,\n+    0xaff7b675, 0x92979fc5, 0xe915e8db, 0xd475c16b, 0x93d5bbbb,\n+    0xaeb5920b, 0x1c954e1b, 0x21f567ab, 0x66551d7b, 0x5b3534cb,\n+    0xd965a31a, 0xe4058aaa, 0xa3a5f07a, 0x9ec5d9ca, 0x2ce505da,\n+    0x11852c6a, 0x562556ba, 0x6b457f0a, 0x89f57f59, 0xb49556e9,\n+    0xf3352c39, 0xce550589, 0x7c75d999, 0x4115f029, 0x06b58af9,\n+    0x3bd5a349, 0xb9853498, 0x84e51d28, 0xc34567f8, 0xfe254e48,\n+    0x4c059258, 0x7165bbe8, 0x36c5c138, 0x0ba5e888, 0x28d4c7df,\n+    0x15b4ee6f, 0x521494bf, 0x6f74bd0f, 0xdd54611f, 0xe03448af,\n+    0xa794327f, 0x9af41bcf, 0x18a48c1e, 0x25c4a5ae, 0x6264df7e,\n+    0x5f04f6ce, 0xed242ade, 0xd044036e, 0x97e479be, 0xaa84500e,\n+    0x4834505d, 0x755479ed, 0x32f4033d, 0x0f942a8d, 0xbdb4f69d,\n+    0x80d4df2d, 0xc774a5fd, 0xfa148c4d, 0x78441b9c, 0x4524322c,\n+    0x028448fc, 0x3fe4614c, 0x8dc4bd5c, 0xb0a494ec, 0xf704ee3c,\n+    0xca64c78c},\n+   {0x00000000, 0xb8bc6765, 0xaa09c88b, 0x12b5afee, 0x8f629757,\n+    0x37def032, 0x256b5fdc, 0x9dd738b9, 0xc5b428ef, 0x7d084f8a,\n+    0x6fbde064, 0xd7018701, 0x4ad6bfb8, 0xf26ad8dd, 0xe0df7733,\n+    0x58631056, 0x5019579f, 0xe8a530fa, 0xfa109f14, 0x42acf871,\n+    0xdf7bc0c8, 0x67c7a7ad, 0x75720843, 0xcdce6f26, 0x95ad7f70,\n+    0x2d111815, 0x3fa4b7fb, 0x8718d09e, 0x1acfe827, 0xa2738f42,\n+    0xb0c620ac, 0x087a47c9, 0xa032af3e, 0x188ec85b, 0x0a3b67b5,\n+    0xb28700d0, 0x2f503869, 0x97ec5f0c, 0x8559f0e2, 0x3de59787,\n+    0x658687d1, 0xdd3ae0b4, 0xcf8f4f5a, 0x7733283f, 0xeae41086,\n+    0x525877e3, 0x40edd80d, 0xf851bf68, 0xf02bf8a1, 0x48979fc4,\n+    0x5a22302a, 0xe29e574f, 0x7f496ff6, 0xc7f50893, 0xd540a77d,\n+    0x6dfcc018, 0x359fd04e, 0x8d23b72b, 0x9f9618c5, 0x272a7fa0,\n+    0xbafd4719, 0x0241207c, 0x10f48f92, 0xa848e8f7, 0x9b14583d,\n+    0x23a83f58, 0x311d90b6, 0x89a1f7d3, 0x1476cf6a, 0xaccaa80f,\n+    0xbe7f07e1, 0x06c36084, 0x5ea070d2, 0xe61c17b7, 0xf4a9b859,\n+    0x4c15df3c, 0xd1c2e785, 0x697e80e0, 0x7bcb2f0e, 0xc377486b,\n+    0xcb0d0fa2, 0x73b168c7, 0x6104c729, 0xd9b8a04c, 0x446f98f5,\n+    0xfcd3ff90, 0xee66507e, 0x56da371b, 0x0eb9274d, 0xb6054028,\n+    0xa4b0efc6, 0x1c0c88a3, 0x81dbb01a, 0x3967d77f, 0x2bd27891,\n+    0x936e1ff4, 0x3b26f703, 0x839a9066, 0x912f3f88, 0x299358ed,\n+    0xb4446054, 0x0cf80731, 0x1e4da8df, 0xa6f1cfba, 0xfe92dfec,\n+    0x462eb889, 0x549b1767, 0xec277002, 0x71f048bb, 0xc94c2fde,\n+    0xdbf98030, 0x6345e755, 0x6b3fa09c, 0xd383c7f9, 0xc1366817,\n+    0x798a0f72, 0xe45d37cb, 0x5ce150ae, 0x4e54ff40, 0xf6e89825,\n+    0xae8b8873, 0x1637ef16, 0x048240f8, 0xbc3e279d, 0x21e91f24,\n+    0x99557841, 0x8be0d7af, 0x335cb0ca, 0xed59b63b, 0x55e5d15e,\n+    0x47507eb0, 0xffec19d5, 0x623b216c, 0xda874609, 0xc832e9e7,\n+    0x708e8e82, 0x28ed9ed4, 0x9051f9b1, 0x82e4565f, 0x3a58313a,\n+    0xa78f0983, 0x1f336ee6, 0x0d86c108, 0xb53aa66d, 0xbd40e1a4,\n+    0x05fc86c1, 0x1749292f, 0xaff54e4a, 0x322276f3, 0x8a9e1196,\n+    0x982bbe78, 0x2097d91d, 0x78f4c94b, 0xc048ae2e, 0xd2fd01c0,\n+    0x6a4166a5, 0xf7965e1c, 0x4f2a3979, 0x5d9f9697, 0xe523f1f2,\n+    0x4d6b1905, 0xf5d77e60, 0xe762d18e, 0x5fdeb6eb, 0xc2098e52,\n+    0x7ab5e937, 0x680046d9, 0xd0bc21bc, 0x88df31ea, 0x3063568f,\n+    0x22d6f961, 0x9a6a9e04, 0x07bda6bd, 0xbf01c1d8, 0xadb46e36,\n+    0x15080953, 0x1d724e9a, 0xa5ce29ff, 0xb77b8611, 0x0fc7e174,\n+    0x9210d9cd, 0x2aacbea8, 0x38191146, 0x80a57623, 0xd8c66675,\n+    0x607a0110, 0x72cfaefe, 0xca73c99b, 0x57a4f122, 0xef189647,\n+    0xfdad39a9, 0x45115ecc, 0x764dee06, 0xcef18963, 0xdc44268d,\n+    0x64f841e8, 0xf92f7951, 0x41931e34, 0x5326b1da, 0xeb9ad6bf,\n+    0xb3f9c6e9, 0x0b45a18c, 0x19f00e62, 0xa14c6907, 0x3c9b51be,\n+    0x842736db, 0x96929935, 0x2e2efe50, 0x2654b999, 0x9ee8defc,\n+    0x8c5d7112, 0x34e11677, 0xa9362ece, 0x118a49ab, 0x033fe645,\n+    0xbb838120, 0xe3e09176, 0x5b5cf613, 0x49e959fd, 0xf1553e98,\n+    0x6c820621, 0xd43e6144, 0xc68bceaa, 0x7e37a9cf, 0xd67f4138,\n+    0x6ec3265d, 0x7c7689b3, 0xc4caeed6, 0x591dd66f, 0xe1a1b10a,\n+    0xf3141ee4, 0x4ba87981, 0x13cb69d7, 0xab770eb2, 0xb9c2a15c,\n+    0x017ec639, 0x9ca9fe80, 0x241599e5, 0x36a0360b, 0x8e1c516e,\n+    0x866616a7, 0x3eda71c2, 0x2c6fde2c, 0x94d3b949, 0x090481f0,\n+    0xb1b8e695, 0xa30d497b, 0x1bb12e1e, 0x43d23e48, 0xfb6e592d,\n+    0xe9dbf6c3, 0x516791a6, 0xccb0a91f, 0x740cce7a, 0x66b96194,\n+    0xde0506f1},\n+   {0x00000000, 0x01c26a37, 0x0384d46e, 0x0246be59, 0x0709a8dc,\n+    0x06cbc2eb, 0x048d7cb2, 0x054f1685, 0x0e1351b8, 0x0fd13b8f,\n+    0x0d9785d6, 0x0c55efe1, 0x091af964, 0x08d89353, 0x0a9e2d0a,\n+    0x0b5c473d, 0x1c26a370, 0x1de4c947, 0x1fa2771e, 0x1e601d29,\n+    0x1b2f0bac, 0x1aed619b, 0x18abdfc2, 0x1969b5f5, 0x1235f2c8,\n+    0x13f798ff, 0x11b126a6, 0x10734c91, 0x153c5a14, 0x14fe3023,\n+    0x16b88e7a, 0x177ae44d, 0x384d46e0, 0x398f2cd7, 0x3bc9928e,\n+    0x3a0bf8b9, 0x3f44ee3c, 0x3e86840b, 0x3cc03a52, 0x3d025065,\n+    0x365e1758, 0x379c7d6f, 0x35dac336, 0x3418a901, 0x3157bf84,\n+    0x3095d5b3, 0x32d36bea, 0x331101dd, 0x246be590, 0x25a98fa7,\n+    0x27ef31fe, 0x262d5bc9, 0x23624d4c, 0x22a0277b, 0x20e69922,\n+    0x2124f315, 0x2a78b428, 0x2bbade1f, 0x29fc6046, 0x283e0a71,\n+    0x2d711cf4, 0x2cb376c3, 0x2ef5c89a, 0x2f37a2ad, 0x709a8dc0,\n+    0x7158e7f7, 0x731e59ae, 0x72dc3399, 0x7793251c, 0x76514f2b,\n+    0x7417f172, 0x75d59b45, 0x7e89dc78, 0x7f4bb64f, 0x7d0d0816,\n+    0x7ccf6221, 0x798074a4, 0x78421e93, 0x7a04a0ca, 0x7bc6cafd,\n+    0x6cbc2eb0, 0x6d7e4487, 0x6f38fade, 0x6efa90e9, 0x6bb5866c,\n+    0x6a77ec5b, 0x68315202, 0x69f33835, 0x62af7f08, 0x636d153f,\n+    0x612bab66, 0x60e9c151, 0x65a6d7d4, 0x6464bde3, 0x662203ba,\n+    0x67e0698d, 0x48d7cb20, 0x4915a117, 0x4b531f4e, 0x4a917579,\n+    0x4fde63fc, 0x4e1c09cb, 0x4c5ab792, 0x4d98dda5, 0x46c49a98,\n+    0x4706f0af, 0x45404ef6, 0x448224c1, 0x41cd3244, 0x400f5873,\n+    0x4249e62a, 0x438b8c1d, 0x54f16850, 0x55330267, 0x5775bc3e,\n+    0x56b7d609, 0x53f8c08c, 0x523aaabb, 0x507c14e2, 0x51be7ed5,\n+    0x5ae239e8, 0x5b2053df, 0x5966ed86, 0x58a487b1, 0x5deb9134,\n+    0x5c29fb03, 0x5e6f455a, 0x5fad2f6d, 0xe1351b80, 0xe0f771b7,\n+    0xe2b1cfee, 0xe373a5d9, 0xe63cb35c, 0xe7fed96b, 0xe5b86732,\n+    0xe47a0d05, 0xef264a38, 0xeee4200f, 0xeca29e56, 0xed60f461,\n+    0xe82fe2e4, 0xe9ed88d3, 0xebab368a, 0xea695cbd, 0xfd13b8f0,\n+    0xfcd1d2c7, 0xfe976c9e, 0xff5506a9, 0xfa1a102c, 0xfbd87a1b,\n+    0xf99ec442, 0xf85cae75, 0xf300e948, 0xf2c2837f, 0xf0843d26,\n+    0xf1465711, 0xf4094194, 0xf5cb2ba3, 0xf78d95fa, 0xf64fffcd,\n+    0xd9785d60, 0xd8ba3757, 0xdafc890e, 0xdb3ee339, 0xde71f5bc,\n+    0xdfb39f8b, 0xddf521d2, 0xdc374be5, 0xd76b0cd8, 0xd6a966ef,\n+    0xd4efd8b6, 0xd52db281, 0xd062a404, 0xd1a0ce33, 0xd3e6706a,\n+    0xd2241a5d, 0xc55efe10, 0xc49c9427, 0xc6da2a7e, 0xc7184049,\n+    0xc25756cc, 0xc3953cfb, 0xc1d382a2, 0xc011e895, 0xcb4dafa8,\n+    0xca8fc59f, 0xc8c97bc6, 0xc90b11f1, 0xcc440774, 0xcd866d43,\n+    0xcfc0d31a, 0xce02b92d, 0x91af9640, 0x906dfc77, 0x922b422e,\n+    0x93e92819, 0x96a63e9c, 0x976454ab, 0x9522eaf2, 0x94e080c5,\n+    0x9fbcc7f8, 0x9e7eadcf, 0x9c381396, 0x9dfa79a1, 0x98b56f24,\n+    0x99770513, 0x9b31bb4a, 0x9af3d17d, 0x8d893530, 0x8c4b5f07,\n+    0x8e0de15e, 0x8fcf8b69, 0x8a809dec, 0x8b42f7db, 0x89044982,\n+    0x88c623b5, 0x839a6488, 0x82580ebf, 0x801eb0e6, 0x81dcdad1,\n+    0x8493cc54, 0x8551a663, 0x8717183a, 0x86d5720d, 0xa9e2d0a0,\n+    0xa820ba97, 0xaa6604ce, 0xaba46ef9, 0xaeeb787c, 0xaf29124b,\n+    0xad6fac12, 0xacadc625, 0xa7f18118, 0xa633eb2f, 0xa4755576,\n+    0xa5b73f41, 0xa0f829c4, 0xa13a43f3, 0xa37cfdaa, 0xa2be979d,\n+    0xb5c473d0, 0xb40619e7, 0xb640a7be, 0xb782cd89, 0xb2cddb0c,\n+    0xb30fb13b, 0xb1490f62, 0xb08b6555, 0xbbd72268, 0xba15485f,\n+    0xb853f606, 0xb9919c31, 0xbcde8ab4, 0xbd1ce083, 0xbf5a5eda,\n+    0xbe9834ed},\n+   {0x00000000, 0x191b3141, 0x32366282, 0x2b2d53c3, 0x646cc504,\n+    0x7d77f445, 0x565aa786, 0x4f4196c7, 0xc8d98a08, 0xd1c2bb49,\n+    0xfaefe88a, 0xe3f4d9cb, 0xacb54f0c, 0xb5ae7e4d, 0x9e832d8e,\n+    0x87981ccf, 0x4ac21251, 0x53d92310, 0x78f470d3, 0x61ef4192,\n+    0x2eaed755, 0x37b5e614, 0x1c98b5d7, 0x05838496, 0x821b9859,\n+    0x9b00a918, 0xb02dfadb, 0xa936cb9a, 0xe6775d5d, 0xff6c6c1c,\n+    0xd4413fdf, 0xcd5a0e9e, 0x958424a2, 0x8c9f15e3, 0xa7b24620,\n+    0xbea97761, 0xf1e8e1a6, 0xe8f3d0e7, 0xc3de8324, 0xdac5b265,\n+    0x5d5daeaa, 0x44469feb, 0x6f6bcc28, 0x7670fd69, 0x39316bae,\n+    0x202a5aef, 0x0b07092c, 0x121c386d, 0xdf4636f3, 0xc65d07b2,\n+    0xed705471, 0xf46b6530, 0xbb2af3f7, 0xa231c2b6, 0x891c9175,\n+    0x9007a034, 0x179fbcfb, 0x0e848dba, 0x25a9de79, 0x3cb2ef38,\n+    0x73f379ff, 0x6ae848be, 0x41c51b7d, 0x58de2a3c, 0xf0794f05,\n+    0xe9627e44, 0xc24f2d87, 0xdb541cc6, 0x94158a01, 0x8d0ebb40,\n+    0xa623e883, 0xbf38d9c2, 0x38a0c50d, 0x21bbf44c, 0x0a96a78f,\n+    0x138d96ce, 0x5ccc0009, 0x45d73148, 0x6efa628b, 0x77e153ca,\n+    0xbabb5d54, 0xa3a06c15, 0x888d3fd6, 0x91960e97, 0xded79850,\n+    0xc7cca911, 0xece1fad2, 0xf5facb93, 0x7262d75c, 0x6b79e61d,\n+    0x4054b5de, 0x594f849f, 0x160e1258, 0x0f152319, 0x243870da,\n+    0x3d23419b, 0x65fd6ba7, 0x7ce65ae6, 0x57cb0925, 0x4ed03864,\n+    0x0191aea3, 0x188a9fe2, 0x33a7cc21, 0x2abcfd60, 0xad24e1af,\n+    0xb43fd0ee, 0x9f12832d, 0x8609b26c, 0xc94824ab, 0xd05315ea,\n+    0xfb7e4629, 0xe2657768, 0x2f3f79f6, 0x362448b7, 0x1d091b74,\n+    0x04122a35, 0x4b53bcf2, 0x52488db3, 0x7965de70, 0x607eef31,\n+    0xe7e6f3fe, 0xfefdc2bf, 0xd5d0917c, 0xcccba03d, 0x838a36fa,\n+    0x9a9107bb, 0xb1bc5478, 0xa8a76539, 0x3b83984b, 0x2298a90a,\n+    0x09b5fac9, 0x10aecb88, 0x5fef5d4f, 0x46f46c0e, 0x6dd93fcd,\n+    0x74c20e8c, 0xf35a1243, 0xea412302, 0xc16c70c1, 0xd8774180,\n+    0x9736d747, 0x8e2de606, 0xa500b5c5, 0xbc1b8484, 0x71418a1a,\n+    0x685abb5b, 0x4377e898, 0x5a6cd9d9, 0x152d4f1e, 0x0c367e5f,\n+    0x271b2d9c, 0x3e001cdd, 0xb9980012, 0xa0833153, 0x8bae6290,\n+    0x92b553d1, 0xddf4c516, 0xc4eff457, 0xefc2a794, 0xf6d996d5,\n+    0xae07bce9, 0xb71c8da8, 0x9c31de6b, 0x852aef2a, 0xca6b79ed,\n+    0xd37048ac, 0xf85d1b6f, 0xe1462a2e, 0x66de36e1, 0x7fc507a0,\n+    0x54e85463, 0x4df36522, 0x02b2f3e5, 0x1ba9c2a4, 0x30849167,\n+    0x299fa026, 0xe4c5aeb8, 0xfdde9ff9, 0xd6f3cc3a, 0xcfe8fd7b,\n+    0x80a96bbc, 0x99b25afd, 0xb29f093e, 0xab84387f, 0x2c1c24b0,\n+    0x350715f1, 0x1e2a4632, 0x07317773, 0x4870e1b4, 0x516bd0f5,\n+    0x7a468336, 0x635db277, 0xcbfad74e, 0xd2e1e60f, 0xf9ccb5cc,\n+    0xe0d7848d, 0xaf96124a, 0xb68d230b, 0x9da070c8, 0x84bb4189,\n+    0x03235d46, 0x1a386c07, 0x31153fc4, 0x280e0e85, 0x674f9842,\n+    0x7e54a903, 0x5579fac0, 0x4c62cb81, 0x8138c51f, 0x9823f45e,\n+    0xb30ea79d, 0xaa1596dc, 0xe554001b, 0xfc4f315a, 0xd7626299,\n+    0xce7953d8, 0x49e14f17, 0x50fa7e56, 0x7bd72d95, 0x62cc1cd4,\n+    0x2d8d8a13, 0x3496bb52, 0x1fbbe891, 0x06a0d9d0, 0x5e7ef3ec,\n+    0x4765c2ad, 0x6c48916e, 0x7553a02f, 0x3a1236e8, 0x230907a9,\n+    0x0824546a, 0x113f652b, 0x96a779e4, 0x8fbc48a5, 0xa4911b66,\n+    0xbd8a2a27, 0xf2cbbce0, 0xebd08da1, 0xc0fdde62, 0xd9e6ef23,\n+    0x14bce1bd, 0x0da7d0fc, 0x268a833f, 0x3f91b27e, 0x70d024b9,\n+    0x69cb15f8, 0x42e6463b, 0x5bfd777a, 0xdc656bb5, 0xc57e5af4,\n+    0xee530937, 0xf7483876, 0xb809aeb1, 0xa1129ff0, 0x8a3fcc33,\n+    0x9324fd72},\n+   {0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\n+    0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\n+    0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\n+    0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\n+    0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\n+    0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n+    0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\n+    0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n+    0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\n+    0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\n+    0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\n+    0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n+    0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\n+    0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\n+    0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\n+    0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n+    0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\n+    0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n+    0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\n+    0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\n+    0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\n+    0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\n+    0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\n+    0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n+    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\n+    0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\n+    0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\n+    0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\n+    0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\n+    0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n+    0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\n+    0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n+    0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\n+    0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\n+    0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\n+    0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n+    0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\n+    0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\n+    0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\n+    0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n+    0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\n+    0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n+    0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\n+    0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\n+    0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\n+    0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\n+    0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\n+    0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n+    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\n+    0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\n+    0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\n+    0x2d02ef8d}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0x9630077700000000, 0x2c610eee00000000,\n+    0xba51099900000000, 0x19c46d0700000000, 0x8ff46a7000000000,\n+    0x35a563e900000000, 0xa395649e00000000, 0x3288db0e00000000,\n+    0xa4b8dc7900000000, 0x1ee9d5e000000000, 0x88d9d29700000000,\n+    0x2b4cb60900000000, 0xbd7cb17e00000000, 0x072db8e700000000,\n+    0x911dbf9000000000, 0x6410b71d00000000, 0xf220b06a00000000,\n+    0x4871b9f300000000, 0xde41be8400000000, 0x7dd4da1a00000000,\n+    0xebe4dd6d00000000, 0x51b5d4f400000000, 0xc785d38300000000,\n+    0x56986c1300000000, 0xc0a86b6400000000, 0x7af962fd00000000,\n+    0xecc9658a00000000, 0x4f5c011400000000, 0xd96c066300000000,\n+    0x633d0ffa00000000, 0xf50d088d00000000, 0xc8206e3b00000000,\n+    0x5e10694c00000000, 0xe44160d500000000, 0x727167a200000000,\n+    0xd1e4033c00000000, 0x47d4044b00000000, 0xfd850dd200000000,\n+    0x6bb50aa500000000, 0xfaa8b53500000000, 0x6c98b24200000000,\n+    0xd6c9bbdb00000000, 0x40f9bcac00000000, 0xe36cd83200000000,\n+    0x755cdf4500000000, 0xcf0dd6dc00000000, 0x593dd1ab00000000,\n+    0xac30d92600000000, 0x3a00de5100000000, 0x8051d7c800000000,\n+    0x1661d0bf00000000, 0xb5f4b42100000000, 0x23c4b35600000000,\n+    0x9995bacf00000000, 0x0fa5bdb800000000, 0x9eb8022800000000,\n+    0x0888055f00000000, 0xb2d90cc600000000, 0x24e90bb100000000,\n+    0x877c6f2f00000000, 0x114c685800000000, 0xab1d61c100000000,\n+    0x3d2d66b600000000, 0x9041dc7600000000, 0x0671db0100000000,\n+    0xbc20d29800000000, 0x2a10d5ef00000000, 0x8985b17100000000,\n+    0x1fb5b60600000000, 0xa5e4bf9f00000000, 0x33d4b8e800000000,\n+    0xa2c9077800000000, 0x34f9000f00000000, 0x8ea8099600000000,\n+    0x18980ee100000000, 0xbb0d6a7f00000000, 0x2d3d6d0800000000,\n+    0x976c649100000000, 0x015c63e600000000, 0xf4516b6b00000000,\n+    0x62616c1c00000000, 0xd830658500000000, 0x4e0062f200000000,\n+    0xed95066c00000000, 0x7ba5011b00000000, 0xc1f4088200000000,\n+    0x57c40ff500000000, 0xc6d9b06500000000, 0x50e9b71200000000,\n+    0xeab8be8b00000000, 0x7c88b9fc00000000, 0xdf1ddd6200000000,\n+    0x492dda1500000000, 0xf37cd38c00000000, 0x654cd4fb00000000,\n+    0x5861b24d00000000, 0xce51b53a00000000, 0x7400bca300000000,\n+    0xe230bbd400000000, 0x41a5df4a00000000, 0xd795d83d00000000,\n+    0x6dc4d1a400000000, 0xfbf4d6d300000000, 0x6ae9694300000000,\n+    0xfcd96e3400000000, 0x468867ad00000000, 0xd0b860da00000000,\n+    0x732d044400000000, 0xe51d033300000000, 0x5f4c0aaa00000000,\n+    0xc97c0ddd00000000, 0x3c71055000000000, 0xaa41022700000000,\n+    0x10100bbe00000000, 0x86200cc900000000, 0x25b5685700000000,\n+    0xb3856f2000000000, 0x09d466b900000000, 0x9fe461ce00000000,\n+    0x0ef9de5e00000000, 0x98c9d92900000000, 0x2298d0b000000000,\n+    0xb4a8d7c700000000, 0x173db35900000000, 0x810db42e00000000,\n+    0x3b5cbdb700000000, 0xad6cbac000000000, 0x2083b8ed00000000,\n+    0xb6b3bf9a00000000, 0x0ce2b60300000000, 0x9ad2b17400000000,\n+    0x3947d5ea00000000, 0xaf77d29d00000000, 0x1526db0400000000,\n+    0x8316dc7300000000, 0x120b63e300000000, 0x843b649400000000,\n+    0x3e6a6d0d00000000, 0xa85a6a7a00000000, 0x0bcf0ee400000000,\n+    0x9dff099300000000, 0x27ae000a00000000, 0xb19e077d00000000,\n+    0x44930ff000000000, 0xd2a3088700000000, 0x68f2011e00000000,\n+    0xfec2066900000000, 0x5d5762f700000000, 0xcb67658000000000,\n+    0x71366c1900000000, 0xe7066b6e00000000, 0x761bd4fe00000000,\n+    0xe02bd38900000000, 0x5a7ada1000000000, 0xcc4add6700000000,\n+    0x6fdfb9f900000000, 0xf9efbe8e00000000, 0x43beb71700000000,\n+    0xd58eb06000000000, 0xe8a3d6d600000000, 0x7e93d1a100000000,\n+    0xc4c2d83800000000, 0x52f2df4f00000000, 0xf167bbd100000000,\n+    0x6757bca600000000, 0xdd06b53f00000000, 0x4b36b24800000000,\n+    0xda2b0dd800000000, 0x4c1b0aaf00000000, 0xf64a033600000000,\n+    0x607a044100000000, 0xc3ef60df00000000, 0x55df67a800000000,\n+    0xef8e6e3100000000, 0x79be694600000000, 0x8cb361cb00000000,\n+    0x1a8366bc00000000, 0xa0d26f2500000000, 0x36e2685200000000,\n+    0x95770ccc00000000, 0x03470bbb00000000, 0xb916022200000000,\n+    0x2f26055500000000, 0xbe3bbac500000000, 0x280bbdb200000000,\n+    0x925ab42b00000000, 0x046ab35c00000000, 0xa7ffd7c200000000,\n+    0x31cfd0b500000000, 0x8b9ed92c00000000, 0x1daede5b00000000,\n+    0xb0c2649b00000000, 0x26f263ec00000000, 0x9ca36a7500000000,\n+    0x0a936d0200000000, 0xa906099c00000000, 0x3f360eeb00000000,\n+    0x8567077200000000, 0x1357000500000000, 0x824abf9500000000,\n+    0x147ab8e200000000, 0xae2bb17b00000000, 0x381bb60c00000000,\n+    0x9b8ed29200000000, 0x0dbed5e500000000, 0xb7efdc7c00000000,\n+    0x21dfdb0b00000000, 0xd4d2d38600000000, 0x42e2d4f100000000,\n+    0xf8b3dd6800000000, 0x6e83da1f00000000, 0xcd16be8100000000,\n+    0x5b26b9f600000000, 0xe177b06f00000000, 0x7747b71800000000,\n+    0xe65a088800000000, 0x706a0fff00000000, 0xca3b066600000000,\n+    0x5c0b011100000000, 0xff9e658f00000000, 0x69ae62f800000000,\n+    0xd3ff6b6100000000, 0x45cf6c1600000000, 0x78e20aa000000000,\n+    0xeed20dd700000000, 0x5483044e00000000, 0xc2b3033900000000,\n+    0x612667a700000000, 0xf71660d000000000, 0x4d47694900000000,\n+    0xdb776e3e00000000, 0x4a6ad1ae00000000, 0xdc5ad6d900000000,\n+    0x660bdf4000000000, 0xf03bd83700000000, 0x53aebca900000000,\n+    0xc59ebbde00000000, 0x7fcfb24700000000, 0xe9ffb53000000000,\n+    0x1cf2bdbd00000000, 0x8ac2baca00000000, 0x3093b35300000000,\n+    0xa6a3b42400000000, 0x0536d0ba00000000, 0x9306d7cd00000000,\n+    0x2957de5400000000, 0xbf67d92300000000, 0x2e7a66b300000000,\n+    0xb84a61c400000000, 0x021b685d00000000, 0x942b6f2a00000000,\n+    0x37be0bb400000000, 0xa18e0cc300000000, 0x1bdf055a00000000,\n+    0x8def022d00000000},\n+   {0x0000000000000000, 0x41311b1900000000, 0x8262363200000000,\n+    0xc3532d2b00000000, 0x04c56c6400000000, 0x45f4777d00000000,\n+    0x86a75a5600000000, 0xc796414f00000000, 0x088ad9c800000000,\n+    0x49bbc2d100000000, 0x8ae8effa00000000, 0xcbd9f4e300000000,\n+    0x0c4fb5ac00000000, 0x4d7eaeb500000000, 0x8e2d839e00000000,\n+    0xcf1c988700000000, 0x5112c24a00000000, 0x1023d95300000000,\n+    0xd370f47800000000, 0x9241ef6100000000, 0x55d7ae2e00000000,\n+    0x14e6b53700000000, 0xd7b5981c00000000, 0x9684830500000000,\n+    0x59981b8200000000, 0x18a9009b00000000, 0xdbfa2db000000000,\n+    0x9acb36a900000000, 0x5d5d77e600000000, 0x1c6c6cff00000000,\n+    0xdf3f41d400000000, 0x9e0e5acd00000000, 0xa224849500000000,\n+    0xe3159f8c00000000, 0x2046b2a700000000, 0x6177a9be00000000,\n+    0xa6e1e8f100000000, 0xe7d0f3e800000000, 0x2483dec300000000,\n+    0x65b2c5da00000000, 0xaaae5d5d00000000, 0xeb9f464400000000,\n+    0x28cc6b6f00000000, 0x69fd707600000000, 0xae6b313900000000,\n+    0xef5a2a2000000000, 0x2c09070b00000000, 0x6d381c1200000000,\n+    0xf33646df00000000, 0xb2075dc600000000, 0x715470ed00000000,\n+    0x30656bf400000000, 0xf7f32abb00000000, 0xb6c231a200000000,\n+    0x75911c8900000000, 0x34a0079000000000, 0xfbbc9f1700000000,\n+    0xba8d840e00000000, 0x79dea92500000000, 0x38efb23c00000000,\n+    0xff79f37300000000, 0xbe48e86a00000000, 0x7d1bc54100000000,\n+    0x3c2ade5800000000, 0x054f79f000000000, 0x447e62e900000000,\n+    0x872d4fc200000000, 0xc61c54db00000000, 0x018a159400000000,\n+    0x40bb0e8d00000000, 0x83e823a600000000, 0xc2d938bf00000000,\n+    0x0dc5a03800000000, 0x4cf4bb2100000000, 0x8fa7960a00000000,\n+    0xce968d1300000000, 0x0900cc5c00000000, 0x4831d74500000000,\n+    0x8b62fa6e00000000, 0xca53e17700000000, 0x545dbbba00000000,\n+    0x156ca0a300000000, 0xd63f8d8800000000, 0x970e969100000000,\n+    0x5098d7de00000000, 0x11a9ccc700000000, 0xd2fae1ec00000000,\n+    0x93cbfaf500000000, 0x5cd7627200000000, 0x1de6796b00000000,\n+    0xdeb5544000000000, 0x9f844f5900000000, 0x58120e1600000000,\n+    0x1923150f00000000, 0xda70382400000000, 0x9b41233d00000000,\n+    0xa76bfd6500000000, 0xe65ae67c00000000, 0x2509cb5700000000,\n+    0x6438d04e00000000, 0xa3ae910100000000, 0xe29f8a1800000000,\n+    0x21cca73300000000, 0x60fdbc2a00000000, 0xafe124ad00000000,\n+    0xeed03fb400000000, 0x2d83129f00000000, 0x6cb2098600000000,\n+    0xab2448c900000000, 0xea1553d000000000, 0x29467efb00000000,\n+    0x687765e200000000, 0xf6793f2f00000000, 0xb748243600000000,\n+    0x741b091d00000000, 0x352a120400000000, 0xf2bc534b00000000,\n+    0xb38d485200000000, 0x70de657900000000, 0x31ef7e6000000000,\n+    0xfef3e6e700000000, 0xbfc2fdfe00000000, 0x7c91d0d500000000,\n+    0x3da0cbcc00000000, 0xfa368a8300000000, 0xbb07919a00000000,\n+    0x7854bcb100000000, 0x3965a7a800000000, 0x4b98833b00000000,\n+    0x0aa9982200000000, 0xc9fab50900000000, 0x88cbae1000000000,\n+    0x4f5def5f00000000, 0x0e6cf44600000000, 0xcd3fd96d00000000,\n+    0x8c0ec27400000000, 0x43125af300000000, 0x022341ea00000000,\n+    0xc1706cc100000000, 0x804177d800000000, 0x47d7369700000000,\n+    0x06e62d8e00000000, 0xc5b500a500000000, 0x84841bbc00000000,\n+    0x1a8a417100000000, 0x5bbb5a6800000000, 0x98e8774300000000,\n+    0xd9d96c5a00000000, 0x1e4f2d1500000000, 0x5f7e360c00000000,\n+    0x9c2d1b2700000000, 0xdd1c003e00000000, 0x120098b900000000,\n+    0x533183a000000000, 0x9062ae8b00000000, 0xd153b59200000000,\n+    0x16c5f4dd00000000, 0x57f4efc400000000, 0x94a7c2ef00000000,\n+    0xd596d9f600000000, 0xe9bc07ae00000000, 0xa88d1cb700000000,\n+    0x6bde319c00000000, 0x2aef2a8500000000, 0xed796bca00000000,\n+    0xac4870d300000000, 0x6f1b5df800000000, 0x2e2a46e100000000,\n+    0xe136de6600000000, 0xa007c57f00000000, 0x6354e85400000000,\n+    0x2265f34d00000000, 0xe5f3b20200000000, 0xa4c2a91b00000000,\n+    0x6791843000000000, 0x26a09f2900000000, 0xb8aec5e400000000,\n+    0xf99fdefd00000000, 0x3accf3d600000000, 0x7bfde8cf00000000,\n+    0xbc6ba98000000000, 0xfd5ab29900000000, 0x3e099fb200000000,\n+    0x7f3884ab00000000, 0xb0241c2c00000000, 0xf115073500000000,\n+    0x32462a1e00000000, 0x7377310700000000, 0xb4e1704800000000,\n+    0xf5d06b5100000000, 0x3683467a00000000, 0x77b25d6300000000,\n+    0x4ed7facb00000000, 0x0fe6e1d200000000, 0xccb5ccf900000000,\n+    0x8d84d7e000000000, 0x4a1296af00000000, 0x0b238db600000000,\n+    0xc870a09d00000000, 0x8941bb8400000000, 0x465d230300000000,\n+    0x076c381a00000000, 0xc43f153100000000, 0x850e0e2800000000,\n+    0x42984f6700000000, 0x03a9547e00000000, 0xc0fa795500000000,\n+    0x81cb624c00000000, 0x1fc5388100000000, 0x5ef4239800000000,\n+    0x9da70eb300000000, 0xdc9615aa00000000, 0x1b0054e500000000,\n+    0x5a314ffc00000000, 0x996262d700000000, 0xd85379ce00000000,\n+    0x174fe14900000000, 0x567efa5000000000, 0x952dd77b00000000,\n+    0xd41ccc6200000000, 0x138a8d2d00000000, 0x52bb963400000000,\n+    0x91e8bb1f00000000, 0xd0d9a00600000000, 0xecf37e5e00000000,\n+    0xadc2654700000000, 0x6e91486c00000000, 0x2fa0537500000000,\n+    0xe836123a00000000, 0xa907092300000000, 0x6a54240800000000,\n+    0x2b653f1100000000, 0xe479a79600000000, 0xa548bc8f00000000,\n+    0x661b91a400000000, 0x272a8abd00000000, 0xe0bccbf200000000,\n+    0xa18dd0eb00000000, 0x62defdc000000000, 0x23efe6d900000000,\n+    0xbde1bc1400000000, 0xfcd0a70d00000000, 0x3f838a2600000000,\n+    0x7eb2913f00000000, 0xb924d07000000000, 0xf815cb6900000000,\n+    0x3b46e64200000000, 0x7a77fd5b00000000, 0xb56b65dc00000000,\n+    0xf45a7ec500000000, 0x370953ee00000000, 0x763848f700000000,\n+    0xb1ae09b800000000, 0xf09f12a100000000, 0x33cc3f8a00000000,\n+    0x72fd249300000000},\n+   {0x0000000000000000, 0x376ac20100000000, 0x6ed4840300000000,\n+    0x59be460200000000, 0xdca8090700000000, 0xebc2cb0600000000,\n+    0xb27c8d0400000000, 0x85164f0500000000, 0xb851130e00000000,\n+    0x8f3bd10f00000000, 0xd685970d00000000, 0xe1ef550c00000000,\n+    0x64f91a0900000000, 0x5393d80800000000, 0x0a2d9e0a00000000,\n+    0x3d475c0b00000000, 0x70a3261c00000000, 0x47c9e41d00000000,\n+    0x1e77a21f00000000, 0x291d601e00000000, 0xac0b2f1b00000000,\n+    0x9b61ed1a00000000, 0xc2dfab1800000000, 0xf5b5691900000000,\n+    0xc8f2351200000000, 0xff98f71300000000, 0xa626b11100000000,\n+    0x914c731000000000, 0x145a3c1500000000, 0x2330fe1400000000,\n+    0x7a8eb81600000000, 0x4de47a1700000000, 0xe0464d3800000000,\n+    0xd72c8f3900000000, 0x8e92c93b00000000, 0xb9f80b3a00000000,\n+    0x3cee443f00000000, 0x0b84863e00000000, 0x523ac03c00000000,\n+    0x6550023d00000000, 0x58175e3600000000, 0x6f7d9c3700000000,\n+    0x36c3da3500000000, 0x01a9183400000000, 0x84bf573100000000,\n+    0xb3d5953000000000, 0xea6bd33200000000, 0xdd01113300000000,\n+    0x90e56b2400000000, 0xa78fa92500000000, 0xfe31ef2700000000,\n+    0xc95b2d2600000000, 0x4c4d622300000000, 0x7b27a02200000000,\n+    0x2299e62000000000, 0x15f3242100000000, 0x28b4782a00000000,\n+    0x1fdeba2b00000000, 0x4660fc2900000000, 0x710a3e2800000000,\n+    0xf41c712d00000000, 0xc376b32c00000000, 0x9ac8f52e00000000,\n+    0xada2372f00000000, 0xc08d9a7000000000, 0xf7e7587100000000,\n+    0xae591e7300000000, 0x9933dc7200000000, 0x1c25937700000000,\n+    0x2b4f517600000000, 0x72f1177400000000, 0x459bd57500000000,\n+    0x78dc897e00000000, 0x4fb64b7f00000000, 0x16080d7d00000000,\n+    0x2162cf7c00000000, 0xa474807900000000, 0x931e427800000000,\n+    0xcaa0047a00000000, 0xfdcac67b00000000, 0xb02ebc6c00000000,\n+    0x87447e6d00000000, 0xdefa386f00000000, 0xe990fa6e00000000,\n+    0x6c86b56b00000000, 0x5bec776a00000000, 0x0252316800000000,\n+    0x3538f36900000000, 0x087faf6200000000, 0x3f156d6300000000,\n+    0x66ab2b6100000000, 0x51c1e96000000000, 0xd4d7a66500000000,\n+    0xe3bd646400000000, 0xba03226600000000, 0x8d69e06700000000,\n+    0x20cbd74800000000, 0x17a1154900000000, 0x4e1f534b00000000,\n+    0x7975914a00000000, 0xfc63de4f00000000, 0xcb091c4e00000000,\n+    0x92b75a4c00000000, 0xa5dd984d00000000, 0x989ac44600000000,\n+    0xaff0064700000000, 0xf64e404500000000, 0xc124824400000000,\n+    0x4432cd4100000000, 0x73580f4000000000, 0x2ae6494200000000,\n+    0x1d8c8b4300000000, 0x5068f15400000000, 0x6702335500000000,\n+    0x3ebc755700000000, 0x09d6b75600000000, 0x8cc0f85300000000,\n+    0xbbaa3a5200000000, 0xe2147c5000000000, 0xd57ebe5100000000,\n+    0xe839e25a00000000, 0xdf53205b00000000, 0x86ed665900000000,\n+    0xb187a45800000000, 0x3491eb5d00000000, 0x03fb295c00000000,\n+    0x5a456f5e00000000, 0x6d2fad5f00000000, 0x801b35e100000000,\n+    0xb771f7e000000000, 0xeecfb1e200000000, 0xd9a573e300000000,\n+    0x5cb33ce600000000, 0x6bd9fee700000000, 0x3267b8e500000000,\n+    0x050d7ae400000000, 0x384a26ef00000000, 0x0f20e4ee00000000,\n+    0x569ea2ec00000000, 0x61f460ed00000000, 0xe4e22fe800000000,\n+    0xd388ede900000000, 0x8a36abeb00000000, 0xbd5c69ea00000000,\n+    0xf0b813fd00000000, 0xc7d2d1fc00000000, 0x9e6c97fe00000000,\n+    0xa90655ff00000000, 0x2c101afa00000000, 0x1b7ad8fb00000000,\n+    0x42c49ef900000000, 0x75ae5cf800000000, 0x48e900f300000000,\n+    0x7f83c2f200000000, 0x263d84f000000000, 0x115746f100000000,\n+    0x944109f400000000, 0xa32bcbf500000000, 0xfa958df700000000,\n+    0xcdff4ff600000000, 0x605d78d900000000, 0x5737bad800000000,\n+    0x0e89fcda00000000, 0x39e33edb00000000, 0xbcf571de00000000,\n+    0x8b9fb3df00000000, 0xd221f5dd00000000, 0xe54b37dc00000000,\n+    0xd80c6bd700000000, 0xef66a9d600000000, 0xb6d8efd400000000,\n+    0x81b22dd500000000, 0x04a462d000000000, 0x33cea0d100000000,\n+    0x6a70e6d300000000, 0x5d1a24d200000000, 0x10fe5ec500000000,\n+    0x27949cc400000000, 0x7e2adac600000000, 0x494018c700000000,\n+    0xcc5657c200000000, 0xfb3c95c300000000, 0xa282d3c100000000,\n+    0x95e811c000000000, 0xa8af4dcb00000000, 0x9fc58fca00000000,\n+    0xc67bc9c800000000, 0xf1110bc900000000, 0x740744cc00000000,\n+    0x436d86cd00000000, 0x1ad3c0cf00000000, 0x2db902ce00000000,\n+    0x4096af9100000000, 0x77fc6d9000000000, 0x2e422b9200000000,\n+    0x1928e99300000000, 0x9c3ea69600000000, 0xab54649700000000,\n+    0xf2ea229500000000, 0xc580e09400000000, 0xf8c7bc9f00000000,\n+    0xcfad7e9e00000000, 0x9613389c00000000, 0xa179fa9d00000000,\n+    0x246fb59800000000, 0x1305779900000000, 0x4abb319b00000000,\n+    0x7dd1f39a00000000, 0x3035898d00000000, 0x075f4b8c00000000,\n+    0x5ee10d8e00000000, 0x698bcf8f00000000, 0xec9d808a00000000,\n+    0xdbf7428b00000000, 0x8249048900000000, 0xb523c68800000000,\n+    0x88649a8300000000, 0xbf0e588200000000, 0xe6b01e8000000000,\n+    0xd1dadc8100000000, 0x54cc938400000000, 0x63a6518500000000,\n+    0x3a18178700000000, 0x0d72d58600000000, 0xa0d0e2a900000000,\n+    0x97ba20a800000000, 0xce0466aa00000000, 0xf96ea4ab00000000,\n+    0x7c78ebae00000000, 0x4b1229af00000000, 0x12ac6fad00000000,\n+    0x25c6adac00000000, 0x1881f1a700000000, 0x2feb33a600000000,\n+    0x765575a400000000, 0x413fb7a500000000, 0xc429f8a000000000,\n+    0xf3433aa100000000, 0xaafd7ca300000000, 0x9d97bea200000000,\n+    0xd073c4b500000000, 0xe71906b400000000, 0xbea740b600000000,\n+    0x89cd82b700000000, 0x0cdbcdb200000000, 0x3bb10fb300000000,\n+    0x620f49b100000000, 0x55658bb000000000, 0x6822d7bb00000000,\n+    0x5f4815ba00000000, 0x06f653b800000000, 0x319c91b900000000,\n+    0xb48adebc00000000, 0x83e01cbd00000000, 0xda5e5abf00000000,\n+    0xed3498be00000000},\n+   {0x0000000000000000, 0x6567bcb800000000, 0x8bc809aa00000000,\n+    0xeeafb51200000000, 0x5797628f00000000, 0x32f0de3700000000,\n+    0xdc5f6b2500000000, 0xb938d79d00000000, 0xef28b4c500000000,\n+    0x8a4f087d00000000, 0x64e0bd6f00000000, 0x018701d700000000,\n+    0xb8bfd64a00000000, 0xddd86af200000000, 0x3377dfe000000000,\n+    0x5610635800000000, 0x9f57195000000000, 0xfa30a5e800000000,\n+    0x149f10fa00000000, 0x71f8ac4200000000, 0xc8c07bdf00000000,\n+    0xada7c76700000000, 0x4308727500000000, 0x266fcecd00000000,\n+    0x707fad9500000000, 0x1518112d00000000, 0xfbb7a43f00000000,\n+    0x9ed0188700000000, 0x27e8cf1a00000000, 0x428f73a200000000,\n+    0xac20c6b000000000, 0xc9477a0800000000, 0x3eaf32a000000000,\n+    0x5bc88e1800000000, 0xb5673b0a00000000, 0xd00087b200000000,\n+    0x6938502f00000000, 0x0c5fec9700000000, 0xe2f0598500000000,\n+    0x8797e53d00000000, 0xd187866500000000, 0xb4e03add00000000,\n+    0x5a4f8fcf00000000, 0x3f28337700000000, 0x8610e4ea00000000,\n+    0xe377585200000000, 0x0dd8ed4000000000, 0x68bf51f800000000,\n+    0xa1f82bf000000000, 0xc49f974800000000, 0x2a30225a00000000,\n+    0x4f579ee200000000, 0xf66f497f00000000, 0x9308f5c700000000,\n+    0x7da740d500000000, 0x18c0fc6d00000000, 0x4ed09f3500000000,\n+    0x2bb7238d00000000, 0xc518969f00000000, 0xa07f2a2700000000,\n+    0x1947fdba00000000, 0x7c20410200000000, 0x928ff41000000000,\n+    0xf7e848a800000000, 0x3d58149b00000000, 0x583fa82300000000,\n+    0xb6901d3100000000, 0xd3f7a18900000000, 0x6acf761400000000,\n+    0x0fa8caac00000000, 0xe1077fbe00000000, 0x8460c30600000000,\n+    0xd270a05e00000000, 0xb7171ce600000000, 0x59b8a9f400000000,\n+    0x3cdf154c00000000, 0x85e7c2d100000000, 0xe0807e6900000000,\n+    0x0e2fcb7b00000000, 0x6b4877c300000000, 0xa20f0dcb00000000,\n+    0xc768b17300000000, 0x29c7046100000000, 0x4ca0b8d900000000,\n+    0xf5986f4400000000, 0x90ffd3fc00000000, 0x7e5066ee00000000,\n+    0x1b37da5600000000, 0x4d27b90e00000000, 0x284005b600000000,\n+    0xc6efb0a400000000, 0xa3880c1c00000000, 0x1ab0db8100000000,\n+    0x7fd7673900000000, 0x9178d22b00000000, 0xf41f6e9300000000,\n+    0x03f7263b00000000, 0x66909a8300000000, 0x883f2f9100000000,\n+    0xed58932900000000, 0x546044b400000000, 0x3107f80c00000000,\n+    0xdfa84d1e00000000, 0xbacff1a600000000, 0xecdf92fe00000000,\n+    0x89b82e4600000000, 0x67179b5400000000, 0x027027ec00000000,\n+    0xbb48f07100000000, 0xde2f4cc900000000, 0x3080f9db00000000,\n+    0x55e7456300000000, 0x9ca03f6b00000000, 0xf9c783d300000000,\n+    0x176836c100000000, 0x720f8a7900000000, 0xcb375de400000000,\n+    0xae50e15c00000000, 0x40ff544e00000000, 0x2598e8f600000000,\n+    0x73888bae00000000, 0x16ef371600000000, 0xf840820400000000,\n+    0x9d273ebc00000000, 0x241fe92100000000, 0x4178559900000000,\n+    0xafd7e08b00000000, 0xcab05c3300000000, 0x3bb659ed00000000,\n+    0x5ed1e55500000000, 0xb07e504700000000, 0xd519ecff00000000,\n+    0x6c213b6200000000, 0x094687da00000000, 0xe7e932c800000000,\n+    0x828e8e7000000000, 0xd49eed2800000000, 0xb1f9519000000000,\n+    0x5f56e48200000000, 0x3a31583a00000000, 0x83098fa700000000,\n+    0xe66e331f00000000, 0x08c1860d00000000, 0x6da63ab500000000,\n+    0xa4e140bd00000000, 0xc186fc0500000000, 0x2f29491700000000,\n+    0x4a4ef5af00000000, 0xf376223200000000, 0x96119e8a00000000,\n+    0x78be2b9800000000, 0x1dd9972000000000, 0x4bc9f47800000000,\n+    0x2eae48c000000000, 0xc001fdd200000000, 0xa566416a00000000,\n+    0x1c5e96f700000000, 0x79392a4f00000000, 0x97969f5d00000000,\n+    0xf2f123e500000000, 0x05196b4d00000000, 0x607ed7f500000000,\n+    0x8ed162e700000000, 0xebb6de5f00000000, 0x528e09c200000000,\n+    0x37e9b57a00000000, 0xd946006800000000, 0xbc21bcd000000000,\n+    0xea31df8800000000, 0x8f56633000000000, 0x61f9d62200000000,\n+    0x049e6a9a00000000, 0xbda6bd0700000000, 0xd8c101bf00000000,\n+    0x366eb4ad00000000, 0x5309081500000000, 0x9a4e721d00000000,\n+    0xff29cea500000000, 0x11867bb700000000, 0x74e1c70f00000000,\n+    0xcdd9109200000000, 0xa8beac2a00000000, 0x4611193800000000,\n+    0x2376a58000000000, 0x7566c6d800000000, 0x10017a6000000000,\n+    0xfeaecf7200000000, 0x9bc973ca00000000, 0x22f1a45700000000,\n+    0x479618ef00000000, 0xa939adfd00000000, 0xcc5e114500000000,\n+    0x06ee4d7600000000, 0x6389f1ce00000000, 0x8d2644dc00000000,\n+    0xe841f86400000000, 0x51792ff900000000, 0x341e934100000000,\n+    0xdab1265300000000, 0xbfd69aeb00000000, 0xe9c6f9b300000000,\n+    0x8ca1450b00000000, 0x620ef01900000000, 0x07694ca100000000,\n+    0xbe519b3c00000000, 0xdb36278400000000, 0x3599929600000000,\n+    0x50fe2e2e00000000, 0x99b9542600000000, 0xfcdee89e00000000,\n+    0x12715d8c00000000, 0x7716e13400000000, 0xce2e36a900000000,\n+    0xab498a1100000000, 0x45e63f0300000000, 0x208183bb00000000,\n+    0x7691e0e300000000, 0x13f65c5b00000000, 0xfd59e94900000000,\n+    0x983e55f100000000, 0x2106826c00000000, 0x44613ed400000000,\n+    0xaace8bc600000000, 0xcfa9377e00000000, 0x38417fd600000000,\n+    0x5d26c36e00000000, 0xb389767c00000000, 0xd6eecac400000000,\n+    0x6fd61d5900000000, 0x0ab1a1e100000000, 0xe41e14f300000000,\n+    0x8179a84b00000000, 0xd769cb1300000000, 0xb20e77ab00000000,\n+    0x5ca1c2b900000000, 0x39c67e0100000000, 0x80fea99c00000000,\n+    0xe599152400000000, 0x0b36a03600000000, 0x6e511c8e00000000,\n+    0xa716668600000000, 0xc271da3e00000000, 0x2cde6f2c00000000,\n+    0x49b9d39400000000, 0xf081040900000000, 0x95e6b8b100000000,\n+    0x7b490da300000000, 0x1e2eb11b00000000, 0x483ed24300000000,\n+    0x2d596efb00000000, 0xc3f6dbe900000000, 0xa691675100000000,\n+    0x1fa9b0cc00000000, 0x7ace0c7400000000, 0x9461b96600000000,\n+    0xf10605de00000000},\n+   {0x0000000000000000, 0xb029603d00000000, 0x6053c07a00000000,\n+    0xd07aa04700000000, 0xc0a680f500000000, 0x708fe0c800000000,\n+    0xa0f5408f00000000, 0x10dc20b200000000, 0xc14b703000000000,\n+    0x7162100d00000000, 0xa118b04a00000000, 0x1131d07700000000,\n+    0x01edf0c500000000, 0xb1c490f800000000, 0x61be30bf00000000,\n+    0xd197508200000000, 0x8297e06000000000, 0x32be805d00000000,\n+    0xe2c4201a00000000, 0x52ed402700000000, 0x4231609500000000,\n+    0xf21800a800000000, 0x2262a0ef00000000, 0x924bc0d200000000,\n+    0x43dc905000000000, 0xf3f5f06d00000000, 0x238f502a00000000,\n+    0x93a6301700000000, 0x837a10a500000000, 0x3353709800000000,\n+    0xe329d0df00000000, 0x5300b0e200000000, 0x042fc1c100000000,\n+    0xb406a1fc00000000, 0x647c01bb00000000, 0xd455618600000000,\n+    0xc489413400000000, 0x74a0210900000000, 0xa4da814e00000000,\n+    0x14f3e17300000000, 0xc564b1f100000000, 0x754dd1cc00000000,\n+    0xa537718b00000000, 0x151e11b600000000, 0x05c2310400000000,\n+    0xb5eb513900000000, 0x6591f17e00000000, 0xd5b8914300000000,\n+    0x86b821a100000000, 0x3691419c00000000, 0xe6ebe1db00000000,\n+    0x56c281e600000000, 0x461ea15400000000, 0xf637c16900000000,\n+    0x264d612e00000000, 0x9664011300000000, 0x47f3519100000000,\n+    0xf7da31ac00000000, 0x27a091eb00000000, 0x9789f1d600000000,\n+    0x8755d16400000000, 0x377cb15900000000, 0xe706111e00000000,\n+    0x572f712300000000, 0x4958f35800000000, 0xf971936500000000,\n+    0x290b332200000000, 0x9922531f00000000, 0x89fe73ad00000000,\n+    0x39d7139000000000, 0xe9adb3d700000000, 0x5984d3ea00000000,\n+    0x8813836800000000, 0x383ae35500000000, 0xe840431200000000,\n+    0x5869232f00000000, 0x48b5039d00000000, 0xf89c63a000000000,\n+    0x28e6c3e700000000, 0x98cfa3da00000000, 0xcbcf133800000000,\n+    0x7be6730500000000, 0xab9cd34200000000, 0x1bb5b37f00000000,\n+    0x0b6993cd00000000, 0xbb40f3f000000000, 0x6b3a53b700000000,\n+    0xdb13338a00000000, 0x0a84630800000000, 0xbaad033500000000,\n+    0x6ad7a37200000000, 0xdafec34f00000000, 0xca22e3fd00000000,\n+    0x7a0b83c000000000, 0xaa71238700000000, 0x1a5843ba00000000,\n+    0x4d77329900000000, 0xfd5e52a400000000, 0x2d24f2e300000000,\n+    0x9d0d92de00000000, 0x8dd1b26c00000000, 0x3df8d25100000000,\n+    0xed82721600000000, 0x5dab122b00000000, 0x8c3c42a900000000,\n+    0x3c15229400000000, 0xec6f82d300000000, 0x5c46e2ee00000000,\n+    0x4c9ac25c00000000, 0xfcb3a26100000000, 0x2cc9022600000000,\n+    0x9ce0621b00000000, 0xcfe0d2f900000000, 0x7fc9b2c400000000,\n+    0xafb3128300000000, 0x1f9a72be00000000, 0x0f46520c00000000,\n+    0xbf6f323100000000, 0x6f15927600000000, 0xdf3cf24b00000000,\n+    0x0eaba2c900000000, 0xbe82c2f400000000, 0x6ef862b300000000,\n+    0xded1028e00000000, 0xce0d223c00000000, 0x7e24420100000000,\n+    0xae5ee24600000000, 0x1e77827b00000000, 0x92b0e6b100000000,\n+    0x2299868c00000000, 0xf2e326cb00000000, 0x42ca46f600000000,\n+    0x5216664400000000, 0xe23f067900000000, 0x3245a63e00000000,\n+    0x826cc60300000000, 0x53fb968100000000, 0xe3d2f6bc00000000,\n+    0x33a856fb00000000, 0x838136c600000000, 0x935d167400000000,\n+    0x2374764900000000, 0xf30ed60e00000000, 0x4327b63300000000,\n+    0x102706d100000000, 0xa00e66ec00000000, 0x7074c6ab00000000,\n+    0xc05da69600000000, 0xd081862400000000, 0x60a8e61900000000,\n+    0xb0d2465e00000000, 0x00fb266300000000, 0xd16c76e100000000,\n+    0x614516dc00000000, 0xb13fb69b00000000, 0x0116d6a600000000,\n+    0x11caf61400000000, 0xa1e3962900000000, 0x7199366e00000000,\n+    0xc1b0565300000000, 0x969f277000000000, 0x26b6474d00000000,\n+    0xf6cce70a00000000, 0x46e5873700000000, 0x5639a78500000000,\n+    0xe610c7b800000000, 0x366a67ff00000000, 0x864307c200000000,\n+    0x57d4574000000000, 0xe7fd377d00000000, 0x3787973a00000000,\n+    0x87aef70700000000, 0x9772d7b500000000, 0x275bb78800000000,\n+    0xf72117cf00000000, 0x470877f200000000, 0x1408c71000000000,\n+    0xa421a72d00000000, 0x745b076a00000000, 0xc472675700000000,\n+    0xd4ae47e500000000, 0x648727d800000000, 0xb4fd879f00000000,\n+    0x04d4e7a200000000, 0xd543b72000000000, 0x656ad71d00000000,\n+    0xb510775a00000000, 0x0539176700000000, 0x15e537d500000000,\n+    0xa5cc57e800000000, 0x75b6f7af00000000, 0xc59f979200000000,\n+    0xdbe815e900000000, 0x6bc175d400000000, 0xbbbbd59300000000,\n+    0x0b92b5ae00000000, 0x1b4e951c00000000, 0xab67f52100000000,\n+    0x7b1d556600000000, 0xcb34355b00000000, 0x1aa365d900000000,\n+    0xaa8a05e400000000, 0x7af0a5a300000000, 0xcad9c59e00000000,\n+    0xda05e52c00000000, 0x6a2c851100000000, 0xba56255600000000,\n+    0x0a7f456b00000000, 0x597ff58900000000, 0xe95695b400000000,\n+    0x392c35f300000000, 0x890555ce00000000, 0x99d9757c00000000,\n+    0x29f0154100000000, 0xf98ab50600000000, 0x49a3d53b00000000,\n+    0x983485b900000000, 0x281de58400000000, 0xf86745c300000000,\n+    0x484e25fe00000000, 0x5892054c00000000, 0xe8bb657100000000,\n+    0x38c1c53600000000, 0x88e8a50b00000000, 0xdfc7d42800000000,\n+    0x6feeb41500000000, 0xbf94145200000000, 0x0fbd746f00000000,\n+    0x1f6154dd00000000, 0xaf4834e000000000, 0x7f3294a700000000,\n+    0xcf1bf49a00000000, 0x1e8ca41800000000, 0xaea5c42500000000,\n+    0x7edf646200000000, 0xcef6045f00000000, 0xde2a24ed00000000,\n+    0x6e0344d000000000, 0xbe79e49700000000, 0x0e5084aa00000000,\n+    0x5d50344800000000, 0xed79547500000000, 0x3d03f43200000000,\n+    0x8d2a940f00000000, 0x9df6b4bd00000000, 0x2ddfd48000000000,\n+    0xfda574c700000000, 0x4d8c14fa00000000, 0x9c1b447800000000,\n+    0x2c32244500000000, 0xfc48840200000000, 0x4c61e43f00000000,\n+    0x5cbdc48d00000000, 0xec94a4b000000000, 0x3cee04f700000000,\n+    0x8cc764ca00000000},\n+   {0x0000000000000000, 0xa5d35ccb00000000, 0x0ba1c84d00000000,\n+    0xae72948600000000, 0x1642919b00000000, 0xb391cd5000000000,\n+    0x1de359d600000000, 0xb830051d00000000, 0x6d8253ec00000000,\n+    0xc8510f2700000000, 0x66239ba100000000, 0xc3f0c76a00000000,\n+    0x7bc0c27700000000, 0xde139ebc00000000, 0x70610a3a00000000,\n+    0xd5b256f100000000, 0x9b02d60300000000, 0x3ed18ac800000000,\n+    0x90a31e4e00000000, 0x3570428500000000, 0x8d40479800000000,\n+    0x28931b5300000000, 0x86e18fd500000000, 0x2332d31e00000000,\n+    0xf68085ef00000000, 0x5353d92400000000, 0xfd214da200000000,\n+    0x58f2116900000000, 0xe0c2147400000000, 0x451148bf00000000,\n+    0xeb63dc3900000000, 0x4eb080f200000000, 0x3605ac0700000000,\n+    0x93d6f0cc00000000, 0x3da4644a00000000, 0x9877388100000000,\n+    0x20473d9c00000000, 0x8594615700000000, 0x2be6f5d100000000,\n+    0x8e35a91a00000000, 0x5b87ffeb00000000, 0xfe54a32000000000,\n+    0x502637a600000000, 0xf5f56b6d00000000, 0x4dc56e7000000000,\n+    0xe81632bb00000000, 0x4664a63d00000000, 0xe3b7faf600000000,\n+    0xad077a0400000000, 0x08d426cf00000000, 0xa6a6b24900000000,\n+    0x0375ee8200000000, 0xbb45eb9f00000000, 0x1e96b75400000000,\n+    0xb0e423d200000000, 0x15377f1900000000, 0xc08529e800000000,\n+    0x6556752300000000, 0xcb24e1a500000000, 0x6ef7bd6e00000000,\n+    0xd6c7b87300000000, 0x7314e4b800000000, 0xdd66703e00000000,\n+    0x78b52cf500000000, 0x6c0a580f00000000, 0xc9d904c400000000,\n+    0x67ab904200000000, 0xc278cc8900000000, 0x7a48c99400000000,\n+    0xdf9b955f00000000, 0x71e901d900000000, 0xd43a5d1200000000,\n+    0x01880be300000000, 0xa45b572800000000, 0x0a29c3ae00000000,\n+    0xaffa9f6500000000, 0x17ca9a7800000000, 0xb219c6b300000000,\n+    0x1c6b523500000000, 0xb9b80efe00000000, 0xf7088e0c00000000,\n+    0x52dbd2c700000000, 0xfca9464100000000, 0x597a1a8a00000000,\n+    0xe14a1f9700000000, 0x4499435c00000000, 0xeaebd7da00000000,\n+    0x4f388b1100000000, 0x9a8adde000000000, 0x3f59812b00000000,\n+    0x912b15ad00000000, 0x34f8496600000000, 0x8cc84c7b00000000,\n+    0x291b10b000000000, 0x8769843600000000, 0x22bad8fd00000000,\n+    0x5a0ff40800000000, 0xffdca8c300000000, 0x51ae3c4500000000,\n+    0xf47d608e00000000, 0x4c4d659300000000, 0xe99e395800000000,\n+    0x47ecadde00000000, 0xe23ff11500000000, 0x378da7e400000000,\n+    0x925efb2f00000000, 0x3c2c6fa900000000, 0x99ff336200000000,\n+    0x21cf367f00000000, 0x841c6ab400000000, 0x2a6efe3200000000,\n+    0x8fbda2f900000000, 0xc10d220b00000000, 0x64de7ec000000000,\n+    0xcaacea4600000000, 0x6f7fb68d00000000, 0xd74fb39000000000,\n+    0x729cef5b00000000, 0xdcee7bdd00000000, 0x793d271600000000,\n+    0xac8f71e700000000, 0x095c2d2c00000000, 0xa72eb9aa00000000,\n+    0x02fde56100000000, 0xbacde07c00000000, 0x1f1ebcb700000000,\n+    0xb16c283100000000, 0x14bf74fa00000000, 0xd814b01e00000000,\n+    0x7dc7ecd500000000, 0xd3b5785300000000, 0x7666249800000000,\n+    0xce56218500000000, 0x6b857d4e00000000, 0xc5f7e9c800000000,\n+    0x6024b50300000000, 0xb596e3f200000000, 0x1045bf3900000000,\n+    0xbe372bbf00000000, 0x1be4777400000000, 0xa3d4726900000000,\n+    0x06072ea200000000, 0xa875ba2400000000, 0x0da6e6ef00000000,\n+    0x4316661d00000000, 0xe6c53ad600000000, 0x48b7ae5000000000,\n+    0xed64f29b00000000, 0x5554f78600000000, 0xf087ab4d00000000,\n+    0x5ef53fcb00000000, 0xfb26630000000000, 0x2e9435f100000000,\n+    0x8b47693a00000000, 0x2535fdbc00000000, 0x80e6a17700000000,\n+    0x38d6a46a00000000, 0x9d05f8a100000000, 0x33776c2700000000,\n+    0x96a430ec00000000, 0xee111c1900000000, 0x4bc240d200000000,\n+    0xe5b0d45400000000, 0x4063889f00000000, 0xf8538d8200000000,\n+    0x5d80d14900000000, 0xf3f245cf00000000, 0x5621190400000000,\n+    0x83934ff500000000, 0x2640133e00000000, 0x883287b800000000,\n+    0x2de1db7300000000, 0x95d1de6e00000000, 0x300282a500000000,\n+    0x9e70162300000000, 0x3ba34ae800000000, 0x7513ca1a00000000,\n+    0xd0c096d100000000, 0x7eb2025700000000, 0xdb615e9c00000000,\n+    0x63515b8100000000, 0xc682074a00000000, 0x68f093cc00000000,\n+    0xcd23cf0700000000, 0x189199f600000000, 0xbd42c53d00000000,\n+    0x133051bb00000000, 0xb6e30d7000000000, 0x0ed3086d00000000,\n+    0xab0054a600000000, 0x0572c02000000000, 0xa0a19ceb00000000,\n+    0xb41ee81100000000, 0x11cdb4da00000000, 0xbfbf205c00000000,\n+    0x1a6c7c9700000000, 0xa25c798a00000000, 0x078f254100000000,\n+    0xa9fdb1c700000000, 0x0c2eed0c00000000, 0xd99cbbfd00000000,\n+    0x7c4fe73600000000, 0xd23d73b000000000, 0x77ee2f7b00000000,\n+    0xcfde2a6600000000, 0x6a0d76ad00000000, 0xc47fe22b00000000,\n+    0x61acbee000000000, 0x2f1c3e1200000000, 0x8acf62d900000000,\n+    0x24bdf65f00000000, 0x816eaa9400000000, 0x395eaf8900000000,\n+    0x9c8df34200000000, 0x32ff67c400000000, 0x972c3b0f00000000,\n+    0x429e6dfe00000000, 0xe74d313500000000, 0x493fa5b300000000,\n+    0xececf97800000000, 0x54dcfc6500000000, 0xf10fa0ae00000000,\n+    0x5f7d342800000000, 0xfaae68e300000000, 0x821b441600000000,\n+    0x27c818dd00000000, 0x89ba8c5b00000000, 0x2c69d09000000000,\n+    0x9459d58d00000000, 0x318a894600000000, 0x9ff81dc000000000,\n+    0x3a2b410b00000000, 0xef9917fa00000000, 0x4a4a4b3100000000,\n+    0xe438dfb700000000, 0x41eb837c00000000, 0xf9db866100000000,\n+    0x5c08daaa00000000, 0xf27a4e2c00000000, 0x57a912e700000000,\n+    0x1919921500000000, 0xbccacede00000000, 0x12b85a5800000000,\n+    0xb76b069300000000, 0x0f5b038e00000000, 0xaa885f4500000000,\n+    0x04facbc300000000, 0xa129970800000000, 0x749bc1f900000000,\n+    0xd1489d3200000000, 0x7f3a09b400000000, 0xdae9557f00000000,\n+    0x62d9506200000000, 0xc70a0ca900000000, 0x6978982f00000000,\n+    0xccabc4e400000000},\n+   {0x0000000000000000, 0xb40b77a600000000, 0x29119f9700000000,\n+    0x9d1ae83100000000, 0x13244ff400000000, 0xa72f385200000000,\n+    0x3a35d06300000000, 0x8e3ea7c500000000, 0x674eef3300000000,\n+    0xd345989500000000, 0x4e5f70a400000000, 0xfa54070200000000,\n+    0x746aa0c700000000, 0xc061d76100000000, 0x5d7b3f5000000000,\n+    0xe97048f600000000, 0xce9cde6700000000, 0x7a97a9c100000000,\n+    0xe78d41f000000000, 0x5386365600000000, 0xddb8919300000000,\n+    0x69b3e63500000000, 0xf4a90e0400000000, 0x40a279a200000000,\n+    0xa9d2315400000000, 0x1dd946f200000000, 0x80c3aec300000000,\n+    0x34c8d96500000000, 0xbaf67ea000000000, 0x0efd090600000000,\n+    0x93e7e13700000000, 0x27ec969100000000, 0x9c39bdcf00000000,\n+    0x2832ca6900000000, 0xb528225800000000, 0x012355fe00000000,\n+    0x8f1df23b00000000, 0x3b16859d00000000, 0xa60c6dac00000000,\n+    0x12071a0a00000000, 0xfb7752fc00000000, 0x4f7c255a00000000,\n+    0xd266cd6b00000000, 0x666dbacd00000000, 0xe8531d0800000000,\n+    0x5c586aae00000000, 0xc142829f00000000, 0x7549f53900000000,\n+    0x52a563a800000000, 0xe6ae140e00000000, 0x7bb4fc3f00000000,\n+    0xcfbf8b9900000000, 0x41812c5c00000000, 0xf58a5bfa00000000,\n+    0x6890b3cb00000000, 0xdc9bc46d00000000, 0x35eb8c9b00000000,\n+    0x81e0fb3d00000000, 0x1cfa130c00000000, 0xa8f164aa00000000,\n+    0x26cfc36f00000000, 0x92c4b4c900000000, 0x0fde5cf800000000,\n+    0xbbd52b5e00000000, 0x79750b4400000000, 0xcd7e7ce200000000,\n+    0x506494d300000000, 0xe46fe37500000000, 0x6a5144b000000000,\n+    0xde5a331600000000, 0x4340db2700000000, 0xf74bac8100000000,\n+    0x1e3be47700000000, 0xaa3093d100000000, 0x372a7be000000000,\n+    0x83210c4600000000, 0x0d1fab8300000000, 0xb914dc2500000000,\n+    0x240e341400000000, 0x900543b200000000, 0xb7e9d52300000000,\n+    0x03e2a28500000000, 0x9ef84ab400000000, 0x2af33d1200000000,\n+    0xa4cd9ad700000000, 0x10c6ed7100000000, 0x8ddc054000000000,\n+    0x39d772e600000000, 0xd0a73a1000000000, 0x64ac4db600000000,\n+    0xf9b6a58700000000, 0x4dbdd22100000000, 0xc38375e400000000,\n+    0x7788024200000000, 0xea92ea7300000000, 0x5e999dd500000000,\n+    0xe54cb68b00000000, 0x5147c12d00000000, 0xcc5d291c00000000,\n+    0x78565eba00000000, 0xf668f97f00000000, 0x42638ed900000000,\n+    0xdf7966e800000000, 0x6b72114e00000000, 0x820259b800000000,\n+    0x36092e1e00000000, 0xab13c62f00000000, 0x1f18b18900000000,\n+    0x9126164c00000000, 0x252d61ea00000000, 0xb83789db00000000,\n+    0x0c3cfe7d00000000, 0x2bd068ec00000000, 0x9fdb1f4a00000000,\n+    0x02c1f77b00000000, 0xb6ca80dd00000000, 0x38f4271800000000,\n+    0x8cff50be00000000, 0x11e5b88f00000000, 0xa5eecf2900000000,\n+    0x4c9e87df00000000, 0xf895f07900000000, 0x658f184800000000,\n+    0xd1846fee00000000, 0x5fbac82b00000000, 0xebb1bf8d00000000,\n+    0x76ab57bc00000000, 0xc2a0201a00000000, 0xf2ea168800000000,\n+    0x46e1612e00000000, 0xdbfb891f00000000, 0x6ff0feb900000000,\n+    0xe1ce597c00000000, 0x55c52eda00000000, 0xc8dfc6eb00000000,\n+    0x7cd4b14d00000000, 0x95a4f9bb00000000, 0x21af8e1d00000000,\n+    0xbcb5662c00000000, 0x08be118a00000000, 0x8680b64f00000000,\n+    0x328bc1e900000000, 0xaf9129d800000000, 0x1b9a5e7e00000000,\n+    0x3c76c8ef00000000, 0x887dbf4900000000, 0x1567577800000000,\n+    0xa16c20de00000000, 0x2f52871b00000000, 0x9b59f0bd00000000,\n+    0x0643188c00000000, 0xb2486f2a00000000, 0x5b3827dc00000000,\n+    0xef33507a00000000, 0x7229b84b00000000, 0xc622cfed00000000,\n+    0x481c682800000000, 0xfc171f8e00000000, 0x610df7bf00000000,\n+    0xd506801900000000, 0x6ed3ab4700000000, 0xdad8dce100000000,\n+    0x47c234d000000000, 0xf3c9437600000000, 0x7df7e4b300000000,\n+    0xc9fc931500000000, 0x54e67b2400000000, 0xe0ed0c8200000000,\n+    0x099d447400000000, 0xbd9633d200000000, 0x208cdbe300000000,\n+    0x9487ac4500000000, 0x1ab90b8000000000, 0xaeb27c2600000000,\n+    0x33a8941700000000, 0x87a3e3b100000000, 0xa04f752000000000,\n+    0x1444028600000000, 0x895eeab700000000, 0x3d559d1100000000,\n+    0xb36b3ad400000000, 0x07604d7200000000, 0x9a7aa54300000000,\n+    0x2e71d2e500000000, 0xc7019a1300000000, 0x730aedb500000000,\n+    0xee10058400000000, 0x5a1b722200000000, 0xd425d5e700000000,\n+    0x602ea24100000000, 0xfd344a7000000000, 0x493f3dd600000000,\n+    0x8b9f1dcc00000000, 0x3f946a6a00000000, 0xa28e825b00000000,\n+    0x1685f5fd00000000, 0x98bb523800000000, 0x2cb0259e00000000,\n+    0xb1aacdaf00000000, 0x05a1ba0900000000, 0xecd1f2ff00000000,\n+    0x58da855900000000, 0xc5c06d6800000000, 0x71cb1ace00000000,\n+    0xfff5bd0b00000000, 0x4bfecaad00000000, 0xd6e4229c00000000,\n+    0x62ef553a00000000, 0x4503c3ab00000000, 0xf108b40d00000000,\n+    0x6c125c3c00000000, 0xd8192b9a00000000, 0x56278c5f00000000,\n+    0xe22cfbf900000000, 0x7f3613c800000000, 0xcb3d646e00000000,\n+    0x224d2c9800000000, 0x96465b3e00000000, 0x0b5cb30f00000000,\n+    0xbf57c4a900000000, 0x3169636c00000000, 0x856214ca00000000,\n+    0x1878fcfb00000000, 0xac738b5d00000000, 0x17a6a00300000000,\n+    0xa3add7a500000000, 0x3eb73f9400000000, 0x8abc483200000000,\n+    0x0482eff700000000, 0xb089985100000000, 0x2d93706000000000,\n+    0x999807c600000000, 0x70e84f3000000000, 0xc4e3389600000000,\n+    0x59f9d0a700000000, 0xedf2a70100000000, 0x63cc00c400000000,\n+    0xd7c7776200000000, 0x4add9f5300000000, 0xfed6e8f500000000,\n+    0xd93a7e6400000000, 0x6d3109c200000000, 0xf02be1f300000000,\n+    0x4420965500000000, 0xca1e319000000000, 0x7e15463600000000,\n+    0xe30fae0700000000, 0x5704d9a100000000, 0xbe74915700000000,\n+    0x0a7fe6f100000000, 0x97650ec000000000, 0x236e796600000000,\n+    0xad50dea300000000, 0x195ba90500000000, 0x8441413400000000,\n+    0x304a369200000000},\n+   {0x0000000000000000, 0x9e00aacc00000000, 0x7d07254200000000,\n+    0xe3078f8e00000000, 0xfa0e4a8400000000, 0x640ee04800000000,\n+    0x87096fc600000000, 0x1909c50a00000000, 0xb51be5d300000000,\n+    0x2b1b4f1f00000000, 0xc81cc09100000000, 0x561c6a5d00000000,\n+    0x4f15af5700000000, 0xd115059b00000000, 0x32128a1500000000,\n+    0xac1220d900000000, 0x2b31bb7c00000000, 0xb53111b000000000,\n+    0x56369e3e00000000, 0xc83634f200000000, 0xd13ff1f800000000,\n+    0x4f3f5b3400000000, 0xac38d4ba00000000, 0x32387e7600000000,\n+    0x9e2a5eaf00000000, 0x002af46300000000, 0xe32d7bed00000000,\n+    0x7d2dd12100000000, 0x6424142b00000000, 0xfa24bee700000000,\n+    0x1923316900000000, 0x87239ba500000000, 0x566276f900000000,\n+    0xc862dc3500000000, 0x2b6553bb00000000, 0xb565f97700000000,\n+    0xac6c3c7d00000000, 0x326c96b100000000, 0xd16b193f00000000,\n+    0x4f6bb3f300000000, 0xe379932a00000000, 0x7d7939e600000000,\n+    0x9e7eb66800000000, 0x007e1ca400000000, 0x1977d9ae00000000,\n+    0x8777736200000000, 0x6470fcec00000000, 0xfa70562000000000,\n+    0x7d53cd8500000000, 0xe353674900000000, 0x0054e8c700000000,\n+    0x9e54420b00000000, 0x875d870100000000, 0x195d2dcd00000000,\n+    0xfa5aa24300000000, 0x645a088f00000000, 0xc848285600000000,\n+    0x5648829a00000000, 0xb54f0d1400000000, 0x2b4fa7d800000000,\n+    0x324662d200000000, 0xac46c81e00000000, 0x4f41479000000000,\n+    0xd141ed5c00000000, 0xedc29d2900000000, 0x73c237e500000000,\n+    0x90c5b86b00000000, 0x0ec512a700000000, 0x17ccd7ad00000000,\n+    0x89cc7d6100000000, 0x6acbf2ef00000000, 0xf4cb582300000000,\n+    0x58d978fa00000000, 0xc6d9d23600000000, 0x25de5db800000000,\n+    0xbbdef77400000000, 0xa2d7327e00000000, 0x3cd798b200000000,\n+    0xdfd0173c00000000, 0x41d0bdf000000000, 0xc6f3265500000000,\n+    0x58f38c9900000000, 0xbbf4031700000000, 0x25f4a9db00000000,\n+    0x3cfd6cd100000000, 0xa2fdc61d00000000, 0x41fa499300000000,\n+    0xdffae35f00000000, 0x73e8c38600000000, 0xede8694a00000000,\n+    0x0eefe6c400000000, 0x90ef4c0800000000, 0x89e6890200000000,\n+    0x17e623ce00000000, 0xf4e1ac4000000000, 0x6ae1068c00000000,\n+    0xbba0ebd000000000, 0x25a0411c00000000, 0xc6a7ce9200000000,\n+    0x58a7645e00000000, 0x41aea15400000000, 0xdfae0b9800000000,\n+    0x3ca9841600000000, 0xa2a92eda00000000, 0x0ebb0e0300000000,\n+    0x90bba4cf00000000, 0x73bc2b4100000000, 0xedbc818d00000000,\n+    0xf4b5448700000000, 0x6ab5ee4b00000000, 0x89b261c500000000,\n+    0x17b2cb0900000000, 0x909150ac00000000, 0x0e91fa6000000000,\n+    0xed9675ee00000000, 0x7396df2200000000, 0x6a9f1a2800000000,\n+    0xf49fb0e400000000, 0x17983f6a00000000, 0x899895a600000000,\n+    0x258ab57f00000000, 0xbb8a1fb300000000, 0x588d903d00000000,\n+    0xc68d3af100000000, 0xdf84fffb00000000, 0x4184553700000000,\n+    0xa283dab900000000, 0x3c83707500000000, 0xda853b5300000000,\n+    0x4485919f00000000, 0xa7821e1100000000, 0x3982b4dd00000000,\n+    0x208b71d700000000, 0xbe8bdb1b00000000, 0x5d8c549500000000,\n+    0xc38cfe5900000000, 0x6f9ede8000000000, 0xf19e744c00000000,\n+    0x1299fbc200000000, 0x8c99510e00000000, 0x9590940400000000,\n+    0x0b903ec800000000, 0xe897b14600000000, 0x76971b8a00000000,\n+    0xf1b4802f00000000, 0x6fb42ae300000000, 0x8cb3a56d00000000,\n+    0x12b30fa100000000, 0x0bbacaab00000000, 0x95ba606700000000,\n+    0x76bdefe900000000, 0xe8bd452500000000, 0x44af65fc00000000,\n+    0xdaafcf3000000000, 0x39a840be00000000, 0xa7a8ea7200000000,\n+    0xbea12f7800000000, 0x20a185b400000000, 0xc3a60a3a00000000,\n+    0x5da6a0f600000000, 0x8ce74daa00000000, 0x12e7e76600000000,\n+    0xf1e068e800000000, 0x6fe0c22400000000, 0x76e9072e00000000,\n+    0xe8e9ade200000000, 0x0bee226c00000000, 0x95ee88a000000000,\n+    0x39fca87900000000, 0xa7fc02b500000000, 0x44fb8d3b00000000,\n+    0xdafb27f700000000, 0xc3f2e2fd00000000, 0x5df2483100000000,\n+    0xbef5c7bf00000000, 0x20f56d7300000000, 0xa7d6f6d600000000,\n+    0x39d65c1a00000000, 0xdad1d39400000000, 0x44d1795800000000,\n+    0x5dd8bc5200000000, 0xc3d8169e00000000, 0x20df991000000000,\n+    0xbedf33dc00000000, 0x12cd130500000000, 0x8ccdb9c900000000,\n+    0x6fca364700000000, 0xf1ca9c8b00000000, 0xe8c3598100000000,\n+    0x76c3f34d00000000, 0x95c47cc300000000, 0x0bc4d60f00000000,\n+    0x3747a67a00000000, 0xa9470cb600000000, 0x4a40833800000000,\n+    0xd44029f400000000, 0xcd49ecfe00000000, 0x5349463200000000,\n+    0xb04ec9bc00000000, 0x2e4e637000000000, 0x825c43a900000000,\n+    0x1c5ce96500000000, 0xff5b66eb00000000, 0x615bcc2700000000,\n+    0x7852092d00000000, 0xe652a3e100000000, 0x05552c6f00000000,\n+    0x9b5586a300000000, 0x1c761d0600000000, 0x8276b7ca00000000,\n+    0x6171384400000000, 0xff71928800000000, 0xe678578200000000,\n+    0x7878fd4e00000000, 0x9b7f72c000000000, 0x057fd80c00000000,\n+    0xa96df8d500000000, 0x376d521900000000, 0xd46add9700000000,\n+    0x4a6a775b00000000, 0x5363b25100000000, 0xcd63189d00000000,\n+    0x2e64971300000000, 0xb0643ddf00000000, 0x6125d08300000000,\n+    0xff257a4f00000000, 0x1c22f5c100000000, 0x82225f0d00000000,\n+    0x9b2b9a0700000000, 0x052b30cb00000000, 0xe62cbf4500000000,\n+    0x782c158900000000, 0xd43e355000000000, 0x4a3e9f9c00000000,\n+    0xa939101200000000, 0x3739bade00000000, 0x2e307fd400000000,\n+    0xb030d51800000000, 0x53375a9600000000, 0xcd37f05a00000000,\n+    0x4a146bff00000000, 0xd414c13300000000, 0x37134ebd00000000,\n+    0xa913e47100000000, 0xb01a217b00000000, 0x2e1a8bb700000000,\n+    0xcd1d043900000000, 0x531daef500000000, 0xff0f8e2c00000000,\n+    0x610f24e000000000, 0x8208ab6e00000000, 0x1c0801a200000000,\n+    0x0501c4a800000000, 0x9b016e6400000000, 0x7806e1ea00000000,\n+    0xe6064b2600000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xb8bc6765, 0xaa09c88b, 0x12b5afee, 0x8f629757,\n+    0x37def032, 0x256b5fdc, 0x9dd738b9, 0xc5b428ef, 0x7d084f8a,\n+    0x6fbde064, 0xd7018701, 0x4ad6bfb8, 0xf26ad8dd, 0xe0df7733,\n+    0x58631056, 0x5019579f, 0xe8a530fa, 0xfa109f14, 0x42acf871,\n+    0xdf7bc0c8, 0x67c7a7ad, 0x75720843, 0xcdce6f26, 0x95ad7f70,\n+    0x2d111815, 0x3fa4b7fb, 0x8718d09e, 0x1acfe827, 0xa2738f42,\n+    0xb0c620ac, 0x087a47c9, 0xa032af3e, 0x188ec85b, 0x0a3b67b5,\n+    0xb28700d0, 0x2f503869, 0x97ec5f0c, 0x8559f0e2, 0x3de59787,\n+    0x658687d1, 0xdd3ae0b4, 0xcf8f4f5a, 0x7733283f, 0xeae41086,\n+    0x525877e3, 0x40edd80d, 0xf851bf68, 0xf02bf8a1, 0x48979fc4,\n+    0x5a22302a, 0xe29e574f, 0x7f496ff6, 0xc7f50893, 0xd540a77d,\n+    0x6dfcc018, 0x359fd04e, 0x8d23b72b, 0x9f9618c5, 0x272a7fa0,\n+    0xbafd4719, 0x0241207c, 0x10f48f92, 0xa848e8f7, 0x9b14583d,\n+    0x23a83f58, 0x311d90b6, 0x89a1f7d3, 0x1476cf6a, 0xaccaa80f,\n+    0xbe7f07e1, 0x06c36084, 0x5ea070d2, 0xe61c17b7, 0xf4a9b859,\n+    0x4c15df3c, 0xd1c2e785, 0x697e80e0, 0x7bcb2f0e, 0xc377486b,\n+    0xcb0d0fa2, 0x73b168c7, 0x6104c729, 0xd9b8a04c, 0x446f98f5,\n+    0xfcd3ff90, 0xee66507e, 0x56da371b, 0x0eb9274d, 0xb6054028,\n+    0xa4b0efc6, 0x1c0c88a3, 0x81dbb01a, 0x3967d77f, 0x2bd27891,\n+    0x936e1ff4, 0x3b26f703, 0x839a9066, 0x912f3f88, 0x299358ed,\n+    0xb4446054, 0x0cf80731, 0x1e4da8df, 0xa6f1cfba, 0xfe92dfec,\n+    0x462eb889, 0x549b1767, 0xec277002, 0x71f048bb, 0xc94c2fde,\n+    0xdbf98030, 0x6345e755, 0x6b3fa09c, 0xd383c7f9, 0xc1366817,\n+    0x798a0f72, 0xe45d37cb, 0x5ce150ae, 0x4e54ff40, 0xf6e89825,\n+    0xae8b8873, 0x1637ef16, 0x048240f8, 0xbc3e279d, 0x21e91f24,\n+    0x99557841, 0x8be0d7af, 0x335cb0ca, 0xed59b63b, 0x55e5d15e,\n+    0x47507eb0, 0xffec19d5, 0x623b216c, 0xda874609, 0xc832e9e7,\n+    0x708e8e82, 0x28ed9ed4, 0x9051f9b1, 0x82e4565f, 0x3a58313a,\n+    0xa78f0983, 0x1f336ee6, 0x0d86c108, 0xb53aa66d, 0xbd40e1a4,\n+    0x05fc86c1, 0x1749292f, 0xaff54e4a, 0x322276f3, 0x8a9e1196,\n+    0x982bbe78, 0x2097d91d, 0x78f4c94b, 0xc048ae2e, 0xd2fd01c0,\n+    0x6a4166a5, 0xf7965e1c, 0x4f2a3979, 0x5d9f9697, 0xe523f1f2,\n+    0x4d6b1905, 0xf5d77e60, 0xe762d18e, 0x5fdeb6eb, 0xc2098e52,\n+    0x7ab5e937, 0x680046d9, 0xd0bc21bc, 0x88df31ea, 0x3063568f,\n+    0x22d6f961, 0x9a6a9e04, 0x07bda6bd, 0xbf01c1d8, 0xadb46e36,\n+    0x15080953, 0x1d724e9a, 0xa5ce29ff, 0xb77b8611, 0x0fc7e174,\n+    0x9210d9cd, 0x2aacbea8, 0x38191146, 0x80a57623, 0xd8c66675,\n+    0x607a0110, 0x72cfaefe, 0xca73c99b, 0x57a4f122, 0xef189647,\n+    0xfdad39a9, 0x45115ecc, 0x764dee06, 0xcef18963, 0xdc44268d,\n+    0x64f841e8, 0xf92f7951, 0x41931e34, 0x5326b1da, 0xeb9ad6bf,\n+    0xb3f9c6e9, 0x0b45a18c, 0x19f00e62, 0xa14c6907, 0x3c9b51be,\n+    0x842736db, 0x96929935, 0x2e2efe50, 0x2654b999, 0x9ee8defc,\n+    0x8c5d7112, 0x34e11677, 0xa9362ece, 0x118a49ab, 0x033fe645,\n+    0xbb838120, 0xe3e09176, 0x5b5cf613, 0x49e959fd, 0xf1553e98,\n+    0x6c820621, 0xd43e6144, 0xc68bceaa, 0x7e37a9cf, 0xd67f4138,\n+    0x6ec3265d, 0x7c7689b3, 0xc4caeed6, 0x591dd66f, 0xe1a1b10a,\n+    0xf3141ee4, 0x4ba87981, 0x13cb69d7, 0xab770eb2, 0xb9c2a15c,\n+    0x017ec639, 0x9ca9fe80, 0x241599e5, 0x36a0360b, 0x8e1c516e,\n+    0x866616a7, 0x3eda71c2, 0x2c6fde2c, 0x94d3b949, 0x090481f0,\n+    0xb1b8e695, 0xa30d497b, 0x1bb12e1e, 0x43d23e48, 0xfb6e592d,\n+    0xe9dbf6c3, 0x516791a6, 0xccb0a91f, 0x740cce7a, 0x66b96194,\n+    0xde0506f1},\n+   {0x00000000, 0x01c26a37, 0x0384d46e, 0x0246be59, 0x0709a8dc,\n+    0x06cbc2eb, 0x048d7cb2, 0x054f1685, 0x0e1351b8, 0x0fd13b8f,\n+    0x0d9785d6, 0x0c55efe1, 0x091af964, 0x08d89353, 0x0a9e2d0a,\n+    0x0b5c473d, 0x1c26a370, 0x1de4c947, 0x1fa2771e, 0x1e601d29,\n+    0x1b2f0bac, 0x1aed619b, 0x18abdfc2, 0x1969b5f5, 0x1235f2c8,\n+    0x13f798ff, 0x11b126a6, 0x10734c91, 0x153c5a14, 0x14fe3023,\n+    0x16b88e7a, 0x177ae44d, 0x384d46e0, 0x398f2cd7, 0x3bc9928e,\n+    0x3a0bf8b9, 0x3f44ee3c, 0x3e86840b, 0x3cc03a52, 0x3d025065,\n+    0x365e1758, 0x379c7d6f, 0x35dac336, 0x3418a901, 0x3157bf84,\n+    0x3095d5b3, 0x32d36bea, 0x331101dd, 0x246be590, 0x25a98fa7,\n+    0x27ef31fe, 0x262d5bc9, 0x23624d4c, 0x22a0277b, 0x20e69922,\n+    0x2124f315, 0x2a78b428, 0x2bbade1f, 0x29fc6046, 0x283e0a71,\n+    0x2d711cf4, 0x2cb376c3, 0x2ef5c89a, 0x2f37a2ad, 0x709a8dc0,\n+    0x7158e7f7, 0x731e59ae, 0x72dc3399, 0x7793251c, 0x76514f2b,\n+    0x7417f172, 0x75d59b45, 0x7e89dc78, 0x7f4bb64f, 0x7d0d0816,\n+    0x7ccf6221, 0x798074a4, 0x78421e93, 0x7a04a0ca, 0x7bc6cafd,\n+    0x6cbc2eb0, 0x6d7e4487, 0x6f38fade, 0x6efa90e9, 0x6bb5866c,\n+    0x6a77ec5b, 0x68315202, 0x69f33835, 0x62af7f08, 0x636d153f,\n+    0x612bab66, 0x60e9c151, 0x65a6d7d4, 0x6464bde3, 0x662203ba,\n+    0x67e0698d, 0x48d7cb20, 0x4915a117, 0x4b531f4e, 0x4a917579,\n+    0x4fde63fc, 0x4e1c09cb, 0x4c5ab792, 0x4d98dda5, 0x46c49a98,\n+    0x4706f0af, 0x45404ef6, 0x448224c1, 0x41cd3244, 0x400f5873,\n+    0x4249e62a, 0x438b8c1d, 0x54f16850, 0x55330267, 0x5775bc3e,\n+    0x56b7d609, 0x53f8c08c, 0x523aaabb, 0x507c14e2, 0x51be7ed5,\n+    0x5ae239e8, 0x5b2053df, 0x5966ed86, 0x58a487b1, 0x5deb9134,\n+    0x5c29fb03, 0x5e6f455a, 0x5fad2f6d, 0xe1351b80, 0xe0f771b7,\n+    0xe2b1cfee, 0xe373a5d9, 0xe63cb35c, 0xe7fed96b, 0xe5b86732,\n+    0xe47a0d05, 0xef264a38, 0xeee4200f, 0xeca29e56, 0xed60f461,\n+    0xe82fe2e4, 0xe9ed88d3, 0xebab368a, 0xea695cbd, 0xfd13b8f0,\n+    0xfcd1d2c7, 0xfe976c9e, 0xff5506a9, 0xfa1a102c, 0xfbd87a1b,\n+    0xf99ec442, 0xf85cae75, 0xf300e948, 0xf2c2837f, 0xf0843d26,\n+    0xf1465711, 0xf4094194, 0xf5cb2ba3, 0xf78d95fa, 0xf64fffcd,\n+    0xd9785d60, 0xd8ba3757, 0xdafc890e, 0xdb3ee339, 0xde71f5bc,\n+    0xdfb39f8b, 0xddf521d2, 0xdc374be5, 0xd76b0cd8, 0xd6a966ef,\n+    0xd4efd8b6, 0xd52db281, 0xd062a404, 0xd1a0ce33, 0xd3e6706a,\n+    0xd2241a5d, 0xc55efe10, 0xc49c9427, 0xc6da2a7e, 0xc7184049,\n+    0xc25756cc, 0xc3953cfb, 0xc1d382a2, 0xc011e895, 0xcb4dafa8,\n+    0xca8fc59f, 0xc8c97bc6, 0xc90b11f1, 0xcc440774, 0xcd866d43,\n+    0xcfc0d31a, 0xce02b92d, 0x91af9640, 0x906dfc77, 0x922b422e,\n+    0x93e92819, 0x96a63e9c, 0x976454ab, 0x9522eaf2, 0x94e080c5,\n+    0x9fbcc7f8, 0x9e7eadcf, 0x9c381396, 0x9dfa79a1, 0x98b56f24,\n+    0x99770513, 0x9b31bb4a, 0x9af3d17d, 0x8d893530, 0x8c4b5f07,\n+    0x8e0de15e, 0x8fcf8b69, 0x8a809dec, 0x8b42f7db, 0x89044982,\n+    0x88c623b5, 0x839a6488, 0x82580ebf, 0x801eb0e6, 0x81dcdad1,\n+    0x8493cc54, 0x8551a663, 0x8717183a, 0x86d5720d, 0xa9e2d0a0,\n+    0xa820ba97, 0xaa6604ce, 0xaba46ef9, 0xaeeb787c, 0xaf29124b,\n+    0xad6fac12, 0xacadc625, 0xa7f18118, 0xa633eb2f, 0xa4755576,\n+    0xa5b73f41, 0xa0f829c4, 0xa13a43f3, 0xa37cfdaa, 0xa2be979d,\n+    0xb5c473d0, 0xb40619e7, 0xb640a7be, 0xb782cd89, 0xb2cddb0c,\n+    0xb30fb13b, 0xb1490f62, 0xb08b6555, 0xbbd72268, 0xba15485f,\n+    0xb853f606, 0xb9919c31, 0xbcde8ab4, 0xbd1ce083, 0xbf5a5eda,\n+    0xbe9834ed},\n+   {0x00000000, 0x191b3141, 0x32366282, 0x2b2d53c3, 0x646cc504,\n+    0x7d77f445, 0x565aa786, 0x4f4196c7, 0xc8d98a08, 0xd1c2bb49,\n+    0xfaefe88a, 0xe3f4d9cb, 0xacb54f0c, 0xb5ae7e4d, 0x9e832d8e,\n+    0x87981ccf, 0x4ac21251, 0x53d92310, 0x78f470d3, 0x61ef4192,\n+    0x2eaed755, 0x37b5e614, 0x1c98b5d7, 0x05838496, 0x821b9859,\n+    0x9b00a918, 0xb02dfadb, 0xa936cb9a, 0xe6775d5d, 0xff6c6c1c,\n+    0xd4413fdf, 0xcd5a0e9e, 0x958424a2, 0x8c9f15e3, 0xa7b24620,\n+    0xbea97761, 0xf1e8e1a6, 0xe8f3d0e7, 0xc3de8324, 0xdac5b265,\n+    0x5d5daeaa, 0x44469feb, 0x6f6bcc28, 0x7670fd69, 0x39316bae,\n+    0x202a5aef, 0x0b07092c, 0x121c386d, 0xdf4636f3, 0xc65d07b2,\n+    0xed705471, 0xf46b6530, 0xbb2af3f7, 0xa231c2b6, 0x891c9175,\n+    0x9007a034, 0x179fbcfb, 0x0e848dba, 0x25a9de79, 0x3cb2ef38,\n+    0x73f379ff, 0x6ae848be, 0x41c51b7d, 0x58de2a3c, 0xf0794f05,\n+    0xe9627e44, 0xc24f2d87, 0xdb541cc6, 0x94158a01, 0x8d0ebb40,\n+    0xa623e883, 0xbf38d9c2, 0x38a0c50d, 0x21bbf44c, 0x0a96a78f,\n+    0x138d96ce, 0x5ccc0009, 0x45d73148, 0x6efa628b, 0x77e153ca,\n+    0xbabb5d54, 0xa3a06c15, 0x888d3fd6, 0x91960e97, 0xded79850,\n+    0xc7cca911, 0xece1fad2, 0xf5facb93, 0x7262d75c, 0x6b79e61d,\n+    0x4054b5de, 0x594f849f, 0x160e1258, 0x0f152319, 0x243870da,\n+    0x3d23419b, 0x65fd6ba7, 0x7ce65ae6, 0x57cb0925, 0x4ed03864,\n+    0x0191aea3, 0x188a9fe2, 0x33a7cc21, 0x2abcfd60, 0xad24e1af,\n+    0xb43fd0ee, 0x9f12832d, 0x8609b26c, 0xc94824ab, 0xd05315ea,\n+    0xfb7e4629, 0xe2657768, 0x2f3f79f6, 0x362448b7, 0x1d091b74,\n+    0x04122a35, 0x4b53bcf2, 0x52488db3, 0x7965de70, 0x607eef31,\n+    0xe7e6f3fe, 0xfefdc2bf, 0xd5d0917c, 0xcccba03d, 0x838a36fa,\n+    0x9a9107bb, 0xb1bc5478, 0xa8a76539, 0x3b83984b, 0x2298a90a,\n+    0x09b5fac9, 0x10aecb88, 0x5fef5d4f, 0x46f46c0e, 0x6dd93fcd,\n+    0x74c20e8c, 0xf35a1243, 0xea412302, 0xc16c70c1, 0xd8774180,\n+    0x9736d747, 0x8e2de606, 0xa500b5c5, 0xbc1b8484, 0x71418a1a,\n+    0x685abb5b, 0x4377e898, 0x5a6cd9d9, 0x152d4f1e, 0x0c367e5f,\n+    0x271b2d9c, 0x3e001cdd, 0xb9980012, 0xa0833153, 0x8bae6290,\n+    0x92b553d1, 0xddf4c516, 0xc4eff457, 0xefc2a794, 0xf6d996d5,\n+    0xae07bce9, 0xb71c8da8, 0x9c31de6b, 0x852aef2a, 0xca6b79ed,\n+    0xd37048ac, 0xf85d1b6f, 0xe1462a2e, 0x66de36e1, 0x7fc507a0,\n+    0x54e85463, 0x4df36522, 0x02b2f3e5, 0x1ba9c2a4, 0x30849167,\n+    0x299fa026, 0xe4c5aeb8, 0xfdde9ff9, 0xd6f3cc3a, 0xcfe8fd7b,\n+    0x80a96bbc, 0x99b25afd, 0xb29f093e, 0xab84387f, 0x2c1c24b0,\n+    0x350715f1, 0x1e2a4632, 0x07317773, 0x4870e1b4, 0x516bd0f5,\n+    0x7a468336, 0x635db277, 0xcbfad74e, 0xd2e1e60f, 0xf9ccb5cc,\n+    0xe0d7848d, 0xaf96124a, 0xb68d230b, 0x9da070c8, 0x84bb4189,\n+    0x03235d46, 0x1a386c07, 0x31153fc4, 0x280e0e85, 0x674f9842,\n+    0x7e54a903, 0x5579fac0, 0x4c62cb81, 0x8138c51f, 0x9823f45e,\n+    0xb30ea79d, 0xaa1596dc, 0xe554001b, 0xfc4f315a, 0xd7626299,\n+    0xce7953d8, 0x49e14f17, 0x50fa7e56, 0x7bd72d95, 0x62cc1cd4,\n+    0x2d8d8a13, 0x3496bb52, 0x1fbbe891, 0x06a0d9d0, 0x5e7ef3ec,\n+    0x4765c2ad, 0x6c48916e, 0x7553a02f, 0x3a1236e8, 0x230907a9,\n+    0x0824546a, 0x113f652b, 0x96a779e4, 0x8fbc48a5, 0xa4911b66,\n+    0xbd8a2a27, 0xf2cbbce0, 0xebd08da1, 0xc0fdde62, 0xd9e6ef23,\n+    0x14bce1bd, 0x0da7d0fc, 0x268a833f, 0x3f91b27e, 0x70d024b9,\n+    0x69cb15f8, 0x42e6463b, 0x5bfd777a, 0xdc656bb5, 0xc57e5af4,\n+    0xee530937, 0xf7483876, 0xb809aeb1, 0xa1129ff0, 0x8a3fcc33,\n+    0x9324fd72},\n+   {0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\n+    0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\n+    0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\n+    0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\n+    0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\n+    0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n+    0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\n+    0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n+    0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\n+    0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\n+    0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\n+    0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n+    0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\n+    0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\n+    0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\n+    0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n+    0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\n+    0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n+    0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\n+    0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\n+    0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\n+    0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\n+    0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\n+    0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n+    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\n+    0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\n+    0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\n+    0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\n+    0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\n+    0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n+    0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\n+    0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n+    0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\n+    0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\n+    0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\n+    0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n+    0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\n+    0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\n+    0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\n+    0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n+    0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\n+    0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n+    0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\n+    0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\n+    0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\n+    0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\n+    0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\n+    0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n+    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\n+    0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\n+    0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\n+    0x2d02ef8d}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0x96300777, 0x2c610eee, 0xba510999, 0x19c46d07,\n+    0x8ff46a70, 0x35a563e9, 0xa395649e, 0x3288db0e, 0xa4b8dc79,\n+    0x1ee9d5e0, 0x88d9d297, 0x2b4cb609, 0xbd7cb17e, 0x072db8e7,\n+    0x911dbf90, 0x6410b71d, 0xf220b06a, 0x4871b9f3, 0xde41be84,\n+    0x7dd4da1a, 0xebe4dd6d, 0x51b5d4f4, 0xc785d383, 0x56986c13,\n+    0xc0a86b64, 0x7af962fd, 0xecc9658a, 0x4f5c0114, 0xd96c0663,\n+    0x633d0ffa, 0xf50d088d, 0xc8206e3b, 0x5e10694c, 0xe44160d5,\n+    0x727167a2, 0xd1e4033c, 0x47d4044b, 0xfd850dd2, 0x6bb50aa5,\n+    0xfaa8b535, 0x6c98b242, 0xd6c9bbdb, 0x40f9bcac, 0xe36cd832,\n+    0x755cdf45, 0xcf0dd6dc, 0x593dd1ab, 0xac30d926, 0x3a00de51,\n+    0x8051d7c8, 0x1661d0bf, 0xb5f4b421, 0x23c4b356, 0x9995bacf,\n+    0x0fa5bdb8, 0x9eb80228, 0x0888055f, 0xb2d90cc6, 0x24e90bb1,\n+    0x877c6f2f, 0x114c6858, 0xab1d61c1, 0x3d2d66b6, 0x9041dc76,\n+    0x0671db01, 0xbc20d298, 0x2a10d5ef, 0x8985b171, 0x1fb5b606,\n+    0xa5e4bf9f, 0x33d4b8e8, 0xa2c90778, 0x34f9000f, 0x8ea80996,\n+    0x18980ee1, 0xbb0d6a7f, 0x2d3d6d08, 0x976c6491, 0x015c63e6,\n+    0xf4516b6b, 0x62616c1c, 0xd8306585, 0x4e0062f2, 0xed95066c,\n+    0x7ba5011b, 0xc1f40882, 0x57c40ff5, 0xc6d9b065, 0x50e9b712,\n+    0xeab8be8b, 0x7c88b9fc, 0xdf1ddd62, 0x492dda15, 0xf37cd38c,\n+    0x654cd4fb, 0x5861b24d, 0xce51b53a, 0x7400bca3, 0xe230bbd4,\n+    0x41a5df4a, 0xd795d83d, 0x6dc4d1a4, 0xfbf4d6d3, 0x6ae96943,\n+    0xfcd96e34, 0x468867ad, 0xd0b860da, 0x732d0444, 0xe51d0333,\n+    0x5f4c0aaa, 0xc97c0ddd, 0x3c710550, 0xaa410227, 0x10100bbe,\n+    0x86200cc9, 0x25b56857, 0xb3856f20, 0x09d466b9, 0x9fe461ce,\n+    0x0ef9de5e, 0x98c9d929, 0x2298d0b0, 0xb4a8d7c7, 0x173db359,\n+    0x810db42e, 0x3b5cbdb7, 0xad6cbac0, 0x2083b8ed, 0xb6b3bf9a,\n+    0x0ce2b603, 0x9ad2b174, 0x3947d5ea, 0xaf77d29d, 0x1526db04,\n+    0x8316dc73, 0x120b63e3, 0x843b6494, 0x3e6a6d0d, 0xa85a6a7a,\n+    0x0bcf0ee4, 0x9dff0993, 0x27ae000a, 0xb19e077d, 0x44930ff0,\n+    0xd2a30887, 0x68f2011e, 0xfec20669, 0x5d5762f7, 0xcb676580,\n+    0x71366c19, 0xe7066b6e, 0x761bd4fe, 0xe02bd389, 0x5a7ada10,\n+    0xcc4add67, 0x6fdfb9f9, 0xf9efbe8e, 0x43beb717, 0xd58eb060,\n+    0xe8a3d6d6, 0x7e93d1a1, 0xc4c2d838, 0x52f2df4f, 0xf167bbd1,\n+    0x6757bca6, 0xdd06b53f, 0x4b36b248, 0xda2b0dd8, 0x4c1b0aaf,\n+    0xf64a0336, 0x607a0441, 0xc3ef60df, 0x55df67a8, 0xef8e6e31,\n+    0x79be6946, 0x8cb361cb, 0x1a8366bc, 0xa0d26f25, 0x36e26852,\n+    0x95770ccc, 0x03470bbb, 0xb9160222, 0x2f260555, 0xbe3bbac5,\n+    0x280bbdb2, 0x925ab42b, 0x046ab35c, 0xa7ffd7c2, 0x31cfd0b5,\n+    0x8b9ed92c, 0x1daede5b, 0xb0c2649b, 0x26f263ec, 0x9ca36a75,\n+    0x0a936d02, 0xa906099c, 0x3f360eeb, 0x85670772, 0x13570005,\n+    0x824abf95, 0x147ab8e2, 0xae2bb17b, 0x381bb60c, 0x9b8ed292,\n+    0x0dbed5e5, 0xb7efdc7c, 0x21dfdb0b, 0xd4d2d386, 0x42e2d4f1,\n+    0xf8b3dd68, 0x6e83da1f, 0xcd16be81, 0x5b26b9f6, 0xe177b06f,\n+    0x7747b718, 0xe65a0888, 0x706a0fff, 0xca3b0666, 0x5c0b0111,\n+    0xff9e658f, 0x69ae62f8, 0xd3ff6b61, 0x45cf6c16, 0x78e20aa0,\n+    0xeed20dd7, 0x5483044e, 0xc2b30339, 0x612667a7, 0xf71660d0,\n+    0x4d476949, 0xdb776e3e, 0x4a6ad1ae, 0xdc5ad6d9, 0x660bdf40,\n+    0xf03bd837, 0x53aebca9, 0xc59ebbde, 0x7fcfb247, 0xe9ffb530,\n+    0x1cf2bdbd, 0x8ac2baca, 0x3093b353, 0xa6a3b424, 0x0536d0ba,\n+    0x9306d7cd, 0x2957de54, 0xbf67d923, 0x2e7a66b3, 0xb84a61c4,\n+    0x021b685d, 0x942b6f2a, 0x37be0bb4, 0xa18e0cc3, 0x1bdf055a,\n+    0x8def022d},\n+   {0x00000000, 0x41311b19, 0x82623632, 0xc3532d2b, 0x04c56c64,\n+    0x45f4777d, 0x86a75a56, 0xc796414f, 0x088ad9c8, 0x49bbc2d1,\n+    0x8ae8effa, 0xcbd9f4e3, 0x0c4fb5ac, 0x4d7eaeb5, 0x8e2d839e,\n+    0xcf1c9887, 0x5112c24a, 0x1023d953, 0xd370f478, 0x9241ef61,\n+    0x55d7ae2e, 0x14e6b537, 0xd7b5981c, 0x96848305, 0x59981b82,\n+    0x18a9009b, 0xdbfa2db0, 0x9acb36a9, 0x5d5d77e6, 0x1c6c6cff,\n+    0xdf3f41d4, 0x9e0e5acd, 0xa2248495, 0xe3159f8c, 0x2046b2a7,\n+    0x6177a9be, 0xa6e1e8f1, 0xe7d0f3e8, 0x2483dec3, 0x65b2c5da,\n+    0xaaae5d5d, 0xeb9f4644, 0x28cc6b6f, 0x69fd7076, 0xae6b3139,\n+    0xef5a2a20, 0x2c09070b, 0x6d381c12, 0xf33646df, 0xb2075dc6,\n+    0x715470ed, 0x30656bf4, 0xf7f32abb, 0xb6c231a2, 0x75911c89,\n+    0x34a00790, 0xfbbc9f17, 0xba8d840e, 0x79dea925, 0x38efb23c,\n+    0xff79f373, 0xbe48e86a, 0x7d1bc541, 0x3c2ade58, 0x054f79f0,\n+    0x447e62e9, 0x872d4fc2, 0xc61c54db, 0x018a1594, 0x40bb0e8d,\n+    0x83e823a6, 0xc2d938bf, 0x0dc5a038, 0x4cf4bb21, 0x8fa7960a,\n+    0xce968d13, 0x0900cc5c, 0x4831d745, 0x8b62fa6e, 0xca53e177,\n+    0x545dbbba, 0x156ca0a3, 0xd63f8d88, 0x970e9691, 0x5098d7de,\n+    0x11a9ccc7, 0xd2fae1ec, 0x93cbfaf5, 0x5cd76272, 0x1de6796b,\n+    0xdeb55440, 0x9f844f59, 0x58120e16, 0x1923150f, 0xda703824,\n+    0x9b41233d, 0xa76bfd65, 0xe65ae67c, 0x2509cb57, 0x6438d04e,\n+    0xa3ae9101, 0xe29f8a18, 0x21cca733, 0x60fdbc2a, 0xafe124ad,\n+    0xeed03fb4, 0x2d83129f, 0x6cb20986, 0xab2448c9, 0xea1553d0,\n+    0x29467efb, 0x687765e2, 0xf6793f2f, 0xb7482436, 0x741b091d,\n+    0x352a1204, 0xf2bc534b, 0xb38d4852, 0x70de6579, 0x31ef7e60,\n+    0xfef3e6e7, 0xbfc2fdfe, 0x7c91d0d5, 0x3da0cbcc, 0xfa368a83,\n+    0xbb07919a, 0x7854bcb1, 0x3965a7a8, 0x4b98833b, 0x0aa99822,\n+    0xc9fab509, 0x88cbae10, 0x4f5def5f, 0x0e6cf446, 0xcd3fd96d,\n+    0x8c0ec274, 0x43125af3, 0x022341ea, 0xc1706cc1, 0x804177d8,\n+    0x47d73697, 0x06e62d8e, 0xc5b500a5, 0x84841bbc, 0x1a8a4171,\n+    0x5bbb5a68, 0x98e87743, 0xd9d96c5a, 0x1e4f2d15, 0x5f7e360c,\n+    0x9c2d1b27, 0xdd1c003e, 0x120098b9, 0x533183a0, 0x9062ae8b,\n+    0xd153b592, 0x16c5f4dd, 0x57f4efc4, 0x94a7c2ef, 0xd596d9f6,\n+    0xe9bc07ae, 0xa88d1cb7, 0x6bde319c, 0x2aef2a85, 0xed796bca,\n+    0xac4870d3, 0x6f1b5df8, 0x2e2a46e1, 0xe136de66, 0xa007c57f,\n+    0x6354e854, 0x2265f34d, 0xe5f3b202, 0xa4c2a91b, 0x67918430,\n+    0x26a09f29, 0xb8aec5e4, 0xf99fdefd, 0x3accf3d6, 0x7bfde8cf,\n+    0xbc6ba980, 0xfd5ab299, 0x3e099fb2, 0x7f3884ab, 0xb0241c2c,\n+    0xf1150735, 0x32462a1e, 0x73773107, 0xb4e17048, 0xf5d06b51,\n+    0x3683467a, 0x77b25d63, 0x4ed7facb, 0x0fe6e1d2, 0xccb5ccf9,\n+    0x8d84d7e0, 0x4a1296af, 0x0b238db6, 0xc870a09d, 0x8941bb84,\n+    0x465d2303, 0x076c381a, 0xc43f1531, 0x850e0e28, 0x42984f67,\n+    0x03a9547e, 0xc0fa7955, 0x81cb624c, 0x1fc53881, 0x5ef42398,\n+    0x9da70eb3, 0xdc9615aa, 0x1b0054e5, 0x5a314ffc, 0x996262d7,\n+    0xd85379ce, 0x174fe149, 0x567efa50, 0x952dd77b, 0xd41ccc62,\n+    0x138a8d2d, 0x52bb9634, 0x91e8bb1f, 0xd0d9a006, 0xecf37e5e,\n+    0xadc26547, 0x6e91486c, 0x2fa05375, 0xe836123a, 0xa9070923,\n+    0x6a542408, 0x2b653f11, 0xe479a796, 0xa548bc8f, 0x661b91a4,\n+    0x272a8abd, 0xe0bccbf2, 0xa18dd0eb, 0x62defdc0, 0x23efe6d9,\n+    0xbde1bc14, 0xfcd0a70d, 0x3f838a26, 0x7eb2913f, 0xb924d070,\n+    0xf815cb69, 0x3b46e642, 0x7a77fd5b, 0xb56b65dc, 0xf45a7ec5,\n+    0x370953ee, 0x763848f7, 0xb1ae09b8, 0xf09f12a1, 0x33cc3f8a,\n+    0x72fd2493},\n+   {0x00000000, 0x376ac201, 0x6ed48403, 0x59be4602, 0xdca80907,\n+    0xebc2cb06, 0xb27c8d04, 0x85164f05, 0xb851130e, 0x8f3bd10f,\n+    0xd685970d, 0xe1ef550c, 0x64f91a09, 0x5393d808, 0x0a2d9e0a,\n+    0x3d475c0b, 0x70a3261c, 0x47c9e41d, 0x1e77a21f, 0x291d601e,\n+    0xac0b2f1b, 0x9b61ed1a, 0xc2dfab18, 0xf5b56919, 0xc8f23512,\n+    0xff98f713, 0xa626b111, 0x914c7310, 0x145a3c15, 0x2330fe14,\n+    0x7a8eb816, 0x4de47a17, 0xe0464d38, 0xd72c8f39, 0x8e92c93b,\n+    0xb9f80b3a, 0x3cee443f, 0x0b84863e, 0x523ac03c, 0x6550023d,\n+    0x58175e36, 0x6f7d9c37, 0x36c3da35, 0x01a91834, 0x84bf5731,\n+    0xb3d59530, 0xea6bd332, 0xdd011133, 0x90e56b24, 0xa78fa925,\n+    0xfe31ef27, 0xc95b2d26, 0x4c4d6223, 0x7b27a022, 0x2299e620,\n+    0x15f32421, 0x28b4782a, 0x1fdeba2b, 0x4660fc29, 0x710a3e28,\n+    0xf41c712d, 0xc376b32c, 0x9ac8f52e, 0xada2372f, 0xc08d9a70,\n+    0xf7e75871, 0xae591e73, 0x9933dc72, 0x1c259377, 0x2b4f5176,\n+    0x72f11774, 0x459bd575, 0x78dc897e, 0x4fb64b7f, 0x16080d7d,\n+    0x2162cf7c, 0xa4748079, 0x931e4278, 0xcaa0047a, 0xfdcac67b,\n+    0xb02ebc6c, 0x87447e6d, 0xdefa386f, 0xe990fa6e, 0x6c86b56b,\n+    0x5bec776a, 0x02523168, 0x3538f369, 0x087faf62, 0x3f156d63,\n+    0x66ab2b61, 0x51c1e960, 0xd4d7a665, 0xe3bd6464, 0xba032266,\n+    0x8d69e067, 0x20cbd748, 0x17a11549, 0x4e1f534b, 0x7975914a,\n+    0xfc63de4f, 0xcb091c4e, 0x92b75a4c, 0xa5dd984d, 0x989ac446,\n+    0xaff00647, 0xf64e4045, 0xc1248244, 0x4432cd41, 0x73580f40,\n+    0x2ae64942, 0x1d8c8b43, 0x5068f154, 0x67023355, 0x3ebc7557,\n+    0x09d6b756, 0x8cc0f853, 0xbbaa3a52, 0xe2147c50, 0xd57ebe51,\n+    0xe839e25a, 0xdf53205b, 0x86ed6659, 0xb187a458, 0x3491eb5d,\n+    0x03fb295c, 0x5a456f5e, 0x6d2fad5f, 0x801b35e1, 0xb771f7e0,\n+    0xeecfb1e2, 0xd9a573e3, 0x5cb33ce6, 0x6bd9fee7, 0x3267b8e5,\n+    0x050d7ae4, 0x384a26ef, 0x0f20e4ee, 0x569ea2ec, 0x61f460ed,\n+    0xe4e22fe8, 0xd388ede9, 0x8a36abeb, 0xbd5c69ea, 0xf0b813fd,\n+    0xc7d2d1fc, 0x9e6c97fe, 0xa90655ff, 0x2c101afa, 0x1b7ad8fb,\n+    0x42c49ef9, 0x75ae5cf8, 0x48e900f3, 0x7f83c2f2, 0x263d84f0,\n+    0x115746f1, 0x944109f4, 0xa32bcbf5, 0xfa958df7, 0xcdff4ff6,\n+    0x605d78d9, 0x5737bad8, 0x0e89fcda, 0x39e33edb, 0xbcf571de,\n+    0x8b9fb3df, 0xd221f5dd, 0xe54b37dc, 0xd80c6bd7, 0xef66a9d6,\n+    0xb6d8efd4, 0x81b22dd5, 0x04a462d0, 0x33cea0d1, 0x6a70e6d3,\n+    0x5d1a24d2, 0x10fe5ec5, 0x27949cc4, 0x7e2adac6, 0x494018c7,\n+    0xcc5657c2, 0xfb3c95c3, 0xa282d3c1, 0x95e811c0, 0xa8af4dcb,\n+    0x9fc58fca, 0xc67bc9c8, 0xf1110bc9, 0x740744cc, 0x436d86cd,\n+    0x1ad3c0cf, 0x2db902ce, 0x4096af91, 0x77fc6d90, 0x2e422b92,\n+    0x1928e993, 0x9c3ea696, 0xab546497, 0xf2ea2295, 0xc580e094,\n+    0xf8c7bc9f, 0xcfad7e9e, 0x9613389c, 0xa179fa9d, 0x246fb598,\n+    0x13057799, 0x4abb319b, 0x7dd1f39a, 0x3035898d, 0x075f4b8c,\n+    0x5ee10d8e, 0x698bcf8f, 0xec9d808a, 0xdbf7428b, 0x82490489,\n+    0xb523c688, 0x88649a83, 0xbf0e5882, 0xe6b01e80, 0xd1dadc81,\n+    0x54cc9384, 0x63a65185, 0x3a181787, 0x0d72d586, 0xa0d0e2a9,\n+    0x97ba20a8, 0xce0466aa, 0xf96ea4ab, 0x7c78ebae, 0x4b1229af,\n+    0x12ac6fad, 0x25c6adac, 0x1881f1a7, 0x2feb33a6, 0x765575a4,\n+    0x413fb7a5, 0xc429f8a0, 0xf3433aa1, 0xaafd7ca3, 0x9d97bea2,\n+    0xd073c4b5, 0xe71906b4, 0xbea740b6, 0x89cd82b7, 0x0cdbcdb2,\n+    0x3bb10fb3, 0x620f49b1, 0x55658bb0, 0x6822d7bb, 0x5f4815ba,\n+    0x06f653b8, 0x319c91b9, 0xb48adebc, 0x83e01cbd, 0xda5e5abf,\n+    0xed3498be},\n+   {0x00000000, 0x6567bcb8, 0x8bc809aa, 0xeeafb512, 0x5797628f,\n+    0x32f0de37, 0xdc5f6b25, 0xb938d79d, 0xef28b4c5, 0x8a4f087d,\n+    0x64e0bd6f, 0x018701d7, 0xb8bfd64a, 0xddd86af2, 0x3377dfe0,\n+    0x56106358, 0x9f571950, 0xfa30a5e8, 0x149f10fa, 0x71f8ac42,\n+    0xc8c07bdf, 0xada7c767, 0x43087275, 0x266fcecd, 0x707fad95,\n+    0x1518112d, 0xfbb7a43f, 0x9ed01887, 0x27e8cf1a, 0x428f73a2,\n+    0xac20c6b0, 0xc9477a08, 0x3eaf32a0, 0x5bc88e18, 0xb5673b0a,\n+    0xd00087b2, 0x6938502f, 0x0c5fec97, 0xe2f05985, 0x8797e53d,\n+    0xd1878665, 0xb4e03add, 0x5a4f8fcf, 0x3f283377, 0x8610e4ea,\n+    0xe3775852, 0x0dd8ed40, 0x68bf51f8, 0xa1f82bf0, 0xc49f9748,\n+    0x2a30225a, 0x4f579ee2, 0xf66f497f, 0x9308f5c7, 0x7da740d5,\n+    0x18c0fc6d, 0x4ed09f35, 0x2bb7238d, 0xc518969f, 0xa07f2a27,\n+    0x1947fdba, 0x7c204102, 0x928ff410, 0xf7e848a8, 0x3d58149b,\n+    0x583fa823, 0xb6901d31, 0xd3f7a189, 0x6acf7614, 0x0fa8caac,\n+    0xe1077fbe, 0x8460c306, 0xd270a05e, 0xb7171ce6, 0x59b8a9f4,\n+    0x3cdf154c, 0x85e7c2d1, 0xe0807e69, 0x0e2fcb7b, 0x6b4877c3,\n+    0xa20f0dcb, 0xc768b173, 0x29c70461, 0x4ca0b8d9, 0xf5986f44,\n+    0x90ffd3fc, 0x7e5066ee, 0x1b37da56, 0x4d27b90e, 0x284005b6,\n+    0xc6efb0a4, 0xa3880c1c, 0x1ab0db81, 0x7fd76739, 0x9178d22b,\n+    0xf41f6e93, 0x03f7263b, 0x66909a83, 0x883f2f91, 0xed589329,\n+    0x546044b4, 0x3107f80c, 0xdfa84d1e, 0xbacff1a6, 0xecdf92fe,\n+    0x89b82e46, 0x67179b54, 0x027027ec, 0xbb48f071, 0xde2f4cc9,\n+    0x3080f9db, 0x55e74563, 0x9ca03f6b, 0xf9c783d3, 0x176836c1,\n+    0x720f8a79, 0xcb375de4, 0xae50e15c, 0x40ff544e, 0x2598e8f6,\n+    0x73888bae, 0x16ef3716, 0xf8408204, 0x9d273ebc, 0x241fe921,\n+    0x41785599, 0xafd7e08b, 0xcab05c33, 0x3bb659ed, 0x5ed1e555,\n+    0xb07e5047, 0xd519ecff, 0x6c213b62, 0x094687da, 0xe7e932c8,\n+    0x828e8e70, 0xd49eed28, 0xb1f95190, 0x5f56e482, 0x3a31583a,\n+    0x83098fa7, 0xe66e331f, 0x08c1860d, 0x6da63ab5, 0xa4e140bd,\n+    0xc186fc05, 0x2f294917, 0x4a4ef5af, 0xf3762232, 0x96119e8a,\n+    0x78be2b98, 0x1dd99720, 0x4bc9f478, 0x2eae48c0, 0xc001fdd2,\n+    0xa566416a, 0x1c5e96f7, 0x79392a4f, 0x97969f5d, 0xf2f123e5,\n+    0x05196b4d, 0x607ed7f5, 0x8ed162e7, 0xebb6de5f, 0x528e09c2,\n+    0x37e9b57a, 0xd9460068, 0xbc21bcd0, 0xea31df88, 0x8f566330,\n+    0x61f9d622, 0x049e6a9a, 0xbda6bd07, 0xd8c101bf, 0x366eb4ad,\n+    0x53090815, 0x9a4e721d, 0xff29cea5, 0x11867bb7, 0x74e1c70f,\n+    0xcdd91092, 0xa8beac2a, 0x46111938, 0x2376a580, 0x7566c6d8,\n+    0x10017a60, 0xfeaecf72, 0x9bc973ca, 0x22f1a457, 0x479618ef,\n+    0xa939adfd, 0xcc5e1145, 0x06ee4d76, 0x6389f1ce, 0x8d2644dc,\n+    0xe841f864, 0x51792ff9, 0x341e9341, 0xdab12653, 0xbfd69aeb,\n+    0xe9c6f9b3, 0x8ca1450b, 0x620ef019, 0x07694ca1, 0xbe519b3c,\n+    0xdb362784, 0x35999296, 0x50fe2e2e, 0x99b95426, 0xfcdee89e,\n+    0x12715d8c, 0x7716e134, 0xce2e36a9, 0xab498a11, 0x45e63f03,\n+    0x208183bb, 0x7691e0e3, 0x13f65c5b, 0xfd59e949, 0x983e55f1,\n+    0x2106826c, 0x44613ed4, 0xaace8bc6, 0xcfa9377e, 0x38417fd6,\n+    0x5d26c36e, 0xb389767c, 0xd6eecac4, 0x6fd61d59, 0x0ab1a1e1,\n+    0xe41e14f3, 0x8179a84b, 0xd769cb13, 0xb20e77ab, 0x5ca1c2b9,\n+    0x39c67e01, 0x80fea99c, 0xe5991524, 0x0b36a036, 0x6e511c8e,\n+    0xa7166686, 0xc271da3e, 0x2cde6f2c, 0x49b9d394, 0xf0810409,\n+    0x95e6b8b1, 0x7b490da3, 0x1e2eb11b, 0x483ed243, 0x2d596efb,\n+    0xc3f6dbe9, 0xa6916751, 0x1fa9b0cc, 0x7ace0c74, 0x9461b966,\n+    0xf10605de}};\n+\n+#endif\n+\n+#endif\n+\n+#if N == 2\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xae689191, 0x87a02563, 0x29c8b4f2, 0xd4314c87,\n+    0x7a59dd16, 0x539169e4, 0xfdf9f875, 0x73139f4f, 0xdd7b0ede,\n+    0xf4b3ba2c, 0x5adb2bbd, 0xa722d3c8, 0x094a4259, 0x2082f6ab,\n+    0x8eea673a, 0xe6273e9e, 0x484faf0f, 0x61871bfd, 0xcfef8a6c,\n+    0x32167219, 0x9c7ee388, 0xb5b6577a, 0x1bdec6eb, 0x9534a1d1,\n+    0x3b5c3040, 0x129484b2, 0xbcfc1523, 0x4105ed56, 0xef6d7cc7,\n+    0xc6a5c835, 0x68cd59a4, 0x173f7b7d, 0xb957eaec, 0x909f5e1e,\n+    0x3ef7cf8f, 0xc30e37fa, 0x6d66a66b, 0x44ae1299, 0xeac68308,\n+    0x642ce432, 0xca4475a3, 0xe38cc151, 0x4de450c0, 0xb01da8b5,\n+    0x1e753924, 0x37bd8dd6, 0x99d51c47, 0xf11845e3, 0x5f70d472,\n+    0x76b86080, 0xd8d0f111, 0x25290964, 0x8b4198f5, 0xa2892c07,\n+    0x0ce1bd96, 0x820bdaac, 0x2c634b3d, 0x05abffcf, 0xabc36e5e,\n+    0x563a962b, 0xf85207ba, 0xd19ab348, 0x7ff222d9, 0x2e7ef6fa,\n+    0x8016676b, 0xa9ded399, 0x07b64208, 0xfa4fba7d, 0x54272bec,\n+    0x7def9f1e, 0xd3870e8f, 0x5d6d69b5, 0xf305f824, 0xdacd4cd6,\n+    0x74a5dd47, 0x895c2532, 0x2734b4a3, 0x0efc0051, 0xa09491c0,\n+    0xc859c864, 0x663159f5, 0x4ff9ed07, 0xe1917c96, 0x1c6884e3,\n+    0xb2001572, 0x9bc8a180, 0x35a03011, 0xbb4a572b, 0x1522c6ba,\n+    0x3cea7248, 0x9282e3d9, 0x6f7b1bac, 0xc1138a3d, 0xe8db3ecf,\n+    0x46b3af5e, 0x39418d87, 0x97291c16, 0xbee1a8e4, 0x10893975,\n+    0xed70c100, 0x43185091, 0x6ad0e463, 0xc4b875f2, 0x4a5212c8,\n+    0xe43a8359, 0xcdf237ab, 0x639aa63a, 0x9e635e4f, 0x300bcfde,\n+    0x19c37b2c, 0xb7abeabd, 0xdf66b319, 0x710e2288, 0x58c6967a,\n+    0xf6ae07eb, 0x0b57ff9e, 0xa53f6e0f, 0x8cf7dafd, 0x229f4b6c,\n+    0xac752c56, 0x021dbdc7, 0x2bd50935, 0x85bd98a4, 0x784460d1,\n+    0xd62cf140, 0xffe445b2, 0x518cd423, 0x5cfdedf4, 0xf2957c65,\n+    0xdb5dc897, 0x75355906, 0x88cca173, 0x26a430e2, 0x0f6c8410,\n+    0xa1041581, 0x2fee72bb, 0x8186e32a, 0xa84e57d8, 0x0626c649,\n+    0xfbdf3e3c, 0x55b7afad, 0x7c7f1b5f, 0xd2178ace, 0xbadad36a,\n+    0x14b242fb, 0x3d7af609, 0x93126798, 0x6eeb9fed, 0xc0830e7c,\n+    0xe94bba8e, 0x47232b1f, 0xc9c94c25, 0x67a1ddb4, 0x4e696946,\n+    0xe001f8d7, 0x1df800a2, 0xb3909133, 0x9a5825c1, 0x3430b450,\n+    0x4bc29689, 0xe5aa0718, 0xcc62b3ea, 0x620a227b, 0x9ff3da0e,\n+    0x319b4b9f, 0x1853ff6d, 0xb63b6efc, 0x38d109c6, 0x96b99857,\n+    0xbf712ca5, 0x1119bd34, 0xece04541, 0x4288d4d0, 0x6b406022,\n+    0xc528f1b3, 0xade5a817, 0x038d3986, 0x2a458d74, 0x842d1ce5,\n+    0x79d4e490, 0xd7bc7501, 0xfe74c1f3, 0x501c5062, 0xdef63758,\n+    0x709ea6c9, 0x5956123b, 0xf73e83aa, 0x0ac77bdf, 0xa4afea4e,\n+    0x8d675ebc, 0x230fcf2d, 0x72831b0e, 0xdceb8a9f, 0xf5233e6d,\n+    0x5b4baffc, 0xa6b25789, 0x08dac618, 0x211272ea, 0x8f7ae37b,\n+    0x01908441, 0xaff815d0, 0x8630a122, 0x285830b3, 0xd5a1c8c6,\n+    0x7bc95957, 0x5201eda5, 0xfc697c34, 0x94a42590, 0x3accb401,\n+    0x130400f3, 0xbd6c9162, 0x40956917, 0xeefdf886, 0xc7354c74,\n+    0x695ddde5, 0xe7b7badf, 0x49df2b4e, 0x60179fbc, 0xce7f0e2d,\n+    0x3386f658, 0x9dee67c9, 0xb426d33b, 0x1a4e42aa, 0x65bc6073,\n+    0xcbd4f1e2, 0xe21c4510, 0x4c74d481, 0xb18d2cf4, 0x1fe5bd65,\n+    0x362d0997, 0x98459806, 0x16afff3c, 0xb8c76ead, 0x910fda5f,\n+    0x3f674bce, 0xc29eb3bb, 0x6cf6222a, 0x453e96d8, 0xeb560749,\n+    0x839b5eed, 0x2df3cf7c, 0x043b7b8e, 0xaa53ea1f, 0x57aa126a,\n+    0xf9c283fb, 0xd00a3709, 0x7e62a698, 0xf088c1a2, 0x5ee05033,\n+    0x7728e4c1, 0xd9407550, 0x24b98d25, 0x8ad11cb4, 0xa319a846,\n+    0x0d7139d7},\n+   {0x00000000, 0xb9fbdbe8, 0xa886b191, 0x117d6a79, 0x8a7c6563,\n+    0x3387be8b, 0x22fad4f2, 0x9b010f1a, 0xcf89cc87, 0x7672176f,\n+    0x670f7d16, 0xdef4a6fe, 0x45f5a9e4, 0xfc0e720c, 0xed731875,\n+    0x5488c39d, 0x44629f4f, 0xfd9944a7, 0xece42ede, 0x551ff536,\n+    0xce1efa2c, 0x77e521c4, 0x66984bbd, 0xdf639055, 0x8beb53c8,\n+    0x32108820, 0x236de259, 0x9a9639b1, 0x019736ab, 0xb86ced43,\n+    0xa911873a, 0x10ea5cd2, 0x88c53e9e, 0x313ee576, 0x20438f0f,\n+    0x99b854e7, 0x02b95bfd, 0xbb428015, 0xaa3fea6c, 0x13c43184,\n+    0x474cf219, 0xfeb729f1, 0xefca4388, 0x56319860, 0xcd30977a,\n+    0x74cb4c92, 0x65b626eb, 0xdc4dfd03, 0xcca7a1d1, 0x755c7a39,\n+    0x64211040, 0xdddacba8, 0x46dbc4b2, 0xff201f5a, 0xee5d7523,\n+    0x57a6aecb, 0x032e6d56, 0xbad5b6be, 0xaba8dcc7, 0x1253072f,\n+    0x89520835, 0x30a9d3dd, 0x21d4b9a4, 0x982f624c, 0xcafb7b7d,\n+    0x7300a095, 0x627dcaec, 0xdb861104, 0x40871e1e, 0xf97cc5f6,\n+    0xe801af8f, 0x51fa7467, 0x0572b7fa, 0xbc896c12, 0xadf4066b,\n+    0x140fdd83, 0x8f0ed299, 0x36f50971, 0x27886308, 0x9e73b8e0,\n+    0x8e99e432, 0x37623fda, 0x261f55a3, 0x9fe48e4b, 0x04e58151,\n+    0xbd1e5ab9, 0xac6330c0, 0x1598eb28, 0x411028b5, 0xf8ebf35d,\n+    0xe9969924, 0x506d42cc, 0xcb6c4dd6, 0x7297963e, 0x63eafc47,\n+    0xda1127af, 0x423e45e3, 0xfbc59e0b, 0xeab8f472, 0x53432f9a,\n+    0xc8422080, 0x71b9fb68, 0x60c49111, 0xd93f4af9, 0x8db78964,\n+    0x344c528c, 0x253138f5, 0x9ccae31d, 0x07cbec07, 0xbe3037ef,\n+    0xaf4d5d96, 0x16b6867e, 0x065cdaac, 0xbfa70144, 0xaeda6b3d,\n+    0x1721b0d5, 0x8c20bfcf, 0x35db6427, 0x24a60e5e, 0x9d5dd5b6,\n+    0xc9d5162b, 0x702ecdc3, 0x6153a7ba, 0xd8a87c52, 0x43a97348,\n+    0xfa52a8a0, 0xeb2fc2d9, 0x52d41931, 0x4e87f0bb, 0xf77c2b53,\n+    0xe601412a, 0x5ffa9ac2, 0xc4fb95d8, 0x7d004e30, 0x6c7d2449,\n+    0xd586ffa1, 0x810e3c3c, 0x38f5e7d4, 0x29888dad, 0x90735645,\n+    0x0b72595f, 0xb28982b7, 0xa3f4e8ce, 0x1a0f3326, 0x0ae56ff4,\n+    0xb31eb41c, 0xa263de65, 0x1b98058d, 0x80990a97, 0x3962d17f,\n+    0x281fbb06, 0x91e460ee, 0xc56ca373, 0x7c97789b, 0x6dea12e2,\n+    0xd411c90a, 0x4f10c610, 0xf6eb1df8, 0xe7967781, 0x5e6dac69,\n+    0xc642ce25, 0x7fb915cd, 0x6ec47fb4, 0xd73fa45c, 0x4c3eab46,\n+    0xf5c570ae, 0xe4b81ad7, 0x5d43c13f, 0x09cb02a2, 0xb030d94a,\n+    0xa14db333, 0x18b668db, 0x83b767c1, 0x3a4cbc29, 0x2b31d650,\n+    0x92ca0db8, 0x8220516a, 0x3bdb8a82, 0x2aa6e0fb, 0x935d3b13,\n+    0x085c3409, 0xb1a7efe1, 0xa0da8598, 0x19215e70, 0x4da99ded,\n+    0xf4524605, 0xe52f2c7c, 0x5cd4f794, 0xc7d5f88e, 0x7e2e2366,\n+    0x6f53491f, 0xd6a892f7, 0x847c8bc6, 0x3d87502e, 0x2cfa3a57,\n+    0x9501e1bf, 0x0e00eea5, 0xb7fb354d, 0xa6865f34, 0x1f7d84dc,\n+    0x4bf54741, 0xf20e9ca9, 0xe373f6d0, 0x5a882d38, 0xc1892222,\n+    0x7872f9ca, 0x690f93b3, 0xd0f4485b, 0xc01e1489, 0x79e5cf61,\n+    0x6898a518, 0xd1637ef0, 0x4a6271ea, 0xf399aa02, 0xe2e4c07b,\n+    0x5b1f1b93, 0x0f97d80e, 0xb66c03e6, 0xa711699f, 0x1eeab277,\n+    0x85ebbd6d, 0x3c106685, 0x2d6d0cfc, 0x9496d714, 0x0cb9b558,\n+    0xb5426eb0, 0xa43f04c9, 0x1dc4df21, 0x86c5d03b, 0x3f3e0bd3,\n+    0x2e4361aa, 0x97b8ba42, 0xc33079df, 0x7acba237, 0x6bb6c84e,\n+    0xd24d13a6, 0x494c1cbc, 0xf0b7c754, 0xe1caad2d, 0x583176c5,\n+    0x48db2a17, 0xf120f1ff, 0xe05d9b86, 0x59a6406e, 0xc2a74f74,\n+    0x7b5c949c, 0x6a21fee5, 0xd3da250d, 0x8752e690, 0x3ea93d78,\n+    0x2fd45701, 0x962f8ce9, 0x0d2e83f3, 0xb4d5581b, 0xa5a83262,\n+    0x1c53e98a},\n+   {0x00000000, 0x9d0fe176, 0xe16ec4ad, 0x7c6125db, 0x19ac8f1b,\n+    0x84a36e6d, 0xf8c24bb6, 0x65cdaac0, 0x33591e36, 0xae56ff40,\n+    0xd237da9b, 0x4f383bed, 0x2af5912d, 0xb7fa705b, 0xcb9b5580,\n+    0x5694b4f6, 0x66b23c6c, 0xfbbddd1a, 0x87dcf8c1, 0x1ad319b7,\n+    0x7f1eb377, 0xe2115201, 0x9e7077da, 0x037f96ac, 0x55eb225a,\n+    0xc8e4c32c, 0xb485e6f7, 0x298a0781, 0x4c47ad41, 0xd1484c37,\n+    0xad2969ec, 0x3026889a, 0xcd6478d8, 0x506b99ae, 0x2c0abc75,\n+    0xb1055d03, 0xd4c8f7c3, 0x49c716b5, 0x35a6336e, 0xa8a9d218,\n+    0xfe3d66ee, 0x63328798, 0x1f53a243, 0x825c4335, 0xe791e9f5,\n+    0x7a9e0883, 0x06ff2d58, 0x9bf0cc2e, 0xabd644b4, 0x36d9a5c2,\n+    0x4ab88019, 0xd7b7616f, 0xb27acbaf, 0x2f752ad9, 0x53140f02,\n+    0xce1bee74, 0x988f5a82, 0x0580bbf4, 0x79e19e2f, 0xe4ee7f59,\n+    0x8123d599, 0x1c2c34ef, 0x604d1134, 0xfd42f042, 0x41b9f7f1,\n+    0xdcb61687, 0xa0d7335c, 0x3dd8d22a, 0x581578ea, 0xc51a999c,\n+    0xb97bbc47, 0x24745d31, 0x72e0e9c7, 0xefef08b1, 0x938e2d6a,\n+    0x0e81cc1c, 0x6b4c66dc, 0xf64387aa, 0x8a22a271, 0x172d4307,\n+    0x270bcb9d, 0xba042aeb, 0xc6650f30, 0x5b6aee46, 0x3ea74486,\n+    0xa3a8a5f0, 0xdfc9802b, 0x42c6615d, 0x1452d5ab, 0x895d34dd,\n+    0xf53c1106, 0x6833f070, 0x0dfe5ab0, 0x90f1bbc6, 0xec909e1d,\n+    0x719f7f6b, 0x8cdd8f29, 0x11d26e5f, 0x6db34b84, 0xf0bcaaf2,\n+    0x95710032, 0x087ee144, 0x741fc49f, 0xe91025e9, 0xbf84911f,\n+    0x228b7069, 0x5eea55b2, 0xc3e5b4c4, 0xa6281e04, 0x3b27ff72,\n+    0x4746daa9, 0xda493bdf, 0xea6fb345, 0x77605233, 0x0b0177e8,\n+    0x960e969e, 0xf3c33c5e, 0x6eccdd28, 0x12adf8f3, 0x8fa21985,\n+    0xd936ad73, 0x44394c05, 0x385869de, 0xa55788a8, 0xc09a2268,\n+    0x5d95c31e, 0x21f4e6c5, 0xbcfb07b3, 0x8373efe2, 0x1e7c0e94,\n+    0x621d2b4f, 0xff12ca39, 0x9adf60f9, 0x07d0818f, 0x7bb1a454,\n+    0xe6be4522, 0xb02af1d4, 0x2d2510a2, 0x51443579, 0xcc4bd40f,\n+    0xa9867ecf, 0x34899fb9, 0x48e8ba62, 0xd5e75b14, 0xe5c1d38e,\n+    0x78ce32f8, 0x04af1723, 0x99a0f655, 0xfc6d5c95, 0x6162bde3,\n+    0x1d039838, 0x800c794e, 0xd698cdb8, 0x4b972cce, 0x37f60915,\n+    0xaaf9e863, 0xcf3442a3, 0x523ba3d5, 0x2e5a860e, 0xb3556778,\n+    0x4e17973a, 0xd318764c, 0xaf795397, 0x3276b2e1, 0x57bb1821,\n+    0xcab4f957, 0xb6d5dc8c, 0x2bda3dfa, 0x7d4e890c, 0xe041687a,\n+    0x9c204da1, 0x012facd7, 0x64e20617, 0xf9ede761, 0x858cc2ba,\n+    0x188323cc, 0x28a5ab56, 0xb5aa4a20, 0xc9cb6ffb, 0x54c48e8d,\n+    0x3109244d, 0xac06c53b, 0xd067e0e0, 0x4d680196, 0x1bfcb560,\n+    0x86f35416, 0xfa9271cd, 0x679d90bb, 0x02503a7b, 0x9f5fdb0d,\n+    0xe33efed6, 0x7e311fa0, 0xc2ca1813, 0x5fc5f965, 0x23a4dcbe,\n+    0xbeab3dc8, 0xdb669708, 0x4669767e, 0x3a0853a5, 0xa707b2d3,\n+    0xf1930625, 0x6c9ce753, 0x10fdc288, 0x8df223fe, 0xe83f893e,\n+    0x75306848, 0x09514d93, 0x945eace5, 0xa478247f, 0x3977c509,\n+    0x4516e0d2, 0xd81901a4, 0xbdd4ab64, 0x20db4a12, 0x5cba6fc9,\n+    0xc1b58ebf, 0x97213a49, 0x0a2edb3f, 0x764ffee4, 0xeb401f92,\n+    0x8e8db552, 0x13825424, 0x6fe371ff, 0xf2ec9089, 0x0fae60cb,\n+    0x92a181bd, 0xeec0a466, 0x73cf4510, 0x1602efd0, 0x8b0d0ea6,\n+    0xf76c2b7d, 0x6a63ca0b, 0x3cf77efd, 0xa1f89f8b, 0xdd99ba50,\n+    0x40965b26, 0x255bf1e6, 0xb8541090, 0xc435354b, 0x593ad43d,\n+    0x691c5ca7, 0xf413bdd1, 0x8872980a, 0x157d797c, 0x70b0d3bc,\n+    0xedbf32ca, 0x91de1711, 0x0cd1f667, 0x5a454291, 0xc74aa3e7,\n+    0xbb2b863c, 0x2624674a, 0x43e9cd8a, 0xdee62cfc, 0xa2870927,\n+    0x3f88e851},\n+   {0x00000000, 0xdd96d985, 0x605cb54b, 0xbdca6cce, 0xc0b96a96,\n+    0x1d2fb313, 0xa0e5dfdd, 0x7d730658, 0x5a03d36d, 0x87950ae8,\n+    0x3a5f6626, 0xe7c9bfa3, 0x9abab9fb, 0x472c607e, 0xfae60cb0,\n+    0x2770d535, 0xb407a6da, 0x69917f5f, 0xd45b1391, 0x09cdca14,\n+    0x74becc4c, 0xa92815c9, 0x14e27907, 0xc974a082, 0xee0475b7,\n+    0x3392ac32, 0x8e58c0fc, 0x53ce1979, 0x2ebd1f21, 0xf32bc6a4,\n+    0x4ee1aa6a, 0x937773ef, 0xb37e4bf5, 0x6ee89270, 0xd322febe,\n+    0x0eb4273b, 0x73c72163, 0xae51f8e6, 0x139b9428, 0xce0d4dad,\n+    0xe97d9898, 0x34eb411d, 0x89212dd3, 0x54b7f456, 0x29c4f20e,\n+    0xf4522b8b, 0x49984745, 0x940e9ec0, 0x0779ed2f, 0xdaef34aa,\n+    0x67255864, 0xbab381e1, 0xc7c087b9, 0x1a565e3c, 0xa79c32f2,\n+    0x7a0aeb77, 0x5d7a3e42, 0x80ece7c7, 0x3d268b09, 0xe0b0528c,\n+    0x9dc354d4, 0x40558d51, 0xfd9fe19f, 0x2009381a, 0xbd8d91ab,\n+    0x601b482e, 0xddd124e0, 0x0047fd65, 0x7d34fb3d, 0xa0a222b8,\n+    0x1d684e76, 0xc0fe97f3, 0xe78e42c6, 0x3a189b43, 0x87d2f78d,\n+    0x5a442e08, 0x27372850, 0xfaa1f1d5, 0x476b9d1b, 0x9afd449e,\n+    0x098a3771, 0xd41ceef4, 0x69d6823a, 0xb4405bbf, 0xc9335de7,\n+    0x14a58462, 0xa96fe8ac, 0x74f93129, 0x5389e41c, 0x8e1f3d99,\n+    0x33d55157, 0xee4388d2, 0x93308e8a, 0x4ea6570f, 0xf36c3bc1,\n+    0x2efae244, 0x0ef3da5e, 0xd36503db, 0x6eaf6f15, 0xb339b690,\n+    0xce4ab0c8, 0x13dc694d, 0xae160583, 0x7380dc06, 0x54f00933,\n+    0x8966d0b6, 0x34acbc78, 0xe93a65fd, 0x944963a5, 0x49dfba20,\n+    0xf415d6ee, 0x29830f6b, 0xbaf47c84, 0x6762a501, 0xdaa8c9cf,\n+    0x073e104a, 0x7a4d1612, 0xa7dbcf97, 0x1a11a359, 0xc7877adc,\n+    0xe0f7afe9, 0x3d61766c, 0x80ab1aa2, 0x5d3dc327, 0x204ec57f,\n+    0xfdd81cfa, 0x40127034, 0x9d84a9b1, 0xa06a2517, 0x7dfcfc92,\n+    0xc036905c, 0x1da049d9, 0x60d34f81, 0xbd459604, 0x008ffaca,\n+    0xdd19234f, 0xfa69f67a, 0x27ff2fff, 0x9a354331, 0x47a39ab4,\n+    0x3ad09cec, 0xe7464569, 0x5a8c29a7, 0x871af022, 0x146d83cd,\n+    0xc9fb5a48, 0x74313686, 0xa9a7ef03, 0xd4d4e95b, 0x094230de,\n+    0xb4885c10, 0x691e8595, 0x4e6e50a0, 0x93f88925, 0x2e32e5eb,\n+    0xf3a43c6e, 0x8ed73a36, 0x5341e3b3, 0xee8b8f7d, 0x331d56f8,\n+    0x13146ee2, 0xce82b767, 0x7348dba9, 0xaede022c, 0xd3ad0474,\n+    0x0e3bddf1, 0xb3f1b13f, 0x6e6768ba, 0x4917bd8f, 0x9481640a,\n+    0x294b08c4, 0xf4ddd141, 0x89aed719, 0x54380e9c, 0xe9f26252,\n+    0x3464bbd7, 0xa713c838, 0x7a8511bd, 0xc74f7d73, 0x1ad9a4f6,\n+    0x67aaa2ae, 0xba3c7b2b, 0x07f617e5, 0xda60ce60, 0xfd101b55,\n+    0x2086c2d0, 0x9d4cae1e, 0x40da779b, 0x3da971c3, 0xe03fa846,\n+    0x5df5c488, 0x80631d0d, 0x1de7b4bc, 0xc0716d39, 0x7dbb01f7,\n+    0xa02dd872, 0xdd5ede2a, 0x00c807af, 0xbd026b61, 0x6094b2e4,\n+    0x47e467d1, 0x9a72be54, 0x27b8d29a, 0xfa2e0b1f, 0x875d0d47,\n+    0x5acbd4c2, 0xe701b80c, 0x3a976189, 0xa9e01266, 0x7476cbe3,\n+    0xc9bca72d, 0x142a7ea8, 0x695978f0, 0xb4cfa175, 0x0905cdbb,\n+    0xd493143e, 0xf3e3c10b, 0x2e75188e, 0x93bf7440, 0x4e29adc5,\n+    0x335aab9d, 0xeecc7218, 0x53061ed6, 0x8e90c753, 0xae99ff49,\n+    0x730f26cc, 0xcec54a02, 0x13539387, 0x6e2095df, 0xb3b64c5a,\n+    0x0e7c2094, 0xd3eaf911, 0xf49a2c24, 0x290cf5a1, 0x94c6996f,\n+    0x495040ea, 0x342346b2, 0xe9b59f37, 0x547ff3f9, 0x89e92a7c,\n+    0x1a9e5993, 0xc7088016, 0x7ac2ecd8, 0xa754355d, 0xda273305,\n+    0x07b1ea80, 0xba7b864e, 0x67ed5fcb, 0x409d8afe, 0x9d0b537b,\n+    0x20c13fb5, 0xfd57e630, 0x8024e068, 0x5db239ed, 0xe0785523,\n+    0x3dee8ca6},\n+   {0x00000000, 0x9ba54c6f, 0xec3b9e9f, 0x779ed2f0, 0x03063b7f,\n+    0x98a37710, 0xef3da5e0, 0x7498e98f, 0x060c76fe, 0x9da93a91,\n+    0xea37e861, 0x7192a40e, 0x050a4d81, 0x9eaf01ee, 0xe931d31e,\n+    0x72949f71, 0x0c18edfc, 0x97bda193, 0xe0237363, 0x7b863f0c,\n+    0x0f1ed683, 0x94bb9aec, 0xe325481c, 0x78800473, 0x0a149b02,\n+    0x91b1d76d, 0xe62f059d, 0x7d8a49f2, 0x0912a07d, 0x92b7ec12,\n+    0xe5293ee2, 0x7e8c728d, 0x1831dbf8, 0x83949797, 0xf40a4567,\n+    0x6faf0908, 0x1b37e087, 0x8092ace8, 0xf70c7e18, 0x6ca93277,\n+    0x1e3dad06, 0x8598e169, 0xf2063399, 0x69a37ff6, 0x1d3b9679,\n+    0x869eda16, 0xf10008e6, 0x6aa54489, 0x14293604, 0x8f8c7a6b,\n+    0xf812a89b, 0x63b7e4f4, 0x172f0d7b, 0x8c8a4114, 0xfb1493e4,\n+    0x60b1df8b, 0x122540fa, 0x89800c95, 0xfe1ede65, 0x65bb920a,\n+    0x11237b85, 0x8a8637ea, 0xfd18e51a, 0x66bda975, 0x3063b7f0,\n+    0xabc6fb9f, 0xdc58296f, 0x47fd6500, 0x33658c8f, 0xa8c0c0e0,\n+    0xdf5e1210, 0x44fb5e7f, 0x366fc10e, 0xadca8d61, 0xda545f91,\n+    0x41f113fe, 0x3569fa71, 0xaeccb61e, 0xd95264ee, 0x42f72881,\n+    0x3c7b5a0c, 0xa7de1663, 0xd040c493, 0x4be588fc, 0x3f7d6173,\n+    0xa4d82d1c, 0xd346ffec, 0x48e3b383, 0x3a772cf2, 0xa1d2609d,\n+    0xd64cb26d, 0x4de9fe02, 0x3971178d, 0xa2d45be2, 0xd54a8912,\n+    0x4eefc57d, 0x28526c08, 0xb3f72067, 0xc469f297, 0x5fccbef8,\n+    0x2b545777, 0xb0f11b18, 0xc76fc9e8, 0x5cca8587, 0x2e5e1af6,\n+    0xb5fb5699, 0xc2658469, 0x59c0c806, 0x2d582189, 0xb6fd6de6,\n+    0xc163bf16, 0x5ac6f379, 0x244a81f4, 0xbfefcd9b, 0xc8711f6b,\n+    0x53d45304, 0x274cba8b, 0xbce9f6e4, 0xcb772414, 0x50d2687b,\n+    0x2246f70a, 0xb9e3bb65, 0xce7d6995, 0x55d825fa, 0x2140cc75,\n+    0xbae5801a, 0xcd7b52ea, 0x56de1e85, 0x60c76fe0, 0xfb62238f,\n+    0x8cfcf17f, 0x1759bd10, 0x63c1549f, 0xf86418f0, 0x8ffaca00,\n+    0x145f866f, 0x66cb191e, 0xfd6e5571, 0x8af08781, 0x1155cbee,\n+    0x65cd2261, 0xfe686e0e, 0x89f6bcfe, 0x1253f091, 0x6cdf821c,\n+    0xf77ace73, 0x80e41c83, 0x1b4150ec, 0x6fd9b963, 0xf47cf50c,\n+    0x83e227fc, 0x18476b93, 0x6ad3f4e2, 0xf176b88d, 0x86e86a7d,\n+    0x1d4d2612, 0x69d5cf9d, 0xf27083f2, 0x85ee5102, 0x1e4b1d6d,\n+    0x78f6b418, 0xe353f877, 0x94cd2a87, 0x0f6866e8, 0x7bf08f67,\n+    0xe055c308, 0x97cb11f8, 0x0c6e5d97, 0x7efac2e6, 0xe55f8e89,\n+    0x92c15c79, 0x09641016, 0x7dfcf999, 0xe659b5f6, 0x91c76706,\n+    0x0a622b69, 0x74ee59e4, 0xef4b158b, 0x98d5c77b, 0x03708b14,\n+    0x77e8629b, 0xec4d2ef4, 0x9bd3fc04, 0x0076b06b, 0x72e22f1a,\n+    0xe9476375, 0x9ed9b185, 0x057cfdea, 0x71e41465, 0xea41580a,\n+    0x9ddf8afa, 0x067ac695, 0x50a4d810, 0xcb01947f, 0xbc9f468f,\n+    0x273a0ae0, 0x53a2e36f, 0xc807af00, 0xbf997df0, 0x243c319f,\n+    0x56a8aeee, 0xcd0de281, 0xba933071, 0x21367c1e, 0x55ae9591,\n+    0xce0bd9fe, 0xb9950b0e, 0x22304761, 0x5cbc35ec, 0xc7197983,\n+    0xb087ab73, 0x2b22e71c, 0x5fba0e93, 0xc41f42fc, 0xb381900c,\n+    0x2824dc63, 0x5ab04312, 0xc1150f7d, 0xb68bdd8d, 0x2d2e91e2,\n+    0x59b6786d, 0xc2133402, 0xb58de6f2, 0x2e28aa9d, 0x489503e8,\n+    0xd3304f87, 0xa4ae9d77, 0x3f0bd118, 0x4b933897, 0xd03674f8,\n+    0xa7a8a608, 0x3c0dea67, 0x4e997516, 0xd53c3979, 0xa2a2eb89,\n+    0x3907a7e6, 0x4d9f4e69, 0xd63a0206, 0xa1a4d0f6, 0x3a019c99,\n+    0x448dee14, 0xdf28a27b, 0xa8b6708b, 0x33133ce4, 0x478bd56b,\n+    0xdc2e9904, 0xabb04bf4, 0x3015079b, 0x428198ea, 0xd924d485,\n+    0xaeba0675, 0x351f4a1a, 0x4187a395, 0xda22effa, 0xadbc3d0a,\n+    0x36197165},\n+   {0x00000000, 0xc18edfc0, 0x586cb9c1, 0x99e26601, 0xb0d97382,\n+    0x7157ac42, 0xe8b5ca43, 0x293b1583, 0xbac3e145, 0x7b4d3e85,\n+    0xe2af5884, 0x23218744, 0x0a1a92c7, 0xcb944d07, 0x52762b06,\n+    0x93f8f4c6, 0xaef6c4cb, 0x6f781b0b, 0xf69a7d0a, 0x3714a2ca,\n+    0x1e2fb749, 0xdfa16889, 0x46430e88, 0x87cdd148, 0x1435258e,\n+    0xd5bbfa4e, 0x4c599c4f, 0x8dd7438f, 0xa4ec560c, 0x656289cc,\n+    0xfc80efcd, 0x3d0e300d, 0x869c8fd7, 0x47125017, 0xdef03616,\n+    0x1f7ee9d6, 0x3645fc55, 0xf7cb2395, 0x6e294594, 0xafa79a54,\n+    0x3c5f6e92, 0xfdd1b152, 0x6433d753, 0xa5bd0893, 0x8c861d10,\n+    0x4d08c2d0, 0xd4eaa4d1, 0x15647b11, 0x286a4b1c, 0xe9e494dc,\n+    0x7006f2dd, 0xb1882d1d, 0x98b3389e, 0x593de75e, 0xc0df815f,\n+    0x01515e9f, 0x92a9aa59, 0x53277599, 0xcac51398, 0x0b4bcc58,\n+    0x2270d9db, 0xe3fe061b, 0x7a1c601a, 0xbb92bfda, 0xd64819ef,\n+    0x17c6c62f, 0x8e24a02e, 0x4faa7fee, 0x66916a6d, 0xa71fb5ad,\n+    0x3efdd3ac, 0xff730c6c, 0x6c8bf8aa, 0xad05276a, 0x34e7416b,\n+    0xf5699eab, 0xdc528b28, 0x1ddc54e8, 0x843e32e9, 0x45b0ed29,\n+    0x78bedd24, 0xb93002e4, 0x20d264e5, 0xe15cbb25, 0xc867aea6,\n+    0x09e97166, 0x900b1767, 0x5185c8a7, 0xc27d3c61, 0x03f3e3a1,\n+    0x9a1185a0, 0x5b9f5a60, 0x72a44fe3, 0xb32a9023, 0x2ac8f622,\n+    0xeb4629e2, 0x50d49638, 0x915a49f8, 0x08b82ff9, 0xc936f039,\n+    0xe00de5ba, 0x21833a7a, 0xb8615c7b, 0x79ef83bb, 0xea17777d,\n+    0x2b99a8bd, 0xb27bcebc, 0x73f5117c, 0x5ace04ff, 0x9b40db3f,\n+    0x02a2bd3e, 0xc32c62fe, 0xfe2252f3, 0x3fac8d33, 0xa64eeb32,\n+    0x67c034f2, 0x4efb2171, 0x8f75feb1, 0x169798b0, 0xd7194770,\n+    0x44e1b3b6, 0x856f6c76, 0x1c8d0a77, 0xdd03d5b7, 0xf438c034,\n+    0x35b61ff4, 0xac5479f5, 0x6ddaa635, 0x77e1359f, 0xb66fea5f,\n+    0x2f8d8c5e, 0xee03539e, 0xc738461d, 0x06b699dd, 0x9f54ffdc,\n+    0x5eda201c, 0xcd22d4da, 0x0cac0b1a, 0x954e6d1b, 0x54c0b2db,\n+    0x7dfba758, 0xbc757898, 0x25971e99, 0xe419c159, 0xd917f154,\n+    0x18992e94, 0x817b4895, 0x40f59755, 0x69ce82d6, 0xa8405d16,\n+    0x31a23b17, 0xf02ce4d7, 0x63d41011, 0xa25acfd1, 0x3bb8a9d0,\n+    0xfa367610, 0xd30d6393, 0x1283bc53, 0x8b61da52, 0x4aef0592,\n+    0xf17dba48, 0x30f36588, 0xa9110389, 0x689fdc49, 0x41a4c9ca,\n+    0x802a160a, 0x19c8700b, 0xd846afcb, 0x4bbe5b0d, 0x8a3084cd,\n+    0x13d2e2cc, 0xd25c3d0c, 0xfb67288f, 0x3ae9f74f, 0xa30b914e,\n+    0x62854e8e, 0x5f8b7e83, 0x9e05a143, 0x07e7c742, 0xc6691882,\n+    0xef520d01, 0x2edcd2c1, 0xb73eb4c0, 0x76b06b00, 0xe5489fc6,\n+    0x24c64006, 0xbd242607, 0x7caaf9c7, 0x5591ec44, 0x941f3384,\n+    0x0dfd5585, 0xcc738a45, 0xa1a92c70, 0x6027f3b0, 0xf9c595b1,\n+    0x384b4a71, 0x11705ff2, 0xd0fe8032, 0x491ce633, 0x889239f3,\n+    0x1b6acd35, 0xdae412f5, 0x430674f4, 0x8288ab34, 0xabb3beb7,\n+    0x6a3d6177, 0xf3df0776, 0x3251d8b6, 0x0f5fe8bb, 0xced1377b,\n+    0x5733517a, 0x96bd8eba, 0xbf869b39, 0x7e0844f9, 0xe7ea22f8,\n+    0x2664fd38, 0xb59c09fe, 0x7412d63e, 0xedf0b03f, 0x2c7e6fff,\n+    0x05457a7c, 0xc4cba5bc, 0x5d29c3bd, 0x9ca71c7d, 0x2735a3a7,\n+    0xe6bb7c67, 0x7f591a66, 0xbed7c5a6, 0x97ecd025, 0x56620fe5,\n+    0xcf8069e4, 0x0e0eb624, 0x9df642e2, 0x5c789d22, 0xc59afb23,\n+    0x041424e3, 0x2d2f3160, 0xeca1eea0, 0x754388a1, 0xb4cd5761,\n+    0x89c3676c, 0x484db8ac, 0xd1afdead, 0x1021016d, 0x391a14ee,\n+    0xf894cb2e, 0x6176ad2f, 0xa0f872ef, 0x33008629, 0xf28e59e9,\n+    0x6b6c3fe8, 0xaae2e028, 0x83d9f5ab, 0x42572a6b, 0xdbb54c6a,\n+    0x1a3b93aa},\n+   {0x00000000, 0xefc26b3e, 0x04f5d03d, 0xeb37bb03, 0x09eba07a,\n+    0xe629cb44, 0x0d1e7047, 0xe2dc1b79, 0x13d740f4, 0xfc152bca,\n+    0x172290c9, 0xf8e0fbf7, 0x1a3ce08e, 0xf5fe8bb0, 0x1ec930b3,\n+    0xf10b5b8d, 0x27ae81e8, 0xc86cead6, 0x235b51d5, 0xcc993aeb,\n+    0x2e452192, 0xc1874aac, 0x2ab0f1af, 0xc5729a91, 0x3479c11c,\n+    0xdbbbaa22, 0x308c1121, 0xdf4e7a1f, 0x3d926166, 0xd2500a58,\n+    0x3967b15b, 0xd6a5da65, 0x4f5d03d0, 0xa09f68ee, 0x4ba8d3ed,\n+    0xa46ab8d3, 0x46b6a3aa, 0xa974c894, 0x42437397, 0xad8118a9,\n+    0x5c8a4324, 0xb348281a, 0x587f9319, 0xb7bdf827, 0x5561e35e,\n+    0xbaa38860, 0x51943363, 0xbe56585d, 0x68f38238, 0x8731e906,\n+    0x6c065205, 0x83c4393b, 0x61182242, 0x8eda497c, 0x65edf27f,\n+    0x8a2f9941, 0x7b24c2cc, 0x94e6a9f2, 0x7fd112f1, 0x901379cf,\n+    0x72cf62b6, 0x9d0d0988, 0x763ab28b, 0x99f8d9b5, 0x9eba07a0,\n+    0x71786c9e, 0x9a4fd79d, 0x758dbca3, 0x9751a7da, 0x7893cce4,\n+    0x93a477e7, 0x7c661cd9, 0x8d6d4754, 0x62af2c6a, 0x89989769,\n+    0x665afc57, 0x8486e72e, 0x6b448c10, 0x80733713, 0x6fb15c2d,\n+    0xb9148648, 0x56d6ed76, 0xbde15675, 0x52233d4b, 0xb0ff2632,\n+    0x5f3d4d0c, 0xb40af60f, 0x5bc89d31, 0xaac3c6bc, 0x4501ad82,\n+    0xae361681, 0x41f47dbf, 0xa32866c6, 0x4cea0df8, 0xa7ddb6fb,\n+    0x481fddc5, 0xd1e70470, 0x3e256f4e, 0xd512d44d, 0x3ad0bf73,\n+    0xd80ca40a, 0x37cecf34, 0xdcf97437, 0x333b1f09, 0xc2304484,\n+    0x2df22fba, 0xc6c594b9, 0x2907ff87, 0xcbdbe4fe, 0x24198fc0,\n+    0xcf2e34c3, 0x20ec5ffd, 0xf6498598, 0x198beea6, 0xf2bc55a5,\n+    0x1d7e3e9b, 0xffa225e2, 0x10604edc, 0xfb57f5df, 0x14959ee1,\n+    0xe59ec56c, 0x0a5cae52, 0xe16b1551, 0x0ea97e6f, 0xec756516,\n+    0x03b70e28, 0xe880b52b, 0x0742de15, 0xe6050901, 0x09c7623f,\n+    0xe2f0d93c, 0x0d32b202, 0xefeea97b, 0x002cc245, 0xeb1b7946,\n+    0x04d91278, 0xf5d249f5, 0x1a1022cb, 0xf12799c8, 0x1ee5f2f6,\n+    0xfc39e98f, 0x13fb82b1, 0xf8cc39b2, 0x170e528c, 0xc1ab88e9,\n+    0x2e69e3d7, 0xc55e58d4, 0x2a9c33ea, 0xc8402893, 0x278243ad,\n+    0xccb5f8ae, 0x23779390, 0xd27cc81d, 0x3dbea323, 0xd6891820,\n+    0x394b731e, 0xdb976867, 0x34550359, 0xdf62b85a, 0x30a0d364,\n+    0xa9580ad1, 0x469a61ef, 0xadaddaec, 0x426fb1d2, 0xa0b3aaab,\n+    0x4f71c195, 0xa4467a96, 0x4b8411a8, 0xba8f4a25, 0x554d211b,\n+    0xbe7a9a18, 0x51b8f126, 0xb364ea5f, 0x5ca68161, 0xb7913a62,\n+    0x5853515c, 0x8ef68b39, 0x6134e007, 0x8a035b04, 0x65c1303a,\n+    0x871d2b43, 0x68df407d, 0x83e8fb7e, 0x6c2a9040, 0x9d21cbcd,\n+    0x72e3a0f3, 0x99d41bf0, 0x761670ce, 0x94ca6bb7, 0x7b080089,\n+    0x903fbb8a, 0x7ffdd0b4, 0x78bf0ea1, 0x977d659f, 0x7c4ade9c,\n+    0x9388b5a2, 0x7154aedb, 0x9e96c5e5, 0x75a17ee6, 0x9a6315d8,\n+    0x6b684e55, 0x84aa256b, 0x6f9d9e68, 0x805ff556, 0x6283ee2f,\n+    0x8d418511, 0x66763e12, 0x89b4552c, 0x5f118f49, 0xb0d3e477,\n+    0x5be45f74, 0xb426344a, 0x56fa2f33, 0xb938440d, 0x520fff0e,\n+    0xbdcd9430, 0x4cc6cfbd, 0xa304a483, 0x48331f80, 0xa7f174be,\n+    0x452d6fc7, 0xaaef04f9, 0x41d8bffa, 0xae1ad4c4, 0x37e20d71,\n+    0xd820664f, 0x3317dd4c, 0xdcd5b672, 0x3e09ad0b, 0xd1cbc635,\n+    0x3afc7d36, 0xd53e1608, 0x24354d85, 0xcbf726bb, 0x20c09db8,\n+    0xcf02f686, 0x2ddeedff, 0xc21c86c1, 0x292b3dc2, 0xc6e956fc,\n+    0x104c8c99, 0xff8ee7a7, 0x14b95ca4, 0xfb7b379a, 0x19a72ce3,\n+    0xf66547dd, 0x1d52fcde, 0xf29097e0, 0x039bcc6d, 0xec59a753,\n+    0x076e1c50, 0xe8ac776e, 0x0a706c17, 0xe5b20729, 0x0e85bc2a,\n+    0xe147d714},\n+   {0x00000000, 0x177b1443, 0x2ef62886, 0x398d3cc5, 0x5dec510c,\n+    0x4a97454f, 0x731a798a, 0x64616dc9, 0xbbd8a218, 0xaca3b65b,\n+    0x952e8a9e, 0x82559edd, 0xe634f314, 0xf14fe757, 0xc8c2db92,\n+    0xdfb9cfd1, 0xacc04271, 0xbbbb5632, 0x82366af7, 0x954d7eb4,\n+    0xf12c137d, 0xe657073e, 0xdfda3bfb, 0xc8a12fb8, 0x1718e069,\n+    0x0063f42a, 0x39eec8ef, 0x2e95dcac, 0x4af4b165, 0x5d8fa526,\n+    0x640299e3, 0x73798da0, 0x82f182a3, 0x958a96e0, 0xac07aa25,\n+    0xbb7cbe66, 0xdf1dd3af, 0xc866c7ec, 0xf1ebfb29, 0xe690ef6a,\n+    0x392920bb, 0x2e5234f8, 0x17df083d, 0x00a41c7e, 0x64c571b7,\n+    0x73be65f4, 0x4a335931, 0x5d484d72, 0x2e31c0d2, 0x394ad491,\n+    0x00c7e854, 0x17bcfc17, 0x73dd91de, 0x64a6859d, 0x5d2bb958,\n+    0x4a50ad1b, 0x95e962ca, 0x82927689, 0xbb1f4a4c, 0xac645e0f,\n+    0xc80533c6, 0xdf7e2785, 0xe6f31b40, 0xf1880f03, 0xde920307,\n+    0xc9e91744, 0xf0642b81, 0xe71f3fc2, 0x837e520b, 0x94054648,\n+    0xad887a8d, 0xbaf36ece, 0x654aa11f, 0x7231b55c, 0x4bbc8999,\n+    0x5cc79dda, 0x38a6f013, 0x2fdde450, 0x1650d895, 0x012bccd6,\n+    0x72524176, 0x65295535, 0x5ca469f0, 0x4bdf7db3, 0x2fbe107a,\n+    0x38c50439, 0x014838fc, 0x16332cbf, 0xc98ae36e, 0xdef1f72d,\n+    0xe77ccbe8, 0xf007dfab, 0x9466b262, 0x831da621, 0xba909ae4,\n+    0xadeb8ea7, 0x5c6381a4, 0x4b1895e7, 0x7295a922, 0x65eebd61,\n+    0x018fd0a8, 0x16f4c4eb, 0x2f79f82e, 0x3802ec6d, 0xe7bb23bc,\n+    0xf0c037ff, 0xc94d0b3a, 0xde361f79, 0xba5772b0, 0xad2c66f3,\n+    0x94a15a36, 0x83da4e75, 0xf0a3c3d5, 0xe7d8d796, 0xde55eb53,\n+    0xc92eff10, 0xad4f92d9, 0xba34869a, 0x83b9ba5f, 0x94c2ae1c,\n+    0x4b7b61cd, 0x5c00758e, 0x658d494b, 0x72f65d08, 0x169730c1,\n+    0x01ec2482, 0x38611847, 0x2f1a0c04, 0x6655004f, 0x712e140c,\n+    0x48a328c9, 0x5fd83c8a, 0x3bb95143, 0x2cc24500, 0x154f79c5,\n+    0x02346d86, 0xdd8da257, 0xcaf6b614, 0xf37b8ad1, 0xe4009e92,\n+    0x8061f35b, 0x971ae718, 0xae97dbdd, 0xb9eccf9e, 0xca95423e,\n+    0xddee567d, 0xe4636ab8, 0xf3187efb, 0x97791332, 0x80020771,\n+    0xb98f3bb4, 0xaef42ff7, 0x714de026, 0x6636f465, 0x5fbbc8a0,\n+    0x48c0dce3, 0x2ca1b12a, 0x3bdaa569, 0x025799ac, 0x152c8def,\n+    0xe4a482ec, 0xf3df96af, 0xca52aa6a, 0xdd29be29, 0xb948d3e0,\n+    0xae33c7a3, 0x97befb66, 0x80c5ef25, 0x5f7c20f4, 0x480734b7,\n+    0x718a0872, 0x66f11c31, 0x029071f8, 0x15eb65bb, 0x2c66597e,\n+    0x3b1d4d3d, 0x4864c09d, 0x5f1fd4de, 0x6692e81b, 0x71e9fc58,\n+    0x15889191, 0x02f385d2, 0x3b7eb917, 0x2c05ad54, 0xf3bc6285,\n+    0xe4c776c6, 0xdd4a4a03, 0xca315e40, 0xae503389, 0xb92b27ca,\n+    0x80a61b0f, 0x97dd0f4c, 0xb8c70348, 0xafbc170b, 0x96312bce,\n+    0x814a3f8d, 0xe52b5244, 0xf2504607, 0xcbdd7ac2, 0xdca66e81,\n+    0x031fa150, 0x1464b513, 0x2de989d6, 0x3a929d95, 0x5ef3f05c,\n+    0x4988e41f, 0x7005d8da, 0x677ecc99, 0x14074139, 0x037c557a,\n+    0x3af169bf, 0x2d8a7dfc, 0x49eb1035, 0x5e900476, 0x671d38b3,\n+    0x70662cf0, 0xafdfe321, 0xb8a4f762, 0x8129cba7, 0x9652dfe4,\n+    0xf233b22d, 0xe548a66e, 0xdcc59aab, 0xcbbe8ee8, 0x3a3681eb,\n+    0x2d4d95a8, 0x14c0a96d, 0x03bbbd2e, 0x67dad0e7, 0x70a1c4a4,\n+    0x492cf861, 0x5e57ec22, 0x81ee23f3, 0x969537b0, 0xaf180b75,\n+    0xb8631f36, 0xdc0272ff, 0xcb7966bc, 0xf2f45a79, 0xe58f4e3a,\n+    0x96f6c39a, 0x818dd7d9, 0xb800eb1c, 0xaf7bff5f, 0xcb1a9296,\n+    0xdc6186d5, 0xe5ecba10, 0xf297ae53, 0x2d2e6182, 0x3a5575c1,\n+    0x03d84904, 0x14a35d47, 0x70c2308e, 0x67b924cd, 0x5e341808,\n+    0x494f0c4b}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0x43147b1700000000, 0x8628f62e00000000,\n+    0xc53c8d3900000000, 0x0c51ec5d00000000, 0x4f45974a00000000,\n+    0x8a791a7300000000, 0xc96d616400000000, 0x18a2d8bb00000000,\n+    0x5bb6a3ac00000000, 0x9e8a2e9500000000, 0xdd9e558200000000,\n+    0x14f334e600000000, 0x57e74ff100000000, 0x92dbc2c800000000,\n+    0xd1cfb9df00000000, 0x7142c0ac00000000, 0x3256bbbb00000000,\n+    0xf76a368200000000, 0xb47e4d9500000000, 0x7d132cf100000000,\n+    0x3e0757e600000000, 0xfb3bdadf00000000, 0xb82fa1c800000000,\n+    0x69e0181700000000, 0x2af4630000000000, 0xefc8ee3900000000,\n+    0xacdc952e00000000, 0x65b1f44a00000000, 0x26a58f5d00000000,\n+    0xe399026400000000, 0xa08d797300000000, 0xa382f18200000000,\n+    0xe0968a9500000000, 0x25aa07ac00000000, 0x66be7cbb00000000,\n+    0xafd31ddf00000000, 0xecc766c800000000, 0x29fbebf100000000,\n+    0x6aef90e600000000, 0xbb20293900000000, 0xf834522e00000000,\n+    0x3d08df1700000000, 0x7e1ca40000000000, 0xb771c56400000000,\n+    0xf465be7300000000, 0x3159334a00000000, 0x724d485d00000000,\n+    0xd2c0312e00000000, 0x91d44a3900000000, 0x54e8c70000000000,\n+    0x17fcbc1700000000, 0xde91dd7300000000, 0x9d85a66400000000,\n+    0x58b92b5d00000000, 0x1bad504a00000000, 0xca62e99500000000,\n+    0x8976928200000000, 0x4c4a1fbb00000000, 0x0f5e64ac00000000,\n+    0xc63305c800000000, 0x85277edf00000000, 0x401bf3e600000000,\n+    0x030f88f100000000, 0x070392de00000000, 0x4417e9c900000000,\n+    0x812b64f000000000, 0xc23f1fe700000000, 0x0b527e8300000000,\n+    0x4846059400000000, 0x8d7a88ad00000000, 0xce6ef3ba00000000,\n+    0x1fa14a6500000000, 0x5cb5317200000000, 0x9989bc4b00000000,\n+    0xda9dc75c00000000, 0x13f0a63800000000, 0x50e4dd2f00000000,\n+    0x95d8501600000000, 0xd6cc2b0100000000, 0x7641527200000000,\n+    0x3555296500000000, 0xf069a45c00000000, 0xb37ddf4b00000000,\n+    0x7a10be2f00000000, 0x3904c53800000000, 0xfc38480100000000,\n+    0xbf2c331600000000, 0x6ee38ac900000000, 0x2df7f1de00000000,\n+    0xe8cb7ce700000000, 0xabdf07f000000000, 0x62b2669400000000,\n+    0x21a61d8300000000, 0xe49a90ba00000000, 0xa78eebad00000000,\n+    0xa481635c00000000, 0xe795184b00000000, 0x22a9957200000000,\n+    0x61bdee6500000000, 0xa8d08f0100000000, 0xebc4f41600000000,\n+    0x2ef8792f00000000, 0x6dec023800000000, 0xbc23bbe700000000,\n+    0xff37c0f000000000, 0x3a0b4dc900000000, 0x791f36de00000000,\n+    0xb07257ba00000000, 0xf3662cad00000000, 0x365aa19400000000,\n+    0x754eda8300000000, 0xd5c3a3f000000000, 0x96d7d8e700000000,\n+    0x53eb55de00000000, 0x10ff2ec900000000, 0xd9924fad00000000,\n+    0x9a8634ba00000000, 0x5fbab98300000000, 0x1caec29400000000,\n+    0xcd617b4b00000000, 0x8e75005c00000000, 0x4b498d6500000000,\n+    0x085df67200000000, 0xc130971600000000, 0x8224ec0100000000,\n+    0x4718613800000000, 0x040c1a2f00000000, 0x4f00556600000000,\n+    0x0c142e7100000000, 0xc928a34800000000, 0x8a3cd85f00000000,\n+    0x4351b93b00000000, 0x0045c22c00000000, 0xc5794f1500000000,\n+    0x866d340200000000, 0x57a28ddd00000000, 0x14b6f6ca00000000,\n+    0xd18a7bf300000000, 0x929e00e400000000, 0x5bf3618000000000,\n+    0x18e71a9700000000, 0xdddb97ae00000000, 0x9ecfecb900000000,\n+    0x3e4295ca00000000, 0x7d56eedd00000000, 0xb86a63e400000000,\n+    0xfb7e18f300000000, 0x3213799700000000, 0x7107028000000000,\n+    0xb43b8fb900000000, 0xf72ff4ae00000000, 0x26e04d7100000000,\n+    0x65f4366600000000, 0xa0c8bb5f00000000, 0xe3dcc04800000000,\n+    0x2ab1a12c00000000, 0x69a5da3b00000000, 0xac99570200000000,\n+    0xef8d2c1500000000, 0xec82a4e400000000, 0xaf96dff300000000,\n+    0x6aaa52ca00000000, 0x29be29dd00000000, 0xe0d348b900000000,\n+    0xa3c733ae00000000, 0x66fbbe9700000000, 0x25efc58000000000,\n+    0xf4207c5f00000000, 0xb734074800000000, 0x72088a7100000000,\n+    0x311cf16600000000, 0xf871900200000000, 0xbb65eb1500000000,\n+    0x7e59662c00000000, 0x3d4d1d3b00000000, 0x9dc0644800000000,\n+    0xded41f5f00000000, 0x1be8926600000000, 0x58fce97100000000,\n+    0x9191881500000000, 0xd285f30200000000, 0x17b97e3b00000000,\n+    0x54ad052c00000000, 0x8562bcf300000000, 0xc676c7e400000000,\n+    0x034a4add00000000, 0x405e31ca00000000, 0x893350ae00000000,\n+    0xca272bb900000000, 0x0f1ba68000000000, 0x4c0fdd9700000000,\n+    0x4803c7b800000000, 0x0b17bcaf00000000, 0xce2b319600000000,\n+    0x8d3f4a8100000000, 0x44522be500000000, 0x074650f200000000,\n+    0xc27addcb00000000, 0x816ea6dc00000000, 0x50a11f0300000000,\n+    0x13b5641400000000, 0xd689e92d00000000, 0x959d923a00000000,\n+    0x5cf0f35e00000000, 0x1fe4884900000000, 0xdad8057000000000,\n+    0x99cc7e6700000000, 0x3941071400000000, 0x7a557c0300000000,\n+    0xbf69f13a00000000, 0xfc7d8a2d00000000, 0x3510eb4900000000,\n+    0x7604905e00000000, 0xb3381d6700000000, 0xf02c667000000000,\n+    0x21e3dfaf00000000, 0x62f7a4b800000000, 0xa7cb298100000000,\n+    0xe4df529600000000, 0x2db233f200000000, 0x6ea648e500000000,\n+    0xab9ac5dc00000000, 0xe88ebecb00000000, 0xeb81363a00000000,\n+    0xa8954d2d00000000, 0x6da9c01400000000, 0x2ebdbb0300000000,\n+    0xe7d0da6700000000, 0xa4c4a17000000000, 0x61f82c4900000000,\n+    0x22ec575e00000000, 0xf323ee8100000000, 0xb037959600000000,\n+    0x750b18af00000000, 0x361f63b800000000, 0xff7202dc00000000,\n+    0xbc6679cb00000000, 0x795af4f200000000, 0x3a4e8fe500000000,\n+    0x9ac3f69600000000, 0xd9d78d8100000000, 0x1ceb00b800000000,\n+    0x5fff7baf00000000, 0x96921acb00000000, 0xd58661dc00000000,\n+    0x10baece500000000, 0x53ae97f200000000, 0x82612e2d00000000,\n+    0xc175553a00000000, 0x0449d80300000000, 0x475da31400000000,\n+    0x8e30c27000000000, 0xcd24b96700000000, 0x0818345e00000000,\n+    0x4b0c4f4900000000},\n+   {0x0000000000000000, 0x3e6bc2ef00000000, 0x3dd0f50400000000,\n+    0x03bb37eb00000000, 0x7aa0eb0900000000, 0x44cb29e600000000,\n+    0x47701e0d00000000, 0x791bdce200000000, 0xf440d71300000000,\n+    0xca2b15fc00000000, 0xc990221700000000, 0xf7fbe0f800000000,\n+    0x8ee03c1a00000000, 0xb08bfef500000000, 0xb330c91e00000000,\n+    0x8d5b0bf100000000, 0xe881ae2700000000, 0xd6ea6cc800000000,\n+    0xd5515b2300000000, 0xeb3a99cc00000000, 0x9221452e00000000,\n+    0xac4a87c100000000, 0xaff1b02a00000000, 0x919a72c500000000,\n+    0x1cc1793400000000, 0x22aabbdb00000000, 0x21118c3000000000,\n+    0x1f7a4edf00000000, 0x6661923d00000000, 0x580a50d200000000,\n+    0x5bb1673900000000, 0x65daa5d600000000, 0xd0035d4f00000000,\n+    0xee689fa000000000, 0xedd3a84b00000000, 0xd3b86aa400000000,\n+    0xaaa3b64600000000, 0x94c874a900000000, 0x9773434200000000,\n+    0xa91881ad00000000, 0x24438a5c00000000, 0x1a2848b300000000,\n+    0x19937f5800000000, 0x27f8bdb700000000, 0x5ee3615500000000,\n+    0x6088a3ba00000000, 0x6333945100000000, 0x5d5856be00000000,\n+    0x3882f36800000000, 0x06e9318700000000, 0x0552066c00000000,\n+    0x3b39c48300000000, 0x4222186100000000, 0x7c49da8e00000000,\n+    0x7ff2ed6500000000, 0x41992f8a00000000, 0xccc2247b00000000,\n+    0xf2a9e69400000000, 0xf112d17f00000000, 0xcf79139000000000,\n+    0xb662cf7200000000, 0x88090d9d00000000, 0x8bb23a7600000000,\n+    0xb5d9f89900000000, 0xa007ba9e00000000, 0x9e6c787100000000,\n+    0x9dd74f9a00000000, 0xa3bc8d7500000000, 0xdaa7519700000000,\n+    0xe4cc937800000000, 0xe777a49300000000, 0xd91c667c00000000,\n+    0x54476d8d00000000, 0x6a2caf6200000000, 0x6997988900000000,\n+    0x57fc5a6600000000, 0x2ee7868400000000, 0x108c446b00000000,\n+    0x1337738000000000, 0x2d5cb16f00000000, 0x488614b900000000,\n+    0x76edd65600000000, 0x7556e1bd00000000, 0x4b3d235200000000,\n+    0x3226ffb000000000, 0x0c4d3d5f00000000, 0x0ff60ab400000000,\n+    0x319dc85b00000000, 0xbcc6c3aa00000000, 0x82ad014500000000,\n+    0x811636ae00000000, 0xbf7df44100000000, 0xc66628a300000000,\n+    0xf80dea4c00000000, 0xfbb6dda700000000, 0xc5dd1f4800000000,\n+    0x7004e7d100000000, 0x4e6f253e00000000, 0x4dd412d500000000,\n+    0x73bfd03a00000000, 0x0aa40cd800000000, 0x34cfce3700000000,\n+    0x3774f9dc00000000, 0x091f3b3300000000, 0x844430c200000000,\n+    0xba2ff22d00000000, 0xb994c5c600000000, 0x87ff072900000000,\n+    0xfee4dbcb00000000, 0xc08f192400000000, 0xc3342ecf00000000,\n+    0xfd5fec2000000000, 0x988549f600000000, 0xa6ee8b1900000000,\n+    0xa555bcf200000000, 0x9b3e7e1d00000000, 0xe225a2ff00000000,\n+    0xdc4e601000000000, 0xdff557fb00000000, 0xe19e951400000000,\n+    0x6cc59ee500000000, 0x52ae5c0a00000000, 0x51156be100000000,\n+    0x6f7ea90e00000000, 0x166575ec00000000, 0x280eb70300000000,\n+    0x2bb580e800000000, 0x15de420700000000, 0x010905e600000000,\n+    0x3f62c70900000000, 0x3cd9f0e200000000, 0x02b2320d00000000,\n+    0x7ba9eeef00000000, 0x45c22c0000000000, 0x46791beb00000000,\n+    0x7812d90400000000, 0xf549d2f500000000, 0xcb22101a00000000,\n+    0xc89927f100000000, 0xf6f2e51e00000000, 0x8fe939fc00000000,\n+    0xb182fb1300000000, 0xb239ccf800000000, 0x8c520e1700000000,\n+    0xe988abc100000000, 0xd7e3692e00000000, 0xd4585ec500000000,\n+    0xea339c2a00000000, 0x932840c800000000, 0xad43822700000000,\n+    0xaef8b5cc00000000, 0x9093772300000000, 0x1dc87cd200000000,\n+    0x23a3be3d00000000, 0x201889d600000000, 0x1e734b3900000000,\n+    0x676897db00000000, 0x5903553400000000, 0x5ab862df00000000,\n+    0x64d3a03000000000, 0xd10a58a900000000, 0xef619a4600000000,\n+    0xecdaadad00000000, 0xd2b16f4200000000, 0xabaab3a000000000,\n+    0x95c1714f00000000, 0x967a46a400000000, 0xa811844b00000000,\n+    0x254a8fba00000000, 0x1b214d5500000000, 0x189a7abe00000000,\n+    0x26f1b85100000000, 0x5fea64b300000000, 0x6181a65c00000000,\n+    0x623a91b700000000, 0x5c51535800000000, 0x398bf68e00000000,\n+    0x07e0346100000000, 0x045b038a00000000, 0x3a30c16500000000,\n+    0x432b1d8700000000, 0x7d40df6800000000, 0x7efbe88300000000,\n+    0x40902a6c00000000, 0xcdcb219d00000000, 0xf3a0e37200000000,\n+    0xf01bd49900000000, 0xce70167600000000, 0xb76bca9400000000,\n+    0x8900087b00000000, 0x8abb3f9000000000, 0xb4d0fd7f00000000,\n+    0xa10ebf7800000000, 0x9f657d9700000000, 0x9cde4a7c00000000,\n+    0xa2b5889300000000, 0xdbae547100000000, 0xe5c5969e00000000,\n+    0xe67ea17500000000, 0xd815639a00000000, 0x554e686b00000000,\n+    0x6b25aa8400000000, 0x689e9d6f00000000, 0x56f55f8000000000,\n+    0x2fee836200000000, 0x1185418d00000000, 0x123e766600000000,\n+    0x2c55b48900000000, 0x498f115f00000000, 0x77e4d3b000000000,\n+    0x745fe45b00000000, 0x4a3426b400000000, 0x332ffa5600000000,\n+    0x0d4438b900000000, 0x0eff0f5200000000, 0x3094cdbd00000000,\n+    0xbdcfc64c00000000, 0x83a404a300000000, 0x801f334800000000,\n+    0xbe74f1a700000000, 0xc76f2d4500000000, 0xf904efaa00000000,\n+    0xfabfd84100000000, 0xc4d41aae00000000, 0x710de23700000000,\n+    0x4f6620d800000000, 0x4cdd173300000000, 0x72b6d5dc00000000,\n+    0x0bad093e00000000, 0x35c6cbd100000000, 0x367dfc3a00000000,\n+    0x08163ed500000000, 0x854d352400000000, 0xbb26f7cb00000000,\n+    0xb89dc02000000000, 0x86f602cf00000000, 0xffedde2d00000000,\n+    0xc1861cc200000000, 0xc23d2b2900000000, 0xfc56e9c600000000,\n+    0x998c4c1000000000, 0xa7e78eff00000000, 0xa45cb91400000000,\n+    0x9a377bfb00000000, 0xe32ca71900000000, 0xdd4765f600000000,\n+    0xdefc521d00000000, 0xe09790f200000000, 0x6dcc9b0300000000,\n+    0x53a759ec00000000, 0x501c6e0700000000, 0x6e77ace800000000,\n+    0x176c700a00000000, 0x2907b2e500000000, 0x2abc850e00000000,\n+    0x14d747e100000000},\n+   {0x0000000000000000, 0xc0df8ec100000000, 0xc1b96c5800000000,\n+    0x0166e29900000000, 0x8273d9b000000000, 0x42ac577100000000,\n+    0x43cab5e800000000, 0x83153b2900000000, 0x45e1c3ba00000000,\n+    0x853e4d7b00000000, 0x8458afe200000000, 0x4487212300000000,\n+    0xc7921a0a00000000, 0x074d94cb00000000, 0x062b765200000000,\n+    0xc6f4f89300000000, 0xcbc4f6ae00000000, 0x0b1b786f00000000,\n+    0x0a7d9af600000000, 0xcaa2143700000000, 0x49b72f1e00000000,\n+    0x8968a1df00000000, 0x880e434600000000, 0x48d1cd8700000000,\n+    0x8e25351400000000, 0x4efabbd500000000, 0x4f9c594c00000000,\n+    0x8f43d78d00000000, 0x0c56eca400000000, 0xcc89626500000000,\n+    0xcdef80fc00000000, 0x0d300e3d00000000, 0xd78f9c8600000000,\n+    0x1750124700000000, 0x1636f0de00000000, 0xd6e97e1f00000000,\n+    0x55fc453600000000, 0x9523cbf700000000, 0x9445296e00000000,\n+    0x549aa7af00000000, 0x926e5f3c00000000, 0x52b1d1fd00000000,\n+    0x53d7336400000000, 0x9308bda500000000, 0x101d868c00000000,\n+    0xd0c2084d00000000, 0xd1a4ead400000000, 0x117b641500000000,\n+    0x1c4b6a2800000000, 0xdc94e4e900000000, 0xddf2067000000000,\n+    0x1d2d88b100000000, 0x9e38b39800000000, 0x5ee73d5900000000,\n+    0x5f81dfc000000000, 0x9f5e510100000000, 0x59aaa99200000000,\n+    0x9975275300000000, 0x9813c5ca00000000, 0x58cc4b0b00000000,\n+    0xdbd9702200000000, 0x1b06fee300000000, 0x1a601c7a00000000,\n+    0xdabf92bb00000000, 0xef1948d600000000, 0x2fc6c61700000000,\n+    0x2ea0248e00000000, 0xee7faa4f00000000, 0x6d6a916600000000,\n+    0xadb51fa700000000, 0xacd3fd3e00000000, 0x6c0c73ff00000000,\n+    0xaaf88b6c00000000, 0x6a2705ad00000000, 0x6b41e73400000000,\n+    0xab9e69f500000000, 0x288b52dc00000000, 0xe854dc1d00000000,\n+    0xe9323e8400000000, 0x29edb04500000000, 0x24ddbe7800000000,\n+    0xe40230b900000000, 0xe564d22000000000, 0x25bb5ce100000000,\n+    0xa6ae67c800000000, 0x6671e90900000000, 0x67170b9000000000,\n+    0xa7c8855100000000, 0x613c7dc200000000, 0xa1e3f30300000000,\n+    0xa085119a00000000, 0x605a9f5b00000000, 0xe34fa47200000000,\n+    0x23902ab300000000, 0x22f6c82a00000000, 0xe22946eb00000000,\n+    0x3896d45000000000, 0xf8495a9100000000, 0xf92fb80800000000,\n+    0x39f036c900000000, 0xbae50de000000000, 0x7a3a832100000000,\n+    0x7b5c61b800000000, 0xbb83ef7900000000, 0x7d7717ea00000000,\n+    0xbda8992b00000000, 0xbcce7bb200000000, 0x7c11f57300000000,\n+    0xff04ce5a00000000, 0x3fdb409b00000000, 0x3ebda20200000000,\n+    0xfe622cc300000000, 0xf35222fe00000000, 0x338dac3f00000000,\n+    0x32eb4ea600000000, 0xf234c06700000000, 0x7121fb4e00000000,\n+    0xb1fe758f00000000, 0xb098971600000000, 0x704719d700000000,\n+    0xb6b3e14400000000, 0x766c6f8500000000, 0x770a8d1c00000000,\n+    0xb7d503dd00000000, 0x34c038f400000000, 0xf41fb63500000000,\n+    0xf57954ac00000000, 0x35a6da6d00000000, 0x9f35e17700000000,\n+    0x5fea6fb600000000, 0x5e8c8d2f00000000, 0x9e5303ee00000000,\n+    0x1d4638c700000000, 0xdd99b60600000000, 0xdcff549f00000000,\n+    0x1c20da5e00000000, 0xdad422cd00000000, 0x1a0bac0c00000000,\n+    0x1b6d4e9500000000, 0xdbb2c05400000000, 0x58a7fb7d00000000,\n+    0x987875bc00000000, 0x991e972500000000, 0x59c119e400000000,\n+    0x54f117d900000000, 0x942e991800000000, 0x95487b8100000000,\n+    0x5597f54000000000, 0xd682ce6900000000, 0x165d40a800000000,\n+    0x173ba23100000000, 0xd7e42cf000000000, 0x1110d46300000000,\n+    0xd1cf5aa200000000, 0xd0a9b83b00000000, 0x107636fa00000000,\n+    0x93630dd300000000, 0x53bc831200000000, 0x52da618b00000000,\n+    0x9205ef4a00000000, 0x48ba7df100000000, 0x8865f33000000000,\n+    0x890311a900000000, 0x49dc9f6800000000, 0xcac9a44100000000,\n+    0x0a162a8000000000, 0x0b70c81900000000, 0xcbaf46d800000000,\n+    0x0d5bbe4b00000000, 0xcd84308a00000000, 0xcce2d21300000000,\n+    0x0c3d5cd200000000, 0x8f2867fb00000000, 0x4ff7e93a00000000,\n+    0x4e910ba300000000, 0x8e4e856200000000, 0x837e8b5f00000000,\n+    0x43a1059e00000000, 0x42c7e70700000000, 0x821869c600000000,\n+    0x010d52ef00000000, 0xc1d2dc2e00000000, 0xc0b43eb700000000,\n+    0x006bb07600000000, 0xc69f48e500000000, 0x0640c62400000000,\n+    0x072624bd00000000, 0xc7f9aa7c00000000, 0x44ec915500000000,\n+    0x84331f9400000000, 0x8555fd0d00000000, 0x458a73cc00000000,\n+    0x702ca9a100000000, 0xb0f3276000000000, 0xb195c5f900000000,\n+    0x714a4b3800000000, 0xf25f701100000000, 0x3280fed000000000,\n+    0x33e61c4900000000, 0xf339928800000000, 0x35cd6a1b00000000,\n+    0xf512e4da00000000, 0xf474064300000000, 0x34ab888200000000,\n+    0xb7beb3ab00000000, 0x77613d6a00000000, 0x7607dff300000000,\n+    0xb6d8513200000000, 0xbbe85f0f00000000, 0x7b37d1ce00000000,\n+    0x7a51335700000000, 0xba8ebd9600000000, 0x399b86bf00000000,\n+    0xf944087e00000000, 0xf822eae700000000, 0x38fd642600000000,\n+    0xfe099cb500000000, 0x3ed6127400000000, 0x3fb0f0ed00000000,\n+    0xff6f7e2c00000000, 0x7c7a450500000000, 0xbca5cbc400000000,\n+    0xbdc3295d00000000, 0x7d1ca79c00000000, 0xa7a3352700000000,\n+    0x677cbbe600000000, 0x661a597f00000000, 0xa6c5d7be00000000,\n+    0x25d0ec9700000000, 0xe50f625600000000, 0xe46980cf00000000,\n+    0x24b60e0e00000000, 0xe242f69d00000000, 0x229d785c00000000,\n+    0x23fb9ac500000000, 0xe324140400000000, 0x60312f2d00000000,\n+    0xa0eea1ec00000000, 0xa188437500000000, 0x6157cdb400000000,\n+    0x6c67c38900000000, 0xacb84d4800000000, 0xaddeafd100000000,\n+    0x6d01211000000000, 0xee141a3900000000, 0x2ecb94f800000000,\n+    0x2fad766100000000, 0xef72f8a000000000, 0x2986003300000000,\n+    0xe9598ef200000000, 0xe83f6c6b00000000, 0x28e0e2aa00000000,\n+    0xabf5d98300000000, 0x6b2a574200000000, 0x6a4cb5db00000000,\n+    0xaa933b1a00000000},\n+   {0x0000000000000000, 0x6f4ca59b00000000, 0x9f9e3bec00000000,\n+    0xf0d29e7700000000, 0x7f3b060300000000, 0x1077a39800000000,\n+    0xe0a53def00000000, 0x8fe9987400000000, 0xfe760c0600000000,\n+    0x913aa99d00000000, 0x61e837ea00000000, 0x0ea4927100000000,\n+    0x814d0a0500000000, 0xee01af9e00000000, 0x1ed331e900000000,\n+    0x719f947200000000, 0xfced180c00000000, 0x93a1bd9700000000,\n+    0x637323e000000000, 0x0c3f867b00000000, 0x83d61e0f00000000,\n+    0xec9abb9400000000, 0x1c4825e300000000, 0x7304807800000000,\n+    0x029b140a00000000, 0x6dd7b19100000000, 0x9d052fe600000000,\n+    0xf2498a7d00000000, 0x7da0120900000000, 0x12ecb79200000000,\n+    0xe23e29e500000000, 0x8d728c7e00000000, 0xf8db311800000000,\n+    0x9797948300000000, 0x67450af400000000, 0x0809af6f00000000,\n+    0x87e0371b00000000, 0xe8ac928000000000, 0x187e0cf700000000,\n+    0x7732a96c00000000, 0x06ad3d1e00000000, 0x69e1988500000000,\n+    0x993306f200000000, 0xf67fa36900000000, 0x79963b1d00000000,\n+    0x16da9e8600000000, 0xe60800f100000000, 0x8944a56a00000000,\n+    0x0436291400000000, 0x6b7a8c8f00000000, 0x9ba812f800000000,\n+    0xf4e4b76300000000, 0x7b0d2f1700000000, 0x14418a8c00000000,\n+    0xe49314fb00000000, 0x8bdfb16000000000, 0xfa40251200000000,\n+    0x950c808900000000, 0x65de1efe00000000, 0x0a92bb6500000000,\n+    0x857b231100000000, 0xea37868a00000000, 0x1ae518fd00000000,\n+    0x75a9bd6600000000, 0xf0b7633000000000, 0x9ffbc6ab00000000,\n+    0x6f2958dc00000000, 0x0065fd4700000000, 0x8f8c653300000000,\n+    0xe0c0c0a800000000, 0x10125edf00000000, 0x7f5efb4400000000,\n+    0x0ec16f3600000000, 0x618dcaad00000000, 0x915f54da00000000,\n+    0xfe13f14100000000, 0x71fa693500000000, 0x1eb6ccae00000000,\n+    0xee6452d900000000, 0x8128f74200000000, 0x0c5a7b3c00000000,\n+    0x6316dea700000000, 0x93c440d000000000, 0xfc88e54b00000000,\n+    0x73617d3f00000000, 0x1c2dd8a400000000, 0xecff46d300000000,\n+    0x83b3e34800000000, 0xf22c773a00000000, 0x9d60d2a100000000,\n+    0x6db24cd600000000, 0x02fee94d00000000, 0x8d17713900000000,\n+    0xe25bd4a200000000, 0x12894ad500000000, 0x7dc5ef4e00000000,\n+    0x086c522800000000, 0x6720f7b300000000, 0x97f269c400000000,\n+    0xf8becc5f00000000, 0x7757542b00000000, 0x181bf1b000000000,\n+    0xe8c96fc700000000, 0x8785ca5c00000000, 0xf61a5e2e00000000,\n+    0x9956fbb500000000, 0x698465c200000000, 0x06c8c05900000000,\n+    0x8921582d00000000, 0xe66dfdb600000000, 0x16bf63c100000000,\n+    0x79f3c65a00000000, 0xf4814a2400000000, 0x9bcdefbf00000000,\n+    0x6b1f71c800000000, 0x0453d45300000000, 0x8bba4c2700000000,\n+    0xe4f6e9bc00000000, 0x142477cb00000000, 0x7b68d25000000000,\n+    0x0af7462200000000, 0x65bbe3b900000000, 0x95697dce00000000,\n+    0xfa25d85500000000, 0x75cc402100000000, 0x1a80e5ba00000000,\n+    0xea527bcd00000000, 0x851ede5600000000, 0xe06fc76000000000,\n+    0x8f2362fb00000000, 0x7ff1fc8c00000000, 0x10bd591700000000,\n+    0x9f54c16300000000, 0xf01864f800000000, 0x00cafa8f00000000,\n+    0x6f865f1400000000, 0x1e19cb6600000000, 0x71556efd00000000,\n+    0x8187f08a00000000, 0xeecb551100000000, 0x6122cd6500000000,\n+    0x0e6e68fe00000000, 0xfebcf68900000000, 0x91f0531200000000,\n+    0x1c82df6c00000000, 0x73ce7af700000000, 0x831ce48000000000,\n+    0xec50411b00000000, 0x63b9d96f00000000, 0x0cf57cf400000000,\n+    0xfc27e28300000000, 0x936b471800000000, 0xe2f4d36a00000000,\n+    0x8db876f100000000, 0x7d6ae88600000000, 0x12264d1d00000000,\n+    0x9dcfd56900000000, 0xf28370f200000000, 0x0251ee8500000000,\n+    0x6d1d4b1e00000000, 0x18b4f67800000000, 0x77f853e300000000,\n+    0x872acd9400000000, 0xe866680f00000000, 0x678ff07b00000000,\n+    0x08c355e000000000, 0xf811cb9700000000, 0x975d6e0c00000000,\n+    0xe6c2fa7e00000000, 0x898e5fe500000000, 0x795cc19200000000,\n+    0x1610640900000000, 0x99f9fc7d00000000, 0xf6b559e600000000,\n+    0x0667c79100000000, 0x692b620a00000000, 0xe459ee7400000000,\n+    0x8b154bef00000000, 0x7bc7d59800000000, 0x148b700300000000,\n+    0x9b62e87700000000, 0xf42e4dec00000000, 0x04fcd39b00000000,\n+    0x6bb0760000000000, 0x1a2fe27200000000, 0x756347e900000000,\n+    0x85b1d99e00000000, 0xeafd7c0500000000, 0x6514e47100000000,\n+    0x0a5841ea00000000, 0xfa8adf9d00000000, 0x95c67a0600000000,\n+    0x10d8a45000000000, 0x7f9401cb00000000, 0x8f469fbc00000000,\n+    0xe00a3a2700000000, 0x6fe3a25300000000, 0x00af07c800000000,\n+    0xf07d99bf00000000, 0x9f313c2400000000, 0xeeaea85600000000,\n+    0x81e20dcd00000000, 0x713093ba00000000, 0x1e7c362100000000,\n+    0x9195ae5500000000, 0xfed90bce00000000, 0x0e0b95b900000000,\n+    0x6147302200000000, 0xec35bc5c00000000, 0x837919c700000000,\n+    0x73ab87b000000000, 0x1ce7222b00000000, 0x930eba5f00000000,\n+    0xfc421fc400000000, 0x0c9081b300000000, 0x63dc242800000000,\n+    0x1243b05a00000000, 0x7d0f15c100000000, 0x8ddd8bb600000000,\n+    0xe2912e2d00000000, 0x6d78b65900000000, 0x023413c200000000,\n+    0xf2e68db500000000, 0x9daa282e00000000, 0xe803954800000000,\n+    0x874f30d300000000, 0x779daea400000000, 0x18d10b3f00000000,\n+    0x9738934b00000000, 0xf87436d000000000, 0x08a6a8a700000000,\n+    0x67ea0d3c00000000, 0x1675994e00000000, 0x79393cd500000000,\n+    0x89eba2a200000000, 0xe6a7073900000000, 0x694e9f4d00000000,\n+    0x06023ad600000000, 0xf6d0a4a100000000, 0x999c013a00000000,\n+    0x14ee8d4400000000, 0x7ba228df00000000, 0x8b70b6a800000000,\n+    0xe43c133300000000, 0x6bd58b4700000000, 0x04992edc00000000,\n+    0xf44bb0ab00000000, 0x9b07153000000000, 0xea98814200000000,\n+    0x85d424d900000000, 0x7506baae00000000, 0x1a4a1f3500000000,\n+    0x95a3874100000000, 0xfaef22da00000000, 0x0a3dbcad00000000,\n+    0x6571193600000000},\n+   {0x0000000000000000, 0x85d996dd00000000, 0x4bb55c6000000000,\n+    0xce6ccabd00000000, 0x966ab9c000000000, 0x13b32f1d00000000,\n+    0xdddfe5a000000000, 0x5806737d00000000, 0x6dd3035a00000000,\n+    0xe80a958700000000, 0x26665f3a00000000, 0xa3bfc9e700000000,\n+    0xfbb9ba9a00000000, 0x7e602c4700000000, 0xb00ce6fa00000000,\n+    0x35d5702700000000, 0xdaa607b400000000, 0x5f7f916900000000,\n+    0x91135bd400000000, 0x14cacd0900000000, 0x4cccbe7400000000,\n+    0xc91528a900000000, 0x0779e21400000000, 0x82a074c900000000,\n+    0xb77504ee00000000, 0x32ac923300000000, 0xfcc0588e00000000,\n+    0x7919ce5300000000, 0x211fbd2e00000000, 0xa4c62bf300000000,\n+    0x6aaae14e00000000, 0xef73779300000000, 0xf54b7eb300000000,\n+    0x7092e86e00000000, 0xbefe22d300000000, 0x3b27b40e00000000,\n+    0x6321c77300000000, 0xe6f851ae00000000, 0x28949b1300000000,\n+    0xad4d0dce00000000, 0x98987de900000000, 0x1d41eb3400000000,\n+    0xd32d218900000000, 0x56f4b75400000000, 0x0ef2c42900000000,\n+    0x8b2b52f400000000, 0x4547984900000000, 0xc09e0e9400000000,\n+    0x2fed790700000000, 0xaa34efda00000000, 0x6458256700000000,\n+    0xe181b3ba00000000, 0xb987c0c700000000, 0x3c5e561a00000000,\n+    0xf2329ca700000000, 0x77eb0a7a00000000, 0x423e7a5d00000000,\n+    0xc7e7ec8000000000, 0x098b263d00000000, 0x8c52b0e000000000,\n+    0xd454c39d00000000, 0x518d554000000000, 0x9fe19ffd00000000,\n+    0x1a38092000000000, 0xab918dbd00000000, 0x2e481b6000000000,\n+    0xe024d1dd00000000, 0x65fd470000000000, 0x3dfb347d00000000,\n+    0xb822a2a000000000, 0x764e681d00000000, 0xf397fec000000000,\n+    0xc6428ee700000000, 0x439b183a00000000, 0x8df7d28700000000,\n+    0x082e445a00000000, 0x5028372700000000, 0xd5f1a1fa00000000,\n+    0x1b9d6b4700000000, 0x9e44fd9a00000000, 0x71378a0900000000,\n+    0xf4ee1cd400000000, 0x3a82d66900000000, 0xbf5b40b400000000,\n+    0xe75d33c900000000, 0x6284a51400000000, 0xace86fa900000000,\n+    0x2931f97400000000, 0x1ce4895300000000, 0x993d1f8e00000000,\n+    0x5751d53300000000, 0xd28843ee00000000, 0x8a8e309300000000,\n+    0x0f57a64e00000000, 0xc13b6cf300000000, 0x44e2fa2e00000000,\n+    0x5edaf30e00000000, 0xdb0365d300000000, 0x156faf6e00000000,\n+    0x90b639b300000000, 0xc8b04ace00000000, 0x4d69dc1300000000,\n+    0x830516ae00000000, 0x06dc807300000000, 0x3309f05400000000,\n+    0xb6d0668900000000, 0x78bcac3400000000, 0xfd653ae900000000,\n+    0xa563499400000000, 0x20badf4900000000, 0xeed615f400000000,\n+    0x6b0f832900000000, 0x847cf4ba00000000, 0x01a5626700000000,\n+    0xcfc9a8da00000000, 0x4a103e0700000000, 0x12164d7a00000000,\n+    0x97cfdba700000000, 0x59a3111a00000000, 0xdc7a87c700000000,\n+    0xe9aff7e000000000, 0x6c76613d00000000, 0xa21aab8000000000,\n+    0x27c33d5d00000000, 0x7fc54e2000000000, 0xfa1cd8fd00000000,\n+    0x3470124000000000, 0xb1a9849d00000000, 0x17256aa000000000,\n+    0x92fcfc7d00000000, 0x5c9036c000000000, 0xd949a01d00000000,\n+    0x814fd36000000000, 0x049645bd00000000, 0xcafa8f0000000000,\n+    0x4f2319dd00000000, 0x7af669fa00000000, 0xff2fff2700000000,\n+    0x3143359a00000000, 0xb49aa34700000000, 0xec9cd03a00000000,\n+    0x694546e700000000, 0xa7298c5a00000000, 0x22f01a8700000000,\n+    0xcd836d1400000000, 0x485afbc900000000, 0x8636317400000000,\n+    0x03efa7a900000000, 0x5be9d4d400000000, 0xde30420900000000,\n+    0x105c88b400000000, 0x95851e6900000000, 0xa0506e4e00000000,\n+    0x2589f89300000000, 0xebe5322e00000000, 0x6e3ca4f300000000,\n+    0x363ad78e00000000, 0xb3e3415300000000, 0x7d8f8bee00000000,\n+    0xf8561d3300000000, 0xe26e141300000000, 0x67b782ce00000000,\n+    0xa9db487300000000, 0x2c02deae00000000, 0x7404add300000000,\n+    0xf1dd3b0e00000000, 0x3fb1f1b300000000, 0xba68676e00000000,\n+    0x8fbd174900000000, 0x0a64819400000000, 0xc4084b2900000000,\n+    0x41d1ddf400000000, 0x19d7ae8900000000, 0x9c0e385400000000,\n+    0x5262f2e900000000, 0xd7bb643400000000, 0x38c813a700000000,\n+    0xbd11857a00000000, 0x737d4fc700000000, 0xf6a4d91a00000000,\n+    0xaea2aa6700000000, 0x2b7b3cba00000000, 0xe517f60700000000,\n+    0x60ce60da00000000, 0x551b10fd00000000, 0xd0c2862000000000,\n+    0x1eae4c9d00000000, 0x9b77da4000000000, 0xc371a93d00000000,\n+    0x46a83fe000000000, 0x88c4f55d00000000, 0x0d1d638000000000,\n+    0xbcb4e71d00000000, 0x396d71c000000000, 0xf701bb7d00000000,\n+    0x72d82da000000000, 0x2ade5edd00000000, 0xaf07c80000000000,\n+    0x616b02bd00000000, 0xe4b2946000000000, 0xd167e44700000000,\n+    0x54be729a00000000, 0x9ad2b82700000000, 0x1f0b2efa00000000,\n+    0x470d5d8700000000, 0xc2d4cb5a00000000, 0x0cb801e700000000,\n+    0x8961973a00000000, 0x6612e0a900000000, 0xe3cb767400000000,\n+    0x2da7bcc900000000, 0xa87e2a1400000000, 0xf078596900000000,\n+    0x75a1cfb400000000, 0xbbcd050900000000, 0x3e1493d400000000,\n+    0x0bc1e3f300000000, 0x8e18752e00000000, 0x4074bf9300000000,\n+    0xc5ad294e00000000, 0x9dab5a3300000000, 0x1872ccee00000000,\n+    0xd61e065300000000, 0x53c7908e00000000, 0x49ff99ae00000000,\n+    0xcc260f7300000000, 0x024ac5ce00000000, 0x8793531300000000,\n+    0xdf95206e00000000, 0x5a4cb6b300000000, 0x94207c0e00000000,\n+    0x11f9ead300000000, 0x242c9af400000000, 0xa1f50c2900000000,\n+    0x6f99c69400000000, 0xea40504900000000, 0xb246233400000000,\n+    0x379fb5e900000000, 0xf9f37f5400000000, 0x7c2ae98900000000,\n+    0x93599e1a00000000, 0x168008c700000000, 0xd8ecc27a00000000,\n+    0x5d3554a700000000, 0x053327da00000000, 0x80eab10700000000,\n+    0x4e867bba00000000, 0xcb5fed6700000000, 0xfe8a9d4000000000,\n+    0x7b530b9d00000000, 0xb53fc12000000000, 0x30e657fd00000000,\n+    0x68e0248000000000, 0xed39b25d00000000, 0x235578e000000000,\n+    0xa68cee3d00000000},\n+   {0x0000000000000000, 0x76e10f9d00000000, 0xadc46ee100000000,\n+    0xdb25617c00000000, 0x1b8fac1900000000, 0x6d6ea38400000000,\n+    0xb64bc2f800000000, 0xc0aacd6500000000, 0x361e593300000000,\n+    0x40ff56ae00000000, 0x9bda37d200000000, 0xed3b384f00000000,\n+    0x2d91f52a00000000, 0x5b70fab700000000, 0x80559bcb00000000,\n+    0xf6b4945600000000, 0x6c3cb26600000000, 0x1addbdfb00000000,\n+    0xc1f8dc8700000000, 0xb719d31a00000000, 0x77b31e7f00000000,\n+    0x015211e200000000, 0xda77709e00000000, 0xac967f0300000000,\n+    0x5a22eb5500000000, 0x2cc3e4c800000000, 0xf7e685b400000000,\n+    0x81078a2900000000, 0x41ad474c00000000, 0x374c48d100000000,\n+    0xec6929ad00000000, 0x9a88263000000000, 0xd87864cd00000000,\n+    0xae996b5000000000, 0x75bc0a2c00000000, 0x035d05b100000000,\n+    0xc3f7c8d400000000, 0xb516c74900000000, 0x6e33a63500000000,\n+    0x18d2a9a800000000, 0xee663dfe00000000, 0x9887326300000000,\n+    0x43a2531f00000000, 0x35435c8200000000, 0xf5e991e700000000,\n+    0x83089e7a00000000, 0x582dff0600000000, 0x2eccf09b00000000,\n+    0xb444d6ab00000000, 0xc2a5d93600000000, 0x1980b84a00000000,\n+    0x6f61b7d700000000, 0xafcb7ab200000000, 0xd92a752f00000000,\n+    0x020f145300000000, 0x74ee1bce00000000, 0x825a8f9800000000,\n+    0xf4bb800500000000, 0x2f9ee17900000000, 0x597feee400000000,\n+    0x99d5238100000000, 0xef342c1c00000000, 0x34114d6000000000,\n+    0x42f042fd00000000, 0xf1f7b94100000000, 0x8716b6dc00000000,\n+    0x5c33d7a000000000, 0x2ad2d83d00000000, 0xea78155800000000,\n+    0x9c991ac500000000, 0x47bc7bb900000000, 0x315d742400000000,\n+    0xc7e9e07200000000, 0xb108efef00000000, 0x6a2d8e9300000000,\n+    0x1ccc810e00000000, 0xdc664c6b00000000, 0xaa8743f600000000,\n+    0x71a2228a00000000, 0x07432d1700000000, 0x9dcb0b2700000000,\n+    0xeb2a04ba00000000, 0x300f65c600000000, 0x46ee6a5b00000000,\n+    0x8644a73e00000000, 0xf0a5a8a300000000, 0x2b80c9df00000000,\n+    0x5d61c64200000000, 0xabd5521400000000, 0xdd345d8900000000,\n+    0x06113cf500000000, 0x70f0336800000000, 0xb05afe0d00000000,\n+    0xc6bbf19000000000, 0x1d9e90ec00000000, 0x6b7f9f7100000000,\n+    0x298fdd8c00000000, 0x5f6ed21100000000, 0x844bb36d00000000,\n+    0xf2aabcf000000000, 0x3200719500000000, 0x44e17e0800000000,\n+    0x9fc41f7400000000, 0xe92510e900000000, 0x1f9184bf00000000,\n+    0x69708b2200000000, 0xb255ea5e00000000, 0xc4b4e5c300000000,\n+    0x041e28a600000000, 0x72ff273b00000000, 0xa9da464700000000,\n+    0xdf3b49da00000000, 0x45b36fea00000000, 0x3352607700000000,\n+    0xe877010b00000000, 0x9e960e9600000000, 0x5e3cc3f300000000,\n+    0x28ddcc6e00000000, 0xf3f8ad1200000000, 0x8519a28f00000000,\n+    0x73ad36d900000000, 0x054c394400000000, 0xde69583800000000,\n+    0xa88857a500000000, 0x68229ac000000000, 0x1ec3955d00000000,\n+    0xc5e6f42100000000, 0xb307fbbc00000000, 0xe2ef738300000000,\n+    0x940e7c1e00000000, 0x4f2b1d6200000000, 0x39ca12ff00000000,\n+    0xf960df9a00000000, 0x8f81d00700000000, 0x54a4b17b00000000,\n+    0x2245bee600000000, 0xd4f12ab000000000, 0xa210252d00000000,\n+    0x7935445100000000, 0x0fd44bcc00000000, 0xcf7e86a900000000,\n+    0xb99f893400000000, 0x62bae84800000000, 0x145be7d500000000,\n+    0x8ed3c1e500000000, 0xf832ce7800000000, 0x2317af0400000000,\n+    0x55f6a09900000000, 0x955c6dfc00000000, 0xe3bd626100000000,\n+    0x3898031d00000000, 0x4e790c8000000000, 0xb8cd98d600000000,\n+    0xce2c974b00000000, 0x1509f63700000000, 0x63e8f9aa00000000,\n+    0xa34234cf00000000, 0xd5a33b5200000000, 0x0e865a2e00000000,\n+    0x786755b300000000, 0x3a97174e00000000, 0x4c7618d300000000,\n+    0x975379af00000000, 0xe1b2763200000000, 0x2118bb5700000000,\n+    0x57f9b4ca00000000, 0x8cdcd5b600000000, 0xfa3dda2b00000000,\n+    0x0c894e7d00000000, 0x7a6841e000000000, 0xa14d209c00000000,\n+    0xd7ac2f0100000000, 0x1706e26400000000, 0x61e7edf900000000,\n+    0xbac28c8500000000, 0xcc23831800000000, 0x56aba52800000000,\n+    0x204aaab500000000, 0xfb6fcbc900000000, 0x8d8ec45400000000,\n+    0x4d24093100000000, 0x3bc506ac00000000, 0xe0e067d000000000,\n+    0x9601684d00000000, 0x60b5fc1b00000000, 0x1654f38600000000,\n+    0xcd7192fa00000000, 0xbb909d6700000000, 0x7b3a500200000000,\n+    0x0ddb5f9f00000000, 0xd6fe3ee300000000, 0xa01f317e00000000,\n+    0x1318cac200000000, 0x65f9c55f00000000, 0xbedca42300000000,\n+    0xc83dabbe00000000, 0x089766db00000000, 0x7e76694600000000,\n+    0xa553083a00000000, 0xd3b207a700000000, 0x250693f100000000,\n+    0x53e79c6c00000000, 0x88c2fd1000000000, 0xfe23f28d00000000,\n+    0x3e893fe800000000, 0x4868307500000000, 0x934d510900000000,\n+    0xe5ac5e9400000000, 0x7f2478a400000000, 0x09c5773900000000,\n+    0xd2e0164500000000, 0xa40119d800000000, 0x64abd4bd00000000,\n+    0x124adb2000000000, 0xc96fba5c00000000, 0xbf8eb5c100000000,\n+    0x493a219700000000, 0x3fdb2e0a00000000, 0xe4fe4f7600000000,\n+    0x921f40eb00000000, 0x52b58d8e00000000, 0x2454821300000000,\n+    0xff71e36f00000000, 0x8990ecf200000000, 0xcb60ae0f00000000,\n+    0xbd81a19200000000, 0x66a4c0ee00000000, 0x1045cf7300000000,\n+    0xd0ef021600000000, 0xa60e0d8b00000000, 0x7d2b6cf700000000,\n+    0x0bca636a00000000, 0xfd7ef73c00000000, 0x8b9ff8a100000000,\n+    0x50ba99dd00000000, 0x265b964000000000, 0xe6f15b2500000000,\n+    0x901054b800000000, 0x4b3535c400000000, 0x3dd43a5900000000,\n+    0xa75c1c6900000000, 0xd1bd13f400000000, 0x0a98728800000000,\n+    0x7c797d1500000000, 0xbcd3b07000000000, 0xca32bfed00000000,\n+    0x1117de9100000000, 0x67f6d10c00000000, 0x9142455a00000000,\n+    0xe7a34ac700000000, 0x3c862bbb00000000, 0x4a67242600000000,\n+    0x8acde94300000000, 0xfc2ce6de00000000, 0x270987a200000000,\n+    0x51e8883f00000000},\n+   {0x0000000000000000, 0xe8dbfbb900000000, 0x91b186a800000000,\n+    0x796a7d1100000000, 0x63657c8a00000000, 0x8bbe873300000000,\n+    0xf2d4fa2200000000, 0x1a0f019b00000000, 0x87cc89cf00000000,\n+    0x6f17727600000000, 0x167d0f6700000000, 0xfea6f4de00000000,\n+    0xe4a9f54500000000, 0x0c720efc00000000, 0x751873ed00000000,\n+    0x9dc3885400000000, 0x4f9f624400000000, 0xa74499fd00000000,\n+    0xde2ee4ec00000000, 0x36f51f5500000000, 0x2cfa1ece00000000,\n+    0xc421e57700000000, 0xbd4b986600000000, 0x559063df00000000,\n+    0xc853eb8b00000000, 0x2088103200000000, 0x59e26d2300000000,\n+    0xb139969a00000000, 0xab36970100000000, 0x43ed6cb800000000,\n+    0x3a8711a900000000, 0xd25cea1000000000, 0x9e3ec58800000000,\n+    0x76e53e3100000000, 0x0f8f432000000000, 0xe754b89900000000,\n+    0xfd5bb90200000000, 0x158042bb00000000, 0x6cea3faa00000000,\n+    0x8431c41300000000, 0x19f24c4700000000, 0xf129b7fe00000000,\n+    0x8843caef00000000, 0x6098315600000000, 0x7a9730cd00000000,\n+    0x924ccb7400000000, 0xeb26b66500000000, 0x03fd4ddc00000000,\n+    0xd1a1a7cc00000000, 0x397a5c7500000000, 0x4010216400000000,\n+    0xa8cbdadd00000000, 0xb2c4db4600000000, 0x5a1f20ff00000000,\n+    0x23755dee00000000, 0xcbaea65700000000, 0x566d2e0300000000,\n+    0xbeb6d5ba00000000, 0xc7dca8ab00000000, 0x2f07531200000000,\n+    0x3508528900000000, 0xddd3a93000000000, 0xa4b9d42100000000,\n+    0x4c622f9800000000, 0x7d7bfbca00000000, 0x95a0007300000000,\n+    0xecca7d6200000000, 0x041186db00000000, 0x1e1e874000000000,\n+    0xf6c57cf900000000, 0x8faf01e800000000, 0x6774fa5100000000,\n+    0xfab7720500000000, 0x126c89bc00000000, 0x6b06f4ad00000000,\n+    0x83dd0f1400000000, 0x99d20e8f00000000, 0x7109f53600000000,\n+    0x0863882700000000, 0xe0b8739e00000000, 0x32e4998e00000000,\n+    0xda3f623700000000, 0xa3551f2600000000, 0x4b8ee49f00000000,\n+    0x5181e50400000000, 0xb95a1ebd00000000, 0xc03063ac00000000,\n+    0x28eb981500000000, 0xb528104100000000, 0x5df3ebf800000000,\n+    0x249996e900000000, 0xcc426d5000000000, 0xd64d6ccb00000000,\n+    0x3e96977200000000, 0x47fcea6300000000, 0xaf2711da00000000,\n+    0xe3453e4200000000, 0x0b9ec5fb00000000, 0x72f4b8ea00000000,\n+    0x9a2f435300000000, 0x802042c800000000, 0x68fbb97100000000,\n+    0x1191c46000000000, 0xf94a3fd900000000, 0x6489b78d00000000,\n+    0x8c524c3400000000, 0xf538312500000000, 0x1de3ca9c00000000,\n+    0x07eccb0700000000, 0xef3730be00000000, 0x965d4daf00000000,\n+    0x7e86b61600000000, 0xacda5c0600000000, 0x4401a7bf00000000,\n+    0x3d6bdaae00000000, 0xd5b0211700000000, 0xcfbf208c00000000,\n+    0x2764db3500000000, 0x5e0ea62400000000, 0xb6d55d9d00000000,\n+    0x2b16d5c900000000, 0xc3cd2e7000000000, 0xbaa7536100000000,\n+    0x527ca8d800000000, 0x4873a94300000000, 0xa0a852fa00000000,\n+    0xd9c22feb00000000, 0x3119d45200000000, 0xbbf0874e00000000,\n+    0x532b7cf700000000, 0x2a4101e600000000, 0xc29afa5f00000000,\n+    0xd895fbc400000000, 0x304e007d00000000, 0x49247d6c00000000,\n+    0xa1ff86d500000000, 0x3c3c0e8100000000, 0xd4e7f53800000000,\n+    0xad8d882900000000, 0x4556739000000000, 0x5f59720b00000000,\n+    0xb78289b200000000, 0xcee8f4a300000000, 0x26330f1a00000000,\n+    0xf46fe50a00000000, 0x1cb41eb300000000, 0x65de63a200000000,\n+    0x8d05981b00000000, 0x970a998000000000, 0x7fd1623900000000,\n+    0x06bb1f2800000000, 0xee60e49100000000, 0x73a36cc500000000,\n+    0x9b78977c00000000, 0xe212ea6d00000000, 0x0ac911d400000000,\n+    0x10c6104f00000000, 0xf81debf600000000, 0x817796e700000000,\n+    0x69ac6d5e00000000, 0x25ce42c600000000, 0xcd15b97f00000000,\n+    0xb47fc46e00000000, 0x5ca43fd700000000, 0x46ab3e4c00000000,\n+    0xae70c5f500000000, 0xd71ab8e400000000, 0x3fc1435d00000000,\n+    0xa202cb0900000000, 0x4ad930b000000000, 0x33b34da100000000,\n+    0xdb68b61800000000, 0xc167b78300000000, 0x29bc4c3a00000000,\n+    0x50d6312b00000000, 0xb80dca9200000000, 0x6a51208200000000,\n+    0x828adb3b00000000, 0xfbe0a62a00000000, 0x133b5d9300000000,\n+    0x09345c0800000000, 0xe1efa7b100000000, 0x9885daa000000000,\n+    0x705e211900000000, 0xed9da94d00000000, 0x054652f400000000,\n+    0x7c2c2fe500000000, 0x94f7d45c00000000, 0x8ef8d5c700000000,\n+    0x66232e7e00000000, 0x1f49536f00000000, 0xf792a8d600000000,\n+    0xc68b7c8400000000, 0x2e50873d00000000, 0x573afa2c00000000,\n+    0xbfe1019500000000, 0xa5ee000e00000000, 0x4d35fbb700000000,\n+    0x345f86a600000000, 0xdc847d1f00000000, 0x4147f54b00000000,\n+    0xa99c0ef200000000, 0xd0f673e300000000, 0x382d885a00000000,\n+    0x222289c100000000, 0xcaf9727800000000, 0xb3930f6900000000,\n+    0x5b48f4d000000000, 0x89141ec000000000, 0x61cfe57900000000,\n+    0x18a5986800000000, 0xf07e63d100000000, 0xea71624a00000000,\n+    0x02aa99f300000000, 0x7bc0e4e200000000, 0x931b1f5b00000000,\n+    0x0ed8970f00000000, 0xe6036cb600000000, 0x9f6911a700000000,\n+    0x77b2ea1e00000000, 0x6dbdeb8500000000, 0x8566103c00000000,\n+    0xfc0c6d2d00000000, 0x14d7969400000000, 0x58b5b90c00000000,\n+    0xb06e42b500000000, 0xc9043fa400000000, 0x21dfc41d00000000,\n+    0x3bd0c58600000000, 0xd30b3e3f00000000, 0xaa61432e00000000,\n+    0x42bab89700000000, 0xdf7930c300000000, 0x37a2cb7a00000000,\n+    0x4ec8b66b00000000, 0xa6134dd200000000, 0xbc1c4c4900000000,\n+    0x54c7b7f000000000, 0x2dadcae100000000, 0xc576315800000000,\n+    0x172adb4800000000, 0xfff120f100000000, 0x869b5de000000000,\n+    0x6e40a65900000000, 0x744fa7c200000000, 0x9c945c7b00000000,\n+    0xe5fe216a00000000, 0x0d25dad300000000, 0x90e6528700000000,\n+    0x783da93e00000000, 0x0157d42f00000000, 0xe98c2f9600000000,\n+    0xf3832e0d00000000, 0x1b58d5b400000000, 0x6232a8a500000000,\n+    0x8ae9531c00000000},\n+   {0x0000000000000000, 0x919168ae00000000, 0x6325a08700000000,\n+    0xf2b4c82900000000, 0x874c31d400000000, 0x16dd597a00000000,\n+    0xe469915300000000, 0x75f8f9fd00000000, 0x4f9f137300000000,\n+    0xde0e7bdd00000000, 0x2cbab3f400000000, 0xbd2bdb5a00000000,\n+    0xc8d322a700000000, 0x59424a0900000000, 0xabf6822000000000,\n+    0x3a67ea8e00000000, 0x9e3e27e600000000, 0x0faf4f4800000000,\n+    0xfd1b876100000000, 0x6c8aefcf00000000, 0x1972163200000000,\n+    0x88e37e9c00000000, 0x7a57b6b500000000, 0xebc6de1b00000000,\n+    0xd1a1349500000000, 0x40305c3b00000000, 0xb284941200000000,\n+    0x2315fcbc00000000, 0x56ed054100000000, 0xc77c6def00000000,\n+    0x35c8a5c600000000, 0xa459cd6800000000, 0x7d7b3f1700000000,\n+    0xecea57b900000000, 0x1e5e9f9000000000, 0x8fcff73e00000000,\n+    0xfa370ec300000000, 0x6ba6666d00000000, 0x9912ae4400000000,\n+    0x0883c6ea00000000, 0x32e42c6400000000, 0xa37544ca00000000,\n+    0x51c18ce300000000, 0xc050e44d00000000, 0xb5a81db000000000,\n+    0x2439751e00000000, 0xd68dbd3700000000, 0x471cd59900000000,\n+    0xe34518f100000000, 0x72d4705f00000000, 0x8060b87600000000,\n+    0x11f1d0d800000000, 0x6409292500000000, 0xf598418b00000000,\n+    0x072c89a200000000, 0x96bde10c00000000, 0xacda0b8200000000,\n+    0x3d4b632c00000000, 0xcfffab0500000000, 0x5e6ec3ab00000000,\n+    0x2b963a5600000000, 0xba0752f800000000, 0x48b39ad100000000,\n+    0xd922f27f00000000, 0xfaf67e2e00000000, 0x6b67168000000000,\n+    0x99d3dea900000000, 0x0842b60700000000, 0x7dba4ffa00000000,\n+    0xec2b275400000000, 0x1e9fef7d00000000, 0x8f0e87d300000000,\n+    0xb5696d5d00000000, 0x24f805f300000000, 0xd64ccdda00000000,\n+    0x47dda57400000000, 0x32255c8900000000, 0xa3b4342700000000,\n+    0x5100fc0e00000000, 0xc09194a000000000, 0x64c859c800000000,\n+    0xf559316600000000, 0x07edf94f00000000, 0x967c91e100000000,\n+    0xe384681c00000000, 0x721500b200000000, 0x80a1c89b00000000,\n+    0x1130a03500000000, 0x2b574abb00000000, 0xbac6221500000000,\n+    0x4872ea3c00000000, 0xd9e3829200000000, 0xac1b7b6f00000000,\n+    0x3d8a13c100000000, 0xcf3edbe800000000, 0x5eafb34600000000,\n+    0x878d413900000000, 0x161c299700000000, 0xe4a8e1be00000000,\n+    0x7539891000000000, 0x00c170ed00000000, 0x9150184300000000,\n+    0x63e4d06a00000000, 0xf275b8c400000000, 0xc812524a00000000,\n+    0x59833ae400000000, 0xab37f2cd00000000, 0x3aa69a6300000000,\n+    0x4f5e639e00000000, 0xdecf0b3000000000, 0x2c7bc31900000000,\n+    0xbdeaabb700000000, 0x19b366df00000000, 0x88220e7100000000,\n+    0x7a96c65800000000, 0xeb07aef600000000, 0x9eff570b00000000,\n+    0x0f6e3fa500000000, 0xfddaf78c00000000, 0x6c4b9f2200000000,\n+    0x562c75ac00000000, 0xc7bd1d0200000000, 0x3509d52b00000000,\n+    0xa498bd8500000000, 0xd160447800000000, 0x40f12cd600000000,\n+    0xb245e4ff00000000, 0x23d48c5100000000, 0xf4edfd5c00000000,\n+    0x657c95f200000000, 0x97c85ddb00000000, 0x0659357500000000,\n+    0x73a1cc8800000000, 0xe230a42600000000, 0x10846c0f00000000,\n+    0x811504a100000000, 0xbb72ee2f00000000, 0x2ae3868100000000,\n+    0xd8574ea800000000, 0x49c6260600000000, 0x3c3edffb00000000,\n+    0xadafb75500000000, 0x5f1b7f7c00000000, 0xce8a17d200000000,\n+    0x6ad3daba00000000, 0xfb42b21400000000, 0x09f67a3d00000000,\n+    0x9867129300000000, 0xed9feb6e00000000, 0x7c0e83c000000000,\n+    0x8eba4be900000000, 0x1f2b234700000000, 0x254cc9c900000000,\n+    0xb4dda16700000000, 0x4669694e00000000, 0xd7f801e000000000,\n+    0xa200f81d00000000, 0x339190b300000000, 0xc125589a00000000,\n+    0x50b4303400000000, 0x8996c24b00000000, 0x1807aae500000000,\n+    0xeab362cc00000000, 0x7b220a6200000000, 0x0edaf39f00000000,\n+    0x9f4b9b3100000000, 0x6dff531800000000, 0xfc6e3bb600000000,\n+    0xc609d13800000000, 0x5798b99600000000, 0xa52c71bf00000000,\n+    0x34bd191100000000, 0x4145e0ec00000000, 0xd0d4884200000000,\n+    0x2260406b00000000, 0xb3f128c500000000, 0x17a8e5ad00000000,\n+    0x86398d0300000000, 0x748d452a00000000, 0xe51c2d8400000000,\n+    0x90e4d47900000000, 0x0175bcd700000000, 0xf3c174fe00000000,\n+    0x62501c5000000000, 0x5837f6de00000000, 0xc9a69e7000000000,\n+    0x3b12565900000000, 0xaa833ef700000000, 0xdf7bc70a00000000,\n+    0x4eeaafa400000000, 0xbc5e678d00000000, 0x2dcf0f2300000000,\n+    0x0e1b837200000000, 0x9f8aebdc00000000, 0x6d3e23f500000000,\n+    0xfcaf4b5b00000000, 0x8957b2a600000000, 0x18c6da0800000000,\n+    0xea72122100000000, 0x7be37a8f00000000, 0x4184900100000000,\n+    0xd015f8af00000000, 0x22a1308600000000, 0xb330582800000000,\n+    0xc6c8a1d500000000, 0x5759c97b00000000, 0xa5ed015200000000,\n+    0x347c69fc00000000, 0x9025a49400000000, 0x01b4cc3a00000000,\n+    0xf300041300000000, 0x62916cbd00000000, 0x1769954000000000,\n+    0x86f8fdee00000000, 0x744c35c700000000, 0xe5dd5d6900000000,\n+    0xdfbab7e700000000, 0x4e2bdf4900000000, 0xbc9f176000000000,\n+    0x2d0e7fce00000000, 0x58f6863300000000, 0xc967ee9d00000000,\n+    0x3bd326b400000000, 0xaa424e1a00000000, 0x7360bc6500000000,\n+    0xe2f1d4cb00000000, 0x10451ce200000000, 0x81d4744c00000000,\n+    0xf42c8db100000000, 0x65bde51f00000000, 0x97092d3600000000,\n+    0x0698459800000000, 0x3cffaf1600000000, 0xad6ec7b800000000,\n+    0x5fda0f9100000000, 0xce4b673f00000000, 0xbbb39ec200000000,\n+    0x2a22f66c00000000, 0xd8963e4500000000, 0x490756eb00000000,\n+    0xed5e9b8300000000, 0x7ccff32d00000000, 0x8e7b3b0400000000,\n+    0x1fea53aa00000000, 0x6a12aa5700000000, 0xfb83c2f900000000,\n+    0x09370ad000000000, 0x98a6627e00000000, 0xa2c188f000000000,\n+    0x3350e05e00000000, 0xc1e4287700000000, 0x507540d900000000,\n+    0x258db92400000000, 0xb41cd18a00000000, 0x46a819a300000000,\n+    0xd739710d00000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xccaa009e, 0x4225077d, 0x8e8f07e3, 0x844a0efa,\n+    0x48e00e64, 0xc66f0987, 0x0ac50919, 0xd3e51bb5, 0x1f4f1b2b,\n+    0x91c01cc8, 0x5d6a1c56, 0x57af154f, 0x9b0515d1, 0x158a1232,\n+    0xd92012ac, 0x7cbb312b, 0xb01131b5, 0x3e9e3656, 0xf23436c8,\n+    0xf8f13fd1, 0x345b3f4f, 0xbad438ac, 0x767e3832, 0xaf5e2a9e,\n+    0x63f42a00, 0xed7b2de3, 0x21d12d7d, 0x2b142464, 0xe7be24fa,\n+    0x69312319, 0xa59b2387, 0xf9766256, 0x35dc62c8, 0xbb53652b,\n+    0x77f965b5, 0x7d3c6cac, 0xb1966c32, 0x3f196bd1, 0xf3b36b4f,\n+    0x2a9379e3, 0xe639797d, 0x68b67e9e, 0xa41c7e00, 0xaed97719,\n+    0x62737787, 0xecfc7064, 0x205670fa, 0x85cd537d, 0x496753e3,\n+    0xc7e85400, 0x0b42549e, 0x01875d87, 0xcd2d5d19, 0x43a25afa,\n+    0x8f085a64, 0x562848c8, 0x9a824856, 0x140d4fb5, 0xd8a74f2b,\n+    0xd2624632, 0x1ec846ac, 0x9047414f, 0x5ced41d1, 0x299dc2ed,\n+    0xe537c273, 0x6bb8c590, 0xa712c50e, 0xadd7cc17, 0x617dcc89,\n+    0xeff2cb6a, 0x2358cbf4, 0xfa78d958, 0x36d2d9c6, 0xb85dde25,\n+    0x74f7debb, 0x7e32d7a2, 0xb298d73c, 0x3c17d0df, 0xf0bdd041,\n+    0x5526f3c6, 0x998cf358, 0x1703f4bb, 0xdba9f425, 0xd16cfd3c,\n+    0x1dc6fda2, 0x9349fa41, 0x5fe3fadf, 0x86c3e873, 0x4a69e8ed,\n+    0xc4e6ef0e, 0x084cef90, 0x0289e689, 0xce23e617, 0x40ace1f4,\n+    0x8c06e16a, 0xd0eba0bb, 0x1c41a025, 0x92cea7c6, 0x5e64a758,\n+    0x54a1ae41, 0x980baedf, 0x1684a93c, 0xda2ea9a2, 0x030ebb0e,\n+    0xcfa4bb90, 0x412bbc73, 0x8d81bced, 0x8744b5f4, 0x4beeb56a,\n+    0xc561b289, 0x09cbb217, 0xac509190, 0x60fa910e, 0xee7596ed,\n+    0x22df9673, 0x281a9f6a, 0xe4b09ff4, 0x6a3f9817, 0xa6959889,\n+    0x7fb58a25, 0xb31f8abb, 0x3d908d58, 0xf13a8dc6, 0xfbff84df,\n+    0x37558441, 0xb9da83a2, 0x7570833c, 0x533b85da, 0x9f918544,\n+    0x111e82a7, 0xddb48239, 0xd7718b20, 0x1bdb8bbe, 0x95548c5d,\n+    0x59fe8cc3, 0x80de9e6f, 0x4c749ef1, 0xc2fb9912, 0x0e51998c,\n+    0x04949095, 0xc83e900b, 0x46b197e8, 0x8a1b9776, 0x2f80b4f1,\n+    0xe32ab46f, 0x6da5b38c, 0xa10fb312, 0xabcaba0b, 0x6760ba95,\n+    0xe9efbd76, 0x2545bde8, 0xfc65af44, 0x30cfafda, 0xbe40a839,\n+    0x72eaa8a7, 0x782fa1be, 0xb485a120, 0x3a0aa6c3, 0xf6a0a65d,\n+    0xaa4de78c, 0x66e7e712, 0xe868e0f1, 0x24c2e06f, 0x2e07e976,\n+    0xe2ade9e8, 0x6c22ee0b, 0xa088ee95, 0x79a8fc39, 0xb502fca7,\n+    0x3b8dfb44, 0xf727fbda, 0xfde2f2c3, 0x3148f25d, 0xbfc7f5be,\n+    0x736df520, 0xd6f6d6a7, 0x1a5cd639, 0x94d3d1da, 0x5879d144,\n+    0x52bcd85d, 0x9e16d8c3, 0x1099df20, 0xdc33dfbe, 0x0513cd12,\n+    0xc9b9cd8c, 0x4736ca6f, 0x8b9ccaf1, 0x8159c3e8, 0x4df3c376,\n+    0xc37cc495, 0x0fd6c40b, 0x7aa64737, 0xb60c47a9, 0x3883404a,\n+    0xf42940d4, 0xfeec49cd, 0x32464953, 0xbcc94eb0, 0x70634e2e,\n+    0xa9435c82, 0x65e95c1c, 0xeb665bff, 0x27cc5b61, 0x2d095278,\n+    0xe1a352e6, 0x6f2c5505, 0xa386559b, 0x061d761c, 0xcab77682,\n+    0x44387161, 0x889271ff, 0x825778e6, 0x4efd7878, 0xc0727f9b,\n+    0x0cd87f05, 0xd5f86da9, 0x19526d37, 0x97dd6ad4, 0x5b776a4a,\n+    0x51b26353, 0x9d1863cd, 0x1397642e, 0xdf3d64b0, 0x83d02561,\n+    0x4f7a25ff, 0xc1f5221c, 0x0d5f2282, 0x079a2b9b, 0xcb302b05,\n+    0x45bf2ce6, 0x89152c78, 0x50353ed4, 0x9c9f3e4a, 0x121039a9,\n+    0xdeba3937, 0xd47f302e, 0x18d530b0, 0x965a3753, 0x5af037cd,\n+    0xff6b144a, 0x33c114d4, 0xbd4e1337, 0x71e413a9, 0x7b211ab0,\n+    0xb78b1a2e, 0x39041dcd, 0xf5ae1d53, 0x2c8e0fff, 0xe0240f61,\n+    0x6eab0882, 0xa201081c, 0xa8c40105, 0x646e019b, 0xeae10678,\n+    0x264b06e6},\n+   {0x00000000, 0xa6770bb4, 0x979f1129, 0x31e81a9d, 0xf44f2413,\n+    0x52382fa7, 0x63d0353a, 0xc5a73e8e, 0x33ef4e67, 0x959845d3,\n+    0xa4705f4e, 0x020754fa, 0xc7a06a74, 0x61d761c0, 0x503f7b5d,\n+    0xf64870e9, 0x67de9cce, 0xc1a9977a, 0xf0418de7, 0x56368653,\n+    0x9391b8dd, 0x35e6b369, 0x040ea9f4, 0xa279a240, 0x5431d2a9,\n+    0xf246d91d, 0xc3aec380, 0x65d9c834, 0xa07ef6ba, 0x0609fd0e,\n+    0x37e1e793, 0x9196ec27, 0xcfbd399c, 0x69ca3228, 0x582228b5,\n+    0xfe552301, 0x3bf21d8f, 0x9d85163b, 0xac6d0ca6, 0x0a1a0712,\n+    0xfc5277fb, 0x5a257c4f, 0x6bcd66d2, 0xcdba6d66, 0x081d53e8,\n+    0xae6a585c, 0x9f8242c1, 0x39f54975, 0xa863a552, 0x0e14aee6,\n+    0x3ffcb47b, 0x998bbfcf, 0x5c2c8141, 0xfa5b8af5, 0xcbb39068,\n+    0x6dc49bdc, 0x9b8ceb35, 0x3dfbe081, 0x0c13fa1c, 0xaa64f1a8,\n+    0x6fc3cf26, 0xc9b4c492, 0xf85cde0f, 0x5e2bd5bb, 0x440b7579,\n+    0xe27c7ecd, 0xd3946450, 0x75e36fe4, 0xb044516a, 0x16335ade,\n+    0x27db4043, 0x81ac4bf7, 0x77e43b1e, 0xd19330aa, 0xe07b2a37,\n+    0x460c2183, 0x83ab1f0d, 0x25dc14b9, 0x14340e24, 0xb2430590,\n+    0x23d5e9b7, 0x85a2e203, 0xb44af89e, 0x123df32a, 0xd79acda4,\n+    0x71edc610, 0x4005dc8d, 0xe672d739, 0x103aa7d0, 0xb64dac64,\n+    0x87a5b6f9, 0x21d2bd4d, 0xe47583c3, 0x42028877, 0x73ea92ea,\n+    0xd59d995e, 0x8bb64ce5, 0x2dc14751, 0x1c295dcc, 0xba5e5678,\n+    0x7ff968f6, 0xd98e6342, 0xe86679df, 0x4e11726b, 0xb8590282,\n+    0x1e2e0936, 0x2fc613ab, 0x89b1181f, 0x4c162691, 0xea612d25,\n+    0xdb8937b8, 0x7dfe3c0c, 0xec68d02b, 0x4a1fdb9f, 0x7bf7c102,\n+    0xdd80cab6, 0x1827f438, 0xbe50ff8c, 0x8fb8e511, 0x29cfeea5,\n+    0xdf879e4c, 0x79f095f8, 0x48188f65, 0xee6f84d1, 0x2bc8ba5f,\n+    0x8dbfb1eb, 0xbc57ab76, 0x1a20a0c2, 0x8816eaf2, 0x2e61e146,\n+    0x1f89fbdb, 0xb9fef06f, 0x7c59cee1, 0xda2ec555, 0xebc6dfc8,\n+    0x4db1d47c, 0xbbf9a495, 0x1d8eaf21, 0x2c66b5bc, 0x8a11be08,\n+    0x4fb68086, 0xe9c18b32, 0xd82991af, 0x7e5e9a1b, 0xefc8763c,\n+    0x49bf7d88, 0x78576715, 0xde206ca1, 0x1b87522f, 0xbdf0599b,\n+    0x8c184306, 0x2a6f48b2, 0xdc27385b, 0x7a5033ef, 0x4bb82972,\n+    0xedcf22c6, 0x28681c48, 0x8e1f17fc, 0xbff70d61, 0x198006d5,\n+    0x47abd36e, 0xe1dcd8da, 0xd034c247, 0x7643c9f3, 0xb3e4f77d,\n+    0x1593fcc9, 0x247be654, 0x820cede0, 0x74449d09, 0xd23396bd,\n+    0xe3db8c20, 0x45ac8794, 0x800bb91a, 0x267cb2ae, 0x1794a833,\n+    0xb1e3a387, 0x20754fa0, 0x86024414, 0xb7ea5e89, 0x119d553d,\n+    0xd43a6bb3, 0x724d6007, 0x43a57a9a, 0xe5d2712e, 0x139a01c7,\n+    0xb5ed0a73, 0x840510ee, 0x22721b5a, 0xe7d525d4, 0x41a22e60,\n+    0x704a34fd, 0xd63d3f49, 0xcc1d9f8b, 0x6a6a943f, 0x5b828ea2,\n+    0xfdf58516, 0x3852bb98, 0x9e25b02c, 0xafcdaab1, 0x09baa105,\n+    0xfff2d1ec, 0x5985da58, 0x686dc0c5, 0xce1acb71, 0x0bbdf5ff,\n+    0xadcafe4b, 0x9c22e4d6, 0x3a55ef62, 0xabc30345, 0x0db408f1,\n+    0x3c5c126c, 0x9a2b19d8, 0x5f8c2756, 0xf9fb2ce2, 0xc813367f,\n+    0x6e643dcb, 0x982c4d22, 0x3e5b4696, 0x0fb35c0b, 0xa9c457bf,\n+    0x6c636931, 0xca146285, 0xfbfc7818, 0x5d8b73ac, 0x03a0a617,\n+    0xa5d7ada3, 0x943fb73e, 0x3248bc8a, 0xf7ef8204, 0x519889b0,\n+    0x6070932d, 0xc6079899, 0x304fe870, 0x9638e3c4, 0xa7d0f959,\n+    0x01a7f2ed, 0xc400cc63, 0x6277c7d7, 0x539fdd4a, 0xf5e8d6fe,\n+    0x647e3ad9, 0xc209316d, 0xf3e12bf0, 0x55962044, 0x90311eca,\n+    0x3646157e, 0x07ae0fe3, 0xa1d90457, 0x579174be, 0xf1e67f0a,\n+    0xc00e6597, 0x66796e23, 0xa3de50ad, 0x05a95b19, 0x34414184,\n+    0x92364a30},\n+   {0x00000000, 0xcb5cd3a5, 0x4dc8a10b, 0x869472ae, 0x9b914216,\n+    0x50cd91b3, 0xd659e31d, 0x1d0530b8, 0xec53826d, 0x270f51c8,\n+    0xa19b2366, 0x6ac7f0c3, 0x77c2c07b, 0xbc9e13de, 0x3a0a6170,\n+    0xf156b2d5, 0x03d6029b, 0xc88ad13e, 0x4e1ea390, 0x85427035,\n+    0x9847408d, 0x531b9328, 0xd58fe186, 0x1ed33223, 0xef8580f6,\n+    0x24d95353, 0xa24d21fd, 0x6911f258, 0x7414c2e0, 0xbf481145,\n+    0x39dc63eb, 0xf280b04e, 0x07ac0536, 0xccf0d693, 0x4a64a43d,\n+    0x81387798, 0x9c3d4720, 0x57619485, 0xd1f5e62b, 0x1aa9358e,\n+    0xebff875b, 0x20a354fe, 0xa6372650, 0x6d6bf5f5, 0x706ec54d,\n+    0xbb3216e8, 0x3da66446, 0xf6fab7e3, 0x047a07ad, 0xcf26d408,\n+    0x49b2a6a6, 0x82ee7503, 0x9feb45bb, 0x54b7961e, 0xd223e4b0,\n+    0x197f3715, 0xe82985c0, 0x23755665, 0xa5e124cb, 0x6ebdf76e,\n+    0x73b8c7d6, 0xb8e41473, 0x3e7066dd, 0xf52cb578, 0x0f580a6c,\n+    0xc404d9c9, 0x4290ab67, 0x89cc78c2, 0x94c9487a, 0x5f959bdf,\n+    0xd901e971, 0x125d3ad4, 0xe30b8801, 0x28575ba4, 0xaec3290a,\n+    0x659ffaaf, 0x789aca17, 0xb3c619b2, 0x35526b1c, 0xfe0eb8b9,\n+    0x0c8e08f7, 0xc7d2db52, 0x4146a9fc, 0x8a1a7a59, 0x971f4ae1,\n+    0x5c439944, 0xdad7ebea, 0x118b384f, 0xe0dd8a9a, 0x2b81593f,\n+    0xad152b91, 0x6649f834, 0x7b4cc88c, 0xb0101b29, 0x36846987,\n+    0xfdd8ba22, 0x08f40f5a, 0xc3a8dcff, 0x453cae51, 0x8e607df4,\n+    0x93654d4c, 0x58399ee9, 0xdeadec47, 0x15f13fe2, 0xe4a78d37,\n+    0x2ffb5e92, 0xa96f2c3c, 0x6233ff99, 0x7f36cf21, 0xb46a1c84,\n+    0x32fe6e2a, 0xf9a2bd8f, 0x0b220dc1, 0xc07ede64, 0x46eaacca,\n+    0x8db67f6f, 0x90b34fd7, 0x5bef9c72, 0xdd7beedc, 0x16273d79,\n+    0xe7718fac, 0x2c2d5c09, 0xaab92ea7, 0x61e5fd02, 0x7ce0cdba,\n+    0xb7bc1e1f, 0x31286cb1, 0xfa74bf14, 0x1eb014d8, 0xd5ecc77d,\n+    0x5378b5d3, 0x98246676, 0x852156ce, 0x4e7d856b, 0xc8e9f7c5,\n+    0x03b52460, 0xf2e396b5, 0x39bf4510, 0xbf2b37be, 0x7477e41b,\n+    0x6972d4a3, 0xa22e0706, 0x24ba75a8, 0xefe6a60d, 0x1d661643,\n+    0xd63ac5e6, 0x50aeb748, 0x9bf264ed, 0x86f75455, 0x4dab87f0,\n+    0xcb3ff55e, 0x006326fb, 0xf135942e, 0x3a69478b, 0xbcfd3525,\n+    0x77a1e680, 0x6aa4d638, 0xa1f8059d, 0x276c7733, 0xec30a496,\n+    0x191c11ee, 0xd240c24b, 0x54d4b0e5, 0x9f886340, 0x828d53f8,\n+    0x49d1805d, 0xcf45f2f3, 0x04192156, 0xf54f9383, 0x3e134026,\n+    0xb8873288, 0x73dbe12d, 0x6eded195, 0xa5820230, 0x2316709e,\n+    0xe84aa33b, 0x1aca1375, 0xd196c0d0, 0x5702b27e, 0x9c5e61db,\n+    0x815b5163, 0x4a0782c6, 0xcc93f068, 0x07cf23cd, 0xf6999118,\n+    0x3dc542bd, 0xbb513013, 0x700de3b6, 0x6d08d30e, 0xa65400ab,\n+    0x20c07205, 0xeb9ca1a0, 0x11e81eb4, 0xdab4cd11, 0x5c20bfbf,\n+    0x977c6c1a, 0x8a795ca2, 0x41258f07, 0xc7b1fda9, 0x0ced2e0c,\n+    0xfdbb9cd9, 0x36e74f7c, 0xb0733dd2, 0x7b2fee77, 0x662adecf,\n+    0xad760d6a, 0x2be27fc4, 0xe0beac61, 0x123e1c2f, 0xd962cf8a,\n+    0x5ff6bd24, 0x94aa6e81, 0x89af5e39, 0x42f38d9c, 0xc467ff32,\n+    0x0f3b2c97, 0xfe6d9e42, 0x35314de7, 0xb3a53f49, 0x78f9ecec,\n+    0x65fcdc54, 0xaea00ff1, 0x28347d5f, 0xe368aefa, 0x16441b82,\n+    0xdd18c827, 0x5b8cba89, 0x90d0692c, 0x8dd55994, 0x46898a31,\n+    0xc01df89f, 0x0b412b3a, 0xfa1799ef, 0x314b4a4a, 0xb7df38e4,\n+    0x7c83eb41, 0x6186dbf9, 0xaada085c, 0x2c4e7af2, 0xe712a957,\n+    0x15921919, 0xdececabc, 0x585ab812, 0x93066bb7, 0x8e035b0f,\n+    0x455f88aa, 0xc3cbfa04, 0x089729a1, 0xf9c19b74, 0x329d48d1,\n+    0xb4093a7f, 0x7f55e9da, 0x6250d962, 0xa90c0ac7, 0x2f987869,\n+    0xe4c4abcc},\n+   {0x00000000, 0x3d6029b0, 0x7ac05360, 0x47a07ad0, 0xf580a6c0,\n+    0xc8e08f70, 0x8f40f5a0, 0xb220dc10, 0x30704bc1, 0x0d106271,\n+    0x4ab018a1, 0x77d03111, 0xc5f0ed01, 0xf890c4b1, 0xbf30be61,\n+    0x825097d1, 0x60e09782, 0x5d80be32, 0x1a20c4e2, 0x2740ed52,\n+    0x95603142, 0xa80018f2, 0xefa06222, 0xd2c04b92, 0x5090dc43,\n+    0x6df0f5f3, 0x2a508f23, 0x1730a693, 0xa5107a83, 0x98705333,\n+    0xdfd029e3, 0xe2b00053, 0xc1c12f04, 0xfca106b4, 0xbb017c64,\n+    0x866155d4, 0x344189c4, 0x0921a074, 0x4e81daa4, 0x73e1f314,\n+    0xf1b164c5, 0xccd14d75, 0x8b7137a5, 0xb6111e15, 0x0431c205,\n+    0x3951ebb5, 0x7ef19165, 0x4391b8d5, 0xa121b886, 0x9c419136,\n+    0xdbe1ebe6, 0xe681c256, 0x54a11e46, 0x69c137f6, 0x2e614d26,\n+    0x13016496, 0x9151f347, 0xac31daf7, 0xeb91a027, 0xd6f18997,\n+    0x64d15587, 0x59b17c37, 0x1e1106e7, 0x23712f57, 0x58f35849,\n+    0x659371f9, 0x22330b29, 0x1f532299, 0xad73fe89, 0x9013d739,\n+    0xd7b3ade9, 0xead38459, 0x68831388, 0x55e33a38, 0x124340e8,\n+    0x2f236958, 0x9d03b548, 0xa0639cf8, 0xe7c3e628, 0xdaa3cf98,\n+    0x3813cfcb, 0x0573e67b, 0x42d39cab, 0x7fb3b51b, 0xcd93690b,\n+    0xf0f340bb, 0xb7533a6b, 0x8a3313db, 0x0863840a, 0x3503adba,\n+    0x72a3d76a, 0x4fc3feda, 0xfde322ca, 0xc0830b7a, 0x872371aa,\n+    0xba43581a, 0x9932774d, 0xa4525efd, 0xe3f2242d, 0xde920d9d,\n+    0x6cb2d18d, 0x51d2f83d, 0x167282ed, 0x2b12ab5d, 0xa9423c8c,\n+    0x9422153c, 0xd3826fec, 0xeee2465c, 0x5cc29a4c, 0x61a2b3fc,\n+    0x2602c92c, 0x1b62e09c, 0xf9d2e0cf, 0xc4b2c97f, 0x8312b3af,\n+    0xbe729a1f, 0x0c52460f, 0x31326fbf, 0x7692156f, 0x4bf23cdf,\n+    0xc9a2ab0e, 0xf4c282be, 0xb362f86e, 0x8e02d1de, 0x3c220dce,\n+    0x0142247e, 0x46e25eae, 0x7b82771e, 0xb1e6b092, 0x8c869922,\n+    0xcb26e3f2, 0xf646ca42, 0x44661652, 0x79063fe2, 0x3ea64532,\n+    0x03c66c82, 0x8196fb53, 0xbcf6d2e3, 0xfb56a833, 0xc6368183,\n+    0x74165d93, 0x49767423, 0x0ed60ef3, 0x33b62743, 0xd1062710,\n+    0xec660ea0, 0xabc67470, 0x96a65dc0, 0x248681d0, 0x19e6a860,\n+    0x5e46d2b0, 0x6326fb00, 0xe1766cd1, 0xdc164561, 0x9bb63fb1,\n+    0xa6d61601, 0x14f6ca11, 0x2996e3a1, 0x6e369971, 0x5356b0c1,\n+    0x70279f96, 0x4d47b626, 0x0ae7ccf6, 0x3787e546, 0x85a73956,\n+    0xb8c710e6, 0xff676a36, 0xc2074386, 0x4057d457, 0x7d37fde7,\n+    0x3a978737, 0x07f7ae87, 0xb5d77297, 0x88b75b27, 0xcf1721f7,\n+    0xf2770847, 0x10c70814, 0x2da721a4, 0x6a075b74, 0x576772c4,\n+    0xe547aed4, 0xd8278764, 0x9f87fdb4, 0xa2e7d404, 0x20b743d5,\n+    0x1dd76a65, 0x5a7710b5, 0x67173905, 0xd537e515, 0xe857cca5,\n+    0xaff7b675, 0x92979fc5, 0xe915e8db, 0xd475c16b, 0x93d5bbbb,\n+    0xaeb5920b, 0x1c954e1b, 0x21f567ab, 0x66551d7b, 0x5b3534cb,\n+    0xd965a31a, 0xe4058aaa, 0xa3a5f07a, 0x9ec5d9ca, 0x2ce505da,\n+    0x11852c6a, 0x562556ba, 0x6b457f0a, 0x89f57f59, 0xb49556e9,\n+    0xf3352c39, 0xce550589, 0x7c75d999, 0x4115f029, 0x06b58af9,\n+    0x3bd5a349, 0xb9853498, 0x84e51d28, 0xc34567f8, 0xfe254e48,\n+    0x4c059258, 0x7165bbe8, 0x36c5c138, 0x0ba5e888, 0x28d4c7df,\n+    0x15b4ee6f, 0x521494bf, 0x6f74bd0f, 0xdd54611f, 0xe03448af,\n+    0xa794327f, 0x9af41bcf, 0x18a48c1e, 0x25c4a5ae, 0x6264df7e,\n+    0x5f04f6ce, 0xed242ade, 0xd044036e, 0x97e479be, 0xaa84500e,\n+    0x4834505d, 0x755479ed, 0x32f4033d, 0x0f942a8d, 0xbdb4f69d,\n+    0x80d4df2d, 0xc774a5fd, 0xfa148c4d, 0x78441b9c, 0x4524322c,\n+    0x028448fc, 0x3fe4614c, 0x8dc4bd5c, 0xb0a494ec, 0xf704ee3c,\n+    0xca64c78c}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0xb029603d, 0x6053c07a, 0xd07aa047, 0xc0a680f5,\n+    0x708fe0c8, 0xa0f5408f, 0x10dc20b2, 0xc14b7030, 0x7162100d,\n+    0xa118b04a, 0x1131d077, 0x01edf0c5, 0xb1c490f8, 0x61be30bf,\n+    0xd1975082, 0x8297e060, 0x32be805d, 0xe2c4201a, 0x52ed4027,\n+    0x42316095, 0xf21800a8, 0x2262a0ef, 0x924bc0d2, 0x43dc9050,\n+    0xf3f5f06d, 0x238f502a, 0x93a63017, 0x837a10a5, 0x33537098,\n+    0xe329d0df, 0x5300b0e2, 0x042fc1c1, 0xb406a1fc, 0x647c01bb,\n+    0xd4556186, 0xc4894134, 0x74a02109, 0xa4da814e, 0x14f3e173,\n+    0xc564b1f1, 0x754dd1cc, 0xa537718b, 0x151e11b6, 0x05c23104,\n+    0xb5eb5139, 0x6591f17e, 0xd5b89143, 0x86b821a1, 0x3691419c,\n+    0xe6ebe1db, 0x56c281e6, 0x461ea154, 0xf637c169, 0x264d612e,\n+    0x96640113, 0x47f35191, 0xf7da31ac, 0x27a091eb, 0x9789f1d6,\n+    0x8755d164, 0x377cb159, 0xe706111e, 0x572f7123, 0x4958f358,\n+    0xf9719365, 0x290b3322, 0x9922531f, 0x89fe73ad, 0x39d71390,\n+    0xe9adb3d7, 0x5984d3ea, 0x88138368, 0x383ae355, 0xe8404312,\n+    0x5869232f, 0x48b5039d, 0xf89c63a0, 0x28e6c3e7, 0x98cfa3da,\n+    0xcbcf1338, 0x7be67305, 0xab9cd342, 0x1bb5b37f, 0x0b6993cd,\n+    0xbb40f3f0, 0x6b3a53b7, 0xdb13338a, 0x0a846308, 0xbaad0335,\n+    0x6ad7a372, 0xdafec34f, 0xca22e3fd, 0x7a0b83c0, 0xaa712387,\n+    0x1a5843ba, 0x4d773299, 0xfd5e52a4, 0x2d24f2e3, 0x9d0d92de,\n+    0x8dd1b26c, 0x3df8d251, 0xed827216, 0x5dab122b, 0x8c3c42a9,\n+    0x3c152294, 0xec6f82d3, 0x5c46e2ee, 0x4c9ac25c, 0xfcb3a261,\n+    0x2cc90226, 0x9ce0621b, 0xcfe0d2f9, 0x7fc9b2c4, 0xafb31283,\n+    0x1f9a72be, 0x0f46520c, 0xbf6f3231, 0x6f159276, 0xdf3cf24b,\n+    0x0eaba2c9, 0xbe82c2f4, 0x6ef862b3, 0xded1028e, 0xce0d223c,\n+    0x7e244201, 0xae5ee246, 0x1e77827b, 0x92b0e6b1, 0x2299868c,\n+    0xf2e326cb, 0x42ca46f6, 0x52166644, 0xe23f0679, 0x3245a63e,\n+    0x826cc603, 0x53fb9681, 0xe3d2f6bc, 0x33a856fb, 0x838136c6,\n+    0x935d1674, 0x23747649, 0xf30ed60e, 0x4327b633, 0x102706d1,\n+    0xa00e66ec, 0x7074c6ab, 0xc05da696, 0xd0818624, 0x60a8e619,\n+    0xb0d2465e, 0x00fb2663, 0xd16c76e1, 0x614516dc, 0xb13fb69b,\n+    0x0116d6a6, 0x11caf614, 0xa1e39629, 0x7199366e, 0xc1b05653,\n+    0x969f2770, 0x26b6474d, 0xf6cce70a, 0x46e58737, 0x5639a785,\n+    0xe610c7b8, 0x366a67ff, 0x864307c2, 0x57d45740, 0xe7fd377d,\n+    0x3787973a, 0x87aef707, 0x9772d7b5, 0x275bb788, 0xf72117cf,\n+    0x470877f2, 0x1408c710, 0xa421a72d, 0x745b076a, 0xc4726757,\n+    0xd4ae47e5, 0x648727d8, 0xb4fd879f, 0x04d4e7a2, 0xd543b720,\n+    0x656ad71d, 0xb510775a, 0x05391767, 0x15e537d5, 0xa5cc57e8,\n+    0x75b6f7af, 0xc59f9792, 0xdbe815e9, 0x6bc175d4, 0xbbbbd593,\n+    0x0b92b5ae, 0x1b4e951c, 0xab67f521, 0x7b1d5566, 0xcb34355b,\n+    0x1aa365d9, 0xaa8a05e4, 0x7af0a5a3, 0xcad9c59e, 0xda05e52c,\n+    0x6a2c8511, 0xba562556, 0x0a7f456b, 0x597ff589, 0xe95695b4,\n+    0x392c35f3, 0x890555ce, 0x99d9757c, 0x29f01541, 0xf98ab506,\n+    0x49a3d53b, 0x983485b9, 0x281de584, 0xf86745c3, 0x484e25fe,\n+    0x5892054c, 0xe8bb6571, 0x38c1c536, 0x88e8a50b, 0xdfc7d428,\n+    0x6feeb415, 0xbf941452, 0x0fbd746f, 0x1f6154dd, 0xaf4834e0,\n+    0x7f3294a7, 0xcf1bf49a, 0x1e8ca418, 0xaea5c425, 0x7edf6462,\n+    0xcef6045f, 0xde2a24ed, 0x6e0344d0, 0xbe79e497, 0x0e5084aa,\n+    0x5d503448, 0xed795475, 0x3d03f432, 0x8d2a940f, 0x9df6b4bd,\n+    0x2ddfd480, 0xfda574c7, 0x4d8c14fa, 0x9c1b4478, 0x2c322445,\n+    0xfc488402, 0x4c61e43f, 0x5cbdc48d, 0xec94a4b0, 0x3cee04f7,\n+    0x8cc764ca},\n+   {0x00000000, 0xa5d35ccb, 0x0ba1c84d, 0xae729486, 0x1642919b,\n+    0xb391cd50, 0x1de359d6, 0xb830051d, 0x6d8253ec, 0xc8510f27,\n+    0x66239ba1, 0xc3f0c76a, 0x7bc0c277, 0xde139ebc, 0x70610a3a,\n+    0xd5b256f1, 0x9b02d603, 0x3ed18ac8, 0x90a31e4e, 0x35704285,\n+    0x8d404798, 0x28931b53, 0x86e18fd5, 0x2332d31e, 0xf68085ef,\n+    0x5353d924, 0xfd214da2, 0x58f21169, 0xe0c21474, 0x451148bf,\n+    0xeb63dc39, 0x4eb080f2, 0x3605ac07, 0x93d6f0cc, 0x3da4644a,\n+    0x98773881, 0x20473d9c, 0x85946157, 0x2be6f5d1, 0x8e35a91a,\n+    0x5b87ffeb, 0xfe54a320, 0x502637a6, 0xf5f56b6d, 0x4dc56e70,\n+    0xe81632bb, 0x4664a63d, 0xe3b7faf6, 0xad077a04, 0x08d426cf,\n+    0xa6a6b249, 0x0375ee82, 0xbb45eb9f, 0x1e96b754, 0xb0e423d2,\n+    0x15377f19, 0xc08529e8, 0x65567523, 0xcb24e1a5, 0x6ef7bd6e,\n+    0xd6c7b873, 0x7314e4b8, 0xdd66703e, 0x78b52cf5, 0x6c0a580f,\n+    0xc9d904c4, 0x67ab9042, 0xc278cc89, 0x7a48c994, 0xdf9b955f,\n+    0x71e901d9, 0xd43a5d12, 0x01880be3, 0xa45b5728, 0x0a29c3ae,\n+    0xaffa9f65, 0x17ca9a78, 0xb219c6b3, 0x1c6b5235, 0xb9b80efe,\n+    0xf7088e0c, 0x52dbd2c7, 0xfca94641, 0x597a1a8a, 0xe14a1f97,\n+    0x4499435c, 0xeaebd7da, 0x4f388b11, 0x9a8adde0, 0x3f59812b,\n+    0x912b15ad, 0x34f84966, 0x8cc84c7b, 0x291b10b0, 0x87698436,\n+    0x22bad8fd, 0x5a0ff408, 0xffdca8c3, 0x51ae3c45, 0xf47d608e,\n+    0x4c4d6593, 0xe99e3958, 0x47ecadde, 0xe23ff115, 0x378da7e4,\n+    0x925efb2f, 0x3c2c6fa9, 0x99ff3362, 0x21cf367f, 0x841c6ab4,\n+    0x2a6efe32, 0x8fbda2f9, 0xc10d220b, 0x64de7ec0, 0xcaacea46,\n+    0x6f7fb68d, 0xd74fb390, 0x729cef5b, 0xdcee7bdd, 0x793d2716,\n+    0xac8f71e7, 0x095c2d2c, 0xa72eb9aa, 0x02fde561, 0xbacde07c,\n+    0x1f1ebcb7, 0xb16c2831, 0x14bf74fa, 0xd814b01e, 0x7dc7ecd5,\n+    0xd3b57853, 0x76662498, 0xce562185, 0x6b857d4e, 0xc5f7e9c8,\n+    0x6024b503, 0xb596e3f2, 0x1045bf39, 0xbe372bbf, 0x1be47774,\n+    0xa3d47269, 0x06072ea2, 0xa875ba24, 0x0da6e6ef, 0x4316661d,\n+    0xe6c53ad6, 0x48b7ae50, 0xed64f29b, 0x5554f786, 0xf087ab4d,\n+    0x5ef53fcb, 0xfb266300, 0x2e9435f1, 0x8b47693a, 0x2535fdbc,\n+    0x80e6a177, 0x38d6a46a, 0x9d05f8a1, 0x33776c27, 0x96a430ec,\n+    0xee111c19, 0x4bc240d2, 0xe5b0d454, 0x4063889f, 0xf8538d82,\n+    0x5d80d149, 0xf3f245cf, 0x56211904, 0x83934ff5, 0x2640133e,\n+    0x883287b8, 0x2de1db73, 0x95d1de6e, 0x300282a5, 0x9e701623,\n+    0x3ba34ae8, 0x7513ca1a, 0xd0c096d1, 0x7eb20257, 0xdb615e9c,\n+    0x63515b81, 0xc682074a, 0x68f093cc, 0xcd23cf07, 0x189199f6,\n+    0xbd42c53d, 0x133051bb, 0xb6e30d70, 0x0ed3086d, 0xab0054a6,\n+    0x0572c020, 0xa0a19ceb, 0xb41ee811, 0x11cdb4da, 0xbfbf205c,\n+    0x1a6c7c97, 0xa25c798a, 0x078f2541, 0xa9fdb1c7, 0x0c2eed0c,\n+    0xd99cbbfd, 0x7c4fe736, 0xd23d73b0, 0x77ee2f7b, 0xcfde2a66,\n+    0x6a0d76ad, 0xc47fe22b, 0x61acbee0, 0x2f1c3e12, 0x8acf62d9,\n+    0x24bdf65f, 0x816eaa94, 0x395eaf89, 0x9c8df342, 0x32ff67c4,\n+    0x972c3b0f, 0x429e6dfe, 0xe74d3135, 0x493fa5b3, 0xececf978,\n+    0x54dcfc65, 0xf10fa0ae, 0x5f7d3428, 0xfaae68e3, 0x821b4416,\n+    0x27c818dd, 0x89ba8c5b, 0x2c69d090, 0x9459d58d, 0x318a8946,\n+    0x9ff81dc0, 0x3a2b410b, 0xef9917fa, 0x4a4a4b31, 0xe438dfb7,\n+    0x41eb837c, 0xf9db8661, 0x5c08daaa, 0xf27a4e2c, 0x57a912e7,\n+    0x19199215, 0xbccacede, 0x12b85a58, 0xb76b0693, 0x0f5b038e,\n+    0xaa885f45, 0x04facbc3, 0xa1299708, 0x749bc1f9, 0xd1489d32,\n+    0x7f3a09b4, 0xdae9557f, 0x62d95062, 0xc70a0ca9, 0x6978982f,\n+    0xccabc4e4},\n+   {0x00000000, 0xb40b77a6, 0x29119f97, 0x9d1ae831, 0x13244ff4,\n+    0xa72f3852, 0x3a35d063, 0x8e3ea7c5, 0x674eef33, 0xd3459895,\n+    0x4e5f70a4, 0xfa540702, 0x746aa0c7, 0xc061d761, 0x5d7b3f50,\n+    0xe97048f6, 0xce9cde67, 0x7a97a9c1, 0xe78d41f0, 0x53863656,\n+    0xddb89193, 0x69b3e635, 0xf4a90e04, 0x40a279a2, 0xa9d23154,\n+    0x1dd946f2, 0x80c3aec3, 0x34c8d965, 0xbaf67ea0, 0x0efd0906,\n+    0x93e7e137, 0x27ec9691, 0x9c39bdcf, 0x2832ca69, 0xb5282258,\n+    0x012355fe, 0x8f1df23b, 0x3b16859d, 0xa60c6dac, 0x12071a0a,\n+    0xfb7752fc, 0x4f7c255a, 0xd266cd6b, 0x666dbacd, 0xe8531d08,\n+    0x5c586aae, 0xc142829f, 0x7549f539, 0x52a563a8, 0xe6ae140e,\n+    0x7bb4fc3f, 0xcfbf8b99, 0x41812c5c, 0xf58a5bfa, 0x6890b3cb,\n+    0xdc9bc46d, 0x35eb8c9b, 0x81e0fb3d, 0x1cfa130c, 0xa8f164aa,\n+    0x26cfc36f, 0x92c4b4c9, 0x0fde5cf8, 0xbbd52b5e, 0x79750b44,\n+    0xcd7e7ce2, 0x506494d3, 0xe46fe375, 0x6a5144b0, 0xde5a3316,\n+    0x4340db27, 0xf74bac81, 0x1e3be477, 0xaa3093d1, 0x372a7be0,\n+    0x83210c46, 0x0d1fab83, 0xb914dc25, 0x240e3414, 0x900543b2,\n+    0xb7e9d523, 0x03e2a285, 0x9ef84ab4, 0x2af33d12, 0xa4cd9ad7,\n+    0x10c6ed71, 0x8ddc0540, 0x39d772e6, 0xd0a73a10, 0x64ac4db6,\n+    0xf9b6a587, 0x4dbdd221, 0xc38375e4, 0x77880242, 0xea92ea73,\n+    0x5e999dd5, 0xe54cb68b, 0x5147c12d, 0xcc5d291c, 0x78565eba,\n+    0xf668f97f, 0x42638ed9, 0xdf7966e8, 0x6b72114e, 0x820259b8,\n+    0x36092e1e, 0xab13c62f, 0x1f18b189, 0x9126164c, 0x252d61ea,\n+    0xb83789db, 0x0c3cfe7d, 0x2bd068ec, 0x9fdb1f4a, 0x02c1f77b,\n+    0xb6ca80dd, 0x38f42718, 0x8cff50be, 0x11e5b88f, 0xa5eecf29,\n+    0x4c9e87df, 0xf895f079, 0x658f1848, 0xd1846fee, 0x5fbac82b,\n+    0xebb1bf8d, 0x76ab57bc, 0xc2a0201a, 0xf2ea1688, 0x46e1612e,\n+    0xdbfb891f, 0x6ff0feb9, 0xe1ce597c, 0x55c52eda, 0xc8dfc6eb,\n+    0x7cd4b14d, 0x95a4f9bb, 0x21af8e1d, 0xbcb5662c, 0x08be118a,\n+    0x8680b64f, 0x328bc1e9, 0xaf9129d8, 0x1b9a5e7e, 0x3c76c8ef,\n+    0x887dbf49, 0x15675778, 0xa16c20de, 0x2f52871b, 0x9b59f0bd,\n+    0x0643188c, 0xb2486f2a, 0x5b3827dc, 0xef33507a, 0x7229b84b,\n+    0xc622cfed, 0x481c6828, 0xfc171f8e, 0x610df7bf, 0xd5068019,\n+    0x6ed3ab47, 0xdad8dce1, 0x47c234d0, 0xf3c94376, 0x7df7e4b3,\n+    0xc9fc9315, 0x54e67b24, 0xe0ed0c82, 0x099d4474, 0xbd9633d2,\n+    0x208cdbe3, 0x9487ac45, 0x1ab90b80, 0xaeb27c26, 0x33a89417,\n+    0x87a3e3b1, 0xa04f7520, 0x14440286, 0x895eeab7, 0x3d559d11,\n+    0xb36b3ad4, 0x07604d72, 0x9a7aa543, 0x2e71d2e5, 0xc7019a13,\n+    0x730aedb5, 0xee100584, 0x5a1b7222, 0xd425d5e7, 0x602ea241,\n+    0xfd344a70, 0x493f3dd6, 0x8b9f1dcc, 0x3f946a6a, 0xa28e825b,\n+    0x1685f5fd, 0x98bb5238, 0x2cb0259e, 0xb1aacdaf, 0x05a1ba09,\n+    0xecd1f2ff, 0x58da8559, 0xc5c06d68, 0x71cb1ace, 0xfff5bd0b,\n+    0x4bfecaad, 0xd6e4229c, 0x62ef553a, 0x4503c3ab, 0xf108b40d,\n+    0x6c125c3c, 0xd8192b9a, 0x56278c5f, 0xe22cfbf9, 0x7f3613c8,\n+    0xcb3d646e, 0x224d2c98, 0x96465b3e, 0x0b5cb30f, 0xbf57c4a9,\n+    0x3169636c, 0x856214ca, 0x1878fcfb, 0xac738b5d, 0x17a6a003,\n+    0xa3add7a5, 0x3eb73f94, 0x8abc4832, 0x0482eff7, 0xb0899851,\n+    0x2d937060, 0x999807c6, 0x70e84f30, 0xc4e33896, 0x59f9d0a7,\n+    0xedf2a701, 0x63cc00c4, 0xd7c77762, 0x4add9f53, 0xfed6e8f5,\n+    0xd93a7e64, 0x6d3109c2, 0xf02be1f3, 0x44209655, 0xca1e3190,\n+    0x7e154636, 0xe30fae07, 0x5704d9a1, 0xbe749157, 0x0a7fe6f1,\n+    0x97650ec0, 0x236e7966, 0xad50dea3, 0x195ba905, 0x84414134,\n+    0x304a3692},\n+   {0x00000000, 0x9e00aacc, 0x7d072542, 0xe3078f8e, 0xfa0e4a84,\n+    0x640ee048, 0x87096fc6, 0x1909c50a, 0xb51be5d3, 0x2b1b4f1f,\n+    0xc81cc091, 0x561c6a5d, 0x4f15af57, 0xd115059b, 0x32128a15,\n+    0xac1220d9, 0x2b31bb7c, 0xb53111b0, 0x56369e3e, 0xc83634f2,\n+    0xd13ff1f8, 0x4f3f5b34, 0xac38d4ba, 0x32387e76, 0x9e2a5eaf,\n+    0x002af463, 0xe32d7bed, 0x7d2dd121, 0x6424142b, 0xfa24bee7,\n+    0x19233169, 0x87239ba5, 0x566276f9, 0xc862dc35, 0x2b6553bb,\n+    0xb565f977, 0xac6c3c7d, 0x326c96b1, 0xd16b193f, 0x4f6bb3f3,\n+    0xe379932a, 0x7d7939e6, 0x9e7eb668, 0x007e1ca4, 0x1977d9ae,\n+    0x87777362, 0x6470fcec, 0xfa705620, 0x7d53cd85, 0xe3536749,\n+    0x0054e8c7, 0x9e54420b, 0x875d8701, 0x195d2dcd, 0xfa5aa243,\n+    0x645a088f, 0xc8482856, 0x5648829a, 0xb54f0d14, 0x2b4fa7d8,\n+    0x324662d2, 0xac46c81e, 0x4f414790, 0xd141ed5c, 0xedc29d29,\n+    0x73c237e5, 0x90c5b86b, 0x0ec512a7, 0x17ccd7ad, 0x89cc7d61,\n+    0x6acbf2ef, 0xf4cb5823, 0x58d978fa, 0xc6d9d236, 0x25de5db8,\n+    0xbbdef774, 0xa2d7327e, 0x3cd798b2, 0xdfd0173c, 0x41d0bdf0,\n+    0xc6f32655, 0x58f38c99, 0xbbf40317, 0x25f4a9db, 0x3cfd6cd1,\n+    0xa2fdc61d, 0x41fa4993, 0xdffae35f, 0x73e8c386, 0xede8694a,\n+    0x0eefe6c4, 0x90ef4c08, 0x89e68902, 0x17e623ce, 0xf4e1ac40,\n+    0x6ae1068c, 0xbba0ebd0, 0x25a0411c, 0xc6a7ce92, 0x58a7645e,\n+    0x41aea154, 0xdfae0b98, 0x3ca98416, 0xa2a92eda, 0x0ebb0e03,\n+    0x90bba4cf, 0x73bc2b41, 0xedbc818d, 0xf4b54487, 0x6ab5ee4b,\n+    0x89b261c5, 0x17b2cb09, 0x909150ac, 0x0e91fa60, 0xed9675ee,\n+    0x7396df22, 0x6a9f1a28, 0xf49fb0e4, 0x17983f6a, 0x899895a6,\n+    0x258ab57f, 0xbb8a1fb3, 0x588d903d, 0xc68d3af1, 0xdf84fffb,\n+    0x41845537, 0xa283dab9, 0x3c837075, 0xda853b53, 0x4485919f,\n+    0xa7821e11, 0x3982b4dd, 0x208b71d7, 0xbe8bdb1b, 0x5d8c5495,\n+    0xc38cfe59, 0x6f9ede80, 0xf19e744c, 0x1299fbc2, 0x8c99510e,\n+    0x95909404, 0x0b903ec8, 0xe897b146, 0x76971b8a, 0xf1b4802f,\n+    0x6fb42ae3, 0x8cb3a56d, 0x12b30fa1, 0x0bbacaab, 0x95ba6067,\n+    0x76bdefe9, 0xe8bd4525, 0x44af65fc, 0xdaafcf30, 0x39a840be,\n+    0xa7a8ea72, 0xbea12f78, 0x20a185b4, 0xc3a60a3a, 0x5da6a0f6,\n+    0x8ce74daa, 0x12e7e766, 0xf1e068e8, 0x6fe0c224, 0x76e9072e,\n+    0xe8e9ade2, 0x0bee226c, 0x95ee88a0, 0x39fca879, 0xa7fc02b5,\n+    0x44fb8d3b, 0xdafb27f7, 0xc3f2e2fd, 0x5df24831, 0xbef5c7bf,\n+    0x20f56d73, 0xa7d6f6d6, 0x39d65c1a, 0xdad1d394, 0x44d17958,\n+    0x5dd8bc52, 0xc3d8169e, 0x20df9910, 0xbedf33dc, 0x12cd1305,\n+    0x8ccdb9c9, 0x6fca3647, 0xf1ca9c8b, 0xe8c35981, 0x76c3f34d,\n+    0x95c47cc3, 0x0bc4d60f, 0x3747a67a, 0xa9470cb6, 0x4a408338,\n+    0xd44029f4, 0xcd49ecfe, 0x53494632, 0xb04ec9bc, 0x2e4e6370,\n+    0x825c43a9, 0x1c5ce965, 0xff5b66eb, 0x615bcc27, 0x7852092d,\n+    0xe652a3e1, 0x05552c6f, 0x9b5586a3, 0x1c761d06, 0x8276b7ca,\n+    0x61713844, 0xff719288, 0xe6785782, 0x7878fd4e, 0x9b7f72c0,\n+    0x057fd80c, 0xa96df8d5, 0x376d5219, 0xd46add97, 0x4a6a775b,\n+    0x5363b251, 0xcd63189d, 0x2e649713, 0xb0643ddf, 0x6125d083,\n+    0xff257a4f, 0x1c22f5c1, 0x82225f0d, 0x9b2b9a07, 0x052b30cb,\n+    0xe62cbf45, 0x782c1589, 0xd43e3550, 0x4a3e9f9c, 0xa9391012,\n+    0x3739bade, 0x2e307fd4, 0xb030d518, 0x53375a96, 0xcd37f05a,\n+    0x4a146bff, 0xd414c133, 0x37134ebd, 0xa913e471, 0xb01a217b,\n+    0x2e1a8bb7, 0xcd1d0439, 0x531daef5, 0xff0f8e2c, 0x610f24e0,\n+    0x8208ab6e, 0x1c0801a2, 0x0501c4a8, 0x9b016e64, 0x7806e1ea,\n+    0xe6064b26}};\n+\n@@ -464,2 +3306,6165 @@\n-  }\n-};\n+\n+#endif\n+\n+#if N == 3\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0x81256527, 0xd93bcc0f, 0x581ea928, 0x69069e5f,\n+    0xe823fb78, 0xb03d5250, 0x31183777, 0xd20d3cbe, 0x53285999,\n+    0x0b36f0b1, 0x8a139596, 0xbb0ba2e1, 0x3a2ec7c6, 0x62306eee,\n+    0xe3150bc9, 0x7f6b7f3d, 0xfe4e1a1a, 0xa650b332, 0x2775d615,\n+    0x166de162, 0x97488445, 0xcf562d6d, 0x4e73484a, 0xad664383,\n+    0x2c4326a4, 0x745d8f8c, 0xf578eaab, 0xc460dddc, 0x4545b8fb,\n+    0x1d5b11d3, 0x9c7e74f4, 0xfed6fe7a, 0x7ff39b5d, 0x27ed3275,\n+    0xa6c85752, 0x97d06025, 0x16f50502, 0x4eebac2a, 0xcfcec90d,\n+    0x2cdbc2c4, 0xadfea7e3, 0xf5e00ecb, 0x74c56bec, 0x45dd5c9b,\n+    0xc4f839bc, 0x9ce69094, 0x1dc3f5b3, 0x81bd8147, 0x0098e460,\n+    0x58864d48, 0xd9a3286f, 0xe8bb1f18, 0x699e7a3f, 0x3180d317,\n+    0xb0a5b630, 0x53b0bdf9, 0xd295d8de, 0x8a8b71f6, 0x0bae14d1,\n+    0x3ab623a6, 0xbb934681, 0xe38defa9, 0x62a88a8e, 0x26dcfab5,\n+    0xa7f99f92, 0xffe736ba, 0x7ec2539d, 0x4fda64ea, 0xceff01cd,\n+    0x96e1a8e5, 0x17c4cdc2, 0xf4d1c60b, 0x75f4a32c, 0x2dea0a04,\n+    0xaccf6f23, 0x9dd75854, 0x1cf23d73, 0x44ec945b, 0xc5c9f17c,\n+    0x59b78588, 0xd892e0af, 0x808c4987, 0x01a92ca0, 0x30b11bd7,\n+    0xb1947ef0, 0xe98ad7d8, 0x68afb2ff, 0x8bbab936, 0x0a9fdc11,\n+    0x52817539, 0xd3a4101e, 0xe2bc2769, 0x6399424e, 0x3b87eb66,\n+    0xbaa28e41, 0xd80a04cf, 0x592f61e8, 0x0131c8c0, 0x8014ade7,\n+    0xb10c9a90, 0x3029ffb7, 0x6837569f, 0xe91233b8, 0x0a073871,\n+    0x8b225d56, 0xd33cf47e, 0x52199159, 0x6301a62e, 0xe224c309,\n+    0xba3a6a21, 0x3b1f0f06, 0xa7617bf2, 0x26441ed5, 0x7e5ab7fd,\n+    0xff7fd2da, 0xce67e5ad, 0x4f42808a, 0x175c29a2, 0x96794c85,\n+    0x756c474c, 0xf449226b, 0xac578b43, 0x2d72ee64, 0x1c6ad913,\n+    0x9d4fbc34, 0xc551151c, 0x4474703b, 0x4db9f56a, 0xcc9c904d,\n+    0x94823965, 0x15a75c42, 0x24bf6b35, 0xa59a0e12, 0xfd84a73a,\n+    0x7ca1c21d, 0x9fb4c9d4, 0x1e91acf3, 0x468f05db, 0xc7aa60fc,\n+    0xf6b2578b, 0x779732ac, 0x2f899b84, 0xaeacfea3, 0x32d28a57,\n+    0xb3f7ef70, 0xebe94658, 0x6acc237f, 0x5bd41408, 0xdaf1712f,\n+    0x82efd807, 0x03cabd20, 0xe0dfb6e9, 0x61fad3ce, 0x39e47ae6,\n+    0xb8c11fc1, 0x89d928b6, 0x08fc4d91, 0x50e2e4b9, 0xd1c7819e,\n+    0xb36f0b10, 0x324a6e37, 0x6a54c71f, 0xeb71a238, 0xda69954f,\n+    0x5b4cf068, 0x03525940, 0x82773c67, 0x616237ae, 0xe0475289,\n+    0xb859fba1, 0x397c9e86, 0x0864a9f1, 0x8941ccd6, 0xd15f65fe,\n+    0x507a00d9, 0xcc04742d, 0x4d21110a, 0x153fb822, 0x941add05,\n+    0xa502ea72, 0x24278f55, 0x7c39267d, 0xfd1c435a, 0x1e094893,\n+    0x9f2c2db4, 0xc732849c, 0x4617e1bb, 0x770fd6cc, 0xf62ab3eb,\n+    0xae341ac3, 0x2f117fe4, 0x6b650fdf, 0xea406af8, 0xb25ec3d0,\n+    0x337ba6f7, 0x02639180, 0x8346f4a7, 0xdb585d8f, 0x5a7d38a8,\n+    0xb9683361, 0x384d5646, 0x6053ff6e, 0xe1769a49, 0xd06ead3e,\n+    0x514bc819, 0x09556131, 0x88700416, 0x140e70e2, 0x952b15c5,\n+    0xcd35bced, 0x4c10d9ca, 0x7d08eebd, 0xfc2d8b9a, 0xa43322b2,\n+    0x25164795, 0xc6034c5c, 0x4726297b, 0x1f388053, 0x9e1de574,\n+    0xaf05d203, 0x2e20b724, 0x763e1e0c, 0xf71b7b2b, 0x95b3f1a5,\n+    0x14969482, 0x4c883daa, 0xcdad588d, 0xfcb56ffa, 0x7d900add,\n+    0x258ea3f5, 0xa4abc6d2, 0x47becd1b, 0xc69ba83c, 0x9e850114,\n+    0x1fa06433, 0x2eb85344, 0xaf9d3663, 0xf7839f4b, 0x76a6fa6c,\n+    0xead88e98, 0x6bfdebbf, 0x33e34297, 0xb2c627b0, 0x83de10c7,\n+    0x02fb75e0, 0x5ae5dcc8, 0xdbc0b9ef, 0x38d5b226, 0xb9f0d701,\n+    0xe1ee7e29, 0x60cb1b0e, 0x51d32c79, 0xd0f6495e, 0x88e8e076,\n+    0x09cd8551},\n+   {0x00000000, 0x9b73ead4, 0xed96d3e9, 0x76e5393d, 0x005ca193,\n+    0x9b2f4b47, 0xedca727a, 0x76b998ae, 0x00b94326, 0x9bcaa9f2,\n+    0xed2f90cf, 0x765c7a1b, 0x00e5e2b5, 0x9b960861, 0xed73315c,\n+    0x7600db88, 0x0172864c, 0x9a016c98, 0xece455a5, 0x7797bf71,\n+    0x012e27df, 0x9a5dcd0b, 0xecb8f436, 0x77cb1ee2, 0x01cbc56a,\n+    0x9ab82fbe, 0xec5d1683, 0x772efc57, 0x019764f9, 0x9ae48e2d,\n+    0xec01b710, 0x77725dc4, 0x02e50c98, 0x9996e64c, 0xef73df71,\n+    0x740035a5, 0x02b9ad0b, 0x99ca47df, 0xef2f7ee2, 0x745c9436,\n+    0x025c4fbe, 0x992fa56a, 0xefca9c57, 0x74b97683, 0x0200ee2d,\n+    0x997304f9, 0xef963dc4, 0x74e5d710, 0x03978ad4, 0x98e46000,\n+    0xee01593d, 0x7572b3e9, 0x03cb2b47, 0x98b8c193, 0xee5df8ae,\n+    0x752e127a, 0x032ec9f2, 0x985d2326, 0xeeb81a1b, 0x75cbf0cf,\n+    0x03726861, 0x980182b5, 0xeee4bb88, 0x7597515c, 0x05ca1930,\n+    0x9eb9f3e4, 0xe85ccad9, 0x732f200d, 0x0596b8a3, 0x9ee55277,\n+    0xe8006b4a, 0x7373819e, 0x05735a16, 0x9e00b0c2, 0xe8e589ff,\n+    0x7396632b, 0x052ffb85, 0x9e5c1151, 0xe8b9286c, 0x73cac2b8,\n+    0x04b89f7c, 0x9fcb75a8, 0xe92e4c95, 0x725da641, 0x04e43eef,\n+    0x9f97d43b, 0xe972ed06, 0x720107d2, 0x0401dc5a, 0x9f72368e,\n+    0xe9970fb3, 0x72e4e567, 0x045d7dc9, 0x9f2e971d, 0xe9cbae20,\n+    0x72b844f4, 0x072f15a8, 0x9c5cff7c, 0xeab9c641, 0x71ca2c95,\n+    0x0773b43b, 0x9c005eef, 0xeae567d2, 0x71968d06, 0x0796568e,\n+    0x9ce5bc5a, 0xea008567, 0x71736fb3, 0x07caf71d, 0x9cb91dc9,\n+    0xea5c24f4, 0x712fce20, 0x065d93e4, 0x9d2e7930, 0xebcb400d,\n+    0x70b8aad9, 0x06013277, 0x9d72d8a3, 0xeb97e19e, 0x70e40b4a,\n+    0x06e4d0c2, 0x9d973a16, 0xeb72032b, 0x7001e9ff, 0x06b87151,\n+    0x9dcb9b85, 0xeb2ea2b8, 0x705d486c, 0x0b943260, 0x90e7d8b4,\n+    0xe602e189, 0x7d710b5d, 0x0bc893f3, 0x90bb7927, 0xe65e401a,\n+    0x7d2daace, 0x0b2d7146, 0x905e9b92, 0xe6bba2af, 0x7dc8487b,\n+    0x0b71d0d5, 0x90023a01, 0xe6e7033c, 0x7d94e9e8, 0x0ae6b42c,\n+    0x91955ef8, 0xe77067c5, 0x7c038d11, 0x0aba15bf, 0x91c9ff6b,\n+    0xe72cc656, 0x7c5f2c82, 0x0a5ff70a, 0x912c1dde, 0xe7c924e3,\n+    0x7cbace37, 0x0a035699, 0x9170bc4d, 0xe7958570, 0x7ce66fa4,\n+    0x09713ef8, 0x9202d42c, 0xe4e7ed11, 0x7f9407c5, 0x092d9f6b,\n+    0x925e75bf, 0xe4bb4c82, 0x7fc8a656, 0x09c87dde, 0x92bb970a,\n+    0xe45eae37, 0x7f2d44e3, 0x0994dc4d, 0x92e73699, 0xe4020fa4,\n+    0x7f71e570, 0x0803b8b4, 0x93705260, 0xe5956b5d, 0x7ee68189,\n+    0x085f1927, 0x932cf3f3, 0xe5c9cace, 0x7eba201a, 0x08bafb92,\n+    0x93c91146, 0xe52c287b, 0x7e5fc2af, 0x08e65a01, 0x9395b0d5,\n+    0xe57089e8, 0x7e03633c, 0x0e5e2b50, 0x952dc184, 0xe3c8f8b9,\n+    0x78bb126d, 0x0e028ac3, 0x95716017, 0xe394592a, 0x78e7b3fe,\n+    0x0ee76876, 0x959482a2, 0xe371bb9f, 0x7802514b, 0x0ebbc9e5,\n+    0x95c82331, 0xe32d1a0c, 0x785ef0d8, 0x0f2cad1c, 0x945f47c8,\n+    0xe2ba7ef5, 0x79c99421, 0x0f700c8f, 0x9403e65b, 0xe2e6df66,\n+    0x799535b2, 0x0f95ee3a, 0x94e604ee, 0xe2033dd3, 0x7970d707,\n+    0x0fc94fa9, 0x94baa57d, 0xe25f9c40, 0x792c7694, 0x0cbb27c8,\n+    0x97c8cd1c, 0xe12df421, 0x7a5e1ef5, 0x0ce7865b, 0x97946c8f,\n+    0xe17155b2, 0x7a02bf66, 0x0c0264ee, 0x97718e3a, 0xe194b707,\n+    0x7ae75dd3, 0x0c5ec57d, 0x972d2fa9, 0xe1c81694, 0x7abbfc40,\n+    0x0dc9a184, 0x96ba4b50, 0xe05f726d, 0x7b2c98b9, 0x0d950017,\n+    0x96e6eac3, 0xe003d3fe, 0x7b70392a, 0x0d70e2a2, 0x96030876,\n+    0xe0e6314b, 0x7b95db9f, 0x0d2c4331, 0x965fa9e5, 0xe0ba90d8,\n+    0x7bc97a0c},\n+   {0x00000000, 0x172864c0, 0x2e50c980, 0x3978ad40, 0x5ca19300,\n+    0x4b89f7c0, 0x72f15a80, 0x65d93e40, 0xb9432600, 0xae6b42c0,\n+    0x9713ef80, 0x803b8b40, 0xe5e2b500, 0xf2cad1c0, 0xcbb27c80,\n+    0xdc9a1840, 0xa9f74a41, 0xbedf2e81, 0x87a783c1, 0x908fe701,\n+    0xf556d941, 0xe27ebd81, 0xdb0610c1, 0xcc2e7401, 0x10b46c41,\n+    0x079c0881, 0x3ee4a5c1, 0x29ccc101, 0x4c15ff41, 0x5b3d9b81,\n+    0x624536c1, 0x756d5201, 0x889f92c3, 0x9fb7f603, 0xa6cf5b43,\n+    0xb1e73f83, 0xd43e01c3, 0xc3166503, 0xfa6ec843, 0xed46ac83,\n+    0x31dcb4c3, 0x26f4d003, 0x1f8c7d43, 0x08a41983, 0x6d7d27c3,\n+    0x7a554303, 0x432dee43, 0x54058a83, 0x2168d882, 0x3640bc42,\n+    0x0f381102, 0x181075c2, 0x7dc94b82, 0x6ae12f42, 0x53998202,\n+    0x44b1e6c2, 0x982bfe82, 0x8f039a42, 0xb67b3702, 0xa15353c2,\n+    0xc48a6d82, 0xd3a20942, 0xeadaa402, 0xfdf2c0c2, 0xca4e23c7,\n+    0xdd664707, 0xe41eea47, 0xf3368e87, 0x96efb0c7, 0x81c7d407,\n+    0xb8bf7947, 0xaf971d87, 0x730d05c7, 0x64256107, 0x5d5dcc47,\n+    0x4a75a887, 0x2fac96c7, 0x3884f207, 0x01fc5f47, 0x16d43b87,\n+    0x63b96986, 0x74910d46, 0x4de9a006, 0x5ac1c4c6, 0x3f18fa86,\n+    0x28309e46, 0x11483306, 0x066057c6, 0xdafa4f86, 0xcdd22b46,\n+    0xf4aa8606, 0xe382e2c6, 0x865bdc86, 0x9173b846, 0xa80b1506,\n+    0xbf2371c6, 0x42d1b104, 0x55f9d5c4, 0x6c817884, 0x7ba91c44,\n+    0x1e702204, 0x095846c4, 0x3020eb84, 0x27088f44, 0xfb929704,\n+    0xecbaf3c4, 0xd5c25e84, 0xc2ea3a44, 0xa7330404, 0xb01b60c4,\n+    0x8963cd84, 0x9e4ba944, 0xeb26fb45, 0xfc0e9f85, 0xc57632c5,\n+    0xd25e5605, 0xb7876845, 0xa0af0c85, 0x99d7a1c5, 0x8effc505,\n+    0x5265dd45, 0x454db985, 0x7c3514c5, 0x6b1d7005, 0x0ec44e45,\n+    0x19ec2a85, 0x209487c5, 0x37bce305, 0x4fed41cf, 0x58c5250f,\n+    0x61bd884f, 0x7695ec8f, 0x134cd2cf, 0x0464b60f, 0x3d1c1b4f,\n+    0x2a347f8f, 0xf6ae67cf, 0xe186030f, 0xd8feae4f, 0xcfd6ca8f,\n+    0xaa0ff4cf, 0xbd27900f, 0x845f3d4f, 0x9377598f, 0xe61a0b8e,\n+    0xf1326f4e, 0xc84ac20e, 0xdf62a6ce, 0xbabb988e, 0xad93fc4e,\n+    0x94eb510e, 0x83c335ce, 0x5f592d8e, 0x4871494e, 0x7109e40e,\n+    0x662180ce, 0x03f8be8e, 0x14d0da4e, 0x2da8770e, 0x3a8013ce,\n+    0xc772d30c, 0xd05ab7cc, 0xe9221a8c, 0xfe0a7e4c, 0x9bd3400c,\n+    0x8cfb24cc, 0xb583898c, 0xa2abed4c, 0x7e31f50c, 0x691991cc,\n+    0x50613c8c, 0x4749584c, 0x2290660c, 0x35b802cc, 0x0cc0af8c,\n+    0x1be8cb4c, 0x6e85994d, 0x79adfd8d, 0x40d550cd, 0x57fd340d,\n+    0x32240a4d, 0x250c6e8d, 0x1c74c3cd, 0x0b5ca70d, 0xd7c6bf4d,\n+    0xc0eedb8d, 0xf99676cd, 0xeebe120d, 0x8b672c4d, 0x9c4f488d,\n+    0xa537e5cd, 0xb21f810d, 0x85a36208, 0x928b06c8, 0xabf3ab88,\n+    0xbcdbcf48, 0xd902f108, 0xce2a95c8, 0xf7523888, 0xe07a5c48,\n+    0x3ce04408, 0x2bc820c8, 0x12b08d88, 0x0598e948, 0x6041d708,\n+    0x7769b3c8, 0x4e111e88, 0x59397a48, 0x2c542849, 0x3b7c4c89,\n+    0x0204e1c9, 0x152c8509, 0x70f5bb49, 0x67dddf89, 0x5ea572c9,\n+    0x498d1609, 0x95170e49, 0x823f6a89, 0xbb47c7c9, 0xac6fa309,\n+    0xc9b69d49, 0xde9ef989, 0xe7e654c9, 0xf0ce3009, 0x0d3cf0cb,\n+    0x1a14940b, 0x236c394b, 0x34445d8b, 0x519d63cb, 0x46b5070b,\n+    0x7fcdaa4b, 0x68e5ce8b, 0xb47fd6cb, 0xa357b20b, 0x9a2f1f4b,\n+    0x8d077b8b, 0xe8de45cb, 0xfff6210b, 0xc68e8c4b, 0xd1a6e88b,\n+    0xa4cbba8a, 0xb3e3de4a, 0x8a9b730a, 0x9db317ca, 0xf86a298a,\n+    0xef424d4a, 0xd63ae00a, 0xc11284ca, 0x1d889c8a, 0x0aa0f84a,\n+    0x33d8550a, 0x24f031ca, 0x41290f8a, 0x56016b4a, 0x6f79c60a,\n+    0x7851a2ca},\n+   {0x00000000, 0x9fda839e, 0xe4c4017d, 0x7b1e82e3, 0x12f904bb,\n+    0x8d238725, 0xf63d05c6, 0x69e78658, 0x25f20976, 0xba288ae8,\n+    0xc136080b, 0x5eec8b95, 0x370b0dcd, 0xa8d18e53, 0xd3cf0cb0,\n+    0x4c158f2e, 0x4be412ec, 0xd43e9172, 0xaf201391, 0x30fa900f,\n+    0x591d1657, 0xc6c795c9, 0xbdd9172a, 0x220394b4, 0x6e161b9a,\n+    0xf1cc9804, 0x8ad21ae7, 0x15089979, 0x7cef1f21, 0xe3359cbf,\n+    0x982b1e5c, 0x07f19dc2, 0x97c825d8, 0x0812a646, 0x730c24a5,\n+    0xecd6a73b, 0x85312163, 0x1aeba2fd, 0x61f5201e, 0xfe2fa380,\n+    0xb23a2cae, 0x2de0af30, 0x56fe2dd3, 0xc924ae4d, 0xa0c32815,\n+    0x3f19ab8b, 0x44072968, 0xdbddaaf6, 0xdc2c3734, 0x43f6b4aa,\n+    0x38e83649, 0xa732b5d7, 0xced5338f, 0x510fb011, 0x2a1132f2,\n+    0xb5cbb16c, 0xf9de3e42, 0x6604bddc, 0x1d1a3f3f, 0x82c0bca1,\n+    0xeb273af9, 0x74fdb967, 0x0fe33b84, 0x9039b81a, 0xf4e14df1,\n+    0x6b3bce6f, 0x10254c8c, 0x8fffcf12, 0xe618494a, 0x79c2cad4,\n+    0x02dc4837, 0x9d06cba9, 0xd1134487, 0x4ec9c719, 0x35d745fa,\n+    0xaa0dc664, 0xc3ea403c, 0x5c30c3a2, 0x272e4141, 0xb8f4c2df,\n+    0xbf055f1d, 0x20dfdc83, 0x5bc15e60, 0xc41bddfe, 0xadfc5ba6,\n+    0x3226d838, 0x49385adb, 0xd6e2d945, 0x9af7566b, 0x052dd5f5,\n+    0x7e335716, 0xe1e9d488, 0x880e52d0, 0x17d4d14e, 0x6cca53ad,\n+    0xf310d033, 0x63296829, 0xfcf3ebb7, 0x87ed6954, 0x1837eaca,\n+    0x71d06c92, 0xee0aef0c, 0x95146def, 0x0aceee71, 0x46db615f,\n+    0xd901e2c1, 0xa21f6022, 0x3dc5e3bc, 0x542265e4, 0xcbf8e67a,\n+    0xb0e66499, 0x2f3ce707, 0x28cd7ac5, 0xb717f95b, 0xcc097bb8,\n+    0x53d3f826, 0x3a347e7e, 0xa5eefde0, 0xdef07f03, 0x412afc9d,\n+    0x0d3f73b3, 0x92e5f02d, 0xe9fb72ce, 0x7621f150, 0x1fc67708,\n+    0x801cf496, 0xfb027675, 0x64d8f5eb, 0x32b39da3, 0xad691e3d,\n+    0xd6779cde, 0x49ad1f40, 0x204a9918, 0xbf901a86, 0xc48e9865,\n+    0x5b541bfb, 0x174194d5, 0x889b174b, 0xf38595a8, 0x6c5f1636,\n+    0x05b8906e, 0x9a6213f0, 0xe17c9113, 0x7ea6128d, 0x79578f4f,\n+    0xe68d0cd1, 0x9d938e32, 0x02490dac, 0x6bae8bf4, 0xf474086a,\n+    0x8f6a8a89, 0x10b00917, 0x5ca58639, 0xc37f05a7, 0xb8618744,\n+    0x27bb04da, 0x4e5c8282, 0xd186011c, 0xaa9883ff, 0x35420061,\n+    0xa57bb87b, 0x3aa13be5, 0x41bfb906, 0xde653a98, 0xb782bcc0,\n+    0x28583f5e, 0x5346bdbd, 0xcc9c3e23, 0x8089b10d, 0x1f533293,\n+    0x644db070, 0xfb9733ee, 0x9270b5b6, 0x0daa3628, 0x76b4b4cb,\n+    0xe96e3755, 0xee9faa97, 0x71452909, 0x0a5babea, 0x95812874,\n+    0xfc66ae2c, 0x63bc2db2, 0x18a2af51, 0x87782ccf, 0xcb6da3e1,\n+    0x54b7207f, 0x2fa9a29c, 0xb0732102, 0xd994a75a, 0x464e24c4,\n+    0x3d50a627, 0xa28a25b9, 0xc652d052, 0x598853cc, 0x2296d12f,\n+    0xbd4c52b1, 0xd4abd4e9, 0x4b715777, 0x306fd594, 0xafb5560a,\n+    0xe3a0d924, 0x7c7a5aba, 0x0764d859, 0x98be5bc7, 0xf159dd9f,\n+    0x6e835e01, 0x159ddce2, 0x8a475f7c, 0x8db6c2be, 0x126c4120,\n+    0x6972c3c3, 0xf6a8405d, 0x9f4fc605, 0x0095459b, 0x7b8bc778,\n+    0xe45144e6, 0xa844cbc8, 0x379e4856, 0x4c80cab5, 0xd35a492b,\n+    0xbabdcf73, 0x25674ced, 0x5e79ce0e, 0xc1a34d90, 0x519af58a,\n+    0xce407614, 0xb55ef4f7, 0x2a847769, 0x4363f131, 0xdcb972af,\n+    0xa7a7f04c, 0x387d73d2, 0x7468fcfc, 0xebb27f62, 0x90acfd81,\n+    0x0f767e1f, 0x6691f847, 0xf94b7bd9, 0x8255f93a, 0x1d8f7aa4,\n+    0x1a7ee766, 0x85a464f8, 0xfebae61b, 0x61606585, 0x0887e3dd,\n+    0x975d6043, 0xec43e2a0, 0x7399613e, 0x3f8cee10, 0xa0566d8e,\n+    0xdb48ef6d, 0x44926cf3, 0x2d75eaab, 0xb2af6935, 0xc9b1ebd6,\n+    0x566b6848},\n+   {0x00000000, 0x65673b46, 0xcace768c, 0xafa94dca, 0x4eedeb59,\n+    0x2b8ad01f, 0x84239dd5, 0xe144a693, 0x9ddbd6b2, 0xf8bcedf4,\n+    0x5715a03e, 0x32729b78, 0xd3363deb, 0xb65106ad, 0x19f84b67,\n+    0x7c9f7021, 0xe0c6ab25, 0x85a19063, 0x2a08dda9, 0x4f6fe6ef,\n+    0xae2b407c, 0xcb4c7b3a, 0x64e536f0, 0x01820db6, 0x7d1d7d97,\n+    0x187a46d1, 0xb7d30b1b, 0xd2b4305d, 0x33f096ce, 0x5697ad88,\n+    0xf93ee042, 0x9c59db04, 0x1afc500b, 0x7f9b6b4d, 0xd0322687,\n+    0xb5551dc1, 0x5411bb52, 0x31768014, 0x9edfcdde, 0xfbb8f698,\n+    0x872786b9, 0xe240bdff, 0x4de9f035, 0x288ecb73, 0xc9ca6de0,\n+    0xacad56a6, 0x03041b6c, 0x6663202a, 0xfa3afb2e, 0x9f5dc068,\n+    0x30f48da2, 0x5593b6e4, 0xb4d71077, 0xd1b02b31, 0x7e1966fb,\n+    0x1b7e5dbd, 0x67e12d9c, 0x028616da, 0xad2f5b10, 0xc8486056,\n+    0x290cc6c5, 0x4c6bfd83, 0xe3c2b049, 0x86a58b0f, 0x35f8a016,\n+    0x509f9b50, 0xff36d69a, 0x9a51eddc, 0x7b154b4f, 0x1e727009,\n+    0xb1db3dc3, 0xd4bc0685, 0xa82376a4, 0xcd444de2, 0x62ed0028,\n+    0x078a3b6e, 0xe6ce9dfd, 0x83a9a6bb, 0x2c00eb71, 0x4967d037,\n+    0xd53e0b33, 0xb0593075, 0x1ff07dbf, 0x7a9746f9, 0x9bd3e06a,\n+    0xfeb4db2c, 0x511d96e6, 0x347aada0, 0x48e5dd81, 0x2d82e6c7,\n+    0x822bab0d, 0xe74c904b, 0x060836d8, 0x636f0d9e, 0xccc64054,\n+    0xa9a17b12, 0x2f04f01d, 0x4a63cb5b, 0xe5ca8691, 0x80adbdd7,\n+    0x61e91b44, 0x048e2002, 0xab276dc8, 0xce40568e, 0xb2df26af,\n+    0xd7b81de9, 0x78115023, 0x1d766b65, 0xfc32cdf6, 0x9955f6b0,\n+    0x36fcbb7a, 0x539b803c, 0xcfc25b38, 0xaaa5607e, 0x050c2db4,\n+    0x606b16f2, 0x812fb061, 0xe4488b27, 0x4be1c6ed, 0x2e86fdab,\n+    0x52198d8a, 0x377eb6cc, 0x98d7fb06, 0xfdb0c040, 0x1cf466d3,\n+    0x79935d95, 0xd63a105f, 0xb35d2b19, 0x6bf1402c, 0x0e967b6a,\n+    0xa13f36a0, 0xc4580de6, 0x251cab75, 0x407b9033, 0xefd2ddf9,\n+    0x8ab5e6bf, 0xf62a969e, 0x934dadd8, 0x3ce4e012, 0x5983db54,\n+    0xb8c77dc7, 0xdda04681, 0x72090b4b, 0x176e300d, 0x8b37eb09,\n+    0xee50d04f, 0x41f99d85, 0x249ea6c3, 0xc5da0050, 0xa0bd3b16,\n+    0x0f1476dc, 0x6a734d9a, 0x16ec3dbb, 0x738b06fd, 0xdc224b37,\n+    0xb9457071, 0x5801d6e2, 0x3d66eda4, 0x92cfa06e, 0xf7a89b28,\n+    0x710d1027, 0x146a2b61, 0xbbc366ab, 0xdea45ded, 0x3fe0fb7e,\n+    0x5a87c038, 0xf52e8df2, 0x9049b6b4, 0xecd6c695, 0x89b1fdd3,\n+    0x2618b019, 0x437f8b5f, 0xa23b2dcc, 0xc75c168a, 0x68f55b40,\n+    0x0d926006, 0x91cbbb02, 0xf4ac8044, 0x5b05cd8e, 0x3e62f6c8,\n+    0xdf26505b, 0xba416b1d, 0x15e826d7, 0x708f1d91, 0x0c106db0,\n+    0x697756f6, 0xc6de1b3c, 0xa3b9207a, 0x42fd86e9, 0x279abdaf,\n+    0x8833f065, 0xed54cb23, 0x5e09e03a, 0x3b6edb7c, 0x94c796b6,\n+    0xf1a0adf0, 0x10e40b63, 0x75833025, 0xda2a7def, 0xbf4d46a9,\n+    0xc3d23688, 0xa6b50dce, 0x091c4004, 0x6c7b7b42, 0x8d3fddd1,\n+    0xe858e697, 0x47f1ab5d, 0x2296901b, 0xbecf4b1f, 0xdba87059,\n+    0x74013d93, 0x116606d5, 0xf022a046, 0x95459b00, 0x3aecd6ca,\n+    0x5f8bed8c, 0x23149dad, 0x4673a6eb, 0xe9daeb21, 0x8cbdd067,\n+    0x6df976f4, 0x089e4db2, 0xa7370078, 0xc2503b3e, 0x44f5b031,\n+    0x21928b77, 0x8e3bc6bd, 0xeb5cfdfb, 0x0a185b68, 0x6f7f602e,\n+    0xc0d62de4, 0xa5b116a2, 0xd92e6683, 0xbc495dc5, 0x13e0100f,\n+    0x76872b49, 0x97c38dda, 0xf2a4b69c, 0x5d0dfb56, 0x386ac010,\n+    0xa4331b14, 0xc1542052, 0x6efd6d98, 0x0b9a56de, 0xeadef04d,\n+    0x8fb9cb0b, 0x201086c1, 0x4577bd87, 0x39e8cda6, 0x5c8ff6e0,\n+    0xf326bb2a, 0x9641806c, 0x770526ff, 0x12621db9, 0xbdcb5073,\n+    0xd8ac6b35},\n+   {0x00000000, 0xd7e28058, 0x74b406f1, 0xa35686a9, 0xe9680de2,\n+    0x3e8a8dba, 0x9ddc0b13, 0x4a3e8b4b, 0x09a11d85, 0xde439ddd,\n+    0x7d151b74, 0xaaf79b2c, 0xe0c91067, 0x372b903f, 0x947d1696,\n+    0x439f96ce, 0x13423b0a, 0xc4a0bb52, 0x67f63dfb, 0xb014bda3,\n+    0xfa2a36e8, 0x2dc8b6b0, 0x8e9e3019, 0x597cb041, 0x1ae3268f,\n+    0xcd01a6d7, 0x6e57207e, 0xb9b5a026, 0xf38b2b6d, 0x2469ab35,\n+    0x873f2d9c, 0x50ddadc4, 0x26847614, 0xf166f64c, 0x523070e5,\n+    0x85d2f0bd, 0xcfec7bf6, 0x180efbae, 0xbb587d07, 0x6cbafd5f,\n+    0x2f256b91, 0xf8c7ebc9, 0x5b916d60, 0x8c73ed38, 0xc64d6673,\n+    0x11afe62b, 0xb2f96082, 0x651be0da, 0x35c64d1e, 0xe224cd46,\n+    0x41724bef, 0x9690cbb7, 0xdcae40fc, 0x0b4cc0a4, 0xa81a460d,\n+    0x7ff8c655, 0x3c67509b, 0xeb85d0c3, 0x48d3566a, 0x9f31d632,\n+    0xd50f5d79, 0x02eddd21, 0xa1bb5b88, 0x7659dbd0, 0x4d08ec28,\n+    0x9aea6c70, 0x39bcead9, 0xee5e6a81, 0xa460e1ca, 0x73826192,\n+    0xd0d4e73b, 0x07366763, 0x44a9f1ad, 0x934b71f5, 0x301df75c,\n+    0xe7ff7704, 0xadc1fc4f, 0x7a237c17, 0xd975fabe, 0x0e977ae6,\n+    0x5e4ad722, 0x89a8577a, 0x2afed1d3, 0xfd1c518b, 0xb722dac0,\n+    0x60c05a98, 0xc396dc31, 0x14745c69, 0x57ebcaa7, 0x80094aff,\n+    0x235fcc56, 0xf4bd4c0e, 0xbe83c745, 0x6961471d, 0xca37c1b4,\n+    0x1dd541ec, 0x6b8c9a3c, 0xbc6e1a64, 0x1f389ccd, 0xc8da1c95,\n+    0x82e497de, 0x55061786, 0xf650912f, 0x21b21177, 0x622d87b9,\n+    0xb5cf07e1, 0x16998148, 0xc17b0110, 0x8b458a5b, 0x5ca70a03,\n+    0xfff18caa, 0x28130cf2, 0x78cea136, 0xaf2c216e, 0x0c7aa7c7,\n+    0xdb98279f, 0x91a6acd4, 0x46442c8c, 0xe512aa25, 0x32f02a7d,\n+    0x716fbcb3, 0xa68d3ceb, 0x05dbba42, 0xd2393a1a, 0x9807b151,\n+    0x4fe53109, 0xecb3b7a0, 0x3b5137f8, 0x9a11d850, 0x4df35808,\n+    0xeea5dea1, 0x39475ef9, 0x7379d5b2, 0xa49b55ea, 0x07cdd343,\n+    0xd02f531b, 0x93b0c5d5, 0x4452458d, 0xe704c324, 0x30e6437c,\n+    0x7ad8c837, 0xad3a486f, 0x0e6ccec6, 0xd98e4e9e, 0x8953e35a,\n+    0x5eb16302, 0xfde7e5ab, 0x2a0565f3, 0x603beeb8, 0xb7d96ee0,\n+    0x148fe849, 0xc36d6811, 0x80f2fedf, 0x57107e87, 0xf446f82e,\n+    0x23a47876, 0x699af33d, 0xbe787365, 0x1d2ef5cc, 0xcacc7594,\n+    0xbc95ae44, 0x6b772e1c, 0xc821a8b5, 0x1fc328ed, 0x55fda3a6,\n+    0x821f23fe, 0x2149a557, 0xf6ab250f, 0xb534b3c1, 0x62d63399,\n+    0xc180b530, 0x16623568, 0x5c5cbe23, 0x8bbe3e7b, 0x28e8b8d2,\n+    0xff0a388a, 0xafd7954e, 0x78351516, 0xdb6393bf, 0x0c8113e7,\n+    0x46bf98ac, 0x915d18f4, 0x320b9e5d, 0xe5e91e05, 0xa67688cb,\n+    0x71940893, 0xd2c28e3a, 0x05200e62, 0x4f1e8529, 0x98fc0571,\n+    0x3baa83d8, 0xec480380, 0xd7193478, 0x00fbb420, 0xa3ad3289,\n+    0x744fb2d1, 0x3e71399a, 0xe993b9c2, 0x4ac53f6b, 0x9d27bf33,\n+    0xdeb829fd, 0x095aa9a5, 0xaa0c2f0c, 0x7deeaf54, 0x37d0241f,\n+    0xe032a447, 0x436422ee, 0x9486a2b6, 0xc45b0f72, 0x13b98f2a,\n+    0xb0ef0983, 0x670d89db, 0x2d330290, 0xfad182c8, 0x59870461,\n+    0x8e658439, 0xcdfa12f7, 0x1a1892af, 0xb94e1406, 0x6eac945e,\n+    0x24921f15, 0xf3709f4d, 0x502619e4, 0x87c499bc, 0xf19d426c,\n+    0x267fc234, 0x8529449d, 0x52cbc4c5, 0x18f54f8e, 0xcf17cfd6,\n+    0x6c41497f, 0xbba3c927, 0xf83c5fe9, 0x2fdedfb1, 0x8c885918,\n+    0x5b6ad940, 0x1154520b, 0xc6b6d253, 0x65e054fa, 0xb202d4a2,\n+    0xe2df7966, 0x353df93e, 0x966b7f97, 0x4189ffcf, 0x0bb77484,\n+    0xdc55f4dc, 0x7f037275, 0xa8e1f22d, 0xeb7e64e3, 0x3c9ce4bb,\n+    0x9fca6212, 0x4828e24a, 0x02166901, 0xd5f4e959, 0x76a26ff0,\n+    0xa140efa8},\n+   {0x00000000, 0xef52b6e1, 0x05d46b83, 0xea86dd62, 0x0ba8d706,\n+    0xe4fa61e7, 0x0e7cbc85, 0xe12e0a64, 0x1751ae0c, 0xf80318ed,\n+    0x1285c58f, 0xfdd7736e, 0x1cf9790a, 0xf3abcfeb, 0x192d1289,\n+    0xf67fa468, 0x2ea35c18, 0xc1f1eaf9, 0x2b77379b, 0xc425817a,\n+    0x250b8b1e, 0xca593dff, 0x20dfe09d, 0xcf8d567c, 0x39f2f214,\n+    0xd6a044f5, 0x3c269997, 0xd3742f76, 0x325a2512, 0xdd0893f3,\n+    0x378e4e91, 0xd8dcf870, 0x5d46b830, 0xb2140ed1, 0x5892d3b3,\n+    0xb7c06552, 0x56ee6f36, 0xb9bcd9d7, 0x533a04b5, 0xbc68b254,\n+    0x4a17163c, 0xa545a0dd, 0x4fc37dbf, 0xa091cb5e, 0x41bfc13a,\n+    0xaeed77db, 0x446baab9, 0xab391c58, 0x73e5e428, 0x9cb752c9,\n+    0x76318fab, 0x9963394a, 0x784d332e, 0x971f85cf, 0x7d9958ad,\n+    0x92cbee4c, 0x64b44a24, 0x8be6fcc5, 0x616021a7, 0x8e329746,\n+    0x6f1c9d22, 0x804e2bc3, 0x6ac8f6a1, 0x859a4040, 0xba8d7060,\n+    0x55dfc681, 0xbf591be3, 0x500bad02, 0xb125a766, 0x5e771187,\n+    0xb4f1cce5, 0x5ba37a04, 0xaddcde6c, 0x428e688d, 0xa808b5ef,\n+    0x475a030e, 0xa674096a, 0x4926bf8b, 0xa3a062e9, 0x4cf2d408,\n+    0x942e2c78, 0x7b7c9a99, 0x91fa47fb, 0x7ea8f11a, 0x9f86fb7e,\n+    0x70d44d9f, 0x9a5290fd, 0x7500261c, 0x837f8274, 0x6c2d3495,\n+    0x86abe9f7, 0x69f95f16, 0x88d75572, 0x6785e393, 0x8d033ef1,\n+    0x62518810, 0xe7cbc850, 0x08997eb1, 0xe21fa3d3, 0x0d4d1532,\n+    0xec631f56, 0x0331a9b7, 0xe9b774d5, 0x06e5c234, 0xf09a665c,\n+    0x1fc8d0bd, 0xf54e0ddf, 0x1a1cbb3e, 0xfb32b15a, 0x146007bb,\n+    0xfee6dad9, 0x11b46c38, 0xc9689448, 0x263a22a9, 0xccbcffcb,\n+    0x23ee492a, 0xc2c0434e, 0x2d92f5af, 0xc71428cd, 0x28469e2c,\n+    0xde393a44, 0x316b8ca5, 0xdbed51c7, 0x34bfe726, 0xd591ed42,\n+    0x3ac35ba3, 0xd04586c1, 0x3f173020, 0xae6be681, 0x41395060,\n+    0xabbf8d02, 0x44ed3be3, 0xa5c33187, 0x4a918766, 0xa0175a04,\n+    0x4f45ece5, 0xb93a488d, 0x5668fe6c, 0xbcee230e, 0x53bc95ef,\n+    0xb2929f8b, 0x5dc0296a, 0xb746f408, 0x581442e9, 0x80c8ba99,\n+    0x6f9a0c78, 0x851cd11a, 0x6a4e67fb, 0x8b606d9f, 0x6432db7e,\n+    0x8eb4061c, 0x61e6b0fd, 0x97991495, 0x78cba274, 0x924d7f16,\n+    0x7d1fc9f7, 0x9c31c393, 0x73637572, 0x99e5a810, 0x76b71ef1,\n+    0xf32d5eb1, 0x1c7fe850, 0xf6f93532, 0x19ab83d3, 0xf88589b7,\n+    0x17d73f56, 0xfd51e234, 0x120354d5, 0xe47cf0bd, 0x0b2e465c,\n+    0xe1a89b3e, 0x0efa2ddf, 0xefd427bb, 0x0086915a, 0xea004c38,\n+    0x0552fad9, 0xdd8e02a9, 0x32dcb448, 0xd85a692a, 0x3708dfcb,\n+    0xd626d5af, 0x3974634e, 0xd3f2be2c, 0x3ca008cd, 0xcadfaca5,\n+    0x258d1a44, 0xcf0bc726, 0x205971c7, 0xc1777ba3, 0x2e25cd42,\n+    0xc4a31020, 0x2bf1a6c1, 0x14e696e1, 0xfbb42000, 0x1132fd62,\n+    0xfe604b83, 0x1f4e41e7, 0xf01cf706, 0x1a9a2a64, 0xf5c89c85,\n+    0x03b738ed, 0xece58e0c, 0x0663536e, 0xe931e58f, 0x081fefeb,\n+    0xe74d590a, 0x0dcb8468, 0xe2993289, 0x3a45caf9, 0xd5177c18,\n+    0x3f91a17a, 0xd0c3179b, 0x31ed1dff, 0xdebfab1e, 0x3439767c,\n+    0xdb6bc09d, 0x2d1464f5, 0xc246d214, 0x28c00f76, 0xc792b997,\n+    0x26bcb3f3, 0xc9ee0512, 0x2368d870, 0xcc3a6e91, 0x49a02ed1,\n+    0xa6f29830, 0x4c744552, 0xa326f3b3, 0x4208f9d7, 0xad5a4f36,\n+    0x47dc9254, 0xa88e24b5, 0x5ef180dd, 0xb1a3363c, 0x5b25eb5e,\n+    0xb4775dbf, 0x555957db, 0xba0be13a, 0x508d3c58, 0xbfdf8ab9,\n+    0x670372c9, 0x8851c428, 0x62d7194a, 0x8d85afab, 0x6caba5cf,\n+    0x83f9132e, 0x697fce4c, 0x862d78ad, 0x7052dcc5, 0x9f006a24,\n+    0x7586b746, 0x9ad401a7, 0x7bfa0bc3, 0x94a8bd22, 0x7e2e6040,\n+    0x917cd6a1},\n+   {0x00000000, 0x87a6cb43, 0xd43c90c7, 0x539a5b84, 0x730827cf,\n+    0xf4aeec8c, 0xa734b708, 0x20927c4b, 0xe6104f9e, 0x61b684dd,\n+    0x322cdf59, 0xb58a141a, 0x95186851, 0x12bea312, 0x4124f896,\n+    0xc68233d5, 0x1751997d, 0x90f7523e, 0xc36d09ba, 0x44cbc2f9,\n+    0x6459beb2, 0xe3ff75f1, 0xb0652e75, 0x37c3e536, 0xf141d6e3,\n+    0x76e71da0, 0x257d4624, 0xa2db8d67, 0x8249f12c, 0x05ef3a6f,\n+    0x567561eb, 0xd1d3aaa8, 0x2ea332fa, 0xa905f9b9, 0xfa9fa23d,\n+    0x7d39697e, 0x5dab1535, 0xda0dde76, 0x899785f2, 0x0e314eb1,\n+    0xc8b37d64, 0x4f15b627, 0x1c8feda3, 0x9b2926e0, 0xbbbb5aab,\n+    0x3c1d91e8, 0x6f87ca6c, 0xe821012f, 0x39f2ab87, 0xbe5460c4,\n+    0xedce3b40, 0x6a68f003, 0x4afa8c48, 0xcd5c470b, 0x9ec61c8f,\n+    0x1960d7cc, 0xdfe2e419, 0x58442f5a, 0x0bde74de, 0x8c78bf9d,\n+    0xaceac3d6, 0x2b4c0895, 0x78d65311, 0xff709852, 0x5d4665f4,\n+    0xdae0aeb7, 0x897af533, 0x0edc3e70, 0x2e4e423b, 0xa9e88978,\n+    0xfa72d2fc, 0x7dd419bf, 0xbb562a6a, 0x3cf0e129, 0x6f6abaad,\n+    0xe8cc71ee, 0xc85e0da5, 0x4ff8c6e6, 0x1c629d62, 0x9bc45621,\n+    0x4a17fc89, 0xcdb137ca, 0x9e2b6c4e, 0x198da70d, 0x391fdb46,\n+    0xbeb91005, 0xed234b81, 0x6a8580c2, 0xac07b317, 0x2ba17854,\n+    0x783b23d0, 0xff9de893, 0xdf0f94d8, 0x58a95f9b, 0x0b33041f,\n+    0x8c95cf5c, 0x73e5570e, 0xf4439c4d, 0xa7d9c7c9, 0x207f0c8a,\n+    0x00ed70c1, 0x874bbb82, 0xd4d1e006, 0x53772b45, 0x95f51890,\n+    0x1253d3d3, 0x41c98857, 0xc66f4314, 0xe6fd3f5f, 0x615bf41c,\n+    0x32c1af98, 0xb56764db, 0x64b4ce73, 0xe3120530, 0xb0885eb4,\n+    0x372e95f7, 0x17bce9bc, 0x901a22ff, 0xc380797b, 0x4426b238,\n+    0x82a481ed, 0x05024aae, 0x5698112a, 0xd13eda69, 0xf1aca622,\n+    0x760a6d61, 0x259036e5, 0xa236fda6, 0xba8ccbe8, 0x3d2a00ab,\n+    0x6eb05b2f, 0xe916906c, 0xc984ec27, 0x4e222764, 0x1db87ce0,\n+    0x9a1eb7a3, 0x5c9c8476, 0xdb3a4f35, 0x88a014b1, 0x0f06dff2,\n+    0x2f94a3b9, 0xa83268fa, 0xfba8337e, 0x7c0ef83d, 0xaddd5295,\n+    0x2a7b99d6, 0x79e1c252, 0xfe470911, 0xded5755a, 0x5973be19,\n+    0x0ae9e59d, 0x8d4f2ede, 0x4bcd1d0b, 0xcc6bd648, 0x9ff18dcc,\n+    0x1857468f, 0x38c53ac4, 0xbf63f187, 0xecf9aa03, 0x6b5f6140,\n+    0x942ff912, 0x13893251, 0x401369d5, 0xc7b5a296, 0xe727dedd,\n+    0x6081159e, 0x331b4e1a, 0xb4bd8559, 0x723fb68c, 0xf5997dcf,\n+    0xa603264b, 0x21a5ed08, 0x01379143, 0x86915a00, 0xd50b0184,\n+    0x52adcac7, 0x837e606f, 0x04d8ab2c, 0x5742f0a8, 0xd0e43beb,\n+    0xf07647a0, 0x77d08ce3, 0x244ad767, 0xa3ec1c24, 0x656e2ff1,\n+    0xe2c8e4b2, 0xb152bf36, 0x36f47475, 0x1666083e, 0x91c0c37d,\n+    0xc25a98f9, 0x45fc53ba, 0xe7caae1c, 0x606c655f, 0x33f63edb,\n+    0xb450f598, 0x94c289d3, 0x13644290, 0x40fe1914, 0xc758d257,\n+    0x01dae182, 0x867c2ac1, 0xd5e67145, 0x5240ba06, 0x72d2c64d,\n+    0xf5740d0e, 0xa6ee568a, 0x21489dc9, 0xf09b3761, 0x773dfc22,\n+    0x24a7a7a6, 0xa3016ce5, 0x839310ae, 0x0435dbed, 0x57af8069,\n+    0xd0094b2a, 0x168b78ff, 0x912db3bc, 0xc2b7e838, 0x4511237b,\n+    0x65835f30, 0xe2259473, 0xb1bfcff7, 0x361904b4, 0xc9699ce6,\n+    0x4ecf57a5, 0x1d550c21, 0x9af3c762, 0xba61bb29, 0x3dc7706a,\n+    0x6e5d2bee, 0xe9fbe0ad, 0x2f79d378, 0xa8df183b, 0xfb4543bf,\n+    0x7ce388fc, 0x5c71f4b7, 0xdbd73ff4, 0x884d6470, 0x0febaf33,\n+    0xde38059b, 0x599eced8, 0x0a04955c, 0x8da25e1f, 0xad302254,\n+    0x2a96e917, 0x790cb293, 0xfeaa79d0, 0x38284a05, 0xbf8e8146,\n+    0xec14dac2, 0x6bb21181, 0x4b206dca, 0xcc86a689, 0x9f1cfd0d,\n+    0x18ba364e}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0x43cba68700000000, 0xc7903cd400000000,\n+    0x845b9a5300000000, 0xcf27087300000000, 0x8cecaef400000000,\n+    0x08b734a700000000, 0x4b7c922000000000, 0x9e4f10e600000000,\n+    0xdd84b66100000000, 0x59df2c3200000000, 0x1a148ab500000000,\n+    0x5168189500000000, 0x12a3be1200000000, 0x96f8244100000000,\n+    0xd53382c600000000, 0x7d99511700000000, 0x3e52f79000000000,\n+    0xba096dc300000000, 0xf9c2cb4400000000, 0xb2be596400000000,\n+    0xf175ffe300000000, 0x752e65b000000000, 0x36e5c33700000000,\n+    0xe3d641f100000000, 0xa01de77600000000, 0x24467d2500000000,\n+    0x678ddba200000000, 0x2cf1498200000000, 0x6f3aef0500000000,\n+    0xeb61755600000000, 0xa8aad3d100000000, 0xfa32a32e00000000,\n+    0xb9f905a900000000, 0x3da29ffa00000000, 0x7e69397d00000000,\n+    0x3515ab5d00000000, 0x76de0dda00000000, 0xf285978900000000,\n+    0xb14e310e00000000, 0x647db3c800000000, 0x27b6154f00000000,\n+    0xa3ed8f1c00000000, 0xe026299b00000000, 0xab5abbbb00000000,\n+    0xe8911d3c00000000, 0x6cca876f00000000, 0x2f0121e800000000,\n+    0x87abf23900000000, 0xc46054be00000000, 0x403bceed00000000,\n+    0x03f0686a00000000, 0x488cfa4a00000000, 0x0b475ccd00000000,\n+    0x8f1cc69e00000000, 0xccd7601900000000, 0x19e4e2df00000000,\n+    0x5a2f445800000000, 0xde74de0b00000000, 0x9dbf788c00000000,\n+    0xd6c3eaac00000000, 0x95084c2b00000000, 0x1153d67800000000,\n+    0x529870ff00000000, 0xf465465d00000000, 0xb7aee0da00000000,\n+    0x33f57a8900000000, 0x703edc0e00000000, 0x3b424e2e00000000,\n+    0x7889e8a900000000, 0xfcd272fa00000000, 0xbf19d47d00000000,\n+    0x6a2a56bb00000000, 0x29e1f03c00000000, 0xadba6a6f00000000,\n+    0xee71cce800000000, 0xa50d5ec800000000, 0xe6c6f84f00000000,\n+    0x629d621c00000000, 0x2156c49b00000000, 0x89fc174a00000000,\n+    0xca37b1cd00000000, 0x4e6c2b9e00000000, 0x0da78d1900000000,\n+    0x46db1f3900000000, 0x0510b9be00000000, 0x814b23ed00000000,\n+    0xc280856a00000000, 0x17b307ac00000000, 0x5478a12b00000000,\n+    0xd0233b7800000000, 0x93e89dff00000000, 0xd8940fdf00000000,\n+    0x9b5fa95800000000, 0x1f04330b00000000, 0x5ccf958c00000000,\n+    0x0e57e57300000000, 0x4d9c43f400000000, 0xc9c7d9a700000000,\n+    0x8a0c7f2000000000, 0xc170ed0000000000, 0x82bb4b8700000000,\n+    0x06e0d1d400000000, 0x452b775300000000, 0x9018f59500000000,\n+    0xd3d3531200000000, 0x5788c94100000000, 0x14436fc600000000,\n+    0x5f3ffde600000000, 0x1cf45b6100000000, 0x98afc13200000000,\n+    0xdb6467b500000000, 0x73ceb46400000000, 0x300512e300000000,\n+    0xb45e88b000000000, 0xf7952e3700000000, 0xbce9bc1700000000,\n+    0xff221a9000000000, 0x7b7980c300000000, 0x38b2264400000000,\n+    0xed81a48200000000, 0xae4a020500000000, 0x2a11985600000000,\n+    0x69da3ed100000000, 0x22a6acf100000000, 0x616d0a7600000000,\n+    0xe536902500000000, 0xa6fd36a200000000, 0xe8cb8cba00000000,\n+    0xab002a3d00000000, 0x2f5bb06e00000000, 0x6c9016e900000000,\n+    0x27ec84c900000000, 0x6427224e00000000, 0xe07cb81d00000000,\n+    0xa3b71e9a00000000, 0x76849c5c00000000, 0x354f3adb00000000,\n+    0xb114a08800000000, 0xf2df060f00000000, 0xb9a3942f00000000,\n+    0xfa6832a800000000, 0x7e33a8fb00000000, 0x3df80e7c00000000,\n+    0x9552ddad00000000, 0xd6997b2a00000000, 0x52c2e17900000000,\n+    0x110947fe00000000, 0x5a75d5de00000000, 0x19be735900000000,\n+    0x9de5e90a00000000, 0xde2e4f8d00000000, 0x0b1dcd4b00000000,\n+    0x48d66bcc00000000, 0xcc8df19f00000000, 0x8f46571800000000,\n+    0xc43ac53800000000, 0x87f163bf00000000, 0x03aaf9ec00000000,\n+    0x40615f6b00000000, 0x12f92f9400000000, 0x5132891300000000,\n+    0xd569134000000000, 0x96a2b5c700000000, 0xddde27e700000000,\n+    0x9e15816000000000, 0x1a4e1b3300000000, 0x5985bdb400000000,\n+    0x8cb63f7200000000, 0xcf7d99f500000000, 0x4b2603a600000000,\n+    0x08eda52100000000, 0x4391370100000000, 0x005a918600000000,\n+    0x84010bd500000000, 0xc7caad5200000000, 0x6f607e8300000000,\n+    0x2cabd80400000000, 0xa8f0425700000000, 0xeb3be4d000000000,\n+    0xa04776f000000000, 0xe38cd07700000000, 0x67d74a2400000000,\n+    0x241ceca300000000, 0xf12f6e6500000000, 0xb2e4c8e200000000,\n+    0x36bf52b100000000, 0x7574f43600000000, 0x3e08661600000000,\n+    0x7dc3c09100000000, 0xf9985ac200000000, 0xba53fc4500000000,\n+    0x1caecae700000000, 0x5f656c6000000000, 0xdb3ef63300000000,\n+    0x98f550b400000000, 0xd389c29400000000, 0x9042641300000000,\n+    0x1419fe4000000000, 0x57d258c700000000, 0x82e1da0100000000,\n+    0xc12a7c8600000000, 0x4571e6d500000000, 0x06ba405200000000,\n+    0x4dc6d27200000000, 0x0e0d74f500000000, 0x8a56eea600000000,\n+    0xc99d482100000000, 0x61379bf000000000, 0x22fc3d7700000000,\n+    0xa6a7a72400000000, 0xe56c01a300000000, 0xae10938300000000,\n+    0xeddb350400000000, 0x6980af5700000000, 0x2a4b09d000000000,\n+    0xff788b1600000000, 0xbcb32d9100000000, 0x38e8b7c200000000,\n+    0x7b23114500000000, 0x305f836500000000, 0x739425e200000000,\n+    0xf7cfbfb100000000, 0xb404193600000000, 0xe69c69c900000000,\n+    0xa557cf4e00000000, 0x210c551d00000000, 0x62c7f39a00000000,\n+    0x29bb61ba00000000, 0x6a70c73d00000000, 0xee2b5d6e00000000,\n+    0xade0fbe900000000, 0x78d3792f00000000, 0x3b18dfa800000000,\n+    0xbf4345fb00000000, 0xfc88e37c00000000, 0xb7f4715c00000000,\n+    0xf43fd7db00000000, 0x70644d8800000000, 0x33afeb0f00000000,\n+    0x9b0538de00000000, 0xd8ce9e5900000000, 0x5c95040a00000000,\n+    0x1f5ea28d00000000, 0x542230ad00000000, 0x17e9962a00000000,\n+    0x93b20c7900000000, 0xd079aafe00000000, 0x054a283800000000,\n+    0x46818ebf00000000, 0xc2da14ec00000000, 0x8111b26b00000000,\n+    0xca6d204b00000000, 0x89a686cc00000000, 0x0dfd1c9f00000000,\n+    0x4e36ba1800000000},\n+   {0x0000000000000000, 0xe1b652ef00000000, 0x836bd40500000000,\n+    0x62dd86ea00000000, 0x06d7a80b00000000, 0xe761fae400000000,\n+    0x85bc7c0e00000000, 0x640a2ee100000000, 0x0cae511700000000,\n+    0xed1803f800000000, 0x8fc5851200000000, 0x6e73d7fd00000000,\n+    0x0a79f91c00000000, 0xebcfabf300000000, 0x89122d1900000000,\n+    0x68a47ff600000000, 0x185ca32e00000000, 0xf9eaf1c100000000,\n+    0x9b37772b00000000, 0x7a8125c400000000, 0x1e8b0b2500000000,\n+    0xff3d59ca00000000, 0x9de0df2000000000, 0x7c568dcf00000000,\n+    0x14f2f23900000000, 0xf544a0d600000000, 0x9799263c00000000,\n+    0x762f74d300000000, 0x12255a3200000000, 0xf39308dd00000000,\n+    0x914e8e3700000000, 0x70f8dcd800000000, 0x30b8465d00000000,\n+    0xd10e14b200000000, 0xb3d3925800000000, 0x5265c0b700000000,\n+    0x366fee5600000000, 0xd7d9bcb900000000, 0xb5043a5300000000,\n+    0x54b268bc00000000, 0x3c16174a00000000, 0xdda045a500000000,\n+    0xbf7dc34f00000000, 0x5ecb91a000000000, 0x3ac1bf4100000000,\n+    0xdb77edae00000000, 0xb9aa6b4400000000, 0x581c39ab00000000,\n+    0x28e4e57300000000, 0xc952b79c00000000, 0xab8f317600000000,\n+    0x4a39639900000000, 0x2e334d7800000000, 0xcf851f9700000000,\n+    0xad58997d00000000, 0x4ceecb9200000000, 0x244ab46400000000,\n+    0xc5fce68b00000000, 0xa721606100000000, 0x4697328e00000000,\n+    0x229d1c6f00000000, 0xc32b4e8000000000, 0xa1f6c86a00000000,\n+    0x40409a8500000000, 0x60708dba00000000, 0x81c6df5500000000,\n+    0xe31b59bf00000000, 0x02ad0b5000000000, 0x66a725b100000000,\n+    0x8711775e00000000, 0xe5ccf1b400000000, 0x047aa35b00000000,\n+    0x6cdedcad00000000, 0x8d688e4200000000, 0xefb508a800000000,\n+    0x0e035a4700000000, 0x6a0974a600000000, 0x8bbf264900000000,\n+    0xe962a0a300000000, 0x08d4f24c00000000, 0x782c2e9400000000,\n+    0x999a7c7b00000000, 0xfb47fa9100000000, 0x1af1a87e00000000,\n+    0x7efb869f00000000, 0x9f4dd47000000000, 0xfd90529a00000000,\n+    0x1c26007500000000, 0x74827f8300000000, 0x95342d6c00000000,\n+    0xf7e9ab8600000000, 0x165ff96900000000, 0x7255d78800000000,\n+    0x93e3856700000000, 0xf13e038d00000000, 0x1088516200000000,\n+    0x50c8cbe700000000, 0xb17e990800000000, 0xd3a31fe200000000,\n+    0x32154d0d00000000, 0x561f63ec00000000, 0xb7a9310300000000,\n+    0xd574b7e900000000, 0x34c2e50600000000, 0x5c669af000000000,\n+    0xbdd0c81f00000000, 0xdf0d4ef500000000, 0x3ebb1c1a00000000,\n+    0x5ab132fb00000000, 0xbb07601400000000, 0xd9dae6fe00000000,\n+    0x386cb41100000000, 0x489468c900000000, 0xa9223a2600000000,\n+    0xcbffbccc00000000, 0x2a49ee2300000000, 0x4e43c0c200000000,\n+    0xaff5922d00000000, 0xcd2814c700000000, 0x2c9e462800000000,\n+    0x443a39de00000000, 0xa58c6b3100000000, 0xc751eddb00000000,\n+    0x26e7bf3400000000, 0x42ed91d500000000, 0xa35bc33a00000000,\n+    0xc18645d000000000, 0x2030173f00000000, 0x81e66bae00000000,\n+    0x6050394100000000, 0x028dbfab00000000, 0xe33bed4400000000,\n+    0x8731c3a500000000, 0x6687914a00000000, 0x045a17a000000000,\n+    0xe5ec454f00000000, 0x8d483ab900000000, 0x6cfe685600000000,\n+    0x0e23eebc00000000, 0xef95bc5300000000, 0x8b9f92b200000000,\n+    0x6a29c05d00000000, 0x08f446b700000000, 0xe942145800000000,\n+    0x99bac88000000000, 0x780c9a6f00000000, 0x1ad11c8500000000,\n+    0xfb674e6a00000000, 0x9f6d608b00000000, 0x7edb326400000000,\n+    0x1c06b48e00000000, 0xfdb0e66100000000, 0x9514999700000000,\n+    0x74a2cb7800000000, 0x167f4d9200000000, 0xf7c91f7d00000000,\n+    0x93c3319c00000000, 0x7275637300000000, 0x10a8e59900000000,\n+    0xf11eb77600000000, 0xb15e2df300000000, 0x50e87f1c00000000,\n+    0x3235f9f600000000, 0xd383ab1900000000, 0xb78985f800000000,\n+    0x563fd71700000000, 0x34e251fd00000000, 0xd554031200000000,\n+    0xbdf07ce400000000, 0x5c462e0b00000000, 0x3e9ba8e100000000,\n+    0xdf2dfa0e00000000, 0xbb27d4ef00000000, 0x5a91860000000000,\n+    0x384c00ea00000000, 0xd9fa520500000000, 0xa9028edd00000000,\n+    0x48b4dc3200000000, 0x2a695ad800000000, 0xcbdf083700000000,\n+    0xafd526d600000000, 0x4e63743900000000, 0x2cbef2d300000000,\n+    0xcd08a03c00000000, 0xa5acdfca00000000, 0x441a8d2500000000,\n+    0x26c70bcf00000000, 0xc771592000000000, 0xa37b77c100000000,\n+    0x42cd252e00000000, 0x2010a3c400000000, 0xc1a6f12b00000000,\n+    0xe196e61400000000, 0x0020b4fb00000000, 0x62fd321100000000,\n+    0x834b60fe00000000, 0xe7414e1f00000000, 0x06f71cf000000000,\n+    0x642a9a1a00000000, 0x859cc8f500000000, 0xed38b70300000000,\n+    0x0c8ee5ec00000000, 0x6e53630600000000, 0x8fe531e900000000,\n+    0xebef1f0800000000, 0x0a594de700000000, 0x6884cb0d00000000,\n+    0x893299e200000000, 0xf9ca453a00000000, 0x187c17d500000000,\n+    0x7aa1913f00000000, 0x9b17c3d000000000, 0xff1ded3100000000,\n+    0x1eabbfde00000000, 0x7c76393400000000, 0x9dc06bdb00000000,\n+    0xf564142d00000000, 0x14d246c200000000, 0x760fc02800000000,\n+    0x97b992c700000000, 0xf3b3bc2600000000, 0x1205eec900000000,\n+    0x70d8682300000000, 0x916e3acc00000000, 0xd12ea04900000000,\n+    0x3098f2a600000000, 0x5245744c00000000, 0xb3f326a300000000,\n+    0xd7f9084200000000, 0x364f5aad00000000, 0x5492dc4700000000,\n+    0xb5248ea800000000, 0xdd80f15e00000000, 0x3c36a3b100000000,\n+    0x5eeb255b00000000, 0xbf5d77b400000000, 0xdb57595500000000,\n+    0x3ae10bba00000000, 0x583c8d5000000000, 0xb98adfbf00000000,\n+    0xc972036700000000, 0x28c4518800000000, 0x4a19d76200000000,\n+    0xabaf858d00000000, 0xcfa5ab6c00000000, 0x2e13f98300000000,\n+    0x4cce7f6900000000, 0xad782d8600000000, 0xc5dc527000000000,\n+    0x246a009f00000000, 0x46b7867500000000, 0xa701d49a00000000,\n+    0xc30bfa7b00000000, 0x22bda89400000000, 0x40602e7e00000000,\n+    0xa1d67c9100000000},\n+   {0x0000000000000000, 0x5880e2d700000000, 0xf106b47400000000,\n+    0xa98656a300000000, 0xe20d68e900000000, 0xba8d8a3e00000000,\n+    0x130bdc9d00000000, 0x4b8b3e4a00000000, 0x851da10900000000,\n+    0xdd9d43de00000000, 0x741b157d00000000, 0x2c9bf7aa00000000,\n+    0x6710c9e000000000, 0x3f902b3700000000, 0x96167d9400000000,\n+    0xce969f4300000000, 0x0a3b421300000000, 0x52bba0c400000000,\n+    0xfb3df66700000000, 0xa3bd14b000000000, 0xe8362afa00000000,\n+    0xb0b6c82d00000000, 0x19309e8e00000000, 0x41b07c5900000000,\n+    0x8f26e31a00000000, 0xd7a601cd00000000, 0x7e20576e00000000,\n+    0x26a0b5b900000000, 0x6d2b8bf300000000, 0x35ab692400000000,\n+    0x9c2d3f8700000000, 0xc4addd5000000000, 0x1476842600000000,\n+    0x4cf666f100000000, 0xe570305200000000, 0xbdf0d28500000000,\n+    0xf67beccf00000000, 0xaefb0e1800000000, 0x077d58bb00000000,\n+    0x5ffdba6c00000000, 0x916b252f00000000, 0xc9ebc7f800000000,\n+    0x606d915b00000000, 0x38ed738c00000000, 0x73664dc600000000,\n+    0x2be6af1100000000, 0x8260f9b200000000, 0xdae01b6500000000,\n+    0x1e4dc63500000000, 0x46cd24e200000000, 0xef4b724100000000,\n+    0xb7cb909600000000, 0xfc40aedc00000000, 0xa4c04c0b00000000,\n+    0x0d461aa800000000, 0x55c6f87f00000000, 0x9b50673c00000000,\n+    0xc3d085eb00000000, 0x6a56d34800000000, 0x32d6319f00000000,\n+    0x795d0fd500000000, 0x21dded0200000000, 0x885bbba100000000,\n+    0xd0db597600000000, 0x28ec084d00000000, 0x706cea9a00000000,\n+    0xd9eabc3900000000, 0x816a5eee00000000, 0xcae160a400000000,\n+    0x9261827300000000, 0x3be7d4d000000000, 0x6367360700000000,\n+    0xadf1a94400000000, 0xf5714b9300000000, 0x5cf71d3000000000,\n+    0x0477ffe700000000, 0x4ffcc1ad00000000, 0x177c237a00000000,\n+    0xbefa75d900000000, 0xe67a970e00000000, 0x22d74a5e00000000,\n+    0x7a57a88900000000, 0xd3d1fe2a00000000, 0x8b511cfd00000000,\n+    0xc0da22b700000000, 0x985ac06000000000, 0x31dc96c300000000,\n+    0x695c741400000000, 0xa7caeb5700000000, 0xff4a098000000000,\n+    0x56cc5f2300000000, 0x0e4cbdf400000000, 0x45c783be00000000,\n+    0x1d47616900000000, 0xb4c137ca00000000, 0xec41d51d00000000,\n+    0x3c9a8c6b00000000, 0x641a6ebc00000000, 0xcd9c381f00000000,\n+    0x951cdac800000000, 0xde97e48200000000, 0x8617065500000000,\n+    0x2f9150f600000000, 0x7711b22100000000, 0xb9872d6200000000,\n+    0xe107cfb500000000, 0x4881991600000000, 0x10017bc100000000,\n+    0x5b8a458b00000000, 0x030aa75c00000000, 0xaa8cf1ff00000000,\n+    0xf20c132800000000, 0x36a1ce7800000000, 0x6e212caf00000000,\n+    0xc7a77a0c00000000, 0x9f2798db00000000, 0xd4aca69100000000,\n+    0x8c2c444600000000, 0x25aa12e500000000, 0x7d2af03200000000,\n+    0xb3bc6f7100000000, 0xeb3c8da600000000, 0x42badb0500000000,\n+    0x1a3a39d200000000, 0x51b1079800000000, 0x0931e54f00000000,\n+    0xa0b7b3ec00000000, 0xf837513b00000000, 0x50d8119a00000000,\n+    0x0858f34d00000000, 0xa1dea5ee00000000, 0xf95e473900000000,\n+    0xb2d5797300000000, 0xea559ba400000000, 0x43d3cd0700000000,\n+    0x1b532fd000000000, 0xd5c5b09300000000, 0x8d45524400000000,\n+    0x24c304e700000000, 0x7c43e63000000000, 0x37c8d87a00000000,\n+    0x6f483aad00000000, 0xc6ce6c0e00000000, 0x9e4e8ed900000000,\n+    0x5ae3538900000000, 0x0263b15e00000000, 0xabe5e7fd00000000,\n+    0xf365052a00000000, 0xb8ee3b6000000000, 0xe06ed9b700000000,\n+    0x49e88f1400000000, 0x11686dc300000000, 0xdffef28000000000,\n+    0x877e105700000000, 0x2ef846f400000000, 0x7678a42300000000,\n+    0x3df39a6900000000, 0x657378be00000000, 0xccf52e1d00000000,\n+    0x9475ccca00000000, 0x44ae95bc00000000, 0x1c2e776b00000000,\n+    0xb5a821c800000000, 0xed28c31f00000000, 0xa6a3fd5500000000,\n+    0xfe231f8200000000, 0x57a5492100000000, 0x0f25abf600000000,\n+    0xc1b334b500000000, 0x9933d66200000000, 0x30b580c100000000,\n+    0x6835621600000000, 0x23be5c5c00000000, 0x7b3ebe8b00000000,\n+    0xd2b8e82800000000, 0x8a380aff00000000, 0x4e95d7af00000000,\n+    0x1615357800000000, 0xbf9363db00000000, 0xe713810c00000000,\n+    0xac98bf4600000000, 0xf4185d9100000000, 0x5d9e0b3200000000,\n+    0x051ee9e500000000, 0xcb8876a600000000, 0x9308947100000000,\n+    0x3a8ec2d200000000, 0x620e200500000000, 0x29851e4f00000000,\n+    0x7105fc9800000000, 0xd883aa3b00000000, 0x800348ec00000000,\n+    0x783419d700000000, 0x20b4fb0000000000, 0x8932ada300000000,\n+    0xd1b24f7400000000, 0x9a39713e00000000, 0xc2b993e900000000,\n+    0x6b3fc54a00000000, 0x33bf279d00000000, 0xfd29b8de00000000,\n+    0xa5a95a0900000000, 0x0c2f0caa00000000, 0x54afee7d00000000,\n+    0x1f24d03700000000, 0x47a432e000000000, 0xee22644300000000,\n+    0xb6a2869400000000, 0x720f5bc400000000, 0x2a8fb91300000000,\n+    0x8309efb000000000, 0xdb890d6700000000, 0x9002332d00000000,\n+    0xc882d1fa00000000, 0x6104875900000000, 0x3984658e00000000,\n+    0xf712facd00000000, 0xaf92181a00000000, 0x06144eb900000000,\n+    0x5e94ac6e00000000, 0x151f922400000000, 0x4d9f70f300000000,\n+    0xe419265000000000, 0xbc99c48700000000, 0x6c429df100000000,\n+    0x34c27f2600000000, 0x9d44298500000000, 0xc5c4cb5200000000,\n+    0x8e4ff51800000000, 0xd6cf17cf00000000, 0x7f49416c00000000,\n+    0x27c9a3bb00000000, 0xe95f3cf800000000, 0xb1dfde2f00000000,\n+    0x1859888c00000000, 0x40d96a5b00000000, 0x0b52541100000000,\n+    0x53d2b6c600000000, 0xfa54e06500000000, 0xa2d402b200000000,\n+    0x6679dfe200000000, 0x3ef93d3500000000, 0x977f6b9600000000,\n+    0xcfff894100000000, 0x8474b70b00000000, 0xdcf455dc00000000,\n+    0x7572037f00000000, 0x2df2e1a800000000, 0xe3647eeb00000000,\n+    0xbbe49c3c00000000, 0x1262ca9f00000000, 0x4ae2284800000000,\n+    0x0169160200000000, 0x59e9f4d500000000, 0xf06fa27600000000,\n+    0xa8ef40a100000000},\n+   {0x0000000000000000, 0x463b676500000000, 0x8c76ceca00000000,\n+    0xca4da9af00000000, 0x59ebed4e00000000, 0x1fd08a2b00000000,\n+    0xd59d238400000000, 0x93a644e100000000, 0xb2d6db9d00000000,\n+    0xf4edbcf800000000, 0x3ea0155700000000, 0x789b723200000000,\n+    0xeb3d36d300000000, 0xad0651b600000000, 0x674bf81900000000,\n+    0x21709f7c00000000, 0x25abc6e000000000, 0x6390a18500000000,\n+    0xa9dd082a00000000, 0xefe66f4f00000000, 0x7c402bae00000000,\n+    0x3a7b4ccb00000000, 0xf036e56400000000, 0xb60d820100000000,\n+    0x977d1d7d00000000, 0xd1467a1800000000, 0x1b0bd3b700000000,\n+    0x5d30b4d200000000, 0xce96f03300000000, 0x88ad975600000000,\n+    0x42e03ef900000000, 0x04db599c00000000, 0x0b50fc1a00000000,\n+    0x4d6b9b7f00000000, 0x872632d000000000, 0xc11d55b500000000,\n+    0x52bb115400000000, 0x1480763100000000, 0xdecddf9e00000000,\n+    0x98f6b8fb00000000, 0xb986278700000000, 0xffbd40e200000000,\n+    0x35f0e94d00000000, 0x73cb8e2800000000, 0xe06dcac900000000,\n+    0xa656adac00000000, 0x6c1b040300000000, 0x2a20636600000000,\n+    0x2efb3afa00000000, 0x68c05d9f00000000, 0xa28df43000000000,\n+    0xe4b6935500000000, 0x7710d7b400000000, 0x312bb0d100000000,\n+    0xfb66197e00000000, 0xbd5d7e1b00000000, 0x9c2de16700000000,\n+    0xda16860200000000, 0x105b2fad00000000, 0x566048c800000000,\n+    0xc5c60c2900000000, 0x83fd6b4c00000000, 0x49b0c2e300000000,\n+    0x0f8ba58600000000, 0x16a0f83500000000, 0x509b9f5000000000,\n+    0x9ad636ff00000000, 0xdced519a00000000, 0x4f4b157b00000000,\n+    0x0970721e00000000, 0xc33ddbb100000000, 0x8506bcd400000000,\n+    0xa47623a800000000, 0xe24d44cd00000000, 0x2800ed6200000000,\n+    0x6e3b8a0700000000, 0xfd9dcee600000000, 0xbba6a98300000000,\n+    0x71eb002c00000000, 0x37d0674900000000, 0x330b3ed500000000,\n+    0x753059b000000000, 0xbf7df01f00000000, 0xf946977a00000000,\n+    0x6ae0d39b00000000, 0x2cdbb4fe00000000, 0xe6961d5100000000,\n+    0xa0ad7a3400000000, 0x81dde54800000000, 0xc7e6822d00000000,\n+    0x0dab2b8200000000, 0x4b904ce700000000, 0xd836080600000000,\n+    0x9e0d6f6300000000, 0x5440c6cc00000000, 0x127ba1a900000000,\n+    0x1df0042f00000000, 0x5bcb634a00000000, 0x9186cae500000000,\n+    0xd7bdad8000000000, 0x441be96100000000, 0x02208e0400000000,\n+    0xc86d27ab00000000, 0x8e5640ce00000000, 0xaf26dfb200000000,\n+    0xe91db8d700000000, 0x2350117800000000, 0x656b761d00000000,\n+    0xf6cd32fc00000000, 0xb0f6559900000000, 0x7abbfc3600000000,\n+    0x3c809b5300000000, 0x385bc2cf00000000, 0x7e60a5aa00000000,\n+    0xb42d0c0500000000, 0xf2166b6000000000, 0x61b02f8100000000,\n+    0x278b48e400000000, 0xedc6e14b00000000, 0xabfd862e00000000,\n+    0x8a8d195200000000, 0xccb67e3700000000, 0x06fbd79800000000,\n+    0x40c0b0fd00000000, 0xd366f41c00000000, 0x955d937900000000,\n+    0x5f103ad600000000, 0x192b5db300000000, 0x2c40f16b00000000,\n+    0x6a7b960e00000000, 0xa0363fa100000000, 0xe60d58c400000000,\n+    0x75ab1c2500000000, 0x33907b4000000000, 0xf9ddd2ef00000000,\n+    0xbfe6b58a00000000, 0x9e962af600000000, 0xd8ad4d9300000000,\n+    0x12e0e43c00000000, 0x54db835900000000, 0xc77dc7b800000000,\n+    0x8146a0dd00000000, 0x4b0b097200000000, 0x0d306e1700000000,\n+    0x09eb378b00000000, 0x4fd050ee00000000, 0x859df94100000000,\n+    0xc3a69e2400000000, 0x5000dac500000000, 0x163bbda000000000,\n+    0xdc76140f00000000, 0x9a4d736a00000000, 0xbb3dec1600000000,\n+    0xfd068b7300000000, 0x374b22dc00000000, 0x717045b900000000,\n+    0xe2d6015800000000, 0xa4ed663d00000000, 0x6ea0cf9200000000,\n+    0x289ba8f700000000, 0x27100d7100000000, 0x612b6a1400000000,\n+    0xab66c3bb00000000, 0xed5da4de00000000, 0x7efbe03f00000000,\n+    0x38c0875a00000000, 0xf28d2ef500000000, 0xb4b6499000000000,\n+    0x95c6d6ec00000000, 0xd3fdb18900000000, 0x19b0182600000000,\n+    0x5f8b7f4300000000, 0xcc2d3ba200000000, 0x8a165cc700000000,\n+    0x405bf56800000000, 0x0660920d00000000, 0x02bbcb9100000000,\n+    0x4480acf400000000, 0x8ecd055b00000000, 0xc8f6623e00000000,\n+    0x5b5026df00000000, 0x1d6b41ba00000000, 0xd726e81500000000,\n+    0x911d8f7000000000, 0xb06d100c00000000, 0xf656776900000000,\n+    0x3c1bdec600000000, 0x7a20b9a300000000, 0xe986fd4200000000,\n+    0xafbd9a2700000000, 0x65f0338800000000, 0x23cb54ed00000000,\n+    0x3ae0095e00000000, 0x7cdb6e3b00000000, 0xb696c79400000000,\n+    0xf0ada0f100000000, 0x630be41000000000, 0x2530837500000000,\n+    0xef7d2ada00000000, 0xa9464dbf00000000, 0x8836d2c300000000,\n+    0xce0db5a600000000, 0x04401c0900000000, 0x427b7b6c00000000,\n+    0xd1dd3f8d00000000, 0x97e658e800000000, 0x5dabf14700000000,\n+    0x1b90962200000000, 0x1f4bcfbe00000000, 0x5970a8db00000000,\n+    0x933d017400000000, 0xd506661100000000, 0x46a022f000000000,\n+    0x009b459500000000, 0xcad6ec3a00000000, 0x8ced8b5f00000000,\n+    0xad9d142300000000, 0xeba6734600000000, 0x21ebdae900000000,\n+    0x67d0bd8c00000000, 0xf476f96d00000000, 0xb24d9e0800000000,\n+    0x780037a700000000, 0x3e3b50c200000000, 0x31b0f54400000000,\n+    0x778b922100000000, 0xbdc63b8e00000000, 0xfbfd5ceb00000000,\n+    0x685b180a00000000, 0x2e607f6f00000000, 0xe42dd6c000000000,\n+    0xa216b1a500000000, 0x83662ed900000000, 0xc55d49bc00000000,\n+    0x0f10e01300000000, 0x492b877600000000, 0xda8dc39700000000,\n+    0x9cb6a4f200000000, 0x56fb0d5d00000000, 0x10c06a3800000000,\n+    0x141b33a400000000, 0x522054c100000000, 0x986dfd6e00000000,\n+    0xde569a0b00000000, 0x4df0deea00000000, 0x0bcbb98f00000000,\n+    0xc186102000000000, 0x87bd774500000000, 0xa6cde83900000000,\n+    0xe0f68f5c00000000, 0x2abb26f300000000, 0x6c80419600000000,\n+    0xff26057700000000, 0xb91d621200000000, 0x7350cbbd00000000,\n+    0x356bacd800000000},\n+   {0x0000000000000000, 0x9e83da9f00000000, 0x7d01c4e400000000,\n+    0xe3821e7b00000000, 0xbb04f91200000000, 0x2587238d00000000,\n+    0xc6053df600000000, 0x5886e76900000000, 0x7609f22500000000,\n+    0xe88a28ba00000000, 0x0b0836c100000000, 0x958bec5e00000000,\n+    0xcd0d0b3700000000, 0x538ed1a800000000, 0xb00ccfd300000000,\n+    0x2e8f154c00000000, 0xec12e44b00000000, 0x72913ed400000000,\n+    0x911320af00000000, 0x0f90fa3000000000, 0x57161d5900000000,\n+    0xc995c7c600000000, 0x2a17d9bd00000000, 0xb494032200000000,\n+    0x9a1b166e00000000, 0x0498ccf100000000, 0xe71ad28a00000000,\n+    0x7999081500000000, 0x211fef7c00000000, 0xbf9c35e300000000,\n+    0x5c1e2b9800000000, 0xc29df10700000000, 0xd825c89700000000,\n+    0x46a6120800000000, 0xa5240c7300000000, 0x3ba7d6ec00000000,\n+    0x6321318500000000, 0xfda2eb1a00000000, 0x1e20f56100000000,\n+    0x80a32ffe00000000, 0xae2c3ab200000000, 0x30afe02d00000000,\n+    0xd32dfe5600000000, 0x4dae24c900000000, 0x1528c3a000000000,\n+    0x8bab193f00000000, 0x6829074400000000, 0xf6aadddb00000000,\n+    0x34372cdc00000000, 0xaab4f64300000000, 0x4936e83800000000,\n+    0xd7b532a700000000, 0x8f33d5ce00000000, 0x11b00f5100000000,\n+    0xf232112a00000000, 0x6cb1cbb500000000, 0x423edef900000000,\n+    0xdcbd046600000000, 0x3f3f1a1d00000000, 0xa1bcc08200000000,\n+    0xf93a27eb00000000, 0x67b9fd7400000000, 0x843be30f00000000,\n+    0x1ab8399000000000, 0xf14de1f400000000, 0x6fce3b6b00000000,\n+    0x8c4c251000000000, 0x12cfff8f00000000, 0x4a4918e600000000,\n+    0xd4cac27900000000, 0x3748dc0200000000, 0xa9cb069d00000000,\n+    0x874413d100000000, 0x19c7c94e00000000, 0xfa45d73500000000,\n+    0x64c60daa00000000, 0x3c40eac300000000, 0xa2c3305c00000000,\n+    0x41412e2700000000, 0xdfc2f4b800000000, 0x1d5f05bf00000000,\n+    0x83dcdf2000000000, 0x605ec15b00000000, 0xfedd1bc400000000,\n+    0xa65bfcad00000000, 0x38d8263200000000, 0xdb5a384900000000,\n+    0x45d9e2d600000000, 0x6b56f79a00000000, 0xf5d52d0500000000,\n+    0x1657337e00000000, 0x88d4e9e100000000, 0xd0520e8800000000,\n+    0x4ed1d41700000000, 0xad53ca6c00000000, 0x33d010f300000000,\n+    0x2968296300000000, 0xb7ebf3fc00000000, 0x5469ed8700000000,\n+    0xcaea371800000000, 0x926cd07100000000, 0x0cef0aee00000000,\n+    0xef6d149500000000, 0x71eece0a00000000, 0x5f61db4600000000,\n+    0xc1e201d900000000, 0x22601fa200000000, 0xbce3c53d00000000,\n+    0xe465225400000000, 0x7ae6f8cb00000000, 0x9964e6b000000000,\n+    0x07e73c2f00000000, 0xc57acd2800000000, 0x5bf917b700000000,\n+    0xb87b09cc00000000, 0x26f8d35300000000, 0x7e7e343a00000000,\n+    0xe0fdeea500000000, 0x037ff0de00000000, 0x9dfc2a4100000000,\n+    0xb3733f0d00000000, 0x2df0e59200000000, 0xce72fbe900000000,\n+    0x50f1217600000000, 0x0877c61f00000000, 0x96f41c8000000000,\n+    0x757602fb00000000, 0xebf5d86400000000, 0xa39db33200000000,\n+    0x3d1e69ad00000000, 0xde9c77d600000000, 0x401fad4900000000,\n+    0x18994a2000000000, 0x861a90bf00000000, 0x65988ec400000000,\n+    0xfb1b545b00000000, 0xd594411700000000, 0x4b179b8800000000,\n+    0xa89585f300000000, 0x36165f6c00000000, 0x6e90b80500000000,\n+    0xf013629a00000000, 0x13917ce100000000, 0x8d12a67e00000000,\n+    0x4f8f577900000000, 0xd10c8de600000000, 0x328e939d00000000,\n+    0xac0d490200000000, 0xf48bae6b00000000, 0x6a0874f400000000,\n+    0x898a6a8f00000000, 0x1709b01000000000, 0x3986a55c00000000,\n+    0xa7057fc300000000, 0x448761b800000000, 0xda04bb2700000000,\n+    0x82825c4e00000000, 0x1c0186d100000000, 0xff8398aa00000000,\n+    0x6100423500000000, 0x7bb87ba500000000, 0xe53ba13a00000000,\n+    0x06b9bf4100000000, 0x983a65de00000000, 0xc0bc82b700000000,\n+    0x5e3f582800000000, 0xbdbd465300000000, 0x233e9ccc00000000,\n+    0x0db1898000000000, 0x9332531f00000000, 0x70b04d6400000000,\n+    0xee3397fb00000000, 0xb6b5709200000000, 0x2836aa0d00000000,\n+    0xcbb4b47600000000, 0x55376ee900000000, 0x97aa9fee00000000,\n+    0x0929457100000000, 0xeaab5b0a00000000, 0x7428819500000000,\n+    0x2cae66fc00000000, 0xb22dbc6300000000, 0x51afa21800000000,\n+    0xcf2c788700000000, 0xe1a36dcb00000000, 0x7f20b75400000000,\n+    0x9ca2a92f00000000, 0x022173b000000000, 0x5aa794d900000000,\n+    0xc4244e4600000000, 0x27a6503d00000000, 0xb9258aa200000000,\n+    0x52d052c600000000, 0xcc53885900000000, 0x2fd1962200000000,\n+    0xb1524cbd00000000, 0xe9d4abd400000000, 0x7757714b00000000,\n+    0x94d56f3000000000, 0x0a56b5af00000000, 0x24d9a0e300000000,\n+    0xba5a7a7c00000000, 0x59d8640700000000, 0xc75bbe9800000000,\n+    0x9fdd59f100000000, 0x015e836e00000000, 0xe2dc9d1500000000,\n+    0x7c5f478a00000000, 0xbec2b68d00000000, 0x20416c1200000000,\n+    0xc3c3726900000000, 0x5d40a8f600000000, 0x05c64f9f00000000,\n+    0x9b45950000000000, 0x78c78b7b00000000, 0xe64451e400000000,\n+    0xc8cb44a800000000, 0x56489e3700000000, 0xb5ca804c00000000,\n+    0x2b495ad300000000, 0x73cfbdba00000000, 0xed4c672500000000,\n+    0x0ece795e00000000, 0x904da3c100000000, 0x8af59a5100000000,\n+    0x147640ce00000000, 0xf7f45eb500000000, 0x6977842a00000000,\n+    0x31f1634300000000, 0xaf72b9dc00000000, 0x4cf0a7a700000000,\n+    0xd2737d3800000000, 0xfcfc687400000000, 0x627fb2eb00000000,\n+    0x81fdac9000000000, 0x1f7e760f00000000, 0x47f8916600000000,\n+    0xd97b4bf900000000, 0x3af9558200000000, 0xa47a8f1d00000000,\n+    0x66e77e1a00000000, 0xf864a48500000000, 0x1be6bafe00000000,\n+    0x8565606100000000, 0xdde3870800000000, 0x43605d9700000000,\n+    0xa0e243ec00000000, 0x3e61997300000000, 0x10ee8c3f00000000,\n+    0x8e6d56a000000000, 0x6def48db00000000, 0xf36c924400000000,\n+    0xabea752d00000000, 0x3569afb200000000, 0xd6ebb1c900000000,\n+    0x48686b5600000000},\n+   {0x0000000000000000, 0xc064281700000000, 0x80c9502e00000000,\n+    0x40ad783900000000, 0x0093a15c00000000, 0xc0f7894b00000000,\n+    0x805af17200000000, 0x403ed96500000000, 0x002643b900000000,\n+    0xc0426bae00000000, 0x80ef139700000000, 0x408b3b8000000000,\n+    0x00b5e2e500000000, 0xc0d1caf200000000, 0x807cb2cb00000000,\n+    0x40189adc00000000, 0x414af7a900000000, 0x812edfbe00000000,\n+    0xc183a78700000000, 0x01e78f9000000000, 0x41d956f500000000,\n+    0x81bd7ee200000000, 0xc11006db00000000, 0x01742ecc00000000,\n+    0x416cb41000000000, 0x81089c0700000000, 0xc1a5e43e00000000,\n+    0x01c1cc2900000000, 0x41ff154c00000000, 0x819b3d5b00000000,\n+    0xc136456200000000, 0x01526d7500000000, 0xc3929f8800000000,\n+    0x03f6b79f00000000, 0x435bcfa600000000, 0x833fe7b100000000,\n+    0xc3013ed400000000, 0x036516c300000000, 0x43c86efa00000000,\n+    0x83ac46ed00000000, 0xc3b4dc3100000000, 0x03d0f42600000000,\n+    0x437d8c1f00000000, 0x8319a40800000000, 0xc3277d6d00000000,\n+    0x0343557a00000000, 0x43ee2d4300000000, 0x838a055400000000,\n+    0x82d8682100000000, 0x42bc403600000000, 0x0211380f00000000,\n+    0xc275101800000000, 0x824bc97d00000000, 0x422fe16a00000000,\n+    0x0282995300000000, 0xc2e6b14400000000, 0x82fe2b9800000000,\n+    0x429a038f00000000, 0x02377bb600000000, 0xc25353a100000000,\n+    0x826d8ac400000000, 0x4209a2d300000000, 0x02a4daea00000000,\n+    0xc2c0f2fd00000000, 0xc7234eca00000000, 0x074766dd00000000,\n+    0x47ea1ee400000000, 0x878e36f300000000, 0xc7b0ef9600000000,\n+    0x07d4c78100000000, 0x4779bfb800000000, 0x871d97af00000000,\n+    0xc7050d7300000000, 0x0761256400000000, 0x47cc5d5d00000000,\n+    0x87a8754a00000000, 0xc796ac2f00000000, 0x07f2843800000000,\n+    0x475ffc0100000000, 0x873bd41600000000, 0x8669b96300000000,\n+    0x460d917400000000, 0x06a0e94d00000000, 0xc6c4c15a00000000,\n+    0x86fa183f00000000, 0x469e302800000000, 0x0633481100000000,\n+    0xc657600600000000, 0x864ffada00000000, 0x462bd2cd00000000,\n+    0x0686aaf400000000, 0xc6e282e300000000, 0x86dc5b8600000000,\n+    0x46b8739100000000, 0x06150ba800000000, 0xc67123bf00000000,\n+    0x04b1d14200000000, 0xc4d5f95500000000, 0x8478816c00000000,\n+    0x441ca97b00000000, 0x0422701e00000000, 0xc446580900000000,\n+    0x84eb203000000000, 0x448f082700000000, 0x049792fb00000000,\n+    0xc4f3baec00000000, 0x845ec2d500000000, 0x443aeac200000000,\n+    0x040433a700000000, 0xc4601bb000000000, 0x84cd638900000000,\n+    0x44a94b9e00000000, 0x45fb26eb00000000, 0x859f0efc00000000,\n+    0xc53276c500000000, 0x05565ed200000000, 0x456887b700000000,\n+    0x850cafa000000000, 0xc5a1d79900000000, 0x05c5ff8e00000000,\n+    0x45dd655200000000, 0x85b94d4500000000, 0xc514357c00000000,\n+    0x05701d6b00000000, 0x454ec40e00000000, 0x852aec1900000000,\n+    0xc587942000000000, 0x05e3bc3700000000, 0xcf41ed4f00000000,\n+    0x0f25c55800000000, 0x4f88bd6100000000, 0x8fec957600000000,\n+    0xcfd24c1300000000, 0x0fb6640400000000, 0x4f1b1c3d00000000,\n+    0x8f7f342a00000000, 0xcf67aef600000000, 0x0f0386e100000000,\n+    0x4faefed800000000, 0x8fcad6cf00000000, 0xcff40faa00000000,\n+    0x0f9027bd00000000, 0x4f3d5f8400000000, 0x8f59779300000000,\n+    0x8e0b1ae600000000, 0x4e6f32f100000000, 0x0ec24ac800000000,\n+    0xcea662df00000000, 0x8e98bbba00000000, 0x4efc93ad00000000,\n+    0x0e51eb9400000000, 0xce35c38300000000, 0x8e2d595f00000000,\n+    0x4e49714800000000, 0x0ee4097100000000, 0xce80216600000000,\n+    0x8ebef80300000000, 0x4edad01400000000, 0x0e77a82d00000000,\n+    0xce13803a00000000, 0x0cd372c700000000, 0xccb75ad000000000,\n+    0x8c1a22e900000000, 0x4c7e0afe00000000, 0x0c40d39b00000000,\n+    0xcc24fb8c00000000, 0x8c8983b500000000, 0x4cedaba200000000,\n+    0x0cf5317e00000000, 0xcc91196900000000, 0x8c3c615000000000,\n+    0x4c58494700000000, 0x0c66902200000000, 0xcc02b83500000000,\n+    0x8cafc00c00000000, 0x4ccbe81b00000000, 0x4d99856e00000000,\n+    0x8dfdad7900000000, 0xcd50d54000000000, 0x0d34fd5700000000,\n+    0x4d0a243200000000, 0x8d6e0c2500000000, 0xcdc3741c00000000,\n+    0x0da75c0b00000000, 0x4dbfc6d700000000, 0x8ddbeec000000000,\n+    0xcd7696f900000000, 0x0d12beee00000000, 0x4d2c678b00000000,\n+    0x8d484f9c00000000, 0xcde537a500000000, 0x0d811fb200000000,\n+    0x0862a38500000000, 0xc8068b9200000000, 0x88abf3ab00000000,\n+    0x48cfdbbc00000000, 0x08f102d900000000, 0xc8952ace00000000,\n+    0x883852f700000000, 0x485c7ae000000000, 0x0844e03c00000000,\n+    0xc820c82b00000000, 0x888db01200000000, 0x48e9980500000000,\n+    0x08d7416000000000, 0xc8b3697700000000, 0x881e114e00000000,\n+    0x487a395900000000, 0x4928542c00000000, 0x894c7c3b00000000,\n+    0xc9e1040200000000, 0x09852c1500000000, 0x49bbf57000000000,\n+    0x89dfdd6700000000, 0xc972a55e00000000, 0x09168d4900000000,\n+    0x490e179500000000, 0x896a3f8200000000, 0xc9c747bb00000000,\n+    0x09a36fac00000000, 0x499db6c900000000, 0x89f99ede00000000,\n+    0xc954e6e700000000, 0x0930cef000000000, 0xcbf03c0d00000000,\n+    0x0b94141a00000000, 0x4b396c2300000000, 0x8b5d443400000000,\n+    0xcb639d5100000000, 0x0b07b54600000000, 0x4baacd7f00000000,\n+    0x8bcee56800000000, 0xcbd67fb400000000, 0x0bb257a300000000,\n+    0x4b1f2f9a00000000, 0x8b7b078d00000000, 0xcb45dee800000000,\n+    0x0b21f6ff00000000, 0x4b8c8ec600000000, 0x8be8a6d100000000,\n+    0x8abacba400000000, 0x4adee3b300000000, 0x0a739b8a00000000,\n+    0xca17b39d00000000, 0x8a296af800000000, 0x4a4d42ef00000000,\n+    0x0ae03ad600000000, 0xca8412c100000000, 0x8a9c881d00000000,\n+    0x4af8a00a00000000, 0x0a55d83300000000, 0xca31f02400000000,\n+    0x8a0f294100000000, 0x4a6b015600000000, 0x0ac6796f00000000,\n+    0xcaa2517800000000},\n+   {0x0000000000000000, 0xd4ea739b00000000, 0xe9d396ed00000000,\n+    0x3d39e57600000000, 0x93a15c0000000000, 0x474b2f9b00000000,\n+    0x7a72caed00000000, 0xae98b97600000000, 0x2643b90000000000,\n+    0xf2a9ca9b00000000, 0xcf902fed00000000, 0x1b7a5c7600000000,\n+    0xb5e2e50000000000, 0x6108969b00000000, 0x5c3173ed00000000,\n+    0x88db007600000000, 0x4c86720100000000, 0x986c019a00000000,\n+    0xa555e4ec00000000, 0x71bf977700000000, 0xdf272e0100000000,\n+    0x0bcd5d9a00000000, 0x36f4b8ec00000000, 0xe21ecb7700000000,\n+    0x6ac5cb0100000000, 0xbe2fb89a00000000, 0x83165dec00000000,\n+    0x57fc2e7700000000, 0xf964970100000000, 0x2d8ee49a00000000,\n+    0x10b701ec00000000, 0xc45d727700000000, 0x980ce50200000000,\n+    0x4ce6969900000000, 0x71df73ef00000000, 0xa535007400000000,\n+    0x0badb90200000000, 0xdf47ca9900000000, 0xe27e2fef00000000,\n+    0x36945c7400000000, 0xbe4f5c0200000000, 0x6aa52f9900000000,\n+    0x579ccaef00000000, 0x8376b97400000000, 0x2dee000200000000,\n+    0xf904739900000000, 0xc43d96ef00000000, 0x10d7e57400000000,\n+    0xd48a970300000000, 0x0060e49800000000, 0x3d5901ee00000000,\n+    0xe9b3727500000000, 0x472bcb0300000000, 0x93c1b89800000000,\n+    0xaef85dee00000000, 0x7a122e7500000000, 0xf2c92e0300000000,\n+    0x26235d9800000000, 0x1b1ab8ee00000000, 0xcff0cb7500000000,\n+    0x6168720300000000, 0xb582019800000000, 0x88bbe4ee00000000,\n+    0x5c51977500000000, 0x3019ca0500000000, 0xe4f3b99e00000000,\n+    0xd9ca5ce800000000, 0x0d202f7300000000, 0xa3b8960500000000,\n+    0x7752e59e00000000, 0x4a6b00e800000000, 0x9e81737300000000,\n+    0x165a730500000000, 0xc2b0009e00000000, 0xff89e5e800000000,\n+    0x2b63967300000000, 0x85fb2f0500000000, 0x51115c9e00000000,\n+    0x6c28b9e800000000, 0xb8c2ca7300000000, 0x7c9fb80400000000,\n+    0xa875cb9f00000000, 0x954c2ee900000000, 0x41a65d7200000000,\n+    0xef3ee40400000000, 0x3bd4979f00000000, 0x06ed72e900000000,\n+    0xd207017200000000, 0x5adc010400000000, 0x8e36729f00000000,\n+    0xb30f97e900000000, 0x67e5e47200000000, 0xc97d5d0400000000,\n+    0x1d972e9f00000000, 0x20aecbe900000000, 0xf444b87200000000,\n+    0xa8152f0700000000, 0x7cff5c9c00000000, 0x41c6b9ea00000000,\n+    0x952cca7100000000, 0x3bb4730700000000, 0xef5e009c00000000,\n+    0xd267e5ea00000000, 0x068d967100000000, 0x8e56960700000000,\n+    0x5abce59c00000000, 0x678500ea00000000, 0xb36f737100000000,\n+    0x1df7ca0700000000, 0xc91db99c00000000, 0xf4245cea00000000,\n+    0x20ce2f7100000000, 0xe4935d0600000000, 0x30792e9d00000000,\n+    0x0d40cbeb00000000, 0xd9aab87000000000, 0x7732010600000000,\n+    0xa3d8729d00000000, 0x9ee197eb00000000, 0x4a0be47000000000,\n+    0xc2d0e40600000000, 0x163a979d00000000, 0x2b0372eb00000000,\n+    0xffe9017000000000, 0x5171b80600000000, 0x859bcb9d00000000,\n+    0xb8a22eeb00000000, 0x6c485d7000000000, 0x6032940b00000000,\n+    0xb4d8e79000000000, 0x89e102e600000000, 0x5d0b717d00000000,\n+    0xf393c80b00000000, 0x2779bb9000000000, 0x1a405ee600000000,\n+    0xceaa2d7d00000000, 0x46712d0b00000000, 0x929b5e9000000000,\n+    0xafa2bbe600000000, 0x7b48c87d00000000, 0xd5d0710b00000000,\n+    0x013a029000000000, 0x3c03e7e600000000, 0xe8e9947d00000000,\n+    0x2cb4e60a00000000, 0xf85e959100000000, 0xc56770e700000000,\n+    0x118d037c00000000, 0xbf15ba0a00000000, 0x6bffc99100000000,\n+    0x56c62ce700000000, 0x822c5f7c00000000, 0x0af75f0a00000000,\n+    0xde1d2c9100000000, 0xe324c9e700000000, 0x37ceba7c00000000,\n+    0x9956030a00000000, 0x4dbc709100000000, 0x708595e700000000,\n+    0xa46fe67c00000000, 0xf83e710900000000, 0x2cd4029200000000,\n+    0x11ede7e400000000, 0xc507947f00000000, 0x6b9f2d0900000000,\n+    0xbf755e9200000000, 0x824cbbe400000000, 0x56a6c87f00000000,\n+    0xde7dc80900000000, 0x0a97bb9200000000, 0x37ae5ee400000000,\n+    0xe3442d7f00000000, 0x4ddc940900000000, 0x9936e79200000000,\n+    0xa40f02e400000000, 0x70e5717f00000000, 0xb4b8030800000000,\n+    0x6052709300000000, 0x5d6b95e500000000, 0x8981e67e00000000,\n+    0x27195f0800000000, 0xf3f32c9300000000, 0xcecac9e500000000,\n+    0x1a20ba7e00000000, 0x92fbba0800000000, 0x4611c99300000000,\n+    0x7b282ce500000000, 0xafc25f7e00000000, 0x015ae60800000000,\n+    0xd5b0959300000000, 0xe88970e500000000, 0x3c63037e00000000,\n+    0x502b5e0e00000000, 0x84c12d9500000000, 0xb9f8c8e300000000,\n+    0x6d12bb7800000000, 0xc38a020e00000000, 0x1760719500000000,\n+    0x2a5994e300000000, 0xfeb3e77800000000, 0x7668e70e00000000,\n+    0xa282949500000000, 0x9fbb71e300000000, 0x4b51027800000000,\n+    0xe5c9bb0e00000000, 0x3123c89500000000, 0x0c1a2de300000000,\n+    0xd8f05e7800000000, 0x1cad2c0f00000000, 0xc8475f9400000000,\n+    0xf57ebae200000000, 0x2194c97900000000, 0x8f0c700f00000000,\n+    0x5be6039400000000, 0x66dfe6e200000000, 0xb235957900000000,\n+    0x3aee950f00000000, 0xee04e69400000000, 0xd33d03e200000000,\n+    0x07d7707900000000, 0xa94fc90f00000000, 0x7da5ba9400000000,\n+    0x409c5fe200000000, 0x94762c7900000000, 0xc827bb0c00000000,\n+    0x1ccdc89700000000, 0x21f42de100000000, 0xf51e5e7a00000000,\n+    0x5b86e70c00000000, 0x8f6c949700000000, 0xb25571e100000000,\n+    0x66bf027a00000000, 0xee64020c00000000, 0x3a8e719700000000,\n+    0x07b794e100000000, 0xd35de77a00000000, 0x7dc55e0c00000000,\n+    0xa92f2d9700000000, 0x9416c8e100000000, 0x40fcbb7a00000000,\n+    0x84a1c90d00000000, 0x504bba9600000000, 0x6d725fe000000000,\n+    0xb9982c7b00000000, 0x1700950d00000000, 0xc3eae69600000000,\n+    0xfed303e000000000, 0x2a39707b00000000, 0xa2e2700d00000000,\n+    0x7608039600000000, 0x4b31e6e000000000, 0x9fdb957b00000000,\n+    0x31432c0d00000000, 0xe5a95f9600000000, 0xd890bae000000000,\n+    0x0c7ac97b00000000},\n+   {0x0000000000000000, 0x2765258100000000, 0x0fcc3bd900000000,\n+    0x28a91e5800000000, 0x5f9e066900000000, 0x78fb23e800000000,\n+    0x50523db000000000, 0x7737183100000000, 0xbe3c0dd200000000,\n+    0x9959285300000000, 0xb1f0360b00000000, 0x9695138a00000000,\n+    0xe1a20bbb00000000, 0xc6c72e3a00000000, 0xee6e306200000000,\n+    0xc90b15e300000000, 0x3d7f6b7f00000000, 0x1a1a4efe00000000,\n+    0x32b350a600000000, 0x15d6752700000000, 0x62e16d1600000000,\n+    0x4584489700000000, 0x6d2d56cf00000000, 0x4a48734e00000000,\n+    0x834366ad00000000, 0xa426432c00000000, 0x8c8f5d7400000000,\n+    0xabea78f500000000, 0xdcdd60c400000000, 0xfbb8454500000000,\n+    0xd3115b1d00000000, 0xf4747e9c00000000, 0x7afed6fe00000000,\n+    0x5d9bf37f00000000, 0x7532ed2700000000, 0x5257c8a600000000,\n+    0x2560d09700000000, 0x0205f51600000000, 0x2aaceb4e00000000,\n+    0x0dc9cecf00000000, 0xc4c2db2c00000000, 0xe3a7fead00000000,\n+    0xcb0ee0f500000000, 0xec6bc57400000000, 0x9b5cdd4500000000,\n+    0xbc39f8c400000000, 0x9490e69c00000000, 0xb3f5c31d00000000,\n+    0x4781bd8100000000, 0x60e4980000000000, 0x484d865800000000,\n+    0x6f28a3d900000000, 0x181fbbe800000000, 0x3f7a9e6900000000,\n+    0x17d3803100000000, 0x30b6a5b000000000, 0xf9bdb05300000000,\n+    0xded895d200000000, 0xf6718b8a00000000, 0xd114ae0b00000000,\n+    0xa623b63a00000000, 0x814693bb00000000, 0xa9ef8de300000000,\n+    0x8e8aa86200000000, 0xb5fadc2600000000, 0x929ff9a700000000,\n+    0xba36e7ff00000000, 0x9d53c27e00000000, 0xea64da4f00000000,\n+    0xcd01ffce00000000, 0xe5a8e19600000000, 0xc2cdc41700000000,\n+    0x0bc6d1f400000000, 0x2ca3f47500000000, 0x040aea2d00000000,\n+    0x236fcfac00000000, 0x5458d79d00000000, 0x733df21c00000000,\n+    0x5b94ec4400000000, 0x7cf1c9c500000000, 0x8885b75900000000,\n+    0xafe092d800000000, 0x87498c8000000000, 0xa02ca90100000000,\n+    0xd71bb13000000000, 0xf07e94b100000000, 0xd8d78ae900000000,\n+    0xffb2af6800000000, 0x36b9ba8b00000000, 0x11dc9f0a00000000,\n+    0x3975815200000000, 0x1e10a4d300000000, 0x6927bce200000000,\n+    0x4e42996300000000, 0x66eb873b00000000, 0x418ea2ba00000000,\n+    0xcf040ad800000000, 0xe8612f5900000000, 0xc0c8310100000000,\n+    0xe7ad148000000000, 0x909a0cb100000000, 0xb7ff293000000000,\n+    0x9f56376800000000, 0xb83312e900000000, 0x7138070a00000000,\n+    0x565d228b00000000, 0x7ef43cd300000000, 0x5991195200000000,\n+    0x2ea6016300000000, 0x09c324e200000000, 0x216a3aba00000000,\n+    0x060f1f3b00000000, 0xf27b61a700000000, 0xd51e442600000000,\n+    0xfdb75a7e00000000, 0xdad27fff00000000, 0xade567ce00000000,\n+    0x8a80424f00000000, 0xa2295c1700000000, 0x854c799600000000,\n+    0x4c476c7500000000, 0x6b2249f400000000, 0x438b57ac00000000,\n+    0x64ee722d00000000, 0x13d96a1c00000000, 0x34bc4f9d00000000,\n+    0x1c1551c500000000, 0x3b70744400000000, 0x6af5b94d00000000,\n+    0x4d909ccc00000000, 0x6539829400000000, 0x425ca71500000000,\n+    0x356bbf2400000000, 0x120e9aa500000000, 0x3aa784fd00000000,\n+    0x1dc2a17c00000000, 0xd4c9b49f00000000, 0xf3ac911e00000000,\n+    0xdb058f4600000000, 0xfc60aac700000000, 0x8b57b2f600000000,\n+    0xac32977700000000, 0x849b892f00000000, 0xa3feacae00000000,\n+    0x578ad23200000000, 0x70eff7b300000000, 0x5846e9eb00000000,\n+    0x7f23cc6a00000000, 0x0814d45b00000000, 0x2f71f1da00000000,\n+    0x07d8ef8200000000, 0x20bdca0300000000, 0xe9b6dfe000000000,\n+    0xced3fa6100000000, 0xe67ae43900000000, 0xc11fc1b800000000,\n+    0xb628d98900000000, 0x914dfc0800000000, 0xb9e4e25000000000,\n+    0x9e81c7d100000000, 0x100b6fb300000000, 0x376e4a3200000000,\n+    0x1fc7546a00000000, 0x38a271eb00000000, 0x4f9569da00000000,\n+    0x68f04c5b00000000, 0x4059520300000000, 0x673c778200000000,\n+    0xae37626100000000, 0x895247e000000000, 0xa1fb59b800000000,\n+    0x869e7c3900000000, 0xf1a9640800000000, 0xd6cc418900000000,\n+    0xfe655fd100000000, 0xd9007a5000000000, 0x2d7404cc00000000,\n+    0x0a11214d00000000, 0x22b83f1500000000, 0x05dd1a9400000000,\n+    0x72ea02a500000000, 0x558f272400000000, 0x7d26397c00000000,\n+    0x5a431cfd00000000, 0x9348091e00000000, 0xb42d2c9f00000000,\n+    0x9c8432c700000000, 0xbbe1174600000000, 0xccd60f7700000000,\n+    0xebb32af600000000, 0xc31a34ae00000000, 0xe47f112f00000000,\n+    0xdf0f656b00000000, 0xf86a40ea00000000, 0xd0c35eb200000000,\n+    0xf7a67b3300000000, 0x8091630200000000, 0xa7f4468300000000,\n+    0x8f5d58db00000000, 0xa8387d5a00000000, 0x613368b900000000,\n+    0x46564d3800000000, 0x6eff536000000000, 0x499a76e100000000,\n+    0x3ead6ed000000000, 0x19c84b5100000000, 0x3161550900000000,\n+    0x1604708800000000, 0xe2700e1400000000, 0xc5152b9500000000,\n+    0xedbc35cd00000000, 0xcad9104c00000000, 0xbdee087d00000000,\n+    0x9a8b2dfc00000000, 0xb22233a400000000, 0x9547162500000000,\n+    0x5c4c03c600000000, 0x7b29264700000000, 0x5380381f00000000,\n+    0x74e51d9e00000000, 0x03d205af00000000, 0x24b7202e00000000,\n+    0x0c1e3e7600000000, 0x2b7b1bf700000000, 0xa5f1b39500000000,\n+    0x8294961400000000, 0xaa3d884c00000000, 0x8d58adcd00000000,\n+    0xfa6fb5fc00000000, 0xdd0a907d00000000, 0xf5a38e2500000000,\n+    0xd2c6aba400000000, 0x1bcdbe4700000000, 0x3ca89bc600000000,\n+    0x1401859e00000000, 0x3364a01f00000000, 0x4453b82e00000000,\n+    0x63369daf00000000, 0x4b9f83f700000000, 0x6cfaa67600000000,\n+    0x988ed8ea00000000, 0xbfebfd6b00000000, 0x9742e33300000000,\n+    0xb027c6b200000000, 0xc710de8300000000, 0xe075fb0200000000,\n+    0xc8dce55a00000000, 0xefb9c0db00000000, 0x26b2d53800000000,\n+    0x01d7f0b900000000, 0x297eeee100000000, 0x0e1bcb6000000000,\n+    0x792cd35100000000, 0x5e49f6d000000000, 0x76e0e88800000000,\n+    0x5185cd0900000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0x9ba54c6f, 0xec3b9e9f, 0x779ed2f0, 0x03063b7f,\n+    0x98a37710, 0xef3da5e0, 0x7498e98f, 0x060c76fe, 0x9da93a91,\n+    0xea37e861, 0x7192a40e, 0x050a4d81, 0x9eaf01ee, 0xe931d31e,\n+    0x72949f71, 0x0c18edfc, 0x97bda193, 0xe0237363, 0x7b863f0c,\n+    0x0f1ed683, 0x94bb9aec, 0xe325481c, 0x78800473, 0x0a149b02,\n+    0x91b1d76d, 0xe62f059d, 0x7d8a49f2, 0x0912a07d, 0x92b7ec12,\n+    0xe5293ee2, 0x7e8c728d, 0x1831dbf8, 0x83949797, 0xf40a4567,\n+    0x6faf0908, 0x1b37e087, 0x8092ace8, 0xf70c7e18, 0x6ca93277,\n+    0x1e3dad06, 0x8598e169, 0xf2063399, 0x69a37ff6, 0x1d3b9679,\n+    0x869eda16, 0xf10008e6, 0x6aa54489, 0x14293604, 0x8f8c7a6b,\n+    0xf812a89b, 0x63b7e4f4, 0x172f0d7b, 0x8c8a4114, 0xfb1493e4,\n+    0x60b1df8b, 0x122540fa, 0x89800c95, 0xfe1ede65, 0x65bb920a,\n+    0x11237b85, 0x8a8637ea, 0xfd18e51a, 0x66bda975, 0x3063b7f0,\n+    0xabc6fb9f, 0xdc58296f, 0x47fd6500, 0x33658c8f, 0xa8c0c0e0,\n+    0xdf5e1210, 0x44fb5e7f, 0x366fc10e, 0xadca8d61, 0xda545f91,\n+    0x41f113fe, 0x3569fa71, 0xaeccb61e, 0xd95264ee, 0x42f72881,\n+    0x3c7b5a0c, 0xa7de1663, 0xd040c493, 0x4be588fc, 0x3f7d6173,\n+    0xa4d82d1c, 0xd346ffec, 0x48e3b383, 0x3a772cf2, 0xa1d2609d,\n+    0xd64cb26d, 0x4de9fe02, 0x3971178d, 0xa2d45be2, 0xd54a8912,\n+    0x4eefc57d, 0x28526c08, 0xb3f72067, 0xc469f297, 0x5fccbef8,\n+    0x2b545777, 0xb0f11b18, 0xc76fc9e8, 0x5cca8587, 0x2e5e1af6,\n+    0xb5fb5699, 0xc2658469, 0x59c0c806, 0x2d582189, 0xb6fd6de6,\n+    0xc163bf16, 0x5ac6f379, 0x244a81f4, 0xbfefcd9b, 0xc8711f6b,\n+    0x53d45304, 0x274cba8b, 0xbce9f6e4, 0xcb772414, 0x50d2687b,\n+    0x2246f70a, 0xb9e3bb65, 0xce7d6995, 0x55d825fa, 0x2140cc75,\n+    0xbae5801a, 0xcd7b52ea, 0x56de1e85, 0x60c76fe0, 0xfb62238f,\n+    0x8cfcf17f, 0x1759bd10, 0x63c1549f, 0xf86418f0, 0x8ffaca00,\n+    0x145f866f, 0x66cb191e, 0xfd6e5571, 0x8af08781, 0x1155cbee,\n+    0x65cd2261, 0xfe686e0e, 0x89f6bcfe, 0x1253f091, 0x6cdf821c,\n+    0xf77ace73, 0x80e41c83, 0x1b4150ec, 0x6fd9b963, 0xf47cf50c,\n+    0x83e227fc, 0x18476b93, 0x6ad3f4e2, 0xf176b88d, 0x86e86a7d,\n+    0x1d4d2612, 0x69d5cf9d, 0xf27083f2, 0x85ee5102, 0x1e4b1d6d,\n+    0x78f6b418, 0xe353f877, 0x94cd2a87, 0x0f6866e8, 0x7bf08f67,\n+    0xe055c308, 0x97cb11f8, 0x0c6e5d97, 0x7efac2e6, 0xe55f8e89,\n+    0x92c15c79, 0x09641016, 0x7dfcf999, 0xe659b5f6, 0x91c76706,\n+    0x0a622b69, 0x74ee59e4, 0xef4b158b, 0x98d5c77b, 0x03708b14,\n+    0x77e8629b, 0xec4d2ef4, 0x9bd3fc04, 0x0076b06b, 0x72e22f1a,\n+    0xe9476375, 0x9ed9b185, 0x057cfdea, 0x71e41465, 0xea41580a,\n+    0x9ddf8afa, 0x067ac695, 0x50a4d810, 0xcb01947f, 0xbc9f468f,\n+    0x273a0ae0, 0x53a2e36f, 0xc807af00, 0xbf997df0, 0x243c319f,\n+    0x56a8aeee, 0xcd0de281, 0xba933071, 0x21367c1e, 0x55ae9591,\n+    0xce0bd9fe, 0xb9950b0e, 0x22304761, 0x5cbc35ec, 0xc7197983,\n+    0xb087ab73, 0x2b22e71c, 0x5fba0e93, 0xc41f42fc, 0xb381900c,\n+    0x2824dc63, 0x5ab04312, 0xc1150f7d, 0xb68bdd8d, 0x2d2e91e2,\n+    0x59b6786d, 0xc2133402, 0xb58de6f2, 0x2e28aa9d, 0x489503e8,\n+    0xd3304f87, 0xa4ae9d77, 0x3f0bd118, 0x4b933897, 0xd03674f8,\n+    0xa7a8a608, 0x3c0dea67, 0x4e997516, 0xd53c3979, 0xa2a2eb89,\n+    0x3907a7e6, 0x4d9f4e69, 0xd63a0206, 0xa1a4d0f6, 0x3a019c99,\n+    0x448dee14, 0xdf28a27b, 0xa8b6708b, 0x33133ce4, 0x478bd56b,\n+    0xdc2e9904, 0xabb04bf4, 0x3015079b, 0x428198ea, 0xd924d485,\n+    0xaeba0675, 0x351f4a1a, 0x4187a395, 0xda22effa, 0xadbc3d0a,\n+    0x36197165},\n+   {0x00000000, 0xc18edfc0, 0x586cb9c1, 0x99e26601, 0xb0d97382,\n+    0x7157ac42, 0xe8b5ca43, 0x293b1583, 0xbac3e145, 0x7b4d3e85,\n+    0xe2af5884, 0x23218744, 0x0a1a92c7, 0xcb944d07, 0x52762b06,\n+    0x93f8f4c6, 0xaef6c4cb, 0x6f781b0b, 0xf69a7d0a, 0x3714a2ca,\n+    0x1e2fb749, 0xdfa16889, 0x46430e88, 0x87cdd148, 0x1435258e,\n+    0xd5bbfa4e, 0x4c599c4f, 0x8dd7438f, 0xa4ec560c, 0x656289cc,\n+    0xfc80efcd, 0x3d0e300d, 0x869c8fd7, 0x47125017, 0xdef03616,\n+    0x1f7ee9d6, 0x3645fc55, 0xf7cb2395, 0x6e294594, 0xafa79a54,\n+    0x3c5f6e92, 0xfdd1b152, 0x6433d753, 0xa5bd0893, 0x8c861d10,\n+    0x4d08c2d0, 0xd4eaa4d1, 0x15647b11, 0x286a4b1c, 0xe9e494dc,\n+    0x7006f2dd, 0xb1882d1d, 0x98b3389e, 0x593de75e, 0xc0df815f,\n+    0x01515e9f, 0x92a9aa59, 0x53277599, 0xcac51398, 0x0b4bcc58,\n+    0x2270d9db, 0xe3fe061b, 0x7a1c601a, 0xbb92bfda, 0xd64819ef,\n+    0x17c6c62f, 0x8e24a02e, 0x4faa7fee, 0x66916a6d, 0xa71fb5ad,\n+    0x3efdd3ac, 0xff730c6c, 0x6c8bf8aa, 0xad05276a, 0x34e7416b,\n+    0xf5699eab, 0xdc528b28, 0x1ddc54e8, 0x843e32e9, 0x45b0ed29,\n+    0x78bedd24, 0xb93002e4, 0x20d264e5, 0xe15cbb25, 0xc867aea6,\n+    0x09e97166, 0x900b1767, 0x5185c8a7, 0xc27d3c61, 0x03f3e3a1,\n+    0x9a1185a0, 0x5b9f5a60, 0x72a44fe3, 0xb32a9023, 0x2ac8f622,\n+    0xeb4629e2, 0x50d49638, 0x915a49f8, 0x08b82ff9, 0xc936f039,\n+    0xe00de5ba, 0x21833a7a, 0xb8615c7b, 0x79ef83bb, 0xea17777d,\n+    0x2b99a8bd, 0xb27bcebc, 0x73f5117c, 0x5ace04ff, 0x9b40db3f,\n+    0x02a2bd3e, 0xc32c62fe, 0xfe2252f3, 0x3fac8d33, 0xa64eeb32,\n+    0x67c034f2, 0x4efb2171, 0x8f75feb1, 0x169798b0, 0xd7194770,\n+    0x44e1b3b6, 0x856f6c76, 0x1c8d0a77, 0xdd03d5b7, 0xf438c034,\n+    0x35b61ff4, 0xac5479f5, 0x6ddaa635, 0x77e1359f, 0xb66fea5f,\n+    0x2f8d8c5e, 0xee03539e, 0xc738461d, 0x06b699dd, 0x9f54ffdc,\n+    0x5eda201c, 0xcd22d4da, 0x0cac0b1a, 0x954e6d1b, 0x54c0b2db,\n+    0x7dfba758, 0xbc757898, 0x25971e99, 0xe419c159, 0xd917f154,\n+    0x18992e94, 0x817b4895, 0x40f59755, 0x69ce82d6, 0xa8405d16,\n+    0x31a23b17, 0xf02ce4d7, 0x63d41011, 0xa25acfd1, 0x3bb8a9d0,\n+    0xfa367610, 0xd30d6393, 0x1283bc53, 0x8b61da52, 0x4aef0592,\n+    0xf17dba48, 0x30f36588, 0xa9110389, 0x689fdc49, 0x41a4c9ca,\n+    0x802a160a, 0x19c8700b, 0xd846afcb, 0x4bbe5b0d, 0x8a3084cd,\n+    0x13d2e2cc, 0xd25c3d0c, 0xfb67288f, 0x3ae9f74f, 0xa30b914e,\n+    0x62854e8e, 0x5f8b7e83, 0x9e05a143, 0x07e7c742, 0xc6691882,\n+    0xef520d01, 0x2edcd2c1, 0xb73eb4c0, 0x76b06b00, 0xe5489fc6,\n+    0x24c64006, 0xbd242607, 0x7caaf9c7, 0x5591ec44, 0x941f3384,\n+    0x0dfd5585, 0xcc738a45, 0xa1a92c70, 0x6027f3b0, 0xf9c595b1,\n+    0x384b4a71, 0x11705ff2, 0xd0fe8032, 0x491ce633, 0x889239f3,\n+    0x1b6acd35, 0xdae412f5, 0x430674f4, 0x8288ab34, 0xabb3beb7,\n+    0x6a3d6177, 0xf3df0776, 0x3251d8b6, 0x0f5fe8bb, 0xced1377b,\n+    0x5733517a, 0x96bd8eba, 0xbf869b39, 0x7e0844f9, 0xe7ea22f8,\n+    0x2664fd38, 0xb59c09fe, 0x7412d63e, 0xedf0b03f, 0x2c7e6fff,\n+    0x05457a7c, 0xc4cba5bc, 0x5d29c3bd, 0x9ca71c7d, 0x2735a3a7,\n+    0xe6bb7c67, 0x7f591a66, 0xbed7c5a6, 0x97ecd025, 0x56620fe5,\n+    0xcf8069e4, 0x0e0eb624, 0x9df642e2, 0x5c789d22, 0xc59afb23,\n+    0x041424e3, 0x2d2f3160, 0xeca1eea0, 0x754388a1, 0xb4cd5761,\n+    0x89c3676c, 0x484db8ac, 0xd1afdead, 0x1021016d, 0x391a14ee,\n+    0xf894cb2e, 0x6176ad2f, 0xa0f872ef, 0x33008629, 0xf28e59e9,\n+    0x6b6c3fe8, 0xaae2e028, 0x83d9f5ab, 0x42572a6b, 0xdbb54c6a,\n+    0x1a3b93aa},\n+   {0x00000000, 0xefc26b3e, 0x04f5d03d, 0xeb37bb03, 0x09eba07a,\n+    0xe629cb44, 0x0d1e7047, 0xe2dc1b79, 0x13d740f4, 0xfc152bca,\n+    0x172290c9, 0xf8e0fbf7, 0x1a3ce08e, 0xf5fe8bb0, 0x1ec930b3,\n+    0xf10b5b8d, 0x27ae81e8, 0xc86cead6, 0x235b51d5, 0xcc993aeb,\n+    0x2e452192, 0xc1874aac, 0x2ab0f1af, 0xc5729a91, 0x3479c11c,\n+    0xdbbbaa22, 0x308c1121, 0xdf4e7a1f, 0x3d926166, 0xd2500a58,\n+    0x3967b15b, 0xd6a5da65, 0x4f5d03d0, 0xa09f68ee, 0x4ba8d3ed,\n+    0xa46ab8d3, 0x46b6a3aa, 0xa974c894, 0x42437397, 0xad8118a9,\n+    0x5c8a4324, 0xb348281a, 0x587f9319, 0xb7bdf827, 0x5561e35e,\n+    0xbaa38860, 0x51943363, 0xbe56585d, 0x68f38238, 0x8731e906,\n+    0x6c065205, 0x83c4393b, 0x61182242, 0x8eda497c, 0x65edf27f,\n+    0x8a2f9941, 0x7b24c2cc, 0x94e6a9f2, 0x7fd112f1, 0x901379cf,\n+    0x72cf62b6, 0x9d0d0988, 0x763ab28b, 0x99f8d9b5, 0x9eba07a0,\n+    0x71786c9e, 0x9a4fd79d, 0x758dbca3, 0x9751a7da, 0x7893cce4,\n+    0x93a477e7, 0x7c661cd9, 0x8d6d4754, 0x62af2c6a, 0x89989769,\n+    0x665afc57, 0x8486e72e, 0x6b448c10, 0x80733713, 0x6fb15c2d,\n+    0xb9148648, 0x56d6ed76, 0xbde15675, 0x52233d4b, 0xb0ff2632,\n+    0x5f3d4d0c, 0xb40af60f, 0x5bc89d31, 0xaac3c6bc, 0x4501ad82,\n+    0xae361681, 0x41f47dbf, 0xa32866c6, 0x4cea0df8, 0xa7ddb6fb,\n+    0x481fddc5, 0xd1e70470, 0x3e256f4e, 0xd512d44d, 0x3ad0bf73,\n+    0xd80ca40a, 0x37cecf34, 0xdcf97437, 0x333b1f09, 0xc2304484,\n+    0x2df22fba, 0xc6c594b9, 0x2907ff87, 0xcbdbe4fe, 0x24198fc0,\n+    0xcf2e34c3, 0x20ec5ffd, 0xf6498598, 0x198beea6, 0xf2bc55a5,\n+    0x1d7e3e9b, 0xffa225e2, 0x10604edc, 0xfb57f5df, 0x14959ee1,\n+    0xe59ec56c, 0x0a5cae52, 0xe16b1551, 0x0ea97e6f, 0xec756516,\n+    0x03b70e28, 0xe880b52b, 0x0742de15, 0xe6050901, 0x09c7623f,\n+    0xe2f0d93c, 0x0d32b202, 0xefeea97b, 0x002cc245, 0xeb1b7946,\n+    0x04d91278, 0xf5d249f5, 0x1a1022cb, 0xf12799c8, 0x1ee5f2f6,\n+    0xfc39e98f, 0x13fb82b1, 0xf8cc39b2, 0x170e528c, 0xc1ab88e9,\n+    0x2e69e3d7, 0xc55e58d4, 0x2a9c33ea, 0xc8402893, 0x278243ad,\n+    0xccb5f8ae, 0x23779390, 0xd27cc81d, 0x3dbea323, 0xd6891820,\n+    0x394b731e, 0xdb976867, 0x34550359, 0xdf62b85a, 0x30a0d364,\n+    0xa9580ad1, 0x469a61ef, 0xadaddaec, 0x426fb1d2, 0xa0b3aaab,\n+    0x4f71c195, 0xa4467a96, 0x4b8411a8, 0xba8f4a25, 0x554d211b,\n+    0xbe7a9a18, 0x51b8f126, 0xb364ea5f, 0x5ca68161, 0xb7913a62,\n+    0x5853515c, 0x8ef68b39, 0x6134e007, 0x8a035b04, 0x65c1303a,\n+    0x871d2b43, 0x68df407d, 0x83e8fb7e, 0x6c2a9040, 0x9d21cbcd,\n+    0x72e3a0f3, 0x99d41bf0, 0x761670ce, 0x94ca6bb7, 0x7b080089,\n+    0x903fbb8a, 0x7ffdd0b4, 0x78bf0ea1, 0x977d659f, 0x7c4ade9c,\n+    0x9388b5a2, 0x7154aedb, 0x9e96c5e5, 0x75a17ee6, 0x9a6315d8,\n+    0x6b684e55, 0x84aa256b, 0x6f9d9e68, 0x805ff556, 0x6283ee2f,\n+    0x8d418511, 0x66763e12, 0x89b4552c, 0x5f118f49, 0xb0d3e477,\n+    0x5be45f74, 0xb426344a, 0x56fa2f33, 0xb938440d, 0x520fff0e,\n+    0xbdcd9430, 0x4cc6cfbd, 0xa304a483, 0x48331f80, 0xa7f174be,\n+    0x452d6fc7, 0xaaef04f9, 0x41d8bffa, 0xae1ad4c4, 0x37e20d71,\n+    0xd820664f, 0x3317dd4c, 0xdcd5b672, 0x3e09ad0b, 0xd1cbc635,\n+    0x3afc7d36, 0xd53e1608, 0x24354d85, 0xcbf726bb, 0x20c09db8,\n+    0xcf02f686, 0x2ddeedff, 0xc21c86c1, 0x292b3dc2, 0xc6e956fc,\n+    0x104c8c99, 0xff8ee7a7, 0x14b95ca4, 0xfb7b379a, 0x19a72ce3,\n+    0xf66547dd, 0x1d52fcde, 0xf29097e0, 0x039bcc6d, 0xec59a753,\n+    0x076e1c50, 0xe8ac776e, 0x0a706c17, 0xe5b20729, 0x0e85bc2a,\n+    0xe147d714},\n+   {0x00000000, 0x177b1443, 0x2ef62886, 0x398d3cc5, 0x5dec510c,\n+    0x4a97454f, 0x731a798a, 0x64616dc9, 0xbbd8a218, 0xaca3b65b,\n+    0x952e8a9e, 0x82559edd, 0xe634f314, 0xf14fe757, 0xc8c2db92,\n+    0xdfb9cfd1, 0xacc04271, 0xbbbb5632, 0x82366af7, 0x954d7eb4,\n+    0xf12c137d, 0xe657073e, 0xdfda3bfb, 0xc8a12fb8, 0x1718e069,\n+    0x0063f42a, 0x39eec8ef, 0x2e95dcac, 0x4af4b165, 0x5d8fa526,\n+    0x640299e3, 0x73798da0, 0x82f182a3, 0x958a96e0, 0xac07aa25,\n+    0xbb7cbe66, 0xdf1dd3af, 0xc866c7ec, 0xf1ebfb29, 0xe690ef6a,\n+    0x392920bb, 0x2e5234f8, 0x17df083d, 0x00a41c7e, 0x64c571b7,\n+    0x73be65f4, 0x4a335931, 0x5d484d72, 0x2e31c0d2, 0x394ad491,\n+    0x00c7e854, 0x17bcfc17, 0x73dd91de, 0x64a6859d, 0x5d2bb958,\n+    0x4a50ad1b, 0x95e962ca, 0x82927689, 0xbb1f4a4c, 0xac645e0f,\n+    0xc80533c6, 0xdf7e2785, 0xe6f31b40, 0xf1880f03, 0xde920307,\n+    0xc9e91744, 0xf0642b81, 0xe71f3fc2, 0x837e520b, 0x94054648,\n+    0xad887a8d, 0xbaf36ece, 0x654aa11f, 0x7231b55c, 0x4bbc8999,\n+    0x5cc79dda, 0x38a6f013, 0x2fdde450, 0x1650d895, 0x012bccd6,\n+    0x72524176, 0x65295535, 0x5ca469f0, 0x4bdf7db3, 0x2fbe107a,\n+    0x38c50439, 0x014838fc, 0x16332cbf, 0xc98ae36e, 0xdef1f72d,\n+    0xe77ccbe8, 0xf007dfab, 0x9466b262, 0x831da621, 0xba909ae4,\n+    0xadeb8ea7, 0x5c6381a4, 0x4b1895e7, 0x7295a922, 0x65eebd61,\n+    0x018fd0a8, 0x16f4c4eb, 0x2f79f82e, 0x3802ec6d, 0xe7bb23bc,\n+    0xf0c037ff, 0xc94d0b3a, 0xde361f79, 0xba5772b0, 0xad2c66f3,\n+    0x94a15a36, 0x83da4e75, 0xf0a3c3d5, 0xe7d8d796, 0xde55eb53,\n+    0xc92eff10, 0xad4f92d9, 0xba34869a, 0x83b9ba5f, 0x94c2ae1c,\n+    0x4b7b61cd, 0x5c00758e, 0x658d494b, 0x72f65d08, 0x169730c1,\n+    0x01ec2482, 0x38611847, 0x2f1a0c04, 0x6655004f, 0x712e140c,\n+    0x48a328c9, 0x5fd83c8a, 0x3bb95143, 0x2cc24500, 0x154f79c5,\n+    0x02346d86, 0xdd8da257, 0xcaf6b614, 0xf37b8ad1, 0xe4009e92,\n+    0x8061f35b, 0x971ae718, 0xae97dbdd, 0xb9eccf9e, 0xca95423e,\n+    0xddee567d, 0xe4636ab8, 0xf3187efb, 0x97791332, 0x80020771,\n+    0xb98f3bb4, 0xaef42ff7, 0x714de026, 0x6636f465, 0x5fbbc8a0,\n+    0x48c0dce3, 0x2ca1b12a, 0x3bdaa569, 0x025799ac, 0x152c8def,\n+    0xe4a482ec, 0xf3df96af, 0xca52aa6a, 0xdd29be29, 0xb948d3e0,\n+    0xae33c7a3, 0x97befb66, 0x80c5ef25, 0x5f7c20f4, 0x480734b7,\n+    0x718a0872, 0x66f11c31, 0x029071f8, 0x15eb65bb, 0x2c66597e,\n+    0x3b1d4d3d, 0x4864c09d, 0x5f1fd4de, 0x6692e81b, 0x71e9fc58,\n+    0x15889191, 0x02f385d2, 0x3b7eb917, 0x2c05ad54, 0xf3bc6285,\n+    0xe4c776c6, 0xdd4a4a03, 0xca315e40, 0xae503389, 0xb92b27ca,\n+    0x80a61b0f, 0x97dd0f4c, 0xb8c70348, 0xafbc170b, 0x96312bce,\n+    0x814a3f8d, 0xe52b5244, 0xf2504607, 0xcbdd7ac2, 0xdca66e81,\n+    0x031fa150, 0x1464b513, 0x2de989d6, 0x3a929d95, 0x5ef3f05c,\n+    0x4988e41f, 0x7005d8da, 0x677ecc99, 0x14074139, 0x037c557a,\n+    0x3af169bf, 0x2d8a7dfc, 0x49eb1035, 0x5e900476, 0x671d38b3,\n+    0x70662cf0, 0xafdfe321, 0xb8a4f762, 0x8129cba7, 0x9652dfe4,\n+    0xf233b22d, 0xe548a66e, 0xdcc59aab, 0xcbbe8ee8, 0x3a3681eb,\n+    0x2d4d95a8, 0x14c0a96d, 0x03bbbd2e, 0x67dad0e7, 0x70a1c4a4,\n+    0x492cf861, 0x5e57ec22, 0x81ee23f3, 0x969537b0, 0xaf180b75,\n+    0xb8631f36, 0xdc0272ff, 0xcb7966bc, 0xf2f45a79, 0xe58f4e3a,\n+    0x96f6c39a, 0x818dd7d9, 0xb800eb1c, 0xaf7bff5f, 0xcb1a9296,\n+    0xdc6186d5, 0xe5ecba10, 0xf297ae53, 0x2d2e6182, 0x3a5575c1,\n+    0x03d84904, 0x14a35d47, 0x70c2308e, 0x67b924cd, 0x5e341808,\n+    0x494f0c4b}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0x43147b17, 0x8628f62e, 0xc53c8d39, 0x0c51ec5d,\n+    0x4f45974a, 0x8a791a73, 0xc96d6164, 0x18a2d8bb, 0x5bb6a3ac,\n+    0x9e8a2e95, 0xdd9e5582, 0x14f334e6, 0x57e74ff1, 0x92dbc2c8,\n+    0xd1cfb9df, 0x7142c0ac, 0x3256bbbb, 0xf76a3682, 0xb47e4d95,\n+    0x7d132cf1, 0x3e0757e6, 0xfb3bdadf, 0xb82fa1c8, 0x69e01817,\n+    0x2af46300, 0xefc8ee39, 0xacdc952e, 0x65b1f44a, 0x26a58f5d,\n+    0xe3990264, 0xa08d7973, 0xa382f182, 0xe0968a95, 0x25aa07ac,\n+    0x66be7cbb, 0xafd31ddf, 0xecc766c8, 0x29fbebf1, 0x6aef90e6,\n+    0xbb202939, 0xf834522e, 0x3d08df17, 0x7e1ca400, 0xb771c564,\n+    0xf465be73, 0x3159334a, 0x724d485d, 0xd2c0312e, 0x91d44a39,\n+    0x54e8c700, 0x17fcbc17, 0xde91dd73, 0x9d85a664, 0x58b92b5d,\n+    0x1bad504a, 0xca62e995, 0x89769282, 0x4c4a1fbb, 0x0f5e64ac,\n+    0xc63305c8, 0x85277edf, 0x401bf3e6, 0x030f88f1, 0x070392de,\n+    0x4417e9c9, 0x812b64f0, 0xc23f1fe7, 0x0b527e83, 0x48460594,\n+    0x8d7a88ad, 0xce6ef3ba, 0x1fa14a65, 0x5cb53172, 0x9989bc4b,\n+    0xda9dc75c, 0x13f0a638, 0x50e4dd2f, 0x95d85016, 0xd6cc2b01,\n+    0x76415272, 0x35552965, 0xf069a45c, 0xb37ddf4b, 0x7a10be2f,\n+    0x3904c538, 0xfc384801, 0xbf2c3316, 0x6ee38ac9, 0x2df7f1de,\n+    0xe8cb7ce7, 0xabdf07f0, 0x62b26694, 0x21a61d83, 0xe49a90ba,\n+    0xa78eebad, 0xa481635c, 0xe795184b, 0x22a99572, 0x61bdee65,\n+    0xa8d08f01, 0xebc4f416, 0x2ef8792f, 0x6dec0238, 0xbc23bbe7,\n+    0xff37c0f0, 0x3a0b4dc9, 0x791f36de, 0xb07257ba, 0xf3662cad,\n+    0x365aa194, 0x754eda83, 0xd5c3a3f0, 0x96d7d8e7, 0x53eb55de,\n+    0x10ff2ec9, 0xd9924fad, 0x9a8634ba, 0x5fbab983, 0x1caec294,\n+    0xcd617b4b, 0x8e75005c, 0x4b498d65, 0x085df672, 0xc1309716,\n+    0x8224ec01, 0x47186138, 0x040c1a2f, 0x4f005566, 0x0c142e71,\n+    0xc928a348, 0x8a3cd85f, 0x4351b93b, 0x0045c22c, 0xc5794f15,\n+    0x866d3402, 0x57a28ddd, 0x14b6f6ca, 0xd18a7bf3, 0x929e00e4,\n+    0x5bf36180, 0x18e71a97, 0xdddb97ae, 0x9ecfecb9, 0x3e4295ca,\n+    0x7d56eedd, 0xb86a63e4, 0xfb7e18f3, 0x32137997, 0x71070280,\n+    0xb43b8fb9, 0xf72ff4ae, 0x26e04d71, 0x65f43666, 0xa0c8bb5f,\n+    0xe3dcc048, 0x2ab1a12c, 0x69a5da3b, 0xac995702, 0xef8d2c15,\n+    0xec82a4e4, 0xaf96dff3, 0x6aaa52ca, 0x29be29dd, 0xe0d348b9,\n+    0xa3c733ae, 0x66fbbe97, 0x25efc580, 0xf4207c5f, 0xb7340748,\n+    0x72088a71, 0x311cf166, 0xf8719002, 0xbb65eb15, 0x7e59662c,\n+    0x3d4d1d3b, 0x9dc06448, 0xded41f5f, 0x1be89266, 0x58fce971,\n+    0x91918815, 0xd285f302, 0x17b97e3b, 0x54ad052c, 0x8562bcf3,\n+    0xc676c7e4, 0x034a4add, 0x405e31ca, 0x893350ae, 0xca272bb9,\n+    0x0f1ba680, 0x4c0fdd97, 0x4803c7b8, 0x0b17bcaf, 0xce2b3196,\n+    0x8d3f4a81, 0x44522be5, 0x074650f2, 0xc27addcb, 0x816ea6dc,\n+    0x50a11f03, 0x13b56414, 0xd689e92d, 0x959d923a, 0x5cf0f35e,\n+    0x1fe48849, 0xdad80570, 0x99cc7e67, 0x39410714, 0x7a557c03,\n+    0xbf69f13a, 0xfc7d8a2d, 0x3510eb49, 0x7604905e, 0xb3381d67,\n+    0xf02c6670, 0x21e3dfaf, 0x62f7a4b8, 0xa7cb2981, 0xe4df5296,\n+    0x2db233f2, 0x6ea648e5, 0xab9ac5dc, 0xe88ebecb, 0xeb81363a,\n+    0xa8954d2d, 0x6da9c014, 0x2ebdbb03, 0xe7d0da67, 0xa4c4a170,\n+    0x61f82c49, 0x22ec575e, 0xf323ee81, 0xb0379596, 0x750b18af,\n+    0x361f63b8, 0xff7202dc, 0xbc6679cb, 0x795af4f2, 0x3a4e8fe5,\n+    0x9ac3f696, 0xd9d78d81, 0x1ceb00b8, 0x5fff7baf, 0x96921acb,\n+    0xd58661dc, 0x10baece5, 0x53ae97f2, 0x82612e2d, 0xc175553a,\n+    0x0449d803, 0x475da314, 0x8e30c270, 0xcd24b967, 0x0818345e,\n+    0x4b0c4f49},\n+   {0x00000000, 0x3e6bc2ef, 0x3dd0f504, 0x03bb37eb, 0x7aa0eb09,\n+    0x44cb29e6, 0x47701e0d, 0x791bdce2, 0xf440d713, 0xca2b15fc,\n+    0xc9902217, 0xf7fbe0f8, 0x8ee03c1a, 0xb08bfef5, 0xb330c91e,\n+    0x8d5b0bf1, 0xe881ae27, 0xd6ea6cc8, 0xd5515b23, 0xeb3a99cc,\n+    0x9221452e, 0xac4a87c1, 0xaff1b02a, 0x919a72c5, 0x1cc17934,\n+    0x22aabbdb, 0x21118c30, 0x1f7a4edf, 0x6661923d, 0x580a50d2,\n+    0x5bb16739, 0x65daa5d6, 0xd0035d4f, 0xee689fa0, 0xedd3a84b,\n+    0xd3b86aa4, 0xaaa3b646, 0x94c874a9, 0x97734342, 0xa91881ad,\n+    0x24438a5c, 0x1a2848b3, 0x19937f58, 0x27f8bdb7, 0x5ee36155,\n+    0x6088a3ba, 0x63339451, 0x5d5856be, 0x3882f368, 0x06e93187,\n+    0x0552066c, 0x3b39c483, 0x42221861, 0x7c49da8e, 0x7ff2ed65,\n+    0x41992f8a, 0xccc2247b, 0xf2a9e694, 0xf112d17f, 0xcf791390,\n+    0xb662cf72, 0x88090d9d, 0x8bb23a76, 0xb5d9f899, 0xa007ba9e,\n+    0x9e6c7871, 0x9dd74f9a, 0xa3bc8d75, 0xdaa75197, 0xe4cc9378,\n+    0xe777a493, 0xd91c667c, 0x54476d8d, 0x6a2caf62, 0x69979889,\n+    0x57fc5a66, 0x2ee78684, 0x108c446b, 0x13377380, 0x2d5cb16f,\n+    0x488614b9, 0x76edd656, 0x7556e1bd, 0x4b3d2352, 0x3226ffb0,\n+    0x0c4d3d5f, 0x0ff60ab4, 0x319dc85b, 0xbcc6c3aa, 0x82ad0145,\n+    0x811636ae, 0xbf7df441, 0xc66628a3, 0xf80dea4c, 0xfbb6dda7,\n+    0xc5dd1f48, 0x7004e7d1, 0x4e6f253e, 0x4dd412d5, 0x73bfd03a,\n+    0x0aa40cd8, 0x34cfce37, 0x3774f9dc, 0x091f3b33, 0x844430c2,\n+    0xba2ff22d, 0xb994c5c6, 0x87ff0729, 0xfee4dbcb, 0xc08f1924,\n+    0xc3342ecf, 0xfd5fec20, 0x988549f6, 0xa6ee8b19, 0xa555bcf2,\n+    0x9b3e7e1d, 0xe225a2ff, 0xdc4e6010, 0xdff557fb, 0xe19e9514,\n+    0x6cc59ee5, 0x52ae5c0a, 0x51156be1, 0x6f7ea90e, 0x166575ec,\n+    0x280eb703, 0x2bb580e8, 0x15de4207, 0x010905e6, 0x3f62c709,\n+    0x3cd9f0e2, 0x02b2320d, 0x7ba9eeef, 0x45c22c00, 0x46791beb,\n+    0x7812d904, 0xf549d2f5, 0xcb22101a, 0xc89927f1, 0xf6f2e51e,\n+    0x8fe939fc, 0xb182fb13, 0xb239ccf8, 0x8c520e17, 0xe988abc1,\n+    0xd7e3692e, 0xd4585ec5, 0xea339c2a, 0x932840c8, 0xad438227,\n+    0xaef8b5cc, 0x90937723, 0x1dc87cd2, 0x23a3be3d, 0x201889d6,\n+    0x1e734b39, 0x676897db, 0x59035534, 0x5ab862df, 0x64d3a030,\n+    0xd10a58a9, 0xef619a46, 0xecdaadad, 0xd2b16f42, 0xabaab3a0,\n+    0x95c1714f, 0x967a46a4, 0xa811844b, 0x254a8fba, 0x1b214d55,\n+    0x189a7abe, 0x26f1b851, 0x5fea64b3, 0x6181a65c, 0x623a91b7,\n+    0x5c515358, 0x398bf68e, 0x07e03461, 0x045b038a, 0x3a30c165,\n+    0x432b1d87, 0x7d40df68, 0x7efbe883, 0x40902a6c, 0xcdcb219d,\n+    0xf3a0e372, 0xf01bd499, 0xce701676, 0xb76bca94, 0x8900087b,\n+    0x8abb3f90, 0xb4d0fd7f, 0xa10ebf78, 0x9f657d97, 0x9cde4a7c,\n+    0xa2b58893, 0xdbae5471, 0xe5c5969e, 0xe67ea175, 0xd815639a,\n+    0x554e686b, 0x6b25aa84, 0x689e9d6f, 0x56f55f80, 0x2fee8362,\n+    0x1185418d, 0x123e7666, 0x2c55b489, 0x498f115f, 0x77e4d3b0,\n+    0x745fe45b, 0x4a3426b4, 0x332ffa56, 0x0d4438b9, 0x0eff0f52,\n+    0x3094cdbd, 0xbdcfc64c, 0x83a404a3, 0x801f3348, 0xbe74f1a7,\n+    0xc76f2d45, 0xf904efaa, 0xfabfd841, 0xc4d41aae, 0x710de237,\n+    0x4f6620d8, 0x4cdd1733, 0x72b6d5dc, 0x0bad093e, 0x35c6cbd1,\n+    0x367dfc3a, 0x08163ed5, 0x854d3524, 0xbb26f7cb, 0xb89dc020,\n+    0x86f602cf, 0xffedde2d, 0xc1861cc2, 0xc23d2b29, 0xfc56e9c6,\n+    0x998c4c10, 0xa7e78eff, 0xa45cb914, 0x9a377bfb, 0xe32ca719,\n+    0xdd4765f6, 0xdefc521d, 0xe09790f2, 0x6dcc9b03, 0x53a759ec,\n+    0x501c6e07, 0x6e77ace8, 0x176c700a, 0x2907b2e5, 0x2abc850e,\n+    0x14d747e1},\n+   {0x00000000, 0xc0df8ec1, 0xc1b96c58, 0x0166e299, 0x8273d9b0,\n+    0x42ac5771, 0x43cab5e8, 0x83153b29, 0x45e1c3ba, 0x853e4d7b,\n+    0x8458afe2, 0x44872123, 0xc7921a0a, 0x074d94cb, 0x062b7652,\n+    0xc6f4f893, 0xcbc4f6ae, 0x0b1b786f, 0x0a7d9af6, 0xcaa21437,\n+    0x49b72f1e, 0x8968a1df, 0x880e4346, 0x48d1cd87, 0x8e253514,\n+    0x4efabbd5, 0x4f9c594c, 0x8f43d78d, 0x0c56eca4, 0xcc896265,\n+    0xcdef80fc, 0x0d300e3d, 0xd78f9c86, 0x17501247, 0x1636f0de,\n+    0xd6e97e1f, 0x55fc4536, 0x9523cbf7, 0x9445296e, 0x549aa7af,\n+    0x926e5f3c, 0x52b1d1fd, 0x53d73364, 0x9308bda5, 0x101d868c,\n+    0xd0c2084d, 0xd1a4ead4, 0x117b6415, 0x1c4b6a28, 0xdc94e4e9,\n+    0xddf20670, 0x1d2d88b1, 0x9e38b398, 0x5ee73d59, 0x5f81dfc0,\n+    0x9f5e5101, 0x59aaa992, 0x99752753, 0x9813c5ca, 0x58cc4b0b,\n+    0xdbd97022, 0x1b06fee3, 0x1a601c7a, 0xdabf92bb, 0xef1948d6,\n+    0x2fc6c617, 0x2ea0248e, 0xee7faa4f, 0x6d6a9166, 0xadb51fa7,\n+    0xacd3fd3e, 0x6c0c73ff, 0xaaf88b6c, 0x6a2705ad, 0x6b41e734,\n+    0xab9e69f5, 0x288b52dc, 0xe854dc1d, 0xe9323e84, 0x29edb045,\n+    0x24ddbe78, 0xe40230b9, 0xe564d220, 0x25bb5ce1, 0xa6ae67c8,\n+    0x6671e909, 0x67170b90, 0xa7c88551, 0x613c7dc2, 0xa1e3f303,\n+    0xa085119a, 0x605a9f5b, 0xe34fa472, 0x23902ab3, 0x22f6c82a,\n+    0xe22946eb, 0x3896d450, 0xf8495a91, 0xf92fb808, 0x39f036c9,\n+    0xbae50de0, 0x7a3a8321, 0x7b5c61b8, 0xbb83ef79, 0x7d7717ea,\n+    0xbda8992b, 0xbcce7bb2, 0x7c11f573, 0xff04ce5a, 0x3fdb409b,\n+    0x3ebda202, 0xfe622cc3, 0xf35222fe, 0x338dac3f, 0x32eb4ea6,\n+    0xf234c067, 0x7121fb4e, 0xb1fe758f, 0xb0989716, 0x704719d7,\n+    0xb6b3e144, 0x766c6f85, 0x770a8d1c, 0xb7d503dd, 0x34c038f4,\n+    0xf41fb635, 0xf57954ac, 0x35a6da6d, 0x9f35e177, 0x5fea6fb6,\n+    0x5e8c8d2f, 0x9e5303ee, 0x1d4638c7, 0xdd99b606, 0xdcff549f,\n+    0x1c20da5e, 0xdad422cd, 0x1a0bac0c, 0x1b6d4e95, 0xdbb2c054,\n+    0x58a7fb7d, 0x987875bc, 0x991e9725, 0x59c119e4, 0x54f117d9,\n+    0x942e9918, 0x95487b81, 0x5597f540, 0xd682ce69, 0x165d40a8,\n+    0x173ba231, 0xd7e42cf0, 0x1110d463, 0xd1cf5aa2, 0xd0a9b83b,\n+    0x107636fa, 0x93630dd3, 0x53bc8312, 0x52da618b, 0x9205ef4a,\n+    0x48ba7df1, 0x8865f330, 0x890311a9, 0x49dc9f68, 0xcac9a441,\n+    0x0a162a80, 0x0b70c819, 0xcbaf46d8, 0x0d5bbe4b, 0xcd84308a,\n+    0xcce2d213, 0x0c3d5cd2, 0x8f2867fb, 0x4ff7e93a, 0x4e910ba3,\n+    0x8e4e8562, 0x837e8b5f, 0x43a1059e, 0x42c7e707, 0x821869c6,\n+    0x010d52ef, 0xc1d2dc2e, 0xc0b43eb7, 0x006bb076, 0xc69f48e5,\n+    0x0640c624, 0x072624bd, 0xc7f9aa7c, 0x44ec9155, 0x84331f94,\n+    0x8555fd0d, 0x458a73cc, 0x702ca9a1, 0xb0f32760, 0xb195c5f9,\n+    0x714a4b38, 0xf25f7011, 0x3280fed0, 0x33e61c49, 0xf3399288,\n+    0x35cd6a1b, 0xf512e4da, 0xf4740643, 0x34ab8882, 0xb7beb3ab,\n+    0x77613d6a, 0x7607dff3, 0xb6d85132, 0xbbe85f0f, 0x7b37d1ce,\n+    0x7a513357, 0xba8ebd96, 0x399b86bf, 0xf944087e, 0xf822eae7,\n+    0x38fd6426, 0xfe099cb5, 0x3ed61274, 0x3fb0f0ed, 0xff6f7e2c,\n+    0x7c7a4505, 0xbca5cbc4, 0xbdc3295d, 0x7d1ca79c, 0xa7a33527,\n+    0x677cbbe6, 0x661a597f, 0xa6c5d7be, 0x25d0ec97, 0xe50f6256,\n+    0xe46980cf, 0x24b60e0e, 0xe242f69d, 0x229d785c, 0x23fb9ac5,\n+    0xe3241404, 0x60312f2d, 0xa0eea1ec, 0xa1884375, 0x6157cdb4,\n+    0x6c67c389, 0xacb84d48, 0xaddeafd1, 0x6d012110, 0xee141a39,\n+    0x2ecb94f8, 0x2fad7661, 0xef72f8a0, 0x29860033, 0xe9598ef2,\n+    0xe83f6c6b, 0x28e0e2aa, 0xabf5d983, 0x6b2a5742, 0x6a4cb5db,\n+    0xaa933b1a},\n+   {0x00000000, 0x6f4ca59b, 0x9f9e3bec, 0xf0d29e77, 0x7f3b0603,\n+    0x1077a398, 0xe0a53def, 0x8fe99874, 0xfe760c06, 0x913aa99d,\n+    0x61e837ea, 0x0ea49271, 0x814d0a05, 0xee01af9e, 0x1ed331e9,\n+    0x719f9472, 0xfced180c, 0x93a1bd97, 0x637323e0, 0x0c3f867b,\n+    0x83d61e0f, 0xec9abb94, 0x1c4825e3, 0x73048078, 0x029b140a,\n+    0x6dd7b191, 0x9d052fe6, 0xf2498a7d, 0x7da01209, 0x12ecb792,\n+    0xe23e29e5, 0x8d728c7e, 0xf8db3118, 0x97979483, 0x67450af4,\n+    0x0809af6f, 0x87e0371b, 0xe8ac9280, 0x187e0cf7, 0x7732a96c,\n+    0x06ad3d1e, 0x69e19885, 0x993306f2, 0xf67fa369, 0x79963b1d,\n+    0x16da9e86, 0xe60800f1, 0x8944a56a, 0x04362914, 0x6b7a8c8f,\n+    0x9ba812f8, 0xf4e4b763, 0x7b0d2f17, 0x14418a8c, 0xe49314fb,\n+    0x8bdfb160, 0xfa402512, 0x950c8089, 0x65de1efe, 0x0a92bb65,\n+    0x857b2311, 0xea37868a, 0x1ae518fd, 0x75a9bd66, 0xf0b76330,\n+    0x9ffbc6ab, 0x6f2958dc, 0x0065fd47, 0x8f8c6533, 0xe0c0c0a8,\n+    0x10125edf, 0x7f5efb44, 0x0ec16f36, 0x618dcaad, 0x915f54da,\n+    0xfe13f141, 0x71fa6935, 0x1eb6ccae, 0xee6452d9, 0x8128f742,\n+    0x0c5a7b3c, 0x6316dea7, 0x93c440d0, 0xfc88e54b, 0x73617d3f,\n+    0x1c2dd8a4, 0xecff46d3, 0x83b3e348, 0xf22c773a, 0x9d60d2a1,\n+    0x6db24cd6, 0x02fee94d, 0x8d177139, 0xe25bd4a2, 0x12894ad5,\n+    0x7dc5ef4e, 0x086c5228, 0x6720f7b3, 0x97f269c4, 0xf8becc5f,\n+    0x7757542b, 0x181bf1b0, 0xe8c96fc7, 0x8785ca5c, 0xf61a5e2e,\n+    0x9956fbb5, 0x698465c2, 0x06c8c059, 0x8921582d, 0xe66dfdb6,\n+    0x16bf63c1, 0x79f3c65a, 0xf4814a24, 0x9bcdefbf, 0x6b1f71c8,\n+    0x0453d453, 0x8bba4c27, 0xe4f6e9bc, 0x142477cb, 0x7b68d250,\n+    0x0af74622, 0x65bbe3b9, 0x95697dce, 0xfa25d855, 0x75cc4021,\n+    0x1a80e5ba, 0xea527bcd, 0x851ede56, 0xe06fc760, 0x8f2362fb,\n+    0x7ff1fc8c, 0x10bd5917, 0x9f54c163, 0xf01864f8, 0x00cafa8f,\n+    0x6f865f14, 0x1e19cb66, 0x71556efd, 0x8187f08a, 0xeecb5511,\n+    0x6122cd65, 0x0e6e68fe, 0xfebcf689, 0x91f05312, 0x1c82df6c,\n+    0x73ce7af7, 0x831ce480, 0xec50411b, 0x63b9d96f, 0x0cf57cf4,\n+    0xfc27e283, 0x936b4718, 0xe2f4d36a, 0x8db876f1, 0x7d6ae886,\n+    0x12264d1d, 0x9dcfd569, 0xf28370f2, 0x0251ee85, 0x6d1d4b1e,\n+    0x18b4f678, 0x77f853e3, 0x872acd94, 0xe866680f, 0x678ff07b,\n+    0x08c355e0, 0xf811cb97, 0x975d6e0c, 0xe6c2fa7e, 0x898e5fe5,\n+    0x795cc192, 0x16106409, 0x99f9fc7d, 0xf6b559e6, 0x0667c791,\n+    0x692b620a, 0xe459ee74, 0x8b154bef, 0x7bc7d598, 0x148b7003,\n+    0x9b62e877, 0xf42e4dec, 0x04fcd39b, 0x6bb07600, 0x1a2fe272,\n+    0x756347e9, 0x85b1d99e, 0xeafd7c05, 0x6514e471, 0x0a5841ea,\n+    0xfa8adf9d, 0x95c67a06, 0x10d8a450, 0x7f9401cb, 0x8f469fbc,\n+    0xe00a3a27, 0x6fe3a253, 0x00af07c8, 0xf07d99bf, 0x9f313c24,\n+    0xeeaea856, 0x81e20dcd, 0x713093ba, 0x1e7c3621, 0x9195ae55,\n+    0xfed90bce, 0x0e0b95b9, 0x61473022, 0xec35bc5c, 0x837919c7,\n+    0x73ab87b0, 0x1ce7222b, 0x930eba5f, 0xfc421fc4, 0x0c9081b3,\n+    0x63dc2428, 0x1243b05a, 0x7d0f15c1, 0x8ddd8bb6, 0xe2912e2d,\n+    0x6d78b659, 0x023413c2, 0xf2e68db5, 0x9daa282e, 0xe8039548,\n+    0x874f30d3, 0x779daea4, 0x18d10b3f, 0x9738934b, 0xf87436d0,\n+    0x08a6a8a7, 0x67ea0d3c, 0x1675994e, 0x79393cd5, 0x89eba2a2,\n+    0xe6a70739, 0x694e9f4d, 0x06023ad6, 0xf6d0a4a1, 0x999c013a,\n+    0x14ee8d44, 0x7ba228df, 0x8b70b6a8, 0xe43c1333, 0x6bd58b47,\n+    0x04992edc, 0xf44bb0ab, 0x9b071530, 0xea988142, 0x85d424d9,\n+    0x7506baae, 0x1a4a1f35, 0x95a38741, 0xfaef22da, 0x0a3dbcad,\n+    0x65711936}};\n+\n+#endif\n+\n+#endif\n+\n+#if N == 4\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xf1da05aa, 0x38c50d15, 0xc91f08bf, 0x718a1a2a,\n+    0x80501f80, 0x494f173f, 0xb8951295, 0xe3143454, 0x12ce31fe,\n+    0xdbd13941, 0x2a0b3ceb, 0x929e2e7e, 0x63442bd4, 0xaa5b236b,\n+    0x5b8126c1, 0x1d596ee9, 0xec836b43, 0x259c63fc, 0xd4466656,\n+    0x6cd374c3, 0x9d097169, 0x541679d6, 0xa5cc7c7c, 0xfe4d5abd,\n+    0x0f975f17, 0xc68857a8, 0x37525202, 0x8fc74097, 0x7e1d453d,\n+    0xb7024d82, 0x46d84828, 0x3ab2ddd2, 0xcb68d878, 0x0277d0c7,\n+    0xf3add56d, 0x4b38c7f8, 0xbae2c252, 0x73fdcaed, 0x8227cf47,\n+    0xd9a6e986, 0x287cec2c, 0xe163e493, 0x10b9e139, 0xa82cf3ac,\n+    0x59f6f606, 0x90e9feb9, 0x6133fb13, 0x27ebb33b, 0xd631b691,\n+    0x1f2ebe2e, 0xeef4bb84, 0x5661a911, 0xa7bbacbb, 0x6ea4a404,\n+    0x9f7ea1ae, 0xc4ff876f, 0x352582c5, 0xfc3a8a7a, 0x0de08fd0,\n+    0xb5759d45, 0x44af98ef, 0x8db09050, 0x7c6a95fa, 0x7565bba4,\n+    0x84bfbe0e, 0x4da0b6b1, 0xbc7ab31b, 0x04efa18e, 0xf535a424,\n+    0x3c2aac9b, 0xcdf0a931, 0x96718ff0, 0x67ab8a5a, 0xaeb482e5,\n+    0x5f6e874f, 0xe7fb95da, 0x16219070, 0xdf3e98cf, 0x2ee49d65,\n+    0x683cd54d, 0x99e6d0e7, 0x50f9d858, 0xa123ddf2, 0x19b6cf67,\n+    0xe86ccacd, 0x2173c272, 0xd0a9c7d8, 0x8b28e119, 0x7af2e4b3,\n+    0xb3edec0c, 0x4237e9a6, 0xfaa2fb33, 0x0b78fe99, 0xc267f626,\n+    0x33bdf38c, 0x4fd76676, 0xbe0d63dc, 0x77126b63, 0x86c86ec9,\n+    0x3e5d7c5c, 0xcf8779f6, 0x06987149, 0xf74274e3, 0xacc35222,\n+    0x5d195788, 0x94065f37, 0x65dc5a9d, 0xdd494808, 0x2c934da2,\n+    0xe58c451d, 0x145640b7, 0x528e089f, 0xa3540d35, 0x6a4b058a,\n+    0x9b910020, 0x230412b5, 0xd2de171f, 0x1bc11fa0, 0xea1b1a0a,\n+    0xb19a3ccb, 0x40403961, 0x895f31de, 0x78853474, 0xc01026e1,\n+    0x31ca234b, 0xf8d52bf4, 0x090f2e5e, 0xeacb7748, 0x1b1172e2,\n+    0xd20e7a5d, 0x23d47ff7, 0x9b416d62, 0x6a9b68c8, 0xa3846077,\n+    0x525e65dd, 0x09df431c, 0xf80546b6, 0x311a4e09, 0xc0c04ba3,\n+    0x78555936, 0x898f5c9c, 0x40905423, 0xb14a5189, 0xf79219a1,\n+    0x06481c0b, 0xcf5714b4, 0x3e8d111e, 0x8618038b, 0x77c20621,\n+    0xbedd0e9e, 0x4f070b34, 0x14862df5, 0xe55c285f, 0x2c4320e0,\n+    0xdd99254a, 0x650c37df, 0x94d63275, 0x5dc93aca, 0xac133f60,\n+    0xd079aa9a, 0x21a3af30, 0xe8bca78f, 0x1966a225, 0xa1f3b0b0,\n+    0x5029b51a, 0x9936bda5, 0x68ecb80f, 0x336d9ece, 0xc2b79b64,\n+    0x0ba893db, 0xfa729671, 0x42e784e4, 0xb33d814e, 0x7a2289f1,\n+    0x8bf88c5b, 0xcd20c473, 0x3cfac1d9, 0xf5e5c966, 0x043fcccc,\n+    0xbcaade59, 0x4d70dbf3, 0x846fd34c, 0x75b5d6e6, 0x2e34f027,\n+    0xdfeef58d, 0x16f1fd32, 0xe72bf898, 0x5fbeea0d, 0xae64efa7,\n+    0x677be718, 0x96a1e2b2, 0x9faeccec, 0x6e74c946, 0xa76bc1f9,\n+    0x56b1c453, 0xee24d6c6, 0x1ffed36c, 0xd6e1dbd3, 0x273bde79,\n+    0x7cbaf8b8, 0x8d60fd12, 0x447ff5ad, 0xb5a5f007, 0x0d30e292,\n+    0xfceae738, 0x35f5ef87, 0xc42fea2d, 0x82f7a205, 0x732da7af,\n+    0xba32af10, 0x4be8aaba, 0xf37db82f, 0x02a7bd85, 0xcbb8b53a,\n+    0x3a62b090, 0x61e39651, 0x903993fb, 0x59269b44, 0xa8fc9eee,\n+    0x10698c7b, 0xe1b389d1, 0x28ac816e, 0xd97684c4, 0xa51c113e,\n+    0x54c61494, 0x9dd91c2b, 0x6c031981, 0xd4960b14, 0x254c0ebe,\n+    0xec530601, 0x1d8903ab, 0x4608256a, 0xb7d220c0, 0x7ecd287f,\n+    0x8f172dd5, 0x37823f40, 0xc6583aea, 0x0f473255, 0xfe9d37ff,\n+    0xb8457fd7, 0x499f7a7d, 0x808072c2, 0x715a7768, 0xc9cf65fd,\n+    0x38156057, 0xf10a68e8, 0x00d06d42, 0x5b514b83, 0xaa8b4e29,\n+    0x63944696, 0x924e433c, 0x2adb51a9, 0xdb015403, 0x121e5cbc,\n+    0xe3c45916},\n+   {0x00000000, 0x0ee7e8d1, 0x1dcfd1a2, 0x13283973, 0x3b9fa344,\n+    0x35784b95, 0x265072e6, 0x28b79a37, 0x773f4688, 0x79d8ae59,\n+    0x6af0972a, 0x64177ffb, 0x4ca0e5cc, 0x42470d1d, 0x516f346e,\n+    0x5f88dcbf, 0xee7e8d10, 0xe09965c1, 0xf3b15cb2, 0xfd56b463,\n+    0xd5e12e54, 0xdb06c685, 0xc82efff6, 0xc6c91727, 0x9941cb98,\n+    0x97a62349, 0x848e1a3a, 0x8a69f2eb, 0xa2de68dc, 0xac39800d,\n+    0xbf11b97e, 0xb1f651af, 0x078c1c61, 0x096bf4b0, 0x1a43cdc3,\n+    0x14a42512, 0x3c13bf25, 0x32f457f4, 0x21dc6e87, 0x2f3b8656,\n+    0x70b35ae9, 0x7e54b238, 0x6d7c8b4b, 0x639b639a, 0x4b2cf9ad,\n+    0x45cb117c, 0x56e3280f, 0x5804c0de, 0xe9f29171, 0xe71579a0,\n+    0xf43d40d3, 0xfadaa802, 0xd26d3235, 0xdc8adae4, 0xcfa2e397,\n+    0xc1450b46, 0x9ecdd7f9, 0x902a3f28, 0x8302065b, 0x8de5ee8a,\n+    0xa55274bd, 0xabb59c6c, 0xb89da51f, 0xb67a4dce, 0x0f1838c2,\n+    0x01ffd013, 0x12d7e960, 0x1c3001b1, 0x34879b86, 0x3a607357,\n+    0x29484a24, 0x27afa2f5, 0x78277e4a, 0x76c0969b, 0x65e8afe8,\n+    0x6b0f4739, 0x43b8dd0e, 0x4d5f35df, 0x5e770cac, 0x5090e47d,\n+    0xe166b5d2, 0xef815d03, 0xfca96470, 0xf24e8ca1, 0xdaf91696,\n+    0xd41efe47, 0xc736c734, 0xc9d12fe5, 0x9659f35a, 0x98be1b8b,\n+    0x8b9622f8, 0x8571ca29, 0xadc6501e, 0xa321b8cf, 0xb00981bc,\n+    0xbeee696d, 0x089424a3, 0x0673cc72, 0x155bf501, 0x1bbc1dd0,\n+    0x330b87e7, 0x3dec6f36, 0x2ec45645, 0x2023be94, 0x7fab622b,\n+    0x714c8afa, 0x6264b389, 0x6c835b58, 0x4434c16f, 0x4ad329be,\n+    0x59fb10cd, 0x571cf81c, 0xe6eaa9b3, 0xe80d4162, 0xfb257811,\n+    0xf5c290c0, 0xdd750af7, 0xd392e226, 0xc0badb55, 0xce5d3384,\n+    0x91d5ef3b, 0x9f3207ea, 0x8c1a3e99, 0x82fdd648, 0xaa4a4c7f,\n+    0xa4ada4ae, 0xb7859ddd, 0xb962750c, 0x1e307184, 0x10d79955,\n+    0x03ffa026, 0x0d1848f7, 0x25afd2c0, 0x2b483a11, 0x38600362,\n+    0x3687ebb3, 0x690f370c, 0x67e8dfdd, 0x74c0e6ae, 0x7a270e7f,\n+    0x52909448, 0x5c777c99, 0x4f5f45ea, 0x41b8ad3b, 0xf04efc94,\n+    0xfea91445, 0xed812d36, 0xe366c5e7, 0xcbd15fd0, 0xc536b701,\n+    0xd61e8e72, 0xd8f966a3, 0x8771ba1c, 0x899652cd, 0x9abe6bbe,\n+    0x9459836f, 0xbcee1958, 0xb209f189, 0xa121c8fa, 0xafc6202b,\n+    0x19bc6de5, 0x175b8534, 0x0473bc47, 0x0a945496, 0x2223cea1,\n+    0x2cc42670, 0x3fec1f03, 0x310bf7d2, 0x6e832b6d, 0x6064c3bc,\n+    0x734cfacf, 0x7dab121e, 0x551c8829, 0x5bfb60f8, 0x48d3598b,\n+    0x4634b15a, 0xf7c2e0f5, 0xf9250824, 0xea0d3157, 0xe4ead986,\n+    0xcc5d43b1, 0xc2baab60, 0xd1929213, 0xdf757ac2, 0x80fda67d,\n+    0x8e1a4eac, 0x9d3277df, 0x93d59f0e, 0xbb620539, 0xb585ede8,\n+    0xa6add49b, 0xa84a3c4a, 0x11284946, 0x1fcfa197, 0x0ce798e4,\n+    0x02007035, 0x2ab7ea02, 0x245002d3, 0x37783ba0, 0x399fd371,\n+    0x66170fce, 0x68f0e71f, 0x7bd8de6c, 0x753f36bd, 0x5d88ac8a,\n+    0x536f445b, 0x40477d28, 0x4ea095f9, 0xff56c456, 0xf1b12c87,\n+    0xe29915f4, 0xec7efd25, 0xc4c96712, 0xca2e8fc3, 0xd906b6b0,\n+    0xd7e15e61, 0x886982de, 0x868e6a0f, 0x95a6537c, 0x9b41bbad,\n+    0xb3f6219a, 0xbd11c94b, 0xae39f038, 0xa0de18e9, 0x16a45527,\n+    0x1843bdf6, 0x0b6b8485, 0x058c6c54, 0x2d3bf663, 0x23dc1eb2,\n+    0x30f427c1, 0x3e13cf10, 0x619b13af, 0x6f7cfb7e, 0x7c54c20d,\n+    0x72b32adc, 0x5a04b0eb, 0x54e3583a, 0x47cb6149, 0x492c8998,\n+    0xf8dad837, 0xf63d30e6, 0xe5150995, 0xebf2e144, 0xc3457b73,\n+    0xcda293a2, 0xde8aaad1, 0xd06d4200, 0x8fe59ebf, 0x8102766e,\n+    0x922a4f1d, 0x9ccda7cc, 0xb47a3dfb, 0xba9dd52a, 0xa9b5ec59,\n+    0xa7520488},\n+   {0x00000000, 0x3c60e308, 0x78c1c610, 0x44a12518, 0xf1838c20,\n+    0xcde36f28, 0x89424a30, 0xb522a938, 0x38761e01, 0x0416fd09,\n+    0x40b7d811, 0x7cd73b19, 0xc9f59221, 0xf5957129, 0xb1345431,\n+    0x8d54b739, 0x70ec3c02, 0x4c8cdf0a, 0x082dfa12, 0x344d191a,\n+    0x816fb022, 0xbd0f532a, 0xf9ae7632, 0xc5ce953a, 0x489a2203,\n+    0x74fac10b, 0x305be413, 0x0c3b071b, 0xb919ae23, 0x85794d2b,\n+    0xc1d86833, 0xfdb88b3b, 0xe1d87804, 0xddb89b0c, 0x9919be14,\n+    0xa5795d1c, 0x105bf424, 0x2c3b172c, 0x689a3234, 0x54fad13c,\n+    0xd9ae6605, 0xe5ce850d, 0xa16fa015, 0x9d0f431d, 0x282dea25,\n+    0x144d092d, 0x50ec2c35, 0x6c8ccf3d, 0x91344406, 0xad54a70e,\n+    0xe9f58216, 0xd595611e, 0x60b7c826, 0x5cd72b2e, 0x18760e36,\n+    0x2416ed3e, 0xa9425a07, 0x9522b90f, 0xd1839c17, 0xede37f1f,\n+    0x58c1d627, 0x64a1352f, 0x20001037, 0x1c60f33f, 0x18c1f649,\n+    0x24a11541, 0x60003059, 0x5c60d351, 0xe9427a69, 0xd5229961,\n+    0x9183bc79, 0xade35f71, 0x20b7e848, 0x1cd70b40, 0x58762e58,\n+    0x6416cd50, 0xd1346468, 0xed548760, 0xa9f5a278, 0x95954170,\n+    0x682dca4b, 0x544d2943, 0x10ec0c5b, 0x2c8cef53, 0x99ae466b,\n+    0xa5cea563, 0xe16f807b, 0xdd0f6373, 0x505bd44a, 0x6c3b3742,\n+    0x289a125a, 0x14faf152, 0xa1d8586a, 0x9db8bb62, 0xd9199e7a,\n+    0xe5797d72, 0xf9198e4d, 0xc5796d45, 0x81d8485d, 0xbdb8ab55,\n+    0x089a026d, 0x34fae165, 0x705bc47d, 0x4c3b2775, 0xc16f904c,\n+    0xfd0f7344, 0xb9ae565c, 0x85ceb554, 0x30ec1c6c, 0x0c8cff64,\n+    0x482dda7c, 0x744d3974, 0x89f5b24f, 0xb5955147, 0xf134745f,\n+    0xcd549757, 0x78763e6f, 0x4416dd67, 0x00b7f87f, 0x3cd71b77,\n+    0xb183ac4e, 0x8de34f46, 0xc9426a5e, 0xf5228956, 0x4000206e,\n+    0x7c60c366, 0x38c1e67e, 0x04a10576, 0x3183ec92, 0x0de30f9a,\n+    0x49422a82, 0x7522c98a, 0xc00060b2, 0xfc6083ba, 0xb8c1a6a2,\n+    0x84a145aa, 0x09f5f293, 0x3595119b, 0x71343483, 0x4d54d78b,\n+    0xf8767eb3, 0xc4169dbb, 0x80b7b8a3, 0xbcd75bab, 0x416fd090,\n+    0x7d0f3398, 0x39ae1680, 0x05cef588, 0xb0ec5cb0, 0x8c8cbfb8,\n+    0xc82d9aa0, 0xf44d79a8, 0x7919ce91, 0x45792d99, 0x01d80881,\n+    0x3db8eb89, 0x889a42b1, 0xb4faa1b9, 0xf05b84a1, 0xcc3b67a9,\n+    0xd05b9496, 0xec3b779e, 0xa89a5286, 0x94fab18e, 0x21d818b6,\n+    0x1db8fbbe, 0x5919dea6, 0x65793dae, 0xe82d8a97, 0xd44d699f,\n+    0x90ec4c87, 0xac8caf8f, 0x19ae06b7, 0x25cee5bf, 0x616fc0a7,\n+    0x5d0f23af, 0xa0b7a894, 0x9cd74b9c, 0xd8766e84, 0xe4168d8c,\n+    0x513424b4, 0x6d54c7bc, 0x29f5e2a4, 0x159501ac, 0x98c1b695,\n+    0xa4a1559d, 0xe0007085, 0xdc60938d, 0x69423ab5, 0x5522d9bd,\n+    0x1183fca5, 0x2de31fad, 0x29421adb, 0x1522f9d3, 0x5183dccb,\n+    0x6de33fc3, 0xd8c196fb, 0xe4a175f3, 0xa00050eb, 0x9c60b3e3,\n+    0x113404da, 0x2d54e7d2, 0x69f5c2ca, 0x559521c2, 0xe0b788fa,\n+    0xdcd76bf2, 0x98764eea, 0xa416ade2, 0x59ae26d9, 0x65cec5d1,\n+    0x216fe0c9, 0x1d0f03c1, 0xa82daaf9, 0x944d49f1, 0xd0ec6ce9,\n+    0xec8c8fe1, 0x61d838d8, 0x5db8dbd0, 0x1919fec8, 0x25791dc0,\n+    0x905bb4f8, 0xac3b57f0, 0xe89a72e8, 0xd4fa91e0, 0xc89a62df,\n+    0xf4fa81d7, 0xb05ba4cf, 0x8c3b47c7, 0x3919eeff, 0x05790df7,\n+    0x41d828ef, 0x7db8cbe7, 0xf0ec7cde, 0xcc8c9fd6, 0x882dbace,\n+    0xb44d59c6, 0x016ff0fe, 0x3d0f13f6, 0x79ae36ee, 0x45ced5e6,\n+    0xb8765edd, 0x8416bdd5, 0xc0b798cd, 0xfcd77bc5, 0x49f5d2fd,\n+    0x759531f5, 0x313414ed, 0x0d54f7e5, 0x800040dc, 0xbc60a3d4,\n+    0xf8c186cc, 0xc4a165c4, 0x7183ccfc, 0x4de32ff4, 0x09420aec,\n+    0x3522e9e4},\n+   {0x00000000, 0x6307d924, 0xc60fb248, 0xa5086b6c, 0x576e62d1,\n+    0x3469bbf5, 0x9161d099, 0xf26609bd, 0xaedcc5a2, 0xcddb1c86,\n+    0x68d377ea, 0x0bd4aece, 0xf9b2a773, 0x9ab57e57, 0x3fbd153b,\n+    0x5cbacc1f, 0x86c88d05, 0xe5cf5421, 0x40c73f4d, 0x23c0e669,\n+    0xd1a6efd4, 0xb2a136f0, 0x17a95d9c, 0x74ae84b8, 0x281448a7,\n+    0x4b139183, 0xee1bfaef, 0x8d1c23cb, 0x7f7a2a76, 0x1c7df352,\n+    0xb975983e, 0xda72411a, 0xd6e01c4b, 0xb5e7c56f, 0x10efae03,\n+    0x73e87727, 0x818e7e9a, 0xe289a7be, 0x4781ccd2, 0x248615f6,\n+    0x783cd9e9, 0x1b3b00cd, 0xbe336ba1, 0xdd34b285, 0x2f52bb38,\n+    0x4c55621c, 0xe95d0970, 0x8a5ad054, 0x5028914e, 0x332f486a,\n+    0x96272306, 0xf520fa22, 0x0746f39f, 0x64412abb, 0xc14941d7,\n+    0xa24e98f3, 0xfef454ec, 0x9df38dc8, 0x38fbe6a4, 0x5bfc3f80,\n+    0xa99a363d, 0xca9def19, 0x6f958475, 0x0c925d51, 0x76b13ed7,\n+    0x15b6e7f3, 0xb0be8c9f, 0xd3b955bb, 0x21df5c06, 0x42d88522,\n+    0xe7d0ee4e, 0x84d7376a, 0xd86dfb75, 0xbb6a2251, 0x1e62493d,\n+    0x7d659019, 0x8f0399a4, 0xec044080, 0x490c2bec, 0x2a0bf2c8,\n+    0xf079b3d2, 0x937e6af6, 0x3676019a, 0x5571d8be, 0xa717d103,\n+    0xc4100827, 0x6118634b, 0x021fba6f, 0x5ea57670, 0x3da2af54,\n+    0x98aac438, 0xfbad1d1c, 0x09cb14a1, 0x6acccd85, 0xcfc4a6e9,\n+    0xacc37fcd, 0xa051229c, 0xc356fbb8, 0x665e90d4, 0x055949f0,\n+    0xf73f404d, 0x94389969, 0x3130f205, 0x52372b21, 0x0e8de73e,\n+    0x6d8a3e1a, 0xc8825576, 0xab858c52, 0x59e385ef, 0x3ae45ccb,\n+    0x9fec37a7, 0xfcebee83, 0x2699af99, 0x459e76bd, 0xe0961dd1,\n+    0x8391c4f5, 0x71f7cd48, 0x12f0146c, 0xb7f87f00, 0xd4ffa624,\n+    0x88456a3b, 0xeb42b31f, 0x4e4ad873, 0x2d4d0157, 0xdf2b08ea,\n+    0xbc2cd1ce, 0x1924baa2, 0x7a236386, 0xed627dae, 0x8e65a48a,\n+    0x2b6dcfe6, 0x486a16c2, 0xba0c1f7f, 0xd90bc65b, 0x7c03ad37,\n+    0x1f047413, 0x43beb80c, 0x20b96128, 0x85b10a44, 0xe6b6d360,\n+    0x14d0dadd, 0x77d703f9, 0xd2df6895, 0xb1d8b1b1, 0x6baaf0ab,\n+    0x08ad298f, 0xada542e3, 0xcea29bc7, 0x3cc4927a, 0x5fc34b5e,\n+    0xfacb2032, 0x99ccf916, 0xc5763509, 0xa671ec2d, 0x03798741,\n+    0x607e5e65, 0x921857d8, 0xf11f8efc, 0x5417e590, 0x37103cb4,\n+    0x3b8261e5, 0x5885b8c1, 0xfd8dd3ad, 0x9e8a0a89, 0x6cec0334,\n+    0x0febda10, 0xaae3b17c, 0xc9e46858, 0x955ea447, 0xf6597d63,\n+    0x5351160f, 0x3056cf2b, 0xc230c696, 0xa1371fb2, 0x043f74de,\n+    0x6738adfa, 0xbd4aece0, 0xde4d35c4, 0x7b455ea8, 0x1842878c,\n+    0xea248e31, 0x89235715, 0x2c2b3c79, 0x4f2ce55d, 0x13962942,\n+    0x7091f066, 0xd5999b0a, 0xb69e422e, 0x44f84b93, 0x27ff92b7,\n+    0x82f7f9db, 0xe1f020ff, 0x9bd34379, 0xf8d49a5d, 0x5ddcf131,\n+    0x3edb2815, 0xccbd21a8, 0xafbaf88c, 0x0ab293e0, 0x69b54ac4,\n+    0x350f86db, 0x56085fff, 0xf3003493, 0x9007edb7, 0x6261e40a,\n+    0x01663d2e, 0xa46e5642, 0xc7698f66, 0x1d1bce7c, 0x7e1c1758,\n+    0xdb147c34, 0xb813a510, 0x4a75acad, 0x29727589, 0x8c7a1ee5,\n+    0xef7dc7c1, 0xb3c70bde, 0xd0c0d2fa, 0x75c8b996, 0x16cf60b2,\n+    0xe4a9690f, 0x87aeb02b, 0x22a6db47, 0x41a10263, 0x4d335f32,\n+    0x2e348616, 0x8b3ced7a, 0xe83b345e, 0x1a5d3de3, 0x795ae4c7,\n+    0xdc528fab, 0xbf55568f, 0xe3ef9a90, 0x80e843b4, 0x25e028d8,\n+    0x46e7f1fc, 0xb481f841, 0xd7862165, 0x728e4a09, 0x1189932d,\n+    0xcbfbd237, 0xa8fc0b13, 0x0df4607f, 0x6ef3b95b, 0x9c95b0e6,\n+    0xff9269c2, 0x5a9a02ae, 0x399ddb8a, 0x65271795, 0x0620ceb1,\n+    0xa328a5dd, 0xc02f7cf9, 0x32497544, 0x514eac60, 0xf446c70c,\n+    0x97411e28},\n+   {0x00000000, 0x01b5fd1d, 0x036bfa3a, 0x02de0727, 0x06d7f474,\n+    0x07620969, 0x05bc0e4e, 0x0409f353, 0x0dafe8e8, 0x0c1a15f5,\n+    0x0ec412d2, 0x0f71efcf, 0x0b781c9c, 0x0acde181, 0x0813e6a6,\n+    0x09a61bbb, 0x1b5fd1d0, 0x1aea2ccd, 0x18342bea, 0x1981d6f7,\n+    0x1d8825a4, 0x1c3dd8b9, 0x1ee3df9e, 0x1f562283, 0x16f03938,\n+    0x1745c425, 0x159bc302, 0x142e3e1f, 0x1027cd4c, 0x11923051,\n+    0x134c3776, 0x12f9ca6b, 0x36bfa3a0, 0x370a5ebd, 0x35d4599a,\n+    0x3461a487, 0x306857d4, 0x31ddaac9, 0x3303adee, 0x32b650f3,\n+    0x3b104b48, 0x3aa5b655, 0x387bb172, 0x39ce4c6f, 0x3dc7bf3c,\n+    0x3c724221, 0x3eac4506, 0x3f19b81b, 0x2de07270, 0x2c558f6d,\n+    0x2e8b884a, 0x2f3e7557, 0x2b378604, 0x2a827b19, 0x285c7c3e,\n+    0x29e98123, 0x204f9a98, 0x21fa6785, 0x232460a2, 0x22919dbf,\n+    0x26986eec, 0x272d93f1, 0x25f394d6, 0x244669cb, 0x6d7f4740,\n+    0x6ccaba5d, 0x6e14bd7a, 0x6fa14067, 0x6ba8b334, 0x6a1d4e29,\n+    0x68c3490e, 0x6976b413, 0x60d0afa8, 0x616552b5, 0x63bb5592,\n+    0x620ea88f, 0x66075bdc, 0x67b2a6c1, 0x656ca1e6, 0x64d95cfb,\n+    0x76209690, 0x77956b8d, 0x754b6caa, 0x74fe91b7, 0x70f762e4,\n+    0x71429ff9, 0x739c98de, 0x722965c3, 0x7b8f7e78, 0x7a3a8365,\n+    0x78e48442, 0x7951795f, 0x7d588a0c, 0x7ced7711, 0x7e337036,\n+    0x7f868d2b, 0x5bc0e4e0, 0x5a7519fd, 0x58ab1eda, 0x591ee3c7,\n+    0x5d171094, 0x5ca2ed89, 0x5e7ceaae, 0x5fc917b3, 0x566f0c08,\n+    0x57daf115, 0x5504f632, 0x54b10b2f, 0x50b8f87c, 0x510d0561,\n+    0x53d30246, 0x5266ff5b, 0x409f3530, 0x412ac82d, 0x43f4cf0a,\n+    0x42413217, 0x4648c144, 0x47fd3c59, 0x45233b7e, 0x4496c663,\n+    0x4d30ddd8, 0x4c8520c5, 0x4e5b27e2, 0x4feedaff, 0x4be729ac,\n+    0x4a52d4b1, 0x488cd396, 0x49392e8b, 0xdafe8e80, 0xdb4b739d,\n+    0xd99574ba, 0xd82089a7, 0xdc297af4, 0xdd9c87e9, 0xdf4280ce,\n+    0xdef77dd3, 0xd7516668, 0xd6e49b75, 0xd43a9c52, 0xd58f614f,\n+    0xd186921c, 0xd0336f01, 0xd2ed6826, 0xd358953b, 0xc1a15f50,\n+    0xc014a24d, 0xc2caa56a, 0xc37f5877, 0xc776ab24, 0xc6c35639,\n+    0xc41d511e, 0xc5a8ac03, 0xcc0eb7b8, 0xcdbb4aa5, 0xcf654d82,\n+    0xced0b09f, 0xcad943cc, 0xcb6cbed1, 0xc9b2b9f6, 0xc80744eb,\n+    0xec412d20, 0xedf4d03d, 0xef2ad71a, 0xee9f2a07, 0xea96d954,\n+    0xeb232449, 0xe9fd236e, 0xe848de73, 0xe1eec5c8, 0xe05b38d5,\n+    0xe2853ff2, 0xe330c2ef, 0xe73931bc, 0xe68ccca1, 0xe452cb86,\n+    0xe5e7369b, 0xf71efcf0, 0xf6ab01ed, 0xf47506ca, 0xf5c0fbd7,\n+    0xf1c90884, 0xf07cf599, 0xf2a2f2be, 0xf3170fa3, 0xfab11418,\n+    0xfb04e905, 0xf9daee22, 0xf86f133f, 0xfc66e06c, 0xfdd31d71,\n+    0xff0d1a56, 0xfeb8e74b, 0xb781c9c0, 0xb63434dd, 0xb4ea33fa,\n+    0xb55fcee7, 0xb1563db4, 0xb0e3c0a9, 0xb23dc78e, 0xb3883a93,\n+    0xba2e2128, 0xbb9bdc35, 0xb945db12, 0xb8f0260f, 0xbcf9d55c,\n+    0xbd4c2841, 0xbf922f66, 0xbe27d27b, 0xacde1810, 0xad6be50d,\n+    0xafb5e22a, 0xae001f37, 0xaa09ec64, 0xabbc1179, 0xa962165e,\n+    0xa8d7eb43, 0xa171f0f8, 0xa0c40de5, 0xa21a0ac2, 0xa3aff7df,\n+    0xa7a6048c, 0xa613f991, 0xa4cdfeb6, 0xa57803ab, 0x813e6a60,\n+    0x808b977d, 0x8255905a, 0x83e06d47, 0x87e99e14, 0x865c6309,\n+    0x8482642e, 0x85379933, 0x8c918288, 0x8d247f95, 0x8ffa78b2,\n+    0x8e4f85af, 0x8a4676fc, 0x8bf38be1, 0x892d8cc6, 0x889871db,\n+    0x9a61bbb0, 0x9bd446ad, 0x990a418a, 0x98bfbc97, 0x9cb64fc4,\n+    0x9d03b2d9, 0x9fddb5fe, 0x9e6848e3, 0x97ce5358, 0x967bae45,\n+    0x94a5a962, 0x9510547f, 0x9119a72c, 0x90ac5a31, 0x92725d16,\n+    0x93c7a00b},\n+   {0x00000000, 0x6e8c1b41, 0xdd183682, 0xb3942dc3, 0x61416b45,\n+    0x0fcd7004, 0xbc595dc7, 0xd2d54686, 0xc282d68a, 0xac0ecdcb,\n+    0x1f9ae008, 0x7116fb49, 0xa3c3bdcf, 0xcd4fa68e, 0x7edb8b4d,\n+    0x1057900c, 0x5e74ab55, 0x30f8b014, 0x836c9dd7, 0xede08696,\n+    0x3f35c010, 0x51b9db51, 0xe22df692, 0x8ca1edd3, 0x9cf67ddf,\n+    0xf27a669e, 0x41ee4b5d, 0x2f62501c, 0xfdb7169a, 0x933b0ddb,\n+    0x20af2018, 0x4e233b59, 0xbce956aa, 0xd2654deb, 0x61f16028,\n+    0x0f7d7b69, 0xdda83def, 0xb32426ae, 0x00b00b6d, 0x6e3c102c,\n+    0x7e6b8020, 0x10e79b61, 0xa373b6a2, 0xcdffade3, 0x1f2aeb65,\n+    0x71a6f024, 0xc232dde7, 0xacbec6a6, 0xe29dfdff, 0x8c11e6be,\n+    0x3f85cb7d, 0x5109d03c, 0x83dc96ba, 0xed508dfb, 0x5ec4a038,\n+    0x3048bb79, 0x201f2b75, 0x4e933034, 0xfd071df7, 0x938b06b6,\n+    0x415e4030, 0x2fd25b71, 0x9c4676b2, 0xf2ca6df3, 0xa2a3ab15,\n+    0xcc2fb054, 0x7fbb9d97, 0x113786d6, 0xc3e2c050, 0xad6edb11,\n+    0x1efaf6d2, 0x7076ed93, 0x60217d9f, 0x0ead66de, 0xbd394b1d,\n+    0xd3b5505c, 0x016016da, 0x6fec0d9b, 0xdc782058, 0xb2f43b19,\n+    0xfcd70040, 0x925b1b01, 0x21cf36c2, 0x4f432d83, 0x9d966b05,\n+    0xf31a7044, 0x408e5d87, 0x2e0246c6, 0x3e55d6ca, 0x50d9cd8b,\n+    0xe34de048, 0x8dc1fb09, 0x5f14bd8f, 0x3198a6ce, 0x820c8b0d,\n+    0xec80904c, 0x1e4afdbf, 0x70c6e6fe, 0xc352cb3d, 0xadded07c,\n+    0x7f0b96fa, 0x11878dbb, 0xa213a078, 0xcc9fbb39, 0xdcc82b35,\n+    0xb2443074, 0x01d01db7, 0x6f5c06f6, 0xbd894070, 0xd3055b31,\n+    0x609176f2, 0x0e1d6db3, 0x403e56ea, 0x2eb24dab, 0x9d266068,\n+    0xf3aa7b29, 0x217f3daf, 0x4ff326ee, 0xfc670b2d, 0x92eb106c,\n+    0x82bc8060, 0xec309b21, 0x5fa4b6e2, 0x3128ada3, 0xe3fdeb25,\n+    0x8d71f064, 0x3ee5dda7, 0x5069c6e6, 0x9e36506b, 0xf0ba4b2a,\n+    0x432e66e9, 0x2da27da8, 0xff773b2e, 0x91fb206f, 0x226f0dac,\n+    0x4ce316ed, 0x5cb486e1, 0x32389da0, 0x81acb063, 0xef20ab22,\n+    0x3df5eda4, 0x5379f6e5, 0xe0eddb26, 0x8e61c067, 0xc042fb3e,\n+    0xaecee07f, 0x1d5acdbc, 0x73d6d6fd, 0xa103907b, 0xcf8f8b3a,\n+    0x7c1ba6f9, 0x1297bdb8, 0x02c02db4, 0x6c4c36f5, 0xdfd81b36,\n+    0xb1540077, 0x638146f1, 0x0d0d5db0, 0xbe997073, 0xd0156b32,\n+    0x22df06c1, 0x4c531d80, 0xffc73043, 0x914b2b02, 0x439e6d84,\n+    0x2d1276c5, 0x9e865b06, 0xf00a4047, 0xe05dd04b, 0x8ed1cb0a,\n+    0x3d45e6c9, 0x53c9fd88, 0x811cbb0e, 0xef90a04f, 0x5c048d8c,\n+    0x328896cd, 0x7cabad94, 0x1227b6d5, 0xa1b39b16, 0xcf3f8057,\n+    0x1deac6d1, 0x7366dd90, 0xc0f2f053, 0xae7eeb12, 0xbe297b1e,\n+    0xd0a5605f, 0x63314d9c, 0x0dbd56dd, 0xdf68105b, 0xb1e40b1a,\n+    0x027026d9, 0x6cfc3d98, 0x3c95fb7e, 0x5219e03f, 0xe18dcdfc,\n+    0x8f01d6bd, 0x5dd4903b, 0x33588b7a, 0x80cca6b9, 0xee40bdf8,\n+    0xfe172df4, 0x909b36b5, 0x230f1b76, 0x4d830037, 0x9f5646b1,\n+    0xf1da5df0, 0x424e7033, 0x2cc26b72, 0x62e1502b, 0x0c6d4b6a,\n+    0xbff966a9, 0xd1757de8, 0x03a03b6e, 0x6d2c202f, 0xdeb80dec,\n+    0xb03416ad, 0xa06386a1, 0xceef9de0, 0x7d7bb023, 0x13f7ab62,\n+    0xc122ede4, 0xafaef6a5, 0x1c3adb66, 0x72b6c027, 0x807cadd4,\n+    0xeef0b695, 0x5d649b56, 0x33e88017, 0xe13dc691, 0x8fb1ddd0,\n+    0x3c25f013, 0x52a9eb52, 0x42fe7b5e, 0x2c72601f, 0x9fe64ddc,\n+    0xf16a569d, 0x23bf101b, 0x4d330b5a, 0xfea72699, 0x902b3dd8,\n+    0xde080681, 0xb0841dc0, 0x03103003, 0x6d9c2b42, 0xbf496dc4,\n+    0xd1c57685, 0x62515b46, 0x0cdd4007, 0x1c8ad00b, 0x7206cb4a,\n+    0xc192e689, 0xaf1efdc8, 0x7dcbbb4e, 0x1347a00f, 0xa0d38dcc,\n+    0xce5f968d},\n+   {0x00000000, 0xe71da697, 0x154a4b6f, 0xf257edf8, 0x2a9496de,\n+    0xcd893049, 0x3fdeddb1, 0xd8c37b26, 0x55292dbc, 0xb2348b2b,\n+    0x406366d3, 0xa77ec044, 0x7fbdbb62, 0x98a01df5, 0x6af7f00d,\n+    0x8dea569a, 0xaa525b78, 0x4d4ffdef, 0xbf181017, 0x5805b680,\n+    0x80c6cda6, 0x67db6b31, 0x958c86c9, 0x7291205e, 0xff7b76c4,\n+    0x1866d053, 0xea313dab, 0x0d2c9b3c, 0xd5efe01a, 0x32f2468d,\n+    0xc0a5ab75, 0x27b80de2, 0x8fd5b0b1, 0x68c81626, 0x9a9ffbde,\n+    0x7d825d49, 0xa541266f, 0x425c80f8, 0xb00b6d00, 0x5716cb97,\n+    0xdafc9d0d, 0x3de13b9a, 0xcfb6d662, 0x28ab70f5, 0xf0680bd3,\n+    0x1775ad44, 0xe52240bc, 0x023fe62b, 0x2587ebc9, 0xc29a4d5e,\n+    0x30cda0a6, 0xd7d00631, 0x0f137d17, 0xe80edb80, 0x1a593678,\n+    0xfd4490ef, 0x70aec675, 0x97b360e2, 0x65e48d1a, 0x82f92b8d,\n+    0x5a3a50ab, 0xbd27f63c, 0x4f701bc4, 0xa86dbd53, 0xc4da6723,\n+    0x23c7c1b4, 0xd1902c4c, 0x368d8adb, 0xee4ef1fd, 0x0953576a,\n+    0xfb04ba92, 0x1c191c05, 0x91f34a9f, 0x76eeec08, 0x84b901f0,\n+    0x63a4a767, 0xbb67dc41, 0x5c7a7ad6, 0xae2d972e, 0x493031b9,\n+    0x6e883c5b, 0x89959acc, 0x7bc27734, 0x9cdfd1a3, 0x441caa85,\n+    0xa3010c12, 0x5156e1ea, 0xb64b477d, 0x3ba111e7, 0xdcbcb770,\n+    0x2eeb5a88, 0xc9f6fc1f, 0x11358739, 0xf62821ae, 0x047fcc56,\n+    0xe3626ac1, 0x4b0fd792, 0xac127105, 0x5e459cfd, 0xb9583a6a,\n+    0x619b414c, 0x8686e7db, 0x74d10a23, 0x93ccacb4, 0x1e26fa2e,\n+    0xf93b5cb9, 0x0b6cb141, 0xec7117d6, 0x34b26cf0, 0xd3afca67,\n+    0x21f8279f, 0xc6e58108, 0xe15d8cea, 0x06402a7d, 0xf417c785,\n+    0x130a6112, 0xcbc91a34, 0x2cd4bca3, 0xde83515b, 0x399ef7cc,\n+    0xb474a156, 0x536907c1, 0xa13eea39, 0x46234cae, 0x9ee03788,\n+    0x79fd911f, 0x8baa7ce7, 0x6cb7da70, 0x52c5c807, 0xb5d86e90,\n+    0x478f8368, 0xa09225ff, 0x78515ed9, 0x9f4cf84e, 0x6d1b15b6,\n+    0x8a06b321, 0x07ece5bb, 0xe0f1432c, 0x12a6aed4, 0xf5bb0843,\n+    0x2d787365, 0xca65d5f2, 0x3832380a, 0xdf2f9e9d, 0xf897937f,\n+    0x1f8a35e8, 0xedddd810, 0x0ac07e87, 0xd20305a1, 0x351ea336,\n+    0xc7494ece, 0x2054e859, 0xadbebec3, 0x4aa31854, 0xb8f4f5ac,\n+    0x5fe9533b, 0x872a281d, 0x60378e8a, 0x92606372, 0x757dc5e5,\n+    0xdd1078b6, 0x3a0dde21, 0xc85a33d9, 0x2f47954e, 0xf784ee68,\n+    0x109948ff, 0xe2cea507, 0x05d30390, 0x8839550a, 0x6f24f39d,\n+    0x9d731e65, 0x7a6eb8f2, 0xa2adc3d4, 0x45b06543, 0xb7e788bb,\n+    0x50fa2e2c, 0x774223ce, 0x905f8559, 0x620868a1, 0x8515ce36,\n+    0x5dd6b510, 0xbacb1387, 0x489cfe7f, 0xaf8158e8, 0x226b0e72,\n+    0xc576a8e5, 0x3721451d, 0xd03ce38a, 0x08ff98ac, 0xefe23e3b,\n+    0x1db5d3c3, 0xfaa87554, 0x961faf24, 0x710209b3, 0x8355e44b,\n+    0x644842dc, 0xbc8b39fa, 0x5b969f6d, 0xa9c17295, 0x4edcd402,\n+    0xc3368298, 0x242b240f, 0xd67cc9f7, 0x31616f60, 0xe9a21446,\n+    0x0ebfb2d1, 0xfce85f29, 0x1bf5f9be, 0x3c4df45c, 0xdb5052cb,\n+    0x2907bf33, 0xce1a19a4, 0x16d96282, 0xf1c4c415, 0x039329ed,\n+    0xe48e8f7a, 0x6964d9e0, 0x8e797f77, 0x7c2e928f, 0x9b333418,\n+    0x43f04f3e, 0xa4ede9a9, 0x56ba0451, 0xb1a7a2c6, 0x19ca1f95,\n+    0xfed7b902, 0x0c8054fa, 0xeb9df26d, 0x335e894b, 0xd4432fdc,\n+    0x2614c224, 0xc10964b3, 0x4ce33229, 0xabfe94be, 0x59a97946,\n+    0xbeb4dfd1, 0x6677a4f7, 0x816a0260, 0x733def98, 0x9420490f,\n+    0xb39844ed, 0x5485e27a, 0xa6d20f82, 0x41cfa915, 0x990cd233,\n+    0x7e1174a4, 0x8c46995c, 0x6b5b3fcb, 0xe6b16951, 0x01accfc6,\n+    0xf3fb223e, 0x14e684a9, 0xcc25ff8f, 0x2b385918, 0xd96fb4e0,\n+    0x3e721277},\n+   {0x00000000, 0xa58b900e, 0x9066265d, 0x35edb653, 0xfbbd4afb,\n+    0x5e36daf5, 0x6bdb6ca6, 0xce50fca8, 0x2c0b93b7, 0x898003b9,\n+    0xbc6db5ea, 0x19e625e4, 0xd7b6d94c, 0x723d4942, 0x47d0ff11,\n+    0xe25b6f1f, 0x5817276e, 0xfd9cb760, 0xc8710133, 0x6dfa913d,\n+    0xa3aa6d95, 0x0621fd9b, 0x33cc4bc8, 0x9647dbc6, 0x741cb4d9,\n+    0xd19724d7, 0xe47a9284, 0x41f1028a, 0x8fa1fe22, 0x2a2a6e2c,\n+    0x1fc7d87f, 0xba4c4871, 0xb02e4edc, 0x15a5ded2, 0x20486881,\n+    0x85c3f88f, 0x4b930427, 0xee189429, 0xdbf5227a, 0x7e7eb274,\n+    0x9c25dd6b, 0x39ae4d65, 0x0c43fb36, 0xa9c86b38, 0x67989790,\n+    0xc213079e, 0xf7feb1cd, 0x527521c3, 0xe83969b2, 0x4db2f9bc,\n+    0x785f4fef, 0xddd4dfe1, 0x13842349, 0xb60fb347, 0x83e20514,\n+    0x2669951a, 0xc432fa05, 0x61b96a0b, 0x5454dc58, 0xf1df4c56,\n+    0x3f8fb0fe, 0x9a0420f0, 0xafe996a3, 0x0a6206ad, 0xbb2d9bf9,\n+    0x1ea60bf7, 0x2b4bbda4, 0x8ec02daa, 0x4090d102, 0xe51b410c,\n+    0xd0f6f75f, 0x757d6751, 0x9726084e, 0x32ad9840, 0x07402e13,\n+    0xa2cbbe1d, 0x6c9b42b5, 0xc910d2bb, 0xfcfd64e8, 0x5976f4e6,\n+    0xe33abc97, 0x46b12c99, 0x735c9aca, 0xd6d70ac4, 0x1887f66c,\n+    0xbd0c6662, 0x88e1d031, 0x2d6a403f, 0xcf312f20, 0x6ababf2e,\n+    0x5f57097d, 0xfadc9973, 0x348c65db, 0x9107f5d5, 0xa4ea4386,\n+    0x0161d388, 0x0b03d525, 0xae88452b, 0x9b65f378, 0x3eee6376,\n+    0xf0be9fde, 0x55350fd0, 0x60d8b983, 0xc553298d, 0x27084692,\n+    0x8283d69c, 0xb76e60cf, 0x12e5f0c1, 0xdcb50c69, 0x793e9c67,\n+    0x4cd32a34, 0xe958ba3a, 0x5314f24b, 0xf69f6245, 0xc372d416,\n+    0x66f94418, 0xa8a9b8b0, 0x0d2228be, 0x38cf9eed, 0x9d440ee3,\n+    0x7f1f61fc, 0xda94f1f2, 0xef7947a1, 0x4af2d7af, 0x84a22b07,\n+    0x2129bb09, 0x14c40d5a, 0xb14f9d54, 0xad2a31b3, 0x08a1a1bd,\n+    0x3d4c17ee, 0x98c787e0, 0x56977b48, 0xf31ceb46, 0xc6f15d15,\n+    0x637acd1b, 0x8121a204, 0x24aa320a, 0x11478459, 0xb4cc1457,\n+    0x7a9ce8ff, 0xdf1778f1, 0xeafacea2, 0x4f715eac, 0xf53d16dd,\n+    0x50b686d3, 0x655b3080, 0xc0d0a08e, 0x0e805c26, 0xab0bcc28,\n+    0x9ee67a7b, 0x3b6dea75, 0xd936856a, 0x7cbd1564, 0x4950a337,\n+    0xecdb3339, 0x228bcf91, 0x87005f9f, 0xb2ede9cc, 0x176679c2,\n+    0x1d047f6f, 0xb88fef61, 0x8d625932, 0x28e9c93c, 0xe6b93594,\n+    0x4332a59a, 0x76df13c9, 0xd35483c7, 0x310fecd8, 0x94847cd6,\n+    0xa169ca85, 0x04e25a8b, 0xcab2a623, 0x6f39362d, 0x5ad4807e,\n+    0xff5f1070, 0x45135801, 0xe098c80f, 0xd5757e5c, 0x70feee52,\n+    0xbeae12fa, 0x1b2582f4, 0x2ec834a7, 0x8b43a4a9, 0x6918cbb6,\n+    0xcc935bb8, 0xf97eedeb, 0x5cf57de5, 0x92a5814d, 0x372e1143,\n+    0x02c3a710, 0xa748371e, 0x1607aa4a, 0xb38c3a44, 0x86618c17,\n+    0x23ea1c19, 0xedbae0b1, 0x483170bf, 0x7ddcc6ec, 0xd85756e2,\n+    0x3a0c39fd, 0x9f87a9f3, 0xaa6a1fa0, 0x0fe18fae, 0xc1b17306,\n+    0x643ae308, 0x51d7555b, 0xf45cc555, 0x4e108d24, 0xeb9b1d2a,\n+    0xde76ab79, 0x7bfd3b77, 0xb5adc7df, 0x102657d1, 0x25cbe182,\n+    0x8040718c, 0x621b1e93, 0xc7908e9d, 0xf27d38ce, 0x57f6a8c0,\n+    0x99a65468, 0x3c2dc466, 0x09c07235, 0xac4be23b, 0xa629e496,\n+    0x03a27498, 0x364fc2cb, 0x93c452c5, 0x5d94ae6d, 0xf81f3e63,\n+    0xcdf28830, 0x6879183e, 0x8a227721, 0x2fa9e72f, 0x1a44517c,\n+    0xbfcfc172, 0x719f3dda, 0xd414add4, 0xe1f91b87, 0x44728b89,\n+    0xfe3ec3f8, 0x5bb553f6, 0x6e58e5a5, 0xcbd375ab, 0x05838903,\n+    0xa008190d, 0x95e5af5e, 0x306e3f50, 0xd235504f, 0x77bec041,\n+    0x42537612, 0xe7d8e61c, 0x29881ab4, 0x8c038aba, 0xb9ee3ce9,\n+    0x1c65ace7}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0x0e908ba500000000, 0x5d26669000000000,\n+    0x53b6ed3500000000, 0xfb4abdfb00000000, 0xf5da365e00000000,\n+    0xa66cdb6b00000000, 0xa8fc50ce00000000, 0xb7930b2c00000000,\n+    0xb903808900000000, 0xeab56dbc00000000, 0xe425e61900000000,\n+    0x4cd9b6d700000000, 0x42493d7200000000, 0x11ffd04700000000,\n+    0x1f6f5be200000000, 0x6e27175800000000, 0x60b79cfd00000000,\n+    0x330171c800000000, 0x3d91fa6d00000000, 0x956daaa300000000,\n+    0x9bfd210600000000, 0xc84bcc3300000000, 0xc6db479600000000,\n+    0xd9b41c7400000000, 0xd72497d100000000, 0x84927ae400000000,\n+    0x8a02f14100000000, 0x22fea18f00000000, 0x2c6e2a2a00000000,\n+    0x7fd8c71f00000000, 0x71484cba00000000, 0xdc4e2eb000000000,\n+    0xd2dea51500000000, 0x8168482000000000, 0x8ff8c38500000000,\n+    0x2704934b00000000, 0x299418ee00000000, 0x7a22f5db00000000,\n+    0x74b27e7e00000000, 0x6bdd259c00000000, 0x654dae3900000000,\n+    0x36fb430c00000000, 0x386bc8a900000000, 0x9097986700000000,\n+    0x9e0713c200000000, 0xcdb1fef700000000, 0xc321755200000000,\n+    0xb26939e800000000, 0xbcf9b24d00000000, 0xef4f5f7800000000,\n+    0xe1dfd4dd00000000, 0x4923841300000000, 0x47b30fb600000000,\n+    0x1405e28300000000, 0x1a95692600000000, 0x05fa32c400000000,\n+    0x0b6ab96100000000, 0x58dc545400000000, 0x564cdff100000000,\n+    0xfeb08f3f00000000, 0xf020049a00000000, 0xa396e9af00000000,\n+    0xad06620a00000000, 0xf99b2dbb00000000, 0xf70ba61e00000000,\n+    0xa4bd4b2b00000000, 0xaa2dc08e00000000, 0x02d1904000000000,\n+    0x0c411be500000000, 0x5ff7f6d000000000, 0x51677d7500000000,\n+    0x4e08269700000000, 0x4098ad3200000000, 0x132e400700000000,\n+    0x1dbecba200000000, 0xb5429b6c00000000, 0xbbd210c900000000,\n+    0xe864fdfc00000000, 0xe6f4765900000000, 0x97bc3ae300000000,\n+    0x992cb14600000000, 0xca9a5c7300000000, 0xc40ad7d600000000,\n+    0x6cf6871800000000, 0x62660cbd00000000, 0x31d0e18800000000,\n+    0x3f406a2d00000000, 0x202f31cf00000000, 0x2ebfba6a00000000,\n+    0x7d09575f00000000, 0x7399dcfa00000000, 0xdb658c3400000000,\n+    0xd5f5079100000000, 0x8643eaa400000000, 0x88d3610100000000,\n+    0x25d5030b00000000, 0x2b4588ae00000000, 0x78f3659b00000000,\n+    0x7663ee3e00000000, 0xde9fbef000000000, 0xd00f355500000000,\n+    0x83b9d86000000000, 0x8d2953c500000000, 0x9246082700000000,\n+    0x9cd6838200000000, 0xcf606eb700000000, 0xc1f0e51200000000,\n+    0x690cb5dc00000000, 0x679c3e7900000000, 0x342ad34c00000000,\n+    0x3aba58e900000000, 0x4bf2145300000000, 0x45629ff600000000,\n+    0x16d472c300000000, 0x1844f96600000000, 0xb0b8a9a800000000,\n+    0xbe28220d00000000, 0xed9ecf3800000000, 0xe30e449d00000000,\n+    0xfc611f7f00000000, 0xf2f194da00000000, 0xa14779ef00000000,\n+    0xafd7f24a00000000, 0x072ba28400000000, 0x09bb292100000000,\n+    0x5a0dc41400000000, 0x549d4fb100000000, 0xb3312aad00000000,\n+    0xbda1a10800000000, 0xee174c3d00000000, 0xe087c79800000000,\n+    0x487b975600000000, 0x46eb1cf300000000, 0x155df1c600000000,\n+    0x1bcd7a6300000000, 0x04a2218100000000, 0x0a32aa2400000000,\n+    0x5984471100000000, 0x5714ccb400000000, 0xffe89c7a00000000,\n+    0xf17817df00000000, 0xa2cefaea00000000, 0xac5e714f00000000,\n+    0xdd163df500000000, 0xd386b65000000000, 0x80305b6500000000,\n+    0x8ea0d0c000000000, 0x265c800e00000000, 0x28cc0bab00000000,\n+    0x7b7ae69e00000000, 0x75ea6d3b00000000, 0x6a8536d900000000,\n+    0x6415bd7c00000000, 0x37a3504900000000, 0x3933dbec00000000,\n+    0x91cf8b2200000000, 0x9f5f008700000000, 0xcce9edb200000000,\n+    0xc279661700000000, 0x6f7f041d00000000, 0x61ef8fb800000000,\n+    0x3259628d00000000, 0x3cc9e92800000000, 0x9435b9e600000000,\n+    0x9aa5324300000000, 0xc913df7600000000, 0xc78354d300000000,\n+    0xd8ec0f3100000000, 0xd67c849400000000, 0x85ca69a100000000,\n+    0x8b5ae20400000000, 0x23a6b2ca00000000, 0x2d36396f00000000,\n+    0x7e80d45a00000000, 0x70105fff00000000, 0x0158134500000000,\n+    0x0fc898e000000000, 0x5c7e75d500000000, 0x52eefe7000000000,\n+    0xfa12aebe00000000, 0xf482251b00000000, 0xa734c82e00000000,\n+    0xa9a4438b00000000, 0xb6cb186900000000, 0xb85b93cc00000000,\n+    0xebed7ef900000000, 0xe57df55c00000000, 0x4d81a59200000000,\n+    0x43112e3700000000, 0x10a7c30200000000, 0x1e3748a700000000,\n+    0x4aaa071600000000, 0x443a8cb300000000, 0x178c618600000000,\n+    0x191cea2300000000, 0xb1e0baed00000000, 0xbf70314800000000,\n+    0xecc6dc7d00000000, 0xe25657d800000000, 0xfd390c3a00000000,\n+    0xf3a9879f00000000, 0xa01f6aaa00000000, 0xae8fe10f00000000,\n+    0x0673b1c100000000, 0x08e33a6400000000, 0x5b55d75100000000,\n+    0x55c55cf400000000, 0x248d104e00000000, 0x2a1d9beb00000000,\n+    0x79ab76de00000000, 0x773bfd7b00000000, 0xdfc7adb500000000,\n+    0xd157261000000000, 0x82e1cb2500000000, 0x8c71408000000000,\n+    0x931e1b6200000000, 0x9d8e90c700000000, 0xce387df200000000,\n+    0xc0a8f65700000000, 0x6854a69900000000, 0x66c42d3c00000000,\n+    0x3572c00900000000, 0x3be24bac00000000, 0x96e429a600000000,\n+    0x9874a20300000000, 0xcbc24f3600000000, 0xc552c49300000000,\n+    0x6dae945d00000000, 0x633e1ff800000000, 0x3088f2cd00000000,\n+    0x3e18796800000000, 0x2177228a00000000, 0x2fe7a92f00000000,\n+    0x7c51441a00000000, 0x72c1cfbf00000000, 0xda3d9f7100000000,\n+    0xd4ad14d400000000, 0x871bf9e100000000, 0x898b724400000000,\n+    0xf8c33efe00000000, 0xf653b55b00000000, 0xa5e5586e00000000,\n+    0xab75d3cb00000000, 0x0389830500000000, 0x0d1908a000000000,\n+    0x5eafe59500000000, 0x503f6e3000000000, 0x4f5035d200000000,\n+    0x41c0be7700000000, 0x1276534200000000, 0x1ce6d8e700000000,\n+    0xb41a882900000000, 0xba8a038c00000000, 0xe93ceeb900000000,\n+    0xe7ac651c00000000},\n+   {0x0000000000000000, 0x97a61de700000000, 0x6f4b4a1500000000,\n+    0xf8ed57f200000000, 0xde96942a00000000, 0x493089cd00000000,\n+    0xb1ddde3f00000000, 0x267bc3d800000000, 0xbc2d295500000000,\n+    0x2b8b34b200000000, 0xd366634000000000, 0x44c07ea700000000,\n+    0x62bbbd7f00000000, 0xf51da09800000000, 0x0df0f76a00000000,\n+    0x9a56ea8d00000000, 0x785b52aa00000000, 0xeffd4f4d00000000,\n+    0x171018bf00000000, 0x80b6055800000000, 0xa6cdc68000000000,\n+    0x316bdb6700000000, 0xc9868c9500000000, 0x5e20917200000000,\n+    0xc4767bff00000000, 0x53d0661800000000, 0xab3d31ea00000000,\n+    0x3c9b2c0d00000000, 0x1ae0efd500000000, 0x8d46f23200000000,\n+    0x75aba5c000000000, 0xe20db82700000000, 0xb1b0d58f00000000,\n+    0x2616c86800000000, 0xdefb9f9a00000000, 0x495d827d00000000,\n+    0x6f2641a500000000, 0xf8805c4200000000, 0x006d0bb000000000,\n+    0x97cb165700000000, 0x0d9dfcda00000000, 0x9a3be13d00000000,\n+    0x62d6b6cf00000000, 0xf570ab2800000000, 0xd30b68f000000000,\n+    0x44ad751700000000, 0xbc4022e500000000, 0x2be63f0200000000,\n+    0xc9eb872500000000, 0x5e4d9ac200000000, 0xa6a0cd3000000000,\n+    0x3106d0d700000000, 0x177d130f00000000, 0x80db0ee800000000,\n+    0x7836591a00000000, 0xef9044fd00000000, 0x75c6ae7000000000,\n+    0xe260b39700000000, 0x1a8de46500000000, 0x8d2bf98200000000,\n+    0xab503a5a00000000, 0x3cf627bd00000000, 0xc41b704f00000000,\n+    0x53bd6da800000000, 0x2367dac400000000, 0xb4c1c72300000000,\n+    0x4c2c90d100000000, 0xdb8a8d3600000000, 0xfdf14eee00000000,\n+    0x6a57530900000000, 0x92ba04fb00000000, 0x051c191c00000000,\n+    0x9f4af39100000000, 0x08ecee7600000000, 0xf001b98400000000,\n+    0x67a7a46300000000, 0x41dc67bb00000000, 0xd67a7a5c00000000,\n+    0x2e972dae00000000, 0xb931304900000000, 0x5b3c886e00000000,\n+    0xcc9a958900000000, 0x3477c27b00000000, 0xa3d1df9c00000000,\n+    0x85aa1c4400000000, 0x120c01a300000000, 0xeae1565100000000,\n+    0x7d474bb600000000, 0xe711a13b00000000, 0x70b7bcdc00000000,\n+    0x885aeb2e00000000, 0x1ffcf6c900000000, 0x3987351100000000,\n+    0xae2128f600000000, 0x56cc7f0400000000, 0xc16a62e300000000,\n+    0x92d70f4b00000000, 0x057112ac00000000, 0xfd9c455e00000000,\n+    0x6a3a58b900000000, 0x4c419b6100000000, 0xdbe7868600000000,\n+    0x230ad17400000000, 0xb4accc9300000000, 0x2efa261e00000000,\n+    0xb95c3bf900000000, 0x41b16c0b00000000, 0xd61771ec00000000,\n+    0xf06cb23400000000, 0x67caafd300000000, 0x9f27f82100000000,\n+    0x0881e5c600000000, 0xea8c5de100000000, 0x7d2a400600000000,\n+    0x85c717f400000000, 0x12610a1300000000, 0x341ac9cb00000000,\n+    0xa3bcd42c00000000, 0x5b5183de00000000, 0xccf79e3900000000,\n+    0x56a174b400000000, 0xc107695300000000, 0x39ea3ea100000000,\n+    0xae4c234600000000, 0x8837e09e00000000, 0x1f91fd7900000000,\n+    0xe77caa8b00000000, 0x70dab76c00000000, 0x07c8c55200000000,\n+    0x906ed8b500000000, 0x68838f4700000000, 0xff2592a000000000,\n+    0xd95e517800000000, 0x4ef84c9f00000000, 0xb6151b6d00000000,\n+    0x21b3068a00000000, 0xbbe5ec0700000000, 0x2c43f1e000000000,\n+    0xd4aea61200000000, 0x4308bbf500000000, 0x6573782d00000000,\n+    0xf2d565ca00000000, 0x0a38323800000000, 0x9d9e2fdf00000000,\n+    0x7f9397f800000000, 0xe8358a1f00000000, 0x10d8dded00000000,\n+    0x877ec00a00000000, 0xa10503d200000000, 0x36a31e3500000000,\n+    0xce4e49c700000000, 0x59e8542000000000, 0xc3bebead00000000,\n+    0x5418a34a00000000, 0xacf5f4b800000000, 0x3b53e95f00000000,\n+    0x1d282a8700000000, 0x8a8e376000000000, 0x7263609200000000,\n+    0xe5c57d7500000000, 0xb67810dd00000000, 0x21de0d3a00000000,\n+    0xd9335ac800000000, 0x4e95472f00000000, 0x68ee84f700000000,\n+    0xff48991000000000, 0x07a5cee200000000, 0x9003d30500000000,\n+    0x0a55398800000000, 0x9df3246f00000000, 0x651e739d00000000,\n+    0xf2b86e7a00000000, 0xd4c3ada200000000, 0x4365b04500000000,\n+    0xbb88e7b700000000, 0x2c2efa5000000000, 0xce23427700000000,\n+    0x59855f9000000000, 0xa168086200000000, 0x36ce158500000000,\n+    0x10b5d65d00000000, 0x8713cbba00000000, 0x7ffe9c4800000000,\n+    0xe85881af00000000, 0x720e6b2200000000, 0xe5a876c500000000,\n+    0x1d45213700000000, 0x8ae33cd000000000, 0xac98ff0800000000,\n+    0x3b3ee2ef00000000, 0xc3d3b51d00000000, 0x5475a8fa00000000,\n+    0x24af1f9600000000, 0xb309027100000000, 0x4be4558300000000,\n+    0xdc42486400000000, 0xfa398bbc00000000, 0x6d9f965b00000000,\n+    0x9572c1a900000000, 0x02d4dc4e00000000, 0x988236c300000000,\n+    0x0f242b2400000000, 0xf7c97cd600000000, 0x606f613100000000,\n+    0x4614a2e900000000, 0xd1b2bf0e00000000, 0x295fe8fc00000000,\n+    0xbef9f51b00000000, 0x5cf44d3c00000000, 0xcb5250db00000000,\n+    0x33bf072900000000, 0xa4191ace00000000, 0x8262d91600000000,\n+    0x15c4c4f100000000, 0xed29930300000000, 0x7a8f8ee400000000,\n+    0xe0d9646900000000, 0x777f798e00000000, 0x8f922e7c00000000,\n+    0x1834339b00000000, 0x3e4ff04300000000, 0xa9e9eda400000000,\n+    0x5104ba5600000000, 0xc6a2a7b100000000, 0x951fca1900000000,\n+    0x02b9d7fe00000000, 0xfa54800c00000000, 0x6df29deb00000000,\n+    0x4b895e3300000000, 0xdc2f43d400000000, 0x24c2142600000000,\n+    0xb36409c100000000, 0x2932e34c00000000, 0xbe94feab00000000,\n+    0x4679a95900000000, 0xd1dfb4be00000000, 0xf7a4776600000000,\n+    0x60026a8100000000, 0x98ef3d7300000000, 0x0f49209400000000,\n+    0xed4498b300000000, 0x7ae2855400000000, 0x820fd2a600000000,\n+    0x15a9cf4100000000, 0x33d20c9900000000, 0xa474117e00000000,\n+    0x5c99468c00000000, 0xcb3f5b6b00000000, 0x5169b1e600000000,\n+    0xc6cfac0100000000, 0x3e22fbf300000000, 0xa984e61400000000,\n+    0x8fff25cc00000000, 0x1859382b00000000, 0xe0b46fd900000000,\n+    0x7712723e00000000},\n+   {0x0000000000000000, 0x411b8c6e00000000, 0x823618dd00000000,\n+    0xc32d94b300000000, 0x456b416100000000, 0x0470cd0f00000000,\n+    0xc75d59bc00000000, 0x8646d5d200000000, 0x8ad682c200000000,\n+    0xcbcd0eac00000000, 0x08e09a1f00000000, 0x49fb167100000000,\n+    0xcfbdc3a300000000, 0x8ea64fcd00000000, 0x4d8bdb7e00000000,\n+    0x0c90571000000000, 0x55ab745e00000000, 0x14b0f83000000000,\n+    0xd79d6c8300000000, 0x9686e0ed00000000, 0x10c0353f00000000,\n+    0x51dbb95100000000, 0x92f62de200000000, 0xd3eda18c00000000,\n+    0xdf7df69c00000000, 0x9e667af200000000, 0x5d4bee4100000000,\n+    0x1c50622f00000000, 0x9a16b7fd00000000, 0xdb0d3b9300000000,\n+    0x1820af2000000000, 0x593b234e00000000, 0xaa56e9bc00000000,\n+    0xeb4d65d200000000, 0x2860f16100000000, 0x697b7d0f00000000,\n+    0xef3da8dd00000000, 0xae2624b300000000, 0x6d0bb00000000000,\n+    0x2c103c6e00000000, 0x20806b7e00000000, 0x619be71000000000,\n+    0xa2b673a300000000, 0xe3adffcd00000000, 0x65eb2a1f00000000,\n+    0x24f0a67100000000, 0xe7dd32c200000000, 0xa6c6beac00000000,\n+    0xfffd9de200000000, 0xbee6118c00000000, 0x7dcb853f00000000,\n+    0x3cd0095100000000, 0xba96dc8300000000, 0xfb8d50ed00000000,\n+    0x38a0c45e00000000, 0x79bb483000000000, 0x752b1f2000000000,\n+    0x3430934e00000000, 0xf71d07fd00000000, 0xb6068b9300000000,\n+    0x30405e4100000000, 0x715bd22f00000000, 0xb276469c00000000,\n+    0xf36dcaf200000000, 0x15aba3a200000000, 0x54b02fcc00000000,\n+    0x979dbb7f00000000, 0xd686371100000000, 0x50c0e2c300000000,\n+    0x11db6ead00000000, 0xd2f6fa1e00000000, 0x93ed767000000000,\n+    0x9f7d216000000000, 0xde66ad0e00000000, 0x1d4b39bd00000000,\n+    0x5c50b5d300000000, 0xda16600100000000, 0x9b0dec6f00000000,\n+    0x582078dc00000000, 0x193bf4b200000000, 0x4000d7fc00000000,\n+    0x011b5b9200000000, 0xc236cf2100000000, 0x832d434f00000000,\n+    0x056b969d00000000, 0x44701af300000000, 0x875d8e4000000000,\n+    0xc646022e00000000, 0xcad6553e00000000, 0x8bcdd95000000000,\n+    0x48e04de300000000, 0x09fbc18d00000000, 0x8fbd145f00000000,\n+    0xcea6983100000000, 0x0d8b0c8200000000, 0x4c9080ec00000000,\n+    0xbffd4a1e00000000, 0xfee6c67000000000, 0x3dcb52c300000000,\n+    0x7cd0dead00000000, 0xfa960b7f00000000, 0xbb8d871100000000,\n+    0x78a013a200000000, 0x39bb9fcc00000000, 0x352bc8dc00000000,\n+    0x743044b200000000, 0xb71dd00100000000, 0xf6065c6f00000000,\n+    0x704089bd00000000, 0x315b05d300000000, 0xf276916000000000,\n+    0xb36d1d0e00000000, 0xea563e4000000000, 0xab4db22e00000000,\n+    0x6860269d00000000, 0x297baaf300000000, 0xaf3d7f2100000000,\n+    0xee26f34f00000000, 0x2d0b67fc00000000, 0x6c10eb9200000000,\n+    0x6080bc8200000000, 0x219b30ec00000000, 0xe2b6a45f00000000,\n+    0xa3ad283100000000, 0x25ebfde300000000, 0x64f0718d00000000,\n+    0xa7dde53e00000000, 0xe6c6695000000000, 0x6b50369e00000000,\n+    0x2a4bbaf000000000, 0xe9662e4300000000, 0xa87da22d00000000,\n+    0x2e3b77ff00000000, 0x6f20fb9100000000, 0xac0d6f2200000000,\n+    0xed16e34c00000000, 0xe186b45c00000000, 0xa09d383200000000,\n+    0x63b0ac8100000000, 0x22ab20ef00000000, 0xa4edf53d00000000,\n+    0xe5f6795300000000, 0x26dbede000000000, 0x67c0618e00000000,\n+    0x3efb42c000000000, 0x7fe0ceae00000000, 0xbccd5a1d00000000,\n+    0xfdd6d67300000000, 0x7b9003a100000000, 0x3a8b8fcf00000000,\n+    0xf9a61b7c00000000, 0xb8bd971200000000, 0xb42dc00200000000,\n+    0xf5364c6c00000000, 0x361bd8df00000000, 0x770054b100000000,\n+    0xf146816300000000, 0xb05d0d0d00000000, 0x737099be00000000,\n+    0x326b15d000000000, 0xc106df2200000000, 0x801d534c00000000,\n+    0x4330c7ff00000000, 0x022b4b9100000000, 0x846d9e4300000000,\n+    0xc576122d00000000, 0x065b869e00000000, 0x47400af000000000,\n+    0x4bd05de000000000, 0x0acbd18e00000000, 0xc9e6453d00000000,\n+    0x88fdc95300000000, 0x0ebb1c8100000000, 0x4fa090ef00000000,\n+    0x8c8d045c00000000, 0xcd96883200000000, 0x94adab7c00000000,\n+    0xd5b6271200000000, 0x169bb3a100000000, 0x57803fcf00000000,\n+    0xd1c6ea1d00000000, 0x90dd667300000000, 0x53f0f2c000000000,\n+    0x12eb7eae00000000, 0x1e7b29be00000000, 0x5f60a5d000000000,\n+    0x9c4d316300000000, 0xdd56bd0d00000000, 0x5b1068df00000000,\n+    0x1a0be4b100000000, 0xd926700200000000, 0x983dfc6c00000000,\n+    0x7efb953c00000000, 0x3fe0195200000000, 0xfccd8de100000000,\n+    0xbdd6018f00000000, 0x3b90d45d00000000, 0x7a8b583300000000,\n+    0xb9a6cc8000000000, 0xf8bd40ee00000000, 0xf42d17fe00000000,\n+    0xb5369b9000000000, 0x761b0f2300000000, 0x3700834d00000000,\n+    0xb146569f00000000, 0xf05ddaf100000000, 0x33704e4200000000,\n+    0x726bc22c00000000, 0x2b50e16200000000, 0x6a4b6d0c00000000,\n+    0xa966f9bf00000000, 0xe87d75d100000000, 0x6e3ba00300000000,\n+    0x2f202c6d00000000, 0xec0db8de00000000, 0xad1634b000000000,\n+    0xa18663a000000000, 0xe09defce00000000, 0x23b07b7d00000000,\n+    0x62abf71300000000, 0xe4ed22c100000000, 0xa5f6aeaf00000000,\n+    0x66db3a1c00000000, 0x27c0b67200000000, 0xd4ad7c8000000000,\n+    0x95b6f0ee00000000, 0x569b645d00000000, 0x1780e83300000000,\n+    0x91c63de100000000, 0xd0ddb18f00000000, 0x13f0253c00000000,\n+    0x52eba95200000000, 0x5e7bfe4200000000, 0x1f60722c00000000,\n+    0xdc4de69f00000000, 0x9d566af100000000, 0x1b10bf2300000000,\n+    0x5a0b334d00000000, 0x9926a7fe00000000, 0xd83d2b9000000000,\n+    0x810608de00000000, 0xc01d84b000000000, 0x0330100300000000,\n+    0x422b9c6d00000000, 0xc46d49bf00000000, 0x8576c5d100000000,\n+    0x465b516200000000, 0x0740dd0c00000000, 0x0bd08a1c00000000,\n+    0x4acb067200000000, 0x89e692c100000000, 0xc8fd1eaf00000000,\n+    0x4ebbcb7d00000000, 0x0fa0471300000000, 0xcc8dd3a000000000,\n+    0x8d965fce00000000},\n+   {0x0000000000000000, 0x1dfdb50100000000, 0x3afa6b0300000000,\n+    0x2707de0200000000, 0x74f4d70600000000, 0x6909620700000000,\n+    0x4e0ebc0500000000, 0x53f3090400000000, 0xe8e8af0d00000000,\n+    0xf5151a0c00000000, 0xd212c40e00000000, 0xcfef710f00000000,\n+    0x9c1c780b00000000, 0x81e1cd0a00000000, 0xa6e6130800000000,\n+    0xbb1ba60900000000, 0xd0d15f1b00000000, 0xcd2cea1a00000000,\n+    0xea2b341800000000, 0xf7d6811900000000, 0xa425881d00000000,\n+    0xb9d83d1c00000000, 0x9edfe31e00000000, 0x8322561f00000000,\n+    0x3839f01600000000, 0x25c4451700000000, 0x02c39b1500000000,\n+    0x1f3e2e1400000000, 0x4ccd271000000000, 0x5130921100000000,\n+    0x76374c1300000000, 0x6bcaf91200000000, 0xa0a3bf3600000000,\n+    0xbd5e0a3700000000, 0x9a59d43500000000, 0x87a4613400000000,\n+    0xd457683000000000, 0xc9aadd3100000000, 0xeead033300000000,\n+    0xf350b63200000000, 0x484b103b00000000, 0x55b6a53a00000000,\n+    0x72b17b3800000000, 0x6f4cce3900000000, 0x3cbfc73d00000000,\n+    0x2142723c00000000, 0x0645ac3e00000000, 0x1bb8193f00000000,\n+    0x7072e02d00000000, 0x6d8f552c00000000, 0x4a888b2e00000000,\n+    0x57753e2f00000000, 0x0486372b00000000, 0x197b822a00000000,\n+    0x3e7c5c2800000000, 0x2381e92900000000, 0x989a4f2000000000,\n+    0x8567fa2100000000, 0xa260242300000000, 0xbf9d912200000000,\n+    0xec6e982600000000, 0xf1932d2700000000, 0xd694f32500000000,\n+    0xcb69462400000000, 0x40477f6d00000000, 0x5dbaca6c00000000,\n+    0x7abd146e00000000, 0x6740a16f00000000, 0x34b3a86b00000000,\n+    0x294e1d6a00000000, 0x0e49c36800000000, 0x13b4766900000000,\n+    0xa8afd06000000000, 0xb552656100000000, 0x9255bb6300000000,\n+    0x8fa80e6200000000, 0xdc5b076600000000, 0xc1a6b26700000000,\n+    0xe6a16c6500000000, 0xfb5cd96400000000, 0x9096207600000000,\n+    0x8d6b957700000000, 0xaa6c4b7500000000, 0xb791fe7400000000,\n+    0xe462f77000000000, 0xf99f427100000000, 0xde989c7300000000,\n+    0xc365297200000000, 0x787e8f7b00000000, 0x65833a7a00000000,\n+    0x4284e47800000000, 0x5f79517900000000, 0x0c8a587d00000000,\n+    0x1177ed7c00000000, 0x3670337e00000000, 0x2b8d867f00000000,\n+    0xe0e4c05b00000000, 0xfd19755a00000000, 0xda1eab5800000000,\n+    0xc7e31e5900000000, 0x9410175d00000000, 0x89eda25c00000000,\n+    0xaeea7c5e00000000, 0xb317c95f00000000, 0x080c6f5600000000,\n+    0x15f1da5700000000, 0x32f6045500000000, 0x2f0bb15400000000,\n+    0x7cf8b85000000000, 0x61050d5100000000, 0x4602d35300000000,\n+    0x5bff665200000000, 0x30359f4000000000, 0x2dc82a4100000000,\n+    0x0acff44300000000, 0x1732414200000000, 0x44c1484600000000,\n+    0x593cfd4700000000, 0x7e3b234500000000, 0x63c6964400000000,\n+    0xd8dd304d00000000, 0xc520854c00000000, 0xe2275b4e00000000,\n+    0xffdaee4f00000000, 0xac29e74b00000000, 0xb1d4524a00000000,\n+    0x96d38c4800000000, 0x8b2e394900000000, 0x808efeda00000000,\n+    0x9d734bdb00000000, 0xba7495d900000000, 0xa78920d800000000,\n+    0xf47a29dc00000000, 0xe9879cdd00000000, 0xce8042df00000000,\n+    0xd37df7de00000000, 0x686651d700000000, 0x759be4d600000000,\n+    0x529c3ad400000000, 0x4f618fd500000000, 0x1c9286d100000000,\n+    0x016f33d000000000, 0x2668edd200000000, 0x3b9558d300000000,\n+    0x505fa1c100000000, 0x4da214c000000000, 0x6aa5cac200000000,\n+    0x77587fc300000000, 0x24ab76c700000000, 0x3956c3c600000000,\n+    0x1e511dc400000000, 0x03aca8c500000000, 0xb8b70ecc00000000,\n+    0xa54abbcd00000000, 0x824d65cf00000000, 0x9fb0d0ce00000000,\n+    0xcc43d9ca00000000, 0xd1be6ccb00000000, 0xf6b9b2c900000000,\n+    0xeb4407c800000000, 0x202d41ec00000000, 0x3dd0f4ed00000000,\n+    0x1ad72aef00000000, 0x072a9fee00000000, 0x54d996ea00000000,\n+    0x492423eb00000000, 0x6e23fde900000000, 0x73de48e800000000,\n+    0xc8c5eee100000000, 0xd5385be000000000, 0xf23f85e200000000,\n+    0xefc230e300000000, 0xbc3139e700000000, 0xa1cc8ce600000000,\n+    0x86cb52e400000000, 0x9b36e7e500000000, 0xf0fc1ef700000000,\n+    0xed01abf600000000, 0xca0675f400000000, 0xd7fbc0f500000000,\n+    0x8408c9f100000000, 0x99f57cf000000000, 0xbef2a2f200000000,\n+    0xa30f17f300000000, 0x1814b1fa00000000, 0x05e904fb00000000,\n+    0x22eedaf900000000, 0x3f136ff800000000, 0x6ce066fc00000000,\n+    0x711dd3fd00000000, 0x561a0dff00000000, 0x4be7b8fe00000000,\n+    0xc0c981b700000000, 0xdd3434b600000000, 0xfa33eab400000000,\n+    0xe7ce5fb500000000, 0xb43d56b100000000, 0xa9c0e3b000000000,\n+    0x8ec73db200000000, 0x933a88b300000000, 0x28212eba00000000,\n+    0x35dc9bbb00000000, 0x12db45b900000000, 0x0f26f0b800000000,\n+    0x5cd5f9bc00000000, 0x41284cbd00000000, 0x662f92bf00000000,\n+    0x7bd227be00000000, 0x1018deac00000000, 0x0de56bad00000000,\n+    0x2ae2b5af00000000, 0x371f00ae00000000, 0x64ec09aa00000000,\n+    0x7911bcab00000000, 0x5e1662a900000000, 0x43ebd7a800000000,\n+    0xf8f071a100000000, 0xe50dc4a000000000, 0xc20a1aa200000000,\n+    0xdff7afa300000000, 0x8c04a6a700000000, 0x91f913a600000000,\n+    0xb6fecda400000000, 0xab0378a500000000, 0x606a3e8100000000,\n+    0x7d978b8000000000, 0x5a90558200000000, 0x476de08300000000,\n+    0x149ee98700000000, 0x09635c8600000000, 0x2e64828400000000,\n+    0x3399378500000000, 0x8882918c00000000, 0x957f248d00000000,\n+    0xb278fa8f00000000, 0xaf854f8e00000000, 0xfc76468a00000000,\n+    0xe18bf38b00000000, 0xc68c2d8900000000, 0xdb71988800000000,\n+    0xb0bb619a00000000, 0xad46d49b00000000, 0x8a410a9900000000,\n+    0x97bcbf9800000000, 0xc44fb69c00000000, 0xd9b2039d00000000,\n+    0xfeb5dd9f00000000, 0xe348689e00000000, 0x5853ce9700000000,\n+    0x45ae7b9600000000, 0x62a9a59400000000, 0x7f54109500000000,\n+    0x2ca7199100000000, 0x315aac9000000000, 0x165d729200000000,\n+    0x0ba0c79300000000},\n+   {0x0000000000000000, 0x24d9076300000000, 0x48b20fc600000000,\n+    0x6c6b08a500000000, 0xd1626e5700000000, 0xf5bb693400000000,\n+    0x99d0619100000000, 0xbd0966f200000000, 0xa2c5dcae00000000,\n+    0x861cdbcd00000000, 0xea77d36800000000, 0xceaed40b00000000,\n+    0x73a7b2f900000000, 0x577eb59a00000000, 0x3b15bd3f00000000,\n+    0x1fccba5c00000000, 0x058dc88600000000, 0x2154cfe500000000,\n+    0x4d3fc74000000000, 0x69e6c02300000000, 0xd4efa6d100000000,\n+    0xf036a1b200000000, 0x9c5da91700000000, 0xb884ae7400000000,\n+    0xa748142800000000, 0x8391134b00000000, 0xeffa1bee00000000,\n+    0xcb231c8d00000000, 0x762a7a7f00000000, 0x52f37d1c00000000,\n+    0x3e9875b900000000, 0x1a4172da00000000, 0x4b1ce0d600000000,\n+    0x6fc5e7b500000000, 0x03aeef1000000000, 0x2777e87300000000,\n+    0x9a7e8e8100000000, 0xbea789e200000000, 0xd2cc814700000000,\n+    0xf615862400000000, 0xe9d93c7800000000, 0xcd003b1b00000000,\n+    0xa16b33be00000000, 0x85b234dd00000000, 0x38bb522f00000000,\n+    0x1c62554c00000000, 0x70095de900000000, 0x54d05a8a00000000,\n+    0x4e91285000000000, 0x6a482f3300000000, 0x0623279600000000,\n+    0x22fa20f500000000, 0x9ff3460700000000, 0xbb2a416400000000,\n+    0xd74149c100000000, 0xf3984ea200000000, 0xec54f4fe00000000,\n+    0xc88df39d00000000, 0xa4e6fb3800000000, 0x803ffc5b00000000,\n+    0x3d369aa900000000, 0x19ef9dca00000000, 0x7584956f00000000,\n+    0x515d920c00000000, 0xd73eb17600000000, 0xf3e7b61500000000,\n+    0x9f8cbeb000000000, 0xbb55b9d300000000, 0x065cdf2100000000,\n+    0x2285d84200000000, 0x4eeed0e700000000, 0x6a37d78400000000,\n+    0x75fb6dd800000000, 0x51226abb00000000, 0x3d49621e00000000,\n+    0x1990657d00000000, 0xa499038f00000000, 0x804004ec00000000,\n+    0xec2b0c4900000000, 0xc8f20b2a00000000, 0xd2b379f000000000,\n+    0xf66a7e9300000000, 0x9a01763600000000, 0xbed8715500000000,\n+    0x03d117a700000000, 0x270810c400000000, 0x4b63186100000000,\n+    0x6fba1f0200000000, 0x7076a55e00000000, 0x54afa23d00000000,\n+    0x38c4aa9800000000, 0x1c1dadfb00000000, 0xa114cb0900000000,\n+    0x85cdcc6a00000000, 0xe9a6c4cf00000000, 0xcd7fc3ac00000000,\n+    0x9c2251a000000000, 0xb8fb56c300000000, 0xd4905e6600000000,\n+    0xf049590500000000, 0x4d403ff700000000, 0x6999389400000000,\n+    0x05f2303100000000, 0x212b375200000000, 0x3ee78d0e00000000,\n+    0x1a3e8a6d00000000, 0x765582c800000000, 0x528c85ab00000000,\n+    0xef85e35900000000, 0xcb5ce43a00000000, 0xa737ec9f00000000,\n+    0x83eeebfc00000000, 0x99af992600000000, 0xbd769e4500000000,\n+    0xd11d96e000000000, 0xf5c4918300000000, 0x48cdf77100000000,\n+    0x6c14f01200000000, 0x007ff8b700000000, 0x24a6ffd400000000,\n+    0x3b6a458800000000, 0x1fb342eb00000000, 0x73d84a4e00000000,\n+    0x57014d2d00000000, 0xea082bdf00000000, 0xced12cbc00000000,\n+    0xa2ba241900000000, 0x8663237a00000000, 0xae7d62ed00000000,\n+    0x8aa4658e00000000, 0xe6cf6d2b00000000, 0xc2166a4800000000,\n+    0x7f1f0cba00000000, 0x5bc60bd900000000, 0x37ad037c00000000,\n+    0x1374041f00000000, 0x0cb8be4300000000, 0x2861b92000000000,\n+    0x440ab18500000000, 0x60d3b6e600000000, 0xdddad01400000000,\n+    0xf903d77700000000, 0x9568dfd200000000, 0xb1b1d8b100000000,\n+    0xabf0aa6b00000000, 0x8f29ad0800000000, 0xe342a5ad00000000,\n+    0xc79ba2ce00000000, 0x7a92c43c00000000, 0x5e4bc35f00000000,\n+    0x3220cbfa00000000, 0x16f9cc9900000000, 0x093576c500000000,\n+    0x2dec71a600000000, 0x4187790300000000, 0x655e7e6000000000,\n+    0xd857189200000000, 0xfc8e1ff100000000, 0x90e5175400000000,\n+    0xb43c103700000000, 0xe561823b00000000, 0xc1b8855800000000,\n+    0xadd38dfd00000000, 0x890a8a9e00000000, 0x3403ec6c00000000,\n+    0x10daeb0f00000000, 0x7cb1e3aa00000000, 0x5868e4c900000000,\n+    0x47a45e9500000000, 0x637d59f600000000, 0x0f16515300000000,\n+    0x2bcf563000000000, 0x96c630c200000000, 0xb21f37a100000000,\n+    0xde743f0400000000, 0xfaad386700000000, 0xe0ec4abd00000000,\n+    0xc4354dde00000000, 0xa85e457b00000000, 0x8c87421800000000,\n+    0x318e24ea00000000, 0x1557238900000000, 0x793c2b2c00000000,\n+    0x5de52c4f00000000, 0x4229961300000000, 0x66f0917000000000,\n+    0x0a9b99d500000000, 0x2e429eb600000000, 0x934bf84400000000,\n+    0xb792ff2700000000, 0xdbf9f78200000000, 0xff20f0e100000000,\n+    0x7943d39b00000000, 0x5d9ad4f800000000, 0x31f1dc5d00000000,\n+    0x1528db3e00000000, 0xa821bdcc00000000, 0x8cf8baaf00000000,\n+    0xe093b20a00000000, 0xc44ab56900000000, 0xdb860f3500000000,\n+    0xff5f085600000000, 0x933400f300000000, 0xb7ed079000000000,\n+    0x0ae4616200000000, 0x2e3d660100000000, 0x42566ea400000000,\n+    0x668f69c700000000, 0x7cce1b1d00000000, 0x58171c7e00000000,\n+    0x347c14db00000000, 0x10a513b800000000, 0xadac754a00000000,\n+    0x8975722900000000, 0xe51e7a8c00000000, 0xc1c77def00000000,\n+    0xde0bc7b300000000, 0xfad2c0d000000000, 0x96b9c87500000000,\n+    0xb260cf1600000000, 0x0f69a9e400000000, 0x2bb0ae8700000000,\n+    0x47dba62200000000, 0x6302a14100000000, 0x325f334d00000000,\n+    0x1686342e00000000, 0x7aed3c8b00000000, 0x5e343be800000000,\n+    0xe33d5d1a00000000, 0xc7e45a7900000000, 0xab8f52dc00000000,\n+    0x8f5655bf00000000, 0x909aefe300000000, 0xb443e88000000000,\n+    0xd828e02500000000, 0xfcf1e74600000000, 0x41f881b400000000,\n+    0x652186d700000000, 0x094a8e7200000000, 0x2d93891100000000,\n+    0x37d2fbcb00000000, 0x130bfca800000000, 0x7f60f40d00000000,\n+    0x5bb9f36e00000000, 0xe6b0959c00000000, 0xc26992ff00000000,\n+    0xae029a5a00000000, 0x8adb9d3900000000, 0x9517276500000000,\n+    0xb1ce200600000000, 0xdda528a300000000, 0xf97c2fc000000000,\n+    0x4475493200000000, 0x60ac4e5100000000, 0x0cc746f400000000,\n+    0x281e419700000000},\n+   {0x0000000000000000, 0x08e3603c00000000, 0x10c6c17800000000,\n+    0x1825a14400000000, 0x208c83f100000000, 0x286fe3cd00000000,\n+    0x304a428900000000, 0x38a922b500000000, 0x011e763800000000,\n+    0x09fd160400000000, 0x11d8b74000000000, 0x193bd77c00000000,\n+    0x2192f5c900000000, 0x297195f500000000, 0x315434b100000000,\n+    0x39b7548d00000000, 0x023cec7000000000, 0x0adf8c4c00000000,\n+    0x12fa2d0800000000, 0x1a194d3400000000, 0x22b06f8100000000,\n+    0x2a530fbd00000000, 0x3276aef900000000, 0x3a95cec500000000,\n+    0x03229a4800000000, 0x0bc1fa7400000000, 0x13e45b3000000000,\n+    0x1b073b0c00000000, 0x23ae19b900000000, 0x2b4d798500000000,\n+    0x3368d8c100000000, 0x3b8bb8fd00000000, 0x0478d8e100000000,\n+    0x0c9bb8dd00000000, 0x14be199900000000, 0x1c5d79a500000000,\n+    0x24f45b1000000000, 0x2c173b2c00000000, 0x34329a6800000000,\n+    0x3cd1fa5400000000, 0x0566aed900000000, 0x0d85cee500000000,\n+    0x15a06fa100000000, 0x1d430f9d00000000, 0x25ea2d2800000000,\n+    0x2d094d1400000000, 0x352cec5000000000, 0x3dcf8c6c00000000,\n+    0x0644349100000000, 0x0ea754ad00000000, 0x1682f5e900000000,\n+    0x1e6195d500000000, 0x26c8b76000000000, 0x2e2bd75c00000000,\n+    0x360e761800000000, 0x3eed162400000000, 0x075a42a900000000,\n+    0x0fb9229500000000, 0x179c83d100000000, 0x1f7fe3ed00000000,\n+    0x27d6c15800000000, 0x2f35a16400000000, 0x3710002000000000,\n+    0x3ff3601c00000000, 0x49f6c11800000000, 0x4115a12400000000,\n+    0x5930006000000000, 0x51d3605c00000000, 0x697a42e900000000,\n+    0x619922d500000000, 0x79bc839100000000, 0x715fe3ad00000000,\n+    0x48e8b72000000000, 0x400bd71c00000000, 0x582e765800000000,\n+    0x50cd166400000000, 0x686434d100000000, 0x608754ed00000000,\n+    0x78a2f5a900000000, 0x7041959500000000, 0x4bca2d6800000000,\n+    0x43294d5400000000, 0x5b0cec1000000000, 0x53ef8c2c00000000,\n+    0x6b46ae9900000000, 0x63a5cea500000000, 0x7b806fe100000000,\n+    0x73630fdd00000000, 0x4ad45b5000000000, 0x42373b6c00000000,\n+    0x5a129a2800000000, 0x52f1fa1400000000, 0x6a58d8a100000000,\n+    0x62bbb89d00000000, 0x7a9e19d900000000, 0x727d79e500000000,\n+    0x4d8e19f900000000, 0x456d79c500000000, 0x5d48d88100000000,\n+    0x55abb8bd00000000, 0x6d029a0800000000, 0x65e1fa3400000000,\n+    0x7dc45b7000000000, 0x75273b4c00000000, 0x4c906fc100000000,\n+    0x44730ffd00000000, 0x5c56aeb900000000, 0x54b5ce8500000000,\n+    0x6c1cec3000000000, 0x64ff8c0c00000000, 0x7cda2d4800000000,\n+    0x74394d7400000000, 0x4fb2f58900000000, 0x475195b500000000,\n+    0x5f7434f100000000, 0x579754cd00000000, 0x6f3e767800000000,\n+    0x67dd164400000000, 0x7ff8b70000000000, 0x771bd73c00000000,\n+    0x4eac83b100000000, 0x464fe38d00000000, 0x5e6a42c900000000,\n+    0x568922f500000000, 0x6e20004000000000, 0x66c3607c00000000,\n+    0x7ee6c13800000000, 0x7605a10400000000, 0x92ec833100000000,\n+    0x9a0fe30d00000000, 0x822a424900000000, 0x8ac9227500000000,\n+    0xb26000c000000000, 0xba8360fc00000000, 0xa2a6c1b800000000,\n+    0xaa45a18400000000, 0x93f2f50900000000, 0x9b11953500000000,\n+    0x8334347100000000, 0x8bd7544d00000000, 0xb37e76f800000000,\n+    0xbb9d16c400000000, 0xa3b8b78000000000, 0xab5bd7bc00000000,\n+    0x90d06f4100000000, 0x98330f7d00000000, 0x8016ae3900000000,\n+    0x88f5ce0500000000, 0xb05cecb000000000, 0xb8bf8c8c00000000,\n+    0xa09a2dc800000000, 0xa8794df400000000, 0x91ce197900000000,\n+    0x992d794500000000, 0x8108d80100000000, 0x89ebb83d00000000,\n+    0xb1429a8800000000, 0xb9a1fab400000000, 0xa1845bf000000000,\n+    0xa9673bcc00000000, 0x96945bd000000000, 0x9e773bec00000000,\n+    0x86529aa800000000, 0x8eb1fa9400000000, 0xb618d82100000000,\n+    0xbefbb81d00000000, 0xa6de195900000000, 0xae3d796500000000,\n+    0x978a2de800000000, 0x9f694dd400000000, 0x874cec9000000000,\n+    0x8faf8cac00000000, 0xb706ae1900000000, 0xbfe5ce2500000000,\n+    0xa7c06f6100000000, 0xaf230f5d00000000, 0x94a8b7a000000000,\n+    0x9c4bd79c00000000, 0x846e76d800000000, 0x8c8d16e400000000,\n+    0xb424345100000000, 0xbcc7546d00000000, 0xa4e2f52900000000,\n+    0xac01951500000000, 0x95b6c19800000000, 0x9d55a1a400000000,\n+    0x857000e000000000, 0x8d9360dc00000000, 0xb53a426900000000,\n+    0xbdd9225500000000, 0xa5fc831100000000, 0xad1fe32d00000000,\n+    0xdb1a422900000000, 0xd3f9221500000000, 0xcbdc835100000000,\n+    0xc33fe36d00000000, 0xfb96c1d800000000, 0xf375a1e400000000,\n+    0xeb5000a000000000, 0xe3b3609c00000000, 0xda04341100000000,\n+    0xd2e7542d00000000, 0xcac2f56900000000, 0xc221955500000000,\n+    0xfa88b7e000000000, 0xf26bd7dc00000000, 0xea4e769800000000,\n+    0xe2ad16a400000000, 0xd926ae5900000000, 0xd1c5ce6500000000,\n+    0xc9e06f2100000000, 0xc1030f1d00000000, 0xf9aa2da800000000,\n+    0xf1494d9400000000, 0xe96cecd000000000, 0xe18f8cec00000000,\n+    0xd838d86100000000, 0xd0dbb85d00000000, 0xc8fe191900000000,\n+    0xc01d792500000000, 0xf8b45b9000000000, 0xf0573bac00000000,\n+    0xe8729ae800000000, 0xe091fad400000000, 0xdf629ac800000000,\n+    0xd781faf400000000, 0xcfa45bb000000000, 0xc7473b8c00000000,\n+    0xffee193900000000, 0xf70d790500000000, 0xef28d84100000000,\n+    0xe7cbb87d00000000, 0xde7cecf000000000, 0xd69f8ccc00000000,\n+    0xceba2d8800000000, 0xc6594db400000000, 0xfef06f0100000000,\n+    0xf6130f3d00000000, 0xee36ae7900000000, 0xe6d5ce4500000000,\n+    0xdd5e76b800000000, 0xd5bd168400000000, 0xcd98b7c000000000,\n+    0xc57bd7fc00000000, 0xfdd2f54900000000, 0xf531957500000000,\n+    0xed14343100000000, 0xe5f7540d00000000, 0xdc40008000000000,\n+    0xd4a360bc00000000, 0xcc86c1f800000000, 0xc465a1c400000000,\n+    0xfccc837100000000, 0xf42fe34d00000000, 0xec0a420900000000,\n+    0xe4e9223500000000},\n+   {0x0000000000000000, 0xd1e8e70e00000000, 0xa2d1cf1d00000000,\n+    0x7339281300000000, 0x44a39f3b00000000, 0x954b783500000000,\n+    0xe672502600000000, 0x379ab72800000000, 0x88463f7700000000,\n+    0x59aed87900000000, 0x2a97f06a00000000, 0xfb7f176400000000,\n+    0xcce5a04c00000000, 0x1d0d474200000000, 0x6e346f5100000000,\n+    0xbfdc885f00000000, 0x108d7eee00000000, 0xc16599e000000000,\n+    0xb25cb1f300000000, 0x63b456fd00000000, 0x542ee1d500000000,\n+    0x85c606db00000000, 0xf6ff2ec800000000, 0x2717c9c600000000,\n+    0x98cb419900000000, 0x4923a69700000000, 0x3a1a8e8400000000,\n+    0xebf2698a00000000, 0xdc68dea200000000, 0x0d8039ac00000000,\n+    0x7eb911bf00000000, 0xaf51f6b100000000, 0x611c8c0700000000,\n+    0xb0f46b0900000000, 0xc3cd431a00000000, 0x1225a41400000000,\n+    0x25bf133c00000000, 0xf457f43200000000, 0x876edc2100000000,\n+    0x56863b2f00000000, 0xe95ab37000000000, 0x38b2547e00000000,\n+    0x4b8b7c6d00000000, 0x9a639b6300000000, 0xadf92c4b00000000,\n+    0x7c11cb4500000000, 0x0f28e35600000000, 0xdec0045800000000,\n+    0x7191f2e900000000, 0xa07915e700000000, 0xd3403df400000000,\n+    0x02a8dafa00000000, 0x35326dd200000000, 0xe4da8adc00000000,\n+    0x97e3a2cf00000000, 0x460b45c100000000, 0xf9d7cd9e00000000,\n+    0x283f2a9000000000, 0x5b06028300000000, 0x8aeee58d00000000,\n+    0xbd7452a500000000, 0x6c9cb5ab00000000, 0x1fa59db800000000,\n+    0xce4d7ab600000000, 0xc238180f00000000, 0x13d0ff0100000000,\n+    0x60e9d71200000000, 0xb101301c00000000, 0x869b873400000000,\n+    0x5773603a00000000, 0x244a482900000000, 0xf5a2af2700000000,\n+    0x4a7e277800000000, 0x9b96c07600000000, 0xe8afe86500000000,\n+    0x39470f6b00000000, 0x0eddb84300000000, 0xdf355f4d00000000,\n+    0xac0c775e00000000, 0x7de4905000000000, 0xd2b566e100000000,\n+    0x035d81ef00000000, 0x7064a9fc00000000, 0xa18c4ef200000000,\n+    0x9616f9da00000000, 0x47fe1ed400000000, 0x34c736c700000000,\n+    0xe52fd1c900000000, 0x5af3599600000000, 0x8b1bbe9800000000,\n+    0xf822968b00000000, 0x29ca718500000000, 0x1e50c6ad00000000,\n+    0xcfb821a300000000, 0xbc8109b000000000, 0x6d69eebe00000000,\n+    0xa324940800000000, 0x72cc730600000000, 0x01f55b1500000000,\n+    0xd01dbc1b00000000, 0xe7870b3300000000, 0x366fec3d00000000,\n+    0x4556c42e00000000, 0x94be232000000000, 0x2b62ab7f00000000,\n+    0xfa8a4c7100000000, 0x89b3646200000000, 0x585b836c00000000,\n+    0x6fc1344400000000, 0xbe29d34a00000000, 0xcd10fb5900000000,\n+    0x1cf81c5700000000, 0xb3a9eae600000000, 0x62410de800000000,\n+    0x117825fb00000000, 0xc090c2f500000000, 0xf70a75dd00000000,\n+    0x26e292d300000000, 0x55dbbac000000000, 0x84335dce00000000,\n+    0x3befd59100000000, 0xea07329f00000000, 0x993e1a8c00000000,\n+    0x48d6fd8200000000, 0x7f4c4aaa00000000, 0xaea4ada400000000,\n+    0xdd9d85b700000000, 0x0c7562b900000000, 0x8471301e00000000,\n+    0x5599d71000000000, 0x26a0ff0300000000, 0xf748180d00000000,\n+    0xc0d2af2500000000, 0x113a482b00000000, 0x6203603800000000,\n+    0xb3eb873600000000, 0x0c370f6900000000, 0xdddfe86700000000,\n+    0xaee6c07400000000, 0x7f0e277a00000000, 0x4894905200000000,\n+    0x997c775c00000000, 0xea455f4f00000000, 0x3badb84100000000,\n+    0x94fc4ef000000000, 0x4514a9fe00000000, 0x362d81ed00000000,\n+    0xe7c566e300000000, 0xd05fd1cb00000000, 0x01b736c500000000,\n+    0x728e1ed600000000, 0xa366f9d800000000, 0x1cba718700000000,\n+    0xcd52968900000000, 0xbe6bbe9a00000000, 0x6f83599400000000,\n+    0x5819eebc00000000, 0x89f109b200000000, 0xfac821a100000000,\n+    0x2b20c6af00000000, 0xe56dbc1900000000, 0x34855b1700000000,\n+    0x47bc730400000000, 0x9654940a00000000, 0xa1ce232200000000,\n+    0x7026c42c00000000, 0x031fec3f00000000, 0xd2f70b3100000000,\n+    0x6d2b836e00000000, 0xbcc3646000000000, 0xcffa4c7300000000,\n+    0x1e12ab7d00000000, 0x29881c5500000000, 0xf860fb5b00000000,\n+    0x8b59d34800000000, 0x5ab1344600000000, 0xf5e0c2f700000000,\n+    0x240825f900000000, 0x57310dea00000000, 0x86d9eae400000000,\n+    0xb1435dcc00000000, 0x60abbac200000000, 0x139292d100000000,\n+    0xc27a75df00000000, 0x7da6fd8000000000, 0xac4e1a8e00000000,\n+    0xdf77329d00000000, 0x0e9fd59300000000, 0x390562bb00000000,\n+    0xe8ed85b500000000, 0x9bd4ada600000000, 0x4a3c4aa800000000,\n+    0x4649281100000000, 0x97a1cf1f00000000, 0xe498e70c00000000,\n+    0x3570000200000000, 0x02eab72a00000000, 0xd302502400000000,\n+    0xa03b783700000000, 0x71d39f3900000000, 0xce0f176600000000,\n+    0x1fe7f06800000000, 0x6cded87b00000000, 0xbd363f7500000000,\n+    0x8aac885d00000000, 0x5b446f5300000000, 0x287d474000000000,\n+    0xf995a04e00000000, 0x56c456ff00000000, 0x872cb1f100000000,\n+    0xf41599e200000000, 0x25fd7eec00000000, 0x1267c9c400000000,\n+    0xc38f2eca00000000, 0xb0b606d900000000, 0x615ee1d700000000,\n+    0xde82698800000000, 0x0f6a8e8600000000, 0x7c53a69500000000,\n+    0xadbb419b00000000, 0x9a21f6b300000000, 0x4bc911bd00000000,\n+    0x38f039ae00000000, 0xe918dea000000000, 0x2755a41600000000,\n+    0xf6bd431800000000, 0x85846b0b00000000, 0x546c8c0500000000,\n+    0x63f63b2d00000000, 0xb21edc2300000000, 0xc127f43000000000,\n+    0x10cf133e00000000, 0xaf139b6100000000, 0x7efb7c6f00000000,\n+    0x0dc2547c00000000, 0xdc2ab37200000000, 0xebb0045a00000000,\n+    0x3a58e35400000000, 0x4961cb4700000000, 0x98892c4900000000,\n+    0x37d8daf800000000, 0xe6303df600000000, 0x950915e500000000,\n+    0x44e1f2eb00000000, 0x737b45c300000000, 0xa293a2cd00000000,\n+    0xd1aa8ade00000000, 0x00426dd000000000, 0xbf9ee58f00000000,\n+    0x6e76028100000000, 0x1d4f2a9200000000, 0xcca7cd9c00000000,\n+    0xfb3d7ab400000000, 0x2ad59dba00000000, 0x59ecb5a900000000,\n+    0x880452a700000000},\n+   {0x0000000000000000, 0xaa05daf100000000, 0x150dc53800000000,\n+    0xbf081fc900000000, 0x2a1a8a7100000000, 0x801f508000000000,\n+    0x3f174f4900000000, 0x951295b800000000, 0x543414e300000000,\n+    0xfe31ce1200000000, 0x4139d1db00000000, 0xeb3c0b2a00000000,\n+    0x7e2e9e9200000000, 0xd42b446300000000, 0x6b235baa00000000,\n+    0xc126815b00000000, 0xe96e591d00000000, 0x436b83ec00000000,\n+    0xfc639c2500000000, 0x566646d400000000, 0xc374d36c00000000,\n+    0x6971099d00000000, 0xd679165400000000, 0x7c7ccca500000000,\n+    0xbd5a4dfe00000000, 0x175f970f00000000, 0xa85788c600000000,\n+    0x0252523700000000, 0x9740c78f00000000, 0x3d451d7e00000000,\n+    0x824d02b700000000, 0x2848d84600000000, 0xd2ddb23a00000000,\n+    0x78d868cb00000000, 0xc7d0770200000000, 0x6dd5adf300000000,\n+    0xf8c7384b00000000, 0x52c2e2ba00000000, 0xedcafd7300000000,\n+    0x47cf278200000000, 0x86e9a6d900000000, 0x2cec7c2800000000,\n+    0x93e463e100000000, 0x39e1b91000000000, 0xacf32ca800000000,\n+    0x06f6f65900000000, 0xb9fee99000000000, 0x13fb336100000000,\n+    0x3bb3eb2700000000, 0x91b631d600000000, 0x2ebe2e1f00000000,\n+    0x84bbf4ee00000000, 0x11a9615600000000, 0xbbacbba700000000,\n+    0x04a4a46e00000000, 0xaea17e9f00000000, 0x6f87ffc400000000,\n+    0xc582253500000000, 0x7a8a3afc00000000, 0xd08fe00d00000000,\n+    0x459d75b500000000, 0xef98af4400000000, 0x5090b08d00000000,\n+    0xfa956a7c00000000, 0xa4bb657500000000, 0x0ebebf8400000000,\n+    0xb1b6a04d00000000, 0x1bb37abc00000000, 0x8ea1ef0400000000,\n+    0x24a435f500000000, 0x9bac2a3c00000000, 0x31a9f0cd00000000,\n+    0xf08f719600000000, 0x5a8aab6700000000, 0xe582b4ae00000000,\n+    0x4f876e5f00000000, 0xda95fbe700000000, 0x7090211600000000,\n+    0xcf983edf00000000, 0x659de42e00000000, 0x4dd53c6800000000,\n+    0xe7d0e69900000000, 0x58d8f95000000000, 0xf2dd23a100000000,\n+    0x67cfb61900000000, 0xcdca6ce800000000, 0x72c2732100000000,\n+    0xd8c7a9d000000000, 0x19e1288b00000000, 0xb3e4f27a00000000,\n+    0x0cecedb300000000, 0xa6e9374200000000, 0x33fba2fa00000000,\n+    0x99fe780b00000000, 0x26f667c200000000, 0x8cf3bd3300000000,\n+    0x7666d74f00000000, 0xdc630dbe00000000, 0x636b127700000000,\n+    0xc96ec88600000000, 0x5c7c5d3e00000000, 0xf67987cf00000000,\n+    0x4971980600000000, 0xe37442f700000000, 0x2252c3ac00000000,\n+    0x8857195d00000000, 0x375f069400000000, 0x9d5adc6500000000,\n+    0x084849dd00000000, 0xa24d932c00000000, 0x1d458ce500000000,\n+    0xb740561400000000, 0x9f088e5200000000, 0x350d54a300000000,\n+    0x8a054b6a00000000, 0x2000919b00000000, 0xb512042300000000,\n+    0x1f17ded200000000, 0xa01fc11b00000000, 0x0a1a1bea00000000,\n+    0xcb3c9ab100000000, 0x6139404000000000, 0xde315f8900000000,\n+    0x7434857800000000, 0xe12610c000000000, 0x4b23ca3100000000,\n+    0xf42bd5f800000000, 0x5e2e0f0900000000, 0x4877cbea00000000,\n+    0xe272111b00000000, 0x5d7a0ed200000000, 0xf77fd42300000000,\n+    0x626d419b00000000, 0xc8689b6a00000000, 0x776084a300000000,\n+    0xdd655e5200000000, 0x1c43df0900000000, 0xb64605f800000000,\n+    0x094e1a3100000000, 0xa34bc0c000000000, 0x3659557800000000,\n+    0x9c5c8f8900000000, 0x2354904000000000, 0x89514ab100000000,\n+    0xa11992f700000000, 0x0b1c480600000000, 0xb41457cf00000000,\n+    0x1e118d3e00000000, 0x8b03188600000000, 0x2106c27700000000,\n+    0x9e0eddbe00000000, 0x340b074f00000000, 0xf52d861400000000,\n+    0x5f285ce500000000, 0xe020432c00000000, 0x4a2599dd00000000,\n+    0xdf370c6500000000, 0x7532d69400000000, 0xca3ac95d00000000,\n+    0x603f13ac00000000, 0x9aaa79d000000000, 0x30afa32100000000,\n+    0x8fa7bce800000000, 0x25a2661900000000, 0xb0b0f3a100000000,\n+    0x1ab5295000000000, 0xa5bd369900000000, 0x0fb8ec6800000000,\n+    0xce9e6d3300000000, 0x649bb7c200000000, 0xdb93a80b00000000,\n+    0x719672fa00000000, 0xe484e74200000000, 0x4e813db300000000,\n+    0xf189227a00000000, 0x5b8cf88b00000000, 0x73c420cd00000000,\n+    0xd9c1fa3c00000000, 0x66c9e5f500000000, 0xcccc3f0400000000,\n+    0x59deaabc00000000, 0xf3db704d00000000, 0x4cd36f8400000000,\n+    0xe6d6b57500000000, 0x27f0342e00000000, 0x8df5eedf00000000,\n+    0x32fdf11600000000, 0x98f82be700000000, 0x0deabe5f00000000,\n+    0xa7ef64ae00000000, 0x18e77b6700000000, 0xb2e2a19600000000,\n+    0xecccae9f00000000, 0x46c9746e00000000, 0xf9c16ba700000000,\n+    0x53c4b15600000000, 0xc6d624ee00000000, 0x6cd3fe1f00000000,\n+    0xd3dbe1d600000000, 0x79de3b2700000000, 0xb8f8ba7c00000000,\n+    0x12fd608d00000000, 0xadf57f4400000000, 0x07f0a5b500000000,\n+    0x92e2300d00000000, 0x38e7eafc00000000, 0x87eff53500000000,\n+    0x2dea2fc400000000, 0x05a2f78200000000, 0xafa72d7300000000,\n+    0x10af32ba00000000, 0xbaaae84b00000000, 0x2fb87df300000000,\n+    0x85bda70200000000, 0x3ab5b8cb00000000, 0x90b0623a00000000,\n+    0x5196e36100000000, 0xfb93399000000000, 0x449b265900000000,\n+    0xee9efca800000000, 0x7b8c691000000000, 0xd189b3e100000000,\n+    0x6e81ac2800000000, 0xc48476d900000000, 0x3e111ca500000000,\n+    0x9414c65400000000, 0x2b1cd99d00000000, 0x8119036c00000000,\n+    0x140b96d400000000, 0xbe0e4c2500000000, 0x010653ec00000000,\n+    0xab03891d00000000, 0x6a25084600000000, 0xc020d2b700000000,\n+    0x7f28cd7e00000000, 0xd52d178f00000000, 0x403f823700000000,\n+    0xea3a58c600000000, 0x5532470f00000000, 0xff379dfe00000000,\n+    0xd77f45b800000000, 0x7d7a9f4900000000, 0xc272808000000000,\n+    0x68775a7100000000, 0xfd65cfc900000000, 0x5760153800000000,\n+    0xe8680af100000000, 0x426dd00000000000, 0x834b515b00000000,\n+    0x294e8baa00000000, 0x9646946300000000, 0x3c434e9200000000,\n+    0xa951db2a00000000, 0x035401db00000000, 0xbc5c1e1200000000,\n+    0x1659c4e300000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xae689191, 0x87a02563, 0x29c8b4f2, 0xd4314c87,\n+    0x7a59dd16, 0x539169e4, 0xfdf9f875, 0x73139f4f, 0xdd7b0ede,\n+    0xf4b3ba2c, 0x5adb2bbd, 0xa722d3c8, 0x094a4259, 0x2082f6ab,\n+    0x8eea673a, 0xe6273e9e, 0x484faf0f, 0x61871bfd, 0xcfef8a6c,\n+    0x32167219, 0x9c7ee388, 0xb5b6577a, 0x1bdec6eb, 0x9534a1d1,\n+    0x3b5c3040, 0x129484b2, 0xbcfc1523, 0x4105ed56, 0xef6d7cc7,\n+    0xc6a5c835, 0x68cd59a4, 0x173f7b7d, 0xb957eaec, 0x909f5e1e,\n+    0x3ef7cf8f, 0xc30e37fa, 0x6d66a66b, 0x44ae1299, 0xeac68308,\n+    0x642ce432, 0xca4475a3, 0xe38cc151, 0x4de450c0, 0xb01da8b5,\n+    0x1e753924, 0x37bd8dd6, 0x99d51c47, 0xf11845e3, 0x5f70d472,\n+    0x76b86080, 0xd8d0f111, 0x25290964, 0x8b4198f5, 0xa2892c07,\n+    0x0ce1bd96, 0x820bdaac, 0x2c634b3d, 0x05abffcf, 0xabc36e5e,\n+    0x563a962b, 0xf85207ba, 0xd19ab348, 0x7ff222d9, 0x2e7ef6fa,\n+    0x8016676b, 0xa9ded399, 0x07b64208, 0xfa4fba7d, 0x54272bec,\n+    0x7def9f1e, 0xd3870e8f, 0x5d6d69b5, 0xf305f824, 0xdacd4cd6,\n+    0x74a5dd47, 0x895c2532, 0x2734b4a3, 0x0efc0051, 0xa09491c0,\n+    0xc859c864, 0x663159f5, 0x4ff9ed07, 0xe1917c96, 0x1c6884e3,\n+    0xb2001572, 0x9bc8a180, 0x35a03011, 0xbb4a572b, 0x1522c6ba,\n+    0x3cea7248, 0x9282e3d9, 0x6f7b1bac, 0xc1138a3d, 0xe8db3ecf,\n+    0x46b3af5e, 0x39418d87, 0x97291c16, 0xbee1a8e4, 0x10893975,\n+    0xed70c100, 0x43185091, 0x6ad0e463, 0xc4b875f2, 0x4a5212c8,\n+    0xe43a8359, 0xcdf237ab, 0x639aa63a, 0x9e635e4f, 0x300bcfde,\n+    0x19c37b2c, 0xb7abeabd, 0xdf66b319, 0x710e2288, 0x58c6967a,\n+    0xf6ae07eb, 0x0b57ff9e, 0xa53f6e0f, 0x8cf7dafd, 0x229f4b6c,\n+    0xac752c56, 0x021dbdc7, 0x2bd50935, 0x85bd98a4, 0x784460d1,\n+    0xd62cf140, 0xffe445b2, 0x518cd423, 0x5cfdedf4, 0xf2957c65,\n+    0xdb5dc897, 0x75355906, 0x88cca173, 0x26a430e2, 0x0f6c8410,\n+    0xa1041581, 0x2fee72bb, 0x8186e32a, 0xa84e57d8, 0x0626c649,\n+    0xfbdf3e3c, 0x55b7afad, 0x7c7f1b5f, 0xd2178ace, 0xbadad36a,\n+    0x14b242fb, 0x3d7af609, 0x93126798, 0x6eeb9fed, 0xc0830e7c,\n+    0xe94bba8e, 0x47232b1f, 0xc9c94c25, 0x67a1ddb4, 0x4e696946,\n+    0xe001f8d7, 0x1df800a2, 0xb3909133, 0x9a5825c1, 0x3430b450,\n+    0x4bc29689, 0xe5aa0718, 0xcc62b3ea, 0x620a227b, 0x9ff3da0e,\n+    0x319b4b9f, 0x1853ff6d, 0xb63b6efc, 0x38d109c6, 0x96b99857,\n+    0xbf712ca5, 0x1119bd34, 0xece04541, 0x4288d4d0, 0x6b406022,\n+    0xc528f1b3, 0xade5a817, 0x038d3986, 0x2a458d74, 0x842d1ce5,\n+    0x79d4e490, 0xd7bc7501, 0xfe74c1f3, 0x501c5062, 0xdef63758,\n+    0x709ea6c9, 0x5956123b, 0xf73e83aa, 0x0ac77bdf, 0xa4afea4e,\n+    0x8d675ebc, 0x230fcf2d, 0x72831b0e, 0xdceb8a9f, 0xf5233e6d,\n+    0x5b4baffc, 0xa6b25789, 0x08dac618, 0x211272ea, 0x8f7ae37b,\n+    0x01908441, 0xaff815d0, 0x8630a122, 0x285830b3, 0xd5a1c8c6,\n+    0x7bc95957, 0x5201eda5, 0xfc697c34, 0x94a42590, 0x3accb401,\n+    0x130400f3, 0xbd6c9162, 0x40956917, 0xeefdf886, 0xc7354c74,\n+    0x695ddde5, 0xe7b7badf, 0x49df2b4e, 0x60179fbc, 0xce7f0e2d,\n+    0x3386f658, 0x9dee67c9, 0xb426d33b, 0x1a4e42aa, 0x65bc6073,\n+    0xcbd4f1e2, 0xe21c4510, 0x4c74d481, 0xb18d2cf4, 0x1fe5bd65,\n+    0x362d0997, 0x98459806, 0x16afff3c, 0xb8c76ead, 0x910fda5f,\n+    0x3f674bce, 0xc29eb3bb, 0x6cf6222a, 0x453e96d8, 0xeb560749,\n+    0x839b5eed, 0x2df3cf7c, 0x043b7b8e, 0xaa53ea1f, 0x57aa126a,\n+    0xf9c283fb, 0xd00a3709, 0x7e62a698, 0xf088c1a2, 0x5ee05033,\n+    0x7728e4c1, 0xd9407550, 0x24b98d25, 0x8ad11cb4, 0xa319a846,\n+    0x0d7139d7},\n+   {0x00000000, 0xb9fbdbe8, 0xa886b191, 0x117d6a79, 0x8a7c6563,\n+    0x3387be8b, 0x22fad4f2, 0x9b010f1a, 0xcf89cc87, 0x7672176f,\n+    0x670f7d16, 0xdef4a6fe, 0x45f5a9e4, 0xfc0e720c, 0xed731875,\n+    0x5488c39d, 0x44629f4f, 0xfd9944a7, 0xece42ede, 0x551ff536,\n+    0xce1efa2c, 0x77e521c4, 0x66984bbd, 0xdf639055, 0x8beb53c8,\n+    0x32108820, 0x236de259, 0x9a9639b1, 0x019736ab, 0xb86ced43,\n+    0xa911873a, 0x10ea5cd2, 0x88c53e9e, 0x313ee576, 0x20438f0f,\n+    0x99b854e7, 0x02b95bfd, 0xbb428015, 0xaa3fea6c, 0x13c43184,\n+    0x474cf219, 0xfeb729f1, 0xefca4388, 0x56319860, 0xcd30977a,\n+    0x74cb4c92, 0x65b626eb, 0xdc4dfd03, 0xcca7a1d1, 0x755c7a39,\n+    0x64211040, 0xdddacba8, 0x46dbc4b2, 0xff201f5a, 0xee5d7523,\n+    0x57a6aecb, 0x032e6d56, 0xbad5b6be, 0xaba8dcc7, 0x1253072f,\n+    0x89520835, 0x30a9d3dd, 0x21d4b9a4, 0x982f624c, 0xcafb7b7d,\n+    0x7300a095, 0x627dcaec, 0xdb861104, 0x40871e1e, 0xf97cc5f6,\n+    0xe801af8f, 0x51fa7467, 0x0572b7fa, 0xbc896c12, 0xadf4066b,\n+    0x140fdd83, 0x8f0ed299, 0x36f50971, 0x27886308, 0x9e73b8e0,\n+    0x8e99e432, 0x37623fda, 0x261f55a3, 0x9fe48e4b, 0x04e58151,\n+    0xbd1e5ab9, 0xac6330c0, 0x1598eb28, 0x411028b5, 0xf8ebf35d,\n+    0xe9969924, 0x506d42cc, 0xcb6c4dd6, 0x7297963e, 0x63eafc47,\n+    0xda1127af, 0x423e45e3, 0xfbc59e0b, 0xeab8f472, 0x53432f9a,\n+    0xc8422080, 0x71b9fb68, 0x60c49111, 0xd93f4af9, 0x8db78964,\n+    0x344c528c, 0x253138f5, 0x9ccae31d, 0x07cbec07, 0xbe3037ef,\n+    0xaf4d5d96, 0x16b6867e, 0x065cdaac, 0xbfa70144, 0xaeda6b3d,\n+    0x1721b0d5, 0x8c20bfcf, 0x35db6427, 0x24a60e5e, 0x9d5dd5b6,\n+    0xc9d5162b, 0x702ecdc3, 0x6153a7ba, 0xd8a87c52, 0x43a97348,\n+    0xfa52a8a0, 0xeb2fc2d9, 0x52d41931, 0x4e87f0bb, 0xf77c2b53,\n+    0xe601412a, 0x5ffa9ac2, 0xc4fb95d8, 0x7d004e30, 0x6c7d2449,\n+    0xd586ffa1, 0x810e3c3c, 0x38f5e7d4, 0x29888dad, 0x90735645,\n+    0x0b72595f, 0xb28982b7, 0xa3f4e8ce, 0x1a0f3326, 0x0ae56ff4,\n+    0xb31eb41c, 0xa263de65, 0x1b98058d, 0x80990a97, 0x3962d17f,\n+    0x281fbb06, 0x91e460ee, 0xc56ca373, 0x7c97789b, 0x6dea12e2,\n+    0xd411c90a, 0x4f10c610, 0xf6eb1df8, 0xe7967781, 0x5e6dac69,\n+    0xc642ce25, 0x7fb915cd, 0x6ec47fb4, 0xd73fa45c, 0x4c3eab46,\n+    0xf5c570ae, 0xe4b81ad7, 0x5d43c13f, 0x09cb02a2, 0xb030d94a,\n+    0xa14db333, 0x18b668db, 0x83b767c1, 0x3a4cbc29, 0x2b31d650,\n+    0x92ca0db8, 0x8220516a, 0x3bdb8a82, 0x2aa6e0fb, 0x935d3b13,\n+    0x085c3409, 0xb1a7efe1, 0xa0da8598, 0x19215e70, 0x4da99ded,\n+    0xf4524605, 0xe52f2c7c, 0x5cd4f794, 0xc7d5f88e, 0x7e2e2366,\n+    0x6f53491f, 0xd6a892f7, 0x847c8bc6, 0x3d87502e, 0x2cfa3a57,\n+    0x9501e1bf, 0x0e00eea5, 0xb7fb354d, 0xa6865f34, 0x1f7d84dc,\n+    0x4bf54741, 0xf20e9ca9, 0xe373f6d0, 0x5a882d38, 0xc1892222,\n+    0x7872f9ca, 0x690f93b3, 0xd0f4485b, 0xc01e1489, 0x79e5cf61,\n+    0x6898a518, 0xd1637ef0, 0x4a6271ea, 0xf399aa02, 0xe2e4c07b,\n+    0x5b1f1b93, 0x0f97d80e, 0xb66c03e6, 0xa711699f, 0x1eeab277,\n+    0x85ebbd6d, 0x3c106685, 0x2d6d0cfc, 0x9496d714, 0x0cb9b558,\n+    0xb5426eb0, 0xa43f04c9, 0x1dc4df21, 0x86c5d03b, 0x3f3e0bd3,\n+    0x2e4361aa, 0x97b8ba42, 0xc33079df, 0x7acba237, 0x6bb6c84e,\n+    0xd24d13a6, 0x494c1cbc, 0xf0b7c754, 0xe1caad2d, 0x583176c5,\n+    0x48db2a17, 0xf120f1ff, 0xe05d9b86, 0x59a6406e, 0xc2a74f74,\n+    0x7b5c949c, 0x6a21fee5, 0xd3da250d, 0x8752e690, 0x3ea93d78,\n+    0x2fd45701, 0x962f8ce9, 0x0d2e83f3, 0xb4d5581b, 0xa5a83262,\n+    0x1c53e98a},\n+   {0x00000000, 0x9d0fe176, 0xe16ec4ad, 0x7c6125db, 0x19ac8f1b,\n+    0x84a36e6d, 0xf8c24bb6, 0x65cdaac0, 0x33591e36, 0xae56ff40,\n+    0xd237da9b, 0x4f383bed, 0x2af5912d, 0xb7fa705b, 0xcb9b5580,\n+    0x5694b4f6, 0x66b23c6c, 0xfbbddd1a, 0x87dcf8c1, 0x1ad319b7,\n+    0x7f1eb377, 0xe2115201, 0x9e7077da, 0x037f96ac, 0x55eb225a,\n+    0xc8e4c32c, 0xb485e6f7, 0x298a0781, 0x4c47ad41, 0xd1484c37,\n+    0xad2969ec, 0x3026889a, 0xcd6478d8, 0x506b99ae, 0x2c0abc75,\n+    0xb1055d03, 0xd4c8f7c3, 0x49c716b5, 0x35a6336e, 0xa8a9d218,\n+    0xfe3d66ee, 0x63328798, 0x1f53a243, 0x825c4335, 0xe791e9f5,\n+    0x7a9e0883, 0x06ff2d58, 0x9bf0cc2e, 0xabd644b4, 0x36d9a5c2,\n+    0x4ab88019, 0xd7b7616f, 0xb27acbaf, 0x2f752ad9, 0x53140f02,\n+    0xce1bee74, 0x988f5a82, 0x0580bbf4, 0x79e19e2f, 0xe4ee7f59,\n+    0x8123d599, 0x1c2c34ef, 0x604d1134, 0xfd42f042, 0x41b9f7f1,\n+    0xdcb61687, 0xa0d7335c, 0x3dd8d22a, 0x581578ea, 0xc51a999c,\n+    0xb97bbc47, 0x24745d31, 0x72e0e9c7, 0xefef08b1, 0x938e2d6a,\n+    0x0e81cc1c, 0x6b4c66dc, 0xf64387aa, 0x8a22a271, 0x172d4307,\n+    0x270bcb9d, 0xba042aeb, 0xc6650f30, 0x5b6aee46, 0x3ea74486,\n+    0xa3a8a5f0, 0xdfc9802b, 0x42c6615d, 0x1452d5ab, 0x895d34dd,\n+    0xf53c1106, 0x6833f070, 0x0dfe5ab0, 0x90f1bbc6, 0xec909e1d,\n+    0x719f7f6b, 0x8cdd8f29, 0x11d26e5f, 0x6db34b84, 0xf0bcaaf2,\n+    0x95710032, 0x087ee144, 0x741fc49f, 0xe91025e9, 0xbf84911f,\n+    0x228b7069, 0x5eea55b2, 0xc3e5b4c4, 0xa6281e04, 0x3b27ff72,\n+    0x4746daa9, 0xda493bdf, 0xea6fb345, 0x77605233, 0x0b0177e8,\n+    0x960e969e, 0xf3c33c5e, 0x6eccdd28, 0x12adf8f3, 0x8fa21985,\n+    0xd936ad73, 0x44394c05, 0x385869de, 0xa55788a8, 0xc09a2268,\n+    0x5d95c31e, 0x21f4e6c5, 0xbcfb07b3, 0x8373efe2, 0x1e7c0e94,\n+    0x621d2b4f, 0xff12ca39, 0x9adf60f9, 0x07d0818f, 0x7bb1a454,\n+    0xe6be4522, 0xb02af1d4, 0x2d2510a2, 0x51443579, 0xcc4bd40f,\n+    0xa9867ecf, 0x34899fb9, 0x48e8ba62, 0xd5e75b14, 0xe5c1d38e,\n+    0x78ce32f8, 0x04af1723, 0x99a0f655, 0xfc6d5c95, 0x6162bde3,\n+    0x1d039838, 0x800c794e, 0xd698cdb8, 0x4b972cce, 0x37f60915,\n+    0xaaf9e863, 0xcf3442a3, 0x523ba3d5, 0x2e5a860e, 0xb3556778,\n+    0x4e17973a, 0xd318764c, 0xaf795397, 0x3276b2e1, 0x57bb1821,\n+    0xcab4f957, 0xb6d5dc8c, 0x2bda3dfa, 0x7d4e890c, 0xe041687a,\n+    0x9c204da1, 0x012facd7, 0x64e20617, 0xf9ede761, 0x858cc2ba,\n+    0x188323cc, 0x28a5ab56, 0xb5aa4a20, 0xc9cb6ffb, 0x54c48e8d,\n+    0x3109244d, 0xac06c53b, 0xd067e0e0, 0x4d680196, 0x1bfcb560,\n+    0x86f35416, 0xfa9271cd, 0x679d90bb, 0x02503a7b, 0x9f5fdb0d,\n+    0xe33efed6, 0x7e311fa0, 0xc2ca1813, 0x5fc5f965, 0x23a4dcbe,\n+    0xbeab3dc8, 0xdb669708, 0x4669767e, 0x3a0853a5, 0xa707b2d3,\n+    0xf1930625, 0x6c9ce753, 0x10fdc288, 0x8df223fe, 0xe83f893e,\n+    0x75306848, 0x09514d93, 0x945eace5, 0xa478247f, 0x3977c509,\n+    0x4516e0d2, 0xd81901a4, 0xbdd4ab64, 0x20db4a12, 0x5cba6fc9,\n+    0xc1b58ebf, 0x97213a49, 0x0a2edb3f, 0x764ffee4, 0xeb401f92,\n+    0x8e8db552, 0x13825424, 0x6fe371ff, 0xf2ec9089, 0x0fae60cb,\n+    0x92a181bd, 0xeec0a466, 0x73cf4510, 0x1602efd0, 0x8b0d0ea6,\n+    0xf76c2b7d, 0x6a63ca0b, 0x3cf77efd, 0xa1f89f8b, 0xdd99ba50,\n+    0x40965b26, 0x255bf1e6, 0xb8541090, 0xc435354b, 0x593ad43d,\n+    0x691c5ca7, 0xf413bdd1, 0x8872980a, 0x157d797c, 0x70b0d3bc,\n+    0xedbf32ca, 0x91de1711, 0x0cd1f667, 0x5a454291, 0xc74aa3e7,\n+    0xbb2b863c, 0x2624674a, 0x43e9cd8a, 0xdee62cfc, 0xa2870927,\n+    0x3f88e851},\n+   {0x00000000, 0xdd96d985, 0x605cb54b, 0xbdca6cce, 0xc0b96a96,\n+    0x1d2fb313, 0xa0e5dfdd, 0x7d730658, 0x5a03d36d, 0x87950ae8,\n+    0x3a5f6626, 0xe7c9bfa3, 0x9abab9fb, 0x472c607e, 0xfae60cb0,\n+    0x2770d535, 0xb407a6da, 0x69917f5f, 0xd45b1391, 0x09cdca14,\n+    0x74becc4c, 0xa92815c9, 0x14e27907, 0xc974a082, 0xee0475b7,\n+    0x3392ac32, 0x8e58c0fc, 0x53ce1979, 0x2ebd1f21, 0xf32bc6a4,\n+    0x4ee1aa6a, 0x937773ef, 0xb37e4bf5, 0x6ee89270, 0xd322febe,\n+    0x0eb4273b, 0x73c72163, 0xae51f8e6, 0x139b9428, 0xce0d4dad,\n+    0xe97d9898, 0x34eb411d, 0x89212dd3, 0x54b7f456, 0x29c4f20e,\n+    0xf4522b8b, 0x49984745, 0x940e9ec0, 0x0779ed2f, 0xdaef34aa,\n+    0x67255864, 0xbab381e1, 0xc7c087b9, 0x1a565e3c, 0xa79c32f2,\n+    0x7a0aeb77, 0x5d7a3e42, 0x80ece7c7, 0x3d268b09, 0xe0b0528c,\n+    0x9dc354d4, 0x40558d51, 0xfd9fe19f, 0x2009381a, 0xbd8d91ab,\n+    0x601b482e, 0xddd124e0, 0x0047fd65, 0x7d34fb3d, 0xa0a222b8,\n+    0x1d684e76, 0xc0fe97f3, 0xe78e42c6, 0x3a189b43, 0x87d2f78d,\n+    0x5a442e08, 0x27372850, 0xfaa1f1d5, 0x476b9d1b, 0x9afd449e,\n+    0x098a3771, 0xd41ceef4, 0x69d6823a, 0xb4405bbf, 0xc9335de7,\n+    0x14a58462, 0xa96fe8ac, 0x74f93129, 0x5389e41c, 0x8e1f3d99,\n+    0x33d55157, 0xee4388d2, 0x93308e8a, 0x4ea6570f, 0xf36c3bc1,\n+    0x2efae244, 0x0ef3da5e, 0xd36503db, 0x6eaf6f15, 0xb339b690,\n+    0xce4ab0c8, 0x13dc694d, 0xae160583, 0x7380dc06, 0x54f00933,\n+    0x8966d0b6, 0x34acbc78, 0xe93a65fd, 0x944963a5, 0x49dfba20,\n+    0xf415d6ee, 0x29830f6b, 0xbaf47c84, 0x6762a501, 0xdaa8c9cf,\n+    0x073e104a, 0x7a4d1612, 0xa7dbcf97, 0x1a11a359, 0xc7877adc,\n+    0xe0f7afe9, 0x3d61766c, 0x80ab1aa2, 0x5d3dc327, 0x204ec57f,\n+    0xfdd81cfa, 0x40127034, 0x9d84a9b1, 0xa06a2517, 0x7dfcfc92,\n+    0xc036905c, 0x1da049d9, 0x60d34f81, 0xbd459604, 0x008ffaca,\n+    0xdd19234f, 0xfa69f67a, 0x27ff2fff, 0x9a354331, 0x47a39ab4,\n+    0x3ad09cec, 0xe7464569, 0x5a8c29a7, 0x871af022, 0x146d83cd,\n+    0xc9fb5a48, 0x74313686, 0xa9a7ef03, 0xd4d4e95b, 0x094230de,\n+    0xb4885c10, 0x691e8595, 0x4e6e50a0, 0x93f88925, 0x2e32e5eb,\n+    0xf3a43c6e, 0x8ed73a36, 0x5341e3b3, 0xee8b8f7d, 0x331d56f8,\n+    0x13146ee2, 0xce82b767, 0x7348dba9, 0xaede022c, 0xd3ad0474,\n+    0x0e3bddf1, 0xb3f1b13f, 0x6e6768ba, 0x4917bd8f, 0x9481640a,\n+    0x294b08c4, 0xf4ddd141, 0x89aed719, 0x54380e9c, 0xe9f26252,\n+    0x3464bbd7, 0xa713c838, 0x7a8511bd, 0xc74f7d73, 0x1ad9a4f6,\n+    0x67aaa2ae, 0xba3c7b2b, 0x07f617e5, 0xda60ce60, 0xfd101b55,\n+    0x2086c2d0, 0x9d4cae1e, 0x40da779b, 0x3da971c3, 0xe03fa846,\n+    0x5df5c488, 0x80631d0d, 0x1de7b4bc, 0xc0716d39, 0x7dbb01f7,\n+    0xa02dd872, 0xdd5ede2a, 0x00c807af, 0xbd026b61, 0x6094b2e4,\n+    0x47e467d1, 0x9a72be54, 0x27b8d29a, 0xfa2e0b1f, 0x875d0d47,\n+    0x5acbd4c2, 0xe701b80c, 0x3a976189, 0xa9e01266, 0x7476cbe3,\n+    0xc9bca72d, 0x142a7ea8, 0x695978f0, 0xb4cfa175, 0x0905cdbb,\n+    0xd493143e, 0xf3e3c10b, 0x2e75188e, 0x93bf7440, 0x4e29adc5,\n+    0x335aab9d, 0xeecc7218, 0x53061ed6, 0x8e90c753, 0xae99ff49,\n+    0x730f26cc, 0xcec54a02, 0x13539387, 0x6e2095df, 0xb3b64c5a,\n+    0x0e7c2094, 0xd3eaf911, 0xf49a2c24, 0x290cf5a1, 0x94c6996f,\n+    0x495040ea, 0x342346b2, 0xe9b59f37, 0x547ff3f9, 0x89e92a7c,\n+    0x1a9e5993, 0xc7088016, 0x7ac2ecd8, 0xa754355d, 0xda273305,\n+    0x07b1ea80, 0xba7b864e, 0x67ed5fcb, 0x409d8afe, 0x9d0b537b,\n+    0x20c13fb5, 0xfd57e630, 0x8024e068, 0x5db239ed, 0xe0785523,\n+    0x3dee8ca6}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0x85d996dd, 0x4bb55c60, 0xce6ccabd, 0x966ab9c0,\n+    0x13b32f1d, 0xdddfe5a0, 0x5806737d, 0x6dd3035a, 0xe80a9587,\n+    0x26665f3a, 0xa3bfc9e7, 0xfbb9ba9a, 0x7e602c47, 0xb00ce6fa,\n+    0x35d57027, 0xdaa607b4, 0x5f7f9169, 0x91135bd4, 0x14cacd09,\n+    0x4cccbe74, 0xc91528a9, 0x0779e214, 0x82a074c9, 0xb77504ee,\n+    0x32ac9233, 0xfcc0588e, 0x7919ce53, 0x211fbd2e, 0xa4c62bf3,\n+    0x6aaae14e, 0xef737793, 0xf54b7eb3, 0x7092e86e, 0xbefe22d3,\n+    0x3b27b40e, 0x6321c773, 0xe6f851ae, 0x28949b13, 0xad4d0dce,\n+    0x98987de9, 0x1d41eb34, 0xd32d2189, 0x56f4b754, 0x0ef2c429,\n+    0x8b2b52f4, 0x45479849, 0xc09e0e94, 0x2fed7907, 0xaa34efda,\n+    0x64582567, 0xe181b3ba, 0xb987c0c7, 0x3c5e561a, 0xf2329ca7,\n+    0x77eb0a7a, 0x423e7a5d, 0xc7e7ec80, 0x098b263d, 0x8c52b0e0,\n+    0xd454c39d, 0x518d5540, 0x9fe19ffd, 0x1a380920, 0xab918dbd,\n+    0x2e481b60, 0xe024d1dd, 0x65fd4700, 0x3dfb347d, 0xb822a2a0,\n+    0x764e681d, 0xf397fec0, 0xc6428ee7, 0x439b183a, 0x8df7d287,\n+    0x082e445a, 0x50283727, 0xd5f1a1fa, 0x1b9d6b47, 0x9e44fd9a,\n+    0x71378a09, 0xf4ee1cd4, 0x3a82d669, 0xbf5b40b4, 0xe75d33c9,\n+    0x6284a514, 0xace86fa9, 0x2931f974, 0x1ce48953, 0x993d1f8e,\n+    0x5751d533, 0xd28843ee, 0x8a8e3093, 0x0f57a64e, 0xc13b6cf3,\n+    0x44e2fa2e, 0x5edaf30e, 0xdb0365d3, 0x156faf6e, 0x90b639b3,\n+    0xc8b04ace, 0x4d69dc13, 0x830516ae, 0x06dc8073, 0x3309f054,\n+    0xb6d06689, 0x78bcac34, 0xfd653ae9, 0xa5634994, 0x20badf49,\n+    0xeed615f4, 0x6b0f8329, 0x847cf4ba, 0x01a56267, 0xcfc9a8da,\n+    0x4a103e07, 0x12164d7a, 0x97cfdba7, 0x59a3111a, 0xdc7a87c7,\n+    0xe9aff7e0, 0x6c76613d, 0xa21aab80, 0x27c33d5d, 0x7fc54e20,\n+    0xfa1cd8fd, 0x34701240, 0xb1a9849d, 0x17256aa0, 0x92fcfc7d,\n+    0x5c9036c0, 0xd949a01d, 0x814fd360, 0x049645bd, 0xcafa8f00,\n+    0x4f2319dd, 0x7af669fa, 0xff2fff27, 0x3143359a, 0xb49aa347,\n+    0xec9cd03a, 0x694546e7, 0xa7298c5a, 0x22f01a87, 0xcd836d14,\n+    0x485afbc9, 0x86363174, 0x03efa7a9, 0x5be9d4d4, 0xde304209,\n+    0x105c88b4, 0x95851e69, 0xa0506e4e, 0x2589f893, 0xebe5322e,\n+    0x6e3ca4f3, 0x363ad78e, 0xb3e34153, 0x7d8f8bee, 0xf8561d33,\n+    0xe26e1413, 0x67b782ce, 0xa9db4873, 0x2c02deae, 0x7404add3,\n+    0xf1dd3b0e, 0x3fb1f1b3, 0xba68676e, 0x8fbd1749, 0x0a648194,\n+    0xc4084b29, 0x41d1ddf4, 0x19d7ae89, 0x9c0e3854, 0x5262f2e9,\n+    0xd7bb6434, 0x38c813a7, 0xbd11857a, 0x737d4fc7, 0xf6a4d91a,\n+    0xaea2aa67, 0x2b7b3cba, 0xe517f607, 0x60ce60da, 0x551b10fd,\n+    0xd0c28620, 0x1eae4c9d, 0x9b77da40, 0xc371a93d, 0x46a83fe0,\n+    0x88c4f55d, 0x0d1d6380, 0xbcb4e71d, 0x396d71c0, 0xf701bb7d,\n+    0x72d82da0, 0x2ade5edd, 0xaf07c800, 0x616b02bd, 0xe4b29460,\n+    0xd167e447, 0x54be729a, 0x9ad2b827, 0x1f0b2efa, 0x470d5d87,\n+    0xc2d4cb5a, 0x0cb801e7, 0x8961973a, 0x6612e0a9, 0xe3cb7674,\n+    0x2da7bcc9, 0xa87e2a14, 0xf0785969, 0x75a1cfb4, 0xbbcd0509,\n+    0x3e1493d4, 0x0bc1e3f3, 0x8e18752e, 0x4074bf93, 0xc5ad294e,\n+    0x9dab5a33, 0x1872ccee, 0xd61e0653, 0x53c7908e, 0x49ff99ae,\n+    0xcc260f73, 0x024ac5ce, 0x87935313, 0xdf95206e, 0x5a4cb6b3,\n+    0x94207c0e, 0x11f9ead3, 0x242c9af4, 0xa1f50c29, 0x6f99c694,\n+    0xea405049, 0xb2462334, 0x379fb5e9, 0xf9f37f54, 0x7c2ae989,\n+    0x93599e1a, 0x168008c7, 0xd8ecc27a, 0x5d3554a7, 0x053327da,\n+    0x80eab107, 0x4e867bba, 0xcb5fed67, 0xfe8a9d40, 0x7b530b9d,\n+    0xb53fc120, 0x30e657fd, 0x68e02480, 0xed39b25d, 0x235578e0,\n+    0xa68cee3d},\n+   {0x00000000, 0x76e10f9d, 0xadc46ee1, 0xdb25617c, 0x1b8fac19,\n+    0x6d6ea384, 0xb64bc2f8, 0xc0aacd65, 0x361e5933, 0x40ff56ae,\n+    0x9bda37d2, 0xed3b384f, 0x2d91f52a, 0x5b70fab7, 0x80559bcb,\n+    0xf6b49456, 0x6c3cb266, 0x1addbdfb, 0xc1f8dc87, 0xb719d31a,\n+    0x77b31e7f, 0x015211e2, 0xda77709e, 0xac967f03, 0x5a22eb55,\n+    0x2cc3e4c8, 0xf7e685b4, 0x81078a29, 0x41ad474c, 0x374c48d1,\n+    0xec6929ad, 0x9a882630, 0xd87864cd, 0xae996b50, 0x75bc0a2c,\n+    0x035d05b1, 0xc3f7c8d4, 0xb516c749, 0x6e33a635, 0x18d2a9a8,\n+    0xee663dfe, 0x98873263, 0x43a2531f, 0x35435c82, 0xf5e991e7,\n+    0x83089e7a, 0x582dff06, 0x2eccf09b, 0xb444d6ab, 0xc2a5d936,\n+    0x1980b84a, 0x6f61b7d7, 0xafcb7ab2, 0xd92a752f, 0x020f1453,\n+    0x74ee1bce, 0x825a8f98, 0xf4bb8005, 0x2f9ee179, 0x597feee4,\n+    0x99d52381, 0xef342c1c, 0x34114d60, 0x42f042fd, 0xf1f7b941,\n+    0x8716b6dc, 0x5c33d7a0, 0x2ad2d83d, 0xea781558, 0x9c991ac5,\n+    0x47bc7bb9, 0x315d7424, 0xc7e9e072, 0xb108efef, 0x6a2d8e93,\n+    0x1ccc810e, 0xdc664c6b, 0xaa8743f6, 0x71a2228a, 0x07432d17,\n+    0x9dcb0b27, 0xeb2a04ba, 0x300f65c6, 0x46ee6a5b, 0x8644a73e,\n+    0xf0a5a8a3, 0x2b80c9df, 0x5d61c642, 0xabd55214, 0xdd345d89,\n+    0x06113cf5, 0x70f03368, 0xb05afe0d, 0xc6bbf190, 0x1d9e90ec,\n+    0x6b7f9f71, 0x298fdd8c, 0x5f6ed211, 0x844bb36d, 0xf2aabcf0,\n+    0x32007195, 0x44e17e08, 0x9fc41f74, 0xe92510e9, 0x1f9184bf,\n+    0x69708b22, 0xb255ea5e, 0xc4b4e5c3, 0x041e28a6, 0x72ff273b,\n+    0xa9da4647, 0xdf3b49da, 0x45b36fea, 0x33526077, 0xe877010b,\n+    0x9e960e96, 0x5e3cc3f3, 0x28ddcc6e, 0xf3f8ad12, 0x8519a28f,\n+    0x73ad36d9, 0x054c3944, 0xde695838, 0xa88857a5, 0x68229ac0,\n+    0x1ec3955d, 0xc5e6f421, 0xb307fbbc, 0xe2ef7383, 0x940e7c1e,\n+    0x4f2b1d62, 0x39ca12ff, 0xf960df9a, 0x8f81d007, 0x54a4b17b,\n+    0x2245bee6, 0xd4f12ab0, 0xa210252d, 0x79354451, 0x0fd44bcc,\n+    0xcf7e86a9, 0xb99f8934, 0x62bae848, 0x145be7d5, 0x8ed3c1e5,\n+    0xf832ce78, 0x2317af04, 0x55f6a099, 0x955c6dfc, 0xe3bd6261,\n+    0x3898031d, 0x4e790c80, 0xb8cd98d6, 0xce2c974b, 0x1509f637,\n+    0x63e8f9aa, 0xa34234cf, 0xd5a33b52, 0x0e865a2e, 0x786755b3,\n+    0x3a97174e, 0x4c7618d3, 0x975379af, 0xe1b27632, 0x2118bb57,\n+    0x57f9b4ca, 0x8cdcd5b6, 0xfa3dda2b, 0x0c894e7d, 0x7a6841e0,\n+    0xa14d209c, 0xd7ac2f01, 0x1706e264, 0x61e7edf9, 0xbac28c85,\n+    0xcc238318, 0x56aba528, 0x204aaab5, 0xfb6fcbc9, 0x8d8ec454,\n+    0x4d240931, 0x3bc506ac, 0xe0e067d0, 0x9601684d, 0x60b5fc1b,\n+    0x1654f386, 0xcd7192fa, 0xbb909d67, 0x7b3a5002, 0x0ddb5f9f,\n+    0xd6fe3ee3, 0xa01f317e, 0x1318cac2, 0x65f9c55f, 0xbedca423,\n+    0xc83dabbe, 0x089766db, 0x7e766946, 0xa553083a, 0xd3b207a7,\n+    0x250693f1, 0x53e79c6c, 0x88c2fd10, 0xfe23f28d, 0x3e893fe8,\n+    0x48683075, 0x934d5109, 0xe5ac5e94, 0x7f2478a4, 0x09c57739,\n+    0xd2e01645, 0xa40119d8, 0x64abd4bd, 0x124adb20, 0xc96fba5c,\n+    0xbf8eb5c1, 0x493a2197, 0x3fdb2e0a, 0xe4fe4f76, 0x921f40eb,\n+    0x52b58d8e, 0x24548213, 0xff71e36f, 0x8990ecf2, 0xcb60ae0f,\n+    0xbd81a192, 0x66a4c0ee, 0x1045cf73, 0xd0ef0216, 0xa60e0d8b,\n+    0x7d2b6cf7, 0x0bca636a, 0xfd7ef73c, 0x8b9ff8a1, 0x50ba99dd,\n+    0x265b9640, 0xe6f15b25, 0x901054b8, 0x4b3535c4, 0x3dd43a59,\n+    0xa75c1c69, 0xd1bd13f4, 0x0a987288, 0x7c797d15, 0xbcd3b070,\n+    0xca32bfed, 0x1117de91, 0x67f6d10c, 0x9142455a, 0xe7a34ac7,\n+    0x3c862bbb, 0x4a672426, 0x8acde943, 0xfc2ce6de, 0x270987a2,\n+    0x51e8883f},\n+   {0x00000000, 0xe8dbfbb9, 0x91b186a8, 0x796a7d11, 0x63657c8a,\n+    0x8bbe8733, 0xf2d4fa22, 0x1a0f019b, 0x87cc89cf, 0x6f177276,\n+    0x167d0f67, 0xfea6f4de, 0xe4a9f545, 0x0c720efc, 0x751873ed,\n+    0x9dc38854, 0x4f9f6244, 0xa74499fd, 0xde2ee4ec, 0x36f51f55,\n+    0x2cfa1ece, 0xc421e577, 0xbd4b9866, 0x559063df, 0xc853eb8b,\n+    0x20881032, 0x59e26d23, 0xb139969a, 0xab369701, 0x43ed6cb8,\n+    0x3a8711a9, 0xd25cea10, 0x9e3ec588, 0x76e53e31, 0x0f8f4320,\n+    0xe754b899, 0xfd5bb902, 0x158042bb, 0x6cea3faa, 0x8431c413,\n+    0x19f24c47, 0xf129b7fe, 0x8843caef, 0x60983156, 0x7a9730cd,\n+    0x924ccb74, 0xeb26b665, 0x03fd4ddc, 0xd1a1a7cc, 0x397a5c75,\n+    0x40102164, 0xa8cbdadd, 0xb2c4db46, 0x5a1f20ff, 0x23755dee,\n+    0xcbaea657, 0x566d2e03, 0xbeb6d5ba, 0xc7dca8ab, 0x2f075312,\n+    0x35085289, 0xddd3a930, 0xa4b9d421, 0x4c622f98, 0x7d7bfbca,\n+    0x95a00073, 0xecca7d62, 0x041186db, 0x1e1e8740, 0xf6c57cf9,\n+    0x8faf01e8, 0x6774fa51, 0xfab77205, 0x126c89bc, 0x6b06f4ad,\n+    0x83dd0f14, 0x99d20e8f, 0x7109f536, 0x08638827, 0xe0b8739e,\n+    0x32e4998e, 0xda3f6237, 0xa3551f26, 0x4b8ee49f, 0x5181e504,\n+    0xb95a1ebd, 0xc03063ac, 0x28eb9815, 0xb5281041, 0x5df3ebf8,\n+    0x249996e9, 0xcc426d50, 0xd64d6ccb, 0x3e969772, 0x47fcea63,\n+    0xaf2711da, 0xe3453e42, 0x0b9ec5fb, 0x72f4b8ea, 0x9a2f4353,\n+    0x802042c8, 0x68fbb971, 0x1191c460, 0xf94a3fd9, 0x6489b78d,\n+    0x8c524c34, 0xf5383125, 0x1de3ca9c, 0x07eccb07, 0xef3730be,\n+    0x965d4daf, 0x7e86b616, 0xacda5c06, 0x4401a7bf, 0x3d6bdaae,\n+    0xd5b02117, 0xcfbf208c, 0x2764db35, 0x5e0ea624, 0xb6d55d9d,\n+    0x2b16d5c9, 0xc3cd2e70, 0xbaa75361, 0x527ca8d8, 0x4873a943,\n+    0xa0a852fa, 0xd9c22feb, 0x3119d452, 0xbbf0874e, 0x532b7cf7,\n+    0x2a4101e6, 0xc29afa5f, 0xd895fbc4, 0x304e007d, 0x49247d6c,\n+    0xa1ff86d5, 0x3c3c0e81, 0xd4e7f538, 0xad8d8829, 0x45567390,\n+    0x5f59720b, 0xb78289b2, 0xcee8f4a3, 0x26330f1a, 0xf46fe50a,\n+    0x1cb41eb3, 0x65de63a2, 0x8d05981b, 0x970a9980, 0x7fd16239,\n+    0x06bb1f28, 0xee60e491, 0x73a36cc5, 0x9b78977c, 0xe212ea6d,\n+    0x0ac911d4, 0x10c6104f, 0xf81debf6, 0x817796e7, 0x69ac6d5e,\n+    0x25ce42c6, 0xcd15b97f, 0xb47fc46e, 0x5ca43fd7, 0x46ab3e4c,\n+    0xae70c5f5, 0xd71ab8e4, 0x3fc1435d, 0xa202cb09, 0x4ad930b0,\n+    0x33b34da1, 0xdb68b618, 0xc167b783, 0x29bc4c3a, 0x50d6312b,\n+    0xb80dca92, 0x6a512082, 0x828adb3b, 0xfbe0a62a, 0x133b5d93,\n+    0x09345c08, 0xe1efa7b1, 0x9885daa0, 0x705e2119, 0xed9da94d,\n+    0x054652f4, 0x7c2c2fe5, 0x94f7d45c, 0x8ef8d5c7, 0x66232e7e,\n+    0x1f49536f, 0xf792a8d6, 0xc68b7c84, 0x2e50873d, 0x573afa2c,\n+    0xbfe10195, 0xa5ee000e, 0x4d35fbb7, 0x345f86a6, 0xdc847d1f,\n+    0x4147f54b, 0xa99c0ef2, 0xd0f673e3, 0x382d885a, 0x222289c1,\n+    0xcaf97278, 0xb3930f69, 0x5b48f4d0, 0x89141ec0, 0x61cfe579,\n+    0x18a59868, 0xf07e63d1, 0xea71624a, 0x02aa99f3, 0x7bc0e4e2,\n+    0x931b1f5b, 0x0ed8970f, 0xe6036cb6, 0x9f6911a7, 0x77b2ea1e,\n+    0x6dbdeb85, 0x8566103c, 0xfc0c6d2d, 0x14d79694, 0x58b5b90c,\n+    0xb06e42b5, 0xc9043fa4, 0x21dfc41d, 0x3bd0c586, 0xd30b3e3f,\n+    0xaa61432e, 0x42bab897, 0xdf7930c3, 0x37a2cb7a, 0x4ec8b66b,\n+    0xa6134dd2, 0xbc1c4c49, 0x54c7b7f0, 0x2dadcae1, 0xc5763158,\n+    0x172adb48, 0xfff120f1, 0x869b5de0, 0x6e40a659, 0x744fa7c2,\n+    0x9c945c7b, 0xe5fe216a, 0x0d25dad3, 0x90e65287, 0x783da93e,\n+    0x0157d42f, 0xe98c2f96, 0xf3832e0d, 0x1b58d5b4, 0x6232a8a5,\n+    0x8ae9531c},\n+   {0x00000000, 0x919168ae, 0x6325a087, 0xf2b4c829, 0x874c31d4,\n+    0x16dd597a, 0xe4699153, 0x75f8f9fd, 0x4f9f1373, 0xde0e7bdd,\n+    0x2cbab3f4, 0xbd2bdb5a, 0xc8d322a7, 0x59424a09, 0xabf68220,\n+    0x3a67ea8e, 0x9e3e27e6, 0x0faf4f48, 0xfd1b8761, 0x6c8aefcf,\n+    0x19721632, 0x88e37e9c, 0x7a57b6b5, 0xebc6de1b, 0xd1a13495,\n+    0x40305c3b, 0xb2849412, 0x2315fcbc, 0x56ed0541, 0xc77c6def,\n+    0x35c8a5c6, 0xa459cd68, 0x7d7b3f17, 0xecea57b9, 0x1e5e9f90,\n+    0x8fcff73e, 0xfa370ec3, 0x6ba6666d, 0x9912ae44, 0x0883c6ea,\n+    0x32e42c64, 0xa37544ca, 0x51c18ce3, 0xc050e44d, 0xb5a81db0,\n+    0x2439751e, 0xd68dbd37, 0x471cd599, 0xe34518f1, 0x72d4705f,\n+    0x8060b876, 0x11f1d0d8, 0x64092925, 0xf598418b, 0x072c89a2,\n+    0x96bde10c, 0xacda0b82, 0x3d4b632c, 0xcfffab05, 0x5e6ec3ab,\n+    0x2b963a56, 0xba0752f8, 0x48b39ad1, 0xd922f27f, 0xfaf67e2e,\n+    0x6b671680, 0x99d3dea9, 0x0842b607, 0x7dba4ffa, 0xec2b2754,\n+    0x1e9fef7d, 0x8f0e87d3, 0xb5696d5d, 0x24f805f3, 0xd64ccdda,\n+    0x47dda574, 0x32255c89, 0xa3b43427, 0x5100fc0e, 0xc09194a0,\n+    0x64c859c8, 0xf5593166, 0x07edf94f, 0x967c91e1, 0xe384681c,\n+    0x721500b2, 0x80a1c89b, 0x1130a035, 0x2b574abb, 0xbac62215,\n+    0x4872ea3c, 0xd9e38292, 0xac1b7b6f, 0x3d8a13c1, 0xcf3edbe8,\n+    0x5eafb346, 0x878d4139, 0x161c2997, 0xe4a8e1be, 0x75398910,\n+    0x00c170ed, 0x91501843, 0x63e4d06a, 0xf275b8c4, 0xc812524a,\n+    0x59833ae4, 0xab37f2cd, 0x3aa69a63, 0x4f5e639e, 0xdecf0b30,\n+    0x2c7bc319, 0xbdeaabb7, 0x19b366df, 0x88220e71, 0x7a96c658,\n+    0xeb07aef6, 0x9eff570b, 0x0f6e3fa5, 0xfddaf78c, 0x6c4b9f22,\n+    0x562c75ac, 0xc7bd1d02, 0x3509d52b, 0xa498bd85, 0xd1604478,\n+    0x40f12cd6, 0xb245e4ff, 0x23d48c51, 0xf4edfd5c, 0x657c95f2,\n+    0x97c85ddb, 0x06593575, 0x73a1cc88, 0xe230a426, 0x10846c0f,\n+    0x811504a1, 0xbb72ee2f, 0x2ae38681, 0xd8574ea8, 0x49c62606,\n+    0x3c3edffb, 0xadafb755, 0x5f1b7f7c, 0xce8a17d2, 0x6ad3daba,\n+    0xfb42b214, 0x09f67a3d, 0x98671293, 0xed9feb6e, 0x7c0e83c0,\n+    0x8eba4be9, 0x1f2b2347, 0x254cc9c9, 0xb4dda167, 0x4669694e,\n+    0xd7f801e0, 0xa200f81d, 0x339190b3, 0xc125589a, 0x50b43034,\n+    0x8996c24b, 0x1807aae5, 0xeab362cc, 0x7b220a62, 0x0edaf39f,\n+    0x9f4b9b31, 0x6dff5318, 0xfc6e3bb6, 0xc609d138, 0x5798b996,\n+    0xa52c71bf, 0x34bd1911, 0x4145e0ec, 0xd0d48842, 0x2260406b,\n+    0xb3f128c5, 0x17a8e5ad, 0x86398d03, 0x748d452a, 0xe51c2d84,\n+    0x90e4d479, 0x0175bcd7, 0xf3c174fe, 0x62501c50, 0x5837f6de,\n+    0xc9a69e70, 0x3b125659, 0xaa833ef7, 0xdf7bc70a, 0x4eeaafa4,\n+    0xbc5e678d, 0x2dcf0f23, 0x0e1b8372, 0x9f8aebdc, 0x6d3e23f5,\n+    0xfcaf4b5b, 0x8957b2a6, 0x18c6da08, 0xea721221, 0x7be37a8f,\n+    0x41849001, 0xd015f8af, 0x22a13086, 0xb3305828, 0xc6c8a1d5,\n+    0x5759c97b, 0xa5ed0152, 0x347c69fc, 0x9025a494, 0x01b4cc3a,\n+    0xf3000413, 0x62916cbd, 0x17699540, 0x86f8fdee, 0x744c35c7,\n+    0xe5dd5d69, 0xdfbab7e7, 0x4e2bdf49, 0xbc9f1760, 0x2d0e7fce,\n+    0x58f68633, 0xc967ee9d, 0x3bd326b4, 0xaa424e1a, 0x7360bc65,\n+    0xe2f1d4cb, 0x10451ce2, 0x81d4744c, 0xf42c8db1, 0x65bde51f,\n+    0x97092d36, 0x06984598, 0x3cffaf16, 0xad6ec7b8, 0x5fda0f91,\n+    0xce4b673f, 0xbbb39ec2, 0x2a22f66c, 0xd8963e45, 0x490756eb,\n+    0xed5e9b83, 0x7ccff32d, 0x8e7b3b04, 0x1fea53aa, 0x6a12aa57,\n+    0xfb83c2f9, 0x09370ad0, 0x98a6627e, 0xa2c188f0, 0x3350e05e,\n+    0xc1e42877, 0x507540d9, 0x258db924, 0xb41cd18a, 0x46a819a3,\n+    0xd739710d}};\n+\n+#endif\n+\n+#endif\n+\n+#if N == 5\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0xaf449247, 0x85f822cf, 0x2abcb088, 0xd08143df,\n+    0x7fc5d198, 0x55796110, 0xfa3df357, 0x7a7381ff, 0xd53713b8,\n+    0xff8ba330, 0x50cf3177, 0xaaf2c220, 0x05b65067, 0x2f0ae0ef,\n+    0x804e72a8, 0xf4e703fe, 0x5ba391b9, 0x711f2131, 0xde5bb376,\n+    0x24664021, 0x8b22d266, 0xa19e62ee, 0x0edaf0a9, 0x8e948201,\n+    0x21d01046, 0x0b6ca0ce, 0xa4283289, 0x5e15c1de, 0xf1515399,\n+    0xdbede311, 0x74a97156, 0x32bf01bd, 0x9dfb93fa, 0xb7472372,\n+    0x1803b135, 0xe23e4262, 0x4d7ad025, 0x67c660ad, 0xc882f2ea,\n+    0x48cc8042, 0xe7881205, 0xcd34a28d, 0x627030ca, 0x984dc39d,\n+    0x370951da, 0x1db5e152, 0xb2f17315, 0xc6580243, 0x691c9004,\n+    0x43a0208c, 0xece4b2cb, 0x16d9419c, 0xb99dd3db, 0x93216353,\n+    0x3c65f114, 0xbc2b83bc, 0x136f11fb, 0x39d3a173, 0x96973334,\n+    0x6caac063, 0xc3ee5224, 0xe952e2ac, 0x461670eb, 0x657e037a,\n+    0xca3a913d, 0xe08621b5, 0x4fc2b3f2, 0xb5ff40a5, 0x1abbd2e2,\n+    0x3007626a, 0x9f43f02d, 0x1f0d8285, 0xb04910c2, 0x9af5a04a,\n+    0x35b1320d, 0xcf8cc15a, 0x60c8531d, 0x4a74e395, 0xe53071d2,\n+    0x91990084, 0x3edd92c3, 0x1461224b, 0xbb25b00c, 0x4118435b,\n+    0xee5cd11c, 0xc4e06194, 0x6ba4f3d3, 0xebea817b, 0x44ae133c,\n+    0x6e12a3b4, 0xc15631f3, 0x3b6bc2a4, 0x942f50e3, 0xbe93e06b,\n+    0x11d7722c, 0x57c102c7, 0xf8859080, 0xd2392008, 0x7d7db24f,\n+    0x87404118, 0x2804d35f, 0x02b863d7, 0xadfcf190, 0x2db28338,\n+    0x82f6117f, 0xa84aa1f7, 0x070e33b0, 0xfd33c0e7, 0x527752a0,\n+    0x78cbe228, 0xd78f706f, 0xa3260139, 0x0c62937e, 0x26de23f6,\n+    0x899ab1b1, 0x73a742e6, 0xdce3d0a1, 0xf65f6029, 0x591bf26e,\n+    0xd95580c6, 0x76111281, 0x5cada209, 0xf3e9304e, 0x09d4c319,\n+    0xa690515e, 0x8c2ce1d6, 0x23687391, 0xcafc06f4, 0x65b894b3,\n+    0x4f04243b, 0xe040b67c, 0x1a7d452b, 0xb539d76c, 0x9f8567e4,\n+    0x30c1f5a3, 0xb08f870b, 0x1fcb154c, 0x3577a5c4, 0x9a333783,\n+    0x600ec4d4, 0xcf4a5693, 0xe5f6e61b, 0x4ab2745c, 0x3e1b050a,\n+    0x915f974d, 0xbbe327c5, 0x14a7b582, 0xee9a46d5, 0x41ded492,\n+    0x6b62641a, 0xc426f65d, 0x446884f5, 0xeb2c16b2, 0xc190a63a,\n+    0x6ed4347d, 0x94e9c72a, 0x3bad556d, 0x1111e5e5, 0xbe5577a2,\n+    0xf8430749, 0x5707950e, 0x7dbb2586, 0xd2ffb7c1, 0x28c24496,\n+    0x8786d6d1, 0xad3a6659, 0x027ef41e, 0x823086b6, 0x2d7414f1,\n+    0x07c8a479, 0xa88c363e, 0x52b1c569, 0xfdf5572e, 0xd749e7a6,\n+    0x780d75e1, 0x0ca404b7, 0xa3e096f0, 0x895c2678, 0x2618b43f,\n+    0xdc254768, 0x7361d52f, 0x59dd65a7, 0xf699f7e0, 0x76d78548,\n+    0xd993170f, 0xf32fa787, 0x5c6b35c0, 0xa656c697, 0x091254d0,\n+    0x23aee458, 0x8cea761f, 0xaf82058e, 0x00c697c9, 0x2a7a2741,\n+    0x853eb506, 0x7f034651, 0xd047d416, 0xfafb649e, 0x55bff6d9,\n+    0xd5f18471, 0x7ab51636, 0x5009a6be, 0xff4d34f9, 0x0570c7ae,\n+    0xaa3455e9, 0x8088e561, 0x2fcc7726, 0x5b650670, 0xf4219437,\n+    0xde9d24bf, 0x71d9b6f8, 0x8be445af, 0x24a0d7e8, 0x0e1c6760,\n+    0xa158f527, 0x2116878f, 0x8e5215c8, 0xa4eea540, 0x0baa3707,\n+    0xf197c450, 0x5ed35617, 0x746fe69f, 0xdb2b74d8, 0x9d3d0433,\n+    0x32799674, 0x18c526fc, 0xb781b4bb, 0x4dbc47ec, 0xe2f8d5ab,\n+    0xc8446523, 0x6700f764, 0xe74e85cc, 0x480a178b, 0x62b6a703,\n+    0xcdf23544, 0x37cfc613, 0x988b5454, 0xb237e4dc, 0x1d73769b,\n+    0x69da07cd, 0xc69e958a, 0xec222502, 0x4366b745, 0xb95b4412,\n+    0x161fd655, 0x3ca366dd, 0x93e7f49a, 0x13a98632, 0xbced1475,\n+    0x9651a4fd, 0x391536ba, 0xc328c5ed, 0x6c6c57aa, 0x46d0e722,\n+    0xe9947565},\n+   {0x00000000, 0x4e890ba9, 0x9d121752, 0xd39b1cfb, 0xe15528e5,\n+    0xafdc234c, 0x7c473fb7, 0x32ce341e, 0x19db578b, 0x57525c22,\n+    0x84c940d9, 0xca404b70, 0xf88e7f6e, 0xb60774c7, 0x659c683c,\n+    0x2b156395, 0x33b6af16, 0x7d3fa4bf, 0xaea4b844, 0xe02db3ed,\n+    0xd2e387f3, 0x9c6a8c5a, 0x4ff190a1, 0x01789b08, 0x2a6df89d,\n+    0x64e4f334, 0xb77fefcf, 0xf9f6e466, 0xcb38d078, 0x85b1dbd1,\n+    0x562ac72a, 0x18a3cc83, 0x676d5e2c, 0x29e45585, 0xfa7f497e,\n+    0xb4f642d7, 0x863876c9, 0xc8b17d60, 0x1b2a619b, 0x55a36a32,\n+    0x7eb609a7, 0x303f020e, 0xe3a41ef5, 0xad2d155c, 0x9fe32142,\n+    0xd16a2aeb, 0x02f13610, 0x4c783db9, 0x54dbf13a, 0x1a52fa93,\n+    0xc9c9e668, 0x8740edc1, 0xb58ed9df, 0xfb07d276, 0x289cce8d,\n+    0x6615c524, 0x4d00a6b1, 0x0389ad18, 0xd012b1e3, 0x9e9bba4a,\n+    0xac558e54, 0xe2dc85fd, 0x31479906, 0x7fce92af, 0xcedabc58,\n+    0x8053b7f1, 0x53c8ab0a, 0x1d41a0a3, 0x2f8f94bd, 0x61069f14,\n+    0xb29d83ef, 0xfc148846, 0xd701ebd3, 0x9988e07a, 0x4a13fc81,\n+    0x049af728, 0x3654c336, 0x78ddc89f, 0xab46d464, 0xe5cfdfcd,\n+    0xfd6c134e, 0xb3e518e7, 0x607e041c, 0x2ef70fb5, 0x1c393bab,\n+    0x52b03002, 0x812b2cf9, 0xcfa22750, 0xe4b744c5, 0xaa3e4f6c,\n+    0x79a55397, 0x372c583e, 0x05e26c20, 0x4b6b6789, 0x98f07b72,\n+    0xd67970db, 0xa9b7e274, 0xe73ee9dd, 0x34a5f526, 0x7a2cfe8f,\n+    0x48e2ca91, 0x066bc138, 0xd5f0ddc3, 0x9b79d66a, 0xb06cb5ff,\n+    0xfee5be56, 0x2d7ea2ad, 0x63f7a904, 0x51399d1a, 0x1fb096b3,\n+    0xcc2b8a48, 0x82a281e1, 0x9a014d62, 0xd48846cb, 0x07135a30,\n+    0x499a5199, 0x7b546587, 0x35dd6e2e, 0xe64672d5, 0xa8cf797c,\n+    0x83da1ae9, 0xcd531140, 0x1ec80dbb, 0x50410612, 0x628f320c,\n+    0x2c0639a5, 0xff9d255e, 0xb1142ef7, 0x46c47ef1, 0x084d7558,\n+    0xdbd669a3, 0x955f620a, 0xa7915614, 0xe9185dbd, 0x3a834146,\n+    0x740a4aef, 0x5f1f297a, 0x119622d3, 0xc20d3e28, 0x8c843581,\n+    0xbe4a019f, 0xf0c30a36, 0x235816cd, 0x6dd11d64, 0x7572d1e7,\n+    0x3bfbda4e, 0xe860c6b5, 0xa6e9cd1c, 0x9427f902, 0xdaaef2ab,\n+    0x0935ee50, 0x47bce5f9, 0x6ca9866c, 0x22208dc5, 0xf1bb913e,\n+    0xbf329a97, 0x8dfcae89, 0xc375a520, 0x10eeb9db, 0x5e67b272,\n+    0x21a920dd, 0x6f202b74, 0xbcbb378f, 0xf2323c26, 0xc0fc0838,\n+    0x8e750391, 0x5dee1f6a, 0x136714c3, 0x38727756, 0x76fb7cff,\n+    0xa5606004, 0xebe96bad, 0xd9275fb3, 0x97ae541a, 0x443548e1,\n+    0x0abc4348, 0x121f8fcb, 0x5c968462, 0x8f0d9899, 0xc1849330,\n+    0xf34aa72e, 0xbdc3ac87, 0x6e58b07c, 0x20d1bbd5, 0x0bc4d840,\n+    0x454dd3e9, 0x96d6cf12, 0xd85fc4bb, 0xea91f0a5, 0xa418fb0c,\n+    0x7783e7f7, 0x390aec5e, 0x881ec2a9, 0xc697c900, 0x150cd5fb,\n+    0x5b85de52, 0x694bea4c, 0x27c2e1e5, 0xf459fd1e, 0xbad0f6b7,\n+    0x91c59522, 0xdf4c9e8b, 0x0cd78270, 0x425e89d9, 0x7090bdc7,\n+    0x3e19b66e, 0xed82aa95, 0xa30ba13c, 0xbba86dbf, 0xf5216616,\n+    0x26ba7aed, 0x68337144, 0x5afd455a, 0x14744ef3, 0xc7ef5208,\n+    0x896659a1, 0xa2733a34, 0xecfa319d, 0x3f612d66, 0x71e826cf,\n+    0x432612d1, 0x0daf1978, 0xde340583, 0x90bd0e2a, 0xef739c85,\n+    0xa1fa972c, 0x72618bd7, 0x3ce8807e, 0x0e26b460, 0x40afbfc9,\n+    0x9334a332, 0xddbda89b, 0xf6a8cb0e, 0xb821c0a7, 0x6bbadc5c,\n+    0x2533d7f5, 0x17fde3eb, 0x5974e842, 0x8aeff4b9, 0xc466ff10,\n+    0xdcc53393, 0x924c383a, 0x41d724c1, 0x0f5e2f68, 0x3d901b76,\n+    0x731910df, 0xa0820c24, 0xee0b078d, 0xc51e6418, 0x8b976fb1,\n+    0x580c734a, 0x168578e3, 0x244b4cfd, 0x6ac24754, 0xb9595baf,\n+    0xf7d05006},\n+   {0x00000000, 0x8d88fde2, 0xc060fd85, 0x4de80067, 0x5bb0fd4b,\n+    0xd63800a9, 0x9bd000ce, 0x1658fd2c, 0xb761fa96, 0x3ae90774,\n+    0x77010713, 0xfa89faf1, 0xecd107dd, 0x6159fa3f, 0x2cb1fa58,\n+    0xa13907ba, 0xb5b2f36d, 0x383a0e8f, 0x75d20ee8, 0xf85af30a,\n+    0xee020e26, 0x638af3c4, 0x2e62f3a3, 0xa3ea0e41, 0x02d309fb,\n+    0x8f5bf419, 0xc2b3f47e, 0x4f3b099c, 0x5963f4b0, 0xd4eb0952,\n+    0x99030935, 0x148bf4d7, 0xb014e09b, 0x3d9c1d79, 0x70741d1e,\n+    0xfdfce0fc, 0xeba41dd0, 0x662ce032, 0x2bc4e055, 0xa64c1db7,\n+    0x07751a0d, 0x8afde7ef, 0xc715e788, 0x4a9d1a6a, 0x5cc5e746,\n+    0xd14d1aa4, 0x9ca51ac3, 0x112de721, 0x05a613f6, 0x882eee14,\n+    0xc5c6ee73, 0x484e1391, 0x5e16eebd, 0xd39e135f, 0x9e761338,\n+    0x13feeeda, 0xb2c7e960, 0x3f4f1482, 0x72a714e5, 0xff2fe907,\n+    0xe977142b, 0x64ffe9c9, 0x2917e9ae, 0xa49f144c, 0xbb58c777,\n+    0x36d03a95, 0x7b383af2, 0xf6b0c710, 0xe0e83a3c, 0x6d60c7de,\n+    0x2088c7b9, 0xad003a5b, 0x0c393de1, 0x81b1c003, 0xcc59c064,\n+    0x41d13d86, 0x5789c0aa, 0xda013d48, 0x97e93d2f, 0x1a61c0cd,\n+    0x0eea341a, 0x8362c9f8, 0xce8ac99f, 0x4302347d, 0x555ac951,\n+    0xd8d234b3, 0x953a34d4, 0x18b2c936, 0xb98bce8c, 0x3403336e,\n+    0x79eb3309, 0xf463ceeb, 0xe23b33c7, 0x6fb3ce25, 0x225bce42,\n+    0xafd333a0, 0x0b4c27ec, 0x86c4da0e, 0xcb2cda69, 0x46a4278b,\n+    0x50fcdaa7, 0xdd742745, 0x909c2722, 0x1d14dac0, 0xbc2ddd7a,\n+    0x31a52098, 0x7c4d20ff, 0xf1c5dd1d, 0xe79d2031, 0x6a15ddd3,\n+    0x27fdddb4, 0xaa752056, 0xbefed481, 0x33762963, 0x7e9e2904,\n+    0xf316d4e6, 0xe54e29ca, 0x68c6d428, 0x252ed44f, 0xa8a629ad,\n+    0x099f2e17, 0x8417d3f5, 0xc9ffd392, 0x44772e70, 0x522fd35c,\n+    0xdfa72ebe, 0x924f2ed9, 0x1fc7d33b, 0xadc088af, 0x2048754d,\n+    0x6da0752a, 0xe02888c8, 0xf67075e4, 0x7bf88806, 0x36108861,\n+    0xbb987583, 0x1aa17239, 0x97298fdb, 0xdac18fbc, 0x5749725e,\n+    0x41118f72, 0xcc997290, 0x817172f7, 0x0cf98f15, 0x18727bc2,\n+    0x95fa8620, 0xd8128647, 0x559a7ba5, 0x43c28689, 0xce4a7b6b,\n+    0x83a27b0c, 0x0e2a86ee, 0xaf138154, 0x229b7cb6, 0x6f737cd1,\n+    0xe2fb8133, 0xf4a37c1f, 0x792b81fd, 0x34c3819a, 0xb94b7c78,\n+    0x1dd46834, 0x905c95d6, 0xddb495b1, 0x503c6853, 0x4664957f,\n+    0xcbec689d, 0x860468fa, 0x0b8c9518, 0xaab592a2, 0x273d6f40,\n+    0x6ad56f27, 0xe75d92c5, 0xf1056fe9, 0x7c8d920b, 0x3165926c,\n+    0xbced6f8e, 0xa8669b59, 0x25ee66bb, 0x680666dc, 0xe58e9b3e,\n+    0xf3d66612, 0x7e5e9bf0, 0x33b69b97, 0xbe3e6675, 0x1f0761cf,\n+    0x928f9c2d, 0xdf679c4a, 0x52ef61a8, 0x44b79c84, 0xc93f6166,\n+    0x84d76101, 0x095f9ce3, 0x16984fd8, 0x9b10b23a, 0xd6f8b25d,\n+    0x5b704fbf, 0x4d28b293, 0xc0a04f71, 0x8d484f16, 0x00c0b2f4,\n+    0xa1f9b54e, 0x2c7148ac, 0x619948cb, 0xec11b529, 0xfa494805,\n+    0x77c1b5e7, 0x3a29b580, 0xb7a14862, 0xa32abcb5, 0x2ea24157,\n+    0x634a4130, 0xeec2bcd2, 0xf89a41fe, 0x7512bc1c, 0x38fabc7b,\n+    0xb5724199, 0x144b4623, 0x99c3bbc1, 0xd42bbba6, 0x59a34644,\n+    0x4ffbbb68, 0xc273468a, 0x8f9b46ed, 0x0213bb0f, 0xa68caf43,\n+    0x2b0452a1, 0x66ec52c6, 0xeb64af24, 0xfd3c5208, 0x70b4afea,\n+    0x3d5caf8d, 0xb0d4526f, 0x11ed55d5, 0x9c65a837, 0xd18da850,\n+    0x5c0555b2, 0x4a5da89e, 0xc7d5557c, 0x8a3d551b, 0x07b5a8f9,\n+    0x133e5c2e, 0x9eb6a1cc, 0xd35ea1ab, 0x5ed65c49, 0x488ea165,\n+    0xc5065c87, 0x88ee5ce0, 0x0566a102, 0xa45fa6b8, 0x29d75b5a,\n+    0x643f5b3d, 0xe9b7a6df, 0xffef5bf3, 0x7267a611, 0x3f8fa676,\n+    0xb2075b94},\n+   {0x00000000, 0x80f0171f, 0xda91287f, 0x5a613f60, 0x6e5356bf,\n+    0xeea341a0, 0xb4c27ec0, 0x343269df, 0xdca6ad7e, 0x5c56ba61,\n+    0x06378501, 0x86c7921e, 0xb2f5fbc1, 0x3205ecde, 0x6864d3be,\n+    0xe894c4a1, 0x623c5cbd, 0xe2cc4ba2, 0xb8ad74c2, 0x385d63dd,\n+    0x0c6f0a02, 0x8c9f1d1d, 0xd6fe227d, 0x560e3562, 0xbe9af1c3,\n+    0x3e6ae6dc, 0x640bd9bc, 0xe4fbcea3, 0xd0c9a77c, 0x5039b063,\n+    0x0a588f03, 0x8aa8981c, 0xc478b97a, 0x4488ae65, 0x1ee99105,\n+    0x9e19861a, 0xaa2befc5, 0x2adbf8da, 0x70bac7ba, 0xf04ad0a5,\n+    0x18de1404, 0x982e031b, 0xc24f3c7b, 0x42bf2b64, 0x768d42bb,\n+    0xf67d55a4, 0xac1c6ac4, 0x2cec7ddb, 0xa644e5c7, 0x26b4f2d8,\n+    0x7cd5cdb8, 0xfc25daa7, 0xc817b378, 0x48e7a467, 0x12869b07,\n+    0x92768c18, 0x7ae248b9, 0xfa125fa6, 0xa07360c6, 0x208377d9,\n+    0x14b11e06, 0x94410919, 0xce203679, 0x4ed02166, 0x538074b5,\n+    0xd37063aa, 0x89115cca, 0x09e14bd5, 0x3dd3220a, 0xbd233515,\n+    0xe7420a75, 0x67b21d6a, 0x8f26d9cb, 0x0fd6ced4, 0x55b7f1b4,\n+    0xd547e6ab, 0xe1758f74, 0x6185986b, 0x3be4a70b, 0xbb14b014,\n+    0x31bc2808, 0xb14c3f17, 0xeb2d0077, 0x6bdd1768, 0x5fef7eb7,\n+    0xdf1f69a8, 0x857e56c8, 0x058e41d7, 0xed1a8576, 0x6dea9269,\n+    0x378bad09, 0xb77bba16, 0x8349d3c9, 0x03b9c4d6, 0x59d8fbb6,\n+    0xd928eca9, 0x97f8cdcf, 0x1708dad0, 0x4d69e5b0, 0xcd99f2af,\n+    0xf9ab9b70, 0x795b8c6f, 0x233ab30f, 0xa3caa410, 0x4b5e60b1,\n+    0xcbae77ae, 0x91cf48ce, 0x113f5fd1, 0x250d360e, 0xa5fd2111,\n+    0xff9c1e71, 0x7f6c096e, 0xf5c49172, 0x7534866d, 0x2f55b90d,\n+    0xafa5ae12, 0x9b97c7cd, 0x1b67d0d2, 0x4106efb2, 0xc1f6f8ad,\n+    0x29623c0c, 0xa9922b13, 0xf3f31473, 0x7303036c, 0x47316ab3,\n+    0xc7c17dac, 0x9da042cc, 0x1d5055d3, 0xa700e96a, 0x27f0fe75,\n+    0x7d91c115, 0xfd61d60a, 0xc953bfd5, 0x49a3a8ca, 0x13c297aa,\n+    0x933280b5, 0x7ba64414, 0xfb56530b, 0xa1376c6b, 0x21c77b74,\n+    0x15f512ab, 0x950505b4, 0xcf643ad4, 0x4f942dcb, 0xc53cb5d7,\n+    0x45cca2c8, 0x1fad9da8, 0x9f5d8ab7, 0xab6fe368, 0x2b9ff477,\n+    0x71fecb17, 0xf10edc08, 0x199a18a9, 0x996a0fb6, 0xc30b30d6,\n+    0x43fb27c9, 0x77c94e16, 0xf7395909, 0xad586669, 0x2da87176,\n+    0x63785010, 0xe388470f, 0xb9e9786f, 0x39196f70, 0x0d2b06af,\n+    0x8ddb11b0, 0xd7ba2ed0, 0x574a39cf, 0xbfdefd6e, 0x3f2eea71,\n+    0x654fd511, 0xe5bfc20e, 0xd18dabd1, 0x517dbcce, 0x0b1c83ae,\n+    0x8bec94b1, 0x01440cad, 0x81b41bb2, 0xdbd524d2, 0x5b2533cd,\n+    0x6f175a12, 0xefe74d0d, 0xb586726d, 0x35766572, 0xdde2a1d3,\n+    0x5d12b6cc, 0x077389ac, 0x87839eb3, 0xb3b1f76c, 0x3341e073,\n+    0x6920df13, 0xe9d0c80c, 0xf4809ddf, 0x74708ac0, 0x2e11b5a0,\n+    0xaee1a2bf, 0x9ad3cb60, 0x1a23dc7f, 0x4042e31f, 0xc0b2f400,\n+    0x282630a1, 0xa8d627be, 0xf2b718de, 0x72470fc1, 0x4675661e,\n+    0xc6857101, 0x9ce44e61, 0x1c14597e, 0x96bcc162, 0x164cd67d,\n+    0x4c2de91d, 0xccddfe02, 0xf8ef97dd, 0x781f80c2, 0x227ebfa2,\n+    0xa28ea8bd, 0x4a1a6c1c, 0xcaea7b03, 0x908b4463, 0x107b537c,\n+    0x24493aa3, 0xa4b92dbc, 0xfed812dc, 0x7e2805c3, 0x30f824a5,\n+    0xb00833ba, 0xea690cda, 0x6a991bc5, 0x5eab721a, 0xde5b6505,\n+    0x843a5a65, 0x04ca4d7a, 0xec5e89db, 0x6cae9ec4, 0x36cfa1a4,\n+    0xb63fb6bb, 0x820ddf64, 0x02fdc87b, 0x589cf71b, 0xd86ce004,\n+    0x52c47818, 0xd2346f07, 0x88555067, 0x08a54778, 0x3c972ea7,\n+    0xbc6739b8, 0xe60606d8, 0x66f611c7, 0x8e62d566, 0x0e92c279,\n+    0x54f3fd19, 0xd403ea06, 0xe03183d9, 0x60c194c6, 0x3aa0aba6,\n+    0xba50bcb9},\n+   {0x00000000, 0x9570d495, 0xf190af6b, 0x64e07bfe, 0x38505897,\n+    0xad208c02, 0xc9c0f7fc, 0x5cb02369, 0x70a0b12e, 0xe5d065bb,\n+    0x81301e45, 0x1440cad0, 0x48f0e9b9, 0xdd803d2c, 0xb96046d2,\n+    0x2c109247, 0xe141625c, 0x7431b6c9, 0x10d1cd37, 0x85a119a2,\n+    0xd9113acb, 0x4c61ee5e, 0x288195a0, 0xbdf14135, 0x91e1d372,\n+    0x049107e7, 0x60717c19, 0xf501a88c, 0xa9b18be5, 0x3cc15f70,\n+    0x5821248e, 0xcd51f01b, 0x19f3c2f9, 0x8c83166c, 0xe8636d92,\n+    0x7d13b907, 0x21a39a6e, 0xb4d34efb, 0xd0333505, 0x4543e190,\n+    0x695373d7, 0xfc23a742, 0x98c3dcbc, 0x0db30829, 0x51032b40,\n+    0xc473ffd5, 0xa093842b, 0x35e350be, 0xf8b2a0a5, 0x6dc27430,\n+    0x09220fce, 0x9c52db5b, 0xc0e2f832, 0x55922ca7, 0x31725759,\n+    0xa40283cc, 0x8812118b, 0x1d62c51e, 0x7982bee0, 0xecf26a75,\n+    0xb042491c, 0x25329d89, 0x41d2e677, 0xd4a232e2, 0x33e785f2,\n+    0xa6975167, 0xc2772a99, 0x5707fe0c, 0x0bb7dd65, 0x9ec709f0,\n+    0xfa27720e, 0x6f57a69b, 0x434734dc, 0xd637e049, 0xb2d79bb7,\n+    0x27a74f22, 0x7b176c4b, 0xee67b8de, 0x8a87c320, 0x1ff717b5,\n+    0xd2a6e7ae, 0x47d6333b, 0x233648c5, 0xb6469c50, 0xeaf6bf39,\n+    0x7f866bac, 0x1b661052, 0x8e16c4c7, 0xa2065680, 0x37768215,\n+    0x5396f9eb, 0xc6e62d7e, 0x9a560e17, 0x0f26da82, 0x6bc6a17c,\n+    0xfeb675e9, 0x2a14470b, 0xbf64939e, 0xdb84e860, 0x4ef43cf5,\n+    0x12441f9c, 0x8734cb09, 0xe3d4b0f7, 0x76a46462, 0x5ab4f625,\n+    0xcfc422b0, 0xab24594e, 0x3e548ddb, 0x62e4aeb2, 0xf7947a27,\n+    0x937401d9, 0x0604d54c, 0xcb552557, 0x5e25f1c2, 0x3ac58a3c,\n+    0xafb55ea9, 0xf3057dc0, 0x6675a955, 0x0295d2ab, 0x97e5063e,\n+    0xbbf59479, 0x2e8540ec, 0x4a653b12, 0xdf15ef87, 0x83a5ccee,\n+    0x16d5187b, 0x72356385, 0xe745b710, 0x67cf0be4, 0xf2bfdf71,\n+    0x965fa48f, 0x032f701a, 0x5f9f5373, 0xcaef87e6, 0xae0ffc18,\n+    0x3b7f288d, 0x176fbaca, 0x821f6e5f, 0xe6ff15a1, 0x738fc134,\n+    0x2f3fe25d, 0xba4f36c8, 0xdeaf4d36, 0x4bdf99a3, 0x868e69b8,\n+    0x13febd2d, 0x771ec6d3, 0xe26e1246, 0xbede312f, 0x2baee5ba,\n+    0x4f4e9e44, 0xda3e4ad1, 0xf62ed896, 0x635e0c03, 0x07be77fd,\n+    0x92cea368, 0xce7e8001, 0x5b0e5494, 0x3fee2f6a, 0xaa9efbff,\n+    0x7e3cc91d, 0xeb4c1d88, 0x8fac6676, 0x1adcb2e3, 0x466c918a,\n+    0xd31c451f, 0xb7fc3ee1, 0x228cea74, 0x0e9c7833, 0x9becaca6,\n+    0xff0cd758, 0x6a7c03cd, 0x36cc20a4, 0xa3bcf431, 0xc75c8fcf,\n+    0x522c5b5a, 0x9f7dab41, 0x0a0d7fd4, 0x6eed042a, 0xfb9dd0bf,\n+    0xa72df3d6, 0x325d2743, 0x56bd5cbd, 0xc3cd8828, 0xefdd1a6f,\n+    0x7aadcefa, 0x1e4db504, 0x8b3d6191, 0xd78d42f8, 0x42fd966d,\n+    0x261ded93, 0xb36d3906, 0x54288e16, 0xc1585a83, 0xa5b8217d,\n+    0x30c8f5e8, 0x6c78d681, 0xf9080214, 0x9de879ea, 0x0898ad7f,\n+    0x24883f38, 0xb1f8ebad, 0xd5189053, 0x406844c6, 0x1cd867af,\n+    0x89a8b33a, 0xed48c8c4, 0x78381c51, 0xb569ec4a, 0x201938df,\n+    0x44f94321, 0xd18997b4, 0x8d39b4dd, 0x18496048, 0x7ca91bb6,\n+    0xe9d9cf23, 0xc5c95d64, 0x50b989f1, 0x3459f20f, 0xa129269a,\n+    0xfd9905f3, 0x68e9d166, 0x0c09aa98, 0x99797e0d, 0x4ddb4cef,\n+    0xd8ab987a, 0xbc4be384, 0x293b3711, 0x758b1478, 0xe0fbc0ed,\n+    0x841bbb13, 0x116b6f86, 0x3d7bfdc1, 0xa80b2954, 0xcceb52aa,\n+    0x599b863f, 0x052ba556, 0x905b71c3, 0xf4bb0a3d, 0x61cbdea8,\n+    0xac9a2eb3, 0x39eafa26, 0x5d0a81d8, 0xc87a554d, 0x94ca7624,\n+    0x01baa2b1, 0x655ad94f, 0xf02a0dda, 0xdc3a9f9d, 0x494a4b08,\n+    0x2daa30f6, 0xb8dae463, 0xe46ac70a, 0x711a139f, 0x15fa6861,\n+    0x808abcf4},\n+   {0x00000000, 0xcf9e17c8, 0x444d29d1, 0x8bd33e19, 0x889a53a2,\n+    0x4704446a, 0xccd77a73, 0x03496dbb, 0xca45a105, 0x05dbb6cd,\n+    0x8e0888d4, 0x41969f1c, 0x42dff2a7, 0x8d41e56f, 0x0692db76,\n+    0xc90cccbe, 0x4ffa444b, 0x80645383, 0x0bb76d9a, 0xc4297a52,\n+    0xc76017e9, 0x08fe0021, 0x832d3e38, 0x4cb329f0, 0x85bfe54e,\n+    0x4a21f286, 0xc1f2cc9f, 0x0e6cdb57, 0x0d25b6ec, 0xc2bba124,\n+    0x49689f3d, 0x86f688f5, 0x9ff48896, 0x506a9f5e, 0xdbb9a147,\n+    0x1427b68f, 0x176edb34, 0xd8f0ccfc, 0x5323f2e5, 0x9cbde52d,\n+    0x55b12993, 0x9a2f3e5b, 0x11fc0042, 0xde62178a, 0xdd2b7a31,\n+    0x12b56df9, 0x996653e0, 0x56f84428, 0xd00eccdd, 0x1f90db15,\n+    0x9443e50c, 0x5bddf2c4, 0x58949f7f, 0x970a88b7, 0x1cd9b6ae,\n+    0xd347a166, 0x1a4b6dd8, 0xd5d57a10, 0x5e064409, 0x919853c1,\n+    0x92d13e7a, 0x5d4f29b2, 0xd69c17ab, 0x19020063, 0xe498176d,\n+    0x2b0600a5, 0xa0d53ebc, 0x6f4b2974, 0x6c0244cf, 0xa39c5307,\n+    0x284f6d1e, 0xe7d17ad6, 0x2eddb668, 0xe143a1a0, 0x6a909fb9,\n+    0xa50e8871, 0xa647e5ca, 0x69d9f202, 0xe20acc1b, 0x2d94dbd3,\n+    0xab625326, 0x64fc44ee, 0xef2f7af7, 0x20b16d3f, 0x23f80084,\n+    0xec66174c, 0x67b52955, 0xa82b3e9d, 0x6127f223, 0xaeb9e5eb,\n+    0x256adbf2, 0xeaf4cc3a, 0xe9bda181, 0x2623b649, 0xadf08850,\n+    0x626e9f98, 0x7b6c9ffb, 0xb4f28833, 0x3f21b62a, 0xf0bfa1e2,\n+    0xf3f6cc59, 0x3c68db91, 0xb7bbe588, 0x7825f240, 0xb1293efe,\n+    0x7eb72936, 0xf564172f, 0x3afa00e7, 0x39b36d5c, 0xf62d7a94,\n+    0x7dfe448d, 0xb2605345, 0x3496dbb0, 0xfb08cc78, 0x70dbf261,\n+    0xbf45e5a9, 0xbc0c8812, 0x73929fda, 0xf841a1c3, 0x37dfb60b,\n+    0xfed37ab5, 0x314d6d7d, 0xba9e5364, 0x750044ac, 0x76492917,\n+    0xb9d73edf, 0x320400c6, 0xfd9a170e, 0x1241289b, 0xdddf3f53,\n+    0x560c014a, 0x99921682, 0x9adb7b39, 0x55456cf1, 0xde9652e8,\n+    0x11084520, 0xd804899e, 0x179a9e56, 0x9c49a04f, 0x53d7b787,\n+    0x509eda3c, 0x9f00cdf4, 0x14d3f3ed, 0xdb4de425, 0x5dbb6cd0,\n+    0x92257b18, 0x19f64501, 0xd66852c9, 0xd5213f72, 0x1abf28ba,\n+    0x916c16a3, 0x5ef2016b, 0x97fecdd5, 0x5860da1d, 0xd3b3e404,\n+    0x1c2df3cc, 0x1f649e77, 0xd0fa89bf, 0x5b29b7a6, 0x94b7a06e,\n+    0x8db5a00d, 0x422bb7c5, 0xc9f889dc, 0x06669e14, 0x052ff3af,\n+    0xcab1e467, 0x4162da7e, 0x8efccdb6, 0x47f00108, 0x886e16c0,\n+    0x03bd28d9, 0xcc233f11, 0xcf6a52aa, 0x00f44562, 0x8b277b7b,\n+    0x44b96cb3, 0xc24fe446, 0x0dd1f38e, 0x8602cd97, 0x499cda5f,\n+    0x4ad5b7e4, 0x854ba02c, 0x0e989e35, 0xc10689fd, 0x080a4543,\n+    0xc794528b, 0x4c476c92, 0x83d97b5a, 0x809016e1, 0x4f0e0129,\n+    0xc4dd3f30, 0x0b4328f8, 0xf6d93ff6, 0x3947283e, 0xb2941627,\n+    0x7d0a01ef, 0x7e436c54, 0xb1dd7b9c, 0x3a0e4585, 0xf590524d,\n+    0x3c9c9ef3, 0xf302893b, 0x78d1b722, 0xb74fa0ea, 0xb406cd51,\n+    0x7b98da99, 0xf04be480, 0x3fd5f348, 0xb9237bbd, 0x76bd6c75,\n+    0xfd6e526c, 0x32f045a4, 0x31b9281f, 0xfe273fd7, 0x75f401ce,\n+    0xba6a1606, 0x7366dab8, 0xbcf8cd70, 0x372bf369, 0xf8b5e4a1,\n+    0xfbfc891a, 0x34629ed2, 0xbfb1a0cb, 0x702fb703, 0x692db760,\n+    0xa6b3a0a8, 0x2d609eb1, 0xe2fe8979, 0xe1b7e4c2, 0x2e29f30a,\n+    0xa5facd13, 0x6a64dadb, 0xa3681665, 0x6cf601ad, 0xe7253fb4,\n+    0x28bb287c, 0x2bf245c7, 0xe46c520f, 0x6fbf6c16, 0xa0217bde,\n+    0x26d7f32b, 0xe949e4e3, 0x629adafa, 0xad04cd32, 0xae4da089,\n+    0x61d3b741, 0xea008958, 0x259e9e90, 0xec92522e, 0x230c45e6,\n+    0xa8df7bff, 0x67416c37, 0x6408018c, 0xab961644, 0x2045285d,\n+    0xefdb3f95},\n+   {0x00000000, 0x24825136, 0x4904a26c, 0x6d86f35a, 0x920944d8,\n+    0xb68b15ee, 0xdb0de6b4, 0xff8fb782, 0xff638ff1, 0xdbe1dec7,\n+    0xb6672d9d, 0x92e57cab, 0x6d6acb29, 0x49e89a1f, 0x246e6945,\n+    0x00ec3873, 0x25b619a3, 0x01344895, 0x6cb2bbcf, 0x4830eaf9,\n+    0xb7bf5d7b, 0x933d0c4d, 0xfebbff17, 0xda39ae21, 0xdad59652,\n+    0xfe57c764, 0x93d1343e, 0xb7536508, 0x48dcd28a, 0x6c5e83bc,\n+    0x01d870e6, 0x255a21d0, 0x4b6c3346, 0x6fee6270, 0x0268912a,\n+    0x26eac01c, 0xd965779e, 0xfde726a8, 0x9061d5f2, 0xb4e384c4,\n+    0xb40fbcb7, 0x908ded81, 0xfd0b1edb, 0xd9894fed, 0x2606f86f,\n+    0x0284a959, 0x6f025a03, 0x4b800b35, 0x6eda2ae5, 0x4a587bd3,\n+    0x27de8889, 0x035cd9bf, 0xfcd36e3d, 0xd8513f0b, 0xb5d7cc51,\n+    0x91559d67, 0x91b9a514, 0xb53bf422, 0xd8bd0778, 0xfc3f564e,\n+    0x03b0e1cc, 0x2732b0fa, 0x4ab443a0, 0x6e361296, 0x96d8668c,\n+    0xb25a37ba, 0xdfdcc4e0, 0xfb5e95d6, 0x04d12254, 0x20537362,\n+    0x4dd58038, 0x6957d10e, 0x69bbe97d, 0x4d39b84b, 0x20bf4b11,\n+    0x043d1a27, 0xfbb2ada5, 0xdf30fc93, 0xb2b60fc9, 0x96345eff,\n+    0xb36e7f2f, 0x97ec2e19, 0xfa6add43, 0xdee88c75, 0x21673bf7,\n+    0x05e56ac1, 0x6863999b, 0x4ce1c8ad, 0x4c0df0de, 0x688fa1e8,\n+    0x050952b2, 0x218b0384, 0xde04b406, 0xfa86e530, 0x9700166a,\n+    0xb382475c, 0xddb455ca, 0xf93604fc, 0x94b0f7a6, 0xb032a690,\n+    0x4fbd1112, 0x6b3f4024, 0x06b9b37e, 0x223be248, 0x22d7da3b,\n+    0x06558b0d, 0x6bd37857, 0x4f512961, 0xb0de9ee3, 0x945ccfd5,\n+    0xf9da3c8f, 0xdd586db9, 0xf8024c69, 0xdc801d5f, 0xb106ee05,\n+    0x9584bf33, 0x6a0b08b1, 0x4e895987, 0x230faadd, 0x078dfbeb,\n+    0x0761c398, 0x23e392ae, 0x4e6561f4, 0x6ae730c2, 0x95688740,\n+    0xb1ead676, 0xdc6c252c, 0xf8ee741a, 0xf6c1cb59, 0xd2439a6f,\n+    0xbfc56935, 0x9b473803, 0x64c88f81, 0x404adeb7, 0x2dcc2ded,\n+    0x094e7cdb, 0x09a244a8, 0x2d20159e, 0x40a6e6c4, 0x6424b7f2,\n+    0x9bab0070, 0xbf295146, 0xd2afa21c, 0xf62df32a, 0xd377d2fa,\n+    0xf7f583cc, 0x9a737096, 0xbef121a0, 0x417e9622, 0x65fcc714,\n+    0x087a344e, 0x2cf86578, 0x2c145d0b, 0x08960c3d, 0x6510ff67,\n+    0x4192ae51, 0xbe1d19d3, 0x9a9f48e5, 0xf719bbbf, 0xd39bea89,\n+    0xbdadf81f, 0x992fa929, 0xf4a95a73, 0xd02b0b45, 0x2fa4bcc7,\n+    0x0b26edf1, 0x66a01eab, 0x42224f9d, 0x42ce77ee, 0x664c26d8,\n+    0x0bcad582, 0x2f4884b4, 0xd0c73336, 0xf4456200, 0x99c3915a,\n+    0xbd41c06c, 0x981be1bc, 0xbc99b08a, 0xd11f43d0, 0xf59d12e6,\n+    0x0a12a564, 0x2e90f452, 0x43160708, 0x6794563e, 0x67786e4d,\n+    0x43fa3f7b, 0x2e7ccc21, 0x0afe9d17, 0xf5712a95, 0xd1f37ba3,\n+    0xbc7588f9, 0x98f7d9cf, 0x6019add5, 0x449bfce3, 0x291d0fb9,\n+    0x0d9f5e8f, 0xf210e90d, 0xd692b83b, 0xbb144b61, 0x9f961a57,\n+    0x9f7a2224, 0xbbf87312, 0xd67e8048, 0xf2fcd17e, 0x0d7366fc,\n+    0x29f137ca, 0x4477c490, 0x60f595a6, 0x45afb476, 0x612de540,\n+    0x0cab161a, 0x2829472c, 0xd7a6f0ae, 0xf324a198, 0x9ea252c2,\n+    0xba2003f4, 0xbacc3b87, 0x9e4e6ab1, 0xf3c899eb, 0xd74ac8dd,\n+    0x28c57f5f, 0x0c472e69, 0x61c1dd33, 0x45438c05, 0x2b759e93,\n+    0x0ff7cfa5, 0x62713cff, 0x46f36dc9, 0xb97cda4b, 0x9dfe8b7d,\n+    0xf0787827, 0xd4fa2911, 0xd4161162, 0xf0944054, 0x9d12b30e,\n+    0xb990e238, 0x461f55ba, 0x629d048c, 0x0f1bf7d6, 0x2b99a6e0,\n+    0x0ec38730, 0x2a41d606, 0x47c7255c, 0x6345746a, 0x9ccac3e8,\n+    0xb84892de, 0xd5ce6184, 0xf14c30b2, 0xf1a008c1, 0xd52259f7,\n+    0xb8a4aaad, 0x9c26fb9b, 0x63a94c19, 0x472b1d2f, 0x2aadee75,\n+    0x0e2fbf43},\n+   {0x00000000, 0x36f290f3, 0x6de521e6, 0x5b17b115, 0xdbca43cc,\n+    0xed38d33f, 0xb62f622a, 0x80ddf2d9, 0x6ce581d9, 0x5a17112a,\n+    0x0100a03f, 0x37f230cc, 0xb72fc215, 0x81dd52e6, 0xdacae3f3,\n+    0xec387300, 0xd9cb03b2, 0xef399341, 0xb42e2254, 0x82dcb2a7,\n+    0x0201407e, 0x34f3d08d, 0x6fe46198, 0x5916f16b, 0xb52e826b,\n+    0x83dc1298, 0xd8cba38d, 0xee39337e, 0x6ee4c1a7, 0x58165154,\n+    0x0301e041, 0x35f370b2, 0x68e70125, 0x5e1591d6, 0x050220c3,\n+    0x33f0b030, 0xb32d42e9, 0x85dfd21a, 0xdec8630f, 0xe83af3fc,\n+    0x040280fc, 0x32f0100f, 0x69e7a11a, 0x5f1531e9, 0xdfc8c330,\n+    0xe93a53c3, 0xb22de2d6, 0x84df7225, 0xb12c0297, 0x87de9264,\n+    0xdcc92371, 0xea3bb382, 0x6ae6415b, 0x5c14d1a8, 0x070360bd,\n+    0x31f1f04e, 0xddc9834e, 0xeb3b13bd, 0xb02ca2a8, 0x86de325b,\n+    0x0603c082, 0x30f15071, 0x6be6e164, 0x5d147197, 0xd1ce024a,\n+    0xe73c92b9, 0xbc2b23ac, 0x8ad9b35f, 0x0a044186, 0x3cf6d175,\n+    0x67e16060, 0x5113f093, 0xbd2b8393, 0x8bd91360, 0xd0cea275,\n+    0xe63c3286, 0x66e1c05f, 0x501350ac, 0x0b04e1b9, 0x3df6714a,\n+    0x080501f8, 0x3ef7910b, 0x65e0201e, 0x5312b0ed, 0xd3cf4234,\n+    0xe53dd2c7, 0xbe2a63d2, 0x88d8f321, 0x64e08021, 0x521210d2,\n+    0x0905a1c7, 0x3ff73134, 0xbf2ac3ed, 0x89d8531e, 0xd2cfe20b,\n+    0xe43d72f8, 0xb929036f, 0x8fdb939c, 0xd4cc2289, 0xe23eb27a,\n+    0x62e340a3, 0x5411d050, 0x0f066145, 0x39f4f1b6, 0xd5cc82b6,\n+    0xe33e1245, 0xb829a350, 0x8edb33a3, 0x0e06c17a, 0x38f45189,\n+    0x63e3e09c, 0x5511706f, 0x60e200dd, 0x5610902e, 0x0d07213b,\n+    0x3bf5b1c8, 0xbb284311, 0x8ddad3e2, 0xd6cd62f7, 0xe03ff204,\n+    0x0c078104, 0x3af511f7, 0x61e2a0e2, 0x57103011, 0xd7cdc2c8,\n+    0xe13f523b, 0xba28e32e, 0x8cda73dd, 0x78ed02d5, 0x4e1f9226,\n+    0x15082333, 0x23fab3c0, 0xa3274119, 0x95d5d1ea, 0xcec260ff,\n+    0xf830f00c, 0x1408830c, 0x22fa13ff, 0x79eda2ea, 0x4f1f3219,\n+    0xcfc2c0c0, 0xf9305033, 0xa227e126, 0x94d571d5, 0xa1260167,\n+    0x97d49194, 0xccc32081, 0xfa31b072, 0x7aec42ab, 0x4c1ed258,\n+    0x1709634d, 0x21fbf3be, 0xcdc380be, 0xfb31104d, 0xa026a158,\n+    0x96d431ab, 0x1609c372, 0x20fb5381, 0x7bece294, 0x4d1e7267,\n+    0x100a03f0, 0x26f89303, 0x7def2216, 0x4b1db2e5, 0xcbc0403c,\n+    0xfd32d0cf, 0xa62561da, 0x90d7f129, 0x7cef8229, 0x4a1d12da,\n+    0x110aa3cf, 0x27f8333c, 0xa725c1e5, 0x91d75116, 0xcac0e003,\n+    0xfc3270f0, 0xc9c10042, 0xff3390b1, 0xa42421a4, 0x92d6b157,\n+    0x120b438e, 0x24f9d37d, 0x7fee6268, 0x491cf29b, 0xa524819b,\n+    0x93d61168, 0xc8c1a07d, 0xfe33308e, 0x7eeec257, 0x481c52a4,\n+    0x130be3b1, 0x25f97342, 0xa923009f, 0x9fd1906c, 0xc4c62179,\n+    0xf234b18a, 0x72e94353, 0x441bd3a0, 0x1f0c62b5, 0x29fef246,\n+    0xc5c68146, 0xf33411b5, 0xa823a0a0, 0x9ed13053, 0x1e0cc28a,\n+    0x28fe5279, 0x73e9e36c, 0x451b739f, 0x70e8032d, 0x461a93de,\n+    0x1d0d22cb, 0x2bffb238, 0xab2240e1, 0x9dd0d012, 0xc6c76107,\n+    0xf035f1f4, 0x1c0d82f4, 0x2aff1207, 0x71e8a312, 0x471a33e1,\n+    0xc7c7c138, 0xf13551cb, 0xaa22e0de, 0x9cd0702d, 0xc1c401ba,\n+    0xf7369149, 0xac21205c, 0x9ad3b0af, 0x1a0e4276, 0x2cfcd285,\n+    0x77eb6390, 0x4119f363, 0xad218063, 0x9bd31090, 0xc0c4a185,\n+    0xf6363176, 0x76ebc3af, 0x4019535c, 0x1b0ee249, 0x2dfc72ba,\n+    0x180f0208, 0x2efd92fb, 0x75ea23ee, 0x4318b31d, 0xc3c541c4,\n+    0xf537d137, 0xae206022, 0x98d2f0d1, 0x74ea83d1, 0x42181322,\n+    0x190fa237, 0x2ffd32c4, 0xaf20c01d, 0x99d250ee, 0xc2c5e1fb,\n+    0xf4377108}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0xf390f23600000000, 0xe621e56d00000000,\n+    0x15b1175b00000000, 0xcc43cadb00000000, 0x3fd338ed00000000,\n+    0x2a622fb600000000, 0xd9f2dd8000000000, 0xd981e56c00000000,\n+    0x2a11175a00000000, 0x3fa0000100000000, 0xcc30f23700000000,\n+    0x15c22fb700000000, 0xe652dd8100000000, 0xf3e3cada00000000,\n+    0x007338ec00000000, 0xb203cbd900000000, 0x419339ef00000000,\n+    0x54222eb400000000, 0xa7b2dc8200000000, 0x7e40010200000000,\n+    0x8dd0f33400000000, 0x9861e46f00000000, 0x6bf1165900000000,\n+    0x6b822eb500000000, 0x9812dc8300000000, 0x8da3cbd800000000,\n+    0x7e3339ee00000000, 0xa7c1e46e00000000, 0x5451165800000000,\n+    0x41e0010300000000, 0xb270f33500000000, 0x2501e76800000000,\n+    0xd691155e00000000, 0xc320020500000000, 0x30b0f03300000000,\n+    0xe9422db300000000, 0x1ad2df8500000000, 0x0f63c8de00000000,\n+    0xfcf33ae800000000, 0xfc80020400000000, 0x0f10f03200000000,\n+    0x1aa1e76900000000, 0xe931155f00000000, 0x30c3c8df00000000,\n+    0xc3533ae900000000, 0xd6e22db200000000, 0x2572df8400000000,\n+    0x97022cb100000000, 0x6492de8700000000, 0x7123c9dc00000000,\n+    0x82b33bea00000000, 0x5b41e66a00000000, 0xa8d1145c00000000,\n+    0xbd60030700000000, 0x4ef0f13100000000, 0x4e83c9dd00000000,\n+    0xbd133beb00000000, 0xa8a22cb000000000, 0x5b32de8600000000,\n+    0x82c0030600000000, 0x7150f13000000000, 0x64e1e66b00000000,\n+    0x9771145d00000000, 0x4a02ced100000000, 0xb9923ce700000000,\n+    0xac232bbc00000000, 0x5fb3d98a00000000, 0x8641040a00000000,\n+    0x75d1f63c00000000, 0x6060e16700000000, 0x93f0135100000000,\n+    0x93832bbd00000000, 0x6013d98b00000000, 0x75a2ced000000000,\n+    0x86323ce600000000, 0x5fc0e16600000000, 0xac50135000000000,\n+    0xb9e1040b00000000, 0x4a71f63d00000000, 0xf801050800000000,\n+    0x0b91f73e00000000, 0x1e20e06500000000, 0xedb0125300000000,\n+    0x3442cfd300000000, 0xc7d23de500000000, 0xd2632abe00000000,\n+    0x21f3d88800000000, 0x2180e06400000000, 0xd210125200000000,\n+    0xc7a1050900000000, 0x3431f73f00000000, 0xedc32abf00000000,\n+    0x1e53d88900000000, 0x0be2cfd200000000, 0xf8723de400000000,\n+    0x6f0329b900000000, 0x9c93db8f00000000, 0x8922ccd400000000,\n+    0x7ab23ee200000000, 0xa340e36200000000, 0x50d0115400000000,\n+    0x4561060f00000000, 0xb6f1f43900000000, 0xb682ccd500000000,\n+    0x45123ee300000000, 0x50a329b800000000, 0xa333db8e00000000,\n+    0x7ac1060e00000000, 0x8951f43800000000, 0x9ce0e36300000000,\n+    0x6f70115500000000, 0xdd00e26000000000, 0x2e90105600000000,\n+    0x3b21070d00000000, 0xc8b1f53b00000000, 0x114328bb00000000,\n+    0xe2d3da8d00000000, 0xf762cdd600000000, 0x04f23fe000000000,\n+    0x0481070c00000000, 0xf711f53a00000000, 0xe2a0e26100000000,\n+    0x1130105700000000, 0xc8c2cdd700000000, 0x3b523fe100000000,\n+    0x2ee328ba00000000, 0xdd73da8c00000000, 0xd502ed7800000000,\n+    0x26921f4e00000000, 0x3323081500000000, 0xc0b3fa2300000000,\n+    0x194127a300000000, 0xead1d59500000000, 0xff60c2ce00000000,\n+    0x0cf030f800000000, 0x0c83081400000000, 0xff13fa2200000000,\n+    0xeaa2ed7900000000, 0x19321f4f00000000, 0xc0c0c2cf00000000,\n+    0x335030f900000000, 0x26e127a200000000, 0xd571d59400000000,\n+    0x670126a100000000, 0x9491d49700000000, 0x8120c3cc00000000,\n+    0x72b031fa00000000, 0xab42ec7a00000000, 0x58d21e4c00000000,\n+    0x4d63091700000000, 0xbef3fb2100000000, 0xbe80c3cd00000000,\n+    0x4d1031fb00000000, 0x58a126a000000000, 0xab31d49600000000,\n+    0x72c3091600000000, 0x8153fb2000000000, 0x94e2ec7b00000000,\n+    0x67721e4d00000000, 0xf0030a1000000000, 0x0393f82600000000,\n+    0x1622ef7d00000000, 0xe5b21d4b00000000, 0x3c40c0cb00000000,\n+    0xcfd032fd00000000, 0xda6125a600000000, 0x29f1d79000000000,\n+    0x2982ef7c00000000, 0xda121d4a00000000, 0xcfa30a1100000000,\n+    0x3c33f82700000000, 0xe5c125a700000000, 0x1651d79100000000,\n+    0x03e0c0ca00000000, 0xf07032fc00000000, 0x4200c1c900000000,\n+    0xb19033ff00000000, 0xa42124a400000000, 0x57b1d69200000000,\n+    0x8e430b1200000000, 0x7dd3f92400000000, 0x6862ee7f00000000,\n+    0x9bf21c4900000000, 0x9b8124a500000000, 0x6811d69300000000,\n+    0x7da0c1c800000000, 0x8e3033fe00000000, 0x57c2ee7e00000000,\n+    0xa4521c4800000000, 0xb1e30b1300000000, 0x4273f92500000000,\n+    0x9f0023a900000000, 0x6c90d19f00000000, 0x7921c6c400000000,\n+    0x8ab134f200000000, 0x5343e97200000000, 0xa0d31b4400000000,\n+    0xb5620c1f00000000, 0x46f2fe2900000000, 0x4681c6c500000000,\n+    0xb51134f300000000, 0xa0a023a800000000, 0x5330d19e00000000,\n+    0x8ac20c1e00000000, 0x7952fe2800000000, 0x6ce3e97300000000,\n+    0x9f731b4500000000, 0x2d03e87000000000, 0xde931a4600000000,\n+    0xcb220d1d00000000, 0x38b2ff2b00000000, 0xe14022ab00000000,\n+    0x12d0d09d00000000, 0x0761c7c600000000, 0xf4f135f000000000,\n+    0xf4820d1c00000000, 0x0712ff2a00000000, 0x12a3e87100000000,\n+    0xe1331a4700000000, 0x38c1c7c700000000, 0xcb5135f100000000,\n+    0xdee022aa00000000, 0x2d70d09c00000000, 0xba01c4c100000000,\n+    0x499136f700000000, 0x5c2021ac00000000, 0xafb0d39a00000000,\n+    0x76420e1a00000000, 0x85d2fc2c00000000, 0x9063eb7700000000,\n+    0x63f3194100000000, 0x638021ad00000000, 0x9010d39b00000000,\n+    0x85a1c4c000000000, 0x763136f600000000, 0xafc3eb7600000000,\n+    0x5c53194000000000, 0x49e20e1b00000000, 0xba72fc2d00000000,\n+    0x08020f1800000000, 0xfb92fd2e00000000, 0xee23ea7500000000,\n+    0x1db3184300000000, 0xc441c5c300000000, 0x37d137f500000000,\n+    0x226020ae00000000, 0xd1f0d29800000000, 0xd183ea7400000000,\n+    0x2213184200000000, 0x37a20f1900000000, 0xc432fd2f00000000,\n+    0x1dc020af00000000, 0xee50d29900000000, 0xfbe1c5c200000000,\n+    0x087137f400000000},\n+   {0x0000000000000000, 0x3651822400000000, 0x6ca2044900000000,\n+    0x5af3866d00000000, 0xd844099200000000, 0xee158bb600000000,\n+    0xb4e60ddb00000000, 0x82b78fff00000000, 0xf18f63ff00000000,\n+    0xc7dee1db00000000, 0x9d2d67b600000000, 0xab7ce59200000000,\n+    0x29cb6a6d00000000, 0x1f9ae84900000000, 0x45696e2400000000,\n+    0x7338ec0000000000, 0xa319b62500000000, 0x9548340100000000,\n+    0xcfbbb26c00000000, 0xf9ea304800000000, 0x7b5dbfb700000000,\n+    0x4d0c3d9300000000, 0x17ffbbfe00000000, 0x21ae39da00000000,\n+    0x5296d5da00000000, 0x64c757fe00000000, 0x3e34d19300000000,\n+    0x086553b700000000, 0x8ad2dc4800000000, 0xbc835e6c00000000,\n+    0xe670d80100000000, 0xd0215a2500000000, 0x46336c4b00000000,\n+    0x7062ee6f00000000, 0x2a91680200000000, 0x1cc0ea2600000000,\n+    0x9e7765d900000000, 0xa826e7fd00000000, 0xf2d5619000000000,\n+    0xc484e3b400000000, 0xb7bc0fb400000000, 0x81ed8d9000000000,\n+    0xdb1e0bfd00000000, 0xed4f89d900000000, 0x6ff8062600000000,\n+    0x59a9840200000000, 0x035a026f00000000, 0x350b804b00000000,\n+    0xe52ada6e00000000, 0xd37b584a00000000, 0x8988de2700000000,\n+    0xbfd95c0300000000, 0x3d6ed3fc00000000, 0x0b3f51d800000000,\n+    0x51ccd7b500000000, 0x679d559100000000, 0x14a5b99100000000,\n+    0x22f43bb500000000, 0x7807bdd800000000, 0x4e563ffc00000000,\n+    0xcce1b00300000000, 0xfab0322700000000, 0xa043b44a00000000,\n+    0x9612366e00000000, 0x8c66d89600000000, 0xba375ab200000000,\n+    0xe0c4dcdf00000000, 0xd6955efb00000000, 0x5422d10400000000,\n+    0x6273532000000000, 0x3880d54d00000000, 0x0ed1576900000000,\n+    0x7de9bb6900000000, 0x4bb8394d00000000, 0x114bbf2000000000,\n+    0x271a3d0400000000, 0xa5adb2fb00000000, 0x93fc30df00000000,\n+    0xc90fb6b200000000, 0xff5e349600000000, 0x2f7f6eb300000000,\n+    0x192eec9700000000, 0x43dd6afa00000000, 0x758ce8de00000000,\n+    0xf73b672100000000, 0xc16ae50500000000, 0x9b99636800000000,\n+    0xadc8e14c00000000, 0xdef00d4c00000000, 0xe8a18f6800000000,\n+    0xb252090500000000, 0x84038b2100000000, 0x06b404de00000000,\n+    0x30e586fa00000000, 0x6a16009700000000, 0x5c4782b300000000,\n+    0xca55b4dd00000000, 0xfc0436f900000000, 0xa6f7b09400000000,\n+    0x90a632b000000000, 0x1211bd4f00000000, 0x24403f6b00000000,\n+    0x7eb3b90600000000, 0x48e23b2200000000, 0x3bdad72200000000,\n+    0x0d8b550600000000, 0x5778d36b00000000, 0x6129514f00000000,\n+    0xe39edeb000000000, 0xd5cf5c9400000000, 0x8f3cdaf900000000,\n+    0xb96d58dd00000000, 0x694c02f800000000, 0x5f1d80dc00000000,\n+    0x05ee06b100000000, 0x33bf849500000000, 0xb1080b6a00000000,\n+    0x8759894e00000000, 0xddaa0f2300000000, 0xebfb8d0700000000,\n+    0x98c3610700000000, 0xae92e32300000000, 0xf461654e00000000,\n+    0xc230e76a00000000, 0x4087689500000000, 0x76d6eab100000000,\n+    0x2c256cdc00000000, 0x1a74eef800000000, 0x59cbc1f600000000,\n+    0x6f9a43d200000000, 0x3569c5bf00000000, 0x0338479b00000000,\n+    0x818fc86400000000, 0xb7de4a4000000000, 0xed2dcc2d00000000,\n+    0xdb7c4e0900000000, 0xa844a20900000000, 0x9e15202d00000000,\n+    0xc4e6a64000000000, 0xf2b7246400000000, 0x7000ab9b00000000,\n+    0x465129bf00000000, 0x1ca2afd200000000, 0x2af32df600000000,\n+    0xfad277d300000000, 0xcc83f5f700000000, 0x9670739a00000000,\n+    0xa021f1be00000000, 0x22967e4100000000, 0x14c7fc6500000000,\n+    0x4e347a0800000000, 0x7865f82c00000000, 0x0b5d142c00000000,\n+    0x3d0c960800000000, 0x67ff106500000000, 0x51ae924100000000,\n+    0xd3191dbe00000000, 0xe5489f9a00000000, 0xbfbb19f700000000,\n+    0x89ea9bd300000000, 0x1ff8adbd00000000, 0x29a92f9900000000,\n+    0x735aa9f400000000, 0x450b2bd000000000, 0xc7bca42f00000000,\n+    0xf1ed260b00000000, 0xab1ea06600000000, 0x9d4f224200000000,\n+    0xee77ce4200000000, 0xd8264c6600000000, 0x82d5ca0b00000000,\n+    0xb484482f00000000, 0x3633c7d000000000, 0x006245f400000000,\n+    0x5a91c39900000000, 0x6cc041bd00000000, 0xbce11b9800000000,\n+    0x8ab099bc00000000, 0xd0431fd100000000, 0xe6129df500000000,\n+    0x64a5120a00000000, 0x52f4902e00000000, 0x0807164300000000,\n+    0x3e56946700000000, 0x4d6e786700000000, 0x7b3ffa4300000000,\n+    0x21cc7c2e00000000, 0x179dfe0a00000000, 0x952a71f500000000,\n+    0xa37bf3d100000000, 0xf98875bc00000000, 0xcfd9f79800000000,\n+    0xd5ad196000000000, 0xe3fc9b4400000000, 0xb90f1d2900000000,\n+    0x8f5e9f0d00000000, 0x0de910f200000000, 0x3bb892d600000000,\n+    0x614b14bb00000000, 0x571a969f00000000, 0x24227a9f00000000,\n+    0x1273f8bb00000000, 0x48807ed600000000, 0x7ed1fcf200000000,\n+    0xfc66730d00000000, 0xca37f12900000000, 0x90c4774400000000,\n+    0xa695f56000000000, 0x76b4af4500000000, 0x40e52d6100000000,\n+    0x1a16ab0c00000000, 0x2c47292800000000, 0xaef0a6d700000000,\n+    0x98a124f300000000, 0xc252a29e00000000, 0xf40320ba00000000,\n+    0x873bccba00000000, 0xb16a4e9e00000000, 0xeb99c8f300000000,\n+    0xddc84ad700000000, 0x5f7fc52800000000, 0x692e470c00000000,\n+    0x33ddc16100000000, 0x058c434500000000, 0x939e752b00000000,\n+    0xa5cff70f00000000, 0xff3c716200000000, 0xc96df34600000000,\n+    0x4bda7cb900000000, 0x7d8bfe9d00000000, 0x277878f000000000,\n+    0x1129fad400000000, 0x621116d400000000, 0x544094f000000000,\n+    0x0eb3129d00000000, 0x38e290b900000000, 0xba551f4600000000,\n+    0x8c049d6200000000, 0xd6f71b0f00000000, 0xe0a6992b00000000,\n+    0x3087c30e00000000, 0x06d6412a00000000, 0x5c25c74700000000,\n+    0x6a74456300000000, 0xe8c3ca9c00000000, 0xde9248b800000000,\n+    0x8461ced500000000, 0xb2304cf100000000, 0xc108a0f100000000,\n+    0xf75922d500000000, 0xadaaa4b800000000, 0x9bfb269c00000000,\n+    0x194ca96300000000, 0x2f1d2b4700000000, 0x75eead2a00000000,\n+    0x43bf2f0e00000000},\n+   {0x0000000000000000, 0xc8179ecf00000000, 0xd1294d4400000000,\n+    0x193ed38b00000000, 0xa2539a8800000000, 0x6a44044700000000,\n+    0x737ad7cc00000000, 0xbb6d490300000000, 0x05a145ca00000000,\n+    0xcdb6db0500000000, 0xd488088e00000000, 0x1c9f964100000000,\n+    0xa7f2df4200000000, 0x6fe5418d00000000, 0x76db920600000000,\n+    0xbecc0cc900000000, 0x4b44fa4f00000000, 0x8353648000000000,\n+    0x9a6db70b00000000, 0x527a29c400000000, 0xe91760c700000000,\n+    0x2100fe0800000000, 0x383e2d8300000000, 0xf029b34c00000000,\n+    0x4ee5bf8500000000, 0x86f2214a00000000, 0x9fccf2c100000000,\n+    0x57db6c0e00000000, 0xecb6250d00000000, 0x24a1bbc200000000,\n+    0x3d9f684900000000, 0xf588f68600000000, 0x9688f49f00000000,\n+    0x5e9f6a5000000000, 0x47a1b9db00000000, 0x8fb6271400000000,\n+    0x34db6e1700000000, 0xfcccf0d800000000, 0xe5f2235300000000,\n+    0x2de5bd9c00000000, 0x9329b15500000000, 0x5b3e2f9a00000000,\n+    0x4200fc1100000000, 0x8a1762de00000000, 0x317a2bdd00000000,\n+    0xf96db51200000000, 0xe053669900000000, 0x2844f85600000000,\n+    0xddcc0ed000000000, 0x15db901f00000000, 0x0ce5439400000000,\n+    0xc4f2dd5b00000000, 0x7f9f945800000000, 0xb7880a9700000000,\n+    0xaeb6d91c00000000, 0x66a147d300000000, 0xd86d4b1a00000000,\n+    0x107ad5d500000000, 0x0944065e00000000, 0xc153989100000000,\n+    0x7a3ed19200000000, 0xb2294f5d00000000, 0xab179cd600000000,\n+    0x6300021900000000, 0x6d1798e400000000, 0xa500062b00000000,\n+    0xbc3ed5a000000000, 0x74294b6f00000000, 0xcf44026c00000000,\n+    0x07539ca300000000, 0x1e6d4f2800000000, 0xd67ad1e700000000,\n+    0x68b6dd2e00000000, 0xa0a143e100000000, 0xb99f906a00000000,\n+    0x71880ea500000000, 0xcae547a600000000, 0x02f2d96900000000,\n+    0x1bcc0ae200000000, 0xd3db942d00000000, 0x265362ab00000000,\n+    0xee44fc6400000000, 0xf77a2fef00000000, 0x3f6db12000000000,\n+    0x8400f82300000000, 0x4c1766ec00000000, 0x5529b56700000000,\n+    0x9d3e2ba800000000, 0x23f2276100000000, 0xebe5b9ae00000000,\n+    0xf2db6a2500000000, 0x3accf4ea00000000, 0x81a1bde900000000,\n+    0x49b6232600000000, 0x5088f0ad00000000, 0x989f6e6200000000,\n+    0xfb9f6c7b00000000, 0x3388f2b400000000, 0x2ab6213f00000000,\n+    0xe2a1bff000000000, 0x59ccf6f300000000, 0x91db683c00000000,\n+    0x88e5bbb700000000, 0x40f2257800000000, 0xfe3e29b100000000,\n+    0x3629b77e00000000, 0x2f1764f500000000, 0xe700fa3a00000000,\n+    0x5c6db33900000000, 0x947a2df600000000, 0x8d44fe7d00000000,\n+    0x455360b200000000, 0xb0db963400000000, 0x78cc08fb00000000,\n+    0x61f2db7000000000, 0xa9e545bf00000000, 0x12880cbc00000000,\n+    0xda9f927300000000, 0xc3a141f800000000, 0x0bb6df3700000000,\n+    0xb57ad3fe00000000, 0x7d6d4d3100000000, 0x64539eba00000000,\n+    0xac44007500000000, 0x1729497600000000, 0xdf3ed7b900000000,\n+    0xc600043200000000, 0x0e179afd00000000, 0x9b28411200000000,\n+    0x533fdfdd00000000, 0x4a010c5600000000, 0x8216929900000000,\n+    0x397bdb9a00000000, 0xf16c455500000000, 0xe85296de00000000,\n+    0x2045081100000000, 0x9e8904d800000000, 0x569e9a1700000000,\n+    0x4fa0499c00000000, 0x87b7d75300000000, 0x3cda9e5000000000,\n+    0xf4cd009f00000000, 0xedf3d31400000000, 0x25e44ddb00000000,\n+    0xd06cbb5d00000000, 0x187b259200000000, 0x0145f61900000000,\n+    0xc95268d600000000, 0x723f21d500000000, 0xba28bf1a00000000,\n+    0xa3166c9100000000, 0x6b01f25e00000000, 0xd5cdfe9700000000,\n+    0x1dda605800000000, 0x04e4b3d300000000, 0xccf32d1c00000000,\n+    0x779e641f00000000, 0xbf89fad000000000, 0xa6b7295b00000000,\n+    0x6ea0b79400000000, 0x0da0b58d00000000, 0xc5b72b4200000000,\n+    0xdc89f8c900000000, 0x149e660600000000, 0xaff32f0500000000,\n+    0x67e4b1ca00000000, 0x7eda624100000000, 0xb6cdfc8e00000000,\n+    0x0801f04700000000, 0xc0166e8800000000, 0xd928bd0300000000,\n+    0x113f23cc00000000, 0xaa526acf00000000, 0x6245f40000000000,\n+    0x7b7b278b00000000, 0xb36cb94400000000, 0x46e44fc200000000,\n+    0x8ef3d10d00000000, 0x97cd028600000000, 0x5fda9c4900000000,\n+    0xe4b7d54a00000000, 0x2ca04b8500000000, 0x359e980e00000000,\n+    0xfd8906c100000000, 0x43450a0800000000, 0x8b5294c700000000,\n+    0x926c474c00000000, 0x5a7bd98300000000, 0xe116908000000000,\n+    0x29010e4f00000000, 0x303fddc400000000, 0xf828430b00000000,\n+    0xf63fd9f600000000, 0x3e28473900000000, 0x271694b200000000,\n+    0xef010a7d00000000, 0x546c437e00000000, 0x9c7bddb100000000,\n+    0x85450e3a00000000, 0x4d5290f500000000, 0xf39e9c3c00000000,\n+    0x3b8902f300000000, 0x22b7d17800000000, 0xeaa04fb700000000,\n+    0x51cd06b400000000, 0x99da987b00000000, 0x80e44bf000000000,\n+    0x48f3d53f00000000, 0xbd7b23b900000000, 0x756cbd7600000000,\n+    0x6c526efd00000000, 0xa445f03200000000, 0x1f28b93100000000,\n+    0xd73f27fe00000000, 0xce01f47500000000, 0x06166aba00000000,\n+    0xb8da667300000000, 0x70cdf8bc00000000, 0x69f32b3700000000,\n+    0xa1e4b5f800000000, 0x1a89fcfb00000000, 0xd29e623400000000,\n+    0xcba0b1bf00000000, 0x03b72f7000000000, 0x60b72d6900000000,\n+    0xa8a0b3a600000000, 0xb19e602d00000000, 0x7989fee200000000,\n+    0xc2e4b7e100000000, 0x0af3292e00000000, 0x13cdfaa500000000,\n+    0xdbda646a00000000, 0x651668a300000000, 0xad01f66c00000000,\n+    0xb43f25e700000000, 0x7c28bb2800000000, 0xc745f22b00000000,\n+    0x0f526ce400000000, 0x166cbf6f00000000, 0xde7b21a000000000,\n+    0x2bf3d72600000000, 0xe3e449e900000000, 0xfada9a6200000000,\n+    0x32cd04ad00000000, 0x89a04dae00000000, 0x41b7d36100000000,\n+    0x588900ea00000000, 0x909e9e2500000000, 0x2e5292ec00000000,\n+    0xe6450c2300000000, 0xff7bdfa800000000, 0x376c416700000000,\n+    0x8c01086400000000, 0x441696ab00000000, 0x5d28452000000000,\n+    0x953fdbef00000000},\n+   {0x0000000000000000, 0x95d4709500000000, 0x6baf90f100000000,\n+    0xfe7be06400000000, 0x9758503800000000, 0x028c20ad00000000,\n+    0xfcf7c0c900000000, 0x6923b05c00000000, 0x2eb1a07000000000,\n+    0xbb65d0e500000000, 0x451e308100000000, 0xd0ca401400000000,\n+    0xb9e9f04800000000, 0x2c3d80dd00000000, 0xd24660b900000000,\n+    0x4792102c00000000, 0x5c6241e100000000, 0xc9b6317400000000,\n+    0x37cdd11000000000, 0xa219a18500000000, 0xcb3a11d900000000,\n+    0x5eee614c00000000, 0xa095812800000000, 0x3541f1bd00000000,\n+    0x72d3e19100000000, 0xe707910400000000, 0x197c716000000000,\n+    0x8ca801f500000000, 0xe58bb1a900000000, 0x705fc13c00000000,\n+    0x8e24215800000000, 0x1bf051cd00000000, 0xf9c2f31900000000,\n+    0x6c16838c00000000, 0x926d63e800000000, 0x07b9137d00000000,\n+    0x6e9aa32100000000, 0xfb4ed3b400000000, 0x053533d000000000,\n+    0x90e1434500000000, 0xd773536900000000, 0x42a723fc00000000,\n+    0xbcdcc39800000000, 0x2908b30d00000000, 0x402b035100000000,\n+    0xd5ff73c400000000, 0x2b8493a000000000, 0xbe50e33500000000,\n+    0xa5a0b2f800000000, 0x3074c26d00000000, 0xce0f220900000000,\n+    0x5bdb529c00000000, 0x32f8e2c000000000, 0xa72c925500000000,\n+    0x5957723100000000, 0xcc8302a400000000, 0x8b11128800000000,\n+    0x1ec5621d00000000, 0xe0be827900000000, 0x756af2ec00000000,\n+    0x1c4942b000000000, 0x899d322500000000, 0x77e6d24100000000,\n+    0xe232a2d400000000, 0xf285e73300000000, 0x675197a600000000,\n+    0x992a77c200000000, 0x0cfe075700000000, 0x65ddb70b00000000,\n+    0xf009c79e00000000, 0x0e7227fa00000000, 0x9ba6576f00000000,\n+    0xdc34474300000000, 0x49e037d600000000, 0xb79bd7b200000000,\n+    0x224fa72700000000, 0x4b6c177b00000000, 0xdeb867ee00000000,\n+    0x20c3878a00000000, 0xb517f71f00000000, 0xaee7a6d200000000,\n+    0x3b33d64700000000, 0xc548362300000000, 0x509c46b600000000,\n+    0x39bff6ea00000000, 0xac6b867f00000000, 0x5210661b00000000,\n+    0xc7c4168e00000000, 0x805606a200000000, 0x1582763700000000,\n+    0xebf9965300000000, 0x7e2de6c600000000, 0x170e569a00000000,\n+    0x82da260f00000000, 0x7ca1c66b00000000, 0xe975b6fe00000000,\n+    0x0b47142a00000000, 0x9e9364bf00000000, 0x60e884db00000000,\n+    0xf53cf44e00000000, 0x9c1f441200000000, 0x09cb348700000000,\n+    0xf7b0d4e300000000, 0x6264a47600000000, 0x25f6b45a00000000,\n+    0xb022c4cf00000000, 0x4e5924ab00000000, 0xdb8d543e00000000,\n+    0xb2aee46200000000, 0x277a94f700000000, 0xd901749300000000,\n+    0x4cd5040600000000, 0x572555cb00000000, 0xc2f1255e00000000,\n+    0x3c8ac53a00000000, 0xa95eb5af00000000, 0xc07d05f300000000,\n+    0x55a9756600000000, 0xabd2950200000000, 0x3e06e59700000000,\n+    0x7994f5bb00000000, 0xec40852e00000000, 0x123b654a00000000,\n+    0x87ef15df00000000, 0xeecca58300000000, 0x7b18d51600000000,\n+    0x8563357200000000, 0x10b745e700000000, 0xe40bcf6700000000,\n+    0x71dfbff200000000, 0x8fa45f9600000000, 0x1a702f0300000000,\n+    0x73539f5f00000000, 0xe687efca00000000, 0x18fc0fae00000000,\n+    0x8d287f3b00000000, 0xcaba6f1700000000, 0x5f6e1f8200000000,\n+    0xa115ffe600000000, 0x34c18f7300000000, 0x5de23f2f00000000,\n+    0xc8364fba00000000, 0x364dafde00000000, 0xa399df4b00000000,\n+    0xb8698e8600000000, 0x2dbdfe1300000000, 0xd3c61e7700000000,\n+    0x46126ee200000000, 0x2f31debe00000000, 0xbae5ae2b00000000,\n+    0x449e4e4f00000000, 0xd14a3eda00000000, 0x96d82ef600000000,\n+    0x030c5e6300000000, 0xfd77be0700000000, 0x68a3ce9200000000,\n+    0x01807ece00000000, 0x94540e5b00000000, 0x6a2fee3f00000000,\n+    0xfffb9eaa00000000, 0x1dc93c7e00000000, 0x881d4ceb00000000,\n+    0x7666ac8f00000000, 0xe3b2dc1a00000000, 0x8a916c4600000000,\n+    0x1f451cd300000000, 0xe13efcb700000000, 0x74ea8c2200000000,\n+    0x33789c0e00000000, 0xa6acec9b00000000, 0x58d70cff00000000,\n+    0xcd037c6a00000000, 0xa420cc3600000000, 0x31f4bca300000000,\n+    0xcf8f5cc700000000, 0x5a5b2c5200000000, 0x41ab7d9f00000000,\n+    0xd47f0d0a00000000, 0x2a04ed6e00000000, 0xbfd09dfb00000000,\n+    0xd6f32da700000000, 0x43275d3200000000, 0xbd5cbd5600000000,\n+    0x2888cdc300000000, 0x6f1addef00000000, 0xfacead7a00000000,\n+    0x04b54d1e00000000, 0x91613d8b00000000, 0xf8428dd700000000,\n+    0x6d96fd4200000000, 0x93ed1d2600000000, 0x06396db300000000,\n+    0x168e285400000000, 0x835a58c100000000, 0x7d21b8a500000000,\n+    0xe8f5c83000000000, 0x81d6786c00000000, 0x140208f900000000,\n+    0xea79e89d00000000, 0x7fad980800000000, 0x383f882400000000,\n+    0xadebf8b100000000, 0x539018d500000000, 0xc644684000000000,\n+    0xaf67d81c00000000, 0x3ab3a88900000000, 0xc4c848ed00000000,\n+    0x511c387800000000, 0x4aec69b500000000, 0xdf38192000000000,\n+    0x2143f94400000000, 0xb49789d100000000, 0xddb4398d00000000,\n+    0x4860491800000000, 0xb61ba97c00000000, 0x23cfd9e900000000,\n+    0x645dc9c500000000, 0xf189b95000000000, 0x0ff2593400000000,\n+    0x9a2629a100000000, 0xf30599fd00000000, 0x66d1e96800000000,\n+    0x98aa090c00000000, 0x0d7e799900000000, 0xef4cdb4d00000000,\n+    0x7a98abd800000000, 0x84e34bbc00000000, 0x11373b2900000000,\n+    0x78148b7500000000, 0xedc0fbe000000000, 0x13bb1b8400000000,\n+    0x866f6b1100000000, 0xc1fd7b3d00000000, 0x54290ba800000000,\n+    0xaa52ebcc00000000, 0x3f869b5900000000, 0x56a52b0500000000,\n+    0xc3715b9000000000, 0x3d0abbf400000000, 0xa8decb6100000000,\n+    0xb32e9aac00000000, 0x26faea3900000000, 0xd8810a5d00000000,\n+    0x4d557ac800000000, 0x2476ca9400000000, 0xb1a2ba0100000000,\n+    0x4fd95a6500000000, 0xda0d2af000000000, 0x9d9f3adc00000000,\n+    0x084b4a4900000000, 0xf630aa2d00000000, 0x63e4dab800000000,\n+    0x0ac76ae400000000, 0x9f131a7100000000, 0x6168fa1500000000,\n+    0xf4bc8a8000000000},\n+   {0x0000000000000000, 0x1f17f08000000000, 0x7f2891da00000000,\n+    0x603f615a00000000, 0xbf56536e00000000, 0xa041a3ee00000000,\n+    0xc07ec2b400000000, 0xdf69323400000000, 0x7eada6dc00000000,\n+    0x61ba565c00000000, 0x0185370600000000, 0x1e92c78600000000,\n+    0xc1fbf5b200000000, 0xdeec053200000000, 0xbed3646800000000,\n+    0xa1c494e800000000, 0xbd5c3c6200000000, 0xa24bcce200000000,\n+    0xc274adb800000000, 0xdd635d3800000000, 0x020a6f0c00000000,\n+    0x1d1d9f8c00000000, 0x7d22fed600000000, 0x62350e5600000000,\n+    0xc3f19abe00000000, 0xdce66a3e00000000, 0xbcd90b6400000000,\n+    0xa3cefbe400000000, 0x7ca7c9d000000000, 0x63b0395000000000,\n+    0x038f580a00000000, 0x1c98a88a00000000, 0x7ab978c400000000,\n+    0x65ae884400000000, 0x0591e91e00000000, 0x1a86199e00000000,\n+    0xc5ef2baa00000000, 0xdaf8db2a00000000, 0xbac7ba7000000000,\n+    0xa5d04af000000000, 0x0414de1800000000, 0x1b032e9800000000,\n+    0x7b3c4fc200000000, 0x642bbf4200000000, 0xbb428d7600000000,\n+    0xa4557df600000000, 0xc46a1cac00000000, 0xdb7dec2c00000000,\n+    0xc7e544a600000000, 0xd8f2b42600000000, 0xb8cdd57c00000000,\n+    0xa7da25fc00000000, 0x78b317c800000000, 0x67a4e74800000000,\n+    0x079b861200000000, 0x188c769200000000, 0xb948e27a00000000,\n+    0xa65f12fa00000000, 0xc66073a000000000, 0xd977832000000000,\n+    0x061eb11400000000, 0x1909419400000000, 0x793620ce00000000,\n+    0x6621d04e00000000, 0xb574805300000000, 0xaa6370d300000000,\n+    0xca5c118900000000, 0xd54be10900000000, 0x0a22d33d00000000,\n+    0x153523bd00000000, 0x750a42e700000000, 0x6a1db26700000000,\n+    0xcbd9268f00000000, 0xd4ced60f00000000, 0xb4f1b75500000000,\n+    0xabe647d500000000, 0x748f75e100000000, 0x6b98856100000000,\n+    0x0ba7e43b00000000, 0x14b014bb00000000, 0x0828bc3100000000,\n+    0x173f4cb100000000, 0x77002deb00000000, 0x6817dd6b00000000,\n+    0xb77eef5f00000000, 0xa8691fdf00000000, 0xc8567e8500000000,\n+    0xd7418e0500000000, 0x76851aed00000000, 0x6992ea6d00000000,\n+    0x09ad8b3700000000, 0x16ba7bb700000000, 0xc9d3498300000000,\n+    0xd6c4b90300000000, 0xb6fbd85900000000, 0xa9ec28d900000000,\n+    0xcfcdf89700000000, 0xd0da081700000000, 0xb0e5694d00000000,\n+    0xaff299cd00000000, 0x709babf900000000, 0x6f8c5b7900000000,\n+    0x0fb33a2300000000, 0x10a4caa300000000, 0xb1605e4b00000000,\n+    0xae77aecb00000000, 0xce48cf9100000000, 0xd15f3f1100000000,\n+    0x0e360d2500000000, 0x1121fda500000000, 0x711e9cff00000000,\n+    0x6e096c7f00000000, 0x7291c4f500000000, 0x6d86347500000000,\n+    0x0db9552f00000000, 0x12aea5af00000000, 0xcdc7979b00000000,\n+    0xd2d0671b00000000, 0xb2ef064100000000, 0xadf8f6c100000000,\n+    0x0c3c622900000000, 0x132b92a900000000, 0x7314f3f300000000,\n+    0x6c03037300000000, 0xb36a314700000000, 0xac7dc1c700000000,\n+    0xcc42a09d00000000, 0xd355501d00000000, 0x6ae900a700000000,\n+    0x75fef02700000000, 0x15c1917d00000000, 0x0ad661fd00000000,\n+    0xd5bf53c900000000, 0xcaa8a34900000000, 0xaa97c21300000000,\n+    0xb580329300000000, 0x1444a67b00000000, 0x0b5356fb00000000,\n+    0x6b6c37a100000000, 0x747bc72100000000, 0xab12f51500000000,\n+    0xb405059500000000, 0xd43a64cf00000000, 0xcb2d944f00000000,\n+    0xd7b53cc500000000, 0xc8a2cc4500000000, 0xa89dad1f00000000,\n+    0xb78a5d9f00000000, 0x68e36fab00000000, 0x77f49f2b00000000,\n+    0x17cbfe7100000000, 0x08dc0ef100000000, 0xa9189a1900000000,\n+    0xb60f6a9900000000, 0xd6300bc300000000, 0xc927fb4300000000,\n+    0x164ec97700000000, 0x095939f700000000, 0x696658ad00000000,\n+    0x7671a82d00000000, 0x1050786300000000, 0x0f4788e300000000,\n+    0x6f78e9b900000000, 0x706f193900000000, 0xaf062b0d00000000,\n+    0xb011db8d00000000, 0xd02ebad700000000, 0xcf394a5700000000,\n+    0x6efddebf00000000, 0x71ea2e3f00000000, 0x11d54f6500000000,\n+    0x0ec2bfe500000000, 0xd1ab8dd100000000, 0xcebc7d5100000000,\n+    0xae831c0b00000000, 0xb194ec8b00000000, 0xad0c440100000000,\n+    0xb21bb48100000000, 0xd224d5db00000000, 0xcd33255b00000000,\n+    0x125a176f00000000, 0x0d4de7ef00000000, 0x6d7286b500000000,\n+    0x7265763500000000, 0xd3a1e2dd00000000, 0xccb6125d00000000,\n+    0xac89730700000000, 0xb39e838700000000, 0x6cf7b1b300000000,\n+    0x73e0413300000000, 0x13df206900000000, 0x0cc8d0e900000000,\n+    0xdf9d80f400000000, 0xc08a707400000000, 0xa0b5112e00000000,\n+    0xbfa2e1ae00000000, 0x60cbd39a00000000, 0x7fdc231a00000000,\n+    0x1fe3424000000000, 0x00f4b2c000000000, 0xa130262800000000,\n+    0xbe27d6a800000000, 0xde18b7f200000000, 0xc10f477200000000,\n+    0x1e66754600000000, 0x017185c600000000, 0x614ee49c00000000,\n+    0x7e59141c00000000, 0x62c1bc9600000000, 0x7dd64c1600000000,\n+    0x1de92d4c00000000, 0x02feddcc00000000, 0xdd97eff800000000,\n+    0xc2801f7800000000, 0xa2bf7e2200000000, 0xbda88ea200000000,\n+    0x1c6c1a4a00000000, 0x037beaca00000000, 0x63448b9000000000,\n+    0x7c537b1000000000, 0xa33a492400000000, 0xbc2db9a400000000,\n+    0xdc12d8fe00000000, 0xc305287e00000000, 0xa524f83000000000,\n+    0xba3308b000000000, 0xda0c69ea00000000, 0xc51b996a00000000,\n+    0x1a72ab5e00000000, 0x05655bde00000000, 0x655a3a8400000000,\n+    0x7a4dca0400000000, 0xdb895eec00000000, 0xc49eae6c00000000,\n+    0xa4a1cf3600000000, 0xbbb63fb600000000, 0x64df0d8200000000,\n+    0x7bc8fd0200000000, 0x1bf79c5800000000, 0x04e06cd800000000,\n+    0x1878c45200000000, 0x076f34d200000000, 0x6750558800000000,\n+    0x7847a50800000000, 0xa72e973c00000000, 0xb83967bc00000000,\n+    0xd80606e600000000, 0xc711f66600000000, 0x66d5628e00000000,\n+    0x79c2920e00000000, 0x19fdf35400000000, 0x06ea03d400000000,\n+    0xd98331e000000000, 0xc694c16000000000, 0xa6aba03a00000000,\n+    0xb9bc50ba00000000},\n+   {0x0000000000000000, 0xe2fd888d00000000, 0x85fd60c000000000,\n+    0x6700e84d00000000, 0x4bfdb05b00000000, 0xa90038d600000000,\n+    0xce00d09b00000000, 0x2cfd581600000000, 0x96fa61b700000000,\n+    0x7407e93a00000000, 0x1307017700000000, 0xf1fa89fa00000000,\n+    0xdd07d1ec00000000, 0x3ffa596100000000, 0x58fab12c00000000,\n+    0xba0739a100000000, 0x6df3b2b500000000, 0x8f0e3a3800000000,\n+    0xe80ed27500000000, 0x0af35af800000000, 0x260e02ee00000000,\n+    0xc4f38a6300000000, 0xa3f3622e00000000, 0x410eeaa300000000,\n+    0xfb09d30200000000, 0x19f45b8f00000000, 0x7ef4b3c200000000,\n+    0x9c093b4f00000000, 0xb0f4635900000000, 0x5209ebd400000000,\n+    0x3509039900000000, 0xd7f48b1400000000, 0x9be014b000000000,\n+    0x791d9c3d00000000, 0x1e1d747000000000, 0xfce0fcfd00000000,\n+    0xd01da4eb00000000, 0x32e02c6600000000, 0x55e0c42b00000000,\n+    0xb71d4ca600000000, 0x0d1a750700000000, 0xefe7fd8a00000000,\n+    0x88e715c700000000, 0x6a1a9d4a00000000, 0x46e7c55c00000000,\n+    0xa41a4dd100000000, 0xc31aa59c00000000, 0x21e72d1100000000,\n+    0xf613a60500000000, 0x14ee2e8800000000, 0x73eec6c500000000,\n+    0x91134e4800000000, 0xbdee165e00000000, 0x5f139ed300000000,\n+    0x3813769e00000000, 0xdaeefe1300000000, 0x60e9c7b200000000,\n+    0x82144f3f00000000, 0xe514a77200000000, 0x07e92fff00000000,\n+    0x2b1477e900000000, 0xc9e9ff6400000000, 0xaee9172900000000,\n+    0x4c149fa400000000, 0x77c758bb00000000, 0x953ad03600000000,\n+    0xf23a387b00000000, 0x10c7b0f600000000, 0x3c3ae8e000000000,\n+    0xdec7606d00000000, 0xb9c7882000000000, 0x5b3a00ad00000000,\n+    0xe13d390c00000000, 0x03c0b18100000000, 0x64c059cc00000000,\n+    0x863dd14100000000, 0xaac0895700000000, 0x483d01da00000000,\n+    0x2f3de99700000000, 0xcdc0611a00000000, 0x1a34ea0e00000000,\n+    0xf8c9628300000000, 0x9fc98ace00000000, 0x7d34024300000000,\n+    0x51c95a5500000000, 0xb334d2d800000000, 0xd4343a9500000000,\n+    0x36c9b21800000000, 0x8cce8bb900000000, 0x6e33033400000000,\n+    0x0933eb7900000000, 0xebce63f400000000, 0xc7333be200000000,\n+    0x25ceb36f00000000, 0x42ce5b2200000000, 0xa033d3af00000000,\n+    0xec274c0b00000000, 0x0edac48600000000, 0x69da2ccb00000000,\n+    0x8b27a44600000000, 0xa7dafc5000000000, 0x452774dd00000000,\n+    0x22279c9000000000, 0xc0da141d00000000, 0x7add2dbc00000000,\n+    0x9820a53100000000, 0xff204d7c00000000, 0x1dddc5f100000000,\n+    0x31209de700000000, 0xd3dd156a00000000, 0xb4ddfd2700000000,\n+    0x562075aa00000000, 0x81d4febe00000000, 0x6329763300000000,\n+    0x04299e7e00000000, 0xe6d416f300000000, 0xca294ee500000000,\n+    0x28d4c66800000000, 0x4fd42e2500000000, 0xad29a6a800000000,\n+    0x172e9f0900000000, 0xf5d3178400000000, 0x92d3ffc900000000,\n+    0x702e774400000000, 0x5cd32f5200000000, 0xbe2ea7df00000000,\n+    0xd92e4f9200000000, 0x3bd3c71f00000000, 0xaf88c0ad00000000,\n+    0x4d75482000000000, 0x2a75a06d00000000, 0xc88828e000000000,\n+    0xe47570f600000000, 0x0688f87b00000000, 0x6188103600000000,\n+    0x837598bb00000000, 0x3972a11a00000000, 0xdb8f299700000000,\n+    0xbc8fc1da00000000, 0x5e72495700000000, 0x728f114100000000,\n+    0x907299cc00000000, 0xf772718100000000, 0x158ff90c00000000,\n+    0xc27b721800000000, 0x2086fa9500000000, 0x478612d800000000,\n+    0xa57b9a5500000000, 0x8986c24300000000, 0x6b7b4ace00000000,\n+    0x0c7ba28300000000, 0xee862a0e00000000, 0x548113af00000000,\n+    0xb67c9b2200000000, 0xd17c736f00000000, 0x3381fbe200000000,\n+    0x1f7ca3f400000000, 0xfd812b7900000000, 0x9a81c33400000000,\n+    0x787c4bb900000000, 0x3468d41d00000000, 0xd6955c9000000000,\n+    0xb195b4dd00000000, 0x53683c5000000000, 0x7f95644600000000,\n+    0x9d68eccb00000000, 0xfa68048600000000, 0x18958c0b00000000,\n+    0xa292b5aa00000000, 0x406f3d2700000000, 0x276fd56a00000000,\n+    0xc5925de700000000, 0xe96f05f100000000, 0x0b928d7c00000000,\n+    0x6c92653100000000, 0x8e6fedbc00000000, 0x599b66a800000000,\n+    0xbb66ee2500000000, 0xdc66066800000000, 0x3e9b8ee500000000,\n+    0x1266d6f300000000, 0xf09b5e7e00000000, 0x979bb63300000000,\n+    0x75663ebe00000000, 0xcf61071f00000000, 0x2d9c8f9200000000,\n+    0x4a9c67df00000000, 0xa861ef5200000000, 0x849cb74400000000,\n+    0x66613fc900000000, 0x0161d78400000000, 0xe39c5f0900000000,\n+    0xd84f981600000000, 0x3ab2109b00000000, 0x5db2f8d600000000,\n+    0xbf4f705b00000000, 0x93b2284d00000000, 0x714fa0c000000000,\n+    0x164f488d00000000, 0xf4b2c00000000000, 0x4eb5f9a100000000,\n+    0xac48712c00000000, 0xcb48996100000000, 0x29b511ec00000000,\n+    0x054849fa00000000, 0xe7b5c17700000000, 0x80b5293a00000000,\n+    0x6248a1b700000000, 0xb5bc2aa300000000, 0x5741a22e00000000,\n+    0x30414a6300000000, 0xd2bcc2ee00000000, 0xfe419af800000000,\n+    0x1cbc127500000000, 0x7bbcfa3800000000, 0x994172b500000000,\n+    0x23464b1400000000, 0xc1bbc39900000000, 0xa6bb2bd400000000,\n+    0x4446a35900000000, 0x68bbfb4f00000000, 0x8a4673c200000000,\n+    0xed469b8f00000000, 0x0fbb130200000000, 0x43af8ca600000000,\n+    0xa152042b00000000, 0xc652ec6600000000, 0x24af64eb00000000,\n+    0x08523cfd00000000, 0xeaafb47000000000, 0x8daf5c3d00000000,\n+    0x6f52d4b000000000, 0xd555ed1100000000, 0x37a8659c00000000,\n+    0x50a88dd100000000, 0xb255055c00000000, 0x9ea85d4a00000000,\n+    0x7c55d5c700000000, 0x1b553d8a00000000, 0xf9a8b50700000000,\n+    0x2e5c3e1300000000, 0xcca1b69e00000000, 0xaba15ed300000000,\n+    0x495cd65e00000000, 0x65a18e4800000000, 0x875c06c500000000,\n+    0xe05cee8800000000, 0x02a1660500000000, 0xb8a65fa400000000,\n+    0x5a5bd72900000000, 0x3d5b3f6400000000, 0xdfa6b7e900000000,\n+    0xf35befff00000000, 0x11a6677200000000, 0x76a68f3f00000000,\n+    0x945b07b200000000},\n+   {0x0000000000000000, 0xa90b894e00000000, 0x5217129d00000000,\n+    0xfb1c9bd300000000, 0xe52855e100000000, 0x4c23dcaf00000000,\n+    0xb73f477c00000000, 0x1e34ce3200000000, 0x8b57db1900000000,\n+    0x225c525700000000, 0xd940c98400000000, 0x704b40ca00000000,\n+    0x6e7f8ef800000000, 0xc77407b600000000, 0x3c689c6500000000,\n+    0x9563152b00000000, 0x16afb63300000000, 0xbfa43f7d00000000,\n+    0x44b8a4ae00000000, 0xedb32de000000000, 0xf387e3d200000000,\n+    0x5a8c6a9c00000000, 0xa190f14f00000000, 0x089b780100000000,\n+    0x9df86d2a00000000, 0x34f3e46400000000, 0xcfef7fb700000000,\n+    0x66e4f6f900000000, 0x78d038cb00000000, 0xd1dbb18500000000,\n+    0x2ac72a5600000000, 0x83cca31800000000, 0x2c5e6d6700000000,\n+    0x8555e42900000000, 0x7e497ffa00000000, 0xd742f6b400000000,\n+    0xc976388600000000, 0x607db1c800000000, 0x9b612a1b00000000,\n+    0x326aa35500000000, 0xa709b67e00000000, 0x0e023f3000000000,\n+    0xf51ea4e300000000, 0x5c152dad00000000, 0x4221e39f00000000,\n+    0xeb2a6ad100000000, 0x1036f10200000000, 0xb93d784c00000000,\n+    0x3af1db5400000000, 0x93fa521a00000000, 0x68e6c9c900000000,\n+    0xc1ed408700000000, 0xdfd98eb500000000, 0x76d207fb00000000,\n+    0x8dce9c2800000000, 0x24c5156600000000, 0xb1a6004d00000000,\n+    0x18ad890300000000, 0xe3b112d000000000, 0x4aba9b9e00000000,\n+    0x548e55ac00000000, 0xfd85dce200000000, 0x0699473100000000,\n+    0xaf92ce7f00000000, 0x58bcdace00000000, 0xf1b7538000000000,\n+    0x0aabc85300000000, 0xa3a0411d00000000, 0xbd948f2f00000000,\n+    0x149f066100000000, 0xef839db200000000, 0x468814fc00000000,\n+    0xd3eb01d700000000, 0x7ae0889900000000, 0x81fc134a00000000,\n+    0x28f79a0400000000, 0x36c3543600000000, 0x9fc8dd7800000000,\n+    0x64d446ab00000000, 0xcddfcfe500000000, 0x4e136cfd00000000,\n+    0xe718e5b300000000, 0x1c047e6000000000, 0xb50ff72e00000000,\n+    0xab3b391c00000000, 0x0230b05200000000, 0xf92c2b8100000000,\n+    0x5027a2cf00000000, 0xc544b7e400000000, 0x6c4f3eaa00000000,\n+    0x9753a57900000000, 0x3e582c3700000000, 0x206ce20500000000,\n+    0x89676b4b00000000, 0x727bf09800000000, 0xdb7079d600000000,\n+    0x74e2b7a900000000, 0xdde93ee700000000, 0x26f5a53400000000,\n+    0x8ffe2c7a00000000, 0x91cae24800000000, 0x38c16b0600000000,\n+    0xc3ddf0d500000000, 0x6ad6799b00000000, 0xffb56cb000000000,\n+    0x56bee5fe00000000, 0xada27e2d00000000, 0x04a9f76300000000,\n+    0x1a9d395100000000, 0xb396b01f00000000, 0x488a2bcc00000000,\n+    0xe181a28200000000, 0x624d019a00000000, 0xcb4688d400000000,\n+    0x305a130700000000, 0x99519a4900000000, 0x8765547b00000000,\n+    0x2e6edd3500000000, 0xd57246e600000000, 0x7c79cfa800000000,\n+    0xe91ada8300000000, 0x401153cd00000000, 0xbb0dc81e00000000,\n+    0x1206415000000000, 0x0c328f6200000000, 0xa539062c00000000,\n+    0x5e259dff00000000, 0xf72e14b100000000, 0xf17ec44600000000,\n+    0x58754d0800000000, 0xa369d6db00000000, 0x0a625f9500000000,\n+    0x145691a700000000, 0xbd5d18e900000000, 0x4641833a00000000,\n+    0xef4a0a7400000000, 0x7a291f5f00000000, 0xd322961100000000,\n+    0x283e0dc200000000, 0x8135848c00000000, 0x9f014abe00000000,\n+    0x360ac3f000000000, 0xcd16582300000000, 0x641dd16d00000000,\n+    0xe7d1727500000000, 0x4edafb3b00000000, 0xb5c660e800000000,\n+    0x1ccde9a600000000, 0x02f9279400000000, 0xabf2aeda00000000,\n+    0x50ee350900000000, 0xf9e5bc4700000000, 0x6c86a96c00000000,\n+    0xc58d202200000000, 0x3e91bbf100000000, 0x979a32bf00000000,\n+    0x89aefc8d00000000, 0x20a575c300000000, 0xdbb9ee1000000000,\n+    0x72b2675e00000000, 0xdd20a92100000000, 0x742b206f00000000,\n+    0x8f37bbbc00000000, 0x263c32f200000000, 0x3808fcc000000000,\n+    0x9103758e00000000, 0x6a1fee5d00000000, 0xc314671300000000,\n+    0x5677723800000000, 0xff7cfb7600000000, 0x046060a500000000,\n+    0xad6be9eb00000000, 0xb35f27d900000000, 0x1a54ae9700000000,\n+    0xe148354400000000, 0x4843bc0a00000000, 0xcb8f1f1200000000,\n+    0x6284965c00000000, 0x99980d8f00000000, 0x309384c100000000,\n+    0x2ea74af300000000, 0x87acc3bd00000000, 0x7cb0586e00000000,\n+    0xd5bbd12000000000, 0x40d8c40b00000000, 0xe9d34d4500000000,\n+    0x12cfd69600000000, 0xbbc45fd800000000, 0xa5f091ea00000000,\n+    0x0cfb18a400000000, 0xf7e7837700000000, 0x5eec0a3900000000,\n+    0xa9c21e8800000000, 0x00c997c600000000, 0xfbd50c1500000000,\n+    0x52de855b00000000, 0x4cea4b6900000000, 0xe5e1c22700000000,\n+    0x1efd59f400000000, 0xb7f6d0ba00000000, 0x2295c59100000000,\n+    0x8b9e4cdf00000000, 0x7082d70c00000000, 0xd9895e4200000000,\n+    0xc7bd907000000000, 0x6eb6193e00000000, 0x95aa82ed00000000,\n+    0x3ca10ba300000000, 0xbf6da8bb00000000, 0x166621f500000000,\n+    0xed7aba2600000000, 0x4471336800000000, 0x5a45fd5a00000000,\n+    0xf34e741400000000, 0x0852efc700000000, 0xa159668900000000,\n+    0x343a73a200000000, 0x9d31faec00000000, 0x662d613f00000000,\n+    0xcf26e87100000000, 0xd112264300000000, 0x7819af0d00000000,\n+    0x830534de00000000, 0x2a0ebd9000000000, 0x859c73ef00000000,\n+    0x2c97faa100000000, 0xd78b617200000000, 0x7e80e83c00000000,\n+    0x60b4260e00000000, 0xc9bfaf4000000000, 0x32a3349300000000,\n+    0x9ba8bddd00000000, 0x0ecba8f600000000, 0xa7c021b800000000,\n+    0x5cdcba6b00000000, 0xf5d7332500000000, 0xebe3fd1700000000,\n+    0x42e8745900000000, 0xb9f4ef8a00000000, 0x10ff66c400000000,\n+    0x9333c5dc00000000, 0x3a384c9200000000, 0xc124d74100000000,\n+    0x682f5e0f00000000, 0x761b903d00000000, 0xdf10197300000000,\n+    0x240c82a000000000, 0x8d070bee00000000, 0x18641ec500000000,\n+    0xb16f978b00000000, 0x4a730c5800000000, 0xe378851600000000,\n+    0xfd4c4b2400000000, 0x5447c26a00000000, 0xaf5b59b900000000,\n+    0x0650d0f700000000},\n+   {0x0000000000000000, 0x479244af00000000, 0xcf22f88500000000,\n+    0x88b0bc2a00000000, 0xdf4381d000000000, 0x98d1c57f00000000,\n+    0x1061795500000000, 0x57f33dfa00000000, 0xff81737a00000000,\n+    0xb81337d500000000, 0x30a38bff00000000, 0x7731cf5000000000,\n+    0x20c2f2aa00000000, 0x6750b60500000000, 0xefe00a2f00000000,\n+    0xa8724e8000000000, 0xfe03e7f400000000, 0xb991a35b00000000,\n+    0x31211f7100000000, 0x76b35bde00000000, 0x2140662400000000,\n+    0x66d2228b00000000, 0xee629ea100000000, 0xa9f0da0e00000000,\n+    0x0182948e00000000, 0x4610d02100000000, 0xcea06c0b00000000,\n+    0x893228a400000000, 0xdec1155e00000000, 0x995351f100000000,\n+    0x11e3eddb00000000, 0x5671a97400000000, 0xbd01bf3200000000,\n+    0xfa93fb9d00000000, 0x722347b700000000, 0x35b1031800000000,\n+    0x62423ee200000000, 0x25d07a4d00000000, 0xad60c66700000000,\n+    0xeaf282c800000000, 0x4280cc4800000000, 0x051288e700000000,\n+    0x8da234cd00000000, 0xca30706200000000, 0x9dc34d9800000000,\n+    0xda51093700000000, 0x52e1b51d00000000, 0x1573f1b200000000,\n+    0x430258c600000000, 0x04901c6900000000, 0x8c20a04300000000,\n+    0xcbb2e4ec00000000, 0x9c41d91600000000, 0xdbd39db900000000,\n+    0x5363219300000000, 0x14f1653c00000000, 0xbc832bbc00000000,\n+    0xfb116f1300000000, 0x73a1d33900000000, 0x3433979600000000,\n+    0x63c0aa6c00000000, 0x2452eec300000000, 0xace252e900000000,\n+    0xeb70164600000000, 0x7a037e6500000000, 0x3d913aca00000000,\n+    0xb52186e000000000, 0xf2b3c24f00000000, 0xa540ffb500000000,\n+    0xe2d2bb1a00000000, 0x6a62073000000000, 0x2df0439f00000000,\n+    0x85820d1f00000000, 0xc21049b000000000, 0x4aa0f59a00000000,\n+    0x0d32b13500000000, 0x5ac18ccf00000000, 0x1d53c86000000000,\n+    0x95e3744a00000000, 0xd27130e500000000, 0x8400999100000000,\n+    0xc392dd3e00000000, 0x4b22611400000000, 0x0cb025bb00000000,\n+    0x5b43184100000000, 0x1cd15cee00000000, 0x9461e0c400000000,\n+    0xd3f3a46b00000000, 0x7b81eaeb00000000, 0x3c13ae4400000000,\n+    0xb4a3126e00000000, 0xf33156c100000000, 0xa4c26b3b00000000,\n+    0xe3502f9400000000, 0x6be093be00000000, 0x2c72d71100000000,\n+    0xc702c15700000000, 0x809085f800000000, 0x082039d200000000,\n+    0x4fb27d7d00000000, 0x1841408700000000, 0x5fd3042800000000,\n+    0xd763b80200000000, 0x90f1fcad00000000, 0x3883b22d00000000,\n+    0x7f11f68200000000, 0xf7a14aa800000000, 0xb0330e0700000000,\n+    0xe7c033fd00000000, 0xa052775200000000, 0x28e2cb7800000000,\n+    0x6f708fd700000000, 0x390126a300000000, 0x7e93620c00000000,\n+    0xf623de2600000000, 0xb1b19a8900000000, 0xe642a77300000000,\n+    0xa1d0e3dc00000000, 0x29605ff600000000, 0x6ef21b5900000000,\n+    0xc68055d900000000, 0x8112117600000000, 0x09a2ad5c00000000,\n+    0x4e30e9f300000000, 0x19c3d40900000000, 0x5e5190a600000000,\n+    0xd6e12c8c00000000, 0x9173682300000000, 0xf406fcca00000000,\n+    0xb394b86500000000, 0x3b24044f00000000, 0x7cb640e000000000,\n+    0x2b457d1a00000000, 0x6cd739b500000000, 0xe467859f00000000,\n+    0xa3f5c13000000000, 0x0b878fb000000000, 0x4c15cb1f00000000,\n+    0xc4a5773500000000, 0x8337339a00000000, 0xd4c40e6000000000,\n+    0x93564acf00000000, 0x1be6f6e500000000, 0x5c74b24a00000000,\n+    0x0a051b3e00000000, 0x4d975f9100000000, 0xc527e3bb00000000,\n+    0x82b5a71400000000, 0xd5469aee00000000, 0x92d4de4100000000,\n+    0x1a64626b00000000, 0x5df626c400000000, 0xf584684400000000,\n+    0xb2162ceb00000000, 0x3aa690c100000000, 0x7d34d46e00000000,\n+    0x2ac7e99400000000, 0x6d55ad3b00000000, 0xe5e5111100000000,\n+    0xa27755be00000000, 0x490743f800000000, 0x0e95075700000000,\n+    0x8625bb7d00000000, 0xc1b7ffd200000000, 0x9644c22800000000,\n+    0xd1d6868700000000, 0x59663aad00000000, 0x1ef47e0200000000,\n+    0xb686308200000000, 0xf114742d00000000, 0x79a4c80700000000,\n+    0x3e368ca800000000, 0x69c5b15200000000, 0x2e57f5fd00000000,\n+    0xa6e749d700000000, 0xe1750d7800000000, 0xb704a40c00000000,\n+    0xf096e0a300000000, 0x78265c8900000000, 0x3fb4182600000000,\n+    0x684725dc00000000, 0x2fd5617300000000, 0xa765dd5900000000,\n+    0xe0f799f600000000, 0x4885d77600000000, 0x0f1793d900000000,\n+    0x87a72ff300000000, 0xc0356b5c00000000, 0x97c656a600000000,\n+    0xd054120900000000, 0x58e4ae2300000000, 0x1f76ea8c00000000,\n+    0x8e0582af00000000, 0xc997c60000000000, 0x41277a2a00000000,\n+    0x06b53e8500000000, 0x5146037f00000000, 0x16d447d000000000,\n+    0x9e64fbfa00000000, 0xd9f6bf5500000000, 0x7184f1d500000000,\n+    0x3616b57a00000000, 0xbea6095000000000, 0xf9344dff00000000,\n+    0xaec7700500000000, 0xe95534aa00000000, 0x61e5888000000000,\n+    0x2677cc2f00000000, 0x7006655b00000000, 0x379421f400000000,\n+    0xbf249dde00000000, 0xf8b6d97100000000, 0xaf45e48b00000000,\n+    0xe8d7a02400000000, 0x60671c0e00000000, 0x27f558a100000000,\n+    0x8f87162100000000, 0xc815528e00000000, 0x40a5eea400000000,\n+    0x0737aa0b00000000, 0x50c497f100000000, 0x1756d35e00000000,\n+    0x9fe66f7400000000, 0xd8742bdb00000000, 0x33043d9d00000000,\n+    0x7496793200000000, 0xfc26c51800000000, 0xbbb481b700000000,\n+    0xec47bc4d00000000, 0xabd5f8e200000000, 0x236544c800000000,\n+    0x64f7006700000000, 0xcc854ee700000000, 0x8b170a4800000000,\n+    0x03a7b66200000000, 0x4435f2cd00000000, 0x13c6cf3700000000,\n+    0x54548b9800000000, 0xdce437b200000000, 0x9b76731d00000000,\n+    0xcd07da6900000000, 0x8a959ec600000000, 0x022522ec00000000,\n+    0x45b7664300000000, 0x12445bb900000000, 0x55d61f1600000000,\n+    0xdd66a33c00000000, 0x9af4e79300000000, 0x3286a91300000000,\n+    0x7514edbc00000000, 0xfda4519600000000, 0xba36153900000000,\n+    0xedc528c300000000, 0xaa576c6c00000000, 0x22e7d04600000000,\n+    0x657594e900000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0x65673b46, 0xcace768c, 0xafa94dca, 0x4eedeb59,\n+    0x2b8ad01f, 0x84239dd5, 0xe144a693, 0x9ddbd6b2, 0xf8bcedf4,\n+    0x5715a03e, 0x32729b78, 0xd3363deb, 0xb65106ad, 0x19f84b67,\n+    0x7c9f7021, 0xe0c6ab25, 0x85a19063, 0x2a08dda9, 0x4f6fe6ef,\n+    0xae2b407c, 0xcb4c7b3a, 0x64e536f0, 0x01820db6, 0x7d1d7d97,\n+    0x187a46d1, 0xb7d30b1b, 0xd2b4305d, 0x33f096ce, 0x5697ad88,\n+    0xf93ee042, 0x9c59db04, 0x1afc500b, 0x7f9b6b4d, 0xd0322687,\n+    0xb5551dc1, 0x5411bb52, 0x31768014, 0x9edfcdde, 0xfbb8f698,\n+    0x872786b9, 0xe240bdff, 0x4de9f035, 0x288ecb73, 0xc9ca6de0,\n+    0xacad56a6, 0x03041b6c, 0x6663202a, 0xfa3afb2e, 0x9f5dc068,\n+    0x30f48da2, 0x5593b6e4, 0xb4d71077, 0xd1b02b31, 0x7e1966fb,\n+    0x1b7e5dbd, 0x67e12d9c, 0x028616da, 0xad2f5b10, 0xc8486056,\n+    0x290cc6c5, 0x4c6bfd83, 0xe3c2b049, 0x86a58b0f, 0x35f8a016,\n+    0x509f9b50, 0xff36d69a, 0x9a51eddc, 0x7b154b4f, 0x1e727009,\n+    0xb1db3dc3, 0xd4bc0685, 0xa82376a4, 0xcd444de2, 0x62ed0028,\n+    0x078a3b6e, 0xe6ce9dfd, 0x83a9a6bb, 0x2c00eb71, 0x4967d037,\n+    0xd53e0b33, 0xb0593075, 0x1ff07dbf, 0x7a9746f9, 0x9bd3e06a,\n+    0xfeb4db2c, 0x511d96e6, 0x347aada0, 0x48e5dd81, 0x2d82e6c7,\n+    0x822bab0d, 0xe74c904b, 0x060836d8, 0x636f0d9e, 0xccc64054,\n+    0xa9a17b12, 0x2f04f01d, 0x4a63cb5b, 0xe5ca8691, 0x80adbdd7,\n+    0x61e91b44, 0x048e2002, 0xab276dc8, 0xce40568e, 0xb2df26af,\n+    0xd7b81de9, 0x78115023, 0x1d766b65, 0xfc32cdf6, 0x9955f6b0,\n+    0x36fcbb7a, 0x539b803c, 0xcfc25b38, 0xaaa5607e, 0x050c2db4,\n+    0x606b16f2, 0x812fb061, 0xe4488b27, 0x4be1c6ed, 0x2e86fdab,\n+    0x52198d8a, 0x377eb6cc, 0x98d7fb06, 0xfdb0c040, 0x1cf466d3,\n+    0x79935d95, 0xd63a105f, 0xb35d2b19, 0x6bf1402c, 0x0e967b6a,\n+    0xa13f36a0, 0xc4580de6, 0x251cab75, 0x407b9033, 0xefd2ddf9,\n+    0x8ab5e6bf, 0xf62a969e, 0x934dadd8, 0x3ce4e012, 0x5983db54,\n+    0xb8c77dc7, 0xdda04681, 0x72090b4b, 0x176e300d, 0x8b37eb09,\n+    0xee50d04f, 0x41f99d85, 0x249ea6c3, 0xc5da0050, 0xa0bd3b16,\n+    0x0f1476dc, 0x6a734d9a, 0x16ec3dbb, 0x738b06fd, 0xdc224b37,\n+    0xb9457071, 0x5801d6e2, 0x3d66eda4, 0x92cfa06e, 0xf7a89b28,\n+    0x710d1027, 0x146a2b61, 0xbbc366ab, 0xdea45ded, 0x3fe0fb7e,\n+    0x5a87c038, 0xf52e8df2, 0x9049b6b4, 0xecd6c695, 0x89b1fdd3,\n+    0x2618b019, 0x437f8b5f, 0xa23b2dcc, 0xc75c168a, 0x68f55b40,\n+    0x0d926006, 0x91cbbb02, 0xf4ac8044, 0x5b05cd8e, 0x3e62f6c8,\n+    0xdf26505b, 0xba416b1d, 0x15e826d7, 0x708f1d91, 0x0c106db0,\n+    0x697756f6, 0xc6de1b3c, 0xa3b9207a, 0x42fd86e9, 0x279abdaf,\n+    0x8833f065, 0xed54cb23, 0x5e09e03a, 0x3b6edb7c, 0x94c796b6,\n+    0xf1a0adf0, 0x10e40b63, 0x75833025, 0xda2a7def, 0xbf4d46a9,\n+    0xc3d23688, 0xa6b50dce, 0x091c4004, 0x6c7b7b42, 0x8d3fddd1,\n+    0xe858e697, 0x47f1ab5d, 0x2296901b, 0xbecf4b1f, 0xdba87059,\n+    0x74013d93, 0x116606d5, 0xf022a046, 0x95459b00, 0x3aecd6ca,\n+    0x5f8bed8c, 0x23149dad, 0x4673a6eb, 0xe9daeb21, 0x8cbdd067,\n+    0x6df976f4, 0x089e4db2, 0xa7370078, 0xc2503b3e, 0x44f5b031,\n+    0x21928b77, 0x8e3bc6bd, 0xeb5cfdfb, 0x0a185b68, 0x6f7f602e,\n+    0xc0d62de4, 0xa5b116a2, 0xd92e6683, 0xbc495dc5, 0x13e0100f,\n+    0x76872b49, 0x97c38dda, 0xf2a4b69c, 0x5d0dfb56, 0x386ac010,\n+    0xa4331b14, 0xc1542052, 0x6efd6d98, 0x0b9a56de, 0xeadef04d,\n+    0x8fb9cb0b, 0x201086c1, 0x4577bd87, 0x39e8cda6, 0x5c8ff6e0,\n+    0xf326bb2a, 0x9641806c, 0x770526ff, 0x12621db9, 0xbdcb5073,\n+    0xd8ac6b35},\n+   {0x00000000, 0xd7e28058, 0x74b406f1, 0xa35686a9, 0xe9680de2,\n+    0x3e8a8dba, 0x9ddc0b13, 0x4a3e8b4b, 0x09a11d85, 0xde439ddd,\n+    0x7d151b74, 0xaaf79b2c, 0xe0c91067, 0x372b903f, 0x947d1696,\n+    0x439f96ce, 0x13423b0a, 0xc4a0bb52, 0x67f63dfb, 0xb014bda3,\n+    0xfa2a36e8, 0x2dc8b6b0, 0x8e9e3019, 0x597cb041, 0x1ae3268f,\n+    0xcd01a6d7, 0x6e57207e, 0xb9b5a026, 0xf38b2b6d, 0x2469ab35,\n+    0x873f2d9c, 0x50ddadc4, 0x26847614, 0xf166f64c, 0x523070e5,\n+    0x85d2f0bd, 0xcfec7bf6, 0x180efbae, 0xbb587d07, 0x6cbafd5f,\n+    0x2f256b91, 0xf8c7ebc9, 0x5b916d60, 0x8c73ed38, 0xc64d6673,\n+    0x11afe62b, 0xb2f96082, 0x651be0da, 0x35c64d1e, 0xe224cd46,\n+    0x41724bef, 0x9690cbb7, 0xdcae40fc, 0x0b4cc0a4, 0xa81a460d,\n+    0x7ff8c655, 0x3c67509b, 0xeb85d0c3, 0x48d3566a, 0x9f31d632,\n+    0xd50f5d79, 0x02eddd21, 0xa1bb5b88, 0x7659dbd0, 0x4d08ec28,\n+    0x9aea6c70, 0x39bcead9, 0xee5e6a81, 0xa460e1ca, 0x73826192,\n+    0xd0d4e73b, 0x07366763, 0x44a9f1ad, 0x934b71f5, 0x301df75c,\n+    0xe7ff7704, 0xadc1fc4f, 0x7a237c17, 0xd975fabe, 0x0e977ae6,\n+    0x5e4ad722, 0x89a8577a, 0x2afed1d3, 0xfd1c518b, 0xb722dac0,\n+    0x60c05a98, 0xc396dc31, 0x14745c69, 0x57ebcaa7, 0x80094aff,\n+    0x235fcc56, 0xf4bd4c0e, 0xbe83c745, 0x6961471d, 0xca37c1b4,\n+    0x1dd541ec, 0x6b8c9a3c, 0xbc6e1a64, 0x1f389ccd, 0xc8da1c95,\n+    0x82e497de, 0x55061786, 0xf650912f, 0x21b21177, 0x622d87b9,\n+    0xb5cf07e1, 0x16998148, 0xc17b0110, 0x8b458a5b, 0x5ca70a03,\n+    0xfff18caa, 0x28130cf2, 0x78cea136, 0xaf2c216e, 0x0c7aa7c7,\n+    0xdb98279f, 0x91a6acd4, 0x46442c8c, 0xe512aa25, 0x32f02a7d,\n+    0x716fbcb3, 0xa68d3ceb, 0x05dbba42, 0xd2393a1a, 0x9807b151,\n+    0x4fe53109, 0xecb3b7a0, 0x3b5137f8, 0x9a11d850, 0x4df35808,\n+    0xeea5dea1, 0x39475ef9, 0x7379d5b2, 0xa49b55ea, 0x07cdd343,\n+    0xd02f531b, 0x93b0c5d5, 0x4452458d, 0xe704c324, 0x30e6437c,\n+    0x7ad8c837, 0xad3a486f, 0x0e6ccec6, 0xd98e4e9e, 0x8953e35a,\n+    0x5eb16302, 0xfde7e5ab, 0x2a0565f3, 0x603beeb8, 0xb7d96ee0,\n+    0x148fe849, 0xc36d6811, 0x80f2fedf, 0x57107e87, 0xf446f82e,\n+    0x23a47876, 0x699af33d, 0xbe787365, 0x1d2ef5cc, 0xcacc7594,\n+    0xbc95ae44, 0x6b772e1c, 0xc821a8b5, 0x1fc328ed, 0x55fda3a6,\n+    0x821f23fe, 0x2149a557, 0xf6ab250f, 0xb534b3c1, 0x62d63399,\n+    0xc180b530, 0x16623568, 0x5c5cbe23, 0x8bbe3e7b, 0x28e8b8d2,\n+    0xff0a388a, 0xafd7954e, 0x78351516, 0xdb6393bf, 0x0c8113e7,\n+    0x46bf98ac, 0x915d18f4, 0x320b9e5d, 0xe5e91e05, 0xa67688cb,\n+    0x71940893, 0xd2c28e3a, 0x05200e62, 0x4f1e8529, 0x98fc0571,\n+    0x3baa83d8, 0xec480380, 0xd7193478, 0x00fbb420, 0xa3ad3289,\n+    0x744fb2d1, 0x3e71399a, 0xe993b9c2, 0x4ac53f6b, 0x9d27bf33,\n+    0xdeb829fd, 0x095aa9a5, 0xaa0c2f0c, 0x7deeaf54, 0x37d0241f,\n+    0xe032a447, 0x436422ee, 0x9486a2b6, 0xc45b0f72, 0x13b98f2a,\n+    0xb0ef0983, 0x670d89db, 0x2d330290, 0xfad182c8, 0x59870461,\n+    0x8e658439, 0xcdfa12f7, 0x1a1892af, 0xb94e1406, 0x6eac945e,\n+    0x24921f15, 0xf3709f4d, 0x502619e4, 0x87c499bc, 0xf19d426c,\n+    0x267fc234, 0x8529449d, 0x52cbc4c5, 0x18f54f8e, 0xcf17cfd6,\n+    0x6c41497f, 0xbba3c927, 0xf83c5fe9, 0x2fdedfb1, 0x8c885918,\n+    0x5b6ad940, 0x1154520b, 0xc6b6d253, 0x65e054fa, 0xb202d4a2,\n+    0xe2df7966, 0x353df93e, 0x966b7f97, 0x4189ffcf, 0x0bb77484,\n+    0xdc55f4dc, 0x7f037275, 0xa8e1f22d, 0xeb7e64e3, 0x3c9ce4bb,\n+    0x9fca6212, 0x4828e24a, 0x02166901, 0xd5f4e959, 0x76a26ff0,\n+    0xa140efa8},\n+   {0x00000000, 0xef52b6e1, 0x05d46b83, 0xea86dd62, 0x0ba8d706,\n+    0xe4fa61e7, 0x0e7cbc85, 0xe12e0a64, 0x1751ae0c, 0xf80318ed,\n+    0x1285c58f, 0xfdd7736e, 0x1cf9790a, 0xf3abcfeb, 0x192d1289,\n+    0xf67fa468, 0x2ea35c18, 0xc1f1eaf9, 0x2b77379b, 0xc425817a,\n+    0x250b8b1e, 0xca593dff, 0x20dfe09d, 0xcf8d567c, 0x39f2f214,\n+    0xd6a044f5, 0x3c269997, 0xd3742f76, 0x325a2512, 0xdd0893f3,\n+    0x378e4e91, 0xd8dcf870, 0x5d46b830, 0xb2140ed1, 0x5892d3b3,\n+    0xb7c06552, 0x56ee6f36, 0xb9bcd9d7, 0x533a04b5, 0xbc68b254,\n+    0x4a17163c, 0xa545a0dd, 0x4fc37dbf, 0xa091cb5e, 0x41bfc13a,\n+    0xaeed77db, 0x446baab9, 0xab391c58, 0x73e5e428, 0x9cb752c9,\n+    0x76318fab, 0x9963394a, 0x784d332e, 0x971f85cf, 0x7d9958ad,\n+    0x92cbee4c, 0x64b44a24, 0x8be6fcc5, 0x616021a7, 0x8e329746,\n+    0x6f1c9d22, 0x804e2bc3, 0x6ac8f6a1, 0x859a4040, 0xba8d7060,\n+    0x55dfc681, 0xbf591be3, 0x500bad02, 0xb125a766, 0x5e771187,\n+    0xb4f1cce5, 0x5ba37a04, 0xaddcde6c, 0x428e688d, 0xa808b5ef,\n+    0x475a030e, 0xa674096a, 0x4926bf8b, 0xa3a062e9, 0x4cf2d408,\n+    0x942e2c78, 0x7b7c9a99, 0x91fa47fb, 0x7ea8f11a, 0x9f86fb7e,\n+    0x70d44d9f, 0x9a5290fd, 0x7500261c, 0x837f8274, 0x6c2d3495,\n+    0x86abe9f7, 0x69f95f16, 0x88d75572, 0x6785e393, 0x8d033ef1,\n+    0x62518810, 0xe7cbc850, 0x08997eb1, 0xe21fa3d3, 0x0d4d1532,\n+    0xec631f56, 0x0331a9b7, 0xe9b774d5, 0x06e5c234, 0xf09a665c,\n+    0x1fc8d0bd, 0xf54e0ddf, 0x1a1cbb3e, 0xfb32b15a, 0x146007bb,\n+    0xfee6dad9, 0x11b46c38, 0xc9689448, 0x263a22a9, 0xccbcffcb,\n+    0x23ee492a, 0xc2c0434e, 0x2d92f5af, 0xc71428cd, 0x28469e2c,\n+    0xde393a44, 0x316b8ca5, 0xdbed51c7, 0x34bfe726, 0xd591ed42,\n+    0x3ac35ba3, 0xd04586c1, 0x3f173020, 0xae6be681, 0x41395060,\n+    0xabbf8d02, 0x44ed3be3, 0xa5c33187, 0x4a918766, 0xa0175a04,\n+    0x4f45ece5, 0xb93a488d, 0x5668fe6c, 0xbcee230e, 0x53bc95ef,\n+    0xb2929f8b, 0x5dc0296a, 0xb746f408, 0x581442e9, 0x80c8ba99,\n+    0x6f9a0c78, 0x851cd11a, 0x6a4e67fb, 0x8b606d9f, 0x6432db7e,\n+    0x8eb4061c, 0x61e6b0fd, 0x97991495, 0x78cba274, 0x924d7f16,\n+    0x7d1fc9f7, 0x9c31c393, 0x73637572, 0x99e5a810, 0x76b71ef1,\n+    0xf32d5eb1, 0x1c7fe850, 0xf6f93532, 0x19ab83d3, 0xf88589b7,\n+    0x17d73f56, 0xfd51e234, 0x120354d5, 0xe47cf0bd, 0x0b2e465c,\n+    0xe1a89b3e, 0x0efa2ddf, 0xefd427bb, 0x0086915a, 0xea004c38,\n+    0x0552fad9, 0xdd8e02a9, 0x32dcb448, 0xd85a692a, 0x3708dfcb,\n+    0xd626d5af, 0x3974634e, 0xd3f2be2c, 0x3ca008cd, 0xcadfaca5,\n+    0x258d1a44, 0xcf0bc726, 0x205971c7, 0xc1777ba3, 0x2e25cd42,\n+    0xc4a31020, 0x2bf1a6c1, 0x14e696e1, 0xfbb42000, 0x1132fd62,\n+    0xfe604b83, 0x1f4e41e7, 0xf01cf706, 0x1a9a2a64, 0xf5c89c85,\n+    0x03b738ed, 0xece58e0c, 0x0663536e, 0xe931e58f, 0x081fefeb,\n+    0xe74d590a, 0x0dcb8468, 0xe2993289, 0x3a45caf9, 0xd5177c18,\n+    0x3f91a17a, 0xd0c3179b, 0x31ed1dff, 0xdebfab1e, 0x3439767c,\n+    0xdb6bc09d, 0x2d1464f5, 0xc246d214, 0x28c00f76, 0xc792b997,\n+    0x26bcb3f3, 0xc9ee0512, 0x2368d870, 0xcc3a6e91, 0x49a02ed1,\n+    0xa6f29830, 0x4c744552, 0xa326f3b3, 0x4208f9d7, 0xad5a4f36,\n+    0x47dc9254, 0xa88e24b5, 0x5ef180dd, 0xb1a3363c, 0x5b25eb5e,\n+    0xb4775dbf, 0x555957db, 0xba0be13a, 0x508d3c58, 0xbfdf8ab9,\n+    0x670372c9, 0x8851c428, 0x62d7194a, 0x8d85afab, 0x6caba5cf,\n+    0x83f9132e, 0x697fce4c, 0x862d78ad, 0x7052dcc5, 0x9f006a24,\n+    0x7586b746, 0x9ad401a7, 0x7bfa0bc3, 0x94a8bd22, 0x7e2e6040,\n+    0x917cd6a1},\n+   {0x00000000, 0x87a6cb43, 0xd43c90c7, 0x539a5b84, 0x730827cf,\n+    0xf4aeec8c, 0xa734b708, 0x20927c4b, 0xe6104f9e, 0x61b684dd,\n+    0x322cdf59, 0xb58a141a, 0x95186851, 0x12bea312, 0x4124f896,\n+    0xc68233d5, 0x1751997d, 0x90f7523e, 0xc36d09ba, 0x44cbc2f9,\n+    0x6459beb2, 0xe3ff75f1, 0xb0652e75, 0x37c3e536, 0xf141d6e3,\n+    0x76e71da0, 0x257d4624, 0xa2db8d67, 0x8249f12c, 0x05ef3a6f,\n+    0x567561eb, 0xd1d3aaa8, 0x2ea332fa, 0xa905f9b9, 0xfa9fa23d,\n+    0x7d39697e, 0x5dab1535, 0xda0dde76, 0x899785f2, 0x0e314eb1,\n+    0xc8b37d64, 0x4f15b627, 0x1c8feda3, 0x9b2926e0, 0xbbbb5aab,\n+    0x3c1d91e8, 0x6f87ca6c, 0xe821012f, 0x39f2ab87, 0xbe5460c4,\n+    0xedce3b40, 0x6a68f003, 0x4afa8c48, 0xcd5c470b, 0x9ec61c8f,\n+    0x1960d7cc, 0xdfe2e419, 0x58442f5a, 0x0bde74de, 0x8c78bf9d,\n+    0xaceac3d6, 0x2b4c0895, 0x78d65311, 0xff709852, 0x5d4665f4,\n+    0xdae0aeb7, 0x897af533, 0x0edc3e70, 0x2e4e423b, 0xa9e88978,\n+    0xfa72d2fc, 0x7dd419bf, 0xbb562a6a, 0x3cf0e129, 0x6f6abaad,\n+    0xe8cc71ee, 0xc85e0da5, 0x4ff8c6e6, 0x1c629d62, 0x9bc45621,\n+    0x4a17fc89, 0xcdb137ca, 0x9e2b6c4e, 0x198da70d, 0x391fdb46,\n+    0xbeb91005, 0xed234b81, 0x6a8580c2, 0xac07b317, 0x2ba17854,\n+    0x783b23d0, 0xff9de893, 0xdf0f94d8, 0x58a95f9b, 0x0b33041f,\n+    0x8c95cf5c, 0x73e5570e, 0xf4439c4d, 0xa7d9c7c9, 0x207f0c8a,\n+    0x00ed70c1, 0x874bbb82, 0xd4d1e006, 0x53772b45, 0x95f51890,\n+    0x1253d3d3, 0x41c98857, 0xc66f4314, 0xe6fd3f5f, 0x615bf41c,\n+    0x32c1af98, 0xb56764db, 0x64b4ce73, 0xe3120530, 0xb0885eb4,\n+    0x372e95f7, 0x17bce9bc, 0x901a22ff, 0xc380797b, 0x4426b238,\n+    0x82a481ed, 0x05024aae, 0x5698112a, 0xd13eda69, 0xf1aca622,\n+    0x760a6d61, 0x259036e5, 0xa236fda6, 0xba8ccbe8, 0x3d2a00ab,\n+    0x6eb05b2f, 0xe916906c, 0xc984ec27, 0x4e222764, 0x1db87ce0,\n+    0x9a1eb7a3, 0x5c9c8476, 0xdb3a4f35, 0x88a014b1, 0x0f06dff2,\n+    0x2f94a3b9, 0xa83268fa, 0xfba8337e, 0x7c0ef83d, 0xaddd5295,\n+    0x2a7b99d6, 0x79e1c252, 0xfe470911, 0xded5755a, 0x5973be19,\n+    0x0ae9e59d, 0x8d4f2ede, 0x4bcd1d0b, 0xcc6bd648, 0x9ff18dcc,\n+    0x1857468f, 0x38c53ac4, 0xbf63f187, 0xecf9aa03, 0x6b5f6140,\n+    0x942ff912, 0x13893251, 0x401369d5, 0xc7b5a296, 0xe727dedd,\n+    0x6081159e, 0x331b4e1a, 0xb4bd8559, 0x723fb68c, 0xf5997dcf,\n+    0xa603264b, 0x21a5ed08, 0x01379143, 0x86915a00, 0xd50b0184,\n+    0x52adcac7, 0x837e606f, 0x04d8ab2c, 0x5742f0a8, 0xd0e43beb,\n+    0xf07647a0, 0x77d08ce3, 0x244ad767, 0xa3ec1c24, 0x656e2ff1,\n+    0xe2c8e4b2, 0xb152bf36, 0x36f47475, 0x1666083e, 0x91c0c37d,\n+    0xc25a98f9, 0x45fc53ba, 0xe7caae1c, 0x606c655f, 0x33f63edb,\n+    0xb450f598, 0x94c289d3, 0x13644290, 0x40fe1914, 0xc758d257,\n+    0x01dae182, 0x867c2ac1, 0xd5e67145, 0x5240ba06, 0x72d2c64d,\n+    0xf5740d0e, 0xa6ee568a, 0x21489dc9, 0xf09b3761, 0x773dfc22,\n+    0x24a7a7a6, 0xa3016ce5, 0x839310ae, 0x0435dbed, 0x57af8069,\n+    0xd0094b2a, 0x168b78ff, 0x912db3bc, 0xc2b7e838, 0x4511237b,\n+    0x65835f30, 0xe2259473, 0xb1bfcff7, 0x361904b4, 0xc9699ce6,\n+    0x4ecf57a5, 0x1d550c21, 0x9af3c762, 0xba61bb29, 0x3dc7706a,\n+    0x6e5d2bee, 0xe9fbe0ad, 0x2f79d378, 0xa8df183b, 0xfb4543bf,\n+    0x7ce388fc, 0x5c71f4b7, 0xdbd73ff4, 0x884d6470, 0x0febaf33,\n+    0xde38059b, 0x599eced8, 0x0a04955c, 0x8da25e1f, 0xad302254,\n+    0x2a96e917, 0x790cb293, 0xfeaa79d0, 0x38284a05, 0xbf8e8146,\n+    0xec14dac2, 0x6bb21181, 0x4b206dca, 0xcc86a689, 0x9f1cfd0d,\n+    0x18ba364e}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0x43cba687, 0xc7903cd4, 0x845b9a53, 0xcf270873,\n+    0x8cecaef4, 0x08b734a7, 0x4b7c9220, 0x9e4f10e6, 0xdd84b661,\n+    0x59df2c32, 0x1a148ab5, 0x51681895, 0x12a3be12, 0x96f82441,\n+    0xd53382c6, 0x7d995117, 0x3e52f790, 0xba096dc3, 0xf9c2cb44,\n+    0xb2be5964, 0xf175ffe3, 0x752e65b0, 0x36e5c337, 0xe3d641f1,\n+    0xa01de776, 0x24467d25, 0x678ddba2, 0x2cf14982, 0x6f3aef05,\n+    0xeb617556, 0xa8aad3d1, 0xfa32a32e, 0xb9f905a9, 0x3da29ffa,\n+    0x7e69397d, 0x3515ab5d, 0x76de0dda, 0xf2859789, 0xb14e310e,\n+    0x647db3c8, 0x27b6154f, 0xa3ed8f1c, 0xe026299b, 0xab5abbbb,\n+    0xe8911d3c, 0x6cca876f, 0x2f0121e8, 0x87abf239, 0xc46054be,\n+    0x403bceed, 0x03f0686a, 0x488cfa4a, 0x0b475ccd, 0x8f1cc69e,\n+    0xccd76019, 0x19e4e2df, 0x5a2f4458, 0xde74de0b, 0x9dbf788c,\n+    0xd6c3eaac, 0x95084c2b, 0x1153d678, 0x529870ff, 0xf465465d,\n+    0xb7aee0da, 0x33f57a89, 0x703edc0e, 0x3b424e2e, 0x7889e8a9,\n+    0xfcd272fa, 0xbf19d47d, 0x6a2a56bb, 0x29e1f03c, 0xadba6a6f,\n+    0xee71cce8, 0xa50d5ec8, 0xe6c6f84f, 0x629d621c, 0x2156c49b,\n+    0x89fc174a, 0xca37b1cd, 0x4e6c2b9e, 0x0da78d19, 0x46db1f39,\n+    0x0510b9be, 0x814b23ed, 0xc280856a, 0x17b307ac, 0x5478a12b,\n+    0xd0233b78, 0x93e89dff, 0xd8940fdf, 0x9b5fa958, 0x1f04330b,\n+    0x5ccf958c, 0x0e57e573, 0x4d9c43f4, 0xc9c7d9a7, 0x8a0c7f20,\n+    0xc170ed00, 0x82bb4b87, 0x06e0d1d4, 0x452b7753, 0x9018f595,\n+    0xd3d35312, 0x5788c941, 0x14436fc6, 0x5f3ffde6, 0x1cf45b61,\n+    0x98afc132, 0xdb6467b5, 0x73ceb464, 0x300512e3, 0xb45e88b0,\n+    0xf7952e37, 0xbce9bc17, 0xff221a90, 0x7b7980c3, 0x38b22644,\n+    0xed81a482, 0xae4a0205, 0x2a119856, 0x69da3ed1, 0x22a6acf1,\n+    0x616d0a76, 0xe5369025, 0xa6fd36a2, 0xe8cb8cba, 0xab002a3d,\n+    0x2f5bb06e, 0x6c9016e9, 0x27ec84c9, 0x6427224e, 0xe07cb81d,\n+    0xa3b71e9a, 0x76849c5c, 0x354f3adb, 0xb114a088, 0xf2df060f,\n+    0xb9a3942f, 0xfa6832a8, 0x7e33a8fb, 0x3df80e7c, 0x9552ddad,\n+    0xd6997b2a, 0x52c2e179, 0x110947fe, 0x5a75d5de, 0x19be7359,\n+    0x9de5e90a, 0xde2e4f8d, 0x0b1dcd4b, 0x48d66bcc, 0xcc8df19f,\n+    0x8f465718, 0xc43ac538, 0x87f163bf, 0x03aaf9ec, 0x40615f6b,\n+    0x12f92f94, 0x51328913, 0xd5691340, 0x96a2b5c7, 0xddde27e7,\n+    0x9e158160, 0x1a4e1b33, 0x5985bdb4, 0x8cb63f72, 0xcf7d99f5,\n+    0x4b2603a6, 0x08eda521, 0x43913701, 0x005a9186, 0x84010bd5,\n+    0xc7caad52, 0x6f607e83, 0x2cabd804, 0xa8f04257, 0xeb3be4d0,\n+    0xa04776f0, 0xe38cd077, 0x67d74a24, 0x241ceca3, 0xf12f6e65,\n+    0xb2e4c8e2, 0x36bf52b1, 0x7574f436, 0x3e086616, 0x7dc3c091,\n+    0xf9985ac2, 0xba53fc45, 0x1caecae7, 0x5f656c60, 0xdb3ef633,\n+    0x98f550b4, 0xd389c294, 0x90426413, 0x1419fe40, 0x57d258c7,\n+    0x82e1da01, 0xc12a7c86, 0x4571e6d5, 0x06ba4052, 0x4dc6d272,\n+    0x0e0d74f5, 0x8a56eea6, 0xc99d4821, 0x61379bf0, 0x22fc3d77,\n+    0xa6a7a724, 0xe56c01a3, 0xae109383, 0xeddb3504, 0x6980af57,\n+    0x2a4b09d0, 0xff788b16, 0xbcb32d91, 0x38e8b7c2, 0x7b231145,\n+    0x305f8365, 0x739425e2, 0xf7cfbfb1, 0xb4041936, 0xe69c69c9,\n+    0xa557cf4e, 0x210c551d, 0x62c7f39a, 0x29bb61ba, 0x6a70c73d,\n+    0xee2b5d6e, 0xade0fbe9, 0x78d3792f, 0x3b18dfa8, 0xbf4345fb,\n+    0xfc88e37c, 0xb7f4715c, 0xf43fd7db, 0x70644d88, 0x33afeb0f,\n+    0x9b0538de, 0xd8ce9e59, 0x5c95040a, 0x1f5ea28d, 0x542230ad,\n+    0x17e9962a, 0x93b20c79, 0xd079aafe, 0x054a2838, 0x46818ebf,\n+    0xc2da14ec, 0x8111b26b, 0xca6d204b, 0x89a686cc, 0x0dfd1c9f,\n+    0x4e36ba18},\n+   {0x00000000, 0xe1b652ef, 0x836bd405, 0x62dd86ea, 0x06d7a80b,\n+    0xe761fae4, 0x85bc7c0e, 0x640a2ee1, 0x0cae5117, 0xed1803f8,\n+    0x8fc58512, 0x6e73d7fd, 0x0a79f91c, 0xebcfabf3, 0x89122d19,\n+    0x68a47ff6, 0x185ca32e, 0xf9eaf1c1, 0x9b37772b, 0x7a8125c4,\n+    0x1e8b0b25, 0xff3d59ca, 0x9de0df20, 0x7c568dcf, 0x14f2f239,\n+    0xf544a0d6, 0x9799263c, 0x762f74d3, 0x12255a32, 0xf39308dd,\n+    0x914e8e37, 0x70f8dcd8, 0x30b8465d, 0xd10e14b2, 0xb3d39258,\n+    0x5265c0b7, 0x366fee56, 0xd7d9bcb9, 0xb5043a53, 0x54b268bc,\n+    0x3c16174a, 0xdda045a5, 0xbf7dc34f, 0x5ecb91a0, 0x3ac1bf41,\n+    0xdb77edae, 0xb9aa6b44, 0x581c39ab, 0x28e4e573, 0xc952b79c,\n+    0xab8f3176, 0x4a396399, 0x2e334d78, 0xcf851f97, 0xad58997d,\n+    0x4ceecb92, 0x244ab464, 0xc5fce68b, 0xa7216061, 0x4697328e,\n+    0x229d1c6f, 0xc32b4e80, 0xa1f6c86a, 0x40409a85, 0x60708dba,\n+    0x81c6df55, 0xe31b59bf, 0x02ad0b50, 0x66a725b1, 0x8711775e,\n+    0xe5ccf1b4, 0x047aa35b, 0x6cdedcad, 0x8d688e42, 0xefb508a8,\n+    0x0e035a47, 0x6a0974a6, 0x8bbf2649, 0xe962a0a3, 0x08d4f24c,\n+    0x782c2e94, 0x999a7c7b, 0xfb47fa91, 0x1af1a87e, 0x7efb869f,\n+    0x9f4dd470, 0xfd90529a, 0x1c260075, 0x74827f83, 0x95342d6c,\n+    0xf7e9ab86, 0x165ff969, 0x7255d788, 0x93e38567, 0xf13e038d,\n+    0x10885162, 0x50c8cbe7, 0xb17e9908, 0xd3a31fe2, 0x32154d0d,\n+    0x561f63ec, 0xb7a93103, 0xd574b7e9, 0x34c2e506, 0x5c669af0,\n+    0xbdd0c81f, 0xdf0d4ef5, 0x3ebb1c1a, 0x5ab132fb, 0xbb076014,\n+    0xd9dae6fe, 0x386cb411, 0x489468c9, 0xa9223a26, 0xcbffbccc,\n+    0x2a49ee23, 0x4e43c0c2, 0xaff5922d, 0xcd2814c7, 0x2c9e4628,\n+    0x443a39de, 0xa58c6b31, 0xc751eddb, 0x26e7bf34, 0x42ed91d5,\n+    0xa35bc33a, 0xc18645d0, 0x2030173f, 0x81e66bae, 0x60503941,\n+    0x028dbfab, 0xe33bed44, 0x8731c3a5, 0x6687914a, 0x045a17a0,\n+    0xe5ec454f, 0x8d483ab9, 0x6cfe6856, 0x0e23eebc, 0xef95bc53,\n+    0x8b9f92b2, 0x6a29c05d, 0x08f446b7, 0xe9421458, 0x99bac880,\n+    0x780c9a6f, 0x1ad11c85, 0xfb674e6a, 0x9f6d608b, 0x7edb3264,\n+    0x1c06b48e, 0xfdb0e661, 0x95149997, 0x74a2cb78, 0x167f4d92,\n+    0xf7c91f7d, 0x93c3319c, 0x72756373, 0x10a8e599, 0xf11eb776,\n+    0xb15e2df3, 0x50e87f1c, 0x3235f9f6, 0xd383ab19, 0xb78985f8,\n+    0x563fd717, 0x34e251fd, 0xd5540312, 0xbdf07ce4, 0x5c462e0b,\n+    0x3e9ba8e1, 0xdf2dfa0e, 0xbb27d4ef, 0x5a918600, 0x384c00ea,\n+    0xd9fa5205, 0xa9028edd, 0x48b4dc32, 0x2a695ad8, 0xcbdf0837,\n+    0xafd526d6, 0x4e637439, 0x2cbef2d3, 0xcd08a03c, 0xa5acdfca,\n+    0x441a8d25, 0x26c70bcf, 0xc7715920, 0xa37b77c1, 0x42cd252e,\n+    0x2010a3c4, 0xc1a6f12b, 0xe196e614, 0x0020b4fb, 0x62fd3211,\n+    0x834b60fe, 0xe7414e1f, 0x06f71cf0, 0x642a9a1a, 0x859cc8f5,\n+    0xed38b703, 0x0c8ee5ec, 0x6e536306, 0x8fe531e9, 0xebef1f08,\n+    0x0a594de7, 0x6884cb0d, 0x893299e2, 0xf9ca453a, 0x187c17d5,\n+    0x7aa1913f, 0x9b17c3d0, 0xff1ded31, 0x1eabbfde, 0x7c763934,\n+    0x9dc06bdb, 0xf564142d, 0x14d246c2, 0x760fc028, 0x97b992c7,\n+    0xf3b3bc26, 0x1205eec9, 0x70d86823, 0x916e3acc, 0xd12ea049,\n+    0x3098f2a6, 0x5245744c, 0xb3f326a3, 0xd7f90842, 0x364f5aad,\n+    0x5492dc47, 0xb5248ea8, 0xdd80f15e, 0x3c36a3b1, 0x5eeb255b,\n+    0xbf5d77b4, 0xdb575955, 0x3ae10bba, 0x583c8d50, 0xb98adfbf,\n+    0xc9720367, 0x28c45188, 0x4a19d762, 0xabaf858d, 0xcfa5ab6c,\n+    0x2e13f983, 0x4cce7f69, 0xad782d86, 0xc5dc5270, 0x246a009f,\n+    0x46b78675, 0xa701d49a, 0xc30bfa7b, 0x22bda894, 0x40602e7e,\n+    0xa1d67c91},\n+   {0x00000000, 0x5880e2d7, 0xf106b474, 0xa98656a3, 0xe20d68e9,\n+    0xba8d8a3e, 0x130bdc9d, 0x4b8b3e4a, 0x851da109, 0xdd9d43de,\n+    0x741b157d, 0x2c9bf7aa, 0x6710c9e0, 0x3f902b37, 0x96167d94,\n+    0xce969f43, 0x0a3b4213, 0x52bba0c4, 0xfb3df667, 0xa3bd14b0,\n+    0xe8362afa, 0xb0b6c82d, 0x19309e8e, 0x41b07c59, 0x8f26e31a,\n+    0xd7a601cd, 0x7e20576e, 0x26a0b5b9, 0x6d2b8bf3, 0x35ab6924,\n+    0x9c2d3f87, 0xc4addd50, 0x14768426, 0x4cf666f1, 0xe5703052,\n+    0xbdf0d285, 0xf67beccf, 0xaefb0e18, 0x077d58bb, 0x5ffdba6c,\n+    0x916b252f, 0xc9ebc7f8, 0x606d915b, 0x38ed738c, 0x73664dc6,\n+    0x2be6af11, 0x8260f9b2, 0xdae01b65, 0x1e4dc635, 0x46cd24e2,\n+    0xef4b7241, 0xb7cb9096, 0xfc40aedc, 0xa4c04c0b, 0x0d461aa8,\n+    0x55c6f87f, 0x9b50673c, 0xc3d085eb, 0x6a56d348, 0x32d6319f,\n+    0x795d0fd5, 0x21dded02, 0x885bbba1, 0xd0db5976, 0x28ec084d,\n+    0x706cea9a, 0xd9eabc39, 0x816a5eee, 0xcae160a4, 0x92618273,\n+    0x3be7d4d0, 0x63673607, 0xadf1a944, 0xf5714b93, 0x5cf71d30,\n+    0x0477ffe7, 0x4ffcc1ad, 0x177c237a, 0xbefa75d9, 0xe67a970e,\n+    0x22d74a5e, 0x7a57a889, 0xd3d1fe2a, 0x8b511cfd, 0xc0da22b7,\n+    0x985ac060, 0x31dc96c3, 0x695c7414, 0xa7caeb57, 0xff4a0980,\n+    0x56cc5f23, 0x0e4cbdf4, 0x45c783be, 0x1d476169, 0xb4c137ca,\n+    0xec41d51d, 0x3c9a8c6b, 0x641a6ebc, 0xcd9c381f, 0x951cdac8,\n+    0xde97e482, 0x86170655, 0x2f9150f6, 0x7711b221, 0xb9872d62,\n+    0xe107cfb5, 0x48819916, 0x10017bc1, 0x5b8a458b, 0x030aa75c,\n+    0xaa8cf1ff, 0xf20c1328, 0x36a1ce78, 0x6e212caf, 0xc7a77a0c,\n+    0x9f2798db, 0xd4aca691, 0x8c2c4446, 0x25aa12e5, 0x7d2af032,\n+    0xb3bc6f71, 0xeb3c8da6, 0x42badb05, 0x1a3a39d2, 0x51b10798,\n+    0x0931e54f, 0xa0b7b3ec, 0xf837513b, 0x50d8119a, 0x0858f34d,\n+    0xa1dea5ee, 0xf95e4739, 0xb2d57973, 0xea559ba4, 0x43d3cd07,\n+    0x1b532fd0, 0xd5c5b093, 0x8d455244, 0x24c304e7, 0x7c43e630,\n+    0x37c8d87a, 0x6f483aad, 0xc6ce6c0e, 0x9e4e8ed9, 0x5ae35389,\n+    0x0263b15e, 0xabe5e7fd, 0xf365052a, 0xb8ee3b60, 0xe06ed9b7,\n+    0x49e88f14, 0x11686dc3, 0xdffef280, 0x877e1057, 0x2ef846f4,\n+    0x7678a423, 0x3df39a69, 0x657378be, 0xccf52e1d, 0x9475ccca,\n+    0x44ae95bc, 0x1c2e776b, 0xb5a821c8, 0xed28c31f, 0xa6a3fd55,\n+    0xfe231f82, 0x57a54921, 0x0f25abf6, 0xc1b334b5, 0x9933d662,\n+    0x30b580c1, 0x68356216, 0x23be5c5c, 0x7b3ebe8b, 0xd2b8e828,\n+    0x8a380aff, 0x4e95d7af, 0x16153578, 0xbf9363db, 0xe713810c,\n+    0xac98bf46, 0xf4185d91, 0x5d9e0b32, 0x051ee9e5, 0xcb8876a6,\n+    0x93089471, 0x3a8ec2d2, 0x620e2005, 0x29851e4f, 0x7105fc98,\n+    0xd883aa3b, 0x800348ec, 0x783419d7, 0x20b4fb00, 0x8932ada3,\n+    0xd1b24f74, 0x9a39713e, 0xc2b993e9, 0x6b3fc54a, 0x33bf279d,\n+    0xfd29b8de, 0xa5a95a09, 0x0c2f0caa, 0x54afee7d, 0x1f24d037,\n+    0x47a432e0, 0xee226443, 0xb6a28694, 0x720f5bc4, 0x2a8fb913,\n+    0x8309efb0, 0xdb890d67, 0x9002332d, 0xc882d1fa, 0x61048759,\n+    0x3984658e, 0xf712facd, 0xaf92181a, 0x06144eb9, 0x5e94ac6e,\n+    0x151f9224, 0x4d9f70f3, 0xe4192650, 0xbc99c487, 0x6c429df1,\n+    0x34c27f26, 0x9d442985, 0xc5c4cb52, 0x8e4ff518, 0xd6cf17cf,\n+    0x7f49416c, 0x27c9a3bb, 0xe95f3cf8, 0xb1dfde2f, 0x1859888c,\n+    0x40d96a5b, 0x0b525411, 0x53d2b6c6, 0xfa54e065, 0xa2d402b2,\n+    0x6679dfe2, 0x3ef93d35, 0x977f6b96, 0xcfff8941, 0x8474b70b,\n+    0xdcf455dc, 0x7572037f, 0x2df2e1a8, 0xe3647eeb, 0xbbe49c3c,\n+    0x1262ca9f, 0x4ae22848, 0x01691602, 0x59e9f4d5, 0xf06fa276,\n+    0xa8ef40a1},\n+   {0x00000000, 0x463b6765, 0x8c76ceca, 0xca4da9af, 0x59ebed4e,\n+    0x1fd08a2b, 0xd59d2384, 0x93a644e1, 0xb2d6db9d, 0xf4edbcf8,\n+    0x3ea01557, 0x789b7232, 0xeb3d36d3, 0xad0651b6, 0x674bf819,\n+    0x21709f7c, 0x25abc6e0, 0x6390a185, 0xa9dd082a, 0xefe66f4f,\n+    0x7c402bae, 0x3a7b4ccb, 0xf036e564, 0xb60d8201, 0x977d1d7d,\n+    0xd1467a18, 0x1b0bd3b7, 0x5d30b4d2, 0xce96f033, 0x88ad9756,\n+    0x42e03ef9, 0x04db599c, 0x0b50fc1a, 0x4d6b9b7f, 0x872632d0,\n+    0xc11d55b5, 0x52bb1154, 0x14807631, 0xdecddf9e, 0x98f6b8fb,\n+    0xb9862787, 0xffbd40e2, 0x35f0e94d, 0x73cb8e28, 0xe06dcac9,\n+    0xa656adac, 0x6c1b0403, 0x2a206366, 0x2efb3afa, 0x68c05d9f,\n+    0xa28df430, 0xe4b69355, 0x7710d7b4, 0x312bb0d1, 0xfb66197e,\n+    0xbd5d7e1b, 0x9c2de167, 0xda168602, 0x105b2fad, 0x566048c8,\n+    0xc5c60c29, 0x83fd6b4c, 0x49b0c2e3, 0x0f8ba586, 0x16a0f835,\n+    0x509b9f50, 0x9ad636ff, 0xdced519a, 0x4f4b157b, 0x0970721e,\n+    0xc33ddbb1, 0x8506bcd4, 0xa47623a8, 0xe24d44cd, 0x2800ed62,\n+    0x6e3b8a07, 0xfd9dcee6, 0xbba6a983, 0x71eb002c, 0x37d06749,\n+    0x330b3ed5, 0x753059b0, 0xbf7df01f, 0xf946977a, 0x6ae0d39b,\n+    0x2cdbb4fe, 0xe6961d51, 0xa0ad7a34, 0x81dde548, 0xc7e6822d,\n+    0x0dab2b82, 0x4b904ce7, 0xd8360806, 0x9e0d6f63, 0x5440c6cc,\n+    0x127ba1a9, 0x1df0042f, 0x5bcb634a, 0x9186cae5, 0xd7bdad80,\n+    0x441be961, 0x02208e04, 0xc86d27ab, 0x8e5640ce, 0xaf26dfb2,\n+    0xe91db8d7, 0x23501178, 0x656b761d, 0xf6cd32fc, 0xb0f65599,\n+    0x7abbfc36, 0x3c809b53, 0x385bc2cf, 0x7e60a5aa, 0xb42d0c05,\n+    0xf2166b60, 0x61b02f81, 0x278b48e4, 0xedc6e14b, 0xabfd862e,\n+    0x8a8d1952, 0xccb67e37, 0x06fbd798, 0x40c0b0fd, 0xd366f41c,\n+    0x955d9379, 0x5f103ad6, 0x192b5db3, 0x2c40f16b, 0x6a7b960e,\n+    0xa0363fa1, 0xe60d58c4, 0x75ab1c25, 0x33907b40, 0xf9ddd2ef,\n+    0xbfe6b58a, 0x9e962af6, 0xd8ad4d93, 0x12e0e43c, 0x54db8359,\n+    0xc77dc7b8, 0x8146a0dd, 0x4b0b0972, 0x0d306e17, 0x09eb378b,\n+    0x4fd050ee, 0x859df941, 0xc3a69e24, 0x5000dac5, 0x163bbda0,\n+    0xdc76140f, 0x9a4d736a, 0xbb3dec16, 0xfd068b73, 0x374b22dc,\n+    0x717045b9, 0xe2d60158, 0xa4ed663d, 0x6ea0cf92, 0x289ba8f7,\n+    0x27100d71, 0x612b6a14, 0xab66c3bb, 0xed5da4de, 0x7efbe03f,\n+    0x38c0875a, 0xf28d2ef5, 0xb4b64990, 0x95c6d6ec, 0xd3fdb189,\n+    0x19b01826, 0x5f8b7f43, 0xcc2d3ba2, 0x8a165cc7, 0x405bf568,\n+    0x0660920d, 0x02bbcb91, 0x4480acf4, 0x8ecd055b, 0xc8f6623e,\n+    0x5b5026df, 0x1d6b41ba, 0xd726e815, 0x911d8f70, 0xb06d100c,\n+    0xf6567769, 0x3c1bdec6, 0x7a20b9a3, 0xe986fd42, 0xafbd9a27,\n+    0x65f03388, 0x23cb54ed, 0x3ae0095e, 0x7cdb6e3b, 0xb696c794,\n+    0xf0ada0f1, 0x630be410, 0x25308375, 0xef7d2ada, 0xa9464dbf,\n+    0x8836d2c3, 0xce0db5a6, 0x04401c09, 0x427b7b6c, 0xd1dd3f8d,\n+    0x97e658e8, 0x5dabf147, 0x1b909622, 0x1f4bcfbe, 0x5970a8db,\n+    0x933d0174, 0xd5066611, 0x46a022f0, 0x009b4595, 0xcad6ec3a,\n+    0x8ced8b5f, 0xad9d1423, 0xeba67346, 0x21ebdae9, 0x67d0bd8c,\n+    0xf476f96d, 0xb24d9e08, 0x780037a7, 0x3e3b50c2, 0x31b0f544,\n+    0x778b9221, 0xbdc63b8e, 0xfbfd5ceb, 0x685b180a, 0x2e607f6f,\n+    0xe42dd6c0, 0xa216b1a5, 0x83662ed9, 0xc55d49bc, 0x0f10e013,\n+    0x492b8776, 0xda8dc397, 0x9cb6a4f2, 0x56fb0d5d, 0x10c06a38,\n+    0x141b33a4, 0x522054c1, 0x986dfd6e, 0xde569a0b, 0x4df0deea,\n+    0x0bcbb98f, 0xc1861020, 0x87bd7745, 0xa6cde839, 0xe0f68f5c,\n+    0x2abb26f3, 0x6c804196, 0xff260577, 0xb91d6212, 0x7350cbbd,\n+    0x356bacd8}};\n+\n+#endif\n+\n+#endif\n+\n+#if N == 6\n+\n+#if W == 8\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0x3db1ecdc, 0x7b63d9b8, 0x46d23564, 0xf6c7b370,\n+    0xcb765fac, 0x8da46ac8, 0xb0158614, 0x36fe60a1, 0x0b4f8c7d,\n+    0x4d9db919, 0x702c55c5, 0xc039d3d1, 0xfd883f0d, 0xbb5a0a69,\n+    0x86ebe6b5, 0x6dfcc142, 0x504d2d9e, 0x169f18fa, 0x2b2ef426,\n+    0x9b3b7232, 0xa68a9eee, 0xe058ab8a, 0xdde94756, 0x5b02a1e3,\n+    0x66b34d3f, 0x2061785b, 0x1dd09487, 0xadc51293, 0x9074fe4f,\n+    0xd6a6cb2b, 0xeb1727f7, 0xdbf98284, 0xe6486e58, 0xa09a5b3c,\n+    0x9d2bb7e0, 0x2d3e31f4, 0x108fdd28, 0x565de84c, 0x6bec0490,\n+    0xed07e225, 0xd0b60ef9, 0x96643b9d, 0xabd5d741, 0x1bc05155,\n+    0x2671bd89, 0x60a388ed, 0x5d126431, 0xb60543c6, 0x8bb4af1a,\n+    0xcd669a7e, 0xf0d776a2, 0x40c2f0b6, 0x7d731c6a, 0x3ba1290e,\n+    0x0610c5d2, 0x80fb2367, 0xbd4acfbb, 0xfb98fadf, 0xc6291603,\n+    0x763c9017, 0x4b8d7ccb, 0x0d5f49af, 0x30eea573, 0x6c820349,\n+    0x5133ef95, 0x17e1daf1, 0x2a50362d, 0x9a45b039, 0xa7f45ce5,\n+    0xe1266981, 0xdc97855d, 0x5a7c63e8, 0x67cd8f34, 0x211fba50,\n+    0x1cae568c, 0xacbbd098, 0x910a3c44, 0xd7d80920, 0xea69e5fc,\n+    0x017ec20b, 0x3ccf2ed7, 0x7a1d1bb3, 0x47acf76f, 0xf7b9717b,\n+    0xca089da7, 0x8cdaa8c3, 0xb16b441f, 0x3780a2aa, 0x0a314e76,\n+    0x4ce37b12, 0x715297ce, 0xc14711da, 0xfcf6fd06, 0xba24c862,\n+    0x879524be, 0xb77b81cd, 0x8aca6d11, 0xcc185875, 0xf1a9b4a9,\n+    0x41bc32bd, 0x7c0dde61, 0x3adfeb05, 0x076e07d9, 0x8185e16c,\n+    0xbc340db0, 0xfae638d4, 0xc757d408, 0x7742521c, 0x4af3bec0,\n+    0x0c218ba4, 0x31906778, 0xda87408f, 0xe736ac53, 0xa1e49937,\n+    0x9c5575eb, 0x2c40f3ff, 0x11f11f23, 0x57232a47, 0x6a92c69b,\n+    0xec79202e, 0xd1c8ccf2, 0x971af996, 0xaaab154a, 0x1abe935e,\n+    0x270f7f82, 0x61dd4ae6, 0x5c6ca63a, 0xd9040692, 0xe4b5ea4e,\n+    0xa267df2a, 0x9fd633f6, 0x2fc3b5e2, 0x1272593e, 0x54a06c5a,\n+    0x69118086, 0xeffa6633, 0xd24b8aef, 0x9499bf8b, 0xa9285357,\n+    0x193dd543, 0x248c399f, 0x625e0cfb, 0x5fefe027, 0xb4f8c7d0,\n+    0x89492b0c, 0xcf9b1e68, 0xf22af2b4, 0x423f74a0, 0x7f8e987c,\n+    0x395cad18, 0x04ed41c4, 0x8206a771, 0xbfb74bad, 0xf9657ec9,\n+    0xc4d49215, 0x74c11401, 0x4970f8dd, 0x0fa2cdb9, 0x32132165,\n+    0x02fd8416, 0x3f4c68ca, 0x799e5dae, 0x442fb172, 0xf43a3766,\n+    0xc98bdbba, 0x8f59eede, 0xb2e80202, 0x3403e4b7, 0x09b2086b,\n+    0x4f603d0f, 0x72d1d1d3, 0xc2c457c7, 0xff75bb1b, 0xb9a78e7f,\n+    0x841662a3, 0x6f014554, 0x52b0a988, 0x14629cec, 0x29d37030,\n+    0x99c6f624, 0xa4771af8, 0xe2a52f9c, 0xdf14c340, 0x59ff25f5,\n+    0x644ec929, 0x229cfc4d, 0x1f2d1091, 0xaf389685, 0x92897a59,\n+    0xd45b4f3d, 0xe9eaa3e1, 0xb58605db, 0x8837e907, 0xcee5dc63,\n+    0xf35430bf, 0x4341b6ab, 0x7ef05a77, 0x38226f13, 0x059383cf,\n+    0x8378657a, 0xbec989a6, 0xf81bbcc2, 0xc5aa501e, 0x75bfd60a,\n+    0x480e3ad6, 0x0edc0fb2, 0x336de36e, 0xd87ac499, 0xe5cb2845,\n+    0xa3191d21, 0x9ea8f1fd, 0x2ebd77e9, 0x130c9b35, 0x55deae51,\n+    0x686f428d, 0xee84a438, 0xd33548e4, 0x95e77d80, 0xa856915c,\n+    0x18431748, 0x25f2fb94, 0x6320cef0, 0x5e91222c, 0x6e7f875f,\n+    0x53ce6b83, 0x151c5ee7, 0x28adb23b, 0x98b8342f, 0xa509d8f3,\n+    0xe3dbed97, 0xde6a014b, 0x5881e7fe, 0x65300b22, 0x23e23e46,\n+    0x1e53d29a, 0xae46548e, 0x93f7b852, 0xd5258d36, 0xe89461ea,\n+    0x0383461d, 0x3e32aac1, 0x78e09fa5, 0x45517379, 0xf544f56d,\n+    0xc8f519b1, 0x8e272cd5, 0xb396c009, 0x357d26bc, 0x08ccca60,\n+    0x4e1eff04, 0x73af13d8, 0xc3ba95cc, 0xfe0b7910, 0xb8d94c74,\n+    0x8568a0a8},\n+   {0x00000000, 0x69790b65, 0xd2f216ca, 0xbb8b1daf, 0x7e952bd5,\n+    0x17ec20b0, 0xac673d1f, 0xc51e367a, 0xfd2a57aa, 0x94535ccf,\n+    0x2fd84160, 0x46a14a05, 0x83bf7c7f, 0xeac6771a, 0x514d6ab5,\n+    0x383461d0, 0x2125a915, 0x485ca270, 0xf3d7bfdf, 0x9aaeb4ba,\n+    0x5fb082c0, 0x36c989a5, 0x8d42940a, 0xe43b9f6f, 0xdc0ffebf,\n+    0xb576f5da, 0x0efde875, 0x6784e310, 0xa29ad56a, 0xcbe3de0f,\n+    0x7068c3a0, 0x1911c8c5, 0x424b522a, 0x2b32594f, 0x90b944e0,\n+    0xf9c04f85, 0x3cde79ff, 0x55a7729a, 0xee2c6f35, 0x87556450,\n+    0xbf610580, 0xd6180ee5, 0x6d93134a, 0x04ea182f, 0xc1f42e55,\n+    0xa88d2530, 0x1306389f, 0x7a7f33fa, 0x636efb3f, 0x0a17f05a,\n+    0xb19cedf5, 0xd8e5e690, 0x1dfbd0ea, 0x7482db8f, 0xcf09c620,\n+    0xa670cd45, 0x9e44ac95, 0xf73da7f0, 0x4cb6ba5f, 0x25cfb13a,\n+    0xe0d18740, 0x89a88c25, 0x3223918a, 0x5b5a9aef, 0x8496a454,\n+    0xedefaf31, 0x5664b29e, 0x3f1db9fb, 0xfa038f81, 0x937a84e4,\n+    0x28f1994b, 0x4188922e, 0x79bcf3fe, 0x10c5f89b, 0xab4ee534,\n+    0xc237ee51, 0x0729d82b, 0x6e50d34e, 0xd5dbcee1, 0xbca2c584,\n+    0xa5b30d41, 0xccca0624, 0x77411b8b, 0x1e3810ee, 0xdb262694,\n+    0xb25f2df1, 0x09d4305e, 0x60ad3b3b, 0x58995aeb, 0x31e0518e,\n+    0x8a6b4c21, 0xe3124744, 0x260c713e, 0x4f757a5b, 0xf4fe67f4,\n+    0x9d876c91, 0xc6ddf67e, 0xafa4fd1b, 0x142fe0b4, 0x7d56ebd1,\n+    0xb848ddab, 0xd131d6ce, 0x6abacb61, 0x03c3c004, 0x3bf7a1d4,\n+    0x528eaab1, 0xe905b71e, 0x807cbc7b, 0x45628a01, 0x2c1b8164,\n+    0x97909ccb, 0xfee997ae, 0xe7f85f6b, 0x8e81540e, 0x350a49a1,\n+    0x5c7342c4, 0x996d74be, 0xf0147fdb, 0x4b9f6274, 0x22e66911,\n+    0x1ad208c1, 0x73ab03a4, 0xc8201e0b, 0xa159156e, 0x64472314,\n+    0x0d3e2871, 0xb6b535de, 0xdfcc3ebb, 0xd25c4ee9, 0xbb25458c,\n+    0x00ae5823, 0x69d75346, 0xacc9653c, 0xc5b06e59, 0x7e3b73f6,\n+    0x17427893, 0x2f761943, 0x460f1226, 0xfd840f89, 0x94fd04ec,\n+    0x51e33296, 0x389a39f3, 0x8311245c, 0xea682f39, 0xf379e7fc,\n+    0x9a00ec99, 0x218bf136, 0x48f2fa53, 0x8deccc29, 0xe495c74c,\n+    0x5f1edae3, 0x3667d186, 0x0e53b056, 0x672abb33, 0xdca1a69c,\n+    0xb5d8adf9, 0x70c69b83, 0x19bf90e6, 0xa2348d49, 0xcb4d862c,\n+    0x90171cc3, 0xf96e17a6, 0x42e50a09, 0x2b9c016c, 0xee823716,\n+    0x87fb3c73, 0x3c7021dc, 0x55092ab9, 0x6d3d4b69, 0x0444400c,\n+    0xbfcf5da3, 0xd6b656c6, 0x13a860bc, 0x7ad16bd9, 0xc15a7676,\n+    0xa8237d13, 0xb132b5d6, 0xd84bbeb3, 0x63c0a31c, 0x0ab9a879,\n+    0xcfa79e03, 0xa6de9566, 0x1d5588c9, 0x742c83ac, 0x4c18e27c,\n+    0x2561e919, 0x9eeaf4b6, 0xf793ffd3, 0x328dc9a9, 0x5bf4c2cc,\n+    0xe07fdf63, 0x8906d406, 0x56caeabd, 0x3fb3e1d8, 0x8438fc77,\n+    0xed41f712, 0x285fc168, 0x4126ca0d, 0xfaadd7a2, 0x93d4dcc7,\n+    0xabe0bd17, 0xc299b672, 0x7912abdd, 0x106ba0b8, 0xd57596c2,\n+    0xbc0c9da7, 0x07878008, 0x6efe8b6d, 0x77ef43a8, 0x1e9648cd,\n+    0xa51d5562, 0xcc645e07, 0x097a687d, 0x60036318, 0xdb887eb7,\n+    0xb2f175d2, 0x8ac51402, 0xe3bc1f67, 0x583702c8, 0x314e09ad,\n+    0xf4503fd7, 0x9d2934b2, 0x26a2291d, 0x4fdb2278, 0x1481b897,\n+    0x7df8b3f2, 0xc673ae5d, 0xaf0aa538, 0x6a149342, 0x036d9827,\n+    0xb8e68588, 0xd19f8eed, 0xe9abef3d, 0x80d2e458, 0x3b59f9f7,\n+    0x5220f292, 0x973ec4e8, 0xfe47cf8d, 0x45ccd222, 0x2cb5d947,\n+    0x35a41182, 0x5cdd1ae7, 0xe7560748, 0x8e2f0c2d, 0x4b313a57,\n+    0x22483132, 0x99c32c9d, 0xf0ba27f8, 0xc88e4628, 0xa1f74d4d,\n+    0x1a7c50e2, 0x73055b87, 0xb61b6dfd, 0xdf626698, 0x64e97b37,\n+    0x0d907052},\n+   {0x00000000, 0x7fc99b93, 0xff933726, 0x805aacb5, 0x2457680d,\n+    0x5b9ef39e, 0xdbc45f2b, 0xa40dc4b8, 0x48aed01a, 0x37674b89,\n+    0xb73de73c, 0xc8f47caf, 0x6cf9b817, 0x13302384, 0x936a8f31,\n+    0xeca314a2, 0x915da034, 0xee943ba7, 0x6ece9712, 0x11070c81,\n+    0xb50ac839, 0xcac353aa, 0x4a99ff1f, 0x3550648c, 0xd9f3702e,\n+    0xa63aebbd, 0x26604708, 0x59a9dc9b, 0xfda41823, 0x826d83b0,\n+    0x02372f05, 0x7dfeb496, 0xf9ca4629, 0x8603ddba, 0x0659710f,\n+    0x7990ea9c, 0xdd9d2e24, 0xa254b5b7, 0x220e1902, 0x5dc78291,\n+    0xb1649633, 0xcead0da0, 0x4ef7a115, 0x313e3a86, 0x9533fe3e,\n+    0xeafa65ad, 0x6aa0c918, 0x1569528b, 0x6897e61d, 0x175e7d8e,\n+    0x9704d13b, 0xe8cd4aa8, 0x4cc08e10, 0x33091583, 0xb353b936,\n+    0xcc9a22a5, 0x20393607, 0x5ff0ad94, 0xdfaa0121, 0xa0639ab2,\n+    0x046e5e0a, 0x7ba7c599, 0xfbfd692c, 0x8434f2bf, 0x28e58a13,\n+    0x572c1180, 0xd776bd35, 0xa8bf26a6, 0x0cb2e21e, 0x737b798d,\n+    0xf321d538, 0x8ce84eab, 0x604b5a09, 0x1f82c19a, 0x9fd86d2f,\n+    0xe011f6bc, 0x441c3204, 0x3bd5a997, 0xbb8f0522, 0xc4469eb1,\n+    0xb9b82a27, 0xc671b1b4, 0x462b1d01, 0x39e28692, 0x9def422a,\n+    0xe226d9b9, 0x627c750c, 0x1db5ee9f, 0xf116fa3d, 0x8edf61ae,\n+    0x0e85cd1b, 0x714c5688, 0xd5419230, 0xaa8809a3, 0x2ad2a516,\n+    0x551b3e85, 0xd12fcc3a, 0xaee657a9, 0x2ebcfb1c, 0x5175608f,\n+    0xf578a437, 0x8ab13fa4, 0x0aeb9311, 0x75220882, 0x99811c20,\n+    0xe64887b3, 0x66122b06, 0x19dbb095, 0xbdd6742d, 0xc21fefbe,\n+    0x4245430b, 0x3d8cd898, 0x40726c0e, 0x3fbbf79d, 0xbfe15b28,\n+    0xc028c0bb, 0x64250403, 0x1bec9f90, 0x9bb63325, 0xe47fa8b6,\n+    0x08dcbc14, 0x77152787, 0xf74f8b32, 0x888610a1, 0x2c8bd419,\n+    0x53424f8a, 0xd318e33f, 0xacd178ac, 0x51cb1426, 0x2e028fb5,\n+    0xae582300, 0xd191b893, 0x759c7c2b, 0x0a55e7b8, 0x8a0f4b0d,\n+    0xf5c6d09e, 0x1965c43c, 0x66ac5faf, 0xe6f6f31a, 0x993f6889,\n+    0x3d32ac31, 0x42fb37a2, 0xc2a19b17, 0xbd680084, 0xc096b412,\n+    0xbf5f2f81, 0x3f058334, 0x40cc18a7, 0xe4c1dc1f, 0x9b08478c,\n+    0x1b52eb39, 0x649b70aa, 0x88386408, 0xf7f1ff9b, 0x77ab532e,\n+    0x0862c8bd, 0xac6f0c05, 0xd3a69796, 0x53fc3b23, 0x2c35a0b0,\n+    0xa801520f, 0xd7c8c99c, 0x57926529, 0x285bfeba, 0x8c563a02,\n+    0xf39fa191, 0x73c50d24, 0x0c0c96b7, 0xe0af8215, 0x9f661986,\n+    0x1f3cb533, 0x60f52ea0, 0xc4f8ea18, 0xbb31718b, 0x3b6bdd3e,\n+    0x44a246ad, 0x395cf23b, 0x469569a8, 0xc6cfc51d, 0xb9065e8e,\n+    0x1d0b9a36, 0x62c201a5, 0xe298ad10, 0x9d513683, 0x71f22221,\n+    0x0e3bb9b2, 0x8e611507, 0xf1a88e94, 0x55a54a2c, 0x2a6cd1bf,\n+    0xaa367d0a, 0xd5ffe699, 0x792e9e35, 0x06e705a6, 0x86bda913,\n+    0xf9743280, 0x5d79f638, 0x22b06dab, 0xa2eac11e, 0xdd235a8d,\n+    0x31804e2f, 0x4e49d5bc, 0xce137909, 0xb1dae29a, 0x15d72622,\n+    0x6a1ebdb1, 0xea441104, 0x958d8a97, 0xe8733e01, 0x97baa592,\n+    0x17e00927, 0x682992b4, 0xcc24560c, 0xb3edcd9f, 0x33b7612a,\n+    0x4c7efab9, 0xa0ddee1b, 0xdf147588, 0x5f4ed93d, 0x208742ae,\n+    0x848a8616, 0xfb431d85, 0x7b19b130, 0x04d02aa3, 0x80e4d81c,\n+    0xff2d438f, 0x7f77ef3a, 0x00be74a9, 0xa4b3b011, 0xdb7a2b82,\n+    0x5b208737, 0x24e91ca4, 0xc84a0806, 0xb7839395, 0x37d93f20,\n+    0x4810a4b3, 0xec1d600b, 0x93d4fb98, 0x138e572d, 0x6c47ccbe,\n+    0x11b97828, 0x6e70e3bb, 0xee2a4f0e, 0x91e3d49d, 0x35ee1025,\n+    0x4a278bb6, 0xca7d2703, 0xb5b4bc90, 0x5917a832, 0x26de33a1,\n+    0xa6849f14, 0xd94d0487, 0x7d40c03f, 0x02895bac, 0x82d3f719,\n+    0xfd1a6c8a},\n+   {0x00000000, 0xa396284c, 0x9c5d56d9, 0x3fcb7e95, 0xe3cbabf3,\n+    0x405d83bf, 0x7f96fd2a, 0xdc00d566, 0x1ce651a7, 0xbf7079eb,\n+    0x80bb077e, 0x232d2f32, 0xff2dfa54, 0x5cbbd218, 0x6370ac8d,\n+    0xc0e684c1, 0x39cca34e, 0x9a5a8b02, 0xa591f597, 0x0607dddb,\n+    0xda0708bd, 0x799120f1, 0x465a5e64, 0xe5cc7628, 0x252af2e9,\n+    0x86bcdaa5, 0xb977a430, 0x1ae18c7c, 0xc6e1591a, 0x65777156,\n+    0x5abc0fc3, 0xf92a278f, 0x7399469c, 0xd00f6ed0, 0xefc41045,\n+    0x4c523809, 0x9052ed6f, 0x33c4c523, 0x0c0fbbb6, 0xaf9993fa,\n+    0x6f7f173b, 0xcce93f77, 0xf32241e2, 0x50b469ae, 0x8cb4bcc8,\n+    0x2f229484, 0x10e9ea11, 0xb37fc25d, 0x4a55e5d2, 0xe9c3cd9e,\n+    0xd608b30b, 0x759e9b47, 0xa99e4e21, 0x0a08666d, 0x35c318f8,\n+    0x965530b4, 0x56b3b475, 0xf5259c39, 0xcaeee2ac, 0x6978cae0,\n+    0xb5781f86, 0x16ee37ca, 0x2925495f, 0x8ab36113, 0xe7328d38,\n+    0x44a4a574, 0x7b6fdbe1, 0xd8f9f3ad, 0x04f926cb, 0xa76f0e87,\n+    0x98a47012, 0x3b32585e, 0xfbd4dc9f, 0x5842f4d3, 0x67898a46,\n+    0xc41fa20a, 0x181f776c, 0xbb895f20, 0x844221b5, 0x27d409f9,\n+    0xdefe2e76, 0x7d68063a, 0x42a378af, 0xe13550e3, 0x3d358585,\n+    0x9ea3adc9, 0xa168d35c, 0x02fefb10, 0xc2187fd1, 0x618e579d,\n+    0x5e452908, 0xfdd30144, 0x21d3d422, 0x8245fc6e, 0xbd8e82fb,\n+    0x1e18aab7, 0x94abcba4, 0x373de3e8, 0x08f69d7d, 0xab60b531,\n+    0x77606057, 0xd4f6481b, 0xeb3d368e, 0x48ab1ec2, 0x884d9a03,\n+    0x2bdbb24f, 0x1410ccda, 0xb786e496, 0x6b8631f0, 0xc81019bc,\n+    0xf7db6729, 0x544d4f65, 0xad6768ea, 0x0ef140a6, 0x313a3e33,\n+    0x92ac167f, 0x4eacc319, 0xed3aeb55, 0xd2f195c0, 0x7167bd8c,\n+    0xb181394d, 0x12171101, 0x2ddc6f94, 0x8e4a47d8, 0x524a92be,\n+    0xf1dcbaf2, 0xce17c467, 0x6d81ec2b, 0x15141c31, 0xb682347d,\n+    0x89494ae8, 0x2adf62a4, 0xf6dfb7c2, 0x55499f8e, 0x6a82e11b,\n+    0xc914c957, 0x09f24d96, 0xaa6465da, 0x95af1b4f, 0x36393303,\n+    0xea39e665, 0x49afce29, 0x7664b0bc, 0xd5f298f0, 0x2cd8bf7f,\n+    0x8f4e9733, 0xb085e9a6, 0x1313c1ea, 0xcf13148c, 0x6c853cc0,\n+    0x534e4255, 0xf0d86a19, 0x303eeed8, 0x93a8c694, 0xac63b801,\n+    0x0ff5904d, 0xd3f5452b, 0x70636d67, 0x4fa813f2, 0xec3e3bbe,\n+    0x668d5aad, 0xc51b72e1, 0xfad00c74, 0x59462438, 0x8546f15e,\n+    0x26d0d912, 0x191ba787, 0xba8d8fcb, 0x7a6b0b0a, 0xd9fd2346,\n+    0xe6365dd3, 0x45a0759f, 0x99a0a0f9, 0x3a3688b5, 0x05fdf620,\n+    0xa66bde6c, 0x5f41f9e3, 0xfcd7d1af, 0xc31caf3a, 0x608a8776,\n+    0xbc8a5210, 0x1f1c7a5c, 0x20d704c9, 0x83412c85, 0x43a7a844,\n+    0xe0318008, 0xdffafe9d, 0x7c6cd6d1, 0xa06c03b7, 0x03fa2bfb,\n+    0x3c31556e, 0x9fa77d22, 0xf2269109, 0x51b0b945, 0x6e7bc7d0,\n+    0xcdedef9c, 0x11ed3afa, 0xb27b12b6, 0x8db06c23, 0x2e26446f,\n+    0xeec0c0ae, 0x4d56e8e2, 0x729d9677, 0xd10bbe3b, 0x0d0b6b5d,\n+    0xae9d4311, 0x91563d84, 0x32c015c8, 0xcbea3247, 0x687c1a0b,\n+    0x57b7649e, 0xf4214cd2, 0x282199b4, 0x8bb7b1f8, 0xb47ccf6d,\n+    0x17eae721, 0xd70c63e0, 0x749a4bac, 0x4b513539, 0xe8c71d75,\n+    0x34c7c813, 0x9751e05f, 0xa89a9eca, 0x0b0cb686, 0x81bfd795,\n+    0x2229ffd9, 0x1de2814c, 0xbe74a900, 0x62747c66, 0xc1e2542a,\n+    0xfe292abf, 0x5dbf02f3, 0x9d598632, 0x3ecfae7e, 0x0104d0eb,\n+    0xa292f8a7, 0x7e922dc1, 0xdd04058d, 0xe2cf7b18, 0x41595354,\n+    0xb87374db, 0x1be55c97, 0x242e2202, 0x87b80a4e, 0x5bb8df28,\n+    0xf82ef764, 0xc7e589f1, 0x6473a1bd, 0xa495257c, 0x07030d30,\n+    0x38c873a5, 0x9b5e5be9, 0x475e8e8f, 0xe4c8a6c3, 0xdb03d856,\n+    0x7895f01a},\n+   {0x00000000, 0x2a283862, 0x545070c4, 0x7e7848a6, 0xa8a0e188,\n+    0x8288d9ea, 0xfcf0914c, 0xd6d8a92e, 0x8a30c551, 0xa018fd33,\n+    0xde60b595, 0xf4488df7, 0x229024d9, 0x08b81cbb, 0x76c0541d,\n+    0x5ce86c7f, 0xcf108ce3, 0xe538b481, 0x9b40fc27, 0xb168c445,\n+    0x67b06d6b, 0x4d985509, 0x33e01daf, 0x19c825cd, 0x452049b2,\n+    0x6f0871d0, 0x11703976, 0x3b580114, 0xed80a83a, 0xc7a89058,\n+    0xb9d0d8fe, 0x93f8e09c, 0x45501f87, 0x6f7827e5, 0x11006f43,\n+    0x3b285721, 0xedf0fe0f, 0xc7d8c66d, 0xb9a08ecb, 0x9388b6a9,\n+    0xcf60dad6, 0xe548e2b4, 0x9b30aa12, 0xb1189270, 0x67c03b5e,\n+    0x4de8033c, 0x33904b9a, 0x19b873f8, 0x8a409364, 0xa068ab06,\n+    0xde10e3a0, 0xf438dbc2, 0x22e072ec, 0x08c84a8e, 0x76b00228,\n+    0x5c983a4a, 0x00705635, 0x2a586e57, 0x542026f1, 0x7e081e93,\n+    0xa8d0b7bd, 0x82f88fdf, 0xfc80c779, 0xd6a8ff1b, 0x8aa03f0e,\n+    0xa088076c, 0xdef04fca, 0xf4d877a8, 0x2200de86, 0x0828e6e4,\n+    0x7650ae42, 0x5c789620, 0x0090fa5f, 0x2ab8c23d, 0x54c08a9b,\n+    0x7ee8b2f9, 0xa8301bd7, 0x821823b5, 0xfc606b13, 0xd6485371,\n+    0x45b0b3ed, 0x6f988b8f, 0x11e0c329, 0x3bc8fb4b, 0xed105265,\n+    0xc7386a07, 0xb94022a1, 0x93681ac3, 0xcf8076bc, 0xe5a84ede,\n+    0x9bd00678, 0xb1f83e1a, 0x67209734, 0x4d08af56, 0x3370e7f0,\n+    0x1958df92, 0xcff02089, 0xe5d818eb, 0x9ba0504d, 0xb188682f,\n+    0x6750c101, 0x4d78f963, 0x3300b1c5, 0x192889a7, 0x45c0e5d8,\n+    0x6fe8ddba, 0x1190951c, 0x3bb8ad7e, 0xed600450, 0xc7483c32,\n+    0xb9307494, 0x93184cf6, 0x00e0ac6a, 0x2ac89408, 0x54b0dcae,\n+    0x7e98e4cc, 0xa8404de2, 0x82687580, 0xfc103d26, 0xd6380544,\n+    0x8ad0693b, 0xa0f85159, 0xde8019ff, 0xf4a8219d, 0x227088b3,\n+    0x0858b0d1, 0x7620f877, 0x5c08c015, 0xce31785d, 0xe419403f,\n+    0x9a610899, 0xb04930fb, 0x669199d5, 0x4cb9a1b7, 0x32c1e911,\n+    0x18e9d173, 0x4401bd0c, 0x6e29856e, 0x1051cdc8, 0x3a79f5aa,\n+    0xeca15c84, 0xc68964e6, 0xb8f12c40, 0x92d91422, 0x0121f4be,\n+    0x2b09ccdc, 0x5571847a, 0x7f59bc18, 0xa9811536, 0x83a92d54,\n+    0xfdd165f2, 0xd7f95d90, 0x8b1131ef, 0xa139098d, 0xdf41412b,\n+    0xf5697949, 0x23b1d067, 0x0999e805, 0x77e1a0a3, 0x5dc998c1,\n+    0x8b6167da, 0xa1495fb8, 0xdf31171e, 0xf5192f7c, 0x23c18652,\n+    0x09e9be30, 0x7791f696, 0x5db9cef4, 0x0151a28b, 0x2b799ae9,\n+    0x5501d24f, 0x7f29ea2d, 0xa9f14303, 0x83d97b61, 0xfda133c7,\n+    0xd7890ba5, 0x4471eb39, 0x6e59d35b, 0x10219bfd, 0x3a09a39f,\n+    0xecd10ab1, 0xc6f932d3, 0xb8817a75, 0x92a94217, 0xce412e68,\n+    0xe469160a, 0x9a115eac, 0xb03966ce, 0x66e1cfe0, 0x4cc9f782,\n+    0x32b1bf24, 0x18998746, 0x44914753, 0x6eb97f31, 0x10c13797,\n+    0x3ae90ff5, 0xec31a6db, 0xc6199eb9, 0xb861d61f, 0x9249ee7d,\n+    0xcea18202, 0xe489ba60, 0x9af1f2c6, 0xb0d9caa4, 0x6601638a,\n+    0x4c295be8, 0x3251134e, 0x18792b2c, 0x8b81cbb0, 0xa1a9f3d2,\n+    0xdfd1bb74, 0xf5f98316, 0x23212a38, 0x0909125a, 0x77715afc,\n+    0x5d59629e, 0x01b10ee1, 0x2b993683, 0x55e17e25, 0x7fc94647,\n+    0xa911ef69, 0x8339d70b, 0xfd419fad, 0xd769a7cf, 0x01c158d4,\n+    0x2be960b6, 0x55912810, 0x7fb91072, 0xa961b95c, 0x8349813e,\n+    0xfd31c998, 0xd719f1fa, 0x8bf19d85, 0xa1d9a5e7, 0xdfa1ed41,\n+    0xf589d523, 0x23517c0d, 0x0979446f, 0x77010cc9, 0x5d2934ab,\n+    0xced1d437, 0xe4f9ec55, 0x9a81a4f3, 0xb0a99c91, 0x667135bf,\n+    0x4c590ddd, 0x3221457b, 0x18097d19, 0x44e11166, 0x6ec92904,\n+    0x10b161a2, 0x3a9959c0, 0xec41f0ee, 0xc669c88c, 0xb811802a,\n+    0x9239b848},\n+   {0x00000000, 0x4713f6fb, 0x8e27edf6, 0xc9341b0d, 0xc73eddad,\n+    0x802d2b56, 0x4919305b, 0x0e0ac6a0, 0x550cbd1b, 0x121f4be0,\n+    0xdb2b50ed, 0x9c38a616, 0x923260b6, 0xd521964d, 0x1c158d40,\n+    0x5b067bbb, 0xaa197a36, 0xed0a8ccd, 0x243e97c0, 0x632d613b,\n+    0x6d27a79b, 0x2a345160, 0xe3004a6d, 0xa413bc96, 0xff15c72d,\n+    0xb80631d6, 0x71322adb, 0x3621dc20, 0x382b1a80, 0x7f38ec7b,\n+    0xb60cf776, 0xf11f018d, 0x8f43f22d, 0xc85004d6, 0x01641fdb,\n+    0x4677e920, 0x487d2f80, 0x0f6ed97b, 0xc65ac276, 0x8149348d,\n+    0xda4f4f36, 0x9d5cb9cd, 0x5468a2c0, 0x137b543b, 0x1d71929b,\n+    0x5a626460, 0x93567f6d, 0xd4458996, 0x255a881b, 0x62497ee0,\n+    0xab7d65ed, 0xec6e9316, 0xe26455b6, 0xa577a34d, 0x6c43b840,\n+    0x2b504ebb, 0x70563500, 0x3745c3fb, 0xfe71d8f6, 0xb9622e0d,\n+    0xb768e8ad, 0xf07b1e56, 0x394f055b, 0x7e5cf3a0, 0xc5f6e21b,\n+    0x82e514e0, 0x4bd10fed, 0x0cc2f916, 0x02c83fb6, 0x45dbc94d,\n+    0x8cefd240, 0xcbfc24bb, 0x90fa5f00, 0xd7e9a9fb, 0x1eddb2f6,\n+    0x59ce440d, 0x57c482ad, 0x10d77456, 0xd9e36f5b, 0x9ef099a0,\n+    0x6fef982d, 0x28fc6ed6, 0xe1c875db, 0xa6db8320, 0xa8d14580,\n+    0xefc2b37b, 0x26f6a876, 0x61e55e8d, 0x3ae32536, 0x7df0d3cd,\n+    0xb4c4c8c0, 0xf3d73e3b, 0xfdddf89b, 0xbace0e60, 0x73fa156d,\n+    0x34e9e396, 0x4ab51036, 0x0da6e6cd, 0xc492fdc0, 0x83810b3b,\n+    0x8d8bcd9b, 0xca983b60, 0x03ac206d, 0x44bfd696, 0x1fb9ad2d,\n+    0x58aa5bd6, 0x919e40db, 0xd68db620, 0xd8877080, 0x9f94867b,\n+    0x56a09d76, 0x11b36b8d, 0xe0ac6a00, 0xa7bf9cfb, 0x6e8b87f6,\n+    0x2998710d, 0x2792b7ad, 0x60814156, 0xa9b55a5b, 0xeea6aca0,\n+    0xb5a0d71b, 0xf2b321e0, 0x3b873aed, 0x7c94cc16, 0x729e0ab6,\n+    0x358dfc4d, 0xfcb9e740, 0xbbaa11bb, 0x509cc277, 0x178f348c,\n+    0xdebb2f81, 0x99a8d97a, 0x97a21fda, 0xd0b1e921, 0x1985f22c,\n+    0x5e9604d7, 0x05907f6c, 0x42838997, 0x8bb7929a, 0xcca46461,\n+    0xc2aea2c1, 0x85bd543a, 0x4c894f37, 0x0b9ab9cc, 0xfa85b841,\n+    0xbd964eba, 0x74a255b7, 0x33b1a34c, 0x3dbb65ec, 0x7aa89317,\n+    0xb39c881a, 0xf48f7ee1, 0xaf89055a, 0xe89af3a1, 0x21aee8ac,\n+    0x66bd1e57, 0x68b7d8f7, 0x2fa42e0c, 0xe6903501, 0xa183c3fa,\n+    0xdfdf305a, 0x98ccc6a1, 0x51f8ddac, 0x16eb2b57, 0x18e1edf7,\n+    0x5ff21b0c, 0x96c60001, 0xd1d5f6fa, 0x8ad38d41, 0xcdc07bba,\n+    0x04f460b7, 0x43e7964c, 0x4ded50ec, 0x0afea617, 0xc3cabd1a,\n+    0x84d94be1, 0x75c64a6c, 0x32d5bc97, 0xfbe1a79a, 0xbcf25161,\n+    0xb2f897c1, 0xf5eb613a, 0x3cdf7a37, 0x7bcc8ccc, 0x20caf777,\n+    0x67d9018c, 0xaeed1a81, 0xe9feec7a, 0xe7f42ada, 0xa0e7dc21,\n+    0x69d3c72c, 0x2ec031d7, 0x956a206c, 0xd279d697, 0x1b4dcd9a,\n+    0x5c5e3b61, 0x5254fdc1, 0x15470b3a, 0xdc731037, 0x9b60e6cc,\n+    0xc0669d77, 0x87756b8c, 0x4e417081, 0x0952867a, 0x075840da,\n+    0x404bb621, 0x897fad2c, 0xce6c5bd7, 0x3f735a5a, 0x7860aca1,\n+    0xb154b7ac, 0xf6474157, 0xf84d87f7, 0xbf5e710c, 0x766a6a01,\n+    0x31799cfa, 0x6a7fe741, 0x2d6c11ba, 0xe4580ab7, 0xa34bfc4c,\n+    0xad413aec, 0xea52cc17, 0x2366d71a, 0x647521e1, 0x1a29d241,\n+    0x5d3a24ba, 0x940e3fb7, 0xd31dc94c, 0xdd170fec, 0x9a04f917,\n+    0x5330e21a, 0x142314e1, 0x4f256f5a, 0x083699a1, 0xc10282ac,\n+    0x86117457, 0x881bb2f7, 0xcf08440c, 0x063c5f01, 0x412fa9fa,\n+    0xb030a877, 0xf7235e8c, 0x3e174581, 0x7904b37a, 0x770e75da,\n+    0x301d8321, 0xf929982c, 0xbe3a6ed7, 0xe53c156c, 0xa22fe397,\n+    0x6b1bf89a, 0x2c080e61, 0x2202c8c1, 0x65113e3a, 0xac252537,\n+    0xeb36d3cc},\n+   {0x00000000, 0xa13984ee, 0x99020f9d, 0x383b8b73, 0xe975197b,\n+    0x484c9d95, 0x707716e6, 0xd14e9208, 0x099b34b7, 0xa8a2b059,\n+    0x90993b2a, 0x31a0bfc4, 0xe0ee2dcc, 0x41d7a922, 0x79ec2251,\n+    0xd8d5a6bf, 0x1336696e, 0xb20fed80, 0x8a3466f3, 0x2b0de21d,\n+    0xfa437015, 0x5b7af4fb, 0x63417f88, 0xc278fb66, 0x1aad5dd9,\n+    0xbb94d937, 0x83af5244, 0x2296d6aa, 0xf3d844a2, 0x52e1c04c,\n+    0x6ada4b3f, 0xcbe3cfd1, 0x266cd2dc, 0x87555632, 0xbf6edd41,\n+    0x1e5759af, 0xcf19cba7, 0x6e204f49, 0x561bc43a, 0xf72240d4,\n+    0x2ff7e66b, 0x8ece6285, 0xb6f5e9f6, 0x17cc6d18, 0xc682ff10,\n+    0x67bb7bfe, 0x5f80f08d, 0xfeb97463, 0x355abbb2, 0x94633f5c,\n+    0xac58b42f, 0x0d6130c1, 0xdc2fa2c9, 0x7d162627, 0x452dad54,\n+    0xe41429ba, 0x3cc18f05, 0x9df80beb, 0xa5c38098, 0x04fa0476,\n+    0xd5b4967e, 0x748d1290, 0x4cb699e3, 0xed8f1d0d, 0x4cd9a5b8,\n+    0xede02156, 0xd5dbaa25, 0x74e22ecb, 0xa5acbcc3, 0x0495382d,\n+    0x3caeb35e, 0x9d9737b0, 0x4542910f, 0xe47b15e1, 0xdc409e92,\n+    0x7d791a7c, 0xac378874, 0x0d0e0c9a, 0x353587e9, 0x940c0307,\n+    0x5fefccd6, 0xfed64838, 0xc6edc34b, 0x67d447a5, 0xb69ad5ad,\n+    0x17a35143, 0x2f98da30, 0x8ea15ede, 0x5674f861, 0xf74d7c8f,\n+    0xcf76f7fc, 0x6e4f7312, 0xbf01e11a, 0x1e3865f4, 0x2603ee87,\n+    0x873a6a69, 0x6ab57764, 0xcb8cf38a, 0xf3b778f9, 0x528efc17,\n+    0x83c06e1f, 0x22f9eaf1, 0x1ac26182, 0xbbfbe56c, 0x632e43d3,\n+    0xc217c73d, 0xfa2c4c4e, 0x5b15c8a0, 0x8a5b5aa8, 0x2b62de46,\n+    0x13595535, 0xb260d1db, 0x79831e0a, 0xd8ba9ae4, 0xe0811197,\n+    0x41b89579, 0x90f60771, 0x31cf839f, 0x09f408ec, 0xa8cd8c02,\n+    0x70182abd, 0xd121ae53, 0xe91a2520, 0x4823a1ce, 0x996d33c6,\n+    0x3854b728, 0x006f3c5b, 0xa156b8b5, 0x99b34b70, 0x388acf9e,\n+    0x00b144ed, 0xa188c003, 0x70c6520b, 0xd1ffd6e5, 0xe9c45d96,\n+    0x48fdd978, 0x90287fc7, 0x3111fb29, 0x092a705a, 0xa813f4b4,\n+    0x795d66bc, 0xd864e252, 0xe05f6921, 0x4166edcf, 0x8a85221e,\n+    0x2bbca6f0, 0x13872d83, 0xb2bea96d, 0x63f03b65, 0xc2c9bf8b,\n+    0xfaf234f8, 0x5bcbb016, 0x831e16a9, 0x22279247, 0x1a1c1934,\n+    0xbb259dda, 0x6a6b0fd2, 0xcb528b3c, 0xf369004f, 0x525084a1,\n+    0xbfdf99ac, 0x1ee61d42, 0x26dd9631, 0x87e412df, 0x56aa80d7,\n+    0xf7930439, 0xcfa88f4a, 0x6e910ba4, 0xb644ad1b, 0x177d29f5,\n+    0x2f46a286, 0x8e7f2668, 0x5f31b460, 0xfe08308e, 0xc633bbfd,\n+    0x670a3f13, 0xace9f0c2, 0x0dd0742c, 0x35ebff5f, 0x94d27bb1,\n+    0x459ce9b9, 0xe4a56d57, 0xdc9ee624, 0x7da762ca, 0xa572c475,\n+    0x044b409b, 0x3c70cbe8, 0x9d494f06, 0x4c07dd0e, 0xed3e59e0,\n+    0xd505d293, 0x743c567d, 0xd56aeec8, 0x74536a26, 0x4c68e155,\n+    0xed5165bb, 0x3c1ff7b3, 0x9d26735d, 0xa51df82e, 0x04247cc0,\n+    0xdcf1da7f, 0x7dc85e91, 0x45f3d5e2, 0xe4ca510c, 0x3584c304,\n+    0x94bd47ea, 0xac86cc99, 0x0dbf4877, 0xc65c87a6, 0x67650348,\n+    0x5f5e883b, 0xfe670cd5, 0x2f299edd, 0x8e101a33, 0xb62b9140,\n+    0x171215ae, 0xcfc7b311, 0x6efe37ff, 0x56c5bc8c, 0xf7fc3862,\n+    0x26b2aa6a, 0x878b2e84, 0xbfb0a5f7, 0x1e892119, 0xf3063c14,\n+    0x523fb8fa, 0x6a043389, 0xcb3db767, 0x1a73256f, 0xbb4aa181,\n+    0x83712af2, 0x2248ae1c, 0xfa9d08a3, 0x5ba48c4d, 0x639f073e,\n+    0xc2a683d0, 0x13e811d8, 0xb2d19536, 0x8aea1e45, 0x2bd39aab,\n+    0xe030557a, 0x4109d194, 0x79325ae7, 0xd80bde09, 0x09454c01,\n+    0xa87cc8ef, 0x9047439c, 0x317ec772, 0xe9ab61cd, 0x4892e523,\n+    0x70a96e50, 0xd190eabe, 0x00de78b6, 0xa1e7fc58, 0x99dc772b,\n+    0x38e5f3c5},\n+   {0x00000000, 0xe81790a1, 0x0b5e2703, 0xe349b7a2, 0x16bc4e06,\n+    0xfeabdea7, 0x1de26905, 0xf5f5f9a4, 0x2d789c0c, 0xc56f0cad,\n+    0x2626bb0f, 0xce312bae, 0x3bc4d20a, 0xd3d342ab, 0x309af509,\n+    0xd88d65a8, 0x5af13818, 0xb2e6a8b9, 0x51af1f1b, 0xb9b88fba,\n+    0x4c4d761e, 0xa45ae6bf, 0x4713511d, 0xaf04c1bc, 0x7789a414,\n+    0x9f9e34b5, 0x7cd78317, 0x94c013b6, 0x6135ea12, 0x89227ab3,\n+    0x6a6bcd11, 0x827c5db0, 0xb5e27030, 0x5df5e091, 0xbebc5733,\n+    0x56abc792, 0xa35e3e36, 0x4b49ae97, 0xa8001935, 0x40178994,\n+    0x989aec3c, 0x708d7c9d, 0x93c4cb3f, 0x7bd35b9e, 0x8e26a23a,\n+    0x6631329b, 0x85788539, 0x6d6f1598, 0xef134828, 0x0704d889,\n+    0xe44d6f2b, 0x0c5aff8a, 0xf9af062e, 0x11b8968f, 0xf2f1212d,\n+    0x1ae6b18c, 0xc26bd424, 0x2a7c4485, 0xc935f327, 0x21226386,\n+    0xd4d79a22, 0x3cc00a83, 0xdf89bd21, 0x379e2d80, 0xb0b5e621,\n+    0x58a27680, 0xbbebc122, 0x53fc5183, 0xa609a827, 0x4e1e3886,\n+    0xad578f24, 0x45401f85, 0x9dcd7a2d, 0x75daea8c, 0x96935d2e,\n+    0x7e84cd8f, 0x8b71342b, 0x6366a48a, 0x802f1328, 0x68388389,\n+    0xea44de39, 0x02534e98, 0xe11af93a, 0x090d699b, 0xfcf8903f,\n+    0x14ef009e, 0xf7a6b73c, 0x1fb1279d, 0xc73c4235, 0x2f2bd294,\n+    0xcc626536, 0x2475f597, 0xd1800c33, 0x39979c92, 0xdade2b30,\n+    0x32c9bb91, 0x05579611, 0xed4006b0, 0x0e09b112, 0xe61e21b3,\n+    0x13ebd817, 0xfbfc48b6, 0x18b5ff14, 0xf0a26fb5, 0x282f0a1d,\n+    0xc0389abc, 0x23712d1e, 0xcb66bdbf, 0x3e93441b, 0xd684d4ba,\n+    0x35cd6318, 0xdddaf3b9, 0x5fa6ae09, 0xb7b13ea8, 0x54f8890a,\n+    0xbcef19ab, 0x491ae00f, 0xa10d70ae, 0x4244c70c, 0xaa5357ad,\n+    0x72de3205, 0x9ac9a2a4, 0x79801506, 0x919785a7, 0x64627c03,\n+    0x8c75eca2, 0x6f3c5b00, 0x872bcba1, 0xba1aca03, 0x520d5aa2,\n+    0xb144ed00, 0x59537da1, 0xaca68405, 0x44b114a4, 0xa7f8a306,\n+    0x4fef33a7, 0x9762560f, 0x7f75c6ae, 0x9c3c710c, 0x742be1ad,\n+    0x81de1809, 0x69c988a8, 0x8a803f0a, 0x6297afab, 0xe0ebf21b,\n+    0x08fc62ba, 0xebb5d518, 0x03a245b9, 0xf657bc1d, 0x1e402cbc,\n+    0xfd099b1e, 0x151e0bbf, 0xcd936e17, 0x2584feb6, 0xc6cd4914,\n+    0x2edad9b5, 0xdb2f2011, 0x3338b0b0, 0xd0710712, 0x386697b3,\n+    0x0ff8ba33, 0xe7ef2a92, 0x04a69d30, 0xecb10d91, 0x1944f435,\n+    0xf1536494, 0x121ad336, 0xfa0d4397, 0x2280263f, 0xca97b69e,\n+    0x29de013c, 0xc1c9919d, 0x343c6839, 0xdc2bf898, 0x3f624f3a,\n+    0xd775df9b, 0x5509822b, 0xbd1e128a, 0x5e57a528, 0xb6403589,\n+    0x43b5cc2d, 0xaba25c8c, 0x48ebeb2e, 0xa0fc7b8f, 0x78711e27,\n+    0x90668e86, 0x732f3924, 0x9b38a985, 0x6ecd5021, 0x86dac080,\n+    0x65937722, 0x8d84e783, 0x0aaf2c22, 0xe2b8bc83, 0x01f10b21,\n+    0xe9e69b80, 0x1c136224, 0xf404f285, 0x174d4527, 0xff5ad586,\n+    0x27d7b02e, 0xcfc0208f, 0x2c89972d, 0xc49e078c, 0x316bfe28,\n+    0xd97c6e89, 0x3a35d92b, 0xd222498a, 0x505e143a, 0xb849849b,\n+    0x5b003339, 0xb317a398, 0x46e25a3c, 0xaef5ca9d, 0x4dbc7d3f,\n+    0xa5abed9e, 0x7d268836, 0x95311897, 0x7678af35, 0x9e6f3f94,\n+    0x6b9ac630, 0x838d5691, 0x60c4e133, 0x88d37192, 0xbf4d5c12,\n+    0x575accb3, 0xb4137b11, 0x5c04ebb0, 0xa9f11214, 0x41e682b5,\n+    0xa2af3517, 0x4ab8a5b6, 0x9235c01e, 0x7a2250bf, 0x996be71d,\n+    0x717c77bc, 0x84898e18, 0x6c9e1eb9, 0x8fd7a91b, 0x67c039ba,\n+    0xe5bc640a, 0x0dabf4ab, 0xeee24309, 0x06f5d3a8, 0xf3002a0c,\n+    0x1b17baad, 0xf85e0d0f, 0x10499dae, 0xc8c4f806, 0x20d368a7,\n+    0xc39adf05, 0x2b8d4fa4, 0xde78b600, 0x366f26a1, 0xd5269103,\n+    0x3d3101a2}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x0000000000000000, 0xa19017e800000000, 0x03275e0b00000000,\n+    0xa2b749e300000000, 0x064ebc1600000000, 0xa7deabfe00000000,\n+    0x0569e21d00000000, 0xa4f9f5f500000000, 0x0c9c782d00000000,\n+    0xad0c6fc500000000, 0x0fbb262600000000, 0xae2b31ce00000000,\n+    0x0ad2c43b00000000, 0xab42d3d300000000, 0x09f59a3000000000,\n+    0xa8658dd800000000, 0x1838f15a00000000, 0xb9a8e6b200000000,\n+    0x1b1faf5100000000, 0xba8fb8b900000000, 0x1e764d4c00000000,\n+    0xbfe65aa400000000, 0x1d51134700000000, 0xbcc104af00000000,\n+    0x14a4897700000000, 0xb5349e9f00000000, 0x1783d77c00000000,\n+    0xb613c09400000000, 0x12ea356100000000, 0xb37a228900000000,\n+    0x11cd6b6a00000000, 0xb05d7c8200000000, 0x3070e2b500000000,\n+    0x91e0f55d00000000, 0x3357bcbe00000000, 0x92c7ab5600000000,\n+    0x363e5ea300000000, 0x97ae494b00000000, 0x351900a800000000,\n+    0x9489174000000000, 0x3cec9a9800000000, 0x9d7c8d7000000000,\n+    0x3fcbc49300000000, 0x9e5bd37b00000000, 0x3aa2268e00000000,\n+    0x9b32316600000000, 0x3985788500000000, 0x98156f6d00000000,\n+    0x284813ef00000000, 0x89d8040700000000, 0x2b6f4de400000000,\n+    0x8aff5a0c00000000, 0x2e06aff900000000, 0x8f96b81100000000,\n+    0x2d21f1f200000000, 0x8cb1e61a00000000, 0x24d46bc200000000,\n+    0x85447c2a00000000, 0x27f335c900000000, 0x8663222100000000,\n+    0x229ad7d400000000, 0x830ac03c00000000, 0x21bd89df00000000,\n+    0x802d9e3700000000, 0x21e6b5b000000000, 0x8076a25800000000,\n+    0x22c1ebbb00000000, 0x8351fc5300000000, 0x27a809a600000000,\n+    0x86381e4e00000000, 0x248f57ad00000000, 0x851f404500000000,\n+    0x2d7acd9d00000000, 0x8ceada7500000000, 0x2e5d939600000000,\n+    0x8fcd847e00000000, 0x2b34718b00000000, 0x8aa4666300000000,\n+    0x28132f8000000000, 0x8983386800000000, 0x39de44ea00000000,\n+    0x984e530200000000, 0x3af91ae100000000, 0x9b690d0900000000,\n+    0x3f90f8fc00000000, 0x9e00ef1400000000, 0x3cb7a6f700000000,\n+    0x9d27b11f00000000, 0x35423cc700000000, 0x94d22b2f00000000,\n+    0x366562cc00000000, 0x97f5752400000000, 0x330c80d100000000,\n+    0x929c973900000000, 0x302bdeda00000000, 0x91bbc93200000000,\n+    0x1196570500000000, 0xb00640ed00000000, 0x12b1090e00000000,\n+    0xb3211ee600000000, 0x17d8eb1300000000, 0xb648fcfb00000000,\n+    0x14ffb51800000000, 0xb56fa2f000000000, 0x1d0a2f2800000000,\n+    0xbc9a38c000000000, 0x1e2d712300000000, 0xbfbd66cb00000000,\n+    0x1b44933e00000000, 0xbad484d600000000, 0x1863cd3500000000,\n+    0xb9f3dadd00000000, 0x09aea65f00000000, 0xa83eb1b700000000,\n+    0x0a89f85400000000, 0xab19efbc00000000, 0x0fe01a4900000000,\n+    0xae700da100000000, 0x0cc7444200000000, 0xad5753aa00000000,\n+    0x0532de7200000000, 0xa4a2c99a00000000, 0x0615807900000000,\n+    0xa785979100000000, 0x037c626400000000, 0xa2ec758c00000000,\n+    0x005b3c6f00000000, 0xa1cb2b8700000000, 0x03ca1aba00000000,\n+    0xa25a0d5200000000, 0x00ed44b100000000, 0xa17d535900000000,\n+    0x0584a6ac00000000, 0xa414b14400000000, 0x06a3f8a700000000,\n+    0xa733ef4f00000000, 0x0f56629700000000, 0xaec6757f00000000,\n+    0x0c713c9c00000000, 0xade12b7400000000, 0x0918de8100000000,\n+    0xa888c96900000000, 0x0a3f808a00000000, 0xabaf976200000000,\n+    0x1bf2ebe000000000, 0xba62fc0800000000, 0x18d5b5eb00000000,\n+    0xb945a20300000000, 0x1dbc57f600000000, 0xbc2c401e00000000,\n+    0x1e9b09fd00000000, 0xbf0b1e1500000000, 0x176e93cd00000000,\n+    0xb6fe842500000000, 0x1449cdc600000000, 0xb5d9da2e00000000,\n+    0x11202fdb00000000, 0xb0b0383300000000, 0x120771d000000000,\n+    0xb397663800000000, 0x33baf80f00000000, 0x922aefe700000000,\n+    0x309da60400000000, 0x910db1ec00000000, 0x35f4441900000000,\n+    0x946453f100000000, 0x36d31a1200000000, 0x97430dfa00000000,\n+    0x3f26802200000000, 0x9eb697ca00000000, 0x3c01de2900000000,\n+    0x9d91c9c100000000, 0x39683c3400000000, 0x98f82bdc00000000,\n+    0x3a4f623f00000000, 0x9bdf75d700000000, 0x2b82095500000000,\n+    0x8a121ebd00000000, 0x28a5575e00000000, 0x893540b600000000,\n+    0x2dccb54300000000, 0x8c5ca2ab00000000, 0x2eebeb4800000000,\n+    0x8f7bfca000000000, 0x271e717800000000, 0x868e669000000000,\n+    0x24392f7300000000, 0x85a9389b00000000, 0x2150cd6e00000000,\n+    0x80c0da8600000000, 0x2277936500000000, 0x83e7848d00000000,\n+    0x222caf0a00000000, 0x83bcb8e200000000, 0x210bf10100000000,\n+    0x809be6e900000000, 0x2462131c00000000, 0x85f204f400000000,\n+    0x27454d1700000000, 0x86d55aff00000000, 0x2eb0d72700000000,\n+    0x8f20c0cf00000000, 0x2d97892c00000000, 0x8c079ec400000000,\n+    0x28fe6b3100000000, 0x896e7cd900000000, 0x2bd9353a00000000,\n+    0x8a4922d200000000, 0x3a145e5000000000, 0x9b8449b800000000,\n+    0x3933005b00000000, 0x98a317b300000000, 0x3c5ae24600000000,\n+    0x9dcaf5ae00000000, 0x3f7dbc4d00000000, 0x9eedaba500000000,\n+    0x3688267d00000000, 0x9718319500000000, 0x35af787600000000,\n+    0x943f6f9e00000000, 0x30c69a6b00000000, 0x91568d8300000000,\n+    0x33e1c46000000000, 0x9271d38800000000, 0x125c4dbf00000000,\n+    0xb3cc5a5700000000, 0x117b13b400000000, 0xb0eb045c00000000,\n+    0x1412f1a900000000, 0xb582e64100000000, 0x1735afa200000000,\n+    0xb6a5b84a00000000, 0x1ec0359200000000, 0xbf50227a00000000,\n+    0x1de76b9900000000, 0xbc777c7100000000, 0x188e898400000000,\n+    0xb91e9e6c00000000, 0x1ba9d78f00000000, 0xba39c06700000000,\n+    0x0a64bce500000000, 0xabf4ab0d00000000, 0x0943e2ee00000000,\n+    0xa8d3f50600000000, 0x0c2a00f300000000, 0xadba171b00000000,\n+    0x0f0d5ef800000000, 0xae9d491000000000, 0x06f8c4c800000000,\n+    0xa768d32000000000, 0x05df9ac300000000, 0xa44f8d2b00000000,\n+    0x00b678de00000000, 0xa1266f3600000000, 0x039126d500000000,\n+    0xa201313d00000000},\n+   {0x0000000000000000, 0xee8439a100000000, 0x9d0f029900000000,\n+    0x738b3b3800000000, 0x7b1975e900000000, 0x959d4c4800000000,\n+    0xe616777000000000, 0x08924ed100000000, 0xb7349b0900000000,\n+    0x59b0a2a800000000, 0x2a3b999000000000, 0xc4bfa03100000000,\n+    0xcc2deee000000000, 0x22a9d74100000000, 0x5122ec7900000000,\n+    0xbfa6d5d800000000, 0x6e69361300000000, 0x80ed0fb200000000,\n+    0xf366348a00000000, 0x1de20d2b00000000, 0x157043fa00000000,\n+    0xfbf47a5b00000000, 0x887f416300000000, 0x66fb78c200000000,\n+    0xd95dad1a00000000, 0x37d994bb00000000, 0x4452af8300000000,\n+    0xaad6962200000000, 0xa244d8f300000000, 0x4cc0e15200000000,\n+    0x3f4bda6a00000000, 0xd1cfe3cb00000000, 0xdcd26c2600000000,\n+    0x3256558700000000, 0x41dd6ebf00000000, 0xaf59571e00000000,\n+    0xa7cb19cf00000000, 0x494f206e00000000, 0x3ac41b5600000000,\n+    0xd44022f700000000, 0x6be6f72f00000000, 0x8562ce8e00000000,\n+    0xf6e9f5b600000000, 0x186dcc1700000000, 0x10ff82c600000000,\n+    0xfe7bbb6700000000, 0x8df0805f00000000, 0x6374b9fe00000000,\n+    0xb2bb5a3500000000, 0x5c3f639400000000, 0x2fb458ac00000000,\n+    0xc130610d00000000, 0xc9a22fdc00000000, 0x2726167d00000000,\n+    0x54ad2d4500000000, 0xba2914e400000000, 0x058fc13c00000000,\n+    0xeb0bf89d00000000, 0x9880c3a500000000, 0x7604fa0400000000,\n+    0x7e96b4d500000000, 0x90128d7400000000, 0xe399b64c00000000,\n+    0x0d1d8fed00000000, 0xb8a5d94c00000000, 0x5621e0ed00000000,\n+    0x25aadbd500000000, 0xcb2ee27400000000, 0xc3bcaca500000000,\n+    0x2d38950400000000, 0x5eb3ae3c00000000, 0xb037979d00000000,\n+    0x0f91424500000000, 0xe1157be400000000, 0x929e40dc00000000,\n+    0x7c1a797d00000000, 0x748837ac00000000, 0x9a0c0e0d00000000,\n+    0xe987353500000000, 0x07030c9400000000, 0xd6ccef5f00000000,\n+    0x3848d6fe00000000, 0x4bc3edc600000000, 0xa547d46700000000,\n+    0xadd59ab600000000, 0x4351a31700000000, 0x30da982f00000000,\n+    0xde5ea18e00000000, 0x61f8745600000000, 0x8f7c4df700000000,\n+    0xfcf776cf00000000, 0x12734f6e00000000, 0x1ae101bf00000000,\n+    0xf465381e00000000, 0x87ee032600000000, 0x696a3a8700000000,\n+    0x6477b56a00000000, 0x8af38ccb00000000, 0xf978b7f300000000,\n+    0x17fc8e5200000000, 0x1f6ec08300000000, 0xf1eaf92200000000,\n+    0x8261c21a00000000, 0x6ce5fbbb00000000, 0xd3432e6300000000,\n+    0x3dc717c200000000, 0x4e4c2cfa00000000, 0xa0c8155b00000000,\n+    0xa85a5b8a00000000, 0x46de622b00000000, 0x3555591300000000,\n+    0xdbd160b200000000, 0x0a1e837900000000, 0xe49abad800000000,\n+    0x971181e000000000, 0x7995b84100000000, 0x7107f69000000000,\n+    0x9f83cf3100000000, 0xec08f40900000000, 0x028ccda800000000,\n+    0xbd2a187000000000, 0x53ae21d100000000, 0x20251ae900000000,\n+    0xcea1234800000000, 0xc6336d9900000000, 0x28b7543800000000,\n+    0x5b3c6f0000000000, 0xb5b856a100000000, 0x704bb39900000000,\n+    0x9ecf8a3800000000, 0xed44b10000000000, 0x03c088a100000000,\n+    0x0b52c67000000000, 0xe5d6ffd100000000, 0x965dc4e900000000,\n+    0x78d9fd4800000000, 0xc77f289000000000, 0x29fb113100000000,\n+    0x5a702a0900000000, 0xb4f413a800000000, 0xbc665d7900000000,\n+    0x52e264d800000000, 0x21695fe000000000, 0xcfed664100000000,\n+    0x1e22858a00000000, 0xf0a6bc2b00000000, 0x832d871300000000,\n+    0x6da9beb200000000, 0x653bf06300000000, 0x8bbfc9c200000000,\n+    0xf834f2fa00000000, 0x16b0cb5b00000000, 0xa9161e8300000000,\n+    0x4792272200000000, 0x34191c1a00000000, 0xda9d25bb00000000,\n+    0xd20f6b6a00000000, 0x3c8b52cb00000000, 0x4f0069f300000000,\n+    0xa184505200000000, 0xac99dfbf00000000, 0x421de61e00000000,\n+    0x3196dd2600000000, 0xdf12e48700000000, 0xd780aa5600000000,\n+    0x390493f700000000, 0x4a8fa8cf00000000, 0xa40b916e00000000,\n+    0x1bad44b600000000, 0xf5297d1700000000, 0x86a2462f00000000,\n+    0x68267f8e00000000, 0x60b4315f00000000, 0x8e3008fe00000000,\n+    0xfdbb33c600000000, 0x133f0a6700000000, 0xc2f0e9ac00000000,\n+    0x2c74d00d00000000, 0x5fffeb3500000000, 0xb17bd29400000000,\n+    0xb9e99c4500000000, 0x576da5e400000000, 0x24e69edc00000000,\n+    0xca62a77d00000000, 0x75c472a500000000, 0x9b404b0400000000,\n+    0xe8cb703c00000000, 0x064f499d00000000, 0x0edd074c00000000,\n+    0xe0593eed00000000, 0x93d205d500000000, 0x7d563c7400000000,\n+    0xc8ee6ad500000000, 0x266a537400000000, 0x55e1684c00000000,\n+    0xbb6551ed00000000, 0xb3f71f3c00000000, 0x5d73269d00000000,\n+    0x2ef81da500000000, 0xc07c240400000000, 0x7fdaf1dc00000000,\n+    0x915ec87d00000000, 0xe2d5f34500000000, 0x0c51cae400000000,\n+    0x04c3843500000000, 0xea47bd9400000000, 0x99cc86ac00000000,\n+    0x7748bf0d00000000, 0xa6875cc600000000, 0x4803656700000000,\n+    0x3b885e5f00000000, 0xd50c67fe00000000, 0xdd9e292f00000000,\n+    0x331a108e00000000, 0x40912bb600000000, 0xae15121700000000,\n+    0x11b3c7cf00000000, 0xff37fe6e00000000, 0x8cbcc55600000000,\n+    0x6238fcf700000000, 0x6aaab22600000000, 0x842e8b8700000000,\n+    0xf7a5b0bf00000000, 0x1921891e00000000, 0x143c06f300000000,\n+    0xfab83f5200000000, 0x8933046a00000000, 0x67b73dcb00000000,\n+    0x6f25731a00000000, 0x81a14abb00000000, 0xf22a718300000000,\n+    0x1cae482200000000, 0xa3089dfa00000000, 0x4d8ca45b00000000,\n+    0x3e079f6300000000, 0xd083a6c200000000, 0xd811e81300000000,\n+    0x3695d1b200000000, 0x451eea8a00000000, 0xab9ad32b00000000,\n+    0x7a5530e000000000, 0x94d1094100000000, 0xe75a327900000000,\n+    0x09de0bd800000000, 0x014c450900000000, 0xefc87ca800000000,\n+    0x9c43479000000000, 0x72c77e3100000000, 0xcd61abe900000000,\n+    0x23e5924800000000, 0x506ea97000000000, 0xbeea90d100000000,\n+    0xb678de0000000000, 0x58fce7a100000000, 0x2b77dc9900000000,\n+    0xc5f3e53800000000},\n+   {0x0000000000000000, 0xfbf6134700000000, 0xf6ed278e00000000,\n+    0x0d1b34c900000000, 0xaddd3ec700000000, 0x562b2d8000000000,\n+    0x5b30194900000000, 0xa0c60a0e00000000, 0x1bbd0c5500000000,\n+    0xe04b1f1200000000, 0xed502bdb00000000, 0x16a6389c00000000,\n+    0xb660329200000000, 0x4d9621d500000000, 0x408d151c00000000,\n+    0xbb7b065b00000000, 0x367a19aa00000000, 0xcd8c0aed00000000,\n+    0xc0973e2400000000, 0x3b612d6300000000, 0x9ba7276d00000000,\n+    0x6051342a00000000, 0x6d4a00e300000000, 0x96bc13a400000000,\n+    0x2dc715ff00000000, 0xd63106b800000000, 0xdb2a327100000000,\n+    0x20dc213600000000, 0x801a2b3800000000, 0x7bec387f00000000,\n+    0x76f70cb600000000, 0x8d011ff100000000, 0x2df2438f00000000,\n+    0xd60450c800000000, 0xdb1f640100000000, 0x20e9774600000000,\n+    0x802f7d4800000000, 0x7bd96e0f00000000, 0x76c25ac600000000,\n+    0x8d34498100000000, 0x364f4fda00000000, 0xcdb95c9d00000000,\n+    0xc0a2685400000000, 0x3b547b1300000000, 0x9b92711d00000000,\n+    0x6064625a00000000, 0x6d7f569300000000, 0x968945d400000000,\n+    0x1b885a2500000000, 0xe07e496200000000, 0xed657dab00000000,\n+    0x16936eec00000000, 0xb65564e200000000, 0x4da377a500000000,\n+    0x40b8436c00000000, 0xbb4e502b00000000, 0x0035567000000000,\n+    0xfbc3453700000000, 0xf6d871fe00000000, 0x0d2e62b900000000,\n+    0xade868b700000000, 0x561e7bf000000000, 0x5b054f3900000000,\n+    0xa0f35c7e00000000, 0x1be2f6c500000000, 0xe014e58200000000,\n+    0xed0fd14b00000000, 0x16f9c20c00000000, 0xb63fc80200000000,\n+    0x4dc9db4500000000, 0x40d2ef8c00000000, 0xbb24fccb00000000,\n+    0x005ffa9000000000, 0xfba9e9d700000000, 0xf6b2dd1e00000000,\n+    0x0d44ce5900000000, 0xad82c45700000000, 0x5674d71000000000,\n+    0x5b6fe3d900000000, 0xa099f09e00000000, 0x2d98ef6f00000000,\n+    0xd66efc2800000000, 0xdb75c8e100000000, 0x2083dba600000000,\n+    0x8045d1a800000000, 0x7bb3c2ef00000000, 0x76a8f62600000000,\n+    0x8d5ee56100000000, 0x3625e33a00000000, 0xcdd3f07d00000000,\n+    0xc0c8c4b400000000, 0x3b3ed7f300000000, 0x9bf8ddfd00000000,\n+    0x600eceba00000000, 0x6d15fa7300000000, 0x96e3e93400000000,\n+    0x3610b54a00000000, 0xcde6a60d00000000, 0xc0fd92c400000000,\n+    0x3b0b818300000000, 0x9bcd8b8d00000000, 0x603b98ca00000000,\n+    0x6d20ac0300000000, 0x96d6bf4400000000, 0x2dadb91f00000000,\n+    0xd65baa5800000000, 0xdb409e9100000000, 0x20b68dd600000000,\n+    0x807087d800000000, 0x7b86949f00000000, 0x769da05600000000,\n+    0x8d6bb31100000000, 0x006aace000000000, 0xfb9cbfa700000000,\n+    0xf6878b6e00000000, 0x0d71982900000000, 0xadb7922700000000,\n+    0x5641816000000000, 0x5b5ab5a900000000, 0xa0aca6ee00000000,\n+    0x1bd7a0b500000000, 0xe021b3f200000000, 0xed3a873b00000000,\n+    0x16cc947c00000000, 0xb60a9e7200000000, 0x4dfc8d3500000000,\n+    0x40e7b9fc00000000, 0xbb11aabb00000000, 0x77c29c5000000000,\n+    0x8c348f1700000000, 0x812fbbde00000000, 0x7ad9a89900000000,\n+    0xda1fa29700000000, 0x21e9b1d000000000, 0x2cf2851900000000,\n+    0xd704965e00000000, 0x6c7f900500000000, 0x9789834200000000,\n+    0x9a92b78b00000000, 0x6164a4cc00000000, 0xc1a2aec200000000,\n+    0x3a54bd8500000000, 0x374f894c00000000, 0xccb99a0b00000000,\n+    0x41b885fa00000000, 0xba4e96bd00000000, 0xb755a27400000000,\n+    0x4ca3b13300000000, 0xec65bb3d00000000, 0x1793a87a00000000,\n+    0x1a889cb300000000, 0xe17e8ff400000000, 0x5a0589af00000000,\n+    0xa1f39ae800000000, 0xace8ae2100000000, 0x571ebd6600000000,\n+    0xf7d8b76800000000, 0x0c2ea42f00000000, 0x013590e600000000,\n+    0xfac383a100000000, 0x5a30dfdf00000000, 0xa1c6cc9800000000,\n+    0xacddf85100000000, 0x572beb1600000000, 0xf7ede11800000000,\n+    0x0c1bf25f00000000, 0x0100c69600000000, 0xfaf6d5d100000000,\n+    0x418dd38a00000000, 0xba7bc0cd00000000, 0xb760f40400000000,\n+    0x4c96e74300000000, 0xec50ed4d00000000, 0x17a6fe0a00000000,\n+    0x1abdcac300000000, 0xe14bd98400000000, 0x6c4ac67500000000,\n+    0x97bcd53200000000, 0x9aa7e1fb00000000, 0x6151f2bc00000000,\n+    0xc197f8b200000000, 0x3a61ebf500000000, 0x377adf3c00000000,\n+    0xcc8ccc7b00000000, 0x77f7ca2000000000, 0x8c01d96700000000,\n+    0x811aedae00000000, 0x7aecfee900000000, 0xda2af4e700000000,\n+    0x21dce7a000000000, 0x2cc7d36900000000, 0xd731c02e00000000,\n+    0x6c206a9500000000, 0x97d679d200000000, 0x9acd4d1b00000000,\n+    0x613b5e5c00000000, 0xc1fd545200000000, 0x3a0b471500000000,\n+    0x371073dc00000000, 0xcce6609b00000000, 0x779d66c000000000,\n+    0x8c6b758700000000, 0x8170414e00000000, 0x7a86520900000000,\n+    0xda40580700000000, 0x21b64b4000000000, 0x2cad7f8900000000,\n+    0xd75b6cce00000000, 0x5a5a733f00000000, 0xa1ac607800000000,\n+    0xacb754b100000000, 0x574147f600000000, 0xf7874df800000000,\n+    0x0c715ebf00000000, 0x016a6a7600000000, 0xfa9c793100000000,\n+    0x41e77f6a00000000, 0xba116c2d00000000, 0xb70a58e400000000,\n+    0x4cfc4ba300000000, 0xec3a41ad00000000, 0x17cc52ea00000000,\n+    0x1ad7662300000000, 0xe121756400000000, 0x41d2291a00000000,\n+    0xba243a5d00000000, 0xb73f0e9400000000, 0x4cc91dd300000000,\n+    0xec0f17dd00000000, 0x17f9049a00000000, 0x1ae2305300000000,\n+    0xe114231400000000, 0x5a6f254f00000000, 0xa199360800000000,\n+    0xac8202c100000000, 0x5774118600000000, 0xf7b21b8800000000,\n+    0x0c4408cf00000000, 0x015f3c0600000000, 0xfaa92f4100000000,\n+    0x77a830b000000000, 0x8c5e23f700000000, 0x8145173e00000000,\n+    0x7ab3047900000000, 0xda750e7700000000, 0x21831d3000000000,\n+    0x2c9829f900000000, 0xd76e3abe00000000, 0x6c153ce500000000,\n+    0x97e32fa200000000, 0x9af81b6b00000000, 0x610e082c00000000,\n+    0xc1c8022200000000, 0x3a3e116500000000, 0x372525ac00000000,\n+    0xccd336eb00000000},\n+   {0x0000000000000000, 0x6238282a00000000, 0xc470505400000000,\n+    0xa648787e00000000, 0x88e1a0a800000000, 0xead9888200000000,\n+    0x4c91f0fc00000000, 0x2ea9d8d600000000, 0x51c5308a00000000,\n+    0x33fd18a000000000, 0x95b560de00000000, 0xf78d48f400000000,\n+    0xd924902200000000, 0xbb1cb80800000000, 0x1d54c07600000000,\n+    0x7f6ce85c00000000, 0xe38c10cf00000000, 0x81b438e500000000,\n+    0x27fc409b00000000, 0x45c468b100000000, 0x6b6db06700000000,\n+    0x0955984d00000000, 0xaf1de03300000000, 0xcd25c81900000000,\n+    0xb249204500000000, 0xd071086f00000000, 0x7639701100000000,\n+    0x1401583b00000000, 0x3aa880ed00000000, 0x5890a8c700000000,\n+    0xfed8d0b900000000, 0x9ce0f89300000000, 0x871f504500000000,\n+    0xe527786f00000000, 0x436f001100000000, 0x2157283b00000000,\n+    0x0ffef0ed00000000, 0x6dc6d8c700000000, 0xcb8ea0b900000000,\n+    0xa9b6889300000000, 0xd6da60cf00000000, 0xb4e248e500000000,\n+    0x12aa309b00000000, 0x709218b100000000, 0x5e3bc06700000000,\n+    0x3c03e84d00000000, 0x9a4b903300000000, 0xf873b81900000000,\n+    0x6493408a00000000, 0x06ab68a000000000, 0xa0e310de00000000,\n+    0xc2db38f400000000, 0xec72e02200000000, 0x8e4ac80800000000,\n+    0x2802b07600000000, 0x4a3a985c00000000, 0x3556700000000000,\n+    0x576e582a00000000, 0xf126205400000000, 0x931e087e00000000,\n+    0xbdb7d0a800000000, 0xdf8ff88200000000, 0x79c780fc00000000,\n+    0x1bffa8d600000000, 0x0e3fa08a00000000, 0x6c0788a000000000,\n+    0xca4ff0de00000000, 0xa877d8f400000000, 0x86de002200000000,\n+    0xe4e6280800000000, 0x42ae507600000000, 0x2096785c00000000,\n+    0x5ffa900000000000, 0x3dc2b82a00000000, 0x9b8ac05400000000,\n+    0xf9b2e87e00000000, 0xd71b30a800000000, 0xb523188200000000,\n+    0x136b60fc00000000, 0x715348d600000000, 0xedb3b04500000000,\n+    0x8f8b986f00000000, 0x29c3e01100000000, 0x4bfbc83b00000000,\n+    0x655210ed00000000, 0x076a38c700000000, 0xa12240b900000000,\n+    0xc31a689300000000, 0xbc7680cf00000000, 0xde4ea8e500000000,\n+    0x7806d09b00000000, 0x1a3ef8b100000000, 0x3497206700000000,\n+    0x56af084d00000000, 0xf0e7703300000000, 0x92df581900000000,\n+    0x8920f0cf00000000, 0xeb18d8e500000000, 0x4d50a09b00000000,\n+    0x2f6888b100000000, 0x01c1506700000000, 0x63f9784d00000000,\n+    0xc5b1003300000000, 0xa789281900000000, 0xd8e5c04500000000,\n+    0xbadde86f00000000, 0x1c95901100000000, 0x7eadb83b00000000,\n+    0x500460ed00000000, 0x323c48c700000000, 0x947430b900000000,\n+    0xf64c189300000000, 0x6aace00000000000, 0x0894c82a00000000,\n+    0xaedcb05400000000, 0xcce4987e00000000, 0xe24d40a800000000,\n+    0x8075688200000000, 0x263d10fc00000000, 0x440538d600000000,\n+    0x3b69d08a00000000, 0x5951f8a000000000, 0xff1980de00000000,\n+    0x9d21a8f400000000, 0xb388702200000000, 0xd1b0580800000000,\n+    0x77f8207600000000, 0x15c0085c00000000, 0x5d7831ce00000000,\n+    0x3f4019e400000000, 0x9908619a00000000, 0xfb3049b000000000,\n+    0xd599916600000000, 0xb7a1b94c00000000, 0x11e9c13200000000,\n+    0x73d1e91800000000, 0x0cbd014400000000, 0x6e85296e00000000,\n+    0xc8cd511000000000, 0xaaf5793a00000000, 0x845ca1ec00000000,\n+    0xe66489c600000000, 0x402cf1b800000000, 0x2214d99200000000,\n+    0xbef4210100000000, 0xdccc092b00000000, 0x7a84715500000000,\n+    0x18bc597f00000000, 0x361581a900000000, 0x542da98300000000,\n+    0xf265d1fd00000000, 0x905df9d700000000, 0xef31118b00000000,\n+    0x8d0939a100000000, 0x2b4141df00000000, 0x497969f500000000,\n+    0x67d0b12300000000, 0x05e8990900000000, 0xa3a0e17700000000,\n+    0xc198c95d00000000, 0xda67618b00000000, 0xb85f49a100000000,\n+    0x1e1731df00000000, 0x7c2f19f500000000, 0x5286c12300000000,\n+    0x30bee90900000000, 0x96f6917700000000, 0xf4ceb95d00000000,\n+    0x8ba2510100000000, 0xe99a792b00000000, 0x4fd2015500000000,\n+    0x2dea297f00000000, 0x0343f1a900000000, 0x617bd98300000000,\n+    0xc733a1fd00000000, 0xa50b89d700000000, 0x39eb714400000000,\n+    0x5bd3596e00000000, 0xfd9b211000000000, 0x9fa3093a00000000,\n+    0xb10ad1ec00000000, 0xd332f9c600000000, 0x757a81b800000000,\n+    0x1742a99200000000, 0x682e41ce00000000, 0x0a1669e400000000,\n+    0xac5e119a00000000, 0xce6639b000000000, 0xe0cfe16600000000,\n+    0x82f7c94c00000000, 0x24bfb13200000000, 0x4687991800000000,\n+    0x5347914400000000, 0x317fb96e00000000, 0x9737c11000000000,\n+    0xf50fe93a00000000, 0xdba631ec00000000, 0xb99e19c600000000,\n+    0x1fd661b800000000, 0x7dee499200000000, 0x0282a1ce00000000,\n+    0x60ba89e400000000, 0xc6f2f19a00000000, 0xa4cad9b000000000,\n+    0x8a63016600000000, 0xe85b294c00000000, 0x4e13513200000000,\n+    0x2c2b791800000000, 0xb0cb818b00000000, 0xd2f3a9a100000000,\n+    0x74bbd1df00000000, 0x1683f9f500000000, 0x382a212300000000,\n+    0x5a12090900000000, 0xfc5a717700000000, 0x9e62595d00000000,\n+    0xe10eb10100000000, 0x8336992b00000000, 0x257ee15500000000,\n+    0x4746c97f00000000, 0x69ef11a900000000, 0x0bd7398300000000,\n+    0xad9f41fd00000000, 0xcfa769d700000000, 0xd458c10100000000,\n+    0xb660e92b00000000, 0x1028915500000000, 0x7210b97f00000000,\n+    0x5cb961a900000000, 0x3e81498300000000, 0x98c931fd00000000,\n+    0xfaf119d700000000, 0x859df18b00000000, 0xe7a5d9a100000000,\n+    0x41eda1df00000000, 0x23d589f500000000, 0x0d7c512300000000,\n+    0x6f44790900000000, 0xc90c017700000000, 0xab34295d00000000,\n+    0x37d4d1ce00000000, 0x55ecf9e400000000, 0xf3a4819a00000000,\n+    0x919ca9b000000000, 0xbf35716600000000, 0xdd0d594c00000000,\n+    0x7b45213200000000, 0x197d091800000000, 0x6611e14400000000,\n+    0x0429c96e00000000, 0xa261b11000000000, 0xc059993a00000000,\n+    0xeef041ec00000000, 0x8cc869c600000000, 0x2a8011b800000000,\n+    0x48b8399200000000},\n+   {0x0000000000000000, 0x4c2896a300000000, 0xd9565d9c00000000,\n+    0x957ecb3f00000000, 0xf3abcbe300000000, 0xbf835d4000000000,\n+    0x2afd967f00000000, 0x66d500dc00000000, 0xa751e61c00000000,\n+    0xeb7970bf00000000, 0x7e07bb8000000000, 0x322f2d2300000000,\n+    0x54fa2dff00000000, 0x18d2bb5c00000000, 0x8dac706300000000,\n+    0xc184e6c000000000, 0x4ea3cc3900000000, 0x028b5a9a00000000,\n+    0x97f591a500000000, 0xdbdd070600000000, 0xbd0807da00000000,\n+    0xf120917900000000, 0x645e5a4600000000, 0x2876cce500000000,\n+    0xe9f22a2500000000, 0xa5dabc8600000000, 0x30a477b900000000,\n+    0x7c8ce11a00000000, 0x1a59e1c600000000, 0x5671776500000000,\n+    0xc30fbc5a00000000, 0x8f272af900000000, 0x9c46997300000000,\n+    0xd06e0fd000000000, 0x4510c4ef00000000, 0x0938524c00000000,\n+    0x6fed529000000000, 0x23c5c43300000000, 0xb6bb0f0c00000000,\n+    0xfa9399af00000000, 0x3b177f6f00000000, 0x773fe9cc00000000,\n+    0xe24122f300000000, 0xae69b45000000000, 0xc8bcb48c00000000,\n+    0x8494222f00000000, 0x11eae91000000000, 0x5dc27fb300000000,\n+    0xd2e5554a00000000, 0x9ecdc3e900000000, 0x0bb308d600000000,\n+    0x479b9e7500000000, 0x214e9ea900000000, 0x6d66080a00000000,\n+    0xf818c33500000000, 0xb430559600000000, 0x75b4b35600000000,\n+    0x399c25f500000000, 0xace2eeca00000000, 0xe0ca786900000000,\n+    0x861f78b500000000, 0xca37ee1600000000, 0x5f49252900000000,\n+    0x1361b38a00000000, 0x388d32e700000000, 0x74a5a44400000000,\n+    0xe1db6f7b00000000, 0xadf3f9d800000000, 0xcb26f90400000000,\n+    0x870e6fa700000000, 0x1270a49800000000, 0x5e58323b00000000,\n+    0x9fdcd4fb00000000, 0xd3f4425800000000, 0x468a896700000000,\n+    0x0aa21fc400000000, 0x6c771f1800000000, 0x205f89bb00000000,\n+    0xb521428400000000, 0xf909d42700000000, 0x762efede00000000,\n+    0x3a06687d00000000, 0xaf78a34200000000, 0xe35035e100000000,\n+    0x8585353d00000000, 0xc9ada39e00000000, 0x5cd368a100000000,\n+    0x10fbfe0200000000, 0xd17f18c200000000, 0x9d578e6100000000,\n+    0x0829455e00000000, 0x4401d3fd00000000, 0x22d4d32100000000,\n+    0x6efc458200000000, 0xfb828ebd00000000, 0xb7aa181e00000000,\n+    0xa4cbab9400000000, 0xe8e33d3700000000, 0x7d9df60800000000,\n+    0x31b560ab00000000, 0x5760607700000000, 0x1b48f6d400000000,\n+    0x8e363deb00000000, 0xc21eab4800000000, 0x039a4d8800000000,\n+    0x4fb2db2b00000000, 0xdacc101400000000, 0x96e486b700000000,\n+    0xf031866b00000000, 0xbc1910c800000000, 0x2967dbf700000000,\n+    0x654f4d5400000000, 0xea6867ad00000000, 0xa640f10e00000000,\n+    0x333e3a3100000000, 0x7f16ac9200000000, 0x19c3ac4e00000000,\n+    0x55eb3aed00000000, 0xc095f1d200000000, 0x8cbd677100000000,\n+    0x4d3981b100000000, 0x0111171200000000, 0x946fdc2d00000000,\n+    0xd8474a8e00000000, 0xbe924a5200000000, 0xf2badcf100000000,\n+    0x67c417ce00000000, 0x2bec816d00000000, 0x311c141500000000,\n+    0x7d3482b600000000, 0xe84a498900000000, 0xa462df2a00000000,\n+    0xc2b7dff600000000, 0x8e9f495500000000, 0x1be1826a00000000,\n+    0x57c914c900000000, 0x964df20900000000, 0xda6564aa00000000,\n+    0x4f1baf9500000000, 0x0333393600000000, 0x65e639ea00000000,\n+    0x29ceaf4900000000, 0xbcb0647600000000, 0xf098f2d500000000,\n+    0x7fbfd82c00000000, 0x33974e8f00000000, 0xa6e985b000000000,\n+    0xeac1131300000000, 0x8c1413cf00000000, 0xc03c856c00000000,\n+    0x55424e5300000000, 0x196ad8f000000000, 0xd8ee3e3000000000,\n+    0x94c6a89300000000, 0x01b863ac00000000, 0x4d90f50f00000000,\n+    0x2b45f5d300000000, 0x676d637000000000, 0xf213a84f00000000,\n+    0xbe3b3eec00000000, 0xad5a8d6600000000, 0xe1721bc500000000,\n+    0x740cd0fa00000000, 0x3824465900000000, 0x5ef1468500000000,\n+    0x12d9d02600000000, 0x87a71b1900000000, 0xcb8f8dba00000000,\n+    0x0a0b6b7a00000000, 0x4623fdd900000000, 0xd35d36e600000000,\n+    0x9f75a04500000000, 0xf9a0a09900000000, 0xb588363a00000000,\n+    0x20f6fd0500000000, 0x6cde6ba600000000, 0xe3f9415f00000000,\n+    0xafd1d7fc00000000, 0x3aaf1cc300000000, 0x76878a6000000000,\n+    0x10528abc00000000, 0x5c7a1c1f00000000, 0xc904d72000000000,\n+    0x852c418300000000, 0x44a8a74300000000, 0x088031e000000000,\n+    0x9dfefadf00000000, 0xd1d66c7c00000000, 0xb7036ca000000000,\n+    0xfb2bfa0300000000, 0x6e55313c00000000, 0x227da79f00000000,\n+    0x099126f200000000, 0x45b9b05100000000, 0xd0c77b6e00000000,\n+    0x9cefedcd00000000, 0xfa3aed1100000000, 0xb6127bb200000000,\n+    0x236cb08d00000000, 0x6f44262e00000000, 0xaec0c0ee00000000,\n+    0xe2e8564d00000000, 0x77969d7200000000, 0x3bbe0bd100000000,\n+    0x5d6b0b0d00000000, 0x11439dae00000000, 0x843d569100000000,\n+    0xc815c03200000000, 0x4732eacb00000000, 0x0b1a7c6800000000,\n+    0x9e64b75700000000, 0xd24c21f400000000, 0xb499212800000000,\n+    0xf8b1b78b00000000, 0x6dcf7cb400000000, 0x21e7ea1700000000,\n+    0xe0630cd700000000, 0xac4b9a7400000000, 0x3935514b00000000,\n+    0x751dc7e800000000, 0x13c8c73400000000, 0x5fe0519700000000,\n+    0xca9e9aa800000000, 0x86b60c0b00000000, 0x95d7bf8100000000,\n+    0xd9ff292200000000, 0x4c81e21d00000000, 0x00a974be00000000,\n+    0x667c746200000000, 0x2a54e2c100000000, 0xbf2a29fe00000000,\n+    0xf302bf5d00000000, 0x3286599d00000000, 0x7eaecf3e00000000,\n+    0xebd0040100000000, 0xa7f892a200000000, 0xc12d927e00000000,\n+    0x8d0504dd00000000, 0x187bcfe200000000, 0x5453594100000000,\n+    0xdb7473b800000000, 0x975ce51b00000000, 0x02222e2400000000,\n+    0x4e0ab88700000000, 0x28dfb85b00000000, 0x64f72ef800000000,\n+    0xf189e5c700000000, 0xbda1736400000000, 0x7c2595a400000000,\n+    0x300d030700000000, 0xa573c83800000000, 0xe95b5e9b00000000,\n+    0x8f8e5e4700000000, 0xc3a6c8e400000000, 0x56d803db00000000,\n+    0x1af0957800000000},\n+   {0x0000000000000000, 0x939bc97f00000000, 0x263793ff00000000,\n+    0xb5ac5a8000000000, 0x0d68572400000000, 0x9ef39e5b00000000,\n+    0x2b5fc4db00000000, 0xb8c40da400000000, 0x1ad0ae4800000000,\n+    0x894b673700000000, 0x3ce73db700000000, 0xaf7cf4c800000000,\n+    0x17b8f96c00000000, 0x8423301300000000, 0x318f6a9300000000,\n+    0xa214a3ec00000000, 0x34a05d9100000000, 0xa73b94ee00000000,\n+    0x1297ce6e00000000, 0x810c071100000000, 0x39c80ab500000000,\n+    0xaa53c3ca00000000, 0x1fff994a00000000, 0x8c64503500000000,\n+    0x2e70f3d900000000, 0xbdeb3aa600000000, 0x0847602600000000,\n+    0x9bdca95900000000, 0x2318a4fd00000000, 0xb0836d8200000000,\n+    0x052f370200000000, 0x96b4fe7d00000000, 0x2946caf900000000,\n+    0xbadd038600000000, 0x0f71590600000000, 0x9cea907900000000,\n+    0x242e9ddd00000000, 0xb7b554a200000000, 0x02190e2200000000,\n+    0x9182c75d00000000, 0x339664b100000000, 0xa00dadce00000000,\n+    0x15a1f74e00000000, 0x863a3e3100000000, 0x3efe339500000000,\n+    0xad65faea00000000, 0x18c9a06a00000000, 0x8b52691500000000,\n+    0x1de6976800000000, 0x8e7d5e1700000000, 0x3bd1049700000000,\n+    0xa84acde800000000, 0x108ec04c00000000, 0x8315093300000000,\n+    0x36b953b300000000, 0xa5229acc00000000, 0x0736392000000000,\n+    0x94adf05f00000000, 0x2101aadf00000000, 0xb29a63a000000000,\n+    0x0a5e6e0400000000, 0x99c5a77b00000000, 0x2c69fdfb00000000,\n+    0xbff2348400000000, 0x138ae52800000000, 0x80112c5700000000,\n+    0x35bd76d700000000, 0xa626bfa800000000, 0x1ee2b20c00000000,\n+    0x8d797b7300000000, 0x38d521f300000000, 0xab4ee88c00000000,\n+    0x095a4b6000000000, 0x9ac1821f00000000, 0x2f6dd89f00000000,\n+    0xbcf611e000000000, 0x04321c4400000000, 0x97a9d53b00000000,\n+    0x22058fbb00000000, 0xb19e46c400000000, 0x272ab8b900000000,\n+    0xb4b171c600000000, 0x011d2b4600000000, 0x9286e23900000000,\n+    0x2a42ef9d00000000, 0xb9d926e200000000, 0x0c757c6200000000,\n+    0x9feeb51d00000000, 0x3dfa16f100000000, 0xae61df8e00000000,\n+    0x1bcd850e00000000, 0x88564c7100000000, 0x309241d500000000,\n+    0xa30988aa00000000, 0x16a5d22a00000000, 0x853e1b5500000000,\n+    0x3acc2fd100000000, 0xa957e6ae00000000, 0x1cfbbc2e00000000,\n+    0x8f60755100000000, 0x37a478f500000000, 0xa43fb18a00000000,\n+    0x1193eb0a00000000, 0x8208227500000000, 0x201c819900000000,\n+    0xb38748e600000000, 0x062b126600000000, 0x95b0db1900000000,\n+    0x2d74d6bd00000000, 0xbeef1fc200000000, 0x0b43454200000000,\n+    0x98d88c3d00000000, 0x0e6c724000000000, 0x9df7bb3f00000000,\n+    0x285be1bf00000000, 0xbbc028c000000000, 0x0304256400000000,\n+    0x909fec1b00000000, 0x2533b69b00000000, 0xb6a87fe400000000,\n+    0x14bcdc0800000000, 0x8727157700000000, 0x328b4ff700000000,\n+    0xa110868800000000, 0x19d48b2c00000000, 0x8a4f425300000000,\n+    0x3fe318d300000000, 0xac78d1ac00000000, 0x2614cb5100000000,\n+    0xb58f022e00000000, 0x002358ae00000000, 0x93b891d100000000,\n+    0x2b7c9c7500000000, 0xb8e7550a00000000, 0x0d4b0f8a00000000,\n+    0x9ed0c6f500000000, 0x3cc4651900000000, 0xaf5fac6600000000,\n+    0x1af3f6e600000000, 0x89683f9900000000, 0x31ac323d00000000,\n+    0xa237fb4200000000, 0x179ba1c200000000, 0x840068bd00000000,\n+    0x12b496c000000000, 0x812f5fbf00000000, 0x3483053f00000000,\n+    0xa718cc4000000000, 0x1fdcc1e400000000, 0x8c47089b00000000,\n+    0x39eb521b00000000, 0xaa709b6400000000, 0x0864388800000000,\n+    0x9bfff1f700000000, 0x2e53ab7700000000, 0xbdc8620800000000,\n+    0x050c6fac00000000, 0x9697a6d300000000, 0x233bfc5300000000,\n+    0xb0a0352c00000000, 0x0f5201a800000000, 0x9cc9c8d700000000,\n+    0x2965925700000000, 0xbafe5b2800000000, 0x023a568c00000000,\n+    0x91a19ff300000000, 0x240dc57300000000, 0xb7960c0c00000000,\n+    0x1582afe000000000, 0x8619669f00000000, 0x33b53c1f00000000,\n+    0xa02ef56000000000, 0x18eaf8c400000000, 0x8b7131bb00000000,\n+    0x3edd6b3b00000000, 0xad46a24400000000, 0x3bf25c3900000000,\n+    0xa869954600000000, 0x1dc5cfc600000000, 0x8e5e06b900000000,\n+    0x369a0b1d00000000, 0xa501c26200000000, 0x10ad98e200000000,\n+    0x8336519d00000000, 0x2122f27100000000, 0xb2b93b0e00000000,\n+    0x0715618e00000000, 0x948ea8f100000000, 0x2c4aa55500000000,\n+    0xbfd16c2a00000000, 0x0a7d36aa00000000, 0x99e6ffd500000000,\n+    0x359e2e7900000000, 0xa605e70600000000, 0x13a9bd8600000000,\n+    0x803274f900000000, 0x38f6795d00000000, 0xab6db02200000000,\n+    0x1ec1eaa200000000, 0x8d5a23dd00000000, 0x2f4e803100000000,\n+    0xbcd5494e00000000, 0x097913ce00000000, 0x9ae2dab100000000,\n+    0x2226d71500000000, 0xb1bd1e6a00000000, 0x041144ea00000000,\n+    0x978a8d9500000000, 0x013e73e800000000, 0x92a5ba9700000000,\n+    0x2709e01700000000, 0xb492296800000000, 0x0c5624cc00000000,\n+    0x9fcdedb300000000, 0x2a61b73300000000, 0xb9fa7e4c00000000,\n+    0x1beedda000000000, 0x887514df00000000, 0x3dd94e5f00000000,\n+    0xae42872000000000, 0x16868a8400000000, 0x851d43fb00000000,\n+    0x30b1197b00000000, 0xa32ad00400000000, 0x1cd8e48000000000,\n+    0x8f432dff00000000, 0x3aef777f00000000, 0xa974be0000000000,\n+    0x11b0b3a400000000, 0x822b7adb00000000, 0x3787205b00000000,\n+    0xa41ce92400000000, 0x06084ac800000000, 0x959383b700000000,\n+    0x203fd93700000000, 0xb3a4104800000000, 0x0b601dec00000000,\n+    0x98fbd49300000000, 0x2d578e1300000000, 0xbecc476c00000000,\n+    0x2878b91100000000, 0xbbe3706e00000000, 0x0e4f2aee00000000,\n+    0x9dd4e39100000000, 0x2510ee3500000000, 0xb68b274a00000000,\n+    0x03277dca00000000, 0x90bcb4b500000000, 0x32a8175900000000,\n+    0xa133de2600000000, 0x149f84a600000000, 0x87044dd900000000,\n+    0x3fc0407d00000000, 0xac5b890200000000, 0x19f7d38200000000,\n+    0x8a6c1afd00000000},\n+   {0x0000000000000000, 0x650b796900000000, 0xca16f2d200000000,\n+    0xaf1d8bbb00000000, 0xd52b957e00000000, 0xb020ec1700000000,\n+    0x1f3d67ac00000000, 0x7a361ec500000000, 0xaa572afd00000000,\n+    0xcf5c539400000000, 0x6041d82f00000000, 0x054aa14600000000,\n+    0x7f7cbf8300000000, 0x1a77c6ea00000000, 0xb56a4d5100000000,\n+    0xd061343800000000, 0x15a9252100000000, 0x70a25c4800000000,\n+    0xdfbfd7f300000000, 0xbab4ae9a00000000, 0xc082b05f00000000,\n+    0xa589c93600000000, 0x0a94428d00000000, 0x6f9f3be400000000,\n+    0xbffe0fdc00000000, 0xdaf576b500000000, 0x75e8fd0e00000000,\n+    0x10e3846700000000, 0x6ad59aa200000000, 0x0fdee3cb00000000,\n+    0xa0c3687000000000, 0xc5c8111900000000, 0x2a524b4200000000,\n+    0x4f59322b00000000, 0xe044b99000000000, 0x854fc0f900000000,\n+    0xff79de3c00000000, 0x9a72a75500000000, 0x356f2cee00000000,\n+    0x5064558700000000, 0x800561bf00000000, 0xe50e18d600000000,\n+    0x4a13936d00000000, 0x2f18ea0400000000, 0x552ef4c100000000,\n+    0x30258da800000000, 0x9f38061300000000, 0xfa337f7a00000000,\n+    0x3ffb6e6300000000, 0x5af0170a00000000, 0xf5ed9cb100000000,\n+    0x90e6e5d800000000, 0xead0fb1d00000000, 0x8fdb827400000000,\n+    0x20c609cf00000000, 0x45cd70a600000000, 0x95ac449e00000000,\n+    0xf0a73df700000000, 0x5fbab64c00000000, 0x3ab1cf2500000000,\n+    0x4087d1e000000000, 0x258ca88900000000, 0x8a91233200000000,\n+    0xef9a5a5b00000000, 0x54a4968400000000, 0x31afefed00000000,\n+    0x9eb2645600000000, 0xfbb91d3f00000000, 0x818f03fa00000000,\n+    0xe4847a9300000000, 0x4b99f12800000000, 0x2e92884100000000,\n+    0xfef3bc7900000000, 0x9bf8c51000000000, 0x34e54eab00000000,\n+    0x51ee37c200000000, 0x2bd8290700000000, 0x4ed3506e00000000,\n+    0xe1cedbd500000000, 0x84c5a2bc00000000, 0x410db3a500000000,\n+    0x2406cacc00000000, 0x8b1b417700000000, 0xee10381e00000000,\n+    0x942626db00000000, 0xf12d5fb200000000, 0x5e30d40900000000,\n+    0x3b3bad6000000000, 0xeb5a995800000000, 0x8e51e03100000000,\n+    0x214c6b8a00000000, 0x444712e300000000, 0x3e710c2600000000,\n+    0x5b7a754f00000000, 0xf467fef400000000, 0x916c879d00000000,\n+    0x7ef6ddc600000000, 0x1bfda4af00000000, 0xb4e02f1400000000,\n+    0xd1eb567d00000000, 0xabdd48b800000000, 0xced631d100000000,\n+    0x61cbba6a00000000, 0x04c0c30300000000, 0xd4a1f73b00000000,\n+    0xb1aa8e5200000000, 0x1eb705e900000000, 0x7bbc7c8000000000,\n+    0x018a624500000000, 0x64811b2c00000000, 0xcb9c909700000000,\n+    0xae97e9fe00000000, 0x6b5ff8e700000000, 0x0e54818e00000000,\n+    0xa1490a3500000000, 0xc442735c00000000, 0xbe746d9900000000,\n+    0xdb7f14f000000000, 0x74629f4b00000000, 0x1169e62200000000,\n+    0xc108d21a00000000, 0xa403ab7300000000, 0x0b1e20c800000000,\n+    0x6e1559a100000000, 0x1423476400000000, 0x71283e0d00000000,\n+    0xde35b5b600000000, 0xbb3eccdf00000000, 0xe94e5cd200000000,\n+    0x8c4525bb00000000, 0x2358ae0000000000, 0x4653d76900000000,\n+    0x3c65c9ac00000000, 0x596eb0c500000000, 0xf6733b7e00000000,\n+    0x9378421700000000, 0x4319762f00000000, 0x26120f4600000000,\n+    0x890f84fd00000000, 0xec04fd9400000000, 0x9632e35100000000,\n+    0xf3399a3800000000, 0x5c24118300000000, 0x392f68ea00000000,\n+    0xfce779f300000000, 0x99ec009a00000000, 0x36f18b2100000000,\n+    0x53faf24800000000, 0x29ccec8d00000000, 0x4cc795e400000000,\n+    0xe3da1e5f00000000, 0x86d1673600000000, 0x56b0530e00000000,\n+    0x33bb2a6700000000, 0x9ca6a1dc00000000, 0xf9add8b500000000,\n+    0x839bc67000000000, 0xe690bf1900000000, 0x498d34a200000000,\n+    0x2c864dcb00000000, 0xc31c179000000000, 0xa6176ef900000000,\n+    0x090ae54200000000, 0x6c019c2b00000000, 0x163782ee00000000,\n+    0x733cfb8700000000, 0xdc21703c00000000, 0xb92a095500000000,\n+    0x694b3d6d00000000, 0x0c40440400000000, 0xa35dcfbf00000000,\n+    0xc656b6d600000000, 0xbc60a81300000000, 0xd96bd17a00000000,\n+    0x76765ac100000000, 0x137d23a800000000, 0xd6b532b100000000,\n+    0xb3be4bd800000000, 0x1ca3c06300000000, 0x79a8b90a00000000,\n+    0x039ea7cf00000000, 0x6695dea600000000, 0xc988551d00000000,\n+    0xac832c7400000000, 0x7ce2184c00000000, 0x19e9612500000000,\n+    0xb6f4ea9e00000000, 0xd3ff93f700000000, 0xa9c98d3200000000,\n+    0xccc2f45b00000000, 0x63df7fe000000000, 0x06d4068900000000,\n+    0xbdeaca5600000000, 0xd8e1b33f00000000, 0x77fc388400000000,\n+    0x12f741ed00000000, 0x68c15f2800000000, 0x0dca264100000000,\n+    0xa2d7adfa00000000, 0xc7dcd49300000000, 0x17bde0ab00000000,\n+    0x72b699c200000000, 0xddab127900000000, 0xb8a06b1000000000,\n+    0xc29675d500000000, 0xa79d0cbc00000000, 0x0880870700000000,\n+    0x6d8bfe6e00000000, 0xa843ef7700000000, 0xcd48961e00000000,\n+    0x62551da500000000, 0x075e64cc00000000, 0x7d687a0900000000,\n+    0x1863036000000000, 0xb77e88db00000000, 0xd275f1b200000000,\n+    0x0214c58a00000000, 0x671fbce300000000, 0xc802375800000000,\n+    0xad094e3100000000, 0xd73f50f400000000, 0xb234299d00000000,\n+    0x1d29a22600000000, 0x7822db4f00000000, 0x97b8811400000000,\n+    0xf2b3f87d00000000, 0x5dae73c600000000, 0x38a50aaf00000000,\n+    0x4293146a00000000, 0x27986d0300000000, 0x8885e6b800000000,\n+    0xed8e9fd100000000, 0x3defabe900000000, 0x58e4d28000000000,\n+    0xf7f9593b00000000, 0x92f2205200000000, 0xe8c43e9700000000,\n+    0x8dcf47fe00000000, 0x22d2cc4500000000, 0x47d9b52c00000000,\n+    0x8211a43500000000, 0xe71add5c00000000, 0x480756e700000000,\n+    0x2d0c2f8e00000000, 0x573a314b00000000, 0x3231482200000000,\n+    0x9d2cc39900000000, 0xf827baf000000000, 0x28468ec800000000,\n+    0x4d4df7a100000000, 0xe2507c1a00000000, 0x875b057300000000,\n+    0xfd6d1bb600000000, 0x986662df00000000, 0x377be96400000000,\n+    0x5270900d00000000},\n+   {0x0000000000000000, 0xdcecb13d00000000, 0xb8d9637b00000000,\n+    0x6435d24600000000, 0x70b3c7f600000000, 0xac5f76cb00000000,\n+    0xc86aa48d00000000, 0x148615b000000000, 0xa160fe3600000000,\n+    0x7d8c4f0b00000000, 0x19b99d4d00000000, 0xc5552c7000000000,\n+    0xd1d339c000000000, 0x0d3f88fd00000000, 0x690a5abb00000000,\n+    0xb5e6eb8600000000, 0x42c1fc6d00000000, 0x9e2d4d5000000000,\n+    0xfa189f1600000000, 0x26f42e2b00000000, 0x32723b9b00000000,\n+    0xee9e8aa600000000, 0x8aab58e000000000, 0x5647e9dd00000000,\n+    0xe3a1025b00000000, 0x3f4db36600000000, 0x5b78612000000000,\n+    0x8794d01d00000000, 0x9312c5ad00000000, 0x4ffe749000000000,\n+    0x2bcba6d600000000, 0xf72717eb00000000, 0x8482f9db00000000,\n+    0x586e48e600000000, 0x3c5b9aa000000000, 0xe0b72b9d00000000,\n+    0xf4313e2d00000000, 0x28dd8f1000000000, 0x4ce85d5600000000,\n+    0x9004ec6b00000000, 0x25e207ed00000000, 0xf90eb6d000000000,\n+    0x9d3b649600000000, 0x41d7d5ab00000000, 0x5551c01b00000000,\n+    0x89bd712600000000, 0xed88a36000000000, 0x3164125d00000000,\n+    0xc64305b600000000, 0x1aafb48b00000000, 0x7e9a66cd00000000,\n+    0xa276d7f000000000, 0xb6f0c24000000000, 0x6a1c737d00000000,\n+    0x0e29a13b00000000, 0xd2c5100600000000, 0x6723fb8000000000,\n+    0xbbcf4abd00000000, 0xdffa98fb00000000, 0x031629c600000000,\n+    0x17903c7600000000, 0xcb7c8d4b00000000, 0xaf495f0d00000000,\n+    0x73a5ee3000000000, 0x4903826c00000000, 0x95ef335100000000,\n+    0xf1dae11700000000, 0x2d36502a00000000, 0x39b0459a00000000,\n+    0xe55cf4a700000000, 0x816926e100000000, 0x5d8597dc00000000,\n+    0xe8637c5a00000000, 0x348fcd6700000000, 0x50ba1f2100000000,\n+    0x8c56ae1c00000000, 0x98d0bbac00000000, 0x443c0a9100000000,\n+    0x2009d8d700000000, 0xfce569ea00000000, 0x0bc27e0100000000,\n+    0xd72ecf3c00000000, 0xb31b1d7a00000000, 0x6ff7ac4700000000,\n+    0x7b71b9f700000000, 0xa79d08ca00000000, 0xc3a8da8c00000000,\n+    0x1f446bb100000000, 0xaaa2803700000000, 0x764e310a00000000,\n+    0x127be34c00000000, 0xce97527100000000, 0xda1147c100000000,\n+    0x06fdf6fc00000000, 0x62c824ba00000000, 0xbe24958700000000,\n+    0xcd817bb700000000, 0x116dca8a00000000, 0x755818cc00000000,\n+    0xa9b4a9f100000000, 0xbd32bc4100000000, 0x61de0d7c00000000,\n+    0x05ebdf3a00000000, 0xd9076e0700000000, 0x6ce1858100000000,\n+    0xb00d34bc00000000, 0xd438e6fa00000000, 0x08d457c700000000,\n+    0x1c52427700000000, 0xc0bef34a00000000, 0xa48b210c00000000,\n+    0x7867903100000000, 0x8f4087da00000000, 0x53ac36e700000000,\n+    0x3799e4a100000000, 0xeb75559c00000000, 0xfff3402c00000000,\n+    0x231ff11100000000, 0x472a235700000000, 0x9bc6926a00000000,\n+    0x2e2079ec00000000, 0xf2ccc8d100000000, 0x96f91a9700000000,\n+    0x4a15abaa00000000, 0x5e93be1a00000000, 0x827f0f2700000000,\n+    0xe64add6100000000, 0x3aa66c5c00000000, 0x920604d900000000,\n+    0x4eeab5e400000000, 0x2adf67a200000000, 0xf633d69f00000000,\n+    0xe2b5c32f00000000, 0x3e59721200000000, 0x5a6ca05400000000,\n+    0x8680116900000000, 0x3366faef00000000, 0xef8a4bd200000000,\n+    0x8bbf999400000000, 0x575328a900000000, 0x43d53d1900000000,\n+    0x9f398c2400000000, 0xfb0c5e6200000000, 0x27e0ef5f00000000,\n+    0xd0c7f8b400000000, 0x0c2b498900000000, 0x681e9bcf00000000,\n+    0xb4f22af200000000, 0xa0743f4200000000, 0x7c988e7f00000000,\n+    0x18ad5c3900000000, 0xc441ed0400000000, 0x71a7068200000000,\n+    0xad4bb7bf00000000, 0xc97e65f900000000, 0x1592d4c400000000,\n+    0x0114c17400000000, 0xddf8704900000000, 0xb9cda20f00000000,\n+    0x6521133200000000, 0x1684fd0200000000, 0xca684c3f00000000,\n+    0xae5d9e7900000000, 0x72b12f4400000000, 0x66373af400000000,\n+    0xbadb8bc900000000, 0xdeee598f00000000, 0x0202e8b200000000,\n+    0xb7e4033400000000, 0x6b08b20900000000, 0x0f3d604f00000000,\n+    0xd3d1d17200000000, 0xc757c4c200000000, 0x1bbb75ff00000000,\n+    0x7f8ea7b900000000, 0xa362168400000000, 0x5445016f00000000,\n+    0x88a9b05200000000, 0xec9c621400000000, 0x3070d32900000000,\n+    0x24f6c69900000000, 0xf81a77a400000000, 0x9c2fa5e200000000,\n+    0x40c314df00000000, 0xf525ff5900000000, 0x29c94e6400000000,\n+    0x4dfc9c2200000000, 0x91102d1f00000000, 0x859638af00000000,\n+    0x597a899200000000, 0x3d4f5bd400000000, 0xe1a3eae900000000,\n+    0xdb0586b500000000, 0x07e9378800000000, 0x63dce5ce00000000,\n+    0xbf3054f300000000, 0xabb6414300000000, 0x775af07e00000000,\n+    0x136f223800000000, 0xcf83930500000000, 0x7a65788300000000,\n+    0xa689c9be00000000, 0xc2bc1bf800000000, 0x1e50aac500000000,\n+    0x0ad6bf7500000000, 0xd63a0e4800000000, 0xb20fdc0e00000000,\n+    0x6ee36d3300000000, 0x99c47ad800000000, 0x4528cbe500000000,\n+    0x211d19a300000000, 0xfdf1a89e00000000, 0xe977bd2e00000000,\n+    0x359b0c1300000000, 0x51aede5500000000, 0x8d426f6800000000,\n+    0x38a484ee00000000, 0xe44835d300000000, 0x807de79500000000,\n+    0x5c9156a800000000, 0x4817431800000000, 0x94fbf22500000000,\n+    0xf0ce206300000000, 0x2c22915e00000000, 0x5f877f6e00000000,\n+    0x836bce5300000000, 0xe75e1c1500000000, 0x3bb2ad2800000000,\n+    0x2f34b89800000000, 0xf3d809a500000000, 0x97eddbe300000000,\n+    0x4b016ade00000000, 0xfee7815800000000, 0x220b306500000000,\n+    0x463ee22300000000, 0x9ad2531e00000000, 0x8e5446ae00000000,\n+    0x52b8f79300000000, 0x368d25d500000000, 0xea6194e800000000,\n+    0x1d46830300000000, 0xc1aa323e00000000, 0xa59fe07800000000,\n+    0x7973514500000000, 0x6df544f500000000, 0xb119f5c800000000,\n+    0xd52c278e00000000, 0x09c096b300000000, 0xbc267d3500000000,\n+    0x60cacc0800000000, 0x04ff1e4e00000000, 0xd813af7300000000,\n+    0xcc95bac300000000, 0x10790bfe00000000, 0x744cd9b800000000,\n+    0xa8a0688500000000}};\n+\n+#else \/* W == 4 *\/\n+\n+local const z_crc_t FAR crc_braid_table[][256] = {\n+   {0x00000000, 0x81256527, 0xd93bcc0f, 0x581ea928, 0x69069e5f,\n+    0xe823fb78, 0xb03d5250, 0x31183777, 0xd20d3cbe, 0x53285999,\n+    0x0b36f0b1, 0x8a139596, 0xbb0ba2e1, 0x3a2ec7c6, 0x62306eee,\n+    0xe3150bc9, 0x7f6b7f3d, 0xfe4e1a1a, 0xa650b332, 0x2775d615,\n+    0x166de162, 0x97488445, 0xcf562d6d, 0x4e73484a, 0xad664383,\n+    0x2c4326a4, 0x745d8f8c, 0xf578eaab, 0xc460dddc, 0x4545b8fb,\n+    0x1d5b11d3, 0x9c7e74f4, 0xfed6fe7a, 0x7ff39b5d, 0x27ed3275,\n+    0xa6c85752, 0x97d06025, 0x16f50502, 0x4eebac2a, 0xcfcec90d,\n+    0x2cdbc2c4, 0xadfea7e3, 0xf5e00ecb, 0x74c56bec, 0x45dd5c9b,\n+    0xc4f839bc, 0x9ce69094, 0x1dc3f5b3, 0x81bd8147, 0x0098e460,\n+    0x58864d48, 0xd9a3286f, 0xe8bb1f18, 0x699e7a3f, 0x3180d317,\n+    0xb0a5b630, 0x53b0bdf9, 0xd295d8de, 0x8a8b71f6, 0x0bae14d1,\n+    0x3ab623a6, 0xbb934681, 0xe38defa9, 0x62a88a8e, 0x26dcfab5,\n+    0xa7f99f92, 0xffe736ba, 0x7ec2539d, 0x4fda64ea, 0xceff01cd,\n+    0x96e1a8e5, 0x17c4cdc2, 0xf4d1c60b, 0x75f4a32c, 0x2dea0a04,\n+    0xaccf6f23, 0x9dd75854, 0x1cf23d73, 0x44ec945b, 0xc5c9f17c,\n+    0x59b78588, 0xd892e0af, 0x808c4987, 0x01a92ca0, 0x30b11bd7,\n+    0xb1947ef0, 0xe98ad7d8, 0x68afb2ff, 0x8bbab936, 0x0a9fdc11,\n+    0x52817539, 0xd3a4101e, 0xe2bc2769, 0x6399424e, 0x3b87eb66,\n+    0xbaa28e41, 0xd80a04cf, 0x592f61e8, 0x0131c8c0, 0x8014ade7,\n+    0xb10c9a90, 0x3029ffb7, 0x6837569f, 0xe91233b8, 0x0a073871,\n+    0x8b225d56, 0xd33cf47e, 0x52199159, 0x6301a62e, 0xe224c309,\n+    0xba3a6a21, 0x3b1f0f06, 0xa7617bf2, 0x26441ed5, 0x7e5ab7fd,\n+    0xff7fd2da, 0xce67e5ad, 0x4f42808a, 0x175c29a2, 0x96794c85,\n+    0x756c474c, 0xf449226b, 0xac578b43, 0x2d72ee64, 0x1c6ad913,\n+    0x9d4fbc34, 0xc551151c, 0x4474703b, 0x4db9f56a, 0xcc9c904d,\n+    0x94823965, 0x15a75c42, 0x24bf6b35, 0xa59a0e12, 0xfd84a73a,\n+    0x7ca1c21d, 0x9fb4c9d4, 0x1e91acf3, 0x468f05db, 0xc7aa60fc,\n+    0xf6b2578b, 0x779732ac, 0x2f899b84, 0xaeacfea3, 0x32d28a57,\n+    0xb3f7ef70, 0xebe94658, 0x6acc237f, 0x5bd41408, 0xdaf1712f,\n+    0x82efd807, 0x03cabd20, 0xe0dfb6e9, 0x61fad3ce, 0x39e47ae6,\n+    0xb8c11fc1, 0x89d928b6, 0x08fc4d91, 0x50e2e4b9, 0xd1c7819e,\n+    0xb36f0b10, 0x324a6e37, 0x6a54c71f, 0xeb71a238, 0xda69954f,\n+    0x5b4cf068, 0x03525940, 0x82773c67, 0x616237ae, 0xe0475289,\n+    0xb859fba1, 0x397c9e86, 0x0864a9f1, 0x8941ccd6, 0xd15f65fe,\n+    0x507a00d9, 0xcc04742d, 0x4d21110a, 0x153fb822, 0x941add05,\n+    0xa502ea72, 0x24278f55, 0x7c39267d, 0xfd1c435a, 0x1e094893,\n+    0x9f2c2db4, 0xc732849c, 0x4617e1bb, 0x770fd6cc, 0xf62ab3eb,\n+    0xae341ac3, 0x2f117fe4, 0x6b650fdf, 0xea406af8, 0xb25ec3d0,\n+    0x337ba6f7, 0x02639180, 0x8346f4a7, 0xdb585d8f, 0x5a7d38a8,\n+    0xb9683361, 0x384d5646, 0x6053ff6e, 0xe1769a49, 0xd06ead3e,\n+    0x514bc819, 0x09556131, 0x88700416, 0x140e70e2, 0x952b15c5,\n+    0xcd35bced, 0x4c10d9ca, 0x7d08eebd, 0xfc2d8b9a, 0xa43322b2,\n+    0x25164795, 0xc6034c5c, 0x4726297b, 0x1f388053, 0x9e1de574,\n+    0xaf05d203, 0x2e20b724, 0x763e1e0c, 0xf71b7b2b, 0x95b3f1a5,\n+    0x14969482, 0x4c883daa, 0xcdad588d, 0xfcb56ffa, 0x7d900add,\n+    0x258ea3f5, 0xa4abc6d2, 0x47becd1b, 0xc69ba83c, 0x9e850114,\n+    0x1fa06433, 0x2eb85344, 0xaf9d3663, 0xf7839f4b, 0x76a6fa6c,\n+    0xead88e98, 0x6bfdebbf, 0x33e34297, 0xb2c627b0, 0x83de10c7,\n+    0x02fb75e0, 0x5ae5dcc8, 0xdbc0b9ef, 0x38d5b226, 0xb9f0d701,\n+    0xe1ee7e29, 0x60cb1b0e, 0x51d32c79, 0xd0f6495e, 0x88e8e076,\n+    0x09cd8551},\n+   {0x00000000, 0x9b73ead4, 0xed96d3e9, 0x76e5393d, 0x005ca193,\n+    0x9b2f4b47, 0xedca727a, 0x76b998ae, 0x00b94326, 0x9bcaa9f2,\n+    0xed2f90cf, 0x765c7a1b, 0x00e5e2b5, 0x9b960861, 0xed73315c,\n+    0x7600db88, 0x0172864c, 0x9a016c98, 0xece455a5, 0x7797bf71,\n+    0x012e27df, 0x9a5dcd0b, 0xecb8f436, 0x77cb1ee2, 0x01cbc56a,\n+    0x9ab82fbe, 0xec5d1683, 0x772efc57, 0x019764f9, 0x9ae48e2d,\n+    0xec01b710, 0x77725dc4, 0x02e50c98, 0x9996e64c, 0xef73df71,\n+    0x740035a5, 0x02b9ad0b, 0x99ca47df, 0xef2f7ee2, 0x745c9436,\n+    0x025c4fbe, 0x992fa56a, 0xefca9c57, 0x74b97683, 0x0200ee2d,\n+    0x997304f9, 0xef963dc4, 0x74e5d710, 0x03978ad4, 0x98e46000,\n+    0xee01593d, 0x7572b3e9, 0x03cb2b47, 0x98b8c193, 0xee5df8ae,\n+    0x752e127a, 0x032ec9f2, 0x985d2326, 0xeeb81a1b, 0x75cbf0cf,\n+    0x03726861, 0x980182b5, 0xeee4bb88, 0x7597515c, 0x05ca1930,\n+    0x9eb9f3e4, 0xe85ccad9, 0x732f200d, 0x0596b8a3, 0x9ee55277,\n+    0xe8006b4a, 0x7373819e, 0x05735a16, 0x9e00b0c2, 0xe8e589ff,\n+    0x7396632b, 0x052ffb85, 0x9e5c1151, 0xe8b9286c, 0x73cac2b8,\n+    0x04b89f7c, 0x9fcb75a8, 0xe92e4c95, 0x725da641, 0x04e43eef,\n+    0x9f97d43b, 0xe972ed06, 0x720107d2, 0x0401dc5a, 0x9f72368e,\n+    0xe9970fb3, 0x72e4e567, 0x045d7dc9, 0x9f2e971d, 0xe9cbae20,\n+    0x72b844f4, 0x072f15a8, 0x9c5cff7c, 0xeab9c641, 0x71ca2c95,\n+    0x0773b43b, 0x9c005eef, 0xeae567d2, 0x71968d06, 0x0796568e,\n+    0x9ce5bc5a, 0xea008567, 0x71736fb3, 0x07caf71d, 0x9cb91dc9,\n+    0xea5c24f4, 0x712fce20, 0x065d93e4, 0x9d2e7930, 0xebcb400d,\n+    0x70b8aad9, 0x06013277, 0x9d72d8a3, 0xeb97e19e, 0x70e40b4a,\n+    0x06e4d0c2, 0x9d973a16, 0xeb72032b, 0x7001e9ff, 0x06b87151,\n+    0x9dcb9b85, 0xeb2ea2b8, 0x705d486c, 0x0b943260, 0x90e7d8b4,\n+    0xe602e189, 0x7d710b5d, 0x0bc893f3, 0x90bb7927, 0xe65e401a,\n+    0x7d2daace, 0x0b2d7146, 0x905e9b92, 0xe6bba2af, 0x7dc8487b,\n+    0x0b71d0d5, 0x90023a01, 0xe6e7033c, 0x7d94e9e8, 0x0ae6b42c,\n+    0x91955ef8, 0xe77067c5, 0x7c038d11, 0x0aba15bf, 0x91c9ff6b,\n+    0xe72cc656, 0x7c5f2c82, 0x0a5ff70a, 0x912c1dde, 0xe7c924e3,\n+    0x7cbace37, 0x0a035699, 0x9170bc4d, 0xe7958570, 0x7ce66fa4,\n+    0x09713ef8, 0x9202d42c, 0xe4e7ed11, 0x7f9407c5, 0x092d9f6b,\n+    0x925e75bf, 0xe4bb4c82, 0x7fc8a656, 0x09c87dde, 0x92bb970a,\n+    0xe45eae37, 0x7f2d44e3, 0x0994dc4d, 0x92e73699, 0xe4020fa4,\n+    0x7f71e570, 0x0803b8b4, 0x93705260, 0xe5956b5d, 0x7ee68189,\n+    0x085f1927, 0x932cf3f3, 0xe5c9cace, 0x7eba201a, 0x08bafb92,\n+    0x93c91146, 0xe52c287b, 0x7e5fc2af, 0x08e65a01, 0x9395b0d5,\n+    0xe57089e8, 0x7e03633c, 0x0e5e2b50, 0x952dc184, 0xe3c8f8b9,\n+    0x78bb126d, 0x0e028ac3, 0x95716017, 0xe394592a, 0x78e7b3fe,\n+    0x0ee76876, 0x959482a2, 0xe371bb9f, 0x7802514b, 0x0ebbc9e5,\n+    0x95c82331, 0xe32d1a0c, 0x785ef0d8, 0x0f2cad1c, 0x945f47c8,\n+    0xe2ba7ef5, 0x79c99421, 0x0f700c8f, 0x9403e65b, 0xe2e6df66,\n+    0x799535b2, 0x0f95ee3a, 0x94e604ee, 0xe2033dd3, 0x7970d707,\n+    0x0fc94fa9, 0x94baa57d, 0xe25f9c40, 0x792c7694, 0x0cbb27c8,\n+    0x97c8cd1c, 0xe12df421, 0x7a5e1ef5, 0x0ce7865b, 0x97946c8f,\n+    0xe17155b2, 0x7a02bf66, 0x0c0264ee, 0x97718e3a, 0xe194b707,\n+    0x7ae75dd3, 0x0c5ec57d, 0x972d2fa9, 0xe1c81694, 0x7abbfc40,\n+    0x0dc9a184, 0x96ba4b50, 0xe05f726d, 0x7b2c98b9, 0x0d950017,\n+    0x96e6eac3, 0xe003d3fe, 0x7b70392a, 0x0d70e2a2, 0x96030876,\n+    0xe0e6314b, 0x7b95db9f, 0x0d2c4331, 0x965fa9e5, 0xe0ba90d8,\n+    0x7bc97a0c},\n+   {0x00000000, 0x172864c0, 0x2e50c980, 0x3978ad40, 0x5ca19300,\n+    0x4b89f7c0, 0x72f15a80, 0x65d93e40, 0xb9432600, 0xae6b42c0,\n+    0x9713ef80, 0x803b8b40, 0xe5e2b500, 0xf2cad1c0, 0xcbb27c80,\n+    0xdc9a1840, 0xa9f74a41, 0xbedf2e81, 0x87a783c1, 0x908fe701,\n+    0xf556d941, 0xe27ebd81, 0xdb0610c1, 0xcc2e7401, 0x10b46c41,\n+    0x079c0881, 0x3ee4a5c1, 0x29ccc101, 0x4c15ff41, 0x5b3d9b81,\n+    0x624536c1, 0x756d5201, 0x889f92c3, 0x9fb7f603, 0xa6cf5b43,\n+    0xb1e73f83, 0xd43e01c3, 0xc3166503, 0xfa6ec843, 0xed46ac83,\n+    0x31dcb4c3, 0x26f4d003, 0x1f8c7d43, 0x08a41983, 0x6d7d27c3,\n+    0x7a554303, 0x432dee43, 0x54058a83, 0x2168d882, 0x3640bc42,\n+    0x0f381102, 0x181075c2, 0x7dc94b82, 0x6ae12f42, 0x53998202,\n+    0x44b1e6c2, 0x982bfe82, 0x8f039a42, 0xb67b3702, 0xa15353c2,\n+    0xc48a6d82, 0xd3a20942, 0xeadaa402, 0xfdf2c0c2, 0xca4e23c7,\n+    0xdd664707, 0xe41eea47, 0xf3368e87, 0x96efb0c7, 0x81c7d407,\n+    0xb8bf7947, 0xaf971d87, 0x730d05c7, 0x64256107, 0x5d5dcc47,\n+    0x4a75a887, 0x2fac96c7, 0x3884f207, 0x01fc5f47, 0x16d43b87,\n+    0x63b96986, 0x74910d46, 0x4de9a006, 0x5ac1c4c6, 0x3f18fa86,\n+    0x28309e46, 0x11483306, 0x066057c6, 0xdafa4f86, 0xcdd22b46,\n+    0xf4aa8606, 0xe382e2c6, 0x865bdc86, 0x9173b846, 0xa80b1506,\n+    0xbf2371c6, 0x42d1b104, 0x55f9d5c4, 0x6c817884, 0x7ba91c44,\n+    0x1e702204, 0x095846c4, 0x3020eb84, 0x27088f44, 0xfb929704,\n+    0xecbaf3c4, 0xd5c25e84, 0xc2ea3a44, 0xa7330404, 0xb01b60c4,\n+    0x8963cd84, 0x9e4ba944, 0xeb26fb45, 0xfc0e9f85, 0xc57632c5,\n+    0xd25e5605, 0xb7876845, 0xa0af0c85, 0x99d7a1c5, 0x8effc505,\n+    0x5265dd45, 0x454db985, 0x7c3514c5, 0x6b1d7005, 0x0ec44e45,\n+    0x19ec2a85, 0x209487c5, 0x37bce305, 0x4fed41cf, 0x58c5250f,\n+    0x61bd884f, 0x7695ec8f, 0x134cd2cf, 0x0464b60f, 0x3d1c1b4f,\n+    0x2a347f8f, 0xf6ae67cf, 0xe186030f, 0xd8feae4f, 0xcfd6ca8f,\n+    0xaa0ff4cf, 0xbd27900f, 0x845f3d4f, 0x9377598f, 0xe61a0b8e,\n+    0xf1326f4e, 0xc84ac20e, 0xdf62a6ce, 0xbabb988e, 0xad93fc4e,\n+    0x94eb510e, 0x83c335ce, 0x5f592d8e, 0x4871494e, 0x7109e40e,\n+    0x662180ce, 0x03f8be8e, 0x14d0da4e, 0x2da8770e, 0x3a8013ce,\n+    0xc772d30c, 0xd05ab7cc, 0xe9221a8c, 0xfe0a7e4c, 0x9bd3400c,\n+    0x8cfb24cc, 0xb583898c, 0xa2abed4c, 0x7e31f50c, 0x691991cc,\n+    0x50613c8c, 0x4749584c, 0x2290660c, 0x35b802cc, 0x0cc0af8c,\n+    0x1be8cb4c, 0x6e85994d, 0x79adfd8d, 0x40d550cd, 0x57fd340d,\n+    0x32240a4d, 0x250c6e8d, 0x1c74c3cd, 0x0b5ca70d, 0xd7c6bf4d,\n+    0xc0eedb8d, 0xf99676cd, 0xeebe120d, 0x8b672c4d, 0x9c4f488d,\n+    0xa537e5cd, 0xb21f810d, 0x85a36208, 0x928b06c8, 0xabf3ab88,\n+    0xbcdbcf48, 0xd902f108, 0xce2a95c8, 0xf7523888, 0xe07a5c48,\n+    0x3ce04408, 0x2bc820c8, 0x12b08d88, 0x0598e948, 0x6041d708,\n+    0x7769b3c8, 0x4e111e88, 0x59397a48, 0x2c542849, 0x3b7c4c89,\n+    0x0204e1c9, 0x152c8509, 0x70f5bb49, 0x67dddf89, 0x5ea572c9,\n+    0x498d1609, 0x95170e49, 0x823f6a89, 0xbb47c7c9, 0xac6fa309,\n+    0xc9b69d49, 0xde9ef989, 0xe7e654c9, 0xf0ce3009, 0x0d3cf0cb,\n+    0x1a14940b, 0x236c394b, 0x34445d8b, 0x519d63cb, 0x46b5070b,\n+    0x7fcdaa4b, 0x68e5ce8b, 0xb47fd6cb, 0xa357b20b, 0x9a2f1f4b,\n+    0x8d077b8b, 0xe8de45cb, 0xfff6210b, 0xc68e8c4b, 0xd1a6e88b,\n+    0xa4cbba8a, 0xb3e3de4a, 0x8a9b730a, 0x9db317ca, 0xf86a298a,\n+    0xef424d4a, 0xd63ae00a, 0xc11284ca, 0x1d889c8a, 0x0aa0f84a,\n+    0x33d8550a, 0x24f031ca, 0x41290f8a, 0x56016b4a, 0x6f79c60a,\n+    0x7851a2ca},\n+   {0x00000000, 0x9fda839e, 0xe4c4017d, 0x7b1e82e3, 0x12f904bb,\n+    0x8d238725, 0xf63d05c6, 0x69e78658, 0x25f20976, 0xba288ae8,\n+    0xc136080b, 0x5eec8b95, 0x370b0dcd, 0xa8d18e53, 0xd3cf0cb0,\n+    0x4c158f2e, 0x4be412ec, 0xd43e9172, 0xaf201391, 0x30fa900f,\n+    0x591d1657, 0xc6c795c9, 0xbdd9172a, 0x220394b4, 0x6e161b9a,\n+    0xf1cc9804, 0x8ad21ae7, 0x15089979, 0x7cef1f21, 0xe3359cbf,\n+    0x982b1e5c, 0x07f19dc2, 0x97c825d8, 0x0812a646, 0x730c24a5,\n+    0xecd6a73b, 0x85312163, 0x1aeba2fd, 0x61f5201e, 0xfe2fa380,\n+    0xb23a2cae, 0x2de0af30, 0x56fe2dd3, 0xc924ae4d, 0xa0c32815,\n+    0x3f19ab8b, 0x44072968, 0xdbddaaf6, 0xdc2c3734, 0x43f6b4aa,\n+    0x38e83649, 0xa732b5d7, 0xced5338f, 0x510fb011, 0x2a1132f2,\n+    0xb5cbb16c, 0xf9de3e42, 0x6604bddc, 0x1d1a3f3f, 0x82c0bca1,\n+    0xeb273af9, 0x74fdb967, 0x0fe33b84, 0x9039b81a, 0xf4e14df1,\n+    0x6b3bce6f, 0x10254c8c, 0x8fffcf12, 0xe618494a, 0x79c2cad4,\n+    0x02dc4837, 0x9d06cba9, 0xd1134487, 0x4ec9c719, 0x35d745fa,\n+    0xaa0dc664, 0xc3ea403c, 0x5c30c3a2, 0x272e4141, 0xb8f4c2df,\n+    0xbf055f1d, 0x20dfdc83, 0x5bc15e60, 0xc41bddfe, 0xadfc5ba6,\n+    0x3226d838, 0x49385adb, 0xd6e2d945, 0x9af7566b, 0x052dd5f5,\n+    0x7e335716, 0xe1e9d488, 0x880e52d0, 0x17d4d14e, 0x6cca53ad,\n+    0xf310d033, 0x63296829, 0xfcf3ebb7, 0x87ed6954, 0x1837eaca,\n+    0x71d06c92, 0xee0aef0c, 0x95146def, 0x0aceee71, 0x46db615f,\n+    0xd901e2c1, 0xa21f6022, 0x3dc5e3bc, 0x542265e4, 0xcbf8e67a,\n+    0xb0e66499, 0x2f3ce707, 0x28cd7ac5, 0xb717f95b, 0xcc097bb8,\n+    0x53d3f826, 0x3a347e7e, 0xa5eefde0, 0xdef07f03, 0x412afc9d,\n+    0x0d3f73b3, 0x92e5f02d, 0xe9fb72ce, 0x7621f150, 0x1fc67708,\n+    0x801cf496, 0xfb027675, 0x64d8f5eb, 0x32b39da3, 0xad691e3d,\n+    0xd6779cde, 0x49ad1f40, 0x204a9918, 0xbf901a86, 0xc48e9865,\n+    0x5b541bfb, 0x174194d5, 0x889b174b, 0xf38595a8, 0x6c5f1636,\n+    0x05b8906e, 0x9a6213f0, 0xe17c9113, 0x7ea6128d, 0x79578f4f,\n+    0xe68d0cd1, 0x9d938e32, 0x02490dac, 0x6bae8bf4, 0xf474086a,\n+    0x8f6a8a89, 0x10b00917, 0x5ca58639, 0xc37f05a7, 0xb8618744,\n+    0x27bb04da, 0x4e5c8282, 0xd186011c, 0xaa9883ff, 0x35420061,\n+    0xa57bb87b, 0x3aa13be5, 0x41bfb906, 0xde653a98, 0xb782bcc0,\n+    0x28583f5e, 0x5346bdbd, 0xcc9c3e23, 0x8089b10d, 0x1f533293,\n+    0x644db070, 0xfb9733ee, 0x9270b5b6, 0x0daa3628, 0x76b4b4cb,\n+    0xe96e3755, 0xee9faa97, 0x71452909, 0x0a5babea, 0x95812874,\n+    0xfc66ae2c, 0x63bc2db2, 0x18a2af51, 0x87782ccf, 0xcb6da3e1,\n+    0x54b7207f, 0x2fa9a29c, 0xb0732102, 0xd994a75a, 0x464e24c4,\n+    0x3d50a627, 0xa28a25b9, 0xc652d052, 0x598853cc, 0x2296d12f,\n+    0xbd4c52b1, 0xd4abd4e9, 0x4b715777, 0x306fd594, 0xafb5560a,\n+    0xe3a0d924, 0x7c7a5aba, 0x0764d859, 0x98be5bc7, 0xf159dd9f,\n+    0x6e835e01, 0x159ddce2, 0x8a475f7c, 0x8db6c2be, 0x126c4120,\n+    0x6972c3c3, 0xf6a8405d, 0x9f4fc605, 0x0095459b, 0x7b8bc778,\n+    0xe45144e6, 0xa844cbc8, 0x379e4856, 0x4c80cab5, 0xd35a492b,\n+    0xbabdcf73, 0x25674ced, 0x5e79ce0e, 0xc1a34d90, 0x519af58a,\n+    0xce407614, 0xb55ef4f7, 0x2a847769, 0x4363f131, 0xdcb972af,\n+    0xa7a7f04c, 0x387d73d2, 0x7468fcfc, 0xebb27f62, 0x90acfd81,\n+    0x0f767e1f, 0x6691f847, 0xf94b7bd9, 0x8255f93a, 0x1d8f7aa4,\n+    0x1a7ee766, 0x85a464f8, 0xfebae61b, 0x61606585, 0x0887e3dd,\n+    0x975d6043, 0xec43e2a0, 0x7399613e, 0x3f8cee10, 0xa0566d8e,\n+    0xdb48ef6d, 0x44926cf3, 0x2d75eaab, 0xb2af6935, 0xc9b1ebd6,\n+    0x566b6848}};\n+\n+local const z_word_t FAR crc_braid_big_table[][256] = {\n+   {0x00000000, 0x9e83da9f, 0x7d01c4e4, 0xe3821e7b, 0xbb04f912,\n+    0x2587238d, 0xc6053df6, 0x5886e769, 0x7609f225, 0xe88a28ba,\n+    0x0b0836c1, 0x958bec5e, 0xcd0d0b37, 0x538ed1a8, 0xb00ccfd3,\n+    0x2e8f154c, 0xec12e44b, 0x72913ed4, 0x911320af, 0x0f90fa30,\n+    0x57161d59, 0xc995c7c6, 0x2a17d9bd, 0xb4940322, 0x9a1b166e,\n+    0x0498ccf1, 0xe71ad28a, 0x79990815, 0x211fef7c, 0xbf9c35e3,\n+    0x5c1e2b98, 0xc29df107, 0xd825c897, 0x46a61208, 0xa5240c73,\n+    0x3ba7d6ec, 0x63213185, 0xfda2eb1a, 0x1e20f561, 0x80a32ffe,\n+    0xae2c3ab2, 0x30afe02d, 0xd32dfe56, 0x4dae24c9, 0x1528c3a0,\n+    0x8bab193f, 0x68290744, 0xf6aadddb, 0x34372cdc, 0xaab4f643,\n+    0x4936e838, 0xd7b532a7, 0x8f33d5ce, 0x11b00f51, 0xf232112a,\n+    0x6cb1cbb5, 0x423edef9, 0xdcbd0466, 0x3f3f1a1d, 0xa1bcc082,\n+    0xf93a27eb, 0x67b9fd74, 0x843be30f, 0x1ab83990, 0xf14de1f4,\n+    0x6fce3b6b, 0x8c4c2510, 0x12cfff8f, 0x4a4918e6, 0xd4cac279,\n+    0x3748dc02, 0xa9cb069d, 0x874413d1, 0x19c7c94e, 0xfa45d735,\n+    0x64c60daa, 0x3c40eac3, 0xa2c3305c, 0x41412e27, 0xdfc2f4b8,\n+    0x1d5f05bf, 0x83dcdf20, 0x605ec15b, 0xfedd1bc4, 0xa65bfcad,\n+    0x38d82632, 0xdb5a3849, 0x45d9e2d6, 0x6b56f79a, 0xf5d52d05,\n+    0x1657337e, 0x88d4e9e1, 0xd0520e88, 0x4ed1d417, 0xad53ca6c,\n+    0x33d010f3, 0x29682963, 0xb7ebf3fc, 0x5469ed87, 0xcaea3718,\n+    0x926cd071, 0x0cef0aee, 0xef6d1495, 0x71eece0a, 0x5f61db46,\n+    0xc1e201d9, 0x22601fa2, 0xbce3c53d, 0xe4652254, 0x7ae6f8cb,\n+    0x9964e6b0, 0x07e73c2f, 0xc57acd28, 0x5bf917b7, 0xb87b09cc,\n+    0x26f8d353, 0x7e7e343a, 0xe0fdeea5, 0x037ff0de, 0x9dfc2a41,\n+    0xb3733f0d, 0x2df0e592, 0xce72fbe9, 0x50f12176, 0x0877c61f,\n+    0x96f41c80, 0x757602fb, 0xebf5d864, 0xa39db332, 0x3d1e69ad,\n+    0xde9c77d6, 0x401fad49, 0x18994a20, 0x861a90bf, 0x65988ec4,\n+    0xfb1b545b, 0xd5944117, 0x4b179b88, 0xa89585f3, 0x36165f6c,\n+    0x6e90b805, 0xf013629a, 0x13917ce1, 0x8d12a67e, 0x4f8f5779,\n+    0xd10c8de6, 0x328e939d, 0xac0d4902, 0xf48bae6b, 0x6a0874f4,\n+    0x898a6a8f, 0x1709b010, 0x3986a55c, 0xa7057fc3, 0x448761b8,\n+    0xda04bb27, 0x82825c4e, 0x1c0186d1, 0xff8398aa, 0x61004235,\n+    0x7bb87ba5, 0xe53ba13a, 0x06b9bf41, 0x983a65de, 0xc0bc82b7,\n+    0x5e3f5828, 0xbdbd4653, 0x233e9ccc, 0x0db18980, 0x9332531f,\n+    0x70b04d64, 0xee3397fb, 0xb6b57092, 0x2836aa0d, 0xcbb4b476,\n+    0x55376ee9, 0x97aa9fee, 0x09294571, 0xeaab5b0a, 0x74288195,\n+    0x2cae66fc, 0xb22dbc63, 0x51afa218, 0xcf2c7887, 0xe1a36dcb,\n+    0x7f20b754, 0x9ca2a92f, 0x022173b0, 0x5aa794d9, 0xc4244e46,\n+    0x27a6503d, 0xb9258aa2, 0x52d052c6, 0xcc538859, 0x2fd19622,\n+    0xb1524cbd, 0xe9d4abd4, 0x7757714b, 0x94d56f30, 0x0a56b5af,\n+    0x24d9a0e3, 0xba5a7a7c, 0x59d86407, 0xc75bbe98, 0x9fdd59f1,\n+    0x015e836e, 0xe2dc9d15, 0x7c5f478a, 0xbec2b68d, 0x20416c12,\n+    0xc3c37269, 0x5d40a8f6, 0x05c64f9f, 0x9b459500, 0x78c78b7b,\n+    0xe64451e4, 0xc8cb44a8, 0x56489e37, 0xb5ca804c, 0x2b495ad3,\n+    0x73cfbdba, 0xed4c6725, 0x0ece795e, 0x904da3c1, 0x8af59a51,\n+    0x147640ce, 0xf7f45eb5, 0x6977842a, 0x31f16343, 0xaf72b9dc,\n+    0x4cf0a7a7, 0xd2737d38, 0xfcfc6874, 0x627fb2eb, 0x81fdac90,\n+    0x1f7e760f, 0x47f89166, 0xd97b4bf9, 0x3af95582, 0xa47a8f1d,\n+    0x66e77e1a, 0xf864a485, 0x1be6bafe, 0x85656061, 0xdde38708,\n+    0x43605d97, 0xa0e243ec, 0x3e619973, 0x10ee8c3f, 0x8e6d56a0,\n+    0x6def48db, 0xf36c9244, 0xabea752d, 0x3569afb2, 0xd6ebb1c9,\n+    0x48686b56},\n+   {0x00000000, 0xc0642817, 0x80c9502e, 0x40ad7839, 0x0093a15c,\n+    0xc0f7894b, 0x805af172, 0x403ed965, 0x002643b9, 0xc0426bae,\n+    0x80ef1397, 0x408b3b80, 0x00b5e2e5, 0xc0d1caf2, 0x807cb2cb,\n+    0x40189adc, 0x414af7a9, 0x812edfbe, 0xc183a787, 0x01e78f90,\n+    0x41d956f5, 0x81bd7ee2, 0xc11006db, 0x01742ecc, 0x416cb410,\n+    0x81089c07, 0xc1a5e43e, 0x01c1cc29, 0x41ff154c, 0x819b3d5b,\n+    0xc1364562, 0x01526d75, 0xc3929f88, 0x03f6b79f, 0x435bcfa6,\n+    0x833fe7b1, 0xc3013ed4, 0x036516c3, 0x43c86efa, 0x83ac46ed,\n+    0xc3b4dc31, 0x03d0f426, 0x437d8c1f, 0x8319a408, 0xc3277d6d,\n+    0x0343557a, 0x43ee2d43, 0x838a0554, 0x82d86821, 0x42bc4036,\n+    0x0211380f, 0xc2751018, 0x824bc97d, 0x422fe16a, 0x02829953,\n+    0xc2e6b144, 0x82fe2b98, 0x429a038f, 0x02377bb6, 0xc25353a1,\n+    0x826d8ac4, 0x4209a2d3, 0x02a4daea, 0xc2c0f2fd, 0xc7234eca,\n+    0x074766dd, 0x47ea1ee4, 0x878e36f3, 0xc7b0ef96, 0x07d4c781,\n+    0x4779bfb8, 0x871d97af, 0xc7050d73, 0x07612564, 0x47cc5d5d,\n+    0x87a8754a, 0xc796ac2f, 0x07f28438, 0x475ffc01, 0x873bd416,\n+    0x8669b963, 0x460d9174, 0x06a0e94d, 0xc6c4c15a, 0x86fa183f,\n+    0x469e3028, 0x06334811, 0xc6576006, 0x864ffada, 0x462bd2cd,\n+    0x0686aaf4, 0xc6e282e3, 0x86dc5b86, 0x46b87391, 0x06150ba8,\n+    0xc67123bf, 0x04b1d142, 0xc4d5f955, 0x8478816c, 0x441ca97b,\n+    0x0422701e, 0xc4465809, 0x84eb2030, 0x448f0827, 0x049792fb,\n+    0xc4f3baec, 0x845ec2d5, 0x443aeac2, 0x040433a7, 0xc4601bb0,\n+    0x84cd6389, 0x44a94b9e, 0x45fb26eb, 0x859f0efc, 0xc53276c5,\n+    0x05565ed2, 0x456887b7, 0x850cafa0, 0xc5a1d799, 0x05c5ff8e,\n+    0x45dd6552, 0x85b94d45, 0xc514357c, 0x05701d6b, 0x454ec40e,\n+    0x852aec19, 0xc5879420, 0x05e3bc37, 0xcf41ed4f, 0x0f25c558,\n+    0x4f88bd61, 0x8fec9576, 0xcfd24c13, 0x0fb66404, 0x4f1b1c3d,\n+    0x8f7f342a, 0xcf67aef6, 0x0f0386e1, 0x4faefed8, 0x8fcad6cf,\n+    0xcff40faa, 0x0f9027bd, 0x4f3d5f84, 0x8f597793, 0x8e0b1ae6,\n+    0x4e6f32f1, 0x0ec24ac8, 0xcea662df, 0x8e98bbba, 0x4efc93ad,\n+    0x0e51eb94, 0xce35c383, 0x8e2d595f, 0x4e497148, 0x0ee40971,\n+    0xce802166, 0x8ebef803, 0x4edad014, 0x0e77a82d, 0xce13803a,\n+    0x0cd372c7, 0xccb75ad0, 0x8c1a22e9, 0x4c7e0afe, 0x0c40d39b,\n+    0xcc24fb8c, 0x8c8983b5, 0x4cedaba2, 0x0cf5317e, 0xcc911969,\n+    0x8c3c6150, 0x4c584947, 0x0c669022, 0xcc02b835, 0x8cafc00c,\n+    0x4ccbe81b, 0x4d99856e, 0x8dfdad79, 0xcd50d540, 0x0d34fd57,\n+    0x4d0a2432, 0x8d6e0c25, 0xcdc3741c, 0x0da75c0b, 0x4dbfc6d7,\n+    0x8ddbeec0, 0xcd7696f9, 0x0d12beee, 0x4d2c678b, 0x8d484f9c,\n+    0xcde537a5, 0x0d811fb2, 0x0862a385, 0xc8068b92, 0x88abf3ab,\n+    0x48cfdbbc, 0x08f102d9, 0xc8952ace, 0x883852f7, 0x485c7ae0,\n+    0x0844e03c, 0xc820c82b, 0x888db012, 0x48e99805, 0x08d74160,\n+    0xc8b36977, 0x881e114e, 0x487a3959, 0x4928542c, 0x894c7c3b,\n+    0xc9e10402, 0x09852c15, 0x49bbf570, 0x89dfdd67, 0xc972a55e,\n+    0x09168d49, 0x490e1795, 0x896a3f82, 0xc9c747bb, 0x09a36fac,\n+    0x499db6c9, 0x89f99ede, 0xc954e6e7, 0x0930cef0, 0xcbf03c0d,\n+    0x0b94141a, 0x4b396c23, 0x8b5d4434, 0xcb639d51, 0x0b07b546,\n+    0x4baacd7f, 0x8bcee568, 0xcbd67fb4, 0x0bb257a3, 0x4b1f2f9a,\n+    0x8b7b078d, 0xcb45dee8, 0x0b21f6ff, 0x4b8c8ec6, 0x8be8a6d1,\n+    0x8abacba4, 0x4adee3b3, 0x0a739b8a, 0xca17b39d, 0x8a296af8,\n+    0x4a4d42ef, 0x0ae03ad6, 0xca8412c1, 0x8a9c881d, 0x4af8a00a,\n+    0x0a55d833, 0xca31f024, 0x8a0f2941, 0x4a6b0156, 0x0ac6796f,\n+    0xcaa25178},\n+   {0x00000000, 0xd4ea739b, 0xe9d396ed, 0x3d39e576, 0x93a15c00,\n+    0x474b2f9b, 0x7a72caed, 0xae98b976, 0x2643b900, 0xf2a9ca9b,\n+    0xcf902fed, 0x1b7a5c76, 0xb5e2e500, 0x6108969b, 0x5c3173ed,\n+    0x88db0076, 0x4c867201, 0x986c019a, 0xa555e4ec, 0x71bf9777,\n+    0xdf272e01, 0x0bcd5d9a, 0x36f4b8ec, 0xe21ecb77, 0x6ac5cb01,\n+    0xbe2fb89a, 0x83165dec, 0x57fc2e77, 0xf9649701, 0x2d8ee49a,\n+    0x10b701ec, 0xc45d7277, 0x980ce502, 0x4ce69699, 0x71df73ef,\n+    0xa5350074, 0x0badb902, 0xdf47ca99, 0xe27e2fef, 0x36945c74,\n+    0xbe4f5c02, 0x6aa52f99, 0x579ccaef, 0x8376b974, 0x2dee0002,\n+    0xf9047399, 0xc43d96ef, 0x10d7e574, 0xd48a9703, 0x0060e498,\n+    0x3d5901ee, 0xe9b37275, 0x472bcb03, 0x93c1b898, 0xaef85dee,\n+    0x7a122e75, 0xf2c92e03, 0x26235d98, 0x1b1ab8ee, 0xcff0cb75,\n+    0x61687203, 0xb5820198, 0x88bbe4ee, 0x5c519775, 0x3019ca05,\n+    0xe4f3b99e, 0xd9ca5ce8, 0x0d202f73, 0xa3b89605, 0x7752e59e,\n+    0x4a6b00e8, 0x9e817373, 0x165a7305, 0xc2b0009e, 0xff89e5e8,\n+    0x2b639673, 0x85fb2f05, 0x51115c9e, 0x6c28b9e8, 0xb8c2ca73,\n+    0x7c9fb804, 0xa875cb9f, 0x954c2ee9, 0x41a65d72, 0xef3ee404,\n+    0x3bd4979f, 0x06ed72e9, 0xd2070172, 0x5adc0104, 0x8e36729f,\n+    0xb30f97e9, 0x67e5e472, 0xc97d5d04, 0x1d972e9f, 0x20aecbe9,\n+    0xf444b872, 0xa8152f07, 0x7cff5c9c, 0x41c6b9ea, 0x952cca71,\n+    0x3bb47307, 0xef5e009c, 0xd267e5ea, 0x068d9671, 0x8e569607,\n+    0x5abce59c, 0x678500ea, 0xb36f7371, 0x1df7ca07, 0xc91db99c,\n+    0xf4245cea, 0x20ce2f71, 0xe4935d06, 0x30792e9d, 0x0d40cbeb,\n+    0xd9aab870, 0x77320106, 0xa3d8729d, 0x9ee197eb, 0x4a0be470,\n+    0xc2d0e406, 0x163a979d, 0x2b0372eb, 0xffe90170, 0x5171b806,\n+    0x859bcb9d, 0xb8a22eeb, 0x6c485d70, 0x6032940b, 0xb4d8e790,\n+    0x89e102e6, 0x5d0b717d, 0xf393c80b, 0x2779bb90, 0x1a405ee6,\n+    0xceaa2d7d, 0x46712d0b, 0x929b5e90, 0xafa2bbe6, 0x7b48c87d,\n+    0xd5d0710b, 0x013a0290, 0x3c03e7e6, 0xe8e9947d, 0x2cb4e60a,\n+    0xf85e9591, 0xc56770e7, 0x118d037c, 0xbf15ba0a, 0x6bffc991,\n+    0x56c62ce7, 0x822c5f7c, 0x0af75f0a, 0xde1d2c91, 0xe324c9e7,\n+    0x37ceba7c, 0x9956030a, 0x4dbc7091, 0x708595e7, 0xa46fe67c,\n+    0xf83e7109, 0x2cd40292, 0x11ede7e4, 0xc507947f, 0x6b9f2d09,\n+    0xbf755e92, 0x824cbbe4, 0x56a6c87f, 0xde7dc809, 0x0a97bb92,\n+    0x37ae5ee4, 0xe3442d7f, 0x4ddc9409, 0x9936e792, 0xa40f02e4,\n+    0x70e5717f, 0xb4b80308, 0x60527093, 0x5d6b95e5, 0x8981e67e,\n+    0x27195f08, 0xf3f32c93, 0xcecac9e5, 0x1a20ba7e, 0x92fbba08,\n+    0x4611c993, 0x7b282ce5, 0xafc25f7e, 0x015ae608, 0xd5b09593,\n+    0xe88970e5, 0x3c63037e, 0x502b5e0e, 0x84c12d95, 0xb9f8c8e3,\n+    0x6d12bb78, 0xc38a020e, 0x17607195, 0x2a5994e3, 0xfeb3e778,\n+    0x7668e70e, 0xa2829495, 0x9fbb71e3, 0x4b510278, 0xe5c9bb0e,\n+    0x3123c895, 0x0c1a2de3, 0xd8f05e78, 0x1cad2c0f, 0xc8475f94,\n+    0xf57ebae2, 0x2194c979, 0x8f0c700f, 0x5be60394, 0x66dfe6e2,\n+    0xb2359579, 0x3aee950f, 0xee04e694, 0xd33d03e2, 0x07d77079,\n+    0xa94fc90f, 0x7da5ba94, 0x409c5fe2, 0x94762c79, 0xc827bb0c,\n+    0x1ccdc897, 0x21f42de1, 0xf51e5e7a, 0x5b86e70c, 0x8f6c9497,\n+    0xb25571e1, 0x66bf027a, 0xee64020c, 0x3a8e7197, 0x07b794e1,\n+    0xd35de77a, 0x7dc55e0c, 0xa92f2d97, 0x9416c8e1, 0x40fcbb7a,\n+    0x84a1c90d, 0x504bba96, 0x6d725fe0, 0xb9982c7b, 0x1700950d,\n+    0xc3eae696, 0xfed303e0, 0x2a39707b, 0xa2e2700d, 0x76080396,\n+    0x4b31e6e0, 0x9fdb957b, 0x31432c0d, 0xe5a95f96, 0xd890bae0,\n+    0x0c7ac97b},\n+   {0x00000000, 0x27652581, 0x0fcc3bd9, 0x28a91e58, 0x5f9e0669,\n+    0x78fb23e8, 0x50523db0, 0x77371831, 0xbe3c0dd2, 0x99592853,\n+    0xb1f0360b, 0x9695138a, 0xe1a20bbb, 0xc6c72e3a, 0xee6e3062,\n+    0xc90b15e3, 0x3d7f6b7f, 0x1a1a4efe, 0x32b350a6, 0x15d67527,\n+    0x62e16d16, 0x45844897, 0x6d2d56cf, 0x4a48734e, 0x834366ad,\n+    0xa426432c, 0x8c8f5d74, 0xabea78f5, 0xdcdd60c4, 0xfbb84545,\n+    0xd3115b1d, 0xf4747e9c, 0x7afed6fe, 0x5d9bf37f, 0x7532ed27,\n+    0x5257c8a6, 0x2560d097, 0x0205f516, 0x2aaceb4e, 0x0dc9cecf,\n+    0xc4c2db2c, 0xe3a7fead, 0xcb0ee0f5, 0xec6bc574, 0x9b5cdd45,\n+    0xbc39f8c4, 0x9490e69c, 0xb3f5c31d, 0x4781bd81, 0x60e49800,\n+    0x484d8658, 0x6f28a3d9, 0x181fbbe8, 0x3f7a9e69, 0x17d38031,\n+    0x30b6a5b0, 0xf9bdb053, 0xded895d2, 0xf6718b8a, 0xd114ae0b,\n+    0xa623b63a, 0x814693bb, 0xa9ef8de3, 0x8e8aa862, 0xb5fadc26,\n+    0x929ff9a7, 0xba36e7ff, 0x9d53c27e, 0xea64da4f, 0xcd01ffce,\n+    0xe5a8e196, 0xc2cdc417, 0x0bc6d1f4, 0x2ca3f475, 0x040aea2d,\n+    0x236fcfac, 0x5458d79d, 0x733df21c, 0x5b94ec44, 0x7cf1c9c5,\n+    0x8885b759, 0xafe092d8, 0x87498c80, 0xa02ca901, 0xd71bb130,\n+    0xf07e94b1, 0xd8d78ae9, 0xffb2af68, 0x36b9ba8b, 0x11dc9f0a,\n+    0x39758152, 0x1e10a4d3, 0x6927bce2, 0x4e429963, 0x66eb873b,\n+    0x418ea2ba, 0xcf040ad8, 0xe8612f59, 0xc0c83101, 0xe7ad1480,\n+    0x909a0cb1, 0xb7ff2930, 0x9f563768, 0xb83312e9, 0x7138070a,\n+    0x565d228b, 0x7ef43cd3, 0x59911952, 0x2ea60163, 0x09c324e2,\n+    0x216a3aba, 0x060f1f3b, 0xf27b61a7, 0xd51e4426, 0xfdb75a7e,\n+    0xdad27fff, 0xade567ce, 0x8a80424f, 0xa2295c17, 0x854c7996,\n+    0x4c476c75, 0x6b2249f4, 0x438b57ac, 0x64ee722d, 0x13d96a1c,\n+    0x34bc4f9d, 0x1c1551c5, 0x3b707444, 0x6af5b94d, 0x4d909ccc,\n+    0x65398294, 0x425ca715, 0x356bbf24, 0x120e9aa5, 0x3aa784fd,\n+    0x1dc2a17c, 0xd4c9b49f, 0xf3ac911e, 0xdb058f46, 0xfc60aac7,\n+    0x8b57b2f6, 0xac329777, 0x849b892f, 0xa3feacae, 0x578ad232,\n+    0x70eff7b3, 0x5846e9eb, 0x7f23cc6a, 0x0814d45b, 0x2f71f1da,\n+    0x07d8ef82, 0x20bdca03, 0xe9b6dfe0, 0xced3fa61, 0xe67ae439,\n+    0xc11fc1b8, 0xb628d989, 0x914dfc08, 0xb9e4e250, 0x9e81c7d1,\n+    0x100b6fb3, 0x376e4a32, 0x1fc7546a, 0x38a271eb, 0x4f9569da,\n+    0x68f04c5b, 0x40595203, 0x673c7782, 0xae376261, 0x895247e0,\n+    0xa1fb59b8, 0x869e7c39, 0xf1a96408, 0xd6cc4189, 0xfe655fd1,\n+    0xd9007a50, 0x2d7404cc, 0x0a11214d, 0x22b83f15, 0x05dd1a94,\n+    0x72ea02a5, 0x558f2724, 0x7d26397c, 0x5a431cfd, 0x9348091e,\n+    0xb42d2c9f, 0x9c8432c7, 0xbbe11746, 0xccd60f77, 0xebb32af6,\n+    0xc31a34ae, 0xe47f112f, 0xdf0f656b, 0xf86a40ea, 0xd0c35eb2,\n+    0xf7a67b33, 0x80916302, 0xa7f44683, 0x8f5d58db, 0xa8387d5a,\n+    0x613368b9, 0x46564d38, 0x6eff5360, 0x499a76e1, 0x3ead6ed0,\n+    0x19c84b51, 0x31615509, 0x16047088, 0xe2700e14, 0xc5152b95,\n+    0xedbc35cd, 0xcad9104c, 0xbdee087d, 0x9a8b2dfc, 0xb22233a4,\n+    0x95471625, 0x5c4c03c6, 0x7b292647, 0x5380381f, 0x74e51d9e,\n+    0x03d205af, 0x24b7202e, 0x0c1e3e76, 0x2b7b1bf7, 0xa5f1b395,\n+    0x82949614, 0xaa3d884c, 0x8d58adcd, 0xfa6fb5fc, 0xdd0a907d,\n+    0xf5a38e25, 0xd2c6aba4, 0x1bcdbe47, 0x3ca89bc6, 0x1401859e,\n+    0x3364a01f, 0x4453b82e, 0x63369daf, 0x4b9f83f7, 0x6cfaa676,\n+    0x988ed8ea, 0xbfebfd6b, 0x9742e333, 0xb027c6b2, 0xc710de83,\n+    0xe075fb02, 0xc8dce55a, 0xefb9c0db, 0x26b2d538, 0x01d7f0b9,\n+    0x297eeee1, 0x0e1bcb60, 0x792cd351, 0x5e49f6d0, 0x76e0e888,\n+    0x5185cd09}};\n+\n+#endif\n+\n+#endif\n+\n+#endif\n+\n+local const z_crc_t FAR x2n_table[] = {\n+    0x40000000, 0x20000000, 0x08000000, 0x00800000, 0x00008000,\n+    0xedb88320, 0xb1e6b092, 0xa06a2517, 0xed627dae, 0x88d14467,\n+    0xd7bbfe6a, 0xec447f11, 0x8e7ea170, 0x6427800e, 0x4d47bae0,\n+    0x09fe548f, 0x83852d0f, 0x30362f1a, 0x7b5a9cc3, 0x31fec169,\n+    0x9fec022a, 0x6c8dedc4, 0x15d6874d, 0x5fde7a4e, 0xbad90e37,\n+    0x2e4e5eef, 0x4eaba214, 0xa8a472c0, 0x429a969e, 0x148d302a,\n+    0xc40ba6d0, 0xc4e22c3c};\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/crc32.h","additions":9441,"deletions":436,"binary":false,"changes":9877,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2017 Jean-loup Gailly and Mark Adler\n+ * Copyright (C) 1995-2022 Jean-loup Gailly and Mark Adler\n@@ -79,1 +79,1 @@\n-   \" deflate 1.2.11 Copyright 1995-2017 Jean-loup Gailly and Mark Adler \";\n+   \" deflate 1.2.13 Copyright 1995-2022 Jean-loup Gailly and Mark Adler \";\n@@ -114,5 +114,0 @@\n-#ifdef ASMV\n-#  pragma message(\"Assembler code may have bugs -- use at your own risk\")\n-      void match_init OF((void)); \/* asm code initialization *\/\n-      uInt longest_match  OF((deflate_state *s, IPos cur_match));\n-#else\n@@ -120,1 +115,0 @@\n-#endif\n@@ -187,1 +181,1 @@\n-#define UPDATE_HASH(s,h,c) (h = (((h)<<s->hash_shift) ^ (c)) & s->hash_mask)\n+#define UPDATE_HASH(s,h,c) (h = (((h) << s->hash_shift) ^ (c)) & s->hash_mask)\n@@ -217,2 +211,5 @@\n-    s->head[s->hash_size-1] = NIL; \\\n-    zmemzero((Bytef *)s->head, (unsigned)(s->hash_size-1)*sizeof(*s->head));\n+    do { \\\n+        s->head[s->hash_size - 1] = NIL; \\\n+        zmemzero((Bytef *)s->head, \\\n+                 (unsigned)(s->hash_size - 1)*sizeof(*s->head)); \\\n+    } while (0)\n@@ -309,0 +306,2 @@\n+        if (windowBits < -15)\n+            return Z_STREAM_ERROR;\n@@ -338,1 +337,1 @@\n-    s->hash_shift =  ((s->hash_bits+MIN_MATCH-1)\/MIN_MATCH);\n+    s->hash_shift =  ((s->hash_bits + MIN_MATCH-1) \/ MIN_MATCH);\n@@ -364,3 +363,3 @@\n-     * code is written. At that time, 31*(n-2) bits have been written, just\n-     * after 24*(n-2) bits have been consumed from sym_buf. sym_buf starts at\n-     * 8*n bits into pending_buf. (Note that the symbol buffer fills when n-1\n+     * code is written. At that time, 31*(n - 2) bits have been written, just\n+     * after 24*(n - 2) bits have been consumed from sym_buf. sym_buf starts at\n+     * 8*n bits into pending_buf. (Note that the symbol buffer fills when n - 1\n@@ -368,1 +367,1 @@\n-     * then n+14 bits. Here n is lit_bufsize, which is 16384 by default, and\n+     * then n + 14 bits. Here n is lit_bufsize, which is 16384 by default, and\n@@ -414,1 +413,1 @@\n-local int deflateStateCheck (strm)\n+local int deflateStateCheck(strm)\n@@ -437,1 +436,1 @@\n-int ZEXPORT deflateSetDictionary (strm, dictionary, dictLength)\n+int ZEXPORT deflateSetDictionary(strm, dictionary, dictLength)\n@@ -506,1 +505,1 @@\n-int ZEXPORT deflateGetDictionary (strm, dictionary, dictLength)\n+int ZEXPORT deflateGetDictionary(strm, dictionary, dictLength)\n@@ -528,1 +527,1 @@\n-int ZEXPORT deflateResetKeep (strm)\n+int ZEXPORT deflateResetKeep(strm)\n@@ -552,1 +551,1 @@\n-        s->wrap ? INIT_STATE : BUSY_STATE;\n+        INIT_STATE;\n@@ -566,1 +565,1 @@\n-int ZEXPORT deflateReset (strm)\n+int ZEXPORT deflateReset(strm)\n@@ -578,1 +577,1 @@\n-int ZEXPORT deflateSetHeader (strm, head)\n+int ZEXPORT deflateSetHeader(strm, head)\n@@ -589,1 +588,1 @@\n-int ZEXPORT deflatePending (strm, pending, bits)\n+int ZEXPORT deflatePending(strm, pending, bits)\n@@ -603,1 +602,1 @@\n-int ZEXPORT deflatePrime (strm, bits, value)\n+int ZEXPORT deflatePrime(strm, bits, value)\n@@ -657,1 +656,1 @@\n-        if (strm->avail_out == 0)\n+        if (strm->avail_in || (s->strstart - s->block_start) + s->lookahead)\n@@ -698,5 +697,3 @@\n- * For the default windowBits of 15 and memLevel of 8, this function returns\n- * a close to exact, as well as small, upper bound on the compressed size.\n- * They are coded as constants here for a reason--if the #define's are\n- * changed, then this function needs to be changed as well.  The return\n- * value for 15 and 8 only works for those exact settings.\n+ * For the default windowBits of 15 and memLevel of 8, this function returns a\n+ * close to exact, as well as small, upper bound on the compressed size. This\n+ * is an expansion of ~0.03%, plus a small constant.\n@@ -704,4 +701,3 @@\n- * For any setting other than those defaults for windowBits and memLevel,\n- * the value returned is a conservative worst case for the maximum expansion\n- * resulting from using fixed blocks instead of stored blocks, which deflate\n- * can emit on compressed data for some combinations of the parameters.\n+ * For any setting other than those defaults for windowBits and memLevel, one\n+ * of two worst case bounds is returned. This is at most an expansion of ~4% or\n+ * ~13%, plus a small constant.\n@@ -709,4 +705,14 @@\n- * This function could be more sophisticated to provide closer upper bounds for\n- * every combination of windowBits and memLevel.  But even the conservative\n- * upper bound of about 14% expansion does not seem onerous for output buffer\n- * allocation.\n+ * Both the 0.03% and 4% derive from the overhead of stored blocks. The first\n+ * one is for stored blocks of 16383 bytes (memLevel == 8), whereas the second\n+ * is for stored blocks of 127 bytes (the worst case memLevel == 1). The\n+ * expansion results from five bytes of header for each stored block.\n+ *\n+ * The larger expansion of 13% results from a window size less than or equal to\n+ * the symbols buffer size (windowBits <= memLevel + 7). In that case some of\n+ * the data being compressed may have slid out of the sliding window, impeding\n+ * a stored block from being emitted. Then the only choice is a fixed or\n+ * dynamic block, where a fixed block limits the maximum expansion to 9 bits\n+ * per 8-bit byte, plus 10 bits for every block. The smallest block size for\n+ * which this can occur is 255 (memLevel == 2).\n+ *\n+ * Shifts are used to approximate divisions, for speed.\n@@ -719,1 +725,7 @@\n-    uLong complen, wraplen;\n+    uLong fixedlen, storelen, wraplen;\n+\n+    \/* upper bound for fixed blocks with 9-bit literals and length 255\n+       (memLevel == 2, which is the lowest that may not use stored blocks) --\n+       ~13% overhead plus a small constant *\/\n+    fixedlen = sourceLen + (sourceLen >> 3) + (sourceLen >> 8) +\n+               (sourceLen >> 9) + 4;\n@@ -721,3 +733,4 @@\n-    \/* conservative upper bound for compressed data *\/\n-    complen = sourceLen +\n-              ((sourceLen + 7) >> 3) + ((sourceLen + 63) >> 6) + 5;\n+    \/* upper bound for stored blocks with length 127 (memLevel == 1) --\n+       ~4% overhead plus a small constant *\/\n+    storelen = sourceLen + (sourceLen >> 5) + (sourceLen >> 7) +\n+               (sourceLen >> 11) + 7;\n@@ -725,1 +738,1 @@\n-    \/* if can't get parameters, return conservative bound plus zlib wrapper *\/\n+    \/* if can't get parameters, return larger bound plus a zlib wrapper *\/\n@@ -727,1 +740,1 @@\n-        return complen + 6;\n+        return (fixedlen > storelen ? fixedlen : storelen) + 6;\n@@ -764,1 +777,1 @@\n-    \/* if not default parameters, return conservative bound *\/\n+    \/* if not default parameters, return one of the conservative bounds *\/\n@@ -766,1 +779,1 @@\n-        return complen + wraplen;\n+        return (s->w_bits <= s->hash_bits ? fixedlen : storelen) + wraplen;\n@@ -768,1 +781,2 @@\n-    \/* default settings: return tight bound for that case *\/\n+    \/* default settings: return tight bound for that case -- ~0.03% overhead\n+       plus a small constant *\/\n@@ -778,1 +792,1 @@\n-local void putShortMSB (s, b)\n+local void putShortMSB(s, b)\n@@ -825,1 +839,1 @@\n-int ZEXPORT deflate (strm, flush)\n+int ZEXPORT deflate(strm, flush)\n@@ -876,0 +890,2 @@\n+    if (s->status == INIT_STATE && s->wrap == 0)\n+        s->status = BUSY_STATE;\n@@ -878,1 +894,1 @@\n-        uInt header = (Z_DEFLATED + ((s->w_bits-8)<<4)) << 8;\n+        uInt header = (Z_DEFLATED + ((s->w_bits - 8) << 4)) << 8;\n@@ -1138,1 +1154,1 @@\n-int ZEXPORT deflateEnd (strm)\n+int ZEXPORT deflateEnd(strm)\n@@ -1164,1 +1180,1 @@\n-int ZEXPORT deflateCopy (dest, source)\n+int ZEXPORT deflateCopy(dest, source)\n@@ -1253,1 +1269,1 @@\n-local void lm_init (s)\n+local void lm_init(s)\n@@ -1274,5 +1290,0 @@\n-#ifndef FASTEST\n-#ifdef ASMV\n-    match_init(); \/* initialize the asm code *\/\n-#endif\n-#endif\n@@ -1291,4 +1302,0 @@\n-#ifndef ASMV\n-\/* For 80x86 and 680x0, an optimized version will be provided in match.asm or\n- * match.S. The code will be functionally equivalent.\n- *\/\n@@ -1319,1 +1326,1 @@\n-    register ush scan_end   = *(ushf*)(scan+best_len-1);\n+    register ush scan_end   = *(ushf*)(scan + best_len - 1);\n@@ -1322,1 +1329,1 @@\n-    register Byte scan_end1  = scan[best_len-1];\n+    register Byte scan_end1  = scan[best_len - 1];\n@@ -1340,1 +1347,2 @@\n-    Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n+    Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n+           \"need lookahead\");\n@@ -1358,1 +1366,1 @@\n-        if (*(ushf*)(match+best_len-1) != scan_end ||\n+        if (*(ushf*)(match + best_len - 1) != scan_end ||\n@@ -1364,1 +1372,1 @@\n-         * strstart+3, +5, ... up to strstart+257. We check for insufficient\n+         * strstart + 3, + 5, up to strstart + 257. We check for insufficient\n@@ -1366,1 +1374,1 @@\n-         * at strstart+257. If MAX_MATCH-2 is not a multiple of 8, it is\n+         * at strstart + 257. If MAX_MATCH-2 is not a multiple of 8, it is\n@@ -1373,4 +1381,4 @@\n-        } while (*(ushf*)(scan+=2) == *(ushf*)(match+=2) &&\n-                 *(ushf*)(scan+=2) == *(ushf*)(match+=2) &&\n-                 *(ushf*)(scan+=2) == *(ushf*)(match+=2) &&\n-                 *(ushf*)(scan+=2) == *(ushf*)(match+=2) &&\n+        } while (*(ushf*)(scan += 2) == *(ushf*)(match += 2) &&\n+                 *(ushf*)(scan += 2) == *(ushf*)(match += 2) &&\n+                 *(ushf*)(scan += 2) == *(ushf*)(match += 2) &&\n+                 *(ushf*)(scan += 2) == *(ushf*)(match += 2) &&\n@@ -1380,2 +1388,3 @@\n-        \/* Here, scan <= window+strstart+257 *\/\n-        Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n+        \/* Here, scan <= window + strstart + 257 *\/\n+        Assert(scan <= s->window + (unsigned)(s->window_size - 1),\n+               \"wild scan\");\n@@ -1384,1 +1393,1 @@\n-        len = (MAX_MATCH - 1) - (int)(strend-scan);\n+        len = (MAX_MATCH - 1) - (int)(strend - scan);\n@@ -1389,4 +1398,4 @@\n-        if (match[best_len]   != scan_end  ||\n-            match[best_len-1] != scan_end1 ||\n-            *match            != *scan     ||\n-            *++match          != scan[1])      continue;\n+        if (match[best_len]     != scan_end  ||\n+            match[best_len - 1] != scan_end1 ||\n+            *match              != *scan     ||\n+            *++match            != scan[1])      continue;\n@@ -1394,1 +1403,1 @@\n-        \/* The check at best_len-1 can be removed because it will be made\n+        \/* The check at best_len - 1 can be removed because it will be made\n@@ -1404,1 +1413,1 @@\n-         * the 256th check will be made at strstart+258.\n+         * the 256th check will be made at strstart + 258.\n@@ -1413,1 +1422,2 @@\n-        Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n+        Assert(scan <= s->window + (unsigned)(s->window_size - 1),\n+               \"wild scan\");\n@@ -1425,1 +1435,1 @@\n-            scan_end = *(ushf*)(scan+best_len-1);\n+            scan_end = *(ushf*)(scan + best_len - 1);\n@@ -1427,1 +1437,1 @@\n-            scan_end1  = scan[best_len-1];\n+            scan_end1  = scan[best_len - 1];\n@@ -1437,1 +1447,0 @@\n-#endif \/* ASMV *\/\n@@ -1458,1 +1467,2 @@\n-    Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n+    Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n+           \"need lookahead\");\n@@ -1468,1 +1478,1 @@\n-    \/* The check at best_len-1 can be removed because it will be made\n+    \/* The check at best_len - 1 can be removed because it will be made\n@@ -1478,1 +1488,1 @@\n-     * the 256th check will be made at strstart+258.\n+     * the 256th check will be made at strstart + 258.\n@@ -1487,1 +1497,1 @@\n-    Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n+    Assert(scan <= s->window + (unsigned)(s->window_size - 1), \"wild scan\");\n@@ -1523,1 +1533,1 @@\n-        fprintf(stderr,\"\\\\[%d,%d]\", start-match, length);\n+        fprintf(stderr,\"\\\\[%d,%d]\", start - match, length);\n@@ -1569,1 +1579,1 @@\n-        if (s->strstart >= wsize+MAX_DIST(s)) {\n+        if (s->strstart >= wsize + MAX_DIST(s)) {\n@@ -1571,1 +1581,1 @@\n-            zmemcpy(s->window, s->window+wsize, (unsigned)wsize - more);\n+            zmemcpy(s->window, s->window + wsize, (unsigned)wsize - more);\n@@ -1575,0 +1585,2 @@\n+            if (s->insert > s->strstart)\n+                s->insert = s->strstart;\n@@ -1700,1 +1712,1 @@\n- * maximizes the opportunites to have a single copy from next_in to next_out.\n+ * maximizes the opportunities to have a single copy from next_in to next_out.\n@@ -1804,0 +1816,1 @@\n+            s->insert = s->strstart;\n@@ -1812,0 +1825,2 @@\n+                if (s->insert > s->strstart)\n+                    s->insert = s->strstart;\n@@ -1815,0 +1830,1 @@\n+            s->insert += MIN(used, s->w_size - s->insert);\n@@ -1817,1 +1833,0 @@\n-        s->insert += MIN(used, s->w_size - s->insert);\n@@ -1832,1 +1847,1 @@\n-    have = s->window_size - s->strstart - 1;\n+    have = s->window_size - s->strstart;\n@@ -1841,0 +1856,2 @@\n+        if (s->insert > s->strstart)\n+            s->insert = s->strstart;\n@@ -1847,0 +1864,1 @@\n+        s->insert += MIN(have, s->w_size - s->insert);\n@@ -1904,1 +1922,1 @@\n-        \/* Insert the string window[strstart .. strstart+2] in the\n+        \/* Insert the string window[strstart .. strstart + 2] in the\n@@ -1952,1 +1970,1 @@\n-                UPDATE_HASH(s, s->ins_h, s->window[s->strstart+1]);\n+                UPDATE_HASH(s, s->ins_h, s->window[s->strstart + 1]);\n@@ -1963,1 +1981,1 @@\n-            _tr_tally_lit (s, s->window[s->strstart], bflush);\n+            _tr_tally_lit(s, s->window[s->strstart], bflush);\n@@ -2007,1 +2025,1 @@\n-        \/* Insert the string window[strstart .. strstart+2] in the\n+        \/* Insert the string window[strstart .. strstart + 2] in the\n@@ -2049,1 +2067,1 @@\n-            check_match(s, s->strstart-1, s->prev_match, s->prev_length);\n+            check_match(s, s->strstart - 1, s->prev_match, s->prev_length);\n@@ -2051,1 +2069,1 @@\n-            _tr_tally_dist(s, s->strstart -1 - s->prev_match,\n+            _tr_tally_dist(s, s->strstart - 1 - s->prev_match,\n@@ -2055,1 +2073,1 @@\n-             * strstart-1 and strstart are already inserted. If there is not\n+             * strstart - 1 and strstart are already inserted. If there is not\n@@ -2059,1 +2077,1 @@\n-            s->lookahead -= s->prev_length-1;\n+            s->lookahead -= s->prev_length - 1;\n@@ -2077,2 +2095,2 @@\n-            Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n-            _tr_tally_lit(s, s->window[s->strstart-1], bflush);\n+            Tracevv((stderr,\"%c\", s->window[s->strstart - 1]));\n+            _tr_tally_lit(s, s->window[s->strstart - 1], bflush);\n@@ -2096,2 +2114,2 @@\n-        Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n-        _tr_tally_lit(s, s->window[s->strstart-1], bflush);\n+        Tracevv((stderr,\"%c\", s->window[s->strstart - 1]));\n+        _tr_tally_lit(s, s->window[s->strstart - 1], bflush);\n@@ -2154,1 +2172,2 @@\n-            Assert(scan <= s->window+(uInt)(s->window_size-1), \"wild scan\");\n+            Assert(scan <= s->window + (uInt)(s->window_size - 1),\n+                   \"wild scan\");\n@@ -2169,1 +2188,1 @@\n-            _tr_tally_lit (s, s->window[s->strstart], bflush);\n+            _tr_tally_lit(s, s->window[s->strstart], bflush);\n@@ -2209,1 +2228,1 @@\n-        _tr_tally_lit (s, s->window[s->strstart], bflush);\n+        _tr_tally_lit(s, s->window[s->strstart], bflush);\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/deflate.c","additions":130,"deletions":111,"binary":false,"changes":241,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2016 Jean-loup Gailly\n+ * Copyright (C) 1995-2018 Jean-loup Gailly\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/deflate.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 2004, 2005, 2010, 2011, 2012, 2013, 2016 Mark Adler\n+ * Copyright (C) 2004-2019 Mark Adler\n@@ -66,1 +66,1 @@\n-#if defined(_WIN32) || defined(__CYGWIN__)\n+#if defined(_WIN32)\n@@ -217,0 +217,1 @@\n+    int reset;              \/* true if a reset is pending after a Z_FINISH *\/\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/gzguts.h","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 2004-2017 Mark Adler\n+ * Copyright (C) 2004-2019 Mark Adler\n@@ -32,1 +32,1 @@\n-#if defined(_WIN32) && !defined(__BORLANDC__) && !defined(__MINGW32__)\n+#if defined(_WIN32) && !defined(__BORLANDC__)\n@@ -57,1 +57,1 @@\n-char ZLIB_INTERNAL *gz_strwinerror (error)\n+char ZLIB_INTERNAL *gz_strwinerror(error)\n@@ -108,0 +108,2 @@\n+    else                            \/* for writing ... *\/\n+        state->reset = 0;           \/* no deflateReset pending *\/\n@@ -424,1 +426,1 @@\n-        ret = LSEEK(state->fd, offset - state->x.have, SEEK_CUR);\n+        ret = LSEEK(state->fd, offset - (z_off64_t)state->x.have, SEEK_CUR);\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/gzlib.c","additions":6,"deletions":4,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 2004, 2005, 2010, 2011, 2012, 2013, 2016 Mark Adler\n+ * Copyright (C) 2004-2017 Mark Adler\n@@ -184,5 +184,3 @@\n-    if (strm->avail_in) {\n-        memcpy(state->x.next, strm->next_in, strm->avail_in);\n-        state->x.have = strm->avail_in;\n-        strm->avail_in = 0;\n-    }\n+    memcpy(state->x.next, strm->next_in, strm->avail_in);\n+    state->x.have = strm->avail_in;\n+    strm->avail_in = 0;\n@@ -341,1 +339,1 @@\n-        n = -1;\n+        n = (unsigned)-1;\n@@ -474,1 +472,0 @@\n-    int ret;\n@@ -496,2 +493,1 @@\n-    ret = (int)gz_read(state, buf, 1);\n-    return ret < 1 ? -1 : buf[0];\n+    return gz_read(state, buf, 1) < 1 ? -1 : buf[0];\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/gzread.c","additions":6,"deletions":10,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 2004-2017 Mark Adler\n+ * Copyright (C) 2004-2019 Mark Adler\n@@ -124,0 +124,9 @@\n+    \/* check for a pending reset *\/\n+    if (state->reset) {\n+        \/* don't start a new gzip member unless there is data to write *\/\n+        if (strm->avail_in == 0)\n+            return 0;\n+        deflateReset(strm);\n+        state->reset = 0;\n+    }\n+\n@@ -161,1 +170,1 @@\n-        deflateReset(strm);\n+        state->reset = 1;\n@@ -376,1 +385,1 @@\n-int ZEXPORT gzputs(file, str)\n+int ZEXPORT gzputs(file, s)\n@@ -378,1 +387,1 @@\n-    const char *str;\n+    const char *s;\n@@ -380,2 +389,1 @@\n-    int ret;\n-    z_size_t len;\n+    z_size_t len, put;\n@@ -394,3 +402,7 @@\n-    len = strlen(str);\n-    ret = (int)gz_write(state, str, len);\n-    return ret == 0 && len != 0 ? -1 : ret;\n+    len = strlen(s);\n+    if ((int)len < 0 || (unsigned)len != len) {\n+        gz_error(state, Z_STREAM_ERROR, \"string length does not fit in int\");\n+        return -1;\n+    }\n+    put = gz_write(state, s, len);\n+    return put < len ? -1 : (int)len;\n@@ -468,1 +480,1 @@\n-        memcpy(state->in, state->in + state->size, left);\n+        memmove(state->in, state->in + state->size, left);\n@@ -489,1 +501,1 @@\n-int ZEXPORTVA gzprintf (file, format, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10,\n+int ZEXPORTVA gzprintf(file, format, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10,\n@@ -567,1 +579,1 @@\n-        memcpy(state->in, state->in + state->size, left);\n+        memmove(state->in, state->in + state->size, left);\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/gzwrite.c","additions":24,"deletions":12,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2016 Mark Adler\n+ * Copyright (C) 1995-2022 Mark Adler\n@@ -93,0 +93,1 @@\n+    state->sane = 1;\n@@ -504,0 +505,1 @@\n+                \/* fallthrough *\/\n@@ -631,1 +633,1 @@\n-            \/* inflate stream terminated properly -- write leftover output *\/\n+            \/* inflate stream terminated properly *\/\n@@ -633,4 +635,0 @@\n-            if (left < state->wsize) {\n-                if (out(out_desc, state->window, state->wsize - left))\n-                    ret = Z_BUF_ERROR;\n-            }\n@@ -643,1 +641,2 @@\n-        default:                \/* can't happen, but makes compilers happy *\/\n+        default:\n+            \/* can't happen, but makes compilers happy *\/\n@@ -648,1 +647,1 @@\n-    \/* Return unused input *\/\n+    \/* Write leftover output and return unused input *\/\n@@ -650,0 +649,5 @@\n+    if (left < state->wsize) {\n+        if (out(out_desc, state->window, state->wsize - left) &&\n+            ret == Z_STREAM_END)\n+            ret = Z_BUF_ERROR;\n+    }\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/infback.c","additions":12,"deletions":8,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-    code here;                  \/* retrieved table entry *\/\n+    code const *here;           \/* retrieved table entry *\/\n@@ -134,1 +134,1 @@\n-        here = lcode[hold & lmask];\n+        here = lcode + (hold & lmask);\n@@ -136,1 +136,1 @@\n-        op = (unsigned)(here.bits);\n+        op = (unsigned)(here->bits);\n@@ -139,1 +139,1 @@\n-        op = (unsigned)(here.op);\n+        op = (unsigned)(here->op);\n@@ -141,1 +141,1 @@\n-            Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n+            Tracevv((stderr, here->val >= 0x20 && here->val < 0x7f ?\n@@ -143,2 +143,2 @@\n-                    \"inflate:         literal 0x%02x\\n\", here.val));\n-            *out++ = (unsigned char)(here.val);\n+                    \"inflate:         literal 0x%02x\\n\", here->val));\n+            *out++ = (unsigned char)(here->val);\n@@ -147,1 +147,1 @@\n-            len = (unsigned)(here.val);\n+            len = (unsigned)(here->val);\n@@ -165,1 +165,1 @@\n-            here = dcode[hold & dmask];\n+            here = dcode + (hold & dmask);\n@@ -167,1 +167,1 @@\n-            op = (unsigned)(here.bits);\n+            op = (unsigned)(here->bits);\n@@ -170,1 +170,1 @@\n-            op = (unsigned)(here.op);\n+            op = (unsigned)(here->op);\n@@ -172,1 +172,1 @@\n-                dist = (unsigned)(here.val);\n+                dist = (unsigned)(here->val);\n@@ -291,1 +291,1 @@\n-                here = dcode[here.val + (hold & ((1U << op) - 1))];\n+                here = dcode + here->val + (hold & ((1U << op) - 1));\n@@ -301,1 +301,1 @@\n-            here = lcode[here.val + (hold & ((1U << op) - 1))];\n+            here = lcode + here->val + (hold & ((1U << op) - 1));\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/inffast.c","additions":14,"deletions":14,"binary":false,"changes":28,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2016 Mark Adler\n+ * Copyright (C) 1995-2022 Mark Adler\n@@ -157,0 +157,1 @@\n+    state->flags = -1;\n@@ -194,0 +195,2 @@\n+        if (windowBits < -15)\n+            return Z_STREAM_ERROR;\n@@ -474,1 +477,1 @@\n-#  define UPDATE(check, buf, len) \\\n+#  define UPDATE_CHECK(check, buf, len) \\\n@@ -477,1 +480,1 @@\n-#  define UPDATE(check, buf, len) adler32(check, buf, len)\n+#  define UPDATE_CHECK(check, buf, len) adler32(check, buf, len)\n@@ -697,1 +700,0 @@\n-            state->flags = 0;           \/* expect zlib header *\/\n@@ -724,0 +726,1 @@\n+            state->flags = 0;               \/* indicate zlib header *\/\n@@ -749,0 +752,1 @@\n+                \/* fallthrough *\/\n@@ -757,0 +761,1 @@\n+                \/* fallthrough *\/\n@@ -767,0 +772,1 @@\n+                \/* fallthrough *\/\n@@ -780,0 +786,1 @@\n+                \/* fallthrough *\/\n@@ -786,2 +793,3 @@\n-                        state->head->extra != Z_NULL) {\n-                        len = state->head->extra_len - state->length;\n+                        state->head->extra != Z_NULL &&\n+                        (len = state->head->extra_len - state->length) <\n+                            state->head->extra_max) {\n@@ -802,0 +810,1 @@\n+                \/* fallthrough *\/\n@@ -823,0 +832,1 @@\n+                \/* fallthrough *\/\n@@ -843,0 +853,1 @@\n+                \/* fallthrough *\/\n@@ -866,0 +877,1 @@\n+                \/* fallthrough *\/\n@@ -873,0 +885,1 @@\n+                \/* fallthrough *\/\n@@ -875,0 +888,1 @@\n+                \/* fallthrough *\/\n@@ -925,0 +939,1 @@\n+                \/* fallthrough *\/\n@@ -927,0 +942,1 @@\n+                \/* fallthrough *\/\n@@ -962,0 +978,1 @@\n+                \/* fallthrough *\/\n@@ -983,0 +1000,1 @@\n+                \/* fallthrough *\/\n@@ -1066,0 +1084,1 @@\n+                \/* fallthrough *\/\n@@ -1068,0 +1087,1 @@\n+                \/* fallthrough *\/\n@@ -1117,0 +1137,1 @@\n+                \/* fallthrough *\/\n@@ -1127,0 +1148,1 @@\n+                \/* fallthrough *\/\n@@ -1154,0 +1176,1 @@\n+                \/* fallthrough *\/\n@@ -1170,0 +1193,1 @@\n+                \/* fallthrough *\/\n@@ -1229,1 +1253,1 @@\n-                        UPDATE(state->check, put - out, out);\n+                        UPDATE_CHECK(state->check, put - out, out);\n@@ -1245,0 +1269,1 @@\n+                \/* fallthrough *\/\n@@ -1248,1 +1273,1 @@\n-                if (hold != (state->total & 0xffffffffUL)) {\n+                if ((state->wrap & 4) && hold != (state->total & 0xffffffff)) {\n@@ -1258,0 +1283,1 @@\n+                \/* fallthrough *\/\n@@ -1267,0 +1293,1 @@\n+                \/* fallthrough *\/\n@@ -1292,1 +1319,1 @@\n-            UPDATE(state->check, strm->next_out - out, out);\n+            UPDATE_CHECK(state->check, strm->next_out - out, out);\n@@ -1428,0 +1455,1 @@\n+    int flags;                  \/* temporary to save header status *\/\n@@ -1460,0 +1488,5 @@\n+    if (state->flags == -1)\n+        state->wrap = 0;    \/* if no header yet, treat as raw *\/\n+    else\n+        state->wrap &= ~4;  \/* no point in computing a check value now *\/\n+    flags = state->flags;\n@@ -1463,0 +1496,1 @@\n+    state->flags = flags;\n@@ -1558,1 +1592,1 @@\n-    if (check)\n+    if (check && state->wrap)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/inflate.c","additions":44,"deletions":10,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2016 Mark Adler\n+ * Copyright (C) 1995-2019 Mark Adler\n@@ -113,1 +113,2 @@\n-    int flags;                  \/* gzip header method and flags (0 if zlib) *\/\n+    int flags;                  \/* gzip header method and flags, 0 if zlib, or\n+                                   -1 if raw or no header yet *\/\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/inflate.h","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2017 Mark Adler\n+ * Copyright (C) 1995-2022 Mark Adler\n@@ -36,1 +36,1 @@\n-   \" inflate 1.2.11 Copyright 1995-2017 Mark Adler \";\n+   \" inflate 1.2.13 Copyright 1995-2022 Mark Adler \";\n@@ -89,1 +89,1 @@\n-        19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 77, 202};\n+        19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 194, 65};\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/inftrees.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-   examples\/enough.c found in the zlib distribtution.  The arguments to that\n+   examples\/enough.c found in the zlib distribution.  The arguments to that\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/inftrees.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-(1) renamed adler32.c -> zadler32.c, zcrc32c -> zcrc32.c\n+Changes from zlib 1.2.13\n@@ -3,3 +3,1 @@\n-(2) zconf.h:\n-    - added _LP64 to make uLong a 32-bit int on 64-bit platform\n-    uLong -> 32-bit int\n+(1) renamed adler32.c -> zadler32.c, crc32c -> zcrc32.c\n@@ -7,90 +5,0 @@\n---------------------------\n-35,37d10\n-< \/* for _LP64 *\/\n-< #include <sys\/types.h>\n-<\n-421,424d393\n-<\n-< #ifdef _LP64\n-< typedef unsigned int  uLong;  \/* 32 bits or more *\/\n-< #else\n-426d394\n-< #endif\n---------------------------\n-\n-(3) updated crc32.c\/crc32(), crc32_z()\n-   unsigned long      -> uLong\n-\n---------------------------\n-\n-226,227c202,203\n-< uLong ZEXPORT crc32_z(crc, buf, len)\n-<     uLong crc;\n----\n-> unsigned long ZEXPORT crc32_z(crc, buf, len)\n->     unsigned long crc;\n-244c220\n-<             return (uLong)crc32_little(crc, buf, len);\n----\n->             return crc32_little(crc, buf, len);\n-246c222\n-<             return (uLong)crc32_big(crc, buf, len);\n----\n->             return crc32_big(crc, buf, len);\n-261,262c237,238\n-< uLong ZEXPORT crc32(crc, buf, len)\n-<     uLong crc;\n----\n-> unsigned long ZEXPORT crc32(crc, buf, len)\n->     unsigned long crc;\n-\n---------------------------\n-\n-(4) gzread.c\n-\n---------------------------\n-343c319\n-<             n = (unsigned)len;\n----\n->             n = len;\n-424c400\n-<     len = (unsigned)gz_read(state, buf, len);\n----\n->     len = gz_read(state, buf, len);\n-496c472\n-<     ret = (int)gz_read(state, buf, 1);\n----\n->     ret = gz_read(state, buf, 1);\n---------------------------\n-\n-(5) gzwrite.c\n-\n---------------------------\n-236c212\n-<                 copy = (unsigned)len;\n----\n->                 copy = len;\n-256c232\n-<                 n = (unsigned)len;\n----\n->                 n = len;\n---------------------------\n-\n-(6) deflate.c  #8184306\n-\n-*** 503,512 ****\n---- 503,514 ----\n-  \n-      s = (deflate_state *)strm->state;\n-      s->pending = 0;\n-      s->pending_out = s->pending_buf;\n-  \n-+     s->high_water = 0;      \/* reset to its inital value 0 *\/\n-+ \n-      if (s->wrap < 0) {\n-          s->wrap = -s->wrap; \/* was made negative by deflate(..., Z_FINISH); *\/\n-      }\n-      s->status =\n-  #ifdef GZIP\n-\n-(7) deflate.c undo (6), replaced withe the official zlib repo fix see#305\/#f969409\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/patches\/ChangeLog_java","additions":2,"deletions":94,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2017 Jean-loup Gailly\n+ * Copyright (C) 1995-2021 Jean-loup Gailly\n@@ -176,1 +176,1 @@\n-local unsigned bi_reverse OF((unsigned value, int length));\n+local unsigned bi_reverse OF((unsigned code, int len));\n@@ -220,1 +220,1 @@\n-     * (16 - bi_valid) bits from value, leaving (width - (16-bi_valid))\n+     * (16 - bi_valid) bits from value, leaving (width - (16 - bi_valid))\n@@ -283,1 +283,1 @@\n-        for (n = 0; n < (1<<extra_lbits[code]); n++) {\n+        for (n = 0; n < (1 << extra_lbits[code]); n++) {\n@@ -292,1 +292,1 @@\n-    _length_code[length-1] = (uch)code;\n+    _length_code[length - 1] = (uch)code;\n@@ -298,1 +298,1 @@\n-        for (n = 0; n < (1<<extra_dbits[code]); n++) {\n+        for (n = 0; n < (1 << extra_dbits[code]); n++) {\n@@ -306,1 +306,1 @@\n-        for (n = 0; n < (1<<(extra_dbits[code]-7)); n++) {\n+        for (n = 0; n < (1 << (extra_dbits[code] - 7)); n++) {\n@@ -310,1 +310,1 @@\n-    Assert (dist == 256, \"tr_static_init: 256+dist != 512\");\n+    Assert (dist == 256, \"tr_static_init: 256 + dist != 512\");\n@@ -339,1 +339,1 @@\n- * Genererate the file trees.h describing the static trees.\n+ * Generate the file trees.h describing the static trees.\n@@ -348,1 +348,1 @@\n-       ((i) % (width) == (width)-1 ? \",\\n\" : \", \"))\n+       ((i) % (width) == (width) - 1 ? \",\\n\" : \", \"))\n@@ -485,1 +485,1 @@\n-            smaller(tree, s->heap[j+1], s->heap[j], s->depth)) {\n+            smaller(tree, s->heap[j + 1], s->heap[j], s->depth)) {\n@@ -534,1 +534,1 @@\n-    for (h = s->heap_max+1; h < HEAP_SIZE; h++) {\n+    for (h = s->heap_max + 1; h < HEAP_SIZE; h++) {\n@@ -545,1 +545,1 @@\n-        if (n >= base) xbits = extra[n-base];\n+        if (n >= base) xbits = extra[n - base];\n@@ -557,1 +557,1 @@\n-        bits = max_length-1;\n+        bits = max_length - 1;\n@@ -559,2 +559,2 @@\n-        s->bl_count[bits]--;      \/* move one leaf down the tree *\/\n-        s->bl_count[bits+1] += 2; \/* move one overflow item as its brother *\/\n+        s->bl_count[bits]--;        \/* move one leaf down the tree *\/\n+        s->bl_count[bits + 1] += 2; \/* move one overflow item as its brother *\/\n@@ -596,1 +596,1 @@\n-local void gen_codes (tree, max_code, bl_count)\n+local void gen_codes(tree, max_code, bl_count)\n@@ -610,1 +610,1 @@\n-        code = (code + bl_count[bits-1]) << 1;\n+        code = (code + bl_count[bits - 1]) << 1;\n@@ -616,1 +616,1 @@\n-    Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n+    Assert (code + bl_count[MAX_BITS] - 1 == (1 << MAX_BITS) - 1,\n@@ -627,1 +627,1 @@\n-             n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));\n+            n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len] - 1));\n@@ -651,1 +651,1 @@\n-     * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n+     * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n + 1].\n@@ -679,1 +679,1 @@\n-    \/* The elements heap[heap_len\/2+1 .. heap_len] are leaves of the tree,\n+    \/* The elements heap[heap_len\/2 + 1 .. heap_len] are leaves of the tree,\n@@ -727,1 +727,1 @@\n-local void scan_tree (s, tree, max_code)\n+local void scan_tree(s, tree, max_code)\n@@ -741,1 +741,1 @@\n-    tree[max_code+1].Len = (ush)0xffff; \/* guard *\/\n+    tree[max_code + 1].Len = (ush)0xffff; \/* guard *\/\n@@ -744,1 +744,1 @@\n-        curlen = nextlen; nextlen = tree[n+1].Len;\n+        curlen = nextlen; nextlen = tree[n + 1].Len;\n@@ -772,1 +772,1 @@\n-local void send_tree (s, tree, max_code)\n+local void send_tree(s, tree, max_code)\n@@ -785,1 +785,1 @@\n-    \/* tree[max_code+1].Len = -1; *\/  \/* guard already set *\/\n+    \/* tree[max_code + 1].Len = -1; *\/  \/* guard already set *\/\n@@ -789,1 +789,1 @@\n-        curlen = nextlen; nextlen = tree[n+1].Len;\n+        curlen = nextlen; nextlen = tree[n + 1].Len;\n@@ -800,1 +800,1 @@\n-            send_code(s, REP_3_6, s->bl_tree); send_bits(s, count-3, 2);\n+            send_code(s, REP_3_6, s->bl_tree); send_bits(s, count - 3, 2);\n@@ -803,1 +803,1 @@\n-            send_code(s, REPZ_3_10, s->bl_tree); send_bits(s, count-3, 3);\n+            send_code(s, REPZ_3_10, s->bl_tree); send_bits(s, count - 3, 3);\n@@ -806,1 +806,1 @@\n-            send_code(s, REPZ_11_138, s->bl_tree); send_bits(s, count-11, 7);\n+            send_code(s, REPZ_11_138, s->bl_tree); send_bits(s, count - 11, 7);\n@@ -834,2 +834,2 @@\n-    \/* opt_len now includes the length of the tree representations, except\n-     * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.\n+    \/* opt_len now includes the length of the tree representations, except the\n+     * lengths of the bit lengths codes and the 5 + 5 + 4 bits for the counts.\n@@ -846,1 +846,1 @@\n-    s->opt_len += 3*((ulg)max_blindex+1) + 5+5+4;\n+    s->opt_len += 3*((ulg)max_blindex + 1) + 5 + 5 + 4;\n@@ -868,3 +868,3 @@\n-    send_bits(s, lcodes-257, 5); \/* not +255 as stated in appnote.txt *\/\n-    send_bits(s, dcodes-1,   5);\n-    send_bits(s, blcodes-4,  4); \/* not -3 as stated in appnote.txt *\/\n+    send_bits(s, lcodes - 257, 5);  \/* not +255 as stated in appnote.txt *\/\n+    send_bits(s, dcodes - 1,   5);\n+    send_bits(s, blcodes - 4,  4);  \/* not -3 as stated in appnote.txt *\/\n@@ -877,1 +877,1 @@\n-    send_tree(s, (ct_data *)s->dyn_ltree, lcodes-1); \/* literal tree *\/\n+    send_tree(s, (ct_data *)s->dyn_ltree, lcodes - 1);  \/* literal tree *\/\n@@ -880,1 +880,1 @@\n-    send_tree(s, (ct_data *)s->dyn_dtree, dcodes-1); \/* distance tree *\/\n+    send_tree(s, (ct_data *)s->dyn_dtree, dcodes - 1);  \/* distance tree *\/\n@@ -893,1 +893,1 @@\n-    send_bits(s, (STORED_BLOCK<<1)+last, 3);    \/* send block type *\/\n+    send_bits(s, (STORED_BLOCK<<1) + last, 3);  \/* send block type *\/\n@@ -897,1 +897,2 @@\n-    zmemcpy(s->pending_buf + s->pending, (Bytef *)buf, stored_len);\n+    if (stored_len)\n+        zmemcpy(s->pending_buf + s->pending, (Bytef *)buf, stored_len);\n@@ -903,1 +904,1 @@\n-    s->bits_sent += stored_len<<3;\n+    s->bits_sent += stored_len << 3;\n@@ -969,2 +970,2 @@\n-        opt_lenb = (s->opt_len+3+7)>>3;\n-        static_lenb = (s->static_len+3+7)>>3;\n+        opt_lenb = (s->opt_len + 3 + 7) >> 3;\n+        static_lenb = (s->static_len + 3 + 7) >> 3;\n@@ -976,1 +977,4 @@\n-        if (static_lenb <= opt_lenb) opt_lenb = static_lenb;\n+#ifndef FORCE_STATIC\n+        if (static_lenb <= opt_lenb || s->strategy == Z_FIXED)\n+#endif\n+            opt_lenb = static_lenb;\n@@ -986,1 +990,1 @@\n-    if (stored_len+4 <= opt_lenb && buf != (char*)0) {\n+    if (stored_len + 4 <= opt_lenb && buf != (char*)0) {\n@@ -997,6 +1001,2 @@\n-#ifdef FORCE_STATIC\n-    } else if (static_lenb >= 0) { \/* force static trees *\/\n-#else\n-    } else if (s->strategy == Z_FIXED || static_lenb == opt_lenb) {\n-#endif\n-        send_bits(s, (STATIC_TREES<<1)+last, 3);\n+    } else if (static_lenb == opt_lenb) {\n+        send_bits(s, (STATIC_TREES<<1) + last, 3);\n@@ -1009,3 +1009,3 @@\n-        send_bits(s, (DYN_TREES<<1)+last, 3);\n-        send_all_trees(s, s->l_desc.max_code+1, s->d_desc.max_code+1,\n-                       max_blindex+1);\n+        send_bits(s, (DYN_TREES<<1) + last, 3);\n+        send_all_trees(s, s->l_desc.max_code + 1, s->d_desc.max_code + 1,\n+                       max_blindex + 1);\n@@ -1030,2 +1030,2 @@\n-    Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len>>3,\n-           s->compressed_len-7*last));\n+    Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len >> 3,\n+           s->compressed_len - 7*last));\n@@ -1038,1 +1038,1 @@\n-int ZLIB_INTERNAL _tr_tally (s, dist, lc)\n+int ZLIB_INTERNAL _tr_tally(s, dist, lc)\n@@ -1041,1 +1041,1 @@\n-    unsigned lc;    \/* match length-MIN_MATCH or unmatched char (if dist==0) *\/\n+    unsigned lc;    \/* match length - MIN_MATCH or unmatched char (dist==0) *\/\n@@ -1057,1 +1057,1 @@\n-        s->dyn_ltree[_length_code[lc]+LITERALS+1].Freq++;\n+        s->dyn_ltree[_length_code[lc] + LITERALS + 1].Freq++;\n@@ -1087,1 +1087,1 @@\n-            send_code(s, code+LITERALS+1, ltree); \/* send the length code *\/\n+            send_code(s, code + LITERALS + 1, ltree);   \/* send length code *\/\n@@ -1117,1 +1117,1 @@\n- *       \"black list\" (0..6, 14..25, 28..31).\n+ *       \"block list\" (0..6, 14..25, 28..31).\n@@ -1119,1 +1119,1 @@\n- *       \"white list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n+ *       \"allow list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n@@ -1129,1 +1129,1 @@\n-    \/* black_mask is the bit mask of black-listed bytes\n+    \/* block_mask is the bit mask of block-listed bytes\n@@ -1133,1 +1133,1 @@\n-    unsigned long black_mask = 0xf3ffc07fUL;\n+    unsigned long block_mask = 0xf3ffc07fUL;\n@@ -1136,3 +1136,3 @@\n-    \/* Check for non-textual (\"black-listed\") bytes. *\/\n-    for (n = 0; n <= 31; n++, black_mask >>= 1)\n-        if ((black_mask & 1) && (s->dyn_ltree[n].Freq != 0))\n+    \/* Check for non-textual (\"block-listed\") bytes. *\/\n+    for (n = 0; n <= 31; n++, block_mask >>= 1)\n+        if ((block_mask & 1) && (s->dyn_ltree[n].Freq != 0))\n@@ -1141,1 +1141,1 @@\n-    \/* Check for textual (\"white-listed\") bytes. *\/\n+    \/* Check for textual (\"allow-listed\") bytes. *\/\n@@ -1149,1 +1149,1 @@\n-    \/* There are no \"black-listed\" or \"white-listed\" bytes:\n+    \/* There are no \"block-listed\" or \"allow-listed\" bytes:\n@@ -1203,1 +1203,1 @@\n-    s->bits_sent = (s->bits_sent+7) & ~7;\n+    s->bits_sent = (s->bits_sent + 7) & ~7;\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/trees.c","additions":71,"deletions":71,"binary":false,"changes":142,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n-int ZEXPORT uncompress2 (dest, destLen, source, sourceLen)\n+int ZEXPORT uncompress2(dest, destLen, source, sourceLen)\n@@ -110,1 +110,1 @@\n-int ZEXPORT uncompress (dest, destLen, source, sourceLen)\n+int ZEXPORT uncompress(dest, destLen, source, sourceLen)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/uncompr.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,3 +35,0 @@\n-\/* for _LP64 *\/\n-#include <sys\/types.h>\n-\n@@ -68,0 +65,3 @@\n+#  define crc32_combine_gen     z_crc32_combine_gen\n+#  define crc32_combine_gen64   z_crc32_combine_gen64\n+#  define crc32_combine_op      z_crc32_combine_op\n@@ -379,0 +379,3 @@\n+#    ifndef WIN32_LEAN_AND_MEAN\n+#      define WIN32_LEAN_AND_MEAN\n+#    endif\n@@ -421,4 +424,0 @@\n-\n-#ifdef _LP64\n-typedef unsigned int  uLong;  \/* 32 bits or more *\/\n-#else\n@@ -426,1 +425,0 @@\n-#endif\n@@ -502,2 +500,9 @@\n-#if defined(__WATCOMC__) && !defined(Z_HAVE_UNISTD_H)\n-#  define Z_HAVE_UNISTD_H\n+#ifndef Z_HAVE_UNISTD_H\n+#  ifdef __WATCOMC__\n+#    define Z_HAVE_UNISTD_H\n+#  endif\n+#endif\n+#ifndef Z_HAVE_UNISTD_H\n+#  if defined(_LARGEFILE64_SOURCE) && !defined(_WIN32)\n+#    define Z_HAVE_UNISTD_H\n+#  endif\n@@ -506,1 +511,1 @@\n-#  if defined(Z_HAVE_UNISTD_H) || defined(_LARGEFILE64_SOURCE)\n+#  if defined(Z_HAVE_UNISTD_H)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/zconf.h","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2006, 2010, 2011, 2012, 2016 Mark Adler\n+ * Copyright (C) 1995-2022 Mark Adler\n@@ -29,5 +29,3 @@\n- * Thanks to Rodney Brown <rbrown64@csc.com.au> for his contribution of faster\n- * CRC methods: exclusive-oring 32 bits of data at a time, and pre-computing\n- * tables for updating the shift register in one step with three exclusive-ors\n- * instead of four steps with four exclusive-ors.  This results in about a\n- * factor of two increase in speed on a Power PC G4 (PPC7455) using gcc -O3.\n+ * This interleaved implementation of a CRC makes use of pipelined multiple\n+ * arithmetic-logic units, commonly found in modern CPU cores. It is due to\n+ * Kadatch and Jenkins (2010). See doc\/crc-doc.1.0.pdf in this distribution.\n@@ -41,1 +39,1 @@\n-  of the crc tables.  Therefore, if you #define DYNAMIC_CRC_TABLE, you should\n+  of the crc tables. Therefore, if you #define DYNAMIC_CRC_TABLE, you should\n@@ -45,1 +43,2 @@\n-  DYNAMIC_CRC_TABLE and MAKECRCH can be #defined to write out crc32.h.\n+  MAKECRCH can be #defined to write out crc32.h. A main() routine is also\n+  produced, so that this one source file can be compiled to an executable.\n@@ -55,1 +54,1 @@\n-#include \"zutil.h\"      \/* for STDC and FAR definitions *\/\n+#include \"zutil.h\"      \/* for Z_U4, Z_U8, z_crc_t, and FAR definitions *\/\n@@ -57,3 +56,29 @@\n-\/* Definitions for doing the crc four data bytes at a time. *\/\n-#if !defined(NOBYFOUR) && defined(Z_U4)\n-#  define BYFOUR\n+ \/*\n+  A CRC of a message is computed on N braids of words in the message, where\n+  each word consists of W bytes (4 or 8). If N is 3, for example, then three\n+  running sparse CRCs are calculated respectively on each braid, at these\n+  indices in the array of words: 0, 3, 6, ..., 1, 4, 7, ..., and 2, 5, 8, ...\n+  This is done starting at a word boundary, and continues until as many blocks\n+  of N * W bytes as are available have been processed. The results are combined\n+  into a single CRC at the end. For this code, N must be in the range 1..6 and\n+  W must be 4 or 8. The upper limit on N can be increased if desired by adding\n+  more #if blocks, extending the patterns apparent in the code. In addition,\n+  crc32.h would need to be regenerated, if the maximum N value is increased.\n+\n+  N and W are chosen empirically by benchmarking the execution time on a given\n+  processor. The choices for N and W below were based on testing on Intel Kaby\n+  Lake i7, AMD Ryzen 7, ARM Cortex-A57, Sparc64-VII, PowerPC POWER9, and MIPS64\n+  Octeon II processors. The Intel, AMD, and ARM processors were all fastest\n+  with N=5, W=8. The Sparc, PowerPC, and MIPS64 were all fastest at N=5, W=4.\n+  They were all tested with either gcc or clang, all using the -O3 optimization\n+  level. Your mileage may vary.\n+ *\/\n+\n+\/* Define N *\/\n+#ifdef Z_TESTN\n+#  define N Z_TESTN\n+#else\n+#  define N 5\n+#endif\n+#if N < 1 || N > 6\n+#  error N must be in 1..6\n@@ -61,6 +86,16 @@\n-#ifdef BYFOUR\n-   local unsigned long crc32_little OF((unsigned long,\n-                        const unsigned char FAR *, z_size_t));\n-   local unsigned long crc32_big OF((unsigned long,\n-                        const unsigned char FAR *, z_size_t));\n-#  define TBLS 8\n+\n+\/*\n+  z_crc_t must be at least 32 bits. z_word_t must be at least as long as\n+  z_crc_t. It is assumed here that z_word_t is either 32 bits or 64 bits, and\n+  that bytes are eight bits.\n+ *\/\n+\n+\/*\n+  Define W and the associated z_word_t type. If W is not defined, then a\n+  braided calculation is not used, and the associated tables and code are not\n+  compiled.\n+ *\/\n+#ifdef Z_TESTW\n+#  if Z_TESTW-1 != -1\n+#    define W Z_TESTW\n+#  endif\n@@ -68,2 +103,39 @@\n-#  define TBLS 1\n-#endif \/* BYFOUR *\/\n+#  ifdef MAKECRCH\n+#    define W 8         \/* required for MAKECRCH *\/\n+#  else\n+#    if defined(__x86_64__) || defined(__aarch64__)\n+#      define W 8\n+#    else\n+#      define W 4\n+#    endif\n+#  endif\n+#endif\n+#ifdef W\n+#  if W == 8 && defined(Z_U8)\n+     typedef Z_U8 z_word_t;\n+#  elif defined(Z_U4)\n+#    undef W\n+#    define W 4\n+     typedef Z_U4 z_word_t;\n+#  else\n+#    undef W\n+#  endif\n+#endif\n+\n+\/* If available, use the ARM processor CRC32 instruction. *\/\n+#if defined(__aarch64__) && defined(__ARM_FEATURE_CRC32) && W == 8\n+#  define ARMCRC32\n+#endif\n+\n+\/* Local functions. *\/\n+local z_crc_t multmodp OF((z_crc_t a, z_crc_t b));\n+local z_crc_t x2nmodp OF((z_off64_t n, unsigned k));\n+\n+#if defined(W) && (!defined(ARMCRC32) || defined(DYNAMIC_CRC_TABLE))\n+    local z_word_t byte_swap OF((z_word_t word));\n+#endif\n+\n+#if defined(W) && !defined(ARMCRC32)\n+    local z_crc_t crc_word OF((z_word_t data));\n+    local z_word_t crc_word_big OF((z_word_t data));\n+#endif\n@@ -71,5 +143,29 @@\n-\/* Local functions for crc concatenation *\/\n-local unsigned long gf2_matrix_times OF((unsigned long *mat,\n-                                         unsigned long vec));\n-local void gf2_matrix_square OF((unsigned long *square, unsigned long *mat));\n-local uLong crc32_combine_ OF((uLong crc1, uLong crc2, z_off64_t len2));\n+#if defined(W) && (!defined(ARMCRC32) || defined(DYNAMIC_CRC_TABLE))\n+\/*\n+  Swap the bytes in a z_word_t to convert between little and big endian. Any\n+  self-respecting compiler will optimize this to a single machine byte-swap\n+  instruction, if one is available. This assumes that word_t is either 32 bits\n+  or 64 bits.\n+ *\/\n+local z_word_t byte_swap(word)\n+    z_word_t word;\n+{\n+#  if W == 8\n+    return\n+        (word & 0xff00000000000000) >> 56 |\n+        (word & 0xff000000000000) >> 40 |\n+        (word & 0xff0000000000) >> 24 |\n+        (word & 0xff00000000) >> 8 |\n+        (word & 0xff000000) << 8 |\n+        (word & 0xff0000) << 24 |\n+        (word & 0xff00) << 40 |\n+        (word & 0xff) << 56;\n+#  else   \/* W == 4 *\/\n+    return\n+        (word & 0xff000000) >> 24 |\n+        (word & 0xff0000) >> 8 |\n+        (word & 0xff00) << 8 |\n+        (word & 0xff) << 24;\n+#  endif\n+}\n+#endif\n@@ -77,0 +173,2 @@\n+\/* CRC polynomial. *\/\n+#define POLY 0xedb88320         \/* p(x) reflected, with x^32 implied *\/\n@@ -80,2 +178,2 @@\n-local volatile int crc_table_empty = 1;\n-local z_crc_t FAR crc_table[TBLS][256];\n+local z_crc_t FAR crc_table[256];\n+local z_crc_t FAR x2n_table[32];\n@@ -83,0 +181,6 @@\n+#ifdef W\n+   local z_word_t FAR crc_big_table[256];\n+   local z_crc_t FAR crc_braid_table[W][256];\n+   local z_word_t FAR crc_braid_big_table[W][256];\n+   local void braid OF((z_crc_t [][256], z_word_t [][256], int, int));\n+#endif\n@@ -84,1 +188,3 @@\n-   local void write_table OF((FILE *, const z_crc_t FAR *));\n+   local void write_table OF((FILE *, const z_crc_t FAR *, int));\n+   local void write_table32hi OF((FILE *, const z_word_t FAR *, int));\n+   local void write_table64 OF((FILE *, const z_word_t FAR *, int));\n@@ -86,0 +192,89 @@\n+\n+\/*\n+  Define a once() function depending on the availability of atomics. If this is\n+  compiled with DYNAMIC_CRC_TABLE defined, and if CRCs will be computed in\n+  multiple threads, and if atomics are not available, then get_crc_table() must\n+  be called to initialize the tables and must return before any threads are\n+  allowed to compute or combine CRCs.\n+ *\/\n+\n+\/* Definition of once functionality. *\/\n+typedef struct once_s once_t;\n+local void once OF((once_t *, void (*)(void)));\n+\n+\/* Check for the availability of atomics. *\/\n+#if defined(__STDC__) && __STDC_VERSION__ >= 201112L && \\\n+    !defined(__STDC_NO_ATOMICS__)\n+\n+#include <stdatomic.h>\n+\n+\/* Structure for once(), which must be initialized with ONCE_INIT. *\/\n+struct once_s {\n+    atomic_flag begun;\n+    atomic_int done;\n+};\n+#define ONCE_INIT {ATOMIC_FLAG_INIT, 0}\n+\n+\/*\n+  Run the provided init() function exactly once, even if multiple threads\n+  invoke once() at the same time. The state must be a once_t initialized with\n+  ONCE_INIT.\n+ *\/\n+local void once(state, init)\n+    once_t *state;\n+    void (*init)(void);\n+{\n+    if (!atomic_load(&state->done)) {\n+        if (atomic_flag_test_and_set(&state->begun))\n+            while (!atomic_load(&state->done))\n+                ;\n+        else {\n+            init();\n+            atomic_store(&state->done, 1);\n+        }\n+    }\n+}\n+\n+#else   \/* no atomics *\/\n+\n+\/* Structure for once(), which must be initialized with ONCE_INIT. *\/\n+struct once_s {\n+    volatile int begun;\n+    volatile int done;\n+};\n+#define ONCE_INIT {0, 0}\n+\n+\/* Test and set. Alas, not atomic, but tries to minimize the period of\n+   vulnerability. *\/\n+local int test_and_set OF((int volatile *));\n+local int test_and_set(flag)\n+    int volatile *flag;\n+{\n+    int was;\n+\n+    was = *flag;\n+    *flag = 1;\n+    return was;\n+}\n+\n+\/* Run the provided init() function once. This is not thread-safe. *\/\n+local void once(state, init)\n+    once_t *state;\n+    void (*init)(void);\n+{\n+    if (!state->done) {\n+        if (test_and_set(&state->begun))\n+            while (!state->done)\n+                ;\n+        else {\n+            init();\n+            state->done = 1;\n+        }\n+    }\n+}\n+\n+#endif\n+\n+\/* State for once(). *\/\n+local once_t made = ONCE_INIT;\n+\n@@ -91,1 +286,1 @@\n-  with the lowest powers in the most significant bit.  Then adding polynomials\n+  with the lowest powers in the most significant bit. Then adding polynomials\n@@ -93,1 +288,1 @@\n-  one.  If we call the above polynomial p, and represent a byte as the\n+  one. If we call the above polynomial p, and represent a byte as the\n@@ -95,1 +290,1 @@\n-  byte 0xb1 is the polynomial x^7+x^3+x+1), then the CRC is (q*x^32) mod p,\n+  byte 0xb1 is the polynomial x^7+x^3+x^2+1), then the CRC is (q*x^32) mod p,\n@@ -99,1 +294,1 @@\n-  taking the remainder.  The register is initialized to zero, and for each\n+  taking the remainder. The register is initialized to zero, and for each\n@@ -101,11 +296,10 @@\n-  x^32 mod p is p+x^32 = x^26+...+1), and the register is multiplied mod p by\n-  x (which is shifting right by one and adding x^32 mod p if the bit shifted\n-  out is a one).  We start with the highest power (least significant bit) of\n-  q and repeat for all eight bits of q.\n-\n-  The first table is simply the CRC of all possible eight bit values.  This is\n-  all the information needed to generate CRCs on data a byte at a time for all\n-  combinations of CRC register values and incoming bytes.  The remaining tables\n-  allow for word-at-a-time CRC calculation for both big-endian and little-\n-  endian machines, where a word is four bytes.\n-*\/\n+  x^32 mod p is p+x^32 = x^26+...+1), and the register is multiplied mod p by x\n+  (which is shifting right by one and adding x^32 mod p if the bit shifted out\n+  is a one). We start with the highest power (least significant bit) of q and\n+  repeat for all eight bits of q.\n+\n+  The table is simply the CRC of all possible eight bit values. This is all the\n+  information needed to generate CRCs on data a byte at a time for all\n+  combinations of CRC register values and incoming bytes.\n+ *\/\n+\n@@ -114,39 +308,2 @@\n-    z_crc_t c;\n-    int n, k;\n-    z_crc_t poly;                       \/* polynomial exclusive-or pattern *\/\n-    \/* terms of polynomial defining this crc (except x^32): *\/\n-    static volatile int first = 1;      \/* flag to limit concurrent making *\/\n-    static const unsigned char p[] = {0,1,2,4,5,7,8,10,11,12,16,22,23,26};\n-\n-    \/* See if another task is already doing this (not thread-safe, but better\n-       than nothing -- significantly reduces duration of vulnerability in\n-       case the advice about DYNAMIC_CRC_TABLE is ignored) *\/\n-    if (first) {\n-        first = 0;\n-\n-        \/* make exclusive-or pattern from polynomial (0xedb88320UL) *\/\n-        poly = 0;\n-        for (n = 0; n < (int)(sizeof(p)\/sizeof(unsigned char)); n++)\n-            poly |= (z_crc_t)1 << (31 - p[n]);\n-\n-        \/* generate a crc for every 8-bit value *\/\n-        for (n = 0; n < 256; n++) {\n-            c = (z_crc_t)n;\n-            for (k = 0; k < 8; k++)\n-                c = c & 1 ? poly ^ (c >> 1) : c >> 1;\n-            crc_table[0][n] = c;\n-        }\n-\n-#ifdef BYFOUR\n-        \/* generate crc for each value followed by one, two, and three zeros,\n-           and then the byte reversal of those as well as the first table *\/\n-        for (n = 0; n < 256; n++) {\n-            c = crc_table[0][n];\n-            crc_table[4][n] = ZSWAP32(c);\n-            for (k = 1; k < 4; k++) {\n-                c = crc_table[0][c & 0xff] ^ (c >> 8);\n-                crc_table[k][n] = c;\n-                crc_table[k + 4][n] = ZSWAP32(c);\n-            }\n-        }\n-#endif \/* BYFOUR *\/\n+    unsigned i, j, n;\n+    z_crc_t p;\n@@ -154,6 +311,9 @@\n-        crc_table_empty = 0;\n-    }\n-    else {      \/* not first *\/\n-        \/* wait for the other guy to finish (not efficient, but rare) *\/\n-        while (crc_table_empty)\n-            ;\n+    \/* initialize the CRC of bytes tables *\/\n+    for (i = 0; i < 256; i++) {\n+        p = i;\n+        for (j = 0; j < 8; j++)\n+            p = p & 1 ? (p >> 1) ^ POLY : p >> 1;\n+        crc_table[i] = p;\n+#ifdef W\n+        crc_big_table[i] = byte_swap(p);\n+#endif\n@@ -162,0 +322,11 @@\n+    \/* initialize the x^2^n mod p(x) table *\/\n+    p = (z_crc_t)1 << 30;         \/* x^1 *\/\n+    x2n_table[0] = p;\n+    for (n = 1; n < 32; n++)\n+        x2n_table[n] = p = multmodp(p, p);\n+\n+#ifdef W\n+    \/* initialize the braiding tables -- needs x2n_table[] *\/\n+    braid(crc_braid_table, crc_braid_big_table, N, W);\n+#endif\n+\n@@ -163,1 +334,0 @@\n-    \/* write out CRC tables to crc32.h *\/\n@@ -165,0 +335,9 @@\n+        \/*\n+          The crc32.h header file contains tables for both 32-bit and 64-bit\n+          z_word_t's, and so requires a 64-bit type be available. In that case,\n+          z_word_t must be defined to be 64-bits. This code then also generates\n+          and writes out the tables for the case that z_word_t is 32 bits.\n+         *\/\n+#if !defined(W) || W != 8\n+#  error Need a 64-bit integer type in order to generate crc32.h.\n+#endif\n@@ -166,0 +345,3 @@\n+        int k, n;\n+        z_crc_t ltl[8][256];\n+        z_word_t big[8][256];\n@@ -169,10 +351,99 @@\n-        fprintf(out, \"\/* crc32.h -- tables for rapid CRC calculation\\n\");\n-        fprintf(out, \" * Generated automatically by crc32.c\\n *\/\\n\\n\");\n-        fprintf(out, \"local const z_crc_t FAR \");\n-        fprintf(out, \"crc_table[TBLS][256] =\\n{\\n  {\\n\");\n-        write_table(out, crc_table[0]);\n-#  ifdef BYFOUR\n-        fprintf(out, \"#ifdef BYFOUR\\n\");\n-        for (k = 1; k < 8; k++) {\n-            fprintf(out, \"  },\\n  {\\n\");\n-            write_table(out, crc_table[k]);\n+\n+        \/* write out little-endian CRC table to crc32.h *\/\n+        fprintf(out,\n+            \"\/* crc32.h -- tables for rapid CRC calculation\\n\"\n+            \" * Generated automatically by crc32.c\\n *\/\\n\"\n+            \"\\n\"\n+            \"local const z_crc_t FAR crc_table[] = {\\n\"\n+            \"    \");\n+        write_table(out, crc_table, 256);\n+        fprintf(out,\n+            \"};\\n\");\n+\n+        \/* write out big-endian CRC table for 64-bit z_word_t to crc32.h *\/\n+        fprintf(out,\n+            \"\\n\"\n+            \"#ifdef W\\n\"\n+            \"\\n\"\n+            \"#if W == 8\\n\"\n+            \"\\n\"\n+            \"local const z_word_t FAR crc_big_table[] = {\\n\"\n+            \"    \");\n+        write_table64(out, crc_big_table, 256);\n+        fprintf(out,\n+            \"};\\n\");\n+\n+        \/* write out big-endian CRC table for 32-bit z_word_t to crc32.h *\/\n+        fprintf(out,\n+            \"\\n\"\n+            \"#else \/* W == 4 *\/\\n\"\n+            \"\\n\"\n+            \"local const z_word_t FAR crc_big_table[] = {\\n\"\n+            \"    \");\n+        write_table32hi(out, crc_big_table, 256);\n+        fprintf(out,\n+            \"};\\n\"\n+            \"\\n\"\n+            \"#endif\\n\");\n+\n+        \/* write out braid tables for each value of N *\/\n+        for (n = 1; n <= 6; n++) {\n+            fprintf(out,\n+            \"\\n\"\n+            \"#if N == %d\\n\", n);\n+\n+            \/* compute braid tables for this N and 64-bit word_t *\/\n+            braid(ltl, big, n, 8);\n+\n+            \/* write out braid tables for 64-bit z_word_t to crc32.h *\/\n+            fprintf(out,\n+            \"\\n\"\n+            \"#if W == 8\\n\"\n+            \"\\n\"\n+            \"local const z_crc_t FAR crc_braid_table[][256] = {\\n\");\n+            for (k = 0; k < 8; k++) {\n+                fprintf(out, \"   {\");\n+                write_table(out, ltl[k], 256);\n+                fprintf(out, \"}%s\", k < 7 ? \",\\n\" : \"\");\n+            }\n+            fprintf(out,\n+            \"};\\n\"\n+            \"\\n\"\n+            \"local const z_word_t FAR crc_braid_big_table[][256] = {\\n\");\n+            for (k = 0; k < 8; k++) {\n+                fprintf(out, \"   {\");\n+                write_table64(out, big[k], 256);\n+                fprintf(out, \"}%s\", k < 7 ? \",\\n\" : \"\");\n+            }\n+            fprintf(out,\n+            \"};\\n\");\n+\n+            \/* compute braid tables for this N and 32-bit word_t *\/\n+            braid(ltl, big, n, 4);\n+\n+            \/* write out braid tables for 32-bit z_word_t to crc32.h *\/\n+            fprintf(out,\n+            \"\\n\"\n+            \"#else \/* W == 4 *\/\\n\"\n+            \"\\n\"\n+            \"local const z_crc_t FAR crc_braid_table[][256] = {\\n\");\n+            for (k = 0; k < 4; k++) {\n+                fprintf(out, \"   {\");\n+                write_table(out, ltl[k], 256);\n+                fprintf(out, \"}%s\", k < 3 ? \",\\n\" : \"\");\n+            }\n+            fprintf(out,\n+            \"};\\n\"\n+            \"\\n\"\n+            \"local const z_word_t FAR crc_braid_big_table[][256] = {\\n\");\n+            for (k = 0; k < 4; k++) {\n+                fprintf(out, \"   {\");\n+                write_table32hi(out, big[k], 256);\n+                fprintf(out, \"}%s\", k < 3 ? \",\\n\" : \"\");\n+            }\n+            fprintf(out,\n+            \"};\\n\"\n+            \"\\n\"\n+            \"#endif\\n\"\n+            \"\\n\"\n+            \"#endif\\n\");\n@@ -180,3 +451,12 @@\n-        fprintf(out, \"#endif\\n\");\n-#  endif \/* BYFOUR *\/\n-        fprintf(out, \"  }\\n};\\n\");\n+        fprintf(out,\n+            \"\\n\"\n+            \"#endif\\n\");\n+\n+        \/* write out zeros operator table to crc32.h *\/\n+        fprintf(out,\n+            \"\\n\"\n+            \"local const z_crc_t FAR x2n_table[] = {\\n\"\n+            \"    \");\n+        write_table(out, x2n_table, 32);\n+        fprintf(out,\n+            \"};\\n\");\n@@ -189,1 +469,6 @@\n-local void write_table(out, table)\n+\n+\/*\n+   Write the 32-bit values in table[0..k-1] to out, five per line in\n+   hexadecimal separated by commas.\n+ *\/\n+local void write_table(out, table, k)\n@@ -192,0 +477,1 @@\n+    int k;\n@@ -195,2 +481,2 @@\n-    for (n = 0; n < 256; n++)\n-        fprintf(out, \"%s0x%08lxUL%s\", n % 5 ? \"\" : \"    \",\n+    for (n = 0; n < k; n++)\n+        fprintf(out, \"%s0x%08lx%s\", n == 0 || n % 5 ? \"\" : \"    \",\n@@ -198,1 +484,1 @@\n-                n == 255 ? \"\\n\" : (n % 5 == 4 ? \",\\n\" : \", \"));\n+                n == k - 1 ? \"\" : (n % 5 == 4 ? \",\\n\" : \", \"));\n@@ -200,0 +486,45 @@\n+\n+\/*\n+   Write the high 32-bits of each value in table[0..k-1] to out, five per line\n+   in hexadecimal separated by commas.\n+ *\/\n+local void write_table32hi(out, table, k)\n+FILE *out;\n+const z_word_t FAR *table;\n+int k;\n+{\n+    int n;\n+\n+    for (n = 0; n < k; n++)\n+        fprintf(out, \"%s0x%08lx%s\", n == 0 || n % 5 ? \"\" : \"    \",\n+                (unsigned long)(table[n] >> 32),\n+                n == k - 1 ? \"\" : (n % 5 == 4 ? \",\\n\" : \", \"));\n+}\n+\n+\/*\n+  Write the 64-bit values in table[0..k-1] to out, three per line in\n+  hexadecimal separated by commas. This assumes that if there is a 64-bit\n+  type, then there is also a long long integer type, and it is at least 64\n+  bits. If not, then the type cast and format string can be adjusted\n+  accordingly.\n+ *\/\n+local void write_table64(out, table, k)\n+    FILE *out;\n+    const z_word_t FAR *table;\n+    int k;\n+{\n+    int n;\n+\n+    for (n = 0; n < k; n++)\n+        fprintf(out, \"%s0x%016llx%s\", n == 0 || n % 3 ? \"\" : \"    \",\n+                (unsigned long long)(table[n]),\n+                n == k - 1 ? \"\" : (n % 3 == 2 ? \",\\n\" : \", \"));\n+}\n+\n+\/* Actually do the deed. *\/\n+int main()\n+{\n+    make_crc_table();\n+    return 0;\n+}\n+\n@@ -202,0 +533,25 @@\n+#ifdef W\n+\/*\n+  Generate the little and big-endian braid tables for the given n and z_word_t\n+  size w. Each array must have room for w blocks of 256 elements.\n+ *\/\n+local void braid(ltl, big, n, w)\n+    z_crc_t ltl[][256];\n+    z_word_t big[][256];\n+    int n;\n+    int w;\n+{\n+    int k;\n+    z_crc_t i, p, q;\n+    for (k = 0; k < w; k++) {\n+        p = x2nmodp((n * w + 3 - k) << 3, 0);\n+        ltl[k][0] = 0;\n+        big[w - 1 - k][0] = 0;\n+        for (i = 1; i < 256; i++) {\n+            ltl[k][i] = q = multmodp(i << 24, p);\n+            big[w - 1 - k][i] = byte_swap(q);\n+        }\n+    }\n+}\n+#endif\n+\n@@ -204,1 +560,2 @@\n- * Tables of CRC-32s of all single-byte values, made by make_crc_table().\n+ * Tables for byte-wise and braided CRC-32 calculations, and a table of powers\n+ * of x for combining CRC-32s, all made by make_crc_table().\n@@ -209,0 +566,49 @@\n+\/* ========================================================================\n+ * Routines used for CRC calculation. Some are also required for the table\n+ * generation above.\n+ *\/\n+\n+\/*\n+  Return a(x) multiplied by b(x) modulo p(x), where p(x) is the CRC polynomial,\n+  reflected. For speed, this requires that a not be zero.\n+ *\/\n+local z_crc_t multmodp(a, b)\n+    z_crc_t a;\n+    z_crc_t b;\n+{\n+    z_crc_t m, p;\n+\n+    m = (z_crc_t)1 << 31;\n+    p = 0;\n+    for (;;) {\n+        if (a & m) {\n+            p ^= b;\n+            if ((a & (m - 1)) == 0)\n+                break;\n+        }\n+        m >>= 1;\n+        b = b & 1 ? (b >> 1) ^ POLY : b >> 1;\n+    }\n+    return p;\n+}\n+\n+\/*\n+  Return x^(n * 2^k) modulo p(x). Requires that x2n_table[] has been\n+  initialized.\n+ *\/\n+local z_crc_t x2nmodp(n, k)\n+    z_off64_t n;\n+    unsigned k;\n+{\n+    z_crc_t p;\n+\n+    p = (z_crc_t)1 << 31;           \/* x^0 == 1 *\/\n+    while (n) {\n+        if (n & 1)\n+            p = multmodp(x2n_table[k & 31], p);\n+        n >>= 1;\n+        k++;\n+    }\n+    return p;\n+}\n+\n@@ -210,1 +616,2 @@\n- * This function can be used by asm versions of crc32()\n+ * This function can be used by asm versions of crc32(), and to force the\n+ * generation of the CRC tables in a threaded application.\n@@ -215,2 +622,1 @@\n-    if (crc_table_empty)\n-        make_crc_table();\n+    once(&made, make_crc_table);\n@@ -221,3 +627,10 @@\n-\/* ========================================================================= *\/\n-#define DO1 crc = crc_table[0][((int)crc ^ (*buf++)) & 0xff] ^ (crc >> 8)\n-#define DO8 DO1; DO1; DO1; DO1; DO1; DO1; DO1; DO1\n+\/* =========================================================================\n+ * Use ARM machine instructions if available. This will compute the CRC about\n+ * ten times faster than the braided calculation. This code does not check for\n+ * the presence of the CRC instruction at run time. __ARM_FEATURE_CRC32 will\n+ * only be defined if the compilation specifies an ARM processor architecture\n+ * that has the instructions. For example, compiling with -march=armv8.1-a or\n+ * -march=armv8-a+crc, or -march=native if the compile machine has the crc32\n+ * instructions.\n+ *\/\n+#ifdef ARMCRC32\n@@ -225,3 +638,10 @@\n-\/* ========================================================================= *\/\n-uLong ZEXPORT crc32_z(crc, buf, len)\n-    uLong crc;\n+\/*\n+   Constants empirically determined to maximize speed. These values are from\n+   measurements on a Cortex-A57. Your mileage may vary.\n+ *\/\n+#define Z_BATCH 3990                \/* number of words in a batch *\/\n+#define Z_BATCH_ZEROS 0xa10d3d0c    \/* computed from Z_BATCH = 3990 *\/\n+#define Z_BATCH_MIN 800             \/* fewest words in a final batch *\/\n+\n+unsigned long ZEXPORT crc32_z(crc, buf, len)\n+    unsigned long crc;\n@@ -231,1 +651,9 @@\n-    if (buf == Z_NULL) return 0UL;\n+    z_crc_t val;\n+    z_word_t crc1, crc2;\n+    const z_word_t *word;\n+    z_word_t val0, val1, val2;\n+    z_size_t last, last2, i;\n+    z_size_t num;\n+\n+    \/* Return initial CRC, if requested. *\/\n+    if (buf == Z_NULL) return 0;\n@@ -234,2 +662,1 @@\n-    if (crc_table_empty)\n-        make_crc_table();\n+    once(&made, make_crc_table);\n@@ -238,3 +665,2 @@\n-#ifdef BYFOUR\n-    if (sizeof(void *) == sizeof(ptrdiff_t)) {\n-        z_crc_t endian;\n+    \/* Pre-condition the CRC *\/\n+    crc = (~crc) & 0xffffffff;\n@@ -242,5 +668,5 @@\n-        endian = 1;\n-        if (*((unsigned char *)(&endian)))\n-            return (uLong)crc32_little(crc, buf, len);\n-        else\n-            return (uLong)crc32_big(crc, buf, len);\n+    \/* Compute the CRC up to a word boundary. *\/\n+    while (len && ((z_size_t)buf & 7) != 0) {\n+        len--;\n+        val = *buf++;\n+        __asm__ volatile(\"crc32b %w0, %w0, %w1\" : \"+r\"(crc) : \"r\"(val));\n@@ -248,5 +674,24 @@\n-#endif \/* BYFOUR *\/\n-    crc = crc ^ 0xffffffffUL;\n-    while (len >= 8) {\n-        DO8;\n-        len -= 8;\n+\n+    \/* Prepare to compute the CRC on full 64-bit words word[0..num-1]. *\/\n+    word = (z_word_t const *)buf;\n+    num = len >> 3;\n+    len &= 7;\n+\n+    \/* Do three interleaved CRCs to realize the throughput of one crc32x\n+       instruction per cycle. Each CRC is calculated on Z_BATCH words. The\n+       three CRCs are combined into a single CRC after each set of batches. *\/\n+    while (num >= 3 * Z_BATCH) {\n+        crc1 = 0;\n+        crc2 = 0;\n+        for (i = 0; i < Z_BATCH; i++) {\n+            val0 = word[i];\n+            val1 = word[i + Z_BATCH];\n+            val2 = word[i + 2 * Z_BATCH];\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc) : \"r\"(val0));\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc1) : \"r\"(val1));\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc2) : \"r\"(val2));\n+        }\n+        word += 3 * Z_BATCH;\n+        num -= 3 * Z_BATCH;\n+        crc = multmodp(Z_BATCH_ZEROS, crc) ^ crc1;\n+        crc = multmodp(Z_BATCH_ZEROS, crc) ^ crc2;\n@@ -254,5 +699,0 @@\n-    if (len) do {\n-        DO1;\n-    } while (--len);\n-    return crc ^ 0xffffffffUL;\n-}\n@@ -260,7 +700,39 @@\n-\/* ========================================================================= *\/\n-uLong ZEXPORT crc32(crc, buf, len)\n-    uLong crc;\n-    const unsigned char FAR *buf;\n-    uInt len;\n-{\n-    return crc32_z(crc, buf, len);\n+    \/* Do one last smaller batch with the remaining words, if there are enough\n+       to pay for the combination of CRCs. *\/\n+    last = num \/ 3;\n+    if (last >= Z_BATCH_MIN) {\n+        last2 = last << 1;\n+        crc1 = 0;\n+        crc2 = 0;\n+        for (i = 0; i < last; i++) {\n+            val0 = word[i];\n+            val1 = word[i + last];\n+            val2 = word[i + last2];\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc) : \"r\"(val0));\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc1) : \"r\"(val1));\n+            __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc2) : \"r\"(val2));\n+        }\n+        word += 3 * last;\n+        num -= 3 * last;\n+        val = x2nmodp(last, 6);\n+        crc = multmodp(val, crc) ^ crc1;\n+        crc = multmodp(val, crc) ^ crc2;\n+    }\n+\n+    \/* Compute the CRC on any remaining words. *\/\n+    for (i = 0; i < num; i++) {\n+        val0 = word[i];\n+        __asm__ volatile(\"crc32x %w0, %w0, %x1\" : \"+r\"(crc) : \"r\"(val0));\n+    }\n+    word += num;\n+\n+    \/* Complete the CRC on any remaining bytes. *\/\n+    buf = (const unsigned char FAR *)word;\n+    while (len) {\n+        len--;\n+        val = *buf++;\n+        __asm__ volatile(\"crc32b %w0, %w0, %w1\" : \"+r\"(crc) : \"r\"(val));\n+    }\n+\n+    \/* Return the CRC, post-conditioned. *\/\n+    return crc ^ 0xffffffff;\n@@ -269,1 +741,3 @@\n-#ifdef BYFOUR\n+#else\n+\n+#ifdef W\n@@ -272,9 +746,3 @@\n-   This BYFOUR code accesses the passed unsigned char * buffer with a 32-bit\n-   integer pointer type. This violates the strict aliasing rule, where a\n-   compiler can assume, for optimization purposes, that two pointers to\n-   fundamentally different types won't ever point to the same memory. This can\n-   manifest as a problem only if one of the pointers is written to. This code\n-   only reads from those pointers. So long as this code remains isolated in\n-   this compilation unit, there won't be a problem. For this reason, this code\n-   should not be copied and pasted into a compilation unit in which other code\n-   writes to the buffer that is passed to these routines.\n+  Return the CRC of the W bytes in the word_t data, taking the\n+  least-significant byte of the word as the first byte of data, without any pre\n+  or post conditioning. This is used to combine the CRCs of each braid.\n@@ -282,0 +750,8 @@\n+local z_crc_t crc_word(data)\n+    z_word_t data;\n+{\n+    int k;\n+    for (k = 0; k < W; k++)\n+        data = (data >> 8) ^ crc_table[data & 0xff];\n+    return (z_crc_t)data;\n+}\n@@ -283,5 +759,11 @@\n-\/* ========================================================================= *\/\n-#define DOLIT4 c ^= *buf4++; \\\n-        c = crc_table[3][c & 0xff] ^ crc_table[2][(c >> 8) & 0xff] ^ \\\n-            crc_table[1][(c >> 16) & 0xff] ^ crc_table[0][c >> 24]\n-#define DOLIT32 DOLIT4; DOLIT4; DOLIT4; DOLIT4; DOLIT4; DOLIT4; DOLIT4; DOLIT4\n+local z_word_t crc_word_big(data)\n+    z_word_t data;\n+{\n+    int k;\n+    for (k = 0; k < W; k++)\n+        data = (data << 8) ^\n+            crc_big_table[(data >> ((W - 1) << 3)) & 0xff];\n+    return data;\n+}\n+\n+#endif\n@@ -290,1 +772,1 @@\n-local unsigned long crc32_little(crc, buf, len)\n+unsigned long ZEXPORT crc32_z(crc, buf, len)\n@@ -295,2 +777,2 @@\n-    register z_crc_t c;\n-    register const z_crc_t FAR *buf4;\n+    \/* Return initial CRC, if requested. *\/\n+    if (buf == Z_NULL) return 0;\n@@ -298,6 +780,3 @@\n-    c = (z_crc_t)crc;\n-    c = ~c;\n-    while (len && ((ptrdiff_t)buf & 3)) {\n-        c = crc_table[0][(c ^ *buf++) & 0xff] ^ (c >> 8);\n-        len--;\n-    }\n+#ifdef DYNAMIC_CRC_TABLE\n+    once(&made, make_crc_table);\n+#endif \/* DYNAMIC_CRC_TABLE *\/\n@@ -305,10 +784,2 @@\n-    buf4 = (const z_crc_t FAR *)(const void FAR *)buf;\n-    while (len >= 32) {\n-        DOLIT32;\n-        len -= 32;\n-    }\n-    while (len >= 4) {\n-        DOLIT4;\n-        len -= 4;\n-    }\n-    buf = (const unsigned char FAR *)buf4;\n+    \/* Pre-condition the CRC *\/\n+    crc = (~crc) & 0xffffffff;\n@@ -316,6 +787,1 @@\n-    if (len) do {\n-        c = crc_table[0][(c ^ *buf++) & 0xff] ^ (c >> 8);\n-    } while (--len);\n-    c = ~c;\n-    return (unsigned long)c;\n-}\n+#ifdef W\n@@ -323,5 +789,6 @@\n-\/* ========================================================================= *\/\n-#define DOBIG4 c ^= *buf4++; \\\n-        c = crc_table[4][c & 0xff] ^ crc_table[5][(c >> 8) & 0xff] ^ \\\n-            crc_table[6][(c >> 16) & 0xff] ^ crc_table[7][c >> 24]\n-#define DOBIG32 DOBIG4; DOBIG4; DOBIG4; DOBIG4; DOBIG4; DOBIG4; DOBIG4; DOBIG4\n+    \/* If provided enough bytes, do a braided CRC calculation. *\/\n+    if (len >= N * W + W - 1) {\n+        z_size_t blks;\n+        z_word_t const *words;\n+        unsigned endian;\n+        int k;\n@@ -329,8 +796,5 @@\n-\/* ========================================================================= *\/\n-local unsigned long crc32_big(crc, buf, len)\n-    unsigned long crc;\n-    const unsigned char FAR *buf;\n-    z_size_t len;\n-{\n-    register z_crc_t c;\n-    register const z_crc_t FAR *buf4;\n+        \/* Compute the CRC up to a z_word_t boundary. *\/\n+        while (len && ((z_size_t)buf & (W - 1)) != 0) {\n+            len--;\n+            crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        }\n@@ -338,5 +802,266 @@\n-    c = ZSWAP32((z_crc_t)crc);\n-    c = ~c;\n-    while (len && ((ptrdiff_t)buf & 3)) {\n-        c = crc_table[4][(c >> 24) ^ *buf++] ^ (c << 8);\n-        len--;\n+        \/* Compute the CRC on as many N z_word_t blocks as are available. *\/\n+        blks = len \/ (N * W);\n+        len -= blks * N * W;\n+        words = (z_word_t const *)buf;\n+\n+        \/* Do endian check at execution time instead of compile time, since ARM\n+           processors can change the endianess at execution time. If the\n+           compiler knows what the endianess will be, it can optimize out the\n+           check and the unused branch. *\/\n+        endian = 1;\n+        if (*(unsigned char *)&endian) {\n+            \/* Little endian. *\/\n+\n+            z_crc_t crc0;\n+            z_word_t word0;\n+#if N > 1\n+            z_crc_t crc1;\n+            z_word_t word1;\n+#if N > 2\n+            z_crc_t crc2;\n+            z_word_t word2;\n+#if N > 3\n+            z_crc_t crc3;\n+            z_word_t word3;\n+#if N > 4\n+            z_crc_t crc4;\n+            z_word_t word4;\n+#if N > 5\n+            z_crc_t crc5;\n+            z_word_t word5;\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+            \/* Initialize the CRC for each braid. *\/\n+            crc0 = crc;\n+#if N > 1\n+            crc1 = 0;\n+#if N > 2\n+            crc2 = 0;\n+#if N > 3\n+            crc3 = 0;\n+#if N > 4\n+            crc4 = 0;\n+#if N > 5\n+            crc5 = 0;\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+            \/*\n+              Process the first blks-1 blocks, computing the CRCs on each braid\n+              independently.\n+             *\/\n+            while (--blks) {\n+                \/* Load the word for each braid into registers. *\/\n+                word0 = crc0 ^ words[0];\n+#if N > 1\n+                word1 = crc1 ^ words[1];\n+#if N > 2\n+                word2 = crc2 ^ words[2];\n+#if N > 3\n+                word3 = crc3 ^ words[3];\n+#if N > 4\n+                word4 = crc4 ^ words[4];\n+#if N > 5\n+                word5 = crc5 ^ words[5];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                words += N;\n+\n+                \/* Compute and update the CRC for each word. The loop should\n+                   get unrolled. *\/\n+                crc0 = crc_braid_table[0][word0 & 0xff];\n+#if N > 1\n+                crc1 = crc_braid_table[0][word1 & 0xff];\n+#if N > 2\n+                crc2 = crc_braid_table[0][word2 & 0xff];\n+#if N > 3\n+                crc3 = crc_braid_table[0][word3 & 0xff];\n+#if N > 4\n+                crc4 = crc_braid_table[0][word4 & 0xff];\n+#if N > 5\n+                crc5 = crc_braid_table[0][word5 & 0xff];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                for (k = 1; k < W; k++) {\n+                    crc0 ^= crc_braid_table[k][(word0 >> (k << 3)) & 0xff];\n+#if N > 1\n+                    crc1 ^= crc_braid_table[k][(word1 >> (k << 3)) & 0xff];\n+#if N > 2\n+                    crc2 ^= crc_braid_table[k][(word2 >> (k << 3)) & 0xff];\n+#if N > 3\n+                    crc3 ^= crc_braid_table[k][(word3 >> (k << 3)) & 0xff];\n+#if N > 4\n+                    crc4 ^= crc_braid_table[k][(word4 >> (k << 3)) & 0xff];\n+#if N > 5\n+                    crc5 ^= crc_braid_table[k][(word5 >> (k << 3)) & 0xff];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                }\n+            }\n+\n+            \/*\n+              Process the last block, combining the CRCs of the N braids at the\n+              same time.\n+             *\/\n+            crc = crc_word(crc0 ^ words[0]);\n+#if N > 1\n+            crc = crc_word(crc1 ^ words[1] ^ crc);\n+#if N > 2\n+            crc = crc_word(crc2 ^ words[2] ^ crc);\n+#if N > 3\n+            crc = crc_word(crc3 ^ words[3] ^ crc);\n+#if N > 4\n+            crc = crc_word(crc4 ^ words[4] ^ crc);\n+#if N > 5\n+            crc = crc_word(crc5 ^ words[5] ^ crc);\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+            words += N;\n+        }\n+        else {\n+            \/* Big endian. *\/\n+\n+            z_word_t crc0, word0, comb;\n+#if N > 1\n+            z_word_t crc1, word1;\n+#if N > 2\n+            z_word_t crc2, word2;\n+#if N > 3\n+            z_word_t crc3, word3;\n+#if N > 4\n+            z_word_t crc4, word4;\n+#if N > 5\n+            z_word_t crc5, word5;\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+            \/* Initialize the CRC for each braid. *\/\n+            crc0 = byte_swap(crc);\n+#if N > 1\n+            crc1 = 0;\n+#if N > 2\n+            crc2 = 0;\n+#if N > 3\n+            crc3 = 0;\n+#if N > 4\n+            crc4 = 0;\n+#if N > 5\n+            crc5 = 0;\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+            \/*\n+              Process the first blks-1 blocks, computing the CRCs on each braid\n+              independently.\n+             *\/\n+            while (--blks) {\n+                \/* Load the word for each braid into registers. *\/\n+                word0 = crc0 ^ words[0];\n+#if N > 1\n+                word1 = crc1 ^ words[1];\n+#if N > 2\n+                word2 = crc2 ^ words[2];\n+#if N > 3\n+                word3 = crc3 ^ words[3];\n+#if N > 4\n+                word4 = crc4 ^ words[4];\n+#if N > 5\n+                word5 = crc5 ^ words[5];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                words += N;\n+\n+                \/* Compute and update the CRC for each word. The loop should\n+                   get unrolled. *\/\n+                crc0 = crc_braid_big_table[0][word0 & 0xff];\n+#if N > 1\n+                crc1 = crc_braid_big_table[0][word1 & 0xff];\n+#if N > 2\n+                crc2 = crc_braid_big_table[0][word2 & 0xff];\n+#if N > 3\n+                crc3 = crc_braid_big_table[0][word3 & 0xff];\n+#if N > 4\n+                crc4 = crc_braid_big_table[0][word4 & 0xff];\n+#if N > 5\n+                crc5 = crc_braid_big_table[0][word5 & 0xff];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                for (k = 1; k < W; k++) {\n+                    crc0 ^= crc_braid_big_table[k][(word0 >> (k << 3)) & 0xff];\n+#if N > 1\n+                    crc1 ^= crc_braid_big_table[k][(word1 >> (k << 3)) & 0xff];\n+#if N > 2\n+                    crc2 ^= crc_braid_big_table[k][(word2 >> (k << 3)) & 0xff];\n+#if N > 3\n+                    crc3 ^= crc_braid_big_table[k][(word3 >> (k << 3)) & 0xff];\n+#if N > 4\n+                    crc4 ^= crc_braid_big_table[k][(word4 >> (k << 3)) & 0xff];\n+#if N > 5\n+                    crc5 ^= crc_braid_big_table[k][(word5 >> (k << 3)) & 0xff];\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+                }\n+            }\n+\n+            \/*\n+              Process the last block, combining the CRCs of the N braids at the\n+              same time.\n+             *\/\n+            comb = crc_word_big(crc0 ^ words[0]);\n+#if N > 1\n+            comb = crc_word_big(crc1 ^ words[1] ^ comb);\n+#if N > 2\n+            comb = crc_word_big(crc2 ^ words[2] ^ comb);\n+#if N > 3\n+            comb = crc_word_big(crc3 ^ words[3] ^ comb);\n+#if N > 4\n+            comb = crc_word_big(crc4 ^ words[4] ^ comb);\n+#if N > 5\n+            comb = crc_word_big(crc5 ^ words[5] ^ comb);\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+            words += N;\n+            crc = byte_swap(comb);\n+        }\n+\n+        \/*\n+          Update the pointer to the remaining bytes to process.\n+         *\/\n+        buf = (unsigned char const *)words;\n@@ -345,4 +1070,13 @@\n-    buf4 = (const z_crc_t FAR *)(const void FAR *)buf;\n-    while (len >= 32) {\n-        DOBIG32;\n-        len -= 32;\n+#endif \/* W *\/\n+\n+    \/* Complete the computation of the CRC on any remaining bytes. *\/\n+    while (len >= 8) {\n+        len -= 8;\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n@@ -350,3 +1084,3 @@\n-    while (len >= 4) {\n-        DOBIG4;\n-        len -= 4;\n+    while (len) {\n+        len--;\n+        crc = (crc >> 8) ^ crc_table[(crc ^ *buf++) & 0xff];\n@@ -354,1 +1088,0 @@\n-    buf = (const unsigned char FAR *)buf4;\n@@ -356,5 +1089,2 @@\n-    if (len) do {\n-        c = crc_table[4][(c >> 24) ^ *buf++] ^ (c << 8);\n-    } while (--len);\n-    c = ~c;\n-    return (unsigned long)(ZSWAP32(c));\n+    \/* Return the CRC, post-conditioned. *\/\n+    return crc ^ 0xffffffff;\n@@ -363,3 +1093,1 @@\n-#endif \/* BYFOUR *\/\n-\n-#define GF2_DIM 32      \/* dimension of GF(2) vectors (length of CRC) *\/\n+#endif\n@@ -368,3 +1096,4 @@\n-local unsigned long gf2_matrix_times(mat, vec)\n-    unsigned long *mat;\n-    unsigned long vec;\n+unsigned long ZEXPORT crc32(crc, buf, len)\n+    unsigned long crc;\n+    const unsigned char FAR *buf;\n+    uInt len;\n@@ -372,10 +1101,1 @@\n-    unsigned long sum;\n-\n-    sum = 0;\n-    while (vec) {\n-        if (vec & 1)\n-            sum ^= *mat;\n-        vec >>= 1;\n-        mat++;\n-    }\n-    return sum;\n+    return crc32_z(crc, buf, len);\n@@ -385,3 +1105,4 @@\n-local void gf2_matrix_square(square, mat)\n-    unsigned long *square;\n-    unsigned long *mat;\n+uLong ZEXPORT crc32_combine64(crc1, crc2, len2)\n+    uLong crc1;\n+    uLong crc2;\n+    z_off64_t len2;\n@@ -389,4 +1110,4 @@\n-    int n;\n-\n-    for (n = 0; n < GF2_DIM; n++)\n-        square[n] = gf2_matrix_times(mat, mat[n]);\n+#ifdef DYNAMIC_CRC_TABLE\n+    once(&made, make_crc_table);\n+#endif \/* DYNAMIC_CRC_TABLE *\/\n+    return multmodp(x2nmodp(len2, 3), crc1) ^ (crc2 & 0xffffffff);\n@@ -396,1 +1117,1 @@\n-local uLong crc32_combine_(crc1, crc2, len2)\n+uLong ZEXPORT crc32_combine(crc1, crc2, len2)\n@@ -399,1 +1120,1 @@\n-    z_off64_t len2;\n+    z_off_t len2;\n@@ -401,16 +1122,2 @@\n-    int n;\n-    unsigned long row;\n-    unsigned long even[GF2_DIM];    \/* even-power-of-two zeros operator *\/\n-    unsigned long odd[GF2_DIM];     \/* odd-power-of-two zeros operator *\/\n-\n-    \/* degenerate case (also disallow negative lengths) *\/\n-    if (len2 <= 0)\n-        return crc1;\n-\n-    \/* put operator for one zero bit in odd *\/\n-    odd[0] = 0xedb88320UL;          \/* CRC-32 polynomial *\/\n-    row = 1;\n-    for (n = 1; n < GF2_DIM; n++) {\n-        odd[n] = row;\n-        row <<= 1;\n-    }\n+    return crc32_combine64(crc1, crc2, (z_off64_t)len2);\n+}\n@@ -418,31 +1125,8 @@\n-    \/* put operator for two zero bits in even *\/\n-    gf2_matrix_square(even, odd);\n-\n-    \/* put operator for four zero bits in odd *\/\n-    gf2_matrix_square(odd, even);\n-\n-    \/* apply len2 zeros to crc1 (first square will put the operator for one\n-       zero byte, eight zero bits, in even) *\/\n-    do {\n-        \/* apply zeros operator for this bit of len2 *\/\n-        gf2_matrix_square(even, odd);\n-        if (len2 & 1)\n-            crc1 = gf2_matrix_times(even, crc1);\n-        len2 >>= 1;\n-\n-        \/* if no more bits set, then done *\/\n-        if (len2 == 0)\n-            break;\n-\n-        \/* another iteration of the loop with odd and even swapped *\/\n-        gf2_matrix_square(odd, even);\n-        if (len2 & 1)\n-            crc1 = gf2_matrix_times(odd, crc1);\n-        len2 >>= 1;\n-\n-        \/* if no more bits set, then done *\/\n-    } while (len2 != 0);\n-\n-    \/* return combined crc *\/\n-    crc1 ^= crc2;\n-    return crc1;\n+\/* ========================================================================= *\/\n+uLong ZEXPORT crc32_combine_gen64(len2)\n+    z_off64_t len2;\n+{\n+#ifdef DYNAMIC_CRC_TABLE\n+    once(&made, make_crc_table);\n+#endif \/* DYNAMIC_CRC_TABLE *\/\n+    return x2nmodp(len2, 3);\n@@ -452,3 +1136,1 @@\n-uLong ZEXPORT crc32_combine(crc1, crc2, len2)\n-    uLong crc1;\n-    uLong crc2;\n+uLong ZEXPORT crc32_combine_gen(len2)\n@@ -457,1 +1139,1 @@\n-    return crc32_combine_(crc1, crc2, len2);\n+    return crc32_combine_gen64((z_off64_t)len2);\n@@ -460,1 +1142,2 @@\n-uLong ZEXPORT crc32_combine64(crc1, crc2, len2)\n+\/* ========================================================================= *\/\n+uLong ZEXPORT crc32_combine_op(crc1, crc2, op)\n@@ -463,1 +1146,1 @@\n-    z_off64_t len2;\n+    uLong op;\n@@ -465,1 +1148,1 @@\n-    return crc32_combine_(crc1, crc2, len2);\n+    return multmodp(op, crc1) ^ (crc2 & 0xffffffff);\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/zcrc32.c","additions":977,"deletions":294,"binary":false,"changes":1271,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-  version 1.2.11, January 15th, 2017\n+  version 1.2.13, October 13th, 2022\n@@ -28,1 +28,1 @@\n-  Copyright (C) 1995-2017 Jean-loup Gailly and Mark Adler\n+  Copyright (C) 1995-2022 Jean-loup Gailly and Mark Adler\n@@ -51,1 +51,1 @@\n-  Comments) 1950 to 1952 in the files https:\/\/tools.ietf.org\/html\/rfc1950\n+  Comments) 1950 to 1952 in the files http:\/\/tools.ietf.org\/html\/rfc1950\n@@ -64,2 +64,2 @@\n-#define ZLIB_VERSION \"1.2.11\"\n-#define ZLIB_VERNUM 0x12b0\n+#define ZLIB_VERSION \"1.2.13\"\n+#define ZLIB_VERNUM 0x12d0\n@@ -68,1 +68,1 @@\n-#define ZLIB_VER_REVISION 11\n+#define ZLIB_VER_REVISION 13\n@@ -303,1 +303,1 @@\n-  which can be used if desired to determine whether or not there is more ouput\n+  which can be used if desired to determine whether or not there is more output\n@@ -570,2 +570,1 @@\n-   fields next_in, zalloc, zfree and opaque must be initialized before by the\n-   caller.\n+   fields zalloc, zfree and opaque must be initialized before by the caller.\n@@ -688,1 +687,1 @@\n-   Similary, if dictLength is Z_NULL, then it is not set.\n+   Similarly, if dictLength is Z_NULL, then it is not set.\n@@ -739,5 +738,6 @@\n-   strategy is changed, and if any input has been consumed in a previous\n-   deflate() call, then the input available so far is compressed with the old\n-   level and strategy using deflate(strm, Z_BLOCK).  There are three approaches\n-   for the compression levels 0, 1..3, and 4..9 respectively.  The new level\n-   and strategy will take effect at the next call of deflate().\n+   strategy is changed, and if there have been any deflate() calls since the\n+   state was initialized or reset, then the input available so far is\n+   compressed with the old level and strategy using deflate(strm, Z_BLOCK).\n+   There are three approaches for the compression levels 0, 1..3, and 4..9\n+   respectively.  The new level and strategy will take effect at the next call\n+   of deflate().\n@@ -892,3 +892,5 @@\n-   below), inflate() will not automatically decode concatenated gzip streams.\n-   inflate() will return Z_STREAM_END at the end of the gzip stream.  The state\n-   would need to be reset to continue decoding a subsequent gzip stream.\n+   below), inflate() will *not* automatically decode concatenated gzip members.\n+   inflate() will return Z_STREAM_END at the end of the gzip member.  The state\n+   would need to be reset to continue decoding a subsequent gzip member.  This\n+   *must* be done if there is more data after a gzip member, in order for the\n+   decompression to be compliant with the gzip standard (RFC 1952).\n@@ -940,1 +942,1 @@\n-   Similary, if dictLength is Z_NULL, then it is not set.\n+   Similarly, if dictLength is Z_NULL, then it is not set.\n@@ -1329,8 +1331,8 @@\n-     Opens a gzip (.gz) file for reading or writing.  The mode parameter is as\n-   in fopen (\"rb\" or \"wb\") but can also include a compression level (\"wb9\") or\n-   a strategy: 'f' for filtered data as in \"wb6f\", 'h' for Huffman-only\n-   compression as in \"wb1h\", 'R' for run-length encoding as in \"wb1R\", or 'F'\n-   for fixed code compression as in \"wb9F\".  (See the description of\n-   deflateInit2 for more information about the strategy parameter.)  'T' will\n-   request transparent writing or appending with no compression and not using\n-   the gzip format.\n+     Open the gzip (.gz) file at path for reading and decompressing, or\n+   compressing and writing.  The mode parameter is as in fopen (\"rb\" or \"wb\")\n+   but can also include a compression level (\"wb9\") or a strategy: 'f' for\n+   filtered data as in \"wb6f\", 'h' for Huffman-only compression as in \"wb1h\",\n+   'R' for run-length encoding as in \"wb1R\", or 'F' for fixed code compression\n+   as in \"wb9F\".  (See the description of deflateInit2 for more information\n+   about the strategy parameter.)  'T' will request transparent writing or\n+   appending with no compression and not using the gzip format.\n@@ -1366,3 +1368,3 @@\n-     gzdopen associates a gzFile with the file descriptor fd.  File descriptors\n-   are obtained from calls like open, dup, creat, pipe or fileno (if the file\n-   has been previously opened with fopen).  The mode parameter is as in gzopen.\n+     Associate a gzFile with the file descriptor fd.  File descriptors are\n+   obtained from calls like open, dup, creat, pipe or fileno (if the file has\n+   been previously opened with fopen).  The mode parameter is as in gzopen.\n@@ -1389,7 +1391,7 @@\n-     Set the internal buffer size used by this library's functions.  The\n-   default buffer size is 8192 bytes.  This function must be called after\n-   gzopen() or gzdopen(), and before any other calls that read or write the\n-   file.  The buffer memory allocation is always deferred to the first read or\n-   write.  Three times that size in buffer space is allocated.  A larger buffer\n-   size of, for example, 64K or 128K bytes will noticeably increase the speed\n-   of decompression (reading).\n+     Set the internal buffer size used by this library's functions for file to\n+   size.  The default buffer size is 8192 bytes.  This function must be called\n+   after gzopen() or gzdopen(), and before any other calls that read or write\n+   the file.  The buffer memory allocation is always deferred to the first read\n+   or write.  Three times that size in buffer space is allocated.  A larger\n+   buffer size of, for example, 64K or 128K bytes will noticeably increase the\n+   speed of decompression (reading).\n@@ -1405,3 +1407,3 @@\n-     Dynamically update the compression level or strategy.  See the description\n-   of deflateInit2 for the meaning of these parameters.  Previously provided\n-   data is flushed before the parameter change.\n+     Dynamically update the compression level and strategy for file.  See the\n+   description of deflateInit2 for the meaning of these parameters. Previously\n+   provided data is flushed before applying the parameter changes.\n@@ -1416,1 +1418,1 @@\n-     Reads the given number of uncompressed bytes from the compressed file.  If\n+     Read and decompress up to len uncompressed bytes from file into buf.  If\n@@ -1447,5 +1449,5 @@\n-     Read up to nitems items of size size from file to buf, otherwise operating\n-   as gzread() does.  This duplicates the interface of stdio's fread(), with\n-   size_t request and return types.  If the library defines size_t, then\n-   z_size_t is identical to size_t.  If not, then z_size_t is an unsigned\n-   integer type that can contain a pointer.\n+     Read and decompress up to nitems items of size size from file into buf,\n+   otherwise operating as gzread() does.  This duplicates the interface of\n+   stdio's fread(), with size_t request and return types.  If the library\n+   defines size_t, then z_size_t is identical to size_t.  If not, then z_size_t\n+   is an unsigned integer type that can contain a pointer.\n@@ -1462,1 +1464,1 @@\n-   multiple of size, then the final partial item is nevetheless read into buf\n+   multiple of size, then the final partial item is nevertheless read into buf\n@@ -1467,1 +1469,1 @@\n-   file, reseting and retrying on end-of-file, when size is not 1.\n+   file, resetting and retrying on end-of-file, when size is not 1.\n@@ -1470,2 +1472,1 @@\n-ZEXTERN int ZEXPORT gzwrite OF((gzFile file,\n-                                voidpc buf, unsigned len));\n+ZEXTERN int ZEXPORT gzwrite OF((gzFile file, voidpc buf, unsigned len));\n@@ -1473,3 +1474,2 @@\n-     Writes the given number of uncompressed bytes into the compressed file.\n-   gzwrite returns the number of uncompressed bytes written or 0 in case of\n-   error.\n+     Compress and write the len uncompressed bytes at buf to file. gzwrite\n+   returns the number of uncompressed bytes written or 0 in case of error.\n@@ -1481,1 +1481,1 @@\n-     gzfwrite() writes nitems items of size size from buf to file, duplicating\n+     Compress and write nitems items of size size from buf to file, duplicating\n@@ -1494,2 +1494,2 @@\n-     Converts, formats, and writes the arguments to the compressed file under\n-   control of the format string, as in fprintf.  gzprintf returns the number of\n+     Convert, format, compress, and write the arguments (...) to file under\n+   control of the string format, as in fprintf.  gzprintf returns the number of\n@@ -1502,1 +1502,1 @@\n-   zlib was compiled with the insecure functions sprintf() or vsprintf()\n+   zlib was compiled with the insecure functions sprintf() or vsprintf(),\n@@ -1509,1 +1509,1 @@\n-     Writes the given null-terminated string to the compressed file, excluding\n+     Compress and write the given null-terminated string s to file, excluding\n@@ -1517,5 +1517,6 @@\n-     Reads bytes from the compressed file until len-1 characters are read, or a\n-   newline character is read and transferred to buf, or an end-of-file\n-   condition is encountered.  If any characters are read or if len == 1, the\n-   string is terminated with a null character.  If no characters are read due\n-   to an end-of-file or len < 1, then the buffer is left untouched.\n+     Read and decompress bytes from file into buf, until len-1 characters are\n+   read, or until a newline character is read and transferred to buf, or an\n+   end-of-file condition is encountered.  If any characters are read or if len\n+   is one, the string is terminated with a null character.  If no characters\n+   are read due to an end-of-file or len is less than one, then the buffer is\n+   left untouched.\n@@ -1530,1 +1531,1 @@\n-     Writes c, converted to an unsigned char, into the compressed file.  gzputc\n+     Compress and write c, converted to an unsigned char, into file.  gzputc\n@@ -1536,1 +1537,1 @@\n-     Reads one byte from the compressed file.  gzgetc returns this byte or -1\n+     Read and decompress one byte from file.  gzgetc returns this byte or -1\n@@ -1545,2 +1546,2 @@\n-     Push one character back onto the stream to be read as the first character\n-   on the next read.  At least one character of push-back is allowed.\n+     Push c back onto the stream for file to be read as the first character on\n+   the next read.  At least one character of push-back is always allowed.\n@@ -1557,3 +1558,3 @@\n-     Flushes all pending output into the compressed file.  The parameter flush\n-   is as in the deflate() function.  The return value is the zlib error number\n-   (see function gzerror below).  gzflush is only permitted when writing.\n+     Flush all pending output to file.  The parameter flush is as in the\n+   deflate() function.  The return value is the zlib error number (see function\n+   gzerror below).  gzflush is only permitted when writing.\n@@ -1574,2 +1575,2 @@\n-     Sets the starting position for the next gzread or gzwrite on the given\n-   compressed file.  The offset represents a number of bytes in the\n+     Set the starting position to offset relative to whence for the next gzread\n+   or gzwrite on file.  The offset represents a number of bytes in the\n@@ -1592,1 +1593,1 @@\n-     Rewinds the given file. This function is supported only for reading.\n+     Rewind file. This function is supported only for reading.\n@@ -1594,1 +1595,1 @@\n-     gzrewind(file) is equivalent to (int)gzseek(file, 0L, SEEK_SET)\n+     gzrewind(file) is equivalent to (int)gzseek(file, 0L, SEEK_SET).\n@@ -1600,4 +1601,4 @@\n-     Returns the starting position for the next gzread or gzwrite on the given\n-   compressed file.  This position represents a number of bytes in the\n-   uncompressed data stream, and is zero when starting, even if appending or\n-   reading a gzip stream from the middle of a file using gzdopen().\n+     Return the starting position for the next gzread or gzwrite on file.\n+   This position represents a number of bytes in the uncompressed data stream,\n+   and is zero when starting, even if appending or reading a gzip stream from\n+   the middle of a file using gzdopen().\n@@ -1611,5 +1612,5 @@\n-     Returns the current offset in the file being read or written.  This offset\n-   includes the count of bytes that precede the gzip stream, for example when\n-   appending or when using gzdopen() for reading.  When reading, the offset\n-   does not include as yet unused buffered input.  This information can be used\n-   for a progress indicator.  On error, gzoffset() returns -1.\n+     Return the current compressed (actual) read or write offset of file.  This\n+   offset includes the count of bytes that precede the gzip stream, for example\n+   when appending or when using gzdopen() for reading.  When reading, the\n+   offset does not include as yet unused buffered input.  This information can\n+   be used for a progress indicator.  On error, gzoffset() returns -1.\n@@ -1620,7 +1621,7 @@\n-     Returns true (1) if the end-of-file indicator has been set while reading,\n-   false (0) otherwise.  Note that the end-of-file indicator is set only if the\n-   read tried to go past the end of the input, but came up short.  Therefore,\n-   just like feof(), gzeof() may return false even if there is no more data to\n-   read, in the event that the last read request was for the exact number of\n-   bytes remaining in the input file.  This will happen if the input file size\n-   is an exact multiple of the buffer size.\n+     Return true (1) if the end-of-file indicator for file has been set while\n+   reading, false (0) otherwise.  Note that the end-of-file indicator is set\n+   only if the read tried to go past the end of the input, but came up short.\n+   Therefore, just like feof(), gzeof() may return false even if there is no\n+   more data to read, in the event that the last read request was for the exact\n+   number of bytes remaining in the input file.  This will happen if the input\n+   file size is an exact multiple of the buffer size.\n@@ -1635,1 +1636,1 @@\n-     Returns true (1) if file is being copied directly while reading, or false\n+     Return true (1) if file is being copied directly while reading, or false\n@@ -1656,2 +1657,2 @@\n-     Flushes all pending output if necessary, closes the compressed file and\n-   deallocates the (de)compression state.  Note that once file is closed, you\n+     Flush all pending output for file, if necessary, close file and\n+   deallocate the (de)compression state.  Note that once file is closed, you\n@@ -1681,4 +1682,4 @@\n-     Returns the error message for the last error which occurred on the given\n-   compressed file.  errnum is set to zlib error number.  If an error occurred\n-   in the file system and not in the compression library, errnum is set to\n-   Z_ERRNO and the application may consult errno to get the exact error code.\n+     Return the error message for the last error which occurred on file.\n+   errnum is set to zlib error number.  If an error occurred in the file system\n+   and not in the compression library, errnum is set to Z_ERRNO and the\n+   application may consult errno to get the exact error code.\n@@ -1697,1 +1698,1 @@\n-     Clears the error and end-of-file flags for file.  This is analogous to the\n+     Clear the error and end-of-file flags for file.  This is analogous to the\n@@ -1715,2 +1716,3 @@\n-   return the updated checksum.  If buf is Z_NULL, this function returns the\n-   required initial value for the checksum.\n+   return the updated checksum. An Adler-32 value is in the range of a 32-bit\n+   unsigned integer. If buf is Z_NULL, this function returns the required\n+   initial value for the checksum.\n@@ -1749,1 +1751,1 @@\n-ZEXTERN uLong ZEXPORT crc32   OF((uLong crc, const Bytef *buf, uInt len));\n+ZEXTERN uLong ZEXPORT crc32 OF((uLong crc, const Bytef *buf, uInt len));\n@@ -1752,3 +1754,4 @@\n-   updated CRC-32.  If buf is Z_NULL, this function returns the required\n-   initial value for the crc.  Pre- and post-conditioning (one's complement) is\n-   performed within this function so it shouldn't be done by the application.\n+   updated CRC-32. A CRC-32 value is in the range of a 32-bit unsigned integer.\n+   If buf is Z_NULL, this function returns the required initial value for the\n+   crc. Pre- and post-conditioning (one's complement) is performed within this\n+   function so it shouldn't be done by the application.\n@@ -1766,1 +1769,1 @@\n-ZEXTERN uLong ZEXPORT crc32_z OF((uLong adler, const Bytef *buf,\n+ZEXTERN uLong ZEXPORT crc32_z OF((uLong crc, const Bytef *buf,\n@@ -1782,0 +1785,14 @@\n+\/*\n+ZEXTERN uLong ZEXPORT crc32_combine_gen OF((z_off_t len2));\n+\n+     Return the operator corresponding to length len2, to be used with\n+   crc32_combine_op().\n+*\/\n+\n+ZEXTERN uLong ZEXPORT crc32_combine_op OF((uLong crc1, uLong crc2, uLong op));\n+\/*\n+     Give the same result as crc32_combine(), using op in place of len2. op is\n+   is generated from len2 by crc32_combine_gen(). This will be faster than\n+   crc32_combine() if the generated op is used more than once.\n+*\/\n+\n@@ -1869,0 +1886,1 @@\n+   ZEXTERN uLong ZEXPORT crc32_combine_gen64 OF((z_off64_t));\n@@ -1879,0 +1897,1 @@\n+#    define z_crc32_combine_gen z_crc32_combine_gen64\n@@ -1886,0 +1905,1 @@\n+#    define crc32_combine_gen crc32_combine_gen64\n@@ -1894,0 +1914,1 @@\n+     ZEXTERN uLong ZEXPORT crc32_combine_gen64 OF((z_off_t));\n@@ -1902,0 +1923,1 @@\n+   ZEXTERN uLong ZEXPORT crc32_combine_gen OF((z_off_t));\n@@ -1908,0 +1930,1 @@\n+   ZEXTERN uLong ZEXPORT crc32_combine_gen OF((z_off_t));\n@@ -1917,1 +1940,1 @@\n-ZEXTERN unsigned long  ZEXPORT inflateCodesUsed OF ((z_streamp));\n+ZEXTERN unsigned long  ZEXPORT inflateCodesUsed OF((z_streamp));\n@@ -1920,1 +1943,1 @@\n-#if (defined(_WIN32) || defined(__CYGWIN__)) && !defined(Z_SOLO)\n+#if defined(_WIN32) && !defined(Z_SOLO)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/zlib.h","additions":130,"deletions":107,"binary":false,"changes":237,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-\n@@ -89,0 +88,1 @@\n+    \/*\n@@ -92,0 +92,1 @@\n+     *\/\n@@ -147,1 +148,1 @@\n-void ZLIB_INTERNAL z_error (m)\n+void ZLIB_INTERNAL z_error(m)\n@@ -164,2 +165,2 @@\n-#if defined(_WIN32_WCE)\n-    \/* The Microsoft C Run-Time Library for Windows CE doesn't have\n+#if defined(_WIN32_WCE) && _WIN32_WCE < 0x800\n+    \/* The older Microsoft C Run-Time Library for Windows CE doesn't have\n@@ -242,1 +243,1 @@\n-voidpf ZLIB_INTERNAL zcalloc (voidpf opaque, unsigned items, unsigned size)\n+voidpf ZLIB_INTERNAL zcalloc(voidpf opaque, unsigned items, unsigned size)\n@@ -268,1 +269,1 @@\n-void ZLIB_INTERNAL zcfree (voidpf opaque, voidpf ptr)\n+void ZLIB_INTERNAL zcfree(voidpf opaque, voidpf ptr)\n@@ -305,1 +306,1 @@\n-voidpf ZLIB_INTERNAL zcalloc (voidpf opaque, uInt items, uInt size)\n+voidpf ZLIB_INTERNAL zcalloc(voidpf opaque, uInt items, uInt size)\n@@ -311,1 +312,1 @@\n-void ZLIB_INTERNAL zcfree (voidpf opaque, voidpf ptr)\n+void ZLIB_INTERNAL zcfree(voidpf opaque, voidpf ptr)\n@@ -330,1 +331,1 @@\n-voidpf ZLIB_INTERNAL zcalloc (opaque, items, size)\n+voidpf ZLIB_INTERNAL zcalloc(opaque, items, size)\n@@ -340,1 +341,1 @@\n-void ZLIB_INTERNAL zcfree (opaque, ptr)\n+void ZLIB_INTERNAL zcfree(opaque, ptr)\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/zutil.c","additions":11,"deletions":10,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * Copyright (C) 1995-2016 Jean-loup Gailly, Mark Adler\n+ * Copyright (C) 1995-2022 Jean-loup Gailly, Mark Adler\n@@ -56,4 +56,0 @@\n-#ifdef Z_SOLO\n-   typedef long ptrdiff_t;  \/* guess -- will be caught if guess is wrong *\/\n-#endif\n-\n@@ -73,0 +69,11 @@\n+#if !defined(Z_U8) && !defined(Z_SOLO) && defined(STDC)\n+#  include <limits.h>\n+#  if (ULONG_MAX == 0xffffffffffffffff)\n+#    define Z_U8 unsigned long\n+#  elif (ULLONG_MAX == 0xffffffffffffffff)\n+#    define Z_U8 unsigned long long\n+#  elif (UINT_MAX == 0xffffffffffffffff)\n+#    define Z_U8 unsigned\n+#  endif\n+#endif\n+\n@@ -197,4 +204,0 @@\n-#    ifndef _PTRDIFF_T_DEFINED\n-       typedef int ptrdiff_t;\n-#      define _PTRDIFF_T_DEFINED\n-#    endif\n@@ -217,0 +220,1 @@\n+    ZEXTERN uLong ZEXPORT crc32_combine_gen64 OF((z_off_t));\n","filename":"src\/java.base\/share\/native\/libzip\/zlib\/zutil.h","additions":13,"deletions":9,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -37,2 +37,1 @@\n-#include <Mswsock.h>\n-#pragma comment(lib, \"Mswsock.lib\")\n+#include <Mswsock.h> \/\/ Requires Mswsock.lib\n","filename":"src\/java.base\/windows\/native\/libnio\/ch\/FileDispatcherImpl.c","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -128,1 +128,1 @@\n-           the previous focused compoent which is A, then endComposition is called on A,\n+           the previous focused component which is A, then endComposition is called on A,\n@@ -469,1 +469,1 @@\n-           Use package private mthod 'resetCompositionState' if you want the\n+           Use package private method 'resetCompositionState' if you want the\n","filename":"src\/java.desktop\/aix\/classes\/sun\/awt\/X11InputMethod.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n- * This is intially based on hotspot\/src\/os\/aix\/vm\/{loadlib,porting}_aix.{hpp,cpp}\n+ * This is initially based on hotspot\/src\/os\/aix\/vm\/{loadlib,porting}_aix.{hpp,cpp}\n@@ -35,1 +35,1 @@\n- * This function tries to mimick dladdr(3) on Linux\n+ * This function tries to mimic dladdr(3) on Linux\n@@ -53,1 +53,1 @@\n-  void *dli_fbase;       \/* doesn't make sence on AIX *\/\n+  void *dli_fbase;       \/* doesn't make sense on AIX *\/\n","filename":"src\/java.desktop\/aix\/native\/libawt\/porting_aix.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -995,1 +995,1 @@\n-    \/\/ The code set the IC mode that the preedit state is not initialied\n+    \/\/ The code set the IC mode that the preedit state is not initialized\n","filename":"src\/java.desktop\/aix\/native\/libawt_xawt\/awt\/awt_InputMethod.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n- * Untill the issue is fixed in ALSA\n+ * Until the issue is fixed in ALSA\n","filename":"src\/java.desktop\/linux\/native\/libjsound\/PLATFORM_API_LinuxOS_ALSA_MidiIn.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-            \/\/ call calback function for the device\n+            \/\/ call callback function for the device\n","filename":"src\/java.desktop\/linux\/native\/libjsound\/PLATFORM_API_LinuxOS_ALSA_MidiUtils.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -445,1 +445,1 @@\n-                            \/* $$mp 2003-09-14: The following cast shouln't be necessary. Instead, the\n+                            \/* $$mp 2003-09-14: The following cast shouldn't be necessary. Instead, the\n@@ -484,1 +484,1 @@\n-    \/* $$mp 2003-09-14: The following cast shouln't be necessary. Instead, the\n+    \/* $$mp 2003-09-14: The following cast shouldn't be necessary. Instead, the\n","filename":"src\/java.desktop\/linux\/native\/libjsound\/PLATFORM_API_LinuxOS_ALSA_Ports.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -460,1 +460,1 @@\n-     * As of Java 2 platform v 1.4 this method should not be used or overriden.\n+     * As of Java 2 platform v 1.4 this method should not be used or overridden.\n@@ -552,2 +552,2 @@\n-        \/\/ Everytime a hierarchy is change we need to check if the button if moved on or from\n-        \/\/ a toolbar. If that is the case, we need to re-set the border of the button.\n+        \/\/ Every time a hierarchy is changed we need to check if the button is moved on or from\n+        \/\/ the toolbar. If that is the case, we need to re-set the border of the button.\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaButtonUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -212,1 +212,1 @@\n-    \/\/ above elminates the border. Sadly we can't easily change either one, so\n+    \/\/ above eliminates the border. Sadly we can't easily change either one, so\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaCaret.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -351,1 +351,1 @@\n-     * Hilight _but do not select_ the next item in the list.\n+     * Highlight _but do not select_ the next item in the list.\n@@ -368,1 +368,1 @@\n-     * Hilight _but do not select_ the previous item in the list.\n+     * Highlight _but do not select_ the previous item in the list.\n@@ -473,1 +473,1 @@\n-                        width - (insets.left + insets.right + buttonSize) + 4,\n+                        width - (insets.left + insets.right + buttonSize) + 3,\n@@ -478,1 +478,1 @@\n-                        width - (insets.left + insets.right + buttonSize) + 4,\n+                        width - (insets.left + insets.right + buttonSize) + 3,\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaComboBoxUI.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -331,1 +331,1 @@\n-     * image that can be streched from its middles.\n+     * image that can be stretched from its middles.\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaImageFactory.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -209,1 +209,1 @@\n-            \/\/ to front and select it manualy. (vm)\n+            \/\/ to front and select it manually. (vm)\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaInternalFramePaneUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -700,1 +700,1 @@\n-            \/\/ You can additionaly define OptionPane.messageFont which will\n+            \/\/ You can additionally define OptionPane.messageFont which will\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaLookAndFeel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-     * BasicOptionPaneUI expects that its buttons are layed out with\n+     * BasicOptionPaneUI expects that its buttons are laid out with\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaOptionPaneUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -869,1 +869,1 @@\n-    \/\/ Syncronizes the ToolTip text for the components within the spinner\n+    \/\/ Synchronizes the ToolTip text for the components within the spinner\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaSpinnerUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-\/\/ Transient variables (recalculated each time TabbedPane is layed out)\n+\/\/ Transient variables (recalculated each time TabbedPane is laid out)\n@@ -2246,1 +2246,1 @@\n-            \/\/ the visible compnent if the currently selected tab\n+            \/\/ the visible component if the currently selected tab\n@@ -2745,1 +2745,1 @@\n-            \/\/ the visible compnent if the currently selected tab\n+            \/\/ the visible component if the currently selected tab\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaTabbedPaneCopyFromBasicUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * insertion caret at the begining of a text field when it gets clicked on.\n+ * insertion caret at the beginning of a text field when it gets clicked on.\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaTextFieldFormattedUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-    \/* ToolBarBorder and drag-off handle, based loosly on MetalBumps *\/\n+    \/* ToolBarBorder and drag-off handle, based loosely on MetalBumps *\/\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/AquaToolBarUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -180,1 +180,1 @@\n-     * Callback from JavaMenuUpdater.m -- called when menu item is hilighted.\n+     * Callback from JavaMenuUpdater.m -- called when menu item is highlighted.\n","filename":"src\/java.desktop\/macosx\/classes\/com\/apple\/laf\/ScreenMenu.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -222,1 +222,1 @@\n-        public synchronized void get(int count, char[] indicies, int[] values)\n+        public synchronized void get(int count, char[] indices, int[] values)\n@@ -233,1 +233,1 @@\n-                int code = indicies[i];\n+                int code = indices[i];\n@@ -237,1 +237,1 @@\n-                    char low = indicies[i + 1];\n+                    char low = indices[i + 1];\n@@ -257,2 +257,2 @@\n-                        unmappedChars = new char[indicies.length];\n-                        unmappedCharIndices = new int[indicies.length];\n+                        unmappedChars = new char[indices.length];\n+                        unmappedCharIndices = new int[indices.length];\n@@ -260,1 +260,1 @@\n-                    unmappedChars[missed] = indicies[i];\n+                    unmappedChars[missed] = indices[i];\n@@ -263,1 +263,1 @@\n-                        unmappedChars[++missed] = indicies[++i];\n+                        unmappedChars[++missed] = indices[++i];\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CCharToGlyphMapper.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-     * it all programatically.  The intention is end users will use things\n+     * it all programmatically.  The intention is end users will use things\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/font\/CFontConfiguration.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -365,1 +365,1 @@\n-        boolean succeded = false;\n+        boolean succeeded = false;\n@@ -372,1 +372,1 @@\n-                succeded = surfaceData.xorSurfacePixels(sg2d, srcPixels, x, y, w, h, ((XORComposite) composite).getXorColor().getRGB());\n+                succeeded = surfaceData.xorSurfacePixels(sg2d, srcPixels, x, y, w, h, ((XORComposite) composite).getXorColor().getRGB());\n@@ -374,1 +374,1 @@\n-                succeded = false;\n+                succeeded = false;\n@@ -378,1 +378,1 @@\n-        if (succeded == false) {\n+        if (succeeded == false) {\n@@ -388,1 +388,1 @@\n-                    succeded = osxsd.xorSurfacePixels(sg2d, srcPixels, 0, 0, w, h, ((XORComposite) composite).getXorColor().getRGB());\n+                    succeeded = osxsd.xorSurfacePixels(sg2d, srcPixels, 0, 0, w, h, ((XORComposite) composite).getXorColor().getRGB());\n@@ -391,1 +391,1 @@\n-                    succeded = false;\n+                    succeeded = false;\n@@ -396,1 +396,1 @@\n-            if (succeded == false) {\n+            if (succeeded == false) {\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/java2d\/CompositeCRenderer.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-    \/\/ these are for callbacks when pixes have been touched\n+    \/\/ these are for callbacks when pixels have been touched\n@@ -508,1 +508,1 @@\n-        \/\/ we need to substract the transX and transY to move it\n+        \/\/ we need to subtract the transX and transY to move it\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/java2d\/OSXOffScreenSurfaceData.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -840,1 +840,1 @@\n-    \/\/ the method below is overriden by CPeerSurface to check the last peer used to draw\n+    \/\/ the method below is overridden by CPeerSurface to check the last peer used to draw\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/java2d\/OSXSurfaceData.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -420,1 +420,1 @@\n-     * requiering when needed (i.e. when the window geometry is changed).\n+     * requerying when needed (i.e. when the window geometry is changed).\n@@ -1370,1 +1370,1 @@\n-            focusLog.fine((becomesFocused?\"gaining\":\"loosing\") + \" focus window: \" + this);\n+            focusLog.fine((becomesFocused?\"gaining\":\"losing\") + \" focus window: \" + this);\n@@ -1408,1 +1408,1 @@\n-            \/\/ late window focus lost event - ingoring\n+            \/\/ late window focus lost event - ignoring\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/LWWindowPeer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -154,1 +154,1 @@\n-            \/\/ maxosx always returns property list for\n+            \/\/ macosx always returns property list for\n@@ -163,1 +163,1 @@\n-            \/\/ regular string that allows to translate data to target represantation\n+            \/\/ regular string that allows to translate data to target representation\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CDataTransferer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -317,1 +317,1 @@\n-        \/\/ This code actually works, even under the (non-existant) multiple-selections, because we only draw a union outline\n+        \/\/ This code actually works, even under the (non-existent) multiple-selections, because we only draw a union outline\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CDragSourceContextPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-    \/\/ handleFocusEvent is called when the applet becames focused\/unfocused.\n+    \/\/ handleFocusEvent is called when the applet becomes focused\/unfocused.\n@@ -126,1 +126,1 @@\n-            \/\/ it won't be invoced if focuse is moved to a html element\n+            \/\/ it won't be invoked if focus is moved to an html element\n@@ -178,1 +178,1 @@\n-        \/\/ If globalFocusedWindow is located at inactive parent window or null, we have swithed to\n+        \/\/ If globalFocusedWindow is located at inactive parent window or null, we have switched to\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CEmbeddedFrame.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-     * recomended to not use any external lock in action. If the current\n+     * recommended to not use any external lock in action. If the current\n@@ -145,1 +145,1 @@\n-     * recomended to not use any external lock in action. If the current\n+     * recommended to not use any external lock in action. If the current\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CFRetainedResource.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -204,1 +204,1 @@\n-     * enabled for the focussed component, incoming events of certain types\n+     * enabled for the focused component, incoming events of certain types\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CInputMethod.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,0 +82,8 @@\n+        if ((jeventType == MouseEvent.MOUSE_PRESSED) && (jbuttonNumber > MouseEvent.NOBUTTON)) {\n+            \/\/ 8294426: NSEvent.nsToJavaModifiers returns 0 on M2 MacBooks if the event is generated\n+            \/\/  via tapping (not pressing) on a trackpad\n+            \/\/  (System Preferences -> Trackpad -> Tap to click must be turned on).\n+            \/\/ So let's set the modifiers manually.\n+            jmodifiers |= MouseEvent.getMaskForButton(jbuttonNumber);\n+        }\n+\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CPlatformResponder.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -99,1 +99,1 @@\n-    \/\/ Loger to report issues happened during execution but that do not affect functionality\n+    \/\/ Logger to report issues happened during execution but that do not affect functionality\n@@ -1109,1 +1109,1 @@\n-        \/\/ Fix for 7150349: ingore \"gained\" notifications when the app is inactive.\n+        \/\/ Fix for 7150349: ignore \"gained\" notifications when the app is inactive.\n","filename":"src\/java.desktop\/macosx\/classes\/sun\/lwawt\/macosx\/CPlatformWindow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -372,1 +372,1 @@\n-    \/\/ TODO: need consitent way for doing that both with global as well as with local coordinates.\n+    \/\/ TODO: need consistent way for doing that both with global as well as with local coordinates.\n@@ -1053,1 +1053,1 @@\n-    \/\/ style and color to determine what kind of Java hilighting needs to be done.\n+    \/\/ style and color to determine what kind of Java highlighting needs to be done.\n@@ -1264,1 +1264,1 @@\n-\/* This method returns the first frame of rects for theRange in screen coordindate system.\n+\/* This method returns the first frame of rects for theRange in screen coordinate system.\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/AWTView.m","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -552,1 +552,1 @@\n-\/\/ Orders window's childs based on the current focus state\n+\/\/ Orders window children based on the current focus state\n@@ -688,1 +688,1 @@\n-\/\/ Hides\/shows window's childs during iconify\/de-iconify operation\n+\/\/ Hides\/shows window children during iconify\/de-iconify operation\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/AWTWindow.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-    \/\/ This byzantine workaround is necesary, or else directories won't open in Finder\n+    \/\/ This byzantine workaround is necessary, or else directories won't open in Finder\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/CDesktopPeer.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -559,1 +559,1 @@\n-        \/\/ Drag success must acount for DragOperationNone:\n+        \/\/ Drag success must account for DragOperationNone:\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/CDragSource.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * Convert the mode string to the more convinient bits per pixel value\n+ * Convert the mode string to the more convenient bits per pixel value\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/CGraphicsDevice.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-\/\/  Native side of the Quartz text pipe, paints on Quartz Surface Datas.\n+\/\/  Native side of the Quartz text pipe, paints on Quartz Surface Data.\n@@ -318,1 +318,1 @@\n-    aquiring transform arrays from JNI, filling buffers, or striking glyphs. All resources or memory\n+    acquiring transform arrays from JNI, filling buffers, or striking glyphs. All resources or memory\n@@ -320,1 +320,1 @@\n-    is to be handled in the stage it occurs in, and is to return immediatly after freeing it's resources.\n+    is to be handled in the stage it occurs in, and is to return immediately after freeing its resources.\n@@ -414,1 +414,1 @@\n-\/\/ already caculated from GlyphVector, or we simply ask Core Graphics to make some advances for us. Pre-calculated positions\n+\/\/ already calculated from GlyphVector, or we simply ask Core Graphics to make some advances for us. Pre-calculated positions\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/CTextPipe.m","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-\/\/ Global debugging flag (for drag-and-drop) - this can be overriden locally per file:\n+\/\/ Global debugging flag (for drag-and-drop) - this can be overridden locally per file:\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/DnDUtilities.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-    \/\/ Used as a cached image ref created from the isdo.dataprovider. This is only a chached image, and it might become invalid\n+    \/\/ Used as a cached image ref created from the isdo.dataprovider. This is only a cached image, and it might become invalid\n@@ -98,1 +98,1 @@\n-    \/\/ Cached instance of CGDataProvider. dataProvider is alloced the first time a bitmap context is created, providing the\n+    \/\/ Cached instance of CGDataProvider. dataProvider is allocated the first time a bitmap context is created, providing the\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/ImageSurfaceData.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -770,1 +770,1 @@\n-\/\/ 3. go through the color table and calculate Euclidian distance between the true color and the indexed colors\n+\/\/ 3. go through the color table and calculate Euclidean distance between the true color and the indexed colors\n@@ -1025,1 +1025,1 @@\n-            size_t extraBytesPerRow = 0; \/\/ these are the extra bytesPerRow used for alignement\n+            size_t extraBytesPerRow = 0; \/\/ these are the extra bytesPerRow used for alignment\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/ImageSurfaceData.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -95,2 +95,2 @@\n-    \/\/ to produce a good hash key. After some analysis, it looks like Thomas's Wang integer hasing algorithm\n-    \/\/ seems a nice trade off between performance and effectivness.\n+    \/\/ to produce a good hash key. After some analysis, it looks like Thomas's Wang integer hashing algorithm\n+    \/\/ seems a nice trade-off between performance and effectiveness.\n@@ -687,1 +687,1 @@\n-                \/\/ We need to flip both y coefficeints to flip the offset point into the java coordinate system.\n+                \/\/ We need to flip both y coefficients to flip the offset point into the java coordinate system.\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/awt\/QuartzSurfaceData.m","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -407,1 +407,1 @@\n-#pragma mark --- Canvas Managment ---\n+#pragma mark --- Canvas Management ---\n@@ -731,1 +731,1 @@\n-#pragma mark --- GlyphInfo Filling and Canvas Managment ---\n+#pragma mark --- GlyphInfo Filling and Canvas Management ---\n@@ -840,1 +840,1 @@\n- * expectations in the Sun text rasterizer memory managment code.\n+ * expectations in the Sun text rasterizer memory management code.\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/font\/CGGlyphImages.m","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -768,1 +768,1 @@\n-                \/\/ Note : pDst is already addjusted for offsets using PtrAddBytes above\n+                \/\/ Note : pDst is already adjusted for offsets using PtrAddBytes above\n@@ -836,1 +836,1 @@\n-             * performing copyArea, thats why we use drawTex2Tex and\n+             * performing copyArea, that's why we use drawTex2Tex and\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLBlitLoops.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-    \/\/ It is guranteed that metal supported GPU is available macOS 10.14 onwards\n+    \/\/ It is guaranteed that metal supported GPU is available since macOS 10.14\n@@ -138,1 +138,1 @@\n-            J2dRlsTraceLn(J2D_TRACE_ERROR, \"MTLGraphicsConfig_getMTLConfigInfo: could not initialze MTLContext.\");\n+            J2dRlsTraceLn(J2D_TRACE_ERROR, \"MTLGraphicsConfig_getMTLConfigInfo: could not initialize MTLContext.\");\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLGraphicsConfig.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-                    \"MTLLayer.blitTexture: uninitialized (mtlc=%p, javaLayer=%p, buffer=%p, devide=%p)\", self.ctx,\n+                    \"MTLLayer.blitTexture: uninitialized (mtlc=%p, javaLayer=%p, buffer=%p, device=%p)\", self.ctx,\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -949,1 +949,1 @@\n- * commit earlier encoded commmands\n+ * commit earlier encoded commands\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLRenderQueue.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -539,1 +539,1 @@\n-    \/\/ This buffer is resued multiple times to encode draw calls of a triangle list\n+    \/\/ This buffer is reused multiple times to encode draw calls of a triangle list\n@@ -557,1 +557,1 @@\n-    \/\/ This is the max no of vertices (of struct Vertex - 8 bytes) we can accomodate in 4KB\n+    \/\/ This is the max no of vertices (of struct Vertex - 8 bytes) we can accommodate in 4KB\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLRenderer.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -256,1 +256,1 @@\n-        \/\/ cases we are creating seperate tile and scan the source\n+        \/\/ cases we are creating a separate tile and scan the source\n@@ -258,1 +258,1 @@\n-        \/\/ can update source pointers, in case of D3D we ar doing memcpy.\n+        \/\/ can update source pointers, in case of D3D we are doing memcpy.\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLVertexCache.m","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-\/\/ Utility struct to transfer rendering paramenters\n+\/\/ Utility struct to transfer rendering parameters\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/RenderOptions.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -76,1 +76,1 @@\n-    \/\/ $$fb 2002-04-04: It is responsability of the application developer to\n+    \/\/ $$fb 2002-04-04: It is the responsibility of the application developer to\n","filename":"src\/java.desktop\/macosx\/native\/libjsound\/PLATFORM_API_MacOSX_MidiOut.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n-                        \"Attempt to close a non-existant connection.\";\n+                        \"Attempt to close a non-existent connection.\";\n","filename":"src\/java.desktop\/macosx\/native\/libjsound\/PLATFORM_API_MacOSX_MidiUtils.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-            UTIL_IsBigEndianPlatform());    \/\/ native endianess\n+            UTIL_IsBigEndianPlatform());    \/\/ native endianness\n@@ -851,1 +851,1 @@\n-            \/\/ request HAL for Float32 with native endianess\n+            \/\/ request HAL for Float32 with native endianness\n","filename":"src\/java.desktop\/macosx\/native\/libjsound\/PLATFORM_API_MacOSX_PCM.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -327,1 +327,1 @@\n-        \/\/      Loos like the splash->screenData contains inappropriate data\n+        \/\/      Looks like the splash->screenData contains inappropriate data\n","filename":"src\/java.desktop\/macosx\/native\/libsplashscreen\/splashscreen_sys.m","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-     * if the lentgh attribute is set.\n+     * if the length attribute is set.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/ArrayElementHandler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -233,1 +233,1 @@\n-     * Returns the array of readed objects.\n+     * Returns the array of read objects.\n@@ -235,1 +235,1 @@\n-     * @return the array of readed objects\n+     * @return the array of read objects\n@@ -242,1 +242,1 @@\n-     * Adds the object to the list of readed objects.\n+     * Adds the object to the list of read objects.\n@@ -244,1 +244,1 @@\n-     * @param object  the object that is readed from XML document\n+     * @param object  the object that is read from XML document\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/DocumentHandler.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -154,1 +154,1 @@\n-     * @throws IllegalAccessException if the field is not accesible\n+     * @throws IllegalAccessException if the field is not accessible\n@@ -168,1 +168,1 @@\n-     * @throws IllegalAccessException if the field is not accesible\n+     * @throws IllegalAccessException if the field is not accessible\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/FieldElementHandler.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-     * Adds the argument to the list of readed objects.\n+     * Adds the argument to the list of read objects.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/JavaElementHandler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -165,1 +165,1 @@\n-     * @throws IllegalAccessException    if the property is not accesible\n+     * @throws IllegalAccessException    if the property is not accessible\n@@ -190,1 +190,1 @@\n-     * @throws IllegalAccessException    if the property is not accesible\n+     * @throws IllegalAccessException    if the property is not accessible\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/PropertyElementHandler.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-            throw new IllegalStateException(\"Could not add chararcter to evaluated string element\");\n+            throw new IllegalStateException(\"Could not add character to evaluated string element\");\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/decoder\/StringElementHandler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -70,1 +70,1 @@\n-        choser = new Choice();\n+        chooser = new Choice();\n@@ -73,1 +73,1 @@\n-            choser.addItem(colorNames[i]);\n+            chooser.addItem(colorNames[i]);\n@@ -75,2 +75,2 @@\n-        add(choser);\n-        choser.reshape(ourWidth,0,100,30);\n+        add(chooser);\n+        chooser.reshape(ourWidth,0,100,30);\n@@ -129,2 +129,2 @@\n-        if (e.target == choser) {\n-            changeColor(colors[choser.getSelectedIndex()]);\n+        if (e.target == chooser) {\n+            changeColor(colors[chooser.getSelectedIndex()]);\n@@ -160,1 +160,1 @@\n-        choser.select(active);\n+        chooser.select(active);\n@@ -229,1 +229,1 @@\n-    private Choice choser;\n+    private Choice chooser;\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/beans\/editors\/ColorEditor.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -658,1 +658,1 @@\n-            \/\/ the colorModel and sampleModel will be initialzed\n+            \/\/ the colorModel and sampleModel will be initialized\n@@ -2085,1 +2085,1 @@\n-     * Verifies whether the byte array contans a unc path.\n+     * Verifies whether the byte array contains a unc path.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/bmp\/BMPImageReader.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-    private static String[] entensions = {\"bmp\"};\n+    private static String[] extensions = {\"bmp\"};\n@@ -51,1 +51,1 @@\n-              entensions,\n+              extensions,\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/bmp\/BMPImageReaderSpi.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -989,1 +989,1 @@\n-                    \/\/\/ be inclued in the next encoding\/run\n+                    \/\/\/ be included in the next encoding\/run\n@@ -1148,1 +1148,1 @@\n-                    \/\/ runCount wont be > 254 since 256\/255 case will\n+                    \/\/ runCount won't be > 254 since 256\/255 case will\n@@ -1421,2 +1421,2 @@\n-     * encodeed with using default compression without cahnge color resolution.\n-     * For example, TYPE_USHORT_565_RGB may be encodeed only by using BI_BITFIELDS\n+     * encoded using default compression without change of color resolution.\n+     * For example, TYPE_USHORT_565_RGB may be encoded only by using BI_BITFIELDS\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/bmp\/BMPImageWriter.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-    private static String[] entensions = {\"bmp\"};\n+    private static String[] extensions = {\"bmp\"};\n@@ -56,1 +56,1 @@\n-              entensions,\n+              extensions,\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/bmp\/BMPImageWriterSpi.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n- * The strLen table to give quick access to the lenght of an expanded\n+ * The strLen table to give quick access to the length of an expanded\n@@ -76,1 +76,1 @@\n-     * @return 0xFFFF if no space in table left for addition of predecesor\n+     * @return 0xFFFF if no space in table left for addition of predecessor\n@@ -106,1 +106,1 @@\n-     * @param b the character that follws the index prefix\n+     * @param b the character that follows the index prefix\n@@ -154,1 +154,1 @@\n-     * previous return. Succesive negative return values should be negated and\n+     * previous return. Successive negative return values should be negated and\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/common\/LZWStringTable.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -201,1 +201,1 @@\n-            return 0; \/\/ default transparnt pixel\n+            return 0; \/\/ default transparent pixel\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/common\/PaletteBuilder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -635,1 +635,1 @@\n-                       greyscale images but explicitly reseting it here\n+                       greyscale images but explicitly resetting it here\n@@ -662,1 +662,1 @@\n-            \/\/ Set the Logical Screen Desriptor if not set.\n+            \/\/ Set the Logical Screen Descriptor if not set.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/gif\/GIFImageWriter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-          \"The number of bits of color resolution, beteen 1 and 8\" },\n+          \"The number of bits of color resolution, between 1 and 8\" },\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/gif\/GIFStreamMetadataFormatResources.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-    \/** Define Heirarchical progression *\/\n+    \/** Define Hierarchical progression *\/\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/jpeg\/JPEG.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1391,1 +1391,1 @@\n-     * IJG libray.  It is much simpler to parse out this\n+     * IJG library.  It is much simpler to parse out this\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/jpeg\/JPEGImageWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -335,1 +335,1 @@\n-\"The chunk wil be ignored.\");\n+\"The chunk will be ignored.\");\n@@ -341,1 +341,1 @@\n-\"The chunk wil be ignored.\");\n+\"The chunk will be ignored.\");\n@@ -1687,1 +1687,1 @@\n-             * equality of the palette lengh and number of possible palette\n+             * equality of the palette length and number of possible palette\n@@ -1754,1 +1754,1 @@\n-                \/\/ wich can be used as destination\n+                \/\/ which can be used as destination\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/png\/PNGImageReader.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1778,1 +1778,1 @@\n-     * Accrding to PNG spec, keywords are restricted to 1 to 79 bytes\n+     * According to PNG spec, keywords are restricted to 1 to 79 bytes\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/png\/PNGMetadata.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-     * {@code isCompressionLossless} are provided to accomodate\n+     * {@code isCompressionLossless} are provided to accommodate\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFCompressor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1435,1 +1435,1 @@\n-        \/\/ have to search the preceeding element.\n+        \/\/ have to search the preceding element.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFFaxDecompressor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-        { \"TIFFField\/number\", \"The tag number asociated with the field\" },\n+        { \"TIFFField\/number\", \"The tag number associated with the field\" },\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFImageMetadataFormatResources.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -184,1 +184,1 @@\n-    private boolean isTiled; \/\/ Whether the image is tiled (true) or stipped (false).\n+    private boolean isTiled; \/\/ Whether the image is tiled (true) or stripped (false).\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFImageWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -176,1 +176,1 @@\n-                \/\/ Intialize the JPEG writer to one that supports stream\n+                \/\/ Initialize the JPEG writer to one that supports stream\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFJPEGCompressor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -81,1 +81,1 @@\n-    \/\/ Intialize instance variables according to an analysis of the\n+    \/\/ Initialize instance variables according to an analysis of the\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFOldJPEGDecompressor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-     * CCITT RLE (Run Lenth Encoding).\n+     * CCITT RLE (Run Length Encoding).\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/tiff\/TIFFRLECompressor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-    private static String[] entensions = {\"wbmp\"};\n+    private static String[] extensions = {\"wbmp\"};\n@@ -53,1 +53,1 @@\n-              entensions,\n+              extensions,\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/wbmp\/WBMPImageReaderSpi.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    private static String[] entensions = {\"wbmp\"};\n+    private static String[] extensions = {\"wbmp\"};\n@@ -55,1 +55,1 @@\n-              entensions,\n+              extensions,\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/imageio\/plugins\/wbmp\/WBMPImageWriterSpi.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- * public API and its API may change in incompatable ways between dot dot\n+ * public API and its API may change in incompatible ways between dot dot\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/SwingUtilities3.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -143,1 +143,1 @@\n-     * @param sFactor Amount to sacle saturation\n+     * @param sFactor Amount to scale saturation\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/gtk\/GTKColorType.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -294,1 +294,1 @@\n-            \/* We should return correrct WidgetType if the seperator is inserted\n+            \/* We should return correct WidgetType if the separator is inserted\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/gtk\/GTKEngine.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1386,1 +1386,1 @@\n-            \/\/ are parented getName is overriden to force the name to be\n+            \/\/ are parented getName is overridden to force the name to be\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/gtk\/GTKFileChooserUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1359,1 +1359,1 @@\n-        \/\/ wigdet. LABEL in this case.\n+        \/\/ widget. LABEL in this case.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/gtk\/GTKLookAndFeel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-     * Overriden to empty the MouseMotionListener.\n+     * Overridden to empty the MouseMotionListener.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifComboBoxUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-                            \/\/ The Border on the verticall scrollbar matches\n+                            \/\/ The Border on the vertical scrollbar matches\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifScrollPaneUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-     * PENDING(jeff) - rewrite JSplitPane so that this ins't needed\n+     * PENDING(jeff) - rewrite JSplitPane so that this isn't needed\n@@ -188,1 +188,1 @@\n-     * overriden from super to create a different MouseHandler.\n+     * overridden from super to create a different MouseHandler.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/motif\/MotifSplitPaneDivider.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-    \/** List of Receivers and Transmitters that opened the device implicitely.\n+    \/** List of Receivers and Transmitters that opened the device implicitly.\n@@ -130,1 +130,1 @@\n-            \/\/ double calls to doOpens() will be catched by the open flag.\n+            \/\/ double calls to doOpens() will be caught by the open flag.\n@@ -152,1 +152,1 @@\n-    \/** Close the device for an object that implicitely opened it.\n+    \/** Close the device for an object that implicitly opened it.\n@@ -155,3 +155,3 @@\n-     * do not know if their device has been opened implicitely because of them, they call this\n-     * method in any case. This method now is able to seperate Receivers\/Transmitters that opened\n-     * the device implicitely from those that didn't by looking up the R\/T in the\n+     * do not know if their device has been opened implicitly because of them, they call this\n+     * method in any case. This method now is able to separate Receivers\/Transmitters that opened\n+     * the device implicitly from those that didn't by looking up the R\/T in the\n@@ -161,1 +161,1 @@\n-     * @param object The object that might have been opening the device implicitely (for now,\n+     * @param object The object that might have been opening the device implicitly (for now,\n@@ -345,1 +345,1 @@\n-    \/** Return the list of objects that have opened the device implicitely.\n+    \/** Return the list of objects that have opened the device implicitly.\n@@ -437,1 +437,1 @@\n-        (which opens the device implicitely).\n+        (which opens the device implicitly).\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/AbstractMidiDevice.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n- * big\/litle endian fixed\/floating point byte buffers and float buffers.\n+ * big\/little endian fixed\/floating point byte buffers and float buffers.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/AudioFloatConverter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n- * big\/litle endian fixed\/floating stereo\/mono\/multi-channel audio streams and\n+ * big\/little endian fixed\/floating stereo\/mono\/multi-channel audio streams and\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/AudioFloatFormatConverter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-     * (ICMS) Names of persons or orginizations who commissioned the file.\n+     * (ICMS) Names of persons or organizations who commissioned the file.\n@@ -97,1 +97,1 @@\n-     * (ISRC) Name of person or orginization who supplied\n+     * (ISRC) Name of person or organization who supplied\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/DLSInfo.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1022,1 +1022,1 @@\n-                                                    \" and frame lengh of \" + getFrameLength());\n+                                                    \" and frame length of \" + getFrameLength());\n@@ -1044,1 +1044,1 @@\n-                    \/\/ if we got this far, we can instanciate the thread\n+                    \/\/ if we got this far, we can instantiate the thread\n@@ -1074,1 +1074,1 @@\n-                                                    \" and frame lengh of \" + getFrameLength());\n+                                                    \" and frame length of \" + getFrameLength());\n@@ -1215,1 +1215,1 @@\n-                throw new IllegalArgumentException(\"End position \" + end + \"  preceeds start position \" + start);\n+                throw new IllegalArgumentException(\"End position \" + end + \"  precedes start position \" + start);\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/DirectAudioDevice.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-     * threshhold between playing as a Clip and streaming\n+     * threshold between playing as a Clip and streaming\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/JavaSoundAudioClip.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-     * dropped completly.\n+     * dropped completely.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/Printer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -785,1 +785,1 @@\n-            if (Printer.err) Printer.err(\"RealTimeSequencer.implClose() called, but playThread not instanciated!\");\n+            if (Printer.err) Printer.err(\"RealTimeSequencer.implClose() called, but playThread not instantiated!\");\n@@ -819,1 +819,1 @@\n-            if (Printer.err) Printer.err(\"RealTimeSequencer.implStart() called, but playThread not instanciated!\");\n+            if (Printer.err) Printer.err(\"RealTimeSequencer.implStart() called, but playThread not instantiated!\");\n@@ -832,1 +832,1 @@\n-            if (Printer.err) Printer.err(\"RealTimeSequencer.implStop() called, but playThread not instanciated!\");\n+            if (Printer.err) Printer.err(\"RealTimeSequencer.implStop() called, but playThread not instantiated!\");\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/RealTimeSequencer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1476,1 +1476,1 @@\n-                rpnChange(1, 64 << 7);  \/\/ Channel fine tunning\n+                rpnChange(1, 64 << 7);  \/\/ Channel fine tuning\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftChannel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-        \/\/ 15 bit shift was choosed because\n+        \/\/ 15 bit shift was chosen because\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftLinearResampler2.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-    \/\/ A private class thats contains a ModelChannelMixer and it's private buffers.\n+    \/\/ A private class that contains a ModelChannelMixer and it's private buffers.\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftMainMixer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -318,1 +318,1 @@\n-                    + getFormat() + \" and frame lengh of \" + getFrameLength());\n+                    + getFormat() + \" and frame length of \" + getFrameLength());\n@@ -361,1 +361,1 @@\n-                                + \" and frame lengh of \" + getFrameLength());\n+                                + \" and frame length of \" + getFrameLength());\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftMixingClip.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -692,1 +692,1 @@\n-        \/\/ seperate connection blocks : Init time, Midi Time, Midi\/Control Time,\n+        \/\/ separate connection blocks : Init time, Midi Time, Midi\/Control Time,\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SoftPerformer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -191,1 +191,1 @@\n-        \/\/ Now seqence the track streams\n+        \/\/ Now sequence the track streams\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/StandardMidiFileWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -151,1 +151,1 @@\n-     * The class is usefull for use with SequenceInputStream to prevent\n+     * The class is useful for use with SequenceInputStream to prevent\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/media\/sound\/SunFileWriter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-    \/\/A key withing the cache\n+    \/\/A key within the cache\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/AWTKeyStroke.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -6228,1 +6228,1 @@\n-     * Value indicates whether overriden.\n+     * Value indicates whether overridden.\n@@ -6304,1 +6304,1 @@\n-            \/\/ Throws if not overriden.\n+            \/\/ Throws if not overridden.\n@@ -10159,1 +10159,1 @@\n-     * The method is overriden in the java.awt.Container to handle non-opaque\n+     * The method is overridden in the java.awt.Container to handle non-opaque\n@@ -10428,1 +10428,1 @@\n-        \/\/ This method gets overriden in the Container. Obviously, a plain\n+        \/\/ This method gets overridden in the Container. Obviously, a plain\n@@ -10531,1 +10531,1 @@\n-    \/\/ Note that the method is overriden in the Window class,\n+    \/\/ Note that the method is overridden in the Window class,\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Component.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -4122,1 +4122,1 @@\n-     * This method is overriden to handle opaque children in non-opaque\n+     * This method is overridden to handle opaque children in non-opaque\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Container.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-     * getFirstComponent or getLastComponent. These methods may be overriden in\n+     * getFirstComponent or getLastComponent. These methods may be overridden in\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/ContainerOrderFocusTraversalPolicy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -315,1 +315,1 @@\n-     * underestimate depending on the specific text and rendering conext.\n+     * underestimate depending on the specific text and rendering context.\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/FontMetrics.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * @author Bill Spitzak (orignial NeWS &amp; OLIT implementation)\n+ * @author Bill Spitzak (original NeWS &amp; OLIT implementation)\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/GridBagConstraints.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -348,1 +348,1 @@\n- * @author Bill Spitzak (orignial NeWS &amp; OLIT implementation)\n+ * @author Bill Spitzak (original NeWS &amp; OLIT implementation)\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/GridBagLayout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -370,1 +370,1 @@\n-     * Adds a separator line, or a hypen, to the menu at the current position.\n+     * Adds a separator line, or a hyphen, to the menu at the current position.\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Menu.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -850,1 +850,1 @@\n-     * that method is not overriden), then this results in a call to the\n+     * that method is not overridden), then this results in a call to the\n@@ -886,1 +886,1 @@\n-     * that method is not overriden), then this results in a call to the\n+     * that method is not overridden), then this results in a call to the\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/Toolkit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-            \/\/ cant happen ...\n+            \/\/ can't happen ...\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/dnd\/DragGestureRecognizer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3954,1 +3954,1 @@\n-    \/* Serialization support.  A readObject method is neccessary because\n+    \/* Serialization support.  A readObject method is necessary because\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/geom\/AffineTransform.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1306,1 +1306,1 @@\n-         * and rigth bottom corner coordinates\n+         * and right bottom corner coordinates\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/geom\/Arc2D.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1412,1 +1412,1 @@\n-        \/\/ Trivially reject non-existant rectangles\n+        \/\/ Trivially reject non-existent rectangles\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/geom\/CubicCurve2D.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2309,1 +2309,1 @@\n-             * by virtue of adding opposing Infinte values.\n+             * by virtue of adding opposing Infinite values.\n@@ -2381,1 +2381,1 @@\n-             * by virtue of adding opposing Infinte values.\n+             * by virtue of adding opposing Infinite values.\n@@ -2459,1 +2459,1 @@\n-             * by virtue of adding opposing Infinte values.\n+             * by virtue of adding opposing Infinite values.\n@@ -2530,1 +2530,1 @@\n-             * by virtue of adding opposing Infinte values.\n+             * by virtue of adding opposing Infinite values.\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/geom\/Path2D.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1101,1 +1101,1 @@\n-        \/\/ Trivially reject non-existant rectangles\n+        \/\/ Trivially reject non-existent rectangles\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/geom\/QuadCurve2D.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * The only method which needs to be defined to create a useable image\n+ * The only method which needs to be defined to create a usable image\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/RGBImageFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -294,1 +294,1 @@\n-        int size = scanlineStride * (h - 1) + \/\/ fisrt (h - 1) scans\n+        int size = scanlineStride * (h - 1) + \/\/ first (h - 1) scans\n","filename":"src\/java.desktop\/share\/classes\/java\/awt\/image\/Raster.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-     * Note that for beans which are applets, it is the caller's responsiblity\n+     * Note that for beans which are applets, it is the caller's responsibility\n@@ -288,1 +288,1 @@\n-                    \/\/ Now get the URL correponding to the resource name.\n+                    \/\/ Now get the URL corresponding to the resource name.\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/Beans.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -335,1 +335,1 @@\n-            \/\/ Asssume the listeners are in the same order and that there are no gaps.\n+            \/\/ Assume the listeners are in the same order and that there are no gaps.\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/DefaultPersistenceDelegate.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1158,1 +1158,1 @@\n-        \/\/ For overriden methods we need to find the most derived version.\n+        \/\/ For overridden methods we need to find the most derived version.\n@@ -1211,1 +1211,1 @@\n-     * Used in the contructors of the EventSetDescriptor,\n+     * Used in the constructors of the EventSetDescriptor,\n@@ -1232,1 +1232,1 @@\n-     * Note tht either or both \"Class\" objects may represent interfaces.\n+     * Note that either or both \"Class\" objects may represent interfaces.\n@@ -1236,1 +1236,1 @@\n-        \/\/ primtitive type there is a unqiue Class object, so\n+        \/\/ primtitive type there is a unique Class object, so\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/Introspector.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -339,1 +339,1 @@\n-of the Map insterface exclusively. Attatching the persistence delegates\n+of the Map interface exclusively. Attaching the persistence delegates\n@@ -1152,1 +1152,1 @@\n-\/* XXX - doens't seem to work. Debug later.\n+\/* XXX - doesn't seem to work. Debug later.\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/MetaData.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-     * <li>Primitive expresssion: {@code 2}\n+     * <li>Primitive expression: {@code 2}\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/PropertyEditor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * overriden to provide more explicit information on chosen topics.\n+ * overridden to provide more explicit information on chosen topics.\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/SimpleBeanInfo.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -78,1 +78,1 @@\n-     * Analagous to {@code java.lang.ClassLoader.getResourceAsStream()},\n+     * Analogous to {@code java.lang.ClassLoader.getResourceAsStream()},\n@@ -94,1 +94,1 @@\n-     * Analagous to {@code java.lang.ClassLoader.getResource()}, this\n+     * Analogous to {@code java.lang.ClassLoader.getResource()}, this\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/beancontext\/BeanContext.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -58,1 +58,1 @@\n-     * Contruct a BeanContextEvent\n+     * Construct a BeanContextEvent\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/beancontext\/BeanContextEvent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-     * Contruct a BeanContextMembershipEvent\n+     * Construct a BeanContextMembershipEvent\n@@ -80,1 +80,1 @@\n-     * Contruct a BeanContextMembershipEvent\n+     * Construct a BeanContextMembershipEvent\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/beancontext\/BeanContextMembershipEvent.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1330,1 +1330,1 @@\n-             * accidential serialization of the BeanContext by a badly\n+             * accidental serialization of the BeanContext by a badly\n@@ -1344,1 +1344,1 @@\n-             * accidential serialization of the BeanContext by a badly\n+             * accidental serialization of the BeanContext by a badly\n","filename":"src\/java.desktop\/share\/classes\/java\/beans\/beancontext\/BeanContextSupport.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -112,1 +112,1 @@\n-     * Returns the number of characters (valid indicies).\n+     * Returns the number of characters (valid indices).\n","filename":"src\/java.desktop\/share\/classes\/javax\/accessibility\/AccessibleText.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n- * indicies\/offsets into a larger body of text that the {@code String} comes\n+ * indices\/offsets into a larger body of text that the {@code String} comes\n","filename":"src\/java.desktop\/share\/classes\/javax\/accessibility\/AccessibleTextSequence.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -195,1 +195,1 @@\n-     * DOMException are publically documented as such on IIOMetadataNode.\n+     * DOMException are publicly documented as such on IIOMetadataNode.\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/metadata\/IIOMetadataNode.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -82,1 +82,1 @@\n-        &lt;!-- The number of bits of color resolution, beteen 1 and 8 --&gt;\n+        &lt;!-- The number of bits of color resolution, between 1 and 8 --&gt;\n@@ -139,1 +139,1 @@\n-color table, and extension information assciated with a single image\n+color table, and extension information associated with a single image\n@@ -158,1 +158,1 @@\n-(<code>doNotDispose<\/code>), be restored to the backgound color as\n+(<code>doNotDispose<\/code>), be restored to the background color as\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/metadata\/doc-files\/gif_metadata.html","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1114,1 +1114,1 @@\n-          &lt;!-- The tag number asociated with the field --&gt;\n+          &lt;!-- The tag number associated with the field --&gt;\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/metadata\/doc-files\/tiff_metadata.html","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    \/* The data for the publically defined tables, as specified in ITU T.81\n+    \/* The data for the publicly defined tables, as specified in ITU T.81\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/plugins\/jpeg\/JPEGHuffmanTable.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n- * dynamically accoring to application policy.  For example, in a\n+ * dynamically according to application policy.  For example, in a\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/spi\/PartiallyOrderedSet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -208,1 +208,1 @@\n-     * Otheriwse, the bytes written will be:\n+     * Otherwise, the bytes written will be:\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/stream\/ImageOutputStream.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-        \/\/ NOTE that alot of error checking is duplicated\n+        \/\/ NOTE that a lot of error checking is duplicated\n","filename":"src\/java.desktop\/share\/classes\/javax\/imageio\/stream\/MemoryCacheImageOutputStream.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1067,1 +1067,1 @@\n-     * instead throws a {@code MidiUnavailableException}, with the catched\n+     * instead throws a {@code MidiUnavailableException}, with the caught\n@@ -1481,1 +1481,1 @@\n-                \/\/ And of cource, the device has to be able to provide\n+                \/\/ And of course, the device has to be able to provide\n","filename":"src\/java.desktop\/share\/classes\/javax\/sound\/midi\/MidiSystem.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1271,1 +1271,1 @@\n-     * Sets the seleted state of the button from the action.  This is defined\n+     * Sets the selected state of the button from the action.  This is defined\n@@ -1646,2 +1646,2 @@\n-     * on intervals less than the threshhold will be ignored and no\n-     * corresponding action event generated.  By default the threshhold is 0,\n+     * on intervals less than the threshold will be ignored and no\n+     * corresponding action event generated.  By default the threshold is 0,\n@@ -1651,1 +1651,1 @@\n-     * in a dialog), this threshhold should be set to an appropriate\n+     * in a dialog), this threshold should be set to an appropriate\n@@ -1655,1 +1655,1 @@\n-     * @param threshhold the amount of time required between mouse\n+     * @param threshold the amount of time required between mouse\n@@ -1657,1 +1657,1 @@\n-     * @throws   IllegalArgumentException if threshhold &lt; 0\n+     * @throws   IllegalArgumentException if threshold &lt; 0\n@@ -1660,3 +1660,3 @@\n-    public void setMultiClickThreshhold(long threshhold) {\n-        if (threshhold < 0) {\n-            throw new IllegalArgumentException(\"threshhold must be >= 0\");\n+    public void setMultiClickThreshhold(long threshold) {\n+        if (threshold < 0) {\n+            throw new IllegalArgumentException(\"threshold must be >= 0\");\n@@ -1664,1 +1664,1 @@\n-        this.multiClickThreshhold = threshhold;\n+        this.multiClickThreshhold = threshold;\n@@ -2664,1 +2664,1 @@\n-         * Return the number of characters (valid indicies)\n+         * Return the number of characters (valid indices)\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/AbstractButton.java","additions":11,"deletions":11,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-     * are specified by a closed interval index0, index1 -- the enpoints\n+     * are specified by a closed interval index0, index1 -- the endpoints\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/AbstractListModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n- * Do NOT create an annonymous inner class that extends this!  If you do\n+ * Do NOT create an anonymous inner class that extends this!  If you do,\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/ActionPropertyChangeListener.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -501,3 +501,3 @@\n-     * The relative axis values, PAGE_AXIS and LINE_AXIS are converted\n-     * to their absolute couterpart given the target's ComponentOrientation\n-     * value.  The absolute axes, X_AXIS and Y_AXIS are returned unmodified.\n+     * The relative axis values, PAGE_AXIS and LINE_AXIS, are converted\n+     * to their absolute counterpart given the target's ComponentOrientation\n+     * value.  The absolute axes, X_AXIS and Y_AXIS, are returned unmodified.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/BoxLayout.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-    \/\/ PaintManager.show is overriden to show directly from the\n+    \/\/ PaintManager.show is overridden to show directly from the\n@@ -152,2 +152,2 @@\n-        \/\/ dipose can be invoked at any random time. To avoid\n-        \/\/ threading dependancies we do the actual diposing via an\n+        \/\/ dispose can be invoked at any random time. To avoid\n+        \/\/ threading dependencies we do the actual disposing via an\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/BufferStrategyPaintManager.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -175,1 +175,1 @@\n-     * @param m an isntance of {@code ButtonModel}\n+     * @param m an instance of {@code ButtonModel}\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/ButtonGroup.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -369,1 +369,1 @@\n-           to their cannonical values so that the next set command always works\n+           to their canonical values so that the next set command always works\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DefaultListSelectionModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1038,2 +1038,2 @@\n-            \/\/ We either weren't sorted, or to much changed, sort it all or\n-            \/\/ this is the first row added and we have to update diffeent caches\n+            \/\/ We either weren't sorted, or too much changed, sort it all or\n+            \/\/ this is the first row added and we have to update different caches\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/DefaultRowSorter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1654,1 +1654,1 @@\n-         * will be combined.  For example, a group that layed things out\n+         * will be combined.  For example, a group that laid things out\n@@ -2463,1 +2463,1 @@\n-        \/\/ How children are layed out.\n+        \/\/ How children are laid out.\n@@ -3594,1 +3594,1 @@\n-        \/\/ Component being layed out\n+        \/\/ Component being laid out\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/GroupLayout.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -180,1 +180,1 @@\n-        \/\/ work the contentPane must be opaque, therefor the RootPane can\n+        \/\/ work the contentPane must be opaque, therefore the RootPane can\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JApplet.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -248,2 +248,2 @@\n-     * The icon for checkboxs comes from the look and feel,\n-     * not the Action; this is overriden to do nothing.\n+     * The icon for checkboxes comes from the look and feel,\n+     * not the Action; this is overridden to do nothing.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JCheckBox.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -266,1 +266,1 @@\n-     * Overriden to return true, JCheckBoxMenuItem supports\n+     * Overridden to return true, JCheckBoxMenuItem supports\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JCheckBoxMenuItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1724,1 +1724,1 @@\n-         * Sets the combo box editor's accessible name and descripton\n+         * Sets the combo box editor's accessible name and description\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JComboBox.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1121,1 +1121,1 @@\n-                \/\/ Will ocassionaly happen in 1.2, especially when printing.\n+                \/\/ Will occasionally happen in 1.2, especially when printing.\n@@ -3485,1 +3485,1 @@\n-                \/\/ registerKeyboardAction(null) would essentialy remove\n+                \/\/ registerKeyboardAction(null) would essentially remove\n@@ -3506,1 +3506,1 @@\n-        \/\/ Does nothing, our enabledness is determiend from our asociated\n+        \/\/ Does nothing, our enabledness is determined from our associated\n@@ -4285,1 +4285,1 @@\n-        \/\/ overriden in DelegateContainer on osx.\n+        \/\/ overridden in DelegateContainer on osx.\n@@ -5211,1 +5211,1 @@\n-                \/\/ look to see if the parent (and therefor this component)\n+                \/\/ look to see if the parent (and therefore this component)\n@@ -5410,1 +5410,1 @@\n-    \/\/ subclasses inside the package, but whose inheritance hierarhcy includes\n+    \/\/ subclasses inside the package, but whose inheritance hierarchy includes\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JComponent.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -676,1 +676,1 @@\n-        \/\/ work the contentPane must be opaque, therefor the RootPane can\n+        \/\/ work the contentPane must be opaque, therefore the RootPane can\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JDialog.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -787,1 +787,1 @@\n-     * This method can be overriden to further manipulate the dialog,\n+     * This method can be overridden to further manipulate the dialog,\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JFileChooser.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -282,1 +282,1 @@\n-        \/\/ work the contentPane must be opaque, therefor the RootPane can\n+        \/\/ work the contentPane must be opaque, therefore the RootPane can\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JFrame.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1083,1 +1083,1 @@\n-           want focus, then it will get transfered there later.\n+           want focus, then it will get transferred there later.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JInternalFrame.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1246,1 +1246,1 @@\n-         * Return the number of characters (valid indicies)\n+         * Return the number of characters (valid indices)\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JLabel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -532,1 +532,1 @@\n-            \/\/\/ Short circut the counting when we have them all\n+            \/\/\/ Short-circuit the counting when we have them all\n@@ -558,1 +558,1 @@\n-            \/\/\/ Short circut the counting when we have them all\n+            \/\/\/ Short-circuit the counting when we have them all\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JLayeredPane.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -974,2 +974,2 @@\n-     * Defines the way list cells are layed out. Consider a {@code JList}\n-     * with five cells. Cells can be layed out in one of the following ways:\n+     * Defines the way list cells are laid out. Consider a {@code JList}\n+     * with five cells. Cells can be laid out in one of the following ways:\n@@ -1005,1 +1005,1 @@\n-     *     <td>Cells are layed out vertically in a single column.\n+     *     <td>Cells are laid out vertically in a single column.\n@@ -1008,1 +1008,1 @@\n-     *     <td>Cells are layed out horizontally, wrapping to a new row as\n+     *     <td>Cells are laid out horizontally, wrapping to a new row as\n@@ -1015,1 +1015,1 @@\n-     *     <td>Cells are layed out vertically, wrapping to a new column as\n+     *     <td>Cells are laid out vertically, wrapping to a new column as\n@@ -1038,1 +1038,1 @@\n-            = \"Defines the way list cells are layed out.\")\n+            = \"Defines the way list cells are laid out.\")\n@@ -3637,1 +3637,1 @@\n-                        \/\/ This can happen if the component isn't visisble\n+                        \/\/ This can happen if the component isn't visible\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JList.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -199,1 +199,1 @@\n-     * Overriden to do nothing. We want JMenu to be focusable, but\n+     * Overridden to do nothing. We want JMenu to be focusable, but\n@@ -201,1 +201,1 @@\n-     * do nothing. We don't invoke <code>setFocusable(true)<\/code> after\n+     * to do nothing. We don't invoke <code>setFocusable(true)<\/code> after\n@@ -1113,1 +1113,1 @@\n-    \/\/ Overriden to do nothing, JMenu doesn't support an accelerator\n+    \/\/ Overridden to do nothing, JMenu doesn't support an accelerator\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JMenu.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -335,1 +335,1 @@\n-     * Returns an point which has been adjusted to take into account of the\n+     * Returns an point which has been adjusted to take into account the\n@@ -338,1 +338,1 @@\n-     * This adustment may be cancelled by invoking the application with\n+     * This adjustment may be cancelled by invoking the application with\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JPopupMenu.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -241,1 +241,1 @@\n-     * Overriden to return true, JRadioButtonMenuItem supports\n+     * Overridden to return true, JRadioButtonMenuItem supports\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JRadioButtonMenuItem.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -675,1 +675,1 @@\n-            \/\/ A binding to a disabled action is treated as a nonexistant\n+            \/\/ A binding to a disabled action is treated as a non-existent\n@@ -1850,1 +1850,1 @@\n-         * Returns the number of characters (valid indicies)\n+         * Returns the number of characters (valid indices)\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JSpinner.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -424,2 +424,2 @@\n-    \/\/ Logicaly, the above is a Hashtable<Class<?>, TableCellRenderer>.\n-    \/\/ It is declared otherwise to accomodate using UIDefaults.\n+    \/\/ Logically, the above is a Hashtable<Class<?>, TableCellRenderer>.\n+    \/\/ It is declared otherwise to accommodate using UIDefaults.\n@@ -433,2 +433,2 @@\n-    \/\/ Logicaly, the above is a Hashtable<Class<?>, TableCellEditor>.\n-    \/\/ It is declared otherwise to accomodate using UIDefaults.\n+    \/\/ Logically, the above is a Hashtable<Class<?>, TableCellEditor>.\n+    \/\/ It is declared otherwise to accommodate using UIDefaults.\n@@ -3177,1 +3177,1 @@\n-            \/\/ JTable behaves like a layout manger - but one in which the\n+            \/\/ JTable behaves like a layout manager - but one in which the\n@@ -3188,1 +3188,1 @@\n-            \/\/ If the delta cannot be completely accomodated, then the\n+            \/\/ If the delta cannot be completely accommodated, then the\n@@ -7304,1 +7304,1 @@\n-                    \/\/   wherein three colums and one row selected\n+                    \/\/   wherein three columns and one row selected\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTable.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -667,1 +667,1 @@\n-        \",colums=\" + columns +\n+        \",columns=\" + columns +\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTextArea.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -215,1 +215,1 @@\n-     * Overriden to return true, JToggleButton supports\n+     * Overridden to return true, JToggleButton supports\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JToggleButton.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -3304,1 +3304,1 @@\n-     * Returns an array of integers specifying the indexs of the\n+     * Returns an array of integers specifying the indices of the\n@@ -3313,1 +3313,1 @@\n-            int[]       indexs = new int[count - 1];\n+            int[]       indices = new int[count - 1];\n@@ -3317,1 +3317,1 @@\n-                indexs[counter - 1] = model.getIndexOfChild\n+                indices[counter - 1] = model.getIndexOfChild\n@@ -3320,1 +3320,1 @@\n-                if(indexs[counter - 1] < 0)\n+                if(indices[counter - 1] < 0)\n@@ -3323,1 +3323,1 @@\n-            return indexs;\n+            return indices;\n@@ -3330,1 +3330,1 @@\n-     * for each of the indices in <code>indexs<\/code>. If <code>indexs<\/code>\n+     * for each of the indices in <code>indices<\/code>. If <code>indices<\/code>\n@@ -3334,2 +3334,2 @@\n-    private TreePath getPathForIndexs(int[] indexs) {\n-        if(indexs == null)\n+    private TreePath getPathForIndexs(int[] indices) {\n+        if(indices == null)\n@@ -3343,1 +3343,1 @@\n-        int          count = indexs.length;\n+        int          count = indices.length;\n@@ -3351,1 +3351,1 @@\n-            parent = model.getChild(parent, indexs[counter]);\n+            parent = model.getChild(parent, indices[counter]);\n@@ -3397,1 +3397,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3405,1 +3405,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3413,1 +3413,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3421,1 +3421,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3431,1 +3431,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3441,1 +3441,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3451,1 +3451,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3462,1 +3462,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n@@ -3473,1 +3473,1 @@\n-         * This is overriden to do nothing; {@code EmptySelectionModel}\n+         * This is overridden to do nothing; {@code EmptySelectionModel}\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JTree.java","additions":19,"deletions":19,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -1698,1 +1698,1 @@\n-    \/\/ reason we call into paintForceDoubleBuffered to diregard whether or\n+    \/\/ reason we call into paintForceDoubleBuffered to disregard whether or\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JViewport.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -277,1 +277,1 @@\n-        \/\/ work the contentPane must be opaque, therefor the RootPane can\n+        \/\/ work the contentPane must be opaque, therefore the RootPane can\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/JWindow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,2 +39,2 @@\n-  * Here's a description of the symantics of how keyboard dispatching should work\n-  * atleast as I understand it.\n+  * Here's a description of the semantics of how keyboard dispatching should work\n+  * at least as I understand it.\n@@ -48,1 +48,1 @@\n-  * This is where things start to get interesting.  First, KeyStokes defined with the\n+  * This is where things start to get interesting.  First, KeyStrokes defined with the\n@@ -113,1 +113,1 @@\n-           \/\/ Then add the old compoennt and the new compoent to the vector\n+           \/\/ Then add the old component and the new component to the vector\n@@ -204,1 +204,1 @@\n-      * to see if any chidren (or subchildren) of the specified container\n+      * to see if any children (or subchildren) of the specified container\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/KeyboardManager.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-        \/\/ ancestors which share a parent. Compute the ancestory lists for\n+        \/\/ ancestors which share a parent. Compute the ancestry lists for\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/LayoutComparator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -278,1 +278,1 @@\n-            \/\/ case where the developer has overriden isFocusTraversable to\n+            \/\/ case where the developer has overridden isFocusTraversable to\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/LayoutFocusTraversalPolicy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-     * the <code>Popup<\/code> at. Based on screen size, or other paramaters,\n+     * the <code>Popup<\/code> at. Based on screen size, or other parameters,\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/Popup.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -181,1 +181,1 @@\n-     * the <code>Popup<\/code> at. Based on screen size, or other paramaters,\n+     * the <code>Popup<\/code> at. Based on screen size, or other parameters,\n@@ -1000,1 +1000,1 @@\n-            \/\/ painting to work the contentPane must be opaque, therefor the\n+            \/\/ painting to work the contentPane must be opaque, therefore the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/PopupFactory.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -930,1 +930,1 @@\n-         * Returns the number of characters (valid indicies)\n+         * Returns the number of characters (valid indices)\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/ProgressMonitor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -125,1 +125,1 @@\n-     * Object responsible for hanlding core paint functionality.\n+     * Object responsible for handling core paint functionality.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/RepaintManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -406,1 +406,1 @@\n-         * Returns the identifer (in the model) of the entry.\n+         * Returns the identifier (in the model) of the entry.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/RowFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-     * getFirstComponent or getLastComponent. These methods may be overriden in\n+     * getFirstComponent or getLastComponent. These methods may be overridden in\n@@ -228,1 +228,1 @@\n-                        log.fine(\"### Transfered focus down-cycle to \" + retComp +\n+                        log.fine(\"### Transferred focus down-cycle to \" + retComp +\n@@ -240,1 +240,1 @@\n-                    log.fine(\"### Transfered focus to \" + retComp + \" in the FTP provider \" + cont);\n+                    log.fine(\"### Transferred focus to \" + retComp + \" in the FTP provider \" + cont);\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SortingFocusTraversalPolicy.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-     * Indiciates if we've checked the system property for suppressing\n+     * Indicates if we've checked the system property for suppressing\n@@ -857,1 +857,1 @@\n-     * Check whether MouseEvent contains speficied mouse button or\n+     * Check whether MouseEvent contains specified mouse button or\n@@ -864,1 +864,1 @@\n-     * @return true if the anEvent contains speficied mouseButton or\n+     * @return true if the anEvent contains specified mouseButton or\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SwingUtilities.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -262,1 +262,1 @@\n-     * handler for {@code process} mehtod.\n+     * Handler for {@code process} method.\n@@ -478,1 +478,1 @@\n-     * For example, the following invokations:\n+     * For example, the following invocations:\n@@ -723,1 +723,1 @@\n-         * DONE is a speacial case\n+         * DONE is a special case\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/SwingWorker.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -319,1 +319,1 @@\n-        \/\/ translate into the co-ordinate system of the pageFormat\n+        \/\/ translate into the coordinate system of the pageFormat\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/TablePrintable.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -159,1 +159,1 @@\n-    \/\/    actionPerformed, and thus we'ld end up queing a bunch of Runnables\n+    \/\/    actionPerformed, and thus we'd end up queueing a bunch of Runnables\n@@ -441,1 +441,1 @@\n-     * @return the {@code Timer}'s intial delay, in milliseconds\n+     * @return the {@code Timer}'s initial delay, in milliseconds\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/Timer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1109,1 +1109,1 @@\n-         *              paramaters to the constructor in class c\n+         *              parameters to the constructor in class c\n@@ -1125,1 +1125,1 @@\n-         *              paramaters to the static method in class c\n+         *              parameters to the static method in class c\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/UIDefaults.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -382,1 +382,1 @@\n-        \/\/ Only include windows on Windows boxs.\n+        \/\/ Only include windows on Windows boxes.\n@@ -646,1 +646,1 @@\n-     * class. This value can be overriden by setting the\n+     * class. This value can be overridden by setting the\n@@ -690,1 +690,1 @@\n-     * Look and Feel (JLF).  This value can be overriden by setting the\n+     * Look and Feel (JLF).  This value can be overridden by setting the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/UIManager.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * In the Swing component set, borders supercede Insets as the\n+ * In the Swing component set, borders supersede Insets as the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/border\/Border.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -708,1 +708,1 @@\n-51, 51, 51, \/\/ eigth row\n+51, 51, 51, \/\/ eighth row\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/colorchooser\/DefaultSwatchChooserPanel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n- * using the list.  It is the responsiblity of the class using the\n+ * using the list.  It is the responsibility of the class using the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/event\/EventListenerList.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n- * and all references to rows and columns are in the co-ordinate\n+ * and all references to rows and columns are in the coordinate\n@@ -170,1 +170,1 @@\n-     * co-ordinate system. When <I>column<\/I> is ALL_COLUMNS, all cells in the\n+     * coordinate system. When <I>column<\/I> is ALL_COLUMNS, all cells in the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/event\/TableModelEvent.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-            \/\/ overhead associated with java.io.File. Therefor we've stuck\n+            \/\/ overhead associated with java.io.File. Therefore we've stuck\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/filechooser\/FileNameExtensionFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -365,1 +365,1 @@\n-         * @param titleJustification the justification fro the title\n+         * @param titleJustification the justification for the title\n@@ -379,1 +379,1 @@\n-         * @param titleJustification the justification fro the title\n+         * @param titleJustification the justification for the title\n@@ -395,1 +395,1 @@\n-         * @param titleJustification the justification fro the title\n+         * @param titleJustification the justification for the title\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/BorderUIResource.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n-     * @param v a {@code boolean} determining the visibilty of the popup\n+     * @param v a {@code boolean} determining the visibility of the popup\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/ComboBoxUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -219,1 +219,1 @@\n-         * focus, this method is overriden to return {@code false}.\n+         * focus, this method is overridden to return {@code false}.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicArrowButton.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -433,1 +433,1 @@\n-     * As of Java 2 platform v 1.4 this method should not be used or overriden.\n+     * As of Java 2 platform v 1.4 this method should not be used or overridden.\n@@ -479,1 +479,1 @@\n-    \/\/ Method signature defined here overriden in subclasses.\n+    \/\/ Method signature defined here overridden in subclasses.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicButtonUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n- * overide <code>installKeyboardActions<\/code> to add actions in response to\n+ * override <code>installKeyboardActions<\/code> to add actions in response to\n@@ -172,1 +172,1 @@\n-     * The time factor to treate the series of typed alphanumeric key\n+     * The time factor to treat the series of typed alphanumeric key\n@@ -709,1 +709,1 @@\n-    \/\/ Syncronizes the ToolTip text for the components within the combo box to be the\n+    \/\/ Synchronizes the ToolTip text for the components within the combo box to be the\n@@ -1667,1 +1667,1 @@\n-                    \/\/ forse selection of list item\n+                    \/\/ force selection of list item\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicComboBoxUI.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -380,1 +380,1 @@\n-    \/\/ Overriden PopupMenuListener notification methods to inform combo box\n+    \/\/ Overridden PopupMenuListener notification methods to inform combo box\n@@ -711,1 +711,1 @@\n-    \/\/ begin Event Listenters\n+    \/\/ begin Event Listeners\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicComboPopup.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -495,1 +495,1 @@\n-     * busy when it is running a separate (interruptable)\n+     * busy when it is running a separate (interruptible)\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicDirectoryModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1594,1 +1594,1 @@\n-         * @param c  The component holding the data to be transfered.  This\n+         * @param c  The component holding the data to be transferred.  This\n@@ -1597,1 +1597,1 @@\n-         * @return  The representation of the data to be transfered.\n+         * @return  The representation of the data to be transferred.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicFileChooserUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -330,1 +330,1 @@\n-         * Overriden to return our own slimmed down style sheet.\n+         * Overridden to return our own slimmed down style sheet.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicHTML.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -135,1 +135,1 @@\n-     * the list is layed out horizontally.\n+     * the list is laid out horizontally.\n@@ -145,1 +145,1 @@\n-     * The time factor to treate the series of typed alphanumeric key\n+     * The time factor to treat the series of typed alphanumeric key\n@@ -1475,1 +1475,1 @@\n-     * Invoked when the list is layed out horizontally to determine how\n+     * Invoked when the list is laid out horizontally to determine how\n@@ -3031,1 +3031,1 @@\n-         * @param c  The component holding the data to be transfered.  This\n+         * @param c  The component holding the data to be transferred.  This\n@@ -3034,1 +3034,1 @@\n-         * @return  The representation of the data to be transfered.\n+         * @return  The representation of the data to be transferred.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicListUI.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -639,1 +639,1 @@\n-        \/\/ *** ProgessBar value objects\n+        \/\/ *** ProgressBar value objects\n@@ -1154,1 +1154,1 @@\n-            \/\/ You can additionaly define OptionPane.messageFont which will\n+            \/\/ You can additionally define OptionPane.messageFont which will\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicLookAndFeel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -572,1 +572,1 @@\n-        \/\/ Take into account mimimal text offset.\n+        \/\/ Take into account minimal text offset.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicMenuItemUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -83,1 +83,1 @@\n-     * The mininum width of {@code JOptionPane}.\n+     * The minimum width of {@code JOptionPane}.\n@@ -87,1 +87,1 @@\n-     * The mininum height of {@code JOptionPane}.\n+     * The minimum height of {@code JOptionPane}.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicOptionPaneUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -489,1 +489,1 @@\n-        \/\/ the same size and therefor can be created as CONSTANT_ASCENT.\n+        \/\/ the same size and therefore can be created as CONSTANT_ASCENT.\n@@ -1168,1 +1168,1 @@\n-        \/\/ ChangeListener: This is added to the vieport, and hsb\/vsb models.\n+        \/\/ ChangeListener: This is added to the viewport, and hsb\/vsb models.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicScrollPaneUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -131,1 +131,1 @@\n-    \/** Property chane listener *\/\n+    \/** Property change listener *\/\n@@ -142,1 +142,1 @@\n-     * Whther or not sameLabelBaselines is up to date.\n+     * Whether or not sameLabelBaselines is up to date.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSliderUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -425,1 +425,1 @@\n-     * overriden this method, then you'll probably want to override\n+     * overridden this method, then you'll probably want to override\n@@ -1098,1 +1098,1 @@\n-        \/\/ Syncronizes the ToolTip text for the components within the spinner\n+        \/\/ Synchronizes the ToolTip text for the components within the spinner\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSpinnerUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -318,1 +318,1 @@\n-        \/\/ but that could result in the layed out size being different from\n+        \/\/ but that could result in the laid out size being different from\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSplitPaneDivider.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1381,1 +1381,1 @@\n-        \/** Axis, 0 for horizontal, or 1 for veritcal. *\/\n+        \/** Axis, 0 for horizontal, or 1 for vertical. *\/\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicSplitPaneUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -172,1 +172,1 @@\n-\/\/ Transient variables (recalculated each time TabbedPane is layed out)\n+\/\/ Transient variables (recalculated each time TabbedPane is laid out)\n@@ -2882,1 +2882,1 @@\n-            \/\/ the visible compnent if the currently selected tab\n+            \/\/ the visible component if the currently selected tab\n@@ -3424,1 +3424,1 @@\n-            \/\/ the visible compnent if the currently selected tab\n+            \/\/ the visible component if the currently selected tab\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTabbedPaneUI.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -299,1 +299,1 @@\n-                \/\/ about unitialized values. In this case, these\n+                \/\/ about uninitialized values. In this case, these\n@@ -1447,3 +1447,3 @@\n-        \/\/ be backward compatable and try to update the row height, we're\n-        \/\/ therefor NOT going to adjust the row height based on font.  If the\n-        \/\/ developer changes the font, it's there responsability to update\n+        \/\/ be backward compatible and try to update the row height, we're\n+        \/\/ therefore NOT going to adjust the row height based on font.  If the\n+        \/\/ developer changes the font, it's their responsibility to update\n@@ -2210,1 +2210,1 @@\n-         * @param c  The component holding the data to be transfered.  This\n+         * @param c  The component holding the data to be transferred.  This\n@@ -2213,1 +2213,1 @@\n-         * @return  The representation of the data to be transfered.\n+         * @return  The representation of the data to be transferred.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTableUI.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -140,2 +140,1 @@\n-     * Creates the view for an element.  Returns a WrappedPlainView or\n-     * PlainView.\n+     * Creates a view for an element.\n@@ -144,1 +143,1 @@\n-     * @return the view\n+     * @return the view for the element\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTextAreaUI.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-     * Creates a view (FieldView) based on an element.\n+     * Creates a view for an element.\n@@ -89,1 +89,1 @@\n-     * @return the view\n+     * @return the view for the element\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTextFieldUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -946,1 +946,1 @@\n-                \/\/ Probably haven't been layed out yet, force some sort of\n+                \/\/ Probably haven't been laid out yet, force some sort of\n@@ -2483,1 +2483,1 @@\n-         * @param c  The component holding the data to be transfered.  This\n+         * @param c  The component holding the data to be transferred.  This\n@@ -2503,1 +2503,1 @@\n-         * @param comp  The component holding the data to be transfered.  This\n+         * @param comp  The component holding the data to be transferred.  This\n@@ -2506,1 +2506,1 @@\n-         * @return  The representation of the data to be transfered.\n+         * @return  The representation of the data to be transferred.\n@@ -2519,1 +2519,1 @@\n-         * the data that was transfered if the action was MOVE.\n+         * the data that was transferred if the action was MOVE.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTextUI.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-     * Overriden so that the text will not be rendered as shifted for\n+     * Overridden so that the text will not be rendered as shifted for\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicToggleButtonUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -141,1 +141,1 @@\n-    \/** Reponsible for telling the TreeState the size needed for a node. *\/\n+    \/** Responsible for telling the TreeState the size needed for a node. *\/\n@@ -205,1 +205,1 @@\n-     * The time factor to treate the series of typed alphanumeric key\n+     * The time factor to treat the series of typed alphanumeric key\n@@ -860,3 +860,3 @@\n-        \/\/ be backward compatable and try to update the row height, we're\n-        \/\/ therefor NOT going to adjust the row height based on font.  If the\n-        \/\/ developer changes the font, it's there responsibility to update\n+        \/\/ be backward compatible and try to update the row height, we're\n+        \/\/ therefore NOT going to adjust the row height based on font.  If the\n+        \/\/ developer changes the font, it's their responsibility to update\n@@ -1179,1 +1179,1 @@\n-     * Invoked before unstallation of UI.\n+     * Invoked before uninstallation of UI.\n@@ -3681,1 +3681,1 @@\n-         * @param c  The component holding the data to be transfered.  This\n+         * @param c  The component holding the data to be transferred.  This\n@@ -3684,1 +3684,1 @@\n-         * @return  The representation of the data to be transfered.\n+         * @return  The representation of the data to be transferred.\n@@ -4838,1 +4838,1 @@\n-                    \/* Aparently people don't like wrapping;( *\/\n+                    \/* Apparently people don't like wrapping;( *\/\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/basic\/BasicTreeUI.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -65,1 +65,1 @@\n-            \/\/ The preferred and minimum sizes are overriden and padded by\n+            \/\/ The preferred and minimum sizes are overridden and padded by\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalComboBoxEditor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -79,1 +79,1 @@\n-     * Overriden to create a Font with the size coming from the desktop\n+     * Overridden to create a Font with the size coming from the desktop\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalFontDesktopProperty.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -773,1 +773,1 @@\n-            \/\/ the top\/left dark higlight - some of this will get overwritten\n+            \/\/ the top\/left dark highlight - some of this will get overwritten\n@@ -966,4 +966,4 @@\n-            g.drawLine(1,0, 14,0); \/\/ top outter edge\n-            g.drawLine(15,1, 15,14); \/\/ right outter edge\n-            g.drawLine(1,15, 14,15); \/\/ bottom outter edge\n-            g.drawLine(0,1, 0,14); \/\/ left outter edge\n+            g.drawLine(1,0, 14,0); \/\/ top outer edge\n+            g.drawLine(15,1, 15,14); \/\/ right outer edge\n+            g.drawLine(1,15, 14,15); \/\/ bottom outer edge\n+            g.drawLine(0,1, 0,14); \/\/ left outer edge\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalIconFactory.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -316,1 +316,1 @@\n-        \/\/ only. When we needs to call revalidate\/repaint with other styles\n+        \/\/ only. When we need to call revalidate\/repaint with other styles\n@@ -318,1 +318,1 @@\n-        \/\/ imediatly and it will cause the revalidate\/repaint at the proper\n+        \/\/ immediately and it will cause the revalidate\/repaint at the proper\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalRootPaneUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -161,1 +161,1 @@\n-                            \/\/ by simply swaping the i and j axis.\n+                            \/\/ by simply swapping the i and j axis.\n@@ -271,1 +271,1 @@\n-                            \/\/ by simply swaping the i and j axis.\n+                            \/\/ by simply swapping the i and j axis.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalSplitPaneDivider.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-    \/\/ Contants identifying the various Fonts that are Theme can support\n+    \/\/ Constants identifying the various Fonts that a Theme can support\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/MetalTheme.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -317,1 +317,1 @@\n-     * Overriden to enable picking up the system fonts, if applicable.\n+     * Overridden to enable picking up the system fonts, if applicable.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/metal\/OceanTheme.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -332,1 +332,1 @@\n-            \/\/ can not give a right answer as painter sould not be used outside\n+            \/\/ cannot give the right answer as painter should not be used outside\n@@ -460,1 +460,1 @@\n-                    \/\/This could be a normal occurance if you use a property\n+                    \/\/This could be a normal occurrence if you use a property\n@@ -648,1 +648,1 @@\n-                \/\/ todo: destination inserts need to take into acount scale factor for high dpi. Note: You can use f for this, I think\n+                \/\/ todo: destination inserts need to take into account scale factor for high dpi. Note: You can use f for this, I think\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/AbstractRegionPainter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-     * @return The opactity for the effect, 0.0f -> 1.0f\n+     * @return The opacity for the effect, 0.0f -> 1.0f\n@@ -66,1 +66,1 @@\n-     * @param dst The dstination image to paint effect result into. If this is null then a new image will be created\n+     * @param dst The destination image to paint effect result into. If this is null then a new image will be created\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/Effect.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -63,1 +63,1 @@\n-     * @param dst    The destination image to draw blured src image into, null if you want a new one created\n+     * @param dst    The destination image to draw blurred src image into, null if you want a new one created\n@@ -65,1 +65,1 @@\n-     * @return The blured image\n+     * @return The blurred image\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/EffectUtils.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -170,1 +170,1 @@\n-            \/\/ finaly put new in map\n+            \/\/ finally put new in map\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/ImageCache.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-     * Paints using the algorightm specified by <code>paintType<\/code>.\n+     * Paints using the algorithm specified by <code>paintType<\/code>.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/ImageScalingHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -59,1 +59,1 @@\n-     * @param dst The dstination image to paint effect result into. If this is null then a new image will be created\n+     * @param dst The destination image to paint effect result into. If this is null then a new image will be created\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/InnerShadowEffect.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -513,1 +513,1 @@\n-     * example \"Button.background\" --> \"Button[Enabled].backgound\"\n+     * example \"Button.background\" --> \"Button[Enabled].background\"\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/NimbusLookAndFeel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -339,1 +339,1 @@\n-            \/\/states. I do need to popuplate this temp list now though, so that\n+            \/\/states. I do need to populate this temp list now though, so that\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/NimbusStyle.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-        \/\/ Don't RTL flip JSpliders as they handle it internaly\n+        \/\/ Don't RTL flip JSliders as they handle it internally\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/nimbus\/SynthPainterImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-     * I would prefer to use UIResource instad of this.\n+     * I would prefer to use UIResource instead of this.\n@@ -201,1 +201,1 @@\n-        \/\/ Overriden to do nothing, all our painting is done from update\/paint.\n+        \/\/ Overridden to do nothing, all our painting is done from update\/paint.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthEditorPaneUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -282,1 +282,1 @@\n-     * A convience method that will reset the Style of StyleContext if\n+     * A convenience method that will reset the Style of StyleContext if\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthLookAndFeel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -230,1 +230,1 @@\n-            \/\/ we should update the maximal text witdh\n+            \/\/ we should update the maximal text width\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthMenuItemLayoutHelper.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -127,2 +127,2 @@\n-     * understand. This is used when forwarding to beans persistance to know\n-     * when we hsould stop forwarding.\n+     * understand. This is used when forwarding to beans persistence to know\n+     * when we should stop forwarding.\n@@ -165,1 +165,1 @@\n-     * Object references outside the scope of persistance.\n+     * Object references outside the scope of persistence.\n@@ -284,1 +284,1 @@\n-     * Returns true if we are forwarding to persistance.\n+     * Returns true if we are forwarding to persistence.\n@@ -291,1 +291,1 @@\n-     * Handles beans persistance.\n+     * Handles beans persistence.\n@@ -667,1 +667,1 @@\n-            throw new SAXException(\"color: you must specificy a value\");\n+            throw new SAXException(\"color: you must specify a value\");\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthParser.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-     * represents the size of the slider the last time it was layed out.\n+     * represents the size of the slider the last time it was laid out.\n@@ -65,1 +65,1 @@\n-     * the slider has not changed sizes since being last layed out. If necessary\n+     * the slider has not changed sizes since being last laid out. If necessary\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthSliderUI.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -210,1 +210,1 @@\n-     * overriden this method, then you'll probably want to override\n+     * overridden this method, then you'll probably want to override\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthSpinnerUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,0 +68,2 @@\n+    private Color dividerDraggingColor;\n+\n@@ -92,0 +94,2 @@\n+        dividerDraggingColor = UIManager.getColor(\"SplitPaneDivider.draggingColor\");\n+\n@@ -259,0 +263,13 @@\n+    private void setDividerDraggingColor(Graphics g, int loc) {\n+        if (!isContinuousLayout() && getLastDragLocation() != -1 &&\n+               dividerDraggingColor != null) {\n+\n+            g.setColor(dividerDraggingColor);\n+            if (getOrientation() == JSplitPane.HORIZONTAL_SPLIT) {\n+                g.fillRect(loc, 0, dividerSize - 1, splitPane.getHeight() - 1);\n+            } else {\n+                g.fillRect(0, loc, splitPane.getWidth() - 1, dividerSize - 1);\n+            }\n+        }\n+    }\n+\n@@ -268,0 +285,1 @@\n+                setDividerDraggingColor(g, 0);\n@@ -348,0 +366,1 @@\n+\n@@ -350,0 +369,1 @@\n+\n@@ -357,0 +377,1 @@\n+            setDividerDraggingColor(g, getLastDragLocation());\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthSplitPaneUI.java","additions":21,"deletions":0,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-     * while a negative overlap indicates tha tabs should overlap left\/up.<\/p>\n+     * while a negative overlap indicates that tabs should overlap left\/up.<\/p>\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTabbedPaneUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -170,1 +170,1 @@\n-        \/\/ Overriden to do nothing, all our painting is done from update\/paint.\n+        \/\/ Overridden to do nothing, all our painting is done from update\/paint.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTextAreaUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -225,1 +225,1 @@\n-        \/\/ Overriden to do nothing, all our painting is done from update\/paint.\n+        \/\/ Overridden to do nothing, all our painting is done from update\/paint.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthTextFieldUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -93,1 +93,1 @@\n-        \/\/ a border to be set. JViewport.setBorder is overriden to throw\n+        \/\/ a border to be set. JViewport.setBorder is overridden to throw\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthViewportUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -637,1 +637,1 @@\n-      <td>How the buttons should be layed out, one of\n+      <td>How the buttons should be laid out, one of\n@@ -1295,1 +1295,1 @@\n-from where it would normally be layed out. This is \t    only used when\n+from where it would normally be laid out. This is \t    only used when\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/doc-files\/componentProperties.html","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -532,1 +532,1 @@\n-      <dd>Identifer of a previously defined SynthGraphicsUtils object\n+      <dd>Identifier of a previously defined SynthGraphicsUtils object\n@@ -876,3 +876,3 @@\n-      <dd>Path to the image. Path to the image.  If SynthLookAndFeel.load is\n-    passed a Class this will use the Class method getResource (with with the\n-    Class suplied to the load method). If load is passed a URL this will use the\n+      <dd>Path to the image.  If SynthLookAndFeel.load is\n+    passed a Class this will use the Class method getResource (with the\n+    Class supplied to the load method). If load is passed a URL this will use the\n@@ -1003,1 +1003,1 @@\n-      Beans persistance can be used to embed any Object. This is\n+      Beans persistence can be used to embed any Object. This is\n@@ -1005,1 +1005,1 @@\n-      for other arbritrary objects as well. Refer to <a\n+      for other arbitrary objects as well. Refer to <a\n@@ -1008,1 +1008,1 @@\n-      for details on beans persistance.\n+      for details on beans persistence.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/doc-files\/synthFileFormat.html","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n- * {@code Region} and therefor only one {@code SynthStyle}. {@code SynthStyle}\n+ * {@code Region} and therefore only one {@code SynthStyle}. {@code SynthStyle}\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/package-info.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -198,2 +198,2 @@\n-     * Returns an array of indicies of all selected columns.\n-     * @return an array of integers containing the indicies of all\n+     * Returns an array of indices of all selected columns.\n+     * @return an array of integers containing the indices of all\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/table\/TableColumnModel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1280,1 +1280,1 @@\n-                    \/\/ this may overwrite anothers threads cached\n+                    \/\/ this may overwrite another threads cached\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/AsyncBoxView.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -754,1 +754,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n@@ -827,1 +827,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n@@ -1119,1 +1119,1 @@\n-     * are layed out from left to right, so that the <code>View<\/code>\n+     * are laid out from left to right, so that the <code>View<\/code>\n@@ -1127,1 +1127,1 @@\n-     * indicating the <code>View<\/code>s are layed out in\n+     * indicating the <code>View<\/code>s are laid out in\n@@ -1129,1 +1129,1 @@\n-     * indicating the <code>View<\/code>s are layed out in ascending order.\n+     * indicating the <code>View<\/code>s are laid out in ascending order.\n@@ -1143,1 +1143,1 @@\n-     *          are layed out in descending order; otherwise false\n+     *          are laid out in descending order; otherwise false\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/BoxView.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -67,1 +67,1 @@\n- *     <code>childAllocation<\/code> after offseting\n+ *     <code>childAllocation<\/code> after offsetting\n@@ -766,1 +766,1 @@\n-     * <code>View<\/code>s are layed out from left to right,\n+     * <code>View<\/code>s are laid out from left to right,\n@@ -775,1 +775,1 @@\n-     * <code>View<\/code>s are layed out in descending order.\n+     * <code>View<\/code>s are laid out in descending order.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/CompositeView.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -349,1 +349,1 @@\n-     * navigating throught the field.\n+     * navigating through the field.\n@@ -663,1 +663,1 @@\n-         * the cursor position is adusted from this position.\n+         * the cursor position is adjusted from this position.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/DefaultFormatter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -592,1 +592,1 @@\n-     * is cretaed. When a number of ranges should be damaged\n+     * is created. When a number of ranges should be damaged\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/DefaultHighlighter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2275,1 +2275,1 @@\n-                \/\/ Create the newChild, a duplicate of the elment at\n+                \/\/ Create the newChild, a duplicate of the element at\n@@ -2281,1 +2281,1 @@\n-                \/\/ if at end of fracture, or offseting index.\n+                \/\/ if at end of fracture, or offsetting index.\n@@ -2433,1 +2433,1 @@\n-                \/\/ Update index incase something added\/removed.\n+                \/\/ Update index in case something added\/removed.\n@@ -2456,1 +2456,1 @@\n-                \/\/ else nothin to do.\n+                \/\/ else nothing to do.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/DefaultStyledDocument.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -538,1 +538,1 @@\n-     * &nbsp;     \/\/ do someting with text\n+     * &nbsp;     \/\/ do something with text\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/Document.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -371,1 +371,1 @@\n-     * Overridden to make growth policy less agressive for large\n+     * Overridden to make growth policy less aggressive for large\n@@ -774,1 +774,1 @@\n-        \/\/ Find the indexs of the end points.\n+        \/\/ Find the indices of the end points.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/GapContent.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1028,1 +1028,1 @@\n-        \/\/we parse conent to the right of the rightmost TAB only.\n+        \/\/we parse content to the right of the rightmost TAB only.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/GlyphView.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n-     * also kept upto date with the non-literal characters, that is\n+     * also kept up to date with the non-literal characters, that is\n@@ -583,1 +583,1 @@\n-     * Overriden to update the mask after invoking supers implementation.\n+     * Overridden to update the mask after invoking supers implementation.\n@@ -591,1 +591,1 @@\n-     * Overriden to unconditionally allow the replace if\n+     * Overridden to unconditionally allow the replace if\n@@ -625,1 +625,1 @@\n-     * Overriden in an attempt to honor the literals.\n+     * Overridden in an attempt to honor the literals.\n@@ -779,1 +779,1 @@\n-     * Updates the interal bitset from <code>iterator<\/code>. This will\n+     * Updates the internal bitset from <code>iterator<\/code>. This will\n@@ -952,1 +952,1 @@\n-     * Overriden to return an instance of <code>ExtendedReplaceHolder<\/code>.\n+     * Overridden to return an instance of <code>ExtendedReplaceHolder<\/code>.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/InternationalFormatter.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -3690,1 +3690,1 @@\n-         * two indicies.\n+         * two indices.\n@@ -3961,1 +3961,1 @@\n-     * <code>processInputMethodEvent<\/code> has been overriden.\n+     * <code>processInputMethodEvent<\/code> has been overridden.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/JTextComponent.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -698,1 +698,1 @@\n-     * This is overriden to return true for a partial match.\n+     * This is overridden to return true for a partial match.\n@@ -724,1 +724,1 @@\n-     *     the literals.  For example, in pasing in 5551212 into ###-####\n+     *     the literals.  For example, in passing in 5551212 into ###-####\n@@ -834,1 +834,1 @@\n-    \/\/ Interal classes used to represent the mask.\n+    \/\/ Internal classes used to represent the mask.\n@@ -847,1 +847,1 @@\n-         * Returns true if <code>aChar<\/code> is a valid reprensentation of\n+         * Returns true if <code>aChar<\/code> is a valid representation of\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/MaskFormatter.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -316,1 +316,1 @@\n-            \/\/ Don't skip the decimal, it causes wierd behavior\n+            \/\/ Don't skip the decimal, it causes weird behavior\n@@ -353,1 +353,1 @@\n-     * Overriden to toggle the value if the positive\/minus sign\n+     * Overridden to toggle the value if the positive\/minus sign\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/NumberFormatter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-     * @param ls the value is a factor of the line hight\n+     * @param ls the value is a factor of the line height\n@@ -307,1 +307,1 @@\n-     * Typically the <code>View<\/code>s are layed out\n+     * Typically the <code>View<\/code>s are laid out\n@@ -317,1 +317,1 @@\n-     * layed out in descending order.\n+     * laid out in descending order.\n@@ -319,1 +319,1 @@\n-     * This will return true if the text is layed out right\n+     * This will return true if the text is laid out right\n@@ -325,1 +325,1 @@\n-     * @return true if the text is layed out right to left at\n+     * @return true if the text is laid out right to left at\n@@ -934,1 +934,1 @@\n-         * @param axis the axis being layed out.\n+         * @param axis the axis being laid out.\n@@ -1140,1 +1140,1 @@\n-            \/\/ This is expensive, but are views are not necessarily layed\n+            \/\/ This is expensive, but are views are not necessarily laid\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/ParagraphView.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * This exception is to report the failure of state invarient\n+ * This exception is to report the failure of state invariant\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/StateInvariantError.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -339,1 +339,1 @@\n-     * this... so this class trys to hack a solution\n+     * this... so this class tries to hack a solution\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/StringContent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -608,1 +608,1 @@\n-     * have been registered wit the\n+     * have been registered with the\n@@ -807,1 +807,1 @@\n-     * when held in the compact sharable form.\n+     * when held in the compact shareable form.\n@@ -1038,1 +1038,1 @@\n-         * If not overriden, the resolving parent defaults to\n+         * If not overridden, the resolving parent defaults to\n@@ -1535,1 +1535,1 @@\n-         * If not overriden, the resolving parent defaults to\n+         * If not overridden, the resolving parent defaults to\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/StyleContext.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -325,1 +325,1 @@\n-     * @param axis the axis being layed out.\n+     * @param axis the axis being laid out.\n@@ -408,1 +408,1 @@\n-     * column requirements are not satisified, the needs of the\n+     * column requirements are not satisfied, the needs of the\n@@ -724,1 +724,1 @@\n-         * @param axis the axis being layed out.\n+         * @param axis the axis being laid out.\n@@ -768,1 +768,1 @@\n-         * @param axis the axis being layed out.\n+         * @param axis the axis being laid out.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/TableView.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -1251,1 +1251,1 @@\n-     * This implementation assumes the views are layed out in a logical\n+     * This implementation assumes the views are laid out in a logical\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/Utilities.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -333,1 +333,1 @@\n-        \/\/ if the parent is null then propogate down the view tree\n+        \/\/ if the parent is null then propagate down the view tree\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/View.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -415,1 +415,1 @@\n-            \/\/ should damge a little more intelligently.\n+            \/\/ should damage a little more intelligently.\n@@ -658,1 +658,1 @@\n-     * fit withing the horizontal space allocated.\n+     * fit within the horizontal space allocated.\n@@ -660,2 +660,2 @@\n-     * state of it's own and sharing the state of the outer class\n-     * with it's sibblings.\n+     * state of its own and sharing the state of the outer class\n+     * with its siblings.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/WrappedPlainView.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -153,1 +153,1 @@\n-     * obtained a key will be retured that should be passed to\n+     * obtained a key will be returned that should be passed to\n@@ -945,1 +945,1 @@\n-             * Return the number of characters (valid indicies)\n+             * Return the number of characters (valid indices)\n@@ -1429,1 +1429,1 @@\n-         * Overriden to update the grid when validating.\n+         * Overridden to update the grid when validating.\n@@ -1437,1 +1437,1 @@\n-         * Overriden to only alloc instances of TableRowElementInfos.\n+         * Overridden to only alloc instances of TableRowElementInfos.\n@@ -2474,1 +2474,1 @@\n-             * Overriden to invalidate the table as well as\n+             * Overridden to invalidate the table as well as\n@@ -2616,1 +2616,1 @@\n-             * Overriden to invalidate the TableRowElementInfo as well as\n+             * Overridden to invalidate the TableRowElementInfo as well as\n@@ -2682,1 +2682,1 @@\n-         * will be invoked within a <code>readLock<\/code>. If this is overriden\n+         * will be invoked within a <code>readLock<\/code>. If this is overridden\n@@ -2990,1 +2990,1 @@\n-                    \/\/ Elements that represented this, so, we should foward\n+                    \/\/ Elements that represented this, so, we should forward\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/AccessibleHTML.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -228,1 +228,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/BlockView.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1065,1 +1065,1 @@\n-     * The hashtable and the static initalization block below,\n+     * The hashtable and the static initialization block below,\n@@ -1775,1 +1775,1 @@\n-     * is intended to act as a convertor to\/from other attribute\n+     * is intended to act as a converter to\/from other attribute\n@@ -1779,3 +1779,3 @@\n-     * a string to whatever format is appropriate a given key\n-     * (i.e. these convertors are stored in a map using the\n-     * CSS.Attribute as a key and the CssValue as the value).\n+     * a string to whatever format is appropriate for a given key\n+     * (i.e. these converters are stored in a map using the\n+     * CSS.Attribute as the key and the CssValue as the value).\n@@ -3254,1 +3254,1 @@\n-         * <code>names<\/code> give the 4 instrinsic property names.\n+         * <code>names<\/code> give the 4 intrinsic property names.\n@@ -3625,1 +3625,1 @@\n-     * we need StyleSheet for resolving lenght units. (see\n+     * we need StyleSheet for resolving length units. (see\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/CSS.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-     * Negative factor values decrease brigthness (ie, 1.0 turns into black).\n+     * Negative factor values decrease brightness (ie, 1.0 turns into black).\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/CSSBorder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -204,1 +204,1 @@\n-        \/\/ PENDING: make this more effecient.\n+        \/\/ PENDING: make this more efficient.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/CSSParser.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -165,1 +165,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/FrameSetView.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1403,1 +1403,1 @@\n-                \/\/ section, it is necessary to set the corrsponding flag.\n+                \/\/ section, it is necessary to set the corresponding flag.\n@@ -2393,1 +2393,1 @@\n-         * a BadLocationException when API changes are alloced) if inserting\n+         * a BadLocationException when API changes are allocated) if inserting\n@@ -2804,1 +2804,1 @@\n-                    \/\/ this is needed incase an implied-p is needed. If\n+                    \/\/ this is needed in case an implied-p is needed. If\n@@ -4041,1 +4041,1 @@\n-                \/\/ This attemps to clean it up.\n+                \/\/ This attempts to clean it up.\n@@ -4340,1 +4340,1 @@\n-         * used alot, it is cached. *\/\n+         * used a lot, it is cached. *\/\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLDocument.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -182,1 +182,1 @@\n- * be overriden to change this.  The batching of work is done\n+ * be overridden to change this.  The batching of work is done\n@@ -1419,1 +1419,1 @@\n-                    \/\/ getNextVisualPositionFrom is overriden to always return\n+                    \/\/ getNextVisualPositionFrom is overridden to always return\n@@ -2462,1 +2462,1 @@\n-         * obtained a key will be retured that should be passed to\n+         * obtained a key will be returned that should be passed to\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLEditorKit.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -815,1 +815,1 @@\n-            \/\/ Have to output any tags after firstIndex that still remaing,\n+            \/\/ Have to output any tags after firstIndex that still remaining,\n@@ -1195,1 +1195,1 @@\n-     * Writes the line separator. This is overriden to make sure we don't\n+     * Writes the line separator. This is overridden to make sure we don't\n@@ -1208,1 +1208,1 @@\n-     * This method is overriden to map any character entities, such as\n+     * This method is overridden to map any character entities, such as\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/HTMLWriter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -296,1 +296,1 @@\n-     * <code>ALT<\/code> attribute. This is overriden to return\n+     * <code>ALT<\/code> attribute. This is overridden to return\n@@ -976,1 +976,1 @@\n-                        \/\/ initialy synchronize\n+                        \/\/ initially synchronize\n@@ -1056,1 +1056,1 @@\n-     * the attribute specified an alt attribute. It overriden a handle of\n+     * the attribute specified an alt attribute. It overridden a handle of\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/ImageView.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -402,1 +402,1 @@\n-     * @throws IOException if I\/O error occured.\n+     * @throws IOException if I\/O error occurred.\n@@ -414,1 +414,1 @@\n-     * @throws IOException if I\/O error occured.\n+     * @throws IOException if I\/O error occurred.\n@@ -436,1 +436,1 @@\n-     * @param needsIndenting indention will be added if {@code needsIndenting} is {@code true}\n+     * @param needsIndenting indentation will be added if {@code needsIndenting} is {@code true}\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/MinimalHTMLWriter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -237,1 +237,1 @@\n-           to their cannonical values so that the next set command always works\n+           to their canonical values so that the next set command always works\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/OptionListModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -102,1 +102,1 @@\n- * The semantics for when a CSS style should overide visual attributes\n+ * The semantics for when a CSS style should override visual attributes\n@@ -346,1 +346,1 @@\n-     * @throws java.io.IOException if I\/O error occured.\n+     * @throws java.io.IOException if I\/O error occurred.\n@@ -2245,1 +2245,1 @@\n-            \/\/ deside on what side draw bullets, etc.\n+            \/\/ decide on what side draw bullets, etc.\n@@ -2847,1 +2847,1 @@\n-         * If not overriden, the resolving parent defaults to\n+         * If not overridden, the resolving parent defaults to\n@@ -3353,1 +3353,1 @@\n-                    \/\/ general mechanism is definately needed.\n+                    \/\/ general mechanism is definitely needed.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/StyleSheet.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -387,1 +387,1 @@\n-     * column requirements are not satisified, the needs of the\n+     * column requirements are not satisfied, the needs of the\n@@ -636,1 +636,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n@@ -679,1 +679,1 @@\n-     * @param axis the axis being layed out\n+     * @param axis the axis being laid out\n@@ -1527,1 +1527,1 @@\n-         * @param axis the axis being layed out\n+         * @param axis the axis being laid out\n@@ -1578,1 +1578,1 @@\n-         * @param axis the axis being layed out\n+         * @param axis the axis being laid out\n@@ -1720,1 +1720,1 @@\n-         * @param axis the axis being layed out\n+         * @param axis the axis being laid out\n@@ -1773,1 +1773,1 @@\n-         * @param axis the axis being layed out.\n+         * @param axis the axis being laid out.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/TableView.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -548,1 +548,1 @@\n-           <font> tag in the context of <ul> and <ol> We additonally\n+           <font> tag in the context of <ul> and <ol> We additionally\n@@ -690,1 +690,1 @@\n-        \/\/ close out the tags by outputing end tags and then\n+        \/\/ close out the tags by outputting end tags and then\n@@ -813,1 +813,1 @@\n-        \/\/ Avoid putting something wierd in the head of the document.\n+        \/\/ Avoid putting something weird in the head of the document.\n@@ -1642,1 +1642,1 @@\n-        \/\/ ignore all data upto the close bracket '>'\n+        \/\/ ignore all data up to the close bracket '>'\n@@ -1916,1 +1916,1 @@\n-                \/\/ Since closing out a center tag can have real wierd\n+                \/\/ Since closing out a center tag can have real weird\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/parser\/Parser.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -38,2 +38,2 @@\n- * the stack, when an end tag is enountered an element is popped\n- * of the stack.\n+ * the stack, when an end tag is encountered an element is popped\n+ * off the stack.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/text\/html\/parser\/TagStack.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -470,1 +470,1 @@\n-    \/\/ Local methods that subclassers may wish to use that are primarly\n+    \/\/ Local methods that subclassers may wish to use that are primarily\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/AbstractLayoutCache.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * a <code>TreeCellEditor<\/code> that will be layed out according\n+ * a <code>TreeCellEditor<\/code> that will be laid out according\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultTreeCellEditor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -269,1 +269,1 @@\n-     * @param node the node to be removed from it's parrent\n+     * @param node the node to be removed from its parent\n@@ -352,1 +352,1 @@\n-      * @param childIndices     indexes of removed childs\n+      * @param childIndices     indexes of removed children\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultTreeModel.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -914,1 +914,1 @@\n-                            \/\/ find the actual selection pathes corresponded to the\n+                            \/\/ find the actual selection paths corresponded to the\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/DefaultTreeSelectionModel.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -645,1 +645,1 @@\n-     * Ensures that all the path components in path are expanded, accept\n+     * Ensures that all the path components in path are expanded, except\n@@ -648,1 +648,1 @@\n-     * Returns true if succesful in finding the path.\n+     * Returns true if successful in finding the path.\n@@ -772,1 +772,1 @@\n-        \/\/ Overriden DefaultMutableTreeNode methods\n+        \/\/ Overridden DefaultMutableTreeNode methods\n@@ -1093,1 +1093,1 @@\n-        \/\/ the number of children). I prefer this though, making determing\n+        \/\/ the number of children). I prefer this though, making determining\n@@ -1276,1 +1276,1 @@\n-         * Adjusts the child indexs of the receivers children by\n+         * Adjusts the child indices of the receivers children by\n@@ -1484,1 +1484,1 @@\n-        \/** Parent thats children are being enumerated. *\/\n+        \/** Parent whose children are being enumerated. *\/\n@@ -1538,1 +1538,1 @@\n-         * and if not succesful <code>findNextValidParent<\/code>.\n+         * and if not successful <code>findNextValidParent<\/code>.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/FixedHeightLayoutCache.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -420,1 +420,1 @@\n-                   child indexs that are passed in. *\/\n+                   child indices that are passed in. *\/\n@@ -433,1 +433,1 @@\n-                    \/\/ Null indicies for root indicates it changed.\n+                    \/\/ Null indices for root indicates it changed.\n@@ -697,1 +697,1 @@\n-     * Retursn the bounds for row, <code>row<\/code> by reference in\n+     * Returns the bounds for row, <code>row<\/code> by reference in\n@@ -754,1 +754,1 @@\n-      * cells, nor update the selection if it needs to be.  If succesful\n+      * cells, nor update the selection if it needs to be.  If successful\n@@ -889,1 +889,1 @@\n-      * automaticly adjusts the locations.\n+      * automatically adjusts the locations.\n@@ -951,1 +951,1 @@\n-     * Returns true if succesful in finding the path.\n+     * Returns true if successful in finding the path.\n@@ -1038,1 +1038,1 @@\n-        \/\/ Overriden DefaultMutableTreeNode methods\n+        \/\/ Overridden DefaultMutableTreeNode methods\n@@ -1618,1 +1618,1 @@\n-        \/** Parent thats children are being enumerated. *\/\n+        \/** Parent whose children are being enumerated. *\/\n@@ -1668,1 +1668,1 @@\n-         * and if not succesful <code>findNextValidParent<\/code>.\n+         * and if not successful <code>findNextValidParent<\/code>.\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/tree\/VariableHeightLayoutCache.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -214,1 +214,1 @@\n-     * Retreives the value from the defaults table with key\n+     * Retrieves the value from the defaults table with key\n@@ -241,1 +241,1 @@\n-     * Retreives the value from the defaults table with key\n+     * Retrieves the value from the defaults table with key\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/undo\/AbstractUndoableEdit.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -349,1 +349,1 @@\n-    \/\/ These three functions consitute RFE 4100710. Do not remove.\n+    \/\/ These three functions constitute RFE 4100710. Do not remove.\n@@ -418,1 +418,1 @@\n-     * for ususal, non-embedded components.\n+     * for usual, non-embedded components.\n@@ -483,1 +483,1 @@\n-     * for ususal, non-embedded components.\n+     * for usual, non-embedded components.\n@@ -540,1 +540,1 @@\n-     * This method should be overriden in subclasses. It is\n+     * This method should be overridden in subclasses. It is\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/EmbeddedFrame.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -199,1 +199,1 @@\n-                \/\/ case, we'll just use the originial heavyweight.\n+                \/\/ case, we'll just use the original heavyweight.\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/GlobalCursorManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -144,1 +144,1 @@\n-     * @Depricated replaced by {@link #getScaleFactorX()} and\n+     * @Deprecated replaced by {@link #getScaleFactorX()} and\n@@ -174,1 +174,1 @@\n-     * @Depricated replaced by {@link #notifyDisplayChanged(double, double)}\n+     * @Deprecated replaced by {@link #notifyDisplayChanged(double, double)}\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/LightweightFrame.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n- * component willl still receive it's events.\n+ * component will still receive its events.\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/ModalExclude.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -264,1 +264,1 @@\n-        \/\/ coversion loop\n+        \/\/ conversion loop\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/PlatformFont.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1480,2 +1480,2 @@\n-     * serie of paint events, a serie of Java focus events, which then\n-     * generate a serie of paint events which then are processed -\n+     * series of paint events, a series of Java focus events, which then\n+     * generate a series of paint events which then are processed -\n@@ -1537,1 +1537,1 @@\n-            \/\/ resulted in native requests?  Therefor, check native events again.\n+            \/\/ resulted in native requests?  Therefore, check native events again.\n@@ -1979,1 +1979,1 @@\n-     * the X11 systems. On MS Windows this method is overriden in WToolkit\n+     * the X11 systems. On MS Windows this method is overridden in WToolkit\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/SunToolkit.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/Symbol.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -262,1 +262,1 @@\n-            throw new InvalidDnDOperationException(\"only ACTION_LINK is permissable for transfer of java.rmi.Remote objects\");\n+            throw new InvalidDnDOperationException(\"only ACTION_LINK is permissible for transfer of java.rmi.Remote objects\");\n@@ -284,1 +284,1 @@\n-            throw new IOException(\"no native data was transfered\");\n+            throw new IOException(\"no native data was transferred\");\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/dnd\/SunDropTargetContextPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -584,1 +584,1 @@\n-             * values and chop out a miniscule curve piece.\n+             * values and chop out a minuscule curve piece.\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/geom\/Order3.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n- * {@code ExecutableInputMethodManager} and executes it as a deamon\n+ * {@code ExecutableInputMethodManager} and executes it as a daemon\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/im\/ExecutableInputMethodManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -84,1 +84,1 @@\n-    \/\/ the current client component is kept until the user focusses on a different\n+    \/\/ the current client component is kept until the user focuses on a different\n@@ -785,2 +785,2 @@\n-     * Turns off the native IM. The native IM is diabled when\n-     * the deactive method of InputMethod is called. It is\n+     * Turns off the native IM. The native IM is disabled when\n+     * the deactivate method of InputMethod is called. It is\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/im\/InputContext.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -248,1 +248,1 @@\n-        \/\/ REMIND:  Be careful!  Is this called everytime there is a\n+        \/\/ REMIND:  Be careful!  Is this called every time there is a\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/ImageRepresentation.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -68,2 +68,2 @@\n-     * Returned value indicates whether the library initailization was\n-     * succeded.\n+     * Returned value indicates whether the library initialization\n+     * succeeded.\n@@ -71,1 +71,1 @@\n-     * There could be number of reasons to failure:\n+     * There could be a number of reasons for failure:\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/ImagingLib.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -151,1 +151,1 @@\n-     * Origin is the coodinate in the new Raster's coordinate system of\n+     * Origin is the coordinate in the new Raster's coordinate system of\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/IntegerComponentRaster.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-     * Origin is the coodinate in the new Raster's coordinate system of\n+     * Origin is the coordinate in the new Raster's coordinate system of\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/IntegerInterleavedRaster.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -137,1 +137,1 @@\n-     * Origin is the coodinate in the new Raster's coordinate system of\n+     * Origin is the coordinate in the new Raster's coordinate system of\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/ShortComponentRaster.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -114,1 +114,1 @@\n-     * Origin is the coodinate in the new Raster's coordinate system of\n+     * Origin is the coordinate in the new Raster's coordinate system of\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/ShortInterleavedRaster.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-     * Tracks loss of surface contents; queriable by user to see whether\n+     * Tracks loss of surface contents; queryable by user to see whether\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/image\/VolatileSurfaceManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -513,1 +513,1 @@\n-     * from its {@code call} method. If invokation is interrupted then Thread.currentThread().isInterrupted() will\n+     * from its {@code call} method. If invocation is interrupted then Thread.currentThread().isInterrupted() will\n@@ -526,1 +526,1 @@\n-     * If invokation is interrupted then Thread.currentThread().isInterrupted() will\n+     * If invocation is interrupted then Thread.currentThread().isInterrupted() will\n@@ -564,1 +564,1 @@\n-         * @return the result of {@code task}'s invokation\n+         * @return the result of {@code task}'s invocation\n","filename":"src\/java.desktop\/share\/classes\/sun\/awt\/shell\/ShellFolder.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -580,1 +580,1 @@\n-             * However, benefits are neglible and some fonts have incorrect\n+             * However, benefits are negligible and some fonts have incorrect\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/CMap.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -380,1 +380,1 @@\n-            \/\/ NOTE:  The performace of the following code may\n+            \/\/ NOTE:  The performance of the following code may\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/Decoration.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-     * to distingish these. Possibly if a user adds fonts to the JRE font\n+     * to distinguish these. Possibly if a user adds fonts to the JRE font\n@@ -105,1 +105,1 @@\n-     * strike obtained from this Font2D satifies the needs of the next\n+     * strike obtained from this Font2D satisfies the needs of the next\n@@ -257,1 +257,1 @@\n-     * required with its attendant consequences for MP scaleability.\n+     * required with its attendant consequences for MP scalability.\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/Font2D.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n- * Once all referers no longer have a reference to the Font2D it\n+ * Once all referrers no longer have a reference to the Font2D it\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/Font2DHandle.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-     * Therefore this is very convinient place to register\n+     * Therefore this is very convenient place to register\n@@ -119,1 +119,1 @@\n-     * syncronized keyword is not needed.\n+     * synchronized keyword is not needed.\n@@ -132,1 +132,1 @@\n-    protected long nativeScaler = 0; \/\/used by decendants\n+    protected long nativeScaler = 0; \/\/used by descendants\n@@ -152,1 +152,1 @@\n-     *   GlyphInfo object. Because Strike and drawing releated logic does\n+     *   GlyphInfo object. Because Strike and drawing related logic does\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/FontScaler.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -351,1 +351,1 @@\n-     * @return the layed out glyphvector, if result was passed in, it is returned\n+     * @return the laid out glyphvector, if result was passed in, it is returned\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/GlyphLayout.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n- * to be very lightweight and finalization is a comparitively expensive\n+ * to be very lightweight and finalization is a comparatively expensive\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/GlyphList.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n- * particular, Hiragana, Katakana, and Han characters will appear in seperate\n+ * particular, Hiragana, Katakana, and Han characters will appear in separate\n@@ -92,1 +92,1 @@\n-     * of the given characetrs.\n+     * of the given characters.\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/ScriptRun.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -260,1 +260,1 @@\n-     * is requested and the surface is some non-standard type or hardward\n+     * is requested and the surface is some non-standard type or hardware\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/StandardGlyphVector.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-For scaleability and ease of use, a key goal is multi-threaded read\n+For scalability and ease of use, a key goal is multi-threaded read\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/StrikeCache.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1689,1 +1689,1 @@\n-     * the isAbsolute() check is needed since that's whats stored in the\n+     * the isAbsolute() check is needed since that's what's stored in the\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/SunFontManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -60,1 +60,1 @@\n- * An instance stores some information from the font file to faciliate\n+ * An instance stores some information from the font file to facilitate\n@@ -63,1 +63,1 @@\n- * for a typical font. Systems with mutiple locales sometimes have up to 400\n+ * for a typical font. Systems with multiple locales sometimes have up to 400\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/TrueTypeFont.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -115,1 +115,1 @@\n-               (namely we have omited MM aka \"Multiple Master\", OsF aka \"Oldstyle figures\",\n+               (namely we have omitted MM aka \"Multiple Master\", OsF aka \"Oldstyle figures\",\n","filename":"src\/java.desktop\/share\/classes\/sun\/font\/Type1Font.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -525,1 +525,1 @@\n-        \/\/ First see if we can find an overwriteable source shape\n+        \/\/ First see if we can find an overwritable source shape\n@@ -1573,1 +1573,1 @@\n-     * If the currrent transform is Cx, the result of composition\n+     * If the current transform is Cx, the result of composition\n@@ -1786,1 +1786,1 @@\n-     * When Graphics2D is constructed for a component, the backgroung color is\n+     * When Graphics2D is constructed for a component, the background color is\n@@ -2577,1 +2577,1 @@\n-     * vertical padding factors for antialising and interpolation may\n+     * vertical padding factors for antialiasing and interpolation may\n@@ -2842,1 +2842,1 @@\n-                    \/\/ only the relevent portion of the tile\n+                    \/\/ only the relevant portion of the tile\n@@ -3636,1 +3636,1 @@\n-     * that this object will not be useable after it is disposed.\n+     * that this object will not be usable after it is disposed.\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/SunGraphics2D.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -371,1 +371,1 @@\n-     * and tries to update it if it is stale or non-existant and the\n+     * and tries to update it if it is stale or non-existent and the\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/SurfaceDataProxy.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -371,1 +371,1 @@\n-                    System.err.print(\"GraphicsPrimitive timetamps \");\n+                    System.err.print(\"GraphicsPrimitive timestamps \");\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/loops\/GraphicsPrimitive.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- *   2. locate an instance of a primitve based on characteristics\n+ *   2. locate an instance of a primitive based on characteristics\n@@ -96,1 +96,1 @@\n-     * Ensure that noone can instantiate this class.\n+     * Ensure that no one can instantiate this class.\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/loops\/GraphicsPrimitiveMgr.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1085,1 +1085,1 @@\n-     * can represent without dropouts occuring.\n+     * can represent without dropouts occurring.\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/DMarlinRenderingEngine.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -693,1 +693,1 @@\n-            \/\/ use substraction to avoid integer overflow:\n+            \/\/ use subtraction to avoid integer overflow:\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/Helpers.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -64,1 +64,1 @@\n-            \/\/ 34 occurences\n+            \/\/ 34 occurrences\n@@ -137,1 +137,1 @@\n-            \/\/ 1561 occurences\n+            \/\/ 1561 occurrences\n@@ -152,1 +152,1 @@\n-            \/\/ 14 occurences\n+            \/\/ 14 occurrences\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/MergeSort.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -395,1 +395,1 @@\n-        \/\/ use substraction to avoid integer overflow:\n+        \/\/ use subtraction to avoid integer overflow:\n@@ -626,1 +626,1 @@\n-            \/\/ if context is maked as DIRTY:\n+            \/\/ if context is marked as DIRTY:\n@@ -828,1 +828,1 @@\n-        int lastY = -1; \/\/ last emited row\n+        int lastY = -1; \/\/ last emitted row\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/Renderer.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -167,1 +167,1 @@\n-        \/\/ if context is maked as DIRTY:\n+        \/\/ if context is marked as DIRTY:\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/RendererContext.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1081,1 +1081,1 @@\n-        \/\/ number of splitted curves\n+        \/\/ number of split curves\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/marlin\/TransformingPathConsumer2D.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-    \/\/ Text with a height greater than the threshhold will be\n+    \/\/ Text with a height greater than the threshold will be\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/pipe\/OutlineTextRenderer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * to be very lightweight and finalization is a comparitively expensive\n+ * to be very lightweight and finalization is a comparatively expensive\n","filename":"src\/java.desktop\/share\/classes\/sun\/java2d\/pipe\/ShapeSpanIterator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -453,1 +453,1 @@\n-                \/\/ may blit b\/g colour (including white) where it shoudn't.\n+                \/\/ may blit b\/g colour (including white) where it shouldn't.\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSPathGraphics.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -341,1 +341,1 @@\n-       \/\/enable priviledges so initProps can access system properties,\n+       \/\/enable privileges so initProps can access system properties,\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PSPrinterJob.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1637,1 +1637,1 @@\n-     * If the currrent transform is Cx, the result of composition\n+     * If the current transform is Cx, the result of composition\n@@ -1693,1 +1693,1 @@\n-     * When Graphics2D is constructed for a component, the backgroung color is\n+     * When Graphics2D is constructed for a component, the background color is\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PeekGraphics.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -827,1 +827,1 @@\n-             * backwards compatibility. We emulate this by createing\n+             * backwards compatibility. We emulate this by creating\n@@ -979,1 +979,1 @@\n-         * until we can rendevous with the application's thread and\n+         * until we can rendezvous with the application's thread and\n@@ -981,1 +981,1 @@\n-         * drawing. When the application is done drawing we rendevous\n+         * drawing. When the application is done drawing we rendezvous\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/PrintJob2D.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1521,1 +1521,1 @@\n-     * If the currrent transform is Cx, the result of composition\n+     * If the current transform is Cx, the result of composition\n@@ -1577,1 +1577,1 @@\n-     * When Graphics2D is constructed for a component, the backgroung color is\n+     * When Graphics2D is constructed for a component, the background color is\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ProxyGraphics2D.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n- * graphics calls are forwared to another Graphics instance\n+ * graphics calls are forwarded to another Graphics instance\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/ProxyPrintGraphics.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -841,1 +841,1 @@\n-                w = owner; \/\/ use the one specifed by the app\n+                w = owner; \/\/ use the one specified by the app\n","filename":"src\/java.desktop\/share\/classes\/sun\/print\/RasterPrinterJob.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -100,1 +100,1 @@\n-     * @param args accumulated argumets to process.\n+     * @param args accumulated arguments to process.\n@@ -108,1 +108,1 @@\n-     * This implementation calls {@code run(List<T> args)} mehtod\n+     * This implementation calls {@code run(List<T> args)} method\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/AccumulativeRunnable.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n- * <li>Invoke <code>paint<\/code> to draw the cached reprensentation at\n+ * <li>Invoke <code>paint<\/code> to draw the cached representation at\n@@ -59,2 +59,2 @@\n- * <li>Invoke <code>getImage<\/code> to get the cached reprensentation and\n- *     draw the image yourself.  This is primarly useful when you are not\n+ * <li>Invoke <code>getImage<\/code> to get the cached representation and\n+ *     draw the image yourself.  This is primarily useful when you are not\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/CachedPainter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n-     * For some look and feels check boxs and radio buttons typically\n+     * For some look and feels check boxes and radio buttons typically\n@@ -119,1 +119,1 @@\n-     * For some look and feels check boxs and radio buttons typically\n+     * For some look and feels check boxes and radio buttons typically\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/DefaultLayoutStyle.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n- * public API and its API may change in incompatable ways between dot dot\n+ * public API and its API may change in incompatible ways between dot dot\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/DefaultLookup.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-     * @Depricated replaced by\n+     * @Deprecated replaced by\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/LightweightContent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -336,1 +336,1 @@\n-            \/\/ we should update the maximal text witdh\n+            \/\/ we should update the maximal text width\n@@ -834,1 +834,1 @@\n-     * @return maximal vaule.\n+     * @return maximal value.\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/MenuItemLayoutHelper.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n- * public API and its API may change in incompatable ways between dot dot\n+ * public API and its API may change in incompatible ways between dot dot\n@@ -1519,1 +1519,1 @@\n-     * Returns true if the given event is corrent gesture for\n+     * Returns true if the given event is current gesture for\n@@ -1567,1 +1567,1 @@\n-             * dispathing thread\n+             * dispatching thread\n@@ -1782,1 +1782,1 @@\n-     * not map to a valid {@code Integer}, or can not be convered from\n+     * not map to a valid {@code Integer}, or cannot be converted from\n@@ -1795,1 +1795,1 @@\n-     * {@code Integer}, or can not be convered from a {@code String}\n+     * {@code Integer}, or cannot be converted from a {@code String}\n@@ -1809,1 +1809,1 @@\n-     * not map to a valid {@code Integer}, or can not be convered from\n+     * not map to a valid {@code Integer}, or can not be converted from\n@@ -1826,1 +1826,1 @@\n-     * {@code Integer}, or can not be convered from a {@code String}\n+     * {@code Integer}, or can not be converted from a {@code String}\n@@ -2209,1 +2209,1 @@\n-     * @param model  corresponing tree model\n+     * @param model  corresponding tree model\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/SwingUtilities2.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-     * Paints using the algorightm specified by <code>paintType<\/code>.\n+     * Paints using the algorithm specified by <code>paintType<\/code>.\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/plaf\/synth\/Paint9Painter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n- * shoud be considered an implementation detail, and subject to change.\n+ * should be considered an implementation detail, and subject to change.\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/plaf\/synth\/SynthFileChooserUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n- * shoud be considered an implementation detail, and subject to change.\n+ * should be considered an implementation detail, and subject to change.\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/plaf\/synth\/SynthFileChooserUIImpl.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -772,1 +772,1 @@\n-                         * documents it is often for consequent positons to have\n+                         * documents it is often for consequent positions to have\n","filename":"src\/java.desktop\/share\/classes\/sun\/swing\/text\/TextComponentPrintable.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -513,1 +513,1 @@\n-     It differs from the HotJava body.content in that it doesnt\n+     It differs from the HotJava body.content in that it doesn't\n","filename":"src\/java.desktop\/share\/data\/dtdbuilder\/html32.dtd","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -5,1 +5,1 @@\n-https:\/\/github.com\/harfbuzz\/harfbuzz\/blob\/master\/COPYING\n+https:\/\/github.com\/harfbuzz\/harfbuzz\/blob\/4.4.1\/COPYING\n@@ -13,4 +13,4 @@\n-Copyright © 2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020  Google, Inc.\n-Copyright © 2018,2019,2020  Ebrahim Byagowi\n-Copyright © 2019,2020  Facebook, Inc.\n-Copyright © 2012  Mozilla Foundation\n+Copyright © 2010-2022  Google, Inc.\n+Copyright © 2018-2020  Ebrahim Byagowi\n+Copyright © 2019-2020  Facebook, Inc.\n+Copyright © 2012-2015  Mozilla Foundation.\n@@ -18,1 +18,1 @@\n-Copyright © 2008,2010  Nokia Corporation and\/or its subsidiary(-ies)\n+Copyright © 2008-2010  Nokia Corporation and\/or its subsidiary(-ies)\n@@ -22,1 +22,1 @@\n-Copyright © 2006  Behdad Esfahbod\n+Copyright © 2005-2022 Behdad Esfahbod\n@@ -24,1 +24,1 @@\n-Copyright © 2004,2007,2008,2009,2010  Red Hat, Inc.\n+Copyright © 2004-2013  Red Hat, Inc.\n@@ -26,0 +26,4 @@\n+Copyright © 2016  Elie Roux <elie.roux@telecom-bretagne.eu>\n+Copyright © 2018-2019 Adobe Inc.\n+Copyright © 2018  Khaled Hosny\n+Copyright © 2016  Igalia S.L.\n@@ -52,0 +56,4 @@\n+---------------------------------\n+The below license applies to the following files:\n+libharfbuzz\/hb-ucd.cc\n+\n","filename":"src\/java.desktop\/share\/legal\/harfbuzz.md","additions":16,"deletions":8,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n- * outBuf must be large enough to conatin all the rectangles.\n+ * outBuf must be large enough to contain all the rectangles.\n","filename":"src\/java.desktop\/share\/native\/common\/awt\/utility\/rect.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1038,1 +1038,1 @@\n-    \/\/ a part of desitination buffer into an intermediate texture\n+    \/\/ a part of destination buffer into an intermediate texture\n","filename":"src\/java.desktop\/share\/native\/common\/java2d\/opengl\/OGLTextRenderer.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -121,1 +121,1 @@\n- * (in the case of non-antialiased primitives) everytime the current color\n+ * (in the case of non-antialiased primitives) every time the current color\n","filename":"src\/java.desktop\/share\/native\/common\/java2d\/opengl\/OGLVertexCache.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -49,0 +49,3 @@\n+#define IS_MUL_OVERFLOW(m, n) \\\n+        ((m) != 0 && (n) != 0 && (((size_t)((m)*(n))) != (((size_t)(m)) * ((size_t)(n)))))\n+\n@@ -50,1 +53,3 @@\n-    (IS_SAFE_SIZE_T(m) && IS_SAFE_SIZE_T(n) && ((m) == 0 || (n) == 0 || (size_t)(n) <= (SIZE_MAX \/ (size_t)(m))))\n+    (IS_SAFE_SIZE_T(m) && IS_SAFE_SIZE_T(n) && \\\n+     ((m) == 0 || (n) == 0 || (size_t)(n) <= (SIZE_MAX \/ (size_t)(m))) && \\\n+     !IS_MUL_OVERFLOW(m, n))\n","filename":"src\/java.desktop\/share\/native\/include\/sizecalc.h","additions":7,"deletions":2,"binary":false,"changes":9,"previous_filename":"src\/java.base\/share\/native\/libjava\/sizecalc.h","status":"renamed"},{"patch":"@@ -52,1 +52,1 @@\n-            \/* integer oveflow *\/                           \\\n+            \/* integer overflow *\/                           \\\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/awt_ImageRep.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n- * will check for the existance of the \"DecodeDeclared\" keyword\n+ * will check for the existence of the \"DecodeDeclared\" keyword\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/cvutils\/img_anycm.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -47,1 +47,1 @@\n- * will check for the existance of the \"DitherDeclared\" keyword\n+ * will check for the existence of the \"DitherDeclared\" keyword\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/cvutils\/img_fsdither.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -94,1 +94,1 @@\n- * intensity thereby causing an occasionaly dark pixel when rendering\n+ * intensity thereby causing an occasionally dark pixel when rendering\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/cvutils\/img_ordclruns.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n- * will check for the existance of the \"DitherDeclared\" keyword\n+ * will check for the existence of the \"DitherDeclared\" keyword\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/cvutils\/img_orddither.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -132,1 +132,1 @@\n-     * Start reading the image data. First we get the intial code size\n+     * Start reading the image data. First we get the initial code size\n@@ -173,1 +173,1 @@\n-    \/* Temproray storage for decompression *\/\n+    \/* Temporary storage for decompression *\/\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/gif\/gifdecoder.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1673,1 +1673,1 @@\n- * when text is drawn ontop of translucent background color. The standard\n+ * when text is drawn on top of translucent background color. The standard\n","filename":"src\/java.desktop\/share\/native\/libawt\/java2d\/loops\/LoopMacros.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -936,1 +936,1 @@\n- * In our case, initialy K is chosen as 1\/(2^DF_CUB_STEPS) this value is taken\n+ * In our case, initially K is chosen as 1\/(2^DF_CUB_STEPS) this value is taken\n","filename":"src\/java.desktop\/share\/native\/libawt\/java2d\/loops\/ProcessPath.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -533,1 +533,1 @@\n-     * and the glyphlist will be homogenous. This test and the position\n+     * and the glyphlist will be homogeneous. This test and the position\n@@ -535,1 +535,1 @@\n-     * heterogenous.\n+     * heterogeneous.\n@@ -538,1 +538,1 @@\n-     * heterogenous\n+     * heterogeneous\n","filename":"src\/java.desktop\/share\/native\/libfontmanager\/DrawGlyphList.c","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -97,1 +97,1 @@\n-   To simplify work with debuging version of freetype we define\n+   To simplify work with debugging version of freetype we define\n@@ -1278,1 +1278,1 @@\n-    \/* first usage - allocate space and intialize all fields *\/\n+    \/* first usage - allocate space and initialize all fields *\/\n","filename":"src\/java.desktop\/share\/native\/libfontmanager\/freetypeScaler.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -47,1 +47,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -49,1 +49,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -51,1 +51,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n","filename":"src\/java.desktop\/share\/native\/libmlib_image\/mlib_ImageConvCopyEdge_Bit.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -47,1 +47,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -49,1 +49,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n@@ -51,1 +51,1 @@\n- *                image to be copyed.\n+ *                image to be copied.\n","filename":"src\/java.desktop\/share\/native\/libmlib_image\/mlib_c_ImageConvCopyEdge.c","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n- *      mlib_ImageConvVersion - Get Conv* funtions version\n+ *      mlib_ImageConvVersion - Get Conv* functions version\n","filename":"src\/java.desktop\/share\/native\/libmlib_image\/mlib_c_ImageConvVersion.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1338,1 +1338,1 @@\n-\/* Data Fomat Conversion ( format ) *\/\n+\/* Data Format Conversion ( format ) *\/\n","filename":"src\/java.desktop\/share\/native\/libmlib_image\/mlib_image_proto.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n- * Macroses defined below are wrappers for alloc functions\n+ * Macros defined below are wrappers for alloc functions\n","filename":"src\/java.desktop\/share\/native\/libmlib_image\/safe_alloc.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -312,1 +312,1 @@\n-    \/* check the mask is contigious *\/\n+    \/* check the mask is contiguous *\/\n","filename":"src\/java.desktop\/share\/native\/libsplashscreen\/splashscreen_gfx_impl.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -270,1 +270,1 @@\n-            \/** The action to be performed upon clicking the baloon. *\/\n+            \/** The action to be performed upon clicking the balloon. *\/\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/InfoWindow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -90,1 +90,1 @@\n-        boolean overriden = false;\n+        boolean overridden = false;\n@@ -126,1 +126,1 @@\n-                overriden = true;\n+                overridden = true;\n@@ -178,1 +178,1 @@\n-            if (!overriden) {\n+            if (!overridden) {\n@@ -185,1 +185,1 @@\n-        putEmbedderRegistryEntry(embedder, overriden, version, proxy);\n+        putEmbedderRegistryEntry(embedder, overridden, version, proxy);\n@@ -267,1 +267,1 @@\n-        boolean overriden = false;\n+        boolean overridden = false;\n@@ -300,1 +300,1 @@\n-                overriden = true;\n+                overridden = true;\n@@ -317,1 +317,1 @@\n-        putEmbedderRegistryEntry(embedded, overriden, version, proxy);\n+        putEmbedderRegistryEntry(embedded, overridden, version, proxy);\n@@ -570,1 +570,1 @@\n-         * if drop immediatelly follows (see BugTraq ID 4395290).\n+         * if drop immediately follows (see BugTraq ID 4395290).\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/MotifDnDDropTargetProtocol.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -106,1 +106,1 @@\n-     * Removes atom from the list. Does nothing if arrays doesn't conaint this atom.\n+     * Removes atom from the list. Does nothing if arrays doesn't contain this atom.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XAtomList.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -75,1 +75,1 @@\n-     * are received by the window they actualy happened on, not the grabber.\n+     * are received by the window they actually happened on, not the grabber.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XAwtState.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -484,2 +484,2 @@\n-     * returns item thats mapped coordinates contain\n-     * specified point, null of none.\n+     * returns item which mapped coordinates contain\n+     * the specified point, null if none.\n@@ -890,1 +890,1 @@\n-     * Overriden utility functions of XWindow\n+     * Overridden utility functions of XWindow\n@@ -942,1 +942,1 @@\n-     * This function needs to be overriden since\n+     * This function needs to be overridden since\n@@ -944,1 +944,1 @@\n-     * so events can not be processed using standart means\n+     * so events cannot be processed using standard means\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XBaseMenuWindow.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -486,1 +486,1 @@\n-     * The lock should be acquired untill all operations with XSizeHints are completed.\n+     * The lock should be acquired until all operations with XSizeHints are completed.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XBaseWindow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-     * Implementaion of interface methods\n+     * Implementation of interface methods\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XCheckboxMenuItemPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -420,1 +420,1 @@\n-    \/\/ TODO: copied directly from XButtonPeer.  Should probabaly be shared\n+    \/\/ TODO: copied directly from XButtonPeer.  Should probably be shared\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XCheckboxPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-        \/\/ the largest cursor size that could be dislpayed\n+        \/\/ the largest cursor size that could be displayed\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XCustomCursor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -154,1 +154,1 @@\n-        \/\/ Just get the atom. If it has already been retrived\n+        \/\/ Just get the atom. If it has already been retrieved\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XDataTransferer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -719,1 +719,1 @@\n-    \/\/ This method gets overriden in XFramePeer & XDialogPeer.\n+    \/\/ This method gets overridden in XFramePeer & XDialogPeer.\n@@ -1207,1 +1207,1 @@\n-        \/\/ If this is Window and its owner Frame is active we can be sure request succedded.\n+        \/\/ If this is Window and its owner Frame is active we can be sure request succeeded.\n@@ -1223,1 +1223,1 @@\n-            \/\/ Right now, because policy is unknown we can't be sure we succedded\n+            \/\/ Right now, because policy is unknown we can't be sure we succeeded\n@@ -1290,1 +1290,1 @@\n-             * definetely before the Frame gets FocusIn event (when this method is called).\n+             * definitely before the Frame gets FocusIn event (when this method is called).\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XDecoratedPeer.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -122,1 +122,1 @@\n-        boolean overriden = false;\n+        boolean overridden = false;\n@@ -138,1 +138,1 @@\n-                overriden = true;\n+                overridden = true;\n@@ -146,1 +146,1 @@\n-        if (overriden && version >= 4) {\n+        if (overridden && version >= 4) {\n@@ -267,1 +267,1 @@\n-        putEmbedderRegistryEntry(embedder, overriden, version, proxy);\n+        putEmbedderRegistryEntry(embedder, overridden, version, proxy);\n@@ -323,1 +323,1 @@\n-        boolean overriden = false;\n+        boolean overridden = false;\n@@ -339,1 +339,1 @@\n-                overriden = true;\n+                overridden = true;\n@@ -347,1 +347,1 @@\n-        if (overriden && version >= 4) {\n+        if (overridden && version >= 4) {\n@@ -405,1 +405,1 @@\n-        putEmbedderRegistryEntry(embedded, overriden, version, proxy);\n+        putEmbedderRegistryEntry(embedded, overridden, version, proxy);\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XDnDDropTargetProtocol.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -278,1 +278,1 @@\n-        private final boolean overriden;\n+        private final boolean overridden;\n@@ -281,2 +281,2 @@\n-        EmbedderRegistryEntry(boolean overriden, int version, long proxy) {\n-            this.overriden = overriden;\n+        EmbedderRegistryEntry(boolean overridden, int version, long proxy) {\n+            this.overridden = overridden;\n@@ -287,1 +287,1 @@\n-            return overriden;\n+            return overridden;\n@@ -302,1 +302,1 @@\n-                                                  boolean overriden,\n+                                                  boolean overridden,\n@@ -307,1 +307,1 @@\n-                                 new EmbedderRegistryEntry(overriden, version,\n+                                 new EmbedderRegistryEntry(overridden, version,\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XDropTargetProtocol.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -105,1 +105,1 @@\n-        \/\/ Unimplemeneted: Check for min\/max hints for non-resizable\n+        \/\/ Unimplemented: Check for min\/max hints for non-resizable\n@@ -261,1 +261,1 @@\n-              \/\/ Either lightweight or excessive requiest - all events are generated.\n+              \/\/ Either lightweight or excessive request - all events are generated.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XEmbedChildProxyPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -567,1 +567,1 @@\n-                throw new RuntimeException(\"Didn't receive event \" + XEmbedHelper.msgidToString(event) + \" but recevied \" + XEmbedHelper.msgidToString(eventReceived));\n+                throw new RuntimeException(\"Didn't receive event \" + XEmbedHelper.msgidToString(event) + \" but received \" + XEmbedHelper.msgidToString(eventReceived));\n@@ -570,1 +570,1 @@\n-                    xembedLog.finer(\"Successfully recevied \" + XEmbedHelper.msgidToString(event));\n+                    xembedLog.finer(\"Successfully received \" + XEmbedHelper.msgidToString(event));\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XEmbedServerTester.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -715,1 +715,1 @@\n-     * We cann't update savedDir here now since it used very often\n+     * We can't update savedDir here now since it used very often\n@@ -799,1 +799,1 @@\n-            \/\/ Actually in Motif implementation lost file value which was saved after prevously showing\n+            \/\/ Actually in Motif implementation lost file value which was saved after previously showing\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XFileDialogPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -223,1 +223,1 @@\n-     * @return preffered icon size calculated from specific icon\n+     * @return preferred icon size calculated from specific icon\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XIconWindow.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -159,1 +159,1 @@\n-     * Auxilliary Functions; note the duplicate definitions for left and right\n+     * Auxiliary Functions; note the duplicate definitions for left and right\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XKeySymConstants.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1662,1 +1662,1 @@\n-     * The bug is due to incorrent caching of the list item size\n+     * The bug is due to incorrect caching of the list item size\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XListPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-     * Events in extra_mask are selected for on owning windows (exsiting\n+     * Events in extra_mask are selected for on owning windows (existing\n@@ -209,1 +209,1 @@\n-                log.fine(\"client messags = \" + xce);\n+                log.fine(\"client messages = \" + xce);\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XMSelection.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -111,1 +111,1 @@\n-     * Implementaion of interface methods\n+     * Implementation of interface methods\n@@ -135,1 +135,1 @@\n-     * So we need to synchronize indicies in 'items'\n+     * So we need to synchronize indices in 'items'\n@@ -193,1 +193,1 @@\n-     * Overriden initialization\n+     * Overridden initialization\n@@ -362,1 +362,1 @@\n-     * Overriden XBaseMenuWindow functions\n+     * Overridden XBaseMenuWindow functions\n@@ -376,1 +376,1 @@\n-     * Overriden XWindow general-purpose functions\n+     * Overridden XWindow general-purpose functions\n@@ -403,1 +403,1 @@\n-     * Overriden XWindow painting & printing\n+     * Overridden XWindow painting & printing\n@@ -453,1 +453,1 @@\n-     * Overriden XBaseMenuWindow event handling\n+     * Overridden XBaseMenuWindow event handling\n@@ -498,1 +498,1 @@\n-     * Overriden XWindow keyboard processing\n+     * Overridden XWindow keyboard processing\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XMenuBarPeer.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -141,1 +141,1 @@\n-     * Implementaion of interface methods\n+     * Implementation of interface methods\n@@ -272,1 +272,1 @@\n-     * This function should be overriden simply to\n+     * This function should be overridden simply to\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XMenuItemPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-     * Implementaion of interface methods\n+     * Implementation of interface methods\n@@ -146,1 +146,1 @@\n-     * Overriden behaviour\n+     * Overridden behaviour\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XMenuPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -179,1 +179,1 @@\n-     * Overriden initialization\n+     * Overridden initialization\n@@ -328,1 +328,1 @@\n-     * Can be overriden for popup menus and tear-off menus\n+     * Can be overridden for popup menus and tear-off menus\n@@ -336,1 +336,1 @@\n-     * Can be overriden for popup menus and tear-off menus.\n+     * Can be overridden for popup menus and tear-off menus.\n@@ -357,1 +357,1 @@\n-     * This function is overriden in XPopupMenuPeer\n+     * This function is overridden in XPopupMenuPeer\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XMenuWindow.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -217,1 +217,1 @@\n-     * Overriden XMenuWindow caption-painting functions\n+     * Overridden XMenuWindow caption-painting functions\n@@ -223,1 +223,1 @@\n-     * Can be overriden for popup menus and tear-off menus\n+     * Can be overridden for popup menus and tear-off menus\n@@ -250,1 +250,1 @@\n-     * Can be overriden for popup menus and tear-off menus.\n+     * Can be overridden for popup menus and tear-off menus.\n@@ -273,1 +273,1 @@\n-     * Overriden XBaseMenuWindow functions\n+     * Overridden XBaseMenuWindow functions\n@@ -306,1 +306,1 @@\n-     * Overriden XWindow general-purpose functions\n+     * Overridden XWindow general-purpose functions\n@@ -316,1 +316,1 @@\n-     * Overriden XWindow keyboard processing\n+     * Overridden XWindow keyboard processing\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XPopupMenuPeer.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -804,1 +804,1 @@\n-            \/\/ in thermo, slider_size is 0 ans is ignored\n+            \/\/ in thermo, slider_size is 0 and is ignored\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XScrollbar.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -726,1 +726,1 @@\n-                        \/\/ The property will be None in case of convertion failure.\n+                        \/\/ The property will be None in case of conversion failure.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XSelection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1247,1 +1247,1 @@\n-    \/\/ now). They are only dispatched as correctly as possible\/neccessary.\n+    \/\/ now). They are only dispatched as correctly as possible\/necessary.\n@@ -1368,1 +1368,1 @@\n-        \/\/ side-effect. If mouse is draged from outside to inside of TextArea,\n+        \/\/ side-effect. If mouse is dragged from outside to inside of TextArea,\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XTextAreaPeer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1491,1 +1491,1 @@\n-                    log.fine(\"Catched exception, timeStamp may not be correct (ie = \" + ie + \")\");\n+                    log.fine(\"Caught exception, timeStamp may not be correct (ie = \" + ie + \")\");\n@@ -1909,1 +1909,1 @@\n-     * @param interval an interal in milliseconds\n+     * @param interval an interval in milliseconds\n@@ -2402,1 +2402,1 @@\n-                            \/\/ OOPS ConfigureNotify event catched\n+                            \/\/ OOPS ConfigureNotify event caught\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XToolkit.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -437,1 +437,1 @@\n-                log.finer(\"Getting of _DT_SM_WINDOW_INFO is not successfull\");\n+                log.finer(\"Getting of _DT_SM_WINDOW_INFO is not successful\");\n@@ -470,1 +470,1 @@\n-                    log.finer(\"Getting of _DT_SM_STATE_INFO is not successfull\");\n+                    log.finer(\"Getting of _DT_SM_STATE_INFO is not successful\");\n@@ -658,1 +658,1 @@\n-                log.finer(\"Erorr getting XA_ICEWM_WINOPTHINT property\");\n+                log.finer(\"Error getting XA_ICEWM_WINOPTHINT property\");\n@@ -1157,1 +1157,1 @@\n-              \/* FALLTROUGH *\/\n+              \/* FALLTHROUGH *\/\n@@ -1164,1 +1164,1 @@\n-              \/* FALLTROUGH *\/\n+              \/* FALLTHROUGH *\/\n@@ -1299,1 +1299,1 @@\n-     * see a huge nagative bottom inset.  There's no clean solution for\n+     * see a huge negative bottom inset.  There's no clean solution for\n@@ -1541,1 +1541,1 @@\n-     * time to let the WM hava a chance to move us.\n+     * time to let the WM have a chance to move us.\n@@ -1673,1 +1673,1 @@\n-                       * top-level assume taht it's the \"lining\" window and\n+                       * top-level assume that it's the \"lining\" window and\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XWM.java","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -448,1 +448,1 @@\n-    \/\/ overriden in XCanvasPeer\n+    \/\/ overridden in XCanvasPeer\n@@ -535,1 +535,1 @@\n-    \/\/used by Peers to avoid flickering withing paint()\n+    \/\/used by Peers to avoid flickering within paint()\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XWindow.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -433,1 +433,1 @@\n-        \/\/It's overriden in XDecoratedPeer\n+        \/\/It's overridden in XDecoratedPeer\n@@ -489,1 +489,1 @@\n-    \/\/Note that this function is overriden in XDecoratedPeer so event\n+    \/\/Note that this function is overridden in XDecoratedPeer so event\n@@ -568,1 +568,1 @@\n-     * Retrives real native focused window and converts it into Java peer.\n+     * Retrieves real native focused window and converts it into Java peer.\n@@ -578,1 +578,1 @@\n-     * Retrives real native focused window and converts it into Java window.\n+     * Retrieves real native focused window and converts it into Java window.\n@@ -768,1 +768,1 @@\n-            \/\/ moved or not. The client should consider the position as unkown\n+            \/\/ moved or not. The client should consider the position as unknown\n@@ -1202,1 +1202,1 @@\n-        \/\/ We are not currently aware of existance of such a property.\n+        \/\/ We are not currently aware of existence of such a property.\n@@ -1946,1 +1946,1 @@\n-        \/\/ If this is Window and its owner Frame is active we can be sure request succedded.\n+        \/\/ If this is Window and its owner Frame is active we can be sure request succeeded.\n@@ -1971,1 +1971,1 @@\n-    \/\/ This method is to be overriden in XDecoratedPeer.\n+    \/\/ This method is to be overridden in XDecoratedPeer.\n@@ -2229,1 +2229,1 @@\n-            \/\/ see comment above for more inforamtion.\n+            \/\/ see comment above for more information.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XWindowPeer.java","additions":9,"deletions":9,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -409,1 +409,1 @@\n-        \/\/ The state mask does not support button indicies > 5, so we need to\n+        \/\/ The state mask does not support button indices > 5, so we need to\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11\/XlibUtil.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -428,1 +428,1 @@\n-         * it has to be the inital (empty) state for the latter two, not\n+         * it has to be the initial (empty) state for the latter two, not\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11FontManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -101,1 +101,1 @@\n-     * with Java3D beta1, a NoSuchMethod execption is thrown and\n+     * with Java3D beta1, a NoSuchMethod exception is thrown and\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11GraphicsConfig.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -101,3 +101,3 @@\n-        \/* If the last XIC focussed component has a different peer as the\n-           current focussed component, change the XIC focus to the newly\n-           focussed component.\n+        \/* If the last XIC focused component has a different peer as the\n+           current focused component, change the XIC focus to the newly\n+           focused component.\n@@ -128,1 +128,1 @@\n-           the previous focused compoent which is A, then endComposition is called on A,\n+           the previous focused component which is A, then endComposition is called on A,\n@@ -349,1 +349,1 @@\n-           Use package private mthod 'resetCompositionState' if you want the\n+           Use package private method 'resetCompositionState' if you want the\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11InputMethod.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -261,1 +261,1 @@\n-            \/\/ needs to reset the last xic focussed component.\n+            \/\/ needs to reset the last xic focused component.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/awt\/X11InputMethodBase.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -383,1 +383,1 @@\n-         * will fall through this code, but the regisration code will\n+         * will fall through this code, but the registration code will\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/FontConfigManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -192,1 +192,1 @@\n-     * We only look for scaleable fonts, so we can just replace the 0's\n+     * We only look for scalable fonts, so we can just replace the 0's\n@@ -194,1 +194,1 @@\n-     * No matches means even the scaleable version wasn't found. This is\n+     * No matches means even the scalable version wasn't found. This is\n@@ -196,1 +196,1 @@\n-     * One match means only the scaleable version we started with was found\n+     * One match means only the scalable version we started with was found\n@@ -198,1 +198,1 @@\n-     * Two matches apparently means as well as the above, a scaleable\n+     * Two matches apparently means as well as the above, a scalable\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/NativeFont.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/X11Dingbats.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/X11GB18030_0.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/X11GB18030_1.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/X11SunUnicode_0.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -205,1 +205,1 @@\n-                \/\/ will accidently cause the surrogate-aware nio charset to treat\n+                \/\/ will accidentally cause the surrogate-aware nio charset to treat\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/XMap.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -186,1 +186,1 @@\n-     * Seperates lcd and grayscale glyphs queued for upload, and sets the\n+     * Separates lcd and grayscale glyphs queued for upload, and sets the\n@@ -216,1 +216,1 @@\n-     * Copies the glyph-images into a continous buffer, required for uploading.\n+     * Copies the glyph-images into a continuous buffer, required for uploading.\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/XRGlyphCache.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        \/* TODO: Does it make sence to cache results? *\/\n+        \/* TODO: Does it make sense to cache results? *\/\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/XRGlyphCacheEntry.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -40,1 +40,1 @@\n-    \/\/ Workarround for a bug in libXrender.\n+    \/\/ Workaround for a bug in libXrender.\n@@ -125,1 +125,1 @@\n-                         * glyphs using integer coordinates, therefor we sum all\n+                         * glyphs using integer coordinates, therefore we sum all\n","filename":"src\/java.desktop\/unix\/classes\/sun\/font\/XRTextRenderer.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -517,1 +517,1 @@\n-                    \/\/ some Matrox Millenium and ATI Radeon boards) is\n+                    \/\/ some Matrox Millennium and ATI Radeon boards) is\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/x11\/X11SurfaceData.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -217,1 +217,1 @@\n-                    throw new InternalError(\"Surface not cachable\");\n+                    throw new InternalError(\"Surface not cacheable\");\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/xr\/XRPaints.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -347,1 +347,1 @@\n-     * CopyArea is implemented using the \"old\" X11 GC, therefor clip and\n+     * CopyArea is implemented using the \"old\" X11 GC, therefore clip and\n@@ -396,1 +396,1 @@\n-     * Returns the XRender SurfaceType which is able to fullfill the specified\n+     * Returns the XRender SurfaceType which is able to fulfill the specified\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/xr\/XRSurfaceData.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -138,1 +138,1 @@\n-     * Returns the XRender picture Format which is required to fullfill the\n+     * Returns the XRender picture Format which is required to fulfill the\n","filename":"src\/java.desktop\/unix\/classes\/sun\/java2d\/xr\/XRUtils.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -308,1 +308,1 @@\n- * are created on a host plaform for them to be located by the JRE they will\n+ * are created on a host platform for them to be located by the JRE they will\n@@ -1019,1 +1019,1 @@\n-         * Next create separate C arrrays of length nfonts for family file etc.\n+         * Next create separate C arrays of length nfonts for family file etc.\n","filename":"src\/java.desktop\/unix\/native\/common\/awt\/fontpath.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -92,1 +92,1 @@\n-\/* Cached shared image, one for all surface datas. *\/\n+\/* Cached shared image, one for all surface data. *\/\n","filename":"src\/java.desktop\/unix\/native\/common\/java2d\/x11\/X11SurfaceData.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -112,1 +112,1 @@\n-     * medialib library was sucessfuly loaded.\n+     * medialib library was successfully loaded.\n","filename":"src\/java.desktop\/unix\/native\/libawt\/awt\/awt_Mlib.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -922,1 +922,1 @@\n-         * to JNI_TRUE if any Shm error has occured.\n+         * to JNI_TRUE if any Shm error has occurred.\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/awt_GraphicsEnv.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -170,1 +170,1 @@\n-\/* Solaris XIM Extention *\/\n+\/* Solaris XIM Extension *\/\n@@ -1016,1 +1016,1 @@\n-    \/\/ The code set the IC mode that the preedit state is not initialied\n+    \/\/ The code set the IC mode that the preedit state is not initialized\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/awt\/awt_InputMethod.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-\/* The xrender pipleine requires libXrender.so version 0.9.3 or later. *\/\n+\/* The xrender pipeline requires libXrender.so version 0.9.3 or later. *\/\n@@ -180,1 +180,1 @@\n-                  \/\/ we successfuly read the library version\n+                  \/\/ we successfully read the library version\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/java2d\/x11\/XRBackendNative.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -385,1 +385,1 @@\n-\/\/ is highly recomended to use aging algorithm (set static poll timeout\n+\/\/ is highly recommended to use aging algorithm (set static poll timeout\n@@ -848,1 +848,1 @@\n-     * If XTest is asked to press a non-existant mouse button\n+     * If XTest is asked to press a non-existent mouse button\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/xawt\/XToolkit.c","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1130,1 +1130,1 @@\n- * time to let the WM hava a chance to move us\n+ * time to let the WM have a chance to move us\n","filename":"src\/java.desktop\/unix\/native\/libawt_xawt\/xawt\/XWindow.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -758,1 +758,1 @@\n-        \/\/map the splash co-ordinates as per system scale\n+        \/\/map the splash coordinates as per system scale\n","filename":"src\/java.desktop\/unix\/native\/libsplashscreen\/splashscreen_sys.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -85,1 +85,1 @@\n-     * An enumeration of the Windows compoent parts\n+     * An enumeration of the Windows component parts\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/TMSchema.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -295,1 +295,1 @@\n-     *         - somewhere inbetween if border is compound and\n+     *         - somewhere in between if border is compound and\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsButtonUI.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -49,1 +49,1 @@\n-     * the overriden paintText methods of the ButtonUI delegates will call this static method.\n+     * the overridden paintText methods of the ButtonUI delegates will call this static method.\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsGraphicsUtils.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -511,1 +511,1 @@\n-                    \/\/ outter left arc\n+                    \/\/ outer left arc\n@@ -514,1 +514,1 @@\n-                    \/\/ outter right arc\n+                    \/\/ outer right arc\n@@ -538,1 +538,1 @@\n-                    \/\/ outter left arc\n+                    \/\/ outer left arc\n@@ -547,1 +547,1 @@\n-                    \/\/ outter right arc\n+                    \/\/ outer right arc\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsIconFactory.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -329,1 +329,1 @@\n-        \/\/ XXX - some of these doens't seem to be used\n+        \/\/ XXX - some of these doesn't seem to be used\n@@ -648,1 +648,1 @@\n-            \/\/ W2K keyboard navigation hidding.\n+            \/\/ W2K keyboard navigation hiding.\n@@ -2434,1 +2434,1 @@\n-            \/\/ Make sure property change listener is readded each time\n+            \/\/ Make sure property change listener is re-added each time\n","filename":"src\/java.desktop\/windows\/classes\/com\/sun\/java\/swing\/plaf\/windows\/WindowsLookAndFeel.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -242,1 +242,1 @@\n-     * Because these need to be registed just for use when printing,\n+     * Because these need to be registered just for use when printing,\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/Win32FontManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -308,1 +308,1 @@\n-     * default graphics configuraiton, so this is just a precaution.\n+     * default graphics configuration, so this is just a precaution.\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/Win32GraphicsConfig.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -197,2 +197,2 @@\n-                \/\/ but the DataFlavor.allHtmlFlavor format is avialable\n-                \/\/ we belive that the user knows how to represent\n+                \/\/ but the DataFlavor.allHtmlFlavor format is available\n+                \/\/ we believe that the user knows how to represent\n@@ -200,1 +200,1 @@\n-                \/\/ system specific manner. Therefor, we use this data\n+                \/\/ system specific manner. Therefore, we use this data\n@@ -588,1 +588,1 @@\n-     * SourceURL:http:\/\/sun.com\/\\r\\n  -- base URL for related referenses\n+     * SourceURL:http:\/\/sun.com\/\\r\\n  -- base URL for related references\n@@ -707,1 +707,1 @@\n-    private String stBaseURL; \/\/ SourceURL -- base URL for related referenses\n+    private String stBaseURL; \/\/ SourceURL -- base URL for related references\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WDataTransferer.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -48,1 +48,1 @@\n-    \/\/ supress calling native setMinSize()\n+    \/\/ suppress calling native setMinSize()\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WEmbeddedFramePeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -306,3 +306,3 @@\n-        \/\/ When the last focussed component peer is different from the\n-        \/\/ current focussed component or if they are different client\n-        \/\/ (active or passive), disable native IME for the old focussed\n+        \/\/ When the last focused component peer is different from the\n+        \/\/ current focused component or if they are different client\n+        \/\/ (active or passive), disable native IME for the old focused\n@@ -356,1 +356,1 @@\n-        \/\/ focussed component has a different peer as the last focussed component.\n+        \/\/ focused component has a different peer as the last focused component.\n@@ -395,1 +395,1 @@\n-     * Calling stopListening to give other input method the keybaord input\n+     * Calling stopListening to give other input method the keyboard input\n@@ -432,1 +432,1 @@\n-               bar if it is on. One typical senario this method\n+               bar if it is on. One typical scenario this method\n@@ -539,1 +539,1 @@\n-            \/\/ set Hilight Information\n+            \/\/ set Highlight Information\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WInputMethod.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -178,1 +178,1 @@\n-             * Work on a point in case there is asymetric scaling\n+             * Work on a point in case there is asymmetric scaling\n@@ -1125,1 +1125,1 @@\n-                \/\/ may blit b\/g colour (including white) where it shoudn't.\n+                \/\/ may blit b\/g colour (including white) where it shouldn't.\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPathGraphics.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -80,1 +80,1 @@\n-            \/\/ that component.  The event coorinates are going to have to be\n+            \/\/ that component.  The event coordinates are going to have to be\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPopupMenuPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -221,1 +221,1 @@\n-     * and set them into the driver's DEVMODE structure and intialise\n+     * and set them into the driver's DEVMODE structure and initialise\n@@ -389,2 +389,2 @@\n-     * its storage reclaimation marginally.\n-     * It won't make the native resources be release any more quickly, but\n+     * its storage reclamation marginally.\n+     * It won't make the native resources be released any more quickly, but\n@@ -1410,1 +1410,1 @@\n-    \/* Make sure printer DC is intialised and that info about the printer\n+    \/* Make sure printer DC is initialised and that info about the printer\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WPrinterJob.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-    \/\/ Returns width for vertial scrollbar as SM_CXHSCROLL,\n+    \/\/ Returns width for vertical scrollbar as SM_CXHSCROLL,\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WScrollbarPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -269,1 +269,1 @@\n-    \/\/ should be overriden in WDialogPeer\n+    \/\/ should be overridden in WDialogPeer\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WWindowPeer.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-     * to be publically exposing this class, so no need to waste work\n+     * to be publicly exposing this class, so no need to waste work\n","filename":"src\/java.desktop\/windows\/classes\/sun\/awt\/windows\/WingDings.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-            \/\/ no need to lock, noone has reference to this instance yet\n+            \/\/ no need to lock, no one has reference to this instance yet\n","filename":"src\/java.desktop\/windows\/classes\/sun\/java2d\/d3d\/D3DRenderQueue.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -546,1 +546,1 @@\n-                                       \"cound not reset the device\");\n+                                       \"could not reset the device\");\n@@ -551,1 +551,1 @@\n-            \/\/ thos in the default pool since the device is released\n+            \/\/ those in the default pool since the device is released\n@@ -571,1 +571,1 @@\n-                \"D3DContext::ConfigureContext: cound not reset the device\");\n+                \"D3DContext::ConfigureContext: could not reset the device\");\n@@ -1071,1 +1071,1 @@\n-    \/\/ resore the transform\n+    \/\/ restore the transform\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DContext.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -174,1 +174,1 @@\n-    \/\/ let the mananger know that we're entering the fs mode, it will\n+    \/\/ let the manager know that we're entering the fs mode, it will\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DGraphicsDevice.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -74,1 +74,1 @@\n-    \/\/ when defaul pool resources are to be released\n+    \/\/ when default pool resources are to be released\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DResourceManager.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -959,1 +959,1 @@\n-    \/\/ Genereate Shader to fill Antialiased parallelograms\n+    \/\/ Generate Shader to fill Antialiased parallelograms\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DShaderGen.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -217,1 +217,1 @@\n-    \/\/ everytime around in case another shader blew away the contents\n+    \/\/ every time around in case another shader blew away the contents\n","filename":"src\/java.desktop\/windows\/native\/libawt\/java2d\/d3d\/D3DTextRenderer.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -207,1 +207,1 @@\n-    \/\/ correct configuration of devices after contruction of the\n+    \/\/ correct configuration of devices after construction of the\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/Devices.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -130,1 +130,1 @@\n-         *         be destroyed immediatelly. They will be deleted in\n+         *         be destroyed immediately. They will be deleted in\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/GDIHashtable.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1063,1 +1063,1 @@\n-            iconSize = iconSize > MAX_ICON_SIZE ? MAX_ICON_SIZE : iconSize;\n+            iconSize = (iconSize <= 0 || iconSize > MAX_ICON_SIZE) ? MAX_ICON_SIZE : iconSize;\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/ShellFolder2.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -62,1 +62,1 @@\n-#error Multiple defintions of CATCH_BAD_ALLOC_RET\n+#error Multiple definitions of CATCH_BAD_ALLOC_RET\n@@ -78,1 +78,1 @@\n-#error Multiple defintions of CATCH_BAD_ALLOC_RET_NO_JNI\n+#error Multiple definitions of CATCH_BAD_ALLOC_RET_NO_JNI\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/alloc.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -310,1 +310,1 @@\n-        \/\/ By convension null label means empty string\n+        \/\/ By convention null label means empty string\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Button.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -371,1 +371,1 @@\n-        \/\/ By convension null label means empty string\n+        \/\/ By convention null label means empty string\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Checkbox.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -140,1 +140,1 @@\n-             * choice must be determinded in its creation, when the parent\n+             * choice must be determined in its creation, when the parent\n@@ -514,1 +514,1 @@\n-    \/\/ WM_MOUSEMOVE has been dedected on the list since it has been dropped down.\n+    \/\/ WM_MOUSEMOVE has been detected on the list since it has been dropped down.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Choice.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2196,1 +2196,1 @@\n-        \/\/ thread which needs to complete initialization, but cant.\n+        \/\/ thread which needs to complete initialization, but can't.\n@@ -2965,1 +2965,1 @@\n-    UINT javaKey;               \/\/ depends on input langauge (kbd layout)\n+    UINT javaKey;               \/\/ depends on input language (kbd layout)\n@@ -3102,1 +3102,1 @@\n-    \/\/   3. Map Unicode char to Java VK via two auxilary tables.\n+    \/\/   3. Map Unicode char to Java VK via two auxiliary tables.\n@@ -4041,1 +4041,1 @@\n-               The last two paremeters are set to equal since we don't have recommendations for\n+               The last two parameters are set to equal since we don't have recommendations for\n@@ -4120,1 +4120,1 @@\n-    \/\/ attrubute value definition in WInputMethod.java must be equal to that in IMM.H\n+    \/\/ attribute value definition in WInputMethod.java must be equal to that in IMM.H\n@@ -4963,1 +4963,1 @@\n-     * This should not be happend if all children are recorded\n+     * This should not be happening if all children are recorded\n@@ -5891,1 +5891,1 @@\n-                   event (if any) accodingly.  *\/\n+                   event (if any) accordingly.  *\/\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Component.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -89,1 +89,1 @@\n-    mrConsume,      \/* consume msg & terminate routing immediatly,\n+    mrConsume,      \/* consume msg & terminate routing immediately,\n@@ -546,1 +546,1 @@\n-                                     BOOL synthethic);\n+                                     BOOL synthetic);\n@@ -743,1 +743,1 @@\n-     * When the flag is ON, focus is restored immidiately after the proxy loses it.\n+     * When the flag is ON, focus is restored immediately after the proxy loses it.\n@@ -852,1 +852,1 @@\n-     * the creations of themselfs are in progress.\n+     * the creations of themselves are in progress.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Component.h","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -214,1 +214,1 @@\n-     * WaitMessage will return immediatelly as we selectively get messages from\n+     * WaitMessage will return immediately as we selectively get messages from\n@@ -250,1 +250,1 @@\n-     * Fix for the BugTraq ID 4327064 - inter-jvm DnD crashes the droping jvm.\n+     * Fix for the BugTraq ID 4327064 - inter-jvm DnD crashes the dropping jvm.\n@@ -421,1 +421,1 @@\n-                    \/\/ Fail immediatelly to avoid memory access violation.\n+                    \/\/ Fail immediately to avoid memory access violation.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_DataTransferer.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -536,1 +536,1 @@\n-    \/\/ TODO BEGIN: On NT4, some setttings don't trigger WM_SETTINGCHANGE --\n+    \/\/ TODO BEGIN: On NT4, some settings don't trigger WM_SETTINGCHANGE --\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_DesktopProperties.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -91,1 +91,1 @@\n-    \/\/ Dialog inherits icon from its owner dinamically\n+    \/\/ Dialog inherits icon from its owner dynamically\n@@ -409,1 +409,1 @@\n-        \/\/Non-resizable dialogs without explicitely set icon\n+        \/\/Non-resizable dialogs without explicitly set icon\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Dialog.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -86,1 +86,1 @@\n-    \/\/ some methods called on Tookit thread\n+    \/\/ some methods called on Toolkit thread\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Dialog.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -453,1 +453,1 @@\n-    \/\/ if we are'nt yet visible, defer until the parent is!\n+    \/\/ if we aren't yet visible, defer until the parent is!\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_DnDDT.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1207,1 +1207,1 @@\n-         under NT 4.0 & 98 does the value actaully represent the new value. *\/\n+         under NT 4.0 & 98 does the value actually represent the new value. *\/\n@@ -1887,1 +1887,1 @@\n- * WDefaultFontCharset native methos\n+ * WDefaultFontCharset native methods\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Font.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1178,1 +1178,1 @@\n-    \/\/when reseting from specific icon to class icon\n+    \/\/when resetting from specific icon to class icon\n@@ -1191,1 +1191,1 @@\n-    \/\/when reseting from specific icon to class icon\n+    \/\/when resetting from specific icon to class icon\n@@ -1786,1 +1786,1 @@\n-    \/\/ global refs ans smbs are deleted in _SetMenuBar()\n+    \/\/ global refs and smbs are deleted in _SetMenuBar()\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Frame.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -185,1 +185,1 @@\n-    \/* used so that calls to ::MoveWindow in SetMenuBar don't propogate\n+    \/* used so that calls to ::MoveWindow in SetMenuBar don't propagate\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Frame.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -54,1 +54,1 @@\n-     * NOTE: we don't syncronize access to the reference counter.\n+     * NOTE: we don't synchronize access to the reference counter.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_GDIObject.h","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -280,1 +280,1 @@\n-       Senario 1:\n+       Scenario 1:\n@@ -284,1 +284,1 @@\n-       Senario 2:\n+       Scenario 2:\n@@ -288,1 +288,1 @@\n-       Senario 3:\n+       Scenario 3:\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_InputTextInfor.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -61,2 +61,2 @@\n-     * if WM_PAINT was recieving when we can not paint\n-     * then setup m_needPaint end when can call this function\n+     * if WM_PAINT was received when we cannot paint\n+     * then setup m_needPaint and when can paint call this function\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Label.h","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-                \/\/ If we recieve on of these two notifications, the dialog\n+                \/\/ If we receive one of these two notifications, the dialog\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_PrintDialog.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2294,1 +2294,1 @@\n-     * be creater than zero and we just need to NULL terminate\n+     * be greater than zero and we just need to NULL terminate\n@@ -2405,1 +2405,1 @@\n-     * longer than the GDI maximum font lenght then\n+     * longer than the GDI maximum font length then\n@@ -3173,1 +3173,1 @@\n-                \/\/ If we recieve on of these two notifications, the dialog\n+                \/\/ If we receive one of these two notifications, the dialog\n@@ -3482,1 +3482,1 @@\n-     * declared to be portait.\n+     * declared to be portrait.\n@@ -3523,1 +3523,1 @@\n-     * portait mode while Windows returns the paper\n+     * portrait mode while Windows returns the paper\n@@ -3526,1 +3526,1 @@\n-     * flip the width and height to get a portait\n+     * flip the width and height to get a portrait\n@@ -3703,1 +3703,1 @@\n- * and set them into the PageFormat insance provided.\n+ * and set them into the PageFormat instance provided.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_PrintJob.cpp","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -184,1 +184,1 @@\n-            \/\/ Calling <::PeekMessage> is not so good desision but is the only one\n+            \/\/ Calling <::PeekMessage> is not so good decision but is the only one\n@@ -357,1 +357,1 @@\n-    \/\/ and won't cause a wrap, since we have substracted 1 in the\n+    \/\/ and won't cause a wrap, since we have subtracted 1 in the\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Scrollbar.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -738,1 +738,1 @@\n- * In responce to EM_SETBKGNDCOLOR rich edit changes\n+ * In response to EM_SETBKGNDCOLOR rich edit changes\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_TextComponent.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1043,1 +1043,1 @@\n-          \/\/ Create an artifical MouseExit message if the mouse left to\n+          \/\/ Create an artificial MouseExit message if the mouse left to\n@@ -1085,3 +1085,3 @@\n-      \/\/ In other thread these APIs does not work correctly even if\n-      \/\/ it returs with no error. (This restriction is not documented)\n-      \/\/ So we must use thse messages to call these APIs in main thread.\n+      \/\/ In other threads these APIs do not work correctly even if\n+      \/\/ it returns with no error. (This restriction is not documented)\n+      \/\/ So we must use these messages to call these APIs in main thread.\n@@ -1180,1 +1180,1 @@\n-          may need to commit it in the furture\n+          may need to commit it in the future\n@@ -1606,1 +1606,1 @@\n-     * Modal loop may not exit immediatelly after WM_CANCELMODE, so it still can\n+     * Modal loop may not exit immediately after WM_CANCELMODE, so it still can\n@@ -3203,2 +3203,2 @@\n- * The fuction intended for access to an IME API. It posts IME message to the queue and\n- * waits untill the message processing is completed.\n+ * The function intended for access to an IME API. It posts IME message to the queue and\n+ * waits until the message processing is completed.\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Toolkit.cpp","additions":8,"deletions":8,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -432,1 +432,1 @@\n-    \/\/ The windows api GetKeyState() when read would provide the key state of the requrested key\n+    \/\/ The windows api GetKeyState() when read would provide the key state of the requested key\n@@ -623,1 +623,1 @@\n-     * This should not be happend if all tray icons are recorded\n+     * This should not be happening if all tray icons are recorded\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_TrayIcon.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -581,1 +581,1 @@\n- * Deterine which device the HWND exists on and return the\n+ * Determine which device the HWND exists on and return the\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Win32GraphicsDevice.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -286,1 +286,1 @@\n-        \/\/else to see if it only inludes \"EUDC.TTE\"\n+        \/\/else to see if it only includes \"EUDC.TTE\"\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Win32GraphicsEnv.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -741,1 +741,1 @@\n-                \/\/ Retrive the owner of the warning window.\n+                \/\/ Retrieve the owner of the warning window.\n@@ -2000,1 +2000,1 @@\n-            \/\/Fixed 6355340: Contents of frame are not layed out properly on maximize\n+            \/\/Fixed 6355340: Contents of frame are not laid out properly on maximize\n@@ -2743,1 +2743,1 @@\n-    \/\/Does nothing for windows, is overriden for frames and dialogs\n+    \/\/Does nothing for windows, is overridden for frames and dialogs\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Window.cpp","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -213,1 +213,1 @@\n-    void moveToDefaultLocation(); \/* moves Window to X,Y specified by Window Manger *\/\n+    void moveToDefaultLocation(); \/* moves Window to X,Y specified by Window Manager *\/\n@@ -372,2 +372,2 @@\n-    HICON m_hIcon;            \/* Icon for this window. It can be set explicitely or inherited from the owner *\/\n-    HICON m_hIconSm;          \/* Small icon for this window. It can be set explicitely or inherited from the owner *\/\n+    HICON m_hIcon;            \/* Icon for this window. It can be set explicitly or inherited from the owner *\/\n+    HICON m_hIconSm;          \/* Small icon for this window. It can be set explicitly or inherited from the owner *\/\n","filename":"src\/java.desktop\/windows\/native\/libawt\/windows\/awt_Window.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -300,1 +300,1 @@\n-    \/\/ $$fb 2002-04-04: It is responsability of the application developer to\n+    \/\/ $$fb 2002-04-04: It is the responsibility of the application developer to\n","filename":"src\/java.desktop\/windows\/native\/libjsound\/PLATFORM_API_WinOS_MidiOut.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -534,1 +534,1 @@\n-        \/\/map the splash co-ordinates as per system scale\n+        \/\/map the splash coordinates as per system scale\n","filename":"src\/java.desktop\/windows\/native\/libsplashscreen\/splashscreen_sys.c","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,1 +36,0 @@\n-import javax.naming.spi.*;\n@@ -39,0 +38,2 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n@@ -79,2 +80,2 @@\n-            obj = DirectoryManager.getObjectInstance(obj, cn, homeCtx,\n-                homeCtx.envprops, attrs);\n+            obj = NamingManagerHelper.getDirObjectInstance(obj, cn, homeCtx,\n+                    homeCtx.envprops, attrs, ObjectFactoriesFilter::checkLdapFilter);\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/jndi\/ldap\/LdapBindingEnumeration.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,0 @@\n-import javax.naming.spi.*;\n@@ -57,0 +56,2 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n@@ -1114,2 +1115,2 @@\n-            return DirectoryManager.getObjectInstance(obj, name,\n-                this, envprops, attrs);\n+            return NamingManagerHelper.getDirObjectInstance(obj, name, this,\n+                    envprops, attrs, ObjectFactoriesFilter::checkLdapFilter);\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/jndi\/ldap\/LdapCtx.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -30,1 +30,0 @@\n-import javax.naming.spi.*;\n@@ -36,0 +35,2 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n@@ -119,2 +120,2 @@\n-                obj = NamingManager.getObjectInstance(ref, null, null, env);\n-\n+                obj = NamingManagerHelper.getObjectInstance(ref, null, null,\n+                        env, ObjectFactoriesFilter::checkLdapFilter);\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/jndi\/ldap\/LdapReferralContext.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,0 @@\n-import javax.naming.spi.*;\n@@ -40,0 +39,2 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n@@ -137,1 +138,1 @@\n-                obj = DirectoryManager.getObjectInstance(\n+                obj = NamingManagerHelper.getDirObjectInstance(\n@@ -139,1 +140,1 @@\n-                    homeCtx.envprops, attrs);\n+                    homeCtx.envprops, attrs, ObjectFactoriesFilter::checkLdapFilter);\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/jndi\/ldap\/LdapSearchEnumeration.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -0,0 +1,422 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package com.sun.naming.internal;\n+\n+import javax.naming.Context;\n+import javax.naming.Name;\n+import javax.naming.NamingException;\n+import javax.naming.RefAddr;\n+import javax.naming.Reference;\n+import javax.naming.Referenceable;\n+import javax.naming.StringRefAddr;\n+import javax.naming.directory.Attributes;\n+import javax.naming.spi.DirObjectFactory;\n+import javax.naming.spi.ObjectFactory;\n+import javax.naming.spi.ObjectFactoryBuilder;\n+import java.net.MalformedURLException;\n+import java.util.Hashtable;\n+import java.util.function.Predicate;\n+\n+public class NamingManagerHelper {\n+\n+    public static Object getObjectInstance(Object refInfo, Name name, Context nameCtx,\n+                                           Hashtable<?,?> environment,\n+                                           Predicate<Class<?>> factoryFilter) throws Exception {\n+        ObjectFactory factory;\n+\n+        \/\/ Use builder if installed\n+        ObjectFactoryBuilder builder = getObjectFactoryBuilder();\n+        if (builder != null) {\n+            \/\/ builder must return non-null factory\n+            factory = builder.createObjectFactory(refInfo, environment);\n+            return factory.getObjectInstance(refInfo, name, nameCtx,\n+                    environment);\n+        }\n+\n+        \/\/ Use reference if possible\n+        Reference ref = null;\n+        if (refInfo instanceof Reference) {\n+            ref = (Reference) refInfo;\n+        } else if (refInfo instanceof Referenceable) {\n+            ref = ((Referenceable)(refInfo)).getReference();\n+        }\n+\n+        Object answer;\n+\n+        if (ref != null) {\n+            String f = ref.getFactoryClassName();\n+            if (f != null) {\n+                \/\/ if reference identifies a factory, use exclusively\n+\n+                factory = getObjectFactoryFromReference(ref, f, factoryFilter);\n+                if (factory != null) {\n+                    return factory.getObjectInstance(ref, name, nameCtx,\n+                            environment);\n+                }\n+                \/\/ No factory found, so return original refInfo.\n+                \/\/ That could happen if:\n+                \/\/  - a factory class is not in a class path and reference does\n+                \/\/    not contain a URL for it\n+                \/\/  - a factory class is available but object factory filters\n+                \/\/    disallow its usage\n+                return refInfo;\n+\n+            } else {\n+                \/\/ if reference has no factory, check for addresses\n+                \/\/ containing URLs\n+\n+                answer = processURLAddrs(ref, name, nameCtx, environment);\n+                if (answer != null) {\n+                    return answer;\n+                }\n+            }\n+        }\n+\n+        \/\/ try using any specified factories\n+        answer =\n+                createObjectFromFactories(refInfo, name, nameCtx, environment);\n+        return (answer != null) ? answer : refInfo;\n+    }\n+\n+\n+    public static Object getDirObjectInstance(Object refInfo, Name name, Context nameCtx,\n+                      Hashtable<?,?> environment, Attributes attrs,\n+                      Predicate<Class<?>> factoryFilter) throws Exception {\n+        ObjectFactory factory;\n+\n+        ObjectFactoryBuilder builder = getObjectFactoryBuilder();\n+        if (builder != null) {\n+            \/\/ builder must return non-null factory\n+            factory = builder.createObjectFactory(refInfo, environment);\n+            if (factory instanceof DirObjectFactory) {\n+                return ((DirObjectFactory)factory).getObjectInstance(\n+                        refInfo, name, nameCtx, environment, attrs);\n+            } else {\n+                return factory.getObjectInstance(refInfo, name, nameCtx,\n+                        environment);\n+            }\n+        }\n+\n+        \/\/ use reference if possible\n+        Reference ref = null;\n+        if (refInfo instanceof Reference) {\n+            ref = (Reference) refInfo;\n+        } else if (refInfo instanceof Referenceable) {\n+            ref = ((Referenceable)(refInfo)).getReference();\n+        }\n+\n+        Object answer;\n+\n+        if (ref != null) {\n+            String f = ref.getFactoryClassName();\n+            if (f != null) {\n+                \/\/ if reference identifies a factory, use exclusively\n+\n+                factory = getObjectFactoryFromReference(ref, f, factoryFilter);\n+                if (factory instanceof DirObjectFactory) {\n+                    return ((DirObjectFactory)factory).getObjectInstance(\n+                            ref, name, nameCtx, environment, attrs);\n+                } else if (factory != null) {\n+                    return factory.getObjectInstance(ref, name, nameCtx,\n+                            environment);\n+                }\n+                \/\/ No factory found, so return original refInfo.\n+                \/\/ That could happen if:\n+                \/\/  - a factory class is not in a class path and reference does\n+                \/\/    not contain a URL for it\n+                \/\/  - a factory class is available but object factory filters\n+                \/\/    disallow its usage\n+                return refInfo;\n+\n+            } else {\n+                \/\/ if reference has no factory, check for addresses\n+                \/\/ containing URLs\n+                \/\/ ignore name & attrs params; not used in URL factory\n+                \/\/ RMI references from '\n+                answer = processURLAddrs(ref, name, nameCtx, environment);\n+                if (answer != null) {\n+                    return answer;\n+                }\n+            }\n+        }\n+\n+        \/\/ try using any specified factories\n+        answer = createObjectFromFactories(refInfo, name, nameCtx,\n+                environment, attrs);\n+        return (answer != null) ? answer : refInfo;\n+    }\n+\n+    \/**\n+     * Retrieves the ObjectFactory for the object identified by a reference,\n+     * using the reference's factory class name and factory codebase\n+     * to load in the factory's class.\n+     * @param ref The non-null reference to use.\n+     * @param factoryName The non-null class name of the factory.\n+     * @return The object factory for the object identified by ref; null\n+     * if unable to load the factory.\n+     *\/\n+    static ObjectFactory getObjectFactoryFromReference(\n+            Reference ref, String factoryName, Predicate<Class<?>> filter)\n+            throws IllegalAccessException,\n+            InstantiationException,\n+            MalformedURLException {\n+        Class<?> clas = null;\n+\n+        \/\/ Try to use current class loader\n+        try {\n+            clas = helper.loadClassWithoutInit(factoryName);\n+            \/\/ Validate factory's class with the objects factory serial filter\n+            if (!filter.test(clas)) {\n+                return null;\n+            }\n+        } catch (ClassNotFoundException e) {\n+            \/\/ ignore and continue\n+            \/\/ e.printStackTrace();\n+        }\n+        \/\/ All other exceptions are passed up.\n+\n+        \/\/ Not in class path; try to use codebase\n+        String codebase;\n+        if (clas == null &&\n+                (codebase = ref.getFactoryClassLocation()) != null) {\n+            try {\n+                clas = helper.loadClass(factoryName, codebase);\n+                \/\/ Validate factory's class with the objects factory serial filter\n+                if (clas == null || !filter.test(clas)) {\n+                    return null;\n+                }\n+            } catch (ClassNotFoundException e) {\n+            }\n+        }\n+\n+        @SuppressWarnings(\"deprecation\") \/\/ Class.newInstance\n+        ObjectFactory result = (clas != null) ? (ObjectFactory) clas.newInstance() : null;\n+        return result;\n+    }\n+\n+    \/**\n+     * Creates an object using the factories specified in the\n+     * {@code Context.OBJECT_FACTORIES} property of the environment\n+     * or of the provider resource file associated with {@code nameCtx}.\n+     *\n+     * @return factory created; null if cannot create\n+     *\/\n+    private static Object createObjectFromFactories(Object obj, Name name,\n+                                                    Context nameCtx, Hashtable<?,?> environment, Attributes attrs)\n+            throws Exception {\n+\n+        FactoryEnumeration factories = ResourceManager.getFactories(\n+                Context.OBJECT_FACTORIES, environment, nameCtx);\n+\n+        if (factories == null)\n+            return null;\n+\n+        ObjectFactory factory;\n+        Object answer = null;\n+        \/\/ Try each factory until one succeeds\n+        while (answer == null && factories.hasMore()) {\n+            factory = (ObjectFactory)factories.next();\n+            if (factory instanceof DirObjectFactory) {\n+                answer = ((DirObjectFactory)factory).\n+                        getObjectInstance(obj, name, nameCtx, environment, attrs);\n+            } else {\n+                answer =\n+                        factory.getObjectInstance(obj, name, nameCtx, environment);\n+            }\n+        }\n+        return answer;\n+    }\n+\n+    \/*\n+     * Ref has no factory.  For each address of type \"URL\", try its URL\n+     * context factory.  Returns null if unsuccessful in creating and\n+     * invoking a factory.\n+     *\/\n+    static Object processURLAddrs(Reference ref, Name name, Context nameCtx,\n+                                  Hashtable<?,?> environment)\n+            throws NamingException {\n+\n+        for (int i = 0; i < ref.size(); i++) {\n+            RefAddr addr = ref.get(i);\n+            if (addr instanceof StringRefAddr &&\n+                    addr.getType().equalsIgnoreCase(\"URL\")) {\n+\n+                String url = (String)addr.getContent();\n+                Object answer = processURL(url, name, nameCtx, environment);\n+                if (answer != null) {\n+                    return answer;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+\n+    private static Object processURL(Object refInfo, Name name,\n+                                     Context nameCtx, Hashtable<?,?> environment)\n+            throws NamingException {\n+        Object answer;\n+\n+        \/\/ If refInfo is a URL string, try to use its URL context factory\n+        \/\/ If no context found, continue to try object factories.\n+        if (refInfo instanceof String) {\n+            String url = (String)refInfo;\n+            String scheme = getURLScheme(url);\n+            if (scheme != null) {\n+                answer = getURLObject(scheme, refInfo, name, nameCtx,\n+                        environment);\n+                if (answer != null) {\n+                    return answer;\n+                }\n+            }\n+        }\n+\n+        \/\/ If refInfo is an array of URL strings,\n+        \/\/ try to find a context factory for any one of its URLs.\n+        \/\/ If no context found, continue to try object factories.\n+        if (refInfo instanceof String[]) {\n+            String[] urls = (String[])refInfo;\n+            for (int i = 0; i <urls.length; i++) {\n+                String scheme = getURLScheme(urls[i]);\n+                if (scheme != null) {\n+                    answer = getURLObject(scheme, refInfo, name, nameCtx,\n+                            environment);\n+                    if (answer != null)\n+                        return answer;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+\n+    private static String getURLScheme(String str) {\n+        int colon_posn = str.indexOf(':');\n+        int slash_posn = str.indexOf('\/');\n+\n+        if (colon_posn > 0 && (slash_posn == -1 || colon_posn < slash_posn))\n+            return str.substring(0, colon_posn);\n+        return null;\n+    }\n+\n+    \/**\n+     * Creates an object for the given URL scheme id using\n+     * the supplied urlInfo.\n+     * <p>\n+     * If urlInfo is null, the result is a context for resolving URLs\n+     * with the scheme id 'scheme'.\n+     * If urlInfo is a URL, the result is a context named by the URL.\n+     * Names passed to this context is assumed to be relative to this\n+     * context (i.e. not a URL). For example, if urlInfo is\n+     * \"ldap:\/\/ldap.wiz.com\/o=Wiz,c=us\", the resulting context will\n+     * be that pointed to by \"o=Wiz,c=us\" on the server 'ldap.wiz.com'.\n+     * Subsequent names that can be passed to this context will be\n+     * LDAP names relative to this context (e.g. cn=\"Barbs Jensen\").\n+     * If urlInfo is an array of URLs, the URLs are assumed\n+     * to be equivalent in terms of the context to which they refer.\n+     * The resulting context is like that of the single URL case.\n+     * If urlInfo is of any other type, that is handled by the\n+     * context factory for the URL scheme.\n+     * @param scheme the URL scheme id for the context\n+     * @param urlInfo information used to create the context\n+     * @param name name of this object relative to {@code nameCtx}\n+     * @param nameCtx Context whose provider resource file will be searched\n+     *          for package prefix values (or null if none)\n+     * @param environment Environment properties for creating the context\n+     * @see javax.naming.InitialContext\n+     *\/\n+    private static Object getURLObject(String scheme, Object urlInfo,\n+                                       Name name, Context nameCtx,\n+                                       Hashtable<?,?> environment)\n+            throws NamingException {\n+\n+        \/\/ e.g. \"ftpURLContextFactory\"\n+        ObjectFactory factory = (ObjectFactory)ResourceManager.getFactory(\n+                Context.URL_PKG_PREFIXES, environment, nameCtx,\n+                \".\" + scheme + \".\" + scheme + \"URLContextFactory\", DEFAULT_PKG_PREFIX);\n+\n+        if (factory == null)\n+            return null;\n+\n+        \/\/ Found object factory\n+        try {\n+            return factory.getObjectInstance(urlInfo, name, nameCtx, environment);\n+        } catch (NamingException e) {\n+            throw e;\n+        } catch (Exception e) {\n+            NamingException ne = new NamingException();\n+            ne.setRootCause(e);\n+            throw ne;\n+        }\n+    }\n+\n+    \/**\n+     * Creates an object using the factories specified in the\n+     * {@code Context.OBJECT_FACTORIES} property of the environment\n+     * or of the provider resource file associated with {@code nameCtx}.\n+     *\n+     * @return factory created; null if cannot create\n+     *\/\n+    private static Object createObjectFromFactories(Object obj, Name name,\n+                                                    Context nameCtx, Hashtable<?,?> environment) throws Exception {\n+\n+        FactoryEnumeration factories = ResourceManager.getFactories(\n+                Context.OBJECT_FACTORIES, environment, nameCtx);\n+\n+        if (factories == null)\n+            return null;\n+\n+        \/\/ Try each factory until one succeeds\n+        ObjectFactory factory;\n+        Object answer = null;\n+        while (answer == null && factories.hasMore()) {\n+            factory = (ObjectFactory)factories.next();\n+            answer = factory.getObjectInstance(obj, name, nameCtx, environment);\n+        }\n+        return answer;\n+    }\n+\n+    public static synchronized void setObjectFactoryBuilder(\n+            ObjectFactoryBuilder builder) throws NamingException {\n+        if (object_factory_builder != null)\n+            throw new IllegalStateException(\"ObjectFactoryBuilder already set\");\n+\n+        @SuppressWarnings(\"removal\")\n+        SecurityManager security = System.getSecurityManager();\n+        if (security != null) {\n+            security.checkSetFactory();\n+        }\n+        object_factory_builder = builder;\n+    }\n+\n+    public static synchronized ObjectFactoryBuilder getObjectFactoryBuilder() {\n+        return object_factory_builder;\n+    }\n+\n+    private static final String DEFAULT_PKG_PREFIX = \"com.sun.jndi.url\";\n+    static final VersionHelper helper = VersionHelper.getVersionHelper();\n+\n+    private static ObjectFactoryBuilder object_factory_builder = null;\n+\n+}\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/naming\/internal\/NamingManagerHelper.java","additions":422,"deletions":0,"binary":false,"changes":422,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2020, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,1 +53,1 @@\n-     * If the filter result is not {@linkplain Status#REJECTED REJECTED}, the filter will\n+     * If the filter result is {@linkplain Status#ALLOWED ALLOWED}, the filter will\n@@ -56,1 +56,1 @@\n-     * @param factoryClass objects factory class\n+     * @param serialClass objects factory class\n@@ -59,2 +59,2 @@\n-    public static boolean canInstantiateObjectsFactory(Class<?> factoryClass) {\n-        return checkInput(() -> factoryClass);\n+    public static boolean checkGlobalFilter(Class<?> serialClass) {\n+        return checkInput(GLOBAL_FILTER, () -> serialClass);\n@@ -63,3 +63,42 @@\n-    private static boolean checkInput(FactoryInfo factoryInfo) {\n-        Status result = GLOBAL.checkInput(factoryInfo);\n-        return result != Status.REJECTED;\n+    \/**\n+     * Checks if the factory filters allow the given factory class for LDAP.\n+     * This method combines the global and LDAP specific filter results to determine\n+     * if the given factory class is allowed.\n+     * The given factory class is rejected if any of these two filters reject\n+     * it, or if none of them allow it.\n+     *\n+     * @param serialClass objects factory class\n+     * @return true - if the factory is allowed to be instantiated; false - otherwise\n+     *\/\n+    public static boolean checkLdapFilter(Class<?> serialClass) {\n+        return checkInput(LDAP_FILTER, () -> serialClass);\n+    }\n+\n+    \/**\n+     * Checks if the factory filters allow the given factory class for RMI.\n+     * This method combines the global and RMI specific filter results to determine\n+     * if the given factory class is allowed.\n+     * The given factory class is rejected if any of these two filters reject\n+     * it, or if none of them allow it.\n+     *\n+     * @param serialClass objects factory class\n+     * @return true - if the factory is allowed to be instantiated; false - otherwise\n+     *\/\n+    public static boolean checkRmiFilter(Class<?> serialClass) {\n+        return checkInput(RMI_FILTER, () -> serialClass);\n+    }\n+\n+    private static boolean checkInput(ConfiguredFilter filter, FactoryInfo serialClass) {\n+        var globalFilter = GLOBAL_FILTER.filter();\n+        var specificFilter = filter.filter();\n+        Status globalResult = globalFilter.checkInput(serialClass);\n+\n+        \/\/ Check if a specific filter is the global one\n+        if (filter == GLOBAL_FILTER) {\n+            return globalResult == Status.ALLOWED;\n+        }\n+        return switch (globalResult) {\n+            case ALLOWED -> specificFilter.checkInput(serialClass) != Status.REJECTED;\n+            case REJECTED -> false;\n+            case UNDECIDED -> specificFilter.checkInput(serialClass) == Status.ALLOWED;\n+        };\n@@ -100,1 +139,12 @@\n-    private static final String FACTORIES_FILTER_PROPNAME = \"jdk.jndi.object.factoriesFilter\";\n+    private static final String GLOBAL_FACTORIES_FILTER_PROPNAME =\n+            \"jdk.jndi.object.factoriesFilter\";\n+\n+    \/\/ System property name that contains the patterns to filter LDAP object factory\n+    \/\/ names\n+    private static final String LDAP_FACTORIES_FILTER_PROPNAME =\n+            \"jdk.jndi.ldap.object.factoriesFilter\";\n+\n+    \/\/ System property name that contains the patterns to filter RMI object factory\n+    \/\/ names\n+    private static final String RMI_FACTORIES_FILTER_PROPNAME =\n+            \"jdk.jndi.rmi.object.factoriesFilter\";\n@@ -102,2 +152,3 @@\n-    \/\/ Default system property value that allows the load of any object factory classes\n-    private static final String DEFAULT_SP_VALUE = \"*\";\n+    \/\/ Default system property value that allows the load of any object factory\n+    \/\/ classes\n+    private static final String DEFAULT_GLOBAL_SP_VALUE = \"*\";\n@@ -105,3 +156,63 @@\n-    \/\/ System wide object factories filter constructed from the system property\n-    private static final ObjectInputFilter GLOBAL =\n-            ObjectInputFilter.Config.createFilter(getFilterPropertyValue());\n+    \/\/ Default system property value that allows the load of any object factory\n+    \/\/ class provided by the JDK LDAP provider implementation\n+    private static final String DEFAULT_LDAP_SP_VALUE =\n+            \"java.naming\/com.sun.jndi.ldap.**;!*\";\n+\n+    \/\/ Default system property value that allows the load of any object factory\n+    \/\/ class provided by the JDK RMI provider implementation\n+    private static final String DEFAULT_RMI_SP_VALUE =\n+            \"jdk.naming.rmi\/com.sun.jndi.rmi.**;!*\";\n+\n+    \/\/ A system-wide global object factories filter constructed from the system\n+    \/\/ property\n+    private static final ConfiguredFilter GLOBAL_FILTER =\n+            initializeFilter(GLOBAL_FACTORIES_FILTER_PROPNAME, DEFAULT_GLOBAL_SP_VALUE);\n+\n+    \/\/ A system-wide LDAP specific object factories filter constructed from the system\n+    \/\/ property\n+    private static final ConfiguredFilter LDAP_FILTER =\n+            initializeFilter(LDAP_FACTORIES_FILTER_PROPNAME, DEFAULT_LDAP_SP_VALUE);\n+\n+    \/\/ A system-wide RMI specific object factories filter constructed from the system\n+    \/\/ property\n+    private static final ConfiguredFilter RMI_FILTER =\n+            initializeFilter(RMI_FACTORIES_FILTER_PROPNAME, DEFAULT_RMI_SP_VALUE);\n+\n+    \/\/ Record for storing a factory filter configuration\n+    private interface ConfiguredFilter {\n+        ObjectInputFilter filter();\n+    }\n+\n+    \/\/ Record to store an object input filter constructed from a valid filter\n+    \/\/ pattern string\n+    private record ValidFilter(ObjectInputFilter filter)\n+            implements ConfiguredFilter {\n+    }\n+\n+    \/\/ Record to store parsing results for a filter with\n+    \/\/ illegal or malformed pattern string\n+    private record InvalidFilter(String filterPropertyName,\n+                                 IllegalArgumentException error)\n+            implements ConfiguredFilter {\n+\n+        @Override\n+        public ObjectInputFilter filter() {\n+            \/\/ Report a filter property name and an error message\n+            throw new IllegalArgumentException(filterPropertyName +\n+                    \": \" + error.getMessage());\n+        }\n+    }\n+\n+    \/\/ Read filter pattern value from a system\/security property\n+    \/\/ and create a filter record from it (valid or invalid).\n+    private static ConfiguredFilter initializeFilter(String filterPropertyName,\n+                                                     String filterDefaultValue) {\n+        try {\n+            var filter = ObjectInputFilter.Config.createFilter(\n+                    getFilterPropertyValue(filterPropertyName,\n+                            filterDefaultValue));\n+            return new ValidFilter(filter);\n+        } catch (IllegalArgumentException iae) {\n+            return new InvalidFilter(filterPropertyName, iae);\n+        }\n+    }\n@@ -110,3 +221,4 @@\n-    private static String getFilterPropertyValue() {\n-        String propVal = SecurityProperties.privilegedGetOverridable(FACTORIES_FILTER_PROPNAME);\n-        return propVal != null ? propVal : DEFAULT_SP_VALUE;\n+    private static String getFilterPropertyValue(String propertyName,\n+                                                 String defaultValue) {\n+        String propVal = SecurityProperties.privilegedGetOverridable(propertyName);\n+        return propVal != null ? propVal : defaultValue;\n","filename":"src\/java.naming\/share\/classes\/com\/sun\/naming\/internal\/ObjectFactoriesFilter.java","additions":129,"deletions":17,"binary":false,"changes":146,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,2 +32,0 @@\n-import javax.naming.Reference;\n-import javax.naming.Referenceable;\n@@ -39,0 +37,2 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n@@ -157,86 +157,2 @@\n-\n-            ObjectFactory factory;\n-\n-            ObjectFactoryBuilder builder = getObjectFactoryBuilder();\n-            if (builder != null) {\n-                \/\/ builder must return non-null factory\n-                factory = builder.createObjectFactory(refInfo, environment);\n-                if (factory instanceof DirObjectFactory) {\n-                    return ((DirObjectFactory)factory).getObjectInstance(\n-                        refInfo, name, nameCtx, environment, attrs);\n-                } else {\n-                    return factory.getObjectInstance(refInfo, name, nameCtx,\n-                        environment);\n-                }\n-            }\n-\n-            \/\/ use reference if possible\n-            Reference ref = null;\n-            if (refInfo instanceof Reference) {\n-                ref = (Reference) refInfo;\n-            } else if (refInfo instanceof Referenceable) {\n-                ref = ((Referenceable)(refInfo)).getReference();\n-            }\n-\n-            Object answer;\n-\n-            if (ref != null) {\n-                String f = ref.getFactoryClassName();\n-                if (f != null) {\n-                    \/\/ if reference identifies a factory, use exclusively\n-\n-                    factory = getObjectFactoryFromReference(ref, f);\n-                    if (factory instanceof DirObjectFactory) {\n-                        return ((DirObjectFactory)factory).getObjectInstance(\n-                            ref, name, nameCtx, environment, attrs);\n-                    } else if (factory != null) {\n-                        return factory.getObjectInstance(ref, name, nameCtx,\n-                                                         environment);\n-                    }\n-                    \/\/ No factory found, so return original refInfo.\n-                    \/\/ Will reach this point if factory class is not in\n-                    \/\/ class path and reference does not contain a URL for it\n-                    return refInfo;\n-\n-                } else {\n-                    \/\/ if reference has no factory, check for addresses\n-                    \/\/ containing URLs\n-                    \/\/ ignore name & attrs params; not used in URL factory\n-\n-                    answer = processURLAddrs(ref, name, nameCtx, environment);\n-                    if (answer != null) {\n-                        return answer;\n-                    }\n-                }\n-            }\n-\n-            \/\/ try using any specified factories\n-            answer = createObjectFromFactories(refInfo, name, nameCtx,\n-                                               environment, attrs);\n-            return (answer != null) ? answer : refInfo;\n-    }\n-\n-    private static Object createObjectFromFactories(Object obj, Name name,\n-            Context nameCtx, Hashtable<?,?> environment, Attributes attrs)\n-        throws Exception {\n-\n-        FactoryEnumeration factories = ResourceManager.getFactories(\n-            Context.OBJECT_FACTORIES, environment, nameCtx);\n-\n-        if (factories == null)\n-            return null;\n-\n-        ObjectFactory factory;\n-        Object answer = null;\n-        \/\/ Try each factory until one succeeds\n-        while (answer == null && factories.hasMore()) {\n-            factory = (ObjectFactory)factories.next();\n-            if (factory instanceof DirObjectFactory) {\n-                answer = ((DirObjectFactory)factory).\n-                    getObjectInstance(obj, name, nameCtx, environment, attrs);\n-            } else {\n-                answer =\n-                    factory.getObjectInstance(obj, name, nameCtx, environment);\n-            }\n-        }\n-        return answer;\n+            return NamingManagerHelper.getDirObjectInstance(refInfo, name, nameCtx,\n+                    environment, attrs, ObjectFactoriesFilter::checkGlobalFilter);\n","filename":"src\/java.naming\/share\/classes\/javax\/naming\/spi\/DirectoryManager.java","additions":5,"deletions":89,"binary":false,"changes":94,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,1 +28,0 @@\n-import java.net.MalformedURLException;\n@@ -35,0 +34,1 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n@@ -81,5 +81,0 @@\n-    \/**\n-     * Package-private; used by DirectoryManager and NamingManager.\n-     *\/\n-    private static ObjectFactoryBuilder object_factory_builder = null;\n-\n@@ -114,1 +109,1 @@\n-    public static synchronized void setObjectFactoryBuilder(\n+    public static void setObjectFactoryBuilder(\n@@ -116,9 +111,1 @@\n-        if (object_factory_builder != null)\n-            throw new IllegalStateException(\"ObjectFactoryBuilder already set\");\n-\n-        @SuppressWarnings(\"removal\")\n-        SecurityManager security = System.getSecurityManager();\n-        if (security != null) {\n-            security.checkSetFactory();\n-        }\n-        object_factory_builder = builder;\n+        NamingManagerHelper.setObjectFactoryBuilder(builder);\n@@ -130,88 +117,2 @@\n-    static synchronized ObjectFactoryBuilder getObjectFactoryBuilder() {\n-        return object_factory_builder;\n-    }\n-\n-\n-    \/**\n-     * Retrieves the ObjectFactory for the object identified by a reference,\n-     * using the reference's factory class name and factory codebase\n-     * to load in the factory's class.\n-     * @param ref The non-null reference to use.\n-     * @param factoryName The non-null class name of the factory.\n-     * @return The object factory for the object identified by ref; null\n-     * if unable to load the factory.\n-     *\/\n-    static ObjectFactory getObjectFactoryFromReference(\n-        Reference ref, String factoryName)\n-        throws IllegalAccessException,\n-        InstantiationException,\n-        MalformedURLException {\n-        Class<?> clas = null;\n-\n-        \/\/ Try to use current class loader\n-        try {\n-            clas = helper.loadClassWithoutInit(factoryName);\n-            \/\/ Validate factory's class with the objects factory serial filter\n-            if (!ObjectFactoriesFilter.canInstantiateObjectsFactory(clas)) {\n-                return null;\n-            }\n-        } catch (ClassNotFoundException e) {\n-            \/\/ ignore and continue\n-            \/\/ e.printStackTrace();\n-        }\n-        \/\/ All other exceptions are passed up.\n-\n-        \/\/ Not in class path; try to use codebase\n-        String codebase;\n-        if (clas == null &&\n-                (codebase = ref.getFactoryClassLocation()) != null) {\n-            try {\n-                clas = helper.loadClass(factoryName, codebase);\n-                \/\/ Validate factory's class with the objects factory serial filter\n-                if (clas == null ||\n-                    !ObjectFactoriesFilter.canInstantiateObjectsFactory(clas)) {\n-                    return null;\n-                }\n-            } catch (ClassNotFoundException e) {\n-            }\n-        }\n-\n-        @SuppressWarnings(\"deprecation\") \/\/ Class.newInstance\n-        ObjectFactory result = (clas != null) ? (ObjectFactory) clas.newInstance() : null;\n-        return result;\n-    }\n-\n-\n-    \/**\n-     * Creates an object using the factories specified in the\n-     * {@code Context.OBJECT_FACTORIES} property of the environment\n-     * or of the provider resource file associated with {@code nameCtx}.\n-     *\n-     * @return factory created; null if cannot create\n-     *\/\n-    private static Object createObjectFromFactories(Object obj, Name name,\n-            Context nameCtx, Hashtable<?,?> environment) throws Exception {\n-\n-        FactoryEnumeration factories = ResourceManager.getFactories(\n-            Context.OBJECT_FACTORIES, environment, nameCtx);\n-\n-        if (factories == null)\n-            return null;\n-\n-        \/\/ Try each factory until one succeeds\n-        ObjectFactory factory;\n-        Object answer = null;\n-        while (answer == null && factories.hasMore()) {\n-            factory = (ObjectFactory)factories.next();\n-            answer = factory.getObjectInstance(obj, name, nameCtx, environment);\n-        }\n-        return answer;\n-    }\n-\n-    private static String getURLScheme(String str) {\n-        int colon_posn = str.indexOf(':');\n-        int slash_posn = str.indexOf('\/');\n-\n-        if (colon_posn > 0 && (slash_posn == -1 || colon_posn < slash_posn))\n-            return str.substring(0, colon_posn);\n-        return null;\n+    static ObjectFactoryBuilder getObjectFactoryBuilder() {\n+        return NamingManagerHelper.getObjectFactoryBuilder();\n@@ -311,54 +212,3 @@\n-        throws Exception\n-    {\n-\n-        ObjectFactory factory;\n-\n-        \/\/ Use builder if installed\n-        ObjectFactoryBuilder builder = getObjectFactoryBuilder();\n-        if (builder != null) {\n-            \/\/ builder must return non-null factory\n-            factory = builder.createObjectFactory(refInfo, environment);\n-            return factory.getObjectInstance(refInfo, name, nameCtx,\n-                environment);\n-        }\n-\n-        \/\/ Use reference if possible\n-        Reference ref = null;\n-        if (refInfo instanceof Reference) {\n-            ref = (Reference) refInfo;\n-        } else if (refInfo instanceof Referenceable) {\n-            ref = ((Referenceable)(refInfo)).getReference();\n-        }\n-\n-        Object answer;\n-\n-        if (ref != null) {\n-            String f = ref.getFactoryClassName();\n-            if (f != null) {\n-                \/\/ if reference identifies a factory, use exclusively\n-\n-                factory = getObjectFactoryFromReference(ref, f);\n-                if (factory != null) {\n-                    return factory.getObjectInstance(ref, name, nameCtx,\n-                                                     environment);\n-                }\n-                \/\/ No factory found, so return original refInfo.\n-                \/\/ Will reach this point if factory class is not in\n-                \/\/ class path and reference does not contain a URL for it\n-                return refInfo;\n-\n-            } else {\n-                \/\/ if reference has no factory, check for addresses\n-                \/\/ containing URLs\n-\n-                answer = processURLAddrs(ref, name, nameCtx, environment);\n-                if (answer != null) {\n-                    return answer;\n-                }\n-            }\n-        }\n-\n-        \/\/ try using any specified factories\n-        answer =\n-            createObjectFromFactories(refInfo, name, nameCtx, environment);\n-        return (answer != null) ? answer : refInfo;\n+        throws Exception {\n+        return NamingManagerHelper.getObjectInstance(refInfo, name, nameCtx,\n+                environment, ObjectFactoriesFilter::checkGlobalFilter);\n@@ -367,62 +217,0 @@\n-    \/*\n-     * Ref has no factory.  For each address of type \"URL\", try its URL\n-     * context factory.  Returns null if unsuccessful in creating and\n-     * invoking a factory.\n-     *\/\n-    static Object processURLAddrs(Reference ref, Name name, Context nameCtx,\n-                                  Hashtable<?,?> environment)\n-            throws NamingException {\n-\n-        for (int i = 0; i < ref.size(); i++) {\n-            RefAddr addr = ref.get(i);\n-            if (addr instanceof StringRefAddr &&\n-                addr.getType().equalsIgnoreCase(\"URL\")) {\n-\n-                String url = (String)addr.getContent();\n-                Object answer = processURL(url, name, nameCtx, environment);\n-                if (answer != null) {\n-                    return answer;\n-                }\n-            }\n-        }\n-        return null;\n-    }\n-\n-    private static Object processURL(Object refInfo, Name name,\n-                                     Context nameCtx, Hashtable<?,?> environment)\n-            throws NamingException {\n-        Object answer;\n-\n-        \/\/ If refInfo is a URL string, try to use its URL context factory\n-        \/\/ If no context found, continue to try object factories.\n-        if (refInfo instanceof String) {\n-            String url = (String)refInfo;\n-            String scheme = getURLScheme(url);\n-            if (scheme != null) {\n-                answer = getURLObject(scheme, refInfo, name, nameCtx,\n-                                      environment);\n-                if (answer != null) {\n-                    return answer;\n-                }\n-            }\n-        }\n-\n-        \/\/ If refInfo is an array of URL strings,\n-        \/\/ try to find a context factory for any one of its URLs.\n-        \/\/ If no context found, continue to try object factories.\n-        if (refInfo instanceof String[]) {\n-            String[] urls = (String[])refInfo;\n-            for (int i = 0; i <urls.length; i++) {\n-                String scheme = getURLScheme(urls[i]);\n-                if (scheme != null) {\n-                    answer = getURLObject(scheme, refInfo, name, nameCtx,\n-                                          environment);\n-                    if (answer != null)\n-                        return answer;\n-                }\n-            }\n-        }\n-        return null;\n-    }\n-\n-\n","filename":"src\/java.naming\/share\/classes\/javax\/naming\/spi\/NamingManager.java","additions":9,"deletions":221,"binary":false,"changes":230,"status":"modified"},{"patch":"@@ -99,1 +99,2 @@\n- *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}.\n+ *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}. Limit patterns\n+ *          specified in the filter property are unused.\n@@ -106,0 +107,17 @@\n+ *     <li>{@systemProperty jdk.jndi.ldap.object.factoriesFilter}:\n+ *          <br>The value of this system property defines a filter used by\n+ *          the JDK LDAP provider implementation to further restrict the set of object factory classes which will\n+ *          be allowed to instantiate objects from object references returned by LDAP systems.\n+ *          The factory class named by the {@linkplain javax.naming.Reference reference instance} first will be\n+ *          matched against this specific filter and then against the global filter. The factory class is rejected\n+ *          if any of these two filters reject it, or if none of them allow it.\n+ *          The filter property supports pattern-based filter syntax with the same format as\n+ *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}. Limit patterns\n+ *          specified in the filter property are unused.\n+ *          <br>The default value allows any object factory class provided by the JDK LDAP provider\n+ *          implementation.\n+ *         <br>This system property will be used to filter LDAP specific object factories only if\n+ *         global {@link javax.naming.spi.ObjectFactoryBuilder} is {@linkplain\n+ *         javax.naming.spi.NamingManager#setObjectFactoryBuilder(javax.naming.spi.ObjectFactoryBuilder)\n+ *         not set}.\n+ *     <\/li>\n@@ -136,0 +154,2 @@\n+    exports com.sun.naming.internal to\n+         jdk.naming.rmi;\n","filename":"src\/java.naming\/share\/classes\/module-info.java","additions":21,"deletions":1,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -106,1 +106,1 @@\n-        return ConnectionPool.cacheKey(address, null);\n+        return ConnectionPool.cacheKey(true, address, null);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/AsyncSSLConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import java.net.http.HttpHeaders;\n@@ -109,1 +108,1 @@\n-        return ConnectionPool.cacheKey(address, plainConnection.proxyAddr);\n+        return ConnectionPool.cacheKey(true, address, plainConnection.proxyAddr);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/AsyncSSLTunnelConnection.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.lang.System.Logger.Level;\n@@ -71,1 +70,1 @@\n-     * case 1: plain TCP not via proxy (destination only)\n+     * case 1: plain TCP not via proxy (destination IP only)\n@@ -73,2 +72,2 @@\n-     * case 3: SSL not via proxy (destination only)\n-     * case 4: SSL over tunnel (destination and proxy)\n+     * case 3: SSL not via proxy (destination IP+hostname only)\n+     * case 4: SSL over tunnel (destination IP+hostname and proxy)\n@@ -79,0 +78,1 @@\n+        final boolean secure;\n@@ -80,1 +80,2 @@\n-        CacheKey(InetSocketAddress destination, InetSocketAddress proxy) {\n+        private CacheKey(boolean secure, InetSocketAddress destination,\n+                         InetSocketAddress proxy) {\n@@ -83,0 +84,1 @@\n+            this.secure = secure;\n@@ -94,0 +96,3 @@\n+            if (this.secure != other.secure) {\n+                return false;\n+            }\n@@ -100,0 +105,11 @@\n+            if (secure && destination != null) {\n+                if (destination.getHostName() != null) {\n+                    if (!destination.getHostName().equalsIgnoreCase(\n+                            other.destination.getHostName())) {\n+                        return false;\n+                    }\n+                } else {\n+                    if (other.destination.getHostName() != null)\n+                        return false;\n+                }\n+            }\n@@ -131,1 +147,1 @@\n-    static CacheKey cacheKey(InetSocketAddress destination,\n+    static CacheKey cacheKey(boolean secure, InetSocketAddress destination,\n@@ -134,1 +150,1 @@\n-        return new CacheKey(destination, proxy);\n+        return new CacheKey(secure, destination, proxy);\n@@ -143,1 +159,1 @@\n-        CacheKey key = new CacheKey(addr, proxy);\n+        CacheKey key = new CacheKey(secure, addr, proxy);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/ConnectionPool.java","additions":24,"deletions":8,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -42,0 +42,1 @@\n+import java.util.concurrent.Flow.Subscription;\n@@ -213,1 +214,1 @@\n-                exchange.responseSubscriberCompleted(this);\n+                exchange.unregisterResponseSubscriber(this);\n@@ -218,0 +219,8 @@\n+\n+        @Override\n+        protected void onCancel() {\n+            \/\/ If the subscription is cancelled the\n+            \/\/ subscriber may or may not get completed.\n+            \/\/ Therefore we need to unregister it\n+            exchange.unregisterResponseSubscriber(this);\n+        }\n@@ -267,1 +276,1 @@\n-    void registerResponseSubscriber(Http1ResponseBodySubscriber<T> subscriber) {\n+    private void registerResponseSubscriber(Http1ResponseBodySubscriber<T> subscriber) {\n@@ -282,2 +291,2 @@\n-    void responseSubscriberCompleted(HttpBodySubscriberWrapper<T> subscriber) {\n-        client.subscriberCompleted(subscriber);\n+    private void unregisterResponseSubscriber(Http1ResponseBodySubscriber<T> subscriber) {\n+        client.unregisterSubscriber(subscriber);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Http1Exchange.java","additions":13,"deletions":4,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -399,0 +399,1 @@\n+    private final AtomicLong pendingSubscribersCount = new AtomicLong();\n@@ -551,1 +552,6 @@\n-                    subscribers.add(subscriber);\n+                    if (subscribers.add(subscriber)) {\n+                        long count = pendingSubscribersCount.incrementAndGet();\n+                        if (debug.on()) {\n+                            debug.log(\"body subscriber registered: \" + count);\n+                        }\n+                    }\n@@ -559,2 +565,7 @@\n-    public void subscriberCompleted(HttpBodySubscriberWrapper<?> subscriber) {\n-        subscribers.remove(subscriber);\n+    public void unregisterSubscriber(HttpBodySubscriberWrapper<?> subscriber) {\n+        if (subscribers.remove(subscriber)) {\n+            long count = pendingSubscribersCount.decrementAndGet();\n+            if (debug.on()) {\n+                debug.log(\"body subscriber unregistered: \" + count);\n+            }\n+        }\n@@ -630,1 +641,1 @@\n-        if (count == 0 && facade() == null) {\n+        if (count == 0 && facadeRef.refersTo(null)) {\n@@ -652,1 +663,1 @@\n-        if (count == 0 && facade() == null) {\n+        if (count == 0 && facadeRef.refersTo(null)) {\n@@ -674,1 +685,1 @@\n-        if (count == 0 && facade() == null) {\n+        if (count == 0 && facadeRef.refersTo(null)) {\n@@ -700,0 +711,1 @@\n+        final AtomicLong subscribersCount;\n@@ -709,0 +721,1 @@\n+                          AtomicLong subscribers,\n@@ -718,0 +731,1 @@\n+            this.subscribersCount = subscribers;\n@@ -723,0 +737,4 @@\n+        public long getOutstandingSubscribers() {\n+            return subscribersCount.get();\n+        }\n+        @Override\n@@ -762,0 +780,1 @@\n+                pendingSubscribersCount,\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/HttpClientImpl.java","additions":25,"deletions":6,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -417,1 +417,1 @@\n-        return new ConnectionPool.CacheKey(address, null);\n+        return ConnectionPool.cacheKey(false, address, null);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/PlainHttpConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -38,1 +38,1 @@\n-        return new ConnectionPool.CacheKey(null, address);\n+        return ConnectionPool.cacheKey(false, null, address);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/PlainProxyConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -33,1 +33,0 @@\n-import java.time.Duration;\n@@ -37,1 +36,1 @@\n-import java.net.http.HttpHeaders;\n+\n@@ -156,1 +155,1 @@\n-        return new ConnectionPool.CacheKey(null, proxyAddr);\n+        return ConnectionPool.cacheKey(false, null, proxyAddr);\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/PlainTunnelingConnection.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -358,2 +358,2 @@\n-    private void subscriberCompleted(Http2StreamResponseSubscriber<?> subscriber) {\n-        client().subscriberCompleted(subscriber);\n+    private void unregisterResponseSubscriber(Http2StreamResponseSubscriber<?> subscriber) {\n+        client().unregisterSubscriber(subscriber);\n@@ -1549,1 +1549,1 @@\n-                Stream.this.subscriberCompleted(this);\n+                Stream.this.unregisterResponseSubscriber(this);\n@@ -1554,0 +1554,4 @@\n+        @Override\n+        protected void onCancel() {\n+            Stream.this.unregisterResponseSubscriber(this);\n+        }\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Stream.java","additions":7,"deletions":3,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -32,0 +32,1 @@\n+import java.util.Objects;\n@@ -64,1 +65,1 @@\n-    volatile Subscription subscription;\n+    volatile SubscriptionWrapper subscription;\n@@ -70,0 +71,21 @@\n+    private class SubscriptionWrapper implements Subscription {\n+        final Subscription subscription;\n+        SubscriptionWrapper(Subscription s) {\n+            this.subscription = Objects.requireNonNull(s);\n+        }\n+        @Override\n+        public void request(long n) {\n+            subscription.request(n);\n+        }\n+\n+        @Override\n+        public void cancel() {\n+            try {\n+                subscription.cancel();\n+                onCancel();\n+            } catch (Throwable t) {\n+                onError(t);\n+            }\n+        }\n+    }\n+\n@@ -100,0 +122,8 @@\n+    \/**\n+     * Called when the subscriber cancels its subscription.\n+     * @apiNote\n+     * This method may be used by subclasses to perform cleanup\n+     * actions after a subscription has been cancelled.\n+     *\/\n+    protected void onCancel() { }\n+\n@@ -140,1 +170,0 @@\n-        this.subscription = subscription;\n@@ -145,1 +174,2 @@\n-                userSubscriber.onSubscribe(subscription);\n+                SubscriptionWrapper wrapped = new SubscriptionWrapper(subscription);\n+                userSubscriber.onSubscribe(this.subscription = wrapped);\n@@ -159,0 +189,1 @@\n+            SubscriptionWrapper subscription = this.subscription;\n@@ -160,1 +191,1 @@\n-                subscription.cancel();\n+                subscription.subscription.cancel();\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/common\/HttpBodySubscriberWrapper.java","additions":35,"deletions":4,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -62,0 +62,2 @@\n+        \/\/ number of body subscribers not yet completed or canceled\n+        long getOutstandingSubscribers();\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/common\/OperationTrackers.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -50,2 +50,0 @@\n-#pragma comment(lib, \"secur32.lib\")\n-\n@@ -898,1 +896,1 @@\n-            outName, sizeof(outName) - 1);\n+            outName, (sizeof(outName) \/ sizeof(outName[0])) - 1);\n","filename":"src\/java.security.jgss\/windows\/native\/libsspi_bridge\/sspi.cpp","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1855,1 +1855,1 @@\n-                        return visit(elemtype(t), elemtype(s));\n+                        return isCastable(elemtype(t), elemtype(s), warnStack.head);\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/code\/Types.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2091,2 +2091,7 @@\n-                        log.error(pos, Errors.TypesIncompatible(t1, t2,\n-                                Fragments.IncompatibleDiffRet(s2.name, types.memberType(t2, s2).getParameterTypes())));\n+                        if (types.isSameType(t1, t2)) {\n+                            log.error(pos, Errors.IncompatibleDiffRetSameType(t1,\n+                                    s2.name, types.memberType(t2, s2).getParameterTypes()));\n+                        } else {\n+                            log.error(pos, Errors.TypesIncompatible(t1, t2,\n+                                    Fragments.IncompatibleDiffRet(s2.name, types.memberType(t2, s2).getParameterTypes())));\n+                        }\n@@ -3692,1 +3697,2 @@\n-        Map<Symbol,Symbol> callMap = new HashMap<>();\n+        \/\/ use LinkedHashMap so we generate errors deterministically\n+        Map<Symbol,Symbol> callMap = new LinkedHashMap<>();\n@@ -3721,1 +3727,1 @@\n-                log.error(TreeInfo.diagnosticPositionFor(ctor, tree),\n+                log.error(TreeInfo.diagnosticPositionFor(ctor, tree, false, t -> t.hasTag(IDENT)),\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Check.java","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -697,1 +697,1 @@\n-            if (!tree.hasUnconditionalPattern) {\n+            if (!tree.hasUnconditionalPattern && !exhaustiveSwitch) {\n@@ -2305,1 +2305,2 @@\n-                    boolean isCompactConstructor = (tree.sym.flags() & Flags.COMPACT_RECORD_CONSTRUCTOR) != 0;\n+                    boolean isCompactOrGeneratedRecordConstructor = (tree.sym.flags() & Flags.COMPACT_RECORD_CONSTRUCTOR) != 0 ||\n+                            (tree.sym.flags() & (GENERATEDCONSTR | RECORD)) == (GENERATEDCONSTR | RECORD);\n@@ -2315,1 +2316,1 @@\n-                                if (isSynthesized && !isCompactConstructor) {\n+                                if (isSynthesized && !isCompactOrGeneratedRecordConstructor) {\n@@ -2318,1 +2319,1 @@\n-                                } else if (isCompactConstructor) {\n+                                } else if (isCompactOrGeneratedRecordConstructor) {\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Flow.java","additions":5,"deletions":4,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -98,0 +98,1 @@\n+    private final TransTypes transTypes;\n@@ -120,0 +121,1 @@\n+        transTypes = TransTypes.instance(context);\n@@ -2771,1 +2773,2 @@\n-        if (tree.name == names.init && (tree.sym.flags_field & Flags.COMPACT_RECORD_CONSTRUCTOR) != 0) {\n+        if (tree.name == names.init && ((tree.sym.flags_field & Flags.COMPACT_RECORD_CONSTRUCTOR) != 0 ||\n+                (tree.sym.flags_field & (GENERATEDCONSTR | RECORD)) == (GENERATEDCONSTR | RECORD))) {\n@@ -3521,4 +3524,2 @@\n-            Type eType = types.skipTypeVars(tree.expr.type, false);\n-            tree.expr.type = types.erasure(eType);\n-            if (eType.isCompound())\n-                tree.expr = make.TypeCast(types.erasure(iterableType), tree.expr);\n+            tree.expr.type = types.erasure(types.skipTypeVars(tree.expr.type, false));\n+            tree.expr = transTypes.coerce(attrEnv, tree.expr, types.erasure(iterableType));\n@@ -3527,1 +3528,1 @@\n-                                           eType,\n+                                           tree.expr.type,\n@@ -3529,0 +3530,1 @@\n+            Assert.check(types.isSameType(types.erasure(types.asSuper(iterator.type.getReturnType(), syms.iteratorType.tsym)), types.erasure(syms.iteratorType)));\n@@ -3530,1 +3532,1 @@\n-                                            types.erasure(types.asSuper(iterator.type.getReturnType(), syms.iteratorType.tsym)),\n+                                            types.erasure(syms.iteratorType),\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Lower.java","additions":9,"deletions":7,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -3683,1 +3683,3 @@\n-                this.site = new ClassType(site.getEnclosingType(), site.tsym.type.getTypeArguments(), site.tsym, site.getMetadata());\n+                this.site = new ClassType(site.getEnclosingType(),\n+                        !(site.tsym.isInner() && site.getEnclosingType().isRaw()) ?\n+                                site.tsym.type.getTypeArguments() : List.nil(), site.tsym, site.getMetadata());\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/Resolve.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1420,1 +1420,1 @@\n-            csym.flags_field |= Flags.COMPACT_RECORD_CONSTRUCTOR | GENERATEDCONSTR;\n+            csym.flags_field |= GENERATEDCONSTR;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/comp\/TypeEnter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1244,0 +1244,4 @@\n+# 0: type, 1: name, 2: list of type\n+compiler.err.incompatible.diff.ret.same.type=\\\n+    type {0} defines {1}({2}) more than once with unrelated return types\n+\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/resources\/compiler.properties","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -51,0 +51,1 @@\n+import java.util.function.Predicate;\n@@ -713,0 +714,5 @@\n+        return diagnosticPositionFor(sym, tree, returnNullIfNotFound, null);\n+    }\n+\n+    public static DiagnosticPosition diagnosticPositionFor(final Symbol sym, final JCTree tree, boolean returnNullIfNotFound,\n+            Predicate<? super JCTree> filter) {\n@@ -714,2 +720,2 @@\n-            DiagScanner(Symbol sym) {\n-                super(sym);\n+            DiagScanner(Symbol sym, Predicate<? super JCTree> filter) {\n+                super(sym, filter);\n@@ -719,2 +725,2 @@\n-                if (that.sym == sym) result = that;\n-                else super.visitIdent(that);\n+                if (!checkMatch(that, that.sym))\n+                    super.visitIdent(that);\n@@ -723,2 +729,2 @@\n-                if (that.sym == sym) result = that;\n-                else super.visitSelect(that);\n+                if (!checkMatch(that, that.sym))\n+                    super.visitSelect(that);\n@@ -727,1 +733,1 @@\n-        DiagScanner s = new DiagScanner(sym);\n+        DiagScanner s = new DiagScanner(sym, filter);\n@@ -740,0 +746,1 @@\n+        final Predicate<? super JCTree> filter;\n@@ -742,0 +749,3 @@\n+            this(sym, null);\n+        }\n+        DeclScanner(final Symbol sym, Predicate<? super JCTree> filter) {\n@@ -743,0 +753,1 @@\n+            this.filter = filter;\n@@ -751,2 +762,2 @@\n-            if (that.packge == sym) result = that;\n-            else super.visitTopLevel(that);\n+            if (!checkMatch(that, that.packge))\n+                super.visitTopLevel(that);\n@@ -755,1 +766,1 @@\n-            if (that.sym == sym) result = that;\n+            checkMatch(that, that.sym);\n@@ -759,2 +770,2 @@\n-            if (that.packge == sym) result = that;\n-            else super.visitPackageDef(that);\n+            if (!checkMatch(that, that.packge))\n+                super.visitPackageDef(that);\n@@ -763,2 +774,2 @@\n-            if (that.sym == sym) result = that;\n-            else super.visitClassDef(that);\n+            if (!checkMatch(that, that.sym))\n+                super.visitClassDef(that);\n@@ -767,2 +778,2 @@\n-            if (that.sym == sym) result = that;\n-            else super.visitMethodDef(that);\n+            if (!checkMatch(that, that.sym))\n+                super.visitMethodDef(that);\n@@ -771,2 +782,2 @@\n-            if (that.sym == sym) result = that;\n-            else super.visitVarDef(that);\n+            if (!checkMatch(that, that.sym))\n+                super.visitVarDef(that);\n@@ -775,2 +786,10 @@\n-            if (that.type != null && that.type.tsym == sym) result = that;\n-            else super.visitTypeParameter(that);\n+            if (that.type == null || !checkMatch(that, that.type.tsym))\n+                super.visitTypeParameter(that);\n+        }\n+\n+        protected boolean checkMatch(JCTree that, Symbol thatSym) {\n+            if (thatSym == this.sym && (filter == null || filter.test(that))) {\n+                result = that;\n+                return true;\n+            }\n+            return false;\n","filename":"src\/jdk.compiler\/share\/classes\/com\/sun\/tools\/javac\/tree\/TreeInfo.java","additions":39,"deletions":20,"binary":false,"changes":59,"status":"modified"},{"patch":"@@ -26,0 +26,3 @@\n+import javax.tools.JavaCompiler;\n+import javax.tools.StandardLocation;\n+\n@@ -62,0 +65,72 @@\n+ * <h3>Options and Environment Variables<\/h3>\n+ *\n+ * The full set of options and environment variables supported by <em>javac<\/em>\n+ * is given in the <a href=\"..\/specs\/man\/javac.html\"><em>javac Tool Guide<\/em><\/a>.\n+ * However, there are some restrictions when the compiler is invoked through\n+ * its API.\n+ *\n+ * <ul>\n+ *     <li><p>The {@code -J} option is not supported.\n+ *          Any necessary VM options must be set in the VM used to invoke the API.\n+ *          {@code IllegalArgumentException} will be thrown if the option\n+ *          is used when invoking the tool through the {@code JavaCompiler} API;\n+ *          an error will be reported if the option is used when invoking\n+ *          <em>javac<\/em> through the {@link java.util.spi.ToolProvider ToolProvider}\n+ *          or legacy {@link com.sun.tools.javac.Main Main} API.\n+ *\n+ *     <li><p>The \"classpath wildcard\" feature is not supported.\n+ *          The feature is only supported by the native launcher.\n+ *          When invoking the tool through its API, all necessary jar\n+ *          files should be included directly in the {@code --class-path}\n+ *          option, or the {@code CLASSPATH} environment variable.\n+ *          When invoking the tool through its API, all components of the\n+ *          class path will be taken literally, and will be ignored if there\n+ *          is no matching directory or file. The {@code -Xlint:paths}\n+ *          option can be used to generate warnings about missing components.\n+ *\n+ * <\/ul>\n+ *\n+ * The following restrictions apply when invoking the compiler through\n+ * the {@link JavaCompiler} interface.\n+ *\n+ * <ul>\n+ *     <li><p>Argument files (so-called @-files) are not supported.\n+ *          The content of any such files should be included directly\n+ *          in the list of options provided when invoking the tool\n+ *          though this API.\n+ *          {@code IllegalArgumentException} will be thrown if\n+ *          the option is used when invoking the tool through this API.\n+ *\n+ *     <li><p>The environment variable {@code JDK_JAVAC_OPTIONS} is not supported.\n+ *          Any options defined in the environment variable should be included\n+ *          directly in the list of options provided when invoking the\n+ *          API; any values in the environment variable will be ignored.\n+ *\n+ *     <li><p>Options that are just used to obtain information (such as\n+ *          {@code --help}, {@code --help-extended}, {@code --version} and\n+ *          {@code --full-version}) are not supported.\n+ *          {@link IllegalArgumentException} will be thrown if any of\n+ *          these options are used when invoking the tool through this API.\n+ *\n+ *      <li>Path-related options depend on the file manager being used\n+ *          when calling {@link JavaCompiler#getTask}. The \"standard\"\n+ *          options, such as {@code --class-path}, {@code --module-path},\n+ *          and so on are available when using the default file manager,\n+ *          or one derived from it. These options may not be available\n+ *          and different options may be available, when using a different\n+ *          file manager.\n+ *          {@link IllegalArgumentException} will be thrown if any option\n+ *          that is unknown to the tool or the file manager is used when\n+ *          invoking the tool through this API.\n+ * <\/ul>\n+ *\n+ * Note that the {@code CLASSPATH} environment variable <em>is<\/em> honored\n+ * when invoking the compiler through its API, although such use is discouraged.\n+ * An environment variable cannot be unset once a VM has been started,\n+ * and so it is recommended to ensure that the environment variable is not set\n+ * when starting a VM that will be used to invoke the compiler.\n+ * However, if a value has been set, any such value can be overridden by\n+ * using the {@code --class-path} option when invoking the compiler,\n+ * or setting {@link StandardLocation#CLASS_PATH} in the file manager\n+ * when invoking the compiler through the {@link JavaCompiler} interface.\n+ *\n","filename":"src\/jdk.compiler\/share\/classes\/module-info.java","additions":75,"deletions":0,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -466,2 +466,1 @@\n-            throw new SignatureException(\"Curve not supported: \" +\n-                params.toString());\n+            throw new SignatureException(\"Curve not supported: \" + params);\n@@ -483,0 +482,20 @@\n+        ECPoint w = publicKey.getW();\n+        ECParameterSpec params = publicKey.getParams();\n+\n+        \/\/ Partial public key validation\n+        try {\n+            ECUtil.validatePublicKey(w, params);\n+        } catch (InvalidKeyException e) {\n+            return false;\n+        }\n+\n+        ECDSAOperations ops = ECDSAOperations.forParameters(params)\n+                .orElseThrow(() -> new SignatureException(\"Curve not supported: \" + params));\n+\n+        \/\/ Full public key validation, only necessary when h != 1.\n+        if (params.getCofactor() != 1) {\n+            if (!ops.getEcOperations().checkOrder(w)) {\n+                return false;\n+            }\n+        }\n+\n@@ -489,10 +508,1 @@\n-\n-        byte[] digest = getDigestValue();\n-\n-        Optional<ECDSAOperations> opsOpt =\n-            ECDSAOperations.forParameters(publicKey.getParams());\n-        if (opsOpt.isEmpty()) {\n-            throw new SignatureException(\"Curve not supported: \" +\n-                publicKey.getParams().toString());\n-        }\n-        return opsOpt.get().verifySignedDigest(digest, sig, publicKey.getW());\n+        return ops.verifySignedDigest(getDigestValue(), sig, w);\n","filename":"src\/jdk.crypto.ec\/share\/classes\/sun\/security\/ec\/ECDSASignature.java","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import sun.security.util.ArrayUtil;\n@@ -36,0 +37,1 @@\n+import java.security.spec.ECPoint;\n@@ -473,0 +475,14 @@\n+\n+    \/\/ The extra step in the Full Public key validation as described in\n+    \/\/ NIST SP 800-186 Appendix D.1.1.2\n+    public boolean checkOrder(ECPoint point) {\n+        BigInteger x = point.getAffineX();\n+        BigInteger y = point.getAffineY();\n+\n+        \/\/ Verify that n Q = INFINITY. Output REJECT if verification fails.\n+        IntegerFieldModuloP field = this.getField();\n+        AffinePoint ap = new AffinePoint(field.getElement(x), field.getElement(y));\n+        byte[] scalar = this.orderField.getSize().toByteArray();\n+        ArrayUtil.reverse(scalar);\n+        return isNeutral(this.multiply(ap, scalar));\n+    }\n","filename":"src\/jdk.crypto.ec\/share\/classes\/sun\/security\/ec\/ECOperations.java","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -505,6 +505,2 @@\n-    if (minObjAlignmentInBytes == 8) {\n-      logMinObjAlignmentInBytes = 3;\n-    } else if (minObjAlignmentInBytes == 16) {\n-      logMinObjAlignmentInBytes = 4;\n-    } else {\n-      throw new RuntimeException(\"Object alignment \" + minObjAlignmentInBytes + \" not yet supported\");\n+    if ((minObjAlignmentInBytes & (minObjAlignmentInBytes - 1)) != 0) {\n+      throw new RuntimeException(\"Object alignment \" + minObjAlignmentInBytes + \" is not power of two\");\n@@ -513,0 +509,2 @@\n+    logMinObjAlignmentInBytes = Integer.numberOfTrailingZeros(minObjAlignmentInBytes);\n+\n","filename":"src\/jdk.hotspot.agent\/share\/classes\/sun\/jvm\/hotspot\/runtime\/VM.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,2 +33,0 @@\n-import com.sun.net.httpserver.*;\n-import com.sun.net.httpserver.spi.*;\n@@ -58,2 +56,2 @@\n-    long time;\n-    volatile long creationTime; \/\/ time this connection was created\n+    long idleStartTime; \/\/ absolute time in milli seconds, starting when the connection was marked idle\n+    volatile long reqStartedTime; \/\/ time when the request was initiated\n@@ -65,1 +63,1 @@\n-    public enum State {IDLE, REQUEST, RESPONSE};\n+    public enum State {IDLE, REQUEST, RESPONSE, NEWLY_ACCEPTED};\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/HttpConnection.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,1 +47,0 @@\n-    TimeSource time;\n@@ -59,1 +58,0 @@\n-        this.time= (TimeSource)server;\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/SSLStreams.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-    private static final int DEFAULT_CLOCK_TICK = 10000 ; \/\/ 10 sec.\n+    private static final int DEFAULT_IDLE_TIMER_SCHEDULE_MILLIS = 10000 ; \/\/ 10 sec.\n@@ -42,2 +42,2 @@\n-    \/* These values must be a reasonable multiple of clockTick *\/\n-    private static final long DEFAULT_IDLE_INTERVAL = 30 ; \/\/ 5 min\n+    private static final long DEFAULT_IDLE_INTERVAL_IN_SECS = 30;\n+    private static final int DEFAULT_MAX_CONNECTIONS = -1 ; \/\/ no limit on maximum connections\n@@ -48,1 +48,3 @@\n-    private static final long DEFAULT_TIMER_MILLIS = 1000;\n+    \/\/ default timer schedule, in milli seconds, for the timer task that's responsible for\n+    \/\/ timing out request\/response if max request\/response time is configured\n+    private static final long DEFAULT_REQ_RSP_TIMER_TASK_SCHEDULE_MILLIS = 1000;\n@@ -52,2 +54,2 @@\n-    private static int clockTick;\n-    private static long idleInterval;\n+    private static long idleTimerScheduleMillis;\n+    private static long idleIntervalMillis;\n@@ -56,0 +58,4 @@\n+    \/\/ the maximum number of connections that the server will allow to be open\n+    \/\/ after which it will no longer \"accept()\" any new connections, till the\n+    \/\/ current connection count goes down due to completion of processing the requests\n+    private static int maxConnections;\n@@ -62,1 +68,1 @@\n-    private static long timerMillis;\n+    private static long reqRspTimerScheduleMillis;\n@@ -73,2 +79,12 @@\n-                    idleInterval = Long.getLong(\"sun.net.httpserver.idleInterval\",\n-                            DEFAULT_IDLE_INTERVAL) * 1000;\n+                    idleIntervalMillis = Long.getLong(\"sun.net.httpserver.idleInterval\",\n+                            DEFAULT_IDLE_INTERVAL_IN_SECS) * 1000;\n+                    if (idleIntervalMillis <= 0) {\n+                        idleIntervalMillis = DEFAULT_IDLE_INTERVAL_IN_SECS * 1000;\n+                    }\n+\n+                    idleTimerScheduleMillis = Long.getLong(\"sun.net.httpserver.clockTick\",\n+                            DEFAULT_IDLE_TIMER_SCHEDULE_MILLIS);\n+                    if (idleTimerScheduleMillis <= 0) {\n+                        \/\/ ignore zero or negative value and use the default schedule\n+                        idleTimerScheduleMillis = DEFAULT_IDLE_TIMER_SCHEDULE_MILLIS;\n+                    }\n@@ -76,2 +92,3 @@\n-                    clockTick = Integer.getInteger(\"sun.net.httpserver.clockTick\",\n-                            DEFAULT_CLOCK_TICK);\n+                    maxConnections = Integer.getInteger(\n+                            \"jdk.httpserver.maxConnections\",\n+                            DEFAULT_MAX_CONNECTIONS);\n@@ -96,2 +113,7 @@\n-                    timerMillis = Long.getLong(\"sun.net.httpserver.timerMillis\",\n-                            DEFAULT_TIMER_MILLIS);\n+                    reqRspTimerScheduleMillis = Long.getLong(\"sun.net.httpserver.timerMillis\",\n+                            DEFAULT_REQ_RSP_TIMER_TASK_SCHEDULE_MILLIS);\n+                    if (reqRspTimerScheduleMillis <= 0) {\n+                        \/\/ ignore any negative or zero value for this configuration and reset\n+                        \/\/ to default schedule\n+                        reqRspTimerScheduleMillis = DEFAULT_REQ_RSP_TIMER_TASK_SCHEDULE_MILLIS;\n+                    }\n@@ -153,2 +175,13 @@\n-    static long getIdleInterval() {\n-        return idleInterval;\n+    \/**\n+     * {@return Returns the maximum duration, in milli seconds, a connection can be idle}\n+     *\/\n+    static long getIdleIntervalMillis() {\n+        return idleIntervalMillis;\n+    }\n+\n+    \/**\n+     * {@return Returns the schedule, in milli seconds, for the timer task that is responsible\n+     * for managing the idle connections}\n+     *\/\n+    static long getIdleTimerScheduleMillis() {\n+        return idleTimerScheduleMillis;\n@@ -157,2 +190,7 @@\n-    static int getClockTick() {\n-        return clockTick;\n+    \/**\n+     * @return Returns the maximum number of connections that can be open at any given time.\n+     * This method can return a value of 0 or negative to represent that the limit hasn't\n+     * been configured.\n+     *\/\n+    static int getMaxConnections() {\n+        return maxConnections;\n@@ -161,0 +199,4 @@\n+    \/**\n+     * @return Returns the maximum number of connections that can be idle. This method\n+     * can return a value of 0 or negative.\n+     *\/\n@@ -173,0 +215,5 @@\n+    \/**\n+     * @return Returns the maximum amount of time the server will wait for the request to be read\n+     * completely. This method can return a value of 0 or negative to imply no maximum limit has\n+     * been configured.\n+     *\/\n@@ -177,0 +224,5 @@\n+    \/**\n+     * @return Returns the maximum amount of time the server will wait for the response to be generated\n+     * for a request that is being processed. This method can return a value of 0 or negative to\n+     * imply no maximum limit has been configured.\n+     *\/\n@@ -181,2 +233,6 @@\n-    static long getTimerMillis() {\n-        return timerMillis;\n+    \/**\n+     * {@return Returns the timer schedule of the task that's responsible for timing out\n+     * request\/response that have been running longer than any configured timeout}\n+     *\/\n+    static long getReqRspTimerScheduleMillis() {\n+        return reqRspTimerScheduleMillis;\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ServerConfig.java","additions":76,"deletions":20,"binary":false,"changes":96,"status":"modified"},{"patch":"@@ -28,5 +28,15 @@\n-import java.net.*;\n-import java.io.*;\n-import java.nio.channels.*;\n-import java.util.*;\n-import java.util.concurrent.*;\n+import com.sun.net.httpserver.Filter;\n+import com.sun.net.httpserver.Headers;\n+import com.sun.net.httpserver.HttpContext;\n+import com.sun.net.httpserver.HttpExchange;\n+import com.sun.net.httpserver.HttpHandler;\n+import com.sun.net.httpserver.HttpServer;\n+import com.sun.net.httpserver.HttpsConfigurator;\n+import sun.net.httpserver.HttpConnection.State;\n+\n+import javax.net.ssl.SSLContext;\n+import javax.net.ssl.SSLEngine;\n+import java.io.BufferedInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n@@ -35,2 +45,10 @@\n-import javax.net.ssl.*;\n-import com.sun.net.httpserver.*;\n+import java.net.BindException;\n+import java.net.InetSocketAddress;\n+import java.net.ServerSocket;\n+import java.net.URI;\n+import java.net.URISyntaxException;\n+import java.nio.channels.CancelledKeyException;\n+import java.nio.channels.SelectionKey;\n+import java.nio.channels.Selector;\n+import java.nio.channels.ServerSocketChannel;\n+import java.nio.channels.SocketChannel;\n@@ -39,1 +57,9 @@\n-import sun.net.httpserver.HttpConnection.State;\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.Iterator;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.Timer;\n+import java.util.TimerTask;\n+import java.util.concurrent.Executor;\n@@ -42,1 +68,1 @@\n-import static sun.net.httpserver.Utils.*;\n+import static sun.net.httpserver.Utils.isValidName;\n@@ -47,1 +73,1 @@\n-class ServerImpl implements TimeSource {\n+class ServerImpl {\n@@ -59,2 +85,5 @@\n-    private Set<HttpConnection> idleConnections;\n-    private Set<HttpConnection> allConnections;\n+    private final Set<HttpConnection> idleConnections;\n+    \/\/ connections which have been accepted() by the server but which haven't\n+    \/\/ yet sent any byte on the connection yet\n+    private final Set<HttpConnection> newlyAcceptedConnections;\n+    private final Set<HttpConnection> allConnections;\n@@ -65,2 +94,2 @@\n-    private Set<HttpConnection> reqConnections;\n-    private Set<HttpConnection> rspConnections;\n+    private final Set<HttpConnection> reqConnections;\n+    private final Set<HttpConnection> rspConnections;\n@@ -68,1 +97,1 @@\n-    private Object lolock = new Object();\n+    private final Object lolock = new Object();\n@@ -73,3 +102,0 @@\n-    private volatile long time;  \/* current time *\/\n-    private volatile long subticks = 0;\n-    private volatile long ticks; \/* number of clock ticks since server started *\/\n@@ -78,2 +104,3 @@\n-    static final int CLOCK_TICK = ServerConfig.getClockTick();\n-    static final long IDLE_INTERVAL = ServerConfig.getIdleInterval();\n+    \/\/ schedule for the timer task that's responsible for idle connection management\n+    static final long IDLE_TIMER_TASK_SCHEDULE = ServerConfig.getIdleTimerScheduleMillis();\n+    static final int MAX_CONNECTIONS = ServerConfig.getMaxConnections();\n@@ -81,4 +108,18 @@\n-    static final long TIMER_MILLIS = ServerConfig.getTimerMillis ();\n-    static final long MAX_REQ_TIME=getTimeMillis(ServerConfig.getMaxReqTime());\n-    static final long MAX_RSP_TIME=getTimeMillis(ServerConfig.getMaxRspTime());\n-    static final boolean timer1Enabled = MAX_REQ_TIME != -1 || MAX_RSP_TIME != -1;\n+    \/\/ schedule for the timer task that's responsible for request\/response timeout management\n+    static final long REQ_RSP_TIMER_SCHEDULE = ServerConfig.getReqRspTimerScheduleMillis();\n+    static final long MAX_REQ_TIME = getTimeMillis(ServerConfig.getMaxReqTime());\n+    static final long MAX_RSP_TIME = getTimeMillis(ServerConfig.getMaxRspTime());\n+    static final boolean reqRspTimeoutEnabled = MAX_REQ_TIME != -1 || MAX_RSP_TIME != -1;\n+    \/\/ the maximum idle duration for a connection which is currently idle but has served\n+    \/\/ some request in the past\n+    static final long IDLE_INTERVAL = ServerConfig.getIdleIntervalMillis();\n+    \/\/ the maximum idle duration for a newly accepted connection which hasn't yet received\n+    \/\/ the first byte of data on that connection\n+    static final long NEWLY_ACCEPTED_CONN_IDLE_INTERVAL;\n+    static {\n+        \/\/ the idle duration of a newly accepted connection is considered to be the least of the\n+        \/\/ configured idle interval and the configured max request time (if any).\n+        NEWLY_ACCEPTED_CONN_IDLE_INTERVAL = MAX_REQ_TIME > 0\n+                ? Math.min(IDLE_INTERVAL, MAX_REQ_TIME)\n+                : IDLE_INTERVAL;\n+    }\n@@ -115,7 +156,8 @@\n-        time = System.currentTimeMillis();\n-        timer = new Timer (\"server-timer\", true);\n-        timer.schedule (new ServerTimerTask(), CLOCK_TICK, CLOCK_TICK);\n-        if (timer1Enabled) {\n-            timer1 = new Timer (\"server-timer1\", true);\n-            timer1.schedule (new ServerTimerTask1(),TIMER_MILLIS,TIMER_MILLIS);\n-            logger.log (Level.DEBUG, \"HttpServer timer1 enabled period in ms: \", TIMER_MILLIS);\n+        newlyAcceptedConnections = Collections.synchronizedSet(new HashSet<>());\n+        timer = new Timer (\"idle-timeout-task\", true);\n+        timer.schedule (new IdleTimeoutTask(), IDLE_TIMER_TASK_SCHEDULE, IDLE_TIMER_TASK_SCHEDULE);\n+        if (reqRspTimeoutEnabled) {\n+            timer1 = new Timer (\"req-rsp-timeout-task\", true);\n+            timer1.schedule (new ReqRspTimeoutTask(), REQ_RSP_TIMER_SCHEDULE, REQ_RSP_TIMER_SCHEDULE);\n+            logger.log(Level.DEBUG, \"HttpServer request\/response timeout task schedule ms: \",\n+                    REQ_RSP_TIMER_SCHEDULE);\n@@ -212,0 +254,1 @@\n+        newlyAcceptedConnections.clear();\n@@ -213,1 +256,1 @@\n-        if (timer1Enabled) {\n+        if (reqRspTimeoutEnabled) {\n@@ -276,4 +319,0 @@\n-    Selector getSelector () {\n-        return selector;\n-    }\n-\n@@ -289,0 +328,64 @@\n+    \/**\n+     * The Dispatcher is responsible for accepting any connections and then using those connections\n+     * to processing any incoming requests. A connection is represented as an instance of\n+     * sun.net.httpserver.HttpConnection.\n+     *\n+     * Connection states:\n+     *  An instance of HttpConnection goes through the following states:\n+     *\n+     *  - NEWLY_ACCEPTED: A connection is marked as newly accepted as soon as the Dispatcher\n+     *    accept()s a connection. A newly accepted connection is added to a newlyAcceptedConnections\n+     *    collection. A newly accepted connection also gets added to the allConnections collection.\n+     *    The newlyAcceptedConnections isn't checked for any size limits, however, if the server is\n+     *    configured with a maximum connection limit, then the elements in the\n+     *    newlyAcceptedConnections will never exceed that configured limit (no explicit size checks\n+     *    are done on the newlyAcceptedConnections collection, since the maximum connection limit\n+     *    applies to connections across different connection states). A connection in NEWLY_ACCEPTED\n+     *    state is considered idle and is eligible for idle connection management.\n+     *\n+     *  - REQUEST: A connection is marked to be in REQUEST state when the request processing starts\n+     *    on that connection. This typically happens when the first byte of data is received on a\n+     *    NEWLY_ACCEPTED connection or when new data arrives on a connection which was previously\n+     *    in IDLE state. When a connection is in REQUEST state, it implies that the connection is\n+     *    active and thus isn't eligible for idle connection management. If the server is configured\n+     *    with a maximum request timeout, then connections in REQUEST state are eligible\n+     *    for Request\/Response timeout management.\n+     *\n+     *  - RESPONSE: A connection is marked to be in RESPONSE state when the server has finished\n+     *    reading the request. A connection is RESPONSE state is considered active and isn't eligible\n+     *    for idle connection management. If the server is configured with a maximum response timeout,\n+     *    then connections in RESPONSE state are eligible for Request\/Response timeout management.\n+     *\n+     *  - IDLE: A connection is marked as IDLE when a request\/response cycle (successfully) completes\n+     *    on that particular connection. Idle connections are held in a idleConnections collection.\n+     *    The idleConnections collection is limited in size and the size is decided by a server\n+     *    configuration. Connections in IDLE state get added to the idleConnections collection only\n+     *    if that collection hasn't reached the configured limit. If a connection has reached IDLE\n+     *    state and there's no more room in the idleConnections collection, then such a connection\n+     *    gets closed. Connections in idleConnections collection are eligible for idle connection\n+     *    management.\n+     *\n+     * Idle connection management:\n+     *  A timer task is responsible for closing idle connections. Each connection that is in a state\n+     *  which is eligible for idle timeout management (see above section on connection states)\n+     *  will have a corresponding idle expiration time associated with it. The idle timeout management\n+     *  task will check the expiration time of each such connection against the current time and will\n+     *  close the connection if the current time is either equal to or past the expiration time.\n+     *\n+     * Request\/Response timeout management:\n+     *  The server can be optionally configured with a maximum request timeout and\/or maximum response\n+     *  timeout. If either of these timeouts have been configured, then an additional timer task is\n+     *  run by the server. This timer task is then responsible for closing connections which have\n+     *  been in REQUEST or RESPONSE state for a period of time that exceeds the respective configured\n+     *  timeouts.\n+     *\n+     * Maximum connection limit management:\n+     *  The server can be optionally configured with a maximum connection limit. A value of 0 or\n+     *  negative integer is ignored and considered to represent no connection limit. In case of a\n+     *  positive integer value, any newly accepted connections will be first checked against the\n+     *  current count of established connections (held by the allConnections collection) and if the\n+     *  configured limit has reached, then the newly accepted connection will be closed immediately\n+     *  (even before setting its state to NEWLY_ACCEPTED or adding it to the newlyAcceptedConnections\n+     *  collection).\n+     *\n+     *\/\n@@ -342,2 +445,1 @@\n-                c.time = getTime() + IDLE_INTERVAL;\n-                idleConnections.add (c);\n+                markIdle(c);\n@@ -390,1 +492,0 @@\n-\n@@ -393,0 +494,10 @@\n+                                if (MAX_CONNECTIONS > 0 && allConnections.size() >= MAX_CONNECTIONS) {\n+                                    \/\/ we've hit max limit of current open connections, so we go\n+                                    \/\/ ahead and close this connection without processing it\n+                                    try {\n+                                        chan.close();\n+                                    } catch (IOException ignore) {\n+                                    }\n+                                    \/\/ move on to next selected key\n+                                    continue;\n+                                }\n@@ -404,1 +515,1 @@\n-                                requestStarted (c);\n+                                markNewlyAccepted(c);\n@@ -415,4 +526,6 @@\n-                                    if (idleConnections.remove(conn)) {\n-                                        \/\/ was an idle connection so add it\n-                                        \/\/ to reqConnections set.\n-                                        requestStarted (conn);\n+                                    if (newlyAcceptedConnections.remove(conn)\n+                                            || idleConnections.remove(conn)) {\n+                                        \/\/ was either a newly accepted connection or an idle\n+                                        \/\/ connection. In either case, we mark that the request\n+                                        \/\/ has now started on this connection.\n+                                        requestStarted(conn);\n@@ -500,0 +613,3 @@\n+        case NEWLY_ACCEPTED:\n+            newlyAcceptedConnections.remove(conn);\n+            break;\n@@ -504,0 +620,1 @@\n+        assert !newlyAcceptedConnections.remove(conn);\n@@ -675,2 +792,2 @@\n-                        int timeoutSeconds = (int) (ServerConfig.getIdleInterval() \/ 1000);\n-                        String val = \"timeout=\" + timeoutSeconds;\n+                        int idleSeconds = (int) (ServerConfig.getIdleIntervalMillis() \/ 1000);\n+                        String val = \"timeout=\" + idleSeconds;\n@@ -817,8 +934,0 @@\n-    long getTicks() {\n-        return ticks;\n-    }\n-\n-    public long getTime() {\n-        return time;\n-    }\n-\n@@ -849,1 +958,1 @@\n-        c.creationTime = getTime();\n+        c.reqStartedTime = System.currentTimeMillis();\n@@ -854,0 +963,12 @@\n+    void markIdle(HttpConnection c) {\n+        c.idleStartTime = System.currentTimeMillis();\n+        c.setState(State.IDLE);\n+        idleConnections.add(c);\n+    }\n+\n+    void markNewlyAccepted(HttpConnection c) {\n+        c.idleStartTime = System.currentTimeMillis();\n+        c.setState(State.NEWLY_ACCEPTED);\n+        newlyAcceptedConnections.add(c);\n+    }\n+\n@@ -865,1 +986,1 @@\n-        c.rspStartedTime = getTime();\n+        c.rspStartedTime = System.currentTimeMillis();\n@@ -879,0 +1000,1 @@\n+     * Responsible for closing connections that have been idle.\n@@ -881,1 +1003,1 @@\n-    class ServerTimerTask extends TimerTask {\n+    class IdleTimeoutTask extends TimerTask {\n@@ -884,2 +1006,1 @@\n-            time = System.currentTimeMillis();\n-            ticks ++;\n+            final long currentTime = System.currentTimeMillis();\n@@ -887,3 +1008,18 @@\n-                for (HttpConnection c : idleConnections) {\n-                    if (c.time <= time) {\n-                        toClose.add (c);\n+                final Iterator<HttpConnection> it = idleConnections.iterator();\n+                while (it.hasNext()) {\n+                    final HttpConnection c = it.next();\n+                    if (currentTime - c.idleStartTime >= IDLE_INTERVAL) {\n+                        toClose.add(c);\n+                        it.remove();\n+                    }\n+                }\n+            }\n+            \/\/ if any newly accepted connection has been idle (i.e. no byte has been sent on that\n+            \/\/ connection during the configured idle timeout period) then close it as well\n+            synchronized (newlyAcceptedConnections) {\n+                final Iterator<HttpConnection> it = newlyAcceptedConnections.iterator();\n+                while (it.hasNext()) {\n+                    final HttpConnection c = it.next();\n+                    if (currentTime - c.idleStartTime >= NEWLY_ACCEPTED_CONN_IDLE_INTERVAL) {\n+                        toClose.add(c);\n+                        it.remove();\n@@ -892,4 +1028,6 @@\n-                for (HttpConnection c : toClose) {\n-                    idleConnections.remove (c);\n-                    allConnections.remove (c);\n-                    c.close();\n+            }\n+            for (HttpConnection c : toClose) {\n+                allConnections.remove(c);\n+                c.close();\n+                if (logger.isLoggable(Level.TRACE)) {\n+                    logger.log(Level.TRACE, \"Closed idle connection \" + c);\n@@ -901,1 +1039,4 @@\n-    class ServerTimerTask1 extends TimerTask {\n+    \/**\n+     * Responsible for closing connections which have timed out while in REQUEST or RESPONSE state\n+     *\/\n+    class ReqRspTimeoutTask extends TimerTask {\n@@ -906,1 +1047,1 @@\n-            time = System.currentTimeMillis();\n+            final long currentTime = System.currentTimeMillis();\n@@ -910,1 +1051,1 @@\n-                        if (c.creationTime + TIMER_MILLIS + MAX_REQ_TIME <= time) {\n+                        if (currentTime - c.reqStartedTime >= MAX_REQ_TIME) {\n@@ -926,1 +1067,1 @@\n-                        if (c.rspStartedTime + TIMER_MILLIS +MAX_RSP_TIME <= time) {\n+                        if (currentTime - c.rspStartedTime >= MAX_RSP_TIME) {\n@@ -941,12 +1082,7 @@\n-    void logStackTrace (String s) {\n-        logger.log (Level.TRACE, s);\n-        StringBuilder b = new StringBuilder ();\n-        StackTraceElement[] e = Thread.currentThread().getStackTrace();\n-        for (int i=0; i<e.length; i++) {\n-            b.append (e[i].toString()).append(\"\\n\");\n-        }\n-        logger.log (Level.TRACE, b.toString());\n-    }\n-\n-    static long getTimeMillis(long secs) {\n-        if (secs == -1) {\n+    \/**\n+     * Converts and returns the passed {@code secs} as milli seconds. If the passed {@code secs}\n+     * is negative or zero or if the conversion from seconds to milli seconds results in a negative\n+     * number, then this method returns -1.\n+     *\/\n+    private static long getTimeMillis(long secs) {\n+        if (secs <= 0) {\n@@ -954,2 +1090,0 @@\n-        } else {\n-            return secs * 1000;\n@@ -957,0 +1091,3 @@\n+        final long milli = secs * 1000;\n+        \/\/ this handles potential numeric overflow that may have happened during conversion\n+        return milli > 0 ? milli : -1;\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/ServerImpl.java","additions":221,"deletions":84,"binary":false,"changes":305,"status":"modified"},{"patch":"@@ -1,30 +0,0 @@\n-\/*\n- * Copyright (c) 2005, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-package sun.net.httpserver;\n-\n-interface TimeSource {\n-    public long getTime();\n-}\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/TimeSource.java","additions":0,"deletions":30,"binary":false,"changes":30,"status":"deleted"},{"patch":"@@ -29,0 +29,3 @@\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n+\n@@ -36,0 +39,3 @@\n+    private static final String SYS_PROP_MAX_CONNECTIONS = \"jdk.httpserver.maxConnections\";\n+    private static final String DEFAULT_JWEBSERVER_MAX_CONNECTIONS = \"200\";\n+\n@@ -62,0 +68,1 @@\n+        setMaxConnectionsIfNotSet();\n@@ -79,0 +86,12 @@\n+\n+    @SuppressWarnings(\"removal\")\n+    static void setMaxConnectionsIfNotSet() {\n+        AccessController.doPrivileged((PrivilegedAction<Void>) () -> {\n+            if (System.getProperty(SYS_PROP_MAX_CONNECTIONS) != null) {\n+                \/\/ an explicit value has already been set, so we don't override it\n+                return null;\n+            }\n+            System.setProperty(SYS_PROP_MAX_CONNECTIONS, DEFAULT_JWEBSERVER_MAX_CONNECTIONS);\n+            return null;\n+        });\n+    }\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/JWebServer.java","additions":19,"deletions":0,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -62,0 +62,1 @@\n+        JWebServer.setMaxConnectionsIfNotSet();\n","filename":"src\/jdk.httpserver\/share\/classes\/sun\/net\/httpserver\/simpleserver\/Main.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -47,0 +47,1 @@\n+    private FilenameFilter oldtmpFileFilter;\n@@ -55,1 +56,1 @@\n-        \/\/ The files are in {tmpdir}\/hsperfdata_{any_user_name}\/[0-9]+\n+        \/\/ 1.4.2 and later: The files are in {tmpdir}\/hsperfdata_{any_user_name}\/[0-9]+\n@@ -69,0 +70,9 @@\n+\n+        \/\/ 1.4.1 (or earlier?): the files are stored directly under {tmpdir}\/ with\n+        \/\/ the following pattern.\n+        Pattern oldtmpFilePattern = Pattern.compile(PerfDataFile.tmpFileNamePattern);\n+        oldtmpFileFilter = new FilenameFilter() {\n+            public boolean accept(File dir, String name) {\n+                return oldtmpFilePattern.matcher(name).matches();\n+            }\n+        };\n@@ -93,1 +103,1 @@\n-            \/\/ Look for the files {tmpdir}\/hsperfdata_{any_user_name}\/[0-9]+\n+            \/\/ 1.4.2 and later: Look for the files {tmpdir}\/hsperfdata_{any_user_name}\/[0-9]+\n@@ -114,0 +124,14 @@\n+\n+            \/\/ look for any 1.4.1 files that are readable by the current user.\n+            File[] files = tmpdir.listFiles(oldtmpFileFilter);\n+            if (files != null) {\n+                for (File file : files) {\n+                    if (file.isFile() && file.canRead()) {\n+                        int vmid = PerfDataFile.getLocalVmId(file);\n+                        if (vmid != -1) {\n+                            jvmSet.add(vmid);\n+                        }\n+                    }\n+                }\n+            }\n+\n","filename":"src\/jdk.internal.jvmstat\/share\/classes\/sun\/jvmstat\/perfdata\/monitor\/protocol\/local\/LocalVmManager.java","additions":27,"deletions":3,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -64,0 +64,1 @@\n+            \/\/ Try 1.4.2 and later first\n@@ -66,0 +67,24 @@\n+\n+        } catch (IllegalArgumentException e) {\n+            \/\/ now try 1.4.1 by attempting to directly map the files.\n+            try {\n+                String filename = PerfDataFile.getTempDirectory()\n+                                  + PerfDataFile.dirNamePrefix\n+                                  + Integer.toString(vmid.getLocalVmId());\n+\n+                File f = new File(filename);\n+\n+                FileChannel fc = new RandomAccessFile(f, \"r\").getChannel();\n+                ByteBuffer bb = fc.map(FileChannel.MapMode.READ_ONLY, 0L,\n+                                       (int)fc.size());\n+                fc.close();\n+                createPerfDataBuffer(bb, vmid.getLocalVmId());\n+\n+            } catch (FileNotFoundException e2) {\n+                \/\/ re-throw the exception from the 1.4.2 attach method\n+                throw new MonitorException(vmid.getLocalVmId() + \" not found\",\n+                                           e);\n+            } catch (IOException e2) {\n+                throw new MonitorException(\"Could not map 1.4.1 file for \"\n+                                           + vmid.getLocalVmId(), e2);\n+            }\n","filename":"src\/jdk.internal.jvmstat\/share\/classes\/sun\/jvmstat\/perfdata\/monitor\/protocol\/local\/PerfDataBuffer.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2004, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2004, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -67,2 +67,1 @@\n-     * used by the 1.4.2 and later HotSpot JVM. Earlier versions are\n-     * no longer supported.\n+     * used by the 1.4.2 and later HotSpot JVM.\n@@ -72,0 +71,10 @@\n+    \/**\n+     * The file name pattern for 1.4.1 PerfData shared memory files.\n+     * <p>\n+     * This pattern must be kept in synch with the file name pattern\n+     * used by the 1.4.1 HotSpot JVM.\n+     *\/\n+    public static final String tmpFileNamePattern =\n+            \"^hsperfdata_[0-9]+(_[1-2]+)?$\";\n+\n+\n@@ -91,0 +100,1 @@\n+            \/\/ try 1.4.2 and later format first\n@@ -94,1 +104,14 @@\n-        throw new IllegalArgumentException(\"Cannot convert '\" + file + \"' to VM id\");\n+        \/\/ now try the 1.4.1 format\n+        String name = file.getName();\n+        if (name.startsWith(dirNamePrefix)) {\n+            int first = name.indexOf('_');\n+            int last = name.lastIndexOf('_');\n+            try {\n+                if (first == last) {\n+                    return Integer.parseInt(name.substring(first + 1));\n+                } else {\n+                    return Integer.parseInt(name.substring(first + 1, last));\n+                }\n+            } catch (NumberFormatException e) { }\n+        }\n+        throw new IllegalArgumentException(\"file name does not match pattern\");\n","filename":"src\/jdk.internal.jvmstat\/share\/classes\/sun\/jvmstat\/perfdata\/monitor\/protocol\/local\/PerfDataFile.java","additions":27,"deletions":4,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -0,0 +1,43 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.jfr.events;\n+\n+import jdk.jfr.Category;\n+import jdk.jfr.Description;\n+import jdk.jfr.Label;\n+import jdk.jfr.Name;\n+\n+@Category({\"Java Development Kit\", \"Security\"})\n+@Label(\"Initial Security Property\")\n+@Name(\"jdk.InitialSecurityProperty\")\n+@Description(\"Initial Security Properties\")\n+public final class InitialSecurityPropertyEvent extends AbstractJDKEvent {\n+    @Label(\"Key\")\n+    public String key;\n+\n+    @Label(\"Value\")\n+    public String value;\n+}\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/events\/InitialSecurityPropertyEvent.java","additions":43,"deletions":0,"binary":false,"changes":43,"status":"added"},{"patch":"@@ -42,3 +42,0 @@\n-    \/\/ JVM signals file changes by doing Object#notify on this object\n-    static final Object FILE_DELTA_CHANGE = new Object();\n-\n@@ -47,0 +44,9 @@\n+    private static class ChunkRotationMonitor {}\n+\n+    \/*\n+     * The JVM uses the chunk rotation monitor to notify Java that a rotation is warranted.\n+     * The monitor type is used to exclude jdk.JavaMonitorWait events from being generated\n+     * when Object.wait() is called on this monitor.\n+     *\/\n+    static final Object CHUNK_ROTATION_MONITOR = new ChunkRotationMonitor();\n+\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/JVM.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -523,2 +523,2 @@\n-            synchronized (JVM.FILE_DELTA_CHANGE) {\n-                JVM.FILE_DELTA_CHANGE.wait(duration < 10 ? 10 : duration);\n+            synchronized (JVM.CHUNK_ROTATION_MONITOR) {\n+                JVM.CHUNK_ROTATION_MONITOR.wait(duration < 10 ? 10 : duration);\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/PlatformRecorder.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -305,2 +305,2 @@\n-            synchronized (JVM.FILE_DELTA_CHANGE) {\n-                JVM.FILE_DELTA_CHANGE.notifyAll();\n+            synchronized (JVM.CHUNK_ROTATION_MONITOR) {\n+                JVM.CHUNK_ROTATION_MONITOR.notifyAll();\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/RequestEngine.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import java.util.Properties;\n@@ -31,0 +32,1 @@\n+import jdk.internal.access.SharedSecrets;\n@@ -47,0 +49,1 @@\n+import jdk.jfr.events.InitialSecurityPropertyEvent;\n@@ -110,1 +113,2 @@\n-        DirectBufferStatisticsEvent.class\n+        DirectBufferStatisticsEvent.class,\n+        InitialSecurityPropertyEvent.class,\n@@ -133,0 +137,1 @@\n+    private static final Runnable emitInitialSecurityProperties = JDKEvents::emitInitialSecurityProperties;\n@@ -149,0 +154,1 @@\n+                RequestEngine.addTrustedJDKHook(InitialSecurityPropertyEvent.class, emitInitialSecurityProperties);\n@@ -291,0 +297,1 @@\n+        RequestEngine.removeHook(emitInitialSecurityProperties);\n@@ -303,0 +310,12 @@\n+\n+    private static void emitInitialSecurityProperties() {\n+        Properties p = SharedSecrets.getJavaSecurityPropertiesAccess().getInitialProperties();\n+        if (p != null) {\n+            for (String key : p.stringPropertyNames()) {\n+                InitialSecurityPropertyEvent e = new InitialSecurityPropertyEvent();\n+                e.key = key;\n+                e.value = p.getProperty(key);\n+                e.commit();\n+            }\n+        }\n+    }\n","filename":"src\/jdk.jfr\/share\/classes\/jdk\/jfr\/internal\/instrument\/JDKEvents.java","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -543,1 +543,1 @@\n-    <event name=\"jdk.JitRestart\">\n+    <event name=\"jdk.JITRestart\">\n@@ -712,0 +712,5 @@\n+    <event name=\"jdk.InitialSecurityProperty\">\n+      <setting name=\"enabled\">true<\/setting>\n+      <setting name=\"period\">beginChunk<\/setting>\n+    <\/event>\n+\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/default.jfc","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -543,1 +543,1 @@\n-    <event name=\"jdk.JitRestart\">\n+    <event name=\"jdk.JITRestart\">\n@@ -712,0 +712,5 @@\n+    <event name=\"jdk.InitialSecurityProperty\">\n+      <setting name=\"enabled\">true<\/setting>\n+      <setting name=\"period\">beginChunk<\/setting>\n+    <\/event>\n+\n","filename":"src\/jdk.jfr\/share\/conf\/jfr\/profile.jfc","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -45,2 +45,1 @@\n-\/\/ AllowSetForegroundWindow\n-#pragma comment(lib, \"user32\")\n+\/\/ AllowSetForegroundWindow - Requires linking with user32\n","filename":"src\/jdk.jpackage\/windows\/native\/applauncher\/WinLauncher.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-#pragma comment(lib, \"ole32\")\n+\/\/ Code in this file requires linking with ole32\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/Guid.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-#pragma comment(lib, \"msi.lib\")\n+\/\/ Code in this file requires linking with msi.lib\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/MsiCA.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-#pragma comment(lib, \"msi.lib\")\n+\/\/ Code in this file requires linking with msi.lib\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/MsiDb.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-#pragma comment(lib, \"msi.lib\")\n+\/\/ Code in this file requires linking with msi.lib\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/MsiUtils.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -34,2 +34,1 @@\n-\/\/ MessageBox\n-#pragma comment(lib, \"user32\")\n+\/\/ MessageBox - Requires linking with user32\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/WinApp.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -38,2 +38,1 @@\n-\/\/ Needed by FileUtils::isDirectoryNotEmpty\n-#pragma comment(lib, \"shlwapi\")\n+\/\/ Needed by FileUtils::isDirectoryNotEmpty - shlwapi\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/WinFileUtils.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-#pragma comment(lib, \"Shell32\")\n+\/\/ Requires linking with Shell32\n","filename":"src\/jdk.jpackage\/windows\/native\/common\/WinSysInfo.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,1 +30,1 @@\n-#pragma comment(lib, \"advapi32\")\n+\/\/ Requires linking with advapi32\n","filename":"src\/jdk.jpackage\/windows\/native\/libjpackage\/WindowsRegistry.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,0 +33,2 @@\n+import java.security.AccessController;\n+import java.security.PrivilegedExceptionAction;\n@@ -53,0 +55,15 @@\n+    private static int findFirstFreePort() {\n+        PrivilegedExceptionAction<DatagramSocket> action = () -> new DatagramSocket(0);\n+        int port;\n+        try {\n+            @SuppressWarnings({\"deprecated\", \"removal\"})\n+            DatagramSocket ds = AccessController.doPrivileged(action);\n+            try (DatagramSocket ds1 = ds) {\n+                port = ds1.getLocalPort();\n+            }\n+        } catch (Exception x) {\n+            port = 0;\n+        }\n+        return port;\n+    }\n+\n@@ -77,1 +94,4 @@\n-                ports[random.nextInt(capacity)] = port;\n+                \/\/ don't remove the last port\n+                int remove = random.nextInt(capacity);\n+                if ((remove +1) % capacity == index) remove = index;\n+                ports[index = remove] = port;\n@@ -93,1 +113,2 @@\n-    int lastport = 0;\n+    int lastport = findFirstFreePort();\n+    int lastSystemAllocated = lastport;\n@@ -150,0 +171,1 @@\n+            lastSystemAllocated = lastport;\n@@ -155,2 +177,4 @@\n-        boolean farEnough = Integer.bitCount(lastseen ^ lastport) > BIT_DEVIATION\n-                            && Math.abs(lastport - lastseen) > deviation;\n+        boolean farEnough = farEnough(lastseen);\n+        if (farEnough && lastSystemAllocated > 0) {\n+            farEnough = farEnough(lastSystemAllocated);\n+        }\n@@ -171,0 +195,1 @@\n+            lastSystemAllocated = lastport;\n@@ -199,3 +224,1 @@\n-                SocketException e = new SocketException(x.getMessage());\n-                e.initCause(x);\n-                throw e;\n+                throw new SocketException(x.getMessage(), x);\n@@ -221,0 +244,5 @@\n+    private boolean farEnough(int port) {\n+        return Integer.bitCount(port ^ lastport) > BIT_DEVIATION\n+                && Math.abs(port - lastport) > deviation;\n+    }\n+\n@@ -224,2 +252,16 @@\n-            int port = EphemeralPortRange.LOWER\n-                    + random.nextInt(EphemeralPortRange.RANGE);\n+            int port;\n+            boolean suitable;\n+            boolean recycled;\n+            int maxrandom = MAX_RANDOM_TRIES;\n+            do {\n+                port = EphemeralPortRange.LOWER\n+                        + random.nextInt(EphemeralPortRange.RANGE);\n+                recycled = history.contains(port);\n+                suitable = lastport == 0 || (farEnough(port) && !recycled);\n+            } while (maxrandom-- > 0 && !suitable);\n+\n+            \/\/ if no suitable port was found, try again\n+            \/\/ this means we might call random MAX_RANDOM_TRIES x MAX_RANDOM_TRIES\n+            \/\/ times - but that should be OK with MAX_RANDOM_TRIES = 5.\n+            if (!suitable) continue;\n+\n@@ -232,0 +274,2 @@\n+                        lastport = s.getLocalPort();\n+                        if (!recycled) history.add(port);\n@@ -238,1 +282,4 @@\n-                return new DatagramSocket(port);\n+                DatagramSocket s = new DatagramSocket(port);\n+                lastport = s.getLocalPort();\n+                if (!recycled) history.add(port);\n+                return s;\n","filename":"src\/jdk.naming.dns\/share\/classes\/com\/sun\/jndi\/dns\/DNSDatagramSocketFactory.java","additions":58,"deletions":11,"binary":false,"changes":69,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1999, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1999, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,0 +29,3 @@\n+import com.sun.naming.internal.NamingManagerHelper;\n+import com.sun.naming.internal.ObjectFactoriesFilter;\n+\n@@ -501,2 +504,2 @@\n-            return NamingManager.getObjectInstance(obj, name, this,\n-                                                   environment);\n+            return NamingManagerHelper.getObjectInstance(obj, name, this,\n+                    environment, ObjectFactoriesFilter::checkRmiFilter);\n","filename":"src\/jdk.naming.rmi\/share\/classes\/com\/sun\/jndi\/rmi\/registry\/RegistryContext.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,2 @@\n- *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}.\n+ *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}. Limit patterns\n+ *          specified in the filter property are unused.\n@@ -46,0 +47,13 @@\n+ *     <li>{@systemProperty jdk.jndi.rmi.object.factoriesFilter}:\n+ *          <br>The value of this system property defines a filter used by\n+ *          the JDK RMI provider implementation to further restrict the set of object factory classes which will\n+ *          be allowed to instantiate objects from object references returned by RMI systems.\n+ *          The factory class named by the {@linkplain javax.naming.Reference reference instance} first will be\n+ *          matched against this specific filter and then against the global filter. The factory class is rejected\n+ *          if any of these two filters reject it, or if none of them allow it.\n+ *          The filter property supports pattern-based filter syntax with the same format as\n+ *          {@link java.io.ObjectInputFilter.Config#createFilter(String) jdk.serialFilter}. Limit patterns\n+ *          specified in the filter property are unused.\n+ *          <br>The default value allows any object factory class provided by the JDK RMI provider\n+ *          implementation.\n+ *     <\/li>\n","filename":"src\/jdk.naming.rmi\/share\/classes\/module-info.java","additions":16,"deletions":2,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -62,3 +62,1 @@\n-            for (InputNode n : nodeList) {\n-                nodes.add(n);\n-            }\n+            nodes.addAll(nodeList);\n@@ -91,1 +89,1 @@\n-        return new Action[]{(Action) SelectBytecodesAction.findObject(SelectBytecodesAction.class, true)};\n+        return new Action[]{SelectBytecodesAction.findObject(SelectBytecodesAction.class, true)};\n@@ -96,1 +94,1 @@\n-        return (Action) SelectBytecodesAction.findObject(SelectBytecodesAction.class, true);\n+        return SelectBytecodesAction.findObject(SelectBytecodesAction.class, true);\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/java\/com\/sun\/hotspot\/igv\/bytecodes\/BytecodeNode.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-import java.io.Serializable;\n@@ -37,1 +36,1 @@\n-import org.openide.util.*;\n+import org.openide.util.NbBundle;\n@@ -65,1 +64,1 @@\n-        this.add(BorderLayout.CENTER, treeView);\n+        add(BorderLayout.CENTER, treeView);\n@@ -112,5 +111,0 @@\n-    @Override\n-    public Object writeReplace() {\n-        return new ResolvableHelper();\n-    }\n-\n@@ -159,9 +153,0 @@\n-    static final class ResolvableHelper implements Serializable {\n-\n-        private static final long serialVersionUID = 1L;\n-\n-        public Object readResolve() {\n-            return BytecodeViewTopComponent.getDefault();\n-        }\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/java\/com\/sun\/hotspot\/igv\/bytecodes\/BytecodeViewTopComponent.java","additions":2,"deletions":17,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -45,1 +45,1 @@\n-        private String bciString;\n+        private final String bciString;\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/java\/com\/sun\/hotspot\/igv\/bytecodes\/MethodNode.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-    private Set<InputNode> nodes;\n+    private final Set<InputNode> nodes;\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/java\/com\/sun\/hotspot\/igv\/bytecodes\/SelectBytecodesCookie.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -16,0 +16,1 @@\n+                <attr name=\"position\" intvalue=\"1\"\/>\n","filename":"src\/utils\/IdealGraphVisualizer\/Bytecodes\/src\/main\/resources\/com\/sun\/hotspot\/igv\/bytecodes\/layer.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import com.sun.hotspot.igv.layout.Cluster;\n@@ -29,1 +30,0 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n@@ -48,4 +48,4 @@\n-    private BlockWidget from;\n-    private BlockWidget to;\n-    private Port inputSlot;\n-    private Port outputSlot;\n+    private final BlockWidget from;\n+    private final BlockWidget to;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n@@ -53,1 +53,0 @@\n-    private InputBlockEdge edge;\n@@ -60,1 +59,0 @@\n-        this.edge = edge;\n@@ -65,5 +63,1 @@\n-        points = new ArrayList<Point>();\n-    }\n-\n-    public InputBlockEdge getEdge() {\n-        return edge;\n+        points = new ArrayList<>();\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/BlockConnectionWidget.java","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -30,5 +30,1 @@\n-import java.awt.Color;\n-import java.awt.Dimension;\n-import java.awt.Font;\n-import java.awt.Point;\n-import java.awt.Rectangle;\n+import java.awt.*;\n@@ -46,3 +42,3 @@\n-    private InputBlock block;\n-    private Port inputSlot;\n-    private Port outputSlot;\n+    private final InputBlock block;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n@@ -50,1 +46,0 @@\n-    private boolean root;\n@@ -126,9 +121,1 @@\n-        return root;\n-    }\n-\n-    public void setCluster(Cluster c) {\n-        cluster = c;\n-    }\n-\n-    public void setRoot(boolean b) {\n-        root = b;\n+        return false;\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/BlockWidget.java","additions":5,"deletions":18,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.data.InputBlockEdge;\n@@ -28,0 +27,1 @@\n+import com.sun.hotspot.igv.data.InputBlockEdge;\n@@ -29,1 +29,0 @@\n-import com.sun.hotspot.igv.data.services.InputGraphProvider;\n@@ -31,0 +30,1 @@\n+import com.sun.hotspot.igv.data.services.InputGraphProvider;\n@@ -39,6 +39,1 @@\n-import org.netbeans.api.visual.action.ActionFactory;\n-import org.netbeans.api.visual.action.MoveProvider;\n-import org.netbeans.api.visual.action.RectangularSelectDecorator;\n-import org.netbeans.api.visual.action.RectangularSelectProvider;\n-import org.netbeans.api.visual.action.SelectProvider;\n-import org.netbeans.api.visual.action.WidgetAction;\n+import org.netbeans.api.visual.action.*;\n@@ -47,3 +42,0 @@\n-import org.netbeans.api.visual.router.RouterFactory;\n-import org.netbeans.api.visual.widget.LayerWidget;\n-import org.netbeans.api.visual.widget.Widget;\n@@ -54,0 +46,1 @@\n+import org.netbeans.api.visual.router.RouterFactory;\n@@ -55,0 +48,2 @@\n+import org.netbeans.api.visual.widget.LayerWidget;\n+import org.netbeans.api.visual.widget.Widget;\n@@ -62,1 +57,1 @@\n-    private HashSet<BlockWidget> selection;\n+    private final HashSet<BlockWidget> selection;\n@@ -64,6 +59,5 @@\n-    private LayerWidget edgeLayer;\n-    private LayerWidget mainLayer;\n-    private LayerWidget selectLayer;\n-    private WidgetAction hoverAction = this.createWidgetHoverAction();\n-    private WidgetAction selectAction = new DoubleClickSelectAction(this);\n-    private WidgetAction moveAction = ActionFactory.createMoveAction(null, this);\n+    private final LayerWidget edgeLayer;\n+    private final LayerWidget mainLayer;\n+    private final WidgetAction hoverAction = createWidgetHoverAction();\n+    private final WidgetAction selectAction = new DoubleClickSelectAction(this);\n+    private final WidgetAction moveAction = ActionFactory.createMoveAction(null, this);\n@@ -72,1 +66,1 @@\n-        selection = new HashSet<BlockWidget>();\n+        selection = new HashSet<>();\n@@ -74,2 +68,2 @@\n-        this.getInputBindings().setZoomActionModifiers(0);\n-        this.setLayout(LayoutFactory.createAbsoluteLayout());\n+        getInputBindings().setZoomActionModifiers(0);\n+        setLayout(LayoutFactory.createAbsoluteLayout());\n@@ -78,1 +72,1 @@\n-        this.addChild(mainLayer);\n+        addChild(mainLayer);\n@@ -81,1 +75,1 @@\n-        this.addChild(edgeLayer);\n+        addChild(edgeLayer);\n@@ -83,2 +77,2 @@\n-        selectLayer = new LayerWidget(this);\n-        this.addChild(selectLayer);\n+        LayerWidget selectLayer = new LayerWidget(this);\n+        addChild(selectLayer);\n@@ -86,4 +80,4 @@\n-        this.getActions().addAction(hoverAction);\n-        this.getActions().addAction(selectAction);\n-        this.getActions().addAction(ActionFactory.createRectangularSelectAction(this, selectLayer, this));\n-        this.getActions().addAction(ActionFactory.createMouseCenteredZoomAction(1.1));\n+        getActions().addAction(hoverAction);\n+        getActions().addAction(selectAction);\n+        getActions().addAction(ActionFactory.createRectangularSelectAction(this, selectLayer, this));\n+        getActions().addAction(ActionFactory.createMouseCenteredZoomAction(1.1));\n@@ -98,1 +92,1 @@\n-        ArrayList<InputBlock> blocks = new ArrayList<InputBlock>(this.getNodes());\n+        ArrayList<InputBlock> blocks = new ArrayList<>(getNodes());\n@@ -103,1 +97,1 @@\n-        ArrayList<InputBlockEdge> edges = new ArrayList<InputBlockEdge>(this.getEdges());\n+        ArrayList<InputBlockEdge> edges = new ArrayList<>(getEdges());\n@@ -116,2 +110,2 @@\n-            this.setEdgeSource(e, e.getFrom());\n-            this.setEdgeTarget(e, e.getTo());\n+            setEdgeSource(e, e.getFrom());\n+            setEdgeTarget(e, e.getTo());\n@@ -120,1 +114,1 @@\n-        GraphLayout<InputBlock, InputBlockEdge> layout = new HierarchicalGraphLayout<InputBlock, InputBlockEdge>();\/\/GridGraphLayout();\n+        GraphLayout<InputBlock, InputBlockEdge> layout = new HierarchicalGraphLayout<>();\n@@ -124,1 +118,1 @@\n-        this.validate();\n+        validate();\n@@ -138,1 +132,1 @@\n-            Set<InputNode> inputNodes = new HashSet<InputNode>();\n+            Set<InputNode> inputNodes = new HashSet<>();\n@@ -158,0 +152,1 @@\n+    @Override\n@@ -162,0 +157,1 @@\n+    @Override\n@@ -166,0 +162,1 @@\n+    @Override\n@@ -188,2 +185,2 @@\n-    public void movementStarted(Widget widget) {\n-    }\n+    @Override\n+    public void movementStarted(Widget widget) {}\n@@ -191,2 +188,3 @@\n-    public void movementFinished(Widget widget) {\n-    }\n+    @Override\n+\n+    public void movementFinished(Widget widget) {}\n@@ -194,0 +192,1 @@\n+    @Override\n@@ -198,0 +197,1 @@\n+    @Override\n@@ -199,1 +199,2 @@\n-        if (selection.contains(widget)) {\n+        assert widget instanceof BlockWidget;\n+        if (selection.contains((BlockWidget) widget)) {\n@@ -214,0 +215,1 @@\n+    @Override\n@@ -222,0 +224,1 @@\n+    @Override\n@@ -235,1 +238,1 @@\n-        for (InputBlock b : this.getNodes()) {\n+        for (InputBlock b : getNodes()) {\n@@ -260,0 +263,1 @@\n+    @Override\n@@ -269,0 +273,1 @@\n+    @Override\n@@ -285,0 +290,1 @@\n+    @Override\n@@ -286,1 +292,1 @@\n-        Widget w = this.findWidget(edge);\n+        Widget w = findWidget(edge);\n@@ -293,0 +299,1 @@\n+    @Override\n@@ -294,1 +301,1 @@\n-        Widget w = this.findWidget(edge);\n+        Widget w = findWidget(edge);\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/ControlFlowScene.java","additions":51,"deletions":44,"binary":false,"changes":95,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import java.io.Serializable;\n@@ -54,3 +53,2 @@\n-        this.setLayout(new BorderLayout());\n-        this.associateLookup(scene.getLookup());\n-\n+        setLayout(new BorderLayout());\n+        associateLookup(scene.getLookup());\n@@ -59,1 +57,1 @@\n-        this.add(panel, BorderLayout.CENTER);\n+        add(panel, BorderLayout.CENTER);\n@@ -117,5 +115,0 @@\n-    @Override\n-    public Object writeReplace() {\n-        return new ResolvableHelper();\n-    }\n-\n@@ -133,9 +126,0 @@\n-    static final class ResolvableHelper implements Serializable {\n-\n-        private static final long serialVersionUID = 1L;\n-\n-        public Object readResolve() {\n-            return ControlFlowTopComponent.getDefault();\n-        }\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/ControlFlowTopComponent.java","additions":3,"deletions":19,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -27,5 +27,1 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n-import com.sun.hotspot.igv.layout.LayoutGraph;\n-import com.sun.hotspot.igv.layout.Link;\n-import com.sun.hotspot.igv.layout.Port;\n-import com.sun.hotspot.igv.layout.Vertex;\n+import com.sun.hotspot.igv.layout.*;\n@@ -34,7 +30,1 @@\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.HashMap;\n-import java.util.LinkedHashSet;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Set;\n+import java.util.*;\n@@ -51,2 +41,1 @@\n-    public HierarchicalGraphLayout() {\n-    }\n+    public HierarchicalGraphLayout() {}\n@@ -56,2 +45,2 @@\n-        private VertexWrapper from;\n-        private VertexWrapper to;\n+        private final VertexWrapper from;\n+        private final VertexWrapper to;\n@@ -81,1 +70,1 @@\n-            return new ArrayList<Point>();\n+            return new ArrayList<>();\n@@ -95,3 +84,3 @@\n-        private N node;\n-        private UniversalGraph<N, E> graph;\n-        private Port slot;\n+        private final N node;\n+        private final UniversalGraph<N, E> graph;\n+        private final Port slot;\n@@ -125,0 +114,1 @@\n+            assert w.getBounds() != null;\n@@ -154,3 +144,3 @@\n-        Set<LinkWrapper> links = new LinkedHashSet<LinkWrapper>();\n-        Set<VertexWrapper> vertices = new LinkedHashSet<VertexWrapper>();\n-        Map<N, VertexWrapper> vertexMap = new HashMap<N, VertexWrapper>();\n+        Set<LinkWrapper> links = new LinkedHashSet<>();\n+        Set<VertexWrapper> vertices = new LinkedHashSet<>();\n+        Map<N, VertexWrapper> vertexMap = new HashMap<>();\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/java\/com\/sun\/hotspot\/igv\/controlflow\/HierarchicalGraphLayout.java","additions":13,"deletions":23,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -13,0 +13,1 @@\n+                <attr name=\"position\" intvalue=\"2\"\/>\n","filename":"src\/utils\/IdealGraphVisualizer\/ControlFlow\/src\/main\/resources\/com\/sun\/hotspot\/igv\/controlflow\/layer.xml","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -31,1 +31,0 @@\n-import java.util.List;\n@@ -33,0 +32,1 @@\n+import java.util.List;\n@@ -48,2 +48,2 @@\n-    private InstanceContent content;\n-    private FolderChildren children;\n+    private final InstanceContent content;\n+    private final FolderChildren children;\n@@ -52,1 +52,1 @@\n-    private static Map<InputGraph, GraphNode> graphNode = new HashMap<>();\n+    private static final Map<InputGraph, GraphNode> graphNode = new HashMap<>();\n@@ -131,6 +131,3 @@\n-            content.add(new RemoveCookie() {\n-                @Override\n-                public void remove() {\n-                    children.destroyNodes(children.getNodes());\n-                    folderElement.getParent().removeElement(folderElement);\n-                }\n+            content.add((RemoveCookie) () -> {\n+                children.destroyNodes(children.getNodes());\n+                folderElement.getParent().removeElement(folderElement);\n@@ -166,1 +163,1 @@\n-        return (folder != null && folder instanceof GraphDocument);\n+        return (folder instanceof GraphDocument);\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/FolderNode.java","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -26,6 +26,1 @@\n-import com.sun.hotspot.igv.coordinator.actions.CloneGraphAction;\n-import com.sun.hotspot.igv.coordinator.actions.DiffGraphAction;\n-import com.sun.hotspot.igv.coordinator.actions.DiffGraphCookie;\n-import com.sun.hotspot.igv.coordinator.actions.GraphCloneCookie;\n-import com.sun.hotspot.igv.coordinator.actions.GraphOpenCookie;\n-import com.sun.hotspot.igv.coordinator.actions.GraphRemoveCookie;\n+import com.sun.hotspot.igv.coordinator.actions.*;\n@@ -40,6 +35,1 @@\n-import org.openide.nodes.AbstractNode;\n-import org.openide.nodes.Children;\n-import org.openide.nodes.NodeAdapter;\n-import org.openide.nodes.NodeEvent;\n-import org.openide.nodes.NodeMemberEvent;\n-import org.openide.nodes.Sheet;\n+import org.openide.nodes.*;\n@@ -135,1 +125,1 @@\n-        return new Action[]{(Action) DiffGraphAction.findObject(DiffGraphAction.class, true), (Action) CloneGraphAction.findObject(CloneGraphAction.class, true), (Action) OpenAction.findObject(OpenAction.class, true)};\n+        return new Action[]{DiffGraphAction.findObject(DiffGraphAction.class, true), CloneGraphAction.findObject(CloneGraphAction.class, true), OpenAction.findObject(OpenAction.class, true)};\n@@ -140,1 +130,1 @@\n-        return (Action) OpenAction.findObject(OpenAction.class, true);\n+        return OpenAction.findObject(OpenAction.class, true);\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/GraphNode.java","additions":4,"deletions":14,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -40,1 +40,0 @@\n-import java.io.Serializable;\n@@ -69,2 +68,0 @@\n-    private Server server;\n-    private Server binaryServer;\n@@ -141,2 +138,1 @@\n-        server = new Server(getDocument(), callback, false);\n-        binaryServer = new Server(getDocument(), callback, true);\n+        new Server(callback);\n@@ -289,9 +285,0 @@\n-    static final class ResolvableHelper implements Serializable {\n-\n-        private static final long serialVersionUID = 1L;\n-\n-        public Object readResolve() {\n-            return OutlineTopComponent.getDefault();\n-        }\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/OutlineTopComponent.java","additions":1,"deletions":14,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n-import com.sun.hotspot.igv.data.serialization.BinaryParser;\n@@ -34,1 +33,0 @@\n-import java.awt.event.ActionEvent;\n@@ -36,1 +34,0 @@\n-import java.io.FileNotFoundException;\n@@ -42,0 +39,1 @@\n+import javax.swing.Action;\n@@ -45,1 +43,0 @@\n-import javax.swing.Action;\n@@ -48,4 +45,1 @@\n-import org.openide.util.Exceptions;\n-import org.openide.util.RequestProcessor;\n-import org.openide.util.HelpCtx;\n-import org.openide.util.NbBundle;\n+import org.openide.util.*;\n@@ -53,1 +47,0 @@\n-import org.openide.util.Utilities;\n@@ -68,1 +61,1 @@\n-                return f.getName().toLowerCase().endsWith(\".xml\") || f.getName().toLowerCase().endsWith(\".bgv\") || f.isDirectory();\n+                return f.getName().toLowerCase().endsWith(\".xml\") || f.isDirectory();\n@@ -73,1 +66,1 @@\n-                return \"Graph files (*.xml, *.bgv)\";\n+                return \"Graph files (*.xml)\";\n@@ -105,2 +98,1 @@\n-                                } catch (IOException ex) {\n-                                }\n+                                } catch (IOException ignored) {}\n@@ -118,2 +110,0 @@\n-                    } else if (file.getName().endsWith(\".bgv\")) {\n-                        parser = new BinaryParser(channel, monitor, component.getDocument(), null);\n@@ -129,7 +119,4 @@\n-                                        SwingUtilities.invokeLater(new Runnable(){\n-                                                @Override\n-                                                public void run() {\n-                                                    component.requestActive();\n-                                                    component.getDocument().addGraphDocument(document);\n-                                                }\n-                                            });\n+                                        SwingUtilities.invokeLater(() -> {\n+                                            component.requestActive();\n+                                            component.getDocument().addGraphDocument(document);\n+                                        });\n@@ -145,2 +132,0 @@\n-                } catch (FileNotFoundException ex) {\n-                    Exceptions.printStackTrace(ex);\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/ImportAction.java","additions":10,"deletions":25,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -28,2 +28,0 @@\n-import java.awt.event.InputEvent;\n-import java.awt.event.KeyEvent;\n@@ -31,1 +29,0 @@\n-import javax.swing.KeyStroke;\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/RemoveAllAction.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -28,2 +28,0 @@\n-import java.awt.event.InputEvent;\n-import java.awt.event.KeyEvent;\n@@ -31,1 +29,0 @@\n-import javax.swing.KeyStroke;\n@@ -34,2 +31,0 @@\n-import org.openide.util.NbBundle.Messages;\n-import org.openide.util.actions.CallableSystemAction;\n@@ -37,0 +32,1 @@\n+import org.openide.util.actions.CallableSystemAction;\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/SaveAllAction.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import com.sun.hotspot.igv.coordinator.OutlineTopComponent;\n@@ -34,1 +33,5 @@\n-import java.io.*;\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.OutputStreamWriter;\n+import java.io.Writer;\n+import java.nio.file.Files;\n@@ -40,1 +43,0 @@\n-import org.openide.util.actions.CookieAction;\n@@ -55,1 +57,0 @@\n-        final OutlineTopComponent component = OutlineTopComponent.findInstance();\n@@ -87,1 +88,1 @@\n-                try (Writer writer = new OutputStreamWriter(new FileOutputStream(file))) {\n+                try (Writer writer = new OutputStreamWriter(Files.newOutputStream(file.toPath()))) {\n@@ -91,2 +92,0 @@\n-            } catch (FileNotFoundException e) {\n-                e.printStackTrace();\n@@ -95,1 +94,0 @@\n-\n@@ -100,4 +98,0 @@\n-    protected int mode() {\n-        return CookieAction.MODE_SOME;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/coordinator\/actions\/SaveAsAction.java","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    \n+\n@@ -49,0 +49,1 @@\n+            <attr name=\"position\" intvalue=\"50\"\/>\n@@ -99,1 +100,1 @@\n-        \n+\n@@ -101,0 +102,1 @@\n+            <attr name=\"position\" intvalue=\"100\"\/>\n@@ -133,1 +135,1 @@\n-        \n+\n@@ -135,0 +137,1 @@\n+            <attr name=\"position\" intvalue=\"150\"\/>\n@@ -151,1 +154,1 @@\n-        \n+\n@@ -162,0 +165,1 @@\n+            <attr name=\"position\" intvalue=\"200\"\/>\n@@ -164,0 +168,1 @@\n+                <attr name=\"position\" intvalue=\"1\"\/>\n@@ -168,0 +173,1 @@\n+            <attr name=\"position\" intvalue=\"250\"\/>\n@@ -170,0 +176,1 @@\n+                <attr name=\"position\" intvalue=\"4\"\/>\n@@ -191,0 +198,1 @@\n+            <attr name=\"position\" intvalue=\"300\"\/>\n@@ -217,1 +225,1 @@\n-    \n+\n@@ -222,1 +230,1 @@\n-        <folder name=\"Modes\">  \n+        <folder name=\"Modes\">\n","filename":"src\/utils\/IdealGraphVisualizer\/Coordinator\/src\/main\/resources\/com\/sun\/hotspot\/igv\/coordinator\/layer.xml","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -33,1 +33,1 @@\n-    private T object;\n+    private final T object;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/ChangedEvent.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    private List<L> listener;\n+    private final List<L> listener;\n@@ -48,4 +48,0 @@\n-    \/**\n-     * Remove listener\n-     * @param l\n-     *\/\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Event.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -35,2 +35,2 @@\n-    private List<FolderElement> elements;\n-    private ChangedEvent<GraphDocument> changedEvent;\n+    private final List<FolderElement> elements;\n+    private final ChangedEvent<GraphDocument> changedEvent;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/GraphDocument.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -34,1 +34,0 @@\n-    private final List<FolderElement> elements;\n@@ -36,1 +35,0 @@\n-\n@@ -38,1 +36,1 @@\n-    private transient ChangedEvent<Group> changedEvent;\n+    private final transient ChangedEvent<Group> changedEvent;\n@@ -42,1 +40,0 @@\n-        elements = new ArrayList<>();\n@@ -47,1 +44,1 @@\n-        \/\/ Ensure that name and type are never null\n+        \/\/ Ensure that name is never null\n@@ -49,5 +46,0 @@\n-        getProperties().setProperty(\"type\", \"\");\n-    }\n-\n-    public void fireChangedEvent() {\n-        changedEvent.fire();\n@@ -70,2 +62,5 @@\n-    public List<FolderElement> getElements() {\n-        return Collections.unmodifiableList(elements);\n+    public void addElement(FolderElement element) {\n+        assert element instanceof InputGraph;\n+        graphs.add((InputGraph) element);\n+        element.setParent(this);\n+        getChangedEvent().fire();\n@@ -74,2 +69,6 @@\n-    public int getGraphsCount() {\n-        return elements.size();\n+    @Override\n+    public void removeElement(FolderElement element) {\n+        assert element instanceof InputGraph;\n+        if (graphs.remove((InputGraph) element)) {\n+            getChangedEvent().fire();\n+        }\n@@ -79,5 +78,3 @@\n-    public void addElement(FolderElement element) {\n-        elements.add(element);\n-        if (element instanceof InputGraph) {\n-            graphs.add((InputGraph) element);\n-        } else {\n+    public List<FolderElement> getElements() {\n+        return Collections.unmodifiableList(graphs);\n+    }\n@@ -85,3 +82,2 @@\n-        }\n-        element.setParent(this);\n-        changedEvent.fire();\n+    public List<InputGraph> getGraphs() {\n+        return Collections.unmodifiableList(graphs);\n@@ -92,5 +88,2 @@\n-        for (FolderElement e : elements) {\n-            if (e instanceof InputGraph) {\n-                InputGraph g = (InputGraph) e;\n-                result.addAll(g.getNodesAsSet());\n-            }\n+        for (InputGraph g : graphs) {\n+            result.addAll(g.getNodesAsSet());\n@@ -105,1 +98,1 @@\n-        for (FolderElement g : elements) {\n+        for (FolderElement g : getElements()) {\n@@ -124,1 +117,1 @@\n-        for (FolderElement e : elements) {\n+        for (FolderElement e : getElements()) {\n@@ -137,1 +130,1 @@\n-        for (FolderElement e : elements) {\n+        for (FolderElement e : getElements()) {\n@@ -147,10 +140,0 @@\n-    public InputGraph getLastGraph() {\n-        InputGraph lastGraph = null;\n-        for (FolderElement e : elements) {\n-            if (e instanceof InputGraph) {\n-                lastGraph = (InputGraph) e;\n-            }\n-        }\n-        return lastGraph;\n-    }\n-\n@@ -161,15 +144,0 @@\n-\n-    @Override\n-    public void removeElement(FolderElement element) {\n-        if (elements.remove(element)) {\n-            if (element instanceof InputGraph) {\n-                graphs.remove((InputGraph) element);\n-            }\n-            changedEvent.fire();\n-        }\n-    }\n-\n-    public List<InputGraph> getGraphs() {\n-        return graphs;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Group.java","additions":24,"deletions":56,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -35,3 +35,3 @@\n-    private String name;\n-    private InputGraph graph;\n-    private Set<InputBlock> successors;\n+    private final String name;\n+    private final InputGraph graph;\n+    private final Set<InputBlock> successors;\n@@ -52,1 +52,1 @@\n-        if (o == null || (!(o instanceof InputBlock))) {\n+        if ((!(o instanceof InputBlock))) {\n@@ -116,3 +116,1 @@\n-        if (!successors.contains(b)) {\n-            successors.add(b);\n-        }\n+        successors.add(b);\n@@ -121,2 +119,2 @@\n-    void setArtificial(boolean artificial) {\n-        this.artificial = artificial;\n+    void setArtificial() {\n+        this.artificial = true;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputBlock.java","additions":7,"deletions":9,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -38,2 +38,2 @@\n-    private InputBlock from;\n-    private InputBlock to;\n+    private final InputBlock from;\n+    private final InputBlock to;\n@@ -41,1 +41,1 @@\n-    private String label;\n+    private final String label;\n@@ -73,1 +73,1 @@\n-        if (obj != null && obj instanceof InputBlockEdge) {\n+        if (obj instanceof InputBlockEdge) {\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputBlockEdge.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -32,4 +32,4 @@\n-    private int bci;\n-    private String name;\n-    private String operands;\n-    private String comment;\n+    private final int bci;\n+    private final String name;\n+    private final String operands;\n+    private final String comment;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputBytecode.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,2 +27,1 @@\n-import java.util.WeakHashMap;\n-import java.lang.ref.WeakReference;\n+import java.util.Objects;\n@@ -43,8 +42,3 @@\n-    public static final Comparator<InputEdge> OUTGOING_COMPARATOR = new Comparator<InputEdge>(){\n-\n-        @Override\n-            public int compare(InputEdge o1, InputEdge o2) {\n-                if(o1.getFromIndex() == o2.getFromIndex()) {\n-                    return o1.getTo() - o2.getTo();\n-                }\n-                return o1.getFromIndex() - o2.getFromIndex();\n+    public static final Comparator<InputEdge> OUTGOING_COMPARATOR = (o1, o2) -> {\n+            if (o1.getFromIndex() == o2.getFromIndex()) {\n+                return o1.getTo() - o2.getTo();\n@@ -52,3 +46,2 @@\n-    };\n-\n-    public static final Comparator<InputEdge> INGOING_COMPARATOR = new Comparator<InputEdge>(){\n+            return o1.getFromIndex() - o2.getFromIndex();\n+        };\n@@ -56,6 +49,3 @@\n-        @Override\n-            public int compare(InputEdge o1, InputEdge o2) {\n-                if(o1.getToIndex() == o2.getToIndex()) {\n-                    return o1.getFrom() - o2.getFrom();\n-                }\n-                return o1.getToIndex() - o2.getToIndex();\n+    public static final Comparator<InputEdge> INGOING_COMPARATOR = (o1, o2) -> {\n+            if (o1.getToIndex() == o2.getToIndex()) {\n+                return o1.getFrom() - o2.getFrom();\n@@ -63,1 +53,2 @@\n-    };\n+            return o1.getToIndex() - o2.getToIndex();\n+        };\n@@ -73,8 +64,0 @@\n-    public InputEdge(char toIndex, int from, int to) {\n-        this((char) 0, toIndex, from, to, null, null);\n-    }\n-\n-    public InputEdge(char fromIndex, char toIndex, int from, int to) {\n-        this(fromIndex, toIndex, from, to, null, null);\n-    }\n-\n@@ -91,25 +74,0 @@\n-    static WeakHashMap<InputEdge, WeakReference<InputEdge>> immutableCache = new WeakHashMap<>();\n-\n-    public static synchronized InputEdge createImmutable(char fromIndex, char toIndex, int from, int to, String label, String type) {\n-        InputEdge edge = new InputEdge(fromIndex, toIndex, from, to, label, type, State.IMMUTABLE);\n-        WeakReference<InputEdge> result = immutableCache.get(edge);\n-        if (result != null) {\n-            InputEdge edge2 = result.get();\n-            if (edge2 != null) {\n-                return edge2;\n-            }\n-        }\n-        immutableCache.put(edge, new WeakReference<>(edge));\n-        return edge;\n-    }\n-\n-    public InputEdge(char fromIndex, char toIndex, int from, int to, String label, String type, State state) {\n-        this.toIndex = toIndex;\n-        this.fromIndex = fromIndex;\n-        this.from = from;\n-        this.to = to;\n-        this.state = state;\n-        this.label = label;\n-        this.type = type;\n-    }\n-\n@@ -157,1 +115,1 @@\n-        if (o == null || !(o instanceof InputEdge)) {\n+        if (!(o instanceof InputEdge)) {\n@@ -164,1 +122,1 @@\n-            return conn2.label == label && conn2.state == state;\n+            return Objects.equals(conn2.label, label) && conn2.state == state;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputEdge.java","additions":14,"deletions":56,"binary":false,"changes":70,"status":"modified"},{"patch":"@@ -34,2 +34,2 @@\n-    private Map<Integer, InputNode> nodes;\n-    private List<InputEdge> edges;\n+    private final Map<Integer, InputNode> nodes;\n+    private final List<InputEdge> edges;\n@@ -38,3 +38,3 @@\n-    private Map<String, InputBlock> blocks;\n-    private List<InputBlockEdge> blockEdges;\n-    private Map<Integer, InputBlock> nodeToBlock;\n+    private final Map<String, InputBlock> blocks;\n+    private final List<InputBlockEdge> blockEdges;\n+    private final Map<Integer, InputBlock> nodeToBlock;\n@@ -67,1 +67,1 @@\n-        return this.isDiffGraph;\n+        return isDiffGraph;\n@@ -117,1 +117,1 @@\n-            result.put(n, new ArrayList<InputEdge>());\n+            result.put(n, new ArrayList<>());\n@@ -178,10 +178,0 @@\n-    public void setEdge(int fromIndex, int toIndex, int from, int to) {\n-        assert fromIndex == ((char)fromIndex) : \"Downcast must be safe\";\n-        assert toIndex == ((char)toIndex) : \"Downcast must be safe\";\n-\n-        InputEdge edge = new InputEdge((char)fromIndex, (char)toIndex, from, to);\n-        if(!this.getEdges().contains(edge)) {\n-            this.addEdge(edge);\n-        }\n-    }\n-\n@@ -307,1 +297,1 @@\n-        b.setArtificial(true);\n+        b.setArtificial();\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputGraph.java","additions":8,"deletions":18,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -38,4 +38,4 @@\n-    private String name;\n-    private int bci;\n-    private String shortName;\n-    private List<InputMethod> inlined;\n+    private final String name;\n+    private final int bci;\n+    private final String shortName;\n+    private final List<InputMethod> inlined;\n@@ -43,2 +43,2 @@\n-    private Group group;\n-    private List<InputBytecode> bytecodes;\n+    private final Group group;\n+    private final List<InputBytecode> bytecodes;\n@@ -58,1 +58,1 @@\n-        if (o == null || (!(o instanceof InputMethod))) {\n+        if ((!(o instanceof InputMethod))) {\n@@ -61,2 +61,1 @@\n-\n-        final InputMethod im = (InputMethod)o;\n+        final InputMethod im = (InputMethod) o;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputMethod.java","additions":8,"deletions":9,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -26,4 +26,0 @@\n-import java.util.ArrayList;\n-import java.util.Comparator;\n-import java.util.List;\n-\n@@ -37,31 +33,0 @@\n-    private List<InputGraph> subgraphs;\n-\n-    public static final Comparator<InputNode> COMPARATOR = new Comparator<InputNode>() {\n-        @Override\n-        public int compare(InputNode o1, InputNode o2) {\n-            return o1.getId() - o2.getId();\n-        }\n-    };\n-\n-    public static Comparator<InputNode> getPropertyComparator(final String propertyName) {\n-        return new Comparator<InputNode>() {\n-\n-            @Override\n-            public int compare(InputNode o1, InputNode o2) {\n-\n-                int i1 = 0;\n-                try {\n-                    i1 = Integer.parseInt(o1.getProperties().get(propertyName));\n-                } catch(NumberFormatException e) {\n-                }\n-\n-                int i2 = 0;\n-                try {\n-                    i2 = Integer.parseInt(o2.getProperties().get(propertyName));\n-                } catch(NumberFormatException e) {\n-                }\n-\n-                return i1 - i2;\n-            }\n-        };\n-    }\n@@ -86,11 +51,0 @@\n-    public void addSubgraph(InputGraph graph) {\n-        if (subgraphs == null) {\n-            subgraphs = new ArrayList<>();\n-        }\n-        subgraphs.add(graph);\n-    }\n-\n-    public List<InputGraph> getSubgraphs() {\n-        return subgraphs;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/InputNode.java","additions":0,"deletions":46,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -61,1 +61,1 @@\n-        if (o == null || !(o instanceof Pair)) {\n+        if (!(o instanceof Pair<?, ?>)) {\n@@ -64,1 +64,1 @@\n-        Pair<?,?> obj = (Pair<?,?>) o;\n+        Pair<?, ?> obj = (Pair<?, ?>) o;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Pair.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.util.Map.Entry;\n@@ -191,1 +190,1 @@\n-        private PropertyMatcher matcher;\n+        private final PropertyMatcher matcher;\n@@ -213,2 +212,2 @@\n-        private String name;\n-        private String value;\n+        private final String name;\n+        private final String value;\n@@ -243,2 +242,2 @@\n-        private String name;\n-        private Pattern valuePattern;\n+        private final String name;\n+        private final Pattern valuePattern;\n@@ -315,7 +314,4 @@\n-        pairs.sort(new Comparator<String[]>() {\n-            @Override\n-            public int compare(String[] o1, String[] o2) {\n-                assert o1.length == 2;\n-                assert o2.length == 2;\n-                return o1[0].compareTo(o2[0]);\n-            }\n+        pairs.sort((o1, o2) -> {\n+            assert o1.length == 2;\n+            assert o2.length == 2;\n+            return o1[0].compareTo(o2[0]);\n@@ -340,1 +336,1 @@\n-        private Collection<T> objects;\n+        private final Collection<T> objects;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Properties.java","additions":10,"deletions":14,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -35,2 +35,2 @@\n-    private String name;\n-    private String value;\n+    private final String name;\n+    private final String value;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Property.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -34,2 +34,2 @@\n-    private List<InputNode> sourceNodes;\n-    private Set<Integer> set;\n+    private final List<InputNode> sourceNodes;\n+    private final Set<Integer> set;\n@@ -59,1 +59,1 @@\n-        public Source getSource();\n+        Source getSource();\n@@ -62,5 +62,0 @@\n-    public void addSourceNodes(Source s) {\n-        for (InputNode n : s.getSourceNodes()) {\n-            addSourceNode(n);\n-        }\n-    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/Source.java","additions":3,"deletions":8,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -1,937 +0,0 @@\n-\/*\n- * Copyright (c) 2012, 2021, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.  Oracle designates this\n- * particular file as subject to the \"Classpath\" exception as provided\n- * by Oracle in the LICENSE file that accompanied this code.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-package com.sun.hotspot.igv.data.serialization;\n-\n-import com.sun.hotspot.igv.data.*;\n-import com.sun.hotspot.igv.data.Properties;\n-import com.sun.hotspot.igv.data.services.GroupCallback;\n-import java.io.EOFException;\n-import java.io.IOException;\n-import java.nio.ByteBuffer;\n-import java.nio.channels.ReadableByteChannel;\n-import java.util.*;\n-import java.util.regex.Matcher;\n-import java.util.regex.Pattern;\n-import javax.swing.SwingUtilities;\n-import java.security.MessageDigest;\n-import java.security.NoSuchAlgorithmException;\n-\n-import static java.nio.charset.StandardCharsets.UTF_8;\n-\n-public class BinaryParser implements GraphParser {\n-    private static final int BEGIN_GROUP = 0x00;\n-    private static final int BEGIN_GRAPH = 0x01;\n-    private static final int CLOSE_GROUP = 0x02;\n-\n-    private static final int POOL_NEW = 0x00;\n-    private static final int POOL_STRING = 0x01;\n-    private static final int POOL_ENUM = 0x02;\n-    private static final int POOL_CLASS = 0x03;\n-    private static final int POOL_METHOD = 0x04;\n-    private static final int POOL_NULL = 0x05;\n-    private static final int POOL_NODE_CLASS = 0x06;\n-    private static final int POOL_FIELD = 0x07;\n-    private static final int POOL_SIGNATURE = 0x08;\n-\n-    private static final int KLASS = 0x00;\n-    private static final int ENUM_KLASS = 0x01;\n-\n-    private static final int PROPERTY_POOL = 0x00;\n-    private static final int PROPERTY_INT = 0x01;\n-    private static final int PROPERTY_LONG = 0x02;\n-    private static final int PROPERTY_DOUBLE = 0x03;\n-    private static final int PROPERTY_FLOAT = 0x04;\n-    private static final int PROPERTY_TRUE = 0x05;\n-    private static final int PROPERTY_FALSE = 0x06;\n-    private static final int PROPERTY_ARRAY = 0x07;\n-    private static final int PROPERTY_SUBGRAPH = 0x08;\n-\n-    private static final String NO_BLOCK = \"noBlock\";\n-\n-    private final GroupCallback callback;\n-    private final List<Object> constantPool;\n-    private final ByteBuffer buffer;\n-    private final ReadableByteChannel channel;\n-    private final GraphDocument rootDocument;\n-    private final Deque<Folder> folderStack;\n-    private final Deque<byte[]> hashStack;\n-    private final ParseMonitor monitor;\n-\n-    private MessageDigest digest;\n-\n-    private enum Length {\n-        S,\n-        M,\n-        L\n-    }\n-\n-    private interface LengthToString {\n-        String toString(Length l);\n-    }\n-\n-    private abstract static class Member implements LengthToString {\n-        public final Klass holder;\n-        public final int accessFlags;\n-        public final String name;\n-        public Member(Klass holder, String name, int accessFlags) {\n-            this.holder = holder;\n-            this.accessFlags = accessFlags;\n-            this.name = name;\n-        }\n-    }\n-\n-    private static class Method extends Member {\n-        public final Signature signature;\n-        public final byte[] code;\n-        public Method(String name, Signature signature, byte[] code, Klass holder, int accessFlags) {\n-            super(holder, name, accessFlags);\n-            this.signature = signature;\n-            this.code = code;\n-        }\n-        @Override\n-        public String toString() {\n-            StringBuilder sb = new StringBuilder();\n-            sb.append(holder).append('.').append(name).append('(');\n-            for (int i = 0; i < signature.argTypes.length; i++) {\n-                if (i > 0) {\n-                    sb.append(\", \");\n-                }\n-                sb.append(signature.argTypes[i]);\n-            }\n-            sb.append(')');\n-            return sb.toString();\n-        }\n-        @Override\n-        public String toString(Length l) {\n-            switch(l) {\n-                case M:\n-                    return holder.toString(Length.L) + \".\" + name;\n-                case S:\n-                    return holder.toString(Length.S) + \".\" + name;\n-                default:\n-                case L:\n-                    return toString();\n-            }\n-        }\n-    }\n-\n-    private static class Signature {\n-        public final String returnType;\n-        public final String[] argTypes;\n-        public Signature(String returnType, String[] argTypes) {\n-            this.returnType = returnType;\n-            this.argTypes = argTypes;\n-        }\n-    }\n-\n-    private static class Field extends Member {\n-        public final String type;\n-        public Field(String type, Klass holder, String name, int accessFlags) {\n-            super(holder, name, accessFlags);\n-            this.type = type;\n-        }\n-        @Override\n-        public String toString() {\n-            return holder + \".\" + name;\n-        }\n-        @Override\n-        public String toString(Length l) {\n-            switch(l) {\n-                case M:\n-                    return holder.toString(Length.L) + \".\" + name;\n-                case S:\n-                    return holder.toString(Length.S) + \".\" + name;\n-                default:\n-                case L:\n-                    return toString();\n-            }\n-        }\n-    }\n-\n-    private static class Klass implements LengthToString {\n-        public final String name;\n-        public final String simpleName;\n-        public Klass(String name) {\n-            this.name = name;\n-            String simple;\n-            try {\n-                simple = name.substring(name.lastIndexOf('.') + 1);\n-            } catch (IndexOutOfBoundsException ioobe) {\n-                simple = name;\n-            }\n-            this.simpleName = simple;\n-        }\n-        @Override\n-        public String toString() {\n-            return name;\n-        }\n-        @Override\n-        public String toString(Length l) {\n-            switch(l) {\n-                case S:\n-                    return simpleName;\n-                default:\n-                case L:\n-                case M:\n-                    return toString();\n-            }\n-        }\n-    }\n-\n-    private static class EnumKlass extends Klass {\n-        public final String[] values;\n-        public EnumKlass(String name, String[] values) {\n-            super(name);\n-            this.values = values;\n-        }\n-    }\n-\n-    private static class Port {\n-        public final boolean isList;\n-        public final String name;\n-        private Port(boolean isList, String name) {\n-            this.isList = isList;\n-            this.name = name;\n-        }\n-    }\n-\n-    private static class TypedPort extends Port {\n-        public final EnumValue type;\n-        private TypedPort(boolean isList, String name, EnumValue type) {\n-            super(isList, name);\n-            this.type = type;\n-        }\n-    }\n-\n-    private static class NodeClass {\n-        public final String className;\n-        public final String nameTemplate;\n-        public final List<TypedPort> inputs;\n-        public final List<Port> sux;\n-        private NodeClass(String className, String nameTemplate, List<TypedPort> inputs, List<Port> sux) {\n-            this.className = className;\n-            this.nameTemplate = nameTemplate;\n-            this.inputs = inputs;\n-            this.sux = sux;\n-        }\n-        @Override\n-        public String toString() {\n-            return className;\n-        }\n-    }\n-\n-    private static class EnumValue implements LengthToString {\n-        public EnumKlass enumKlass;\n-        public int ordinal;\n-        public EnumValue(EnumKlass enumKlass, int ordinal) {\n-            this.enumKlass = enumKlass;\n-            this.ordinal = ordinal;\n-        }\n-        @Override\n-        public String toString() {\n-            return enumKlass.simpleName + \".\" + enumKlass.values[ordinal];\n-        }\n-        @Override\n-        public String toString(Length l) {\n-            switch(l) {\n-                case S:\n-                    return enumKlass.values[ordinal];\n-                default:\n-                case M:\n-                case L:\n-                    return toString();\n-            }\n-        }\n-    }\n-\n-    public BinaryParser(ReadableByteChannel channel, ParseMonitor monitor, GraphDocument rootDocument, GroupCallback callback) {\n-        this.callback = callback;\n-        constantPool = new ArrayList<>();\n-        buffer = ByteBuffer.allocateDirect(256 * 1024);\n-        buffer.flip();\n-        this.channel = channel;\n-        this.rootDocument = rootDocument;\n-        folderStack = new LinkedList<>();\n-        hashStack = new LinkedList<>();\n-        this.monitor = monitor;\n-        try {\n-            this.digest = MessageDigest.getInstance(\"SHA-1\");\n-        } catch (NoSuchAlgorithmException e) {\n-        }\n-    }\n-\n-    private void fill() throws IOException {\n-        \/\/ All the data between lastPosition and position has been\n-        \/\/ used so add it to the digest.\n-        int position = buffer.position();\n-        buffer.position(lastPosition);\n-        byte[] remaining = new byte[position - buffer.position()];\n-        buffer.get(remaining);\n-        digest.update(remaining);\n-        assert position == buffer.position();\n-\n-        buffer.compact();\n-        if (channel.read(buffer) < 0) {\n-            throw new EOFException();\n-        }\n-        buffer.flip();\n-        lastPosition = buffer.position();\n-    }\n-\n-    private void ensureAvailable(int i) throws IOException {\n-        if (i > buffer.capacity()) {\n-            throw new IllegalArgumentException(String.format(\"Can not request %d bytes: buffer capacity is %d\", i, buffer.capacity()));\n-        }\n-        while (buffer.remaining() < i) {\n-            fill();\n-        }\n-    }\n-\n-    private int readByte() throws IOException {\n-        ensureAvailable(1);\n-        return ((int)buffer.get()) & 0xff;\n-    }\n-\n-    private int readInt() throws IOException {\n-        ensureAvailable(4);\n-        return buffer.getInt();\n-    }\n-\n-    private char readShort() throws IOException {\n-        ensureAvailable(2);\n-        return buffer.getChar();\n-    }\n-\n-    private long readLong() throws IOException {\n-        ensureAvailable(8);\n-        return buffer.getLong();\n-    }\n-\n-    private double readDouble() throws IOException {\n-        ensureAvailable(8);\n-        return buffer.getDouble();\n-    }\n-\n-    private float readFloat() throws IOException {\n-        ensureAvailable(4);\n-        return buffer.getFloat();\n-    }\n-\n-    private String readString() throws IOException {\n-        return new String(readBytes(), UTF_8).intern();\n-    }\n-\n-    private byte[] readBytes() throws IOException {\n-        int len = readInt();\n-        if (len < 0) {\n-            return null;\n-        }\n-        byte[] b = new byte[len];\n-        int bytesRead = 0;\n-        while (bytesRead < b.length) {\n-            int toRead = Math.min(b.length - bytesRead, buffer.capacity());\n-            ensureAvailable(toRead);\n-            buffer.get(b, bytesRead, toRead);\n-            bytesRead += toRead;\n-        }\n-        return b;\n-    }\n-\n-    private String readIntsToString() throws IOException {\n-        int len = readInt();\n-        if (len < 0) {\n-            return \"null\";\n-        }\n-        ensureAvailable(len * 4);\n-        StringBuilder sb = new StringBuilder().append('[');\n-        for (int i = 0; i < len; i++) {\n-            sb.append(buffer.getInt());\n-            if (i < len - 1) {\n-                sb.append(\", \");\n-            }\n-        }\n-        sb.append(']');\n-        return sb.toString().intern();\n-    }\n-\n-    private String readDoublesToString() throws IOException {\n-        int len = readInt();\n-        if (len < 0) {\n-            return \"null\";\n-        }\n-        ensureAvailable(len * 8);\n-        StringBuilder sb = new StringBuilder().append('[');\n-        for (int i = 0; i < len; i++) {\n-            sb.append(buffer.getDouble());\n-            if (i < len - 1) {\n-                sb.append(\", \");\n-            }\n-        }\n-        sb.append(']');\n-        return sb.toString().intern();\n-    }\n-\n-    private String readPoolObjectsToString() throws IOException {\n-        int len = readInt();\n-        if (len < 0) {\n-            return \"null\";\n-        }\n-        StringBuilder sb = new StringBuilder().append('[');\n-        for (int i = 0; i < len; i++) {\n-            sb.append(readPoolObject(Object.class));\n-            if (i < len - 1) {\n-                sb.append(\", \");\n-            }\n-        }\n-        sb.append(']');\n-        return sb.toString().intern();\n-    }\n-\n-    private <T> T readPoolObject(Class<T> klass) throws IOException {\n-        int type = readByte();\n-        if (type == POOL_NULL) {\n-            return null;\n-        }\n-        if (type == POOL_NEW) {\n-            return (T) addPoolEntry(klass);\n-        }\n-        assert assertObjectType(klass, type);\n-        char index = readShort();\n-        if (index < 0 || index >= constantPool.size()) {\n-            throw new IOException(\"Invalid constant pool index : \" + index);\n-        }\n-        Object obj = constantPool.get(index);\n-        return (T) obj;\n-    }\n-\n-    private boolean assertObjectType(Class<?> klass, int type) {\n-        switch(type) {\n-            case POOL_CLASS:\n-                return klass.isAssignableFrom(EnumKlass.class);\n-            case POOL_ENUM:\n-                return klass.isAssignableFrom(EnumValue.class);\n-            case POOL_METHOD:\n-                return klass.isAssignableFrom(Method.class);\n-            case POOL_STRING:\n-                return klass.isAssignableFrom(String.class);\n-            case POOL_NODE_CLASS:\n-                return klass.isAssignableFrom(NodeClass.class);\n-            case POOL_FIELD:\n-                return klass.isAssignableFrom(Field.class);\n-            case POOL_SIGNATURE:\n-                return klass.isAssignableFrom(Signature.class);\n-            case POOL_NULL:\n-                return true;\n-            default:\n-                return false;\n-        }\n-    }\n-\n-    private Object addPoolEntry(Class<?> klass) throws IOException {\n-        char index = readShort();\n-        int type = readByte();\n-        assert assertObjectType(klass, type) : \"Wrong object type : \" + klass + \" != \" + type;\n-        Object obj;\n-        switch(type) {\n-            case POOL_CLASS: {\n-                String name = readString();\n-                int klasstype = readByte();\n-                if (klasstype == ENUM_KLASS) {\n-                    int len = readInt();\n-                    String[] values = new String[len];\n-                    for (int i = 0; i < len; i++) {\n-                        values[i] = readPoolObject(String.class);\n-                    }\n-                    obj = new EnumKlass(name, values);\n-                } else if (klasstype == KLASS) {\n-                    obj = new Klass(name);\n-                } else {\n-                    throw new IOException(\"unknown klass type : \" + klasstype);\n-                }\n-                break;\n-            }\n-            case POOL_ENUM: {\n-                EnumKlass enumClass = readPoolObject(EnumKlass.class);\n-                int ordinal = readInt();\n-                obj = new EnumValue(enumClass, ordinal);\n-                break;\n-            }\n-            case POOL_NODE_CLASS: {\n-                String className = readString();\n-                String nameTemplate = readString();\n-                int inputCount = readShort();\n-                List<TypedPort> inputs = new ArrayList<>(inputCount);\n-                for (int i = 0; i < inputCount; i++) {\n-                    boolean isList = readByte() != 0;\n-                    String name = readPoolObject(String.class);\n-                    EnumValue inputType = readPoolObject(EnumValue.class);\n-                    inputs.add(new TypedPort(isList, name, inputType));\n-                }\n-                int suxCount = readShort();\n-                List<Port> sux = new ArrayList<>(suxCount);\n-                for (int i = 0; i < suxCount; i++) {\n-                    boolean isList = readByte() != 0;\n-                    String name = readPoolObject(String.class);\n-                    sux.add(new Port(isList, name));\n-                }\n-                obj = new NodeClass(className, nameTemplate, inputs, sux);\n-                break;\n-            }\n-            case POOL_METHOD: {\n-                Klass holder = readPoolObject(Klass.class);\n-                String name = readPoolObject(String.class);\n-                Signature sign = readPoolObject(Signature.class);\n-                int flags = readInt();\n-                byte[] code = readBytes();\n-                obj = new Method(name, sign, code, holder, flags);\n-                break;\n-            }\n-            case POOL_FIELD: {\n-                Klass holder = readPoolObject(Klass.class);\n-                String name = readPoolObject(String.class);\n-                String fType = readPoolObject(String.class);\n-                int flags = readInt();\n-                obj = new Field(fType, holder, name, flags);\n-                break;\n-            }\n-            case POOL_SIGNATURE: {\n-                int argc = readShort();\n-                String[] args = new String[argc];\n-                for (int i = 0; i < argc; i++) {\n-                    args[i] = readPoolObject(String.class);\n-                }\n-                String returnType = readPoolObject(String.class);\n-                obj = new Signature(returnType, args);\n-                break;\n-            }\n-            case POOL_STRING: {\n-                obj = readString();\n-                break;\n-            }\n-            default:\n-                throw new IOException(\"unknown pool type\");\n-        }\n-        while (constantPool.size() <= index) {\n-            constantPool.add(null);\n-        }\n-        constantPool.set(index, obj);\n-        return obj;\n-    }\n-\n-    private Object readPropertyObject() throws IOException {\n-        int type = readByte();\n-        switch (type) {\n-            case PROPERTY_INT:\n-                return readInt();\n-            case PROPERTY_LONG:\n-                return readLong();\n-            case PROPERTY_FLOAT:\n-                return readFloat();\n-            case PROPERTY_DOUBLE:\n-                return readDouble();\n-            case PROPERTY_TRUE:\n-                return Boolean.TRUE;\n-            case PROPERTY_FALSE:\n-                return Boolean.FALSE;\n-            case PROPERTY_POOL:\n-                return readPoolObject(Object.class);\n-            case PROPERTY_ARRAY:\n-                int subType = readByte();\n-                switch(subType) {\n-                    case PROPERTY_INT:\n-                        return readIntsToString();\n-                    case PROPERTY_DOUBLE:\n-                        return readDoublesToString();\n-                    case PROPERTY_POOL:\n-                        return readPoolObjectsToString();\n-                    default:\n-                        throw new IOException(\"Unknown type\");\n-                }\n-            case PROPERTY_SUBGRAPH:\n-                InputGraph graph = parseGraph(\"\");\n-                new Group(null).addElement(graph);\n-                return graph;\n-            default:\n-                throw new IOException(\"Unknown type\");\n-        }\n-    }\n-\n-    @Override\n-    public GraphDocument parse() throws IOException {\n-        folderStack.push(rootDocument);\n-        hashStack.push(null);\n-        if (monitor != null) {\n-            monitor.setState(\"Starting parsing\");\n-        }\n-        try {\n-            while(true) {\n-                parseRoot();\n-            }\n-        } catch (EOFException e) {\n-\n-        }\n-        if (monitor != null) {\n-            monitor.setState(\"Finished parsing\");\n-        }\n-        return rootDocument;\n-    }\n-\n-    private void parseRoot() throws IOException {\n-        int type = readByte();\n-        switch(type) {\n-            case BEGIN_GRAPH: {\n-                final Folder parent = folderStack.peek();\n-                final InputGraph graph = parseGraph();\n-                SwingUtilities.invokeLater(new Runnable(){\n-                    @Override\n-                    public void run() {\n-                        parent.addElement(graph);\n-                    }\n-                });\n-                break;\n-            }\n-            case BEGIN_GROUP: {\n-                final Folder parent = folderStack.peek();\n-                final Group group = parseGroup(parent);\n-                if (callback == null || parent instanceof Group) {\n-                    SwingUtilities.invokeLater(new Runnable(){\n-                        @Override\n-                        public void run() {\n-                            parent.addElement(group);\n-                        }\n-                    });\n-                }\n-                folderStack.push(group);\n-                hashStack.push(null);\n-                if (callback != null && parent instanceof GraphDocument) {\n-                    callback.started(group);\n-                }\n-                break;\n-            }\n-            case CLOSE_GROUP: {\n-                if (folderStack.isEmpty()) {\n-                    throw new IOException(\"Unbalanced groups\");\n-                }\n-                folderStack.pop();\n-                hashStack.pop();\n-                break;\n-            }\n-            default:\n-                throw new IOException(\"unknown root : \" + type);\n-        }\n-    }\n-\n-    private Group parseGroup(Folder parent) throws IOException {\n-        String name = readPoolObject(String.class);\n-        String shortName = readPoolObject(String.class);\n-        if (monitor != null) {\n-            monitor.setState(shortName);\n-        }\n-        Method method = readPoolObject(Method.class);\n-        int bci = readInt();\n-        Group group = new Group(parent);\n-        group.getProperties().setProperty(\"name\", name);\n-        parseProperties(group.getProperties());\n-        if (method != null) {\n-            InputMethod inMethod = new InputMethod(group, method.name, shortName, bci);\n-            inMethod.setBytecodes(\"TODO\");\n-            group.setMethod(inMethod);\n-        }\n-        return group;\n-    }\n-\n-    int lastPosition = 0;\n-\n-    private InputGraph parseGraph() throws IOException {\n-        if (monitor != null) {\n-            monitor.updateProgress();\n-        }\n-        String title = readPoolObject(String.class);\n-        digest.reset();\n-        lastPosition = buffer.position();\n-        InputGraph graph = parseGraph(title);\n-\n-        int position = buffer.position();\n-        buffer.position(lastPosition);\n-        byte[] remaining = new byte[position - buffer.position()];\n-        buffer.get(remaining);\n-        digest.update(remaining);\n-        assert position == buffer.position();\n-        lastPosition = buffer.position();\n-\n-        byte[] d = digest.digest();\n-        byte[] hash = hashStack.peek();\n-        if (hash != null && Arrays.equals(hash, d)) {\n-            graph.getProperties().setProperty(\"_isDuplicate\", \"true\");\n-        } else {\n-            hashStack.pop();\n-            hashStack.push(d);\n-        }\n-        return graph;\n-    }\n-\n-    private void parseProperties(Properties properties) throws IOException {\n-        int propCount = readShort();\n-        for (int j = 0; j < propCount; j++) {\n-            String key = readPoolObject(String.class);\n-            Object value = readPropertyObject();\n-            properties.setProperty(key, value != null ? value.toString() : \"null\");\n-        }\n-    }\n-\n-    private InputGraph parseGraph(String title) throws IOException {\n-        InputGraph graph = new InputGraph(title);\n-        parseProperties(graph.getProperties());\n-        parseNodes(graph);\n-        parseBlocks(graph);\n-        graph.ensureNodesInBlocks();\n-        for (InputNode node : graph.getNodes()) {\n-            node.internProperties();\n-        }\n-        return graph;\n-    }\n-\n-    private void parseBlocks(InputGraph graph) throws IOException {\n-        int blockCount = readInt();\n-        List<Edge> edges = new LinkedList<>();\n-        for (int i = 0; i < blockCount; i++) {\n-            int id = readInt();\n-            String name = id >= 0 ? Integer.toString(id) : NO_BLOCK;\n-            InputBlock block = graph.addBlock(name);\n-            int nodeCount = readInt();\n-            for (int j = 0; j < nodeCount; j++) {\n-                int nodeId = readInt();\n-                if (nodeId < 0) {\n-                    continue;\n-                }\n-                final Properties properties = graph.getNode(nodeId).getProperties();\n-                final String oldBlock = properties.get(\"block\");\n-                if(oldBlock != null) {\n-                    properties.setProperty(\"block\", oldBlock + \", \" + name);\n-                } else {\n-                    block.addNode(nodeId);\n-                    properties.setProperty(\"block\", name);\n-                }\n-            }\n-            int edgeCount = readInt();\n-            for (int j = 0; j < edgeCount; j++) {\n-                int to = readInt();\n-                edges.add(new Edge(id, to));\n-            }\n-        }\n-        for (Edge e : edges) {\n-            String fromName = e.from >= 0 ? Integer.toString(e.from) : NO_BLOCK;\n-            String toName = e.to >= 0 ? Integer.toString(e.to) : NO_BLOCK;\n-            graph.addBlockEdge(graph.getBlock(fromName), graph.getBlock(toName));\n-        }\n-    }\n-\n-    private void parseNodes(InputGraph graph) throws IOException {\n-        int count = readInt();\n-        Map<String, Object> props = new HashMap<>();\n-        List<Edge> inputEdges = new ArrayList<>(count);\n-        List<Edge> succEdges = new ArrayList<>(count);\n-        for (int i = 0; i < count; i++) {\n-            int id = readInt();\n-            InputNode node = new InputNode(id);\n-            final Properties properties = node.getProperties();\n-            NodeClass nodeClass = readPoolObject(NodeClass.class);\n-            int preds = readByte();\n-            if (preds > 0) {\n-                properties.setProperty(\"hasPredecessor\", \"true\");\n-            }\n-            properties.setProperty(\"idx\", Integer.toString(id));\n-            int propCount = readShort();\n-            for (int j = 0; j < propCount; j++) {\n-                String key = readPoolObject(String.class);\n-                if (key.equals(\"hasPredecessor\") || key.equals(\"name\") || key.equals(\"class\") || key.equals(\"id\") || key.equals(\"idx\")) {\n-                    key = \"!data.\" + key;\n-                }\n-                Object value = readPropertyObject();\n-                if (value instanceof InputGraph) {\n-                    InputGraph subgraph = (InputGraph) value;\n-                    subgraph.getProperties().setProperty(\"name\", node.getId() + \":\" + key);\n-                    node.addSubgraph((InputGraph) value);\n-                } else {\n-                    properties.setProperty(key, value != null ? value.toString() : \"null\");\n-                    props.put(key, value);\n-                }\n-            }\n-            ArrayList<Edge> currentEdges = new ArrayList<>();\n-            int portNum = 0;\n-            for (TypedPort p : nodeClass.inputs) {\n-                if (p.isList) {\n-                    int size = readShort();\n-                    for (int j = 0; j < size; j++) {\n-                        int in = readInt();\n-                        if (in >= 0) {\n-                            Edge e = new Edge(in, id, (char) (preds + portNum), p.name + \"[\" + j + \"]\", p.type.toString(Length.S), true);\n-                            currentEdges.add(e);\n-                            inputEdges.add(e);\n-                            portNum++;\n-                        }\n-                    }\n-                } else {\n-                    int in = readInt();\n-                    if (in >= 0) {\n-                        Edge e = new Edge(in, id, (char) (preds + portNum), p.name, p.type.toString(Length.S), true);\n-                        currentEdges.add(e);\n-                        inputEdges.add(e);\n-                        portNum++;\n-                    }\n-                }\n-\n-            }\n-            portNum = 0;\n-            for (Port p : nodeClass.sux) {\n-                if (p.isList) {\n-                    int size = readShort();\n-                    for (int j = 0; j < size; j++) {\n-                        int sux = readInt();\n-                        if (sux >= 0) {\n-                            Edge e = new Edge(id, sux, (char) portNum, p.name + \"[\" + j + \"]\", \"Successor\", false);\n-                            currentEdges.add(e);\n-                            succEdges.add(e);\n-                            portNum++;\n-                        }\n-                    }\n-                } else {\n-                    int sux = readInt();\n-                    if (sux >= 0) {\n-                        Edge e = new Edge(id, sux, (char) portNum, p.name, \"Successor\", false);\n-                        currentEdges.add(e);\n-                        succEdges.add(e);\n-                        portNum++;\n-                    }\n-                }\n-            }\n-            properties.setProperty(\"name\", createName(currentEdges, props, nodeClass.nameTemplate));\n-            properties.setProperty(\"class\", nodeClass.className);\n-            switch (nodeClass.className) {\n-                case \"BeginNode\":\n-                    properties.setProperty(\"shortName\", \"B\");\n-                    break;\n-                case \"EndNode\":\n-                    properties.setProperty(\"shortName\", \"E\");\n-                    break;\n-            }\n-            graph.addNode(node);\n-            props.clear();\n-        }\n-\n-        Set<InputNode> nodesWithSuccessor = new HashSet<>();\n-\n-        for (Edge e : succEdges) {\n-            assert !e.input;\n-            char fromIndex = e.num;\n-            nodesWithSuccessor.add(graph.getNode(e.from));\n-            char toIndex = 0;\n-            graph.addEdge(InputEdge.createImmutable(fromIndex, toIndex, e.from, e.to, e.label, e.type));\n-        }\n-        for (Edge e : inputEdges) {\n-            assert e.input;\n-            char fromIndex = (char) (nodesWithSuccessor.contains(graph.getNode(e.from)) ? 1 : 0);\n-            char toIndex = e.num;\n-            graph.addEdge(InputEdge.createImmutable(fromIndex, toIndex, e.from, e.to, e.label, e.type));\n-        }\n-    }\n-\n-    static final Pattern templatePattern = Pattern.compile(\"\\\\{(p|i)#([a-zA-Z0-9$_]+)(\/(l|m|s))?\\\\}\");\n-\n-    private String createName(List<Edge> edges, Map<String, Object> properties, String template) {\n-        Matcher m = templatePattern.matcher(template);\n-        StringBuffer sb = new StringBuffer();\n-        while (m.find()) {\n-            String name = m.group(2);\n-            String type = m.group(1);\n-            String result;\n-            switch (type) {\n-                case \"i\":\n-                    StringBuilder inputString = new StringBuilder();\n-                    for(Edge edge : edges) {\n-                        if (edge.label.startsWith(name) && (name.length() == edge.label.length() || edge.label.charAt(name.length()) == '[')) {\n-                            if (inputString.length() > 0) {\n-                                inputString.append(\", \");\n-                            }\n-                            inputString.append(edge.from);\n-                        }\n-                    }\n-                    result = inputString.toString();\n-                    break;\n-                case \"p\":\n-                    Object prop = properties.get(name);\n-                    String length = m.group(4);\n-                    if (prop == null) {\n-                        result = \"?\";\n-                    } else if (length != null && prop instanceof LengthToString) {\n-                        LengthToString lengthProp = (LengthToString) prop;\n-                        switch(length) {\n-                            default:\n-                            case \"l\":\n-                                result = lengthProp.toString(Length.L);\n-                                break;\n-                            case \"m\":\n-                                result = lengthProp.toString(Length.M);\n-                                break;\n-                            case \"s\":\n-                                result = lengthProp.toString(Length.S);\n-                                break;\n-                        }\n-                    } else {\n-                        result = prop.toString();\n-                    }\n-                    break;\n-                default:\n-                    result = \"#?#\";\n-                    break;\n-            }\n-            result = result.replace(\"\\\\\", \"\\\\\\\\\");\n-            result = result.replace(\"$\", \"\\\\$\");\n-            m.appendReplacement(sb, result);\n-        }\n-        m.appendTail(sb);\n-        return sb.toString().intern();\n-    }\n-\n-    private static class Edge {\n-        final int from;\n-        final int to;\n-        final char num;\n-        final String label;\n-        final String type;\n-        final boolean input;\n-        public Edge(int from, int to) {\n-            this(from, to, (char) 0, null, null, false);\n-        }\n-        public Edge(int from, int to, char num, String label, String type, boolean input) {\n-            this.from = from;\n-            this.to = to;\n-            this.label = label != null ? label.intern() : label;\n-            this.type = type != null ? type.intern() : type;\n-            this.num = num;\n-            this.input = input;\n-        }\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/BinaryParser.java","additions":0,"deletions":937,"binary":false,"changes":937,"status":"deleted"},{"patch":"@@ -31,1 +31,1 @@\n-    public GraphDocument parse() throws IOException;\n+    GraphDocument parse() throws IOException;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/GraphParser.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,1 @@\n-    public void updateProgress();\n+    void updateProgress();\n@@ -31,1 +31,1 @@\n-    public void setState(String state);\n+    void setState(String state);\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/ParseMonitor.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -32,1 +32,0 @@\n-import java.io.InputStream;\n@@ -42,3 +41,0 @@\n-import javax.xml.transform.Source;\n-import javax.xml.transform.stream.StreamSource;\n-import javax.xml.validation.SchemaFactory;\n@@ -98,6 +94,6 @@\n-    private TopElementHandler<GraphDocument> xmlDocument = new TopElementHandler<>();\n-    private Map<Group, Boolean> differenceEncoding = new HashMap<>();\n-    private Map<Group, InputGraph> lastParsedGraph = new HashMap<>();\n-    private GroupCallback groupCallback;\n-    private HashMap<String, Integer> idCache = new HashMap<>();\n-    private ArrayList<Pair<String, String>> blockConnections = new ArrayList<>();\n+    private final TopElementHandler<GraphDocument> xmlDocument = new TopElementHandler<>();\n+    private final Map<Group, Boolean> differenceEncoding = new HashMap<>();\n+    private final Map<Group, InputGraph> lastParsedGraph = new HashMap<>();\n+    private final GroupCallback groupCallback;\n+    private final HashMap<String, Integer> idCache = new HashMap<>();\n+    private final ArrayList<Pair<String, String>> blockConnections = new ArrayList<>();\n@@ -121,1 +117,1 @@\n-        return id.intValue();\n+        return id;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/Parser.java","additions":7,"deletions":11,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-    private InputStream in;\n+    private final InputStream in;\n@@ -55,2 +55,1 @@\n-        } catch (IOException ex) {\n-        }\n+        } catch (IOException ignored) {}\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/Printer.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.data.Properties;\n@@ -42,2 +41,0 @@\n-        private String name;\n-\n@@ -46,1 +43,0 @@\n-            this.name = name;\n@@ -49,3 +45,0 @@\n-        public String getAttributeName() {\n-            return this.getMessage();\n-        }\n@@ -79,2 +72,2 @@\n-        private String name;\n-        private Stack<T> object = new Stack<>();\n+        private final String name;\n+        private final Stack<T> object = new Stack<>();\n@@ -84,4 +77,4 @@\n-        private HashMap<String, ElementHandler<?, ? super T>> hashtable;\n-        private boolean needsText;\n-        private Stack<ElementHandler<P, ?>> parentElement = new Stack<>();\n-        private Stack<P> parentObject = new Stack<>();\n+        private final HashMap<String, ElementHandler<?, ? super T>> hashtable;\n+        private final boolean needsText;\n+        private final Stack<ElementHandler<P, ?>> parentElement = new Stack<>();\n+        private final Stack<P> parentObject = new Stack<>();\n@@ -93,4 +86,0 @@\n-        public ElementHandler<P, ?> getParentElement() {\n-            return parentElement.peek();\n-        }\n-\n@@ -144,9 +133,0 @@\n-        public void processAttributesAsProperties(Properties p) {\n-            int length = attr.getLength();\n-            for (int i = 0; i < length; i++) {\n-                String val = attr.getValue(i);\n-                String localName = attr.getLocalName(i);\n-                p.setProperty(val, localName);\n-            }\n-        }\n-\n@@ -182,2 +162,2 @@\n-    private Stack<ElementHandler> stack;\n-    private ParseMonitor monitor;\n+    private final Stack<ElementHandler> stack;\n+    private final ParseMonitor monitor;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/XMLParser.java","additions":8,"deletions":28,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -39,2 +39,2 @@\n-    private Writer inner;\n-    private Stack<String> elementStack;\n+    private final Writer inner;\n+    private final Stack<String> elementStack;\n@@ -117,1 +117,1 @@\n-        if (props.iterator().hasNext() == false) {\n+        if (!props.iterator().hasNext()) {\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/main\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/XMLWriter.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import static org.junit.Assert.assertEquals;\n@@ -29,0 +28,1 @@\n+import static org.junit.Assert.assertEquals;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/ChangedEventTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import static org.junit.Assert.*;\n@@ -29,0 +28,1 @@\n+import static org.junit.Assert.*;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/ControllableChangedListenerTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import static org.junit.Assert.assertEquals;\n@@ -31,0 +30,1 @@\n+import static org.junit.Assert.assertEquals;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/GroupTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import static org.junit.Assert.assertThat;\n@@ -31,0 +30,1 @@\n+import static org.junit.Assert.assertThat;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/InputMethodTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import static org.junit.Assert.*;\n@@ -30,0 +29,1 @@\n+import static org.junit.Assert.*;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/PairTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,5 +28,1 @@\n-import com.sun.hotspot.igv.data.Properties.InvertPropertyMatcher;\n-import com.sun.hotspot.igv.data.Properties.PropertyMatcher;\n-import com.sun.hotspot.igv.data.Properties.PropertySelector;\n-import com.sun.hotspot.igv.data.Properties.RegexpPropertyMatcher;\n-import com.sun.hotspot.igv.data.Properties.StringPropertyMatcher;\n+import com.sun.hotspot.igv.data.Properties.*;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/PropertiesTest.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import static org.junit.Assert.*;\n@@ -30,0 +29,1 @@\n+import static org.junit.Assert.*;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/PropertyTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import static org.junit.Assert.assertEquals;\n@@ -31,0 +30,1 @@\n+import static org.junit.Assert.assertEquals;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/SourceTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -36,10 +36,0 @@\n-    public static void assertGraphDocumentNotEquals(GraphDocument a, GraphDocument b) {\n-        try {\n-            assertGraphDocumentEquals(a, b);\n-        } catch(AssertionError e) {\n-            return;\n-        }\n-\n-        fail(\"Graphs documents are equal!\");\n-    }\n-\n@@ -64,10 +54,0 @@\n-    public static void assertGroupNotEquals(Group a, Group b) {\n-        try {\n-            assertGroupEquals(a, b);\n-        } catch(AssertionError e) {\n-            return;\n-        }\n-\n-        fail(\"Groups are equal!\");\n-    }\n-\n@@ -76,1 +56,1 @@\n-        if (a.getGraphsCount() != b.getGraphsCount()) {\n+        if (a.getElements().size() != b.getElements().size()) {\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/Util.java","additions":2,"deletions":22,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -29,1 +29,4 @@\n-import java.io.*;\n+import java.io.ByteArrayInputStream;\n+import java.io.CharArrayWriter;\n+import java.io.IOException;\n+import java.io.InputStream;\n@@ -31,1 +34,0 @@\n-\n@@ -33,0 +35,1 @@\n+import org.junit.*;\n@@ -35,3 +38,0 @@\n-import org.junit.*;\n-import org.openide.util.Exceptions;\n-import org.xml.sax.InputSource;\n","filename":"src\/utils\/IdealGraphVisualizer\/Data\/src\/test\/java\/com\/sun\/hotspot\/igv\/data\/serialization\/ParserTest.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -290,3 +290,0 @@\n-\n-        Set<InputNode> matched = new HashSet<>();\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Difference\/src\/main\/java\/com\/sun\/hotspot\/igv\/difference\/Difference.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -41,1 +41,1 @@\n-        changedEvent = new ChangedEvent<Filter>(this);\n+        changedEvent = new ChangedEvent<>(this);\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/AbstractFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import com.sun.hotspot.igv.graph.Connection.ConnectionStyle;\n@@ -29,0 +28,1 @@\n+import com.sun.hotspot.igv.graph.Connection.ConnectionStyle;\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/ColorFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -77,1 +77,1 @@\n-                        slot.getSource().addSourceNodes(f.getSource());\n+                        slot.getSource().addSourceNode(f.getInputNode());\n@@ -133,1 +133,1 @@\n-                                slot.getSource().addSourceNodes(succ.getSource());\n+                                slot.getSource().addSourceNode(succ.getInputNode());\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/CombineFilter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,1 +28,4 @@\n-import javax.script.*;\n+import javax.script.Bindings;\n+import javax.script.ScriptContext;\n+import javax.script.ScriptEngine;\n+import javax.script.ScriptException;\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/CustomFilter.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.graph.Diagram;\n@@ -29,0 +28,1 @@\n+import com.sun.hotspot.igv.graph.Diagram;\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/RemoveBlockFilter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -59,3 +59,3 @@\n-                    if (f.getSource().getSourceNodes().size() > 0) {\n-                        os.getSource().addSourceNodes(f.getSource());\n-                        os.setAssociatedNode(f.getSource().getSourceNodes().get(0));\n+                    if (f.getInputNode() != null) {\n+                        os.getSource().addSourceNode(f.getInputNode());\n+                        os.setAssociatedNode(f.getInputNode());\n@@ -76,3 +76,3 @@\n-                    if (f.getSource().getSourceNodes().size() > 0) {\n-                        is.getSource().addSourceNodes(f.getSource());\n-                        is.setAssociatedNode(f.getSource().getSourceNodes().get(0));\n+                    if (f.getInputNode() != null) {\n+                        is.getSource().addSourceNode(f.getInputNode());\n+                        is.setAssociatedNode(f.getInputNode());\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/SplitFilter.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -27,1 +27,3 @@\n-import com.sun.hotspot.igv.graph.*;\n+import com.sun.hotspot.igv.graph.Diagram;\n+import com.sun.hotspot.igv.graph.Figure;\n+import com.sun.hotspot.igv.graph.Selector;\n","filename":"src\/utils\/IdealGraphVisualizer\/Filter\/src\/main\/java\/com\/sun\/hotspot\/igv\/filter\/WarningFilter.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -63,7 +63,1 @@\n-        filter.getChangedEvent().addListener(new ChangedListener<Filter>() {\n-\n-            @Override\n-            public void changed(Filter source) {\n-                update();\n-            }\n-        });\n+        filter.getChangedEvent().addListener(source -> update());\n","filename":"src\/utils\/IdealGraphVisualizer\/FilterWindow\/src\/main\/java\/com\/sun\/hotspot\/igv\/filterwindow\/FilterNode.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -187,7 +187,1 @@\n-            filterSettings.sort(new Comparator<FilterSetting>() {\n-\n-                @Override\n-                public int compare(FilterSetting o1, FilterSetting o2) {\n-                    return o1.getName().compareTo(o2.getName());\n-                }\n-            });\n+            filterSettings.sort(Comparator.comparing(FilterSetting::getName));\n@@ -271,7 +265,1 @@\n-            sequence.getChangedEvent().addListener(new ChangedListener<FilterChain>() {\n-\n-                @Override\n-                public void changed(FilterChain source) {\n-                    addNotify();\n-                }\n-            });\n+            sequence.getChangedEvent().addListener(source -> addNotify());\n@@ -709,9 +697,0 @@\n-\n-    static final class ResolvableHelper implements Serializable {\n-\n-        private static final long serialVersionUID = 1L;\n-\n-        public Object readResolve() {\n-            return FilterTopComponent.getDefault();\n-        }\n-    }\n","filename":"src\/utils\/IdealGraphVisualizer\/FilterWindow\/src\/main\/java\/com\/sun\/hotspot\/igv\/filterwindow\/FilterTopComponent.java","additions":2,"deletions":23,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -21,1 +21,1 @@\n-    \n+\n@@ -31,0 +31,1 @@\n+                <attr name=\"position\" intvalue=\"3\"\/>\n","filename":"src\/utils\/IdealGraphVisualizer\/FilterWindow\/src\/main\/resources\/com\/sun\/hotspot\/igv\/filterwindow\/layer.xml","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import java.util.List;\n@@ -28,0 +27,1 @@\n+import java.util.List;\n@@ -42,1 +42,1 @@\n-            l.add(d.getBlock(f.getBlock()));\n+            l.add(f.getBlock());\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/AnySelector.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import java.awt.Dimension;\n@@ -29,0 +28,1 @@\n+import java.awt.Dimension;\n@@ -48,4 +48,0 @@\n-    public Cluster getOuter() {\n-        return null;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Block.java","additions":1,"deletions":5,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,5 +26,1 @@\n-import com.sun.hotspot.igv.data.InputBlock;\n-import com.sun.hotspot.igv.data.InputBlockEdge;\n-import com.sun.hotspot.igv.data.InputEdge;\n-import com.sun.hotspot.igv.data.InputGraph;\n-import com.sun.hotspot.igv.data.InputNode;\n+import com.sun.hotspot.igv.data.*;\n@@ -32,1 +28,0 @@\n-import com.sun.hotspot.igv.data.Properties.StringPropertyMatcher;\n@@ -34,1 +29,0 @@\n-import java.awt.Color;\n@@ -44,9 +38,8 @@\n-    private Map<InputBlock, Block> blocks;\n-    private InputGraph graph;\n-    private int curId;\n-    private String nodeText;\n-    private String shortNodeText;\n-    private String tinyNodeText;\n-    private final Font font;\n-    private final Font slotFont;\n-    private final Font boldFont;\n+    private final Map<InputBlock, Block> blocks;\n+    private final String nodeText;\n+    private final String shortNodeText;\n+    private final String tinyNodeText;\n+    public static final Font FONT = new Font(\"Arial\", Font.PLAIN, 12);\n+    public static final Font SLOT_FONT = new Font(\"Arial\", Font.PLAIN, 10);\n+    public static final Font BOLD_FONT = FONT.deriveFont(Font.BOLD);\n+\n@@ -58,12 +51,0 @@\n-    public Font getFont() {\n-        return font;\n-    }\n-\n-    public Font getSlotFont() {\n-        return slotFont;\n-    }\n-\n-    public Font getBoldFont() {\n-        return boldFont;\n-    }\n-\n@@ -78,12 +59,4 @@\n-    private Diagram(InputGraph graph, String nodeText, String shortNodeText,\n-                    String tinyNodeText) {\n-        figures = new ArrayList<>();\n-        blocks = new LinkedHashMap<>(8);\n-        this.nodeText = \"\";\n-        this.shortNodeText = \"\";\n-        this.font = new Font(\"Arial\", Font.PLAIN, 12);\n-        this.slotFont = new Font(\"Arial\", Font.PLAIN, 10);\n-        this.boldFont = this.font.deriveFont(Font.BOLD);\n-        this.cfg = false;\n-        this.blockConnections = new HashSet<>();\n-        this.graph = graph;\n+    public Diagram(InputGraph graph, String nodeText, String shortNodeText,\n+                   String tinyNodeText) {\n+        assert graph != null;\n+\n@@ -93,22 +66,5 @@\n-    }\n-\n-    public Block getBlock(InputBlock b) {\n-        assert blocks.containsKey(b);\n-        return blocks.get(b);\n-    }\n-\n-    public boolean hasBlock(InputBlock b) {\n-        return blocks.containsKey(b);\n-    }\n-\n-    public String getNodeText() {\n-        return nodeText;\n-    }\n-\n-    public String getShortNodeText() {\n-        return shortNodeText;\n-    }\n-\n-    public String getTinyNodeText() {\n-        return tinyNodeText;\n-    }\n+        this.figures = new ArrayList<>();\n+        this.blocks = new LinkedHashMap<>(8);\n+        this.blockConnections = new HashSet<>();\n+        this.cfg = false;\n+        int curId = 0;\n@@ -116,2 +72,0 @@\n-    public void updateBlocks() {\n-        blocks.clear();\n@@ -119,37 +73,1 @@\n-            Block curBlock = new Block(b, this);\n-            blocks.put(b, curBlock);\n-        }\n-    }\n-\n-    public Collection<Block> getBlocks() {\n-        return Collections.unmodifiableCollection(blocks.values());\n-    }\n-\n-    public List<Figure> getFigures() {\n-        return Collections.unmodifiableList(figures);\n-    }\n-\n-    public Figure createFigure() {\n-        Figure f = new Figure(this, curId);\n-        curId++;\n-        this.figures.add(f);\n-        return f;\n-    }\n-\n-    public FigureConnection createConnection(InputSlot inputSlot, OutputSlot outputSlot, String label) {\n-        assert inputSlot.getFigure().getDiagram() == this;\n-        assert outputSlot.getFigure().getDiagram() == this;\n-        return new FigureConnection(inputSlot, outputSlot, label);\n-    }\n-\n-    public Map<InputNode, Set<Figure>> calcSourceToFigureRelation() {\n-        Map<InputNode, Set<Figure>> map = new HashMap<>();\n-\n-        for(InputNode node : this.getGraph().getNodes()) {\n-            map.put(node, new HashSet<Figure>());\n-        }\n-\n-        for(Figure f : this.getFigures()) {\n-            for(InputNode node : f.getSource().getSourceNodes()) {\n-                map.get(node).add(f);\n-            }\n+            blocks.put(b, new Block(b, this));\n@@ -158,13 +76,0 @@\n-        return map;\n-    }\n-\n-    public static Diagram createDiagram(InputGraph graph, String nodeText,\n-                                        String shortNodeText,\n-                                        String tinyNodeText) {\n-        if (graph == null) {\n-            return null;\n-        }\n-\n-        Diagram d = new Diagram(graph, nodeText, shortNodeText, tinyNodeText);\n-        d.updateBlocks();\n-\n@@ -174,2 +79,2 @@\n-            Figure f = d.createFigure();\n-            f.getSource().addSourceNode(n);\n+            Figure f = new Figure(this, curId, n);\n+            curId++;\n@@ -177,2 +82,1 @@\n-            f.setSubgraphs(n.getSubgraphs());\n-            f.setBlock(graph.getBlock(n));\n+            f.setBlock(blocks.get(graph.getBlock(n)));\n@@ -180,0 +84,1 @@\n+            this.figures.add(f);\n@@ -183,1 +88,0 @@\n-\n@@ -190,1 +94,0 @@\n-            assert fromFigure != null && toFigure != null;\n@@ -204,1 +107,1 @@\n-            FigureConnection c = d.createConnection(inputSlot, outputSlot, e.getLabel());\n+            FigureConnection c = createConnection(inputSlot, outputSlot, e.getLabel());\n@@ -214,3 +117,3 @@\n-            Block p = d.getBlock(e.getFrom());\n-            Block s = d.getBlock(e.getTo());\n-            d.blockConnections.add(new BlockConnection(p, s, e.getLabel()));\n+            Block p = getBlock(e.getFrom());\n+            Block s = getBlock(e.getTo());\n+            blockConnections.add(new BlockConnection(p, s, e.getLabel()));\n@@ -218,0 +121,1 @@\n+    }\n@@ -219,1 +123,37 @@\n-        return d;\n+    public Block getBlock(InputBlock b) {\n+        assert blocks.containsKey(b);\n+        return blocks.get(b);\n+    }\n+\n+    public boolean hasBlock(InputBlock b) {\n+        return blocks.containsKey(b);\n+    }\n+\n+    public String getNodeText() {\n+        return nodeText;\n+    }\n+\n+    public String getShortNodeText() {\n+        return shortNodeText;\n+    }\n+\n+    public String getTinyNodeText() {\n+        return tinyNodeText;\n+    }\n+\n+    public Collection<Block> getBlocks() {\n+        return Collections.unmodifiableCollection(blocks.values());\n+    }\n+\n+    public Collection<InputBlock> getInputBlocks() {\n+        return Collections.unmodifiableCollection(blocks.keySet());\n+    }\n+\n+    public List<Figure> getFigures() {\n+        return Collections.unmodifiableList(figures);\n+    }\n+\n+    public FigureConnection createConnection(InputSlot inputSlot, OutputSlot outputSlot, String label) {\n+        assert inputSlot.getFigure().getDiagram() == this;\n+        assert outputSlot.getFigure().getDiagram() == this;\n+        return new FigureConnection(inputSlot, outputSlot, label);\n@@ -226,1 +166,1 @@\n-                if (f.getBlock() == b.getInputBlock()) {\n+                if (f.getBlock() == b) {\n@@ -276,8 +216,0 @@\n-    public String getName() {\n-        return graph.getName();\n-    }\n-\n-    public InputGraph getGraph() {\n-        return graph;\n-    }\n-\n@@ -305,18 +237,0 @@\n-    public Figure getRootFigure() {\n-        Properties.PropertySelector<Figure> selector = new Properties.PropertySelector<>(figures);\n-        Figure root = selector.selectSingle(new StringPropertyMatcher(\"name\", \"Root\"));\n-        if (root == null) {\n-            root = selector.selectSingle(new StringPropertyMatcher(\"name\", \"Start\"));\n-        }\n-        if (root == null) {\n-            List<Figure> rootFigures = getRootFigures();\n-            if (rootFigures.size() > 0) {\n-                root = rootFigures.get(0);\n-            } else if (figures.size() > 0) {\n-                root = figures.get(0);\n-            }\n-        }\n-\n-        return root;\n-    }\n-\n@@ -357,10 +271,0 @@\n-\n-    public List<Figure> getRootFigures() {\n-        ArrayList<Figure> rootFigures = new ArrayList<>();\n-        for (Figure f : figures) {\n-            if (f.getPredecessors().size() == 0) {\n-                rootFigures.add(f);\n-            }\n-        }\n-        return rootFigures;\n-    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Diagram.java","additions":66,"deletions":162,"binary":false,"changes":228,"status":"modified"},{"patch":"@@ -26,2 +26,0 @@\n-import com.sun.hotspot.igv.data.InputBlock;\n-import com.sun.hotspot.igv.data.InputGraph;\n@@ -30,1 +28,0 @@\n-import com.sun.hotspot.igv.data.Source;\n@@ -37,1 +34,1 @@\n-public class Figure extends Properties.Entity implements Source.Provider, Vertex {\n+public class Figure extends Properties.Entity implements Vertex {\n@@ -49,2 +46,2 @@\n-    private Source source;\n-    private Diagram diagram;\n+    private final InputNode inputNode;\n+    private final Diagram diagram;\n@@ -52,3 +49,2 @@\n-    private List<Figure> predecessors;\n-    private List<Figure> successors;\n-    private List<InputGraph> subgraphs;\n+    private final List<Figure> predecessors;\n+    private final List<Figure> successors;\n@@ -57,2 +53,2 @@\n-    private int id;\n-    private String idString;\n+    private final int id;\n+    private final String idString;\n@@ -62,1 +58,1 @@\n-    private InputBlock block;\n+    private Block block;\n@@ -135,1 +131,1 @@\n-    protected Figure(Diagram diagram, int id) {\n+    protected Figure(Diagram diagram, int id, InputNode node) {\n@@ -137,5 +133,5 @@\n-        this.source = new Source();\n-        inputSlots = new ArrayList<>(5);\n-        outputSlots = new ArrayList<>(1);\n-        predecessors = new ArrayList<>(6);\n-        successors = new ArrayList<>(6);\n+        this.inputNode = node;\n+        this.inputSlots = new ArrayList<>(5);\n+        this.outputSlots = new ArrayList<>(1);\n+        this.predecessors = new ArrayList<>(6);\n+        this.successors = new ArrayList<>(6);\n@@ -143,2 +139,1 @@\n-        idString = Integer.toString(id);\n-\n+        this.idString = Integer.toString(id);\n@@ -148,1 +143,1 @@\n-        metrics = canvas.getFontMetrics(diagram.getFont().deriveFont(Font.BOLD));\n+        this.metrics = canvas.getFontMetrics(Diagram.FONT.deriveFont(Font.BOLD));\n@@ -175,1 +170,1 @@\n-    public void setBlock(InputBlock block) {\n+    public void setBlock(Block block) {\n@@ -179,1 +174,1 @@\n-    public InputBlock getBlock() {\n+    public Block getBlock() {\n@@ -188,5 +183,1 @@\n-        Set<Figure> result = new HashSet<>();\n-        for (Figure f : getPredecessors()) {\n-            result.add(f);\n-        }\n-        return Collections.unmodifiableSet(result);\n+        return Collections.unmodifiableSet(new HashSet<>(getPredecessors()));\n@@ -196,5 +187,1 @@\n-        Set<Figure> result = new HashSet<>();\n-        for (Figure f : getSuccessors()) {\n-            result.add(f);\n-        }\n-        return Collections.unmodifiableSet(result);\n+        return Collections.unmodifiableSet(new HashSet<>(getSuccessors()));\n@@ -225,8 +212,0 @@\n-    public List<InputGraph> getSubgraphs() {\n-        return subgraphs;\n-    }\n-\n-    public void setSubgraphs(List<InputGraph> subgraphs) {\n-        this.subgraphs = subgraphs;\n-    }\n-\n@@ -247,3 +226,2 @@\n-    @Override\n-    public Source getSource() {\n-        return source;\n+    public InputNode getInputNode() {\n+        return inputNode;\n@@ -258,7 +236,0 @@\n-    public InputSlot createInputSlot(int index) {\n-        InputSlot slot = new InputSlot(this, index);\n-        inputSlots.add(slot);\n-        inputSlots.sort(Slot.slotIndexComparator);\n-        return slot;\n-    }\n-\n@@ -276,3 +247,1 @@\n-        } else if (outputSlots.contains(s)) {\n-            outputSlots.remove(s);\n-        }\n+        } else outputSlots.remove(s);\n@@ -281,1 +250,1 @@\n-    public OutputSlot createOutputSlot() {\n+    public void createOutputSlot() {\n@@ -284,1 +253,0 @@\n-        return slot;\n@@ -348,2 +316,2 @@\n-        for (int i = 0; i < strings.length; i++) {\n-            result.add(getProperties().resolveString(strings[i]));\n+        for (String string : strings) {\n+            result.add(getProperties().resolveString(string));\n@@ -354,1 +322,1 @@\n-            List<String> inputs = new ArrayList<String>(getPredecessors().size());\n+            List<String> inputs = new ArrayList<>(getPredecessors().size());\n@@ -369,1 +337,1 @@\n-        \/\/ Set the \"label\" property of each input node, so that by default\n+        \/\/ Set the \"label\" property of the input node, so that by default\n@@ -372,4 +340,3 @@\n-        for (InputNode n : getSource().getSourceNodes()) {\n-            String label = n.getProperties().resolveString(diagram.getNodeText());\n-            n.getProperties().setProperty(\"label\", label.replaceAll(\"\\\\R\", \" \"));\n-        }\n+        String label = inputNode.getProperties().resolveString(diagram.getNodeText());\n+        inputNode.getProperties().setProperty(\"label\", label.replaceAll(\"\\\\R\", \" \"));\n+\n@@ -393,4 +360,0 @@\n-    public InputNode getFirstSourceNode() {\n-        return getSource().getSourceNodes().get(0);\n-    }\n-\n@@ -402,10 +365,1 @@\n-        if (getSource().getSourceNodes().size() == 0) {\n-            assert false : \"Should never reach here, every figure must have at least one source node!\";\n-            return null;\n-        } else {\n-            final InputBlock inputBlock = diagram.getGraph().getBlock(getFirstSourceNode());\n-            assert inputBlock != null;\n-            Cluster result = diagram.getBlock(inputBlock);\n-            assert result != null;\n-            return result;\n-        }\n+        return block;\n@@ -416,4 +370,2 @@\n-\n-        List<InputNode> sourceNodes = source.getSourceNodes();\n-        if (sourceNodes.size() > 0 && getFirstSourceNode().getProperties().get(\"name\") != null) {\n-            return getFirstSourceNode().getProperties().get(\"name\").equals(\"Root\");\n+        if (inputNode != null && inputNode.getProperties().get(\"name\") != null) {\n+            return inputNode.getProperties().get(\"name\").equals(\"Root\");\n@@ -429,4 +381,0 @@\n-\n-    public Rectangle getBounds() {\n-        return new Rectangle(this.getPosition(), new Dimension(this.getWidth(), this.getHeight()));\n-    }\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Figure.java","additions":34,"deletions":86,"binary":false,"changes":120,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.layout.Port;\n@@ -28,0 +27,1 @@\n+import com.sun.hotspot.igv.layout.Port;\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/FigureConnection.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -81,18 +81,1 @@\n-    public static final Comparator<Slot> slotIndexComparator = new Comparator<Slot>() {\n-\n-        @Override\n-        public int compare(Slot o1, Slot o2) {\n-            return o1.wantedIndex - o2.wantedIndex;\n-        }\n-    };\n-    public static final Comparator<Slot> slotFigureComparator = new Comparator<Slot>() {\n-\n-        @Override\n-        public int compare(Slot o1, Slot o2) {\n-            return o1.figure.getId() - o2.figure.getId();\n-        }\n-    };\n-\n-    public InputNode getAssociatedNode() {\n-        return associatedNode;\n-    }\n+    public static final Comparator<Slot> slotIndexComparator = Comparator.comparingInt(o -> o.wantedIndex);\n@@ -110,1 +93,1 @@\n-            g.setFont(figure.getDiagram().getSlotFont().deriveFont(Font.BOLD));\n+            g.setFont(Diagram.SLOT_FONT.deriveFont(Font.BOLD));\n","filename":"src\/utils\/IdealGraphVisualizer\/Graph\/src\/main\/java\/com\/sun\/hotspot\/igv\/graph\/Slot.java","additions":2,"deletions":19,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.layout.Cluster;\n@@ -28,1 +29,0 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n@@ -38,2 +38,2 @@\n-    private ClusterNode from;\n-    private ClusterNode to;\n+    private final ClusterNode from;\n+    private final ClusterNode to;\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterEdge.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.layout.Cluster;\n@@ -28,1 +29,0 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n@@ -40,4 +40,2 @@\n-    private ClusterInputSlotNode inputSlotNode;\n-    private Link connection;\n-    private Port inputSlot;\n-    private Port outputSlot;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n@@ -46,3 +44,1 @@\n-        this.inputSlotNode = inputSlotNode;\n-        this.connection = c;\n-        this.controlPoints = new ArrayList<Point>();\n+        this.controlPoints = new ArrayList<>();\n@@ -54,8 +50,0 @@\n-    public Link getConnection() {\n-        return connection;\n-    }\n-\n-    public ClusterInputSlotNode getInputSlotNode() {\n-        return inputSlotNode;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterIngoingConnection.java","additions":4,"deletions":16,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-    private final int SIZE = 0;\n@@ -40,10 +39,3 @@\n-    private Port inputSlot;\n-    private Port outputSlot;\n-    private ClusterNode blockNode;\n-    private InterClusterConnection interBlockConnection;\n-    private Cluster cluster;\n-    private ClusterIngoingConnection conn;\n-\n-    public void setIngoingConnection(ClusterIngoingConnection c) {\n-        conn = c;\n-    }\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n+    private final ClusterNode blockNode;\n@@ -51,4 +43,1 @@\n-    public ClusterIngoingConnection getIngoingConnection() {\n-        return conn;\n-    }\n-    private String id;\n+    private final String id;\n@@ -82,1 +71,1 @@\n-                return \"OutPort of \" + thisNode.toString();\n+                return \"OutPort of \" + thisNode;\n@@ -101,1 +90,1 @@\n-                return \"InPort of \" + thisNode.toString();\n+                return \"InPort of \" + thisNode;\n@@ -110,4 +99,0 @@\n-    public InterClusterConnection getInterBlockConnection() {\n-        return interBlockConnection;\n-    }\n-\n@@ -119,1 +104,1 @@\n-        return new Dimension(SIZE, SIZE);\n+        return new Dimension(0, 0);\n@@ -130,4 +115,0 @@\n-    public void setInterBlockConnection(InterClusterConnection interBlockConnection) {\n-        this.interBlockConnection = interBlockConnection;\n-    }\n-\n@@ -135,1 +116,1 @@\n-        return cluster;\n+        return null;\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterInputSlotNode.java","additions":8,"deletions":27,"binary":false,"changes":35,"status":"modified"},{"patch":"@@ -32,5 +32,1 @@\n-import java.util.ArrayList;\n-import java.util.Collections;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Set;\n+import java.util.*;\n@@ -46,2 +42,1 @@\n-    private Port outputSlot;\n-    private Set<Vertex> subNodes;\n+    private final Set<Vertex> subNodes;\n@@ -50,2 +45,1 @@\n-    private Set<Link> subEdges;\n-    private boolean dirty;\n+    private final Set<Link> subEdges;\n@@ -53,1 +47,1 @@\n-    private String name;\n+    private final String name;\n@@ -62,2 +56,2 @@\n-        this.subNodes = new HashSet<Vertex>();\n-        this.subEdges = new HashSet<Link>();\n+        this.subNodes = new HashSet<>();\n+        this.subEdges = new HashSet<>();\n@@ -65,1 +59,1 @@\n-        position = new Point(0, 0);\n+        this.position = new Point(0, 0);\n@@ -97,2 +91,0 @@\n-\n-\n@@ -117,16 +109,0 @@\n-\n-        outputSlot = new Port() {\n-\n-            public Point getRelativePosition() {\n-                return new Point(size.width \/ 2, 0);\/\/size.height);\n-            }\n-\n-            public Vertex getVertex() {\n-                return widget;\n-            }\n-\n-            @Override\n-            public String toString() {\n-                return \"ClusterOutput(\" + name + \")\";\n-            }\n-        };\n@@ -177,1 +153,1 @@\n-            List<Point> points = new ArrayList<Point>(l.getControlPoints());\n+            List<Point> points = new ArrayList<>(l.getControlPoints());\n@@ -195,4 +171,0 @@\n-    public Port getOutputSlot() {\n-        return outputSlot;\n-    }\n-\n@@ -218,1 +190,1 @@\n-            ArrayList<Point> newArr = new ArrayList<Point>(arr.size());\n+            ArrayList<Point> newArr = new ArrayList<>(arr.size());\n@@ -241,4 +213,0 @@\n-    public void setDirty(boolean b) {\n-        dirty = b;\n-    }\n-\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterNode.java","additions":9,"deletions":41,"binary":false,"changes":50,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.layout.Cluster;\n@@ -28,1 +29,0 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n@@ -40,4 +40,2 @@\n-    private ClusterOutputSlotNode outputSlotNode;\n-    private Link connection;\n-    private Port inputSlot;\n-    private Port outputSlot;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n@@ -46,6 +44,3 @@\n-        this.outputSlotNode = outputSlotNode;\n-        this.connection = c;\n-        this.intermediatePoints = new ArrayList<Point>();\n-\n-        outputSlot = c.getFrom();\n-        inputSlot = outputSlotNode.getInputSlot();\n+        this.intermediatePoints = new ArrayList<>();\n+        this.outputSlot = c.getFrom();\n+        this.inputSlot = outputSlotNode.getInputSlot();\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterOutgoingConnection.java","additions":6,"deletions":11,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -38,1 +38,0 @@\n-    private final int SIZE = 0;\n@@ -40,4 +39,3 @@\n-    private Port inputSlot;\n-    private Port outputSlot;\n-    private ClusterNode blockNode;\n-    private boolean root;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n+    private final ClusterNode blockNode;\n@@ -46,1 +44,1 @@\n-    private String id;\n+    private final String id;\n@@ -82,1 +80,1 @@\n-                return \"InPort of \" + thisNode.toString();\n+                return \"InPort of \" + thisNode;\n@@ -91,1 +89,1 @@\n-                p.y = 0;\/\/thisBlockNode.getSize().height;\n+                p.y = 0;\n@@ -101,1 +99,1 @@\n-                return \"OutPort of \" + thisNode.toString();\n+                return \"OutPort of \" + thisNode;\n@@ -107,1 +105,1 @@\n-        return new Dimension(SIZE, SIZE);\n+        return new Dimension(0, 0);\n@@ -130,4 +128,0 @@\n-    public void setRoot(boolean b) {\n-        root = b;\n-    }\n-\n@@ -139,1 +133,1 @@\n-        return root;\n+        return false;\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/ClusterOutputSlotNode.java","additions":9,"deletions":15,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -1,90 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.hierarchicallayout;\n-\n-\/**\n- *\n- * @author Thomas Wuerthinger\n- *\/\n-public class Edge<N, E> {\n-\n-    private E data;\n-    private Node<N, E> source;\n-    private Node<N, E> dest;\n-\n-    protected Edge(Graph<N, E> graph, Node<N, E> source, Node<N, E> dest, E data) {\n-        setData(data);\n-        this.source = source;\n-        this.dest = dest;\n-        assert source != null;\n-        assert dest != null;\n-        assert source.getGraph() == dest.getGraph();\n-        assert source.getGraph() != null;\n-        assert dest.getGraph() != null;\n-    }\n-\n-    public Node<N, E> getSource() {\n-        return source;\n-    }\n-\n-    public Node<N, E> getDest() {\n-        return dest;\n-    }\n-\n-    public E getData() {\n-        return data;\n-    }\n-\n-    public void setData(E e) {\n-        data = e;\n-    }\n-\n-    public void remove() {\n-        source.getGraph().removeEdge(this, null);\n-    }\n-\n-    public boolean isSelfLoop() {\n-        return source == dest;\n-    }\n-\n-    public void reverse() {\n-\n-        \/\/ Remove from current source \/ dest\n-        source.removeOutEdge(this);\n-        dest.removeInEdge(this);\n-\n-        Node<N, E> tmp = source;\n-        source = dest;\n-        dest = tmp;\n-\n-        \/\/ Add to new source \/ dest\n-        source.addOutEdge(this);\n-        dest.addInEdge(this);\n-    }\n-\n-    @Override\n-    public String toString() {\n-        return \"Edge (\" + source + \" -- \" + dest + \"): \" + data;\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/Edge.java","additions":0,"deletions":90,"binary":false,"changes":90,"status":"deleted"},{"patch":"@@ -1,292 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.hierarchicallayout;\n-\n-import java.util.*;\n-\n-\/**\n- *\n- * @author Thomas Wuerthinger\n- *\/\n-public class Graph<N, E> {\n-\n-    private HashMap<Object, Node<N, E>> nodes;\n-    private HashMap<Object, Edge<N, E>> edges;\n-    private List<Node<N, E>> nodeList;\n-\n-    public Graph() {\n-        nodes = new HashMap<>();\n-        edges = new HashMap<>();\n-        nodeList = new ArrayList<>();\n-    }\n-\n-    public Node<N, E> createNode(N data, Object key) {\n-        Node<N, E> n = new Node<>(this, data);\n-        assert key == null || !nodes.containsKey(key);\n-        if (key != null) {\n-            nodes.put(key, n);\n-        }\n-        nodeList.add(n);\n-        return n;\n-    }\n-\n-    public Edge<N, E> createEdge(Node<N, E> source, Node<N, E> dest, E data, Object key) {\n-        Edge<N, E> e = new Edge<>(this, source, dest, data);\n-        source.addOutEdge(e);\n-        dest.addInEdge(e);\n-        if (key != null) {\n-            edges.put(key, e);\n-        }\n-        return e;\n-    }\n-\n-    public Node<N, E> getNode(Object key) {\n-        return nodes.get(key);\n-    }\n-\n-    public Edge<N, E> getEdge(Object key) {\n-        return edges.get(key);\n-    }\n-\n-    public Collection<Edge<N, E>> getEdges() {\n-        return Collections.unmodifiableCollection(edges.values());\n-    }\n-\n-    public Collection<Node<N, E>> getNodes() {\n-        return Collections.unmodifiableList(nodeList);\n-    }\n-\n-    public void removeEdge(Edge<N, E> e, Object key) {\n-        assert key == null || edges.containsKey(key);\n-        if (key != null) {\n-            edges.remove(key);\n-        }\n-        e.getSource().removeOutEdge(e);\n-        e.getDest().removeInEdge(e);\n-    }\n-\n-    public class DFSTraversalVisitor {\n-\n-        public void visitNode(Node<N, E> n) {\n-        }\n-\n-        public boolean visitEdge(Edge<N, E> e, boolean backEdge) {\n-            return true;\n-        }\n-    }\n-\n-    public class BFSTraversalVisitor {\n-\n-        public void visitNode(Node<N, E> n, int depth) {\n-        }\n-    }\n-\n-    public List<Node<N, E>> getNodesWithInDegree(int x) {\n-        return getNodesWithInDegree(x, true);\n-    }\n-\n-    public List<Node<N, E>> getNodesWithInDegree(int x, boolean countSelfLoops) {\n-\n-        List<Node<N, E>> result = new ArrayList<>();\n-        for (Node<N, E> n : getNodes()) {\n-            if (n.getInDegree(countSelfLoops) == x) {\n-                result.add(n);\n-            }\n-        }\n-\n-        return result;\n-\n-    }\n-\n-    private void markReachable(Node<N, E> startingNode) {\n-        ArrayList<Node<N, E>> arr = new ArrayList<>();\n-        arr.add(startingNode);\n-        for (Node<N, E> n : getNodes()) {\n-            n.setReachable(false);\n-        }\n-        traverseDFS(arr, new DFSTraversalVisitor() {\n-\n-            @Override\n-            public void visitNode(Node<N, E> n) {\n-                n.setReachable(true);\n-            }\n-        });\n-    }\n-\n-    public void traverseBFS(Node<N, E> startingNode, BFSTraversalVisitor tv, boolean longestPath) {\n-\n-        if (longestPath) {\n-            markReachable(startingNode);\n-        }\n-\n-        for (Node<N, E> n : getNodes()) {\n-            n.setVisited(false);\n-            n.setActive(false);\n-        }\n-\n-        Queue<Node<N, E>> queue = new LinkedList<>();\n-        queue.add(startingNode);\n-        startingNode.setVisited(true);\n-        int layer = 0;\n-        Node<N, E> lastOfLayer = startingNode;\n-        Node<N, E> lastAdded = null;\n-\n-        while (!queue.isEmpty()) {\n-\n-            Node<N, E> current = queue.poll();\n-            tv.visitNode(current, layer);\n-            current.setActive(false);\n-\n-\n-            for (Edge<N, E> e : current.getOutEdges()) {\n-                if (!e.getDest().isVisited()) {\n-\n-                    boolean allow = true;\n-                    if (longestPath) {\n-                        for (Node<N, E> pred : e.getDest().getPredecessors()) {\n-                            if ((!pred.isVisited() || pred.isActive()) && pred.isReachable()) {\n-                                allow = false;\n-                                break;\n-                            }\n-                        }\n-                    }\n-\n-                    if (allow) {\n-                        queue.offer(e.getDest());\n-                        lastAdded = e.getDest();\n-                        e.getDest().setVisited(true);\n-                        e.getDest().setActive(true);\n-                    }\n-                }\n-            }\n-\n-            if (current == lastOfLayer && !queue.isEmpty()) {\n-                lastOfLayer = lastAdded;\n-                layer++;\n-            }\n-        }\n-    }\n-\n-    public void traverseDFS(DFSTraversalVisitor tv) {\n-        traverseDFS(getNodes(), tv);\n-    }\n-\n-    public void traverseDFS(Collection<Node<N, E>> startingNodes, DFSTraversalVisitor tv) {\n-\n-        for (Node<N, E> n : getNodes()) {\n-            n.setVisited(false);\n-            n.setActive(false);\n-        }\n-\n-        boolean result = false;\n-        for (Node<N, E> n : startingNodes) {\n-            traverse(tv, n);\n-        }\n-    }\n-\n-    private void traverse(DFSTraversalVisitor tv, Node<N, E> n) {\n-\n-        if (!n.isVisited()) {\n-            n.setVisited(true);\n-            n.setActive(true);\n-            tv.visitNode(n);\n-\n-            for (Edge<N, E> e : n.getOutEdges()) {\n-\n-                Node<N, E> next = e.getDest();\n-                if (next.isActive()) {\n-                    tv.visitEdge(e, true);\n-                } else {\n-                    if (tv.visitEdge(e, false)) {\n-                        traverse(tv, next);\n-                    }\n-                }\n-            }\n-\n-            n.setActive(false);\n-        }\n-\n-    }\n-\n-    public boolean hasCycles() {\n-\n-        for (Node<N, E> n : getNodes()) {\n-            n.setVisited(false);\n-            n.setActive(false);\n-        }\n-\n-        boolean result = false;\n-        for (Node<N, E> n : getNodes()) {\n-            result |= checkCycles(n);\n-            if (result) {\n-                break;\n-            }\n-        }\n-        return result;\n-    }\n-\n-    private boolean checkCycles(Node<N, E> n) {\n-\n-        if (n.isActive()) {\n-            return true;\n-        }\n-\n-        if (!n.isVisited()) {\n-\n-            n.setVisited(true);\n-            n.setActive(true);\n-\n-            for (Node<N, E> succ : n.getSuccessors()) {\n-                if (checkCycles(succ)) {\n-                    return true;\n-                }\n-            }\n-\n-            n.setActive(false);\n-\n-        }\n-\n-        return false;\n-    }\n-\n-    @Override\n-    public String toString() {\n-\n-        StringBuilder s = new StringBuilder();\n-        s.append(\"Nodes: \");\n-        for (Node<N, E> n : getNodes()) {\n-            s.append(n.toString());\n-            s.append(\"\\n\");\n-        }\n-\n-        s.append(\"Edges: \");\n-\n-        for (Edge<N, E> e : getEdges()) {\n-            s.append(e.toString());\n-            s.append(\"\\n\");\n-        }\n-\n-        return s.toString();\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/Graph.java","additions":0,"deletions":292,"binary":false,"changes":292,"status":"deleted"},{"patch":"@@ -26,8 +26,0 @@\n-import java.awt.Dimension;\n-import java.awt.Rectangle;\n-import java.awt.Canvas;\n-import java.awt.Font;\n-import java.awt.FontMetrics;\n-import java.util.*;\n-import com.sun.hotspot.igv.layout.Cluster;\n-import com.sun.hotspot.igv.layout.LayoutGraph;\n@@ -35,2 +27,3 @@\n-import com.sun.hotspot.igv.layout.Link;\n-import com.sun.hotspot.igv.layout.Vertex;\n+import com.sun.hotspot.igv.layout.*;\n+import java.awt.*;\n+import java.util.*;\n@@ -41,1 +34,1 @@\n-    private FontMetrics fontMetrics;\n+    private final FontMetrics fontMetrics;\n@@ -81,1 +74,1 @@\n-            subManager.doLayout(new LayoutGraph(n.getSubEdges(), n.getSubNodes()), new HashSet<Link>());\n+            subManager.doLayout(new LayoutGraph(n.getSubEdges(), n.getSubNodes()), new HashSet<>());\n@@ -86,2 +79,1 @@\n-        manager.doLayout(new LayoutGraph(clusterEdges, new HashSet<>(clusterNode.values())),\n-                         new HashSet<Link>());\n+        manager.doLayout(new LayoutGraph(clusterEdges, new HashSet<>(clusterNode.values())), new HashSet<>());\n@@ -147,1 +139,1 @@\n-            inputLink.put(new AbstractMap.SimpleEntry<Cluster, Cluster>(l.getFromCluster(), l.getToCluster()), l);\n+            inputLink.put(new AbstractMap.SimpleEntry<>(l.getFromCluster(), l.getToCluster()), l);\n@@ -151,1 +143,1 @@\n-            Link l = inputLink.get(new AbstractMap.SimpleEntry<Cluster, Cluster>(ce.getFromCluster(), ce.getToCluster()));\n+            Link l = inputLink.get(new AbstractMap.SimpleEntry<>(ce.getFromCluster(), ce.getToCluster()));\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/HierarchicalCFGLayoutManager.java","additions":8,"deletions":16,"binary":false,"changes":24,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2008, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.layout.*;\n@@ -28,12 +29,1 @@\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Set;\n-import java.util.ArrayList;\n-import java.util.HashSet;\n-import java.util.TreeSet;\n-import com.sun.hotspot.igv.layout.Cluster;\n-import com.sun.hotspot.igv.layout.LayoutGraph;\n-import com.sun.hotspot.igv.layout.LayoutManager;\n-import com.sun.hotspot.igv.layout.Link;\n-import com.sun.hotspot.igv.layout.Port;\n-import com.sun.hotspot.igv.layout.Vertex;\n+import java.util.*;\n@@ -56,4 +46,0 @@\n-    public void doLayout(LayoutGraph graph) {\n-        doLayout(graph, new HashSet<Vertex>(), new HashSet<Vertex>(), new HashSet<Link>());\n-    }\n-\n@@ -72,1 +58,1 @@\n-    public void doLayout(LayoutGraph graph, Set<? extends Vertex> firstLayerHint, Set<? extends Vertex> lastLayerHint, Set<? extends Link> importantLinks) {\n+    public void doLayout(LayoutGraph graph) {\n@@ -76,14 +62,13 @@\n-        HashMap<Cluster, List<Vertex>> lists = new HashMap<Cluster, List<Vertex>>();\n-        HashMap<Cluster, List<Link>> listsConnection = new HashMap<Cluster, List<Link>>();\n-        HashMap<Cluster, HashMap<Port, ClusterInputSlotNode>> clusterInputSlotHash = new HashMap<Cluster, HashMap<Port, ClusterInputSlotNode>>();\n-        HashMap<Cluster, HashMap<Port, ClusterOutputSlotNode>> clusterOutputSlotHash = new HashMap<Cluster, HashMap<Port, ClusterOutputSlotNode>>();\n-\n-        HashMap<Cluster, ClusterNode> clusterNodes = new HashMap<Cluster, ClusterNode>();\n-        HashMap<Cluster, Set<ClusterInputSlotNode>> clusterInputSlotSet = new HashMap<Cluster, Set<ClusterInputSlotNode>>();\n-        HashMap<Cluster, Set<ClusterOutputSlotNode>> clusterOutputSlotSet = new HashMap<Cluster, Set<ClusterOutputSlotNode>>();\n-        Set<Link> clusterEdges = new HashSet<Link>();\n-        Set<Link> interClusterEdges = new HashSet<Link>();\n-        HashMap<Link, ClusterOutgoingConnection> linkClusterOutgoingConnection = new HashMap<Link, ClusterOutgoingConnection>();\n-        HashMap<Link, InterClusterConnection> linkInterClusterConnection = new HashMap<Link, InterClusterConnection>();\n-        HashMap<Link, ClusterIngoingConnection> linkClusterIngoingConnection = new HashMap<Link, ClusterIngoingConnection>();\n-        Set<ClusterNode> clusterNodeSet = new HashSet<ClusterNode>();\n+        HashMap<Cluster, List<Link>> listsConnection = new HashMap<>();\n+        HashMap<Cluster, HashMap<Port, ClusterInputSlotNode>> clusterInputSlotHash = new HashMap<>();\n+        HashMap<Cluster, HashMap<Port, ClusterOutputSlotNode>> clusterOutputSlotHash = new HashMap<>();\n+\n+        HashMap<Cluster, ClusterNode> clusterNodes = new HashMap<>();\n+        HashMap<Cluster, Set<ClusterInputSlotNode>> clusterInputSlotSet = new HashMap<>();\n+        HashMap<Cluster, Set<ClusterOutputSlotNode>> clusterOutputSlotSet = new HashMap<>();\n+        Set<Link> clusterEdges = new HashSet<>();\n+        Set<Link> interClusterEdges = new HashSet<>();\n+        HashMap<Link, ClusterOutgoingConnection> linkClusterOutgoingConnection = new HashMap<>();\n+        HashMap<Link, InterClusterConnection> linkInterClusterConnection = new HashMap<>();\n+        HashMap<Link, ClusterIngoingConnection> linkClusterIngoingConnection = new HashMap<>();\n+        Set<ClusterNode> clusterNodeSet = new HashSet<>();\n@@ -94,6 +79,5 @@\n-            lists.put(c, new ArrayList<Vertex>());\n-            listsConnection.put(c, new ArrayList<Link>());\n-            clusterInputSlotHash.put(c, new HashMap<Port, ClusterInputSlotNode>());\n-            clusterOutputSlotHash.put(c, new HashMap<Port, ClusterOutputSlotNode>());\n-            clusterOutputSlotSet.put(c, new TreeSet<ClusterOutputSlotNode>());\n-            clusterInputSlotSet.put(c, new TreeSet<ClusterInputSlotNode>());\n+            listsConnection.put(c, new ArrayList<>());\n+            clusterInputSlotHash.put(c, new HashMap<>());\n+            clusterOutputSlotHash.put(c, new HashMap<>());\n+            clusterOutputSlotSet.put(c, new TreeSet<>());\n+            clusterInputSlotSet.put(c, new TreeSet<>());\n@@ -159,1 +143,1 @@\n-                    outputSlotNode = new ClusterOutputSlotNode(clusterNodes.get(fromCluster), \"Out \" + fromCluster.toString() + \" \" + samePort.toString());\n+                    outputSlotNode = new ClusterOutputSlotNode(clusterNodes.get(fromCluster), \"Out \" + fromCluster.toString() + \" \" + samePort);\n@@ -174,1 +158,1 @@\n-                    inputSlotNode = new ClusterInputSlotNode(clusterNodes.get(toCluster), \"In \" + toCluster.toString() + \" \" + samePort.toString());\n+                    inputSlotNode = new ClusterInputSlotNode(clusterNodes.get(toCluster), \"In \" + toCluster.toString() + \" \" + samePort);\n@@ -179,1 +163,0 @@\n-                inputSlotNode.setIngoingConnection(conn);\n@@ -181,3 +164,1 @@\n-                if (samePort != null) {\n-                    clusterInputSlotHash.get(toCluster).put(samePort, inputSlotNode);\n-                }\n+                clusterInputSlotHash.get(toCluster).put(samePort, inputSlotNode);\n@@ -197,1 +178,1 @@\n-            new Timing(\"Child timing\");\n+            t = new Timing(\"Child timing\");\n@@ -203,1 +184,1 @@\n-            subManager.doLayout(new LayoutGraph(n.getSubEdges(), n.getSubNodes()), new HashSet<Link>());\n+            subManager.doLayout(new LayoutGraph(n.getSubEdges(), n.getSubNodes()), new HashSet<>());\n@@ -238,1 +219,1 @@\n-                List<Point> points = new ArrayList<Point>();\n+                List<Point> points = new ArrayList<>();\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/HierarchicalClusterLayoutManager.java","additions":28,"deletions":47,"binary":false,"changes":75,"status":"modified"},{"patch":"@@ -59,3 +59,3 @@\n-    private Combine combine;\n-    private int dummyWidth;\n-    private int dummyHeight;\n+    private final Combine combine;\n+    private final int dummyWidth;\n+    private final int dummyHeight;\n@@ -74,1 +74,0 @@\n-    private HashMap<LayoutEdge, LayoutEdge> bottomEdgeHash;\n@@ -81,1 +80,1 @@\n-    private Set<Link> linksToFollow;\n+    private final Set<Link> linksToFollow;\n@@ -126,1 +125,1 @@\n-    private abstract class AlgorithmPart {\n+    private abstract static class AlgorithmPart {\n@@ -162,4 +161,0 @@\n-    public HierarchicalLayoutManager() {\n-        this(Combine.NONE);\n-    }\n-\n@@ -186,4 +181,0 @@\n-    public int getMaxLayerLength() {\n-        return maxLayerLength;\n-    }\n-\n@@ -219,1 +210,1 @@\n-        doLayout(graph, new HashSet<Link>());\n+        doLayout(graph, new HashSet<>());\n@@ -234,1 +225,0 @@\n-        bottomEdgeHash = new HashMap<>();\n@@ -455,1 +445,0 @@\n-                                \/\/checkPoints(points);\n@@ -479,1 +468,0 @@\n-                            \/\/checkPoints(points);\n@@ -541,14 +529,7 @@\n-    private static class Segment {\n-\n-        public float d;\n-        public int orderNumber = -1;\n-        public ArrayList<LayoutNode> nodes = new ArrayList<>();\n-        public HashSet<Segment> succs = new HashSet<>();\n-        public HashSet<Segment> preds = new HashSet<>();\n-        public Region region;\n-    }\n-    private static final Comparator<Segment> segmentComparator = new Comparator<Segment>() {\n-\n-        @Override\n-        public int compare(Segment s1, Segment s2) {\n-            return s1.orderNumber - s2.orderNumber;\n+    private static final Comparator<LayoutNode> nodePositionComparator = Comparator.comparingInt(n -> n.pos);\n+    private static final Comparator<LayoutNode> nodeProcessingDownComparator = (n1, n2) -> {\n+        int n1VIP = 0;\n+        for (LayoutEdge e : n1.preds) {\n+            if (e.vip) {\n+                n1VIP++;\n+            }\n@@ -556,15 +537,5 @@\n-    };\n-\n-    private static class Region {\n-\n-        public float d;\n-        public int minOrderNumber;\n-        public SortedSet<Segment> segments = new TreeSet<>(segmentComparator);\n-        public HashSet<Region> succs = new HashSet<>(4);\n-        public HashSet<Region> preds = new HashSet<>(4);\n-    }\n-    private static final Comparator<Region> regionComparator = new Comparator<Region>() {\n-\n-        @Override\n-        public int compare(Region r1, Region r2) {\n-            return r1.minOrderNumber - r2.minOrderNumber;\n+        int n2VIP = 0;\n+        for (LayoutEdge e : n2.preds) {\n+            if (e.vip) {\n+                n2VIP++;\n+            }\n@@ -572,6 +543,2 @@\n-    };\n-    private static final Comparator<LayoutNode> nodePositionComparator = new Comparator<LayoutNode>() {\n-\n-        @Override\n-        public int compare(LayoutNode n1, LayoutNode n2) {\n-            return n1.pos - n2.pos;\n+        if (n1VIP != n2VIP) {\n+            return n2VIP - n1VIP;\n@@ -579,25 +546,1 @@\n-    };\n-    private static final Comparator<LayoutNode> nodeProcessingDownComparator = new Comparator<LayoutNode>() {\n-        @Override\n-        public int compare(LayoutNode n1, LayoutNode n2) {\n-            int n1VIP = 0;\n-            for (LayoutEdge e : n1.preds) {\n-                if (e.vip) {\n-                    n1VIP++;\n-                }\n-            }\n-            int n2VIP = 0;\n-            for (LayoutEdge e : n2.preds) {\n-                if (e.vip) {\n-                    n2VIP++;\n-                }\n-            }\n-            if (n1VIP != n2VIP) {\n-                return n2VIP - n1VIP;\n-            }\n-            if (n1.vertex == null) {\n-                if (n2.vertex == null) {\n-                    return 0;\n-                }\n-                return -1;\n-            }\n+        if (n1.vertex == null) {\n@@ -605,1 +548,1 @@\n-                return 1;\n+                return 0;\n@@ -607,1 +550,1 @@\n-            return n1.preds.size() - n2.preds.size();\n+            return -1;\n@@ -609,0 +552,4 @@\n+        if (n2.vertex == null) {\n+            return 1;\n+        }\n+        return n1.preds.size() - n2.preds.size();\n@@ -610,15 +557,5 @@\n-    private static final Comparator<LayoutNode> nodeProcessingUpComparator = new Comparator<LayoutNode>() {\n-\n-        @Override\n-        public int compare(LayoutNode n1, LayoutNode n2) {\n-            int n1VIP = 0;\n-            for (LayoutEdge e : n1.succs) {\n-                if (e.vip) {\n-                    n1VIP++;\n-                }\n-            }\n-            int n2VIP = 0;\n-            for (LayoutEdge e : n2.succs) {\n-                if (e.vip) {\n-                    n2VIP++;\n-                }\n+    private static final Comparator<LayoutNode> nodeProcessingUpComparator = (n1, n2) -> {\n+        int n1VIP = 0;\n+        for (LayoutEdge e : n1.succs) {\n+            if (e.vip) {\n+                n1VIP++;\n@@ -626,8 +563,5 @@\n-            if (n1VIP != n2VIP) {\n-                return n2VIP - n1VIP;\n-            }\n-            if (n1.vertex == null) {\n-                if (n2.vertex == null) {\n-                    return 0;\n-                }\n-                return -1;\n+        }\n+        int n2VIP = 0;\n+        for (LayoutEdge e : n2.succs) {\n+            if (e.vip) {\n+                n2VIP++;\n@@ -635,0 +569,5 @@\n+        }\n+        if (n1VIP != n2VIP) {\n+            return n2VIP - n1VIP;\n+        }\n+        if (n1.vertex == null) {\n@@ -636,1 +575,1 @@\n-                return 1;\n+                return 0;\n@@ -638,1 +577,1 @@\n-            return n1.succs.size() - n2.succs.size();\n+            return -1;\n@@ -640,0 +579,4 @@\n+        if (n2.vertex == null) {\n+            return 1;\n+        }\n+        return n1.succs.size() - n2.succs.size();\n@@ -686,1 +629,1 @@\n-                sweepUp(false);\n+                sweepUp();\n@@ -692,1 +635,1 @@\n-            sweepUp(true);\n+            sweepUp();\n@@ -697,2 +640,0 @@\n-                \/\/               space[i] = new ArrayList<>();\n-                int curX = 0;\n@@ -701,1 +642,0 @@\n-\/\/                    curX += n.width + xOffset;\n@@ -784,1 +724,1 @@\n-        private void sweepUp(boolean onlyDummies) {\n+        private void sweepUp() {\n@@ -794,10 +734,0 @@\n-        private void doubleSweep() {\n-            for (int i = layers.length - 2; i >= 0; i--) {\n-                NodeRow r = new NodeRow(space[i]);\n-                for (LayoutNode n : upProcessingOrder[i]) {\n-                    int optimal = calculateOptimalBoth(n);\n-                    r.insert(n, optimal);\n-                }\n-            }\n-        }\n-\n@@ -817,2 +747,2 @@\n-        private TreeSet<LayoutNode> treeSet;\n-        private ArrayList<Integer> space;\n+        private final TreeSet<LayoutNode> treeSet;\n+        private final ArrayList<Integer> space;\n@@ -835,1 +765,1 @@\n-            LayoutNode leftNeighbor = null;\n+            LayoutNode leftNeighbor;\n@@ -846,1 +776,1 @@\n-                LayoutNode rightNeighbor = null;\n+                LayoutNode rightNeighbor;\n@@ -854,5 +784,1 @@\n-                if (pos > maxX) {\n-                    n.x = maxX;\n-                } else {\n-                    n.x = pos;\n-                }\n+                n.x = Math.min(pos, maxX);\n@@ -866,7 +792,1 @@\n-    private static Comparator<LayoutNode> crossingNodeComparator = new Comparator<LayoutNode>() {\n-\n-        @Override\n-        public int compare(LayoutNode n1, LayoutNode n2) {\n-            return n1.crossingNumber - n2.crossingNumber;\n-        }\n-    };\n+    private static final Comparator<LayoutNode> crossingNodeComparator = Comparator.comparingInt(n -> n.crossingNumber);\n@@ -948,2 +868,1 @@\n-\n-            for (int i = 0; i < layers.length; i++) {\n+            for (List<LayoutNode> layer : layers) {\n@@ -951,1 +870,1 @@\n-                for (LayoutNode n : layers[i]) {\n+                for (LayoutNode n : layer) {\n@@ -1091,1 +1010,1 @@\n-            for (int i = 0; i < layers.length; i++) {\n+            for (List<LayoutNode> layer : layers) {\n@@ -1095,1 +1014,1 @@\n-                for (LayoutNode n : layers[i]) {\n+                for (LayoutNode n : layer) {\n@@ -1102,1 +1021,1 @@\n-                for (LayoutNode n : layers[i]) {\n+                for (LayoutNode n : layer) {\n@@ -1150,7 +1069,1 @@\n-                Comparator<LayoutEdge> comparator = new Comparator<LayoutEdge>() {\n-\n-                    @Override\n-                    public int compare(LayoutEdge e1, LayoutEdge e2) {\n-                        return e1.to.layer - e2.to.layer;\n-                    }\n-                };\n+                Comparator<LayoutEdge> comparator = Comparator.comparingInt(e -> e.to.layer);\n@@ -1168,1 +1081,1 @@\n-                            if (maxLayerLength != -1 && e.to.layer - e.from.layer > maxLayerLength\/* && e.to.preds.size() > 1 && e.from.succs.size() > 1*\/) {\n+                            if (maxLayerLength != -1 && e.to.layer - e.from.layer > maxLayerLength) {\n@@ -1173,1 +1086,1 @@\n-                                LayoutEdge topEdge = null;\n+                                LayoutEdge topEdge;\n@@ -1196,1 +1109,1 @@\n-                                    topEdge.relativeTo = topNode.width \/ 2;\n+                                    topEdge.relativeTo = 0;\n@@ -1203,1 +1116,1 @@\n-                                    bottomNodeHash.put(e.relativeFrom, new HashMap<Integer, LayoutNode>());\n+                                    bottomNodeHash.put(e.relativeFrom, new HashMap<>());\n@@ -1208,1 +1121,1 @@\n-                                LayoutNode bottomNode = null;\n+                                LayoutNode bottomNode;\n@@ -1229,1 +1142,0 @@\n-                                bottomEdgeHash.put(topEdge, bottomEdge);\n@@ -1235,1 +1147,1 @@\n-                                    portHash.put(i, new ArrayList<LayoutEdge>());\n+                                    portHash.put(i, new ArrayList<>());\n@@ -1568,1 +1480,1 @@\n-                int curX = 0;\n+                int curY = 0;\n@@ -1580,2 +1492,2 @@\n-                    startPoints.add(new Point(curWidth, curX));\n-                    startPoints.add(new Point(pos, curX));\n+                    startPoints.add(new Point(curWidth, curY));\n+                    startPoints.add(new Point(pos, curY));\n@@ -1587,2 +1499,2 @@\n-                    node.inOffsets.put(pos, -curX);\n-                    curX += offset;\n+                    node.inOffsets.put(pos, -curY);\n+                    curY += offset;\n@@ -1600,7 +1512,1 @@\n-                if (hasReversedDown) {\n-                    curX = -offset;\n-                } else {\n-                    curX = offset;\n-                }\n-\n-                curX = 0;\n+                int curX = 0;\n@@ -1764,7 +1670,4 @@\n-    private Comparator<Link> linkComparator = new Comparator<Link>() {\n-\n-        @Override\n-        public int compare(Link l1, Link l2) {\n-            if (l1.isVIP() && !l2.isVIP()) {\n-                return -1;\n-            }\n+    private final Comparator<Link> linkComparator = (l1, l2) -> {\n+        if (l1.isVIP() && !l2.isVIP()) {\n+            return -1;\n+        }\n@@ -1772,3 +1675,3 @@\n-            if (!l1.isVIP() && l2.isVIP()) {\n-                return 1;\n-            }\n+        if (!l1.isVIP() && l2.isVIP()) {\n+            return 1;\n+        }\n@@ -1776,13 +1679,10 @@\n-            int result = l1.getFrom().getVertex().compareTo(l2.getFrom().getVertex());\n-            if (result != 0) {\n-                return result;\n-            }\n-            result = l1.getTo().getVertex().compareTo(l2.getTo().getVertex());\n-            if (result != 0) {\n-                return result;\n-            }\n-            result = l1.getFrom().getRelativePosition().x - l2.getFrom().getRelativePosition().x;\n-            if (result != 0) {\n-                return result;\n-            }\n-            result = l1.getTo().getRelativePosition().x - l2.getTo().getRelativePosition().x;\n+        int result = l1.getFrom().getVertex().compareTo(l2.getFrom().getVertex());\n+        if (result != 0) {\n+            return result;\n+        }\n+        result = l1.getTo().getVertex().compareTo(l2.getTo().getVertex());\n+        if (result != 0) {\n+            return result;\n+        }\n+        result = l1.getFrom().getRelativePosition().x - l2.getFrom().getRelativePosition().x;\n+        if (result != 0) {\n@@ -1791,0 +1691,2 @@\n+        result = l1.getTo().getRelativePosition().x - l2.getTo().getRelativePosition().x;\n+        return result;\n@@ -1800,5 +1702,2 @@\n-            Collections.sort(vertices,\n-                             (Vertex a, Vertex b) ->\n-                             a.isRoot() == b.isRoot() ?\n-                             a.compareTo(b) :\n-                             Boolean.compare(b.isRoot(), a.isRoot()));\n+            vertices.sort((Vertex a, Vertex b) ->\n+                    a.isRoot() == b.isRoot() ? a.compareTo(b) : Boolean.compare(b.isRoot(), a.isRoot()));\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/HierarchicalLayoutManager.java","additions":96,"deletions":197,"binary":false,"changes":293,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.layout.Cluster;\n@@ -28,1 +29,0 @@\n-import com.sun.hotspot.igv.layout.Cluster;\n@@ -39,2 +39,2 @@\n-    private Port inputSlot;\n-    private Port outputSlot;\n+    private final Port inputSlot;\n+    private final Port outputSlot;\n@@ -42,2 +42,0 @@\n-    private ClusterInputSlotNode inputSlotNode;\n-    private ClusterOutputSlotNode outputSlotNode;\n@@ -46,2 +44,0 @@\n-        this.outputSlotNode = outputSlotNode;\n-        this.inputSlotNode = inputSlotNode;\n@@ -50,5 +46,1 @@\n-        intermediatePoints = new ArrayList<Point>();\n-    }\n-\n-    public ClusterOutputSlotNode getOutputSlotNode() {\n-        return outputSlotNode;\n+        this.intermediatePoints = new ArrayList<>();\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/InterClusterConnection.java","additions":4,"deletions":12,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -44,1 +44,1 @@\n-        doLayout(graph, new HashSet<Link>());\n+        doLayout(graph, new HashSet<>());\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/LinearLayoutManager.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,161 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.hierarchicallayout;\n-\n-import java.util.ArrayList;\n-import java.util.Collections;\n-import java.util.List;\n-\n-\/**\n- *\n- * @author Thomas Wuerthinger\n- *\/\n-public class Node<N, E> {\n-\n-    private N data;\n-    private List<Edge<N, E>> inEdges;\n-    private List<Edge<N, E>> outEdges;\n-    private boolean visited;\n-    private boolean active;\n-    private boolean reachable;\n-    private Graph<N, E> graph;\n-\n-    protected boolean isVisited() {\n-        return visited;\n-    }\n-\n-    protected void setVisited(boolean b) {\n-        visited = b;\n-    }\n-\n-    protected boolean isReachable() {\n-        return reachable;\n-    }\n-\n-    protected void setReachable(boolean b) {\n-        reachable = b;\n-    }\n-\n-    protected boolean isActive() {\n-        return active;\n-    }\n-\n-    protected void setActive(boolean b) {\n-        active = b;\n-    }\n-\n-    public int getInDegree() {\n-        return getInDegree(true);\n-    }\n-\n-    public int getInDegree(boolean countSelfLoops) {\n-        if (countSelfLoops) {\n-            return inEdges.size();\n-        } else {\n-            int cnt = 0;\n-            for (Edge<N, E> e : inEdges) {\n-                if (e.getSource() != this) {\n-                    cnt++;\n-                }\n-            }\n-            return cnt;\n-        }\n-    }\n-\n-    public int getOutDegree() {\n-        return outEdges.size();\n-    }\n-\n-    protected Node(Graph<N, E> graph, N data) {\n-        setData(data);\n-        this.graph = graph;\n-        inEdges = new ArrayList<>();\n-        outEdges = new ArrayList<>();\n-    }\n-\n-    protected void addInEdge(Edge<N, E> e) {\n-        inEdges.add(e);\n-    }\n-\n-    public Graph<N, E> getGraph() {\n-        return graph;\n-    }\n-\n-    protected void addOutEdge(Edge<N, E> e) {\n-        outEdges.add(e);\n-    }\n-\n-    protected void removeInEdge(Edge<N, E> e) {\n-        \/\/assert inEdges.contains(e);\n-        inEdges.remove(e);\n-    }\n-\n-    protected void removeOutEdge(Edge<N, E> e) {\n-        \/\/assert outEdges.contains(e);\n-        outEdges.remove(e);\n-    }\n-\n-    public List<Edge<N, E>> getInEdges() {\n-        return Collections.unmodifiableList(inEdges);\n-    }\n-\n-    public List<Edge<N, E>> getOutEdges() {\n-        return Collections.unmodifiableList(outEdges);\n-    }\n-\n-    public List<Node<N, E>> getSuccessors() {\n-        ArrayList<Node<N, E>> succ = new ArrayList<>();\n-        for (Edge<N, E> e : getOutEdges()) {\n-            Node<N, E> n = e.getDest();\n-            if (!succ.contains(n)) {\n-                succ.add(n);\n-            }\n-        }\n-        return succ;\n-    }\n-\n-    public List<Node<N, E>> getPredecessors() {\n-        ArrayList<Node<N, E>> pred = new ArrayList<>();\n-        for (Edge<N, E> e : getInEdges()) {\n-            Node<N, E> n = e.getSource();\n-            if (!pred.contains(n)) {\n-                pred.add(n);\n-            }\n-        }\n-        return pred;\n-    }\n-\n-    public N getData() {\n-        return data;\n-    }\n-\n-    public void setData(N d) {\n-        data = d;\n-    }\n-\n-    @Override\n-    public String toString() {\n-        return \"Node: \" + data;\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/Node.java","additions":0,"deletions":161,"binary":false,"changes":161,"status":"deleted"},{"patch":"@@ -34,1 +34,1 @@\n-    private String name;\n+    private final String name;\n@@ -52,1 +52,1 @@\n-        System.out.println(toString());\n+        System.out.println();\n","filename":"src\/utils\/IdealGraphVisualizer\/HierarchicalLayout\/src\/main\/java\/com\/sun\/hotspot\/igv\/hierarchicallayout\/Timing.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-    public Cluster getOuter();\n+    void setBounds(Rectangle r);\n@@ -38,1 +38,1 @@\n-    public void setBounds(Rectangle r);\n+    Set<? extends Cluster> getSuccessors();\n@@ -40,3 +40,1 @@\n-    public Set<? extends Cluster> getSuccessors();\n-\n-    public Dimension getNodeOffset();\n+    Dimension getNodeOffset();\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/Cluster.java","additions":3,"deletions":5,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -34,5 +34,5 @@\n-    private Set<? extends Link> links;\n-    private SortedSet<Vertex> vertices;\n-    private HashMap<Vertex, Set<Port>> inputPorts;\n-    private HashMap<Vertex, Set<Port>> outputPorts;\n-    private HashMap<Port, Set<Link>> portLinks;\n+    private final Set<? extends Link> links;\n+    private final SortedSet<Vertex> vertices;\n+    private final HashMap<Vertex, Set<Port>> inputPorts;\n+    private final HashMap<Vertex, Set<Port>> outputPorts;\n+    private final HashMap<Port, Set<Link>> portLinks;\n@@ -41,1 +41,1 @@\n-        this(links, new HashSet<Vertex>());\n+        this(links, new HashSet<>());\n@@ -64,2 +64,2 @@\n-                outputPorts.put(v1, new HashSet<Port>(1));\n-                inputPorts.put(v1, new HashSet<Port>(3));\n+                outputPorts.put(v1, new HashSet<>(1));\n+                inputPorts.put(v1, new HashSet<>(3));\n@@ -73,2 +73,2 @@\n-                outputPorts.put(v2, new HashSet<Port>(1));\n-                inputPorts.put(v2, new HashSet<Port>(3));\n+                outputPorts.put(v2, new HashSet<>(1));\n+                inputPorts.put(v2, new HashSet<>(3));\n@@ -83,1 +83,1 @@\n-                portLinks.put(p2, new HashSet<Link>(3));\n+                portLinks.put(p2, new HashSet<>(3));\n@@ -95,2 +95,2 @@\n-                outputPorts.put(v, new HashSet<Port>(1));\n-                inputPorts.put(v, new HashSet<Port>(3));\n+                outputPorts.put(v, new HashSet<>(1));\n+                inputPorts.put(v, new HashSet<>(3));\n@@ -98,1 +98,0 @@\n-                vertices.contains(v);\n@@ -187,1 +186,1 @@\n-        return findRootVertices(new HashSet<Vertex>());\n+        return findRootVertices(new HashSet<>());\n@@ -192,1 +191,1 @@\n-        SortedSet<Cluster> clusters = new TreeSet<Cluster>();\n+        SortedSet<Cluster> clusters = new TreeSet<>();\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/LayoutGraph.java","additions":15,"deletions":16,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-    public void doLayout(LayoutGraph graph);\n+    void doLayout(LayoutGraph graph);\n@@ -36,1 +36,1 @@\n-    public void doLayout(LayoutGraph graph, Set<? extends Link> importantLinks);\n+    void doLayout(LayoutGraph graph, Set<? extends Link> importantLinks);\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/LayoutManager.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    public Port getFrom();\n+    Port getFrom();\n@@ -37,1 +37,1 @@\n-    public Cluster getFromCluster();\n+    Cluster getFromCluster();\n@@ -39,1 +39,1 @@\n-    public Port getTo();\n+    Port getTo();\n@@ -41,1 +41,1 @@\n-    public Cluster getToCluster();\n+    Cluster getToCluster();\n@@ -43,1 +43,1 @@\n-    public boolean isVIP();\n+    boolean isVIP();\n@@ -45,1 +45,1 @@\n-    public List<Point> getControlPoints();\n+    List<Point> getControlPoints();\n@@ -47,1 +47,1 @@\n-    public void setControlPoints(List<Point> list);\n+    void setControlPoints(List<Point> list);\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/Link.java","additions":7,"deletions":7,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-    public Vertex getVertex();\n+    Vertex getVertex();\n@@ -36,1 +36,1 @@\n-    public Point getRelativePosition();\n+    Point getRelativePosition();\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/Port.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    public Dimension getSize();\n+    Dimension getSize();\n@@ -37,1 +37,1 @@\n-    public Point getPosition();\n+    Point getPosition();\n@@ -39,1 +39,1 @@\n-    public void setPosition(Point p);\n+    void setPosition(Point p);\n@@ -41,1 +41,1 @@\n-    public boolean isRoot();\n+    boolean isRoot();\n@@ -43,1 +43,1 @@\n-    public Cluster getCluster();\n+    Cluster getCluster();\n","filename":"src\/utils\/IdealGraphVisualizer\/Layout\/src\/main\/java\/com\/sun\/hotspot\/igv\/layout\/Vertex.java","additions":5,"deletions":5,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,2 +27,0 @@\n-import com.sun.hotspot.igv.data.GraphDocument;\n-import com.sun.hotspot.igv.data.serialization.BinaryParser;\n@@ -36,1 +34,0 @@\n-    private final boolean binary;\n@@ -38,1 +35,0 @@\n-    private final GraphDocument rootDocument;\n@@ -41,1 +37,1 @@\n-    public Client(SocketChannel socket, GraphDocument rootDocument, GroupCallback callback, boolean  binary) {\n+    public Client(SocketChannel socket, GroupCallback callback) {\n@@ -44,2 +40,0 @@\n-        this.binary = binary;\n-        this.rootDocument = rootDocument;\n@@ -54,7 +48,2 @@\n-            if (binary) {\n-                new BinaryParser(channel, null, rootDocument, callback).parse();\n-            } else {\n-                \/\/ signal readiness to client VM (old protocol)\n-                channel.socket().getOutputStream().write('y');\n-                new Parser(channel, null, callback).parse();\n-            }\n+            channel.socket().getOutputStream().write('y');\n+            new Parser(channel, null, callback).parse();\n","filename":"src\/utils\/IdealGraphVisualizer\/NetworkConnection\/src\/main\/java\/com\/sun\/hotspot\/igv\/connection\/Client.java","additions":4,"deletions":15,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import com.sun.hotspot.igv.data.GraphDocument;\n@@ -45,1 +44,0 @@\n-    private final boolean binary;\n@@ -47,1 +45,0 @@\n-    private final GraphDocument rootDocument;\n@@ -52,3 +49,1 @@\n-    public Server(GraphDocument rootDocument, GroupCallback callback, boolean binary) {\n-        this.binary = binary;\n-        this.rootDocument = rootDocument;\n+    public Server(GroupCallback callback) {\n@@ -62,2 +57,1 @@\n-\n-        int curPort = Integer.parseInt(Settings.get().get(binary ? Settings.PORT_BINARY : Settings.PORT, binary ? Settings.PORT_BINARY_DEFAULT : Settings.PORT_DEFAULT));\n+        int curPort = Integer.parseInt(Settings.get().get(Settings.PORT, Settings.PORT_DEFAULT));\n@@ -70,2 +64,1 @@\n-\n-        int curPort = Integer.parseInt(Settings.get().get(binary ? Settings.PORT_BINARY : Settings.PORT, binary ? Settings.PORT_BINARY_DEFAULT : Settings.PORT_DEFAULT));\n+        int curPort = Integer.parseInt(Settings.get().get(Settings.PORT, Settings.PORT_DEFAULT));\n@@ -77,1 +70,1 @@\n-            NotifyDescriptor message = new NotifyDescriptor.Message(\"Could not create server. Listening for incoming binary data is disabled.\", NotifyDescriptor.ERROR_MESSAGE);\n+            NotifyDescriptor message = new NotifyDescriptor.Message(\"Could not create server. Listening for incoming data is disabled.\", NotifyDescriptor.ERROR_MESSAGE);\n@@ -93,1 +86,1 @@\n-                        RequestProcessor.getDefault().post(new Client(clientSocket, rootDocument, callback, binary), 0, Thread.MAX_PRIORITY);\n+                        RequestProcessor.getDefault().post(new Client(clientSocket, callback), 0, Thread.MAX_PRIORITY);\n@@ -96,1 +89,1 @@\n-                        NotifyDescriptor message = new NotifyDescriptor.Message(\"Error during listening for incoming connections. Listening for incoming binary data is disabled.\", NotifyDescriptor.ERROR_MESSAGE);\n+                        NotifyDescriptor message = new NotifyDescriptor.Message(\"Error during listening for incoming connections. Listening for incoming data is disabled.\", NotifyDescriptor.ERROR_MESSAGE);\n","filename":"src\/utils\/IdealGraphVisualizer\/NetworkConnection\/src\/main\/java\/com\/sun\/hotspot\/igv\/connection\/Server.java","additions":6,"deletions":13,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -38,5 +38,5 @@\n-    private static SelectionCoordinator singleInstance = new SelectionCoordinator();\n-    private Set<Object> selectedObjects;\n-    private Set<Object> highlightedObjects;\n-    private ChangedEvent<SelectionCoordinator> selectedChangedEvent;\n-    private ChangedEvent<SelectionCoordinator> highlightedChangedEvent;\n+    private static final SelectionCoordinator singleInstance = new SelectionCoordinator();\n+    private final Set<Integer> selectedObjects;\n+    private final Set<Integer> highlightedObjects;\n+    private final ChangedEvent<SelectionCoordinator> selectedChangedEvent;\n+    private final ChangedEvent<SelectionCoordinator> highlightedChangedEvent;\n@@ -55,1 +55,1 @@\n-    public Set<Object> getSelectedObjects() {\n+    public Set<Integer> getSelectedObjects() {\n@@ -59,1 +59,1 @@\n-    public Set<Object> getHighlightedObjects() {\n+    public Set<Integer> getHighlightedObjects() {\n@@ -71,29 +71,0 @@\n-    public void addHighlighted(Object o) {\n-        if (!highlightedObjects.contains(o)) {\n-            highlightedObjects.add(o);\n-            highlightedObjectsChanged();\n-        }\n-    }\n-\n-    public void removeHighlighted(Object o) {\n-        if (highlightedObjects.contains(o)) {\n-            highlightedObjects.remove(o);\n-            highlightedObjectsChanged();\n-        }\n-    }\n-\n-    public void addAllHighlighted(Set<? extends Object> s) {\n-        int oldSize = highlightedObjects.size();\n-        highlightedObjects.addAll(s);\n-        if (oldSize != highlightedObjects.size()) {\n-            highlightedObjectsChanged();\n-        }\n-    }\n-\n-    public void removeAllHighlighted(Set<? extends Object> s) {\n-        int oldSize = highlightedObjects.size();\n-        highlightedObjects.removeAll(s);\n-        if (oldSize != highlightedObjects.size()) {\n-            highlightedObjectsChanged();\n-        }\n-    }\n@@ -101,22 +72,1 @@\n-    private void highlightedObjectsChanged() {\n-        highlightedChangedEvent.fire();\n-\n-    }\n-\n-    public void addAllSelected(Set<? extends Object> s) {\n-        int oldSize = selectedObjects.size();\n-        selectedObjects.addAll(s);\n-        if (oldSize != selectedObjects.size()) {\n-            selectedObjectsChanged();\n-        }\n-    }\n-\n-    public void removeAllSelected(Set<? extends Object> s) {\n-        int oldSize = selectedObjects.size();\n-        selectedObjects.removeAll(s);\n-        if (oldSize != selectedObjects.size()) {\n-            selectedObjectsChanged();\n-        }\n-    }\n-\n-    public void setSelectedObjects(Set<? extends Object> s) {\n+    public void setSelectedObjects(Set<Integer> s) {\n@@ -126,5 +76,1 @@\n-        selectedObjectsChanged();\n-    }\n-\n-    private void selectedObjectsChanged() {\n-        selectedChangedEvent.fire();\n+        getSelectedChangedEvent().fire();\n@@ -133,1 +79,1 @@\n-    public void setHighlightedObjects(Set<? extends Object> s) {\n+    public void setHighlightedObjects(Set<Integer> s) {\n@@ -135,3 +81,3 @@\n-        this.highlightedObjects.clear();\n-        this.highlightedObjects.addAll(s);\n-        highlightedObjectsChanged();\n+        highlightedObjects.clear();\n+        highlightedObjects.addAll(s);\n+        getHighlightedChangedEvent().fire();\n","filename":"src\/utils\/IdealGraphVisualizer\/SelectionCoordinator\/src\/main\/java\/com\/sun\/hotspot\/igv\/selectioncoordinator\/SelectionCoordinator.java","additions":13,"deletions":67,"binary":false,"changes":80,"status":"modified"},{"patch":"@@ -27,0 +27,3 @@\n+import com.ibm.wala.util.graph.Graph;\n+import com.ibm.wala.util.graph.dominators.Dominators;\n+import com.ibm.wala.util.graph.impl.SlowSparseNumberedGraph;\n@@ -36,3 +39,0 @@\n-import com.ibm.wala.util.graph.Graph;\n-import com.ibm.wala.util.graph.impl.SlowSparseNumberedGraph;\n-import com.ibm.wala.util.graph.dominators.Dominators;\n@@ -125,7 +125,1 @@\n-    private static final Comparator<InputEdge> edgeComparator = new Comparator<InputEdge>() {\n-\n-        @Override\n-        public int compare(InputEdge o1, InputEdge o2) {\n-            return o1.getToIndex() - o2.getToIndex();\n-        }\n-    };\n+    private static final Comparator<InputEdge> edgeComparator = Comparator.comparingInt(InputEdge::getToIndex);\n@@ -176,1 +170,1 @@\n-            Set<Node> blockTerminators = new HashSet<Node>();\n+            Set<Node> blockTerminators = new HashSet<>();\n@@ -286,1 +280,1 @@\n-        controlSuccs.put(n, Arrays.asList(s));\n+        controlSuccs.put(n, Collections.singletonList(s));\n@@ -291,1 +285,1 @@\n-        controlSuccs.put(p, Arrays.asList(n));\n+        controlSuccs.put(p, Collections.singletonList(n));\n@@ -376,16 +370,13 @@\n-    private static final Comparator<Node> schedulePriority = new Comparator<Node>(){\n-            @Override\n-            public int compare(Node n1, Node n2) {\n-                \/\/ Order by rank, then idx.\n-                int r1 = n1.rank, r2 = n2.rank;\n-                int o1, o2;\n-                if (r1 != r2) { \/\/ Different rank.\n-                    o1 = r1;\n-                    o2 = r2;\n-                } else { \/\/ Same rank, order by idx.\n-                    o1 = Integer.parseInt(n1.inputNode.getProperties().get(\"idx\"));\n-                    o2 = Integer.parseInt(n2.inputNode.getProperties().get(\"idx\"));\n-                }\n-                return Integer.compare(o1, o2);\n-            };\n-        };\n+    private static final Comparator<Node> schedulePriority = (n1, n2) -> {\n+        \/\/ Order by rank, then idx.\n+        int r1 = n1.rank, r2 = n2.rank;\n+        int o1, o2;\n+        if (r1 != r2) { \/\/ Different rank.\n+            o1 = r1;\n+            o2 = r2;\n+        } else { \/\/ Same rank, order by idx.\n+            o1 = Integer.parseInt(n1.inputNode.getProperties().get(\"idx\"));\n+            o2 = Integer.parseInt(n2.inputNode.getProperties().get(\"idx\"));\n+        }\n+        return Integer.compare(o1, o2);\n+    };\n@@ -394,1 +385,1 @@\n-        List<InputNode> schedule = new ArrayList<InputNode>();\n+        List<InputNode> schedule = new ArrayList<>();\n@@ -397,1 +388,1 @@\n-        Queue<Node> ready = new PriorityQueue<Node>(schedulePriority);\n+        Queue<Node> ready = new PriorityQueue<>(schedulePriority);\n@@ -399,1 +390,1 @@\n-        Set<Node> visited = new HashSet<Node>(nodes.size());\n+        Set<Node> visited = new HashSet<>(nodes.size());\n@@ -715,3 +706,1 @@\n-        if (root == null) {\n-            assert false : \"No root found!\";\n-        }\n+        assert root != null : \"No root found!\";\n@@ -756,1 +745,1 @@\n-                edgeMap.put(to, new ArrayList<InputEdge>());\n+                edgeMap.put(to, new ArrayList<>());\n@@ -865,1 +854,1 @@\n-                    nodesPerWarning.put(warning, new HashSet<Node>());\n+                    nodesPerWarning.put(warning, new HashSet<>());\n","filename":"src\/utils\/IdealGraphVisualizer\/ServerCompiler\/src\/main\/java\/com\/sun\/hotspot\/igv\/servercompiler\/ServerCompilerScheduler.java","additions":26,"deletions":37,"binary":false,"changes":63,"status":"modified"},{"patch":"@@ -50,1 +50,0 @@\n-    public static final String PORT_BINARY = \"portBinary\";\n@@ -52,1 +51,0 @@\n-    public static final String PORT_BINARY_DEFAULT = \"4445\";\n","filename":"src\/utils\/IdealGraphVisualizer\/Settings\/src\/main\/java\/com\/sun\/hotspot\/igv\/settings\/Settings.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    private DoubleClickHandler handler;\n+    private final DoubleClickHandler handler;\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/DoubleClickAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    public void handleDoubleClick(Widget w, WidgetMouseEvent e);\n+    void handleDoubleClick(Widget w, WidgetMouseEvent e);\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/DoubleClickHandler.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,208 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.util;\n-\n-import java.awt.*;\n-import java.awt.event.*;\n-import javax.swing.JComponent;\n-import org.netbeans.api.visual.widget.Scene;\n-\n-\/**\n- * @author David Kaspar\n- * @author Thomas Wuerthinger\n- *\/\n-public class ExtendedSatelliteComponent extends JComponent implements MouseListener, MouseMotionListener, Scene.SceneListener, ComponentListener {\n-\n-    private Scene scene;\n-    private Image image;\n-    private int imageWidth;\n-    private int imageHeight;\n-\n-    public ExtendedSatelliteComponent(Scene scene) {\n-        this.scene = scene;\n-        setDoubleBuffered(true);\n-        setPreferredSize(new Dimension(128, 128));\n-        addMouseListener(this);\n-        addMouseMotionListener(this);\n-    }\n-\n-    @Override\n-    public void addNotify() {\n-        super.addNotify();\n-        scene.addSceneListener(this);\n-        JComponent viewComponent = scene.getView();\n-        if (viewComponent == null) {\n-            viewComponent = scene.createView();\n-        }\n-        viewComponent.addComponentListener(this);\n-        repaint();\n-    }\n-\n-    @Override\n-    public void removeNotify() {\n-        scene.getView().removeComponentListener(this);\n-        scene.removeSceneListener(this);\n-        super.removeNotify();\n-    }\n-\n-    public void update() {\n-        this.image = null;\n-        repaint();\n-    }\n-\n-    @Override\n-    public void paint(Graphics g) {\n-        Graphics2D gr = (Graphics2D) g;\n-        super.paint(g);\n-        Rectangle bounds = scene.getBounds();\n-        Dimension size = getSize();\n-\n-        double sx = bounds.width > 0 ? (double) size.width \/ bounds.width : 0.0;\n-        double sy = bounds.width > 0 ? (double) size.height \/ bounds.height : 0.0;\n-        double scale = Math.min(sx, sy);\n-\n-        int vw = (int) (scale * bounds.width);\n-        int vh = (int) (scale * bounds.height);\n-        int vx = (size.width - vw) \/ 2;\n-        int vy = (size.height - vh) \/ 2;\n-\n-\n-        if (image == null || vw != imageWidth || vh != imageHeight) {\n-\n-            imageWidth = vw;\n-            imageHeight = vh;\n-            image = this.createImage(imageWidth, imageHeight);\n-            Graphics2D ig = (Graphics2D) image.getGraphics();\n-            ig.scale(scale, scale);\n-            scene.paint(ig);\n-        }\n-\n-        gr.drawImage(image, vx, vy, this);\n-\n-        JComponent component = scene.getView();\n-        double zoomFactor = scene.getZoomFactor();\n-        Rectangle viewRectangle = component != null ? component.getVisibleRect() : null;\n-        if (viewRectangle != null) {\n-            Rectangle window = new Rectangle(\n-                    (int) ((double) viewRectangle.x * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.y * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.width * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.height * scale \/ zoomFactor));\n-            window.translate(vx, vy);\n-            gr.setColor(new Color(200, 200, 200, 128));\n-            gr.fill(window);\n-            gr.setColor(Color.BLACK);\n-            gr.drawRect(window.x, window.y, window.width - 1, window.height - 1);\n-        }\n-    }\n-\n-    @Override\n-    public void mouseClicked(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mousePressed(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseReleased(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseEntered(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mouseExited(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mouseDragged(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseMoved(MouseEvent e) {\n-    }\n-\n-    private void moveVisibleRect(Point center) {\n-        JComponent component = scene.getView();\n-        if (component == null) {\n-            return;\n-        }\n-        double zoomFactor = scene.getZoomFactor();\n-        Rectangle bounds = scene.getBounds();\n-        Dimension size = getSize();\n-\n-        double sx = bounds.width > 0 ? (double) size.width \/ bounds.width : 0.0;\n-        double sy = bounds.width > 0 ? (double) size.height \/ bounds.height : 0.0;\n-        double scale = Math.min(sx, sy);\n-\n-        int vw = (int) (scale * bounds.width);\n-        int vh = (int) (scale * bounds.height);\n-        int vx = (size.width - vw) \/ 2;\n-        int vy = (size.height - vh) \/ 2;\n-\n-        int cx = (int) ((double) (center.x - vx) \/ scale * zoomFactor);\n-        int cy = (int) ((double) (center.y - vy) \/ scale * zoomFactor);\n-\n-        Rectangle visibleRect = component.getVisibleRect();\n-        visibleRect.x = cx - visibleRect.width \/ 2;\n-        visibleRect.y = cy - visibleRect.height \/ 2;\n-        component.scrollRectToVisible(visibleRect);\n-\n-    }\n-\n-    @Override\n-    public void sceneRepaint() {\n-    }\n-\n-    @Override\n-    public void sceneValidating() {\n-    }\n-\n-    @Override\n-    public void sceneValidated() {\n-    }\n-\n-    @Override\n-    public void componentResized(ComponentEvent e) {\n-        repaint();\n-    }\n-\n-    @Override\n-    public void componentMoved(ComponentEvent e) {\n-        repaint();\n-    }\n-\n-    @Override\n-    public void componentShown(ComponentEvent e) {\n-    }\n-\n-    @Override\n-    public void componentHidden(ComponentEvent e) {\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/ExtendedSatelliteComponent.java","additions":0,"deletions":208,"binary":false,"changes":208,"status":"deleted"},{"patch":"@@ -41,1 +41,1 @@\n-    private static Map<Class, LookupHistoryImpl> cache = new HashMap<>();\n+    private static final Map<Class, LookupHistoryImpl> cache = new HashMap<>();\n@@ -45,2 +45,2 @@\n-        private Class<T> klass;\n-        private Result<T> result;\n+        private final Class<T> klass;\n+        private final Result<T> result;\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/LookupHistory.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import com.sun.hotspot.igv.util.StringUtils;\n@@ -48,1 +47,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/PropertiesConverter.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.lang.reflect.InvocationTargetException;\n@@ -52,1 +51,1 @@\n-                public String getValue() throws IllegalAccessException, InvocationTargetException {\n+                public String getValue() {\n@@ -62,1 +61,1 @@\n-                public void setValue(String arg0) throws IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n+                public void setValue(String arg0) throws IllegalArgumentException {\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/PropertiesSheet.java","additions":2,"deletions":3,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1998, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1998, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,1 +29,0 @@\n-import java.awt.geom.*;\n@@ -33,0 +32,2 @@\n+import java.awt.geom.Ellipse2D;\n+import java.awt.geom.Rectangle2D;\n@@ -34,1 +35,4 @@\n-import javax.swing.*;\n+import javax.swing.JComponent;\n+import javax.swing.JViewport;\n+import javax.swing.Scrollable;\n+import javax.swing.SwingConstants;\n@@ -55,1 +59,1 @@\n-    private RangeSliderModel model;\n+    private final RangeSliderModel model;\n@@ -58,1 +62,4 @@\n-    private RangeSliderModel tempModel;\n+    private boolean tempModel = false;\n+    private int tempFirstPos;\n+    private int tempSecondPos;\n+\n@@ -69,1 +76,1 @@\n-    public RangeSlider() {\n+    public RangeSlider(RangeSliderModel newModel) {\n@@ -73,7 +80,0 @@\n-    }\n-\n-    public void setModel(RangeSliderModel newModel) {\n-        if (model != null) {\n-            model.getChangedEvent().removeListener(this);\n-            model.getColorChangedEvent().removeListener(this);\n-        }\n@@ -88,3 +88,3 @@\n-    private RangeSliderModel getPaintingModel() {\n-        if (tempModel != null) {\n-            return tempModel;\n+    private int getFirstPos() {\n+        if (tempModel) {\n+            return tempFirstPos;\n@@ -92,1 +92,8 @@\n-        return model;\n+        return model.getFirstPosition();\n+    }\n+\n+    private int getSecondPos() {\n+        if (tempModel) {\n+            return tempSecondPos;\n+        }\n+        return model.getSecondPosition();\n@@ -136,1 +143,1 @@\n-        d.width = Math.max(d.width, (int)(2 * BAR_CIRCLE_CONNECTOR_SIZE + getPaintingModel().getPositions().size() * (BAR_CIRCLE_SIZE + BAR_CIRCLE_CONNECTOR_SIZE)));\n+        d.width = Math.max(d.width, (int)(2 * BAR_CIRCLE_CONNECTOR_SIZE + model.getPositions().size() * (BAR_CIRCLE_SIZE + BAR_CIRCLE_CONNECTOR_SIZE)));\n@@ -143,1 +150,0 @@\n-\n@@ -158,1 +164,1 @@\n-        assert index >= 0 && index < getPaintingModel().getPositions().size();\n+        assert index >= 0 && index < model.getPositions().size();\n@@ -163,1 +169,1 @@\n-        int size = getPaintingModel().getPositions().size();\n+        int size = model.getPositions().size();\n@@ -189,1 +195,1 @@\n-        if (getPaintingModel() == null || getPaintingModel().getPositions().size() == 0) {\n+        if (model == null || model.getPositions().size() == 0) {\n@@ -193,2 +199,2 @@\n-        int firstPos = getPaintingModel().getFirstPosition();\n-        int secondPos = getPaintingModel().getSecondPosition();\n+        int firstPos = getFirstPos();\n+        int secondPos = getSecondPos();\n@@ -202,1 +208,1 @@\n-        return getHeight() \/ 2 - BAR_HEIGHT \/ 2;\n+        return getHeight() \/ 2.0f - BAR_HEIGHT \/ 2.0f;\n@@ -206,1 +212,1 @@\n-        List<String> list = getPaintingModel().getPositions();\n+        List<String> list = model.getPositions();\n@@ -215,1 +221,1 @@\n-            g.setColor(getPaintingModel().getColors().get(i));\n+            g.setColor(model.getColors().get(i));\n@@ -229,1 +235,1 @@\n-                    g.drawString(curS, startX + (endX - startX) \/ 2 - bounds.width \/ 2, barStartY \/ 2 + bounds.height \/ 2);\n+                    g.drawString(curS, (startX + (endX - startX) \/ 2.0f - bounds.width \/ 2.0f), barStartY \/ 2.0f + bounds.height \/ 2.0f);\n@@ -261,1 +267,1 @@\n-            float destX = getEndXPosition(getPaintingModel().getSecondPosition());\n+            float destX = getEndXPosition(getSecondPos());\n@@ -270,1 +276,1 @@\n-            float destX = getStartXPosition(getPaintingModel().getFirstPosition());\n+            float destX = getStartXPosition(getFirstPos());\n@@ -279,1 +285,1 @@\n-            return p.x > getStartXPosition(getPaintingModel().getFirstPosition()) && p.x < getEndXPosition(getPaintingModel().getSecondPosition());\n+            return p.x > getStartXPosition(getFirstPos()) && p.x < getEndXPosition(getSecondPos());\n@@ -292,3 +298,3 @@\n-            int newIndex = getIndexFromPosition(newFirstX) + 1;\n-            if (newIndex + model.getSecondPosition() - model.getFirstPosition() >= model.getPositions().size()) {\n-                newIndex = model.getPositions().size() - (model.getSecondPosition() - model.getFirstPosition()) - 1;\n+            tempFirstPos = getIndexFromPosition(newFirstX) + 1;\n+            if (tempFirstPos + model.getSecondPosition() - model.getFirstPosition() >= model.getPositions().size()) {\n+                tempFirstPos = model.getPositions().size() - (model.getSecondPosition() - model.getFirstPosition()) - 1;\n@@ -296,2 +302,1 @@\n-            int secondPosition = newIndex + model.getSecondPosition() - model.getFirstPosition();\n-            tempModel.setPositions(newIndex, secondPosition);\n+            tempSecondPos = tempFirstPos + model.getSecondPosition() - model.getFirstPosition();\n@@ -300,4 +305,4 @@\n-            int firstPosition = getIndexFromPosition(e.getPoint().x) + 1;\n-            int secondPosition = model.getSecondPosition();\n-            if (firstPosition > secondPosition) {\n-                firstPosition--;\n+            tempFirstPos = getIndexFromPosition(e.getPoint().x) + 1;\n+            tempSecondPos = model.getSecondPosition();\n+            if (tempFirstPos > tempSecondPos) {\n+                tempFirstPos--;\n@@ -305,1 +310,0 @@\n-            tempModel.setPositions(firstPosition, secondPosition);\n@@ -308,4 +312,4 @@\n-            int firstPosition = model.getFirstPosition();\n-            int secondPosition = getIndexFromPosition(e.getPoint().x);\n-            if (secondPosition < firstPosition) {\n-                secondPosition++;\n+            tempFirstPos = model.getFirstPosition();\n+            tempSecondPos = getIndexFromPosition(e.getPoint().x);\n+            if (tempSecondPos < tempFirstPos) {\n+                tempSecondPos++;\n@@ -313,1 +317,0 @@\n-            tempModel.setPositions(firstPosition, secondPosition);\n@@ -322,1 +325,1 @@\n-        for (int i = 0; i < getPaintingModel().getPositions().size() - 1; i++) {\n+        for (int i = 0; i < model.getPositions().size() - 1; i++) {\n@@ -329,1 +332,1 @@\n-        return getPaintingModel().getPositions().size() - 1;\n+        return model.getPositions().size() - 1;\n@@ -334,1 +337,1 @@\n-        for (int i = 1; i < getPaintingModel().getPositions().size(); i++) {\n+        for (int i = 1; i < model.getPositions().size(); i++) {\n@@ -348,2 +351,0 @@\n-\n-\n@@ -389,1 +390,1 @@\n-        tempModel = model.copy();\n+        tempModel = true;\n@@ -394,1 +395,1 @@\n-        if (model == null || tempModel == null) {\n+        if (model == null || !tempModel) {\n@@ -398,2 +399,2 @@\n-        model.setPositions(tempModel.getFirstPosition(), tempModel.getSecondPosition());\n-        tempModel = null;\n+        model.setPositions(tempFirstPos, tempSecondPos);\n+        tempModel = false;\n@@ -403,2 +404,1 @@\n-    public void mouseEntered(MouseEvent e) {\n-    }\n+    public void mouseEntered(MouseEvent e) { }\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/RangeSlider.java","additions":57,"deletions":57,"binary":false,"changes":114,"status":"modified"},{"patch":"@@ -41,2 +41,2 @@\n-    private ChangedEvent<RangeSliderModel> changedEvent;\n-    private ChangedEvent<RangeSliderModel> colorChangedEvent;\n+    private final ChangedEvent<RangeSliderModel> changedEvent;\n+    private final ChangedEvent<RangeSliderModel> colorChangedEvent;\n@@ -49,2 +49,1 @@\n-        boolean changed = false;\n-        changed |= (positions != model.positions);\n+        boolean changed = (positions != model.positions);\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/RangeSliderModel.java","additions":3,"deletions":4,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -120,1 +120,1 @@\n-     *\n+     * <p>\n","filename":"src\/utils\/IdealGraphVisualizer\/Util\/src\/main\/java\/com\/sun\/hotspot\/igv\/util\/StringUtils.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.data.InputGraph;\n@@ -28,0 +27,1 @@\n+import com.sun.hotspot.igv.data.InputGraph;\n@@ -32,1 +32,0 @@\n-import java.util.List;\n@@ -34,0 +33,1 @@\n+import java.util.List;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/BlockQuickSearch.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -43,1 +43,3 @@\n-import java.awt.event.*;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.MouseEvent;\n+import java.awt.event.MouseWheelListener;\n@@ -73,9 +75,9 @@\n-    private CustomizablePanAction panAction;\n-    private WidgetAction hoverAction;\n-    private WidgetAction selectAction;\n-    private Lookup lookup;\n-    private InstanceContent content;\n-    private Action[] actions;\n-    private Action[] actionsWithSelection;\n-    private LayerWidget connectionLayer;\n-    private JScrollPane scrollPane;\n+    private final CustomizablePanAction panAction;\n+    private final WidgetAction hoverAction;\n+    private final WidgetAction selectAction;\n+    private final Lookup lookup;\n+    private final InstanceContent content;\n+    private final Action[] actions;\n+    private final Action[] actionsWithSelection;\n+    private final LayerWidget connectionLayer;\n+    private final JScrollPane scrollPane;\n@@ -83,2 +85,2 @@\n-    private LayerWidget mainLayer;\n-    private LayerWidget blockLayer;\n+    private final LayerWidget mainLayer;\n+    private final LayerWidget blockLayer;\n@@ -88,0 +90,3 @@\n+    private boolean undoRedoEnabled = true;\n+\n+\n@@ -107,19 +112,0 @@\n-    private PopupMenuProvider popupMenuProvider = new PopupMenuProvider() {\n-\n-        @Override\n-        public JPopupMenu getPopupMenu(Widget widget, Point localLocation) {\n-            return DiagramScene.this.createPopupMenu();\n-        }\n-    };\n-\n-    private RectangularSelectDecorator rectangularSelectDecorator = new RectangularSelectDecorator() {\n-\n-        @Override\n-        public Widget createSelectionWidget() {\n-            Widget widget = new Widget(DiagramScene.this);\n-            widget.setBorder(BorderFactory.createLineBorder(Color.black, 2));\n-            widget.setForeground(Color.red);\n-            return widget;\n-        }\n-    };\n-\n@@ -128,1 +114,1 @@\n-        Widget w = this.findWidget(o);\n+        Widget w = findWidget(o);\n@@ -134,1 +120,1 @@\n-        Widget w = this.findWidget(o);\n+        Widget w = findWidget(o);\n@@ -138,9 +124,0 @@\n-    private static boolean intersects(Set<? extends Object> s1, Set<? extends Object> s2) {\n-        for (Object o : s1) {\n-            if (s2.contains(o)) {\n-                return true;\n-            }\n-        }\n-        return false;\n-    }\n-\n@@ -148,2 +125,2 @@\n-        double factorWidth = getScrollPane().getViewport().getViewRect().getWidth() \/ getBounds().getWidth() ;\n-        double factorHeight = getScrollPane().getViewport().getViewRect().getHeight() \/ getBounds().getHeight();\n+        double factorWidth = scrollPane.getViewport().getViewRect().getWidth() \/ getBounds().getWidth() ;\n+        double factorHeight = scrollPane.getViewport().getViewRect().getHeight() \/ getBounds().getHeight();\n@@ -216,3 +193,2 @@\n-\n-        boolean b = getUndoRedoEnabled();\n-        setUndoRedoEnabled(false);\n+        boolean enableUndoRedo = undoRedoEnabled;\n+        undoRedoEnabled = false;\n@@ -220,1 +196,1 @@\n-        setUndoRedoEnabled(b);\n+        undoRedoEnabled = enableUndoRedo;\n@@ -223,16 +199,1 @@\n-    private Set<Object> getObjectsFromIdSet(Set<Object> set) {\n-        Set<Object> selectedObjects = new HashSet<>();\n-        for (Figure f : getModel().getDiagramToView().getFigures()) {\n-            if (intersects(f.getSource().getSourceNodesAsSet(), set)) {\n-                selectedObjects.add(f);\n-            }\n-\n-            for (Slot s : f.getSlots()) {\n-                if (intersects(s.getSource().getSourceNodesAsSet(), set)) {\n-                    selectedObjects.add(s);\n-                }\n-            }\n-        }\n-        return selectedObjects;\n-    }\n-    private ControllableChangedListener<SelectionCoordinator> highlightedCoordinatorListener = new ControllableChangedListener<SelectionCoordinator>() {\n+    private final ControllableChangedListener<SelectionCoordinator> highlightedCoordinatorListener = new ControllableChangedListener<SelectionCoordinator>() {\n@@ -242,2 +203,2 @@\n-            DiagramScene.this.setHighlightedObjects(getObjectsFromIdSet(source.getHighlightedObjects()));\n-            DiagramScene.this.validate();\n+            setHighlightedObjects(idSetToObjectSet(source.getHighlightedObjects()));\n+            validate();\n@@ -246,1 +207,1 @@\n-    private ControllableChangedListener<SelectionCoordinator> selectedCoordinatorListener = new ControllableChangedListener<SelectionCoordinator>() {\n+    private final ControllableChangedListener<SelectionCoordinator> selectedCoordinatorListener = new ControllableChangedListener<SelectionCoordinator>() {\n@@ -250,2 +211,2 @@\n-            DiagramScene.this.gotoSelection(source.getSelectedObjects());\n-            DiagramScene.this.validate();\n+            gotoSelection(source.getSelectedObjects());\n+            validate();\n@@ -255,45 +216,2 @@\n-    private RectangularSelectProvider rectangularSelectProvider = new RectangularSelectProvider() {\n-\n-        @Override\n-        public void performSelection(Rectangle rectangle) {\n-            if (rectangle.width < 0) {\n-                rectangle.x += rectangle.width;\n-                rectangle.width *= -1;\n-            }\n-\n-            if (rectangle.height < 0) {\n-                rectangle.y += rectangle.height;\n-                rectangle.height *= -1;\n-            }\n-\n-            Set<Object> selectedObjects = new HashSet<>();\n-            for (Figure f : getModel().getDiagramToView().getFigures()) {\n-                FigureWidget w = getWidget(f);\n-                if (w != null) {\n-                    Rectangle r = new Rectangle(w.getBounds());\n-                    r.setLocation(w.getLocation());\n-\n-                    if (r.intersects(rectangle)) {\n-                        selectedObjects.add(f);\n-                    }\n-\n-                    for (Slot s : f.getSlots()) {\n-                        SlotWidget sw = getWidget(s);\n-                        Rectangle r2 = new Rectangle(sw.getBounds());\n-                        r2.setLocation(sw.convertLocalToScene(new Point(0, 0)));\n-\n-                        if (r2.intersects(rectangle)) {\n-                            selectedObjects.add(s);\n-                        }\n-                    }\n-                } else {\n-                    assert false : \"w should not be null here!\";\n-                }\n-            }\n-\n-            setSelectedObjects(selectedObjects);\n-        }\n-    };\n-\n-    public Point getScrollPosition() {\n-        return getScrollPane().getViewport().getViewPosition();\n+    private Point getScrollPosition() {\n+        return scrollPane.getViewport().getViewPosition();\n@@ -302,2 +220,2 @@\n-    public void setScrollPosition(Point p) {\n-        getScrollPane().getViewport().setViewPosition(p);\n+    private void setScrollPosition(Point p) {\n+        scrollPane.getViewport().setViewPosition(p);\n@@ -337,88 +255,0 @@\n-    private ObjectSceneListener selectionChangedListener = new ObjectSceneListener() {\n-\n-        @Override\n-        public void objectAdded(ObjectSceneEvent arg0, Object arg1) {\n-        }\n-\n-        @Override\n-        public void objectRemoved(ObjectSceneEvent arg0, Object arg1) {\n-        }\n-\n-        @Override\n-        public void objectStateChanged(ObjectSceneEvent e, Object o, ObjectState oldState, ObjectState newState) {\n-        }\n-\n-        @Override\n-        public void selectionChanged(ObjectSceneEvent e, Set<Object> oldSet, Set<Object> newSet) {\n-            DiagramScene scene = (DiagramScene) e.getObjectScene();\n-            if (scene.isRebuilding()) {\n-                return;\n-            }\n-\n-            content.set(newSet, null);\n-\n-            Set<Integer> nodeSelection = new HashSet<>();\n-            for (Object o : newSet) {\n-                if (o instanceof Properties.Provider) {\n-                    final Properties.Provider provider = (Properties.Provider) o;\n-                    AbstractNode node = new AbstractNode(Children.LEAF) {\n-\n-                        @Override\n-                        protected Sheet createSheet() {\n-                            Sheet s = super.createSheet();\n-                            PropertiesSheet.initializeSheet(provider.getProperties(), s);\n-                            return s;\n-                        }\n-                    };\n-                    node.setDisplayName(provider.getProperties().get(\"name\"));\n-                    content.add(node);\n-                }\n-\n-\n-                if (o instanceof Figure) {\n-                    nodeSelection.addAll(((Figure) o).getSource().getSourceNodesAsSet());\n-                } else if (o instanceof Slot) {\n-                    nodeSelection.addAll(((Slot) o).getSource().getSourceNodesAsSet());\n-                }\n-            }\n-            getModel().setSelectedNodes(nodeSelection);\n-\n-            boolean b = selectedCoordinatorListener.isEnabled();\n-            selectedCoordinatorListener.setEnabled(false);\n-            SelectionCoordinator.getInstance().setSelectedObjects(nodeSelection);\n-            selectedCoordinatorListener.setEnabled(b);\n-\n-        }\n-\n-        @Override\n-        public void highlightingChanged(ObjectSceneEvent e, Set<Object> oldSet, Set<Object> newSet) {\n-            Set<Integer> nodeHighlighting = new HashSet<>();\n-            for (Object o : newSet) {\n-                if (o instanceof Figure) {\n-                    nodeHighlighting.addAll(((Figure) o).getSource().getSourceNodesAsSet());\n-                } else if (o instanceof Slot) {\n-                    nodeHighlighting.addAll(((Slot) o).getSource().getSourceNodesAsSet());\n-                }\n-            }\n-            boolean b = highlightedCoordinatorListener.isEnabled();\n-            highlightedCoordinatorListener.setEnabled(false);\n-            SelectionCoordinator.getInstance().setHighlightedObjects(nodeHighlighting);\n-            highlightedCoordinatorListener.setEnabled(true);\n-        }\n-\n-        @Override\n-        public void hoverChanged(ObjectSceneEvent e, Object oldObject, Object newObject) {\n-            Set<Object> newHighlightedObjects = new HashSet<>(DiagramScene.this.getHighlightedObjects());\n-            if (oldObject != null) {\n-                newHighlightedObjects.remove(oldObject);\n-            }\n-            if (newObject != null) {\n-                newHighlightedObjects.add(newObject);\n-            }\n-            DiagramScene.this.setHighlightedObjects(newHighlightedObjects);\n-        }\n-\n-        @Override\n-        public void focusChanged(ObjectSceneEvent arg0, Object arg1, Object arg2) {\n-        }\n-    };\n@@ -427,1 +257,0 @@\n-\n@@ -434,1 +263,1 @@\n-        this.setCheckClipping(true);\n+        setCheckClipping(true);\n@@ -445,1 +274,1 @@\n-        this.getActions().addAction(panAction);\n+        getActions().addAction(panAction);\n@@ -474,1 +303,1 @@\n-        this.getActions().addAction(selectAction);\n+        getActions().addAction(selectAction);\n@@ -477,1 +306,1 @@\n-        this.addChild(blockLayer);\n+        addChild(blockLayer);\n@@ -480,1 +309,1 @@\n-        this.addChild(connectionLayer);\n+        addChild(connectionLayer);\n@@ -483,1 +312,1 @@\n-        this.addChild(mainLayer);\n+        addChild(mainLayer);\n@@ -485,4 +314,4 @@\n-        this.setBorder(BorderFactory.createLineBorder(Color.white, BORDER_SIZE));\n-        this.setLayout(LayoutFactory.createAbsoluteLayout());\n-        this.getActions().addAction(mouseZoomAction);\n-        this.getActions().addAction(ActionFactory.createPopupMenuAction(popupMenuProvider));\n+        setBorder(BorderFactory.createLineBorder(Color.white, BORDER_SIZE));\n+        setLayout(LayoutFactory.createAbsoluteLayout());\n+        getActions().addAction(mouseZoomAction);\n+        getActions().addAction(ActionFactory.createPopupMenuAction((widget, localLocation) -> createPopupMenu()));\n@@ -491,8 +320,138 @@\n-        this.addChild(selectLayer);\n-        this.getActions().addAction(ActionFactory.createRectangularSelectAction(rectangularSelectDecorator, selectLayer, rectangularSelectProvider));\n-\n-        boolean b = this.getUndoRedoEnabled();\n-        this.setUndoRedoEnabled(false);\n-        this.setNewModel(model);\n-        this.setUndoRedoEnabled(b);\n-        this.addObjectSceneListener(selectionChangedListener, ObjectSceneEventType.OBJECT_SELECTION_CHANGED, ObjectSceneEventType.OBJECT_HIGHLIGHTING_CHANGED, ObjectSceneEventType.OBJECT_HOVER_CHANGED);\n+        addChild(selectLayer);\n+        RectangularSelectDecorator rectangularSelectDecorator = () -> {\n+            Widget widget = new Widget(DiagramScene.this);\n+            widget.setBorder(BorderFactory.createLineBorder(Color.black, 2));\n+            widget.setForeground(Color.red);\n+            return widget;\n+        };\n+        RectangularSelectProvider rectangularSelectProvider = rectangle -> {\n+            if (rectangle.width < 0) {\n+                rectangle.x += rectangle.width;\n+                rectangle.width *= -1;\n+            }\n+\n+            if (rectangle.height < 0) {\n+                rectangle.y += rectangle.height;\n+                rectangle.height *= -1;\n+            }\n+\n+            Set<Object> selectedObjects = new HashSet<>();\n+            for (Figure f : getModel().getDiagram().getFigures()) {\n+                FigureWidget w = getWidget(f);\n+                if (w != null) {\n+                    assert w.getBounds() != null;\n+                    Rectangle r = new Rectangle(w.getBounds());\n+                    r.setLocation(w.getLocation());\n+\n+                    if (r.intersects(rectangle)) {\n+                        selectedObjects.add(f);\n+                    }\n+\n+                    for (Slot s : f.getSlots()) {\n+                        SlotWidget sw = getWidget(s);\n+                        assert sw.getBounds() != null;\n+                        Rectangle r2 = new Rectangle(sw.getBounds());\n+                        r2.setLocation(sw.convertLocalToScene(new Point(0, 0)));\n+\n+                        if (r2.intersects(rectangle)) {\n+                            selectedObjects.add(s);\n+                        }\n+                    }\n+                } else {\n+                    assert false : \"w should not be null here!\";\n+                }\n+            }\n+\n+            setSelectedObjects(selectedObjects);\n+        };\n+        getActions().addAction(ActionFactory.createRectangularSelectAction(rectangularSelectDecorator, selectLayer, rectangularSelectProvider));\n+\n+        boolean enableUndoRedo = undoRedoEnabled;\n+        undoRedoEnabled = false;\n+        setNewModel(model);\n+        undoRedoEnabled = enableUndoRedo;\n+        ObjectSceneListener selectionChangedListener = new ObjectSceneListener() {\n+\n+            @Override\n+            public void objectAdded(ObjectSceneEvent arg0, Object arg1) {}\n+\n+            @Override\n+            public void objectRemoved(ObjectSceneEvent arg0, Object arg1) {}\n+\n+            @Override\n+            public void objectStateChanged(ObjectSceneEvent e, Object o, ObjectState oldState, ObjectState newState) {}\n+\n+            @Override\n+            public void selectionChanged(ObjectSceneEvent e, Set<Object> oldSet, Set<Object> newSet) {\n+                DiagramScene scene = (DiagramScene) e.getObjectScene();\n+                if (scene.isRebuilding()) {\n+                    return;\n+                }\n+\n+                content.set(newSet, null);\n+\n+                Set<Integer> nodeSelection = new HashSet<>();\n+                for (Object o : newSet) {\n+                    if (o instanceof Properties.Provider) {\n+                        final Properties.Provider provider = (Properties.Provider) o;\n+                        AbstractNode node = new AbstractNode(Children.LEAF) {\n+\n+                            @Override\n+                            protected Sheet createSheet() {\n+                                Sheet s = super.createSheet();\n+                                PropertiesSheet.initializeSheet(provider.getProperties(), s);\n+                                return s;\n+                            }\n+                        };\n+                        node.setDisplayName(provider.getProperties().get(\"name\"));\n+                        content.add(node);\n+                    }\n+\n+\n+                    if (o instanceof Figure) {\n+                        nodeSelection.add(((Figure) o).getInputNode().getId());\n+                    } else if (o instanceof Slot) {\n+                        nodeSelection.addAll(((Slot) o).getSource().getSourceNodesAsSet());\n+                    }\n+                }\n+                getModel().setSelectedNodes(nodeSelection);\n+\n+                boolean b = selectedCoordinatorListener.isEnabled();\n+                selectedCoordinatorListener.setEnabled(false);\n+                SelectionCoordinator.getInstance().setSelectedObjects(nodeSelection);\n+                selectedCoordinatorListener.setEnabled(b);\n+\n+            }\n+\n+            @Override\n+            public void highlightingChanged(ObjectSceneEvent e, Set<Object> oldSet, Set<Object> newSet) {\n+                Set<Integer> nodeHighlighting = new HashSet<>();\n+                for (Object o : newSet) {\n+                    if (o instanceof Figure) {\n+                        nodeHighlighting.add(((Figure) o).getInputNode().getId());\n+                    } else if (o instanceof Slot) {\n+                        nodeHighlighting.addAll(((Slot) o).getSource().getSourceNodesAsSet());\n+                    }\n+                }\n+                highlightedCoordinatorListener.setEnabled(false);\n+                SelectionCoordinator.getInstance().setHighlightedObjects(nodeHighlighting);\n+                highlightedCoordinatorListener.setEnabled(true);\n+            }\n+\n+            @Override\n+            public void hoverChanged(ObjectSceneEvent e, Object oldObject, Object newObject) {\n+                Set<Object> newHighlightedObjects = new HashSet<>(getHighlightedObjects());\n+                if (oldObject != null) {\n+                    newHighlightedObjects.remove(oldObject);\n+                }\n+                if (newObject != null) {\n+                    newHighlightedObjects.add(newObject);\n+                }\n+                setHighlightedObjects(newHighlightedObjects);\n+            }\n+\n+            @Override\n+            public void focusChanged(ObjectSceneEvent arg0, Object arg1, Object arg2) {\n+            }\n+        };\n+        addObjectSceneListener(selectionChangedListener, ObjectSceneEventType.OBJECT_SELECTION_CHANGED, ObjectSceneEventType.OBJECT_HIGHLIGHTING_CHANGED, ObjectSceneEventType.OBJECT_HOVER_CHANGED);\n@@ -505,4 +464,0 @@\n-    public JScrollPane getScrollPane() {\n-        return scrollPane;\n-    }\n-\n@@ -527,1 +482,1 @@\n-        final boolean hidden = !this.getWidget(f, FigureWidget.class).isVisible();\n+        final boolean hidden = !getWidget(f, FigureWidget.class).isVisible();\n@@ -560,1 +515,1 @@\n-    public void setNewModel(DiagramViewModel model) {\n+    private void setNewModel(DiagramViewModel model) {\n@@ -578,1 +533,1 @@\n-        Collection<Object> objects = new ArrayList<>(this.getObjects());\n+        Collection<Object> objects = new ArrayList<>(getObjects());\n@@ -580,1 +535,1 @@\n-            this.removeObject(o);\n+            removeObject(o);\n@@ -583,1 +538,1 @@\n-        Diagram d = getModel().getDiagramToView();\n+        Diagram d = getModel().getDiagram();\n@@ -586,1 +541,1 @@\n-        for (InputBlock b : d.getGraph().getBlocks()) {\n+        for (InputBlock b : d.getInputBlocks()) {\n@@ -593,2 +548,2 @@\n-            if (f.getWidth() > maxWidth.get(f.getBlock())) {\n-                maxWidth.put(f.getBlock(), f.getWidth());\n+            if (f.getWidth() > maxWidth.get(f.getBlock().getInputBlock())) {\n+                maxWidth.put(f.getBlock().getInputBlock(), f.getWidth());\n@@ -599,1 +554,0 @@\n-\n@@ -602,1 +556,1 @@\n-                f.setWidth(maxWidth.get(f.getBlock()));\n+                f.setWidth(maxWidth.get(f.getBlock().getInputBlock()));\n@@ -611,1 +565,1 @@\n-            this.addObject(f, w);\n+            addObject(f, w);\n@@ -631,1 +585,1 @@\n-            for (InputBlock bn : d.getGraph().getBlocks()) {\n+            for (InputBlock bn : d.getInputBlocks()) {\n@@ -634,1 +588,1 @@\n-                this.addObject(bn, w);\n+                addObject(bn, w);\n@@ -640,1 +594,1 @@\n-        this.smallUpdate(true);\n+        smallUpdate(true);\n@@ -643,1 +597,1 @@\n-    public boolean isRebuilding() {\n+    protected boolean isRebuilding() {\n@@ -648,5 +602,5 @@\n-        this.updateHiddenNodes(model.getHiddenNodes(), relayout);\n-        boolean b = this.getUndoRedoEnabled();\n-        this.setUndoRedoEnabled(false);\n-        this.setUndoRedoEnabled(b);\n-        this.validate();\n+        updateHiddenNodes(model.getHiddenNodes(), relayout);\n+        boolean enableUndoRedo = undoRedoEnabled;\n+        undoRedoEnabled = false;\n+        undoRedoEnabled = enableUndoRedo;\n+        validate();\n@@ -675,1 +629,1 @@\n-        Diagram diagram = getModel().getDiagramToView();\n+        Diagram diagram = getModel().getDiagram();\n@@ -697,1 +651,1 @@\n-            doClusteredLayout(figures, edges);\n+            doClusteredLayout(edges);\n@@ -711,1 +665,1 @@\n-    private void doClusteredLayout(HashSet<Figure> figures, HashSet<Connection> edges) {\n+    private void doClusteredLayout(HashSet<Connection> edges) {\n@@ -718,1 +672,1 @@\n-        m.doLayout(new LayoutGraph(edges, figures));\n+        m.doLayout(new LayoutGraph(edges));\n@@ -722,1 +676,1 @@\n-        Diagram diagram = getModel().getDiagramToView();\n+        Diagram diagram = getModel().getDiagram();\n@@ -731,1 +685,1 @@\n-        Map<InputNode, Figure> nodeFig = new HashMap<InputNode, Figure>();\n+        Map<InputNode, Figure> nodeFig = new HashMap<>();\n@@ -733,1 +687,1 @@\n-            InputNode n = f.getFirstSourceNode();\n+            InputNode n = f.getInputNode();\n@@ -741,2 +695,1 @@\n-        Map<Figure, Integer> figureRank =\n-            new HashMap<Figure, Integer>(figures.size());\n+        Map<Figure, Integer> figureRank = new HashMap<>(figures.size());\n@@ -744,1 +697,1 @@\n-        for (InputBlock b : getModel().getGraphToView().getBlocks()) {\n+        for (InputBlock b : diagram.getInputBlocks()) {\n@@ -775,1 +728,1 @@\n-        Diagram diagram = getModel().getDiagramToView();\n+        Diagram diagram = getModel().getDiagram();\n@@ -777,1 +730,1 @@\n-        SceneAnimator animator = this.getSceneAnimator();\n+        SceneAnimator animator = getSceneAnimator();\n@@ -842,1 +795,1 @@\n-        this.validate();\n+        validate();\n@@ -846,1 +799,1 @@\n-    private void processOutputSlot(Set<Pair<Point, Point>> lastLineCache, OutputSlot s, List<Connection> connections, int controlPointIndex, Point lastPoint, LineWidget predecessor, int offx, int offy, SceneAnimator animator) {\n+    private void processOutputSlot(Set<Pair<Point, Point>> lastLineCache, OutputSlot outputSlot, List<Connection> connections, int controlPointIndex, Point lastPoint, LineWidget predecessor, int offx, int offy, SceneAnimator animator) {\n@@ -864,1 +817,1 @@\n-                if (controlPointIndex == 0 && !s.shouldShowName()) {\n+                if (controlPointIndex == 0 && !outputSlot.shouldShowName()) {\n@@ -905,3 +858,1 @@\n-            if (p == specialNullPoint) {\n-            } else if (lastPoint == specialNullPoint) {\n-            } else if (lastPoint != null) {\n+            if (p != specialNullPoint && lastPoint != specialNullPoint && lastPoint != null) {\n@@ -916,2 +867,2 @@\n-                LineWidget w = new LineWidget(this, s, connectionList, p1, p2, predecessor, curAnimator, isBold, isDashed);\n-                w.setVisible(isVisible);\n+                LineWidget lineWidget = new LineWidget(this, outputSlot, connectionList, p1, p2, predecessor, curAnimator, isBold, isDashed);\n+                lineWidget.setVisible(isVisible);\n@@ -920,4 +871,4 @@\n-                newPredecessor = w;\n-                connectionLayer.addChild(w);\n-                this.addObject(new ConnectionSet(connectionList), w);\n-                w.getActions().addAction(hoverAction);\n+                newPredecessor = lineWidget;\n+                connectionLayer.addChild(lineWidget);\n+                addObject(new ConnectionSet(connectionList), lineWidget);\n+                lineWidget.getActions().addAction(hoverAction);\n@@ -926,1 +877,1 @@\n-            processOutputSlot(lastLineCache, s, connectionList, controlPointIndex + 1, p, newPredecessor, offx, offy, animator);\n+            processOutputSlot(lastLineCache, outputSlot, connectionList, controlPointIndex + 1, p, newPredecessor, offx, offy, animator);\n@@ -955,1 +906,1 @@\n-    public void gotoFigures(final List<Figure> figures) {\n+    private void gotoFigures(final List<Figure> figures) {\n@@ -964,0 +915,1 @@\n+                assert r != null;\n@@ -978,1 +930,1 @@\n-    public void gotoBlock(final Block block) {\n+    private void gotoBlock(final Block block) {\n@@ -985,2 +937,1 @@\n-    private Set<Object> idSetToObjectSet(Set<Object> ids) {\n-\n+    private Set<Object> idSetToObjectSet(Set<Integer> ids) {\n@@ -988,2 +939,2 @@\n-        for (Figure f : getModel().getDiagramToView().getFigures()) {\n-            if (DiagramScene.doesIntersect(f.getSource().getSourceNodesAsSet(), ids)) {\n+        for (Figure f : getModel().getDiagram().getFigures()) {\n+            if (ids.contains(f.getInputNode().getId())) {\n@@ -994,1 +945,1 @@\n-                if (DiagramScene.doesIntersect(s.getSource().getSourceNodesAsSet(), ids)) {\n+                if (!Collections.disjoint(s.getSource().getSourceNodesAsSet(), ids)) {\n@@ -1002,1 +953,1 @@\n-    public void gotoSelection(Set<Object> ids) {\n+    private void gotoSelection(Set<Integer> ids) {\n@@ -1005,1 +956,1 @@\n-        Set<Integer> hiddenNodes = new HashSet<>(this.getModel().getHiddenNodes());\n+        Set<Integer> hiddenNodes = new HashSet<>(getModel().getHiddenNodes());\n@@ -1007,1 +958,1 @@\n-        this.getModel().showNot(hiddenNodes);\n+        getModel().setHiddenNodes(hiddenNodes);\n@@ -1017,0 +968,1 @@\n+                assert r != null;\n@@ -1035,1 +987,1 @@\n-        Rectangle viewRect = getScrollPane().getViewport().getViewRect();\n+        Rectangle viewRect = scrollPane.getViewport().getViewRect();\n@@ -1048,1 +1000,1 @@\n-        viewRect.x = Math.min(getScrollPane().getViewport().getViewSize().width - viewRect.width, viewRect.x);\n+        viewRect.x = Math.min(scrollPane.getViewport().getViewSize().width - viewRect.width, viewRect.x);\n@@ -1050,1 +1002,1 @@\n-        viewRect.y = Math.min(getScrollPane().getViewport().getViewSize().height - viewRect.height, viewRect.y);\n+        viewRect.y = Math.min(scrollPane.getViewport().getViewSize().height - viewRect.height, viewRect.y);\n@@ -1052,1 +1004,0 @@\n-\n@@ -1075,22 +1026,1 @@\n-        for (Integer n : f.getSource().getSourceNodesAsSet()) {\n-            if (getModel().getHiddenNodes().contains(n)) {\n-                return false;\n-            }\n-        }\n-        return true;\n-    }\n-\n-    public static boolean doesIntersect(Set<?> s1, Set<?> s2) {\n-        if (s1.size() > s2.size()) {\n-            Set<?> tmp = s1;\n-            s1 = s2;\n-            s2 = tmp;\n-        }\n-\n-        for (Object o : s1) {\n-            if (s2.contains(o)) {\n-                return true;\n-            }\n-        }\n-\n-        return false;\n+        return !getModel().getHiddenNodes().contains(f.getInputNode().getId());\n@@ -1113,1 +1043,1 @@\n-        Diagram diagram = getModel().getDiagramToView();\n+        Diagram diagram = getModel().getDiagram();\n@@ -1116,1 +1046,1 @@\n-        Set<InputBlock> visibleBlocks = new HashSet<InputBlock>();\n+        Set<InputBlock> visibleBlocks = new HashSet<>();\n@@ -1127,1 +1057,1 @@\n-            for (InputBlock b : diagram.getGraph().getBlocks()) {\n+            for (InputBlock b : diagram.getInputBlocks()) {\n@@ -1136,2 +1066,0 @@\n-            boolean hiddenAfter = doesIntersect(f.getSource().getSourceNodesAsSet(), newHiddenNodes);\n-\n@@ -1140,7 +1068,1 @@\n-            if (!hiddenAfter) {\n-                \/\/ Figure is shown\n-                w.setVisible(true);\n-                for (InputNode n : f.getSource().getSourceNodes()) {\n-                    visibleBlocks.add(diagram.getGraph().getBlock(n));\n-                }\n-            } else {\n+            if (newHiddenNodes.contains(f.getInputNode().getId())) {\n@@ -1149,0 +1071,4 @@\n+            } else {\n+                \/\/ Figure is shown\n+                w.setVisible(true);\n+                visibleBlocks.add(f.getBlock().getInputBlock());\n@@ -1171,3 +1097,1 @@\n-                        for (InputNode n : f.getSource().getSourceNodes()) {\n-                            visibleBlocks.add(diagram.getGraph().getBlock(n));\n-                        }\n+                        visibleBlocks.add(f.getBlock().getInputBlock());\n@@ -1189,1 +1113,1 @@\n-                if (f.getBlock().isArtificial()) {\n+                if (f.getBlock().getInputBlock().isArtificial()) {\n@@ -1196,1 +1120,1 @@\n-                visibleBlocks.addAll(diagram.getGraph().getBlocks());\n+                visibleBlocks.addAll(diagram.getInputBlocks());\n@@ -1201,1 +1125,1 @@\n-            for (InputBlock b : diagram.getGraph().getBlocks()) {\n+            for (InputBlock b : diagram.getInputBlocks()) {\n@@ -1209,7 +1133,1 @@\n-                if (visibleAfter) {\n-                    \/\/ Block must be shown\n-                    w.setVisible(true);\n-                } else {\n-                    \/\/ Block must be hidden\n-                    w.setVisible(false);\n-                }\n+                w.setVisible(visibleAfter);\n@@ -1222,1 +1140,1 @@\n-        this.validate();\n+        validate();\n@@ -1228,14 +1146,2 @@\n-        newHiddenNodes.removeAll(f.getSource().getSourceNodesAsSet());\n-        this.model.setHiddenNodes(newHiddenNodes);\n-    }\n-\n-    public void show(final Figure f) {\n-        showFigure(f);\n-    }\n-\n-    public void setSelectedObjects(Object... args) {\n-        Set<Object> set = new HashSet<>();\n-        for (Object o : args) {\n-            set.add(o);\n-        }\n-        super.setSelectedObjects(set);\n+        newHiddenNodes.remove(f.getInputNode().getId());\n+        getModel().setHiddenNodes(newHiddenNodes);\n@@ -1247,0 +1153,1 @@\n+        assert r != null;\n@@ -1258,1 +1165,1 @@\n-            setSelection(Arrays.asList(f));\n+            setSelection(Collections.singletonList(f));\n@@ -1266,1 +1173,1 @@\n-        if (this.getSelectedObjects().isEmpty()) {\n+        if (getSelectedObjects().isEmpty()) {\n@@ -1281,4 +1188,4 @@\n-        private DiagramViewModel oldModel;\n-        private DiagramViewModel newModel;\n-        private Point oldScrollPosition;\n-        private DiagramScene scene;\n+        private final DiagramViewModel oldModel;\n+        private final DiagramViewModel newModel;\n+        private final Point oldScrollPosition;\n+        private final DiagramScene scene;\n@@ -1298,2 +1205,2 @@\n-            boolean b = scene.getUndoRedoEnabled();\n-            scene.setUndoRedoEnabled(false);\n+            boolean enableUndoRedo = scene.undoRedoEnabled;\n+            scene.undoRedoEnabled = false;\n@@ -1303,1 +1210,2 @@\n-            scene.setUndoRedoEnabled(b);\n+            scene.undoRedoEnabled = enableUndoRedo;\n+\n@@ -1309,2 +1217,2 @@\n-            boolean b = scene.getUndoRedoEnabled();\n-            scene.setUndoRedoEnabled(false);\n+            boolean enableUndoRedo = scene.undoRedoEnabled;\n+            scene.undoRedoEnabled = false;\n@@ -1315,7 +1223,1 @@\n-            SwingUtilities.invokeLater(new Runnable() {\n-\n-                @Override\n-                public void run() {\n-                    scene.setScrollPosition(oldScrollPosition);\n-                }\n-            });\n+            SwingUtilities.invokeLater(() -> scene.setScrollPosition(oldScrollPosition));\n@@ -1323,1 +1225,1 @@\n-            scene.setUndoRedoEnabled(b);\n+            scene.undoRedoEnabled = enableUndoRedo;\n@@ -1329,5 +1231,1 @@\n-            if (oldModel.getHiddenNodes().equals(newModel.getHiddenNodes())) {\n-                scene.smallUpdate(false);\n-            } else {\n-                scene.smallUpdate(true);\n-            }\n+            scene.smallUpdate(!oldModel.getHiddenNodes().equals(newModel.getHiddenNodes()));\n@@ -1336,9 +1234,0 @@\n-    private boolean undoRedoEnabled = true;\n-\n-    public void setUndoRedoEnabled(boolean b) {\n-        this.undoRedoEnabled = b;\n-    }\n-\n-    public boolean getUndoRedoEnabled() {\n-        return undoRedoEnabled;\n-    }\n@@ -1375,1 +1264,0 @@\n-\n@@ -1377,1 +1265,0 @@\n-\n@@ -1379,1 +1266,1 @@\n-            this.getUndoRedoManager().undoableEditHappened(new UndoableEditEvent(this, new DiagramUndoRedo(this, this.getScrollPosition(), modelCopy, newModelCopy)));\n+            getUndoRedoManager().undoableEditHappened(new UndoableEditEvent(this, new DiagramUndoRedo(this, getScrollPosition(), modelCopy, newModelCopy)));\n@@ -1381,2 +1268,1 @@\n-\n-        this.modelCopy = newModelCopy;\n+        modelCopy = newModelCopy;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramScene.java","additions":272,"deletions":386,"binary":false,"changes":658,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+import com.sun.hotspot.igv.data.Properties;\n@@ -38,0 +39,1 @@\n+import java.util.*;\n@@ -39,7 +41,0 @@\n-import java.util.Arrays;\n-import java.util.ArrayList;\n-import java.util.Collection;\n-import java.util.HashSet;\n-import java.util.Iterator;\n-import java.util.List;\n-import java.util.Set;\n@@ -57,1 +52,0 @@\n-    private Set<Integer> onScreenNodes;\n@@ -62,5 +56,5 @@\n-    private InputGraph inputGraph;\n-    private ChangedEvent<DiagramViewModel> diagramChangedEvent;\n-    private ChangedEvent<DiagramViewModel> viewChangedEvent;\n-    private ChangedEvent<DiagramViewModel> hiddenNodesChangedEvent;\n-    private ChangedEvent<DiagramViewModel> viewPropertiesChangedEvent;\n+    private InputGraph cachedInputGraph;\n+    private final ChangedEvent<DiagramViewModel> diagramChangedEvent;\n+    private final ChangedEvent<DiagramViewModel> viewChangedEvent;\n+    private final ChangedEvent<DiagramViewModel> hiddenNodesChangedEvent;\n+    private final ChangedEvent<DiagramViewModel> viewPropertiesChangedEvent;\n@@ -73,1 +67,0 @@\n-    private ChangedListener<FilterChain> filterChainChangedListener = new ChangedListener<FilterChain>() {\n@@ -75,5 +68,1 @@\n-        @Override\n-        public void changed(FilterChain source) {\n-            diagramChanged();\n-        }\n-    };\n+    private final ChangedListener<FilterChain> filterChainChangedListener = source -> updateDiagram();\n@@ -83,1 +72,1 @@\n-        DiagramViewModel result = new DiagramViewModel(group, filterChain, sequenceFilterChain);\n+        DiagramViewModel result = new DiagramViewModel(cachedInputGraph, filterChain, sequenceFilterChain);\n@@ -94,3 +83,0 @@\n-        boolean diagramChanged = false;\n-        boolean viewChanged = false;\n-        boolean viewPropertiesChanged = false;\n@@ -109,2 +95,1 @@\n-        diagramChanged |= (filterChain != newModel.filterChain);\n-        this.filterChain = newModel.filterChain;\n+        boolean diagramChanged = filterChain != newModel.filterChain;\n@@ -112,1 +97,0 @@\n-        this.sequenceFilterChain = newModel.sequenceFilterChain;\n@@ -114,5 +98,2 @@\n-        this.diagram = newModel.diagram;\n-        viewChanged |= (hiddenNodes != newModel.hiddenNodes);\n-        this.hiddenNodes = newModel.hiddenNodes;\n-        viewChanged |= (onScreenNodes != newModel.onScreenNodes);\n-        this.onScreenNodes = newModel.onScreenNodes;\n+\n+        boolean viewChanged = hiddenNodes != newModel.hiddenNodes;\n@@ -120,3 +101,2 @@\n-        this.selectedNodes = newModel.selectedNodes;\n-        viewPropertiesChanged |= (showSea != newModel.showSea);\n-        this.showSea = newModel.showSea;\n+\n+        boolean viewPropertiesChanged = (showSea != newModel.showSea);\n@@ -124,1 +104,0 @@\n-        this.showBlocks = newModel.showBlocks;\n@@ -126,1 +105,0 @@\n-        this.showCFG = newModel.showCFG;\n@@ -128,1 +106,10 @@\n-        this.showNodeHull = newModel.showNodeHull;\n+\n+        filterChain = newModel.filterChain;\n+        sequenceFilterChain = newModel.sequenceFilterChain;\n+        diagram = newModel.diagram;\n+        hiddenNodes = newModel.hiddenNodes;\n+        selectedNodes = newModel.selectedNodes;\n+        showSea = newModel.showSea;\n+        showBlocks = newModel.showBlocks;\n+        showCFG = newModel.showCFG;\n+        showNodeHull = newModel.showNodeHull;\n@@ -201,2 +188,0 @@\n-    public DiagramViewModel(Group g, FilterChain filterChain, FilterChain sequenceFilterChain) {\n-        super(Arrays.asList(\"default\"));\n@@ -204,6 +189,9 @@\n-        this.showSea = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.SEA_OF_NODES;\n-        this.showBlocks = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.CLUSTERED_SEA_OF_NODES;\n-        this.showCFG = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.CONTROL_FLOW_GRAPH;\n-        this.showNodeHull = true;\n-        this.showEmptyBlocks = true;\n-        this.group = g;\n+    public DiagramViewModel(InputGraph graph, FilterChain filterChain, FilterChain sequenceFilterChain) {\n+        super(Collections.singletonList(\"default\"));\n+\n+        showSea = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.SEA_OF_NODES;\n+        showBlocks = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.CLUSTERED_SEA_OF_NODES;\n+        showCFG = Settings.get().getInt(Settings.DEFAULT_VIEW, Settings.DEFAULT_VIEW_DEFAULT) == Settings.DefaultView.CONTROL_FLOW_GRAPH;\n+        showNodeHull = true;\n+        showEmptyBlocks = true;\n+        group = graph.getGroup();\n@@ -217,1 +205,0 @@\n-        onScreenNodes = new HashSet<>();\n@@ -225,1 +212,0 @@\n-\n@@ -228,0 +214,2 @@\n+\n+        selectGraph(graph);\n@@ -269,4 +257,0 @@\n-    public Set<Integer> getOnScreenNodes() {\n-        return onScreenNodes;\n-    }\n-\n@@ -276,1 +260,1 @@\n-        for (String s : getPositions()) {\n+        for (String ignored : getPositions()) {\n@@ -314,5 +298,1 @@\n-    public void showNot(final Set<Integer> nodes) {\n-        setHiddenNodes(nodes);\n-    }\n-\n-    public void showFigures(Collection<Figure> f) {\n+    public void showFigures(Collection<Figure> figures) {\n@@ -320,2 +300,2 @@\n-        for (Figure fig : f) {\n-            newHiddenNodes.removeAll(fig.getSource().getSourceNodesAsSet());\n+        for (Figure f : figures) {\n+            newHiddenNodes.remove(f.getInputNode().getId());\n@@ -330,4 +310,2 @@\n-            for (InputNode node : f.getSource().getSourceNodes()) {\n-                if (getSelectedNodes().contains(node.getId())) {\n-                    result.add(f);\n-                }\n+            if (getSelectedNodes().contains(f.getInputNode().getId())) {\n+                result.add(f);\n@@ -344,1 +322,1 @@\n-        final HashSet<Integer> allNodes = new HashSet<>(getGraphToView().getGroup().getAllNodes());\n+        final HashSet<Integer> allNodes = new HashSet<>(getGroup().getAllNodes());\n@@ -354,5 +332,0 @@\n-    public void setOnScreenNodes(Set<Integer> onScreenNodes) {\n-        this.onScreenNodes = onScreenNodes;\n-        viewChangedEvent.fire();\n-    }\n-\n@@ -363,9 +336,1 @@\n-    public void setSequenceFilterChain(FilterChain chain) {\n-        assert chain != null : \"sequenceFilterChain must never be null\";\n-        sequenceFilterChain.getChangedEvent().removeListener(filterChainChangedListener);\n-        sequenceFilterChain = chain;\n-        sequenceFilterChain.getChangedEvent().addListener(filterChainChangedListener);\n-        diagramChanged();\n-    }\n-\n-    private void diagramChanged() {\n+    private void updateDiagram() {\n@@ -373,2 +338,20 @@\n-        diagram = null;\n-        getDiagramChangedEvent().fire();\n+        InputGraph graph = getGraph();\n+        if (graph.getBlocks().isEmpty()) {\n+            Scheduler s = Lookup.getDefault().lookup(Scheduler.class);\n+            graph.clearBlocks();\n+            s.schedule(graph);\n+            graph.ensureNodesInBlocks();\n+        }\n+        diagram = new Diagram(graph,\n+                Settings.get().get(Settings.NODE_TEXT, Settings.NODE_TEXT_DEFAULT),\n+                Settings.get().get(Settings.NODE_SHORT_TEXT, Settings.NODE_SHORT_TEXT_DEFAULT),\n+                Settings.get().get(Settings.NODE_TINY_TEXT, Settings.NODE_TINY_TEXT_DEFAULT));\n+        getFilterChain().apply(diagram, getSequenceFilterChain());\n+        if (graph.isDiffGraph()) {\n+            ColorFilter f = new ColorFilter(\"\");\n+            f.addRule(stateColorRule(\"same\",    Color.white));\n+            f.addRule(stateColorRule(\"changed\", Color.orange));\n+            f.addRule(stateColorRule(\"new\",     Color.green));\n+            f.addRule(stateColorRule(\"deleted\", Color.red));\n+            f.apply(diagram);\n+        }\n@@ -376,0 +359,1 @@\n+        getDiagramChangedEvent().fire();\n@@ -382,8 +366,0 @@\n-    public void setFilterChain(FilterChain chain) {\n-        assert chain != null : \"filterChain must never be null\";\n-        filterChain.getChangedEvent().removeListener(filterChainChangedListener);\n-        filterChain = chain;\n-        filterChain.getChangedEvent().addListener(filterChainChangedListener);\n-        diagramChanged();\n-    }\n-\n@@ -465,25 +441,1 @@\n-    public Diagram getDiagramToView() {\n-\n-        if (diagram == null) {\n-            InputGraph graph = getGraphToView();\n-            if (graph.getBlocks().isEmpty()) {\n-                Scheduler s = Lookup.getDefault().lookup(Scheduler.class);\n-                graph.clearBlocks();\n-                s.schedule(graph);\n-                graph.ensureNodesInBlocks();\n-            }\n-            diagram = Diagram.createDiagram(graph,\n-                                            Settings.get().get(Settings.NODE_TEXT, Settings.NODE_TEXT_DEFAULT),\n-                                            Settings.get().get(Settings.NODE_SHORT_TEXT, Settings.NODE_SHORT_TEXT_DEFAULT),\n-                                            Settings.get().get(Settings.NODE_TINY_TEXT, Settings.NODE_TINY_TEXT_DEFAULT));\n-            getFilterChain().apply(diagram, getSequenceFilterChain());\n-            if (graph.isDiffGraph()) {\n-                ColorFilter f = new ColorFilter(\"\");\n-                f.addRule(stateColorRule(\"same\",    Color.white));\n-                f.addRule(stateColorRule(\"changed\", Color.orange));\n-                f.addRule(stateColorRule(\"new\",     Color.green));\n-                f.addRule(stateColorRule(\"deleted\", Color.red));\n-                f.apply(diagram);\n-           }\n-        }\n-\n+    public Diagram getDiagram() {\n@@ -494,10 +446,2 @@\n-    public InputGraph getGraphToView() {\n-        if (inputGraph == null) {\n-            if (getFirstGraph() != getSecondGraph()) {\n-                inputGraph = Difference.createDiffGraph(getFirstGraph(), getSecondGraph());\n-            } else {\n-                inputGraph = getFirstGraph();\n-            }\n-        }\n-\n-        return inputGraph;\n+    public InputGraph getGraph() {\n+        return cachedInputGraph;\n@@ -508,8 +452,4 @@\n-        inputGraph = null;\n-        diagramChanged();\n-    }\n-\n-    void setSelectedFigures(List<Figure> list) {\n-        Set<Integer> newSelectedNodes = new HashSet<>();\n-        for (Figure f : list) {\n-            newSelectedNodes.addAll(f.getSource().getSourceNodesAsSet());\n+        if (getFirstGraph() != getSecondGraph()) {\n+            cachedInputGraph = Difference.createDiffGraph(getFirstGraph(), getSecondGraph());\n+        } else {\n+            cachedInputGraph = getFirstGraph();\n@@ -517,1 +457,1 @@\n-        this.setSelectedNodes(newSelectedNodes);\n+        updateDiagram();\n@@ -527,1 +467,2 @@\n-        return new Iterable<InputGraph>() {\n+        return () -> new Iterator<InputGraph>() {\n+            int index = getFirstPosition();\n@@ -530,8 +471,3 @@\n-            public Iterator<InputGraph> iterator() {\n-                return new Iterator<InputGraph>() {\n-                    int index = getFirstPosition();\n-\n-                    @Override\n-                    public boolean hasNext() {\n-                        return index + 1 < graphs.size();\n-                    }\n+            public boolean hasNext() {\n+                return index + 1 < graphs.size();\n+            }\n@@ -539,5 +475,3 @@\n-                    @Override\n-                    public InputGraph next() {\n-                        return graphs.get(++index);\n-                    }\n-                };\n+            @Override\n+            public InputGraph next() {\n+                return graphs.get(++index);\n@@ -549,5 +483,2 @@\n-        return new Iterable<InputGraph>() {\n-            @Override\n-            public Iterator<InputGraph> iterator() {\n-                return new Iterator<InputGraph>() {\n-                    int index = getFirstPosition();\n+        return () -> new Iterator<InputGraph>() {\n+            int index = getFirstPosition();\n@@ -555,4 +486,4 @@\n-                    @Override\n-                    public boolean hasNext() {\n-                        return index - 1 > 0;\n-                    }\n+            @Override\n+            public boolean hasNext() {\n+                return index - 1 > 0;\n+            }\n@@ -560,5 +491,3 @@\n-                    @Override\n-                    public InputGraph next() {\n-                        return graphs.get(--index);\n-                    }\n-                };\n+            @Override\n+            public InputGraph next() {\n+                return graphs.get(--index);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewModel.java","additions":89,"deletions":160,"binary":false,"changes":249,"status":"modified"},{"patch":"@@ -69,0 +69,1 @@\n+\n@@ -70,0 +71,1 @@\n+\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/DiagramViewer.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -53,1 +53,1 @@\n-            return editor.getModel().getGraphToView();\n+            return editor.getModel().getGraph();\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorInputGraphProvider.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.data.Properties;\n@@ -28,1 +27,0 @@\n-import com.sun.hotspot.igv.data.Properties.PropertyMatcher;\n@@ -79,1 +77,2 @@\n-    public EditorTopComponent(Diagram diagram) {\n+\n+    public EditorTopComponent(InputGraph graph) {\n@@ -122,0 +121,1 @@\n+        add(container, BorderLayout.NORTH);\n@@ -123,4 +123,3 @@\n-        DiagramViewModel diagramViewModel = new DiagramViewModel(diagram.getGraph().getGroup(), filterChain, sequence);\n-        RangeSlider rangeSlider = new RangeSlider();\n-        rangeSlider.setModel(diagramViewModel);\n-        if (diagram.getGraph().getGroup().getGraphsCount() == 1) {\n+        DiagramViewModel diagramViewModel = new DiagramViewModel(graph, filterChain, sequence);\n+        RangeSlider rangeSlider = new RangeSlider(diagramViewModel);\n+        if (diagramViewModel.getGroup().getGraphs().size() == 1) {\n@@ -131,1 +130,0 @@\n-        add(container, BorderLayout.NORTH);\n@@ -140,6 +138,4 @@\n-        diagramViewModel.getDiagramChangedEvent().addListener(source -> {\n-            setDisplayName(getDiagram().getName());\n-            setToolTipText(getDiagram().getGraph().getGroup().getName());\n-            Collection<Object> list = new ArrayList<>();\n-            list.add(new EditorInputGraphProvider(EditorTopComponent.this));\n-            graphContent.set(list, null);\n+        diagramViewModel.getDiagramChangedEvent().addListener(model -> {\n+            setDisplayName(model.getGraph().getName());\n+            setToolTipText(model.getGroup().getName());\n+            graphContent.set(Collections.singletonList(new EditorInputGraphProvider(this)), null);\n@@ -147,1 +143,0 @@\n-        diagramViewModel.selectGraph(diagram.getGraph());\n@@ -149,1 +144,1 @@\n-        Group group = getDiagram().getGraph().getGroup();\n+        Group group = diagramViewModel.getGroup();\n@@ -255,1 +250,1 @@\n-        return getModel().getDiagramToView();\n+        return getModel().getDiagram();\n@@ -331,6 +326,0 @@\n-    public void setSelection(PropertyMatcher matcher) {\n-        Properties.PropertySelector<Figure> selector = new Properties.PropertySelector<>(getDiagram().getFigures());\n-        List<Figure> list = selector.selectMultiple(matcher);\n-        setSelectedFigures(list);\n-    }\n-\n@@ -349,5 +338,2 @@\n-            for (InputNode n : f.getSource().getSourceNodes()) {\n-                if (ids.contains(n.getId())) {\n-                    list.add(f);\n-                    break;\n-                }\n+            if (ids.contains(f.getInputNode().getId())) {\n+                list.add(f);\n@@ -362,1 +348,1 @@\n-            if (f.getBlock() == b) {\n+            if (f.getBlock().getInputBlock() == b) {\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/EditorTopComponent.java","additions":15,"deletions":29,"binary":false,"changes":44,"status":"modified"},{"patch":"@@ -1,216 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.view;\n-\n-import java.awt.*;\n-import java.awt.event.*;\n-import javax.swing.JComponent;\n-import org.netbeans.api.visual.widget.Scene;\n-\n-\/**\n- * @author David Kaspar\n- * @author Thomas Wuerthinger\n- *\/\n-public class ExtendedSatelliteComponent extends JComponent implements MouseListener, MouseMotionListener, Scene.SceneListener, ComponentListener {\n-\n-    private DiagramScene scene;\n-    private Image image;\n-    private int imageWidth;\n-    private int imageHeight;\n-\n-    public ExtendedSatelliteComponent(DiagramScene scene) {\n-        this.scene = scene;\n-        setDoubleBuffered(true);\n-        setPreferredSize(new Dimension(128, 128));\n-        addMouseListener(this);\n-        addMouseMotionListener(this);\n-    }\n-\n-    @Override\n-    public void addNotify() {\n-        super.addNotify();\n-        scene.addSceneListener(this);\n-        JComponent viewComponent = scene.getView();\n-        if (viewComponent == null) {\n-            viewComponent = scene.createView();\n-        }\n-        viewComponent.addComponentListener(this);\n-        repaint();\n-    }\n-\n-    @Override\n-    public void removeNotify() {\n-        scene.getView().removeComponentListener(this);\n-        scene.removeSceneListener(this);\n-        super.removeNotify();\n-    }\n-\n-    public void update() {\n-        this.image = null;\n-        if (this.isVisible()) {\n-            repaint();\n-            revalidate();\n-            validate();\n-        }\n-    }\n-\n-    @Override\n-    public void paint(Graphics g) {\n-        Graphics2D gr = (Graphics2D) g;\n-        super.paint(g);\n-        Rectangle bounds = scene.getBounds();\n-        Dimension size = getSize();\n-\n-        double sx = bounds.width > 0 ? (double) size.width \/ bounds.width : 0.0;\n-        double sy = bounds.width > 0 ? (double) size.height \/ bounds.height : 0.0;\n-        double scale = Math.min(sx, sy);\n-\n-        int vw = (int) (scale * bounds.width);\n-        int vh = (int) (scale * bounds.height);\n-        int vx = (size.width - vw) \/ 2;\n-        int vy = (size.height - vh) \/ 2;\n-\n-\n-        if (image == null || vw != imageWidth || vh != imageHeight) {\n-            imageWidth = vw;\n-            imageHeight = vh;\n-            image = this.createImage(imageWidth, imageHeight);\n-            Graphics2D ig = (Graphics2D) image.getGraphics();\n-            ig.scale(scale, scale);\n-            double oldFactor = scene.getZoomFactor();\n-            scene.setZoomFactor(scale);\n-            scene.paint(ig);\n-            scene.setZoomFactor(oldFactor);\n-        }\n-\n-        gr.drawImage(image, vx, vy, this);\n-\n-        JComponent component = scene.getView();\n-        double zoomFactor = scene.getZoomFactor();\n-        Rectangle viewRectangle = component != null ? component.getVisibleRect() : null;\n-        if (viewRectangle != null) {\n-            Rectangle window = new Rectangle(\n-                    (int) ((double) viewRectangle.x * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.y * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.width * scale \/ zoomFactor),\n-                    (int) ((double) viewRectangle.height * scale \/ zoomFactor));\n-            window.translate(vx, vy);\n-            gr.setColor(new Color(200, 200, 200, 128));\n-            gr.fill(window);\n-            gr.setColor(Color.BLACK);\n-            gr.drawRect(window.x, window.y, window.width - 1, window.height - 1);\n-        }\n-    }\n-\n-    @Override\n-    public void mouseClicked(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mousePressed(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseReleased(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseEntered(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mouseExited(MouseEvent e) {\n-    }\n-\n-    @Override\n-    public void mouseDragged(MouseEvent e) {\n-        moveVisibleRect(e.getPoint());\n-    }\n-\n-    @Override\n-    public void mouseMoved(MouseEvent e) {\n-    }\n-\n-    private void moveVisibleRect(Point center) {\n-        JComponent component = scene.getView();\n-        if (component == null) {\n-            return;\n-        }\n-        double zoomFactor = scene.getZoomFactor();\n-        Rectangle bounds = scene.getBounds();\n-        Dimension size = getSize();\n-\n-        double sx = bounds.width > 0 ? (double) size.width \/ bounds.width : 0.0;\n-        double sy = bounds.width > 0 ? (double) size.height \/ bounds.height : 0.0;\n-        double scale = Math.min(sx, sy);\n-\n-        int vw = (int) (scale * bounds.width);\n-        int vh = (int) (scale * bounds.height);\n-        int vx = (size.width - vw) \/ 2;\n-        int vy = (size.height - vh) \/ 2;\n-\n-        int cx = (int) ((double) (center.x - vx) \/ scale * zoomFactor);\n-        int cy = (int) ((double) (center.y - vy) \/ scale * zoomFactor);\n-\n-        Rectangle visibleRect = component.getVisibleRect();\n-        visibleRect.x = cx - visibleRect.width \/ 2;\n-        visibleRect.y = cy - visibleRect.height \/ 2;\n-        component.scrollRectToVisible(visibleRect);\n-\n-        this.repaint();\n-    }\n-\n-    @Override\n-    public void sceneRepaint() {\n-    \/\/repaint ();\n-    }\n-\n-    @Override\n-    public void sceneValidating() {\n-    }\n-\n-    @Override\n-    public void sceneValidated() {\n-    }\n-\n-    @Override\n-    public void componentResized(ComponentEvent e) {\n-        repaint();\n-    }\n-\n-    @Override\n-    public void componentMoved(ComponentEvent e) {\n-        repaint();\n-    }\n-\n-    @Override\n-    public void componentShown(ComponentEvent e) {\n-    }\n-\n-    @Override\n-    public void componentHidden(ComponentEvent e) {\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/ExtendedSatelliteComponent.java","additions":0,"deletions":216,"binary":false,"changes":216,"status":"deleted"},{"patch":"@@ -66,6 +66,1 @@\n-        Diagram diagram = Diagram.createDiagram(graph,\n-                                                Settings.get().get(Settings.NODE_TEXT, Settings.NODE_TEXT_DEFAULT),\n-                                                Settings.get().get(Settings.NODE_SHORT_TEXT, Settings.NODE_SHORT_TEXT_DEFAULT),\n-                                                Settings.get().get(Settings.NODE_TINY_TEXT, Settings.NODE_TINY_TEXT_DEFAULT));\n-        EditorTopComponent tc = new EditorTopComponent(diagram);\n-        diagram.setCFG(tc.getModel().getShowCFG());\n+        EditorTopComponent tc = new EditorTopComponent(graph);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/GraphViewerImplementation.java","additions":1,"deletions":6,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -179,8 +179,5 @@\n-            response.addResult(new Runnable() {\n-                @Override\n-                public void run() {\n-                    Message desc = new NotifyDescriptor.Message(\"An exception occurred during the search, \"\n-                            + \"perhaps due to a malformed query string:\\n\" + msg,\n-                            NotifyDescriptor.WARNING_MESSAGE);\n-                    DialogDisplayer.getDefault().notify(desc);\n-                }\n+            response.addResult(() -> {\n+                Message desc = new Message(\"An exception occurred during the search, \"\n+                        + \"perhaps due to a malformed query string:\\n\" + msg,\n+                        NotifyDescriptor.WARNING_MESSAGE);\n+                DialogDisplayer.getDefault().notify(desc);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/NodeQuickSearch.java","additions":5,"deletions":8,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -26,4 +26,1 @@\n-import org.netbeans.api.visual.widget.Widget;\n-import org.netbeans.api.visual.action.WidgetAction;\n-import org.netbeans.api.visual.action.SelectProvider;\n-\n+import java.awt.Point;\n@@ -31,2 +28,3 @@\n-import java.awt.event.KeyEvent;\n-import java.awt.*;\n+import org.netbeans.api.visual.action.SelectProvider;\n+import org.netbeans.api.visual.action.WidgetAction;\n+import org.netbeans.api.visual.widget.Widget;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/CustomSelectAction.java","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -53,1 +53,0 @@\n-import javax.swing.JScrollBar;\n@@ -55,2 +54,0 @@\n-import org.netbeans.api.visual.action.WidgetAction.State;\n-import org.netbeans.api.visual.action.WidgetAction.WidgetMouseEvent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/CustomizablePanAction.java","additions":0,"deletions":3,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-            for (Figure f : editor.getModel().getDiagramToView().getFigures()) {\n+            for (Figure f : editor.getModel().getDiagram().getFigures()) {\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ExpandAdjacentAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -36,6 +36,1 @@\n-import org.openide.util.HelpCtx;\n-import org.openide.util.ImageUtilities;\n-import org.openide.util.Lookup;\n-import org.openide.util.LookupEvent;\n-import org.openide.util.LookupListener;\n-import org.openide.util.NbBundle;\n+import org.openide.util.*;\n@@ -43,1 +38,0 @@\n-import org.openide.util.Utilities;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ExportAction.java","additions":1,"deletions":7,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -72,1 +72,1 @@\n-        model.showNot(nodes);\n+        model.setHiddenNodes(nodes);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/HideAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.view.EditorTopComponent;\n@@ -30,2 +31,0 @@\n-\n-import com.sun.hotspot.igv.view.EditorTopComponent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/HideDuplicatesAction.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1,59 +0,0 @@\n-\/*\n- * Copyright (c) 2008, 2015, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\n- *\/\n-package com.sun.hotspot.igv.view.actions;\n-\n-import org.netbeans.api.visual.action.HoverProvider;\n-import org.netbeans.api.visual.action.WidgetAction;\n-import org.netbeans.api.visual.action.WidgetAction.State;\n-import org.netbeans.api.visual.widget.Widget;\n-\n-\/**\n- *\n- * @author Thomas Wuerthinger\n- *\/\n-public class MouseOverAction extends WidgetAction.Adapter {\n-\n-    private long eventID = Integer.MIN_VALUE;\n-    private HoverProvider provider;\n-\n-    public MouseOverAction(HoverProvider provider) {\n-        this.provider = provider;\n-    }\n-\n-    @Override\n-    public State mouseMoved(Widget widget, WidgetMouseEvent event) {\n-        long id = event.getEventID();\n-        if (id != eventID) {\n-            eventID = id;\n-            provider.widgetHovered(widget);\n-        }\n-        return State.REJECTED;\n-    }\n-\n-    @Override\n-    public State mouseExited(Widget widget, WidgetMouseEvent event) {\n-        provider.widgetHovered(null);\n-        return State.REJECTED;\n-    }\n-}\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/MouseOverAction.java","additions":0,"deletions":59,"binary":false,"changes":59,"status":"deleted"},{"patch":"@@ -26,1 +26,1 @@\n-import java.awt.*;\n+import com.sun.hotspot.igv.view.EditorTopComponent;\n@@ -30,2 +30,0 @@\n-\n-import com.sun.hotspot.igv.view.EditorTopComponent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/OverviewAction.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.view.EditorTopComponent;\n@@ -30,2 +31,0 @@\n-\n-import com.sun.hotspot.igv.view.EditorTopComponent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/PredSuccAction.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.view.EditorTopComponent;\n@@ -30,2 +31,0 @@\n-\n-import com.sun.hotspot.igv.view.EditorTopComponent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/SelectionModeAction.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -68,1 +68,1 @@\n-        model.showNot(new HashSet<>());\n+        model.setHiddenNodes(new HashSet<>());\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ShowAllAction.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.view.EditorTopComponent;\n@@ -30,1 +31,0 @@\n-import javax.swing.Action;\n@@ -32,2 +32,0 @@\n-\n-import com.sun.hotspot.igv.view.EditorTopComponent;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ShowEmptyBlocksAction.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,4 @@\n-import javax.swing.*;\n+import javax.swing.BorderFactory;\n+import javax.swing.DefaultComboBoxModel;\n+import javax.swing.JComboBox;\n+import javax.swing.JTextField;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/actions\/ZoomLevelAction.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -28,6 +28,1 @@\n-import java.awt.BasicStroke;\n-import java.awt.Color;\n-import java.awt.Font;\n-import java.awt.Graphics2D;\n-import java.awt.Rectangle;\n-import java.awt.Stroke;\n+import java.awt.*;\n@@ -44,1 +39,0 @@\n-    public static final int BORDER = 20;\n@@ -49,1 +43,0 @@\n-    private Diagram diagram;\n@@ -54,1 +47,0 @@\n-        this.diagram = d;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/BlockWidget.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -26,1 +26,0 @@\n-import com.sun.hotspot.igv.data.InputGraph;\n@@ -28,1 +27,1 @@\n-import com.sun.hotspot.igv.data.services.GraphViewer;\n+import com.sun.hotspot.igv.graph.Diagram;\n@@ -36,1 +35,0 @@\n-import java.awt.event.ActionEvent;\n@@ -40,1 +38,0 @@\n-import javax.swing.AbstractAction;\n@@ -60,1 +57,0 @@\n-import org.openide.util.Lookup;\n@@ -68,1 +64,0 @@\n-    public static final boolean VERTICAL_LAYOUT = true;\n@@ -71,2 +66,0 @@\n-    private Widget leftWidget;\n-    private Widget rightWidget;\n@@ -89,4 +82,0 @@\n-    public Node getNode() {\n-        return node;\n-    }\n-\n@@ -147,1 +136,1 @@\n-            lw.setFont(figure.getDiagram().getFont());\n+            lw.setFont(Diagram.FONT);\n@@ -187,8 +176,0 @@\n-    public Widget getLeftWidget() {\n-        return leftWidget;\n-    }\n-\n-    public Widget getRightWidget() {\n-        return rightWidget;\n-    }\n-\n@@ -199,1 +180,1 @@\n-        Font font = this.figure.getDiagram().getFont();\n+        Font font = Diagram.FONT;\n@@ -202,1 +183,1 @@\n-            font = this.figure.getDiagram().getBoldFont();\n+            font = Diagram.BOLD_FONT;\n@@ -289,21 +270,0 @@\n-        if (getFigure().getSubgraphs() != null) {\n-            menu.addSeparator();\n-            JMenu subgraphs = new JMenu(\"Subgraphs\");\n-            menu.add(subgraphs);\n-\n-            final GraphViewer viewer = Lookup.getDefault().lookup(GraphViewer.class);\n-            for (final InputGraph subgraph : getFigure().getSubgraphs()) {\n-                Action a = new AbstractAction() {\n-\n-                    @Override\n-                    public void actionPerformed(ActionEvent e) {\n-                        viewer.view(subgraph, true);\n-                    }\n-                };\n-\n-                a.setEnabled(true);\n-                a.putValue(Action.NAME, subgraph.getName());\n-                subgraphs.add(a);\n-            }\n-        }\n-\n@@ -386,1 +346,0 @@\n-\n@@ -388,3 +347,3 @@\n-            final Set<Integer> hiddenNodes = new HashSet<>(diagramScene.getModel().getGraphToView().getGroup().getAllNodes());\n-            hiddenNodes.removeAll(this.getFigure().getSource().getSourceNodesAsSet());\n-            this.diagramScene.getModel().showNot(hiddenNodes);\n+            final Set<Integer> hiddenNodes = new HashSet<>(diagramScene.getModel().getGroup().getAllNodes());\n+            hiddenNodes.remove(this.getFigure().getInputNode().getId());\n+            this.diagramScene.getModel().setHiddenNodes(hiddenNodes);\n@@ -392,1 +351,0 @@\n-\n@@ -394,2 +352,2 @@\n-            hiddenNodes.removeAll(this.getFigure().getSource().getSourceNodesAsSet());\n-            this.diagramScene.getModel().showNot(hiddenNodes);\n+            hiddenNodes.remove(this.getFigure().getInputNode().getId());\n+            this.diagramScene.getModel().setHiddenNodes(hiddenNodes);\n@@ -398,2 +356,2 @@\n-            hiddenNodes.addAll(this.getFigure().getSource().getSourceNodesAsSet());\n-            this.diagramScene.getModel().showNot(hiddenNodes);\n+            hiddenNodes.add(this.getFigure().getInputNode().getId());\n+            this.diagramScene.getModel().setHiddenNodes(hiddenNodes);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/FigureWidget.java","additions":11,"deletions":53,"binary":false,"changes":64,"status":"modified"},{"patch":"@@ -61,11 +61,0 @@\n-\/*\n-    protected Point calculateRelativeLocation() {\n-        if (getFigureWidget().getBounds() == null) {\n-            return new Point(0, 0);\n-        }\n-\n-        double x = 0;\n-        List<InputSlot> slots = inputSlot.getFigure().getInputSlots();\n-        assert slots.contains(inputSlot);\n-        return new Point((int) x, (int) (calculateRelativeY(slots.size(), slots.indexOf(inputSlot))));\n-    }*\/\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/InputSlotWidget.java","additions":0,"deletions":11,"binary":false,"changes":11,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.graph.Block;\n@@ -29,1 +30,0 @@\n-import com.sun.hotspot.igv.graph.Block;\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/LineWidget.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,0 +26,1 @@\n+import com.sun.hotspot.igv.graph.Diagram;\n@@ -31,6 +32,1 @@\n-import java.awt.BasicStroke;\n-import java.awt.Color;\n-import java.awt.Font;\n-import java.awt.Graphics2D;\n-import java.awt.Point;\n-import java.awt.Rectangle;\n+import java.awt.*;\n@@ -38,0 +34,1 @@\n+import java.util.Collections;\n@@ -108,1 +105,1 @@\n-            Font font = this.getSlot().getFigure().getDiagram().getSlotFont();\n+            Font font = Diagram.SLOT_FONT;\n@@ -173,1 +170,1 @@\n-            hiddenNodes = new HashSet<>(diagramScene.getModel().getGraphToView().getGroup().getAllNodes());\n+            hiddenNodes = new HashSet<>(diagramScene.getModel().getGroup().getAllNodes());\n@@ -177,1 +174,1 @@\n-        for (Figure f : diagramScene.getModel().getDiagramToView().getFigures()) {\n+        for (Figure f : diagramScene.getModel().getDiagram().getFigures()) {\n@@ -179,1 +176,1 @@\n-                if (DiagramScene.doesIntersect(s.getSource().getSourceNodesAsSet(), slot.getSource().getSourceNodesAsSet())) {\n+                if (!Collections.disjoint(s.getSource().getSourceNodesAsSet(), slot.getSource().getSourceNodesAsSet())) {\n@@ -181,1 +178,1 @@\n-                    hiddenNodes.removeAll(f.getSource().getSourceNodesAsSet());\n+                    hiddenNodes.remove(f.getInputNode().getId());\n@@ -187,1 +184,1 @@\n-            this.diagramScene.getModel().showNot(hiddenNodes);\n+            this.diagramScene.getModel().setHiddenNodes(hiddenNodes);\n","filename":"src\/utils\/IdealGraphVisualizer\/View\/src\/main\/java\/com\/sun\/hotspot\/igv\/view\/widgets\/SlotWidget.java","additions":9,"deletions":12,"binary":false,"changes":21,"status":"modified"},{"patch":"@@ -44,2 +44,2 @@\n-native.spindump.app=spindump\n-native.spindump.args=%p -stdout\n+native.spindump.app=sudo\n+native.spindump.args=spindump %p -stdout\n","filename":"test\/failure_handler\/src\/share\/conf\/mac.properties","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -79,1 +79,0 @@\n-  AutoModifyRestore<uintx> f2(G1ConcRefinementServiceIntervalMillis, 100000);\n","filename":"test\/hotspot\/gtest\/gc\/g1\/test_g1ServiceThread.cpp","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -31,0 +31,118 @@\n+template<typename T>\n+struct AtomicAddTestSupport {\n+  volatile T _test_value;\n+\n+  AtomicAddTestSupport() : _test_value{} {}\n+\n+  void test_add() {\n+    T zero = 0;\n+    T five = 5;\n+    Atomic::store(&_test_value, zero);\n+    T value = Atomic::add(&_test_value, five);\n+    EXPECT_EQ(five, value);\n+    EXPECT_EQ(five, Atomic::load(&_test_value));\n+  }\n+\n+  void test_fetch_add() {\n+    T zero = 0;\n+    T five = 5;\n+    Atomic::store(&_test_value, zero);\n+    T value = Atomic::fetch_and_add(&_test_value, five);\n+    EXPECT_EQ(zero, value);\n+    EXPECT_EQ(five, Atomic::load(&_test_value));\n+  }\n+};\n+\n+TEST(AtomicAddTest, int32) {\n+  using Support = AtomicAddTestSupport<int32_t>;\n+  Support().test_add();\n+  Support().test_fetch_add();\n+}\n+\n+\/\/ 64bit Atomic::add is only supported on 64bit platforms.\n+#ifdef _LP64\n+TEST(AtomicAddTest, int64) {\n+  using Support = AtomicAddTestSupport<int64_t>;\n+  Support().test_add();\n+  Support().test_fetch_add();\n+}\n+#endif \/\/ _LP64\n+\n+TEST(AtomicAddTest, ptr) {\n+  uint _test_values[10] = {};\n+  uint* volatile _test_value{};\n+\n+  uint* zero = &_test_values[0];\n+  uint* five = &_test_values[5];\n+  uint* six  = &_test_values[6];\n+\n+  Atomic::store(&_test_value, zero);\n+  uint* value = Atomic::add(&_test_value, 5);\n+  EXPECT_EQ(five, value);\n+  EXPECT_EQ(five, Atomic::load(&_test_value));\n+\n+  Atomic::store(&_test_value, zero);\n+  value = Atomic::fetch_and_add(&_test_value, 6);\n+  EXPECT_EQ(zero, value);\n+  EXPECT_EQ(six, Atomic::load(&_test_value));\n+};\n+\n+template<typename T>\n+struct AtomicXchgTestSupport {\n+  volatile T _test_value;\n+\n+  AtomicXchgTestSupport() : _test_value{} {}\n+\n+  void test() {\n+    T zero = 0;\n+    T five = 5;\n+    Atomic::store(&_test_value, zero);\n+    T res = Atomic::xchg(&_test_value, five);\n+    EXPECT_EQ(zero, res);\n+    EXPECT_EQ(five, Atomic::load(&_test_value));\n+  }\n+};\n+\n+TEST(AtomicXchgTest, int32) {\n+  using Support = AtomicXchgTestSupport<int32_t>;\n+  Support().test();\n+}\n+\n+\/\/ 64bit Atomic::xchg is only supported on 64bit platforms.\n+#ifdef _LP64\n+TEST(AtomicXchgTest, int64) {\n+  using Support = AtomicXchgTestSupport<int64_t>;\n+  Support().test();\n+}\n+#endif \/\/ _LP64\n+\n+template<typename T>\n+struct AtomicCmpxchgTestSupport {\n+  volatile T _test_value;\n+\n+  AtomicCmpxchgTestSupport() : _test_value{} {}\n+\n+  void test() {\n+    T zero = 0;\n+    T five = 5;\n+    T ten = 10;\n+    Atomic::store(&_test_value, zero);\n+    T res = Atomic::cmpxchg(&_test_value, five, ten);\n+    EXPECT_EQ(zero, res);\n+    EXPECT_EQ(zero, Atomic::load(&_test_value));\n+    res = Atomic::cmpxchg(&_test_value, zero, ten);\n+    EXPECT_EQ(zero, res);\n+    EXPECT_EQ(ten, Atomic::load(&_test_value));\n+  }\n+};\n+\n+TEST(AtomicCmpxchgTest, int32) {\n+  using Support = AtomicCmpxchgTestSupport<int32_t>;\n+  Support().test();\n+}\n+\n+TEST(AtomicCmpxchgTest, int64) {\n+  using Support = AtomicCmpxchgTestSupport<int64_t>;\n+  Support().test();\n+}\n+\n","filename":"test\/hotspot\/gtest\/runtime\/test_atomic.cpp","additions":118,"deletions":0,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -37,1 +37,1 @@\n-  static void sig_handler(int sig, siginfo_t *info, ucontext_t *context) {\n+  static void sig_handler(int sig) {\n@@ -47,1 +47,1 @@\n-    act.sa_handler = (void (*)(int))sig_handler;\n+    act.sa_handler = sig_handler;\n","filename":"test\/hotspot\/gtest\/runtime\/test_signals.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -59,0 +59,2 @@\n+#define LOG_HERE(s, ...) { printf(s, __VA_ARGS__); printf(\"\\n\"); fflush(stdout); }\n+\n","filename":"test\/hotspot\/gtest\/testutils.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -243,0 +243,1 @@\n+  check_format(INT32_FORMAT_X,         0x123,             \"0x123\");\n@@ -247,0 +248,1 @@\n+  check_format(UINT32_FORMAT_X,        0x123u,            \"0x123\");\n","filename":"test\/hotspot\/gtest\/utilities\/test_globalDefinitions.cpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,159 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022 SAP SE. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+#include \"precompiled.hpp\"\n+#include \"jvm_io.h\"\n+#include \"utilities\/globalDefinitions.hpp\"\n+#include \"utilities\/macros.hpp\"\n+#include \"utilities\/ostream.hpp\"\n+#include \"utilities\/parseInteger.hpp\"\n+#include \"testutils.hpp\"\n+#include \"unittest.hpp\"\n+\n+template <typename T> const char* type_name();\n+template <> const char* type_name<uint64_t>() { return \"uint64_t\"; }\n+template <> const char* type_name<uint32_t>() { return \"uint32_t\"; }\n+template <> const char* type_name<int64_t>()  { return \"int64_t\"; }\n+template <> const char* type_name<int32_t>()  { return \"int32_t\"; }\n+\n+\/\/#define LOG(s, ...) LOG_HERE(s, __VA_ARGS__)\n+#define LOG(s, ...)\n+\n+template <typename T>\n+static void do_test_valid(T expected_value, const char* pattern) {\n+  LOG(\"%s: \\\"%s\\\", expect: \" UINT64_FORMAT \"(\" UINT64_FORMAT_X \")\", type_name<T>(), pattern,\n+      (uint64_t)expected_value, (uint64_t)expected_value);\n+  T value = 17;\n+  char* end = nullptr;\n+\n+  stringStream ss;\n+  ss.print_raw(pattern);\n+\n+  bool rc = parse_integer(ss.base(), &end, &value);\n+  ASSERT_TRUE(rc);\n+  ASSERT_EQ(value, expected_value);\n+\n+  rc = parse_integer(ss.base(), &value);\n+  ASSERT_TRUE(rc);\n+  ASSERT_EQ(value, expected_value);\n+\n+  \/\/ Now test with a trailing pattern.\n+  \/\/ parse_memory_size() should return remainder pointer,\n+  \/\/ parse_argument_memory_size() should flatly refuse to parse this.\n+  ss.print(\":-)\");\n+  rc = parse_integer(ss.base(), &end, &value);\n+  ASSERT_TRUE(rc);\n+  ASSERT_EQ(value, expected_value);\n+  ASSERT_EQ(end, ss.base() + strlen(pattern));\n+  ASSERT_EQ(strcmp(end, \":-)\"), 0);\n+\n+  rc = parse_integer(ss.base(), &value);\n+  ASSERT_FALSE(rc);\n+}\n+\n+template <typename T>\n+static void test_valid(T value, bool hex, T scale, const char* unit) {\n+  if ((std::numeric_limits<T>::max() \/ scale) >= value) {\n+    T expected_result = value * scale;\n+    stringStream ss;\n+    if (hex) {\n+      ss.print(UINT64_FORMAT_X \"%s\", (uint64_t)value, unit);  \/\/ e.g. \"0xFFFF\"\n+    } else {\n+      ss.print(UINT64_FORMAT \"%s\", (uint64_t)value, unit);    \/\/ e.g. \"65535\"\n+    }\n+    do_test_valid((T)expected_result, ss.base());\n+  }\n+}\n+\n+template <typename T>\n+static void test_valid_all_units(T value, bool hex) {\n+  test_valid(value, hex, (T)1, \"\");\n+  test_valid(value, hex, (T)K, \"k\");\n+  test_valid(value, hex, (T)K, \"K\");\n+  test_valid(value, hex, (T)M, \"m\");\n+  test_valid(value, hex, (T)M, \"M\");\n+  test_valid(value, hex, (T)G, \"g\");\n+  test_valid(value, hex, (T)G, \"G\");\n+  if (sizeof(T) > 4) {\n+    test_valid(value, hex, (T)((uint64_t)G * 1024), \"t\");\n+    test_valid(value, hex, (T)((uint64_t)G * 1024), \"T\");\n+  }\n+}\n+\n+template <typename T>\n+static void test_valid_all_power_of_twos() {\n+  for (int hex = 0; hex < 3; hex ++) {\n+    for (T i = 1; i != 0; i <<= 2) {\n+      test_valid_all_units(i - 1, hex == 1);\n+      test_valid_all_units(i, hex == 1);\n+      test_valid_all_units(i + 1, hex == 1);\n+    }\n+  }\n+}\n+\n+TEST(ParseMemorySize, positives) {\n+  test_valid_all_power_of_twos<uint64_t>();\n+  test_valid_all_power_of_twos<uint32_t>();\n+  test_valid_all_power_of_twos<int64_t>();\n+  test_valid_all_power_of_twos<int32_t>();\n+}\n+\n+\/\/ Test invalids.\n+\/\/ Note that parse_argument_memory_size is more restrictive than parse_memory_size, because\n+\/\/ the latter accepts trailing content.\n+\n+static void do_test_invalid_both(const char* pattern) {\n+  uint64_t value = 4711;\n+  char* end = nullptr;\n+\n+  LOG(\"%s\\n\", pattern);\n+\n+  bool rc = parse_integer(pattern, &end, &value);\n+  EXPECT_FALSE(rc);\n+  rc = parse_integer(pattern, &value);\n+  EXPECT_FALSE(rc);\n+}\n+\n+static void do_test_invalid_for_parse_arguments(const char* pattern) {\n+  uint64_t value = 4711;\n+  char* end = nullptr;\n+\n+  LOG(\"%s\\n\", pattern);\n+\n+  \/\/ The first overload parses until unrecognized chars are encountered, then\n+  \/\/ returns pointer to string remainder.\n+  bool rc = parse_integer(pattern, &end, &value);\n+  ASSERT_TRUE(rc);\n+  \/\/ The second overload parses everything; unrecognized chars will make it fail.\n+  rc = parse_integer(pattern, &value);\n+  ASSERT_FALSE(rc);\n+}\n+\n+TEST(ParseMemorySize, negatives_both) {\n+  do_test_invalid_both(\"\");\n+  do_test_invalid_both(\"abc\");\n+\n+  do_test_invalid_for_parse_arguments(\"100 M\"); \/\/ parse_memory_size would see \"100\", parse_argument_memory_size would reject it\n+  do_test_invalid_for_parse_arguments(\"100X\");  \/\/ parse_memory_size would see \"100\", parse_argument_memory_size would reject it\n+}\n","filename":"test\/hotspot\/gtest\/utilities\/test_parse_memory_size.cpp","additions":159,"deletions":0,"binary":false,"changes":159,"status":"added"},{"patch":"@@ -40,1 +40,1 @@\n-gc\/cslocker\/TestCSLocker.java 8293289 linux-x64,macosx-x64\n+gc\/cslocker\/TestCSLocker.java 8293289 generic-x64\n","filename":"test\/hotspot\/jtreg\/ProblemList-Xcomp.txt","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n-[1] https:\/\/wiki.openjdk.java.net\/display\/CodeTools\/jcstress\n+[1] https:\/\/wiki.openjdk.org\/display\/CodeTools\/jcstress\n","filename":"test\/hotspot\/jtreg\/applications\/jcstress\/README","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -59,1 +59,1 @@\n- * @see <a href=https:\/\/wiki.openjdk.java.net\/display\/CodeTools\/jcstress>jcstress<\/a>\n+ * @see <a href=https:\/\/wiki.openjdk.org\/display\/CodeTools\/jcstress>jcstress<\/a>\n","filename":"test\/hotspot\/jtreg\/applications\/jcstress\/TestGenerator.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -55,1 +55,1 @@\n-\/\/ (http:\/\/hg.openjdk.java.net\/jdk7\/jdk7\/hotspot\/rev\/ba764ed4b6f2).  Further\n+\/\/ (https:\/\/git.openjdk.org\/jdk\/commit\/4a831d4).  Further\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/Test6880034.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8268883\n+ * @bug 8268883 8293833\n@@ -28,1 +28,2 @@\n- *\n+ *          Error mixing types with -XX:+UseCMoveUnconditionally -XX:+UseVectorCmov\n+ * @requires vm.compiler2.enabled\n@@ -30,0 +31,2 @@\n+ * @run main\/othervm -Xcomp -XX:-TieredCompilation -XX:CompileOnly=TestCondAddDeadBranch\n+ *                   -XX:+UseCMoveUnconditionally -XX:+UseVectorCmov -XX:MaxVectorSize=32  TestCondAddDeadBranch\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/TestCondAddDeadBranch.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -177,0 +177,9 @@\n+    @Test\n+    @IR(failOn = {IRNode.CMOVEVD})\n+    private static void testCMoveVDUnsupported() {\n+        int seed = 1001;\n+        for (int i = 0; i < doublec.length; i++) {\n+            doublec[i] = (i % 2 == 0) ? seed + i : seed - i;\n+        }\n+    }\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/c2\/irTests\/TestVectorConditionalMove.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,2 +69,2 @@\n- * @see \"https:\/\/openjdk.java.net\/jeps\/309\"\n- * @see \"https:\/\/bugs.openjdk.java.net\/browse\/JDK-8177279\"\n+ * @see \"https:\/\/openjdk.org\/jeps\/309\"\n+ * @see \"https:\/\/bugs.openjdk.org\/browse\/JDK-8177279\"\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/jdk.vm.ci.hotspot.test\/src\/jdk\/vm\/ci\/hotspot\/test\/TestDynamicConstant.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -126,1 +126,1 @@\n-Additional testing was performed by converting all compiler Inline Types tests that used the currently present IR test framework in Valhalla (see [JDK-8263024](https:\/\/bugs.openjdk.java.net\/browse\/JDK-8263024)). It is strongly advised to make sure a change to the framework still lets these converted tests in Valhalla pass as part of an additional testing step.\n+Additional testing was performed by converting all compiler Inline Types tests that used the currently present IR test framework in Valhalla (see [JDK-8263024](https:\/\/bugs.openjdk.org\/browse\/JDK-8263024)). It is strongly advised to make sure a change to the framework still lets these converted tests in Valhalla pass as part of an additional testing step.\n@@ -137,1 +137,1 @@\n-The initial design and feature set was kept simple and straight forward and serves well for small to medium sized tests. There are a lot of possibilities to further enhance the framework and make it more powerful. This can be tackled in additional RFEs. A few ideas can be found as subtasks of the [initial RFE](https:\/\/bugs.openjdk.java.net\/browse\/JDK-8254129) for this framework.\n+The initial design and feature set was kept simple and straight forward and serves well for small to medium sized tests. There are a lot of possibilities to further enhance the framework and make it more powerful. This can be tackled in additional RFEs. A few ideas can be found as subtasks of the [initial RFE](https:\/\/bugs.openjdk.org\/browse\/JDK-8254129) for this framework.\n","filename":"test\/hotspot\/jtreg\/compiler\/lib\/ir_framework\/README.md","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8268017\n+ * @bug 8268017 8293833\n@@ -28,1 +28,2 @@\n- *\n+ *          Error mixing types with -XX:+UseCMoveUnconditionally -XX:+UseVectorCmov\n+ * @requires vm.compiler2.enabled\n@@ -30,0 +31,2 @@\n+ * @run main\/othervm -Xcomp -XX:-TieredCompilation -XX:CompileOnly=TestCastFFAtPhi -XX:+UseCMoveUnconditionally\n+ *                   -XX:+UseVectorCmov -XX:MaxVectorSize=32 TestCastFFAtPhi\n","filename":"test\/hotspot\/jtreg\/compiler\/loopopts\/TestCastFFAtPhi.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        http:\/\/hg.openjdk.java.net\/code-tools\/jcstress\/file\/6c339a5aa00d\/\n+        hhttps:\/\/git.openjdk.org\/jcstress\/commit\/15acd86\n","filename":"test\/hotspot\/jtreg\/compiler\/membars\/DekkerTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,85 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8255746\n+ * @summary Checks that -XX:CompileCommand=PrintCompilation,... works\n+ * @library \/test\/lib\n+ * @run driver compiler.print.CompileCommandPrintCompilation\n+ *\/\n+\n+package compiler.print;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import jdk.test.lib.Asserts;\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+\n+public class CompileCommandPrintCompilation {\n+\n+    final static String METHOD1 = \"method1\";\n+    final static String METHOD2 = \"method2\";\n+\n+    public static void main(String[] args) throws Exception {\n+        test(METHOD1, METHOD2);\n+        test(METHOD2, METHOD1);\n+    }\n+\n+    private static void test(String include, String exclude) throws Exception {\n+        List<String> options = new ArrayList<String>();\n+        options.add(\"-Xcomp\");\n+        options.add(\"-XX:-Inline\");\n+        options.add(\"-XX:CompileCommand=compileonly,\" + getTestClass() + \"::*\");\n+        options.add(\"-XX:CompileCommand=PrintCompilation,\" + getTestMethod(include));\n+        options.add(getTestClass());\n+\n+        OutputAnalyzer oa = ProcessTools.executeTestJvm(options);\n+\n+        oa.shouldHaveExitValue(0)\n+        .shouldContain(getTestMethod(include))\n+        .shouldNotContain(getTestMethod(exclude));\n+    }\n+\n+    \/\/ Test class that is invoked by the sub process\n+    public static String getTestClass() {\n+        return TestMain.class.getName();\n+    }\n+\n+    public static String getTestMethod(String method) {\n+        return getTestClass() + \"::\" + method;\n+    }\n+\n+    public static class TestMain {\n+        public static void main(String[] args) {\n+            method1();\n+            method2();\n+        }\n+\n+        static void method1() {}\n+        static void method2() {}\n+    }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/print\/CompileCommandPrintCompilation.java","additions":85,"deletions":0,"binary":false,"changes":85,"status":"added"},{"patch":"@@ -0,0 +1,81 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @summary Checks that -XX:PrintCompilation works\n+ * @library \/test\/lib\n+ * @run driver compiler.print.PrintCompilation\n+ *\/\n+\n+package compiler.print;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import jdk.test.lib.Asserts;\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+\n+public class PrintCompilation {\n+\n+    public static void main(String[] args) throws Exception {\n+        List<String> options = new ArrayList<String>();\n+        options.add(\"-XX:+PrintCompilation\");\n+        options.add(\"-Xcomp\");\n+        options.add(\"-XX:-Inline\");\n+        options.add(\"-XX:CompileCommand=compileonly,\" + getTestClass() + \"::*\");\n+        options.add(getTestClass());\n+\n+        OutputAnalyzer oa = ProcessTools.executeTestJvm(options);\n+\n+        oa.shouldHaveExitValue(0)\n+        .shouldContain(getTestMethod(\"method1\"))\n+        .shouldContain(getTestMethod(\"method2\"))\n+        .shouldContain(getTestMethod(\"method3\"))\n+        .shouldNotContain(getTestMethod(\"notcalled\"));\n+    }\n+\n+    \/\/ Test class that is invoked by the sub process\n+    public static String getTestClass() {\n+        return TestMain.class.getName();\n+    }\n+\n+    public static String getTestMethod(String method) {\n+        return getTestClass() + \"::\" + method;\n+    }\n+\n+    public static class TestMain {\n+        public static void main(String[] args) {\n+            method1();\n+            method2();\n+            method3();\n+        }\n+\n+        static void method1() { System.out.println(\"method1()\"); }\n+        static void method2() {}\n+        static void method3() {}\n+        static void notcalled() {}\n+    }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/compiler\/print\/PrintCompilation.java","additions":81,"deletions":0,"binary":false,"changes":81,"status":"added"},{"patch":"@@ -3,0 +3,1 @@\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -27,0 +28,1 @@\n+ * @bug 8295414\n@@ -31,0 +33,4 @@\n+ * @run main\/othervm -XX:-BackgroundCompilation\n+ *     -XX:+IgnoreUnrecognizedVMOptions -XX:+StressReflectiveCode\n+ *     -XX:+UnlockDiagnosticVMOptions -XX:+ExpandSubTypeCheckAtParseTime\n+ *     -XX:-TieredCompilation -XX:CompileThreshold=100 TestSubTypeCheckMacroTrichotomy\n","filename":"test\/hotspot\/jtreg\/compiler\/types\/TestSubTypeCheckMacroTrichotomy.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-\/\/ [1] https:\/\/bugs.openjdk.java.net\/browse\/JDK-8259610\n+\/\/ [1] https:\/\/bugs.openjdk.org\/browse\/JDK-8259610\n","filename":"test\/hotspot\/jtreg\/compiler\/vectorapi\/VectorMaskCastTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,46 +0,0 @@\n-\/*\n- * Copyright (C) 2020 THL A29 Limited, a Tencent company. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/**\n- * @test\n- * @bug 8257228\n- * @library \/test\/lib\n- * @requires vm.bits == 64\n- * @build gc.g1.TestBuffersToCardsOverflow jdk.test.lib.process.*\n- * @run main gc.g1.TestBuffersToCardsOverflow\n- *\/\n-\n-package gc.g1;\n-\n-import jdk.test.lib.process.ProcessTools;\n-\n-public class TestBuffersToCardsOverflow {\n-    public static void main(String... args) throws Exception {\n-        ProcessTools.executeTestJava(\"-XX:G1ConcRefinementThresholdStep=16G\",\n-                                     \"-XX:G1UpdateBufferSize=1G\")\n-                .outputTo(System.out)\n-                .errorTo(System.out)\n-                .stdoutShouldNotContain(\"SIGFPE\")\n-                .stdoutShouldNotContain(\"hs_err\");\n-    }\n-}\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestBuffersToCardsOverflow.java","additions":0,"deletions":46,"binary":false,"changes":46,"status":"deleted"},{"patch":"@@ -132,0 +132,1 @@\n+        new LogMessageWithLevel(\"Merged Cards\", Level.DEBUG),\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/TestGCLogMessages.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -58,1 +58,1 @@\n-        \/\/ According to https:\/\/bugs.openjdk.java.net\/browse\/JDK-8146009 failure happens not every time.\n+        \/\/ According to https:\/\/bugs.openjdk.org\/browse\/JDK-8146009 failure happens not every time.\n","filename":"test\/hotspot\/jtreg\/gc\/g1\/logging\/TestG1LoggingFailure.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,1 +31,1 @@\n- * See http:\/\/openjdk.java.net\/groups\/hotspot\/docs\/Serviceability.html#bjvmstat\n+ * See https:\/\/openjdk.org\/groups\/hotspot\/docs\/Serviceability.html#bjvmstat\n","filename":"test\/hotspot\/jtreg\/gc\/testlibrary\/PerfCounter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -124,0 +124,2 @@\n+        System.out.printf(caseDescription);\n+\n@@ -129,10 +131,0 @@\n-        } catch (Throwable e) {\n-            String result = Checker.abbreviateResult(e.getClass().getName());\n-\n-            System.out.printf(caseDescription);\n-\n-            for (String site : callSites) {\n-                System.out.printf(\" %7s\", result);\n-            }\n-\n-            System.out.println(\"\");\n@@ -140,9 +132,6 @@\n-            return true;\n-        }\n-\n-        if (executeTests) {\n-            \/\/ Check runtime behavior\n-            Caller caller = new Caller(loader, checker, paramClass, targetClass);\n-            boolean printedCaseDes = false;\n-            for (String site : callSites) {\n-                String callResult = caller.call(site);\n+            if (executeTests) {\n+                \/\/ Check runtime behavior\n+                Caller caller = new Caller(loader, checker, paramClass, targetClass);\n+                for (String site : callSites) {\n+                    String callResult = caller.call(site);\n+                    System.out.printf(\" %7s\", callResult);\n@@ -150,5 +139,4 @@\n-                if (!caller.isPassed()) {\n-                    isPassed = false;\n-                    if (!printedCaseDes) {\n-                        System.out.printf(caseDescription);\n-                        printedCaseDes = true;\n+                    if (!caller.isPassed()) {\n+                        String result = checker.check(loader.loadClass(site));\n+                        System.out.printf(\"\/%s\", Checker.abbreviateResult(result));\n+                        isPassed = false;\n@@ -156,1 +144,8 @@\n-                    System.out.printf(\" %7s\", callResult);\n+                }\n+                if (!caller.isPassed()) {\n+                    System.out.print(\" |   FAILED\");\n+                }\n+            } else {\n+                for (String site : callSites) {\n+                    String result = checker.check(loader.loadClass(site));\n+                    System.out.printf(\" %7s\", Checker.abbreviateResult(result));\n@@ -159,4 +154,3 @@\n-            if (!caller.isPassed()) {\n-                System.out.println(\" |   FAILED\");\n-            }\n-        } else {\n+        } catch (Throwable e) {\n+            String result = Checker.abbreviateResult(e.getClass().getName());\n+\n@@ -164,2 +158,1 @@\n-                String result = checker.check(loader.loadClass(site));\n-                System.out.printf(\" %7s\", Checker.abbreviateResult(result));\n+                System.out.printf(\" %7s\", result);\n@@ -168,0 +161,1 @@\n+        System.out.println();\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/shared\/AbstractGenerator.java","additions":25,"deletions":31,"binary":false,"changes":56,"status":"modified"},{"patch":"@@ -52,1 +52,1 @@\n-        ClassWriter cw = new ClassWriter(COMPUTE_MAXS);\n+        ClassWriter cw = new ClassWriter(COMPUTE_FRAMES | COMPUTE_MAXS);\n","filename":"test\/hotspot\/jtreg\/runtime\/InvocationTests\/shared\/ExecutorGenerator.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,105 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8295278\n+ * @summary Call unlocked version loadClass directly, with another thread calling forName\n+ *          One class goes through the ClassLoader path and the other goes through JVM path\n+ * @library \/test\/lib\n+ * @compile test-classes\/A.java ..\/share\/ThreadPrint.java\n+ * @run main\/othervm CallLoadClassTest\n+ *\/\n+\n+import jdk.test.lib.classloader.ClassUnloadCommon;\n+import java.util.concurrent.Semaphore;\n+\n+public class CallLoadClassTest {\n+\n+    private static Semaphore mainSync = null;\n+\n+    private static class MyLoader extends ClassLoader {\n+\n+        ClassLoader parent;\n+        int count;\n+\n+        MyLoader(ClassLoader parent) {\n+            this.parent = parent;\n+            this.count = 0;\n+        }\n+\n+        public synchronized Class<?> loadClass(String name) throws ClassNotFoundException {\n+            Class<?> loadedClass = findLoadedClass(name);\n+            if (name.equals(\"A\") && loadedClass == null) {\n+                ThreadPrint.println(\"Loading A\");\n+                if (count == 0) {\n+                    count++;\n+                    ThreadPrint.println(\"Waiting for A\");\n+                    try {\n+                        mainSync.release(); \/\/ Let t2 start\n+                        wait();  \/\/ let the other thread load A instead.\n+                    } catch (InterruptedException ie) {\n+                    }\n+                } else {\n+                    notify(); \/\/ notify any waiting threads.\n+                }\n+                byte[] classfile = ClassUnloadCommon.getClassData(\"A\");\n+                return defineClass(name, classfile, 0, classfile.length);\n+            } else {\n+                return parent.loadClass(name);\n+            }\n+        }\n+    }\n+\n+    private static ClassLoadingThread[] threads = new ClassLoadingThread[2];\n+    private static boolean success = true;\n+\n+    private static boolean report_success() {\n+        for (int i = 0; i < 2; i++) {\n+          try {\n+            threads[i].join();\n+            if (!threads[i].report_success()) success = false;\n+          } catch (InterruptedException e) {}\n+        }\n+        return success;\n+    }\n+\n+    public static void main(java.lang.String[] unused) {\n+        mainSync = new Semaphore(0);\n+\n+        \/\/ t1 does loadClass directly, t2 does class.ForName()\n+        ClassLoader appLoader = CallLoadClassTest.class.getClassLoader();\n+        MyLoader ldr = new MyLoader(appLoader);\n+        for (int i = 0; i < 2; i++) {\n+            threads[i] = new ClassLoadingThread(ldr, i, mainSync);\n+            threads[i].setName(\"Loading Thread #\" + (i + 1));\n+            threads[i].start();\n+            System.out.println(\"Thread \" + (i + 1) + \" was started...\");\n+        }\n+        if (report_success()) {\n+           System.out.println(\"PASSED\");\n+        } else {\n+            throw new RuntimeException(\"FAILED\");\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/CallLoadClass\/CallLoadClassTest.java","additions":105,"deletions":0,"binary":false,"changes":105,"status":"added"},{"patch":"@@ -0,0 +1,78 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.util.concurrent.Semaphore;\n+\n+class ClassLoadingThread extends Thread {\n+\n+    private ClassLoader ldr = null;\n+    private int which;\n+    private Semaphore syncOrder;\n+\n+    public ClassLoadingThread(ClassLoader loader, int i, Semaphore sem) {\n+        ldr = loader;\n+        which = i;\n+        syncOrder = sem;\n+    }\n+\n+    private boolean success = true;\n+    public boolean report_success() { return success; }\n+\n+    public void callForName() {\n+        try {\n+            ThreadPrint.println(\"Starting forName thread ...\");\n+            \/\/ Initiate class loading using specified type\n+            Class<?> a = Class.forName(\"A\", true, ldr);\n+            Object obj = a.getConstructor().newInstance();\n+        } catch (Throwable e) {\n+            ThreadPrint.println(\"Exception is caught: \" + e);\n+            e.printStackTrace();\n+            success = false;\n+        }\n+    }\n+\n+    public void callLoadClass() {\n+        try {\n+            ThreadPrint.println(\"Starting loadClass thread ...\");\n+            Class<?> a = ldr.loadClass(\"A\");\n+            Object obj = a.getConstructor().newInstance();\n+            success = false; \/\/ Should have thrown LinkageError\n+        } catch (Throwable e) {\n+            \/\/ If you call loadClass directly, this will result in LinkageError\n+            ThreadPrint.println(\"Exception is caught: \" + e);\n+            e.printStackTrace();\n+            success = (e instanceof LinkageError);\n+        }\n+    }\n+\n+    public void run() {\n+       if (which == 0) {\n+           callLoadClass();\n+       } else {\n+           try {\n+               syncOrder.acquire();  \/\/ wait until loadClass is waiting.\n+           } catch (InterruptedException idc) {}\n+           callForName();\n+       }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/CallLoadClass\/ClassLoadingThread.java","additions":78,"deletions":0,"binary":false,"changes":78,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ This doesn't have to do anything\n+public class A {\n+  static { System.out.println(\"A called\"); }\n+  public A() { System.out.println(\"A.<init> called\"); }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/CallLoadClass\/test-classes\/A.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,116 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4699981 8295278\n+ * @summary This is a testcase for JDK-4699981. When 2 threads are loading the same class with\n+ *           the same classloader, and somehow one of the 2 threads releases the\n+ *           synchronization lock on the classloader, the JVM code\n+ *           throws ClassCircularityError, mistakenly.\n+ * @library \/test\/lib\n+ * @compile test-classes\/Base.java test-classes\/Derived.java test-classes\/Support.java\n+ * @run main\/othervm ParallelCircularityTest\n+ *\/\n+\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+\n+public class ParallelCircularityTest {\n+\n+    private Object lock = new Object();\n+\n+    private void test() throws Exception {\n+       URL location = getClass().getProtectionDomain().getCodeSource().getLocation();\n+       URLLoader loader = new URLLoader(new URL[] {location}, getClass().getClassLoader().getParent());\n+\n+       Class cls = loader.loadClass(\"Support\");\n+\n+       Thread t1 = new Thread(new Run1(cls));\n+       t1.start();\n+\n+       Thread.sleep(1000);\n+\n+       \/\/ Load Derived, will trigger a loadClassInternal for Base\n+       loader.loadClass(\"Derived\");\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        ParallelCircularityTest pct = new ParallelCircularityTest();\n+        pct.test();\n+    }\n+\n+    public class URLLoader extends URLClassLoader {\n+       private boolean m_firstTime = true;\n+\n+       public URLLoader(URL[] urls, ClassLoader parent) {\n+          super(urls, parent);\n+       }\n+\n+       public Class loadClass(String name) throws ClassNotFoundException {\n+          if (name.equals(\"Base\")) {\n+             if (m_firstTime) {\n+                m_firstTime = false;\n+\n+                \/\/ Notify the other thread\n+                synchronized (lock) {\n+                   lock.notifyAll();\n+                }\n+\n+                \/\/ Wait on the classloader to have the JVM throw ClassCircularityError\n+                try {\n+                   synchronized (this) {\n+                      wait(5000);\n+                   }\n+                }\n+                catch (InterruptedException ignored) { }\n+             }\n+          }\n+          return super.loadClass(name);\n+       }\n+    }\n+\n+    public class Run1 implements Runnable {\n+       private Class cls;\n+\n+       public Run1(Class cls) {\n+          this.cls = cls;\n+       }\n+\n+       public void run() {\n+          synchronized (lock) {\n+             try {\n+                lock.wait();\n+             }\n+             catch (InterruptedException ignored) {}\n+          }\n+\n+          \/\/ Trigger loadClassInternal for Base\n+          try {\n+             cls.newInstance();\n+          } catch (Throwable x) {\n+             x.printStackTrace();\n+          }\n+       }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelCircularity\/ParallelCircularityTest.java","additions":116,"deletions":0,"binary":false,"changes":116,"status":"added"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+public class Base {}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelCircularity\/test-classes\/Base.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"added"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+public class Derived extends Base {}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelCircularity\/test-classes\/Derived.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"added"},{"patch":"@@ -0,0 +1,26 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+public class Support {\n+  private Base base = new Base();\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelCircularity\/test-classes\/Support.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"added"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/AsmClasses.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/AsmClasses.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/ClassLoadingThread.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ClassLoadingThread.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/MyLoader.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/MyLoader.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/MyNonParallelLoader.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/MyNonParallelLoader.java","status":"renamed"},{"patch":"@@ -32,1 +32,1 @@\n- * @compile test-classes\/ClassInLoader.java test-classes\/A.java test-classes\/B.java\n+ * @compile test-classes\/ClassInLoader.java test-classes\/A.java test-classes\/B.java ..\/share\/ThreadPrint.java\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/ParallelSuperTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuperTest.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/test-classes\/A.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/test-classes\/A.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/test-classes\/B.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/test-classes\/B.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ParallelSuper\/test-classes\/ClassInLoader.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/test-classes\/ClassInLoader.java","status":"renamed"},{"patch":"","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SaveResolutionError\/SaveResolutionErrorTest.java","additions":0,"deletions":0,"binary":false,"changes":0,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SaveResolutionErrorTest.java","status":"renamed"},{"patch":"@@ -0,0 +1,59 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+class ClassLoadingThread extends Thread {\n+\n+    private ClassLoader ldr1;\n+    private ClassLoader ldr2;\n+    private int which;\n+\n+    public ClassLoadingThread(ClassLoader loader1, ClassLoader loader2, int i) {\n+        ldr1 = loader1;\n+        ldr2 = loader2;\n+        which = i;\n+    }\n+\n+    private boolean success = true;\n+    public boolean report_success() { return success; }\n+\n+    public void callForName(String cls, ClassLoader ldr) {\n+        try {\n+            ThreadPrint.println(\"Starting forName thread ...\");\n+            \/\/ Initiate class loading using specified type\n+            Class<?> a = Class.forName(cls, true, ldr);\n+            Object obj = a.getConstructor().newInstance();\n+        } catch (Throwable e) {\n+            ThreadPrint.println(\"Exception is caught: \" + e);\n+            e.printStackTrace();\n+            success = false;\n+        }\n+    }\n+\n+    public void run() {\n+       if (which == 0) {\n+           callForName(\"A\",ldr1);\n+       } else {\n+           callForName(\"C\", ldr2);\n+       }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/ClassLoadingThread.java","additions":59,"deletions":0,"binary":false,"changes":59,"status":"added"},{"patch":"@@ -0,0 +1,154 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 4670071 8295278\n+ * @summary Duplicate class loader deadlock referenced in https:\/\/openjdk.org\/groups\/core-libs\/ClassLoaderProposal.html\n+ *          One thread loads (A, CL1) extends (B, CL2), while the second loads (C, CL2) extends (D, CL1)\n+ * @library \/test\/lib\n+ * @compile test-classes\/A.java test-classes\/B.java test-classes\/C.java test-classes\/D.java ..\/share\/ThreadPrint.java\n+ * @run main\/othervm SuperWaitTest\n+ *\/\n+\n+import jdk.test.lib.classloader.ClassUnloadCommon;\n+import java.util.concurrent.Semaphore;\n+\n+public class SuperWaitTest {\n+\n+    private static Semaphore mainSync = null;\n+\n+    \/\/ Loads classes A and D, delegates for A's super class B\n+    private static class MyLoaderOne extends ClassLoader {\n+\n+        ClassLoader parent;\n+        ClassLoader baseLoader;\n+        int count;\n+\n+        MyLoaderOne(ClassLoader parent) {\n+            this.parent = parent;\n+            this.baseLoader = null;\n+            this.count = 0;\n+        }\n+\n+        public void setBaseLoader(ClassLoader ldr) {\n+            this.baseLoader = ldr;\n+        }\n+\n+        public synchronized Class<?> loadClass(String name) throws ClassNotFoundException {\n+            Class<?> loadedClass = findLoadedClass(name);\n+            if (loadedClass != null) return loadedClass;\n+            if (name.equals(\"A\") || name.equals(\"D\")) {\n+                ThreadPrint.println(\"Loading \" + name);\n+                if (name.equals(\"A\")) {\n+                    try {\n+                        ThreadPrint.println(\"Waiting for \" + name);\n+                        mainSync.acquire(); \/\/ wait until other thread gets here\n+                        wait(); \/\/ let the other thread have this lock.\n+                    } catch (InterruptedException ie) {}\n+                } else {\n+                    notify(); \/\/ reacquire lock when superclass loading is done\n+                }\n+                byte[] classfile = ClassUnloadCommon.getClassData(name);\n+                return defineClass(name, classfile, 0, classfile.length);\n+            } else if (name.equals(\"B\")) {\n+                return baseLoader.loadClass(name);\n+            } else {\n+                assert (!name.equals(\"C\"));\n+                return parent.loadClass(name);\n+            }\n+        }\n+    }\n+\n+    \/\/ Loads classes C and B, delegates for C's super class D\n+    private static class MyLoaderTwo extends ClassLoader {\n+\n+        ClassLoader parent;\n+        ClassLoader baseLoader;\n+        int count;\n+\n+        MyLoaderTwo(ClassLoader parent) {\n+            this.parent = parent;\n+            this.baseLoader = null;\n+            this.count = 0;\n+        }\n+\n+        public void setBaseLoader(ClassLoader ldr) {\n+            this.baseLoader = ldr;\n+        }\n+\n+        public synchronized Class<?> loadClass(String name) throws ClassNotFoundException {\n+            Class<?> loadedClass = findLoadedClass(name);\n+            if (loadedClass != null) return loadedClass;\n+            if (name.equals(\"C\") || name.equals(\"B\")) {\n+                ThreadPrint.println(\"Loading \" + name);\n+                if (name.equals(\"C\")) {\n+                    mainSync.release();\n+                }\n+                byte[] classfile = ClassUnloadCommon.getClassData(name);\n+                return defineClass(name, classfile, 0, classfile.length);\n+            } else if (name.equals(\"D\")) {\n+                return baseLoader.loadClass(name);\n+            } else {\n+                assert (!name.equals(\"A\"));\n+                return parent.loadClass(name);\n+            }\n+        }\n+    }\n+\n+    private static ClassLoadingThread[] threads = new ClassLoadingThread[2];\n+    private static boolean success = true;\n+\n+    private static boolean report_success() {\n+        for (int i = 0; i < 2; i++) {\n+          try {\n+            threads[i].join();\n+            if (!threads[i].report_success()) success = false;\n+          } catch (InterruptedException e) {}\n+        }\n+        return success;\n+    }\n+\n+    public static void main(java.lang.String[] unused) {\n+        \/\/ t1 loads (A,CL1) extends (B,CL2); t2 loads (C,CL2) extends (D,CL1)\n+        mainSync = new Semaphore(0);\n+\n+        ClassLoader appLoader = SuperWaitTest.class.getClassLoader();\n+        MyLoaderOne ldr1 = new MyLoaderOne(appLoader);\n+        MyLoaderTwo ldr2 = new MyLoaderTwo(appLoader);\n+        ldr1.setBaseLoader(ldr2);\n+        ldr2.setBaseLoader(ldr1);\n+\n+        for (int i = 0; i < 2; i++) {\n+            threads[i] = new ClassLoadingThread(ldr1, ldr2, i);\n+            threads[i].setName(\"Loading Thread #\" + (i + 1));\n+            threads[i].start();\n+            System.out.println(\"Thread \" + (i + 1) + \" was started...\");\n+        }\n+        if (report_success()) {\n+           System.out.println(\"PASSED\");\n+        } else {\n+            throw new RuntimeException(\"FAILED\");\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/SuperWaitTest.java","additions":154,"deletions":0,"binary":false,"changes":154,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ A extends B in other Class loader.\n+public class A extends B {\n+  static { System.out.println(\"A called\"); }\n+  public A() { System.out.println(\"A.<init> called\"); }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/test-classes\/A.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ This doesn't have to do anything\n+public class B {\n+  static { System.out.println(\"B called\"); }\n+  public B() { System.out.println(\"B.<init> called\"); }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/test-classes\/B.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ C extends D in first class loader\n+public class C extends D {\n+  static { System.out.println(\"C called\"); }\n+  public C() { System.out.println(\"C.<init> called\"); }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/test-classes\/C.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -0,0 +1,29 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ This doesn't have to do anything\n+public class D {\n+  static { System.out.println(\"D called\"); }\n+  public D() { System.out.println(\"D.<init> called\"); }\n+}\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/SuperWait\/test-classes\/D.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n","filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/share\/ThreadPrint.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"test\/hotspot\/jtreg\/runtime\/ParallelLoad\/ThreadPrint.java","status":"renamed"},{"patch":"@@ -59,1 +59,1 @@\n-                System.out.println(\"See https:\/\/bugs.openjdk.java.net\/browse\/JDK-8282828\");\n+                System.out.println(\"See https:\/\/bugs.openjdk.org\/browse\/JDK-8282828\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/DeterministicDump.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -66,1 +66,1 @@\n-        String logArg = \"-Xlog:cds=debug,cds+reloc=debug\";\n+        String logArg = \"-Xlog:cds=debug,cds+reloc=debug,cds+heap\";\n@@ -79,0 +79,6 @@\n+                        if (output.getOutput().contains(\"Trying to map heap\") || output.getOutput().contains(\"Loaded heap\")) {\n+                          \/\/ The native data in the RO\/RW regions have been relocated. If the CDS heap is\n+                          \/\/ mapped\/loaded, we must patch all the native pointers. (CDS heap is\n+                          \/\/ not supported on all platforms)\n+                          output.shouldContain(\"Patching native pointers in heap region\");\n+                        }\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/ArchiveRelocationTest.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -94,0 +94,17 @@\n+        System.out.println(\"2. Exec with \" + execGC + \" and test ArchiveRelocationMode\");\n+        out = TestCommon.exec(helloJar,\n+                              execGC,\n+                              small1,\n+                              small2,\n+                              \"-Xlog:cds,cds+heap\",\n+                              \"-XX:ArchiveRelocationMode=1\", \/\/ always relocate shared metadata\n+                              \"Hello\");\n+        out.shouldContain(HELLO);\n+        if (out.getOutput().contains(\"Trying to map heap\") || out.getOutput().contains(\"Loaded heap\")) {\n+            \/\/ The native data in the RO\/RW regions have been relocated. If the CDS heap is\n+            \/\/ mapped\/loaded, we must patch all the native pointers. (CDS heap is\n+            \/\/ not supported on all platforms)\n+            out.shouldContain(\"Patching native pointers in heap region\");\n+        }\n+        out.shouldHaveExitValue(0);\n+\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/TestSerialGCWithCDS.java","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-\/\/ Note: for https:\/\/bugs.openjdk.java.net\/browse\/JDK-8278602, this test case does NOT\n+\/\/ Note: for https:\/\/bugs.openjdk.org\/browse\/JDK-8278602, this test case does NOT\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/dynamicArchive\/LotsUnloadTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,149 +0,0 @@\n-\/*\n- * Copyright (c) 2020 SAP SE. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/**\n- * @test\n- * @bug 8249293\n- *\n- * @summary Test if stack walk to get local variable in the JVMTI implementation is safe if the\n- *          target thread is not suspended.\n- *\n- * @comment The main\/target thread uses recursion to build a large stack, then\n- *          calls a native method to notify the JVMTI agent thread to get a\n- *          local variable deep in the stack. This prolongs the stack walk. The\n- *          target thread's stack is walkable while in native. After sending the\n- *          notification it waits a while to give the agent time to reach the\n- *          stack walk, then it returns from native. This is when its stack\n- *          becomes not walkable again.\n- *\n- * @library \/test\/lib\n- * @compile GetLocalWithoutSuspendTest.java\n- * @run main\/othervm\/native\n- *                  -agentlib:GetLocalWithoutSuspendTest\n- *                  -Xbatch\n- *                  GetLocalWithoutSuspendTest\n- *\/\n-\n-public class GetLocalWithoutSuspendTest {\n-\n-    public static final int M = 1 << 20;\n-\n-    public static final int TEST_ITERATIONS = 200;\n-\n-    \/**\n-     * Native method to notify the agent thread to call GetLocalObject() on this thread.\n-     *\n-     * @param depth Depth of target frame for GetLocalObject() call. Should be\n-     *        large value to prolong the unsafe stack walk.\n-     * @param waitTime Time to wait after notify with\n-     *        walkable stack before returning an becoming unsafe again.\n-     * @return Dummy value.\n-     *\/\n-    public static native void notifyAgentToGetLocal(int depth, int waitTime);\n-\n-    \/**\n-     * Notify agent thread that we are shutting down and wait for it to terminate.\n-     *\/\n-    public static native void shutDown();\n-\n-    \/**\n-     * Provide agent thread with reference to target thread.\n-     * @param target The target thread\n-     *\/\n-    public static native void setTargetThread(Thread target);\n-\n-    public static void main(String[] args) throws Exception {\n-        new GetLocalWithoutSuspendTest().runTest();\n-    }\n-\n-    \/**\n-     * Wait cycles in native, i.e. with walkable stack, after notifying agent\n-     * thread to do GetLocalObject() call.\n-     *\/\n-    public int waitCycles = 1;\n-\n-    public void runTest() throws Exception {\n-        log(\"Set target thread for get local variable calls by agent.\");\n-        setTargetThread(Thread.currentThread());\n-\n-        log(\"Test how many frames fit on the stack by performing recursive calls until\");\n-        log(\"StackOverflowError is thrown\");\n-        int targetDepth = recursiveMethod(0, M);\n-        log(\"Testing with target depth: \" + targetDepth);\n-\n-        log(\"Begin Test.\");\n-        long start = System.currentTimeMillis();\n-        for (int iterations = 0; iterations < TEST_ITERATIONS; iterations++) {\n-            long now = System.currentTimeMillis();\n-            log((now - start) + \" ms  Iteration : \" + iterations +\n-                \"  waitTime : \" + waitCycles);\n-            int newTargetDepth = recursiveMethod(0, targetDepth);\n-            if (newTargetDepth < targetDepth) {\n-                \/\/ A StackOverflowError can occur due to (re-)compilation. We\n-                \/\/ don't reach the native method notifyAgentToGetLocal() then\n-                \/\/ which is a prerequisite to trigger the problematic race\n-                \/\/ condition. So we reduce the targetDepth to avoid stack\n-                \/\/ overflow.\n-                log(\"StackOverflowError during test.\");\n-                log(\"Old target depth: \" + targetDepth);\n-                log(\"Retry with new target depth: \" + newTargetDepth);\n-                targetDepth = newTargetDepth;\n-            }\n-            iterations++;\n-            \/\/ Double wait time, but limit to roughly 10^6 cycles.\n-            waitCycles = (waitCycles << 1) & (M - 1);\n-            waitCycles = waitCycles == 0 ? 1 : waitCycles;\n-        }\n-\n-        \/\/ Notify agent thread that we are shutting down and wait for it to terminate.\n-        shutDown();\n-\n-        log(\"Successfully finished test\");\n-    }\n-\n-    \/**\n-     * Perform recursive calls until the target stack depth is reached or the stack overflows.\n-     * Call {@link #notifyAgentToGetLocal(int, int)} if the target depth is reached.\n-     *\n-     * @param depth Current recursion depth\n-     * @param targetStackDepth Target recursion depth\n-     * @return Depth at which the recursion was ended\n-     *\/\n-    public int recursiveMethod(int depth, int targetStackDepth) {\n-        int maxDepth = depth;\n-        try {\n-            if (depth == targetStackDepth) {\n-                notifyAgentToGetLocal(depth - 100, waitCycles);\n-            } else {\n-                maxDepth = recursiveMethod(depth + 1, targetStackDepth);\n-            }\n-        } catch (StackOverflowError e) {\n-            \/\/ Don't print message here, because this would likely trigger a new StackOverflowError\n-        }\n-        return maxDepth;\n-    }\n-\n-    public static void log(String m) {\n-        System.out.println(\"### Java-Test: \" + m);\n-    }\n-}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/GetLocalVariable\/GetLocalWithoutSuspendTest.java","additions":0,"deletions":149,"binary":false,"changes":149,"status":"deleted"},{"patch":"@@ -0,0 +1,89 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test\n+ * @summary Verifies JVMTI GetLocalXXX\/SetLocalXXX return errors for unsuspended vthreads\n+ * @requires vm.continuations\n+ * @enablePreview\n+ * @library \/test\/lib\n+ * @run main\/othervm\/native -agentlib:GetSetLocalUnsuspended GetSetLocalUnsuspended\n+ *\/\n+\n+\n+public class GetSetLocalUnsuspended {\n+    private static final String agentLib = \"GetSetLocalUnsuspended\";\n+\n+    private static native void testUnsuspendedThread(Thread thread);\n+\n+    private static volatile boolean doStop;\n+\n+    private static void sleep(long millis) {\n+        try {\n+            Thread.sleep(millis);\n+        } catch (InterruptedException e) {\n+            throw new RuntimeException(\"Interruption in Thread.sleep: \\n\\t\" + e);\n+        }\n+    }\n+\n+    static final Runnable SLEEPING_THREAD = () -> {\n+        while (!doStop) {\n+            sleep(1);\n+        }\n+    };\n+\n+    private static void testPlatformThread() throws Exception {\n+        doStop = false;\n+        Thread thread = Thread.ofPlatform().name(\"SleepingPlatformThread\").start(SLEEPING_THREAD);\n+        testUnsuspendedThread(thread);\n+        doStop = true;\n+        thread.join();\n+    }\n+\n+    private static void testVirtualThread() throws Exception {\n+        doStop = false;\n+        Thread thread = Thread.ofVirtual().name(\"SleepingVirtualThread\").start(SLEEPING_THREAD);\n+        testUnsuspendedThread(thread);\n+        doStop = true;\n+        thread.join();\n+    }\n+\n+    private void runTest() throws Exception {\n+        testPlatformThread();\n+        testVirtualThread();\n+    }\n+\n+    public static void main(String[] args) throws Exception {\n+        try {\n+            System.loadLibrary(agentLib);\n+        } catch (UnsatisfiedLinkError ex) {\n+            System.err.println(\"Failed to load \" + agentLib + \" lib\");\n+            System.err.println(\"java.library.path: \" + System.getProperty(\"java.library.path\"));\n+            throw ex;\n+        }\n+\n+        GetSetLocalUnsuspended obj = new GetSetLocalUnsuspended();\n+        obj.runTest();\n+\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/GetLocalVariable\/GetSetLocalUnsuspended.java","additions":89,"deletions":0,"binary":false,"changes":89,"status":"added"},{"patch":"@@ -1,449 +0,0 @@\n-\/*\n- * Copyright (c) 2020 SAP SE. All rights reserved.\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-#include <stdio.h>\n-#include <string.h>\n-#include \"jvmti.h\"\n-#include \"jni.h\"\n-\n-\n-\/\/\n-\/\/ Please also read the @comment in GetLocalWithoutSuspendTest.java\n-\/\/\n-\n-extern \"C\" {\n-\n-\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n-\/\/ BEGIN: Shared Variables\n-\/\/ The following variables are shared between agent and target thread\n-\n-\/\/ glws_monitor is used to synchronize access to shared variables.\n-static jrawMonitorID glws_monitor;\n-\n-\/\/ Target thread for agent operations.\n-static jthread target_thread = NULL;\n-\n-\/\/ Depth of the frame for GetLocalObject() call by the agent thread. It is set by the target thread.\n-\/\/ -1 is the signal to shut down.\n-static int depth_for_get_local = 0;\n-\n-enum TestState {\n-  Initial,\n-\n-  TargetInNative,            \/\/ The agent waits for the target thread to reach\n-                             \/\/ the native method notifyAgentToGetLocal. Then it\n-                             \/\/ reads depth_for_get_local and changes the state\n-                             \/\/ to AgentInGetLocal. After that it\n-                             \/\/ calls GetLocalObject().\n-\n-  AgentInGetLocal,           \/\/ The target thread waits for the agent to call\n-                             \/\/ GetLocalObject(). When this state is reached it\n-                             \/\/ resets the state to Initial and returns from\n-                             \/\/ native after a short spin wait racing the agent\n-                             \/\/ thread doing the unsafe stack walk.\n-\n-  ShutDown,\n-\n-  Terminated\n-};\n-\n-\/\/ Current test state. It is used to synchronize agent and target thread execution.\n-static TestState test_state;\n-\n-\/\/ END: Shared Variables\n-\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\n-\n-\n-\/\/ Dummy counter used in spin wait. It is declared volatile to prevent the compiler\n-\/\/ from eliminating the whole spin loop.\n-static volatile int dummy_counter   = 0;\n-\n-\/\/ Makes a string of the argument (which is not macro-expanded)\n-#define STR(a)  #a\n-\n-\/\/ Makes a string of the macro expansion of a\n-#define XSTR(a) STR(a)\n-\n-#define AT_LINE \" ERROR at line \" XSTR(__LINE__)\n-\n-static jvmtiEnv* jvmti = NULL;\n-\n-static jint Agent_Initialize(JavaVM *jvm, char *options, void *reserved);\n-\n-static char* GetErrorMessage(jvmtiEnv *jvmti, jvmtiError errCode) {\n-  char *errMsg;\n-  jvmtiError result = jvmti->GetErrorName(errCode, &errMsg);\n-  return result == JVMTI_ERROR_NONE ? errMsg : NULL;\n-}\n-\n-static void ShowErrorMessage(jvmtiEnv *jvmti, jvmtiError errCode, const char *message) {\n-  char* errMsg = GetErrorMessage(jvmti, errCode);\n-\n-  if (errMsg != NULL) {\n-    fprintf(stderr, \"AGENT: %s: %s (%d)\\n\", message, errMsg, errCode);\n-    jvmti->Deallocate((unsigned char *)errMsg);\n-  } else {\n-    fprintf(stderr, \"AGENT: %s (%d)\\n\", message, errCode);\n-  }\n-}\n-\n-static void monitor_enter(jvmtiEnv* jvmti, JNIEnv* env, const char* loc) {\n-  jvmtiError err = jvmti->RawMonitorEnter(glws_monitor);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, loc);\n-    env->FatalError(loc);\n-  }\n-}\n-\n-static void monitor_exit(jvmtiEnv* jvmti, JNIEnv* env, const char* loc) {\n-  jvmtiError err = jvmti->RawMonitorExit(glws_monitor);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, loc);\n-    env->FatalError(loc);\n-  }\n-}\n-\n-static void monitor_wait(jvmtiEnv* jvmti, JNIEnv* env, const char* loc) {\n-  jvmtiError err = jvmti->RawMonitorWait(glws_monitor, 0);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, loc);\n-    env->FatalError(loc);\n-  }\n-}\n-\n-static void monitor_notify(jvmtiEnv* jvmti, JNIEnv* env, const char* loc) {\n-  jvmtiError err = jvmti->RawMonitorNotify(glws_monitor);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, loc);\n-    env->FatalError(loc);\n-  }\n-}\n-\n-static void monitor_destroy(jvmtiEnv* jvmti, JNIEnv* env, const char* loc) {\n-  jvmtiError err = jvmti->DestroyRawMonitor(glws_monitor);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, loc);\n-    env->FatalError(loc);\n-  }\n-}\n-\n-\/\/ Perform GetLocalObject() at the requested depth while target thread is running.\n-\/\/ Note that the JVMTI spec does not require to suspend the target thread.\n-void test_GetLocalObject(jvmtiEnv* jvmti, JNIEnv* env, int depth) {\n-  jvmtiError err;\n-  jobject obj;\n-  char* errMsg;\n-\n-  printf(\"AGENT: calling GetLocalObject() with depth %d\\n\", depth);\n-  err = jvmti->GetLocalObject(target_thread, depth, 0, &obj);\n-  errMsg = GetErrorMessage(jvmti, err);\n-  printf(\"AGENT: GetLocalObject() result code %s (%d)\\n\", errMsg != NULL ? errMsg : \"N\/A\", err);\n-  if (errMsg != NULL) {\n-    jvmti->Deallocate((unsigned char *)errMsg);\n-  }\n-  fflush(stdout);\n-\n-  \/\/ If the target thread wins the race we can get errors because we\n-  \/\/ don't find a frame at the given depth or we find a non-java frame\n-  \/\/ there (e.g. native frame). This is expected.\n-  \/\/ JVMTI_ERROR_INVALID_SLOT can occur also because the target thread is\n-  \/\/ running and the GetLocalObject() call might coincidentally refer to the\n-  \/\/ frame of a static method without parameters.\n-  if (err != JVMTI_ERROR_NONE &&\n-      err != JVMTI_ERROR_NO_MORE_FRAMES &&\n-      err != JVMTI_ERROR_OPAQUE_FRAME &&\n-      err != JVMTI_ERROR_INVALID_SLOT) {\n-    ShowErrorMessage(jvmti, err, \"AgentThreadLoop: error in JVMTI GetLocalObject\");\n-    env->FatalError(\"AgentThreadLoop: error in JVMTI GetLocalObject\\n\");\n-  }\n-}\n-\n-\/\/ Function holding the main loop for the test agent thread.\n-\/\/\n-\/\/ The agent does the following in each loop iteration:\n-\/\/\n-\/\/ - Wait for the target thread either to start a new test iteration or to\n-\/\/   signal shutdown.\n-\/\/\n-\/\/     Shutdown is signalled by setting test_state to ShutDown. The agent reacts\n-\/\/     to it by changing test_state to Terminated and then exits.\n-\/\/\n-\/\/     In the case of a new test iteration the target thread builds a deep call\n-\/\/     stack and then calls the native method notifyAgentToGetLocal(). While in\n-\/\/     native code its stack is walkable. It sets the shared variable test_state\n-\/\/     to TargetInNative and then uses the glws_monitor to send the\n-\/\/     notification to the agent thread.\n-\/\/\n-\/\/ - Read the shared variable depth_for_get_local which was set by the target\n-\/\/   thread before sending the notification.\n-\/\/\n-\/\/ - Set test_state to AgentInGetLocal and notify the target thread.\n-\/\/\n-\/\/ - Perform the JVMTI GetLocal call at depth_for_get_local racing the target\n-\/\/   thread returning from the native call making its stack not walkable. The VM\n-\/\/   will crash if this happens while the stack is walked to find the frame for\n-\/\/   the GetLocal operation. The deeper the frame the more likely the crash\n-\/\/   because the stack walk takes longer.\n-\/\/\n-JNIEXPORT void JNICALL\n-AgentThreadLoop(jvmtiEnv * jvmti, JNIEnv* env, void * arg) {\n-  jvmtiError err;\n-  jvmtiThreadInfo thread_info;\n-\n-  \/\/ Wait until target_thread is set by target thread.\n-  monitor_enter(jvmti, env, AT_LINE);\n-  while (target_thread == NULL) {\n-    monitor_wait(jvmti, env, AT_LINE);\n-  }\n-  monitor_exit(jvmti, env, AT_LINE);\n-\n-  err = jvmti->GetThreadInfo(target_thread, &thread_info);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"AgentThreadLoop: error in JVMTI GetThreadInfo\");\n-    env->FatalError(\"AgentThreadLoop: error in JVMTI GetThreadInfo\\n\");\n-  }\n-\n-  printf(\"AGENT: AgentThreadLoop thread started. Polling thread '%s' for local variables\\n\",\n-         thread_info.name);\n-  jvmti->Deallocate((unsigned char *) thread_info.name);\n-\n-  do {\n-    int depth;\n-\n-    monitor_enter(jvmti, env, AT_LINE);\n-\n-    \/\/ Wait for java part to build large stack and then become stack walk\n-    \/\/ save by calling the native method notifyAgentToGetLocal or to signal\n-    \/\/ shutdown.\n-    while (test_state != TargetInNative) {\n-      if (test_state == ShutDown) {\n-        test_state = Terminated;\n-        monitor_notify(jvmti, env, AT_LINE);\n-        monitor_exit(jvmti, env, AT_LINE);\n-        return;\n-      }\n-      monitor_wait(jvmti, env, AT_LINE);\n-    }\n-    depth = depth_for_get_local;\n-\n-    \/\/ Notify target thread that this thread is about to query the local value.\n-    test_state = AgentInGetLocal;\n-    monitor_notify(jvmti, env, AT_LINE);\n-\n-    monitor_exit(jvmti, env, AT_LINE);\n-\n-    \/\/ Now get the local object from the target thread's stack.\n-    test_GetLocalObject(jvmti, env, depth);\n-  } while (true);\n-\n-  printf(\"AGENT: AgentThreadLoop thread: exiting\\n\");\n-}\n-\n-\/\/ Called by target thread after building a large stack.\n-\/\/ By calling this native method, the thread's stack becomes walkable.\n-\/\/ It notifies the agent to do the GetLocalObject() call and then races\n-\/\/ it to make its stack not walkable by returning from the native call.\n-JNIEXPORT void JNICALL\n-Java_GetLocalWithoutSuspendTest_notifyAgentToGetLocal(JNIEnv *env, jclass cls, jint depth, jint waitCycles) {\n-  monitor_enter(jvmti, env, AT_LINE);\n-\n-  \/\/ Set depth_for_get_local and notify agent that the target thread is ready for the GetLocalObject() call\n-  depth_for_get_local = depth;\n-  test_state = TargetInNative;\n-\n-  monitor_notify(jvmti, env, AT_LINE);\n-\n-  \/\/ Wait for agent thread to read depth_for_get_local and do the GetLocalObject() call\n-  while (test_state != AgentInGetLocal) {\n-    monitor_wait(jvmti, env, AT_LINE);\n-  }\n-\n-  \/\/ Reset state to Initial\n-  test_state = Initial;\n-\n-  monitor_exit(jvmti, env, AT_LINE);\n-\n-  \/\/ Wait a little until agent thread is in unsafe stack walk.\n-  \/\/ This needs to be a spin wait or sleep because we cannot get a notification\n-  \/\/ from there.\n-  while (--waitCycles > 0) {\n-    dummy_counter++;\n-  }\n-}\n-\n-\/\/ Called by target thread to signal shutdown. The target thread waits for the\n-\/\/ agent's acknowledge by changing test_state to Terminated.\n-JNIEXPORT void JNICALL\n-Java_GetLocalWithoutSuspendTest_shutDown(JNIEnv *env, jclass cls) {\n-  monitor_enter(jvmti, env, AT_LINE);\n-\n-  \/\/ Notify agent thread to shut down\n-  test_state = ShutDown;\n-  monitor_notify(jvmti, env, AT_LINE);\n-\n-  \/\/ Wait for agent to terminate\n-  while (test_state != Terminated) {\n-    monitor_wait(jvmti, env, AT_LINE);\n-  }\n-\n-  monitor_exit(jvmti, env, AT_LINE);\n-\n-  \/\/ Destroy glws_monitor\n-  monitor_destroy(jvmti, env, AT_LINE);\n-}\n-\n-\/\/ Called by target thread to provide agent with its thread object\n-JNIEXPORT void JNICALL\n-Java_GetLocalWithoutSuspendTest_setTargetThread(JNIEnv *env, jclass cls, jthread target) {\n-  monitor_enter(jvmti, env, AT_LINE);\n-\n-  target_thread = env->NewGlobalRef(target);\n-\n-  monitor_notify(jvmti, env, AT_LINE);\n-\n-  monitor_exit(jvmti, env, AT_LINE);\n-}\n-\n-void JNICALL VMInit(jvmtiEnv *jvmti, JNIEnv *env, jthread thr) {\n-  jvmtiError err;\n-  jobject agent_thread_name;\n-  jclass thread_clas;\n-  jmethodID thread_ctor;\n-  jthread agent_thread;\n-\n-  printf(\"AGENT: VM init event\\n\");\n-  printf(\"AGENT: Start new thread that performs GetLocalObject calls on a running target thread\\n\");\n-\n-  agent_thread_name = env->NewStringUTF(\"GetLocalWithoutSuspendTest Agent Thread\");\n-  if (agent_thread_name == NULL) {\n-    env->FatalError(\"VMInit: NewStringUTF failed\\n\");\n-  }\n-\n-  thread_clas = env->FindClass(\"java\/lang\/Thread\");\n-  if (thread_clas == NULL) {\n-    env->FatalError(\"VMInit: java.lang.Thread class not found\\n\");\n-  }\n-\n-  thread_ctor = env->GetMethodID(thread_clas, \"<init>\", \"(Ljava\/lang\/String;)V\");\n-  if (thread_ctor == NULL) {\n-    env->FatalError(\"VMInit: failed to get ID for the Thread ctor\\n\");\n-  }\n-\n-  agent_thread = (jthread) env->NewObject(thread_clas, thread_ctor, agent_thread_name);\n-  if (agent_thread == NULL) {\n-    env->FatalError(\"VMInit: Failed to allocate thread object\\n\");\n-  }\n-\n-  err = jvmti->RunAgentThread(agent_thread, &AgentThreadLoop, NULL,\n-                              JVMTI_THREAD_NORM_PRIORITY);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"VMInit: failed to start GetLocalWithoutSuspendTest thread\");\n-    return;\n-  }\n-}\n-\n-JNIEXPORT jint JNICALL\n-Agent_OnLoad(JavaVM *jvm, char *options, void *reserved) {\n-  printf(\"AGENT: Agent_OnLoad started.\\n\");\n-  return Agent_Initialize(jvm, options, reserved);\n-}\n-\n-JNIEXPORT jint JNICALL\n-Agent_OnAttach(JavaVM *jvm, char *options, void *reserved) {\n-  printf(\"AGENT: Agent_OnAttach started.\");\n-  return Agent_Initialize(jvm, options, reserved);\n-}\n-\n-JNIEXPORT jint JNICALL\n-JNI_OnLoad(JavaVM *jvm, void *reserved) {\n-  jint res;\n-  JNIEnv *env;\n-\n-  printf(\"AGENT: JNI_OnLoad started.\");\n-  res = jvm->GetEnv((void **) &env, JNI_VERSION_9);\n-  if (res != JNI_OK || env == NULL) {\n-    fprintf(stderr, \"Error: GetEnv call failed(%d)!\\n\", res);\n-    return JNI_ERR;\n-  }\n-\n-  return JNI_VERSION_9;\n-}\n-\n-static\n-jint Agent_Initialize(JavaVM *jvm, char *options, void *reserved) {\n-  jint res;\n-  jvmtiError err;\n-  jvmtiCapabilities caps;\n-  jvmtiEventCallbacks callbacks;\n-\n-  printf(\"AGENT: Agent_Initialize started\\n\");\n-\n-  memset(&caps, 0, sizeof(caps));\n-  memset(&callbacks, 0, sizeof(callbacks));\n-\n-  res = jvm->GetEnv((void **) &jvmti, JVMTI_VERSION_9);\n-  if (res != JNI_OK || jvmti == NULL) {\n-    fprintf(stderr, \"Error: GetEnv(JVMTI_VERSION_9) call failed(%d)!\\n\", res);\n-    return JNI_ERR;\n-  }\n-\n-  caps.can_access_local_variables = 1;\n-\n-  err = jvmti->AddCapabilities(&caps);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"Agent_OnLoad: error in JVMTI AddCapabilities\");\n-    return JNI_ERR;\n-  }\n-\n-  err = jvmti->GetCapabilities(&caps);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"Agent_OnLoad: error in JVMTI GetCapabilities\");\n-    return JNI_ERR;\n-  }\n-\n-  if (!caps.can_access_local_variables) {\n-    fprintf(stderr, \"Warning: Access to local variables is not implemented\\n\");\n-    return JNI_ERR;\n-  }\n-\n-  callbacks.VMInit = &VMInit;\n-  err = jvmti->SetEventCallbacks(&callbacks, sizeof(callbacks));\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"Agent_OnLoad: error in JVMTI SetEventCallbacks\");\n-    return JNI_ERR;\n-  }\n-\n-  err = jvmti->SetEventNotificationMode(JVMTI_ENABLE, JVMTI_EVENT_VM_INIT, NULL);\n-  if (err != JVMTI_ERROR_NONE) {\n-    ShowErrorMessage(jvmti, err, \"Agent_OnLoad: error in JVMTI SetEventNotificationMode\");\n-    return JNI_ERR;\n-  }\n-\n-  err = jvmti->CreateRawMonitor(\"GetLocalWithoutSuspend Test Monitor\", &glws_monitor);\n-\n-  printf(\"AGENT: Agent_Initialize finished\\n\");\n-  return JNI_OK;\n-}\n-\n-}\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/GetLocalVariable\/libGetLocalWithoutSuspendTest.cpp","additions":0,"deletions":449,"binary":false,"changes":449,"status":"deleted"},{"patch":"@@ -0,0 +1,178 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+#include <string.h>\n+#include \"jvmti.h\"\n+#include \"jvmti_common.h\"\n+\n+extern \"C\" {\n+\n+#define MAX_FRAME_COUNT 30\n+\n+enum Slots {\n+  SlotInvalid0 = -1,\n+  SlotString = 0,\n+  SlotThread = 1,\n+  SlotInt = 2,\n+  SlotLong = 3,\n+  SlotUnaligned = 4,\n+  SlotFloat = 5,\n+  SlotDouble = 6,\n+};\n+\n+static jvmtiEnv *jvmti = NULL;\n+\n+static void\n+check_jvmti_error_not_suspended(JNIEnv* jni, const char* func_name, jvmtiError err) {\n+  if (err != JVMTI_ERROR_THREAD_NOT_SUSPENDED) {\n+    LOG(\"%s failed: expected JVMTI_ERROR_THREAD_NOT_SUSPENDED instead of: %d\\n\", func_name, err);\n+    fatal(jni, func_name);\n+  }\n+}\n+\n+static void\n+test_GetLocal(jvmtiEnv *jvmti, JNIEnv *jni, jthread thread) {\n+  jvmtiError err;\n+  const int depth = 0;\n+\n+  jobject msg = NULL;\n+  jint ii = 0;\n+  jlong ll = 0L;\n+  jfloat ff = 0.0;\n+  jdouble dd = 0.0;\n+\n+  LOG(\"\\ntest_GetLocal started\\n\");\n+\n+  \/\/ #0: Test JVMTI GetLocalInstance function\n+  err = jvmti->GetLocalInstance(thread, depth, &msg);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalInstance\", err);\n+  LOG(\"check for JVMTI GetLocalInstance succeeded\\n\");\n+\n+  \/\/ #1: Test JVMTI GetLocalObject function\n+  err = jvmti->GetLocalObject(thread, depth, SlotString, &msg);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalObject\", err);\n+  LOG(\"check for JVMTI GetLocalObject succeeded\\n\");\n+\n+  \/\/ #2: Test JVMTI GetLocalInt function\n+  err = jvmti->GetLocalInt(thread, depth, SlotInt, &ii);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalInt\", err);\n+  LOG(\"check for JVMTI GetLocalInt succeeded\\n\");\n+\n+  \/\/ #3: Test JVMTI GetLocalLong function\n+  err = jvmti->GetLocalLong(thread, depth, SlotLong, &ll);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalLong\", err);\n+  LOG(\"check for JVMTI GetLocalLong succeeded\\n\");\n+\n+  \/\/ #4: Test JVMTI GetLocalFloat function\n+  err = jvmti->GetLocalFloat(thread, depth, SlotFloat, &ff);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalFloat\", err);\n+  LOG(\"check for JVMTI GetLocalFloat succeeded\\n\");\n+\n+  \/\/ #5: Test JVMTI GetLocalDouble function\n+  err = jvmti->GetLocalDouble(thread, depth, SlotDouble, &dd);\n+  check_jvmti_error_not_suspended(jni, \"GetLocalDouble\", err);\n+  LOG(\"check for JVMTI GetLocalDouble succeeded\\n\");\n+\n+  LOG(\"test_GetLocal finished\\n\");\n+}\n+\n+static void\n+test_SetLocal(jvmtiEnv *jvmti, JNIEnv *jni, jthread thread) {\n+  jvmtiError err;\n+  const int depth = 0;\n+\n+  const jobject msg = NULL;\n+  const jint ii = 0;\n+  const jlong ll = 0L;\n+  const jfloat ff = 0.0;\n+  const jdouble dd = 0.0;\n+\n+  LOG(\"\\ntest_SetLocal started\\n\");\n+\n+  \/\/ #1: Test JVMTI SetLocalObject function\n+  err = jvmti->SetLocalObject(thread, depth, SlotString, msg);\n+  check_jvmti_error_not_suspended(jni, \"SetLocalObject\", err);\n+  LOG(\"check for JVMTI SetLocalObject succeeded\\n\");\n+\n+  \/\/ #2: Test JVMTI SetLocalInt function\n+  err = jvmti->SetLocalInt(thread, depth, SlotInt, ii);\n+  check_jvmti_error_not_suspended(jni, \"SetLocalInt\", err);\n+  LOG(\"check for JVMTI SetLocalInt succeeded\\n\");\n+\n+  \/\/ #3: Test JVMTI SetLocalLong function\n+  err = jvmti->SetLocalLong(thread, depth, SlotLong, ll);\n+  check_jvmti_error_not_suspended(jni, \"SetLocalLong\", err);\n+  LOG(\"check for JVMTI SetLocalLong succeeded\\n\");\n+\n+  \/\/ #4: Test JVMTI SetLocalFloat function\n+  err = jvmti->SetLocalFloat(thread, depth, SlotFloat, ff);\n+  check_jvmti_error_not_suspended(jni, \"SetLocalFloat\", err);\n+  LOG(\"check for JVMTI SetLocalFloat succeeded\\n\");\n+\n+  \/\/ #5: Test JVMTI SetLocalDouble function\n+  err = jvmti->SetLocalDouble(thread, depth, SlotDouble, dd);\n+  check_jvmti_error_not_suspended(jni, \"SetLocalDouble\", err);\n+  LOG(\"check for JVMTI SetLocalDouble succeeded\\n\");\n+\n+  LOG(\"test_SetLocal finished\\n\");\n+}\n+\n+JNIEXPORT jint JNICALL\n+Agent_OnLoad(JavaVM *jvm, char *options, void *reserved) {\n+  jvmtiCapabilities caps;\n+  jvmtiError err;\n+\n+  LOG(\"Agent_OnLoad started\\n\");\n+  if (jvm->GetEnv((void **) (&jvmti), JVMTI_VERSION) != JNI_OK) {\n+    return JNI_ERR;\n+  }\n+\n+  memset(&caps, 0, sizeof(caps));\n+  caps.can_support_virtual_threads = 1;\n+  caps.can_access_local_variables = 1;\n+\n+  err = jvmti->AddCapabilities(&caps);\n+  if (err != JVMTI_ERROR_NONE) {\n+    LOG(\"error in JVMTI AddCapabilities: %d\\n\", err);\n+    return JNI_ERR;\n+  }\n+  LOG(\"Agent_OnLoad finished\\n\");\n+  return JNI_OK;\n+}\n+\n+JNIEXPORT void JNICALL\n+Java_GetSetLocalUnsuspended_testUnsuspendedThread(JNIEnv *jni, jclass klass, jthread thread) {\n+  char* tname = get_thread_name(jvmti, jni, thread);\n+  jmethodID method = NULL;\n+  jlocation location = 0;\n+\n+  LOG(\"\\ntestUnsuspendedThread: started for thread: %s\\n\", tname);\n+\n+  test_GetLocal(jvmti, jni, thread);\n+  test_SetLocal(jvmti, jni, thread);\n+\n+  LOG(\"\\ntestUnsuspendedThread: finished for thread: %s\\n\", tname);\n+  deallocate(jvmti, jni, (void*)tname);\n+}\n+\n+} \/\/ extern \"C\"\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/GetLocalVariable\/libGetSetLocalUnsuspended.cpp","additions":178,"deletions":0,"binary":false,"changes":178,"status":"added"},{"patch":"@@ -130,0 +130,2 @@\n+    suspend_thread(jvmti, jni, cthread);\n+\n@@ -133,0 +135,2 @@\n+\n+    resume_thread(jvmti, jni, cthread);\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/vthread\/GetSetLocalTest\/libGetSetLocalTest.cpp","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -381,2 +381,2 @@\n-  err = jvmti->GetLocalInstance(cthread, 3, &obj);\n-  check_jvmti_status(jni, err, \"event handler: error in JVMTI GetLocalInstance for carrier thread top frame Continuation.run\");\n+  {\n+    suspend_thread(jvmti, jni, cthread);\n@@ -384,1 +384,6 @@\n-  LOG(\"JVMTI GetLocalInstance succeed for carrier thread top frame Continuation.run()\\n\");\n+    err = jvmti->GetLocalInstance(cthread, 3, &obj);\n+    check_jvmti_status(jni, err, \"event handler: error in JVMTI GetLocalInstance for carrier thread top frame Continuation.run\");\n+    LOG(\"JVMTI GetLocalInstance succeed for carrier thread top frame Continuation.run()\\n\");\n+\n+    resume_thread(jvmti, jni, cthread);\n+  }\n@@ -592,0 +597,1 @@\n+  caps.can_suspend = 1;\n","filename":"test\/hotspot\/jtreg\/serviceability\/jvmti\/vthread\/VThreadTest\/libVThreadTest.cpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -0,0 +1,97 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import sun.jvm.hotspot.HotSpotAgent;\n+import sun.jvm.hotspot.runtime.VM;\n+\n+import jdk.test.lib.apps.LingeredApp;\n+import jdk.test.lib.Asserts;\n+import jdk.test.lib.Platform;\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+import jdk.test.lib.SA.SATestUtils;\n+import jdk.test.lib.Utils;\n+\n+\/**\n+ * @test\n+ * @library \/test\/lib\n+ * @requires vm.hasSA\n+ * @modules jdk.hotspot.agent\/sun.jvm.hotspot\n+ *          jdk.hotspot.agent\/sun.jvm.hotspot.runtime\n+ * @run driver TestObjectAlignment\n+ *\/\n+\n+public class TestObjectAlignment {\n+\n+    private static LingeredApp theApp = null;\n+\n+    private static void checkAlignment(String pid, int expectedAlign) throws Exception {\n+        HotSpotAgent agent = new HotSpotAgent();\n+\n+        try {\n+            agent.attach(Integer.parseInt(pid));\n+            int actualAlign = VM.getVM().getObjectAlignmentInBytes();\n+            Asserts.assertEquals(expectedAlign, actualAlign,\n+                                 \"Address of HeapRegion does not match.\");\n+        } finally {\n+            agent.detach();\n+        }\n+    }\n+\n+    private static void createAnotherToAttach(long lingeredAppPid, int expectedAlign)\n+                                                         throws Exception {\n+        \/\/ Start a new process to attach to the lingered app\n+        ProcessBuilder processBuilder = ProcessTools.createJavaProcessBuilder(\n+            \"--add-modules=jdk.hotspot.agent\",\n+            \"--add-exports=jdk.hotspot.agent\/sun.jvm.hotspot=ALL-UNNAMED\",\n+            \"--add-exports=jdk.hotspot.agent\/sun.jvm.hotspot.runtime=ALL-UNNAMED\",\n+            \"TestObjectAlignment\",\n+            Long.toString(lingeredAppPid),\n+            Integer.toString(expectedAlign)\n+        );\n+        SATestUtils.addPrivilegesIfNeeded(processBuilder);\n+        OutputAnalyzer SAOutput = ProcessTools.executeProcess(processBuilder);\n+        SAOutput.shouldHaveExitValue(0);\n+        System.out.println(SAOutput.getOutput());\n+    }\n+\n+    public static void main (String... args) throws Exception {\n+        SATestUtils.skipIfCannotAttach(); \/\/ throws SkippedException if attach not expected to work.\n+        if (args == null || args.length == 0) {\n+            for (int align = 8; align <= 256; align *= 2) {\n+                try {\n+                    theApp = new LingeredApp();\n+                    LingeredApp.startApp(theApp, \"-XX:ObjectAlignmentInBytes=\" + align);\n+                    createAnotherToAttach(theApp.getPid(), align);\n+                } finally {\n+                    LingeredApp.stopApp(theApp);\n+                }\n+            }\n+        } else {\n+            checkAlignment(args[0], Integer.parseInt(args[1]));\n+        }\n+    }\n+}\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/TestObjectAlignment.java","additions":97,"deletions":0,"binary":false,"changes":97,"status":"added"},{"patch":"@@ -319,2 +319,0 @@\n-\n-\/* DEBUG -- while thread should be suspended\n@@ -322,1 +320,0 @@\n-*\/\n@@ -328,1 +325,0 @@\n-\/* DEBUG -- while thread should be suspended\n@@ -335,1 +331,0 @@\n-*\/\n@@ -391,1 +386,0 @@\n-\/* DEBUG -- while thread should be suspended\n@@ -396,1 +390,0 @@\n-*\/\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/jvmti\/scenarios\/capability\/CM01\/cm01t011\/cm01t011.cpp","additions":0,"deletions":7,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -46,3 +46,0 @@\n-\/*************************************************************\/\n-\n-extern \"C\" {\n@@ -104,48 +101,0 @@\n-char *jlong_to_string(jlong value, char *string) {\n-    char buffer[32];\n-    char *pbuf, *pstr;\n-\n-    pstr = string;\n-    if (value == 0) {\n-        *pstr++ = '0';\n-    } else {\n-        if (value < 0) {\n-            *pstr++ = '-';\n-            value = -value;\n-        }\n-        pbuf = buffer;\n-        while (value != 0) {\n-            *pbuf++ = '0' + (char)(value % 10);\n-            value = value \/ 10;\n-        }\n-        while (pbuf != buffer) {\n-            *pstr++ = *--pbuf;\n-        }\n-    }\n-    *pstr = '\\0';\n-\n-    return string;\n-}\n-\n-char *julong_to_string(julong value, char *string) {\n-    char buffer[32];\n-    char *pbuf, *pstr;\n-\n-    pstr = string;\n-    if (value == 0) {\n-        *pstr++ = '0';\n-    } else {\n-        pbuf = buffer;\n-        while (value != 0) {\n-            *pbuf++ = '0' + (char)(value % 10);\n-            value = value \/ 10;\n-        }\n-        while (pbuf != buffer) {\n-            *pstr++ = *--pbuf;\n-        }\n-    }\n-    *pstr = '\\0';\n-\n-    return string;\n-}\n-\n@@ -200,1 +149,0 @@\n-}\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jni\/jni_tools.cpp","additions":1,"deletions":53,"binary":false,"changes":54,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -37,0 +37,2 @@\n+#include \"jvmti_common.h\"\n+\n@@ -55,10 +57,0 @@\n-\/**\n- * Additional Java basic types\n- *\/\n-\n-#ifdef _WIN32\n-    typedef unsigned __int64 julong;\n-#else\n-    typedef unsigned long long julong;\n-#endif\n-\n@@ -97,4 +89,0 @@\n-extern \"C\" {\n-\n-\/*************************************************************\/\n-\n@@ -130,16 +118,0 @@\n-\/**\n- * Convert the digits of the given value argument to a null-terminated\n- * character string and store the result (up to 32 bytes) in string.\n- * If value is negative, the first character of the stored string is\n- * the minus sign (-). The function returns a pointer to the begining\n- * of the result string.\n- *\/\n-char *jlong_to_string(jlong value, char *string);\n-\n-\/**\n- * Convert the digits of the given value argument to a null-terminated\n- * character string and store the result (up to 32 bytes) in string.\n- * The function returns a pointer to the begining of the result string.\n- *\/\n-char *julong_to_string(julong value, char *string);\n-\n@@ -166,4 +138,0 @@\n-}\n-\n-\/*************************************************************\/\n-\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jni\/jni_tools.h","additions":3,"deletions":35,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,300 +28,0 @@\n-extern \"C\" {\n-\n-const char* TranslateState(jint flags) {\n-    static char str[15 * 20];\n-\n-    if (flags == 0)\n-        return \"<none>\";\n-\n-    str[0] = '\\0';\n-\n-    if (flags & JVMTI_THREAD_STATE_ALIVE) {\n-        strcat(str, \" ALIVE\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_TERMINATED) {\n-        strcat(str, \" TERMINATED\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_RUNNABLE) {\n-        strcat(str, \" RUNNABLE\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_WAITING) {\n-        strcat(str, \" WAITING\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_WAITING_INDEFINITELY) {\n-        strcat(str, \" WAITING_INDEFINITELY\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_WAITING_WITH_TIMEOUT) {\n-        strcat(str, \" WAITING_WITH_TIMEOUT\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_SLEEPING) {\n-        strcat(str, \" SLEEPING\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_IN_OBJECT_WAIT) {\n-        strcat(str, \" IN_OBJECT_WAIT\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_PARKED) {\n-        strcat(str, \" PARKED\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_BLOCKED_ON_MONITOR_ENTER) {\n-        strcat(str, \" BLOCKED_ON_MONITOR_ENTER\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_SUSPENDED) {\n-        strcat(str, \" SUSPENDED\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_INTERRUPTED) {\n-        strcat(str, \" INTERRUPTED\");\n-    }\n-\n-    if (flags & JVMTI_THREAD_STATE_IN_NATIVE) {\n-        strcat(str, \" IN_NATIVE\");\n-    }\n-\n-\n-    return str;\n-}\n-\n-const char* TranslateEvent(jvmtiEvent event_type) {\n-    switch (event_type) {\n-    case JVMTI_EVENT_VM_INIT:\n-        return (\"JVMTI_EVENT_VM_INIT\");\n-    case JVMTI_EVENT_VM_DEATH:\n-        return (\"JVMTI_EVENT_VM_DEATH\");\n-    case JVMTI_EVENT_THREAD_START:\n-        return (\"JVMTI_EVENT_THREAD_START\");\n-    case JVMTI_EVENT_THREAD_END:\n-        return (\"JVMTI_EVENT_THREAD_END\");\n-    case JVMTI_EVENT_CLASS_FILE_LOAD_HOOK:\n-        return (\"JVMTI_EVENT_CLASS_FILE_LOAD_HOOK\");\n-    case JVMTI_EVENT_CLASS_LOAD:\n-        return (\"JVMTI_EVENT_CLASS_LOAD\");\n-    case JVMTI_EVENT_CLASS_PREPARE:\n-        return (\"JVMTI_EVENT_CLASS_PREPARE\");\n-    case JVMTI_EVENT_VM_START:\n-        return (\"JVMTI_EVENT_VM_START\");\n-    case JVMTI_EVENT_EXCEPTION:\n-        return (\"JVMTI_EVENT_EXCEPTION\");\n-    case JVMTI_EVENT_EXCEPTION_CATCH:\n-        return (\"JVMTI_EVENT_EXCEPTION_CATCH\");\n-    case JVMTI_EVENT_SINGLE_STEP:\n-        return (\"JVMTI_EVENT_SINGLE_STEP\");\n-    case JVMTI_EVENT_FRAME_POP:\n-        return (\"JVMTI_EVENT_FRAME_POP\");\n-    case JVMTI_EVENT_BREAKPOINT:\n-        return (\"JVMTI_EVENT_BREAKPOINT\");\n-    case JVMTI_EVENT_FIELD_ACCESS:\n-        return (\"JVMTI_EVENT_FIELD_ACCESS\");\n-    case JVMTI_EVENT_FIELD_MODIFICATION:\n-        return (\"JVMTI_EVENT_FIELD_MODIFICATION\");\n-    case JVMTI_EVENT_METHOD_ENTRY:\n-        return (\"JVMTI_EVENT_METHOD_ENTRY\");\n-    case JVMTI_EVENT_METHOD_EXIT:\n-        return (\"JVMTI_EVENT_METHOD_EXIT\");\n-    case JVMTI_EVENT_NATIVE_METHOD_BIND:\n-        return (\"JVMTI_EVENT_NATIVE_METHOD_BIND\");\n-    case JVMTI_EVENT_COMPILED_METHOD_LOAD:\n-        return (\"JVMTI_EVENT_COMPILED_METHOD_LOAD\");\n-    case JVMTI_EVENT_COMPILED_METHOD_UNLOAD:\n-        return (\"JVMTI_EVENT_COMPILED_METHOD_UNLOAD\");\n-    case JVMTI_EVENT_DYNAMIC_CODE_GENERATED:\n-        return (\"JVMTI_EVENT_DYNAMIC_CODE_GENERATED\");\n-    case JVMTI_EVENT_DATA_DUMP_REQUEST:\n-        return (\"JVMTI_EVENT_DATA_DUMP_REQUEST\");\n-    case JVMTI_EVENT_MONITOR_WAIT:\n-        return (\"JVMTI_EVENT_MONITOR_WAIT\");\n-    case JVMTI_EVENT_MONITOR_WAITED:\n-        return (\"JVMTI_EVENT_MONITOR_WAITED\");\n-    case JVMTI_EVENT_MONITOR_CONTENDED_ENTER:\n-        return (\"JVMTI_EVENT_MONITOR_CONTENDED_ENTER\");\n-    case JVMTI_EVENT_MONITOR_CONTENDED_ENTERED:\n-        return (\"JVMTI_EVENT_MONITOR_CONTENDED_ENTERED\");\n-    case JVMTI_EVENT_GARBAGE_COLLECTION_START:\n-        return (\"JVMTI_EVENT_GARBAGE_COLLECTION_START\");\n-    case JVMTI_EVENT_GARBAGE_COLLECTION_FINISH:\n-        return (\"JVMTI_EVENT_GARBAGE_COLLECTION_FINISH\");\n-    case JVMTI_EVENT_OBJECT_FREE:\n-        return (\"JVMTI_EVENT_OBJECT_FREE\");\n-    case JVMTI_EVENT_VM_OBJECT_ALLOC:\n-        return (\"JVMTI_EVENT_VM_OBJECT_ALLOC\");\n-    default:\n-        return (\"<unknown event>\");\n-    }\n-}\n-\n-const char* TranslateError(jvmtiError err) {\n-    switch (err) {\n-    case JVMTI_ERROR_NONE:\n-        return (\"JVMTI_ERROR_NONE\");\n-    case JVMTI_ERROR_INVALID_THREAD:\n-        return (\"JVMTI_ERROR_INVALID_THREAD\");\n-    case JVMTI_ERROR_INVALID_THREAD_GROUP:\n-        return (\"JVMTI_ERROR_INVALID_THREAD_GROUP\");\n-    case JVMTI_ERROR_INVALID_PRIORITY:\n-        return (\"JVMTI_ERROR_INVALID_PRIORITY\");\n-    case JVMTI_ERROR_THREAD_NOT_SUSPENDED:\n-        return (\"JVMTI_ERROR_THREAD_NOT_SUSPENDED\");\n-    case JVMTI_ERROR_THREAD_SUSPENDED:\n-        return (\"JVMTI_ERROR_THREAD_SUSPENDED\");\n-    case JVMTI_ERROR_THREAD_NOT_ALIVE:\n-        return (\"JVMTI_ERROR_THREAD_NOT_ALIVE\");\n-    case JVMTI_ERROR_INVALID_OBJECT:\n-        return (\"JVMTI_ERROR_INVALID_OBJECT\");\n-    case JVMTI_ERROR_INVALID_CLASS:\n-        return (\"JVMTI_ERROR_INVALID_CLASS\");\n-    case JVMTI_ERROR_CLASS_NOT_PREPARED:\n-        return (\"JVMTI_ERROR_CLASS_NOT_PREPARED\");\n-    case JVMTI_ERROR_INVALID_METHODID:\n-        return (\"JVMTI_ERROR_INVALID_METHODID\");\n-    case JVMTI_ERROR_INVALID_LOCATION:\n-        return (\"JVMTI_ERROR_INVALID_LOCATION\");\n-    case JVMTI_ERROR_INVALID_FIELDID:\n-        return (\"JVMTI_ERROR_INVALID_FIELDID\");\n-    case JVMTI_ERROR_NO_MORE_FRAMES:\n-        return (\"JVMTI_ERROR_NO_MORE_FRAMES\");\n-    case JVMTI_ERROR_OPAQUE_FRAME:\n-        return (\"JVMTI_ERROR_OPAQUE_FRAME\");\n-    case JVMTI_ERROR_TYPE_MISMATCH:\n-        return (\"JVMTI_ERROR_TYPE_MISMATCH\");\n-    case JVMTI_ERROR_INVALID_SLOT:\n-        return (\"JVMTI_ERROR_INVALID_SLOT\");\n-    case JVMTI_ERROR_DUPLICATE:\n-        return (\"JVMTI_ERROR_DUPLICATE\");\n-    case JVMTI_ERROR_NOT_FOUND:\n-        return (\"JVMTI_ERROR_NOT_FOUND\");\n-    case JVMTI_ERROR_INVALID_MONITOR:\n-        return (\"JVMTI_ERROR_INVALID_MONITOR\");\n-    case JVMTI_ERROR_NOT_MONITOR_OWNER:\n-        return (\"JVMTI_ERROR_NOT_MONITOR_OWNER\");\n-    case JVMTI_ERROR_INTERRUPT:\n-        return (\"JVMTI_ERROR_INTERRUPT\");\n-    case JVMTI_ERROR_INVALID_CLASS_FORMAT:\n-        return (\"JVMTI_ERROR_INVALID_CLASS_FORMAT\");\n-    case JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION:\n-        return (\"JVMTI_ERROR_CIRCULAR_CLASS_DEFINITION\");\n-    case JVMTI_ERROR_FAILS_VERIFICATION:\n-        return (\"JVMTI_ERROR_FAILS_VERIFICATION\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_ADDED\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_SCHEMA_CHANGED\");\n-    case JVMTI_ERROR_INVALID_TYPESTATE:\n-        return (\"JVMTI_ERROR_INVALID_TYPESTATE\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_HIERARCHY_CHANGED\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_DELETED\");\n-    case JVMTI_ERROR_UNSUPPORTED_VERSION:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_VERSION\");\n-    case JVMTI_ERROR_NAMES_DONT_MATCH:\n-        return (\"JVMTI_ERROR_NAMES_DONT_MATCH\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_CLASS_MODIFIERS_CHANGED\");\n-    case JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED:\n-        return (\"JVMTI_ERROR_UNSUPPORTED_REDEFINITION_METHOD_MODIFIERS_CHANGED\");\n-    case JVMTI_ERROR_UNMODIFIABLE_CLASS:\n-        return (\"JVMTI_ERROR_UNMODIFIABLE_CLASS\");\n-    case JVMTI_ERROR_NOT_AVAILABLE:\n-        return (\"JVMTI_ERROR_NOT_AVAILABLE\");\n-    case JVMTI_ERROR_MUST_POSSESS_CAPABILITY:\n-        return (\"JVMTI_ERROR_MUST_POSSESS_CAPABILITY\");\n-    case JVMTI_ERROR_NULL_POINTER:\n-        return (\"JVMTI_ERROR_NULL_POINTER\");\n-    case JVMTI_ERROR_ABSENT_INFORMATION:\n-        return (\"JVMTI_ERROR_ABSENT_INFORMATION\");\n-    case JVMTI_ERROR_INVALID_EVENT_TYPE:\n-        return (\"JVMTI_ERROR_INVALID_EVENT_TYPE\");\n-    case JVMTI_ERROR_ILLEGAL_ARGUMENT:\n-        return (\"JVMTI_ERROR_ILLEGAL_ARGUMENT\");\n-    case JVMTI_ERROR_NATIVE_METHOD:\n-        return (\"JVMTI_ERROR_NATIVE_METHOD\");\n-    case JVMTI_ERROR_OUT_OF_MEMORY:\n-        return (\"JVMTI_ERROR_OUT_OF_MEMORY\");\n-    case JVMTI_ERROR_ACCESS_DENIED:\n-        return (\"JVMTI_ERROR_ACCESS_DENIED\");\n-    case JVMTI_ERROR_WRONG_PHASE:\n-        return (\"JVMTI_ERROR_WRONG_PHASE\");\n-    case JVMTI_ERROR_INTERNAL:\n-        return (\"JVMTI_ERROR_INTERNAL\");\n-    case JVMTI_ERROR_UNATTACHED_THREAD:\n-        return (\"JVMTI_ERROR_UNATTACHED_THREAD\");\n-    case JVMTI_ERROR_INVALID_ENVIRONMENT:\n-        return (\"JVMTI_ERROR_INVALID_ENVIRONMENT\");\n-    default:\n-        return (\"<unknown error>\");\n-    }\n-}\n-\n-const char* TranslatePhase(jvmtiPhase phase) {\n-    switch (phase) {\n-    case JVMTI_PHASE_ONLOAD:\n-        return (\"JVMTI_PHASE_ONLOAD\");\n-    case JVMTI_PHASE_PRIMORDIAL:\n-        return (\"JVMTI_PHASE_PRIMORDIAL\");\n-    case JVMTI_PHASE_START:\n-        return (\"JVMTI_PHASE_START\");\n-    case JVMTI_PHASE_LIVE:\n-        return (\"JVMTI_PHASE_LIVE\");\n-    case JVMTI_PHASE_DEAD:\n-        return (\"JVMTI_PHASE_DEAD\");\n-    default:\n-        return (\"<unknown phase>\");\n-    }\n-}\n-\n-const char* TranslateRootKind(jvmtiHeapRootKind root) {\n-    switch (root) {\n-    case JVMTI_HEAP_ROOT_JNI_GLOBAL:\n-        return (\"JVMTI_HEAP_ROOT_JNI_GLOBAL\");\n-    case JVMTI_HEAP_ROOT_JNI_LOCAL:\n-        return (\"JVMTI_HEAP_ROOT_JNI_LOCAL\");\n-    case JVMTI_HEAP_ROOT_SYSTEM_CLASS:\n-        return (\"JVMTI_HEAP_ROOT_SYSTEM_CLASS\");\n-    case JVMTI_HEAP_ROOT_MONITOR:\n-        return (\"JVMTI_HEAP_ROOT_MONITOR\");\n-    case JVMTI_HEAP_ROOT_STACK_LOCAL:\n-        return (\"JVMTI_HEAP_ROOT_STACK_LOCAL\");\n-    case JVMTI_HEAP_ROOT_THREAD:\n-        return (\"JVMTI_HEAP_ROOT_THREAD\");\n-    case JVMTI_HEAP_ROOT_OTHER:\n-        return (\"JVMTI_HEAP_ROOT_OTHER\");\n-    default:\n-        return (\"<unknown root kind>\");\n-    }\n-}\n-\n-const char* TranslateObjectRefKind(jvmtiObjectReferenceKind ref) {\n-    switch (ref) {\n-    case JVMTI_REFERENCE_CLASS:\n-        return (\"JVMTI_REFERENCE_CLASS\");\n-    case JVMTI_REFERENCE_FIELD:\n-        return (\"JVMTI_REFERENCE_FIELD\");\n-    case JVMTI_REFERENCE_ARRAY_ELEMENT:\n-        return (\"JVMTI_REFERENCE_ARRAY_ELEMENT\");\n-    case JVMTI_REFERENCE_CLASS_LOADER:\n-        return (\"JVMTI_REFERENCE_CLASS_LOADER\");\n-    case JVMTI_REFERENCE_SIGNERS:\n-        return (\"JVMTI_REFERENCE_SIGNERS\");\n-    case JVMTI_REFERENCE_PROTECTION_DOMAIN:\n-        return (\"JVMTI_REFERENCE_PROTECTION_DOMAIN\");\n-    case JVMTI_REFERENCE_INTERFACE:\n-        return (\"JVMTI_REFERENCE_INTERFACE\");\n-    case JVMTI_REFERENCE_STATIC_FIELD:\n-        return (\"JVMTI_REFERENCE_STATIC_FIELD\");\n-    case JVMTI_REFERENCE_CONSTANT_POOL:\n-        return (\"JVMTI_REFERENCE_CONSTANT_POOL\");\n-    default:\n-        return (\"<unknown reference kind>\");\n-    }\n-}\n-\n-}\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/JVMTITools.cpp","additions":1,"deletions":301,"binary":false,"changes":302,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2003, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2003, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -29,33 +29,1 @@\n-extern \"C\" {\n-\n-\/**\n- * Return string representation of given JVMTI event constant.\n- *\/\n-const char* TranslateEvent(jvmtiEvent event_type);\n-\n-\/**\n- * Return string representation of given JVMTI thread state constant.\n- *\/\n-const char* TranslateState(jint flags);\n-\n-\/**\n- * Return string representation of given JVMTI error code.\n- *\/\n-const char* TranslateError(jvmtiError err);\n-\n-\/**\n- * Return string representation of given phase of VM execution.\n- *\/\n-const char* TranslatePhase(jvmtiPhase phase);\n-\n-\/**\n- * Return string representation of given heap root kind.\n- *\/\n-const char* TranslateRootKind(jvmtiHeapRootKind root);\n-\n-\/**\n- * Return string representation of given heap root kind.\n- *\/\n-const char* TranslateObjectRefKind(jvmtiObjectReferenceKind ref);\n-\n-}\n+#include \"jvmti_common.h\"\n","filename":"test\/hotspot\/jtreg\/vmTestbase\/nsk\/share\/jvmti\/JVMTITools.h","additions":2,"deletions":34,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -56,1 +56,1 @@\n-            policyManager.addPermission(new SocketPermission(\"openjdk.java.net:80\", \"connect,resolve\"));\n+            policyManager.addPermission(new SocketPermission(\"openjdk.org:80\", \"connect,resolve\"));\n","filename":"test\/jaxp\/javax\/xml\/jaxp\/libs\/jaxp\/library\/JAXPTestPolicy.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,1 +39,1 @@\n-            policyManager.addPermission(new SocketPermission(\"openjdk.java.net:80\", \"connect,resolve\"));\n+            policyManager.addPermission(new SocketPermission(\"openjdk.org:80\", \"connect,resolve\"));\n","filename":"test\/jaxp\/javax\/xml\/jaxp\/libs\/jaxp\/library\/NetAccessPolicy.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -5,1 +5,1 @@\n-    <public publicId=\"-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN\" \n+    <public publicId=\"-\/\/W3C\/\/DTD XHTML 1.0 Strict\/\/EN\"\n@@ -12,4 +12,4 @@\n-    \n-    <system systemId=\"http:\/\/openjdk.java.net\/xml\/catalog\/dtd\/system.dtd\" uri=\"system.dtd\"\/>\n-    \n-    <rewriteSystem systemIdStartString=\"http:\/\/openjdk.java.net\/\" \n+\n+    <system systemId=\"https:\/\/openjdk.org\/xml\/catalog\/dtd\/system.dtd\" uri=\"system.dtd\"\/>\n+\n+    <rewriteSystem systemIdStartString=\"https:\/\/openjdk.org\/\"\n@@ -17,2 +17,2 @@\n-    \n-    <rewriteSystem systemIdStartString=\"http:\/\/openjdk.java.net\/xml\/catalog\/dtd\/\" \n+\n+    <rewriteSystem systemIdStartString=\"https:\/\/openjdk.org\/xml\/catalog\/dtd\/\"\n@@ -20,1 +20,1 @@\n-    \n+\n@@ -22,1 +22,1 @@\n-    \n+\n@@ -24,1 +24,1 @@\n-    \n+\n","filename":"test\/jaxp\/javax\/xml\/jaxp\/unittest\/catalog\/files\/delegatecatalog.xml","additions":10,"deletions":10,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -35,0 +35,1 @@\n+java\/lang\/Float\/Binary16Conversion.java 8295351 generic-x64\n","filename":"test\/jdk\/ProblemList-Xcomp.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -665,1 +665,0 @@\n-javax\/swing\/plaf\/aqua\/CustomComboBoxFocusTest.java 8294254 macosx-all\n","filename":"test\/jdk\/ProblemList.txt","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -120,7 +120,2 @@\n-        \/\/ Do a short delay to make sure all ClassUnloadEvents have been sent\n-        \/\/ before VMDeathEvent is generated.\n-        try {\n-            Thread.sleep(5000);\n-        } catch (InterruptedException e) {\n-        }\n-\n+        \/\/ We rely on JVMTI to post all pending ObjectFree events at VM shutdown.\n+        \/\/ It will trigger the JDWP agent to synthesize expected ClassUnloadEvents events.\n","filename":"test\/jdk\/com\/sun\/jdi\/ClassUnloadEventTest.java","additions":2,"deletions":7,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -0,0 +1,207 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import jdk.test.lib.net.URIBuilder;\n+\n+import javax.naming.NamingException;\n+import javax.naming.Reference;\n+import javax.naming.directory.DirContext;\n+import javax.naming.directory.InitialDirContext;\n+import java.net.InetAddress;\n+import java.net.InetSocketAddress;\n+import java.net.ServerSocket;\n+import java.net.SocketAddress;\n+import java.util.Hashtable;\n+\n+\/*\n+ * @test\n+ * @bug 8290368\n+ * @summary Checks if LDAP specific objects factory filter system and security\n+ *  properties can be used to restrict usage of object factories during\n+ *  LDAP lookup operations.\n+ * @modules java.naming\/com.sun.jndi.ldap\n+ * @library \/test\/lib ..\/..\/lib \/javax\/naming\/module\/src\/test\/test\/\n+ * @build LDAPServer LDAPTestUtils TestFactory\n+ *\n+ * @run main\/othervm LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=*\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.**;!*\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.test.**;!*\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.test.*;!*\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.test.Test*;!*\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=!com.test.**\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=!com.test.TestFactory;com.**\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=!com.test.TestFactory;com.test.*\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=!com.test.Test*\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.*;!*\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.test.TestFactor;!*\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=com.test.TestFactoryy;!*\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/disallowLdapFilter.props\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/disallowLdapFilter.props\n+ *                   -Djdk.jndi.ldap.object.factoriesFilter=com.test.TestFactory\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowLdapFilter.props\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowLdapFilter.props\n+ *                   -Djdk.jndi.rmi.object.factoriesFilter=!com.test.TestFactory\n+ *                   LdapFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowLdapFilter.props\n+ *                   -Djdk.jndi.ldap.object.factoriesFilter=!com.test.TestFactory\n+ *                   LdapFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=.*\n+ *                   LdapFactoriesFilterTest false false\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=*\n+ *                   -Djdk.jndi.object.factoriesFilter=.*\n+ *                   LdapFactoriesFilterTest false false\n+ *\n+ * @run main\/othervm -Djdk.jndi.ldap.object.factoriesFilter=*\n+ *                   -Djdk.jndi.object.factoriesFilter=*\n+ *                   -Djdk.jndi.rmi.object.factoriesFilter=.*\n+ *                   LdapFactoriesFilterTest true true\n+ *\/\n+\n+public class LdapFactoriesFilterTest {\n+    public static void main(String[] args) throws Exception {\n+\n+        boolean testFactoryAllowed = Boolean.parseBoolean(args[0]);\n+        boolean ldapAndGlobalFiltersValid =\n+                Boolean.parseBoolean(args[1]);\n+\n+        \/\/ Create unbound server socket\n+        ServerSocket serverSocket = new ServerSocket();\n+        try (serverSocket) {\n+            \/\/ Bind it to the loopback address\n+            SocketAddress sockAddr = new InetSocketAddress(\n+                    InetAddress.getLoopbackAddress(), 0);\n+            serverSocket.bind(sockAddr);\n+\n+            \/\/ Construct the provider URL for LDAPTestUtils\n+            String providerURL = URIBuilder.newBuilder()\n+                    .scheme(\"ldap\")\n+                    .loopback()\n+                    .port(serverSocket.getLocalPort())\n+                    .buildUnchecked().toString();\n+\n+            \/\/ Create and initialize test environment variables\n+            Hashtable<Object, Object> env;\n+            env = LDAPTestUtils.initEnv(serverSocket, providerURL,\n+                    LdapFactoriesFilterTest.class.getName(), args, false);\n+            DirContext ctx = new InitialDirContext(env);\n+            Exception observedException = null;\n+            Object lookupRes = null;\n+\n+            \/\/ Lookup bound reference\n+            try {\n+                lookupRes = ctx.lookup(\"Example\");\n+                System.err.println(\"Lookup results: \" + lookupRes.getClass().getCanonicalName());\n+            } catch (Exception ex) {\n+                observedException = ex;\n+            }\n+\n+            \/\/ Check lookup operation results\n+            if (testFactoryAllowed) {\n+                \/\/ NamingException with RuntimeException cause is expected here\n+                if (observedException instanceof NamingException namingException) {\n+                    System.err.println(\"Observed NamingException: \" + observedException);\n+                    Throwable cause = namingException.getCause();\n+                    System.err.println(\"NamingException cause: \" + cause);\n+                    \/\/ We expect RuntimeException from factory for cases when LDAP factory\n+                    \/\/ filter allows the test factory\n+                    if (cause instanceof RuntimeException rte) {\n+                        String rteMessage = rte.getMessage();\n+                        System.err.println(\"RuntimeException message: \" + rteMessage);\n+                        if (!com.test.TestFactory.RUNTIME_EXCEPTION_MESSAGE.equals(rteMessage)) {\n+                            throw new AssertionError(\n+                                    \"Unexpected RuntimeException message observed\");\n+                        }\n+                    } else {\n+                        throw new AssertionError(\n+                                \"RuntimeException is expected to be thrown\" +\n+                                            \" by the test object factory\");\n+                    }\n+                } else {\n+                    throw new AssertionError(\n+                            \"NamingException was not thrown as expected\");\n+                }\n+            } else if (!ldapAndGlobalFiltersValid) {\n+                \/\/ If LDAP or GLOBAL factories filter are not properly formatted we're expecting to\n+                \/\/ get NamingException with IllegalArgumentException set as a cause that contains\n+                \/\/ formatting error message.\n+                \/\/ If RMI filter is not properly formatted we're not expecting IAE here since\n+                \/\/ this test only performing LDAP lookups\n+                if (observedException instanceof NamingException ne) {\n+                    if (ne.getCause() instanceof IllegalArgumentException iae) {\n+                        \/\/ All tests with malformed filters contain wildcards with\n+                        \/\/ package name missing, therefore the message is expected\n+                        \/\/ to start with \"package missing in:\"\n+                        System.err.println(\"Found expected exception: \" + iae);\n+                    } else {\n+                        throw new AssertionError(\"IllegalArgumentException\" +\n+                                \" is expected for malformed filter values\");\n+                    }\n+                }\n+            } else {\n+                \/\/ Object factory is not allowed by the factories filter\n+                \/\/ we expect reference here\n+                if (lookupRes instanceof Reference ref) {\n+                    System.err.println(\"Lookup result is a reference: \" +\n+                            ref.getFactoryClassLocation() + \" \" + ref.getFactoryClassName());\n+                } else {\n+                    new AssertionError(\"Reference was not returned as a lookup result\");\n+                }\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/objects\/factory\/LdapFactoriesFilterTest.java","additions":207,"deletions":0,"binary":false,"changes":207,"status":"added"},{"patch":"@@ -0,0 +1,58 @@\n+#\n+# Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+#\n+# This code is free software; you can redistribute it and\/or modify it\n+# under the terms of the GNU General Public License version 2 only, as\n+# published by the Free Software Foundation.\n+#\n+# This code is distributed in the hope that it will be useful, but WITHOUT\n+# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# version 2 for more details (a copy is included in the LICENSE file that\n+# accompanied this code).\n+#\n+# You should have received a copy of the GNU General Public License version\n+# 2 along with this work; if not, write to the Free Software Foundation,\n+# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+#\n+# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+# or visit www.oracle.com if you need additional information or have any\n+# questions.\n+#\n+\n+################################################################################\n+# Capture file for LdapFactoriesFilterTest.java\n+#\n+# NOTE: This hexadecimal dump of LDAP protocol messages was generated by\n+#       running the LdapFactoriesFilterTest application program against a real\n+#       LDAP server and setting the JNDI\/LDAP environment property:\n+#       com.sun.jndi.ldap.trace.ber to activate LDAP message tracing.\n+#\n+################################################################################\n+\n+# LDAP BindRequest\n+0000: 30 0C 02 01 01 60 07 02   01 03 04 00 80 00        0....`........\n+\n+# LDAP BindResponse\n+0000: 30 0C 02 01 01 61 07 0A   01 00 04 00 04 00        0....a........\n+\n+# LDAP SearchRequest\n+0000: 30 49 02 01 02 63 27 04   07 45 78 61 6D 70 6C 65  0I...c'..Example\n+0010: 0A 01 00 0A 01 03 02 01   00 02 01 00 01 01 00 87  ................\n+0020: 0B 6F 62 6A 65 63 74 43   6C 61 73 73 30 00 A0 1B  .objectClass0...\n+0030: 30 19 04 17 32 2E 31 36   2E 38 34 30 2E 31 2E 31  0...2.16.840.1.1\n+0040: 31 33 37 33 30 2E 33 2E   34 2E 32                 13730.3.4.2\n+\n+# LDAP SearchResultEntry\n+0000: 30 75 02 01 02 64 70 04   07 45 78 61 6D 70 6C 65  0u...dp..Example\n+0010: 30 65 30 16 04 0D 6A 61   76 61 43 6C 61 73 73 4E  0e0...javaClassN\n+0020: 61 6D 65 31 05 04 03 66   6F 6F 30 24 04 0B 6F 62  ame1...foo0$..ob\n+0030: 6A 65 63 74 43 6C 61 73   73 31 15 04 13 6A 61 76  jectClass1...jav\n+0040: 61 4E 61 6D 69 6E 67 52   65 66 65 72 65 6E 63 65  aNamingReference\n+0050: 30 25 04 0B 6A 61 76 61   46 61 63 74 6F 72 79 31  0%..javaFactory1\n+0060: 16 04 14 63 6F 6D 2E 74   65 73 74 2E 54 65 73 74  ...com.test.Test\n+0070: 46 61 63 74 6F 72 79                               Factory\n+\n+# LDAP SearchResultDone\n+0000: 30 0C 02 01 02 65 07 0A   01 00 04 00 04 00        0....e........\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/objects\/factory\/LdapFactoriesFilterTest.ldap","additions":58,"deletions":0,"binary":false,"changes":58,"status":"added"},{"patch":"@@ -0,0 +1,40 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package com.test;\n+\n+import javax.naming.Context;\n+import javax.naming.Name;\n+import javax.naming.spi.ObjectFactory;\n+import java.util.Hashtable;\n+\n+public class TestFactory implements ObjectFactory {\n+    public static final String RUNTIME_EXCEPTION_MESSAGE =\n+            \"Test object factory is called to instantiate factory\";\n+\n+    @Override\n+    public Object getObjectInstance(Object obj, Name name, Context nameCtx, Hashtable<?, ?> environment) throws Exception {\n+        System.err.println(\"obj:\" + obj);\n+        throw new RuntimeException(RUNTIME_EXCEPTION_MESSAGE);\n+    }\n+}\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/objects\/factory\/TestFactory.java","additions":40,"deletions":0,"binary":false,"changes":40,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+jdk.jndi.ldap.object.factoriesFilter=com.test.TestFactory;!*\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/objects\/factory\/allowLdapFilter.props","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+jdk.jndi.ldap.object.factoriesFilter=!com.test.TestFactory\n","filename":"test\/jdk\/com\/sun\/jndi\/ldap\/objects\/factory\/disallowLdapFilter.props","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,189 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import javax.naming.Context;\n+import javax.naming.InitialContext;\n+import javax.naming.NamingException;\n+import javax.naming.Reference;\n+import java.rmi.RemoteException;\n+import java.rmi.registry.Registry;\n+import java.util.Hashtable;\n+\n+\/*\n+ * @test\n+ * @bug 8290368\n+ * @summary Checks if RMI specific objects factory filter system and security\n+ *  properties can be used to restrict usage of object factories during\n+ *  RMI lookup operations.\n+ * @modules java.rmi\/sun.rmi.registry\n+ *          java.rmi\/sun.rmi.server\n+ *          java.rmi\/sun.rmi.transport\n+ *          java.rmi\/sun.rmi.transport.tcp\n+ * @library ..\/..\/..\/..\/..\/..\/java\/rmi\/testlibrary\n+ * @build TestLibrary\n+ * @compile TestFactory.java\n+ *\n+ * @run main\/othervm RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=*\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.**;!*\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.test.**;!*\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.test.*;!*\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.test.Test*;!*\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=!com.test.**\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=!com.test.TestFactory;com.**\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=!com.test.TestFactory;com.test.*\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=!com.test.Test*\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.*;!*\n+ *                    RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.test.TestFactor;!*\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=com.test.TestFactoryy;!*\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/disallowRmiFilter.props\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/disallowRmiFilter.props\n+ *                   -Djdk.jndi.rmi.object.factoriesFilter=com.test.TestFactory\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowRmiFilter.props\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowRmiFilter.props\n+ *                   -Djdk.jndi.ldap.object.factoriesFilter=!com.test.TestFactory\n+ *                   RmiFactoriesFilterTest true true\n+ *\n+ * @run main\/othervm -Djava.security.properties=${test.src}\/allowRmiFilter.props\n+ *                   -Djdk.jndi.rmi.object.factoriesFilter=!com.test.TestFactory\n+ *                   RmiFactoriesFilterTest false true\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=.*\n+ *                   RmiFactoriesFilterTest false false\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=*\n+ *                   -Djdk.jndi.object.factoriesFilter=.*\n+ *                   RmiFactoriesFilterTest false false\n+ *\n+ * @run main\/othervm -Djdk.jndi.rmi.object.factoriesFilter=*\n+ *                   -Djdk.jndi.object.factoriesFilter=*\n+ *                   -Djdk.jndi.ldap.object.factoriesFilter=.*\n+ *                   RmiFactoriesFilterTest true true\n+ *\/\n+\n+public class RmiFactoriesFilterTest {\n+\n+    public static void main(String[] args) throws Exception {\n+        boolean classExpectedToLoad = Boolean.parseBoolean(args[0]);\n+        boolean rmiAndGlobalFiltersValid =\n+                Boolean.parseBoolean(args[1]);\n+        int registryPort;\n+        try {\n+            Registry registry = TestLibrary.createRegistryOnEphemeralPort();\n+            registryPort = TestLibrary.getRegistryPort(registry);\n+            System.out.println(\"Registry port: \" + registryPort);\n+        } catch (RemoteException re) {\n+            throw new RuntimeException(\"Failed to create registry\", re);\n+        }\n+\n+        Context context = getInitialContext(registryPort);\n+        \/\/ Bind the Reference object\n+        Reference ref = new Reference(\"TestObject\", \"com.test.TestFactory\",\n+                null);\n+        context.bind(\"objectTest\", ref);\n+\n+        loadUsingFactoryFromTCCL(registryPort, classExpectedToLoad, rmiAndGlobalFiltersValid);\n+        if (!rmiAndGlobalFiltersValid) {\n+            \/\/ Check that IAE is set as NamingException cause for malformed RMI or GLOBAL\n+            \/\/ filter values when lookup is called for the second time\n+            loadUsingFactoryFromTCCL(registryPort, classExpectedToLoad, false);\n+        }\n+    }\n+\n+    private static Context getInitialContext(int port) throws NamingException {\n+        Hashtable<String, String> env = new Hashtable<>();\n+        env.put(Context.INITIAL_CONTEXT_FACTORY,\n+                \"com.sun.jndi.rmi.registry.RegistryContextFactory\");\n+        env.put(Context.PROVIDER_URL, \"rmi:\/\/127.0.0.1:\" + port);\n+        return new InitialContext(env);\n+    }\n+\n+    private static void loadUsingFactoryFromTCCL(int registryPort,\n+                                                 boolean classExpectedToLoad,\n+                                                 boolean rmiAndGlobalFiltersValid) {\n+\n+\n+        try {\n+            Context context = getInitialContext(registryPort);\n+            Object object = context.lookup(\"objectTest\");\n+            System.out.println(\"Number of getObjectInstance calls:\" +\n+                    com.test.TestFactory.getNumberOfGetInstanceCalls());\n+            System.out.println(\"Loaded class type:\" + object.getClass().getCanonicalName());\n+            System.out.println(\"Loaded class: \" + object);\n+            if (classExpectedToLoad) {\n+                if (!\"TestObject\".equals(object)) {\n+                    throw new AssertionError(\"Class was expected to get loaded by the factory\");\n+                }\n+            } else {\n+                if (\"TestObject\".equals(object)) {\n+                    throw new AssertionError(\"Class was unexpectedly loaded by the factory\");\n+                }\n+            }\n+        } catch (NamingException ne) {\n+            \/\/ Only expecting NamingException for cases when RMI or GLOBAL filters are malformed\n+            if (rmiAndGlobalFiltersValid) {\n+                throw new AssertionError(\"Unexpected NamingException observed\", ne);\n+            }\n+            if (ne.getCause() instanceof IllegalArgumentException iae) {\n+                \/\/ All tests with malformed filters contain wildcards with\n+                \/\/ package name missing, therefore the message is expected\n+                \/\/ to start with \"package missing in:\"\n+                System.err.println(\"Found expected exception: \" + iae);\n+            } else {\n+                throw new AssertionError(\"IllegalArgument exception\" +\n+                        \" is expected for malformed filter values\");\n+            }\n+        }\n+    }\n+}\n","filename":"test\/jdk\/com\/sun\/jndi\/rmi\/registry\/objects\/RmiFactoriesFilterTest.java","additions":189,"deletions":0,"binary":false,"changes":189,"status":"added"},{"patch":"@@ -0,0 +1,77 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package com.test;\n+\n+import javax.naming.Context;\n+import javax.naming.Name;\n+import javax.naming.Reference;\n+import javax.naming.spi.ObjectFactory;\n+import java.util.Hashtable;\n+\n+public class TestFactory implements ObjectFactory {\n+\n+    \/**\n+     * Get the number of {@code TestFactory.getObjectInstance} calls\n+     *\n+     * @return the number of calls\n+     *\/\n+    public static int getNumberOfGetInstanceCalls() {\n+        return timesGetInstanceCalled;\n+    }\n+\n+    \/**\n+     * @param obj         The possibly null object containing location or reference\n+     *                    information that can be used in creating an object.\n+     * @param name        The name of this object relative to {@code nameCtx},\n+     *                    or null if no name is specified.\n+     * @param nameCtx     The context relative to which the {@code name}\n+     *                    parameter is specified, or null if {@code name} is\n+     *                    relative to the default initial context.\n+     * @param environment The possibly null environment that is used in\n+     *                    creating the object.\n+     * @return If specified object is a {@code Reference} returns a {@code String} with a class\n+     * name specified in the reference, otherwise returns {@code \"TestObj\"}\n+     * @throws Exception\n+     *\/\n+    @Override\n+    public Object getObjectInstance(Object obj, Name name, Context nameCtx, Hashtable<?, ?> environment) throws Exception {\n+        timesGetInstanceCalled++;\n+        String loadedObject;\n+        if (obj instanceof Reference) {\n+            Reference r = (Reference) obj;\n+            System.err.println(\"TestFactory: loading javax.naming.Reference:\");\n+            System.err.println(\"\\tFactory location=\" + r.getFactoryClassLocation());\n+            System.err.println(\"\\tFactory class name=\" + r.getFactoryClassName());\n+            System.err.println(\"\\tClass name=\" + r.getClassName());\n+            loadedObject = r.getClassName();\n+        } else {\n+            System.err.println(\"TestFactory: loading \" + obj.getClass().getName());\n+            loadedObject = \"TestObj\";\n+        }\n+        return loadedObject;\n+    }\n+\n+    private static volatile int timesGetInstanceCalled;\n+}\n+\n","filename":"test\/jdk\/com\/sun\/jndi\/rmi\/registry\/objects\/TestFactory.java","additions":77,"deletions":0,"binary":false,"changes":77,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+jdk.jndi.rmi.object.factoriesFilter=com.test.TestFactory;!*\n","filename":"test\/jdk\/com\/sun\/jndi\/rmi\/registry\/objects\/allowRmiFilter.props","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -0,0 +1,1 @@\n+jdk.jndi.rmi.object.factoriesFilter=!com.test.TestFactory;*\n","filename":"test\/jdk\/com\/sun\/jndi\/rmi\/registry\/objects\/disallowRmiFilter.props","additions":1,"deletions":0,"binary":false,"changes":1,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,2 +28,2 @@\n- * @run main\/othervm -Dsun.net.httpserver.maxReqTime=2 Test\n- * @run main\/othervm -Djava.net.preferIPv6Addresses=true -Dsun.net.httpserver.maxReqTime=2 Test\n+ * @run main\/othervm -Dsun.net.httpserver.maxReqTime=2 -Dsun.net.httpserver.clockTick=2000 Test\n+ * @run main\/othervm -Djava.net.preferIPv6Addresses=true -Dsun.net.httpserver.maxReqTime=2 -Dsun.net.httpserver.clockTick=2000 Test\n","filename":"test\/jdk\/com\/sun\/net\/httpserver\/bugs\/6725892\/Test.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n- * <p>See <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6768230\">CR6768230<\/a> for details.\n+ * <p>See <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6768230\">CR6768230<\/a> for details.\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/HierarchyBoundsListenerMixingTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -38,2 +38,2 @@\n- * See <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6637655\">JDK-6637655<\/a> and\n- * <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6985776\">JDK-6985776<\/a>.\n+ * See <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6637655\">JDK-6637655<\/a> and\n+ * <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6985776\">JDK-6985776<\/a>.\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/JGlassPaneInternalFrameOverlapping.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -39,2 +39,2 @@\n- * See <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6637655\">JDK-6637655<\/a> and\n- * <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6981919\">JDK-6981919<\/a>.\n+ * See <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6637655\">JDK-6637655<\/a> and\n+ * <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6981919\">JDK-6981919<\/a>.\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/JGlassPaneMoveOverlapping.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n- * <p>See <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6786219\">JDK-6786219<\/a> for details\n+ * <p>See <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6786219\">JDK-6786219<\/a> for details\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/MixingPanelsResizing.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -40,1 +40,1 @@\n- * <p>See <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-6776743\">JDK-6776743<\/a> for details\n+ * <p>See <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-6776743\">JDK-6776743<\/a> for details\n","filename":"test\/jdk\/java\/awt\/Mixing\/AWT_Mixing\/OpaqueOverlapping.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,357 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, JetBrains s.r.o.. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/**\n+ * @test\n+ * @bug 8294426\n+ * @summary The test verifies that a press {@link java.awt.event.MouseEvent} contains correct modifiers although the according native mouse event is accompanied by no mouse modifiers.\n+ * @author Nikita.Provotorov@jetbrains.com\n+ *\n+ * @key headful\n+ * @requires (os.family == \"mac\")\n+ *\n+ * @modules java.desktop\/java.awt:open java.desktop\/sun.lwawt:open java.desktop\/sun.lwawt.macosx:+open\n+ * @run main\/othervm MouseMacTouchPressEventModifiers\n+ *\/\n+\n+import sun.lwawt.macosx.CocoaConstants;\n+import sun.lwawt.macosx.LWCToolkit;\n+\n+import javax.swing.*;\n+import java.awt.*;\n+import java.awt.event.MouseAdapter;\n+import java.awt.event.MouseEvent;\n+import java.lang.reflect.Method;\n+import java.util.Map;\n+import java.util.TreeMap;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicReference;\n+\n+\n+\/**\n+ * Sometimes native mouse events aren't accompanied by the correct mouse modifiers, i.e.\n+ *  {@link sun.lwawt.macosx.NSEvent#nsToJavaModifiers} returns 0 inside\n+ *  {@link sun.lwawt.macosx.CPlatformResponder#handleMouseEvent(int, int, int, int, int, int, int, int)}.\n+ * E.g. the situation above happens when a user taps (NOT clicks) on a trackpad on a M2 MacBooks while\n+ *  System Preferences -> Trackpad -> Tap to click is turned on.\n+ * The test emulates the situation via a direct invocation of\n+ *  {@link sun.lwawt.macosx.CPlatformResponder#handleMouseEvent(int, int, int, int, int, int, int, int)};\n+ *  unfortunately it's impossible to use {@link java.awt.Robot} because its mouse press events ARE accompanied\n+ *  by the correct modifiers ({@link sun.lwawt.macosx.NSEvent#nsToJavaModifiers} returns correct values).\n+ *\/\n+public class MouseMacTouchPressEventModifiers\n+{\n+    \/**\n+     * How it works:\n+     * 1. Send a native mouse press to {@code frame} via\n+     *    {@link sun.lwawt.macosx.CPlatformResponder#handleMouseEvent(int, int, int, int, int, int, int, int)}\n+     *    (using reflection).\n+     * 2. Wait (via {@link Future#get()}) until it generates a usual java MouseEvent\n+     *    and dispatches it to the MouseListener of the {@code frame}.\n+     * 3. Verify the dispatched MouseEvent contains correct modifiers, modifiersEx and button number.\n+     * 4. Do all the steps above but for a corresponding mouse release.\n+     *\/\n+    public static void main(String[] args) throws Throwable {\n+        \/\/ TreeMap to preserve the testing order\n+        final var testCases = new TreeMap<>(Map.of(\n+            CocoaConstants.kCGMouseButtonLeft, new MouseEventFieldsToTest(MouseEvent.BUTTON1_MASK, MouseEvent.BUTTON1_DOWN_MASK, MouseEvent.BUTTON1),\n+            CocoaConstants.kCGMouseButtonRight, new MouseEventFieldsToTest(MouseEvent.BUTTON3_MASK, MouseEvent.BUTTON3_DOWN_MASK, MouseEvent.BUTTON3),\n+            CocoaConstants.kCGMouseButtonCenter, new MouseEventFieldsToTest(MouseEvent.BUTTON2_MASK, MouseEvent.BUTTON2_DOWN_MASK, MouseEvent.BUTTON2)\n+        ));\n+\n+        SwingUtilities.invokeAndWait(MouseMacTouchPressEventModifiers::createAndShowGUI);\n+\n+        try {\n+            for (var testCase : testCases.entrySet()) {\n+                final var fieldsToTest = testCase.getValue();\n+\n+                final int mouseX = (frame.getWidth() - 1) \/ 2;\n+                final int mouseY = (frame.getHeight() - 1) \/ 2;\n+\n+                \/\/ press\n+\n+                MouseEvent event = frame.sendNativeMousePress(\n+                    0,\n+                    testCase.getKey(),\n+                    1,\n+                    mouseX,\n+                    mouseY\n+                ).get(500, TimeUnit.MILLISECONDS);\n+                System.out.println(\"A mouse press turned into: \" + event);\n+\n+                frame.checkInternalErrors();\n+\n+                checkMouseEvent(event,\n+                    MouseEvent.MOUSE_PRESSED, fieldsToTest.modifiers, fieldsToTest.pressModifiersEx, fieldsToTest.button);\n+\n+                \/\/ release\n+\n+                event = frame.sendNativeMouseRelease(\n+                    0,\n+                    testCase.getKey(),\n+                    1,\n+                    mouseX,\n+                    mouseY\n+                ).get(500, TimeUnit.MILLISECONDS);\n+                System.out.println(\"A mouse release turned into: \" + event);\n+\n+                frame.checkInternalErrors();\n+\n+                checkMouseEvent(event,\n+                    MouseEvent.MOUSE_RELEASED, fieldsToTest.modifiers, 0, fieldsToTest.button);\n+\n+                System.out.println();\n+            }\n+        } finally {\n+            SwingUtilities.invokeAndWait(MouseMacTouchPressEventModifiers::disposeGUI);\n+            System.out.flush();\n+        }\n+    }\n+\n+\n+    private record MouseEventFieldsToTest(int modifiers, int pressModifiersEx, int button) {}\n+\n+    private static MyFrame frame;\n+\n+    private static void createAndShowGUI() {\n+        frame = new MyFrame();\n+        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n+\n+        frame.pack();\n+        frame.setSize(800, 500);\n+\n+        frame.setLocationRelativeTo(null);\n+        frame.setAlwaysOnTop(true);\n+\n+        frame.setVisible(true);\n+    }\n+\n+    private static void disposeGUI() {\n+        if (frame != null) {\n+            frame.dispose();\n+        }\n+    }\n+\n+    private static void checkMouseEvent(MouseEvent me,\n+        int expectedId, int expectedModifiers, int expectedModifiersEx, int expectedButton\n+    ) {\n+        boolean wrong = false;\n+\n+        final var errMsg = new StringBuilder(1024);\n+        errMsg.append(\"Wrong MouseEvent \").append(me).append(':');\n+\n+        if (me.getID() != expectedId) {\n+            errMsg.append(\"\\n  eventId: expected <\").append(expectedId).append(\">, actual <\").append(me.getID()).append('>');\n+            wrong = true;\n+        }\n+        if (me.getModifiers() != expectedModifiers) {\n+            errMsg.append(\"\\n  modifiers: expected <\").append(expectedModifiers).append(\">, actual <\").append(me.getModifiers()).append('>');\n+            wrong = true;\n+        }\n+        if (me.getModifiersEx() != expectedModifiersEx) {\n+            errMsg.append(\"\\n  modifiersEx: expected <\").append(expectedModifiersEx).append(\">, actual <\").append(me.getModifiersEx()).append('>');\n+            wrong = true;\n+        }\n+        if (me.getButton() != expectedButton) {\n+            errMsg.append(\"\\n  button: expected <\").append(expectedButton).append(\">, actual <\").append(me.getButton()).append('>');\n+            wrong = true;\n+        }\n+\n+        if (wrong) {\n+            throw new IllegalArgumentException(errMsg.append('\\n').toString());\n+        }\n+    }\n+}\n+\n+\n+class MyFrame extends JFrame {\n+    public MyFrame() {\n+        addMouseListener(new MouseAdapter() {\n+            @Override\n+            public void mousePressed(MouseEvent e) {\n+                System.out.println(\"MyFrame::mousePressed: \" + e);\n+                keepPromiseVia(e);\n+            }\n+\n+            @Override\n+            public void mouseReleased(MouseEvent e) {\n+                System.out.println(\"MyFrame::mouseReleased: \" + e);\n+                keepPromiseVia(e);\n+            }\n+        });\n+    }\n+\n+    public Future<MouseEvent> sendNativeMousePress(int modifierFlags, int buttonNumber, int clickCount, int x, int y) {\n+        final int eventType = (buttonNumber == CocoaConstants.kCGMouseButtonLeft) ? CocoaConstants.NSLeftMouseDown\n+                              : (buttonNumber == CocoaConstants.kCGMouseButtonRight) ? CocoaConstants.NSRightMouseDown\n+                              : CocoaConstants.NSOtherMouseDown;\n+\n+        return sendNativeMouseEvent(eventType, modifierFlags, buttonNumber, clickCount, x, y, getX() + x, getY() + y);\n+    }\n+\n+    public Future<MouseEvent> sendNativeMouseRelease(int modifierFlags, int buttonNumber, int clickCount, int x, int y) {\n+        final int eventType = (buttonNumber == CocoaConstants.kCGMouseButtonLeft) ? CocoaConstants.NSLeftMouseUp\n+                              : (buttonNumber == CocoaConstants.kCGMouseButtonRight) ? CocoaConstants.NSRightMouseUp\n+                              : CocoaConstants.NSOtherMouseUp;\n+\n+        return sendNativeMouseEvent(eventType, modifierFlags, buttonNumber, clickCount, x, y, getX() + x, getY() + y);\n+    }\n+\n+    public void checkInternalErrors() throws Throwable {\n+        final Throwable result = internalError.getAndSet(null);\n+        if (result != null) {\n+            throw result;\n+        }\n+    }\n+\n+\n+    private final AtomicReference<CompletableFuture<MouseEvent>> mouseEventPromise = new AtomicReference<>(null);\n+\n+    private final AtomicReference<Throwable> internalError = new AtomicReference<>(null);\n+\n+    private Future<MouseEvent> sendNativeMouseEvent(\n+        final int eventType,\n+        final int modifierFlags,\n+        final int buttonNumber,\n+        final int clickCount,\n+        final int x,\n+        final int y,\n+        final int absX,\n+        final int absY\n+    ) {\n+        assert !SwingUtilities.isEventDispatchThread();\n+        assert mouseEventPromise.get() == null : \"Trying to send a mouse event while there is already a processing one\";\n+\n+        final CompletableFuture<MouseEvent> result = new CompletableFuture<>();\n+\n+        SwingUtilities.invokeLater(() -> {\n+            try {\n+                LWCToolkit.invokeLater(() -> {\n+                    try {\n+                        final Object thisPlatformResponder = obtainFramePlatformResponder(this);\n+                        final Method thisPlatformResponderHandleMouseEventMethod = obtainHandleMouseEventMethod(thisPlatformResponder);\n+\n+                        if (mouseEventPromise.compareAndExchange(null, result) != null) {\n+                            throw new IllegalStateException(\"Trying to send a mouse event while there is already a processing one\");\n+                        }\n+\n+                        thisPlatformResponderHandleMouseEventMethod.invoke(thisPlatformResponder,\n+                            eventType, modifierFlags, buttonNumber, clickCount, x, y, absX, absY);\n+                    } catch (Throwable err) {\n+                        \/\/ Remove the promise if thisPlatformResponderHandleMouseEventMethod.invoke(...) failed\n+                        mouseEventPromise.compareAndExchange(result, null);\n+                        failPromiseDueTo(result, err);\n+                    }\n+                }, this);\n+            } catch (Throwable err) {\n+                failPromiseDueTo(result, err);\n+            }\n+        });\n+\n+        return result;\n+    }\n+\n+    \/** Wraps {@link CompletableFuture#complete(Object)} *\/\n+    private void keepPromiseVia(MouseEvent mouseEvent) {\n+        try {\n+            final CompletableFuture<MouseEvent> promise = mouseEventPromise.getAndSet(null);\n+            if (promise == null) {\n+                throw new IllegalStateException(\"The following unexpected MouseEvent has arrived: \" + mouseEvent);\n+            }\n+\n+            if (!promise.complete(mouseEvent)) {\n+                throw new IllegalStateException(\"The promise had already been completed when the following MouseEvent arrived: \" + mouseEvent);\n+            }\n+        } catch (Throwable err) {\n+            setInternalError(err);\n+        }\n+    }\n+\n+    \/** Wraps {@link CompletableFuture#completeExceptionally(Throwable)} *\/\n+    private void failPromiseDueTo(CompletableFuture<MouseEvent> promise, Throwable cause) {\n+        try {\n+            if (!promise.completeExceptionally(cause)) {\n+                throw new IllegalStateException(\"The promise had already been completed when the following error arrived: \" + cause);\n+            }\n+        } catch (Throwable err) {\n+            setInternalError(err);\n+        }\n+    }\n+\n+    private void setInternalError(Throwable err) {\n+        if (internalError.compareAndExchange(null, err) != null) {\n+            System.err.println(\"Failed to set the following internal error because there is another one: \" + err);\n+        }\n+    }\n+\n+    \/** Obtains {@code component.peer.platformWindow.responder} *\/\n+    private static Object obtainFramePlatformResponder(Component component) throws NoSuchFieldException, IllegalAccessException {\n+        final Object framePeer;\n+        {\n+            final var frameClass = Component.class;\n+            final var peerField = frameClass.getDeclaredField(\"peer\");\n+\n+            peerField.setAccessible(true);\n+\n+            framePeer = peerField.get(component);\n+        }\n+\n+        final Object peerPlatformWindow;\n+        {\n+            final var peerClass = framePeer.getClass();\n+            final var platformWindowField = peerClass.getDeclaredField(\"platformWindow\");\n+\n+            platformWindowField.setAccessible(true);\n+\n+            peerPlatformWindow = platformWindowField.get(framePeer);\n+        }\n+\n+        final Object platformWindowResponder;\n+        {\n+            final var peerPlatformWindowClass = peerPlatformWindow.getClass();\n+            final var platformWindowResponderField = peerPlatformWindowClass.getDeclaredField(\"responder\");\n+\n+            platformWindowResponderField.setAccessible(true);\n+\n+            platformWindowResponder = platformWindowResponderField.get(peerPlatformWindow);\n+        }\n+\n+        return platformWindowResponder;\n+    }\n+\n+    \/** Obtains {@link sun.lwawt.macosx.CPlatformResponder#handleMouseEvent(int, int, int, int, int, int, int, int)} *\/\n+    private static Method obtainHandleMouseEventMethod(final Object platformResponder) throws NoSuchMethodException {\n+        final var responderClass = platformResponder.getClass();\n+        final var handleMouseEventMethod = responderClass.getDeclaredMethod(\n+            \"handleMouseEvent\",\n+            int.class, int.class, int.class, int.class, int.class, int.class, int.class, int.class\n+        );\n+\n+        handleMouseEventMethod.setAccessible(true);\n+\n+        return handleMouseEventMethod;\n+    }\n+}\n","filename":"test\/jdk\/java\/awt\/Mouse\/MacTouchPressEventModifiers\/MouseMacTouchPressEventModifiers.java","additions":357,"deletions":0,"binary":false,"changes":357,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2007, 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2007, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -280,1 +280,1 @@\n-        im = tk.getImage(new URL(\"http:\/\/openjdk.java.net\/images\/openjdk.png\"));\n+        im = tk.getImage(new URL(\"https:\/\/openjdk.org\/images\/openjdk.png\"));\n@@ -283,1 +283,1 @@\n-        im = tk.createImage(new URL(\"http:\/\/openjdk.java.net\/images\/openjdk.png\"));\n+        im = tk.createImage(new URL(\"https:\/\/openjdk.org\/images\/openjdk.png\"));\n","filename":"test\/jdk\/java\/awt\/Toolkit\/Headless\/HeadlessToolkit.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,64 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8282252\n+ * @summary Test constructors of BigDecimal to replace BigInteger subclasses\n+ *\/\n+\n+import java.math.*;\n+\n+public class ConstructorUnscaledValue {\n+    public static void main(String... args) {\n+        TestBigInteger tbi = new TestBigInteger(BigInteger.ONE);\n+        \/\/ Create BigDecimal's using each of the three constructors\n+        \/\/ with guards on the class of unscaledValue\n+        BigDecimal[] values = {\n+            new BigDecimal(tbi),\n+            new BigDecimal(tbi, 2),\n+            new BigDecimal(tbi, 3, MathContext.DECIMAL32),\n+        };\n+\n+        for (var bd : values) {\n+            BigInteger unscaledValue = bd.unscaledValue();\n+            if (unscaledValue.getClass() != BigInteger.class) {\n+                throw new RuntimeException(\"Bad class for unscaledValue\");\n+            }\n+            if (!unscaledValue.equals(BigInteger.ONE)) {\n+                throw new RuntimeException(\"Bad value for unscaledValue\");\n+            }\n+        }\n+    }\n+\n+    private static class TestBigInteger extends BigInteger {\n+        public TestBigInteger(BigInteger bi) {\n+            super(bi.toByteArray());\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return java.util.Arrays.toString(toByteArray());\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/math\/BigDecimal\/ConstructorUnscaledValue.java","additions":64,"deletions":0,"binary":false,"changes":64,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2005, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 6177836\n+ * @bug 6177836 8282252\n@@ -28,1 +28,0 @@\n- * @author Joseph D. Darcy\n@@ -33,0 +32,1 @@\n+import java.util.List;\n@@ -36,1 +36,11 @@\n-    static void checkSerialForm(BigDecimal bd) throws Exception  {\n+    public static void main(String... args) throws Exception {\n+        checkBigDecimalSerialRoundTrip();\n+        checkBigDecimalSubSerialRoundTrip();\n+    }\n+\n+    private static void checkSerialForm(BigDecimal bd) throws Exception  {\n+        checkSerialForm0(bd);\n+        checkSerialForm0(bd.negate());\n+    }\n+\n+    private static void checkSerialForm0(BigDecimal bd) throws Exception  {\n@@ -38,4 +48,5 @@\n-        ObjectOutputStream oos = new ObjectOutputStream(bos);\n-        oos.writeObject(bd);\n-        oos.flush();\n-        oos.close();\n+        try(ObjectOutputStream oos = new ObjectOutputStream(bos)) {\n+            oos.writeObject(bd);\n+            oos.flush();\n+        }\n+\n@@ -47,1 +58,5 @@\n-            bd.hashCode() != tmp.hashCode()) {\n+            bd.hashCode() != tmp.hashCode() ||\n+            bd.getClass() != tmp.getClass() ||\n+            \/\/ Directly test equality of components\n+            bd.scale() != tmp.scale() ||\n+            !bd.unscaledValue().equals(tmp.unscaledValue())) {\n@@ -54,0 +69,9 @@\n+\n+        \/\/ If the class of the deserialized number is BigDecimal,\n+        \/\/ verify the implementation constraint on the unscaled value\n+        \/\/ having BigInteger class\n+        if (tmp.getClass() == BigDecimal.class) {\n+            if (tmp.unscaledValue().getClass() != BigInteger.class) {\n+                throw new RuntimeException(\"Not using genuine BigInteger as an unscaled value\");\n+            }\n+        }\n@@ -56,13 +80,27 @@\n-    public static void main(String[] args) throws Exception {\n-        BigDecimal values[] = {\n-            BigDecimal.ZERO,\n-            BigDecimal.ONE,\n-            BigDecimal.TEN,\n-            new BigDecimal(0),\n-            new BigDecimal(1),\n-            new BigDecimal(10),\n-            new BigDecimal(Integer.MAX_VALUE),\n-            new BigDecimal(Long.MAX_VALUE-1),\n-            new BigDecimal(BigInteger.valueOf(1), 1),\n-            new BigDecimal(BigInteger.valueOf(100), 50),\n-        };\n+    private static class BigIntegerSub extends BigInteger {\n+        public BigIntegerSub(BigInteger bi) {\n+            super(bi.toByteArray());\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return java.util.Arrays.toString(toByteArray());\n+        }\n+    }\n+    private static void checkBigDecimalSerialRoundTrip() throws Exception {\n+        var values =\n+            List.of(BigDecimal.ZERO,\n+                    BigDecimal.ONE,\n+                    BigDecimal.TEN,\n+                    new BigDecimal(0),\n+                    new BigDecimal(1),\n+                    new BigDecimal(10),\n+                    new BigDecimal(Integer.MAX_VALUE),\n+                    new BigDecimal(Long.MAX_VALUE-1),\n+                    new BigDecimal(BigInteger.valueOf(1), 1),\n+                    new BigDecimal(BigInteger.valueOf(100), 50),\n+                    new BigDecimal(new BigInteger(\"9223372036854775808\"), \/\/ Long.MAX_VALUE + 1\n+                                   Integer.MAX_VALUE),\n+                    new BigDecimal(new BigInteger(\"9223372036854775808\"), \/\/ Long.MAX_VALUE + 1\n+                                   Integer.MIN_VALUE),\n+                    new BigDecimal(new BigIntegerSub(BigInteger.ONE), 2));\n@@ -72,1 +110,0 @@\n-            checkSerialForm(value.negate());\n@@ -74,0 +111,12 @@\n+    }\n+\n+    private static class BigDecimalSub extends BigDecimal {\n+        public BigDecimalSub(BigDecimal bd) {\n+            super(bd.unscaledValue(), bd.scale());\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return unscaledValue() + \"x10^\" + (-scale());\n+        }\n+    }\n@@ -75,0 +124,25 @@\n+    \/\/ Subclass defining a serialVersionUID\n+    private static class BigDecimalSubSVUID extends BigDecimal {\n+        @java.io.Serial\n+        private static long serialVesionUID = 0x0123_4567_89ab_cdefL;\n+\n+        public BigDecimalSubSVUID(BigDecimal bd) {\n+            super(bd.unscaledValue(), bd.scale());\n+        }\n+    }\n+\n+    private static void checkBigDecimalSubSerialRoundTrip() throws Exception {\n+        var values =\n+            List.of(BigDecimal.ZERO,\n+                    BigDecimal.ONE,\n+                    BigDecimal.TEN,\n+                    new BigDecimal(BigInteger.TEN, 1234),\n+                    new BigDecimal(new BigInteger(\"9223372036854775808\"), \/\/ Long.MAX_VALUE + 1\n+                                   Integer.MAX_VALUE),\n+                    new BigDecimal(new BigInteger(\"9223372036854775808\"), \/\/ Long.MAX_VALUE + 1\n+                                   Integer.MIN_VALUE));\n+\n+        for(var value : values) {\n+            checkSerialForm(new BigDecimalSub(value));\n+            checkSerialForm(new BigDecimalSubSVUID(value));\n+        }\n","filename":"test\/jdk\/java\/math\/BigDecimal\/SerializationTests.java","additions":97,"deletions":23,"binary":false,"changes":120,"status":"modified"},{"patch":"@@ -0,0 +1,141 @@\n+\/*\n+ * Copyright (c) 2005, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8282252\n+ * @summary Verify BigInteger objects are serialized properly.\n+ *\/\n+\n+import java.math.*;\n+import java.io.*;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+public class SerializationTests {\n+\n+    public static void main(String... args) throws Exception {\n+        checkBigIntegerSerialRoundTrip();\n+        checkBigIntegerSubSerialRoundTrip();\n+    }\n+\n+    private static void checkSerialForm(BigInteger bi) throws Exception {\n+        checkSerialForm0(bi);\n+        checkSerialForm0(bi.negate());\n+    }\n+\n+    private static void checkSerialForm0(BigInteger bi) throws Exception  {\n+        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n+        try(ObjectOutputStream oos = new ObjectOutputStream(bos)) {\n+            oos.writeObject(bi);\n+            oos.flush();\n+        }\n+\n+        ObjectInputStream ois = new\n+            ObjectInputStream(new ByteArrayInputStream(bos.toByteArray()));\n+        BigInteger tmp = (BigInteger)ois.readObject();\n+\n+        if (!bi.equals(tmp) ||\n+            bi.hashCode() != tmp.hashCode() ||\n+            bi.getClass() != tmp.getClass() ||\n+            \/\/ For extra measure, directly test equality of components\n+            bi.signum() != tmp.signum() ||\n+            !Arrays.equals(bi.toByteArray(), (tmp.toByteArray())) ) {\n+            System.err.print(\"  original : \" + bi);\n+            System.err.println(\" (hash: 0x\" + Integer.toHexString(bi.hashCode()) + \")\");\n+            System.err.print(\"serialized : \" + tmp);\n+            System.err.println(\" (hash: 0x\" + Integer.toHexString(tmp.hashCode()) + \")\");\n+            throw new RuntimeException(\"Bad serial roundtrip\");\n+        }\n+    }\n+\n+    private static void checkBigIntegerSerialRoundTrip() throws Exception {\n+        var values =\n+            List.of(BigInteger.ZERO,\n+                    BigInteger.ONE,\n+                    BigInteger.TWO,\n+                    BigInteger.TEN,\n+                    BigInteger.valueOf(100),\n+                    BigInteger.valueOf(Integer.MAX_VALUE),\n+                    BigInteger.valueOf(Long.MAX_VALUE-1),\n+                    new BigInteger(\"9223372036854775808\")); \/\/ Long.MAX_VALUE + 1\n+\n+        for(BigInteger value : values) {\n+            checkSerialForm(value);\n+        }\n+    }\n+\n+    \/\/ Subclass with specialized toString output\n+    private static class BigIntegerSub extends BigInteger {\n+        public BigIntegerSub(BigInteger bi) {\n+            super(bi.toByteArray());\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return Arrays.toString(toByteArray());\n+        }\n+    }\n+\n+    \/\/ Subclass defining a serialVersionUID\n+    private static class BigIntegerSubSVUID extends BigInteger {\n+        @java.io.Serial\n+        private static long serialVesionUID = 0x0123_4567_89ab_cdefL;\n+\n+        public BigIntegerSubSVUID(BigInteger bi) {\n+            super(bi.toByteArray());\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return Arrays.toString(toByteArray());\n+        }\n+    }\n+\n+    \/\/ Subclass defining writeReplace\n+    private static class BigIntegerSubWR extends BigInteger {\n+        public BigIntegerSubWR(BigInteger bi) {\n+            super(bi.toByteArray());\n+        }\n+\n+        \/\/ Just return this; could use a serial proxy instead\n+        @java.io.Serial\n+        private Object writeReplace() throws ObjectStreamException {\n+            return this;\n+        }\n+    }\n+\n+\n+    private static void checkBigIntegerSubSerialRoundTrip() throws Exception {\n+        var values = List.of(BigInteger.ZERO,\n+                             BigInteger.ONE,\n+                             BigInteger.TEN,\n+                             new BigInteger(\"9223372036854775808\")); \/\/ Long.MAX_VALUE + 1\n+\n+        for(var value : values) {\n+            checkSerialForm(new BigIntegerSub(value));\n+            checkSerialForm(new BigIntegerSubSVUID(value));\n+            checkSerialForm(new BigIntegerSubWR(value));\n+        }\n+    }\n+}\n","filename":"test\/jdk\/java\/math\/BigInteger\/SerializationTests.java","additions":141,"deletions":0,"binary":false,"changes":141,"status":"added"},{"patch":"@@ -0,0 +1,23 @@\n+\/*\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n@@ -16,1 +39,1 @@\n-            InetAddress remoteAddr = InetAddress.getByName(\"bugs.openjdk.java.net\");\n+            InetAddress remoteAddr = InetAddress.getByName(\"bugs.openjdk.org\");\n","filename":"test\/jdk\/java\/net\/InetAddress\/IsReachableViaLoopbackTest.java","additions":24,"deletions":1,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -0,0 +1,507 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8293590\n+ * @summary URL built-in protocol handlers should parse the URL early\n+ *          to avoid constructing URLs for which openConnection\n+ *          would later throw an exception, when possible.\n+ *          A jdk.net.url.delayParsing property allows to switch that\n+ *          behavior off to mitigate risks of regression\n+ * @run junit  EarlyOrDelayedParsing\n+ * @run junit\/othervm -Djdk.net.url.delayParsing EarlyOrDelayedParsing\n+ * @run junit\/othervm -Djdk.net.url.delayParsing=true EarlyOrDelayedParsing\n+ * @run junit\/othervm -Djdk.net.url.delayParsing=false EarlyOrDelayedParsing\n+ *\/\n+\n+import java.io.IOException;\n+import java.net.ConnectException;\n+import java.net.MalformedURLException;\n+import java.net.URL;\n+import java.net.UnknownHostException;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.stream.IntStream;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+import static java.lang.System.err;\n+import static org.junit.jupiter.api.Assertions.*;\n+\n+public class EarlyOrDelayedParsing {\n+\n+    public final boolean EARLY_PARSING;\n+    {\n+        String value = System.getProperty(\"jdk.net.url.delayParsing\", \"false\");\n+        EARLY_PARSING = !value.isEmpty() && !Boolean.parseBoolean(value);\n+    }\n+\n+    \/\/ Some characters that when included at the wrong place\n+    \/\/ in the authority component, without being escaped, would\n+    \/\/ cause an exception.\n+    private static final String EXCLUDED_DELIMS = \"<>\\\" \";\n+    private static final String UNWISE = \"{}|\\\\^`\";\n+    private static final String DELIMS = \"[]\/?#@\";\n+\n+    \/\/ Test data used to test exceptions thrown by URL\n+    \/\/ at some point, when constructed with some illegal input.\n+    sealed interface URLArgTest\n+            permits OneArgTest, TwoArgsTest, ThreeArgsTest, FourArgsTest {\n+\n+        \/\/ Some character that is expected to cause an exception\n+        \/\/ at some point, and which this test case is built for\n+        int character();\n+\n+        \/\/ An URL string containing the illegal character\n+        String url();\n+\n+        \/\/ Some characters are already checked at construction\n+        \/\/ time. They will cause an exception to be thrown,\n+        \/\/ whether delayed parsing is activated or not.\n+        \/\/ This method returns true if an exception is\n+        \/\/ expected at construction time for this test case,\n+        \/\/ even when delayed parsing is activated.\n+        boolean early(int c);\n+\n+        \/\/ The URL scheme this test case is built for.\n+        \/\/ Typically, one of \"http\", \"https\", \"ftp\"...\n+        default String scheme() {\n+            return scheme(url());\n+        }\n+\n+        \/\/ Return the URL string of this test case, after\n+        \/\/ substituting its scheme with the given scheme.\n+        default String urlWithScheme(String scheme) {\n+            String url = url();\n+            int colon = url.indexOf(':');\n+            String urlWithScheme = scheme + url.substring(colon);\n+            return urlWithScheme;\n+        }\n+\n+        \/\/ Which exception to expect when parsing is delayed\n+        default boolean acceptDelayedException(Throwable exception) {\n+            return exception instanceof MalformedURLException\n+                    || exception instanceof UnknownHostException;\n+        }\n+\n+        default String describe() {\n+            return this.getClass().getSimpleName() + \"(url=\" + url() + \")\";\n+        }\n+\n+        static int port(String protocol) {\n+            return switch (protocol) {\n+                case \"http\" -> 80;\n+                case \"https\" -> 443;\n+                case \"ftp\" -> 21;\n+                default -> -1;\n+            };\n+        }\n+\n+        static String scheme(String url) {\n+            return url.substring(0, url.indexOf(':'));\n+        }\n+    }\n+\n+    \/\/ Test data for the one arg constructor\n+    \/\/ public URL(String spec) throws MalformedURLException\n+    sealed interface OneArgTest extends URLArgTest {\n+\n+        \/\/ Create a new test case identical to this one but\n+        \/\/ with a different URL scheme\n+        default OneArgTest withScheme(String scheme) {\n+            String urlWithScheme = urlWithScheme(scheme);\n+            if (this instanceof OfHost) {\n+                return new OfHost(character(), urlWithScheme);\n+            }\n+            if (this instanceof OfUserInfo) {\n+                return new OfUserInfo(character(), urlWithScheme);\n+            }\n+            throw new AssertionError(\"unexpected subclass: \" + this.getClass());\n+        }\n+\n+        @Override\n+        default boolean early(int c) {\n+            return this instanceof OfHost &&\n+                    (c < 31 || c == 127);\n+        }\n+\n+        @Override\n+        default boolean acceptDelayedException(Throwable exception) {\n+            return URLArgTest.super.acceptDelayedException(exception)\n+                    || \"file\".equalsIgnoreCase(scheme())\n+                    && character() == '\\\\'\n+                    && exception instanceof IOException;\n+        }\n+\n+        record OfHost(int character, String url) implements OneArgTest { }\n+        record OfUserInfo(int character, String url) implements OneArgTest { }\n+\n+        static OneArgTest ofHost(int c) {\n+            return new OfHost(c, \"http:\/\/local%shost\/\".formatted(Character.toString(c)));\n+        }\n+        static OneArgTest ofUserInfo(int c) {\n+            return new OfUserInfo(c, \"http:\/\/user%sinfo@localhost:9999\/\".formatted(Character.toString(c)));\n+        }\n+    }\n+\n+    \/\/ Test data for the two arg constructor\n+    \/\/ public URL(URL context, String spec) throws MalformedURLException\n+    sealed interface TwoArgsTest extends URLArgTest {\n+\n+        \/\/ Create a new test case identical to this one but\n+        \/\/ with a different URL scheme\n+        default TwoArgsTest withScheme(String scheme) {\n+            String urlWithScheme = urlWithScheme(scheme);\n+            if (this instanceof OfTwoArgsHost) {\n+                return new OfTwoArgsHost(character(), urlWithScheme);\n+            }\n+            if (this instanceof OfTwoArgsUserInfo) {\n+                return new OfTwoArgsUserInfo(character(), urlWithScheme);\n+            }\n+            throw new AssertionError(\"unexpected subclass: \" + this.getClass());\n+        }\n+\n+        @Override\n+        default boolean early(int c) {\n+            return this instanceof OfTwoArgsHost &&\n+                    (c < 31 || c == 127);\n+        }\n+\n+        @Override\n+        default boolean acceptDelayedException(Throwable exception) {\n+            return URLArgTest.super.acceptDelayedException(exception)\n+                    || \"file\".equalsIgnoreCase(scheme())\n+                    && character() == '\\\\'\n+                    && exception instanceof IOException;\n+        }\n+\n+        record OfTwoArgsHost(int character, String url) implements TwoArgsTest { }\n+        record OfTwoArgsUserInfo(int character, String url) implements TwoArgsTest { }\n+\n+        static TwoArgsTest ofHost(int c) {\n+            return new OfTwoArgsHost(c, \"http:\/\/local%shost\/\".formatted(Character.toString(c)));\n+        }\n+        static TwoArgsTest ofUserInfo(int c) {\n+            return new OfTwoArgsUserInfo(c, \"http:\/\/user%sinfo@localhost:9999\/\".formatted(Character.toString(c)));\n+        }\n+        static TwoArgsTest ofOneArgTest(OneArgTest test) {\n+            if (test instanceof OneArgTest.OfHost) {\n+                return ofHost(test.character());\n+            } else if (test instanceof OneArgTest.OfUserInfo) {\n+                return ofUserInfo(test.character());\n+            }\n+            throw new AssertionError(\"can't convert to TwoArgsTest: \"\n+                    + test.getClass());\n+        }\n+    }\n+\n+\n+    \/\/ Test data for the three args constructor\n+    \/\/ public URL(String scheme, String host, String file)\n+    \/\/     throws MalformedURLException\n+    sealed interface ThreeArgsTest extends URLArgTest {\n+\n+        \/\/ the host component\n+        String host();\n+\n+        \/\/ the path + query components\n+        String file();\n+\n+        \/\/ Create a new test case identical to this one but\n+        \/\/ with a different URL scheme and port\n+        default ThreeArgsTest withScheme(String scheme) {\n+            String urlWithScheme = urlWithScheme(scheme);\n+            if (this instanceof OfHostFile) {\n+                return new OfHostFile(character(), host(), file(), urlWithScheme);\n+            }\n+            throw new AssertionError(\"unexpected subclass: \" + this.getClass());\n+        }\n+\n+        @Override\n+        default boolean early(int c) {\n+            return (c < 31 || c == 127 || c == '\/');\n+        }\n+\n+        @Override\n+        default boolean acceptDelayedException(Throwable exception) {\n+            return URLArgTest.super.acceptDelayedException(exception)\n+                    || \"file\".equalsIgnoreCase(scheme())\n+                    && exception instanceof IOException;\n+        }\n+\n+        record OfHostFile(int character, String host, String file, String url)\n+                implements ThreeArgsTest {\n+        }\n+\n+        static ThreeArgsTest ofHostFile(int c) {\n+            String host = \"local%shost\".formatted(Character.toString(c));\n+            String url = \"http:\/\/\" + host + \"\/\";\n+            return new OfHostFile(c, host, \"\/\", url);\n+        }\n+    }\n+\n+    \/\/ Test data for the four args constructor\n+    \/\/ public URL(String scheme, String host, int port, String file)\n+    \/\/     throws MalformedURLException\n+    sealed interface FourArgsTest extends URLArgTest {\n+\n+        \/\/ the host component\n+        String host();\n+\n+        \/\/ the port component\n+        int port();\n+\n+        \/\/ the path + query components\n+        String file();\n+\n+        \/\/ Create a new test case identical to this one but\n+        \/\/ with a different URL scheme and port\n+        default FourArgsTest withScheme(String scheme) {\n+            String urlWithScheme = urlWithScheme(scheme);\n+            if (this instanceof OfHostFilePort) {\n+                int port = URLArgTest.port(scheme);\n+                return new OfHostFilePort(character(), host(), port, file(), urlWithScheme);\n+            }\n+            throw new AssertionError(\"unexpected subclass: \" + this.getClass());\n+        }\n+\n+        @Override\n+        default boolean early(int c) {\n+            return (c < 31 || c == 127 || c == '\/');\n+        }\n+\n+        @Override\n+        default boolean acceptDelayedException(Throwable exception) {\n+            return URLArgTest.super.acceptDelayedException(exception)\n+                    || \"file\".equalsIgnoreCase(scheme())\n+                    && exception instanceof IOException;\n+        }\n+\n+        record OfHostFilePort(int character, String host, int port, String file, String url)\n+                implements FourArgsTest {\n+        }\n+\n+        static FourArgsTest ofHostPortFile(int c) {\n+            String host = \"local%shost\".formatted(Character.toString(c));\n+            String url = \"http:\/\/\" + host + \"\/\";\n+            int port = URLArgTest.port(URLArgTest.scheme(url));\n+            return new OfHostFilePort(c, host, port, \"\/\", url);\n+        }\n+    }\n+\n+\n+    \/\/ Generate test data for the URL one arg constructor, with variations\n+    \/\/ of the host component.\n+    static Stream<OneArgTest> oneArgHostTests() {\n+        List<OneArgTest> tests = new ArrayList<>();\n+        List<OneArgTest> urls = new ArrayList<>();\n+        urls.addAll((UNWISE + EXCLUDED_DELIMS).chars()\n+                .mapToObj(OneArgTest::ofHost).toList());\n+        urls.addAll(IntStream.concat(IntStream.range(0, 31), IntStream.of(127))\n+                .mapToObj(OneArgTest::ofHost).toList());\n+        for (String scheme : List.of(\"http\", \"https\", \"ftp\")) {\n+            for (var test : urls) {\n+                tests.add(test.withScheme(scheme));\n+            }\n+        }\n+        return tests.stream();\n+    }\n+\n+    \/\/ Generate test data for the URL one arg constructor, with variations\n+    \/\/ of the user info component.\n+    static Stream<OneArgTest> oneArgUserInfoTests() {\n+        List<OneArgTest> tests = new ArrayList<>();\n+        List<OneArgTest> urls = new ArrayList<>();\n+        urls.addAll(IntStream.concat(IntStream.range(0, 31), IntStream.of(127))\n+                .mapToObj(OneArgTest::ofUserInfo).toList());\n+        urls.add(OneArgTest.ofUserInfo('\\\\'));\n+        for (String scheme : List.of(\"http\", \"https\", \"ftp\")) {\n+            for (var test : urls) {\n+                tests.add(test.withScheme(scheme));\n+            }\n+        }\n+        return tests.stream();\n+    }\n+\n+    \/\/ Test data with all variations for the URL one arg\n+    \/\/ constructor (spec)\n+    static Stream<OneArgTest> oneArgTests() {\n+        return Stream.concat(oneArgHostTests(), oneArgUserInfoTests());\n+    }\n+\n+    \/\/ Test data with all variations for the URL two arg\n+    \/\/ constructor (URL, spec)\n+    static Stream<TwoArgsTest> twoArgTests() {\n+        return oneArgTests().map(TwoArgsTest::ofOneArgTest);\n+    }\n+\n+    \/\/ Generate test data for the URL three arguments constructor\n+    \/\/ (scheme, host, file)\n+    static Stream<ThreeArgsTest> threeArgsTests() {\n+        List<ThreeArgsTest> urls = new ArrayList<>();\n+        urls.addAll((UNWISE + EXCLUDED_DELIMS + DELIMS).chars()\n+                .mapToObj(ThreeArgsTest::ofHostFile).toList());\n+        urls.addAll(IntStream.concat(IntStream.range(0, 31), IntStream.of(127))\n+                .mapToObj(ThreeArgsTest::ofHostFile).toList());\n+        List<ThreeArgsTest> tests = new ArrayList<>();\n+        for (String scheme : List.of(\"http\", \"https\", \"ftp\", \"file\")) {\n+            for (var test : urls) {\n+                tests.add(test.withScheme(scheme));\n+            }\n+        }\n+        return tests.stream();\n+    }\n+\n+    \/\/ Generate test data for the URL four arguments constructor\n+    \/\/ (scheme, host, port, file)\n+    static Stream<FourArgsTest> fourArgsTests() {\n+        List<FourArgsTest> urls = new ArrayList<>();\n+        urls.addAll((UNWISE + EXCLUDED_DELIMS + DELIMS).chars()\n+                .mapToObj(FourArgsTest::ofHostPortFile).toList());\n+        urls.addAll(IntStream.concat(IntStream.range(0, 31), IntStream.of(127))\n+                .mapToObj(FourArgsTest::ofHostPortFile).toList());\n+        List<FourArgsTest> tests = new ArrayList<>();\n+        for (String scheme : List.of(\"http\", \"https\", \"ftp\", \"file\")) {\n+            for (var test : urls) {\n+                tests.add(test.withScheme(scheme));\n+            }\n+        }\n+        return tests.stream();\n+    }\n+\n+\n+\n+    @ParameterizedTest\n+    @MethodSource(\"oneArgTests\")\n+    public void testOneArgConstructor(OneArgTest test) throws Exception {\n+\n+        int c = test.character();\n+        String url = test.url();\n+        if (EARLY_PARSING || test.early(c)) {\n+            err.println(\"Early parsing: \" + test.describe());\n+            var exception = assertThrows(MalformedURLException.class, () -> {\n+                new URL(url);\n+            });\n+            err.println(\"Got expected exception: \" + exception);\n+        } else {\n+            err.println(\"Delayed parsing: \" + test.describe());\n+            URL u = new URL(url);\n+            var exception = assertThrows(IOException.class, () -> {\n+                u.openConnection().connect();\n+            });\n+            if (!test.acceptDelayedException(exception)) {\n+                    err.println(\"unexpected exception type: \" + exception);\n+                    throw exception;\n+            }\n+            err.println(\"Got expected exception: \" + exception);\n+            assertFalse(exception instanceof ConnectException);\n+        }\n+    }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"twoArgTests\")\n+    public void testTwoArgConstructor(TwoArgsTest test) throws Exception {\n+\n+        int c = test.character();\n+        String url = test.url();\n+        String scheme = URLArgTest.scheme(url);\n+        URL u = new URL(scheme, null,\"\");\n+        if (EARLY_PARSING || test.early(c)) {\n+            err.println(\"Early parsing: \" + test.describe());\n+            var exception = assertThrows(MalformedURLException.class, () -> {\n+                new URL(u, url);\n+            });\n+            err.println(\"Got expected exception: \" + exception);\n+        } else {\n+            err.println(\"Delayed parsing: \" + test.describe());\n+            URL u2 = new URL(u, url);\n+            var exception = assertThrows(IOException.class, () -> {\n+                u2.openConnection().connect();\n+            });\n+            if (!test.acceptDelayedException(exception)) {\n+                err.println(\"unexpected exception type: \" + exception);\n+                throw exception;\n+            }\n+            err.println(\"Got expected exception: \" + exception);\n+            assertFalse(exception instanceof ConnectException);\n+        }\n+    }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"threeArgsTests\")\n+    public void testThreeArgsConstructor(ThreeArgsTest test) throws Exception {\n+\n+        int c = test.character();\n+        String url = test.url();\n+        if (EARLY_PARSING || test.early(c)) {\n+            err.println(\"Early parsing: \" + url);\n+            var exception = assertThrows(MalformedURLException.class, () -> {\n+                new URL(test.scheme(), test.host(), test.file());\n+            });\n+            err.println(\"Got expected exception: \" + exception);\n+        } else {\n+            err.println(\"Delayed parsing: \" + url);\n+            URL u = new URL(test.scheme(), test.host(), test.file());\n+            var exception = assertThrows(IOException.class, () -> {\n+                u.openConnection().connect();\n+            });\n+            if (!test.acceptDelayedException(exception)) {\n+                err.println(\"unexpected exception type: \" + exception);\n+                throw exception;\n+            }\n+            err.println(\"Got expected exception: \" + exception);\n+            assertFalse(exception instanceof ConnectException);\n+        }\n+    }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"fourArgsTests\")\n+    public void testFourArgsConstructor(FourArgsTest test) throws Exception {\n+\n+        int c = test.character();\n+        String url = test.url();\n+        if (EARLY_PARSING || test.early(c)) {\n+            err.println(\"Early parsing: \" + url);\n+            var exception = assertThrows(MalformedURLException.class, () -> {\n+                new URL(test.scheme(), test.host(), test.port(), test.file());\n+            });\n+            err.println(\"Got expected exception: \" + exception);\n+        } else {\n+            err.println(\"Delayed parsing: \" + url);\n+            URL u = new URL(test.scheme(), test.host(), test.port(), test.file());\n+            var exception = assertThrows(IOException.class, () -> {\n+                u.openConnection().connect();\n+            });\n+            if (!test.acceptDelayedException(exception)) {\n+                err.println(\"unexpected exception type: \" + exception);\n+                throw exception;\n+            }\n+            err.println(\"Got expected exception: \" + exception);\n+            assertFalse(exception instanceof ConnectException);\n+        }\n+    }\n+\n+}\n","filename":"test\/jdk\/java\/net\/URL\/EarlyOrDelayedParsing.java","additions":507,"deletions":0,"binary":false,"changes":507,"status":"added"},{"patch":"@@ -61,0 +61,1 @@\n+import java.lang.ref.Reference;\n@@ -380,0 +381,7 @@\n+\n+            var error = TRACKER.check(1,\n+                    (t) -> t.getOutstandingOperations() > 0 || t.getOutstandingSubscribers() > 0,\n+                    \"subscribers for testGetSendAsync(%s)\\n\\t step [%s]\".formatted(req.uri(), i),\n+                    false);\n+            Reference.reachabilityFence(client);\n+            if (error != null) throw error;\n@@ -484,0 +492,7 @@\n+\n+            var error = TRACKER.check(1,\n+                    (t) -> t.getOutstandingOperations() > 0 || t.getOutstandingSubscribers() > 0,\n+                    \"subscribers for testPostSendAsync(%s)\\n\\t step [%s]\".formatted(req.uri(), i),\n+                    false);\n+            Reference.reachabilityFence(client);\n+            if (error != null) throw error;\n@@ -539,0 +554,7 @@\n+\n+            var error = TRACKER.check(1,\n+                    (t) -> t.getOutstandingOperations() > 0 || t.getOutstandingSubscribers() > 0,\n+                    \"subscribers for testPostInterrupt(%s)\\n\\t step [%s]\".formatted(req.uri(), i),\n+                    false);\n+            Reference.reachabilityFence(client);\n+            if (error != null) throw error;\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelRequestTest.java","additions":22,"deletions":0,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -0,0 +1,450 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8294916\n+ * @summary Tests that closing a streaming handler (ofInputStream()\/ofLines())\n+ *      without reading all the bytes unregisters the underlying subscriber.\n+ * @library \/test\/lib http2\/server\n+ * @build jdk.test.lib.net.SimpleSSLContext HttpServerAdapters\n+ *        ReferenceTracker CancelStreamedBodyTest\n+ * @modules java.base\/sun.net.www.http\n+ *          java.net.http\/jdk.internal.net.http.common\n+ *          java.net.http\/jdk.internal.net.http.frame\n+ *          java.net.http\/jdk.internal.net.http.hpack\n+ * @run testng\/othervm -Djdk.internal.httpclient.debug=true\n+ *                     CancelStreamedBodyTest\n+ *\/\n+import com.sun.net.httpserver.HttpServer;\n+import com.sun.net.httpserver.HttpsConfigurator;\n+import com.sun.net.httpserver.HttpsServer;\n+import jdk.internal.net.http.common.OperationTrackers.Tracker;\n+import jdk.test.lib.RandomFactory;\n+import jdk.test.lib.net.SimpleSSLContext;\n+import org.testng.ITestContext;\n+import org.testng.ITestResult;\n+import org.testng.SkipException;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.AfterTest;\n+import org.testng.annotations.BeforeMethod;\n+import org.testng.annotations.BeforeTest;\n+import org.testng.annotations.DataProvider;\n+import org.testng.annotations.Test;\n+\n+import javax.net.ssl.SSLContext;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n+import java.lang.ref.Reference;\n+import java.net.InetAddress;\n+import java.net.InetSocketAddress;\n+import java.net.URI;\n+import java.net.http.HttpClient;\n+import java.net.http.HttpConnectTimeoutException;\n+import java.net.http.HttpRequest;\n+import java.net.http.HttpResponse;\n+import java.net.http.HttpResponse.BodyHandler;\n+import java.net.http.HttpResponse.BodyHandlers;\n+import java.util.Arrays;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Random;\n+import java.util.concurrent.CancellationException;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.ConcurrentHashMap;\n+import java.util.concurrent.ConcurrentMap;\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.Executor;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.atomic.AtomicLong;\n+import java.util.concurrent.atomic.AtomicReference;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+import static java.lang.System.arraycopy;\n+import static java.lang.System.out;\n+import static java.nio.charset.StandardCharsets.UTF_8;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertFalse;\n+import static org.testng.Assert.assertTrue;\n+\n+public class CancelStreamedBodyTest implements HttpServerAdapters {\n+\n+    SSLContext sslContext;\n+    HttpTestServer httpTestServer;    \/\/ HTTP\/1.1    [ 4 servers ]\n+    HttpTestServer httpsTestServer;   \/\/ HTTPS\/1.1\n+    HttpTestServer http2TestServer;   \/\/ HTTP\/2 ( h2c )\n+    HttpTestServer https2TestServer;  \/\/ HTTP\/2 ( h2  )\n+    String httpURI;\n+    String httpsURI;\n+    String http2URI;\n+    String https2URI;\n+\n+    static final long SERVER_LATENCY = 75;\n+    static final int ITERATION_COUNT = 3;\n+    \/\/ a shared executor helps reduce the amount of threads created by the test\n+    static final Executor executor = new TestExecutor(Executors.newCachedThreadPool());\n+    static final ConcurrentMap<String, Throwable> FAILURES = new ConcurrentHashMap<>();\n+    static volatile boolean tasksFailed;\n+    static final AtomicLong serverCount = new AtomicLong();\n+    static final AtomicLong clientCount = new AtomicLong();\n+    static final long start = System.nanoTime();\n+    public static String now() {\n+        long now = System.nanoTime() - start;\n+        long secs = now \/ 1000_000_000;\n+        long mill = (now % 1000_000_000) \/ 1000_000;\n+        long nan = now % 1000_000;\n+        return String.format(\"[%d s, %d ms, %d ns] \", secs, mill, nan);\n+    }\n+\n+    final ReferenceTracker TRACKER = ReferenceTracker.INSTANCE;\n+    private volatile HttpClient sharedClient;\n+\n+    static class TestExecutor implements Executor {\n+        final AtomicLong tasks = new AtomicLong();\n+        Executor executor;\n+        TestExecutor(Executor executor) {\n+            this.executor = executor;\n+        }\n+\n+        @Override\n+        public void execute(Runnable command) {\n+            long id = tasks.incrementAndGet();\n+            executor.execute(() -> {\n+                try {\n+                    command.run();\n+                } catch (Throwable t) {\n+                    tasksFailed = true;\n+                    System.out.printf(now() + \"Task %s failed: %s%n\", id, t);\n+                    System.err.printf(now() + \"Task %s failed: %s%n\", id, t);\n+                    FAILURES.putIfAbsent(\"Task \" + id, t);\n+                    throw t;\n+                }\n+            });\n+        }\n+    }\n+\n+    protected boolean stopAfterFirstFailure() {\n+        return Boolean.getBoolean(\"jdk.internal.httpclient.debug\");\n+    }\n+\n+    final AtomicReference<SkipException> skiptests = new AtomicReference<>();\n+    void checkSkip() {\n+        var skip = skiptests.get();\n+        if (skip != null) throw skip;\n+    }\n+    static String name(ITestResult result) {\n+        var params = result.getParameters();\n+        return result.getName()\n+                + (params == null ? \"()\" : Arrays.toString(result.getParameters()));\n+    }\n+\n+    @BeforeMethod\n+    void beforeMethod(ITestContext context) {\n+        if (stopAfterFirstFailure() && context.getFailedTests().size() > 0) {\n+            if (skiptests.get() == null) {\n+                SkipException skip = new SkipException(\"some tests failed\");\n+                skip.setStackTrace(new StackTraceElement[0]);\n+                skiptests.compareAndSet(null, skip);\n+            }\n+        }\n+    }\n+\n+    @AfterClass\n+    static final void printFailedTests(ITestContext context) {\n+        out.println(\"\\n=========================\");\n+        var failed = context.getFailedTests().getAllResults().stream()\n+                .collect(Collectors.toMap(r -> name(r), ITestResult::getThrowable));\n+        FAILURES.putAll(failed);\n+        try {\n+            out.printf(\"%n%sCreated %d servers and %d clients%n\",\n+                    now(), serverCount.get(), clientCount.get());\n+            if (FAILURES.isEmpty()) return;\n+            out.println(\"Failed tests: \");\n+            FAILURES.entrySet().forEach((e) -> {\n+                out.printf(\"\\t%s: %s%n\", e.getKey(), e.getValue());\n+                e.getValue().printStackTrace(out);\n+            });\n+            if (tasksFailed) {\n+                System.out.println(\"WARNING: Some tasks failed\");\n+            }\n+        } finally {\n+            out.println(\"\\n=========================\\n\");\n+        }\n+    }\n+\n+    private String[] uris() {\n+        return new String[] {\n+                httpURI,\n+                httpsURI,\n+                http2URI,\n+                https2URI,\n+        };\n+    }\n+\n+\n+    @DataProvider(name = \"urls\")\n+    public Object[][] alltests() {\n+        String[] uris = uris();\n+        Object[][] result = new Object[uris.length * 2][];\n+        int i = 0;\n+        for (boolean sameClient : List.of(false, true)) {\n+            for (String uri : uris()) {\n+                String path = sameClient ? \"same\" : \"new\";\n+                result[i++] = new Object[]{uri + path, sameClient};\n+            }\n+        }\n+        assert i == uris.length * 2;\n+        return result;\n+    }\n+\n+    private HttpClient makeNewClient() {\n+        clientCount.incrementAndGet();\n+        var client = HttpClient.newBuilder()\n+                .proxy(HttpClient.Builder.NO_PROXY)\n+                .executor(executor)\n+                .sslContext(sslContext)\n+                .build();\n+        \/\/ It is OK to even track the shared client here:\n+        \/\/ the test methods will verify that the client has shut down\n+        \/\/ only if it's not the shared client.\n+        \/\/ Only the teardown() method verify that the shared client\n+        \/\/ has shut down in this test.\n+        return TRACKER.track(client);\n+    }\n+\n+    HttpClient newHttpClient(boolean share) {\n+        if (!share) return makeNewClient();\n+        HttpClient shared = sharedClient;\n+        if (shared != null) return shared;\n+        synchronized (this) {\n+            shared = sharedClient;\n+            if (shared == null) {\n+                shared = sharedClient = makeNewClient();\n+            }\n+            return shared;\n+        }\n+    }\n+\n+    final static String BODY = \"Some string |\\n that ?\\n can |\\n be split ?\\n several |\\n ways.\";\n+\n+\n+    @Test(dataProvider = \"urls\")\n+    public void testAsLines(String uri, boolean sameClient)\n+            throws Exception {\n+        checkSkip();\n+        HttpClient client = null;\n+        uri = uri + \"\/testAsLines\";\n+        out.printf(\"%n%s testAsLines(%s, %b)%n\", now(), uri, sameClient);\n+        for (int i=0; i< ITERATION_COUNT; i++) {\n+            if (!sameClient || client == null)\n+                client = newHttpClient(sameClient);\n+            var tracker = TRACKER.getTracker(client);\n+\n+            HttpRequest req = HttpRequest.newBuilder(URI.create(uri))\n+                    .GET()\n+                    .build();\n+            List<String> lines;\n+            for (int j = 0; j < 2; j++) {\n+                try (Stream<String> body = client.send(req, BodyHandlers.ofLines()).body()) {\n+                    lines = body.limit(j).toList();\n+                    assertEquals(lines, BODY.replaceAll(\"\\\\||\\\\?\", \"\")\n+                            .lines().limit(j).toList());\n+                }\n+                \/\/ Only check our still alive client for outstanding operations\n+                \/\/ and outstanding subscribers here: it should have none.\n+                var error = TRACKER.check(tracker, 500,\n+                        (t) -> t.getOutstandingOperations() > 0 || t.getOutstandingSubscribers() > 0,\n+                        \"subscribers for testAsLines(%s)\\n\\t step [%s,%s]\".formatted(req.uri(), i,j),\n+                        false);\n+                Reference.reachabilityFence(client);\n+                if (error != null) throw error;\n+            }\n+            \/\/ The shared client is only shut down at the end.\n+            \/\/ Skip shutdown check for the shared client.\n+            if (sameClient) continue;\n+            client = null;\n+            System.gc();\n+            var error = TRACKER.check(tracker, 500);\n+            if (error != null) throw error;\n+        }\n+    }\n+\n+    @Test(dataProvider = \"urls\")\n+    public void testInputStream(String uri, boolean sameClient)\n+            throws Exception {\n+        checkSkip();\n+        HttpClient client = null;\n+        uri = uri + \"\/testInputStream\";\n+        out.printf(\"%n%s testInputStream(%s, %b)%n\", now(), uri, sameClient);\n+        for (int i=0; i< ITERATION_COUNT; i++) {\n+            if (!sameClient || client == null)\n+                client = newHttpClient(sameClient);\n+            var tracker = TRACKER.getTracker(client);\n+\n+            HttpRequest req = HttpRequest.newBuilder(URI.create(uri))\n+                    .GET()\n+                    .build();\n+            int read = -1;\n+            for (int j = 0; j < 2; j++) {\n+                try (InputStream is = client.send(req, BodyHandlers.ofInputStream()).body()) {\n+                    for (int k = 0; k < j; k++) {\n+                        read = is.read();\n+                        assertEquals(read, BODY.charAt(k));\n+                    }\n+                }\n+                \/\/ Only check our still alive client for outstanding operations\n+                \/\/ and outstanding subscribers here: it should have none.\n+                var error = TRACKER.check(tracker, 1,\n+                        (t) -> t.getOutstandingOperations() > 0 || t.getOutstandingSubscribers() > 0,\n+                        \"subscribers for testInputStream(%s)\\n\\t step [%s,%s]\".formatted(req.uri(), i,j),\n+                        false);\n+                Reference.reachabilityFence(client);\n+                if (error != null) throw error;\n+            }\n+            \/\/ The shared client is only shut down at the end.\n+            \/\/ Skip shutdown check for the shared client.\n+            if (sameClient) continue;\n+            client = null;\n+            System.gc();\n+            var error = TRACKER.check(tracker, 1);\n+            if (error != null) throw error;\n+        }\n+    }\n+\n+\n+\n+    @BeforeTest\n+    public void setup() throws Exception {\n+        sslContext = new SimpleSSLContext().get();\n+        if (sslContext == null)\n+            throw new AssertionError(\"Unexpected null sslContext\");\n+\n+        \/\/ HTTP\/1.1\n+        HttpTestHandler h1_chunkHandler = new HTTPSlowHandler();\n+        InetSocketAddress sa = new InetSocketAddress(InetAddress.getLoopbackAddress(), 0);\n+        httpTestServer = HttpTestServer.of(HttpServer.create(sa, 0));\n+        httpTestServer.addHandler(h1_chunkHandler, \"\/http1\/x\/\");\n+        httpURI = \"http:\/\/\" + httpTestServer.serverAuthority() + \"\/http1\/x\/\";\n+\n+        HttpsServer httpsServer = HttpsServer.create(sa, 0);\n+        httpsServer.setHttpsConfigurator(new HttpsConfigurator(sslContext));\n+        httpsTestServer = HttpTestServer.of(httpsServer);\n+        httpsTestServer.addHandler(h1_chunkHandler, \"\/https1\/x\/\");\n+        httpsURI = \"https:\/\/\" + httpsTestServer.serverAuthority() + \"\/https1\/x\/\";\n+\n+        \/\/ HTTP\/2\n+        HttpTestHandler h2_chunkedHandler = new HTTPSlowHandler();\n+\n+        http2TestServer = HttpTestServer.of(new Http2TestServer(\"localhost\", false, 0));\n+        http2TestServer.addHandler(h2_chunkedHandler, \"\/http2\/x\/\");\n+        http2URI = \"http:\/\/\" + http2TestServer.serverAuthority() + \"\/http2\/x\/\";\n+\n+        https2TestServer = HttpTestServer.of(new Http2TestServer(\"localhost\", true, sslContext));\n+        https2TestServer.addHandler(h2_chunkedHandler, \"\/https2\/x\/\");\n+        https2URI = \"https:\/\/\" + https2TestServer.serverAuthority() + \"\/https2\/x\/\";\n+\n+        serverCount.addAndGet(4);\n+        httpTestServer.start();\n+        httpsTestServer.start();\n+        http2TestServer.start();\n+        https2TestServer.start();\n+    }\n+\n+    @AfterTest\n+    public void teardown() throws Exception {\n+        String sharedClientName =\n+                sharedClient == null ? null : sharedClient.toString();\n+        sharedClient = null;\n+        \/\/ check that the shared client (and any other client) have\n+        \/\/ properly shut down\n+        System.gc();\n+        Thread.sleep(100);\n+        AssertionError fail = TRACKER.check(500);\n+        try {\n+            httpTestServer.stop();\n+            httpsTestServer.stop();\n+            http2TestServer.stop();\n+            https2TestServer.stop();\n+        } finally {\n+            if (fail != null) {\n+                if (sharedClientName != null) {\n+                    System.err.println(\"Shared client name is: \" + sharedClientName);\n+                }\n+                throw fail;\n+            }\n+        }\n+    }\n+\n+    \/**\n+     * A handler that slowly sends back a body to give time for the\n+     * the request to get cancelled before the body is fully received.\n+     *\/\n+    static class HTTPSlowHandler implements HttpTestHandler {\n+        @Override\n+        public void handle(HttpTestExchange t) throws IOException {\n+            try {\n+                out.println(\"HTTPSlowHandler received request to \" + t.getRequestURI());\n+                System.err.println(\"HTTPSlowHandler received request to \" + t.getRequestURI());\n+\n+                byte[] req;\n+                try (InputStream is = t.getRequestBody()) {\n+                    req = is.readAllBytes();\n+                }\n+\n+                \/\/ we're not expecting a request body.\n+                \/\/ if we receive any, pretend we're a teapot.\n+                int status = req.length == 0 ? 200 : 418;\n+                t.sendResponseHeaders(status, -1); \/\/ chunked\/variable\n+                try (OutputStream os = t.getResponseBody()) {\n+                    \/\/ lets split the response in several chunks...\n+                    String msg = (req != null && req.length != 0)\n+                            ? new String(req, UTF_8)\n+                            : BODY;\n+                    String[] str = msg.split(\"\\\\|\");\n+                    for (var s : str) {\n+                        req = s.getBytes(UTF_8);\n+                        os.write(req);\n+                        os.flush();\n+                        out.printf(\"Server wrote %d bytes%n\", req.length);\n+                        try {\n+                            Thread.sleep(SERVER_LATENCY);\n+                        } catch (InterruptedException x) {\n+                            \/\/ OK\n+                        }\n+                    }\n+                }\n+            } catch (Throwable e) {\n+                out.println(\"HTTPSlowHandler: unexpected exception: \" + e);\n+                e.printStackTrace();\n+                throw e;\n+            } finally {\n+                out.printf(\"HTTPSlowHandler reply sent: %s%n\", t.getRequestURI());\n+                System.err.printf(\"HTTPSlowHandler reply sent: %s%n\", t.getRequestURI());\n+            }\n+        }\n+    }\n+\n+}\n","filename":"test\/jdk\/java\/net\/httpclient\/CancelStreamedBodyTest.java","additions":450,"deletions":0,"binary":false,"changes":450,"status":"added"},{"patch":"@@ -34,0 +34,1 @@\n+import java.util.Objects;\n@@ -64,0 +65,5 @@\n+    public StringBuilder diagnose(Tracker tracker, StringBuilder warnings, Predicate<Tracker> hasOutstanding) {\n+        checkOutstandingOperations(warnings, tracker, hasOutstanding);\n+        return warnings;\n+    }\n+\n@@ -66,1 +72,1 @@\n-            checkOutstandingOperations(warnings, tracker, hasOutstanding);\n+            diagnose(tracker, warnings, hasOutstanding);\n@@ -75,0 +81,4 @@\n+    public boolean hasOutstandingSubscribers() {\n+        return TRACKERS.stream().anyMatch(t -> t.getOutstandingSubscribers() > 0);\n+    }\n+\n@@ -89,0 +99,10 @@\n+    public AssertionError check(Tracker tracker, long graceDelayMs) {\n+        Predicate<Tracker> hasOperations = (t) -> t.getOutstandingOperations() > 0;\n+        Predicate<Tracker> hasSubscribers = (t) -> t.getOutstandingSubscribers() > 0;\n+        return check(tracker, graceDelayMs,\n+                hasOperations.or(hasSubscribers)\n+                        .or(Tracker::isFacadeReferenced)\n+                        .or(Tracker::isSelectorAlive),\n+                \"outstanding operations or unreleased resources\", false);\n+    }\n+\n@@ -90,0 +110,2 @@\n+        Predicate<Tracker> hasOperations = (t) -> t.getOutstandingOperations() > 0;\n+        Predicate<Tracker> hasSubscribers = (t) -> t.getOutstandingSubscribers() > 0;\n@@ -91,2 +113,4 @@\n-                (t) -> t.getOutstandingHttpOperations() > 0,\n-                \"outstanding operations\", true);\n+                hasOperations.or(hasSubscribers)\n+                .or(Tracker::isFacadeReferenced)\n+                .or(Tracker::isSelectorAlive),\n+        \"outstanding operations or unreleased resources\", true);\n@@ -176,0 +200,43 @@\n+    public Tracker getTracker(HttpClient client) {\n+        return OperationTrackers.getTracker(Objects.requireNonNull(client));\n+    }\n+\n+    public AssertionError check(Tracker tracker,\n+                                long graceDelayMs,\n+                                Predicate<Tracker> hasOutstanding,\n+                                String description,\n+                                boolean printThreads) {\n+        AssertionError fail = null;\n+        graceDelayMs = Math.max(graceDelayMs, 100);\n+        long delay = Math.min(graceDelayMs, 10);\n+        var count = delay > 0 ? graceDelayMs \/ delay : 1;\n+        for (int i = 0; i < count; i++) {\n+            if (hasOutstanding.test(tracker)) {\n+                System.gc();\n+                try {\n+                    if (i == 0) {\n+                        System.out.println(\"Waiting for HTTP operations to terminate...\");\n+                    }\n+                    Thread.sleep(Math.min(graceDelayMs, Math.max(delay, 1)));\n+                } catch (InterruptedException x) {\n+                    \/\/ OK\n+                }\n+            } else break;\n+        }\n+        if (hasOutstanding.test(tracker)) {\n+            StringBuilder warnings = diagnose(tracker, new StringBuilder(), hasOutstanding);\n+            if (hasOutstanding.test(tracker)) {\n+                fail = new AssertionError(warnings.toString());\n+            }\n+        } else {\n+            System.out.println(\"PASSED: No \" + description + \" found in \" + tracker.getName());\n+        }\n+        if (fail != null) {\n+            if (printThreads && tracker.isSelectorAlive()) {\n+                printThreads(\"Some selector manager threads are still alive: \", System.out);\n+                printThreads(\"Some selector manager threads are still alive: \", System.err);\n+            }\n+        }\n+        return fail;\n+    }\n+\n@@ -246,0 +313,1 @@\n+            warning.append(\"\\n\\tPending Subscribers: \" + tracker.getOutstandingSubscribers());\n@@ -270,0 +338,1 @@\n+        Predicate<Tracker> hasPendingSubscribers = (t) -> t.getOutstandingSubscribers() > 0;\n@@ -271,1 +340,3 @@\n-                isAlive.or(hasPendingRequests).or(hasPendingConnections),\n+                isAlive.or(hasPendingRequests)\n+                        .or(hasPendingConnections)\n+                        .or(hasPendingSubscribers),\n","filename":"test\/jdk\/java\/net\/httpclient\/ReferenceTracker.java","additions":75,"deletions":4,"binary":false,"changes":79,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -24,0 +24,2 @@\n+import java.lang.ref.Reference;\n+import java.lang.ref.WeakReference;\n@@ -38,0 +40,2 @@\n+import java.util.concurrent.TimeUnit;\n+\n@@ -82,0 +86,1 @@\n+        Reference<HttpClient> reference = new WeakReference<>(client);\n@@ -154,0 +159,1 @@\n+\n@@ -157,1 +163,2 @@\n-                        HttpResponse<?> r = client.send(req, BodyHandlers.replacing(null));\n+                        HttpClient httpClient = reference.get();\n+                        HttpResponse<?> r = httpClient.send(req, BodyHandlers.replacing(null));\n@@ -176,1 +183,2 @@\n-            executor.shutdownNow();\n+            \/\/ shuts down the executor and awaits its termination\n+            executor.close();\n@@ -185,0 +193,3 @@\n+            Reference.reachabilityFence(client);\n+            client = null;\n+            System.gc();\n@@ -186,1 +197,1 @@\n-                Thread.sleep(100);\n+                Thread.sleep(10);\n","filename":"test\/jdk\/java\/net\/httpclient\/SmallTimeout.java","additions":15,"deletions":4,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2018, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2018, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -69,1 +69,1 @@\n-                .uri(URI.create(\"http:\/\/openjdk.java.net\/\"))\n+                .uri(URI.create(\"https:\/\/openjdk.org\/\"))\n@@ -86,1 +86,1 @@\n-                .uri(URI.create(\"http:\/\/openjdk.java.net\/\"))\n+                .uri(URI.create(\"https:\/\/openjdk.org\/\"))\n@@ -118,1 +118,1 @@\n-                .uri(URI.create(\"http:\/\/openjdk.java.net\/notFound\"))\n+                .uri(URI.create(\"https:\/\/openjdk.org\/notFound\"))\n@@ -139,1 +139,1 @@\n-                .uri(URI.create(\"http:\/\/openjdk.java.net\/echo\"))\n+                .uri(URI.create(\"https:\/\/openjdk.org\/echo\"))\n@@ -159,1 +159,1 @@\n-                .uri(URI.create(\"http:\/\/openjdk.java.net\/echo\"))\n+                .uri(URI.create(\"https:\/\/openjdk.org\/echo\"))\n","filename":"test\/jdk\/java\/net\/httpclient\/offline\/OfflineTesting.java","additions":6,"deletions":6,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -460,1 +460,1 @@\n-            this.key = ConnectionPool.cacheKey(address, proxy);\n+            this.key = ConnectionPool.cacheKey(secured, address, proxy);\n","filename":"test\/jdk\/java\/net\/httpclient\/whitebox\/java.net.http\/jdk\/internal\/net\/http\/ConnectionPoolTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -147,1 +147,1 @@\n-                if (!e.getMessage().contains(\"Current location of the bytebuffer \"\n+                if (!e.getMessage().contains(\"Current position of the bytebuffer \"\n","filename":"test\/jdk\/java\/nio\/channels\/FileChannel\/directio\/ReadDirect.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -104,1 +104,1 @@\n-                if (!e.getMessage().contains(\"Current location of the bytebuffer \"\n+                if (!e.getMessage().contains(\"Current position of the bytebuffer \"\n","filename":"test\/jdk\/java\/nio\/channels\/FileChannel\/directio\/WriteDirect.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n- * @bug 8155246 8292297\n+ * @bug 8155246 8292297 8292177\n@@ -45,0 +45,8 @@\n+    private static final String EXPECTED_DEBUG_OUTPUT =\n+        \"Initial security property: crypto.policy=unlimited\";\n+\n+    private static final String UNEXPECTED_DEBUG_OUTPUT =\n+            \"Initial security property: postInitTest=shouldNotRecord\";\n+\n+    private static boolean overrideDetected = false;\n+\n@@ -55,0 +63,1 @@\n+            Security.setProperty(\"postInitTest\", \"shouldNotRecord\");\n@@ -102,0 +111,4 @@\n+\n+            if (!overrideDetected) {\n+                throw new RuntimeException(\"Override scenario not seen\");\n+            }\n@@ -108,1 +121,16 @@\n-        oa.shouldHaveExitValue(exitCode).shouldContain(output);\n+        oa.shouldHaveExitValue(exitCode)\n+                .shouldContain(output);\n+\n+        \/\/ extra checks on debug output\n+        if (exitCode != 1) {\n+            if (oa.getStderr().contains(\"overriding other security properties files!\")) {\n+                overrideDetected = true;\n+                \/\/ master file is not in use - only provider properties are set in custom file\n+                oa.shouldContain(\"security.provider.2=SunRsaSign\")\n+                        .shouldNotContain(EXPECTED_DEBUG_OUTPUT)\n+                        .shouldNotContain(UNEXPECTED_DEBUG_OUTPUT);\n+            } else {\n+                oa.shouldContain(EXPECTED_DEBUG_OUTPUT)\n+                        .shouldNotContain(UNEXPECTED_DEBUG_OUTPUT);\n+            }\n+        }\n","filename":"test\/jdk\/java\/security\/Security\/ConfigFileTest.java","additions":30,"deletions":2,"binary":false,"changes":32,"status":"modified"},{"patch":"@@ -25,1 +25,1 @@\n- * @bug 8177552 8217721 8222756\n+ * @bug 8177552 8217721 8222756 8295372\n@@ -84,0 +84,15 @@\n+    private static final NumberFormat FORMAT_ES_LONG_FD1 = NumberFormat\n+            .getCompactNumberInstance(Locale.of(\"es\"), NumberFormat.Style.LONG);\n+    private static final NumberFormat FORMAT_DE_LONG_FD2 = NumberFormat\n+            .getCompactNumberInstance(Locale.GERMAN, NumberFormat.Style.LONG);\n+    private static final NumberFormat FORMAT_IT_LONG_FD3 = NumberFormat\n+            .getCompactNumberInstance(Locale.ITALIAN, NumberFormat.Style.LONG);\n+    private static final NumberFormat FORMAT_PT_LONG_FD4 = NumberFormat\n+            .getCompactNumberInstance(Locale.of(\"pt\"), NumberFormat.Style.LONG);\n+    static {\n+        FORMAT_ES_LONG_FD1.setMaximumFractionDigits(1);\n+        FORMAT_DE_LONG_FD2.setMaximumFractionDigits(2);\n+        FORMAT_IT_LONG_FD3.setMaximumFractionDigits(3);\n+        FORMAT_PT_LONG_FD4.setMaximumFractionDigits(4);\n+    }\n+\n@@ -342,0 +357,5 @@\n+            \/\/ Fractional plurals\n+            {FORMAT_ES_LONG_FD1, 1_234_500, \"1,2 millones\"},\n+            {FORMAT_DE_LONG_FD2, 1_234_500, \"1,23 Millionen\"},\n+            {FORMAT_IT_LONG_FD3, 1_234_500, \"1,234 milioni\"},\n+            {FORMAT_PT_LONG_FD4, 1_234_500, \"1,2345 milh\\u00f5es\"},\n@@ -444,0 +464,5 @@\n+                \/\/ Fractional plurals\n+                {FORMAT_ES_LONG_FD1, \"1,2 millones\", 1_200_000L, Long.class},\n+                {FORMAT_DE_LONG_FD2, \"1,23 Millionen\", 1_230_000L, Long.class},\n+                {FORMAT_IT_LONG_FD3, \"1,234 milioni\", 1_234_000L, Long.class},\n+                {FORMAT_PT_LONG_FD4, \"1,2345 milh\\u00f5es\", 1_234_500L, Long.class},\n@@ -450,1 +475,1 @@\n-            \/\/ compact number instance, string to parse, null (no o\/p; must throws exception)\n+            \/\/ compact number instance, string to parse, null (no o\/p; must throw exception)\n","filename":"test\/jdk\/java\/text\/Format\/CompactNumberFormat\/TestCompactNumber.java","additions":27,"deletions":2,"binary":false,"changes":29,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -149,1 +149,1 @@\n-        \/\/ https:\/\/bugs.openjdk.java.net\/browse\/JDK-8222187\n+        \/\/ https:\/\/bugs.openjdk.org\/browse\/JDK-8222187\n","filename":"test\/jdk\/java\/util\/Base64\/TestBase64.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -94,1 +94,7 @@\n-        Assert.assertTrue(badParallelStreamError >= jdkParallelStreamError);\n+        \/*\n+         * Due to floating-point addition being inherently non-associative,\n+         * and due to the unpredictable scheduling of the threads used\n+         * in parallel streams, this assertion can fail intermittently,\n+         * hence is suppressed for now.\n+         *\/\n+        \/\/ Assert.assertTrue(badParallelStreamError >= jdkParallelStreamError);\n@@ -147,1 +153,1 @@\n-}\n\\ No newline at end of file\n+}\n","filename":"test\/jdk\/java\/util\/DoubleStreamSums\/CompensatedSums.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -56,1 +56,1 @@\n-            \/\/ LockSupport.park: https:\/\/bugs.openjdk.java.net\/browse\/JDK-8074773\n+            \/\/ LockSupport.park: https:\/\/bugs.openjdk.org\/browse\/JDK-8074773\n@@ -87,1 +87,1 @@\n-            \/\/ LockSupport.park: https:\/\/bugs.openjdk.java.net\/browse\/JDK-8074773\n+            \/\/ LockSupport.park: https:\/\/bugs.openjdk.org\/browse\/JDK-8074773\n","filename":"test\/jdk\/java\/util\/concurrent\/locks\/LockSupport\/ParkLoops.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -944,1 +944,1 @@\n-     * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8188900\n+     * https:\/\/bugs.openjdk.org\/browse\/JDK-8188900\n@@ -1001,1 +1001,1 @@\n-     * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8189387\n+     * https:\/\/bugs.openjdk.org\/browse\/JDK-8189387\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/ConcurrentLinkedDequeTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -290,1 +290,1 @@\n-     *   See: http:\/\/openjdk.java.net\/jtreg\/tag-spec.html\n+     *   See: https:\/\/openjdk.org\/jtreg\/tag-spec.html\n@@ -772,1 +772,1 @@\n-     * http:\/\/openjdk.java.net\/jtreg\/command-help.html\n+     * https:\/\/openjdk.org\/jtreg\/command-help.html\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/JSR166TestCase.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -57,1 +57,1 @@\n-        \/\/ LockSupport.park: https:\/\/bugs.openjdk.java.net\/browse\/JDK-8074773\n+        \/\/ LockSupport.park: https:\/\/bugs.openjdk.org\/browse\/JDK-8074773\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/LockSupportTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -124,1 +124,1 @@\n-     * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8186171\n+     * https:\/\/bugs.openjdk.org\/browse\/JDK-8186171\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/MapTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1340,1 +1340,1 @@\n-     * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8051859\n+     * https:\/\/bugs.openjdk.org\/browse\/JDK-8051859\n","filename":"test\/jdk\/java\/util\/concurrent\/tck\/ScheduledExecutorTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -209,1 +209,1 @@\n-        \/\/ See <https:\/\/bugs.openjdk.java.net\/browse\/JDK-8065709?focusedCommentId=13582038&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13582038>\n+        \/\/ See <https:\/\/bugs.openjdk.org\/browse\/JDK-8065709?focusedCommentId=13582038&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13582038>\n","filename":"test\/jdk\/java\/util\/logging\/LogManagerAppContextDeadlock.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -101,1 +101,2 @@\n-                \"-Dcom.sun.jndi.ldap.object.trustSerialData=true\");\n+                \"-Dcom.sun.jndi.ldap.object.trustSerialData=true\",\n+                \"-Djdk.jndi.ldap.object.factoriesFilter=org.example.fruit.FruitFactory\");\n","filename":"test\/jdk\/javax\/naming\/module\/RunBasic.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2022, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -75,1 +75,1 @@\n-        ImageIcon i = new ImageIcon(\"https:\/\/openjdk.java.net\/images\/openjdk.png\");\n+        ImageIcon i = new ImageIcon(\"https:\/\/openjdk.org\/images\/openjdk.png\");\n","filename":"test\/jdk\/javax\/swing\/ImageIcon\/LoadInterruptTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -31,1 +31,1 @@\n- * @run     main CustomComboBoxFocusTest\n+ * @run     main\/othervm -Dsun.java2d.uiScale=1 CustomComboBoxFocusTest\n@@ -35,1 +35,0 @@\n-import java.awt.Component;\n@@ -37,0 +36,1 @@\n+import java.awt.Component;\n@@ -47,1 +47,0 @@\n-import java.lang.reflect.InvocationTargetException;\n@@ -49,0 +48,1 @@\n+\n","filename":"test\/jdk\/javax\/swing\/plaf\/aqua\/CustomComboBoxFocusTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -0,0 +1,95 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/* @test\n+   @bug 4820080\n+   @summary RFE: Cannot Change the JSplitPane Divider Color while dragging\n+   @key headful\n+   @library \/java\/awt\/regtesthelpers\n+   @build PassFailJFrame\n+   @run main\/manual TestNimbusDividerDragColor\n+*\/\n+\n+import java.awt.Color;\n+import java.awt.Panel;\n+import javax.swing.Box;\n+import javax.swing.BoxLayout;\n+import javax.swing.JFrame;\n+import javax.swing.JPanel;\n+import javax.swing.JSeparator;\n+import javax.swing.JSplitPane;\n+import javax.swing.SwingUtilities;\n+import javax.swing.UIManager;\n+\n+public class TestNimbusDividerDragColor {\n+\n+    private static JFrame frame;\n+\n+    private static final String INSTRUCTIONS =\n+        \"Drag the dividers of the splitpanes (both top and bottom).\\n \" +\n+        \" If the divider color is green while dragging\\n \" +\n+        \" then test passes, otherwise test fails\";\n+\n+    public static void init() {\n+        UIManager.put(\"SplitPaneDivider.draggingColor\", Color.green);\n+\n+        frame = new JFrame();\n+        Box box = new Box(BoxLayout.Y_AXIS);\n+        frame.getContentPane().add(box);\n+\n+        JPanel jleft = new JPanel();\n+        jleft.setBackground(Color.darkGray);\n+        JPanel jright = new JPanel();\n+        jright.setBackground(Color.darkGray);\n+        JSplitPane jsp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, jleft, jright);\n+        jsp.setContinuousLayout(false);\n+        box.add(jsp);\n+\n+        box.add(Box.createVerticalStrut(5));\n+        box.add(new JSeparator());\n+        box.add(Box.createVerticalStrut(5));\n+\n+        Panel left = new Panel();\n+        left.setBackground(Color.darkGray);\n+        Panel right = new Panel();\n+        right.setBackground(Color.darkGray);\n+        JSplitPane sp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, left, right);\n+        sp.setContinuousLayout(false);\n+        box.add(sp);\n+        frame.add(box);\n+        frame.setSize(200, 200);\n+        frame.setVisible(true);\n+    }\n+\n+\n+    public static void main(String[] argv) throws Exception {\n+        UIManager.setLookAndFeel(\"javax.swing.plaf.nimbus.NimbusLookAndFeel\");\n+        PassFailJFrame passFailJFrame = new PassFailJFrame(\n+                \"JFileChooser Test Instructions\", INSTRUCTIONS, 5);\n+        SwingUtilities.invokeAndWait(() -> init());\n+        PassFailJFrame.addTestWindow(frame);\n+        PassFailJFrame.positionTestWindow(\n+                frame, PassFailJFrame.Position.HORIZONTAL);\n+        passFailJFrame.awaitAndCheck();\n+    }\n+}\n","filename":"test\/jdk\/javax\/swing\/plaf\/nimbus\/TestNimbusDividerDragColor.java","additions":95,"deletions":0,"binary":false,"changes":95,"status":"added"},{"patch":"@@ -19,1 +19,1 @@\n- * https:\/\/bugs.openjdk.java.net\/browse\/JDK-6770436\n+ * https:\/\/bugs.openjdk.org\/browse\/JDK-6770436\n","filename":"test\/jdk\/javax\/xml\/jaxp\/testng\/parse\/EntityCharacterEventOrder.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,23 @@\n+\/*\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n@@ -16,1 +39,1 @@\n- * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8059327\n+ * https:\/\/bugs.openjdk.org\/browse\/JDK-8059327\n@@ -20,1 +43,1 @@\n- * https:\/\/bugs.openjdk.java.net\/browse\/JDK-8061550\n+ * https:\/\/bugs.openjdk.org\/browse\/JDK-8061550\n","filename":"test\/jdk\/javax\/xml\/jaxp\/testng\/parse\/XMLEntityScannerLoad.java","additions":25,"deletions":2,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n- * https:\/\/bugs.openjdk.java.net\/browse\/JDK-7156085\n+ * https:\/\/bugs.openjdk.org\/browse\/JDK-7156085\n","filename":"test\/jdk\/javax\/xml\/jaxp\/testng\/parse\/jdk7156085\/UTF8ReaderBug.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -71,1 +71,1 @@\n-        r.enable(EventNames.JitRestart);\n+        r.enable(EventNames.JITRestart);\n@@ -94,1 +94,1 @@\n-            if (evt.getEventType().getName().equals(\"jdk.JitRestart\")) {\n+            if (evt.getEventType().getName().equals(\"jdk.JITRestart\")) {\n","filename":"test\/jdk\/jdk\/jfr\/event\/compiler\/TestJitRestart.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -255,0 +255,1 @@\n+        settingValues.put(EventNames.InitialSecurityProperty + \"#threshold\", \"0 ns\");\n","filename":"test\/jdk\/jdk\/jfr\/event\/runtime\/TestActiveSettingEvent.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -0,0 +1,79 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package jdk.jfr.event.security;\n+\n+import jdk.internal.access.SharedSecrets;\n+import jdk.jfr.Recording;\n+import jdk.jfr.consumer.RecordedEvent;\n+import jdk.test.lib.Asserts;\n+import jdk.test.lib.jfr.EventNames;\n+import jdk.test.lib.jfr.Events;\n+\n+import java.security.Security;\n+import java.util.List;\n+import java.util.Properties;\n+\n+\/*\n+ * @test\n+ * @bug 8292177\n+ * @summary InitialSecurityProperty JFR event\n+ * @key jfr\n+ * @requires vm.hasJFR\n+ * @library \/test\/lib\n+ * @modules java.base\/jdk.internal.access\n+ * @run main\/othervm jdk.jfr.event.security.TestInitialSecurityPropertyEvent\n+ *\/\n+public class TestInitialSecurityPropertyEvent {\n+\n+    private static final String SEC_KEY = \"security.overridePropertiesFile\";\n+    public static void main(String[] args) throws Exception {\n+        try (Recording recording = new Recording()) {\n+            recording.enable(EventNames.InitialSecurityProperty)\n+                    .with(\"period\", \"beginChunk\");\n+            recording.start();\n+            \/\/ this property edit should not be recorded\n+            Security.setProperty(SEC_KEY, \"false\");\n+            recording.stop();\n+\n+            Properties p = SharedSecrets.getJavaSecurityPropertiesAccess().getInitialProperties();\n+            List<RecordedEvent> events = Events.fromRecording(recording);\n+            if (events.size() == 0) {\n+                throw new Exception(\"No security properties - Security class may not have loaded ?\");\n+            }\n+            Asserts.assertEquals(events.size(), p.size(), \"Incorrect number of events\");\n+            assertEvent(events, SEC_KEY, \"true\");\n+        }\n+    }\n+\n+    private static void assertEvent(List<RecordedEvent> events, String key, String origValue) throws Exception {\n+        for (RecordedEvent e : events) {\n+            if (e.getString(\"key\").equals(key)) {\n+                Events.assertField(e, \"value\").equal(origValue);\n+                return;\n+            }\n+        }\n+        System.out.println(events);\n+        throw new Exception(\"Incorrect value for \" + key + \" property recorded\");\n+    }\n+}\n","filename":"test\/jdk\/jdk\/jfr\/event\/security\/TestInitialSecurityPropertyEvent.java","additions":79,"deletions":0,"binary":false,"changes":79,"status":"added"},{"patch":"@@ -1,69 +0,0 @@\n-\/*\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n- * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n- *\n- * This code is free software; you can redistribute it and\/or modify it\n- * under the terms of the GNU General Public License version 2 only, as\n- * published by the Free Software Foundation.\n- *\n- * This code is distributed in the hope that it will be useful, but WITHOUT\n- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n- * version 2 for more details (a copy is included in the LICENSE file that\n- * accompanied this code).\n- *\n- * You should have received a copy of the GNU General Public License version\n- * 2 along with this work; if not, write to the Free Software Foundation,\n- * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n- *\n- * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n- * or visit www.oracle.com if you need additional information or have any\n- * questions.\n- *\/\n-\n-\/**\n- * @test\n- * @bug 8157032\n- * @key jfr\n- * @summary verify that jfr can not be used when JVM is executed only with java.base\n- * @requires vm.hasJFR & !vm.graal.enabled\n- * @library \/test\/lib\n- * @modules java.base\/jdk.internal.misc\n- * @run driver jdk.jfr.jvm.TestJfrJavaBase\n- *\/\n-\n-package jdk.jfr.jvm;\n-\n-\n-import jdk.test.lib.dcmd.PidJcmdExecutor;\n-import jdk.test.lib.process.OutputAnalyzer;\n-import jdk.test.lib.process.ProcessTools;\n-\n-public class TestJfrJavaBase {\n-\n-    private static void checkOutput(OutputAnalyzer output) {\n-        output.shouldContain(\"Module jdk.jfr not found.\");\n-        output.shouldContain(\"Flight Recorder can not be enabled.\");\n-    }\n-\n-    public static void main(String[] args) throws Exception {\n-        OutputAnalyzer output;\n-        if (args.length == 0) {\n-            output = ProcessTools.executeProcess(ProcessTools.createJavaProcessBuilder(\n-                \"-Dtest.jdk=\" + System.getProperty(\"test.jdk\"),\n-                \"--limit-modules\", \"java.base\", \"-cp\", System.getProperty(\"java.class.path\"),\n-                TestJfrJavaBase.class.getName(), \"runtest\"));\n-            output.shouldHaveExitValue(0);\n-        } else {\n-            output = ProcessTools.executeTestJava(\"-XX:StartFlightRecording:dumponexit=true\",\n-                \"--limit-modules\", \"java.base\", \"-version\");\n-            checkOutput(output);\n-            output.shouldHaveExitValue(1);\n-\n-            \/\/ Verify that JFR.start jcmd command reports an error when jdk.jfr module is not available\n-            output = new PidJcmdExecutor().execute(\"JFR.start\");\n-            checkOutput(output);\n-            output.shouldHaveExitValue(0);\n-        }\n-    }\n-}\n","filename":"test\/jdk\/jdk\/jfr\/jvm\/TestJfrJavaBase.java","additions":0,"deletions":69,"binary":false,"changes":69,"status":"deleted"},{"patch":"@@ -0,0 +1,184 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package jdk.jfr.jvm;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.spi.ToolProvider;\n+\n+import jdk.test.lib.JDKToolFinder;\n+import jdk.test.lib.Platform;\n+import jdk.test.lib.process.OutputAnalyzer;\n+import jdk.test.lib.process.ProcessTools;\n+\n+\/**\n+ * @test\n+ * @key jfr\n+ * @summary Checks that a JDK image with and without the jdk.jfr module behaves\n+ *          as expected\n+ * @requires vm.hasJFR\n+ * @library \/test\/lib\n+ * @run driver jdk.jfr.jvm.TestModularImage\n+ *\/\n+public class TestModularImage {\n+    private static final String STARTED_RECORDING = \"Started recording\";\n+    private static final String HELLO_WORLD = \"hello, world\";\n+    private static final String ERROR_LINE1 = \"Error occurred during initialization of boot layer\";\n+    private static final String ERROR_LINE2 = \"java.lang.module.FindException: Module jdk.jfr not found\";\n+\n+    private static final ToolProvider javac = find(\"javac\");\n+    private static final ToolProvider jlink = find(\"jlink\");\n+\n+    private static final Path out = Path.of(\"out\");\n+    private static final Path src = out.resolve(\"src\");\n+    private static final Path classes = out.resolve(\"classes\");\n+\n+    private static final Path testJDK = Path.of(System.getProperty(\"test.jdk\"));\n+    private static final Path jmods = testJDK.resolve(\"jmods\");\n+\n+    private static final String modulePath = jmods.toString() + File.pathSeparator + classes.toString();\n+\n+    public static void main(String[] args) throws Exception {\n+        preparseSourceTree();\n+        compileSourceCode();\n+\n+        \/\/ Jcmd for the current JVM where jdk.attach module is available\n+        String currentJcmd = JDKToolFinder.getJDKTool(\"jcmd\");\n+        currentJcmd = Path.of(currentJcmd).normalize().toAbsolutePath().toString();\n+\n+        \/\/ Image 1: Should be able to start JFR if jdk.jfr module is present\n+        Path javaBin1 = jlink(\"hello.world,jdk.jfr\", \"with-jfr\");\n+        testCommandLineWithJFR(javaBin1);\n+        testJcmdWithJFR(javaBin1, currentJcmd);\n+\n+        \/\/ Image 2: Should fail if jdk.jfr module is not present\n+        Path javaBin2 = jlink(\"hello.world\", \"without-jfr\");\n+        testCommandLineWithoutJFR(javaBin2);\n+        testJcmdWithoutJFR(javaBin2, currentJcmd);\n+    }\n+\n+    private static void testCommandLineWithJFR(Path binPath) throws Exception {\n+        var result = java(binPath, \"-XX:StartFlightRecording\", \"--module\", \"hello.world\/hello.Main\");\n+        result.shouldNotContain(ERROR_LINE1);\n+        result.shouldNotContain(ERROR_LINE2);\n+        result.shouldContain(HELLO_WORLD);\n+        result.shouldContain(STARTED_RECORDING);\n+        result.shouldHaveExitValue(0);\n+    }\n+\n+    private static void testJcmdWithJFR(Path binPath, String jcmd) throws Exception {\n+        var result = java(binPath, \"--module\", \"hello.world\/hello.Main\", jcmd);\n+        result.shouldContain(HELLO_WORLD);\n+        result.shouldNotContain(ERROR_LINE1);\n+        result.shouldNotContain(ERROR_LINE2);\n+        result.shouldContain(STARTED_RECORDING);\n+        result.shouldHaveExitValue(0);\n+    }\n+\n+    private static void testCommandLineWithoutJFR(Path binPath) throws Exception {\n+        var result = java(binPath, \"-XX:StartFlightRecording\", \"--module\", \"hello.world\/hello.Main\");\n+        result.shouldContain(ERROR_LINE1);\n+        result.shouldContain(ERROR_LINE2);\n+        result.shouldNotContain(HELLO_WORLD);\n+        result.shouldNotContain(STARTED_RECORDING);\n+        result.shouldHaveExitValue(1);\n+    }\n+\n+    private static void testJcmdWithoutJFR(Path binPath, String jcmd) throws Exception {\n+        OutputAnalyzer result = java(binPath, \"--module\", \"hello.world\/hello.Main\", jcmd);\n+        result.shouldContain(HELLO_WORLD);\n+        result.shouldContain(\"Module jdk.jfr not found.\");\n+        result.shouldContain(\"Flight Recorder can not be enabled.\");\n+        result.shouldNotContain(STARTED_RECORDING);\n+        result.shouldHaveExitValue(0);\n+    }\n+\n+    private static ToolProvider find(String tool) {\n+        return ToolProvider.findFirst(tool).orElseThrow(() -> new RuntimeException(\"No \" + tool));\n+    }\n+\n+    private static void preparseSourceTree() throws IOException {\n+        String main =\n+        \"\"\"\n+        package hello;\n+        import java.io.ByteArrayOutputStream;\n+        public class Main {\n+          public static void main(String... args) throws Exception {\n+            System.out.println(\"hello, world!\");\n+            if (args.length > 0) {\n+              long pid = ProcessHandle.current().pid();\n+              String jcmd = args[0];\n+              String[] cmds = { jcmd, Long.toString(pid), \"JFR.start\" };\n+              Process process = new ProcessBuilder(cmds).redirectErrorStream(true).start();\n+              process.waitFor();\n+              var baos = new ByteArrayOutputStream();\n+              process.getInputStream().transferTo(baos);\n+              System.out.println(baos.toString());\n+              System.exit(process.exitValue());\n+            }\n+          }\n+        }\n+        \"\"\";\n+        String moduleInfo = \"module hello.world {}\";\n+        Path helloWorld = src.resolve(\"hello.world\");\n+        Files.createDirectories(helloWorld.resolve(\"hello\"));\n+        Files.write(helloWorld.resolve(\"module-info.java\"), moduleInfo.getBytes());\n+        Files.write(helloWorld.resolve(\"hello\").resolve(\"Main.java\"), main.getBytes());\n+    }\n+\n+    private static void compileSourceCode() {\n+        javac.run(System.out, System.err,\n+            \"--module-source-path\", src.toString(),\n+            \"--module\", \"hello.world\",\n+            \"-d\", classes.toString());\n+    }\n+\n+    private static Path jlink(String modules, String output) {\n+        jlink.run(System.out, System.err,\n+            \"--add-modules\", modules,\n+            \"--module-path\", modulePath,\n+            \"--output\", output);\n+        return Path.of(output).resolve(\"bin\").toAbsolutePath();\n+    }\n+\n+    private static OutputAnalyzer java(Path jvm, String... args) throws Exception {\n+        ProcessBuilder pb = new ProcessBuilder();\n+        String java = Platform.isWindows() ? \"java.exe\" : \"java\";\n+        List<String> arguments = new ArrayList<>();\n+        arguments.add(jvm.resolve(java).toString());\n+        arguments.addAll(Arrays.asList(args));\n+        pb.command(arguments);\n+        pb.directory(jvm.toFile());\n+        System.out.println(\"Executing: java \" + String.join(\" \", args));\n+        OutputAnalyzer result = ProcessTools.executeProcess(pb);\n+        System.out.println(\"--- Output ----\" + \"-\".repeat(65));\n+        System.out.println(result.getOutput());\n+        System.out.println(\"-\".repeat(80));\n+        return result;\n+    }\n+}\n","filename":"test\/jdk\/jdk\/jfr\/jvm\/TestModularImage.java","additions":184,"deletions":0,"binary":false,"changes":184,"status":"added"},{"patch":"@@ -4,1 +4,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -33,1 +33,1 @@\n-\/\/ TODO: Remove this once https:\/\/bugs.openjdk.java.net\/browse\/JDK-8151671 is fixed\n+\/\/ TODO: Remove this once https:\/\/bugs.openjdk.org\/browse\/JDK-8151671 is fixed\n","filename":"test\/jdk\/sanity\/client\/lib\/Extensions\/src\/org\/jtregext\/GuiTestListener.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-The content of this src folder was originally taken from openjdk SwingSet2 demo: http:\/\/hg.openjdk.java.net\/jdk\/jdk\/file\/2d5d75263e77\/src\/demo\/share\/jfc\/SwingSet2.\n+The content of this src folder was originally taken from openjdk SwingSet2 demo: https:\/\/git.openjdk.org\/jdk\/tree\/92ec4c5\/src\/demo\/share\/jfc\/SwingSet2.\n","filename":"test\/jdk\/sanity\/client\/lib\/SwingSet2\/README","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -1,1 +1,1 @@\n-This src folder contains a copy of Jemmy 2 library sources from http:\/\/hg.openjdk.java.net\/code-tools\/jemmy\/v2\r\n+This src folder contains a copy of Jemmy 2 library sources from https:\/\/git.openjdk.org\/jemmy-v2\r\n","filename":"test\/jdk\/sanity\/client\/lib\/jemmy\/README","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -30,0 +30,1 @@\n+import java.net.InetAddress;\n@@ -524,0 +525,1 @@\n+        final String loopback = InetAddress.getLoopbackAddress().getHostAddress();\n@@ -539,1 +541,2 @@\n-                System.out.println(\"*** Testing configuration (port=\" + port + \"): \" + path);\n+                System.out.println(\"*** Testing configuration (host= \" + loopback\n+                        + \" port=\" + port + \"): \" + path);\n@@ -542,0 +545,2 @@\n+                System.setProperty(\"com.sun.management.jmxremote.host\", loopback);\n+                System.setProperty(\"java.rmi.server.hostname\", loopback);\n","filename":"test\/jdk\/sun\/management\/jmxremote\/bootstrap\/RmiBootstrapTest.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8151788\n+ * @bug 8151788 8286526\n@@ -45,1 +45,1 @@\n-        byte[] nonce = new byte[10];\n+        byte[] nonce = new byte[8];\n","filename":"test\/jdk\/sun\/net\/www\/protocol\/http\/NULLTargetInfoTest.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -124,1 +124,1 @@\n-         [host_name: bugs.openjdk.java.net]\n+         [host_name: bugs.openjdk.org]\n","filename":"test\/jdk\/sun\/security\/ssl\/ServerHandshaker\/HelloExtensionsTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -8397,0 +8397,8 @@\n+\n+# bug # 8295564\n+FormatData\/nb\/latn.NumberElements\/0=,\n+FormatData\/nb\/latn.NumberElements\/1=\\u00a0\n+FormatData\/no\/latn.NumberElements\/0=,\n+FormatData\/no\/latn.NumberElements\/1=\\u00a0\n+FormatData\/nn\/latn.NumberElements\/0=,\n+FormatData\/nn\/latn.NumberElements\/1=\\u00a0\n","filename":"test\/jdk\/sun\/text\/resources\/LocaleData.cldr","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n- *      8251317 8274658 8283277 8283805 8265315 8287868\n+ *      8251317 8274658 8283277 8283805 8265315 8287868 8295564\n","filename":"test\/jdk\/sun\/text\/resources\/LocaleDataTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,0 +27,1 @@\n+ * @requires vm.jvmci\n","filename":"test\/jdk\/tools\/jlink\/plugins\/SaveJlinkArgfilesPluginTest.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -32,1 +32,1 @@\n-# $JT_BUNDLE_URL (Link can be obtained from https:\/\/openjdk.java.net\/jtreg\/ page)\n+# $JT_BUNDLE_URL (Link can be obtained from https:\/\/openjdk.org\/jtreg\/ page)\n@@ -234,1 +234,1 @@\n-    fatal 'JT_HOME or JT_BUNDLE_URL environment variable is not set. Link to JTREG bundle can be found at https:\/\/openjdk.java.net\/jtreg\/'.\n+    fatal 'JT_HOME or JT_BUNDLE_URL environment variable is not set. Link to JTREG bundle can be found at https:\/\/openjdk.org\/jtreg\/'.\n","filename":"test\/jdk\/tools\/jpackage\/run_tests.sh","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -60,1 +60,1 @@\n-    \/\/ @Test: See: https:\/\/bugs.openjdk.java.net\/browse\/JDK-8193107\n+    \/\/ @Test: See: https:\/\/bugs.openjdk.org\/browse\/JDK-8193107\n","filename":"test\/langtools\/jdk\/javadoc\/doclet\/testModules\/TestModulePackages.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,39 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug     7039014\n+ * @summary Confusing error message for method conflict\n+ *\n+ * @compile\/fail\/ref=T7039014.out -XDrawDiagnostics T7039014.java\n+ *\/\n+public class T7039014 {\n+\n+\/\/ Test 1: this should fail to compile\n+\n+    interface A1<T> {\n+        byte m(String x);\n+        char m(T x);\n+    }\n+\n+    interface B1 extends A1<String> {\n+    }\n+\n+\/\/ Test 2: this should fail to compile\n+\n+    interface A2<T> {\n+        default byte m(String x) { return 0; }\n+        char m(T x);\n+    }\n+\n+    interface B2 extends A2<String> {\n+    }\n+\n+\/\/ Test 3: this should compile\n+\n+    interface A3<T> {\n+        private byte m(String x) { return 0; }\n+        char m(T x);\n+    }\n+\n+    interface B3 extends A3<String> {\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/Diagnostics\/7039014\/T7039014.java","additions":39,"deletions":0,"binary":false,"changes":39,"status":"added"},{"patch":"@@ -0,0 +1,3 @@\n+T7039014.java:17:5: compiler.err.incompatible.diff.ret.same.type: T7039014.A1<java.lang.String>, m, java.lang.String\n+T7039014.java:27:5: compiler.err.incompatible.diff.ret.same.type: T7039014.A2<java.lang.String>, m, java.lang.String\n+2 errors\n","filename":"test\/langtools\/tools\/javac\/Diagnostics\/7039014\/T7039014.out","additions":3,"deletions":0,"binary":false,"changes":3,"status":"added"},{"patch":"@@ -0,0 +1,61 @@\n+\/**\n+ * @test \/nodynamiccopyright\/\n+ * @bug     8295024\n+ * @summary Cyclic constructor error is non-deterministic and inconsistent\n+ *\/\n+import java.io.*;\n+import java.net.*;\n+import java.util.*;\n+import java.util.stream.*;\n+import javax.tools.*;\n+public class T8295024 {\n+\n+    private static final int NUM_RUNS = 10;\n+    private static final String EXPECTED_ERROR = \"\"\"\n+        Cyclic.java:12:9: compiler.err.recursive.ctor.invocation\n+        1 error\n+        \"\"\";\n+    private static final String SOURCE = \"\"\"\n+        public class Cyclic {\n+            public Cyclic(int x) {\n+                this((float)x);\n+            }\n+            public Cyclic(float x) {\n+                this((long)x);\n+            }\n+            public Cyclic(long x) {\n+                this((double)x);\n+            }\n+            public Cyclic(double x) {\n+                this((int)x);\n+            \/\/  ^ error should be reported here every time\n+            }\n+        }\n+        \"\"\";\n+\n+    private static final SimpleJavaFileObject FILE = new SimpleJavaFileObject(\n+      URI.create(\"string:\/\/\/Cyclic.java\"), JavaFileObject.Kind.SOURCE) {\n+        @Override\n+        public String getCharContent(boolean ignoreEncodingErrors) {\n+            return  SOURCE;\n+        }\n+    };\n+\n+    public static void main(String[] args) throws Exception {\n+\n+        \/\/ Compile program NUM_RUNS times\n+        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n+        final StringWriter output = new StringWriter();\n+        final Iterable<String> options = Collections.singleton(\"-XDrawDiagnostics\");\n+        final Iterable<SimpleJavaFileObject> files = Collections.singleton(FILE);\n+        for (int i = 0; i < NUM_RUNS; i++)\n+            compiler.getTask(output, null, null, options, null, files).call();\n+\n+        \/\/ Verify consistent error report each time\n+        final String expected = IntStream.range(0, NUM_RUNS)\n+          .mapToObj(i -> EXPECTED_ERROR)\n+          .collect(Collectors.joining(\"\"));\n+        final String actual = output.toString().replaceAll(\"\\\\r\", \"\");\n+        assert expected.equals(actual) : \"EXPECTED:\\n\" + expected + \"ACTUAL:\\n\" + actual;\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/Diagnostics\/8295024\/T8295024.java","additions":61,"deletions":0,"binary":false,"changes":61,"status":"added"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2013, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2013, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -35,1 +35,1 @@\n- * Post https:\/\/bugs.openjdk.java.net\/browse\/JDK-8138729, this test verifies\n+ * Post https:\/\/bugs.openjdk.org\/browse\/JDK-8138729, this test verifies\n","filename":"test\/langtools\/tools\/javac\/MethodParameters\/LambdaTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -51,1 +51,1 @@\n- * Post https:\/\/bugs.openjdk.java.net\/browse\/JDK-8190452, the test verifies that MethodParameters\n+ * Post https:\/\/bugs.openjdk.org\/browse\/JDK-8190452, the test verifies that MethodParameters\n","filename":"test\/langtools\/tools\/javac\/MethodParameters\/LegacyOutputTest\/LegacyOutputTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -44,1 +44,1 @@\n-        \/\/ See https:\/\/bugs.openjdk.java.net\/browse\/JDK-8155858\n+        \/\/ See https:\/\/bugs.openjdk.org\/browse\/JDK-8155858\n","filename":"test\/langtools\/tools\/javac\/api\/ToolProvider\/ToolProviderTest.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,32 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/\/ key: compiler.err.incompatible.diff.ret.same.type\n+\n+interface A<T> {\n+    byte m(String x);\n+    char m(T x);\n+}\n+\n+interface B extends A<String> {\n+}\n","filename":"test\/langtools\/tools\/javac\/diags\/examples\/IncompatibleDiffRetSameType.java","additions":32,"deletions":0,"binary":false,"changes":32,"status":"added"},{"patch":"@@ -0,0 +1,82 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+\/*\n+ * @test\n+ * @bug 8295020\n+ * @summary javac emits incorrect code for for-each on an intersection type.\n+ * @run main CovariantIntersectIterator\n+ *\/\n+\n+import java.io.Serializable;\n+import java.util.Iterator;\n+\n+public class CovariantIntersectIterator {\n+\n+    public static void main(String... args) {\n+        int npeCount = 0;\n+        try {\n+            \/\/ JCEnhancedForLoop.expr's erased type is ALREADY an Iterable\n+            \/\/ iterator() comes from expr's erased type (MyIterable) and\n+            \/\/ is called using invokevirtual & returns a covariant type (MyIterable.MyIterator)\n+            for (Object s : (MyIterable & Serializable) null) {}\n+        } catch (NullPointerException e) {\n+            npeCount++;\n+        }\n+        try {\n+            \/\/ JCEnhancedForLoop.expr's erased type is NOT an Iterable\n+            \/\/ iterator() comes from Iterable (expr's erased type casted),\n+            \/\/ will be called by invokeinterface and return Iterator\n+            for (Object s : (MyIterableBase & Iterable<Object>) null) {}\n+        } catch (NullPointerException e) {\n+            npeCount++;\n+        }\n+        if (npeCount != 2) {\n+            throw new AssertionError(\"Expected NPE missing\");\n+        }\n+    }\n+\n+    abstract static class MyIterableBase {\n+        public abstract MyIterable.MyIterator iterator();\n+    }\n+\n+    static class MyIterable extends MyIterableBase implements Iterable<Object> {\n+\n+        class MyIterator implements Iterator<Object> {\n+\n+            public boolean hasNext() {\n+                return false;\n+            }\n+\n+            public Object next() {\n+                return null;\n+            }\n+\n+            public void remove() {}\n+        }\n+\n+        public MyIterator iterator() {\n+            return new MyIterator();\n+        }\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/foreach\/CovariantIntersectIterator.java","additions":82,"deletions":0,"binary":false,"changes":82,"status":"added"},{"patch":"@@ -1,1 +1,1 @@\n-T4717181c.java:15:21: compiler.err.types.incompatible: T4717181c.A<java.lang.Integer>, T4717181c.A<java.lang.Integer>, (compiler.misc.incompatible.diff.ret: f, java.lang.Integer)\n+T4717181c.java:15:21: compiler.err.incompatible.diff.ret.same.type: T4717181c.A<java.lang.Integer>, f, java.lang.Integer\n","filename":"test\/langtools\/tools\/javac\/generics\/abstract\/T4717181c.out","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -62,1 +62,1 @@\n-\/\/ snippet from https:\/\/bugs.openjdk.java.net\/browse\/JDK-8065303\n+\/\/ snippet from https:\/\/bugs.openjdk.org\/browse\/JDK-8065303\n","filename":"test\/langtools\/tools\/javac\/lambda\/MethodReferenceGenericTarget.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -0,0 +1,24 @@\n+\/*\n+ * @test \/nodynamiccopyright\/\n+ * @bug 8029633\n+ * @summary Raw inner class constructor ref should not perform diamond inference\n+ * @compile\/fail\/ref=MethodRefNewInnerRawTest.out -Werror -Xlint:unchecked -XDrawDiagnostics MethodRefNewInnerRawTest.java\n+ *\/\n+\n+import java.util.function.*;\n+\n+class MethodRefNewInnerRawTest<T> {\n+    class Inner1 {}\n+    class Inner2<U> {}\n+\n+    Supplier<MethodRefNewInnerRawTest.Inner1> s1 = MethodRefNewInnerRawTest.Inner1::new;\n+    Supplier<MethodRefNewInnerRawTest.Inner2> s2 = MethodRefNewInnerRawTest.Inner2::new;\n+    Supplier<MethodRefNewInnerRawTest<T>.Inner1> s3 = MethodRefNewInnerRawTest.Inner1::new;\n+    Supplier<MethodRefNewInnerRawTest<T>.Inner2<String>> s4 = MethodRefNewInnerRawTest.Inner2::new;\n+\n+    static class Outer {\n+        class Inner3<U> {}\n+\n+        Supplier<Outer.Inner3<String>> s5 = Outer.Inner3::new;\n+    }\n+}\n","filename":"test\/langtools\/tools\/javac\/lambda\/methodReference\/MethodRefNewInnerRawTest.java","additions":24,"deletions":0,"binary":false,"changes":24,"status":"added"},{"patch":"@@ -0,0 +1,5 @@\n+MethodRefNewInnerRawTest.java:16:55: compiler.warn.prob.found.req: (compiler.misc.unchecked.assign), MethodRefNewInnerRawTest.Inner1, MethodRefNewInnerRawTest<T>.Inner1\n+MethodRefNewInnerRawTest.java:17:63: compiler.warn.prob.found.req: (compiler.misc.unchecked.assign), MethodRefNewInnerRawTest.Inner2, MethodRefNewInnerRawTest<T>.Inner2<java.lang.String>\n+- compiler.err.warnings.and.werror\n+1 error\n+2 warnings\n","filename":"test\/langtools\/tools\/javac\/lambda\/methodReference\/MethodRefNewInnerRawTest.out","additions":5,"deletions":0,"binary":false,"changes":5,"status":"added"},{"patch":"@@ -4,1 +4,1 @@\n- * @summary Verify that javac rejects Java 8 program with --release 7\n+ * @summary Verify that javac rejects Java 17 program with --release 11\n@@ -6,0 +6,1 @@\n+ * @compile\/fail\/ref=ReleaseOption.out -XDrawDiagnostics --release 11 ReleaseOption.java\n@@ -8,1 +9,1 @@\n-interface ReleaseOption extends java.util.stream.Stream {\n+interface ReleaseOption extends java.util.random.RandomGenerator {\n","filename":"test\/langtools\/tools\/javac\/options\/release\/ReleaseOption.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -0,0 +1,2 @@\n+ReleaseOption.java:9:49: compiler.err.doesnt.exist: java.util.random\n+1 error\n","filename":"test\/langtools\/tools\/javac\/options\/release\/ReleaseOption.out","additions":2,"deletions":0,"binary":false,"changes":2,"status":"added"},{"patch":"@@ -53,1 +53,1 @@\n-            List<String> options = Arrays.asList(\"--release\", \"8\", \"-XDrawDiagnostics\", \"-Xlint:-options\");\n+            List<String> options = Arrays.asList(\"--release\", \"11\", \"-XDrawDiagnostics\", \"-d\", \".\");\n@@ -56,1 +56,3 @@\n-            String expected =\"\";\n+            String expected =\n+                    \"ReleaseOption.java:9:49: compiler.err.doesnt.exist: java.util.random\" + lineSep +\n+                    \"1 error\" + lineSep;\n","filename":"test\/langtools\/tools\/javac\/options\/release\/ReleaseOptionThroughAPI.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -87,1 +87,0 @@\n-        return \"\";\n","filename":"test\/langtools\/tools\/javac\/patterns\/EnumTypeChanges.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8262891 8268871 8274363 8281100\n+ * @bug 8262891 8268871 8274363 8281100 8294670\n@@ -405,1 +405,1 @@\n-                       };\n+                       }\n@@ -1013,0 +1013,1 @@\n+    @Test\n@@ -1059,0 +1060,113 @@\n+    @Test \/\/JDK-8294670\n+    public void testImplicitDefaultCannotCompleteNormally(Path base) throws Exception {\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b: return 1;\n+                       }\n+                   }\n+               }\n+               \"\"\");\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b: return 1;\n+                           default: return 1;\n+                       }\n+                   }\n+               }\n+               \"\"\");\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b: break;\n+                       }\n+                   }\n+               }\n+               \"\"\",\n+               \"Test.java:10:5: compiler.err.missing.ret.stmt\",\n+               \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n+               \"- compiler.note.preview.recompile\",\n+               \"1 error\");\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b: return 1;\n+                           default: break;\n+                       }\n+                   }\n+               }\n+               \"\"\",\n+               \"Test.java:11:5: compiler.err.missing.ret.stmt\",\n+               \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n+               \"- compiler.note.preview.recompile\",\n+               \"1 error\");\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b:\n+                       }\n+                   }\n+               }\n+               \"\"\",\n+               \"Test.java:10:5: compiler.err.missing.ret.stmt\",\n+               \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n+               \"- compiler.note.preview.recompile\",\n+               \"1 error\");\n+        doTest(base,\n+               new String[0],\n+               \"\"\"\n+               package test;\n+               public class Test {\n+                   sealed interface A {}\n+                   final class B implements A {}\n+\n+                   int test(A arg) {\n+                       switch (arg) {\n+                           case B b: return 1;\n+                           default:\n+                       }\n+                   }\n+               }\n+               \"\"\",\n+               \"Test.java:11:5: compiler.err.missing.ret.stmt\",\n+               \"- compiler.note.preview.filename: Test.java, DEFAULT\",\n+               \"- compiler.note.preview.recompile\",\n+               \"1 error\");\n+    }\n+\n","filename":"test\/langtools\/tools\/javac\/patterns\/Exhaustiveness.java","additions":116,"deletions":2,"binary":false,"changes":118,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8289249\n+ * @bug 8289249 8291914\n@@ -110,1 +110,1 @@\n-    @ExpectedPredicates(isCompact=true, isCanonical=true)\n+    @ExpectedPredicates(isCompact=false, isCanonical=true)\n","filename":"test\/langtools\/tools\/javac\/processing\/model\/util\/elements\/TestRecordPredicates.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -28,1 +28,1 @@\n- * @bug 8246353 8273257\n+ * @bug 8246353 8273257 8294550\n@@ -1149,0 +1149,13 @@\n+                \"\"\",\n+                \/\/JDK-8294550:\n+                \"\"\"\n+                interface I {}\n+                sealed class C permits D {}\n+                final class D extends C {}\n+\n+                class Test {\n+                    void test () {\n+                        C[] c = null;\n+                        I[] i = (I[]) c;\n+                    }\n+                }\n@@ -1237,0 +1250,11 @@\n+                \"\"\",\n+                \"\"\"\n+                sealed class C permits D {}\n+                final class D extends C {}\n+\n+                class Test {\n+                    void test () {\n+                        C[] c = null;\n+                        D[] d = (D[]) c;\n+                    }\n+                }\n","filename":"test\/langtools\/tools\/javac\/sealed\/SealedCompilationTests.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -96,1 +96,0 @@\n-        throw new AssertionError(String.valueOf(e));\n","filename":"test\/langtools\/tools\/javac\/switchnull\/SwitchNull.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8028756\n+ * @bug 8038756\n@@ -46,1 +46,0 @@\n-    private static final WhiteBox WHITE_BOX = WhiteBox.getWhiteBox();\n@@ -51,3 +50,0 @@\n-    private static final String METHOD = TEST_NAME + \"::method\";\n-    private static final String METHOD1 = METHOD + \"1\";\n-    private static final String METHOD2 = METHOD + \"2\";\n@@ -56,13 +52,4 @@\n-        if (args.length == 0) {\n-            VmFlagTest.runTest(FLAG_NAME, TESTS,\n-                VmFlagTest.WHITE_BOX::setBooleanVMFlag,\n-                VmFlagTest.WHITE_BOX::getBooleanVMFlag);\n-            testFunctional(false);\n-            testFunctional(true);\n-            VmFlagTest.runTest(FLAG_DEBUG_NAME, VmFlagTest.WHITE_BOX::getBooleanVMFlag);\n-        } else {\n-            boolean value = Boolean.valueOf(args[0]);\n-            method1();\n-            VmFlagTest.WHITE_BOX.setBooleanVMFlag(FLAG_NAME, value);\n-            method2();\n-        }\n+        VmFlagTest.runTest(FLAG_NAME, TESTS,\n+            VmFlagTest.WHITE_BOX::setBooleanVMFlag,\n+            VmFlagTest.WHITE_BOX::getBooleanVMFlag);\n+        VmFlagTest.runTest(FLAG_DEBUG_NAME, VmFlagTest.WHITE_BOX::getBooleanVMFlag);\n@@ -70,23 +57,0 @@\n-\n-    private static void testFunctional(boolean value) throws Exception {\n-        ProcessBuilder pb = ProcessTools.createJavaProcessBuilder(\n-            \"-Xbootclasspath\/a:.\",\n-            \"-XX:+UnlockDiagnosticVMOptions\",\n-            \"-XX:+WhiteBoxAPI\",\n-            \"-Xcomp\",\n-            \"-XX:CompileCommand=compileonly,\" + METHOD + \"*\",\n-            \"-XX:\" + (value ? \"-\" : \"+\") + FLAG_NAME,\n-            TEST_NAME,\n-            \"\" + value);\n-        OutputAnalyzer out = new OutputAnalyzer(pb.start());\n-        if (value) {\n-            out.shouldNotContain(METHOD1);\n-            out.shouldContain(METHOD2);\n-        } else {\n-            out.shouldContain(METHOD1);\n-            out.shouldNotContain(METHOD2);\n-        }\n-    }\n-\n-    private static void method1() { }\n-    private static void method2() { }\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/BooleanTest.java","additions":5,"deletions":41,"binary":false,"changes":46,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8028756\n+ * @bug 8038756\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/DoubleTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8028756\n+ * @bug 8038756\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/StringTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8028756\n+ * @bug 8038756\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/Uint64Test.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8028756\n+ * @bug 8038756\n","filename":"test\/lib-test\/jdk\/test\/whitebox\/vm_flags\/UintxTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -384,1 +384,1 @@\n-     * Returns the free port on the local host.\n+     * Returns the free port on the loopback address.\n","filename":"test\/lib\/jdk\/test\/lib\/Utils.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-    public final static String PREFIX = \"jdk.\";\n+    public static final String PREFIX = \"jdk.\";\n@@ -39,16 +39,16 @@\n-    public final static String JVMInformation = PREFIX + \"JVMInformation\";\n-    public final static String InitialSystemProperty = PREFIX + \"InitialSystemProperty\";\n-    public final static String IntFlag = PREFIX + \"IntFlag\";\n-    public final static String UnsignedIntFlag = PREFIX + \"UnsignedIntFlag\";\n-    public final static String LongFlag = PREFIX + \"LongFlag\";\n-    public final static String UnsignedLongFlag = PREFIX + \"UnsignedLongFlag\";\n-    public final static String DoubleFlag = PREFIX + \"DoubleFlag\";\n-    public final static String BooleanFlag = PREFIX + \"BooleanFlag\";\n-    public final static String StringFlag = PREFIX + \"StringFlag\";\n-    public final static String IntFlagChanged = PREFIX + \"IntFlagChanged\";\n-    public final static String UnsignedIntFlagChanged = PREFIX + \"UnsignedIntFlagChanged\";\n-    public final static String LongFlagChanged = PREFIX + \"LongFlagChanged\";\n-    public final static String UnsignedLongFlagChanged = PREFIX + \"UnsignedLongFlagChanged\";\n-    public final static String DoubleFlagChanged = PREFIX + \"DoubleFlagChanged\";\n-    public final static String BooleanFlagChanged = PREFIX + \"BooleanFlagChanged\";\n-    public final static String StringFlagChanged = PREFIX + \"StringFlagChanged\";\n+    public static final String JVMInformation = PREFIX + \"JVMInformation\";\n+    public static final String InitialSystemProperty = PREFIX + \"InitialSystemProperty\";\n+    public static final String IntFlag = PREFIX + \"IntFlag\";\n+    public static final String UnsignedIntFlag = PREFIX + \"UnsignedIntFlag\";\n+    public static final String LongFlag = PREFIX + \"LongFlag\";\n+    public static final String UnsignedLongFlag = PREFIX + \"UnsignedLongFlag\";\n+    public static final String DoubleFlag = PREFIX + \"DoubleFlag\";\n+    public static final String BooleanFlag = PREFIX + \"BooleanFlag\";\n+    public static final String StringFlag = PREFIX + \"StringFlag\";\n+    public static final String IntFlagChanged = PREFIX + \"IntFlagChanged\";\n+    public static final String UnsignedIntFlagChanged = PREFIX + \"UnsignedIntFlagChanged\";\n+    public static final String LongFlagChanged = PREFIX + \"LongFlagChanged\";\n+    public static final String UnsignedLongFlagChanged = PREFIX + \"UnsignedLongFlagChanged\";\n+    public static final String DoubleFlagChanged = PREFIX + \"DoubleFlagChanged\";\n+    public static final String BooleanFlagChanged = PREFIX + \"BooleanFlagChanged\";\n+    public static final String StringFlagChanged = PREFIX + \"StringFlagChanged\";\n@@ -57,28 +57,28 @@\n-    public final static String ThreadStart = PREFIX + \"ThreadStart\";\n-    public final static String ThreadEnd = PREFIX + \"ThreadEnd\";\n-    public final static String ThreadSleep = PREFIX + \"ThreadSleep\";\n-    public final static String ThreadPark = PREFIX + \"ThreadPark\";\n-    public final static String JavaMonitorEnter = PREFIX + \"JavaMonitorEnter\";\n-    public final static String JavaMonitorWait = PREFIX + \"JavaMonitorWait\";\n-    public final static String JavaMonitorInflate = PREFIX + \"JavaMonitorInflate\";\n-    public final static String SyncOnValueBasedClass = PREFIX + \"SyncOnValueBasedClass\";\n-    public final static String ClassLoad = PREFIX + \"ClassLoad\";\n-    public final static String ClassDefine = PREFIX + \"ClassDefine\";\n-    public final static String ClassUnload = PREFIX + \"ClassUnload\";\n-    public final static String SafepointBegin = PREFIX + \"SafepointBegin\";\n-    public final static String SafepointStateSynchronization = PREFIX + \"SafepointStateSynchronization\";\n-    public final static String SafepointCleanup = PREFIX + \"SafepointCleanup\";\n-    public final static String SafepointCleanupTask = PREFIX + \"SafepointCleanupTask\";\n-    public final static String SafepointEnd = PREFIX + \"SafepointEnd\";\n-    public final static String ExecuteVMOperation = PREFIX + \"ExecuteVMOperation\";\n-    public final static String Shutdown = PREFIX + \"Shutdown\";\n-    public final static String JavaThreadStatistics = PREFIX + \"JavaThreadStatistics\";\n-    public final static String ClassLoadingStatistics = PREFIX + \"ClassLoadingStatistics\";\n-    public final static String ClassLoaderStatistics = PREFIX + \"ClassLoaderStatistics\";\n-    public final static String ThreadAllocationStatistics = PREFIX + \"ThreadAllocationStatistics\";\n-    public final static String ExecutionSample = PREFIX + \"ExecutionSample\";\n-    public final static String NativeMethodSample = PREFIX + \"NativeMethodSample\";\n-    public final static String ThreadDump = PREFIX + \"ThreadDump\";\n-    public final static String OldObjectSample = PREFIX + \"OldObjectSample\";\n-    public final static String SymbolTableStatistics = PREFIX + \"SymbolTableStatistics\";\n-    public final static String StringTableStatistics = PREFIX + \"StringTableStatistics\";\n+    public static final String ThreadStart = PREFIX + \"ThreadStart\";\n+    public static final String ThreadEnd = PREFIX + \"ThreadEnd\";\n+    public static final String ThreadSleep = PREFIX + \"ThreadSleep\";\n+    public static final String ThreadPark = PREFIX + \"ThreadPark\";\n+    public static final String JavaMonitorEnter = PREFIX + \"JavaMonitorEnter\";\n+    public static final String JavaMonitorWait = PREFIX + \"JavaMonitorWait\";\n+    public static final String JavaMonitorInflate = PREFIX + \"JavaMonitorInflate\";\n+    public static final String SyncOnValueBasedClass = PREFIX + \"SyncOnValueBasedClass\";\n+    public static final String ClassLoad = PREFIX + \"ClassLoad\";\n+    public static final String ClassDefine = PREFIX + \"ClassDefine\";\n+    public static final String ClassUnload = PREFIX + \"ClassUnload\";\n+    public static final String SafepointBegin = PREFIX + \"SafepointBegin\";\n+    public static final String SafepointStateSynchronization = PREFIX + \"SafepointStateSynchronization\";\n+    public static final String SafepointCleanup = PREFIX + \"SafepointCleanup\";\n+    public static final String SafepointCleanupTask = PREFIX + \"SafepointCleanupTask\";\n+    public static final String SafepointEnd = PREFIX + \"SafepointEnd\";\n+    public static final String ExecuteVMOperation = PREFIX + \"ExecuteVMOperation\";\n+    public static final String Shutdown = PREFIX + \"Shutdown\";\n+    public static final String JavaThreadStatistics = PREFIX + \"JavaThreadStatistics\";\n+    public static final String ClassLoadingStatistics = PREFIX + \"ClassLoadingStatistics\";\n+    public static final String ClassLoaderStatistics = PREFIX + \"ClassLoaderStatistics\";\n+    public static final String ThreadAllocationStatistics = PREFIX + \"ThreadAllocationStatistics\";\n+    public static final String ExecutionSample = PREFIX + \"ExecutionSample\";\n+    public static final String NativeMethodSample = PREFIX + \"NativeMethodSample\";\n+    public static final String ThreadDump = PREFIX + \"ThreadDump\";\n+    public static final String OldObjectSample = PREFIX + \"OldObjectSample\";\n+    public static final String SymbolTableStatistics = PREFIX + \"SymbolTableStatistics\";\n+    public static final String StringTableStatistics = PREFIX + \"StringTableStatistics\";\n@@ -91,1 +91,1 @@\n-    public final static String ReservedStackActivation = PREFIX + \"ReservedStackActivation\";\n+    public static final String ReservedStackActivation = PREFIX + \"ReservedStackActivation\";\n@@ -94,54 +94,54 @@\n-    public final static String GCHeapSummary = PREFIX + \"GCHeapSummary\";\n-    public final static String MetaspaceSummary = PREFIX + \"MetaspaceSummary\";\n-    public final static String MetaspaceGCThreshold = PREFIX + \"MetaspaceGCThreshold\";\n-    public final static String MetaspaceAllocationFailure = PREFIX + \"MetaspaceAllocationFailure\";\n-    public final static String MetaspaceOOM = PREFIX + \"MetaspaceOOM\";\n-    public final static String MetaspaceChunkFreeListSummary = PREFIX + \"MetaspaceChunkFreeListSummary\";\n-    public final static String PSHeapSummary = PREFIX + \"PSHeapSummary\";\n-    public final static String G1HeapSummary = PREFIX + \"G1HeapSummary\";\n-    public final static String G1HeapRegionInformation = PREFIX + \"G1HeapRegionInformation\";\n-    public final static String G1HeapRegionTypeChange = PREFIX + \"G1HeapRegionTypeChange\";\n-    public final static String ShenandoahHeapRegionInformation = PREFIX + \"ShenandoahHeapRegionInformation\";\n-    public final static String ShenandoahHeapRegionStateChange = PREFIX + \"ShenandoahHeapRegionStateChange\";\n-    public final static String TenuringDistribution = PREFIX + \"TenuringDistribution\";\n-    public final static String GarbageCollection = PREFIX + \"GarbageCollection\";\n-    public final static String ParallelOldGarbageCollection = PREFIX + \"ParallelOldGarbageCollection\";\n-    public final static String ParallelOldCollection = ParallelOldGarbageCollection;\n-    public final static String YoungGarbageCollection = PREFIX + \"YoungGarbageCollection\";\n-    public final static String OldGarbageCollection = PREFIX + \"OldGarbageCollection\";\n-    public final static String G1GarbageCollection = PREFIX + \"G1GarbageCollection\";\n-    public final static String G1MMU = PREFIX + \"G1MMU\";\n-    public final static String EvacuationInformation = PREFIX + \"EvacuationInformation\";\n-    public final static String GCReferenceStatistics = PREFIX + \"GCReferenceStatistics\";\n-    public final static String ObjectCountAfterGC = PREFIX + \"ObjectCountAfterGC\";\n-    public final static String PromoteObjectInNewPLAB = PREFIX + \"PromoteObjectInNewPLAB\";\n-    public final static String PromoteObjectOutsidePLAB = PREFIX + \"PromoteObjectOutsidePLAB\";\n-    public final static String PromotionFailed = PREFIX + \"PromotionFailed\";\n-    public final static String EvacuationFailed = PREFIX + \"EvacuationFailed\";\n-    public final static String ConcurrentModeFailure = PREFIX + \"ConcurrentModeFailure\";\n-    public final static String GCPhasePause = PREFIX + \"GCPhasePause\";\n-    public final static String GCPhasePauseLevel1 = PREFIX + \"GCPhasePauseLevel1\";\n-    public final static String GCPhasePauseLevel2 = PREFIX + \"GCPhasePauseLevel2\";\n-    public final static String GCPhasePauseLevel3 = PREFIX + \"GCPhasePauseLevel3\";\n-    public final static String GCPhasePauseLevel4 = PREFIX + \"GCPhasePauseLevel4\";\n-    public final static String ObjectCount = PREFIX + \"ObjectCount\";\n-    public final static String GCConfiguration = PREFIX + \"GCConfiguration\";\n-    public final static String GCSurvivorConfiguration = PREFIX + \"GCSurvivorConfiguration\";\n-    public final static String GCTLABConfiguration = PREFIX + \"GCTLABConfiguration\";\n-    public final static String GCHeapConfiguration = PREFIX + \"GCHeapConfiguration\";\n-    public final static String YoungGenerationConfiguration = PREFIX + \"YoungGenerationConfiguration\";\n-    public final static String G1AdaptiveIHOP = PREFIX + \"G1AdaptiveIHOP\";\n-    public final static String G1EvacuationYoungStatistics = PREFIX + \"G1EvacuationYoungStatistics\";\n-    public final static String G1EvacuationOldStatistics = PREFIX + \"G1EvacuationOldStatistics\";\n-    public final static String G1BasicIHOP = PREFIX + \"G1BasicIHOP\";\n-    public final static String AllocationRequiringGC = PREFIX + \"AllocationRequiringGC\";\n-    public final static String GCPhaseParallel = PREFIX + \"GCPhaseParallel\";\n-    public final static String GCPhaseConcurrent = PREFIX + \"GCPhaseConcurrent\";\n-    public final static String GCPhaseConcurrentLevel1 = PREFIX + \"GCPhaseConcurrentLevel1\";\n-    public final static String ZAllocationStall = PREFIX + \"ZAllocationStall\";\n-    public final static String ZPageAllocation = PREFIX + \"ZPageAllocation\";\n-    public final static String ZRelocationSet = PREFIX + \"ZRelocationSet\";\n-    public final static String ZRelocationSetGroup = PREFIX + \"ZRelocationSetGroup\";\n-    public final static String ZUncommit = PREFIX + \"ZUncommit\";\n-    public final static String ZUnmap = PREFIX + \"ZUnmap\";\n-    public final static String GCLocker = PREFIX + \"GCLocker\";\n+    public static final String GCHeapSummary = PREFIX + \"GCHeapSummary\";\n+    public static final String MetaspaceSummary = PREFIX + \"MetaspaceSummary\";\n+    public static final String MetaspaceGCThreshold = PREFIX + \"MetaspaceGCThreshold\";\n+    public static final String MetaspaceAllocationFailure = PREFIX + \"MetaspaceAllocationFailure\";\n+    public static final String MetaspaceOOM = PREFIX + \"MetaspaceOOM\";\n+    public static final String MetaspaceChunkFreeListSummary = PREFIX + \"MetaspaceChunkFreeListSummary\";\n+    public static final String PSHeapSummary = PREFIX + \"PSHeapSummary\";\n+    public static final String G1HeapSummary = PREFIX + \"G1HeapSummary\";\n+    public static final String G1HeapRegionInformation = PREFIX + \"G1HeapRegionInformation\";\n+    public static final String G1HeapRegionTypeChange = PREFIX + \"G1HeapRegionTypeChange\";\n+    public static final String ShenandoahHeapRegionInformation = PREFIX + \"ShenandoahHeapRegionInformation\";\n+    public static final String ShenandoahHeapRegionStateChange = PREFIX + \"ShenandoahHeapRegionStateChange\";\n+    public static final String TenuringDistribution = PREFIX + \"TenuringDistribution\";\n+    public static final String GarbageCollection = PREFIX + \"GarbageCollection\";\n+    public static final String ParallelOldGarbageCollection = PREFIX + \"ParallelOldGarbageCollection\";\n+    public static final String ParallelOldCollection = ParallelOldGarbageCollection;\n+    public static final String YoungGarbageCollection = PREFIX + \"YoungGarbageCollection\";\n+    public static final String OldGarbageCollection = PREFIX + \"OldGarbageCollection\";\n+    public static final String G1GarbageCollection = PREFIX + \"G1GarbageCollection\";\n+    public static final String G1MMU = PREFIX + \"G1MMU\";\n+    public static final String EvacuationInformation = PREFIX + \"EvacuationInformation\";\n+    public static final String GCReferenceStatistics = PREFIX + \"GCReferenceStatistics\";\n+    public static final String ObjectCountAfterGC = PREFIX + \"ObjectCountAfterGC\";\n+    public static final String PromoteObjectInNewPLAB = PREFIX + \"PromoteObjectInNewPLAB\";\n+    public static final String PromoteObjectOutsidePLAB = PREFIX + \"PromoteObjectOutsidePLAB\";\n+    public static final String PromotionFailed = PREFIX + \"PromotionFailed\";\n+    public static final String EvacuationFailed = PREFIX + \"EvacuationFailed\";\n+    public static final String ConcurrentModeFailure = PREFIX + \"ConcurrentModeFailure\";\n+    public static final String GCPhasePause = PREFIX + \"GCPhasePause\";\n+    public static final String GCPhasePauseLevel1 = PREFIX + \"GCPhasePauseLevel1\";\n+    public static final String GCPhasePauseLevel2 = PREFIX + \"GCPhasePauseLevel2\";\n+    public static final String GCPhasePauseLevel3 = PREFIX + \"GCPhasePauseLevel3\";\n+    public static final String GCPhasePauseLevel4 = PREFIX + \"GCPhasePauseLevel4\";\n+    public static final String ObjectCount = PREFIX + \"ObjectCount\";\n+    public static final String GCConfiguration = PREFIX + \"GCConfiguration\";\n+    public static final String GCSurvivorConfiguration = PREFIX + \"GCSurvivorConfiguration\";\n+    public static final String GCTLABConfiguration = PREFIX + \"GCTLABConfiguration\";\n+    public static final String GCHeapConfiguration = PREFIX + \"GCHeapConfiguration\";\n+    public static final String YoungGenerationConfiguration = PREFIX + \"YoungGenerationConfiguration\";\n+    public static final String G1AdaptiveIHOP = PREFIX + \"G1AdaptiveIHOP\";\n+    public static final String G1EvacuationYoungStatistics = PREFIX + \"G1EvacuationYoungStatistics\";\n+    public static final String G1EvacuationOldStatistics = PREFIX + \"G1EvacuationOldStatistics\";\n+    public static final String G1BasicIHOP = PREFIX + \"G1BasicIHOP\";\n+    public static final String AllocationRequiringGC = PREFIX + \"AllocationRequiringGC\";\n+    public static final String GCPhaseParallel = PREFIX + \"GCPhaseParallel\";\n+    public static final String GCPhaseConcurrent = PREFIX + \"GCPhaseConcurrent\";\n+    public static final String GCPhaseConcurrentLevel1 = PREFIX + \"GCPhaseConcurrentLevel1\";\n+    public static final String ZAllocationStall = PREFIX + \"ZAllocationStall\";\n+    public static final String ZPageAllocation = PREFIX + \"ZPageAllocation\";\n+    public static final String ZRelocationSet = PREFIX + \"ZRelocationSet\";\n+    public static final String ZRelocationSetGroup = PREFIX + \"ZRelocationSetGroup\";\n+    public static final String ZUncommit = PREFIX + \"ZUncommit\";\n+    public static final String ZUnmap = PREFIX + \"ZUnmap\";\n+    public static final String GCLocker = PREFIX + \"GCLocker\";\n@@ -152,14 +152,14 @@\n-    public final static String Compilation = PREFIX + \"Compilation\";\n-    public final static String CompilerPhase = PREFIX + \"CompilerPhase\";\n-    public final static String CompilationFailure = PREFIX + \"CompilationFailure\";\n-    public final static String CompilerInlining = PREFIX + \"CompilerInlining\";\n-    public final static String CompilerStatistics = PREFIX + \"CompilerStatistics\";\n-    public final static String CompilerConfiguration = PREFIX + \"CompilerConfiguration\";\n-    public final static String CodeCacheStatistics = PREFIX + \"CodeCacheStatistics\";\n-    public final static String CodeCacheConfiguration = PREFIX + \"CodeCacheConfiguration\";\n-    public final static String CodeCacheFull = PREFIX + \"CodeCacheFull\";\n-    public final static String ObjectAllocationInNewTLAB = PREFIX + \"ObjectAllocationInNewTLAB\";\n-    public final static String ObjectAllocationOutsideTLAB = PREFIX + \"ObjectAllocationOutsideTLAB\";\n-    public final static String ObjectAllocationSample = PREFIX + \"ObjectAllocationSample\";\n-    public final static String Deoptimization = PREFIX + \"Deoptimization\";\n-    public final static String JitRestart = PREFIX + \"JitRestart\";\n+    public static final String Compilation = PREFIX + \"Compilation\";\n+    public static final String CompilerPhase = PREFIX + \"CompilerPhase\";\n+    public static final String CompilationFailure = PREFIX + \"CompilationFailure\";\n+    public static final String CompilerInlining = PREFIX + \"CompilerInlining\";\n+    public static final String CompilerStatistics = PREFIX + \"CompilerStatistics\";\n+    public static final String CompilerConfiguration = PREFIX + \"CompilerConfiguration\";\n+    public static final String CodeCacheStatistics = PREFIX + \"CodeCacheStatistics\";\n+    public static final String CodeCacheConfiguration = PREFIX + \"CodeCacheConfiguration\";\n+    public static final String CodeCacheFull = PREFIX + \"CodeCacheFull\";\n+    public static final String ObjectAllocationInNewTLAB = PREFIX + \"ObjectAllocationInNewTLAB\";\n+    public static final String ObjectAllocationOutsideTLAB = PREFIX + \"ObjectAllocationOutsideTLAB\";\n+    public static final String ObjectAllocationSample = PREFIX + \"ObjectAllocationSample\";\n+    public static final String Deoptimization = PREFIX + \"Deoptimization\";\n+    public static final String JITRestart = PREFIX + \"JITRestart\";\n@@ -168,11 +168,11 @@\n-    public final static String OSInformation = PREFIX + \"OSInformation\";\n-    public final static String VirtualizationInformation = PREFIX + \"VirtualizationInformation\";\n-    public final static String CPUInformation = PREFIX + \"CPUInformation\";\n-    public final static String CPULoad = PREFIX + \"CPULoad\";\n-    public final static String ThreadCPULoad = PREFIX + \"ThreadCPULoad\";\n-    public final static String SystemProcess = PREFIX + \"SystemProcess\";\n-    public final static String ThreadContextSwitchRate = PREFIX + \"ThreadContextSwitchRate\";\n-    public final static String InitialEnvironmentVariable = PREFIX + \"InitialEnvironmentVariable\";\n-    public final static String NativeLibrary = PREFIX + \"NativeLibrary\";\n-    public final static String PhysicalMemory = PREFIX + \"PhysicalMemory\";\n-    public final static String NetworkUtilization = PREFIX + \"NetworkUtilization\";\n+    public static final String OSInformation = PREFIX + \"OSInformation\";\n+    public static final String VirtualizationInformation = PREFIX + \"VirtualizationInformation\";\n+    public static final String CPUInformation = PREFIX + \"CPUInformation\";\n+    public static final String CPULoad = PREFIX + \"CPULoad\";\n+    public static final String ThreadCPULoad = PREFIX + \"ThreadCPULoad\";\n+    public static final String SystemProcess = PREFIX + \"SystemProcess\";\n+    public static final String ThreadContextSwitchRate = PREFIX + \"ThreadContextSwitchRate\";\n+    public static final String InitialEnvironmentVariable = PREFIX + \"InitialEnvironmentVariable\";\n+    public static final String NativeLibrary = PREFIX + \"NativeLibrary\";\n+    public static final String PhysicalMemory = PREFIX + \"PhysicalMemory\";\n+    public static final String NetworkUtilization = PREFIX + \"NetworkUtilization\";\n@@ -187,12 +187,13 @@\n-    public final static String ExceptionStatistics = PREFIX + \"ExceptionStatistics\";\n-    public final static String JavaExceptionThrow = PREFIX + \"JavaExceptionThrow\";\n-    public final static String JavaErrorThrow = PREFIX + \"JavaErrorThrow\";\n-    public final static String ModuleRequire = PREFIX + \"ModuleRequire\";\n-    public final static String ModuleExport = PREFIX + \"ModuleExport\";\n-    public final static String TLSHandshake = PREFIX + \"TLSHandshake\";\n-    public final static String X509Certificate = PREFIX + \"X509Certificate\";\n-    public final static String X509Validation = PREFIX + \"X509Validation\";\n-    public final static String SecurityProperty = PREFIX + \"SecurityPropertyModification\";\n-    public final static String SecurityProviderService = PREFIX + \"SecurityProviderService\";\n-    public final static String DirectBufferStatistics = PREFIX + \"DirectBufferStatistics\";\n-    public final static String Deserialization = PREFIX + \"Deserialization\";\n+    public static final String ExceptionStatistics = PREFIX + \"ExceptionStatistics\";\n+    public static final String JavaExceptionThrow = PREFIX + \"JavaExceptionThrow\";\n+    public static final String JavaErrorThrow = PREFIX + \"JavaErrorThrow\";\n+    public static final String ModuleRequire = PREFIX + \"ModuleRequire\";\n+    public static final String ModuleExport = PREFIX + \"ModuleExport\";\n+    public static final String TLSHandshake = PREFIX + \"TLSHandshake\";\n+    public static final String X509Certificate = PREFIX + \"X509Certificate\";\n+    public static final String X509Validation = PREFIX + \"X509Validation\";\n+    public static final String InitialSecurityProperty = PREFIX + \"InitialSecurityProperty\";\n+    public static final String SecurityProperty = PREFIX + \"SecurityPropertyModification\";\n+    public static final String SecurityProviderService = PREFIX + \"SecurityProviderService\";\n+    public static final String DirectBufferStatistics = PREFIX + \"DirectBufferStatistics\";\n+    public static final String Deserialization = PREFIX + \"Deserialization\";\n@@ -212,5 +213,5 @@\n-    public final static String DumpReason = PREFIX + \"DumpReason\";\n-    public final static String DataLoss = PREFIX + \"DataLoss\";\n-    public final static String CPUTimeStampCounter = PREFIX + \"CPUTimeStampCounter\";\n-    public final static String ActiveRecording = PREFIX + \"ActiveRecording\";\n-    public final static String ActiveSetting = PREFIX + \"ActiveSetting\";\n+    public static final String DumpReason = PREFIX + \"DumpReason\";\n+    public static final String DataLoss = PREFIX + \"DataLoss\";\n+    public static final String CPUTimeStampCounter = PREFIX + \"CPUTimeStampCounter\";\n+    public static final String ActiveRecording = PREFIX + \"ActiveRecording\";\n+    public static final String ActiveSetting = PREFIX + \"ActiveSetting\";\n","filename":"test\/lib\/jdk\/test\/lib\/jfr\/EventNames.java","additions":143,"deletions":142,"binary":false,"changes":285,"status":"modified"},{"patch":"@@ -39,0 +39,12 @@\n+#include \"jvmti.h\"\n+\n+\/**\n+ * Additional Java basic types\n+ *\/\n+\n+#ifdef _WIN32\n+    typedef unsigned __int64 julong;\n+#else\n+    typedef unsigned long long julong;\n+#endif\n+\n@@ -54,2 +66,8 @@\n-char*\n-jlong_to_string(jlong value, char *string) {\n+\/**\n+ * Convert the digits of the given value argument to a null-terminated\n+ * character string and store the result (up to 32 bytes) in string.\n+ * If value is negative, the first character of the stored string is\n+ * the minus sign (-). The function returns a pointer to the begining\n+ * of the result string.\n+ *\/\n+char* jlong_to_string(jlong value, char *string) {\n@@ -81,0 +99,27 @@\n+\/**\n+ * Convert the digits of the given value argument to a null-terminated\n+ * character string and store the result (up to 32 bytes) in string.\n+ * The function returns a pointer to the begining of the result string.\n+ *\/\n+char* julong_to_string(julong value, char *string) {\n+    char buffer[32];\n+    char *pbuf, *pstr;\n+\n+    pstr = string;\n+    if (value == 0) {\n+        *pstr++ = '0';\n+    } else {\n+        pbuf = buffer;\n+        while (value != 0) {\n+            *pbuf++ = '0' + (char)(value % 10);\n+            value = value \/ 10;\n+        }\n+        while (pbuf != buffer) {\n+            *pstr++ = *--pbuf;\n+        }\n+    }\n+    *pstr = '\\0';\n+\n+    return string;\n+}\n+\n","filename":"test\/lib\/jdk\/test\/lib\/jvmti\/jvmti_common.h","additions":47,"deletions":2,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -0,0 +1,69 @@\n+\/*\n+ * Copyright (c) 2020, 2022, Red Hat Inc. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+package micro.org.openjdk.bench.java.io;\n+\n+import org.openjdk.jmh.annotations.*;\n+import org.openjdk.jmh.infra.Blackhole;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.DataInputStream;\n+import java.util.concurrent.ThreadLocalRandom;\n+import java.util.concurrent.TimeUnit;\n+\n+@BenchmarkMode(Mode.AverageTime)\n+@OutputTimeUnit(TimeUnit.MICROSECONDS)\n+@Fork(value = 4, warmups = 0)\n+@Measurement(iterations = 5, time = 1)\n+@Warmup(iterations = 2, time = 2)\n+@State(Scope.Benchmark)\n+public class DataInputStreamTest {\n+    private final int size = 1024;\n+\n+    private ByteArrayInputStream bais;\n+\n+    @Setup(Level.Iteration)\n+    public void setup() {\n+        byte[] bytes = new byte[size];\n+        ThreadLocalRandom.current().nextBytes(bytes);\n+        bais = new ByteArrayInputStream(bytes);\n+    }\n+\n+    @Benchmark\n+    public void readChar(Blackhole bh) throws Exception {\n+        bais.reset();\n+        DataInputStream dis = new DataInputStream(bais);\n+        for (int i = 0; i < size \/ 2; i++) {\n+            bh.consume(dis.readChar());\n+        }\n+    }\n+\n+    @Benchmark\n+    public void readInt(Blackhole bh) throws Exception {\n+        bais.reset();\n+        DataInputStream dis = new DataInputStream(bais);\n+        for (int i = 0; i < size \/ 4; i++) {\n+            bh.consume(dis.readInt());\n+        }\n+    }\n+}\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/io\/DataInputStreamTest.java","additions":69,"deletions":0,"binary":false,"changes":69,"status":"added"},{"patch":"@@ -10,1 +10,1 @@\n- * @see <a href=\"https:\/\/bugs.openjdk.java.net\/browse\/JDK-8274715\">JDK-8274715<\/a>\n+ * @see <a href=\"https:\/\/bugs.openjdk.org\/browse\/JDK-8274715\">JDK-8274715<\/a>\n","filename":"test\/micro\/org\/openjdk\/bench\/java\/util\/NCopiesBenchmarks.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,105 @@\n+\/\/\n+\/\/ Copyright (c) 2022, Arm Limited. All rights reserved.\n+\/\/ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+\/\/\n+\/\/ This code is free software; you can redistribute it and\/or modify it\n+\/\/ under the terms of the GNU General Public License version 2 only, as\n+\/\/ published by the Free Software Foundation.\n+\/\/\n+\/\/ This code is distributed in the hope that it will be useful, but WITHOUT\n+\/\/ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+\/\/ FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+\/\/ version 2 for more details (a copy is included in the LICENSE file that\n+\/\/ accompanied this code).\n+\/\/\n+\/\/ You should have received a copy of the GNU General Public License version\n+\/\/ 2 along with this work; if not, write to the Free Software Foundation,\n+\/\/ Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+\/\/\n+\/\/ Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+\/\/ or visit www.oracle.com if you need additional information or have any\n+\/\/ questions.\n+\/\/\n+\/\/\n+package org.openjdk.bench.jdk.incubator.vector;\n+\n+import java.util.concurrent.TimeUnit;\n+import jdk.incubator.vector.*;\n+import org.openjdk.jmh.annotations.*;\n+\n+@BenchmarkMode(Mode.Throughput)\n+@OutputTimeUnit(TimeUnit.MILLISECONDS)\n+@State(Scope.Benchmark)\n+@Warmup(iterations = 3, time = 1)\n+@Measurement(iterations = 5, time = 1)\n+@Fork(value = 1, jvmArgsPrepend = {\"--add-modules=jdk.incubator.vector\"})\n+public class IndexVectorBenchmark {\n+    @Param({\"1024\"})\n+    private int size;\n+\n+    private byte[] ba;\n+    private short[] sa;\n+    private int[] ia;\n+    private long[] la;\n+    private float[] fa;\n+    private double[] da;\n+\n+    private static final VectorSpecies<Byte> bspecies = VectorSpecies.ofLargestShape(byte.class);\n+    private static final VectorSpecies<Short> sspecies = VectorSpecies.ofLargestShape(short.class);\n+    private static final VectorSpecies<Integer> ispecies = VectorSpecies.ofLargestShape(int.class);\n+    private static final VectorSpecies<Long> lspecies = VectorSpecies.ofLargestShape(long.class);\n+    private static final VectorSpecies<Float> fspecies = VectorSpecies.ofLargestShape(float.class);\n+    private static final VectorSpecies<Double> dspecies = VectorSpecies.ofLargestShape(double.class);\n+\n+    @Setup(Level.Trial)\n+    public void Setup() {\n+        ba = new byte[size];\n+        sa = new short[size];\n+        ia = new int[size];\n+        la = new long[size];\n+        fa = new float[size];\n+        da = new double[size];\n+    }\n+\n+    @Benchmark\n+    public void byteIndexVector() {\n+        for (int i = 0; i < size; i += bspecies.length()) {\n+            ((ByteVector) bspecies.broadcast(0).addIndex(i % 2)).intoArray(ba, i);\n+        }\n+    }\n+\n+    @Benchmark\n+    public void shortIndexVector() {\n+        for (int i = 0; i < size; i += sspecies.length()) {\n+            ((ShortVector) sspecies.broadcast(0).addIndex(i % 5)).intoArray(sa, i);\n+        }\n+    }\n+\n+    @Benchmark\n+    public void intIndexVector() {\n+        for (int i = 0; i < size; i += ispecies.length()) {\n+            ((IntVector) ispecies.broadcast(0).addIndex(i % 5)).intoArray(ia, i);\n+        }\n+    }\n+\n+    @Benchmark\n+    public void longIndexVector() {\n+        for (int i = 0; i < size; i += lspecies.length()) {\n+            ((LongVector) lspecies.broadcast(0).addIndex(i % 5)).intoArray(la, i);\n+        }\n+    }\n+\n+    @Benchmark\n+    public void floatIndexVector() {\n+        for (int i = 0; i < size; i += fspecies.length()) {\n+            ((FloatVector) fspecies.broadcast(0).addIndex(i % 5)).intoArray(fa, i);\n+        }\n+    }\n+\n+    @Benchmark\n+    public void doubleIndexVector() {\n+        for (int i = 0; i < size; i += dspecies.length()) {\n+            ((DoubleVector) dspecies.broadcast(0).addIndex(i % 5)).intoArray(da, i);\n+        }\n+    }\n+}\n","filename":"test\/micro\/org\/openjdk\/bench\/jdk\/incubator\/vector\/IndexVectorBenchmark.java","additions":105,"deletions":0,"binary":false,"changes":105,"status":"added"}]}