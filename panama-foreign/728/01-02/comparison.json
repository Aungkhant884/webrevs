{"files":[{"patch":"@@ -101,1 +101,1 @@\n-                checkHasNaturalAlignment(member);\n+                checkHasNaturalAlignmentRecursive(member);\n@@ -104,1 +104,1 @@\n-            checkHasNaturalAlignment(sl.elementLayout());\n+            checkHasNaturalAlignmentRecursive(sl.elementLayout());\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/foreign\/abi\/AbstractLinker.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -99,0 +99,16 @@\n+            {\n+                    FunctionDescriptor.ofVoid(MemoryLayout.structLayout(\n+                            MemoryLayout.structLayout(\n+                                C_CHAR.withName(\"x\").withBitAlignment(8),\n+                                C_SHORT.withName(\"y\").withBitAlignment(8),\n+                                C_INT.withName(\"z\").withBitAlignment(8)\n+                            ))),\n+                    \"Layout bit alignment must be natural alignment\"\n+            },\n+            {\n+                    FunctionDescriptor.ofVoid(MemoryLayout.structLayout(\n+                            MemoryLayout.sequenceLayout(\n+                                C_INT.withBitAlignment(8)\n+                            ))),\n+                    \"Layout bit alignment must be natural alignment\"\n+            },\n","filename":"test\/jdk\/java\/foreign\/TestIllegalLink.java","additions":16,"deletions":0,"binary":false,"changes":16,"status":"modified"}]}