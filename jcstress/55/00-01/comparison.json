{"files":[{"patch":"@@ -572,1 +572,1 @@\n-            pw.println(\"        if (config.localAffinity) AffinitySupport.bind(config.actorMap[\" + n + \"]);\");\n+            pw.println(\"        if (config.localAffinity) AffinitySupport.bind(config.localAffinityMap[\" + n + \"]);\");\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/processors\/JCStressTestProcessor.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-    public int[] actorMap;\n+    public int[] localAffinityMap;\n@@ -54,1 +54,3 @@\n-        actorMap = cfg.cpuMap.actorMap();\n+        if (localAffinity) {\n+            localAffinityMap = cfg.cpuMap.actorMap();\n+        }\n@@ -66,4 +68,6 @@\n-        int len = dis.readInt();\n-        actorMap = new int[len];\n-        for (int c = 0; c < len; c++) {\n-            actorMap[c] = dis.readInt();\n+        if (localAffinity) {\n+            int len = dis.readInt();\n+            localAffinityMap = new int[len];\n+            for (int c = 0; c < len; c++) {\n+                localAffinityMap[c] = dis.readInt();\n+            }\n@@ -82,3 +86,5 @@\n-        dos.writeInt(actorMap.length);\n-        for (int am : actorMap) {\n-            dos.writeInt(am);\n+        if (localAffinity) {\n+            dos.writeInt(localAffinityMap.length);\n+            for (int am : localAffinityMap) {\n+                dos.writeInt(am);\n+            }\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/runners\/ForkedTestConfig.java","additions":15,"deletions":9,"binary":false,"changes":24,"status":"modified"}]}