{"files":[{"patch":"@@ -54,0 +54,1 @@\n+    private transient TestGrading grading;\n@@ -192,1 +193,6 @@\n-        return TestGrading.grade(this);\n+        TestGrading g = grading;\n+        if (g == null) {\n+            g = TestGrading.grade(this);\n+            grading = g;\n+        }\n+        return g;\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/collectors\/TestResult.java","additions":7,"deletions":1,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -403,6 +403,7 @@\n-                for (GradingResult c : r.grading().gradingResults) {\n-                    if (c.id.equals(key)) {\n-                        o.println(\"<td align='right' width='\" + 30D\/configs + \"%' bgColor=\" + selectHTMLColor(c.expect, c.count == 0) + \">\" + c.count + \"<\/td>\");\n-                        description = c.description;\n-                        expect = c.expect;\n-                    }\n+                GradingResult c = r.grading().gradingResults.get(key);\n+                if (c != null) {\n+                    o.println(\"<td align='right' width='\" + 30D\/configs + \"%' bgColor=\" + selectHTMLColor(c.expect, c.count == 0) + \">\" + c.count + \"<\/td>\");\n+                    description = c.description;\n+                    expect = c.expect;\n+                } else {\n+                    o.println(\"<td align='right' width='\" + 30D\/configs + \"%' bgColor=\" + selectHTMLColor(Expect.ACCEPTABLE, true) + \">0<\/td>\");\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/grading\/HTMLReportPrinter.java","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -169,1 +169,1 @@\n-            for (GradingResult gradeRes : grade.gradingResults) {\n+            for (GradingResult gradeRes : grade.gradingResults.values()) {\n@@ -177,1 +177,1 @@\n-            for (GradingResult gradeRes : grade.gradingResults) {\n+            for (GradingResult gradeRes : grade.gradingResults.values()) {\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/grading\/ReportUtils.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -42,1 +42,1 @@\n-    public final List<GradingResult> gradingResults;\n+    public final TreeMap<String, GradingResult> gradingResults;\n@@ -51,1 +51,1 @@\n-        gradingResults = new ArrayList<>();\n+        gradingResults = new TreeMap<>();\n@@ -95,6 +95,7 @@\n-            gradingResults.add(new GradingResult(\n-                    s,\n-                    matched.expect(),\n-                    count,\n-                    matched.description()\n-            ));\n+            gradingResults.put(s,\n+                    new GradingResult(\n+                            s,\n+                            matched.expect(),\n+                            count,\n+                            matched.description()\n+                    ));\n@@ -110,6 +111,7 @@\n-            gradingResults.add(new GradingResult(\n-                    c.matchPattern(),\n-                    ex,\n-                    0,\n-                    c.description()\n-            ));\n+            gradingResults.put(c.matchPattern(),\n+                    new GradingResult(\n+                            c.matchPattern(),\n+                            ex,\n+                            0,\n+                            c.description()\n+                    ));\n@@ -117,3 +119,0 @@\n-\n-        Collections.sort(gradingResults,\n-                Comparator.comparing(c -> c.id));\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/grading\/TestGrading.java","additions":16,"deletions":17,"binary":false,"changes":33,"status":"modified"}]}