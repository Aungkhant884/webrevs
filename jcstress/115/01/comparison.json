{"files":[{"patch":"@@ -42,0 +42,2 @@\n+    private static Method THREAD_ID_GETTER;\n+\n@@ -63,0 +65,6 @@\n+            try {\n+                THREAD_ID_GETTER = Thread.class.getMethod(\"threadId\");\n+            } catch (NoSuchMethodError nsme) {\n+                THREAD_ID_GETTER = Thread.class.getMethod(\"getId\");\n+            }\n+\n@@ -83,1 +91,2 @@\n-                return (long) ALLOC_MX_BEAN_GETTER.invoke(ALLOC_MX_BEAN, Thread.currentThread().getId());\n+                long id = (long) THREAD_ID_GETTER.invoke(Thread.currentThread());\n+                return (long) ALLOC_MX_BEAN_GETTER.invoke(ALLOC_MX_BEAN, id);\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/vm\/AllocProfileSupport.java","additions":10,"deletions":1,"binary":false,"changes":11,"status":"modified"}]}