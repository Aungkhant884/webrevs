{"files":[{"patch":"@@ -65,10 +65,6 @@\n-        Class<?> clazz = Main.class;\n-        String className = clazz.getSimpleName() + \".class\";\n-        String classPath = clazz.getResource(className).toString();\n-        if (!classPath.startsWith(\"jar\")) {\n-            return;\n-        }\n-        String manifestPath = classPath.substring(0, classPath.lastIndexOf(\"!\") + 1) + \"\/META-INF\/MANIFEST.MF\";\n-        InputStream stream = null;\n-        try {\n-            stream = new URL(manifestPath).openStream();\n+        try (InputStream stream = Main.class.getResourceAsStream(\"\/META-INF\/MANIFEST.MF\")) {\n+            if (stream == null) {\n+                \/\/ No manifest?\n+                out.println(\"Rev: unknown\");\n+                return;\n+            }\n@@ -85,8 +81,0 @@\n-        } finally {\n-            try {\n-                if (stream != null) {\n-                    stream.close();\n-                }\n-            } catch (IOException e) {\n-                \/\/ swallow\n-            }\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/Main.java","additions":6,"deletions":18,"binary":false,"changes":24,"status":"modified"}]}