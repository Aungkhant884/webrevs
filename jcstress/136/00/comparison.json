{"files":[{"patch":"@@ -379,2 +379,8 @@\n-        \/\/ Half of heap size.\n-        return getHeapPerForkMb() \/ 2;\n+        \/\/ The tests can copy the entirety of their state, which means\n+        \/\/ we need at least twice the space in heap. The copied state\n+        \/\/ may also fragment the heap, especially with potential humongous\n+        \/\/ allocations, which can also take \"twice\" the space in the heap.\n+        \/\/\n+        \/\/ Adding some slack for testing infra itself, we better allocate\n+        \/\/ about a quarter of heap size.\n+        return getHeapPerForkMb() \/ 4;\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/Options.java","additions":8,"deletions":2,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -108,1 +108,1 @@\n-            count *= 2;\n+            count = Math.max((int)(count*1.2), count+1);\n","filename":"jcstress-core\/src\/main\/java\/org\/openjdk\/jcstress\/infra\/runners\/ForkedTestConfig.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}