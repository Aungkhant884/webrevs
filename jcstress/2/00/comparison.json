{"files":[{"patch":"@@ -0,0 +1,42 @@\n+name: JCStress Pre-Integration Tests\n+\n+on:\n+  pull_request:\n+    types: [opened, reopened, ready_for_review, synchronize]\n+  workflow_dispatch:\n+\n+jobs:\n+  test:\n+    runs-on: ${{ matrix.os }}\n+    strategy:\n+      matrix:\n+        build-java: [11, 16-ea]\n+        run-java: [8, 11, 16-ea]\n+        os: [ubuntu-18.04, windows-2019, macos-10.15]\n+      fail-fast: false\n+    name: Build JDK ${{ matrix.build-java }}, run JDK ${{ matrix.run-java }}, ${{ matrix.os }}\n+\n+    steps:\n+    - uses: actions\/checkout@v2\n+    - name: Set up build JDK ${{ matrix.build-java }}\n+      uses: actions\/setup-java@v1\n+      with:\n+        java-version: ${{ matrix.build-java }}\n+    - name: Cache Maven packages\n+      uses: actions\/cache@v2\n+      with:\n+        path: ~\/.m2\/repository\n+        key: ${{ runner.os }}-maven-${{ hashFiles('**\/pom.xml', '.github\/workflows\/pre-integration.yml') }}\n+        restore-keys: ${{ runner.os }}-maven\n+    - name: Build\/test\n+      run: mvn clean install -T 1C -B --file pom.xml\n+    - name: Set up run JDK ${{ matrix.run-java }}\n+      uses: actions\/setup-java@v1\n+      with:\n+        java-version: ${{ matrix.run-java }}\n+    - name: Run all tests with \"sanity\" profile\n+      run: java -jar tests-all\/target\/jcstress.jar -m sanity --jvmArgs \"-XX:+UseParallelGC\"\n+      if: runner.os == 'Linux'\n+    - name: Run custom tests with \"sanity\" profile\n+      run: java -jar tests-custom\/target\/jcstress.jar -m sanity --jvmArgs \"-XX:+UseParallelGC\"\n+      if: runner.os != 'Linux'\n","filename":".github\/workflows\/pre-integration.yml","additions":42,"deletions":0,"binary":false,"changes":42,"status":"added"},{"patch":"@@ -134,1 +134,1 @@\n-    $ mvn clean verify\n+    $ mvn clean install\n@@ -139,0 +139,3 @@\n+\n+GitHub workflow \"JCStress Pre-Integration Tests\" should pass on the changes. It would be triggered\n+for PRs. You can also trigger it manually for your branch.\n","filename":"README.md","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"}]}