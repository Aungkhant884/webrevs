{"files":[{"patch":"@@ -1972,1 +1972,1 @@\n-      status = setrlimit(RLIMIT_NOFILE, &nbr_files);\n+\n@@ -1974,10 +1974,7 @@\n-      if (status != 0 && errno == EINVAL) {\n-        \/\/ On macOS >= 10.6 if we define _DARWIN_UNLIMITED_STREAMS or _DARWIN_C_SOURCE\n-        \/\/ (we define _DARWIN_C_SOURCE) we can ask for RLIM_INFINITY,\n-        \/\/ however, on macOS < 10.6 Darwin returns RLIM_INFINITY for rlim_max,\n-        \/\/ but fails with EINVAL if you attempt to use RLIM_INFINITY.\n-        \/\/ As per setrlimit(2), OPEN_MAX must be used instead.\n-        nbr_files.rlim_cur = MIN(OPEN_MAX, nbr_files.rlim_cur);\n-        status = setrlimit(RLIMIT_NOFILE, &nbr_files);\n-      }\n-#endif \/\/ __APPLE__\n+      \/\/ Darwin returns RLIM_INFINITY for rlim_max, but fails with EINVAL if\n+      \/\/ you attempt to use RLIM_INFINITY. As per setrlimit(2), OPEN_MAX must\n+      \/\/ be used instead\n+      nbr_files.rlim_cur = MIN(OPEN_MAX, nbr_files.rlim_cur);\n+#endif\n+\n+      status = setrlimit(RLIMIT_NOFILE, &nbr_files);\n","filename":"src\/hotspot\/os\/bsd\/os_bsd.cpp","additions":8,"deletions":11,"binary":false,"changes":19,"status":"modified"}]}