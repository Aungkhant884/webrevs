{"files":[{"patch":"@@ -32,1 +32,36 @@\n-OUT=`. $DIR\/autoconf-config.guess`\n+TMPFILE=`mktemp`\n+OUT=`. $DIR\/autoconf-config.guess 2> \"$TMPFILE\"`\n+ERR=`cat \"$TMPFILE\"`\n+rm \"$TMPFILE\"\n+\n+# Handle some cases that autoconf-config.guess is not capable of\n+if [ \"x$OUT\" = x ]; then\n+  if [ `uname -s` = Linux ]; then\n+    # Test and fix little endian MIPS.\n+    if [ `uname -m` = mipsel ]; then\n+      OUT=mipsel-unknown-linux-gnu\n+    elif [ `uname -m` = mips64el ]; then\n+      OUT=mips64el-unknown-linux-gnu\n+    # Test and fix little endian PowerPC64.\n+    elif [ `uname -m` = ppc64le ]; then\n+      OUT=powerpc64le-unknown-linux-gnu\n+    # Test and fix LoongArch64.\n+    elif [ `uname -m` = loongarch64 ]; then\n+      OUT=loongarch64-unknown-linux-gnu\n+    # Test and fix RISC-V.\n+    elif [ `uname -m` = riscv64 ]; then\n+      OUT=riscv64-unknown-linux-gnu\n+    fi\n+  # Test and fix cygwin machine arch .x86_64\n+  elif [[ `uname -s` = CYGWIN* ]]; then\n+    if [ `uname -m` = \".x86_64\" ]; then\n+      OUT=x86_64-unknown-cygwin\n+    fi\n+  fi\n+\n+  if [ \"x$OUT\" = x ]; then\n+    echo $ERR >&2\n+  else\n+    printf \"guessed by custom config.guess... \" >&2\n+  fi\n+fi\n@@ -84,39 +119,0 @@\n-# Test and fix little endian PowerPC64.\n-# TODO: should be handled by autoconf-config.guess.\n-if [ \"x$OUT\" = x ]; then\n-  if [ `uname -m` = ppc64le ]; then\n-    if [ `uname -s` = Linux ]; then\n-      OUT=powerpc64le-unknown-linux-gnu\n-    fi\n-  fi\n-fi\n-\n-# Test and fix little endian MIPS.\n-if [ \"x$OUT\" = x ]; then\n-  if [ `uname -s` = Linux ]; then\n-    if [ `uname -m` = mipsel ]; then\n-      OUT=mipsel-unknown-linux-gnu\n-    elif [ `uname -m` = mips64el ]; then\n-      OUT=mips64el-unknown-linux-gnu\n-    fi\n-  fi\n-fi\n-\n-# Test and fix LoongArch64.\n-if [ \"x$OUT\" = x ]; then\n-  if [ `uname -s` = Linux ]; then\n-    if [ `uname -m` = loongarch64 ]; then\n-      OUT=loongarch64-unknown-linux-gnu\n-    fi\n-  fi\n-fi\n-\n-# Test and fix RISC-V.\n-if [ \"x$OUT\" = x ]; then\n-  if [ `uname -s` = Linux ]; then\n-    if [ `uname -m` = riscv64 ]; then\n-      OUT=riscv64-unknown-linux-gnu\n-    fi\n-  fi\n-fi\n-\n","filename":"make\/autoconf\/build-aux\/config.guess","additions":36,"deletions":40,"binary":false,"changes":76,"status":"modified"}]}