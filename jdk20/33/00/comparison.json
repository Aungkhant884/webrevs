{"files":[{"patch":"@@ -317,1 +317,2 @@\n-    os::realign_memory((char*)aligned_region.start(), aligned_region.byte_size(), page_size());\n+    const size_t os_align = UseLargePages ? page_size() : os::vm_page_size();\n+    os::realign_memory((char*)aligned_region.start(), aligned_region.byte_size(), os_align);\n@@ -319,1 +320,3 @@\n-    os::free_memory((char*)aligned_region.start(), aligned_region.byte_size(), page_size());\n+    \/\/ The alignment_hint argument must be less than or equal to the small page\n+    \/\/ size if not using large pages or else this function does nothing.\n+    os::free_memory((char*)aligned_region.start(), aligned_region.byte_size(), os_align);\n","filename":"src\/hotspot\/share\/gc\/parallel\/mutableNUMASpace.cpp","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"}]}