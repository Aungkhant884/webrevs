{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -289,12 +289,0 @@\n-\n-        if ((c instanceof JCheckBox) && (state & SynthConstants.DISABLED) != 0) {\n-            if (UIManager.getColor(\"CheckBox.disabledText\") != null) {\n-                return UIManager.getColor(\"CheckBox.disabledText\");\n-            }\n-        } else if ((c instanceof JRadioButton) &&\n-                (state & SynthConstants.DISABLED) != 0) {\n-            if (UIManager.getColor(\"RadioButton.disabledText\") != null) {\n-                return UIManager.getColor(\"RadioButton.disabledText\");\n-            }\n-        }\n-\n","filename":"src\/java.desktop\/share\/classes\/com\/sun\/java\/swing\/plaf\/gtk\/GTKStyle.java","additions":1,"deletions":13,"binary":false,"changes":14,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2002, 2008, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2002, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -782,8 +782,0 @@\n-            } else if (c instanceof JCheckBox) {\n-                if (UIManager.getColor(\"CheckBox.disabledText\") != null) {\n-                    return UIManager.getColor(\"CheckBox.disabledText\");\n-                }\n-            } else if (c instanceof JRadioButton) {\n-                if (UIManager.getColor(\"RadioButton.disabledText\") != null) {\n-                    return UIManager.getColor(\"RadioButton.disabledText\");\n-                }\n","filename":"src\/java.desktop\/share\/classes\/javax\/swing\/plaf\/synth\/SynthStyle.java","additions":1,"deletions":9,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -667,0 +667,1 @@\n+javax\/swing\/JRadioButton\/4314194\/bug4314194.java 8298153 linux-all\n","filename":"test\/jdk\/ProblemList.txt","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 4314194 8075916\n+ * @bug 4314194 8075916 8298083\n@@ -43,0 +43,1 @@\n+import javax.swing.plaf.synth.SynthLookAndFeel;\n@@ -45,5 +46,5 @@\n-    private static JFrame frame;\n-    private static JRadioButton radioButton;\n-    private static JCheckBox checkBox;\n-    private static Point point;\n-    private static Rectangle rect;\n+    private static volatile JFrame frame;\n+    private static volatile JRadioButton radioButton;\n+    private static volatile JCheckBox checkBox;\n+    private static volatile Point point;\n+    private static volatile Rectangle rect;\n@@ -90,3 +91,19 @@\n-    private static void createUI() {\n-        UIManager.getDefaults().put(\"CheckBox.disabledText\", checkboxColor);\n-        UIManager.getDefaults().put(\"RadioButton.disabledText\", radioButtonColor);\n+    private static void createUI(String laf) {\n+        if (UIManager.getLookAndFeel() instanceof SynthLookAndFeel) {\n+            \/\/ reset \"basic\" properties\n+            UIManager.getDefaults().put(\"CheckBox.disabledText\", null);\n+            UIManager.getDefaults().put(\"RadioButton.disabledText\", null);\n+            \/\/ set \"synth\" properties\n+            UIManager.getDefaults().put(\"CheckBox[Disabled].textForeground\", checkboxColor);\n+            \/\/ for some reason the RadioButton[Disabled] does not work\n+            \/\/ see https:\/\/bugs.openjdk.org\/browse\/JDK-8298149\n+            \/\/UIManager.getDefaults().put(\"RadioButton[Disabled].textForeground\", radioButtonColor);\n+            UIManager.getDefaults().put(\"RadioButton[Enabled].textForeground\", radioButtonColor);\n+        } else {\n+            \/\/ reset \"synth\" properties\n+            UIManager.getDefaults().put(\"CheckBox[Disabled].textForeground\", null);\n+            UIManager.getDefaults().put(\"RadioButton[Enabled].textForeground\", null);\n+            \/\/ set \"basic\" properties\n+            UIManager.getDefaults().put(\"CheckBox.disabledText\", checkboxColor);\n+            UIManager.getDefaults().put(\"RadioButton.disabledText\", radioButtonColor);\n+        }\n@@ -101,1 +118,1 @@\n-        frame = new JFrame(\"bug4314194\");\n+        frame = new JFrame(laf);\n@@ -125,1 +142,1 @@\n-                SwingUtilities.invokeAndWait(() -> createUI());\n+                SwingUtilities.invokeAndWait(() -> createUI(laf.getName()));\n@@ -144,1 +161,0 @@\n-\n","filename":"test\/jdk\/javax\/swing\/JRadioButton\/4314194\/bug4314194.java","additions":28,"deletions":12,"binary":false,"changes":40,"status":"modified"}]}