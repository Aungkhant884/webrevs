{"files":[{"patch":"@@ -1360,1 +1360,7 @@\n-            sw.streamClosed(errorRef.get());\n+            \/\/ if the subscriber has already completed,\n+            \/\/ there is nothing to do...\n+            if (!sw.completed()) {\n+                \/\/ otherwise make sure it will be completed\n+                var cause = errorRef.get();\n+                sw.complete(cause == null ? new IOException(\"stream closed\") : cause);\n+            }\n@@ -1592,17 +1598,0 @@\n-        \/**\n-         * Make sure the subscriber gets completed if the stream gets closed\n-         * asynchronously outside of cancelImpl.\n-         * @param cause the error cause, if any\n-         *\/\n-        public void streamClosed(Throwable cause) {\n-            \/\/ if the subscriber has already completed,\n-            \/\/ there is nothing to do...\n-            if (!completed()) {\n-                \/\/ otherwise make sure it will be completed\n-                var ex = cause == null\n-                        ? new IOException(\"stream closed\")\n-                        : cause;\n-                complete(ex);\n-            }\n-        }\n-\n","filename":"src\/java.net.http\/share\/classes\/jdk\/internal\/net\/http\/Stream.java","additions":7,"deletions":18,"binary":false,"changes":25,"status":"modified"}]}