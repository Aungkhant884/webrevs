{"files":[{"patch":"@@ -211,0 +211,2 @@\n+     * @param textRunStart Text run start position.\n+     * @param curRunStart starting position of text run where hit info is requested.\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/scene\/text\/TextLayout.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -458,1 +458,1 @@\n-                        if (r.getTextSpan() != null && r.getTextSpan().getText().equals(text) && r.getStart() >= textRunStart) {\n+                        if (r.getTextSpan() != null && r.getStart() >= textRunStart && r.getTextSpan().getText().equals(text)) {\n@@ -466,1 +466,1 @@\n-                    if (!r.getTextSpan().getText().equals(text) || (r.getTextSpan().getText().equals(text) && r.getStart() < textRunStart)) {\n+                    if (!r.getTextSpan().getText().equals(text) || (r.getStart() < textRunStart && r.getTextSpan().getText().equals(text))) {\n@@ -763,1 +763,1 @@\n-                    if (r.getTextSpan() == null || (r.getTextSpan().getText().equals(text) && r.getStart() == runStart)) {\n+                    if (r.getTextSpan() == null || (r.getStart() == runStart && r.getTextSpan().getText().equals(text))) {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/text\/PrismTextLayout.java","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -1029,1 +1029,1 @@\n-            Point2D ptInParent = localToParent(x, y);\n+            double ptY = localToParent(x, y).getY();\n@@ -1031,2 +1031,1 @@\n-                if (ptInParent.getY() > runs[runIndex].getLocation().y\n-                        && ptInParent.getY() < runs[runIndex + 1].getLocation().y) {\n+                if (ptY > runs[runIndex].getLocation().y && ptY < runs[runIndex + 1].getLocation().y) {\n@@ -1038,2 +1037,6 @@\n-        int textRunStart = runs.length == 0 ? 0 : ((TextRun) runs[0]).getStart();\n-        int curRunStart = runs.length == 0 ? 0 : ((TextRun) runs[runIndex]).getStart();\n+        int textRunStart = 0;\n+        int curRunStart = 0;\n+        if (runs.length != 0) {\n+            textRunStart = ((TextRun) runs[0]).getStart();\n+            curRunStart = ((TextRun) runs[runIndex]).getStart();\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/text\/Text.java","additions":8,"deletions":5,"binary":false,"changes":13,"status":"modified"}]}