{"files":[{"patch":"@@ -428,0 +428,1 @@\n+        int textWidthPrevLine = 0;\n@@ -454,1 +455,8 @@\n-                for(TextRun r: runs) {\n+                for (int i = 0; i < lineIndex; i++) {\n+                    for (TextRun r: lines[i].runs) {\n+                        if (r.getTextSpan() != null && r.getTextSpan().getText().equals(text)) {\n+                            textWidthPrevLine += r.getLength();\n+                        }\n+                    }\n+                }\n+                for (TextRun r: runs) {\n@@ -469,1 +477,0 @@\n-                int temp = run.getOffsetAtX(x, trailing);\n@@ -472,3 +479,2 @@\n-                    if (relIndex != 0) {\n-                        charIndex += relIndex;\n-                    }\n+                    charIndex += textWidthPrevLine;\n+                    charIndex += relIndex;\n@@ -737,0 +743,1 @@\n+        boolean isPresent = true;\n@@ -741,1 +748,8 @@\n-                    if (r.getTextSpan() != null && r.getTextSpan().getText().equals(text)) {\n+                    if (r.getTextSpan() == null) {\n+                        isTextPresent = true;\n+                        break;\n+                    } else if (r.getTextSpan().getText().equals(text)) {\n+                        if (isPresent) {\n+                            bottom = 0;\n+                            isPresent = false;\n+                        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/text\/PrismTextLayout.java","additions":20,"deletions":6,"binary":false,"changes":26,"status":"modified"}]}