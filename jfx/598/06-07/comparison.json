{"files":[{"patch":"@@ -448,1 +448,0 @@\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/GlassApplication.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -779,0 +779,2 @@\n+\n+    event_serial = 0;\n@@ -1302,0 +1304,6 @@\n+void WindowContextTop::process_mouse_button(GdkEventButton* event) {\n+    WindowContextBase::process_mouse_button(event);\n+    \/\/Saves the X11 event serial to prevent \"focus stealing\".\n+    event_serial = event->time;\n+}\n+\n@@ -1375,2 +1383,2 @@\n-        \/\/ gtk_get_current_event_time will most likely return 0 which means focus stealing may occur, causing\n-        \/\/ activeWindows on WindowStage.java to be out of order which may cause the FOCUS_DISABLED event\n+        \/\/ event_serial holds an event serial that will help X11 determine which window should have the focus and\n+        \/\/ prevents activeWindows on WindowStage.java to be out of order which may cause the FOCUS_DISABLED event\n@@ -1378,7 +1386,1 @@\n-        \/\/ The ideal solution would be to pass the \"time\" (not really a time, but a serial number) of X11 events\n-        \/\/ or the \"original\" event to the below function.\n-        gtk_window_present_with_time(GTK_WINDOW(gtk_widget), gtk_get_current_event_time());\n-\n-        \/\/ this call reorganizes the window order\n-        mainEnv->CallVoidMethod(jwindow, jWindowNotifyFocus, com_sun_glass_events_WindowEvent_FOCUS_GAINED);\n-        CHECK_JNI_EXCEPTION(mainEnv);\n+        gtk_window_present_with_time(GTK_WINDOW(gtk_widget), event_serial);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.cpp","additions":11,"deletions":9,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -399,0 +399,3 @@\n+\n+    long event_serial;\n+\n@@ -435,0 +438,1 @@\n+    void process_mouse_button(GdkEventButton*);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.h","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}