{"files":[{"patch":"@@ -448,0 +448,17 @@\n+    public static void runInRenderThreadAndWait(Runnable runnable) {\n+        try {\n+            CountDownLatch latch = new CountDownLatch(1);\n+            QuantumRenderer.getInstance().execute(() -> {\n+                try {\n+                    runnable.run();\n+                } catch (Throwable e) {\n+                    e.printStackTrace();\n+                }\n+                latch.countDown();\n+            });\n+            latch.await();\n+        } catch (Throwable e) {\n+            e.printStackTrace();\n+        }\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/tk\/quantum\/QuantumToolkit.java","additions":17,"deletions":0,"binary":false,"changes":17,"status":"modified"},{"patch":"@@ -28,0 +28,2 @@\n+import com.sun.javafx.tk.quantum.QuantumToolkit;\n+\n@@ -129,0 +131,4 @@\n+        if (!Thread.currentThread().getName().startsWith(\"QuantumRenderer\")) {\n+            QuantumToolkit.runInRenderThreadAndWait(() -> cleanUp());\n+            return;\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/prism\/impl\/Disposer.java","additions":6,"deletions":0,"binary":false,"changes":6,"status":"modified"}]}