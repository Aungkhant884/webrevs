{"files":[{"patch":"@@ -192,0 +192,1 @@\n+            System.out.println(\"Update item 333\");\n@@ -358,0 +359,1 @@\n+        System.out.println(\"Start edit called!\");\n@@ -366,0 +368,1 @@\n+        System.out.println(\"super.Start edit called!\");\n@@ -535,0 +538,2 @@\n+        System.out.println(\"calling setFocused (\" + fm.isFocused(index) + \")\");\n+        System.out.println(\"fm.getFocusedIndex \" + fm.getFocusedIndex());\n@@ -544,7 +549,13 @@\n-        if (index == -1 || list == null) {\n-            if(editing) {\n-                updateEditingIndex = false;\n-                cancelEdit();\n-                updateEditingIndex = true;\n-            }\n-        } else {\n+\n+        if (editing && (index == -1 || list == null || index != editIndex)) {\n+            \/\/ If my index is not the one being edited then I need to cancel\n+            \/\/ the edit. The tricky thing here is that as part of this call\n+            \/\/ I cannot end up calling list.edit(-1) the way that the standard\n+            \/\/ cancelEdit method would do. Yet, I need to call cancelEdit\n+            \/\/ so that subclasses which override cancelEdit can execute. So,\n+            \/\/ I have to use a kind of hacky flag workaround.\n+            updateEditingIndex = false;\n+            cancelEdit();\n+            updateEditingIndex = true;\n+        }\n+        if(!editing && list != null && index != -1 && index == editIndex) {\n@@ -553,13 +564,1 @@\n-            if (index == editIndex && !editing) {\n-                startEdit();\n-            } else if (index != editIndex && editing) {\n-                \/\/ If my index is not the one being edited then I need to cancel\n-                \/\/ the edit. The tricky thing here is that as part of this call\n-                \/\/ I cannot end up calling list.edit(-1) the way that the standard\n-                \/\/ cancelEdit method would do. Yet, I need to call cancelEdit\n-                \/\/ so that subclasses which override cancelEdit can execute. So,\n-                \/\/ I have to use a kind of hacky flag workaround.\n-                updateEditingIndex = false;\n-                cancelEdit();\n-                updateEditingIndex = true;\n-            }\n+            startEdit();\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/ListCell.java","additions":19,"deletions":20,"binary":false,"changes":39,"status":"modified"}]}