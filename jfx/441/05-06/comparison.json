{"files":[{"patch":"@@ -544,1 +544,0 @@\n-        \/\/ Check that the list is specified, and my index is not -1\n@@ -546,1 +545,2 @@\n-            if(isEditing()) {\n+            if(editing) {\n+                updateEditingIndex = false;\n@@ -548,0 +548,1 @@\n+                updateEditingIndex = true;\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/ListCell.java","additions":3,"deletions":2,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -839,16 +839,0 @@\n-    @Test\n-    public void testChangeIndexWhileEditing_jdk_8264127() {\n-        List<EditEvent> events = new ArrayList<EditEvent>();\n-        list.setOnEditCancel(e -> {\n-            events.add(e);\n-        });\n-        list.setEditable(true);\n-        cell.updateListView(list);\n-        cell.updateIndex(1);\n-        list.edit(1);\n-        cell.updateIndex(0);\n-        assertTrue(!cell.isEditing());\n-        assertEquals(\"Should still be editing 1\", list.getEditingIndex(), 1);\n-        assertTrue(\"cell re-use must trigger cancel events\", events.size() == 1);\n-    }\n-\n@@ -892,1 +876,1 @@\n-            assertTrue(\"cell re-use must trigger edit events\", events.size() == 1);\n+            assertEquals(1, events.size());\n@@ -895,2 +879,2 @@\n-            assertTrue(!cell.isEditing());\n-            assertTrue(\"cell re-use must trigger edit events\", events.size() == 0);\n+            assertFalse(cell.isEditing());\n+            assertEquals(0, events.size());\n@@ -901,1 +885,17 @@\n-    public void testUpdateCellIndexOffEditing() {\n+    public void testChangeIndexOffEditing0_jdk_8264127() {\n+        assertUpdateCellIndexOffEditing(1, 0);\n+    }\n+    @Test\n+    public void testChangeIndexOffEditing1_jdk_8264127() {\n+        assertUpdateCellIndexOffEditing(1, -1);\n+    }\n+    @Test\n+    public void testChangeIndexOffEditing2_jdk_8264127() {\n+        assertUpdateCellIndexOffEditing(0, 1);\n+    }\n+    @Test\n+    public void testChangeIndexOffEditing3_jdk_8264127() {\n+        assertUpdateCellIndexOffEditing(0, -1);\n+    }\n+\n+    public void assertUpdateCellIndexOffEditing(int editingIndex, int cancelIndex) {\n@@ -903,0 +903,4 @@\n+        List<EditEvent> events = new ArrayList<EditEvent>();\n+        list.setOnEditCancel(e -> {\n+            events.add(e);\n+        });\n@@ -905,1 +909,0 @@\n-        int editingIndex = 1; \/\/ list editing\n@@ -910,1 +913,1 @@\n-        cell.updateIndex(-1); \/\/ change cell index to negative\n+        cell.updateIndex(cancelIndex); \/\/ change cell index to negative\n@@ -912,0 +915,1 @@\n+        assertEquals(1, events.size());\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ListCellTest.java","additions":26,"deletions":22,"binary":false,"changes":48,"status":"modified"}]}