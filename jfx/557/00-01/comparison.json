{"files":[{"patch":"@@ -32,0 +32,1 @@\n+import static org.junit.Assert.fail;\n@@ -64,3 +65,0 @@\n-import java.io.ByteArrayOutputStream;\n-import java.io.PrintStream;\n-\n@@ -76,0 +74,8 @@\n+\n+        Thread.currentThread().setUncaughtExceptionHandler((thread, throwable) -> {\n+            if (throwable instanceof RuntimeException) {\n+                throw (RuntimeException) throwable;\n+            } else {\n+                Thread.currentThread().getThreadGroup().uncaughtException(thread, throwable);\n+            }\n+        });\n@@ -159,4 +165,0 @@\n-        PrintStream defaultErrorStream = System.err;\n-        ByteArrayOutputStream out = new ByteArrayOutputStream();\n-        System.setErr(new PrintStream(out, true));\n-\n@@ -169,1 +171,5 @@\n-        box.setValue(items.get(1));\n+        try {\n+            box.setValue(items.get(1));\n+        } catch (Exception e) {\n+            fail(\"ChoiceBox.setValue() should not throw an exception.\");\n+        }\n@@ -173,3 +179,0 @@\n-\n-        System.setErr(defaultErrorStream);\n-        assertEquals(\"No NPE should be thrown\", \"\", out.toString());\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ChoiceBoxTest.java","additions":14,"deletions":11,"binary":false,"changes":25,"status":"modified"},{"patch":"@@ -49,2 +49,0 @@\n-import java.io.ByteArrayOutputStream;\n-import java.io.PrintStream;\n@@ -291,4 +289,0 @@\n-        PrintStream defaultErrorStream = System.err;\n-        ByteArrayOutputStream out = new ByteArrayOutputStream();\n-        System.setErr(new PrintStream(out, true));\n-\n@@ -308,1 +302,5 @@\n-        comboBox.setValue(items.get(1));\n+        try {\n+            comboBox.setValue(items.get(1));\n+        } catch (Exception e) {\n+            fail(\"ComboBox.setValue() should not throw an exception.\");\n+        }\n@@ -311,3 +309,0 @@\n-\n-        System.setErr(defaultErrorStream);\n-        assertEquals(\"No NPE should be thrown\", \"\", out.toString());\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ComboBoxTest.java","additions":5,"deletions":10,"binary":false,"changes":15,"status":"modified"}]}