{"files":[{"patch":"@@ -576,3 +576,6 @@\n-        comboBox.getSelectionModel().selectedItemProperty().addListener(o -> {\n-            listViewSelectionDirty = true;\n-        });\n+        SingleSelectionModel<T> selectionModel = comboBox.getSelectionModel();\n+        if (selectionModel != null) {\n+            selectionModel.selectedItemProperty().addListener(o -> {\n+                listViewSelectionDirty = true;\n+            });\n+        }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ComboBoxListViewSkin.java","additions":6,"deletions":3,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -357,0 +357,8 @@\n+    @Test public void testNullSelectionModelDoesNotThrowNPEOnSkinCreation() {\n+        ComboBox<String> comboBox = new ComboBox<>();\n+        comboBox.setSelectionModel(null);\n+\n+        \/\/ Should not throw an NPE.\n+        comboBox.setSkin(new ComboBoxListViewSkin<>(comboBox));\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ComboBoxTest.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}