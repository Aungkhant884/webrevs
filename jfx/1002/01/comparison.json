{"files":[{"patch":"@@ -177,2 +177,7 @@\n-                            if (menuitem instanceof RadioMenuItem) {\n-                                ((RadioMenuItem)menuitem).setSelected(!((RadioMenuItem)menuitem).isSelected());\n+                            if (menuitem instanceof RadioMenuItem radioMenuItem) {\n+                                if (radioMenuItem.getToggleGroup() == null) {\n+                                    radioMenuItem.setSelected(!radioMenuItem.isSelected());\n+                                }\n+                                else {\n+                                    radioMenuItem.setSelected(true);\n+                                }\n","filename":"modules\/javafx.controls\/src\/main\/java\/com\/sun\/javafx\/scene\/control\/ControlAcceleratorSupport.java","additions":7,"deletions":2,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -31,0 +31,3 @@\n+import test.com.sun.javafx.scene.control.infrastructure.KeyEventFirer;\n+import test.com.sun.javafx.scene.control.infrastructure.KeyModifier;\n+import test.com.sun.javafx.scene.control.infrastructure.StageLoader;\n@@ -39,0 +42,1 @@\n+import javafx.scene.Scene;\n@@ -41,0 +45,4 @@\n+import javafx.scene.control.Menu;\n+import javafx.scene.control.MenuBar;\n+import javafx.scene.input.KeyCombination;\n+import javafx.scene.input.KeyCode;\n@@ -299,0 +307,22 @@\n+\n+    @Test public void testRadioMenuItemSelectionOnAccelerator() {\n+       MenuBar menuBar = new MenuBar();\n+       Menu menu = new Menu(\"Submenu\");\n+       menuBar.getMenus().add(menu);\n+\n+       ToggleGroup group = new ToggleGroup();\n+       RadioMenuItem radioMenuItem = new RadioMenuItem(\"ONE\");\n+       radioMenuItem.setToggleGroup(group);\n+       radioMenuItem.setAccelerator(KeyCombination.valueOf(\"alt+1\"));\n+       menu.getItems().add(radioMenuItem);\n+\n+       StageLoader s = new StageLoader(menuBar);\n+       Scene scene = s.getStage().getScene();\n+       KeyEventFirer keyboard = new KeyEventFirer(radioMenuItem, scene);\n+\n+       keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);\n+       assertTrue(radioMenuItem.isSelected());\n+\n+       keyboard.doKeyPress(KeyCode.DIGIT1, KeyModifier.ALT);\n+       assertTrue(radioMenuItem.isSelected());\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/RadioMenuItemTest.java","additions":30,"deletions":0,"binary":false,"changes":30,"status":"modified"}]}