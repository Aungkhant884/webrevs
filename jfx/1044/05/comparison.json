{"files":[{"patch":"@@ -387,6 +387,12 @@\n-    \/\/ converting direction to change in pixels\n-    switch (event->direction) {\n-#if GTK_CHECK_VERSION(3, 4, 0)\n-        case GDK_SCROLL_SMOOTH:\n-            \/\/FIXME 3.4 ???\n-            break;\n+    bool is_smooth = false;\n+\n+#ifdef GLASS_GTK3\n+    \/\/ gtk sends both smooth and non-smooth events\n+    if (gdk_window_get_events(gdk_window) & GDK_SMOOTH_SCROLL_MASK) {\n+        is_smooth = true;\n+        if (event->direction == GDK_SCROLL_SMOOTH) {\n+            \/\/ Note: For gtk negatives values means UP\/LEFT, JavaFx is opposite\n+            dx = -event->delta_x;\n+            dy = -event->delta_y;\n+        }\n+    }\n@@ -394,1 +400,4 @@\n-        case GDK_SCROLL_UP:\n+\n+    if (!is_smooth) {\n+        \/\/ converting direction to change in pixels\n+        if (event->direction == GDK_SCROLL_UP) {\n@@ -396,2 +405,1 @@\n-            break;\n-        case GDK_SCROLL_DOWN:\n+        } else if (event->direction == GDK_SCROLL_DOWN) {\n@@ -399,2 +407,1 @@\n-            break;\n-        case GDK_SCROLL_LEFT:\n+        } else if (event->direction == GDK_SCROLL_LEFT) {\n@@ -402,2 +409,1 @@\n-            break;\n-        case GDK_SCROLL_RIGHT:\n+        } else if (event->direction == GDK_SCROLL_RIGHT) {\n@@ -405,1 +411,1 @@\n-            break;\n+        }\n@@ -407,0 +413,1 @@\n+\n@@ -412,1 +419,3 @@\n-    if (jview) {\n+\n+    if (jview && (dx != 0 || dy != 0)) {\n+        g_print(\"Delta: %f, %f\\n\", dx, dy);\n@@ -423,1 +432,0 @@\n-\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.cpp","additions":24,"deletions":16,"binary":false,"changes":40,"status":"modified"}]}