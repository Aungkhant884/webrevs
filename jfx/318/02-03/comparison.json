{"files":[{"patch":"@@ -277,2 +277,1 @@\n-        tabHeaderArea.removeListeners();\n-\n+        tabHeaderArea.dispose();\n@@ -515,1 +514,1 @@\n-                tabRegion.removeListeners(tab);\n+                tabRegion.dispose();\n@@ -1233,1 +1232,1 @@\n-        void removeListeners() {\n+        void dispose() {\n@@ -1236,1 +1235,1 @@\n-                header.removeListeners(header.getTab());\n+                header.dispose();\n@@ -1238,1 +1237,1 @@\n-            controlButtons.removeListeners();\n+            controlButtons.dispose();\n@@ -1527,1 +1526,1 @@\n-                                removeListeners(tab);\n+                                dispose();\n@@ -1573,1 +1572,1 @@\n-        private void removeListeners(Tab tab) {\n+        private void dispose() {\n@@ -1576,2 +1575,0 @@\n-            inner.getChildren().clear();\n-            getChildren().clear();\n@@ -1726,1 +1723,1 @@\n-        private void removeListeners() {\n+        public void dispose() {\n@@ -1731,5 +1728,0 @@\n-        public void dispose() {\n-            getChildren().clear();\n-            removeListeners();\n-        }\n-\n@@ -1843,1 +1835,1 @@\n-        void removeListeners() {\n+        void dispose() {\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/TabPaneSkin.java","additions":9,"deletions":17,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -1216,1 +1216,0 @@\n-    @Ignore(\"JDK-8242621\")\n@@ -1219,1 +1218,0 @@\n-        \/\/ Because of JDK-8242621, this test fails with NPE.\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TabPaneTest.java","additions":0,"deletions":2,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -266,8 +266,6 @@\n-      TabPane tabPane = new TabPane();\n-      tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n-      showControl(tabPane, false);\n-      assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n-      TabPaneSkin skin1 = (TabPaneSkin)createAlternativeSkin(tabPane);\n-      assertEquals(6, tabPane.getChildrenUnmodifiable().size());\n-      tabPane.setSkin(skin1);\n-      assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n+        TabPane tabPane = new TabPane();\n+        tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n+        installDefaultSkin(tabPane);\n+        int childrenCount = tabPane.getChildrenUnmodifiable().size();\n+        replaceSkin(tabPane);\n+        assertEquals(childrenCount, tabPane.getChildrenUnmodifiable().size());\n@@ -278,11 +276,8 @@\n-      TabPane tabPane = new TabPane();\n-      assertEquals(0, tabPane.getChildrenUnmodifiable().size());\n-      tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n-      showControl(tabPane, false);\n-      assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n-      root.getChildren().remove(tabPane);\n-      assertTrue(tabPane.getSkin() instanceof TabPaneSkin);\n-      assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n-      tabPane.setSkin(null);\n-      assertNull(tabPane.getSkin());\n-      assertEquals(0, tabPane.getChildrenUnmodifiable().size());\n+        TabPane tabPane = new TabPane();\n+        assertEquals(0, tabPane.getChildrenUnmodifiable().size());\n+        tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n+        installDefaultSkin(tabPane);\n+        assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n+        tabPane.setSkin(null);\n+        assertNull(tabPane.getSkin());\n+        assertEquals(0, tabPane.getChildrenUnmodifiable().size());\n@@ -292,6 +287,6 @@\n-    public void testNPEWhenAddTabsAfterSkinIsReplaced() {\n-      TabPane tabPane = new TabPane();\n-      tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n-      showControl(tabPane, false);\n-      replaceSkin(tabPane);\n-      tabPane.getTabs().addAll(new Tab(\"2\"), new Tab(\"3\"));\n+    public void testNPEWhenTabsAddedAfterSkinIsReplaced() {\n+        TabPane tabPane = new TabPane();\n+        tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n+        installDefaultSkin(tabPane);\n+        replaceSkin(tabPane);\n+        tabPane.getTabs().addAll(new Tab(\"2\"), new Tab(\"3\"));\n@@ -301,6 +296,6 @@\n-    public void testNPEWhenRemTabAfterSkinIsReplaced() {\n-      TabPane tabPane = new TabPane();\n-      tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n-      showControl(tabPane, false);\n-      replaceSkin(tabPane);\n-      tabPane.getTabs().remove(0);\n+    public void testNPEWhenTabRemovedAfterSkinIsReplaced() {\n+        TabPane tabPane = new TabPane();\n+        tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n+        installDefaultSkin(tabPane);\n+        replaceSkin(tabPane);\n+        tabPane.getTabs().remove(0);\n@@ -310,13 +305,13 @@\n-    public void testAddRemTabsAfterSkinIsReplaced() {\n-      TabPane tabPane = new TabPane();\n-      tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n-      showControl(tabPane, false);\n-      assertEquals(2, tabPane.getTabs().size());\n-      assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n-      replaceSkin(tabPane);\n-      tabPane.getTabs().addAll(new Tab(\"2\"), new Tab(\"3\"));\n-      assertEquals(4, tabPane.getTabs().size());\n-      assertEquals(5, tabPane.getChildrenUnmodifiable().size());\n-      tabPane.getTabs().clear();\n-      assertEquals(0, tabPane.getTabs().size());\n-      assertEquals(1, tabPane.getChildrenUnmodifiable().size());\n+    public void testAddRemoveTabsAfterSkinIsReplaced() {\n+        TabPane tabPane = new TabPane();\n+        tabPane.getTabs().addAll(new Tab(\"0\"), new Tab(\"1\"));\n+        installDefaultSkin(tabPane);\n+        assertEquals(2, tabPane.getTabs().size());\n+        assertEquals(3, tabPane.getChildrenUnmodifiable().size());\n+        replaceSkin(tabPane);\n+        tabPane.getTabs().addAll(new Tab(\"2\"), new Tab(\"3\"));\n+        assertEquals(4, tabPane.getTabs().size());\n+        assertEquals(5, tabPane.getChildrenUnmodifiable().size());\n+        tabPane.getTabs().clear();\n+        assertEquals(0, tabPane.getTabs().size());\n+        assertEquals(1, tabPane.getChildrenUnmodifiable().size());\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/SkinCleanupTest.java","additions":39,"deletions":44,"binary":false,"changes":83,"status":"modified"}]}