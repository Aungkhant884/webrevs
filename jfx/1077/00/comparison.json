{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -352,2 +352,0 @@\n-            width = tableCell.prefWidth(height);\n-\n@@ -358,0 +356,3 @@\n+                \/\/ Note: We have to determine the pref width here because the add operation above may trigger the skin\n+                \/\/ creation first, which is what makes it possible to get a correct value here in the first place.\n+                width = tableCell.prefWidth(height);\n@@ -429,0 +430,1 @@\n+                width = tableCell.prefWidth(height);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/TableRowSkinBase.java","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2021, 2022 Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2021, 2023 Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import javafx.scene.Node;\n@@ -41,0 +42,1 @@\n+import javafx.scene.layout.Region;\n@@ -49,0 +51,1 @@\n+import static org.junit.Assert.assertNotEquals;\n@@ -247,0 +250,41 @@\n+    \/**\n+     * When we make an invisible column visible we expect the underlying cells to be visible, e.g. as width > 0.\n+     * See also: JDK-8305248\n+     *\/\n+    @Test\n+    public void testMakeInvisibleColumnVisible() {\n+        tableView.setFixedCellSize(24);\n+        TableColumn<Person, ?> firstColumn = tableView.getColumns().get(0);\n+        firstColumn.setVisible(false);\n+\n+        tableView.refresh();\n+        Toolkit.getToolkit().firePulse();\n+\n+        firstColumn.setVisible(true);\n+        Toolkit.getToolkit().firePulse();\n+\n+        IndexedCell<?> row = VirtualFlowTestUtils.getCell(tableView, 0);\n+        for (Node cellNode : row.getChildrenUnmodifiable()) {\n+            double width = ((Region) cellNode).getWidth();\n+            assertNotEquals(0.0, width);\n+        }\n+    }\n+\n+    @Test\n+    public void testMakeVisibleColumnInvisible() {\n+        tableView.setFixedCellSize(24);\n+        TableColumn<Person, ?> firstColumn = tableView.getColumns().get(0);\n+\n+        tableView.refresh();\n+        Toolkit.getToolkit().firePulse();\n+\n+        firstColumn.setVisible(false);\n+        Toolkit.getToolkit().firePulse();\n+\n+        IndexedCell<?> row = VirtualFlowTestUtils.getCell(tableView, 0);\n+        for (Node cellNode : row.getChildrenUnmodifiable()) {\n+            double width = ((Region) cellNode).getWidth();\n+            assertNotEquals(0.0, width);\n+        }\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/TableRowSkinTest.java","additions":45,"deletions":1,"binary":false,"changes":46,"status":"modified"}]}