{"files":[{"patch":"@@ -151,1 +151,1 @@\n-    private static final Object LOCK = new Object();\n+    private final Object LOCK = new Object();\n@@ -411,1 +411,0 @@\n-        EmbeddedSceneInterface lScenePeer;\n@@ -413,1 +412,1 @@\n-            lScenePeer = scenePeer;\n+            return scenePeer;\n@@ -415,1 +414,0 @@\n-        return lScenePeer;\n@@ -419,1 +417,0 @@\n-        EmbeddedStageInterface lStagePeer;\n@@ -421,1 +418,1 @@\n-            lStagePeer = stagePeer;\n+            return stagePeer;\n@@ -423,1 +420,0 @@\n-        return lStagePeer;\n@@ -1042,1 +1038,0 @@\n-            EmbeddedStageInterface lStagePeer;\n@@ -1044,5 +1039,4 @@\n-                lStagePeer = stagePeer;\n-            }\n-            lStagePeer = embeddedStage;\n-            if (lStagePeer == null) {\n-                return;\n+                stagePeer = embeddedStage;\n+                if (stagePeer == null) {\n+                    return;\n+                }\n@@ -1051,4 +1045,1 @@\n-                lStagePeer.setSize(pWidth, pHeight);\n-            }\n-            synchronized(LOCK) {\n-                stagePeer = lStagePeer;\n+                embeddedStage.setSize(pWidth, pHeight);\n@@ -1057,6 +1048,2 @@\n-                EmbeddedStageInterface tmpStagePeer;\n-                synchronized(LOCK) {\n-                    tmpStagePeer = stagePeer;\n-                }\n-                if (tmpStagePeer != null && JFXPanel.this.isFocusOwner()) {\n-                    tmpStagePeer.setFocused(true, AbstractEvents.FOCUSEVENT_ACTIVATED);\n+                if (JFXPanel.this.isFocusOwner()) {\n+                    embeddedStage.setFocused(true, AbstractEvents.FOCUSEVENT_ACTIVATED);\n@@ -1070,1 +1057,0 @@\n-            EmbeddedSceneInterface lScenePeer;\n@@ -1072,4 +1058,4 @@\n-                lScenePeer = scenePeer;\n-            }\n-            if (lScenePeer == embeddedScene) {\n-                return;\n+                if (scenePeer == embeddedScene) {\n+                    return;\n+                }\n+                scenePeer = embeddedScene;\n@@ -1077,2 +1063,1 @@\n-            lScenePeer = embeddedScene;\n-            if (lScenePeer == null) {\n+            if (embeddedScene == null) {\n@@ -1088,5 +1073,1 @@\n-                lScenePeer.setSize(pWidth, pHeight);\n-            }\n-            lScenePeer.setPixelScaleFactors((float) scaleFactorX, (float) scaleFactorY);\n-            synchronized(LOCK) {\n-                scenePeer = lScenePeer;\n+                embeddedScene.setSize(pWidth, pHeight);\n@@ -1094,0 +1075,1 @@\n+            embeddedScene.setPixelScaleFactors((float) scaleFactorX, (float) scaleFactorY);\n@@ -1096,5 +1078,1 @@\n-                EmbeddedSceneInterface tmpScenePeer;\n-                synchronized(LOCK) {\n-                    tmpScenePeer = scenePeer;\n-                }\n-                dnd = new SwingDnD(JFXPanel.this, tmpScenePeer);\n+                dnd = new SwingDnD(JFXPanel.this, embeddedScene);\n@@ -1102,3 +1080,1 @@\n-                if (tmpScenePeer != null) {\n-                    tmpScenePeer.setDragStartListener(dnd.getDragStartListener());\n-                }\n+                embeddedScene.setDragStartListener(dnd.getDragStartListener());\n","filename":"modules\/javafx.swing\/src\/main\/java\/javafx\/embed\/swing\/JFXPanel.java","additions":19,"deletions":43,"binary":false,"changes":62,"status":"modified"}]}