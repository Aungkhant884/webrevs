{"files":[{"patch":"@@ -793,1 +793,1 @@\n-                            _nextAdd(start, start + pos);\n+                            _nextAdd(start, end);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/MultipleSelectionModelBase.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -37,0 +37,1 @@\n+import static org.junit.Assert.fail;\n@@ -1399,0 +1400,27 @@\n+\n+    @Test\n+    public void test_8256397() throws InterruptedException {\n+        testFactory_8256397(0, new int[]{2,3}, new Integer[]{0, 2, 3});\n+        testFactory_8256397(1, new int[]{0,3}, new Integer[]{0, 1, 3});\n+        testFactory_8256397(3, new int[]{0}, new Integer[]{0, 3});\n+    }\n+    public void testFactory_8256397(int selected, int[] selectedI, Integer[] added) throws InterruptedException {\n+        ListView<String> listView = new ListView<>();\n+        listView.getItems().add(\"item-0\");\n+        listView.getItems().add(\"item-1\");\n+        listView.getItems().add(\"item-2\");\n+        listView.getItems().add(\"item-3\");\n+        MultipleSelectionModel<String> selectionModel = listView.getSelectionModel();\n+        selectionModel.setSelectionMode(SelectionMode.MULTIPLE);\n+        selectionModel.getSelectedIndices().addListener((ListChangeListener<? super Integer>) c -> {\n+            while (c.next()) {\n+                try {\n+                    assertEquals(added, c.getAddedSubList().toArray());\n+                } catch (IndexOutOfBoundsException e) {\n+                    fail(e.getMessage());\n+                }\n+            }\n+        });\n+        selectionModel.selectIndices(selected, selectedI);\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/MultipleSelectionModelImplTest.java","additions":28,"deletions":0,"binary":false,"changes":28,"status":"modified"}]}