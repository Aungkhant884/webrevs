{"files":[{"patch":"@@ -31,1 +31,0 @@\n-import com.sun.javafx.tk.Toolkit;\n@@ -73,1 +72,0 @@\n-    static CountDownLatch scrollLatch = new CountDownLatch(1);\n@@ -95,10 +93,4 @@\n-        Util.runAndWait(() -> {\n-            for (int i = 0; i < scrollAmt; i++) {\n-                robot.keyType(KeyCode.DOWN);\n-                Toolkit.getToolkit().firePulse();\n-            }\n-            scrollLatch.countDown();\n-        });\n-\n-        Util.waitForLatch(scrollLatch, 5, \"Timeout waiting for choicebox to be hidden.\");\n-        Thread.sleep(400); \/\/ Wait for up arrow to get loaded in UI\n+        for (int i = 0; i < scrollAmt; i++) {\n+            Util.runAndWait(() -> robot.keyType(KeyCode.DOWN));\n+            Util.waitForIdle(scene);\n+        }\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/ChoiceBoxScrollUpOnCollectionChangeTest.java","additions":4,"deletions":12,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -51,1 +51,0 @@\n-import com.sun.javafx.tk.Toolkit;\n@@ -104,2 +103,0 @@\n-            Toolkit.getToolkit().firePulse();\n-\n@@ -107,1 +104,1 @@\n-        Thread.sleep(200); \/\/ Small delay to wait for context menu to close.\n+        Util.waitForIdle(scene);\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/ContextMenuNPETest.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"}]}