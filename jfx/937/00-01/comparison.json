{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import javafx.beans.value.ChangeListener;\n@@ -35,0 +36,1 @@\n+import test.com.sun.javafx.binding.ExpressionHelperUtility;\n@@ -42,0 +44,1 @@\n+import static org.junit.Assert.assertNotEquals;\n@@ -134,0 +137,26 @@\n+\n+    @Test\n+    public void testMemoryButtonSkinDoesntAddAdditionalListenersOnSceneChange() {\n+        \/\/ JDK-8296409\n+        MenuItem menuItem = new MenuItem(\"Menu Item\");\n+        MenuButton menuButton = new MenuButton(\"Menu Button\", null, menuItem);\n+        StackPane root = new StackPane(menuButton);\n+        StackPane root2 = new StackPane();\n+        StageLoader sl1 = new StageLoader(root);\n+        StageLoader sl2 = new StageLoader(root2);\n+        assertEquals(1, getListenerCount(menuItem.acceleratorProperty()));\n+        ChangeListener originalChangeListener =\n+                ExpressionHelperUtility.getChangeListeners(menuItem.acceleratorProperty()).get(0);\n+        root2.getChildren().add(menuButton);\n+        assertEquals(1, getListenerCount(menuItem.acceleratorProperty()));\n+        ChangeListener secondChangeListener =\n+                ExpressionHelperUtility.getChangeListeners(menuItem.acceleratorProperty()).get(0);\n+        assertNotEquals(originalChangeListener, secondChangeListener);\n+        root.getChildren().add(menuButton);\n+        assertEquals(1, getListenerCount(menuItem.acceleratorProperty()));\n+        ChangeListener thirdChangeListener =\n+                ExpressionHelperUtility.getChangeListeners(menuItem.acceleratorProperty()).get(0);\n+        assertNotEquals(secondChangeListener,thirdChangeListener);\n+        sl1.dispose();\n+        sl2.dispose();\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/ControlAcceleratorSupportTest.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"modified"}]}