{"files":[{"patch":"@@ -300,0 +300,2 @@\n+     *\n+     * @since 17\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/css\/Stylesheet.java","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -652,0 +652,38 @@\n+    private byte[] convertCssTextToBinary(String cssText) throws IOException {\n+        File inputFile = null, outputFile = null;\n+        byte[] stylesheetData;\n+\n+        try {\n+            inputFile = File.createTempFile(\"convertCssTextToBinary\", \".css\");\n+            outputFile = File.createTempFile(\"convertCssTextToBinary\", \".bss\");\n+            Files.writeString(inputFile.toPath(), cssText);\n+            Stylesheet.convertToBinary(inputFile, outputFile);\n+            stylesheetData = Files.readAllBytes(outputFile.toPath());\n+        } finally {\n+            if (inputFile != null) {\n+                inputFile.delete();\n+            }\n+\n+            if (outputFile != null) {\n+                outputFile.delete();\n+            }\n+        }\n+\n+        return stylesheetData;\n+    }\n+\n+    @Test\n+    public void testLoadBinaryStylesheetFromStream() throws IOException {\n+        byte[] stylesheetData = convertCssTextToBinary(\".rect { -fx-fill: blue; }\");\n+\n+        var rules = Stylesheet.loadBinary(new ByteArrayInputStream(stylesheetData)).getRules();\n+        assertEquals(1, rules.size());\n+\n+        var rule = rules.get(0);\n+        assertEquals(1, rule.getDeclarations().size());\n+\n+        var decl = rule.getDeclarations().get(0);\n+        assertEquals(\"-fx-fill\", decl.getProperty());\n+        assertEquals(\"0x0000ffff\", decl.getParsedValue().getValue().toString());\n+    }\n+\n@@ -682,18 +720,1 @@\n-        File inputFile = null, outputFile = null;\n-        byte[] stylesheetData;\n-\n-        try {\n-            inputFile = File.createTempFile(\"testLoadStylesheetFromBinaryDataURI\", \".css\");\n-            outputFile = File.createTempFile(\"testLoadStylesheetFromBinaryDataURI\", \".bss\");\n-            Files.writeString(inputFile.toPath(), \".rect { -fx-fill: blue; }\");\n-            Stylesheet.convertToBinary(inputFile, outputFile);\n-            stylesheetData = Files.readAllBytes(outputFile.toPath());\n-        } finally {\n-            if (inputFile != null) {\n-                inputFile.delete();\n-            }\n-\n-            if (outputFile != null) {\n-                outputFile.delete();\n-            }\n-        }\n+        byte[] stylesheetData = convertCssTextToBinary(\".rect { -fx-fill: blue; }\");\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/css\/StylesheetTest.java","additions":39,"deletions":18,"binary":false,"changes":57,"status":"modified"}]}