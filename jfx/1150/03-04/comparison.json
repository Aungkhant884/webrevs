{"files":[{"patch":"@@ -36,0 +36,1 @@\n+import static org.junit.Assert.fail;\n@@ -1530,0 +1531,1 @@\n+     * If it is called the height will be wrong for some cells.\n@@ -1532,1 +1534,1 @@\n-    public void testComputeHeightShouldNotBeCalledWhenFixedCellSizeIsSet() {\n+    public void testComputeHeightShouldNotBeUsedWhenFixedCellSizeIsSet() {\n@@ -1585,0 +1587,1 @@\n+     * If it is called the width will be wrong for some cells.\n@@ -1587,1 +1590,1 @@\n-    public void testComputeWidthShouldNotBeCalledWhenFixedCellSizeIsSet() {\n+    public void testComputeWidthShouldNotBeUsedWhenFixedCellSizeIsSet() {\n@@ -1638,0 +1641,75 @@\n+\n+    \/**\n+     * The VirtualFlow should never call the compute height methods when a fixed cell size is set.\n+     *\/\n+    @Test\n+    public void testComputeHeightShouldNotBeCalledWhenFixedCellSizeIsSet() {\n+        int cellSize = 24;\n+\n+        flow = new VirtualFlowShim<>();\n+        flow.setFixedCellSize(cellSize);\n+        flow.setCellFactory(p -> new CellStub(flow) {\n+\n+            @Override\n+            protected double computeMinHeight(double width) {\n+                fail();\n+                return 1337;\n+            }\n+\n+            @Override\n+            protected double computeMaxHeight(double width) {\n+                fail();\n+                return 1337;\n+            }\n+\n+            @Override\n+            protected double computePrefHeight(double width) {\n+                fail();\n+                return 1337;\n+            }\n+        });\n+        flow.setCellCount(100);\n+        flow.resize(cellSize * 10, cellSize * 10);\n+\n+        \/\/ Trigger layout and see if the computeXXX method are called above.\n+        pulse();\n+        pulse();\n+    }\n+\n+    \/**\n+     * The VirtualFlow should never call the compute width methods when a fixed cell size is set.\n+     *\/\n+    @Test\n+    public void testComputeWidthShouldNotBeCalledWhenFixedCellSizeIsSet() {\n+        int cellSize = 24;\n+\n+        flow = new VirtualFlowShim<>();\n+        flow.setVertical(false);\n+        flow.setFixedCellSize(cellSize);\n+        flow.setCellFactory(p -> new CellStub(flow) {\n+\n+            @Override\n+            protected double computeMinWidth(double height) {\n+                fail();\n+                return 1337;\n+            }\n+\n+            @Override\n+            protected double computeMaxWidth(double height) {\n+                fail();\n+                return 1337;\n+            }\n+\n+            @Override\n+            protected double computePrefWidth(double height) {\n+                fail();\n+                return 1337;\n+            }\n+        });\n+        flow.setCellCount(100);\n+        flow.resize(cellSize * 10, cellSize * 10);\n+\n+        \/\/ Trigger layout and see if the computeXXX method are called above.\n+        pulse();\n+        pulse();\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/VirtualFlowTest.java","additions":80,"deletions":2,"binary":false,"changes":82,"status":"modified"}]}