{"files":[{"patch":"@@ -34,4 +34,0 @@\n-    public GtkPixels(int width, int height, ByteBuffer data, float scalex, float scaley) {\n-        super(width, height, data, scalex, scaley);\n-    }\n-\n@@ -42,0 +38,4 @@\n+    public GtkPixels(int width, int height, ByteBuffer data, float scalex, float scaley) {\n+        super(width, height, data, scalex, scaley);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/gtk\/GtkPixels.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -127,2 +127,1 @@\n-\n-\n+    \n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/ios\/IosApplication.java","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -52,4 +52,0 @@\n-    protected MacPixels(int width, int height, ByteBuffer data, float scalex, float scaley) {\n-        super(width, height, data, scalex, scaley);\n-    }\n-\n@@ -60,0 +56,4 @@\n+    protected MacPixels(int width, int height, ByteBuffer data, float scalex, float scaley) {\n+        super(width, height, data, scalex, scaley);\n+    }\n+    \n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/mac\/MacPixels.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -191,3 +191,1 @@\n-    public Pixels createPixels(int width, int height, ByteBuffer data,\n-                               float scalex, float scaley)\n-    {\n+    public Pixels createPixels(int width, int height, ByteBuffer data, float scalex, float scaley) {\n@@ -203,3 +201,1 @@\n-    public Pixels createPixels(int width, int height, IntBuffer data,\n-                               float scalex, float scaley)\n-    {\n+    public Pixels createPixels(int width, int height, IntBuffer data, float scalex, float scaley) {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/monocle\/MonocleApplication.java","additions":2,"deletions":6,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -49,4 +49,0 @@\n-    protected WinPixels(int width, int height, IntBuffer data) {\n-        super(width, height, data);\n-    }\n-\n@@ -56,0 +52,4 @@\n+    \n+    protected WinPixels(int width, int height, IntBuffer data) {\n+        super(width, height, data);\n+    }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/win\/WinPixels.java","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -48,0 +48,4 @@\n+static jfieldID  jPixelsWidthField = 0;\n+static jfieldID  jPixelsHeightField = 0;\n+static jfieldID  jPixelsScaleXField = 0;\n+static jfieldID  jPixelsScaleYField = 0;\n@@ -265,15 +269,14 @@\n-            jclass pixelsClass = (*env)->FindClass(env, \"com\/sun\/glass\/ui\/mac\/MacPixels\");\n-\n-            jfieldID jPixelsWidthField = (*env)->GetFieldID(env, pixelsClass, \"width\", \"I\");\n-            jfieldID jPixelsHeightField = (*env)->GetFieldID(env, pixelsClass, \"height\", \"I\");\n-            jfieldID jPixelsScaleXField = (*env)->GetFieldID(env, pixelsClass, \"scalex\", \"F\");\n-            jfieldID jPixelsScaleYField = (*env)->GetFieldID(env, pixelsClass, \"scaley\", \"F\");\n-\n-            jint width = (*env)->GetIntField(env, pixels, jPixelsWidthField);\n-            jint height = (*env)->GetIntField(env, pixels, jPixelsHeightField);\n-            jfloat scalex = (*env)->GetFloatField(env, pixels, jPixelsScaleXField);\n-            jfloat scaley = (*env)->GetFloatField(env, pixels, jPixelsScaleYField);\n-\n-            if ((scalex > 1) && (scaley > 1) && (width > 1) && (height > 1)) {\n-                NSSize imgSize = {width \/ scalex, height \/ scaley};\n-                [image setSize: imgSize];\n+            if ((jPixelsWidthField > 0) \n+                && (jPixelsHeightField > 0) \n+                && (jPixelsScaleXField > 0) \n+                && (jPixelsScaleYField > 0)\n+            ) {\n+                jint width = (*env)->GetIntField(env, pixels, jPixelsWidthField);\n+                jint height = (*env)->GetIntField(env, pixels, jPixelsHeightField);\n+                jfloat scalex = (*env)->GetFloatField(env, pixels, jPixelsScaleXField);\n+                jfloat scaley = (*env)->GetFloatField(env, pixels, jPixelsScaleYField);\n+\n+                if ((scalex > 1) && (scaley > 1) && (width > 1) && (height > 1)) {\n+                    NSSize imgSize = {width \/ scalex, height \/ scaley};\n+                    [image setSize: imgSize];\n+                }\n@@ -394,0 +397,4 @@\n+    jclass pixelsClass = [GlassHelper ClassForName:\"com.sun.glass.ui.mac.MacPixels\" withEnv: env];\n+    if (!pixelsClass) {\n+        return;\n+    }\n@@ -404,0 +411,9 @@\n+    if ((*env)->ExceptionCheck(env)) return;\n+    jPixelsWidthField = (*env)->GetFieldID(env, pixelsClass, \"width\", \"I\");\n+    if ((*env)->ExceptionCheck(env)) return;\n+    jPixelsHeightField = (*env)->GetFieldID(env, pixelsClass, \"height\", \"I\");\n+    if ((*env)->ExceptionCheck(env)) return;\n+    jPixelsScaleXField = (*env)->GetFieldID(env, pixelsClass, \"scalex\", \"F\");\n+    if ((*env)->ExceptionCheck(env)) return;\n+    jPixelsScaleYField = (*env)->GetFieldID(env, pixelsClass, \"scaley\", \"F\");\n+    if ((*env)->ExceptionCheck(env)) return;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMenu.m","additions":31,"deletions":15,"binary":false,"changes":46,"status":"modified"}]}