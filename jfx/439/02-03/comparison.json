{"files":[{"patch":"@@ -253,14 +253,0 @@\n-\/**\n- * Converts the given OS architecture to unified form\n- *\n- * @param arch OS architecture\n- * @return unified OS architecture which is used for JavaFX building\n- *\/\n-String getConvertedOsArch(String arch) {\n-    switch (arch) {\n-        case \"aarch64\" : return \"arm64\"\n-        case \"amd64\" : return \"x64\"\n-        default: return arch\n-    }\n-}\n-\n@@ -308,1 +294,0 @@\n-ext.CONVERTED_OS_ARCH = getConvertedOsArch(OS_ARCH)\n@@ -423,1 +408,0 @@\n-ext.CONVERTED_TARGET_ARCH = getConvertedOsArch(TARGET_ARCH)\n@@ -1326,3 +1310,0 @@\n-logger.quiet(\"TARGET_ARCH: $TARGET_ARCH\")\n-logger.quiet(\"CONVERTED_OS_ARCH: $CONVERTED_OS_ARCH\")\n-logger.quiet(\"CONVERTED_TARGET_ARCH: $CONVERTED_TARGET_ARCH\")\n","filename":"build.gradle","additions":0,"deletions":19,"binary":false,"changes":19,"status":"modified"},{"patch":"@@ -44,2 +44,3 @@\n-def IS_CROSS = CONVERTED_OS_ARCH != CONVERTED_TARGET_ARCH\n-def VC_ARCH = IS_CROSS ? \"${CONVERTED_OS_ARCH}_${CONVERTED_TARGET_ARCH}\" : CONVERTED_TARGET_ARCH\n+def HOST_ARCH = getWinArch(ext.OS_ARCH)\n+def TARGET_ARCH = getWinArch(ext.TARGET_ARCH)\n+def IS_CROSS = HOST_ARCH != TARGET_ARCH\n@@ -59,2 +60,2 @@\n-                        \"VCARCH\"     : VC_ARCH,\n-                        \"SDKARCH\"    : \"\/$CONVERTED_TARGET_ARCH\",\n+                        \"VCARCH\"     : IS_CROSS ? \"${HOST_ARCH}_${TARGET_ARCH}\" : TARGET_ARCH,\n+                        \"SDKARCH\"    : \"\/$TARGET_ARCH\",\n@@ -153,1 +154,1 @@\n-    msvcBinDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/bin\/$CONVERTED_TARGET_ARCH\"\n+    msvcBinDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/bin\/$TARGET_ARCH\"\n@@ -161,1 +162,1 @@\n-    msvcBinDir = \"$msvcInstallDir\/bin\/Host${CPU_BITS}\/$CONVERTED_TARGET_ARCH\"\n+    msvcBinDir = \"$msvcInstallDir\/bin\/Host${CPU_BITS}\/$TARGET_ARCH\"\n@@ -171,1 +172,1 @@\n-    winSdkBinDir += \"\/$CONVERTED_TARGET_ARCH\"\n+    winSdkBinDir += \"\/$TARGET_ARCH\"\n@@ -177,1 +178,1 @@\n-        winSdkBinDir += \"\/$CONVERTED_TARGET_ARCH\"\n+        winSdkBinDir += \"\/$TARGET_ARCH\"\n@@ -183,1 +184,1 @@\n-def hostWinSdkBinDir = \"$WINDOWS_SDK_DIR\/Bin\/$WINDOWS_SDK_VERSION\/$CONVERTED_OS_ARCH\"\n+def hostWinSdkBinDir = \"$WINDOWS_SDK_DIR\/Bin\/$WINDOWS_SDK_VERSION\/$HOST_ARCH\"\n@@ -203,1 +204,1 @@\n-    msvcRedstDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/Redist\/$CONVERTED_TARGET_ARCH\"\n+    msvcRedstDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/Redist\/$TARGET_ARCH\"\n@@ -207,1 +208,1 @@\n-        msvcRedstDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/Redist\/MSVC\/$msvcRedistVer\/$CONVERTED_TARGET_ARCH\"\n+        msvcRedstDir = \"$WINDOWS_VS_VSINSTALLDIR\/VC\/Redist\/MSVC\/$msvcRedistVer\/$TARGET_ARCH\"\n@@ -209,1 +210,1 @@\n-        msvcRedstDir = \"$WINDOWS_VS_VC_TOOLS_REDIST_DIR\/$CONVERTED_TARGET_ARCH\"\n+        msvcRedstDir = \"$WINDOWS_VS_VC_TOOLS_REDIST_DIR\/$TARGET_ARCH\"\n@@ -213,1 +214,1 @@\n-def winSdkDllDir = \"$WINDOWS_VS_WINSDKDLLINSTALLDIR\/$CONVERTED_TARGET_ARCH\"\n+def winSdkDllDir = \"$WINDOWS_VS_WINSDKDLLINSTALLDIR\/$TARGET_ARCH\"\n@@ -463,0 +464,8 @@\n+String getWinArch(String arch) {\n+    switch (arch) {\n+        case \"aarch64\" : return \"arm64\"\n+        case \"amd64\" : return \"x64\"\n+        default: return arch\n+    }\n+}\n+\n","filename":"buildSrc\/win.gradle","additions":22,"deletions":13,"binary":false,"changes":35,"status":"modified"}]}