{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import java.util.Arrays;\n@@ -40,3 +41,3 @@\n-\n-    private final Map<Integer, Integer> slotToIDMap =\n-            new HashMap<Integer, Integer>();\n+    private final int[] slotToID;\n+    private final int[] slotToX;\n+    private final int[] slotToY;\n@@ -47,0 +48,9 @@\n+        int maxSlots = device\n+                .getAbsoluteInputCapabilities(LinuxInput.ABS_MT_SLOT)\n+                .getMaximum();\n+        slotToID = new int[maxSlots];\n+        slotToX = new int[maxSlots];\n+        slotToY = new int[maxSlots];\n+        Arrays.fill(slotToID, ID_UNASSIGNED);\n+        Arrays.fill(slotToX, COORD_UNDEFINED);\n+        Arrays.fill(slotToY, COORD_UNDEFINED);\n@@ -73,2 +83,1 @@\n-                            currentID = slotToIDMap.getOrDefault(currentSlot,\n-                                                                 ID_UNASSIGNED);\n+                            currentID = slotToID[currentSlot];\n@@ -81,5 +90,1 @@\n-                            if (currentID == ID_UNASSIGNED) {\n-                                slotToIDMap.remove(currentSlot);\n-                            } else {\n-                                slotToIDMap.put(currentSlot, currentID);\n-                            }\n+                            slotToID[currentSlot] = currentID;\n@@ -161,6 +166,6 @@\n-        if (x != COORD_UNDEFINED) {\n-            p.x = x;\n-        }\n-        if (y != COORD_UNDEFINED) {\n-            p.y = y;\n-        }\n+\n+        p.x = (x != COORD_UNDEFINED) ? x : slotToX[currentSlot];\n+        p.y = (y != COORD_UNDEFINED) ? y : slotToY[currentSlot];\n+\n+        slotToX[currentSlot] = p.x;\n+        slotToY[currentSlot] = p.y;\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/monocle\/LinuxStatefulMultiTouchProcessor.java","additions":21,"deletions":16,"binary":false,"changes":37,"status":"modified"}]}