{"files":[{"patch":"@@ -318,2 +318,9 @@\n-                    theStream = ImageTools.createInputStream(input);\n-                }\n+                    try {\n+                        theStream = ImageTools.createInputStream(input);\n+                    } catch (IOException ex) {\n+                        DataURI dataUri = DataURI.tryParse(input);\n+                        if (dataUri != null) {\n+                            String mimeType = dataUri.getMimeType();\n+                            if (mimeType != null && !\"image\".equalsIgnoreCase(dataUri.getMimeType())) {\n+                                throw new IllegalArgumentException(\"Unexpected MIME type: \" + dataUri.getMimeType());\n+                            }\n@@ -321,6 +328,3 @@\n-                if (theStream == null) {\n-                    DataURI dataUri = DataURI.tryParse(input);\n-                    if (dataUri != null) {\n-                        String mimeType = dataUri.getMimeType();\n-                        if (mimeType != null && !\"image\".equalsIgnoreCase(dataUri.getMimeType())) {\n-                            throw new IllegalArgumentException(\"Unexpected MIME type: \" + dataUri.getMimeType());\n+                            theStream = new ByteArrayInputStream(dataUri.getData());\n+                        } else {\n+                            throw ex;\n@@ -328,2 +332,0 @@\n-\n-                        theStream = new ByteArrayInputStream(dataUri.getData());\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/iio\/ImageStorage.java","additions":12,"deletions":10,"binary":false,"changes":22,"status":"modified"}]}