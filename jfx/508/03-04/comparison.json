{"files":[{"patch":"@@ -1161,4 +1161,1 @@\n-        } catch (final IllegalArgumentException e) {\n-            throw new IllegalArgumentException(\n-                    constructDetailedExceptionMessage(\"Invalid URL\", e), e);\n-        } catch (final MalformedURLException e) {\n+        } catch (final IllegalArgumentException | MalformedURLException e) {\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/image\/Image.java","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, 2015, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -87,0 +87,24 @@\n+\n+    @Test\n+    public void testLoadImageFromDataURI() throws ImageStorageException {\n+        String url =\n+            \"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAAAXNSR0IArs4c6QAAAAR\"\n+            + \"nQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAcSURBVChTY\/jPwADBZACyNMHAqGYSwZDU\/P8\/AB\"\n+            + \"ieT81GAGKoAAAAAElFTkSuQmCC\";\n+\n+        ImageFrame[] frames = ImageStorage.loadAll(url, null, 20, 10, false, 1, false);\n+        assertEquals(1, frames.length);\n+\n+        byte[] data = (byte[])frames[0].getImageData().array();\n+        assertEquals(-1, data[0]);\n+        assertEquals(0, data[1]);\n+        assertEquals(0, data[2]);\n+\n+        assertEquals(0, data[3]);\n+        assertEquals(-1, data[4]);\n+        assertEquals(0, data[5]);\n+\n+        assertEquals(0, data[6]);\n+        assertEquals(0, data[7]);\n+        assertEquals(-1, data[8]);\n+    }\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/com\/sun\/javafx\/iio\/ImageStorageTest.java","additions":25,"deletions":1,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -85,15 +85,0 @@\n-    @Test\n-    public void loadFromDataURITest() {\n-        final String url =\n-            \"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAAAXNSR0IArs4c6QAAAAR\"\n-            + \"nQU1BAACxjwv8YQUAAAAJcEhZcwAAGdYAABnWARjRyu0AAABGSURBVChTpY0BCgAgCAP9\/6fNrJYihOZBJGOnxA2cT\"\n-            + \"FTbddtifsrRTCXzxfSZYHYNgB5AouKZ15cHplCWLWZNjt1WGpeZBwO07SHTtA4jAAAAAElFTkSuQmCC\";\n-\n-        registerImage(url, 20, 10);\n-\n-        final Image image = new Image(url);\n-\n-        assertEquals(url, image.getUrl());\n-        verifyLoadedImage(image, 0, 0, false, false, 20, 10);\n-    }\n-\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/scene\/image\/ImageTest.java","additions":0,"deletions":15,"binary":false,"changes":15,"status":"modified"}]}