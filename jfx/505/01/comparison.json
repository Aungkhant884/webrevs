{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2020, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -894,1 +894,2 @@\n-        sm.select(cell.getRow(), cell.getTableColumn());\n+        TC tableColumn = cell.getTableColumn();\n+        sm.select(cell.getRow(), tableColumn);\n@@ -897,0 +898,4 @@\n+        if (tableColumn == null) {\n+           return;\n+        }\n+\n@@ -898,1 +903,1 @@\n-        boolean isEditable = isControlEditable() && cell.getTableColumn().isEditable();\n+        boolean isEditable = isControlEditable() && tableColumn.isEditable();\n@@ -902,1 +907,1 @@\n-            editCell(cell.getRow(), cell.getTableColumn());\n+            editCell(cell.getRow(), tableColumn);\n","filename":"modules\/javafx.controls\/src\/main\/java\/com\/sun\/javafx\/scene\/control\/behavior\/TableViewBehaviorBase.java","additions":9,"deletions":4,"binary":false,"changes":13,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2019, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -66,0 +66,1 @@\n+import static org.junit.Assert.assertNotNull;\n@@ -187,0 +188,13 @@\n+    @Test\n+    public void testEnterOnFocusedRowDoesNotThrowNPE() {\n+        tableView.setEditable(true);\n+\n+        assertNull(tableView.getSelectionModel().getSelectedItem());\n+        assertEquals(0, tableView.getFocusModel().getFocusedCell().getRow());\n+\n+        \/\/ Fire an ENTER event on the focused row. This should not throw a NPE!\n+        keyboard.doKeyPress(KeyCode.ENTER);\n+\n+        assertNotNull(tableView.getSelectionModel().getSelectedItem());\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TableViewKeyInputTest.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2016, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -65,0 +65,1 @@\n+import static org.junit.Assert.assertNotNull;\n@@ -245,0 +246,13 @@\n+    @Test\n+    public void testEnterOnFocusedRowDoesNotThrowNPE() {\n+        tableView.setEditable(true);\n+\n+        assertNull(tableView.getSelectionModel().getSelectedItem());\n+        assertEquals(0, tableView.getFocusModel().getFocusedCell().getRow());\n+\n+        \/\/ Fire an ENTER event on the focused row. This should not throw a NPE!\n+        keyboard.doKeyPress(KeyCode.ENTER);\n+\n+        assertNotNull(tableView.getSelectionModel().getSelectedItem());\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TreeTableViewKeyInputTest.java","additions":15,"deletions":1,"binary":false,"changes":16,"status":"modified"}]}