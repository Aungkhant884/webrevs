{"files":[{"patch":"@@ -198,1 +198,1 @@\n-                sb.append(\", face = \").append(getIntersectedFace());\n+            sb.append(\", face = \").append(getIntersectedFace());\n@@ -201,1 +201,1 @@\n-                sb.append(\", normal = \").append(getIntersectedNormal());\n+            sb.append(\", normal = \").append(getIntersectedNormal());\n@@ -204,1 +204,1 @@\n-                sb.append(\", texCoord = \").append(getIntersectedTexCoord());\n+            sb.append(\", texCoord = \").append(getIntersectedTexCoord());\n@@ -206,0 +206,1 @@\n+        sb.append(\"]\");\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/input\/PickResult.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -114,0 +114,38 @@\n+    @Test public void testToStringMatchingBrackets() {\n+        Rectangle node = new Rectangle();\n+        node.setTranslateX(3);\n+        node.setTranslateY(2);\n+        node.setTranslateZ(50);\n+\n+        PickResult pickRes = new PickResult(node, new Point3D(15, 25, 100), 33);\n+\n+        MouseEvent e = new MouseEvent(MouseEvent.MOUSE_PRESSED,\n+                10, 20, 30, 40, MouseButton.PRIMARY, 1,\n+                false, false, false, false,\n+                true, false, false,\n+                false, false, false, pickRes);\n+\n+        assertSame(pickRes, e.getPickResult());\n+\n+        \/\/ Check the String returned by MouseEvent::toString method to ensure\n+        \/\/ that all of the square brackets are matching.\n+        \/\/ Note that this will fail if the toString method of any of the\n+        \/\/ components that make up the MouseEvent returns a String with\n+        \/\/ mismatched brackets, including the source and target\n+        \/\/ objects, the PickResult, the picked Node, or the picked Point3D.\n+        String str = e.toString();\n+        int bracketCount = 0;\n+        for (int i = 0; i < str.length(); i++) {\n+            switch (str.charAt(i)) {\n+                case '[':\n+                    ++bracketCount;\n+                    break;\n+                case ']':\n+                    --bracketCount;\n+                    assertTrue(\"Too many closing brackets: \" + str, bracketCount >= 0);\n+                    break;\n+            }\n+        }\n+        assertEquals(\"Too few closing brackets: \" + str, 0, bracketCount);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/scene\/input\/MouseEventTest.java","additions":38,"deletions":0,"binary":false,"changes":38,"status":"modified"}]}