{"files":[{"patch":"@@ -780,0 +780,27 @@\n+    List<String> cmdArgs = new ArrayList<String>()\n+    if (IS_WINDOWS) {\n+        cmdArgs += !ant.matches(\"\\\\s+\") ? '\"' + ant + '\"' : ant\n+    }\n+\n+    cmdArgs += \"-Dbuild.compiler=javac1.7\"\n+\n+    if ((conf != null) && !rootProject.defaultHostTarget.equals(conf)) {\n+        def targetProperties = rootProject.ext[conf.trim().toUpperCase()]\n+        cmdArgs += \"-Dcross.platform=$conf\"\n+        if (targetProperties.containsKey('arch')) {\n+            cmdArgs += \"-Dcross.platform.arch=${targetProperties.arch}\"\n+        }\n+    }\n+\n+    if (params != null) {\n+        params.each() { s->\n+            cmdArgs += IS_WINDOWS && !s.matches(\"\\\\s+\") ? '\"' + s + '\"' : s\n+        }\n+    }\n+\n+    if (IS_MILESTONE_FCS) {\n+        cmdArgs += '-Djfx.release.suffix=\"\"'\n+    }\n+\n+    cmdArgs += target\n+\n@@ -796,1 +823,1 @@\n-            commandLine \"cmd\", \"\/c\", ant, \"-Dbuild.compiler=javac1.7\"\n+            commandLine \"cmd\", \"\/s\", \"\/c\", '\"' + String.join(\" \", cmdArgs) + '\"'\n@@ -798,16 +825,2 @@\n-            commandLine ant, \"-Dbuild.compiler=javac1.7\"\n-        }\n-        if ((conf != null) && !rootProject.defaultHostTarget.equals(conf)) {\n-            def targetProperties = rootProject.ext[conf.trim().toUpperCase()]\n-            args(\"-Dcross.platform=$conf\")\n-            if (targetProperties.containsKey('arch')) {\n-                args(\"-Dcross.platform.arch=${targetProperties.arch}\")\n-            }\n-        }\n-        if (params != null) {\n-            params.each() { s->\n-                args(s)\n-            }\n-        }\n-        if (IS_MILESTONE_FCS) {\n-            args('-Djfx.release.suffix=\"\"')\n+            commandLine ant\n+            args(cmdArgs)\n@@ -815,1 +828,0 @@\n-        args(target);\n","filename":"build.gradle","additions":30,"deletions":18,"binary":false,"changes":48,"status":"modified"}]}