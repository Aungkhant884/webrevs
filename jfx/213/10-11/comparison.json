{"files":[{"patch":"@@ -248,2 +248,2 @@\n-            final Color pixelAt150x50 = new Color(img.getRGB(150, 50), true);\n-            assertTrue(\"Color should be almost red:\" + pixelAt150x50, isColorsSimilar(new Color(192, 32, 0), pixelAt150x50, 20));\n+            final Color pixelAt50x150 = new Color(img.getRGB(50, 150), true);\n+            assertTrue(\"Color should be almost green:\" + pixelAt50x150, isColorsSimilar(new Color(65, 95, 0), pixelAt50x150, 20));\n@@ -254,0 +254,37 @@\n+\n+    @Test public void testSVGStrokeRenderingWithMask() {\n+        loadContent(\n+                    \"<html>\\n\" +\n+                    \"  <body style='margin: 0px 0px;'>\\n\" +\n+                    \"    <svg width='200' height='200'>\\n\" +\n+                    \"      <defs>\\n\" +\n+                    \"        <linearGradient id='Gradient'>\\n\" +\n+                    \"          <stop offset='0' stop-color='white' stop-opacity='0' \/>\\n\" +\n+                    \"          <stop offset='1' stop-color='white' stop-opacity='1' \/>\\n\" +\n+                    \"        <\/linearGradient>\\n\" +\n+                    \"        <mask id='Mask'>\\n\" +\n+                    \"          <rect x='0' y='0' width='200' height='200' fill='url(#Gradient)' \/>\\n\" +\n+                    \"        <\/mask>\\n\" +\n+                    \"      <\/defs>\\n\" +\n+                    \"      <rect x='0' y='0' width='200' height='200' stroke='green' stroke-width='5' fill='transparent' \/>\\n\" +\n+                    \"      <rect x='0' y='0' width='200' height='200' stroke='red' stroke-width='5' fill='transparent' mask='url(#Mask)' \/>\\n\" +\n+                    \"    <\/svg>\\n\" +\n+                    \"  <\/body>\\n\" +\n+                    \"<\/html>\\n\"\n+        );\n+        submit(() -> {\n+            final WebPage webPage = WebEngineShim.getPage(getEngine());\n+            assertNotNull(webPage);\n+            final BufferedImage img = WebPageShim.paint(webPage, 0, 0, 200, 200);\n+            assertNotNull(img);\n+\n+            final Color pixelAt1x1 = new Color(img.getRGB(1, 1), true);\n+            assertTrue(\"Color should be almost green:\" + pixelAt1x1, isColorsSimilar(new Color(0, 128, 0), pixelAt1x1, 10));\n+            final Color pixelAt0x199 = new Color(img.getRGB(0, 199), true);\n+            assertTrue(\"Color should be almost green:\" + pixelAt0x199, isColorsSimilar(new Color(0, 128, 0), pixelAt0x199, 10));\n+            final Color pixelAt199x0 = new Color(img.getRGB(199, 0), true);\n+            assertTrue(\"Color should be almost red:\" + pixelAt199x0, isColorsSimilar(new Color(255, 0, 0), pixelAt199x0, 10));\n+            final Color pixelAt199x199 = new Color(img.getRGB(199, 199), true);\n+            assertTrue(\"Color should be almost red:\" + pixelAt199x199, isColorsSimilar(new Color(255, 0, 0), pixelAt199x199, 10));\n+        });\n+    }\n","filename":"modules\/javafx.web\/src\/test\/java\/test\/javafx\/scene\/web\/SVGTest.java","additions":39,"deletions":2,"binary":false,"changes":41,"status":"modified"}]}