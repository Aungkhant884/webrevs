{"files":[{"patch":"@@ -60,1 +60,2 @@\n-        final CountDownLatch shownLatch = new CountDownLatch(2);\n+        final CountDownLatch bottomShownLatch = new CountDownLatch(1);\n+        final CountDownLatch topShownLatch = new CountDownLatch(1);\n@@ -64,1 +65,1 @@\n-            bottomStage = getStage(true);\n+            bottomStage = getStage(false);\n@@ -70,1 +71,1 @@\n-            bottomStage.setOnShown(e -> Platform.runLater(shownLatch::countDown));\n+            bottomStage.setOnShown(e -> Platform.runLater(bottomShownLatch::countDown));\n@@ -72,0 +73,4 @@\n+        });\n+\n+        assertTrue(\"Timeout waiting for bottom stage to be shown\",\n+            bottomShownLatch.await(TIMEOUT, TimeUnit.MILLISECONDS));\n@@ -73,0 +78,1 @@\n+        runAndWait(() -> {\n@@ -82,1 +88,1 @@\n-            topStage.setOnShown(e -> Platform.runLater(shownLatch::countDown));\n+            topStage.setOnShown(e -> Platform.runLater(topShownLatch::countDown));\n@@ -86,6 +92,2 @@\n-        assertTrue(\"Timeout waiting for stages to be shown\",\n-            shownLatch.await(TIMEOUT, TimeUnit.MILLISECONDS));\n-\n-        runAndWait(() -> {\n-            topStage.toFront();\n-        });\n+        assertTrue(\"Timeout waiting for top stage to be shown\",\n+            topShownLatch.await(TIMEOUT, TimeUnit.MILLISECONDS));\n@@ -93,1 +95,1 @@\n-        sleep(500);\n+        sleep(1000);\n@@ -104,1 +106,1 @@\n-        sleep(500);\n+        sleep(1000);\n@@ -115,1 +117,1 @@\n-        sleep(500);\n+        sleep(1000);\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/stage\/IconifyTest.java","additions":15,"deletions":13,"binary":false,"changes":28,"status":"modified"}]}