{"files":[{"patch":"@@ -337,1 +337,4 @@\n-                Window window = scene.getWindow();\n+                Window window = scene != null ? scene.getWindow() : null;\n+                if (window == null) {\n+                    return new Point2D(0, 0);\n+                }\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/TextInputControlSkin.java","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -29,0 +29,1 @@\n+import javafx.geometry.Point2D;\n@@ -35,0 +36,1 @@\n+import static org.junit.Assert.assertEquals;\n@@ -95,0 +97,11 @@\n+    @Test public void noNullPointerIfTextInputNotInScene() {\n+        TextField textField = new TextField();\n+        TextFieldSkin skin = new TextFieldSkin(textField);\n+        textField.setSkin(skin);\n+\n+        \/\/ Check that no NullPointerException is thrown if the TextField is not in scene\n+        \/\/ and that the default point is returned.\n+        Point2D point = textField.getInputMethodRequests().getTextLocation(0);\n+        assertEquals(new Point2D(0,0), point);\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/TextInputControlSkinTest.java","additions":13,"deletions":0,"binary":false,"changes":13,"status":"modified"}]}