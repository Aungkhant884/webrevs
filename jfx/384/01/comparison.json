{"files":[{"patch":"@@ -582,1 +582,1 @@\n-                if (rootItem == null) return false;\n+                if (rootItem == null || rootItem.getChildren().isEmpty()) return false;\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/TreeTableView.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -756,0 +756,26 @@\n+    @Test public void testNoIOOBEWhenSortingAfterSelectAndClearRootChildren() {\n+        TreeTableView<String> ttv = new TreeTableView<>();\n+        TreeItem<String> root = new TreeItem<>(\"root\");\n+        TreeItem<String> child = new TreeItem<>(\"child\");\n+        root.getChildren().add(child);\n+        root.setExpanded(true);\n+        ttv.setRoot(root);\n+        ttv.setShowRoot(false);\n+\n+        TreeTableColumn<String, String> ttc = new TreeTableColumn<>(\"Column\");\n+        ttv.getSortOrder().add(ttc);\n+\n+        ttv.getSelectionModel().select(0);\n+        root.getChildren().remove(0);\n+        ControlTestUtils.runWithExceptionHandler(() -> {\n+            ttv.sort();\n+        });\n+    }\n+\n+    @Test public void testNPEWhenRootItemIsNull() {\n+        TreeTableView<String> ttv = new TreeTableView<>();\n+        ControlTestUtils.runWithExceptionHandler(() -> {\n+            ttv.sort();\n+        });\n+    }\n+\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TreeTableViewTest.java","additions":26,"deletions":0,"binary":false,"changes":26,"status":"modified"}]}