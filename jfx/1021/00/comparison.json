{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2012, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2012, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -197,0 +197,2 @@\n+        resetIndexes(true);\n+\n@@ -238,1 +240,1 @@\n-        resetIndexes(true);\n+        getSkinnable().setCurrentPageIndex(currentIndex);\n@@ -652,1 +654,5 @@\n-        getSkinnable().setCurrentPageIndex(currentIndex);\n+        if (usePageIndex) {\n+            \/\/ avoid setting skinnable properties in the constructor\n+            getSkinnable().setCurrentPageIndex(currentIndex);\n+        }\n+\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/PaginationSkin.java","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -327,0 +327,19 @@\n+\n+    \/** JDK-8301797 *\/\n+    @Test\n+    public void testInitialPreferredSize() {\n+        pagination.setPageCount(150);\n+        pagination.setCurrentPageIndex(0);\n+        pagination.setMaxPageIndicatorCount(50);\n+        Label label = new Label();\n+        pagination.setPageFactory(index -> {\n+            label.setText(\"\" + (index + 1));\n+            return label;\n+        });\n+\n+        root.getChildren().add(pagination);\n+        show();\n+\n+        tk.firePulse();\n+        assertTrue(\"pagination prefWidth() is incorrect\", (pagination.prefWidth(-1) > 200));\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/PaginationTest.java","additions":20,"deletions":1,"binary":false,"changes":21,"status":"modified"}]}