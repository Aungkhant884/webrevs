{"files":[{"patch":"@@ -318,4 +318,1 @@\n-        final Font font = text.getFont();\n-        final ContentDisplay contentDisplay = labeled.getContentDisplay();\n-        String cleanText = getCleanText();\n-        boolean emptyText = cleanText == null || cleanText.isEmpty();\n+\n@@ -325,3 +322,5 @@\n-        if (!isIgnoreText) {\n-            widthPadding += leftLabelPadding() + rightLabelPadding();\n-        }\n+        double txWidth;\n+        if (isIgnoreText) {\n+            txWidth = 0.0;\n+        } else {\n+            widthPadding += (leftLabelPadding() + rightLabelPadding());\n@@ -329,1 +328,4 @@\n-        double textWidth = emptyText ? 0.0 : Utils.computeTextWidth(font, cleanText, 0);\n+            String cleanText = getCleanText();\n+            boolean emptyText = cleanText == null || cleanText.isEmpty();\n+            txWidth = emptyText ? 0.0 : Utils.computeTextWidth(text.getFont(), cleanText, 0);\n+        }\n@@ -333,1 +335,1 @@\n-            width = textWidth;\n+            width = txWidth;\n@@ -341,3 +343,0 @@\n-            } else if (contentDisplay == ContentDisplay.LEFT\n-                    || contentDisplay == ContentDisplay.RIGHT) {\n-                width = textWidth + labeled.getGraphicTextGap() + graphicWidth;\n@@ -345,1 +344,6 @@\n-                width = Math.max(textWidth, graphicWidth);\n+                ContentDisplay contentDisplay = labeled.getContentDisplay();\n+                if (contentDisplay == ContentDisplay.LEFT || contentDisplay == ContentDisplay.RIGHT) {\n+                    width = txWidth + labeled.getGraphicTextGap() + graphicWidth;\n+                } else {\n+                    width = Math.max(txWidth, graphicWidth);\n+                }\n@@ -374,1 +378,1 @@\n-        double textWidth = width;\n+        double txWidth = width;\n@@ -377,1 +381,1 @@\n-            textWidth -= (graphic.prefWidth(-1) + gap);\n+            txWidth -= (graphic.prefWidth(-1) + gap);\n@@ -382,1 +386,1 @@\n-                labeled.isWrapText() ? textWidth : 0,\n+                labeled.isWrapText() ? txWidth : 0,\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/LabeledSkinBase.java","additions":20,"deletions":16,"binary":false,"changes":36,"status":"modified"}]}