{"files":[{"patch":"@@ -1043,1 +1043,1 @@\n-                dir = new File(proj.sourceSets.shims.java.outputDir, proj.ext.moduleName);\n+                dir = new File(proj.sourceSets.shims.java.getDestinationDirectory().get().getAsFile(), proj.ext.moduleName);\n@@ -1045,1 +1045,1 @@\n-                dir = new File(proj.sourceSets.main.java.outputDir, proj.ext.moduleName);\n+                dir = new File(proj.sourceSets.main.java.getDestinationDirectory().get().getAsFile(), proj.ext.moduleName);\n@@ -1143,1 +1143,1 @@\n-        p.ext.moduleDir = new File (p.sourceSets.main.java.outputDir, \"${p.moduleName}\")\n+        p.ext.moduleDir = new File (p.sourceSets.main.java.getDestinationDirectory().get().getAsFile(), \"${p.moduleName}\")\n@@ -1145,1 +1145,1 @@\n-            p.ext.moduleShimsDir = new File (p.sourceSets.shims.java.outputDir, \"${p.moduleName}\")\n+            p.ext.moduleShimsDir = new File (p.sourceSets.shims.java.getDestinationDirectory().get().getAsFile(), \"${p.moduleName}\")\n@@ -1592,1 +1592,1 @@\n-    def modulePath = \"${project.sourceSets.main.java.outputDir}\"\n+    def modulePath = \"${project.sourceSets.main.java.getDestinationDirectory().get().getAsFile()}\"\n@@ -1600,1 +1600,1 @@\n-               project.files(project.sourceSets.jslc.java.outputDir) +\n+               project.files(project.sourceSets.jslc.java.getDestinationDirectory().get().getAsFile()) +\n@@ -1603,1 +1603,1 @@\n-        destinationDir = project.file(\"$project.buildDir\/classes\/jsl-compilers\/$lowerName\")\n+        destinationDirectory = project.file(\"$project.buildDir\/classes\/jsl-compilers\/$lowerName\")\n@@ -1954,1 +1954,1 @@\n-                main = \"com.sun.tdk.jcov.Helper\"\n+                mainClass = \"com.sun.tdk.jcov.Helper\"\n@@ -2309,1 +2309,1 @@\n-        main = \"org.antlr.v4.Tool\"\n+        mainClass = \"org.antlr.v4.Tool\"\n@@ -2340,1 +2340,1 @@\n-        destinationDir = project.sourceSets.main.java.outputDir\n+        destinationDirectory = project.sourceSets.main.java.destinationDirectory\n@@ -2487,1 +2487,1 @@\n-    def modulePath = \"${project.sourceSets.main.java.outputDir}\"\n+    def modulePath = \"${project.sourceSets.main.java.getDestinationDirectory().get().getAsFile()}\"\n@@ -2503,1 +2503,1 @@\n-                main = settings.generator\n+                mainClass = settings.generator\n@@ -2505,1 +2505,1 @@\n-                classpath += files(project.sourceSets.jslc.java.outputDir)\n+                classpath += files(project.sourceSets.jslc.java.getDestinationDirectory().get().getAsFile())\n@@ -2545,1 +2545,1 @@\n-            def ccTask = task(\"compileDecoraNativeShaders$capitalTarget$capitalVariant\", type: CCTask ) {\n+            def ccTask = task(\"compileDecoraNativeShaders$capitalTarget$capitalVariant\", type: CCTask, dependsOn: generateDecoraShaders) {\n@@ -2592,1 +2592,1 @@\n-                main = \"CompileJSL\"\n+                mainClass = \"CompileJSL\"\n@@ -2594,1 +2594,1 @@\n-                classpath += files(project.sourceSets.jslc.java.outputDir)\n+                classpath += files(project.sourceSets.jslc.java.getDestinationDirectory().get().getAsFile())\n@@ -2715,1 +2715,1 @@\n-    def modulePath = \"${project.sourceSets.main.java.outputDir}\"\n+    def modulePath = \"${project.sourceSets.main.java.getDestinationDirectory().get().getAsFile()}\"\n@@ -2731,1 +2731,1 @@\n-                main = \"com.sun.javafx.css.parser.Css2Bin\"\n+                mainClass = \"com.sun.javafx.css.parser.Css2Bin\"\n@@ -2738,1 +2738,3 @@\n-    processShimsResources.dependsOn(project.task(\"copyShimBss\", type: Copy) {\n+    def copyShimBssTask = project.task(\"copyShimBss\", type: Copy,\n+                            dependsOn: [project.tasks.getByName(\"compileJava\"),\n+                                        project.tasks.getByName(\"processResources\")]) {\n@@ -2742,1 +2744,2 @@\n-    })\n+    }\n+    processShimsResources.dependsOn(copyShimBssTask)\n@@ -2961,1 +2964,1 @@\n-        def modulePath = \"${project.sourceSets.main.java.outputDir}\"\n+        def modulePath = \"${project.sourceSets.main.java.getDestinationDirectory().get().getAsFile()}\"\n@@ -2985,1 +2988,1 @@\n-            def modulePath = \"${project.sourceSets.main.java.outputDir}\"\n+            def modulePath = \"${project.sourceSets.main.java.getDestinationDirectory().get().getAsFile()}\"\n@@ -3764,1 +3767,1 @@\n-            destinationDir = file(\"$buildDir\/classes\/java\/main\")\n+            destinationDirectory = file(\"$buildDir\/classes\/java\/main\")\n@@ -3912,1 +3915,1 @@\n-        from project.sourceSets.testapp1.java.outputDir\n+        from project.sourceSets.testapp1.java.getDestinationDirectory().get().getAsFile()\n@@ -3933,1 +3936,1 @@\n-        from project.sourceSets.testapp1.java.outputDir\n+        from project.sourceSets.testapp1.java.getDestinationDirectory().get().getAsFile()\n@@ -3947,1 +3950,1 @@\n-            from project.sourceSets.\"${testapp}\".java.outputDir\n+            from project.sourceSets.\"${testapp}\".java.getDestinationDirectory().get().getAsFile()\n@@ -4127,1 +4130,1 @@\n-            from project.sourceSets.shims.java.outputDir\n+            from project.sourceSets.shims.java.getDestinationDirectory().get().getAsFile()\n@@ -5156,0 +5159,10 @@\n+\n+        if (project.tasks.getByName(\"modularJarStandalone$t.capital\") != null) {\n+            project.tasks.getByName(\"modularJarStandalone$t.capital\").dependsOn(buildModuleClassesTask)\n+        }\n+        if (project.tasks.getByName(\"copyClassFiles$t.capital\") != null) {\n+            project.tasks.getByName(\"copyClassFiles$t.capital\").dependsOn(buildModuleClassesTask)\n+        }\n+        if (project.tasks.getByName(\"modularPublicationJar$t.capital\") != null) {\n+            project.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleClassesTask)\n+        }\n@@ -5223,0 +5236,3 @@\n+        baseProject.tasks.getByName(\"copyLibFilesStandalone$t.capital\").dependsOn(buildModuleBaseTask)\n+        baseProject.tasks.getByName(\"copyLibFiles$t.capital\").dependsOn(buildModuleBaseTask)\n+        baseProject.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleBaseTask)\n@@ -5291,0 +5307,3 @@\n+        graphicsProject.tasks.getByName(\"copyLibFilesStandalone$t.capital\").dependsOn(buildModuleGraphicsTask)\n+        graphicsProject.tasks.getByName(\"copyLibFiles$t.capital\").dependsOn(buildModuleGraphicsTask)\n+        graphicsProject.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleGraphicsTask)\n@@ -5362,0 +5381,3 @@\n+        mediaProject.tasks.getByName(\"copyLibFilesStandalone$t.capital\").dependsOn(buildModuleMediaTask)\n+        mediaProject.tasks.getByName(\"copyLibFiles$t.capital\").dependsOn(buildModuleMediaTask)\n+        mediaProject.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleMediaTask)\n@@ -5411,0 +5433,3 @@\n+        webProject.tasks.getByName(\"copyLibFilesStandalone$t.capital\").dependsOn(buildModuleWeb)\n+        webProject.tasks.getByName(\"copyLibFiles$t.capital\").dependsOn(buildModuleWeb)\n+        webProject.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleWeb)\n@@ -5432,0 +5457,3 @@\n+        graphicsProject.tasks.getByName(\"copyLibFilesStandalone$t.capital\").dependsOn(buildModuleSWT)\n+        graphicsProject.tasks.getByName(\"copyLibFiles$t.capital\").dependsOn(buildModuleSWT)\n+        graphicsProject.tasks.getByName(\"modularPublicationJar$t.capital\").dependsOn(buildModuleSWT)\n","filename":"build.gradle","additions":55,"deletions":27,"binary":false,"changes":82,"status":"modified"}]}