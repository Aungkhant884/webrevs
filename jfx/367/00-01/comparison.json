{"files":[{"patch":"@@ -961,1 +961,3 @@\n-    size_position_notify(size_changed, pos_changed);\n+    if (map_received) {\n+        size_position_notify(size_changed, pos_changed);\n+    }\n@@ -1101,31 +1103,0 @@\n-\/\/ This function calculate the deltas between window and window + decoration (titlebar, borders).\n-\/\/ It's used when the window manager does not support the _NET_FRAME_EXTENTS extension or when\n-\/\/ it's not received on time.\n-void WindowContextTop::calculate_adjustments() {\n-    if (frame_type != TITLED || geometry.frame_extents_received) {\n-        return;\n-    }\n-\n-    gint x, y, rx, ry;\n-    gdk_window_get_origin(gdk_window, &x, &y);\n-    gdk_window_get_root_origin(gdk_window, &rx, &ry);\n-\n-    if (rx != x || ry != y) {\n-        \/\/ the left extends are correct - the right one is guessed to be the same\n-        geometry.adjust_w = (x - rx) * 2;\n-        \/\/ guess that bottom size is the same as left and right\n-        geometry.adjust_h = (y - ry) + (x - rx);\n-\n-        \/\/ those will be correct\n-        geometry.view_x = (x - rx);\n-        geometry.view_y = (y - ry);\n-\n-        if (geometry.needs_ajustment) {\n-            set_bounds(0, 0, false, false, geometry.current_w, geometry.current_h, -1, -1);\n-        }\n-\n-        \/\/ force position notify so java will know about view_y and view_x\n-        size_position_notify(false, true);\n-    }\n-}\n-\n@@ -1134,1 +1105,0 @@\n-    calculate_adjustments();\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.cpp","additions":3,"deletions":33,"binary":false,"changes":36,"status":"modified"},{"patch":"@@ -83,2 +83,2 @@\n-    int current_w; \/\/ current window width, adjusted\n-    int current_h; \/\/ current window height, adjusted\n+    int current_w; \/\/ current window width, adjusted (see adjust_w)\n+    int current_h; \/\/ current window height, adjusted (see adjust_h)\n@@ -115,2 +115,2 @@\n-    \/\/ if the window size was set (instead of content size) - this is used to\n-    \/\/ \"fix\" the window size accounting extents.\n+    \/\/ if the window size was set (instead of content size) - this is used to hint\n+    \/\/ the process to \"fix\" the window size accounting extents.\n@@ -434,1 +434,0 @@\n-    void calculate_adjustments();\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.h","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"}]}