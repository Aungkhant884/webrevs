{"files":[{"patch":"@@ -763,1 +763,4 @@\n-    if (frame_type == TITLED) {\n+    geometry.frame_extents_supported = gdk_x11_screen_supports_net_wm_hint(gtk_widget_get_screen(gtk_widget),\n+                                                               gdk_atom_intern_static_string(\"_NET_FRAME_EXTENTS\"));\n+\n+    if (TITLED == frame_type && geometry.frame_extents_supported) {\n@@ -925,1 +928,1 @@\n-                        set_bounds(0, 0, false, false, geometry.current_w, geometry.current_h, -1, -1);\n+                        set_bounds(0, 0, false, false, -1, -1, geometry.current_cw, geometry.current_ch);\n@@ -937,0 +940,4 @@\n+    if (!map_received) {\n+        return;\n+    }\n+\n@@ -939,2 +946,2 @@\n-    gtk_window_get_position(GTK_WINDOW(gtk_widget), &x, &y);\n-    gtk_window_get_size(GTK_WINDOW(gtk_widget), &gtk_w, &gtk_h);\n+    gtk_w = event->width;\n+    gtk_h = event->height;\n@@ -945,0 +952,2 @@\n+    gtk_window_get_position(GTK_WINDOW(gtk_widget), &x, &y);\n+\n@@ -1019,1 +1028,0 @@\n-\n@@ -1050,1 +1058,1 @@\n-    \/\/ this will tell if adjustments are needed - that's because GTK does not have full window size\n+    \/\/ This will tell if adjustments are needed - that's because GTK does not have full window size\n@@ -1052,0 +1060,1 @@\n+    \/\/ If cw, ch are specified, no adjustment is needed.\n@@ -1057,2 +1066,2 @@\n-    newW = (w > 0) ? w - geometry.adjust_w : cw;\n-    newH = (h > 0) ? h - geometry.adjust_h : ch;\n+    newW = (cw > 0) ? cw : w - geometry.adjust_w;\n+    newH = (ch > 0) ? ch : h - geometry.adjust_h;\n@@ -1063,2 +1072,2 @@\n-    gboolean size_changed = FALSE;\n-    gboolean pos_changed = FALSE;\n+    bool size_changed = false;\n+    bool pos_changed = false;\n@@ -1067,1 +1076,1 @@\n-        size_changed = TRUE;\n+        size_changed = true;\n@@ -1090,1 +1099,1 @@\n-            pos_changed = TRUE;\n+            pos_changed = true;\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.cpp","additions":21,"deletions":12,"binary":false,"changes":33,"status":"modified"},{"patch":"@@ -70,0 +70,1 @@\n+                       frame_extents_supported(NULL),\n@@ -99,1 +100,4 @@\n-    \/\/ If WM supports _NET_REQUEST_FRAME_EXTENTS and it was received\n+    \/\/ If window manager supports _NET_REQUEST_FRAME_EXTENTS\n+    bool frame_extents_supported;\n+\n+    \/\/ If _NET_REQUEST_FRAME_EXTENTS was received\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_window.h","additions":5,"deletions":1,"binary":false,"changes":6,"status":"modified"}]}