{"files":[{"patch":"@@ -76,1 +76,8 @@\n-    \/\/ Adding the slop adjustment from wtf\/win\/WorkQueueWin.cpp\n+    \/\/ From empirical testing, we've seen CreateTimerQueueTimer() sometimes fire up to 5+ ms early.\n+    \/\/ This causes havoc for clients of this code that expect to not be called back until the\n+    \/\/ specified duration has expired. Other folks online have also observed some slop in the\n+    \/\/ firing times of CreateTimerQuqueTimer(). From the data posted at\n+    \/\/ http:\/\/omeg.pl\/blog\/2011\/11\/on-winapi-timers-and-their-resolution, it appears that the slop\n+    \/\/ can be up to about 10 ms. To ensure that we don't fire the timer early, we'll tack on a\n+    \/\/ slop adjustment to the duration, and we'll use double the worst amount of slop observed\n+    \/\/ so far.\n@@ -78,1 +85,2 @@\n-    delay += slopAdjustment;\n+    if (delay)\n+        delay += slopAdjustment;\n","filename":"modules\/javafx.web\/src\/main\/native\/Source\/WTF\/wtf\/generic\/WorkQueueGeneric.cpp","additions":10,"deletions":2,"binary":false,"changes":12,"status":"modified"}]}