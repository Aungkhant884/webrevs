{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2010, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2010, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -28,3 +28,0 @@\n-import com.sun.javafx.scene.control.Properties;\n-import com.sun.javafx.scene.control.behavior.BehaviorBase;\n-import javafx.beans.value.ObservableValue;\n@@ -36,2 +33,1 @@\n-import javafx.scene.control.Accordion;\n-import javafx.scene.control.Button;\n+import javafx.scene.Node;\n@@ -45,3 +41,0 @@\n-import javafx.scene.Node;\n-import com.sun.javafx.util.Utils;\n-import com.sun.javafx.scene.control.behavior.ScrollBarBehavior;\n@@ -49,1 +42,4 @@\n-import java.util.function.Consumer;\n+import com.sun.javafx.scene.control.ListenerHelper;\n+import com.sun.javafx.scene.control.Properties;\n+import com.sun.javafx.scene.control.behavior.ScrollBarBehavior;\n+import com.sun.javafx.util.Utils;\n@@ -101,1 +97,0 @@\n-\/\/        control.setInputMap(behavior.getInputMap());\n@@ -106,2 +101,3 @@\n-        \/\/ Register listeners\n-        final Consumer<ObservableValue<?>> consumer = e -> {\n+        ListenerHelper lh = ListenerHelper.get(this);\n+\n+        lh.addChangeListener(() -> {\n@@ -110,6 +106,9 @@\n-        };\n-        registerChangeListener(control.minProperty(), consumer);\n-        registerChangeListener(control.maxProperty(), consumer);\n-        registerChangeListener(control.visibleAmountProperty(), consumer);\n-        registerChangeListener(control.valueProperty(), e -> positionThumb());\n-        registerChangeListener(control.orientationProperty(), e -> getSkinnable().requestLayout());\n+        }, control.minProperty(), control.maxProperty(), control.visibleAmountProperty());\n+\n+        lh.addChangeListener(control.valueProperty(), (ev) -> {\n+            positionThumb();\n+        });\n+\n+        lh.addChangeListener(control.orientationProperty(), (ev) -> {\n+            getSkinnable().requestLayout();\n+        });\n@@ -513,2 +512,1 @@\n-\n-        getSkinnable().addEventHandler(ScrollEvent.SCROLL, event -> {\n+        ListenerHelper.get(this).addEventHandler(getSkinnable(), ScrollEvent.SCROLL, event -> {\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/skin\/ScrollBarSkin.java","additions":19,"deletions":21,"binary":false,"changes":40,"status":"modified"},{"patch":"@@ -173,1 +173,1 @@\n-                ScrollBar.class,\n+                \/\/ScrollBar.class,\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/skin\/SkinMemoryLeakTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}