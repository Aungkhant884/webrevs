{"files":[{"patch":"@@ -850,1 +850,1 @@\n-            h = prefHeight;\n+            h = Utils.boundedSize(prefHeight, minHeight, maxHeight);\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/DialogPane.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -0,0 +1,107 @@\n+\/*\n+ * Copyright (c) 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+package test.javafx.scene.control;\n+\n+import com.sun.javafx.tk.Toolkit;\n+import javafx.scene.control.ButtonType;\n+import javafx.scene.control.Dialog;\n+import javafx.scene.layout.StackPane;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+\/** Tests for the {@link Dialog} class. *\/\n+public class DialogTest {\n+\n+    private Dialog<ButtonType> dialog;\n+\n+    @Before\n+    public void setUp() {\n+        dialog = new Dialog<>();\n+    }\n+\n+    @After\n+    public void cleanUp() {\n+        \/\/ Set a dummy result so the dialog can be closed.\n+        dialog.setResult(new ButtonType(\"\"));\n+        dialog.hide();\n+    }\n+\n+    @Test\n+    public void testDialogMaxHeight() {\n+        int maxHeight = 400;\n+\n+        StackPane stackPane = new StackPane();\n+        stackPane.setPrefHeight(700);\n+\n+        dialog.getDialogPane().setContent(stackPane);\n+        dialog.getDialogPane().setMaxHeight(maxHeight);\n+        dialog.show();\n+\n+        assertDialogPaneHeightEquals(maxHeight);\n+\n+        assertEquals(maxHeight, dialog.getDialogPane().getMaxHeight(), 0);\n+    }\n+\n+    @Test\n+    public void testDialogMinHeight() {\n+        int minHeight = 400;\n+\n+        dialog.getDialogPane().setContent(new StackPane());\n+        dialog.getDialogPane().setMinHeight(minHeight);\n+        dialog.show();\n+\n+        assertDialogPaneHeightEquals(minHeight);\n+\n+        assertEquals(minHeight, dialog.getDialogPane().getMinHeight(), 0);\n+    }\n+\n+    @Test\n+    public void testDialogPrefHeight() {\n+        int prefHeight = 400;\n+\n+        dialog.getDialogPane().setContent(new StackPane());\n+        dialog.getDialogPane().setPrefHeight(prefHeight);\n+        dialog.show();\n+\n+        assertDialogPaneHeightEquals(prefHeight);\n+\n+        assertEquals(prefHeight, dialog.getDialogPane().getPrefHeight(), 0);\n+    }\n+\n+    private void assertDialogPaneHeightEquals(int height) {\n+        Toolkit.getToolkit().firePulse();\n+\n+        assertEquals(height, dialog.getDialogPane().getHeight(), 0);\n+\n+        \/\/ Test the height after another layout pass.\n+        Toolkit.getToolkit().firePulse();\n+\n+        assertEquals(height, dialog.getDialogPane().getHeight(), 0);\n+    }\n+\n+}\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/DialogTest.java","additions":107,"deletions":0,"binary":false,"changes":107,"status":"added"}]}