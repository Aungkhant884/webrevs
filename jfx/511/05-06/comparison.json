{"files":[{"patch":"@@ -0,0 +1,77 @@\n+\/*\n+ * Copyright (c) 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n+ *\n+ * This code is free software; you can redistribute it and\/or modify it\n+ * under the terms of the GNU General Public License version 2 only, as\n+ * published by the Free Software Foundation.  Oracle designates this\n+ * particular file as subject to the \"Classpath\" exception as provided\n+ * by Oracle in the LICENSE file that accompanied this code.\n+ *\n+ * This code is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+ * version 2 for more details (a copy is included in the LICENSE file that\n+ * accompanied this code).\n+ *\n+ * You should have received a copy of the GNU General Public License version\n+ * 2 along with this work; if not, write to the Free Software Foundation,\n+ * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n+ *\n+ * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n+ * or visit www.oracle.com if you need additional information or have any\n+ * questions.\n+ *\/\n+\n+import javafx.application.Application;\n+import javafx.application.Platform;\n+import javafx.geometry.Insets;\n+import javafx.scene.Scene;\n+import javafx.scene.control.Button;\n+import javafx.scene.control.Label;\n+import javafx.scene.control.TextArea;\n+import javafx.scene.layout.HBox;\n+import javafx.scene.layout.VBox;\n+import javafx.stage.Stage;\n+\n+public class PlatformPreferencesTest extends Application {\n+\n+    @Override\n+    public void start(Stage stage) {\n+        var passButton = new Button(\"Pass\");\n+        passButton.setOnAction(e -> Platform.exit());\n+\n+        var failButton = new Button(\"Fail\");\n+        failButton.setOnAction(e -> {\n+            Platform.exit();\n+            throw new AssertionError(\"Changed platform preferences were not correctly reported\");\n+        });\n+\n+        var textArea = new TextArea();\n+        textArea.setEditable(false);\n+\n+        var root = new VBox();\n+        root.setPadding(new Insets(20));\n+        root.setSpacing(20);\n+        root.getChildren().add(new VBox(10,\n+            new VBox(\n+                new Label(\"1. On a supported platform, change any of the platform preferences.\"),\n+                new Label(\"    See javafx.application.PlatformPreferences for a list of supported platforms.\")),\n+            new Label(\"2. Observe whether the changed preferences are reported in the log below.\"),\n+            new Label(\"3. Click \\\"Pass\\\" if the changes were correctly reported, otherwise click \\\"Fail\\\".\"),\n+            new HBox(5, passButton, failButton),\n+            textArea\n+        ));\n+\n+        Platform.getPreferences().addListener(\n+            (preferences, changed) -> textArea.setText(textArea.getText() + changed + System.lineSeparator()));\n+\n+        stage.setScene(new Scene(root));\n+        stage.show();\n+    }\n+\n+    public static void main(String[] args) {\n+        Application.launch(args);\n+    }\n+\n+}\n\\ No newline at end of file\n","filename":"tests\/manual\/events\/PlatformPreferencesTest.java","additions":77,"deletions":0,"binary":false,"changes":77,"status":"added"}]}