{"files":[{"patch":"@@ -167,6 +167,6 @@\n-    if (self->jCallback != NULL)\n-    {\n-        GET_MAIN_JENV;\n-        if (env != NULL)\n-        {\n-            (*env)->CallVoidMethod(env, self->jCallback, jMenuActionMethod, NULL);\n+    GET_MAIN_JENV;\n+    if (env != NULL) {\n+        jobject jCallback = (*env)->NewLocalRef(env, self->jCallback);\n+        if (jCallback != NULL) {\n+            (*env)->CallVoidMethod(env, jCallback, jMenuActionMethod, NULL);\n+            (*env)->DeleteLocalRef(env, jCallback);\n@@ -208,1 +208,6 @@\n-        (*env)->CallVoidMethod(env, self->jCallback, jMenuValidateMethod, NULL);\n+\n+        jobject jCallback = (*env)->NewLocalRef(env, self->jCallback);\n+        if (jCallback != NULL) {\n+            (*env)->CallVoidMethod(env, jCallback, jMenuValidateMethod, NULL);\n+            (*env)->DeleteLocalRef(env, jCallback);\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/mac\/GlassMenu.m","additions":12,"deletions":7,"binary":false,"changes":19,"status":"modified"}]}