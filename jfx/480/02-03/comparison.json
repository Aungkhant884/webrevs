{"files":[{"patch":"@@ -3684,0 +3684,25 @@\n+\n+    @Test public void testRemovedSelectedItemsWhenBranchIsCollapsed() {\n+        TreeItem<String> root = new TreeItem<>(\"foo\");\n+        root.getChildren().add(new TreeItem<>(\"bar\"));\n+        root.getChildren().add(new TreeItem<>(\"baz\"));\n+        root.getChildren().add(new TreeItem<>(\"qux\"));\n+        root.setExpanded(true);\n+\n+        List<TreeItem<String>> removed = new ArrayList<>();\n+        TreeView<String> treeView = new TreeView<>(root);\n+        treeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n+        treeView.getSelectionModel().getSelectedItems().addListener((ListChangeListener<? super TreeItem<String>>) c -> {\n+            while (c.next()) {\n+                removed.addAll(new ArrayList<>(c.getRemoved()));\n+            }\n+        });\n+\n+        treeView.getSelectionModel().selectAll();\n+        root.setExpanded(false);\n+\n+        assertEquals(3, removed.size());\n+        assertEquals(\"bar\", removed.get(0).getValue());\n+        assertEquals(\"baz\", removed.get(1).getValue());\n+        assertEquals(\"qux\", removed.get(2).getValue());\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TreeViewTest.java","additions":25,"deletions":0,"binary":false,"changes":25,"status":"modified"}]}