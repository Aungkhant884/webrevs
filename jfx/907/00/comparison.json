{"files":[{"patch":"@@ -94,0 +94,12 @@\n+    private void validateRange() {\n+        String text = (String)getAttribute(TEXT);\n+        if (text == null) {\n+            start = end = 0;\n+            return;\n+        }\n+\n+        int length = text.length();\n+        start = Math.max(0, Math.min(start, length));\n+        end = Math.max(start, Math.min(end, length));\n+    }\n+\n@@ -108,1 +120,1 @@\n-        return \"Range(start: \"+start+\", end: \"+end+\", id: \" + id + \")\";\n+        return \"Range(start: \" + start + \", end: \" + end + \", id: \" + id + \")\";\n@@ -152,0 +164,1 @@\n+        validateRange();\n@@ -180,1 +193,0 @@\n-                if (start > length) start = length;\n@@ -311,0 +323,1 @@\n+        validateRange();\n@@ -353,0 +366,1 @@\n+        validateRange();\n@@ -457,2 +471,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange();\n@@ -467,0 +480,1 @@\n+        validateRange();\n@@ -562,2 +576,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange();\n@@ -583,2 +596,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange();\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/win\/WinTextRangeProvider.java","additions":20,"deletions":8,"binary":false,"changes":28,"status":"modified"}]}