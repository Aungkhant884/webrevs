{"files":[{"patch":"@@ -94,0 +94,11 @@\n+    private void validateRange(String text) {\n+        if (text == null) {\n+            start = end = 0;\n+            return;\n+        }\n+\n+        int length = text.length();\n+        start = Math.max(0, Math.min(start, length));\n+        end = Math.max(start, Math.min(end, length));\n+    }\n+\n@@ -108,1 +119,1 @@\n-        return \"Range(start: \"+start+\", end: \"+end+\", id: \" + id + \")\";\n+        return \"Range(start: \" + start + \", end: \" + end + \", id: \" + id + \")\";\n@@ -152,0 +163,1 @@\n+        validateRange(text);\n@@ -180,1 +192,0 @@\n-                if (start > length) start = length;\n@@ -224,2 +235,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange(text);\n@@ -311,0 +321,1 @@\n+        validateRange(text);\n@@ -353,0 +364,1 @@\n+        validateRange(text);\n@@ -457,2 +469,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange(text);\n@@ -467,0 +478,1 @@\n+        validateRange(text);\n@@ -562,2 +574,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange(text);\n@@ -583,2 +594,1 @@\n-        start = Math.max(0, Math.min(start, length));\n-        end = Math.max(start, Math.min(end, length));\n+        validateRange(text);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/glass\/ui\/win\/WinTextRangeProvider.java","additions":20,"deletions":10,"binary":false,"changes":30,"status":"modified"}]}