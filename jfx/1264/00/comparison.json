{"files":[{"patch":"@@ -353,2 +353,8 @@\n-    BYTE vkey = 0xFF & ::VkKeyScanEx((TCHAR)c,\n-            ::GetKeyboardLayout(GlassApplication::GetMainThreadId()));\n+    \/\/ The Delete key doesn't generate a character so ViewContainer::HandleViewKeyEvent\n+    \/\/ synthesizes one. Here we reverse that process.\n+    if ((TCHAR)c == 0x7F) {\n+        return com_sun_glass_events_KeyEvent_VK_DELETE;\n+    }\n+\n+    HKL layout = ::GetKeyboardLayout(GlassApplication::GetMainThreadId());\n+    BYTE vkey = 0xFF & ::VkKeyScanEx((TCHAR)c, layout);\n@@ -360,0 +366,10 @@\n+    \/\/ Duplicate the encoding used in ViewContainer::HandleViewKeyEvent\n+    if (isOEMKey(vkey)) {\n+        UINT mapped = ::MapVirtualKeyEx(vkey, MAPVK_VK_TO_CHAR, layout);\n+        if (mapped == 0) {\n+            return com_sun_glass_events_KeyEvent_VK_UNDEFINED;\n+        }\n+        bool deadKey = (mapped & 0x80000000);\n+        return OEMCharToJavaKey(LOWORD(mapped), deadKey);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/win\/KeyTable.cpp","additions":18,"deletions":2,"binary":false,"changes":20,"status":"modified"}]}