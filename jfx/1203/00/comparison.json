{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -379,0 +379,2 @@\n+        final Insets insets = getInsets();\n+\n@@ -392,1 +394,2 @@\n-            double middleAreaHeight = Math.max(0, height - topPrefHeight - bottomPrefHeight);\n+            double middleAreaHeight = Math.max(0,\n+                    height - insets.getTop() - insets.getBottom() - topPrefHeight - bottomPrefHeight);\n@@ -403,1 +406,0 @@\n-        final Insets insets = getInsets();\n@@ -411,0 +413,3 @@\n+        if (width != -1) {\n+            width -= (insets.getLeft() + insets.getRight());\n+        }\n@@ -435,0 +440,2 @@\n+        final Insets insets = getInsets();\n+\n@@ -442,1 +449,1 @@\n-        if ( height != -1 && (childHasContentBias(getLeft(), Orientation.VERTICAL) ||\n+        if (height != -1 && (childHasContentBias(getLeft(), Orientation.VERTICAL) ||\n@@ -448,1 +455,2 @@\n-            double middleAreaHeight = Math.max(0, height - topPrefHeight - bottomPrefHeight);\n+            double middleAreaHeight = Math.max(0,\n+                    height - insets.getTop() - insets.getBottom() - topPrefHeight - bottomPrefHeight);\n@@ -459,1 +467,0 @@\n-        final Insets insets = getInsets();\n@@ -467,0 +474,3 @@\n+        if (width != -1) {\n+            width -= (insets.getLeft() + insets.getRight());\n+        }\n","filename":"modules\/javafx.graphics\/src\/main\/java\/javafx\/scene\/layout\/BorderPane.java","additions":16,"deletions":6,"binary":false,"changes":22,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2011, 2022, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2011, 2023, Oracle and\/or its affiliates. All rights reserved.\n@@ -32,0 +32,1 @@\n+import javafx.scene.Scene;\n@@ -33,0 +34,2 @@\n+import javafx.scene.layout.FlowPane;\n+import javafx.stage.Stage;\n@@ -36,0 +39,2 @@\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.CsvSource;\n@@ -918,0 +923,50 @@\n+    @CsvSource({\n+            \"209.0, 430.0, false, false\", \/\/ flowPane 4x1, no margin, no padding\n+            \"211.0, 210.0, false, false\", \/\/ flowPane 2x2, no margin, no padding\n+            \"209.0, 430.0, true, false\",  \/\/ flowPane 4x1, margin, no padding\n+            \"211.0, 210.0, true, false\",  \/\/ flowPane 2x2, margin, no padding\n+            \"209.0, 430.0, false, true\",  \/\/ flowPane 4x1, no margin, padding\n+            \"211.0, 210.0, false, true\",  \/\/ flowPane 2x2, no margin, padding\n+            \"209.0, 430.0, true, true\",   \/\/ flowPane 4x1, margin, padding\n+            \"241.0, 210.0, true, true\",   \/\/ flowPane 2x2, margin, padding\n+    })\n+    @ParameterizedTest\n+    public void testFlowPaneCenterChildWithPaddingAndMargin(double width, double minHeight, boolean useMargin, boolean usePadding) {\n+        FlowPane center = new FlowPane(10, 10);\n+        for (int i = 0; i < 4; i++) {\n+            center.getChildren().add(\n+                    new MockResizable(10,10,100,100,200,200));\n+        }\n+        Insets insets = new Insets(5, 10, 30, 20);\n+        double left = 0d;\n+        double right = 0d;\n+        double top = 0d;\n+        BorderPane borderpane = new BorderPane(center);\n+        if (usePadding) {\n+            borderpane.setPadding(insets);\n+            left += insets.getLeft();\n+            right += insets.getRight();\n+            top += insets.getTop();\n+        }\n+        if (useMargin) {\n+            BorderPane.setMargin(center, insets);\n+            left += insets.getLeft();\n+            right += insets.getRight();\n+            top += insets.getTop();\n+        }\n+        borderpane.setMinWidth(width);\n+        borderpane.setPrefWidth(width);\n+        borderpane.setMaxWidth(width);\n+\n+        Scene scene = new Scene(borderpane, width, 200);\n+        Stage stage = new Stage();\n+        stage.setScene(scene);\n+        stage.show();\n+\n+        assertEquals(100,  center.minWidth(200), 1e-100);\n+        assertEquals(minHeight,  center.minHeight(width), 1e-100);\n+        assertEquals(width - left - right,  center.getWidth(), 1e-100);\n+        assertEquals(left, center.getBoundsInParent().getMinX(), 1e-100);\n+        assertEquals(top, center.getBoundsInParent().getMinY(), 1e-100);\n+    }\n+\n","filename":"modules\/javafx.graphics\/src\/test\/java\/test\/javafx\/scene\/layout\/BorderPaneTest.java","additions":56,"deletions":1,"binary":false,"changes":57,"status":"modified"}]}