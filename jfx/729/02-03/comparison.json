{"files":[{"patch":"@@ -54,6 +54,18 @@\n-                \"<input id='pasteTarget' numOfMimeTypes=''><\/input>\" +\n-                \"<script>\"+\n-                \"srcInput.onpaste = function(e) {\" +\n-                \"pasteTarget.value = e.clipboardData.getData('text\/plain');}\" +\n-                \"pasteTarget.numOfMimeTypes = (e.clipboardData.types).length;}\" +\n-                \"<\/script>\");\n+                        \"<input id='pasteTarget'><\/input>\" +\n+                        \"<div id=\\\"clipboardData\\\"><\/div>\" +\n+                        \"<script>\"+\n+                        \"document.addEventListener('paste', e => {\\n\" +\n+                        \"            let messages = [];\\n\" +\n+                        \"            if (e.clipboardData.types) {\\n\" +\n+                        \"                let message_index = 0;\\n\" +\n+                        \"                e.clipboardData.types.forEach(type => {\\n\" +\n+                        \"                    messages.push( type + \\\": \\\" + e.clipboardData.getData(type));\\n\" +\n+                        \"                    const para = document.createElement(\\\"p\\\");\\n\" +\n+                        \"                    para.innerText = type + \\\": \\\" + e.clipboardData.getData(type);\\n\" +\n+                        \"                    document.getElementById(\\\"clipboardData\\\").innerText = ++message_index;\\n\" +\n+                        \"                });\\n\" +\n+                        \"            }\\n\" +\n+                        \"        });\\n\" +\n+                        \"srcInput.onpaste = function(e) {\" +\n+                        \"pasteTarget.value = e.clipboardData.getData('text\/plain');}\" +\n+                        \"<\/script>\");\n@@ -64,4 +76,0 @@\n-\n-            assertEquals(\"Target onpaste data\", getEngine().\n-                    executeScript(\"pasteTarget.numOfMimeTypes\").toString(), \"undefined\");\n-\n@@ -76,1 +84,1 @@\n-                            \"\", \"\", KeyCode.PASTE,\n+                            \"\", \"\", KeyCode.V,\n@@ -81,1 +89,1 @@\n-                    executeScript(\"srcInput.defaultValue\").toString(),\n+                            executeScript(\"srcInput.defaultValue\").toString(),\n@@ -84,3 +92,3 @@\n-                    executeScript(\"srcInput.value\").toString() + clipboardData, defaultText + clipboardData);\n-            assertNotEquals(\"Target onpaste data\", getEngine().\n-                    executeScript(\"pasteTarget.value\").toString(),\n+                    executeScript(\"srcInput.value\").toString(), clipboardData + defaultText);\n+            assertEquals(\"Target onpaste data\", getEngine().\n+                            executeScript(\"pasteTarget.value\").toString(),\n@@ -88,2 +96,3 @@\n-            assertNotEquals(\"Target onpaste data\", getEngine().\n-                            executeScript(\"pasteTarget.numOfMimeTypes\").toString(), \"2\");\n+            assertEquals(\"Target onpaste data size\", getEngine().\n+                            executeScript(\"document.getElementById(\\\"clipboardData\\\").innerText\").toString(),\n+                    \"2\");\n@@ -92,1 +101,1 @@\n-}\n+}\n\\ No newline at end of file\n","filename":"modules\/javafx.web\/src\/test\/java\/test\/javafx\/scene\/web\/HTMLEditingTest.java","additions":27,"deletions":18,"binary":false,"changes":45,"status":"modified"}]}