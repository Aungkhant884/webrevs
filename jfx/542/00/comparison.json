{"files":[{"patch":"@@ -2471,1 +2471,3 @@\n-                final int changeSize = isCellSelectionEnabled ? getSelectedCells().size() : 1;\n+                \/\/ It is possible that during selection it was cleared - for example called clearSelection() on change\n+                \/\/ So we should check if selectedCellsSeq is not empty\n+                final int changeSize = isCellSelectionEnabled ? getSelectedCells().size() : Math.min(1, selectedCellsSeq.size());\n","filename":"modules\/javafx.controls\/src\/main\/java\/javafx\/scene\/control\/TableView.java","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -5543,0 +5543,9 @@\n+\n+    \/\/ see JDK-8194924\n+    @Test\n+    public void test_noExceptionIsFiredIfClearSelectionOnChangeEvent(){\n+        table.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue)\n+                -> table.getSelectionModel().clearSelection());\n+        table.getSelectionModel().select(0);\n+        assertNull(table.getSelectionModel().getSelectedItem());\n+    }\n","filename":"modules\/javafx.controls\/src\/test\/java\/test\/javafx\/scene\/control\/TableViewTest.java","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"}]}