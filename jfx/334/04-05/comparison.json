{"files":[{"patch":"@@ -28,0 +28,1 @@\n+import javafx.beans.binding.Bindings;\n@@ -29,0 +30,1 @@\n+import javafx.geometry.Point3D;\n@@ -46,1 +48,1 @@\n-        var range = createSliderControl(\"range\", light.maxRangeProperty(), 0, 150, light.getMaxRange());\n+        var range = createSliderControl(\"range\", light.maxRangeProperty(), 0, 500, 150);\n@@ -56,5 +58,1 @@\n-        var vbox = super.addLightControls(light);\n-        var range = createSliderControl(\"range\", light.maxRangeProperty(), 0, 150, light.getMaxRange());\n-        var c = createSliderControl(\"constant\", light.constantAttenuationProperty(), -1, 1, light.getConstantAttenuation());\n-        var lc = createSliderControl(\"linear\", light.linearAttenuationProperty(), -0.1, 0.1, light.getLinearAttenuation());\n-        var qc = createSliderControl(\"quadratic\", light.quadraticAttenuationProperty(), -0.01, 0.01, light.getQuadraticAttenuation());\n+        var vbox = addPointLightControls(light);\n@@ -64,1 +62,12 @@\n-        vbox.getChildren().addAll(range, c, lc, qc, ia, oa, fo);\n+\n+        var sliderX = createSlider(-5, 5, 0);\n+        var sliderY = createSlider(-5, 5, 0);\n+        var sliderZ = createSlider(-5, 5, 1);\n+        light.directionProperty().bind(Bindings.createObjectBinding(() ->\n+            new Point3D(sliderX.getValue(), sliderY.getValue(), sliderZ.getValue()),\n+            sliderX.valueProperty(), sliderY.valueProperty(), sliderZ.valueProperty()));\n+\n+        var x = createSliderControl(\"dir x\", sliderX);\n+        var y = createSliderControl(\"dir y\", sliderY);\n+        var z = createSliderControl(\"dir z\", sliderZ);\n+        vbox.getChildren().addAll(ia, oa, fo , x, y, z);\n@@ -68,5 +77,12 @@\n-    protected HBox createSliderControl(String name, DoubleProperty property, double min, double max, double start) {\n-        var slider = new Slider(min, max, start);\n-        slider.setShowTickMarks(true);\n-        slider.setShowTickLabels(true);\n-        property.bindBidirectional(slider.valueProperty());\n+    private HBox createSliderControl(String name, DoubleProperty property, double min, double max, double start) {\n+        var slider = createSlider(min, max, start);\n+        property.bind(slider.valueProperty());\n+        return createSliderControl(name, slider);\n+    }\n+\n+    private HBox createSliderControl(String name, Slider slider) {\n+        var tf = createTextField(slider);\n+        return new HBox(5, new Label(name), slider, tf);\n+    }\n+\n+    private TextField createTextField(Slider slider) {\n@@ -76,1 +92,8 @@\n-        return new HBox(5, new Label(name), slider, tf);\n+        return tf;\n+    }\n+\n+    private Slider createSlider(double min, double max, double start) {\n+        var slider = new Slider(min, max, start);\n+        slider.setShowTickMarks(true);\n+        slider.setShowTickLabels(true);\n+        return slider;\n","filename":"tests\/performance\/3DLighting\/attenuation\/AttenLightingSample.java","additions":36,"deletions":13,"binary":false,"changes":49,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-    public DoubleProperty yPan = new SimpleDoubleProperty(-10);\n+    public DoubleProperty yPan = new SimpleDoubleProperty();\n@@ -54,0 +54,1 @@\n+    public DoubleProperty isoRotationSensitivity = new SimpleDoubleProperty(1);\n@@ -147,0 +148,2 @@\n+            } else if (e.getButton() == MouseButton.MIDDLE) {\n+                swivle(deltaY);\n@@ -173,0 +176,4 @@\n+\n+    private void swivle(double amount) {\n+        isometricAngle.set(isometricAngle.get() - amount * isoRotationSensitivity.get());\n+    }\n","filename":"tests\/performance\/3DLighting\/attenuation\/CameraScene3D.java","additions":8,"deletions":1,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-package attenuation;\n+package attenTest;\n@@ -43,0 +43,1 @@\n+import javafx.scene.transform.Rotate;\n@@ -52,1 +53,0 @@\n-\n@@ -56,1 +56,1 @@\n-    final LightBase[] lights = { pointLight1, pointLight2, pointLight3, spotLight1, spotLight2, spotLight3};\n+    final LightBase[] lights = {pointLight1, pointLight2, pointLight3, spotLight1, spotLight2, spotLight3};\n@@ -73,1 +73,1 @@\n-            rootGroup.getChildren().addAll(light, lightRep);\n+            rootGroup.getChildren().addAll(light , lightRep);\n@@ -92,1 +92,1 @@\n-    public Group createBoxes() {\n+    Group createBoxes() {\n@@ -95,2 +95,8 @@\n-        back.setTranslateZ(-LIGHT_Z_DIST * 2);\n-        return new Group(front, back);\n+        var side = new Box(200, 200, 1);\n+        side.setRotationAxis(Rotate.Y_AXIS);\n+        side.setRotate(90);\n+        side.setTranslateX(LIGHT_Z_DIST * 2);\n+        side.setTranslateZ(-LIGHT_Z_DIST);\n+        front.setTranslateZ(LIGHT_Z_DIST);\n+        back.setTranslateZ(-LIGHT_Z_DIST * 3);\n+        return new Group(front, back, side);\n","filename":"tests\/performance\/3DLighting\/attenuation\/Environment.java","additions":13,"deletions":7,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-package attenuation;\n+package attenTest;\n","filename":"tests\/performance\/3DLighting\/attenuation\/FPSCounter.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n-package attenuation;\n+package attenTest;\n@@ -31,0 +31,2 @@\n+import javafx.beans.binding.When;\n+import javafx.scene.Group;\n@@ -45,0 +47,3 @@\n+import javafx.scene.paint.Color;\n+import javafx.scene.paint.PhongMaterial;\n+import javafx.scene.shape.Box;\n@@ -67,3 +72,1 @@\n-\n-        var box = new Button(\"Boxes (static)\");\n-        box.setOnAction(e -> switchTo(environment.createBoxes()));\n+        var boxesControls = createBoxesControls();\n@@ -77,1 +80,1 @@\n-        var controls = new VBox(3, sphereControls, meshControls, box, new HBox(5, playButton, stopButton));\n+        var controls = new VBox(3, sphereControls, meshControls, boxesControls, new HBox(5, playButton, stopButton));\n@@ -80,3 +83,1 @@\n-            if (light instanceof PointLight) {\n-                vBox = addPointLightControls((PointLight) light);\n-            } else if (light instanceof SpotLight) {\n+            if (light instanceof SpotLight) {\n@@ -84,0 +85,2 @@\n+            } else if (light instanceof PointLight) {\n+                vBox = addPointLightControls((PointLight) light);\n@@ -98,1 +101,1 @@\n-        quadSlider.setMajorTickUnit(200);\n+        quadSlider.setMajorTickUnit(100);\n@@ -126,0 +129,14 @@\n+    private HBox createBoxesControls() {\n+        var box = new Button(\"Boxes (static)\");\n+        var specular = new CheckBox(\"Specular\");\n+        var specularBinding = new When(specular.selectedProperty()).then(Color.WHITE).otherwise(Color.BLACK);\n+        var mat = new PhongMaterial(Color.WHITE);\n+        mat.specularColorProperty().bind(specularBinding);\n+        box.setOnAction(e -> {\n+            Group boxes = environment.createBoxes();\n+            boxes.getChildren().forEach(n -> ((Box) n).setMaterial(mat));\n+            switchTo(boxes);\n+        });\n+        return new HBox(5, box, specular);\n+    }\n+\n@@ -143,1 +160,0 @@\n-        lightOn.setSelected(true);\n","filename":"tests\/performance\/3DLighting\/attenuation\/LightingSample.java","additions":26,"deletions":10,"binary":false,"changes":36,"status":"modified"}]}