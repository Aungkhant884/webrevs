{"files":[{"patch":"@@ -28,0 +28,2 @@\n+import com.sun.javafx.geom.Vec3d;\n+\n@@ -67,0 +69,1 @@\n+    private final Vec3d effectiveDir = new Vec3d();\n@@ -70,1 +73,3 @@\n-        return direction;\n+        var dir = new Vec3d(direction.getX(), direction.getY(), direction.getZ());\n+        getWorldTransform().deltaTransform(dir, effectiveDir);\n+        return new Point3D(effectiveDir.x, effectiveDir.y, effectiveDir.z);\n","filename":"modules\/javafx.graphics\/src\/main\/java\/com\/sun\/javafx\/sg\/prism\/NGSpotLight.java","additions":6,"deletions":1,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import javafx.scene.transform.Rotate;\n@@ -63,3 +64,11 @@\n-        var sliderX = createSlider(-5, 5, 0);\n-        var sliderY = createSlider(-5, 5, 0);\n-        var sliderZ = createSlider(-5, 5, 1);\n+        var transX = new Rotate(0, Rotate.X_AXIS);\n+        var transY = new Rotate(0, Rotate.Y_AXIS);\n+        var transZ = new Rotate(0, Rotate.Z_AXIS);\n+        light.getTransforms().addAll(transX, transY, transZ);\n+        var rotX = createSliderControl(\"rot x\", transX.angleProperty(), -180, 180, 0);\n+        var rotY = createSliderControl(\"rot y\", transY.angleProperty(), -180, 180, 0);\n+        var rotZ = createSliderControl(\"rot z\", transZ.angleProperty(), -180, 180, 0);\n+\n+        var sliderX = createSlider(-5, 5, light.getDirection().getX());\n+        var sliderY = createSlider(-5, 5, light.getDirection().getY());\n+        var sliderZ = createSlider(-5, 5, light.getDirection().getZ());\n@@ -69,0 +78,3 @@\n+        var dirX = createSliderControl(\"dir x\", sliderX);\n+        var dirY = createSliderControl(\"dir y\", sliderY);\n+        var dirZ = createSliderControl(\"dir z\", sliderZ);\n@@ -70,4 +82,1 @@\n-        var x = createSliderControl(\"dir x\", sliderX);\n-        var y = createSliderControl(\"dir y\", sliderY);\n-        var z = createSliderControl(\"dir z\", sliderZ);\n-        vbox.getChildren().addAll(ia, oa, fo , x, y, z);\n+        vbox.getChildren().addAll(ia, oa, fo, rotX, rotY, rotZ, dirX, dirY, dirZ);\n","filename":"tests\/performance\/3DLighting\/attenuation\/AttenLightingSample.java","additions":16,"deletions":7,"binary":false,"changes":23,"status":"modified"},{"patch":"@@ -61,2 +61,2 @@\n-        double elapsedSeconds = (double) elapsedTime \/ 1e9;\n-        double totalElapsedSeconds = (double) totalElapsedTime \/ 1e9;\n+        double elapsedSeconds = elapsedTime \/ 1e9;\n+        double totalElapsedSeconds = totalElapsedTime \/ 1e9;\n","filename":"tests\/performance\/3DLighting\/attenuation\/FPSCounter.java","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"}]}