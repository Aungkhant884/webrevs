{"files":[{"patch":"@@ -110,1 +110,1 @@\n-        if (obj == this)\n+        if (obj == this) {\n@@ -112,8 +112,2 @@\n-\n-        if (!(obj instanceof Map))\n-            return false;\n-\n-        @SuppressWarnings(\"unchecked\")\n-        Map<K,V> m = (Map<K,V>) obj;  \/\/ safe cast as elements are only referenced\n-\n-        if (m.size() != size())\n+        }\n+        if (!(obj instanceof Map<?, ?> otherMap) || otherMap.size() != size()) {\n@@ -121,0 +115,1 @@\n+        }\n@@ -123,1 +118,1 @@\n-            for (Entry<K,V> e : entrySet()) {\n+            for (Entry<K, V> e : entrySet()) {\n@@ -127,4 +122,1 @@\n-                    if (!(m.get(key)==null && m.containsKey(key)))\n-                        return false;\n-                } else {\n-                    if (!value.equals(m.get(key)))\n+                    if (otherMap.get(key) != null || !otherMap.containsKey(key)) {\n@@ -132,0 +124,3 @@\n+                    }\n+                } else if (!value.equals(otherMap.get(key))) {\n+                    return false;\n@@ -134,3 +129,3 @@\n-        } catch (ClassCastException unused) {\n-            return false;\n-        } catch (NullPointerException unused) {\n+\n+            return true;\n+        } catch (ClassCastException | NullPointerException unused) {\n@@ -139,2 +134,0 @@\n-\n-        return true;\n","filename":"modules\/javafx.base\/src\/main\/java\/javafx\/beans\/property\/ReadOnlyMapProperty.java","additions":12,"deletions":19,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-        if (obj == this)\n+        if (obj == this) {\n@@ -111,2 +111,2 @@\n-\n-        if (!(obj instanceof Set))\n+        }\n+        if (!(obj instanceof Set<?> otherSet) || otherSet.size() != size()) {\n@@ -114,0 +114,1 @@\n+        }\n@@ -115,5 +116,0 @@\n-        @SuppressWarnings(\"unchecked\")\n-        Set<E> c = (Set<E>) obj;  \/\/ safe cast as elements are only referenced\n-\n-        if (c.size() != size())\n-            return false;\n@@ -121,4 +117,2 @@\n-            return containsAll(c);\n-        } catch (ClassCastException unused)   {\n-            return false;\n-        } catch (NullPointerException unused) {\n+            return containsAll(otherSet);\n+        } catch (ClassCastException | NullPointerException unused)   {\n","filename":"modules\/javafx.base\/src\/main\/java\/javafx\/beans\/property\/ReadOnlySetProperty.java","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"}]}