{"files":[{"patch":"@@ -92,0 +92,8 @@\n+    \/**\n+     * Remove the DisposerRecord object to prevent memory leak\n+     * @param ref Weak reference of the object to be removed\n+     *\/\n+    public static void removeRecord(WeakReference ref) {\n+        disposerInstance.records.remove(ref);\n+    }\n+\n","filename":"modules\/javafx.swing\/src\/main\/java\/com\/sun\/javafx\/embed\/swing\/Disposer.java","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -73,0 +73,1 @@\n+import com.sun.javafx.embed.swing.DisposerRecord;\n@@ -254,0 +255,2 @@\n+    private DisposerRecord rec;\n+    private WeakReference disposerRecRef;\n@@ -364,1 +367,4 @@\n-            swNodeIOP.disposeFrame(lwFrame);\n+            if (rec != null) {\n+                rec.dispose();\n+                rec = null;\n+            }\n@@ -368,0 +374,4 @@\n+            if (disposerRecRef != null) {\n+                Disposer.removeRecord(disposerRecRef);\n+                disposerRecRef = null;\n+            }\n@@ -384,1 +394,2 @@\n-            Disposer.addRecord(this, swNodeIOP.createSwingNodeDisposer(lwFrame));\n+            rec = swNodeIOP.createSwingNodeDisposer(lwFrame);\n+            disposerRecRef = Disposer.addRecord(this, rec);\n","filename":"modules\/javafx.swing\/src\/main\/java\/javafx\/embed\/swing\/SwingNode.java","additions":13,"deletions":2,"binary":false,"changes":15,"status":"modified"}]}