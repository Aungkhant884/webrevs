{"files":[{"patch":"@@ -33,3 +33,0 @@\n-\/**\n- *\/\n-@Ignore(\"RT-33741\")\n@@ -673,0 +670,1 @@\n+    @Ignore(\"JDK-8255679\")\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/layout\/RegionBackgroundImageUITest.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import javafx.scene.image.WritableImage;\n@@ -43,0 +44,1 @@\n+import javafx.scene.robot.Robot;\n@@ -62,0 +64,1 @@\n+    private volatile WritableImage screenCapture;\n@@ -66,0 +69,1 @@\n+        screenCapture = null;\n@@ -74,0 +78,1 @@\n+            stage.setAlwaysOnTop(true);\n@@ -101,1 +106,1 @@\n-        Color actual = getColorThreadSafe(x, y);\n+        Color actual = getColorFromScreenCapture(x, y);\n@@ -105,1 +110,6 @@\n-            throw new AssertionError(error.getMessage() + \" at position x=\" + x + \", y=\" + y);\n+            actual = getColorThreadSafe(x, y);\n+            try {\n+                assertColorEquals(expected, actual, tolerance);\n+            } catch (AssertionError ex) {\n+                throw new AssertionError(ex.getMessage() + \" at position x=\" + x + \", y=\" + y);\n+            }\n@@ -114,0 +124,13 @@\n+    private Color getColorFromScreenCapture(int x, int y) {\n+        if (screenCapture == null) {\n+            runAndWait(() -> {\n+                screenCapture = new WritableImage((int)scene.getWidth(), (int)scene.getHeight());\n+                getRobot().getScreenCapture(screenCapture,\n+                    scene.getX() + scene.getWindow().getX(),\n+                    scene.getY() + scene.getWindow().getY(),\n+                    scene.getWidth(), scene.getHeight());\n+            });\n+        }\n+        return screenCapture.getPixelReader().getColor(x, y);\n+    }\n+\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/layout\/RegionUITestBase.java","additions":25,"deletions":2,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -66,0 +66,4 @@\n+    protected Robot getRobot() {\n+        return robot;\n+    }\n+\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/testharness\/VisualTestBase.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}