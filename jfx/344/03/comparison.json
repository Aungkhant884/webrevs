{"files":[{"patch":"@@ -32,0 +32,2 @@\n+import com.sun.javafx.PlatformUtil;\n+import static org.junit.Assume.assumeTrue;\n@@ -33,3 +35,0 @@\n-\/**\n- *\/\n-@Ignore(\"RT-33741\")\n@@ -46,0 +45,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -54,0 +54,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -63,0 +64,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -72,0 +74,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -81,0 +84,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -90,0 +94,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -158,0 +163,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -171,0 +177,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -226,0 +233,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -236,0 +244,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -246,0 +255,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -256,0 +266,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -266,0 +277,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -276,0 +288,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -286,0 +299,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -296,0 +310,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -306,0 +321,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -316,0 +332,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -366,0 +383,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -387,0 +405,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -394,0 +413,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -403,0 +423,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -422,0 +443,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -545,0 +567,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -555,0 +578,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -565,0 +589,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -575,0 +600,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -585,0 +611,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -595,0 +622,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -605,0 +633,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -615,0 +644,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -625,0 +655,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -635,0 +666,1 @@\n+        assumeTrue(checkIntegralUIScale());\n@@ -675,0 +707,2 @@\n+        assumeTrue(checkIntegralUIScale());\n+        assumeTrue(!PlatformUtil.isMac()); \/\/ JDK-8255679\n@@ -686,0 +720,1 @@\n+        assumeTrue(checkIntegralUIScale());\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/layout\/RegionBackgroundImageUITest.java","additions":38,"deletions":3,"binary":false,"changes":41,"status":"modified"},{"patch":"@@ -38,0 +38,1 @@\n+import javafx.scene.image.WritableImage;\n@@ -43,0 +44,1 @@\n+import javafx.scene.robot.Robot;\n@@ -62,0 +64,1 @@\n+    private volatile WritableImage screenCapture;\n@@ -66,0 +69,1 @@\n+        screenCapture = null;\n@@ -74,0 +78,1 @@\n+            stage.setAlwaysOnTop(true);\n@@ -101,1 +106,1 @@\n-        Color actual = getColorThreadSafe(x, y);\n+        Color actual = getColorFromScreenCapture(x, y);\n@@ -105,1 +110,6 @@\n-            throw new AssertionError(error.getMessage() + \" at position x=\" + x + \", y=\" + y);\n+            actual = getColorThreadSafe(x, y);\n+            try {\n+                assertColorEquals(expected, actual, tolerance);\n+            } catch (AssertionError ex) {\n+                throw new AssertionError(ex.getMessage() + \" at position x=\" + x + \", y=\" + y);\n+            }\n@@ -114,0 +124,13 @@\n+    private Color getColorFromScreenCapture(int x, int y) {\n+        if (screenCapture == null) {\n+            runAndWait(() -> {\n+                screenCapture = new WritableImage((int)scene.getWidth(), (int)scene.getHeight());\n+                getRobot().getScreenCapture(screenCapture,\n+                    scene.getX() + scene.getWindow().getX(),\n+                    scene.getY() + scene.getWindow().getY(),\n+                    scene.getWidth(), scene.getHeight());\n+            });\n+        }\n+        return screenCapture.getPixelReader().getColor(x, y);\n+    }\n+\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/javafx\/scene\/layout\/RegionUITestBase.java","additions":25,"deletions":2,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -66,0 +66,4 @@\n+    protected Robot getRobot() {\n+        return robot;\n+    }\n+\n","filename":"tests\/system\/src\/test\/java\/test\/robot\/testharness\/VisualTestBase.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}