{"files":[{"patch":"@@ -504,1 +504,1 @@\n-        attr.window_type = GDK_WINDOW_TOPLEVEL;\n+        attr.window_type = GDK_WINDOW_TEMP;\n@@ -507,1 +507,1 @@\n-        dnd_window = gdk_window_new(NULL, &attr, GDK_WA_NOREDIR);\n+        dnd_window = gdk_window_new(NULL, &attr, GDK_WA_TYPE_HINT);\n@@ -875,0 +875,10 @@\n+static GdkCursor* get_default_drag_cursor() {\n+    GdkCursor* cursor = gdk_cursor_new_from_name(gdk_display_get_default(), \"dnd-none\");\n+\n+    if (cursor == NULL) {\n+        cursor = gdk_cursor_new_from_name(gdk_display_get_default(), \"grabbing\");\n+    }\n+\n+    return cursor;\n+}\n+\n@@ -912,5 +922,1 @@\n-        cursor = gdk_cursor_new_from_name(gdk_display_get_default(), \"dnd-none\");\n-\n-        if (cursor == NULL) {\n-            cursor = gdk_cursor_new_from_name(gdk_display_get_default(), \"grabbing\");\n-        }\n+        cursor = get_default_drag_cursor();\n@@ -997,1 +1003,1 @@\n-    if (!dnd_pointer_grab(NULL)) {\n+    if (!dnd_pointer_grab(get_default_drag_cursor())) {\n@@ -1219,0 +1225,1 @@\n+    attrs.event_mask = GDK_EXPOSURE_MASK | GDK_POINTER_MOTION_MASK;\n@@ -1236,0 +1243,2 @@\n+#else\n+    gdk_window_set_opacity(window, .7);\n@@ -1245,4 +1254,5 @@\n-    cairo_t *context = gdk_cairo_create(window);\n-    gdk_cairo_set_source_pixbuf(context, pixbuf, 0, 0);\n-    cairo_paint(context);\n-    cairo_destroy(context);\n+    cairo_t *cr = gdk_cairo_create(window);\n+    cairo_set_operator(cr, CAIRO_OPERATOR_SOURCE);\n+    gdk_cairo_set_source_pixbuf(cr, pixbuf, 0, 0);\n+    cairo_paint(cr);\n+    cairo_destroy(cr);\n","filename":"modules\/javafx.graphics\/src\/main\/native-glass\/gtk\/glass_dnd.cpp","additions":22,"deletions":12,"binary":false,"changes":34,"status":"modified"}]}