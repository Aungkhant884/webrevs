{"files":[{"patch":"@@ -1056,2 +1056,0 @@\n-      stringStream output_buf;\n-      output_buf.print(\"An exception during a checkpoint operation: \\n%s\", out);\n@@ -1059,5 +1057,3 @@\n-      if (current_op->is_effectively_completed()){\n-        tty->print(\"%s\", output_buf.as_string());\n-      } else {\n-        output()->print(\"%s\", output_buf.as_string());\n-      }\n+      outputStream* stream = current_op->is_effectively_completed() ? tty : output();\n+      stream->print_cr(\"An exception during a checkpoint operation:\");\n+      stream->print(\"%s\", out);\n","filename":"src\/hotspot\/share\/services\/diagnosticCommand.cpp","additions":3,"deletions":7,"binary":false,"changes":10,"status":"modified"}]}