{"files":[{"patch":"@@ -102,1 +102,1 @@\n-  : _flush_sem(0), _lock(), _data_available(false),\n+  : _flush_sem(0), _lock(), _block_async(), _data_available(false),\n@@ -182,0 +182,3 @@\n+\n+    _block_async.lock();\n+    _block_async.unlock();\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.cpp","additions":4,"deletions":1,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -157,0 +157,2 @@\n+  \/\/ for asynchronous thread run()\n+  PlatformMonitor _block_async;\n@@ -200,2 +202,2 @@\n-  void stop() { _lock.lock(); }\n-  void resume() { _lock.unlock(); }\n+  void stop() { _block_async.lock(); flush(); }\n+  void resume() { _block_async.unlock(); }\n","filename":"src\/hotspot\/share\/logging\/logAsyncWriter.hpp","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -316,1 +316,0 @@\n-    aio_writer->flush();\n","filename":"src\/hotspot\/share\/runtime\/crac.cpp","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}