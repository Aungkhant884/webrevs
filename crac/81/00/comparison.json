{"files":[{"patch":"@@ -49,1 +49,3 @@\n-        builder.vmOption(\"-XX:NativeMemoryTracking=summary\");\n+        HotSpotDiagnosticMXBean bean = ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class);\n+        final VMOption nmt = bean.getVMOption(\"NativeMemoryTracking\");\n+        builder.vmOption(\"-XX:NativeMemoryTracking=\" + (nmt.getValue().equals(\"off\") ? \"summary\" : \"off\"));\n@@ -60,1 +62,0 @@\n-        assertEquals(\"off\", nmt1.getValue());\n@@ -72,1 +73,1 @@\n-        assertEquals(\"off\", nmt.getValue());\n+        assertEquals(nmt1.getValue(), nmt.getValue());\n","filename":"test\/jdk\/jdk\/crac\/VMOptionsTest.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"}]}