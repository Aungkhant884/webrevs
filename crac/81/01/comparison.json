{"files":[{"patch":"@@ -44,0 +44,1 @@\n+        builder.vmOption(\"-XX:NativeMemoryTracking=off\");\n@@ -45,0 +46,1 @@\n+        builder.clearVmOptions();\n@@ -55,7 +57,9 @@\n-        HotSpotDiagnosticMXBean bean = ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class);\n-        VMOption checkpointTo1 = bean.getVMOption(\"CRaCCheckpointTo\");\n-        assertEquals(\"cr\", checkpointTo1.getValue());\n-        assertEquals(VMOption.Origin.VM_CREATION, checkpointTo1.getOrigin());\n-        VMOption nmt1 = bean.getVMOption(\"NativeMemoryTracking\");\n-        assertEquals(\"off\", nmt1.getValue());\n-        assertEquals(VMOption.Origin.DEFAULT, nmt1.getOrigin());\n+        {\n+            HotSpotDiagnosticMXBean bean = ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class);\n+            VMOption checkpointTo1 = bean.getVMOption(\"CRaCCheckpointTo\");\n+            assertEquals(\"cr\", checkpointTo1.getValue());\n+            assertEquals(VMOption.Origin.VM_CREATION, checkpointTo1.getOrigin());\n+            VMOption nmt1 = bean.getVMOption(\"NativeMemoryTracking\");\n+            assertEquals(\"off\", nmt1.getValue());\n+            assertEquals(VMOption.Origin.VM_CREATION, nmt1.getOrigin());\n+        }\n@@ -65,9 +69,12 @@\n-        VMOption checkpointTo2 = bean.getVMOption(\"CRaCCheckpointTo\");\n-        assertEquals(\"another\", checkpointTo2.getValue());\n-        assertEquals(VMOption.Origin.OTHER, checkpointTo2.getOrigin());\n-        VMOption ignoredFileDescriptors = bean.getVMOption(\"CRaCIgnoredFileDescriptors\");\n-        assertEquals(\"42,43\", ignoredFileDescriptors.getValue());\n-        assertEquals(VMOption.Origin.OTHER, ignoredFileDescriptors.getOrigin());\n-        VMOption nmt = bean.getVMOption(\"NativeMemoryTracking\");\n-        assertEquals(\"off\", nmt.getValue());\n-        assertEquals(VMOption.Origin.DEFAULT, nmt.getOrigin());\n+        {\n+            HotSpotDiagnosticMXBean bean = ManagementFactory.getPlatformMXBean(HotSpotDiagnosticMXBean.class);\n+            VMOption checkpointTo2 = bean.getVMOption(\"CRaCCheckpointTo\");\n+            assertEquals(\"another\", checkpointTo2.getValue());\n+            assertEquals(VMOption.Origin.OTHER, checkpointTo2.getOrigin());\n+            VMOption ignoredFileDescriptors = bean.getVMOption(\"CRaCIgnoredFileDescriptors\");\n+            assertEquals(\"42,43\", ignoredFileDescriptors.getValue());\n+            assertEquals(VMOption.Origin.OTHER, ignoredFileDescriptors.getOrigin());\n+            VMOption nmt = bean.getVMOption(\"NativeMemoryTracking\");\n+            assertEquals(\"off\", nmt.getValue());\n+            assertEquals(VMOption.Origin.VM_CREATION, nmt.getOrigin());\n+        }\n","filename":"test\/jdk\/jdk\/crac\/VMOptionsTest.java","additions":23,"deletions":16,"binary":false,"changes":39,"status":"modified"},{"patch":"@@ -119,0 +119,4 @@\n+    public void clearVmOptions() {\n+        vmOptions.clear();\n+    }\n+\n","filename":"test\/lib\/jdk\/test\/lib\/crac\/CracBuilder.java","additions":4,"deletions":0,"binary":false,"changes":4,"status":"modified"}]}