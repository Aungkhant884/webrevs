{"files":[{"patch":"@@ -5835,1 +5835,10 @@\n-  if (_crengine && !fork()) {\n+  if (!_crengine) {\n+    return -1;\n+  }\n+\n+  pid_t pid = fork();\n+  if (pid == -1) {\n+    perror(\"cannot fork for crengine\");\n+    return -1;\n+  }\n+  if (pid == 0) {\n@@ -5841,1 +5850,10 @@\n-  return 0;\n+  int status;\n+  int ret;\n+  do {\n+    ret = waitpid(pid, &status, 0);\n+  } while (ret == -1 && errno == EINTR);\n+\n+  if (ret == -1 || !WIFEXITED(status)) {\n+    return -1;\n+  }\n+  return WEXITSTATUS(status) == 0 ? 0 : -1;\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":20,"deletions":2,"binary":false,"changes":22,"status":"modified"}]}