{"files":[{"patch":"@@ -84,1 +84,6 @@\n-        final int length = codes.length;\n+        \/\/ When the CR engine fails (e.g. due to permissions, missing binaries...)\n+        \/\/ there are no messages recorded, but the user would end up with an empty\n+        \/\/ CheckpointException without stack trace nor message.\n+        if (codes.length == 0) {\n+            exception.addSuppressed(new RuntimeException(\"Native checkpoint failed.\"));\n+        }\n@@ -86,1 +91,1 @@\n-        for (int i = 0; i < length; ++i) {\n+        for (int i = 0; i < codes.length; ++i) {\n@@ -145,3 +150,0 @@\n-                if (messages.length == 0) {\n-                    checkpointException.addSuppressed(new RuntimeException(\"Native checkpoint failed\"));\n-                }\n","filename":"src\/java.base\/share\/classes\/jdk\/crac\/Core.java","additions":7,"deletions":5,"binary":false,"changes":12,"status":"modified"}]}