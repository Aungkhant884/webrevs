{"files":[{"patch":"@@ -28,0 +28,1 @@\n+#include \"classfile\/classLoader.hpp\"\n@@ -6463,6 +6464,0 @@\n-  if (!strcmp(modules_path, path)) {\n-    \/\/ Path to the modules directory is opened early when JVM is booted up and won't be closed.\n-    \/\/ We can ignore this for purposes of CRaC.\n-    return true;\n-  }\n-\n@@ -6495,0 +6490,7 @@\n+\n+  if (os::same_files(modules_path, path)) {\n+    \/\/ Path to the modules directory is opened early when JVM is booted up and won't be closed.\n+    \/\/ We can ignore this for purposes of CRaC.\n+    return true;\n+  }\n+\n@@ -6503,1 +6505,1 @@\n-    jio_snprintf(modules_path, JVM_MAXPATHLEN, \"%s%slib%smodules\", Arguments::get_java_home(), fileSep, fileSep);\n+    jio_snprintf(modules_path, JVM_MAXPATHLEN, \"%s%slib%s\" MODULES_IMAGE_NAME, Arguments::get_java_home(), fileSep, fileSep);\n@@ -6515,1 +6517,1 @@\n-        log_warning(os)(\"CRaC closing file descriptor %d: %s\\n\", fd, path);\n+        log_warning(os)(\"CRaC closing file descriptor %d: %s\", fd, path);\n","filename":"src\/hotspot\/os\/linux\/os_linux.cpp","additions":10,"deletions":8,"binary":false,"changes":18,"status":"modified"}]}