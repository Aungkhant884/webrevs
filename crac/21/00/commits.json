[{"commit":{"message":"Allow users to pass new properties on restore\n\nVM changes: To identify properties that can be modified on restore,\nadded a new bool field SystemProperty::_modifiable_on_restore.\nAll the jdk related properties are marked unmodifiable. Rest of the\nproperties are considered modifiable.\nWhen the JVM is launched with -XX:CRaCRestoreFrom option, then the\nproperties prefixed with \"-D\" are maintained in a separate list in\nArguments::_system_properties_for_restore. This list is passed to the JVM\nbeing restored by writing to a shared memory object.\nWhen the JVM is restored, it reads the new properties from shared memory\nobject and updates its existing list of properties maintained in\nArguments::_system_properties.\n\nJDK changes: System::props needs to be updated on restore to account for\nnew system properties. For this purpose j.l.System registers a new\nJDKResource which queries new properties from the VM in afterRestore()\nnotification and updates System::props. The JDKResource registered by\nj.l.System is given highest priority so it is the first resource to get\nafterRestore() notification.\n\nSigned-off-by: Ashutosh Mehra <asmehra@redhat.com>"},"files":[{"filename":"make\/data\/hotspot-symbols\/symbols-unix"},{"filename":"src\/hotspot\/os\/linux\/os_linux.cpp"},{"filename":"src\/hotspot\/share\/include\/jvm.h"},{"filename":"src\/hotspot\/share\/prims\/jvm.cpp"},{"filename":"src\/hotspot\/share\/runtime\/arguments.cpp"},{"filename":"src\/hotspot\/share\/runtime\/arguments.hpp"},{"filename":"src\/java.base\/share\/classes\/java\/lang\/System.java"},{"filename":"src\/java.base\/share\/classes\/jdk\/internal\/crac\/JDKResource.java"},{"filename":"src\/java.base\/share\/classes\/jdk\/internal\/util\/SystemProps.java"},{"filename":"src\/java.base\/share\/native\/libjava\/System.c"}],"sha":"be595dab823134f5c076457b2d998978dbd28084"}]