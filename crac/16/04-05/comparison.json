{"files":[{"patch":"@@ -33,2 +33,0 @@\n-import jdk.internal.reflect.CallerSensitive;\n-import jdk.internal.reflect.Reflection;\n@@ -39,0 +37,3 @@\n+import java.security.AccessController;\n+import java.security.PrivilegedActionException;\n+import java.security.PrivilegedExceptionAction;\n@@ -108,0 +109,1 @@\n+    @SuppressWarnings(\"removal\")\n@@ -167,5 +169,11 @@\n-                    Class<?> newMainClass = Class.forName(args[0], false,\n-                        ClassLoader.getSystemClassLoader());\n-                    Method newMain = newMainClass.getDeclaredMethod(\"main\",\n-                        String[].class);\n-                    newMain.setAccessible(true);\n+                    Method newMain = AccessController.doPrivileged(new PrivilegedExceptionAction<Method>() {\n+                       @Override\n+                       public Method run() throws Exception {\n+                           Class < ?> newMainClass = Class.forName(args[0], false,\n+                               ClassLoader.getSystemClassLoader());\n+                           Method newMain = newMainClass.getDeclaredMethod(\"main\",\n+                               String[].class);\n+                           newMain.setAccessible(true);\n+                           return newMain;\n+                       }\n+                    });\n@@ -174,1 +182,1 @@\n-                } catch (ClassNotFoundException    |\n+                } catch (PrivilegedActionException |\n@@ -176,1 +184,0 @@\n-                         NoSuchMethodException     |\n","filename":"src\/java.base\/share\/classes\/jdk\/crac\/Core.java","additions":16,"deletions":9,"binary":false,"changes":25,"status":"modified"}]}