{"files":[{"patch":"@@ -1,1 +1,1 @@\n-#  Copyright (c) 2013, 2020, Oracle and\/or its affiliates. All rights reserved.\n+#  Copyright (c) 2013, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -556,1 +556,0 @@\n-    sun\/security\/tools\/keytool\/console.sh \\\n","filename":"test\/jdk\/TEST.groups","additions":1,"deletions":2,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -1,128 +0,0 @@\n-#\n-# Copyright (c) 2006, 2019, Oracle and\/or its affiliates. All rights reserved.\n-# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n-#\n-# This code is free software; you can redistribute it and\/or modify it\n-# under the terms of the GNU General Public License version 2 only, as\n-# published by the Free Software Foundation.\n-#\n-# This code is distributed in the hope that it will be useful, but WITHOUT\n-# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-# version 2 for more details (a copy is included in the LICENSE file that\n-# accompanied this code).\n-#\n-# You should have received a copy of the GNU General Public License version\n-# 2 along with this work; if not, write to the Free Software Foundation,\n-# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n-#\n-# Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n-# or visit www.oracle.com if you need additional information or have any\n-# questions.\n-#\n-\n-# @test\n-# @bug 6418647 8005527\n-# @summary Doc bug 5035358 shows sun.security.util.Password.readPassword() is buggy.\n-# @author Weijun Wang\n-# @run shell\/manual console.sh\n-\n-if [ \"$ALT_PASS\" = \"\" ]; then\n-\tPASSW=äöäöäö\n-else\n-  \tPASSW=$ALT_PASS\n-fi\n-\n-KS=\/tmp\/kkk.$$\n-\n-cat <<____\n-\n-ATTENTION\n-===============================================================\n-\n-This test is about non-ASCII password input compatibility between\n-JDK 5.0 and later versions. Before running the test, make sure that --\n-\n-    \\$J5 points to a JDK 5.0 installation\n-    \\$JM points to the current installation\n-\n-The password string used in this test is $PASSW. If you find difficulty\n-entering it in in your system, feel free to change it to something else\n-by providing \\$ALT_PASS. It should be no less than 6 characters and include\n-some non-ASCII characters.\n-\n-For each test, type into the characters as described in the test header.\n-<R> means the RETURN (or ENTER key). Please wait for a little while\n-after <R> is pressed each time.\n-\n-\\$J5 is now $J5\n-\\$JM is now $JM\n-\n-____\n-\n-\n-if [ \"$J5\" = \"\" -o \"$JM\" = \"\" ]; then\n-\techo \"Define \\$J5 and \\$JM first\"\n-\texit 1\n-fi\n-\n-echo \"Press ENTER to start the test, or Ctrl-C to stop it\"\n-read x\n-\n-echo\n-echo \"==========================================\"\n-echo \"Test #1: 5->6, non-prompt. Please type <R>\"\n-echo \"==========================================\"\n-echo\n-rm $KS 2> \/dev\/null\n-$J5\/bin\/keytool -keystore $KS -genkey -keyalg DSA -dname CN=olala -storepass $PASSW || exit 1\n-$JM\/bin\/keytool -keystore $KS -list -storepass $PASSW || exit 2\n-\n-echo \"==========================================\"\n-echo \"Test #2: 6->5, non-prompt. Please type <R>\"\n-echo \"==========================================\"\n-echo\n-\n-rm $KS 2> \/dev\/null\n-$JM\/bin\/keytool -keystore $KS -genkey -keyalg DSA -dname CN=olala -storepass $PASSW || exit 3\n-$J5\/bin\/keytool -keystore $KS -list -storepass $PASSW || exit 4\n-\n-echo \"============================================================\"\n-echo \"Test #3: 5->6, prompt. Please type $PASSW <R> <R> $PASSW <R>\"\n-echo \"============================================================\"\n-echo\n-\n-rm $KS 2> \/dev\/null\n-$J5\/bin\/keytool -keystore $KS -genkey -keyalg DSA -dname CN=olala || exit 5\n-$JM\/bin\/keytool -keystore $KS -list || exit 6\n-echo $PASSW| $J5\/bin\/keytool -keystore $KS -list || exit 7\n-echo $PASSW| $JM\/bin\/keytool -keystore $KS -list || exit 8\n-\n-echo \"=======================================================================\"\n-echo \"Test #4: 6->5, prompt. Please type $PASSW <R> $PASSW <R> <R> $PASSW <R>\"\n-echo \"=======================================================================\"\n-echo\n-\n-rm $KS 2> \/dev\/null\n-$JM\/bin\/keytool -keystore $KS -genkey -keyalg DSA -dname CN=olala || exit 9\n-$J5\/bin\/keytool -keystore $KS -list || exit 10\n-echo $PASSW| $JM\/bin\/keytool -keystore $KS -list || exit 11\n-echo $PASSW| $J5\/bin\/keytool -keystore $KS -list || exit 12\n-\n-echo \"===========================================\"\n-echo \"Test #5: 5->6, pipe. Please type $PASSW <R>\"\n-echo \"===========================================\"\n-echo\n-\n-rm $KS 2> \/dev\/null\n-echo $PASSW| $J5\/bin\/keytool -keystore $KS -genkey -keyalg DSA -dname CN=olala || exit 13\n-$JM\/bin\/keytool -keystore $KS -list || exit 14\n-echo $PASSW| $J5\/bin\/keytool -keystore $KS -list || exit 15\n-echo $PASSW| $JM\/bin\/keytool -keystore $KS -list || exit 16\n-\n-rm $KS 2> \/dev\/null\n-\n-echo\n-echo \"Success\"\n-\n-exit 0\n","filename":"test\/jdk\/sun\/security\/tools\/keytool\/console.sh","additions":0,"deletions":128,"binary":false,"changes":128,"status":"deleted"}]}