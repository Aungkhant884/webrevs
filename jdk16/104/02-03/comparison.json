{"files":[{"patch":"@@ -40,0 +40,1 @@\n+#include \"logging\/logStream.hpp\"\n@@ -466,10 +467,14 @@\n-    ResourceMark rm(THREAD);\n-    tty->print(\"resolve_indy for class %s has\", class_name_symbol->as_C_string());\n-    oop message = java_lang_Throwable::message(PENDING_EXCEPTION);\n-    if (message != NULL) {\n-      char* ex_msg = java_lang_String::as_utf8_string(message);\n-      tty->print_cr(\" exception pending '%s %s'\",\n-                    PENDING_EXCEPTION->klass()->external_name(), ex_msg);\n-    } else {\n-      tty->print_cr(\" exception pending %s \",\n-                    PENDING_EXCEPTION->klass()->external_name());\n+    LogTarget(Debug, cds, lambda) log;\n+    if (log.is_enabled()) {\n+      ResourceMark rm(THREAD);\n+      LogStream ls(log);\n+      log.print(\"resolve_indy for class %s has\", class_name_symbol->as_C_string());\n+      oop message = java_lang_Throwable::message(PENDING_EXCEPTION);\n+      if (message != NULL) {\n+        char* ex_msg = java_lang_String::as_utf8_string(message);\n+        ls.print(\" exception pending '%s %s'\",\n+                  PENDING_EXCEPTION->klass()->external_name(), ex_msg);\n+      } else {\n+        ls.print(\" exception pending %s \",\n+                  PENDING_EXCEPTION->klass()->external_name());\n+      }\n@@ -478,1 +483,1 @@\n-    if (exception->is_a(SystemDictionary::Error_klass())) {\n+    if (exception->is_a(SystemDictionary::LinkageError_klass())) {\n","filename":"src\/hotspot\/share\/classfile\/classListParser.cpp","additions":16,"deletions":11,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -48,1 +48,2 @@\n-       .shouldContain(\"resolve_indy for class WrongBSM has exception pending 'java.lang.NoSuchMethodError '\");\n+       .shouldContain(\"resolve_indy for class WrongBSM has\")\n+       .shouldContain(\"exception pending 'java.lang.NoSuchMethodError '\");\n","filename":"test\/hotspot\/jtreg\/runtime\/cds\/appcds\/BadBSM.java","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}