{"files":[{"patch":"@@ -27,1 +27,0 @@\n-import org.openjdk.jol.util.SimpleIdentityHashSet;\n@@ -29,0 +28,1 @@\n+import org.openjdk.jol.util.SimpleIdentityHashSet;\n@@ -33,1 +33,0 @@\n-import java.util.ArrayList;\n@@ -35,2 +34,0 @@\n-import java.util.List;\n-import java.util.Map;\n@@ -45,2 +42,2 @@\n-    private final List<GraphVisitor> visitors;\n-    private final Map<Class<?>, Long> sizeCache;\n+    private final GraphVisitor[] visitors;\n+    private final HashMap<Class<?>, Long> sizeCache;\n@@ -48,2 +45,2 @@\n-    public GraphWalker() {\n-        visitors = new ArrayList<>();\n+    public GraphWalker(GraphVisitor... visitor) {\n+        this.visitors = visitor;\n@@ -53,4 +50,0 @@\n-    public void addVisitor(GraphVisitor visitor) {\n-        visitors.add(visitor);\n-    }\n-\n@@ -95,1 +88,3 @@\n-                        visitObject(gpr);\n+                        for (GraphVisitor v : visitors) {\n+                            v.visit(gpr);\n+                        }\n@@ -112,1 +107,3 @@\n-                        visitObject(gpr);\n+                        for (GraphVisitor v : visitors) {\n+                            v.visit(gpr);\n+                        }\n@@ -122,6 +119,0 @@\n-    private void visitObject(GraphPathRecord record) {\n-        for (GraphVisitor v : visitors) {\n-            v.visit(record);\n-        }\n-    }\n-\n","filename":"jol-core\/src\/main\/java\/org\/openjdk\/jol\/info\/GraphWalker.java","additions":11,"deletions":20,"binary":false,"changes":31,"status":"modified"}]}