{"files":[{"patch":"@@ -24,2 +24,0 @@\n-    static final int SIZE_SLACK = 16;\n-\n@@ -58,1 +56,6 @@\n-            long expected = l.headerSize() + (long) size * elementSize;\n+\n+            \/\/ At least the header size, plus the element storage.\n+            \/\/ At most the alignment tail and the array base alignment.\n+            long expectedMin = l.headerSize() + (long) size * elementSize;\n+            long expectedMax = expectedMin + VM.current().objectAlignment() + 4;\n+\n@@ -61,2 +64,3 @@\n-            Assert.assertTrue(cl + \" array instance size is not within range: actual = \" + actual + \", expected = \" + expected,\n-                    (actual - SIZE_SLACK <= expected) && (expected <= actual + SIZE_SLACK));\n+            Assert.assertTrue(cl + \" array instance size is not within range: actual = \" + actual +\n+                            \", expected range = [\" + expectedMin + \", \" + expectedMax + \"]\",\n+                    (actual >= expectedMin && actual <= expectedMax));\n","filename":"jol-core\/src\/test\/java\/org\/openjdk\/jol\/info\/ClassLayoutArraysTest.java","additions":9,"deletions":5,"binary":false,"changes":14,"status":"modified"}]}