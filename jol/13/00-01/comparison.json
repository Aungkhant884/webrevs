{"files":[{"patch":"@@ -33,1 +33,0 @@\n-import jdk.internal.vm.annotation.Contended;\n@@ -77,1 +76,1 @@\n-        @Contended(\"first\")\n+        @jdk.internal.vm.annotation.Contended(\"first\")\n@@ -81,1 +80,1 @@\n-        @Contended(\"first\")\n+        @jdk.internal.vm.annotation.Contended(\"first\")\n@@ -85,1 +84,1 @@\n-        @Contended(\"last\")\n+        @jdk.internal.vm.annotation.Contended(\"last\")\n@@ -89,1 +88,1 @@\n-        @Contended(\"last\")\n+        @jdk.internal.vm.annotation.Contended(\"last\")\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_09_Contended.java","additions":4,"deletions":5,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -43,1 +43,1 @@\n-public class JOLSample_26_IHC_BL_Conflict {\n+public class JOLSample_16_IHC_BL_Conflict {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_16_IHC_BL_Conflict.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_26_IHC_BL_Conflict.java","status":"renamed"},{"patch":"@@ -0,0 +1,60 @@\n+\/*\n+ * Copyright (c) 2021, Red Hat, Inc.\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ *  * Redistributions of source code must retain the above copyright notice,\n+ *    this list of conditions and the following disclaimer.\n+ *\n+ *  * Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in the\n+ *    documentation and\/or other materials provided with the distribution.\n+ *\n+ *  * Neither the name of Oracle nor the names of its contributors may be used\n+ *    to endorse or promote products derived from this software without\n+ *    specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF\n+ * THE POSSIBILITY OF SUCH DAMAGE.\n+ *\/\n+package org.openjdk.jol.samples;\n+\n+import org.openjdk.jol.info.ClassLayout;\n+import org.openjdk.jol.vm.VM;\n+\n+import static java.lang.System.out;\n+\n+\/**\n+ * @author Aleksey Shipilev\n+ *\/\n+public class JOLSample_17_ArrayLength {\n+\n+    \/*\n+     * The example for array length.\n+     *\n+     * Array length is not the part of array type, so VMs need another\n+     * slot in header to store the array length. This can be demonstrated\n+     * by this example.\n+     *\/\n+\n+    public static void main(String[] args) {\n+        out.println(VM.current().details());\n+\n+        for (int c = 0; c < 8; c++) {\n+            out.println(\"**** int[\" + c + \"]\");\n+            out.println(ClassLayout.parseInstance(new int[c]).toPrintable());\n+        }\n+    }\n+\n+}\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_17_ArrayLength.java","additions":60,"deletions":0,"binary":false,"changes":60,"status":"added"},{"patch":"@@ -41,1 +41,1 @@\n-public class JOLSample_25_ArrayAlignment {\n+public class JOLSample_18_ArrayAlignment {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_18_ArrayAlignment.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_25_ArrayAlignment.java","status":"renamed"},{"patch":"@@ -46,1 +46,1 @@\n-public class JOLSample_16_AL_LL {\n+public class JOLSample_19_AL_LL {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_19_AL_LL.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_16_AL_LL.java","status":"renamed"},{"patch":"@@ -44,1 +44,1 @@\n-public class JOLSample_17_Allocation {\n+public class JOLSample_20_Allocation {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_20_Allocation.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_17_Allocation.java","status":"renamed"},{"patch":"@@ -45,1 +45,1 @@\n-public class JOLSample_18_Layouts {\n+public class JOLSample_21_Layouts {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_21_Layouts.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_18_Layouts.java","status":"renamed"},{"patch":"@@ -43,1 +43,1 @@\n-public class JOLSample_19_Promotion {\n+public class JOLSample_22_Promotion {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_22_Promotion.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_19_Promotion.java","status":"renamed"},{"patch":"@@ -44,1 +44,1 @@\n-public class JOLSample_20_Roots {\n+public class JOLSample_23_Roots {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_23_Roots.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_20_Roots.java","status":"renamed"},{"patch":"@@ -43,1 +43,1 @@\n-public class JOLSample_21_Arrays {\n+public class JOLSample_24_Arrays {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_24_Arrays.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_21_Arrays.java","status":"renamed"},{"patch":"@@ -44,1 +44,1 @@\n-public class JOLSample_22_Compaction {\n+public class JOLSample_25_Compaction {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_25_Compaction.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_22_Compaction.java","status":"renamed"},{"patch":"@@ -41,1 +41,1 @@\n-public class JOLSample_23_Defragmentation {\n+public class JOLSample_26_Defragmentation {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_26_Defragmentation.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_23_Defragmentation.java","status":"renamed"},{"patch":"@@ -47,1 +47,1 @@\n-public class JOLSample_24_Colocation {\n+public class JOLSample_27_Colocation {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_27_Colocation.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_24_Colocation.java","status":"renamed"},{"patch":"@@ -44,1 +44,1 @@\n-public class JOLSample_24_Difference {\n+public class JOLSample_28_Difference {\n","filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_28_Difference.java","additions":1,"deletions":1,"binary":false,"changes":2,"previous_filename":"jol-samples\/src\/main\/java\/org\/openjdk\/jol\/samples\/JOLSample_24_Difference.java","status":"renamed"}]}