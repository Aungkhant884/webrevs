{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2015, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -368,3 +368,3 @@\n-    \/\/ Skip over Windows paths such as \"C:\\...\"\n-    \/\/ Handle both C:\\... and file=C:\\...\"\n-    if (next != NULL && next[0] == ':' && next[1] == '\\\\') {\n+    \/\/ Skip over Windows paths such as \"C:\\...\" and \"C:\/...\".\n+    \/\/ Handles both \"C:\\...\" and \"file=C:\\...\".\n+    if (next != NULL && next[0] == ':' && (next[1] == '\\\\' || next[1] == '\/')) {\n","filename":"src\/hotspot\/share\/logging\/logConfiguration.cpp","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2016, 2021, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2016, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -362,0 +362,23 @@\n+\n+#ifdef _WINDOWS\n+  \/\/ We need to test the special-case parsing for drive letters in\n+  \/\/ log file paths e.g. c:\\log.txt and c:\/log.txt. Our temp directory\n+  \/\/ based TestLogFileName should already be the \\ format (we print it\n+  \/\/ below to visually verify) so we only need to convert to \/.\n+  printf(\"Checked: %s\\n\", buf);\n+  \/\/ First disable logging so the current log file will be closed and we\n+  \/\/ can delete it, so that UL won't try to perform log file rotation.\n+  \/\/ The rotated file would not be auto-deleted.\n+  set_log_config(TestLogFileName, \"all=off\");\n+  delete_file(TestLogFileName);\n+\n+  \/\/ now convert \\ to \/\n+  char* current_pos = strchr(buf,'\\\\');\n+  while (current_pos != nullptr) {\n+    *current_pos = '\/';\n+    current_pos = strchr(current_pos + 1, '\\\\');\n+  }\n+  printf(\"Checking: %s\\n\", buf);\n+  EXPECT_TRUE(LogConfiguration::parse_command_line_arguments(buf));\n+#endif\n+\n","filename":"test\/hotspot\/gtest\/logging\/test_logConfiguration.cpp","additions":24,"deletions":1,"binary":false,"changes":25,"status":"modified"}]}