{"files":[{"patch":"@@ -38,0 +38,1 @@\n+import java.util.concurrent.TimeUnit;\n@@ -48,1 +49,1 @@\n-        int timeout = 2000;\n+        int timeoutMillis = 2000;\n@@ -65,1 +66,1 @@\n-                    \"expected around \" + timeout \/ 1000 + \" seconds\");\n+                    \"expected around \" + timeoutMillis \/ 1000 + \" seconds\");\n@@ -71,1 +72,1 @@\n-        long startMillis = System.currentTimeMillis();\n+        long startTime = System.nanoTime();\n@@ -76,1 +77,1 @@\n-            socket.connect(new InetSocketAddress(\"192.168.255.255\", 8080), timeout);\n+            socket.connect(new InetSocketAddress(\"192.168.255.255\", 8080), timeoutMillis);\n@@ -78,2 +79,2 @@\n-            long duration = System.currentTimeMillis() - startMillis;\n-            if (duration >= timeout) {\n+            long duration = TimeUnit.MILLISECONDS.convert(System.nanoTime() - startTime, TimeUnit.NANOSECONDS);\n+            if (duration >= timeoutMillis) {\n@@ -82,1 +83,1 @@\n-                System.out.println(\"Test FAILED: duration \" + duration + \" ms, expected >= \" + timeout + \" ms\");\n+                System.out.println(\"Test FAILED: duration \" + duration + \" ms, expected >= \" + timeoutMillis + \" ms\");\n","filename":"test\/jdk\/java\/net\/Socket\/B8312065.java","additions":8,"deletions":7,"binary":false,"changes":15,"status":"modified"}]}