{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2014, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -53,0 +53,2 @@\n+import static java.nio.file.StandardOpenOption.*;\n+\n@@ -244,4 +246,3 @@\n-                FileChannel fc = FileChannel.open(Paths.get(lock.getAbsolutePath()),\n-                    StandardOpenOption.CREATE_NEW, StandardOpenOption.APPEND,\n-                    StandardOpenOption.WRITE);\n-                try {\n+                handler2 = null;\n+                try (FileChannel fc = FileChannel.open(lock.toPath(), CREATE_NEW, APPEND, WRITE)) {\n+\n@@ -264,0 +265,1 @@\n+                    if (handler2 != null) handler2.close();\n@@ -323,5 +325,2 @@\n-        try {\n-            FileChannel fc = FileChannel.open(Paths.get(writableDir.getAbsolutePath(),\n-                    uniqueFileName),\n-                    StandardOpenOption.CREATE_NEW, StandardOpenOption.APPEND,\n-                    StandardOpenOption.DELETE_ON_CLOSE);\n+        try (FileChannel fc = FileChannel.open(Paths.get(writableDir.getAbsolutePath(),\n+                    uniqueFileName), CREATE_NEW, APPEND, DELETE_ON_CLOSE)) {\n@@ -330,1 +329,1 @@\n-            } catch(IOException x) {\n+            } catch (IOException x) {\n@@ -332,2 +331,0 @@\n-            } finally {\n-                fc.close();\n","filename":"test\/jdk\/java\/util\/logging\/CheckZombieLockTest.java","additions":10,"deletions":13,"binary":false,"changes":23,"status":"modified"}]}