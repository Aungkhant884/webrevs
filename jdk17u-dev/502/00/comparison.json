{"files":[{"patch":"@@ -234,1 +234,1 @@\n-    , non_data_bits  = pointer_bits + kind_bits + type_bits + size_bits + destroys_bits + virtual_bits\n+    , non_data_bits  = kind_bits + type_bits + size_bits + destroys_bits + virtual_bits\n@@ -240,1 +240,1 @@\n-  enum OprShift {\n+  enum OprShift : uintptr_t {\n@@ -273,1 +273,1 @@\n-  uintptr_t data() const                         { return value() >> data_shift; }\n+  uint32_t data() const                          { return (uint32_t)value() >> data_shift; }\n@@ -284,1 +284,3 @@\n-    vreg_max = (1 << data_bits) - 1\n+    data_max = (1 << data_bits) - 1,      \/\/ max unsigned value for data bit field\n+    vreg_limit =  10000,                  \/\/ choose a reasonable limit,\n+    vreg_max = MIN2(vreg_limit, data_max) \/\/ and make sure if fits in the bit field\n@@ -739,1 +741,0 @@\n-    assert(index <= (max_jint >> LIR_OprDesc::data_shift), \"index is too big\");\n@@ -818,1 +819,1 @@\n-    assert(index <= (max_jint >> LIR_OprDesc::data_shift), \"index is too big\");\n+    assert(index == (int)res->data(), \"conversion check\");\n","filename":"src\/hotspot\/share\/c1\/c1_LIR.hpp","additions":7,"deletions":6,"binary":false,"changes":13,"status":"modified"}]}