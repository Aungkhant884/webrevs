{"files":[{"patch":"@@ -24,0 +24,4 @@\n+import java.io.File;\n+\n+import java.awt.image.BufferedImage;\n+import java.awt.Dimension;\n@@ -29,0 +33,1 @@\n+import java.awt.Toolkit;\n@@ -41,0 +46,1 @@\n+import javax.imageio.ImageIO;\n@@ -43,0 +49,1 @@\n+\n@@ -55,2 +62,2 @@\n-    private int step;\n-    private boolean spinnerValueChanged[] = {false, false, false};\n+    private int step = 0;\n+    private volatile boolean spinnerValueChanged[] = {false, false, false};\n@@ -58,2 +65,2 @@\n-    private static Point p;\n-    private static Rectangle rect;\n+    private static volatile Point p;\n+    private static volatile Rectangle rect;\n@@ -63,1 +70,1 @@\n-        robot.setAutoDelay(50);\n+        robot.setAutoDelay(100);\n@@ -71,0 +78,1 @@\n+                robot.delay(1000);\n@@ -109,0 +117,1 @@\n+            System.out.println(\"p \" + p + \" rect \" + rect);\n@@ -111,1 +120,2 @@\n-            robot.mousePress(InputEvent.BUTTON1_MASK);\n+            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n+\n@@ -126,0 +136,1 @@\n+            robot.waitForIdle();\n@@ -135,0 +146,1 @@\n+            robot.waitForIdle();\n@@ -136,1 +148,2 @@\n-            robot.mouseRelease(InputEvent.BUTTON1_MASK);\n+            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n+            robot.waitForIdle();\n@@ -148,0 +161,9 @@\n+                System.out.println(\"!spinnerValueChanged[0] \" + !spinnerValueChanged[0] +\n+                                   \" spinnerValueChanged[1] \" + spinnerValueChanged[1] +\n+                                   \" !spinnerValueChanged[2] \" + !spinnerValueChanged[2]);\n+                try {\n+                    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n+                    Rectangle screen = new Rectangle(0, 0, (int) screenSize.getWidth(), (int) screenSize.getHeight());\n+                    BufferedImage fullScreen = robot.createScreenCapture(screen);\n+                    ImageIO.write(fullScreen, \"png\", new File(\"fullScreen.png\"));\n+                } catch (Exception e) {}\n","filename":"test\/jdk\/javax\/swing\/JSpinner\/4788637\/bug4788637.java","additions":29,"deletions":7,"binary":false,"changes":36,"status":"modified"}]}