{"files":[{"patch":"@@ -423,1 +423,3 @@\n-  assert(!jvms->method()->has_exception_handlers(), \"no exception handler expected\");\n+  assert(!jvms->method()->has_exception_handlers() ||\n+         (method()->intrinsic_id() != vmIntrinsics::_linkToVirtual &&\n+          method()->intrinsic_id() != vmIntrinsics::_linkToInterface), \"no exception handler expected\");\n","filename":"src\/hotspot\/share\/opto\/callGenerator.cpp","additions":3,"deletions":1,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -26,1 +26,1 @@\n- * @bug 8275638\n+ * @bug 8275638 8278966\n@@ -58,0 +58,10 @@\n+            test5(test);\n+            try {\n+                test5(null);\n+            } catch (NullPointerException npe) {\n+            }\n+            test6(test);\n+            try {\n+                test6(null);\n+            } catch (NullPointerException npe) {\n+            }\n@@ -64,0 +74,3 @@\n+    static void nothing(Throwable t) {\n+    }\n+\n@@ -65,0 +78,3 @@\n+    static final MethodHandle mh_nothing;\n+    static final MethodHandle mh2;\n+    static final MethodHandle mh3;\n@@ -70,0 +86,3 @@\n+            mh_nothing = lookup.findStatic(TestLateMHInlineExceptions.class, \"nothing\", MethodType.methodType(void.class, Throwable.class));\n+            mh2 = MethodHandles.tryFinally(mh, mh_nothing);\n+            mh3 = MethodHandles.catchException(mh, Throwable.class, mh_nothing);\n@@ -105,0 +124,8 @@\n+\n+    private static void test5(TestLateMHInlineExceptions test) throws Throwable {\n+        mh2.invokeExact(test);\n+    }\n+\n+    private static void test6(TestLateMHInlineExceptions test) throws Throwable {\n+        mh3.invokeExact(test);\n+    }\n","filename":"test\/hotspot\/jtreg\/compiler\/exceptions\/TestLateMHInlineExceptions.java","additions":28,"deletions":1,"binary":false,"changes":29,"status":"modified"}]}