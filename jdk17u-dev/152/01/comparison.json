{"files":[{"patch":"@@ -2939,2 +2939,5 @@\n-        List<TypeElement> usedInDeclaration = new ArrayList<>();\n-        usedInDeclaration.addAll(annotations2Classes(el));\n+        if (el.asType().getKind() == ERROR) {\n+            \/\/ Can happen with undocumented --ignore-source-errors option\n+            return new PreviewSummary(Collections.emptySet(), Collections.emptySet(), Collections.emptySet());\n+        }\n+        List<TypeElement> usedInDeclaration = new ArrayList<>(annotations2Classes(el));\n","filename":"src\/jdk.javadoc\/share\/classes\/jdk\/javadoc\/internal\/doclets\/toolkit\/util\/Utils.java","additions":5,"deletions":2,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 2017, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 2017, 2021, Oracle and\/or its affiliates. All rights reserved.\n@@ -26,1 +26,1 @@\n- * @bug 8175219\n+ * @bug 8175219 8268582\n@@ -76,0 +76,6 @@\n+        if (!out.contains(\"package invalid.example does not exist\")) {\n+            throw new Exception(\"expected string not found \\'package invalid.example does not exist\\'\");\n+        }\n+        if (!out.contains(\"cannot find symbol\")) {\n+            throw new Exception(\"expected string not found \\'cannot find symbol\\'\");\n+        }\n@@ -87,0 +93,6 @@\n+        if (!out.contains(\"package invalid.example does not exist\")) {\n+            throw new Exception(\"expected string not found \\'package invalid.example does not exist\\'\");\n+        }\n+        if (!out.contains(\"cannot find symbol\")) {\n+            throw new Exception(\"expected string not found \\'cannot find symbol\\'\");\n+        }\n@@ -92,1 +104,2 @@\n-            \"public static class Foo {}\"\n+            \"import invalid.example.OtherClass;\",\n+            \"public static class Foo<T> extends OtherClass<T> {}\"\n","filename":"test\/langtools\/jdk\/javadoc\/tool\/IgnoreSourceErrors.java","additions":16,"deletions":3,"binary":false,"changes":19,"status":"modified"}]}