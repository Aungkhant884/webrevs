{"files":[{"patch":"@@ -2921,1 +2921,1 @@\n-  if (ret == NULL) {\n+  if (ret == NULL && ref_handle.not_null()) {\n","filename":"src\/hotspot\/share\/prims\/jni.cpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -126,0 +126,9 @@\n+    \/\/ Verify passing a null value returns null and doesn't throw.\n+    private static void testNullValue() {\n+        System.out.println(\"running testNullValue\");\n+        registerObject(null);\n+        if (getObject() != null) {\n+            throw new RuntimeException(\"expected null\");\n+        }\n+    }\n+\n@@ -130,0 +139,1 @@\n+        testNullValue();\n","filename":"test\/hotspot\/jtreg\/runtime\/jni\/ReturnJNIWeak\/ReturnJNIWeak.java","additions":10,"deletions":0,"binary":false,"changes":10,"status":"modified"}]}