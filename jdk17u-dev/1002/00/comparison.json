{"files":[{"patch":"@@ -2,1 +2,1 @@\n- * Copyright (c) 1997, 2014, Oracle and\/or its affiliates. All rights reserved.\n+ * Copyright (c) 1997, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -457,0 +457,1 @@\n+    cmP->nBits = NULL;\n@@ -488,1 +489,0 @@\n-    cmP->nBits = NULL;\n@@ -511,1 +511,3 @@\n-    JNU_CHECK_EXCEPTION_RETURN(env, -1);\n+    if ((*env)->ExceptionCheck(env)) {\n+        goto cleanup;\n+    }\n@@ -533,1 +535,3 @@\n-            CHECK_NULL_RETURN(jcm, -1);\n+            if (jcm == NULL) {\n+                goto cleanup;\n+            }\n@@ -536,0 +540,5 @@\n+            if ((*env)->ExceptionCheck(env)) {\n+                (*env)->ExceptionClear(env);\n+                JNU_ThrowNullPointerException(env, \"Unable to find default CM\");\n+                goto cleanup;\n+            }\n@@ -540,1 +549,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -552,1 +561,1 @@\n-            return -1;\n+            goto cleanup;\n@@ -557,1 +566,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -575,1 +584,1 @@\n-                return -1;\n+                goto cleanup;\n@@ -593,0 +602,4 @@\n+\n+cleanup:\n+    free(cmP->nBits);\n+    return -1;\n","filename":"src\/java.desktop\/share\/native\/libawt\/awt\/image\/awt_parseImage.c","additions":21,"deletions":8,"binary":false,"changes":29,"status":"modified"}]}