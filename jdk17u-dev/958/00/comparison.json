{"files":[{"patch":"@@ -115,1 +115,1 @@\n-                Throwable t = getCompletionCause(ce);\n+                final Throwable t = getCompletionCause(ce);\n@@ -119,1 +119,1 @@\n-                WebSocketHandshakeException wse = (WebSocketHandshakeException) t;\n+                final WebSocketHandshakeException wse = (WebSocketHandshakeException) t;\n@@ -121,7 +121,1 @@\n-                assertNotNull(wse.getResponse().body());\n-                assertEquals(wse.getResponse().body().getClass(), String.class);\n-                String body = (String)wse.getResponse().body();\n-                String expectedBody = \"\/?&raw=abc+def\/ghi=xyz&encoded=abc%2Bdef%2Fghi%3Dxyz\";\n-                assertEquals(body, expectedBody);\n-                out.println(\"Status code is \" + wse.getResponse().statusCode());\n-                out.println(\"Response is \" + body);\n+                assertNotNull(wse.getResponse().uri());\n@@ -129,0 +123,6 @@\n+                final String rawQuery = wse.getResponse().uri().getRawQuery();\n+                final String expectedRawQuery = \"&raw=abc+def\/ghi=xyz&encoded=abc%2Bdef%2Fghi%3Dxyz\";\n+                assertEquals(rawQuery, expectedRawQuery);\n+                final String body = (String) wse.getResponse().body();\n+                final String expectedBody = \"\/?\" + expectedRawQuery;\n+                assertEquals(body, expectedBody);\n@@ -130,0 +130,1 @@\n+                out.println(\"Response is \" + wse.getResponse());\n","filename":"test\/jdk\/java\/net\/httpclient\/websocket\/HandshakeUrlEncodingTest.java","additions":10,"deletions":9,"binary":false,"changes":19,"status":"modified"}]}