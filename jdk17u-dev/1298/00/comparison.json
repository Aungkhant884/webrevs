{"files":[{"patch":"@@ -58,0 +58,1 @@\n+# Make sure to only use tools set up in BASIC_SETUP_FUNDAMENTAL_TOOLS.\n","filename":"make\/autoconf\/basic.m4","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -27,2 +27,2 @@\n-# Setup the most fundamental tools that relies on not much else to set up,\n-# but is used by much of the early bootstrap code.\n+# Setup the most fundamental tools, used for setting up build platform and\n+# path handling.\n@@ -40,1 +40,21 @@\n-  # First are all the fundamental required tools.\n+  # Required tools\n+  UTIL_REQUIRE_PROGS(ECHO, echo)\n+  UTIL_REQUIRE_PROGS(TR, tr)\n+  UTIL_REQUIRE_PROGS(UNAME, uname)\n+  UTIL_REQUIRE_PROGS(WC, wc)\n+\n+  # Required tools with some special treatment\n+  UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])\n+  UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])\n+\n+  # Tools only needed on some platforms\n+  UTIL_LOOKUP_PROGS(PATHTOOL, cygpath wslpath)\n+  UTIL_LOOKUP_PROGS(CMD, cmd.exe, $PATH:\/cygdrive\/c\/windows\/system32:\/mnt\/c\/windows\/system32:\/c\/windows\/system32)\n+])\n+\n+###############################################################################\n+# Setup further tools that should be resolved early but after setting up\n+# build platform and path handling.\n+AC_DEFUN_ONCE([BASIC_SETUP_TOOLS],\n+[\n+  # Required tools\n@@ -48,1 +68,0 @@\n-  UTIL_REQUIRE_PROGS(ECHO, echo)\n@@ -70,3 +89,0 @@\n-  UTIL_REQUIRE_PROGS(TR, tr)\n-  UTIL_REQUIRE_PROGS(UNAME, uname)\n-  UTIL_REQUIRE_PROGS(WC, wc)\n@@ -75,1 +91,1 @@\n-  # Then required tools that require some special treatment.\n+  # Required tools with some special treatment\n@@ -77,1 +93,0 @@\n-  UTIL_REQUIRE_SPECIAL(EGREP, [AC_PROG_EGREP])\n@@ -79,1 +94,0 @@\n-  UTIL_REQUIRE_SPECIAL(SED, [AC_PROG_SED])\n@@ -86,2 +100,1 @@\n-  # These are only needed on some platforms\n-  UTIL_LOOKUP_PROGS(PATHTOOL, cygpath wslpath)\n+  # Tools only needed on some platforms\n@@ -89,1 +102,0 @@\n-  UTIL_LOOKUP_PROGS(CMD, cmd.exe, $PATH:\/cygdrive\/c\/windows\/system32:\/mnt\/c\/windows\/system32:\/c\/windows\/system32)\n","filename":"make\/autoconf\/basic_tools.m4","additions":25,"deletions":13,"binary":false,"changes":38,"status":"modified"},{"patch":"@@ -89,0 +89,1 @@\n+BASIC_SETUP_TOOLS\n","filename":"make\/autoconf\/configure.ac","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -635,0 +635,1 @@\n+# Make sure to only use tools set up in BASIC_SETUP_FUNDAMENTAL_TOOLS.\n@@ -721,1 +722,1 @@\n-  # Is the target little of big endian?\n+  # Is the target little or big endian?\n","filename":"make\/autoconf\/platform.m4","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}