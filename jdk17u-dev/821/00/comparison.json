{"files":[{"patch":"@@ -63,0 +63,9 @@\n+\/\/ Total malloc invocation count\n+size_t MallocMemorySnapshot::total_count() const {\n+  size_t amount = 0;\n+  for (int index = 0; index < mt_number_of_types; index ++) {\n+    amount += _malloc[index].malloc_count();\n+  }\n+  return amount;\n+}\n+\n","filename":"src\/hotspot\/share\/services\/mallocTracker.cpp","additions":9,"deletions":0,"binary":false,"changes":9,"status":"modified"},{"patch":"@@ -156,0 +156,2 @@\n+  \/\/ Total malloc invocation count\n+  size_t total_count() const;\n","filename":"src\/hotspot\/share\/services\/mallocTracker.hpp","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -101,4 +101,6 @@\n-  size_t total_reserved_amount = _malloc_snapshot->total() +\n-    _vm_snapshot->total_reserved();\n-  size_t total_committed_amount = _malloc_snapshot->total() +\n-    _vm_snapshot->total_committed();\n+  const size_t total_malloced_bytes = _malloc_snapshot->total();\n+  const size_t total_mmap_reserved_bytes = _vm_snapshot->total_reserved();\n+  const size_t total_mmap_committed_bytes = _vm_snapshot->total_committed();\n+\n+  size_t total_reserved_amount = total_malloced_bytes + total_mmap_reserved_bytes;\n+  size_t total_committed_amount = total_malloced_bytes + total_mmap_committed_bytes;\n@@ -116,1 +118,8 @@\n-  out->print(\"\\n\");\n+  out->cr();\n+  out->print_cr(\"       malloc: \" SIZE_FORMAT \"%s #\" SIZE_FORMAT,\n+                amount_in_current_scale(total_malloced_bytes), current_scale(),\n+                _malloc_snapshot->total_count());\n+  out->print(\"       mmap:   \");\n+  print_total(total_mmap_reserved_bytes, total_mmap_committed_bytes);\n+  out->cr();\n+  out->cr();\n","filename":"src\/hotspot\/share\/services\/memReporter.cpp","additions":14,"deletions":5,"binary":false,"changes":19,"status":"modified"}]}