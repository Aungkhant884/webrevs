{"files":[{"patch":"@@ -3,1 +3,1 @@\n-# Copyright (c) 2015, 2019, Oracle and\/or its affiliates. All rights reserved.\n+# Copyright (c) 2015, 2022, Oracle and\/or its affiliates. All rights reserved.\n@@ -31,2 +31,11 @@\n-VS_VERSION=\"2017\"\n-VS_VERSION_NUM_NODOT=\"150\"\n+usage_and_exit() {\n+    echo \"Usage: createWindowsDevkit.sh <2019 | 2022>\"\n+    exit 1\n+}\n+\n+if [ ! $# = 1 ]; then\n+    usage_and_exit\n+fi\n+\n+VS_VERSION=\"$1\"\n+\n@@ -35,1 +44,0 @@\n-MSVC_DIR=\"Microsoft.VC141.CRT\"\n@@ -66,0 +74,20 @@\n+PROGRAMFILES=\"$($WINDOWS_PATH_TO_UNIX_PATH \"$PROGRAMFILES\")\"\n+\n+case $VS_VERSION in\n+    2019)\n+        MSVC_PROGRAMFILES_DIR=\"${PROGRAMFILES_X86}\"\n+        MSVC_CRT_DIR=\"Microsoft.VC142.CRT\"\n+        VS_VERSION_NUM_NODOT=\"160\"\n+        ;;\n+\n+    2022)\n+        MSVC_PROGRAMFILES_DIR=\"${PROGRAMFILES}\"\n+        MSVC_CRT_DIR=\"Microsoft.VC143.CRT\"\n+        VS_VERSION_NUM_NODOT=\"170\"\n+        ;;\n+    *)\n+        echo \"Unexpected VS version: $VS_VERSION\"\n+        usage_and_exit\n+        ;;\n+esac\n+\n@@ -72,1 +100,1 @@\n-    VS_INSTALL_DIR=\"${PROGRAMFILES_X86}\/Microsoft Visual Studio\/2017\"\n+    VS_INSTALL_DIR=\"${MSVC_PROGRAMFILES_DIR}\/Microsoft Visual Studio\/$VS_VERSION\"\n@@ -101,2 +129,3 @@\n-MSVCR_DLL=${MSVC_DIR}\/vcruntime${VS_DLL_VERSION}.dll\n-MSVCP_DLL=${MSVC_DIR}\/msvcp${VS_DLL_VERSION}.dll\n+MSVCR_DLL=${MSVC_CRT_DIR}\/vcruntime${VS_DLL_VERSION}.dll\n+VCRUNTIME_1_DLL=${MSVC_CRT_DIR}\/vcruntime${VS_DLL_VERSION}_1.dll\n+MSVCP_DLL=${MSVC_CRT_DIR}\/msvcp${VS_DLL_VERSION}.dll\n@@ -196,0 +225,1 @@\n+echo-info \"DEVKIT_VCRUNTIME_1_DLL_x86_64=\\\"\\$DEVKIT_ROOT\/VC\/redist\/x64\/$VCRUNTIME_1_DLL\\\"\"\n@@ -203,0 +233,1 @@\n+echo-info \"DEVKIT_VCRUNTIME_1_DLL_aarch64=\\\"\\$DEVKIT_ROOT\/VC\/redist\/arm64\/$VCRUNTIME_1_DLL\\\"\"\n","filename":"make\/devkit\/createWindowsDevkit.sh","additions":38,"deletions":7,"binary":false,"changes":45,"previous_filename":"make\/devkit\/createWindowsDevkit2017.sh","status":"copied"}]}