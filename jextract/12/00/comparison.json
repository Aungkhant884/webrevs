{"files":[{"patch":"@@ -29,3 +29,0 @@\n-BUILD_JEXTRACT_INTERIM_JDK_NAME := interim-jdk\n-BUILD_JEXTRACT_INTERIM_JDK_DIR := $(BUILD_DIR)\/images\/$(BUILD_JEXTRACT_INTERIM_JDK_NAME)\n-\n@@ -99,1 +96,1 @@\n-$(BUILD_JEXTRACT_INTERIM_JDK_DIR): $(BUILD_MODULES_DIR)\n+$(JEXTRACT_IMAGE_DIR): $(BUILD_MODULES_DIR)\n@@ -102,1 +99,1 @@\n-\t    --output \"$(BUILD_JEXTRACT_INTERIM_JDK_DIR)\" \\\n+\t    --output \"$(JEXTRACT_IMAGE_DIR)\" \\\n@@ -105,1 +102,3 @@\n-\t    --add-modules jdk.compiler\n+\t    --add-modules jdk.compiler \\\n+\t    --add-options \\\"--enable-native-access=org.openjdk.jextract\\\" \\\n+\t    --launcher jextract=org.openjdk.jextract\/org.openjdk.jextract.JextractTool\n@@ -108,16 +107,3 @@\n-\t$(CP) \"$(LIBCLANG_LIB_DIR)\/\"*clang.* \"$(BUILD_JEXTRACT_INTERIM_JDK_DIR)\/$(OS_LIB_DIR)\"\n-\t$(MKDIR) -p $(BUILD_JEXTRACT_INTERIM_JDK_DIR)\/conf\/jextract\n-\t$(CP) \"$(LIBCLANG_INCLUDE_DIR)\/\"*.h \"$(BUILD_JEXTRACT_INTERIM_JDK_DIR)\/conf\/jextract\/\"\n-\n-$(JEXTRACT_IMAGE_DIR): $(BUILD_JEXTRACT_INTERIM_JDK_DIR)\n-\t$(FIXPATH) $(PANAMA_JAVA_HOME)\/bin\/jpackage \\\n-\t    --name jextract \\\n-\t    --runtime-image \"$(BUILD_JEXTRACT_INTERIM_JDK_DIR)\" \\\n-\t    --module org.openjdk.jextract\/org.openjdk.jextract.JextractTool \\\n-\t    --type app-image \\\n-\t    --app-version 1.0 \\\n-\t    --dest \"$(patsubst %\/,%,$(dir $@))\" \\\n-\t    --java-options --add-modules=jdk.incubator.foreign \\\n-\t    --java-options --add-modules=org.openjdk.jextract \\\n-\t    --java-options --enable-native-access=org.openjdk.jextract \\\n-\t    $(JPACKAGE_ARGS)\n+\t$(CP) \"$(LIBCLANG_LIB_DIR)\/\"*clang.* \"$(JEXTRACT_IMAGE_DIR)\/$(OS_LIB_DIR)\"\n+\t$(MKDIR) -p $(JEXTRACT_IMAGE_DIR)\/conf\/jextract\n+\t$(CP) \"$(LIBCLANG_INCLUDE_DIR)\/\"*.h \"$(JEXTRACT_IMAGE_DIR)\/conf\/jextract\/\"\n","filename":"make\/Build.gmk","additions":8,"deletions":22,"binary":false,"changes":30,"status":"modified"},{"patch":"@@ -119,4 +119,1 @@\n-ifeq ($(PLATFORM_OS), macosx)\n-  JEXTRACT_NAME_SUFFIX := .app\n-endif\n-JEXTRACT_IMAGE_DIR := $(BUILD_DIR)\/images\/$(JEXTRACT_NAME)$(JEXTRACT_NAME_SUFFIX)\n+JEXTRACT_IMAGE_DIR := $(BUILD_DIR)\/images\/$(JEXTRACT_NAME)\n","filename":"make\/Common.gmk","additions":1,"deletions":4,"binary":false,"changes":5,"status":"modified"}]}