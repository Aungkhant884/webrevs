{"files":[{"patch":"@@ -52,0 +52,1 @@\n+import java.util.Optional;\n@@ -72,0 +73,1 @@\n+    public static final Optional<Path> PLATFORM_INCLUDE_PATH = inferPlatformIncludePath();\n@@ -400,0 +402,5 @@\n+\n+        PLATFORM_INCLUDE_PATH.ifPresent(platformPath -> {\n+            builder.addClangArg(\"-I\" + platformPath);\n+        });\n+\n@@ -527,0 +534,22 @@\n+\n+    private static Optional<Path> inferPlatformIncludePath() {\n+        String os = System.getProperty(\"os.name\");\n+        if (os.equals(\"Mac OS X\")) {\n+            try {\n+                ProcessBuilder pb = new ProcessBuilder().\n+                    command(\"\/usr\/bin\/xcrun\", \"--show-sdk-path\");\n+                Process proc = pb.start();\n+                String str = new String(proc.getInputStream().readAllBytes());\n+                Path dir = Paths.get(str.trim(), \"usr\", \"include\");\n+                if (Files.isDirectory(dir)) {\n+                    return Optional.of(dir);\n+                }\n+            } catch (IOException ioExp) {\n+                if (JextractTool.DEBUG) {\n+                    ioExp.printStackTrace(System.err);\n+                }\n+            }\n+        }\n+\n+        return Optional.empty();\n+    }\n","filename":"src\/main\/java\/org\/openjdk\/jextract\/JextractTool.java","additions":29,"deletions":0,"binary":false,"changes":29,"status":"modified"}]}