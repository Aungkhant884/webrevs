{"files":[{"patch":"@@ -44,2 +44,2 @@\n-\/\/  unused:25 hash:31 -->| unused_gap:1   age:4    biased_lock:1 lock:2 (normal object)\n-\/\/  JavaThread*:54 epoch:2 unused_gap:1   age:4    biased_lock:1 lock:2 (biased object)\n+\/\/  unused:32 hash:25 -->|  age:4    biased_lock:1 lock:2 (normal object)\n+\/\/  JavaThread*:55 epoch:2  age:4    biased_lock:1 lock:2 (biased object)\n@@ -133,2 +133,1 @@\n-  static const int hash_bits                      = max_hash_bits > 31 ? 31 : max_hash_bits;\n-  static const int unused_gap_bits                = LP64_ONLY(1) NOT_LP64(0);\n+  static const int hash_bits                      = max_hash_bits > 25 ? 25 : max_hash_bits;\n@@ -142,2 +141,1 @@\n-  static const int unused_gap_shift               = age_shift + age_bits;\n-  static const int hash_shift                     = unused_gap_shift + unused_gap_bits;\n+  static const int hash_shift                     = age_shift + age_bits;\n","filename":"src\/hotspot\/share\/oops\/markWord.hpp","additions":4,"deletions":6,"binary":false,"changes":10,"status":"modified"},{"patch":"@@ -140,1 +140,2 @@\n-  if (!obj->mark().has_no_hash()) {\n+  markWord mark = obj->mark();\n+  if (!mark.has_no_hash()) {\n@@ -142,1 +143,1 @@\n-    if (obj->mark().age() > 0) {\n+    if (mark.age() > 0) {\n@@ -146,1 +147,1 @@\n-  if (obj->mark().is_locked()) {\n+  if (mark.is_locked()) {\n@@ -149,0 +150,5 @@\n+#ifdef ASSERT\n+  if (!mark.has_displaced_mark_helper()) {\n+    assert((mark.value() & 0xffffffff00000000) == 0, \"upper 32 mark bits must be free\");\n+  }\n+#endif\n","filename":"src\/hotspot\/share\/services\/heapObjectStatistics.cpp","additions":9,"deletions":3,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -103,1 +103,1 @@\n-                       Platform.is64bit() ? 549755813632L: 4294967168L);\n+                       4294967168L);\n","filename":"test\/hotspot\/jtreg\/serviceability\/sa\/ClhsdbLongConstant.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}