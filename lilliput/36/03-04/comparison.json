{"files":[{"patch":"@@ -2385,2 +2385,4 @@\n-      __ load_klass(src, src);\n-      __ load_klass(dst, dst);\n+      __ load_klass(tmp, src);\n+      __ mov(src, tmp);\n+      __ load_klass(tmp, dst);\n+      __ mov(dst, tmp);\n@@ -2672,1 +2674,2 @@\n-      __ load_klass(recv, recv);\n+      __ load_klass(rscratch1, recv);\n+      __ mov(recv, rscratch1);\n@@ -2766,1 +2769,2 @@\n-      __ load_klass(tmp, tmp);\n+      __ load_klass(rscratch1, tmp);\n+      __ mov(tmp, rscratch1);\n@@ -2779,1 +2783,2 @@\n-          __ load_klass(tmp, tmp);\n+          __ load_klass(rscratch1, tmp);\n+          __ mov(tmp, rscratch1);\n","filename":"src\/hotspot\/cpu\/aarch64\/c1_LIRAssembler_aarch64.cpp","additions":10,"deletions":5,"binary":false,"changes":15,"status":"modified"},{"patch":"@@ -1626,1 +1626,2 @@\n-  load_klass(obj, obj);\n+  load_klass(rscratch1, obj);\n+  mov(obj, rscratch1);\n","filename":"src\/hotspot\/cpu\/aarch64\/interp_masm_aarch64.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -3698,12 +3698,1 @@\n-  \/\/ We can receive src and dst in the same register here. Let's allocate an\n-  \/\/ additional register here to preserve src across the fast-path.\n-  Register tmp = dst;\n-  if (src == dst) {\n-    if (src == r0) {\n-      tmp = r1;\n-    } else {\n-      tmp = r0;\n-    }\n-    push(RegSet::of(tmp), sp);\n-  }\n-  assert_different_registers(src, tmp);\n+  assert_different_registers(src, dst);\n@@ -3716,3 +3705,3 @@\n-  ldr(tmp, Address(src, oopDesc::mark_offset_in_bytes()));\n-  eor(tmp, tmp, markWord::unlocked_value);\n-  tst(tmp, markWord::lock_mask_in_place);\n+  ldr(dst, Address(src, oopDesc::mark_offset_in_bytes()));\n+  eor(dst, dst, markWord::unlocked_value);\n+  tst(dst, markWord::lock_mask_in_place);\n@@ -3720,0 +3709,2 @@\n+  \/\/andr(rscratch2, dst, markWord::lock_mask_in_place);\n+  \/\/cbnz(rscratch2, slow);\n@@ -3722,1 +3713,1 @@\n-  lsr(dst, tmp, markWord::klass_shift);\n+  lsr(dst, dst, markWord::klass_shift);\n@@ -3742,3 +3733,0 @@\n-  if (src == dst) {\n-    pop(RegSet::of(tmp), sp);\n-  }\n","filename":"src\/hotspot\/cpu\/aarch64\/macroAssembler_aarch64.cpp","additions":7,"deletions":19,"binary":false,"changes":26,"status":"modified"},{"patch":"@@ -3689,1 +3689,2 @@\n-  __ load_klass(r3, r3);\n+  __ load_klass(rscratch1, r3);\n+  __ mov(r3, rscratch1);\n","filename":"src\/hotspot\/cpu\/aarch64\/templateTable_aarch64.cpp","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"}]}