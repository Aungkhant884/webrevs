{"files":[{"patch":"@@ -79,4 +79,0 @@\n-  markWord old_mark = obj->mark();\n-  if (old_mark.is_marked()) {\n-    return cast_to_oop(old_mark.clear_lock_bits().to_pointer());\n-  }\n@@ -85,0 +81,1 @@\n+  markWord old_mark = obj->mark();\n@@ -86,0 +83,9 @@\n+    if (old_mark.is_marked()) {\n+      return cast_to_oop(old_mark.clear_lock_bits().to_pointer());\n+    }\n+    if (old_mark.is_being_inflated()) {\n+      \/\/ Inflating - this can only happen when concurrent evacuating thread tries to read\n+      \/\/ the header for fetching the object Klass*\/size. Retry.\n+      old_mark = obj->mark();\n+      continue;\n+    }\n","filename":"src\/hotspot\/share\/gc\/shenandoah\/shenandoahForwarding.inline.hpp","additions":10,"deletions":4,"binary":false,"changes":14,"status":"modified"}]}