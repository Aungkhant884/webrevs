{"files":[{"patch":"@@ -2626,1 +2626,1 @@\n-    addi(result, zr, 1);\n+    li(result, 1);\n@@ -2661,1 +2661,1 @@\n-  Label succ, fail, done;\n+  Label fail, done;\n@@ -2670,1 +2670,1 @@\n-  beqz(tmp, succ);\n+  bnez(tmp, fail);\n@@ -2672,2 +2672,2 @@\n-  bind(fail);\n-  addi(result, zr, 1);\n+  \/\/ Success\n+  li(result, 1);\n@@ -2676,1 +2676,2 @@\n-  bind(succ);\n+  \/\/ Fail\n+  bind(fail);\n@@ -2720,1 +2721,1 @@\n-  Label fail, done, sc_done;\n+  Label fail, done;\n@@ -2724,1 +2725,1 @@\n-  beqz(t0, sc_done);\n+  bnez(t0, fail);\n@@ -2726,2 +2727,1 @@\n-  \/\/ fail\n-  bind(fail);\n+  \/\/ Success\n@@ -2731,3 +2731,4 @@\n-  \/\/ sc_done\n-  bind(sc_done);\n-  mv(result, 0);\n+  \/\/ Fail\n+  bind(fail);\n+  mv(result, zr);\n+\n","filename":"src\/hotspot\/cpu\/riscv\/macroAssembler_riscv.cpp","additions":14,"deletions":13,"binary":false,"changes":27,"status":"modified"},{"patch":"@@ -5726,1 +5726,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapB\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapB\"\n@@ -5733,1 +5733,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5750,1 +5749,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapS\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapS\"\n@@ -5757,1 +5756,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5771,1 +5769,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapI\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapI\"\n@@ -5777,1 +5775,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5791,1 +5788,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapL\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapL\"\n@@ -5797,1 +5794,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5811,1 +5807,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapN\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapN\"\n@@ -5817,1 +5813,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5832,1 +5827,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapP\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapP\"\n@@ -5838,1 +5833,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5857,1 +5851,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapBAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapBAcq\"\n@@ -5864,1 +5858,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5883,1 +5876,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapSAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapSAcq\"\n@@ -5890,1 +5883,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5906,1 +5898,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapIAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapIAcq\"\n@@ -5912,1 +5904,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5928,1 +5919,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapLAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapLAcq\"\n@@ -5934,1 +5925,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5950,1 +5940,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapNAcq\"\n+    \"# $res == 1 when success, #@weakCompareAndSwapNAcq\"\n@@ -5956,1 +5946,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n@@ -5972,1 +5961,1 @@\n-    \"xori $res, $res, 1\\t# $res == 1 when success, #@weakCompareAndSwapPAcq\"\n+    \"\\t# $res == 1 when success, #@weakCompareAndSwapPAcq\"\n@@ -5978,1 +5967,0 @@\n-    __ xori($res$$Register, $res$$Register, 1);\n","filename":"src\/hotspot\/cpu\/riscv\/riscv.ad","additions":12,"deletions":24,"binary":false,"changes":36,"status":"modified"}]}