{"files":[{"patch":"@@ -964,1 +964,2 @@\n-            Utils.checkFileNotNull(file, \"filelist filename\", Utils.CheckOptions.FILE_EXISTS, Utils.CheckOptions.FILE_CANREAD, Utils.CheckOptions.FILE_ISFILE);\n+            Utils.checkFileNotNull(file, \"filelist filename\",\n+                    Utils.CheckOptions.FILE_EXISTS, Utils.CheckOptions.FILE_CANREAD, Utils.CheckOptions.FILE_ISFILE);\n@@ -995,1 +996,2 @@\n-            Utils.checkFileNotNull(outTestList, \"output testlist filename\", Utils.CheckOptions.FILE_CANWRITE, Utils.CheckOptions.FILE_NOTISDIR, Utils.CheckOptions.FILE_PARENTEXISTS);\n+            Utils.checkFileNotNull(outTestList, \"output testlist filename\",\n+                    Utils.CheckOptions.FILE_CANWRITE, Utils.CheckOptions.FILE_NOTISDIR, Utils.CheckOptions.FILE_PARENTEXISTS);\n@@ -1014,1 +1016,2 @@\n-        Utils.checkFileCanBeNull(template, \"template filename\", Utils.CheckOptions.FILE_EXISTS, Utils.CheckOptions.FILE_ISFILE, Utils.CheckOptions.FILE_CANREAD);\n+        Utils.checkFileCanBeNull(template, \"template filename\",\n+                Utils.CheckOptions.FILE_EXISTS, Utils.CheckOptions.FILE_ISFILE, Utils.CheckOptions.FILE_CANREAD);\n@@ -1019,1 +1022,2 @@\n-        Utils.checkFileNotNull(output, \"output filename\", Utils.CheckOptions.FILE_NOTISDIR, Utils.CheckOptions.FILE_CANWRITE, Utils.CheckOptions.FILE_PARENTEXISTS);\n+        Utils.checkFileNotNull(output, \"output filename\",\n+                Utils.CheckOptions.FILE_NOTISDIR, Utils.CheckOptions.FILE_PARENTEXISTS, Utils.CheckOptions.FILE_CANWRITE);\n","filename":"src\/classes\/com\/sun\/tdk\/jcov\/Merger.java","additions":8,"deletions":4,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -41,0 +41,1 @@\n+import java.nio.file.Files;\n@@ -1192,1 +1193,3 @@\n-                    if (!file.canWrite()) {\n+                    if ( file.isFile() ) {\n+                        \/\/ file exists\n+                        if( !file.canWrite() ) {\n@@ -1194,0 +1197,7 @@\n+                        }\n+                    } else {\n+                        \/\/ a new file\n+                        File parentDir = file.getAbsoluteFile().getParentFile();\n+                        if ( parentDir == null || !parentDir.isDirectory() || ! Files.isWritable(parentDir.toPath()) ) {\n+                            throw new EnvHandlingException(\"Incorrect \" + description + \" (\" + file.getPath() + \") - can't write\");\n+                        }\n@@ -1217,2 +1227,2 @@\n-                    File p = file.getParentFile();\n-                    if (p != null && !p.exists()) {\n+                    File parent = file.getAbsoluteFile().getParentFile();\n+                    if (parent != null && !parent.exists()) {\n","filename":"src\/classes\/com\/sun\/tdk\/jcov\/util\/Utils.java","additions":13,"deletions":3,"binary":false,"changes":16,"status":"modified"}]}