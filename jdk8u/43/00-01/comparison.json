{"files":[{"patch":"@@ -123,1 +123,1 @@\n-    \/\/ 8u does not have JDK-8186803 so leHackIBM is true for\n+    \/\/ 8u does not have JDK-8186803 so ebcdicLFHack is true for\n@@ -125,1 +125,1 @@\n-    private boolean leHackIBM = false;\n+    private boolean ebcdicLFHack = false;\n@@ -251,1 +251,1 @@\n-                    if (leHackIBM && cp == 0xA) {\n+                    if (ebcdicLFHack && cp == 0xA) {\n@@ -390,1 +390,1 @@\n-        leHackIBM = csinfo.csName.startsWith(\"IBM0114\"); \/\/ Maps LF to 0x25, JDK-8186803\n+        ebcdicLFHack = csinfo.csName.startsWith(\"IBM0114\"); \/\/ Maps LF to 0x25, JDK-8186803\n@@ -475,5 +475,0 @@\n-            if (csName.endsWith(\"_Solaris\") ||\n-                csName.endsWith(\"_MS5022X\") ||\n-                csName.endsWith(\"_MS932\")) {\n-                isInternal = true;\n-            }\n@@ -542,1 +537,6 @@\n-            CharsetInfo cs = new CharsetInfo(tokens[1], tokens[0]);\n+            \/\/ dbcs format (we ignore the fields after pkg)\n+            \/\/ clzName csName hisName dbtype pkg ascii b1min b1max b2min b2max\n+            \/\/ sbcs format\n+            \/\/ clzName csName hisName containASCII pkg\n+            CharsetInfo cs = new CharsetInfo(\/* csName *\/ tokens[1],\n+                                             \/* clzName *\/ tokens[0]);\n@@ -550,0 +550,7 @@\n+            if ((\"JIS_X_0208_Solaris\".equals(tokens[0])) ||\n+                (\"JIS_X_0208_MS5022X\".equals(tokens[0])) ||\n+                (\"JIS_X_0208_MS932\".equals(tokens[0])) ||\n+                (\"JIS_X_0212_Solaris\".equals(tokens[0])) ||\n+                (\"JIS_X_0212_MS5022X\".equals(tokens[0]))) {\n+                    cs.isInternal = true;\n+            }\n@@ -573,0 +580,1 @@\n+        Set<CharsetInfo> charsets = charsets(dir.resolve(\"dbcs\"), false);\n@@ -574,1 +582,0 @@\n-        Set<CharsetInfo> charsets = charsets(dir.resolve(\"sbcs\"), true);\n@@ -576,1 +583,1 @@\n-        charsets.addAll(charsets(dir.resolve(\"dbcs\"), false));\n+        charsets.addAll(charsets(dir.resolve(\"sbcs\"), true));\n","filename":"jdk\/test\/sun\/nio\/cs\/TestCharsetMapping.java","additions":19,"deletions":12,"binary":false,"changes":31,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n- * @modules jdk.charsets\n","filename":"jdk\/test\/sun\/nio\/cs\/TestEBCDICLineFeed.java","additions":0,"deletions":1,"binary":false,"changes":1,"status":"modified"}]}