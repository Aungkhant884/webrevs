{"files":[{"patch":"@@ -39,0 +39,1 @@\n+    public static final String DUAL_LOG_SWITCH =\"-dls\";\n","filename":"src\/org\/openjdk\/asmtools\/Main.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -123,0 +123,5 @@\n+    @Override\n+    public void setOutputs(ToolOutput.DualStreamToolOutput nw) {\n+        getLogger().setOutputs(nw);\n+    }\n+\n","filename":"src\/org\/openjdk\/asmtools\/common\/Environment.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -65,0 +65,1 @@\n+    void setOutputs(ToolOutput.DualStreamToolOutput nwoutput);\n","filename":"src\/org\/openjdk\/asmtools\/common\/ILogger.java","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"},{"patch":"@@ -104,0 +104,5 @@\n+    @Override\n+    public void setOutputs(ToolOutput.DualStreamToolOutput nwoutput) {\n+        this.outerLog = nwoutput;\n+    }\n+\n","filename":"src\/org\/openjdk\/asmtools\/common\/ToolLogger.java","additions":5,"deletions":0,"binary":false,"changes":5,"status":"modified"},{"patch":"@@ -4,1 +4,0 @@\n-import java.io.BufferedWriter;\n@@ -17,1 +16,0 @@\n-import java.util.function.Supplier;\n@@ -339,0 +337,14 @@\n+\n+    public static class SingleDualOutputStreamOutput extends DualOutputStreamOutput {\n+        public SingleDualOutputStreamOutput() {\n+            this(System.err);\n+        }\n+\n+        public SingleDualOutputStreamOutput(PrintWriter er) {\n+            super(er, er);\n+        }\n+\n+        public SingleDualOutputStreamOutput(PrintStream er) {\n+            super(er, er);\n+        }\n+    }\n","filename":"src\/org\/openjdk\/asmtools\/common\/ToolOutput.java","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"},{"patch":"@@ -30,1 +30,2 @@\n-\\   $ java -jar {0} -?|-h|-help\\n\n+\\   $ java -jar {0} -?|-h|-help\\n\\\n+\\   use -dls switch to return the ancient dual stream logging\\n\n","filename":"src\/org\/openjdk\/asmtools\/i18n.properties","additions":2,"deletions":1,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -35,1 +35,1 @@\n-        super(toolOutput, new ToolOutput.DualOutputStreamOutput());\n+        super(toolOutput, new ToolOutput.SingleDualOutputStreamOutput());\n","filename":"src\/org\/openjdk\/asmtools\/jasm\/JasmTool.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -29,1 +29,0 @@\n-import java.io.File;\n@@ -31,1 +30,0 @@\n-import java.io.PrintWriter;\n@@ -77,1 +75,1 @@\n-        Main compiler = new Main(new ToolOutput.EscapedPrintStreamOutput(System.out), new ToolOutput.DualOutputStreamOutput(), argv);\n+        Main compiler = new Main(new ToolOutput.EscapedPrintStreamOutput(System.out), new ToolOutput.SingleDualOutputStreamOutput(), argv);\n@@ -154,0 +152,3 @@\n+                    case org.openjdk.asmtools.Main.DUAL_LOG_SWITCH -> {\n+                        this.environment.setOutputs(new ToolOutput.DualOutputStreamOutput());\n+                    }\n","filename":"src\/org\/openjdk\/asmtools\/jasm\/Main.java","additions":4,"deletions":3,"binary":false,"changes":7,"status":"modified"},{"patch":"@@ -34,1 +34,1 @@\n-        super(toolOutput, new ToolOutput.DualOutputStreamOutput());\n+        super(toolOutput, new ToolOutput.SingleDualOutputStreamOutput());\n","filename":"src\/org\/openjdk\/asmtools\/jcoder\/JcoderTool.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -28,1 +28,0 @@\n-import java.io.File;\n@@ -30,1 +29,0 @@\n-import java.io.PrintWriter;\n@@ -32,1 +30,0 @@\n-import java.util.ArrayList;\n@@ -122,0 +119,1 @@\n+                    case org.openjdk.asmtools.Main.DUAL_LOG_SWITCH -> environment.setOutputs(new ToolOutput.DualOutputStreamOutput());\n","filename":"src\/org\/openjdk\/asmtools\/jcoder\/Main.java","additions":1,"deletions":3,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -39,1 +39,1 @@\n-        super(toolOutput, new ToolOutput.DualOutputStreamOutput());\n+        super(toolOutput, new ToolOutput.SingleDualOutputStreamOutput());\n","filename":"src\/org\/openjdk\/asmtools\/jdec\/JdecTool.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -27,1 +27,0 @@\n-import org.openjdk.asmtools.common.uEscWriter;\n@@ -50,1 +49,1 @@\n-        this(toolOutput, new ToolOutput.DualOutputStreamOutput(), argv);\n+        this(toolOutput, new ToolOutput.SingleDualOutputStreamOutput(), argv);\n@@ -109,0 +108,3 @@\n+                case org.openjdk.asmtools.Main.DUAL_LOG_SWITCH:\n+                    this.environment.setOutputs(new ToolOutput.DualOutputStreamOutput());\n+                    break;\n","filename":"src\/org\/openjdk\/asmtools\/jdec\/Main.java","additions":4,"deletions":2,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -36,1 +36,1 @@\n-        super(toolOutput, new ToolOutput.DualOutputStreamOutput());\n+        super(toolOutput, new ToolOutput.SingleDualOutputStreamOutput());\n","filename":"src\/org\/openjdk\/asmtools\/jdis\/JdisTool.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -144,0 +144,3 @@\n+                case org.openjdk.asmtools.Main.DUAL_LOG_SWITCH:\n+                    this.environment.setOutputs(new ToolOutput.DualOutputStreamOutput());\n+                    break;\n","filename":"src\/org\/openjdk\/asmtools\/jdis\/Main.java","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -50,1 +50,1 @@\n-        return new ToolOutput.DualOutputStreamOutput(getLoggerOutput(), getErrorOutput());\n+        return new ToolOutput.SingleDualOutputStreamOutput(getErrorOutput());\n","filename":"test\/java\/org\/openjdk\/asmtools\/ThreeStringWriters.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -109,1 +109,1 @@\n-        org.openjdk.asmtools.jasm.Main jasmTool = new org.openjdk.asmtools.jasm.Main(new ToolOutput.EscapedPrintStreamOutput(System.out), new ToolOutput.DualOutputStreamOutput(), sourceWithoutSuper.getAbsolutePath(), \"-d\", dir.getAbsolutePath());\n+        org.openjdk.asmtools.jasm.Main jasmTool = new org.openjdk.asmtools.jasm.Main(new ToolOutput.EscapedPrintStreamOutput(System.out), new ToolOutput.SingleDualOutputStreamOutput(), sourceWithoutSuper.getAbsolutePath(), \"-d\", dir.getAbsolutePath());\n","filename":"test\/java\/org\/openjdk\/asmtools\/jdis\/MainTest.java","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"}]}