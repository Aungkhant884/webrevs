{"files":[{"patch":"@@ -3443,1 +3443,2 @@\n-  predicate(UseAVX > 2 && Matcher::vector_length(n) == Matcher::vector_length(n->in(1))); \/\/ dst == src\n+  predicate(n->bottom_type()->isa_vectmask() &&\n+            Matcher::vector_length(n) == Matcher::vector_length(n->in(1))); \/\/ dst == src\n@@ -3455,0 +3456,1 @@\n+            n->bottom_type()->isa_vectmask() &&\n@@ -3473,0 +3475,1 @@\n+            n->bottom_type()->isa_vectmask() &&\n@@ -3492,0 +3495,1 @@\n+            n->bottom_type()->isa_vectmask() &&\n@@ -3510,1 +3514,2 @@\n-  predicate(Matcher::vector_length_in_bytes(n) == Matcher::vector_length_in_bytes(n->in(1))); \/\/ dst == src\n+  predicate(!n->bottom_type()->isa_vectmask() &&\n+            Matcher::vector_length_in_bytes(n) == Matcher::vector_length_in_bytes(n->in(1))); \/\/ dst == src\n@@ -3545,0 +3550,1 @@\n+            !n->bottom_type()->isa_vectmask() &&\n@@ -3560,0 +3566,1 @@\n+            !n->bottom_type()->isa_vectmask() &&\n@@ -3577,1 +3584,2 @@\n-  predicate(Matcher::vector_length_in_bytes(n->in(1)) > Matcher::vector_length_in_bytes(n)); \/\/ src > dst\n+  predicate(!n->bottom_type()->isa_vectmask() &&\n+            Matcher::vector_length_in_bytes(n->in(1)) > Matcher::vector_length_in_bytes(n)); \/\/ src > dst\n@@ -3833,1 +3841,1 @@\n-    \/\/ Note: Since gather instruction partially updates the opmask register used \n+    \/\/ Note: Since gather instruction partially updates the opmask register used\n@@ -3875,1 +3883,1 @@\n-    \/\/ Note: Since scatter instruction partially updates the opmask register used \n+    \/\/ Note: Since scatter instruction partially updates the opmask register used\n@@ -7255,1 +7263,1 @@\n-            (VM_Version::supports_avx512vl() ||\n+            (!VM_Version::supports_avx512vl() &&\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -1445,0 +1445,1 @@\n+     assert(!dst_vt->isa_vectmask() && !src_vt->isa_vectmask(), \"\");\n@@ -1453,0 +1454,2 @@\n+     assert(dst_vt->isa_vectmask() && src_vt->isa_vectmask() || type2aelembytes(src_bt) >= type2aelembytes(dst_bt),\n+            \"unsupported mask widening reinterpretation\");\n","filename":"src\/hotspot\/share\/opto\/vectornode.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"}]}