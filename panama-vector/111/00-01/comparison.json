{"files":[{"patch":"@@ -95,12 +95,0 @@\n-  static inline uint vector_length_in_bytes(const MachNode* n) {\n-    const TypeVect* vt = n->bottom_type()->is_vect();\n-    return vt->length_in_bytes();\n-  }\n-\n-  static inline uint vector_length_in_bytes(const MachNode* use, MachOper* opnd) {\n-    uint def_idx = use->operand_index(opnd);\n-    Node* def = use->in(def_idx);\n-    const TypeVect* vt = def->bottom_type()->is_vect();\n-    return vt->length_in_bytes();\n-  }\n-\n@@ -193,2 +181,1 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -198,5 +185,0 @@\n-=======\n-    loadStoreA_predicate(C2_MacroAssembler(&cbuf), false, dst_reg, ptrue,\n-                         Matcher::vector_element_basic_type(this), $mem->opcode(),\n-                         as_Register($mem$$base), $mem$$index, $mem$$scale, $mem$$disp);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n@@ -215,1 +197,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -324,2 +306,3 @@\n-    BasicType bt = vector_element_basic_type(this);\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt), vector_length(this));\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt),\n+                          Matcher::vector_length(this));\n@@ -343,2 +326,3 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt), vector_length(this, $src));\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt),\n+                          Matcher::vector_length(this, $src));\n@@ -346,1 +330,0 @@\n-<<<<<<< HEAD\n@@ -376,2 +359,2 @@\n-    uint length_in_bytes_src = vector_length_in_bytes(this, $src);\n-    uint length_in_bytes_dst = vector_length_in_bytes(this);\n+    uint length_in_bytes_src = Matcher::vector_length_in_bytes(this, $src);\n+    uint length_in_bytes_dst = Matcher::vector_length_in_bytes(this);\n@@ -386,5 +369,0 @@\n-=======\n-    loadStoreA_predicate(C2_MacroAssembler(&cbuf), true, src_reg, ptrue,\n-                         Matcher::vector_element_basic_type(this, $src), $mem->opcode(),\n-                         as_Register($mem$$base), $mem$$index, $mem$$scale, $mem$$disp);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n@@ -694,4 +672,0 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n-    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n-=======\n@@ -699,2 +673,1 @@\n-    Assembler::SIMD_RegVariant size = elemType_to_regVariant(bt);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n+    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n@@ -719,4 +692,0 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n-    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n-=======\n@@ -724,2 +693,1 @@\n-    Assembler::SIMD_RegVariant size = elemType_to_regVariant(bt);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n+    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n@@ -1099,1 +1067,1 @@\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -1119,1 +1087,1 @@\n-      __ elemType_to_regVariant(vector_element_basic_type(this));\n+      __ elemType_to_regVariant(Matcher::vector_element_basic_type(this));\n@@ -1139,1 +1107,1 @@\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -1302,1 +1270,1 @@\n-    BasicType to_vect_bt = vector_element_basic_type(this);\n+    BasicType to_vect_bt = Matcher::vector_element_basic_type(this);\n@@ -1321,1 +1289,1 @@\n-    BasicType to_vect_bt = vector_element_basic_type(this);\n+    BasicType to_vect_bt = Matcher::vector_element_basic_type(this);\n@@ -1340,1 +1308,1 @@\n-    BasicType from_vect_bt = vector_element_basic_type(this, $src);\n+    BasicType from_vect_bt = Matcher::vector_element_basic_type(this, $src);\n@@ -1361,1 +1329,1 @@\n-    BasicType from_vect_bt = vector_element_basic_type(this, $src);\n+    BasicType from_vect_bt = Matcher::vector_element_basic_type(this, $src);\n@@ -1382,1 +1350,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1406,1 +1374,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1408,1 +1376,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1446,1 +1415,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1475,1 +1445,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S,\n+                          Matcher::vector_length(this, $src2));\n@@ -1501,1 +1472,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1518,1 +1490,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1543,1 +1515,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1545,1 +1517,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1585,1 +1558,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1604,1 +1578,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1629,1 +1603,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1631,1 +1605,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1671,1 +1646,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1690,1 +1666,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1715,1 +1691,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1717,1 +1693,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1757,1 +1734,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1779,1 +1757,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1800,1 +1778,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1802,1 +1780,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1837,1 +1816,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1872,1 +1852,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S,\n+                          Matcher::vector_length(this, $src2));\n@@ -1905,1 +1886,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1925,1 +1907,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1946,1 +1928,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1948,1 +1930,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1983,1 +1966,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -2018,1 +2002,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ S,\n+                          Matcher::vector_length(this, $src2));\n@@ -2051,1 +2036,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -3326,1 +3312,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -3346,1 +3332,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -3365,1 +3351,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -3367,1 +3353,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size, vector_length(this, $src1));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size,\n+                          Matcher::vector_length(this, $src1));\n@@ -3385,1 +3372,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -3387,1 +3374,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size, vector_length(this, $src1));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size,\n+                          Matcher::vector_length(this, $src1));\n@@ -3411,1 +3399,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -3458,1 +3446,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -3611,1 +3599,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -3630,1 +3618,2 @@\n-    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), ptrue,\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3646,1 +3635,2 @@\n-    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), ptrue,\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3664,2 +3654,4 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S, vector_length(this));\n-    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S,\n+                          Matcher::vector_length(this));\n+    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg),\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3682,1 +3674,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D, vector_length(this));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D,\n+                          Matcher::vector_length(this));\n@@ -3684,1 +3677,2 @@\n-    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg),\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3700,1 +3694,2 @@\n-    __ sve_st1w_scatter(as_FloatRegister($src$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1w_scatter(as_FloatRegister($src$$reg), ptrue,\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3716,1 +3711,2 @@\n-    __ sve_st1d_scatter(as_FloatRegister($src$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1d_scatter(as_FloatRegister($src$$reg), ptrue,\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3734,2 +3730,4 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S, vector_length(this, $src));\n-    __ sve_st1w_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S,\n+                          Matcher::vector_length(this, $src));\n+    __ sve_st1w_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg),\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3752,1 +3750,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src));\n@@ -3754,1 +3753,2 @@\n-    __ sve_st1d_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1d_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg),\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -3865,1 +3865,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ B, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ B,\n+                          Matcher::vector_length(this, $src));\n@@ -3880,1 +3881,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pgtmp$$reg), __ B, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($pgtmp$$reg), __ B,\n+                          Matcher::vector_length(this, $src));\n@@ -3895,1 +3897,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ B, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ B,\n+                          Matcher::vector_length(this, $src));\n@@ -3916,1 +3919,1 @@\n-                           ptrue, as_PRegister($ptmp$$reg), vector_length(this, $src));\n+                           ptrue, as_PRegister($ptmp$$reg), Matcher::vector_length(this, $src));\n@@ -3933,1 +3936,1 @@\n-                           ptrue, as_PRegister($ptmp$$reg), vector_length(this, $src));\n+                           ptrue, as_PRegister($ptmp$$reg), Matcher::vector_length(this, $src));\n@@ -3950,1 +3953,1 @@\n-                           ptrue, as_PRegister($ptmp$$reg), vector_length(this, $src));\n+                           ptrue, as_PRegister($ptmp$$reg), Matcher::vector_length(this, $src));\n@@ -3966,1 +3969,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src));\n@@ -3984,1 +3988,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pgtmp$$reg), variant, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($pgtmp$$reg), variant,\n+                          Matcher::vector_length(this, $src));\n@@ -4002,1 +4007,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src));\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_sve.ad","additions":117,"deletions":111,"binary":false,"changes":228,"status":"modified"},{"patch":"@@ -90,12 +90,0 @@\n-  static inline uint vector_length_in_bytes(const MachNode* n) {\n-    const TypeVect* vt = n->bottom_type()->is_vect();\n-    return vt->length_in_bytes();\n-  }\n-\n-  static inline uint vector_length_in_bytes(const MachNode* use, MachOper* opnd) {\n-    uint def_idx = use->operand_index(opnd);\n-    Node* def = use->in(def_idx);\n-    const TypeVect* vt = def->bottom_type()->is_vect();\n-    return vt->length_in_bytes();\n-  }\n-\n@@ -196,2 +184,1 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -201,5 +188,0 @@\n-=======\n-    loadStoreA_predicate(C2_MacroAssembler(&cbuf), false, dst_reg, ptrue,\n-                         Matcher::vector_element_basic_type(this), $mem->opcode(),\n-                         as_Register($mem$$base), $mem$$index, $mem$$scale, $mem$$disp);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n@@ -218,1 +200,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -261,2 +243,3 @@\n-    BasicType bt = vector_element_basic_type(this);\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt), vector_length(this));\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt),\n+                          Matcher::vector_length(this));\n@@ -280,2 +263,3 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt), vector_length(this, $src));\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ elemType_to_regVariant(bt),\n+                          Matcher::vector_length(this, $src));\n@@ -283,1 +267,0 @@\n-<<<<<<< HEAD\n@@ -287,5 +270,0 @@\n-=======\n-    loadStoreA_predicate(C2_MacroAssembler(&cbuf), true, src_reg, ptrue,\n-                         Matcher::vector_element_basic_type(this, $src), $mem->opcode(),\n-                         as_Register($mem$$base), $mem$$index, $mem$$scale, $mem$$disp);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n@@ -319,2 +297,2 @@\n-    uint length_in_bytes_src = vector_length_in_bytes(this, $src);\n-    uint length_in_bytes_dst = vector_length_in_bytes(this);\n+    uint length_in_bytes_src = Matcher::vector_length_in_bytes(this, $src);\n+    uint length_in_bytes_dst = Matcher::vector_length_in_bytes(this);\n@@ -485,4 +463,0 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n-    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n-=======\n@@ -490,2 +464,1 @@\n-    Assembler::SIMD_RegVariant size = elemType_to_regVariant(bt);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n+    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n@@ -510,4 +483,0 @@\n-<<<<<<< HEAD\n-    BasicType bt = vector_element_basic_type(this);\n-    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n-=======\n@@ -515,2 +484,1 @@\n-    Assembler::SIMD_RegVariant size = elemType_to_regVariant(bt);\n->>>>>>> 82688258f676e6be8a603f6ab744d52728e3478b\n+    Assembler::SIMD_RegVariant size = __ elemType_to_regVariant(bt);\n@@ -731,1 +699,1 @@\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -751,1 +719,1 @@\n-      __ elemType_to_regVariant(vector_element_basic_type(this));\n+      __ elemType_to_regVariant(Matcher::vector_element_basic_type(this));\n@@ -771,1 +739,1 @@\n-    BasicType bt = vector_element_basic_type(this);\n+    BasicType bt = Matcher::vector_element_basic_type(this);\n@@ -936,1 +904,1 @@\n-    BasicType to_vect_bt = vector_element_basic_type(this);\n+    BasicType to_vect_bt = Matcher::vector_element_basic_type(this);\n@@ -961,1 +929,1 @@\n-    BasicType from_vect_bt = vector_element_basic_type(this, $src);\n+    BasicType from_vect_bt = Matcher::vector_element_basic_type(this, $src);\n@@ -989,1 +957,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1013,1 +981,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1015,1 +983,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1053,1 +1022,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1089,1 +1059,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ $4, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ $4,\n+                          Matcher::vector_length(this, $src2));\n@@ -1111,1 +1082,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1136,1 +1107,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1138,1 +1109,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1178,1 +1150,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1197,1 +1170,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1222,1 +1195,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1224,1 +1197,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1264,1 +1238,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1283,1 +1258,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1308,1 +1283,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1310,1 +1285,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1350,1 +1326,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1373,1 +1350,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1416,1 +1393,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src2);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src2);\n@@ -1418,1 +1395,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), variant,\n+                          Matcher::vector_length(this, $src2));\n@@ -1440,1 +1418,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src2));\n@@ -1482,1 +1461,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ $4, vector_length(this, $src2));\n+    __ sve_whilelo_zr_imm(as_PRegister($ptmp$$reg), __ $4,\n+                          Matcher::vector_length(this, $src2));\n@@ -2096,1 +2076,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -2122,1 +2102,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src1);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src1);\n@@ -2124,1 +2104,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size, vector_length(this, $src1));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), size,\n+                          Matcher::vector_length(this, $src1));\n@@ -2151,1 +2132,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -2198,1 +2179,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -2335,1 +2316,1 @@\n-    BasicType bt = vector_element_basic_type(this, $src);\n+    BasicType bt = Matcher::vector_element_basic_type(this, $src);\n@@ -2354,1 +2335,2 @@\n-    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), ptrue,\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2370,1 +2352,2 @@\n-    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), ptrue,\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2388,2 +2371,4 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S, vector_length(this));\n-    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S,\n+                          Matcher::vector_length(this));\n+    __ sve_ld1w_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg),\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2406,1 +2391,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D, vector_length(this));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D,\n+                          Matcher::vector_length(this));\n@@ -2408,1 +2394,2 @@\n-    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_ld1d_gather(as_FloatRegister($dst$$reg), as_PRegister($pTmp$$reg),\n+                       as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2424,1 +2411,2 @@\n-    __ sve_st1w_scatter(as_FloatRegister($src$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1w_scatter(as_FloatRegister($src$$reg), ptrue,\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2440,1 +2428,2 @@\n-    __ sve_st1d_scatter(as_FloatRegister($src$$reg), ptrue, as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1d_scatter(as_FloatRegister($src$$reg), ptrue,\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2458,2 +2447,4 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S, vector_length(this, $src));\n-    __ sve_st1w_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ S,\n+                          Matcher::vector_length(this, $src));\n+    __ sve_st1w_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg),\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2476,1 +2467,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister($pTmp$$reg), __ D,\n+                          Matcher::vector_length(this, $src));\n@@ -2478,1 +2470,2 @@\n-    __ sve_st1d_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg), as_Register($mem$$base), as_FloatRegister($idx$$reg));\n+    __ sve_st1d_scatter(as_FloatRegister($src$$reg), as_PRegister($pTmp$$reg),\n+                        as_Register($mem$$base), as_FloatRegister($idx$$reg));\n@@ -2557,1 +2550,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister(ifelse($1, `firsttrue', `$pgtmp', `$ptmp')$$reg), __ B, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister(ifelse($1, `firsttrue', `$pgtmp', `$ptmp')$$reg), __ B,\n+                          Matcher::vector_length(this, $src));\n@@ -2584,1 +2578,1 @@\n-                           ptrue, as_PRegister($ptmp$$reg), vector_length(this, $src));\n+                           ptrue, as_PRegister($ptmp$$reg), Matcher::vector_length(this, $src));\n@@ -2608,1 +2602,2 @@\n-    __ sve_whilelo_zr_imm(as_PRegister(ifelse($1, `firsttrue', `$pgtmp', `$ptmp')$$reg), variant, vector_length(this, $src));\n+    __ sve_whilelo_zr_imm(as_PRegister(ifelse($1, `firsttrue', `$pgtmp', `$ptmp')$$reg), variant,\n+                          Matcher::vector_length(this, $src));\n","filename":"src\/hotspot\/cpu\/aarch64\/aarch64_sve_ad.m4","additions":87,"deletions":92,"binary":false,"changes":179,"status":"modified"}]}