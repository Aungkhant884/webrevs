{"files":[{"patch":"@@ -812,2 +812,8 @@\n-   do_signature(vector_unary_op_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;Ljava\/lang\/Object;\"              \\\n-                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$UnaryOperation;)Ljava\/lang\/Object;\")                              \\\n+   do_signature(vector_unary_op_sig, \"(I\"                                                                                                      \\\n+                                      \"Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"Ljava\/lang\/Class;Ljava\/lang\/Class;\"                                                                     \\\n+                                      \"I\"                                                                                                      \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                          \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                      \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$UnaryOperation;)\"                                                 \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                         \\\n@@ -817,2 +823,10 @@\n-   do_signature(vector_binary_op_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;Ljava\/lang\/Object;\"             \\\n-                                       \"Ljava\/lang\/Object;Ljdk\/internal\/vm\/vector\/VectorSupport$BinaryOperation;)Ljava\/lang\/Object;\")          \\\n+   do_signature(vector_binary_op_sig, \"(I\"                                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"I\"                                                                                                     \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\"                                                  \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\"                                                  \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                     \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$BinaryOperation;)\"                                               \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\")                                                 \\\n@@ -822,2 +836,11 @@\n-   do_signature(vector_ternary_op_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;Ljava\/lang\/Object;Ljava\/lang\/Object;\" \\\n-                                        \"Ljava\/lang\/Object;Ljdk\/internal\/vm\/vector\/VectorSupport$TernaryOperation;)Ljava\/lang\/Object;\")        \\\n+   do_signature(vector_ternary_op_sig, \"(I\"                                                                                                    \\\n+                                        \"Ljava\/lang\/Class;\"                                                                                    \\\n+                                        \"Ljava\/lang\/Class;\"                                                                                    \\\n+                                        \"Ljava\/lang\/Class;\"                                                                                    \\\n+                                        \"I\"                                                                                                    \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                        \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                        \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                        \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                    \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$TernaryOperation;)\"                                             \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                       \\\n@@ -827,2 +850,7 @@\n-   do_signature(vector_broadcast_coerced_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;IJLjdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"      \\\n-                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$BroadcastOperation;)Ljava\/lang\/Object;\")                 \\\n+   do_signature(vector_broadcast_coerced_sig, \"(Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"I\"                                                                                             \\\n+                                               \"J\"                                                                                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                                          \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$BroadcastOperation;)\"                                    \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\")                                         \\\n@@ -832,2 +860,6 @@\n-   do_signature(vector_shuffle_step_iota_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"        \\\n-                                               \"IIIILjdk\/internal\/vm\/vector\/VectorSupport$ShuffleIotaOperation;)Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\") \\\n+   do_signature(vector_shuffle_step_iota_sig, \"(Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                                          \\\n+                                               \"IIII\"                                                                                          \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$ShuffleIotaOperation;)\"                                  \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\")                                         \\\n@@ -837,2 +869,6 @@\n-   do_signature(vector_shuffle_to_vector_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\" \\\n-                                               \"ILjdk\/internal\/vm\/vector\/VectorSupport$ShuffleToVectorOperation;)Ljava\/lang\/Object;\")          \\\n+   do_signature(vector_shuffle_to_vector_sig, \"(Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\"                                          \\\n+                                               \"ILjdk\/internal\/vm\/vector\/VectorSupport$ShuffleToVectorOperation;)\"                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                \\\n@@ -842,2 +878,10 @@\n-   do_signature(vector_load_op_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;JLjava\/lang\/Object;\"                                \\\n-                                     \"ILjdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;Ljdk\/internal\/vm\/vector\/VectorSupport$LoadOperation;)Ljava\/lang\/Object;\") \\\n+   do_signature(vector_load_op_sig, \"(Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Object;\"                                                                                      \\\n+                                     \"J\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Object;\"                                                                                      \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                                                    \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$LoadOperation;)\"                                                   \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\")                                                   \\\n@@ -847,3 +891,12 @@\n-   do_signature(vector_load_masked_op_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;JLjdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\" \\\n-                                            \"Ljava\/lang\/Object;ILjdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                          \\\n-                                            \"Ljdk\/internal\/vm\/vector\/VectorSupport$LoadVectorMaskedOperation;)Ljava\/lang\/Object;\")             \\\n+   do_signature(vector_load_masked_op_sig, \"(Ljava\/lang\/Class;\"                                                                                \\\n+                                            \"Ljava\/lang\/Class;\"                                                                                \\\n+                                            \"Ljava\/lang\/Class;\"                                                                                \\\n+                                            \"I\"                                                                                                \\\n+                                            \"Ljava\/lang\/Object;\"                                                                               \\\n+                                            \"J\"                                                                                                \\\n+                                            \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                \\\n+                                            \"Ljava\/lang\/Object;\"                                                                               \\\n+                                            \"I\"                                                                                                \\\n+                                            \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorSpecies;\"                                             \\\n+                                            \"Ljdk\/internal\/vm\/vector\/VectorSupport$LoadVectorMaskedOperation;)\"                                \\\n+                                            \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                   \\\n@@ -853,2 +906,8 @@\n-   do_signature(vector_store_op_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;JLjdk\/internal\/vm\/vector\/VectorSupport$Vector;\"    \\\n-                                      \"Ljava\/lang\/Object;ILjdk\/internal\/vm\/vector\/VectorSupport$StoreVectorOperation;)V\")                      \\\n+   do_signature(vector_store_op_sig, \"(Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"I\"                                                                                                      \\\n+                                      \"Ljava\/lang\/Object;\"                                                                                     \\\n+                                      \"J\"                                                                                                      \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                          \\\n+                                      \"Ljava\/lang\/Object;ILjdk\/internal\/vm\/vector\/VectorSupport$StoreVectorOperation;)\"                        \\\n+                                      \"V\")                                                                                                     \\\n@@ -858,3 +917,12 @@\n-   do_signature(vector_store_masked_op_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;JLjdk\/internal\/vm\/vector\/VectorSupport$Vector;\"  \\\n-                                             \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;Ljava\/lang\/Object;I\"                            \\\n-                                             \"Ljdk\/internal\/vm\/vector\/VectorSupport$StoreVectorMaskedOperation;)V\")                            \\\n+   do_signature(vector_store_masked_op_sig, \"(Ljava\/lang\/Class;\"                                                                               \\\n+                                             \"Ljava\/lang\/Class;\"                                                                               \\\n+                                             \"Ljava\/lang\/Class;\"                                                                               \\\n+                                             \"I\"                                                                                               \\\n+                                             \"Ljava\/lang\/Object;\"                                                                              \\\n+                                             \"J\"                                                                                               \\\n+                                             \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                   \\\n+                                             \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                               \\\n+                                             \"Ljava\/lang\/Object;\"                                                                              \\\n+                                             \"I\"                                                                                               \\\n+                                             \"Ljdk\/internal\/vm\/vector\/VectorSupport$StoreVectorMaskedOperation;)\"                              \\\n+                                             \"V\")                                                                                              \\\n@@ -864,2 +932,9 @@\n-   do_signature(vector_reduction_coerced_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;Ljava\/lang\/Object;\"     \\\n-                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$ReductionOperation;)J\")                                  \\\n+   do_signature(vector_reduction_coerced_sig, \"(I\"                                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"Ljava\/lang\/Class;\"                                                                             \\\n+                                               \"I\"                                                                                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                 \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                             \\\n+                                               \"Ljdk\/internal\/vm\/vector\/VectorSupport$ReductionOperation;)\"                                    \\\n+                                               \"J\")                                                                                            \\\n@@ -869,1 +944,8 @@\n-   do_signature(vector_test_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;Ljava\/lang\/Object;Ljava\/util\/function\/BiFunction;)Z\") \\\n+   do_signature(vector_test_sig, \"(I\"                                                                                                          \\\n+                                  \"Ljava\/lang\/Class;\"                                                                                          \\\n+                                  \"Ljava\/lang\/Class;\"                                                                                          \\\n+                                  \"I\"                                                                                                          \\\n+                                  \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                          \\\n+                                  \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                          \\\n+                                  \"Ljava\/util\/function\/BiFunction;)\"                                                                           \\\n+                                  \"Z\")                                                                                                         \\\n@@ -873,3 +955,9 @@\n-   do_signature(vector_blend_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                                      \\\n-                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\" \\\n-                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorBlendOp;)Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")       \\\n+   do_signature(vector_blend_sig, \"(Ljava\/lang\/Class;\"                                                                                         \\\n+                                   \"Ljava\/lang\/Class;\"                                                                                         \\\n+                                   \"Ljava\/lang\/Class;\"                                                                                         \\\n+                                   \"I\"                                                                                                         \\\n+                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                             \\\n+                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                             \\\n+                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                         \\\n+                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorBlendOp;)\"                                                     \\\n+                                   \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                            \\\n@@ -879,2 +967,6 @@\n-   do_signature(vector_compare_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                                   \\\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\" \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"           \\\n+   do_signature(vector_compare_sig, \"(I\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;Ljava\/lang\/Class;\"                                                                      \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                           \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                           \\\n@@ -882,1 +974,2 @@\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorCompareOp;\" \")\" \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\") \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorCompareOp;)\"                                                 \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\")                                                      \\\n@@ -886,2 +979,7 @@\n-   do_signature(vector_rearrange_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                 \\\n-                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\"     \\\n+   do_signature(vector_rearrange_sig, \"(Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"Ljava\/lang\/Class;\"                                                                                     \\\n+                                       \"I\"                                                                                                     \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                         \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorShuffle;\"                                                  \\\n@@ -889,1 +987,2 @@\n-                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorRearrangeOp;)Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\") \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorRearrangeOp;)\"                                             \\\n+                                       \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                        \\\n@@ -893,3 +992,7 @@\n-   do_signature(vector_extract_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                                                     \\\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;I\"                                                          \\\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VecExtractOp;)J\")                                                  \\\n+   do_signature(vector_extract_sig, \"(Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                           \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VecExtractOp;)\"                                                    \\\n+                                     \"J\")                                                                                                      \\\n@@ -899,3 +1002,7 @@\n-   do_signature(vector_insert_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                                                      \\\n-                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;IJ\"                                                          \\\n-                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$VecInsertOp;)Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")        \\\n+   do_signature(vector_insert_sig, \"(Ljava\/lang\/Class;\"                                                                                        \\\n+                                    \"Ljava\/lang\/Class;\"                                                                                        \\\n+                                    \"I\"                                                                                                        \\\n+                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                            \\\n+                                    \"IJ\"                                                                                                       \\\n+                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$VecInsertOp;)\"                                                      \\\n+                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                           \\\n@@ -905,3 +1012,10 @@\n-   do_signature(vector_broadcast_int_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                             \\\n-                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;ILjava\/lang\/Object;\"                                  \\\n-                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorBroadcastIntOp;)Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\") \\\n+   do_signature(vector_broadcast_int_sig, \"(I\"                                                                                                 \\\n+                                           \"Ljava\/lang\/Class;\"                                                                                 \\\n+                                           \"Ljava\/lang\/Class;\"                                                                                 \\\n+                                           \"Ljava\/lang\/Class;\"                                                                                 \\\n+                                           \"I\"                                                                                                 \\\n+                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                     \\\n+                                           \"I\"                                                                                                 \\\n+                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                 \\\n+                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorBroadcastIntOp;)\"                                      \\\n+                                           \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\")                                                    \\\n@@ -911,2 +1025,7 @@\n-   do_signature(vector_convert_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;I\"                                                                    \\\n-                                     \"Ljava\/lang\/Class;Ljava\/lang\/Class;I\"                                                                     \\\n+   do_signature(vector_convert_sig, \"(I\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"I\"                                                                                                       \\\n@@ -915,1 +1034,2 @@\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorConvertOp;)Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\") \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorConvertOp;)\"                                                 \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\")                                                   \\\n@@ -919,2 +1039,7 @@\n-    do_signature(vector_gather_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Class;\"                                   \\\n-                                     \"Ljava\/lang\/Object;J\"                                                                                     \\\n+    do_signature(vector_gather_sig, \"(Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"I\"                                                                                                       \\\n+                                     \"Ljava\/lang\/Class;\"                                                                                       \\\n+                                     \"Ljava\/lang\/Object;\"                                                                                      \\\n+                                     \"J\"                                                                                                       \\\n@@ -922,1 +1047,3 @@\n-                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;Ljava\/lang\/Object;I[II\"                                 \\\n+                                     \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                       \\\n+                                     \"Ljava\/lang\/Object;\"                                                                                      \\\n+                                     \"I[II\"                                                                                                    \\\n@@ -929,5 +1056,13 @@\n-    do_signature(vector_scatter_sig, \"(Ljava\/lang\/Class;Ljava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Class;\"                                  \\\n-                                      \"Ljava\/lang\/Object;J\"                                                                                    \\\n-                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"             \\\n-                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;Ljava\/lang\/Object;I[II\"                                \\\n-                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$StoreVectorOperationWithMap;)V\")                                  \\\n+    do_signature(vector_scatter_sig, \"(Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"I\"                                                                                                      \\\n+                                      \"Ljava\/lang\/Class;\"                                                                                      \\\n+                                      \"Ljava\/lang\/Object;\"                                                                                     \\\n+                                      \"J\"                                                                                                      \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                          \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$Vector;\"                                                          \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;Ljava\/lang\/Object;\"                                    \\\n+                                      \"I[II\"                                                                                                   \\\n+                                      \"Ljdk\/internal\/vm\/vector\/VectorSupport$StoreVectorOperationWithMap;)\"                                    \\\n+                                      \"V\")                                                                                                     \\\n@@ -937,1 +1072,2 @@\n-   do_alias(vector_rebox_sig, object_object_signature)                                                                                         \\\n+    do_signature(vector_rebox_sig, \"(Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;)\"                                                    \\\n+                                    \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorPayload;\")                                                    \\\n@@ -941,2 +1077,7 @@\n-    do_signature(vector_mask_oper_sig, \"(ILjava\/lang\/Class;Ljava\/lang\/Class;ILjava\/lang\/Object;\"                                               \\\n-                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMaskOp;)I\")                                               \\\n+    do_signature(vector_mask_oper_sig, \"(I\"                                                                                                    \\\n+                                        \"Ljava\/lang\/Class;\"                                                                                    \\\n+                                        \"Ljava\/lang\/Class;\"                                                                                    \\\n+                                        \"I\"                                                                                                    \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMask;\"                                                    \\\n+                                        \"Ljdk\/internal\/vm\/vector\/VectorSupport$VectorMaskOp;)\"                                                 \\\n+                                        \"I\")                                                                                                   \\\n","filename":"src\/hotspot\/share\/classfile\/vmIntrinsics.hpp","additions":198,"deletions":57,"binary":false,"changes":255,"status":"modified"},{"patch":"@@ -305,2 +305,4 @@\n-\/\/ <V, M>\n-\/\/ V unaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<?> elementType,\n+\/\/ <V extends Vector<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V unaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<E> elementType,\n@@ -311,2 +313,4 @@\n-\/\/ <V, M>\n-\/\/ V binaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<?> elementType,\n+\/\/ <V,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V binaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<E> elementType,\n@@ -317,2 +321,4 @@\n-\/\/ <V, M>\n-\/\/ V ternaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<?> elementType,\n+\/\/ <V extends Vector<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V ternaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass, Class<E> elementType,\n@@ -552,1 +558,1 @@\n-\/\/  Sh ShuffleIota(Class<?> E, Class<?> ShuffleClass, Vector.Species<E> s, int length,\n+\/\/  Sh ShuffleIota(Class<?> E, Class<?> shuffleClass, Vector.Species<E> s, int length,\n@@ -702,3 +708,7 @@\n-\/\/ <VM ,Sh extends VectorShuffle<E>, E>\n-\/\/ VM shuffleToVector(Class<VM> VecClass, Class<?>E , Class<?> ShuffleClass, Sh s, int length,\n-\/\/                    ShuffleToVectorOperation<VM,Sh,E> defaultImpl)\n+\/\/ public static\n+\/\/ <V,\n+\/\/  Sh extends VectorShuffle<E>,\n+\/\/  E>\n+\/\/ V shuffleToVector(Class<? extends Vector<E>> vclass, Class<E> elementType,\n+\/\/                   Class<? extends Sh> shuffleClass, Sh s, int length,\n+\/\/                   ShuffleToVectorOperation<V, Sh, E> defaultImpl)\n@@ -763,4 +773,7 @@\n-\/\/ <V extends Vector<?,?>>\n-\/\/ V broadcastCoerced(Class<?> vectorClass, Class<?> elementType, int vlen,\n-\/\/                    long bits,\n-\/\/                    LongFunction<V> defaultImpl)\n+\/\/ public static\n+\/\/ <M,\n+\/\/  S extends VectorSpecies<E>,\n+\/\/  E>\n+\/\/ M broadcastCoerced(Class<? extends M> vmClass, Class<E> elementType, int length,\n+\/\/                    long bits, S s,\n+\/\/                    BroadcastOperation<M, E, S> defaultImpl)\n@@ -864,6 +877,9 @@\n-\/\/    <C, V extends Vector<?,?>>\n-\/\/    V load(Class<?> vectorClass, Class<?> elementType, int vlen,\n-\/\/           Object base, long offset,\n-\/\/           \/* Vector.Mask<E,S> m*\/\n-\/\/           Object container, int index,\n-\/\/           LoadOperation<C, VM> defaultImpl) {\n+\/\/ public static\n+\/\/ <C,\n+\/\/  VM,\n+\/\/  E,\n+\/\/  S extends VectorSpecies<E>>\n+\/\/ VM load(Class<? extends VM> vmClass, Class<E> elementType, int length,\n+\/\/         Object base, long offset,    \/\/ Unsafe addressing\n+\/\/         C container, int index, S s,     \/\/ Arguments for default implementation\n+\/\/         LoadOperation<C, VM, E, S> defaultImpl)\n@@ -871,6 +887,8 @@\n-\/\/    <C, V extends Vector<?,?>>\n-\/\/    void store(Class<?> vectorClass, Class<?> elementType, int vlen,\n-\/\/               Object base, long offset,\n-\/\/               V v, \/*Vector.Mask<E,S> m*\/\n-\/\/               Object container, int index,\n-\/\/               StoreVectorOperation<C, V> defaultImpl)\n+\/\/ public static\n+\/\/ <C,\n+\/\/  V extends Vector<?>>\n+\/\/ void store(Class<?> vectorClass, Class<?> elementType, int length,\n+\/\/            Object base, long offset,    \/\/ Unsafe addressing\n+\/\/            V v,\n+\/\/            C container, int index,      \/\/ Arguments for default implementation\n+\/\/            StoreVectorOperation<C, V> defaultImpl)\n@@ -1059,6 +1077,10 @@\n-\/\/    <C, V, E, S extends VectorSpecies<E>,\n-\/\/     M extends VectorMask<E>>\n-\/\/    V loadMasked(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType,\n-\/\/                 int length, Object base, long offset, M m\n-\/\/                 C container, int index, S s,  \/\/ Arguments for default implementation\n-\/\/                 LoadVectorMaskedOperation<C, V, E, S, M> defaultImpl) {\n+\/\/ public static\n+\/\/ <C,\n+\/\/  V extends Vector<?>,\n+\/\/  E,\n+\/\/  S extends VectorSpecies<E>,\n+\/\/  M extends VectorMask<E>>\n+\/\/ V loadMasked(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType,\n+\/\/              int length, Object base, long offset, M m,\n+\/\/              C container, int index, S s,  \/\/ Arguments for default implementation\n+\/\/              LoadVectorMaskedOperation<C, V, S, M> defaultImpl) {\n@@ -1066,7 +1088,10 @@\n-\/\/    <C, V extends Vector<?>,\n-\/\/     M extends VectorMask<?>>\n-\/\/    void storeMasked(Class<?> vectorClass, Class<M> maskClass, Class<?> elementType,\n-\/\/                     int length, Object base, long offset,\n-\/\/                     V v, M m,\n-\/\/                     C container, int index,  \/\/ Arguments for default implementation\n-\/\/                     StoreVectorMaskedOperation<C, V, M> defaultImpl) {\n+\/\/ public static\n+\/\/ <C,\n+\/\/  V extends Vector<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ void storeMasked(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType,\n+\/\/                  int length, Object base, long offset,\n+\/\/                  V v, M m,\n+\/\/                  C container, int index,  \/\/ Arguments for default implementation\n+\/\/                  StoreVectorMaskedOperation<C, V, M, E> defaultImpl) {\n@@ -1289,8 +1314,12 @@\n-\/\/   <C, V extends Vector<?>, W extends Vector<Integer>, E,\n-\/\/    S extends VectorSpecies<E>, M extends VectorMask<E>>\n-\/\/   V loadWithMap(Class<?> vectorClass, Class<M> maskClass, Class<E> E, int length,\n-\/\/                 Class<?> vectorIndexClass,\n-\/\/                 Object base, long offset, \/\/ Unsafe addressing\n-\/\/                 W index_vector, M m,\n-\/\/                 C container, int index, int[] indexMap, int indexM, S s, \/\/ Arguments for default implementation\n-\/\/                 LoadVectorOperationWithMap<C, V, E, S, M> defaultImpl)\n+\/\/ <C,\n+\/\/  V extends Vector<?>,\n+\/\/  W extends Vector<Integer>,\n+\/\/  S extends VectorSpecies<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V loadWithMap(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType, int length,\n+\/\/               Class<? extends Vector<Integer>> vectorIndexClass,\n+\/\/               Object base, long offset, \/\/ Unsafe addressing\n+\/\/               W index_vector, M m,\n+\/\/               C container, int index, int[] indexMap, int indexM, S s, \/\/ Arguments for default implementation\n+\/\/               LoadVectorOperationWithMap<C, V, E, S, M> defaultImpl)\n@@ -1298,6 +1327,10 @@\n-\/\/    <C, V extends Vector<?>, W extends Vector<Integer>, M extends VectorMask<?>>\n-\/\/    void storeWithMap(Class<?> vectorClass, Class<M> maskClass, Class<?> elementType,\n-\/\/                      int length, Class<?> vectorIndexClass, Object base, long offset,    \/\/ Unsafe addressing\n-\/\/                      W index_vector, V v, M m,\n-\/\/                      C container, int index, int[] indexMap, int indexM, \/\/ Arguments for default implementation\n-\/\/                      StoreVectorOperationWithMap<C, V, M> defaultImpl)\n+\/\/  <C,\n+\/\/   V extends Vector<E>,\n+\/\/   W extends Vector<Integer>,\n+\/\/   M extends VectorMask<E>,\n+\/\/   E>\n+\/\/  void storeWithMap(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType,\n+\/\/                    int length, Class<? extends Vector<Integer>> vectorIndexClass, Object base, long offset,    \/\/ Unsafe addressing\n+\/\/                    W index_vector, V v, M m,\n+\/\/                    C container, int index, int[] indexMap, int indexM, \/\/ Arguments for default implementation\n+\/\/                    StoreVectorOperationWithMap<C, V, M, E> defaultImpl)\n@@ -1490,1 +1523,4 @@\n-\/\/ <V, M>\n+\/\/ public static\n+\/\/ <V extends Vector<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n@@ -1492,1 +1528,1 @@\n-\/\/                       Class<?> elementType, int length, V v, M m,\n+\/\/                       Class<E> elementType, int length, V v, M m,\n@@ -1494,1 +1530,0 @@\n-\/\/\n@@ -1708,2 +1743,4 @@\n-\/\/ <V extends Vector, M extends Mask>\n-\/\/ V blend(Class<V> vectorClass, Class<M> maskClass, Class<?> elementType, int vlen,\n+\/\/ <V extends Vector<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V blend(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType, int vlen,\n@@ -1711,2 +1748,1 @@\n-\/\/         VectorBlendOp<V,M> defaultImpl)\n-\/\/\n+\/\/         VectorBlendOp<V, M, E> defaultImpl)\n@@ -1779,4 +1815,5 @@\n-\/\/  public static <V extends Vector<E,S>,\n-\/\/          M extends Vector.Mask<E,S>,\n-\/\/          S extends Vector.Shape, E>\n-\/\/  M compare(int cond, Class<V> vectorClass, Class<M> maskClass, Class<?> elementType, int vlen,\n+\/\/  public static\n+\/\/  <V extends Vector<E>,\n+\/\/   M extends VectorMask<E>,\n+\/\/   E>\n+\/\/  M compare(int cond, Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType, int vlen,\n@@ -1785,1 +1822,0 @@\n-\/\/\n@@ -1901,4 +1937,4 @@\n-\/\/     Sh extends VectorShuffle<E>,\n-\/\/     M extends VectorMask<E>,\n-\/\/     E>\n-\/\/ V rearrangeOp(Class<? extends V> vectorClass, Class<Sh> shuffleClass, Class<M> maskClass, Class<?> elementType, int vlen,\n+\/\/  Sh extends VectorShuffle<E>,\n+\/\/  M extends VectorMask<E>,\n+\/\/  E>\n+\/\/ V rearrangeOp(Class<? extends V> vectorClass, Class<Sh> shuffleClass, Class<M> maskClass, Class<E> elementType, int vlen,\n@@ -1906,1 +1942,1 @@\n-\/\/               VectorRearrangeOp<V,Sh,M,E> defaultImpl)\n+\/\/               VectorRearrangeOp<V, Sh, M, E> defaultImpl)\n@@ -2086,1 +2122,3 @@\n-\/\/  <V extends Vector<?>, M>\n+\/\/  <V extends Vector<E>,\n+\/\/   M extends VectorMask<E>,\n+\/\/   E>\n@@ -2088,1 +2126,1 @@\n-\/\/                 Class<?> elementType, int length,\n+\/\/                 Class<E> elementType, int length,\n@@ -2090,2 +2128,1 @@\n-\/\/                 VectorBroadcastIntOp<V> defaultImpl)\n-\/\/\n+\/\/                 VectorBroadcastIntOp<V, M> defaultImpl)\n@@ -2468,2 +2505,3 @@\n-\/\/  <V extends Vector<?>>\n-\/\/  V insert(Class<? extends V> vectorClass, Class<?> elementType, int vlen,\n+\/\/  <V extends Vector<E>,\n+\/\/   E>\n+\/\/  V insert(Class<? extends V> vectorClass, Class<E> elementType, int vlen,\n@@ -2472,1 +2510,0 @@\n-\/\/\n@@ -2561,2 +2598,3 @@\n-\/\/  <V extends Vector<?>>\n-\/\/  long extract(Class<?> vectorClass, Class<?> elementType, int vlen,\n+\/\/  <V extends Vector<E>,\n+\/\/   E>\n+\/\/  long extract(Class<? extends V> vectorClass, Class<E> elementType, int vlen,\n@@ -2565,1 +2603,0 @@\n-\/\/\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":117,"deletions":80,"binary":false,"changes":197,"status":"modified"},{"patch":"@@ -390,1 +390,1 @@\n-                          VectorSupport.LoadOperation<ByteBuffer, V, E, S> defaultImpl) {\n+                          VectorSupport.LoadOperation<ByteBuffer, V, S> defaultImpl) {\n@@ -411,1 +411,1 @@\n-                          VectorSupport.LoadOperation<ByteBuffer, V, E, S> defaultImpl) {\n+                          VectorSupport.LoadOperation<ByteBuffer, V, S> defaultImpl) {\n@@ -434,1 +434,1 @@\n-                               VectorSupport.LoadVectorMaskedOperation<ByteBuffer, V, E, S, M> defaultImpl) {\n+                               VectorSupport.LoadVectorMaskedOperation<ByteBuffer, V, S, M> defaultImpl) {\n@@ -456,1 +456,1 @@\n-                                     VectorSupport.LoadVectorMaskedOperation<ByteBuffer, V, E, S, M> defaultImpl) {\n+                                     VectorSupport.LoadVectorMaskedOperation<ByteBuffer, V, S, M> defaultImpl) {\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/misc\/X-ScopedMemoryAccess.java.template","additions":4,"deletions":4,"binary":false,"changes":8,"status":"modified"},{"patch":"@@ -159,1 +159,2 @@\n-    public interface BroadcastOperation<VM, E, S extends VectorSpecies<E>> {\n+    public interface BroadcastOperation<VM extends VectorPayload,\n+                                        S extends VectorSpecies<?>> {\n@@ -165,4 +166,7 @@\n-    <VM, E, S extends VectorSpecies<E>>\n-    VM broadcastCoerced(Class<? extends VM> vmClass, Class<E> E, int length,\n-                                  long bits, S s,\n-                                  BroadcastOperation<VM, E, S> defaultImpl) {\n+    <VM extends VectorPayload,\n+     S extends VectorSpecies<E>,\n+     E>\n+    VM broadcastCoerced(Class<? extends VM> vmClass, Class<E> eClass,\n+                        int length,\n+                        long bits, S s,\n+                        BroadcastOperation<VM, S> defaultImpl) {\n@@ -174,2 +178,3 @@\n-    public interface ShuffleIotaOperation<E, S extends VectorSpecies<E>> {\n-        VectorShuffle<E> apply(int length, int start, int step, S s);\n+    public interface ShuffleIotaOperation<S extends VectorSpecies<?>,\n+                                          SH extends VectorShuffle<?>> {\n+        SH apply(int length, int start, int step, S s);\n@@ -180,3 +185,7 @@\n-    <E, S extends VectorSpecies<E>>\n-    VectorShuffle<E> shuffleIota(Class<?> E, Class<?> ShuffleClass, S s, int length,\n-                     int start, int step, int wrap, ShuffleIotaOperation<E, S> defaultImpl) {\n+    <E,\n+     S extends VectorSpecies<E>,\n+     SH extends VectorShuffle<E>>\n+    SH shuffleIota(Class<E> eClass, Class<? extends SH> shClass, S s,\n+                   int length,\n+                   int start, int step, int wrap,\n+                   ShuffleIotaOperation<S, SH> defaultImpl) {\n@@ -187,2 +196,3 @@\n-    public interface ShuffleToVectorOperation<VM, Sh, E> {\n-       VM apply(Sh s);\n+    public interface ShuffleToVectorOperation<V extends Vector<?>,\n+                                              SH extends VectorShuffle<?>> {\n+       V apply(SH sh);\n@@ -193,3 +203,6 @@\n-    <VM ,Sh extends VectorShuffle<E>, E>\n-    VM shuffleToVector(Class<?> VM, Class<?>E , Class<?> ShuffleClass, Sh s, int length,\n-                       ShuffleToVectorOperation<VM,Sh,E> defaultImpl) {\n+    <V extends Vector<E>,\n+     SH extends VectorShuffle<E>,\n+     E>\n+    V shuffleToVector(Class<? extends Vector<E>> vClass, Class<E> eClass, Class<? extends SH> shClass, SH sh,\n+                      int length,\n+                      ShuffleToVectorOperation<V, SH> defaultImpl) {\n@@ -197,1 +210,1 @@\n-      return defaultImpl.apply(s);\n+      return defaultImpl.apply(sh);\n@@ -201,1 +214,2 @@\n-    public interface IndexOperation<V extends Vector<E>, E, S extends VectorSpecies<E>> {\n+    public interface IndexOperation<V extends Vector<?>,\n+                                    S extends VectorSpecies<?>> {\n@@ -207,2 +221,5 @@\n-    <V extends Vector<E>, E, S extends VectorSpecies<E>>\n-    V indexVector(Class<? extends V> vClass, Class<E> E, int length,\n+    <V extends Vector<E>,\n+     E,\n+     S extends VectorSpecies<E>>\n+    V indexVector(Class<? extends V> vClass, Class<E> eClass,\n+                  int length,\n@@ -210,1 +227,1 @@\n-                  IndexOperation<V, E, S> defaultImpl) {\n+                  IndexOperation<V, S> defaultImpl) {\n@@ -217,0 +234,5 @@\n+    public interface ReductionOperation<V extends Vector<?>,\n+                                        M extends VectorMask<?>> {\n+        long apply(V v, M m);\n+    }\n+\n@@ -219,3 +241,7 @@\n-    <V, M>\n-    long reductionCoerced(int oprId, Class<? extends V> vectorClass, Class<? extends M> maskClass,\n-                          Class<?> elementType, int length, V v, M m,\n+    <V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    long reductionCoerced(int oprId,\n+                          Class<? extends V> vClass, Class<? extends M> mClass, Class<E> eClass,\n+                          int length,\n+                          V v, M m,\n@@ -227,4 +253,0 @@\n-    public interface ReductionOperation<V, M> {\n-        long apply(V v, M mask);\n-    }\n-\n@@ -234,2 +256,2 @@\n-    public interface VecExtractOp<V> {\n-        long apply(V v1, int idx);\n+    public interface VecExtractOp<V extends Vector<?>> {\n+        long apply(V v, int i);\n@@ -240,3 +262,5 @@\n-    <V extends Vector<?>>\n-    long extract(Class<?> vectorClass, Class<?> elementType, int vlen,\n-                 V vec, int ix,\n+    <V extends Vector<E>,\n+     E>\n+    long extract(Class<? extends V> vClass, Class<E> eClass,\n+                 int length,\n+                 V v, int i,\n@@ -245,1 +269,1 @@\n-        return defaultImpl.apply(vec, ix);\n+        return defaultImpl.apply(v, i);\n@@ -250,2 +274,2 @@\n-    public interface VecInsertOp<V> {\n-        V apply(V v1, int idx, long val);\n+    public interface VecInsertOp<V extends Vector<?>> {\n+        V apply(V v, int i, long val);\n@@ -256,3 +280,5 @@\n-    <V extends Vector<?>>\n-    V insert(Class<? extends V> vectorClass, Class<?> elementType, int vlen,\n-             V vec, int ix, long val,\n+    <V extends Vector<E>,\n+     E>\n+    V insert(Class<? extends V> vClass, Class<E> eClass,\n+             int length,\n+             V v, int i, long val,\n@@ -261,1 +287,1 @@\n-        return defaultImpl.apply(vec, ix, val);\n+        return defaultImpl.apply(v, i, val);\n@@ -266,0 +292,5 @@\n+    public interface UnaryOperation<V extends Vector<?>,\n+                                    M extends VectorMask<?>> {\n+        V apply(V v, M m);\n+    }\n+\n@@ -268,3 +299,7 @@\n-    <V, M>\n-    V unaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass,\n-              Class<?> elementType, int length, V v, M m,\n+    <V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    V unaryOp(int oprId,\n+              Class<? extends V> vClass, Class<? extends M> mClass, Class<E> eClass,\n+              int length,\n+              V v, M m,\n@@ -276,4 +311,0 @@\n-    public interface UnaryOperation<V, M> {\n-        V apply(V v, M mask);\n-    }\n-\n@@ -282,0 +313,5 @@\n+    public interface BinaryOperation<VM extends VectorPayload,\n+                                     M extends VectorMask<?>> {\n+        VM apply(VM v1, VM v2, M m);\n+    }\n+\n@@ -284,4 +320,8 @@\n-    <V, M>\n-    V binaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass,\n-               Class<?> elementType, int length, V v1, V v2, M m,\n-               BinaryOperation<V, M> defaultImpl) {\n+    <VM extends VectorPayload,\n+     M extends VectorMask<E>,\n+     E>\n+    VM binaryOp(int oprId,\n+                Class<? extends VM> vmClass, Class<? extends M> mClass, Class<E> eClass,\n+                int length,\n+                VM v1, VM v2, M m,\n+                BinaryOperation<VM, M> defaultImpl) {\n@@ -292,4 +332,0 @@\n-    public interface BinaryOperation<V, M> {\n-        V apply(V v1, V v2, M mask);\n-    }\n-\n@@ -298,0 +334,5 @@\n+    public interface TernaryOperation<V extends Vector<?>,\n+                                      M extends VectorMask<?>> {\n+        V apply(V v1, V v2, V v3, M m);\n+    }\n+\n@@ -300,3 +341,7 @@\n-    <V, M>\n-    V ternaryOp(int oprId, Class<? extends V> vmClass, Class<? extends M> maskClass,\n-                Class<?> elementType, int length, V v1, V v2, V v3, M m,\n+    <V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    V ternaryOp(int oprId,\n+                Class<? extends V> vClass, Class<? extends M> mClass, Class<E> eClass,\n+                int length,\n+                V v1, V v2, V v3, M m,\n@@ -308,4 +353,0 @@\n-    public interface TernaryOperation<V, M> {\n-        V apply(V v1, V v2, V v3, M mask);\n-    }\n-\n@@ -316,2 +357,4 @@\n-    public interface LoadOperation<C, V, E, S extends VectorSpecies<E>> {\n-        V load(C container, int index, S s);\n+    public interface LoadOperation<C,\n+                                   VM extends VectorPayload,\n+                                   S extends VectorSpecies<?>> {\n+        VM load(C container, int index, S s);\n@@ -322,5 +365,9 @@\n-    <C, VM, E, S extends VectorSpecies<E>>\n-    VM load(Class<? extends VM> vmClass, Class<E> E, int length,\n-           Object base, long offset,    \/\/ Unsafe addressing\n-           C container, int index, S s,     \/\/ Arguments for default implementation\n-           LoadOperation<C, VM, E, S> defaultImpl) {\n+    <C,\n+     VM extends VectorPayload,\n+     E,\n+     S extends VectorSpecies<E>>\n+    VM load(Class<? extends VM> vmClass, Class<E> eClass,\n+            int length,\n+            Object base, long offset,\n+            C container, int index, S s,\n+            LoadOperation<C, VM, S> defaultImpl) {\n@@ -333,1 +380,4 @@\n-    public interface LoadVectorMaskedOperation<C, V, E, S extends VectorSpecies<E>, M extends VectorMask<E>> {\n+    public interface LoadVectorMaskedOperation<C,\n+                                               V extends Vector<?>,\n+                                               S extends VectorSpecies<?>,\n+                                               M extends VectorMask<?>> {\n@@ -339,1 +389,4 @@\n-    <C, V, E, S extends VectorSpecies<E>,\n+    <C,\n+     V extends Vector<?>,\n+     E,\n+     S extends VectorSpecies<E>,\n@@ -341,4 +394,5 @@\n-    V loadMasked(Class<? extends V> vectorClass, Class<M> maskClass, Class<E> elementType,\n-                 int length, Object base, long offset, M m,\n-                 C container, int index, S s,  \/\/ Arguments for default implementation\n-                 LoadVectorMaskedOperation<C, V, E, S, M> defaultImpl) {\n+    V loadMasked(Class<? extends V> vClass, Class<M> mClass, Class<E> eClass,\n+                 int length,\n+                 Object base, long offset,\n+                 M m, C container, int index, S s,\n+                 LoadVectorMaskedOperation<C, V, S, M> defaultImpl) {\n@@ -351,2 +405,4 @@\n-    public interface LoadVectorOperationWithMap<C, V extends Vector<?>, E, S extends VectorSpecies<E>,\n-                                                M extends VectorMask<E>> {\n+    public interface LoadVectorOperationWithMap<C,\n+                                                V extends Vector<?>,\n+                                                S extends VectorSpecies<?>,\n+                                                M extends VectorMask<?>> {\n@@ -358,8 +414,13 @@\n-    <C, V extends Vector<?>, W extends Vector<Integer>, E,\n-     S extends VectorSpecies<E>, M extends VectorMask<E>>\n-    V loadWithMap(Class<?> vectorClass, Class<M> maskClass, Class<E> E, int length,\n-                  Class<?> vectorIndexClass,\n-                  Object base, long offset, \/\/ Unsafe addressing\n-                  W index_vector, M m,\n-                  C container, int index, int[] indexMap, int indexM, S s, \/\/ Arguments for default implementation\n-                  LoadVectorOperationWithMap<C, V, E, S, M> defaultImpl) {\n+    <C,\n+     V extends Vector<?>,\n+     W extends Vector<Integer>,\n+     S extends VectorSpecies<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    V loadWithMap(Class<? extends V> vClass, Class<M> mClass, Class<E> eClass,\n+                  int length,\n+                  Class<? extends Vector<Integer>> vectorIndexClass,\n+                  Object base, long offset,\n+                  W index_vector,\n+                  M m, C container, int index, int[] indexMap, int indexM, S s,\n+                  LoadVectorOperationWithMap<C, V, S, M> defaultImpl) {\n@@ -372,1 +433,2 @@\n-    public interface StoreVectorOperation<C, V extends Vector<?>> {\n+    public interface StoreVectorOperation<C,\n+                                          V extends Vector<?>> {\n@@ -378,5 +440,6 @@\n-    <C, V extends Vector<?>>\n-    void store(Class<?> vectorClass, Class<?> elementType, int length,\n-               Object base, long offset,    \/\/ Unsafe addressing\n-               V v,\n-               C container, int index,      \/\/ Arguments for default implementation\n+    <C,\n+     V extends Vector<?>>\n+    void store(Class<?> vClass, Class<?> eClass,\n+               int length,\n+               Object base, long offset,\n+               V v, C container, int index,\n@@ -388,1 +451,3 @@\n-    public interface StoreVectorMaskedOperation<C, V extends Vector<?>, M extends VectorMask<?>> {\n+    public interface StoreVectorMaskedOperation<C,\n+                                                V extends Vector<?>,\n+                                                M extends VectorMask<?>> {\n@@ -394,6 +459,8 @@\n-    <C, V extends Vector<?>,\n-     M extends VectorMask<?>>\n-    void storeMasked(Class<?> vectorClass, Class<M> maskClass, Class<?> elementType,\n-                     int length, Object base, long offset,   \/\/ Unsafe addressing\n-                     V v, M m,\n-                     C container, int index,      \/\/ Arguments for default implementation\n+    <C,\n+     V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    void storeMasked(Class<? extends V> vClass, Class<M> mClass, Class<E> eClass,\n+                     int length,\n+                     Object base, long offset,\n+                     V v, M m, C container, int index,\n@@ -407,1 +474,3 @@\n-    public interface StoreVectorOperationWithMap<C, V extends Vector<?>, M extends VectorMask<?>> {\n+    public interface StoreVectorOperationWithMap<C,\n+                                                 V extends Vector<?>,\n+                                                 M extends VectorMask<?>> {\n@@ -413,5 +482,11 @@\n-    <C, V extends Vector<?>, W extends Vector<Integer>, M extends VectorMask<?>>\n-    void storeWithMap(Class<?> vectorClass, Class<M> maskClass, Class<?> elementType,\n-                      int length, Class<?> vectorIndexClass, Object base, long offset,    \/\/ Unsafe addressing\n-                      W index_vector, V v, M m,\n-                      C container, int index, int[] indexMap, int indexM, \/\/ Arguments for default implementation\n+    <C,\n+     V extends Vector<E>,\n+     W extends Vector<Integer>,\n+     M extends VectorMask<E>,\n+     E>\n+    void storeWithMap(Class<? extends V> vClass, Class<M> mClass, Class<E> eClass,\n+                      int length,\n+                      Class<? extends Vector<Integer>> vectorIndexClass,\n+                      Object base, long offset,\n+                      W index_vector,\n+                      V v, M m, C container, int index, int[] indexMap, int indexM,\n@@ -427,4 +502,7 @@\n-    <VM>\n-    boolean test(int cond, Class<?> vmClass, Class<?> elementType, int length,\n-                 VM vm1, VM vm2,\n-                 BiFunction<VM, VM, Boolean> defaultImpl) {\n+    <M extends VectorMask<E>,\n+     E>\n+    boolean test(int cond,\n+                 Class<?> mClass, Class<?> eClass,\n+                 int length,\n+                 M m1, M m2,\n+                 BiFunction<M, M, Boolean> defaultImpl) {\n@@ -432,1 +510,1 @@\n-        return defaultImpl.apply(vm1, vm2);\n+        return defaultImpl.apply(m1, m2);\n@@ -437,1 +515,2 @@\n-    public interface VectorCompareOp<V,M> {\n+    public interface VectorCompareOp<V extends Vector<?>,\n+                                     M extends VectorMask<?>> {\n@@ -442,4 +521,7 @@\n-    public static <V extends Vector<E>,\n-                   M extends VectorMask<E>,\n-                   E>\n-    M compare(int cond, Class<? extends V> vectorClass, Class<M> maskClass, Class<?> elementType, int length,\n+    public static\n+    <V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    M compare(int cond,\n+              Class<? extends V> vectorClass, Class<M> mClass, Class<E> eClass,\n+              int length,\n@@ -447,1 +529,1 @@\n-              VectorCompareOp<V,M> defaultImpl) {\n+              VectorCompareOp<V, M> defaultImpl) {\n@@ -453,5 +535,4 @@\n-    public interface VectorRearrangeOp<V extends Vector<E>,\n-            Sh extends VectorShuffle<E>,\n-            M  extends VectorMask<E>,\n-            E> {\n-        V apply(V v1, Sh shuffle, M mask);\n+    public interface VectorRearrangeOp<V extends Vector<?>,\n+                                       SH extends VectorShuffle<?>,\n+                                       M extends VectorMask<?>> {\n+        V apply(V v, SH sh, M m);\n@@ -463,6 +544,7 @@\n-            Sh extends VectorShuffle<E>,\n-            M  extends VectorMask<E>,\n-            E>\n-    V rearrangeOp(Class<? extends V> vectorClass, Class<Sh> shuffleClass, Class<M> maskClass, Class<?> elementType, int vlen,\n-                  V v1, Sh sh, M m,\n-                  VectorRearrangeOp<V,Sh,M,E> defaultImpl) {\n+     SH extends VectorShuffle<E>,\n+     M  extends VectorMask<E>,\n+     E>\n+    V rearrangeOp(Class<? extends V> vClass, Class<SH> shClass, Class<M> mClass, Class<E> eClass,\n+                  int length,\n+                  V v, SH sh, M m,\n+                  VectorRearrangeOp<V, SH, M> defaultImpl) {\n@@ -470,1 +552,1 @@\n-        return defaultImpl.apply(v1, sh, m);\n+        return defaultImpl.apply(v, sh, m);\n@@ -475,4 +557,3 @@\n-    public interface VectorBlendOp<V extends Vector<E>,\n-            M extends VectorMask<E>,\n-            E> {\n-        V apply(V v1, V v2, M mask);\n+    public interface VectorBlendOp<V extends Vector<?>,\n+                                   M extends VectorMask<?>> {\n+        V apply(V v1, V v2, M m);\n@@ -486,1 +567,2 @@\n-    V blend(Class<? extends V> vectorClass, Class<M> maskClass, Class<?> elementType, int length,\n+    V blend(Class<? extends V> vClass, Class<M> mClass, Class<E> eClass,\n+            int length,\n@@ -488,1 +570,1 @@\n-            VectorBlendOp<V,M, E> defaultImpl) {\n+            VectorBlendOp<V, M> defaultImpl) {\n@@ -495,1 +577,2 @@\n-    public interface VectorBroadcastIntOp<V extends Vector<?>, M> {\n+    public interface VectorBroadcastIntOp<V extends Vector<?>,\n+                                          M extends VectorMask<?>> {\n@@ -501,3 +584,6 @@\n-    <V extends Vector<?>, M>\n-    V broadcastInt(int opr, Class<? extends V> vectorClass, Class<? extends M> maskClass,\n-                   Class<?> elementType, int length,\n+    <V extends Vector<E>,\n+     M extends VectorMask<E>,\n+     E>\n+    V broadcastInt(int opr,\n+                   Class<? extends V> vClass, Class<? extends M> mClass, Class<E> eClass,\n+                   int length,\n@@ -512,2 +598,4 @@\n-    public interface VectorConvertOp<VOUT, VIN, S> {\n-        VOUT apply(VIN v, S species);\n+    public interface VectorConvertOp<VOUT extends VectorPayload,\n+                                     VIN extends VectorPayload,\n+                                     S extends VectorSpecies<?>> {\n+        VOUT apply(VIN v, S s);\n@@ -525,2 +613,2 @@\n-              Class<?> fromVectorClass, Class<?> fromElementType, int fromVLen,\n-              Class<?>   toVectorClass, Class<?>   toElementType, int   toVLen,\n+              Class<?> fromVectorClass, Class<?> fromeClass, int fromVLen,\n+              Class<?>   toVectorClass, Class<?>   toeClass, int   toVLen,\n@@ -536,1 +624,3 @@\n-    public static <V> V maybeRebox(V v) {\n+    public static\n+    <VP extends VectorPayload>\n+    VP maybeRebox(VP v) {\n@@ -544,1 +634,1 @@\n-    public interface VectorMaskOp<M> {\n+    public interface VectorMaskOp<M extends VectorMask<?>> {\n@@ -550,2 +640,6 @@\n-    <E, M>\n-    int maskReductionCoerced(int oper, Class<? extends M> maskClass, Class<?> elemClass, int length, M m,\n+    <M extends VectorMask<E>,\n+     E>\n+    int maskReductionCoerced(int oper,\n+                             Class<? extends M> mClass, Class<?> eClass,\n+                             int length,\n+                             M m,\n","filename":"src\/java.base\/share\/classes\/jdk\/internal\/vm\/vector\/VectorSupport.java","additions":238,"deletions":144,"binary":false,"changes":382,"status":"modified"}]}