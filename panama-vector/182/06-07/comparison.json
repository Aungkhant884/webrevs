{"files":[{"patch":"@@ -3406,0 +3406,1 @@\n+  case Op_ReverseBytesV:\n@@ -3407,1 +3408,1 @@\n-    if (n->in(1)->Opcode() == Op_ReverseV) {\n+    if ((uint)n->in(1)->Opcode() == nop) {\n@@ -3410,0 +3411,4 @@\n+        \/\/ Node (Node X , Mask) Mask => X\n+        n->subsume_by(n->in(1)->in(1), this);\n+      } else if (!n->is_predicated_using_blend() && !n->in(1)->is_predicated_using_blend()) {\n+        \/\/ Node (Node X) =>  X\n@@ -3411,11 +3416,0 @@\n-      } else {\n-        bool is_user_blend = false;\n-        for (DUIterator_Fast imax, i = n->fast_outs(imax); i < imax; i++) {\n-          if (n->fast_out(i)->Opcode() == Op_VectorBlend) {\n-            is_user_blend = true;\n-            break;\n-          }\n-        }\n-        if (!is_user_blend) {\n-          n->subsume_by(n->in(1)->in(1), this);\n-        }\n","filename":"src\/hotspot\/share\/opto\/compile.cpp","additions":6,"deletions":12,"binary":false,"changes":18,"status":"modified"},{"patch":"@@ -796,0 +796,1 @@\n+    Flag_is_predicated_using_blend   = 1 << 18,\n@@ -1013,0 +1014,2 @@\n+  bool is_predicated_using_blend() const { return (_flags & Flag_is_predicated_using_blend) != 0; }\n+\n","filename":"src\/hotspot\/share\/opto\/node.hpp","additions":3,"deletions":0,"binary":false,"changes":3,"status":"modified"},{"patch":"@@ -549,0 +549,1 @@\n+      operation->add_flag(Node::Flag_is_predicated_using_blend);\n","filename":"src\/hotspot\/share\/opto\/vectorIntrinsics.cpp","additions":1,"deletions":0,"binary":false,"changes":1,"status":"modified"}]}