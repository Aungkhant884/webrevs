{"files":[{"patch":"@@ -4540,1 +4540,1 @@\n-                                           XMMRegister xtmp2, XMMRegister xtmp3, Register rtmp, int vec_enc) {\n+                                           XMMRegister xtmp2, Register rtmp, int vec_enc) {\n@@ -4552,2 +4552,1 @@\n-    vpternlogd(xtmp2, 0x1, xtmp2, xtmp2, vec_enc);\n-    vpandq(xtmp2, src, xtmp2, vec_enc);\n+    vpandn(xtmp2, xtmp2, src, vec_enc);\n@@ -4568,1 +4567,0 @@\n-    vpternlogd(xtmp2, 0x11, xtmp1, xtmp1, vec_enc);\n@@ -4573,1 +4571,1 @@\n-    vpandq(xtmp2, xtmp2, src, vec_enc);\n+    vpandn(xtmp2, xtmp1, src, vec_enc);\n@@ -4611,3 +4609,1 @@\n-    vpcmpeqd(xtmp3, xtmp3, xtmp3, vec_enc);\n-    vpxor(xtmp3, xtmp2, xtmp3, vec_enc);\n-    vpand(xtmp2, src, xtmp3, vec_enc);\n+    vpandn(xtmp2, xtmp2, src, vec_enc);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.cpp","additions":4,"deletions":8,"binary":false,"changes":12,"status":"modified"},{"patch":"@@ -325,1 +325,1 @@\n-                          XMMRegister xtmp2, XMMRegister xtmp3, Register rtmp, int vec_enc);\n+                          XMMRegister xtmp2, Register rtmp, int vec_enc);\n","filename":"src\/hotspot\/cpu\/x86\/c2_MacroAssembler_x86.hpp","additions":1,"deletions":1,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -8982,13 +8982,0 @@\n-instruct vreverse_reg_avx(vec dst, vec src, vec xtmp1, vec xtmp2, vec xtmp3, rRegI rtmp) %{\n-  predicate(!VM_Version::supports_avx512vlbw() && Matcher::vector_length_in_bytes(n) < 64  && !VM_Version::supports_gfni());\n-  match(Set dst (ReverseV src));\n-  effect(TEMP dst, TEMP xtmp1, TEMP xtmp2, TEMP xtmp3, TEMP rtmp);\n-  format %{ \"vector_reverse_bit_avx $dst, $src!\\t using $xtmp1, $xtmp2, $xtmp3 and $rtmp as TEMP\" %}\n-  ins_encode %{\n-    int vec_enc = vector_length_encoding(this);\n-    BasicType bt = Matcher::vector_element_basic_type(this);\n-    __ vector_reverse_bit(bt, $dst$$XMMRegister, $src$$XMMRegister, $xtmp1$$XMMRegister,\n-                          $xtmp2$$XMMRegister, $xtmp3$$XMMRegister, $rtmp$$Register, vec_enc);\n-  %}\n-  ins_pipe( pipe_slow );\n-%}\n@@ -8996,2 +8983,2 @@\n-instruct vreverse_reg_evex(vec dst, vec src, vec xtmp1, vec xtmp2, rRegI rtmp) %{\n-  predicate((VM_Version::supports_avx512vlbw() || Matcher::vector_length_in_bytes(n) == 64) && !VM_Version::supports_gfni());\n+instruct vreverse_reg(vec dst, vec src, vec xtmp1, vec xtmp2, rRegI rtmp) %{\n+  predicate(!VM_Version::supports_gfni());\n@@ -9005,1 +8992,1 @@\n-                          $xtmp2$$XMMRegister, xnoreg, $rtmp$$Register, vec_enc);\n+                          $xtmp2$$XMMRegister, $rtmp$$Register, vec_enc);\n","filename":"src\/hotspot\/cpu\/x86\/x86.ad","additions":3,"deletions":16,"binary":false,"changes":19,"status":"modified"}]}