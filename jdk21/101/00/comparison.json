{"files":[{"patch":"@@ -704,2 +704,2 @@\n-  if (tag.is_dynamic_constant() || tag.is_dynamic_constant_in_error()) {\n-    if (obj == Universe::the_null_sentinel()) {\n+  if (tag.is_dynamic_constant()) {\n+    if (obj == nullptr) {\n","filename":"src\/hotspot\/share\/jvmci\/jvmciCompilerToVM.cpp","additions":2,"deletions":2,"binary":false,"changes":4,"status":"modified"},{"patch":"@@ -252,0 +252,1 @@\n+                        Object.class,\n@@ -278,1 +279,3 @@\n-                if (lastConstant instanceof PrimitiveConstant) {\n+                if (lastConstant == PrimitiveConstant.NULL_POINTER) {\n+                    actual = null;\n+                } else if (lastConstant instanceof PrimitiveConstant) {\n@@ -285,1 +288,5 @@\n-                testLookupBootstrapMethodInvocation(condyType, metaAccess, testClass, getTagAt);\n+                if (type != Object.class) {\n+                    testLookupBootstrapMethodInvocation(condyType, metaAccess, testClass, getTagAt);\n+                } else {\n+                    \/\/ StringConcatFactoryStringConcatFactory cannot accept null constants\n+                }\n@@ -350,0 +357,1 @@\n+    @SuppressWarnings(\"unused\") public static Object  getObjectBSM (MethodHandles.Lookup l, String name, Class<?> type) { return null; }\n@@ -362,0 +370,1 @@\n+    public static Object  getObject () { return null; }\n@@ -373,0 +382,1 @@\n+    public static Object  getObject (Object v1, Object v2)   { return null; }\n","filename":"test\/hotspot\/jtreg\/compiler\/jvmci\/jdk.vm.ci.hotspot.test\/src\/jdk\/vm\/ci\/hotspot\/test\/TestDynamicConstant.java","additions":12,"deletions":2,"binary":false,"changes":14,"status":"modified"}]}