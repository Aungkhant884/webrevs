{"files":[{"patch":"@@ -290,2 +290,23 @@\n-    \/\/TODO\n-    J2dTraceLn(J2D_TRACE_ERROR, \"MTLRenderer_drawPoly -- :TODO\");\n+\n+    J2dTraceLn(J2D_TRACE_INFO, \"MTLRenderer_drawPoly\");\n+\n+    xPoints = (jint *)\n+        (*env)->GetPrimitiveArrayCritical(env, xpointsArray, NULL);\n+    if (xPoints != NULL) {\n+        yPoints = (jint *)\n+            (*env)->GetPrimitiveArrayCritical(env, ypointsArray, NULL);\n+        if (yPoints != NULL) {\n+            MTLContext *mtlc = MTLRenderQueue_GetCurrentContext();\n+            BMTLSDOps *dstOps = MTLRenderQueue_GetCurrentDestination();\n+\n+            MTLRenderer_DrawPoly(mtlc, dstOps,\n+                                 nPoints, isClosed,\n+                                 transX, transY,\n+                                 xPoints, yPoints);\n+\n+            (*env)->ReleasePrimitiveArrayCritical(env, ypointsArray, yPoints,\n+                                                  JNI_ABORT);\n+        }\n+        (*env)->ReleasePrimitiveArrayCritical(env, xpointsArray, xPoints,\n+                                              JNI_ABORT);\n+    }\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLRenderer.m","additions":23,"deletions":2,"binary":false,"changes":25,"status":"modified"}]}