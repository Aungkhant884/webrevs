{"files":[{"patch":"@@ -32,6 +32,0 @@\n-#import \"MTLUtils.h\"\n-\n-\n-#import <stdlib.h>\n-#import <string.h>\n-#import <ApplicationServices\/ApplicationServices.h>\n@@ -42,3 +36,0 @@\n-\/\/ Uncomment this line to see Metal specific fprintfs\n-\/\/#define METAL_DEBUG\n-\n@@ -74,3 +65,0 @@\n-\/**\n- * Probe Metal framework availability using system profiler\n- *\/\n@@ -81,1 +69,0 @@\n-    FILE *f = popen(\"\/usr\/sbin\/system_profiler SPDisplaysDataType\", \"r\");\n@@ -83,15 +70,0 @@\n-    while (getc(f) != EOF)\n-    {\n-        char str[60];\n-\n-        if (fgets(str, 60, f) != NULL) {\n-            \/\/ Check for string\n-            \/\/ \"Metal:  Supported, feature set macOS GPUFamily1 v4\"\n-            if (strstr(str, \"Metal\") != NULL) {\n-                \/\/puts(str);\n-                metalSupported = JNI_TRUE;\n-                break;\n-            }\n-        }\n-    }\n-    pclose(f);\n@@ -99,5 +71,3 @@\n-#ifdef METAL_DEBUG\n-    if (!metalSupported) {\n-        fprintf(stderr, \"Metal support not present\\n\");\n-    } else {\n-        fprintf(stderr, \"Metal support is present\\n\");\n+    \/\/ It is guranteed that metal supported GPU is available macOS 10.14 onwards\n+    if (@available(macOS 10.14, *)) {\n+        metalSupported = JNI_TRUE;\n@@ -105,1 +75,0 @@\n-#endif\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLGraphicsConfig.m","additions":3,"deletions":34,"binary":false,"changes":37,"status":"modified"}]}