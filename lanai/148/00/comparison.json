{"files":[{"patch":"@@ -73,0 +73,2 @@\n+- (void) startDisplayLink;\n+- (void) stopDisplayLink;\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.h","additions":2,"deletions":0,"binary":false,"changes":2,"status":"modified"},{"patch":"@@ -119,0 +119,1 @@\n+        [self stopDisplayLink];\n@@ -124,2 +125,1 @@\n-    if (CVDisplayLinkIsRunning(self.displayLink))\n-        CVDisplayLinkStop(self.displayLink);\n+    [self stopDisplayLink];\n@@ -158,0 +158,10 @@\n+- (void) startDisplayLink {\n+    if (!CVDisplayLinkIsRunning(self.displayLink))\n+        CVDisplayLinkStart(self.displayLink);\n+}\n+\n+- (void) stopDisplayLink {\n+    if (CVDisplayLinkIsRunning(self.displayLink))\n+        CVDisplayLinkStop(self.displayLink);\n+}\n+\n@@ -213,2 +223,1 @@\n-        if (!CVDisplayLinkIsRunning(layer.displayLink))\n-            CVDisplayLinkStart(layer.displayLink);\n+        [layer startDisplayLink];\n@@ -217,2 +226,1 @@\n-        if (CVDisplayLinkIsRunning(layer.displayLink))\n-            CVDisplayLinkStop(layer.displayLink);\n+        [layer stopDisplayLink];\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.m","additions":14,"deletions":6,"binary":false,"changes":20,"status":"modified"},{"patch":"@@ -1162,0 +1162,8 @@\n+            BMTLSDOps *dstOps = MTLRenderQueue_GetCurrentDestination();\n+            if (dstOps != NULL) {\n+                MTLSDOps *dstMTLOps = (MTLSDOps *)dstOps->privOps;\n+                MTLLayer *layer = (MTLLayer*)dstMTLOps->layer;\n+                if (layer != NULL) {\n+                    [layer startDisplayLink];\n+                }\n+            }\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLRenderQueue.m","additions":8,"deletions":0,"binary":false,"changes":8,"status":"modified"}]}