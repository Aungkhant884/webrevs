{"files":[{"patch":"@@ -94,0 +94,11 @@\n+\n+        NSUInteger src_x = self.leftInset * self.contentsScale;\n+        NSUInteger src_y = self.topInset * self.contentsScale;\n+        NSUInteger src_w = self.buffer.width - src_x;\n+        NSUInteger src_h = self.buffer.height - src_y;\n+\n+        if (src_h <= 0 || src_w <= 0) {\n+           J2dTraceLn(J2D_TRACE_VERBOSE, \"MTLLayer.blitTexture: Invalid src width or height.\");\n+           return;\n+        }\n+\n@@ -105,0 +116,1 @@\n+\n@@ -109,2 +121,2 @@\n-                sourceOrigin:MTLOriginMake((jint)(self.leftInset*self.contentsScale), (jint)(self.topInset*self.contentsScale), 0)\n-                sourceSize:MTLSizeMake(self.buffer.width, self.buffer.height, 1)\n+                sourceOrigin:MTLOriginMake(src_x, src_y, 0)\n+                sourceSize:MTLSizeMake(src_w, src_h, 1)\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.m","additions":14,"deletions":2,"binary":false,"changes":16,"status":"modified"}]}