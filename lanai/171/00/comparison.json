{"files":[{"patch":"@@ -38,1 +38,1 @@\n-    JNFWeakJObjectWrapper *javaLayer;\n+    jobject javaLayer;\n@@ -51,1 +51,1 @@\n-@property (nonatomic, retain) JNFWeakJObjectWrapper *javaLayer;\n+@property (nonatomic) jobject javaLayer;\n@@ -61,1 +61,1 @@\n-- (id) initWithJavaLayer:(JNFWeakJObjectWrapper *)layer;\n+- (id) initWithJavaLayer:(jobject)layer;\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.h","additions":3,"deletions":3,"binary":false,"changes":6,"status":"modified"},{"patch":"@@ -46,1 +46,1 @@\n-- (id) initWithJavaLayer:(JNFWeakJObjectWrapper *)layer\n+- (id) initWithJavaLayer:(jobject)layer\n@@ -125,0 +125,2 @@\n+    JNIEnv *env = [ThreadUtilities getJNIEnvUncached];\n+    (*env)->DeleteWeakGlobalRef(env, self.javaLayer);\n@@ -138,1 +140,1 @@\n-    jobject javaLayerLocalRef = [self.javaLayer jObjectWithEnv:env];\n+    jobject javaLayerLocalRef = (*env)->NewLocalRef(env, self.javaLayer);\n@@ -194,1 +196,1 @@\n-    JNFWeakJObjectWrapper *javaLayer = [JNFWeakJObjectWrapper wrapperWithJObject:obj withEnv:env];\n+    jobject javaLayer = (*env)->NewWeakGlobalRef(env, obj);\n","filename":"src\/java.desktop\/macosx\/native\/libawt_lwawt\/java2d\/metal\/MTLLayer.m","additions":5,"deletions":3,"binary":false,"changes":8,"status":"modified"}]}