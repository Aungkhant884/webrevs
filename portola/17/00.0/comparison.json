{"files":[{"patch":"@@ -260,0 +260,2 @@\n+            \"--disable-jvm-feature-aot\",\n+            \"--disable-jvm-feature-graal\",\n@@ -413,1 +415,1 @@\n-            dependencies: [\"devkit\", \"gtest\", \"graphviz\", \"pandoc\", \"graalunit_lib\"],\n+            dependencies: [\"devkit\", \"gtest\", \"graphviz\", \"pandoc\"],\n@@ -415,1 +417,1 @@\n-                \"--enable-full-docs\", \"--with-zlib=system\",\n+                \"--with-zlib=system\", \"--disable-dtrace\",\n@@ -418,1 +420,0 @@\n-            default_make_targets: [\"docs-bundles\"],\n@@ -441,1 +442,1 @@\n-            dependencies: [\"devkit\", \"gtest\", \"pandoc\", \"graalunit_lib\"],\n+            dependencies: [\"devkit\", \"gtest\", \"pandoc\"],\n@@ -452,1 +453,1 @@\n-            dependencies: [\"devkit\", \"gtest\", \"pandoc\", \"graalunit_lib\"],\n+            dependencies: [\"devkit\", \"gtest\", \"pandoc\"],\n@@ -472,2 +473,0 @@\n-\t\t\"--disable-jvm-feature-graal\",\n-\t\t\"--disable-jvm-feature-aot\",\n@@ -701,2 +700,15 @@\n-    profilesArtifacts = {\n-        \"linux-x64\": {\n+    buildJdkDep = input.build_os + \"-\" + input.build_cpu + \".jdk\";\n+    docsProfiles = {\n+        \"docs\": {\n+            target_os: input.build_os,\n+            target_cpu: input.build_cpu,\n+            dependencies: [\n+                \"boot_jdk\", \"devkit\", \"graphviz\", \"pandoc\", buildJdkDep,\n+            ],\n+            configure_args: concat(\n+                \"--enable-full-docs\",\n+                versionArgs(input, common),\n+                \"--with-build-jdk=\" + input.get(buildJdkDep, \"home_path\")\n+                    + (input.build_os == \"macosx\" ? \"\/Contents\/Home\" : \"\")\n+            ),\n+            default_make_targets: [\"all-docs-bundles\"],\n@@ -705,1 +717,1 @@\n-                    local: \"bundles\/\\\\(jdk.*doc-api-spec.tar.gz\\\\)\",\n+                    local: \"bundles\/\\\\(jdk-\" + data.version + \".*doc-api-spec.tar.gz\\\\)\",\n@@ -711,0 +723,14 @@\n+                javase_doc_api_spec: {\n+                    local: \"bundles\/\\\\(javase-\" + data.version + \".*doc-api-spec.tar.gz\\\\)\",\n+                    remote: [\n+                        \"bundles\/common\/javase-\" + data.version + \"_doc-api-spec.tar.gz\",\n+                        \"bundles\/common\/\\\\1\"\n+                    ],\n+                },\n+                reference_doc_api_spec: {\n+                    local: \"bundles\/\\\\(jdk-reference-\" + data.version + \".*doc-api-spec.tar.gz\\\\)\",\n+                    remote: [\n+                        \"bundles\/common\/jdk-reference-\" + data.version + \"_doc-api-spec.tar.gz\",\n+                        \"bundles\/common\/\\\\1\"\n+                    ],\n+                },\n@@ -714,1 +740,1 @@\n-    profiles = concatObjects(profiles, profilesArtifacts);\n+    profiles = concatObjects(profiles, docsProfiles);\n@@ -981,1 +1007,1 @@\n-        macosx_x64: \"Xcode11.3.1-MacOSX10.15+1.0\",\n+        macosx_x64: \"Xcode11.3.1-MacOSX10.15+1.1\",\n@@ -1148,9 +1174,0 @@\n-        graalunit_lib: {\n-            organization: common.organization,\n-            ext: \"zip\",\n-            revision: \"619_Apr_12_2018\",\n-            module: \"graalunit-lib\",\n-            configure_args: \"--with-graalunit-lib=\" + input.get(\"graalunit_lib\", \"install_path\"),\n-            environment_name: \"GRAALUNIT_LIB\"\n-        },\n-\n","filename":"make\/conf\/jib-profiles.js","additions":38,"deletions":21,"binary":false,"changes":59,"status":"modified"}]}