{"files":[{"patch":"@@ -248,1 +248,1 @@\n-        \"linux-x64\", \"linux-x64-musl\", \"linux-x86\", \"macosx-x64\",\n+        \"linux-x64\", \"linux-x64-musl\", \"linux-x86\", \"macosx-x64\", \"macosx-aarch64\",\n@@ -405,1 +405,1 @@\n-    common.boot_jdk_version = \"15\";\n+    common.boot_jdk_version = (input.build_os == 'macosx' && input.build_cpu == 'aarch64') ? \"16\" : \"15\";\n@@ -464,0 +464,8 @@\n+        \"macosx-aarch64\": {\n+            target_os: \"macosx\",\n+            target_cpu: \"aarch64\",\n+            dependencies: [\"devkit\", \"gtest\"],\n+            configure_args: concat(common.configure_args_64bit, \"--with-zlib=system\",\n+                \"--with-macosx-version-max=11.00.00\"),\n+        },\n+\n@@ -574,1 +582,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\" ].forEach(function (name) {\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\" ].forEach(function (name) {\n@@ -663,1 +671,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"windows-x64\" ]\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\", \"windows-x64\" ]\n@@ -696,0 +704,4 @@\n+        \"macosx-aarch64\": {\n+            platform: \"osx-aarch64\",\n+            jdk_subdir: \"jdk-\" + data.version + \".jdk\/Contents\/Home\",\n+        },\n@@ -863,1 +875,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"windows-x64\" ]\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\", \"windows-x64\" ]\n@@ -883,1 +895,1 @@\n-    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\" ].forEach(function (name) {\n+    [ \"linux-aarch64\", \"linux-x64\", \"macosx-x64\", \"macosx-aarch64\" ].forEach(function (name) {\n@@ -995,2 +1007,5 @@\n-            environment_path: input.get(\"devkit\", \"install_path\")\n-                + \"\/Xcode.app\/Contents\/Developer\/usr\/bin\"\n+            dependencies: [ \"lldb\" ],\n+            environment_path: [\n+                input.get(\"gnumake\", \"install_path\") + \"\/bin\",\n+                input.get(\"lldb\", \"install_path\") + \"\/Xcode.app\/Contents\/Developer\/usr\/bin\",\n+            ],\n@@ -1051,1 +1066,1 @@\n-        macosx_x64: \"Xcode11.3.1-MacOSX10.15+1.1\",\n+        macosx: \"Xcode12.4+1.0\",\n@@ -1064,0 +1079,2 @@\n+    } else if (input.target_os == \"macosx\") {\n+        devkit_platform = \"macosx\";\n@@ -1083,7 +1100,12 @@\n-\n-    var makeBinDir = (input.build_os == \"windows\"\n-        ? input.get(\"gnumake\", \"install_path\") + \"\/cygwin\/bin\"\n-        : input.get(\"gnumake\", \"install_path\") + \"\/bin\");\n-\n-    var dependencies = {\n-        boot_jdk: {\n+    var boot_jdk;\n+    if (boot_jdk_platform == 'osx-aarch64') {\n+        boot_jdk = {\n+            organization: common.organization,\n+            ext: \"tar.gz\",\n+            module: \"jdk-macosx_aarch64\",\n+            revision: \"16+1.0-beta1\",\n+            configure_args: \"--with-boot-jdk=\" + common.boot_jdk_home,\n+            environment_path: common.boot_jdk_home + \"\/bin\"\n+        }\n+    } else {\n+        boot_jdk = {\n@@ -1098,1 +1120,9 @@\n-        },\n+        }\n+    }\n+\n+    var makeBinDir = (input.build_os == \"windows\"\n+        ? input.get(\"gnumake\", \"install_path\") + \"\/cygwin\/bin\"\n+        : input.get(\"gnumake\", \"install_path\") + \"\/bin\");\n+\n+    var dependencies = {\n+        boot_jdk: boot_jdk,\n@@ -1117,0 +1147,7 @@\n+        lldb: {\n+            organization: common.organization,\n+            ext: \"tar.gz\",\n+            module: \"devkit-macosx\" + (input.build_cpu == \"x64\" ? \"_x64\" : \"\"),\n+            revision: (input.build_cpu == \"x64\" ? \"Xcode11.3.1-MacOSX10.15+1.1\" : devkit_platform_revisions[devkit_platform])\n+        },\n+\n@@ -1142,2 +1179,1 @@\n-            \/\/ Until an official build of JCov is available, use custom\n-            \/\/ build to support classfile version 60.\n+            \/\/ Use custom build of JCov\n@@ -1151,1 +1187,1 @@\n-            revision: \"3.0-60-support+1.0\",\n+            revision: \"3.0-7-jdk-asm+1.0\",\n","filename":"make\/conf\/jib-profiles.js","additions":56,"deletions":20,"binary":false,"changes":76,"status":"modified"}]}